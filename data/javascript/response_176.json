[{"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 2, "creation_date": 1527119873, "post_id": 50499016, "comment_id": 88010882, "body": "Fun side fact: i flagged another question as the same duplicate like 5 minutes ago"}, {"owner": {"reputation": 1739, "user_id": 826402, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZPWp8.jpg?s=128&g=1", "display_name": "nAviD", "link": "https://stackoverflow.com/users/826402/navid"}, "edited": false, "score": 0, "creation_date": 1527123322, "post_id": 50499016, "comment_id": 88011564, "body": "The duplicate answer is not satisfying. A fast answer would be : let myBranch=   eval(branchString.replace(/\\./gm,&#39;&quot;][&quot;&#39;).replace(/\\&quot;]&#91;/,&zwnj;&#8203;&#39;[&#39;)+&#39;&quot;]&#39;);"}], "owner": {"reputation": 721, "user_id": 2261056, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/518b6276857cbabf580b3e46875543e9?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/2261056/anonymous"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1527119872, "answer_count": 0, "score": 0, "last_activity_date": 1527119588, "creation_date": 1527119588, "question_id": 50499016, "link": "https://stackoverflow.com/questions/50499016/access-variable-property-by-name-as-string-in-n-dimensional-object", "closed_reason": "Duplicate", "title": "Access variable property by name as string in n-dimensional object", "body": "<p>I have a multi-dimensional object <code>data</code>, and I want to fetch a given branch of it via a string. Example:</p>\n\n<pre><code>data = {\n    title: 'Hi',\n    topics: {\n        title: 'Yey',\n        general: {       \n            topics: {\n            description: 'Desc'\n        }\n    }\n}\n</code></pre>\n\n<p>The dimensions of the object are variable. What I want is to be able to import the whole object, and then dynamically pick the branch I want, like so:</p>\n\n<pre><code>import data from './dataFile'\n\nlet branchString = 'data.topics.general'\nlet myBranch = data + branchString // this obviously doesn't work\n</code></pre>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "google-sheets-api"], "comments": [{"owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1527119974, "post_id": 50499012, "comment_id": 88010907, "body": "Hi Spurz! Welcome to Stack Overflow :) What was the error that you got when you typed that in?"}, {"owner": {"reputation": 11, "user_id": 9837559, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Spurz", "link": "https://stackoverflow.com/users/9837559/spurz"}, "reply_to_user": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1527120233, "post_id": 50499012, "comment_id": 88010964, "body": "Error You do not have permission to call setValues (line 7)."}, {"owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1527120464, "post_id": 50499012, "comment_id": 88011016, "body": "Okay! If you add that error message into your answer, it may help people who see this question to help you. I have enough reputation on this site that they asked me to help set you up since you&#39;re a new user, but unfortunately I don&#39;t have enough experience with Google Sheets to answer your question :(     If you do have more questions on how to improve your question or how the site works, feel free to comment below and I&#39;ll try to help."}, {"owner": {"reputation": 11, "user_id": 9837559, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Spurz", "link": "https://stackoverflow.com/users/9837559/spurz"}, "reply_to_user": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1527120627, "post_id": 50499012, "comment_id": 88011043, "body": "I may be trying to cram an ould-school thought process into a place where there is a simpler solution.  What I am hoping to do is return the row number of the active cell as it moves around (i.e. using a function in cell a1 that tells me the row of the active cell as it moves around."}, {"owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1527120735, "post_id": 50499012, "comment_id": 88011061, "body": "Have you found <a href=\"https://productforums.google.com/d/msg/docs/hZDDuQpCNGE/7IkLBlSddXEJ\" rel=\"nofollow noreferrer\">this</a>? Did it help?"}, {"owner": {"reputation": 11, "user_id": 9837559, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Spurz", "link": "https://stackoverflow.com/users/9837559/spurz"}, "reply_to_user": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 1, "creation_date": 1527121160, "post_id": 50499012, "comment_id": 88011135, "body": "I edited my original post to include the error message."}, {"owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1527121221, "post_id": 50499012, "comment_id": 88011147, "body": "Did the link I found help at all? I&#39;ll repaste it here: <a href=\"https://productforums.google.com/d/msg/docs/hZDDuQpCNGE/7IkLBlSddXEJ\" rel=\"nofollow noreferrer\">productforums.google.com/d/msg/docs/hZDDuQpCNGE/7IkLBlSddXEJ</a>"}, {"owner": {"reputation": 11, "user_id": 9837559, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Spurz", "link": "https://stackoverflow.com/users/9837559/spurz"}, "reply_to_user": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1527121610, "post_id": 50499012, "comment_id": 88011227, "body": "It did not, I need the data for the active cell but in a separate cell."}, {"owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1527121936, "post_id": 50499012, "comment_id": 88011293, "body": "Does <code>SpreadsheetApp.getActiveSpreadsheet.getActiveSheet().getActi&zwnj;&#8203;veCell().getValue()</code> work? (This is from the same thread I linked to, just a <a href=\"https://productforums.google.com/d/msg/docs/hZDDuQpCNGE/gklWOpJagcEJ\" rel=\"nofollow noreferrer\">different response</a>)"}, {"owner": {"reputation": 11, "user_id": 9837559, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Spurz", "link": "https://stackoverflow.com/users/9837559/spurz"}, "reply_to_user": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1527130793, "post_id": 50499012, "comment_id": 88013189, "body": "Sorry I had to step away but that one gives me:  TypeError: Cannot find function getActiveSheet in object function getActiveSpreadsheet() {/* */}. (line 2, file &quot;Code&quot;)"}, {"owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1527131247, "post_id": 50499012, "comment_id": 88013285, "body": "Looks like that code was missing a set of parentheses. Does <code>SpreadsheetApp.getActiveSpreadsheet().getActiveSheet().getAc&zwnj;&#8203;tiveCell().getValue(&zwnj;&#8203;)</code> work?"}, {"owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1527131355, "post_id": 50499012, "comment_id": 88013305, "body": "(Also, you can put a backtick before and after your code, and it will make it look nice. For example, <code>this has a backtick before it and after it</code>, and `this only has a back tick before it.)"}, {"owner": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1527131470, "post_id": 50499012, "comment_id": 88013324, "body": "The documentation for Google Apps Script is really nice. If you&#39;re not finding what you&#39;re looking for, you could probably search for keywords within the documentation. Here&#39;s the class returned by the function <code>SpreadsheetApp.getActiveSpreadsheet()</code>: <a href=\"https://developers.google.com/apps-script/reference/spreadsheet/spreadsheet\" rel=\"nofollow noreferrer\">developers.google.com/apps-script/reference/spreadsheet/&hellip;</a>"}, {"owner": {"reputation": 11, "user_id": 9837559, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Spurz", "link": "https://stackoverflow.com/users/9837559/spurz"}, "reply_to_user": {"reputation": 2677, "user_id": 5049813, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/24c885a2c774f7375807e048793cffa3?s=128&d=identicon&r=PG&f=1", "display_name": "Pro Q", "link": "https://stackoverflow.com/users/5049813/pro-q"}, "edited": false, "score": 0, "creation_date": 1527132996, "post_id": 50499012, "comment_id": 88013634, "body": "Thanks for the Google Apps Script reference.  I&#39;ll read through there and see what I can find."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 9837559, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Spurz", "link": "https://stackoverflow.com/users/9837559/spurz"}, "edited": false, "score": 0, "creation_date": 1527216682, "post_id": 50505943, "comment_id": 88053855, "body": "Thanks for the sample code.  It works as you describe.  I&#39;ll work through it to see if I can modify it for what I need.  Good information!"}], "tags": [], "owner": {"reputation": 15264, "user_id": 6143482, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MD37S.jpg?s=128&g=1", "display_name": "noogui", "link": "https://stackoverflow.com/users/6143482/noogui"}, "is_accepted": false, "score": 1, "last_activity_date": 1527154679, "creation_date": 1527154679, "answer_id": 50505943, "question_id": 50499012, "link": "https://stackoverflow.com/questions/50499012/return-row-of-the-active-cell-in-google-sheets/50505943#50505943", "title": "Return row of the active cell in google sheets", "body": "<p>Here's a sample code for you.</p>\n\n<pre><code>function onOpen() {\n  var ss = SpreadsheetApp.getActiveSpreadsheet();\n\n  var getActiveRow = [{name: \"getActiveRow\", functionName: \"fetchActiveRow\"}];\n     ss.addMenu(\"customMenu\", getActiveRow);\n};\n\nfunction fetchActiveRow(){ \n     var ss = SpreadsheetApp.getActiveSpreadsheet();\n     var row = ss.getActiveSheet().getActiveRange().getRow();\n\n     var ui = SpreadsheetApp.getUi();\n     var response = ui.alert(\"active row is \" + row);\n}\n</code></pre>\n\n<p>This creates a custom menu button on your spreadsheet named <strong>customMenu</strong> which contains <strong>getActiveRow</strong> button. When clicked, it will prompt you of the current active row in the sheet. Try it and modify as you please.</p>\n"}], "owner": {"reputation": 11, "user_id": 9837559, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Spurz", "link": "https://stackoverflow.com/users/9837559/spurz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4197, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1527154679, "creation_date": 1527119558, "last_edit_date": 1527146298, "question_id": 50499012, "link": "https://stackoverflow.com/questions/50499012/return-row-of-the-active-cell-in-google-sheets", "title": "Return row of the active cell in google sheets", "body": "<p>I am trying to return the row of the active cell in google sheets so I can use it in another the formula of another cell.  I have found several simple scripts that supposedly do this but have not been able to get any of the to work.  I apologize in advance for my lack of understanding in the scripting environment.  I do very little programming and my past experience was 25+ years ago (not much has changed since then, right???).  Anyway, any help that you can give me would e greatly appreciated.  I have found this:</p>\n\n<pre><code>function GetActiveRow() {\n  var ss = SpreadsheetApp.getActiveSpreadsheet();\n  var s = ss.getActiveSheet();\n  var range = s.getActiveRange();\n  var row = range.getRow(); \n  var values = s.getRange( row + ':' + row ).getValues();  \n  s.getRange('A1').offset(0, 0, 1, values[0].length).setValues(values);\n}\n</code></pre>\n\n<p>But when I enter that in as a script and try the formula =GetActiveRow() it returns an error that states:</p>\n\n<blockquote>\n  <p>Error You do not have permission to call setValues (line 7)</p>\n</blockquote>\n\n<p>I probably shouldn't be playing in the scripting area without a better understanding of it but this is the only simple script I need.  Any help is greatly appreciated.</p>\n"}, {"tags": ["javascript", "arrays", "for-loop"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 9, "creation_date": 1527119590, "post_id": 50499002, "comment_id": 88010829, "body": "Use <code>Promise.all()</code>."}, {"owner": {"reputation": 1164, "user_id": 8448272, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-afLfUzleOtM/AAAAAAAAAAI/AAAAAAAAAdA/ECGtYMyfPvA/photo.jpg?sz=128", "display_name": "jmkmay", "link": "https://stackoverflow.com/users/8448272/jmkmay"}, "edited": false, "score": 0, "creation_date": 1527124361, "post_id": 50499002, "comment_id": 88011786, "body": "Working on a response to your question, but please please please take some time to learn proper code formatting standards. It will save you and those around you many headaches!"}, {"owner": {"reputation": 169, "user_id": 9837436, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ypfgUwQ6ZLg/AAAAAAAAAAI/AAAAAAAABZ8/TulbyGRj-uA/photo.jpg?sz=128", "display_name": "lmc", "link": "https://stackoverflow.com/users/9837436/lmc"}, "edited": false, "score": 0, "creation_date": 1527127567, "post_id": 50499002, "comment_id": 88012474, "body": "lol sorry. Second day on javascript. Used to work with python mostly so please forgive all my terrible js formatting!"}], "answers": [{"tags": [], "owner": {"reputation": 4172, "user_id": 3508956, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/umLTo.jpg?s=128&g=1", "display_name": "laptou", "link": "https://stackoverflow.com/users/3508956/laptou"}, "is_accepted": true, "score": 2, "last_activity_date": 1527162900, "last_edit_date": 1527162900, "creation_date": 1527134900, "answer_id": 50500798, "question_id": 50499002, "link": "https://stackoverflow.com/questions/50499002/how-to-wait-for-promises-in-a-for-loop-to-complete-before-returning-the-value/50500798#50500798", "title": "How to wait for promises in a for loop to complete before returning the value", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str_list = [\"...\"];\r\n\r\nlet myFunction = async () =&gt;\r\n{\r\n    const promises = [];\r\n    for (i = 0; i &lt; length; i++)\r\n    {\r\n        promises.push(new Promise((resolve, reject) =&gt;\r\n        {\r\n            const condition = // ...\r\n            resolve(condition ? str_list[i] : false);\r\n        }));\r\n    }\r\n\r\n    return (await Promise.all(promises)).filter(f =&gt; f !== false);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Try this. Essentially, what it does is that it adds all of the Promises to an array, and then calls <code>Promise.all</code> on them, which executes them in parallel and waits for all of them to finish.</p>\n\n<p>The results are then returned in order, those results being what was passed into the <code>resolve()</code> function in each <code>Promise</code>, and will be either <code>str_list[i]</code> or <code>false</code>. Then, the call to <code>filter()</code> removes all of the entries that are <code>false</code>.</p>\n\n<p>If you care about being concise, then this can be greatly simplified:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str_list = [\"...\"];\r\n\r\nlet myFunction = async () =&gt;\r\n{\r\n    const promises = str_list.map(async (value, index) =&gt; condition ? value : false);\r\n\r\n    return (await Promise.all(promises)).filter(f =&gt; f !== false);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This code works the same way as the first snippet; it's just much shorter.</p>\n\n<p>I made the method <code>async</code> because there is no way to return the results of a <code>Promise</code> without <code>await</code>ing it. If you don't want to use an <code>async</code> method, you can either return a <code>Promise</code>, which you can then wait on with <code>await</code> or <code>.then()</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str_list = [\"...\"];\r\n\r\nlet myFunction = () =&gt; {\r\n  const promises = [];\r\n  for (i = 0; i &lt; length; i++) {\r\n    promises.push(new Promise((resolve, reject) =&gt; {\r\n      const condition = // ...\r\n        resolve(condition ? str_list[i] : false);\r\n    }));\r\n  }\r\n\r\n  return Promise.all(promises).then(strs =&gt; strs.filter(f =&gt; f !== false));\r\n}\r\n\r\n// myFunction().then(results =&gt; ...)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or you can use a callback:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var str_list = [\"...\"];\r\n\r\nlet myFunction = (callback) =&gt;\r\n{\r\n    const promises = [];\r\n    for (i = 0; i &lt; length; i++)\r\n    {\r\n        promises.push(new Promise((resolve, reject) =&gt;\r\n        {\r\n            const condition = // ...\r\n            resolve(condition ? str_list[i] : false);\r\n        }));\r\n    }\r\n\r\n    return Promise.all(promises).then(results =&gt; callback(results.filter(f =&gt; f !== false));\r\n}\r\n\r\n// myFunction(results =&gt; ...);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 169, "user_id": 9837436, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ypfgUwQ6ZLg/AAAAAAAAAAI/AAAAAAAABZ8/TulbyGRj-uA/photo.jpg?sz=128", "display_name": "lmc", "link": "https://stackoverflow.com/users/9837436/lmc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2541, "favorite_count": 0, "accepted_answer_id": 50500798, "answer_count": 1, "score": 2, "last_activity_date": 1527162900, "creation_date": 1527119431, "last_edit_date": 1527134416, "question_id": 50499002, "link": "https://stackoverflow.com/questions/50499002/how-to-wait-for-promises-in-a-for-loop-to-complete-before-returning-the-value", "title": "How to wait for promises in a for loop to complete before returning the value", "body": "<p>I have a for loop in which each iteration runs a promise and adds the index of the promise to the array if the promise is resolved, and in the end, I want to output the resulted array. However, the function keeps returning the array before completing all the promises in the for loop. As a result, I always get an empty returned array.</p>\n\n<p>My code looks like this:  </p>\n\n<pre><code>var str_list = [some strings];\n\nlet myFunction = () =&gt; {\n    var array = [];\n    for (i = 0; i &lt; length; i++) {\n        new Promise((resolve, reject) =&gt; {\n            if (str_list[i] fulfills some conditions) {\n                resolve();\n            } else {\n                reject(\n                    throw new Error())\n            }\n        }).then(() =&gt; {\n            array.push(i);\n        }).catch((err) =&gt; {\n            console.log(i, err);\n        });\n    }\n    return array;\n}\n</code></pre>\n\n<p>Is there a good way to wait for the for loop to complete before returning the value?</p>\n"}, {"tags": ["javascript", "firebase", "routing", "firebase-authentication"], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 3180490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oJHVa.jpg?s=128&g=1", "display_name": "Muzammil Khaja Mohammed", "link": "https://stackoverflow.com/users/3180490/muzammil-khaja-mohammed"}, "is_accepted": false, "score": 0, "last_activity_date": 1538632731, "creation_date": 1538632731, "answer_id": 52639948, "question_id": 50498961, "link": "https://stackoverflow.com/questions/50498961/restrict-routes-in-javascript-based-on-firebase-authentication/52639948#52639948", "title": "Restrict Routes in Javascript based on firebase authentication", "body": "<p>You should be using onViewChange/onRouteChanged events &amp; also exclude the landing route avoid circular loop. onRouteBeforeChange event is intended to notify the route is about to change, so that if any clean up operation can be done.</p>\n\n<pre><code>$.router.onViewChange(function(e, viewRoute, route, params){\n    firebase.auth().onAuthStateChanged(function(user){\n        if(!user &amp;&amp; route.name !== \"landing\" &amp;&amp; route.protected) {\n            $.router.go('landing', {}); &lt;!-- This line calls the plugin.\n        }\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 7366018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6c463aeae07b20548a3a3139c4e1570?s=128&d=identicon&r=PG&f=1", "display_name": "user7366018", "link": "https://stackoverflow.com/users/7366018/user7366018"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538632731, "creation_date": 1527119069, "last_edit_date": 1527159854, "question_id": 50498961, "link": "https://stackoverflow.com/questions/50498961/restrict-routes-in-javascript-based-on-firebase-authentication", "title": "Restrict Routes in Javascript based on firebase authentication", "body": "<p>I am building a javascript Application. This application is using a plugin called <code>jq-router</code>. When I do something like the following, the address bar changes but the view fails to change.</p>\n\n<pre><code>$.router.onRouteBeforeChange(function(e, route, params){\n    firebase.auth().onAuthStateChanged(function(user){\n        if(!user &amp;&amp; route.protected) {\n            $.router.go('landing', {}); &lt;!-- This line calls the plugin.\n        }\n    });\n});\n</code></pre>\n\n<p>The function in the plugin that is called above looks like the following. </p>\n\n<pre><code>/**\n * Navigates to given route name &amp; params\n * @params {string} routeName\n * @params {object} params\n * @return {object} this\n */\ns.go = function(routeName, params) {\n    var s = this;\n    paramSrv.setParams(params);\n    window.location = s.href(routeName, params);\n    return s;\n};\n</code></pre>\n\n<p>You can access the entire plugin here: <a href=\"https://github.com/muzammilkm/jq-router\" rel=\"nofollow noreferrer\">https://github.com/muzammilkm/jq-router</a></p>\n\n<p>Again, expected result is that the view and the address bar update. Currently the only thing updating is the address bar, the view still renders.</p>\n"}, {"tags": ["javascript", "node.js", "express", "promise"], "comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1527119595, "post_id": 50498932, "comment_id": 88010833, "body": "Which DB library are you using? Many require you to pass a callback <b>OR</b> receive a promise. It looks like you are expecting a promise while also passing a callback. Are you sure your lib supports that? Also, you need to return the promise from your <code>map()</code> callback. You&#39;re currently making an array of undefined values and passing it to <code>Promise.all</code>"}, {"owner": {"reputation": 7690, "user_id": 861885, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a084b6f0c524494e7783f6abe6c4911?s=128&d=identicon&r=PG", "display_name": "Ebrahim Pasbani", "link": "https://stackoverflow.com/users/861885/ebrahim-pasbani"}, "edited": false, "score": 0, "creation_date": 1527119811, "post_id": 50498932, "comment_id": 88010872, "body": "You need to close <code>)</code> of <code>then</code> before <code>catch</code>"}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1527370646, "post_id": 50498932, "comment_id": 88105087, "body": "Why did you not respond to questions asked here two days ago?  As Mark_M asked, in order to use promises optimally with your <code>pool.query()</code> database call, we need to know what database it is so we can properly use the promise interface to that specific API call."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1527370965, "post_id": 50498932, "comment_id": 88105151, "body": "In addition, the <code>.then()</code> and <code>.catch()</code> handlers are not written correctly.  You need to pass them a function reference, not a block of code."}], "answers": [{"tags": [], "owner": {"reputation": 2266, "user_id": 6680253, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/7rPyV.png?s=128&g=1", "display_name": "leogoesger", "link": "https://stackoverflow.com/users/6680253/leogoesger"}, "is_accepted": false, "score": 0, "last_activity_date": 1527120875, "creation_date": 1527120875, "answer_id": 50499160, "question_id": 50498932, "link": "https://stackoverflow.com/questions/50498932/how-to-implement-nested-loop-with-promise-map/50499160#50499160", "title": "How to implement nested loop with promise map", "body": "<p>I would create an array to hold all your async requests. So</p>\n\n<pre><code>const promises = [];\npromises.push(async request 1);\npromises.push(async request 2);\n...\n\nPromise.all(promises).then(result =&gt; {\n // do something ...\n})\n</code></pre>\n\n<p>I would also refactor the code a bit to use async/await to remove some of those brackets. It is hard to read with all those nested promises.</p>\n"}], "owner": {"reputation": 37, "user_id": 9719282, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/374b632db6e9e9250925f976f7d4c6e1?s=128&d=identicon&r=PG&f=1", "display_name": "jordie_f", "link": "https://stackoverflow.com/users/9719282/jordie-f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 121, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1527120875, "creation_date": 1527118857, "last_edit_date": 1527119284, "question_id": 50498932, "link": "https://stackoverflow.com/questions/50498932/how-to-implement-nested-loop-with-promise-map", "title": "How to implement nested loop with promise map", "body": "<p>I have code like this:</p>\n\n<pre><code>Promise.all(venue.map(venue =&gt; {\n    return Promise.all(concat_all.map(tgl =&gt; {\n        pool.query(\"INSERT INTO peminjaman_venue VALUES (?,?,?,?,?,?,?,?,?,?,?)\",\n            [id_event, venue, nama_lengkap_peminjam, jabatan_nim_peminjam, jumlah_personel,\n                id_google_calendar, waktu_mulai_rutin, waktu_selesai_rutin, tgl,\n                tgl, fasilitas_lain],\n            function (err, rows, fields) {\n                if (err) throw err;\n            })\n    }))\n}).then(\n    req.flash('message_success', 'Berhasil mengajukan event'),\n    res.redirect('/pengajuan_event'))\n    .catch(\n    req.flash('message_err', 'Gagal mengajukan event'),\n    res.redirect('/pengajuan_event')\n    ))\n</code></pre>\n\n<p>The code returns error Can't set header after they are sent, that indicates the res.redirect() is called multiple times. But the code works. The data inserted to the db successfully. I changed the code below and the code just doesnt work at all.</p>\n\n<pre><code>Promise.all(venue.map(venue =&gt; {\n    return Promise.all(concat_all.map(tgl =&gt; {\n        pool.query(\"INSERT INTO peminjaman_venue VALUES (?,?,?,?,?,?,?,?,?,?,?)\",\n            [id_event, venue, nama_lengkap_peminjam, jabatan_nim_peminjam, jumlah_personel,\n                id_google_calendar, waktu_mulai_rutin, waktu_selesai_rutin, tgl,\n                tgl, fasilitas_lain],\n            function (err, rows, fields) {\n                if (err) throw err;\n            })\n    }))\n}).then(() = &gt;{\n    req.flash('message_success', 'Berhasil mengajukan event')\n    res.redirect('/pengajuan_event'))\n    }\n\n    .catch((err) =&gt; {\n    req.flash('message_err', 'Gagal mengajukan event')\n    res.redirect('/pengajuan_event')\n    }\n    )\n)\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 3186, "user_id": 4871483, "user_type": "registered", "accept_rate": 45, "profile_image": "https://lh5.googleusercontent.com/-HMwbAOtRjY4/AAAAAAAAAAI/AAAAAAAABQk/jXK1QQ0bfqw/photo.jpg?sz=128", "display_name": "ytpillai", "link": "https://stackoverflow.com/users/4871483/ytpillai"}, "edited": false, "score": 0, "creation_date": 1527118907, "post_id": 50498922, "comment_id": 88010674, "body": "Welcome to StackOverflow! Please ask only <a href=\"https://meta.stackexchange.com/questions/222735/can-i-ask-only-one-question-per-post\">one question per post</a> as per StackOverflow guidelines."}, {"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1527119061, "post_id": 50498922, "comment_id": 88010720, "body": "<code>escape()</code> is deprecated, it is entirely possible to tweet the current page, and you really should be using AJAX to post to the Twitter API rather than opening up a Twitter window."}], "owner": {"reputation": 41, "user_id": 9151138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9680a9022d3aed6ea97859e1c5d0fd2f?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick Ben", "link": "https://stackoverflow.com/users/9151138/patrick-ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527122088, "creation_date": 1527118766, "last_edit_date": 1527122088, "question_id": 50498922, "link": "https://stackoverflow.com/questions/50498922/sharing-content-via-twitter-url-not-working", "title": "Sharing content via Twitter URL not working", "body": "<p>Im currently using a JS that I found on a related question, but i'm currently facing two problems.</p>\n\n<p>First: The anchor is not working on Firefox, it simply pops a blank page. \nNote: It works in Chrome and Edge</p>\n\n<p>The second problem, which is not really a problem but a preference. Is it possible to not tweet the current URL where the button is being clicked?</p>\n\n<p>Thanks so much advance for any tips</p>\n\n<pre><code>var twitterUsuario = 'User';\n\nfunction tweetCurrentPage() {\n    window.open('https://twitter.com/share?url='+escape(window.location.href)+'&amp;text='+ document.getElementById('suNombre').innerHTML + ' tengo un mensaje muy importante para ti ' + 'desde @' + twitterUsuario, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=300,width=600');    return false; \n}\n\n&lt;a href=\"javascript:tweetCurrentPage()\" target=\"_blank\" alt=\"Tweet this\"&gt;&lt;span&gt;Tweet&lt;/span&gt;&lt;/a&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "oauth-2.0", "instagram-api", "fetch-api"], "comments": [{"owner": {"reputation": 2352, "user_id": 6172657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmVGi.jpg?s=128&g=1", "display_name": "Reed Dunkle", "link": "https://stackoverflow.com/users/6172657/reed-dunkle"}, "edited": false, "score": 1, "creation_date": 1527122852, "post_id": 50498907, "comment_id": 88011477, "body": "Can you clarify what the expected behavior is vs what the actual behavior is? What is <code>onLoginClick()</code> supposed to do?"}, {"owner": {"reputation": 1647, "user_id": 4775199, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/G2GY0.jpg?s=128&g=1", "display_name": "Kyle Calica-St", "link": "https://stackoverflow.com/users/4775199/kyle-calica-st"}, "reply_to_user": {"reputation": 2352, "user_id": 6172657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmVGi.jpg?s=128&g=1", "display_name": "Reed Dunkle", "link": "https://stackoverflow.com/users/6172657/reed-dunkle"}, "edited": false, "score": 0, "creation_date": 1527178588, "post_id": 50498907, "comment_id": 88040298, "body": "thre&#39;s a button to click that triggers <code>onLoginClick()</code>, it should could the Instagram API and receive back a response with the access token. It seems to only work when you make a <code>window.location.href</code>. I was hoping to just have it return the proper response similar to an AJAX call that wouldn&#39;t require a reload of the whole page."}], "answers": [{"tags": [], "owner": {"reputation": 825, "user_id": 2405566, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jlYb8.jpg?s=128&g=1", "display_name": "David J", "link": "https://stackoverflow.com/users/2405566/david-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1528310378, "creation_date": 1528310378, "answer_id": 50727390, "question_id": 50498907, "link": "https://stackoverflow.com/questions/50498907/implicit-oauth-doesnt-redirect-or-provide-call-back-url-when-using-fetchapi/50727390#50727390", "title": "Implicit OAuth doesn&#39;t redirect or provide call back url when using FetchAPI", "body": "<p>The reason is because the token is not going to be in the response data it is in the returned header. If authentication is successful Instagram issues a redirect in the header. This redirect has the access token in it. </p>\n\n<p>When you use window.location.href, you are telling the browser to do it's job and it will forward to the redirect and hence include the access token.</p>\n\n<p>If you want the token without forwarding, then look in data.headers. I've not used JS to fetch, so I'm not sure the exact name of the header. Probably \"redirect\". Try:</p>\n\n<pre><code>console.log(data.headers);\n</code></pre>\n"}], "owner": {"reputation": 1647, "user_id": 4775199, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/G2GY0.jpg?s=128&g=1", "display_name": "Kyle Calica-St", "link": "https://stackoverflow.com/users/4775199/kyle-calica-st"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 381, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1528310378, "creation_date": 1527118655, "last_edit_date": 1527129712, "question_id": 50498907, "link": "https://stackoverflow.com/questions/50498907/implicit-oauth-doesnt-redirect-or-provide-call-back-url-when-using-fetchapi", "title": "Implicit OAuth doesn&#39;t redirect or provide call back url when using FetchAPI", "body": "<p>I'm using the Fetch API to trigger the <a href=\"https://www.instagram.com/developer/authentication/\" rel=\"nofollow noreferrer\">implicit login flow for the Instagram API</a> in my component. </p>\n\n<p>However my code returns a <code>force_login</code> URL in its response (which was a 200 status). </p>\n\n<p>I only receive the access token when my I change my code from this: </p>\n\n<pre><code>  onLoginClick(){\n    //https://api.instagram.com/oauth/authorize/?client_id=CLIENT-ID&amp;redirect_uri=REDIRECT-URI&amp;response_type=token\n    var resource = instagramAPI+\"?client_id=\"+this.props.clientId+\"&amp;redirect_uri=\"+this.props.redirect_uri+\"&amp;response_type=\"+this.props.type;\n    fetch(resource)\n    .then(function(data){\n      console.log(\"fetched the data!\")\n      console.log(data.url);\n      //window.location.href=data.url;\n    })\n    .catch(function(error){\n      console.log(error);\n    })\n  }\n</code></pre>\n\n<p>\u2026to this: </p>\n\n<pre><code>  onLoginClick(){\n    //https://api.instagram.com/oauth/authorize/?client_id=CLIENT-ID&amp;redirect_uri=REDIRECT-URI&amp;response_type=token\n    var resource = instagramAPI+\"?client_id=\"+this.props.clientId+\"&amp;redirect_uri=\"+this.props.redirect_uri+\"&amp;response_type=\"+this.props.type;\n    fetch(resource)\n    .then(function(data){\n      console.log(\"fetched the data!\")\n      console.log(data.url);\n      window.location.href=data.url;\n    })\n    .catch(function(error){\n      console.log(error);\n    })\n  }\n</code></pre>\n\n<p><strong><em>Why do I need to add the <code>window.location.href=data.url;</code> line? \nWhy am I not able to run <code>fetch</code> on <code>data.url</code> and have the URL token populated in the response data?</em></strong></p>\n"}, {"tags": ["javascript", "angular", "typescript", "angular-services", "angular-http"], "comments": [{"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527118951, "post_id": 50498892, "comment_id": 88010687, "body": "I think you need to use .subscribe instead of .map, as detailed in the Angular documentation <a href=\"https://angular.io/guide/http#getting-json-data\" rel=\"nofollow noreferrer\">angular.io/guide/http#getting-json-data</a>. Let me know if that helps"}], "answers": [{"tags": [], "owner": {"reputation": 183792, "user_id": 1749403, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/g0aFU.png?s=128&g=1", "display_name": "Sajeetharan", "link": "https://stackoverflow.com/users/1749403/sajeetharan"}, "is_accepted": true, "score": 3, "last_activity_date": 1527128077, "last_edit_date": 1527128077, "creation_date": 1527126286, "answer_id": 50499730, "question_id": 50498892, "link": "https://stackoverflow.com/questions/50498892/res-json-does-not-exist/50499730#50499730", "title": "res.json() does not exist", "body": "<p>With HttpClient (Angular 4.3+), you do not have to use res.json() , the response object is JSON by default, Just use response directly.</p>\n\n<pre><code>return this.http.post(loginUrl, user, {\n      headers: headers\n    }).map((res: Response) =&gt; res);\n</code></pre>\n"}], "owner": {"reputation": 413, "user_id": 7463546, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh4.googleusercontent.com/-R3RIEPVGq-A/AAAAAAAAAAI/AAAAAAAAAdc/OGs3WSxT96A/photo.jpg?sz=128", "display_name": "NashPL", "link": "https://stackoverflow.com/users/7463546/nashpl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 269, "favorite_count": 0, "closed_date": 1527153061, "accepted_answer_id": 50499730, "answer_count": 1, "score": 1, "last_activity_date": 1527238354, "creation_date": 1527118591, "last_edit_date": 1527238354, "question_id": 50498892, "link": "https://stackoverflow.com/questions/50498892/res-json-does-not-exist", "closed_reason": "Duplicate", "title": "res.json() does not exist", "body": "<p>I am trying to create a simple post in a service class using Angular/Typescript\nMy IDE does not give me any error, but when I call the function, I am getting undefined. I am not sure where the problem is based. I did some research, and it seems like the problem might be with the HttpClient I am importing, but I can not find anything relevant. </p>\n\n<p>Front-end Function: </p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders} from '@angular/common/http';\nimport { Response } from '@angular/http';\nimport 'rxjs/add/operator/map';\n\n@Injectable()\nexport class ServiceClassAuth {\n  auth: any;\n  user: any;\n  constructor(private http: HttpClient) {}\n\n  signinUser(user) {}\n\n  login(user) {\n    let headers = new HttpHeaders();\n    headers.append('Content-Type', 'application/json');\n    const loginUrl = 'http://localhost:3000/login';\n    return this.http.post(loginUrl, user, {\n      headers: headers\n    }).map((res: Response) =&gt; res.json());\n  }\n}\n</code></pre>\n\n<p>A component which calls the Service: </p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport {\n  MatDialog,\n  MatDialogRef,\n  MAT_DIALOG_DATA\n} from '@angular/material';\nimport { Inject } from '@angular/core';\n\nimport { ServiceClassAuth } from '../service/service-class-auth';\n\n\n@Component({\n  selector: 'app-signin',\n  templateUrl: './signin.component.html',\n  styleUrls: ['./signin.component.css'],\n  providers: [ServiceClassAuth]\n})\nexport class SigninComponent implements OnInit {\n  username: String;\n  password: String;\n\n  ngOnInit() {}\n\n  constructor(\n    public dialogRef: MatDialogRef &lt; SigninComponent &gt; ,\n    @Inject(MAT_DIALOG_DATA) public data: any,\n    private authService: ServiceClassAuth) {}\n\n  onNoClick(): void {\n    this.dialogRef.close();\n  }\n\n  loginSubmit(postValues): void {\n    const user = {\n      'usr': postValues.value.usrname,\n      'psw': postValues.value.psw\n    }\n\n    const res = this.authService.login(user).subscribe(res =&gt; {\n      if (res.success) {\n\n      } else {\n        //DO ALERT\n      }\n    });\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "twilio"], "comments": [{"owner": {"reputation": 2092, "user_id": 1667130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DSBaC.jpg?s=128&g=1", "display_name": "Bill Doughty", "link": "https://stackoverflow.com/users/1667130/bill-doughty"}, "edited": false, "score": 0, "creation_date": 1527118113, "post_id": 50498785, "comment_id": 88010447, "body": "Include all your code."}, {"owner": {"reputation": 9, "user_id": 4136143, "user_type": "registered", "profile_image": "https://graph.facebook.com/1718081362/picture?type=large", "display_name": "Daniel Sturrock", "link": "https://stackoverflow.com/users/4136143/daniel-sturrock"}, "reply_to_user": {"reputation": 2092, "user_id": 1667130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DSBaC.jpg?s=128&g=1", "display_name": "Bill Doughty", "link": "https://stackoverflow.com/users/1667130/bill-doughty"}, "edited": false, "score": 0, "creation_date": 1527208034, "post_id": 50498785, "comment_id": 88052268, "body": "There&#39;s no code to include, the twilio sdk is hosted so you cant change it, i want to write some code which somehow hooks into their output stream, or into the browser window audio output.  This is the sdk <code>&#47;&#47;media.twiliocdn.com&#47;sdk&#47;js&#47;client&#47;v1.4&#47;twilio.min.js</code>"}, {"owner": {"reputation": 2092, "user_id": 1667130, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DSBaC.jpg?s=128&g=1", "display_name": "Bill Doughty", "link": "https://stackoverflow.com/users/1667130/bill-doughty"}, "edited": false, "score": 0, "creation_date": 1527268253, "post_id": 50498785, "comment_id": 88079877, "body": "It sounds like you&#39;re asking us to write code for you.  See <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."}, {"owner": {"reputation": 61736, "user_id": 43846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/TGOxx.png?s=128&g=1", "display_name": "stuartd", "link": "https://stackoverflow.com/users/43846/stuartd"}, "edited": false, "score": 0, "creation_date": 1572866970, "post_id": 50498785, "comment_id": 103682114, "body": "<a href=\"https://www.twilio.com/blog/live-transcribing-phone-calls-using-twilio-media-streams-and-google-speech-text\" rel=\"nofollow noreferrer\">Live Transcribing Phone Calls using Twilio Media Streams</a>"}], "owner": {"reputation": 9, "user_id": 4136143, "user_type": "registered", "profile_image": "https://graph.facebook.com/1718081362/picture?type=large", "display_name": "Daniel Sturrock", "link": "https://stackoverflow.com/users/4136143/daniel-sturrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527117739, "creation_date": 1527117739, "question_id": 50498785, "link": "https://stackoverflow.com/questions/50498785/twilio-output-stream", "title": "Twilio Output Stream", "body": "<p>Im trying to get the audio output stream from a live Twilio call in Javascript. </p>\n\n<p>We have the audioContext <code>Twilio.Device.audioContext</code> here, and the audioWorklet <code>Twilio.Device.audioContext.audioWorklet</code> here.</p>\n\n<p>Can we use these to somehow grab the speaker audio (what the caller is saying) and then send to webkitSpeechRecognition to live transcript? </p>\n"}, {"tags": ["javascript", "promise"], "comments": [{"owner": {"reputation": 840, "user_id": 3075160, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001707963199/picture?type=large", "display_name": "desoares", "link": "https://stackoverflow.com/users/3075160/desoares"}, "edited": false, "score": 0, "creation_date": 1527117661, "post_id": 50498741, "comment_id": 88010348, "body": "Did you try    var port = await port_promise(); ?"}], "answers": [{"tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": false, "score": 0, "last_activity_date": 1527117702, "creation_date": 1527117702, "answer_id": 50498779, "question_id": 50498741, "link": "https://stackoverflow.com/questions/50498741/trouble-resolving-a-promise/50498779#50498779", "title": "Trouble resolving a promise", "body": "<p>Await does not turn your Promise into synchronous code; it's just a convenient way to sequence together different bits of asynchronous code. Asynchronous functions still have to be awaited themselves or have a <code>.then</code> chained on. <code>get_port</code> is asynchronous.</p>\n\n<pre><code>const getPort = require('get-port');\n\nasync function startServer() {\n  // Somehow get a server\n  var port = await getPort({ port: 16100 });\n  server.listen(port);\n}\n\n// In calling code\nasync function someAsyncFunc {\n  await startServer();\n}\n// or startServer().then(() =&gt; { ... }); if you are outside of an async func\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 391, "user_id": 5865620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CzvJd.jpg?s=128&g=1", "display_name": "Joshua M. Moore", "link": "https://stackoverflow.com/users/5865620/joshua-m-moore"}, "edited": false, "score": 0, "creation_date": 1527125551, "post_id": 50499174, "comment_id": 88011997, "body": "Is there a way to turn asynchronous code into synchronous code without resorting to nesting everything in then()s? My problem is that I need to call <code>module.exports = </code> on one of the objects created with information from the promise."}, {"owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "reply_to_user": {"reputation": 391, "user_id": 5865620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CzvJd.jpg?s=128&g=1", "display_name": "Joshua M. Moore", "link": "https://stackoverflow.com/users/5865620/joshua-m-moore"}, "edited": false, "score": 0, "creation_date": 1527142041, "post_id": 50499174, "comment_id": 88016471, "body": "You can&#39;t convert an asynchronous operation into a synchronous one using JavaScript coding techniques - it&#39;s a contradiction in terms. An API may provide a synchronous version of the same operation, that doesn&#39;t return to the caller until the operation is complete, but it&#39;s not the same thing. Promises allow specifying operations that are to be performed serially by coding each operation in a <code>then</code> callback. They replace <b>nesting</b> callback functions in outer callback back functions that don&#39;t use promises (search term: &quot;callback hell&quot;). Calling<code>module.exports</code> could be a new question."}], "tags": [], "owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "is_accepted": true, "score": 2, "last_activity_date": 1527121302, "last_edit_date": 1527121302, "creation_date": 1527120987, "answer_id": 50499174, "question_id": 50498741, "link": "https://stackoverflow.com/questions/50498741/trouble-resolving-a-promise/50499174#50499174", "title": "Trouble resolving a promise", "body": "<p>Async functions return a <strong>Promise object</strong> that will eventually be resolved by a return value supplied when executing the function body - either by executing a return statement or by executing the last statement in the body and returning <code>undefined</code>.</p>\n\n<p>Async functions <strong>do not</strong> wait for asynchronous operations inside the <code>async</code> function to complete.\nThis is so the code calling the async function can complete and return to the event loop - thereby allowing any outstanding or newly initiated asynchronous operations to proceed.</p>\n\n<p>The <code>await</code> operator calls <code>then</code> on its operand promise, stores the function's execution context, returns to the task manager, get's called back by the <code>then</code> handlers it provided, restores the saved execution context and returns the fulfilled value of its operand as the result of the <code>await</code> operation. Because of the <code>then</code> call back usage, <code>await</code> operations are <em>never</em> evaluated synchronously.</p>\n\n<p>So</p>\n\n<pre><code>var port = get_port();\n</code></pre>\n\n<p>returns a promise to be resolved with a port number. If it is not called within an async function, use a <code>then</code> handler to pick up the port number:</p>\n\n<pre><code>var port = get_port();\nport.then( port=&gt; server.listen(port));\n</code></pre>\n\n<p><hr>\nThe posted code shows an antipattern of creating a promise that is always resolved or rejected by another promise - just return the other promise - and if you always return a promise from an <code>async</code> function with no <code>await</code> usage, it doesn't need to be an <code>async</code> function in the first place.</p>\n"}], "owner": {"reputation": 391, "user_id": 5865620, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/CzvJd.jpg?s=128&g=1", "display_name": "Joshua M. Moore", "link": "https://stackoverflow.com/users/5865620/joshua-m-moore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 50499174, "answer_count": 2, "score": 0, "last_activity_date": 1527121302, "creation_date": 1527117339, "question_id": 50498741, "link": "https://stackoverflow.com/questions/50498741/trouble-resolving-a-promise", "title": "Trouble resolving a promise", "body": "<p>I'm trying to resolve a promise via await, so I can continue without a huge nested clusterF. </p>\n\n<pre><code>var getPort = require('get-port');\n\nvar get_port = async function(){\n  var port_promise = new Promise((resolve_port) =&gt; {\n    getPort({port: 16100}).then(resolve_port);\n  });\n\n  var port = await port_promise;\n  return port;\n};\n\nvar port = get_port();\n</code></pre>\n\n<p>However, this code throws an error on </p>\n\n<pre><code>server.listen(port);\n</code></pre>\n\n<p>saying the value is a promise instead of a number. I thought the await took care of that. </p>\n"}, {"tags": ["javascript", "node.js", "asynchronous", "queue", "es6-promise"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1527116929, "post_id": 50498666, "comment_id": 88010161, "body": "That sounds like a job for Observables."}, {"owner": {"reputation": 3128, "user_id": 3210059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/a39WK.jpg?s=128&g=1", "display_name": "karim", "link": "https://stackoverflow.com/users/3210059/karim"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1527117133, "post_id": 50498666, "comment_id": 88010215, "body": "i think it can be done using only promise?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1527117175, "post_id": 50498666, "comment_id": 88010232, "body": "Looking at your code it looks like <code>api.get()</code> will be called immediately. Shouldn&#39;t get be called after it&#39;s been <code>pop()</code>ed from the queue?"}, {"owner": {"reputation": 2350, "user_id": 2227168, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77294e1343dbf7edc9d308fd966d8d87?s=128&d=identicon&r=PG", "display_name": "pishpish", "link": "https://stackoverflow.com/users/2227168/pishpish"}, "edited": false, "score": 0, "creation_date": 1527117473, "post_id": 50498666, "comment_id": 88010306, "body": "Why don&#39;t you chain the response handling promise to the api call?"}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1527117517, "post_id": 50498666, "comment_id": 88010313, "body": "It <i>can</i> be done with a needle and a steady hand, but I generally prefer a battle-tested pubsub with a thriving community over my own adhoc implementation."}, {"owner": {"reputation": 3128, "user_id": 3210059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/a39WK.jpg?s=128&g=1", "display_name": "karim", "link": "https://stackoverflow.com/users/3210059/karim"}, "reply_to_user": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1527118186, "post_id": 50498666, "comment_id": 88010463, "body": "@JaredSmith i wanted something tha build on the top of an exisitng api and using promises"}], "answers": [{"comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1527117741, "post_id": 50498767, "comment_id": 88010365, "body": "That&#39;s a really nice way to do that."}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 5, "last_activity_date": 1527117951, "last_edit_date": 1527117951, "creation_date": 1527117566, "answer_id": 50498767, "question_id": 50498666, "link": "https://stackoverflow.com/questions/50498666/nodejs-async-promise-queue/50498767#50498767", "title": "Nodejs Async Promise Queue", "body": "<p>With the current implementation, <code>api.get()</code> will be called <em>immediately</em> when <code>add</code>ed to the queue. You should <code>add</code> the <em>path</em> instead (or maybe both <code>api.get</code> and the <code>path</code>) and have <code>AsyncQueue</code> initialize the Promise when it's able. Make sure to have <code>add</code> return a Promise that resolves once the API call is done.</p>\n\n<p>For example, in vanilla JS, it could look like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const apiGet = () =&gt; new Promise(resolve =&gt; setTimeout(resolve, 1000));\r\n\r\nclass AsyncQueue {\r\n  queue = [];\r\n  constructor() {\r\n    setInterval(this.resolveNext.bind(this), 2000);\r\n  }\r\n  add(fn, param) {\r\n    return new Promise(resolve =&gt; {\r\n      this.queue.unshift({ fn, param, resolve });\r\n    });\r\n  }\r\n  resolveNext() {\r\n    if (!this.queue.length) return;\r\n    const { fn, param, resolve } = this.queue.pop();\r\n    fn(param).then(resolve);\r\n  }\r\n}\r\n\r\n\r\nconst queue = new AsyncQueue()\r\nconsole.log('start');\r\n// Will resolve after 2000 + 1000 seconds:\r\nqueue.add(apiGet, '/somepath').then(res =&gt; {\r\n  console.log('handling response 1');\r\n});\r\n// Will resolve after 4000 + 1000 seconds:\r\nqueue.add(apiGet, '/somepath').then(res =&gt; {\r\n  console.log('handling response 2');\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3128, "user_id": 3210059, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/a39WK.jpg?s=128&g=1", "display_name": "karim", "link": "https://stackoverflow.com/users/3210059/karim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2118, "favorite_count": 0, "accepted_answer_id": 50498767, "answer_count": 1, "score": 4, "last_activity_date": 1527122332, "creation_date": 1527116711, "last_edit_date": 1527122332, "question_id": 50498666, "link": "https://stackoverflow.com/questions/50498666/nodejs-async-promise-queue", "title": "Nodejs Async Promise Queue", "body": "<p>I need to consume a rate limited API. For example, I can only make 10 API calls in a second, so I will need to wait the end of the current second to make another API call.</p>\n\n<p>To achieve this, I want to make an asynchronous queue that can manage this on its own. The main functionality of it is to let me add a new promise to the queue, and when the promise is resolved the application is notified:</p>\n\n<pre><code>let queue = new Queue()\n\nqueue.add(api.get('/somepath')).then(res =&gt; { // handle response });\n</code></pre>\n\n<p>How can I implement this using ordinary Promises?</p>\n\n<pre><code>export class AsyncQueue {\n\n    private queue: Array&lt;Promise&lt;any&gt;&gt;;\n\n\n    add(promise, fct) {\n        this.queue.push(promise);\n    }\n\n    resolveNext() {\n        this.queue.pop().then({\n            // how to resolve the waiting promise in my application\n        })\n    }\n\n    get length() {\n        return this.queue.length\n    }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 57406, "user_id": 7461381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20611e3583655e5bf1f727727804c4f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mamun", "link": "https://stackoverflow.com/users/7461381/mamun"}, "edited": false, "score": 4, "creation_date": 1527116788, "post_id": 50498665, "comment_id": 88010122, "body": "<code>var x = document.getElementsByClassName(&quot;mix-playlist&quot;)[0].getAttrib&zwnj;&#8203;ute(&quot;href&quot;);</code>"}, {"owner": {"reputation": 575, "user_id": 8602926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y2IQZ.png?s=128&g=1", "display_name": "Sv443", "link": "https://stackoverflow.com/users/8602926/sv443"}, "reply_to_user": {"reputation": 57406, "user_id": 7461381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20611e3583655e5bf1f727727804c4f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mamun", "link": "https://stackoverflow.com/users/7461381/mamun"}, "edited": false, "score": 0, "creation_date": 1527116934, "post_id": 50498665, "comment_id": 88010163, "body": "@Mamun that returns &quot;Execution of script failed! document.getElementsByClassName(...)[0] is undefined&quot;"}, {"owner": {"reputation": 57406, "user_id": 7461381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20611e3583655e5bf1f727727804c4f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mamun", "link": "https://stackoverflow.com/users/7461381/mamun"}, "edited": false, "score": 2, "creation_date": 1527117004, "post_id": 50498665, "comment_id": 88010178, "body": "May be you need put the code after HTML.."}, {"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 0, "creation_date": 1527117019, "post_id": 50498665, "comment_id": 88010180, "body": "@Sv443 that likely means that the element is not yet in the DOM when you&#39;re trying to access it."}, {"owner": {"reputation": 575, "user_id": 8602926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y2IQZ.png?s=128&g=1", "display_name": "Sv443", "link": "https://stackoverflow.com/users/8602926/sv443"}, "reply_to_user": {"reputation": 57406, "user_id": 7461381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20611e3583655e5bf1f727727804c4f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mamun", "link": "https://stackoverflow.com/users/7461381/mamun"}, "edited": false, "score": 0, "creation_date": 1527117151, "post_id": 50498665, "comment_id": 88010222, "body": "@Mamun I don&#39;t have much power over that with my tampermonkey addon but the script runs multiple times even when the element has fully loaded."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4914655"}, "edited": false, "score": 0, "creation_date": 1527117286, "post_id": 50498665, "comment_id": 88010253, "body": "JavaScript:      var elems = document.getElementsByTagname(&quot;A&quot;);      for (var i=0;i&lt;elems.length;i++) {           if (elems(i).className.indexOf(&#39;mix-playlist&#39;) != -1) {                    alert(elems(i).getAttribute(&#39;href&#39;));           }     }"}, {"owner": {"reputation": 57406, "user_id": 7461381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20611e3583655e5bf1f727727804c4f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mamun", "link": "https://stackoverflow.com/users/7461381/mamun"}, "edited": false, "score": 0, "creation_date": 1527117295, "post_id": 50498665, "comment_id": 88010256, "body": "Try to search for &quot;how to run code after DOM loaded in JavaScript?&quot;"}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1527117509, "post_id": 50498665, "comment_id": 88010311, "body": "If the JavaScript is in your <code>&lt;head&gt;</code>, which it should be for external caching reasons, then you need to put your JavaScript <i>(on the external JS page)</i> in a load Event, like <code>addEventListener(&#39;load&#39;, function(){ &#47;* Elements are defined since page is loaded *});</code> or <code>var old = onload; &#47;* change old var name if using technique on other pages *&#47; onload = function(){ if(old)old(); &#47;* execute if there is already a load Event - Elements are available now *&#47; }</code>"}], "owner": {"reputation": 575, "user_id": 8602926, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y2IQZ.png?s=128&g=1", "display_name": "Sv443", "link": "https://stackoverflow.com/users/8602926/sv443"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "closed_date": 1527117217, "answer_count": 0, "score": 1, "last_activity_date": 1527117537, "creation_date": 1527116710, "last_edit_date": 1527117537, "question_id": 50498665, "link": "https://stackoverflow.com/questions/50498665/get-the-href-attribute-of-an-a-tag", "closed_reason": "Duplicate", "title": "get the href attribute of an &lt;a&gt; tag", "body": "<p>I'm working on a userscript for YouTube and I need to retrieve the href attribute of an <code>&lt;a&gt;</code> tag through the class name.</p>\n\n<p>This was my attempt but it just returned \"undefined\":</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var x = document.getElementsByClassName(\"mix-playlist\").getAttribute(\"href\");\r\nconsole.log(x);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;a class=\"XY XY XY mix-playlist XY\" href=\"XY\"&gt;&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks for your help!</p>\n\n<p>Nevermind, I figured it out. I just had to move it into this function:\n<code>document.addEventListener(\"DOMContentLoaded\", function() {</code></p>\n\n<p>and split the resulting array.</p>\n\n<p>Sorry for the duplicate but I just couldn't gather much information after looking through stackoverflow questions for 20 minutes.</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "mongoose"], "comments": [{"owner": {"reputation": 840, "user_id": 3075160, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001707963199/picture?type=large", "display_name": "desoares", "link": "https://stackoverflow.com/users/3075160/desoares"}, "edited": false, "score": 0, "creation_date": 1527116925, "post_id": 50498637, "comment_id": 88010159, "body": "Mongoose does validations, pre events and stuff, show us your model."}, {"owner": {"reputation": 721, "user_id": 2058437, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6523c487573ebe86d079edaa3d957520?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#225;s Geiszl", "link": "https://stackoverflow.com/users/2058437/andr%c3%a1s-geiszl"}, "reply_to_user": {"reputation": 840, "user_id": 3075160, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001707963199/picture?type=large", "display_name": "desoares", "link": "https://stackoverflow.com/users/3075160/desoares"}, "edited": false, "score": 0, "creation_date": 1527117162, "post_id": 50498637, "comment_id": 88010226, "body": "@desoares I added it to the post."}, {"owner": {"reputation": 157, "user_id": 6384939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ri3v.jpg?s=128&g=1", "display_name": "\u015e&#252;kSefHam", "link": "https://stackoverflow.com/users/6384939/%c5%9e%c3%bcksefham"}, "edited": false, "score": 0, "creation_date": 1527120195, "post_id": 50498637, "comment_id": 88010961, "body": "This is localhost server?"}, {"owner": {"reputation": 840, "user_id": 3075160, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001707963199/picture?type=large", "display_name": "desoares", "link": "https://stackoverflow.com/users/3075160/desoares"}, "edited": false, "score": 0, "creation_date": 1527123247, "post_id": 50498637, "comment_id": 88011550, "body": "I tested your mode in my localhost, it took 12ms, tops to save. Your problem is, probably elsewhere. Are you using express?"}, {"owner": {"reputation": 721, "user_id": 2058437, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6523c487573ebe86d079edaa3d957520?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#225;s Geiszl", "link": "https://stackoverflow.com/users/2058437/andr%c3%a1s-geiszl"}, "edited": false, "score": 0, "creation_date": 1527148852, "post_id": 50498637, "comment_id": 88020246, "body": "Yes, it is a local server and I&#39;m running an express webserver in parallel, but so far I only use this logic manually from a function called from main.js (for testing purposes)."}, {"owner": {"reputation": 721, "user_id": 2058437, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6523c487573ebe86d079edaa3d957520?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#225;s Geiszl", "link": "https://stackoverflow.com/users/2058437/andr%c3%a1s-geiszl"}, "edited": false, "score": 0, "creation_date": 1527156742, "post_id": 50498637, "comment_id": 88025268, "body": "I added a few more test cases to the question. Can it be that this issue happens because it writes the db to the disk? Few seconds for a disk write still seems a bit slow though."}, {"owner": {"reputation": 2521, "user_id": 6254875, "user_type": "registered", "profile_image": "https://graph.facebook.com/1021244534597925/picture?type=large", "display_name": "Antonio Val", "link": "https://stackoverflow.com/users/6254875/antonio-val"}, "edited": false, "score": 1, "creation_date": 1527223308, "post_id": 50498637, "comment_id": 88055432, "body": "Did you try to do exactly the same operations directly in the MongoDB shell?"}], "owner": {"reputation": 721, "user_id": 2058437, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6523c487573ebe86d079edaa3d957520?s=128&d=identicon&r=PG&f=1", "display_name": "Andr&#225;s Geiszl", "link": "https://stackoverflow.com/users/2058437/andr%c3%a1s-geiszl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527162408, "creation_date": 1527116478, "last_edit_date": 1527162408, "question_id": 50498637, "link": "https://stackoverflow.com/questions/50498637/mongodb-takes-seconds-to-save-object", "title": "MongoDB takes seconds to save object", "body": "<p>I'm trying to use Mongoose to save an object to a local MongoDB database. The following code saves a song in a playlist and times it:</p>\n\n<pre><code>console.time('saveSong');\nplaylistSong = await (new PlaylistSong({\n  added: new Date(),\n  url: song.url,\n  title: song.title,\n  thumbnail: song.thumbnail,\n  duration: song.duration\n}).save());\nconsole.timeEnd('saveSong');\n</code></pre>\n\n<p>When this code runs, the output is the following:</p>\n\n<pre><code>saveSong: 2021.505ms\n</code></pre>\n\n<p>However, when I look at the profiling logs in the MongoDB server, it says that the insertion execution time is 0ms. What takes so much time in this simple query and how could I improve it?</p>\n\n<p>The model has a simple schema with a few attributes:</p>\n\n<pre><code>const playlistSongSchema = new mongoose.Schema({\n  added: Date,\n  addedBy: String,\n\n  removed: Date,\n  removedBy: String,\n\n  finished: Date,\n\n  likes: [String],\n  dislikes: [String],\n\n  url: String,\n  title: String,\n  thumbnail: String,\n  duration: Date\n});\nplaylistSongSchema.index({ isRemoved: -1, isFinished: 1, added: 1 });\n\nexports.PlaylistSong = mongoose.model('PlaylistSong', playlistSongSchema);\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>Not only save but find queries also take about 2s to execute.\nE.g.</p>\n\n<pre><code>console.time('getSong');\nlet video = await YoutubeVideo.findOne({ videoId });\nconsole.timeEnd('getSong');\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>getSong: 2027.283ms\n</code></pre>\n\n<p><strong>Edit #2:</strong></p>\n\n<p>I could reduce the code to:</p>\n\n<pre><code>await mongoose.connect(`mongodb://localhost:27017`);\n\nconst testSchema = new mongoose.Schema({ testAttr: Boolean });\nconst TestObject = mongoose.model('TestObject', testSchema);\n\nconsole.time('save');\nawait (new TestObject({ testAttr: true }).save());\nconsole.timeEnd('save');\n\nconsole.time('find');\nawait TestObject.findOne();\nconsole.timeEnd('find');\n</code></pre>\n\n<p>The output of this is:</p>\n\n<pre><code>save: 15.009ms\nfind: 1015.816ms\n</code></pre>\n\n<p>However, if I save two objects after each other, the save becomes slower and the find speeds up.</p>\n\n<pre><code>console.time('save');\nawait (new TestObject({ testAttr: false }).save());\nawait (new TestObject({ testAttr: false }).save());\nconsole.timeEnd('save');\n\nconsole.time('find');\nawait TestObject.findOne({ testAttr: true });\nconsole.timeEnd('find');\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>save: 1042.974ms\nfind: 30.846ms\n</code></pre>\n\n<p>Using <code>mongodb</code> module instead of <code>mongoose</code> have the same results.</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 5, "creation_date": 1527116554, "post_id": 50498603, "comment_id": 88010062, "body": "<code>response</code> is a string, you need to use <code>JSON.parse()</code> to convert it to an array."}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 7, "last_activity_date": 1527116679, "creation_date": 1527116679, "answer_id": 50498662, "question_id": 50498603, "link": "https://stackoverflow.com/questions/50498603/get-position-in-array/50498662#50498662", "title": "Get position in Array", "body": "<p><code>response</code> is apparently a JSON string, not an array, so <code>response[0]</code> returns the first character of the string. Use:</p>\n\n<pre><code>response = JSON.parse(data.response);\n</code></pre>\n\n<p>If you have control over the API, you should investigate why it's encoding this element, rather than leaving it as an array when it encodes the entire data. Double-encoding like this is rarely needed.</p>\n"}], "owner": {"reputation": 327, "user_id": 3516604, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002110237945/picture?type=large", "display_name": "user3516604", "link": "https://stackoverflow.com/users/3516604/user3516604"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 50498662, "answer_count": 1, "score": 1, "last_activity_date": 1527116679, "creation_date": 1527116237, "question_id": 50498603, "link": "https://stackoverflow.com/questions/50498603/get-position-in-array", "title": "Get position in Array", "body": "<p>i received a response from my API but i can't access the positions of array in this response.</p>\n\n<pre><code>fileTransfer.upload(this.imageURI, environment.restUrl + \"Upload/addIonic\", options)\n      .then(data =&gt; {\n        console.log('data');\n        console.log(JSON.stringify(data));\n        let response;\n        console.log('bytesSent');\n        console.log(data.bytesSent);\n        response = data.response\n        console.log('response');\n        console.log(response);\n        console.log('response[0]');\n        console.log(response[0]);\n});\n</code></pre>\n\n<p>console returns:</p>\n\n<pre><code>console.log: bytesSent\n[19:51:03]  console.log: 1168539\n[19:51:03]  console.log: response\n[19:51:03]  console.log:\n            [{\"fd\":\"445bcc46-ad55-4079-95d0-9b0deaab7c4c\",\"size\":1168430,\"type\":\"image/jpeg\",\"filename\":\"ionicfile\",\"status\":\"finished\",\"field\":\"ionicfile\",\"extra\":{\"Location\":\"https://easy-move.s3.amazonaws.com/445bcc46-ad55-4079-95d0-9b0deaab7c4c\",\"Bucket\":\"easy-move\",\"Key\":\"445bcc46-ad55-4079-95d0-9b0deaab7c4c\",\"ETag\":\"\\\"69ede2190589f905ee8590446caf1cf7-1\\\"\",\"size\":1168430}}]\n[19:51:03]  console.log: response[0]\n[19:51:03]  console.log: [\n</code></pre>\n\n<p>Instead return a object, the array is returnin just \"[\" in position zero.</p>\n"}, {"tags": ["javascript", "angularjs", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 1949, "user_id": 6651984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BM3Ui.jpg?s=128&g=1", "display_name": "Abel Valdez", "link": "https://stackoverflow.com/users/6651984/abel-valdez"}, "edited": false, "score": 0, "creation_date": 1527116873, "post_id": 50498599, "comment_id": 88010141, "body": "can you add this function <code>addBacklash</code> ?"}], "answers": [{"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user9796664"}, "is_accepted": false, "score": 0, "last_activity_date": 1527116877, "creation_date": 1527116877, "answer_id": 50498691, "question_id": 50498599, "link": "https://stackoverflow.com/questions/50498599/how-to-add-backslash-in-angular/50498691#50498691", "title": "How to add backslash in angular?", "body": "<p>If it is an inline template, then you need to escape \\ as \\ like in any other string.</p>\n\n<pre><code>&lt;div&gt;{{'\\\\'}}{{content}}&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 881, "user_id": 9790792, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Hot Zellah", "link": "https://stackoverflow.com/users/9790792/hot-zellah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 319, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1527116877, "creation_date": 1527116214, "question_id": 50498599, "link": "https://stackoverflow.com/questions/50498599/how-to-add-backslash-in-angular", "title": "How to add backslash in angular?", "body": "<p>I have a div which return a status ,i want to add a backlash to a string returned eg Car1 \\sold.</p>\n\n<p>I am able to get status but I cant get a backlash here is what I have done.\nIn html:</p>\n\n<pre><code>&lt;span&gt;{{addBacklash(str)}}&lt;/span&gt;\n&lt;div&gt;{{store.status}}&lt;/div&gt;\n</code></pre>\n\n<p>in Ts i have this function.</p>\n\n<pre><code>public stripslashes(str) {\n    str = str.replace(/\\\\'/g, '\\'');\n    return str;\n}\n</code></pre>\n\n<p>this does not work , what am I doing wrong here? or is there any simple method to achieve what I want? am newbie though</p>\n"}, {"tags": ["javascript", "jquery", "html", "get"], "comments": [{"owner": {"reputation": 15095, "user_id": 1046057, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/apU0J.jpg?s=128&g=1", "display_name": "DarkAjax", "link": "https://stackoverflow.com/users/1046057/darkajax"}, "edited": false, "score": 0, "creation_date": 1527116402, "post_id": 50498563, "comment_id": 88010024, "body": "not sure of what you want, but assuming you just have a string with that structure and it has a line break like it seems to have, you could try something like: <code>myObj.html =myObj.html.split(&#39;\\n&#39;)[0];</code>"}, {"owner": {"reputation": 3, "user_id": 9837378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc0775f3d2b0a3c9f8d10c69b76c0f6a?s=128&d=identicon&r=PG&f=1", "display_name": "User8371", "link": "https://stackoverflow.com/users/9837378/user8371"}, "reply_to_user": {"reputation": 15095, "user_id": 1046057, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/apU0J.jpg?s=128&g=1", "display_name": "DarkAjax", "link": "https://stackoverflow.com/users/1046057/darkajax"}, "edited": false, "score": 0, "creation_date": 1527119116, "post_id": 50498563, "comment_id": 88010731, "body": "No-no-no... Probably all this because of my bad Inglish :) Chris solved my problem."}], "answers": [{"tags": [], "owner": {"reputation": 57406, "user_id": 7461381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20611e3583655e5bf1f727727804c4f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mamun", "link": "https://stackoverflow.com/users/7461381/mamun"}, "is_accepted": false, "score": 1, "last_activity_date": 1527116499, "creation_date": 1527116499, "answer_id": 50498639, "question_id": 50498563, "link": "https://stackoverflow.com/questions/50498563/how-get-html-without-remove-child-jquery/50498639#50498639", "title": "How get HTML without remove child (jQuery)", "body": "<p>May be you can try the following by using <code>createElement()</code> and delete the element afterwords:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let myObj ='&lt;span class=\"first\"&gt;la-la-la&lt;/span&gt;&lt;span class=\"second\"&gt;la-la-la&lt;/span&gt;';\r\nlet myObjHTMLDiv = document.createElement('div');\r\nmyObjHTMLDiv.innerHTML = myObj;\r\n$(myObjHTMLDiv).find('.second').remove();\r\nmyObj = myObjHTMLDiv.innerHTML;\r\ndelete myObjHTMLDiv;\r\nconsole.log(myObj);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 9837378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc0775f3d2b0a3c9f8d10c69b76c0f6a?s=128&d=identicon&r=PG&f=1", "display_name": "User8371", "link": "https://stackoverflow.com/users/9837378/user8371"}, "edited": false, "score": 0, "creation_date": 1527118958, "post_id": 50498640, "comment_id": 88010692, "body": "Ouhhh! It really works! Not really beautiful, but works! Chris, you are genius! Thank you!"}], "tags": [], "owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "is_accepted": true, "score": 3, "last_activity_date": 1527116501, "creation_date": 1527116501, "answer_id": 50498640, "question_id": 50498563, "link": "https://stackoverflow.com/questions/50498563/how-get-html-without-remove-child-jquery/50498640#50498640", "title": "How get HTML without remove child (jQuery)", "body": "<p>If you call <code>.html(myObj.html)</code> on a temporary element, you can do whatever you want, then read it back afterwards:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myObj = {};\r\n\r\nmyObj.html ='&lt;span class=\"first\"&gt;la-la-la&lt;/span&gt;&lt;span class=\"second\"&gt;la-la-la&lt;/span&gt;';\r\n\r\n$tmp = $(\"&lt;div&gt;\").html(myObj.html);\r\n$tmp.find(\".second\").remove();\r\nmyObj.html = $tmp.html(); \r\n\r\nconsole.log(myObj);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 9837378, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc0775f3d2b0a3c9f8d10c69b76c0f6a?s=128&d=identicon&r=PG&f=1", "display_name": "User8371", "link": "https://stackoverflow.com/users/9837378/user8371"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 2, "closed_date": 1527131201, "accepted_answer_id": 50498640, "answer_count": 2, "score": -6, "last_activity_date": 1527116867, "creation_date": 1527115905, "last_edit_date": 1527116867, "question_id": 50498563, "link": "https://stackoverflow.com/questions/50498563/how-get-html-without-remove-child-jquery", "closed_reason": "Needs details or clarity", "title": "How get HTML without remove child (jQuery)", "body": "<p>There are some problems with changing the js-object.\nIt has the html structure.\nExample:</p>\n\n<pre><code>myObj.html ='&lt;span class=\"first\"&gt;la-la-la&lt;/span&gt;\n            &lt;span class=\"second\"&gt;la-la-la&lt;/span&gt;';\n</code></pre>\n\n<p>And structure due to user actions is changing( add,delete elements ):</p>\n\n<pre><code>$(myObj.html).find('.second').remove()\n</code></pre>\n\n<p>Theoretically it has to help. But I work with just string (it is not real DOM element).\nmyObj.html don't save changing, and .remove() return deleted element.\nAnd I want that myObj.html changed too:</p>\n\n<pre><code>myObj.html ='&lt;span class=\"first\"&gt;la-la-la&lt;/span&gt;;\n</code></pre>\n\n<p>How to be in this situation? (RegExp is not better idea)</p>\n"}, {"tags": ["javascript", "database", "laravel"], "comments": [{"owner": {"reputation": 8159, "user_id": 5405630, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cb6042cc5ec007ec9a1a7ee0b07a77b4?s=128&d=identicon&r=PG&f=1", "display_name": "DevK", "link": "https://stackoverflow.com/users/5405630/devk"}, "edited": false, "score": 1, "creation_date": 1527119571, "post_id": 50498511, "comment_id": 88010827, "body": "For one, the <code>redirect()</code> won&#39;t trigger a browser redirect when it&#39;s called with ajax. Return a success message instead and see if you still get an error. That being said, I&#39;m not sure how this query works: <code>Video::where(&#39;id&#39;,explode(&quot;,&quot;,$ids))-&gt;delete();</code> for all I know you need a <code>whereIn</code> here"}, {"owner": {"reputation": 1818, "user_id": 1491032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/096c5bc7a45c8a8901092dd6ef0681db?s=128&d=identicon&r=PG", "display_name": "lufc", "link": "https://stackoverflow.com/users/1491032/lufc"}, "edited": false, "score": 1, "creation_date": 1527131281, "post_id": 50498511, "comment_id": 88013288, "body": "Also make sure you have <code>&lt;meta name=&quot;csrf-token&quot; content=&quot;{{ csrf_token() }}&quot;&gt;</code> in the page header."}, {"owner": {"reputation": 156, "user_id": 4418242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTW1y.png?s=128&g=1", "display_name": "Slaveworx", "link": "https://stackoverflow.com/users/4418242/slaveworx"}, "reply_to_user": {"reputation": 8159, "user_id": 5405630, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/cb6042cc5ec007ec9a1a7ee0b07a77b4?s=128&d=identicon&r=PG&f=1", "display_name": "DevK", "link": "https://stackoverflow.com/users/5405630/devk"}, "edited": false, "score": 0, "creation_date": 1527194499, "post_id": 50498511, "comment_id": 88048263, "body": "@devk, so I added the whereIn and deleted the redirect(). It works now. However it doesn&#39;t refresh the page. In order to get the effect I want I need to be able to refresh the page after the items are deleted. Any suggestion or best practice on how to do it? Tahnk you!!"}, {"owner": {"reputation": 156, "user_id": 4418242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTW1y.png?s=128&g=1", "display_name": "Slaveworx", "link": "https://stackoverflow.com/users/4418242/slaveworx"}, "reply_to_user": {"reputation": 1818, "user_id": 1491032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/096c5bc7a45c8a8901092dd6ef0681db?s=128&d=identicon&r=PG", "display_name": "lufc", "link": "https://stackoverflow.com/users/1491032/lufc"}, "edited": false, "score": 0, "creation_date": 1527240412, "post_id": 50498511, "comment_id": 88063430, "body": "@user1491032, I already had the CSRF added in the template headers ;)"}, {"owner": {"reputation": 1818, "user_id": 1491032, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/096c5bc7a45c8a8901092dd6ef0681db?s=128&d=identicon&r=PG", "display_name": "lufc", "link": "https://stackoverflow.com/users/1491032/lufc"}, "edited": false, "score": 1, "creation_date": 1527254671, "post_id": 50498511, "comment_id": 88072297, "body": "If you need to refresh the page you&#39;re slightly defeating the point of using AJAX, but adding <code>location.reload();</code> in place of <code>alert(data[&#39;success&#39;]);</code> would work."}, {"owner": {"reputation": 156, "user_id": 4418242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTW1y.png?s=128&g=1", "display_name": "Slaveworx", "link": "https://stackoverflow.com/users/4418242/slaveworx"}, "edited": false, "score": 0, "creation_date": 1527495637, "post_id": 50498511, "comment_id": 88134361, "body": "Thanks! It worked!"}], "owner": {"reputation": 156, "user_id": 4418242, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yTW1y.png?s=128&g=1", "display_name": "Slaveworx", "link": "https://stackoverflow.com/users/4418242/slaveworx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527117264, "creation_date": 1527115522, "question_id": 50498511, "link": "https://stackoverflow.com/questions/50498511/laravel-and-javascript-deleting-multiple-rows-from-database", "title": "Laravel and Javascript - Deleting multiple rows from database", "body": "<p>I am trying to delete several items from a database using checkboxes and javascript. The code I have already works and deletes the rows, however I am getting an error and that error actually prevents the page from refreshing and thus shwoing the updates results.</p>\n\n<p>Here is what I have:</p>\n\n<p>Route</p>\n\n<pre><code>Route::delete('/admin/videos/deleteselected', 'VideosController@deleteAllSelected')-&gt;name('videos.deleteAllSelected');\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>public function deleteAllSelected(Request $request)\n{\n    $ids = $request-&gt;ids;\n    Video::where('id',explode(\",\",$ids))-&gt;delete();\n\n    //store status message\n    Session::flash('success_msg', 'Video(s) deleted successfully!');\n\n    return redirect()-&gt;route('videos.index');\n}\n</code></pre>\n\n<p>View</p>\n\n<pre><code>&lt;!-- videos list --&gt;\n    @if(!empty($videos))\n        &lt;div class=\"row text-center\"&gt;\n            &lt;div&gt;\n                {{ $videos-&gt;links() }}\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"content table-responsive table-full-width\"&gt;\n            &lt;table class=\"table table-striped\"&gt;\n                &lt;button style=\"margin-bottom: 10px\" class=\"btn btn-primary delete_all\" data-url=\"{{ route('videos.deleteAllSelected') }}\"&gt;Delete All Selected&lt;/button&gt;\n                &lt;thead&gt;\n                    &lt;th&gt;ID&lt;/th&gt;\n                    &lt;th&gt;&lt;input type=\"checkbox\" id=\"master\"&gt;&lt;/th&gt;\n                    &lt;th&gt;Thumb&lt;/th&gt;\n                    &lt;th&gt;Duration&lt;/th&gt;\n                    &lt;th&gt;Manage&lt;/th&gt;\n                &lt;/thead&gt;\n                &lt;!-- Table Body --&gt;\n                &lt;tbody&gt;\n                @foreach($videos as $video)\n                    &lt;tr id=\"tr_{{$video-&gt;id}}\"&gt;\n\n                        &lt;td&gt;\n                            &lt;div&gt;\n                                {{$video-&gt;id}}\n                            &lt;/div&gt;\n                        &lt;/td&gt;\n\n                        &lt;td&gt;\n                            &lt;div class=\"text-center\"&gt;\n                                &lt;input type=\"checkbox\" class=\"sub_chk\" data-id=\"{{$video-&gt;id}}\"&gt;\n                            &lt;/div&gt;\n                        &lt;/td&gt;\n\n                        &lt;td&gt;\n                            &lt;div&gt;\n                                &lt;img class=\"img-thumbnail\" src=\"{{$video-&gt;imgurl}}\" alt=\"video thumbnail\"&gt;\n                            &lt;/div&gt;\n                        &lt;/td&gt;\n\n                        &lt;td&gt;\n                            &lt;div&gt;\n                                {{$video-&gt;duration}}\n                            &lt;/div&gt;\n                        &lt;/td&gt;\n\n                        &lt;td&gt;\n                            &lt;div&gt;&lt;a href=\"{{ route('videos.details', $video-&gt;id) }}\" class=\"btn btn-block btn-sm btn-info\"&gt;&lt;i class=\"fa fa-info\"&gt;&lt;/i&gt; Details&lt;/a&gt;&lt;/div&gt;\n                            &lt;div&gt;&lt;a href=\"{{ route('videos.edit', $video-&gt;id) }}\" class=\"btn btn-block btn-sm btn-success\"&gt;&lt;i class=\"fa fa-pencil\"&gt;&lt;/i&gt; Edit&lt;/a&gt;&lt;/div&gt;\n                            &lt;div&gt;&lt;a href=\"{{ route('videos.delete', $video-&gt;id) }}\" class=\"btn btn-block btn-sm btn-danger\" onclick=\"return confirm('Are you sure to delete?')\"&gt;&lt;i class=\"fa fa-trash\"&gt;&lt;/i&gt; Delete&lt;/a&gt;&lt;/div&gt;\n                        &lt;/td&gt;\n\n                    &lt;/tr&gt;\n                @endforeach\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n\n    &lt;div class=\"row text-center\"&gt;\n        {{ $videos-&gt;links() }}\n    &lt;/div&gt;\n\n@endif\n</code></pre>\n\n<p>Javascript Code</p>\n\n<pre><code>$(document).ready(function () {\n\n\n    $('#master').on('click', function(e) {\n     if($(this).is(':checked',true))  \n     {\n        $(\".sub_chk\").prop('checked', true);  \n     } else {  \n        $(\".sub_chk\").prop('checked',false);  \n     }  \n    });\n\n\n    $('.delete_all').on('click', function(e) {\n\n\n        var allVals = [];  \n        $(\".sub_chk:checked\").each(function() {  \n            allVals.push($(this).attr('data-id'));\n        });  \n\n\n        if(allVals.length &lt;=0)  \n        {  \n            alert(\"Please select videos.\");  \n        }  else {  \n\n\n            var check = confirm(\"Are you sure you want to delete this ?\");  \n            if(check == true){  \n\n\n                var join_selected_values = allVals.join(\",\"); \n\n\n                $.ajax({\n                    url: $(this).data('url'),\n                    type: 'DELETE',\n                    headers: {'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')},\n                    data: 'ids='+join_selected_values,\n                    success: function (data) {\n                        if (data['success']) {\n                            $(\".sub_chk:checked\").each(function() {  \n                                $(this).parents(\"tr\").remove();\n                            });\n                            alert(data['success']);\n                        } else if (data['error']) {\n                            alert(data['error']);\n                        } else {\n                            alert('Whoops Something went wrong!!');\n                        }\n                    },\n                    error: function (data) {\n                        alert(data.responseText);\n                    }\n                });\n\n\n              $.each(allVals, function( index, value ) {\n                  $('table tr').filter(\"[data-row-id='\" + value + \"']\").remove();\n              });\n            }  \n        }  \n    });\n\n\n    $('[data-toggle=confirmation]').confirmation({\n        rootSelector: '[data-toggle=confirmation]',\n        onConfirm: function (event, element) {\n            element.trigger('confirm');\n        }\n    });\n\n\n    $(document).on('confirm', function (e) {\n        var ele = e.target;\n        e.preventDefault();\n\n\n        $.ajax({\n            url: ele.href,\n            type: 'DELETE',\n            headers: {'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')},\n            success: function (data) {\n                if (data['success']) {\n                    $(\"#\" + data['tr']).slideUp(\"slow\");\n                    alert(data['success']);\n                } else if (data['error']) {\n                    alert(data['error']);\n                } else {\n                    alert('Whoops Something went wrong!!');\n                }\n            },\n            error: function (data) {\n                alert(data.responseText);\n            }\n        });\n\n\n        return false;\n    });\n});\n</code></pre>\n\n<p>The error i get i cant actually copy it as it appears in a javascript alert. But please find attached an image of it:</p>\n\n<p><a href=\"https://i.stack.imgur.com/37hA9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/37hA9.png\" alt=\"error\"></a></p>\n"}, {"tags": ["javascript", "ios", "html", "css", "css-filters"], "comments": [{"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1527118927, "post_id": 50498498, "comment_id": 88010680, "body": "It downloads with the filters on it? Does that mean <code>iString</code> has the filters applied? CSS just affects the way the page renders, not the canvas data. Sounds like you need canvas filters."}, {"owner": {"reputation": 57, "user_id": 9701062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/427ee1cb7e6ab1a25daed3a617bc973e?s=128&d=identicon&r=PG&f=1", "display_name": "AARRGGHHH", "link": "https://stackoverflow.com/users/9701062/aarrgghhh"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1527122854, "post_id": 50498498, "comment_id": 88011478, "body": "<i>Yes, it downloads with the filters applied</i>. Thus, since iString is getting the image from the same place, it should have the filters applied. But it doesn&#39;t.    CSS can be made to do more than just change how the page renders, in this case, it changes the actual image that&#39;s downloaded.   I&#39;m not sure what you mean by &quot;canvas filters&quot;, is that something from a JS add-on library?"}, {"owner": {"reputation": 57, "user_id": 9701062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/427ee1cb7e6ab1a25daed3a617bc973e?s=128&d=identicon&r=PG&f=1", "display_name": "AARRGGHHH", "link": "https://stackoverflow.com/users/9701062/aarrgghhh"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1527142768, "post_id": 50498498, "comment_id": 88016804, "body": "I just tested the above code on a custom filter I built (in other words, my own image filter, not a CSS3 filter). On iOS, the edited image opened in a new tab, with the filter&#39;s changes applied, and I was able to save it to the camera roll.  So, that confirms that everything else works, the sole issue is keeping the CSS3 filters applied when using CSS3 filters."}, {"owner": {"reputation": 57, "user_id": 9701062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/427ee1cb7e6ab1a25daed3a617bc973e?s=128&d=identicon&r=PG&f=1", "display_name": "AARRGGHHH", "link": "https://stackoverflow.com/users/9701062/aarrgghhh"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1527145357, "post_id": 50498498, "comment_id": 88018197, "body": "@PHPglue In regard to using &quot;canvas filters&quot;, I read <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/filter\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/&hellip;</a>.  It appears to me that what I&#39;m doing above, specifically      <code>var cssFilter = getComputedStyle(cP).filter;</code>   <code>cntxCS.filter = cssFilter;</code>  <code>cntxCS.drawImage(cP, 0, 0);</code>  <b>is</b> using canvas filters.  Did you have something else in mind? If so, please provide source code, because I don&#39;t see how what I&#39;m doing differs from canvas filters. Thank you very much!"}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1527573224, "post_id": 50498498, "comment_id": 88163426, "body": "<code>getComputedStyle(cP).filter</code>? Pretty sure that won&#39;t work on any Browser. <code>canvasContext.filter</code> will work on Firefox, but not with most Browsers anyways. Use another technique."}, {"owner": {"reputation": 57, "user_id": 9701062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/427ee1cb7e6ab1a25daed3a617bc973e?s=128&d=identicon&r=PG&f=1", "display_name": "AARRGGHHH", "link": "https://stackoverflow.com/users/9701062/aarrgghhh"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1527660460, "post_id": 50498498, "comment_id": 88203863, "body": "@PHPglue Both techniques work in Firefox and Chrome (non-iOS). Neither work on Firefox or Chrome on iOS."}, {"owner": {"reputation": 57, "user_id": 9701062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/427ee1cb7e6ab1a25daed3a617bc973e?s=128&d=identicon&r=PG&f=1", "display_name": "AARRGGHHH", "link": "https://stackoverflow.com/users/9701062/aarrgghhh"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1527660556, "post_id": 50498498, "comment_id": 88203918, "body": "@PHPglue &quot;Use another technique&quot; Uh... when it comes to iOS, I would be happy to! Do you know of another technique?"}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1527718681, "post_id": 50498498, "comment_id": 88238006, "body": "<a href=\"https://www.html5rocks.com/en/tutorials/canvas/imagefilters/\" rel=\"nofollow noreferrer\">html5rocks.com/en/tutorials/canvas/imagefilters</a> &amp; <a href=\"http://php.net/manual/en/function.readfile.php\" rel=\"nofollow noreferrer\">php.net/manual/en/function.readfile.php</a>"}], "owner": {"reputation": 57, "user_id": 9701062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/427ee1cb7e6ab1a25daed3a617bc973e?s=128&d=identicon&r=PG&f=1", "display_name": "AARRGGHHH", "link": "https://stackoverflow.com/users/9701062/aarrgghhh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1527115435, "creation_date": 1527115435, "question_id": 50498498, "link": "https://stackoverflow.com/questions/50498498/force-ios-to-download-image-from-html5-canvas-using-pure-javascript-and-keep-c", "title": "Force iOS to download image from HTML5 Canvas (using pure javascript) AND keep CSS filters applied", "body": "<p>Reference is made to this post, which partially answered my question: <a href=\"https://stackoverflow.com/questions/50262986/force-ios-to-download-image-from-html5-canvas-using-pure-javascript\">Force iOS to download image from HTML5 Canvas (using pure JavaScript)</a></p>\n\n<p>In summary, that question has been asked before and the general response is that it can't be done on iOS. However, those questions are several years old, \nand the member who replied to the above question did supply a partial answer:   using HTMLCanvasElement.toDataURL() to convert the image to a data URL, and then forcing the data URL to open as an image in a new tab.  From there, it could then be downloaded by holding a finger on the image, opening the iOS save dialog box. </p>\n\n<p>The problem is, even though my save code downloads the image with the CSS Filters applied, the image that opens in a new tab on iOS does <strong>not</strong> have the filters applied.  </p>\n\n<p>So, my question is, how do I take the final step: forcing the image that opens in the new tab to have the CSS Filters applied, just as a downloaded image on a computer would have the CSS Filters applied. </p>\n\n<p>This is the code that takes the image from the original canvas and applies the CSS Filters, creating a new image with the CSS Filters applied: </p>\n\n<pre><code>function fileApply() \n{ \n\n  var cP = document.getElementById(\"cPreview\");\n  var cntxCP = cP.getContext(\"2d\");\n\n  var cS = document.getElementById(\"cSave\");\n  var cntxCS = cS.getContext(\"2d\");\n\n  // take whatever CSS filters are applied to the first canvas\n  var cssFilter = getComputedStyle(cP).filter; \n\n  // use those filter as the second canvas' context's filter\n  cS.width = cP.width; \n  cS.height = cP.height; \n  cntxCS.filter = cssFilter;\n\n  cntxCS.drawImage(cP, 0, 0);\n  cP.style.display = \"none\";   \n  if (cS.style.display == \"none\") cS.style.display = \"block\";   \n}\n</code></pre>\n\n<p>That all works. </p>\n\n<p>This is the save code:    </p>\n\n<pre><code>function fileSave()\n{\n\n  var canvas = document.getElementById('cSave');\n\n  if (document.getElementById(\"png\").checked == true)\n  {\n    var quality = null;  // canvas.toBlob() takes an extra argument if file type is JPG. Set quality to null to allow PNG downloads. Quality value will be supplied if JPG is selected.   \n    var format = \"image/png\"; \n    var name = \"new_image.png\"; \n  }\n\n  if (document.getElementById(\"jpg\").checked == true)\n  {\n    var format = \"image/jpeg\";  \n    var quality = Number(document.getElementById(\"quality\").value) / 100; \n    var name = \"new_image.jpg\"\n  }\n\n  if (!isIOS())\n  {\n    canvas.toBlob(function(blob) // Send canvas to blob and download blob \n    {\n    const anchor = document.createElement('a')\n    const url = URL.createObjectURL(blob)\n    anchor.href = url\n    anchor.download = name, \n    document.body.appendChild(anchor)\n    anchor.click()\n    document.body.removeChild(anchor)\n    URL.revokeObjectURL(url);   \n    }, format, quality)\n  }\n\n  if (isIOS()) \n  {\n    var iString = canvas.toDataURL(); // convert image to base64 string \n    document.getElementById(\"iOS\").innerHTML = '&lt;a href=\"' + iString + '\"&gt;click me&lt;/a&gt;'; // add string to url and target new tab.     \n  }\n</code></pre>\n\n<p>That works fine on a computer.  On iOS that creates the new image in a new tab <strong>without</strong> the CSS Filters applied. </p>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "unit-testing", "testing", "jestjs"], "comments": [{"owner": {"reputation": 9255, "user_id": 2064206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab427818434554339994a8dd41ec28da?s=128&d=identicon&r=PG&f=1", "display_name": "dcodesmith", "link": "https://stackoverflow.com/users/2064206/dcodesmith"}, "edited": false, "score": 0, "creation_date": 1527151600, "post_id": 50498493, "comment_id": 88021776, "body": "What happens when you try it your way?"}, {"owner": {"reputation": 345, "user_id": 2114280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21e5495d32ee6a21fa1d13ae26be46f5?s=128&d=identicon&r=PG", "display_name": "mkuniyil", "link": "https://stackoverflow.com/users/2114280/mkuniyil"}, "reply_to_user": {"reputation": 9255, "user_id": 2064206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab427818434554339994a8dd41ec28da?s=128&d=identicon&r=PG&f=1", "display_name": "dcodesmith", "link": "https://stackoverflow.com/users/2064206/dcodesmith"}, "edited": false, "score": 0, "creation_date": 1527239585, "post_id": 50498493, "comment_id": 88062934, "body": "@dcodesmith I&#39;m adding react components to existing app which is written in ampersand js, whose test cases are written in mocha. I&#39;m planning to migrate it to jest later. Right now i decided to start writing test cases for the new files ending with .spec.js in jest, but don&#39;t want to do the coverage for other files in the same folder."}, {"owner": {"reputation": 9255, "user_id": 2064206, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab427818434554339994a8dd41ec28da?s=128&d=identicon&r=PG&f=1", "display_name": "dcodesmith", "link": "https://stackoverflow.com/users/2064206/dcodesmith"}, "edited": false, "score": 0, "creation_date": 1527240331, "post_id": 50498493, "comment_id": 88063388, "body": "Coverage isn&#39;t for the spec files, it&#39;s for the actually files with the code, so you should be targeting those."}], "owner": {"reputation": 345, "user_id": 2114280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21e5495d32ee6a21fa1d13ae26be46f5?s=128&d=identicon&r=PG", "display_name": "mkuniyil", "link": "https://stackoverflow.com/users/2114280/mkuniyil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 286, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527115418, "creation_date": 1527115418, "question_id": 50498493, "link": "https://stackoverflow.com/questions/50498493/how-can-add-jest-test-coverage-only-for-files-ending-spec-js", "title": "How can add jest test coverage only for files ending &#39;spec.js&#39;", "body": "<p>I have my code written under 'test' folder. and added the option for jest in package.json as</p>\n\n<pre><code>\"collectCoverageFrom\": [\"test/*.{js}\", \"test/**/*.{js}\"]\n</code></pre>\n\n<p>But this is applicable for all the js files under test folder. My requirement is to restrict the coverage only for files ending .spec.js, something like </p>\n\n<p><code>\"collectCoverageFrom\": [\"test/*.spec.js\", \"test/**/*.spec.js\"]\n</code></p>\n"}, {"tags": ["javascript", "html", "tinymce"], "answers": [{"comments": [{"owner": {"reputation": 350, "user_id": 7654233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7929daad83635426eaa703529f818e?s=128&d=identicon&r=PG", "display_name": "Lee M", "link": "https://stackoverflow.com/users/7654233/lee-m"}, "edited": false, "score": 0, "creation_date": 1527119361, "post_id": 50498818, "comment_id": 88010779, "body": "I tried doing it with images_upload_handler method stated in the docs. Configured the settings a little bit and it uploads to my cloudinary url, but it won&#39;t give me the url for the image on successful upload. See my edit above."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8701049"}, "is_accepted": false, "score": 0, "last_activity_date": 1527118046, "creation_date": 1527118046, "answer_id": 50498818, "question_id": 50498470, "link": "https://stackoverflow.com/questions/50498470/setting-up-tinymce-with-cloudinary-in-html-and-javascript/50498818#50498818", "title": "setting up tinymce with cloudinary in html and javascript", "body": "<p>Try \"faking\" a POST request for one. I am still trying. To figure out why the documentation \"requires\" a POST request. The PHP example: <a href=\"https://www.tinymce.com/docs-3x//TinyMCE3x@Installation/\" rel=\"nofollow noreferrer\">https://www.tinymce.com/docs-3x//TinyMCE3x@Installation/</a> just echos back what gets POSTED to server. The plugin must be interpolated the <strong>posted</strong> content.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10935682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/941882853a628f71f1ad3c918864bdec?s=128&d=identicon&r=PG&f=1", "display_name": "lsaldanha", "link": "https://stackoverflow.com/users/10935682/lsaldanha"}, "is_accepted": false, "score": 0, "last_activity_date": 1550762036, "last_edit_date": 1550762036, "creation_date": 1547851075, "answer_id": 54262326, "question_id": 50498470, "link": "https://stackoverflow.com/questions/50498470/setting-up-tinymce-with-cloudinary-in-html-and-javascript/54262326#54262326", "title": "setting up tinymce with cloudinary in html and javascript", "body": "<p>Inspired by your code, I was able to resolve this pain point for myself. The missing part was that after parsing the response, the secure_url from the response needed to be called and assigned to json in the format required by TinyMCE. Following is the code:</p>\n\n<pre><code>images_upload_handler: function (blobInfo, success, failure) {\n            var xhr, formData;\n\n            xhr = new XMLHttpRequest();\n            xhr.withCredentials = false;\n\n//restricted it to image only using resource_type = image in url, you can set it to auto for all types \n\n            xhr.open('POST', 'https://api.cloudinary.com/v1_1/&lt;yourcloudname&gt;/image/upload');\n\n            xhr.onload = function () {\n\n                if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) {\n                    var response = JSON.parse(xhr.responseText);\n                    var url = response.secure_url; //get the url \n                    var json = {location: url}; //set it in the format tinyMCE wants it\n                    success(json.location);\n                }\n            };\n\n            formData = new FormData();\n            formData.append('file', blobInfo.blob(), blobInfo.filename());\n            formData.append('upload_preset', '&lt;YourUnsignedUploadPreset&gt;');\n\n            xhr.send(formData);\n        }\n</code></pre>\n"}], "owner": {"reputation": 350, "user_id": 7654233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da7929daad83635426eaa703529f818e?s=128&d=identicon&r=PG", "display_name": "Lee M", "link": "https://stackoverflow.com/users/7654233/lee-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 288, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550762036, "creation_date": 1527115282, "last_edit_date": 1527119505, "question_id": 50498470, "link": "https://stackoverflow.com/questions/50498470/setting-up-tinymce-with-cloudinary-in-html-and-javascript", "title": "setting up tinymce with cloudinary in html and javascript", "body": "<p>I've read the readme file at <a href=\"https://github.com/cloudinary/cloudinary_tinymce\" rel=\"nofollow noreferrer\">https://github.com/cloudinary/cloudinary_tinymce</a> but still can't understand how to do it. Plus they do it on Ruby on Rails, which doesn't really help.</p>\n\n<p>Do I really need to do server-side endpoint? It only asks for a signed URL. But I don't need it to be signed. How do I do it within JavaScript and HTML alone? I don't want to do anything inside my server except to render templates. </p>\n\n<p>edit: I tried it with <code>image_upload handler</code> and it uploads to my Cloudinary account. But it won't give me the url for the image on successful upload (I expect to get something like <code>https://res.cloudinary.com/strova/image/upload/v1527068409/asl_gjpmhn.jpg</code>). Here's my code:</p>\n\n<pre><code>images_upload_handler: function (blobInfo, success, failure) {\n            var xhr, formData;\n\n            xhr = new XMLHttpRequest();\n            xhr.withCredentials = false;\n            xhr.open('POST', 'https://api.cloudinary.com/v1_1/strova/upload');\n\n            xhr.onload = function () {\n                var json;\n\n                if (xhr.status !== 200) {\n                    failure('HTTP Error: ' + xhr.status);\n                    return;\n                }\n\n                json = JSON.parse(xhr.responseText);\n\n\n\n                success(json.location);\n            };\n\n            formData = new FormData();\n            formData.append('file', blobInfo.blob(), blobInfo.filename());\n            formData.append('upload_preset', cloudinary_upload_preset);\n\n            xhr.send(formData);\n        }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "jsx"], "comments": [{"owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "edited": false, "score": 1, "creation_date": 1527115851, "post_id": 50498453, "comment_id": 88009907, "body": "Are you sure there isn&#39;t something else going on? I&#39;m not getting that warning here: <a href=\"https://jsfiddle.net/6y5sgss5/\" rel=\"nofollow noreferrer\">jsfiddle.net/6y5sgss5</a>. Is your mixed content in a div or a different container that may be doing Array stuff behind the scenes?"}, {"owner": {"reputation": 1486, "user_id": 5171417, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-fPSv8TETmqU/AAAAAAAAAAI/AAAAAAAALmc/UyOO6totRsk/photo.jpg?sz=128", "display_name": "John Samuel", "link": "https://stackoverflow.com/users/5171417/john-samuel"}, "edited": false, "score": 0, "creation_date": 1527124917, "post_id": 50498453, "comment_id": 88011891, "body": "I don&#39;t see any warning being rendered with the code you shared.  Are you very sure that this piece of code is displaying the warning ?"}, {"owner": {"reputation": 982, "user_id": 1138860, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FDbQv.jpg?s=128&g=1", "display_name": "misantronic", "link": "https://stackoverflow.com/users/1138860/misantronic"}, "edited": false, "score": 0, "creation_date": 1527142992, "post_id": 50498453, "comment_id": 88016912, "body": "I&#39;m actually really confused because even my reallife example applied to your fiddle will not reproduce the warning. what strangely will solve it is adding keys to each JSX-element, like: <code>Do you really want to notify all users in &lt;b key=&quot;b&quot;&gt;{selectedCompany.name}&lt;&#47;b&gt; about the latest changes?</code>"}], "answers": [{"tags": [], "owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "is_accepted": false, "score": 0, "last_activity_date": 1527115445, "creation_date": 1527115445, "answer_id": 50498501, "question_id": 50498453, "link": "https://stackoverflow.com/questions/50498453/mixing-text-with-react-components/50498501#50498501", "title": "Mixing text with react-components", "body": "<p>Remove extra curly brackets</p>\n\n<pre><code>&lt;div&gt;\n  lorem ipsum &lt;b&gt;dolor&lt;/b&gt;,some &lt;a href=\"#\"&gt;link&lt;/a&gt; and again text &lt;i&gt;great&lt;/i&gt;.\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 106, "user_id": 843626, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b365cb01f09c7c6902d68eb2cee3f29?s=128&d=identicon&r=PG", "display_name": "DroidHopper", "link": "https://stackoverflow.com/users/843626/droidhopper"}, "is_accepted": false, "score": 0, "last_activity_date": 1527125757, "creation_date": 1527125757, "answer_id": 50499673, "question_id": 50498453, "link": "https://stackoverflow.com/questions/50498453/mixing-text-with-react-components/50499673#50499673", "title": "Mixing text with react-components", "body": "<p>From <a href=\"https://reactjs.org/docs/lists-and-keys.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/lists-and-keys.html</a></p>\n\n<blockquote>\n  <p>Keys help React identify which items have changed, are added, or are removed. Keys should be given to the elements inside the array to give the elements a stable identity</p>\n</blockquote>\n\n<p>So, you can add keys by passing them to your Component like this:</p>\n\n<pre><code>&lt;YourComponent key={index} /&gt;\n</code></pre>\n\n<p>But, be aware that item index should only be a last resort for a key.</p>\n\n<blockquote>\n  <p>When you don\u2019t have stable IDs for rendered items, you may use the item index as a key as a last resort:</p>\n</blockquote>\n"}], "owner": {"reputation": 982, "user_id": 1138860, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/FDbQv.jpg?s=128&g=1", "display_name": "misantronic", "link": "https://stackoverflow.com/users/1138860/misantronic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1527125757, "creation_date": 1527115177, "question_id": 50498453, "link": "https://stackoverflow.com/questions/50498453/mixing-text-with-react-components", "title": "Mixing text with react-components", "body": "<p>I habe a component with outputs pure text mixed with react-components. something like:</p>\n\n<pre><code>&lt;div&gt;\n  lorem ipsum &lt;b&gt;dolor&lt;/b&gt;,{' '}\n  some &lt;a href=\"#\"&gt;link&lt;/a&gt; and{' '}\n  again text.\n  &lt;i&gt;great&lt;/i&gt;.\n&lt;/div&gt;\n</code></pre>\n\n<p>When rendering this, react outputs me a warning</p>\n\n<blockquote>\n  <p>Each child in an array or iterator should have a unique \"key\"</p>\n</blockquote>\n\n<p>I was wondering how to solve this.</p>\n"}, {"tags": ["javascript", "json", "object", "polymer-2.x"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1530909772, "post_id": 50498440, "comment_id": 89415935, "body": "To be clear in our writing, <a href=\"http://benalman.com/news/2010/03/theres-no-such-thing-as-a-json/\" rel=\"nofollow noreferrer\">There&#39;s no such thing as a &quot;JSON Object&quot;</a>."}, {"owner": {"reputation": 497, "user_id": 9243790, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/461ba83f504b5073e9528791b3464bea?s=128&d=identicon&r=PG&f=1", "display_name": "NeitoFR", "link": "https://stackoverflow.com/users/9243790/neitofr"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1532442237, "post_id": 50498440, "comment_id": 89970430, "body": "Thank you ! That&#39;s is insightful"}], "answers": [{"comments": [{"owner": {"reputation": 497, "user_id": 9243790, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/461ba83f504b5073e9528791b3464bea?s=128&d=identicon&r=PG&f=1", "display_name": "NeitoFR", "link": "https://stackoverflow.com/users/9243790/neitofr"}, "edited": false, "score": 0, "creation_date": 1527195052, "post_id": 50498598, "comment_id": 88048503, "body": "Sorry it didn&#39;t work for me :(. Since it&#39;s was about updating the localStorage variable, I directly modified it :   <code>var user = localStorage[&#39;user-storage&#39;];   user = JSON.parse(user); &#47;&#47; Parse the stuff &#47;&#47;Do your cooking. user = JSON.stringify(user); &#47;&#47; Stringify and reaffect the variable.  localStorage[&#39;user-storage&#39;] = user;</code> (sorry I don&#39;t know how to break lines in comment (it says two spaces but it doesn&#39;t work)"}], "tags": [], "owner": {"reputation": 54, "user_id": 8384122, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U__LWlgyt_Y/AAAAAAAAAAI/AAAAAAAAAbY/wyzROyp6uhw/photo.jpg?sz=128", "display_name": "L&#233;onard Cherouvrier", "link": "https://stackoverflow.com/users/8384122/l%c3%a9onard-cherouvrier"}, "is_accepted": false, "score": 0, "last_activity_date": 1527116198, "creation_date": 1527116198, "answer_id": 50498598, "question_id": 50498440, "link": "https://stackoverflow.com/questions/50498440/polymer-how-to-do-this-set-or-notifypath-on-dinamically-generated-subproper/50498598#50498598", "title": "Polymer: how to do &#39;this.set&#39; or &#39;notifyPath&#39; on dinamically generated subproperties of JSON object?", "body": "<p>You can do (it's a string, so concat it before) :</p>\n\n<pre><code>const key = \"storedUser.\"+key;\nthis.set(key, []);\n</code></pre>\n\n<p>from docs : <a href=\"https://www.polymer-project.org/2.0/docs/devguide/model-data\" rel=\"nofollow noreferrer\">https://www.polymer-project.org/2.0/docs/devguide/model-data</a>\n(same for 1.0)</p>\n"}], "owner": {"reputation": 497, "user_id": 9243790, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/461ba83f504b5073e9528791b3464bea?s=128&d=identicon&r=PG&f=1", "display_name": "NeitoFR", "link": "https://stackoverflow.com/users/9243790/neitofr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1530909590, "creation_date": 1527115082, "last_edit_date": 1530909590, "question_id": 50498440, "link": "https://stackoverflow.com/questions/50498440/polymer-how-to-do-this-set-or-notifypath-on-dinamically-generated-subproper", "title": "Polymer: how to do &#39;this.set&#39; or &#39;notifyPath&#39; on dinamically generated subproperties of JSON object?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var newUser = evt.detail.response[0];\r\nvar keys = Object.keys(evt.detail.response[0]);\r\nvar cpt = [];\r\nkeys.forEach(key =&gt; {\r\n    if (this.storedUser[key] != newUser[key]) {\r\n        this.storedUser[key] = newUser[key];\r\n        cpt.push(key);\r\n    }\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How can I notify the change of this kind of variables? </p>\n\n<p>Since I cannot do:   </p>\n\n<pre><code>this.set('storedUser[key]', newUser[key]); \n</code></pre>\n\n<p>Nor:</p>\n\n<pre><code>this.set('storedUser'[key], newUser[key]);  \n</code></pre>\n\n<p>Nor:</p>\n\n<pre><code>this.notifyPath('storedUser[key]');  \n</code></pre>\n\n<p>Nor:</p>\n\n<pre><code>this.notifyPath('storedUser'[key]);\n</code></pre>\n"}, {"tags": ["javascript", "mysql", "json", "node.js", "graphql"], "answers": [{"comments": [{"owner": {"reputation": 2120, "user_id": 676490, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1630c60605bbea32c9508e6e20a0354a?s=128&d=identicon&r=PG", "display_name": "Jos&#233; Carlos", "link": "https://stackoverflow.com/users/676490/jos%c3%a9-carlos"}, "edited": false, "score": 0, "creation_date": 1527115824, "post_id": 50498534, "comment_id": 88009898, "body": "Yes with JSON.parse I&#39;ve got an error in the server :("}, {"owner": {"reputation": 2120, "user_id": 676490, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1630c60605bbea32c9508e6e20a0354a?s=128&d=identicon&r=PG", "display_name": "Jos&#233; Carlos", "link": "https://stackoverflow.com/users/676490/jos%c3%a9-carlos"}, "edited": false, "score": 0, "creation_date": 1527116348, "post_id": 50498534, "comment_id": 88010017, "body": "Thanks @Denis Kovzelyuk but If I try to return JSON.parse(resolve) I&#39;ve got an error. I have edited my original post with the error. What happend?"}], "tags": [], "owner": {"reputation": 96, "user_id": 9330361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Obxoa.png?s=128&g=1", "display_name": "Denis Kovzelyuk", "link": "https://stackoverflow.com/users/9330361/denis-kovzelyuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1527115633, "creation_date": 1527115633, "answer_id": 50498534, "question_id": 50498415, "link": "https://stackoverflow.com/questions/50498415/how-to-return-a-json-to-graphql-from-a-mysql-query/50498534#50498534", "title": "How to return a json to GraphQL from a MySQL query?", "body": "<p>Have you tried to use JSON.parse() instead of JSON.stringify?</p>\n\n<p>You might get more info about the difference here:\n<a href=\"https://stackoverflow.com/questions/17785592/difference-between-json-stringify-and-json-parse\">Difference between JSON.stringify and JSON.parse</a></p>\n"}, {"tags": [], "owner": {"reputation": 16798, "user_id": 2700356, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/3dfefc6b61d98e4285d12ad300567d23?s=128&d=identicon&r=PG", "display_name": "Yuci", "link": "https://stackoverflow.com/users/2700356/yuci"}, "is_accepted": true, "score": 2, "last_activity_date": 1543579260, "last_edit_date": 1543579260, "creation_date": 1543578866, "answer_id": 53557052, "question_id": 50498415, "link": "https://stackoverflow.com/questions/50498415/how-to-return-a-json-to-graphql-from-a-mysql-query/53557052#53557052", "title": "How to return a json to GraphQL from a MySQL query?", "body": "<p>The issue should be that you've returned from your resolver before your promise gets resolved, thus you always get null:</p>\n\n<pre><code>{\n  \"data\": {\n    \"player\": null\n  }\n}\n</code></pre>\n\n<p>What you can do is, in your resolver wait before return util your promise has been resolved, something like this:</p>\n\n<pre><code>async getPlayer(obj, args, context) =&gt; {\n    ...\n    let myPromise = new Promise((resolve, reject) =&gt; {\n        ...\n    });\n    console.log(\"Salgo de la consulta\");\n    let result;\n    try {\n      result = await myPromise;\n    } catch(error) {\n      return error;\n    }\n    return JSON.stringify(result);\n};\n</code></pre>\n"}], "owner": {"reputation": 2120, "user_id": 676490, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/1630c60605bbea32c9508e6e20a0354a?s=128&d=identicon&r=PG", "display_name": "Jos&#233; Carlos", "link": "https://stackoverflow.com/users/676490/jos%c3%a9-carlos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2240, "favorite_count": 0, "accepted_answer_id": 53557052, "answer_count": 2, "score": 1, "last_activity_date": 1543579260, "creation_date": 1527114898, "last_edit_date": 1527124374, "question_id": 50498415, "link": "https://stackoverflow.com/questions/50498415/how-to-return-a-json-to-graphql-from-a-mysql-query", "title": "How to return a json to GraphQL from a MySQL query?", "body": "<p>I'm newbie with nodejs and qraphql and I'm trying to make a simple query to graphql. After making the query to a MySQL database my problem is that I don't know how to send the data correctly to graphql to see the result.</p>\n\n<p>I have to try to stringfy the resolve but it doesn't work. I return the result from mySQL with an json and it doesn't work. Why I can't see the result in Graphiql? How I have to return the resolve?</p>\n\n<p>This is the function where I make the query and return the result:</p>\n\n<pre><code>let getPlayer = (args) =&gt; {\n    let id = args.id;\n    console.log(\"id: \" + id);\n    let myPromise = new Promise((resolve, reject) =&gt; {\n        const connection = mysql.createConnection(config.ddbb_connection);\n        connection.connect();\n        connection.query(\"select json_object('id', id) as player from tbl003_player where id = \" + id, \n                        function (error, results, fields) {\n            if (!error){\n                if (results.length &gt; 0){\n                    resolve(results[0]);\n                    console.log(\"resultado: \" + results[0]);\n                }else{\n                    reject(new Error(\"No se ha encontrado ninguna jugadora con el ID: \" + id));\n                }\n            }else{\n                reject(new Error(\"Se ha producido un error de acceso a BBDD\"));\n            }             \n          });\n        connection.end();        \n    });\n    console.log(\"Salgo de la consulta\");\n    myPromise.then((resolve) =&gt; {\n        console.log(\"resolve: \" + JSON.stringify(resolve));\n        return resolve;\n    },(error) =&gt; {\n        console.log(error);\n        return error;\n    });\n};\n</code></pre>\n\n<p><strong>Edit I:</strong></p>\n\n<p>If I change JSON.stringify for JSON.parse I've got this error in the console:</p>\n\n<pre><code>(node:31898) UnhandledPromiseRejectionWarning: SyntaxError: Unexpected token o in JSON at position 1\n    at JSON.parse (&lt;anonymous&gt;)\n    at myPromise.then (/home/josecarlos/Workspace/graph-ql/primer-server-express/routes-api.js:68:21)\n    at &lt;anonymous&gt;\n    at process._tickCallback (internal/process/next_tick.js:188:7)\n(node:31898) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing insideof an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:31898) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n</code></pre>\n\n<p><strong>Edit II:</strong></p>\n\n<p>I have fixed the error when I return JSON.parse(resolve) but it doesn't work :( I'm still getting this error in GraphiQL:</p>\n\n<pre><code>{\n  \"data\": {\n    \"player\": null\n  }\n}\n</code></pre>\n\n<p>The code where I manage myPromise is now  this ...</p>\n\n<pre><code>myPromise.then((resolve) =&gt; {\n    console.log(\"resolve: \" + JSON.stringify(resolve));\n    data = JSON.parse(resolve);\n    return data;\n},(error) =&gt; {\n    console.log(error);\n    return error;\n}).catch(() =&gt; {\n    console.log(\"Entro dentro del catch\");\n});\n</code></pre>\n\n<p><strong>Edit III:</strong></p>\n\n<p>We've got this string <em>{\"player\":\"{\\\"id\\\": 11}\"}</em> with JSON.stringify(resolve). I think that I have to return just only <em>{\\\"id\\\":11}</em>. How can I do that? Any idea how to return a json to GraphiQL?</p>\n\n<p><strong>Edit IV:</strong></p>\n\n<p>I have modified my code to return just only the json with return resolve(results[0].player) and it doesn't work!!! </p>\n\n<p>This is my actual code:</p>\n\n<pre><code>let getPlayer = (args) =&gt; {\n    let id = args.id;\n    console.log(\"id: \" + id);\n    let myPromise = new Promise((resolve, reject) =&gt; {\n        const connection = mysql.createConnection(config.ddbb_connection);\n        connection.connect();\n        connection.query(\"select json_object('id', id) as player from tbl003_player where id = \" + id, \n                        function (error, results, fields) {\n            if (!error){\n                if (results.length &gt; 0){\n                    resolve(results[0].player);\n                    console.log(\"resultado: \" + results[0].player);\n                }else{\n                    reject(new Error(\"No se ha encontrado ninguna jugadora con el ID: \" + id));\n                }\n            }else{\n                reject(new Error(\"Se ha producido un error de acceso a BBDD\"));\n            }             \n          });\n        connection.end();        \n    });\n    console.log(\"Salgo de la consulta\");\n    myPromise.then((resolve) =&gt; {\n        console.log(\"resolve: \" + JSON.stringify(resolve));\n        return JSON.parse(resolve);\n    },(error) =&gt; {\n        console.log(error);\n        return error;\n    }).catch(() =&gt; {\n        console.log(\"Entro dentro del catch\");\n    });\n};\n</code></pre>\n"}, {"tags": ["javascript", "canvas", "sprite", "sprite-sheet"], "comments": [{"owner": {"reputation": 96, "user_id": 7999952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDgKJ.png?s=128&g=1", "display_name": "Nicholas Chin", "link": "https://stackoverflow.com/users/7999952/nicholas-chin"}, "edited": false, "score": 0, "creation_date": 1527317760, "post_id": 50498350, "comment_id": 88091806, "body": "Could you please add screenshots of both cases? The files do not seem to be loading on the codepen. Also, I am not quite clear of what you mean by white background, so a screenshot of that case would be helpful."}, {"owner": {"reputation": 96, "user_id": 7999952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDgKJ.png?s=128&g=1", "display_name": "Nicholas Chin", "link": "https://stackoverflow.com/users/7999952/nicholas-chin"}, "edited": false, "score": 0, "creation_date": 1527375698, "post_id": 50498350, "comment_id": 88106009, "body": "Okay, the codepen is working now, and I see what you mean by the trailing. However, I am still not clear on what you mean by the white background."}, {"owner": {"reputation": 96, "user_id": 7999952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDgKJ.png?s=128&g=1", "display_name": "Nicholas Chin", "link": "https://stackoverflow.com/users/7999952/nicholas-chin"}, "edited": false, "score": 0, "creation_date": 1527378411, "post_id": 50498350, "comment_id": 88106446, "body": "By the white background, do you mean that the sprites representing the 0s and 2s in the map array are not displaying? Or do you mean that there are no further sprites displayed on the right hand side when you move to the right?"}], "owner": {"reputation": 777, "user_id": 2396545, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/0e974a765469c18a1cb8386c93f3bc18?s=128&d=identicon&r=PG", "display_name": "Limpuls", "link": "https://stackoverflow.com/users/2396545/limpuls"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 91, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1527117440, "creation_date": 1527114415, "last_edit_date": 1527117440, "question_id": 50498350, "link": "https://stackoverflow.com/questions/50498350/html-canvas-is-leaving-the-trails-on-the-horizontal-translate-move", "title": "HTML canvas is leaving the trails on the horizontal translate move", "body": "<p>I'm trying to understand how HTML canvas works. I know the basics and I'm coding a 2D game, but I have so many questions regarding it and its weird behaviour. I have different versions of code and each gives me different results when moving the character to the right or left on canvas. </p>\n\n<p>The main problem is that when the <code>translate()</code> for canvas is called on the character move to the right, it starts to leave the trails of sprites. I try to fix this with <code>clearRect()</code> but if I use <code>clearRect</code> then it just gives me white empty background on <code>translate()</code> function when moving to the right. Why there are no trails of the character when moving in the center but once I move outside the center more to the right, it's either the sprite character or sprite tilesets that gets trailed?</p>\n\n<p>I really need help with this, so if the question is too broad or not clear enough, let me know and I fill fix it. </p>\n\n<p>explain me what's happening with the canvas and how to fix it so that when <code>translate()</code> happens on the character move to the side, there is no white background or sprite trails happening but just a nice render as it is onload.</p>\n\n<p><a href=\"https://codepen.io/Limpuls/pen/deEGXX\" rel=\"nofollow noreferrer\">https://codepen.io/Limpuls/pen/deEGXX</a> leaves trails for tilesets on the character move. You can see that it starts happening when translate() for canvas is happening. If I try to <code>clearRect</code> inside my render draw loop before drawing, then on the character move then background gets cutted off and there is just a white background. Why and how to fix this? Inside <code>render()</code> function try to comment and uncomment <code>clearRect()</code> to see what I'm talking about.</p>\n\n<pre><code>var canvas = document.getElementById(\"canvas\");\nvar context = canvas.getContext(\"2d\");\nvar view = {x: 0, y: 0};\nvar questionsArray = [];\nvar moveCount = 0;\nvar moveCharacter = false;\nvar theArray = [];\n/*var mapArray = [\n  [0, 0, 0, 0, 1, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 2, 2, 0],\n  [0, 0, 1, 1, 1, 0, 0, 2, 0, 0],\n  [0, 0, 1, 1, 1, 0, 0, 0, 0, 0],\n  [0, 0, 0, 1, 1, 1, 1, 1, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 1, 1, 0, 0, 0, 0],\n  [0, 0, 0, 0, 1, 1, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 2, 2, 0],\n  [0, 0, 1, 1, 1, 0, 0, 2, 0, 0],\n  [0, 0, 1, 1, 1, 0, 0, 0, 0, 0],\n  [0, 0, 0, 1, 1, 0, 0, 0, 0, 0]\n];\n*/\nvar mapArray = [\n  [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],\n  [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],\n  [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],\n  [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0],\n  [0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 1, 1, 0, 0, 0],\n  [0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\n  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\n  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\n  [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\n];\nfunction isPositionWall(ptX, ptY) {\n  var gridX = Math.floor(ptX / 36);\n  var gridY = Math.floor(ptY / 36);\n  /*if(gridX &gt; 0 || gridX &gt;= mapArray[0].length)*/\n  if(mapArray[gridX][gridY] === 1) {\n    return true;\n  /*if(gridY &lt; 0 || gridY &gt;= mapArray.length)\n    return true;\n    return mapArray[gridX][gridY];*/\n  }\n}\n\n\nvar Question = function(question, answer1, answer2, correctAnswer) {\n  this.question = question;\n  this.answer1 = answer1;\n  this.answer2 = answer2;\n  this.correctAnswer = correctAnswer;\n\n  this.addToArray = function(){\n     theArray.push(this);\n };\n  this.addToArray();\n}\n\nQuestion.prototype.checkAnswer = function(answer1, answer2) {\n  if (answer1.innerHTML  == this.correctAnswer) {\n    console.log(\"correct\");\n    moveCharacter = true;\n  } else {\n    console.log(\"nope\")\n  }\n}\n\nvar question1 = new Question(\"Taip ar ne?\", \"Taip\", \"Ne\", \"Taip\");\nvar question2 = new Question(\"Jo ar ne?\", \"Ne\", \"Jo\", \"Ne\");\nvar question3 = new Question(\"Aha ar ne?\", \"Aha\", \"Ne\", \"Aha\");\nvar question4 = new Question(\"Ja ar ne?\", \"Taip\", \"Ne\", \"Taip\");\nvar question5 = new Question(\"Jojo ar ne?\", \"Jojo\", \"Ne\", \"Jojo\");\nvar question6 = new Question(\"Taip ar ne?\", \"Taip\", \"Ne\", \"Taip\");\nvar question7 = new Question(\"Taip ar ne?\", \"Taip\", \"Ne\", \"Taip\");\n\nvar question7 = new Question(\"Taip ar ne?\", \"Taip\", \"Ne\", \"Taip\");\nvar question7 = new Question(\"Taip ar ne?\", \"Taip\", \"Ne\", \"Taip\");\nvar question7 = new Question(\"Taip ar ne?\", \"Taip\", \"Ne\", \"Taip\");\nvar question7 = new Question(\"Taip ar ne?\", \"Taip\", \"Ne\", \"Taip\");\nvar question7 = new Question(\"Taip ar ne?\", \"Taip\", \"Ne\", \"Taip\");\nvar question7 = new Question(\"Taip ar ne?\", \"Taip\", \"Ne\", \"Taip\");\nvar question7 = new Question(\"Taip ar ne?\", \"Taip\", \"Ne\", \"Taip\");\nvar question7 = new Question(\"Taip ar ne?\", \"Taip\", \"Ne\", \"Taip\");\nvar StyleSheet = function(image, width, height, x, y) {\n  this.image = image;\n  this.width = width;\n  this.height = height;\n  this.x = x;\n  this.y = y\n  this.draw = function(image, sx, sy, swidth, sheight, x, y, width, height) {\n    context.drawImage(image, sx, sy, swidth, sheight, x, y, width, height);\n  };\n  this.drawimage = function(image, x, y, width, height) {\n    context.drawImage(image, x, y, width, height);\n  };\n};\n\n/* Initial Sprite Position */\n\n\nvar boatPosX = canvas.height/2 - 50;\nvar boatPosY = canvas.height/2 - 50;\n\nfunction render(viewport) {\n\n  context.save();\n  context.translate(view.x, view.y);\n  context.clearRect(0, 0, canvas.width, canvas.height)\n  requestAnimationFrame(render);\n  var oldPosX = boatPosX;\n  var oldPosY = boatPosY;\n\n\n  for (let i = 0; i &lt; mapArray.length; i++) {\n    for (let j = 0; j &lt; mapArray[i].length; j++) {\n\n      if (mapArray[j][i] == 0) {\n        this.sprite.draw(\n          background,\n          190,\n          230,\n          26,\n          26,\n          i * this.sprite.width,\n          j * this.sprite.height,\n          this.sprite.width,\n          this.sprite.height\n        );\n      }\n      if (mapArray[j][i] == 1) {\n        this.sprite.draw(\n          background,\n          30,\n          30,\n          26,\n          26,\n          i * this.sprite.width,\n          j * this.sprite.height,\n          this.sprite.width,\n          this.sprite.height\n        );\n\n      }\n      if (mapArray[j][i] == 2) {\n        this.sprite.draw(\n          background,\n          200,\n          20,\n          26,\n          26,\n          i * this.sprite.width,\n          j * this.sprite.height,\n          this.sprite.width,\n          this.sprite.height\n        );\n      }\n    }\n  }\n  this.ship.drawimage(boat, boatPosX, boatPosY, 50, 50);\n  /*var lineHeight = 16 * 2.286;\n  var textWidth = context.measureText(theArray[moveCount].question).width * 3;\n  context.textAlign = 'left';\n  context.textBaseline = 'top';\n  context.font=\"14px Verdana\";\n  context.fillStyle = 'rgba(0, 0, 0 ,0.9)';\n  context.fillRect(boatPosX + ship.width / 2, boatPosY - ship.height / 2, textWidth, lineHeight);\n  context.fillStyle = 'white';\n  context.fillText(theArray[moveCount].question, boatPosX + ship.width / 2, boatPosY - ship.height / 2);\n\n  answerBtn1.innerHTML = theArray[moveCount].answer1;\n  answerBtn2.innerHTML = theArray[moveCount].answer2;*/\n  if(isPositionWall(boatPosX + 36, boatPosY)) {\n    //boatPosX = oldPosY;\n    //console.log(\"collision\");\n  }\n  //console.log(mapArray[Math.floor(boatPosX / 36)]);\n  //console.log(mapArray[Math.floor(boatPosX / 36)][Math.floor(boatPosX / 36)]);\n  context.restore();\n\n};\n\n\nvar btn1 = document.getElementsByClassName(\"button1\")[0];\nvar btn2 = document.getElementsByClassName(\"button2\")[0];\nvar btn3 = document.getElementsByClassName(\"button3\")[0];\nvar btn4 = document.getElementsByClassName(\"button4\")[0];\nvar answerBtn1 = document.getElementsByClassName(\"answer1\")[0];\nvar answerBtn2 = document.getElementsByClassName(\"answer2\")[0];\n\nconsole.log(theArray);\n\nanswerBtn1.addEventListener(\"click\", function(e) {\n  theArray[moveCount].checkAnswer(answerBtn1, answerBtn2);\n});\n\nanswerBtn2.addEventListener(\"click\", function(e) {\n  question1.checkAnswer(answerBtn2, answerBtn2);\n});\n\nbtn1.addEventListener(\"click\", function(e) {\n  if (moveCharacter == true) {\n    moveCount++;\n    boatPosX -= 5;\n    view.x += 5\n    moveCharacter = false;\n  }\n});\nbtn2.addEventListener(\"click\", function(e) {\n  boatPosX += 5;\n  view.x -= 5\n  moveCount++;\n});\nbtn3.addEventListener(\"click\", function(e) {\n  boatPosY += 5;\n  view.Y += 5\n  moveCount++;\n});\nbtn4.addEventListener(\"click\", function(e) {\n  boatPosY -= 5;\n  view.Y += 5\n  moveCount++;\n});\n\n\nfunction move(e) {\n  if (e.keyCode == 39) {\n    boatPosX += 5;\n    //canvas.width += 2;\n    view.x -= 5\n    moveCount++;\n    console.log(moveCount);\n    console.log(\"right\");\n  }\n  if (e.keyCode == 37) {\n    boatPosX -= 5;\n    view.x += 5\n    moveCount++;\n    console.log(moveCount);\n    console.log(\"left\");\n  }\n  if (e.keyCode == 38) {\n    boatPosY -= 5;\n    view.Y += 5\n    moveCount++;\n    console.log(moveCount);\n    console.log(\"up\");\n  }\n  if (e.keyCode == 40) {\n    boatPosY += 5;\n    view.Y += 5\n    moveCount++;\n    console.log(moveCount);\n    console.log(\"down\");\n  }\n}\n\ndocument.onkeydown = move;\n\nvar background = new Image();\nbackground.src = \"ground.png\";\nvar sprite = new StyleSheet(background, 36, 36, 16, 16);\n\nvar boat = new Image();\nboat.src = \"ship.png\";\nvar ship = new StyleSheet(boat, 36, 36, 16, 16);\n\nconsole.log(mapArray[Math.floor(boatPosX / 36)]);\n//console.log(mapArray[Math.floor(boatPosX / 36)][Math.floor(boatPosX / 36)]);\nrender();\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "date", "timezone", "momentjs"], "answers": [{"tags": [], "owner": {"reputation": 240, "user_id": 5849350, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jYpRPkpAWz8/AAAAAAAAAAI/AAAAAAAAG0Y/vEKq-300ZSE/photo.jpg?sz=128", "display_name": "Jose Jimenez", "link": "https://stackoverflow.com/users/5849350/jose-jimenez"}, "is_accepted": true, "score": 0, "last_activity_date": 1527114655, "creation_date": 1527114655, "answer_id": 50498388, "question_id": 50498303, "link": "https://stackoverflow.com/questions/50498303/how-can-i-compare-like-isbefore-date-with-diferentes-zones/50498388#50498388", "title": "How can I compare (like isBefore) date with diferentes zones", "body": "<p>What you are doing here is translating the same time (dt) into two different time zones.  The translations  tokyo and new_york are two different ways of stating the exact same time.</p>\n\n<p>if you start out with:</p>\n\n<pre><code>let new_yort_dt = new Date().toLocaleString(\"en-US\", {timeZone: \"America/New_York\"})\nlet tokyo_dt = new Date().toLocaleString(\"en-US\", {timeZone: \"Asia/Tokyo\"})\n</code></pre>\n\n<p>then go through the process of creating your moment timezone objects, what do you get?</p>\n"}], "owner": {"reputation": 113, "user_id": 3966333, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f5ae8b30902ba14c3a7ac5cda8929d0c?s=128&d=identicon&r=PG&f=1", "display_name": "Marcos Vidolin", "link": "https://stackoverflow.com/users/3966333/marcos-vidolin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 50498388, "answer_count": 1, "score": 0, "last_activity_date": 1527115043, "creation_date": 1527114061, "last_edit_date": 1527115043, "question_id": 50498303, "link": "https://stackoverflow.com/questions/50498303/how-can-i-compare-like-isbefore-date-with-diferentes-zones", "title": "How can I compare (like isBefore) date with diferentes zones", "body": "<p>How can I compare two dates using moment-timezone, I'm trying:</p>\n\n<pre><code>const mtz = require ('moment-timezone');\n\nlet dt = new Date ();\nlet tokyo = mtz(dt).tz(\"Asia/Tokyo\"); // JST +12\nlet new_york = mtz(dt).tz(\"America/New_York\"); // MDT -4\n\nconsole.log (new_york.isBefore (tokyo)); // returns false\nconsole.log (tokyo.isBefore (new_york)); // returns false too\n</code></pre>\n\n<p>Why both of then returns false?\nTks</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 1, "creation_date": 1527114351, "post_id": 50498296, "comment_id": 88009518, "body": "@John Use <code>oninput</code>"}, {"owner": {"reputation": 784, "user_id": 6009304, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b61c95a6845a7d8758f6993a95321b54?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/6009304/tyler"}, "edited": false, "score": 1, "creation_date": 1527114430, "post_id": 50498296, "comment_id": 88009534, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6169353/html-text-input-onchange-event\">html text input onchange event</a>"}, {"owner": {"reputation": 626, "user_id": 3987475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3lHlZ.png?s=128&g=1", "display_name": "dGRAMOP", "link": "https://stackoverflow.com/users/3987475/dgramop"}, "reply_to_user": {"reputation": 784, "user_id": 6009304, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b61c95a6845a7d8758f6993a95321b54?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/6009304/tyler"}, "edited": false, "score": 1, "creation_date": 1527114505, "post_id": 50498296, "comment_id": 88009549, "body": "@Tyler while the answers are the same, the questions seem to be relatively distinct"}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "edited": false, "score": 0, "creation_date": 1527114511, "post_id": 50498296, "comment_id": 88009550, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/input\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/Events/input</a>"}, {"owner": {"reputation": 784, "user_id": 6009304, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/b61c95a6845a7d8758f6993a95321b54?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/6009304/tyler"}, "reply_to_user": {"reputation": 626, "user_id": 3987475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3lHlZ.png?s=128&g=1", "display_name": "dGRAMOP", "link": "https://stackoverflow.com/users/3987475/dgramop"}, "edited": false, "score": 0, "creation_date": 1527114591, "post_id": 50498296, "comment_id": 88009579, "body": "@dGRAMOP The OP here wants an real onchange event. Which is what the OP in the other question wanted too."}], "answers": [{"tags": [], "owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "is_accepted": true, "score": 3, "last_activity_date": 1527115215, "last_edit_date": 1527115215, "creation_date": 1527114416, "answer_id": 50498351, "question_id": 50498296, "link": "https://stackoverflow.com/questions/50498296/constant-function-run-when-user-typing-into-input-tag/50498351#50498351", "title": "Constant function run when user typing into input tag", "body": "<p>Use the <code>oninput</code> to listen for any type of <em>value modification</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function textEdit(e) {\r\n  document.getElementById(\"outputTxtBtn\").innerHTML = e.value;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" name=\"title\" id=\"inputTxtBtn\" value=\"About me\" oninput=\"textEdit(this)\" /&gt;\r\n\r\n&lt;a title=\"About me\" id=\"outputTxtBtn\" href=\"#\"&gt;About Me&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To prevent unwanted scripts injection use <code>textContent</code> instead of <code>innerHTML</code>.<br>\nTo keep your JS well contained and easy debuggable - remove inline JS from your HTML markup</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function textEdit() {\r\n  document.querySelector(this.getAttribute(\"data-textedit\")).textContent = this.value;\r\n}\r\n\r\n[...document.querySelectorAll(\"[data-textedit]\")].forEach(el =&gt; \r\n  el.addEventListener(\"input\", textEdit)\r\n);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input data-textedit=\"#outputTxtBtn\" type=\"text\" name=\"title\" value=\"About me\"&gt;\r\n&lt;a id=\"outputTxtBtn\" href=\"#!\"&gt;About me&lt;/a&gt;&lt;br&gt;\r\n\r\n&lt;input data-textedit=\"#test\" type=\"text\" name=\"title\" value=\"Lorem\"&gt;\r\n&lt;p id=\"test\" href=\"#!\"&gt;Lorem&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 223, "user_id": 9774770, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5e79a31666e78a04c51797e8dd33183?s=128&d=identicon&r=PG&f=1", "display_name": "John", "link": "https://stackoverflow.com/users/9774770/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 50498351, "answer_count": 1, "score": 1, "last_activity_date": 1527115215, "creation_date": 1527114016, "question_id": 50498296, "link": "https://stackoverflow.com/questions/50498296/constant-function-run-when-user-typing-into-input-tag", "title": "Constant function run when user typing into input tag", "body": "<p>I am wondering how I would have the TextEdit function run every time the text is removed. Currently, it is only updating when I unfocus the input tag.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function textEdit(e) {\r\n  document.getElementById(\"outputTxtBtn\").innerHTML = e.value;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" name=\"title\" id=\"inputTxtBtn\" value=\"About me\" onblur=\"textEdit(this)\" /&gt;\r\n\r\n&lt;a title=\"About me\" id=\"outputTxtBtn\" href=\"#\"&gt;About Me&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "concurrency", "promise", "bluebird"], "comments": [{"owner": {"reputation": 1245, "user_id": 4595837, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/0Y0M8.jpg?s=128&g=1", "display_name": "Jack Ryan", "link": "https://stackoverflow.com/users/4595837/jack-ryan"}, "edited": false, "score": 0, "creation_date": 1527113958, "post_id": 50498275, "comment_id": 88009397, "body": "Forgot that there is some sort of &quot;StackOverflow Code Review&quot; site, maybe this is better suited for that."}, {"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "edited": false, "score": 0, "creation_date": 1527114070, "post_id": 50498275, "comment_id": 88009431, "body": "How are async/await not options when you&#39;re already using promises?"}, {"owner": {"reputation": 1245, "user_id": 4595837, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/0Y0M8.jpg?s=128&g=1", "display_name": "Jack Ryan", "link": "https://stackoverflow.com/users/4595837/jack-ryan"}, "reply_to_user": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "edited": false, "score": 0, "creation_date": 1527114752, "post_id": 50498275, "comment_id": 88009622, "body": "The codebase is not quite hip on the node versions yet. Still on 6."}], "owner": {"reputation": 1245, "user_id": 4595837, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/0Y0M8.jpg?s=128&g=1", "display_name": "Jack Ryan", "link": "https://stackoverflow.com/users/4595837/jack-ryan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1527113890, "creation_date": 1527113890, "question_id": 50498275, "link": "https://stackoverflow.com/questions/50498275/combining-promise-map-with-promise-join", "title": "Combining Promise.map with Promise.join", "body": "<p>I have two variables:</p>\n\n<pre><code>const primaryId = '123'; // always exactly one\nconst secondaryIds = ['234', '345', '456', '567', '678']; // can be many\n</code></pre>\n\n<p>I have to perform an async operation on each identifier, but I need to make sure that I am only ever performing at most 2 concurrent requests at a time. These are database operations and I want to avoid too much fan-out during one REST call.</p>\n\n<p>The way I have it structured currently is as follows:</p>\n\n<pre><code>const primaryPromise = doPrimaryPromise(primaryId);\nconst secondaryPromise = Promise.map(\n    secondaryIds,\n    secondaryId =&gt; doSecondaryPromise(secondaryId),\n    { concurrency: 1 }\n);\nreturn Promise.join(\n    primaryPromise,\n    secondaryPromise\n);\n</code></pre>\n\n<p>However, the <a href=\"http://bluebirdjs.com/docs/api/promise.join.html\" rel=\"nofollow noreferrer\">Bluebird documentation</a> tells me that <code>Promise.join</code> will execute the promises concurrently. Will this approach still enforce the maximum concurrency from the <code>Promise.map</code>, or is it overridden by the top level <code>Promise.join</code>?</p>\n\n<p>I am realizing as I am typing this that the <code>Promise</code> returned by the <code>Promise.map</code> is probably what's responsible for enforcing that concurrency limit, so I should be safe. But I would definitely appreciate some feedback on this approach.</p>\n\n<p><strong>Note: <code>async/await</code> is not an option for me here, unfortunately.</strong></p>\n"}, {"tags": ["javascript", "object"], "comments": [{"owner": {"reputation": 9433, "user_id": 6804958, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lj3En.jpg?s=128&g=1", "display_name": "Muhammad Usman", "link": "https://stackoverflow.com/users/6804958/muhammad-usman"}, "edited": false, "score": 0, "creation_date": 1527113953, "post_id": 50498259, "comment_id": 88009394, "body": "this is an array use something like <code>array[0].date</code> or loop to get all date values"}, {"owner": {"reputation": 41, "user_id": 5674087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bdb85baa6125c265d10c72e607439c0?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Nagorny", "link": "https://stackoverflow.com/users/5674087/dmitry-nagorny"}, "reply_to_user": {"reputation": 9433, "user_id": 6804958, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lj3En.jpg?s=128&g=1", "display_name": "Muhammad Usman", "link": "https://stackoverflow.com/users/6804958/muhammad-usman"}, "edited": false, "score": 0, "creation_date": 1527181319, "post_id": 50498259, "comment_id": 88041690, "body": "Thank you for your answer, sorry but I was suppose to clarify it in question. I tried it before and it didn&#39;t worked, that is why I asking this question. I edited question."}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5674087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bdb85baa6125c265d10c72e607439c0?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Nagorny", "link": "https://stackoverflow.com/users/5674087/dmitry-nagorny"}, "edited": false, "score": 0, "creation_date": 1527181316, "post_id": 50498287, "comment_id": 88041687, "body": "Thank you for your answer, sorry but I was suppose to clarify it in question. I tried it before and it didn&#39;t worked, that is why I asking this question. I edited question."}, {"owner": {"reputation": 121, "user_id": 6245860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3avKz.png?s=128&g=1", "display_name": "Defacto", "link": "https://stackoverflow.com/users/6245860/defacto"}, "reply_to_user": {"reputation": 41, "user_id": 5674087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bdb85baa6125c265d10c72e607439c0?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Nagorny", "link": "https://stackoverflow.com/users/5674087/dmitry-nagorny"}, "edited": false, "score": 0, "creation_date": 1527187993, "post_id": 50498287, "comment_id": 88045063, "body": "Please post the output of console.log(data) in text format so I can see exactly what the object looks like."}, {"owner": {"reputation": 41, "user_id": 5674087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bdb85baa6125c265d10c72e607439c0?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Nagorny", "link": "https://stackoverflow.com/users/5674087/dmitry-nagorny"}, "edited": false, "score": 0, "creation_date": 1527190682, "post_id": 50498287, "comment_id": 88046401, "body": "Thank you again for your time. I updated my question to explain what I&#39;m doing there."}], "tags": [], "owner": {"reputation": 121, "user_id": 6245860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3avKz.png?s=128&g=1", "display_name": "Defacto", "link": "https://stackoverflow.com/users/6245860/defacto"}, "is_accepted": false, "score": 0, "last_activity_date": 1527113963, "creation_date": 1527113963, "answer_id": 50498287, "question_id": 50498259, "link": "https://stackoverflow.com/questions/50498259/get-data-from-js-array-of-objects/50498287#50498287", "title": "Get data from JS array of objects", "body": "<p>That's an array of objects, so you would get elements from it like so:</p>\n\n<pre><code>console.log(obj[i].data)\n</code></pre>\n\n<p>Where <strong>i</strong> is the element (numbered 0 through 2) that you want to access.</p>\n"}], "owner": {"reputation": 41, "user_id": 5674087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4bdb85baa6125c265d10c72e607439c0?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitry Nagorny", "link": "https://stackoverflow.com/users/5674087/dmitry-nagorny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 1, "closed_date": 1527113949, "answer_count": 1, "score": -2, "last_activity_date": 1527190216, "creation_date": 1527113778, "last_edit_date": 1527190216, "question_id": 50498259, "link": "https://stackoverflow.com/questions/50498259/get-data-from-js-array-of-objects", "closed_reason": "Duplicate", "title": "Get data from JS array of objects", "body": "<p>Probably very easy question, but I couldn't find solution.\nHow to get data from this object?\n<a href=\"https://i.stack.imgur.com/RSMDL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RSMDL.png\" alt=\"Object in console.log\"></a>\n<br/>\nThat how it looks in consolo.log()</p>\n\n<p>UPDATE:</p>\n\n<p>Thank you for you answers.\nThat what I used before and it worked, but when I try on this array it returns error. </p>\n\n<pre><code>console.log(array[1].data);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/slES7.png\" rel=\"nofollow noreferrer\">Output picture</a></p>\n\n<p>UPDATE2:</p>\n\n<p>So I tried to make it a text, but I couldn't.</p>\n\n<pre><code>    console.log(tempArray);\n    console.log(\"String: \" + tempArray.toString());\n    console.log(\"Stringify: \" + JSON.stringify(tempArray));\n</code></pre>\n\n<p>Here is output: \n<a href=\"https://i.stack.imgur.com/fjAGZ.png\" rel=\"nofollow noreferrer\">Stringify attempt result</a></p>\n\n<p>Maybe there is something wrong with how I create this array.</p>\n\n<pre><code>let tempArray = [];\n</code></pre>\n\n<p>And in the loop</p>\n\n<pre><code>tempArray.push({\"id\": id, \"data\": data.routes[0].geometry});\n</code></pre>\n\n<p>Thank you, <br/>\nDmitry</p>\n"}, {"tags": ["javascript", "reactjs", "webpack"], "comments": [{"owner": {"reputation": 2531, "user_id": 1017722, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/2ac70af04d1b1eaacf718526e4725d3f?s=128&d=identicon&r=PG", "display_name": "Evgeny Timoshenko", "link": "https://stackoverflow.com/users/1017722/evgeny-timoshenko"}, "edited": false, "score": 0, "creation_date": 1527114764, "post_id": 50498243, "comment_id": 88009624, "body": "if it was redux, I&#39;d assume that different chunks ended up with different stores: button is dispatching an action in one store, modal is bound to another. could it be the case?"}], "owner": {"reputation": 708, "user_id": 1220172, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/GmiLj.jpg?s=128&g=1", "display_name": "Ghan", "link": "https://stackoverflow.com/users/1220172/ghan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1527113688, "creation_date": 1527113688, "question_id": 50498243, "link": "https://stackoverflow.com/questions/50498243/reactwebpack-4-one-chunk-not-finding-the-other", "title": "React:webpack 4 -- one chunk not finding the other", "body": "<p>I have a bizarre issue happening in my react application, bear with me. </p>\n\n<p>I have a react/flux application that's built with webpack, with multiple entry points and a vendor bundle chunk. I'm working on upgrading to webpack 4, and I'm nearly complete but there's one bug that's driving me crazy.</p>\n\n<p>The page has an entry point for the container components (header, footer, modal, etc), and a different entry point for the components of a specific page. <code>container.js</code> contains the Modal store and Modal component, and <code>page.js</code> contains the Button component and the Modal Actions file (which dispatches the <code>modal-triggered</code> event).</p>\n\n<p>Before upgrading to Webpack 4, this set up worked just fine. After upgrading to Webpack 4, the Button component doesn't trigger the Modal component. The Button dispatches the <code>modal-triggered</code> event successfully, but the Modal store doesn't hear it. </p>\n\n<p>I can trigger the Modal component just fine from the header area (which is part of <code>container.js</code>).</p>\n\n<p>What's going on here? I can tell from the browser inspector's \"sources\" tab that all files are loading their components/stores successfully.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "arrays", "loops", "multidimensional-array"], "answers": [{"comments": [{"owner": {"reputation": 2575, "user_id": 2954267, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/298721d73565c75b54fbc1a3a4159b49?s=128&d=identicon&r=PG", "display_name": "robe007", "link": "https://stackoverflow.com/users/2954267/robe007"}, "edited": false, "score": 0, "creation_date": 1527114113, "post_id": 50498297, "comment_id": 88009446, "body": "Interesting answer ! Yes, only two arrays inside outer array."}], "tags": [], "owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "is_accepted": false, "score": 2, "last_activity_date": 1527114208, "last_edit_date": 1527114208, "creation_date": 1527114018, "answer_id": 50498297, "question_id": 50498233, "link": "https://stackoverflow.com/questions/50498233/looping-over-a-bidimensional-array-and-extract-data-to-a-new-one/50498297#50498297", "title": "Looping over a bidimensional array and extract data to a new one", "body": "<p>I am assuming there will be only two arrays inside outer array. You simply need to loop on first array and pick the text from from other array at same index and merge them into one object.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const bArray = \r\n[ [ 'Hello World',\r\n    'Hi everybody',\r\n    'How are you?'\r\n  ],\r\n  [ { text: 'Hola Mundo',\r\n      from: [],\r\n      raw: '' },\r\n    { text: 'Hola a todos',\r\n      from: [],\r\n      raw: '' },\r\n    { text: 'C\u00f3mo est\u00e1s?',\r\n      from: [],\r\n      raw: '' },\r\n  ]\r\n];\r\n\r\nlet result = bArray[0].map((item, index) =&gt; {\r\n   return {\r\n     en: item,\r\n     es: bArray[1][index].text\r\n   };\r\n});\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 2575, "user_id": 2954267, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/298721d73565c75b54fbc1a3a4159b49?s=128&d=identicon&r=PG", "display_name": "robe007", "link": "https://stackoverflow.com/users/2954267/robe007"}, "edited": false, "score": 0, "creation_date": 1527114329, "post_id": 50498311, "comment_id": 88009513, "body": "Amazing this one ! Exactly what I&#39;m looking for."}, {"owner": {"reputation": 2575, "user_id": 2954267, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/298721d73565c75b54fbc1a3a4159b49?s=128&d=identicon&r=PG", "display_name": "robe007", "link": "https://stackoverflow.com/users/2954267/robe007"}, "edited": false, "score": 0, "creation_date": 1527114487, "post_id": 50498311, "comment_id": 88009546, "body": "Sim meu amigo, voc&#234; est&#225; certo :)"}], "tags": [], "owner": {"reputation": 1209, "user_id": 234913, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3b8ae5534ab11c7ad6c33ab28874baa9?s=128&d=identicon&r=PG", "display_name": "CrociDB", "link": "https://stackoverflow.com/users/234913/crocidb"}, "is_accepted": true, "score": 2, "last_activity_date": 1527114391, "last_edit_date": 1527114391, "creation_date": 1527114136, "answer_id": 50498311, "question_id": 50498233, "link": "https://stackoverflow.com/questions/50498233/looping-over-a-bidimensional-array-and-extract-data-to-a-new-one/50498311#50498311", "title": "Looping over a bidimensional array and extract data to a new one", "body": "<p>If you simply do:</p>\n\n<pre><code>bArray[0].reduce((arr, v, i) =&gt; arr.concat({\"en\" : v, \"es\" : bArray[1][i].text}), []);\n</code></pre>\n\n<p>You can get the same thing in just one line.</p>\n\n<p><strong>Explanation:</strong></p>\n\n<pre><code>let val1 = bArray[0].map(tuple =&gt; tuple);\nlet val2 = bArray[1].map(tuple =&gt; tuple);\n</code></pre>\n\n<p>This is doing nothing but get the elements in the array. It's exactly the same thing as:</p>\n\n<pre><code>let val1 = bArray[0];\nlet val2 = bArray[1];\n</code></pre>\n\n<p>So I just direct accessed the <code>bArray</code> indexes in your original line.</p>\n"}, {"comments": [{"owner": {"reputation": 2575, "user_id": 2954267, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/298721d73565c75b54fbc1a3a4159b49?s=128&d=identicon&r=PG", "display_name": "robe007", "link": "https://stackoverflow.com/users/2954267/robe007"}, "edited": false, "score": 1, "creation_date": 1527180880, "post_id": 50499347, "comment_id": 88041479, "body": "Of course, <code>forEach</code> works too; and instead of <code>map</code>, you can&#39;t return here, so you need to <i>push</i> in an <i>array</i>. Easy to understand. Thanks for your answer."}], "tags": [], "owner": {"reputation": 8210, "user_id": 9816472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DltvK.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/9816472/isaac"}, "is_accepted": false, "score": 1, "last_activity_date": 1527122744, "creation_date": 1527122744, "answer_id": 50499347, "question_id": 50498233, "link": "https://stackoverflow.com/questions/50498233/looping-over-a-bidimensional-array-and-extract-data-to-a-new-one/50499347#50499347", "title": "Looping over a bidimensional array and extract data to a new one", "body": "<p>Yet another variation using <code>Array.prototype.forEach()</code> method</p>\n\n<pre><code>let result = [];\nbArray[0].forEach((item, index) =&gt; {\n   result.push({\n     en: item,\n       es: bArray[1][index].text\n   });\n});\n\nconsole.log(result);\n</code></pre>\n"}], "owner": {"reputation": 2575, "user_id": 2954267, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/298721d73565c75b54fbc1a3a4159b49?s=128&d=identicon&r=PG", "display_name": "robe007", "link": "https://stackoverflow.com/users/2954267/robe007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 2, "accepted_answer_id": 50498311, "answer_count": 3, "score": 1, "last_activity_date": 1527122744, "creation_date": 1527113596, "question_id": 50498233, "link": "https://stackoverflow.com/questions/50498233/looping-over-a-bidimensional-array-and-extract-data-to-a-new-one", "title": "Looping over a bidimensional array and extract data to a new one", "body": "<p>I have a <em>bidimensional array</em> like this:</p>\n\n<pre><code>const bArray = \n[ [ 'Hello World',\n    'Hi everybody',\n    'How are you?'\n  ],\n  [ { text: 'Hola Mundo',\n      from: [Object],\n      raw: '' },\n    { text: 'Hola a todos',\n      from: [Object],\n      raw: '' },\n    { text: 'C\u00f3mo est\u00e1s?',\n      from: [Object],\n      raw: '' },\n  ]\n]\n</code></pre>\n\n<p>And I need to get as a result, only one array that should look like this:</p>\n\n<pre><code>[\n { en: 'Hello World',\n   es: 'Hola Mundo' },\n\n { en: 'Hi everybody',\n   es: 'Hola a todos' },\n\n { en: 'How are you?',\n   es: 'C\u00f3mo est\u00e1s?' },\n]\n</code></pre>\n\n<p>This is how I do it:</p>\n\n<pre><code>let val1 = bArray[0].map(tuple =&gt; tuple);\nlet val2 = bArray[1].map(tuple =&gt; tuple);\n\nlet result = val1.reduce((arr, v, i) =&gt; arr.concat({\"en\" : v, \"es\" : val2[i].text}), []);\n</code></pre>\n\n<p>And now in the <code>result</code> variable, I have only one array with the result showed before.</p>\n\n<hr>\n\n<p><strong>My question?</strong></p>\n\n<p>Is there any improved way in which I can get the same result but with fewer lines of code? I mean, something like a combination of <code>map</code> with <code>reduce</code>, <code>filter</code> or <code>concat</code> without creating two separte arrays like <code>val1</code> and <code>val2</code>.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 626, "user_id": 3987475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3lHlZ.png?s=128&g=1", "display_name": "dGRAMOP", "link": "https://stackoverflow.com/users/3987475/dgramop"}, "edited": false, "score": 0, "creation_date": 1527113555, "post_id": 50498208, "comment_id": 88009281, "body": "are you talking about specific elements that have not been loaded yet?"}, {"owner": {"reputation": 27, "user_id": 8339681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0919beadb30fe4a3f4dc38efb541363?s=128&d=identicon&r=PG&f=1", "display_name": "LeoL", "link": "https://stackoverflow.com/users/8339681/leol"}, "reply_to_user": {"reputation": 626, "user_id": 3987475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3lHlZ.png?s=128&g=1", "display_name": "dGRAMOP", "link": "https://stackoverflow.com/users/3987475/dgramop"}, "edited": false, "score": 0, "creation_date": 1527113735, "post_id": 50498208, "comment_id": 88009325, "body": "@dGRAMOP - thanks for leaving comments. Nope, I am looking for a way to stop loading all HTML elements and/or specific elements, make some api calls, then resume loading elements depending on the result of promise."}, {"owner": {"reputation": 3940, "user_id": 4204026, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-m3Fign7XvCY/AAAAAAAAAAI/AAAAAAAAACo/OOBjG7fpC4g/photo.jpg?sz=128", "display_name": "Drew Kennedy", "link": "https://stackoverflow.com/users/4204026/drew-kennedy"}, "edited": false, "score": 1, "creation_date": 1527114021, "post_id": 50498208, "comment_id": 88009416, "body": "Why not just load your HTML without this stuff, then dynamically create it with JS depending on the result of your api calls?"}, {"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527114816, "post_id": 50498208, "comment_id": 88009640, "body": "Do your api calls return information you need, or do they change the state on the server?"}, {"owner": {"reputation": 27, "user_id": 8339681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0919beadb30fe4a3f4dc38efb541363?s=128&d=identicon&r=PG&f=1", "display_name": "LeoL", "link": "https://stackoverflow.com/users/8339681/leol"}, "reply_to_user": {"reputation": 3940, "user_id": 4204026, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-m3Fign7XvCY/AAAAAAAAAAI/AAAAAAAAACo/OOBjG7fpC4g/photo.jpg?sz=128", "display_name": "Drew Kennedy", "link": "https://stackoverflow.com/users/4204026/drew-kennedy"}, "edited": false, "score": 0, "creation_date": 1527117360, "post_id": 50498208, "comment_id": 88010273, "body": "@DrewKennedy - I don&#39;t have control over /access to the backend or whatever that is working, so by default everything is going to be loaded."}, {"owner": {"reputation": 27, "user_id": 8339681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0919beadb30fe4a3f4dc38efb541363?s=128&d=identicon&r=PG&f=1", "display_name": "LeoL", "link": "https://stackoverflow.com/users/8339681/leol"}, "reply_to_user": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527117497, "post_id": 50498208, "comment_id": 88010310, "body": "@NocNit - API will return information that I need for when deciding what to show and what not to show(in this test, the user name). This is, of course, having security concerns but it&#39;s out of my reach."}, {"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "reply_to_user": {"reputation": 3940, "user_id": 4204026, "user_type": "registered", "accept_rate": 90, "profile_image": "https://lh5.googleusercontent.com/-m3Fign7XvCY/AAAAAAAAAAI/AAAAAAAAACo/OOBjG7fpC4g/photo.jpg?sz=128", "display_name": "Drew Kennedy", "link": "https://stackoverflow.com/users/4204026/drew-kennedy"}, "edited": false, "score": 0, "creation_date": 1527118433, "post_id": 50498208, "comment_id": 88010539, "body": "In that case I think @DrewKennedy has the right answer, let your page load without the optional stuff and, depending on the result of the API call (username), add the necessary elements with JS."}, {"owner": {"reputation": 27, "user_id": 8339681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0919beadb30fe4a3f4dc38efb541363?s=128&d=identicon&r=PG&f=1", "display_name": "LeoL", "link": "https://stackoverflow.com/users/8339681/leol"}, "reply_to_user": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527119158, "post_id": 50498208, "comment_id": 88010739, "body": "@NocNit - The only problem is that I have no control over what&#39;s to be loaded by default. So my idea was to pause the loading behavior, then let it resume loading. Everything will be loaded by default but I am trying to hide partial of the elements according to the result of API call."}, {"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527119380, "post_id": 50498208, "comment_id": 88010784, "body": "@LeoL I get where you are coming from. How much control do you have? You can edit javascript on the page right?"}, {"owner": {"reputation": 6647, "user_id": 4095444, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NipXZ.jpg?s=128&g=1", "display_name": "chazsolo", "link": "https://stackoverflow.com/users/4095444/chazsolo"}, "edited": false, "score": 0, "creation_date": 1527120000, "post_id": 50498208, "comment_id": 88010913, "body": "Could you just hide the relevant elements with CSS, then unhide certain ones after the API returns?"}, {"owner": {"reputation": 27, "user_id": 8339681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0919beadb30fe4a3f4dc38efb541363?s=128&d=identicon&r=PG&f=1", "display_name": "LeoL", "link": "https://stackoverflow.com/users/8339681/leol"}, "reply_to_user": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527169591, "post_id": 50498208, "comment_id": 88034236, "body": "@NocNIt - I don&#39;t have control at all, except adding a new script file to it."}, {"owner": {"reputation": 27, "user_id": 8339681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0919beadb30fe4a3f4dc38efb541363?s=128&d=identicon&r=PG&f=1", "display_name": "LeoL", "link": "https://stackoverflow.com/users/8339681/leol"}, "reply_to_user": {"reputation": 6647, "user_id": 4095444, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/NipXZ.jpg?s=128&g=1", "display_name": "chazsolo", "link": "https://stackoverflow.com/users/4095444/chazsolo"}, "edited": false, "score": 0, "creation_date": 1527169778, "post_id": 50498208, "comment_id": 88034367, "body": "@chazsolo - I am currently doing that in JavaScript, which will give me a flash before it disappears. So I am looking for other ways to make it happen more seamlessly, visually speaking."}, {"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527178376, "post_id": 50498208, "comment_id": 88040183, "body": "@LeoL Based on what you&#39;ve told me, I think it&#39;s best to use an overlay. You can use Javascript to place a <code>div</code> element on top of your page (which you can do with <code>z-index</code>) with a colored background. You can do your API calls and then remove the overlay. You could even put in a nice spinning progress indicator or something."}, {"owner": {"reputation": 27, "user_id": 8339681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0919beadb30fe4a3f4dc38efb541363?s=128&d=identicon&r=PG&f=1", "display_name": "LeoL", "link": "https://stackoverflow.com/users/8339681/leol"}, "reply_to_user": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527237317, "post_id": 50498208, "comment_id": 88061639, "body": "@NocNit - I see, you are thinking of putting something to cover it? That may be another good approach, thanks!"}], "owner": {"reputation": 27, "user_id": 8339681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f0919beadb30fe4a3f4dc38efb541363?s=128&d=identicon&r=PG&f=1", "display_name": "LeoL", "link": "https://stackoverflow.com/users/8339681/leol"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527117974, "creation_date": 1527113473, "last_edit_date": 1527117974, "question_id": 50498208, "link": "https://stackoverflow.com/questions/50498208/is-there-a-way-to-pause-and-resume-html-elements-from-loading-in-javascripts", "title": "is there a way to pause and resume html elements from loading in JavaScripts?", "body": "<p>is there a way to pause and resume HTML elements from loading in JavaScripts? In another word, is the \"window.stop()\" method cancellable/reversible?</p>\n"}, {"tags": ["javascript", "promise"], "comments": [{"owner": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "edited": false, "score": 0, "creation_date": 1527113537, "post_id": 50498186, "comment_id": 88009276, "body": "<code>let array3 = array1.concat(array2)</code>"}, {"owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "reply_to_user": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "edited": false, "score": 0, "creation_date": 1527113801, "post_id": 50498186, "comment_id": 88009345, "body": "I would do this with <code>promises1</code> and <code>promises2</code> before calling <code>Promise.all()</code>?"}, {"owner": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "edited": false, "score": 0, "creation_date": 1527113864, "post_id": 50498186, "comment_id": 88009365, "body": "<code>await Promise.all(promises1.concat(promises2))</code>, or just push all the <code>function2</code> promises onto <code>promises1</code> instead of having a second array."}, {"owner": {"reputation": 240, "user_id": 5849350, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-jYpRPkpAWz8/AAAAAAAAAAI/AAAAAAAAG0Y/vEKq-300ZSE/photo.jpg?sz=128", "display_name": "Jose Jimenez", "link": "https://stackoverflow.com/users/5849350/jose-jimenez"}, "edited": false, "score": 0, "creation_date": 1527116386, "post_id": 50498186, "comment_id": 88010022, "body": "consider using bluebird Promise.props.  See <a href=\"https://stackoverflow.com/questions/44600771/equivalent-of-bluebird-promise-props-for-es6-promises\" title=\"equivalent of bluebird promise props for es6 promises\">stackoverflow.com/questions/44600771/&hellip;</a>"}, {"owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "edited": false, "score": 0, "creation_date": 1527123061, "post_id": 50498186, "comment_id": 88011510, "body": "Thanks for your comments, however I have not been able to get it to work. I have updated my post to include a running sample, with the final result I want. However my guess is that the code is not efficient. My goal is to learn how to make this more efficient (Reduce to 1 loop, run only 1 <code>Promise.all()</code>)"}], "answers": [{"tags": [], "owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "is_accepted": false, "score": 0, "last_activity_date": 1527127914, "last_edit_date": 1527127914, "creation_date": 1527125475, "answer_id": 50499643, "question_id": 50498186, "link": "https://stackoverflow.com/questions/50498186/output-results-of-two-promises-into-a-single-object/50499643#50499643", "title": "Output results of two promises into a single object", "body": "<p>EDIT: 333's answer is correct, not mine. This solution will have 2 batches in the queue.</p>\n\n<p>I think I figured it out:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(\"start\")\r\n\r\nfunction sleep(ms) {\r\n  return new Promise(resolve =&gt; setTimeout(resolve, ms));\r\n}\r\n\r\nasync function function1(i) {\r\n  await sleep(2000);\r\n  return i * i\r\n}\r\n\r\nasync function function2(i) {\r\n  await sleep(2000);\r\n  return i * i * i\r\n}\r\n\r\nasync function main() {\r\n  var promises = []\r\n\r\n  for (let i = 0; i &lt; 10; i++) {\r\n    let a = function1(i);\r\n    \r\n    let b = function2(i);\r\n    \r\n    let promise = Promise.all([a,b]).then(\r\n      function([resulta,resultb]) {\r\n          return {i:i, result1: resulta, result2: resultb}\r\n      });\r\n\r\n    promises.push(promise)\r\n  }\r\n\r\n  var final = await Promise.all(promises)\r\n  \r\n  \r\n  console.log(final)\r\n\r\n}\r\n\r\nmain()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that I added a sleep function to test the parallelization of these functions. Everything runs in 2 seconds, so I think it is optimized.</p>\n"}, {"comments": [{"owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "edited": false, "score": 0, "creation_date": 1527126410, "post_id": 50499688, "comment_id": 88012204, "body": "Thanks for your solution, but I think my solution solves the problem in 1 loop. Do you see any problems with it?"}, {"owner": {"reputation": 4172, "user_id": 3508956, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/umLTo.jpg?s=128&g=1", "display_name": "laptou", "link": "https://stackoverflow.com/users/3508956/laptou"}, "reply_to_user": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "edited": false, "score": 1, "creation_date": 1527126578, "post_id": 50499688, "comment_id": 88012240, "body": "Your solution involves 2 places where <code>Promise.all</code> is being called: first inside of the loop, and then outside of it. This means that you are waiting for pairs of promises to complete, and then waiting on that wait for each of the pairs to complete. I don&#39;t know how much performance you require, but this is probably a bottleneck."}, {"owner": {"reputation": 4172, "user_id": 3508956, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/umLTo.jpg?s=128&g=1", "display_name": "laptou", "link": "https://stackoverflow.com/users/3508956/laptou"}, "reply_to_user": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "edited": false, "score": 1, "creation_date": 1527126792, "post_id": 50499688, "comment_id": 88012285, "body": "You&#39;re right about that, but once you <code>await</code> such a packaged promise, it incurs overhead. When you await an array of packaged promises, it&#39;s like having to open boxes that are inside of boxes. Therefore, you want to do this as few times as possible."}, {"owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "edited": false, "score": 0, "creation_date": 1527126830, "post_id": 50499688, "comment_id": 88012295, "body": "You are correct, I see that in my network traces there are two separate queues happening. Let me play with your answer, thanks for talking to me."}, {"owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "edited": false, "score": 0, "creation_date": 1527127850, "post_id": 50499688, "comment_id": 88012544, "body": "Just implemented it, and it is certainly more efficient. I still hate having to run a second loop to restructure the linear array of promises, but I guess that is just what you have to do. Thank you."}], "tags": [], "owner": {"reputation": 4172, "user_id": 3508956, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/umLTo.jpg?s=128&g=1", "display_name": "laptou", "link": "https://stackoverflow.com/users/3508956/laptou"}, "is_accepted": true, "score": 1, "last_activity_date": 1527126371, "last_edit_date": 1527126371, "creation_date": 1527125909, "answer_id": 50499688, "question_id": 50498186, "link": "https://stackoverflow.com/questions/50498186/output-results-of-two-promises-into-a-single-object/50499688#50499688", "title": "Output results of two promises into a single object", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>async function function1(i)\r\n{\r\n    return i * i\r\n}\r\n\r\nasync function function2(i)\r\n{\r\n    return i * i * i\r\n}\r\n\r\nasync function main()\r\n{\r\n    const promises = [];\r\n\r\n    for (let i = 0; i &lt; 10; i++)\r\n        promises.push(function1(i), function2(i));\r\n\r\n    const results = await Promise.all(promises);\r\n    const data = [];\r\n\r\n    for (let i = 0; i &lt; 10; i++)\r\n    {\r\n        const [result1, result2] = results.slice(i * 2, i * 2 + 2);\r\n        data.push({ i, result1, result2 });\r\n    }\r\n\r\n    console.log(data);\r\n}\r\n\r\nmain();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This should work smoothly and quickly. The functions <code>function1</code> and <code>function2</code> return <code>Promise</code>s if you do not <code>await</code> them, so pushing them onto the <code>promises</code> array is self-explanatory. </p>\n\n<p>Then you await <code>Promise.all</code>, which waits until all 20 promises that were fired off have completed. Finally, the second loop runs through the promises that were returned.</p>\n\n<p>In my code I used <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">destructuring assignments</a>. I assume those are available to you since you are using async functions, which implies that you can use ES2017.</p>\n"}], "owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 50499688, "answer_count": 2, "score": 0, "last_activity_date": 1527127914, "creation_date": 1527113332, "last_edit_date": 1527122991, "question_id": 50498186, "link": "https://stackoverflow.com/questions/50498186/output-results-of-two-promises-into-a-single-object", "title": "Output results of two promises into a single object", "body": "<p>I have two asynchronous functions which create promises. Both functions use the same input <code>i</code>.</p>\n\n<pre><code>async function1(i) {}\nasync function2(i) {}\n</code></pre>\n\n<p>I will be calling these functions multiple times with different values for my input, and I want to make my code as efficient as possible, so I want to queue the promises and have them run in parallel using <code>Promise.all()</code>.</p>\n\n<p>However, I want to get a single result as my final output, which will be an array of objects like so:</p>\n\n<pre><code>[\n  {\n    input: i,\n    result1: result1,\n    result2: result2\n  },\n  ...\n]\n</code></pre>\n\n<p>I have accomplished this in two descrete steps:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>async function function1(i) {\r\n  return i * i\r\n}\r\n\r\nasync function function2(i) {\r\n  return i * i * i\r\n}\r\n\r\nasync function main() {\r\n  var promises = []\r\n\r\n  for (let i = 0; i &lt; 10; i++) {\r\n    let promise = function1(i)\r\n      .then(function(result1) {\r\n          return {i:i, result1:result1}\r\n      });\r\n\r\n    promises.push(promise)\r\n  }\r\n\r\n  var final = await Promise.all(promises)\r\n  \r\n  var promises2 = [];\r\n  \r\n  for (let i = 0; i &lt; 10; i++) {\r\n    let promise = function2(i)\r\n    .then (function(result2) {\r\n      final[i]['result2'] = result2;\r\n    });\r\n    \r\n    promises2.push(promise);\r\n  }\r\n  \r\n  await Promise.all(promises2)\r\n  \r\n  console.log(final)\r\n\r\n}\r\n\r\nmain()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>However, I feel like this can be accomplished using a single <code>Promise.all()</code>. Can you tell me how?</p>\n"}, {"tags": ["javascript", "html", "internet-explorer"], "owner": {"reputation": 1067, "user_id": 3163495, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/60d646aa6782461980d2ed570cb88822?s=128&d=identicon&r=PG&f=1", "display_name": "user3163495", "link": "https://stackoverflow.com/users/3163495/user3163495"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1527114132, "creation_date": 1527113223, "last_edit_date": 1527114132, "question_id": 50498165, "link": "https://stackoverflow.com/questions/50498165/ie9-bug-script-content-executed-twice-when-using-node-clonenodetrue", "title": "IE9 Bug? &lt;script&gt; content executed twice when using Node.cloneNode(true)", "body": "<p>I know IE9 is kind of old now, but it is the lowest version of IE that I still must support in a Web application I'm building.</p>\n\n<p>Anyway, while doing some DOM manipulation and testing in different browsers, I noticed that IE9 was doing something <strong><em>very</em></strong> strange. I had a &lt;script&gt; block in a DIV element, and when I deep-cloned that DIV element using Node.cloneNode(true), and attached the clone to the document somewhere using document.body.appendChild or document.body.insertBefore, the cloned &lt;script&gt; block would get executed again! No other browser exhibits this behavior.</p>\n\n<p>If I'm not mistaken, &lt;script&gt; blocks aren't supposed to be executed when appended to the document after the document has initially loaded, am I right? If I'm correct, is this a bug in IE9?</p>\n\n<p>Here is a simple HTML document where you can see this behavior in action. Create an HTML document with this code and load it up in Internet Explorer using IE9 emulation. You should see an alert popup that says \"hey\". Next, click the \"Click Me\" button, and you will see the same popup get executed again!</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;IE9 Script Tag Bug Test&lt;/title&gt;\n&lt;script&gt;\nfunction ButtonClick(){\nvar Elem = document.getElementById('mydiv');\nvar ElemClone = Elem.cloneNode(true);\ndocument.body.insertBefore(ElemClone,Elem);\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id=\"mydiv\"&gt;\nThis is a DIV.\n&lt;script&gt;\nalert(\"hey\");\n&lt;/script&gt;\n&lt;/div&gt;\n&lt;button onclick=\"ButtonClick();\"&gt;Click Me&lt;/button&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "php", "html"], "answers": [{"comments": [{"owner": {"reputation": 3977, "user_id": 399696, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/giWo4.png?s=128&g=1", "display_name": "dgig", "link": "https://stackoverflow.com/users/399696/dgig"}, "edited": false, "score": 1, "creation_date": 1527113634, "post_id": 50498200, "comment_id": 88009301, "body": "There are probably more sophisticated ways to do it as well, I&#39;d definitely look at the question linked to as a duplicate. Props to you for even considering this possibility - very wise."}], "tags": [], "owner": {"reputation": 3977, "user_id": 399696, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/giWo4.png?s=128&g=1", "display_name": "dgig", "link": "https://stackoverflow.com/users/399696/dgig"}, "is_accepted": true, "score": 1, "last_activity_date": 1527113427, "creation_date": 1527113427, "answer_id": 50498200, "question_id": 50498163, "link": "https://stackoverflow.com/questions/50498163/how-to-escape-html-js-php-code-from-api-output-php/50498200#50498200", "title": "How to escape HTML,JS,PHP code from api output php?", "body": "<p><a href=\"http://php.net/manual/en/function.htmlspecialchars.php\" rel=\"nofollow noreferrer\">http://php.net/manual/en/function.htmlspecialchars.php</a></p>\n\n<p>htmlspecialchars\n(PHP 4, PHP 5, PHP 7)</p>\n\n<p>htmlspecialchars \u2014 Convert special characters to HTML entities</p>\n\n<p>or</p>\n\n<p><a href=\"http://php.net/manual/en/function.htmlentities.php\" rel=\"nofollow noreferrer\">http://php.net/manual/en/function.htmlentities.php</a></p>\n\n<p>htmlentities\n(PHP 4, PHP 5, PHP 7)</p>\n\n<p>htmlentities \u2014 Convert all applicable characters to HTML entities</p>\n"}], "owner": {"reputation": 103, "user_id": 8340923, "user_type": "registered", "profile_image": "https://graph.facebook.com/1625390137534646/picture?type=large", "display_name": "Luuk Kenselaar", "link": "https://stackoverflow.com/users/8340923/luuk-kenselaar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1527113487, "accepted_answer_id": 50498200, "answer_count": 1, "score": 2, "last_activity_date": 1527113427, "creation_date": 1527113214, "last_edit_date": 1527113335, "question_id": 50498163, "link": "https://stackoverflow.com/questions/50498163/how-to-escape-html-js-php-code-from-api-output-php", "closed_reason": "Duplicate", "title": "How to escape HTML,JS,PHP code from api output php?", "body": "<p>im making a website that is using the Steam API.\nAt my website you can enter a specific users steam name, then you will see the data about the player. Now the problem is that if a a user has a name like this:</p>\n\n<pre><code>&lt;script&gt; alert(\"test!\"); &lt;/script&gt;\n</code></pre>\n\n<p>If this occurs, my website will execute this code.\nHow can i escape code from the API's output? Is there a PHP function to do this?\nHow can I fix this problem?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 32973, "user_id": 3903374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f154c343ddbc43f16a09e2098ddf4965?s=128&d=identicon&r=PG&f=1", "display_name": "Rick Hitchcock", "link": "https://stackoverflow.com/users/3903374/rick-hitchcock"}, "edited": false, "score": 1, "creation_date": 1527113695, "post_id": 50498160, "comment_id": 88009316, "body": "Consider assigning <code>parseInt($(this).text())</code> to a variable.  That would grealy simplify your code, because you could then write, <code>if (flow &gt;= 50 &amp;&amp; flow &lt;= 600) { ...</code>"}], "answers": [{"tags": [], "owner": {"reputation": 441, "user_id": 3749896, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wHsJn.png?s=128&g=1", "display_name": "Sven Eberth", "link": "https://stackoverflow.com/users/3749896/sven-eberth"}, "is_accepted": false, "score": 0, "last_activity_date": 1527113338, "creation_date": 1527113338, "answer_id": 50498187, "question_id": 50498160, "link": "https://stackoverflow.com/questions/50498160/run-code-only-on-div-that-has-parent-id-of/50498187#50498187", "title": "Run code only on div that has parent id of =", "body": "<p>Use this selector</p>\n\n<pre><code>$('.holder1 .flow-hold').each(...)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 57406, "user_id": 7461381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20611e3583655e5bf1f727727804c4f8?s=128&d=identicon&r=PG&f=1", "display_name": "Mamun", "link": "https://stackoverflow.com/users/7461381/mamun"}, "is_accepted": true, "score": 1, "last_activity_date": 1527113474, "creation_date": 1527113474, "answer_id": 50498209, "question_id": 50498160, "link": "https://stackoverflow.com/questions/50498160/run-code-only-on-div-that-has-parent-id-of/50498209#50498209", "title": "Run code only on div that has parent id of =", "body": "<p>Try <code>$('.holder1 &gt; .flow-hold')</code>. This will select all the direct children of <code>.holder</code> with <code>.flow-hold</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.holder1 &gt; .flow-hold').each(function(){\r\n  if (parseInt($(this).text()) &gt;= 50 &amp;&amp; ($(this).text()) &lt;= 600){\r\n    $(this).css(\"background-color\",\"green\");\r\n  }   \r\n  else if (parseInt($(this).text()) &gt;= 601 &amp;&amp; ($(this).text()) &lt;= 1000) {\r\n    $(this).css(\"background-color\",\"yellow\");\r\n  }\r\n  else if (parseInt($(this).text()) &gt;= 1001 &amp;&amp; ($(this).text()) &lt;= 4000) {\r\n    $(this).css(\"background-color\",\"red\");\r\n  }   \r\n  else {    \r\n    $(this).css(\"background-color\",\"transparent\");\r\n    }   \r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.2.3/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"flow-hold\"&gt;100&lt;/div&gt;\r\n&lt;div class=\"flow-hold\"&gt;500&lt;/div&gt;\r\n&lt;div class=\"holder1\"&gt;\r\n&lt;div class=\"flow-hold\"&gt;1000&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"holder2\"&gt;\r\n&lt;div class=\"flow-hold\"&gt;3000&lt;/div&gt;\r\n&lt;div class=\"flow-hold\"&gt;5000&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11483, "user_id": 600486, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/akN6H.png?s=128&g=1", "display_name": "blurfus", "link": "https://stackoverflow.com/users/600486/blurfus"}, "is_accepted": false, "score": 1, "last_activity_date": 1527114409, "last_edit_date": 1527114409, "creation_date": 1527113617, "answer_id": 50498235, "question_id": 50498160, "link": "https://stackoverflow.com/questions/50498160/run-code-only-on-div-that-has-parent-id-of/50498235#50498235", "title": "Run code only on div that has parent id of =", "body": "<p>You can change your selector to <code>$('.holder1 &gt; .flow-hold').each(...)</code> if the <code>.flow-hold</code> element needs to be a <strong>direct</strong> child of <code>.holder1</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.holder1 &gt; .flow-hold').each(function(idx, el) {\r\n  var amount = parseInt($(el).text());\r\n  \r\n  if ( amount &gt;= 50 &amp;&amp; amount &lt;= 600) {\r\n    $(this).css(\"background-color\", \"green\");\r\n\r\n  } else if (amount &gt;= 601 &amp;&amp; amount &lt;= 1000) {\r\n    $(this).css(\"background-color\", \"yellow\");\r\n\r\n  } else if (amount &gt;= 1001 &amp;&amp; amount &lt;= 4000) {\r\n    $(this).css(\"background-color\", \"red\");\r\n\r\n  } else {\r\n    $(this).css(\"background-color\", \"transparent\");\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.2.3/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"flow-hold\"&gt;100&lt;/div&gt;\r\n&lt;div class=\"flow-hold\"&gt;500&lt;/div&gt;\r\n&lt;div class=\"holder1\"&gt;\r\n  &lt;div class=\"flow-hold\"&gt;1000&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"holder2\"&gt;\r\n  &lt;div class=\"flow-hold\"&gt;3000&lt;/div&gt;\r\n  &lt;div class=\"flow-hold\"&gt;5000&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Otherwise</strong>, use <code>$('.holder1 .flow-hold').each(...)</code> if the <code>.flow-hold</code> element can be a descendant (direct or not) of <code>.holder1</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.holder1 .flow-hold').each(function(idx, el) {\r\n   var amount = parseInt($(el).text());\r\n  \r\n  if ( amount &gt;= 50 &amp;&amp; amount &lt;= 600) {\r\n    $(this).css(\"background-color\", \"green\");\r\n\r\n  } else if (amount &gt;= 601 &amp;&amp; amount &lt;= 1000) {\r\n    $(this).css(\"background-color\", \"yellow\");\r\n\r\n  } else if (amount &gt;= 1001 &amp;&amp; amount &lt;= 4000) {\r\n    $(this).css(\"background-color\", \"red\");\r\n\r\n  } else {\r\n    $(this).css(\"background-color\", \"transparent\");\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.2.3/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"flow-hold\"&gt;100&lt;/div&gt;\r\n&lt;div class=\"flow-hold\"&gt;500&lt;/div&gt;\r\n&lt;div class=\"holder1\"&gt;\r\n  &lt;div class=\"intermediate\"&gt;\r\n    &lt;div class=\"flow-hold\"&gt;1000&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"holder2\"&gt;\r\n  &lt;div class=\"flow-hold\"&gt;3000&lt;/div&gt;\r\n  &lt;div class=\"flow-hold\"&gt;5000&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "is_accepted": false, "score": 0, "last_activity_date": 1527120219, "last_edit_date": 1527120219, "creation_date": 1527116080, "answer_id": 50498585, "question_id": 50498160, "link": "https://stackoverflow.com/questions/50498160/run-code-only-on-div-that-has-parent-id-of/50498585#50498585", "title": "Run code only on div that has parent id of =", "body": "<p>Instead of <code>$('.flow-hold')</code> use <strong><code>$(\"parentSelector\").find(\"childSelector\")</code></strong> like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const colors = {\r\n  50: \"transparent\",\r\n  600: \"green\",\r\n  1000: \"yellow\",\r\n  4000: \"red\"\r\n};\r\n\r\n$(\".holder1\").find('.flow-hold').css(\"background-color\", function() {\r\n  const n = parseInt($(this).text(), 10);\r\n  return colors[Object.keys(colors).find(v=&gt;n&lt;=v)];\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"flow-hold\"&gt;100&lt;/div&gt;\r\n&lt;div class=\"flow-hold\"&gt;500&lt;/div&gt;\r\n&lt;div class=\"holder1\"&gt;\r\n  &lt;div class=\"flow-hold\"&gt;1000&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"holder2\"&gt;\r\n  &lt;div class=\"flow-hold\"&gt;3000&lt;/div&gt;\r\n  &lt;div class=\"flow-hold\"&gt;5000&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/1.2.3/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 27, "user_id": 1127140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a269b183e8216b9997dcc2c4481c5519?s=128&d=identicon&r=PG", "display_name": "Philip", "link": "https://stackoverflow.com/users/1127140/philip"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 50498209, "answer_count": 4, "score": 0, "last_activity_date": 1527120219, "creation_date": 1527113198, "last_edit_date": 1527113386, "question_id": 50498160, "link": "https://stackoverflow.com/questions/50498160/run-code-only-on-div-that-has-parent-id-of", "title": "Run code only on div that has parent id of =", "body": "<p>Trying to get this code to run on the div \"flow-hold\" that has the parent name \"holder1\" and not on any of the other divs that have the same name.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.flow-hold').each(function() {\r\n  if (parseInt($(this).text()) &gt;= 50 &amp;&amp; ($(this).text()) &lt;= 600) {\r\n    $(this).css(\"background-color\", \"green\");\r\n\r\n  } else if (parseInt($(this).text()) &gt;= 601 &amp;&amp; ($(this).text()) &lt;= 1000) {\r\n    $(this).css(\"background-color\", \"yellow\");\r\n\r\n  } else if (parseInt($(this).text()) &gt;= 1001 &amp;&amp; ($(this).text()) &lt;= 4000) {\r\n    $(this).css(\"background-color\", \"red\");\r\n\r\n  } else {\r\n    $(this).css(\"background-color\", \"transparent\");\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.2.3/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"flow-hold\"&gt;100&lt;/div&gt;\r\n&lt;div class=\"flow-hold\"&gt;500&lt;/div&gt;\r\n&lt;div class=\"holder1\"&gt;\r\n  &lt;div class=\"flow-hold\"&gt;1000&lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"holder2\"&gt;\r\n  &lt;div class=\"flow-hold\"&gt;3000&lt;/div&gt;\r\n  &lt;div class=\"flow-hold\"&gt;5000&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 131, "user_id": 6647852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62035dbf65fd98a8e851b0977d3431ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emenpy", "link": "https://stackoverflow.com/users/6647852/emenpy"}, "reply_to_user": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "edited": false, "score": 0, "creation_date": 1527114740, "post_id": 50498156, "comment_id": 88009620, "body": "Asking if theres other solution beside using Database to store it. For efficiency purpose."}, {"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527115244, "post_id": 50498156, "comment_id": 88009763, "body": "From the database possibility, I assume you have to login to use this service. Does the currentTime need to be retained between different logins or can it be discarded once you log out?"}, {"owner": {"reputation": 7497, "user_id": 2033044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fnK5m.png?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/2033044/lucas"}, "edited": false, "score": 0, "creation_date": 1527116657, "post_id": 50498156, "comment_id": 88010093, "body": "@Emenpy Either keep it in a service, or learn how to use a redux like store <a href=\"https://github.com/ngrx/store\" rel=\"nofollow noreferrer\">github.com/ngrx/store</a> ... I dont see why a simple service wont do :p"}, {"owner": {"reputation": 131, "user_id": 6647852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62035dbf65fd98a8e851b0977d3431ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emenpy", "link": "https://stackoverflow.com/users/6647852/emenpy"}, "reply_to_user": {"reputation": 7497, "user_id": 2033044, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/fnK5m.png?s=128&g=1", "display_name": "Lucas", "link": "https://stackoverflow.com/users/2033044/lucas"}, "edited": false, "score": 0, "creation_date": 1527119715, "post_id": 50498156, "comment_id": 88010858, "body": "@FRECIA Even if it&#39;s in service, a refresh will start the timer over."}, {"owner": {"reputation": 131, "user_id": 6647852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62035dbf65fd98a8e851b0977d3431ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emenpy", "link": "https://stackoverflow.com/users/6647852/emenpy"}, "reply_to_user": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527119776, "post_id": 50498156, "comment_id": 88010864, "body": "@NocNit I am using a timer to measure how long a user stay in a certain page. Once log out/log back in, the timer is reset. However, i do not want it to reset when a user refresh a page. By storing in localStorage, i can retrieve the time from localstorage if it was reset."}, {"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527409860, "post_id": 50498156, "comment_id": 88111624, "body": "@Emenpy Just a follow up, did our comments/answer help you solve your question?"}], "answers": [{"tags": [], "owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "is_accepted": false, "score": 0, "last_activity_date": 1527120576, "last_edit_date": 1527120576, "creation_date": 1527120255, "answer_id": 50499094, "question_id": 50498156, "link": "https://stackoverflow.com/questions/50498156/implementing-timer-handling-on-refresh/50499094#50499094", "title": "Implementing Timer, handling on Refresh?", "body": "<p>A possible alternative might be to save the time the user accessed the page in the <strong>session</strong> on the server side. A session is stored in server memory and tied to a login, and can hold information on the server which makes it secure. Once the user logs out, the information is discarded, so it's more efficient than a database.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/5489365/how-to-use-store-and-use-session-variables-across-pages\">This SO question</a> has a PHP example of how to store something in the session. The neat thing there is that they show how a session is remembered between pages, so you will always have access to currentTime.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28403784/how-can-i-access-my-session-variable-in-a-different-page-with-php\">Another good SO link</a></p>\n"}], "owner": {"reputation": 131, "user_id": 6647852, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62035dbf65fd98a8e851b0977d3431ca?s=128&d=identicon&r=PG&f=1", "display_name": "Emenpy", "link": "https://stackoverflow.com/users/6647852/emenpy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527120576, "creation_date": 1527113179, "last_edit_date": 1527116810, "question_id": 50498156, "link": "https://stackoverflow.com/questions/50498156/implementing-timer-handling-on-refresh", "title": "Implementing Timer, handling on Refresh?", "body": "<p>I have written a component that will keep track of time. I am currently using <code>Localstorage</code> to save the <code>currentTime</code> just in case a user hits Refresh. However, I found that this solution is not a really good one becasue the user can edit <code>localstorage</code>. On the other hand, I can use the database to store this information, but it will slow down my page which I do not want.</p>\n\n<p>Is there any alternative solution beside using <code>LocalStorage</code> to store my time? I do not want user to edit the <code>localstorage</code>.</p>\n\n<pre><code>export class MainComponent implements OnInit {\n\n    private start: number = null;\n    private uiTimerId: number = null;\n\n    constructor() {\n    }\n\n    private updateUI(): void {\n\n        let delta = performance.now() - this.start;\n        this.someUIElement.textContent = delta.toFixed() + \"ms\";\n    }\n\n    ngOnInit() {\n\n        this.start = parseFloat( window.localStorage.getItem( \"timerStart\" ) );\n        if( !this.start ) {\n            this.start = performance.now();\n            window.localStorage.setItem( \"timerStart\", this.start );\n        }\n\n        this.uiTimerId = window.setInterval( this.updateUI.bind(this), 100 ); // 100ms UI updates, not 1000ms to reduce UI jitter\n    }\n\n    buttonClick = function() {\n        if( this.uiTimerId != null ) {\n            window.clearInterval( this.uiTimerId );\n            window.localStorage.removeItem( \"timerStart\" );\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "tampermonkey", "greasemonkey-4"], "comments": [{"owner": {"reputation": 82212, "user_id": 331508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08ad3e87a75ff0936395b59325d8b151?s=128&d=identicon&r=PG", "display_name": "Brock Adams", "link": "https://stackoverflow.com/users/331508/brock-adams"}, "edited": false, "score": 0, "creation_date": 1527116660, "post_id": 50498088, "comment_id": 88010095, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/10693845/what-do-queryselectorall-getelementsbyclassname-and-other-getelementsby-method\">What do querySelectorAll, getElementsByClassName and other getElementsBy* methods return?</a>"}, {"owner": {"reputation": 82212, "user_id": 331508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08ad3e87a75ff0936395b59325d8b151?s=128&d=identicon&r=PG", "display_name": "Brock Adams", "link": "https://stackoverflow.com/users/331508/brock-adams"}, "edited": false, "score": 0, "creation_date": 1527116726, "post_id": 50498088, "comment_id": 88010105, "body": "Also a duplicate of <a href=\"https://stackoverflow.com/questions/988363/how-can-i-debug-my-javascript-code\" title=\"how can i debug my javascript code\">stackoverflow.com/questions/988363/&hellip;</a> and <a href=\"https://stackoverflow.com/questions/9169032/how-to-use-greasemonkey-to-selectively-remove-content-from-a-website\" title=\"how to use greasemonkey to selectively remove content from a website\">stackoverflow.com/questions/9169032/&hellip;</a>."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 1500370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e925174410c25ef9e135a4096dc2e94e?s=128&d=identicon&r=PG", "display_name": "Colin", "link": "https://stackoverflow.com/users/1500370/colin"}, "edited": false, "score": 0, "creation_date": 1527881124, "post_id": 50498595, "comment_id": 88310604, "body": "Your first code block is remarkable similar to what I initially had done, and for some reason, it was not working as expected. Probably some page load delay making it hit or miss. Now your second solution is sweet and does the job very well. Thank you."}], "tags": [], "owner": {"reputation": 82212, "user_id": 331508, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/08ad3e87a75ff0936395b59325d8b151?s=128&d=identicon&r=PG", "display_name": "Brock Adams", "link": "https://stackoverflow.com/users/331508/brock-adams"}, "is_accepted": true, "score": 1, "last_activity_date": 1527116175, "creation_date": 1527116175, "answer_id": 50498595, "question_id": 50498088, "link": "https://stackoverflow.com/questions/50498088/greasemonkey-script-failing-to-remove-element/50498595#50498595", "title": "Greasemonkey Script Failing To Remove Element", "body": "<p>There are many problems with that userscript, but they mostly boil down to: You need to note the error messages in the console and google the functions that are causing them.<br>\nFor example:</p>\n\n<ul>\n<li>That's not how <code>getElementsByClassName</code> works.</li>\n<li><code>querySelectorAll</code> does not return a node.</li>\n<li><code>parentNode</code> and <code>removeChild</code> both act on a single node.</li>\n</ul>\n\n<p>Also: the second <code>setTimeout</code> does not appear to be needed. And the <code>load</code> event listener is also (probably) superfluous.</p>\n\n<p>Here is the script with those deficiencies corrected:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// ==UserScript==\n// @name     Gocomics, Strip Sidebar\n// @match    https://www.gocomics.com/*\n// @version  2\n// @grant    none\n// ==/UserScript==\n\nvar interval = Math.random () * 5000 + 1000;\nsetTimeout (killsidebar, interval);\n\nfunction killsidebar () {\n    //-- querySelector() and querySelectorAll () are not the same.\n    var adSidebar = document.querySelector ('.gc-container-fluid .layout-2col-sidebar, .gc-page-header--hero .layout-2col-sidebar');\n    if (adSidebar) {\n        adSidebar.parentNode.removeChild (adSidebar);\n    }\n}\n</code></pre>\n\n<p>Although, this script will probably perform better:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// ==UserScript==\n// @name     Gocomics, Strip Sidebar\n// @match    https://www.gocomics.com/*\n// @version  2\n// @require  https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js\n// @require  https://gist.github.com/raw/2625891/waitForKeyElements.js\n// @grant    GM_addStyle\n// @grant    GM.getValue\n// ==/UserScript==\n//- The @grant directives are needed to restore the proper sandbox.\n\nwaitForKeyElements (\n    \".gc-container-fluid .layout-2col-sidebar, .gc-page-header--hero .layout-2col-sidebar\",\n    removeNode\n);\n\nfunction removeNode (jNode) {\n    jNode.remove ();\n}\n</code></pre>\n\n<p>It uses <code>waitForKeyElements</code> -- which is faster and more robust that a straight <code>setTimeout</code>.</p>\n"}], "owner": {"reputation": 29, "user_id": 1500370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e925174410c25ef9e135a4096dc2e94e?s=128&d=identicon&r=PG", "display_name": "Colin", "link": "https://stackoverflow.com/users/1500370/colin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 988, "favorite_count": 0, "accepted_answer_id": 50498595, "answer_count": 1, "score": 1, "last_activity_date": 1527116646, "creation_date": 1527112827, "last_edit_date": 1527116646, "question_id": 50498088, "link": "https://stackoverflow.com/questions/50498088/greasemonkey-script-failing-to-remove-element", "title": "Greasemonkey Script Failing To Remove Element", "body": "<p>A lot of this script is basically cut and paste from other people's scripts that are working for them, but I'm having a strange issue with either <code>.remove</code> or <code>.removeChild</code> failing to run. The script crashes out the userscript engine at this point.</p>\n\n<pre><code>// ==UserScript==\n// @name     Strip Gocomics Sidebar\n// @version  1\n// @grant    none\n// @include  https://www.gocomics.com/*\n// ==/UserScript==\n\nwindow.addEventListener('load', setkillsidebar);\n\nfunction setkillsidebar() {\n  var interval = Math.random() * 5000 + 1000;\n  setTimeout(killsidebar, interval);\n}\n\nfunction killsidebar() {\n  console.log(\"Start Session\");\n  // const adSidebar = document.querySelectorAll('.gc-container-fluid .layout-2col-sidebar, .gc-page-header--hero .layout-2col-sidebar');\n  var adSidebar = document.getElementsByClassName('.gc-container-fluid .layout-2col-sidebar, .gc-page-header--hero .layout-2col-sidebar');\n  console.log(\"Got Elements \" + adSidebar.length );\n  if (adSidebar) {\n    console.log(\"Found SideBar\");\n    var myParent = adSidebar.parentNode;\n    console.log(\"Made Parent\");\n    // myParent.remove();\n    adSidebar.parentNode.removeChild(adSidebar);\n    console.log(\"Stripped SideBar\");\n    var interval = Math.random() * 5000 + 1000;\n    console.log(\"Timer Time \" + interval );\n    setTimeout(killsidebar, interval);\n    console.log(\"Set Timer\");\n  }\n}\n</code></pre>\n\n<p>So with the addition of the console.log items, I get the following in the Firefox's Web Console:</p>\n\n<ul>\n<li>Start Session</li>\n<li>Got Elements</li>\n<li>Found SideBar</li>\n<li>Made Parent</li>\n</ul>\n\n<p>And that's a wrap, I have a death at either the <code>.remove</code> or the <code>.removeChild</code> so either I am not doing something correctly, or I am having an issue with a security setting that is preventing me from deleting elements from webpages that nobody has told me about.</p>\n\n<p>And for more interesting information, although the title of this post is Greasemonkey, this fails with Tampermonkey as well.</p>\n\n<p>P.S. This is being used in addition to some Stylish CSS that permits me to have a bigger comic view on a small monitor. Doesn't matter if Stylish is running or not.</p>\n"}, {"tags": ["javascript", "google-chrome", "bookmarks"], "comments": [{"owner": {"reputation": 21, "user_id": 9394494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7sFjv.jpg?s=128&g=1", "display_name": "scomojo", "link": "https://stackoverflow.com/users/9394494/scomojo"}, "edited": false, "score": 0, "creation_date": 1530290785, "post_id": 50498062, "comment_id": 89199485, "body": "Can anyone confirm if you are having the same issue?  Any thoughts on a solution?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 2727173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81bca12687240c0033c688bf9d0212d1?s=128&d=identicon&r=PG&f=1", "display_name": "lihlii", "link": "https://stackoverflow.com/users/2727173/lihlii"}, "is_accepted": false, "score": 0, "last_activity_date": 1544702626, "last_edit_date": 1544702626, "creation_date": 1544699058, "answer_id": 53760417, "question_id": 50498062, "link": "https://stackoverflow.com/questions/50498062/google-bookmarks-script-only-saves-about-1-in-5-links/53760417#53760417", "title": "Google bookmarks script only saves about 1 in 5 links", "body": "<p>I have similar issue of not able to add a lot of https website into Google Bookmarks, especially those from Github or Google's Chrome Webstore.  Sometimes if you change the https prefix to http, it will work, but not for all.</p>\n\n<p>I guess the problem lies at the backend side, because it also fails when you try to add the URL in question directly at the <a href=\"https://www.google.com/bookmarks/mark?op=add&amp;hl=en\" rel=\"nofollow noreferrer\">Add bookmark</a> page.</p>\n\n<p>Seems Google deserted this product (originated from the time of Google Toolbar) and favors Google Chrome bookmark sync solution.</p>\n"}], "owner": {"reputation": 21, "user_id": 9394494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7sFjv.jpg?s=128&g=1", "display_name": "scomojo", "link": "https://stackoverflow.com/users/9394494/scomojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 339, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1544702626, "creation_date": 1527112663, "question_id": 50498062, "link": "https://stackoverflow.com/questions/50498062/google-bookmarks-script-only-saves-about-1-in-5-links", "title": "Google bookmarks script only saves about 1 in 5 links", "body": "<p>I've been having this problem with the Google bookmarks \"bookmarklet\" button in Chrome for several years now: it does not reliably save URLs to <a href=\"https://www.google.com/bookmarks\" rel=\"nofollow noreferrer\">https://www.google.com/bookmarks</a> so I have to double-check every link I save. The form is invoked by clicking the Google Bookmark button in the Chrome bookmarks bar that is a javascript link that opens the form. The button comes from the bottom of the Google bookmarks page itself:</p>\n\n<p><a href=\"https://i.stack.imgur.com/oeVav.png\" rel=\"nofollow noreferrer\">Google Bookmarks page</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/CnI6H.png\" rel=\"nofollow noreferrer\">Google Bookmark button properties</a></p>\n\n<p>Many links will not save unless I add a suffix such as #1 to the end of the URL, and even that is not a 100% effective workaround. For example, the URL <a href=\"http://jsbeautifier.org/\" rel=\"nofollow noreferrer\">http://jsbeautifier.org/</a> only saves if I append the #1 in the URL field: <a href=\"http://jsbeautifier.org/#1\" rel=\"nofollow noreferrer\">http://jsbeautifier.org/#1</a>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/UDZNa.png\" rel=\"nofollow noreferrer\">Google Bookmarks Form</a></p>\n\n<p>I don't know if it's an issue with the javascript, encoding the URL, or an issue on Google's end they have never fixed. Here is the full javascript that comes directly from the button properties. I added the whitespace for readability:</p>\n\n<pre><code>javascript: (function() {\nvar a = window,\n    b = document,\n    c = encodeURIComponent,\n    d = a.open(\"https://www.google.com/bookmarks/mark?op=edit&amp;output=popup&amp;bkmk=\" + c(b.location) + \"&amp;title=\" + c(b.title), \"bkmk_popup\", \"left=\" + ((a.screenX || a.screenLeft) + 10) + \",top=\" + ((a.screenY || a.screenTop) + 10) + \",height=510px,width=550px,resizable=1,alwaysRaised=1\");\na.setTimeout(function() {\n    d.focus()\n}, 300)})();\n</code></pre>\n\n<p>Thanks in advance! :)</p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "parent-child"], "answers": [{"comments": [{"owner": {"reputation": 1940, "user_id": 5778281, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6SEVOFXFTXM/AAAAAAAAAAI/AAAAAAAAMn8/2a2ptpM4iVE/photo.jpg?sz=128", "display_name": "Neel Gala", "link": "https://stackoverflow.com/users/5778281/neel-gala"}, "edited": false, "score": 0, "creation_date": 1527113950, "post_id": 50498238, "comment_id": 88009392, "body": "Agreed with your answer..!"}, {"owner": {"reputation": 8210, "user_id": 9816472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DltvK.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/9816472/isaac"}, "reply_to_user": {"reputation": 1940, "user_id": 5778281, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-6SEVOFXFTXM/AAAAAAAAAAI/AAAAAAAAMn8/2a2ptpM4iVE/photo.jpg?sz=128", "display_name": "Neel Gala", "link": "https://stackoverflow.com/users/5778281/neel-gala"}, "edited": false, "score": 0, "creation_date": 1527114061, "post_id": 50498238, "comment_id": 88009426, "body": "@NeelGala you can upvote the answer as a token of appreciation if you&#39;re agree with the answer :)"}, {"owner": {"reputation": 65, "user_id": 5932019, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/38ac5f3a76665b2a899f046bfffd82c8?s=128&d=identicon&r=PG&f=1", "display_name": "user5932019", "link": "https://stackoverflow.com/users/5932019/user5932019"}, "edited": false, "score": 0, "creation_date": 1527196419, "post_id": 50498238, "comment_id": 88049101, "body": "the idea was to have any number of children handled by the parent, my question was more about whether I should add x children by adding &lt;Child&gt; elements or by giving the parent of prop for the number of desired children to be handled inside the Parent class. it seems, to maintain the level of control &amp; customization of the children, the former is most logical to me, but I could be wrong."}], "tags": [], "owner": {"reputation": 8210, "user_id": 9816472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DltvK.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/9816472/isaac"}, "is_accepted": false, "score": 1, "last_activity_date": 1527122050, "last_edit_date": 1527122050, "creation_date": 1527113634, "answer_id": 50498238, "question_id": 50498006, "link": "https://stackoverflow.com/questions/50498006/react-native-custom-child-objects-vs-object-array-in-parents-props/50498238#50498238", "title": "React-Native: Custom Child objects vs. Object array in Parent&#39;s props", "body": "<p>Ask yourself this question, am I expecting every places where I put <code>FanButton</code> to have exactly 3 <code>ChildButton</code>? Or its random depending on where the <code>FanButton</code> sits? </p>\n\n<p>If your answer is yes, every <code>FanButton</code> will definitely only have 3 <code>ChildButton</code>, then just put <code>ChildrenButton</code> directly inside <code>FanButton</code>. Generally we don't include <code>ChildrenButton</code> inside <code>FanButton</code> to ensure scalability</p>\n"}], "owner": {"reputation": 65, "user_id": 5932019, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/38ac5f3a76665b2a899f046bfffd82c8?s=128&d=identicon&r=PG&f=1", "display_name": "user5932019", "link": "https://stackoverflow.com/users/5932019/user5932019"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527122050, "creation_date": 1527112358, "question_id": 50498006, "link": "https://stackoverflow.com/questions/50498006/react-native-custom-child-objects-vs-object-array-in-parents-props", "title": "React-Native: Custom Child objects vs. Object array in Parent&#39;s props", "body": "<p>When creating customizable reusable React components, what is best practice regarding definition of children?</p>\n\n<p>For instance: \nI'm created a reusable customizable option-fan component. I also wanted to be able to customize/control aspects of the child buttons of this parent option-fan, so I made a Child component as well. </p>\n\n<p>So implementation would ideally look like this:</p>\n\n<pre><code> &lt;FanButton \n                  diameter={100}\n                  staggerDelay={300}\n                  position={ {x: 100, y: 100} }\n                  icon={}\n                  children={3} &gt;\n                  &lt;ChildButton/&gt;\n                  &lt;ChildButton/&gt;\n                  &lt;ChildButton/&gt;\n &lt;/FanButton&gt;\n</code></pre>\n\n<p>My question is: is it appropriate or even necessary to bring the child element into the equation in this manner, or could/should it be brought in as an array of objects in a prop of Option-Fan?</p>\n"}, {"tags": ["javascript", "html", "for-loop"], "answers": [{"tags": [], "owner": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "is_accepted": true, "score": 10, "last_activity_date": 1527113398, "last_edit_date": 1527113398, "creation_date": 1527112184, "answer_id": 50497973, "question_id": 50497960, "link": "https://stackoverflow.com/questions/50497960/fill-a-dropdown-menu-from-1-to-100-using-javascript/50497973#50497973", "title": "Fill a dropdown menu from 1 to 100 using javascript", "body": "<p>You are overwriting the <code>innerHTML</code> upon each iteration of the loop.<br>\nOne solution is to concatenate with the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Assignment_Operators#Addition_assignment\" rel=\"noreferrer\">addition assignment operator</a>: <code>+=</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var selectAge = document.getElementById(\"selectAge\");\r\nfor (let i = 1; i &lt;= 100; i++)\r\n  selectAge.innerHTML += \"&lt;option&gt;\" + i + \"&lt;/option&gt;\";</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;select name=\"age\" id=\"selectAge\"&gt;&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>As mentioned by Ivan, to avoid rewriting the <code>innerHTML</code> 100 times, I suggest building a string first:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var selectAge = document.getElementById(\"selectAge\");\r\nvar contents;\r\n\r\nfor (let i = 1; i &lt;= 100; i++) {\r\n  contents += \"&lt;option&gt;\" + i + \"&lt;/option&gt;\";\r\n}\r\n\r\nselectAge.innerHTML = contents;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;select name=\"age\" id=\"selectAge\"&gt;&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 3923, "user_id": 4182029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jyFLA.png?s=128&g=1", "display_name": "Rob Monhemius", "link": "https://stackoverflow.com/users/4182029/rob-monhemius"}, "edited": false, "score": 2, "creation_date": 1527112312, "post_id": 50497975, "comment_id": 88008864, "body": "uhh why the hate?"}, {"owner": {"reputation": 15350, "user_id": 6877799, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/j85tT.jpg?s=128&g=1", "display_name": "AmerllicA", "link": "https://stackoverflow.com/users/6877799/amerllica"}, "edited": false, "score": 0, "creation_date": 1527112853, "post_id": 50497975, "comment_id": 88009055, "body": "I don&#39;t know why you got 3 negative vote!! your answer is true, you just didn&#39;t write code, just it!! they could didn&#39;t vote you"}, {"owner": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "edited": false, "score": 0, "creation_date": 1527112961, "post_id": 50497975, "comment_id": 88009092, "body": "Thank you for the additional method: creating elements and appending them to the DOM."}], "tags": [], "owner": {"reputation": 3923, "user_id": 4182029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jyFLA.png?s=128&g=1", "display_name": "Rob Monhemius", "link": "https://stackoverflow.com/users/4182029/rob-monhemius"}, "is_accepted": false, "score": 0, "last_activity_date": 1527112871, "last_edit_date": 1527112871, "creation_date": 1527112200, "answer_id": 50497975, "question_id": 50497960, "link": "https://stackoverflow.com/questions/50497960/fill-a-dropdown-menu-from-1-to-100-using-javascript/50497975#50497975", "title": "Fill a dropdown menu from 1 to 100 using javascript", "body": "<p>You are overwriting the innerHTML.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var selectAge = document.getElementById(\"selectAge\");\r\n// use addEventlistener or you will overwrite other 'onload' events\r\nwindow.addEventListener('load', () =&gt; {\r\n  for(let i = 1; i&lt;=100 ; i++){\r\n    let option = document.createElement('option');\r\n        option.innerText = i;\r\n    selectAge.appendChild( option );\r\n  }\r\n}); // end onload</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form&gt;\r\n  &lt;label&gt;\r\n    Your age:\r\n    &lt;select name=\"age\" id=\"selectAge\"&gt;&lt;/select&gt;\r\n  &lt;/label&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 151, "user_id": 9837240, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/N6PnU.jpg?s=128&g=1", "display_name": "Veljko Ili\u0107", "link": "https://stackoverflow.com/users/9837240/veljko-ili%c4%87"}, "is_accepted": false, "score": 3, "last_activity_date": 1527112580, "last_edit_date": 1527112580, "creation_date": 1527112428, "answer_id": 50498018, "question_id": 50497960, "link": "https://stackoverflow.com/questions/50497960/fill-a-dropdown-menu-from-1-to-100-using-javascript/50498018#50498018", "title": "Fill a dropdown menu from 1 to 100 using javascript", "body": "<p>Try just adding a  <code>+=</code>.</p>\n\n<p>This will add the every single option from 0 to 100, because <code>+=</code> means that the value will be added to the value that previously existed.</p>\n\n<pre><code>selectAge.innerHTML +=\"&lt;option&gt;\" + i + \"&lt;/option&gt;\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "is_accepted": false, "score": 5, "last_activity_date": 1527112957, "last_edit_date": 1527112957, "creation_date": 1527112632, "answer_id": 50498057, "question_id": 50497960, "link": "https://stackoverflow.com/questions/50497960/fill-a-dropdown-menu-from-1-to-100-using-javascript/50498057#50498057", "title": "Fill a dropdown menu from 1 to 100 using javascript", "body": "<p>Beside (as already noted by others) you're using <code>=</code> instead of <code>+=</code> to concatenate, it's a bad idea to manipulate 100 times the DOM,<br>\n<strong>instead, use <code>innerHTML</code> only once:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let ageOptions = \"\";\r\nfor(let i=1; i&lt;=100 ; i++) ageOptions += `&lt;option&gt;${i}&lt;/option&gt;`;\r\n\r\ndocument.querySelector(\"[name=age]\").innerHTML = ageOptions;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Your age: &lt;select name=\"age\"&gt;&lt;/select&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Also, to make sure DOM is parsed ready to be manipulated, (instead of <code>window.onload</code> and similar) simply place your <code>&lt;script&gt;</code> tag right before the closing <code>&lt;/body&gt;</code> tag.</p>\n"}, {"tags": [], "owner": {"reputation": 15350, "user_id": 6877799, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/j85tT.jpg?s=128&g=1", "display_name": "AmerllicA", "link": "https://stackoverflow.com/users/6877799/amerllica"}, "is_accepted": false, "score": 1, "last_activity_date": 1527112721, "creation_date": 1527112721, "answer_id": 50498068, "question_id": 50497960, "link": "https://stackoverflow.com/questions/50497960/fill-a-dropdown-menu-from-1-to-100-using-javascript/50498068#50498068", "title": "Fill a dropdown menu from 1 to 100 using javascript", "body": "<p>Actually you must contact the changes to <code>innerHTML</code> in every epoch of your loop, see below codes:</p>\n\n<pre><code>const selectAge = document.getElementById(\"selectAge\");\ndocument.onload = ( () =&gt; {\n  for (let i = 1; i &lt;= 100; i++)\n    selectAge.innerHTML += `&lt;option&gt;${i}&lt;/option&gt;`;\n})();\n</code></pre>\n\n<p>I write above code in <code>ES6</code> style, it is common for trend browsers now.</p>\n"}, {"tags": [], "owner": {"reputation": 74, "user_id": 9304984, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/06be46412b17c0529f8a007470646d5b?s=128&d=identicon&r=PG&f=1", "display_name": "LMS", "link": "https://stackoverflow.com/users/9304984/lms"}, "is_accepted": false, "score": 2, "last_activity_date": 1528678030, "creation_date": 1528678030, "answer_id": 50789291, "question_id": 50497960, "link": "https://stackoverflow.com/questions/50497960/fill-a-dropdown-menu-from-1-to-100-using-javascript/50789291#50789291", "title": "Fill a dropdown menu from 1 to 100 using javascript", "body": "<p>Every loop you will assign new value to  <code>selectAge.innerHTML</code> but you actually want for every loop to add new value to the existing one. You can do it with <code>+=</code> witch is the same as <code>selectAge.innerHTML = selectAge.innerHTML + ...</code>.   </p>\n"}], "owner": {"reputation": 135, "user_id": 7339809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4c4cb406db39265a7ee1392b191f7a82?s=128&d=identicon&r=PG", "display_name": "Play38", "link": "https://stackoverflow.com/users/7339809/play38"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1361, "favorite_count": 0, "accepted_answer_id": 50497973, "answer_count": 6, "score": 4, "last_activity_date": 1528678030, "creation_date": 1527112085, "last_edit_date": 1527112362, "question_id": 50497960, "link": "https://stackoverflow.com/questions/50497960/fill-a-dropdown-menu-from-1-to-100-using-javascript", "title": "Fill a dropdown menu from 1 to 100 using javascript", "body": "<p>I've tried to write a javascript code which fills the select tags with option tags from 1 to 100.</p>\n\n<p>But instead of giving me 99 options, it gives me only one option with the 100 value on it.</p>\n\n<p>I would be happy to understand and to know how to solve this problem.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var selectAge = document.getElementById(\"selectAge\");\r\ndocument.onload = (function(){\r\n  for(let i = 1; i&lt;=100 ; i++)\r\n    selectAge.innerHTML =\"&lt;option&gt;\" + i + \"&lt;/option&gt;\";\r\n})();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form&gt;\r\n  &lt;label&gt;\r\n    Your age:\r\n    &lt;select name=\"age\" id=\"selectAge\"&gt;&lt;/select&gt;\r\n  &lt;/label&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 3130, "user_id": 2064808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d819efdb2d3f9983a1437f3c1b9f710?s=128&d=identicon&r=PG", "display_name": "David Knipe", "link": "https://stackoverflow.com/users/2064808/david-knipe"}, "edited": false, "score": 0, "creation_date": 1527115074, "post_id": 50497937, "comment_id": 88009710, "body": "&quot;I double-checked my code and the only time <i>pollingActive</i> becomes true is ...&quot; Did you mean &quot;the only time <code>pollingActive</code> becomes <i>false</i>&quot;?"}, {"owner": {"reputation": 3130, "user_id": 2064808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d819efdb2d3f9983a1437f3c1b9f710?s=128&d=identicon&r=PG", "display_name": "David Knipe", "link": "https://stackoverflow.com/users/2064808/david-knipe"}, "edited": false, "score": 0, "creation_date": 1527115192, "post_id": 50497937, "comment_id": 88009744, "body": "What about <code>performSync</code>? Are you sure it calls its success or error handler?"}, {"owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "reply_to_user": {"reputation": 3130, "user_id": 2064808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d819efdb2d3f9983a1437f3c1b9f710?s=128&d=identicon&r=PG", "display_name": "David Knipe", "link": "https://stackoverflow.com/users/2064808/david-knipe"}, "edited": false, "score": 0, "creation_date": 1527154365, "post_id": 50497937, "comment_id": 88023678, "body": "@DavidKnipe Thank you for pointing out that typo. Yes, it was supposed to be &#39;false&#39;."}, {"owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "reply_to_user": {"reputation": 3130, "user_id": 2064808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d819efdb2d3f9983a1437f3c1b9f710?s=128&d=identicon&r=PG", "display_name": "David Knipe", "link": "https://stackoverflow.com/users/2064808/david-knipe"}, "edited": false, "score": 0, "creation_date": 1527155226, "post_id": 50497937, "comment_id": 88024243, "body": "I went, again, through the entire performSync logic to check all return paths for proper return of promises. Looks good to me. I&#39;ll turn on verbose logging for now, in case this happens again. If it does, the logs will hopefully provide a better clue."}, {"owner": {"reputation": 3130, "user_id": 2064808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d819efdb2d3f9983a1437f3c1b9f710?s=128&d=identicon&r=PG", "display_name": "David Knipe", "link": "https://stackoverflow.com/users/2064808/david-knipe"}, "edited": false, "score": 0, "creation_date": 1527196988, "post_id": 50497937, "comment_id": 88049320, "body": "You could post <code>performSync</code> here, in case you&#39;ve missed something."}], "answers": [{"comments": [{"owner": {"reputation": 3130, "user_id": 2064808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d819efdb2d3f9983a1437f3c1b9f710?s=128&d=identicon&r=PG", "display_name": "David Knipe", "link": "https://stackoverflow.com/users/2064808/david-knipe"}, "edited": false, "score": 0, "creation_date": 1527114960, "post_id": 50498110, "comment_id": 88009686, "body": "I wouldn&#39;t worry about that paragraph in the docs. I think it should still execute the function eventually."}, {"owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "edited": false, "score": 0, "creation_date": 1527155159, "post_id": 50498110, "comment_id": 88024203, "body": "The event loop is not entirely blocked since the application is not entirely blocked since it promptly responds to requests to various REST API controllers."}], "tags": [], "owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "is_accepted": false, "score": 0, "last_activity_date": 1527112958, "creation_date": 1527112958, "answer_id": 50498110, "question_id": 50497937, "link": "https://stackoverflow.com/questions/50497937/periodic-task-with-settimeout-in-node-js-stopped-running/50498110#50498110", "title": "Periodic task with setTimeout in Node.js stopped running", "body": "<p>This is an interesting one, as currently, it remains a mystery to me what exactly could have happened. We would need more information for this. It did however led me to find some interesting information on <a href=\"https://nodejs.org/en/docs/guides/timers-in-node/\" rel=\"nofollow noreferrer\">what NodeJS says about timers</a>:</p>\n\n<blockquote>\n  <p>The timeout interval that is set cannot be relied upon to execute after that exact number of milliseconds. This is because other executing code that blocks or holds onto the event loop will push the execution of the timeout back. The only guarantee is that the timeout will not execute sooner than the declared timeout interval.</p>\n</blockquote>\n\n<p>Apparently, they don't give any guarantees as to when the timer will be fired. Personally though, I would advise you to use something the operating system provides, if that's a possibility. Try looking into <code>cron</code>, a system to schedule tasks in the OS (linux, among others). <a href=\"https://stackoverflow.com/questions/5398014/using-crontab-to-execute-script-every-minute-and-another-every-24-hours\">This Stackoverflow question</a> has some good pointers and links to continue reading. </p>\n"}], "owner": {"reputation": 1761, "user_id": 3440152, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc7af4998986ac6d0df749496b4b0d0f?s=128&d=identicon&r=PG&f=1", "display_name": "Christoph", "link": "https://stackoverflow.com/users/3440152/christoph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 243, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1527154315, "creation_date": 1527111976, "last_edit_date": 1527154315, "question_id": 50497937, "link": "https://stackoverflow.com/questions/50497937/periodic-task-with-settimeout-in-node-js-stopped-running", "title": "Periodic task with setTimeout in Node.js stopped running", "body": "<p>In an Node.js application I need to run a background task every 10s (task in the general sense). Most of the time, this task is a simple polling another webservice, and every now and then something changes in that web service and the background task updates internal state of my application. FYI, this application runs in a Docker container in an Openshift deployment.</p>\n\n<p>Today I realized that the background task had stopped executing. The log files did not show any exception or other suspicious messages. The CPU and memory consumption of the Openshift pod looked normal. Unfortunately I did not have the <em>verbose</em> log level enabled, only <em>info</em>, and my skills with Linux are not good enough to take a process dump and analyze it.</p>\n\n<p>I am wondering if there is something that I am doing wrong with how I implemented this background task. Also, this is the first time I encountered this (AFAIK) and the application has been under development for over a year now, with application instances running sometimes 2 months or longer without issue.</p>\n\n<pre><code>let pollingActive = true;\nlet pollingInterval = 10000;\n\nconst pollingMethod = () =&gt; {\n    if (!this.pollingActive) {\n        return;\n    }\n\n    logger.verbose('Start of synchronization cycle.');\n    performSync() // this is the polling and internal state update work\n    .then(() =&gt; {\n        this.pollingHandle = setTimeout(() =&gt; { pollingMethod(); },\n            this.pollingInterval);\n    })\n    .catch(err =&gt; {\n        logger.info('Error while synchronizing.', err);\n        this.pollingHandle = setTimeout(() =&gt; { pollingMethod(); },\n            this.pollingInterval);\n    });\n};\n\npollingMethod();\n</code></pre>\n\n<p>I double-checked my code and the only time <em>pollingActive</em> becomes false is when the Node.js application shuts down, which I know it didn't because it was still responding to regular REST API requests.</p>\n\n<p>Any idea why this background task could have stopped working? </p>\n\n<p>Side note: I am sure there are better ways to do background tasks in Node.js or a Docker container for that matter, including having the external web service send change notifications via a queue (which may still need to be polled ;-) However, because this project is on the \"way out\" I am in no position to make significant changes.</p>\n"}, {"tags": ["javascript", "angularjs", "json"], "comments": [{"owner": {"reputation": 76753, "user_id": 1026459, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/pv5mS.png?s=128&g=1", "display_name": "Travis J", "link": "https://stackoverflow.com/users/1026459/travis-j"}, "edited": false, "score": 3, "creation_date": 1527112042, "post_id": 50497932, "comment_id": 88008766, "body": "<code>objName.List.push(obj)</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 175, "user_id": 9816335, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Arber", "link": "https://stackoverflow.com/users/9816335/arber"}, "is_accepted": false, "score": 0, "last_activity_date": 1527116641, "creation_date": 1527116641, "answer_id": 50498657, "question_id": 50497932, "link": "https://stackoverflow.com/questions/50497932/generating-json-using-the-same-ui-fields/50498657#50498657", "title": "Generating JSON using the same UI fields", "body": "<pre><code>var dataObject = {\n    List: []\n};\n\ndocument.getElementById('add').addEventListener('click', function(e) {\n    e.preventDefault();\n    var formData = {\n    name: document.getElementById(\"name\").value,\n    mail: document.getElementById(\"mail\").value,\n    msg: document.getElementById(\"msg\").value\n  };\n\n  dataObject.List.push(formData);\n  console.log(dataObject);\n\n  // formId is the id of the form, \"&lt;form id=\"formId\"...\"\n  document.getElementById(\"formId\").reset();\n});\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 9837245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1725b34928880bc0d4e0dbbfa1611d2c?s=128&d=identicon&r=PG&f=1", "display_name": "azq", "link": "https://stackoverflow.com/users/9837245/azq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1527116641, "creation_date": 1527111930, "question_id": 50497932, "link": "https://stackoverflow.com/questions/50497932/generating-json-using-the-same-ui-fields", "title": "Generating JSON using the same UI fields", "body": "<p>I have a form like this : <a href=\"https://jsfiddle.net/6vocc2yn/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/6vocc2yn/</a> which returns a json like</p>\n\n<pre><code>    {\n  \"List\": [\n    {\n      \"Id\": 10,\n      \"Name\": \"SDB_SOLOCHALLENGE_CHALLENGE_DESC_10\",\n      \"email\": \"abc.abc@xyz.com\",\n      \"message\": \"SDB_SOLOCHALLENGE_CHALLENGE_BACKGROUND_IMAGE_10\",\n      \"someOtherList\": [\n        {\n          \"a\": 10,\n          \"b\": 14\n        }\n      ],\n      \"opponentFighterItemDefinitionId\": 4294967295,\n      \"title\": \"abc\"\n    }\n  ]\n}\n</code></pre>\n\n<p>I wanted an Add button which would just reset the current fields but save the information and append the information which the user enters the next time.</p>\n\n<p>for example : </p>\n\n<pre><code>{\n      \"List\": [\n        {\n          \"Id\": 10,\n          \"Name\": \"CHALLENGE_DESC_10\",\n          \"email\": \"abc.abc@xyz.com\",\n          \"message\": \"BACKGROUND_IMAGE_10\",\n          \"someOtherList\": [\n            {\n              \"a\": 10,\n              \"b\": 14\n            }\n          ],\n          \"oppId\": 111,\n          \"title\": \"abc\"\n        },\n\n       {\n      \"Id\": 11,\n      \"Name\": \"CHALLENGE_DESC_11\",\n      \"email\": \"abc.abc@xyz.com\",\n      \"message\": \"CHALLENGE_BACKGROUND_IMAGE_11\",\n      \"someOtherList\": [\n        {\n          \"a\": 11,\n          \"b\": 15\n        }\n      ],\n      \"oppId\": 222,\n      \"title\": \"abc\"\n    }\n      ]\n    }\n</code></pre>\n\n<p>How do you merge effectively with .push?   </p>\n"}, {"tags": ["javascript", "mysql", "node.js", "express", "ejs"], "comments": [{"owner": {"reputation": 29017, "user_id": 1119863, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dhjKf.jpg?s=128&g=1", "display_name": "Marcos Casagrande", "link": "https://stackoverflow.com/users/1119863/marcos-casagrande"}, "edited": false, "score": 0, "creation_date": 1527112053, "post_id": 50497907, "comment_id": 88008773, "body": "You have a typo on your <code>.ejs</code> file, <code>listReults</code> instead of <code>listResults</code>"}, {"owner": {"reputation": 17, "user_id": 8947039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db1e076f081e12543fdfafa2db338285?s=128&d=identicon&r=PG&f=1", "display_name": "Teastruction", "link": "https://stackoverflow.com/users/8947039/teastruction"}, "reply_to_user": {"reputation": 29017, "user_id": 1119863, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/dhjKf.jpg?s=128&g=1", "display_name": "Marcos Casagrande", "link": "https://stackoverflow.com/users/1119863/marcos-casagrande"}, "edited": false, "score": 0, "creation_date": 1527112294, "post_id": 50497907, "comment_id": 88008853, "body": "I checked and its only on my write up here, in my actual file it is spelled properly. Good catch though."}], "answers": [{"tags": [], "owner": {"reputation": 2563, "user_id": 7093702, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vPn6j.png?s=128&g=1", "display_name": "Diogo Capela", "link": "https://stackoverflow.com/users/7093702/diogo-capela"}, "is_accepted": false, "score": 0, "last_activity_date": 1527117680, "creation_date": 1527117680, "answer_id": 50498776, "question_id": 50497907, "link": "https://stackoverflow.com/questions/50497907/displaying-mysql-query-results-with-node-js-ejs-express/50498776#50498776", "title": "Displaying mysql query results with node.js ejs express", "body": "<p>I'm not used to EJS, I usually use Handlebars as a template engine, but since you are passing the data in Express as an object named <strong>list</strong>:</p>\n\n<pre><code>res.render('listResults', list);\n</code></pre>\n\n<p>Have you tried with <strong>list.listResults</strong>?</p>\n\n<pre><code>&lt;% list.listResults.forEach(function (pokemon) { %&gt;\n  &lt;tr&gt;\n    &lt;th scope=\"row\"&gt;&lt;%= pokemon.pokemon_id %&gt;&lt;/th&gt;\n    &lt;td&gt;&lt;%= pokemon.pokemon_name %&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%= pokemon.type1 %&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%= pokemon.type2 %&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;%= pokemon.evLevel %&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;button class=\"btn btn-sm btn-danger\"&gt;Delete&lt;/button&gt;&lt;/td&gt;\n    &lt;td&gt;&lt;a class=\"btn btn-sm btn-success\" href=\"#\" role=\"button\"&gt;Update&lt;/a&gt;&lt;/td&gt;\n  &lt;/tr&gt;\n&lt;% }) %&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 133, "user_id": 7815712, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-NGAQ3gxRfhw/AAAAAAAAAAI/AAAAAAAAJ1o/dzmPxR-owIQ/photo.jpg?sz=128", "display_name": "Carlos Murray", "link": "https://stackoverflow.com/users/7815712/carlos-murray"}, "is_accepted": false, "score": 0, "last_activity_date": 1527166374, "creation_date": 1527166374, "answer_id": 50509975, "question_id": 50497907, "link": "https://stackoverflow.com/questions/50497907/displaying-mysql-query-results-with-node-js-ejs-express/50509975#50509975", "title": "Displaying mysql query results with node.js ejs express", "body": "<p>try this</p>\n\n<pre><code>if(err){\nthrow err;\n}else{\nqryResults=res.rows;\nres.render('ejsFileName',{listResults:qryResults}\n);\n}\n</code></pre>\n\n<p>qryResults variable will hold the query resultset then listResults will be used in the ejs file for the loop statement</p>\n"}], "owner": {"reputation": 17, "user_id": 8947039, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db1e076f081e12543fdfafa2db338285?s=128&d=identicon&r=PG&f=1", "display_name": "Teastruction", "link": "https://stackoverflow.com/users/8947039/teastruction"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 937, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1527166374, "creation_date": 1527111797, "last_edit_date": 1527112514, "question_id": 50497907, "link": "https://stackoverflow.com/questions/50497907/displaying-mysql-query-results-with-node-js-ejs-express", "title": "Displaying mysql query results with node.js ejs express", "body": "<p>I am having issues with querying my mysql database and displaying the results as a table using express and ejs.</p>\n\n<p>This is what I have for my app.js file</p>\n\n<pre><code>var express = require('express');\nvar app = express();\nvar bodyParser = require('body-parser');\nvar mysql = require('mysql');\nvar pool = mysql.createPool({\n    connectionLimit : 10, \n    host        : 'host',\n    user        : 'user',\n    password    : 'password',\n    database    : 'database'\n});\n\nmodule.exports.pool = pool;\n\n...\nvar list = {};\napp.get(\"/pokemon\", function(req,res){\npool.query('SELECT p.pokemon_id AS `pokemon_id`, p.name AS `pokemon_name`, \nt1.name AS `type1`, t2.name AS `type2`, p.evolution_level AS `evLevel` FROM `pokemon` p INNER JOIN `type` t1 ON t1.type_id=p.type1 INNER JOIN `type` t2 ON \nt2.type_id=p.type2', function(err,result){\n        if(err){\n            throw err;\n        } else {\n            list = {listResults: result};\n            res.render('listResults', list);                \n        }\n    })\n});\n...\n</code></pre>\n\n<p>And for the ejs file</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table class=\"table\"&gt;\r\n                  &lt;thead&gt;\r\n                    &lt;tr&gt;\r\n                      &lt;th scope=\"col\"&gt;#&lt;/th&gt;\r\n                      &lt;th scope=\"col\"&gt;Name&lt;/th&gt;\r\n                      &lt;th scope=\"col\"&gt;Type 1&lt;/th&gt;\r\n                      &lt;th scope=\"col\"&gt;Type 2&lt;/th&gt;\r\n                      &lt;th scope=\"col\"&gt;Evolution Level&lt;/th&gt;\r\n                      &lt;th scope=\"col\"&gt;Delete&lt;/th&gt;\r\n                      &lt;th scope=\"col\"&gt;Update&lt;/th&gt;\r\n                    &lt;/tr&gt;\r\n                  &lt;/thead&gt;\r\n                  &lt;tbody&gt;\r\n                  &lt;% listResults.forEach(function (pokemon) { %&gt;\r\n                    &lt;tr&gt;\r\n                      &lt;th scope=\"row\"&gt;&lt;%= pokemon.pokemon_id %&gt;&lt;/th&gt;\r\n                      &lt;td&gt;&lt;%= pokemon.pokemon_name %&gt;&lt;/td&gt;\r\n                      &lt;td&gt;&lt;%= pokemon.type1 %&gt;&lt;/td&gt;\r\n                      &lt;td&gt;&lt;%= pokemon.type2 %&gt;&lt;/td&gt;\r\n                      &lt;td&gt;&lt;%= pokemon.evLevel %&gt;&lt;/td&gt;\r\n                      &lt;td&gt;&lt;button class=\"btn btn-sm btn-danger\"&gt;Delete&lt;/button&gt;&lt;/td&gt;\r\n                      &lt;td&gt;&lt;a class=\"btn btn-sm btn-success\" href=\"#\" role=\"button\"&gt;Update&lt;/a&gt;&lt;/td&gt;\r\n                    &lt;/tr&gt;\r\n                  &lt;% }) %&gt;\r\n                  &lt;/tbody&gt;\r\n                &lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>When I try going to the page I get an error saying 'listResults is not defined' referencing the .forEach line.</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "mongoose", "aggregation-framework"], "comments": [{"owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 3, "creation_date": 1527112473, "post_id": 50497900, "comment_id": 88008918, "body": "Can&#39;t really tell you without data to reproduce from as showing the code you have is only part of the story. In order for people to clearly see what you are doing and want to achieve you need to show  a small selection of source documents and ideally the desired result that can be obtained from that sample. The code is there as a guide to show what you have attempted and how you have approached doing it and it&#39;s likely an answer will not just be one small change to your code anyway."}, {"owner": {"reputation": 46, "user_id": 6517312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ec4f036882c3cddc5dd9ce5994439c?s=128&d=identicon&r=PG&f=1", "display_name": "N. Richli", "link": "https://stackoverflow.com/users/6517312/n-richli"}, "reply_to_user": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 0, "creation_date": 1527157823, "post_id": 50497900, "comment_id": 88026028, "body": "@NeilLunn I updated the question with the models"}, {"owner": {"reputation": 129250, "user_id": 2313887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/259593de18972d36e25f230c2be19d9f?s=128&d=identicon&r=PG", "display_name": "Neil Lunn", "link": "https://stackoverflow.com/users/2313887/neil-lunn"}, "edited": false, "score": 0, "creation_date": 1527161380, "post_id": 50497900, "comment_id": 88028371, "body": "You were not being asked for Models or JSONSchema. You were being asked for &quot;data&quot; that is actually present within the stored documents. Read the comment again because it&#39;s pretty clear in what it tells you to do. Perhaps get someone to translate if english is not your first language."}], "answers": [{"comments": [{"owner": {"reputation": 46, "user_id": 6517312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ec4f036882c3cddc5dd9ce5994439c?s=128&d=identicon&r=PG&f=1", "display_name": "N. Richli", "link": "https://stackoverflow.com/users/6517312/n-richli"}, "edited": false, "score": 0, "creation_date": 1527157997, "post_id": 50503654, "comment_id": 88026125, "body": "sounds good, but unfortunatly doesn&#39;t work, I updated the question with more data"}], "tags": [], "owner": {"reputation": 78, "user_id": 4523728, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-S4SSe4E1uho/AAAAAAAAAAI/AAAAAAAAAtc/QUFvQ1GX5eA/photo.jpg?sz=128", "display_name": "Prachi Thacker", "link": "https://stackoverflow.com/users/4523728/prachi-thacker"}, "is_accepted": false, "score": 0, "last_activity_date": 1527147543, "creation_date": 1527147543, "answer_id": 50503654, "question_id": 50497900, "link": "https://stackoverflow.com/questions/50497900/aggregate-combine-two-objectaarrays/50503654#50503654", "title": "Aggregate Combine Two ObjectAarrays", "body": "<p>Try to write (May this will work for you)</p>\n\n<pre><code>     {\n        $group: {\n            \"_id\": \"$_id\",\n            \"userInfo\":{\n              $push: {\n               \"comment\": \"$comments\",\n               \"user\": \"$user.profilePicture\"\n             }\n           }\n        }\n     } \n</code></pre>\n"}], "owner": {"reputation": 46, "user_id": 6517312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3ec4f036882c3cddc5dd9ce5994439c?s=128&d=identicon&r=PG&f=1", "display_name": "N. Richli", "link": "https://stackoverflow.com/users/6517312/n-richli"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527157773, "creation_date": 1527111751, "last_edit_date": 1527157773, "question_id": 50497900, "link": "https://stackoverflow.com/questions/50497900/aggregate-combine-two-objectaarrays", "title": "Aggregate Combine Two ObjectAarrays", "body": "<p>I want to combine the user of a comment with a profilepicture in NodeJS so the profilepicture is shown, when the comment appears.</p>\n\n<p>I have following code:</p>\n\n<pre><code> Mission.aggregate([\n        {\n            $match: {\n                _id: ({ $in: [mongoose.Types.ObjectId(id)] })\n            }\n        },\n        {\n            $limit: 1\n        },\n        {\n            $unwind: {\n                \"path\": \"$comments\",\n                \"preserveNullAndEmptyArrays\": true\n            }\n        },\n        {\n            $lookup: {\n                \"from\": \"users\",\n                \"localField\": \"comments.user\",\n                \"foreignField\": \"username\",\n                \"as\": \"user\"\n            }\n        },\n        {\n            $unwind: {\n                \"path\": \"$user\",\n                \"preserveNullAndEmptyArrays\": true\n            }\n        },\n        {\n            $group: {\n                \"_id\": \"$_id\",\n                \"comment\": { \"$push\": \"$comments\" },\n                \"user\": { \"$push\": \"$user.profilePicture\" },\n            }\n        }\n     ], ...)\n</code></pre>\n\n<p>The mission model looks like this:</p>\n\n<pre><code>creator: {\n        type: String,\n        required: true\n    },\n    text: {\n        type: String,\n        required: true,\n        minlength: 4,\n        maxlength: 100\n    },\ncomments: [{\n        user: {\n            type: String,\n            required: true\n        },\n        text: {\n            type: String,\n            required: true,\n            minLength: 2,\n            maxLength: 500\n        },\n        date: {\n            date: Date\n        }\n    }]\n</code></pre>\n\n<p>and the user model looks like this:</p>\n\n<pre><code> username: {\n            type: String,\n            required: true,\n            index: { unique: true },\n            minlength: 3,\n            maxlength: 16\n        },\n        password: {\n            type: String,\n            required: true,\n            minlength: 60,\n            maxlength: 60\n        },\n        email: {\n            type: String,\n            required: true,\n            validate: {\n                validator: function (v) {\n                    return /^([\\w-\\.]+@([\\w-]+\\.)+[\\w-]{2,4})?$/.test(v);\n                },\n                message: '{VALUE} is not a valid email address!'\n            },\n        },\n        profilePicture: {\n            type: String\n        },\n        creationDate: {\n            type: Date,\n        },\n        api: {\n            apiKey: {\n                type: String\n            },\n            apiSecret: {\n                type: String\n            }\n        }\n</code></pre>\n\n<p>The question is: How can I get the comment and the profilePicture in the same object?</p>\n"}, {"tags": ["javascript", "html", "search", "external", "hashtag"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9837164, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oa2Jb8l7TCg/AAAAAAAAAAI/AAAAAAAAAkw/tfYPh79KEbo/photo.jpg?sz=128", "display_name": "Jameson Parker", "link": "https://stackoverflow.com/users/9837164/jameson-parker"}, "edited": false, "score": 0, "creation_date": 1527168573, "post_id": 50498059, "comment_id": 88033498, "body": "Thanks Wais.  Copying and pasting this didn&#39;t work for me but I think I&#39;m understanding what you&#39;re doing.  From looking at your approach it seems I was really over complicating things.  Basically you&#39;re establishing my search term from the input box as a variable and then adding that variable to the end of my url. In the past, my search term just jumped in where the &quot;#&quot; was but I&#39;m going to work with what you sent until I figure it out.  One thing is that this button should open the search results in a new tab. I added target=&quot;_blank&quot; to your form but that didn&#39;t work for me yet.  Thanks!"}, {"owner": {"reputation": 4000, "user_id": 6649786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p2OKB.jpg?s=128&g=1", "display_name": "Wais Kamal", "link": "https://stackoverflow.com/users/6649786/wais-kamal"}, "reply_to_user": {"reputation": 15, "user_id": 9837164, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oa2Jb8l7TCg/AAAAAAAAAAI/AAAAAAAAAkw/tfYPh79KEbo/photo.jpg?sz=128", "display_name": "Jameson Parker", "link": "https://stackoverflow.com/users/9837164/jameson-parker"}, "edited": false, "score": 0, "creation_date": 1527174126, "post_id": 50498059, "comment_id": 88037487, "body": "I edited my question such that the form opens a new page."}, {"owner": {"reputation": 15, "user_id": 9837164, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oa2Jb8l7TCg/AAAAAAAAAAI/AAAAAAAAAkw/tfYPh79KEbo/photo.jpg?sz=128", "display_name": "Jameson Parker", "link": "https://stackoverflow.com/users/9837164/jameson-parker"}, "edited": false, "score": 0, "creation_date": 1527175532, "post_id": 50498059, "comment_id": 88038418, "body": "<b>You the maannnn!!!</b>  Thanks Wais.  Using your advice I was able to get it to work.  The only thing I changed was removing the &quot;help&quot; at the end of your code. That was an example of the keyword I was searching and not part of the URL itself.   Since I was launching this page from a chrome extension I&#39;m building,  it didn&#39;t work using <b>window.location.replace</b>.  Using <b>window.open</b> worked like a charm though."}], "tags": [], "owner": {"reputation": 4000, "user_id": 6649786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p2OKB.jpg?s=128&g=1", "display_name": "Wais Kamal", "link": "https://stackoverflow.com/users/6649786/wais-kamal"}, "is_accepted": true, "score": 0, "last_activity_date": 1527698795, "last_edit_date": 1527698795, "creation_date": 1527112653, "answer_id": 50498059, "question_id": 50497894, "link": "https://stackoverflow.com/questions/50497894/use-javascript-and-html-to-submit-a-search-to-an-external-website-and-open-in-a/50498059#50498059", "title": "Use javascript and html to submit a search to an external website and open in a new tab", "body": "<p>This does the job:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function redirect() {\r\n  var searchitem = document.getElementById(\"search\");\r\n  window.location.replace(\"https://example.com/search/main.action#/search/doAdvancedSearch.action?searchQuery.search\" + searchitem.value);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form action=\"javascript:redirect()\"&gt;\r\n  &lt;label&gt;Search :\r\n  &lt;input id=\"search\" type=\"search\"&gt;\r\n&lt;/label&gt;\r\n  &lt;button type=\"submit\"&gt;Search website&lt;/button&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>To open the search page in a new tab:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function redirect() {\r\n  var searchitem = document.getElementById(\"search\");\r\n  var url = \"https://example.com/search/main.action#/search/doAdvancedSearch.action?searchQuery.search=\" + searchitem.value;\r\n  window.open(url,\"\");\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form action=\"javascript:redirect()\"&gt;\r\n  &lt;label&gt;Search :\r\n  &lt;input id=\"search\" type=\"search\"&gt;\r\n&lt;/label&gt;\r\n  &lt;button type=\"submit\"&gt;Search website&lt;/button&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 9837164, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Oa2Jb8l7TCg/AAAAAAAAAAI/AAAAAAAAAkw/tfYPh79KEbo/photo.jpg?sz=128", "display_name": "Jameson Parker", "link": "https://stackoverflow.com/users/9837164/jameson-parker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1979, "favorite_count": 1, "accepted_answer_id": 50498059, "answer_count": 1, "score": 1, "last_activity_date": 1527698795, "creation_date": 1527111716, "last_edit_date": 1527649759, "question_id": 50497894, "link": "https://stackoverflow.com/questions/50497894/use-javascript-and-html-to-submit-a-search-to-an-external-website-and-open-in-a", "title": "Use javascript and html to submit a search to an external website and open in a new tab", "body": "<p>I'm new to the community but I look forward to adding value as I grow in my career as a programmer. I'm a little stuck with something and I'm hoping I can get some help.</p>\n\n<p>I'm really close to getting this right but I have one \"#\" that's throwing me off.  This is the situation...</p>\n\n<p>I have a search box on chrome extension pop-up I'm building that is meant to submit its input to the search of another website.  Lets say for example I enter into my searchbox \"help\" and press enter.</p>\n\n<p>The url I go to is this:\n    <a href=\"https://example.com/search/main.action/search/doAdvancedSearch.action?searchQuery.search=help\" rel=\"nofollow noreferrer\">https://example.com/search/main.action/search/doAdvancedSearch.action?searchQuery.search=help</a></p>\n\n<p>The url I need to go to is the exact same thing but right after \"main.action\" I need a \"#\". Like this:\n<a href=\"https://example.com/search/main.action#/search/doAdvancedSearch.action?searchQuery.search=help\" rel=\"nofollow noreferrer\">https://example.com/search/main.action#/search/doAdvancedSearch.action?searchQuery.search=help</a></p>\n\n<p>My html code for the form is as follows:</p>\n\n<pre><code>&lt;form target=\"_blank\"  action=\"https://example.com/search/main.action/search/doAdvancedSearch.action\" + \"?\"&gt;\n&lt;label&gt;Search :\n  &lt;input type=\"search\" name=\"searchQuery.search\"&gt;\n&lt;/label&gt;\n  &lt;button type= \"submit\"&gt;Search website&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>My script is as follows:</p>\n\n<pre><code>var searchItem = document.getElementById('search').value;\nconsole.log(searchItem);\n\nfunction website(){\n  window.open('https://example.com/home/main.action', '_blank');\n  document.getElementById('q').value = searchItem;\n  document.getElementById('searchArchived').click();\n  var results = document.getElementById('search-results').value;\n};\n\ndocument.getElementById('gotowebsite').addEventListener('return', website);\n\n\n}\n</code></pre>\n\n<p>I've tried all kinds of things to add the # in the url but I get no luck whatsoever.  Even putting + \"#\" after main.action gives me unwanted results. Any suggestions?  Thanks in advance. </p>\n\n<p>And yes I've tried using the other suggestions that were given to similar questions.  They didn't address the # problem. :/</p>\n"}, {"tags": ["javascript", "reactjs", "redux"], "answers": [{"tags": [], "owner": {"reputation": 54, "user_id": 8384122, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-U__LWlgyt_Y/AAAAAAAAAAI/AAAAAAAAAbY/wyzROyp6uhw/photo.jpg?sz=128", "display_name": "L&#233;onard Cherouvrier", "link": "https://stackoverflow.com/users/8384122/l%c3%a9onard-cherouvrier"}, "is_accepted": false, "score": 0, "last_activity_date": 1527115835, "last_edit_date": 1527115835, "creation_date": 1527113381, "answer_id": 50498193, "question_id": 50497882, "link": "https://stackoverflow.com/questions/50497882/setting-state-at-the-root-level-from-a-component-2-layers-deep/50498193#50498193", "title": "Setting state at the root level from a component 2 layers deep", "body": "<p>You need to pass your selected category through props</p>\n\n<p>Something like that in App:</p>\n\n<pre><code>&lt;Listing selected={this.state.selectedCategory} /&gt;\n</code></pre>\n\n<p>Then in your Listing, pass it to your Category</p>\n\n<pre><code>&lt;Category selected={this.state.selectedCategory} /&gt;\n</code></pre>\n\n<p>Access it with this.props.selectedCategory inside Category (or listing)</p>\n\n<p>If you need to update it from category -></p>\n\n<pre><code>&lt;Category selected={this.state.selectedCategory} onUpdate={this._handleUpdate} /&gt;\n</code></pre>\n\n<p>And to handle changes :</p>\n\n<pre><code>function _handleUpdate(updatedValue){\n  this.props.onUpdate(updatedValue);\n}\n</code></pre>\n\n<p>And do the same in Listing to get back into App.</p>\n\n<p>Update the state in app when onUpdate from Listing.</p>\n\n<p>And you are done ! ;)</p>\n\n<p>Docs :\n<a href=\"https://reactjs.org/docs/components-and-props.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/components-and-props.html</a></p>\n\n<p>Some explanations on Inline functions : \n<a href=\"https://cdb.reacttraining.com/react-inline-functions-and-performance-bdff784f5578\" rel=\"nofollow noreferrer\">https://cdb.reacttraining.com/react-inline-functions-and-performance-bdff784f5578</a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 8199556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa0a0e345fa5d2f9f2cdfd990bd54354?s=128&d=identicon&r=PG&f=1", "display_name": "sudhir unde", "link": "https://stackoverflow.com/users/8199556/sudhir-unde"}, "is_accepted": false, "score": 0, "last_activity_date": 1527153696, "creation_date": 1527153696, "answer_id": 50505567, "question_id": 50497882, "link": "https://stackoverflow.com/questions/50497882/setting-state-at-the-root-level-from-a-component-2-layers-deep/50505567#50505567", "title": "Setting state at the root level from a component 2 layers deep", "body": "<p>you need to pass it to your children component</p>\n\n<p>also in the </p>\n\n<p>in category you define callback function update data then it pass to your Listing  then app so app we can access it as props so there should function</p>\n"}], "owner": {"reputation": 305, "user_id": 3725781, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/aec172624e0dfd18950d0895d71a86b5?s=128&d=identicon&r=PG&f=1", "display_name": "user3725781", "link": "https://stackoverflow.com/users/3725781/user3725781"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 179, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1527153696, "creation_date": 1527111662, "question_id": 50497882, "link": "https://stackoverflow.com/questions/50497882/setting-state-at-the-root-level-from-a-component-2-layers-deep", "title": "Setting state at the root level from a component 2 layers deep", "body": "<p>New to React so struggling with this.</p>\n\n<p>I want to change a list based on a category chosen, however the Categories component is called by a Listing component which is called by the App component.</p>\n\n<pre><code>-App.js\n -Listing.js\n  -Categories.js\n</code></pre>\n\n<p>I am setting the state of selectedCategory in the app.js file initially and it works as expected, however I want to update this state. I can update the state in the categories component but this only updates the state on the <code>&lt;Category&gt;</code> element. I want to update the state \"globally\" so I can access it everywhere.</p>\n\n<p>Here's the Categories.js component:</p>\n\n<pre><code>import React, { Component } from 'react';\n\nclass Categories extends Component {\n\n\nhandleCategoryClick = (id, e) =&gt; {\n    console.log(id);\n\n    this.setState({ selectedCategory:id });\n\n}\n\nrender() {\n\nreturn (\n    &lt;div className=\"tour-categories\"&gt;\n\n        &lt;ul className=\"tour-categories-list\"&gt;\n            &lt;li onClick={(e) =&gt; this.handleCategoryClick(1, e)}&gt;Food &amp;amp; Drink&lt;/li&gt;\n            &lt;li onClick={(e) =&gt; this.handleCategoryClick(2, e)}&gt;Whisky Distilleries&lt;/li&gt;\n            &lt;li onClick={(e) =&gt; this.handleCategoryClick(3, e)}&gt;TV &amp;amp; Film Location&lt;/li&gt;\n            &lt;li onClick={(e) =&gt; this.handleCategoryClick(4, e)}&gt;City Tour&lt;/li&gt;\n            &lt;li onClick={(e) =&gt; this.handleCategoryClick(5, e)}&gt;Castles&lt;/li&gt;\n            &lt;li onClick={(e) =&gt; this.handleCategoryClick(6, e)}&gt;Golf &lt;/li&gt;\n            &lt;li onClick={(e) =&gt; this.handleCategoryClick(7, e)}&gt;Shopping&lt;/li&gt;\n            &lt;li onClick={(e) =&gt; this.handleCategoryClick(8, e)}&gt;Out Door Activities&lt;/li&gt;\n            &lt;li onClick={(e) =&gt; this.handleCategoryClick(9, e)}&gt;Spa &amp;amp; Wellness&lt;/li&gt;\n            &lt;li onClick={(e) =&gt; this.handleCategoryClick(10, e)}&gt;Boat Tours &amp;amp; Water Sports&lt;/li&gt;\n            &lt;li onClick={(e) =&gt; this.handleCategoryClick(11, e)}&gt;Zoo &amp;amp; Aquariums&lt;/li&gt;\n        &lt;/ul&gt;\n\n    &lt;/div&gt;\n)\n}\n}\n\nexport default Categories;\n</code></pre>\n\n<p>The Listing.js component:</p>\n\n<pre><code>import React, { Component } from 'react';\nimport Categories from './Categories.js';\n\nclass Listing extends Component {\n\nrender() {\n\nreturn (\n    &lt;div&gt;\n\n        &lt;Categories /&gt;\n\n    &lt;/div&gt;\n)\n}\n}\n\nexport default Listing;\n</code></pre>\n\n<p>And the App.js component (relevant part)</p>\n\n<pre><code>class App extends Component {\n\nstate = {\n tours: {},\n selectedCategory: \"\"\n};\n\nloadData() {\nfetch(API)\n  .then(response =&gt; response.json())\n  .then(json =&gt; {\n      console.log(json);\n      this.setState({\n        tours: json\n    });\n  })\n</code></pre>\n\n<p>}</p>\n\n<pre><code> componentDidMount() {\n\n this.loadData();\n\n}\n\n\nrender() {\n return (\n\n    &lt;div className=\"tour-container\"&gt;\n\n      &lt;Listing /&gt;\n\n     &lt;/div&gt;\n    );\n  }\n}\n\nexport default App;\n</code></pre>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "testing", "jestjs"], "comments": [{"owner": {"reputation": 21838, "user_id": 1913729, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dGDss.png?s=128&g=1", "display_name": "blex", "link": "https://stackoverflow.com/users/1913729/blex"}, "edited": false, "score": 2, "creation_date": 1527111295, "post_id": 50497785, "comment_id": 88008469, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/44446626/run-only-one-test-with-jest\">Run only ONE test with Jest</a>"}, {"owner": {"reputation": 5506, "user_id": 1033426, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a6263131d6ccdbfe1c7cee96da970eda?s=128&d=identicon&r=PG", "display_name": "ChaseMoskal", "link": "https://stackoverflow.com/users/1033426/chasemoskal"}, "reply_to_user": {"reputation": 21838, "user_id": 1913729, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dGDss.png?s=128&g=1", "display_name": "blex", "link": "https://stackoverflow.com/users/1913729/blex"}, "edited": false, "score": 1, "creation_date": 1527129302, "post_id": 50497785, "comment_id": 88012864, "body": "i clarified the question to differentiate it from the others \u2014 this question is about debugging, and requires a solution that is compatible with the <code>node --inspect-brk</code> method of debugging"}], "answers": [{"tags": [], "owner": {"reputation": 5506, "user_id": 1033426, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a6263131d6ccdbfe1c7cee96da970eda?s=128&d=identicon&r=PG", "display_name": "ChaseMoskal", "link": "https://stackoverflow.com/users/1033426/chasemoskal"}, "is_accepted": false, "score": 5, "last_activity_date": 1527129031, "last_edit_date": 1527129031, "creation_date": 1527111182, "answer_id": 50497786, "question_id": 50497785, "link": "https://stackoverflow.com/questions/50497785/debug-a-single-test-in-jest/50497786#50497786", "title": "Debug a single test in Jest", "body": "<p>jest handles this in two steps</p>\n\n<ol>\n<li><p><strong>isolate your test file</strong> by running jest with the <a href=\"https://facebook.github.io/jest/docs/en/cli.html#testpathpattern-regex\" rel=\"nofollow noreferrer\">testPathPattern (jest docs)</a> command line argument</p>\n\n<pre><code>node --inspect-brk ./node_modules/jest/bin/jest --testPathPattern=\"integration.test\"\n</code></pre>\n\n<p>here <code>integration.test</code> is supplied as a regular expression to filter for the correct test file</p></li>\n<li><p><strong>isolate your test function</strong><br>\nthere are two ways to do this</p>\n\n<ul>\n<li><p>one way is to use the <a href=\"https://facebook.github.io/jest/docs/en/cli.html#testnamepattern-regex\" rel=\"nofollow noreferrer\">testNamePattern (jest docs)</a> command line argument</p>\n\n<pre><code>node --inspect-brk ./node_modules/jest/bin/jest --testNamePattern=\"host events\"\n</code></pre>\n\n<p>here <code>host events</code> is supplied as a regular expression to filter for the correct test suite name</p></li>\n<li><p>alternatively, you can add <code>.only</code> to your test function:</p>\n\n<ul>\n<li><p>so that <code>test(\"object works\", async() =&gt; {/*...*/})</code></p></li>\n<li><p>becomes <code>test.only(\"object works\", async() =&gt; {/*...*/})</code></p></li>\n</ul></li>\n</ul></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 181, "user_id": 2168542, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07c6e0a2eea01f7cd1fca4dc30a866cc?s=128&d=identicon&r=PG", "display_name": "Binoy S Kumar", "link": "https://stackoverflow.com/users/2168542/binoy-s-kumar"}, "is_accepted": false, "score": 5, "last_activity_date": 1599859635, "creation_date": 1599859635, "answer_id": 63854505, "question_id": 50497785, "link": "https://stackoverflow.com/questions/50497785/debug-a-single-test-in-jest/63854505#63854505", "title": "Debug a single test in Jest", "body": "<p>I am using VSCode for debugging and in launch.json add to <em>runTimeArgs</em> a <em>testPathPattern</em> as your folder name:</p>\n<pre><code>{\n&quot;version&quot;: &quot;0.2.0&quot;,\n&quot;configurations&quot;: [{\n    &quot;name&quot;: &quot;Debug Jest Tests&quot;,\n    &quot;type&quot;: &quot;node&quot;,\n    &quot;request&quot;: &quot;launch&quot;,\n    &quot;runtimeArgs&quot;: [\n        &quot;--inspect-brk&quot;,\n        &quot;${workspaceRoot}/node_modules/jest/bin/jest.js&quot;,\n        &quot;--runInBand&quot;,\n        &quot;--testPathPattern=&lt;NameOfTheFolder-you-want-to-test-without-this-angle-brackets&gt;&quot;\n    ],\n    &quot;console&quot;: &quot;integratedTerminal&quot;,\n    &quot;internalConsoleOptions&quot;: &quot;neverOpen&quot;,\n    &quot;port&quot;: 9229\n}]\n}\n</code></pre>\n"}], "owner": {"reputation": 5506, "user_id": 1033426, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/a6263131d6ccdbfe1c7cee96da970eda?s=128&d=identicon&r=PG", "display_name": "ChaseMoskal", "link": "https://stackoverflow.com/users/1033426/chasemoskal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4707, "favorite_count": 0, "answer_count": 2, "score": 9, "last_activity_date": 1605117018, "creation_date": 1527111182, "last_edit_date": 1605117018, "question_id": 50497785, "link": "https://stackoverflow.com/questions/50497785/debug-a-single-test-in-jest", "title": "Debug a single test in Jest", "body": "<p>I have many jest tests, within many test suites, within many test files.</p>\n<p>I need to isolate and debug a single test.</p>\n<p>I'm debugging via <code>node --inspect-brk ./node_modules/jest/bin/jest</code>, so other solutions involving watch mode are too complicated.</p>\n<p>How can I skip all tests except the one I need to debug?</p>\n"}, {"tags": ["javascript", "email", "mime", "multipart"], "comments": [{"owner": {"reputation": 626, "user_id": 3987475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3lHlZ.png?s=128&g=1", "display_name": "dGRAMOP", "link": "https://stackoverflow.com/users/3987475/dgramop"}, "edited": false, "score": 0, "creation_date": 1527114739, "post_id": 50497776, "comment_id": 88009619, "body": "are you looking for a way that always gets you the HTML message, if it&#39;s multipart or if it isn&#39;t"}, {"owner": {"reputation": 11, "user_id": 3243062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cae0b7ac0bbff1a90e18c8c2a4c6a5ba?s=128&d=identicon&r=PG&f=1", "display_name": "user3243062", "link": "https://stackoverflow.com/users/3243062/user3243062"}, "reply_to_user": {"reputation": 626, "user_id": 3987475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3lHlZ.png?s=128&g=1", "display_name": "dGRAMOP", "link": "https://stackoverflow.com/users/3987475/dgramop"}, "edited": false, "score": 0, "creation_date": 1527115560, "post_id": 50497776, "comment_id": 88009842, "body": "thank you for your comment. Yes I am looking for how can I get readable HTML file generate from multipart message."}, {"owner": {"reputation": 626, "user_id": 3987475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3lHlZ.png?s=128&g=1", "display_name": "dGRAMOP", "link": "https://stackoverflow.com/users/3987475/dgramop"}, "edited": false, "score": 0, "creation_date": 1527117958, "post_id": 50497776, "comment_id": 88010412, "body": "I&#39;d just check <code>typeof myMimeNodes == Object</code> and then if true, get the child nodes. You can check the child nodes&#39; keys by <code>console.log</code>&#39;ing myMimeNodes"}, {"owner": {"reputation": 626, "user_id": 3987475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3lHlZ.png?s=128&g=1", "display_name": "dGRAMOP", "link": "https://stackoverflow.com/users/3987475/dgramop"}, "edited": false, "score": 0, "creation_date": 1527117969, "post_id": 50497776, "comment_id": 88010414, "body": "What happens when yo console.log it?"}, {"owner": {"reputation": 11, "user_id": 3243062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cae0b7ac0bbff1a90e18c8c2a4c6a5ba?s=128&d=identicon&r=PG&f=1", "display_name": "user3243062", "link": "https://stackoverflow.com/users/3243062/user3243062"}, "reply_to_user": {"reputation": 626, "user_id": 3987475, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3lHlZ.png?s=128&g=1", "display_name": "dGRAMOP", "link": "https://stackoverflow.com/users/3987475/dgramop"}, "edited": false, "score": 0, "creation_date": 1527119991, "post_id": 50497776, "comment_id": 88010912, "body": "console.log(myMineNodes); ` [Object]  0: mime:MimeNode     bodystructre:    charset:    childNodes: Array(number)          0: MimeNodes   contentTransferEncoding:   contentType:  header: Array(number)  headers: object  ` childNodes have content: Uint8Array    Please tell me how can I restructure body from childNodes.content."}], "owner": {"reputation": 11, "user_id": 3243062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cae0b7ac0bbff1a90e18c8c2a4c6a5ba?s=128&d=identicon&r=PG&f=1", "display_name": "user3243062", "link": "https://stackoverflow.com/users/3243062/user3243062"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 393, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1527113626, "creation_date": 1527111099, "last_edit_date": 1527113626, "question_id": 50497776, "link": "https://stackoverflow.com/questions/50497776/how-can-i-use-emailjs-mime-parser", "title": "How can I use emailjs-mime-parser?", "body": "<p>I got emails from imapserver using <a href=\"https://github.com/emailjs/emailjs-imap-client\" rel=\"nofollow noreferrer\">emailjs-imap-client</a>.</p>\n\n<pre><code>imapCient.listMessages('INBOX', '1:25', ['uid', 'flags', 'body.peek[]']).then(messages =&gt; {})\n</code></pre>\n\n<p>and I tried to body  using <a href=\"https://github.com/emailjs/emailjs-mime-parser\" rel=\"nofollow noreferrer\">emailjs-mime-parser</a></p>\n\n<pre><code>import parser from 'emailjs-mime-parser';\n\nconst myMimeNodes = parser(messages[0]['body[]']);\n</code></pre>\n\n<p>It is no problem myMimeNodes does not have children(I mean it's not multipart).</p>\n\n<p>new TextDecoder('utf-8').decode(myMimeNodes.content)</p>\n\n<p>But messages is multipart, myMimeNodes has children(mimeNodes).</p>\n\n<p>How can I get readable html file with images?</p>\n"}, {"tags": ["javascript", "node.js", "promise"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1527111810, "post_id": 50497773, "comment_id": 88008668, "body": "Avoid the <a href=\"https://stackoverflow.com/q/23803743/1048572?What-is-the-promise-construction-antipattern-and-how-to-avoid-it\"><code>Promise</code> constructor antipattern</a>!"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1527111936, "post_id": 50497773, "comment_id": 88008725, "body": "Calling <code>reject</code> should have worked. Are you getting the expected <code>results</code> when there is no error? Also please fix the code indentation so that we can easily parse the nesting."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9601534"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1527112688, "post_id": 50497773, "comment_id": 88008993, "body": "Hi Bergi, yes I am getting expected results when there&#39;s no error - but nothing when there is an error, a reject(new Error(&#39;fail&#39;)) for example didn&#39;t work, or is there&#39;s another way to call rejects?"}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1527116201, "post_id": 50497773, "comment_id": 88009984, "body": "How about those two saves - are they synchronous or asynchronous?"}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1527120189, "post_id": 50497773, "comment_id": 88010957, "body": "Also, do you realise that because there&#39;s only one <code>invId</code>, there&#39;s only one <code>dbInvoice</code> and it needn&#39;t be retrieved over and over from the database on each call of <code>server.writeAttachedCMinfo()</code>. In fact it probably <i>shouldn&#39;t</i> be retrieved over and over, otherwise each <code>dbInvoice.save()</code> is in danger of overwriting earlier saves within the same overall transaction. It seems safer to accumulate all creditMemos and progressively decrement the <code>certifiedInvoiceAmount</code> then perform a single `dbInvoice.save()."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9601534"}, "edited": false, "score": 0, "creation_date": 1527140362, "post_id": 50497773, "comment_id": 88015727, "body": "You are absolutely right, i was about to isolate dbInvoice query."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9601534"}, "edited": false, "score": 0, "creation_date": 1527111665, "post_id": 50497820, "comment_id": 88008608, "body": "Hi trincto, thank you for your post. I did try changing   return new Error to &#39;throw new Error(&#39;CMisAssociated&#39;);&#39; but I got an unhandled rejection error  when i tested against the related if condition"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1527111867, "post_id": 50497820, "comment_id": 88008687, "body": "Make sure you always <i>return</i> nested promises. See last paragraph I added to my answer."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9601534"}, "edited": false, "score": 0, "creation_date": 1527111896, "post_id": 50497820, "comment_id": 88008702, "body": "and the &#39;then&#39; callback still threw the  &#39;return res.json(apiHelp.success(results,&quot;success&quot;));&#39;  , no error was caught."}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1527111972, "post_id": 50497820, "comment_id": 88008736, "body": "Apply this everywhere in your code. I spotted a second occurrence. See addition to my answer. Please check all occurrences of this problem."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9601534"}, "edited": false, "score": 0, "creation_date": 1527113109, "post_id": 50497820, "comment_id": 88009130, "body": "still getting unhandled rejection error when testing against CMisbiggerThanInvoice,   here the more complete code in codeshare: <a href=\"https://codeshare.io/a3vYn1\" rel=\"nofollow noreferrer\">codeshare.io/a3vYn1</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9601534"}, "edited": false, "score": 0, "creation_date": 1527113216, "post_id": 50497820, "comment_id": 88009173, "body": "you will find the promise.all in the server.post function"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1527146952, "post_id": 50497820, "comment_id": 88019180, "body": "I cannot access that website (bad gateway). But there is more than a few things wrong with your code. One error handler is misplaced. See the addition to my answer, and make sure all your error handlers are positioned right."}], "tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": false, "score": 0, "last_activity_date": 1527147456, "last_edit_date": 1527147456, "creation_date": 1527111342, "answer_id": 50497820, "question_id": 50497773, "link": "https://stackoverflow.com/questions/50497773/how-can-i-force-this-promise-to-throw-specific-errors/50497820#50497820", "title": "How can I force this promise to throw specific errors?", "body": "<p>In the context of a promise you should actually throw the error:</p>\n\n<pre><code>throw new Error('wrongggwcode');\n</code></pre>\n\n<p>If this executes in a promise constructor callback or <code>then</code> callback, it can be caught via the <code>catch</code> method (or second argument of <code>then</code>) and the argument of the callback you pass to it will be the error (object).</p>\n\n<p>Calling <code>reject</code> from within a <code>then</code> callback will obviously not work, since you don't have access to <code>reject</code> there, but it will work in a promise constructor callback.</p>\n\n<p>Simple example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Promise((resolve, reject) =&gt; {\r\n    setTimeout( () =&gt; reject(new Error('this is an error')) );\r\n}).then( (value) =&gt; console.log('resolved with ' + value) )\r\n.catch( (error) =&gt; console.log('error message: ', error.message) );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h3>Nesting</h3>\n\n<p>When you have nested promises within <code>then</code> callbacks, make sure you always return the value returned by the inner promise as the return value of the outer <code>then</code> callback.</p>\n\n<p>So in your case do this:</p>\n\n<pre><code>return creditMemo.findById( ....\n//^^^^\n</code></pre>\n\n<p>For the same reason you need to do:</p>\n\n<pre><code>return ubiqInvoice.findById( ....\n//^^^^\n</code></pre>\n\n<p>It would lead to far for this question/answer, but it is best practice to avoid nesting promise <code>then</code> calls all together. Instead of calling <code>then</code> on a nested promise, just return the promise without the <code>then</code> call, and apply that <code>then</code> call one level higher, so that you have a \"flat\" chain of <code>then</code> calls. This is just a matter of best practice, although it should also work like you have done it provided you always return the inner promises.</p>\n\n<h3>Position of the error handler</h3>\n\n<p>The error handler is placed at a wrong position; in fact you are using the comma operator. In short, you have this in your code:</p>\n\n<pre><code>new Promise(function (resolve, reject) {\n    // ... //\n}), function (error) {\n    console.log(\"error: \" + error);\n}\n</code></pre>\n\n<p>The function after the comma is never executed as it is not an argument to a method call. It just sits behind a comma operator.</p>\n\n<p>What you want is a <code>catch</code> method call on the new promise, and cascade the error in there so that <code>Promise.all</code> will also receive the rejection:</p>\n\n<pre><code>return new Promise(function (resolve, reject) {\n    // ... //\n}).catch(function (error) {\n    console.log(\"error: \" + error);\n    throw error; // cascade it\n});\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9601534"}, "edited": false, "score": 0, "creation_date": 1527169863, "post_id": 50509658, "comment_id": 88034430, "body": "wow...i learned this Promise pattern from a senior dev - the one i am using, I am reading more about this anti-matter thing now.  So the new Promise wrapper is a common antipattern?"}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1527172995, "post_id": 50509658, "comment_id": 88036739, "body": "Sam, a Promise wrapper is necessary when manually promisifying a non-promise (eg nodeback) method. When promises are already available, as here, then you can generally do everything you want without a Promise wrapper. So when you see <code>new Promise(...), </code>it&#39;s not always anti-pattern, but often so."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9601534"}, "edited": false, "score": 0, "creation_date": 1527173402, "post_id": 50509658, "comment_id": 88037024, "body": "So I assume it&#39;s bad here since  the method such as the -.findById method is already a Promise?"}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1527173984, "post_id": 50509658, "comment_id": 88037396, "body": "Yes, at least we assume so. Strictly we <i>know</i> only that the method is &quot;thenable&quot; ... which is a pretty good indication that it returns a promise."}], "tags": [], "owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "is_accepted": true, "score": 0, "last_activity_date": 1527169191, "last_edit_date": 1527169191, "creation_date": 1527165415, "answer_id": 50509658, "question_id": 50497773, "link": "https://stackoverflow.com/questions/50497773/how-can-i-force-this-promise-to-throw-specific-errors/50509658#50509658", "title": "How can I force this promise to throw specific errors?", "body": "<p>In <code>server.writeAttachedCMinfo()</code> the main things are :</p>\n\n<ul>\n<li>to get rid of the <code>new Promise()</code> wrapper - it's not necessary - (<a href=\"https://stackoverflow.com/q/23803743/1048572\">Promise constructor anti-pattern</a>).</li>\n<li>to throw errors, rather than return them.</li>\n</ul>\n\n<p>Also, because there's only one <code>invId</code>, there's effectively only one <code>dbInvoice</code> and it needn't be retrieved over and over from the database on each call of server.writeAttachedCMinfo(). In fact it shouldn't be retrieved over and over, otherwise each <code>dbInvoice.save()</code> may well overwrite earlier saves within the same overall transaction. It will be safer to accumulate all <code>creditMemos</code> and progressively decrement the <code>certifiedInvoiceAmount</code> in a single <code>dbInvoice</code> object, and evetually perform a single `dbInvoice.save().</p>\n\n<pre><code>server.writeAttachedCMinfo = function(dbInvoice, cmid) {\n    return creditMemo.findById(JSON.stringify(cmid).slice(1, -1))\n    .then(dbCreditMemo =&gt; {\n        if(parseInt(dbInvoice.certifiedInvoiceAmount) &lt;= parseInt(dbCreditMemo.creditMemoAmount)) {\n            throw new Error('CMisbiggerThanInvoice');\n         // ^^^^^\n        }\n        /* all sorts of synchronous stuff */\n        /* all sorts of synchronous stuff */\n        /* all sorts of synchronous stuff */\n        return dbCreditMemo; // deliver dbCreditMemo via returned Promise\n    });\n}\n</code></pre>\n\n<p>Now, in the caller :</p>\n\n<ul>\n<li><code>ubiqInvoice.findById()</code> can be called once.</li>\n<li>perform checks on <code>dbInvoice</code>, and throw on failure.</li>\n<li>pass <code>dbInvoice</code>, rather than <code>invId</code> to <code>server.writeAttachedCMinfo()</code> at each call.</li>\n<li>all saving can be done here, not in <code>server.writeAttachedCMinfo()</code>. </li>\n</ul>\n\n<p>As a consequence, the caller subsumes some of the code that was in <code>server.writeAttachedCMinfo()</code> :</p>\n\n<pre><code>ubiqInvoice.findById(JSON.stringify(invId).slice(1, -1), 'gwCode certifiedInvoiceAmount buyerReference supplierReference invoiceNo invoiceSerialNo invoiceFiles creditMemos')\n.then(dbInvoice =&gt; {\n    if(dbCreditMemo.isAssociated) {\n        throw new Error('CMisAssociated');\n     // ^^^^^\n    }\n    if(dbInvoice.gwCode === '100000000000'\n        || dbInvoice.gwCode === '110000000000'\n        || dbInvoice.gwCode === '111200000000'\n        || dbInvoice.gwCode === '111100000000'\n        || dbInvoice.gwCode === '111110000000'\n    ) {\n        return Promise.all(receivedObjs.arrayCMsIds.map(cmid =&gt; {\n            return server.writeAttachedCMinfo(dbInvoice, cmid)\n            .catch(error =&gt; {\n                console.log(error);\n                return null;\n            });\n        }))\n        .then(dbCreditMemos =&gt; {\n            return Promise.all(dbCreditMemos.map(memo =&gt; {\n                return memo ? memo.save() : null;\n            }))\n            .then(() =&gt; dbInvoice.save())\n            .then(() =&gt; {\n                res.json(apiHelp.success(dbInvoice, 'success'));\n            });\n        });\n    } else {\n        throw new Error('wrongggwcode');\n     // ^^^^^\n    }\n})\n.catch(error =&gt; {\n    console.log('error: ' + error);\n    res.json(apiHelp.error(error, error));\n});\n</code></pre>\n\n<p>The whole area around catching/handling errors arising from <code>server.writeAttachedCMinfo()</code> requires more thought. On the one hand, you might want successful sub-transactions to be saved and errors to be swallowed (as coded above) while on the other hand, you might want any single failure to cause nothing to be saved.</p>\n\n<p>Another consideration is whether <code>server.writeAttachedCMinfo()</code> calls should be made sequentially, which would control the priority by which the sub-transactions access the credit balance. As it stands, with parallel requests, it's a bit of a free-for-all.</p>\n\n<p>That addresses a bit more than the question asked for but hopefully it will be useful.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9601534"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 106, "favorite_count": 1, "accepted_answer_id": 50509658, "answer_count": 2, "score": 1, "last_activity_date": 1527169191, "creation_date": 1527111069, "question_id": 50497773, "link": "https://stackoverflow.com/questions/50497773/how-can-i-force-this-promise-to-throw-specific-errors", "title": "How can I force this promise to throw specific errors?", "body": "<p>The code is a part of a much bigger and complicated code, so I am just gonna put the relevant snippets to my question. </p>\n\n<p>I have this promise.all snippet:</p>\n\n<pre><code> Promise.all(receivedObjs.arrayCMsIds.map(cmid =&gt; \n                    server.writeAttachedCMinfo(invId,cmid)))\n                            .then(function (results) { // for promise all\n                                return res.json(apiHelp.success(results,\"success\"));\n\n                            }).catch(function (error) {\n                                res.json(apiHelp.error(error, error));\n                            });\n</code></pre>\n\n<p>And this long complicated writeAttachedCMinfo function:</p>\n\n<pre><code>    server.writeAttachedCMinfo = function (invId,cmid) {\n    return new Promise(function (resolve, reject) {\n\n\n        console.log(\"writeAttachedCMinfo\");\n        console.log(\"invoiceId \" + invId);\n        console.log(\"cmid \"+ cmid);\n\n        var invoiceId = JSON.stringify(invId);\n        var cmId = JSON.stringify(cmid);\n        var invIdString = invoiceId;\n        var cmIdString = cmId;\n\n        invIdString = invIdString.slice(1, -1);\n        cmIdString = cmIdString.slice(1, -1);\n\n        var projection = 'gwCode certifiedInvoiceAmount buyerReference supplierReference invoiceNo invoiceSerialNo invoiceFiles creditMemos';\n        ubiqInvoice.findById(invIdString, projection).then(function (dbInvoice) {\n\n            var intInvCertifiedAmount = parseInt(dbInvoice.certifiedInvoiceAmount);\n\n\n            creditMemo.findById(cmIdString).then(function (dbCreditMemo) {\n                var intCreditMemoAmount = parseInt(dbCreditMemo.creditMemoAmount);\n\n                if (intInvCertifiedAmount &lt;= intCreditMemoAmount) {\n\n                    console.log('cm bigger than invoice')\n\n                    return new Error ('CMisbiggerThanInvoice');\n                }\n\n                if (dbCreditMemo.isAssociated) {\n\n                    return new Error ('CMisAssociated');\n                }\n\n                if (dbInvoice.gwCode === \"100000000000\"\n                    || dbInvoice.gwCode === \"110000000000\"\n                    || dbInvoice.gwCode === \"111200000000\"\n                    || dbInvoice.gwCode === \"111100000000\"\n                    || dbInvoice.gwCode === \"111110000000\"\n                ) { \n\n                    var creditMemoEntry = {\n\n                        id: guid.create().value,\n                        batchId: dbCreditMemo.batchId,\n                        invoiceId: dbInvoice._id,\n                        recordTypeCode: \"CM\",\n                        buyerReference: dbInvoice.buyerReference,\n                        supplierReference: dbInvoice.supplierReference,\n                        creditMemoNo: dbCreditMemo.creditMemoNo,\n                        creditMemoIssuingDate: dbCreditMemo.creditMemoIssuingDate,\n                        creditMemoEffectiveDate: dbCreditMemo.creditMemoEffectiveDate,\n                        lastModificationDate: dbCreditMemo.lastModificationDate,\n                        currencyCode: dbCreditMemo.currencyCode,\n                        creditMemoAmount: dbCreditMemo.creditMemoAmount,\n                        hashCode: dbCreditMemo.hashCode,\n                        description: dbCreditMemo.description,\n                        uploadDate: dbCreditMemo.uploadDate,\n                        isAssociated: true,\n                    }\n\n\n                    dbInvoice.creditMemos.push(creditMemoEntry);\n                    dbInvoice.certifiedInvoiceAmount = dbInvoice.certifiedInvoiceAmount - dbCreditMemo.creditMemoAmount;\n                    dbInvoice.save();\n\n\n                    dbCreditMemo.isAssociated = true;\n\n                    dbCreditMemo.save();\n\n                    resolve(dbInvoice)\n\n\n                }\n                else { return new Error ('wrongggwcode'); }\n\n    })\n\n        });\n\n    }), function (error) {\n        console.log(\"error: \" + error);\n    }\n\n}\n</code></pre>\n\n<p>My goal, is to force error throwing in case one of the if conditions aren't met, and I want to pass the error to client in a form of a custom message so i can use it on the client said for displaying various errors , such as 'CMisbiggerThanInvoice'</p>\n\n<pre><code>if (intInvCertifiedAmount &lt;= intCreditMemoAmount) {\n\n                        console.log('cm bigger than invoice')\n\n                        return new Error ('CMisbiggerThanInvoice');\n                    }\n</code></pre>\n\n<p>I am just trying to figure out a way to pass the error from the writeAttachedCMinfo  function to the promise.all's .catch(function (error)  but it's not working, the promise.all is always returning success even if one of the if conditions aren't met. </p>\n\n<p>I have tried reject('CMisbiggerThanInvoice'), reject(new Error('CMisbiggerThanInvoice')...all the same.</p>\n\n<p>how can i really force the promise function <strong>to return an error</strong>?</p>\n"}, {"tags": ["javascript", "html", "reactjs", "redux"], "answers": [{"tags": [], "owner": {"reputation": 2352, "user_id": 6172657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmVGi.jpg?s=128&g=1", "display_name": "Reed Dunkle", "link": "https://stackoverflow.com/users/6172657/reed-dunkle"}, "is_accepted": true, "score": 2, "last_activity_date": 1527126790, "creation_date": 1527126790, "answer_id": 50499798, "question_id": 50497745, "link": "https://stackoverflow.com/questions/50497745/how-do-i-pass-props-to-get-a-cancel-button-to-work-in-react-on-a-redux-form/50499798#50499798", "title": "How do I pass props to get a cancel button to work in React on a Redux-Form", "body": "<p>Pass your <code>handleCancelClick</code> method to your form via props. Then in your form, wire it up to the button's <code>onClick</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// AddInitiativeForm\n&lt;Button\n  bsSize=\"small\"\n  style={{ width: \"48%\" }}\n  type=\"button\"\n  onClick={this.props.onCancel}\n&gt;\n  Cancel\n&lt;/Button&gt;;\n\n\n// InitiativeContainer\nrender() {\n  const { displayForm } = this.state;\n  return (\n    &lt;AddInitiativeForm\n      displaySearch={false}\n      onSubmit={this.onSubmit}\n      onCancel={this.handleCancelClick}\n    /&gt;\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 2639, "user_id": 333757, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/8VHQy.jpg?s=128&g=1", "display_name": "Amen Ra", "link": "https://stackoverflow.com/users/333757/amen-ra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4158, "favorite_count": 0, "accepted_answer_id": 50499798, "answer_count": 1, "score": 1, "last_activity_date": 1527126790, "creation_date": 1527110936, "question_id": 50497745, "link": "https://stackoverflow.com/questions/50497745/how-do-i-pass-props-to-get-a-cancel-button-to-work-in-react-on-a-redux-form", "title": "How do I pass props to get a cancel button to work in React on a Redux-Form", "body": "<p>I have this <code>Redux-Form</code> in this <code>React</code> component and I have a <code>Cancel</code> button that I want to pass an <code>onClick</code> event when the form is used in a parent component. Here is my code for the <code>Redux-Form</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import \"./styles/list-item.scss\";\r\nimport {Button, ButtonToolbar} from \"react-bootstrap\";\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport InputField from \"../form-fields/InputField\";\r\nimport PropsTypes from \"prop-types\";\r\nimport React from \"react\";\r\n\r\nconst AddInitiativeForm = (props) =&gt; {\r\n    const {handleSubmit, pristine, submitting} = props;\r\n    return (\r\n        &lt;form onSubmit={handleSubmit}&gt;\r\n            &lt;div&gt;\r\n                &lt;div className=\"form-field\"&gt;\r\n                    &lt;Field\r\n                        component={InputField}\r\n                        label=\"Initiative name\"\r\n                        name=\"initiative_name\"\r\n                        type=\"text\"\r\n                    /&gt;\r\n                &lt;/div&gt;\r\n                &lt;div className=\"form-field\"&gt;\r\n                    &lt;Field\r\n                        component={InputField}\r\n                        componentClass=\"textarea\"\r\n                        label=\"Description\"\r\n                        name=\"initiative_description\"\r\n                        rows=\"5\"\r\n                        type=\"text\"\r\n                    /&gt;\r\n                    &lt;Field\r\n                        component={InputField}\r\n                        label=\"Tags\"\r\n                        name=\"initiative_tags\"\r\n                        type=\"text\"\r\n                    /&gt;\r\n                &lt;/div&gt;\r\n                &lt;div className=\"form-button-group\"&gt;\r\n                    &lt;ButtonToolbar&gt;\r\n                        &lt;Button\r\n                            bsSize=\"small\"\r\n                            style={{\"width\": \"48%\"}}\r\n                            type=\"button\"\r\n                            onClick={() =&gt; {}}\r\n                        &gt;\r\n                            Cancel\r\n                        &lt;/Button&gt;\r\n                        &lt;Button\r\n                            bsSize=\"small\"\r\n                            disabled={pristine || submitting}\r\n                            style={\r\n                                {\r\n                                    \"backgroundColor\": \"#999\",\r\n                                    \"width\": \"48%\"\r\n                                }}\r\n                            type=\"submit\"\r\n                        &gt;\r\n                            Add\r\n                        &lt;/Button&gt;\r\n                    &lt;/ButtonToolbar&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/form&gt;\r\n    );\r\n};\r\n\r\nAddInitiativeForm.propTypes = {\r\n    \"handleSubmit\": PropsTypes.func.isRequired,\r\n    \"pristine\": PropsTypes.bool.isRequired,\r\n    \"submitting\": PropsTypes.bool.isRequired\r\n};\r\n\r\nAddInitiativeForm.defaultProps = {};\r\n\r\nexport default reduxForm({form: \"addInitiative\"})(AddInitiativeForm);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now I am using this form in a Parent component and cannot figure out how to call the <code>onClick</code> function on the form. Here is my code for that. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import {CommonComponents} from \"../../common\";\r\nimport React from \"react\";\r\n\r\nconst {\r\n    AddInitiativeForm\r\n} = CommonComponents;\r\n\r\nclass InitiativeContainer extends React.Component {\r\n  constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            \"displayForm\": false\r\n        };\r\n    }\r\n    \r\n  handleCancelClick = () =&gt; {\r\n    this.setState((prevState) =&gt; ({\"displayForm\": !prevState.displayForm}));\r\n  }\r\n  \r\n  onSubmit = (values) =&gt; {\r\n    \"data\": {\r\n      \"attributes\": {\r\n          \"description\": values.initiative_description,\r\n          \"end-date\": new Date(),\r\n          \"start-date\": new Date(),\r\n          \"tags\": [values.initiative_tags],\r\n          \"title\": values.initiative_name\r\n      },\r\n      \"type\": \"initiatives\"\r\n    }\r\n  }\r\n  \r\n  render() {\r\n    const { displayForm } = this.state;\r\n    return (\r\n      &lt;AddInitiativeForm\r\n          displaySearch={false}\r\n          onSubmit={this.onSubmit}\r\n      /&gt;\r\n    );\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1527111072, "post_id": 50497736, "comment_id": 88008393, "body": "Do you mean test it in your application, or in unit testing?"}, {"owner": {"reputation": 3151, "user_id": 4409319, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100005650500007/picture?type=large", "display_name": "JSelser", "link": "https://stackoverflow.com/users/4409319/jselser"}, "edited": false, "score": 2, "creation_date": 1527111252, "post_id": 50497736, "comment_id": 88008452, "body": "why not having a style checker that tells you not to forget your <code>return</code>s?  sounds like a better prevention mechanism..."}, {"owner": {"reputation": 55, "user_id": 1428694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/346b2b105db412396d87c9f52efb3b18?s=128&d=identicon&r=PG", "display_name": "Damon Black", "link": "https://stackoverflow.com/users/1428694/damon-black"}, "edited": false, "score": 0, "creation_date": 1527111488, "post_id": 50497736, "comment_id": 88008542, "body": "Barmar - I was looking for a unit test to cover the problem. It&#39;s our teams practice to write tests covering any bugs we fix."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 3151, "user_id": 4409319, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100005650500007/picture?type=large", "display_name": "JSelser", "link": "https://stackoverflow.com/users/4409319/jselser"}, "edited": false, "score": 0, "creation_date": 1527112218, "post_id": 50497736, "comment_id": 88008827, "body": "@JSelser To provide dummy <code>return</code> statement at the end of each function? That&#39;s the most disgusting thing about Coffee. Fortunately, that&#39;s JS, not Coffee."}, {"owner": {"reputation": 55, "user_id": 1428694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/346b2b105db412396d87c9f52efb3b18?s=128&d=identicon&r=PG", "display_name": "Damon Black", "link": "https://stackoverflow.com/users/1428694/damon-black"}, "edited": false, "score": 1, "creation_date": 1527112256, "post_id": 50497736, "comment_id": 88008836, "body": "JSelser - I found this - looks like it might do the trick:  <a href=\"https://eslint.org/docs/rules/array-callback-return\" rel=\"nofollow noreferrer\">eslint.org/docs/rules/array-callback-return</a>"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1527112303, "post_id": 50497736, "comment_id": 88008860, "body": "I would recommend not to ignore the result of <code>Promise.all</code>. If you fulfill your promises with some meaningful value, and then use those result values in <code>doSomethingElseAfterPromisesResolve</code>, bugs like the one you describe will quickly surface."}, {"owner": {"reputation": 3151, "user_id": 4409319, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100005650500007/picture?type=large", "display_name": "JSelser", "link": "https://stackoverflow.com/users/4409319/jselser"}, "reply_to_user": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "edited": false, "score": 0, "creation_date": 1527117585, "post_id": 50497736, "comment_id": 88010329, "body": "@estus seems you can have ESLint complain when using callbacks in promises, so you dont need to have dummy <code>return</code>s. Id say a test for this is weird, having a linter sounds better to me"}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 3151, "user_id": 4409319, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100005650500007/picture?type=large", "display_name": "JSelser", "link": "https://stackoverflow.com/users/4409319/jselser"}, "edited": false, "score": 1, "creation_date": 1527139514, "post_id": 50497736, "comment_id": 88015383, "body": "@JSelser Yes, array-callback-return looks like a good rule because the lack of return in these methods always indicates a mistake or misused method. Still, as any other code, this one needs to be tested. That it wasn&#39;t possible to detect the mistake suggests that unit tests don&#39;t provide enough coverage."}], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 1428694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/346b2b105db412396d87c9f52efb3b18?s=128&d=identicon&r=PG", "display_name": "Damon Black", "link": "https://stackoverflow.com/users/1428694/damon-black"}, "edited": false, "score": 0, "creation_date": 1527111879, "post_id": 50497897, "comment_id": 88008691, "body": "Steve, that&#39;s what I had originally, and the test passed. Even though I was failing to return the values to the map, Promise.all was accepting the undefined return value and moving on."}, {"owner": {"reputation": 1805, "user_id": 8912636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yEJR9.jpg?s=128&g=1", "display_name": "Steve Vaughan", "link": "https://stackoverflow.com/users/8912636/steve-vaughan"}, "reply_to_user": {"reputation": 55, "user_id": 1428694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/346b2b105db412396d87c9f52efb3b18?s=128&d=identicon&r=PG", "display_name": "Damon Black", "link": "https://stackoverflow.com/users/1428694/damon-black"}, "edited": false, "score": 1, "creation_date": 1527112403, "post_id": 50497897, "comment_id": 88008893, "body": "Ah yes I see what you mean. I&amp;#39;m not sure you could catch that in tests alone in this instance. You don&amp;#39;t really have much to check during a test to assert that undefined has been returned from the promises. You would need additional application code such as a return to be able to at what you need"}], "tags": [], "owner": {"reputation": 1805, "user_id": 8912636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yEJR9.jpg?s=128&g=1", "display_name": "Steve Vaughan", "link": "https://stackoverflow.com/users/8912636/steve-vaughan"}, "is_accepted": false, "score": 1, "last_activity_date": 1527111733, "creation_date": 1527111733, "answer_id": 50497897, "question_id": 50497736, "link": "https://stackoverflow.com/questions/50497736/testing-promise-all/50497897#50497897", "title": "Testing Promise.all", "body": "<p>I would stub both the <code>someMethodThatReturnsPromise</code> and <code>doSomethingElseAfterPromisesResolve</code> functions, returning any value from both.</p>\n\n<p>Then ensure that <code>someIds</code> has multiple values.</p>\n\n<p>Your assertions could then be:</p>\n\n<ol>\n<li>someMethodThatReturnsPromise is called once for each item in the <code>someIds</code> array</li>\n<li>doSomethingElseAfterPromisesResolve is called</li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 3151, "user_id": 4409319, "user_type": "registered", "accept_rate": 70, "profile_image": "https://graph.facebook.com/100005650500007/picture?type=large", "display_name": "JSelser", "link": "https://stackoverflow.com/users/4409319/jselser"}, "is_accepted": true, "score": 1, "last_activity_date": 1527184293, "creation_date": 1527184293, "answer_id": 50515379, "question_id": 50497736, "link": "https://stackoverflow.com/questions/50497736/testing-promise-all/50515379#50515379", "title": "Testing Promise.all", "body": "<p>Well, the issue is not that <code>Promise.all()</code> accepts null, it doesnt. What it accepts is arrays of the kind of <code>[null]</code> or <code>[undefined]</code> (which are 2 different things, actually)</p>\n\n<p>As I mentioned in my comments, testing <code>Promise.all()</code> is not something I would do, it's third party code, you should be testing your own, so I think having a linter check for such bugs is a far superior solution</p>\n\n<p>That being said, you are entitled to your opinions, I'll merely point out a possibility for achieving what you want. That is: <strong>monkey patching</strong></p>\n\n<p>You could overwrite the <code>Promise.all()</code> like so:</p>\n\n<pre><code>let originalAll = Promise.all;\n\nPromise.all = (promises) =&gt; {\n  // you could check several other things\n  // but this covers what you wanted, right?\n  let isArrayWithBlanks = promises.includes(null) || promises.includes(undefined);\n\n  return isArrayWithBlanks\n    ? Promise.reject(\"NO!\")\n    : originalAll(promises);\n};\n</code></pre>\n\n<p>Now you can easily write a test given you use this monkey patched <code>Promise.all</code> throughout your project. You decide where to place that code</p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 55, "user_id": 1428694, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/346b2b105db412396d87c9f52efb3b18?s=128&d=identicon&r=PG", "display_name": "Damon Black", "link": "https://stackoverflow.com/users/1428694/damon-black"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4312, "favorite_count": 0, "accepted_answer_id": 50515379, "answer_count": 2, "score": 1, "last_activity_date": 1527184293, "creation_date": 1527110883, "question_id": 50497736, "link": "https://stackoverflow.com/questions/50497736/testing-promise-all", "title": "Testing Promise.all", "body": "<p>I have an async function that looks something like this:</p>\n\n<pre><code>const myMethod = async () =&gt; {\n  await Promise.all(\n    someIds.map((id) =&gt; {\n      someMethodThatReturnsPromise(id);\n    }); \n  );\n  doSomethingElseAfterPromisesResolve();\n};\n</code></pre>\n\n<p>This function contains a bug because it uses curly braces in its map function but doesn't return each promise. The Promise.all consumes the undefined return value and silently proceeds to the next statement, without waiting. The problem can be corrected by using parentheses instead of braces, or by including an explicit return statement.</p>\n\n<p>My question is, how can I test this? I know I can use Promise.resolve() or Promise.reject() to simulate different states of the promise, and mock the return values of the inner method, but that doesn't really cover the problem. Outside a full blown integration test, how can I prevent the above error with a test?</p>\n"}, {"tags": ["javascript", "arrays", "loops", "multidimensional-array"], "answers": [{"comments": [{"owner": {"reputation": 2575, "user_id": 2954267, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/298721d73565c75b54fbc1a3a4159b49?s=128&d=identicon&r=PG", "display_name": "robe007", "link": "https://stackoverflow.com/users/2954267/robe007"}, "edited": false, "score": 0, "creation_date": 1527181252, "post_id": 50497784, "comment_id": 88041656, "body": "Very elegant this one! Thanks for your answer."}], "tags": [], "owner": {"reputation": 1209, "user_id": 234913, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/3b8ae5534ab11c7ad6c33ab28874baa9?s=128&d=identicon&r=PG", "display_name": "CrociDB", "link": "https://stackoverflow.com/users/234913/crocidb"}, "is_accepted": false, "score": 3, "last_activity_date": 1527111343, "last_edit_date": 1527111343, "creation_date": 1527111169, "answer_id": 50497784, "question_id": 50497688, "link": "https://stackoverflow.com/questions/50497688/convert-a-bidimensional-array-to-a-1d-array-alternating-their-values/50497784#50497784", "title": "Convert a bidimensional array to a 1D array alternating their values", "body": "<p>You can use the <code>zip</code> function defined here: <a href=\"https://stackoverflow.com/questions/4856717/javascript-equivalent-of-pythons-zip-function\">Javascript equivalent of Python&#39;s zip function</a></p>\n\n<pre><code>let zip= rows =&gt; rows[0].map((_,c)=&gt;rows.map(row=&gt;row[c]))\n</code></pre>\n\n<p>So you can call:</p>\n\n<pre><code>let arr1d = [].concat.apply([], zip(test2d))\n</code></pre>\n\n<p>Here's the full code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let test2d = [ [\"foo\", \"bar\"], [\"baz\", \"biz\"] ]\r\n\r\nlet zip = rows =&gt; rows[0].map((_, c) =&gt; rows.map(row =&gt; row[c]))\r\n\r\nlet arr1d = [].concat.apply([], zip(test2d))\r\n\r\nconsole.log(arr1d)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 8210, "user_id": 9816472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DltvK.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/9816472/isaac"}, "edited": false, "score": 1, "creation_date": 1527123402, "post_id": 50497789, "comment_id": 88011580, "body": "Hi @NinaScholz, if you don&#39;t mind can you elaborate <code>(r[i] = r[i] || []).push(v)</code>? I&#39;ve followed your solution up until that line of code and lost"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 8210, "user_id": 9816472, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DltvK.jpg?s=128&g=1", "display_name": "Isaac", "link": "https://stackoverflow.com/users/9816472/isaac"}, "edited": false, "score": 2, "creation_date": 1527145244, "post_id": 50497789, "comment_id": 88018142, "body": "you could make two lines of code of it: <code>r[i] = r[i] || [];</code> and <code>r[i].push(v)</code>. the first line checks if <code>r[i]</code> is truthy, like an array and if not it takes an array as assingment. the second pushes the item to this array."}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 2, "last_activity_date": 1527111196, "creation_date": 1527111196, "answer_id": 50497789, "question_id": 50497688, "link": "https://stackoverflow.com/questions/50497688/convert-a-bidimensional-array-to-a-1d-array-alternating-their-values/50497789#50497789", "title": "Convert a bidimensional array to a 1D array alternating their values", "body": "<p>You could take an array for each index and concat the arrays at the end.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [[\"foo\", \"bar\"], [\"baz\", \"biz\"]],\r\n    result = [].concat(...array.reduce((r, a) =&gt; {\r\n        a.forEach((v, i) =&gt; (r[i] = r[i] || []).push(v));\r\n        return r;\r\n    }, []));\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 2575, "user_id": 2954267, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/298721d73565c75b54fbc1a3a4159b49?s=128&d=identicon&r=PG", "display_name": "robe007", "link": "https://stackoverflow.com/users/2954267/robe007"}, "edited": false, "score": 0, "creation_date": 1527180479, "post_id": 50497808, "comment_id": 88041272, "body": "This solution works too, even with more rows and columns. Thanks !"}], "tags": [], "owner": {"reputation": 1860, "user_id": 1459423, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fd0e53937bb21b530e58148354866fa1?s=128&d=identicon&r=PG", "display_name": "patstuart", "link": "https://stackoverflow.com/users/1459423/patstuart"}, "is_accepted": false, "score": 1, "last_activity_date": 1527111277, "creation_date": 1527111277, "answer_id": 50497808, "question_id": 50497688, "link": "https://stackoverflow.com/questions/50497688/convert-a-bidimensional-array-to-a-1d-array-alternating-their-values/50497808#50497808", "title": "Convert a bidimensional array to a 1D array alternating their values", "body": "<p>Why not use a regular for loop? This is efficient and easiest to read.</p>\n\n<pre><code>var arr1d = [];\nfor (let i = 0; i &lt; test2d[0].length; i++) {\n    for (let j = 0; j &lt; test2d.length; j++) {\n        arr1d.push(test2d[j][i]);\n    }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2575, "user_id": 2954267, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/298721d73565c75b54fbc1a3a4159b49?s=128&d=identicon&r=PG", "display_name": "robe007", "link": "https://stackoverflow.com/users/2954267/robe007"}, "edited": false, "score": 0, "creation_date": 1527180582, "post_id": 50497846, "comment_id": 88041323, "body": "Thanks for your answer, but this solution only works with my <code>test2d</code> array, but if I add more rows and columns to my array, it does not works. Why? Because the trick is to start the loop with the columns (<code>test2d[0].length</code>) not with the rows (<code>test2d.length</code>). Look on the <b>patstuart</b>&#39;s answer."}], "tags": [], "owner": {"reputation": 121, "user_id": 6245860, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3avKz.png?s=128&g=1", "display_name": "Defacto", "link": "https://stackoverflow.com/users/6245860/defacto"}, "is_accepted": false, "score": 1, "last_activity_date": 1527113288, "last_edit_date": 1527113288, "creation_date": 1527111470, "answer_id": 50497846, "question_id": 50497688, "link": "https://stackoverflow.com/questions/50497688/convert-a-bidimensional-array-to-a-1d-array-alternating-their-values/50497846#50497846", "title": "Convert a bidimensional array to a 1D array alternating their values", "body": "<p>This solution is easy to understand, it simply uses nested for-loops to get the desired output:</p>\n\n<pre><code>var data = [];  // This will be the new array\nlet test2d =    // This is your 2D array\n[  \n  [\"foo\", \"bar\"],\n  [\"baz\", \"biz\"]\n]\n\n// Here we use nested for-loops to add the items to data[] in the desired order\nfor(var i = 0; i &lt; test2d.length; i++) {\n    for(var j = 0; j &lt; test2d[0].length; j++) {\n        data.push(test2d[j][i]);\n    }\n}\n\nconsole.log(data); // Print the output :)\n</code></pre>\n\n<p>The <em>data</em> array is now equal to: <code>[ \"foo\", \"baz\", \"bar\", \"biz\" ]</code></p>\n\n<p>Hope this is helpful!</p>\n"}], "owner": {"reputation": 2575, "user_id": 2954267, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/298721d73565c75b54fbc1a3a4159b49?s=128&d=identicon&r=PG", "display_name": "robe007", "link": "https://stackoverflow.com/users/2954267/robe007"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 1, "accepted_answer_id": 50497789, "answer_count": 4, "score": 5, "last_activity_date": 1527113288, "creation_date": 1527110646, "question_id": 50497688, "link": "https://stackoverflow.com/questions/50497688/convert-a-bidimensional-array-to-a-1d-array-alternating-their-values", "title": "Convert a bidimensional array to a 1D array alternating their values", "body": "<p>I have a bidimensional array like this:</p>\n\n<pre><code>let test2d = [\n  [\"foo\", \"bar\"],\n  [\"baz\", \"biz\"]\n]\n</code></pre>\n\n<p>If I want to convert this 2D array into 1D array (<strong><em>not alternating their values</em></strong>), I can do it on two ways:</p>\n\n<p><em>First way:</em></p>\n\n<pre><code>let merged = test2d.reduce( (prev, next) =&gt; prev.concat(next) )\nconsole.log(merged) // [\"foo\", \"bar\", \"baz\", \"biz\"]\n</code></pre>\n\n<p><em>Second way:</em></p>\n\n<pre><code>let arr1d = [].concat.apply([], test2d)\nconsole.log(arr1d) // [\"foo\", \"bar\", \"baz\", \"biz\"]\n</code></pre>\n\n<hr>\n\n<p><strong>Question: How can I get a 1D array but with their values alternated?</strong> I mean like this:</p>\n\n<pre><code>[\"foo\", \"baz\", \"bar\", \"biz\"]\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 2352, "user_id": 6172657, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DmVGi.jpg?s=128&g=1", "display_name": "Reed Dunkle", "link": "https://stackoverflow.com/users/6172657/reed-dunkle"}, "edited": false, "score": 0, "creation_date": 1527127291, "post_id": 50497659, "comment_id": 88012402, "body": "Also, you can use <code>Promise.finally</code> to avoid writing both <code>then</code> and <code>catch</code>:      <code>axios.post(&quot;&#47;orders.json&quot;, order).finally(() =&gt; {       this.setState({ loading: false });     });</code>"}], "tags": [], "owner": {"reputation": 9236, "user_id": 1053772, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/bZiEe.jpg?s=128&g=1", "display_name": "Gian Marco Toso", "link": "https://stackoverflow.com/users/1053772/gian-marco-toso"}, "is_accepted": true, "score": 5, "last_activity_date": 1527110523, "creation_date": 1527110523, "answer_id": 50497659, "question_id": 50497613, "link": "https://stackoverflow.com/questions/50497613/react-setstate-returns-type-error/50497659#50497659", "title": "React .setState returns type error", "body": "<p>You are <strong>assigning</strong> an object to <code>setState</code> in the first line of code, so when you try to call it later it no longer is a function...</p>\n\n<pre><code>this.setState = ({loading: true});\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>this.setState({loading: true})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15350, "user_id": 6877799, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/j85tT.jpg?s=128&g=1", "display_name": "AmerllicA", "link": "https://stackoverflow.com/users/6877799/amerllica"}, "is_accepted": false, "score": 0, "last_activity_date": 1527112083, "creation_date": 1527112083, "answer_id": 50497959, "question_id": 50497613, "link": "https://stackoverflow.com/questions/50497613/react-setstate-returns-type-error/50497959#50497959", "title": "React .setState returns type error", "body": "<p>The <code>setState</code> is a function, you change it to an <code>JavaScript</code> <code>Object</code>, I guess it's a tiny mistake, you have to write:</p>\n\n<pre><code>this.setState({loading: true})\n</code></pre>\n\n<p>Use it not change it to other things.</p>\n"}], "owner": {"reputation": 605, "user_id": 8844309, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/cd28857ec0194e1a6e3fd1ad9ac02a03?s=128&d=identicon&r=PG&f=1", "display_name": "logos_164", "link": "https://stackoverflow.com/users/8844309/logos-164"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 50497659, "answer_count": 2, "score": 0, "last_activity_date": 1527112083, "creation_date": 1527110297, "question_id": 50497613, "link": "https://stackoverflow.com/questions/50497613/react-setstate-returns-type-error", "title": "React .setState returns type error", "body": "<p>I'm using React v 16.3.2 and am building an app to communicate orders with a DB on Firebase, also using axios 0.18.0.</p>\n\n<p>I'm expecting that once I hit a certain button (continue) it will create this spinner effect on the screen as it loads, so I have the following code:</p>\n\n<pre><code>purchaseContinueHandler = () =&gt; {\n        this.setState = ({loading: true});\n        const order = {\n            ingredients: this.state.ingredients,\n            price: this.state.totalPrice,\n            customer: {\n                name: 'Name',\n                address: {\n                    street: 'teststreet 1',\n                    zipCode: '86753',\n                    country: 'U.S.'\n                },\n                email: 'example@example.com'\n            },\n            deliveryMethod: 'fastest'\n        }\n        axios.post('/orders.json', order)\n            .then(response =&gt; { this.setState( { loading: false } );\n            })\n            .catch(error =&gt; {\n                this.setState( { loading: false } ); //**&lt;--This is where i get the error**\n            });\n    }\n</code></pre>\n\n<p>I run it and hit Continue on the app and get the error:</p>\n\n<blockquote>\n  <p>Unhandled Rejection (TypeError): _this.setState is not a function</p>\n</blockquote>\n\n<p>and it points to the line listed above.</p>\n\n<p>Ran into <a href=\"https://github.com/goatslacker/alt/issues/283\" rel=\"nofollow noreferrer\">this documentation</a> and tried to implement the solution that worked for him (create a <code>constructor()</code> and bind <code>this</code> to <code>this</code>) but that didn't work.</p>\n\n<p>I was reading that this was no longer automatically added to the function but not sure what to do with that information, I'm pretty new to React still.</p>\n\n<p>Any advice?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 1486, "user_id": 5171417, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-fPSv8TETmqU/AAAAAAAAAAI/AAAAAAAALmc/UyOO6totRsk/photo.jpg?sz=128", "display_name": "John Samuel", "link": "https://stackoverflow.com/users/5171417/john-samuel"}, "edited": false, "score": 0, "creation_date": 1527125332, "post_id": 50497599, "comment_id": 88011960, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/30373343/reactjs-component-names-must-begin-with-capital-letters\" title=\"reactjs component names must begin with capital letters\">stackoverflow.com/questions/30373343/&hellip;</a> ??"}, {"owner": {"reputation": 419, "user_id": 519399, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9569326ae9834a7da3a07b6888f56646?s=128&d=identicon&r=PG&f=1", "display_name": "inspiral", "link": "https://stackoverflow.com/users/519399/inspiral"}, "reply_to_user": {"reputation": 1486, "user_id": 5171417, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-fPSv8TETmqU/AAAAAAAAAAI/AAAAAAAALmc/UyOO6totRsk/photo.jpg?sz=128", "display_name": "John Samuel", "link": "https://stackoverflow.com/users/5171417/john-samuel"}, "edited": false, "score": 0, "creation_date": 1527158920, "post_id": 50497599, "comment_id": 88026770, "body": "No, my problem was that i was referencing to a string instead of object."}], "answers": [{"comments": [{"owner": {"reputation": 419, "user_id": 519399, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9569326ae9834a7da3a07b6888f56646?s=128&d=identicon&r=PG&f=1", "display_name": "inspiral", "link": "https://stackoverflow.com/users/519399/inspiral"}, "edited": false, "score": 1, "creation_date": 1527158843, "post_id": 50498627, "comment_id": 88026716, "body": "Yes, my problem at the first place was that i was only referencing to a string instead of an object. As for the proposed alternative solution, it is a good idea but for another time."}], "tags": [], "owner": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "is_accepted": true, "score": 11, "last_activity_date": 1538316553, "last_edit_date": 1538316553, "creation_date": 1527116384, "answer_id": 50498627, "question_id": 50497599, "link": "https://stackoverflow.com/questions/50497599/incorrect-casing-error-with-dynamically-rendered-component-in-react/50498627#50498627", "title": "Incorrect casing error with dynamically rendered component in React", "body": "<p>You are getting those errors because you are not referencing the component itself here, instead using a string as name. So, maybe you need to think another way to create the components dynamically. Like starting with a base component and only give some props and data to it. </p>\n\n<pre><code>// Define above main component or elsewhere then import.\nconst MyComponent = ( props ) =&gt; &lt;div&gt;{props.data}&lt;/div&gt;\n\n// Main component\nrender() {\n  const toolbarComponents = userSession.layout.toolbar.components.map(\n    component =&gt; &lt;MyComponent theme={component.theme} data={component.data} /&gt;\n  );\n\n  return &lt;div className=\"App\"&gt;{toolbarComponents}&lt;/div&gt;;\n}\n</code></pre>\n\n<p>Here we are not using a type key anymore. If you want to use different components like that, you can create every base component and then use as its name with type key but not with string, directly referencing the component.</p>\n"}], "owner": {"reputation": 419, "user_id": 519399, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/9569326ae9834a7da3a07b6888f56646?s=128&d=identicon&r=PG&f=1", "display_name": "inspiral", "link": "https://stackoverflow.com/users/519399/inspiral"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26301, "favorite_count": 3, "accepted_answer_id": 50498627, "answer_count": 1, "score": 13, "last_activity_date": 1587710387, "creation_date": 1527110212, "last_edit_date": 1527116845, "question_id": 50497599, "link": "https://stackoverflow.com/questions/50497599/incorrect-casing-error-with-dynamically-rendered-component-in-react", "title": "Incorrect casing error with dynamically rendered component in React", "body": "<p>So, i\u2019d like to spare time later and want to do a dynamically generated page. For that reason i want to read component data from an object, like this:</p>\n\n<pre><code>  layout: {\n    toolbar: {\n      components: [\n        {\n          type: \"Testcomp\",\n          theme: \"default\",\n          data: \"div1\"\n        },\n        {\n          type: \"Testcomp\",\n          theme: \"pro\",\n          data: \"div2\"\n        },\n      ]}}\n</code></pre>\n\n<p>The component would be dynamically imported, enabled/activated and besides that this is the jsx code supposed to render components dynamically:</p>\n\n<pre><code>render() {\n    const toolbarComponents = userSession.layout.toolbar.components.map(Component =&gt; (\n      &lt;Component.type theme={Component.theme} data={Component.data} key={this.getKey()} /&gt;\n    ));\n\n    return (\n      &lt;div&gt;\n        &lt;div className=\"toolbar\"&gt;\n          toolbar\n          {toolbarComponents}\n        &lt;/div&gt;\n    . . .\n      &lt;/div&gt;\n    );\n  }\n</code></pre>\n\n<p>However i get the following warning in Chrome\u2019s devtool, also the component is not displayed:</p>\n\n<p><strong>Warning:  is using incorrect casing. Use PascalCase for React components, or lowercase for HTML elements.</strong></p>\n\n<p><strong>Warning: The tag  is unrecognized in this browser. If you meant to render a React component, start its name with an uppercase letter.</strong></p>\n\n<p>What\u2019s wrong with my code?</p>\n"}, {"tags": ["javascript", "plotly", "plotly.js"], "answers": [{"comments": [{"owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "edited": false, "score": 0, "creation_date": 1527186952, "post_id": 50515612, "comment_id": 88044555, "body": "This is really close, but if possible, I would actually like a second horizontal axis line below the first one. I might be asking too much though :P"}, {"owner": {"reputation": 725, "user_id": 7317343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6JhjF.jpg?s=128&g=1", "display_name": "Md Nasir Fardoush", "link": "https://stackoverflow.com/users/7317343/md-nasir-fardoush"}, "reply_to_user": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "edited": false, "score": 0, "creation_date": 1527188636, "post_id": 50515612, "comment_id": 88045396, "body": "Not mind, If you provide a sample image that you want to do? may be it&#39;s can help me to better understand your issue. Thanks"}], "tags": [], "owner": {"reputation": 725, "user_id": 7317343, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6JhjF.jpg?s=128&g=1", "display_name": "Md Nasir Fardoush", "link": "https://stackoverflow.com/users/7317343/md-nasir-fardoush"}, "is_accepted": false, "score": 2, "last_activity_date": 1527185264, "creation_date": 1527185264, "answer_id": 50515612, "question_id": 50497592, "link": "https://stackoverflow.com/questions/50497592/multiple-x-axis-for-a-single-plot-in-plotly-js/50515612#50515612", "title": "Multiple X axis for a single plot in Plotly.js", "body": "<p>Not sure that's really you want. But it's can help you to play with this.</p>\n\n<p>Please visit the:<a href=\"https://codepen.io/mdnasirfardoush/pen/vjqBYW\" rel=\"nofollow noreferrer\">example</a></p>\n\n<pre><code>var y = ['dot','pen','pencil','scale','stick'];\nvar x = [0,5,9,12,16];//inc\nvar tinc = []; //inc\nvar tcm = []; //cm\nvar incToCm ='';\nfor (var i = 0; i &lt; x.length; i++) \n{\n   incToCm = (x[i] * 2.54)+'cm';\n   tcm.push(incToCm);\n   tinc.push(x[i]+'inc');\n}\n\nvar trace1 = {\n  x:x,\n  y:y,\n  type:'bar',\n  xaxis:'x',\n  yaxis:'y'\n}\nvar trace2 = {\n  x:trace1.x,\n  y:trace1.y,\n  type:trace1.type,\n  xaxis:'x2',\n  yaxis:'y'\n}\nvar data =[trace1,trace2];\nvar layout={\n  xaxis:{\n    tickvals:x,\n    ticktext:tinc,\n    ticksuffix:'inc',\n    tickangle:45,\n  }, \n  xaxis2:{\n    tickvals:x,\n    ticktext:tcm,\n    ticklen:18,\n    tickangle:45,\n    tickwidth:0,\n    tickcolor:'#eee',\n  },\n  showlegend:false\n}\nPlotly.plot('plotElement', data,layout);\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/K0V3f.png\" rel=\"nofollow noreferrer\">Sample output</a></p>\n"}], "owner": {"reputation": 9375, "user_id": 1396977, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/PylBh.jpg?s=128&g=1", "display_name": "Shawn Tabrizi", "link": "https://stackoverflow.com/users/1396977/shawn-tabrizi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1300, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527185264, "creation_date": 1527110166, "question_id": 50497592, "link": "https://stackoverflow.com/questions/50497592/multiple-x-axis-for-a-single-plot-in-plotly-js", "title": "Multiple X axis for a single plot in Plotly.js", "body": "<p>I have a single trace, which I want to show two units of measurement for the X axis.</p>\n\n<p>Imagine my plot has \"Inches\" as the normal X axis. I also want to show \"Centimeter\" at the same time as another X axis right underneath the first X axis.</p>\n\n<p>Inches and Centimeter have a 1:1 relationship, so there shouldn't be any funny business related to warping the trace.</p>\n\n<p>I tried something like this for my layout:</p>\n\n<pre><code>var layout = {\n    title: '',\n    xaxis: {\n        autorange: true,\n        rangeslider: {},\n        type: 'linear',\n        title: 'Inches'\n    },\n    xaxis2: {\n        autorange: true,\n        rangeslider: {},\n        type: 'linear',\n        title: 'Centimeter',\n        overlaying: 'x'\n    },\n    yaxis: {\n        autorange: true,\n        type: 'linear',\n        title: ''\n    },\n};\n</code></pre>\n\n<p>But this doesn't work, and for obvious reasons since I am not even including details about the Centimeter conversion.</p>\n\n<p>Do you all know how to achieve a view like this? Would I need to make a second trace with matching Y data?</p>\n"}, {"tags": ["javascript", "google-apps-script"], "answers": [{"tags": [], "owner": {"reputation": 61, "user_id": 9795485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be9f8f255e912364d4b30ff1c482cdf?s=128&d=identicon&r=PG&f=1", "display_name": "Angel Marin", "link": "https://stackoverflow.com/users/9795485/angel-marin"}, "is_accepted": false, "score": 1, "last_activity_date": 1527111840, "creation_date": 1527111840, "answer_id": 50497918, "question_id": 50497558, "link": "https://stackoverflow.com/questions/50497558/google-scripts-javascript-function-window-open-not-working-in-certain-cases/50497918#50497918", "title": "Google Scripts: Javascript function window.open not working in certain cases", "body": "<p>if you are in a loop, \"i\" index is not save when you set it inside a onclick function, you need to encapsulate it inside an anonymous function and pass \"i\" to this function</p>\n\n<pre><code>for(var i = 0; i &lt; arr.length; i++){\n    (function(i){\n        arr[i].onclick = function open() {window.open(mainObj[i].link, \"_blank\") };\n   })(i);\n}\n</code></pre>\n\n<p>You can see an example here, with the first funtion all the buttons get the same onclick, with the secodn is fixed:\n<a href=\"https://jsfiddle.net/angelmarde/5gegt2o6/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/angelmarde/5gegt2o6/</a></p>\n"}], "owner": {"reputation": 105, "user_id": 9344743, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e3674ecbea4bddc2d918fd14dac45158?s=128&d=identicon&r=PG&f=1", "display_name": "jyp95", "link": "https://stackoverflow.com/users/9344743/jyp95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527111840, "creation_date": 1527110039, "last_edit_date": 1527110435, "question_id": 50497558, "link": "https://stackoverflow.com/questions/50497558/google-scripts-javascript-function-window-open-not-working-in-certain-cases", "title": "Google Scripts: Javascript function window.open not working in certain cases", "body": "<p>I am working through Google Scripts. </p>\n\n<p>I currently have a script where if you click on a box, it is supposed to open a new tab with a URL drawn from spreadsheets. </p>\n\n<p>The script correctly extracts the right URL:</p>\n\n<pre><code>var url = mainObj[i].link;\n</code></pre>\n\n<p>The following script opens the correct URL.</p>\n\n<pre><code>arr[i].onclick = function open() {window.open(\"https://drive.google.com/drive/my-drive\", \"_blank\") }; \n</code></pre>\n\n<p>So it appears that window.open works correctly if I hard-code the URL into my script. However, I am extracting data from spreadsheet so I'm iterating on this function using a for loop.</p>\n\n<p>So, if I try to do this:</p>\n\n<pre><code>arr[i].onclick = function open() {window.open(mainObj[i].link, \"_blank\") };\n</code></pre>\n\n<p>or even</p>\n\n<pre><code>var url = mainObj[i].link;\narr[i].onclick = function open() {window.open(url, \"_blank\") };\n</code></pre>\n\n<p>... it gives me a 400 error for both cases. What is the difference? </p>\n\n<p>EDIT: I thought it was because currently, the variable <code>url</code> doesn't have the double quotes, but when I did the following, the error still persists.</p>\n\n<pre><code>var url = '\"' + mainObj[i].link + '\"';\nconsole.log(url);\narr[i].onclick = function open() {window.open(url, \"_blank\") };\n</code></pre>\n"}, {"tags": ["javascript", "autologin"], "comments": [{"owner": {"reputation": 4000, "user_id": 6649786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p2OKB.jpg?s=128&g=1", "display_name": "Wais Kamal", "link": "https://stackoverflow.com/users/6649786/wais-kamal"}, "edited": false, "score": 0, "creation_date": 1527111520, "post_id": 50497555, "comment_id": 88008561, "body": "Can you add to your question the <code>&lt;form&gt;</code> element of website A?"}, {"owner": {"reputation": 43, "user_id": 2919847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3a80b620548f4abe97205ebaf2d93b3?s=128&d=identicon&r=PG&f=1", "display_name": "jingle123", "link": "https://stackoverflow.com/users/2919847/jingle123"}, "reply_to_user": {"reputation": 4000, "user_id": 6649786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p2OKB.jpg?s=128&g=1", "display_name": "Wais Kamal", "link": "https://stackoverflow.com/users/6649786/wais-kamal"}, "edited": false, "score": 0, "creation_date": 1527172034, "post_id": 50497555, "comment_id": 88036055, "body": "This is how the form element of website A looks like:  &lt;form name=&quot;loginForm&quot; action=&quot;/ct/ct_logon.asp&quot; method=&quot;POST&quot; accept-charset=&quot;UTF-8&quot; autocomplete=&quot;off&quot; onsubmit=&quot;return doValidate()&quot;&gt;"}, {"owner": {"reputation": 4000, "user_id": 6649786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p2OKB.jpg?s=128&g=1", "display_name": "Wais Kamal", "link": "https://stackoverflow.com/users/6649786/wais-kamal"}, "edited": false, "score": 0, "creation_date": 1527173950, "post_id": 50497555, "comment_id": 88037377, "body": "Do you want to submit the form to a certain webpage or execute a javascript function on form submit? I am getting confused."}, {"owner": {"reputation": 43, "user_id": 2919847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3a80b620548f4abe97205ebaf2d93b3?s=128&d=identicon&r=PG&f=1", "display_name": "jingle123", "link": "https://stackoverflow.com/users/2919847/jingle123"}, "reply_to_user": {"reputation": 4000, "user_id": 6649786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p2OKB.jpg?s=128&g=1", "display_name": "Wais Kamal", "link": "https://stackoverflow.com/users/6649786/wais-kamal"}, "edited": false, "score": 0, "creation_date": 1527174997, "post_id": 50497555, "comment_id": 88038061, "body": "Hi,I want to submit the form on the webpage B. My code should be able to fill in the credentials and submit."}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 2919847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3a80b620548f4abe97205ebaf2d93b3?s=128&d=identicon&r=PG&f=1", "display_name": "jingle123", "link": "https://stackoverflow.com/users/2919847/jingle123"}, "edited": false, "score": 0, "creation_date": 1527180022, "post_id": 50514215, "comment_id": 88041031, "body": "I cannot cange the action attribute. These are external websites. I am just trying to automate the login process."}, {"owner": {"reputation": 4000, "user_id": 6649786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p2OKB.jpg?s=128&g=1", "display_name": "Wais Kamal", "link": "https://stackoverflow.com/users/6649786/wais-kamal"}, "reply_to_user": {"reputation": 43, "user_id": 2919847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3a80b620548f4abe97205ebaf2d93b3?s=128&d=identicon&r=PG&f=1", "display_name": "jingle123", "link": "https://stackoverflow.com/users/2919847/jingle123"}, "edited": false, "score": 0, "creation_date": 1527180173, "post_id": 50514215, "comment_id": 88041105, "body": "So website B has a login form. You want to implement that form in your website. Did I get you correctly?"}, {"owner": {"reputation": 4000, "user_id": 6649786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p2OKB.jpg?s=128&g=1", "display_name": "Wais Kamal", "link": "https://stackoverflow.com/users/6649786/wais-kamal"}, "reply_to_user": {"reputation": 43, "user_id": 2919847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3a80b620548f4abe97205ebaf2d93b3?s=128&d=identicon&r=PG&f=1", "display_name": "jingle123", "link": "https://stackoverflow.com/users/2919847/jingle123"}, "edited": false, "score": 0, "creation_date": 1527180229, "post_id": 50514215, "comment_id": 88041133, "body": "If this is what you want, then find the address to which website B is submitting its form, and place that address inside your form&#39;s <code>action</code> attribute."}], "tags": [], "owner": {"reputation": 4000, "user_id": 6649786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p2OKB.jpg?s=128&g=1", "display_name": "Wais Kamal", "link": "https://stackoverflow.com/users/6649786/wais-kamal"}, "is_accepted": false, "score": 0, "last_activity_date": 1527179730, "creation_date": 1527179730, "answer_id": 50514215, "question_id": 50497555, "link": "https://stackoverflow.com/questions/50497555/autologin-to-webform-not-working/50514215#50514215", "title": "autologin to webform not working", "body": "<p>The <code>action</code> attribute specifies the page to which the form will be submitted. When the form is submitted from website A, it is redirecting to \"/ct/ct_logon.asp\". However, when the form is submitted from website B, no redirection occurs. To redirect, modify the <code>action</code> attribute such that it includes the page to which you are submitting the form entries.</p>\n"}], "owner": {"reputation": 43, "user_id": 2919847, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3a80b620548f4abe97205ebaf2d93b3?s=128&d=identicon&r=PG&f=1", "display_name": "jingle123", "link": "https://stackoverflow.com/users/2919847/jingle123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527179730, "creation_date": 1527110030, "question_id": 50497555, "link": "https://stackoverflow.com/questions/50497555/autologin-to-webform-not-working", "title": "autologin to webform not working", "body": "<p>Apologies if this sounds naive. I created a html page with a form which logs into another website on submit. I tested this with two websites, its working for one of them (lets call it website A)and not working for the other website(website B).\nThe difference that I found in the page source of A and B is that website B has an action attribute set on the form, like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &lt;form name=\"LoginForm\" method=\"post\" action=\"./\" onsubmit=\"javascript:return WebForm_OnSubmit();\" onkeypress=\"javascript:return WebForm_FireDefaultButton(event, 'btnlogin')\" id=\"LoginForm\" class=\"form-horizontal\" autocomplete=\"off\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My HTML CODE:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;&lt;head&gt;&lt;/head&gt;\r\n  &lt;body style=\"word-wrap: break-word;\"&gt;\r\n  &lt;form id=\"LoginForm\" target=\"_self\" method=\"post\" action=\"website B login page\"&gt;\r\n    &lt;input type=\"hidden\" name=\"tbUsername\" value=\"StarFort\"&gt;\r\n    &lt;input type=\"hidden\" name=\"tbPassword\" value=\"325starfort306\"&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;script type=\"text/javascript\"&gt;\r\n    // submit the form into iframe for login into remote site\r\n    document.getElementById('LoginForm').submit();\r\n    // once you're logged in, change the source url (if needed)\r\n    var iframe = document.getElementById('frame');\r\n    iframe.onload = function() {\r\n        if (iframe.src != \"Wesite B home page\") {\r\n\t\t\r\n            iframe.src = \"Wesite B home page\";\r\n        }\r\n    }\r\n&lt;/script&gt;\r\n    &lt;iframe id=\"frame\" name=\"frame\" width=\"100%\" height=\"100%\" scrolling=\"yes\" style=\"border:0\" target=\"_self\" src=\"Wesite B home page\"&gt;&lt;/iframe&gt;\r\n  \r\n\r\n&lt;/body&gt;&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any suggestion on what might be the issue?</p>\n\n<p>Thank you!!!</p>\n"}, {"tags": ["javascript", "ajax", "wcf"], "comments": [{"owner": {"reputation": 3629, "user_id": 4730201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjnMS.png?s=128&g=1", "display_name": "Ricardo Pontual", "link": "https://stackoverflow.com/users/4730201/ricardo-pontual"}, "edited": false, "score": 0, "creation_date": 1527181107, "post_id": 50497489, "comment_id": 88041581, "body": "if your service request a xml, <code>JSON.stringify</code> won&#39;t help, you should create the xml inside the soap envelope. You can take the xml that is working with <i>SOAPUI</i> and reproduce in <code>javascript</code>"}, {"owner": {"reputation": 1, "user_id": 6562474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197077ee35f4ae193d9d1aedb8fc4baf?s=128&d=identicon&r=PG&f=1", "display_name": "rome", "link": "https://stackoverflow.com/users/6562474/rome"}, "reply_to_user": {"reputation": 3629, "user_id": 4730201, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yjnMS.png?s=128&g=1", "display_name": "Ricardo Pontual", "link": "https://stackoverflow.com/users/4730201/ricardo-pontual"}, "edited": false, "score": 0, "creation_date": 1527801585, "post_id": 50497489, "comment_id": 88276158, "body": "Thank you. I shifted from WCF to webapi."}], "owner": {"reputation": 1, "user_id": 6562474, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/197077ee35f4ae193d9d1aedb8fc4baf?s=128&d=identicon&r=PG&f=1", "display_name": "rome", "link": "https://stackoverflow.com/users/6562474/rome"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527109724, "creation_date": 1527109724, "question_id": 50497489, "link": "https://stackoverflow.com/questions/50497489/how-to-consume-wcf-service-using-ajax", "title": "How to consume wcf service using ajax", "body": "<p>I have tried every tutorial and forums suggestions but it seems like it's not working on my scenario.</p>\n\n<p>Currently, we have a WCF web service deployed from another server. The web service is inserting when invoked.</p>\n\n<p>Tried to consume it by creating a simple html file but I'm receiving a bad request 400 but it is working when trying in SoapUi.</p>\n\n<p>Here's the code</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"\"&gt;\n\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;input type=\"button\" value=\"hit me\" onclick=\"test()\"&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n\n\n&lt;script&gt;\n    var url = 'http://xx.x.xx.xx/KAViewWCFService/KAView.svc/'\n    var Guid = \"0F52118D-8704-E811-811A-FC15B428467C\";\n    var KnowledgeArticleID = \"KA-01001\";\n    var StartDate = \"2018-05-21T17:26:54\";\n    var EndDate = \"2018-05-21T17:27:58\";\n\n    function test() {\n\n        var response;\n\n        $.ajax({\n            type: 'post',\n            url: url + 'UpdateKAViewDetails',\n            contentType: 'application/json; charset=utf-8',\n            data:  JSON.stringify({\n                guid: Guid,\n                knowledgeArticleID: KnowledgeArticleID,\n                startDate: StartDate,\n                endDate: EndDate\n            }),\n            dataType:'json',\n            success: function(msg) {\n                alert(msg);\n            },\n\n            error: function(e) {\n                alert(\"Error  : \" + e.statusText);\n            }\n        }); \n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>Note: When visting my url \"<a href=\"http://xx.x.xx.xx/KAViewWCFService/KAView.svc/\" rel=\"nofollow noreferrer\">http://xx.x.xx.xx/KAViewWCFService/KAView.svc/</a>\" it gives me 2 wsdl links. 1 is for svcutil and singleWsdl</p>\n\n<p>Thank you,\nrome</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "edited": false, "score": 2, "creation_date": 1527108988, "post_id": 50497301, "comment_id": 88007521, "body": "It means <code>data</code> is not containing your JSON file. A common cause for this is that <code>data</code> is undefined."}, {"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "reply_to_user": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "edited": false, "score": 0, "creation_date": 1527109264, "post_id": 50497301, "comment_id": 88007653, "body": "@Derek\u6715\u6703\u529f\u592b When trying to replicate that, it would show position 0 if the variable is undefined.  I suspect there&#39;s something wrong with how his file is retrieved"}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1527109287, "post_id": 50497301, "comment_id": 88007669, "body": "In other words, you have to load the JSON file first and store the result in your data variable :)"}, {"owner": {"reputation": 93, "user_id": 9584745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4904591d9e4fdd071cd0de7abe5f13a3?s=128&d=identicon&r=PG&f=1", "display_name": "billal", "link": "https://stackoverflow.com/users/9584745/billal"}, "reply_to_user": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "edited": false, "score": 0, "creation_date": 1527109300, "post_id": 50497301, "comment_id": 88007678, "body": "@Derek\u6715\u6703\u529f\u592b i assign this json file to  data in my json file but still same error"}, {"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "edited": false, "score": 0, "creation_date": 1527109318, "post_id": 50497301, "comment_id": 88007695, "body": "@billal I was unable to replicate your problem."}, {"owner": {"reputation": 93, "user_id": 9584745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4904591d9e4fdd071cd0de7abe5f13a3?s=128&d=identicon&r=PG&f=1", "display_name": "billal", "link": "https://stackoverflow.com/users/9584745/billal"}, "reply_to_user": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "edited": false, "score": 0, "creation_date": 1527109352, "post_id": 50497301, "comment_id": 88007705, "body": "@TheIncorrigible1 this is local json file"}, {"owner": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "reply_to_user": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "edited": false, "score": 0, "creation_date": 1527109383, "post_id": 50497301, "comment_id": 88007722, "body": "@TheIncorrigible1 Hmm, can\u2019t really tell what\u2019s actually happening without seeing the content of <code>data</code>."}, {"owner": {"reputation": 93, "user_id": 9584745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4904591d9e4fdd071cd0de7abe5f13a3?s=128&d=identicon&r=PG&f=1", "display_name": "billal", "link": "https://stackoverflow.com/users/9584745/billal"}, "reply_to_user": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "edited": false, "score": 0, "creation_date": 1527109543, "post_id": 50497301, "comment_id": 88007802, "body": "@Derek\u6715\u6703\u529f\u592b  let me add complete HTML and json file"}, {"owner": {"reputation": 93, "user_id": 9584745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4904591d9e4fdd071cd0de7abe5f13a3?s=128&d=identicon&r=PG&f=1", "display_name": "billal", "link": "https://stackoverflow.com/users/9584745/billal"}, "reply_to_user": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "edited": false, "score": 0, "creation_date": 1527109795, "post_id": 50497301, "comment_id": 88007920, "body": "@TheIncorrigible1 now check . i added complete code."}, {"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "edited": false, "score": 0, "creation_date": 1527109872, "post_id": 50497301, "comment_id": 88007950, "body": "@billal Why are you trying to parse an object?"}, {"owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "reply_to_user": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "edited": false, "score": 0, "creation_date": 1527110042, "post_id": 50497301, "comment_id": 88008020, "body": "@Derek\u6715\u6703\u529f\u592b data is an object literal.  He&#39;s trying to parse something that&#39;s already an object."}, {"owner": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "reply_to_user": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "edited": false, "score": 0, "creation_date": 1527110185, "post_id": 50497301, "comment_id": 88008069, "body": "@TheIncorrigible1 So this question has nothing to do with the JSON format then."}], "answers": [{"tags": [], "owner": {"reputation": 14946, "user_id": 8188846, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/85a7614508b329eb4a495c59ccf64ac7?s=128&d=identicon&r=PG", "display_name": "Maximilian Burszley", "link": "https://stackoverflow.com/users/8188846/maximilian-burszley"}, "is_accepted": false, "score": 0, "last_activity_date": 1527109744, "creation_date": 1527109744, "answer_id": 50497492, "question_id": 50497301, "link": "https://stackoverflow.com/questions/50497301/how-to-read-specific-attribute-of-an-object/50497492#50497492", "title": "how to read specific attribute of an object", "body": "<p>Following the below example, I was unable to replicate your problem.  <em>I suspect</em> your local file is missing starting/ending quotes causing issues for the parser.</p>\n\n<p>Edit: Your actual problem appears to be trying to parse an object (<code>data</code>) with <code>JSON.parse()</code>.  <code>JSON.parse()</code> expects a string.  You already have a valid object.</p>\n\n<pre><code>var data = `\n{\n    \"maps\": [\n        {\n            \"id\": \"1\",\n            \"iscategorical\": \"0\"\n        },\n        {\n            \"id\": \"2\",\n            \"iscategorical\": \"0\"\n        },\n        {\n            \"id\": \"3\",\n            \"iscategorical\": \"0\"\n        }\n    ]\n}\n`;\n\ndata\n&gt; \"{\n&gt;     \"maps\": [\n&gt;         {\n&gt;             \"id\": \"1\",\n&gt;             \"iscategorical\": \"0\"\n&gt;         },\n&gt;         {\n&gt;             \"id\": \"2\",\n&gt;             \"iscategorical\": \"0\"\n&gt;         },\n&gt;         {\n&gt;             \"id\": \"3\",\n&gt;             \"iscategorical\": \"0\"\n&gt;         }\n&gt;     ]\n&gt; }\"\n</code></pre>\n\n<hr>\n\n<pre><code>var out = JSON.parse(data);\n\nout['maps'].map(({id}) =&gt; id);\n&gt; [\"1\", \"2\", \"3\"]\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 9584745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4904591d9e4fdd071cd0de7abe5f13a3?s=128&d=identicon&r=PG&f=1", "display_name": "billal", "link": "https://stackoverflow.com/users/9584745/billal"}, "edited": false, "score": 0, "creation_date": 1527110506, "post_id": 50497506, "comment_id": 88008186, "body": "@Micheal i correct mistakes in my code that you figure out but still i was receiving same error . But then i use your json file and it didnt get any error... So now my question is what is wrong in my JSON file?"}], "tags": [], "owner": {"reputation": 2245, "user_id": 524324, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/1265c18acd8d236f08bb199d0d81577d?s=128&d=identicon&r=PG", "display_name": "Michael Beeson", "link": "https://stackoverflow.com/users/524324/michael-beeson"}, "is_accepted": false, "score": 0, "last_activity_date": 1527109812, "creation_date": 1527109812, "answer_id": 50497506, "question_id": 50497301, "link": "https://stackoverflow.com/questions/50497301/how-to-read-specific-attribute-of-an-object/50497506#50497506", "title": "how to read specific attribute of an object", "body": "<p>Well, looking at your code I notice the object has no \"age\" value in maps, and you loop 4 times through three items. I don't get the error you report. Look at this snippet and tell me what you think:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = '{ \"maps\": [{\"id\": \"1\",\"iscategorical\": \"0\"},{\"id\": \"2\", \"iscategorical\": \"0\"}, {\"id\": \"3\", \"iscategorical\": \"0\" }]}';\r\n\r\nvar arr = [];\r\nvar d = JSON.parse(data);\r\nfor (var i = 0; i &lt; 3; i++) {\r\n    arr.push(d['maps'][i].id);\r\n}\r\n\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1178, "user_id": 6363273, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe42bbac197395210bccc4a68df10102?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Gibbs", "link": "https://stackoverflow.com/users/6363273/ryan-gibbs"}, "is_accepted": false, "score": 0, "last_activity_date": 1527110033, "creation_date": 1527110033, "answer_id": 50497557, "question_id": 50497301, "link": "https://stackoverflow.com/questions/50497301/how-to-read-specific-attribute-of-an-object/50497557#50497557", "title": "how to read specific attribute of an object", "body": "<p>Since you're pulling from a .json file, you shouldn't need to use JSON.parse() to deserialize it. This would only be used when the json data is being stored as a string.</p>\n\n<p>Try your code this way:</p>\n\n<pre><code>var d = data;\nfor (var i = 0; i &lt; 4; i++) {\n    arr.push(d['maps'][i].age);\n}\n</code></pre>\n\n<p>You also are iterating over your for loop 4 times (Zero indexed), but only have three items in your json. This will throw an error. Instead, use the length property to determine how many times to loop.</p>\n\n<pre><code>for (var i = 0; i &lt; d.length; i++) {\n    arr.push(d['maps'][i].age);\n} \n</code></pre>\n\n<p>Also, there is no 'age' parameter of your json example, so that will throw an error.</p>\n"}, {"tags": [], "owner": {"reputation": 2244, "user_id": 7177558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71b23748399ee7f1b6a612d5266b13dc?s=128&d=identicon&r=PG&f=1", "display_name": "\u0425\u0440\u0438\u0441\u0442\u0438\u044f\u043d \u0425\u0440\u0438\u0441\u0442\u043e\u0432", "link": "https://stackoverflow.com/users/7177558/%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%b8%d1%8f%d0%bd-%d0%a5%d1%80%d0%b8%d1%81%d1%82%d0%be%d0%b2"}, "is_accepted": true, "score": 1, "last_activity_date": 1527110131, "creation_date": 1527110131, "answer_id": 50497584, "question_id": 50497301, "link": "https://stackoverflow.com/questions/50497301/how-to-read-specific-attribute-of-an-object/50497584#50497584", "title": "how to read specific attribute of an object", "body": "<p>The data that you are showing us is already parsed that is why the JSON.parse method doesn't work and throws error, also there is no age key value pair in the elements in the maps collection, that's why I'm using the id property in the snippet</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let initialData = {\r\n    \"maps\": [\r\n        {\r\n            \"id\": \"1\",\r\n            \"iscategorical\": \"0\"\r\n        },\r\n        {\r\n            \"id\": \"2\",\r\n            \"iscategorical\": \"0\"\r\n        },\r\n        {\r\n            \"id\": \"3\",\r\n            \"iscategorical\": \"0\"\r\n        }\r\n    ]\r\n}\r\n\r\nlet jsonData = JSON.stringify(initialData)\r\nlet parsedJson = JSON.parse(jsonData)\r\n\r\nconsole.log(parsedJson)\r\n\r\n\r\nlet arrHolder = []\r\n\r\nvar d = JSON.parse(jsonData);\r\n    for (var i = 0; i &lt; 3; i++) {\r\n        arrHolder.push(d['maps'][i].id);\r\n        }\r\n\r\nconsole.log(arrHolder)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 93, "user_id": 9584745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4904591d9e4fdd071cd0de7abe5f13a3?s=128&d=identicon&r=PG&f=1", "display_name": "billal", "link": "https://stackoverflow.com/users/9584745/billal"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "closed_date": 1527145273, "accepted_answer_id": 50497584, "answer_count": 4, "score": -2, "last_activity_date": 1527110309, "creation_date": 1527108846, "last_edit_date": 1527110309, "question_id": 50497301, "link": "https://stackoverflow.com/questions/50497301/how-to-read-specific-attribute-of-an-object", "closed_reason": "Not suitable for this site", "title": "how to read specific attribute of an object", "body": "<p>I have an object in which i want to read only id. </p>\n\n<p>i am trying to read the object using this code.</p>\n\n<pre><code>var d = JSON.parse(data);\n    for (var i = 0; i &lt; 4; i++) {\n        arr.push(d['maps'][i].age);\n        }\n</code></pre>\n\n<p>but it is giving me error </p>\n\n<p><strong>SyntaxError: JSON.parse: unexpected character at line 1 column 1 of the JSON data</strong></p>\n\n<p>complete html code.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt; &lt;/title&gt;\n     &lt;script src=\"https://cdn.plot.ly/plotly-latest.min.js\"&gt;&lt;/script&gt;\n     &lt;script src=\"js/jquery.js\" &gt;&lt;/script&gt;\n     &lt;script src=\"js/test.json\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n     &lt;div id=\"myDiv\"&gt;&lt;!-- Plotly chart will be drawn inside this DIV --&gt;&lt;/div&gt;\n  &lt;script&gt;\n    &lt;!-- JAVASCRIPT CODE GOES HERE --&gt;\n    var arr = [];\n    var d = JSON.parse(data);\n    for (var i = 0; i &lt; 4; i++) {\n        arr.push(d['maps'][i].age);\n        }\n\n    console.log(arr)    \n    var trace1 = {\n  x: arr, \n  y: [10, 15, 13, 17], \n  type: 'scatter'\n};\nvar trace2 = {\n  x: arr, \n  y: [16, 5, 11, 9], \n  type: 'scatter'\n};\nvar data = [trace1, trace2];\nPlotly.newPlot('myDiv', data);\n  &lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>below is my object definition:</p>\n\n<pre><code>data =   {\n        \"maps\": [\n            {\n                \"id\": \"1\",\n                \"iscategorical\": \"0\"\n            },\n            {\n                \"id\": \"2\",\n                \"iscategorical\": \"0\"\n            },\n            {\n                \"id\": \"3\",\n                \"iscategorical\": \"0\"\n            }\n        ]\n    }\n</code></pre>\n\n<p>whats wrong with the object ? or my code?</p>\n"}, {"tags": ["javascript", "pug", "keystonejs"], "answers": [{"tags": [], "owner": {"reputation": 434, "user_id": 1985545, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XuZ4a.png?s=128&g=1", "display_name": "Old Nick", "link": "https://stackoverflow.com/users/1985545/old-nick"}, "is_accepted": true, "score": 0, "last_activity_date": 1527186058, "creation_date": 1527186058, "answer_id": 50515799, "question_id": 50497276, "link": "https://stackoverflow.com/questions/50497276/load-js-file-conditionally-on-view-in-keystone-js-pug/50515799#50515799", "title": "load js file conditionally on view in keystone js/pug", "body": "<p>Found out that there is no need to load the script in the <code>default.pug</code> file. It can be loaded in the view file (i.e. <code>post-pog</code>) inside a <code>block.js</code> so that the script is loaded after the scripts in the <code>default.pug</code> file. Like this:</p>\n\n<pre><code>extends ../layouts/default\nblock content\n  //-this is where the content of post.pug file lives\nblock js\n  script(src='myscript.js')\n</code></pre>\n"}], "owner": {"reputation": 434, "user_id": 1985545, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XuZ4a.png?s=128&g=1", "display_name": "Old Nick", "link": "https://stackoverflow.com/users/1985545/old-nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 50515799, "answer_count": 1, "score": 0, "last_activity_date": 1527186058, "creation_date": 1527108706, "question_id": 50497276, "link": "https://stackoverflow.com/questions/50497276/load-js-file-conditionally-on-view-in-keystone-js-pug", "title": "load js file conditionally on view in keystone js/pug", "body": "<p>In keystone js you could do something like</p>\n\n<pre><code>if user &amp;&amp; user.canAccessKeystone\n            script(src='/keystone/js/content/editor.js')\n</code></pre>\n\n<p>to load a script if a certain condition is met. Would it be possible to conditionally load a script only in a certain view, i.e. in the \"post\" view?</p>\n\n<p>something like this:</p>\n\n<pre><code>if view = post\n    script(src='myscript.js')\n</code></pre>\n"}, {"tags": ["javascript", "c#", "download"], "comments": [{"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527111175, "post_id": 50497182, "comment_id": 88008427, "body": "Does it download the file though?"}, {"owner": {"reputation": 1357, "user_id": 2335172, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/vFUCd.jpg?s=128&g=1", "display_name": "Tarta", "link": "https://stackoverflow.com/users/2335172/tarta"}, "reply_to_user": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 0, "creation_date": 1527111213, "post_id": 50497182, "comment_id": 88008436, "body": "@NocNit no it doesn&#39;t unfortunately"}, {"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "edited": false, "score": 1, "creation_date": 1527111937, "post_id": 50497182, "comment_id": 88008726, "body": "This is not fully my area of expertise, but maybe the answer to this question helps you <a href=\"https://stackoverflow.com/questions/26038856/how-to-return-a-file-filecontentresult-in-asp-net-webapi\" title=\"how to return a file filecontentresult in asp net webapi\">stackoverflow.com/questions/26038856/&hellip;</a>"}], "owner": {"reputation": 1357, "user_id": 2335172, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/vFUCd.jpg?s=128&g=1", "display_name": "Tarta", "link": "https://stackoverflow.com/users/2335172/tarta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527108269, "creation_date": 1527108269, "question_id": 50497182, "link": "https://stackoverflow.com/questions/50497182/downloading-file-from-server-makes-browser-change-page", "title": "Downloading file from server makes browser change page", "body": "<p>I am following the answer in this page (<a href=\"https://stackoverflow.com/questions/24501358/how-to-set-a-header-for-a-http-get-request-and-trigger-file-download/24523253#24523253\">How to set a header for a HTTP GET request, and trigger file download?</a>) in order to call from my client an mvc controller on the server. I need to use a manual ajax call instead of a library/plugin (like fileDownload) because I need to support bearer token.\nThe problem I face is that when I try to download the content, the controller is hit correctly and returns the data of type <strong>FileDownloadResult</strong>:</p>\n\n<pre><code>public sealed class FileDownloadResult : IHttpActionResult, IDisposable\n    {\n        private readonly MemoryStream _dataStream;\n        private readonly string _fileName;\n        private readonly string _path;\n        private readonly string _mimeType;\n        private readonly string _encoding;\n\n        private string MimeType =&gt; string.IsNullOrWhiteSpace(_mimeType) ? \"application/octet-stream\" : _mimeType;\n        private string Encoding =&gt; string.IsNullOrWhiteSpace(_encoding) ? string.Empty : _encoding;\n\n        public FileDownloadResult(byte[] fileData, string fileName)\n        {\n            _dataStream = new MemoryStream(fileData);\n            _fileName = fileName;\n        }\n}\n...(other overrides methods for FileDownloadResult)...\n</code></pre>\n\n<p>The problem is that by using the code in the page linked at the beginning, my browser changes page. My code is the following on the client:</p>\n\n<pre><code>function downloadFile(url, data) {\n\n    $.ajax({\n        url: url,\n        type: \"GET\",\n        data: data,\n        headers: {\n            Authorization: 'Bearer ' + appsecurity.getBearerTokenWithoutHeader().accessToken\n        },\n        success: function (data) {\n            debugger;\n            $(\"a\")\n                .attr({\n                    \"href\": data.file,\n                    \"download\": \"file.txt\"\n                })\n                .html($(\"a\").attr(\"download\"))\n                .get(0).click();\n            console.log(JSON.parse(JSON.stringify(data)));\n        },\n        error: function (jqxhr, textStatus, errorThrown) {\n            console.log(textStatus, errorThrown)\n        }\n    });\n}\n</code></pre>\n\n<p>if I debug the returned <strong>data</strong> in the browser I see that the type is <strong>document</strong> .. I don't know if it helps but it's worth mentioning it. How can I solve the problem? Thanks in advance!</p>\n"}, {"tags": ["javascript", "html", "reactjs", "redux"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1527108508, "post_id": 50497079, "comment_id": 88007274, "body": "Are you essentially asking how to render dynamic components, instead of using only static JSX? That&#39;s how I understand your question."}, {"owner": {"reputation": 1397, "user_id": 5237474, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/75dc4d4b7c6caf7ccfd09a8c60904e1c?s=128&d=identicon&r=PG&f=1", "display_name": "shashwatZing", "link": "https://stackoverflow.com/users/5237474/shashwatzing"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1527164472, "post_id": 50497079, "comment_id": 88030509, "body": "I want to render different components that take in same props based on what the user has selected."}], "answers": [{"comments": [{"owner": {"reputation": 1397, "user_id": 5237474, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/75dc4d4b7c6caf7ccfd09a8c60904e1c?s=128&d=identicon&r=PG&f=1", "display_name": "shashwatZing", "link": "https://stackoverflow.com/users/5237474/shashwatzing"}, "edited": false, "score": 0, "creation_date": 1527164388, "post_id": 50497137, "comment_id": 88030454, "body": "Somebody is down voting all the answers here without any feedback. Thanks for your input I have not had chance to look at this."}, {"owner": {"reputation": 136245, "user_id": 223386, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/tfslu.jpg?s=128&g=1", "display_name": "hsz", "link": "https://stackoverflow.com/users/223386/hsz"}, "reply_to_user": {"reputation": 1397, "user_id": 5237474, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/75dc4d4b7c6caf7ccfd09a8c60904e1c?s=128&d=identicon&r=PG&f=1", "display_name": "shashwatZing", "link": "https://stackoverflow.com/users/5237474/shashwatzing"}, "edited": false, "score": 0, "creation_date": 1527164585, "post_id": 50497137, "comment_id": 88030572, "body": "@shashwatZing No worries."}], "tags": [], "owner": {"reputation": 136245, "user_id": 223386, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/tfslu.jpg?s=128&g=1", "display_name": "hsz", "link": "https://stackoverflow.com/users/223386/hsz"}, "is_accepted": false, "score": 0, "last_activity_date": 1527108040, "creation_date": 1527108040, "answer_id": 50497137, "question_id": 50497079, "link": "https://stackoverflow.com/questions/50497079/reactjs-rendering-components-based-on-user-select/50497137#50497137", "title": "ReactJS rendering components based on user select", "body": "<p>User defined components must be capitalized to be able to render them.</p>\n\n<p>Just try with:</p>\n\n<pre><code>&lt;select&gt;{dateOptions.map(Option =&gt; &lt;option&gt;&lt;Option /&gt;&lt;/option&gt;)}&lt;/select&gt;\n</code></pre>\n\n<p>Also keep in mind to set the <code>key</code> property for <code>option</code> element.</p>\n"}, {"comments": [{"owner": {"reputation": 1397, "user_id": 5237474, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/75dc4d4b7c6caf7ccfd09a8c60904e1c?s=128&d=identicon&r=PG&f=1", "display_name": "shashwatZing", "link": "https://stackoverflow.com/users/5237474/shashwatzing"}, "edited": false, "score": 0, "creation_date": 1527164381, "post_id": 50497174, "comment_id": 88030450, "body": "Somebody is down voting all the answers here without any feedback. Thanks for your input I have not had chance to look at this."}, {"owner": {"reputation": 1397, "user_id": 5237474, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/75dc4d4b7c6caf7ccfd09a8c60904e1c?s=128&d=identicon&r=PG&f=1", "display_name": "shashwatZing", "link": "https://stackoverflow.com/users/5237474/shashwatzing"}, "edited": false, "score": 0, "creation_date": 1527168433, "post_id": 50497174, "comment_id": 88033400, "body": "Thanks Man. I was able to go through your code. This is really neat."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "reply_to_user": {"reputation": 1397, "user_id": 5237474, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/75dc4d4b7c6caf7ccfd09a8c60904e1c?s=128&d=identicon&r=PG&f=1", "display_name": "shashwatZing", "link": "https://stackoverflow.com/users/5237474/shashwatzing"}, "edited": false, "score": 0, "creation_date": 1527169670, "post_id": 50497174, "comment_id": 88034290, "body": "I actually downvoted the other two because they didn&#39;t understand what you were asking and thus gave useless answers. Mine was downvoted by someone who didn&#39;t understand it either, apparently. Since you told hsz about his solution working perfectly, I&#39;m left wondering why on earth you&#39;re putting a Component with functions and properties and stuff inside an <code>&lt;option&gt;</code> element. I interpreted your example code as an example of dynamic rendering in general and assumed this isn&#39;t actually about <code>&lt;option&gt;</code> content at all. Am I wrong after all?"}], "tags": [], "owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "is_accepted": true, "score": 2, "last_activity_date": 1527170837, "last_edit_date": 1527170837, "creation_date": 1527108234, "answer_id": 50497174, "question_id": 50497079, "link": "https://stackoverflow.com/questions/50497079/reactjs-rendering-components-based-on-user-select/50497174#50497174", "title": "ReactJS rendering components based on user select", "body": "<blockquote>\n  <p>And I basically want to render the component based on user selection </p>\n</blockquote>\n\n<p>The simplest way is</p>\n\n<pre><code>{ this.state.selection === 1 &amp;&amp; &lt;CreatedDate ... /&gt; }\n{ this.state.selection === 2 &amp;&amp; &lt;ClientSignedDate ... /&gt; }\n</code></pre>\n\n<p>And so on.</p>\n\n<p>Edit: based on additional info, another option is:</p>\n\n<pre><code>const dateOptions = [CreatedDate, ClientSignedDate, VerificationDate];\nconst Comp = dateOptions[this.state.selection];  // pick element\n</code></pre>\n\n<p>then use</p>\n\n<pre><code>&lt;Comp \n    from={this.props.filter.createdDateFrom}\n    to={this.props.filter.createdDateTo}\n    onChange={this.handleCreatedDateChange}\n/&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1397, "user_id": 5237474, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/75dc4d4b7c6caf7ccfd09a8c60904e1c?s=128&d=identicon&r=PG&f=1", "display_name": "shashwatZing", "link": "https://stackoverflow.com/users/5237474/shashwatzing"}, "edited": false, "score": 0, "creation_date": 1527164374, "post_id": 50497284, "comment_id": 88030444, "body": "Somebody is down voting all the answers here without any feedback. Thanks for your input I have not had chance to look at this."}, {"owner": {"reputation": 1608, "user_id": 3404054, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/V9HbA.jpg?s=128&g=1", "display_name": "domdambrogia", "link": "https://stackoverflow.com/users/3404054/domdambrogia"}, "reply_to_user": {"reputation": 1397, "user_id": 5237474, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/75dc4d4b7c6caf7ccfd09a8c60904e1c?s=128&d=identicon&r=PG&f=1", "display_name": "shashwatZing", "link": "https://stackoverflow.com/users/5237474/shashwatzing"}, "edited": false, "score": 0, "creation_date": 1527194452, "post_id": 50497284, "comment_id": 88048246, "body": "Haha no worries. If you end up using this let me know if you run into any problems."}], "tags": [], "owner": {"reputation": 1608, "user_id": 3404054, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/V9HbA.jpg?s=128&g=1", "display_name": "domdambrogia", "link": "https://stackoverflow.com/users/3404054/domdambrogia"}, "is_accepted": false, "score": 0, "last_activity_date": 1527108740, "creation_date": 1527108740, "answer_id": 50497284, "question_id": 50497079, "link": "https://stackoverflow.com/questions/50497079/reactjs-rendering-components-based-on-user-select/50497284#50497284", "title": "ReactJS rendering components based on user select", "body": "<p>React components must be uppercase. From there you can use a variable component.</p>\n\n<p>I recently referenced <a href=\"https://stackoverflow.com/questions/33471880/dynamic-tag-name-in-jsx-and-react\">this question</a> which helped me out. It's not exactly what you're asking, but it is stemming from the same problem. <a href=\"https://stackoverflow.com/questions/29875869/react-jsx-dynamic-component-name\">This question</a> as well.</p>\n\n<pre><code>&lt;select&gt;{dateOptions.map((Option, index) =&gt; &lt;option key={`unique_${index}`}&gt;&lt;Option /&gt;&lt;/option&gt;)}&lt;/select&gt;\n</code></pre>\n\n<p>Make sure your <code>key</code> is unique when you use <code>Array.map</code>. If you add/remove <code>Option</code> components dynamically, you can run into problems using a simple array index in certain situations. Read more about that <a href=\"https://codeburst.io/how-to-not-react-common-anti-patterns-and-gotchas-in-react-40141fe0dcd#d782\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 1397, "user_id": 5237474, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/75dc4d4b7c6caf7ccfd09a8c60904e1c?s=128&d=identicon&r=PG&f=1", "display_name": "shashwatZing", "link": "https://stackoverflow.com/users/5237474/shashwatzing"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2768, "favorite_count": 0, "accepted_answer_id": 50497174, "answer_count": 3, "score": 2, "last_activity_date": 1527170837, "creation_date": 1527107794, "question_id": 50497079, "link": "https://stackoverflow.com/questions/50497079/reactjs-rendering-components-based-on-user-select", "title": "ReactJS rendering components based on user select", "body": "<p>So I'm basically a week old to react and have not written any javascript code for years. So please forgive my ignorance if any.</p>\n\n<p><strong>Question</strong>\nI have created three different component classes</p>\n\n<pre><code> const CreatedDate = React.createClass({\n  displayName: 'CreatedDate',\n  propTypes: {\n    name: 'CreateDate',\n    from: React.PropTypes.string,\n    to: React.PropTypes.string,\n    format: React.PropTypes.string,\n    onChange: React.PropTypes.func\n  },\n</code></pre>\n\n<p>//rest of the code and functions</p>\n\n<p>And likewise, I have a class similar to this called ClientSignedDate and \nVerificationDate all of which containing basically same input props but get data from different columns of the same table.</p>\n\n<p>In a separate ParentClass called Filter\nI have created an array of these components inside this class</p>\n\n<p>const dateOptions = [CreatedDate,ClientSignedDate,VerificationDate];</p>\n\n<p>It was previously working when there was only one component</p>\n\n<pre><code>          &lt;CreatedDate\n            from={this.props.filter.createdDateFrom}\n            to={this.props.filter.createdDateTo}\n            onChange={this.handleCreatedDateChange}\n          /&gt;\n</code></pre>\n\n<p>And I basically want to render the component based on user selection but I'm not able to figure out how to do so. Something similar to the snippet below but which allows rendering.</p>\n\n<pre><code> &lt;select&gt;{dateOptions.map(x =&gt; &lt;option&gt;{x}&lt;/option&gt;)}&lt;/select&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "jsgrid"], "comments": [{"owner": {"reputation": 83, "user_id": 6100171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/41e6f18d6fbcbc6e244e3c4f60c015d5?s=128&d=identicon&r=PG&f=1", "display_name": "David Jones", "link": "https://stackoverflow.com/users/6100171/david-jones"}, "edited": false, "score": 0, "creation_date": 1527107772, "post_id": 50497035, "comment_id": 88006930, "body": "Actually running it from a spring boot application and the results says, &quot;not Found&quot; although I see columns headers."}], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 1725476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfb6511a1983f09670e4a37903666a93?s=128&d=identicon&r=PG", "display_name": "srik_sm", "link": "https://stackoverflow.com/users/1725476/srik-sm"}, "is_accepted": true, "score": 1, "last_activity_date": 1527110929, "creation_date": 1527110929, "answer_id": 50497744, "question_id": 50497035, "link": "https://stackoverflow.com/questions/50497035/javascript-jsgrid-not-loading/50497744#50497744", "title": "javascript jsGrid not loading", "body": "<p>Looks like the structure of the data that you are returning in <code>controller.loadData</code> is valid if <code>pageLoading</code> is set as <code>true</code>. else u can simply use:</p>\n\n<pre><code>controller: {\n        loadData: function(filter) {\n            return [\n                { Name: 'Edmund', Age: '25' },\n                { Name: 'Edmund', Age: '25' },\n            ];\n        },\n    },\n</code></pre>\n\n<p>source: <a href=\"http://js-grid.com/docs/#controller\" rel=\"nofollow noreferrer\">http://js-grid.com/docs/#controller</a></p>\n"}], "owner": {"reputation": 83, "user_id": 6100171, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/41e6f18d6fbcbc6e244e3c4f60c015d5?s=128&d=identicon&r=PG&f=1", "display_name": "David Jones", "link": "https://stackoverflow.com/users/6100171/david-jones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 546, "favorite_count": 0, "accepted_answer_id": 50497744, "answer_count": 1, "score": 0, "last_activity_date": 1527110929, "creation_date": 1527107590, "last_edit_date": 1527108050, "question_id": 50497035, "link": "https://stackoverflow.com/questions/50497035/javascript-jsgrid-not-loading", "title": "javascript jsGrid not loading", "body": "<p>I took the source from this simple sample here online: <a href=\"http://js-grid.com/demos/basic.html\" rel=\"nofollow noreferrer\">http://js-grid.com/demos/basic.html</a>.</p>\n\n<p>I adapted it by adding complete cdn path for jsGrid.  I deleted all but two of the grid columns for brevity...  Launch the page from springboot application... Table headers show but not sample json data.</p>\n\n<p>This is what I ended up with that isn't working..</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n    &lt;title&gt;Basic Scenario - jsGrid Demo&lt;/title&gt;\n\n    &lt;link href='http://fonts.googleapis.com/css?family=Open+Sans:300,600,400' rel='stylesheet' type='text/css'&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/css/demos.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/css/jsgrid.min.css\" /&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/css/jsgrid-theme.min.css\" /&gt;\n\n    &lt;link rel=\"stylesheet\" href=\"//code.jquery.com/ui/1.11.2/themes/cupertino/jquery-ui.css\"&gt;\n    &lt;script src=\"//code.jquery.com/jquery-1.10.2.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"//code.jquery.com/ui/1.11.2/jquery-ui.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js\"&gt;&lt;/script&gt;\n\n    &lt;script&gt;window.jQuery || document.write('&lt;script src=\"/js/jquery-1.8.3.js\"&gt;&lt;\\/script&gt;')&lt;/script&gt;\n\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.2/jsgrid.css\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.2/jsgrid.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.2/jsgrid.min.css\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jsgrid/1.5.2/jsgrid.min.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Basic Scenario&lt;/h1&gt;\n\n&lt;div id=\"jsGrid\"&gt;&lt;/div&gt;\n\n&lt;script&gt;\n\n\n    $(\"#jsGrid\").jsGrid({\n        height: \"90%\",\n        width: \"100%\",\n\n        filtering: true,\n        editing: true,\n        sorting: true,\n        paging: true,\n        autoload: true,\n\n        pageSize: 15,\n        pageButtonCount: 5,\n\n        deleteConfirm: \"Do you really want to delete the client?\",\n\n        controller: {\n                loadData: function(filter) {\n                return {\n                          data: [{\"Name\":\"Edmund\",\"Age\": \"25\"},\n                                 {\"Name\":\"Edmund\",\"Age\": \"25\"}\n                                ],\n                          itemsCount: 2\n                      };\n                }\n            },\n\n        fields: [\n            { name: \"Name\", type: \"text\", width: 150 },\n            { name: \"Age\", type: \"text\", width: 50 }\n        ]\n    });\n\n\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Any ideas? </p>\n"}, {"tags": ["javascript", "css", "angular"], "comments": [{"owner": {"reputation": 33954, "user_id": 49478, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c42283aeb1521ae0e27bd41b7fdb227?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/49478/anthony"}, "edited": false, "score": 0, "creation_date": 1527107904, "post_id": 50497030, "comment_id": 88007004, "body": "What do you have set for the class <code>noSelect</code> (in terms of CSS)? You should be able to set the pointer to a static pointer and prevent selecting."}, {"owner": {"reputation": 505, "user_id": 1387833, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2c361e3eeca72f8b47895f836ed16f4f?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1387833/mark"}, "reply_to_user": {"reputation": 33954, "user_id": 49478, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c42283aeb1521ae0e27bd41b7fdb227?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/49478/anthony"}, "edited": false, "score": 0, "creation_date": 1527108179, "post_id": 50497030, "comment_id": 88007108, "body": "its -webkit-user-select: none; cursor: move;  works, but not when dragged over a textarea."}, {"owner": {"reputation": 33954, "user_id": 49478, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c42283aeb1521ae0e27bd41b7fdb227?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/49478/anthony"}, "edited": false, "score": 0, "creation_date": 1527108246, "post_id": 50497030, "comment_id": 88007141, "body": "What if you set <code>pointer-events: none;</code>?"}, {"owner": {"reputation": 33954, "user_id": 49478, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/6c42283aeb1521ae0e27bd41b7fdb227?s=128&d=identicon&r=PG", "display_name": "Anthony", "link": "https://stackoverflow.com/users/49478/anthony"}, "edited": false, "score": 0, "creation_date": 1527108497, "post_id": 50497030, "comment_id": 88007271, "body": "Also, you would want to set it in all elements, not just the body. So <code>.noSelect, .noSelect *</code>"}], "owner": {"reputation": 505, "user_id": 1387833, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/2c361e3eeca72f8b47895f836ed16f4f?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1387833/mark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1527107569, "creation_date": 1527107569, "question_id": 50497030, "link": "https://stackoverflow.com/questions/50497030/make-no-selections-while-dragging-a-window", "title": "make no selections while dragging a window", "body": "<p>I have a div that sits above the other html elements and I have enabled ngDraggable on that div.  While the div is being dragged, I'm attempting to keep the cursor at 'move' and have nothing in the interface be selected or changed.  The user is simply moving the div to a new location so they can see what's under it.</p>\n\n<p>The code I have so far almost works, but when the cursor is dragged over a textarea it looses the move pointer, gets the text select cursor, and text in the text area is selected.</p>\n\n<pre><code>  whileDragging(e){\n    let guidedWindow = document.getElementById(\"theGuidedWindow\");\n    guidedWindow.classList.add(\"noTransitions\");\n    document.body.className = 'noSelect'; //-webkit-user-select: none; cursor: move;\n    if(e.stopPropagation) e.stopPropagation();\n    if(e.preventDefault) e.preventDefault();\n    e.cancelBubble=true;\n    e.returnValue=false;\n    return false;\n  }\n</code></pre>\n"}, {"tags": ["javascript", "html", "ios"], "comments": [{"owner": {"reputation": 3724, "user_id": 553303, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/90o0h.jpg?s=128&g=1", "display_name": "Adrian Florescu", "link": "https://stackoverflow.com/users/553303/adrian-florescu"}, "edited": false, "score": 0, "creation_date": 1527148036, "post_id": 50496991, "comment_id": 88019781, "body": "Alternative might be CSS, adding <code>overflow: hidden</code> to the body or the tag that you want to stop the scrolling. I usually have a general class called <code>.no-scoll</code> that I apply with JS instead of preventing the default event`"}, {"owner": {"reputation": 2225, "user_id": 1043706, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LU3tp.jpg?s=128&g=1", "display_name": "John the Painter", "link": "https://stackoverflow.com/users/1043706/john-the-painter"}, "reply_to_user": {"reputation": 3724, "user_id": 553303, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/90o0h.jpg?s=128&g=1", "display_name": "Adrian Florescu", "link": "https://stackoverflow.com/users/553303/adrian-florescu"}, "edited": false, "score": 2, "creation_date": 1527154123, "post_id": 50496991, "comment_id": 88023527, "body": "@AdrianFlorescu Thanks but this doesn&#39;t work on iOS."}, {"owner": {"reputation": 3724, "user_id": 553303, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/90o0h.jpg?s=128&g=1", "display_name": "Adrian Florescu", "link": "https://stackoverflow.com/users/553303/adrian-florescu"}, "edited": false, "score": 0, "creation_date": 1527162727, "post_id": 50496991, "comment_id": 88029224, "body": "OMG, you&#39;re right, this is strange..."}, {"owner": {"reputation": 78, "user_id": 2389591, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f138c8efb4247587b10206a833cf6b14?s=128&d=identicon&r=PG", "display_name": "Tom Danvers", "link": "https://stackoverflow.com/users/2389591/tom-danvers"}, "edited": false, "score": 0, "creation_date": 1532529064, "post_id": 50496991, "comment_id": 90011743, "body": "Did you ever find a fix for this John!?"}], "answers": [{"comments": [{"owner": {"reputation": 601, "user_id": 2199283, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RDHxp.jpg?s=128&g=1", "display_name": "User007", "link": "https://stackoverflow.com/users/2199283/user007"}, "edited": false, "score": 0, "creation_date": 1566110262, "post_id": 52635347, "comment_id": 101548156, "body": "you need to bind preventDefault to two events:  touchmove &amp;&amp; touchforcechange.  <a href=\"https://bugs.webkit.org/show_bug.cgi?id=163207\" rel=\"nofollow noreferrer\">bugs.webkit.org/show_bug.cgi?id=163207</a>"}], "tags": [], "owner": {"reputation": 31, "user_id": 2656903, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb480ce2c9901ebbf00ab57eae303f74?s=128&d=identicon&r=PG", "display_name": "xBau", "link": "https://stackoverflow.com/users/2656903/xbau"}, "is_accepted": false, "score": 1, "last_activity_date": 1538599222, "creation_date": 1538599222, "answer_id": 52635347, "question_id": 50496991, "link": "https://stackoverflow.com/questions/50496991/prevent-web-page-touch-scrolling-on-safari-in-ios-11-devices/52635347#52635347", "title": "Prevent Web Page Touch/ Scrolling on Safari in iOS 11 Devices", "body": "<p>Similar question but with plain javascript is answered at <a href=\"https://stackoverflow.com/a/49582193\">https://stackoverflow.com/a/49582193</a></p>\n\n<pre><code>document.addEventListener('touchmove', function(e) {\n    e.preventDefault();\n}, { passive: false });\n</code></pre>\n"}], "owner": {"reputation": 2225, "user_id": 1043706, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/LU3tp.jpg?s=128&g=1", "display_name": "John the Painter", "link": "https://stackoverflow.com/users/1043706/john-the-painter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1235, "favorite_count": 0, "closed_date": 1538657345, "answer_count": 1, "score": 4, "last_activity_date": 1538599222, "creation_date": 1527107376, "last_edit_date": 1527147831, "question_id": 50496991, "link": "https://stackoverflow.com/questions/50496991/prevent-web-page-touch-scrolling-on-safari-in-ios-11-devices", "closed_reason": "Duplicate", "title": "Prevent Web Page Touch/ Scrolling on Safari in iOS 11 Devices", "body": "<p>I used to use the following code to prevent web page from scrolling on touch devices (specifically tested on iOS).</p>\n\n<pre><code>disableScroll = false;\n$(document).on('touchmove',function(e) {\n    if (disableScroll) {\n        e.preventDefault();\n    }\n});\n</code></pre>\n\n<p>However since iOS 11 this no longer works. Using iOS Simulator I can go back and test on iOS 9 and iOS 10 and it works fine but no longer on iOS11. Can anyone suggest an alternative solution?</p>\n\n<p>For example, testing this similar functionality on iOS 9/10 works but doesn't on iOS 11. <a href=\"https://benfrain.com/preventing-body-scroll-for-modals-in-ios/\" rel=\"nofollow noreferrer\">https://benfrain.com/preventing-body-scroll-for-modals-in-ios/</a></p>\n"}, {"tags": ["javascript", "css", "html"], "comments": [{"owner": {"reputation": 147, "user_id": 9806702, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Mark Hollis", "link": "https://stackoverflow.com/users/9806702/mark-hollis"}, "edited": false, "score": 0, "creation_date": 1527108142, "post_id": 50496983, "comment_id": 88007089, "body": "This is not a duplicate of that. The question this person is asking is how to change the default text field, that question was asking how to change the format of the date."}, {"owner": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "edited": false, "score": 0, "creation_date": 1527108914, "post_id": 50496983, "comment_id": 88007480, "body": "Fair enough. See: <a href=\"https://stackoverflow.com/questions/18146350/how-do-i-simulate-placeholder-functionality-on-input-date-field\">How do I simulate placeholder functionality on input date field?</a> and <a href=\"https://stackoverflow.com/questions/30961704/placeholder-for-input-type-date-html5\">placeholder for input type date html5</a>. In my opinion, changing the placeholder text for an input whose format can&#39;t be changed is likely to introduce confusion."}, {"owner": {"reputation": 1033, "user_id": 5261390, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ee60e0a2a2331094c351d33209ead4bc?s=128&d=identicon&r=PG", "display_name": "Ovidiu G", "link": "https://stackoverflow.com/users/5261390/ovidiu-g"}, "edited": false, "score": 0, "creation_date": 1527165326, "post_id": 50496983, "comment_id": 88031134, "body": "What I was asking was not to change the format of the date.. Just the text displayed there (the placeholder). Instead of saying mm/dd/yyyy I wanted to display month/day/year."}], "owner": {"reputation": 1033, "user_id": 5261390, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/ee60e0a2a2331094c351d33209ead4bc?s=128&d=identicon&r=PG", "display_name": "Ovidiu G", "link": "https://stackoverflow.com/users/5261390/ovidiu-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "closed_date": 1527107981, "answer_count": 0, "score": 0, "last_activity_date": 1527107360, "creation_date": 1527107360, "question_id": 50496983, "link": "https://stackoverflow.com/questions/50496983/change-text-displayed-in-date-input", "closed_reason": "Duplicate", "title": "Change text displayed in date input", "body": "<p>Is there any way to change the default text that is displayed in a <code>&lt;input type=\"date\"&gt;</code> field?</p>\n\n<p>Instead of mm/dd/yyyy, let's say I want to display month/day/year.</p>\n"}, {"tags": ["javascript", "angular", "ionic-framework", "ionic2", "promise"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9836972, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6922c57275371e13ae1e3334de17dbc4?s=128&d=identicon&r=PG&f=1", "display_name": "Alexander Yorke", "link": "https://stackoverflow.com/users/9836972/alexander-yorke"}, "is_accepted": false, "score": 0, "last_activity_date": 1527107764, "creation_date": 1527107764, "answer_id": 50497069, "question_id": 50496963, "link": "https://stackoverflow.com/questions/50496963/wait-response-for-http-get/50497069#50497069", "title": "Wait response for http.get()", "body": "<p>$http.get functions returns Promise, because .get() method sends async ajax request. To write response to your variable you need to do this:</p>\n\n<pre><code>login () {\n    var self = this;\n    this.http.get('/url/').then(response =&gt; {\n        self.usuario = response;\n        // It will write response from server to your variable when the \n        // request will be done\n    }).catch(error =&gt; /*Your error handler*/);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1129, "user_id": 8062101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/958686dc0efdc797db259f8a384bbac4?s=128&d=identicon&r=PG&f=1", "display_name": "Jun Kang", "link": "https://stackoverflow.com/users/8062101/jun-kang"}, "is_accepted": false, "score": 1, "last_activity_date": 1527108117, "last_edit_date": 1527108117, "creation_date": 1527107816, "answer_id": 50497086, "question_id": 50496963, "link": "https://stackoverflow.com/questions/50496963/wait-response-for-http-get/50497086#50497086", "title": "Wait response for http.get()", "body": "<p>In the code where you call the service, you need to subscribe to your observable, and do whatever you want to happen after the call inside the subscription.</p>\n\n<p>You also dont set <code>this.usuario = this.loginservice.get_usuario...</code> here. You're setting this.usario to equal the <code>Observable</code>, not the response of the <code>Observable</code>.</p>\n\n<pre><code>login() \n{\n  this.loginservice.get_usuario(this.loginusuario).subscribe(response =&gt; {\n    this.usuario = response;\n    console.log(this.usuario);\n  });\n}\n</code></pre>\n\n<blockquote>\n  <p>That way, the first time I click the button that triggers the login () function, I get the undefined value in response. The second time I click, it returns the value of the previous request.</p>\n</blockquote>\n\n<p>This happens because you're doing <code>console.log</code> without waiting for the subscription to finish. The second time you click, it returns the value of the previous request, because for the same reason, it's not waiting for the subscription to complete because <code>console.log</code> is not in the subscription, but by the time you click it a second time, the first request did finish. Therefore, <code>this.loginusuario</code> was set AFTER the first <code>console.log</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 1949, "user_id": 6651984, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BM3Ui.jpg?s=128&g=1", "display_name": "Abel Valdez", "link": "https://stackoverflow.com/users/6651984/abel-valdez"}, "is_accepted": true, "score": 1, "last_activity_date": 1527107879, "creation_date": 1527107879, "answer_id": 50497103, "question_id": 50496963, "link": "https://stackoverflow.com/questions/50496963/wait-response-for-http-get/50497103#50497103", "title": "Wait response for http.get()", "body": "<p>Use <code>async</code> in the the function and <code>await</code> in the call promise </p>\n\n<pre><code>async login() \n  {\n    await this.usuario = this.loginservice.get_usuario(this.loginusuario);\n    console.log(this.usuario);\n  }\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 9836846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d239c7a472c7f40757d5f35d3f7835c3?s=128&d=identicon&r=PG&f=1", "display_name": "Guilherme M", "link": "https://stackoverflow.com/users/9836846/guilherme-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4209, "favorite_count": 0, "accepted_answer_id": 50497103, "answer_count": 3, "score": 1, "last_activity_date": 1527108117, "creation_date": 1527107285, "last_edit_date": 1527107336, "question_id": 50496963, "link": "https://stackoverflow.com/questions/50496963/wait-response-for-http-get", "title": "Wait response for http.get()", "body": "<p>I'm trying to make a login function in using angular and ionic 2. This function will  verify if the user are cadastred at the database through a php server and return an user id.But http.get() works in asynchronous form, so i can't compare if the user exist's on database because the return of function is undefined. I tryed two ways, using observable and promises:</p>\n\n<blockquote>\n  <p>With observable, function that calls the service:</p>\n</blockquote>\n\n<pre><code>login() \n  {\n    this.usuario = this.loginservice.get_usuario(this.loginusuario).subscribe(response =&gt;this.usuario = response);\n    console.log(this.usuario);\n  }\n</code></pre>\n\n<blockquote>\n  <p>Service code:</p>\n</blockquote>\n\n<pre><code>public get_usuario(usuario):Observable&lt;any&gt;\n  {\n      return this.http.get(this.urlusuario +\"/\"+ usuario.usuario +\"/\"+ \n   usuario.senha); \n  }\n</code></pre>\n\n<p>That way, the first time I click the button that triggers the login () function, I get the undefined value in response. The second time I click, it returns the value of the previous request.</p>\n\n<blockquote>\n  <p>Using promise, function that calls the service:</p>\n</blockquote>\n\n<pre><code>login() \n  {\n    this.usuario = this.loginservice.get_usuario(this.loginusuario);\n    console.log(this.usuario);\n  }\n</code></pre>\n\n<blockquote>\n  <p>service code:</p>\n</blockquote>\n\n<pre><code>public get_usuario(usuario):Promise&lt;any&gt;\n  {\n    var resultado;\n      return this.http.get(this.urlusuario +\"/\"+ usuario.usuario +\"/\"+ usuario.senha).toPromise().then(function(data){\n         return  data; \n      });\n  }\n</code></pre>\n\n<p>Using promise I get the id return on the first execution of the login function, however I could not find any way to access the __zone_symbol__value which is where the object is stored according to the <code>console.log()</code>\n<a href=\"https://i.stack.imgur.com/WLBK7.png\" rel=\"nofollow noreferrer\">console response</a></p>\n\n<p>I want to know if there is a way to wait for the http.get () response to continue program execution (in case of using observable) or how do I access the object that is returned from the promise</p>\n"}, {"tags": ["javascript", "jquery", "angular", "jsplumb"], "comments": [{"owner": {"reputation": 691, "user_id": 6487395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0E3z0.png?s=128&g=1", "display_name": "sugarme", "link": "https://stackoverflow.com/users/6487395/sugarme"}, "edited": false, "score": 0, "creation_date": 1527114141, "post_id": 50496939, "comment_id": 88009454, "body": "I guess the issue is you use Angular to create your (component) view which is inserted and supposed to be managed by Angular but unexpectedly removed by your other JavaScript library that Angular is not aware of. Have you tried to <code>detach&#47;remove</code> your view using Angular way? something like <code>this.cardContainer.detach()</code> to remove your dynamic component then do whatever you need with jsPlumb? Would be helpful if you could share (html/ts) how/where your dynamic component is implemented."}, {"owner": {"reputation": 151, "user_id": 3516951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6f73c6fd054c82e8354010f8b74a4b4e?s=128&d=identicon&r=PG&f=1", "display_name": "yazz", "link": "https://stackoverflow.com/users/3516951/yazz"}, "reply_to_user": {"reputation": 691, "user_id": 6487395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0E3z0.png?s=128&g=1", "display_name": "sugarme", "link": "https://stackoverflow.com/users/6487395/sugarme"}, "edited": false, "score": 0, "creation_date": 1527116155, "post_id": 50496939, "comment_id": 88009972, "body": "Thanks for the reply. I tried remove(). That resulted in a conflict since whichever&#39;s remove happens second, complains that the element has already been removed. But detached solved the problem. I did something like this.cardContainer.detach(this.cardContainer.indexOf(card.co&zwnj;&#8203;mponentRef)); Please post your reply as an answer and I will mark the question answered."}, {"owner": {"reputation": 691, "user_id": 6487395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0E3z0.png?s=128&g=1", "display_name": "sugarme", "link": "https://stackoverflow.com/users/6487395/sugarme"}, "edited": false, "score": 0, "creation_date": 1527119365, "post_id": 50496939, "comment_id": 88010780, "body": "Thanks. Just added the minimal solution."}], "answers": [{"tags": [], "owner": {"reputation": 691, "user_id": 6487395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0E3z0.png?s=128&g=1", "display_name": "sugarme", "link": "https://stackoverflow.com/users/6487395/sugarme"}, "is_accepted": true, "score": 0, "last_activity_date": 1527119338, "creation_date": 1527119338, "answer_id": 50498991, "question_id": 50496939, "link": "https://stackoverflow.com/questions/50496939/removing-dynamic-component-from-jquery-messes-up-the-viewcontainerref-container/50498991#50498991", "title": "Removing dynamic component from jQuery messes up the ViewContainerRef container", "body": "<p>As mention in the above comment. One way to manipulate DOM element created by Angular in Angular way is using <code>detach()</code> method of ViewContainerRef class. Something like this: </p>\n\n<pre><code>@ViewChild(\"containerNode\", { read: ViewContainerRef }) cardContainer: ViewContainerRef;\n\n...\n\n// To remove/detach component in Angular way\nthis.cardContainer.detach();\n</code></pre>\n"}], "owner": {"reputation": 151, "user_id": 3516951, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/6f73c6fd054c82e8354010f8b74a4b4e?s=128&d=identicon&r=PG&f=1", "display_name": "yazz", "link": "https://stackoverflow.com/users/3516951/yazz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 50498991, "answer_count": 1, "score": 0, "last_activity_date": 1527119338, "creation_date": 1527107193, "question_id": 50496939, "link": "https://stackoverflow.com/questions/50496939/removing-dynamic-component-from-jquery-messes-up-the-viewcontainerref-container", "title": "Removing dynamic component from jQuery messes up the ViewContainerRef container", "body": "<p>I have an angular 2+ app in which I am creating a bunch of dynamic components like so - </p>\n\n<pre><code>@ViewChild(\"containerNode\", { read: ViewContainerRef }) cardContainer;\n\nconst factory = this.ComponentFactoryResolver.resolveComponentFactory(CardComponent);\nconst ref = this.cardContainer.createComponent(factory);\n</code></pre>\n\n<p>I'm using jsPlumb (jQuery version) with which I am drawing these created components on to a canvas. Once these elements are part of the jsPlumb instance, jsPlumb provides options to remove the elements, add endpoints, etc.</p>\n\n<p>Now, on a user (click) event, I am removing the element the user clicked on, like so - </p>\n\n<pre><code>this.jsPlumbInstance.remove(ref.location.nativeElement);\n</code></pre>\n\n<p>Internally I assume this is just a jQuery remove. The problem I am facing is, after I remove this element using the above code, I'm not able to add any new components using the ViewContainerRef. After this line has executed, when I do this</p>\n\n<pre><code>const factory = this.ComponentFactoryResolver.resolveComponentFactory(CardComponent);\nconst ref = this.cardContainer.createComponent(factory);\n</code></pre>\n\n<p>the ref.location.nativeElement's parent nodes are null. I suspect that removing a component using the jQuery remove is somehow messing up the container and does not add new components properly to the parent. Note, I HAVE TO do a jsPlumb.remove as there are several other related events that will be fired internally by jsPlumb which must all execute when a component is removed from it (like all edges connected to it should also be removed, etc.)</p>\n\n<p>Does anyone know what is happening here and how it can be fixed? Any help is appreciated.</p>\n"}, {"tags": ["javascript", "typescript", "webpack", "vue.js"], "comments": [{"owner": {"reputation": 26792, "user_id": 734040, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/p1dqF.jpg?s=128&g=1", "display_name": "Decade Moon", "link": "https://stackoverflow.com/users/734040/decade-moon"}, "edited": false, "score": 0, "creation_date": 1527121268, "post_id": 50496851, "comment_id": 88011161, "body": "You aren&#39;t defining <code>__VERSION2__</code> in development hence the error? Only <code>__VERSION3__</code> is defined."}, {"owner": {"reputation": 909, "user_id": 4169986, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de7b4fd703e1c1cc819daf4c0fdac1ce?s=128&d=identicon&r=PG&f=1", "display_name": "Jef Patat", "link": "https://stackoverflow.com/users/4169986/jef-patat"}, "reply_to_user": {"reputation": 26792, "user_id": 734040, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/p1dqF.jpg?s=128&g=1", "display_name": "Decade Moon", "link": "https://stackoverflow.com/users/734040/decade-moon"}, "edited": false, "score": 0, "creation_date": 1527144605, "post_id": 50496851, "comment_id": 88017772, "body": "Sorry for the confusion. I made an error in the question and corrected it. Basically I can&#39;t get anything to work that is only defined in the conditional part."}], "answers": [{"tags": [], "owner": {"reputation": 909, "user_id": 4169986, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de7b4fd703e1c1cc819daf4c0fdac1ce?s=128&d=identicon&r=PG&f=1", "display_name": "Jef Patat", "link": "https://stackoverflow.com/users/4169986/jef-patat"}, "is_accepted": false, "score": 0, "last_activity_date": 1527149892, "creation_date": 1527149892, "answer_id": 50504326, "question_id": 50496851, "link": "https://stackoverflow.com/questions/50496851/dynamically-add-global-constant-in-webpack/50504326#50504326", "title": "Dynamically add global constant in webpack", "body": "<p>After a lot of searching and fiddling I found out the issue is not related to webpack at all. Thanks to <a href=\"http://jonnyreeves.co.uk/2016/simple-webpack-prod-and-dev-config/\" rel=\"nofollow noreferrer\">this article</a> I added a <code>console.log(process.env.NODE_ENV);</code> just in front the if/else if at the bottom and that put out <code>undefined</code>. The environment variable is not set and as such neither of the conditional statements get's executed. This is actually a problem with the vue.js typescript template.</p>\n\n<p>Changing the script in package.json like this fixed my issues:</p>\n\n<pre><code>  \"scripts\": {\n    \"build\": \"SET NODE_ENV=development&amp;&amp; webpack\",\n    \"test\": \"echo \\\"Error: no test specified\\\" &amp;&amp; exit 1\"\n  },\n</code></pre>\n"}], "owner": {"reputation": 909, "user_id": 4169986, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/de7b4fd703e1c1cc819daf4c0fdac1ce?s=128&d=identicon&r=PG&f=1", "display_name": "Jef Patat", "link": "https://stackoverflow.com/users/4169986/jef-patat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1111, "favorite_count": 1, "answer_count": 1, "score": 9, "last_activity_date": 1527149892, "creation_date": 1527106885, "last_edit_date": 1527144523, "question_id": 50496851, "link": "https://stackoverflow.com/questions/50496851/dynamically-add-global-constant-in-webpack", "title": "Dynamically add global constant in webpack", "body": "<p>I'm trying to add a global constant to my project. For this I use <code>webpack.DefinePlugin</code>. This works if I add one in the module.exports. I fail to do this conditionally however. In the config below I'm able to use the <code>__VERSION__</code> constant in my module after declaring it like so: <code>declare var __VERSION__: string;</code>. If I try to use <code>__VERSION2__</code> or <code>__VERSION3__</code> I get an error in the console <code>ReferenceError: __VERSION3__ is not defined</code>. If my understanding is correct this should have been replaced. Does this mean that the conditional part is not executed or not executed correctly? How can I debug this? Or even better, how can I fix this?</p>\n\n<p>Note: the intention is to switch a url based on development or production build.</p>\n\n<p>The current project can be found <a href=\"https://github.com/JefPatat/SteemMakers/blob/master/website/webpack.config.js\" rel=\"nofollow noreferrer\">here on github</a></p>\n\n<p>webpack.config.js:</p>\n\n<pre><code>// Based on https://github.com/microsoft/typescript-vue-starter#adding-webpack\n\nvar path = require('path')\nvar webpack = require('webpack')\n\nmodule.exports = {\n    mode: 'development',\n  entry: './src/ts/main.ts',\n  output: {\n    path: path.resolve(__dirname, './dist'),\n    publicPath: '/dist/',\n    filename: 'build.js'\n  },\n  module: {\n    rules: [\n      {\n        test: /\\.vue$/,\n        loader: 'vue-loader',\n        options: {\n          loaders: {\n            // Since sass-loader (weirdly) has SCSS as its default parse mode, we map\n            // the \"scss\" and \"sass\" values for the lang attribute to the right configs here.\n            // other preprocessors should work out of the box, no loader config like this necessary.\n            'scss': 'vue-style-loader!css-loader!sass-loader',\n            'sass': 'vue-style-loader!css-loader!sass-loader?indentedSyntax',\n          }\n          // other vue-loader options go here\n        }\n      },\n      {\n        test: /\\.tsx?$/,\n        loader: 'ts-loader',\n        exclude: /node_modules/,\n        options: {\n          appendTsSuffixTo: [/\\.vue$/],\n        }\n      },\n      {\n        test: /\\.(png|jpg|gif|svg)$/,\n        loader: 'file-loader',\n        options: {\n          name: '[name].[ext]?[hash]'\n        }\n      },\n      {\n        test: /\\.css$/,\n        use: ['style-loader', 'css-loader']\n        }\n    ]\n  },\n  resolve: {\n    extensions: ['.ts', '.js', '.vue', '.json'],\n    alias: {\n      'vue$': 'vue/dist/vue.esm.js'\n    }\n  },\n  plugins: [ \n    new webpack.DefinePlugin({\n        __VERSION__: JSON.stringify('1.0.0.' + Date.now())\n    })],\n  devServer: {\n    historyApiFallback: true,\n    noInfo: true\n  },\n  performance: {\n    hints: false\n  },\n  devtool: 'source-map'\n}\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports.devtool = 'source-map'\n  // http://vue-loader.vuejs.org/en/workflow/production.html\n  module.exports.plugins = (module.exports.plugins || []).concat([\n    new webpack.DefinePlugin({\n      'process.env': {\n        NODE_ENV: '\"production\"'\n      }\n    }),\n    new webpack.DefinePlugin({\n        __IN_DEBUG__: JSON.stringify(false),\n        __VERSION2__: JSON.stringify('1.0.0.' + Date.now())\n    }),\n    new webpack.optimize.UglifyJsPlugin({\n      sourceMap: true,\n      compress: {\n        warnings: false\n      }\n    }),\n    new webpack.LoaderOptionsPlugin({\n      minimize: true\n    })\n  ])\n}\nelse if(process.env.NODE_ENV === 'development')\n{\n    module.exports.plugins.push(\n        new webpack.DefinePlugin({\n            __VERSION3__: JSON.stringify('1.0.0.' + Date.now())\n        }));\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 8200, "user_id": 459750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d103e3b370aa5cca6f52d312d55769b?s=128&d=identicon&r=PG", "display_name": "J. Titus", "link": "https://stackoverflow.com/users/459750/j-titus"}, "edited": false, "score": 0, "creation_date": 1527106842, "post_id": 50496818, "comment_id": 88006430, "body": "Use an <code>if</code> statement?"}, {"owner": {"reputation": 5560, "user_id": 544779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/bc1Ok.jpg?s=128&g=1", "display_name": "M&#246;rre", "link": "https://stackoverflow.com/users/544779/m%c3%b6rre"}, "edited": false, "score": 0, "creation_date": 1527106878, "post_id": 50496818, "comment_id": 88006444, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\"><code>Array.prototype.filter()</code> (link: MDN)</a> - e.g. <code>const myFilteredArray = myArray.filter(Boolean)</code> (don&#39;t necessarily use <code>Boolean</code> like I show but provide an actual comparison, even though that works filtering out &quot;falsy&quot; values)"}, {"owner": {"reputation": 469137, "user_id": 476, "user_type": "moderator", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/a235706e3d81b614acaec3368edfea4b?s=128&d=identicon&r=PG", "display_name": "deceze", "link": "https://stackoverflow.com/users/476/deceze"}, "edited": false, "score": 0, "creation_date": 1527106891, "post_id": 50496818, "comment_id": 88006454, "body": "Can it be other <i>falsey</i> values, or specifically <code>undefined</code>?"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1527106907, "post_id": 50496818, "comment_id": 88006465, "body": "With <code>Array.filter()</code> instead of <code>Array.map()</code>?"}, {"owner": {"reputation": 305, "user_id": 9273148, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/04b81b581c2f76b5ef4c87adacb3c485?s=128&d=identicon&r=PG&f=1", "display_name": "Tanvi Jaywant", "link": "https://stackoverflow.com/users/9273148/tanvi-jaywant"}, "edited": false, "score": 0, "creation_date": 1527106973, "post_id": 50496818, "comment_id": 88006494, "body": "not existing in the map, so i assume undefined"}], "answers": [{"tags": [], "owner": {"reputation": 436, "user_id": 9836549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7644fbf4189d45cc7b1903e976b48a8?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Con", "link": "https://stackoverflow.com/users/9836549/tom-con"}, "is_accepted": false, "score": 10, "last_activity_date": 1527107021, "creation_date": 1527107021, "answer_id": 50496882, "question_id": 50496818, "link": "https://stackoverflow.com/questions/50496818/how-to-filter-undefined-value-in-javascript-arrays/50496882#50496882", "title": "How to filter undefined value in javascript arrays?", "body": "<p>Sounds like you want <code>.filter</code>. It's a higher order function like <code>.map</code>.</p>\n\n<pre><code>const values = dataSku\n    .filter(item =&gt; item.description !== undefined)\n</code></pre>\n\n<p>I'm not sure your exact data structure but <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"noreferrer\">check it out here</a>! It filters out all non-truthy return values.</p>\n"}, {"tags": [], "owner": {"reputation": 1297, "user_id": 4041534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qW8je.jpg?s=128&g=1", "display_name": "Vivek", "link": "https://stackoverflow.com/users/4041534/vivek"}, "is_accepted": false, "score": 3, "last_activity_date": 1527107068, "creation_date": 1527107068, "answer_id": 50496901, "question_id": 50496818, "link": "https://stackoverflow.com/questions/50496818/how-to-filter-undefined-value-in-javascript-arrays/50496901#50496901", "title": "How to filter undefined value in javascript arrays?", "body": "<p>This will solve your problem -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const values = dataSku.map(sku =&gt; map.skuInfo[sku]}).filter(skuInfo =&gt; typeof skuInfo !== \"undefined\").map(skuInfo =&gt; skuInfo.description);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 29, "user_id": 7250087, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3ZNbua6JBYU/AAAAAAAAAAI/AAAAAAAAAgg/VTZLbmiw6fA/photo.jpg?sz=128", "display_name": "Zach Minner", "link": "https://stackoverflow.com/users/7250087/zach-minner"}, "is_accepted": false, "score": 2, "last_activity_date": 1527107528, "last_edit_date": 1527107528, "creation_date": 1527107120, "answer_id": 50496918, "question_id": 50496818, "link": "https://stackoverflow.com/questions/50496818/how-to-filter-undefined-value-in-javascript-arrays/50496918#50496918", "title": "How to filter undefined value in javascript arrays?", "body": "<p>Can be done like this:</p>\n\n<pre><code>const values = dataSku.map(sku =&gt; {\n    if (!map.skuInfo[sku]) return;\n    return map.skuInfo[sku].description\n})\n</code></pre>\n\n<p>Will return out of the function if <code>map.skuInfo[sku]</code> is falsey.</p>\n"}], "owner": {"reputation": 305, "user_id": 9273148, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/04b81b581c2f76b5ef4c87adacb3c485?s=128&d=identicon&r=PG&f=1", "display_name": "Tanvi Jaywant", "link": "https://stackoverflow.com/users/9273148/tanvi-jaywant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8411, "favorite_count": 0, "answer_count": 3, "score": 6, "last_activity_date": 1527107528, "creation_date": 1527106714, "question_id": 50496818, "link": "https://stackoverflow.com/questions/50496818/how-to-filter-undefined-value-in-javascript-arrays", "title": "How to filter undefined value in javascript arrays?", "body": "<p><code>const values = dataSku.map(sku =&gt; {return map.skuInfo[sku].description})</code></p>\n\n<p>Here, there is some posibility that map.skuInfo[sku] can be null/undefined and I need to filter it. How would it be possible ?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 11799, "user_id": 754119, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NEeio.jpg?s=128&g=1", "display_name": "Alon Eitan", "link": "https://stackoverflow.com/users/754119/alon-eitan"}, "edited": false, "score": 0, "creation_date": 1527106754, "post_id": 50496786, "comment_id": 88006392, "body": "Please include the HTML structure"}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1527106754, "post_id": 50496786, "comment_id": 88006393, "body": "Please show relevant html and expected results as per <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"}, {"owner": {"reputation": 8200, "user_id": 459750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d103e3b370aa5cca6f52d312d55769b?s=128&d=identicon&r=PG", "display_name": "J. Titus", "link": "https://stackoverflow.com/users/459750/j-titus"}, "edited": false, "score": 0, "creation_date": 1527106778, "post_id": 50496786, "comment_id": 88006399, "body": "You should definitely be using CSS media queries for this instead of JavaScript."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 2, "creation_date": 1527106869, "post_id": 50496786, "comment_id": 88006442, "body": "well &quot;.sar--first&quot; is not looking just in the element you are in.... hint hint"}, {"owner": {"reputation": 20731, "user_id": 2181514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pS2Yo.jpg?s=128&g=1", "display_name": "freedomn-m", "link": "https://stackoverflow.com/users/2181514/freedomn-m"}, "edited": false, "score": 0, "creation_date": 1527108690, "post_id": 50496786, "comment_id": 88007367, "body": "You don&#39;t need to <code>.remove().clone()</code> to <code>.insertBefore()</code> just make the call and jquery will <i>move</i> the item for you, here&#39;s a mini fiddle to demonstrate:  <a href=\"https://jsfiddle.net/tk6wz5hs/\" rel=\"nofollow noreferrer\">jsfiddle.net/tk6wz5hs</a>  (issue with <code>.class</code> selecting all the same elements aside ofc)"}, {"owner": {"reputation": 2705, "user_id": 3146958, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002564225231/picture?type=large", "display_name": "KidBilly", "link": "https://stackoverflow.com/users/3146958/kidbilly"}, "edited": false, "score": 0, "creation_date": 1527187478, "post_id": 50496786, "comment_id": 88044805, "body": "I&#39;ll never understand why some questions are voted closed.."}], "answers": [{"comments": [{"owner": {"reputation": 3141, "user_id": 2468549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b87d95c561b24d120cbfb5a1c5c9867?s=128&d=identicon&r=PG", "display_name": "Frax", "link": "https://stackoverflow.com/users/2468549/frax"}, "edited": false, "score": 1, "creation_date": 1527108594, "post_id": 50497232, "comment_id": 88007323, "body": "You don&#39;t need explicit detach, just insertBefore. It will be the same."}], "tags": [], "owner": {"reputation": 26889, "user_id": 369792, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fdc806d0a8834e57b2d9309849dea8cd?s=128&d=identicon&r=PG", "display_name": "Jason Goemaat", "link": "https://stackoverflow.com/users/369792/jason-goemaat"}, "is_accepted": false, "score": 0, "last_activity_date": 1527108610, "last_edit_date": 1527108610, "creation_date": 1527108478, "answer_id": 50497232, "question_id": 50496786, "link": "https://stackoverflow.com/questions/50496786/jquery-each-parent-element-remove-and-clone-child-el/50497232#50497232", "title": "Jquery - Each parent element, remove and clone child el", "body": "<p>When you call <code>.insertBefore(\".sar--first\")</code>, it is finding <em>all</em> those elements and inserting before each one.  I think you can accomplish what you want by looking for the parent to restrict your search for the element to insert before.  Also you don't need to use <a href=\"https://api.jquery.com/clone/\" rel=\"nofollow noreferrer\"><code>clone()</code></a>, <a href=\"https://api.jquery.com/remove/\" rel=\"nofollow noreferrer\"><code>remove()</code></a> returns the removed element.  In fact you might want to use <a href=\"https://api.jquery.com/detach/\" rel=\"nofollow noreferrer\"><code>detach()</code></a> to keep any event handlers and data associated with those elements if you're just rearranging them.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.p3').each(function() {\r\n  var ele = $(this);\r\n  var sib = ele.parent().find('.p1');\r\n  var det = ele.detach();\r\n  det.insertBefore(sib);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div&gt;\r\n&lt;p class=\"p1\"&gt;p1&lt;/p&gt;\r\n&lt;p class=\"p2\"&gt;p2&lt;/p&gt;\r\n&lt;p class=\"p3\"&gt;p3&lt;/p&gt;\r\n&lt;/div&gt;\r\n&lt;h3&gt;Second Set&lt;/h3&gt;\r\n&lt;div&gt;\r\n&lt;p class=\"p1\"&gt;p1&lt;/p&gt;\r\n&lt;p class=\"p2\"&gt;p2&lt;/p&gt;\r\n&lt;p class=\"p3\"&gt;p3&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 118, "user_id": 2258595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d73270d59fba9ebcfa72d2f555bfc459?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/2258595/simon"}, "edited": false, "score": 0, "creation_date": 1527175289, "post_id": 50497286, "comment_id": 88038260, "body": "Thanks @CrazyPaste This did the job!"}], "tags": [], "owner": {"reputation": 2705, "user_id": 3146958, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002564225231/picture?type=large", "display_name": "KidBilly", "link": "https://stackoverflow.com/users/3146958/kidbilly"}, "is_accepted": true, "score": 1, "last_activity_date": 1527108750, "creation_date": 1527108750, "answer_id": 50497286, "question_id": 50496786, "link": "https://stackoverflow.com/questions/50496786/jquery-each-parent-element-remove-and-clone-child-el/50497286#50497286", "title": "Jquery - Each parent element, remove and clone child el", "body": "<p>You're very close.  But you don't need to use the remove or clone functions.  Here's a simple working example:  </p>\n\n<pre><code>$(document).ready(function() {\n  if ($(window).width() &lt;= 1000) {\n    $(\".sar--img-right-first\").each(function() {\n        $(this).find('.sar--second').insertBefore($(this).find('.sar--first'));\n    });\n  }\n});\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/Le36x1qw/1/\" rel=\"nofollow noreferrer\">Working fiddle</a></p>\n"}, {"tags": [], "owner": {"reputation": 166, "user_id": 3925951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3AGvt.jpg?s=128&g=1", "display_name": "Varlain Systems", "link": "https://stackoverflow.com/users/3925951/varlain-systems"}, "is_accepted": false, "score": 0, "last_activity_date": 1527109350, "creation_date": 1527109350, "answer_id": 50497414, "question_id": 50496786, "link": "https://stackoverflow.com/questions/50496786/jquery-each-parent-element-remove-and-clone-child-el/50497414#50497414", "title": "Jquery - Each parent element, remove and clone child el", "body": "<p>It looks like you really just want to swap divs when Window size is less than 1000.  Try this code:</p>\n\n<pre><code>jQuery(document).ready(function () {\n\n    if (jQuery(window).width() &lt;= 1000) {\n        jQuery(\".sar--second\").each(function () {\n            var previousSibling = jQuery(this).prev();\n            jQuery(this).prev().remove();\n            jQuery(this).append(previousSibling);                    \n        });\n    }            \n});\n</code></pre>\n"}], "owner": {"reputation": 118, "user_id": 2258595, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/d73270d59fba9ebcfa72d2f555bfc459?s=128&d=identicon&r=PG", "display_name": "Simon", "link": "https://stackoverflow.com/users/2258595/simon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "closed_date": 1527149171, "accepted_answer_id": 50497286, "answer_count": 3, "score": 1, "last_activity_date": 1527109350, "creation_date": 1527106592, "last_edit_date": 1527107213, "question_id": 50496786, "link": "https://stackoverflow.com/questions/50496786/jquery-each-parent-element-remove-and-clone-child-el", "closed_reason": "Not suitable for this site", "title": "Jquery - Each parent element, remove and clone child el", "body": "<p>It's sort of working, I just get the element I'm cloning more than once.</p>\n\n<p>When the browser hits mobile size, I want my JS to switch elements around, like this.</p>\n\n<p><strong>From:</strong><br /></p>\n\n<pre><code>&lt;div class=\"sar--img-right-first\"&gt;\n   &lt;div class=\"sar--first\"&gt;text&lt;/div&gt;\n   &lt;div class=\"sar--second\"&gt;img&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"\"&gt;\n   &lt;div class=\"\"&gt;img&lt;/div&gt;\n   &lt;div class=\"\"&gt;text&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"sar--img-right-first\"&gt;\n   &lt;div class=\"sar--first\"&gt;text&lt;/div&gt;\n   &lt;div class=\"sar--second\"&gt;img&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>To:</strong><br /></p>\n\n<pre><code>&lt;div class=\"sar--img-right-first\"&gt;\n       &lt;div class=\"sar--second\"&gt;img&lt;/div&gt;\n       &lt;div class=\"sar--first\"&gt;text&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"\"&gt;\n       &lt;div class=\"\"&gt;img&lt;/div&gt;\n       &lt;div class=\"\"&gt;text&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"sar--img-right-first\"&gt;\n       &lt;div class=\"sar--second\"&gt;img&lt;/div&gt;\n       &lt;div class=\"sar--first\"&gt;text&lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p><strong>But currently it gives me:</strong><br /></p>\n\n<pre><code>&lt;div class=\"sar--img-right-first\"&gt;\n   &lt;div class=\"sar--second\"&gt;img&lt;/div&gt;\n   &lt;div class=\"sar--second\"&gt;img&lt;/div&gt;\n   &lt;div class=\"sar--second\"&gt;img&lt;/div&gt;\n   &lt;div class=\"sar--first\"&gt;text&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"\"&gt;\n   &lt;div class=\"\"&gt;img&lt;/div&gt;\n   &lt;div class=\"\"&gt;text&lt;/div&gt;\n&lt;/div&gt;\n&lt;div class=\"sar--img-right-first\"&gt;\n   &lt;div class=\"sar--second\"&gt;img&lt;/div&gt;\n   &lt;div class=\"sar--second\"&gt;img&lt;/div&gt;\n   &lt;div class=\"sar--first\"&gt;text&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>My code:</strong></p>\n\n<pre><code>    jQuery(document).ready(function() {\n        if(jQuery(window).width() &lt;= 1000) {\n\n            jQuery( \".sar--img-right-first\").each(function() {\n               var thiz = jQuery(this);\n\n               thiz.find(\".sar--second\").remove().clone().insertBefore(\".sar--first\"); \n             });\n\n        }\n    });\n</code></pre>\n\n<p><br /><br />Thanks in advance</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 1, "creation_date": 1527106909, "post_id": 50496782, "comment_id": 88006469, "body": "Because doing so alters what <code>this</code> inside the method is."}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1527107303, "post_id": 50496782, "comment_id": 88006694, "body": "Also <code>{this.restart()}</code> is invoking the function immediately and since there is no function returned will evaluate to <code>undefined</code>"}, {"owner": {"reputation": 211, "user_id": 9633315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5634d34cab256056922b9819a5c684c?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/9633315/eric"}, "edited": false, "score": 0, "creation_date": 1527107385, "post_id": 50496782, "comment_id": 88006740, "body": "What will this be? Originally it is pointing to the class itself so that we can retrieve restart() function from the class right?"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1527107460, "post_id": 50496782, "comment_id": 88006774, "body": "It still is, but if you then corrected it to <code>{this.restart}</code> so that it isn&#39;t called immediately and is instead called on click, it would be the clicked element."}, {"owner": {"reputation": 211, "user_id": 9633315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5634d34cab256056922b9819a5c684c?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/9633315/eric"}, "reply_to_user": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1527107594, "post_id": 50496782, "comment_id": 88006845, "body": "@charlietfl Can you tell me more about why it is called immediately so it is evaluated to undefined?"}], "answers": [{"comments": [{"owner": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "edited": false, "score": 1, "creation_date": 1527107770, "post_id": 50497036, "comment_id": 88006928, "body": "Nice and plain explanation. I was writing something as a comment on the question but that answer nailed it."}], "tags": [], "owner": {"reputation": 1729, "user_id": 3280904, "user_type": "registered", "accept_rate": 79, "profile_image": "https://graph.facebook.com/100000352659763/picture?type=large", "display_name": "Thiago Loddi", "link": "https://stackoverflow.com/users/3280904/thiago-loddi"}, "is_accepted": true, "score": 2, "last_activity_date": 1527107591, "creation_date": 1527107591, "answer_id": 50497036, "question_id": 50496782, "link": "https://stackoverflow.com/questions/50496782/why-we-omitting-a-callback-in-reactjs-will-result-in-not-working/50497036#50497036", "title": "Why we omitting a callback in ReactJs will result in not working?", "body": "<p>Looks like you are facing a <em>encapsulation</em> problem.</p>\n\n<p>The onClick listener takes a function as parameter so when you click the button that function is called. So when you write:</p>\n\n<pre><code>&lt;button onClick = {() =&gt; this.restart()}&gt;Restart&lt;/button&gt;\n</code></pre>\n\n<p>You are giving the button a function that, when called, calls you function <code>this.restart()</code>.</p>\n\n<p>When you write like this:</p>\n\n<pre><code>&lt;button onClick = {this.restart()}&gt;Restart&lt;/button&gt;\n</code></pre>\n\n<p>You are giving the button the return value of <code>this.restart()</code>. If that function doesn't return anything, this value will be <code>undefined</code>.</p>\n\n<p>So let's say your restart function only logs something:</p>\n\n<pre><code>restart() {\n  console.log(\"something\");\n}\n</code></pre>\n\n<p>In the first case, every time you click the button this function is executed and you can see the log. In the second case, that function is called when you render the component. So you would see that log only once, when the page renders, and if you click the button nothing would happen.</p>\n\n<p>To achieve what you are trying to do, you should write like:</p>\n\n<pre><code>&lt;button onClick = {this.restart}&gt;Restart&lt;/button&gt;\n</code></pre>\n\n<p>Because now you are not calling the function, you are just passing it to you onClick listener, and it will be called only when the button is clicked.</p>\n"}], "owner": {"reputation": 211, "user_id": 9633315, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5634d34cab256056922b9819a5c684c?s=128&d=identicon&r=PG&f=1", "display_name": "Eric", "link": "https://stackoverflow.com/users/9633315/eric"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 50497036, "answer_count": 1, "score": -1, "last_activity_date": 1527107704, "creation_date": 1527106579, "question_id": 50496782, "link": "https://stackoverflow.com/questions/50496782/why-we-omitting-a-callback-in-reactjs-will-result-in-not-working", "title": "Why we omitting a callback in ReactJs will result in not working?", "body": "<pre><code>    &lt;button onClick = { () =&gt; this.restart()}&gt;Restart&lt;/button&gt;\n</code></pre>\n\n<p>Inside one of a ReactJs tutorial, that page shows a game and it defines the restart button just like above.\nI am not sure why it doesn't work if I replace it with the following.</p>\n\n<pre><code>&lt;button onClick = {this.restart()}&gt;Restart&lt;/button&gt;\n</code></pre>\n\n<p>I feel like the above and the below are different only in the way that the above is a callback so that there will just be a small difference in the calling timing but it seems like there is more than that.</p>\n\n<p>Can someone tell me why is that?</p>\n\n<p>The whole code is at below.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Game extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    var cells = [];\r\n    for (let i = 0; i &lt; 6; i++) {\r\n      cells.push(new Array(7).fill(0));\r\n    }\r\n\r\n    this.state = {\r\n      player: false,\r\n      cells: cells,\r\n      winner: 0\r\n    }\r\n    this.handleClick = this.handleClick.bind(this)\r\n  }\r\n  checkDiagonal(row, col) {\r\n    //find right and left tops\r\n    var c = this.state.cells;\r\n    var val = this.state.player ? 2 : 1;\r\n    var rR = row;\r\n    var cR = col;\r\n    while (rR &lt; 5 &amp;&amp; cR &lt; 6) {\r\n      rR++;\r\n      cR++;\r\n    }\r\n\r\n    while (rR &gt;= 3 &amp;&amp; cR &gt;= 3) {\r\n      if (c[rR][cR] == val &amp;&amp; c[rR - 1][cR - 1] == val &amp;&amp; c[rR - 2][cR - 2] == val &amp;&amp; c[rR - 3][cR - 3] == val) {\r\n        return 1\r\n      }\r\n      rR--\r\n      cR--\r\n    }\r\n\r\n    var rL = row;\r\n    var cL = col;\r\n\r\n    while (rL &lt; 5 &amp;&amp; cL &gt; 0) {\r\n      rL++\r\n      cL--\r\n    }\r\n\r\n    while (rL &gt;= 3 &amp;&amp; cL &lt;= 3) {\r\n      if (c[rL][cL] == val &amp;&amp; c[rL - 1][cL + 1] == val &amp;&amp; c[rL - 2][cL + 2] == val &amp;&amp; c[rL - 3][cL + 3] == val) {\r\n        return 1\r\n      }\r\n      rL--\r\n      cL++\r\n    }\r\n    return 0\r\n  }\r\n  checkHorizontal(row, col) {\r\n    var c = this.state.cells;\r\n    var i = 6;\r\n    var val = this.state.player ? 2 : 1;\r\n\r\n    while (i &gt;= 3) {\r\n      if (c[row][i] == val &amp;&amp; c[row][i - 1] == val &amp;&amp; c[row][i - 2] == val &amp;&amp; c[row][i - 3] == val) {\r\n        return 1\r\n      }\r\n      i--\r\n    }\r\n    return 0\r\n  }\r\n  checkVertical(row, col) {\r\n    var c = this.state.cells;\r\n    var i = row;\r\n    var val = this.state.player ? 2 : 1;\r\n\r\n    if (i &gt;= 3) {\r\n      if (c[i][col] == val &amp;&amp; c[i - 1][col] == val &amp;&amp; c[i - 2][col] == val &amp;&amp; c[i - 3][col] == val) {\r\n        return 1\r\n      }\r\n    }\r\n    return 0\r\n\r\n  }\r\n  checkVictory(row, col) {\r\n    return this.checkVertical(row, col) || this.checkHorizontal(row, col) || this.checkDiagonal(row, col)\r\n\r\n\r\n  }\r\n\r\n  findAvailableRow(col) {\r\n\r\n\r\n    for (var i = 0; i &lt; 6; i++) {\r\n      console.log(i, col)\r\n      if (this.state.cells[i][col] == 0) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n  handleClick(row, col) {\r\n    if (this.state.winner)\r\n      return\r\n    console.log(\"row: \" + row + \" | col: \" + col)\r\n    //console.log(this.state.cells)\r\n    var temp = [];\r\n    for (let i = 0; i &lt; 6; i++) {\r\n      temp.push(this.state.cells[i].slice())\r\n    }\r\n    var newRow = this.findAvailableRow(col)\r\n    temp[newRow][col] = this.state.player ? 1 : 2\r\n    this.setState({\r\n      cells: temp,\r\n      player: !this.state.player\r\n    }, () =&gt; {\r\n\r\n\r\n      if (this.checkVictory(newRow, col) &gt; 0) {\r\n        console.log(\"win\")\r\n        this.setState({\r\n          winner: this.state.player ? 2 : 1\r\n        })\r\n      }\r\n\r\n\r\n    })\r\n  }\r\n  restart() {\r\n    var cells = [];\r\n    for (let i = 0; i &lt; 6; i++) {\r\n      cells.push(new Array(7).fill(0));\r\n    }\r\n    this.setState({\r\n      player: false,\r\n      cells: cells,\r\n      winner: 0\r\n    })\r\n  }\r\n  render() {\r\n    return ( &lt;\r\n      div &gt;\r\n      &lt;\r\n      h1 &gt; {\r\n        this.state.winner &gt; 0 ? this.state.winner == 1 ? \"Black Wins\" : \"Red Wins\" : this.state.player ? \"Blacks Turn\" : \"Reds Turn\"\r\n      } &lt; /h1&gt; &lt;\r\n      Board cells = {\r\n        this.state.cells\r\n      }\r\n      handleClick = {\r\n        this.handleClick\r\n      }\r\n      /&gt; &lt;\r\n      button onClick = {\r\n        () =&gt; this.restart()\r\n      } &gt; Restart &lt; /button&gt; &lt;\r\n      /div&gt;\r\n    )\r\n  }\r\n}\r\n\r\nfunction Board(props) {\r\n  var rows = []\r\n  for (let i = 5; i &gt;= 0; i--) {\r\n\r\n    rows.push( &lt; Row key = {\r\n        i\r\n      }\r\n      row = {\r\n        i\r\n      }\r\n      cells = {\r\n        props.cells[i]\r\n      }\r\n      handleClick = {\r\n        props.handleClick\r\n      }\r\n      /&gt;)\r\n    }\r\n    return ( &lt;\r\n      div &gt; {\r\n        rows\r\n      } &lt;\r\n      /div&gt;\r\n    )\r\n  }\r\n\r\n  function Row(props) {\r\n    var style = {\r\n      display: \"flex\"\r\n    }\r\n    var cells = []\r\n    for (let i = 0; i &lt; 7; i++) {\r\n      cells.push( &lt; Cell key = {\r\n          i\r\n        }\r\n        cell = {\r\n          props.cells[i]\r\n        }\r\n        row = {\r\n          props.row\r\n        }\r\n        col = {\r\n          i\r\n        }\r\n        handleClick = {\r\n          props.handleClick\r\n        }\r\n        /&gt;)\r\n      }\r\n      return ( &lt;\r\n        div style = {\r\n          style\r\n        } &gt; {\r\n          cells\r\n        } &lt;\r\n        /div&gt;\r\n      )\r\n    }\r\n\r\n    function Cell(props) {\r\n\r\n      var style = {\r\n        height: 50,\r\n        width: 50,\r\n        border: \"1px solid black\",\r\n        backgroundColor: \"yellow\"\r\n      }\r\n\r\n      return ( &lt;\r\n        div style = {\r\n          style\r\n        }\r\n        onClick = {\r\n          () =&gt; props.handleClick(props.row, props.col)\r\n        } &gt;\r\n        &lt;\r\n        Circle cell = {\r\n          props.cell\r\n        }\r\n        /&gt; &lt;\r\n        /div&gt;\r\n      )\r\n    }\r\n\r\n    function Circle(props) {\r\n      var color = \"white\"\r\n      if (props.cell == 1) {\r\n        color = \"black\"\r\n      } else if (props.cell == 2) {\r\n        color = \"red\"\r\n      }\r\n\r\n      var style = {\r\n        backgroundColor: color,\r\n        border: \"1px solid black\",\r\n        borderRadius: \"100%\",\r\n        paddingTop: \"98%\"\r\n      }\r\n      return ( &lt;\r\n        div style = {\r\n          style\r\n        } &gt; &lt; /div&gt;\r\n      )\r\n    }\r\n\r\n    ReactDOM.render( &lt;\r\n      Game / &gt; ,\r\n      document.getElementById('root')\r\n    );</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"root\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "forms", "reactjs", "input", "ecmascript-6"], "comments": [{"owner": {"reputation": 1208, "user_id": 7664140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TO0ny.jpg?s=128&g=1", "display_name": "Matt Pengelly", "link": "https://stackoverflow.com/users/7664140/matt-pengelly"}, "edited": false, "score": 0, "creation_date": 1527106165, "post_id": 50496624, "comment_id": 88006107, "body": "can you incliude the code for your form component?"}, {"owner": {"reputation": 490, "user_id": 6465846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0632eaa51175ca1c86e47ffcbb28e399?s=128&d=identicon&r=PG&f=1", "display_name": "Kit Isaev", "link": "https://stackoverflow.com/users/6465846/kit-isaev"}, "edited": false, "score": 0, "creation_date": 1527106412, "post_id": 50496624, "comment_id": 88006209, "body": "handleChange(e){         const {name, value} = e.target;         console.log(e.target);         this.setState(             {inputs: {...this.state.inputs, [name]: value}} //fix here         )     }"}, {"owner": {"reputation": 490, "user_id": 6465846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0632eaa51175ca1c86e47ffcbb28e399?s=128&d=identicon&r=PG&f=1", "display_name": "Kit Isaev", "link": "https://stackoverflow.com/users/6465846/kit-isaev"}, "edited": false, "score": 0, "creation_date": 1527106559, "post_id": 50496624, "comment_id": 88006278, "body": "You made a typo, your inputs state lives in state.inputs, you update state root instead"}], "answers": [{"tags": [], "owner": {"reputation": 436, "user_id": 9836549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7644fbf4189d45cc7b1903e976b48a8?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Con", "link": "https://stackoverflow.com/users/9836549/tom-con"}, "is_accepted": false, "score": 0, "last_activity_date": 1527106208, "creation_date": 1527106208, "answer_id": 50496700, "question_id": 50496624, "link": "https://stackoverflow.com/questions/50496624/why-are-my-form-inputs-not-taking-any-information/50496700#50496700", "title": "Why are my form inputs not taking any information?", "body": "<p>When you <code>setState</code> you are not going to the correct level when updating the Form model. You need to change it to this:</p>\n\n<pre><code>        this.setState(prevState =&gt; {\n        return{\n            data: [\n                ...prevState.data,\n                this.state.inputs\n            ],\n\n            inputs: {\n              firstName: \"\",\n              lastName: \"\",\n              email: \"\",\n              birth: \"\",\n              phone: \"\",\n              favFood: \"\",\n              bio: \"\"\n            }\n        }\n    })\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1486, "user_id": 5171417, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh4.googleusercontent.com/-fPSv8TETmqU/AAAAAAAAAAI/AAAAAAAALmc/UyOO6totRsk/photo.jpg?sz=128", "display_name": "John Samuel", "link": "https://stackoverflow.com/users/5171417/john-samuel"}, "is_accepted": false, "score": 0, "last_activity_date": 1527126481, "creation_date": 1527126481, "answer_id": 50499752, "question_id": 50496624, "link": "https://stackoverflow.com/questions/50496624/why-are-my-form-inputs-not-taking-any-information/50499752#50499752", "title": "Why are my form inputs not taking any information?", "body": "<pre><code>Your handleChange is not correct, you are setting value for each variable but you are referencing to it as object inside input ex, this.state.inputs.firstName\n\nlet inputs = Object.assign({}, this.state.inputs);    //create copy of object\ninputs.firstName = 'JohnDoe';                        //update value\nthis.setState({inputs});\n</code></pre>\n"}], "owner": {"reputation": 208, "user_id": 8277888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eb639ce03e63b2d25db6ba3914b71c9?s=128&d=identicon&r=PG&f=1", "display_name": "Christian Lopez", "link": "https://stackoverflow.com/users/8277888/christian-lopez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1527126481, "creation_date": 1527105899, "question_id": 50496624, "link": "https://stackoverflow.com/questions/50496624/why-are-my-form-inputs-not-taking-any-information", "title": "Why are my form inputs not taking any information?", "body": "<p>I am using React to create a form. When I am try typing in one of the forms nothing happens. In the React dev tools, the state of each input is only taking in one letter at a time. When I console.log e.target as I am typing it doesn't update the value of the input.</p>\n\n<p>I'm not sure what I am doing wrong. Any ideas?</p>\n\n<p>Here's my code:</p>\n\n<pre><code>import React, {Component} from \"react\";\nimport Form from \"./Form\";\nimport Badge from \"./Badge\";\n\nclass App extends Component {\n    constructor(){\n        super();\n\n        this.state = {\n            data: [],\n            inputs: {\n                firstName: \"\",\n                lastName: \"\",\n                email: \"\",\n                birth: \"\",\n                phone: \"\",\n                favFood: \"\",\n                bio: \"\"\n            }\n\n        }\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n\n    }\n\n    handleChange(e){\n        const {name, value} = e.target;\n        console.log(e.target);\n        this.setState({\n            [name]: value\n        })\n    }\n\n    handleSubmit(e){\n        e.preventDefault();\n        this.setState(prevState =&gt; {\n            return{\n                data: [\n                    ...prevState.data,\n                    this.state.inputs\n                ],\n\n                firstName: \"\",\n                lastName: \"\",\n                email: \"\",\n                birth: \"\",\n                phone: \"\",\n                favFood: \"\",\n                bio: \"\"\n            }\n        })\n    }\n\n    render(){\n        return(\n            &lt;div&gt;\n                &lt;Form inputChange={this.handleChange}\n                submitForm={this.handleSubmit} \n                fName={this.state.inputs.firstName} \n                lName={this.state.inputs.lastName} \n                email={this.state.inputs.email} \n                birth={this.state.inputs.birth} \n                phone={this.state.inputs.phone} \n                favFood={this.state.inputs.favFood} \n                bio={this.state.inputs.bio}/&gt;\n            &lt;/div&gt;\n        )\n    }  \n}\n\nexport default App;\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "answers": [{"comments": [{"owner": {"reputation": 8200, "user_id": 459750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d103e3b370aa5cca6f52d312d55769b?s=128&d=identicon&r=PG", "display_name": "J. Titus", "link": "https://stackoverflow.com/users/459750/j-titus"}, "edited": false, "score": 2, "creation_date": 1527106644, "post_id": 50496777, "comment_id": 88006320, "body": "<code>display: visible</code> is not valid. <code>display: block</code> and <code>visibility: visible</code> would work."}, {"owner": {"reputation": 25, "user_id": 9430053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36fab25e98e4ae290caa8fdc040ae32?s=128&d=identicon&r=PG", "display_name": "tmoflash", "link": "https://stackoverflow.com/users/9430053/tmoflash"}, "edited": false, "score": 0, "creation_date": 1527107248, "post_id": 50496777, "comment_id": 88006658, "body": "apologies as I may be a little slow at understanding. I added class=&quot;active&quot; to the id=&quot;hwork1&quot; I then added the JS - function fWork1() {     document.getElementById(&quot;fwork2&quot;).classList().add(&#39;active&#39;); } not understanding what fwork2 is used for in this instance. When I used display: block it wasn&#39;t physically visible, but was causing disruption as being there in the design. I did use visibility: visible and it seemed to be hidden, but again I could not get it visible on click."}, {"owner": {"reputation": 25, "user_id": 9430053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36fab25e98e4ae290caa8fdc040ae32?s=128&d=identicon&r=PG", "display_name": "tmoflash", "link": "https://stackoverflow.com/users/9430053/tmoflash"}, "edited": false, "score": 0, "creation_date": 1527108972, "post_id": 50496777, "comment_id": 88007515, "body": "I am still having no luck. hwork1 is still not showing up."}, {"owner": {"reputation": 85, "user_id": 4872172, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153572599935166/picture?type=large", "display_name": "Skylar Wuebker", "link": "https://stackoverflow.com/users/4872172/skylar-wuebker"}, "edited": false, "score": 0, "creation_date": 1527109998, "post_id": 50496777, "comment_id": 88008002, "body": "it looks like your <code>onclick=()</code> isn&#39;t working on your button. When add this script in your html file you should get what you want. also change you onclick function to active() and this will work: <code>&lt;script&gt; function active() { \tif(document.getElementById(&quot;hwork1&quot;).classList.contains(&#39;ac&zwnj;&#8203;tive&#39;)) {   \tdocument.getElementById(&quot;hwork1&quot;).classList.remove(&#39;active&#39;&zwnj;&#8203;);   } else {   \tdocument.getElementById(&quot;hwork1&quot;).classList.add(&#39;active&#39;);   }   } &lt;&#47;script&gt;</code>"}, {"owner": {"reputation": 25, "user_id": 9430053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36fab25e98e4ae290caa8fdc040ae32?s=128&d=identicon&r=PG", "display_name": "tmoflash", "link": "https://stackoverflow.com/users/9430053/tmoflash"}, "edited": false, "score": 0, "creation_date": 1527110937, "post_id": 50496777, "comment_id": 88008342, "body": "@SkylarWuebkerhow do I reverse it. It seems to work, but I need to reverse it back to display: none - hidden when another button is clicked."}, {"owner": {"reputation": 25, "user_id": 9430053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36fab25e98e4ae290caa8fdc040ae32?s=128&d=identicon&r=PG", "display_name": "tmoflash", "link": "https://stackoverflow.com/users/9430053/tmoflash"}, "edited": false, "score": 0, "creation_date": 1527111132, "post_id": 50496777, "comment_id": 88008413, "body": "I just figured it out, thanks everyone for your input. Learned me something today. :)"}], "tags": [], "owner": {"reputation": 85, "user_id": 4872172, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153572599935166/picture?type=large", "display_name": "Skylar Wuebker", "link": "https://stackoverflow.com/users/4872172/skylar-wuebker"}, "is_accepted": false, "score": 3, "last_activity_date": 1527106718, "last_edit_date": 1527106718, "creation_date": 1527106556, "answer_id": 50496777, "question_id": 50496621, "link": "https://stackoverflow.com/questions/50496621/javascript-override-css-display-none-visible-hidden/50496777#50496777", "title": "javascript override css display: none visible hidden", "body": "<p>The best way to handle this would be to add a class when you click on you element. your js would look like this:</p>\n\n<pre><code>function fWork1() {\n    document.getElementById(\"fwork2\").classList().add('active');\n}\n</code></pre>\n\n<p>and you CSS will look like this:</p>\n\n<pre><code>#hwork1 {\n    display: none;\n}\n\n#hwork1.active {\n    display: block;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 137, "user_id": 8493023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j6xDQ.jpg?s=128&g=1", "display_name": "SrgSprinkles", "link": "https://stackoverflow.com/users/8493023/srgsprinkles"}, "edited": false, "score": 0, "creation_date": 1527107111, "post_id": 50496852, "comment_id": 88006576, "body": "You made the visibility hidden when clicked, when it&#39;s already hidden from the css."}, {"owner": {"reputation": 1297, "user_id": 4041534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qW8je.jpg?s=128&g=1", "display_name": "Vivek", "link": "https://stackoverflow.com/users/4041534/vivek"}, "reply_to_user": {"reputation": 137, "user_id": 8493023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j6xDQ.jpg?s=128&g=1", "display_name": "SrgSprinkles", "link": "https://stackoverflow.com/users/8493023/srgsprinkles"}, "edited": false, "score": 0, "creation_date": 1527107382, "post_id": 50496852, "comment_id": 88006739, "body": "@SrgSprinkles removed unwanted css code, but still these will solve design messing up problem"}], "tags": [], "owner": {"reputation": 1297, "user_id": 4041534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qW8je.jpg?s=128&g=1", "display_name": "Vivek", "link": "https://stackoverflow.com/users/4041534/vivek"}, "is_accepted": false, "score": 0, "last_activity_date": 1527107308, "last_edit_date": 1527107308, "creation_date": 1527106888, "answer_id": 50496852, "question_id": 50496621, "link": "https://stackoverflow.com/questions/50496621/javascript-override-css-display-none-visible-hidden/50496852#50496852", "title": "javascript override css display: none visible hidden", "body": "<p>Change your code like this -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function hide() {\r\n  document.getElementById(\"fwork2\").style.visibility = \"\";\r\n  document.getElementById(\"fwork3\").style.visibility = \"\";\r\n  document.getElementById(\"fwork4\").style.visibility = \"\";\r\n  document.getElementById(\"hwork1\").style.visibility = \"\";\r\n}\r\n\r\nfunction show() {\r\n  document.getElementById(\"fwork1\").style.visibility = \"hidden\";\r\n  document.getElementById(\"fwork2\").style.visibility = \"hidden\";\r\n  document.getElementById(\"fwork3\").style.visibility = \"hidden\";\r\n  document.getElementById(\"fwork4\").style.visibility = \"hidden\";\r\n  document.getElementById(\"hwork1\").style.visibility = \"hidden\";\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 9430053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36fab25e98e4ae290caa8fdc040ae32?s=128&d=identicon&r=PG", "display_name": "tmoflash", "link": "https://stackoverflow.com/users/9430053/tmoflash"}, "edited": false, "score": 0, "creation_date": 1527109988, "post_id": 50497009, "comment_id": 88007997, "body": "it makes complete sense what you are saying, but basically that is what I am already doing. I can make the elements that I want hodden. I can even bring them back. My issue is that I have a hidden element in CSS I do not want to show using visibility: hidden;     display: none; - the element I want to show doesn&#39;t show when button is clicked. How do I override the display:none in js?"}, {"owner": {"reputation": 3923, "user_id": 4182029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jyFLA.png?s=128&g=1", "display_name": "Rob Monhemius", "link": "https://stackoverflow.com/users/4182029/rob-monhemius"}, "reply_to_user": {"reputation": 25, "user_id": 9430053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36fab25e98e4ae290caa8fdc040ae32?s=128&d=identicon&r=PG", "display_name": "tmoflash", "link": "https://stackoverflow.com/users/9430053/tmoflash"}, "edited": false, "score": 0, "creation_date": 1527111161, "post_id": 50497009, "comment_id": 88008424, "body": "@tmoflash You would have to set the <code>display</code> property to the value it should be ( usually <code>inline</code>, <code>block</code>, <code>inline-block</code>, but there are many more). Unfortunately you do have to know which one to use. ( Unless you can add the initial <code>display: none</code> in a class that is assigned to hidden elements. Then you can remove that class with JavaScript and get the default value again )"}], "tags": [], "owner": {"reputation": 3923, "user_id": 4182029, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/jyFLA.png?s=128&g=1", "display_name": "Rob Monhemius", "link": "https://stackoverflow.com/users/4182029/rob-monhemius"}, "is_accepted": false, "score": 0, "last_activity_date": 1527111398, "last_edit_date": 1527111398, "creation_date": 1527107440, "answer_id": 50497009, "question_id": 50496621, "link": "https://stackoverflow.com/questions/50496621/javascript-override-css-display-none-visible-hidden/50497009#50497009", "title": "javascript override css display: none visible hidden", "body": "<p>This is how you can change the visibility of an element with JavaScript. The current code changes the visibility property of some elements when the function is called / button is clicked. It should be fairly straightforward how to apply this in another context. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function hideFourAndShowSix(){\r\n  let four = document.getElementById('four');\r\n  let six = document.getElementById('six');\r\n  six.style.setProperty('visibility', 'visible');\r\n  six.style.setProperty('display', 'list-item');\r\n  four.style.setProperty('visibility', 'hidden');\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#six{\r\n  visibility: hidden;\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul&gt;\r\n  &lt;li&gt;One&lt;/li&gt;\r\n  &lt;li&gt;Two&lt;/li&gt;\r\n  &lt;li&gt;Three&lt;/li&gt;\r\n  &lt;li id=\"four\"&gt;Four&lt;/li&gt;\r\n  &lt;li&gt;Five&lt;/li&gt;\r\n  &lt;li id=\"six\"&gt;Six&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;button onclick=\"hideFourAndShowSix()\"&gt;Hide no. 4 and show no.6&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>PS: If you need extra explanation drop in a comment ;).</p>\n"}], "owner": {"reputation": 25, "user_id": 9430053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a36fab25e98e4ae290caa8fdc040ae32?s=128&d=identicon&r=PG", "display_name": "tmoflash", "link": "https://stackoverflow.com/users/9430053/tmoflash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2739, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1527111398, "creation_date": 1527105892, "last_edit_date": 1527107541, "question_id": 50496621, "link": "https://stackoverflow.com/questions/50496621/javascript-override-css-display-none-visible-hidden", "title": "javascript override css display: none visible hidden", "body": "<p>I have a CSS id that both hides visibility and displays: none. When I click the button I would like for it to display. However, the only way I am able to make it work is by removing the display:none. I do not want this because it is an invisible element causing design to be messed up.</p>\n\n<p>Ultimately the goal is to click button, make some elements disappear and some elements appear.</p>\n\n<p>Here is the HTML </p>\n\n<pre><code>&lt;div class=\"fwork1\" id=\"fwork1\"&gt;\n\n    &lt;a href=\"#portfolio\" onclick=\"fWork1()\"&gt;\n        &lt;img src=\"assets/img/portfolio/corinthmc/corinthmc_small.png\" alt=\"\"&gt; \n    &lt;/a&gt;\n\n&lt;/div&gt;\n\n&lt;div id=\"hwork1\"&gt;\n\n    &lt;p&gt;some text&lt;/p&gt;\n\n&lt;/div&gt;\n\n&lt;div id=\"fWorkReturn\"&gt;\n\n    &lt;button onclick=\"fWorkReturn()\"&gt;Click&lt;/button&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is the CSS  </p>\n\n<pre><code>#hwork1 {\n    visibility: hidden;\n    display: none;\n}\n</code></pre>\n\n<p>Here is the Javascript</p>\n\n<pre><code>function fWork1() {\n    document.getElementById(\"fwork2\").style.display = \"none\";\n    document.getElementById(\"fwork3\").style.display = \"none\";\n    document.getElementById(\"fwork4\").style.display = \"none\";\n    document.getElementById(\"hwork1\").style.display = \"block\"; \n}\n\nfunction fWorkReturn() {\n    document.getElementById(\"fwork1\").style.display = \"initial\";\n    document.getElementById(\"fwork2\").style.display = \"initial\";\n    document.getElementById(\"fwork3\").style.display = \"initial\";\n    document.getElementById(\"fwork4\").style.display = \"initial\";\n    document.getElementById(\"hwork1\").style.visibility = \"hidden\";\n}\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/vm5xejhm/\" rel=\"nofollow noreferrer\">JSFiddle</a></p>\n"}, {"tags": ["javascript", "php", "pdo"], "comments": [{"owner": {"reputation": 256, "user_id": 7955922, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rlgFH.png?s=128&g=1", "display_name": "Isaac Reason", "link": "https://stackoverflow.com/users/7955922/isaac-reason"}, "edited": false, "score": 0, "creation_date": 1527108748, "post_id": 50496614, "comment_id": 88007395, "body": "It will be much easier to configure the server so it will do it by itself. If you are using Apache the simple <code>.htaccess</code> file with <a href=\"https://httpd.apache.org/docs/current/mod/mod_rewrite.html\" rel=\"nofollow noreferrer\">mod_rewrite</a> should do the job."}], "owner": {"reputation": 19, "user_id": 9836762, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/847ea16efb5bcba3460de813f0d84a38?s=128&d=identicon&r=PG&f=1", "display_name": "J. Doe", "link": "https://stackoverflow.com/users/9836762/j-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1527105870, "creation_date": 1527105870, "question_id": 50496614, "link": "https://stackoverflow.com/questions/50496614/change-url-with-replacestate-and-load-to-same-site-and-no-changed-url", "title": "Change URL with replaceState() and load to same site and no changed url", "body": "<p>I change URL with window.history.replaceState(), but when I wanna refresh the page with replaced URL, the page doesn't exist (logic, I changed URL).</p>\n\n<p>Can I do, that user will see my changed page and when he refreshed the page (on changed url), it'll locate to the same page and no the new url page, that doesn't exist.</p>\n\n<p>Example:</p>\n\n<p>localhost/admin/index.php\n<br>-> user see -> localhost/ -> user refresh site\n<br>-> site itself will load to localhost/admin/index.php and no localhost</p>\n"}, {"tags": ["javascript", "powerbi-embedded"], "answers": [{"tags": [], "owner": {"reputation": 193, "user_id": 4667500, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/44d3c8664e9e815173afd075ead19c3a?s=128&d=identicon&r=PG&f=1", "display_name": "rschpdr", "link": "https://stackoverflow.com/users/4667500/rschpdr"}, "is_accepted": true, "score": 0, "last_activity_date": 1527171799, "creation_date": 1527171799, "answer_id": 50511780, "question_id": 50496608, "link": "https://stackoverflow.com/questions/50496608/powerbi-embedded-report-hangs-on-loading-when-rendered-by-javascript-api/50511780#50511780", "title": "PowerBI Embedded report hangs on loading when rendered by Javascript API", "body": "<p>My bad guys.</p>\n\n<p>The problem is that Firefox did not show the reason of the exception, but Chrome did. I should've tested in another browser before asking. With the exception text, I could track the problem to a typo in the <code>tokenType</code> parameter and it worked just fine.</p>\n"}], "owner": {"reputation": 193, "user_id": 4667500, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/44d3c8664e9e815173afd075ead19c3a?s=128&d=identicon&r=PG&f=1", "display_name": "rschpdr", "link": "https://stackoverflow.com/users/4667500/rschpdr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 792, "favorite_count": 0, "accepted_answer_id": 50511780, "answer_count": 1, "score": 0, "last_activity_date": 1527171799, "creation_date": 1527105835, "question_id": 50496608, "link": "https://stackoverflow.com/questions/50496608/powerbi-embedded-report-hangs-on-loading-when-rendered-by-javascript-api", "title": "PowerBI Embedded report hangs on loading when rendered by Javascript API", "body": "<p>I'm trying to embed a PowerBI report into my web app, that is running locally in my dev server, with the Javascript API. I know everything is working since I succesfully rendered the desired report in their <a href=\"https://microsoft.github.io/PowerBI-JavaScript/demo/v2-demo/index.html#\" rel=\"nofollow noreferrer\">Playground</a>, so it can't be a problem with the Embedded Server or Azure. In my console window there are multiple warnings and errors of external resources blocked by the same origin policy, and an <code>uncaught exception: [object Object]</code> error probably related to the PBI Javascript API that i can't decipher. The report just loads forever, displaying the animated PowerBI logo. Is anybody else experiencing this issue while trying to embed a report locally? Here's the code responsible for rendering:</p>\n\n<pre><code>var embedContainer = $(\"#container\");\nvar models = window.['powerbi-client'].models;\n\n    var config= {\n        type: 'report',\n        tokenType: models.TokenType.Embed,\n        accessToken: ginormous embed token,\n        embedUrl: https://app.powerbi.com/reportEmbed?reportId=ommited_for_privacy&amp;groupId=ommited_for_privacy,\n        id: the_report_id,\n        permissions: models.Permissions.All,\n        settings: {\n                filterPaneEnabled: true,\n                navContentPaneEnabled: true\n        }\n    };\n\n    // Embed the report and display it within the div container.\n    var report = powerbi.embed(embedContainer.get(0), config);\n\n    // Report.off removes a given event handler if it exists.\n    report.off(\"loaded\");\n\n    // Report.on will add an event handler which prints to Log window.\n    report.on(\"loaded\", function() {\n        Log.logText(\"Loaded\");\n    });\n\n    report.on(\"error\", function(event) {\n        Log.log(event.detail);\n\n        report.off(\"error\");\n    });\n\n    report.off(\"saved\");\n    report.on(\"saved\", function(event) {\n        Log.log(event.detail);\n        if(event.detail.saveAs) {\n                Log.logText('In order to interact with the new report, create a new token and load the new report');\n        }\n    });\n</code></pre>\n\n<p>Here are all the console errors:</p>\n\n<pre><code>uncaught exception: [object Object]\n\nCross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at https://dc.services.visualstudio.com/v2/track. (Reason: CORS request did not succeed).\n\nSource map error: request failed with status 404\nResource URL: http://localhost:3000/temp/scripts/App.js\n\nSource Map URL: powerbi.js.map\nSource map error: request failed with status 404\nResource URL: https://app.powerbi.com/13.0.5314.162/scripts/ai.0.js\n\nSource Map URL: ai.0.js.map\nSource map error: request failed with status 404\nResource URL: https://app.powerbi.com/13.0.5314.162/scripts/reportembed.externals.bundle.min.js\n\nSource Map URL: interact.min.js.map\n</code></pre>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 3623, "user_id": 1679286, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/68e12b1da713bc49ac140d8fdac4f518?s=128&d=identicon&r=PG", "display_name": "winner_joiner", "link": "https://stackoverflow.com/users/1679286/winner-joiner"}, "edited": false, "score": 0, "creation_date": 1527569197, "post_id": 50496578, "comment_id": 88162050, "body": "Did any of our solutions help you? Or are there some questions open?"}], "answers": [{"tags": [], "owner": {"reputation": 763, "user_id": 3746396, "user_type": "registered", "accept_rate": 66, "profile_image": "https://graph.facebook.com/1486200055/picture?type=large", "display_name": "FutoRicky", "link": "https://stackoverflow.com/users/3746396/futoricky"}, "is_accepted": false, "score": 0, "last_activity_date": 1527106076, "creation_date": 1527106076, "answer_id": 50496665, "question_id": 50496578, "link": "https://stackoverflow.com/questions/50496578/how-to-join-array-of-arrays-in-js-without-commas/50496665#50496665", "title": "How to join Array of Arrays in JS without commas", "body": "<p>you can replace the commas with an empty string using <code>.replace(/,/g, '');</code></p>\n\n<p>Do something like this:</p>\n\n<pre><code>var multiplicationTable = function(maxValue) {\n  var array = [];\n  var maxNum = maxValue**2;\n  y = 1;\n  var pad = (\"+--\" + \"-\".repeat(maxNum.toString().length - y.toString().length + 1)).repeat(maxValue) + \"\\+\\n\";\n  for (var i = 0; i &lt;= maxValue * 2; i++) {\n    if (i%2 != 0) {\n      array[i] = [];\n      for (var j = 0; j &lt; maxValue; j++) {\n        var n = ((j + 1) * (i + 1)) / 2;\n        if (j + 1 == maxValue) {\n          array[i].push(\"| \" + n.toString() + \" \".repeat((maxNum).toString().length - n.toString().length + 1) + \"|\\n\");\n        } else {\n          array[i].push(\"| \" + n.toString() + \" \".repeat((maxNum).toString().length - n.toString().length + 1));\n        }\n      };\n    } else {\n      array[i] = [pad];\n    }\n  }\n\n  var myTable = array.join(\" \");\n  return myTable.replace(/,/g, '');\n};\n\nconsole.log(multiplicationTable(5));\nconsole.log(multiplicationTable(10));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1860, "user_id": 1459423, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fd0e53937bb21b530e58148354866fa1?s=128&d=identicon&r=PG", "display_name": "patstuart", "link": "https://stackoverflow.com/users/1459423/patstuart"}, "is_accepted": false, "score": 3, "last_activity_date": 1527106280, "creation_date": 1527106280, "answer_id": 50496725, "question_id": 50496578, "link": "https://stackoverflow.com/questions/50496578/how-to-join-array-of-arrays-in-js-without-commas/50496725#50496725", "title": "How to join Array of Arrays in JS without commas", "body": "<p>The problem is that you're concatenating arrays instead of strings. Try converting it to a string and concatenating instead of appending to an array.</p>\n\n<pre><code>var multiplicationTable = function(maxValue) {\n  var array = [];\n  var maxNum = maxValue**2;\n  y = 1;\n  var pad = (\"+--\" + \"-\".repeat(maxNum.toString().length - y.toString().length + 1)).repeat(maxValue) + \"\\+\\n\";\n  for (var i = 0; i &lt;= maxValue * 2; i++) {\n    if (i%2 != 0) {\n      array[i] = \"\";\n      for (var j = 0; j &lt; maxValue; j++) {\n        var n = ((j + 1) * (i + 1)) / 2;\n        if (j + 1 == maxValue) {\n          array[i] += \"| \" + n.toString() + \" \".repeat((maxNum).toString().length - n.toString().length + 1) + \"|\\n\";\n        } else {\n          array[i] += \"| \" + n.toString() + \" \".repeat((maxNum).toString().length - n.toString().length + 1);\n        }\n      };\n    } else {\n      array[i] = [pad];\n    }\n  }\n  return array.join(\" \");\n};\n\nconsole.log(multiplicationTable(5));\nconsole.log(multiplicationTable(10));\n</code></pre>\n\n<p>Produces</p>\n\n<pre><code> +-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\n | 1   | 2   | 3   | 4   | 5   | 6   | 7   | 8   | 9   | 10  |\n +-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\n | 2   | 4   | 6   | 8   | 10  | 12  | 14  | 16  | 18  | 20  |\n +-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\n | 3   | 6   | 9   | 12  | 15  | 18  | 21  | 24  | 27  | 30  |\n +-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\n | 4   | 8   | 12  | 16  | 20  | 24  | 28  | 32  | 36  | 40  |\n +-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\n | 5   | 10  | 15  | 20  | 25  | 30  | 35  | 40  | 45  | 50  |\n +-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\n | 6   | 12  | 18  | 24  | 30  | 36  | 42  | 48  | 54  | 60  |\n +-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\n | 7   | 14  | 21  | 28  | 35  | 42  | 49  | 56  | 63  | 70  |\n +-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\n | 8   | 16  | 24  | 32  | 40  | 48  | 56  | 64  | 72  | 80  |\n +-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\n | 9   | 18  | 27  | 36  | 45  | 54  | 63  | 72  | 81  | 90  |\n +-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\n | 10  | 20  | 30  | 40  | 50  | 60  | 70  | 80  | 90  | 100 |\n +-----+-----+-----+-----+-----+-----+-----+-----+-----+-----+\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3623, "user_id": 1679286, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/68e12b1da713bc49ac140d8fdac4f518?s=128&d=identicon&r=PG", "display_name": "winner_joiner", "link": "https://stackoverflow.com/users/1679286/winner-joiner"}, "is_accepted": false, "score": 2, "last_activity_date": 1527146699, "last_edit_date": 1527146699, "creation_date": 1527106479, "answer_id": 50496762, "question_id": 50496578, "link": "https://stackoverflow.com/questions/50496578/how-to-join-array-of-arrays-in-js-without-commas/50496762#50496762", "title": "How to join Array of Arrays in JS without commas", "body": "<p>I would <em>\"join\"</em> the inner Array's and then the outer. If you don't want to change to much of your code.</p>\n\n<p>I just changed your <strong>return</strong> statement, of your function:</p>\n\n<pre><code> return array.map(i =&gt; i.join(\"\")).join(\"\");\n</code></pre>\n\n<p>The <strong>map</strong> function iterates through all elements and <em>\"converts\"</em> the <strong>array</strong>-Array into a <strong>string</strong>-Array, through the inline function, that calls the <strong>join</strong> function on each item.<br>\nFinally the <strong>string</strong>-Array will be joined, with the final <strong>join</strong> function.</p>\n\n<p><strong>Update:</strong><br>\nA <em>join</em> without the Space prevents the distorted output.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var multiplicationTable = function(maxValue) {\r\n  var array = [];\r\n  var maxNum = maxValue**2;\r\n  y = 1;\r\n  var pad = (\"+--\" + \"-\".repeat(maxNum.toString().length - y.toString().length + 1)).repeat(maxValue) + \"\\+\\n\";\r\n  for (var i = 0; i &lt;= maxValue * 2; i++) {\r\n    if (i%2 != 0) {\r\n      array[i] = [];\r\n      for (var j = 0; j &lt; maxValue; j++) {\r\n        var n = ((j + 1) * (i + 1)) / 2;\r\n        if (j + 1 == maxValue) {\r\n          array[i].push(\"| \" + n.toString() + \" \".repeat((maxNum).toString().length - n.toString().length + 1) + \"|\\n\");\r\n        } else {\r\n          array[i].push(\"| \" + n.toString() + \" \".repeat((maxNum).toString().length - n.toString().length + 1));\r\n        }\r\n      };\r\n    } else {\r\n      array[i] = [pad];\r\n    }\r\n  }\r\n  return array.map(i =&gt; i.join(\"\")).join(\"\");\r\n  \r\n};\r\n\r\nconsole.log(multiplicationTable(5));\r\nconsole.log(multiplicationTable(10));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8701049"}, "edited": false, "score": 0, "creation_date": 1527106995, "post_id": 50496765, "comment_id": 88006512, "body": "Exactly @Md Johirul Islam , so as to avoid the (implicit) second iteration, joining the nested array values"}], "tags": [], "owner": {"reputation": 4513, "user_id": 3416272, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/xL2ZJ.jpg?s=128&g=1", "display_name": "Md Johirul Islam", "link": "https://stackoverflow.com/users/3416272/md-johirul-islam"}, "is_accepted": false, "score": 1, "last_activity_date": 1527106488, "creation_date": 1527106488, "answer_id": 50496765, "question_id": 50496578, "link": "https://stackoverflow.com/questions/50496578/how-to-join-array-of-arrays-in-js-without-commas/50496765#50496765", "title": "How to join Array of Arrays in JS without commas", "body": "<p>Instead of doing <code>array[i].push(..)</code> do <code>array[i] += ..</code>. The first approach converts array into an array of arrays. So calling <code>array.join(' ')</code> doesn't work the way you expect.</p>\n\n<p>Working code is following. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var multiplicationTable = function(maxValue) {\r\n  var array = [];\r\n  var maxNum = maxValue**2;\r\n  y = 1;\r\n  var pad = (\"+--\" + \"-\".repeat(maxNum.toString().length - y.toString().length + 1)).repeat(maxValue) + \"\\+\\n\";\r\n  for (var i = 0; i &lt;= maxValue * 2; i++) {\r\n    if (i%2 != 0) {\r\n      array[i] = [];\r\n      for (var j = 0; j &lt; maxValue; j++) {\r\n        var n = ((j + 1) * (i + 1)) / 2;\r\n        if (j + 1 == maxValue) {\r\n          array[i]+=(\"| \" + n.toString() + \" \".repeat((maxNum).toString().length - n.toString().length + 1) + \"|\\n\");\r\n        } else {\r\n          array[i]+=(\"| \" + n.toString() + \" \".repeat((maxNum).toString().length - n.toString().length + 1));\r\n        }\r\n      };\r\n    } else {\r\n      array[i] = [pad];\r\n    }\r\n  }\r\n  return array.join('');\r\n};\r\n\r\nconsole.log(multiplicationTable(5));\r\nconsole.log(multiplicationTable(10));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user8701049"}, "is_accepted": false, "score": 0, "last_activity_date": 1527106903, "creation_date": 1527106903, "answer_id": 50496857, "question_id": 50496578, "link": "https://stackoverflow.com/questions/50496578/how-to-join-array-of-arrays-in-js-without-commas/50496857#50496857", "title": "How to join Array of Arrays in JS without commas", "body": "<p>Working fiddle <a href=\"https://jsfiddle.net/2097451n/6/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/2097451n/6/</a></p>\n\n<pre><code>var multiplicationTable = function(maxValue) {\n  var array = [];\n  var maxNum = maxValue*2;\n  y = 1;\n  var pad = (\"+--\" + \"-\".repeat(maxNum.toString().length - y.toString().length + 1)).repeat(maxValue) + \"\\+\\n\";\n  for (var i = 0; i &lt;= maxValue * 2; i++) {\n    if (i%2 != 0) {\n      array[i] = [];\n      for (var j = 0; j &lt; maxValue; j++) {\n        var n = ((j + 1) * (i + 1)) / 2;\n        if (j + 1 == maxValue) {\n          array[i].push(\"| \" + n.toString() + \" \".repeat((maxNum).toString().length - n.toString().length + 1) + \"|\\n\");\n        } else {\n          array[i].push(\"| \" + n.toString() + \" \".repeat((maxNum).toString().length - n.toString().length + 1));\n        }\n      };\n\n      // join nested array explicitly.\n      //\n      array[i] = array[i].join('')\n    } else {\n      array[i] = [pad];\n    }\n  }  \n  return array.join(\"\");\n};\n\nconsole.log(multiplicationTable(5));\nconsole.log(multiplicationTable(10));\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 7858510, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-oC4x-jYnBIY/AAAAAAAAAAI/AAAAAAAAARw/GbSLPG52D1c/photo.jpg?sz=128", "display_name": "Bardia Pourvakil", "link": "https://stackoverflow.com/users/7858510/bardia-pourvakil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 317, "favorite_count": 0, "answer_count": 5, "score": 2, "last_activity_date": 1527146699, "creation_date": 1527105743, "last_edit_date": 1527106726, "question_id": 50496578, "link": "https://stackoverflow.com/questions/50496578/how-to-join-array-of-arrays-in-js-without-commas", "title": "How to join Array of Arrays in JS without commas", "body": "<p>Trying to make a function that outputs a multiplication table given a maximum value.</p>\n\n<p>My issue is that I have an array of arrays I need to join into a string, and no matter what I try, I can't get rid of the darn commas between each inner array item, please help me!</p>\n\n<p>Here's my code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var multiplicationTable = function(maxValue) {\r\n  var array = [];\r\n  var maxNum = maxValue ** 2;\r\n  y = 1;\r\n  var pad = (\"+--\" + \"-\".repeat(maxNum.toString().length - y.toString().length + 1)).repeat(maxValue) + \"\\+\\n\";\r\n  for (var i = 0; i &lt;= maxValue * 2; i++) {\r\n    if (i % 2 != 0) {\r\n      array[i] = [];\r\n      for (var j = 0; j &lt; maxValue; j++) {\r\n        var n = ((j + 1) * (i + 1)) / 2;\r\n        if (j + 1 == maxValue) {\r\n          array[i].push(\"| \" + n.toString() + \" \".repeat((maxNum).toString().length - n.toString().length + 1) + \"|\\n\");\r\n        } else {\r\n          array[i].push(\"| \" + n.toString() + \" \".repeat((maxNum).toString().length - n.toString().length + 1));\r\n        }\r\n      };\r\n    } else {\r\n      array[i] = [pad];\r\n    }\r\n  }\r\n  return array.join(\" \");\r\n};\r\n\r\nconsole.log(multiplicationTable(5));\r\nconsole.log(multiplicationTable(10));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "ios", "events", "safari", "window.open"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1527105842, "post_id": 50496577, "comment_id": 88005951, "body": "pop up blocker is going to block them, that was blocked ages ago from spam."}, {"owner": {"reputation": 19, "user_id": 9836796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c310d0277539812e5c9a4a3f3bd3fb27?s=128&d=identicon&r=PG&f=1", "display_name": "Ovadia Shalom", "link": "https://stackoverflow.com/users/9836796/ovadia-shalom"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1527177620, "post_id": 50496577, "comment_id": 88039757, "body": "When popup blocker was turned off it use to work, but even now with it turned off, window.open is returning null."}, {"owner": {"reputation": 1109, "user_id": 2836278, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/47bb3a2acad8f674d19ea2a94879e918?s=128&d=identicon&r=PG", "display_name": "cesarpachon", "link": "https://stackoverflow.com/users/2836278/cesarpachon"}, "edited": false, "score": 0, "creation_date": 1601398416, "post_id": 50496577, "comment_id": 113393401, "body": "I am experiencing the same issue"}], "owner": {"reputation": 19, "user_id": 9836796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c310d0277539812e5c9a4a3f3bd3fb27?s=128&d=identicon&r=PG&f=1", "display_name": "Ovadia Shalom", "link": "https://stackoverflow.com/users/9836796/ovadia-shalom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 419, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1527105743, "creation_date": 1527105743, "question_id": 50496577, "link": "https://stackoverflow.com/questions/50496577/window-open-returns-null-on-ios-safari-events-pagehide-unload-and-beforeunload", "title": "window.open returns null on iOS safari events: pagehide, unload and beforeunload", "body": "<p>I'm trying to get a popup window to fire when a user navigates away from the current URL. </p>\n\n<p>window.open seems to return null on safari iOS only, every other browser (desktop and mobile) seems to work fine given that a popup blocker isn't active.\n Is this a known issue? If so are there any work arounds to getting a popup window on either the <code>pagehide</code>, <code>unload</code> or <code>beforeunload</code> event?</p>\n\n<pre><code>window.addEventListener('pagehide', function () {\n    // window.open(\"https://www.google.com\", \"_blank\", \"toolbar=yes,scrollbars=yes,resizable=yes,top=500,left=500,width=400,height=400\");\n    var myWindow = window.open(\"\", \"\");\n    myWindow.document.body.innerHTML = \"pagehide\";\n});\nwindow.addEventListener('unload', function () {\n    // window.open(\"https://www.google.com\", \"_blank\", \"toolbar=yes,scrollbars=yes,resizable=yes,top=500,left=500,width=400,height=400\");\n    var myWindow = window.open(\"\", \"\");\n    myWindow.document.body.innerHTML = \"unload\";\n});\nwindow.addEventListener('beforeunload', function () {\n    // window.open(\"https://www.google.com\", \"_blank\", \"toolbar=yes,scrollbars=yes,resizable=yes,top=500,left=500,width=400,height=400\");\n    var myWindow = window.open(\"\", \"\");\n    myWindow.document.body.innerHTML = \"beforeunload\";\n});\n</code></pre>\n\n<p>I created a simple fiddle here:\n<a href=\"https://jsfiddle.net/ovidubs/2cdas6vj/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/ovidubs/2cdas6vj/</a></p>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net"], "answers": [{"comments": [{"owner": {"reputation": 1839, "user_id": 1159579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d5ea4039a269fefcf7f8bab37984d78?s=128&d=identicon&r=PG", "display_name": "Steve Coleman", "link": "https://stackoverflow.com/users/1159579/steve-coleman"}, "edited": false, "score": 0, "creation_date": 1527106631, "post_id": 50496671, "comment_id": 88006315, "body": "I owe you a beer :-)"}, {"owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "reply_to_user": {"reputation": 1839, "user_id": 1159579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d5ea4039a269fefcf7f8bab37984d78?s=128&d=identicon&r=PG", "display_name": "Steve Coleman", "link": "https://stackoverflow.com/users/1159579/steve-coleman"}, "edited": false, "score": 0, "creation_date": 1527107164, "post_id": 50496671, "comment_id": 88006603, "body": "I would love a cold one!"}], "tags": [], "owner": {"reputation": 32138, "user_id": 5836671, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ikeOt.jpg?s=128&g=1", "display_name": "VDWWD", "link": "https://stackoverflow.com/users/5836671/vdwwd"}, "is_accepted": true, "score": 2, "last_activity_date": 1527106114, "creation_date": 1527106114, "answer_id": 50496671, "question_id": 50496548, "link": "https://stackoverflow.com/questions/50496548/hide-div-after-treeview-loads-and-its-in-an-updatepanel/50496671#50496671", "title": "Hide Div after treeview loads and its in an updatepanel", "body": "<p>If you use an UpdatePanel you need to hide the loading div after Partial PostBack. You can use the <code>PageRequestManager</code> for that.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var manager = Sys.WebForms.PageRequestManager.getInstance();\n\n    manager.add_endRequest(function () {\n        var loadDIV = document.getElementById(\"loadDIV\");\n        loadDIV.style.visibility = \"hidden\"; \n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Or use a ScriptManager in code behind to call a javascript function.</p>\n\n<pre><code>ScriptManager.RegisterStartupScript(Page, Page.GetType(), \"hideDiv\", \"hideLoadingDiv();\", true);\n</code></pre>\n"}], "owner": {"reputation": 1839, "user_id": 1159579, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9d5ea4039a269fefcf7f8bab37984d78?s=128&d=identicon&r=PG", "display_name": "Steve Coleman", "link": "https://stackoverflow.com/users/1159579/steve-coleman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 50496671, "answer_count": 1, "score": 1, "last_activity_date": 1527114063, "creation_date": 1527105617, "last_edit_date": 1527114063, "question_id": 50496548, "link": "https://stackoverflow.com/questions/50496548/hide-div-after-treeview-loads-and-its-in-an-updatepanel", "title": "Hide Div after treeview loads and its in an updatepanel", "body": "<p>This control is on the master page in an update panel and is loaded after user interaction (click). The div containing the \"loading\" text does not hide. I want to hide it after the control is fully rendered.</p>\n\n<pre><code>&lt;%@ Control Language=\"C#\" AutoEventWireup=\"true\" CodeBehind=\"HierarchicalViewNonXML.ascx.cs\" EnableViewState =\"true\" Inherits=\"Website.UserControls.HierarchicalViewNonXML\" %&gt;\n&lt;%@ Register Assembly=\"Telerik.Web.UI\" Namespace=\"Telerik.Web.UI\" TagPrefix=\"telerik\" %&gt;\n&lt;div id=\"loadDIV\" class=\"loading\" &gt;Loading  ****   &lt;/div&gt; \n&lt;div id=\"treeDIV\"&gt;&lt;telerik:RadTreeView ID=\"RadTreeView1\" runat=\"server\" Height=\"100%\" CssClass=\"noScroll\" CausesValidation=\"false\" EnableViewState=\"true\"  OnNodeClick=\"RadTreeView1_NodeClick\" OnNodeDataBound=\"RadTreeView1_NodeDataBound\" &gt;&lt;/telerik:RadTreeView&gt;&lt;/div&gt; \n\n&lt;style type=\"text/css\"&gt;\n    .loading {\n        color: black;\n        font-weight: bold;\n    }\n&lt;/style&gt;\n&lt;script type=\"text/javascript\"&gt;\n    //$(document).ready(function() {\n    //    $('#loadDIV').delay(30000).hide();\n    //});\n    $(document).load(function () {\n        var loadDIV = document.getElementById(\"loadDIV\");   \n        loadDIV.style.visibility = \"hidden\"; \n    });\n    //$(\"#loadDIV\").hide();\n&lt;/script&gt;  \n</code></pre>\n"}, {"tags": ["javascript", "emacs", "evil-mode", "js2-mode"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 8231827, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PfvNY4b-HS4/AAAAAAAAAAI/AAAAAAAAIgY/R-tw0fv9BHo/photo.jpg?sz=128", "display_name": "gi4c0", "link": "https://stackoverflow.com/users/8231827/gi4c0"}, "is_accepted": true, "score": 1, "last_activity_date": 1527227827, "creation_date": 1527227827, "answer_id": 50522425, "question_id": 50496536, "link": "https://stackoverflow.com/questions/50496536/go-to-definition-emacs-evil-with-xref-js2/50522425#50522425", "title": "Go to definition emacs evil with xref-js2", "body": "<p>I find out that evil mode has build in solution for this. It works with <code>C-]</code></p>\n"}], "owner": {"reputation": 31, "user_id": 8231827, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-PfvNY4b-HS4/AAAAAAAAAAI/AAAAAAAAIgY/R-tw0fv9BHo/photo.jpg?sz=128", "display_name": "gi4c0", "link": "https://stackoverflow.com/users/8231827/gi4c0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 226, "favorite_count": 0, "accepted_answer_id": 50522425, "answer_count": 1, "score": 0, "last_activity_date": 1527227827, "creation_date": 1527105553, "question_id": 50496536, "link": "https://stackoverflow.com/questions/50496536/go-to-definition-emacs-evil-with-xref-js2", "title": "Go to definition emacs evil with xref-js2", "body": "<p>I'm trying to switch to emacs from vim. I've installed js2-mode, xref-js2 and evil of course. And when I try to go to definition with <code>M-.</code> I get the message: \"Previous command was not evil repeat:...\" and previous command. So is there any way (work around) to get this work?\nP.S It works just fine in emacs mode.</p>\n"}, {"tags": ["javascript", "angularjs", "angularjs-directive"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 3253349, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000171498514/picture?type=large", "display_name": "joao.olivio", "link": "https://stackoverflow.com/users/3253349/joao-olivio"}, "edited": false, "score": 0, "creation_date": 1527127551, "post_id": 50496601, "comment_id": 88012468, "body": "Thanks @georgeawg, is this transclude function always necessary? I made some test with one level bind (root to child) and it was working fine.. anyway, thanks again!"}, {"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "reply_to_user": {"reputation": 13, "user_id": 3253349, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000171498514/picture?type=large", "display_name": "joao.olivio", "link": "https://stackoverflow.com/users/3253349/joao-olivio"}, "edited": false, "score": 0, "creation_date": 1527136714, "post_id": 50496601, "comment_id": 88014584, "body": "You are mistaken that one level bind worked just fine. If you set the binding name to something different than the attribute name, you will see that it is not working. Normally content inside an element binds to the parent scope. Directives such as <code>ng-if</code>, <code>ng-include</code>, <code>ng-repeat</code>, etc. transclude their contents."}], "tags": [], "owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "is_accepted": true, "score": 1, "last_activity_date": 1527111580, "last_edit_date": 1527111580, "creation_date": 1527105812, "answer_id": 50496601, "question_id": 50496518, "link": "https://stackoverflow.com/questions/50496518/angularjs-directive-content-not-linked-to-isolate-scope/50496601#50496601", "title": "Angularjs Directive content not linked to isolate scope", "body": "<p>The directives need to transclude the contents and attach it to the element in the linking function:</p>\n\n<pre><code>    transclude: true,\n    link: function (scope, elem, attrs, ctrl, transcludeFn) {\n      transcludeFn(scope, function(clone) {\n        elem.append(clone);\n      });\n</code></pre>\n\n<h1><a href=\"http://plnkr.co/edit/Eyp61VnO8SD8qUez0GTH?p=preview\" rel=\"nofollow noreferrer\">The DEMO</a></h1>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myApp = angular.module('myApp',[]);\r\n\r\n//myApp.directive('myDirective', function() {});\r\n//myApp.factory('myService', function() {});\r\n\r\nmyApp.controller('root', function ($scope) {\r\n    vm = this;\r\n    vm.value = 'Joe Doe';\r\n});\r\n\r\nmyApp.directive('child', function () {\r\nreturn {\r\n    restrict: 'A',\r\n    scope: {\r\n      paramOne: '=paramOne'\r\n    },\r\n    transclude: true,\r\n    link: function (scope, elem, attrs, ctrl, transcludeFn) {\r\n      transcludeFn(scope, function(clone) {\r\n        elem.append(clone);\r\n      });\r\n\r\n      console.log('Child value: ', scope.paramOne);\r\n    }\r\n  }\r\n});\r\n\r\nmyApp.directive('grandchild', function () {\r\nreturn {\r\n    restrict: 'A',\r\n    scope: {\r\n      paramTwo: '=paramTwo'\r\n    },\r\n    transclude: true,\r\n    link: function (scope, elem, attrs, ctrl, transcludeFn) {\r\n      transcludeFn(scope, function(clone) {\r\n        elem.append(clone);\r\n      });\r\n\r\n      console.log('Grandchild value: ', scope.paramTwo);\r\n    }\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//unpkg.com/angular/angular.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div ng-app=\"myApp\" ng-controller=\"root as vm\"&gt;\r\n  Field Value: &lt;strong&gt;{{vm.value}}&lt;/strong&gt;\r\n  &lt;hr&gt;\r\n  &lt;div child param-one=\"vm.value\"&gt;\r\n    Child param value: {{paramOne}}    \r\n    &lt;div grandchild param-two=\"paramOne\"&gt;\r\n      Granchild param value: {{paramTwo}} &lt;br&gt;\r\n      &lt;input type=\"text\" ng-model=\"paramTwo\" &gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 3253349, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000171498514/picture?type=large", "display_name": "joao.olivio", "link": "https://stackoverflow.com/users/3253349/joao-olivio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 50496601, "answer_count": 1, "score": 1, "last_activity_date": 1527111580, "creation_date": 1527105464, "last_edit_date": 1527109263, "question_id": 50496518, "link": "https://stackoverflow.com/questions/50496518/angularjs-directive-content-not-linked-to-isolate-scope", "title": "Angularjs Directive content not linked to isolate scope", "body": "<p>I'm working with directives and my objective is to bind the value to my grandchild component and update the parent element, but this code doesn't bubble up to the root.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myApp = angular.module('myApp',[]);\r\n\r\n//myApp.directive('myDirective', function() {});\r\n//myApp.factory('myService', function() {});\r\n\r\nmyApp.controller('root', function ($scope) {\r\n  vm = this;\r\n\tvm.value = 'Joe Doe';\r\n});\r\n\r\nmyApp.directive('child', function () {\r\n\treturn {\r\n  \trestrict: 'A',\r\n    scope: {\r\n      paramOne: '=paramOne'\r\n    },\r\n    link: function (scope, elm, attrs) {\r\n      console.log('Child value: ', scope.paramOne);\r\n    }\r\n  }\r\n});\r\n\r\nmyApp.directive('grandchild', function () {\r\n\treturn {\r\n  \trestrict: 'A',\r\n    scope: {\r\n      paramTwo: '=paramTwo'\r\n    },\r\n    link: function (scope, elm, attrs) {\r\n      console.log('Grandchild value: ', scope.paramTwo);\r\n    }\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//unpkg.com/angular/angular.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div ng-app=\"myApp\" ng-controller=\"root as vm\"&gt;\r\n  Field Value: &lt;strong&gt;{{vm.value}}&lt;/strong&gt;\r\n  &lt;hr&gt;\r\n  &lt;div child param-one=\"vm.value\"&gt;\r\n    Child param value: {{paramOne}}    \r\n    &lt;div grandchild param-two=\"paramOne\"&gt;\r\n      Granchild param value: {{paramTwo}} &lt;br&gt;\r\n      &lt;input type=\"text\" ng-model=\"paramTwo\" &gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I've made some research but didn't found any solution for this case.\nI would appreciate any given help :)</p>\n"}, {"tags": ["javascript", "while-loop", "timeout"], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 0, "last_activity_date": 1527107651, "last_edit_date": 1527107651, "creation_date": 1527106256, "answer_id": 50496719, "question_id": 50496496, "link": "https://stackoverflow.com/questions/50496496/function-returns-correctly-but-times-out-in-while-loop-even-though-condition-ev/50496719#50496719", "title": "Function returns correctly, but times out in while loop even though condition eventually becomes false", "body": "<p>Basically the katas rely on speed, that means it is better not to use the array methods, like <code>reduce</code> or array mutating functions like <code>shift</code>.</p>\n\n<p>The speed (694 ms) comes from a simple <code>for</code> loop.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function beggars(values, n) {\r\n  var result = Array.from({ length: n }).fill(0), // prefill array with zero\r\n      i, l;\r\n\r\n    for (i = 0, l = values.length; i &lt; l; i++) {\r\n        result[i % n] += values[i];\r\n    }\r\n    return result;\r\n}\r\n\r\nconsole.log(beggars([1, 2, 3, 4, 5], 1)); // [15]\r\nconsole.log(beggars([1, 2, 3, 4, 5], 2)); // [9, 6]\r\nconsole.log(beggars([1, 2, 3, 4, 5], 3)); // [5, 7, 3]\r\nconsole.log(beggars([1, 2, 3, 4, 5], 6)); // [1, 2, 3, 4, 5, 0]\r\nconsole.log(beggars([1, 2, 3, 4, 5], 0)); // []</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 9699824, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sam Parsons", "link": "https://stackoverflow.com/users/9699824/sam-parsons"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1527107651, "creation_date": 1527105374, "question_id": 50496496, "link": "https://stackoverflow.com/questions/50496496/function-returns-correctly-but-times-out-in-while-loop-even-though-condition-ev", "title": "Function returns correctly, but times out in while loop even though condition eventually becomes false", "body": "<p>Trying to do a <a href=\"https://www.codewars.com/kata/english-beggars/train/javascript\" rel=\"nofollow noreferrer\">kata</a> and my function returns everything correctly, but I get an error for the test output telling me it timed out at 12000 ms despite all of the tests passing and completing.  I suspect the while loop is the culprit, but I have put in two places where the while loop conditional will flip to false and cease.  Can somebody point me in the direction as to why this function works perfectly except for the timeout?</p>\n\n<pre><code>function beggars(values, n){\n  // Case if only one beggar\n  if (n == 1) {\n    const reducer = (accumulator, currentValue) =&gt; accumulator + currentValue;\n    let finalArr = [values.reduce(reducer)]\n    return finalArr;\n  }\n\n  // Case if more beggars than handouts\n  let remainder;\n  if (n &gt; values.length) {\n    remainder = n - values.length;\n    n = values.length;\n  }\n\n  // Object creation\n  let obj = {};\n  let final = [];\n  for (var i = 1; i &lt;= n; i++) {\n    obj[i] = 0;\n  }\n\n  // Populating object with data\n  let running = true;\n  while (running) {\n    for (var i = 1; i &lt;= n; i++) {\n      let shift = values.shift()\n      obj[i] = obj[i] + shift;\n    }\n    if (values.length &lt; n) {\n      for (var i = 1; i &lt;= values.length + 1; i++) {\n        let shift = values.shift();\n        if (shift) {\n          obj[i] = obj[i] + shift;\n        }\n        running = false;\n      }\n    }\n    if (values.length == 0) {\n      running = false;\n    }\n  }\n\n  // Values of object into array\n  for (var key in obj) {\n    final.push(obj[key]);\n  }\n\n  // Pushing 0's for the left over beggars\n  if (remainder) {\n    for (var i = 0; i &lt; remainder; i++) {\n      final.push(0);\n    }\n  }\n\n  return final;\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "node.js", "express"], "comments": [{"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1527105488, "post_id": 50496478, "comment_id": 88005786, "body": "I don&#39;t see how this could work with Postman. You don&#39;t appear to have a body parser middleware configured."}, {"owner": {"reputation": 209, "user_id": 8369362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c1601e0a291dce863684f8ebfe13770?s=128&d=identicon&r=PG&f=1", "display_name": "Yasin Hajilou", "link": "https://stackoverflow.com/users/8369362/yasin-hajilou"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1527106192, "post_id": 50496478, "comment_id": 88006118, "body": "@Quentin hey body, I cant understand your comment...I edit my post please check again and see are helped you"}, {"owner": {"reputation": 110, "user_id": 7546898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0423b0a9dbb49ac9906f502bd078b89c?s=128&d=identicon&r=PG&f=1", "display_name": "Rohlex32", "link": "https://stackoverflow.com/users/7546898/rohlex32"}, "edited": false, "score": 0, "creation_date": 1527107090, "post_id": 50496478, "comment_id": 88006564, "body": "is your /action path in the form correct?"}], "answers": [{"comments": [{"owner": {"reputation": 209, "user_id": 8369362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c1601e0a291dce863684f8ebfe13770?s=128&d=identicon&r=PG&f=1", "display_name": "Yasin Hajilou", "link": "https://stackoverflow.com/users/8369362/yasin-hajilou"}, "edited": false, "score": 0, "creation_date": 1527107474, "post_id": 50496615, "comment_id": 88006784, "body": "special thanks that&#39;s work, not same code but the problem was in body -parser and  urlencoded"}], "tags": [], "owner": {"reputation": 317, "user_id": 9766530, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UaxxC98aXco/AAAAAAAAAAI/AAAAAAAAALA/39E_nvGG81A/photo.jpg?sz=128", "display_name": "Noah Rose Ledesma", "link": "https://stackoverflow.com/users/9766530/noah-rose-ledesma"}, "is_accepted": true, "score": 0, "last_activity_date": 1527105870, "creation_date": 1527105870, "answer_id": 50496615, "question_id": 50496478, "link": "https://stackoverflow.com/questions/50496478/html-form-send-empty-content-to-server/50496615#50496615", "title": "HTML form send empty content to server", "body": "<p>It looks like you do not have body-parser set up. You will need to use the body-parser middleware to access the data in the post request body. More info on the middleware available <a href=\"https://www.npmjs.com/package/body-parser\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Here is the example provided by the body-parser documentation</p>\n\n<pre><code>var express = require('express')\nvar bodyParser = require('body-parser')\n\nvar app = express()\n\n// parse application/x-www-form-urlencoded\napp.use(bodyParser.urlencoded({ extended: false }))\n\n// parse application/json\napp.use(bodyParser.json())\n\napp.use(function (req, res) {\n  res.setHeader('Content-Type', 'text/plain')\n  res.write('you posted:\\n')\n  res.end(JSON.stringify(req.body, null, 2))\n})\n</code></pre>\n"}], "owner": {"reputation": 209, "user_id": 8369362, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c1601e0a291dce863684f8ebfe13770?s=128&d=identicon&r=PG&f=1", "display_name": "Yasin Hajilou", "link": "https://stackoverflow.com/users/8369362/yasin-hajilou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 50496615, "answer_count": 1, "score": -1, "last_activity_date": 1527112685, "creation_date": 1527105319, "last_edit_date": 1527112685, "question_id": 50496478, "link": "https://stackoverflow.com/questions/50496478/html-form-send-empty-content-to-server", "title": "HTML form send empty content to server", "body": "<p>I write a Node project that has one view Page for the user to get informations but HTML form sends empty content, I several times checked with postman and informations saved successfully, I send it with post method:</p>\n\n<pre><code>{\n\"name\" : \"john\" , \n\"family\" : \"swift\",\n\"meliCode\" : \"12345\" }\n</code></pre>\n\n<p>and return it (its mean seaved to db):</p>\n\n<pre><code>{\n\"_id\": \"5b05bd2309d3c30404ec5b03\",\n\"name\": \"john\",\n\"meliCode\": \"12345\",\n\"family\": \"swift\",\n\"__v\": 0\n</code></pre>\n\n<p>}</p>\n\n<p>but when I send information with HTML forms, fields in a table(collection) its null, just return:</p>\n\n<pre><code>{\n\"_id\": \"5b05bd2309d3c30404ec5b03\",\n\"__v\": 0  }\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form action=\"/api\" method=\"post\"&gt;\r\n  &lt;div class=\"container\"&gt;\r\n    &lt;h1&gt;Register&lt;/h1&gt;\r\n    &lt;p&gt;Please fill in this form to create an account.&lt;/p&gt;\r\n    &lt;hr&gt;\r\n\r\n    &lt;label for=\"name\"&gt;&lt;b&gt;Name&lt;/b&gt;&lt;/label&gt;\r\n    &lt;input id=\"name\" type=\"text\" placeholder=\"Enter Name\" name=\"name\" required&gt;\r\n\r\n    &lt;label for=\"family\"&gt;&lt;b&gt;Family&lt;/b&gt;&lt;/label&gt;\r\n    &lt;input id=\"family\" type=\"text\" placeholder=\"Enter Family\" name=\"family\" required&gt;\r\n\r\n    &lt;label for=\"meliCode\"&gt;&lt;b&gt;MeliCode&lt;/b&gt;&lt;/label&gt;\r\n    &lt;input id=\"meliCode\" type=\"text\" placeholder=\"Enter Melicode\" name=\"meliCode\" required&gt;\r\n    &lt;hr&gt;\r\n    &lt;p&gt;By creating an account you agree to our &lt;a href=\"#\"&gt;Terms &amp; Privacy&lt;/a&gt;.&lt;/p&gt;\r\n\r\n    &lt;button type=\"submit\" class=\"registerbtn\"&gt;Register&lt;/button&gt;\r\n  &lt;/div&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and in the server side with '/api' routing(console.log return '{}') :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const express = require('express');\r\nconst router = express.Router();\r\nconst user = require('../models/Users');\r\n\r\nrouter.get('/' , function (req , res , next) {\r\n  res.send('get')\r\n});\r\nrouter.post('/' , function (req , res , next) {\r\n  user.create(req.body).then(function (user) {\r\n    res.send(user);\r\n  }).catch(next);\r\n});\r\n\r\nmodule.exports = router;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 2, "creation_date": 1527105466, "post_id": 50496464, "comment_id": 88005779, "body": "Just an FYI - <code>let items = [6];</code> is not making a new array with the size of 6, but creating a new array and setting <code>6</code> at index <code>0</code>"}, {"owner": {"reputation": 437, "user_id": 1877295, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad1be48df6ff5bb1ffb3dafcfe6eef41?s=128&d=identicon&r=PG", "display_name": "Stefa", "link": "https://stackoverflow.com/users/1877295/stefa"}, "edited": false, "score": 0, "creation_date": 1527108316, "post_id": 50496464, "comment_id": 88007179, "body": "Maybe this:   item.textContent = items[currentItem]; You should be probably creating elements of type img, not div."}], "answers": [{"comments": [{"owner": {"reputation": 1178, "user_id": 6363273, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe42bbac197395210bccc4a68df10102?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Gibbs", "link": "https://stackoverflow.com/users/6363273/ryan-gibbs"}, "reply_to_user": {"reputation": 47, "user_id": 9076652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a4feb81a64c0be828fd69a1ae5e3972?s=128&d=identicon&r=PG&f=1", "display_name": "Inyea", "link": "https://stackoverflow.com/users/9076652/inyea"}, "edited": false, "score": 0, "creation_date": 1527110869, "post_id": 50497285, "comment_id": 88008315, "body": "Glad I could help. If you feel like the answer is adequate, please accept it as the answer to help anyone who finds your question in the future."}], "tags": [], "owner": {"reputation": 1178, "user_id": 6363273, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/fe42bbac197395210bccc4a68df10102?s=128&d=identicon&r=PG&f=1", "display_name": "Ryan Gibbs", "link": "https://stackoverflow.com/users/6363273/ryan-gibbs"}, "is_accepted": false, "score": 1, "last_activity_date": 1527108747, "creation_date": 1527108747, "answer_id": 50497285, "question_id": 50496464, "link": "https://stackoverflow.com/questions/50496464/displaying-an-array-of-images-with-javascript/50497285#50497285", "title": "Displaying an array of images with Javascript", "body": "<p>It looks to me your mistake is in using:</p>\n\n<blockquote>\n  <p>item.textContent = items[currentItem];</p>\n</blockquote>\n\n<p>This is trying to set a text element, and since you're giving it an image object, it's just giving you the textContent value of that object \"[Object HTMLImage Element]\".</p>\n\n<p>Instead you need to actually place the image inside your div:</p>\n\n<blockquote>\n  <p><strong>item.appendChild(</strong> items[currentItem] <strong>)</strong>;</p>\n</blockquote>\n\n<p>This will append the image as a child into the div you specified.</p>\n"}], "owner": {"reputation": 47, "user_id": 9076652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a4feb81a64c0be828fd69a1ae5e3972?s=128&d=identicon&r=PG&f=1", "display_name": "Inyea", "link": "https://stackoverflow.com/users/9076652/inyea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1527108747, "creation_date": 1527105266, "question_id": 50496464, "link": "https://stackoverflow.com/questions/50496464/displaying-an-array-of-images-with-javascript", "title": "Displaying an array of images with Javascript", "body": "<p>I am trying to display an array of images using JavaScript, but he doesn't seem to find the images. I do get however this messages on screen: [Object HTMLImage Element]</p>\n\n<p>Any help would be appreciated. I'm a student trying to learn. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let slideshow;\r\nlet currentItem = 0;\r\nlet items = [6];\r\n//let ready = true;\r\nitems[0] = new Image();\r\nitems[0].src = \"../images/bier%20tafe.jpeg\";\r\n\r\nitems[1] = new Image();\r\nitems[1].src = '../images/pintjes.jpeg';\r\n\r\nitems[2] = new Image();\r\nitems[2].src = '../images/flesjes.jpeg';\r\n\r\nitems[3] = new Image();\r\nitems[3].src = '../images/grain.jpg';\r\n\r\nitems[4] = new Image();\r\nitems[4].src = '../images/cigar.jpg';\r\n\r\nitems[5] = new Image();\r\nitems[5].src = '../images/whiskey.jpg';\r\n\r\ndocument.addEventListener('DOMContentLoaded', function(ev){\r\n  slideshow = document.querySelector('.slideshow');\r\n  slideshow.addEventListener('click', next);\r\n  //call the event once to start the show\r\n  slideshow.dispatchEvent(new MouseEvent('click'));\r\n  //next(); //the line above is the same as calling next()\r\n});\r\n\r\nfunction next(ev){\r\n  //this runs when the slideshow has been clicked\r\n  ev.preventDefault();\r\n  //call the function to remove the oldest item (if it exists)\r\n  removeItem();\r\n  //add the new one\r\n  let item = document.createElement('div');\r\n  item.textContent = items[currentItem];\r\n  item.classList.add(\"slideshow-item\");\r\n  slideshow.appendChild(item);\r\n  setTimeout(function(){\r\n    item.classList.add('active');\r\n    //this could fail if the user clicked twice within 20 milliseconds\r\n  }, 20);\r\n  currentItem++;\r\n  if(currentItem &gt; items.length-1){\r\n    currentItem = 0;\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "highcharts"], "comments": [{"owner": {"reputation": 5446, "user_id": 8091913, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3BpjI.jpg?s=128&g=1", "display_name": "Kamil Kulig", "link": "https://stackoverflow.com/users/8091913/kamil-kulig"}, "edited": false, "score": 0, "creation_date": 1527152680, "post_id": 50496456, "comment_id": 88022553, "body": "I see that you reported that issue on github: <a href=\"https://github.com/highcharts/highcharts/issues/8373\" rel=\"nofollow noreferrer\">github.com/highcharts/highcharts/issues/8373</a> Let&#39;s continue this topic there - it seems to be already known problem."}], "answers": [{"tags": [], "owner": {"reputation": 1803, "user_id": 166231, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e1d586387b3a13caa0e7540f47e98f92?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/166231/terry"}, "is_accepted": true, "score": 0, "last_activity_date": 1527255050, "creation_date": 1527255050, "answer_id": 50530386, "question_id": 50496456, "link": "https://stackoverflow.com/questions/50496456/highcharts-annotation-position-top-is-incorrect-upon-initial-rendering/50530386#50530386", "title": "Highcharts Annotation Position/Top Is Incorrect Upon Initial Rendering", "body": "<p>This question was answered on GitHub issues <a href=\"https://github.com/highcharts/highcharts/issues/7468#issuecomment-347904627\" rel=\"nofollow noreferrer\">here</a>.  Basically you have to put an inline style on the image providing height/width so that the annotations module can correctly calculate its size.  This resolved the issue for us.</p>\n"}], "owner": {"reputation": 1803, "user_id": 166231, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/e1d586387b3a13caa0e7540f47e98f92?s=128&d=identicon&r=PG", "display_name": "Terry", "link": "https://stackoverflow.com/users/166231/terry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "accepted_answer_id": 50530386, "answer_count": 1, "score": 1, "last_activity_date": 1527255050, "creation_date": 1527105233, "question_id": 50496456, "link": "https://stackoverflow.com/questions/50496456/highcharts-annotation-position-top-is-incorrect-upon-initial-rendering", "title": "Highcharts Annotation Position/Top Is Incorrect Upon Initial Rendering", "body": "<p>We are using the annotations module to add a annotation (image) to a area chart.  There is some strange 'top' calculations being done for the annotation that I can't exactly explain clearly.  We are passing in a <code>Distance</code> property (you'll see it in fiddle options) and highcharts is rendering it differently in different situations.</p>\n\n<p><a href=\"http://jsfiddle.net/jxpvrjta/13/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/jxpvrjta/13/</a></p>\n\n<ol>\n<li>If you open a new window and paste in fiddle, you'll get a top of 310.</li>\n<li>If you then click in the address bar and press Enter key to issue a GET again, the top 'fixes' itself and you will then have 297.</li>\n</ol>\n\n<p>Try this without opening inspection window first and just notice the difference between x-axis and the annotation. I can't pinpoint the behavior exactly and when highcharts fixes the top rendering. Resizing the browser window fixes it sometimes. Sometimes, clicking the 'Run' button in fiddle fixes it.</p>\n\n<p>I tried calling <code>.reflow()</code> on the chart as a solution but that doesn't seem to fix the problem either.</p>\n"}, {"tags": ["javascript", "ms-word", "office-js"], "answers": [{"comments": [{"owner": {"reputation": 1735, "user_id": 2513475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef32862b8139b03e84074a9f5e5bda21?s=128&d=identicon&r=PG&f=1", "display_name": "dnmh", "link": "https://stackoverflow.com/users/2513475/dnmh"}, "edited": false, "score": 0, "creation_date": 1527108935, "post_id": 50497222, "comment_id": 88007492, "body": "Yes, that worked for me, thanks. I was missing the <code>items</code> part. I was trying, among other things, like this: <code>.paragraphs[0]</code> and <code>.paragraphs.m_items[0]</code> (a prop I saw in the log, but it did look like an internal prop)."}], "tags": [], "owner": {"reputation": 27872, "user_id": 105518, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1e47ca9372faad8084cbaf9f90c6a75?s=128&d=identicon&r=PG", "display_name": "Marc LaFleur", "link": "https://stackoverflow.com/users/105518/marc-lafleur"}, "is_accepted": true, "score": 1, "last_activity_date": 1527108414, "creation_date": 1527108414, "answer_id": 50497222, "question_id": 50496413, "link": "https://stackoverflow.com/questions/50496413/changing-alignment-inside-a-contentcontrol-with-office-js/50497222#50497222", "title": "Changing alignment inside a ContentControl with Office.js", "body": "<p>I find it a little easier to \"load\" the variable rather than the context but either way works. </p>\n\n<p>You load <code>'paragraphs'</code> just like you do with <code>'font'</code>. You can also load them at the same time using <code>'paragraphs, font'</code> to make things even simpler.</p>\n\n<p>For example, this code will insert a <code>ContentControl</code>, insert some HTML content and set the <code>alignment</code> to <code>'centered'</code>:</p>\n\n<pre><code>return Word.run(function (context) {\n    let range = context.document.getSelection();\n    let cc = range.insertContentControl();\n    let ccRange = cc.insertHtml('&lt;b&gt;Hello World&lt;/b&gt;', 'Replace');\n\n    ccRange.load('font, paragraphs');\n    return context.sync().then(() =&gt; {\n        ccRange.paragraphs.items[0].alignment = 'Centered';\n        return context.sync();\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 1735, "user_id": 2513475, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/ef32862b8139b03e84074a9f5e5bda21?s=128&d=identicon&r=PG&f=1", "display_name": "dnmh", "link": "https://stackoverflow.com/users/2513475/dnmh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 50497222, "answer_count": 1, "score": 1, "last_activity_date": 1527108439, "creation_date": 1527105038, "last_edit_date": 1527108439, "question_id": 50496413, "link": "https://stackoverflow.com/questions/50496413/changing-alignment-inside-a-contentcontrol-with-office-js", "title": "Changing alignment inside a ContentControl with Office.js", "body": "<p>I have the following code:</p>\n\n<pre><code>Word.run(context =&gt; {\n  var range = context.document.getSelection();\n  var cc = range.insertContentControl();\n  var ccRange = cc.insertHtml(myContent, 'replace');\n  // ...\n</code></pre>\n\n<p>It works fine. If I have the document alignment set to, for instance, <code>Justified</code>, the content inside the new ContentControl will be <code>Justified</code>, too. I know users can simply select the content and change the aligment, but I need to set it to <code>Left</code> by default.</p>\n\n<p>I know how to handle the font to make sure it follows the same styling as the document and for that I have this code that immediately follows the code above:</p>\n\n<pre><code>  // ...\n  context.load(range, 'font');\n  context.load(ccRange, 'font');\n\n  context.sync().then(() =&gt; {\n    ccRange.font.color = range.font.color;\n    ccRange.font.highlightColor = range.font.highlightColor;\n    ccRange.font.name = range.font.name;\n    ccRange.font.size = range.font.size;\n    // ...\n</code></pre>\n\n<p>Based on this example, I suppose there is a similar way I can change the alignment inside the ContentControl, but so far I have failed.</p>\n\n<p>If I understood correctly, the ContentControl has a <code>paragraphs</code> property and a single paragraph has an <code>alignment</code> property so I'm guessing that's what I need, but my few attempts at accessing it yielded no results (such as <code>context.load(cc, 'paragraphs');</code> and then accessing the property after context syncing).</p>\n\n<p>What is the correct way of doing this?</p>\n"}, {"tags": ["javascript", "html", "canvas"], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 9836725, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CdFyF-o4z_o/AAAAAAAAAAI/AAAAAAAAADI/Y7GMEqedpC4/photo.jpg?sz=128", "display_name": "Nick Tsigkros", "link": "https://stackoverflow.com/users/9836725/nick-tsigkros"}, "edited": false, "score": 1, "creation_date": 1527108376, "post_id": 50496764, "comment_id": 88007210, "body": "Thank you very much! I didn&#39;t know that. I named the function with a different name such as <code>clean()</code> and it runs perfectly."}], "tags": [], "owner": {"reputation": 218, "user_id": 9648076, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-b38DLOxypeQ/AAAAAAAAAAI/AAAAAAAAAEs/K8sDh7C2wpk/photo.jpg?sz=128", "display_name": "Juli&#225;n Esteban Salom&#243;n Torres", "link": "https://stackoverflow.com/users/9648076/juli%c3%a1n-esteban-salom%c3%b3n-torres"}, "is_accepted": true, "score": 1, "last_activity_date": 1527106487, "creation_date": 1527106487, "answer_id": 50496764, "question_id": 50496404, "link": "https://stackoverflow.com/questions/50496404/clear-canvas-not-working/50496764#50496764", "title": "Clear Canvas not working", "body": "<p>Renaming the function will do the trick.</p>\n\n<p>When you are calling to <code>clear()</code> function in the onclick event, you will be executing <code>document.clear()</code>.</p>\n\n<p>You can take a look <a href=\"https://stackoverflow.com/questions/7165570/is-clear-a-reserved-word-in-javascript?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">here</a> for more answers.</p>\n"}], "owner": {"reputation": 7, "user_id": 9836725, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CdFyF-o4z_o/AAAAAAAAAAI/AAAAAAAAADI/Y7GMEqedpC4/photo.jpg?sz=128", "display_name": "Nick Tsigkros", "link": "https://stackoverflow.com/users/9836725/nick-tsigkros"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 50496764, "answer_count": 1, "score": 0, "last_activity_date": 1527155132, "creation_date": 1527104993, "last_edit_date": 1527155132, "question_id": 50496404, "link": "https://stackoverflow.com/questions/50496404/clear-canvas-not-working", "title": "Clear Canvas not working", "body": "<p>I have a basic page with a canvas. In Javascript I run a function after pressing a button that changes the background color and draws a basic rect shape.</p>\n\n<p>I have a second button though that uses another JS function in order to clean the canvas but it doesn't work.</p>\n\n<pre><code>function clear() {\n  var c = document.getElementById(\"can1\");\n  var ctx = c.getContext(\"2d\");\n\n  ctx.clearRect(0, 0, c.width, c.height);\n  c.style.backgroundColor = white;\n}\n</code></pre>\n\n<p>I have also a codepen-link so that you can see the whole code.\n<a href=\"https://codepen.io/TsigkrosNikos/pen/PQrgbQ\" rel=\"nofollow noreferrer\">Codepen page</a></p>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["javascript", "jquery", "datatables", "export"], "comments": [{"owner": {"reputation": 3977, "user_id": 399696, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/giWo4.png?s=128&g=1", "display_name": "dgig", "link": "https://stackoverflow.com/users/399696/dgig"}, "edited": false, "score": 0, "creation_date": 1527107670, "post_id": 50496386, "comment_id": 88006882, "body": "I worked on this for a bit - my solution was to use table.page.len(-1) to disable paging then restore it. but it occurred to me - you&#39;re possibly trying to pass 2000 rows of data through through a url string, aren&#39;t you?  Aren&#39;t you limited in the amount of data you can pass through there?"}, {"owner": {"reputation": 1783, "user_id": 4262571, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tf2ih.png?s=128&g=1", "display_name": "John Beasley", "link": "https://stackoverflow.com/users/4262571/john-beasley"}, "reply_to_user": {"reputation": 3977, "user_id": 399696, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/giWo4.png?s=128&g=1", "display_name": "dgig", "link": "https://stackoverflow.com/users/399696/dgig"}, "edited": false, "score": 0, "creation_date": 1527109774, "post_id": 50496386, "comment_id": 88007909, "body": "@dgig - I am not limited to the amount of data.  I just picked the number 2000.  Although, currently, the table I am working with does have a little over 2100 records.  This table could hold more or less.  I hope that answers your question."}, {"owner": {"reputation": 3606, "user_id": 1829499, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e77945dcdf8fa7991cc359e66161b86c?s=128&d=identicon&r=PG", "display_name": "Karlo Kokkak", "link": "https://stackoverflow.com/users/1829499/karlo-kokkak"}, "edited": false, "score": 1, "creation_date": 1527136874, "post_id": 50496386, "comment_id": 88014626, "body": "Might help: <a href=\"https://datatables.net/extensions/buttons/examples/initialisation/export.html\" rel=\"nofollow noreferrer\">datatables.net/extensions/buttons/examples/initialisation/&hellip;</a>"}, {"owner": {"reputation": 1783, "user_id": 4262571, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tf2ih.png?s=128&g=1", "display_name": "John Beasley", "link": "https://stackoverflow.com/users/4262571/john-beasley"}, "reply_to_user": {"reputation": 3606, "user_id": 1829499, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/e77945dcdf8fa7991cc359e66161b86c?s=128&d=identicon&r=PG", "display_name": "Karlo Kokkak", "link": "https://stackoverflow.com/users/1829499/karlo-kokkak"}, "edited": false, "score": 0, "creation_date": 1527252395, "post_id": 50496386, "comment_id": 88070778, "body": "@KarloKokkak - I was able to achieve the results I needed thanks to your suggestion."}], "answers": [{"comments": [{"owner": {"reputation": 1783, "user_id": 4262571, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tf2ih.png?s=128&g=1", "display_name": "John Beasley", "link": "https://stackoverflow.com/users/4262571/john-beasley"}, "edited": false, "score": 0, "creation_date": 1527168678, "post_id": 50496861, "comment_id": 88033565, "body": "I&#39;m getting this error: Cannot read property &#39;len&#39; of undefined.  I didn&#39;t see the additional links you provided.  checking again."}, {"owner": {"reputation": 1783, "user_id": 4262571, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tf2ih.png?s=128&g=1", "display_name": "John Beasley", "link": "https://stackoverflow.com/users/4262571/john-beasley"}, "edited": false, "score": 0, "creation_date": 1527169369, "post_id": 50496861, "comment_id": 88034087, "body": "No longer getting the len error, but now the excel sheet is only showing &#39;No data available in the table.&#39;  The datatable does clear out when I click the export button.  Not sure if that has something to do with it."}, {"owner": {"reputation": 3977, "user_id": 399696, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/giWo4.png?s=128&g=1", "display_name": "dgig", "link": "https://stackoverflow.com/users/399696/dgig"}, "reply_to_user": {"reputation": 1783, "user_id": 4262571, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tf2ih.png?s=128&g=1", "display_name": "John Beasley", "link": "https://stackoverflow.com/users/4262571/john-beasley"}, "edited": false, "score": 1, "creation_date": 1527172376, "post_id": 50496861, "comment_id": 88036313, "body": "Did you make all of the changes I did in the fiddle? There&#39;s quite a few that are important even if they don&#39;t seem to be. The dataTables --&gt; DataTables for one. When you use my fiddle, what do you see when you open the downloaded file? I see basically an html table with all 58 of your records."}, {"owner": {"reputation": 1783, "user_id": 4262571, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tf2ih.png?s=128&g=1", "display_name": "John Beasley", "link": "https://stackoverflow.com/users/4262571/john-beasley"}, "edited": false, "score": 0, "creation_date": 1527172595, "post_id": 50496861, "comment_id": 88036451, "body": "Yes, my javascript matches your javascript except for the name of the datatable, which in my case is #resultsTable.  When I click the export button, the datatable clears out, and the excel sheet returns only the text &#39;No data available in the table&#39;, which is the text after the datatable clears out.  I&#39;m going to fine tooth it, but everything appears to match."}, {"owner": {"reputation": 3977, "user_id": 399696, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/giWo4.png?s=128&g=1", "display_name": "dgig", "link": "https://stackoverflow.com/users/399696/dgig"}, "reply_to_user": {"reputation": 1783, "user_id": 4262571, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tf2ih.png?s=128&g=1", "display_name": "John Beasley", "link": "https://stackoverflow.com/users/4262571/john-beasley"}, "edited": false, "score": 1, "creation_date": 1527172702, "post_id": 50496861, "comment_id": 88036520, "body": "Hm. It shouldn&#39;t clear out, that&#39;s a problem for sure - <code>table.page.len( -1 ).draw();</code> means basically remove any pagination. Did you see the comment from Karlo btw? <a href=\"https://datatables.net/extensions/buttons/examples/initialisation/export.html\" rel=\"nofollow noreferrer\">datatables.net/extensions/buttons/examples/initialisation/&hellip;</a> It seems to have a built in function for excel exports. This might be what you need instead of rolling your own?"}, {"owner": {"reputation": 3977, "user_id": 399696, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/giWo4.png?s=128&g=1", "display_name": "dgig", "link": "https://stackoverflow.com/users/399696/dgig"}, "reply_to_user": {"reputation": 1783, "user_id": 4262571, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tf2ih.png?s=128&g=1", "display_name": "John Beasley", "link": "https://stackoverflow.com/users/4262571/john-beasley"}, "edited": false, "score": 1, "creation_date": 1527173210, "post_id": 50496861, "comment_id": 88036895, "body": "Oh, I wonder if the fact that we&#39;re reinitializing the table again with DataTables is a problem because we&#39;re not giving it data. Maybe skip that second <code>var tableresults = $(&#39;#resultsTable&#39;).DataTable();</code> and just call <code>table.page.len(-1)</code> on the variable you created from your ajax call. That&#39;s the only thing I can think of."}, {"owner": {"reputation": 1783, "user_id": 4262571, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tf2ih.png?s=128&g=1", "display_name": "John Beasley", "link": "https://stackoverflow.com/users/4262571/john-beasley"}, "edited": false, "score": 0, "creation_date": 1527179047, "post_id": 50496861, "comment_id": 88040542, "body": "I appreciate all of your input.  Although promising, I have not been successful.  I cannot seem to figure out what my datatable blanks out.  Your fiddle seems to work, and I&#39;ve mimicked the code.  I guess I&#39;ll have to abandon this process and go with what works.  I thank you for your help."}], "tags": [], "owner": {"reputation": 3977, "user_id": 399696, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/giWo4.png?s=128&g=1", "display_name": "dgig", "link": "https://stackoverflow.com/users/399696/dgig"}, "is_accepted": true, "score": 1, "last_activity_date": 1527111167, "last_edit_date": 1527111167, "creation_date": 1527106913, "answer_id": 50496861, "question_id": 50496386, "link": "https://stackoverflow.com/questions/50496386/jquery-datatables-exporting-data-to-excel/50496861#50496861", "title": "jQuery datatables exporting data to Excel", "body": "<p>I think the best thing to do is to remove the paging, then do the export, then turn the paging back on once it's done.</p>\n\n<p>I made a couple minor changes:</p>\n\n<pre><code>$(function () \n{\n    var table = $('#example').DataTable();\n\n    $(\"#btnExport\").click(function(e) \n    {\n        table.page.len( -1 ).draw();\n        window.open('data:application/vnd.ms-excel,' + \n            encodeURIComponent($('#example').parent().html()));\n      setTimeout(function(){\n        table.page.len(10).draw();\n      }, 1000)\n\n    });\n});\n</code></pre>\n\n<p>Updated fiddle: <a href=\"http://jsfiddle.net/jzdjdo3z/176/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/jzdjdo3z/176/</a></p>\n\n<p>Page Length docs: <a href=\"https://datatables.net/reference/api/page.len()\" rel=\"nofollow noreferrer\">https://datatables.net/reference/api/page.len()</a></p>\n\n<p>Paging option docs: <a href=\"https://datatables.net/reference/option/paging\" rel=\"nofollow noreferrer\">https://datatables.net/reference/option/paging</a></p>\n\n<p>I'm not sure why initializing with dataTables vs DataTables made a difference, but it did. So keep an eye out for that.</p>\n"}], "owner": {"reputation": 1783, "user_id": 4262571, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/tf2ih.png?s=128&g=1", "display_name": "John Beasley", "link": "https://stackoverflow.com/users/4262571/john-beasley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6062, "favorite_count": 0, "accepted_answer_id": 50496861, "answer_count": 1, "score": 0, "last_activity_date": 1529705190, "creation_date": 1527104890, "last_edit_date": 1529705190, "question_id": 50496386, "link": "https://stackoverflow.com/questions/50496386/jquery-datatables-exporting-data-to-excel", "title": "jQuery datatables exporting data to Excel", "body": "<p>I am trying to export directly from the datatable to Excel.</p>\n\n<p>Starting with the ajax call:</p>\n\n<pre><code>displayRecords();\nfunction displayRecords()\n{\n  $.ajax({\n    url: 'process/getRecords.php',\n    type: 'POST',\n    data: '',\n    dataType: 'html',\n    success: function(data, textStatus, jqXHR)\n    {\n      var jsonObject = $.parseJSON(data); \n      var table = $('#resultsTable').DataTable({    \n      {\n        \"data\": jsonObject,\n        \"columns\": [\n          {\"data\": \"JOB_REFERENCE\"},\n          {\"data\": \"VOYAGE_REFERENCE\"},\n          // few more columns\n        ],\n        \"iDisplayLength\": 25,\n        \"scrollY\": 500,\n        \"scrollX\": true,\n        \"bDestroy\": true,\n        \"paging\": true,\n        \"stateSave\": true\n      }\n    },\n    error: function(jqHHR, textStatus, errorThrown)\n    {\n      console.log('fail: '+ errorThrown);\n    }\n  });\n\n   // button click to export results\n   var tableresults = $('#resultsTable').dataTable();\n\n   $(\"#btnExport\").on('click', function(e) \n   {\n     e.preventDefault();\n     window.open('data:application/vnd.ms-excel,' +\n       encodeURIComponent(table[0].outerHTML));\n   });\n}\n</code></pre>\n\n<p>Using all of the above, I can successfully export the results from the datatable.  I can even use the filter search to drill down to a smaller data set, and export the results.</p>\n\n<p>I was using the following fiddle: <a href=\"http://jsfiddle.net/donpayne/jzdjdo3z/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/donpayne/jzdjdo3z/</a></p>\n\n<p>The problem I am having lies with the Show Entries dropdown of the datatable.  Typically, the dropdown is set to 10.  Whether you filter the search down or not, if the total record count is greater than the Show Entries dropdown, the Excel sheet will only return the total amount set in the dropdown.</p>\n\n<p>You can test what I am talking about in the fiddle.  Set the Show Entries dropdown to 10, then export to Excel.  If you'll notice, there are 58 total records in that table.  The Excel sheet will only return 10 records.</p>\n\n<p>I need the to return all the records.  If I have 2000 records, and the Show Entries dropdown is set to 10, I need the exported Excel sheet to include all 2000 records.  </p>\n\n<p>The same if I filter the search down to about 56 records; when I export to excel, I should have a total of 56 records on that spreadsheet, regardless of what the Show Entries dropdown is set to.</p>\n\n<p>As stated, I referenced the code from the fiddle and altered it to fit my datatable.</p>\n"}, {"tags": ["javascript", "ckeditor"], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 5445096, "user_type": "registered", "profile_image": "https://graph.facebook.com/393726920837502/picture?type=large", "display_name": "Dani Carla", "link": "https://stackoverflow.com/users/5445096/dani-carla"}, "edited": false, "score": 0, "creation_date": 1527168398, "post_id": 50506718, "comment_id": 88033385, "body": "Yes I figured this out, VW works on Ckeditor, but would need to fix the size of that font on the select without using her measure"}, {"owner": {"reputation": 2168, "user_id": 4555078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752084347508708631fbaaf8475f86ea?s=128&d=identicon&r=PG&f=1", "display_name": "j.swiderski", "link": "https://stackoverflow.com/users/4555078/j-swiderski"}, "reply_to_user": {"reputation": 65, "user_id": 5445096, "user_type": "registered", "profile_image": "https://graph.facebook.com/393726920837502/picture?type=large", "display_name": "Dani Carla", "link": "https://stackoverflow.com/users/5445096/dani-carla"}, "edited": false, "score": 0, "creation_date": 1527185942, "post_id": 50506718, "comment_id": 88044064, "body": "What I meant by saying it won&#39;t work was that dropdown should show the actual font size which will be used in editor content area (this is what wysiwyg is about). Since <code>vw</code> is relative to viewport there is no way workaround or fix this problem in the editor."}], "tags": [], "owner": {"reputation": 2168, "user_id": 4555078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/752084347508708631fbaaf8475f86ea?s=128&d=identicon&r=PG&f=1", "display_name": "j.swiderski", "link": "https://stackoverflow.com/users/4555078/j-swiderski"}, "is_accepted": false, "score": 0, "last_activity_date": 1527156924, "creation_date": 1527156924, "answer_id": 50506718, "question_id": 50496383, "link": "https://stackoverflow.com/questions/50496383/how-to-use-font-size-in-vw-with-ckeditor4/50506718#50506718", "title": "How to use font size in VW with CkEditor4?", "body": "<p>This is because contents of any CKEditor dropdown are kept in separate <code>iframe</code> so the font size is relative to that <code>iframe</code> (viewport) size and will look very different (font will be much bigger) once you apply that font to editor content area which is kept in much bigger viewport. It can be another <code>iframe</code> (classic editor) or editable <code>div</code> (inline editor) kept on main page level and both are significantly bigger than <code>iframe</code> for dropdown.</p>\n\n<p>The <code>vw</code> unit will not work in CKEditor.</p>\n"}], "owner": {"reputation": 65, "user_id": 5445096, "user_type": "registered", "profile_image": "https://graph.facebook.com/393726920837502/picture?type=large", "display_name": "Dani Carla", "link": "https://stackoverflow.com/users/5445096/dani-carla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1527156924, "creation_date": 1527104843, "last_edit_date": 1527105117, "question_id": 50496383, "link": "https://stackoverflow.com/questions/50496383/how-to-use-font-size-in-vw-with-ckeditor4", "title": "How to use font size in VW with CkEditor4?", "body": "<p>I am trying to use font size in <strong>VW</strong> in ckeditor, I have already changed from <strong>PX</strong> to <strong>VW</strong> in the <em>config.js</em> file.. but when I open the editor the font gets very small, see the image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/DkTeA.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DkTeA.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Any suggestions are welcome :)</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 2, "creation_date": 1527104936, "post_id": 50496377, "comment_id": 88005508, "body": "your function is named <code>expandArray</code>, not <code>expandedArray</code>"}, {"owner": {"reputation": 147, "user_id": 9796841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/voJc9.png?s=128&g=1", "display_name": "3noki", "link": "https://stackoverflow.com/users/9796841/3noki"}, "reply_to_user": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1527105075, "post_id": 50496377, "comment_id": 88005582, "body": "Yup, that was it :("}, {"owner": {"reputation": 7445, "user_id": 1564365, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2ff53772b33c8b0c305481ecb7e67141?s=128&d=identicon&r=PG", "display_name": "Kyslik", "link": "https://stackoverflow.com/users/1564365/kyslik"}, "edited": false, "score": 2, "creation_date": 1527105097, "post_id": 50496377, "comment_id": 88005589, "body": "<code>result(10); &#47;&#47;returns 15</code>. The comment is wrong, it outputs 15 to the console it does not return <code>15</code>."}], "answers": [{"tags": [], "owner": {"reputation": 4624, "user_id": 6236938, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/OVXp8.jpg?s=128&g=1", "display_name": "Nishant Dixit", "link": "https://stackoverflow.com/users/6236938/nishant-dixit"}, "is_accepted": true, "score": 1, "last_activity_date": 1527105077, "creation_date": 1527105077, "answer_id": 50496423, "question_id": 50496377, "link": "https://stackoverflow.com/questions/50496377/closure-appending-array/50496423#50496423", "title": "Closure appending array", "body": "<p>Change <code>expandedArray</code> to <code>expandArray</code> or vice-versa.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function expandArray() {\r\n    let myArray = [1, 1, 1];\r\n\r\n    return function(addToArray) {\r\n        myArray.push(addToArray);\r\n        return myArray;\r\n    };\r\n}\r\nlet result = expandArray();\r\nresult(1);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 147, "user_id": 9796841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/voJc9.png?s=128&g=1", "display_name": "3noki", "link": "https://stackoverflow.com/users/9796841/3noki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "closed_date": 1527107175, "accepted_answer_id": 50496423, "answer_count": 1, "score": -1, "last_activity_date": 1527105077, "creation_date": 1527104825, "question_id": 50496377, "link": "https://stackoverflow.com/questions/50496377/closure-appending-array", "closed_reason": "Not suitable for this site", "title": "Closure appending array", "body": "<p>I am learning about closures and have to make a function that directly modifies myArray, and then the returned function returns the value of myArray. </p>\n\n<p>Why does this generate the error \"expandedArray is not defined\"?</p>\n\n<pre><code>function expandArray() {\n    let myArray = [1, 1, 1];\n\n    return function(addToArray) {\n        myArray.push(addToArray);\n        return myArray;\n    };\n}\nlet result = expandedArray();\nresult(1);\n</code></pre>\n\n<p>The exampled I am provided is ;</p>\n\n<pre><code>function outerFunction() {\n  let num1 = 5;\n\n  return function(num2) {\n    console.log(num1 + num2);\n  };\n}\nlet result = outerFunction();\nresult(10); //returns 15\n</code></pre>\n"}, {"tags": ["javascript", "highcharts"], "answers": [{"comments": [{"owner": {"reputation": 743, "user_id": 9785262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7bd02e48af9f013a92b705c86d70596?s=128&d=identicon&r=PG&f=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/9785262/hackerman"}, "edited": false, "score": 0, "creation_date": 1527134752, "post_id": 50499272, "comment_id": 88014124, "body": "Thanks for the help!"}], "tags": [], "owner": {"reputation": 2621, "user_id": 1808082, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/PhHO2.jpg?s=128&g=1", "display_name": "Jo&#227;o Menighin", "link": "https://stackoverflow.com/users/1808082/jo%c3%a3o-menighin"}, "is_accepted": true, "score": 1, "last_activity_date": 1527161039, "last_edit_date": 1527161039, "creation_date": 1527121968, "answer_id": 50499272, "question_id": 50496349, "link": "https://stackoverflow.com/questions/50496349/how-should-i-parse-datetime-for-highcharts/50499272#50499272", "title": "How should I parse dateTime for Highcharts?", "body": "<p>You have two options depending on how is your data:</p>\n\n<p><strong>1) Set the correct data type as category</strong></p>\n\n<p>The <a href=\"https://api.highcharts.com/highcharts/xAxis.type\" rel=\"nofollow noreferrer\">documentation</a> states:</p>\n\n<blockquote>\n  <p>The type of axis. Can be one of linear, logarithmic, <strong>datetime</strong> or category. <strong>In a datetime axis, the numbers are given in milliseconds, and tick marks are placed on appropriate values like full hours or days</strong>. In a category axis, the point names of the chart's series are used for categories, if not a categories array is defined.</p>\n</blockquote>\n\n<p>To use it you would need your data in a millisecond format like:</p>\n\n<pre><code>[[1526688000000, 100], [1526774400000, 150], [1526860800000, 200]]\n</code></pre>\n\n<p>Fiddle: <a href=\"https://jsfiddle.net/y7kL4ccL/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/y7kL4ccL/</a></p>\n\n<p>Then to format your datetime, you can check <a href=\"https://api.highcharts.com/highcharts/xAxis.dateTimeLabelFormats\" rel=\"nofollow noreferrer\">here</a> in the documentation.</p>\n\n<p><strong>2) Keeping the labels that way and provide a custom formatter</strong></p>\n\n<p>To do so you must set your <a href=\"https://api.highcharts.com/highcharts/xAxis.type\" rel=\"nofollow noreferrer\"><code>xAxis.categories.type</code></a> to <code>category</code> for Highcharts to use your point names as categories and then provide a custom <a href=\"https://api.highcharts.com/highcharts/xAxis.labels.formatter\" rel=\"nofollow noreferrer\"><code>xAxis.labels.formatter</code></a> that transforms your string into whatever you want.</p>\n\n<p>Example:</p>\n\n<pre><code>    xAxis: {\n      type: 'category',\n      labels: {\n        formatter: function() {\n          var year = this.value.substring(0, 4);\n          var month = this.value.substring(4, 6);\n          var day = this.value.substring(6, 8);\n          return `${day}/${month}/${year}`;\n        }\n      }\n    },\n</code></pre>\n\n<p>Fiddle: <a href=\"https://jsfiddle.net/qpad3qh7/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/qpad3qh7/</a></p>\n"}], "owner": {"reputation": 743, "user_id": 9785262, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7bd02e48af9f013a92b705c86d70596?s=128&d=identicon&r=PG&f=1", "display_name": "Hackerman", "link": "https://stackoverflow.com/users/9785262/hackerman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 405, "favorite_count": 0, "accepted_answer_id": 50499272, "answer_count": 1, "score": 0, "last_activity_date": 1527161039, "creation_date": 1527104741, "question_id": 50496349, "link": "https://stackoverflow.com/questions/50496349/how-should-i-parse-datetime-for-highcharts", "title": "How should I parse dateTime for Highcharts?", "body": "<p>I'm pulling data from a csv where date(YYYYMMDD) and time (HHmm) are two of the columns. I already have a working parser that spits out array data points in [x, y] form. I just don't know how to parse my datetime (to use as the x-value) so Highcharts accepts it as a datetime. Just passing it in as one long number (YYYYMMDDHHmm) gives me a graph where all million points happen with a couple days in May...</p>\n"}, {"tags": ["javascript", "html", "angularjs", "angular-ngmodel"], "comments": [{"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1527112767, "post_id": 50496329, "comment_id": 88009028, "body": "That;s not the way you do radio buttons in AngularJS. Radio buttons need <code>ng-model</code> directives. For more information, see <a href=\"https://docs.angularjs.org/api/ng/input/input%5Bradio%5D\" rel=\"nofollow noreferrer\">AngularJS  <code>&lt;input type=&quot;radio&quot;</code> Directive API Reference</a>."}, {"owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "edited": false, "score": 0, "creation_date": 1527115375, "post_id": 50496329, "comment_id": 88009798, "body": "This approach violates the <a href=\"https://en.wikipedia.org/wiki/Don%27t_repeat_yourself\" rel=\"nofollow noreferrer\">DRY programming principle</a> because main dish selections need to be entered both in the HTML template and the JS controller. This makes adding new dishes tedious and error prone."}], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 9814118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195357ae467ff4215f9f3d227ab0f82e?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Zombie", "link": "https://stackoverflow.com/users/9814118/math-zombie"}, "edited": false, "score": 0, "creation_date": 1527106553, "post_id": 50496440, "comment_id": 88006276, "body": "it doesn&#39;t work , moreover as I said if I write as :  mainDish:{name:&#39;test&#39;,price:&#39;test&#39;};  it should initialize the states and show the initial values on page"}, {"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "reply_to_user": {"reputation": 35, "user_id": 9814118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195357ae467ff4215f9f3d227ab0f82e?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Zombie", "link": "https://stackoverflow.com/users/9814118/math-zombie"}, "edited": false, "score": 0, "creation_date": 1527109742, "post_id": 50496440, "comment_id": 88007888, "body": "According to this question and answer <a href=\"https://stackoverflow.com/questions/24876944/angularjs-watch-an-object-property-in-an-object-array\" title=\"angularjs watch an object property in an object array\">stackoverflow.com/questions/24876944/&hellip;</a>, you cannot use $watch on nested objects like mainDish inside model. It suggests you use an ng-change and ng-model"}, {"owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "reply_to_user": {"reputation": 35, "user_id": 9814118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195357ae467ff4215f9f3d227ab0f82e?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Zombie", "link": "https://stackoverflow.com/users/9814118/math-zombie"}, "edited": false, "score": 0, "creation_date": 1527109997, "post_id": 50496440, "comment_id": 88008001, "body": "Updated answer."}], "tags": [], "owner": {"reputation": 260, "user_id": 9825227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bddc1c4e139c93c7174d582aee41605d?s=128&d=identicon&r=PG&f=1", "display_name": "NocNit", "link": "https://stackoverflow.com/users/9825227/nocnit"}, "is_accepted": false, "score": 0, "last_activity_date": 1527116412, "last_edit_date": 1527116412, "creation_date": 1527105151, "answer_id": 50496440, "question_id": 50496329, "link": "https://stackoverflow.com/questions/50496329/angularjs-scope-variable-object-not-initialising-in-radio-button-controller/50496440#50496440", "title": "Angularjs Scope variable object not initialising in radio button controller", "body": "<p>The problem occurs because you of the way you declared mainDish. In your code, mainDish is an array but you access it like it's an object. You cannot use $watch for nested objects they way you want to. The best solution is to follow <a href=\"https://stackoverflow.com/questions/24876944/angularjs-watch-an-object-property-in-an-object-array\">the answer given on this question</a>, and use <code>ng-change</code> and <code>ng-model</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 9814118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195357ae467ff4215f9f3d227ab0f82e?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Zombie", "link": "https://stackoverflow.com/users/9814118/math-zombie"}, "edited": false, "score": 0, "creation_date": 1527106886, "post_id": 50496454, "comment_id": 88006449, "body": "Thanks...but it should have atleast showed the initial price and name if I initialized it ."}, {"owner": {"reputation": 2947, "user_id": 5414022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4231100076c0c4ae0951c16b2ca9063b?s=128&d=identicon&r=PG&f=1", "display_name": "jbrown", "link": "https://stackoverflow.com/users/5414022/jbrown"}, "reply_to_user": {"reputation": 35, "user_id": 9814118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195357ae467ff4215f9f3d227ab0f82e?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Zombie", "link": "https://stackoverflow.com/users/9814118/math-zombie"}, "edited": false, "score": 0, "creation_date": 1527107310, "post_id": 50496454, "comment_id": 88006698, "body": "The problem is that you had mainDish as an array of objects rather than just an object.  I&#39;ve amended my answer to show this."}, {"owner": {"reputation": 35, "user_id": 9814118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195357ae467ff4215f9f3d227ab0f82e?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Zombie", "link": "https://stackoverflow.com/users/9814118/math-zombie"}, "edited": false, "score": 0, "creation_date": 1527108497, "post_id": 50496454, "comment_id": 88007270, "body": "but I corrected the mainDish , still it did not show the initial values before I correct the watch code"}, {"owner": {"reputation": 2947, "user_id": 5414022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4231100076c0c4ae0951c16b2ca9063b?s=128&d=identicon&r=PG&f=1", "display_name": "jbrown", "link": "https://stackoverflow.com/users/5414022/jbrown"}, "reply_to_user": {"reputation": 35, "user_id": 9814118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195357ae467ff4215f9f3d227ab0f82e?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Zombie", "link": "https://stackoverflow.com/users/9814118/math-zombie"}, "edited": false, "score": 0, "creation_date": 1527116236, "post_id": 50496454, "comment_id": 88009989, "body": "Which values are you referring to?  I see the test values under selected item and order summary."}], "tags": [], "owner": {"reputation": 2947, "user_id": 5414022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4231100076c0c4ae0951c16b2ca9063b?s=128&d=identicon&r=PG&f=1", "display_name": "jbrown", "link": "https://stackoverflow.com/users/5414022/jbrown"}, "is_accepted": false, "score": 0, "last_activity_date": 1527107259, "last_edit_date": 1527107259, "creation_date": 1527105212, "answer_id": 50496454, "question_id": 50496329, "link": "https://stackoverflow.com/questions/50496329/angularjs-scope-variable-object-not-initialising-in-radio-button-controller/50496454#50496454", "title": "Angularjs Scope variable object not initialising in radio button controller", "body": "<p>Your are updating model rather than $scope.model in your $watch.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html ng-app=\"app\"&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;title&gt;Tony's Pizza&lt;/title&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\" integrity=\"sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7\" crossorigin=\"anonymous\"&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body ng-controller=\"menuController\"&gt;\r\n  &lt;div class=\"container\"&gt;\r\n    &lt;h1&gt;Tony's Pizza&lt;/h1&gt;\r\n    &lt;h2&gt;{{model.title}}&lt;/h2&gt;\r\n    &lt;div&gt;\r\n      &lt;label&gt;&lt;input type=\"radio\" name=\"category\" ng-click=\"changeMainDish('Cheese Pizza')\"/&gt; Cheese Pizza&lt;/label&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n      &lt;label&gt;&lt;input type=\"radio\" name=\"category\" ng-click=\"changeMainDish('Pepperoni Pizza')\"/&gt; Pepperoni Pizza&lt;/label&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n      &lt;label&gt;&lt;input type=\"radio\" name=\"category\" ng-click=\"changeMainDish('Margherita  Pizza')\"/&gt; Margherita Pizza&lt;/label&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n      &lt;label&gt;&lt;input type=\"radio\" name=\"category\" ng-click=\"changeMainDish('BBQ Chicken Pizza')\"/&gt; BBQ Chicken Pizza&lt;/label&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n      &lt;label&gt;&lt;input type=\"radio\" name=\"category\" ng-click=\"changeMainDish('Combo Pizza')\"/&gt; Combo Pizza&lt;/label&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n      &lt;h3&gt;Selected Item&lt;/h3&gt;\r\n      &lt;pre&gt;{{model.mainDish.name}}&lt;/pre&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n      &lt;h3&gt;Special Instuctions&lt;/h3&gt;\r\n      &lt;textarea class=\"form-control\" ng-model=\"model.specialInstructions\"&gt;&lt;/textarea&gt;\r\n    &lt;/div&gt;\r\n    &lt;div&gt;\r\n      &lt;h3&gt;Order Summary&lt;/h3&gt;\r\n\r\n      &lt;pre&gt; {{ model.mainDish.name }} {{ model.mainDish.price }} - {{ model.specialInstructions }} &lt;/pre&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"./app/app.js\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"./app/menuController.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n&lt;script&gt;\r\n  var app = angular.module('app', []);\r\n  app.controller('menuController', [\r\n    '$scope',\r\n    function($scope) {\r\n      $scope.model = {\r\n        title: 'Our Menu',\r\n        mainDish: {\r\n          name: 'test', \r\n          price: 'test'\r\n        }\r\n      };\r\n      $scope.$watch('model.mainDish.name', function(newValue, oldValue) {\r\n        if (newValue === 'BBQ Chicken Pizza') {\r\n          alert('You have selected BBQ Chicken Pizza');\r\n          $scope.model.mainDish.price = 10;\r\n        }\r\n        if (newValue === 'Cheese Pizza') {\r\n\r\n          $scope.model.mainDish.price = 15;\r\n        }\r\n        if (newValue === 'Pepperoni Pizza') {\r\n\r\n          $scope.model.mainDish.price = 20;\r\n        }\r\n        if (newValue === 'Margherita Pizza') {\r\n\r\n          $scope.model.mainDish.price = 30;\r\n        }\r\n        if (newValue === 'Combo Pizza') {\r\n\r\n          $scope.model.mainDish.price = 40;\r\n        }\r\n      });\r\n      $scope.changeMainDish = function(item) {\r\n        $scope.model.mainDish.name = item;\r\n      }\r\n    }\r\n  ]);\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 35, "user_id": 9814118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/195357ae467ff4215f9f3d227ab0f82e?s=128&d=identicon&r=PG&f=1", "display_name": "Math_Zombie", "link": "https://stackoverflow.com/users/9814118/math-zombie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1527116412, "creation_date": 1527104652, "last_edit_date": 1527113113, "question_id": 50496329, "link": "https://stackoverflow.com/questions/50496329/angularjs-scope-variable-object-not-initialising-in-radio-button-controller", "title": "Angularjs Scope variable object not initialising in radio button controller", "body": "<p>Please read the controller code.\nI am not able to print the price of each pizza.\nI have figured out that even after I initialize the price and name of mainDish object it does not show on the webpage when the code is run the first time.\n/* \nI am writing these extra words because stackoverflow doesn't let me post this because it thinks the code requires more detail...*/</p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html ng-app=\"app\"&gt;\n\n&lt;head&gt;\n    &lt;title&gt;Tony's Pizza&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css\" integrity=\"sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7\"\n        crossorigin=\"anonymous\"&gt;\n&lt;/head&gt;\n\n&lt;body ng-controller=\"menuController\"&gt;\n    &lt;div class=\"container\"&gt;\n        &lt;h1&gt;Tony's Pizza&lt;/h1&gt;\n        &lt;h2&gt;{{model.title}}&lt;/h2&gt;\n        &lt;div&gt;\n        &lt;label&gt;&lt;input type=\"radio\" name=\"category\" ng-click=\"changeMainDish('Cheese Pizza')\"/&gt; Cheese Pizza&lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;&lt;input type=\"radio\" name=\"category\" ng-click=\"changeMainDish('Pepperoni Pizza')\"/&gt; Pepperoni Pizza&lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;&lt;input type=\"radio\" name=\"category\" ng-click=\"changeMainDish('Margherita  Pizza')\"/&gt; Margherita Pizza&lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;&lt;input type=\"radio\" name=\"category\" ng-click=\"changeMainDish('BBQ Chicken Pizza')\"/&gt; BBQ Chicken Pizza&lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;label&gt;&lt;input type=\"radio\" name=\"category\" ng-click=\"changeMainDish('Combo Pizza')\"/&gt; Combo Pizza&lt;/label&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n        &lt;h3&gt;Selected Item&lt;/h3&gt;\n        &lt;pre&gt;{{model.mainDish.name}}&lt;/pre&gt;\n    &lt;/div&gt;\n    &lt;div&gt;\n    &lt;h3&gt;Special Instuctions&lt;/h3&gt;\n    &lt;textarea class=\"form-control\" ng-model=\"model.specialInstructions\"&gt;&lt;/textarea&gt;\n&lt;/div&gt;\n&lt;div&gt;\n    &lt;h3&gt;Order Summary&lt;/h3&gt;\n\n&lt;pre&gt; {{ model.mainDish.name }} {{ model.mainDish.price }} - {{ model.specialInstructions }} &lt;/pre&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"./app/app.js\"&gt;&lt;/script&gt;\n&lt;script src=\"./app/menuController.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>script></p>\n\n<pre><code>var app = angular.module('app', []);\napp.controller('menuController', [\n    '$scope',\n    function($scope){\n        $scope.model={title:'Our Menu',\n                    mainDish:[{name:''},{price:''}]};\n        $scope.$watch('model.mainDish.name',function(newValue,oldValue){\n        if(newValue==='BBQ Chicken Pizza'){\n            alert('You have selected BBQ Chicken Pizza');\n            model.mainDish.price= 10;\n}\n        if(newValue==='Cheese Pizza'){\n\n            model.mainDish.price= 15;\n}\n        if(newValue==='Pepperoni Pizza'){\n\n            model.mainDish.price= 20;\n}\n        if(newValue==='Margherita Pizza'){\n\n            model.mainDish.price= 30;\n}\n        if(newValue==='Combo Pizza'){\n\n            model.mainDish.price= 40;\n}\n    });\n        $scope.changeMainDish = function (item) {\n        $scope.model.mainDish.name = item;\n        }\n    }\n]);&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 10598, "user_id": 1179077, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CyVen.jpg?s=128&g=1", "display_name": "zgood", "link": "https://stackoverflow.com/users/1179077/zgood"}, "edited": false, "score": 0, "creation_date": 1527104631, "post_id": 50496305, "comment_id": 88005361, "body": "check out <code>event.stopPropagation()</code> <a href=\"https://api.jquery.com/event.stoppropagation/\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 4701, "user_id": 3662110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I19Jk.jpg?s=128&g=1", "display_name": "jmargolisvt", "link": "https://stackoverflow.com/users/3662110/jmargolisvt"}, "edited": false, "score": 0, "creation_date": 1527104646, "post_id": 50496305, "comment_id": 88005366, "body": "Why do you have them nested like this?  Just separate them and you won&#39;t have this problem."}, {"owner": {"reputation": 135, "user_id": 6497023, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/febe3c484c87a37ed63e810c17fb2774?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/6497023/will"}, "reply_to_user": {"reputation": 4701, "user_id": 3662110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I19Jk.jpg?s=128&g=1", "display_name": "jmargolisvt", "link": "https://stackoverflow.com/users/3662110/jmargolisvt"}, "edited": false, "score": 0, "creation_date": 1527104788, "post_id": 50496305, "comment_id": 88005441, "body": "Its a div with multiple functionalities. Both need to have click functions. THat doesn&#39;t apply. @jmargolisvt"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1527105130, "post_id": 50496305, "comment_id": 88005607, "body": "In the future, please make sure you include at least the HTML along with the JavaScript <b>in the question itself</b> so that people can see what the problem is without having to go to jsfiddle.net (which is often blocked by corporations)."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1527105250, "post_id": 50496305, "comment_id": 88005669, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14209371/jquery-clicking-nested-elements\">jQuery: clicking nested elements</a>"}], "answers": [{"tags": [], "owner": {"reputation": 490, "user_id": 6465846, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0632eaa51175ca1c86e47ffcbb28e399?s=128&d=identicon&r=PG&f=1", "display_name": "Kit Isaev", "link": "https://stackoverflow.com/users/6465846/kit-isaev"}, "is_accepted": false, "score": 0, "last_activity_date": 1527104759, "creation_date": 1527104759, "answer_id": 50496355, "question_id": 50496305, "link": "https://stackoverflow.com/questions/50496305/click-function-on-div-inside-div-with-click-function/50496355#50496355", "title": "Click function on div inside div with click function", "body": "<p>In your second event handler, do the following:</p>\n\n<pre><code>$(document).on(\"click\", \".Name\", function(e) {\n  e.stopPropagation();\n  alert(\"click\");\n});\n</code></pre>\n\n<p>It will prevent the event from bubbling, i.e. being also called on parent tags.\nLook here for moar info: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Event/stopPropagation\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Event/stopPropagation</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 436, "user_id": 9836549, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7644fbf4189d45cc7b1903e976b48a8?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Con", "link": "https://stackoverflow.com/users/9836549/tom-con"}, "is_accepted": false, "score": 2, "last_activity_date": 1527105356, "last_edit_date": 1527105356, "creation_date": 1527104777, "answer_id": 50496360, "question_id": 50496305, "link": "https://stackoverflow.com/questions/50496305/click-function-on-div-inside-div-with-click-function/50496360#50496360", "title": "Click function on div inside div with click function", "body": "<p>First you need to capture the event within the function call:\n<code>function(event) {}</code>\nNext you call a function to <code>stopPropagation</code> within the function, like so:</p>\n\n<pre><code>$(document).on(\"click\", \".Name\", function(event) {\n    event.stopPropagation()\n    alert(\"click\");\n});\n</code></pre>\n\n<p><a href=\"https://api.jquery.com/event.stoppropagation/\" rel=\"nofollow noreferrer\">docs</a></p>\n"}, {"tags": [], "owner": {"reputation": 2810, "user_id": 5752562, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d4a31eb398e250a3c7de9a7bad2be23?s=128&d=identicon&r=PG&f=1", "display_name": "yezzz", "link": "https://stackoverflow.com/users/5752562/yezzz"}, "is_accepted": false, "score": 0, "last_activity_date": 1527104981, "creation_date": 1527104981, "answer_id": 50496400, "question_id": 50496305, "link": "https://stackoverflow.com/questions/50496305/click-function-on-div-inside-div-with-click-function/50496400#50496400", "title": "Click function on div inside div with click function", "body": "<p>In the click handler for the inner element, stop the click from propagating outward (bubbling up).</p>\n\n<pre><code>  $(document).on(\"click\", \".task\", function() {\n    alert(\"click\");\n  });\n  $(document).on(\"click\", \".Name\", function(e) {\n    e.stopPropagation();\n    alert(\"click\");\n  });\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/t29ffzan/36/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/t29ffzan/36/</a></p>\n"}], "owner": {"reputation": 135, "user_id": 6497023, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/febe3c484c87a37ed63e810c17fb2774?s=128&d=identicon&r=PG&f=1", "display_name": "Will", "link": "https://stackoverflow.com/users/6497023/will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1873, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1527105356, "creation_date": 1527104539, "last_edit_date": 1527105044, "question_id": 50496305, "link": "https://stackoverflow.com/questions/50496305/click-function-on-div-inside-div-with-click-function", "title": "Click function on div inside div with click function", "body": "<p>So I wanted to know how you could stop the outer divs click function, and only have the inner divs click function be triggered. But, I want to stay using the $(document).on('click',selector) method for use in my application. I have see a few answers, but none that work with that method. Maybe An oversight by me? </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $('.Name').text('A veery long namemmmmmmeehhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhhheeeee');\r\n  $(document).on(\"click\", \".task\", function() {\r\n\r\n    alert(\"click\");\r\n  });\r\n  $(document).on(\"click\", \".Name\", function() {\r\n\r\n    alert(\"click\");\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.one {\r\n  height: 495px;\r\n  flex-basis: 50%;\r\n  max-width: 50%;\r\n  min-width: 35%;\r\n  position: relative;\r\n  top: 20px;\r\n  margin-right: 20px;\r\n  margin-left: 10px;\r\n  outline: solid red 1px;\r\n}\r\n\r\n.two {\r\n  height: 210px;\r\n  top: 20px;\r\n  position: relative;\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n  flex-basis: 50%;\r\n  max-width: 50%;\r\n  min-width: 15%;\r\n  outline: solid red 1px;\r\n}\r\n\r\n.flex {\r\n  height: 100%;\r\n  width: 100%;\r\n  display: flex;\r\n}\r\n\r\n.Box {\r\n  cursor: pointer;\r\n  width: 85%;\r\n  padding-left: 8px;\r\n}\r\n\r\n.Name {\r\n  margin: 0px;\r\n  width: 85%;\r\n  max-height: 25px;\r\n  font-size: 18px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n\r\n.Date {\r\n  margin: 0px;\r\n}\r\n\r\n.task {\r\n  width: 100%;\r\n  height: 55px;\r\n  cursor: pointer;\r\n  background-color: white;\r\n  border-top: solid #eaeaea 1px;\r\n  border-bottom: solid #eaeaea 1px;\r\n}\r\n\r\n.Details {\r\n  position: relative;\r\n  top: 10%;\r\n  display: inline-block;\r\n  margin-left: 15px;\r\n  width: 85%;\r\n}\r\n\r\n.three {\r\n  height: 210px;\r\n  top: 20px;\r\n  position: relative;\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n  flex-basis: 50%;\r\n  max-width: 50%;\r\n  min-width: 35%;\r\n  outline: solid red 1px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"flex\"&gt;\r\n\r\n  &lt;div class=\"one\"&gt;\r\n    one\r\n    &lt;div class=\"task task-container\" data-type=\"yes\"&gt;\r\n      &lt;div class=\"Details\"&gt;\r\n        &lt;div class=\"Box\"&gt;\r\n          &lt;p class=\"Name\"&gt;A very long nameeeeeeeeeeeeeeeeeeeeeeeeeeeeemmmmmmmmmmmmmmmmee&lt;/p&gt;\r\n          &lt;p class=\"Date\"&gt;Due: 4/10/2018&lt;/p&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"two\"&gt;\r\n    two\r\n  &lt;/div&gt;\r\n  &lt;div class=\"three\"&gt;\r\n    three\r\n    &lt;div class=\"task task-container\" data-type=\"yes\"&gt;\r\n      &lt;div class=\"Details\"&gt;\r\n        &lt;div class=\"Box\"&gt;\r\n          &lt;p class=\"Name\"&gt;&lt;/p&gt;\r\n          &lt;p class=\"Date\"&gt;Due: 4/10/2018&lt;/p&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>LINK- <a href=\"https://jsfiddle.net/t29ffzan/35/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/t29ffzan/35/</a></p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 232, "user_id": 2796515, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cca163ebbc0729f1a55adef143de46e2?s=128&d=identicon&r=PG&f=1", "display_name": "user2796515", "link": "https://stackoverflow.com/users/2796515/user2796515"}, "edited": false, "score": 0, "creation_date": 1527107120, "post_id": 50496300, "comment_id": 88006583, "body": "You could just use pure CSS set the visibility for sub-menus to <code>visibility: hidden;</code> and changed to <code>visibility: visible;</code> on <code>parent:hover ul.class</code>"}], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 2159190, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/7c564a0146874d4a9c4a0631c32c42c1?s=128&d=identicon&r=PG", "display_name": "graphical_force", "link": "https://stackoverflow.com/users/2159190/graphical-force"}, "is_accepted": false, "score": 0, "last_activity_date": 1527106809, "creation_date": 1527106809, "answer_id": 50496836, "question_id": 50496300, "link": "https://stackoverflow.com/questions/50496300/showing-a-submenu-on-hover-of-the-parent-link-then-keeping-it-visible-until-the/50496836#50496836", "title": "Showing a submenu on hover of the parent link, then keeping it visible until the mouse leaves the sub menu?", "body": "<pre><code>display = false;\n$('.sub-menu').toggle( display );\n\n$('.parent-menu').mouseenter(function() {\n  $('.sub-menu').toggle(\"slow\");\n});\n\n$('.parent-menu').mouseleave(function() {\n  $('.sub-menu').toggle(\"slow\");\n});\n</code></pre>\n\n<p>Not sure if you wanted each one to separately or together. This will open them all.</p>\n"}, {"tags": [], "owner": {"reputation": 7440, "user_id": 361883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e158f7f77cfb7400a30b389b68fcf60f?s=128&d=identicon&r=PG", "display_name": "AKor", "link": "https://stackoverflow.com/users/361883/akor"}, "is_accepted": true, "score": 1, "last_activity_date": 1527120644, "creation_date": 1527120644, "answer_id": 50499134, "question_id": 50496300, "link": "https://stackoverflow.com/questions/50496300/showing-a-submenu-on-hover-of-the-parent-link-then-keeping-it-visible-until-the/50499134#50499134", "title": "Showing a submenu on hover of the parent link, then keeping it visible until the mouse leaves the sub menu?", "body": "<p>Figured it out actually. I was overcomplicating things by using <code>.hover()</code> and found that I could simply use <code>mouseenter()</code> and <code>mouseleave()</code> separately, but using the latter on the parent element of <em>both</em> the main menu item and its submenu. So when your mouse enters the parent menu item link, it shows its sub menu (I have multiple, so I had to use <code>$(this)</code> and <code>find()</code> or <code>siblings()</code> instead of hardcoding it). And when the mouse leaves the parent of both (so either the main link or the sub menu itself) it becomes hidden, as it should be.</p>\n\n<p>Here's the code:</p>\n\n<pre><code>$('.menu-item &gt; a').mouseenter(function() {\n  $(this).siblings('.sub-menu').show();\n\n});\n\n$('.menu-item').mouseleave(function() {\n  $(this).find('.sub-menu').hide();\n});\n</code></pre>\n"}], "owner": {"reputation": 7440, "user_id": 361883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/e158f7f77cfb7400a30b389b68fcf60f?s=128&d=identicon&r=PG", "display_name": "AKor", "link": "https://stackoverflow.com/users/361883/akor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "accepted_answer_id": 50499134, "answer_count": 2, "score": 0, "last_activity_date": 1527120644, "creation_date": 1527104522, "question_id": 50496300, "link": "https://stackoverflow.com/questions/50496300/showing-a-submenu-on-hover-of-the-parent-link-then-keeping-it-visible-until-the", "title": "Showing a submenu on hover of the parent link, then keeping it visible until the mouse leaves the sub menu?", "body": "<p>I have a menu arranged like this:</p>\n\n<pre><code>&lt;ul class=\"parent-menu\"&gt;\n  &lt;li class=\"menu-item\"&gt;\n    &lt;a class=\"menu-item-link\" href=\"#\"&gt;Link&lt;/a&gt;\n    &lt;ul class=\"sub-menu\"&gt;\n      &lt;!-- sub menu list items --&gt;\n    &lt;/ul&gt;\n  &lt;/li&gt;\n  &lt;!-- more parent menu list items --&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>The <code>.sub-menu</code> elements are hidden by default.</p>\n\n<p>I'm using the following jQuery to show/hide the submenus perfectly fine:</p>\n\n<pre><code>$('.menu-item &gt; a').hover(function() {\n  $(this).find('.sub-menu').toggle();\n})\n</code></pre>\n\n<p>Of course, they disappear as soon as the mouse leaves the <code>.menu-item &gt; a</code> element. I can't figure out a way to \"handoff\" the second half of the <code>.toggle()</code> event to work as basically a <code>.mouseleave()</code> on the entire <code>.sub-menu</code> element. </p>\n\n<p>So when a user hovers on a parent menu item, they are presented with a sub menu, and should be able to hover at their leisure and select a sub menu item.</p>\n\n<p>How would I go about this?</p>\n"}, {"tags": ["javascript", "reactjs", "ecmascript-6", "es6-modules"], "answers": [{"tags": [], "owner": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "is_accepted": true, "score": 3, "last_activity_date": 1527104422, "creation_date": 1527104422, "answer_id": 50496281, "question_id": 50496239, "link": "https://stackoverflow.com/questions/50496239/are-there-downsides-to-importing-both-a-namespace-and-a-child-module-e-g-impo/50496281#50496281", "title": "Are there downsides to importing both a namespace and a child module? E.g. `import React, { Component } from ...`", "body": "<p>No, the module won't be double-imported. There isn't much difference really between this two ways of importing. The second way makes sense if you have many components in a file, so you can write just <code>extends Component</code> instead of <code>extends React.Component</code>.</p>\n\n<p>In this case,</p>\n\n<pre><code>import React, { Component } from 'react';\n</code></pre>\n\n<p>is essentially the same as</p>\n\n<pre><code>import React from 'react';\nconst { Component } = React;\n</code></pre>\n"}], "owner": {"reputation": 2597, "user_id": 1329321, "user_type": "registered", "accept_rate": 51, "profile_image": "https://www.gravatar.com/avatar/c3c2bc221f92e4a674ac01510cf900f0?s=128&d=identicon&r=PG", "display_name": "Mike Manfrin", "link": "https://stackoverflow.com/users/1329321/mike-manfrin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 50496281, "answer_count": 1, "score": 1, "last_activity_date": 1527104594, "creation_date": 1527104205, "last_edit_date": 1527104594, "question_id": 50496239, "link": "https://stackoverflow.com/questions/50496239/are-there-downsides-to-importing-both-a-namespace-and-a-child-module-e-g-impo", "title": "Are there downsides to importing both a namespace and a child module? E.g. `import React, { Component } from ...`", "body": "<p>I was working with some coworkers on a React component, and I had imported React and started to write my class as </p>\n\n<pre><code>import React from 'react'\n\nClass MyComponent extends React.Component\n</code></pre>\n\n<p>when they suggested I import Component as well, i.e.:</p>\n\n<pre><code>import React, { Component } from 'react'\n</code></pre>\n\n<p>This is a new pattern to me, and my first reaction was to guess that importing both the namespace and a child module would cause them to be double-imported, as we'd have both a <code>React</code> object and a <code>Component</code> object (which also exists under <code>React</code>).</p>\n\n<p>My second reaction was to think that since objects are passed by reference, both <code>React.Component</code> and <code>Component</code> would reference the same object in memory, so the only real difference is that there'd be an extra (but minimal -- not counting the other modules under React) <code>React</code> object.</p>\n\n<p>However, I'm not sure. Which is correct? Or is neither?</p>\n"}, {"tags": ["javascript", "office-js"], "comments": [{"owner": {"reputation": 6934, "user_id": 7823505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vWz8s.png?s=128&g=1", "display_name": "Outlook Add-ins Team - MSFT", "link": "https://stackoverflow.com/users/7823505/outlook-add-ins-team-msft"}, "edited": false, "score": 0, "creation_date": 1527114836, "post_id": 50496215, "comment_id": 88009643, "body": "@vcRobe, currently, there is no way to get print preview page for the selected message. Can you share some more information about your the scenario you are trying to achieve?"}], "answers": [{"tags": [], "owner": {"reputation": 6934, "user_id": 7823505, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vWz8s.png?s=128&g=1", "display_name": "Outlook Add-ins Team - MSFT", "link": "https://stackoverflow.com/users/7823505/outlook-add-ins-team-msft"}, "is_accepted": true, "score": 0, "last_activity_date": 1527700767, "creation_date": 1527700767, "answer_id": 50610298, "question_id": 50496215, "link": "https://stackoverflow.com/questions/50496215/how-to-get-the-url-with-a-print-preview-of-an-outlook-365-message-with-officejs/50610298#50610298", "title": "How to get the URL with a print preview of an Outlook 365 message with OfficeJS?", "body": "<p>Based on the additional information provided, it seems like you want to transmit the message. You could do this by using Office.context.mailbox.item.itemId convert the id to a REST id using Office.context.mailbox.convertToRestId and then do a get using REST use <a href=\"https://developer.microsoft.com/en-us/graph/docs/api-reference/v1.0/api/message_get\" rel=\"nofollow noreferrer\">https://developer.microsoft.com/en-us/graph/docs/api-reference/v1.0/api/message_get</a>.</p>\n"}], "owner": {"reputation": 1285, "user_id": 810328, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/98951d6303cf432496217feebec6359f?s=128&d=identicon&r=PG", "display_name": "vcRobe", "link": "https://stackoverflow.com/users/810328/vcrobe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 1, "accepted_answer_id": 50610298, "answer_count": 1, "score": -1, "last_activity_date": 1527700767, "creation_date": 1527104111, "last_edit_date": 1527167725, "question_id": 50496215, "link": "https://stackoverflow.com/questions/50496215/how-to-get-the-url-with-a-print-preview-of-an-outlook-365-message-with-officejs", "title": "How to get the URL with a print preview of an Outlook 365 message with OfficeJS?", "body": "<p>I'm creating an Outlook add-ins using OfficeJS and I need to get the URL of the print preview view of a message.</p>\n\n<p>Here's an example of what I want</p>\n\n<p>The original message</p>\n\n<p><a href=\"https://i.stack.imgur.com/JfjSa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JfjSa.png\" alt=\"enter image description here\"></a></p>\n\n<p>and here is the print preview of the message</p>\n\n<p><a href=\"https://i.stack.imgur.com/1gGzi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1gGzi.png\" alt=\"enter image description here\"></a></p>\n\n<p>How I can get the URL of the print preview?</p>\n\n<hr>\n\n<p><strong>More info about the scenario:</strong></p>\n\n<p>I'm creating an outlook add-in that must be installed in Outlook 365 and Outlook Desktop 2016.</p>\n\n<p>I'm using Office.js for the development.</p>\n\n<p>When the user clicks a button in the addin, I need to send the whole message to a Web API as a file.</p>\n\n<p>Currently, I get all the info from the message, but it is separated by pieces: the <em>To, CC, Subject, Body</em> from <em>Office.context.mailbox.item</em> programmatically. I need it all as a single file (html, pdf or any standard format).</p>\n"}, {"tags": ["javascript", "php", "timeout"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 2, "creation_date": 1527104906, "post_id": 50496203, "comment_id": 88005497, "body": "All I can say is that although your client-side code will work, you should not pass a string to <code>setTimeout()</code> as it is handled as an <code>eval()</code> operation. Instead, you should pass a function: <code>setTimeout(function(){ location.href = &quot;timedout.php&quot;; }, 300000);</code>. That should redirect you to the .php file, which should then do it&#39;s thing."}, {"owner": {"reputation": 125, "user_id": 5404909, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-QW5OEnBT1WU/AAAAAAAAAAI/AAAAAAAABvs/GbJpVqYLlLs/photo.jpg?sz=128", "display_name": "Anna", "link": "https://stackoverflow.com/users/5404909/anna"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1527124584, "post_id": 50496203, "comment_id": 88011831, "body": "So I changed the code to match your comment... but it still isn&#39;t automatically logging the user out. I&#39;m looking to have the page automatically redirect the user to &quot;timedout.php&quot; saying that they have been signed out due to inactivity. So far I can log them out, but not until they click a link or refresh the page. The code isn&#39;t auto-redirecting them..."}], "owner": {"reputation": 125, "user_id": 5404909, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-QW5OEnBT1WU/AAAAAAAAAAI/AAAAAAAABvs/GbJpVqYLlLs/photo.jpg?sz=128", "display_name": "Anna", "link": "https://stackoverflow.com/users/5404909/anna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1527127399, "creation_date": 1527104082, "last_edit_date": 1527127399, "question_id": 50496203, "link": "https://stackoverflow.com/questions/50496203/how-can-i-automatically-log-users-session-out-without-clicking-first", "title": "How can I automatically log users session out without clicking first", "body": "<p>I made a site that is user-based and so far I've been able to easily handle the sessions up to this point. I'm not a noob when it comes to php, but I don't have a good working knowledge of javascript. I have set a timeout for my users so that they are automatically timed out after 20 minutes of <em>inactivity</em>. It works great, other than they need to click a link or refresh in order for the session to actually be timed out. This is my current php timeout.</p>\n\n<pre><code>&lt;?php\n\n//TIMEOUT AFTER 20 MINUTES\nif(isset($_SESSION['signed_in'])) {\n\n$inactive = 1200;\n\nif(isset($_SESSION['timeout']) ) {\n$session_life = time() - $_SESSION['timeout'];\nif($session_life &gt; $inactive) { \n    $id = $_SESSION['user_id'];\n\n    //this db row is solely to display # of users logged in\n    mysqli_query($connect, \"UPDATE users SET user_signedin='0' WHERE user_id = '$id'\");\n    session_destroy();\n    $_SESSION = array();\n    header(\"Location: timedout.php\"); \n}\n}\n$_SESSION['timeout'] = time();\n}\n?&gt;\n</code></pre>\n\n<p>But I've also tried javascript (setting the timer to 5 minutes) like so:</p>\n\n<pre><code>&lt;script&gt;\nvar wintimeout;\n\nfunction SetWinTimeout() {\nwintimeout = window.setTimeout(\"window.location.href='timedout.php';\",300000);\n }\n $('body').click(function() {\n\nwindow.clearTimeout(wintimeout); //when user clicks remove timeout and reset it\n\nSetWinTimeout();\n\n});\n SetWinTimeout();\n &lt;/script&gt;\n</code></pre>\n\n<p>I've searched a number of different places to find out how to implement an automatic redirect without having to click or refresh, but so far no luck. How do people redirect automatically (without clicking or refreshing) upon timeout?</p>\n\n<p><strong>EDIT:</strong> For people who are looking for the same answer: Ok, I was able to get the desired effect by adding this to my page header</p>\n\n<pre><code>&lt;?php if(isset($_SESSION['signed_in'])) { ?&gt;\n&lt;meta http-equiv=\"refresh\" content=\"1800;url=internal.php\" /&gt;\n?&gt;\n</code></pre>\n\n<p>\"internal.php\" is very similar to the first piece of code I pasted above, though I've taken out the piece where it checks for timeout. However, now I'm having problems with people exiting the tab and not getting signed out, but that's a whole other issue. </p>\n"}, {"tags": ["javascript", "json", "chart.js"], "comments": [{"owner": {"reputation": 1208, "user_id": 7664140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TO0ny.jpg?s=128&g=1", "display_name": "Matt Pengelly", "link": "https://stackoverflow.com/users/7664140/matt-pengelly"}, "edited": false, "score": 0, "creation_date": 1527104107, "post_id": 50496135, "comment_id": 88005101, "body": "I think you might have extra braces.    try: function save() {     let data = {           datasets: myChart.data.datasets      };      $.post(&#39;/save&#39;, JSON.stringify(data)) }"}, {"owner": {"reputation": 33, "user_id": 7290703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/esFtu.png?s=128&g=1", "display_name": "kadota", "link": "https://stackoverflow.com/users/7290703/kadota"}, "reply_to_user": {"reputation": 1208, "user_id": 7664140, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TO0ny.jpg?s=128&g=1", "display_name": "Matt Pengelly", "link": "https://stackoverflow.com/users/7664140/matt-pengelly"}, "edited": false, "score": 0, "creation_date": 1527104336, "post_id": 50496135, "comment_id": 88005215, "body": "@MattPengelly I have more variables apart from savedData, just added them to the question. Sorry!"}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 7290703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/esFtu.png?s=128&g=1", "display_name": "kadota", "link": "https://stackoverflow.com/users/7290703/kadota"}, "is_accepted": false, "score": 0, "last_activity_date": 1527163810, "last_edit_date": 1527163810, "creation_date": 1527163505, "answer_id": 50508971, "question_id": 50496135, "link": "https://stackoverflow.com/questions/50496135/json-cyclic-object-value-when-posting-data-in-chartjs/50508971#50508971", "title": "JSON cyclic object value when posting data in ChartJS", "body": "<p>This wasn't trivial at all. As many questions &amp; answers regarding cyclic objects in JSON are posted, none of them are very especific about what the solution is. For example, those which use the replacer parameter of JSON.stringify() don't work at all (at least in this case), as the data will be loss.</p>\n\n<p>So, for me the solution was <code>dojox.json.href</code> from the Dojo javascript library. Here's <a href=\"https://dojotoolkit.org/reference-guide/1.10/dojox/json/ref.html\" rel=\"nofollow noreferrer\">some documentation</a>.</p>\n\n<p>It's not the whole thing, but here's some code in case someone need it. First you serialize the object:</p>\n\n<pre><code>require([\"dojox/json/ref\"], function(){\n    let data = { \n            datasets: dojox.json.ref.toJson(...) \n    }\n    $.post('/save',\n    ...\n});\n</code></pre>\n\n<p>And then you deserialize it:</p>\n\n<pre><code>require([\"dojox/json/ref\"], function(){\n      data = dojox.json.ref.fromJson(...);      \n});\n</code></pre>\n\n<p>You can import the library just like this:</p>\n\n<pre><code>&lt;script src=\"//ajax.googleapis.com/ajax/libs/dojo/1.13.0/dojo/dojo.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>This is the only way I've been capable to post the JSON object without loosing data.</p>\n\n<p>Hope it helps!</p>\n"}], "owner": {"reputation": 33, "user_id": 7290703, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/esFtu.png?s=128&g=1", "display_name": "kadota", "link": "https://stackoverflow.com/users/7290703/kadota"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 155, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1527163810, "creation_date": 1527103799, "last_edit_date": 1527104406, "question_id": 50496135, "link": "https://stackoverflow.com/questions/50496135/json-cyclic-object-value-when-posting-data-in-chartjs", "title": "JSON cyclic object value when posting data in ChartJS", "body": "<p>I'm working with ChartJS to create charts with inputs from the user. It works fine showing the results for more than one dataset, but when I post the data with Javascript using JSON I get this error \"cyclic object value\". I've been not able to find an answer here, so I'm going to try to explain the issue the best I can.</p>\n\n<p>This is the JS object (myChart.data.datasets) I'm posting, with two datasets from ChartJS:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gzruH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gzruH.png\" alt=\"\"></a> </p>\n\n<p>Then I have a save() function which post that info (working fine for just one dataset) once the chart is done.</p>\n\n<pre><code>function save() {\n    let data = {\n          datasets: myChart.data.datasets\n     };\n     $.post('/save',\n         {\n             savedData: JSON.stringify(data),\n             color: document.getElementById(\"color\").value,\n             ...\n         }    \n      )\n}\n</code></pre>\n\n<p>I have no idea what's the cyclic object here, but I know <strong>the problem is with the content of myChart.data.datasets being posted</strong>. I've used some of the filters from other similar questions, but all them makes some of the data to be lost.</p>\n\n<p>I use the same object to display the chart, which works perfectly with more than one dataset. The problem just happens when posting the data.</p>\n\n<p>Any ideas about what it might be happening? Truly appreciate it, thanks!</p>\n"}, {"tags": ["javascript", "object", "for-loop", "properties"], "comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1527103782, "post_id": 50496080, "comment_id": 88004943, "body": "Did you notice that when you console.log <code>page</code> you get the index, not the object?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1527103844, "post_id": 50496080, "comment_id": 88004980, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/3010840/loop-through-an-array-in-javascript\">Loop through an array in JavaScript</a>"}], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 6, "last_activity_date": 1527104257, "last_edit_date": 1527104257, "creation_date": 1527103786, "answer_id": 50496130, "question_id": 50496080, "link": "https://stackoverflow.com/questions/50496080/how-do-i-access-object-properties-in-a-for-loop-in-javascript/50496130#50496130", "title": "How do I access object properties in a for loop in javascript?", "body": "<p>You could use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"noreferrer\"><code>for ... of</code> statement</a>, where you get the element of the array instead of the index by using a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in\" rel=\"noreferrer\"><code>for ... in</code> statement</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const pages = [{ url: \"/\", page: 'pages/home.html', title: \"Home\" }, { url: \"/recordings\", page: 'pages/recordings.html', title: \"Recordings\" }, { url: \"/editions\", page: 'pages/editions.html', title: \"Editions\" }, { url: \"/videos\", page: 'pages/videos.html', title: \"Videos\" }];\r\n\r\nfor (var page of pages) {\r\n    console.log(\"Page: \" + page.page);\r\n    console.log(\"Page URL: \" + page.url);\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 372, "user_id": 9763818, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CJOic.jpg?s=128&g=1", "display_name": "Sree", "link": "https://stackoverflow.com/users/9763818/sree"}, "is_accepted": false, "score": 0, "last_activity_date": 1527103880, "creation_date": 1527103880, "answer_id": 50496153, "question_id": 50496080, "link": "https://stackoverflow.com/questions/50496080/how-do-i-access-object-properties-in-a-for-loop-in-javascript/50496153#50496153", "title": "How do I access object properties in a for loop in javascript?", "body": "<p>page would be index here...</p>\n\n<pre><code>console.log(\"Pages: \" + pages)\nconsole.log(\"Test URL: \" + pages[1].url)\nfor (page in pages) {\n\n    console.log(\"Page: \" + pages[page])\n    console.log(\"Page URL: \" +pages[page].url)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 9510069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WI20UQ9JJbQ/AAAAAAAAAAI/AAAAAAAAAEI/MpXq2ul5LA4/photo.jpg?sz=128", "display_name": "Jacob Brown", "link": "https://stackoverflow.com/users/9510069/jacob-brown"}, "is_accepted": false, "score": 0, "last_activity_date": 1527103914, "creation_date": 1527103914, "answer_id": 50496161, "question_id": 50496080, "link": "https://stackoverflow.com/questions/50496080/how-do-i-access-object-properties-in-a-for-loop-in-javascript/50496161#50496161", "title": "How do I access object properties in a for loop in javascript?", "body": "<p>This is because <code>for in</code> is meant to iterate through a key, value object. <code>page</code> is just the key of the array which is 0,1,2,3,.. so you would need to do</p>\n\n<pre><code>console.log(\"Pages: \" + pages)\nconsole.log(\"Test URL: \" + pages[1].url)\n\nfor (var key in pages) {\n\n    console.log(\"Page: \" + pages[key])\n    console.log(\"Page URL: \" + pages[key].url)\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "is_accepted": false, "score": 1, "last_activity_date": 1527103977, "creation_date": 1527103977, "answer_id": 50496179, "question_id": 50496080, "link": "https://stackoverflow.com/questions/50496080/how-do-i-access-object-properties-in-a-for-loop-in-javascript/50496179#50496179", "title": "How do I access object properties in a for loop in javascript?", "body": "<p>for..in is a method for iterating over \"enumerable\" properties of an object. </p>\n\n<p>With arrays using for..in reveals the indexes:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const pages=[{url:\"/\",page:'pages/home.html',title:\"Home\"},{url:\"/recordings\",page:'pages/recordings.html',title:\"Recordings\"},{url:\"/editions\",page:'pages/editions.html',title:\"Editions\"},{url:\"/videos\",page:'pages/videos.html',title:\"Videos\"}]\r\n\r\nfor (let index in pages) {\r\n  console.log(index);\r\n  console.log(pages[index].page);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>for..of can be used to iterate over \"iterable\" collections. This acts like a <code>.forEach()</code> function:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const pages=[{url:\"/\",page:'pages/home.html',title:\"Home\"},{url:\"/recordings\",page:'pages/recordings.html',title:\"Recordings\"},{url:\"/editions\",page:'pages/editions.html',title:\"Editions\"},{url:\"/videos\",page:'pages/videos.html',title:\"Videos\"}]\r\n\r\nfor (let page of pages) {\r\n  console.log(page);\r\n  console.log(page.page);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 256, "user_id": 9646231, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "af costa", "link": "https://stackoverflow.com/users/9646231/af-costa"}, "is_accepted": false, "score": 0, "last_activity_date": 1527104068, "creation_date": 1527104068, "answer_id": 50496199, "question_id": 50496080, "link": "https://stackoverflow.com/questions/50496080/how-do-i-access-object-properties-in-a-for-loop-in-javascript/50496199#50496199", "title": "How do I access object properties in a for loop in javascript?", "body": "<p>On the first case you are accesing the first element of the array, and in that element access the property with the '.url':</p>\n\n<pre><code>console.log(\"Test URL: \" + pages[1].url)\n</code></pre>\n\n<p>on the second case you get undefined because:</p>\n\n<blockquote>\n  <p>The for...in statement iterates over the enumerable properties of an object. For each distinct property, statements can be executed.</p>\n</blockquote>\n\n<p>pages is a <strong>array</strong> not a <strong>object</strong>, you need to iterate over the <strong>array</strong>, you can use <strong>foreach</strong> for that:</p>\n\n<pre><code>pages.forEach( function (page)\n{\n   console.log(\"Page: \" + page)\n   console.log(\"Page URL: \" + page.url)\n});\n</code></pre>\n\n<p>hope it helps!</p>\n"}, {"tags": [], "owner": {"reputation": 124, "user_id": 6629448, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/uolvE.jpg?s=128&g=1", "display_name": "Gaurav Priyadarshi", "link": "https://stackoverflow.com/users/6629448/gaurav-priyadarshi"}, "is_accepted": false, "score": 0, "last_activity_date": 1527105758, "last_edit_date": 1527105758, "creation_date": 1527105023, "answer_id": 50496409, "question_id": 50496080, "link": "https://stackoverflow.com/questions/50496080/how-do-i-access-object-properties-in-a-for-loop-in-javascript/50496409#50496409", "title": "How do I access object properties in a for loop in javascript?", "body": "<p>When we iterate array of objects(as you are trying) using for/in statement loop for each iteration it returns index that's why you are not getting the result as you are expecting. Following are the code which solve your problem.</p>\n\n<pre><code>for (page in pages) {   \n  console.log(\"Page: \" + page)//here it will print index\n  console.log(\"Page URL: \" + page.url)\n}\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 7408255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6102de4b0c2f9f9261ba0c4859eb2e8f?s=128&d=identicon&r=PG&f=1", "display_name": "coding_pianist", "link": "https://stackoverflow.com/users/7408255/coding-pianist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 0, "answer_count": 6, "score": 3, "last_activity_date": 1527105758, "creation_date": 1527103553, "question_id": 50496080, "link": "https://stackoverflow.com/questions/50496080/how-do-i-access-object-properties-in-a-for-loop-in-javascript", "title": "How do I access object properties in a for loop in javascript?", "body": "<p>I can't find anything that explains clearly what is wrong and what I should do.</p>\n\n<p>I have this array:</p>\n\n<pre><code>const pages = [\n{ \n    url: \"/\",\n    page: 'pages/home.html',\n    title: \"Home\" },\n{ \n    url: \"/recordings\",\n    page:'pages/recordings.html',\n    title: \"Recordings\" },\n{ \n    url: \"/editions\",\n    page: 'pages/editions.html',\n    title: \"Editions\" },\n{ \n    url: \"/videos\",\n    page: 'pages/videos.html',\n    title: \"Videos\" },\n]\n</code></pre>\n\n<p>I'm trying to loop it through with a for loop. page.url returns \"undefined\" in the console. But the \"Test URL\" console log returns a url string as expected. Why? What do I do? I want the page.url in the foor loop.</p>\n\n<pre><code>console.log(\"Pages: \" + pages)\nconsole.log(\"Test URL: \" + pages[1].url)\nfor (page in pages) {\n\n    console.log(\"Page: \" + page)\n    console.log(\"Page URL: \" + page.url)\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "stream", "web-audio-api"], "comments": [{"owner": {"reputation": 2557, "user_id": 5764553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dd0033e9f395f84f4357d0fafd54df1?s=128&d=identicon&r=PG", "display_name": "Andrew Myers", "link": "https://stackoverflow.com/users/5764553/andrew-myers"}, "edited": false, "score": 0, "creation_date": 1527120172, "post_id": 50496069, "comment_id": 88010953, "body": "Can you even get the media stream data in chunks while it&#39;s playing? There&#39;s <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/MediaRecorder/ondataavailable\" rel=\"nofollow noreferrer\">MediaRecorder.ondataavailable</a>, but that only gets fired after the you stop recording."}, {"owner": {"reputation": 5446, "user_id": 3528590, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/MURuw.jpg?s=128&g=1", "display_name": "Stretch0", "link": "https://stackoverflow.com/users/3528590/stretch0"}, "reply_to_user": {"reputation": 2557, "user_id": 5764553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dd0033e9f395f84f4357d0fafd54df1?s=128&d=identicon&r=PG", "display_name": "Andrew Myers", "link": "https://stackoverflow.com/users/5764553/andrew-myers"}, "edited": false, "score": 0, "creation_date": 1527151019, "post_id": 50496069, "comment_id": 88021404, "body": "@AndrewMyers are you saying the output of getUserMedia is not streamable? What about this library <a href=\"https://www.npmjs.com/package/microphone-stream\" rel=\"nofollow noreferrer\">npmjs.com/package/microphone-stream</a>? It has the function <code>micStream.on(&#39;data&#39;, function(chunk) {}</code> which appears to get Buffers which I would have thought is streamable?"}, {"owner": {"reputation": 2557, "user_id": 5764553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dd0033e9f395f84f4357d0fafd54df1?s=128&d=identicon&r=PG", "display_name": "Andrew Myers", "link": "https://stackoverflow.com/users/5764553/andrew-myers"}, "edited": false, "score": 1, "creation_date": 1527167281, "post_id": 50496069, "comment_id": 88032627, "body": "I was saying <i>I</i> couldn&#39;t find a way to make it streamable... So that library uses <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/BaseAudioContext/createScriptProcessor\" rel=\"nofollow noreferrer\">BaseAudioContext.createScriptProcessor()</a>, which is precisely what is necessary (for getting the data for a stream) and what I couldn&#39;t find."}, {"owner": {"reputation": 5446, "user_id": 3528590, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/MURuw.jpg?s=128&g=1", "display_name": "Stretch0", "link": "https://stackoverflow.com/users/3528590/stretch0"}, "reply_to_user": {"reputation": 2557, "user_id": 5764553, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0dd0033e9f395f84f4357d0fafd54df1?s=128&d=identicon&r=PG", "display_name": "Andrew Myers", "link": "https://stackoverflow.com/users/5764553/andrew-myers"}, "edited": false, "score": 0, "creation_date": 1527167780, "post_id": 50496069, "comment_id": 88032983, "body": "Yeah I see. <code>createScriptProcessor()</code> seems to be the way to do it. I am just exploring with it now and think I have a working solution. Will post an update when it&#39;s working"}], "owner": {"reputation": 5446, "user_id": 3528590, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/MURuw.jpg?s=128&g=1", "display_name": "Stretch0", "link": "https://stackoverflow.com/users/3528590/stretch0"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1527124856, "creation_date": 1527103528, "last_edit_date": 1527124856, "question_id": 50496069, "link": "https://stackoverflow.com/questions/50496069/how-to-upload-an-audio-stream-to-node", "title": "How to upload an audio stream to node", "body": "<p>I am getting an audio stream from my devices microphone and want to upload the stream to my Node server. </p>\n\n<p>I am getting my audio input as a stream like so:</p>\n\n<pre><code>const constraints = { \n  video: false, \n  audio: {deviceId: this.state.deviceId ? {exact: this.state.deviceId} : undefined},\n};\n\nwindow.navigator.mediaDevices.getUserMedia(constraints)\n  .then(stream =&gt; this.handleStream(stream))\n  .catch(err =&gt; this.handleError(err))\n</code></pre>\n\n<p>As the user is speaking, I want to be uploading the stream to my node server.</p>\n\n<p>Do I need to use some sort of websocket connection in order to upload a continuous stream or can I do it with an HTTP request, utilising axios or a similiar http request library?</p>\n"}]