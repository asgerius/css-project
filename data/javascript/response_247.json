[{"tags": ["javascript", "firebase", "firebase-cloud-messaging"], "owner": {"reputation": 89, "user_id": 12156538, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6535ee45653571e726fa02f5f43ab7d3?s=128&d=identicon&r=PG&f=1", "display_name": "Marko", "link": "https://stackoverflow.com/users/12156538/marko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570081163, "creation_date": 1570060520, "last_edit_date": 1570081163, "question_id": 58210724, "link": "https://stackoverflow.com/questions/58210724/integrate-firebase-with-my-web-app-to-send-notification", "title": "Integrate Firebase with my Web app to send notification", "body": "<p>I am kinda stuck with firebase, and any help will be appreciated.\nMy goal is to whoever opens my page get a notification to allow / block. Whoever allows notifications, I want to send him notifications in the future over <a href=\"https://console.firebase.google.com\" rel=\"nofollow noreferrer\">https://console.firebase.google.com</a> - Cloud messaging app.</p>\n\n<p>I have achieved something, when I open my web page over https I get notification do I want to allow or not</p>\n\n<p><img src=\"https://i.stack.imgur.com/yTNVH.png\" alt=\"enter image description here\"></p>\n\n<p>After I allow, when I try to send a message over cloud message to all participants of the project I get nothing.</p>\n\n<p>First I set firebase configuration</p>\n\n<pre><code>&lt;script&gt;\n  // Your web app's Firebase configuration \n  var config = {\n    apiKey: \"AIzaSyDX5nRZCEI-wxp7L7TzI3lYQXlFlIZq7Rw\",\n    authDomain: \"braintech-6f3cf.firebaseapp.com\",\n    databaseURL: \"https://xxxx.firebaseio.com\",\n    projectId: \"braintech-6f3cf\",\n    storageBucket: \"\",\n    messagingSenderId: \"xxxx\",\n    appId: \"1:747770571255:web:da58976e57ebeb0835a6f2\",\n    measurementId: \"G-73HKECM57P\"\n  };\n  // Initialize Firebase\n  firebase.initializeApp(config); \n  // Retrieve Firebase Messaging object.\n\nconst messaging = firebase.messaging();\n function setTokenSentToServer(sent) {\nwindow.localStorage.setItem('sentToServer', sent ? '1' : '0');\n}\n\nfunction sendTokenToServer(currentToken) {\n    if (!isTokenSentToServer()) {\n      console.log('Sending token to server...');\n      // TODO(developer): Send the current token to your server. \n      setTokenSentToServer(true);\n    } else {\n      console.log('Token already sent to server so won\\'t send it again ' +\n          'unless it changes');\n    }\n} \n\nfunction isTokenSentToServer() {\n    return window.localStorage.getItem('sentToServer') === '1';\n  }\nfunction getRegisterToken(){\n  // Get Instance ID token. Initially this makes a network call, once retrieved\n// subsequent calls to getToken will return from cache.\nmessaging.getToken().then((currentToken) =&gt; {\n  if (currentToken) {\n    sendTokenToServer(currentToken);\n\n    console.log(currentToken);\n    updateUIForPushEnabled(currentToken);\n  } else {\n    // Show permission request.\n    console.log('No Instance ID token available. Request permission to generate one.');\n    // Show permission UI.\n    updateUIForPushPermissionRequired();\n    setTokenSentToServer(false);\n  }\n}).catch((err) =&gt; {\n  console.log('An error occurred while retrieving token. ', err);\n  showToken('Error retrieving Instance ID token. ', err);\n  setTokenSentToServer(false);\n});  \n}\nfunction showToken(currentToken) {\n    // Show token in console and UI.\n    const tokenElement = document.querySelector('#token');\n    tokenElement.textContent = currentToken;\n  }\n</code></pre>\n\n<p>In console log I get a message that token is sent to server. But when I try to send messages nothing happens.\nAlso in firebase-messaging-sw.js which is in same folder as index file, </p>\n\n<pre><code>// Give the service worker access to Firebase Messaging.\n// Note that you can only use Firebase Messaging here, other Firebase libraries\n// are not available in the service worker.\nimportScripts('https://www.gstatic.com/firebasejs/6.3.4/firebase-app.js');\nimportScripts('https://www.gstatic.com/firebasejs/6.3.4/firebase-messaging.js');\n\n// Initialize the Firebase app in the service worker by passing in the\n// messagingSenderId.\n  var config = {\n    apiKey: \"AIzaSyDX5nRZCEI-wxp7L7TzI3lYQXlFlIZq7Rw\",\n    authDomain: \"xxxx.firebaseapp.com\",\n    databaseURL: \"https://xxx.firebaseio.com\",\n    projectId: \"xxx\",\n    storageBucket: \"\",\n    messagingSenderId: \"xxxx\",\n    appId: \"1:747770571255:web:da58976e57ebeb0835a6f2\",\n    measurementId: \"G-73HKECM57P\"\n  };\n  // Initialize Firebase\n  firebase.initializeApp(config); \n  // Retrieve Firebase Messaging object.\n\n// Retrieve an instance of Firebase Messaging so that it can handle background\n// messages. \nconst messaging = firebase.messaging();\n\nmessaging.setBackgroundMessageHandler(function(payload) {\n  console.log('[firebase-messaging-sw.js] Received background message ', payload);\n  // Customize notification here\n  const notificationTitle = 'Background Message Title';\n  const notificationOptions = {\n    body: 'Background Message body.',\n    icon: '/firebase-logo.png'\n  };\n\n  return self.registration.showNotification(notificationTitle,\n    notificationOptions);\n});\n</code></pre>\n\n<p>Not sure what is wrong? Any help would be appreciated</p>\n"}, {"tags": ["javascript", "jquery", "html", "forms", "validation"], "comments": [{"owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1570060455, "post_id": 58210698, "comment_id": 102798744, "body": "your HTML has no <code>&lt;form&gt;</code> that&#39;s a bad start..."}, {"owner": {"reputation": 85, "user_id": 5395546, "user_type": "registered", "profile_image": "https://graph.facebook.com/741356989341782/picture?type=large", "display_name": "Sarah Diri", "link": "https://stackoverflow.com/users/5395546/sarah-diri"}, "reply_to_user": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1570060522, "post_id": 58210698, "comment_id": 102798762, "body": "My entire form is wrapped with <code>&lt;form&gt;</code>, I only included the code referring to the one section of the form to keep from copy/pasting huge chunks of code."}, {"owner": {"reputation": 414, "user_id": 11627637, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7j6J0kQs8Wc/AAAAAAAAAAI/AAAAAAAAAEk/2s61r0ZQC0A/photo.jpg?sz=128", "display_name": "Pieter Steyn", "link": "https://stackoverflow.com/users/11627637/pieter-steyn"}, "edited": false, "score": 0, "creation_date": 1570060660, "post_id": 58210698, "comment_id": 102798788, "body": "I would highly recommend the jquery validation plugin <a href=\"https://jqueryvalidation.org/\" rel=\"nofollow noreferrer\">jqueryvalidation.org</a>"}, {"owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1570060686, "post_id": 58210698, "comment_id": 102798790, "body": "for HTML5 we have <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5/Constraint_validation\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5/&hellip;</a>"}, {"owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "edited": false, "score": 0, "creation_date": 1570060720, "post_id": 58210698, "comment_id": 102798795, "body": "What was the code for &quot;all the JavaScript stopped working&quot;? What errors were printed on the console?"}, {"owner": {"reputation": 85, "user_id": 5395546, "user_type": "registered", "profile_image": "https://graph.facebook.com/741356989341782/picture?type=large", "display_name": "Sarah Diri", "link": "https://stackoverflow.com/users/5395546/sarah-diri"}, "reply_to_user": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "edited": false, "score": 0, "creation_date": 1570061084, "post_id": 58210698, "comment_id": 102798856, "body": "@traktor53 I&#39;m receiving the error, &quot;Uncaught TypeError: Cannot read property &#39;value&#39; of undefined     at checkPhone&quot; -- referring to the line where the else if begins. The error only appears if I type something into the &quot;phone&quot; field and click submit, though. No errors until I do that."}, {"owner": {"reputation": 414, "user_id": 11627637, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7j6J0kQs8Wc/AAAAAAAAAAI/AAAAAAAAAEk/2s61r0ZQC0A/photo.jpg?sz=128", "display_name": "Pieter Steyn", "link": "https://stackoverflow.com/users/11627637/pieter-steyn"}, "edited": false, "score": 0, "creation_date": 1570061522, "post_id": 58210698, "comment_id": 102798941, "body": "@SarahDiri your <code>checkPhone</code> function expects a parameter (<code>inputtxt</code>), yet you pass no parameter in the function calls."}, {"owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "edited": false, "score": 0, "creation_date": 1570061886, "post_id": 58210698, "comment_id": 102799012, "body": "@SarahDiri test using a better browser. Firefox won&#39;t  even compile the code and reports that <code>if((inputtxt.value.match(phoneno)==false)</code> is missing a parenthesis after the condition."}, {"owner": {"reputation": 85, "user_id": 5395546, "user_type": "registered", "profile_image": "https://graph.facebook.com/741356989341782/picture?type=large", "display_name": "Sarah Diri", "link": "https://stackoverflow.com/users/5395546/sarah-diri"}, "reply_to_user": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "edited": false, "score": 0, "creation_date": 1570062019, "post_id": 58210698, "comment_id": 102799040, "body": "@traktor53 It definitely is, I failed to notice myself but someone else answered with that solution. It should run with the added ) at the end, but it still doesn&#39;t check for proper formatting. It seems I&#39;m having trouble figuring out how to pass the input in the field through the functions."}, {"owner": {"reputation": 85, "user_id": 5395546, "user_type": "registered", "profile_image": "https://graph.facebook.com/741356989341782/picture?type=large", "display_name": "Sarah Diri", "link": "https://stackoverflow.com/users/5395546/sarah-diri"}, "reply_to_user": {"reputation": 414, "user_id": 11627637, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7j6J0kQs8Wc/AAAAAAAAAAI/AAAAAAAAAEk/2s61r0ZQC0A/photo.jpg?sz=128", "display_name": "Pieter Steyn", "link": "https://stackoverflow.com/users/11627637/pieter-steyn"}, "edited": false, "score": 0, "creation_date": 1570062415, "post_id": 58210698, "comment_id": 102799119, "body": "@PieterSteyn Dumb question, but how do I go about passing the parameter properly? I&#39;ve tried everything I can think of, but I can&#39;t seem to get the user input in the phone field to go through the function."}, {"owner": {"reputation": 414, "user_id": 11627637, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7j6J0kQs8Wc/AAAAAAAAAAI/AAAAAAAAAEk/2s61r0ZQC0A/photo.jpg?sz=128", "display_name": "Pieter Steyn", "link": "https://stackoverflow.com/users/11627637/pieter-steyn"}, "edited": false, "score": 0, "creation_date": 1570065003, "post_id": 58210698, "comment_id": 102799604, "body": "@SarahDiri please see my answer below. I have shown you how to use the plugin I suggested, but if you do not want to use it I gave a working solution of your code below that."}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5395546, "user_type": "registered", "profile_image": "https://graph.facebook.com/741356989341782/picture?type=large", "display_name": "Sarah Diri", "link": "https://stackoverflow.com/users/5395546/sarah-diri"}, "edited": false, "score": 0, "creation_date": 1570060873, "post_id": 58210740, "comment_id": 102798814, "body": "Wow, okay. I definitely stared at this too long. I kept double checking the curly brackets and not the parenthesis. Thanks."}], "tags": [], "owner": {"reputation": 483, "user_id": 3732565, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c4a1d274cb877ca9627329e422c11bd?s=128&d=identicon&r=PG&f=1", "display_name": "lucas", "link": "https://stackoverflow.com/users/3732565/lucas"}, "is_accepted": false, "score": 1, "last_activity_date": 1570060651, "creation_date": 1570060651, "answer_id": 58210740, "question_id": 58210698, "link": "https://stackoverflow.com/questions/58210698/how-can-i-use-javascript-to-error-check-an-html-form-including-verifying-fields/58210740#58210740", "title": "How can I use Javascript to error check an HTML form, including verifying fields are filled and filled correctly?", "body": "<pre><code>else if((inputtxt.value.match(phoneno)==false){\n</code></pre>\n\n<p>this line missing a close bracket</p>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 5395546, "user_type": "registered", "profile_image": "https://graph.facebook.com/741356989341782/picture?type=large", "display_name": "Sarah Diri", "link": "https://stackoverflow.com/users/5395546/sarah-diri"}, "edited": false, "score": 0, "creation_date": 1570062055, "post_id": 58210840, "comment_id": 102799045, "body": "This would work, but it&#39;s HTML validation correct? I am supposed to use Javascript, inconvenient as it is."}], "tags": [], "owner": {"reputation": 49, "user_id": 11300962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38a70aa9820a09c732fd690878c02250?s=128&d=identicon&r=PG", "display_name": "Keynan", "link": "https://stackoverflow.com/users/11300962/keynan"}, "is_accepted": false, "score": 0, "last_activity_date": 1570061745, "creation_date": 1570061745, "answer_id": 58210840, "question_id": 58210698, "link": "https://stackoverflow.com/questions/58210698/how-can-i-use-javascript-to-error-check-an-html-form-including-verifying-fields/58210840#58210840", "title": "How can I use Javascript to error check an HTML form, including verifying fields are filled and filled correctly?", "body": "<pre><code>&lt;input type=\"phone\" pattern=\"^\\+?\\d{0,13}\" title=\"You missed your phone number\" name=\"phone\" id=\"phone\" placeholder=\"000-000-0000\" required&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 85, "user_id": 5395546, "user_type": "registered", "profile_image": "https://graph.facebook.com/741356989341782/picture?type=large", "display_name": "Sarah Diri", "link": "https://stackoverflow.com/users/5395546/sarah-diri"}, "edited": false, "score": 0, "creation_date": 1570566609, "post_id": 58211045, "comment_id": 102951362, "body": "Thank you! This worked. I didn&#39;t use the plugin, but I will experiment with it when I have some time, since it seems like the kind of tool I wish I&#39;d known about going into this."}], "tags": [], "owner": {"reputation": 414, "user_id": 11627637, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7j6J0kQs8Wc/AAAAAAAAAAI/AAAAAAAAAEk/2s61r0ZQC0A/photo.jpg?sz=128", "display_name": "Pieter Steyn", "link": "https://stackoverflow.com/users/11627637/pieter-steyn"}, "is_accepted": true, "score": 0, "last_activity_date": 1570064897, "last_edit_date": 1570064897, "creation_date": 1570063870, "answer_id": 58211045, "question_id": 58210698, "link": "https://stackoverflow.com/questions/58210698/how-can-i-use-javascript-to-error-check-an-html-form-including-verifying-fields/58211045#58211045", "title": "How can I use Javascript to error check an HTML form, including verifying fields are filled and filled correctly?", "body": "<p>As I've stated in the comments, I recommend the <a href=\"https://jqueryvalidation.org/\" rel=\"nofollow noreferrer\">jquery validation plugin</a>. Below is how you would validate your phone number using the plugin. If you read the documentation you'll see there are many many examples. Here is a demo: <a href=\"https://jsfiddle.net/6gojrte2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/6gojrte2/</a></p>\n\n<p>HTML Markup:</p>\n\n<pre><code>    &lt;form id=\"myform\"&gt;\n        &lt;label for=\"phone\"&gt;Phone: &lt;/label&gt;      \n        &lt;input name=\"field\" placeholder=\"000-000-0000\"&gt;&lt;br/&gt;\n        &lt;input type=\"submit\" value=\"Validate!\"&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>The required scripts</p>\n\n<pre><code>&lt;script src=\"https://code.jquery.com/jquery-1.11.1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdn.jsdelivr.net/jquery.validation/1.16.0/additional-methods.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n\n$(document).ready(function () {\n\n    $( \"#myform\" ).validate({\n      rules: {\n        field: {\n          required: true,\n          phone: true     \n        }\n      }\n    });\n\n    jQuery.validator.addMethod(\"phone\", function (phone_number, element) {\n            phone_number = phone_number.replace(/\\s+/g, \"\");\n            return this.optional(element) || phone_number.length &gt; 9 &amp;&amp;  phone_number.match(/^\\(?[\\d\\s]{3}-[\\d\\s]{3}-[\\d\\s]{4}$/);\n    }, \"Invalid phone number\");\n\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>However, if you do not want to use the plugin, here is the solution to your validation. I corrected a few errors.</p>\n\n<pre><code>&lt;script&gt;\n\n $(\"document\").ready(function(){\n\n      $(\"#submit\").click(function(){\n        checkPhone($('#phone').val());\n      });\n });\n\n    $(\"#phone\").keyup(function(){      \n      checkPhone($('#phone').val());\n    });\n\n    function checkPhone(inputtxt){\n\n      var phoneno = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n      if($.trim($(\"#phone\").val())==\"\"){          \n        $(\"#errorphone\").html(\"&lt;p&gt;You missed your phone number&lt;/p&gt;\");\n        $(\"#errorphone\").addClass(\"showerror\");\n      }\n      else if((inputtxt.match(phoneno))==false || inputtxt.length &lt; 12){          \n        $(\"#errorphone\").html(\"&lt;p&gt;Please enter your number in the format 000-000-0000&lt;/p&gt;\");\n        $(\"#errorphone\").addClass(\"showerror\");\n      }\n      else{       \n        $(\"#errorphone\").html(\"\");\n        $(\"#errorphone\").removeClass(\"showerror\");\n      }\n    }\n\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "is_accepted": false, "score": 0, "last_activity_date": 1570065195, "creation_date": 1570065195, "answer_id": 58211169, "question_id": 58210698, "link": "https://stackoverflow.com/questions/58210698/how-can-i-use-javascript-to-error-check-an-html-form-including-verifying-fields/58211169#58211169", "title": "How can I use Javascript to error check an HTML form, including verifying fields are filled and filled correctly?", "body": "<p>Basically you need to get the value of the element and pass it to your validation function. In event handlers the <code>this</code> keyword is the element the event is firing from.</p>\n\n<p>Change</p>\n\n<pre><code> $(\"#phone\").change(function(){\n      console.log(\"Something in phone changed\");\n      checkPhone();\n    });\n</code></pre>\n\n<p>To </p>\n\n<pre><code> $(\"#phone\").change(function(){\n      console.log(\"Something in phone changed\");\n      //Pass the value of the element to the function\n      checkPhone(this.value);\n  });\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 5395546, "user_type": "registered", "profile_image": "https://graph.facebook.com/741356989341782/picture?type=large", "display_name": "Sarah Diri", "link": "https://stackoverflow.com/users/5395546/sarah-diri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "accepted_answer_id": 58211045, "answer_count": 4, "score": 1, "last_activity_date": 1570065195, "creation_date": 1570060280, "question_id": 58210698, "link": "https://stackoverflow.com/questions/58210698/how-can-i-use-javascript-to-error-check-an-html-form-including-verifying-fields", "title": "How can I use Javascript to error check an HTML form, including verifying fields are filled and filled correctly?", "body": "<p>I am trying to create a form on a webpage where Javascript/Jquery will perform client-side validation on the form. I need it to not only check that the required fields are filled in, but that they are filled in properly (i.e phone numbers are formatted 000-000-0000, emails have an @example.com at the end and two names are entered in the name field). I've been trying to find sample code online but the code I found mostly broke what I already had. Here is the code for <em>one</em> field of the form:</p>\n\n<p>HTML:</p>\n\n<pre><code>    &lt;div class=\"contactForm\"&gt;\n      &lt;label for=\"phone\"&gt;Phone: &lt;/label&gt;\n      &lt;div id=\"errorphone\" class=\"error\"&gt;&lt;/div&gt;\n      &lt;input type=\"phone\" name=\"phone\" id=\"phone\" placeholder=\"000-000-0000\" required&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Javascript:</p>\n\n<pre><code>    $(\"document\").ready(function(){\n      console.log(\"Loaded\");\n      $(\"#submit\").click(function(){\n        checkPhone();\n      });\n\n    $(\"#phone\").change(function(){\n      console.log(\"Something in phone changed\");\n      checkPhone();\n    });\n\n    function checkPhone(inputtxt){\n      var phoneno = /^\\(?([0-9]{3})\\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/;\n      if($.trim($(\"#phone\").val())==\"\"){\n        $(\"#errorphone\").html(\"&lt;p&gt;You missed your phone number&lt;/p&gt;\");\n        $(\"#errorphone\").addClass(\"showerror\");\n      }\n      else if((inputtxt.value.match(phoneno)==false){\n        $(\"errorphone\").html(\"&lt;p&gt;Please enter your number in the format 000-000-0000&lt;/p&gt;\");\n        $(\"#errorphone\").addClass(\"showerror\");\n      }\n      else{\n        $(\"#errorphone\").html(\"\");\n        $(\"#errorphone\").removeClass(\"showerror\");\n      }\n    }\n</code></pre>\n\n<p>The Javascript <em>used</em> to work to check if the field was empty or not, but when I tried to add in code to verify that the formatting was right, <em>all</em> the Javascript stopped worked. Here is my original checkPhone function, before I tried to add formatting validation:</p>\n\n<pre><code>    function checkName(){\n      if($.trim($(\"#name\").val())==\"\"){\n        $(\"#errorname\").html(\"&lt;p&gt;You missed your name&lt;/p&gt;\");\n        $(\"#errorname\").addClass(\"showerror\");\n      }\n      else{\n        $(\"#errorname\").html(\"\");\n        $(\"#errorname\").removeClass(\"showerror\");\n      }\n    }\n</code></pre>\n\n<p>I'm using Sublime, and the else statement in the current Javascript isn't colored properly, so I'm assuming the issue might have to do with syntax because it seems like the else statement isn't being recognized anymore. But frankly, I'm not even sure if I'm going about formatting validation properly, and I'm sure there's an easier way to do the form validation entirely. I've also noticed that the current version of checkPhone has inputtxt as a condition, but the input type for the field is listed as phone. Maybe that's the problem?</p>\n\n<p>Either way, any help in the method I'm using and how to proceed would be great. </p>\n"}, {"tags": ["javascript", "jquery"], "owner": {"reputation": 11, "user_id": 12156493, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAPJ89o0Wpp5jzKGbYauBU9vrfFJRHIeLawz12Jkg=k-s128", "display_name": "hubecube_", "link": "https://stackoverflow.com/users/12156493/hubecube"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 12, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570059244, "creation_date": 1570059244, "question_id": 58210585, "link": "https://stackoverflow.com/questions/58210585/viewing-events-in-jquery-subscribe-publish-calls", "title": "Viewing events in jQuery $.subscribe $.publish calls", "body": "<p>I am working on some existing javascript that uses $.publish and $.subscribe jQuery calls. </p>\n\n<p>I have an event trigger, something like $.publish(\"savePlugin\"); As expected it fires several functions that are subscribed to \"savePlugin\". This is all working great, but I think some of them are firing twice. How can I get a list of all the functions subscribed to this event to see if there are duplicate entries? Is there any way for me to edit that list?</p>\n\n<p>All I want is a call like this: $.showMeWhoIsSubscribedToThis(\"savePlugin\");\nI can't seem to find my way to it, or anything like it. You help is much appreciated. </p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": false, "score": 1, "last_activity_date": 1570059404, "creation_date": 1570059404, "answer_id": 58210603, "question_id": 58210555, "link": "https://stackoverflow.com/questions/58210555/formatting-jquery-script-the-correct-way/58210603#58210603", "title": "Formatting Jquery Script the correct way", "body": "<p>I'd use event delegation on the container, and if the target is the <code>feedback-yes</code>, append with the yes-string, else append with the no-string:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.feedback-headline').on('click', '.feedback-button', function(event) {\r\n  $(\".feedback-button\").hide();\r\n  $(\".feedback-headline\").append(`&lt;p style='display:inline-block;'&gt;${\r\n    event.target.id === 'feedback-yes'\r\n    ? 'Thanks for your feedback!'\r\n    : \"We're sorry to hear that! We'll try to improve on it.\"\r\n  }&lt;/p&gt;`);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"feedback-headline\"&gt;\r\n  &lt;p class=\"feedback-heading\"&gt;Was this page helpful?&lt;/p&gt;\r\n  &lt;button class=\"feedback-button\" id=\"feedback-yes\" type=\"button\"&gt;Yes&lt;/button&gt;\r\n  &lt;button class=\"feedback-button\" id=\"feedback-no\" type=\"button\"&gt;No&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 29, "user_id": 12128202, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e596d75171521b782e5f3f9c5330f1?s=128&d=identicon&r=PG&f=1", "display_name": "JT__", "link": "https://stackoverflow.com/users/12128202/jt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570059525, "creation_date": 1570058988, "last_edit_date": 1570059525, "question_id": 58210555, "link": "https://stackoverflow.com/questions/58210555/formatting-jquery-script-the-correct-way", "title": "Formatting Jquery Script the correct way", "body": "<p>Is there a better way of formatting the below script? It does the job, but I wanted to see if there was a way to compile it into an if statement</p>\n\n<p>This is an 'is this page helpful' module I'm plugging in to my site using google tag manager to track clicks.</p>\n\n<pre><code>&lt;div class=\"feedback-headline\"&gt;\n    &lt;p class=\"feedback-heading\"&gt;Was this page helpful?&lt;/p&gt;\n    &lt;button class=\"feedback-button\" id=\"feedback-yes\" type=\"button\"&gt;Yes&lt;/button&gt;\n    &lt;button class=\"feedback-button\" id=\"feedback-no\" type=\"button\"&gt;No&lt;/button&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n$(function() {\n    $(\"#feedback-yes\").click(function(){\n        $(\".feedback-button\").hide();\n        $(\".feedback-headline\").append(\"&lt;p style='display:inline- \n        block;'&gt;Thanks for your feedback!&lt;/p&gt;\");\n    });\n    $(\"#feedback-no\").click(function(){\n        $(\".feedback-button\").hide();\n        $(\".feedback-headline\").append(\"&lt;p style='display:inline-block;'&gt;We're \n        sorry to hear that! We'll try to improve on it.&lt;/p&gt;\");\n    });\n});\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 2, "creation_date": 1570059315, "post_id": 58210531, "comment_id": 102798544, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2276021/evaluating-a-string-as-a-mathematical-expression-in-javascript\">Evaluating a string as a mathematical expression in JavaScript</a>"}, {"owner": {"reputation": 3199, "user_id": 6692606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3653dbd72e2fd66e0a741b97aa322e1?s=128&d=identicon&r=PG&f=1", "display_name": "ASDFGerte", "link": "https://stackoverflow.com/users/6692606/asdfgerte"}, "edited": false, "score": 0, "creation_date": 1570059339, "post_id": 58210531, "comment_id": 102798553, "body": "<a href=\"https://stackoverflow.com/questions/18141301/calculator-in-javascript\">calculator-in-javascript</a> may also be an interesting read."}, {"owner": {"reputation": 1455, "user_id": 8334663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jW47.jpg?s=128&g=1", "display_name": "sao", "link": "https://stackoverflow.com/users/8334663/sao"}, "edited": false, "score": 0, "creation_date": 1570059977, "post_id": 58210531, "comment_id": 102798658, "body": "node has all this functionailty built in fyi"}, {"owner": {"reputation": 43, "user_id": 11487730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08fbbfc9c8795e8542f4f9f93d88a7a7?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks999", "link": "https://stackoverflow.com/users/11487730/tmanrocks999"}, "edited": false, "score": 0, "creation_date": 1570060162, "post_id": 58210531, "comment_id": 102798685, "body": "how ? I cant find how to document.write what a user inputs in   var userInput = prompt(&quot;Please enter your math problem: &quot;, &quot;&quot;); then solves it"}, {"owner": {"reputation": 43, "user_id": 11487730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08fbbfc9c8795e8542f4f9f93d88a7a7?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks999", "link": "https://stackoverflow.com/users/11487730/tmanrocks999"}, "edited": false, "score": 0, "creation_date": 1570060838, "post_id": 58210531, "comment_id": 102798812, "body": "<a href=\"https://mathjs.org/\" rel=\"nofollow noreferrer\">mathjs.org</a>  this is perfect but im not sure how to make it work"}, {"owner": {"reputation": 43, "user_id": 11487730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08fbbfc9c8795e8542f4f9f93d88a7a7?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks999", "link": "https://stackoverflow.com/users/11487730/tmanrocks999"}, "edited": false, "score": 0, "creation_date": 1570642657, "post_id": 58210531, "comment_id": 102980451, "body": "@traktor53 i have a solution i want to post on what i used ( people will like the answer its very simple can u reopen the question"}], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 11487730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08fbbfc9c8795e8542f4f9f93d88a7a7?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks999", "link": "https://stackoverflow.com/users/11487730/tmanrocks999"}, "edited": false, "score": 0, "creation_date": 1570059802, "post_id": 58210615, "comment_id": 102798630, "body": "that seams really complex . in class now might try when i get home. I have no idea how to do this sort of thing ug."}, {"owner": {"reputation": 43, "user_id": 11487730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08fbbfc9c8795e8542f4f9f93d88a7a7?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks999", "link": "https://stackoverflow.com/users/11487730/tmanrocks999"}, "edited": false, "score": 0, "creation_date": 1570059888, "post_id": 58210615, "comment_id": 102798642, "body": "const amountOfVariables = userInput.split(&quot;&quot;).map(parseInt).filter(i =&gt; !isNaN(i))[0]          this worked earlier in my program for finding the first numbers in a String makes it a number then I used it to print out the amount of variables . but now i want  2 numbers and a symbol from a input prompt"}, {"owner": {"reputation": 43, "user_id": 11487730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08fbbfc9c8795e8542f4f9f93d88a7a7?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks999", "link": "https://stackoverflow.com/users/11487730/tmanrocks999"}, "edited": false, "score": 0, "creation_date": 1570060461, "post_id": 58210615, "comment_id": 102798746, "body": "<a href=\"https://mathjs.org/\" rel=\"nofollow noreferrer\">mathjs.org</a>  i found this but im not sure how the demo thing works"}, {"owner": {"reputation": 43, "user_id": 11487730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08fbbfc9c8795e8542f4f9f93d88a7a7?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks999", "link": "https://stackoverflow.com/users/11487730/tmanrocks999"}, "edited": false, "score": 0, "creation_date": 1570060619, "post_id": 58210615, "comment_id": 102798781, "body": "<code>if (userInput.includes(&quot;+&quot;)){        sum = math.eval(userInput)                  document.write(sum);         } </code> I feel like im close"}], "tags": [], "owner": {"reputation": 5486, "user_id": 1236397, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/67c4831541a7ce09aeccf0a3abbf008b?s=128&d=identicon&r=PG", "display_name": "James Wilkins", "link": "https://stackoverflow.com/users/1236397/james-wilkins"}, "is_accepted": false, "score": 3, "last_activity_date": 1570060715, "last_edit_date": 1570060715, "creation_date": 1570059495, "answer_id": 58210615, "question_id": 58210531, "link": "https://stackoverflow.com/questions/58210531/is-there-a-way-to-solve-a-math-problem-from-a-user-prompt-input/58210615#58210615", "title": "Is there a way to solve a math problem from a user prompt input", "body": "<p>A better approach would be to split up the calculation into parts and follow the BEDMAS rule:</p>\n\n<ol>\n<li>B: Extract and process items in brackets first. Keep going down into nested brackets until there are no more.</li>\n<li>E: Process items with exponents next.</li>\n<li>D: Process all items either side of the division symbol in turn.</li>\n<li>M: Process all items either side of the multiplication symbol in turn.</li>\n<li>A: Process all items either side of the addition symbol in turn.</li>\n<li>S: Process all items either side of the subtraction symbol in turn.</li>\n<li>If within a nested bracket, go up one level and continue at step 2. Replace the nested bracket with the result of the calculations within that backet.</li>\n<li>Keep repeating cyclically through the \"tree\" of brackets until you are done.</li>\n</ol>\n\n<p>This is a VERY general overview of a basic calculator by simply flattening all the items until you get the final value (assuming there are no variables of course ;)).</p>\n\n<p>Here is a way to get started:</p>\n\n<p>var mathParts = \"1 + 2 - ((3 + (2 * 3 / 3)) * 5^2) / 6\".match(/[0-9()^/*+-]/g);</p>\n\n<p>mathParts: (23)\u00a0[\"1\", \"+\", \"2\", \"-\", \"(\", \"(\", \"3\", \"+\", \"(\", \"2\", \"<em>\", \"3\", \"/\", \"3\", \")\", \")\", \"</em>\", \"5\", \"^\", \"2\", \")\", \"/\", \"6\"]</p>\n\n<p>Now all you have to do is iterate over the array (<code>mathParts</code>) and increment your nesting level each time you hit <code>(</code> and decrement the level each time you hit <code>)</code>. After that use multiple passes: first pass (or loop) handle exponents (<code>^</code>), then <code>/</code> on the next pass, then <code>*</code> on the next, then <code>+</code>, then <code>-</code>.</p>\n\n<p>If you only run this client side, and strip out all non-math characters (don't allow $_AtoZ[]) and allow symbols needed for math only, then it should also be safe enough to simply use <code>eval()</code> to do the calculation. It is safe if used correctly, and only by the user of the webpage at the client side, since those same users can already press F12 and hack the site if they wanted to; thus, protecting from eval is pointless in that context. I would suggest if you go that route to run <code>eval()</code> within a <code>new Function(\"eval()\")</code> scope so it runs at the global level and not within the scope of your own code (to keep private things private).</p>\n"}, {"comments": [{"owner": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1570152124, "post_id": 58210768, "comment_id": 102832255, "body": "<a href=\"https://jsfiddle.net/hw04Lbc5/\" rel=\"nofollow noreferrer\">jsfiddle.net/hw04Lbc5</a>        how can i post this for everyone&#39;s use. i just had to import a library. easy input from user . so little code"}, {"owner": {"reputation": 1455, "user_id": 8334663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jW47.jpg?s=128&g=1", "display_name": "sao", "link": "https://stackoverflow.com/users/8334663/sao"}, "reply_to_user": {"reputation": 129, "user_id": 11535823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b83d895df7b46ccac4fe6337bfa28229?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks994", "link": "https://stackoverflow.com/users/11535823/tmanrocks994"}, "edited": false, "score": 0, "creation_date": 1570195340, "post_id": 58210768, "comment_id": 102847367, "body": "you will have to build a backend or use a simulated one. you might want to check out Wix. they have a node backend built in and they have a lot of built in modules."}, {"owner": {"reputation": 43, "user_id": 11487730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08fbbfc9c8795e8542f4f9f93d88a7a7?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks999", "link": "https://stackoverflow.com/users/11487730/tmanrocks999"}, "edited": false, "score": 0, "creation_date": 1571096892, "post_id": 58210768, "comment_id": 103118483, "body": "is there anyway to get my question reopened"}, {"owner": {"reputation": 1455, "user_id": 8334663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jW47.jpg?s=128&g=1", "display_name": "sao", "link": "https://stackoverflow.com/users/8334663/sao"}, "reply_to_user": {"reputation": 43, "user_id": 11487730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08fbbfc9c8795e8542f4f9f93d88a7a7?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks999", "link": "https://stackoverflow.com/users/11487730/tmanrocks999"}, "edited": false, "score": 0, "creation_date": 1571098355, "post_id": 58210768, "comment_id": 103118774, "body": "@tmanrocks999 I dont have the authority, i think you have to have 2000 rep to do that. Just ask it again : ) try to be more specific. whoever voted it closed did so due to &quot;unclear as to what you are asking&quot; cheers"}], "tags": [], "owner": {"reputation": 1455, "user_id": 8334663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jW47.jpg?s=128&g=1", "display_name": "sao", "link": "https://stackoverflow.com/users/8334663/sao"}, "is_accepted": true, "score": 2, "last_activity_date": 1570060930, "creation_date": 1570060930, "answer_id": 58210768, "question_id": 58210531, "link": "https://stackoverflow.com/questions/58210531/is-there-a-way-to-solve-a-math-problem-from-a-user-prompt-input/58210768#58210768", "title": "Is there a way to solve a math problem from a user prompt input", "body": "<p><a href=\"https://www.npmjs.com/package/calculator-scripts\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/calculator-scripts</a></p>\n\n<p>node module</p>\n\n<p>why write it all yourself when there is a module. You'll need a node environment. I can give you some easy to hard ways to build one based on your experience level, let me know if you need help on that.</p>\n"}], "owner": {"reputation": 43, "user_id": 11487730, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08fbbfc9c8795e8542f4f9f93d88a7a7?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks999", "link": "https://stackoverflow.com/users/11487730/tmanrocks999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 223, "favorite_count": 0, "closed_date": 1570099501, "accepted_answer_id": 58210768, "answer_count": 2, "score": 2, "last_activity_date": 1570060930, "creation_date": 1570058724, "last_edit_date": 1570058886, "question_id": 58210531, "link": "https://stackoverflow.com/questions/58210531/is-there-a-way-to-solve-a-math-problem-from-a-user-prompt-input", "closed_reason": "Needs details or clarity", "title": "Is there a way to solve a math problem from a user prompt input", "body": "<p>I want (for example my prompt is enter a calculation) if the user enters 2+2 the \ndocument.write(sum); \nshould display 4 on my empty page. I know how to easily do this with 2 prompts but im trying to make a sort of calculator. Ive seen this done on google or math way where you can type long strings of numbers and operators then it gives you the steps and finally the answer.\nI need a way to retrieve 1st item, then 2nd item, then 3rd item then store them in a variable. it would be great if i can do like 22+22 eventually but not sure how that would work. \nuserInput.includes(\"+\") might be good enough because theirs no other time.</p>\n\n<pre><code>//if (userInput.includes(allNumbers &amp;&amp; \"+\")){\n     // value1 = userInput.split(\"\").map(parseInt).filter(i =&gt;!isNaN(i))[0]\n        //value2 = parseint(userInput);\n       // sum = value1 + value1;\n\n        //document.write(sum);\n\n   //}\n</code></pre>\n\n<p>I have tried this but when i type 2+2 nothing happens. ive tried looking all over the internet but all i see is all string inputs or 1 number then a 2nd prmpt for the 2nd number. </p>\n\n<p>I expect when a user types 2+2 for document.write to display 4. then i eventually want to do subtraction , division, and multiplication. but at the moment 2+2 does nothing</p>\n"}, {"tags": ["javascript", "node.js", "redirect"], "answers": [{"tags": [], "owner": {"reputation": 2734, "user_id": 3234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5440aff880867b4167e751edd90af9ee?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/3234/will"}, "is_accepted": false, "score": 0, "last_activity_date": 1570067907, "creation_date": 1570067907, "answer_id": 58211386, "question_id": 58210528, "link": "https://stackoverflow.com/questions/58210528/js-redirect-with-html-file/58211386#58211386", "title": "JS redirect with html file", "body": "<p>Check out <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History/pushState\" rel=\"nofollow noreferrer\">History.pushState()</a>. </p>\n\n<blockquote>\n  <p>The new history entry's URL is given by this parameter. Note that the browser won't attempt to load this URL after a call to pushState(), but it might attempt to load the URL later, for instance after the user restarts the browser. The new URL does not need to be absolute; if it's relative, it's resolved relative to the current URL.</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.history.pushState({\r\n  state: \"foo\"\r\n}, \"title\", \"/blah2.html\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 43, "user_id": 12133031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/606960725ba0e84c62da5541c49df34b?s=128&d=identicon&r=PG&f=1", "display_name": "Jojo Mako", "link": "https://stackoverflow.com/users/12133031/jojo-mako"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1570067907, "creation_date": 1570058695, "last_edit_date": 1570062326, "question_id": 58210528, "link": "https://stackoverflow.com/questions/58210528/js-redirect-with-html-file", "title": "JS redirect with html file", "body": "<p>The question sounds weird, so let me explain. My server sends the client an HTML file as a string (I spent a lot of time trying to use a simple redirect, but couldn't). I want the client to use this html file, but make it seem like a redirect.<br>\nIn other words, lets say the example.com/blah1 gets the HTML file as a string. I want it to send the user to example.com/blah2, but instead of using blah2.html, use the HTML file from the server. Currently, I have everything figured out but the redirect part. The code below replaces the current DOM with the new one from the server, but the url remains unchanged.</p>\n\n<pre><code>        $(\".login-form\").submit(function(e)\n        {\n            e.preventDefault();\n            var username = $(\".username-input\").val();\n            var password = $(\".password-input\").val();\n            $.post(\"/loginAttempt\",{\n                username: username,\n                password: password\n            },function(data)\n            {\n                $(\"html\").html(data);\n            });\n        });\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 1, "creation_date": 1570059273, "post_id": 58210518, "comment_id": 102798535, "body": "You want to change the value in the <i>file</i>, or just change the value in the imported object?"}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1570059316, "post_id": 58210518, "comment_id": 102798546, "body": "in imported object so that I can toggle"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 1, "creation_date": 1570059385, "post_id": 58210518, "comment_id": 102798560, "body": "Just change it--what&#39;s the issue?"}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1570059460, "post_id": 58210518, "comment_id": 102798572, "body": "if I change the value in config there is no going back, what if user wants to switch it to light mode from dark and vice versa"}, {"owner": {"reputation": 417, "user_id": 4700064, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1015981228429901/picture?type=large", "display_name": "Kirasiris", "link": "https://stackoverflow.com/users/4700064/kirasiris"}, "edited": false, "score": 0, "creation_date": 1570059504, "post_id": 58210518, "comment_id": 102798580, "body": "@Sam you can make it available to change it via state in local storage."}, {"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "reply_to_user": {"reputation": 417, "user_id": 4700064, "user_type": "registered", "accept_rate": 39, "profile_image": "https://graph.facebook.com/1015981228429901/picture?type=large", "display_name": "Kirasiris", "link": "https://stackoverflow.com/users/4700064/kirasiris"}, "edited": false, "score": 0, "creation_date": 1570059546, "post_id": 58210518, "comment_id": 102798586, "body": "@Kirasiris im very new to react I dont know how to do that."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1570063307, "post_id": 58210518, "comment_id": 102799283, "body": "@Sam Why? If you can change it one way why can&#39;t you change it another?"}], "answers": [{"comments": [{"owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "edited": false, "score": 0, "creation_date": 1570061663, "post_id": 58210749, "comment_id": 102798971, "body": "This is not exactly what I&#39;m looking for but you gave the partial answer. Thank you for that :)"}], "tags": [], "owner": {"reputation": 554, "user_id": 9076314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a78812141b5e6ba6c8c1f0d7c8d99e0?s=128&d=identicon&r=PG&f=1", "display_name": "Neskews", "link": "https://stackoverflow.com/users/9076314/neskews"}, "is_accepted": true, "score": 1, "last_activity_date": 1570061065, "last_edit_date": 1570061065, "creation_date": 1570060750, "answer_id": 58210749, "question_id": 58210518, "link": "https://stackoverflow.com/questions/58210518/how-to-change-values-in-config-file-dynamically-in-react/58210749#58210749", "title": "How to change values in config file dynamically in react?", "body": "<p>You can accomplish it by <a href=\"https://reactjs.org/docs/hooks-state.html\" rel=\"nofollow noreferrer\">using the state hook</a>. Here's an example (You can see my code in action here: <a href=\"https://codesandbox.io/s/thirsty-keller-cjqb8\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/thirsty-keller-cjqb8</a>):</p>\n\n<pre><code>// put this in config.js\nconst initialConfig = {\n  darkMode: true\n};\n\nconst App = () =&gt; {\n  // dark mode is initally true, because we used the config value as inital value for darkMode\n  const [darkMode, setDarkMode] = useState(initialConfig.darkMode);\n\n  // change handler that is invoked when we change the value of the checkbox\n  const changeMode = ({ currentTarget: { checked } }) =&gt; setDarkMode(checked);\n\n  return (\n    // use className based on the value of darkMode\n    &lt;div className={darkMode ? \"darkMode\" : \"\"}&gt;\n      &lt;label&gt;\n        &lt;input checked={darkMode} type=\"checkbox\" onChange={changeMode} /&gt;\n        use dark mode\n      &lt;/label&gt;\n    &lt;/div&gt;\n  );\n};\n</code></pre>\n\n<p>I used the config as an inital value. However, you need a state that stores the information which mode is currently active.</p>\n"}], "owner": {"reputation": 371, "user_id": 11958101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5aed338c0410e117e346b24360a6a1e?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/11958101/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 539, "favorite_count": 0, "accepted_answer_id": 58210749, "answer_count": 1, "score": 2, "last_activity_date": 1570061065, "creation_date": 1570058636, "last_edit_date": 1570059031, "question_id": 58210518, "link": "https://stackoverflow.com/questions/58210518/how-to-change-values-in-config-file-dynamically-in-react", "title": "How to change values in config file dynamically in react?", "body": "<p>I have a template that has <code>config.js</code> file which loads theme configs I want to add toggle switch from Light mode to Dark mode. Theme changes when you make changes in <code>config.js</code> but I don't know how to change values in <code>config.js</code> dynamically.</p>\n\n<p>I'm Planning to have a toggle in the index file.</p>\n\n<p>config.js</p>\n\n<pre><code>export default {\n    defaultPath: '/dashboard/default',\n    basename: '',\n    layout: 'vertical',\n    preLayout: '', \n    collapseMenu: false,\n    layoutType: 'dark', // menu-light\n    navIconColor: true,\n    headerBackColor: 'header-default', // header-dark\n    navBackColor: 'navbar-dark', // navbar-dark\n    navBrandColor: 'brand-dark', // brand-dark\n    navBackImage: false, \n    rtlLayout: false,\n    navFixedLayout: true,\n    headerFixedLayout: false,\n    boxLayout: false,\n    navDropdownIcon: 'style1', \n    navListIcon: 'style1',\n    navActiveListColor: 'active-*', // active-dark\n    navListTitleColor: 'title-default', // title-dark\n    navListTitleHide: false,\n    configBlock: false,\n    layout6Background : 'linear-gradient(to right, #A445B2 0%, #D41872 52%, #FF0066 100%)',\n    layout6BackSize : '', \n};\n</code></pre>\n\n<p>index.js</p>\n\n<pre><code>import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore } from 'redux';\nimport {Provider} from 'react-redux';\nimport {BrowserRouter} from 'react-router-dom';\n\nimport App from './App/index';\nimport * as serviceWorker from './serviceWorker';\nimport reducer from './store/reducer';\nimport config from './config';\n\nconst store = createStore(reducer);\n\nconst app = (\n    &lt;Provider store={store}&gt;\n        &lt;BrowserRouter basename={config.basename}&gt;\n            {/* basename=\"/datta-able\" */}\n            &lt;App /&gt;\n        &lt;/BrowserRouter&gt;\n    &lt;/Provider&gt;\n);\n\nReactDOM.render(app, document.getElementById('root'));\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html"], "owner": {"reputation": 1024, "user_id": 3234322, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/2124b917b9e72e27168f032bb52553ac?s=128&d=identicon&r=PG&f=1", "display_name": "SeaBass", "link": "https://stackoverflow.com/users/3234322/seabass"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570058425, "creation_date": 1570058425, "question_id": 58210489, "link": "https://stackoverflow.com/questions/58210489/trying-to-set-the-caret-at-the-end-of-a-contenteditable-div-on-focus-and-then-pr", "title": "Trying to set the caret at the end of a contenteditable div on focus and then press enter for new line", "body": "<p>I'm running this code to set the caret at the end of a contenteditable when the div is focused. I'm also running a script on enter key to fix linebreak weirdness in firefox. For some reason the two functions don't work together and I get this message on enter:</p>\n\n<blockquote>\n  <p>IndexSizeError: Index or size is negative or greater than the allowed\n  amount</p>\n</blockquote>\n\n<p>Try to click on the div and press enter in Firefox and you'll see what I mean. It works in Safari and Chrome.</p>\n\n<p>I can't use a textarea, but is there a cleaner way to solve this? I also added a <code>setTimeout</code> on the <code>placeCaretAtEnd</code> function because it sometimes placed the caret where I pressed anyway, and sometimes it selects a portion of the text instead of placing it at the end. It still acts odd every now and then so suggestions of a more bulletproof way to make it always appear at the end is welcome!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function placeCaretAtEnd(el) {\r\n    el.focus();\r\n    if (typeof window.getSelection != \"undefined\"\r\n            &amp;&amp; typeof document.createRange != \"undefined\") {\r\n        var range = document.createRange();\r\n        range.selectNodeContents(el);\r\n        range.collapse(false);\r\n        var sel = window.getSelection();\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n    } else if (typeof document.body.createTextRange != \"undefined\") {\r\n        var textRange = document.body.createTextRange();\r\n        textRange.moveToElementText(el);\r\n        textRange.collapse(false);\r\n        textRange.select();\r\n    }\r\n}\r\n\r\n$(document).on('keydown', 'div', function(e) {\r\n  var keyCode = e.keyCode || e.which; \r\n  var $self = $(this);\r\n  var esc = keyCode == 27;\r\n  var nl = keyCode == 13;\r\n  var tab = keyCode == 9;\r\n  var shift = e.shiftKey;\r\n  var sel, node, offset, text, textBefore, textAfter, range;\r\n\r\n  if(nl)\r\n  {\r\n    sel = window.getSelection();\r\n\r\n    // the node that contains the caret\r\n    node = sel.anchorNode;\r\n\r\n    // if ENTER was pressed while the caret was inside the input field\r\n\r\n    // prevent the browsers from inserting &lt;div&gt;, &lt;p&gt;, or &lt;br&gt; on their own\r\n    e.preventDefault();\r\n\r\n    // the caret position inside the node\r\n    offset = sel.anchorOffset;        \r\n\r\n    // insert a '\\n' character at that position\r\n    text = node.textContent;\r\n    textBefore = text.slice( 0, offset );\r\n    textAfter = text.slice( offset ) || ' ';\r\n    node.textContent = textBefore + '\\n' + textAfter;\r\n\r\n    // position the caret after that new-line character\r\n    range = document.createRange();\r\n    range.setStart( node, offset + 1 );\r\n    range.setEnd( node, offset + 1 );\r\n\r\n    // update the selection\r\n    sel.removeAllRanges();\r\n    sel.addRange( range );\r\n  }\r\n });\r\n \r\n$(document).on('focus', 'div', function(e) {\r\n  var $self = $(this);\r\n  setTimeout(function() {\r\n    placeCaretAtEnd($self[0]);\r\n  },0);\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\r\n  white-space: pre-wrap;\r\n  overflow-wrap: break-word;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div contenteditable&gt;Lots of text\r\nLots of text\r\nLots of text&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html", "json", "html5-canvas", "sprite-sheet"], "comments": [{"owner": {"reputation": 2643, "user_id": 1377323, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/963103a32936718819cd95ed38fb43fb?s=128&d=identicon&r=PG", "display_name": "herrbischoff", "link": "https://stackoverflow.com/users/1377323/herrbischoff"}, "edited": false, "score": 1, "creation_date": 1570059807, "post_id": 58210429, "comment_id": 102798634, "body": "Like you realized already, you&#39;re going to have to re-implement the functionality of the Flash part in JavaScript. If you show us some work you did, we&#39;ll be happy to help you along with a single problem you&#39;re stuck with."}, {"owner": {"reputation": 489, "user_id": 1212739, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a1ed91bb13e684b49a719f96d3b4ee59?s=128&d=identicon&r=PG", "display_name": "FAA", "link": "https://stackoverflow.com/users/1212739/faa"}, "reply_to_user": {"reputation": 2643, "user_id": 1377323, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/963103a32936718819cd95ed38fb43fb?s=128&d=identicon&r=PG", "display_name": "herrbischoff", "link": "https://stackoverflow.com/users/1377323/herrbischoff"}, "edited": false, "score": 0, "creation_date": 1570078011, "post_id": 58210429, "comment_id": 102801740, "body": "Where/how do I start. Links to examples to similar problem would also be highly appreciated."}, {"owner": {"reputation": 2643, "user_id": 1377323, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/963103a32936718819cd95ed38fb43fb?s=128&d=identicon&r=PG", "display_name": "herrbischoff", "link": "https://stackoverflow.com/users/1377323/herrbischoff"}, "edited": false, "score": 0, "creation_date": 1570113170, "post_id": 58210429, "comment_id": 102818447, "body": "If you have never used (vanilla) JavaScript before to build anything, this is the wrong place for such a broad task. Use one of the approximately half a trillion tutorials or bootcamps online, or read up on JSON usage in JavaScript, which is rather trivial. When you find yourself stuck on a <b>single</b> problem, come back and ask. You have already participated under the jQuery tag, so you should already possess the knowledge to build a first draft on your own."}, {"owner": {"reputation": 489, "user_id": 1212739, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a1ed91bb13e684b49a719f96d3b4ee59?s=128&d=identicon&r=PG", "display_name": "FAA", "link": "https://stackoverflow.com/users/1212739/faa"}, "reply_to_user": {"reputation": 2643, "user_id": 1377323, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/963103a32936718819cd95ed38fb43fb?s=128&d=identicon&r=PG", "display_name": "herrbischoff", "link": "https://stackoverflow.com/users/1377323/herrbischoff"}, "edited": false, "score": 0, "creation_date": 1570138203, "post_id": 58210429, "comment_id": 102829236, "body": "I thought this is going to be a simple import. I am new to json but I have only one flash that I am trying to convert to html5 canvas and have used Zoe to convert the flash and that was the output. I will search for simple solution if possible. Any other ideas"}], "owner": {"reputation": 489, "user_id": 1212739, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/a1ed91bb13e684b49a719f96d3b4ee59?s=128&d=identicon&r=PG", "display_name": "FAA", "link": "https://stackoverflow.com/users/1212739/faa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570057975, "creation_date": 1570057975, "question_id": 58210429, "link": "https://stackoverflow.com/questions/58210429/call-json-sprite-file-in-html", "title": "Call json sprite file in html", "body": "<p>I have a json file that was generated from a program to render images (converted from flash) the file looks like this:</p>\n\n<pre><code>{\n\"framerate\":24,\n \"images\":[\n\"flash_0.png\",\n\"flash_1.png\",\n\"flash_2.png\",\n\"flash_3.png\",\n\"flash_4.png\",\n\"flash_5.png\",\n\"flash_6.png\",\n// ................ \n\"frames\":[\n[0, 0, 1024, 512, 0, 0, 0],\n[0, 512, 1024, 512, 0, 0, 0],\n[0, 1024, 1024, 512, 0, 0, 0],\n[0, 1536, 1024, 512, 0, 0, 0],\n// ...................\n</code></pre>\n\n<p>And the images are in the same folder. My question is: how do I render it in an html file with js? </p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1570058588, "post_id": 58210419, "comment_id": 102798421, "body": "Can you clarify what exactly you&#39;re having trouble with? Is it not working how you expect, and if so, what exactly is wrong? Are you just looking for a simpler solution? Something else?"}, {"owner": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1570058740, "post_id": 58210419, "comment_id": 102798451, "body": "I just noticed you wrote <code>userYearCurrent</code> twice, presumably the second one should be <code>userYearFuture</code>. Was that a mistake copying it here, or if it&#39;s in your actual code does that fix it?"}, {"owner": {"reputation": 389, "user_id": 11474013, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SpYMpNwJKKs/AAAAAAAAAAI/AAAAAAAAAJo/CE-rDbBCoq0/photo.jpg?sz=128", "display_name": "Tman", "link": "https://stackoverflow.com/users/11474013/tman"}, "reply_to_user": {"reputation": 5738, "user_id": 7496073, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/9ad17da5f307d0462eff39880d8f105b?s=128&d=identicon&r=PG&f=1", "display_name": "John Montgomery", "link": "https://stackoverflow.com/users/7496073/john-montgomery"}, "edited": false, "score": 0, "creation_date": 1570059008, "post_id": 58210419, "comment_id": 102798502, "body": "@JohnMontgomery I think I am having trouble with this line:  <code>var dateCurrent = new Date(userMonthCurrent, userDayCurrent, userYearCurrent, userTimeCurrent, amOrPMCurrent); var dateFuture = new Date(userMonthFuture, userDayFuture, userYearFuture, userTimeFuture, amOrPMFuture);</code>  It returns NaN NaN NaN etc, so having trouble subtracting the dates from each other. I removed the + and tried commas, no difference."}], "owner": {"reputation": 389, "user_id": 11474013, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-SpYMpNwJKKs/AAAAAAAAAAI/AAAAAAAAAJo/CE-rDbBCoq0/photo.jpg?sz=128", "display_name": "Tman", "link": "https://stackoverflow.com/users/11474013/tman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570060614, "creation_date": 1570057858, "last_edit_date": 1570060614, "question_id": 58210419, "link": "https://stackoverflow.com/questions/58210419/calculating-days-hours-minutes-seconds-between-two-dates-easier-way", "title": "Calculating Days, Hours, Minutes, Seconds Between Two Dates. Easier Way?", "body": "<p>I'm trying to get the years, days, hours, and seconds between two different dates. I'm having trouble getting the date variables stored properly so they can interact and be subtracted from each other. Is there an easier way to do what I'm trying to do? (can't use outside libs)</p>\n\n<pre><code>function daylightTime()\n{\n  var userYearCurrent = prompt(\"Enter a year in numbers(2019)\",\"Enter a year ex: 2019, 2020, 2021\");\n  var userMonthCurrent = prompt(\"Enter a month in numbers(1-12), or type a month name\",\"Enter a month ex: 11, November\");\n  var userDayCurrent = prompt(\"Enter a day of The month in mumbers(1-31)\",\"Enter a day of the month ex: 14, 21\");\n  var userTimeCurrent = prompt(\"Enter a time (2:05) or if seconds are needed(2:05:30)\",\"Enter a time of day ex: 11:15, do not use military time\");\n  var amOrPMCurrent = prompt(\"Enter either AM or PM\",\"Enter either AM or PM ex: AM\");\n\n  var userYearCurrent = prompt(\"Enter a FUTURE year in numbers(2019)\",\"Enter a year ex: 2019, 2020, 2021\");\n  var userMonthFuture = prompt(\"Enter a FUTURE month in numbers(1-12), or type a month name\",\"Enter a month ex: 11, November\");\n  var userDayFuture = prompt(\"Enter a FUTURE day of The month in mumbers(1-31)\",\"Enter a day of the month ex: 14, 21\");\n  var userTimeFuture = prompt(\"Enter a FUTURE time (2:05) or if seconds are needed(2:05:30)\",\"Enter a time of day ex: 11:15, do not use military time\");\n  var amOrPMFuture = prompt(\"Enter either AM or PM\",\"Enter either AM or PM ex: AM\");\n\n  var dateCurrent = new Date(userMonthCurrent+\" \"+userDayCurrent+\", \"+userYearCurrent+\" \"+userTimeCurrent+\" \"+amOrPMCurrent);\n  var dateFuture = new Date(userMonthFuture+\" \"+userDayFuture+\", \"+userYearFuture+\" \"+userTimeFuture+\" \"+amOrPMFuture);\n\n  var mathSeconds = Math.abs(dateFuture.getTime()  - dateCurrent.getTime()) / 1000;\n  var days = Math.floor(mathSeconds / 86400);\n  mathSeconds -= days * 86400;\n  var hours = Math.floor(mathSeconds / 3600) % 24;\n  mathSeconds -= hours * 3600;\n  var minutes = Math.floor(mathSeconds / 60) % 60;\n  mathSeconds -= minutes * 60;\n  var seconds = mathSeconds;\n\n  document.getElementById(\"time2\").innerHTML = \"Time between your two dates: \" + days + \" Days: \" + hours + \" Hours: \" + minutes + \" Minutes: \" + seconds + \" Seconds\";\n}\n</code></pre>\n"}, {"tags": ["javascript", "python", "pyqt", "pyqt5", "qtwebchannel"], "comments": [{"owner": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "edited": false, "score": 0, "creation_date": 1570057847, "post_id": 58210400, "comment_id": 102798266, "body": "<code>def printRef</code>isnt returning anything."}, {"owner": {"reputation": 455, "user_id": 5881326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20b7717c3632e6b3170152f0ea0c0b67?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Brittain", "link": "https://stackoverflow.com/users/5881326/evan-brittain"}, "reply_to_user": {"reputation": 11899, "user_id": 7216865, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X90W9.png?s=128&g=1", "display_name": "Maurice Meyer", "link": "https://stackoverflow.com/users/7216865/maurice-meyer"}, "edited": false, "score": 0, "creation_date": 1570058135, "post_id": 58210400, "comment_id": 102798317, "body": "There isn&#39;t any data that&#39;s supposed to be passes back from printRef. It simply prints the value received from getRef. The problem is getRef is not properly returing the value x+5 to JS so it can then be printed by printRef."}], "answers": [{"comments": [{"owner": {"reputation": 455, "user_id": 5881326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20b7717c3632e6b3170152f0ea0c0b67?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Brittain", "link": "https://stackoverflow.com/users/5881326/evan-brittain"}, "edited": false, "score": 0, "creation_date": 1570067058, "post_id": 58211044, "comment_id": 102799945, "body": "Is this the case with dict and list structures as well?"}, {"owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "edited": false, "score": 0, "creation_date": 1584098571, "post_id": 58211044, "comment_id": 107338702, "body": "@eyllanesc Not sure if this question is out of scope here but I can still ask it... how would you send a dictionary from python-&gt;js? If I&#39;ve got <code>sendDict = pyqtSignal(dict)</code> and then I do <code>talkie.sendDict.emit({&quot;a&quot;:10})</code> I&#39;ll get null in the js side. On the other hand, when dealing with simple types such as <code>int, float, str, bool, list</code> the values in js-side are received ok... Only having trouble with datatypes such as <code>list, set, tuple, object, ...</code>"}, {"owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "reply_to_user": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "edited": false, "score": 0, "creation_date": 1584106471, "post_id": 58211044, "comment_id": 107342206, "body": "@BPL I have added a more generic method which should generally allow sending any object that can be converted to JSON."}, {"owner": {"reputation": 9987, "user_id": 3809375, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/EA10l.png?s=128&g=1", "display_name": "BPL", "link": "https://stackoverflow.com/users/3809375/bpl"}, "edited": false, "score": 0, "creation_date": 1584112354, "post_id": 58211044, "comment_id": 107345164, "body": "@eyllanesc Hehe, cool, when I&#39;d asked you the same question few hours ago I&#39;d reached a similar conclusion than you, at that time I was concerned about the possible overhead of encoding/decoding... I&#39;ve been using it for a while and it seems is good enough. That said, thank you very much to confirm this is an idiomatic way to send these datatypes... I&#39;ve already upvoted you ;)"}], "tags": [], "owner": {"reputation": 185819, "user_id": 6622587, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gAYS0.jpg?s=128&g=1", "display_name": "eyllanesc", "link": "https://stackoverflow.com/users/6622587/eyllanesc"}, "is_accepted": true, "score": 8, "last_activity_date": 1584106418, "last_edit_date": 1584106418, "creation_date": 1570063861, "answer_id": 58211044, "question_id": 58210400, "link": "https://stackoverflow.com/questions/58210400/how-to-receive-data-from-python-to-js-using-qwebchannel/58211044#58211044", "title": "How to receive data from python to js using QWebChannel?", "body": "<p>In C++ so that a method can return a value it must be declared as <code>Q_INVOKABLE</code> and the equivalent in PyQt is to use <code>result</code> in the <code>@pyqtSlot</code> decorator:</p>\n\n<pre><code>\u251c\u2500\u2500 index.html\n\u2514\u2500\u2500 main.py\n</code></pre>\n\n<p><strong>main.py</strong></p>\n\n<pre><code>from PyQt5 import QtCore, QtWidgets, QtWebEngineWidgets, QtWebChannel\n\n\nclass Backend(QtCore.QObject):\n    @QtCore.pyqtSlot(int, <b>result=int</b>)\n    def getRef(self, x):\n        print(\"inside getRef\", x)\n        return x + 5\n\n    @QtCore.pyqtSlot(int)\n    def printRef(self, ref):\n        print(\"inside printRef\", ref)\n\n\nif __name__ == \"__main__\":\n    import os\n    import sys\n\n    app = QtWidgets.QApplication(sys.argv)\n\n    backend = Backend()\n\n    view = QtWebEngineWidgets.QWebEngineView()\n\n    channel = QtWebChannel.QWebChannel()\n    view.page().setWebChannel(channel)\n    channel.registerObject(\"backend\", backend)\n\n    current_dir = os.path.dirname(os.path.realpath(__file__))\n    filename = os.path.join(current_dir, \"index.html\")\n    url = QtCore.QUrl.fromLocalFile(filename)\n    view.load(url)\n\n    view.resize(640, 480)\n    view.show()\n    sys.exit(app.exec_())</code></pre>\n\n<p><strong>index.html</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=utf-8\" /&gt;\n        &lt;script type=\"text/javascript\" src=\"qrc:///qtwebchannel/qwebchannel.js\"&gt;&lt;/script&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            var backend = null;\n            var x = 5;\n            window.onload = function()\n            {\n                new QWebChannel(qt.webChannelTransport, function(channel) {\n                    backend = channel.objects.backend;\n                    backend.getRef(x, function(pyval) {\n                        backend.printRef(pyval);\n                    });\n                });\n            }\n        &lt;/script&gt;\n    &lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n\n<hr>\n\n<h3>Update:</h3>\n\n<p>In general, QtWebChannel can only transport information that can be converted into QJsonObject from the Qt side, and from the javascript side those data that can be converted into JSON.</p>\n\n<p>So there are particular cases:</p>\n\n<ul>\n<li><strong>int</strong></li>\n<li><strong>float</strong></li>\n<li><strong>str</strong></li>\n<li><strong>list</strong>: If it is supported to send and receive lists but of elements such as numbers and strings, and also dictionary and other lists that support the previous basic types.</li>\n</ul>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Backend(QtCore.QObject):\n    @QtCore.pyqtSlot(result=list)\n    def return_list(self):\n        return [0.0, 1.5, 'Hello', ['Stack', 5.0], {'a': {'b': 'c'}}]\n\n    @QtCore.pyqtSlot(list)\n    def print_list(self, l):\n        print(l)\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>backend = channel.objects.backend;\nbackend.return_list(function(pyval) {\n    backend.print_list(pyval);\n});\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>[0.0, 1.5, 'Hello', ['Stack', 5.0], {'a': {'b': 'c'}}]\n</code></pre>\n\n<ul>\n<li><strong>dict</strong>:</li>\n</ul>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Backend(QtCore.QObject):\n    @QtCore.pyqtSlot(result=\"QJsonObject\")\n    def return_dict(self):\n        return {\"a\": 1.5, \"b\": {\"c\": 2}, \"d\": [1, \"3\", \"4\"]}\n\n    @QtCore.pyqtSlot(\"QJsonObject\")\n    def print_dict(self, ref):\n        print(ref)\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>backend = channel.objects.backend;\nbackend.return_dict(function(pyval) {\n    backend.print_dict(pyval);\n});\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'a': &lt;PyQt5.QtCore.QJsonValue object at 0x7f3841d50150&gt;, 'b': &lt;PyQt5.QtCore.QJsonValue object at 0x7f3841d501d0&gt;, 'd': &lt;PyQt5.QtCore.QJsonValue object at 0x7f3841d50250&gt;}\n</code></pre>\n\n<p>As you can see, QJsonValue is returned so it can be tedious to obtain the information, so in this the workaround is to package them in a list:</p>\n\n<pre><code>class Backend(QtCore.QObject):\n    @QtCore.pyqtSlot(result=list)\n    def return_list(self):\n        d = {\"a\": 1.5, \"b\": {\"c\": 2}, \"d\": [1, \"3\", \"4\"]}\n        return [d]\n\n    @QtCore.pyqtSlot(list)\n    def print_list(self, ref):\n        d, *_ = ref\n        print(d)\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>backend = channel.objects.backend;\nbackend.return_list(function(pyval) {\n    backend.print_list(pyval);\n});\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>{'a': 1.5, 'b': {'c': 2.0}, 'd': [1.0, '3', '4']}\n</code></pre>\n\n<p><strong>UPDATE2:</strong> </p>\n\n<p>A generic way of transmitting information is to use JSON, that is, convert the python or js object and convert it to string using <code>json.dumps()</code> and <code>JSON.stringify()</code>, respectively, and send it; when received in python or js the string must be converted using <code>json.loads()</code> and <code>JSON.parse()</code>, respectively:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Backend(QtCore.QObject):\n    @QtCore.pyqtSlot(str, result=str)\n    def getRef(self, o):\n        print(\"inside getRef\", o)\n        py_obj = json.loads(o)\n        py_obj[\"c\"] = (\"Hello\", \"from\", \"Python\")\n        return json.dumps(py_obj)\n\n    @QtCore.pyqtSlot(str)\n    def printRef(self, o):\n        py_obj = json.loads(o)\n        print(\"inside printRef\", py_obj)\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>var backend = null;\nwindow.onload = function()\n{\n    new QWebChannel(qt.webChannelTransport, function(channel) {\n        backend = channel.objects.backend;\n        var x = {a: \"1000\", b: [\"Hello\", \"From\", \"JS\"]}\n        backend.getRef(JSON.stringify(x), function(y) {\n            js_obj = JSON.parse(y);\n            js_obj[\"f\"] = false;\n            backend.printRef(JSON.stringify(js_obj));\n        });\n    });\n}\n</code></pre>\n\n<pre><code>inside getRef {\"a\":\"1000\",\"b\":[\"Hello\",\"From\",\"JS\"]}\ninside printRef {'a': '1000', 'b': ['Hello', 'From', 'JS'], 'c': ['Hello', 'from', 'Python'], 'f': False}\n</code></pre>\n"}], "owner": {"reputation": 455, "user_id": 5881326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20b7717c3632e6b3170152f0ea0c0b67?s=128&d=identicon&r=PG&f=1", "display_name": "Evan Brittain", "link": "https://stackoverflow.com/users/5881326/evan-brittain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 900, "favorite_count": 2, "accepted_answer_id": 58211044, "answer_count": 1, "score": 1, "last_activity_date": 1584106418, "creation_date": 1570057556, "last_edit_date": 1570064066, "question_id": 58210400, "link": "https://stackoverflow.com/questions/58210400/how-to-receive-data-from-python-to-js-using-qwebchannel", "title": "How to receive data from python to js using QWebChannel?", "body": "<p>I'm trying to get my PyQt application to communicate with the JS but am unable to get values from python. I have two slots on the python side to get and print data. In the example a int is passed from JS to python, python adds 5 to it and passes it back, then JS calls the other slot to print the new value.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var backend = null;\nvar x = 15;\nnew QWebChannel(qt.webChannelTransport, function (channel) {\n    backend = channel.objects.backend;\n    backend.getRef(x, function(pyval){\n        backend.printRef(pyval)\n    });\n});\n</code></pre>\n\n<pre class=\"lang-py prettyprint-override\"><code>@pyqtSlot(int)\ndef getRef(self, x):\n    print('inside getRef', x)\n    return x + 5\n\n@pyqtSlot(int)\ndef printRef(self, ref):\n    print('inside printRef', ref)\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>inside getRef 15\nCould not convert argument QJsonValue(null) to target type int .\n</code></pre>\n\n<p>Expected:</p>\n\n<pre><code>inside getRef 15\ninside printRef 20\n</code></pre>\n\n<p>I can't figure out why the returned value is null. How would I store that pyval into a variable on the js side to be used later?</p>\n"}, {"tags": ["javascript", "canvas", "google-data-studio", "deck.js"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 12160920, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD7DyCX0-sabFRvKSg9xYmCSHwkLbeMg_cv_vd-=k-s128", "display_name": "Ralph Spandl", "link": "https://stackoverflow.com/users/12160920/ralph-spandl"}, "is_accepted": true, "score": 1, "last_activity_date": 1570128028, "creation_date": 1570128028, "answer_id": 58225118, "question_id": 58210391, "link": "https://stackoverflow.com/questions/58210391/datastudio-how-to-remove-the-canvas-when-the-data-change/58225118#58225118", "title": "datastudio, how to remove the canvas when the data change?", "body": "<p>Every time you resize your visual or make changes to your settings, Data Studio calls your drawViz function. This means each time this line is called</p>\n\n<pre><code>var canvasElement = document.createElement('canvas');\n</code></pre>\n\n<p>which basically creates a new canvas tag.</p>\n\n<p>You must therefor first attempt to delete your canvas tag. My recommendation would be</p>\n\n<pre><code>document.getElementById(\"container\").remove();\n</code></pre>\n\n<p>And then create your canvas as you are already doing</p>\n\n<pre><code>var canvasElement = document.createElement('canvas');\ncanvasElement.id = 'container';\n</code></pre>\n\n<p>Please not that I uncommented the line that applies an ID to your tag.\nIf the visual is created the first time, the tag with the id \"container\" does not exist, but this has no impact o the rest of your script. </p>\n\n<p>You can also have a look at the Sunburst example:<br>\n<a href=\"https://github.com/googledatastudio/experimental-visualizations/blob/master/viz/sunburst-drilldown/sunburst/sunburst.js\" rel=\"nofollow noreferrer\">https://github.com/googledatastudio/experimental-visualizations/blob/master/viz/sunburst-drilldown/sunburst/sunburst.js</a></p>\n\n<p>The function \"prepareDOM\" removes all tags and is called before anything else gets drawn.</p>\n"}], "owner": {"reputation": 519, "user_id": 1956701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d40994489a0e13b5c6e96dd456612583?s=128&d=identicon&r=PG", "display_name": "Mim", "link": "https://stackoverflow.com/users/1956701/mim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 122, "favorite_count": 1, "accepted_answer_id": 58225118, "answer_count": 1, "score": 0, "last_activity_date": 1570171850, "creation_date": 1570057482, "last_edit_date": 1570171850, "question_id": 58210391, "link": "https://stackoverflow.com/questions/58210391/datastudio-how-to-remove-the-canvas-when-the-data-change", "title": "datastudio, how to remove the canvas when the data change?", "body": "<p>I build this custom visuals using deckgl, and after a lot of hurdles made it works, I am not a javascript developper, so I don't really know what I am doing, here is the code</p>\n\n<pre><code>const dscc = require('@google/dscc');\nconst viz = require('@google/dscc-scripts/viz/initialViz.js');\nconst local = require('./localMessage.js');\nconst {Deck} = require ('@deck.gl/core');\nconst  {ScatterplotLayer} = require('@deck.gl/layers');\n//const {Deck, ScatterplotLayer} = deck;\n//import {ScatterplotLayer} from '@deck.gl/layers';\n// change this to 'true' for local development\n// change this to 'false' before deploying\nexport const LOCAL = false;\n\n// create and add the canvas\nvar canvasElement = document.createElement('canvas');\n// var ctx = canvasElement.getContext('2d');\n// canvasElement.id = 'container';\n// //document.body.appendChild(canvasElement);\n\n\nconst drawViz = (data) =&gt; {\n\n  var height = dscc.getHeight();\n  var width = dscc.getWidth();\n  // clear the canvas\n  var ctx = canvasElement.getContext('2d');\n\n  // clear the canvas.\n  ctx.clearRect(0, 0, canvasElement.width, canvasElement.height);\n\n  // set the canvas width and height\n  ctx.canvas.width = dscc.getWidth();\n  ctx.canvas.height = dscc.getHeight();\n  // code\n  var data1 = data.tables.DEFAULT;\n  var data2 = JSON.stringify(data1);\n  var data3 = data2.replace(/\\\"]/g, \"]\");\n  var data4 = data3.replace(/\\[\"/g, \"[\");\n  var data4 = JSON.parse(data4);\n  console.log(data4);\n  const INITIAL_VIEW_STATE = {\n    bearing: 0,\n    longitude: 143.499772,\n    latitude:  -34.7773053,\n    zoom: 15,\n    minZoom: 5,\n    maxZoom: 20,\n    pitch: 40.5,\n  };\nnew Deck({\n  initialViewState: INITIAL_VIEW_STATE,\n  controller: true,\n  layers: [\n    new ScatterplotLayer({\n      data : data4,\n      getPosition: d =&gt; d.coordinateid,\n      getRadius: d =&gt; d.sizeid,\n      getFillColor: d =&gt; d.colorid,\n    })\n  ],\n\n});\n};\n// renders locally\nif (LOCAL) {\n  drawViz(local.message);\n\n} else {\n  dscc.subscribeToData(drawViz, {transform: dscc.objectTransform});\n}\n</code></pre>\n\n<p>as per the documentation this line should clear the canvas,</p>\n\n<pre><code>ctx.clearRect(0, 0, canvasElement.width, canvasElement.height);\n</code></pre>\n\n<p>but that does not work, what I get is when I change the data by clicking on a filter, the new layer get rendered as expected but the old layer stay stuck and I can't move it</p>\n\n<p><a href=\"https://i.stack.imgur.com/WVvIy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WVvIy.png\" alt=\"enter image description here\"></a></p>\n\n<p>apparently, I need something to remove the old SVG</p>\n\n<p>I attached a copy of of the report, notice when you filter the previous map is not cleared</p>\n\n<p><a href=\"http://datastudio.google.com/reporting/df3d5442-12d7-489e-99fe-90031a7ecc9f\" rel=\"nofollow noreferrer\">datastudio.google.com/reporting/df3d5442-12d7-489e-99fe-90031a7ecc9f</a></p>\n\n<p>thanks Ralph Spandl for the help, after a lot of messing around, I made it works with </p>\n\n<pre><code>document.body.innerHTML = \"\";\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "css", "twitter", "twitter-follow"], "comments": [{"owner": {"reputation": 3798, "user_id": 1483190, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/VcReg.jpg?s=128&g=1", "display_name": "Philip Stratford", "link": "https://stackoverflow.com/users/1483190/philip-stratford"}, "edited": false, "score": 0, "creation_date": 1570057977, "post_id": 58210333, "comment_id": 102798286, "body": "Out of curiosity, what happens if you change <code>data-show-count</code> to <code>false</code>?"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1570058112, "post_id": 58210333, "comment_id": 102798310, "body": "I would imagine at the most worst case scenario, you could call a function after that widget loads and do standard javascript dom hackery. Seems like there should be some OOTB config setting for this though."}, {"owner": {"reputation": 772, "user_id": 1423184, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6693f70839ca25cd0fe669a777e7d1b3?s=128&d=identicon&r=PG", "display_name": "Knocks X", "link": "https://stackoverflow.com/users/1423184/knocks-x"}, "reply_to_user": {"reputation": 3798, "user_id": 1483190, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/VcReg.jpg?s=128&g=1", "display_name": "Philip Stratford", "link": "https://stackoverflow.com/users/1483190/philip-stratford"}, "edited": false, "score": 0, "creation_date": 1570059733, "post_id": 58210333, "comment_id": 102798612, "body": "@PhilipStratford It hides the whole bubble"}, {"owner": {"reputation": 772, "user_id": 1423184, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6693f70839ca25cd0fe669a777e7d1b3?s=128&d=identicon&r=PG", "display_name": "Knocks X", "link": "https://stackoverflow.com/users/1423184/knocks-x"}, "reply_to_user": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1570059804, "post_id": 58210333, "comment_id": 102798631, "body": "@mwilson That&#39;s what I was thinking, since there isn&#39;t an official setting for this.  Do you want to provide that as the answer?"}, {"owner": {"reputation": 772, "user_id": 1423184, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6693f70839ca25cd0fe669a777e7d1b3?s=128&d=identicon&r=PG", "display_name": "Knocks X", "link": "https://stackoverflow.com/users/1423184/knocks-x"}, "edited": false, "score": 0, "creation_date": 1570060369, "post_id": 58210333, "comment_id": 102798731, "body": "Are you suggesting killing the entire popup?  I just want to remove the word &quot;followers.&quot;  The follower count IS useful."}], "answers": [{"comments": [{"owner": {"reputation": 772, "user_id": 1423184, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6693f70839ca25cd0fe669a777e7d1b3?s=128&d=identicon&r=PG", "display_name": "Knocks X", "link": "https://stackoverflow.com/users/1423184/knocks-x"}, "edited": false, "score": 0, "creation_date": 1570073307, "post_id": 58210970, "comment_id": 102800908, "body": "Once remote code is executed and loaded, it becomes part of the final HTML that your site visitor looks at in his browser.  How is it impossible to hack a text string out of that final view, with JavaScript or otherwise?"}, {"owner": {"reputation": 56, "user_id": 2639702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df97bb27cd83887a374a5912b7eec567?s=128&d=identicon&r=PG", "display_name": "Jordoff", "link": "https://stackoverflow.com/users/2639702/jordoff"}, "reply_to_user": {"reputation": 772, "user_id": 1423184, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6693f70839ca25cd0fe669a777e7d1b3?s=128&d=identicon&r=PG", "display_name": "Knocks X", "link": "https://stackoverflow.com/users/1423184/knocks-x"}, "edited": false, "score": 1, "creation_date": 1570127983, "post_id": 58210970, "comment_id": 102825294, "body": "@KnocksX The contents of an iFrame do not belong to the host page. An iFrame is in many ways treated as a separate tab by your browser (so much so that chrome accually supports <a href=\"https://www.chromium.org/developers/design-documents/oop-iframes\" rel=\"nofollow noreferrer\">out of process iframes</a>). The parent page is disallowed from accessing or modifying the contents of an iFrame, unless the origin is the same, even after the parent page renders. <a href=\"https://stackoverflow.com/questions/6494721/override-body-style-for-content-in-an-iframe\">This question</a> is somewhat related and comes to a similar conclusion."}, {"owner": {"reputation": 772, "user_id": 1423184, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6693f70839ca25cd0fe669a777e7d1b3?s=128&d=identicon&r=PG", "display_name": "Knocks X", "link": "https://stackoverflow.com/users/1423184/knocks-x"}, "edited": false, "score": 1, "creation_date": 1570140551, "post_id": 58210970, "comment_id": 102829887, "body": "Thanks, I agree now that I&#39;ve thought about it.  Similar problem with trying to tame wild Google ads that take on dimensions of their own regardless of container div&#39;s rules and don&#39;t even respect !important."}], "tags": [], "owner": {"reputation": 56, "user_id": 2639702, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df97bb27cd83887a374a5912b7eec567?s=128&d=identicon&r=PG", "display_name": "Jordoff", "link": "https://stackoverflow.com/users/2639702/jordoff"}, "is_accepted": false, "score": 2, "last_activity_date": 1570065637, "last_edit_date": 1570065637, "creation_date": 1570063160, "answer_id": 58210970, "question_id": 58210333, "link": "https://stackoverflow.com/questions/58210333/hide-the-word-followers-in-twitters-follow-button/58210970#58210970", "title": "Hide the word &quot;followers&quot; in Twitter&#39;s follow button", "body": "<p>Unfortunately, I don't think there is a practical solution for what you are trying to accomplish.</p>\n\n<p>Because the Twitter widget generates an iFrame there isn't much you can do. The reason for this is the <a href=\"https://en.wikipedia.org/wiki/Same-origin_policy\" rel=\"nofollow noreferrer\">Same-origin policy</a>. You can't access or modify the contents of an iFrame unless they are hosted on the same domain (this is a good thing, as it prevents a number of cross site exploits that would otherwise be possible).</p>\n\n<p>An alternative approach might be to display the widget without the follower count and add your own follower count using a separate Twitter API.</p>\n\n<p>Edit: For completeness, <a href=\"https://developer.twitter.com/en/docs/twitter-for-websites/follow-button/guides/parameter-reference-follow-button\" rel=\"nofollow noreferrer\">this page</a> enumerates the parameters you can pass to the widget API. At the time of this post, there don't seem to be any parameters other than \"show_count\" relating to the displayed follower count.</p>\n"}, {"tags": [], "owner": {"reputation": 3072, "user_id": 9884190, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EbYWp.png?s=128&g=1", "display_name": "Manuel Abascal", "link": "https://stackoverflow.com/users/9884190/manuel-abascal"}, "is_accepted": false, "score": 1, "last_activity_date": 1570065418, "creation_date": 1570065418, "answer_id": 58211191, "question_id": 58210333, "link": "https://stackoverflow.com/questions/58210333/hide-the-word-followers-in-twitters-follow-button/58211191#58211191", "title": "Hide the word &quot;followers&quot; in Twitter&#39;s follow button", "body": "<p>I would suggest to do the following:</p>\n\n<ul>\n<li><strong>First</strong>, add the <code>follow</code> button like so:</li>\n</ul>\n\n<pre><code>&lt;iframe\n  src=\"//platform.twitter.com/widgets/follow_button.html\"\n  style=\"width: 88px; height: 20px;\"\n  allowtransparency=\"true\"\n  frameborder=\"0\"\n  scrolling=\"no\"&gt;\n&lt;/iframe&gt;\n</code></pre>\n\n<ul>\n<li><strong>Second</strong>, use <strong><a href=\"https://developer.twitter.com/en/docs/accounts-and-users/follow-search-get-users/overview#\" rel=\"nofollow noreferrer\">Twitter API documentation</a></strong> &amp; use its endpoints <strong><code>GET followers/list</code></strong> to display the followers count number without the word.</li>\n</ul>\n"}], "owner": {"reputation": 772, "user_id": 1423184, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6693f70839ca25cd0fe669a777e7d1b3?s=128&d=identicon&r=PG", "display_name": "Knocks X", "link": "https://stackoverflow.com/users/1423184/knocks-x"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1570065637, "creation_date": 1570057074, "question_id": 58210333, "link": "https://stackoverflow.com/questions/58210333/hide-the-word-followers-in-twitters-follow-button", "title": "Hide the word &quot;followers&quot; in Twitter&#39;s follow button", "body": "<p>Twitter suggests the following code to render the follow button on your site.  </p>\n\n<pre><code>&lt;a href=\"https://twitter.com/twitter\" class=\"twitter-follow-button\" data-size=\"large\" data-show-screen-name=\"false\" data-dnt=\"true\" data-show-count=\"true\"&gt;&lt;/a&gt;\n\n&lt;script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\"&gt; \n&lt;/script&gt;\n</code></pre>\n\n<p>The button shows a username, followed by a bubble with a follower count and the word \"followers.\"\n<a href=\"https://i.stack.imgur.com/q1TPz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q1TPz.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to simplify the button by removing the word \"followers.\" There was a <a href=\"https://stackoverflow.com/questions/10874352/hide-the-word-followers-from-twitter-follow-button\">CSS solution</a> 7 years ago, which involved using <code>overflow:hidden</code> and then drawing a fake border where the bubble was cut off.  However, that solution doesn't work very well, as described in the comments to that answer.</p>\n\n<p>Is there a more elegant solution today?  CSS would be best, but JavaScript/jQuery would also be acceptable.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1570057406, "post_id": 58210321, "comment_id": 102798192, "body": "What is the expected behavior if <code>houses.red.alpha</code> is an <code>object</code> and <code>houses.blue.alpha</code> is a <code>number</code>?"}, {"owner": {"reputation": 316, "user_id": 6527071, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1117650124/picture?type=large", "display_name": "amcardwell", "link": "https://stackoverflow.com/users/6527071/amcardwell"}, "reply_to_user": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1570207177, "post_id": 58210321, "comment_id": 102852867, "body": "@Paarth I would just account for that by checking if the value is a number or not. If the value is an object, I would want to pass the object back into the merge function to process the result."}], "answers": [{"tags": [], "owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "is_accepted": false, "score": 0, "last_activity_date": 1570057848, "creation_date": 1570057848, "answer_id": 58210418, "question_id": 58210321, "link": "https://stackoverflow.com/questions/58210321/trying-to-merge-2-objects-using-javascript/58210418#58210418", "title": "Trying to merge 2 objects using javascript", "body": "<p>You could use this monstrosity.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const houses = {\r\n  \"red\": {\r\n    alpha: { \"2017\": 100, \"2018\": 140, \"2019\": 99 },\r\n    beta: { \"2017\": 0, \"2018\": 25, \"2019\": 900 },\r\n   },\r\n  \"blue\": {\r\n    beta: { \"2017\": 10, \"2018\": 240, \"2019\": 60 },\r\n    charlie: { \"2017\": 25, \"2018\": 0, \"2019\": 60 },\r\n  }\r\n}\r\n\r\nconst result = Object.keys(houses).reduce((res, key) =&gt; {\r\n  Object.keys(houses[key]).forEach(k =&gt; {\r\n    if (!(k in res)) res[k] = {};\r\n    Object.keys(houses[key][k]).map(_k =&gt; {\r\n      res[k][_k] = (res[k][_k] || 0) + houses[key][k][_k];\r\n    });\r\n  });\r\n  return res;\r\n}, {});\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 4694, "user_id": 5670861, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/vxPrL.png?s=128&g=1", "display_name": "EQuimper", "link": "https://stackoverflow.com/users/5670861/equimper"}, "is_accepted": false, "score": 0, "last_activity_date": 1570058724, "last_edit_date": 1570058724, "creation_date": 1570058063, "answer_id": 58210443, "question_id": 58210321, "link": "https://stackoverflow.com/questions/58210321/trying-to-merge-2-objects-using-javascript/58210443#58210443", "title": "Trying to merge 2 objects using javascript", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const houses = {\r\n  red: {\r\n    alpha: {\r\n      \"2017\": 100,\r\n      \"2018\": 140,\r\n      \"2019\": 99\r\n    },\r\n    beta: {\r\n      \"2017\": 0,\r\n      \"2018\": 25,\r\n      \"2019\": 900\r\n    }\r\n  },\r\n  blue: {\r\n    beta: {\r\n      \"2017\": 10,\r\n      \"2018\": 240,\r\n      \"2019\": 60\r\n    },\r\n    charlie: {\r\n      \"2017\": 25,\r\n      \"2018\": 0,\r\n      \"2019\": 60\r\n    }\r\n  }\r\n};\r\n\r\nfunction merge(obj) {\r\n  return Object.keys(obj).reduce((acc, cur) =&gt; {\r\n    const currentColor = obj[cur];\r\n\r\n    for (let key in currentColor) {\r\n      if (acc[key]) {\r\n        for (let x in currentColor[key]) {\r\n          if (acc[key][x]) {\r\n            acc[key][x] += currentColor[key][x];\r\n          } else {\r\n            acc[key][x] = currentColor[key][x];\r\n          }\r\n        }\r\n      } else {\r\n        acc[key] = currentColor[key];\r\n      }\r\n    }\r\n\r\n    return acc;\r\n  }, {});\r\n}\r\n\r\nconsole.log(merge(houses))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can use reduce. Example here <a href=\"https://codesandbox.io/s/frosty-grass-fk0f3\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/frosty-grass-fk0f3</a> </p>\n\n<p>Here the idea is to loop the first layer of object in this case <code>red</code> and <code>blue</code>. After this you need to continuing loop inside those but you also need to keep a state between. For the sum you need also to make sure the result object do have the key already. If not this will cause issue when you do <code>+=</code></p>\n\n<pre><code> export function merge(obj) {\n  return Object.keys(obj).reduce((acc, cur) =&gt; {\n    const currentColor = obj[cur];\n\n    for (let key in currentColor) {\n      if (acc[key]) {\n        for (let x in currentColor[key]) {\n          if (acc[key][x]) {\n            acc[key][x] += currentColor[key][x];\n          } else {\n            acc[key][x] = currentColor[key][x];\n          }\n        }\n      } else {\n        acc[key] = currentColor[key];\n      }\n    }\n\n    return acc;\n  }, {});\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11289, "user_id": 1822698, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/725a332cc5b93972e715f071b631f4a8?s=128&d=identicon&r=PG", "display_name": "slider", "link": "https://stackoverflow.com/users/1822698/slider"}, "is_accepted": true, "score": 0, "last_activity_date": 1570066178, "creation_date": 1570066178, "answer_id": 58211248, "question_id": 58210321, "link": "https://stackoverflow.com/questions/58210321/trying-to-merge-2-objects-using-javascript/58211248#58211248", "title": "Trying to merge 2 objects using javascript", "body": "<p>You can first get a flattened array of all inner objects that you want to merge with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap\" rel=\"nofollow noreferrer\"><code>flatMap</code></a>. Then you can merge all of them (summing common counts) with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\"><code>reduce</code></a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var houses = {\r\n  \"red\": {\r\n    alpha: {\r\n      \"2017\": 100,\r\n      \"2018\": 140,\r\n      \"2019\": 99\r\n    },\r\n    beta: {\r\n      \"2017\": 0,\r\n      \"2018\": 25,\r\n      \"2019\": 900\r\n    }\r\n  },\r\n  \"blue\": {\r\n    beta: {\r\n      \"2017\": 10,\r\n      \"2018\": 240,\r\n      \"2019\": 60\r\n    },\r\n    charlie: {\r\n      \"2017\": 25,\r\n      \"2018\": 0,\r\n      \"2019\": 60\r\n    }\r\n  }\r\n};\r\n\r\nvar merged = Object.values(houses)\r\n  .flatMap(Object.entries)\r\n  .reduce((acc, [alphabet, years]) =&gt; {\r\n    acc[alphabet] = acc[alphabet] || {};\r\n    Object.entries(years).forEach(([year, val]) =&gt; {\r\n      acc[alphabet][year] = acc[alphabet][year] || 0;\r\n      acc[alphabet][year] += val;\r\n    });\r\n    return acc;\r\n  }, {});\r\n\r\nconsole.log(merged);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 316, "user_id": 6527071, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1117650124/picture?type=large", "display_name": "amcardwell", "link": "https://stackoverflow.com/users/6527071/amcardwell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 58211248, "answer_count": 3, "score": 2, "last_activity_date": 1570066178, "creation_date": 1570056943, "last_edit_date": 1570057247, "question_id": 58210321, "link": "https://stackoverflow.com/questions/58210321/trying-to-merge-2-objects-using-javascript", "title": "Trying to merge 2 objects using javascript", "body": "<p>I am trying to merge two reports (Objects) together, and if the objects share the same property, I need to loop through the property and sum the values up inside it. Here is a small example of two objects that need merging/summing:</p>\n\n<pre><code>var houses = {\n    \"red\" = {\n        alpha: {\n            \"2017\": 100,\n            \"2018\": 140,\n            \"2019\": 99\n        },\n        beta: {\n            \"2017\": 0,\n            \"2018\": 25,\n            \"2019\": 900\n        }\n    },\n    \"blue\": {\n        beta: {\n            \"2017\": 10,\n            \"2018\": 240,\n            \"2019\": 60\n        },\n        charlie: {\n            \"2017\": 25,\n            \"2018\": 0,\n            \"2019\": 60\n        }\n    }\n}\n</code></pre>\n\n<p>Here is what I would like the result of the merge to look like:</p>\n\n<pre><code>var merged = {\n    alpha: {\n        \"2017\": 100,\n        \"2018\": 140,\n        \"2019\": 99\n    },\n    beta: {\n        \"2017\": 10,\n        \"2018\": 265,\n        \"2019\": 960\n    },\n    charlie: {\n        \"2017\": 25,\n        \"2018\": 0,\n        \"2019\": 60\n    }\n}\n</code></pre>\n\n<p>So I need to loop through the houses and add the properties of each house to a new \"merged\" object. Once the iterator finds a property that is already a part of the new \"merged\" variable (in this case, \"beta\"), I would like to total the values inside it. Here is a fiddle that I'm using that I can't get to work yet. Can anyone help me out with this?</p>\n\n<p><strong>This is what I have tried:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var objects = {\r\n  \"foo\": {\r\n    a: {\r\n      \"2017\": 100,\r\n      \"2018\": 140,\r\n      \"2019\": 99\r\n    },\r\n    b: {\r\n      \"2017\": 0,\r\n      \"2018\": 25,\r\n      \"2019\": 900\r\n    }\r\n  },\r\n  \"bar\": {\r\n    b: {\r\n      \"2017\": 10,\r\n      \"2018\": 240,\r\n      \"2019\": 60\r\n    },\r\n    c: {\r\n      \"2017\": 25,\r\n      \"2018\": 0,\r\n      \"2019\": 60\r\n    }\r\n  }\r\n}\r\n\r\nvar merged = {};\r\n\r\nfunction merge(target, source) {\r\n  for (const prop in source) {\r\n    if (target.hasOwnProperty(prop)) {\r\n      if (Number.isInteger(target[prop])) {\r\n        target[prop] = target[prop] + source[prop];\r\n      } else {\r\n        target.data[prop] = merge(target[prop], source[prop]);\r\n      }\r\n    } else {\r\n      target[prop] = source[prop];\r\n    }\r\n  }\r\n\r\n  return target;\r\n}\r\n\r\n\r\nfor (var prop in objects) {\r\n  merged[prop] = objects[prop];\r\n  for (var key in objects[prop]) {\r\n    if (merged[prop].hasOwnProperty(key)) {\r\n      console.log('hop: ' + key);\r\n      var blah = merge(merged[prop][key], objects[prop][key]);\r\n      console.log(blah);\r\n    } else {\r\n      merged[prop][key] = objects[prop][key];\r\n    }\r\n  }\r\n}\r\n\r\nconsole.log(merged);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "google-apps-script", "google-api", "google-drive-api"], "comments": [{"owner": {"reputation": 70965, "user_id": 1841839, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/ZyKjr.png?s=128&g=1", "display_name": "DaImTo", "link": "https://stackoverflow.com/users/1841839/daimto"}, "edited": false, "score": 1, "creation_date": 1570083193, "post_id": 58210275, "comment_id": 102803106, "body": "Thats the response you get its your job to parse it."}], "answers": [{"comments": [{"owner": {"reputation": 1641, "user_id": 5297307, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-h7ln1-cKdag/AAAAAAAAAAI/AAAAAAAAAAA/54ldIkyWZBY/photo.jpg?sz=128", "display_name": "J. G. ", "link": "https://stackoverflow.com/users/5297307/j-g"}, "edited": false, "score": 0, "creation_date": 1570119248, "post_id": 58210370, "comment_id": 102821597, "body": "Thank you, i&#39;ll try this. BTW, the base code i&#39;m using came from your github, very helpful!"}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "reply_to_user": {"reputation": 1641, "user_id": 5297307, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-h7ln1-cKdag/AAAAAAAAAAI/AAAAAAAAAAA/54ldIkyWZBY/photo.jpg?sz=128", "display_name": "J. G. ", "link": "https://stackoverflow.com/users/5297307/j-g"}, "edited": false, "score": 0, "creation_date": 1570142182, "post_id": 58210370, "comment_id": 102830262, "body": "@J. G. Thank you for replying and using it. I&#39;m glad your issue was resolved. Thank you, too."}], "tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": true, "score": 2, "last_activity_date": 1570066915, "last_edit_date": 1570066915, "creation_date": 1570057343, "answer_id": 58210370, "question_id": 58210275, "link": "https://stackoverflow.com/questions/58210275/drive-batch-api-returning-text-content-in-addition-to-json-parsable-stuff/58210370#58210370", "title": "Drive Batch API returning text content in addition to json-parsable stuff", "body": "<p>How about this answer?</p>\n\n<p>Unfortunately, the response value cannot be directly parsed using the built-in function of Google Apps Script and Javascript. So in my case, I parse the response value using the following script. I think that there are several methods for this situation. So please think of this as just one of several answers.</p>\n\n<h3>Sample script 1:</h3>\n\n<pre><code>var response = UrlFetchApp.fetch(url, options).getContentText(); // Here, the batch request is run.\n\nvar temp = response.split(\"--batch\");\nvar parsedValue = temp.slice(1, temp.length - 1).map(function(e){return JSON.parse(e.match(/{[\\S\\s]+}/g)[0])});\n</code></pre>\n\n<h3>Sample script 2:</h3>\n\n<pre><code>var response = UrlFetchApp.fetch(url, options).getContentText(); // Here, the batch request is run.\n\nvar parsedValue = response.match(/{[\\s\\S]+?}/g).map(function(e) {return JSON.parse(e)});\n</code></pre>\n\n<p>If this was not the direction you want, I apologize.</p>\n"}], "owner": {"reputation": 1641, "user_id": 5297307, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-h7ln1-cKdag/AAAAAAAAAAI/AAAAAAAAAAA/54ldIkyWZBY/photo.jpg?sz=128", "display_name": "J. G. ", "link": "https://stackoverflow.com/users/5297307/j-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 58210370, "answer_count": 1, "score": 2, "last_activity_date": 1570083207, "creation_date": 1570056502, "last_edit_date": 1570083207, "question_id": 58210275, "link": "https://stackoverflow.com/questions/58210275/drive-batch-api-returning-text-content-in-addition-to-json-parsable-stuff", "title": "Drive Batch API returning text content in addition to json-parsable stuff", "body": "<p>My batch process (the creation of some folders) goes just fine, but the response i'm getting back isn't the clean JSON I was expecting but it has plain text headers interspersed. How do I get rid of them or parse this correctly?</p>\n\n<pre><code>--batch__AAPXnCR1-5Q\nContent-Type: application/http\nContent-ID: response-1\n\nHTTP/1.1 200 OK\nContent-Type: application/json; charset=UTF-8\nDate: Wed, 02 Oct 2019 22:44:16 GMT\nExpires: Wed, 02 Oct 2019 22:44:16 GMT\nCache-Control: private, max-age=0\nContent-Length: 140\n\n{\n \"kind\": \"drive#file\",\n \"id\": \"1pznPt\",\n \"name\": \"SF1-B1\",\n \"mimeType\": \"application/vnd.google-apps.folder\"\n}\n\n--batch_z3tbQ5Q\n</code></pre>\n\n<p>I just need to be able to extract the id nd nams of these folders after they are created.</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 8, "last_activity_date": 1570056650, "creation_date": 1570056650, "answer_id": 58210290, "question_id": 58210254, "link": "https://stackoverflow.com/questions/58210254/what-does-functionthisarg-syntax-mean/58210290#58210290", "title": "What does function[(thisArg)]) syntax mean?", "body": "<p>It's <a href=\"https://github.com/facebook/react/issues/4339\" rel=\"noreferrer\"><em>meant</em></a> to mean that <code>.map</code> accepts an optional third argument, which is the <code>thisArg</code> to invoke the passed function with. But the syntax given in the documentation is very confusing. Put in a more standard way, it would be:</p>\n\n<pre><code>React.Children.map(children, functionToInvoke[, thisArg])\n</code></pre>\n\n<p>or</p>\n\n<pre><code>React.Children.map(children, function(child, index)[, thisArg])\n</code></pre>\n\n<p>which is how <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#Syntax\" rel=\"noreferrer\">MDN does it</a>, putting the optional argument(s) in square brackets <em>after</em> the required arguments are stated.</p>\n"}], "owner": {"reputation": 2874, "user_id": 1665293, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a3air.png?s=128&g=1", "display_name": "godblessstrawberry", "link": "https://stackoverflow.com/users/1665293/godblessstrawberry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 1, "accepted_answer_id": 58210290, "answer_count": 1, "score": 3, "last_activity_date": 1570056650, "creation_date": 1570056368, "question_id": 58210254, "link": "https://stackoverflow.com/questions/58210254/what-does-functionthisarg-syntax-mean", "title": "What does function[(thisArg)]) syntax mean?", "body": "<p>I'm going through <a href=\"https://reactjs.org/docs/react-api.html#reactchildrenmap\" rel=\"nofollow noreferrer\">React documentation</a> and got a bit confused of what they trying to say here <code>React.Children.map(children, function[(thisArg)])</code> when they wrap function argument into square and round brackets simultaneously <code>function[(thisArg)]</code>. Can anyone explain the meaning please?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "loops"], "answers": [{"tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": true, "score": 1, "last_activity_date": 1570056535, "creation_date": 1570056535, "answer_id": 58210280, "question_id": 58210148, "link": "https://stackoverflow.com/questions/58210148/react-typescript-map-loop-interface-error/58210280#58210280", "title": "React Typescript map loop interface error", "body": "<p>The reason for this error is that the <code>routes</code> argument of type <code>object[]</code> cannot be cast to a type of <code>RoutesType[]</code>.</p>\n\n<p>The reason that TypeScript is attempting this type-cast is that type of <code>routes</code> is inferred and expected to be <code>RoutesType[]</code>, due to the type of the <code>prop</code> argument on the map callback.</p>\n\n<p>A fix would be to revise your <code>createLinks</code> function signature like this:</p>\n\n<pre><code> /* Update routes to RoutesType[] */\n const createLinks = (routes: RoutesType[]) =&gt; {\n    return routes.map((prop: RoutesType, key: number) =&gt; {\n      return (\n        &lt;NavItem key={key}&gt;\n          &lt;NavLink to={prop.layout + prop.path} tag={NavLinkRRD} \n                   onClick={closeCollapse} activeClassName=\"active\"&gt;\n            &lt;i className={prop.icon} /&gt;\n            {prop.name}\n          &lt;/NavLink&gt;\n        &lt;/NavItem&gt;\n      );\n    });\n  };\n</code></pre>\n\n<p>This change will require that all calls to <code>createLink</code> throughout your project specficy a <code>routes</code> value that is strictly typed to <code>RoutesType[]</code></p>\n"}], "owner": {"reputation": 159, "user_id": 2095053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3920d16a913f3c1eaf3ce218ebbee975?s=128&d=identicon&r=PG", "display_name": "Filippo Rivolta", "link": "https://stackoverflow.com/users/2095053/filippo-rivolta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 58210280, "answer_count": 1, "score": 1, "last_activity_date": 1570056535, "creation_date": 1570055495, "question_id": 58210148, "link": "https://stackoverflow.com/questions/58210148/react-typescript-map-loop-interface-error", "title": "React Typescript map loop interface error", "body": "<p>I am trying to interface a map loop in JavaScript, what I have done is:</p>\n\n<pre><code>interface RoutesType {\n  path: string;\n  name: string;\n  icon: string;\n  layout: string;\n}\n</code></pre>\n\n<p>the code of the map loop is: </p>\n\n<pre><code>// creates the links that appear in the left menu / Sidebar\n  const createLinks = (routes: object[]) =&gt; {\n    return routes.map((prop: RoutesType, key: number) =&gt; {\n      return (\n        &lt;NavItem key={key}&gt;\n          &lt;NavLink to={prop.layout + prop.path} tag={NavLinkRRD} onClick={closeCollapse} activeClassName=\"active\"&gt;\n            &lt;i className={prop.icon} /&gt;\n            {prop.name}\n          &lt;/NavLink&gt;\n        &lt;/NavItem&gt;\n      );\n    });\n  };\n</code></pre>\n\n<p>The error I cannot understand is the following</p>\n\n<pre><code>TypeScript error: Argument of type '(prop: RoutesType, key: number) =&gt; Element' is not assignable to parameter of type '(value: object, index: number, array: object[]) =&gt; Element'.\n  Types of parameters 'prop' and 'value' are incompatible.\n    Type '{}' is missing the following properties from type 'RoutesType': path, name, icon, layout\n</code></pre>\n\n<p>Could you help me understand this issue?\nThanks,\nF.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570055463, "post_id": 58210125, "comment_id": 102797762, "body": "Sorry, but obfuscation is the best you can do."}, {"owner": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "edited": false, "score": 0, "creation_date": 1570055513, "post_id": 58210125, "comment_id": 102797772, "body": "Please look into minifying and uglyfying your code to make it unreadable, you unfortunately can&#39;t hide it."}, {"owner": {"reputation": 3325, "user_id": 774719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KUnkD.jpg?s=128&g=1", "display_name": "osdamv", "link": "https://stackoverflow.com/users/774719/osdamv"}, "edited": false, "score": 0, "creation_date": 1570055681, "post_id": 58210125, "comment_id": 102797808, "body": "maybe use a unity plugin in web <a href=\"https://unity3d.com/webplayer\" rel=\"nofollow noreferrer\">unity3d.com/webplayer</a>"}, {"owner": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 0, "creation_date": 1570055785, "post_id": 58210125, "comment_id": 102797831, "body": "debugger jammer&#39;s are also handy"}, {"owner": {"reputation": 71, "user_id": 10514863, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-asVozMcuL1o/AAAAAAAAAAI/AAAAAAAACOA/_1W8QG3vF-I/photo.jpg?sz=128", "display_name": "Lucas Fernandes", "link": "https://stackoverflow.com/users/10514863/lucas-fernandes"}, "reply_to_user": {"reputation": 3325, "user_id": 774719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KUnkD.jpg?s=128&g=1", "display_name": "osdamv", "link": "https://stackoverflow.com/users/774719/osdamv"}, "edited": false, "score": 0, "creation_date": 1570057493, "post_id": 58210125, "comment_id": 102798210, "body": "@osdamv But I can&#39;t use HTML/JS on Unity, can I?"}, {"owner": {"reputation": 3325, "user_id": 774719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KUnkD.jpg?s=128&g=1", "display_name": "osdamv", "link": "https://stackoverflow.com/users/774719/osdamv"}, "edited": false, "score": 0, "creation_date": 1570057725, "post_id": 58210125, "comment_id": 102798245, "body": "no, unity doesn&#39;t support  html/js however is one standard in the industry"}], "answers": [{"tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": false, "score": 3, "last_activity_date": 1570055596, "creation_date": 1570055596, "answer_id": 58210159, "question_id": 58210125, "link": "https://stackoverflow.com/questions/58210125/how-can-i-hide-protect-my-client-side-html-js-code/58210159#58210159", "title": "How can I hide/protect my client-side HTML/JS code?", "body": "<p>Client-side code <em>cannot</em> be hidden from the end-user. You can make use of a combination of <a href=\"https://en.wikipedia.org/wiki/Minification_(programming)\" rel=\"nofollow noreferrer\">minification</a> and <a href=\"https://en.wikipedia.org/wiki/Obfuscation_(software)\" rel=\"nofollow noreferrer\">obfuscation</a> to help <em>deter</em> users from reading your code, but you cannot outright <em>prevent</em> a user from doing so.</p>\n\n<p>If you are concerned about users viewing sensitive source-code such as passwords, you can store this information server-side, and then load it into your JavaScript with an <a href=\"https://en.wikipedia.org/wiki/Ajax_(programming)\" rel=\"nofollow noreferrer\">AJAX</a> call.</p>\n"}, {"comments": [{"owner": {"reputation": 71, "user_id": 10514863, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-asVozMcuL1o/AAAAAAAAAAI/AAAAAAAACOA/_1W8QG3vF-I/photo.jpg?sz=128", "display_name": "Lucas Fernandes", "link": "https://stackoverflow.com/users/10514863/lucas-fernandes"}, "edited": false, "score": 0, "creation_date": 1570099402, "post_id": 58210180, "comment_id": 102810920, "body": "Yeah, it looks like an amazing obfuscation option if I stick with Javascript to build my game."}, {"owner": {"reputation": 196, "user_id": 4050912, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Au2hU.jpg?s=128&g=1", "display_name": "Carl Rck", "link": "https://stackoverflow.com/users/4050912/carl-rck"}, "edited": false, "score": 0, "creation_date": 1571993484, "post_id": 58210180, "comment_id": 103429892, "body": "The problem with jsfuck is that it&#39;s a very imbalanced obfuscation technique. If you take a closer look at code obfuscation metrics, you&#39;ll see that jsfuck excels in one metric (potency) but fails at another (resilience) - meaning that a human will have a hard time de-obfuscating the resulting code but an automated tool will do it very easily. Don&#39;t really recommend it."}], "tags": [], "owner": {"reputation": 2178, "user_id": 2589035, "user_type": "registered", "profile_image": "https://graph.facebook.com/736211406/picture?type=large", "display_name": "t1m0thy", "link": "https://stackoverflow.com/users/2589035/t1m0thy"}, "is_accepted": true, "score": 4, "last_activity_date": 1570055737, "creation_date": 1570055737, "answer_id": 58210180, "question_id": 58210125, "link": "https://stackoverflow.com/questions/58210125/how-can-i-hide-protect-my-client-side-html-js-code/58210180#58210180", "title": "How can I hide/protect my client-side HTML/JS code?", "body": "<p>Obfuscation really is the best you can do... Take a look at <a href=\"http://www.jsfuck.com/#\" rel=\"nofollow noreferrer\">http://www.jsfuck.com/#</a> as Obfuscation goes its about as good as it gets as long as file size isn't a concern</p>\n\n<pre><code>let what = 1; alert(what);\n</code></pre>\n\n<p>becomes 26330 chars!</p>\n"}], "owner": {"reputation": 71, "user_id": 10514863, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-asVozMcuL1o/AAAAAAAAAAI/AAAAAAAACOA/_1W8QG3vF-I/photo.jpg?sz=128", "display_name": "Lucas Fernandes", "link": "https://stackoverflow.com/users/10514863/lucas-fernandes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 58210180, "answer_count": 2, "score": 0, "last_activity_date": 1570055737, "creation_date": 1570055375, "question_id": 58210125, "link": "https://stackoverflow.com/questions/58210125/how-can-i-hide-protect-my-client-side-html-js-code", "title": "How can I hide/protect my client-side HTML/JS code?", "body": "<p>I'm developing a simple <strong>game</strong> using HTML5, but not using canvas, as the interface/graphics are really basic and it would be quite hard for me to do it using canvas as I have no experience with it.</p>\n\n<p>As I already know (and some answers to other questions like this explained), it's not possible to hide the client-side code, as the browser must read it, and obfuscating it or using iframes won't really protect it. But as it is a game, almost all the logic is on the client-side, so it would be terrible to be exposed.</p>\n\n<p>Overall, is any method that I can use to protect my client-side code? Or should I learn how to use canvas or a HTML5 game engine?</p>\n"}, {"tags": ["javascript", "time"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 6, "creation_date": 1570055878, "post_id": 58210123, "comment_id": 102797853, "body": "Get the current time in seconds. Calculate the modulus from <code>3600</code>. If the result is less than 1800, that&#39;s the answer. If the result is more than 1800, subtract from 3600."}], "answers": [{"tags": [], "owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "is_accepted": false, "score": 1, "last_activity_date": 1570056413, "creation_date": 1570056413, "answer_id": 58210260, "question_id": 58210123, "link": "https://stackoverflow.com/questions/58210123/how-to-find-seconds-left-or-past-the-nearest-hour-in-javascript/58210260#58210260", "title": "How to find seconds LEFT or PAST the nearest hour in JavaScript?", "body": "<p>You'll have to extract the minutes and seconds from the timestamp, then convert both of them into seconds, and take the minimum value between the total number of seconds until the next hour, and the total number of seconds currently on \"display\".</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const A = `2019-09-25 15:58:59`;\r\nconst B = `2019-09-25 17:00:59`;\r\n\r\nconst pattern = /\\d{2}:(\\d{2}):(\\d{2})/;\r\n\r\nconst calcTimeToHour = (timeStamp) =&gt; {\r\n  const [_, minute, second] = timeStamp.match(pattern);\r\n  const forwards = (60 - Number(minute) - 1) * 60 + (60 - Number(second));\r\n  const backwards = Number(minute) * 60 + Number(second);\r\n  return Math.min(forwards, backwards);\r\n}\r\n\r\nconsole.log(A, calcTimeToHour(A));\r\nconsole.log(B, calcTimeToHour(B));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "is_accepted": true, "score": 4, "last_activity_date": 1570058031, "last_edit_date": 1570058031, "creation_date": 1570057700, "answer_id": 58210411, "question_id": 58210123, "link": "https://stackoverflow.com/questions/58210123/how-to-find-seconds-left-or-past-the-nearest-hour-in-javascript/58210411#58210411", "title": "How to find seconds LEFT or PAST the nearest hour in JavaScript?", "body": "<p>Other than making it simpler to get the number of seconds elapsed since the last hour, you don't really need momentJS or DateTime for this - it's just maths:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function secondsToNearestHour(dt) {\r\n  const secondsSinceHour = dt.unix() % 3600; //or if you prefer, you could write the slightly clumsier const secondsSinceHour = ((dt.minutes()*60) + dt.seconds());\r\n  return (secondsSinceHour &lt;= 1800 ? secondsSinceHour : 3600 - secondsSinceHour);\r\n}\r\n\r\nconsole.log(secondsToNearestHour(moment(\"2019-09-25 15:58:59\"))); //expected output: 61\r\nconsole.log(secondsToNearestHour(moment(\"2019-09-25 17:00:59\"))); //expected output: 59</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>(The numbers 1800 and 3600 above, I hope it's obvious, are thus because there are 3600 seconds in one hour.)</p>\n"}, {"tags": [], "owner": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "is_accepted": false, "score": 2, "last_activity_date": 1570058823, "creation_date": 1570058823, "answer_id": 58210543, "question_id": 58210123, "link": "https://stackoverflow.com/questions/58210123/how-to-find-seconds-left-or-past-the-nearest-hour-in-javascript/58210543#58210543", "title": "How to find seconds LEFT or PAST the nearest hour in JavaScript?", "body": "<p>You can also do this with straight Javascript, using <code>Date.parse</code> to convert the time string into milliseconds. Then you can do the closest hour computation using <code>1800 - Math.abs(sec - 1800)</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const A = '2019-09-25 15:58:59';\r\nconst B = '2019-09-25 17:00:59';\r\n\r\nconst timeToNearestHour = (datetime) =&gt; {\r\n  const sec = Date.parse(datetime + 'Z') / 1000 % 3600;\r\n  return 1800 - Math.abs(sec - 1800);\r\n}\r\n\r\nconsole.log(A, timeToNearestHour(A));\r\nconsole.log(B, timeToNearestHour(B));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 455, "user_id": 8413904, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a746703aa0f8d4b4c16a8c1ce30c77e2?s=128&d=identicon&r=PG&f=1", "display_name": "Harry", "link": "https://stackoverflow.com/users/8413904/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "closed_date": 1570109764, "accepted_answer_id": 58210411, "answer_count": 3, "score": -1, "last_activity_date": 1581621187, "creation_date": 1570055365, "last_edit_date": 1581621187, "question_id": 58210123, "link": "https://stackoverflow.com/questions/58210123/how-to-find-seconds-left-or-past-the-nearest-hour-in-javascript", "closed_reason": "Needs more focus", "title": "How to find seconds LEFT or PAST the nearest hour in JavaScript?", "body": "<p>How do I find out number of <strong>seconds</strong> to the <strong>nearest hour</strong> for a given timestamp in Javascript? </p>\n\n<p><strong>Examples:</strong> (Format of the timestamp is not important)</p>\n\n<pre><code>2019-09-25 15:58:59 //output: 61\n\n2019-09-25 17:00:59 //output: 59\n</code></pre>\n\n<p>Are there any JS built in functions or <strong>moment.js</strong> functions find out these values ?</p>\n"}, {"tags": ["javascript", "algorithm", "typescript", "cluster-analysis"], "comments": [{"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 1, "creation_date": 1570058018, "post_id": 58210062, "comment_id": 102798294, "body": "Say keywords 1, 13 and 47 share the same 3 urls [a,b,c].  Your code will build groups of [1,13,47] and then [13,47] - is that desired behavior?  It&#39;s really hard to eyeball your dataset and expected results can you pare that down to something that shows the problem within say 10 records?"}], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 12087868, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBpB04bhjS5C34Fea8YGw1HOmH1MJLHXwNDEXIOBQ=k-s128", "display_name": "Abhishek Bag", "link": "https://stackoverflow.com/users/12087868/abhishek-bag"}, "is_accepted": false, "score": 1, "last_activity_date": 1570056996, "creation_date": 1570056996, "answer_id": 58210326, "question_id": 58210062, "link": "https://stackoverflow.com/questions/58210062/how-to-write-grouping-algorithm-that-groups-items-in-dataset-by-having-3-or-more/58210326#58210326", "title": "How to write grouping algorithm that groups items in dataset by having 3 or more similar properties", "body": "<p>One of the possible problems could be the way you are filtering the <code>dataset</code> array which is being looped through and being filtered inside its own loop. You can filter the <code>dataset</code> and remove the current  keyword and put it in another variable and then foreach on that instead of modifying <code>dataset</code> itself. </p>\n"}, {"tags": [], "owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "is_accepted": false, "score": 1, "last_activity_date": 1570059088, "last_edit_date": 1570059088, "creation_date": 1570058157, "answer_id": 58210456, "question_id": 58210062, "link": "https://stackoverflow.com/questions/58210062/how-to-write-grouping-algorithm-that-groups-items-in-dataset-by-having-3-or-more/58210456#58210456", "title": "How to write grouping algorithm that groups items in dataset by having 3 or more similar properties", "body": "<blockquote>\n  <p>Looking at the result, I don't think this is correct because this results in 135 \"groups\" and the expected number is 87, and the original code produces 88</p>\n</blockquote>\n\n<p>I think your issue is right at the top of your code</p>\n\n<pre><code>  let dataset = results;\n  let groups: any[] = [];\n\n  dataset.forEach((current: Result) =&gt; {\n    const group = { volume: 0, items: [current] };\n    dataset = dataset.filter(el =&gt; el.keyword !== current.keyword);\n</code></pre>\n\n<p>You're mutating <code>dataset</code> inside the <code>dataSet.forEach</code> function</p>\n\n<p>I think that needs to be</p>\n\n<pre><code>  //let dataset = results; remove this\n  let groups: any[] = [];\n\n  results.forEach((current: Result) =&gt; {\n    const group = { volume: 0, items: [current] };\n    const dataset = results.filter(el =&gt; el.keyword !== current.keyword);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1565, "user_id": 5093377, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/C9O8p.jpg?s=128&g=1", "display_name": "Milan Velebit", "link": "https://stackoverflow.com/users/5093377/milan-velebit"}, "is_accepted": false, "score": 1, "last_activity_date": 1570187906, "last_edit_date": 1570187906, "creation_date": 1570104981, "answer_id": 58218934, "question_id": 58210062, "link": "https://stackoverflow.com/questions/58210062/how-to-write-grouping-algorithm-that-groups-items-in-dataset-by-having-3-or-more/58218934#58218934", "title": "How to write grouping algorithm that groups items in dataset by having 3 or more similar properties", "body": "<p>This can be simplified into a single <code>reduce</code> fn invocation to avoid side-effects and confusion:</p>\n\n<pre><code>const out = data.reduce((acc, current, index) =&gt; {\n  const maybeGroup = acc.findIndex(\n    el =&gt; _.intersection(current.urls, el.urls).length &gt; 3\n  );\n  if (maybeGroup !== -1 || maybeGroup === 0) {\n    if(!acc[maybeGroup].searches.includes(current.keyword)) {\n      acc[maybeGroup].searches.push(current.keyword);\n      return acc;\n    }\n    return acc;\n  } else {\n    acc.push({\n      mainKeyword: current.keyword,\n      searches: [],\n      urls: current.urls\n    });\n    return acc;\n  }\n}, []);\nconsole.log(out.map(x =&gt; _.pick(x, ['mainKeyword', 'searches'])))\n</code></pre>\n\n<p>This ignores the counting &amp; sorting logic of course but that can be easily added into the existing code. </p>\n"}], "owner": {"reputation": 120, "user_id": 8714563, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pKW9d13OOvM/AAAAAAAAAAI/AAAAAAAAAD4/ZBt-eZwWewY/photo.jpg?sz=128", "display_name": "Jak\u0161a Mali\u0161i\u0107", "link": "https://stackoverflow.com/users/8714563/jak%c5%a1a-mali%c5%a1i%c4%87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1570187906, "creation_date": 1570054865, "last_edit_date": 1570101076, "question_id": 58210062, "link": "https://stackoverflow.com/questions/58210062/how-to-write-grouping-algorithm-that-groups-items-in-dataset-by-having-3-or-more", "title": "How to write grouping algorithm that groups items in dataset by having 3 or more similar properties", "body": "<p>I'm building a tool for my client which groups keywords together based on the top 10 Google search URLs. The keyword is represented as a JavaScript object containing an array of URLs. The grouping criteria is that <strong>two keywords</strong> belong to the same group if they have <strong>3 or more URLs in common</strong>. Also, there should be <strong>no keyword duplication</strong> in generated groups and the total number of generated groups is not predefined before the grouping. I would appreciate any advice on the <em>logic</em> part of this problem, thanks!</p>\n\n<p>So far I managed to develop the algorithm provided below, but it still makes duplicates and doesn't group keyword 100% right (some keywords should be in the same group but they are not).</p>\n\n<pre><code>function makeKeywordGroupsNew(results: Result[], uid: string): Group[] {\n  let dataset = results;\n  let groups: any[] = [];\n\n  // loop thru all records in dataset\n  dataset.forEach((current: Result) =&gt; {\n    // initialize the group with the current keyword in it\n    const group = { volume: 0, items: [current] };\n    // remove the current keyword from the dataset\n    dataset = dataset.filter(el =&gt; el.keyword !== current.keyword);\n    // loop thru the new dataset and push the other keyword into the group if it has &gt;=3 urls in common with current keyword\n    dataset.forEach((other: Result) =&gt; {\n      const urlsInCommon = _.intersection(current.urls, other.urls);\n      if (urlsInCommon.length &gt;= 3) {\n        group.items.push(other);\n      }\n    });\n\n    // sum the keyword volumes to form the group volume - not important for the core logic\n    // @ts-ignore\n    group.volume = _.sum(group.items.map(item =&gt; item.volume));\n    // sort keywords in the formed group by volume - not important for the core logic\n    // @ts-ignore\n    group.items = group.items\n      .sort((a, b) =&gt; {\n        if (a.volume &lt; b.volume) return 1;\n        if (a.volume &gt; b.volume) return -1;\n        return 0;\n      })\n      .map(el =&gt; el.keyword);\n    // add the newly formed group to the groups array (the result)\n    groups.push(group);\n  });\n\n  // exclude the groups with only one keyword inside\n  groups = groups.filter(group =&gt; group.items.length &gt; 1);\n  // delete keyword duplicates inside of the group\n  groups = groups.map(group =&gt; ({ ...group, items: _.uniq(group.items) }));\n  // form the correct result object shape - not important for the core logic\n  return groups.map(group =&gt; ({\n    uid,\n    main: group.items[0],\n    keywords: group.items.slice(1, group.length),\n    volume: group.volume\n  }));\n}\n</code></pre>\n\n<p>I expected the output of <a href=\"https://pastebin.com/ZiAsXhKP\" rel=\"nofollow noreferrer\">input.json</a> to be <a href=\"https://pastebin.com/DQKZRXSr\" rel=\"nofollow noreferrer\">output.csv</a>, but my solution either puts fewer keywords in a group or makes the wrong groups.</p>\n"}, {"tags": ["javascript", "node.js", "appium"], "answers": [{"tags": [], "owner": {"reputation": 703, "user_id": 12041490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W58IJ.jpg?s=128&g=1", "display_name": "Vault23", "link": "https://stackoverflow.com/users/12041490/vault23"}, "is_accepted": false, "score": 0, "last_activity_date": 1570089704, "creation_date": 1570089704, "answer_id": 58214799, "question_id": 58210015, "link": "https://stackoverflow.com/questions/58210015/how-to-set-value-of-element/58214799#58214799", "title": "How to set value of element?", "body": "<p>If you want to send some keys to a text element, you should use that method:</p>\n\n<pre><code>let element = await driver.elementById(\"aaa/edit_input_activation_code_first\");\nawait element.type(\"12345\")\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12156275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/440e2f66d69c2c19142704f107c611eb?s=128&d=identicon&r=PG&f=1", "display_name": "adam", "link": "https://stackoverflow.com/users/12156275/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570089704, "creation_date": 1570054520, "last_edit_date": 1570056897, "question_id": 58210015, "link": "https://stackoverflow.com/questions/58210015/how-to-set-value-of-element", "title": "How to set value of element?", "body": "<p>I want to fill element from application with numbers.</p>\n\n<p>From appium i know i want to fill:</p>\n\n<pre><code>element: aaa/edit_input_activation_code_first\n\nattribute: text\n\nvalue: 5 numbers eg.: 12345\n</code></pre>\n\n<p>I use below code for move between screens.</p>\n\n<pre><code>it(\"should find an element\", function() {\n  return driver\n    .elementById('aaa/btn_registration_wizard_fragment_type_code')\n    .should.eventually.exist\n});\n\n\nit(\"should find click element\", function() {\n  return driver\n    .elementById('aaa/btn_registration_wizard_fragment_type_code')\n    .click()\n});  \n</code></pre>\n\n<p>I want to fill 4 elements with numbers and then move on to next screen.</p>\n"}, {"tags": ["javascript", "typescript", "fabricjs", "tiff"], "comments": [{"owner": {"reputation": 13379, "user_id": 3551786, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/iCAVo.png?s=128&g=1", "display_name": "Durga", "link": "https://stackoverflow.com/users/3551786/durga"}, "edited": false, "score": 0, "creation_date": 1570106017, "post_id": 58209996, "comment_id": 102814243, "body": "Use <a href=\"http://fabricjs.com/docs/fabric.Image.html#.fromURL\" rel=\"nofollow noreferrer\">fabric.Image.fromURL</a>. <a href=\"https://stackoverflow.com/a/36975511/3551786\">stackoverflow.com/a/36975511/3551786</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1746, "user_id": 904375, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/ebTfV.jpg?s=128&g=1", "display_name": "Zeeshan Siddiqui", "link": "https://stackoverflow.com/users/904375/zeeshan-siddiqui"}, "edited": false, "score": 0, "creation_date": 1570813457, "post_id": 58333100, "comment_id": 103046344, "body": "Thanks a lot! So it works greate on the 2d context where we have the putImageData, but when I use it with webgl, should I be using drawPixels? What&#39;s the alternative when using webgl?"}, {"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "reply_to_user": {"reputation": 1746, "user_id": 904375, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/ebTfV.jpg?s=128&g=1", "display_name": "Zeeshan Siddiqui", "link": "https://stackoverflow.com/users/904375/zeeshan-siddiqui"}, "edited": false, "score": 0, "creation_date": 1570837089, "post_id": 58333100, "comment_id": 103054090, "body": "Why would you use webgl here? The only operation you&#39;ll do on this canvas is to put the ImageData on it. 2d context will be as fast as webgl or even faster (webgl contexts tend to be slower to initialise)."}, {"owner": {"reputation": 1746, "user_id": 904375, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/ebTfV.jpg?s=128&g=1", "display_name": "Zeeshan Siddiqui", "link": "https://stackoverflow.com/users/904375/zeeshan-siddiqui"}, "edited": false, "score": 0, "creation_date": 1571069415, "post_id": 58333100, "comment_id": 103109340, "body": "I have 8MB TIFF images to render on the canvas. In some situations I will have multiple (upto 9) TIFF images to render on the same canvas with different opacity overlayed on top of each other.  My request for webgl was to figure out if there are any performance issues between the 2d and webgl implementations. Thanks."}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 2, "last_activity_date": 1570757403, "creation_date": 1570757403, "answer_id": 58333100, "question_id": 58209996, "link": "https://stackoverflow.com/questions/58209996/unable-to-render-tiff-images-and-add-it-as-a-fabric-object/58333100#58333100", "title": "Unable to render TIFF images and add it as a Fabric Object", "body": "<p>I didn't find any mention of something able to handle ImageBitmap in fabric's github repo.</p>\n\n<p>However, you can very well create a Fabric.Image from an HTMLCanvasElement.\nSo you would have to draw this ImageBitmap on a canvas, and if we're going to use a canvas anyway, better to do it at the previous step, when you get an ImageData:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var scene = new fabric.Canvas('fabric');\r\nscene.setHeight(500);\r\nscene.setWidth(500);\r\n\r\nfetch( \"https://upload.wikimedia.org/wikipedia/commons/d/d8/Example.tiff\" )\r\n  .then( (resp) =&gt; resp.arrayBuffer() )\r\n  .then( makeFabricImageFromTiff )\r\n  .then( (fabricImage) =&gt; scene.add( fabricImage ) );\r\n\r\nfunction makeFabricImageFromTiff( buffer ) {\r\n  // Using UTIF.js to decode the array buffer and convert it to ImageData\r\n  const ifds = UTIF.decode( buffer );\r\n  UTIF.decodeImage( buffer, ifds[ 0 ] );\r\n  const timage = ifds[ 0 ];\r\n  const array = new Uint8ClampedArray( UTIF.toRGBA8( timage ) );\r\n  // Forming image Data\r\n  const imageData = new ImageData( array, timage.width, timage.height );\r\n  // a temporary canvas element\r\n  const canvas = document.createElement( 'canvas' );\r\n  canvas.width = timage.width;\r\n  canvas.height = timage.height;\r\n  // on which we draw the ImageData\r\n  canvas.getContext( '2d' )\r\n    .putImageData( imageData, 0, 0 );\r\n  // before converting it to a Fabric.Image instance\r\n  return new fabric.Image( canvas, { left: 50, top: 50 } );\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas { border: 1px solid; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.jsdelivr.net/gh/photopea/UTIF.js/UTIF.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/fabric.js/2.4.4/fabric.min.js\"&gt;&lt;/script&gt;\r\n&lt;canvas id=\"fabric\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1746, "user_id": 904375, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/ebTfV.jpg?s=128&g=1", "display_name": "Zeeshan Siddiqui", "link": "https://stackoverflow.com/users/904375/zeeshan-siddiqui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 404, "favorite_count": 0, "accepted_answer_id": 58333100, "answer_count": 1, "score": 0, "last_activity_date": 1570757403, "creation_date": 1570054396, "question_id": 58209996, "link": "https://stackoverflow.com/questions/58209996/unable-to-render-tiff-images-and-add-it-as-a-fabric-object", "title": "Unable to render TIFF images and add it as a Fabric Object", "body": "<p>I've read the tutorials: <a href=\"http://fabricjs.com/articles\" rel=\"nofollow noreferrer\">http://fabricjs.com/articles</a> and the docs about Fabric Objects.</p>\n\n<p>I was able to load JPG and PNG images, but in my project I need to load TIFF images onto the canvas and be able to apply filters on it. I'm able to render TIFF images using the canvas context, but whenever 'renderAll()' is called it clears the context and my TIFF image is cleared. Also I cannot perform other operations like zoom, pan, brightness and contrast since I can't render it.</p>\n\n<p>Can someone please help me understand how I can convert a TIFF image into a Fabric Object so that I can do all standard fabric.Object related operations on it.</p>\n\n<p>Here are the steps I followed:</p>\n\n<ol>\n<li><p>To load a mock TIFF image I'm reading it as an arraybuffer.</p>\n\n<pre><code>public loadMockTiffImage() {\n// Create a new XMLHttpRequest object to read the mock TIFF image as ArrayBuffer\nconst xhr = new XMLHttpRequest();\n\n// Configure it: GET-request for the URL\nxhr.open('GET', 'assets/tif/sample.tif', true);\nxhr.responseType = 'arraybuffer';\nxhr.timeout = 10000; // timeout in ms, 10 seconds\n\n// Send the request over the network\nxhr.send();\n\n// After the response is received, load it\nxhr.onload = () =&gt; {\n  // analyze HTTP status of the response\n  if (xhr.status !== 200) {\n    // throw error incase status is not 200\n    console.log(`Error ${xhr.status}: ${xhr.statusText}`);\n  } else {\n    // Show the result\n    console.log(`Done, got ${xhr.response.byteLength} bytes`);\n    console.log(xhr.response);\n    // Add to canvas the XHR response which is of type ArrayBuffer\n    this.addTiffImageOnCanvas(xhr.response);\n  }\n};\n\n// Show progress of loading the bytes\nxhr.onprogress = event =&gt; {\n  if (event.lengthComputable) {\n    console.log(`Received ${event.loaded} of ${event.total} bytes`);\n  } else {\n    console.log(`Received ${event.loaded} bytes`); // no Content-Length\n  }\n};\n\n// Log any network request errors\nxhr.onerror = () =&gt; {\n  console.log('Request failed!');\n};\n}\n</code></pre></li>\n<li><p>Next I use UTIF.js to decode the ArrayBuffer and convert it to ImageBitmap so that I can use canvas.drawImage() to render it on the canvas. <strong>How do I convert this ImageBitmap/ArrayBuffer to a FabricJS object?</strong></p>\n\n<pre><code>private addTiffImageOnCanvas(buffer: ArrayBuffer) {\n// Using UTIF.js to decode the array buffer and convert it to ImageBitmap\nconst ifds = UTIF.decode(buffer);\nUTIF.decodeImage(buffer, ifds[0]);\nconst timage = ifds[0];\nconst array = new Uint8ClampedArray(UTIF.toRGBA8(timage));\n// Forming image Data\nconst imageData = new ImageData(array, timage.width, timage.height);\nlet ibm: ImageBitmap = null;\nconst bmPromise: Promise&lt;ImageBitmap&gt; = createImageBitmap(imageData);\n\nbmPromise.then(bitmap =&gt; {\n  ibm = bitmap;\n  fabric.Image.fromObject(ibm, image =&gt; {\n     // TODO: How or What should I do now?\n  });\n});\n</code></pre>\n\n<p>}</p></li>\n</ol>\n\n<p>Thank you for your help.</p>\n"}, {"tags": ["javascript", "arrays", "functional-programming"], "comments": [{"owner": {"reputation": 1666, "user_id": 6087178, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yz21n2FpuRQ/AAAAAAAAAAI/AAAAAAAABgI/JplhJBAkCpg/photo.jpg?sz=128", "display_name": "Jorge Solis", "link": "https://stackoverflow.com/users/6087178/jorge-solis"}, "edited": false, "score": 0, "creation_date": 1570054521, "post_id": 58209968, "comment_id": 102797576, "body": "Take a look at MDN. You probaly can&#39;t use some functions as tools tolve problems if you don&#39;t know how they work in the first place. Specifically, look at what those function expect to get as arguments and what exacly they return."}], "answers": [{"tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 1, "last_activity_date": 1570054554, "creation_date": 1570054554, "answer_id": 58210020, "question_id": 58209968, "link": "https://stackoverflow.com/questions/58209968/how-to-use-splice-and-slice-to-put-an-array-into-another-array/58210020#58210020", "title": "How to use splice and slice to put an array into another array", "body": "<p>First keep in mind that <code>splice</code>'s arguments are:</p>\n\n<ul>\n<li>(1) Index at which items should be added/removed</li>\n<li>(2) Number of items to be removed</li>\n<li>(3), (4), (5), ... (optional) Items to add</li>\n</ul>\n\n<p>You need to insert one array into another, so all you need is a single <code>splice</code>: the index to insert the items at is the argument <code>n</code>, and you don't want to remove any items, so the second argument should be <code>0</code>, and then to specify the items to <em>add</em>, just spread into the rest of the <code>splice</code> argument list:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function frankenSplice(arr1, arr2, n) {\r\n  // don't mutate the argument\r\n  const newArr = arr2.slice();\r\n  newArr.splice(n, 0, ...arr1);\r\n  return newArr;\r\n}\r\n\r\nconsole.log(frankenSplice([1, 2, 3], [4, 5], 1)); //--&gt;4,3,2,1,5\r\nconsole.log(frankenSplice([1, 2], [\"a\", \"b\"], 1)); //--&gt;a,2,1,b</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 89, "user_id": 12011783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TnOl0.jpg?s=128&g=1", "display_name": "paulocleon", "link": "https://stackoverflow.com/users/12011783/paulocleon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 58210020, "answer_count": 1, "score": 1, "last_activity_date": 1570065967, "creation_date": 1570054180, "last_edit_date": 1570065967, "question_id": 58209968, "link": "https://stackoverflow.com/questions/58209968/how-to-use-splice-and-slice-to-put-an-array-into-another-array", "title": "How to use splice and slice to put an array into another array", "body": "<p>My question is about the output of this program: in the FCC (freecodecamp) console I see <code>4,3,2,1,5</code>, whereas in the node console I see <code>[ 4, 3, 2, 1, 5 ]</code>(same with the other arrays).</p>\n\n<p>I also tried this at the line number 8: <code>let result = array2Copy.map(i =&gt; i.toString());</code></p>\n\n<pre><code>function frankenSplice(arr1, arr2, n) {\n  let array2Copy = arr2.slice(0);\n\n  for (let i = 0; i &lt; arr1.length; i++){\n    array2Copy.splice(n, 0, arr1[i]);\n  }\n  let result = array2Copy;  \n\n  return array2Copy;\n}\n\nconsole.log(frankenSplice([1, 2, 3], [4, 5], 1));--&gt;4,3,2,1,5\nconsole.log(frankenSplice([1, 2], [\"a\", \"b\"], 1));--&gt;a,2,1,b\n</code></pre>\n\n<p>According with the FCC console, I need the following output: <code>[4, 1, 2, 3, 5]</code></p>\n"}, {"tags": ["javascript", "angularjs", "angular-promise"], "comments": [{"owner": {"reputation": 5865, "user_id": 5298696, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_Lk3Kq_mN2c/AAAAAAAAAAI/AAAAAAAAAEQ/4UXPTXc6z6U/photo.jpg?sz=128", "display_name": "CollinD", "link": "https://stackoverflow.com/users/5298696/collind"}, "edited": false, "score": 2, "creation_date": 1570054264, "post_id": 58209960, "comment_id": 102797521, "body": "Yes, you are correct. I&#39;d suggest just giving it a try."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1570057723, "post_id": 58209960, "comment_id": 102798244, "body": "Closely related: <a href=\"https://stackoverflow.com/q/28066429/1048572\">order in <code>Promise.all</code></a>"}], "answers": [{"tags": [], "owner": {"reputation": 46815, "user_id": 5535245, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YnjcO.jpg?s=128&g=1", "display_name": "georgeawg", "link": "https://stackoverflow.com/users/5535245/georgeawg"}, "is_accepted": false, "score": 2, "last_activity_date": 1570055546, "last_edit_date": 1592644375, "creation_date": 1570055546, "answer_id": 58210152, "question_id": 58209960, "link": "https://stackoverflow.com/questions/58209960/how-do-i-use-q-allpromises-in-angularjs/58210152#58210152", "title": "How do I use $q.all(promises) in angularjs", "body": "<blockquote>\n<p>Does this mean that if I pass in an array of requests(like $q.all(calls).then(response)), the returned promises are in an array in the same order as the calls are passed in? Can I do something like response[0] to retrieve the response data returned by the 0th call?</p>\n</blockquote>\n<p>Yes, the results in an array are returned in the same order:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>angular.module(\"app\",[])\n.run(function($q) {\n     var promise99 = $q.when(99);\n     var promise22 = $q.when(22);\n     \n     $q.all([promise22,promise99]).then(function([result22,result99]) {\n         console.log(result22);\n         console.log(result99);\n     });\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//unpkg.com/angular/angular.js\"&gt;&lt;/script&gt;\n&lt;body ng-app=\"app\"&gt;&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2><code>$q.all</code> Also Accepts Hashes</h2>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>angular.module(\"app\",[])\n.run(function($q) {\n     var promise99 = $q.when(99);\n     var promise22 = $q.when(22);\n\n     var promiseHash = {\n         r99: promise99,\n         r22: promise22\n     };\n     \n     $q.all(promiseHash).then(function(resultHash) {\n         console.log(resultHash.r22);\n         console.log(resultHash.r99);\n     });\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"//unpkg.com/angular/angular.js\"&gt;&lt;/script&gt;\n&lt;body ng-app=\"app\"&gt;&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>For more information, see</p>\n<ul>\n<li><a href=\"https://docs.angularjs.org/api/ng/service/$q#all\" rel=\"nofollow noreferrer\">AngularJS $q Service API Reference - $q.all</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment\" rel=\"nofollow noreferrer\">MDN JavaScript Reference - Destructuring Assignment</a></li>\n</ul>\n"}], "owner": {"reputation": 11, "user_id": 12055667, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54c4780154f865f7dcd1901428a42420?s=128&d=identicon&r=PG&f=1", "display_name": "instant501", "link": "https://stackoverflow.com/users/12055667/instant501"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2307, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570055546, "creation_date": 1570054146, "last_edit_date": 1592644375, "question_id": 58209960, "link": "https://stackoverflow.com/questions/58209960/how-do-i-use-q-allpromises-in-angularjs", "title": "How do I use $q.all(promises) in angularjs", "body": "<p>Usually I would do</p>\n<pre><code>$http({\n    method:'GET',\n    url: 'exmapleURL',\n    params: {someParams}\n}).then(function(response) {\n    console.log(response); // response contains data I need\n});\n</code></pre>\n<p>Now I have multiple such calls to run and I would like to wait for all of them to finish before doing something with their responses, and $q.all() seems to be a good place to start.</p>\n<p>Per the <a href=\"https://docs.angularjs.org/api/ng/service/$q#all\" rel=\"nofollow noreferrer\">AngularJS $q Service API Reference - $q.all</a> document,</p>\n<blockquote>\n<h2>all(promises)</h2>\n<p>Combines multiple promises into a single promise that is resolved when all of the input promises are resolved.<br><br>\n<strong>Returns:</strong> Returns a single promise that will be resolved with an array/hash of values, each value corresponding to the promise at the same index/key in the promises array/hash. If any of the promises is resolved with a rejection, this resulting promise will be rejected with the same rejection value.</p>\n</blockquote>\n<p>Does this mean that if I pass in an array of requests(like $q.all(calls).then(response)), the returned promises are in an array in the <strong>same</strong> order as the calls are passed in? Can I do something like <code>response[0]</code> to retrieve the response data returned by the 0th call? Thank you.</p>\n"}, {"tags": ["javascript", "instance"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1570054270, "post_id": 58209949, "comment_id": 102797523, "body": "Seems like this is JSDoc. You&#39;ve omitted some characters - those <code>@</code> directives are supposed to be inside a block comment."}, {"owner": {"reputation": 3660, "user_id": 2085502, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/35944d07bd203fe68ed3781347412474?s=128&d=identicon&r=PG", "display_name": "Christoph L&#252;tjen", "link": "https://stackoverflow.com/users/2085502/christoph-l%c3%bctjen"}, "edited": false, "score": 0, "creation_date": 1570054482, "post_id": 58209949, "comment_id": 102797570, "body": "1) is JSDoc. Nothing more than comments that support generation of api docs. 2) The &quot;classes&quot; are new in JavaScript, before we had these functions. You&#39;ll find a lot of articles in the web 3) <code>new Class1()</code>, this article could help: <a href=\"https://medium.com/@parsyval/javascript-prototype-vs-class-a7015d5473b\" rel=\"nofollow noreferrer\">medium.com/@parsyval/javascript-prototype-vs-class-a7015d547&zwnj;&#8203;3b</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1699, "user_id": 8937209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bQ0HF.jpg?s=128&g=1", "display_name": "&#214;m&#252;rcan Cengiz", "link": "https://stackoverflow.com/users/8937209/%c3%96m%c3%bcrcan-cengiz"}, "edited": false, "score": 0, "creation_date": 1570055230, "post_id": 58210021, "comment_id": 102797713, "body": "3rd question: I need to use this js file from another using instance. Some methods  in this javascript file creates HTML elements. I need to create my DOM with using this js file."}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 1, "creation_date": 1570055291, "post_id": 58210021, "comment_id": 102797724, "body": "JavaScript classes and DOM/HTML are two separate things. They can interact with each other, of course, but are not exclusively related. I need a lot more information before I can make any sense of that."}, {"owner": {"reputation": 1699, "user_id": 8937209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bQ0HF.jpg?s=128&g=1", "display_name": "&#214;m&#252;rcan Cengiz", "link": "https://stackoverflow.com/users/8937209/%c3%96m%c3%bcrcan-cengiz"}, "edited": false, "score": 0, "creation_date": 1570092503, "post_id": 58210021, "comment_id": 102807179, "body": "So how can I call these functions from another file?"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "reply_to_user": {"reputation": 1699, "user_id": 8937209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bQ0HF.jpg?s=128&g=1", "display_name": "&#214;m&#252;rcan Cengiz", "link": "https://stackoverflow.com/users/8937209/%c3%96m%c3%bcrcan-cengiz"}, "edited": false, "score": 0, "creation_date": 1570116691, "post_id": 58210021, "comment_id": 102820331, "body": "Look into ES6 imports/exports. I don&#39;t know what your setup is so it&#39;s impossible to tell you how to do that without knowing."}, {"owner": {"reputation": 1699, "user_id": 8937209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bQ0HF.jpg?s=128&g=1", "display_name": "&#214;m&#252;rcan Cengiz", "link": "https://stackoverflow.com/users/8937209/%c3%96m%c3%bcrcan-cengiz"}, "edited": false, "score": 0, "creation_date": 1570132855, "post_id": 58210021, "comment_id": 102827278, "body": "I editted my question about ES6 imports/exports. Could you take look?"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "reply_to_user": {"reputation": 1699, "user_id": 8937209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bQ0HF.jpg?s=128&g=1", "display_name": "&#214;m&#252;rcan Cengiz", "link": "https://stackoverflow.com/users/8937209/%c3%96m%c3%bcrcan-cengiz"}, "edited": false, "score": 0, "creation_date": 1570134550, "post_id": 58210021, "comment_id": 102827964, "body": "If you mark this answer as an accepted answer (as it addresses your question) and open up a new question specific to how import / export works, I&#39;d be happy to take a look and provide an answer"}], "tags": [], "owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "is_accepted": true, "score": 2, "last_activity_date": 1570055380, "last_edit_date": 1570055380, "creation_date": 1570054556, "answer_id": 58210021, "question_id": 58209949, "link": "https://stackoverflow.com/questions/58209949/using-instances-in-javascript-class-param-property-augments/58210021#58210021", "title": "Using instances in Javascript - @class, @param, @property, @augments", "body": "<p><strong><em>What does <code>@class</code> mean?</em></strong></p>\n\n<p>This is something called JSDoc. It's basically the equivalent of the summary xml comments for c#. At a high level, it's just a <em>better</em> way to document your methods, classes, variables, functions, etc... rather than just doing <code>//...</code> everywhere. You can learn more about JSDoc <a href=\"https://devdocs.io/jsdoc/howto-es2015-classes\" rel=\"nofollow noreferrer\">here</a>. Other languages have similar things. I am most familiar with c# and JS though.</p>\n\n<p>The cool thing about JSDoc is that if you have an IDE that supports it, you can basically just hover over something and assuming you've got proper JSDoc on whatever module you're using, you'll get the documentation right then and there. You don't have to hop over to the source to see if the author left any comments for you. They'll just pop up inline. WebStorm does a good job with this.</p>\n\n<p><strong><em>What is the difference between <code>func Class1</code> and <code>Class1.prototype.someName</code></em></strong></p>\n\n<p>This (IMO) is the old school way of writting classes in JavaScript. With ES6+, you can just use the keyword <code>class</code> instead of <code>function</code> and having to use prototypes.</p>\n\n<p>Essentially,</p>\n\n<p><code>function Class1 (...) {...}</code></p>\n\n<p>is the older way of doing</p>\n\n<p><code>class Class1 { ... }</code></p>\n\n<p>With that being said ,</p>\n\n<p><code>Class1.prototype.someName = function (...) { ... }</code></p>\n\n<p>is the old school way of doing</p>\n\n<pre><code>class Class1 () {\n    constructor(...) {...}\n    someName(...) { ... }\n\n}\n</code></pre>\n\n<p>For your 3rd question, I am unclear what you're asking.</p>\n\n<p>Example of using modern day classes vs the 'older' way:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Older way of creating a Person class\r\nfunction Person(first, last) {\r\n  this.first = first;\r\n  this.last = last;\r\n}\r\n\r\nPerson.prototype = {\r\n  getFullName: function () {\r\n    return this.first + ' ' + this.last;\r\n  }\r\n}\r\n\r\nvar oldPerson = new Person('John', 'Doe');\r\nconsole.log(oldPerson.getFullName());\r\n\r\n// Modern way of creating a class\r\n\r\nclass Person1 {\r\n  constructor(first, last) {\r\n    this.first = first;\r\n    this.last = last;\r\n  }\r\n  getFullName() {\r\n    return `${this.first} ${this.last}`;\r\n  }\r\n}\r\n\r\nconst newPerson = new Person1('Jane', 'Doe');\r\nconsole.log(newPerson.getFullName());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1699, "user_id": 8937209, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bQ0HF.jpg?s=128&g=1", "display_name": "&#214;m&#252;rcan Cengiz", "link": "https://stackoverflow.com/users/8937209/%c3%96m%c3%bcrcan-cengiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 155, "favorite_count": 1, "accepted_answer_id": 58210021, "answer_count": 1, "score": 0, "last_activity_date": 1570132821, "creation_date": 1570054058, "last_edit_date": 1570132821, "question_id": 58209949, "link": "https://stackoverflow.com/questions/58209949/using-instances-in-javascript-class-param-property-augments", "title": "Using instances in Javascript - @class, @param, @property, @augments", "body": "<p>I got a javascript file. There are 3 classes and I need to create these classes instances and use the methods they contain. Problem is, these 3 classes are not like <code>class Example {...}</code>. Instead they look like this:</p>\n\n<pre><code>* @class\n* @param {Array|Object} param1 - [REQUIRED]\n* @param {Array|String} param2 - [OPTIONAL]\n* @property {String} prop1\n* @property {String} prop2\n* @property {Array} prop3\n* @property {Class2} prop4\n\nfunction Class1(param1, param2) {\n    ...\n}\n\n@augments Class1\n@param {String} param5\n@return {String}\n\nClass1.prototype.someName = function (param5) {\n    ...\n}\n</code></pre>\n\n<p>And it goes like this. My questions are:</p>\n\n<p>1) What does <code>@class</code> or <code>property</code> etc. mean? </p>\n\n<p>2) What is difference between <code>func Class1</code> and <code>Class1.prototype.someName</code> ?</p>\n\n<p>3) How can I create <code>instance</code> from these 3 classes and use the methods from another js file. Because I need to create everything from this javascript file. They contain some HTML with CSS classes like:</p>\n\n<pre><code>function Class1(param1, param2) {\n    this.openTag;\n    this.closeTag;\n    this.htmlTags;\n\n    this.openTag = '&lt;div id=\"' + this.elementId + '\"&gt;';\n    this.closeTag = '&lt;/div&gt;';\n\n    this.htmlTags = {\n        sectionTitle: {\n            openTag: '&lt;h2 class=\"class1\"&gt;',\n            closeTag: '&lt;/h2&gt;'\n        },\n        group: {\n            openTag: '&lt;div class=\"class2\"&gt;',\n            closeTag: '&lt;/div&gt;'\n        },\n        table: {\n            openTag: '&lt;table class=\"class3\"&gt;',\n            closeTag: '&lt;/table&gt;'\n        }\n    }\n   ...\n}\n</code></pre>\n\n<p>How can I create an instance of these classes and call them from another javascript file? When I try to do ES6 imports/exports, it gives me this error:</p>\n\n<p><code>Access to script at 'file:///Users/user/Desktop/project/someName.js' from origin 'null' has been blocked by CORS policy: Cross origin requests are only supported for protocol schemes: http, data, chrome, chrome-extension, https.</code> </p>\n\n<p>&amp;</p>\n\n<p><code>app.js:1 Uncaught SyntaxError: Cannot use import statement outside a module</code></p>\n\n<p>It doesn't allow me to call functions from another js file.</p>\n\n<p>I would appreciate if you explain everything step by step :)</p>\n"}, {"tags": ["javascript", "hoisting", "nodelist"], "answers": [{"tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": true, "score": 4, "last_activity_date": 1570054206, "last_edit_date": 1570054206, "creation_date": 1570054122, "answer_id": 58209956, "question_id": 58209940, "link": "https://stackoverflow.com/questions/58209940/javascript-cant-immediately-select-elements-after-creating-them/58209956#58209956", "title": "JavaScript: can&#39;t immediately select elements after creating them?", "body": "<p>You are able to access and query document elements immediately after they are created. </p>\n\n<p>The issue here is that you selector syntax is incorrect; to select the elements with <code>box</code> class, prefix the selector with a \".\":</p>\n\n<pre><code>btn.addEventListener('click', () =&gt; {\n\n  if (!gamePlay) {\n\n    setup();\n\n    let word = document.querySelectorAll('.box'); // Prefix .\n    console.log(word);\n    btn.classList.toggle('hidden');\n\n    gamePlay = true;\n  }\n})\n</code></pre>\n"}], "owner": {"reputation": 117, "user_id": 11996130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/659ec7986db1b12de34416282ac2cc62?s=128&d=identicon&r=PG&f=1", "display_name": "Bob ", "link": "https://stackoverflow.com/users/11996130/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 58209956, "answer_count": 1, "score": 1, "last_activity_date": 1570055657, "creation_date": 1570053990, "last_edit_date": 1570055657, "question_id": 58209940, "link": "https://stackoverflow.com/questions/58209940/javascript-cant-immediately-select-elements-after-creating-them", "title": "JavaScript: can&#39;t immediately select elements after creating them?", "body": "<p>My script contains the following code that is causing me issues:</p>\n\n<pre><code>btn.addEventListener('click', ()=&gt; {\n  if (!gamePlay) {\n    setup()\n    let word=document.querySelectorAll('box')\n    console.log(word)\n    btn.classList.toggle('hidden')\n    gamePlay=true\n  }\n})\n</code></pre>\n\n<p>The reset of the code can be seen at this JS fiddle (don't mind the code commented out by the way): <a href=\"https://jsfiddle.net/apasric4/6k7anpvu/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/apasric4/6k7anpvu/1/</a></p>\n\n<p>After all the <code>div</code> elements are created in the function <code>setup()</code>, I am trying to select them by their class name (<code>box</code>) however the node list from the section is an empty node list (which is also shown in the console). </p>\n\n<p>I am assuming the code is synchronous. I just can't seem to access the elements created by the call to <code>setup()</code>.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 4, "creation_date": 1570054070, "post_id": 58209931, "comment_id": 102797475, "body": "<code>rollDice()</code> has infinite recursion."}, {"owner": {"reputation": 1476, "user_id": 1372883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127986174d1281a23820584baecc0ea8?s=128&d=identicon&r=PG", "display_name": "ed&#39;", "link": "https://stackoverflow.com/users/1372883/ed"}, "edited": false, "score": 0, "creation_date": 1570054087, "post_id": 58209931, "comment_id": 102797479, "body": "There is a clear syntax error in the code you pasted, making it difficult to answer your question, can you please correctly paste the code in your question?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 4, "creation_date": 1570054130, "post_id": 58209931, "comment_id": 102797490, "body": "<code>var computerRoll = rollDice;</code> This sets the variable to the function, it doesn&#39;t call the function."}, {"owner": {"reputation": 1887, "user_id": 2996989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5ptd.jpg?s=128&g=1", "display_name": "Ahmed Sunny", "link": "https://stackoverflow.com/users/2996989/ahmed-sunny"}, "edited": false, "score": 0, "creation_date": 1570054209, "post_id": 58209931, "comment_id": 102797510, "body": "just print randNumber  and computerRoll before if you will see the issue. your computerRoll = rollDice is reseting it"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570054218, "post_id": 58209931, "comment_id": 102797513, "body": "The <code>for</code> loop rolls 3 dice, not 2 dice. It doesn&#39;t save the result in a variable, though. The code that rolls the dice should be inside the <code>rollDice()</code> function,"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1570054313, "post_id": 58209931, "comment_id": 102797534, "body": "The instructions say you&#39;re supposed to generate 2 numbers between 1 and 6, not one number between 2 and 12."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1570054585, "post_id": 58209931, "comment_id": 102797587, "body": "&quot;<i>2 numbers between 1 and 6, not one number between 2 and 12</i>&quot; just to reiterate - this is <i>important</i>. Simply generating a number between 2 and 12 will give you uniform distribution, rolling dice and adding them (or generating 1-6 twice) will give more of a bell curve - you are most likely to get <code>7</code> with lesser chance to get each number further away with <code>2</code> and <code>12</code> having the lowest chance of all. There is only position of the dice that can generate either - <code>1+1</code> and <code>6+6</code>, while <code>7</code> can be made via <code>1+6</code>, <code>2+5</code>, <code>3+4</code>, <code>4+3</code>, <code>5+2</code>, and <code>6+1</code>."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 11644998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c334b8a62ac0aa0eda89a81cac244d9?s=128&d=identicon&r=PG&f=1", "display_name": "Brenda Rushe ", "link": "https://stackoverflow.com/users/11644998/brenda-rushe"}, "edited": false, "score": 0, "creation_date": 1570059331, "post_id": 58210018, "comment_id": 102798552, "body": "I am not getting a syntax error when I run it. I didn&#39;t realize we had to two 2 dice (that&#39;s my mistake). Can someone please explain how I call the function? Sorry but new to all this and teacher is not a lot of help. Also how do I do the two dice of 1-6? Thanks for all your help!"}, {"owner": {"reputation": 523, "user_id": 7865428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c172a66464575485df7130ceca8fd294?s=128&d=identicon&r=PG", "display_name": "David G.", "link": "https://stackoverflow.com/users/7865428/david-g"}, "reply_to_user": {"reputation": 21, "user_id": 11644998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c334b8a62ac0aa0eda89a81cac244d9?s=128&d=identicon&r=PG&f=1", "display_name": "Brenda Rushe ", "link": "https://stackoverflow.com/users/11644998/brenda-rushe"}, "edited": false, "score": 0, "creation_date": 1570062642, "post_id": 58210018, "comment_id": 102799152, "body": "In javascript, rollDice has the value of the callable function, while rollDice() calls the function and has the value of its return value. Some other languages can call without parenthesis."}, {"owner": {"reputation": 21, "user_id": 11644998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c334b8a62ac0aa0eda89a81cac244d9?s=128&d=identicon&r=PG&f=1", "display_name": "Brenda Rushe ", "link": "https://stackoverflow.com/users/11644998/brenda-rushe"}, "edited": false, "score": 0, "creation_date": 1570113404, "post_id": 58210018, "comment_id": 102818583, "body": "Thanks everyone for all your help! I have learned a lot from you. I am sure I will be back with more questions as the semester progresses."}], "tags": [], "owner": {"reputation": 523, "user_id": 7865428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c172a66464575485df7130ceca8fd294?s=128&d=identicon&r=PG", "display_name": "David G.", "link": "https://stackoverflow.com/users/7865428/david-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1570054544, "creation_date": 1570054544, "answer_id": 58210018, "question_id": 58209931, "link": "https://stackoverflow.com/questions/58209931/roll-dice-game-if-else-statement-not-working/58210018#58210018", "title": "Roll dice game if else statement not working", "body": "<ul>\n<li>if the computer is trying to roll 2 dice, you need 2 random numbers, both converted to range 0 to 5, and then added, and adding 2.  (Try making a function to roll one die, and then calling it twice.)</li>\n<li>The rolldice() function does not return a value.  And it's computerRoll is independent of the outer computerRoll.</li>\n<li>the outer computerRoll is set to a function, which is never equal to a number.  This is why you get only losses.</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 523, "user_id": 7865428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c172a66464575485df7130ceca8fd294?s=128&d=identicon&r=PG", "display_name": "David G.", "link": "https://stackoverflow.com/users/7865428/david-g"}, "edited": false, "score": 0, "creation_date": 1570064600, "post_id": 58210215, "comment_id": 102799521, "body": "Input validation: One of the hardest tasks to get right.  3.1415 gets through at this point."}, {"owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "reply_to_user": {"reputation": 523, "user_id": 7865428, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c172a66464575485df7130ceca8fd294?s=128&d=identicon&r=PG", "display_name": "David G.", "link": "https://stackoverflow.com/users/7865428/david-g"}, "edited": false, "score": 0, "creation_date": 1570075695, "post_id": 58210215, "comment_id": 102801298, "body": "@DavidG. I think it&#39;s a Gauss curve, the values in the center are those with the highest probability of distribution"}], "tags": [], "owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "is_accepted": false, "score": 0, "last_activity_date": 1570058359, "last_edit_date": 1570058359, "creation_date": 1570055975, "answer_id": 58210215, "question_id": 58209931, "link": "https://stackoverflow.com/questions/58209931/roll-dice-game-if-else-statement-not-working/58210215#58210215", "title": "Roll dice game if else statement not working", "body": "<p>if my translator is correct :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let randNumber, computerRoll\r\n\r\ndo\r\n{\r\n  if (randNumber != undefined) {\r\n    alert('Input was incorrect, try again.')\r\n  }\r\n  randNumber = parseInt(prompt('Please enter a number between 2 and 12')) // bce promt value is string\r\n}\r\nwhile (!(1&lt;randNumber &amp;&amp; randNumber&lt;13))  // to also process NaN values (not a number)\r\n\r\ndocument.write('randNumber  -&gt; '+ randNumber + '&lt;br&gt;' )\r\n\r\nfor (let i=0;i&lt;3;i++)\r\n{\r\n  computerRoll = Math.floor(Math.random() *6) +1  // first dice\r\n  computerRoll += Math.floor(Math.random() *6) +1 // second dice\r\n\r\n  document.write('computerRoll  -&gt; '+ computerRoll + '&lt;br&gt;' )\r\n  if ( computerRoll === randNumber ) break\r\n}\r\n\r\nif (randNumber === computerRoll) { \r\n  document.write('You win.') \r\n}\r\nelse {\r\n  document.write('You lose.') \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 21, "user_id": 11644998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c334b8a62ac0aa0eda89a81cac244d9?s=128&d=identicon&r=PG&f=1", "display_name": "Brenda Rushe ", "link": "https://stackoverflow.com/users/11644998/brenda-rushe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570058359, "creation_date": 1570053926, "last_edit_date": 1570055700, "question_id": 58209931, "link": "https://stackoverflow.com/questions/58209931/roll-dice-game-if-else-statement-not-working", "title": "Roll dice game if else statement not working", "body": "<p>Here is the description of the code i need to write:  </p>\n\n<p>Deisgn the logic for a game that simulates rolling two dice by generating two numbers between 1 and 6 inclusive (one number for each die).  </p>\n\n<p>The player will choose a number between 2 and 12 (the lowest and highest totals possible for two dice).  </p>\n\n<p>The program will then roll the dice three times<br>\n -- if the user's guess comes up in one of the rolls the user wins.<br>\n -- If the guess does not come up computer wins.  </p>\n\n<p>We have not started arrays yet but I am to use a for loop and if else.  </p>\n\n<p>It is my if else statement that is not working.\nEvery roll comes up you lose.</p>\n\n<p>Here is the code:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>randNumber = prompt(\"Please enter a number between 2 and 12\");\r\nwhile (randNumber &lt;= 1 || randNumber &gt;= 13) {\r\n  alert(\"Input was incorrect, try again.\");\r\n\r\n  randNumber = prompt(\"Please enter a number between 2 and 12\");\r\n}\r\n\r\nfor (var i = 0; i &lt; 3; i++) {\r\n  computerRoll = 1 + Math.ceil(Math.random() * 11);\r\n  document.write(computerRoll + \"&lt;br&gt;\");\r\n}\r\n\r\nfunction rollDice() {\r\n  var computerRoll = rollDice(2, 12);\r\n}\r\nvar computerRoll = rollDice;\r\n\r\nif (randNumber == computerRoll) {\r\n  document.write(\"You win.\");\r\n} else {\r\n  document.write(\"You lose.\");\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "npm", "expo"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 9279618, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8fVqNv-SI1o/AAAAAAAAAAI/AAAAAAAAN5s/xW75klr_V8A/photo.jpg?sz=128", "display_name": "stackmodern", "link": "https://stackoverflow.com/users/9279618/stackmodern"}, "edited": false, "score": 0, "creation_date": 1570143872, "post_id": 58210382, "comment_id": 102830661, "body": "It still gives me the same error. Is there a problem with my workflow? I use blank (from managed workflows)."}, {"owner": {"reputation": 752, "user_id": 7391342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFD1Z.jpg?s=128&g=1", "display_name": "Abdeen M.", "link": "https://stackoverflow.com/users/7391342/abdeen-m"}, "reply_to_user": {"reputation": 57, "user_id": 9279618, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8fVqNv-SI1o/AAAAAAAAAAI/AAAAAAAAN5s/xW75klr_V8A/photo.jpg?sz=128", "display_name": "stackmodern", "link": "https://stackoverflow.com/users/9279618/stackmodern"}, "edited": false, "score": 1, "creation_date": 1570269352, "post_id": 58210382, "comment_id": 102865478, "body": "please try running <code>npm install --save react-native-svg</code> then start your application again with <code>expo start -c</code>"}, {"owner": {"reputation": 752, "user_id": 7391342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFD1Z.jpg?s=128&g=1", "display_name": "Abdeen M.", "link": "https://stackoverflow.com/users/7391342/abdeen-m"}, "reply_to_user": {"reputation": 57, "user_id": 9279618, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8fVqNv-SI1o/AAAAAAAAAAI/AAAAAAAAN5s/xW75klr_V8A/photo.jpg?sz=128", "display_name": "stackmodern", "link": "https://stackoverflow.com/users/9279618/stackmodern"}, "edited": false, "score": 1, "creation_date": 1570280623, "post_id": 58210382, "comment_id": 102867847, "body": "glad that did the trick, i updated the answer to include it in the solution. cheers!"}], "tags": [], "owner": {"reputation": 752, "user_id": 7391342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFD1Z.jpg?s=128&g=1", "display_name": "Abdeen M.", "link": "https://stackoverflow.com/users/7391342/abdeen-m"}, "is_accepted": true, "score": 2, "last_activity_date": 1570280589, "last_edit_date": 1570280589, "creation_date": 1570057413, "answer_id": 58210382, "question_id": 58209929, "link": "https://stackoverflow.com/questions/58209929/importing-the-graph-kit-in-react-native-results-in-error-500/58210382#58210382", "title": "Importing the graph kit in React Native results in error 500", "body": "<p>Most cases this error is related to your <code>node_modules</code>, try the following:</p>\n\n<ol>\n<li>Stop your Expo application server</li>\n<li>Delete your <code>node_modules</code> directory and <code>package-lock.json</code></li>\n<li>Run <code>npm install</code> or <code>yarn install</code></li>\n<li>Run <code>npm install --save react-native-svg</code></li>\n<li>Start your application by running <code>expo start -c</code></li>\n</ol>\n\n<p>Hope this helps!</p>\n"}, {"tags": [], "owner": {"reputation": 363, "user_id": 10134909, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-MAfyBzKX8Fc/AAAAAAAAAAI/AAAAAAAAEDU/Nl4OT4KVASc/photo.jpg?sz=128", "display_name": "Lintang Wisesa", "link": "https://stackoverflow.com/users/10134909/lintang-wisesa"}, "is_accepted": false, "score": 2, "last_activity_date": 1571040503, "creation_date": 1571040503, "answer_id": 58372522, "question_id": 58209929, "link": "https://stackoverflow.com/questions/58209929/importing-the-graph-kit-in-react-native-results-in-error-500/58372522#58372522", "title": "Importing the graph kit in React Native results in error 500", "body": "<p>To use <code>react-native-chart-kit</code>, you also have to install <code>react-native-svg</code>. So, just install it through <code>npm</code> and hopefully it will work.</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>$ npm i react-native-svg react-native-chart-kit\n</code></pre>\n\n<p>You can try my project on this repo: <a href=\"https://github.com/LintangWisesa/ReactNative_ChartKit\" rel=\"nofollow noreferrer\">click here</a>. \nEnjoy \ud83d\udc4d</p>\n"}], "owner": {"reputation": 57, "user_id": 9279618, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8fVqNv-SI1o/AAAAAAAAAAI/AAAAAAAAN5s/xW75klr_V8A/photo.jpg?sz=128", "display_name": "stackmodern", "link": "https://stackoverflow.com/users/9279618/stackmodern"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 700, "favorite_count": 0, "accepted_answer_id": 58210382, "answer_count": 2, "score": 2, "last_activity_date": 1571040503, "creation_date": 1570053922, "last_edit_date": 1570231544, "question_id": 58209929, "link": "https://stackoverflow.com/questions/58209929/importing-the-graph-kit-in-react-native-results-in-error-500", "title": "Importing the graph kit in React Native results in error 500", "body": "<p>I am using the latest version of Expo. I have created a project by <code>expo init my_project</code> and added the <a href=\"https://github.com/indiespirit/react-native-chart-kit\" rel=\"nofollow noreferrer\">React Native Chart Kit</a>.\nHere is the package.json:</p>\n\n<pre><code>    {\n  \"main\": \"node_modules/expo/AppEntry.js\",\n  \"scripts\": {\n    \"start\": \"expo start\",\n    \"android\": \"expo start --android\",\n    \"ios\": \"expo start --ios\",\n    \"web\": \"expo start --web\",\n    \"eject\": \"expo eject\"\n  },\n  \"dependencies\": {\n    \"expo\": \"^35.0.0\",\n    \"react\": \"16.8.3\",\n    \"react-dom\": \"16.8.3\",\n    \"react-native\": \"https://github.com/expo/react-native/archive/sdk-35.0.0.tar.gz\",\n    \"react-native-chart-kit\": \"^3.6.1\",\n    \"react-native-web\": \"^0.11.7\"\n  },\n  \"devDependencies\": {\n    \"babel-preset-expo\": \"^7.0.0\"\n  },\n  \"private\": true\n}\n</code></pre>\n\n<p>When I import the following it gives me the error: \"The development server returned response error code: 500\":</p>\n\n<pre><code>  import {\n  LineChart,\n  BarChart,\n  PieChart,\n  ProgressChart,\n  ContributionGraph,\n  StackedBarChart\n} from \"react-native-chart-kit\";\n</code></pre>\n\n<p>Why this error happens even though this module is accessible through the Expo as it stated in this [page][2]?</p>\n\n<p>[2]: <a href=\"https://forums.expo.io/t/any-graph-library/1674/7\" rel=\"nofollow noreferrer\">https://forums.expo.io/t/any-graph-library/1674/7</a><img src=\"https://i.stack.imgur.com/CJ1xd.jpg\" alt=\"enter image description here\"></p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1570053988, "post_id": 58209923, "comment_id": 102797457, "body": "Just looking at the behavior, you&#39;re not stopping the click event on the sub sub element from propagating.  So it&#39;s bubbling up to the sub menu element and causing it to toggle closed."}, {"owner": {"reputation": 1559, "user_id": 4520308, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/bAMSa.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/4520308/james"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1570054175, "post_id": 58209923, "comment_id": 102797500, "body": "I did remove e.stopPropagation(); from 3rd one other dasy for testing and forgot to put it back but with that was not working, will update fiddle to make sure now"}, {"owner": {"reputation": 1559, "user_id": 4520308, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/bAMSa.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/4520308/james"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1570054318, "post_id": 58209923, "comment_id": 102797536, "body": "Hmm seems to work as expected in fiddle, swear was not before but just trying on main script / system now... give me a moment lol"}, {"owner": {"reputation": 1559, "user_id": 4520308, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/bAMSa.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/4520308/james"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1570054526, "post_id": 58209923, "comment_id": 102797578, "body": "Ok yea, working now.... hmm weird lol swear only recently removed to test but putting it back seems to be playing ball now. If you want to add the solution happy to give you the vote but the second pair of eyes has helped clearly! Knew would be something stupid! thanks mate"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1570054667, "post_id": 58209923, "comment_id": 102797606, "body": "Since all I did was describe the behavior and the possible solution, I would be more inclined to encourage you to self answer your question in detail of what the issue was and how you fixed it."}, {"owner": {"reputation": 1559, "user_id": 4520308, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/bAMSa.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/4520308/james"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1570061259, "post_id": 58209923, "comment_id": 102798886, "body": "will do, im first doing to deploy to staging so can test on a real mobile native device to make sure working rather than adjusting viewport size in browser to double check so once done that will post the solution.... still confused though as was not working with the stopPropagation but when added back seemed to have worked lol ive prob played with the CSS since maybe or something else and resolved it but did not know hahaha thanks again mate, was brain dead on this for ages... you know how it is, too long on a bug you just gone crazy lol thanks again"}, {"owner": {"reputation": 189597, "user_id": 616443, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/907798bf02efdaf6f9d07d3c0552868f?s=128&d=identicon&r=PG", "display_name": "j08691", "link": "https://stackoverflow.com/users/616443/j08691"}, "edited": false, "score": 0, "creation_date": 1572192960, "post_id": 58209923, "comment_id": 103476715, "body": "Are you using Bootstrap?"}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1572220589, "post_id": 58209923, "comment_id": 103482930, "body": "This can be closed under the official close reason of Typo/Unreproducible: <i>This question was caused by a problem that can no longer be reproduced or a simple typographical error. While similar questions may be on-topic here, this one was resolved in a manner unlikely to help future readers</i>."}], "owner": {"reputation": 1559, "user_id": 4520308, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/bAMSa.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/4520308/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572192765, "creation_date": 1570053856, "last_edit_date": 1572192765, "question_id": 58209923, "link": "https://stackoverflow.com/questions/58209923/css-js-expanding-three-level-dropdown-navigation-third-sub-menu-items-not-click", "title": "CSS/JS expanding three-level dropdown navigation, third sub menu items not clickable and just closing parent LI", "body": "<p>I do recall a while back fixing this but reverted somehow, but from memory and debugging in console I think it is the parent LI that is wrapping making the whole area clickable (setup console.log and returns log for 2nd level so think this is the issue but could be wrong) and css is the issue I think.</p>\n\n<p>To see/replicate in example click on SHOP, then WASH it is the sub-items I'm getting the problem... click one and just closes.</p>\n\n<p>JSFiddle: <a href=\"https://jsfiddle.net/hostandname/bz9cfp8u/26/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/hostandname/bz9cfp8u/26/</a> (stripped down to CSS/JS but can reproduce the problem all the same)</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;body class=\"website-wrapper af-ajax-shop-on template-index af-top-bar-on header-full-width enable-sticky-header sticky-header-real no-sticky-footer wrapper-full-width global-search-full-screen af-ajax-search-on gl-tab-js global-header-split global-cart-design-3 catalog-mode-off sticky-header-prepared document-ready is-mobile af-wrapper-shifted af-mobile-opened\"&gt;\n&lt;header class=\"container-fluid main-header header-split menu-calculated color-scheme-light\"&gt;\n  &lt;div class=\"main-nav site-navigation af-navigation menu-center d-md-none d-lg-block nav-mobile\"&gt;\n\n    &lt;ul class=\"menu parent-1\"&gt;\n      &lt;li class=\"list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-1\"&gt;&lt;a href=\"/en/\" title=\"Home\" data-status=\"1\" data-menu-id=\"10\" data-parent-id=\"0\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n      &lt;li class=\"list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-1 has-sub-menu\"&gt;&lt;a href=\"/en/shop-the-lot\" title=\"Shop\" data-status=\"1\" data-menu-id=\"11\" data-parent-id=\"0\"&gt;Shop&lt;/a&gt;\n        &lt;ul class=\"sub-menu level-11 parent-2\"&gt;\n          &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-2 has-sub-menu\"&gt;&lt;a href=\"DEBUG/en/wash\" title=\"Wash\" data-status=\"0\" data-menu-id=\"2\" data-parent-id=\"11\"&gt;Wash&lt;/a&gt;\n            &lt;ul class=\"sub-menu level-2 parent-3\"&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/wash/pre-wash\" title=\"Pre Wash\" data-status=\"0\" data-menu-id=\"95\" data-parent-id=\"2\"&gt;Pre Wash&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/wash/snow-foams\" title=\"Snow Foam\" data-status=\"0\" data-menu-id=\"94\" data-parent-id=\"2\"&gt;Snow Foam&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/wash/decontamination\" title=\"Decontamination\" data-status=\"0\" data-menu-id=\"98\" data-parent-id=\"2\"&gt;Decontamination&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/wash/cleaners\" title=\"Cleaners\" data-status=\"0\" data-menu-id=\"145\" data-parent-id=\"2\"&gt;Cleaners&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/wash/shampoos\" title=\"Shampoos\" data-status=\"0\" data-menu-id=\"96\" data-parent-id=\"2\"&gt;Shampoos&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/wash/wash-mitts\" title=\"Wash Mitts\" data-status=\"0\" data-menu-id=\"99\" data-parent-id=\"2\"&gt;Wash Mitts&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/wash/wheels\" title=\"Wheels\" data-status=\"0\" data-menu-id=\"103\" data-parent-id=\"2\"&gt;Wheels&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/wash/engine-bay\" title=\"Engine Bay\" data-status=\"0\" data-menu-id=\"144\" data-parent-id=\"2\"&gt;Engine Bay&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/wash/rinse-aids\" title=\"Rinse Aids\" data-status=\"0\" data-menu-id=\"100\" data-parent-id=\"2\"&gt;Rinse Aids&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/wash/drying-towels\" title=\"Drying Towels\" data-status=\"0\" data-menu-id=\"102\" data-parent-id=\"2\"&gt;Drying Towels&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/wash/brushes\" title=\"Brushes\" data-status=\"0\" data-menu-id=\"142\" data-parent-id=\"2\"&gt;Brushes&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/wash/wash-kits\" title=\"Wash Kits\" data-status=\"0\" data-menu-id=\"132\" data-parent-id=\"2\"&gt;Wash Kits&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col view-all-link list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/wash\" title=\"View all Wash\" data-status=\"0\" data-menu-id=\"151\" data-parent-id=\"2\"&gt;View all Wash&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n          &lt;/li&gt;\n          &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-2 has-sub-menu\"&gt;&lt;a href=\"DEBUG/en/polish\" title=\"Polish\" data-status=\"0\" data-menu-id=\"3\" data-parent-id=\"11\"&gt;Polish&lt;/a&gt;\n            &lt;ul class=\"sub-menu level-3 parent-3\"&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/polish/hand-polishes\" title=\"Hand Polishes\" data-status=\"0\" data-menu-id=\"119\" data-parent-id=\"3\"&gt;Hand Polishes&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/polish/glazes\" title=\"Glazes\" data-status=\"0\" data-menu-id=\"106\" data-parent-id=\"3\"&gt;Glazes&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/polish/machine-polishers\" title=\"Machine Polishers\" data-status=\"0\" data-menu-id=\"108\" data-parent-id=\"3\"&gt;Machine Polishers&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/polish/paint-correction\" title=\"Paint Correction\" data-status=\"0\" data-menu-id=\"109\" data-parent-id=\"3\"&gt;Paint Correction&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/polish/metal-polish\" title=\"Metal Polish\" data-status=\"0\" data-menu-id=\"107\" data-parent-id=\"3\"&gt;Metal Polish&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/polish/pads\" title=\"Pads\" data-status=\"0\" data-menu-id=\"110\" data-parent-id=\"3\"&gt;Pads&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/polish/applicators\" title=\"Applicators\" data-status=\"0\" data-menu-id=\"111\" data-parent-id=\"3\"&gt;Applicators&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/polish/polish-kits\" title=\"Polish Kits\" data-status=\"0\" data-menu-id=\"133\" data-parent-id=\"3\"&gt;Polish Kits&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col view-all-link list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/polish\" title=\"View all Polish\" data-status=\"0\" data-menu-id=\"152\" data-parent-id=\"3\"&gt;View all Polish&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n          &lt;/li&gt;\n          &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-2 has-sub-menu\"&gt;&lt;a href=\"DEBUG/en/protect\" title=\"Protect\" data-status=\"0\" data-menu-id=\"147\" data-parent-id=\"11\"&gt;Protect&lt;/a&gt;\n            &lt;ul class=\"sub-menu level-147 parent-3\"&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/protect/ceramic-coatings\" title=\"Ceramic Coatings\" data-status=\"0\" data-menu-id=\"117\" data-parent-id=\"147\"&gt;Ceramic Coatings&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/protect/hand-waxes\" title=\"Hand Waxes\" data-status=\"0\" data-menu-id=\"121\" data-parent-id=\"147\"&gt;Hand Waxes&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/finishing/spray-wax-detailers\" title=\"Spray Waxes\" data-status=\"0\" data-menu-id=\"122\" data-parent-id=\"147\"&gt;Spray Waxes&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/protect/wheel-waxes\" title=\"Wheel Waxes\" data-status=\"0\" data-menu-id=\"124\" data-parent-id=\"147\"&gt;Wheel Waxes&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/protect/cloths-applicators\" title=\"Cloths &amp;amp; Applicators\" data-status=\"0\" data-menu-id=\"125\" data-parent-id=\"147\"&gt;Cloths &amp;amp; Applicators&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/protect/protect-kits\" title=\"Wax Kits\" data-status=\"0\" data-menu-id=\"123\" data-parent-id=\"147\"&gt;Wax Kits&lt;/a&gt;&lt;/li&gt;\n              &lt;li class=\"flex-column col view-all-link list-inline-item block_type_no_children menu-item menu-item-design-default item-event-hover child-3\"&gt;&lt;a href=\"DEBUG/en/protect\" title=\"View all Protect\" data-status=\"0\" data-menu-id=\"156\" data-parent-id=\"147\"&gt;View all Protect&lt;/a&gt;&lt;/li&gt;\n            &lt;/ul&gt;\n          &lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/li&gt;\n\n    &lt;/ul&gt;\n  &lt;/div&gt;\n&lt;/header&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>var JSModule;\nvar isMobile, isTablet, isDesktop;\n\n(function($) {\n  \"use strict\";\n\n  JSModule = (function() {\n\n    return {\n\n      init: function() {\n\n        this.checkDevice();\n        this.menuSetUp();\n\n        $('body').addClass('document-ready');\n\n        var resizeTimer, isMobile, isTablet, isDesktop;\n\n      },\n\n      /***---------------------\n       * Mobile / Viewport Checking\n       *------------------------\n      */\n\n      checkDevice: function() {\n\n        var checkSize = function() {\n          var body = $('body'),\n            viewportWidth = $(window).width(),\n            device,\n            classes = \"is-mobile is-tablet is-desktop\";\n\n          if (viewportWidth &lt; 768) {\n            // mobile\n            body.removeClass(classes).addClass(\"is-mobile\");\n\n            isMobile = true;\n            isTablet = false;\n            isDesktop = false;\n            device = 'mobile';\n          } else if (viewportWidth &gt;= 768 &amp;&amp; viewportWidth &lt; 992) {\n            // tablet\n            body.removeClass(classes).addClass(\"is-tablet\");\n            isMobile = false;\n            isTablet = true;\n            isDesktop = false;\n            device = 'tablet';\n          } else if (viewportWidth &gt;= 992 &amp;&amp; viewportWidth &lt; 1200) {\n            // laptops\n            body.removeClass(classes).addClass(\"is-desktop\");\n            isMobile = false;\n            isTablet = false;\n            isDesktop = true;\n            device = 'desktop';\n          } else {\n            // desktops\n            body.removeClass(classes).addClass(\"is-desktop\");\n            isMobile = false;\n            isTablet = false;\n            isDesktop = true;\n            device = 'desktop';\n          }\n\n        }\n\n        checkSize();\n        $(window).on('resize', checkSize);\n      },\n\n\n      /***----------------------------------\n       * Menu Preparation\n       *------------------------------------\n      */\n\n      menuSetUp: function() {\n\n        var addLevelClass = function($parent, level) {\n          // add a parent class to the ul\n          $parent.addClass('parent-' + level);\n          // fetch all the li's that are direct children of the ul\n          var $children = $parent.children('li');\n          // add a child class to the li\n          $children.addClass('child-' + level);\n          // loop trough each li\n          $children.each(function() {\n            // get the ul that is a direct child of the li\n            var $sublist = $(this).children('ul');\n            // if an ul was found\n            if ($sublist.length &gt; 0) {\n              // add a class to the current li indicating there is a sub list\n              if (!$(this).hasClass('is-section')) {\n                $(this).addClass('has-sub-menu');\n              }\n              addLevelClass($sublist, level + 1);\n            }\n          });\n        }\n\n        addLevelClass($('.af-navigation .menu'), 1);\n\n        var mainMenu = $('.af-navigation .menu');\n\n        if (isMobile || isTablet) {\n\n          mainMenu.on('click touchstart', 'li.has-sub-menu.child-1', function(e) {\n            console.log(\"1st clicked\");\n            e.preventDefault();\n            $(this).toggleClass('show');\n          });\n\n          mainMenu.on('click touchstart', 'li.has-sub-menu.child-2', function(e) {\n            console.log(\"2nd clicked\");\n            e.stopPropagation();\n\n            $(this).toggleClass('show');\n\n            if (isMobile || isTablet) {\n              return false;\n            } else {\n              return true;\n            }\n          });\n\n          mainMenu.on('click touchstart', 'li.has-sub-menu.child-2 .child-3, li.is-section.child-2 .child-3', function(e) {\n            console.log(\"3rd clicked\");\n\n            return true;\n          });\n        }\n\n      }\n    }\n\n  }());\n\n})(jQuery);\n\njQuery(document).ready(function() {\n\n  JSModule.init();\n\n  var resizeTimer, isMobile, isTablet, isDesktop;\n\n  $(window).on('resize', function(e) {\n    clearTimeout(resizeTimer);\n    resizeTimer = setTimeout(function() {\n      JSModule.init();\n    }, 250);\n  });\n\n});\n</code></pre>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>header.header-split .main-nav .menu {\n  margin: 0;\n  padding: 0;\n  position: relative\n}\n\nheader.header-split .main-nav .menu&gt;li {\n  display: inline-block;\n  margin-left: 0 !important\n}\n\nheader.header-split .main-nav .menu&gt;li.list-inline-item:not(:last-child) {\n  margin-right: 0\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;a {\n  color: #fff;\n  text-transform: uppercase;\n  padding: .8em 2em;\n  font-size: 1em;\n  display: inline-table\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;a:hover {\n  color: #00888b\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;a:hover&gt;ul {\n  display: flex;\n  display: -ms-flexbox;\n  -webkit-transform: translateY(0);\n  transform: translateY(0)\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul {\n  position: fixed;\n  width: 100%;\n  left: 0;\n  background: #ebebeb;\n  padding: 3em 2em;\n  z-index: -1;\n  display: flex;\n  display: -ms-flexbox;\n  -webkit-transform: translateY(-135%);\n  transform: translateY(-135%);\n  height: 100vh;\n  transition: -webkit-transform .3s ease-out;\n  transition: transform .3s ease-out;\n  transition: transform .3s ease-out, -webkit-transform .3s ease-out\n}\n\n@media (max-width:767.98px) {\n  header.header-split .main-nav .menu&gt;li&gt;ul {\n    padding: 0;\n    z-index: 1\n  }\n}\n\n@media screen and (prefers-reduced-motion:reduce) {\n  header.header-split .main-nav .menu&gt;li&gt;ul {\n    transition: none\n  }\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul.sub-menu li {\n  display: -ms-inline-flexbox;\n  display: inline-flex\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul.sub-menu li a {\n  text-transform: uppercase;\n  font-size: 1.1em;\n  color: #222;\n  letter-spacing: .08em\n}\n\n@media (max-width:767.98px) {\n  header.header-split .main-nav .menu&gt;li&gt;ul.sub-menu li a {\n    padding: .5em 0 !important\n  }\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul.sub-menu li a.menu-image-block {\n  display: block;\n  background: #333;\n  border: 0;\n  border-radius: 0;\n  background-clip: padding-box;\n  display: flex;\n  display: -ms-flexbox;\n  -ms-flex-align: center;\n  align-items: center;\n  -webkit-align-items: center;\n  -ms-align-items: center;\n  text-transform: uppercase !important;\n  font-family: Brandon-bold, 'MS Sans Serif', Geneva, sans-serif;\n  letter-spacing: .15em;\n  margin-bottom: 2em;\n  position: relative;\n  padding: 0 !important\n}\n\n@media (max-width:767.98px) {\n  header.header-split .main-nav .menu&gt;li&gt;ul.sub-menu li a.menu-image-block {\n    margin-bottom: 1em\n  }\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul.sub-menu li a.menu-image-block img {\n  -webkit-opacity: .6;\n  -moz-opacity: .6;\n  opacity: .6\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul.sub-menu li a.menu-image-block span {\n  position: absolute;\n  top: 50%;\n  -webkit-transform: translateY(-50%);\n  transform: translateY(-50%);\n  font-size: 1.1em\n}\n\n@media (min-width:1800px) {\n  header.header-split .main-nav .menu&gt;li&gt;ul.sub-menu li a.menu-image-block span {\n    font-size: 1.25em\n  }\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul.sub-menu li a.menu-image-block:hover img {\n  -webkit-opacity: .8;\n  -moz-opacity: .8;\n  opacity: .8;\n  transition: opacity .5s ease 50ms\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul.sub-menu li .sub-menu li {\n  display: contents\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul.sub-menu li .sub-menu li a {\n  color: #555;\n  text-transform: capitalize;\n  font-size: .9em;\n  padding: .75em 0 0 0\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul.sub-menu li .sub-menu li a:hover {\n  color: #00888b\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul.sub-menu li .sub-menu li.view-all-link a {\n  color: #00888b\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul li a {\n  position: relative;\n  display: block;\n  text-align: left;\n  padding: .5em 0;\n  font-family: Brandon-bold, 'MS Sans Serif', Geneva, sans-serif\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul li a:before {\n  content: \"\";\n  position: absolute;\n  bottom: 0;\n  display: inline-block;\n  width: 100%;\n  height: .08em;\n  background-color: #ebebeb\n}\n\n@media (max-width:767.98px) {\n  header.header-split .main-nav .menu&gt;li&gt;ul li a:before {\n    display: none\n  }\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul li ul {\n  padding: 0;\n  text-align: left\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul li ul li {\n  display: block\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul li ul li a {\n  padding: 1em 0;\n  font-family: MuseoSans-300, 'MS Sans Serif', Geneva, sans-serif\n}\n\nheader.header-split .main-nav .menu&gt;li&gt;ul li ul li a:before {\n  display: none\n}\n\nheader.header-split .main-nav .menu&gt;li:hover {\n  color: #00888b\n}\n\nheader.header-split .main-nav .menu&gt;li:hover&gt;ul {\n  display: flex;\n  display: -ms-flexbox;\n  -webkit-transform: translateY(0);\n  transform: translateY(0)\n}\n\n@media (max-width:767.98px) {\n  header.header-split .main-nav .menu&gt;li:hover&gt;ul {\n    display: block\n  }\n}\n\nheader.header-split .main-nav .menu&gt;li:hover a {\n  color: #00888b\n}\n\nheader.header-split .main-nav .menu&gt;li.item-event-hover:hover&gt;.sub-menu-dropdown {\n  top: 100%\n}\n\nheader.header-split .main-nav .menu&gt;li.item-event-click.item-menu-opened&gt;.sub-menu-dropdown {\n  top: 100%\n}\n\nheader.header-split .main-nav .menu .menu-item .sub-menu-dropdown:after {\n  height: 25px\n}\n\nheader.header-split .main-nav .menu .callto-btn.menu-item-design-sized .sub-menu-dropdown {\n  margin-top: 0\n}\n\nheader.header-split .main-nav .menu .callto-btn.menu-item-design-default .sub-menu-dropdown {\n  margin-top: 0\n}\n\nheader.header-split .main-nav .menu .menu-item-design-sized .sub-menu-dropdown {\n  margin-top: 25px\n}\n\nheader.header-split .main-nav .menu .menu-item-design-default .sub-menu-dropdown {\n  margin-top: 25px\n}\n\nheader.header-split .main-nav .sub-menu-dropdown:after {\n  content: \"\";\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 100%\n}\n\nheader.header-split.menu-calculated .main-nav {\n  -webkit-opacity: 1;\n  -moz-opacity: 1;\n  opacity: 1;\n  visibility: visible\n}\n\nheader.header-split.act-scroll .main-nav .menu&gt;li:hover&gt;ul {\n  -webkit-transform: translateY(0);\n  transform: translateY(0)\n}\n\nheader.header-split.act-scroll .main-nav .menu .menu-item .sub-menu-dropdown:after {\n  height: 15px\n}\n\nheader.header-split.act-scroll .main-nav .menu .menu-item-design-sized .sub-menu-dropdown {\n  margin-top: 15px\n}\n\nheader.header-split.act-scroll .main-nav .menu .menu-item-design-default .sub-menu-dropdown {\n  margin-top: 15px\n}\n\nheader.header-split.act-scroll .main-nav .menu .callto-btn.menu-item-design-sized .sub-menu-dropdown {\n  margin-top: 0\n}\n\nheader.header-split.act-scroll .main-nav .menu .callto-btn.menu-item-design-default .sub-menu-dropdown {\n  margin-top: 0\n}\n\naf-mobile-opened .main-nav .menu {\n  padding: 0\n}\n\n.af-mobile-opened .main-nav .menu li {\n  display: block !important;\n  text-align: left\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu:before {\n  color: #282828;\n  display: inline-block;\n  font: normal normal normal 14px/1 Autofinesse;\n  font-size: inherit;\n  text-rendering: auto;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  content: \"\\f05d\";\n  float: right;\n  -webkit-transform: rotate(-90deg) translateY(-20%);\n  transform: rotate(-90deg) translateY(-20%);\n  transition: -webkit-transform .25s ease-in-out;\n  transition: transform .25s ease-in-out;\n  transition: transform .25s ease-in-out, -webkit-transform .25s ease-in-out;\n  right: 1.2em;\n  position: relative;\n  top: 1.1em;\n  font-weight: 400\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu.show:before {\n  -webkit-transform: rotate(0) translateY(0);\n  transform: rotate(0) translateY(0);\n  transition: -webkit-transform .25s ease-in-out;\n  transition: transform .25s ease-in-out;\n  transition: transform .25s ease-in-out, -webkit-transform .25s ease-in-out\n}\n\n.af-mobile-opened .main-nav .menu li&gt;ul {\n  -webkit-transform: none !important;\n  transform: none !important;\n  position: relative !important;\n  height: auto !important\n}\n\n.af-mobile-opened .main-nav .menu li a {\n  padding: 1em 2em !important;\n  display: block !important;\n  height: auto !important;\n  line-height: initial !important;\n  color: #222 !important\n}\n\n.af-mobile-opened .main-nav .menu li a:hover {\n  color: #00888b\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu .sub-menu.parent-2 {\n  display: none;\n  z-index: auto\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu .sub-menu.parent-2 li {\n  display: block !important\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu .sub-menu.parent-2 li a {\n  padding: 1em 1em 1em 1.5em !important;\n  font-size: 1em;\n  border-bottom: 1px solid #ebebeb\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu .sub-menu.parent-2 li.has-sub-menu:last-child a {\n  border-bottom: 0\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu .sub-menu.parent-2 li .sub-menu.parent-3 {\n  display: none;\n  margin: 1em 0;\n  z-index: auto\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu .sub-menu.parent-2 li .sub-menu.parent-3 li {\n  display: block\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu .sub-menu.parent-2 li .sub-menu.parent-3 li a {\n  border: 0;\n  padding: .6em 1em .6em 1em !important\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu .sub-menu.parent-2 li.is-section {\n  padding-top: .5em\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu .sub-menu.parent-2 li.is-section .sub-menu.parent-3 {\n  z-index: auto\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu .sub-menu.parent-2 li.is-section .sub-menu.parent-3 li a {\n  padding: 0 !important;\n  margin: 0;\n  width: 100%\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu .sub-menu.parent-2 li.is-section:last-child {\n  padding-bottom: .5em;\n  padding-top: 0\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu .sub-menu.parent-2 li:last-child a {\n  border-bottom: 0\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu.show .sub-menu.parent-2 {\n  display: block\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu.show .sub-menu.parent-2 li .sub-menu.parent-3 {\n  display: none\n}\n\n.af-mobile-opened .main-nav .menu li.has-sub-menu.show .sub-menu.parent-2 li.show .sub-menu.parent-3 {\n  display: block\n}\n\n.af-mobile-opened .main-nav .menu li.is-section ul {\n  display: -ms-inline-flexbox !important;\n  display: inline-flex !important;\n  margin: 0 !important\n}\n\n.af-mobile-opened .main-nav .menu li.is-section ul li {\n  padding: 0\n}\n\n.af-mobile-opened .main-nav .menu li.is-section ul li a.menu-image-block {\n  padding: 0 !important;\n  width: 100%;\n  display: -ms-inline-flexbox !important;\n  display: inline-flex !important;\n  color: #fff !important\n}\n\n.main-nav .menu&gt;li&gt;a {\n  height: 110px;\n  line-height: 110px\n}\n\n.act-scroll .main-nav .menu&gt;li&gt;a {\n  height: 75px;\n  line-height: 75px\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "object", "state"], "answers": [{"comments": [{"owner": {"reputation": 151, "user_id": 10905757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e009d6e3a59ad04d06fbe30485cca91?s=128&d=identicon&r=PG&f=1", "display_name": "kingloui", "link": "https://stackoverflow.com/users/10905757/kingloui"}, "edited": false, "score": 0, "creation_date": 1570054275, "post_id": 58209914, "comment_id": 102797525, "body": "Currently current is resulting in: { current: [ { id:1, name: &#39;peter&#39; }, { 0: { id:2, name: &#39;parker&#39; } } ] } - i somehow need that 0 to disappear.  1) The reason I am returning new state is because I am using redux, and a don&#39;t want to duplicate state. 2) I&#39;m using Object.assign() to try an combat the problem above..."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 151, "user_id": 10905757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e009d6e3a59ad04d06fbe30485cca91?s=128&d=identicon&r=PG&f=1", "display_name": "kingloui", "link": "https://stackoverflow.com/users/10905757/kingloui"}, "edited": false, "score": 0, "creation_date": 1570054584, "post_id": 58209914, "comment_id": 102797586, "body": "I&#39;ve updated the answer to show how to do it without <code>Object.assign</code>."}, {"owner": {"reputation": 2977, "user_id": 4272651, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000901707272/picture?type=large", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/4272651/prasanna"}, "edited": false, "score": 0, "creation_date": 1570056115, "post_id": 58209914, "comment_id": 102797916, "body": "@Barmar This works but I think you are mutating the state when you are creating <code>addedFriend</code> variable."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570059777, "post_id": 58209914, "comment_id": 102798621, "body": "<code>current.push()</code> mutates the state, I took that from your original code."}, {"owner": {"reputation": 151, "user_id": 10905757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e009d6e3a59ad04d06fbe30485cca91?s=128&d=identicon&r=PG&f=1", "display_name": "kingloui", "link": "https://stackoverflow.com/users/10905757/kingloui"}, "edited": false, "score": 0, "creation_date": 1576267003, "post_id": 58209914, "comment_id": 104857414, "body": "how would you do it via id (not via index?)"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1576268546, "post_id": 58209914, "comment_id": 104858006, "body": "<code>index = state.possible.find(el =&gt; el.id == id)</code>"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1570054450, "last_edit_date": 1570054450, "creation_date": 1570053765, "answer_id": 58209914, "question_id": 58209877, "link": "https://stackoverflow.com/questions/58209877/how-do-you-move-an-object-from-one-array-to-another-array-by-feature/58209914#58209914", "title": "How do you move an object from one array to another array by feature?", "body": "<p>Since you can remove multiple elements with <code>splice()</code>, it returns an array. Index the result to get the specific object. You don't need to use <code>Object.assign()</code>, that just copies the value (which just converts the array into an object whose properties are the array indexes).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var state = {\r\n    current: [\r\n        {\r\n            id: 1,\r\n            name: 'peter'\r\n        }\r\n    ],\r\n    possible: [\r\n        {\r\n            id: 2,\r\n            name: 'parker'\r\n        }\r\n    ]\r\n};\r\n\r\nfunction addFriend(state, action) {\r\n  const { current, possible } = state;\r\n  const addedFriend = state.possible.splice(action.payload.index, 1)[0];\r\n\r\n  current.push(addedFriend);\r\n\r\n  const newState = { current, possible };\r\n  return newState;\r\n}\r\n\r\nstate = addFriend(state, {payload: { index: 0 }});\r\nconsole.log(state);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I'm not sure why you're returning a new <code>state</code> object, since you're modifying the old state in place.</p>\n"}, {"tags": [], "owner": {"reputation": 2977, "user_id": 4272651, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000901707272/picture?type=large", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/4272651/prasanna"}, "is_accepted": false, "score": 0, "last_activity_date": 1570056450, "last_edit_date": 1570056450, "creation_date": 1570055912, "answer_id": 58210207, "question_id": 58209877, "link": "https://stackoverflow.com/questions/58209877/how-do-you-move-an-object-from-one-array-to-another-array-by-feature/58210207#58210207", "title": "How do you move an object from one array to another array by feature?", "body": "<p>It is not that time-efficient if you want a fast running code. But it follows immutability. </p>\n\n<p>We just ignore the item from <code>possible</code>, and add it to <code>current</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>state = {\r\n    current: [\r\n        {\r\n            id: 1,\r\n            name: 'peter'\r\n        }\r\n    ],\r\n    possible: [\r\n        {\r\n            id: 2,\r\n            name: 'parker'\r\n        }\r\n    ]\r\n}\r\n\r\n\r\nfunction addFriend(state, action) {\r\n  const { current, possible } = state;\r\n  return {\r\n    ...state,\r\n    current: current.concat(possible[action.payload.index]),\r\n    possible: possible.filter((_, index) =&gt; index !== action.payload.index)\r\n  }\r\n}\r\n\r\nstate = addFriend(state, {payload: {index: 0}})\r\nconsole.log(state)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 151, "user_id": 10905757, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9e009d6e3a59ad04d06fbe30485cca91?s=128&d=identicon&r=PG&f=1", "display_name": "kingloui", "link": "https://stackoverflow.com/users/10905757/kingloui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 58209914, "answer_count": 2, "score": 0, "last_activity_date": 1576266961, "creation_date": 1570053499, "last_edit_date": 1576266961, "question_id": 58209877, "link": "https://stackoverflow.com/questions/58209877/how-do-you-move-an-object-from-one-array-to-another-array-by-feature", "title": "How do you move an object from one array to another array by feature?", "body": "<p>I am trying to move an object from one array to another. Think of it like adding / moving a friend from non-friend to friend. I have two arrays, which can be seen below, and I am trying to move an object (i.e. a friend) from possible to current via it's 'id'. In the below example, I am trying to move Parker from possible to current with id = 2.</p>\n\n<pre><code>state = {\n    current: [\n        {\n            id: 1,\n            name: 'peter'\n        }\n    ],\n    possible: [\n        {\n            id: 2,\n            name: 'parker'\n        }\n    ]\n}\n\n\nfunction addFriend(state, action) {\n  const { current, possible } = state;\n  const addedFriend = Object.assign(\n    {},\n    state.possible.splice(action.payload.index, 1)\n  );\n\n  current.push(addedFriend);\n\n  const newState = { current, possible };\n  return newState;\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "material-ui"], "answers": [{"tags": [], "owner": {"reputation": 1476, "user_id": 1372883, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/127986174d1281a23820584baecc0ea8?s=128&d=identicon&r=PG", "display_name": "ed&#39;", "link": "https://stackoverflow.com/users/1372883/ed"}, "is_accepted": false, "score": 3, "last_activity_date": 1570053874, "last_edit_date": 1570053874, "creation_date": 1570053565, "answer_id": 58209887, "question_id": 58209791, "link": "https://stackoverflow.com/questions/58209791/set-initial-state-for-material-ui-dialog/58209887#58209887", "title": "Set initial state for material ui dialog", "body": "<p>What you need conceptually is that when you are freshly opening the dialog, you want to reset some items. So you want to be able to listen for when the value of <code>open</code> changes from <code>false</code> to <code>true</code>.</p>\n\n<p>For hooks, the <a href=\"https://reactjs.org/docs/hooks-faq.html#how-to-get-the-previous-props-or-state\" rel=\"nofollow noreferrer\">react guide</a> provides an example for keeping the \"old\" value of a given item with a <code>usePrevious</code> hook. It is then simply a matter of using <code>useEffect</code>.</p>\n\n<pre><code>function usePrevious(value) {\n  const ref = useRef();\n  useEffect(() =&gt; {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nfunction MyDialog({ dialogVisibility }) {\n  const prevVisibility = usePrevious(dialogVisibility);\n\n  useEffect(() =&gt; {\n    // If it is now open, but was previously not open\n    if (dialogVisibility &amp;&amp; !prevVisibility) {\n      // Reset items here\n    }\n  }, [dialogVisibility, prevVisibility]);\n\n  return &lt;Dialog open={dialogVisibility}&gt;&lt;/Dialog&gt;;\n}\n</code></pre>\n\n<p>The same thing can be achieved with classes if you use <code>componentDidUpdate</code> and the <code>previousProps</code> parameter it receives.</p>\n\n<pre><code>export class MyDialog extends Component {\n  public componentDidUpdate({ dialogVisibility : prevVisibility }) {\n    const { dialogVisibility } = this.props;\n\n    if (dialogVisibility &amp;&amp; !prevVisibility) {\n      // Reset state here\n    }\n  }\n\n  public render() {\n    const { dialogVisibility } = this.props;\n\n    return &lt;Dialog open={dialogVisibility}&gt;&lt;/Dialog&gt;;\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 467, "user_id": 5302905, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ru5n.jpg?s=128&g=1", "display_name": "Santi Magari&#241;os", "link": "https://stackoverflow.com/users/5302905/santi-magari%c3%b1os"}, "is_accepted": false, "score": 1, "last_activity_date": 1570055302, "creation_date": 1570055302, "answer_id": 58210114, "question_id": 58209791, "link": "https://stackoverflow.com/questions/58209791/set-initial-state-for-material-ui-dialog/58210114#58210114", "title": "Set initial state for material ui dialog", "body": "<p>You should use <strong>componentDidUpdate()</strong></p>\n\n<ul>\n<li>This method is not called for the initial render</li>\n<li>Use this as an opportunity to operate on the DOM when the component has been updated</li>\n</ul>\n\n<p>If you need data preloaded before the dialog is opened, you can use <strong>componentDidMount()</strong>:</p>\n\n<ul>\n<li>is invoked immediately after a component is mounted (inserted into the tree)</li>\n<li>if you need to load data from a remote endpoint, this is a good place to instantiate the network request</li>\n</ul>\n\n<p>React guys added the useEffect hook exactly for cases like the one you are describing, but you would need to refactor to a functional component.\nSource: <a href=\"https://reactjs.org/docs/hooks-effect.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/hooks-effect.html</a></p>\n"}, {"tags": [], "owner": {"reputation": 4604, "user_id": 3654605, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/462b919e2467bdfcacf6ba9d6097efdf?s=128&d=identicon&r=PG&f=1", "display_name": "lowcrawler", "link": "https://stackoverflow.com/users/3654605/lowcrawler"}, "is_accepted": false, "score": 0, "last_activity_date": 1570056603, "last_edit_date": 1570056603, "creation_date": 1570055864, "answer_id": 58210202, "question_id": 58209791, "link": "https://stackoverflow.com/questions/58209791/set-initial-state-for-material-ui-dialog/58210202#58210202", "title": "Set initial state for material ui dialog", "body": "<p>This can be solved by doing leaving the constructor, getInitialState, and onEnter functions as written and making the following addition of a ternary conditional in the render function :</p>\n\n<pre><code>render() {\n    const { dialogVisibility } = this.props;\n\nreturn (\n    &lt;Dialog  open={dialogVisibility}  onEnter={this.onEnter}&gt;\n        {this.state.isInitialized &amp;&amp; dialogVisibility ? \n        &lt;DialogTitle&gt;\n            Hi, {this.state.user.username}\n        &lt;/DialogTitle&gt; : 'Dialog Not Initialized'}\n    &lt;/Dialog&gt; );\n)}\n</code></pre>\n\n<p>It actually allows the dialog to use it's \"onEnter\" appropriately, get the right transitions, and avoid running any extended complex logic in the JSX when rendering while not visible.  It also doesn't require a refactor or added programming complexity.</p>\n\n<p>...But, I admit, it feels super 'wrong'. </p>\n"}], "owner": {"reputation": 4604, "user_id": 3654605, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/462b919e2467bdfcacf6ba9d6097efdf?s=128&d=identicon&r=PG&f=1", "display_name": "lowcrawler", "link": "https://stackoverflow.com/users/3654605/lowcrawler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2459, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1570059631, "creation_date": 1570052929, "last_edit_date": 1570059631, "question_id": 58209791, "link": "https://stackoverflow.com/questions/58209791/set-initial-state-for-material-ui-dialog", "title": "Set initial state for material ui dialog", "body": "<p>I have a <a href=\"https://material-ui.com/api/dialog/\" rel=\"nofollow noreferrer\">MaterialUI dialog</a> that has a few text fields, drop downs, and other things on it.  Some of these elements need to be set to some value every time the dialog opens or re-opens. Others elements cannot be loaded until certain conditions exist (for example, user data is loaded).</p>\n\n<p>For the 'resetting', I'm using the onEnter function.  But the onEnter function doesn't run until entering (duh!)... but the render function, itself, still does - meaning any logic or accessing javascript variables in the JSX will still occur.  This leaves the 'onEnter' function ill-equipped to be the place I set up and initialize my dialog.</p>\n\n<p>I also can't use the constructor for setting/resetting this initial state, as the data I need to construct the state might not be available at the time the constructor loads (upon app starting up).  Now, I could super-complicate my JSX in my render function and make conditionals for every data point... but that's a lot of overhead for something that gets re-rendered every time the app changes anything. (the material UI dialogs appear run the entire render function even when the 'open' parameter is set to false).</p>\n\n<p>What is the best way to deal with initializing values for a material ui dialog?  </p>\n\n<p>Here is a super-dumbed-down example (in real life, imagine getInitialState is a much more complex, slow, and potentially async/network, function) - let's pretend that the user object is not available at app inception and is actually some data pulled or entered long after the app has started.  This code fails because \"user\" is undefined on the first render (which occurs BEFORE the onEnter runs).</p>\n\n<pre><code>constructor(props) {\n    super(props);\n}\n\ngetInitialState = () =&gt; {\n    return {\n        user: {username: \"John Doe\"}\n    }\n}\n\nonEnter = () =&gt; {\n    this.setState(this.getInitialState())\n}\n\n\nrender() {\n    const { dialogVisibility } = this.props;\n\n    return (\n        &lt;Dialog  open={dialogVisibility}  onEnter={this.onEnter}&gt;\n            &lt;DialogTitle&gt;\n                Hi, {this.state.user.username}\n            &lt;/DialogTitle&gt;\n        &lt;/Dialog&gt; );\n}\n</code></pre>\n\n<p>My first instinct was to put in an \"isInitialized\" variable in state and only let the render return the Dialog if \"isInitialized\" is true, like so:</p>\n\n<pre><code>constructor(props) {\n    super(props);\n    this.state = {\n        isInitialized: false\n    };\n}\n\ngetInitialState = () =&gt; {\n    return {\n        user: {username: \"John Doe\"}\n    }\n}\n\nonEnter = () =&gt; {\n    this.setState(this.getInitialState(), \n        () =&gt; this.setState({isInitialized:true})\n    );\n}\n\n\nrender() {\n    const { dialogVisibility } = this.props;\n\n    if(!this.state.isInitialized) {\n        return null;\n    }\n\n    return (\n        &lt;Dialog  open={dialogVisibility}  onEnter={this.onEnter}&gt;\n            &lt;DialogTitle&gt;\n                Hi, {this.state.user.username}\n            &lt;/DialogTitle&gt;\n        &lt;/Dialog&gt; );\n}\n</code></pre>\n\n<p>As I'm sure you are aware... this didn't work, as we never return the Dialog in order to fire the <code>onEnter</code> event that, in turn, fires the <code>onEnter</code> function and actually initializes the data.   I tried changing the <code>!this.state.inInitialized</code> conditional to this:</p>\n\n<pre><code>    if(!this.state.isInitialized) {\n        this.onEnter();\n        return null;\n    }\n</code></pre>\n\n<p>and that works... but it's gives me a run-time warning: <code>Warning: Cannot update during an existing state transition (such as within</code>render<code>). Render methods should be a pure function of props and state.</code></p>\n\n<p>That brought me to a lot of reading, specifically, this question: <a href=\"https://stackoverflow.com/questions/35290245/calling-setstate-in-render-is-not-avoidable\">Calling setState in render is not avoidable</a>  which has really driven home that I shouldn't be just ignoring this warning.  Further, this method results in all the logic contained in the return JSX to still occur... even when the dialog isn't \"open\".  Add a bunch of complex dialogs and it kills performance.</p>\n\n<p>Surely there is a 'correct' way to do this.  Help? Thoughts?</p>\n"}, {"tags": ["javascript", "json"], "comments": [{"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 2, "creation_date": 1570052772, "post_id": 58209747, "comment_id": 102797159, "body": "It should return <code>null</code>, not <code>0</code>. Please see <a href=\"https://stackoverflow.com/q/14220321/4642212\">How do I return the response from an asynchronous call?</a>. Next, if <code>items</code> is the object you\u2019ve shown us, then <code>id</code> is at <code>items.data[0].id</code>. See <a href=\"https://stackoverflow.com/q/11922383/4642212\">How can I access and process nested objects, arrays or JSON?</a>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570053200, "post_id": 58209747, "comment_id": 102797273, "body": "You can use destructuring: <code>.then({data: items} =&gt; { ... })</code>. You can also break out of the loop once you&#39;ve found the value."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1570053265, "post_id": 58209747, "comment_id": 102797289, "body": "<code>fetch()</code> is asynchronous. You&#39;re returning <code>output</code> before it completes."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570053278, "post_id": 58209747, "comment_id": 102797291, "body": "See <a href=\"https://stackoverflow.com/questions/14220321/how-to-return-the-response-from-an-asynchronous-call\" title=\"how to return the response from an asynchronous call\">stackoverflow.com/questions/14220321/&hellip;</a>"}, {"owner": {"reputation": 63, "user_id": 10467185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f75c0877d4772cd05eb8076917b27d6?s=128&d=identicon&r=PG&f=1", "display_name": "S. Ferrell", "link": "https://stackoverflow.com/users/10467185/s-ferrell"}, "edited": false, "score": 0, "creation_date": 1570053459, "post_id": 58209747, "comment_id": 102797332, "body": "Sorry, I had gotten mixed up (I am not very good at javascript)"}, {"owner": {"reputation": 1494, "user_id": 1771700, "user_type": "registered", "accept_rate": 23, "profile_image": "https://www.gravatar.com/avatar/8d0a590a1567337e7c1b270013e4817b?s=128&d=identicon&r=PG", "display_name": "jas7457", "link": "https://stackoverflow.com/users/1771700/jas7457"}, "edited": false, "score": 0, "creation_date": 1570056503, "post_id": 58209747, "comment_id": 102797995, "body": "Regardless of the asynch problems others pointed out, you&#39;re returning the index of the item, not the item id itself."}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 10467185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f75c0877d4772cd05eb8076917b27d6?s=128&d=identicon&r=PG&f=1", "display_name": "S. Ferrell", "link": "https://stackoverflow.com/users/10467185/s-ferrell"}, "edited": false, "score": 0, "creation_date": 1570114245, "post_id": 58210225, "comment_id": 102819040, "body": "can&#39;t specify a .json file in the &quot;fetch&quot; function; it only works with &quot;http&quot; or &quot;https&quot;"}, {"owner": {"reputation": 69, "user_id": 5376855, "user_type": "registered", "profile_image": "https://graph.facebook.com/1699842936914516/picture?type=large", "display_name": "James Dullat", "link": "https://stackoverflow.com/users/5376855/james-dullat"}, "reply_to_user": {"reputation": 63, "user_id": 10467185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f75c0877d4772cd05eb8076917b27d6?s=128&d=identicon&r=PG&f=1", "display_name": "S. Ferrell", "link": "https://stackoverflow.com/users/10467185/s-ferrell"}, "edited": false, "score": 1, "creation_date": 1570123119, "post_id": 58210225, "comment_id": 102823195, "body": "@S.Ferrell, I was testing the code on my local machine so that&#39;s why I put local path. You can specify the http or https path whatever you want"}], "tags": [], "owner": {"reputation": 69, "user_id": 5376855, "user_type": "registered", "profile_image": "https://graph.facebook.com/1699842936914516/picture?type=large", "display_name": "James Dullat", "link": "https://stackoverflow.com/users/5376855/james-dullat"}, "is_accepted": false, "score": 0, "last_activity_date": 1570056102, "creation_date": 1570056102, "answer_id": 58210225, "question_id": 58209747, "link": "https://stackoverflow.com/questions/58209747/javascript-json-get-id-from-value/58210225#58210225", "title": "Javascript JSON get id from value", "body": "<p>Fetch is an Asynchronous function so you need to make GetID function async,\nBasically we can't return from async function and assign it into a variable.\nYou can do following way: </p>\n\n<pre><code>async function GetID(value) {\n  var output = null;\n  let response = await fetch(\"../myjson.json\");\n  let result = await response.json();\n  let data = result[\"data\"];\n\n  for (let i = 0; i &lt; data.length; i++) {\n    if (data[i][\"value\"] === value) {\n      output = data[i][\"id\"];\n    }\n  }\n  return output;\n};\nGetID(\"Hermitage Park\").then( value =&gt; console.log(value));\n\n</code></pre>\n\n<p>From this function we will get back a Promise and then we can get that value from that Promise. As you can see the last line of the code\n<a href=\"https://dev.to/johnpaulada/synchronous-fetch-with-asyncawait\" rel=\"nofollow noreferrer\">https://dev.to/johnpaulada/synchronous-fetch-with-asyncawait</a></p>\n"}, {"tags": [], "owner": {"reputation": 1685, "user_id": 3818625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/631f39e494f2237eecf1de03c33b5fc5?s=128&d=identicon&r=PG&f=1", "display_name": "Kai", "link": "https://stackoverflow.com/users/3818625/kai"}, "is_accepted": true, "score": 0, "last_activity_date": 1570085029, "creation_date": 1570085029, "answer_id": 58213617, "question_id": 58209747, "link": "https://stackoverflow.com/questions/58209747/javascript-json-get-id-from-value/58213617#58213617", "title": "Javascript JSON get id from value", "body": "<p><code>fetch</code> is an asynchronous method that returns a <code>Promise</code>. You're really close! What's missing is that <code>GetID()</code> is not returning the promise returned by <code>fetch</code>. Since it's not returning the promise there's no way for the caller of the function to wait for the value. The request eventually resolves, but the function has already returned <code>0</code> and your code has continued executing.</p>\n\n<p>This can be rewritten as:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function GetID(value) {\n    return fetch(\"http://localhost:8088/data\")\n        .then(resp =&gt; resp.json())\n        .then(({ data }) =&gt; {\n            const item = data.find(item =&gt; item.value === value);\n            return item.id;\n    });\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 10467185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f75c0877d4772cd05eb8076917b27d6?s=128&d=identicon&r=PG&f=1", "display_name": "S. Ferrell", "link": "https://stackoverflow.com/users/10467185/s-ferrell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "accepted_answer_id": 58213617, "answer_count": 2, "score": 1, "last_activity_date": 1570085029, "creation_date": 1570052653, "last_edit_date": 1570053270, "question_id": 58209747, "link": "https://stackoverflow.com/questions/58209747/javascript-json-get-id-from-value", "title": "Javascript JSON get id from value", "body": "<p>I have been working on a javascript application and I am attempting to get the value of \"id\" using a different key/value pair. My JSON:</p>\n\n<pre><code>{\n  \"data\": [\n    {\n      \"value\": \"Hermitage Park\",\n      \"type\": \"Park\",\n      \"id\": 2\n    }\n  ]\n}\n</code></pre>\n\n<p>My Javascript:</p>\n\n<pre><code>function GetID(value) {\n    var output = 0\n    fetch(\"http://localhost:8088/data\").then(storage =&gt; \n        storage.json()).then(items =&gt; {\n            for (i = 0; i &lt; items.length; i++) {              \n                if (items[i][\"value\"] == value) {\n                    output = i\n                    break\n                }\n            }             \n    })\n    return output\n}\n</code></pre>\n\n<p>When calling the function, I specified \"Hermitage Park\" as the value, hoping to get back the value of the \"id\" property, which is 2.  It seems right to me, but it always returns 0 when it should be 2.  I also tried <code>items[value][\"id\"]</code> and <code>items[value].id</code>, but nothing is working so far.</p>\n"}, {"tags": ["javascript", "object", "conditional-statements"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1570053750, "post_id": 58209741, "comment_id": 102797400, "body": "Your string is delimited by dashes not dots, but I think the duplicate is the pointer in the right direction you were looking for :-)"}, {"owner": {"reputation": 544, "user_id": 6066886, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cc9c67b1d68cc02284b58cfbd4b89125?s=128&d=identicon&r=PG&f=1", "display_name": "devman", "link": "https://stackoverflow.com/users/6066886/devman"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1570053874, "post_id": 58209741, "comment_id": 102797430, "body": "ohh ok, gonna read that. thanks!"}, {"owner": {"reputation": 544, "user_id": 6066886, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cc9c67b1d68cc02284b58cfbd4b89125?s=128&d=identicon&r=PG&f=1", "display_name": "devman", "link": "https://stackoverflow.com/users/6066886/devman"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1570054258, "post_id": 58209741, "comment_id": 102797519, "body": "whoa, it works! i&#39;m not sure i understand it, but it works :D thanks man!"}, {"owner": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "edited": false, "score": 0, "creation_date": 1570054312, "post_id": 58209741, "comment_id": 102797533, "body": "The dupe is a good start, but the <code>10</code> in your example <code>username-length-max-10</code> will need some extra handling."}], "owner": {"reputation": 544, "user_id": 6066886, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/cc9c67b1d68cc02284b58cfbd4b89125?s=128&d=identicon&r=PG&f=1", "display_name": "devman", "link": "https://stackoverflow.com/users/6066886/devman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1570053700, "answer_count": 0, "score": 0, "last_activity_date": 1570053631, "creation_date": 1570052591, "last_edit_date": 1570052915, "question_id": 58209741, "link": "https://stackoverflow.com/questions/58209741/how-to-get-a-string-from-a-variable-depth-in-a-javascript-object", "closed_reason": "Duplicate", "title": "How to get a String from a variable depth in a javascript object", "body": "<p>i'm trying to get a string from a nested object, basically it's really simple.\na server returns an error-code with a varying amount of <code>-</code>-delimited strings (2-4)\nnow basically what i want to do is </p>\n\n<pre><code> return `${messageStrings[errorCodeParts[0]]\n  [errorCodeParts[1]]\n  [errorCodeParts[2]]\n  [errorCodeParts[3]]}`\n</code></pre>\n\n<p>but only as far down as needed... (so 2 parts, do until <code>errorCodeParts[1]</code>, 3 parts, do until <code>errorCodeParts[2]</code>. i don't know how to do this elegantly, can anyone point me in a direction?</p>\n\n<p>this is the current code:</p>\n\n<pre><code>const messageStrings = {\n  auth: {\n    failed: 'These credentials do not match our records.',\n    throttle: 'Too many login attempts. Please try again in :seconds seconds.',\n  }\n// ..\n}\n\n  getString(errorCode) {    // errorCode = 'auth-failed'\n    const errorCodeParts = Array.from(errorCode.split('-'))\n\n    let string = 'Unknown error'\n\n        return `${messageStrings[errorCodeParts[0]]\n  [errorCodeParts[1]]\n  [errorCodeParts[2]]\n  [errorCodeParts[3]]}` // but only those that are actually there\n  }\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "object"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1570052283, "post_id": 58209695, "comment_id": 102797032, "body": "StackOverflow is not a free coding service. You&#39;re expected to <a href=\"https://meta.stackoverflow.com/questions/261592/how-much-research-effort-is-expected-of-stack-overflow-users\">try to solve the problem first</a>. Please update your question to show what you have already tried in a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. For further information, please see <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>, and take the <a href=\"https://stackoverflow.com/tour\">tour</a> :)"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1570052303, "post_id": 58209695, "comment_id": 102797041, "body": "Hint: The code should use nested loops."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1570052338, "post_id": 58209695, "comment_id": 102797055, "body": "The outer loop is over the cars, the inner loop is over the mappings. The inner loop adds properties to the object, the outer loop pushes the properties onto the result array. You can use the <code>.map()</code> function for the outer loop."}, {"owner": {"reputation": 69207, "user_id": 1440565, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/ec430cc01ef4cf4ae63ebbe9e8596f72?s=128&d=identicon&r=PG", "display_name": "Code-Apprentice", "link": "https://stackoverflow.com/users/1440565/code-apprentice"}, "edited": false, "score": 0, "creation_date": 1570052425, "post_id": 58209695, "comment_id": 102797075, "body": "I suggest that you look at the <code>map()</code> function of arrays."}], "answers": [{"tags": [], "owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "is_accepted": true, "score": 1, "last_activity_date": 1570052728, "creation_date": 1570052728, "answer_id": 58209763, "question_id": 58209695, "link": "https://stackoverflow.com/questions/58209695/convert-an-array-of-arrays-to-an-array-of-objects-with-mapped-properties/58209763#58209763", "title": "Convert an array of arrays to an array of objects with mapped properties", "body": "<p>Use a <code>map</code> command. Note: this code assumes there are mappings for each element of the array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let cars = [\r\n    [1, \"Honda\", \"Honda description here\"],\r\n    [2, \"Mercedes\", \"Mercedes description here\"],\r\n    [3, \"Toyota\", \"Toyota description here\"],\r\n];\r\n\r\nlet mapping = {\r\n    0: 'id',\r\n    1: 'name',\r\n    2: 'description',\r\n};\r\n\r\nlet result = cars.map(a =&gt; {\r\n  let obj = {};\r\n  a.forEach((v,i) =&gt; {\r\n    obj[mapping[i]] = v;\r\n  });\r\n  return obj;\r\n});\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1570053783, "post_id": 58209895, "comment_id": 102797411, "body": "<code>acc[mapping[i]] = cur; return acc;</code> is uglier but avoids creating a new object in order to copy each property."}, {"owner": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "reply_to_user": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1570053899, "post_id": 58209895, "comment_id": 102797434, "body": "Incorrect, <code>Object.assign(acc, { [mapping[i]]: cur })</code> does not create a new object, <code>Object.assign({}, acc, { [mapping[i]]: cur })</code> does."}, {"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 1, "creation_date": 1570054252, "post_id": 58209895, "comment_id": 102797518, "body": "Right you are!  Cheers."}], "tags": [], "owner": {"reputation": 3757, "user_id": 7368985, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fYb4sP0Jt1I/AAAAAAAAAAI/AAAAAAAAEso/pV8UEu1dVHg/photo.jpg?sz=128", "display_name": "Ghassen Louhaichi", "link": "https://stackoverflow.com/users/7368985/ghassen-louhaichi"}, "is_accepted": false, "score": 1, "last_activity_date": 1570053585, "creation_date": 1570053585, "answer_id": 58209895, "question_id": 58209695, "link": "https://stackoverflow.com/questions/58209695/convert-an-array-of-arrays-to-an-array-of-objects-with-mapped-properties/58209895#58209895", "title": "Convert an array of arrays to an array of objects with mapped properties", "body": "<p>You can achieve the merged result by using a combination of:</p>\n\n<ol>\n<li><code>[].map()</code> on the <code>cars</code> array to loop through its elements.</li>\n<li><code>[].reduce()</code> on each car element to reduce the three value into one object, taking advantage of the ordering you have in the <code>mapping</code> object.</li>\n</ol>\n\n<p>Here is a solution that can be shortened into a one-liner:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let cars = [\r\n    [1, \"Honda\", \"Honda description here\"],\r\n    [2, \"Mercedes\", \"Mercedes description here\"],\r\n    [3, \"Toyota\", \"Toyota description here\"],\r\n];\r\nlet mapping = {\r\n    0: 'id',\r\n    1: 'name',\r\n    2: 'description',\r\n};\r\nlet result = cars.map((car) =&gt; (\r\n    car.reduce((acc, cur, i) =&gt; (\r\n        Object.assign(acc, { [mapping[i]]: cur })\r\n    ), {})\r\n));\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3285, "user_id": 653292, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/KSgvZ.jpg?s=128&g=1", "display_name": "Ghazanfar Mir", "link": "https://stackoverflow.com/users/653292/ghazanfar-mir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 58209763, "answer_count": 2, "score": 1, "last_activity_date": 1570053585, "creation_date": 1570052208, "question_id": 58209695, "link": "https://stackoverflow.com/questions/58209695/convert-an-array-of-arrays-to-an-array-of-objects-with-mapped-properties", "title": "Convert an array of arrays to an array of objects with mapped properties", "body": "<p>What is the best way of converting an array of arrays to objects so that the indices are replaced with given mapping properties.</p>\n\n<p>For example:</p>\n\n<pre><code>let cars = [\n    [1, \"Honda\", \"Honda description here\"],\n    [2, \"Mercedes\", \"Mercedes description here\"],\n    [3, \"Toyota\", \"Toyota description here\"],\n];\n\nlet mapping = {\n    0: 'id',\n    1: 'name',\n    2: 'description',\n};\n</code></pre>\n\n<p>So the final result is:</p>\n\n<pre><code>[\n    {id: 1, name: 'Honda', description: 'Honda description here'},\n    {id: 2, name: 'Mercedes', description: 'Mercedes description here'},\n    {id: 3, name: 'Toyota', description: 'Toyota description here'},\n];\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "gatsby"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12156180, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lqnsYVwywT4/AAAAAAAAAAI/AAAAAAAAHtU/fDAXEsuKKkw/photo.jpg?sz=128", "display_name": "Klawn", "link": "https://stackoverflow.com/users/12156180/klawn"}, "edited": false, "score": 0, "creation_date": 1570137067, "post_id": 58210065, "comment_id": 102828889, "body": "Thanks, but that&#39;s for windows 10, and I&#39;m using windows 7"}], "tags": [], "owner": {"reputation": 1, "user_id": 9760381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zm1ca.jpg?s=128&g=1", "display_name": "Gian Marco Ferrara", "link": "https://stackoverflow.com/users/9760381/gian-marco-ferrara"}, "is_accepted": false, "score": 0, "last_activity_date": 1570054902, "creation_date": 1570054902, "answer_id": 58210065, "question_id": 58209653, "link": "https://stackoverflow.com/questions/58209653/having-problems-creating-a-site-with-gatsbyjs/58210065#58210065", "title": "Having Problems creating a site with gatsbyjs", "body": "<p>Sometimes I got issues running Gatsby on Windows.\nThe way how I solved most of them was installing the Windows Subsystem for Linux. \nI really recommend you to do the same.\nThe installation is pretty easy, take a look <a href=\"https://docs.microsoft.com/en-us/windows/wsl/install-win10\" rel=\"nofollow noreferrer\">at this</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 51, "user_id": 9140813, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nNkaG.jpg?s=128&g=1", "display_name": "Ofek S.", "link": "https://stackoverflow.com/users/9140813/ofek-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1573346443, "creation_date": 1573346443, "answer_id": 58784836, "question_id": 58209653, "link": "https://stackoverflow.com/questions/58209653/having-problems-creating-a-site-with-gatsbyjs/58784836#58784836", "title": "Having Problems creating a site with gatsbyjs", "body": "<p>It worked for me by using the powershell integrated console</p>\n\n<ul>\n<li>Use the Ctrl+` keyboard shortcut with the backtick character.</li>\n<li>Use the View > Terminal menu command.</li>\n<li>From the Command Palette (Ctrl+Shift+P), use the View: Toggle Integrated Terminal command.</li>\n<li>gastsby new gatsby-site</li>\n</ul>\n"}, {"comments": [{"owner": {"reputation": 90, "user_id": 12536677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/859f3846cd1c200c1415a4fc7389149a?s=128&d=identicon&r=PG", "display_name": "Yunus Emre", "link": "https://stackoverflow.com/users/12536677/yunus-emre"}, "edited": false, "score": 0, "creation_date": 1602006367, "post_id": 63654382, "comment_id": 113581249, "body": "This worked for me, I also commented out this code: &quot;terminal.integrated.shell.windows&quot;: &quot;C:\\\\WINDOWS\\\\System32\\\\WindowsPowerShell\\\\v1.0\\\\powershell.&zwnj;&#8203;exe&quot;,  Thank you very much."}], "tags": [], "owner": {"reputation": 223, "user_id": 7181473, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh4.googleusercontent.com/-ilu36bwvCGg/AAAAAAAAAAI/AAAAAAAAAB4/hWgWBHv7SUQ/photo.jpg?sz=128", "display_name": "ramzan ali", "link": "https://stackoverflow.com/users/7181473/ramzan-ali"}, "is_accepted": false, "score": 2, "last_activity_date": 1598766487, "creation_date": 1598766487, "answer_id": 63654382, "question_id": 58209653, "link": "https://stackoverflow.com/questions/58209653/having-problems-creating-a-site-with-gatsbyjs/63654382#63654382", "title": "Having Problems creating a site with gatsbyjs", "body": "<p>if you are using VS Code integrated terminal then a simple terminal setting will solve the issue.</p>\n<ol>\n<li>Go to <code>File -&gt; Preferences -&gt; Settings</code> or use shortcut <code>Ctrl + ,</code> to open settings</li>\n<li>In the serch bar, serach for <code>terminal.integrated.shellArgs.windows</code>, then on the result click on <code>Edit in settings.json</code></li>\n<li>Then add the following setting in <code>settings.json</code> file <code>&quot;terminal.integrated.shellArgs.windows&quot;: [&quot;-ExecutionPolicy&quot;, &quot;Bypass&quot;]</code></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 61, "user_id": 14555248, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PSg7EJfohRk/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuck6ZnrvyXcnPJMvVm8mq4VGajDL_Q/s96-c/photo.jpg?sz=128", "display_name": "Cadet Hasib", "link": "https://stackoverflow.com/users/14555248/cadet-hasib"}, "is_accepted": false, "score": 0, "last_activity_date": 1615179305, "creation_date": 1615179305, "answer_id": 66524480, "question_id": 58209653, "link": "https://stackoverflow.com/questions/58209653/having-problems-creating-a-site-with-gatsbyjs/66524480#66524480", "title": "Having Problems creating a site with gatsbyjs", "body": "<p>Dude you have a typo. You typed <code>gastsby</code> instead of <code>gatsby</code>. Please be careful with the spellings.</p>\n"}], "owner": {"reputation": 1, "user_id": 12156180, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-lqnsYVwywT4/AAAAAAAAAAI/AAAAAAAAHtU/fDAXEsuKKkw/photo.jpg?sz=128", "display_name": "Klawn", "link": "https://stackoverflow.com/users/12156180/klawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1905, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1615179305, "creation_date": 1570051950, "last_edit_date": 1570062146, "question_id": 58209653, "link": "https://stackoverflow.com/questions/58209653/having-problems-creating-a-site-with-gatsbyjs", "title": "Having Problems creating a site with gatsbyjs", "body": "<p>I install Gatsbyjs using:</p>\n\n<p><code>npm install -g gatsby-cli</code></p>\n\n<p>It installs and then when I try to create a new site it shows some error.</p>\n\n<p>I have tried <code>gastsby new gatsby-site</code> but it shows some errors:</p>\n\n<blockquote>\n  <p>PS C:\\Users\\Klawnny\\Dropbox\\ecommerce with react> npm install -g\n  gatsby-cli C:\\Users\\Klawnny\\AppData\\Roaming\\npm\\gatsby ->\n  C:\\Users\\Klawnny\\AppData\\Roaming\\npm\\node_modules\\gatsby-cli\\lib\\index.js</p>\n  \n  <p>> gatsby-cli@2.7.53 postinstall\n  C:\\Users\\Klawnny\\AppData\\Roaming\\npm\\node_modules\\gatsby-cli > node\n  scripts/postinstall.js</p>\n  \n  <p>+ gatsby-cli@2.7.53 updated 1 package in 46.004s PS\n  C:\\Users\\Klawnny\\Dropbox\\ecommerce with react> gatsby new lcoproject</p>\n  \n  <p>File C:\\Users\\Klawnny\\AppData\\Roaming\\npm\\gatsby.ps1 cannot be loaded\n  because the execution of scripts is disabled on this system. Please\n  see \"get-help about_signing\" for more details. At line:1 char:7\n  + gatsby &lt;&lt;&lt;&lt;  new lcoproject\n      + CategoryInfo          : NotSpecified: (:) [], PSSecurityException\n      + FullyQualifiedErrorId : RuntimeException</p>\n</blockquote>\n\n<p>I expected it to create the project but it shows this.</p>\n"}, {"tags": ["javascript", "google-chrome", "asynchronous", "cookies", "promise"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 8290091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f3646c166864d08fe8464548fd0ed61?s=128&d=identicon&r=PG&f=1", "display_name": "chif.j", "link": "https://stackoverflow.com/users/8290091/chif-j"}, "is_accepted": false, "score": 0, "last_activity_date": 1571332710, "creation_date": 1571332710, "answer_id": 58437761, "question_id": 58209642, "link": "https://stackoverflow.com/questions/58209642/chrome-cookies-getall-and-remove-all-cookies-then-wait-for-finish/58437761#58437761", "title": "chrome.cookies.getAll and remove all cookies then wait for finish", "body": "<p>i don't think it's optimize but this is a quick answer.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function RemoveCookies(cookies, domain){\r\n   for(var i=0; i&lt;cookies.length;i++) {\r\n        chrome.cookies.remove({url: 'https://'domain + cookies[i].path, name:cookies[i].name});\r\n      }\r\n}\r\n\r\nfunction RemoveDomain1(callback, ...params){\r\n  chrome.cookies.getAll({domain: domain1}, function(cookies) {\r\n     RemoveCookies(cookies, domain1);\r\n     callback(params)\r\n\t\t\r\n\t});\r\n}\r\nfunction RemoveDomain2(callback, ...params){\r\n  chrome.cookies.getAll({domain: domain2}, function(cookies) {\r\n     RemoveCookies(cookies, domain2);\r\n     callback(params)\r\n\t\t\r\n\t});\r\n}\r\nfunction RemoveDomain3(callback, ...params){\r\n  chrome.cookies.getAll({domain: domain3}, function(cookies) {\r\n     RemoveCookies(cookies, domain3);\r\n     callback()\r\n\t\t\r\n\t});\r\n}\r\n\r\nRemoveDomain1(RemoveDomain2, RemoveDomain3, DoSomthingAfterAll)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://stackoverflow.com/questions/9121902/call-an-asynchronous-javascript-function-synchronously\">check this link too maybe it help</a></p>\n"}], "owner": {"reputation": 1, "user_id": 8870172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bf2fdecefd69ff06bca2ca313c26002?s=128&d=identicon&r=PG&f=1", "display_name": "Kolja Deheck", "link": "https://stackoverflow.com/users/8870172/kolja-deheck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1571332710, "creation_date": 1570051883, "last_edit_date": 1570052420, "question_id": 58209642, "link": "https://stackoverflow.com/questions/58209642/chrome-cookies-getall-and-remove-all-cookies-then-wait-for-finish", "title": "chrome.cookies.getAll and remove all cookies then wait for finish", "body": "<p>the chrome.cookies API is not clear to me. I want to getAll cookies for 3 different Domains, then delete those and wait for this process to finish, afterwards I want to set some cookies.</p>\n\n<p>If I understand cookies chrome.cookies.getAll does not return a promise, only I can define a callback. Now its clear to me that I can write callbacks for all three getAll cookies commands but in there I am removing several cookies again this process goes asynchronously. So I am totally lost on how I can identify when all cookies of 3 domains have been completely removed.</p>\n\n<p>One option that I could think of is that I run the 3 cookie.getAlls one time ahead and count the number of cookies, then with every remove I increase a counter and in a callback of remove I check whether I have reached the total number. This seems very strange so I can not believe that this is the correct way to do it.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "json"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1570051933, "post_id": 58209626, "comment_id": 102796939, "body": "&quot;<i>I though of iterating over each object looking for these fields, but is there a more efficient way</i>&quot; unless you know your data is sortedd - no, you can&#39;t really avoid a linear scan. If you have sorted data, <i>then</i> you can employ a binary search."}, {"owner": {"reputation": 8286, "user_id": 668871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a7b5d337a6316aeb96e37963133281?s=128&d=identicon&r=PG", "display_name": "Matthemattics", "link": "https://stackoverflow.com/users/668871/matthemattics"}, "edited": false, "score": 0, "creation_date": 1570051965, "post_id": 58209626, "comment_id": 102796953, "body": "What type of efficiency are you after? IE. run-time performance vs. code size vs. human readability vs. maintainability?"}, {"owner": {"reputation": 1136, "user_id": 8434189, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gawtn.jpg?s=128&g=1", "display_name": "mahmoudafer", "link": "https://stackoverflow.com/users/8434189/mahmoudafer"}, "edited": false, "score": 0, "creation_date": 1570052022, "post_id": 58209626, "comment_id": 102796971, "body": "Consider using the array <code>find</code> method"}, {"owner": {"reputation": 660, "user_id": 2305386, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c65a8842e1b89c2074c6e308b2657264?s=128&d=identicon&r=PG", "display_name": "user44", "link": "https://stackoverflow.com/users/2305386/user44"}, "edited": false, "score": 0, "creation_date": 1570052316, "post_id": 58209626, "comment_id": 102797046, "body": "You can create a dictionary where the key is concatenated name and hair color and value is a list of matching entries, then get entries by key. But it is worth do something like this only if you have a lot of entries and also you need to find them quickly and many times."}], "owner": {"reputation": 1472, "user_id": 6509816, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/44tMB.jpg?s=128&g=1", "display_name": "yalpsid eman", "link": "https://stackoverflow.com/users/6509816/yalpsid-eman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1570051930, "answer_count": 0, "score": 0, "last_activity_date": 1570052104, "creation_date": 1570051788, "last_edit_date": 1570052104, "question_id": 58209626, "link": "https://stackoverflow.com/questions/58209626/is-there-an-efficient-way-to-find-a-specific-entry-among-json-data", "closed_reason": "Duplicate", "title": "Is there an efficient way to find a specific entry among JSON data?", "body": "<p>I have a piece of JSON that looks as such:</p>\n\n<pre><code>\"people\":[ \n    {\"name\":\"dave\", \"id\":\"4\", \"extraInfo\": {\"hairColor\":\"red\"}},\n    {\"name\":\"john\", \"id\":\"2\", \"extraInfo\": {\"hairColor\":\"black\"}},\n    {\"name\":\"jim\", \"id\":\"5\", \"extraInfo\": {\"hairColor\":\"brown\"}},...}\n]\n</code></pre>\n\n<p>Name and HairColor Fields aren't unique to each entry, and let's say each entry can have other information in addition to the 3 in the example: I could have an entry that looks like</p>\n\n<pre><code>{\"name\":\"dave\", \"id\":\"467\", \"siblings\":\"1\", \"lastName\":\"jones\" \"extraInfo\": {\"hairColor\":\"red\", \"eyes\":\"blue\"}, \"height\":\"5 feet\"}\n</code></pre>\n\n<p>I want to find the id of a person who matches a specific name and hairColor. I though of iterating over each object looking for these fields, but is there a more efficient way, some tool perhaps, for doing this?</p>\n"}, {"tags": ["javascript", "json", "django"], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 9658508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b386d3e2e6994db128b8252d918de308?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/9658508/joshua"}, "edited": false, "score": 0, "creation_date": 1570057332, "post_id": 58210264, "comment_id": 102798176, "body": "My urls contains &quot;url(r&#39;^get_students/&#39;, get_students),&quot; how would I reference this view? I don&#39;t mind how we do it as long as I can access it how you say without specifying a new template. Can you elaborate how to do this, I am not very familiar... I have a Student model, not a Publisher model, I also don&#39;t know how to call that view from my HTML template with a get..."}, {"owner": {"reputation": 11, "user_id": 4794105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f031b9b131a4ab3419dd773cbd39c511?s=128&d=identicon&r=PG&f=1", "display_name": "MasonLyons", "link": "https://stackoverflow.com/users/4794105/masonlyons"}, "reply_to_user": {"reputation": 141, "user_id": 9658508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b386d3e2e6994db128b8252d918de308?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/9658508/joshua"}, "edited": false, "score": 0, "creation_date": 1570058602, "post_id": 58210264, "comment_id": 102798425, "body": "In the code I posted you wouldn&#39;t call the code from a get request. You would pass it into the template directly through the view. Can you add your view and model to the template?"}, {"owner": {"reputation": 141, "user_id": 9658508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b386d3e2e6994db128b8252d918de308?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/9658508/joshua"}, "edited": false, "score": 0, "creation_date": 1570058785, "post_id": 58210264, "comment_id": 102798455, "body": "I don&#39;t think so. I am using a wagtail block component on my homepage, so the homepage is set and I cannot change the view it calls in urls, which is url(r&#39;&#39;, include(&#39;django.contrib.auth.urls&#39;)) (unless one url can call two views?). So I think I have to call the other view from the template itself."}], "tags": [], "owner": {"reputation": 11, "user_id": 4794105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f031b9b131a4ab3419dd773cbd39c511?s=128&d=identicon&r=PG&f=1", "display_name": "MasonLyons", "link": "https://stackoverflow.com/users/4794105/masonlyons"}, "is_accepted": false, "score": 1, "last_activity_date": 1570058517, "last_edit_date": 1570058517, "creation_date": 1570056426, "answer_id": 58210264, "question_id": 58209619, "link": "https://stackoverflow.com/questions/58209619/how-to-pass-json-dictionary-from-javascript-get-to-django-template/58210264#58210264", "title": "How to pass json dictionary from javascript .get to django template?", "body": "<p>Although it doesn't answer the question directly could this not be done by passing the data into the view with the <a href=\"https://docs.djangoproject.com/en/2.2/topics/class-based-views/generic-display/#adding-extra-context\" rel=\"nofollow noreferrer\">get_context</a> method instead then looping over it?</p>\n\n<p>So your view would look this this:</p>\n\n<pre><code>class ExampleDetailView(DetailView):\nmodel = Student\n\ndef get_context_data(self, **kwargs):\n    # Call the base implementation first to get a context\n    context = super().get_context_data(**kwargs)\n    # Add in a QuerySet of all the books\n    context['contextDictionary'] = get_students()\n    return context\n</code></pre>\n\n<p>then in the template have something like:</p>\n\n<pre><code>{% for d in contextDictionary %}\n    &lt;p&gt;d.username&lt;/p&gt;\n{% endfor %}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 9658508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b386d3e2e6994db128b8252d918de308?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/9658508/joshua"}, "is_accepted": true, "score": 1, "last_activity_date": 1570088504, "creation_date": 1570088504, "answer_id": 58214485, "question_id": 58209619, "link": "https://stackoverflow.com/questions/58209619/how-to-pass-json-dictionary-from-javascript-get-to-django-template/58214485#58214485", "title": "How to pass json dictionary from javascript .get to django template?", "body": "<p>So the answer was to use JQuery. Inside the script tag I iterate over the dictionary values and append them to an innerHTML using a js string. So the .get above has to become something like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>$.get('get_students/', function (data) {\r\n            var write_to_div = document.getElementById(\"studentDiv\");\r\n            for (var d in data) {\r\n                value = data[d]\r\n                write_to_div.innerHTML += \"&lt;p&gt;\" + value['first_name'] + \"&lt;/p&gt;\"\r\n\r\n            }\r\n        })</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This will append a paragraphs containing all the first names of all the Users to the div with id \"studentDiv\", so in the HTML template I have</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"studentDiv\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 141, "user_id": 9658508, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b386d3e2e6994db128b8252d918de308?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua", "link": "https://stackoverflow.com/users/9658508/joshua"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 359, "favorite_count": 0, "accepted_answer_id": 58214485, "answer_count": 2, "score": 1, "last_activity_date": 1570088504, "creation_date": 1570051744, "last_edit_date": 1570058071, "question_id": 58209619, "link": "https://stackoverflow.com/questions/58209619/how-to-pass-json-dictionary-from-javascript-get-to-django-template", "title": "How to pass json dictionary from javascript .get to django template?", "body": "<p>In the head of my django template I currently have:</p>\n\n<pre><code>&lt;script&gt;\n   $.get('get_students/', function (dict) {\n        alert(dict)\n   })\n&lt;/script&gt;\n</code></pre>\n\n<p>This alerts me of a json dictionary corresponding to dict, which comes from the following django view:</p>\n\n<pre><code>def get_students(request):\n    students = Student.objects.all()\n\n    students_json = serializers.serialize('json', students)\n\n    return HttpResponse(json.dumps(students_json), content_type='application/json')\n</code></pre>\n\n<p>Is it possible to \"escape\" dict from the script tag into the normal Django template so that I can iterate over it with something like:</p>\n\n<pre><code>{% for d in dict%}\n    &lt;p&gt;d.username&lt;/p&gt;\n{% endfor %}\n</code></pre>\n\n<p>If there is a more sensible way of doing this then please recommend it to me, I am still learning. Please note that I am working inside a component from which I have to call the view, which is why I am using js get.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "jquery", "masking", "data-masking"], "comments": [{"owner": {"reputation": 8286, "user_id": 668871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a7b5d337a6316aeb96e37963133281?s=128&d=identicon&r=PG", "display_name": "Matthemattics", "link": "https://stackoverflow.com/users/668871/matthemattics"}, "edited": false, "score": 0, "creation_date": 1570052191, "post_id": 58209616, "comment_id": 102797015, "body": "What is supposed to happen when a value that was masked is changed? I know this isn&#39;t too helpful, but this seems like a poor UX. Perhaps you could just unmask the field when it&#39;s focused, to keep things simple?"}, {"owner": {"reputation": 17, "user_id": 10727491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95b9343a3923cbd4e83184d42cd48c55?s=128&d=identicon&r=PG&f=1", "display_name": "ricksley", "link": "https://stackoverflow.com/users/10727491/ricksley"}, "reply_to_user": {"reputation": 8286, "user_id": 668871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a7b5d337a6316aeb96e37963133281?s=128&d=identicon&r=PG", "display_name": "Matthemattics", "link": "https://stackoverflow.com/users/668871/matthemattics"}, "edited": false, "score": 0, "creation_date": 1570053749, "post_id": 58209616, "comment_id": 102797399, "body": "@Matthematics Indeed it is a poor UX. It makes it complicated. Actually, I thought of what you have suggested. But it defeats the purpose of the button. And the user wants the button haha"}], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 10727491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95b9343a3923cbd4e83184d42cd48c55?s=128&d=identicon&r=PG&f=1", "display_name": "ricksley", "link": "https://stackoverflow.com/users/10727491/ricksley"}, "edited": false, "score": 0, "creation_date": 1570082797, "post_id": 58210128, "comment_id": 102803002, "body": "How will I retrieve the original value if I save while the masked value is currently shown? I&#39;m using asp controls by the way"}, {"owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "reply_to_user": {"reputation": 17, "user_id": 10727491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95b9343a3923cbd4e83184d42cd48c55?s=128&d=identicon&r=PG&f=1", "display_name": "ricksley", "link": "https://stackoverflow.com/users/10727491/ricksley"}, "edited": false, "score": 0, "creation_date": 1570085992, "post_id": 58210128, "comment_id": 102804124, "body": "you can call <code>$(&#39;#SSN&#39;).data(&#39;val&#39;)</code> will give you the original value"}, {"owner": {"reputation": 17, "user_id": 10727491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95b9343a3923cbd4e83184d42cd48c55?s=128&d=identicon&r=PG&f=1", "display_name": "ricksley", "link": "https://stackoverflow.com/users/10727491/ricksley"}, "edited": false, "score": 0, "creation_date": 1570089234, "post_id": 58210128, "comment_id": 102805647, "body": "I noticed on blur that it cuts the string to four characters only. For example input is <code>12345678</code> then it will become <code>1XXX</code> only"}], "tags": [], "owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "is_accepted": true, "score": 0, "last_activity_date": 1570092990, "last_edit_date": 1570092990, "creation_date": 1570055395, "answer_id": 58210128, "question_id": 58209616, "link": "https://stackoverflow.com/questions/58209616/how-to-get-the-correct-value-when-a-masked-input-is-editedcustom-masking/58210128#58210128", "title": "How to get the correct value when a masked input is edited(custom masking)", "body": "<p>You can store the real value in a data attribute of the input element, that way you have a single source of truth. </p>\n\n<p>While you are toggling you can get that real value and display masked/unmasked. </p>\n\n<p>Also you need to have a state that is is masked/unmasked so when you are updating values you know that unmasked values can directly substitute to value and masked value will be just first letter and rest letters you have to pick the masked area from last known value</p>\n\n<p>Now when in masked state user changes any of the <code>X</code> values I have given a function if it is 'XXXX' it will take the old value if anything else it tries to update the value. I have kept the position of the cursor where the user is at. If you want to get creative you can work on a logic here.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  $('#SSN').on('input', function(e) {\r\n    const this$ = $(this);\r\n    const val = $(this).val();\r\n\r\n    if (this$.data('unmask')) {\r\n      this$.data('val', val);\r\n    } else {\r\n      const oldParams = getMask(this$.data('val'), false);\r\n      const newParams = getMask(val, false);\r\n      const newMaskArea = getUpdatedMaskArea(e.target.selectionStart, oldParams.maskArea, newParams.maskArea);\r\n      const newValue = newParams.first + newMaskArea + newParams.rest;\r\n      this$.data('val', newValue);\r\n    }\r\n  }).on('blur', function() {\r\n    const this$ = $(this);\r\n    this$.val(getMask(this$.data('val'), !this$.data('unmask')).value);\r\n  }).data('val', $(this).val())\r\n\r\n  $('#toggle').on('click', toggle).trigger('click');\r\n});\r\n\r\nfunction toggle() {\r\n  $(this).find('i').toggleClass('fa-eye-slash');\r\n  $('#SSN').data('unmask', !$(this).find('i').hasClass('fa-eye-slash')).trigger('blur');\r\n}\r\n\r\nfunction getUpdatedMaskArea(position, oldMask, newMask){\r\n  if(position&gt;=2 &amp;&amp; position&lt;=5){\r\n    if(newMask.indexOf('X')===-1){\r\n      return newMask;// user input new value\r\n    } else if(newMask.length === oldMask.length){\r\n      return newMask.replace(/X/g, (v,i)=&gt;oldMask.charAt(i));//user updates 'X'\r\n    } else {\r\n      //when there are less than desired X ? I am not sure how to handle this\r\n    }\r\n  }\r\n  return oldMask;\r\n}\r\n\r\nfunction getMask(val, mask) {\r\n  const first = val.substring(0, 1);\r\n  const maskArea = val.substring(1, 5);\r\n  const rest = val.substring(5, val.length);\r\n  const value = first + (mask ? maskArea.replace(/./g, 'X') : maskArea) + rest;\r\n  return {first, maskArea, rest, value};\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"div\"&gt;\r\n  &lt;input id=\"SSN\" maxlength=\"8\"&gt;\r\n  &lt;button id=\"toggle\" type=\"submit\"&gt;\r\n    &lt;i class=\"fa fa-eye\"&gt;&lt;/i&gt;\r\n  &lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 17, "user_id": 10727491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/95b9343a3923cbd4e83184d42cd48c55?s=128&d=identicon&r=PG&f=1", "display_name": "ricksley", "link": "https://stackoverflow.com/users/10727491/ricksley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1844, "favorite_count": 0, "accepted_answer_id": 58210128, "answer_count": 1, "score": 1, "last_activity_date": 1570092990, "creation_date": 1570051740, "question_id": 58209616, "link": "https://stackoverflow.com/questions/58209616/how-to-get-the-correct-value-when-a-masked-input-is-editedcustom-masking", "title": "How to get the correct value when a masked input is edited(custom masking)", "body": "<p>I have two inputs(masked and unmasked) and a toggle button that serves as a show/hide button. It works similarly as password masking except that it only masks certain characters in a string. Whatever I input in the <code>unmasked</code> text box, <code>createMask</code> function is called and the result is shown in the <code>masked</code> text box.</p>\n\n<p>The problem is, when the masked text box is shown and I edit the value, it should update the value in the unmasked text box.</p>\n\n<p>For example, <code>12345678</code> -> <code>1XXXX678</code></p>\n\n<p>Then I will edit <code>1XXXX678</code> to <code>1XXXX619</code></p>\n\n<p>When I click the button to unmask, it should show <code>12345619</code></p>\n\n<p>For better understanding, here's the full code: <a href=\"https://jsfiddle.net/759ncLhr/\" rel=\"nofollow noreferrer\">jsfiddle</a></p>\n"}, {"tags": ["javascript", "android", "react-native", "expo", "react-navigation-drawer"], "answers": [{"comments": [{"owner": {"reputation": 752, "user_id": 7391342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFD1Z.jpg?s=128&g=1", "display_name": "Abdeen M.", "link": "https://stackoverflow.com/users/7391342/abdeen-m"}, "reply_to_user": {"reputation": 55, "user_id": 9115487, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659906697408708/picture?type=large", "display_name": "Paul Guerrero", "link": "https://stackoverflow.com/users/9115487/paul-guerrero"}, "edited": false, "score": 0, "creation_date": 1570151882, "post_id": 58210297, "comment_id": 102832215, "body": "you are most welcome, if you dont mind please mark the answer as correct so anyone else can refer to it"}, {"owner": {"reputation": 183, "user_id": 9302583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6590ebf05f88f6aa41790f63ea9b3897?s=128&d=identicon&r=PG&f=1", "display_name": "Aman Deep", "link": "https://stackoverflow.com/users/9302583/aman-deep"}, "edited": false, "score": 0, "creation_date": 1607150962, "post_id": 58210297, "comment_id": 115187449, "body": "getting the same error but not fixed for me !!!  :("}], "tags": [], "owner": {"reputation": 752, "user_id": 7391342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFD1Z.jpg?s=128&g=1", "display_name": "Abdeen M.", "link": "https://stackoverflow.com/users/7391342/abdeen-m"}, "is_accepted": true, "score": 2, "last_activity_date": 1570056769, "creation_date": 1570056769, "answer_id": 58210297, "question_id": 58209524, "link": "https://stackoverflow.com/questions/58209524/unsupported-top-level-event-type-ongesturehandlerstatechange-dispatched/58210297#58210297", "title": "Unsupported top level event type &quot;onGestureHandlerStateChange dispatched", "body": "<p>Follow these steps:</p>\n\n<ol>\n<li>Delete your <code>node_modules</code> directory and <code>package-lock.json</code> file</li>\n<li>Modify <code>react-navigation</code> version to <code>^3.11.1</code> in your package.json</li>\n<li>Run <code>npm install</code></li>\n<li>Run <code>expo install react-native-gesture-handler react-native-reanimated react-navigation</code></li>\n<li>Run on <code>expo start -c</code></li>\n</ol>\n\n<p>This should setup a compatible version of react-navigation and solve your gesture issue.</p>\n\n<p>Hope this Helps!</p>\n"}], "owner": {"reputation": 55, "user_id": 9115487, "user_type": "registered", "profile_image": "https://graph.facebook.com/1659906697408708/picture?type=large", "display_name": "Paul Guerrero", "link": "https://stackoverflow.com/users/9115487/paul-guerrero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 58210297, "answer_count": 1, "score": 2, "last_activity_date": 1570056769, "creation_date": 1570051250, "last_edit_date": 1570051955, "question_id": 58209524, "link": "https://stackoverflow.com/questions/58209524/unsupported-top-level-event-type-ongesturehandlerstatechange-dispatched", "title": "Unsupported top level event type &quot;onGestureHandlerStateChange dispatched", "body": "<p><a href=\"https://i.stack.imgur.com/WHpsS.png\" rel=\"nofollow noreferrer\">Image</a></p>\n\n<p>The app crashes after trying to navigate, while using expo it doesnt crash, it only on production mode and using the apk builded through Expo</p>\n\n<p>I already deleted and installed the modules, and tried downgrading and updating react-navigation </p>\n\n<pre><code>\"react\": \"16.8.3\",\n\"react-native\": \"https://github.com/expo/react-native/archive/sdk-34.0.0.tar.gz\",\n\"react-native-datepicker\": \"^1.7.2\",\n\"react-native-dialog\": \"^5.5.0\",\n\"react-native-dialog-input\": \"^1.0.7\",\n\"react-native-root-toast\": \"^3.0.2\",\n\"react-native-snackbar\": \"^0.5.5\",\n\"react-native-table-component\": \"^1.2.0\",\n\"react-navigation\": \"^3.3.0\",\n\"react-redux\": \"^6.0.1\",\n</code></pre>\n\n<p>Unsupported top level event type \"onGestureHandlerStateChange\" dispatched</p>\n"}, {"tags": ["javascript", "npm", "webpack"], "comments": [{"owner": {"reputation": 5614, "user_id": 834114, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5a9420b4b37c4cc95ee09dcfcd6d1a9f?s=128&d=identicon&r=PG", "display_name": "madflow", "link": "https://stackoverflow.com/users/834114/madflow"}, "edited": false, "score": 0, "creation_date": 1570192298, "post_id": 58209450, "comment_id": 102845822, "body": "You can create a pull request on Github for this."}, {"owner": {"reputation": 31, "user_id": 11109281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd73865f0bb4ef6f168d08cf422c557d?s=128&d=identicon&r=PG&f=1", "display_name": "F. K&#246;zen", "link": "https://stackoverflow.com/users/11109281/f-k%c3%b6zen"}, "reply_to_user": {"reputation": 5614, "user_id": 834114, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5a9420b4b37c4cc95ee09dcfcd6d1a9f?s=128&d=identicon&r=PG", "display_name": "madflow", "link": "https://stackoverflow.com/users/834114/madflow"}, "edited": false, "score": 0, "creation_date": 1570622510, "post_id": 58209450, "comment_id": 102969596, "body": "@madflow Of course I can create a pull request for this but I can&#39;t create pull requests for each package that not using export. We can&#39;t wait until the request is confirmed, my request may not be confirmed or library may be complex and unable to edit. I mean my problem is not related only with cssua, it is related with every non-exported package."}, {"owner": {"reputation": 5614, "user_id": 834114, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5a9420b4b37c4cc95ee09dcfcd6d1a9f?s=128&d=identicon&r=PG", "display_name": "madflow", "link": "https://stackoverflow.com/users/834114/madflow"}, "edited": false, "score": 0, "creation_date": 1570627779, "post_id": 58209450, "comment_id": 102972686, "body": "Yeah :/  Can&#39;t you just use <code>import &#39;cssuseragent&#39;;</code> and use the globaly exported variable (if exists :/ )."}], "answers": [{"tags": [], "owner": {"reputation": 3325, "user_id": 774719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KUnkD.jpg?s=128&g=1", "display_name": "osdamv", "link": "https://stackoverflow.com/users/774719/osdamv"}, "is_accepted": false, "score": 0, "last_activity_date": 1570052579, "creation_date": 1570052579, "answer_id": 58209739, "question_id": 58209450, "link": "https://stackoverflow.com/questions/58209450/is-there-a-way-to-automatically-import-cssuseragent-or-any-non-exported-pack/58209739#58209739", "title": "Is there a way to automatically import &#39;cssuseragent&#39; (or any non-exported) package in webpack?", "body": "<p>I don't know of a webpack plugin that does that, but you can </p>\n\n<pre><code>// customExport.js\nimport { cssua } from 'cssuseragent';\nexport default { cssua };\n</code></pre>\n\n<p>in another file </p>\n\n<pre><code>// other_file,js\nimport customExport from \"customExport.js\";\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11109281, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd73865f0bb4ef6f168d08cf422c557d?s=128&d=identicon&r=PG&f=1", "display_name": "F. K&#246;zen", "link": "https://stackoverflow.com/users/11109281/f-k%c3%b6zen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570052579, "creation_date": 1570050861, "question_id": 58209450, "link": "https://stackoverflow.com/questions/58209450/is-there-a-way-to-automatically-import-cssuseragent-or-any-non-exported-pack", "title": "Is there a way to automatically import &#39;cssuseragent&#39; (or any non-exported) package in webpack?", "body": "<p>Current <a href=\"https://www.npmjs.com/package/cssuseragent\" rel=\"nofollow noreferrer\">cssuseragent</a> package (2.1.31) doesn't export anything. There is only one variable named cssua. I want import/require it into my project with webpack.</p>\n\n<p>I have tried to adding export keyword before cssua variable and it worked. But this is not a good solution. If anybody else upgrade the package in future, she/he won't know that s/he must do this.</p>\n\n<p>In CLI:</p>\n\n<pre><code>npm i cssuseragent\n</code></pre>\n\n<p>Then I export cssua variable:</p>\n\n<pre><code>//'export' was not exist, I added it\nexport var cssua = (\n//some code here\n)(/*some arguments here*/)\n</code></pre>\n\n<p>Then I can import:</p>\n\n<pre><code>import { cssua } from 'cssuseragent';\n</code></pre>\n\n<p>Is there any way to say \"If you resolve to this file in import/require, get it as 'custom-name' with its all content\" to webpack with a loader or plugin? Because changing source code of a 3rd party module is not a good way. Also it may not be as easy as this every time, the module can be huge. And I want a generic way to do this, maybe like adding just the path of module.</p>\n"}, {"tags": ["javascript", "mocha.js", "sinon", "chai-http"], "owner": {"reputation": 383, "user_id": 6771841, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/474a3750cbee8ea6bf5b8f4a47e0ea8e?s=128&d=identicon&r=PG&f=1", "display_name": "Ndx", "link": "https://stackoverflow.com/users/6771841/ndx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570256602, "creation_date": 1570050688, "last_edit_date": 1570256602, "question_id": 58209419, "link": "https://stackoverflow.com/questions/58209419/stubbing-route-callback-render-route-status-not-found", "title": "Stubbing route callback render route status not found", "body": "<p>I have a route </p>\n\n<pre><code>app.get(\"/test\", myControllers.controllerTest)\n</code></pre>\n\n<p>The controllerTest returns current time as result to query</p>\n\n<p>my route test file </p>\n\n<pre><code>  describe.(\"GET /test\", () =&gt; {\n    it(\"should return correct response\", done =&gt; {\n\n      sinon.stub(myControllers, \"controllerTest\").yields(null, {time:'fake-time'});\n\n      app = require(\"../../server\");\n\n      chai\n        .request(app)\n        .get(\"/test\")\n        .then(res =&gt; {\n          expect(res.status).to.equal(200);\n          expect(myControllers.controllerTest).to.have.been.calledOnce;\n          done();\n        })\n        .catch(err=&gt;{\n          done(err)\n        });\n    });\n  });\n</code></pre>\n\n<p>The test fails at it tells me route returned 404 instead of 200 after I stub the callback. </p>\n\n<p>note that using <code>spy</code> instead of <code>stub</code> works. But in this case, i need to use <code>stub</code></p>\n\n<p>What am I missing?</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>When stubbing the callback, I get error <code>cannot get /route</code>, It's  like the callback doesnt exist. it's same as executing <code>app.get('/test')</code></p>\n\n<p>Anyone have any idea how to stub the callback?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 459, "user_id": 3330207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0285bccce032918e31c7f51090eaa5c?s=128&d=identicon&r=PG&f=1", "display_name": "AFOC", "link": "https://stackoverflow.com/users/3330207/afoc"}, "edited": false, "score": 0, "creation_date": 1570056754, "post_id": 58209405, "comment_id": 102798052, "body": "Take a look at debouncing, you could prevent the function from being triggered more than once within a certain time frame. It&#39;s very useful for preventing input overload."}, {"owner": {"reputation": 2977, "user_id": 4272651, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000901707272/picture?type=large", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/4272651/prasanna"}, "edited": false, "score": 0, "creation_date": 1570056846, "post_id": 58209405, "comment_id": 102798074, "body": "It is always good to provide a <code>jsFiddle</code> in such cases. That way the people that are going to answer your question would not have to go through the process of copying and pasting everything in JSFiddle in the first place."}, {"owner": {"reputation": 319, "user_id": 11924879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4b069d830d9207f81480aba1da489c?s=128&d=identicon&r=PG&f=1", "display_name": "Mugs", "link": "https://stackoverflow.com/users/11924879/mugs"}, "reply_to_user": {"reputation": 459, "user_id": 3330207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0285bccce032918e31c7f51090eaa5c?s=128&d=identicon&r=PG&f=1", "display_name": "AFOC", "link": "https://stackoverflow.com/users/3330207/afoc"}, "edited": false, "score": 0, "creation_date": 1570057177, "post_id": 58209405, "comment_id": 102798149, "body": "@AFOC Never heard of that, i&#39;ll do some research. Thanks :)"}, {"owner": {"reputation": 319, "user_id": 11924879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4b069d830d9207f81480aba1da489c?s=128&d=identicon&r=PG&f=1", "display_name": "Mugs", "link": "https://stackoverflow.com/users/11924879/mugs"}, "edited": false, "score": 0, "creation_date": 1570057236, "post_id": 58209405, "comment_id": 102798165, "body": "@jsFoddle oh good idea, but Idk if its worth it if I can&#39;t upload images to JSfiddle because my project wont work without them :/"}, {"owner": {"reputation": 2977, "user_id": 4272651, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000901707272/picture?type=large", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/4272651/prasanna"}, "edited": false, "score": 2, "creation_date": 1570057706, "post_id": 58209405, "comment_id": 102798239, "body": "@Mugs you can upload your images to Imgur and then use it with a URL. I don&#39;t see the problem you are facing as I can not replicate the entire thing!   That doesn&#39;t mean I don&#39;t want to help. It takes time reading through others&#39; code. And I am sure the majority of people answering don&#39;t have hours worth of time reading through others&#39; code."}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 1, "creation_date": 1570058184, "post_id": 58209405, "comment_id": 102798328, "body": "If possible, please try to include only enough code to produce a demonstration of your issue. As it stands you&#39;ve posted a pretty big wall of code, however it&#39;s much easier to help when your question includes a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\"><b>minimal</b>, reproducible example</a>."}, {"owner": {"reputation": 319, "user_id": 11924879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4b069d830d9207f81480aba1da489c?s=128&d=identicon&r=PG&f=1", "display_name": "Mugs", "link": "https://stackoverflow.com/users/11924879/mugs"}, "reply_to_user": {"reputation": 2977, "user_id": 4272651, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000901707272/picture?type=large", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/4272651/prasanna"}, "edited": false, "score": 0, "creation_date": 1570059571, "post_id": 58209405, "comment_id": 102798591, "body": "@Prasanna Okay! Thanks for the help. I set it all up on JS Fiddle. Had no idea you could do that. Really appreciate the advice"}, {"owner": {"reputation": 319, "user_id": 11924879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4b069d830d9207f81480aba1da489c?s=128&d=identicon&r=PG&f=1", "display_name": "Mugs", "link": "https://stackoverflow.com/users/11924879/mugs"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1570059685, "post_id": 58209405, "comment_id": 102798604, "body": "@TylerRoper I moved the file to JS Fiddle and only left the necessary code to understand the problem. You can&#39;t really reproduce it without the project though because you need to use elements in the dom and its connected to a lot of other things in the project"}, {"owner": {"reputation": 319, "user_id": 11924879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4b069d830d9207f81480aba1da489c?s=128&d=identicon&r=PG&f=1", "display_name": "Mugs", "link": "https://stackoverflow.com/users/11924879/mugs"}, "reply_to_user": {"reputation": 4764, "user_id": 4375327, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/042f10749eae61fea5ac7994f23961ed?s=128&d=identicon&r=PG&f=1", "display_name": "Amessihel", "link": "https://stackoverflow.com/users/4375327/amessihel"}, "edited": false, "score": 0, "creation_date": 1570117894, "post_id": 58209405, "comment_id": 102820911, "body": "@Amessihel thanks for the tip"}], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 11924879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4b069d830d9207f81480aba1da489c?s=128&d=identicon&r=PG&f=1", "display_name": "Mugs", "link": "https://stackoverflow.com/users/11924879/mugs"}, "is_accepted": true, "score": 2, "last_activity_date": 1570209754, "last_edit_date": 1570209754, "creation_date": 1570209368, "answer_id": 58240713, "question_id": 58209405, "link": "https://stackoverflow.com/questions/58209405/spam-asynchronous-callbacks-breaking-my-settimeout-delay/58240713#58240713", "title": "spam asynchronous callbacks breaking my setTimeout delay", "body": "<p>Your logic is backward in setTimeout. You want to set swing equal to true automatically (which will prevent the if statement from executing) and inside the setTimeout callback you set it back to false. </p>\n\n<h2>- Heres the solution:</h2>\n\n<pre><code>let player = {\n       swing: false\n}\n</code></pre>\n\n<p>-</p>\n\n<pre><code>function pressOn(e) {\n    e.preventDefault();\n    let tempKey = (e.key == \" \") ? \"space\" : e.key;\n    keys[tempKey] = true;\n\n    if (keys['x'] &amp;&amp; player.swing == false) {\n\n        player.plane.style.backgroundImage = 'url(guts2.png)';\n        player.swing = true;\n\n        setTimeout(function () {\n\n            player.plane.style.backgroundImage = 'url(guts1.png)';\n            player.swing = false;\n\n        }, 1000);\n\n}\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 11924879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4b069d830d9207f81480aba1da489c?s=128&d=identicon&r=PG&f=1", "display_name": "Mugs", "link": "https://stackoverflow.com/users/11924879/mugs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 180, "favorite_count": 3, "accepted_answer_id": 58240713, "answer_count": 1, "score": 5, "last_activity_date": 1570209853, "creation_date": 1570050638, "last_edit_date": 1570209853, "question_id": 58209405, "link": "https://stackoverflow.com/questions/58209405/spam-asynchronous-callbacks-breaking-my-settimeout-delay", "title": "spam asynchronous callbacks breaking my setTimeout delay", "body": "<p>So my character div changes its background image when the player presses x which then kills the enemy if the character is touching the enemy. This image switch is to do a mock animation of swinging a sword.</p>\n\n<p>I used set timeout to delay switching the background image back to its original state. This works.</p>\n\n<p><strong>HOWEVER</strong> theirs a bug where if I spam x there is no longer a delay between the images switching and I hypothesize the reason having something to do with stacking asynchronous callbacks from the setTimeout function that gets invoked when the player spams x.  </p>\n\n<p>** SET TIMEOUT INVOKED IN THIS FUNCTION **</p>\n\n<pre><code>function pressOn(e) {\n    e.preventDefault();\n    let tempKey = (e.key == \" \") ? \"space\" : e.key;\n    keys[tempKey] = true;\n\n         if (keys['x'] &amp;&amp; player.swing == false){\n              player.plane.style.backgroundImage ='url(guts2.png)';\n                 setTimeout(function () {\n                 player.swing = true;\n                 }, 300);\n          }\n\n }\n</code></pre>\n\n<p>** REVERTS BACKGROUND IMAGE TO ORIGINAL **</p>\n\n<pre><code>function playGame() {\n   if (player.inplay) {\n\n       if (player.swing &amp;&amp; !keys['x']){\n             player.plane.style.backgroundImage ='url(guts1.png)';\n             player.swing = false;\n        }\n\n    window.requestAnimationFrame(playGame);\n    }\n}\n</code></pre>\n\n<p>** LINK TO JS FIDDLE FULL PROJECT **</p>\n\n<p><a href=\"https://jsfiddle.net/mugs17/sud2ojxy/17/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/mugs17/sud2ojxy/17/</a></p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 6142, "user_id": 8732818, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/WopVT.jpg?s=128&g=1", "display_name": "Calvin Nunes", "link": "https://stackoverflow.com/users/8732818/calvin-nunes"}, "edited": false, "score": 1, "creation_date": 1570050410, "post_id": 58209353, "comment_id": 102796481, "body": "What have you tried so far?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1570050465, "post_id": 58209353, "comment_id": 102796494, "body": "Two steps: First loop over the elements and add up all the counts to get a total. Then loop over the elements, calculate the percentarge, and replace the <code>count</code> property with the <code>percentage</code> property."}, {"owner": {"reputation": 597, "user_id": 1511193, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/trodc.jpg?s=128&g=1", "display_name": "vmrvictor", "link": "https://stackoverflow.com/users/1511193/vmrvictor"}, "edited": false, "score": 0, "creation_date": 1570050538, "post_id": 58209353, "comment_id": 102796509, "body": "status can only be added? or you can modify/delete existing status? are always positive/integer numbers? how much statuses can you have? whats the max value?"}], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 1, "last_activity_date": 1570050665, "creation_date": 1570050665, "answer_id": 58209413, "question_id": 58209353, "link": "https://stackoverflow.com/questions/58209353/compute-percentage-on-array-of-objects-dynamic-by-key/58209413#58209413", "title": "Compute percentage on array of objects (dynamic) by key", "body": "<p>You could get the sum of all counts and generate new objects with the percentage value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [{ status: 'init', count: 1000 }, { status: 'start', count: 2500 }, { status: 'done', count: 1500 }],\r\n    sum = data.reduce((s, { count }) =&gt; s + count, 0),\r\n    result = data.map(({ status, count }) =&gt; ({ status, percentage: count * 100 / sum }));\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1770, "user_id": 3667121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3N0g8.jpg?s=128&g=1", "display_name": "DedaDev", "link": "https://stackoverflow.com/users/3667121/dedadev"}, "is_accepted": false, "score": 1, "last_activity_date": 1570050823, "creation_date": 1570050823, "answer_id": 58209443, "question_id": 58209353, "link": "https://stackoverflow.com/questions/58209353/compute-percentage-on-array-of-objects-dynamic-by-key/58209443#58209443", "title": "Compute percentage on array of objects (dynamic) by key", "body": "<pre><code>const myArr = [\n   {'status':'init','count':1000},\n   {'status':'start','count':2500},\n   {'status':'done','count':1500}\n]\n\nconst total = myArr.reduce((a,i)=&gt; a + i.count ,0)\n\nconst final = myArr.map(e=&gt; ({...e, percentage: e.count * 100 / total})\n</code></pre>\n"}], "owner": {"reputation": 387, "user_id": 9156099, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8a3d9f727f8e639edfc936ec03c77fa6?s=128&d=identicon&r=PG&f=1", "display_name": "Nandy", "link": "https://stackoverflow.com/users/9156099/nandy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 58209413, "answer_count": 2, "score": 1, "last_activity_date": 1570061332, "creation_date": 1570050339, "last_edit_date": 1570061332, "question_id": 58209353, "link": "https://stackoverflow.com/questions/58209353/compute-percentage-on-array-of-objects-dynamic-by-key", "title": "Compute percentage on array of objects (dynamic) by key", "body": "<p>I have below array of object in javascript. The size of the array might vary if any new <code>status</code> key arrived.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>[\n    {'status':'init','count':1000},\n    {'status':'start','count':2500},\n    {'status':'done','count':1500}\n]\n</code></pre>\n\n<p>Need to get the output in below format. Basically the percentage across all objects within the array by the key.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>[\n    {'status':'init','percentage':20},\n    {'status':'start','percentage':50},\n    {'status':'done','percentage':30}\n]\n</code></pre>\n\n<p>Any help would be appreciated.</p>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1570050330, "post_id": 58209341, "comment_id": 102796455, "body": "WHY DO YOU WANT TO PARSE JS CODE WITH REGEX?"}, {"owner": {"reputation": 70, "user_id": 8537224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ioB1.jpg?s=128&g=1", "display_name": "rostegg", "link": "https://stackoverflow.com/users/8537224/rostegg"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1570050592, "post_id": 58209341, "comment_id": 102796527, "body": "Just for experiment"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1570050836, "post_id": 58209341, "comment_id": 102796614, "body": "Your experiment should reveal that regex is <i>terrible</i> for this job. You should be using an AST parser or at least something similar."}], "answers": [{"comments": [{"owner": {"reputation": 70, "user_id": 8537224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ioB1.jpg?s=128&g=1", "display_name": "rostegg", "link": "https://stackoverflow.com/users/8537224/rostegg"}, "edited": false, "score": 0, "creation_date": 1570051182, "post_id": 58209468, "comment_id": 102796723, "body": "Thanks, it&#39;s really helpful"}], "tags": [], "owner": {"reputation": 4157, "user_id": 2115971, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/zkMcT.jpg?s=128&g=1", "display_name": "richbai90", "link": "https://stackoverflow.com/users/2115971/richbai90"}, "is_accepted": true, "score": 2, "last_activity_date": 1570050953, "creation_date": 1570050953, "answer_id": 58209468, "question_id": 58209341, "link": "https://stackoverflow.com/questions/58209341/exclude-if-between-but-more-complex/58209468#58209468", "title": "Exclude if between, but more complex", "body": "<p>Use the multiline operator and change your lookbehind to an anchor like so</p>\n\n<pre><code>/^(const|let|var)\\s*([A-z0-9]+)?\\s*=\\s(function\\s*\\(([^)(]+|\\((?:[^)(]+|\\([^)(]*\\))*\\))*\\)|\\(([^)(]+|\\((?:[^)(]+|\\([^)(]*\\))*\\))*\\)\\s*\\=\\&gt;)\\s*\\{((?:[^}{]+|\\{[^}{]*\\}|[^}]|\\}(\\\"|\\'|\\`))*)*\\}/gm\n</code></pre>\n\n<p>See the output <a href=\"https://regex101.com/r/6eA0vr/10\" rel=\"nofollow noreferrer\">here</a></p>\n"}], "owner": {"reputation": 70, "user_id": 8537224, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ioB1.jpg?s=128&g=1", "display_name": "rostegg", "link": "https://stackoverflow.com/users/8537224/rostegg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 58209468, "answer_count": 1, "score": 0, "last_activity_date": 1570050953, "creation_date": 1570050282, "question_id": 58209341, "link": "https://stackoverflow.com/questions/58209341/exclude-if-between-but-more-complex", "title": "Exclude if between, but more complex", "body": "<p>So, i'm trying to make regex, which would parse all global functions declarations, stored in objects, for example, like this <code>const a = () =&gt; {}</code>  </p>\n\n<p>I make something like this:  </p>\n\n<p><code>/(?:const|let|var)\\s*([A-z0-9]+)?\\s*=\\s(function\\s*\\(([^)(]+|\\((?:[^)(]+|\\([^)(]*\\))*\\))*\\)|\\(([^)(]+|\\((?:[^)(]+|\\([^)(]*\\))*\\))*\\)\\s*\\=\\&gt;)\\s*\\{((?:[^}{]+|\\{[^}{]*\\}|[^}]|\\}(\\\"|\\'|\\</code> <code>))*)*\\}/g</code></p>\n\n<p>It work fine, but I got a problem with inner declaration (<a href=\"https://regex101.com/r/6eA0vr/9\" rel=\"nofollow noreferrer\">link</a>)  </p>\n\n<p>If link don't work: </p>\n\n<pre><code>const definedJsFunctionsAsObjectRegex = /(?:const|let|var)\\s*([A-z0-9]+)?\\s*=\\s(function\\s*\\(([^)(]+|\\((?:[^)(]+|\\([^)(]*\\))*\\))*\\)|\\(([^)(]+|\\((?:[^)(]+|\\([^)(]*\\))*\\))*\\)\\s*\\=\\&gt;)\\s*\\{((?:[^}{]+|\\{[^}{]*\\}|[^}]|\\}(\\\"|\\'|\\`))*)*\\}/g;\n\nconst str = `\nlet f = function(a,b) {\n  console.log(gdhfsgdfg);\n}\n\nconst f2 = (a,b,   d) =&gt; { blabla }\n\nlet f3 = function(){\n  fdgdhgf\n}\n\nfunction test() {\n    const inner = (t, b) =&gt; { im must be undetected}\n    const inner2 = function (a,b) {\n        im must be undetected too\n    }\n}\n\n// here checking for }\"\nfunction(fds) { obj = {} return \"}\" }\n\nfunction r () { obj = {}; a = []; }\n\nfunction a(){console.log('a')} function b(){console.log('b')}\n`;\n\nlet matches = [...str.matchAll(definedJsFunctionsAsObjectRegex)];\nconsole.log(matches)\n</code></pre>\n\n<p>So, any ideas, how to exclude inner functions declarations?  </p>\n\n<p>I'm tried negative lookahead (?!), but my experiments did not give the desired result.</p>\n"}, {"tags": ["javascript", "jquery", "html", "session", "button"], "comments": [{"owner": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1570051502, "post_id": 58209318, "comment_id": 102796829, "body": "look at event delegation"}, {"owner": {"reputation": 644, "user_id": 2022241, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/93883fc4c2eaef04e277eb7087a7da66?s=128&d=identicon&r=PG", "display_name": "kyrpav", "link": "https://stackoverflow.com/users/2022241/kyrpav"}, "reply_to_user": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1570053620, "post_id": 58209318, "comment_id": 102797372, "body": "from what i see after reload there is no event listener to the element for mouseover as it is before. what can i do to fix?"}, {"owner": {"reputation": 644, "user_id": 2022241, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/93883fc4c2eaef04e277eb7087a7da66?s=128&d=identicon&r=PG", "display_name": "kyrpav", "link": "https://stackoverflow.com/users/2022241/kyrpav"}, "reply_to_user": {"reputation": 5884, "user_id": 4283738, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/bcb938f3ad5a68706c055de350612b01?s=128&d=identicon&r=PG", "display_name": "joyBlanks", "link": "https://stackoverflow.com/users/4283738/joyblanks"}, "edited": false, "score": 0, "creation_date": 1570054025, "post_id": 58209318, "comment_id": 102797461, "body": "how do i add this event listener with jquery?"}], "answers": [{"tags": [], "owner": {"reputation": 644, "user_id": 2022241, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/93883fc4c2eaef04e277eb7087a7da66?s=128&d=identicon&r=PG", "display_name": "kyrpav", "link": "https://stackoverflow.com/users/2022241/kyrpav"}, "is_accepted": true, "score": 0, "last_activity_date": 1570061698, "creation_date": 1570061698, "answer_id": 58210838, "question_id": 58209318, "link": "https://stackoverflow.com/questions/58209318/restoring-button-in-table-inside-form-from-jquery-does-not-allow-hover-on-butto/58210838#58210838", "title": "restoring button in table inside form from jquery does not allow .hover on button to run", "body": "<p>it can be fixed if i use</p>\n\n<pre><code>$(document).on('keydown',\"&lt;selector&gt;\",function(){\n        // set the function\n});\n</code></pre>\n"}], "owner": {"reputation": 644, "user_id": 2022241, "user_type": "registered", "accept_rate": 49, "profile_image": "https://www.gravatar.com/avatar/93883fc4c2eaef04e277eb7087a7da66?s=128&d=identicon&r=PG", "display_name": "kyrpav", "link": "https://stackoverflow.com/users/2022241/kyrpav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 16, "favorite_count": 0, "accepted_answer_id": 58210838, "answer_count": 1, "score": 0, "last_activity_date": 1570061698, "creation_date": 1570050144, "question_id": 58209318, "link": "https://stackoverflow.com/questions/58209318/restoring-button-in-table-inside-form-from-jquery-does-not-allow-hover-on-butto", "title": "restoring button in table inside form from jquery does not allow .hover on button to run", "body": "<p>I have a table inside a form. In each row there is on column that has a button. This button has a hover function and opens a specific popover for this table row on focus.</p>\n\n<p>I am sending the form for validation and when page reloads i restore variables in the form. Every row of the table at reload is recreated with jquery in order to restore values in. </p>\n\n<p>The specific column with the buttons it has not thing to restore it is only created again with jquery and added to the table.</p>\n\n<p>At initial load of page the button works properly creating the popover.After validation and reload of the page the button .hover does not work and also the popover.</p>\n\n<p>this is what i have in html part for the specific field with the button:</p>\n\n<pre><code>&lt;td&gt;&lt;button type=\"button\" th:id=\"${code}\" class=\"btn btn-info showList\"  th:text=\"${code}\" th:value=\"${code}\"&gt;&lt;/button&gt;&lt;/td&gt;\n</code></pre>\n\n<p>this is what i am using in the jquery as string and i add it in a specific row with other tds where Code comes as variable from outside:</p>\n\n<pre><code>'&lt;td&gt;&lt;button type=\"button\" id=\"'+Code+'\" class=\"btn btn-info showList\" value=\"'+Code+'\"&gt;'+Code+'&lt;/button&gt;&lt;/td&gt;';\n</code></pre>\n\n<p>and this is the hover function which should trigger at first in order to see the popover on focus.</p>\n\n<pre><code>$(\".showList\").hover(function(){\n    var Code=$(this).val();\n    console.log(Code);\n    getMilestoneTaskList(Code,runPopover);\n});\n</code></pre>\n\n<p>What do i miss and the hover does not trigger when i create the button from jquery?</p>\n\n<p>Thank you</p>\n"}, {"tags": ["javascript", "getelementsbyclassname", "selectors-api"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1570050045, "post_id": 58209282, "comment_id": 102796365, "body": "Yes, you can address any element in the DOM, you don&#39;t need an ID. It&#39;s impossible to say <i>how</i> if you don&#39;t show what the HTML looks like, though."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 2, "creation_date": 1570050095, "post_id": 58209282, "comment_id": 102796376, "body": "Also, what was the problem with <code>querySelectorAll</code> or <code>getElementsByClassName</code>?"}, {"owner": {"reputation": 7914, "user_id": 2780711, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/yeJ7R.jpg?s=128&g=1", "display_name": "icecub", "link": "https://stackoverflow.com/users/2780711/icecub"}, "edited": false, "score": 0, "creation_date": 1570050223, "post_id": 58209282, "comment_id": 102796417, "body": "Could do <code>document.getElementsByName(&#39;1X&#39;)[0]</code> I guess. Assuming there aren&#39;t any other elements with the same name before the one you&#39;re trying to select."}, {"owner": {"reputation": 8286, "user_id": 668871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a7b5d337a6316aeb96e37963133281?s=128&d=identicon&r=PG", "display_name": "Matthemattics", "link": "https://stackoverflow.com/users/668871/matthemattics"}, "edited": false, "score": 0, "creation_date": 1570051516, "post_id": 58209282, "comment_id": 102796832, "body": "That might be a contrived example, but that input element is not actually a button. <code>type=&quot;2X&quot;</code> is not valid."}], "answers": [{"comments": [{"owner": {"reputation": 8286, "user_id": 668871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a7b5d337a6316aeb96e37963133281?s=128&d=identicon&r=PG", "display_name": "Matthemattics", "link": "https://stackoverflow.com/users/668871/matthemattics"}, "edited": false, "score": 0, "creation_date": 1570051816, "post_id": 58209344, "comment_id": 102796909, "body": "Why are you saying that attribute values need to begin with a letter? Can you explain your reasoning?"}, {"owner": {"reputation": 623, "user_id": 6364829, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/3da1ffc950d9c22a8d53bab05ad78a88?s=128&d=identicon&r=PG&f=1", "display_name": "fiter", "link": "https://stackoverflow.com/users/6364829/fiter"}, "reply_to_user": {"reputation": 8286, "user_id": 668871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a7b5d337a6316aeb96e37963133281?s=128&d=identicon&r=PG", "display_name": "Matthemattics", "link": "https://stackoverflow.com/users/668871/matthemattics"}, "edited": false, "score": 1, "creation_date": 1570052053, "post_id": 58209344, "comment_id": 102796981, "body": "Not me, HTML specification says that. You can find naming rules here: <a href=\"https://www.w3schools.com/tags/att_global_class.asp\" rel=\"nofollow noreferrer\">w3schools.com/tags/att_global_class.asp</a>"}, {"owner": {"reputation": 8286, "user_id": 668871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a7b5d337a6316aeb96e37963133281?s=128&d=identicon&r=PG", "display_name": "Matthemattics", "link": "https://stackoverflow.com/users/668871/matthemattics"}, "edited": false, "score": 0, "creation_date": 1570052419, "post_id": 58209344, "comment_id": 102797073, "body": "Something didn&#39;t sound right about this, so after a bit of googling, it looks like this constraint only applies when using a class as a CSS selector: <a href=\"https://benfrain.com/when-and-where-you-can-use-numbers-in-id-and-class-names/\" rel=\"nofollow noreferrer\">benfrain.com/&hellip;</a>"}, {"owner": {"reputation": 623, "user_id": 6364829, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/3da1ffc950d9c22a8d53bab05ad78a88?s=128&d=identicon&r=PG&f=1", "display_name": "fiter", "link": "https://stackoverflow.com/users/6364829/fiter"}, "reply_to_user": {"reputation": 8286, "user_id": 668871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a7b5d337a6316aeb96e37963133281?s=128&d=identicon&r=PG", "display_name": "Matthemattics", "link": "https://stackoverflow.com/users/668871/matthemattics"}, "edited": false, "score": 0, "creation_date": 1570053796, "post_id": 58209344, "comment_id": 102797413, "body": "*CSS specification says that. I think it&#39;s good practise to follow CSS specification."}, {"owner": {"reputation": 8286, "user_id": 668871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a7b5d337a6316aeb96e37963133281?s=128&d=identicon&r=PG", "display_name": "Matthemattics", "link": "https://stackoverflow.com/users/668871/matthemattics"}, "edited": false, "score": 0, "creation_date": 1570060372, "post_id": 58209344, "comment_id": 102798732, "body": "Sure. However, the css specification is only referring to class names, not all html attributes (which is what the answer currently implies). In modern html, it is perfectly acceptable to set any attribute (aside from <code>class</code>) to a value that begins with a non-letter (even an ID). As written, the answer is misleading."}], "tags": [], "owner": {"reputation": 623, "user_id": 6364829, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/3da1ffc950d9c22a8d53bab05ad78a88?s=128&d=identicon&r=PG&f=1", "display_name": "fiter", "link": "https://stackoverflow.com/users/6364829/fiter"}, "is_accepted": false, "score": 0, "last_activity_date": 1570050786, "last_edit_date": 1570050786, "creation_date": 1570050299, "answer_id": 58209344, "question_id": 58209282, "link": "https://stackoverflow.com/questions/58209282/how-can-i-use-javascript-to-click-a-button-that-has-no-id/58209344#58209344", "title": "How can I use Javascript to \u201cclick\u201d a button that has no ID?", "body": "<p>You can use element name:<br>\n<code>document.getElementsByName( '1X' )[0]</code> or <code>document.querySelector( '[name=\"1X\"]' )</code><br>\nOr any attribute:<br>\n<code>document.querySelector( '[data-role=\"5X\"]' )</code> </p>\n\n<p><code>getElementsByClassName</code> returns <code>HTMLCollection</code>, not single element. You can get access to single element in array-style:<br>\n<code>document.getElementsByClassName( '3X' )[0]</code><br>\nThe same thing is with <code>getElementsByName</code></p>\n\n<p>And make sure that your attribute values (class, name, etc.) <strong>begin with a letter, not a digit</strong></p>\n"}, {"tags": [], "owner": {"reputation": 8286, "user_id": 668871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a7b5d337a6316aeb96e37963133281?s=128&d=identicon&r=PG", "display_name": "Matthemattics", "link": "https://stackoverflow.com/users/668871/matthemattics"}, "is_accepted": true, "score": 1, "last_activity_date": 1570051682, "creation_date": 1570051682, "answer_id": 58209600, "question_id": 58209282, "link": "https://stackoverflow.com/questions/58209282/how-can-i-use-javascript-to-click-a-button-that-has-no-id/58209600#58209600", "title": "How can I use Javascript to \u201cclick\u201d a button that has no ID?", "body": "<p>Any element in the document can be selected using CSS selector syntax via:</p>\n\n<ul>\n<li><code>document.querySelector('css selector')</code> (returns the first matching element)</li>\n<li><code>document.querySelectorAll('css selector')</code> (returns all matching elements).</li>\n</ul>\n\n<p>To actually <em>click</em> the button, just call <code>click()</code> on the element, like so:</p>\n\n<pre><code>var button1X = document.querySelector('input[name=\"1X\"]');\nbutton1X.click();\n</code></pre>\n\n<p>For more details on querySelector/All: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector</a></p>\n"}], "owner": {"reputation": 13, "user_id": 12156072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6fd7ff79c62967079016c629d08511a?s=128&d=identicon&r=PG&f=1", "display_name": "Stacker7", "link": "https://stackoverflow.com/users/12156072/stacker7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1570088147, "accepted_answer_id": 58209600, "answer_count": 2, "score": 1, "last_activity_date": 1570134740, "creation_date": 1570049978, "last_edit_date": 1570134740, "question_id": 58209282, "link": "https://stackoverflow.com/questions/58209282/how-can-i-use-javascript-to-click-a-button-that-has-no-id", "closed_reason": "Not suitable for this site", "title": "How can I use Javascript to \u201cclick\u201d a button that has no ID?", "body": "<p>I'm trying to click a button without ID. Already tried document.querySelectorAll and document.getElementsByClassName with no success.</p>\n\n<p>The button code:</p>\n\n<pre><code>&lt;input name=\"1X\" type=\"2X\" class=\"3X\" style=\"width:160px;\" value=\"4X\" data-role=\"5X\" role=\"5X\" aria-disabled=\"false\" tabindex=\"0\"&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-native", "react-native-camera"], "comments": [{"owner": {"reputation": 3829, "user_id": 8182248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PD2aF.jpg?s=128&g=1", "display_name": "Kishan Bharda", "link": "https://stackoverflow.com/users/8182248/kishan-bharda"}, "edited": false, "score": 0, "creation_date": 1570123442, "post_id": 58209198, "comment_id": 102823333, "body": "Have you setted write permission?"}, {"owner": {"reputation": 95, "user_id": 6027071, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ekj8t6n4k0w/AAAAAAAAAAI/AAAAAAAAABI/Sl8zDH7zcBs/photo.jpg?sz=128", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/6027071/alejandro"}, "reply_to_user": {"reputation": 3829, "user_id": 8182248, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PD2aF.jpg?s=128&g=1", "display_name": "Kishan Bharda", "link": "https://stackoverflow.com/users/8182248/kishan-bharda"}, "edited": false, "score": 0, "creation_date": 1570127292, "post_id": 58209198, "comment_id": 102824964, "body": "Indeed. I just added an edit."}, {"owner": {"reputation": 1759, "user_id": 1890717, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/L5pc1.png?s=128&g=1", "display_name": "Menachem Hornbacher", "link": "https://stackoverflow.com/users/1890717/menachem-hornbacher"}, "edited": false, "score": 0, "creation_date": 1570127561, "post_id": 58209198, "comment_id": 102825099, "body": "Cool, this is one of my favorite features of react native, that it makes it super simple to ask for user permissions compared to the Java implementation :-)"}], "owner": {"reputation": 95, "user_id": 6027071, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ekj8t6n4k0w/AAAAAAAAAAI/AAAAAAAAABI/Sl8zDH7zcBs/photo.jpg?sz=128", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/6027071/alejandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 238, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570127350, "creation_date": 1570049534, "last_edit_date": 1570127350, "question_id": 58209198, "link": "https://stackoverflow.com/questions/58209198/take-picture-and-save-it-to-camera-roll", "title": "Take picture and save it to camera roll", "body": "<p>I want to take a picture in my Android app and save it to the camera roll. I'm using <code>CameraRoll</code> and <code>RNCamera</code> but the image is nowhere to be seen in the camera roll.</p>\n\n<p>The function is: </p>\n\n<pre><code>...\nimport { RNCamera } from \"react-native-camera\";\nimport { CameraRoll } from \"react-native\";\n...\n\nasync _takePicture() {\n    const data = await this.camera.takePictureAsync({\n      quality: 1.0,\n      base64: true,\n      orientation: \"portrait\",\n      fixOrientation: true\n    });\n    CameraRoll.saveToCameraRoll(data.uri, \"photo\");\n  }\n...\n</code></pre>\n\n<p><strong>Edit:</strong>\nI solved it by adding </p>\n\n<pre><code>const granted = await PermissionsAndroid.request(\n              PermissionsAndroid.PERMISSIONS.WRITE_EXTERNAL_STORAGE,\n              {\n                title: 'My App Storage Permission',\n                message: 'My App needs access to your storage ' +\n                  'so you can save your photos',\n              },\n            );\n</code></pre>\n\n<p>after <code>CameraRoll.saveToCameraRoll(data.uri, \"photo\");\n</code></p>\n"}, {"tags": ["javascript", "html", "node.js", "express"], "comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 2, "creation_date": 1570050240, "post_id": 58209189, "comment_id": 102796427, "body": "Your example might be intentionally contrived, but is there a reason to do this server-side?"}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 1, "creation_date": 1570060818, "post_id": 58209189, "comment_id": 102798811, "body": "OK--no problem. Can you more clearly state the requirements, though, because it&#39;s a bit unusual. For one, why not use ajax instead of redirecting? Thanks."}], "answers": [{"comments": [{"owner": {"reputation": 613, "user_id": 9856112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TsmTRYc25aY/AAAAAAAAAAI/AAAAAAAAADs/yehl3P_cyLw/photo.jpg?sz=128", "display_name": "Jackson", "link": "https://stackoverflow.com/users/9856112/jackson"}, "reply_to_user": {"reputation": 135, "user_id": 7488548, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fsafO.jpg?s=128&g=1", "display_name": "sukiyo", "link": "https://stackoverflow.com/users/7488548/sukiyo"}, "edited": false, "score": 1, "creation_date": 1570066478, "post_id": 58211155, "comment_id": 102799834, "body": "1. The script tags should work just inside the file. 2. You would need to add a parameter to the POST endpoint e.g. <code>app.post(&quot;&#47;numberMath&#47;:num&quot;)</code> look up express routing documentation: <a href=\"https://expressjs.com/en/guide/routing.html\" rel=\"nofollow noreferrer\">expressjs.com/en/guide/routing.html</a>  Routing Parameters."}], "tags": [], "owner": {"reputation": 613, "user_id": 9856112, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TsmTRYc25aY/AAAAAAAAAAI/AAAAAAAAADs/yehl3P_cyLw/photo.jpg?sz=128", "display_name": "Jackson", "link": "https://stackoverflow.com/users/9856112/jackson"}, "is_accepted": false, "score": 1, "last_activity_date": 1570065003, "creation_date": 1570065003, "answer_id": 58211155, "question_id": 58209189, "link": "https://stackoverflow.com/questions/58209189/how-to-send-post-request-to-app-js-after-pressing-submit-button-to-show-a-view-a/58211155#58211155", "title": "How to send POST request to app.js after pressing submit button to show a view and render the values?", "body": "<p>If you want the old and the new number to appear you should send through the two as different values on <code>render()</code></p>\n\n<pre><code>app.post(\"/numberMath\",function(req,res){\n  tempNum = num;\n  num++;\n  res.render(\"numberMath\", {\n    myNewNum: num,\n    myOldNum: tempNum\n  });\n});\n</code></pre>\n\n<p>On the front end you can use javascript to popup the old and new numbers:</p>\n\n<pre><code>&lt;script&gt;\n  alert(\"Old Num: \" + &lt;%= myOldNum %&gt; + \", New Num: \" + &lt;%= myNewNum %&gt;);\n&lt;/script&gt;\n</code></pre>\n\n<p>This will get the two calculated values to the front-end each time you push the <code>Formula</code> button.</p>\n"}], "owner": {"reputation": 135, "user_id": 7488548, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fsafO.jpg?s=128&g=1", "display_name": "sukiyo", "link": "https://stackoverflow.com/users/7488548/sukiyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570251618, "creation_date": 1570049505, "last_edit_date": 1570251618, "question_id": 58209189, "link": "https://stackoverflow.com/questions/58209189/how-to-send-post-request-to-app-js-after-pressing-submit-button-to-show-a-view-a", "title": "How to send POST request to app.js after pressing submit button to show a view and render the values?", "body": "<p>I have a number of value 0 on numberMath.ejs. My goal is to press a button. The button will display the view that shows the new value. The new value is calculated by a formula that I wrote in app.js. </p>\n"}, {"tags": ["javascript", "reactjs", "unit-testing", "mocking", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "edited": false, "score": 0, "creation_date": 1570059448, "post_id": 58209423, "comment_id": 102798568, "body": "Thanks, this seems to mostly work, with one caveat. It requires <b>every</b> test method to provide a mock implementation of the <code>randomNameGenerator</code> method - there&#39;s no &#39;default&#39; which falls back to the original implementation in the case where a mock has not been defined. I tried a few attempts at setting this up in the <code>jest.mock()</code> using <code>requireActual</code> but encountered scope access issues (<code>not allowed to reference any out-of-scope variables</code>)"}, {"owner": {"reputation": 3778, "user_id": 7513718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba452a56d54ef4303c0942266d091fd1?s=128&d=identicon&r=PG&f=1", "display_name": "El Aoutar Hamza", "link": "https://stackoverflow.com/users/7513718/el-aoutar-hamza"}, "reply_to_user": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "edited": false, "score": 0, "creation_date": 1570147830, "post_id": 58209423, "comment_id": 102831433, "body": "Yes, unfortunately looks like there isn&#39;t any official way of doing this, you may wanna check this on github: <a href=\"https://github.com/facebook/jest/issues/2649\" rel=\"nofollow noreferrer\">github.com/facebook/jest/issues/2649</a>"}], "tags": [], "owner": {"reputation": 3778, "user_id": 7513718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ba452a56d54ef4303c0942266d091fd1?s=128&d=identicon&r=PG&f=1", "display_name": "El Aoutar Hamza", "link": "https://stackoverflow.com/users/7513718/el-aoutar-hamza"}, "is_accepted": true, "score": 4, "last_activity_date": 1570050709, "creation_date": 1570050709, "answer_id": 58209423, "question_id": 58209173, "link": "https://stackoverflow.com/questions/58209173/mocking-simple-internal-function-using-jest-for-use-in-rendered-react-component/58209423#58209423", "title": "Mocking simple internal function using Jest for use in rendered React component", "body": "<p>You can mock the module by calling <code>jest.mock</code>, and then import it, then inside your tests you call <code>mockImplementation</code> to setup the right return value.</p>\n\n<pre><code>import React from 'react';\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom/extend-expect'\nimport App from './App';\n\nimport { randomNameGenerator } from \"./utils\";\n\njest.mock('./utils.js', () =&gt; ({ \n  randomNameGenerator: jest.fn()\n}));\n\ndescribe('test', () =&gt; {\n  it('allows Jest method mocking 1', () =&gt; {\n    randomNameGenerator.mockImplementation(() =&gt; \"Craig\");\n    const { getByText } = render(&lt;App /&gt;);\n    expect(getByText(\"Craig\")).toBeInTheDocument()\n  });\n\n  it('allows Jest method mocking 2', () =&gt; {\n    randomNameGenerator.mockImplementation(() =&gt; \"Not Craig\");\n    const { getByText } = render(&lt;App /&gt;);\n    expect(getByText(\"Not Craig\")).toBeInTheDocument()\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 27797, "user_id": 88111, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/6a285784d6695c4d2a503c7003f4af0f?s=128&d=identicon&r=PG", "display_name": "Craig Otis", "link": "https://stackoverflow.com/users/88111/craig-otis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1996, "favorite_count": 2, "accepted_answer_id": 58209423, "answer_count": 1, "score": 1, "last_activity_date": 1570050709, "creation_date": 1570049431, "question_id": 58209173, "link": "https://stackoverflow.com/questions/58209173/mocking-simple-internal-function-using-jest-for-use-in-rendered-react-component", "title": "Mocking simple internal function using Jest for use in rendered React component", "body": "<p>I have a simple React application with the following <code>App.js</code>, <code>App.test.js</code>, and <code>utils.js</code> files:</p>\n\n<p><strong>App.js</strong></p>\n\n<pre><code>import React from 'react';\nimport { randomNameGenerator } from './utils.js';\nimport './App.css';\n\nfunction App() {\n  return (\n    &lt;div&gt;\n      {randomNameGenerator()}\n    &lt;/div&gt;\n  );\n}\n\nexport default App;\n</code></pre>\n\n<p><strong>App.test.js</strong></p>\n\n<pre><code>import React from 'react';\nimport { render } from '@testing-library/react';\nimport '@testing-library/jest-dom/extend-expect'\nimport App from './App';\n\nit('allows Jest method mocking', () =&gt; {\n  const { getByText } = render(&lt;App /&gt;);\n  expect(getByText(\"Craig\")).toBeInTheDocument()\n});\n</code></pre>\n\n<p><strong>utils.js</strong></p>\n\n<pre><code>export function randomNameGenerator() {\n    return Math.floor((Math.random() * 2) + 1) == 1 ? 'Steve' : 'Bill';\n}\n\n</code></pre>\n\n<p>This is a simple example, but what I'm <em>trying to accomplish</em> is a Jest mock of the <code>randomNameGenerator()</code> function to only return <code>\"Craig\"</code> for that <strong>specific Jest test</strong>.</p>\n\n<p>I've followed a wide variety of tutorials/guides, but can't find anything that works - the closest (by \"feel\") that I've gotten was this (in <code>App.test.js</code>), which had no effect:</p>\n\n<pre><code>jest.doMock('./utils', () =&gt; {\n  const originalUtils = jest.requireActual('./utils');\n  return {\n    __esModule: true,\n    ...originalUtils,\n    randomNameGenerator: jest.fn(() =&gt; {\n      console.log('## Returning mocked typing duration!');\n      return 'Craig';\n    }),\n  };\n})\n</code></pre>\n\n<p><strong>The way it fails</strong> is expected:</p>\n\n<pre><code>Unable to find an element with the text: Craig. This could be because the text is broken up by multiple elements. In this case, you can provide a function for your text matcher to make your matcher more flexible.\n\n    &lt;body&gt;\n      &lt;div&gt;\n        &lt;div&gt;\n          Steve\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/body&gt;\n\n       6 | it('allows Jest method mocking', () =&gt; {\n       7 |   const { getByText } = render(&lt;App /&gt;);\n    &gt;  8 |   expect(getByText(\"Craig\")).toBeInTheDocument()\n         |          ^\n       9 | });\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "material-ui"], "comments": [{"owner": {"reputation": 42001, "user_id": 7495930, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BvE1j04g-0c/AAAAAAAAAAI/AAAAAAAAB34/GwTEooh9wPo/photo.jpg?sz=128", "display_name": "Ryan Cogswell", "link": "https://stackoverflow.com/users/7495930/ryan-cogswell"}, "edited": false, "score": 0, "creation_date": 1570050074, "post_id": 58209160, "comment_id": 102796371, "body": "Related answer: <a href=\"https://stackoverflow.com/questions/56400861/material-ui-theme-global-dense-setting/56447919#56447919\" title=\"material ui theme global dense setting\">stackoverflow.com/questions/56400861/&hellip;</a>"}, {"owner": {"reputation": 42001, "user_id": 7495930, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BvE1j04g-0c/AAAAAAAAAAI/AAAAAAAAB34/GwTEooh9wPo/photo.jpg?sz=128", "display_name": "Ryan Cogswell", "link": "https://stackoverflow.com/users/7495930/ryan-cogswell"}, "edited": false, "score": 0, "creation_date": 1570050122, "post_id": 58209160, "comment_id": 102796387, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/57359439/is-it-possible-to-override-material-ui-components-default-props\">Is it possible to override material-ui components default props?</a>"}], "answers": [{"comments": [{"owner": {"reputation": 680, "user_id": 1983734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fXFGB.jpg?s=128&g=1", "display_name": "Andrei Voicu", "link": "https://stackoverflow.com/users/1983734/andrei-voicu"}, "edited": false, "score": 0, "creation_date": 1570050486, "post_id": 58209308, "comment_id": 102796496, "body": "also created a working example: <a href=\"https://codesandbox.io/embed/cool-leftpad-kycsc\" rel=\"nofollow noreferrer\">codesandbox.io/embed/cool-leftpad-kycsc</a>"}], "tags": [], "owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "is_accepted": true, "score": 3, "last_activity_date": 1570054149, "last_edit_date": 1570054149, "creation_date": 1570050096, "answer_id": 58209308, "question_id": 58209160, "link": "https://stackoverflow.com/questions/58209160/how-to-create-a-customised-button-using-material-ui/58209308#58209308", "title": "How to create a customised Button using Material-UI?", "body": "<p>It looks like you can do this with configuring <code>globals</code>.</p>\n\n<p><a href=\"https://material-ui.com/customization/globals/#default-props\" rel=\"nofollow noreferrer\">Example form docs</a>:</p>\n\n<pre><code>const theme = createMuiTheme({\n  props: {\n    // Name of the component \u269b\ufe0f\n    MuiButtonBase: {\n      // The default props to change\n      disableRipple: true, // No more ripple, on the whole application \ud83d\udca3!\n    },\n  },\n});\n</code></pre>\n"}], "owner": {"reputation": 3881, "user_id": 659149, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8022cb5f529975afbc64cc9312008d8c?s=128&d=identicon&r=PG", "display_name": "Ricardo Sanchez", "link": "https://stackoverflow.com/users/659149/ricardo-sanchez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 58209308, "answer_count": 1, "score": -2, "last_activity_date": 1570054149, "creation_date": 1570049398, "question_id": 58209160, "link": "https://stackoverflow.com/questions/58209160/how-to-create-a-customised-button-using-material-ui", "title": "How to create a customised Button using Material-UI?", "body": "<p>Material-UI lets you use <code>withStyles()</code> to create a Button with a set of styles, but I wonder if it is at all possible to do the same but with <strong>props</strong> instead, so all the custom buttons I'm creating have the <code>disableRipple</code> set to <code>false</code>, instead of having to add the prop to each individual button.</p>\n\n<p>Hope that makes sense.</p>\n"}, {"tags": ["javascript", "firebase", "firebase-realtime-database", "firebase-security"], "answers": [{"tags": [], "owner": {"reputation": 1451, "user_id": 1087984, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/90160b45f2198fdbb06c417d2bdf2f53?s=128&d=identicon&r=PG", "display_name": "Kermit", "link": "https://stackoverflow.com/users/1087984/kermit"}, "is_accepted": false, "score": 0, "last_activity_date": 1586173809, "creation_date": 1586173809, "answer_id": 61059139, "question_id": 58209159, "link": "https://stackoverflow.com/questions/58209159/firebase-realtime-database-how-to-subscribe-to-database-additions/61059139#61059139", "title": "Firebase Realtime Database - How to subscribe to database additions?", "body": "<p>The above code works. The problem was in <code>dispatch(setnotes(notes))</code>.\nI accidentally did some extra checks that did not pass all notes to the array. :/ Therefore I dispatched the wrong data to the store. Dispatching the correct <code>updatednotes</code> solved the problem. /K</p>\n"}], "owner": {"reputation": 1451, "user_id": 1087984, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/90160b45f2198fdbb06c417d2bdf2f53?s=128&d=identicon&r=PG", "display_name": "Kermit", "link": "https://stackoverflow.com/users/1087984/kermit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1586173809, "creation_date": 1570049393, "last_edit_date": 1570376523, "question_id": 58209159, "link": "https://stackoverflow.com/questions/58209159/firebase-realtime-database-how-to-subscribe-to-database-additions", "title": "Firebase Realtime Database - How to subscribe to database additions?", "body": "<p>I have a collection of notes in my Firebase realtime database. \nMy clients subscribe to modifications in the <strong><em>/notes</em></strong> path of the database. \nBut when \"client A\" adds a new note the data is not pushed to \"client B\". </p>\n\n<pre><code>export const startSubscribeNotes = () =&gt; {\n  return (dispatch, getState) =&gt; {\n    const uid = getState().auth.uid\n\n    database.ref('notes')\n    .orderByChild(`access/members/${uid}`)\n    .equalTo(true)\n    .on('value', (snapshot) =&gt; {\n      console.log('notes .on()')\n      let updatednotes = []\n      snapshot.forEach( (data) =&gt; {\n        const note = {\n          id: data.key,\n          ...data.val()\n        }\n        updatednotes.push(note)\n      })\n      dispatch(setnotes(notes))\n    })\n  }\n}\n</code></pre>\n\n<p>My database structure\n<a href=\"https://i.stack.imgur.com/KtjNL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KtjNL.png\" alt=\"Database structure\"></a></p>\n\n<p>My Firebase access rules</p>\n\n<pre><code>\"notes\": {\n  \".indexOn\": [\"data/title\", \"access/author\"],      \n  //entry-level access\n  \".read\": \"\n    auth.uid !== null &amp;&amp; query.equalTo === auth.uid\n  \",\n  \"$note_id\": {\n    \".write\": \"\n      //If new data\n      (!data.exists() &amp;&amp; auth.uid !== null) ||\n      (\n        data.child('access').child('author').val() === auth.uid \n      ||\n        data.child('access/members').child(auth.uid).exists()\n      )\n    \",\n    \"data\": {\n      //access\n      \".read\": \"\n        //if author or assigned user\n        data.parent().child('access').child('author').val() === auth.uid ||\n        data.parent().child('access/members').child(auth.uid).exists()\n      \"\n    }\n  }\n}\n</code></pre>\n\n<p>The access rules above are meant to prevent clients from reading all \"notes\". </p>\n\n<p>However - A new note created by \"client A\" that \"client B\" <strong>has access to</strong> never gets pushed to \"client B\". If \"client B\" reloads the application the new note appears - but that defeats the purpose of subscriptions. </p>\n\n<p>How can I make sure that additions to the <strong>/notes</strong> node gets pushed to my clients with access rules in place?</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 119, "user_id": 2762334, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6f4d47743d11d59bc1b1640cc70e80a6?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dormi", "link": "https://stackoverflow.com/users/2762334/andrew-dormi"}, "edited": false, "score": 0, "creation_date": 1570083182, "post_id": 58209258, "comment_id": 102803102, "body": "Thank you for answering! The problem is that <code>[...items, 1]</code> is <code>Array</code> and not instance of <code>MyCustomArray</code> and i cant use overridden or own methods of  <code>MyCustomArray</code>"}], "tags": [], "owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "is_accepted": false, "score": 1, "last_activity_date": 1570066235, "last_edit_date": 1570066235, "creation_date": 1570049848, "answer_id": 58209258, "question_id": 58209120, "link": "https://stackoverflow.com/questions/58209120/why-react-does-not-trigger-component-update/58209258#58209258", "title": "Why react does not trigger component update?", "body": "<p>You need a new instance of items array, use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">the spread syntax</a>,</p>\n\n<pre><code>import React, { useState } from \"react\";\n\nclass MyCustomArray extends Array {\n  push(item) {\n    super.push(item);\n    return this;\n  }\n}\n\nexport default () =&gt; {\n  const [items, setItems] = useState(new MyCustomArray());\n\n  return (\n    &lt;div&gt;\n      {items.length}\n      &lt;button onClick={() =&gt; setItems([...items, 1])} /&gt;\n      //                              ^^^^^^^^^^^^^\n    &lt;/div&gt;\n  );\n};\n</code></pre>\n\n<p>Same thing if you want to use a <code>class</code> Component :</p>\n\n<pre><code>export default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { items: new MyCustomArray() };\n  }\n\n  updateItems = (item) =&gt; {\n    this.setState(prevState =&gt; ({\n      ...prevState,\n      items: [...prevState.items, item]\n    }));\n  }\n\n  render() {\n    const { items } = this.state;\n    return (\n      &lt;div&gt;\n        {items.length}\n        &lt;button onClick={() =&gt; this.updateItems(1)} /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 2762334, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6f4d47743d11d59bc1b1640cc70e80a6?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew Dormi", "link": "https://stackoverflow.com/users/2762334/andrew-dormi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570066235, "creation_date": 1570049121, "last_edit_date": 1570049681, "question_id": 58209120, "link": "https://stackoverflow.com/questions/58209120/why-react-does-not-trigger-component-update", "title": "Why react does not trigger component update?", "body": "<p>I have custom list with custom methods. Trying to change list and call setState does not trigger component update</p>\n\n<pre><code>import React, {useState} from \"react\";\n\nclass MyCustomArray extends Array {\n    push(item) {\n        super.push(item);\n        return this;\n    }\n}\n\nexport default () =&gt; {\n    const [items, setItems] = useState(new MyCustomArray());\n    console.log(items)\n    return (\n        &lt;div&gt;\n            {items.length}\n            &lt;button onClick={() =&gt; setItems(items.push(1))}/&gt;\n        &lt;/div&gt;\n    );\n}\n</code></pre>\n\n<p>I have tried same method using class component instead of function and it works. </p>\n\n<pre><code>import React, {Component} from \"react\";\n\nclass MyCustomArray extends Array {\n    push(item) {\n        super.push(item);\n        return this;\n    }\n}\n\nexport default class App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {items: new MyCustomArray()};\n    }\n\n    render() {\n        const {items} = this.state;\n        return (\n            &lt;div&gt;\n                {items.length}\n                &lt;button onClick={() =&gt; this.setState({items: items.push(1)})}/&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1818, "user_id": 10210841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bue02.jpg?s=128&g=1", "display_name": "Rojo", "link": "https://stackoverflow.com/users/10210841/rojo"}, "edited": false, "score": 0, "creation_date": 1570049135, "post_id": 58209092, "comment_id": 102796061, "body": "Do you receive any errors through any console?"}, {"owner": {"reputation": 205, "user_id": 9926510, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2W1tqf_2Mg4/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3qPer4ww8UlzpUIIaDwMdzP9-zkQ/mo/photo.jpg?sz=128", "display_name": "David Ko", "link": "https://stackoverflow.com/users/9926510/david-ko"}, "edited": false, "score": 0, "creation_date": 1570049179, "post_id": 58209092, "comment_id": 102796084, "body": "if you do console.log(typeof dest[0].dataset.data), do you get a string or boolean?"}, {"owner": {"reputation": 579, "user_id": 3094783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13974587bd73a2e45f9b8c4040fa2639?s=128&d=identicon&r=PG", "display_name": "Synthetx", "link": "https://stackoverflow.com/users/3094783/synthetx"}, "edited": false, "score": 1, "creation_date": 1570049500, "post_id": 58209092, "comment_id": 102796168, "body": "According to the specs all dataset values are converted to string so you need to test &quot;true&quot; or &quot;false&quot;: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLOrForeignElement/dataset\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/HTMLOrForeignElemen&zwnj;&#8203;t/&hellip;</a>"}, {"owner": {"reputation": 41, "user_id": 10081319, "user_type": "registered", "profile_image": "https://graph.facebook.com/271514593603986/picture?type=large", "display_name": "Hunter Forest", "link": "https://stackoverflow.com/users/10081319/hunter-forest"}, "reply_to_user": {"reputation": 205, "user_id": 9926510, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2W1tqf_2Mg4/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3qPer4ww8UlzpUIIaDwMdzP9-zkQ/mo/photo.jpg?sz=128", "display_name": "David Ko", "link": "https://stackoverflow.com/users/9926510/david-ko"}, "edited": false, "score": 0, "creation_date": 1570049893, "post_id": 58209092, "comment_id": 102796311, "body": "@davidKo oddly it comes up as undefined, but dest[0] definitely exists on the page with a data attribute set to &quot;passable&quot;. If it helps I&#39;m hosting this on www.erdesigns.co.uk \ud83d\udc40"}, {"owner": {"reputation": 41, "user_id": 10081319, "user_type": "registered", "profile_image": "https://graph.facebook.com/271514593603986/picture?type=large", "display_name": "Hunter Forest", "link": "https://stackoverflow.com/users/10081319/hunter-forest"}, "reply_to_user": {"reputation": 579, "user_id": 3094783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13974587bd73a2e45f9b8c4040fa2639?s=128&d=identicon&r=PG", "display_name": "Synthetx", "link": "https://stackoverflow.com/users/3094783/synthetx"}, "edited": false, "score": 0, "creation_date": 1570049949, "post_id": 58209092, "comment_id": 102796335, "body": "@Synthetx I&#39;m passing through &quot;true&quot; now but still undefined. That was no doubt one of the problems though! (thanks)"}], "answers": [{"comments": [{"owner": {"reputation": 579, "user_id": 3094783, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13974587bd73a2e45f9b8c4040fa2639?s=128&d=identicon&r=PG", "display_name": "Synthetx", "link": "https://stackoverflow.com/users/3094783/synthetx"}, "edited": false, "score": 0, "creation_date": 1570050043, "post_id": 58209145, "comment_id": 102796364, "body": "You beat me to it :)  I would suggest adding a link to the reference docs as it&#39;s well explained in there too (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLOrForeignElement/dataset\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/HTMLOrForeignEleme&zwnj;&#8203;nt/&hellip;</a>)"}, {"owner": {"reputation": 41, "user_id": 10081319, "user_type": "registered", "profile_image": "https://graph.facebook.com/271514593603986/picture?type=large", "display_name": "Hunter Forest", "link": "https://stackoverflow.com/users/10081319/hunter-forest"}, "edited": false, "score": 0, "creation_date": 1570050612, "post_id": 58209145, "comment_id": 102796533, "body": "Thanks for the reply! After updating the code it&#39;s actually constantly returning &quot;yes!&quot; even on tiles where passable=&quot;false&quot;. Not sure where it thinks the &quot;true&quot; is coming from if it&#39;s looking directly at the passable data attribute!"}], "tags": [], "owner": {"reputation": 6074, "user_id": 9132049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-s4THmh4Z9p4/AAAAAAAAAAI/AAAAAAAAAJY/MEXx5ikQuWk/photo.jpg?sz=128", "display_name": "Luis felipe De jesus Munoz", "link": "https://stackoverflow.com/users/9132049/luis-felipe-de-jesus-munoz"}, "is_accepted": false, "score": 3, "last_activity_date": 1570049855, "last_edit_date": 1570049855, "creation_date": 1570049282, "answer_id": 58209145, "question_id": 58209092, "link": "https://stackoverflow.com/questions/58209092/how-can-i-choose-an-elements-dataset-based-on-a-function-parameter/58209145#58209145", "title": "How can I choose an element&#39;s dataset based on a function parameter?", "body": "<p>You need to use <code>dest[0].dataset[data]</code> instead of <code>dest[0].dataset.data</code>\nand cast your bool variable to string<code>bool.toString()</code></p>\n\n<p><strong>Why?</strong></p>\n\n<p><code>data</code> is a dynamic property, and to call it you need to use brackets <code>[]</code></p>\n\n<p>An object has 2 ways of calling their properties:</p>\n\n<ul>\n<li>Using <code>.</code> when you know the specific property called</li>\n<li>Using <code>[]</code> when you have an expression (i.e a variable with the property name)</li>\n</ul>\n\n<p>When using <code>dataset</code> properties, these are evaluated as strings.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function checkTileData(tile,data, bool){\r\n    var dest = document.querySelectorAll('[data-number=\"'+tile+'\"]');\r\n    if (dest[0].dataset[data] == bool.toString()){\r\n        return \"yes!\";\r\n    } else {\r\n        return \"no\";\r\n    }\r\n}\r\n\r\nconsole.log(checkTileData(25,\"passable\",true));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tile\" data-tile=\"floor\" data-number=\"25\" data-passable=\"true\" data-row=\"3\" data-col=\"5\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 10081319, "user_type": "registered", "profile_image": "https://graph.facebook.com/271514593603986/picture?type=large", "display_name": "Hunter Forest", "link": "https://stackoverflow.com/users/10081319/hunter-forest"}, "edited": false, "score": 0, "creation_date": 1570132634, "post_id": 58209393, "comment_id": 102827177, "body": "I&#39;ve tried both methods and can confirm they work! Must say the alternative is a great way to tackle this. Much appreciated!"}], "tags": [], "owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "is_accepted": true, "score": 2, "last_activity_date": 1570071515, "last_edit_date": 1570071515, "creation_date": 1570050537, "answer_id": 58209393, "question_id": 58209092, "link": "https://stackoverflow.com/questions/58209092/how-can-i-choose-an-elements-dataset-based-on-a-function-parameter/58209393#58209393", "title": "How can I choose an element&#39;s dataset based on a function parameter?", "body": "<p>First of all, you need to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Property_Accessors#Bracket_notation\" rel=\"nofollow noreferrer\">bracket notation</a> to access the property of an object when the property that you want to access is stored in a variable, for example, like:</p>\n\n<pre><code>dest[0].dataset[data]\n</code></pre>\n\n<p>Then, you need to notice that all the values stored on the <code>dataset</code> object are <code>strings</code>, so you can't compare they directly with a boolean value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function showTileData(tile)\r\n{\r\n    let dest = document.querySelectorAll('[data-number=\"'+tile+'\"]');\r\n\r\n    for (const key in dest[0].dataset)\r\n        console.log(dest[0].dataset[key], typeof dest[0].dataset[key]);\r\n}\r\n\r\nshowTileData(25);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console {background-color:black !important; color:lime;}\r\n.as-console-wrapper {max-height:100% !important; top:0;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tile\" data-tile=\"floor\" data-number=\"25\" data-passable=\"true\" data-row=\"3\" data-col=\"5\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Instead, you can pass a string on the <code>bool</code> variable, as</p>\n\n<pre><code>checkTileData(25,\"passable\",\"true\")\n</code></pre>\n\n<h1>Example:</h1>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function checkTileData(tile, data, bool)\r\n{\r\n    let dest = document.querySelectorAll('[data-number=\"'+tile+'\"]');\r\n\r\n    if (dest[0].dataset[data] == bool)\r\n        return \"yes!\";\r\n    else\r\n        return \"no\";\r\n}\r\n\r\nconsole.log(checkTileData(25, \"passable\", \"true\"));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console {background-color:black !important; color:lime;}\r\n.as-console-wrapper {max-height:100% !important; top:0;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tile\" data-tile=\"floor\" data-number=\"25\" data-passable=\"true\" data-row=\"3\" data-col=\"5\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h1>Alternative:</h1>\n\n<p>However, there is an alternative to do all the checks inside the <code>querySelectorAll()</code> method. In the next example, I'm going to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">template literals</a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function checkTileData(tile, data, bool)\r\n{\r\n    let dest = document.querySelectorAll(`[data-number=\"${tile}\"][data-${data}=\"${bool}\"]`);\r\n    return (dest.length ? \"yes!\" : \"no\");\r\n}\r\n\r\nconsole.log(checkTileData(25, \"passable\", true));\r\nconsole.log(checkTileData(25, \"row\", 22));\r\nconsole.log(checkTileData(25, \"col\", 5));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console {background-color:black !important; color:lime;}\r\n.as-console-wrapper {max-height:100% !important; top:0;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tile\" data-tile=\"floor\" data-number=\"25\" data-passable=\"true\" data-row=\"3\" data-col=\"5\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 41, "user_id": 10081319, "user_type": "registered", "profile_image": "https://graph.facebook.com/271514593603986/picture?type=large", "display_name": "Hunter Forest", "link": "https://stackoverflow.com/users/10081319/hunter-forest"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 58209393, "answer_count": 2, "score": 2, "last_activity_date": 1570071515, "creation_date": 1570048982, "last_edit_date": 1570051668, "question_id": 58209092, "link": "https://stackoverflow.com/questions/58209092/how-can-i-choose-an-elements-dataset-based-on-a-function-parameter", "title": "How can I choose an element&#39;s dataset based on a function parameter?", "body": "<p>I need to be able to pass a variable through a function and then let that variable decide which data from the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLOrForeignElement/dataset\" rel=\"nofollow noreferrer\">dataset</a> will be used.</p>\n\n<p>I pass through the element to target, the data within the <code>dataset</code> I want to check, and finally <code>true/false</code>.</p>\n\n<pre><code>function checkTileData(tile, data, bool)\n{\n    let dest = document.querySelectorAll('[data-number=\"'+tile+'\"]');\n\n    if (dest[0].dataset.data == bool) {\n        return \"yes!\";\n    } else {\n        return \"no\";\n    }\n}\n\nconsole.log(checkTileData(25,\"passable\",true));\n</code></pre>\n\n<p>I'm trying to check if the <code>data-passable</code> attribute is equal to <code>true</code>. Here is the target element:</p>\n\n<pre><code>&lt;div class=\"tile\" data-tile=\"floor\" data-number=\"25\" data-passable=\"true\" data-row=\"3\" data-col=\"5\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Yet the function always returns <code>\"no\"</code>, even with <code>data-passable=\"true\"</code> on the target element. Thanks.</p>\n"}, {"tags": ["javascript", "chart.js", "vue-chartjs"], "answers": [{"comments": [{"owner": {"reputation": 2109, "user_id": 1038554, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d848e0ba9a156cce66a9cbbcbedf35c1?s=128&d=identicon&r=PG", "display_name": "Fylix", "link": "https://stackoverflow.com/users/1038554/fylix"}, "edited": false, "score": 1, "creation_date": 1570117297, "post_id": 58215849, "comment_id": 102820627, "body": "Thank you it works... this is way more simpler, i actually tried this padding but I did not realize it has to be chartjs 2.7 or higher.  Thanks."}], "tags": [], "owner": {"reputation": 11202, "user_id": 3775731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac52dbfc7688e1cc009d692118541469?s=128&d=identicon&r=PG", "display_name": "timclutton", "link": "https://stackoverflow.com/users/3775731/timclutton"}, "is_accepted": true, "score": 1, "last_activity_date": 1570093798, "creation_date": 1570093798, "answer_id": 58215849, "question_id": 58209089, "link": "https://stackoverflow.com/questions/58209089/chartjs-xaxis-label-position/58215849#58215849", "title": "ChartJS xAxis label position", "body": "<p>Chart.js implements a <code>padding</code> property in the <a href=\"https://www.chartjs.org/docs/latest/axes/cartesian/#tick-configuration\" rel=\"nofollow noreferrer\"><code>ticks</code></a> object for this:</p>\n\n<blockquote>\n  <p>Padding between the tick label and the axis. When set on a vertical axis, this applies in the horizontal (X) direction. When set on a horizontal axis, this applies in the vertical (Y) direction.</p>\n</blockquote>\n\n<p>Here's a working example with the x-axis labels offset 20px down from the line:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Chart(document.getElementById(\"chart\"), {\r\n  type: \"bar\",\r\n  data: {\r\n    labels: [\"Blue\", \"Red\", \"Green\", \"Orange\", \"Purple\"],\r\n    datasets: [{\r\n      data: [0, 1, 2, 3, 4]\r\n    }]\r\n  },\r\n  options: {\r\n    maintainAspectRatio: false,\r\n    scales: {\r\n      xAxes: [{\r\n        ticks: {\r\n          padding: 20\r\n        }\r\n      }]\r\n    }\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js\"&gt;&lt;/script&gt;\r\n&lt;div style=\"height:200px;width:200px\"&gt;\r\n  &lt;canvas id=\"chart\"&gt;&lt;/canvas&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2109, "user_id": 1038554, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/d848e0ba9a156cce66a9cbbcbedf35c1?s=128&d=identicon&r=PG", "display_name": "Fylix", "link": "https://stackoverflow.com/users/1038554/fylix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7865, "favorite_count": 0, "accepted_answer_id": 58215849, "answer_count": 1, "score": 3, "last_activity_date": 1570093798, "creation_date": 1570048966, "question_id": 58209089, "link": "https://stackoverflow.com/questions/58209089/chartjs-xaxis-label-position", "title": "ChartJS xAxis label position", "body": "<p>I have a ChartJS that display the label as slanted when you resize the window to smaller size.</p>\n\n<p><a href=\"https://i.stack.imgur.com/3PECQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3PECQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>What I want to do is to lower the X-labels down a bit vertically so they are not as close to the base of the graph if possible.</p>\n\n<p>After googling around, it looks like I can disable the tick display for x-Axis and use the option's animation to do this manually.  I tried to implement this in the following <a href=\"https://jsfiddle.net/2jc13qwx/\" rel=\"nofollow noreferrer\">fiddle</a>.</p>\n\n<pre><code>    animation: {\n      duration: 1,\n      onComplete: function() {\n        var chartInstance = this.chart;\n        this.data.datasets.forEach(function(dataset, i) {\n          var meta = chartInstance.controller.getDatasetMeta(i);\n          meta.data.forEach(function(bar, index) {\n\n            var label = bar._model.label;\n            var xOffset = bar._model.x;\n            var yOffset = bar._model.y;\n            ctx.fillText(label, xOffset, 420);\n          });\n        });\n      }\n    },\n</code></pre>\n\n<p>However, I can't get the label to scale properly when I resize the window.  Can you help?</p>\n"}, {"tags": ["javascript", "html", "forms", "onsubmit"], "comments": [{"owner": {"reputation": 783, "user_id": 4552899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L71dA.jpg?s=128&g=1", "display_name": "Lucas Arbex", "link": "https://stackoverflow.com/users/4552899/lucas-arbex"}, "edited": false, "score": 2, "creation_date": 1570048763, "post_id": 58209039, "comment_id": 102795913, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1357118/event-preventdefault-vs-return-false\">event.preventDefault() vs. return false</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1818, "user_id": 10210841, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Bue02.jpg?s=128&g=1", "display_name": "Rojo", "link": "https://stackoverflow.com/users/10210841/rojo"}, "is_accepted": true, "score": 1, "last_activity_date": 1570049019, "creation_date": 1570049019, "answer_id": 58209100, "question_id": 58209039, "link": "https://stackoverflow.com/questions/58209039/how-do-i-prevent-my-page-from-reloading-im-in-html-and-i-did-suggested-method/58209100#58209100", "title": "How do I prevent my page from reloading? (I&#39;m in HTML and I did suggested methods but it did not work)", "body": "<p>Have you tried to put <code>return false;</code> in your <code>save()</code> function?</p>\n"}], "owner": {"reputation": 23, "user_id": 10933505, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1YtUIfmb8bg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbeqTEb3evWBpuzEbDjYRRx0MIDPA/mo/photo.jpg?sz=128", "display_name": "nschuck33", "link": "https://stackoverflow.com/users/10933505/nschuck33"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 58209100, "answer_count": 1, "score": 2, "last_activity_date": 1570049351, "creation_date": 1570048686, "last_edit_date": 1570049351, "question_id": 58209039, "link": "https://stackoverflow.com/questions/58209039/how-do-i-prevent-my-page-from-reloading-im-in-html-and-i-did-suggested-method", "title": "How do I prevent my page from reloading? (I&#39;m in HTML and I did suggested methods but it did not work)", "body": "<p>My page is reloaded after I press the enter key, and I don't want that to happen. I am not using jQuery. I saw in other places that if I typed <code>return false</code> in my <code>onSubmit</code>, then it will not reload. This did not work for me.</p>\n\n<pre><code>    &lt;form onsubmit=\"save(); return false\" id=\"form\"&gt;\n        Type Here: &lt;input type=\"text\" id=\"inInput\"&gt;\n    &lt;/form&gt;\n</code></pre>\n\n<p>This is the <code>save()</code> function. It is in my javascript.</p>\n\n<pre><code>        function save()\n        {\n            savedVar = document.getElementById(\"inInput\").value;\n            document.getElementById(\"myDiv\").style.display = \"block\";\n            document.getElementById(\"printer\").innerHTML = savedVar;\n            clearInput();\n            if (curOp == \"v\")\n            {\n                vowelDo();\n            }\n            else if (curOp == \"t\")\n            {\n                translaterDo();\n            }\n        }\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "filter", "nested-object"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5940189"}, "edited": false, "score": 2, "creation_date": 1570048415, "post_id": 58208961, "comment_id": 102795808, "body": "If the properties structure is constant, looping over and then checking for a match is fairly trivial"}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 2, "creation_date": 1570048519, "post_id": 58208961, "comment_id": 102795844, "body": "Can you add what you have tried so far? Also, can you post a valid javascript definition of your object?"}, {"owner": {"reputation": 299, "user_id": 8522675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DiRn.jpg?s=128&g=1", "display_name": "RonanFelipe", "link": "https://stackoverflow.com/users/8522675/ronanfelipe"}, "edited": false, "score": 0, "creation_date": 1570111583, "post_id": 58208961, "comment_id": 102817537, "body": "I tried to simplify because it&#39;s a big json. Looks like I ended messing up with the indentation."}], "answers": [{"tags": [], "owner": {"reputation": 680, "user_id": 1983734, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fXFGB.jpg?s=128&g=1", "display_name": "Andrei Voicu", "link": "https://stackoverflow.com/users/1983734/andrei-voicu"}, "is_accepted": false, "score": 1, "last_activity_date": 1570049535, "creation_date": 1570049535, "answer_id": 58209199, "question_id": 58208961, "link": "https://stackoverflow.com/questions/58208961/how-to-filter-a-nested-nested-object-in-javascript/58209199#58209199", "title": "How to filter a nested, nested object in JavaScript?", "body": "<p>Added a solution to the problem, you are highly dependent on the data structure, and if it changes the solution will need to be altered.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const toFilter = {\r\n  value: 'something',\r\n  data: [\r\n    {\r\n      player: 'simple name',\r\n      properties: {\r\n        age: '',\r\n        favouriteColour: [\r\n          {\r\n            a: '1',\r\n            b: '2',\r\n            c: [\r\n              {\r\n                0: 'Problem 1',\r\n                1: 'Problem 2'\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    },\r\n    {\r\n      player: 'simple name',\r\n      properties: {\r\n        age: '',\r\n        favouriteColour: [\r\n          {\r\n            a: '1',\r\n            b: '2',\r\n            c: [\r\n              {\r\n                1: 'Problem 2'\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  ]\r\n}\r\n\r\nconst filtered = toFilter.data.reduce((acc, el) =&gt; {\r\n  // hightly dependand on the data structure\r\n  const colors = Object.values(el.properties.favouriteColour[0].c[0])\r\n  const isValid = colors.includes('Problem 1')\r\n  if (isValid) acc.push(el)\r\n\r\n  return acc\r\n}, [])\r\n\r\nconsole.log('filtered:', filtered)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 12064727, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5be0300a987db9c6e9a82d7755a1cb0?s=128&d=identicon&r=PG&f=1", "display_name": "chyeaaah", "link": "https://stackoverflow.com/users/12064727/chyeaaah"}, "is_accepted": false, "score": 0, "last_activity_date": 1570049921, "creation_date": 1570049921, "answer_id": 58209272, "question_id": 58208961, "link": "https://stackoverflow.com/questions/58208961/how-to-filter-a-nested-nested-object-in-javascript/58209272#58209272", "title": "How to filter a nested, nested object in JavaScript?", "body": "<p>Think about it. It's actually quite simple.</p>\n\n<p>I assume this will ultimately become a JSON structure. With that in mind, the problem is that in JSON you can't go upwards from child to parent; you can only go downwards from parent to child.</p>\n\n<p>Therefore, you need really only to iterate through the data object and look at each player object. For each player object, check if <code>properties.favoriteColour</code> contains the item <code>\"Problem 1\"</code>. If it does, note the other attributes you want of that player object, or copy it altogether to store somewhere, depending what you ultimately want to do with it.</p>\n"}], "owner": {"reputation": 299, "user_id": 8522675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7DiRn.jpg?s=128&g=1", "display_name": "RonanFelipe", "link": "https://stackoverflow.com/users/8522675/ronanfelipe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 273, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1570049921, "creation_date": 1570048205, "question_id": 58208961, "link": "https://stackoverflow.com/questions/58208961/how-to-filter-a-nested-nested-object-in-javascript", "title": "How to filter a nested, nested object in JavaScript?", "body": "<p>I have this object:   </p>\n\n<pre><code>{\n  value: \"something\",\n  data:  Array[{\n     player: \"simple name\",\n     properties: {\n        age: \"\",\n        favouriteColour: Array[{\n           a: \"1\", \n           b: \"2\",\n           c: Array[{\n              0: \"Problem 1\",\n              1: \"Problem 2\"\n           }],\n        },]\n     } \n  },{\n     player: \"simple name\",\n     properties: {\n        age: \"\",\n        favouriteColour: Array[{\n           a: \"1\", \n           b: \"2\",\n           c: Array[{\n              1: \"Problem 2\"\n           }],\n        },]\n     } \n  },\n ]\n}\n</code></pre>\n\n<p>I want to get only the objects where there is the value \"Problem 1\". Right now I have this structure in an Array with 641 player objects to check and only bring the one with \"Problem 1\".</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 268354, "user_id": 4909087, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/LmD3e.png?s=128&g=1", "display_name": "cs95", "link": "https://stackoverflow.com/users/4909087/cs95"}, "edited": false, "score": 0, "creation_date": 1570048643, "post_id": 58208958, "comment_id": 102795876, "body": "Maybe you want to change <code>function()</code> to a lambda <code>() =&gt;</code>, the former introduces some scoping issues."}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 11956698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f181ee833046456e24a678a675ef01ed?s=128&d=identicon&r=PG&f=1", "display_name": "Arturo29", "link": "https://stackoverflow.com/users/11956698/arturo29"}, "edited": false, "score": 0, "creation_date": 1570104840, "post_id": 58209124, "comment_id": 102813625, "body": "Friend update my question because it gave me an error when using the function in my case specifically, but thank you very much."}, {"owner": {"reputation": 93, "user_id": 7054317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IgPDf.jpg?s=128&g=1", "display_name": "Adrian Sowi\u0144ski", "link": "https://stackoverflow.com/users/7054317/adrian-sowi%c5%84ski"}, "reply_to_user": {"reputation": 157, "user_id": 11956698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f181ee833046456e24a678a675ef01ed?s=128&d=identicon&r=PG&f=1", "display_name": "Arturo29", "link": "https://stackoverflow.com/users/11956698/arturo29"}, "edited": false, "score": 0, "creation_date": 1570106304, "post_id": 58209124, "comment_id": 102814437, "body": "Better ask about it in next question, and give more code info"}], "tags": [], "owner": {"reputation": 93, "user_id": 7054317, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IgPDf.jpg?s=128&g=1", "display_name": "Adrian Sowi\u0144ski", "link": "https://stackoverflow.com/users/7054317/adrian-sowi%c5%84ski"}, "is_accepted": true, "score": 2, "last_activity_date": 1570049954, "last_edit_date": 1570049954, "creation_date": 1570049152, "answer_id": 58209124, "question_id": 58208958, "link": "https://stackoverflow.com/questions/58208958/how-could-i-apply-an-observable-to-a-checkbox-to-verify-if-it-is-selected-and-th/58209124#58209124", "title": "How could I apply an observable to a checkbox to verify if it is selected and thus be able to reload my application page?", "body": "<p>Probably the best way to do this:</p>\n\n<p><code>&lt;mat-checkbox [(ngModel)]=\"isChecked\" \n               (change)=\"checkCheckBoxvalue(isChecked)\"&gt;Check me!&lt;/mat-checkbox&gt;</code></p>\n\n<p>Add variable <code>timeout</code> on top</p>\n\n<p><code>timeout;</code></p>\n\n<pre><code>checkCheckBoxvalue(event: any){ \nif (event) {\n  console.log(\"The checkbox is active\");\n  this.timeout = setTimeout(function(){\n    // ... function to reload my page\n  }, 1000);\n}\nelse {\n  console.log(\"The checbox is not active\");\n  clearTimeout(this.timeout);\n}\n</code></pre>\n\n<p>And if you want to reload the page, later you will learn about Router. This is the best way to do this.</p>\n\n<p>Good luck</p>\n"}], "owner": {"reputation": 157, "user_id": 11956698, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f181ee833046456e24a678a675ef01ed?s=128&d=identicon&r=PG&f=1", "display_name": "Arturo29", "link": "https://stackoverflow.com/users/11956698/arturo29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "accepted_answer_id": 58209124, "answer_count": 1, "score": 1, "last_activity_date": 1570106744, "creation_date": 1570048170, "last_edit_date": 1570106744, "question_id": 58208958, "link": "https://stackoverflow.com/questions/58208958/how-could-i-apply-an-observable-to-a-checkbox-to-verify-if-it-is-selected-and-th", "title": "How could I apply an observable to a checkbox to verify if it is selected and thus be able to reload my application page?", "body": "<p>Good afternoon I have a query, I want to automatically reload the page every 1 minute of my application if a checkbox is selected, so if it is not selected, the option to update the page automatically is deactivated, I try to do it through javascript capturing the event with change, but I can't make the page reload automatically, using setTimeout, so I would like to know if there is another way to do this operation through an observable one and how it would be, since I am still new in angular yet.</p>\n\n<p>Then I put the code that I have done so far:</p>\n\n<p>Code HTML</p>\n\n<pre><code>&lt;mat-checkbox (change)=\"checkCheckBoxvalue($event)\"&gt;Check me!&lt;/mat-checkbox&gt;\n</code></pre>\n\n<p>Code Typescipt</p>\n\n<pre><code>checkCheckBoxvalue(event){\n      console.log(event.checked)\n      if (event.checked){\n         this.com=true\n        }\n      else{\n        this.com=false\n      }  \n\n      if (this.com) {\n        console.log(\"The checkbox is active\")\n        setInterval(function(){\n             // ... function to reload my page\n          }, 1000);\n      }\n\n      else {\n        console.log(\"The checbox is not active\")\n      }\n</code></pre>\n\n<p><strong>UPDATE</strong></p>\n\n<p>The arrow function must be added to obtain the desired result</p>\n\n<pre><code>  loadpaginator(): any {\n      this.dataSource.loadData(\n          this.id_interface ? this.id_interface.toString():undefined,   \n          this.EquipoOrigenValue ? this.EquipoOrigenValue:undefined,   // esta linea represta un condicional conjugado en una sola linea. \n          this.LocalidadOrigenValue ? this.LocalidadOrigenValue:undefined,\n          this.VendedorValue ? this.VendedorValue:undefined,\n          this.id_prtg?this.id_prtg.toString():undefined,\n          this.CategoriaOrigenValue ? this.CategoriaOrigenValue:undefined,\n          this.EquipoDestinoValue?this.EquipoDestinoValue:undefined,\n          this.OspfOperValue?this.OspfOperValue:undefined,\n          this.OspfAdminValue?this.OspfAdminValue:undefined,\n          this.ServicioValue?this.ServicioValue:undefined,\n          this.TipoOrigenValue?this.TipoOrigenValue:undefined,\n          this.PuertoOrigenValue?this.PuertoOrigenValue:undefined,\n          this.paginator.pageSize,\n          (this.paginator.pageIndex + 1)\n      );\n    }\n</code></pre>\n\n<p>So now my table is updated from time to time, depending on what I specify in the function setInterval ():</p>\n\n<pre><code>.......\n      if (event) {\n        console.log(\"The checkbox is active\");\n        this.timeout = setInterval(()=&gt;{\n          this.loadpaginator()\n        }, 5000);\n      }\n.....\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1570048015, "post_id": 58208918, "comment_id": 102795665, "body": "use <code>position:sticky;</code> to stick it to the top when the page scrolls down"}, {"owner": {"reputation": 33, "user_id": 12155799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78af11b08023439c026eb496828550f7?s=128&d=identicon&r=PG&f=1", "display_name": "agentt015", "link": "https://stackoverflow.com/users/12155799/agentt015"}, "reply_to_user": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1570048177, "post_id": 58208918, "comment_id": 102795727, "body": "I&#39;ve already done it, but the problem is, that when I scroll back to the top, it resizes and it moves my scroll automatically."}, {"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 1, "creation_date": 1570048335, "post_id": 58208918, "comment_id": 102795787, "body": "you cannot use <code>&#47;&#47;</code> to comment CSS, you must wrap with <code>&#47;* ...  *&#47;</code>"}, {"owner": {"reputation": 33, "user_id": 12155799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78af11b08023439c026eb496828550f7?s=128&d=identicon&r=PG&f=1", "display_name": "agentt015", "link": "https://stackoverflow.com/users/12155799/agentt015"}, "reply_to_user": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1570048579, "post_id": 58208918, "comment_id": 102795862, "body": "Thanks for the tip, I was used to commenting from programming languages like python and c#."}], "answers": [{"tags": [], "owner": {"reputation": 623, "user_id": 6364829, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/3da1ffc950d9c22a8d53bab05ad78a88?s=128&d=identicon&r=PG&f=1", "display_name": "fiter", "link": "https://stackoverflow.com/users/6364829/fiter"}, "is_accepted": true, "score": 0, "last_activity_date": 1570050025, "creation_date": 1570050025, "answer_id": 58209292, "question_id": 58208918, "link": "https://stackoverflow.com/questions/58208918/how-can-i-shrink-a-navbar-that-is-in-the-middle-of-the-page-and-make-it-stick-to/58209292#58209292", "title": "How can I shrink a navbar that is in the middle of the page and make it stick to the top of the page on scroll?", "body": "<p>1) wrap your <code>nav</code>: </p>\n\n<pre><code>\n    &lt;div class=\"nav-wrapper\"&gt;\n      &lt;nav&gt;\n        &lt;a href=\"#\" class=\"hide-desktop\"&gt;\n          &lt;img src=\"obrazky/gold_menu_icon.png\" alt=\"toggle menu\" class=\"menu\" id=\"menu\"&gt;\n        &lt;/a&gt;\n        &lt;ul class=\"show-desktop hide-mobile\"&gt;\n            &lt;li&gt;&lt;a href=\"#xxx\"&gt;Dom\u016f&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#yyy\"&gt;O mn\u011b&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#zzz\"&gt;Kontakt&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt; \n      &lt;/nav&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>2) use position <code>fixed</code> instead <code>sticky</code>: </p>\n\n<pre><code>nav.class_nav {\n  clip-path: none;\n  z-index: 4;\n  height: 100px;\n  top: 0;\n  position: fixed;\n  width: 100%;\n}\n</code></pre>\n\n<p>3) set height to nav wrapper when nav becomes fixed:</p>\n\n<pre><code>if (position &lt;= -705)\n{   \n  console.log(position = $('a').offset().top - $(window).scrollTop());\n  if( !$(\"nav\").hasClass( 'class_nav' ) ){\n    $(\".nav-wrapper\").css( 'height', $(\"nav\").outerHeight( true ) );\n    $(\"nav\").addClass(\"class_nav\");\n  }\n}\nelse\n{\n  console.log(position = $('nav').offset().top - $(window).scrollTop());\n  $(\".nav-wrapper\").css( 'height', 'auto' );\n  $(\"nav\").removeClass(\"class_nav\");\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 12155799, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78af11b08023439c026eb496828550f7?s=128&d=identicon&r=PG&f=1", "display_name": "agentt015", "link": "https://stackoverflow.com/users/12155799/agentt015"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "accepted_answer_id": 58209292, "answer_count": 1, "score": 1, "last_activity_date": 1570056348, "creation_date": 1570047972, "last_edit_date": 1570056348, "question_id": 58208918, "link": "https://stackoverflow.com/questions/58208918/how-can-i-shrink-a-navbar-that-is-in-the-middle-of-the-page-and-make-it-stick-to", "title": "How can I shrink a navbar that is in the middle of the page and make it stick to the top of the page on scroll?", "body": "<p>I always get scrolling bugged when I get back to the top to navbar that is in the middle of the page. When I scroll down it shrinks and sticks properly, but getting back to the top always moves my scroll because my navbar resizes back to normal.</p>\n\n<p>Important sections are probably the javascript and than the place in css commented as \"place where might be the problem with scrolling\"</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n    &lt;title&gt;The Universe&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"style.css\"&gt;\n    &lt;script\n      src=\"https://code.jquery.com/jquery-3.4.1.js\"\n      integrity=\"sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=\"\n      crossorigin=\"anonymous\"&gt;\n    &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n    &lt;div class=\"container\"&gt;\n        &lt;div class=\"sunrise\"&gt;\n\n            &lt;section&gt;\n                &lt;h1&gt;The Universe&lt;/h1&gt;\n                &lt;p class=\"subheader\"&gt;and its mysteries&lt;/p&gt;\n            &lt;/section&gt;\n        &lt;/div&gt;   \n    &lt;/div&gt;\n\n\n\n    &lt;div class=\"fun_facts\"&gt; \n        &lt;div class=\"container\"&gt;\n\n            &lt;i&gt;\u201cOnce you can accept the universe as matter expanding into nothing that is something,&lt;br&gt; wearing stripes with plaid comes easy.\u201d&lt;/i&gt;    \n\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n\n\n    &lt;nav&gt;\n          &lt;a href=\"#\" class=\"hide-desktop\"&gt;\n             &lt;img src=\"obrazky/gold_menu_icon.png\" alt=\"toggle menu\" class=\"menu\" id=\"menu\"&gt;\n          &lt;/a&gt;\n          &lt;ul class=\"show-desktop hide-mobile\"&gt;\n              &lt;li&gt;&lt;a href=\"#xxx\"&gt;Dom\u016f&lt;/a&gt;&lt;/li&gt;\n              &lt;li&gt;&lt;a href=\"#yyy\"&gt;O mn\u011b&lt;/a&gt;&lt;/li&gt;\n              &lt;li&gt;&lt;a href=\"#zzz\"&gt;Kontakt&lt;/a&gt;&lt;/li&gt;\n          &lt;/ul&gt; \n\n     &lt;/nav&gt;\n\n    &lt;div class=\"stars\"&gt;\n        &lt;div class=\"stars_content\" id=\"xxx\"&gt;\n            &lt;div class=\"container\"&gt;\n                &lt;h2&gt;AAAAAAAA AAA AAAAA&lt;/h2&gt;&lt;hr&gt;\n                &lt;p&gt;sss&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"stars\"&gt;\n        &lt;div class=\"stars_content\" id=\"yyy\"&gt;\n            &lt;div class=\"container\"&gt;\n                &lt;h2&gt;BBBBBBB BBB BBBBBB&lt;/h2&gt;&lt;hr&gt;\n                &lt;p&gt;sss&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"stars\"&gt;\n        &lt;div class=\"stars_content\" id=\"zzz\"&gt;\n            &lt;div class=\"container\"&gt;\n                &lt;h2&gt;CCCC CCC CCCCCC&lt;/h2&gt;&lt;hr&gt;\n                &lt;p&gt;sss&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;footer class=\"footer\"&gt;\n    &lt;/footer&gt;\n\n\n\n\n\n    &lt;script type=\"text/javascript\"&gt;\n\n/* script that makes navbar shrink on scroll and than resize when I get back to the top */\n\n        var position = 1;\n\n        $(window).on(\"scroll\", function()\n        {   \n            if (position &lt;= -705)\n            {   \n                console.log(position = $('a').offset().top - $(window).scrollTop());\n                $(\"nav\").addClass(\"class_nav\");\n                //$(\"nav\").addClass(\"class_nav_ul_li\");\n            }\n            else\n            {\n            console.log(position = $('nav').offset().top - $(window).scrollTop());\n                $(\"nav\").removeClass(\"class_nav\");\n                //$(\"nav\").removeClass(\"class_nav_ul_li\");\n\n            }\n        })\n\n\n\n\n\n\n\n//scrolling animation to each div  \n\n\n        // Select all links with hashes\n$('a[href*=\"#\"]')\n  // Remove links that don't actually link to anything\n  .not('[href=\"#\"]')\n  .not('[href=\"#0\"]')\n  .click(function(event) {\n    // On-page links\n    if (\n      location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') \n      &amp;&amp; \n      location.hostname == this.hostname\n    ) {\n      // Figure out element to scroll to\n      var target = $(this.hash);\n      target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n      // Does a scroll target exist?\n      if (target.length) {\n        // Only prevent default if animation is actually gonna happen\n        event.preventDefault();\n        $('html, body').animate({\n          scrollTop: target.offset().top\n        }, 1000, function() {\n          // Callback after animation\n          // Must change focus!\n          var $target = $(target);\n          $target.focus();\n          if ($target.is(\":focus\")) { // Checking if the target was focused\n            return false;\n          } else {\n            $target.attr('tabindex','-1'); // Adding tabindex for elements not focusable\n            $target.focus(); // Set focus again\n          };\n        });\n      }\n    }\n  });\n\n\n\n    &lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<pre class=\"lang-css prettyprint-override\"><code>body {\n    margin: 0;\n    background-color: black;\n}\n\np {\n    font-size: .9em;\n    line-height: 1.6em;\n}\n\nul {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n}\n\n.container {\n    text-align: center;\n    //padding: .8em 1.2em;\n    //background: yellow;     \n}\n\nheader {\n    //background: yellow;\n            /* needed to have section aligned to the center of THE PAGE not just center of its own side */\n}\n\nsection {\n    margin-top: 4em;                /*FIXNUTI GOLD MENU BUTTONU;*/\n    //background: green;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n.sunrise {\n    background: url(obrazky/sunrise.jpg) no-repeat center;\n    background-size: cover;\n    background-attachment: fixed;\n    height: auto;\n    padding-bottom: 10px;\n    display: flex; \n}\n\n.menu {\n    width: 50px;\n    //margin: 100% 0% 0% 100%;\n    margin-top: 60%;\n    margin-left: 60%;\n}\n\nh1, h2, .subheader {\n    position: relative;                 \n    z-index: 3;                            \n}\n\nh1 {\n    font-size: 8em;\n    color: gold;\n    text-shadow: 5px 5px 8px gold;\n    margin-top: -30px;\n}\n\nh2 {\n    font-size: 3em;\n    //color: rgb(7, 207, 200);\n    color: rgb(218, 165, 32);\n    //text-shadow: 5px 5px 8px rgb(5 237 218);\n}\n\n.subheader {\n    font-size: 5em;\n    color: gold;\n    text-shadow: 5px 5px 8px gold;\n}\n\n.fun_facts {\n    background-color: transparent;\n    padding-top: 50px;\n    padding-bottom: auto;\n    font-size: 2.5em;\n    color: white;\n    text-shadow: 5px 5px 8px white;        \n}\n\n.stars {\n    background: url(obrazky/moon.jpg) no-repeat center;\n    background-size: cover;\n    background-attachment: fixed;\n    margin-top: -17em;       \n    padding: 12em 100px;           /* padding: 2em 20px; */\n\n}\n\n\n.stars_content {\n    margin-top: 17em;\n    color: white;\n    padding: 50px 150px 100px;\n    //background: rgba(8, 6, 46, 0.85);\n    //background: rgba(7, 59, 59, 0.85);\n    //background: rgba(7, 50, 59, 0.85);\n    background: rgba(38, 40, 41, 0.85);\n    height: 700px;\n    border-radius: 100px;\n//    clip-path: polygon(0 0%, 100% 0, 100% 100%, 0 100%);\n}\n\n.stars_content p {\n    margin-top: 10px;\n    font-size: 50px;\n    color: rgb(218, 165, 32);\n}\n\n.stars_content hr {\n    border: 5px solid rgb(218, 165, 32);             /*5 240 218*/\n    margin: -10px -140px;\n    border-radius: 200px;                                           \n}\n/************* PLACE WHERE MIGHT BE THE PROBLEM WITH SCROLLING  *************/  \n    .show-desktop {\n        display: block;\n        margin: 0 auto 13% auto;\n    }\n\n    .hide-desktop {\n        display: none;\n    }\n\n    nav {\n        margin-top: 3.5em;\n        margin-bottom: 7em;\n        background: url(obrazky/earth.jpg) no-repeat center;\n        background-size: cover;\n        background-attachment: fixed;\n        height: auto;\n        display: flex;\n        clip-path: polygon(0 15%, 100% 0, 100% 85%, 0 100%);\n    } \n\n   nav.class_nav {\n        clip-path: none;\n        z-index: 4;\n        height: 100px;\n        top: 0;\n        position: sticky;\n}\n\n    nav.class_nav ul li {\n        padding: 1em;\n        margin-top: 0;\n    }\n\n    nav.class_nav ul li a{\n        font-size: 20px;\n        padding: 1em 2em;\n    }          \n\n    nav ul {            \n        background: none;\n        height: auto;\n        width: auto;\n        padding-bottom: 0px;\n    }  \n\n    nav ul li {\n        float: left;\n        padding-top: 10.5em;\n        padding-bottom: 0;\n        margin-left: auto;\n        margin-right: auto;\n    }\n\n    nav ul li a {\n        color: gold;            \n        background-color: #1a1400;\n        text-align: center;\n        padding: 1em 2em;\n        font-size: 40px;\n        text-decoration: none;\n        display: block;\n        border-radius: 80px;\n        box-shadow: 10px 10px 15px black;\n    }\n\n    nav ul li a:hover {\n        background-color: #4d3d00;\n    }\n\n</code></pre>\n"}, {"tags": ["javascript", "python", "jquery", "flask"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12155919, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDjHNy5LNBcNP_4EGBvUrsY_iSLLmnRS4JrD51S=k-s128", "display_name": "Mateusz Delegacz", "link": "https://stackoverflow.com/users/12155919/mateusz-delegacz"}, "is_accepted": true, "score": 0, "last_activity_date": 1570049223, "creation_date": 1570049223, "answer_id": 58209135, "question_id": 58208855, "link": "https://stackoverflow.com/questions/58208855/python-api-call-with-output-to-flask-forloop/58209135#58209135", "title": "Python API Call with output to Flask forloop", "body": "<p>Ok, I had to be a bit stupid, I've found a way.\nYou can call a function with a variable in flask template </p>\n\n<p>Python function:</p>\n\n<pre><code>    @app.route('/')\n@app.route('/home')\ndef display():\n    def get_playlist_image(id):\n        image_response = requests.get('https://api.spotify.com/v1/playlists/' + id + '/images',\n                           headers={'Authorization':'Bearer '+ the_token})\n        image_response_data = image_response.json()\n        image_url = image_response_data[0]['url']\n        return image_url\n    return render_template(\"home.html\", playlists=mongo.db.playlists.find(), get_playlist_image=get_playlist_image)\n</code></pre>\n\n<p>Html template:</p>\n\n<pre><code> &lt;div id=\"api\"&gt;\n                    &lt;img src=\"{{get_playlist_image(p.spotify_id)}}\"/&gt;\n                &lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12155919, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDjHNy5LNBcNP_4EGBvUrsY_iSLLmnRS4JrD51S=k-s128", "display_name": "Mateusz Delegacz", "link": "https://stackoverflow.com/users/12155919/mateusz-delegacz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 58209135, "answer_count": 1, "score": 0, "last_activity_date": 1570049223, "creation_date": 1570047641, "question_id": 58208855, "link": "https://stackoverflow.com/questions/58208855/python-api-call-with-output-to-flask-forloop", "title": "Python API Call with output to Flask forloop", "body": "<p>I am writing a web python thing using flask, I am basically displaying all my records from a database as a list through a flask template in for loop. </p>\n\n<p>Now I want to call Spotify API and display a cover image from Spotify API next to each of the playlists but I can't get a hang of how to match the id and make a call all in a for loop</p>\n\n<p>Can I make the API call from Flask or maybe call a function with a call within that loop?\nI have also tried that with jQuery AJAX call but displayed image was the same for all items from the last item from the database</p>\n\n<pre><code>import os\nimport requests\nimport json\nfrom dotenv import load_dotenv\nfrom datetime import datetime\n##loading credenditls from seperate file\nfrom credentials import auth_data, auth_string\nfrom flask import Flask, redirect, render_template, request, session, url_for\nfrom flask_pymongo import PyMongo\nfrom bson.objectid import ObjectId\n#enviorement virables loading\nload_dotenv()\nDBNAME = os.getenv(\"DBNAME\")\nDATABASEURI = os.getenv(\"URI\")\n#calling api for spotify token\ntoken_response = requests.post('https://accounts.spotify.com/api/token',\n                    data = auth_data,\n                    headers = auth_string,)  \ntoken_response_data = token_response.json()\n##token\nthe_token = token_response_data['access_token']\n\napp = Flask(__name__)\n\n#Connecting to database\napp.config[\"MONGO_DBNANE\"] = DBNAME\napp.config[\"MONGO_URI\"] = DATABASEURI\n\nmongo = PyMongo(app)\n\ndef get_playlist_image(id):\n    image_response = requests.get('https://api.spotify.com/v1/playlists/' + id + '/images',\n                           headers={'Authorization':'Bearer '+ the_token})\n    image_response_data = image_response.json()\n    image_url = image_response_data[0]['url']\n    return image_url\n\n@app.route('/')\n@app.route('/home')\ndef display():\n    the_playlists = mongo.db.playlists.find()\n    for list in the_playlists:\n        spotifyid = list['spotify_id']\n        the_image_url = get_playlist_image(spotifyid)\n    return render_template(\"home.html\", playlists=mongo.db.playlists.find(), image_url=the_image_url, spotifyid = list['spotify_id']\n    )\n</code></pre>\n"}, {"tags": ["javascript", "amazon-web-services", "react-native", "graphql", "aws-appsync"], "comments": [{"owner": {"reputation": 1219, "user_id": 1457398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/F1c2Y.jpg?s=128&g=1", "display_name": "Aaron_H", "link": "https://stackoverflow.com/users/1457398/aaron-h"}, "edited": false, "score": 0, "creation_date": 1572245762, "post_id": 58208851, "comment_id": 103486974, "body": "Subscriptions only work with data input into your mutation, not with the outcome of the mutation result. Are you trying to send a subscription message based on the result of the mutation response? You may want to have the client or your backend data source / pipeline resolver send a message to the subscription stream (via another mutation) if that&#39;s what you&#39;re trying to do."}, {"owner": {"reputation": 40644, "user_id": 709635, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/82997337aa826114cffe0f9af85928a0?s=128&d=identicon&r=PG", "display_name": "plus-", "link": "https://stackoverflow.com/users/709635/plus"}, "reply_to_user": {"reputation": 1219, "user_id": 1457398, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/F1c2Y.jpg?s=128&g=1", "display_name": "Aaron_H", "link": "https://stackoverflow.com/users/1457398/aaron-h"}, "edited": false, "score": 0, "creation_date": 1591611396, "post_id": 58208851, "comment_id": 110111573, "body": "@Aaron_H it may be an issue with Appsync, but Subscriptions CAN work on mutation result see <a href=\"https://www.apollographql.com/docs/apollo-server/data/subscriptions/#subscription-filters\" rel=\"nofollow noreferrer\">apollographql.com/docs/apollo-server/data/subscriptions/&hellip;</a> the payload is the result of the mutation."}], "owner": {"reputation": 53, "user_id": 11134080, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0f992fbba9b2710e3841158e7b5a9a9c?s=128&d=identicon&r=PG&f=1", "display_name": "Brian Bollen", "link": "https://stackoverflow.com/users/11134080/brian-bollen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 221, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570047617, "creation_date": 1570047617, "question_id": 58208851, "link": "https://stackoverflow.com/questions/58208851/aws-appsync-graphql-subsciprtion-trigger-subscription-if-input-to-subscription", "title": "AWS AppSync Graphql Subsciprtion - Trigger subscription if input to subscription is within a list from Mutation", "body": "<p>In AWS AppSync, I have the following GraphQL schema.</p>\n\n<pre><code>type Mutation{\n  myMutation(id:String!): MyResponse\n}\n\ntype Subscription{\n  mySubscription(ids:String):MyResponse @aws_subscribe(mutations: [\"myMutation\"])\n}\n\ntype MyResponse{\n  ids:[String]\n}\n</code></pre>\n\n<p>My goal is to be able to trigger the subscription 'mySubscription' whenever the mutation returns MyResponse such that the list 'ids' <strong><em>contains</em></strong> the single id inputed into 'mySubscription'.</p>\n\n<p>So, for example, in React-Native, I'd do the following:</p>\n\n<pre><code>import * as subscriptions from '../graphql/subscriptions.js'\n\nconst mySub = await API.graphql(graphqlOperation(subscriptions.mySubscription,{ids:'1'})).subscribe({\n  next: (response) =&gt; {\n\n   // DO SOMETHING WITH RESPONSE\n\n  },\n  error: (err) =&gt; {\n\n  // CATCH ERROR\n\n  }\n})\n\n</code></pre>\n\n<p>I'd want this subscription to trigger whenever 'myMutation' generated a response such as </p>\n\n<pre><code>data:{\n  myMutation:{\n   ids:['1','2']\n  }\n}\n</code></pre>\n\n<p>or where ids is any other list, as long as it contains '1' (the id inputed into the subscription). </p>\n\n<p>The reason for this is that I have events that need to trigger notifications for clients based on who was attached to the mutation in the first place, where the actual list of people attached to the mutation is dynamic. It'd be nice to be able to says 'subscribe to any event where the list of people contains my name', type of thing.</p>\n\n<p>My only work around was to trigger a notification mutation for each of the people individually involved, but this requires more calls to my server and seems way more difficult than I feel like it should. Any help would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 5489, "user_id": 3670132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1c25213978ce9fc6a9b8b60f5d780b4?s=128&d=identicon&r=PG", "display_name": "Seblor", "link": "https://stackoverflow.com/users/3670132/seblor"}, "edited": false, "score": 0, "creation_date": 1570047713, "post_id": 58208830, "comment_id": 102795560, "body": "Have <code>&quot;1,2,3;4,5,6&quot;</code> as a string, simply split by <code>;</code>, then map and split by <code>,</code> : <code>&quot;1,2,3;4,5,6&quot;.split(&quot;;&quot;).map(subArr =&gt; subArr.split(&quot;,&quot;))</code> (<b>Edit : wrote an answer for better readability</b>)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10993028"}, "reply_to_user": {"reputation": 5489, "user_id": 3670132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1c25213978ce9fc6a9b8b60f5d780b4?s=128&d=identicon&r=PG", "display_name": "Seblor", "link": "https://stackoverflow.com/users/3670132/seblor"}, "edited": false, "score": 0, "creation_date": 1570047821, "post_id": 58208830, "comment_id": 102795595, "body": "thx. I will try that."}], "answers": [{"comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "reply_to_user": {"reputation": 529, "user_id": 1170760, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6547b10fcf59e263b8ffd28956622389?s=128&d=identicon&r=PG", "display_name": "sairfan", "link": "https://stackoverflow.com/users/1170760/sairfan"}, "edited": false, "score": 0, "creation_date": 1570048347, "post_id": 58208903, "comment_id": 102795788, "body": "@sairfan Why should it have to?"}, {"owner": {"reputation": 5489, "user_id": 3670132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1c25213978ce9fc6a9b8b60f5d780b4?s=128&d=identicon&r=PG", "display_name": "Seblor", "link": "https://stackoverflow.com/users/3670132/seblor"}, "reply_to_user": {"reputation": 529, "user_id": 1170760, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/6547b10fcf59e263b8ffd28956622389?s=128&d=identicon&r=PG", "display_name": "sairfan", "link": "https://stackoverflow.com/users/1170760/sairfan"}, "edited": false, "score": 0, "creation_date": 1570051814, "post_id": 58208903, "comment_id": 102796907, "body": "@sairfan to make it work with IE, you can replace the arrow function by a plain function with the <code>function</code> keyword. I edited my answer."}, {"owner": {"reputation": 5489, "user_id": 3670132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1c25213978ce9fc6a9b8b60f5d780b4?s=128&d=identicon&r=PG", "display_name": "Seblor", "link": "https://stackoverflow.com/users/3670132/seblor"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 1, "creation_date": 1570052835, "post_id": 58208903, "comment_id": 102797176, "body": "@TylerRoper it is supported. IE partially supports <code>const</code> : <a href=\"https://caniuse.com/#search=const\" rel=\"nofollow noreferrer\">caniuse.com/#search=const</a> But it really is time to ditch that browser."}], "tags": [], "owner": {"reputation": 5489, "user_id": 3670132, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f1c25213978ce9fc6a9b8b60f5d780b4?s=128&d=identicon&r=PG", "display_name": "Seblor", "link": "https://stackoverflow.com/users/3670132/seblor"}, "is_accepted": false, "score": 1, "last_activity_date": 1570052021, "last_edit_date": 1570052021, "creation_date": 1570047882, "answer_id": 58208903, "question_id": 58208830, "link": "https://stackoverflow.com/questions/58208830/return-a-2d-array-from-the-parameters-of-a-javascript-function-where-a-semi-colo/58208903#58208903", "title": "Return a 2D array from the parameters of a JavaScript function where a semi-colon means a new row", "body": "<blockquote>\n  <p>I have tried to convert the array to a string and then apply split and back to array but I have not managed to get it to work.</p>\n</blockquote>\n\n<p>Well if having a string as input works for you, you can simply do it by splitting by <code>;</code>, then map and split again each sub-array by <code>,</code>, like this :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const yourString = \"1,2,3;4,5,6\"\r\n\r\nconst your2DArray = yourString.split(\";\").map(subArr =&gt; subArr.split(\",\"))\r\n\r\nconsole.log(your2DArray)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>Edit :<br>\nAs sairfan noticed, the code snippet above will not work on IE since it does not support arrow functions. To fix this, you can simply use a plain function :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const yourString = \"1,2,3;4,5,6\"\r\n\r\nconst your2DArray = yourString.split(\";\").map(function (subArr) {\r\n  return subArr.split(\",\")\r\n})\r\n\r\nconsole.log(your2DArray)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10993028"}, "edited": false, "score": 0, "creation_date": 1570050345, "post_id": 58209151, "comment_id": 102796462, "body": "thank you for your provide solution. I will run and compare both solutions to find the best one and you are right that the other answer returns an array with strings. I need more time to run both provided solutions and compare."}], "tags": [], "owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "is_accepted": false, "score": 0, "last_activity_date": 1570050031, "last_edit_date": 1570050031, "creation_date": 1570049329, "answer_id": 58209151, "question_id": 58208830, "link": "https://stackoverflow.com/questions/58208830/return-a-2d-array-from-the-parameters-of-a-javascript-function-where-a-semi-colo/58209151#58209151", "title": "Return a 2D array from the parameters of a JavaScript function where a semi-colon means a new row", "body": "<p>The main issue with what you're suggesting is that it isn't valid to have a semi-colon within the arguments of a function. This means you'd have to perform the workaround of passing a <em>string</em> instead, which restricts your <code>matrix</code> method to only creating string arrays.</p>\n\n<p>As an alternative, I'd suggest passing an additional argument that you can use to distinguish a break. In the example below, I've used <code>_</code>. This allows you to pass arguments as other types.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const _ = {}; //represents a break\r\n\r\nfunction matrix() {\r\n  let args = Array.from(arguments);\r\n  return args.reduce((out, arg) =&gt; {\r\n    let last = out.pop();\r\n    return arg === _ \r\n      ? [...out, last, []]\r\n      : [...out, [...last, arg]]\r\n  }, [[]]);\r\n}\r\n\r\nlet result = matrix(1,2,3,_,4,5,6);\r\nconsole.log(result);\r\n\r\n//Pass any type\r\nlet variable = true;\r\nlet result2 = matrix({},\"Hello\",_,variable,(5+5));\r\nconsole.log(result2);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10993028"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570052021, "creation_date": 1570047547, "question_id": 58208830, "link": "https://stackoverflow.com/questions/58208830/return-a-2d-array-from-the-parameters-of-a-javascript-function-where-a-semi-colo", "title": "Return a 2D array from the parameters of a JavaScript function where a semi-colon means a new row", "body": "<p>I have this simple JavaScript functions that works very well that returns an array that contains the parameters (arguments) for example 1,2,3 for that function: </p>\n\n<pre><code>function array() {\nvar a = Array.from(arguments);\nreturn a; \n} \n</code></pre>\n\n<p>I now want to apply the same logic (pass a functions parameters to an array) to a JavaScript function called matrix. Something like this: </p>\n\n<pre><code>matrix(1,2,3;4,5,6) where a semi-colon (;) indicates a new row in the 2D array.\n</code></pre>\n\n<p>The function take the parameters (or arguments) and returns a 2D JavaScript array like this: </p>\n\n<pre><code>[[1,2,3],[4,5,6]]\n</code></pre>\n\n<p>What JavaScript code can do this in the most efficient and simplest way? </p>\n\n<p>I have tried to convert the array to a string and then apply split and back to array but I have not managed to get it to work. </p>\n\n<p>The reason why I want to do this is because on my onscreen keyboard on my Microsoft surface tablet it is much easier and much faster to type in a semi-colon than it is to switch keyboard and type in 4 square brackets! Typing in 4 square brackets fast is also often very error-prone. I usually end up with 2-3 brackets when I type fast and then I always have to go back and double check if all 4 brackets were entered correctly and at the right place. A big time killer for me when I type in a lot of JavaScript arrays.            </p>\n"}, {"tags": ["javascript", "node.js", "angularjs", "ionic-framework"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1570047513, "post_id": 58208807, "comment_id": 102795478, "body": "<code>this.projetoAtivo.opcoes</code> is <code>undefined</code>"}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1570047919, "post_id": 58208807, "comment_id": 102795635, "body": "Please try to keep your questions and code comments in English. Just dumping a codeblock saying it&#39;s not working is an offtopic reason, be more specific. Read the <a href=\"https://stackoverflow.com/help/on-topic\">help center</a> before posting a question"}], "answers": [{"tags": [], "owner": {"reputation": 548, "user_id": 3430283, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b214b11178bc97c7580577f5b384c35?s=128&d=identicon&r=PG&f=1", "display_name": "Sagar Agrawal", "link": "https://stackoverflow.com/users/3430283/sagar-agrawal"}, "is_accepted": false, "score": 0, "last_activity_date": 1570100814, "creation_date": 1570100814, "answer_id": 58217868, "question_id": 58208807, "link": "https://stackoverflow.com/questions/58208807/cannot-read-property-push-of-undefined-at-childscope-scope-criaopcao/58217868#58217868", "title": "Cannot read property &#39;push&#39; of undefined at ChildScope.$scope.criaOpcao", "body": "<p>Either outside of the function but in your controller you should define this variable:</p>\n\n<pre><code>$scope.projetoAtivo = [];\n</code></pre>\n\n<p>OR in the start of the function this should be declared.</p>\n\n<p>this is a simple use case where you're trying to call push method on a variable, but since the variable is not defined, its giving you undefined. This variable has to be first declared as an array to allow pushing elements to it.</p>\n"}, {"tags": [], "owner": {"reputation": 981, "user_id": 1469926, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aae4ad8a91377313698a253833398e83?s=128&d=identicon&r=PG", "display_name": "aUXcoder", "link": "https://stackoverflow.com/users/1469926/auxcoder"}, "is_accepted": false, "score": 0, "last_activity_date": 1570110575, "creation_date": 1570110575, "answer_id": 58220578, "question_id": 58208807, "link": "https://stackoverflow.com/questions/58208807/cannot-read-property-push-of-undefined-at-childscope-scope-criaopcao/58220578#58220578", "title": "Cannot read property &#39;push&#39; of undefined at ChildScope.$scope.criaOpcao", "body": "<p>You should check for the existence of <code>opcoes</code> and its type to be able to do <code>.push()</code>.</p>\n\n<pre><code>$scope.criaOpcao = function (opcao) {\n  if (!$scope.projetoAtivo || !opcao) {\n    return;\n  }\n  // prop 'opcoes' should exist and be an array\n  if (\n    $scope.projetoAtivo.hasOwnProperty('opcoes') \n    &amp;&amp; angular.isArray($scope.projetoAtivo.opcoes)) {\n    $scope.projetoAtivo.opcoes.push({\n      title: opcao.title\n    });\n  }\n  $scope.opcaoModal.hide();\n  Projetos.save($scope.projetos);\n};\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12155940, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBa_5FA7-3_2Pwa1zibYYPoU6JxXTrBhn0XyACp9A=k-s128", "display_name": "Franklin Araujo", "link": "https://stackoverflow.com/users/12155940/franklin-araujo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1570110575, "creation_date": 1570047460, "last_edit_date": 1570047803, "question_id": 58208807, "link": "https://stackoverflow.com/questions/58208807/cannot-read-property-push-of-undefined-at-childscope-scope-criaopcao", "title": "Cannot read property &#39;push&#39; of undefined at ChildScope.$scope.criaOpcao", "body": "<blockquote>\n  <p>TypeError: Cannot read property 'push' of undefined\n      at ChildScope.$scope.criaOpcao (appCtrl.js:49)**</p>\n</blockquote>\n\n<pre><code>// chamada para quando o formul\u00e1rio \u00e9 enviado\n$scope.criaOpcao = function (opcao) {\n  if (!$scope.projetoAtivo || !opcao) {\n    return;\n  }\n  $scope.projetoAtivo.opcoes.push({\n    title: opcao.title\n  });\n  // fecha o modal de op\u00e7\u00f5es\n  $scope.opcaoModal.hide();\n\n  // meio ineficiente, mas salva os projetos\n  Projetos.save($scope.projetos);\n};\n</code></pre>\n"}, {"tags": ["javascript", "python", "flask", "raspberry-pi", "gpio"], "comments": [{"owner": {"reputation": 11, "user_id": 12153802, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-66xfjYDShIk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcD6oIAga-CHRqcItdChWPMyBlCYQ/photo.jpg?sz=128", "display_name": "Richie", "link": "https://stackoverflow.com/users/12153802/richie"}, "edited": false, "score": 0, "creation_date": 1572644764, "post_id": 58208789, "comment_id": 103635512, "body": "In the end I worked out a way of doing this."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 12153802, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-66xfjYDShIk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcD6oIAga-CHRqcItdChWPMyBlCYQ/photo.jpg?sz=128", "display_name": "Richie", "link": "https://stackoverflow.com/users/12153802/richie"}, "is_accepted": true, "score": 0, "last_activity_date": 1572645365, "creation_date": 1572645365, "answer_id": 58666353, "question_id": 58208789, "link": "https://stackoverflow.com/questions/58208789/im-trying-to-find-a-way-of-using-a-gpio-input-on-the-server-side-to-redirect-th/58666353#58666353", "title": "I&#39;m trying to find a way of using a GPIO input on the server side to redirect the client side to another web page rpi, RPi.GPIO, python, flask,j s", "body": "<p>In the end I worked out away to do this....\nThe function that takes the input from the rpi GPIO now creates a file.\nIn my main app I created a new flask route with an if statement. If the file doesn\u2019t exists the function returns a 404.\nIn js on the client side I query the url, if it gets a 200 back which only happens when the file exists it does a redirect.</p>\n\n<p>Effectively making it possible to make a change server side redirect the client side.</p>\n\n<p>I changed the input to pwm so and effectively created a safe tumbler lock, which when the code is entered correctly redirects the web app displayed on the screen in the escape room. </p>\n\n<p>Thanks to the person who took the time to correct my spelling and grammar in my original question.</p>\n\n<p>Now if I can just work out why my rpi is double executing my code hmmm </p>\n"}], "owner": {"reputation": 11, "user_id": 12153802, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-66xfjYDShIk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcD6oIAga-CHRqcItdChWPMyBlCYQ/photo.jpg?sz=128", "display_name": "Richie", "link": "https://stackoverflow.com/users/12153802/richie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 58666353, "answer_count": 1, "score": 1, "last_activity_date": 1572645365, "creation_date": 1570047377, "last_edit_date": 1570053796, "question_id": 58208789, "link": "https://stackoverflow.com/questions/58208789/im-trying-to-find-a-way-of-using-a-gpio-input-on-the-server-side-to-redirect-th", "title": "I&#39;m trying to find a way of using a GPIO input on the server side to redirect the client side to another web page rpi, RPi.GPIO, python, flask,j s", "body": "<p>I'm working on a Escape room project. Effectively, the behavior I'm trying to create is as follows:</p>\n\n<p>Web brower displays part of the web app in the usual way. From this point on, there will be no further inputs from the keyboard/mouse on the client. I've solved for time based changes using JS, so I can load the web app and after a period of time has JS redirects to another app route. Here's where I start struggling as well as the time based redirects I want a GPIO input on the server side to make the browser redirect to another app route.</p>\n\n<p>I'm using threading, so when the app route function runs it starts the thread running on the function that's waiting for the GPIO input. The <code>waitfortrigger</code> function works and runs as it should until I try to return a redirect. At that point I get an unknown context error in the Flask debug log. I can fix the error using <code>app.app_context</code> and <code>app.app_context.push</code>. At that point the <code>waitfortrigger</code> function runs without error but doesn't cause the redirect on the client side. I've also tried using the <code>copy_current_context decorator</code> but don't really understand how to use it and had no success. You might note that I'm using a URL for the redirect rather than the <code>url_for</code> function. Thats because without a client side request <code>url_for</code> can't construct the URL I'm trying to redirect to. Using a full URL really isn't an issue for what I'm trying to do.</p>\n\n<p>I think I'm correct in saying the reason it doesn't work on the client side is because the request doe not come from the client side and is in a different thread from the main app, so that it doesn't understand what to redirect.</p>\n\n<p>Here's a simplified version of the code that im trying:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>from flask import Flask, render_template, redirect, url_for, session, logging\nimport RPi.GPIO as GPIO\nimport threading\n\napp = Flask(__name__)\ninput_pin = 18\n\ndef gpio_setup():\n    GPIO.setmode(GPIO.BCM)\n    GPIO.setup(input_pin, GPIO.IN, pull_up_down=GPIO.PUD_UP)\n\ndef waitfortrigger():\n    while GPIO.input(input_pin) == GPIO.HIGH:\n        continue\n    else:\n        con.push()\n        return redirect('http://192.168.0.17:5000/page2')\n\n@app.route('/')\ndef home():\n    trig_thread.start()\n    global con\n    con = app.app_context()\n    return render_template('home.html')\n\n@app.route('/page2')\ndef page2():\n    GPIO.cleanup()\n    return render_template('page2.html')\n\nif __name__ == '__main__':\n    gpio_setup()\n    app.secret_key='test'\n    trig_thread = threading.Thread(target=waitfortrigger)\n    app.run(debug=True, host='0.0.0.0')\n</code></pre>\n\n<p>What I'm thinking now: maybe there's a way I can use the <code>waitfortrigger</code> function to update something on the server side when it sees the GPIO input and in turn monitor something with JS and then redirect in JS on the client side?</p>\n\n<p>Or maybe using Flask for a web app for this isn't the best solution? \nI'm learning as I go so would appreciate any suggestion.</p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "database"], "comments": [{"owner": {"reputation": 12074, "user_id": 1985406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f441bc8d508101ba0a1eac95d6cd52c6?s=128&d=identicon&r=PG", "display_name": "Jordan Kasper", "link": "https://stackoverflow.com/users/1985406/jordan-kasper"}, "edited": false, "score": 0, "creation_date": 1570050505, "post_id": 58208752, "comment_id": 102796501, "body": "Node runs on the server, React runs in the browser. You can&#39;t really include a file from the server into your React code in the browser. It is very unclear what you are trying to do here."}, {"owner": {"reputation": 115, "user_id": 10033765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qRYQxLY4NE4/AAAAAAAAAAI/AAAAAAAAAho/ByJq5UiLknA/photo.jpg?sz=128", "display_name": "Siddharth Agrawal", "link": "https://stackoverflow.com/users/10033765/siddharth-agrawal"}, "reply_to_user": {"reputation": 12074, "user_id": 1985406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f441bc8d508101ba0a1eac95d6cd52c6?s=128&d=identicon&r=PG", "display_name": "Jordan Kasper", "link": "https://stackoverflow.com/users/1985406/jordan-kasper"}, "edited": false, "score": 0, "creation_date": 1570053307, "post_id": 58208752, "comment_id": 102797300, "body": "I thought to react used node, I am new to this, basically, just want to declare global variables to use across my react components I guess."}, {"owner": {"reputation": 12074, "user_id": 1985406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f441bc8d508101ba0a1eac95d6cd52c6?s=128&d=identicon&r=PG", "display_name": "Jordan Kasper", "link": "https://stackoverflow.com/users/1985406/jordan-kasper"}, "edited": false, "score": 0, "creation_date": 1570107846, "post_id": 58208752, "comment_id": 102815270, "body": "Ah, in that case you should try looking at some other answers: <a href=\"https://stackoverflow.com/questions/34351804/how-to-declare-a-global-variable-in-react\" title=\"how to declare a global variable in react\">stackoverflow.com/questions/34351804/&hellip;</a>"}, {"owner": {"reputation": 115, "user_id": 10033765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qRYQxLY4NE4/AAAAAAAAAAI/AAAAAAAAAho/ByJq5UiLknA/photo.jpg?sz=128", "display_name": "Siddharth Agrawal", "link": "https://stackoverflow.com/users/10033765/siddharth-agrawal"}, "reply_to_user": {"reputation": 12074, "user_id": 1985406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f441bc8d508101ba0a1eac95d6cd52c6?s=128&d=identicon&r=PG", "display_name": "Jordan Kasper", "link": "https://stackoverflow.com/users/1985406/jordan-kasper"}, "edited": false, "score": 0, "creation_date": 1570112227, "post_id": 58208752, "comment_id": 102817911, "body": "@jakerella I don&#39;t know why those did not work, I got it to work with simple import, my biggest issue with importing was that I had to type import on each document, and more importantly, I would have to type in database.user.name everytime rather than just user.name for example, but import {user} from &quot;./database.js&quot; fixed that, thanks alot :)"}], "owner": {"reputation": 115, "user_id": 10033765, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qRYQxLY4NE4/AAAAAAAAAAI/AAAAAAAAAho/ByJq5UiLknA/photo.jpg?sz=128", "display_name": "Siddharth Agrawal", "link": "https://stackoverflow.com/users/10033765/siddharth-agrawal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1570050450, "creation_date": 1570047239, "last_edit_date": 1570050450, "question_id": 58208752, "link": "https://stackoverflow.com/questions/58208752/how-to-use-database-js-file-in-nodejs-reactjs", "title": "How to use database.js file in nodeJS/reactJS", "body": "<p>I am stumped on this one, New to reactJS, how do I cleanly include a database.js so that its available to my components. What would be a best-practise to do so. (should I minify the databse, or does react do that for me?). I learnt that you can use <code>var database = require(./database.js)</code> but this does not seem to work, I want to essentially define global variables to be used throughout my react app. Thank you :) </p>\n\n<pre><code>const cellType = [\"None\", \"Defence\", \"Mobility\", \"Power\", \"Technique\", \"Utility\"];\nconst weaponType = [\"Aether Strikers\", \"Axe\", \"Chain Blades\", \"Hammer\", \"Repeater\", \"Sword\", \"War Pike\"];\nconst armorType = [\"Head\", \"Torso\", \"Arms\", \"Legs\"];\nconst idList = [\n    \"Boreus\",\n    \"Charrogg\",\n    \"Drask\",\n    \"Embermane\",\n    \"Recruit's\",\n    \"Gnasher\",\n    \"Hellion\",\n    \"Kharabak\",\n    \"Koshai\",\n    \"Nayzaga\",\n    \"Pangar\",\n    \"Quillshot\",\n    \"Rezakiri\",\n    \"Riftstalker\",\n    \"Shrike\",\n    \"Shrowd\",\n    \"Skarn\",\n    \"Skraev\",\n    \"Stormclaw\",\n    \"Valomyr\",\n    \"Charrogg Exotic\",\n    \"Shrowd Exotic\",\n    \"Rezakiri Exotic\"\n];\n</code></pre>\n"}, {"tags": ["javascript", "html", "url", "google-apps-script", "google-sheets"], "comments": [{"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1570060525, "post_id": 58208748, "comment_id": 102798763, "body": "Can you provide the result you expect? Of course, please remove your personal information. By the way, in your question, there are 3 kinds of endpoints which are <code>docs.google.com&#47;spreadsheets&#47;d&#47;e&#47;###&#47;pubhtml</code>, <code>docs.google.com&#47;spreadsheets&#47;d&#47;###&#47;edit</code> and <code>docs.google.com&#47;spreadsheets&#47;d&#47;###&#47;editedit</code>. Can I ask you about them?"}, {"owner": {"reputation": 3992, "user_id": 1330560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4869869f3ab6b5c0dd7d4affddf113?s=128&d=identicon&r=PG&f=1", "display_name": "Tedinoz", "link": "https://stackoverflow.com/users/1330560/tedinoz"}, "edited": false, "score": 0, "creation_date": 1570077918, "post_id": 58208748, "comment_id": 102801717, "body": "Would you please share a copy of your spreadsheet, and include an example (in pseudocode) of a successful outcome."}, {"owner": {"reputation": 21, "user_id": 11818213, "user_type": "registered", "profile_image": "https://graph.facebook.com/2636899019737895/picture?type=large", "display_name": "Sergey Tsarev", "link": "https://stackoverflow.com/users/11818213/sergey-tsarev"}, "edited": false, "score": 0, "creation_date": 1570084025, "post_id": 58208748, "comment_id": 102803383, "body": "corrected my text with an example in pseudocode. the &quot;editedit&quot; in the url is a typo"}], "answers": [{"tags": [], "owner": {"reputation": 9460, "user_id": 11551468, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5ZwJZ.jpg?s=128&g=1", "display_name": "Rafa Guillermo", "link": "https://stackoverflow.com/users/11551468/rafa-guillermo"}, "is_accepted": false, "score": 0, "last_activity_date": 1595232075, "last_edit_date": 1595232075, "creation_date": 1570198883, "answer_id": 58238250, "question_id": 58208748, "link": "https://stackoverflow.com/questions/58208748/find-and-select-a-cell-based-on-url-in-google-sheets/58238250#58238250", "title": "find and select a cell based on URL in google sheets", "body": "<h3>Answer:</h3>\n<p><em>You can build a web-app which redirects to the cell you need based on the outcome of a conditional statement.</em></p>\n<h3>Details:</h3>\n<p>You can set each of the QR codes to contain the chemical ID as a URL parameter and then load the sheet based on what the parameter is:</p>\n<p><strong>Example Web-App URL:</strong></p>\n<pre><code>https://script.google.com/a/google.com/macros/s/&lt;web-app-ID&gt;/exec?chemNo=cp1000\n</code></pre>\n<p><strong>Apps Script code:</strong></p>\n<pre class=\"lang-js prettyprint-override\"><code>function doGet(e){\n  var sheetUrl = &quot;&lt;your-spreadsheet-URL-with-gid&gt;&quot;;\n  var cell = getCell(e.parameter.chemNo, url);\n\n  return HtmlService.createHtmlOutput('&lt;script&gt;window.location.replace(&quot;' + sheetUrl + '&amp;range=' + cell + '&quot;&lt;/script&gt;');\n}\n\nfunction getCell(chemNo, url){\n  \n  //get the first sheet of your \n  var sheet = SpreadsheetApp.openByUrl(url).getSheets()[0];\n  var lastRow = sheet.getLastRow();\n  var range = sheet.getRange('A1:A' + lastRow).getValues();\n  \n  for(var i = 0; i &lt; lastRow; i++){\n    if(range[i] == chemNo){\n      return 'B' + (i + 1);\n    }\n  }\n}\n</code></pre>\n<p>This will take the parameter, find which row it is in and return the cell <code>BX</code> where <code>X</code> is the corresponding row to which the chemNo is in, and finally redirect to the sheet with the range of the cell that you need.</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11818213, "user_type": "registered", "profile_image": "https://graph.facebook.com/2636899019737895/picture?type=large", "display_name": "Sergey Tsarev", "link": "https://stackoverflow.com/users/11818213/sergey-tsarev"}, "is_accepted": false, "score": 0, "last_activity_date": 1570774454, "creation_date": 1570774454, "answer_id": 58335220, "question_id": 58208748, "link": "https://stackoverflow.com/questions/58208748/find-and-select-a-cell-based-on-url-in-google-sheets/58335220#58335220", "title": "find and select a cell based on URL in google sheets", "body": "<p>Thanks for you suggestion. \nI indeed ended up by making a simple 1 page webapp.  JS is actually surprisingly easy to learn.\nI use  somewhat a weird way to pass variables from doGet() function, by storing them in a spreadsheet, since  can return only html output with the function.</p>\n\n<pre><code>function doGet(e){\n  var url = \"https://docs.google.com/spreadsheets/d/13sLioJr_T6lRODrvGSqQ7y_pStBR8CKxReYwLUn4hao/edit#gid=0\";\n  var [ID, chemical, totalAmount, name, targetRow, unit] = fill(e);\n  var ss = SpreadsheetApp.openByUrl(url).getSheetByName(\"Supplementary\");\n  ss.getRange(\"B5\").setValue(ID);\n  ss.getRange(\"B6\").setValue(name);\n  ss.getRange(\"B7\").setValue(targetRow);\n  ss.getRange(\"B8\").setValue(Session.getActiveUser().getEmail());\n  Logger.log(ID);\n  var data = {ID:ID, chemical :chemical, totalAmount :totalAmount, unit :unit};\n   var html = HtmlService\n      .createTemplateFromFile('FrontEnd.html')\n      .evaluate()\n      .getContent();\n   return HtmlService\n     .createTemplate(html +    \n       \"&lt;script&gt;\\n\" + \n        \"postChemicals( \" +\n        JSON.stringify(data) +\n        \");\\n&lt;/script&gt;\")\n        .evaluate();\n}\n//  \n\n\nfunction fill(e){\n  // this function extracts event parameters and gets a cell from spreadsheet with query from URL\n  // where name equals to spreadsheet name and ID to the chemical ID generated by \"Code.gs\"\n  var url = \"&lt;post your url&gt;\";\n    var ID = e.parameter.ID;\n    var name = e.parameter.name;\n  var targetRow =getCell(ID,name);\n  var sheet = SpreadsheetApp.openByUrl(url).getSheetByName(name);\n  var chemical = sheet.getRange(\"B\"+targetRow).getValue()\n  var totalAmount = sheet.getRange(\"D\"+targetRow).getValue()- \n  sheet.getRange(\"C\"+targetRow).getValue();\n  var takenCell = sheet.getRange(\"C\"+targetRow);\n  var unit = sheet.getRange(\"E\"+targetRow).getValue();\n  Logger.log(\"fill(e) called\");\n  return [ID, chemical, totalAmount,name, targetRow, unit ]\n}\n\nfunction getCell(chemNo, name){\n  var url = \"https://docs.google.com/spreadsheets/d/13sLioJr_T6lRODrvGSqQ7y_pStBR8CKxReYwLUn4hao/edit#gid=0\";\n // this is a function that searches for a cell\n  //get the first sheet of your \n  var sheet = SpreadsheetApp.openByUrl(url).getSheetByName(name);\n  var lastRow = sheet.getLastRow();\n  var range = sheet.getRange('A1:A' + lastRow).getValues();\n\n  for(var i = 0; i &lt; lastRow; i++){\n    if(range[i] == chemNo){\n      return  (i + 1);\n    }\n  }\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 11818213, "user_type": "registered", "profile_image": "https://graph.facebook.com/2636899019737895/picture?type=large", "display_name": "Sergey Tsarev", "link": "https://stackoverflow.com/users/11818213/sergey-tsarev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 940, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1595232075, "creation_date": 1570047224, "last_edit_date": 1570094204, "question_id": 58208748, "link": "https://stackoverflow.com/questions/58208748/find-and-select-a-cell-based-on-url-in-google-sheets", "title": "find and select a cell based on URL in google sheets", "body": "<p>I made a simple sheet based database for chemicals using google sheets.\nThe sheet looks like this:\n<a href=\"https://docs.google.com/spreadsheets/d/e/2PACX-1vR0-AMEKNM3ZbDq67OIKWnc7E3KP8kfOsnr0Bjg2OSjpevLLjniknGXfIiiyZvbwE9bz3EfbOpO46ef/pubhtml?gid=292509613&amp;single=true\" rel=\"nofollow noreferrer\">https://docs.google.com/spreadsheets/d/e/2PACX-1vR0-AMEKNM3ZbDq67OIKWnc7E3KP8kfOsnr0Bjg2OSjpevLLjniknGXfIiiyZvbwE9bz3EfbOpO46ef/pubhtml?gid=292509613&amp;single=true</a></p>\n\n<p>There are many rows and columns.\nA user can change a value of a cell using a url link\nsomething like this\n<a href=\"https://docs.google.com/spreadsheets/d/13sLioJr_T6lqQ7y_pStBR8CKxReYwLUn4hao/edit#gid=292509613&amp;range=B2\" rel=\"nofollow noreferrer\">https://docs.google.com/spreadsheets/d/13sLioJr_T6lqQ7y_pStBR8CKxReYwLUn4hao/edit#gid=292509613&amp;range=B2</a></p>\n\n<p>the link is converted to a QR code, which is used by someone who need to remotely change the value of the cell from phone, without searching for a specific chemical manually</p>\n\n<p>The problems start when someone introduces a new row, and then location of each cell is changed, now all the url (i.e printed QR codes) select wrong chemicals. Now all the urls are wrong, and I have to manually fix this and move the new row to the bottom of the table</p>\n\n<p>Ideally I would want select a cell with a query based on the chemical's ID (in this case cp1000)\nsomething like (in pseudocode)\ndocs.google.com/spreadsheets/d/13sLioJr..../edit#gid=292509613&amp;range=(select cell B(row_number) where cell A contains(cp1000))</p>\n\n<p>An example of sucessful outcome will be selection of cell in column B based on column A</p>\n\n<p>in pseudocode:</p>\n\n<pre><code> cell = Cell()\n id = query.exctract_id()\n for n in range(1,max_row):\n    if cell(column_number = 'A', row_number = n).value == id:\n        select cell(column_number ='B', row_number = n)\n        break\n</code></pre>\n\n<p>is there anyway to write it in a URL?\nBig thanks in advance</p>\n"}, {"tags": ["javascript", "api", "fetch", "response"], "answers": [{"tags": [], "owner": {"reputation": 93, "user_id": 3716398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/af40b879ff5282125387b88ac1690c6d?s=128&d=identicon&r=PG&f=1", "display_name": "Voxum", "link": "https://stackoverflow.com/users/3716398/voxum"}, "is_accepted": false, "score": 0, "last_activity_date": 1570060932, "last_edit_date": 1570060932, "creation_date": 1570047472, "answer_id": 58208812, "question_id": 58208690, "link": "https://stackoverflow.com/questions/58208690/getting-api-response-payload-using-fetch/58208812#58208812", "title": "Getting API response payload using fetch", "body": "<p>Based off the docs, I'd do something more along the lines of this:</p>\n\n<pre><code>const response = await fetch('http://example.com/movies.json')\nconst myJson = await response.json();\nconsole.log(JSON.stringify(myJson));\n</code></pre>\n\n<p>Otherwise you have to do everything inside of your <code>.then()</code>.</p>\n\n<p>In regards to the additional text you are looking for, that's totally dependent on the response object, and I have no way of knowing without seeing it.</p>\n"}, {"tags": [], "owner": {"reputation": 1455, "user_id": 8334663, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jW47.jpg?s=128&g=1", "display_name": "sao", "link": "https://stackoverflow.com/users/8334663/sao"}, "is_accepted": false, "score": -1, "last_activity_date": 1570049731, "last_edit_date": 1570049731, "creation_date": 1570048190, "answer_id": 58208960, "question_id": 58208690, "link": "https://stackoverflow.com/questions/58208690/getting-api-response-payload-using-fetch/58208960#58208960", "title": "Getting API response payload using fetch", "body": "<p>@Voxum, your answer is missing important info, like a method..and <code>;</code> await is good, but remember it should be in an async function, and you dont need to use it if you \"thenify\" <code>.then()</code> as that returns the promise. from the Fetch docs, that is their basic get/HTML example. i think the OP is asking for a API call for different types of methods, which will require a more advanced setup.</p>\n\n<p>The thing is with a 400 response, the server is not giving you a response message as the 404 (for example) is telling you the page is not found. Usually the only time a server will give you a response message is when you get a good (success/200). there will usually be a message at response.json() or response.text() depending on your data coming back.</p>\n\n<p>after you call fetch with the url, method and any headers use\n<code>.then((response) =&gt; {console.log(response.json());});</code> for json and use \n<code>.then((response) =&gt; {console.log(response.text());});</code> for xml/text</p>\n\n<p>OP has the fetch set up properly but just needs to use <code>response.json()</code> or <code>response.text()</code>. again, a 200 response can still be a \"incorrect password\" and this is where you'll use this. don't expect a response body on the 400/500s. good luck!</p>\n"}, {"comments": [{"owner": {"reputation": 33, "user_id": 11280029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aa6qy.jpg?s=128&g=1", "display_name": "dmrobotix", "link": "https://stackoverflow.com/users/11280029/dmrobotix"}, "edited": false, "score": 0, "creation_date": 1570207645, "post_id": 58209437, "comment_id": 102853061, "body": "Thanks I will try this and I&#39;ll see if it works for me."}], "tags": [], "owner": {"reputation": 896, "user_id": 11129093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gjfTL.jpg?s=128&g=1", "display_name": "hexbioc", "link": "https://stackoverflow.com/users/11129093/hexbioc"}, "is_accepted": false, "score": 1, "last_activity_date": 1570050802, "creation_date": 1570050802, "answer_id": 58209437, "question_id": 58208690, "link": "https://stackoverflow.com/questions/58208690/getting-api-response-payload-using-fetch/58209437#58209437", "title": "Getting API response payload using fetch", "body": "<p>You seem to be passing only the <code>statusText</code> field of the response, which corresponds to the HTTP status code <em>(And not the response body)</em> - for example <code>Bad Request</code> for HTTP response code <code>400</code>.</p>\n\n<p>You can read the response body using one of the methods defined on the Response object returned by the fetch API. For example, if you're expecting a JSON response body, you can have:</p>\n\n<pre><code>const onSuccess = response =&gt; {\n  // Do something with the response\n  // What you return from here will go to the next .then\n}\n\nconst onFailure = response =&gt; {\n  // response.json() returns a promise that resolves to the JSON sent in the body\n  // Note that whatever is returned from here will go to the next .then\n  // To go to the next .catch, you can throw from here\n  return response.json().then(jsonResponse =&gt; console.log(jsonResponse))\n}\n\nfetch(url, {\n  method: 'POST',\n  body: JSON.stringify({\n    name: name,\n    description: description\n  }),\n  headers: {\n    \"Content-type\": \"application/json; charset=UTF-8\",\n    \"Authorization\": \"Bearer \" + token\n  }\n}).then(response =&gt; {\n  if (!response.ok) {\n    throw response\n  }\n  return response\n})\n.then(onSuccess, onFailure)\n.catch(err =&gt; { /* Any error thrown from the handlers will be caught here */ })\n</code></pre>\n\n<p>You can have a look at the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Response\" rel=\"nofollow noreferrer\">Response object documentation</a> for more details.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 11280029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aa6qy.jpg?s=128&g=1", "display_name": "dmrobotix", "link": "https://stackoverflow.com/users/11280029/dmrobotix"}, "is_accepted": true, "score": 2, "last_activity_date": 1571773369, "creation_date": 1571773369, "answer_id": 58511253, "question_id": 58208690, "link": "https://stackoverflow.com/questions/58208690/getting-api-response-payload-using-fetch/58511253#58511253", "title": "Getting API response payload using fetch", "body": "<p>Thank you everyone for your suggestions.</p>\n\n<p>This tutorial helped me understand what to do.</p>\n\n<p><a href=\"https://css-tricks.com/using-fetch/\" rel=\"nofollow noreferrer\">https://css-tricks.com/using-fetch/</a></p>\n\n<p>My problem was that when there is an error, the response is not JSON, it's text. So I needed to do something like this (taken from css-tricks.com):</p>\n\n<pre><code>fetch('https://api.github.com/users/chriscoyier/repos')\n.then(response =&gt; response.text())\n  .then(data =&gt; {\n    console.log(data)\n  });\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 11280029, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aa6qy.jpg?s=128&g=1", "display_name": "dmrobotix", "link": "https://stackoverflow.com/users/11280029/dmrobotix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1928, "favorite_count": 0, "accepted_answer_id": 58511253, "answer_count": 4, "score": 0, "last_activity_date": 1571773369, "creation_date": 1570046902, "question_id": 58208690, "link": "https://stackoverflow.com/questions/58208690/getting-api-response-payload-using-fetch", "title": "Getting API response payload using fetch", "body": "<p>I am using fetch to get the API response for GET and POST requests. When an error occurs, I am able to see the status code and the text i.e, 400 Bad Request. However, there is additional information being passed that explains why the error was thrown (i.e. username did not match). I can see this additional message in the response payload via Firefox developer tool's console but I am not sure how to get it via handling the fetch response.</p>\n\n<p>Here's an example request:</p>\n\n<pre><code>fetch(url, {\n  method: 'POST',\n  body: JSON.stringify({\n    name: name,\n    description: description\n  }),\n  headers: {\n    \"Content-type\": \"application/json; charset=UTF-8\",\n    \"Authorization\": \"Bearer \" + token\n  }\n}).then(response =&gt; {\n  if (!response.ok) {\n    throw Error(response.statusText)\n\n  }\n  return response\n})\n.catch(error =&gt; {\n  console.log(error)\n})\n</code></pre>\n\n<p>Any ideas? Thanks.</p>\n"}, {"tags": ["javascript", "node.js", "websocket", "socket.io"], "comments": [{"owner": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 0, "creation_date": 1570093108, "post_id": 58208626, "comment_id": 102807518, "body": "You&#39;re also forgetting <code>user = {}</code> is shared between all clients."}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "reply_to_user": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 0, "creation_date": 1570119790, "post_id": 58208626, "comment_id": 102821826, "body": "The <code>user</code> variable is not shared right? It\u2019s only kept in <code>server.js</code> running in node"}, {"owner": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 0, "creation_date": 1570124810, "post_id": 58208626, "comment_id": 102823900, "body": "Its shared between clients, its global. i.e if client A sends its set, then client B sends its set again, if A request the value its going to be data for B."}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "reply_to_user": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 0, "creation_date": 1570205082, "post_id": 58208626, "comment_id": 102852113, "body": "Ah I get what you mean, but I just simplified the code there, yes it should be an array of users with unique ids"}], "answers": [{"comments": [{"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1570047800, "post_id": 58208804, "comment_id": 102795587, "body": "Well my users also have unique id&#39;s, but I still don&#39;t understand how, after a reconnection event, I can update the socket id on both the server and client side at the same time. I still need the socket id to send a message using <code>io.to(socketId).emit(&#39;hello there&#39;);</code>"}, {"owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1570050574, "post_id": 58208804, "comment_id": 102796518, "body": "Thanks for the explanation! So, when a client disconnects and then reconnects, it has to manually send another message back to the server so that the server can couple the client&#39;s id with the new socket id again? And the server has to maintain a list of all users+socketids?"}, {"owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "reply_to_user": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "edited": false, "score": 0, "creation_date": 1570051014, "post_id": 58208804, "comment_id": 102796673, "body": "@Kokodoko Indeed. This &quot;manual message sending&quot; is exactly the authentication step. This step is also necessary due to security (it greatly reduces the risk of impersonation). And yes, the server has to maintain a list/map."}], "tags": [], "owner": {"reputation": 48100, "user_id": 645551, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/3231cd5016283f6ea5963ab1dfa6e27a?s=128&d=identicon&r=PG", "display_name": "freakish", "link": "https://stackoverflow.com/users/645551/freakish"}, "is_accepted": true, "score": 2, "last_activity_date": 1570183846, "last_edit_date": 1570183846, "creation_date": 1570047450, "answer_id": 58208804, "question_id": 58208626, "link": "https://stackoverflow.com/questions/58208626/how-synchronise-socketio-connection-ids-on-client-and-server/58208804#58208804", "title": "How synchronise socketIO connection ID&#39;s on client and server?", "body": "<p>The answer to your question is quite simple: you need a way to identify who is who. And that is not <code>socket.id</code> because this only identifies sockets, not users, as you've already noticed.</p>\n\n<p>So you need some authentication mechanism. Once a user authenticates you can reuse his true id (whether it is simply a name or an integer in a database is irrelevant). And then on the server side you keep a collection of pairs <code>(true_id, socket_id)</code>. And whenever a message comes to that user, you broadcast it to all matched socket.io objects.</p>\n\n<p><strong>Edit:</strong> So here's the flow:</p>\n\n<ol>\n<li>Client authenticates with the server, the server sends him his own <code>true_id</code>, which the client stores somewhere. The client may also store some <code>session_id</code> or maybe some other mechanism that will allow him fast reauthentication in case of disconnection (note: do not store credentials, its a security issue).</li>\n<li>The server keeps track of <code>(true_id, socket_id)</code> pairs in the form of a double way, mutlivalue map (it's an implementation detail what kind of data structure should be used here, maybe two <code>{}</code> objects is enough). If a connection dies then <code>(true_id, socket_id)</code> entry is removed. Note that for a given <code>true_id</code> there still may be some other <code>socket_id</code> alive. And so it doesn't mean that the user disconnected. It only means that this particular channel is dead.</li>\n<li>Users don't care about <code>socket_id</code>, they only care about <code>true_id</code>. What you emit is <code>{target_id: true_id, ...}</code> instead of <code>{target_id: socket_id, ...}</code> on the client side, when you want to send a direct message.</li>\n<li>When the server receives such message with <code>true_id</code> inside, it retrieves all <code>(true_id, socket_id)</code> pairs and passes the message to <strong>all</strong> of these sockets (note: maybe you don't even need <code>socket_id</code>, you can simply store <code>socket</code> objects here). Although this is a business logic: do you allow multiple connections per user? I would. There are many edge cases here (like for example a client thinks that he disconnected, but the server thinks he is still connected, etc) and making this 100% correct is unfortunately impossible (due to the nature of networking). But with a bit of effort it is possible to make it work 99% of the time.</li>\n<li>If a connection dies then it is your client's responsibility to automatically reconnect and reauthenticate. New <code>socket_id</code> for old <code>true_id</code> is generated on the server side.</li>\n</ol>\n\n<p>Let me emphasize this again: clients don't care about <code>socket_id</code> at all. Because that doesn't identify them. This only identifies a channel. And only the server cares about this information.</p>\n"}], "owner": {"reputation": 18854, "user_id": 1083572, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/9xSFI.png?s=128&g=1", "display_name": "Kokodoko", "link": "https://stackoverflow.com/users/1083572/kokodoko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "accepted_answer_id": 58208804, "answer_count": 1, "score": 2, "last_activity_date": 1570183846, "creation_date": 1570046615, "question_id": 58208626, "link": "https://stackoverflow.com/questions/58208626/how-synchronise-socketio-connection-ids-on-client-and-server", "title": "How synchronise socketIO connection ID&#39;s on client and server?", "body": "<p>I have a javascript GameClient that uses SocketIO to send messages to a nodeJs server. Multiple users can open the GameClient separately and send messages to the server.</p>\n\n<pre><code>GameClient\nGameClient  ---&gt; NodeJS Server\nGameClient\n</code></pre>\n\n<p>The server can send messages to specific clients using <code>io.to(socketid).emit()</code>. The code looks something like this:</p>\n\n<p><strong>CLIENT</strong></p>\n\n<pre><code>this.socket = io({ timeout: 60000 })\nthis.socket.on('connect', () =&gt; Settings.getInstance().socketid = this.socket.id)\nthis.socket.on('reconnect', (attemptNumber:number) =&gt; console.log(\"reconnecting...\"))\n\nconst json = JSON.Stringify({socketid:this.socket.id, name:\"Old Billy Bob\"})\nthis.socket.emit('user created', json)\n</code></pre>\n\n<p><strong>SERVER</strong> (simplified for clarity, just keeping track of one user here)</p>\n\n<pre><code>user = {}\n\nio.on('connection', (socket) =&gt; {\n    console.log('new connection')\n    socket.on('disconnect', () =&gt; {\n        console.log('user disconnected')\n    });\n\n    socket.on('user created', (json) =&gt; {\n        user = JSON.parse(json)\n    });\n});\n\n// demo code, send a message to our user\nio.to(user.socketid).emit(\"message to one user\")\n</code></pre>\n\n<p><strong>PROBLEM</strong></p>\n\n<p>When the client browser tab becomes inactive for any reason at all, the client disconnects and reconnects and gets a new socket connection ID. This actually happens a lot in Chrome and Safari.</p>\n\n<p>The server only knows the old connection id, so now it can't send direct messages any more. How do I keep the socket connection id synchronised on the client and server?</p>\n\n<p>Since the server also gets a reconnected event, how does it know which user reconnected?</p>\n"}, {"tags": ["javascript", "vue.js", "loading", "preload"], "answers": [{"comments": [{"owner": {"reputation": 6312, "user_id": 57872, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c3894a3d1a90a0c487ac3d051cd7b69c?s=128&d=identicon&r=PG", "display_name": "Udders", "link": "https://stackoverflow.com/users/57872/udders"}, "edited": false, "score": 0, "creation_date": 1570047268, "post_id": 58208698, "comment_id": 102795406, "body": "This would an option but I want show loading graphic, and then a video when everything is loaded <code>v-cloak</code> looks like it would hide everything?"}], "tags": [], "owner": {"reputation": 10336, "user_id": 10990737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lYeEB.jpg?s=128&g=1", "display_name": "Ifaruki", "link": "https://stackoverflow.com/users/10990737/ifaruki"}, "is_accepted": false, "score": 0, "last_activity_date": 1570068118, "last_edit_date": 1570068118, "creation_date": 1570046928, "answer_id": 58208698, "question_id": 58208615, "link": "https://stackoverflow.com/questions/58208615/showing-loading-screen-while-assets-load-vue-application/58208698#58208698", "title": "Showing loading screen while assets load Vue application", "body": "<p>Maybe you can try it with:</p>\n\n<pre><code>v-cloak\n</code></pre>\n\n<p><code>v-cloak</code> is going to hide your code until everything is loaded; so you could try it with that maybe.</p>\n\n<p>You also need to set a css:</p>\n\n<pre><code>[v-cloak] {display: none}\n</code></pre>\n\n<p>Here the docs: <a href=\"https://vuejs.org/v2/api/#v-cloak\" rel=\"nofollow noreferrer\">https://vuejs.org/v2/api/#v-cloak</a></p>\n"}], "owner": {"reputation": 6312, "user_id": 57872, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/c3894a3d1a90a0c487ac3d051cd7b69c?s=128&d=identicon&r=PG", "display_name": "Udders", "link": "https://stackoverflow.com/users/57872/udders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 341, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570071856, "creation_date": 1570046595, "last_edit_date": 1570071856, "question_id": 58208615, "link": "https://stackoverflow.com/questions/58208615/showing-loading-screen-while-assets-load-vue-application", "title": "Showing loading screen while assets load Vue application", "body": "<p>I am writing a vue application at the moment, I want to show a loading screen while the JS, CSS, images &amp; videos are loaded.</p>\n\n<p>What is the best way to go about this?</p>\n\n<p>Obviously I can use: </p>\n\n<pre><code>window.addEventListener('load', () =&gt; {\n    alert(\"every thing has loaded\");\n})\n</code></pre>\n\n<p>But should this be done in an initial Vue component, or should I initial Vue once everything is loaded?</p>\n"}, {"tags": ["javascript", "html", "angular", "scrollbar"], "comments": [{"owner": {"reputation": 1959, "user_id": 12094894, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NjIomZJlN5g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reQRTujazUTsx8ooT0_rHUW6q7FPA/photo.jpg?sz=128", "display_name": "Simon Crane", "link": "https://stackoverflow.com/users/12094894/simon-crane"}, "edited": false, "score": 0, "creation_date": 1570046562, "post_id": 58208568, "comment_id": 102795140, "body": "Could you post the relevant section of your code?"}, {"owner": {"reputation": 886, "user_id": 6401734, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/87dbeb33da7c89f7b7a55a8bcf792301?s=128&d=identicon&r=PG&f=1", "display_name": "MattE", "link": "https://stackoverflow.com/users/6401734/matte"}, "reply_to_user": {"reputation": 1959, "user_id": 12094894, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NjIomZJlN5g/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reQRTujazUTsx8ooT0_rHUW6q7FPA/photo.jpg?sz=128", "display_name": "Simon Crane", "link": "https://stackoverflow.com/users/12094894/simon-crane"}, "edited": false, "score": 0, "creation_date": 1570046897, "post_id": 58208568, "comment_id": 102795270, "body": "@SimonCrane there isn&#39;t a lot I can really post, but I posted the general setup of the parent component HTML...basically I want to scroll p-panel4 to the top of the window when it gets expanded. I&#39;ve also tried putting the &#39;scrollToHere&#39; id on an element inside p-panel4 about half way down but that didn&#39;t work either."}], "answers": [{"comments": [{"owner": {"reputation": 886, "user_id": 6401734, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/87dbeb33da7c89f7b7a55a8bcf792301?s=128&d=identicon&r=PG&f=1", "display_name": "MattE", "link": "https://stackoverflow.com/users/6401734/matte"}, "edited": false, "score": 1, "creation_date": 1570048136, "post_id": 58208808, "comment_id": 102795706, "body": "Yes, I found this out on my own after remembering a similar issue I had a while back on another project...even using setTimeout(0) works...but you definitely deserve the credit for solving it out of the box without having to go through all of it haha"}, {"owner": {"reputation": 886, "user_id": 6401734, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/87dbeb33da7c89f7b7a55a8bcf792301?s=128&d=identicon&r=PG&f=1", "display_name": "MattE", "link": "https://stackoverflow.com/users/6401734/matte"}, "edited": false, "score": 0, "creation_date": 1570048581, "post_id": 58208808, "comment_id": 102795864, "body": "also found out that onAfterToggle works too, although it scrolls past the panel header"}], "tags": [], "owner": {"reputation": 1418, "user_id": 7934629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f317864efe49007e9393dc29c68b7a8?s=128&d=identicon&r=PG&f=1", "display_name": "Hitech Hitesh", "link": "https://stackoverflow.com/users/7934629/hitech-hitesh"}, "is_accepted": true, "score": 2, "last_activity_date": 1570047465, "creation_date": 1570047465, "answer_id": 58208808, "question_id": 58208568, "link": "https://stackoverflow.com/questions/58208568/angular-8-cannot-get-child-panel-to-scroll-properly-to-top-of-screen/58208808#58208808", "title": "Angular 8 cannot get child panel to scroll properly to top of screen", "body": "<p>@Matte the scroll into view should work.  But it seems that the scroll into view is triggered before you contents are expanded  so try with some delay. And there should be more page content below your last panel if there is nothing and it is the last thing on page then the page would not scroll to the top of the height is smaller then the screen</p>\n"}], "owner": {"reputation": 886, "user_id": 6401734, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/87dbeb33da7c89f7b7a55a8bcf792301?s=128&d=identicon&r=PG&f=1", "display_name": "MattE", "link": "https://stackoverflow.com/users/6401734/matte"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 58208808, "answer_count": 1, "score": 1, "last_activity_date": 1570048056, "creation_date": 1570046371, "last_edit_date": 1570048056, "question_id": 58208568, "link": "https://stackoverflow.com/questions/58208568/angular-8-cannot-get-child-panel-to-scroll-properly-to-top-of-screen", "title": "Angular 8 cannot get child panel to scroll properly to top of screen", "body": "<p>I have a parent component that has 4 child components inside of it, each of them a primeNg panel with a form inside of them.  The first 3 panels are expanded at all times(the collapse and expand icons are set to empty strings) and the last one is collapsed on load. On the last panel, I have a button that allows you to \"Edit\" the information which appears inside it and expands the panel. </p>\n\n<p>What I would like is for this 4th panel to then get pulled to the top of the screen. However what actually happens is the panel expands and the scroll bar moves up, but the panel itself stays put.  </p>\n\n<p>I have tried several different options to get this working using various combinations of scrollTop, offsetTop, scrollIntoView, etc but nothing has worked.  The scrollbar moves but the content does not, it stays where it was.</p>\n\n<p>I even tried to set the id to an element half way down the form on the last panel and then used scrollIntoView: {block: 'center'} as an option...still nothing, same thing, it scrolls the scrollbar but not the content.</p>\n\n<p>Can someone help me out with this and let me know what I am doing wrong?</p>\n\n<p>in parent component:</p>\n\n<pre><code>&lt;p-panel1&gt;&lt;/p-panel1&gt;\n&lt;p-panel2&gt;&lt;/p-panel2&gt;\n&lt;p-panel3&gt;&lt;/p-panel3&gt;\n&lt;p-panel4 id='scrollToHere'&gt;&lt;/p-panel4&gt; &lt;---I want to scroll p-panel4 to top of the window \n                                            when the edit button is clicked\n</code></pre>\n\n<p>UPDATE:\nGot it fixed by using <code>setTimeout(document.getElementById('scrollToHere').scrollIntoView({behavior: 'smooth', block: 'start'}),0)</code>  </p>\n\n<p>gotta be one of those weird DOM things where it tried to scroll before the panel was expanded...will try and change it to onAfterToggle but not sure if that will work because I am not using the icons and using a button to do it.</p>\n"}, {"tags": ["javascript", "angularjs"], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 11887947, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5pQAXxfFqFI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZs4NiEK4h3cmWvHJWbXG3Y85vMw/photo.jpg?sz=128", "display_name": "CodingSomething", "link": "https://stackoverflow.com/users/11887947/codingsomething"}, "edited": false, "score": 0, "creation_date": 1570046662, "post_id": 58208628, "comment_id": 102795174, "body": "*physical pages = Actual files on the server"}], "tags": [], "owner": {"reputation": 429, "user_id": 11887947, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-5pQAXxfFqFI/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZs4NiEK4h3cmWvHJWbXG3Y85vMw/photo.jpg?sz=128", "display_name": "CodingSomething", "link": "https://stackoverflow.com/users/11887947/codingsomething"}, "is_accepted": false, "score": 1, "last_activity_date": 1570046635, "creation_date": 1570046635, "answer_id": 58208628, "question_id": 58208547, "link": "https://stackoverflow.com/questions/58208547/error-404-in-angular-project-when-key-up-ctrlf5/58208628#58208628", "title": "Error 404 in angular project when key up ctrl+F5", "body": "<p>Angular doesn't have physical pages representing those routes but updating the history and the URL using Javascript.</p>\n\n<p>You can start browsing from the root (/) and make your way to those pages but since there aren't any files or redirections set up on your web server, Angular cannot catch requests coming directly to the said URL.</p>\n\n<p>If you're using Apache Server, you can use following htaccess configuration to direct requests to angular index.html file.</p>\n\n<pre><code>&lt;IfModule mod_rewrite.c&gt;\n  RewriteEngine On\n\n  RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -f [OR]\n  RewriteCond %{DOCUMENT_ROOT}%{REQUEST_URI} -d\n\n  RewriteRule ^.*$ - [NC,L]\n  RewriteRule ^(.*) index.html [NC,L]\n&lt;/IfModule&gt;\n</code></pre>\n"}], "owner": {"reputation": 568, "user_id": 10116812, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RLdFH.jpg?s=128&g=1", "display_name": "Mojtaba Nava", "link": "https://stackoverflow.com/users/10116812/mojtaba-nava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 134, "favorite_count": 0, "closed_date": 1570047880, "answer_count": 1, "score": -2, "last_activity_date": 1570047907, "creation_date": 1570046255, "last_edit_date": 1570047907, "question_id": 58208547, "link": "https://stackoverflow.com/questions/58208547/error-404-in-angular-project-when-key-up-ctrlf5", "closed_reason": "Duplicate", "title": "Error 404 in angular project when key up ctrl+F5", "body": "<p>I've an angular project and i published my website in domain <code>https://rataport.com</code>.</p>\n\n<p>In this domain when I clicked on products and key up crrl+F5 404 page show (<code>https://rataport.com/products/category/7441</code>).\n<a href=\"https://i.stack.imgur.com/Sf4kP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sf4kP.png\" alt=\"enter image description here\"></a></p>\n\n<p>What could be the reason?</p>\n"}, {"tags": ["javascript", "html", "go"], "answers": [{"comments": [{"owner": {"reputation": 739, "user_id": 5801621, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eca1a0e83999e7a4a00f7774b15f1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "O. San", "link": "https://stackoverflow.com/users/5801621/o-san"}, "edited": false, "score": 0, "creation_date": 1570047888, "post_id": 58208560, "comment_id": 102795625, "body": "Thank you! and one more small Q, when I &quot;View Page Source&quot;, I basicly see the raw HTML? It would be identical to the HTTP requests&#39; response?"}, {"owner": {"reputation": 2643, "user_id": 1377323, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/963103a32936718819cd95ed38fb43fb?s=128&d=identicon&r=PG", "display_name": "herrbischoff", "link": "https://stackoverflow.com/users/1377323/herrbischoff"}, "reply_to_user": {"reputation": 739, "user_id": 5801621, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eca1a0e83999e7a4a00f7774b15f1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "O. San", "link": "https://stackoverflow.com/users/5801621/o-san"}, "edited": false, "score": 0, "creation_date": 1570048107, "post_id": 58208560, "comment_id": 102795697, "body": "If the server does not change the output for different user agents, then yes, it should be identical. Also, if you feel that my answer helped you, you could <a href=\"http://meta.stackexchange.com/a/5235\">accept it</a>."}, {"owner": {"reputation": 14671, "user_id": 2317490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ypoen.png?s=128&g=1", "display_name": "dandavis", "link": "https://stackoverflow.com/users/2317490/dandavis"}, "edited": false, "score": 0, "creation_date": 1570048141, "post_id": 58208560, "comment_id": 102795708, "body": "isn&#39;t there a html parser for go yet?"}, {"owner": {"reputation": 2643, "user_id": 1377323, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/963103a32936718819cd95ed38fb43fb?s=128&d=identicon&r=PG", "display_name": "herrbischoff", "link": "https://stackoverflow.com/users/1377323/herrbischoff"}, "edited": false, "score": 3, "creation_date": 1570048261, "post_id": 58208560, "comment_id": 102795752, "body": "There certainly is (Example: <a href=\"https://github.com/PuerkitoBio/goquery\" rel=\"nofollow noreferrer\">github.com/PuerkitoBio/goquery</a>). However, like I mentioned, an HTML parser will <b>not</b> apply DOM manipulations made by JavaScript, which is what OP is apparently asking for."}], "tags": [], "owner": {"reputation": 2643, "user_id": 1377323, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/963103a32936718819cd95ed38fb43fb?s=128&d=identicon&r=PG", "display_name": "herrbischoff", "link": "https://stackoverflow.com/users/1377323/herrbischoff"}, "is_accepted": true, "score": 2, "last_activity_date": 1570047962, "last_edit_date": 1570047962, "creation_date": 1570046341, "answer_id": 58208560, "question_id": 58208468, "link": "https://stackoverflow.com/questions/58208468/retrieve-website-dom-via-http-request-in-go/58208560#58208560", "title": "Retrieve website DOM via http request in GO", "body": "<p>A simple HTTP request (via Go or anything else) will only ever get the raw HTML. The DOM is a browser-generated interpretation of the raw HTML. Yes, there is even something like the <a href=\"https://glazkov.com/2011/01/14/what-the-heck-is-shadow-dom/\" rel=\"nofollow noreferrer\">Shadow DOM</a>.</p>\n\n<p>JavaScript is interpreted by the browsers' JavaScript engine which applies changes to the DOM, adds event listeners and dynamically manipulates said DOM.</p>\n\n<p>This is why you cannot get the DOM state you see in a browser through a HTTP request. The request does not contain all the client-side DOM manipulations done through a browsers' JavaScript engine. A request library is not a browser.</p>\n\n<p>To get access to the full rendered DOM you're accustomed to see in the Developer Tools, you're going to need a more involved web scraping setup, usually involving a headless browser, like <a href=\"https://github.com/GoogleChrome/puppeteer\" rel=\"nofollow noreferrer\">Puppeteer</a>. However, this is written in Node.js. Given Go, you may have better luck with <a href=\"https://github.com/chromedp/chromedp\" rel=\"nofollow noreferrer\">chromedp</a> or <a href=\"https://github.com/mafredri/cdp\" rel=\"nofollow noreferrer\">cdp</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 26005, "user_id": 11923999, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/M84sB.png?s=128&g=1", "display_name": "Burak Serdar", "link": "https://stackoverflow.com/users/11923999/burak-serdar"}, "is_accepted": false, "score": 0, "last_activity_date": 1570046524, "creation_date": 1570046524, "answer_id": 58208600, "question_id": 58208468, "link": "https://stackoverflow.com/questions/58208468/retrieve-website-dom-via-http-request-in-go/58208600#58208600", "title": "Retrieve website DOM via http request in GO", "body": "<p>DOM stands for \"Document Object Model\", which is a tree of nodes where each node represents an element of the underlying document. Nodes may correspond to elements, text, comments, etc. There are many go-based DOM packages around. One you should look at is: </p>\n\n<p><a href=\"https://godoc.org/golang.org/x/net/html\" rel=\"nofollow noreferrer\">https://godoc.org/golang.org/x/net/html</a></p>\n\n<p>It lets you parse HTML, and traverse elements of the document programatically. </p>\n"}], "owner": {"reputation": 739, "user_id": 5801621, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/eca1a0e83999e7a4a00f7774b15f1ca2?s=128&d=identicon&r=PG&f=1", "display_name": "O. San", "link": "https://stackoverflow.com/users/5801621/o-san"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 58208560, "answer_count": 2, "score": 0, "last_activity_date": 1570047962, "creation_date": 1570045835, "question_id": 58208468, "link": "https://stackoverflow.com/questions/58208468/retrieve-website-dom-via-http-request-in-go", "title": "Retrieve website DOM via http request in GO", "body": "<p>in GO I use HTTP request to get a site html and I see in some elements difference than when using Inspect in Chrome. A search in google and some reading led me to understand that what I see in Inspect is a stage called DOM which takes the raw html and runs some java scripts that add info and alter elements (go easy on me, I'm new at this ^_^).\nIs there a why I can receive in GO the DOM instead of the raw html? I know I can use Chromedp, but I'm hoping for something more like some sort of an HTTP package because Chromedp a bit heavy on performance.\nI would really appreciate any suggestions, thank you.   </p>\n"}, {"tags": ["javascript", "vue.js", "ag-grid"], "answers": [{"comments": [{"owner": {"reputation": 171, "user_id": 7551481, "user_type": "registered", "profile_image": "https://graph.facebook.com/1231382973609596/picture?type=large", "display_name": "Oleg Zinchenko", "link": "https://stackoverflow.com/users/7551481/oleg-zinchenko"}, "edited": false, "score": 0, "creation_date": 1572012530, "post_id": 58414483, "comment_id": 103439298, "body": "Thanks a lot, I used  <code>height: 0 !important;</code>"}, {"owner": {"reputation": 1483, "user_id": 2784523, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7c7f95a34a7510642c41e3cf1e30cb6c?s=128&d=identicon&r=PG&f=1", "display_name": "Angela P", "link": "https://stackoverflow.com/users/2784523/angela-p"}, "edited": false, "score": 0, "creation_date": 1606336948, "post_id": 58414483, "comment_id": 114937537, "body": "I&#39;m having the same issue. and it&#39;s only happening to some of my ag-grid. struggling to understand why this style fix is needed."}], "tags": [], "owner": {"reputation": 76, "user_id": 12226808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/158eba1db415d5f7def285dd49e5559a?s=128&d=identicon&r=PG&f=1", "display_name": "joolsf", "link": "https://stackoverflow.com/users/12226808/joolsf"}, "is_accepted": true, "score": 6, "last_activity_date": 1571232331, "creation_date": 1571232331, "answer_id": 58414483, "question_id": 58208434, "link": "https://stackoverflow.com/questions/58208434/why-rows-disappear-when-i-click-on-filter-in-ag-grid/58414483#58414483", "title": "Why rows disappear when I click on filter in ag-grid?", "body": "<p>I don't know if it's the same issue, but I came to this post while hunting down very similar experience. I found a div with class ag-popup, if I make a css rule that gives that a height of 0 it's seeming to fix the issue and I haven't seen a side effect yet. ie</p>\n\n<pre><code>.ag-popup \n{\n  height: 0;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 12912941, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/260b3303c76e7591bd2e9fc91703eb9c?s=128&d=identicon&r=PG&f=1", "display_name": "Thijs", "link": "https://stackoverflow.com/users/12912941/thijs"}, "is_accepted": false, "score": 1, "last_activity_date": 1581946426, "creation_date": 1581946426, "answer_id": 60263636, "question_id": 58208434, "link": "https://stackoverflow.com/questions/58208434/why-rows-disappear-when-i-click-on-filter-in-ag-grid/60263636#60263636", "title": "Why rows disappear when I click on filter in ag-grid?", "body": "<p>Same thing happened to me while using Svelte, used the answer by joolsf.\nWhen checking \".ag-theme-balham\" was also applied to the div as explained by joolsf. In there a min-height was set. This means I had to add the following:</p>\n\n<pre><code>.ag-popup {\n    height: 0 !important;\n    min-height: 0 !important;\n}\n</code></pre>\n"}], "owner": {"reputation": 171, "user_id": 7551481, "user_type": "registered", "profile_image": "https://graph.facebook.com/1231382973609596/picture?type=large", "display_name": "Oleg Zinchenko", "link": "https://stackoverflow.com/users/7551481/oleg-zinchenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 933, "favorite_count": 0, "accepted_answer_id": 58414483, "answer_count": 2, "score": 2, "last_activity_date": 1581946426, "creation_date": 1570045704, "last_edit_date": 1570094877, "question_id": 58208434, "link": "https://stackoverflow.com/questions/58208434/why-rows-disappear-when-i-click-on-filter-in-ag-grid", "title": "Why rows disappear when I click on filter in ag-grid?", "body": "<p>When I click on the filter icon next to each column, it opens the popup showing the options for selecting the filter, however only the popup shows, the actual grid behind it vanishes. So the popup is just floating on an empty background. When I close the popup, the grid returns.\nI use Vue.js only by <code>&lt;script src=\"./js/vue.js\"&gt;&lt;/script&gt;</code>\nMy html:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\n  &lt;script src=\"./node_modules/ag-grid-community/dist/ag-grid-community.min.noStyle.js\"&gt;&lt;/script&gt;\n  &lt;link rel=\"stylesheet\" href=\"node_modules/xel/themes/material.css\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"css/style.css\"&gt;\n  &lt;title&gt;Test&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n  &lt;div id=\"app\"&gt;\n\n    &lt;app-header :par=\"'test'\"&gt;&lt;/app-header&gt;\n    &lt;app-grid ref=\"grid\"&gt;&lt;/app-grid&gt;\n\n  &lt;/div&gt;\n\n\n  &lt;script src=\"../node_modules/xel/xel.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"./js/vue.js\"&gt;&lt;/script&gt;      \n  &lt;script src=\"./js/render.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>My js:</p>\n\n<pre><code>class Spreadsheet {\n  constructor(\n    rowData = [],\n    columnDefs = [\n      {\n        headerName: 'Name',\n        field: 'name',\n        sortable: true,\n        checkboxSelection: true,\n        headerCheckboxSelection: true,\n        filter: 'agTextColumnFilter',\n        filterParams: {\n          clearButton: true,\n          debounceMs: 200\n        }\n      },\n      {\n        headerName: 'Model',\n        field: 'model',\n        sortable: true,\n        filter: 'agTextColumnFilter',\n        filterParams: {\n          clearButton: true,\n          debounceMs: 200\n        }\n      },\n      {\n        headerName: 'Price',\n        field: 'price',\n        sortable: true,\n        editable: true,\n        filter: 'agNumberColumnFilter',\n        filterParams: {\n          clearButton: true,\n          debounceMs: 200\n        }\n      }\n    ]\n  ) {\n    this.template = `\n    &lt;div class=\"spreadsheet\"&gt;\n      &lt;x-input class=\"filter\" type=\"text\" @input=\"filter\"&gt;\n        &lt;x-label&gt;filter...&lt;/x-label&gt;\n      &lt;/x-input&gt;\n      &lt;div ref=\"grid_vue\" class=\"ag-theme-fresh\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n    `\n    this.data = function() {\n      return {\n        columnDefs: null,\n        rowData: null,\n        gridOptions: null,\n        devices: []\n      }\n    }\n\n    this.beforeMount = function() {\n      this.devices = rowData;\n      this.gridOptions = {\n        suppressDragLeaveHidesColumns: true,\n        defaultColDef: {\n          filter: true,\n          resizable: true,\n          width: 100\n        },\n        columnDefs: columnDefs,\n        rowData: rowData,\n        enableCellChangeFlash: true,\n        animateRows: true,\n        rowSelection: 'multiple',\n        onGridReady: function(params) {\n          params.api.sizeColumnsToFit();\n        }\n      }\n    }\n  }\n\n  methods = {\n    addItem(item_obj) {\n      this.devices.push(item_obj);\n      this.gridOptions.api.setRowData(this.devices);\n    },\n    filter(event) {\n      const filter_text = event.target.value;\n      this.gridOptions.api.setQuickFilter(filter_text);\n    },\n    redrawAllRows() {\n      this.gridOptions.api.refreshCells();\n      this.gridOptions.api.redrawRows();\n    }\n  }\n\n  mounted = function() {\n    const eGridDiv = this.$refs.grid_vue;\n    new agGrid.Grid(eGridDiv, this.gridOptions);\n  }\n\n  beforeUpdate = function() {\n    console.log('beforeUpdate');\n    this.redrawAllRows();\n  }\n\n}\n\nconst devices = [\n  {name: \"phone\", model: 'Sumsung', price: 35000, class: \"smartphone\"},\n  {name: \"laptop\", model: 'HP', price: 32000, class: \"pc\"},\n  {name: \"test\", model: 'Test', price: 72000, class: \"test\"}\n];\n\nconst app_table = new Spreadsheet(devices);\nconst app_header = {\n  props: ['par'],\n  template: `\n  &lt;div class=\"pageHeader\"&gt;\n    &lt;x-button class=\"addDongleButton\" @click=\"addItem\"&gt;\n      &lt;x-label&gt;Add Item&lt;/x-label&gt;\n    &lt;/x-button&gt;\n  &lt;/div&gt;\n  `,\n  methods: {\n    addItem() {\n      console.log(this.par);\n      const some_obj = {name: \"Test2\", model: 'X2', price: 555, class: \"test\"};\n      vm.$refs.grid.addItem(some_obj);\n    }\n  }\n};\n\nconst vm = new Vue({\n  el: \"#app\",\n  components: {\n    appHeader: app_header,\n    appGrid: app_table\n  }\n});\n</code></pre>\n\n<p>Css:</p>\n\n<pre><code>@import \"../node_modules/ag-grid-community/dist/styles/ag-grid.css\";\n@import \"../node_modules/ag-grid-community/dist/styles/ag-theme-fresh.css\";\n\n*, *::after, *::before {\n  margin: 0;\n  padding: 0;\n  box-sizing: inherit;\n}\n\nbody {\n  background: rgb(241, 241, 241);\n  box-sizing: border-box;\n}\n\n.pageHeader {\n  z-index: 1000;\n  background: #a1c4dd;\n  height: 75px;\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  display: flex;\n  align-items: center;\n}\n\n.spreadsheet {\n  margin: 85px 5% 20px;\n}\n\n.filter {\n  display: inline-block;\n  height: 25px;\n  margin-bottom: 5px;\n}\n\n.ag-theme-fresh {\n  height: 400px;\n  width: 100%;\n}\n\n.ag-theme-fresh.ag-dnd-ghost {\n  width: 30%;\n  min-width: 100px;\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/DI43j.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DI43j.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/PPOCa.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PPOCa.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "knockout.js", "kendo-ui"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 1827509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46836a0416964e1343b50c1e4916e764?s=128&d=identicon&r=PG", "display_name": "Stizz1e", "link": "https://stackoverflow.com/users/1827509/stizz1e"}, "edited": false, "score": 0, "creation_date": 1570121804, "post_id": 58211104, "comment_id": 102822687, "body": "I have updated my binding to be <code>&lt;input type=&quot;checkbox&quot; data-bind=&quot;checked: isChecked&quot; &#47;&gt;</code> When the element returns from the server it reads: <code>&lt;input type=&quot;checkbox&quot; data-bind=&quot;checked: true&quot; &#47;&gt;</code>, but the box does not render a check mark still"}, {"owner": {"reputation": 7626, "user_id": 29467, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/266da6038aa5035e1eeedc7c68f16203?s=128&d=identicon&r=PG", "display_name": "Nathan Fisher", "link": "https://stackoverflow.com/users/29467/nathan-fisher"}, "reply_to_user": {"reputation": 57, "user_id": 1827509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46836a0416964e1343b50c1e4916e764?s=128&d=identicon&r=PG", "display_name": "Stizz1e", "link": "https://stackoverflow.com/users/1827509/stizz1e"}, "edited": false, "score": 0, "creation_date": 1570146294, "post_id": 58211104, "comment_id": 102831136, "body": "when you say the element returns from the server, is the server returning the full element then adding it into DOM?  then that could part of the issue, as knockout will no longer recognize the binding. I haven&#39;t used KendoUI so I&#39;m not so familiar with that side of things."}, {"owner": {"reputation": 57, "user_id": 1827509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46836a0416964e1343b50c1e4916e764?s=128&d=identicon&r=PG", "display_name": "Stizz1e", "link": "https://stackoverflow.com/users/1827509/stizz1e"}, "edited": false, "score": 0, "creation_date": 1570198462, "post_id": 58211104, "comment_id": 102848969, "body": "the flow is this: there is a grid on the page with one checkbox per row, the user can click on the check boxes then hit a button to show only those rows that are checked, this makes a REST call and returns data where the check boxes are evaluating to true, but not displaying checks. Hopefully that helps"}], "tags": [], "owner": {"reputation": 7626, "user_id": 29467, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/266da6038aa5035e1eeedc7c68f16203?s=128&d=identicon&r=PG", "display_name": "Nathan Fisher", "link": "https://stackoverflow.com/users/29467/nathan-fisher"}, "is_accepted": false, "score": 0, "last_activity_date": 1570064501, "creation_date": 1570064501, "answer_id": 58211104, "question_id": 58208422, "link": "https://stackoverflow.com/questions/58208422/checkbox-in-kendo-grid-not-displaying-check/58211104#58211104", "title": "Checkbox in kendo grid not displaying check", "body": "<p>with <code>&lt;input type=\"checkbox\" /&gt;</code> you only need to have the <code>data-bind=\"checked: isChecked\"</code> added to the binding. you can remove the <code>value: isChecked</code></p>\n"}], "owner": {"reputation": 57, "user_id": 1827509, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/46836a0416964e1343b50c1e4916e764?s=128&d=identicon&r=PG", "display_name": "Stizz1e", "link": "https://stackoverflow.com/users/1827509/stizz1e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 254, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570064501, "creation_date": 1570045658, "last_edit_date": 1570064009, "question_id": 58208422, "link": "https://stackoverflow.com/questions/58208422/checkbox-in-kendo-grid-not-displaying-check", "title": "Checkbox in kendo grid not displaying check", "body": "<p>I'm using kendo (2019.1.220) and knockout(v3.4.2).  I have a grid on the page with a checkbox column.  The checkbox binding is set up like this: </p>\n\n<p><code>&lt;input tabindex=\"-1\" onclick='gGridRowCheckBoxClick(\"308610\", this.checked)' type=\"checkbox\" data-bind=\"value: isChecked, checked: isChecked\"&gt;</code></p>\n\n<p>I have a button that retrieves a new data set for the grid based on what items the user has checked.  The dataset comes back correctly with the 'isChecked' node coming back as true, but the checkbox in the grid does not display as checked. </p>\n\n<p>The data looks like this on return: </p>\n\n<pre><code>\"Data\":[\n    {\"isChecked\":true},\n    {\"isChecked\":true},\n    {\"isChecked\":true}\n    ],\n\"Total\":3,\n\"IsSuccess\":true,\n\"Message\":\"\"}'\n</code></pre>\n\n<p>I'm not sure why the check boxes don't display as checked.</p>\n"}, {"tags": ["javascript", "arrays", "object"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 2, "creation_date": 1570045766, "post_id": 58208393, "comment_id": 102794791, "body": "What exactly is printing that should not be printing?"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 3, "creation_date": 1570045798, "post_id": 58208393, "comment_id": 102794809, "body": "I&#39;m not exactly sure what you mean by &quot;calling the objects&quot;, nor why selecting a single element in your <code>questions</code> array would &quot;print the entire array to console&quot;. If you&#39;re executing all your code in the browser console, especially line-by-line, it will return the result of your code, regardless of whether you explicitly <code>console.log()</code>. I&#39;m not sure if this is the source of confusion but perhaps it&#39;s related."}, {"owner": {"reputation": 23, "user_id": 11107711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344652742f85e9eedcb1bfca6198c81f?s=128&d=identicon&r=PG&f=1", "display_name": "learnbasic", "link": "https://stackoverflow.com/users/11107711/learnbasic"}, "edited": false, "score": 0, "creation_date": 1570045855, "post_id": 58208393, "comment_id": 102794828, "body": "The Question constructor just sets the arguments, and has a function inside that traverses that data. So, for example if I had Question(name) it sets it like this.name = name; And the for-loop is just traversing the array as usual, nothing special."}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1570045885, "post_id": 58208393, "comment_id": 102794847, "body": "@learnbasic It seems that sharing the <code>Question</code> class would really help here."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1570045897, "post_id": 58208393, "comment_id": 102794852, "body": "None of that involves <code>console.log</code>.  What is printing that is not supposed to be printing?"}, {"owner": {"reputation": 23, "user_id": 11107711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344652742f85e9eedcb1bfca6198c81f?s=128&d=identicon&r=PG&f=1", "display_name": "learnbasic", "link": "https://stackoverflow.com/users/11107711/learnbasic"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1570045954, "post_id": 58208393, "comment_id": 102794871, "body": "@Taplar I just want it to print questions[pickQuestion] to the console. When I run the script from html it prints the entire array to the console. I dont know why this is happening, and dont want it to do that. Hope that clears things up!"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1570046019, "post_id": 58208393, "comment_id": 102794895, "body": "if <code>questions</code> is an array, and <code>pickQuestions</code> is an index, then syntatically it would not be the case that you log the entire array.  You appear to be seeing something that we are not seeing from the code you have provided.  Please provide an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> of the issue"}, {"owner": {"reputation": 23, "user_id": 11107711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344652742f85e9eedcb1bfca6198c81f?s=128&d=identicon&r=PG&f=1", "display_name": "learnbasic", "link": "https://stackoverflow.com/users/11107711/learnbasic"}, "edited": false, "score": 0, "creation_date": 1570046124, "post_id": 58208393, "comment_id": 102794931, "body": "Iv added the questions constructor, hope that is useful."}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1570046167, "post_id": 58208393, "comment_id": 102794953, "body": "Your constructor has multiple <code>console.log()</code>s in it that will fire every time you do <code>new Question(...)</code>. Not only does it immediately log the question, but it also logs every possible answer. Is <code>ask</code> supposed to be a <i>function</i>?"}, {"owner": {"reputation": 3153, "user_id": 6333444, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XvcwE.png?s=128&g=1", "display_name": "mousetail", "link": "https://stackoverflow.com/users/6333444/mousetail"}, "edited": false, "score": 0, "creation_date": 1570046177, "post_id": 58208393, "comment_id": 102794958, "body": "It seems you are defining the ask function improperly. Try <code>this.ask = function() { ...</code>"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1570046210, "post_id": 58208393, "comment_id": 102794975, "body": "If this is verbatim your code, all your Questions are being given the same inputs as well."}, {"owner": {"reputation": 23, "user_id": 11107711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344652742f85e9eedcb1bfca6198c81f?s=128&d=identicon&r=PG&f=1", "display_name": "learnbasic", "link": "https://stackoverflow.com/users/11107711/learnbasic"}, "edited": false, "score": 0, "creation_date": 1570046853, "post_id": 58208393, "comment_id": 102795250, "body": "AFOC submitted that I was not defining the ask as a function. So once I changed ask: {  to ask: () =&gt; {   it accessed it by index perfectly. Unfortunately, now I cant call it using the line: console.log(questionList[pickQuestion].ask()); because its not considered a function for some reason."}, {"owner": {"reputation": 23, "user_id": 11107711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344652742f85e9eedcb1bfca6198c81f?s=128&d=identicon&r=PG&f=1", "display_name": "learnbasic", "link": "https://stackoverflow.com/users/11107711/learnbasic"}, "edited": false, "score": 0, "creation_date": 1570047187, "post_id": 58208393, "comment_id": 102795383, "body": "Thanks for help everyone, AFOC solved my issues."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11107711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344652742f85e9eedcb1bfca6198c81f?s=128&d=identicon&r=PG&f=1", "display_name": "learnbasic", "link": "https://stackoverflow.com/users/11107711/learnbasic"}, "edited": false, "score": 0, "creation_date": 1570046640, "post_id": 58208559, "comment_id": 102795167, "body": "Oh Thanks that fixed the first part of it, but introduced a new error. Now When I use console.log(questionList[pickQuestion].ask()); it says that it isn&#39;t a function, when it is."}, {"owner": {"reputation": 459, "user_id": 3330207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0285bccce032918e31c7f51090eaa5c?s=128&d=identicon&r=PG&f=1", "display_name": "AFOC", "link": "https://stackoverflow.com/users/3330207/afoc"}, "reply_to_user": {"reputation": 23, "user_id": 11107711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344652742f85e9eedcb1bfca6198c81f?s=128&d=identicon&r=PG&f=1", "display_name": "learnbasic", "link": "https://stackoverflow.com/users/11107711/learnbasic"}, "edited": false, "score": 0, "creation_date": 1570047057, "post_id": 58208559, "comment_id": 102795337, "body": "Also you can just do <code>questionList[pickQuestion].ask()</code>. Since there are log statements in that function, the enclosing console.log is redundant."}, {"owner": {"reputation": 23, "user_id": 11107711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344652742f85e9eedcb1bfca6198c81f?s=128&d=identicon&r=PG&f=1", "display_name": "learnbasic", "link": "https://stackoverflow.com/users/11107711/learnbasic"}, "edited": false, "score": 0, "creation_date": 1570047103, "post_id": 58208559, "comment_id": 102795349, "body": "Oh man, thanks so much! It works like a charm now. I originally thought that when using function constructors I could make a function by simply doing ( functionName : {} ). My mistake it seems."}, {"owner": {"reputation": 23, "user_id": 11107711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344652742f85e9eedcb1bfca6198c81f?s=128&d=identicon&r=PG&f=1", "display_name": "learnbasic", "link": "https://stackoverflow.com/users/11107711/learnbasic"}, "edited": false, "score": 0, "creation_date": 1570047164, "post_id": 58208559, "comment_id": 102795369, "body": "Also thanks for the info about the console.log being redundant. Appreciate it."}, {"owner": {"reputation": 459, "user_id": 3330207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0285bccce032918e31c7f51090eaa5c?s=128&d=identicon&r=PG&f=1", "display_name": "AFOC", "link": "https://stackoverflow.com/users/3330207/afoc"}, "reply_to_user": {"reputation": 23, "user_id": 11107711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344652742f85e9eedcb1bfca6198c81f?s=128&d=identicon&r=PG&f=1", "display_name": "learnbasic", "link": "https://stackoverflow.com/users/11107711/learnbasic"}, "edited": false, "score": 0, "creation_date": 1570047945, "post_id": 58208559, "comment_id": 102795641, "body": "You can define functions like that if you use the class syntax &amp; explicitly set a constructor:  <code>class Question { constructor(question, answers, correct_answer){   this.question = question;   this.answers = answers;   this.correct_answer = correct_answer; }   ask() {         console.log(this.question);     for(var i = 0; i &lt; this.answers.length; i++){       console.log(i + &quot;: &quot; + this.answers[i]);     }   } }</code>"}], "tags": [], "owner": {"reputation": 459, "user_id": 3330207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0285bccce032918e31c7f51090eaa5c?s=128&d=identicon&r=PG&f=1", "display_name": "AFOC", "link": "https://stackoverflow.com/users/3330207/afoc"}, "is_accepted": true, "score": 1, "last_activity_date": 1570046930, "last_edit_date": 1570046930, "creation_date": 1570046337, "answer_id": 58208559, "question_id": 58208393, "link": "https://stackoverflow.com/questions/58208393/how-can-i-use-an-array-to-create-new-objects-without-calling-them-immediately/58208559#58208559", "title": "How can I use an array to create new objects without calling them immediately?", "body": "<p>It's because the <code>ask</code> property is not correctly defined as a function.</p>\n\n<pre><code>var Question = function(question, answers, correct_answer) {\n  this.question = question;\n  this.answers = answers;\n  this.correct_answer = correct_answer;\n  this.ask = () =&gt; {    // note the brackets &amp; arrow, could also be function()\n    console.log(this.question);\n    for(var i = 0; i &lt; answers.length; i++){\n      console.log(i + \": \" + answers[i]);\n    }\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 11107711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344652742f85e9eedcb1bfca6198c81f?s=128&d=identicon&r=PG&f=1", "display_name": "learnbasic", "link": "https://stackoverflow.com/users/11107711/learnbasic"}, "edited": false, "score": 0, "creation_date": 1570049035, "post_id": 58208921, "comment_id": 102796026, "body": "Thank you for such a detailed response, and even going as far as providing 2 sets of solutions. I will give this a try in a little while, thanks in advance!"}, {"owner": {"reputation": 4087, "user_id": 757839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wClzK.jpg?s=128&g=1", "display_name": "BCDeWitt", "link": "https://stackoverflow.com/users/757839/bcdewitt"}, "reply_to_user": {"reputation": 23, "user_id": 11107711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344652742f85e9eedcb1bfca6198c81f?s=128&d=identicon&r=PG&f=1", "display_name": "learnbasic", "link": "https://stackoverflow.com/users/11107711/learnbasic"}, "edited": false, "score": 0, "creation_date": 1570113280, "post_id": 58208921, "comment_id": 102818511, "body": "Here&#39;s hoping it helps out!"}], "tags": [], "owner": {"reputation": 4087, "user_id": 757839, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wClzK.jpg?s=128&g=1", "display_name": "BCDeWitt", "link": "https://stackoverflow.com/users/757839/bcdewitt"}, "is_accepted": false, "score": 0, "last_activity_date": 1570048325, "last_edit_date": 1570048325, "creation_date": 1570047989, "answer_id": 58208921, "question_id": 58208393, "link": "https://stackoverflow.com/questions/58208393/how-can-i-use-an-array-to-create-new-objects-without-calling-them-immediately/58208921#58208921", "title": "How can I use an array to create new objects without calling them immediately?", "body": "<p>Your class definition needs some work. To add a method, <strong>the standard way is to add it to the constructor's <a href=\"https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Objects/Object_prototypes\" rel=\"nofollow noreferrer\">prototype</a></strong> like <code>Question.prototype.ask = function() {...}</code> or to define it as a method using the new JS <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/class\" rel=\"nofollow noreferrer\"><code>class</code></a> syntax (this still adds it to the prototype). Otherwise, if you create a new function inside the constructor, you will make a new function for every single <code>Question</code>. This will work, but it isn't a good practice (in most cases) since you only need a single function. The following snippets should work mostly as expected and would be better options than setting the function inside the constructor:</p>\n\n<p>\"Old\" JS (Using <code>prototype</code>):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function Question(question, correctAnswer, answers) {\r\n  this.question = question;\r\n  this.answers = answers;\r\n  this.correctAnswer = correctAnswer;\r\n}\r\nQuestion.prototype.ask = function() {\r\n  console.log(this.question);\r\n  for (let i = 0; i &lt; this.answers.length; i++) {\r\n    console.log(i + \": \" + this.answers[i]);\r\n  }\r\n};\r\n\r\nfunction pickQuestion(q) {\r\n  return q[\r\n    Math.floor(Math.random() * q.length)\r\n  ];\r\n}\r\n\r\nvar question = pickQuestion([\r\n  new Question('Choose Answer 1', 1, [\r\n    'Answer 1',\r\n    'Answer 2',\r\n    'Answer 3'\r\n  ]),\r\n  new Question('Choose Answer 3', 3, [\r\n    'Answer 1',\r\n    'Answer 2',\r\n    'Answer 3',\r\n  ]),\r\n  new Question('Choose Answer 2', 2, [\r\n    'Answer 1',\r\n    'Answer 2',\r\n    'Answer 3',\r\n  ])\r\n]);\r\n\r\nquestion.ask();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>\"New\" JS (using <code>class</code> and other features):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Question {\r\n  constructor(question, correctAnswer, answers) {\r\n    this.question = question\r\n    this.answers = answers\r\n    this.correctAnswer = correctAnswer\r\n  }\r\n\r\n  ask() {\r\n    console.log(this.question)\r\n    for (let i = 0; i &lt; this.answers.length; i++) {\r\n      console.log(i + \": \" + this.answers[i])\r\n    }\r\n  }\r\n}\r\n\r\nconst pickQuestion = q =&gt; q[\r\n  Math.floor(Math.random() * q.length)\r\n]\r\n\r\nconst question = pickQuestion([\r\n  new Question('Choose Answer 1', 1, [\r\n    'Answer 1',\r\n    'Answer 2',\r\n    'Answer 3'\r\n  ]),\r\n  new Question('Choose Answer 3', 3, [\r\n    'Answer 1',\r\n    'Answer 2',\r\n    'Answer 3',\r\n  ]),\r\n  new Question('Choose Answer 2', 2, [\r\n    'Answer 1',\r\n    'Answer 2',\r\n    'Answer 3',\r\n  ]),\r\n])\r\n\r\nquestion.ask()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 23, "user_id": 11107711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/344652742f85e9eedcb1bfca6198c81f?s=128&d=identicon&r=PG&f=1", "display_name": "learnbasic", "link": "https://stackoverflow.com/users/11107711/learnbasic"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 58208559, "answer_count": 2, "score": 0, "last_activity_date": 1570048325, "creation_date": 1570045570, "last_edit_date": 1570046415, "question_id": 58208393, "link": "https://stackoverflow.com/questions/58208393/how-can-i-use-an-array-to-create-new-objects-without-calling-them-immediately", "title": "How can I use an array to create new objects without calling them immediately?", "body": "<p>I am new to programming and i am working on a small quiz game. I am using an Constructor to create an object to represent a question blueprint. I want the object to hold the 'solution' and 'possible answers' to a question. The possible answers I am keeping in a array of objects. The array is holding all the new objects, and works great when tested in the console. (But doesn't work properly when script is run).</p>\n\n<p>So the issue is that, in my array, I create a new object but it is called to the console immediately. I don't want the array to automatically print to the console. Because I need this for a game, I want to only print the question by index requested. But it is printing the entire array to the console without being called. </p>\n\n<p>(This might have to do with execution stack some how, but I need help figuring this out. I am very new to programming, so please be detailed).</p>\n\n<pre><code>var questionList = [\nnew Question('is learning hard?', ['yes', 'no'], 'no'),\nnew Question('Is JavaScript a fun programming language?', ['yes','no'], 'yes'),];\n\nvar pickQuestion = Math.floor(Math.random() * 2);\nconsole.log(questionList[pickQuestion].ask);\n\n\n//Question class (below):\n\nvar Question = function(question, answers, correct_answer) {\n  this.question = question;\n  this.answers = answers;\n  this.correct_answer = correct_answer;\n  ask: {\n    console.log(this.question);\n    for(var i = 0; i &lt; answers.length; i++){\n      console.log(i + \": \" + answers[i]);\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", "html", "web-scraping", "html-agility-pack"], "answers": [{"tags": [], "owner": {"reputation": 2502, "user_id": 3311001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011dc5bf6a350b0334887a89ce06038f?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Faltesek", "link": "https://stackoverflow.com/users/3311001/tom-faltesek"}, "is_accepted": false, "score": 0, "last_activity_date": 1570048733, "creation_date": 1570048733, "answer_id": 58209044, "question_id": 58208378, "link": "https://stackoverflow.com/questions/58208378/html-agility-pack-ignores-br-tag/58209044#58209044", "title": "HTML Agility Pack ignores &lt;br&gt; tag", "body": "<p>The <code>InnerText</code> property will remove all elements, leaving only the text. If you want to keep the <code>&lt;br&gt;</code> elements, you should use <code>InnerHtml</code> instead. Here's an example:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var table = doc.DocumentNode.SelectSingleNode(\"//table[@class='rishum-groups']\")\n            .Descendants(\"tr\")\n            .Skip(1)\n            .Where(tr =&gt; tr.Elements(\"td\").Count() &gt; 1)\n            .Select(tr =&gt; tr.Elements(\"td\").Select(td =&gt; td.InnerHTML.Trim()).ToList())\n            .ToList();\n</code></pre>\n\n<p>If you need to parse those values, you can use the <code>Split()</code> method on the string. Here's an example:</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>var myValues = myTextField.Split(new string[] { \"&lt;br&gt;\" }, StringSplitOptions.None);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12155793, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e1f88a43ff3d6923b6fdba9716900e2?s=128&d=identicon&r=PG&f=1", "display_name": "Charles1999", "link": "https://stackoverflow.com/users/12155793/charles1999"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570048733, "creation_date": 1570045472, "question_id": 58208378, "link": "https://stackoverflow.com/questions/58208378/html-agility-pack-ignores-br-tag", "title": "HTML Agility Pack ignores &lt;br&gt; tag", "body": "<p>I wrote the following code in C# to retrieve the contents of a table in a web-page (After taking permission for that). It works almost perfect but some of the cells contains multiple values like this</p>\n\n<pre><code> _______\n|   10  |\n|   11  |\n|   12  |\n|___13__|\n</code></pre>\n\n<p>But I get the value <code>10111213</code> instead.</p>\n\n<p>Here's a link so you could take a look the the table code if needed for further clear vision:\nttps://ug3.technion.ac.il/rishum/course/104031</p>\n\n<pre><code>WebClient webClient = new WebClient();\nstring page = webClient.DownloadString(\"https://ug3.technion.ac.il/rishum/course/104031\");\n\nHtmlAgilityPack.HtmlDocument doc = new HtmlAgilityPack.HtmlDocument();\ndoc.LoadHtml(page);\n\nList&lt;List&lt;string&gt;&gt; table = doc.DocumentNode.SelectSingleNode(\"//table[@class='rishum-groups']\")\n            .Descendants(\"tr\")\n            .Skip(1)\n            .Where(tr =&gt; tr.Elements(\"td\").Count() &gt; 1)\n            .Select(tr =&gt; tr.Elements(\"td\").Select(td =&gt; td.InnerText.Trim()).ToList())\n            .ToList();\n</code></pre>\n"}, {"tags": ["javascript", "configuration", "path", "dojo", "intern"], "answers": [{"tags": [], "owner": {"reputation": 3331, "user_id": 141531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17f86938646f77675595f346c485bb14?s=128&d=identicon&r=PG", "display_name": "jason0x43", "link": "https://stackoverflow.com/users/141531/jason0x43"}, "is_accepted": false, "score": 0, "last_activity_date": 1570117751, "creation_date": 1570117751, "answer_id": 58222723, "question_id": 58208374, "link": "https://stackoverflow.com/questions/58208374/how-to-load-non-js-files-in-dojo-define/58222723#58222723", "title": "How to load non-js files in Dojo define", "body": "<p>To load text resources, you'll need to use an AMD plugin such as <a href=\"https://dojotoolkit.org/reference-guide/1.10/dojo/text.html\" rel=\"nofollow noreferrer\">dojo/text</a>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>define([\"dojo/text!StaticViews/Module/Views.html\"], function (view) {\n  ...\n});\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 9492928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab85bc4929168cf521170068545e244e?s=128&d=identicon&r=PG&f=1", "display_name": "user3611", "link": "https://stackoverflow.com/users/9492928/user3611"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 28, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570117751, "creation_date": 1570045454, "question_id": 58208374, "link": "https://stackoverflow.com/questions/58208374/how-to-load-non-js-files-in-dojo-define", "title": "How to load non-js files in Dojo define", "body": "<p>Can you load non-js files in the Dojo define([...]) function? If so, how do I do this? Because I tried to load an html file like </p>\n\n<pre><code>define([\n   \"StaticViews/Module/Views.html\"], \n        function(view) {\n         .... \n    }\n)\n</code></pre>\n\n<p>But I get an error message in my console along the lines of...</p>\n\n<pre><code>DEBUG: 'failed to load resource (C:/StaticViews/Module/Views.html.js)' \n</code></pre>\n\n<p>It automatically adds \".js\" to the path, and thats a file that doesn't exist. How do I load non-js files?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "php", "ajax", "phpmailer"], "comments": [{"owner": {"reputation": 6259, "user_id": 1505169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587c1565b83cc140aed311aca770d78?s=128&d=identicon&r=PG", "display_name": "Patrick Q", "link": "https://stackoverflow.com/users/1505169/patrick-q"}, "edited": false, "score": 0, "creation_date": 1570045891, "post_id": 58208365, "comment_id": 102794848, "body": "Have you done any debugging to figure out <i>where</i> the problem is happening?  There are a number of steps to this process.  Find out which step is the last step that has the value as expected, and then see what happens after that."}, {"owner": {"reputation": 103, "user_id": 5606482, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1672024753074321/picture?type=large", "display_name": "Martin Spru\u0161ansk&#253;", "link": "https://stackoverflow.com/users/5606482/martin-spru%c5%a1ansk%c3%bd"}, "reply_to_user": {"reputation": 6259, "user_id": 1505169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587c1565b83cc140aed311aca770d78?s=128&d=identicon&r=PG", "display_name": "Patrick Q", "link": "https://stackoverflow.com/users/1505169/patrick-q"}, "edited": false, "score": 0, "creation_date": 1570046777, "post_id": 58208365, "comment_id": 102795224, "body": "I didnt, dont really know how to do that, can you help me with that ?"}, {"owner": {"reputation": 6259, "user_id": 1505169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587c1565b83cc140aed311aca770d78?s=128&d=identicon&r=PG", "display_name": "Patrick Q", "link": "https://stackoverflow.com/users/1505169/patrick-q"}, "edited": false, "score": 0, "creation_date": 1570047108, "post_id": 58208365, "comment_id": 102795351, "body": "I can&#39;t really give you a full tutorial on basic debugging, no.  Just go through your code and check the value of the related variables at various points (using <code>var_dump()</code>, <code>console.log()</code>, etc depending on which code you&#39;re in). Check your browser&#39;s network inspector to see the value sent on the request."}], "answers": [{"comments": [{"owner": {"reputation": 6259, "user_id": 1505169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7587c1565b83cc140aed311aca770d78?s=128&d=identicon&r=PG", "display_name": "Patrick Q", "link": "https://stackoverflow.com/users/1505169/patrick-q"}, "edited": false, "score": 0, "creation_date": 1570046980, "post_id": 58208670, "comment_id": 102795308, "body": "The data is being sent via ajax, not a native form post. <code>+ &#39;&amp;fdphone=&#39; + fdphone +</code>"}], "tags": [], "owner": {"reputation": 519, "user_id": 1182922, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9f17c79e29427a6e40e971c6fd12866?s=128&d=identicon&r=PG", "display_name": "Jack Albright", "link": "https://stackoverflow.com/users/1182922/jack-albright"}, "is_accepted": false, "score": 0, "last_activity_date": 1570046824, "creation_date": 1570046824, "answer_id": 58208670, "question_id": 58208365, "link": "https://stackoverflow.com/questions/58208365/php-mailer-is-not-sending-input-from-one-field-one-variable-is-not-working/58208670#58208670", "title": "PHP mailer is not sending input from one field (one variable is not working)", "body": "<p>The input name on your html form is fd-phone but you are looking for $_POST['fdphone']. Wrong spelling.</p>\n"}], "owner": {"reputation": 103, "user_id": 5606482, "user_type": "registered", "accept_rate": 45, "profile_image": "https://graph.facebook.com/1672024753074321/picture?type=large", "display_name": "Martin Spru\u0161ansk&#253;", "link": "https://stackoverflow.com/users/5606482/martin-spru%c5%a1ansk%c3%bd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "closed_date": 1570046888, "answer_count": 1, "score": 0, "last_activity_date": 1570046824, "creation_date": 1570045410, "question_id": 58208365, "link": "https://stackoverflow.com/questions/58208365/php-mailer-is-not-sending-input-from-one-field-one-variable-is-not-working", "closed_reason": "Duplicate", "title": "PHP mailer is not sending input from one field (one variable is not working)", "body": "<p>i have multiple input form for renting cars, one field is not working and i have no idea why.</p>\n\n<p>Input that is not working is <strong>name=\"fd-phone\"</strong> one.</p>\n\n<p>Mailer is controller by 3 files, here is eselected code for each.\nFirst file is actual html where form is located:</p>\n\n<pre><code>&lt;form action=\"#\" class=\"form-delivery\"&gt;\n                    &lt;div class=\"row\"&gt;\n                        &lt;div class=\"col-md-6\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                                &lt;input name=\"fd-name\" id=\"fd-name\" title=\"Name is required\" data-toggle=\"tooltip\"\n                                        class=\"form-control alt\" type=\"text\" placeholder=\"Meno a Priezvisko:*\"&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n                        &lt;div class=\"col-md-6\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                                &lt;input name=\"fd-name\" id=\"fd-email\" title=\"Email is required\" data-toggle=\"tooltip\"\n                                        class=\"form-control alt\" type=\"text\" placeholder=\"Email:*\"&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n\n                        &lt;div class=\"col-md-6\"&gt;\n                            &lt;div class=\"form-group\"&gt;\n                                &lt;input name=\"fd-phone\" id=\"fd-phone\" title=\"Phone is required\" data-toggle=\"tooltip\"\n                                        class=\"form-control alt\" type=\"text\" placeholder=\"Telefon:*\"&gt;\n                            &lt;/div&gt;\n                        &lt;/div&gt;\n\n\n                        &lt;div class=\"col-md-6\"&gt;\n                            &lt;div class=\"form-group\"&gt;&lt;input class=\"form-control alt\" type=\"text\" placeholder=\"X:\"&gt;&lt;/div&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/form&gt;\n</code></pre>\n\n<p>Next file is php mailer of said form, here are parts of code that control form and fd-phone variable:</p>\n\n<pre><code>if ((isset($_POST['fdphone'])) &amp;&amp; (strlen(trim($_POST['fdphone'])) &gt; 0)) {\n    $fdphone = stripslashes(strip_tags($_POST['fdphone']));\n} else {\n    $fdphone = 'No phone entered';\n}\n</code></pre>\n\n<p>Table in same php file:</p>\n\n<pre><code>&lt;table width=\"550\" border=\"0\" cellspacing=\"0\" cellpadding=\"15\"&gt;\n    &lt;tr bgcolor=\"#eeffee\"&gt;\n        &lt;td&gt;Meno&lt;/td&gt;\n        &lt;td&gt;&lt;?php echo $fdmrms; ?&gt; &lt;?php echo $fdname; ?&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr bgcolor=\"#eeeeff\"&gt;\n        &lt;td&gt;Email&lt;/td&gt;\n        &lt;td&gt;&lt;?php echo $fdemail; ?&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr bgcolor=\"#eeeeff\"&gt;\n        &lt;td&gt;Telef\u00f3n&lt;/td&gt;\n        &lt;td&gt;&lt;?php echo $fdphone; ?&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n\n    &lt;tr bgcolor=\"#eeffee\"&gt;\n        &lt;td&gt;Spr\u00e1va&lt;/td&gt;\n        &lt;td&gt;&lt;?php echo $fadmessage; ?&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr bgcolor=\"#eeeeff\"&gt;\n        &lt;td&gt;Mo\u017enos\u0165 platby&lt;/td&gt;\n        &lt;td&gt;&lt;?php echo $po; ?&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr bgcolor=\"#eeffee\"&gt;\n        &lt;td&gt;Extra&lt;/td&gt;\n        &lt;td&gt;&lt;?php echo $extras; ?&gt;&lt;/td&gt;\n    &lt;/tr&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>And actual mailer in same file:</p>\n\n<pre><code>require(\"phpmailer.php\");\n\n$mail = new PHPMailer();\n\n$mail-&gt;From = $fdemail;\n$mail-&gt;FromName = $name;\n$mail-&gt;AddAddress($to, $toname); // Put your email\n//$mail-&gt;AddAddress($anotheraddress,$anothername); // addresses here\n\n$mail-&gt;WordWrap = 50;\n$mail-&gt;IsHTML(true);\n\n$mail-&gt;Subject = \"Objedn\u00e1vka z webu Kristof Cars\";\n$mail-&gt;Body = $body;\n$mail-&gt;AltBody = $message;\n</code></pre>\n\n<p>Last thing that controls it is .js file and i belive it here where the problem is but i dont know where. Because when i sent form to email, i see telephone input there, but with text that <strong>No phone entered</strong> even if i write numbers there, so variable should be working but it ignores the input i enter.</p>\n\n<p>Here is .js file code for this form <strong>fdphone</strong> is the third variable that is in question there, i also added it into datastring below so i dont know why its not sending said input:</p>\n\n<pre><code>$(function () {\n\n    $(\".form-additional .form-control, .form-delivery .form-control\").tooltip({placement: 'top', trigger: 'manual'}).tooltip('hide');\n    $('.form-additional .form-control, .form-delivery .form-control').blur(function () {\n        $(this).tooltip({placement: 'top', trigger: 'manual'}).tooltip('hide');\n    });\n\n    //$(window).load(function () {});\n\n    // ON CLICK\n    $(\".reservation-now .btn-reservation-now\").click(function () {\n        // validate and process form\n        // first hide any error messages\n        //$('.form-subscribe .error').hide();\n\n        // Extras &amp; Frees\n        var counter = 1;\n        var fdextras = '';\n        var fdcheckbox = $(\".form-extras .checkbox\");\n        $(fdcheckbox).each(function(index, value){\n            if($(this).find('input').is(':checked')){\n                //fdmrms = $(this).find('input').attr('value');\n                //console.log($(this).find('input').next('label').text());\n                fdextras = fdextras + ' extra' + counter + '=' + $(this).find('input').next('label').text();\n                counter++;\n            }\n        });\n\n        // Customer information\n        var fdmrms = '';\n        var fdradio = $(\".form-delivery .radio\");\n        $(fdradio).each(function(index, value){\n            if($(this).find('input').is(':checked')){\n                //console.log($(this).find('input').attr('value'));\n                fdmrms = $(this).find('input').attr('value');\n            }\n        });\n\n        var fdname = $(\".form-delivery input#fd-name\").val();\n        if (fdname == \"\" || fdname == \"Name...\" || fdname == \"Name\" || fdname == \"Name *\" || fdname == \"Type Your Name...\") {\n            $(\".form-delivery input#fd-name\").tooltip({placement: 'top', trigger: 'manual'}).tooltip('show');\n            $(\".form-delivery input#fd-name\").focus();\n            return false;\n        }\n\n\n        var fdphone = $(\".form-delivery input#fd-phone\").val();\n        if (fdphone == \"\" || fdname == \"Telef\u00f3n\") {\n            $(\".form-delivery input#fd-phone\").tooltip({placement: 'top', trigger: 'manual'}).tooltip('show');\n            $(\".form-delivery input#fd-phone\").focus();\n            return false;\n        }\n\n\n\n\n\n        var fdemail = $(\".form-delivery input#fd-email\").val();\n        var filter = /^[a-zA-Z0-9]+[a-zA-Z0-9_.-]+[a-zA-Z0-9_-]+@[a-zA-Z0-9]+[a-zA-Z0-9.-]+[a-zA-Z0-9]+.[a-z]{2,4}$/;\n        //console.log(filter.test(email));\n        if (!filter.test(fdemail)) {\n            $(\".form-delivery input#fd-email\").tooltip({placement: 'top', trigger: 'manual'}).tooltip('show');\n            $(\".form-delivery input#fd-email\").focus();\n            return false;\n        }\n\n        // Payments options\n        var po = '';\n        var popanel = $(\".payments-options .panel\");\n        $(popanel).each(function(index, value){\n            if($(this).find('.panel-title a').attr('aria-expanded') == 'true'){\n                //console.log($(this).find('.panel-title a').text());\n                po = $(this).find('.panel-title a').text();\n                po = po.trim();\n            }\n        });\n\n        // Addition Information\n        var fadmessage = $(\".form-additional textarea#fad-message\").val();\n        if (fadmessage == \"\" || fdname == \"Addition Information\") {\n            $(\".form-additional textarea#fad-message\").tooltip({placement: 'top', trigger: 'manual'}).tooltip('show');\n            $(\".form-additional textarea#fad-message\").focus();\n            return false;\n        }\n\n        // Check if Accept is checked\n        var accept = $(\"#accept\");\n        if(!accept.is(':checked')){\n            $(accept).focus();\n            $(accept).parent().find('label').css('color', 'red');\n            return false;\n        }\n\n        var dataString = 'extras=' + fdextras + '' + '&amp;fdmrms=' + fdmrms + '' + '&amp;fdname=' + fdname + '' + '&amp;fdemail=' + fdemail + '' + '&amp;fdphone=' + fdphone + '' + '&amp;fadmessage=' + fadmessage + '' + '&amp;po=' + po + '';\n        //alert(dataString); return false;\n\n\n        $.ajax({\n            type:\"POST\",\n            url:\"assets/php/booking-form.php\",\n            data:dataString,\n            success:function () {\n                $('.reservation-now').append(\"&lt;div style=\\\"overflow: hidden; clear: both; \\\"&gt;&lt;/div&gt;&lt;div style=\\\"overflow: hidden; clear: both; margin-top: 20px; \\\" class=\\\"alert alert-success fade in\\\"&gt;&lt;button class=\\\"close\\\" data-dismiss=\\\"alert\\\" type=\\\"button\\\"&gt;&amp;times;&lt;/button&gt;&lt;strong&gt;Email Submitted!&lt;/strong&gt;&lt;/div&gt;\");\n                //$('.reservation-now')[0].reset();\n            }\n        });\n        return false;\n    });\n});\n</code></pre>\n\n<p>Thanks for any ideas:)</p>\n"}, {"tags": ["javascript", "arrays", "object"], "comments": [{"owner": {"reputation": 1580, "user_id": 8106018, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-novQgV5suIw/AAAAAAAAAAI/AAAAAAAAAKU/V-y-f6aAzFI/photo.jpg?sz=128", "display_name": "Ricardo Gonzalez", "link": "https://stackoverflow.com/users/8106018/ricardo-gonzalez"}, "edited": false, "score": 1, "creation_date": 1570045591, "post_id": 58208356, "comment_id": 102794698, "body": "use the method <code>let arrayOfKeys = Object.keys( yourObject )</code>"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "reply_to_user": {"reputation": 1580, "user_id": 8106018, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-novQgV5suIw/AAAAAAAAAAI/AAAAAAAAAKU/V-y-f6aAzFI/photo.jpg?sz=128", "display_name": "Ricardo Gonzalez", "link": "https://stackoverflow.com/users/8106018/ricardo-gonzalez"}, "edited": false, "score": 1, "creation_date": 1570046140, "post_id": 58208356, "comment_id": 102794940, "body": "@RicardoGonzalez not really, you did not fully read the question"}], "answers": [{"tags": [], "owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "is_accepted": false, "score": 0, "last_activity_date": 1570045936, "last_edit_date": 1570045936, "creation_date": 1570045627, "answer_id": 58208410, "question_id": 58208356, "link": "https://stackoverflow.com/questions/58208356/create-an-array-based-on-the-keys-of-a-javascript-object/58208410#58208410", "title": "Create an array based on the keys of a JavaScript object", "body": "<p><code>Object.keys(&lt;object&gt;)</code> will do the trick\nBTW: Your object is invalid. You're missing some commas.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const EXISTING_CONSTANT_OBJECT = {\r\n  'fr': '10',\r\n  'es': '15',\r\n  'us': '10',\r\n  'uk': '7'\r\n  //and so on for many other iso country codes and UNPREDICTABLE key names\r\n};\r\n\r\nconst keys = Object.keys(EXISTING_CONSTANT_OBJECT);\r\nconsole.log(keys);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you want to just get the keys where the value is 10, it's just as simple as adding <code>.filter</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const EXISTING_CONSTANT_OBJECT = {\r\n  'fr': '10',\r\n  'es': '15',\r\n  'us': '10',\r\n  'uk': '7'\r\n};\r\n\r\nconst keysWith10 = Object.keys(EXISTING_CONSTANT_OBJECT).filter(k =&gt; EXISTING_CONSTANT_OBJECT[k] === '10');\r\nconsole.log(keysWith10);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": true, "score": 8, "last_activity_date": 1570045638, "creation_date": 1570045638, "answer_id": 58208414, "question_id": 58208356, "link": "https://stackoverflow.com/questions/58208356/create-an-array-based-on-the-keys-of-a-javascript-object/58208414#58208414", "title": "Create an array based on the keys of a JavaScript object", "body": "<p>You can use <code>Object.keys</code> and <code>filter</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const obj = { 'fr': '10','es': '15','us': '10','uk': '7'}\r\n\r\nlet final = Object.keys(obj).filter(key =&gt; +obj[key] === 10)\r\n\r\nconsole.log(final)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here <code>+</code> is used for implicit conversion to number, because in strict equality <code>'10'</code> and 10 are not same</p>\n"}, {"comments": [{"owner": {"reputation": 3791, "user_id": 1467802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c370a1855b3094ca8b0e737822164a1a?s=128&d=identicon&r=PG", "display_name": "Mathieu", "link": "https://stackoverflow.com/users/1467802/mathieu"}, "edited": false, "score": 0, "creation_date": 1570046184, "post_id": 58208466, "comment_id": 102794960, "body": "Thanks i really hesitated between your solution and @code maniac but his one is more concise and equally correct"}, {"owner": {"reputation": 1719, "user_id": 1265071, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DHh74.png?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/1265071/neil"}, "reply_to_user": {"reputation": 3791, "user_id": 1467802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c370a1855b3094ca8b0e737822164a1a?s=128&d=identicon&r=PG", "display_name": "Mathieu", "link": "https://stackoverflow.com/users/1467802/mathieu"}, "edited": false, "score": 0, "creation_date": 1570046260, "post_id": 58208466, "comment_id": 102794999, "body": "no problem, they both achieve the same result! Just wanted to show how it can be done with <code>reduce</code>"}, {"owner": {"reputation": 3791, "user_id": 1467802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c370a1855b3094ca8b0e737822164a1a?s=128&d=identicon&r=PG", "display_name": "Mathieu", "link": "https://stackoverflow.com/users/1467802/mathieu"}, "edited": false, "score": 0, "creation_date": 1570046934, "post_id": 58208466, "comment_id": 102795285, "body": "Sure, appreciate it"}], "tags": [], "owner": {"reputation": 1719, "user_id": 1265071, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/DHh74.png?s=128&g=1", "display_name": "Neil", "link": "https://stackoverflow.com/users/1265071/neil"}, "is_accepted": false, "score": 0, "last_activity_date": 1570045830, "creation_date": 1570045830, "answer_id": 58208466, "question_id": 58208356, "link": "https://stackoverflow.com/questions/58208356/create-an-array-based-on-the-keys-of-a-javascript-object/58208466#58208466", "title": "Create an array based on the keys of a JavaScript object", "body": "<p>You're on the right track with <code>reduce</code>. As mentioned with other answers, you can also use <code>filter</code> (which might actually be better).</p>\n\n<p>Here is a solution using <code>reduce</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const obj  = {\r\n  'fr': '10',\r\n  'es': '15',\r\n  'us': '10',\r\n  'uk': '7'\r\n}\r\n\r\nlet result = Object.keys(obj).reduce((acc, curr) =&gt; {\r\n  if (parseInt(obj[curr], 10) === 10) {\r\n    acc.push(curr)\r\n  }\r\n  return acc\r\n}, [])\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 408, "user_id": 3735576, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/Z5pC0.jpg?s=128&g=1", "display_name": "Martin", "link": "https://stackoverflow.com/users/3735576/martin"}, "is_accepted": false, "score": 0, "last_activity_date": 1570045867, "creation_date": 1570045867, "answer_id": 58208474, "question_id": 58208356, "link": "https://stackoverflow.com/questions/58208356/create-an-array-based-on-the-keys-of-a-javascript-object/58208474#58208474", "title": "Create an array based on the keys of a JavaScript object", "body": "<p>Try this</p>\n\n<pre><code>function createArr(obj){\n    let arr = [];\n    for (let key in obj) if (obj.hasOwnProperty(key) &amp;&amp; String(obj[key]) === '10') arr.push(key);\n    return arr;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1289, "user_id": 10949001, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DLThW.jpg?s=128&g=1", "display_name": "Harshit Agarwal", "link": "https://stackoverflow.com/users/10949001/harshit-agarwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1570046365, "creation_date": 1570046365, "answer_id": 58208566, "question_id": 58208356, "link": "https://stackoverflow.com/questions/58208356/create-an-array-based-on-the-keys-of-a-javascript-object/58208566#58208566", "title": "Create an array based on the keys of a JavaScript object", "body": "<p><code>Object.keys()</code> function returns the array of values corresponding to the keys of object you feed to this function. For example:</p>\n\n<pre><code>let yourObject = { key1: value1, key2: value2, key3:value3}\nlet arr = Object.keys(yourObject)\nconsole.log(arr) // Output: [ 'key1', 'key2', 'key3']\n</code></pre>\n\n<p>Hope this helps!!</p>\n"}], "owner": {"reputation": 3791, "user_id": 1467802, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c370a1855b3094ca8b0e737822164a1a?s=128&d=identicon&r=PG", "display_name": "Mathieu", "link": "https://stackoverflow.com/users/1467802/mathieu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 107, "favorite_count": 0, "accepted_answer_id": 58208414, "answer_count": 5, "score": 1, "last_activity_date": 1570046415, "creation_date": 1570045379, "last_edit_date": 1570046415, "question_id": 58208356, "link": "https://stackoverflow.com/questions/58208356/create-an-array-based-on-the-keys-of-a-javascript-object", "title": "Create an array based on the keys of a JavaScript object", "body": "<p>I need to create an array based on some selection of keys inside an existing constant javascript object</p>\n\n<pre><code>const EXISTING_CONSTANT_OBJECT  = {\n      'fr': '10',\n      'es': '15'\n      'us': '10'\n      'uk': '7'\n      //and so on for many other iso country codes and UNPREDICTABLE key names\n}\n</code></pre>\n\n<p>I need to be able to create an array (without modifying <code>EXISTING_CONSTANT_OBJECT</code> for immutability reasons) with all keys whose value are equal to <code>10</code>.</p>\n\n<p>For example, the expected output is </p>\n\n<pre><code>object_to_create_arr = [\"fr\",\"us\"]\n</code></pre>\n\n<p>I tried using <code>reduce</code> but failed.</p>\n\n<p>note: I can use ES6 and usually prefer as it's usually more concise.</p>\n"}, {"tags": ["javascript", "arrays", "debugging"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1570045534, "post_id": 58208354, "comment_id": 102794661, "body": "Also possibly relevant: <a href=\"https://stackoverflow.com/questions/21237105/const-in-javascript-when-to-use-it-and-is-it-necessary\">Const in javascript? When to use it and is it necessary</a> and <a href=\"https://stackoverflow.com/questions/7486085/copy-array-by-value\">Copy array by value</a>"}, {"owner": {"reputation": 23, "user_id": 12155739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAXBCqYUm8GF9Qrz9qUgUy0HG7PF8yYZdE1R96Fdw=k-s128", "display_name": "Rodrigo Mallmann", "link": "https://stackoverflow.com/users/12155739/rodrigo-mallmann"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1570046301, "post_id": 58208354, "comment_id": 102795023, "body": "hey, thanks!! these are pretty helpful. I don&#39;t think it&#39;s actually a duplicate, because in that thread what it&#39;s being discussed is the matter of reassigning a value to a constant through declaration. In my example, I shouldn&#39;t be able to change the value of nums2 if it is a constant. I&#39;m not saying that what I assigned to nums2 can&#39;t be changed, and that, I think, is the subject of the other thread. At least, I couldn&#39;t find it"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1570046445, "post_id": 58208354, "comment_id": 102795076, "body": "You are not <i>reassigning</i> you constant - it&#39;s an array, so it&#39;s an object. Mutating an object is possible, even if it&#39;s a <code>const</code>. Your <code>nums</code> and <code>nums2</code> are *the same object`, not two different ones that happen to hold the same values."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 1, "creation_date": 1570046468, "post_id": 58208354, "comment_id": 102795089, "body": "You&#39;re <i>not</i> altering the const value, you&#39;re altering what it references."}, {"owner": {"reputation": 23, "user_id": 12155739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAXBCqYUm8GF9Qrz9qUgUy0HG7PF8yYZdE1R96Fdw=k-s128", "display_name": "Rodrigo Mallmann", "link": "https://stackoverflow.com/users/12155739/rodrigo-mallmann"}, "edited": false, "score": 0, "creation_date": 1570055951, "post_id": 58208354, "comment_id": 102797876, "body": "To me it is weird that happens this way. It is the first time that I made any post or even logged in, but I should have just researched a little bit more, cause the links VLAZ posted could actually fix my problem... thanks"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 12155739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAXBCqYUm8GF9Qrz9qUgUy0HG7PF8yYZdE1R96Fdw=k-s128", "display_name": "Rodrigo Mallmann", "link": "https://stackoverflow.com/users/12155739/rodrigo-mallmann"}, "edited": false, "score": 0, "creation_date": 1570056183, "post_id": 58208561, "comment_id": 102797933, "body": "This would probably work just fine. Thanks!!!"}, {"owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "reply_to_user": {"reputation": 23, "user_id": 12155739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAXBCqYUm8GF9Qrz9qUgUy0HG7PF8yYZdE1R96Fdw=k-s128", "display_name": "Rodrigo Mallmann", "link": "https://stackoverflow.com/users/12155739/rodrigo-mallmann"}, "edited": false, "score": 0, "creation_date": 1570102630, "post_id": 58208561, "comment_id": 102812514, "body": "@RodrigoMallmann If this actually gives you an answer you find to be valuable, you can also mark it as answering your question. <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}, {"owner": {"reputation": 23, "user_id": 12155739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAXBCqYUm8GF9Qrz9qUgUy0HG7PF8yYZdE1R96Fdw=k-s128", "display_name": "Rodrigo Mallmann", "link": "https://stackoverflow.com/users/12155739/rodrigo-mallmann"}, "edited": false, "score": 0, "creation_date": 1570120864, "post_id": 58208561, "comment_id": 102822295, "body": "Sorry, I&#39;m a total noob! hahaha. Now I think I&#39;ve done it"}], "tags": [], "owner": {"reputation": 26583, "user_id": 1441, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/fb7f1cd450084fdb4bfc9376c7dba2a7?s=128&d=identicon&r=PG", "display_name": "crashmstr", "link": "https://stackoverflow.com/users/1441/crashmstr"}, "is_accepted": true, "score": 0, "last_activity_date": 1570046343, "creation_date": 1570046343, "answer_id": 58208561, "question_id": 58208354, "link": "https://stackoverflow.com/questions/58208354/sort-method-altering-constant-value/58208561#58208561", "title": "Sort method altering constant value", "body": "<p>Two things here:</p>\n\n<ol>\n<li><code>const nums2 = nums;</code> does <em>not</em> copy the array, it just gives you a non-reassignable reference (e.g. you cannot assign a new value to <code>nums2</code> with <code>=</code>, but the contents of <code>num2</code> is up for grabs)</li>\n<li><code>nums.sort(...)</code> sorts <em>in place</em>, thus it does modify the original array\n(see <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort\" rel=\"nofollow noreferrer\">Array.prototype.sort</a>). Since <code>nums2</code> is a reference to <code>nums</code>, it shows those changes to <code>nums</code> in the second <code>console.log</code></li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>nums = [3, 2, 4]\r\ntarget = 6\r\nvar twoSum = function(nums, target) {\r\n    var max = nums.length - 1;\r\n    var min = 0;\r\n\r\n    // force a copy of the array\r\n    // note: this is a shallow copy\r\n    const nums2 = nums.slice();\r\n    console.log(nums2)\r\n    var nums1 = nums.sort(function(a,b){return a - b});\r\n    console.log(nums2)\r\n    while (min != max){\r\n\r\n        if (nums1[min] + nums1[max] &gt; target) {\r\n            max -= 1;\r\n        } else if (nums1[min] + nums1[max] &lt; target) {\r\n            min += 1;\r\n        };        \r\n        if (nums1[min] + nums1[max] == target) {\r\n            return [nums2.indexOf(nums1[min]), nums2.indexOf(nums1[max])];        \r\n        };\r\n    };    \r\n};\r\n\r\ntwoSum(nums, target);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 23, "user_id": 12155739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAXBCqYUm8GF9Qrz9qUgUy0HG7PF8yYZdE1R96Fdw=k-s128", "display_name": "Rodrigo Mallmann", "link": "https://stackoverflow.com/users/12155739/rodrigo-mallmann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "closed_date": 1570120879, "accepted_answer_id": 58208561, "answer_count": 1, "score": 2, "last_activity_date": 1570046343, "creation_date": 1570045369, "question_id": 58208354, "link": "https://stackoverflow.com/questions/58208354/sort-method-altering-constant-value", "closed_reason": "Duplicate", "title": "Sort method altering constant value", "body": "<p>So, I was trying this LeetCode problem = <a href=\"https://leetcode.com/problems/two-sum/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/two-sum/</a></p>\n\n<p>The solution that I wrote required me to sort an array, but I would need to return the indices related to the original array. Because of this, I created a constant to store the original and then search it later after I've found those indices. </p>\n\n<p>My solution ended up not working because the sort method is altering that constant value. I don't know why this is happening, all I know is that the sort method alters the original array when called (that's why I needed to store it before sorting). I thought that if a created a constant it couldn't be altered afterward. That's why I think it's a bug or something</p>\n\n<p>This is the code that I've been trying (I left the console.logs there for clarity)</p>\n\n<p>To test you should use </p>\n\n<pre><code>nums = [3, 2, 4]\ntarget = 6\n</code></pre>\n\n<pre><code>var twoSum = function(nums, target) {\n    var max = nums.length - 1;\n    var min = 0;\n\n    const nums2 = nums;\n    console.log(nums2)\n    var nums1 = nums.sort(function(a,b){return a - b});\n    console.log(nums2)\n    while (min != max){\n\n        if (nums1[min] + nums1[max] &gt; target) {\n            max -= 1;\n        } else if (nums1[min] + nums1[max] &lt; target) {\n            min += 1;\n        };        \n        if (nums1[min] + nums1[max] == target) {\n            return [nums2.indexOf(nums1[min]), nums2.indexOf(nums1[max])];        \n        };\n    };    \n};\n</code></pre>\n"}, {"tags": ["javascript", "excel", "text-alignment"], "owner": {"reputation": 11, "user_id": 7502987, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7b36f37082cc80f01dc99cd0eba52e54?s=128&d=identicon&r=PG&f=1", "display_name": "BradB", "link": "https://stackoverflow.com/users/7502987/bradb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 355, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570045254, "creation_date": 1570045254, "question_id": 58208335, "link": "https://stackoverflow.com/questions/58208335/how-do-i-align-text-in-a-excel-cell-with-javascript", "title": "How do I align text in a excel cell with javascript?", "body": "<p>I am developing an Excell add-in. Using a GUI I am passing two variables to a function. X being the value of the input from the GUI and the other is a location pointer to set the cell. If the value of the input is 7, I want to set the cell horizontal alignment to left. I have tried all kinds of different syntax that I found online but none work, nor do they give an error.</p>\n\n<p>I have tried:</p>\n\n<pre><code>if (x == 7) { range.horizontalAlignment = \"left\" }\nif (x == 7) { range.Excel.horizontalAlignment = \"left\" }\nif (x == 7) { range.format.horizontalAlignment = \"left\" }\nif (x == 7) { range.horizontalAlignment = Excel.horizontalAlignment = \"left\" }\n</code></pre>\n\n<p>and some others I don't remember.</p>\n\n<pre><code>    function getValue(x, y) {\n        Excel.run(function (context) {\n            var text = document.getElementById(x).value;\n            var sheet = context.workbook.worksheets.getItem(\"Sheet1\");\n            var range;\n            if (y == 1) { range = sheet.getRange(\"F5\") };\n            if (y == 2) {\n                range = sheet.getRange(\"F9\");\n                if (x == 7) { range.horizontalAlignment = \"left\" } // Problem line, I think                    \n            };\n            range.values = (text); // Put into cell 'range'\n            return context.sync()\n        });\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 4, "creation_date": 1570045264, "post_id": 58208291, "comment_id": 102794532, "body": "While I applaud you on providing the amount of code you have, personally it reads as a bit disjointed.  I&#39;m unclear how the bottom variable definitions relate to the other methods.  Can you perhaps include a single version that shows the relationship of when in the code the variables are created and when the functions are defined?"}, {"owner": {"reputation": 1009, "user_id": 1327983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkfUK.png?s=128&g=1", "display_name": "alttag", "link": "https://stackoverflow.com/users/1327983/alttag"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1570045486, "post_id": 58208291, "comment_id": 102794645, "body": "As @Taplar is saying, one method of debugging is to remove code you believe not germane to your problem until you can define the issue in the simplest of terms. Often, by doing so you solve the problem. If not, it&#39;s easier to share your question with others."}, {"owner": {"reputation": 319, "user_id": 11924879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4b069d830d9207f81480aba1da489c?s=128&d=identicon&r=PG&f=1", "display_name": "Mugs", "link": "https://stackoverflow.com/users/11924879/mugs"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1570046275, "post_id": 58208291, "comment_id": 102795006, "body": "@Taplar Okay I provided the full js file. It&#39;s not well organized at all. This is actually my first &#39;on my own&#39; project so forgive me for the headache :("}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1570046456, "post_id": 58208291, "comment_id": 102795081, "body": "@Mugs Don&#39;t worry about that.  The concern is more with knowing the code structure.  <code>let</code> has special scope rules and depending on if you structure your code in a certain way, the variables could easily not exist when you need them to be.  Seeing the code in it&#39;s actual structure allows us to look for these issues."}, {"owner": {"reputation": 2431, "user_id": 10323164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oKWyt.jpg?s=128&g=1", "display_name": "Chris Li", "link": "https://stackoverflow.com/users/10323164/chris-li"}, "edited": false, "score": 1, "creation_date": 1570046804, "post_id": 58208291, "comment_id": 102795233, "body": "i didnt read through all the code but it looks like the if statement in makeBullet is missing curly brackets, therefore when the if statement is false <code>player.enemy.bullet = document.createElement(&#39;div&#39;);</code> is not going to execute but all the other lines are still going to execute."}, {"owner": {"reputation": 319, "user_id": 11924879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4b069d830d9207f81480aba1da489c?s=128&d=identicon&r=PG&f=1", "display_name": "Mugs", "link": "https://stackoverflow.com/users/11924879/mugs"}, "reply_to_user": {"reputation": 2431, "user_id": 10323164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oKWyt.jpg?s=128&g=1", "display_name": "Chris Li", "link": "https://stackoverflow.com/users/10323164/chris-li"}, "edited": false, "score": 0, "creation_date": 1570047023, "post_id": 58208291, "comment_id": 102795326, "body": "@ChrisLi Ah! That worked! Thank you!! Such a small thing caused me so much pain :,("}], "answers": [{"tags": [], "owner": {"reputation": 205, "user_id": 9926510, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2W1tqf_2Mg4/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3qPer4ww8UlzpUIIaDwMdzP9-zkQ/mo/photo.jpg?sz=128", "display_name": "David Ko", "link": "https://stackoverflow.com/users/9926510/david-ko"}, "is_accepted": true, "score": 2, "last_activity_date": 1570047233, "creation_date": 1570047233, "answer_id": 58208750, "question_id": 58208291, "link": "https://stackoverflow.com/questions/58208291/wont-let-me-set-class-name-of-a-javascript-created-div/58208750#58208750", "title": "Won&#39;t let me set class name of a Javascript created div", "body": "<pre><code>function makeBullet() {\n    if (player.enemy.bulletCount &lt; player.enemy.maxBulletCount &amp;&amp; \nplayer.enemy.bulletInterval == true)\n\n</code></pre>\n\n<p>youre missing curly braces at the end of the if statement and i think its interpretting the next line as a part single line if statement</p>\n\n<p>change to </p>\n\n<pre><code>function makeBullet() {\n    if (player.enemy.bulletCount &lt; player.enemy.maxBulletCount &amp;&amp; \nplayer.enemy.bulletInterval == true) {\n        ...\n        ...\n        ...\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 11924879, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c4b069d830d9207f81480aba1da489c?s=128&d=identicon&r=PG&f=1", "display_name": "Mugs", "link": "https://stackoverflow.com/users/11924879/mugs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 58208750, "answer_count": 1, "score": 1, "last_activity_date": 1570047233, "creation_date": 1570045058, "last_edit_date": 1570046761, "question_id": 58208291, "link": "https://stackoverflow.com/questions/58208291/wont-let-me-set-class-name-of-a-javascript-created-div", "title": "Won&#39;t let me set class name of a Javascript created div", "body": "<p>I'm using a function to create a div element on the page. I want to assign a className but I get the error: cannot set property className of undefined.</p>\n\n<p>But I did this in another function and it worked. Why is this one not working?</p>\n\n<p>If I failed to provide the code relevant to the problem I apologize. I'm in a rush and included code that I thought might be relevant in order of relevancy.</p>\n\n<p>** WORKING FUNCTION **</p>\n\n<pre><code>function makeBomb() {\n    if (player.ready &amp;&amp; (player.hasBomb &lt; player.maxBombs)) {\n        player.score -= 300;\n        player.hasBomb++;\n        player.bomb = document.createElement('div');\n        player.bomb.className = 'bomb'; //DOESN'T THROW ERROR ----\n        gameArea.appendChild(player.bomb);\n        player.bomb.x = player.x;\n        player.bomb.y = player.y;\n        player.bomb.style.left = player.bomb.x + 'px';\n        player.bomb.style.top = player.bomb.y + 'px';\n        player.ready = false;\n        setTimeout(function () {\n            player.ready = true;\n        }, 1000);\n    }\n }\n</code></pre>\n\n<p>** NOT WORKING FUNCTION **</p>\n\n<pre><code>function makeBullet() {\n    if (player.enemy.bulletCount &lt; player.enemy.maxBulletCount &amp;&amp; \nplayer.enemy.bulletInterval == true)\n\n    player.enemy.bullet = document.createElement('div');\n    player.enemy.bullet.className = 'bullet';  //THROWS ERROR -----\n    gameArea.appendChild(player.enemy.bullet);\n    player.enemy.bullet.x = player.enemy.x;\n    player.enemy.bullet.y = player.enemy.y;\n    player.enemy.bullet.style.left = player.enemy.bullet.x + \n(player.enemy.offsetWidth / 3) + 'px';\n    player.enemy.bullet.style.top = player.enemy.bullet.y + \n(player.enemy.offsetHeight / 4) + 'px';\n    player.enemy.bulletCount++;\n    player.enemy.bulletInterval = false;\n    setInterval(function(){\n        player.enemy.bulletInterval = true;\n    }, 4000);\n}\n</code></pre>\n\n<p>** STARTING CODE THAT MIGHT HAVE CONTEXT IDK**</p>\n\n<pre><code>function start() {\n    if (player.games === 1) {\n        gameArea.removeChild(finalScore);\n    }\n    gameMessage.style.display = 'none';\n    score.style.display = \"inline-block\";\n    scoreArea.style.display = \"inline-block\";\n    text.style.display = \"inline-block\";\n    player.inplay = true;\n    makeEnemy();\n    player.plane = document.createElement(\"div\");\n    player.plane.setAttribute(\"class\", \"plane\");\n\n    gameArea.appendChild(player.plane);\n\n    player.enemy.x = player.enemy.offsetLeft;\n\n    player.enemy.y = player.enemy.offsetTop;\n\n    player.x = player.plane.offsetLeft;\n\n    player.y = player.plane.offsetTop;\n\n\n    window.requestAnimationFrame(playGame);\n\n\n}\n</code></pre>\n\n<p>** OTHER CODE THAT MIGHT HAVE CONTEXT ** </p>\n\n<pre><code>function makeEnemy() {\n\n    player.enemy = document.createElement('div');\n    player.enemy.className = 'enemy';\n    player.enemy.style.left = Math.floor(Math.random() * . \n   gameArea.offsetWidth - 300) + 100 + 'px';\n\n\n    gameArea.appendChild(player.enemy);\n    player.enemy.x = player.enemy.offsetLeft;\n\n}\n</code></pre>\n\n<p>** JUST IN CASE YOU NEED -- idk its hard for me to keep track of everything that might be related to the problem... sorry.. **</p>\n\n<pre><code>title.addEventListener(\"click\", changeColor);\n\nconst gameArea = document.querySelector(\".gameArea\");\nconst game = document.querySelector(\".game\");\nconst scoreArea = document.querySelector(\".scoreArea\");\nconst score = document.querySelector(\".score\");\nconst text = document.querySelector(\".text\");\n\n\ndocument.addEventListener('keydown', pressOn);\ndocument.addEventListener('keyup', pressOff);\ngameMessage.addEventListener('click', start);\n\nlet player = {\n    score: 2000,\n    speed: 5,\n    inplay: false,\n    ready: true,\n    maxBombs: 4,\n    hasBomb: 0,\n    hit: 0,\n   hitMax: 9,\n   games: 0,\n    enemy: {\n        x: 0\n    },\n    getHit: 0,\n    getHitMax: 20,\n    swing: false\n\n}\n\nlet keys = {\n   space: false\n}\n</code></pre>\n\n<p>** FULL JS FILE: BE WARNED IM VERY NEW AND THIS IS NOT GOOD CODE **</p>\n\n<pre><code>const title = document.querySelector(\".title\");\nconst gameMessage = document.querySelector(\".gameMessage\");\n\n\nfunction changeColor() {\n    let newArray = [\"darksalmon\", \"lightsalmon\", \"crimson\", \"red\", \"deeppink\", \"yellowgreen\", \"ghostwhite\"];\n    let random = Math.floor(Math.random() * Math.floor(newArray.length - 1));\n    if (title.style.color != newArray[random]) {\n        title.style.color = newArray[random];\n        console.log(title.style.color);\n    } else {\n        changeColor();\n    }\n}\n\n\ntitle.addEventListener(\"click\", changeColor);\n\nconst gameArea = document.querySelector(\".gameArea\");\nconst game = document.querySelector(\".game\");\nconst scoreArea = document.querySelector(\".scoreArea\");\nconst score = document.querySelector(\".score\");\nconst text = document.querySelector(\".text\");\n\n\ndocument.addEventListener('keydown', pressOn);\ndocument.addEventListener('keyup', pressOff);\ngameMessage.addEventListener('click', start);\n\nlet player = {\n    score: 2000,\n    speed: 5,\n    inplay: false,\n    ready: true,\n    maxBombs: 4,\n    hasBomb: 0,\n    hit: 0,\n    hitMax: 9,\n    games: 0,\n    enemy: {\n        x: 0\n    },\n    getHit: 0,\n    getHitMax: 20,\n    swing: false\n\n}\n\nlet keys = {\n    space: false\n}\n\nfunction start() {\n    if (player.games === 1) {\n        gameArea.removeChild(finalScore);\n    }\n    gameMessage.style.display = 'none';\n    score.style.display = \"inline-block\";\n    scoreArea.style.display = \"inline-block\";\n    text.style.display = \"inline-block\";\n    player.inplay = true;\n    makeEnemy();\n    player.plane = document.createElement(\"div\");\n    player.plane.setAttribute(\"class\", \"plane\");\n\n    gameArea.appendChild(player.plane);\n\n    player.enemy.x = player.enemy.offsetLeft;\n\n    player.enemy.y = player.enemy.offsetTop;\n\n    player.x = player.plane.offsetLeft;\n\n    player.y = player.plane.offsetTop;\n\n\n    window.requestAnimationFrame(playGame);\n\n\n}\n\n\n\nfunction playGame() {\n    if (player.inplay) {\n        moveBomb();\n\n        if(player.x &lt; (gameArea.offsetWidth / 2)) {\n            console.log('WORKED');\n            makeBullet();\n        }\n\n        if (player.swing){\n                 player.plane.style.backgroundImage ='url(guts1.png)';\n                 player.swing = false;\n                 //player.plane.style.width = 210 + 'px';\n\n                }\n\n\n        if (keys['x'] &amp;&amp; player.enemy &amp;&amp; isCollide(player.plane, player.enemy)) {\n                removeEnemy();\n            }\n\n\n\n        if (player.enemy) {\n\n\n            if (isCollide(player.plane, player.enemy)) {\n\n\n                player.getHit++;\n                if (player.getHit &gt; player.getHitMax){\n                    endGame();\n                }    \n            } else {\n                player.getHit = 0;\n            }\n            if (player.x &gt; player.enemy.x) {\n                player.enemy.x += 1;\n            }\n            if (player.x &lt; player.enemy.x) {\n                player.enemy.x -= 1;\n            }\n            player.enemy.style.left = player.enemy.x + 'px';\n        }\n\n        if (player.hasBomb &gt;= player.maxBombs &amp;&amp; player.bomb.y &gt; gameArea.offsetHeight - 20) {\n\n            endGame();\n        }\n        if (keys.space) {\n            makeBomb()\n\n        }\n        if (keys.ArrowUp &amp;&amp; player.y &gt; 0) {\n            player.y -= (player.speed + (player.speed * .5));\n        }\n        if (keys.ArrowDown &amp;&amp; player.y &lt; (gameArea.offsetHeight - player.plane.offsetHeight - 30)) {\n            player.y += (player.speed + (player.speed * .5));\n        }\n        if (keys.ArrowLeft &amp;&amp; player.x &gt; 0) {\n            player.x -= (player.speed + (player.speed * .5));\n        }\n        if (keys.ArrowRight &amp;&amp; player.x &lt; (gameArea.offsetWidth)) {\n            player.x += (player.speed - (player.speed * .5));\n        }\n\n        if (player.x == (gameArea.offsetWidth)) {\n            player.x = 0;\n            player.score -= 100;\n            if (!player.enemy) {\n                makeEnemy();\n            }\n        }\n\n        player.score -= .4;\n\n        if (player.score &lt; 0) {\n            player.score = 0;\n        }\n\n        player.x += (player.speed * .5);\n\n\n        score.innerHTML = Math.floor(player.score) + ' Bombs left: ' + (player.maxBombs - player.hasBomb);\n\n\n\n        player.plane.style.left = player.x + 'px';\n        player.plane.style.top = player.y + 'px';\n\n        window.requestAnimationFrame(playGame);\n    }\n}\n\nfunction pressOn(e) {\n    e.preventDefault();\n    let tempKey = (e.key == \" \") ? \"space\" : e.key;\n    keys[tempKey] = true;\n\n        if (keys['x'] &amp;&amp; player.swing == false){\n                 playerPlane = player.plane;\n                 player.plane.style.backgroundImage ='url(guts2.png)';\n                 setTimeout(function () {\n                 player.swing = true;\n                 }, 300);\n                 //player.plane.style.width = 400 + 'px';\n                }\n    console.log(tempKey)\n    console.log(keys);\n\n}\n\nfunction pressOff(e) {\n    e.preventDefault();\n    let tempKey = (e.key== \" \") ? \"space\" : e.key;\n    console.log(tempKey);\n\n//    if (keys['x'] &amp;&amp; player.swing){\n//               playerPlane = player.plane;\n//               player.plane.style.backgroundImage ='url(guts1.png)';\n//                 player.swing = false;\n//                 //player.plane.style.width = 210 + 'px';\n//              \n//              }\n\n    if (keys['space'] || keys['x']) {\n    keys['space'] = 0;\n    keys['x'] = 0;\n    }\n    keys[tempKey] = false;\n    console.log(keys);\n}\n\nfunction moveBomb() {\n    let bombs = document.querySelectorAll('.bomb');\n    bombs.forEach(function (item) {\n        item.y += 10;\n        item.style.top = item.y + 'px';\n        if (item.y &gt; gameArea.offsetHeight) {\n            item.parentNode.removeChild(item);\n            player.bomb = null;\n        }\n        if (player.enemy &amp;&amp; player.bomb) {\n            if (isCollide(item, player.enemy)) {\n               player.hit++;\n\n            }\n\n        }\n\n        if (player.hit &gt; player.hitMax) {\n            item.parentNode.removeChild(item);\n            player.bomb = null;\n            player.score += 2000;\n            player.hit = 0;\n            player.hasBomb -= 2\n            gameArea.removeChild(player.enemy);\n            player.enemy = null;\n        }\n    })\n}\n\nfunction makeEnemy() {\n\n    player.enemy = document.createElement('div');\n    player.enemy.className = 'enemy';\n    player.enemy.style.left = Math.floor(Math.random() * gameArea.offsetWidth - 300) + 100 + 'px';\n\n\n    gameArea.appendChild(player.enemy);\n    player.enemy.x = player.enemy.offsetLeft;\n\n}\n\n//function getLocationX(a){\n//    let aRect = a.getBoundingClientRect();\n//    let aX = aRect.x;\n//    return aX;\n//   //w console.log(aX);\n//}\n//\n//function getLocationY(a){\n//    let aRect = a.getBoundingClientRect();\n//    let aY = aRect.y;\n//    return aY;\n//   // console.log(aY);\n//}\n\nfunction isCollide(a, b) {\n    let aRect = a.getBoundingClientRect();\n    let bRect = b.getBoundingClientRect();\n    return !(\n        (aRect.bottom &lt; bRect.top) ||\n        (aRect.top &gt; bRect.bottom) ||\n        (aRect.right &lt; bRect.left) ||\n        (aRect.left &gt; bRect.right)\n    )\n}\n\nfunction makeBomb() {\n    if (player.ready &amp;&amp; (player.hasBomb &lt; player.maxBombs)) {\n        player.score -= 300;\n        player.hasBomb++;\n        player.bomb = document.createElement('div');\n        player.bomb.className = 'bomb';\n        gameArea.appendChild(player.bomb);\n        player.bomb.x = player.x;\n        player.bomb.y = player.y;\n        player.bomb.style.left = player.bomb.x + 'px';\n        player.bomb.style.top = player.bomb.y + 'px';\n        player.ready = false;\n        setTimeout(function () {\n            player.ready = true;\n        }, 1000);\n    }\n}\n\n\nfunction makeBullet() {\n    if (player.enemy.bulletCount &lt; player.enemy.maxBulletCount &amp;&amp; player.enemy.bulletInterval == true)\n\n    player.enemy.bullet = document.createElement('div');\n    player.enemy.bullet.className = 'bullet';\n    gameArea.appendChild(player.enemy.bullet);\n    player.enemy.bullet.x = player.enemy.x;\n    player.enemy.bullet.y = player.enemy.y;\n    player.enemy.bullet.style.left = player.enemy.bullet.x + (player.enemy.offsetWidth / 3) + 'px';\n    player.enemy.bullet.style.top = player.enemy.bullet.y + (player.enemy.offsetHeight / 4) + 'px';\n    player.enemy.bulletCount++;\n    player.enemy.bulletInterval = false;\n    setInterval(function(){\n        player.enemy.bulletInterval = true;\n    }, 4000);\n}\n\nfunction endGame() {\n    if (player.enemy) {\n        gameArea.removeChild(player.enemy);\n    }\n    gameArea.removeChild(player.plane);\n    if (player.bomb){\n        gameArea.removeChild(player.bomb);\n        player.bomb = null;\n    }\n    score.style.display = 'none';\n    scoreArea.style.display = 'none';\n    text.style.display = 'none';\n    gameMessage.style.display = 'inline-block';\n    player.inplay = false;\n    player.hasBomb = 0;\n    finalScore = document.createElement('div');\n    finalScore.classList.add('finalScore');\n    finalScore.innerHTML = 'YOU SCORED: ' + Math.floor(player.score);\n    gameArea.appendChild(finalScore);\n    player.games = 1;\n    player.getHit = 0;\n}\n\nfunction removeEnemy() {\n    gameArea.removeChild(player.enemy);\n    player.enemy = null;\n    player.score += 2000;\n}\n</code></pre>\n"}, {"tags": ["javascript", "firebase", "redux", "redux-saga"], "answers": [{"tags": [], "owner": {"reputation": 4819, "user_id": 11847125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be47a50b0a0c3b973a8602b84821db9?s=128&d=identicon&r=PG&f=1", "display_name": "azundo", "link": "https://stackoverflow.com/users/11847125/azundo"}, "is_accepted": false, "score": 0, "last_activity_date": 1570074219, "creation_date": 1570074219, "answer_id": 58212022, "question_id": 58208280, "link": "https://stackoverflow.com/questions/58208280/how-to-make-parallel-requests-in-redux-saga-in-array-map-loop-into-firebase/58212022#58212022", "title": "How to make parallel requests in redux saga in array map loop into firebase?", "body": "<p>The array passed to <code>yield all</code> should be an array of effects. If you refactor slightly you can do something like:</p>\n\n<pre><code>// define this helper generator\nfunction* fetchMember(member) {\n  // note the addition of the `yield` here before `call`\n  const user = yield call(() =&gt; db.collection('users').doc(member).get())\n  const userData = user.data()\n  return {\n    uid: member,\n    ...userData\n  }\n}\n\n...\n\n const fetchedMembers = yield all(tasksObject[task].members.map(\n   // the array being passed to `yield all` is now an array of `call` effects\n   member =&gt; call(fetchMember, member)\n ));\n\n</code></pre>\n"}], "owner": {"reputation": 569, "user_id": 6180551, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/lIMZw.jpg?s=128&g=1", "display_name": "WhoIsDT", "link": "https://stackoverflow.com/users/6180551/whoisdt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 143, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1570074219, "creation_date": 1570044992, "question_id": 58208280, "link": "https://stackoverflow.com/questions/58208280/how-to-make-parallel-requests-in-redux-saga-in-array-map-loop-into-firebase", "title": "How to make parallel requests in redux saga in array map loop into firebase?", "body": "<p>So i have array of ID's of users. I want to get data about them from collection. This is the pice of saga:</p>\n\n<pre><code> const fetchedMembers = yield all(tasksObject[task].members.map( member =&gt; {\n//member has id of user!\n              const user = call(() =&gt; db.collection('users').doc(member).get())\n              const userData = user.data()\n              return {\n                uid: member,\n                ...userData\n              }\n            }))\n</code></pre>\n\n<p>But i have mistake in my code. How to spell it correct? </p>\n"}, {"tags": ["javascript", "json", "highcharts"], "answers": [{"tags": [], "owner": {"reputation": 25325, "user_id": 8951377, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MYqI.jpg?s=128&g=1", "display_name": "ppotaczek", "link": "https://stackoverflow.com/users/8951377/ppotaczek"}, "is_accepted": false, "score": 0, "last_activity_date": 1570093498, "creation_date": 1570093498, "answer_id": 58215750, "question_id": 58208268, "link": "https://stackoverflow.com/questions/58208268/highcharts-variwide-column-stacked-chart/58215750#58215750", "title": "HighCharts: Variwide Column Stacked Chart", "body": "<p>You can use <code>heatmap</code> chart type with multiple series and different <code>colsize</code> properties. For example:</p>\n\n<pre><code>series: [{\n    data: [\n        [0, 0, 10],\n        [0, 1, 19],\n        [0, 2, 8],\n        [0, 3, 24],\n        [0, 4, 67]\n    ],\n    colsize: 1,\n}, {\n    data: [\n        [0.75, 0, 10],\n        [0.75, 1, 19],\n        [0.75, 2, 8],\n        [0.75, 3, 24],\n        [0.75, 4, 67]\n    ],\n    colsize: 0.5\n}, {\n    data: [\n        [1.5, 0, 10],\n        [1.5, 1, 19],\n        [1.5, 2, 8],\n        [1.5, 3, 24],\n        [1.5, 4, 67]\n    ],\n    colsize: 1\n}]\n</code></pre>\n\n<hr>\n\n<p><strong>Live demo:</strong> <a href=\"https://jsfiddle.net/BlackLabel/28ytbose/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/BlackLabel/28ytbose/</a></p>\n\n<p><strong>API Reference:</strong> <a href=\"https://api.highcharts.com/highcharts/series.heatmap.colsize\" rel=\"nofollow noreferrer\">https://api.highcharts.com/highcharts/series.heatmap.colsize</a></p>\n"}], "owner": {"reputation": 217, "user_id": 7712436, "user_type": "registered", "accept_rate": 44, "profile_image": "https://graph.facebook.com/1909705012599523/picture?type=large", "display_name": "Zack Arnett", "link": "https://stackoverflow.com/users/7712436/zack-arnett"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 82, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570093498, "creation_date": 1570044948, "question_id": 58208268, "link": "https://stackoverflow.com/questions/58208268/highcharts-variwide-column-stacked-chart", "title": "HighCharts: Variwide Column Stacked Chart", "body": "<p>Is it possible to get a Variwide Chart to stack like a Column Stacked Chart? I am wanting to Dynamically adjust the widths of the columns while keeping the columns side by side. </p>\n\n<p>Total <strong>Test1</strong>: 50</p>\n\n<p>Total <strong>Test2</strong>: 65</p>\n\n<p>Total <strong>Test3</strong>: 35</p>\n\n<p>Total <strong>Test4</strong>: 80</p>\n\n<p>In this case, Test4 would take up 34%, Test2 28%, etc</p>\n\n<p><a href=\"https://i.stack.imgur.com/F22fS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F22fS.png\" alt=\"HighCharts\"></a></p>\n"}, {"tags": ["javascript", "html", "iframe"], "comments": [{"owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "edited": false, "score": 2, "creation_date": 1570044696, "post_id": 58208184, "comment_id": 102794291, "body": "Intersection observer is api that should tell you if an element is visible. If you hook body to it is should do the trick. Other than that, you can do in only in frames that are of same origin."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1570045098, "post_id": 58208184, "comment_id": 102794458, "body": "well if you can have a script running on their page it is possible, without that, you are out of luck."}, {"owner": {"reputation": 53, "user_id": 3421992, "user_type": "registered", "profile_image": "https://graph.facebook.com/709843235/picture?type=large", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3421992/andrew"}, "edited": false, "score": 0, "creation_date": 1570051622, "post_id": 58208184, "comment_id": 102796857, "body": "Thanks Akxe for the idea! I gave that a shot, but for some reason it was only firing once.  However reading through the docs helped me realize that <code>getBoundingClientRect()</code> and checking <code>if(height === 0)</code> will do the trick for what I need."}, {"owner": {"reputation": 400, "user_id": 8090636, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sSfcH.jpg?s=128&g=1", "display_name": "Hollyol", "link": "https://stackoverflow.com/users/8090636/hollyol"}, "reply_to_user": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "edited": false, "score": 0, "creation_date": 1615302446, "post_id": 58208184, "comment_id": 117645523, "body": "@Akxe - Intersection observer is a good solution (the only one that worked for me so far), could you please submit an answer with a link to MDN documentation about it and a simple explanation on what it does ?"}], "owner": {"reputation": 53, "user_id": 3421992, "user_type": "registered", "profile_image": "https://graph.facebook.com/709843235/picture?type=large", "display_name": "Andrew", "link": "https://stackoverflow.com/users/3421992/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1570044527, "creation_date": 1570044527, "question_id": 58208184, "link": "https://stackoverflow.com/questions/58208184/how-to-check-if-iframe-is-visible-from-within-the-iframe", "title": "How to check if iframe is visible from within the iframe", "body": "<p>I develop a widget that is expected to run on a partner's site as an iFrame.  The iFrame is served up via a different domain than the parent's domain, so I cannot explicitly access their DOM.</p>\n\n<p>The end-user can expand/collapse our widget using a button on the parent page.  The parent page does not alert us when this happens or give us any way to tell the current status.</p>\n\n<p>So I'm looking to see if there is some way around this by detecting from within our iFrame if the document is hidden. We use this information to determine if we need to send notifications to the end-user if our widget is hidden.</p>\n\n<p>I've tried some things, like hookinh into the <code>visibilitychange</code> event, but it doesn't fire.  I've also tried doing a hacky thing like getting the computed style of <code>document.body</code> but it doesn't seem to change based on whether the iFrame is hidden or not.</p>\n"}, {"tags": ["javascript", "node.js", "nodemailer"], "answers": [{"tags": [], "owner": {"reputation": 394, "user_id": 3388786, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/vgGjA.jpg?s=128&g=1", "display_name": "Fernando Zamperin", "link": "https://stackoverflow.com/users/3388786/fernando-zamperin"}, "is_accepted": false, "score": -1, "last_activity_date": 1570045107, "creation_date": 1570045107, "answer_id": 58208304, "question_id": 58208074, "link": "https://stackoverflow.com/questions/58208074/unable-to-send-emails-using-nodemailer-without-authentication/58208304#58208304", "title": "Unable to send emails using nodemailer without authentication", "body": "<p>I don't quite know about nodemailer, but with <a href=\"https://github.com/guileen/node-sendmail\" rel=\"nofollow noreferrer\">sendmail</a>, you can send emails without a SMTP server, but for that to work you have to use dkim authentication, for short your email must be sent from the same domain as the email you're trying to send, take a look at this <a href=\"https://blog.returnpath.com/how-to-explain-dkim-in-plain-english-2/\" rel=\"nofollow noreferrer\">article</a>, hope that helps.</p>\n"}], "owner": {"reputation": 27, "user_id": 5344573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab4870911d6f5204abbd54d35a62740b?s=128&d=identicon&r=PG&f=1", "display_name": "kd0001", "link": "https://stackoverflow.com/users/5344573/kd0001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1570045107, "creation_date": 1570044009, "question_id": 58208074, "link": "https://stackoverflow.com/questions/58208074/unable-to-send-emails-using-nodemailer-without-authentication", "title": "Unable to send emails using nodemailer without authentication", "body": "<p>I need to send emails from my application for any exceptions, so I am using nodemailer for that but I cannot provide username and password for the account and without which It is not letting me send any emails. Any solutions? This is how my code looks as of now:</p>\n\n<pre><code>import nodemailer from 'nodemailer';\n\n//Create reusable transport object using the SMTP transport\nlet transporter = nodemailer.createTransport({\n    host: 'smtp-mail.outlook.com',\n    port: 587,\n    secureConnection: false,\n    requireTLS: true,\n    tls: {\n        // do not fail on invalid certs\n        rejectUnauthorized: false\n      }\n});\n\n\nmodule.exports = function sendEmail(to, subject, message) {\n    let mailOptions = {\n        from: '********',\n        to,\n        subject,\n        html: message\n    };\n    transporter.sendMail(mailOptions, function(error) {\n        if (error) {\n            console.log(error);\n        }\n\n    });\n};\n</code></pre>\n"}, {"tags": ["javascript", "php", "discord"], "comments": [{"owner": {"reputation": 1770, "user_id": 3667121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3N0g8.jpg?s=128&g=1", "display_name": "DedaDev", "link": "https://stackoverflow.com/users/3667121/dedadev"}, "edited": false, "score": 0, "creation_date": 1570051938, "post_id": 58208027, "comment_id": 102796943, "body": "That is the right way to mention, check if the user is in the Server at all and bot have perms."}, {"owner": {"reputation": 91, "user_id": 9507326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fdb7f46efec7f29face7dbe717106e4?s=128&d=identicon&r=PG&f=1", "display_name": "Mariusz", "link": "https://stackoverflow.com/users/9507326/mariusz"}, "reply_to_user": {"reputation": 1770, "user_id": 3667121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3N0g8.jpg?s=128&g=1", "display_name": "DedaDev", "link": "https://stackoverflow.com/users/3667121/dedadev"}, "edited": false, "score": 0, "creation_date": 1570085718, "post_id": 58208027, "comment_id": 102804012, "body": "Okey i figure it out, im dumb but i paste my text inside &quot; ``` &quot;, that make text a code haha"}], "answers": [{"tags": [], "owner": {"reputation": 104, "user_id": 8288313, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-JY6NVKeY67A/AAAAAAAAAAI/AAAAAAAAAv8/kXPlaBkyuoc/photo.jpg?sz=128", "display_name": "Skrub", "link": "https://stackoverflow.com/users/8288313/skrub"}, "is_accepted": false, "score": 0, "last_activity_date": 1579622663, "creation_date": 1579622663, "answer_id": 59844952, "question_id": 58208027, "link": "https://stackoverflow.com/questions/58208027/discord-js-userid-doesnt-work-correctly/59844952#59844952", "title": "Discord js &lt;@userid&gt; doesn&#39;t work correctly", "body": "<p>It is. It isn't <code>&lt;@userID&gt;</code>; it's <code>&lt;@!userID&gt;</code>. </p>\n"}], "owner": {"reputation": 91, "user_id": 9507326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fdb7f46efec7f29face7dbe717106e4?s=128&d=identicon&r=PG&f=1", "display_name": "Mariusz", "link": "https://stackoverflow.com/users/9507326/mariusz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 146, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1579622663, "creation_date": 1570043810, "question_id": 58208027, "link": "https://stackoverflow.com/questions/58208027/discord-js-userid-doesnt-work-correctly", "title": "Discord js &lt;@userid&gt; doesn&#39;t work correctly", "body": "<p>I would like to know if its possible to tag user inside message.</p>\n\n<p>For example:</p>\n\n<pre><code>msg.channel.send('display and tag user &lt;@426369340&gt; , thanks!').then(msg =&gt; {\n\n})\n</code></pre>\n\n<p>And on bot message i get:</p>\n\n<p>\"display and tag user &lt;@426369340> , thanks!\"</p>\n\n<p>I want:</p>\n\n<p>\"display and tag user @userName , thanks!\"</p>\n\n<p>Is it even possible ?</p>\n"}, {"tags": ["javascript", "vue.js", "vuejs2", "babeljs", "nuxt.js"], "comments": [{"owner": {"reputation": 3200, "user_id": 575468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17065ea1655f1e3283aac8d8fc16019?s=128&d=identicon&r=PG", "display_name": "dreijntjens", "link": "https://stackoverflow.com/users/575468/dreijntjens"}, "edited": false, "score": 0, "creation_date": 1570175478, "post_id": 58208020, "comment_id": 102837989, "body": "Maybe silly question but did you install the packages npm insall/ yarn add?"}, {"owner": {"reputation": 4105, "user_id": 2891356, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dc24006aaa48961401c06c0a7903f348?s=128&d=identicon&r=PG&f=1", "display_name": "Mike K", "link": "https://stackoverflow.com/users/2891356/mike-k"}, "reply_to_user": {"reputation": 3200, "user_id": 575468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17065ea1655f1e3283aac8d8fc16019?s=128&d=identicon&r=PG", "display_name": "dreijntjens", "link": "https://stackoverflow.com/users/575468/dreijntjens"}, "edited": false, "score": 0, "creation_date": 1570176023, "post_id": 58208020, "comment_id": 102838220, "body": "I have, yes lol"}, {"owner": {"reputation": 3200, "user_id": 575468, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b17065ea1655f1e3283aac8d8fc16019?s=128&d=identicon&r=PG", "display_name": "dreijntjens", "link": "https://stackoverflow.com/users/575468/dreijntjens"}, "edited": false, "score": 0, "creation_date": 1570180258, "post_id": 58208020, "comment_id": 102840047, "body": "Are you using webpack? If so could you add the webpack.config.js?"}, {"owner": {"reputation": 8594, "user_id": 2441655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e0a2ff948b6678c5e0054a4c8392b67?s=128&d=identicon&r=PG", "display_name": "Venryx", "link": "https://stackoverflow.com/users/2441655/venryx"}, "edited": false, "score": 0, "creation_date": 1574768974, "post_id": 58208020, "comment_id": 104340725, "body": "Adding those plugins to my webpack config worked for me in removing that error message. I think instead of adding those plugins to the <code>package.json</code>, try adding it to your webpack config -- under the <code>options</code> key for the <code>babel-loader</code> rule/entry. Another possibility is adding it to your <code>.babelrc</code> file (if you have one in your project)."}, {"owner": {"reputation": 1, "user_id": 10616181, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8HVkA.jpg?s=128&g=1", "display_name": "D Salvini", "link": "https://stackoverflow.com/users/10616181/d-salvini"}, "edited": false, "score": 0, "creation_date": 1597067804, "post_id": 58208020, "comment_id": 112020523, "body": "Not a direct solution since I can&#39;t know what your setup is, but: Search for any <code>@babel&#47;plugin-proposal-</code> across the codebase. It may live in multiple files, sometimes twice in the same file. This has worked for me."}, {"owner": {"reputation": 400, "user_id": 2734967, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PGclK.jpg?s=128&g=1", "display_name": "Lin", "link": "https://stackoverflow.com/users/2734967/lin"}, "edited": false, "score": 0, "creation_date": 1600423518, "post_id": 58208020, "comment_id": 113090353, "body": "Are you using node &gt; 12, cause we used to have an issue with optional chaining on node 14 in a nuxt project, the issue was gone after we go back to node 12."}], "answers": [{"comments": [{"owner": {"reputation": 4105, "user_id": 2891356, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dc24006aaa48961401c06c0a7903f348?s=128&d=identicon&r=PG&f=1", "display_name": "Mike K", "link": "https://stackoverflow.com/users/2891356/mike-k"}, "edited": false, "score": 0, "creation_date": 1600425605, "post_id": 63953775, "comment_id": 113091291, "body": "Thanks for replying, this might help someone. I personally haven&#39;t experienced this issue as of late projects. <code>create-react-app</code> and <code>create-next-app</code> support most proposals and ES features OOTB now."}], "tags": [], "owner": {"reputation": 400, "user_id": 2734967, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PGclK.jpg?s=128&g=1", "display_name": "Lin", "link": "https://stackoverflow.com/users/2734967/lin"}, "is_accepted": false, "score": 0, "last_activity_date": 1600424070, "creation_date": 1600424070, "answer_id": 63953775, "question_id": 58208020, "link": "https://stackoverflow.com/questions/58208020/error-support-for-the-experimental-syntax-optionalchaining-isnt-currently-en/63953775#63953775", "title": "Error: Support for the experimental syntax &#39;optionalChaining&#39; isn&#39;t currently enabled, but it is", "body": "<p>Okay I am bit late here, but I can see the question is still active, for those come later:</p>\n<p>At the time of writing, optional chaining <strong>might</strong> not work in NUXT project with node &gt; 12, try using the current LTS version (node 12).</p>\n<p>I think the issue might related to one or more dependencies of NUXT but we didn't investigate further, using node 12 resolves the issue for us.</p>\n"}], "owner": {"reputation": 4105, "user_id": 2891356, "user_type": "registered", "accept_rate": 14, "profile_image": "https://www.gravatar.com/avatar/dc24006aaa48961401c06c0a7903f348?s=128&d=identicon&r=PG&f=1", "display_name": "Mike K", "link": "https://stackoverflow.com/users/2891356/mike-k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3380, "favorite_count": 0, "answer_count": 1, "score": 9, "last_activity_date": 1600424070, "creation_date": 1570043790, "last_edit_date": 1570044642, "question_id": 58208020, "link": "https://stackoverflow.com/questions/58208020/error-support-for-the-experimental-syntax-optionalchaining-isnt-currently-en", "title": "Error: Support for the experimental syntax &#39;optionalChaining&#39; isn&#39;t currently enabled, but it is", "body": "<p>I've followed the instructions <a href=\"https://babeljs.io/docs/en/next/babel-plugin-proposal-optional-chaining\" rel=\"noreferrer\">here</a> and <a href=\"https://babeljs.io/docs/en/next/babel-plugin-proposal-nullish-coalescing-operator\" rel=\"noreferrer\">here</a> and I've added the following to my <code>package.json</code></p>\n\n<pre><code>},\n\"babel\": {\n    \"plugins\": [\n        \"@babel/plugin-proposal-nullish-coalescing-operator\",\n        \"@babel/plugin-proposal-optional-chaining\"\n    ]\n},\n\"dependencies\": {\n</code></pre>\n\n<p>But I'm still getting the error </p>\n\n<pre><code>Support for the experimental syntax 'optionalChaining' isn't currently enabled\n</code></pre>\n\n<p>What am I doing wrong here?</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "express"], "answers": [{"comments": [{"owner": {"reputation": 135, "user_id": 7488548, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fsafO.jpg?s=128&g=1", "display_name": "sukiyo", "link": "https://stackoverflow.com/users/7488548/sukiyo"}, "edited": false, "score": 0, "creation_date": 1570045677, "post_id": 58208340, "comment_id": 102794745, "body": "Thank you for the reply! I did not realize the power of try and catch. When I did that, and I put in a &quot;wrong login&quot;, my localhost crashes and says unable to connect. I took out the ?err= messages you wrote as well to test. Your code makes sense to me though. Is bycryptjs token authentication? I have javascript and jquery in my partials footer.ejs"}, {"owner": {"reputation": 1045, "user_id": 2339536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QxaPf.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/2339536/abhishek"}, "reply_to_user": {"reputation": 135, "user_id": 7488548, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fsafO.jpg?s=128&g=1", "display_name": "sukiyo", "link": "https://stackoverflow.com/users/7488548/sukiyo"}, "edited": false, "score": 1, "creation_date": 1570046202, "post_id": 58208340, "comment_id": 102794969, "body": "@sukiyo I have updated my answer. I missed the return statement."}, {"owner": {"reputation": 135, "user_id": 7488548, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fsafO.jpg?s=128&g=1", "display_name": "sukiyo", "link": "https://stackoverflow.com/users/7488548/sukiyo"}, "edited": false, "score": 0, "creation_date": 1570046485, "post_id": 58208340, "comment_id": 102795103, "body": "Thank you so much!!!!!! I did not know about return statements in app.js as well! How come in your catch you did not write a return statement? And thank you for the links! I will look!"}, {"owner": {"reputation": 1045, "user_id": 2339536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QxaPf.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/2339536/abhishek"}, "reply_to_user": {"reputation": 135, "user_id": 7488548, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fsafO.jpg?s=128&g=1", "display_name": "sukiyo", "link": "https://stackoverflow.com/users/7488548/sukiyo"}, "edited": false, "score": 1, "creation_date": 1570046502, "post_id": 58208340, "comment_id": 102795112, "body": "@sukiyo  bcrypt is a password hashing function and bycryptjs is a nodejs module which provides the same. - <a href=\"https://www.npmjs.com/package/bcryptjs\" rel=\"nofollow noreferrer\">npmjs.com/package/bcryptjs</a>"}, {"owner": {"reputation": 1045, "user_id": 2339536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QxaPf.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/2339536/abhishek"}, "reply_to_user": {"reputation": 135, "user_id": 7488548, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fsafO.jpg?s=128&g=1", "display_name": "sukiyo", "link": "https://stackoverflow.com/users/7488548/sukiyo"}, "edited": false, "score": 1, "creation_date": 1570046712, "post_id": 58208340, "comment_id": 102795199, "body": "@sukiyo you can write a return statement in catch too but it is not required as there are no other statements to execute further i.e it reached end of the method."}, {"owner": {"reputation": 135, "user_id": 7488548, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fsafO.jpg?s=128&g=1", "display_name": "sukiyo", "link": "https://stackoverflow.com/users/7488548/sukiyo"}, "edited": false, "score": 0, "creation_date": 1570046857, "post_id": 58208340, "comment_id": 102795253, "body": "Thank you, that makes sense. Oh I did not realize that about return statements, I am learning as I go ^^."}], "tags": [], "owner": {"reputation": 1045, "user_id": 2339536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QxaPf.jpg?s=128&g=1", "display_name": "Abhishek", "link": "https://stackoverflow.com/users/2339536/abhishek"}, "is_accepted": true, "score": 1, "last_activity_date": 1570046102, "last_edit_date": 1570046102, "creation_date": 1570045297, "answer_id": 58208340, "question_id": 58207939, "link": "https://stackoverflow.com/questions/58207939/how-to-do-user-login-correctly-with-nodejs-and-express/58208340#58208340", "title": "How to do user login correctly with nodejs and express", "body": "<p>The issue might be you are not returning anything when <code>foundUser</code> is null or if the password doesn\u2019t match.</p>\n\n<p>If there is any error you can redirect it to the <code>/login</code> route with query param (err) which can be read by the client using JS at page load. If there is a nonempty query param <code>err</code> then read it and show it in some popup.</p>\n\n<p><code>res.redirect(\"/login?err=The username does not exist\");</code></p>\n\n<pre><code>//connect to mongodb\nmongoose.connect(\"mongodb://localhost:27017/userDB\", {\n    useNewUrlParser: true\n});\n\nconst userSchema = {\n    username: String,\n    password: String\n};\n\nconst User = new mongoose.model(\"User\", userSchema);\n\napp.get(\"/\", function(req, res) {\n    res.render(\"home\"); //render home.ejs\n});\n\napp.get(\"/login\", function(req, res) {\n    res.render(\"login\"); //render login.ejs\n});\n\napp.post(\"/login\", function(req, res) {\n    const username = req.body.username;\n    const password = req.body.password;\n\n    try {\n        User.findOne({\n            username: username\n        }, function(err, foundUser) {\n            if (err || !foundUser) {\n                return res.redirect(\"/login?err=The username does not exist\");\n            }\n            if (foundUser.password !== password) {\n                // you can use  bcryptjs for hashing and comparing hashed values.\n\n                return res.redirect(\"/login?err=The username or password is invalid\");\n            }\n            res.redirect(\"/counter\");\n        });\n    } catch (error) {\n       res.redirect(\"/login?err=something went wrong!\");\n    }\n});\n\n</code></pre>\n\n<p>You can read more about handling authentication in nodeJS <a href=\"https://scotch.io/tutorials/authenticate-a-node-es6-api-with-json-web-tokens\" rel=\"nofollow noreferrer\">here</a>. also check <a href=\"http://www.passportjs.org/\" rel=\"nofollow noreferrer\">passportjs</a></p>\n"}], "owner": {"reputation": 135, "user_id": 7488548, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/fsafO.jpg?s=128&g=1", "display_name": "sukiyo", "link": "https://stackoverflow.com/users/7488548/sukiyo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "accepted_answer_id": 58208340, "answer_count": 1, "score": -1, "last_activity_date": 1570251541, "creation_date": 1570043419, "last_edit_date": 1570251541, "question_id": 58207939, "link": "https://stackoverflow.com/questions/58207939/how-to-do-user-login-correctly-with-nodejs-and-express", "title": "How to do user login correctly with nodejs and express", "body": "<p>I am very new to web development, and have been using Google as a guide.</p>\n\n<p>If I put a wrong login that does not match what I have in my database, the website just gets stuck and keeps trying to \u201cload\u201d. I also am confused on how to do token-based authentication for login and would love some more guidance on that, the guide I am following talks about database encryption and OAuth 2.0 with Google.  </p>\n\n<p>If the user logs in with a username and password that is not correct, I just want it to give an error and reload back to login.ejs. </p>\n\n<p>Thank you for any help!</p>\n"}, {"tags": ["javascript", "firebase"], "answers": [{"tags": [], "owner": {"reputation": 21333, "user_id": 226391, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/69dc78b59ef008c58e6e842f9f3e0624?s=128&d=identicon&r=PG", "display_name": "Michael Bleigh", "link": "https://stackoverflow.com/users/226391/michael-bleigh"}, "is_accepted": false, "score": 0, "last_activity_date": 1570058287, "creation_date": 1570058287, "answer_id": 58210475, "question_id": 58207911, "link": "https://stackoverflow.com/questions/58207911/index-content-does-not-show-when-i-try-to-go-online/58210475#58210475", "title": "Index content does not show when I try to go online", "body": "<p>The answer is right in the error message: you are including <code>init.js</code> before the Firebase SDK. Try this:</p>\n\n<pre><code>  &lt;script src=\"/__/firebase/7.0.0/firebase-app.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"/__/firebase/init.js\"&gt;&lt;/script&gt;\n\n  &lt;script src=\"/__/firebase/7.0.0/firebase-firestore.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"/__/firebase/7.0.0/firebase-storage.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 12026806, "user_type": "registered", "profile_image": "https://graph.facebook.com/2433522900059339/picture?type=large", "display_name": "Sahara Panda", "link": "https://stackoverflow.com/users/12026806/sahara-panda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570081437, "creation_date": 1570043306, "last_edit_date": 1570081437, "question_id": 58207911, "link": "https://stackoverflow.com/questions/58207911/index-content-does-not-show-when-i-try-to-go-online", "title": "Index content does not show when I try to go online", "body": "<p>I was successful deploying the website (I know because the logo icon shows on the tab and I followed the steps carefully) but the content of my website won't show. It's my firs time doing this and I'm pretty sure it's a small thing but I've been stuck for days. It's probably in my index.html. I'm using angular and firebase. please help! </p>\n\n<p>I've looked at tutorials and of course the firebase documentation. Seems like it's an sdk issue or maybe the script tags at the end of my index.html. </p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;title&gt;F2I&lt;/title&gt;\n  &lt;base href=\"https://[\" f2ifrance.firebaseapp.com/\"&gt; &lt;meta name=\"viewport\"\ncontent=\"width=device-width, initial-scale=1\"&gt;\n  &lt;!-- &lt;base href=\"/\"&gt; --&gt;\n  &lt;link rel=\"stylesheet\" href=\"https://unpkg.com/bs-stepper/dist/css/bs-stepper.min.css\"&gt;\n  &lt;link rel=\"icon\" type=\"image/x-icon\" href=\"favicon.ico\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\nintegrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.8.2/css/all.css\"\nintegrity=\"sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay\" crossorigin=\"anonymous\"&gt;\n\n  &lt;link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\nintegrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossorigin=\"anonymous\"&gt;\n</code></pre>\n\n<p>\n</p>\n\n<pre><code>&lt;body&gt;\n\n  &lt;app-root&gt;&lt;/app-root&gt;\n\n  &lt;script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\"\nintegrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossorigin=\"anonymous\"&gt;\n</code></pre>\n\n<p>\n      \n  \n      \n  \n      </p>\n\n<pre><code>  &lt;!-- firebase hosting SDK --&gt;\n  &lt;script src=\"/__/firebase/init.js\"&gt;&lt;/script&gt;\n  &lt;!-- Insert these scripts at the bottom of the HTML, but before you use any Firebase services --&gt;\n  &lt;!-- Firebase App (the core Firebase SDK) is always required and must be listed first --&gt;\n  &lt;script src=\"/__/firebase/7.0.0/firebase-app.js\"&gt;&lt;/script&gt;\n\n  &lt;!-- Add Firebase products that you want to use --&gt;\n  &lt;script src=\"/__/firebase/7.0.0/firebase-firestore.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"/__/firebase/7.0.0/firebase-storage.js\"&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>I'm almost there... I just need to see the content. Here's the error I have on my console and of course I googled it but couldn't find an answer. Thanks a lot to anyone who could help.</p>\n\n<blockquote>\n  <p>Uncaught Error: hosting/init-error: Firebase SDK not detected. You must include it before /__/firebase/init.js</p>\n</blockquote>\n"}, {"tags": ["javascript", "arrays", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 37, "user_id": 6131171, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qkSX4IjnHCA/AAAAAAAAAAI/AAAAAAAAD3E/MKIO71FBUdk/photo.jpg?sz=128", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/6131171/gaurav"}, "edited": false, "score": 0, "creation_date": 1570043406, "post_id": 58207896, "comment_id": 102793749, "body": "var newObj:any = {};         if (allJobs &amp;&amp; allJobs.length &gt; 0 ) {         // this.rowData = this.allJobs;         // this.allJobs = this.allJobs[&#39;application_id&#39;];         //let ele:object = allJobs.application_context;             allJobs.forEach(ele =&gt; {             newObj =      {&quot;application_id&quot;:ele.application_context.application_id,                                  &quot;context_id&quot;:ele.application_context.application_context}            return newObj;   }); }"}, {"owner": {"reputation": 22241, "user_id": 777147, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UCGDm.jpg?s=128&g=1", "display_name": "Raja Jaganathan", "link": "https://stackoverflow.com/users/777147/raja-jaganathan"}, "edited": false, "score": 0, "creation_date": 1570043994, "post_id": 58207896, "comment_id": 102793969, "body": "What is your expected output, can you please update in question? Do we need to remove application_context property from the object and those inner properties want to be in root object?"}, {"owner": {"reputation": 37, "user_id": 6131171, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qkSX4IjnHCA/AAAAAAAAAAI/AAAAAAAAD3E/MKIO71FBUdk/photo.jpg?sz=128", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/6131171/gaurav"}, "reply_to_user": {"reputation": 22241, "user_id": 777147, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/UCGDm.jpg?s=128&g=1", "display_name": "Raja Jaganathan", "link": "https://stackoverflow.com/users/777147/raja-jaganathan"}, "edited": false, "score": 0, "creation_date": 1570045543, "post_id": 58207896, "comment_id": 102794667, "body": "Yes, want to keep others as same"}], "answers": [{"comments": [{"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "reply_to_user": {"reputation": 37, "user_id": 6131171, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qkSX4IjnHCA/AAAAAAAAAAI/AAAAAAAAD3E/MKIO71FBUdk/photo.jpg?sz=128", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/6131171/gaurav"}, "edited": false, "score": 0, "creation_date": 1570045795, "post_id": 58208088, "comment_id": 102794806, "body": "@Gaurav always happy to help :), <a href=\"https://stackoverflow.com/help/someone-answers\"><code>what should i do when someone answers my question</code></a>"}], "tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": true, "score": 2, "last_activity_date": 1570044380, "last_edit_date": 1570044380, "creation_date": 1570044075, "answer_id": 58208088, "question_id": 58207896, "link": "https://stackoverflow.com/questions/58207896/trim-js-object-to-remove-extra-params-with-curly-braces/58208088#58208088", "title": "trim JS object to remove extra params with curly braces", "body": "<p>You can use <code>map</code> and <code>destructuring</code></p>\n\n<ul>\n<li>Get the <code>collection_job_status_list</code> from result</li>\n<li>Loop over the values take out the required values from <code>application_context</code> key and merge with remaining values</li>\n<li>Build the same structure as original result</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let result = {\"collection_job_status_list\": [{\"application_context\": {\"application_id\": \"a4\",\"context_id\": \"c4\"},\"creation_time\": \"15699018476102\",\"progress\": 100,\"status\": \"READY\",\"phase\": \"ACTIVE\",\"job_error\": {}},{\"application_context\": {\"application_id\": \"a6\",\"context_id\": \"c6\"},\"creation_time\": \"15698648632523\",\"progress\": 100,\"status\": \"READY\",\"phase\": \"ACTIVE\",\"job_error\": {}}],\"result\": {\"request_result\": \"ACCEPTED\",\"error\": {}}}\r\n\r\nlet { collection_job_status_list, ...rest } = result\r\n\r\nlet modified = collection_job_status_list.map(({\r\n  application_context: {\r\n    application_id,\r\n    context_id\r\n  },\r\n  ...rest\r\n}) =&gt; ({ ...rest, context_id, application_id}))\r\n\r\nlet final = {\r\n  collection_job_status_list: modified,\r\n  ...rest\r\n}\r\n\r\nconsole.log(final)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 6131171, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qkSX4IjnHCA/AAAAAAAAAAI/AAAAAAAAD3E/MKIO71FBUdk/photo.jpg?sz=128", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/6131171/gaurav"}, "edited": false, "score": 0, "creation_date": 1570045345, "post_id": 58208093, "comment_id": 102794578, "body": "Looks good, thanks! How do I keep the other items as it is (like other items at the same level) along with  ...application_context"}], "tags": [], "owner": {"reputation": 2977, "user_id": 4272651, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/100000901707272/picture?type=large", "display_name": "Prasanna", "link": "https://stackoverflow.com/users/4272651/prasanna"}, "is_accepted": false, "score": 0, "last_activity_date": 1570054259, "last_edit_date": 1570054259, "creation_date": 1570044096, "answer_id": 58208093, "question_id": 58207896, "link": "https://stackoverflow.com/questions/58207896/trim-js-object-to-remove-extra-params-with-curly-braces/58208093#58208093", "title": "trim JS object to remove extra params with curly braces", "body": "<p>You need to use the <code>map</code> function</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const result = {};\r\nresult.joblist = {\r\n  \"collection_job_status_list\": [\r\n    {\r\n      \"application_context\": {\r\n        \"application_id\": \"a4\",\r\n        \"context_id\": \"c4\"\r\n      },\r\n      \"creation_time\": \"15699018476102\",\r\n      \"progress\": 100,\r\n      \"status\": \"READY\",\r\n      \"phase\": \"ACTIVE\",\r\n      \"job_error\": {}\r\n    },\r\n    {\r\n      \"application_context\": {\r\n        \"application_id\": \"a6\",\r\n        \"context_id\": \"c6\"\r\n      },\r\n      \"creation_time\": \"15698648632523\",\r\n      \"progress\": 100,\r\n      \"status\": \"READY\",\r\n      \"phase\": \"ACTIVE\",\r\n      \"job_error\": {}\r\n    }\r\n  ],\r\n  \"result\": {\r\n    \"request_result\": \"ACCEPTED\",\r\n    \"error\": {}\r\n  }\r\n}\r\n\r\n\r\nresult.joblist.collection_job_status_list = result.joblist.collection_job_status_list.map(item =&gt; {\r\n  return {\r\n     \"application_id\": item.application_context.application_id,\r\n     \"context_id\": item.application_context.context_id\r\n  }\r\n})\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or you can use <code>map</code> function along with shorthand es6 syntaxes</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const result = {};\r\nresult.joblist = {\r\n  \"collection_job_status_list\": [\r\n    {\r\n      \"application_context\": {\r\n        \"application_id\": \"a4\",\r\n        \"context_id\": \"c4\"\r\n      },\r\n      \"creation_time\": \"15699018476102\",\r\n      \"progress\": 100,\r\n      \"status\": \"READY\",\r\n      \"phase\": \"ACTIVE\",\r\n      \"job_error\": {}\r\n    },\r\n    {\r\n      \"application_context\": {\r\n        \"application_id\": \"a6\",\r\n        \"context_id\": \"c6\"\r\n      },\r\n      \"creation_time\": \"15698648632523\",\r\n      \"progress\": 100,\r\n      \"status\": \"READY\",\r\n      \"phase\": \"ACTIVE\",\r\n      \"job_error\": {}\r\n    }\r\n  ],\r\n  \"result\": {\r\n    \"request_result\": \"ACCEPTED\",\r\n    \"error\": {}\r\n  }\r\n}\r\n\r\n\r\nresult.joblist.collection_job_status_list = result.joblist.collection_job_status_list.map(({application_context}) =&gt; {\r\n  return {\r\n     ...application_context\r\n  }\r\n})\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>EDIT:</p>\n\n<p>The things you want to keep in your array depends on what you are returning from the <code>map</code>. You return the keys you want to keep. So if you want other items.</p>\n\n<p>If you have an array A</p>\n\n<pre><code>A = [\n  {\n    nest: {\n      x: 1,\n      y: 1,\n    },\n    key1: 5,\n    key2: 7,\n  },\n  {\n    nest: {\n      x: 1,\n      y: 1,\n    },\n    key1: 5,\n    key2: 7,\n  },\n  {\n    nest: {\n      x: 1,\n      y: 1,\n    },\n    key1: 5,\n    key2: 7,\n  }\n]\n</code></pre>\n\n<p>Let us assume you want <code>x</code> from <code>nest</code>, <code>key1</code> and <code>key2</code> in your final output. You will then do </p>\n\n<pre><code>const finalOutput = A.map(item =&gt; {\n  return {\n     x: item.nest.x, // x from nest\n     key1: item.key1, // key1\n     key2: item.key2,  // key2\n  }\n})\n</code></pre>\n\n<p>But there are shorthand forms for doing this. Let's assume that the <code>item</code> we get in our <code>map function</code> is already divided into a <code>nest</code> and a <code>rest</code> variable. The <code>nest</code> contains <code>item.nest</code> and the <code>rest</code> is <code>{key1: 5,key2:7}</code>, then you can simply return <code>x</code> from <code>nest</code> and everything else from <code>rest</code></p>\n\n<pre><code>const finalOutput = A.map(({nest, ...rest}) =&gt; {\n  return {\n     x: nest.x, // x from nest\n     ...rest, // everything else\n  }\n})\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 37, "user_id": 6131171, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qkSX4IjnHCA/AAAAAAAAAAI/AAAAAAAAD3E/MKIO71FBUdk/photo.jpg?sz=128", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/6131171/gaurav"}, "edited": false, "score": 0, "creation_date": 1570045170, "post_id": 58208112, "comment_id": 102794488, "body": "Hey thanks, would be good to a avoid using new variables or have the result stored in new object."}], "tags": [], "owner": {"reputation": 1089, "user_id": 6080889, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-j9S1fFOR5tc/AAAAAAAAAAI/AAAAAAAARjI/ZshXXge1K5o/photo.jpg?sz=128", "display_name": "Royson", "link": "https://stackoverflow.com/users/6080889/royson"}, "is_accepted": false, "score": 0, "last_activity_date": 1570044194, "creation_date": 1570044194, "answer_id": 58208112, "question_id": 58207896, "link": "https://stackoverflow.com/questions/58207896/trim-js-object-to-remove-extra-params-with-curly-braces/58208112#58208112", "title": "trim JS object to remove extra params with curly braces", "body": "<p>What you need here is a map. Reference: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map</a></p>\n\n<p>Try modifying the code as below and you should have your expected output.</p>\n\n<pre><code>var newObj: any = {};\nvar newArray;\nif (allJobs &amp;&amp; allJobs.length &gt; 0) {\n  newArray = allJobs.map(ele =&gt; {\n    newObj = {\n      application_id: ele.application_context.application_id,\n      context_id: ele.application_context.application_context\n    };\n    return newObj;\n  });\n}\n</code></pre>\n\n<p>Hope this helps :)</p>\n"}], "owner": {"reputation": 37, "user_id": 6131171, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qkSX4IjnHCA/AAAAAAAAAAI/AAAAAAAAD3E/MKIO71FBUdk/photo.jpg?sz=128", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/6131171/gaurav"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 58208088, "answer_count": 3, "score": 1, "last_activity_date": 1570054259, "creation_date": 1570043248, "last_edit_date": 1570043696, "question_id": 58207896, "link": "https://stackoverflow.com/questions/58207896/trim-js-object-to-remove-extra-params-with-curly-braces", "title": "trim JS object to remove extra params with curly braces", "body": "<p>I have an object response here</p>\n\n<pre><code>result.joblist = {\n  \"collection_job_status_list\": [\n    {\n      \"application_context\": {\n        \"application_id\": \"a4\",\n        \"context_id\": \"c4\"\n      },\n      \"creation_time\": \"15699018476102\",\n      \"progress\": 100,\n      \"status\": \"READY\",\n      \"phase\": \"ACTIVE\",\n      \"job_error\": {}\n    },\n    {\n      \"application_context\": {\n        \"application_id\": \"a6\",\n        \"context_id\": \"c6\"\n      },\n      \"creation_time\": \"15698648632523\",\n      \"progress\": 100,\n      \"status\": \"READY\",\n      \"phase\": \"ACTIVE\",\n      \"job_error\": {}\n    }\n  ],\n  \"result\": {\n    \"request_result\": \"ACCEPTED\",\n    \"error\": {}\n  }\n}\n</code></pre>\n\n<p>Need to get rid of <code>{\"application_context\": &amp; ending }</code> here, just need <code>application_id\":\"a4\",\"context_id\":\"c4\"</code> at the same level. </p>\n\n<p>I have tried something like this, but not able to move ahead.</p>\n\n<pre><code>var newObj: any = {};\nif (allJobs &amp;&amp; allJobs.length &gt; 0) {\n  // this.rowData = this.allJobs;\n  // this.allJobs = this.allJobs['application_id'];\n  //let ele:object = allJobs.application_context;\n  allJobs.forEach(ele =&gt; {\n    newObj = {\n      application_id: ele.application_context.application_id,\n      context_id: ele.application_context.application_context\n    };\n    return newObj;\n  });\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "shopify", "script-tag"], "answers": [{"tags": [], "owner": {"reputation": 3276, "user_id": 2803788, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd81262dfb2f2ffaf4929805aa438339?s=128&d=identicon&r=PG", "display_name": "Bilal Akbar", "link": "https://stackoverflow.com/users/2803788/bilal-akbar"}, "is_accepted": true, "score": 3, "last_activity_date": 1570051106, "creation_date": 1570051106, "answer_id": 58209506, "question_id": 58207826, "link": "https://stackoverflow.com/questions/58207826/how-do-i-accurately-insert-my-html-into-a-shopify-shop-via-script-tags/58209506#58209506", "title": "How do I accurately insert my HTML into a Shopify shop via Script Tags?", "body": "<p>As suggested in the links shared by you, it is not possible to correctly identify the DOM element in all the cases. However, there are couple of different approaches that can be used.</p>\n\n<p>1) One is to ask merchant to add some specific element to markup that you can later use for rendering your content via JavaScript.</p>\n\n<p>2) Try to guess the DOM element via some specific tag or href value, but allow merchants to override the DOM element selector via some JavaScript variable.</p>\n\n<p>3) Use approach 2 with a combination of pre-determined info. Saw this approach used by AfterPay. They have a pre-defined array of popular themes along with their selectors. Then they use the <strong>theme name</strong> property from <strong>Shopify.theme.name</strong>\nand get the relevant selectors. This solution may not work in all cases, so do allow the merchant to override DOM selector via some JavaScript variable.</p>\n\n<pre><code>Afterpay.supportedThemes = {\n    alchemy: {\n        product: {\n            \"2017-12-14\": {\n                selector: \".quadd-wrapper\"\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://static.afterpay.com/shopify-afterpay-javascript.js\" rel=\"nofollow noreferrer\">AfterPay JS Source Code</a></p>\n\n<p>If you know of any other plugins, you can inspect the JavaScript and have a look how they identify the selectors.</p>\n"}], "owner": {"reputation": 1925, "user_id": 5131575, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh5.googleusercontent.com/-lCuzOQ0Q5AA/AAAAAAAAAAI/AAAAAAAAACU/aXATmoKbkrQ/photo.jpg?sz=128", "display_name": "Kyle Truong", "link": "https://stackoverflow.com/users/5131575/kyle-truong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 368, "favorite_count": 0, "accepted_answer_id": 58209506, "answer_count": 1, "score": 1, "last_activity_date": 1570051106, "creation_date": 1570042945, "question_id": 58207826, "link": "https://stackoverflow.com/questions/58207826/how-do-i-accurately-insert-my-html-into-a-shopify-shop-via-script-tags", "title": "How do I accurately insert my HTML into a Shopify shop via Script Tags?", "body": "<p>I want to insert my block of HTML into a Shopify shop after a certain section but the problem is that each shop can use one of thousands of different themes, each one having a different DOM structure. </p>\n\n<p>I can create the Script Tag and I can try to insert my HTML like this:</p>\n\n<pre><code>(function() {\n  var child = document.createElement(\"div\");\n  var text  = document.createTextNode(\"This is a test message\");\n  child.appendChild(text);\n\n  var parent = document.getElementByClassName(\"ProductSection\");\n  parent.appendChild(child);\n})();\n</code></pre>\n\n<p>And this will work if the theme has a section with a class name of ProductSection but it won't for the majority of them that don't. Let's say I have an image gallery I'd like to show but only on Product pages and after the product description, what's the best way to select the product description DOM node so that I can insert my image gallery after it?</p>\n\n<p>I found a couple threads with similar problems:</p>\n\n<p><a href=\"https://community.shopify.com/c/Shopify-APIs-SDKs/Using-Script-tag-to-add-dynamic-content-to-product-template/m-p/457855\" rel=\"nofollow noreferrer\">https://community.shopify.com/c/Shopify-APIs-SDKs/Using-Script-tag-to-add-dynamic-content-to-product-template/m-p/457855</a>\n<a href=\"https://community.shopify.com/c/Shopify-APIs-SDKs/Need-to-add-a-button-to-the-Product-page-via-a-Script-Tag/m-p/413919\" rel=\"nofollow noreferrer\">https://community.shopify.com/c/Shopify-APIs-SDKs/Need-to-add-a-button-to-the-Product-page-via-a-Script-Tag/m-p/413919</a></p>\n\n<p>and they seem to come to a similar conclusion, yet there are apps on the Shopify app market that do exactly this, and I wonder how do they do it?</p>\n"}, {"tags": ["javascript", "google-chrome", "window"], "comments": [{"owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "edited": false, "score": 0, "creation_date": 1570042967, "post_id": 58207797, "comment_id": 102793572, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2076299/how-to-close-current-tab-in-a-browser-window\">How to close current tab in a browser window?</a>"}, {"owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "edited": false, "score": 0, "creation_date": 1570043004, "post_id": 58207797, "comment_id": 102793583, "body": "<a href=\"https://stackoverflow.com/questions/2076299/how-to-close-current-tab-in-a-browser-window#comment2006744_2076307\" title=\"how to close current tab in a browser window%23comment2006744_2076307\">stackoverflow.com/questions/2076299/&hellip;</a>"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1570043486, "post_id": 58207797, "comment_id": 102793784, "body": "If you did not create it with JavaScript, you do not have the right to close it."}, {"owner": {"reputation": 1418, "user_id": 7934629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f317864efe49007e9393dc29c68b7a8?s=128&d=identicon&r=PG&f=1", "display_name": "Hitech Hitesh", "link": "https://stackoverflow.com/users/7934629/hitech-hitesh"}, "edited": false, "score": 0, "creation_date": 1570044857, "post_id": 58207797, "comment_id": 102794351, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/close#Closing_the_current_window\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Window/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1418, "user_id": 7934629, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f317864efe49007e9393dc29c68b7a8?s=128&d=identicon&r=PG&f=1", "display_name": "Hitech Hitesh", "link": "https://stackoverflow.com/users/7934629/hitech-hitesh"}, "is_accepted": false, "score": 0, "last_activity_date": 1570045059, "creation_date": 1570045059, "answer_id": 58208292, "question_id": 58207797, "link": "https://stackoverflow.com/questions/58207797/close-tab-chrome-safari-browser-javascript/58208292#58208292", "title": "Close Tab Chrome/Safari Browser - Javascript", "body": "<p>The window.close doesn't work because it doesn't know what to close try this </p>\n\n<pre><code>//Global var to store a reference to the opened window\nvar openedWindow;\n\nfunction openWindow() {\n  openedWindow = window.open('moreinfo.htm');\n}\n\nfunction closeOpenedWindow() {\n  openedWindow.close();\n}\n\n</code></pre>\n"}], "owner": {"reputation": 4984, "user_id": 3258812, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/K7rJi.jpg?s=128&g=1", "display_name": "Ayyappan Subramanian", "link": "https://stackoverflow.com/users/3258812/ayyappan-subramanian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 928, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570045059, "creation_date": 1570042848, "question_id": 58207797, "link": "https://stackoverflow.com/questions/58207797/close-tab-chrome-safari-browser-javascript", "title": "Close Tab Chrome/Safari Browser - Javascript", "body": "<p>I am trying to close Chrome/Safari browser tab using javascript. I tried all the below code. But nothing is working.</p>\n\n<pre><code>open('about:blank', '_self').close(); - This opens up a new tab, and the user is able to browse back. Which is not required.\nopen(location, '_self').close(); - Scripts may close only the windows that were opened by it.\nwindow.open('','_parent','');\nwindow.close(); - Not working\n</code></pre>\n\n<p>Is it a browser restriction?</p>\n"}, {"tags": ["javascript", "html", "offline"], "comments": [{"owner": {"reputation": 60130, "user_id": 13860, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6bdc06836b7bcec9fce2c5c6e5242192?s=128&d=identicon&r=PG", "display_name": "Flimzy", "link": "https://stackoverflow.com/users/13860/flimzy"}, "edited": false, "score": 0, "creation_date": 1570042694, "post_id": 58207743, "comment_id": 102793440, "body": "Where do you intend to load the file <i>from</i> if there&#39;s no server?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1570042700, "post_id": 58207743, "comment_id": 102793444, "body": "So, you don&#39;t want to do any of the things that will work; you only want to do the things that won&#39;t work. And you want our help making the things that won&#39;t work work. Do I have that right?"}, {"owner": {"reputation": 89, "user_id": 7667523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-1yIlekW8oqY/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOSuFZ7mi4N6N8AO119Pq0xOOkSaQ/mo/photo.jpg?sz=128", "display_name": "Caspar Nuel", "link": "https://stackoverflow.com/users/7667523/caspar-nuel"}, "reply_to_user": {"reputation": 60130, "user_id": 13860, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6bdc06836b7bcec9fce2c5c6e5242192?s=128&d=identicon&r=PG", "display_name": "Flimzy", "link": "https://stackoverflow.com/users/13860/flimzy"}, "edited": false, "score": 1, "creation_date": 1570042773, "post_id": 58207743, "comment_id": 102793479, "body": "@Flimzy the same way a css file is loaded in. Isn&#39;t that possible? A local css file doesn&#39;t need a server, so why would a local json file need one?"}, {"owner": {"reputation": 644, "user_id": 9064218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/152a8b8aa5011782df4f85d9e2c15307?s=128&d=identicon&r=PG", "display_name": "joe hoeller", "link": "https://stackoverflow.com/users/9064218/joe-hoeller"}, "edited": false, "score": 0, "creation_date": 1570042795, "post_id": 58207743, "comment_id": 102793489, "body": "Can you update with full code along with a the first 3 lines of json data, need to validate the json to debug (make sure it has the opening and closing [ ] array brackets if thats even present) ?"}, {"owner": {"reputation": 60130, "user_id": 13860, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/6bdc06836b7bcec9fce2c5c6e5242192?s=128&d=identicon&r=PG", "display_name": "Flimzy", "link": "https://stackoverflow.com/users/13860/flimzy"}, "edited": false, "score": 1, "creation_date": 1570042807, "post_id": 58207743, "comment_id": 102793496, "body": "CSS files are also loaded from a server. If you&#39;re loading it locally, then it&#39;s treating your local disk/system as a server. A &quot;server&quot; is any computer system that serves files. When loading locally, that means your local system."}, {"owner": {"reputation": 89, "user_id": 7667523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-1yIlekW8oqY/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOSuFZ7mi4N6N8AO119Pq0xOOkSaQ/mo/photo.jpg?sz=128", "display_name": "Caspar Nuel", "link": "https://stackoverflow.com/users/7667523/caspar-nuel"}, "edited": false, "score": 0, "creation_date": 1570043064, "post_id": 58207743, "comment_id": 102793607, "body": "Well, how would I do this with a json? I can load my css files fine without setting up a server and just the device treating my HDD as a server. I want the same, but wild a json, and no aditional setup. Just like including a css file"}, {"owner": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 0, "creation_date": 1570043176, "post_id": 58207743, "comment_id": 102793661, "body": "It&#39;s really not a duplicate of the other questions asking why XHR doesn&#39;t work.  This question is a bit different... asking about ways to make it work.  (Not strictly XHR.)"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 2, "creation_date": 1570043196, "post_id": 58207743, "comment_id": 102793668, "body": "Can&#39;t be done for security reasons. (Since data read into JavaScript could be sensitive, and it would be awful if an HTML document attached to an email was double-clicked and then ran some JS to raid the user&#39;s hard disk for secrets to send back to the person who sent the email)"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 1, "creation_date": 1570043266, "post_id": 58207743, "comment_id": 102793703, "body": "XHR/Fetch are the <i>only</i> ways to load JSON into a document in the first place. Any answer specific to them is thus general to all means to load JSON into a document. (And XHR and Fetch apply the same security restrictions). So it <b>is</b> still a duplicate."}, {"owner": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1570043812, "post_id": 58207743, "comment_id": 102793900, "body": "@Quentin On Stack Overflow, it doesn&#39;t matter of the answers are the same, it matters that the questions are the same."}], "answers": [{"tags": [], "owner": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "is_accepted": true, "score": 1, "last_activity_date": 1570043124, "creation_date": 1570043124, "answer_id": 58207870, "question_id": 58207743, "link": "https://stackoverflow.com/questions/58207743/load-a-json-file-without-server/58207870#58207870", "title": "Load a JSON file without server", "body": "<p>Unfortunately, both XHR and the Fetch API are inextricably tied to HTTP, and cannot be used to load a resource from a relative path unless an HTTP server is involved.  If you're loading your page via a <code>file:</code> URL, you won't be able to use XHR or Fetch to get that data.</p>\n\n<p>There are only two methods available to you:</p>\n\n<ul>\n<li><p>Switch to JavaScript instead of regular JSON and use a <code>&lt;script&gt;</code> tag (as previously suggested to you in another answer)</p></li>\n<li><p>Allow the user to drag/drop the JSON file (or use <code>&lt;input type=\"file\"&gt;</code>) to get a File reference that you can then load.</p></li>\n</ul>\n"}, {"tags": [], "owner": {"reputation": 2114, "user_id": 8477066, "user_type": "registered", "profile_image": "https://graph.facebook.com/1957256684531529/picture?type=large", "display_name": "Hielke Walinga", "link": "https://stackoverflow.com/users/8477066/hielke-walinga"}, "is_accepted": false, "score": 1, "last_activity_date": 1570044186, "creation_date": 1570044186, "answer_id": 58208107, "question_id": 58207743, "link": "https://stackoverflow.com/questions/58207743/load-a-json-file-without-server/58208107#58208107", "title": "Load a JSON file without server", "body": "<p>I think you are looking for FileReader: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FileReader\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/FileReader</a></p>\n\n<p>If you have it working, take a look at JSON.parse(): <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse</a></p>\n"}], "owner": {"reputation": 89, "user_id": 7667523, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-1yIlekW8oqY/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOSuFZ7mi4N6N8AO119Pq0xOOkSaQ/mo/photo.jpg?sz=128", "display_name": "Caspar Nuel", "link": "https://stackoverflow.com/users/7667523/caspar-nuel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2247, "favorite_count": 0, "accepted_answer_id": 58207870, "answer_count": 2, "score": 0, "last_activity_date": 1602950990, "creation_date": 1570042562, "last_edit_date": 1570043322, "question_id": 58207743, "link": "https://stackoverflow.com/questions/58207743/load-a-json-file-without-server", "title": "Load a JSON file without server", "body": "<p>I have a big json file (+-10mb). I want to load in this json file (myjson.json) in a Javascript function located in a HTML webpage. I found a lot of answers on google that say things like \"rename to myjson.js\" and add <code>var data = \" yourjson\"</code> and in your html file include myjson.js and acces the variable data. This is not what I want. I want to load in the JSON file without renaming/altering it and without a webserver (No AJAX).</p>\n\n<p>Can anyone help me?</p>\n\n<pre><code>  $.getJSON('myjson.json', function(myjson) {...}\n</code></pre>\n\n<p>Will not work.</p>\n\n<p>Including css and js functions is so easy why is it so impossible to access a locally stored json file without a webserver?</p>\n\n<p>Edit: json file first lines</p>\n\n<pre><code>[{\"participants\": [\"a\", \"b\"], \"conversation\": [{\"sender\": \"b\", \"created_at\": \"2019-09-23T22:04:42.083698+00:00\", \"text\": \"xxx\"},\n</code></pre>\n\n<p>Edit: adding my js for clarification</p>\n\n<p>Edit: <strong>Can't because I'm on mobile and code formatting doesn't work here</strong></p>\n"}, {"tags": ["javascript", "permutation"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1570043165, "post_id": 58207737, "comment_id": 102793653, "body": "A floodfill with backtracking sounds like a good idea. My quick guess would be that this is an algorithmically hard problem, where brute force enumeration is the only solution, but that it shouldn&#39;t matter for small game boards. Start the floodfill on the newly inserted tile"}, {"owner": {"reputation": 2958, "user_id": 781723, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/mYIzP.png?s=128&g=1", "display_name": "D.W.", "link": "https://stackoverflow.com/users/781723/d-w"}, "edited": false, "score": 0, "creation_date": 1570219542, "post_id": 58207737, "comment_id": 102857361, "body": "Cross-posted: <a href=\"https://stackoverflow.com/q/58207737/781723\">stackoverflow.com/q/58207737/781723</a>, <a href=\"https://cs.stackexchange.com/q/115405/755\">cs.stackexchange.com/q/115405/755</a>.  Please <a href=\"https://meta.stackexchange.com/q/64068\">do not post the same question on multiple sites</a>."}], "owner": {"reputation": 2159, "user_id": 1745616, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/8bb8c3f29cc9f8d7127113000d9b7876?s=128&d=identicon&r=PG", "display_name": "BdR", "link": "https://stackoverflow.com/users/1745616/bdr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1570089559, "creation_date": 1570042534, "last_edit_date": 1570089559, "question_id": 58207737, "link": "https://stackoverflow.com/questions/58207737/how-to-evaluate-all-possible-groups-of-adjacent-tiles-in-2d-array", "title": "How to evaluate all possible groups of adjacent tiles in 2D array?", "body": "<p>I'm working on a tile based game idea in Javascript. It's a math puzzle game where players move around tiles with numbers on them, and the goal is to connect groups of tiles that have a sum of certain goal number, for example 5 or 7 or 9.\n<a href=\"https://i.stack.imgur.com/ErH8c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ErH8c.png\" alt=\"enter image description here\"></a>\nHowever, I'm stuck on the algorithm to detect these sum groups. I know how to do a <a href=\"https://en.wikipedia.org/wiki/Flood_fill\" rel=\"nofollow noreferrer\">flood fill</a> algorithm using recursion to detect a group of adjacent tiles, like in the <a href=\"https://www.google.com/search?q=same+game&amp;oq=same&amp;tbm=isch\" rel=\"nofollow noreferrer\">same game</a>. But I don't know how to iterate through all the possible permutations of possible groups, and what is the best way to approach this?</p>\n\n<p>Because the problem is that adjacent tiles form a group, but within that group of tiles there are many possibilities for sub groups. See tiles example below</p>\n\n<pre><code>Tile letters     Contains numbers\n+---+---+---+    +---+---+---+\n| A | B | C |    | 1 | 5 | 2 |\n+---+---+---+    +---+---+---+\n| D | E | . |    | 2 | 1 | . |\n+---+---+---+    +---+---+---+\n| F | . | . |    | 4 | . | . |\n+---+---+---+    +---+---+---+\n</code></pre>\n\n<p>So the group is all the tiles A though F, and a subgroup could be A, B and E (1+5+1) but also A, D and F (1+2+4). But A, C and F is not a possible group because those tiles are not adjacent.</p>\n\n<p>How to systematically go through and evaluate all possible permutations? Is there an algorithm for something like this? Or can some one explain how to approach this problem?</p>\n"}, {"tags": ["javascript", "json", "vue.js", "ecmascript-6"], "comments": [{"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 2, "creation_date": 1570042436, "post_id": 58207679, "comment_id": 102793309, "body": "You don&#39;t have an array there, you have an object.  So none of the array methods are going to work."}, {"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 1, "creation_date": 1570042518, "post_id": 58207679, "comment_id": 102793356, "body": "<i>&quot;but smaller than the quantity value of the next array in the sequence&quot;</i> what do you mean by that?"}, {"owner": {"reputation": 1009, "user_id": 1327983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkfUK.png?s=128&g=1", "display_name": "alttag", "link": "https://stackoverflow.com/users/1327983/alttag"}, "edited": false, "score": 0, "creation_date": 1570042676, "post_id": 58207679, "comment_id": 102793431, "body": "If the actual list is small, the simplest method is probably just a naive loop. Iterate through each item and find the best match. If your actual data set is large enough for this to be a  performance issue (unlikely), perhaps convert to an array and do a binary search for the best value.."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 1009, "user_id": 1327983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkfUK.png?s=128&g=1", "display_name": "alttag", "link": "https://stackoverflow.com/users/1327983/alttag"}, "edited": false, "score": 0, "creation_date": 1570042856, "post_id": 58207679, "comment_id": 102793517, "body": "@alttag <i>&quot;Iterate through each item and find the best match.&quot;</i> &lt;-- I kind of think that&#39;s what the OP is asking how to do."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 1, "creation_date": 1570043328, "post_id": 58207679, "comment_id": 102793725, "body": "does the key mirrors the quantity?"}], "answers": [{"tags": [], "owner": {"reputation": 642, "user_id": 5174237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b46bb928de932dbf0c229436bea8047?s=128&d=identicon&r=PG&f=1", "display_name": "jwde", "link": "https://stackoverflow.com/users/5174237/jwde"}, "is_accepted": false, "score": 0, "last_activity_date": 1570043735, "last_edit_date": 1570043735, "creation_date": 1570043327, "answer_id": 58207917, "question_id": 58207679, "link": "https://stackoverflow.com/questions/58207679/using-javascript-to-isolate-an-object-with-an-property-larger-than-a-given-quant/58207917#58207917", "title": "Using Javascript to isolate an object with an property larger than a given quantity, but smaller than the next object in sequence", "body": "<p>Based on your description, I'm assuming what you're trying to do is find the record corresponding to the lowest quantity higher than the input quantity. The example doesn't actually match that description though. If you're looking for the opposite (next largest, smaller than the input) you could flip the two inequalities.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    some_prices =  {\r\n        \"1\": {\r\n            \"quantity\": 1,\r\n            \"price\": 10\r\n        },\r\n        \"2\": {\r\n            \"quantity\": 2,\r\n            \"price\": 20\r\n        },\r\n        \"6\": {\r\n            \"quantity\": 6,\r\n            \"price\": 50\r\n        },\r\n        \"12\": {\r\n            \"quantity\": 12,\r\n            \"price\": 80\r\n        }\r\n    }\r\n\r\n    getNextQuantityPrice = (prices, quantity) =&gt; {\r\n        const largerQuantities = Object.values(prices)\r\n            .filter(value =&gt; value.quantity &gt; quantity);\r\n        if (largerQuantities.length === 0) return null;\r\n        return largerQuantities\r\n            .reduce((min, next) =&gt; next.quantity &lt; min.quantity ? next : min)\r\n    }\r\n\r\n    console.log(JSON.stringify(getNextQuantityPrice(some_prices, 2)));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1570044476, "post_id": 58207975, "comment_id": 102794187, "body": "Even though this should work by the spec, it depends on the ugly fact that <code>&quot;12&quot; &lt; 8 &#47;&#47;=&gt; false</code> even though <code>&quot;12&quot; &lt; &quot;8&quot; &#47;&#47;=&gt; true</code>.  Depending on that sort of coercion would worry me.  I think it&#39;s better to work directly with the numeric values, especially since the requested output includes them."}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 0, "last_activity_date": 1570043578, "creation_date": 1570043578, "answer_id": 58207975, "question_id": 58207679, "link": "https://stackoverflow.com/questions/58207679/using-javascript-to-isolate-an-object-with-an-property-larger-than-a-given-quant/58207975#58207975", "title": "Using Javascript to isolate an object with an property larger than a given quantity, but smaller than the next object in sequence", "body": "<p>You could take the keys and reverse the array and find the smaller or equal count.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function find(object, quantity) {\r\n    return Object.keys(object).reverse().find(v =&gt; v &lt;= quantity);\r\n}\r\n\r\nvar object = { 1: { quantity: 1, price: 10 }, 2: { quantity: 2, price: 20 }, 6: { quantity: 6, price: 50 }, 12: { quantity: 12, price: 80 } };\r\n\r\nconsole.log(find(object, 8));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1009, "user_id": 1327983, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UkfUK.png?s=128&g=1", "display_name": "alttag", "link": "https://stackoverflow.com/users/1327983/alttag"}, "is_accepted": false, "score": 0, "last_activity_date": 1570044119, "creation_date": 1570044119, "answer_id": 58208095, "question_id": 58207679, "link": "https://stackoverflow.com/questions/58207679/using-javascript-to-isolate-an-object-with-an-property-larger-than-a-given-quant/58208095#58208095", "title": "Using Javascript to isolate an object with an property larger than a given quantity, but smaller than the next object in sequence", "body": "<p>If you just need to iterate through keys in a Javascript object, this <a href=\"https://stackoverflow.com/questions/8312459/iterate-through-object-properties\">has been answered many times</a>.</p>\n\n<pre><code>var prices = {\n        \"1\": {\n            \"quantity\": 1,\n            \"price\": 10\n        },\n        \"2\": {\n            \"quantity\": 2,\n            \"price\": 20\n        },\n        \"6\": {\n            \"quantity\": 6,\n            \"price\": 50\n        },\n        \"12\": {\n            \"quantity\": 12,\n            \"price\": 80\n        }\n    };\n\nfor (qty in prices) {\n  // Do stuff\n  console.log(qty);\n}\n</code></pre>\n\n<p>If you just need to tease out the quantities available (your object keys), use <code>Object.keys(prices)</code>, which returns an array you can loop over.</p>\n\n<p>Once the data are in an array, you can do another <code>for</code> loop, or start getting fancy with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\"><code>forEach()</code></a>, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\"><code>filter()</code></a>, and the like.</p>\n"}, {"tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": false, "score": 0, "last_activity_date": 1570045524, "creation_date": 1570045524, "answer_id": 58208387, "question_id": 58207679, "link": "https://stackoverflow.com/questions/58207679/using-javascript-to-isolate-an-object-with-an-property-larger-than-a-given-quant/58208387#58208387", "title": "Using Javascript to isolate an object with an property larger than a given quantity, but smaller than the next object in sequence", "body": "<p>Like the other answers, I find the best way to deal with the basic question is to reverse the list.  But rather than depending upon the original object being ordered the way you like, I think it's best to sort it up front, and then we can just do so in reverse order.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const nextQuantity = (quantities) =&gt; {\r\n  const reversed = Object .values (quantities) .sort (({quantity: q1}, {quantity: q2}) =&gt; q2 - q1)\r\n  return (requested) =&gt; reversed .find (({quantity}) =&gt; quantity &lt; requested)\r\n}\r\n\r\nconst quantities = {1: {quantity: 1, price: 10}, 2: {quantity: 2, price: 20}, 6: {quantity: 6, price: 50}, 12: {quantity: 12, price: 80}}\r\n\r\nconsole .log (\r\n  nextQuantity (quantities) (8)\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This also gives us a chance to store an intermediate function that doesn't need to <code>reverse</code> the list on every call.  <code>nextQuantity(quantities)</code> returns a function you can call repeatedly with each requested quantity.</p>\n\n<p>If you really want the output format from the question (that is, not just <code>{quantity: 6, price: 50}</code> but that result wrapped in a single-property object like <code>{'6': {quantity: 6, price: 50}}</code>) then you could rewrite it as</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const nextQuantity = (quantities) =&gt; {\n  const reversed = Object .values (quantities) .sort (({quantity: q1}, {quantity: q2}) =&gt; q2 - q1)\n  return (requested) =&gt; {\n    const q = reversed .find (({quantity}) =&gt; quantity &lt; requested)\n    return {[q.quantity]: q}\n  }\n}\n</code></pre>\n\n<p>But I personally would find that format much harder to work with.</p>\n"}], "owner": {"reputation": 1154, "user_id": 4357745, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/2302013343346153861d1d520ceb5ec6?s=128&d=identicon&r=PG", "display_name": "Cameron Scott", "link": "https://stackoverflow.com/users/4357745/cameron-scott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 4, "score": -2, "last_activity_date": 1570045524, "creation_date": 1570042325, "last_edit_date": 1570042542, "question_id": 58207679, "link": "https://stackoverflow.com/questions/58207679/using-javascript-to-isolate-an-object-with-an-property-larger-than-a-given-quant", "title": "Using Javascript to isolate an object with an property larger than a given quantity, but smaller than the next object in sequence", "body": "<p>In my JavaScript, I have an integer that represents an order quantity, and an object of all quantities offered:</p>\n\n<pre><code>    {\n        \"1\": {\n            \"quantity\": 1,\n            \"price\": 10\n        },\n        \"2\": {\n            \"quantity\": 2,\n            \"price\": 20\n        },\n        \"6\": {\n            \"quantity\": 6,\n            \"price\": 50\n        },\n        \"12\": {\n            \"quantity\": 12,\n            \"price\": 80\n        }\n    }\n</code></pre>\n\n<p>I need to find the object with a quantity value greater than my order quantity, but smaller than the quantity value of the next object in the sequence.</p>\n\n<p>For example, if my order quantity is 8, I need to isolate:</p>\n\n<pre><code>        \"6\": {\n            \"quantity\": 6,\n            \"price\": 50\n        },\n</code></pre>\n\n<p>So I can get the correct price. I've tried various LoDash methods, but nothing seems to be quite right. Is there a way that I can achieve this?</p>\n"}, {"tags": ["javascript", "jquery", "google-calendar-api", "oauth2-playground"], "answers": [{"comments": [{"owner": {"reputation": 831, "user_id": 5076162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153102259984582/picture?type=large", "display_name": "Alexander Dixon", "link": "https://stackoverflow.com/users/5076162/alexander-dixon"}, "edited": false, "score": 0, "creation_date": 1570655820, "post_id": 58267022, "comment_id": 102985893, "body": "The issue now is that an OAuth2 screen prompts the user to sign in with their Google account when that should not be necessary.  Furthermore, when I click &quot;Authorize and load&quot;, and then close the prompt, it seemingly loads perfectly fine.  Any ideas?  I&#39;ve implemented the code and plugged in my credentials on the staging site."}, {"owner": {"reputation": 3463, "user_id": 12152337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kYZUH.jpg?s=128&g=1", "display_name": "carlesgg97", "link": "https://stackoverflow.com/users/12152337/carlesgg97"}, "reply_to_user": {"reputation": 831, "user_id": 5076162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153102259984582/picture?type=large", "display_name": "Alexander Dixon", "link": "https://stackoverflow.com/users/5076162/alexander-dixon"}, "edited": false, "score": 1, "creation_date": 1570694118, "post_id": 58267022, "comment_id": 102995736, "body": "Alexander Dixon: In order to use the API from the client-side, you need to use the OAuth2 authentication flow (including &quot;prompting&quot; the user with it). What you can do instead is either to get the calendar information from the server-side using a &#39;service account&#39;, or fetch the data from the client-side without using Google&#39;s APIs (see this link: <a href=\"https://stackoverflow.com/questions/18064149/accessing-a-public-calendar-using-google-api-without-requiring-a-user-to-log-in\" title=\"accessing a public calendar using google api without requiring a user to log in\">stackoverflow.com/questions/18064149/&hellip;</a>). Cheers!"}], "tags": [], "owner": {"reputation": 3463, "user_id": 12152337, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kYZUH.jpg?s=128&g=1", "display_name": "carlesgg97", "link": "https://stackoverflow.com/users/12152337/carlesgg97"}, "is_accepted": true, "score": 1, "last_activity_date": 1570441353, "creation_date": 1570441353, "answer_id": 58267022, "question_id": 58207674, "link": "https://stackoverflow.com/questions/58207674/return-array-of-dates-and-times-from-calendar-api/58267022#58267022", "title": "Return array of dates and times from Calendar API", "body": "<p>I see that you are using the Google People API. For the call you requested (Getting an array of dates &amp; times currently on your google calendar) I suggest you use the Google Calendar API (instead of the People API). You can follow <a href=\"https://developers.google.com/calendar/quickstart/js\" rel=\"nofollow noreferrer\">this</a> comprehensive quickstart. For your specific needs, you can also head over to the <a href=\"https://developers.google.com/calendar/v3/reference/events/list?apix=true\" rel=\"nofollow noreferrer\">list events</a> API page, where you can use the API call builder to generate the necessary Javascript code to make it work.</p>\n\n<p>This is the code that it generated for the request you need to make:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;script src=\"https://apis.google.com/js/api.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  /**\n   * Sample JavaScript code for calendar.events.list\n   * See instructions for running APIs Explorer code samples locally:\n   * https://developers.google.com/explorer-help/guides/code_samples#javascript\n   */\n\n  function authenticate() {\n    return gapi.auth2.getAuthInstance()\n        .signIn({scope: \"https://www.googleapis.com/auth/calendar https://www.googleapis.com/auth/calendar.events https://www.googleapis.com/auth/calendar.events.readonly https://www.googleapis.com/auth/calendar.readonly\"})\n        .then(function() { console.log(\"Sign-in successful\"); },\n              function(err) { console.error(\"Error signing in\", err); });\n  }\n  function loadClient() {\n    gapi.client.setApiKey(\"YOUR_API_KEY\");\n    return gapi.client.load(\"https://content.googleapis.com/discovery/v1/apis/calendar/v3/rest\")\n        .then(function() { console.log(\"GAPI client loaded for API\"); },\n              function(err) { console.error(\"Error loading GAPI client for API\", err); });\n  }\n  // Make sure the client is loaded and sign-in is complete before calling this method.\n  function execute() {\n    return gapi.client.calendar.events.list({\n      \"calendarId\": \"YOUR_CALENDAR_ID\"\n    })\n        .then(function(response) {\n                // Handle the results here (response.result has the parsed body).\n                console.log(\"Response\", response);\n              },\n              function(err) { console.error(\"Execute error\", err); });\n  }\n  gapi.load(\"client:auth2\", function() {\n    gapi.auth2.init({client_id: \"YOUR_CLIENT_ID\"});\n  });\n&lt;/script&gt;\n&lt;button onclick=\"authenticate().then(loadClient)\"&gt;authorize and load&lt;/button&gt;\n&lt;button onclick=\"execute()\"&gt;execute&lt;/button&gt;\n</code></pre>\n\n<p>You only need to set your API key, client ID and calendar ID to make it work. If you have any other question, please do not hesitate to reach back.</p>\n\n<p>Regards.</p>\n"}], "owner": {"reputation": 831, "user_id": 5076162, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/10153102259984582/picture?type=large", "display_name": "Alexander Dixon", "link": "https://stackoverflow.com/users/5076162/alexander-dixon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 58267022, "answer_count": 1, "score": 0, "last_activity_date": 1570441353, "creation_date": 1570042299, "last_edit_date": 1570046554, "question_id": 58207674, "link": "https://stackoverflow.com/questions/58207674/return-array-of-dates-and-times-from-calendar-api", "title": "Return array of dates and times from Calendar API", "body": "<p>There is no clear, concise, and easy-to-follow example for setting up a JavaScript google calendar API call.</p>\n\n<p>I found an example that I tried to use plugged my OAuth key into and it does not work.\nTo see the specific errors please visit <a href=\"https://torontohomecleaning.ca/booking/\" rel=\"nofollow noreferrer\">Staging Website</a> and open the console.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n  // Enter an API key from the Google API Console:\n  //   https://console.developers.google.com/apis/credentials\n  var apiKey = 'mXMq9NAQ9EOzdgleTTy4wobx';\n  // Enter the API Discovery Docs that describes the APIs you want to\n  // access. In this example, we are accessing the People API, so we load\n  // Discovery Doc found here: https://developers.google.com/people/api/rest/\n  var discoveryDocs = [\"https://www.googleapis.com/calendar/v3/calendars/torontohomecleaning12@gmail.com/events\"];\n  // Enter a client ID for a web application from the Google API Console:\n  //   https://console.developers.google.com/apis/credentials?project=_\n  // In your API Console project, add a JavaScript origin that corresponds\n  //   to the domain where you will be running the script.\n  var clientId = '646125501608-jtauc86qulpebg2oh49k4qglfjui82gc.apps.googleusercontent.com';\n  // Enter one or more authorization scopes. Refer to the documentation for\n  // the API or https://developers.google.com/people/v1/how-tos/authorizing\n  // for details.\n  var scopes = 'events';\n  var authorizeButton = document.getElementById('authorize-button');\n  var signoutButton = document.getElementById('signout-button');\n  function handleClientLoad() {\n    // Load the API client and auth2 library\n    gapi.load('client:auth2', initClient);\n  }\n  function initClient() {\n    gapi.client.init({\n        apiKey: apiKey,\n        discoveryDocs: discoveryDocs,\n        clientId: clientId,\n        scope: scopes\n    }).then(function () {\n      // Listen for sign-in state changes.\n      gapi.auth2.getAuthInstance().isSignedIn.listen(updateSigninStatus);\n      // Handle the initial sign-in state.\n      updateSigninStatus(gapi.auth2.getAuthInstance().isSignedIn.get());\n      authorizeButton.onclick = handleAuthClick;\n      signoutButton.onclick = handleSignoutClick;\n    });\n  }\n  function updateSigninStatus(isSignedIn) {\n    if (isSignedIn) {\n      authorizeButton.style.display = 'none';\n      signoutButton.style.display = 'block';\n      makeApiCall();\n    } else {\n      authorizeButton.style.display = 'block';\n      signoutButton.style.display = 'none';\n    }\n  }\n  function handleAuthClick(event) {\n    gapi.auth2.getAuthInstance().signIn();\n  }\n  function handleSignoutClick(event) {\n    gapi.auth2.getAuthInstance().signOut();\n  }\n  // Load the API and make an API call.  Display the results on the screen.\n  function makeApiCall() {\n    gapi.client.people.people.get({\n      'resourceName': 'people/me',\n      'requestMask.includeField': 'person.names'\n    }).then(function(resp) {\n      var p = document.createElement('p');\n      var name = resp.result.names[0].givenName;\n      p.appendChild(document.createTextNode('Hello, '+name+'!'));\n      document.getElementById('content').appendChild(p);\n    });\n  }\n&lt;/script&gt;\n&lt;script async defer src=\"https://apis.google.com/js/api.js\" \n  onload=\"this.onload=function(){};handleClientLoad()\" \n  onreadystatechange=\"if (this.readyState === 'complete') this.onload()\"&gt;\n&lt;/script&gt;\n</code></pre>\n\n<p>The problem: I can't find a copy and paste example, where, all I have to do swap out is the OAuthkey and clientID so that I can return an array of dates and times currently on my Google Calendar that I am the owner of.</p>\n\n<p>The end goal: To be able to filter a jQuery date-picker blackout dates based on the array of dates returned.  Then, filter a drop-down menu of time slots based on what has already been booked for the day (if any times slots are available).</p>\n\n<p>I can't get past this first step of getting everything talking to each other.</p>\n"}, {"tags": ["javascript", "html", "css", "vue.js", "vuetify.js"], "answers": [{"tags": [], "owner": {"reputation": 3133, "user_id": 2914698, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9ZnaH.png?s=128&g=1", "display_name": "skribe", "link": "https://stackoverflow.com/users/2914698/skribe"}, "is_accepted": true, "score": 0, "last_activity_date": 1570047623, "creation_date": 1570047623, "answer_id": 58208853, "question_id": 58207672, "link": "https://stackoverflow.com/questions/58207672/vuetify-change-location-of-image-depending-on-the-screen-size/58208853#58208853", "title": "Vuetify change location of image depending on the screen size", "body": "<p>You can put the image element in both places that you want it to possibly show.  Then add the <code>v-if</code> directive to each and use those with the appropriate vuetify breakpoint object to control what viewports they will load on. </p>\n\n<pre><code>&lt;img v-if=\"$vuetify.breakpoint.mdAndDown\"  max-width=\"300\" src=\"https://loremflickr.com/640/360\"&gt; &lt;/img&gt;\n</code></pre>\n\n<p>Read more about the breakpoint object here: <a href=\"https://vuetifyjs.com/en/customization/breakpoints\" rel=\"nofollow noreferrer\">https://vuetifyjs.com/en/customization/breakpoints</a></p>\n"}], "owner": {"reputation": 3, "user_id": 12152170, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208812601422585/picture?type=large", "display_name": "Yash Dhume", "link": "https://stackoverflow.com/users/12152170/yash-dhume"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 58208853, "answer_count": 1, "score": 0, "last_activity_date": 1570047623, "creation_date": 1570042286, "last_edit_date": 1570047603, "question_id": 58207672, "link": "https://stackoverflow.com/questions/58207672/vuetify-change-location-of-image-depending-on-the-screen-size", "title": "Vuetify change location of image depending on the screen size", "body": "<p>I'm using Vuetify and I am trying to get the image to change the image location for a smaller screen.</p>\n\n<p>My current code: <a href=\"https://codepen.io/yash-dhume/pen/pozMQBg?&amp;editable=true&amp;editors=101\" rel=\"nofollow noreferrer\">https://codepen.io/yash-dhume/pen/pozMQBg?&amp;editable=true&amp;editors=101</a></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;section&gt;\n  &lt;v-container fluid justify-space-between&gt;\n    &lt;v-layout column&gt;\n      &lt;v-card transition=\"slide-x-transition\"&gt;\n        &lt;v-layout row justify-space-around align-center&gt;\n          &lt;v-flex xs7 align-center justify-center layout text-xs-straight&gt;\n            &lt;v-card-title primary-title class=\"justify-center\"&gt;\n              &lt;div&gt;\n                &lt;div class=\"display-2\"&gt;About Me&lt;/div&gt;\n                &lt;p class=\"text-justify al\"&gt;\n                  Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor\n                  incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis \n                  nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. \n                  Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore \n                  eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, \n                  sunt in culpa qui officia deserunt mollit anim id est laborum.\n                &lt;/p&gt;\n              &lt;/div&gt;\n            &lt;/v-card-title&gt;\n          &lt;/v-flex&gt;\n          &lt;div&gt;\n            &lt;img max-width=\"300\" src=\"https://loremflickr.com/640/360\"&gt; &lt;/img&gt;\n          &lt;/div&gt;\n          &lt;div class=\"fill-height bottom-gradient\"&gt;&lt;/div&gt;\n        &lt;/v-layout&gt;\n      &lt;/v-card&gt;\n    &lt;/v-layout&gt;\n  &lt;/v-container&gt;\n&lt;/section&gt;\n</code></pre>\n\n<p>I would like for the image to be below the about me title then the paragraph after when on medium or a small screen. </p>\n\n<p>How can I do this?</p>\n"}, {"tags": ["javascript", "build", "electron"], "answers": [{"comments": [{"owner": {"reputation": 75, "user_id": 3224813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3715ee7b0f462e73d0f5a8ca00da2826?s=128&d=identicon&r=PG&f=1", "display_name": "user3224813", "link": "https://stackoverflow.com/users/3224813/user3224813"}, "edited": false, "score": 0, "creation_date": 1575642902, "post_id": 58224126, "comment_id": 104646173, "body": "Hey Jacob can you give me more information, how to do that"}, {"owner": {"reputation": 437, "user_id": 9430814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c848c09711ac80e3caa61a6a375e91?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Morris", "link": "https://stackoverflow.com/users/9430814/jacob-morris"}, "reply_to_user": {"reputation": 75, "user_id": 3224813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3715ee7b0f462e73d0f5a8ca00da2826?s=128&d=identicon&r=PG&f=1", "display_name": "user3224813", "link": "https://stackoverflow.com/users/3224813/user3224813"}, "edited": false, "score": 0, "creation_date": 1575695594, "post_id": 58224126, "comment_id": 104661318, "body": "@user3224813 Go to (root)/resources/app.asar and use a system to extract the asar to get the source code (<a href=\"http://www.tc4shell.com/en/7zip/asar/\" rel=\"nofollow noreferrer\">tc4shell.com/en/7zip/asar</a>) and you will want to create a recompile process then BAM ya done, if u need any more help then MSG me at <a href=\"https://www.reddit.com/user/MasterGamer9910\" rel=\"nofollow noreferrer\">reddit.com/user/MasterGamer9910</a>"}], "tags": [], "owner": {"reputation": 437, "user_id": 9430814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e5c848c09711ac80e3caa61a6a375e91?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob Morris", "link": "https://stackoverflow.com/users/9430814/jacob-morris"}, "is_accepted": false, "score": 0, "last_activity_date": 1570123532, "creation_date": 1570123532, "answer_id": 58224126, "question_id": 58207664, "link": "https://stackoverflow.com/questions/58207664/can-i-rebuild-an-electron-from-a-resources-folder/58224126#58224126", "title": "can I rebuild an electron from a resources folder", "body": "<p>Short answer, possibly.\nLong answer, you would set it to the Current Working Directory and make sure the user has NodeJS installed then yes, you could recompile it from the resources folder.</p>\n"}], "owner": {"reputation": 75, "user_id": 3224813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3715ee7b0f462e73d0f5a8ca00da2826?s=128&d=identicon&r=PG&f=1", "display_name": "user3224813", "link": "https://stackoverflow.com/users/3224813/user3224813"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1570123532, "creation_date": 1570042265, "question_id": 58207664, "link": "https://stackoverflow.com/questions/58207664/can-i-rebuild-an-electron-from-a-resources-folder", "title": "can I rebuild an electron from a resources folder", "body": "<p>I have delete my electron .exe file and I figure out if it's possible to rebuild one from the resources files</p>\n\n<p>this is my main folder\n!<a href=\"https://imgur.com/45gIlXA\" rel=\"nofollow noreferrer\">https://imgur.com/45gIlXA</a></p>\n\n<p>and the resources folder\n!<a href=\"https://imgur.com/GsjGXhv\" rel=\"nofollow noreferrer\">https://imgur.com/GsjGXhv</a></p>\n\n<p>thanks in advance.</p>\n"}, {"tags": ["javascript", "php", "jquery", "datatables"], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 12000416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689f17705f312e06afb80811047a3d08?s=128&d=identicon&r=PG&f=1", "display_name": "dmprabath", "link": "https://stackoverflow.com/users/12000416/dmprabath"}, "edited": false, "score": 0, "creation_date": 1570083968, "post_id": 58208866, "comment_id": 102803360, "body": "Thanks for your help. I changed the code . now error is not display. but first time select option is working, if i changed category again  datatable&#39;s data not changed. it&#39;s already display old data"}, {"owner": {"reputation": 414, "user_id": 11627637, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7j6J0kQs8Wc/AAAAAAAAAAI/AAAAAAAAAEk/2s61r0ZQC0A/photo.jpg?sz=128", "display_name": "Pieter Steyn", "link": "https://stackoverflow.com/users/11627637/pieter-steyn"}, "reply_to_user": {"reputation": 7, "user_id": 12000416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689f17705f312e06afb80811047a3d08?s=128&d=identicon&r=PG&f=1", "display_name": "dmprabath", "link": "https://stackoverflow.com/users/12000416/dmprabath"}, "edited": false, "score": 0, "creation_date": 1570098334, "post_id": 58208866, "comment_id": 102810362, "body": "@dmprabath could you please include additional code so that I can reproduce your problem. Specifically the HTML select which specifies the category and the PHP file from which the data is fetched through ajax (<code>mod_stock.php</code>)"}, {"owner": {"reputation": 7, "user_id": 12000416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689f17705f312e06afb80811047a3d08?s=128&d=identicon&r=PG&f=1", "display_name": "dmprabath", "link": "https://stackoverflow.com/users/12000416/dmprabath"}, "edited": false, "score": 0, "creation_date": 1570100786, "post_id": 58208866, "comment_id": 102811612, "body": "I added mod_stock.php"}, {"owner": {"reputation": 414, "user_id": 11627637, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7j6J0kQs8Wc/AAAAAAAAAAI/AAAAAAAAAEk/2s61r0ZQC0A/photo.jpg?sz=128", "display_name": "Pieter Steyn", "link": "https://stackoverflow.com/users/11627637/pieter-steyn"}, "reply_to_user": {"reputation": 7, "user_id": 12000416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689f17705f312e06afb80811047a3d08?s=128&d=identicon&r=PG&f=1", "display_name": "dmprabath", "link": "https://stackoverflow.com/users/12000416/dmprabath"}, "edited": false, "score": 0, "creation_date": 1570104686, "post_id": 58208866, "comment_id": 102813538, "body": "@dmprabath I have edited the answer with possible alternative solution. I could not test it as I do not have access to your data. So please let me know whether it works or not"}], "tags": [], "owner": {"reputation": 414, "user_id": 11627637, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7j6J0kQs8Wc/AAAAAAAAAAI/AAAAAAAAAEk/2s61r0ZQC0A/photo.jpg?sz=128", "display_name": "Pieter Steyn", "link": "https://stackoverflow.com/users/11627637/pieter-steyn"}, "is_accepted": true, "score": 0, "last_activity_date": 1570104612, "last_edit_date": 1570104612, "creation_date": 1570047704, "answer_id": 58208866, "question_id": 58207648, "link": "https://stackoverflow.com/questions/58207648/how-to-change-data-in-datatable-using-select-option/58208866#58208866", "title": "How to change data in DataTable using select option", "body": "<p>The Datatables cannot be reinisialised. (i.e the options cannot be set twice for the same table). You can try and destroy the table and recreate it once a new category is selected. Perhaps try:</p>\n\n<pre><code>var dataTable;\nvar i = 0;\n$(\"#stock_cat\").change(function  () {\n  if(++i &gt; 1) dataTable.destroy();\n  var cat_id = $(this).val();   \n\n    dataTable = $('#tblviewstock').DataTable( {\n        \"processing\": true,\n        \"serverSide\": true,\n\n       \"ajax\": {\n          \"url\": \"lib/mod_stock.php?type=viewStock&amp;catid=\"+cat_id,\n           \"type\": \"POST\"\n        },\n        \"columns\": [\n           {\"data\": \"0\"},\n           {\"data\": \"1\"},\n           {\"data\": \"2\"},\n           {\"data\": \"3\"},\n           {\"data\": \"4\"},\n        ]\n    });\n\n});             \n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 12000416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/689f17705f312e06afb80811047a3d08?s=128&d=identicon&r=PG&f=1", "display_name": "dmprabath", "link": "https://stackoverflow.com/users/12000416/dmprabath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 1, "accepted_answer_id": 58208866, "answer_count": 1, "score": 0, "last_activity_date": 1570104612, "creation_date": 1570042203, "last_edit_date": 1570100691, "question_id": 58207648, "link": "https://stackoverflow.com/questions/58207648/how-to-change-data-in-datatable-using-select-option", "title": "How to change data in DataTable using select option", "body": "<p><a href=\"https://i.stack.imgur.com/BTT5M.png\" rel=\"nofollow noreferrer\">Front datatable </a></p>\n\n<p>this is front end of datatable <br/>\nI want to change datatable data from select option. first time it's working after change to other category  display error.</p>\n\n<blockquote>\n  <p>DataTables warning: table id=tblviewstock - Cannot reinitialise DataTable</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table id=\"tblviewstock\" class=\"table table-striped \"  &gt;\r\n        &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Batch ID&lt;/th&gt;\r\n            &lt;th&gt;Product ID&lt;/th&gt;\r\n            &lt;th&gt;selling price&lt;/th&gt;\r\n            &lt;th&gt;Quantity&lt;/th&gt;\r\n            &lt;th&gt;Receive Date&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody id=\"stockBody\" style=\"font-size: 13px\"&gt;\r\n\r\n        &lt;/tbody&gt;\r\n\r\n    &lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>javascript</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"#stock_cat\").change(function  () {\r\n            var cat_id = $(this).val();              \r\n\r\n            var dataTable = $(\"#tblviewstock\").DataTable({\r\n                \"processing\": true,\r\n                \"serverSide\": true,\r\n\r\n                \"ajax\": {\r\n                    \"url\": \"lib/mod_stock.php?type=viewStock&amp;catid=\"+cat_id,\r\n                    \"type\": \"POST\"\r\n                },\r\n                \"columns\": [\r\n                    {\"data\": \"0\"},\r\n                    {\"data\": \"1\"},\r\n                    {\"data\": \"2\"},\r\n                    {\"data\": \"3\"},\r\n                    {\"data\": \"4\"},\r\n                ]\r\n            });\r\n\r\n        });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>mod_view.php</strong> - <em>function view_stock()</em>\nthis file is mod-view.php</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>function viewStock(){\r\n     $catid =  $_GET['catid'];\r\n    $table ='tbl_products';\r\n\r\n    $primaryKey ='prod_id';\r\n    $where = \"cat_id='$catid'\";\r\n\r\n    $columns = array(\r\n\r\n        array( 'db' =&gt; 'prod_id', 'dt'=&gt; 0),\r\n        array( 'db' =&gt; 'prod_img', 'dt'=&gt; 1),\r\n        array( 'db' =&gt; 'prod_name', 'dt'=&gt; 2),\r\n        array( 'db' =&gt; 'prod_modal', 'dt'=&gt; 3),\r\n        array( 'db' =&gt; 'prod_color', 'dt'=&gt; 4),\r\n\r\n    );\r\n    require_once('config.php');\r\n    $host = Config::$host ;\r\n    $user = Config::$db_uname ;\r\n    $pass = Config::$db_upass ;\r\n    $db = Config::$db_name ;\r\n\r\n    $sql_details = array(\r\n        'user' =&gt; $user,\r\n        'pass' =&gt; $pass,\r\n        'db'   =&gt; $db,\r\n        'host' =&gt; $host\r\n    );\r\n\r\n    require('ssp.class.php');\r\n\r\n    echo json_encode(\r\n        SSP::complex($_POST, $sql_details, $table, $primaryKey, $columns,null,$where )\r\n    );\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}]