[{"tags": ["javascript", "css", "image", ".htaccess", "url-rewriting"], "answers": [{"tags": [], "owner": {"reputation": 33010, "user_id": 88932, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fQIxc.png?s=128&g=1", "display_name": "xandercoded", "link": "https://stackoverflow.com/users/88932/xandercoded"}, "is_accepted": false, "score": 0, "last_activity_date": 1473903559, "creation_date": 1473903559, "answer_id": 39501986, "question_id": 39501300, "link": "https://stackoverflow.com/questions/39501300/how-rewrite-all-js-css-img-to-static-subdomain/39501986#39501986", "title": "How rewrite all JS, CSS, IMG to static subdomain?", "body": "<p>Something akin to what's below should work.</p>\n\n<pre><code>RewriteEngine on\nRewriteRule ^sub\\.domain\\.com/(js/*\\.js)$ static-sub.domain.com/$1 [NC,R,L]\nRewriteRule ^sub\\.domain\\.com/(*\\.jpg)$ static-sub.domain.com/$1 [NC,R,L]\nRewriteRule ^sub\\.domain\\.com/(*\\.css)$ static-sub.domain.com/$1 [NC,R,L]\n</code></pre>\n\n<p>You'll likely need to tweak it to your specific scenario. Notice the usage of capturing groups (<code>(js/*\\.js)</code>) to store the variable path information to be used in the destination (<code>$1</code>). Also note the <code>NC</code>, <code>R</code> and <code>L</code> options; which stand for \"no casing\" (case insensetive), \"redirect\" (redirect the request) and \"last rule\" (stop processing further rules if this rule is a match).</p>\n"}], "owner": {"reputation": 11, "user_id": 5003697, "user_type": "registered", "profile_image": "https://graph.facebook.com/1616373261936816/picture?type=large", "display_name": "Cloud Strifes", "link": "https://stackoverflow.com/users/5003697/cloud-strifes"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473903559, "creation_date": 1473897261, "question_id": 39501300, "link": "https://stackoverflow.com/questions/39501300/how-rewrite-all-js-css-img-to-static-subdomain", "title": "How rewrite all JS, CSS, IMG to static subdomain?", "body": "<p>I have:</p>\n\n<pre><code>sub.domain.com/js/test.js\nsub.domain.com/image1.jpg\nsub.domain.com/test.css\n</code></pre>\n\n<p>How rewrite all the file types to:</p>\n\n<pre><code>static-sub.domain.com/....\n</code></pre>\n\n<p>?</p>\n\n<p>Thanks a lot.</p>\n"}, {"tags": ["javascript", "google-maps", "validation", "street-address"], "comments": [{"owner": {"reputation": 3196, "user_id": 4462191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6486706e99bddb0c2db4c712cc178604?s=128&d=identicon&r=PG", "display_name": "camiblanch", "link": "https://stackoverflow.com/users/4462191/camiblanch"}, "edited": false, "score": 1, "creation_date": 1475080174, "post_id": 39501297, "comment_id": 66802058, "body": "You might want to consider using an address verification service to check an addresses validity since Google Maps doesn&#39;t actually verify addresses <a href=\"https://smartystreets.com/articles/do-maps-verify-addresses\" rel=\"nofollow noreferrer\">smartystreets.com/articles/do-maps-verify-addresses</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2097, "user_id": 3678447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ai8tN.png?s=128&g=1", "display_name": "Diego ZoracKy", "link": "https://stackoverflow.com/users/3678447/diego-zoracky"}, "is_accepted": true, "score": 1, "last_activity_date": 1473900913, "creation_date": 1473900913, "answer_id": 39501718, "question_id": 39501297, "link": "https://stackoverflow.com/questions/39501297/google-maps-validate-address/39501718#39501718", "title": "Google Maps - Validate Address", "body": "<p>According to Google Maps documentation:</p>\n\n<blockquote>\n  <p>partial_match indicates that the geocoder did not return an exact\n  match for the original request, though it was able to match part of\n  the requested address. You may wish to examine the original request\n  for misspellings and/or an incomplete address.</p>\n</blockquote>\n\n<p>So yes, the return may be wrong, so probably it is not a good idea to take this response as a fully trusty one. Imagine that you've built a GPS app and you are sending people to the wrong address. It won't be good.</p>\n"}], "owner": {"reputation": 1139, "user_id": 6833121, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/sey60.jpg?s=128&g=1", "display_name": "AleGallagher", "link": "https://stackoverflow.com/users/6833121/alegallagher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "closed_date": 1473928341, "accepted_answer_id": 39501718, "answer_count": 1, "score": 0, "last_activity_date": 1473900913, "creation_date": 1473897192, "question_id": 39501297, "link": "https://stackoverflow.com/questions/39501297/google-maps-validate-address", "closed_reason": "Opinion-based", "title": "Google Maps - Validate Address", "body": "<p>I'm trying to validate an address using Google Maps, and I realized that when the address could be wrong, the response has a partial_match. Is correct to reject the address if the json's response from geocode method has a <strong>partial_match</strong> attribute?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "express", "mongoose"], "answers": [{"comments": [{"owner": {"reputation": 891, "user_id": 2627068, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/uLtlf.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2627068/dan"}, "edited": false, "score": 0, "creation_date": 1474052578, "post_id": 39501423, "comment_id": 66390878, "body": "Thank you for the answer, but that wouldn&#39;t work outside of the &quot;if&quot; because then if no current users with that username are found it would not move on to the username creation. It would hit the &quot;next&quot; then skip over the save block."}], "tags": [], "owner": {"reputation": 125, "user_id": 6150432, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/HSDD8.jpg?s=128&g=1", "display_name": "helfi", "link": "https://stackoverflow.com/users/6150432/helfi"}, "is_accepted": false, "score": 0, "last_activity_date": 1473898311, "creation_date": 1473898311, "answer_id": 39501423, "question_id": 39501292, "link": "https://stackoverflow.com/questions/39501292/exit-block-of-code-with-express-and-node/39501423#39501423", "title": "exit block of code with express and node", "body": "<p>In your current implementation, if it finds the user, it will run whatever you have written in your callback. You happen to have <code>next()</code> inside your callback. <code>next()</code> will exit this route and find the next route that would match. That means whatever you wrote under, won't be executed (I'm talking about the <code>user.save</code> part.</p>\n\n<p>Anyways, to answer your question, if you want it to exit the <code>User.find</code> block and the <code>.post</code> all together, then just put the <code>next()</code> method below and outside your <code>if</code> statement.</p>\n\n<p>I hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1473899508, "post_id": 39501490, "comment_id": 66320507, "body": "I think one other thing that should be fixed is that you don&#39;t call <code>next()</code> after <code>res.send()</code>.  In fact <code>next()</code> is meant to signify that you want other route handlers to continue to process this route which is not what should happen when you&#39;ve sent the response."}, {"owner": {"reputation": 5377, "user_id": 3260137, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Y9hzO.png?s=128&g=1", "display_name": "abdulbarik", "link": "https://stackoverflow.com/users/3260137/abdulbarik"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1473901125, "post_id": 39501490, "comment_id": 66320836, "body": "Yes, @jfriend00 it can be, I am updating the answer"}, {"owner": {"reputation": 891, "user_id": 2627068, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/uLtlf.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2627068/dan"}, "edited": false, "score": 0, "creation_date": 1474052635, "post_id": 39501490, "comment_id": 66390910, "body": "Thank you, this should do it. Just for the future, is there a way to exit all the way up through a chain of callbacks or do you just need to code a bit smarter like you suggested in your answer?"}], "tags": [], "owner": {"reputation": 5377, "user_id": 3260137, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/Y9hzO.png?s=128&g=1", "display_name": "abdulbarik", "link": "https://stackoverflow.com/users/3260137/abdulbarik"}, "is_accepted": true, "score": 2, "last_activity_date": 1473901190, "last_edit_date": 1473901190, "creation_date": 1473898952, "answer_id": 39501490, "question_id": 39501292, "link": "https://stackoverflow.com/questions/39501292/exit-block-of-code-with-express-and-node/39501490#39501490", "title": "exit block of code with express and node", "body": "<p>Try to write another case in <code>else</code> condition and return the callback like this</p>\n\n<pre><code> router.route('/users')\n.post(function(req, res, next) {\n\n    var user = new User();\n    user.username = req.body.username;\n    user.password = req.body.password;\n\n    User.find({username : user.username}, function(err, results){\n        if (results.length &gt; 0) {\n\n            //if (err) res.send(err);\n            console.log('User exists: ', user.username);\n            res.send('User exists');\n             return next();\n        }else{\n            user.save(function(err) {\n                if (err)\n                    return res.send(err);\n\n                return res.json({\n                    message: 'Created user.',\n                    username: req.body.username,\n                    password: req.body.password\n                });\n            });\n        }\n\n    });\n\n})\n</code></pre>\n"}], "owner": {"reputation": 891, "user_id": 2627068, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/uLtlf.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2627068/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 299, "favorite_count": 0, "accepted_answer_id": 39501490, "answer_count": 2, "score": -1, "last_activity_date": 1473901190, "creation_date": 1473897156, "question_id": 39501292, "link": "https://stackoverflow.com/questions/39501292/exit-block-of-code-with-express-and-node", "title": "exit block of code with express and node", "body": "<p>Here is my code</p>\n\n<pre><code>// on all routes that end with \"users\", do the following\nrouter.route('/users')\n    .post(function(req, res, next) {\n\n        var user = new User();\n        user.username = req.body.username;\n        user.password = req.body.password;\n\n        User.find({username : user.username}, function(err, results){\n            if (results.length &gt; 0) {\n\n                //if (err) res.send(err);\n                console.log('User exists: ', user.username);\n                res.send('User exists');\n                next();\n            }\n\n        });\n\n        user.save(function(err) {\n            if (err)\n                res.send(err);\n\n            res.json({\n                message: 'Created user.',\n                username: req.body.username,\n                password: req.body.password\n            });\n        });\n\n    })\n</code></pre>\n\n<p><code>User</code> is just a Mongoose schema.</p>\n\n<p>If the username is found in that first callback, I want to send a basic response of \"User Exists\", then exit. Right now I get an error because it moves on to the <code>user.save</code> bit and tries to write more info to the response which has already ended.</p>\n\n<p>How can I exit the <code>User.find</code> block and the <code>.post</code> block altogether? In a normal C-like language I'd simply do <code>return;</code> but doing so only exits just the <code>User.find</code> block.</p>\n\n<p>Thanks for any help</p>\n"}, {"tags": ["javascript", "reactjs", "clipboard"], "comments": [{"owner": {"reputation": 6190, "user_id": 5029266, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7d4922cf09a8b3d3195cd4d848091ba3?s=128&d=identicon&r=PG", "display_name": "EugZol", "link": "https://stackoverflow.com/users/5029266/eugzol"}, "edited": false, "score": 1, "creation_date": 1473900663, "post_id": 39501289, "comment_id": 66320728, "body": "Did you try using 3rd party solutions, like <a href=\"https://clipboardjs.com/\" rel=\"nofollow noreferrer\">clipboardjs.com</a> or <a href=\"https://github.com/zeroclipboard/zeroclipboard\" rel=\"nofollow noreferrer\">github.com/zeroclipboard/zeroclipboard</a>?"}, {"owner": {"reputation": 18219, "user_id": 627492, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a65ecbb7d583a75511cff7d78dd7d6e7?s=128&d=identicon&r=PG", "display_name": "Duke Dougal", "link": "https://stackoverflow.com/users/627492/duke-dougal"}, "reply_to_user": {"reputation": 6190, "user_id": 5029266, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7d4922cf09a8b3d3195cd4d848091ba3?s=128&d=identicon&r=PG", "display_name": "EugZol", "link": "https://stackoverflow.com/users/5029266/eugzol"}, "edited": false, "score": 14, "creation_date": 1473901449, "post_id": 39501289, "comment_id": 66320877, "body": "@EugZol I really prefer to write code rather than add another dependency, assuming the code is fairly small."}, {"owner": {"reputation": 175, "user_id": 4778070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e1ce93db8cef7d02e30308907bba6ce?s=128&d=identicon&r=PG&f=1", "display_name": "elmeister", "link": "https://stackoverflow.com/users/4778070/elmeister"}, "edited": false, "score": 0, "creation_date": 1473903309, "post_id": 39501289, "comment_id": 66321231, "body": "Check these answers <a href=\"http://stackoverflow.com/questions/400212/how-do-i-copy-to-the-clipboard-in-javascript\" title=\"how do i copy to the clipboard in javascript\">stackoverflow.com/questions/400212/&hellip;</a>"}, {"owner": {"reputation": 18219, "user_id": 627492, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a65ecbb7d583a75511cff7d78dd7d6e7?s=128&d=identicon&r=PG", "display_name": "Duke Dougal", "link": "https://stackoverflow.com/users/627492/duke-dougal"}, "reply_to_user": {"reputation": 175, "user_id": 4778070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e1ce93db8cef7d02e30308907bba6ce?s=128&d=identicon&r=PG&f=1", "display_name": "elmeister", "link": "https://stackoverflow.com/users/4778070/elmeister"}, "edited": false, "score": 0, "creation_date": 1473907151, "post_id": 39501289, "comment_id": 66322042, "body": "@elmeister the question is specific to reactjs"}], "answers": [{"comments": [{"owner": {"reputation": 1307, "user_id": 867125, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/3d1d54eb01212ee0d212dc0b9b4de0a2?s=128&d=identicon&r=PG&f=1", "display_name": "TechTurtle", "link": "https://stackoverflow.com/users/867125/techturtle"}, "edited": false, "score": 0, "creation_date": 1505165827, "post_id": 39504692, "comment_id": 79291869, "body": "Is there any solution if I need to do reverse? i.e. Author will copy text from an email to text area in reactjs application. I don&#39;t need to retain html tags, however, I need to preserve only line breaks."}, {"owner": {"reputation": 3485, "user_id": 192961, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7366f8cb0035655e5afd94d4a07be816?s=128&d=identicon&r=PG", "display_name": "Koen", "link": "https://stackoverflow.com/users/192961/koen"}, "edited": false, "score": 0, "creation_date": 1511446965, "post_id": 39504692, "comment_id": 81869772, "body": "You probably need to plug the <code>onpaste</code> event"}, {"owner": {"reputation": 737, "user_id": 10191105, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1077506c8b839ceefbc34a8444e78317?s=128&d=identicon&r=PG&f=1", "display_name": "Jane Fred", "link": "https://stackoverflow.com/users/10191105/jane-fred"}, "edited": false, "score": 0, "creation_date": 1562764443, "post_id": 39504692, "comment_id": 100479504, "body": "How can I use this package if I want to copy the contents of an html table to clipboard? @Shubham Khatri"}], "tags": [], "owner": {"reputation": 207256, "user_id": 5928186, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/QKbVi.jpg?s=128&g=1", "display_name": "Shubham Khatri", "link": "https://stackoverflow.com/users/5928186/shubham-khatri"}, "is_accepted": false, "score": 41, "last_activity_date": 1473922269, "creation_date": 1473922269, "answer_id": 39504692, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/39504692#39504692", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>The simplest way will be use the <code>react-copy-to-clipboard</code> npm package. </p>\n\n<p>You can install it with the following command</p>\n\n<pre><code>npm install --save react react-copy-to-clipboard\n</code></pre>\n\n<p>Use it in the following manner.</p>\n\n<pre><code>const App = React.createClass({\n  getInitialState() {\n    return {value: '', copied: false};\n  },\n\n\n  onChange({target: {value}}) {\n    this.setState({value, copied: false});\n  },\n\n\n  onCopy() {\n    this.setState({copied: true});\n  },\n\n\n  render() {\n    return (\n      &lt;div&gt;\n\n          &lt;input value={this.state.value} size={10} onChange={this.onChange} /&gt;\n\n        &lt;CopyToClipboard text={this.state.value} onCopy={this.onCopy}&gt;\n          &lt;button&gt;Copy&lt;/button&gt;\n        &lt;/CopyToClipboard&gt;\n\n                &lt;div&gt;\n        {this.state.copied ? &lt;span &gt;Copied.&lt;/span&gt; : null}\n                &lt;/div&gt;\n        &lt;br /&gt;\n\n        &lt;input type=\"text\" /&gt;\n\n      &lt;/div&gt;\n    );\n  }\n});\n\nReactDOM.render(&lt;App /&gt;, document.getElementById('container'));\n</code></pre>\n\n<p>A detailed explanation is provided at the following link</p>\n\n<p><a href=\"https://www.npmjs.com/package/react-copy-to-clipboard\" rel=\"noreferrer\">https://www.npmjs.com/package/react-copy-to-clipboard</a></p>\n\n<p>Here is a running <a href=\"https://jsfiddle.net/69z2wepo/56223/\" rel=\"noreferrer\">fiddle</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 18219, "user_id": 627492, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a65ecbb7d583a75511cff7d78dd7d6e7?s=128&d=identicon&r=PG", "display_name": "Duke Dougal", "link": "https://stackoverflow.com/users/627492/duke-dougal"}, "edited": false, "score": 4, "creation_date": 1474518645, "post_id": 39504745, "comment_id": 66565576, "body": "Why is a package better than your solution?"}, {"owner": {"reputation": 2081, "user_id": 5858822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69412866bf23576519ba75b38ba0bac5?s=128&d=identicon&r=PG", "display_name": "Drew Schuster", "link": "https://stackoverflow.com/users/5858822/drew-schuster"}, "reply_to_user": {"reputation": 18219, "user_id": 627492, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a65ecbb7d583a75511cff7d78dd7d6e7?s=128&d=identicon&r=PG", "display_name": "Duke Dougal", "link": "https://stackoverflow.com/users/627492/duke-dougal"}, "edited": false, "score": 7, "creation_date": 1474519720, "post_id": 39504745, "comment_id": 66565825, "body": "Potentially better cross browser support, and more eyes on the package in case there need to be bug fixed"}, {"owner": {"reputation": 596, "user_id": 1983554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f5a8f555ba614299c1e0de8688d15cc?s=128&d=identicon&r=PG", "display_name": "Karl Pokus", "link": "https://stackoverflow.com/users/1983554/karl-pokus"}, "edited": false, "score": 0, "creation_date": 1501244847, "post_id": 39504745, "comment_id": 77707821, "body": "works like a charm. Yes. I wonder about cross browser support also."}, {"owner": {"reputation": 1495, "user_id": 5377437, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/2827177281668/picture?type=large", "display_name": "robinnnnn", "link": "https://stackoverflow.com/users/5377437/robinnnnn"}, "edited": false, "score": 0, "creation_date": 1537543933, "post_id": 39504745, "comment_id": 91836733, "body": "would this cause a flicker on the screen if since you&#39;re using appendChild, no matter how quickly you&#39;re removing it afterwards?"}, {"owner": {"reputation": 132, "user_id": 6477560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ea8073ac42ca2db13645c8c241a459d?s=128&d=identicon&r=PG&f=1", "display_name": "colin", "link": "https://stackoverflow.com/users/6477560/colin"}, "edited": false, "score": 1, "creation_date": 1552911263, "post_id": 39504745, "comment_id": 97177159, "body": "This is good but it does not work on Chrome (72.0) on Android nor on FF (63.0) on Android."}, {"owner": {"reputation": 474, "user_id": 2834876, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a69af2508140d8ad28733b0fa598d951?s=128&d=identicon&r=PG", "display_name": "Roman Grinev", "link": "https://stackoverflow.com/users/2834876/roman-grinev"}, "edited": false, "score": 0, "creation_date": 1605219555, "post_id": 39504745, "comment_id": 114592227, "body": "Works for me. Thank you. I would just added <code>textField.setSelectionRange(0, 99999)</code> to support on mobile devices."}], "tags": [], "owner": {"reputation": 2081, "user_id": 5858822, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69412866bf23576519ba75b38ba0bac5?s=128&d=identicon&r=PG", "display_name": "Drew Schuster", "link": "https://stackoverflow.com/users/5858822/drew-schuster"}, "is_accepted": false, "score": 46, "last_activity_date": 1473922511, "creation_date": 1473922511, "answer_id": 39504745, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/39504745#39504745", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>You should definitely consider using a package like @Shubham above is advising, but I created a working codepen based on what you described: <a href=\"http://codepen.io/dtschust/pen/WGwdVN?editors=1111\" rel=\"noreferrer\">http://codepen.io/dtschust/pen/WGwdVN?editors=1111</a> . It works in my browser in chrome, perhaps you can see if there's something I did there that you missed, or if there's some extended complexity in your application that prevents this from working.</p>\n\n<pre><code>// html\n&lt;html&gt;\n  &lt;body&gt;\n    &lt;div id=\"container\"&gt;\n\n    &lt;/div&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\n\n// js\nconst Hello = React.createClass({\n  copyToClipboard: () =&gt; {\n    var textField = document.createElement('textarea')\n    textField.innerText = 'foo bar baz'\n    document.body.appendChild(textField)\n    textField.select()\n    document.execCommand('copy')\n    textField.remove()\n  },\n  render: function () {\n    return (\n      &lt;h1 onClick={this.copyToClipboard}&gt;Click to copy some text&lt;/h1&gt;\n    )\n  }\n})\n\nReactDOM.render(\n&lt;Hello/&gt;,\n  document.getElementById('container'))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1668, "user_id": 2898801, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce277153b915b6d5e6151e6365acad20?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Ronning", "link": "https://stackoverflow.com/users/2898801/christopher-ronning"}, "edited": false, "score": 3, "creation_date": 1527600466, "post_id": 42844911, "comment_id": 88180430, "body": "Just for the record: the only problem with this is that if you&#39;re trying to copy text that&#39;s not already in some text element on the page, you&#39;ll need to hack a set of DOM elements, set the text, copy it, and clean it up. That&#39;s alot of code for something very small. Normally I would agree that devs should not be encouraged to constantly install libraries."}, {"owner": {"reputation": 5658, "user_id": 1311545, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/740836c8d3d32f0b8ce8a3964623705a?s=128&d=identicon&r=PG", "display_name": "Nate", "link": "https://stackoverflow.com/users/1311545/nate"}, "edited": false, "score": 3, "creation_date": 1527612037, "post_id": 42844911, "comment_id": 88187627, "body": "For this particular problem, the text is already in an element on the page. What case would there be where there&#39;s visible text on the page that you want to copy that isn&#39;t in an element? That&#39;s an entirely different issue that I&#39;d be happy to show a solution to. You wouldn&#39;t need to hack anything with react, you&#39;d just provide a hidden element in your render function that also holds the text. No need to create elements ad hoc."}, {"owner": {"reputation": 482, "user_id": 10246377, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-DprrlhJw6q0/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaM5wxnQrSe0m7EEbLDwrIU53-vp4w/mo/photo.jpg?sz=128", "display_name": "Robert Molina", "link": "https://stackoverflow.com/users/10246377/robert-molina"}, "edited": false, "score": 0, "creation_date": 1548722037, "post_id": 42844911, "comment_id": 95635227, "body": "Instead of &#39;e.targe.focus()&#39; in case there is no event depending in how anyone might be using this, you can use the following to deselect the input/textarea:   1. For cross-browsers: window.getSelection(). 2. Problematic browsers: document.selection.empty().  More info: <a href=\"https://stackoverflow.com/questions/6186844/clear-a-selection-in-firefox/6187098#6187098\" title=\"clear a selection in firefox\">stackoverflow.com/questions/6186844/&hellip;</a>"}, {"owner": {"reputation": 6880, "user_id": 681548, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1010c8a32ba6615297b1904fca57b6de?s=128&d=identicon&r=PG", "display_name": "keul", "link": "https://stackoverflow.com/users/681548/keul"}, "edited": false, "score": 0, "creation_date": 1552497360, "post_id": 42844911, "comment_id": 97035878, "body": "Adding my 2 cents to this correct answer: in some cases the position of the fake textarea matters. In my case the copy button was inside an overlay (not an iframe, but something that totally covers the page with a backgropd) and the &quot;select&quot; action was probably failing.  Moving the textarea position inside the active page fixed the issue."}, {"owner": {"reputation": 1284, "user_id": 1628387, "user_type": "registered", "accept_rate": 28, "profile_image": "https://www.gravatar.com/avatar/c482161f077c79df5e62590110b465e9?s=128&d=identicon&r=PG", "display_name": "Alex C", "link": "https://stackoverflow.com/users/1628387/alex-c"}, "edited": false, "score": 2, "creation_date": 1553708412, "post_id": 42844911, "comment_id": 97488751, "body": "I get this typescript error: <code>Property &#39;select&#39; does not exist on type &#39;never&#39;</code>"}, {"owner": {"reputation": 186, "user_id": 680091, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/9d7821a125e4644c5a17eb6bc30638a0?s=128&d=identicon&r=PG&f=1", "display_name": "pseudozach", "link": "https://stackoverflow.com/users/680091/pseudozach"}, "edited": false, "score": 3, "creation_date": 1572326180, "post_id": 42844911, "comment_id": 103515350, "body": "I get TypeError: textAreaRef.current.select is not a function"}, {"owner": {"reputation": 91, "user_id": 7118548, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/58cgK.jpg?s=128&g=1", "display_name": "gjs", "link": "https://stackoverflow.com/users/7118548/gjs"}, "edited": false, "score": 0, "creation_date": 1586011320, "post_id": 42844911, "comment_id": 107970301, "body": "im using flow-typed  <code>property `select` is missing in  null [1]</code>"}, {"owner": {"reputation": 75, "user_id": 981320, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f20c8c80f081cda325e506f0d74256c?s=128&d=identicon&r=PG", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/981320/benjamin"}, "edited": false, "score": 5, "creation_date": 1592814239, "post_id": 42844911, "comment_id": 110548281, "body": "This is now obsolete <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/execCommand\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Document/execComman&zwnj;&#8203;d</a>"}, {"owner": {"reputation": 296, "user_id": 6932865, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/28cbd1fa231a19e77eb72c1885064471?s=128&d=identicon&r=PG&f=1", "display_name": "Jaked222", "link": "https://stackoverflow.com/users/6932865/jaked222"}, "edited": false, "score": 1, "creation_date": 1594951243, "post_id": 42844911, "comment_id": 111313180, "body": "If you&#39;re getting textAreaRef.current.select is not a function, make sure your ref is actually on a &lt;textarea&gt; HTML tag. I found the answer that worked for me here: <a href=\"https://stackoverflow.com/questions/36231498/auto-select-span-tag-with-reactjs\" title=\"auto select span tag with reactjs\">stackoverflow.com/questions/36231498/&hellip;</a>"}, {"owner": {"reputation": 56, "user_id": 3533496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2999a48a409ac35525427bfef88d73d9?s=128&d=identicon&r=PG", "display_name": "bfeist", "link": "https://stackoverflow.com/users/3533496/bfeist"}, "edited": false, "score": 0, "creation_date": 1610730035, "post_id": 42844911, "comment_id": 116233078, "body": "Man, this is so refreshing after looking into overbuilt solutions like <a href=\"https://www.npmjs.com/package/react-copy-to-clipboard\" rel=\"nofollow noreferrer\">npmjs.com/package/react-copy-to-clipboard</a>"}], "tags": [], "owner": {"reputation": 5658, "user_id": 1311545, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/740836c8d3d32f0b8ce8a3964623705a?s=128&d=identicon&r=PG", "display_name": "Nate", "link": "https://stackoverflow.com/users/1311545/nate"}, "is_accepted": false, "score": 232, "last_activity_date": 1596742792, "last_edit_date": 1596742792, "creation_date": 1489698937, "answer_id": 42844911, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/42844911#42844911", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>I personally don't see the need for a library for this. Looking at <a href=\"http://caniuse.com/#feat=clipboard\" rel=\"noreferrer\">http://caniuse.com/#feat=clipboard</a> it's pretty widely supported now, however you can still do things like checking to see if the functionality exists in the current client and simply hide the copy button if it doesn't.</p>\n<pre><code>import React from 'react';\n\nclass CopyExample extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = { copySuccess: '' }\n  }\n\n  copyToClipboard = (e) =&gt; {\n    this.textArea.select();\n    document.execCommand('copy');\n    // This is just personal preference.\n    // I prefer to not show the whole text area selected.\n    e.target.focus();\n    this.setState({ copySuccess: 'Copied!' });\n  };\n\n  render() {\n    return (\n      &lt;div&gt;\n        {\n         /* Logical shortcut for only displaying the \n            button if the copy command exists */\n         document.queryCommandSupported('copy') &amp;&amp;\n          &lt;div&gt;\n            &lt;button onClick={this.copyToClipboard}&gt;Copy&lt;/button&gt; \n            {this.state.copySuccess}\n          &lt;/div&gt;\n        }\n        &lt;form&gt;\n          &lt;textarea\n            ref={(textarea) =&gt; this.textArea = textarea}\n            value='Some text to copy'\n          /&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n    );\n  }\n\n}\n    \nexport default CopyExample;\n</code></pre>\n<p><strong>Update: Rewritten using React Hooks in React 16.7.0-alpha.0</strong></p>\n<pre><code>import React, { useRef, useState } from 'react';\n\nexport default function CopyExample() {\n\n  const [copySuccess, setCopySuccess] = useState('');\n  const textAreaRef = useRef(null);\n\n  function copyToClipboard(e) {\n    textAreaRef.current.select();\n    document.execCommand('copy');\n    // This is just personal preference.\n    // I prefer to not show the whole text area selected.\n    e.target.focus();\n    setCopySuccess('Copied!');\n  };\n\n  return (\n    &lt;div&gt;\n      {\n       /* Logical shortcut for only displaying the \n          button if the copy command exists */\n       document.queryCommandSupported('copy') &amp;&amp;\n        &lt;div&gt;\n          &lt;button onClick={copyToClipboard}&gt;Copy&lt;/button&gt; \n          {copySuccess}\n        &lt;/div&gt;\n      }\n      &lt;form&gt;\n        &lt;textarea\n          ref={textAreaRef}\n          value='Some text to copy'\n        /&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1307, "user_id": 867125, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/3d1d54eb01212ee0d212dc0b9b4de0a2?s=128&d=identicon&r=PG&f=1", "display_name": "TechTurtle", "link": "https://stackoverflow.com/users/867125/techturtle"}, "reply_to_user": {"reputation": 596, "user_id": 1983554, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/8f5a8f555ba614299c1e0de8688d15cc?s=128&d=identicon&r=PG", "display_name": "Karl Pokus", "link": "https://stackoverflow.com/users/1983554/karl-pokus"}, "edited": false, "score": 3, "creation_date": 1505165983, "post_id": 43064164, "comment_id": 79291921, "body": "@KarlPokus The questioner is only looking for Chrome solution"}, {"owner": {"reputation": 333, "user_id": 5229630, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206293797775769/picture?type=large", "display_name": "Damian Przygodzki", "link": "https://stackoverflow.com/users/5229630/damian-przygodzki"}, "edited": false, "score": 1, "creation_date": 1510737845, "post_id": 43064164, "comment_id": 81557892, "body": "Tested on Chrome Version 62.0.3202.94. It is working.  <a href=\"https://codepen.io/dprzygodzki/pen/ZaJMKb\" rel=\"nofollow noreferrer\">codepen.io/dprzygodzki/pen/ZaJMKb</a>"}, {"owner": {"reputation": 333, "user_id": 5229630, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206293797775769/picture?type=large", "display_name": "Damian Przygodzki", "link": "https://stackoverflow.com/users/5229630/damian-przygodzki"}, "reply_to_user": {"reputation": 605, "user_id": 3889068, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RsU69.jpg?s=128&g=1", "display_name": "ian", "link": "https://stackoverflow.com/users/3889068/ian"}, "edited": false, "score": 0, "creation_date": 1510738089, "post_id": 43064164, "comment_id": 81558034, "body": "@ian and also, feel free to share the reproducible issue code."}, {"owner": {"reputation": 782, "user_id": 4056534, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/qmVJC.jpg?s=128&g=1", "display_name": "Sandip Subedi", "link": "https://stackoverflow.com/users/4056534/sandip-subedi"}, "edited": false, "score": 0, "creation_date": 1521744936, "post_id": 43064164, "comment_id": 85874714, "body": "I am getting  Uncaught TypeError: Cannot read property &#39;clipboardData&#39; of undefined"}, {"owner": {"reputation": 333, "user_id": 5229630, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206293797775769/picture?type=large", "display_name": "Damian Przygodzki", "link": "https://stackoverflow.com/users/5229630/damian-przygodzki"}, "reply_to_user": {"reputation": 782, "user_id": 4056534, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/qmVJC.jpg?s=128&g=1", "display_name": "Sandip Subedi", "link": "https://stackoverflow.com/users/4056534/sandip-subedi"}, "edited": false, "score": 0, "creation_date": 1522077700, "post_id": 43064164, "comment_id": 85993828, "body": "@SandipSubedi please elaborate and i will try to help. What browser, how do you attach handler for event?"}, {"owner": {"reputation": 6021, "user_id": 1134192, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2FKNr.jpg?s=128&g=1", "display_name": "Oliver Dixon", "link": "https://stackoverflow.com/users/1134192/oliver-dixon"}, "edited": false, "score": 0, "creation_date": 1533150000, "post_id": 43064164, "comment_id": 90245439, "body": "Where on earth is &#39;e&#39; coming from?"}, {"owner": {"reputation": 333, "user_id": 5229630, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206293797775769/picture?type=large", "display_name": "Damian Przygodzki", "link": "https://stackoverflow.com/users/5229630/damian-przygodzki"}, "reply_to_user": {"reputation": 6021, "user_id": 1134192, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2FKNr.jpg?s=128&g=1", "display_name": "Oliver Dixon", "link": "https://stackoverflow.com/users/1134192/oliver-dixon"}, "edited": false, "score": 2, "creation_date": 1533561415, "post_id": 43064164, "comment_id": 90378103, "body": "@OliverDixon it is default object of React event. <a href=\"https://reactjs.org/docs/events.html\" rel=\"nofollow noreferrer\">reactjs.org/docs/events.html</a>"}, {"owner": {"reputation": 6021, "user_id": 1134192, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2FKNr.jpg?s=128&g=1", "display_name": "Oliver Dixon", "link": "https://stackoverflow.com/users/1134192/oliver-dixon"}, "edited": false, "score": 1, "creation_date": 1533642920, "post_id": 43064164, "comment_id": 90412562, "body": "@DamianPrzygodzki I hate hidden elements like this, great way to confuse developers."}, {"owner": {"reputation": 333, "user_id": 5229630, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206293797775769/picture?type=large", "display_name": "Damian Przygodzki", "link": "https://stackoverflow.com/users/5229630/damian-przygodzki"}, "reply_to_user": {"reputation": 6021, "user_id": 1134192, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2FKNr.jpg?s=128&g=1", "display_name": "Oliver Dixon", "link": "https://stackoverflow.com/users/1134192/oliver-dixon"}, "edited": false, "score": 1, "creation_date": 1533884018, "post_id": 43064164, "comment_id": 90518777, "body": "@OliverDixon i feel you, but i think its good to get used that sometimes there is some default data applied to method, especially in events."}], "tags": [], "owner": {"reputation": 333, "user_id": 5229630, "user_type": "registered", "profile_image": "https://graph.facebook.com/10206293797775769/picture?type=large", "display_name": "Damian Przygodzki", "link": "https://stackoverflow.com/users/5229630/damian-przygodzki"}, "is_accepted": false, "score": 18, "last_activity_date": 1510737889, "last_edit_date": 1510737889, "creation_date": 1490689011, "answer_id": 43064164, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/43064164#43064164", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>Why do not use just event clipboardData collection method <code>e.clipboardData.setData(type, content)</code>?</p>\n\n<p>In my opinion is the most streightforward method to achieve pushing smth inside clipboard, check this out (i've used that to modify data while native copying action):</p>\n\n<pre><code>...\n\nhandleCopy = (e) =&gt; {\n    e.preventDefault();\n    e.clipboardData.setData('text/plain', 'Hello, world!');\n}\n\nrender = () =&gt;\n    &lt;Component\n        onCopy={this.handleCopy}\n    /&gt;\n</code></pre>\n\n<p>I followed that path: <a href=\"https://developer.mozilla.org/en-US/docs/Web/Events/copy\" rel=\"noreferrer\">https://developer.mozilla.org/en-US/docs/Web/Events/copy</a></p>\n\n<p>Cheers!</p>\n\n<p>EDIT: For testing purposes, i've added codepen: <a href=\"https://codepen.io/dprzygodzki/pen/ZaJMKb\" rel=\"noreferrer\">https://codepen.io/dprzygodzki/pen/ZaJMKb</a></p>\n"}, {"tags": [], "owner": {"reputation": 783, "user_id": 3350631, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/cdfab487bd587de79d4eea825d4ed216?s=128&d=identicon&r=PG&f=1", "display_name": "Kupi", "link": "https://stackoverflow.com/users/3350631/kupi"}, "is_accepted": false, "score": 8, "last_activity_date": 1519224426, "creation_date": 1519224426, "answer_id": 48908805, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/48908805#48908805", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>Your code should work perfectly, I use it the same way. Only make sure that if the click event is triggered from within a pop up screen like a bootstrap modal or something, the created element has to be within that modal otherwise it won't copy. You could always give the id of an element within that modal (as a second parameter) and retrieve it with getElementById, then append the newly created element to that one instead of the document. Something like this:</p>\n\n<pre><code>copyToClipboard = (text, elementId) =&gt; {\n  const textField = document.createElement('textarea');\n  textField.innerText = text;\n  const parentElement = document.getElementById(elementId);\n  parentElement.appendChild(textField);\n  textField.select();\n  document.execCommand('copy');\n  parentElement.removeChild(textField);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 860, "user_id": 4938325, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/399c4283b377f6786faeadd490d8c916?s=128&d=identicon&r=PG&f=1", "display_name": "connect2Coder", "link": "https://stackoverflow.com/users/4938325/connect2coder"}, "is_accepted": false, "score": 3, "last_activity_date": 1524009134, "last_edit_date": 1524009134, "creation_date": 1523899586, "answer_id": 49863056, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/49863056#49863056", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>For those people who are trying to select from the DIV instead of the text field, here is the code. The code is self-explanatory but comment here if you want more information: </p>\n\n<pre><code>     import React from 'react';\n     ....\n\n    //set ref to your div\n          setRef = (ref) =&gt; {\n            // debugger; //eslint-disable-line\n            this.dialogRef = ref;\n          };\n\n          createMarkeup = content =&gt; ({\n            __html: content,\n          });\n\n    //following function select and copy data to the clipboard from the selected Div. \n   //Please note that it is only tested in chrome but compatibility for other browsers can be easily done\n\n          copyDataToClipboard = () =&gt; {\n            try {\n              const range = document.createRange();\n              const selection = window.getSelection();\n              range.selectNodeContents(this.dialogRef);\n              selection.removeAllRanges();\n              selection.addRange(range);\n              document.execCommand('copy');\n              this.showNotification('Macro copied successfully.', 'info');\n              this.props.closeMacroWindow();\n            } catch (err) {\n              // console.log(err); //eslint-disable-line\n              //alert('Macro copy failed.');\n            }\n          };\n\n              render() {\n                    return (\n                        &lt;div\n                          id=\"macroDiv\"\n                          ref={(el) =&gt; {\n                            this.dialogRef = el;\n                          }}\n                          // className={classes.paper}\n                          dangerouslySetInnerHTML={this.createMarkeup(this.props.content)}\n                        /&gt;\n                    );\n            }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 184, "user_id": 6493490, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1j6Xv.jpg?s=128&g=1", "display_name": "Premjeet", "link": "https://stackoverflow.com/users/6493490/premjeet"}, "edited": false, "score": 5, "creation_date": 1535632261, "post_id": 52033479, "comment_id": 91144423, "body": "navigator.clipboard not supports all browsers"}, {"owner": {"reputation": 1950, "user_id": 669084, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84460b786102047f6b74522ef62d7ac3?s=128&d=identicon&r=PG", "display_name": "gasolin", "link": "https://stackoverflow.com/users/669084/gasolin"}, "edited": false, "score": 14, "creation_date": 1538706816, "post_id": 52033479, "comment_id": 92245723, "body": "seems its been well support for major browsers in 2018 <a href=\"https://caniuse.com/#search=clipboard\" rel=\"nofollow noreferrer\">caniuse.com/#search=clipboard</a>"}, {"owner": {"reputation": 1290, "user_id": 2639084, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/sBKfl.jpg?s=128&g=1", "display_name": "Nibb", "link": "https://stackoverflow.com/users/2639084/nibb"}, "edited": false, "score": 3, "creation_date": 1554412509, "post_id": 52033479, "comment_id": 97754173, "body": "based on the link you provided, it looks like its only totally supported in safari..."}, {"owner": {"reputation": 7110, "user_id": 800619, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/374b8f6eb41fb881b3c726786bc8383a?s=128&d=identicon&r=PG", "display_name": "NSjonas", "link": "https://stackoverflow.com/users/800619/nsjonas"}, "edited": false, "score": 3, "creation_date": 1558194461, "post_id": 52033479, "comment_id": 99023966, "body": "works best for my usecase where to text to copy isn&#39;t actually on the page. Thanks"}, {"owner": {"reputation": 480, "user_id": 9173778, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/d1287388b32653f2caccbe8416b8bc14?s=128&d=identicon&r=PG&f=1", "display_name": "Dror Bar", "link": "https://stackoverflow.com/users/9173778/dror-bar"}, "edited": false, "score": 1, "creation_date": 1577107345, "post_id": 52033479, "comment_id": 105093271, "body": "The partial support is very good, so it&#39;s fully supported for most use-cases. And as mentioned, this is the best programmatic solution."}, {"owner": {"reputation": 111, "user_id": 6817684, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5783f41506822bfb4c1a4ea89b43f96a?s=128&d=identicon&r=PG&f=1", "display_name": "matsad", "link": "https://stackoverflow.com/users/6817684/matsad"}, "edited": false, "score": 1, "creation_date": 1582605382, "post_id": 52033479, "comment_id": 106825353, "body": "I was copying a <code>&lt;pre&gt;&lt;code&gt;...&lt;&#47;code&gt;&lt;pre&gt;</code> portion and this worked when other responses did not.  Thanks!"}, {"owner": {"reputation": 118, "user_id": 10641511, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-C6-BBwnVqm4/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1o2x6wzWHBKMfXTCVsNWTYmwuUxw/mo/photo.jpg?sz=128", "display_name": "Mohammad Agha", "link": "https://stackoverflow.com/users/10641511/mohammad-agha"}, "edited": false, "score": 1, "creation_date": 1605631333, "post_id": 52033479, "comment_id": 114707396, "body": "This works totally fine, but does someone knows how to copy to clipboard with the content being formatted ?"}, {"owner": {"reputation": 374, "user_id": 10050675, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc91216a7cf27456529c6238a0cd54f?s=128&d=identicon&r=PG&f=1", "display_name": "aryanm", "link": "https://stackoverflow.com/users/10050675/aryanm"}, "edited": false, "score": 3, "creation_date": 1609386055, "post_id": 52033479, "comment_id": 115830814, "body": "Since I got stuck on this (on Chrome), <code>navigator.clipboard</code> will only work if your page is loaded from a secure origin (either HTTPS or localhost). You can check <a href=\"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts\" rel=\"nofollow noreferrer\">window.isSecureContext</a> if you need to."}, {"owner": {"reputation": 634, "user_id": 7676920, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/KUPnC.png?s=128&g=1", "display_name": "basse", "link": "https://stackoverflow.com/users/7676920/basse"}, "edited": false, "score": 1, "creation_date": 1610612588, "post_id": 52033479, "comment_id": 116189154, "body": "In 2021, this should be the accepted answer. Support for <code>navigator.clipboard</code> is more than universal enough."}, {"owner": {"user_type": "does_not_exist", "display_name": "user7075574"}, "edited": false, "score": 0, "creation_date": 1611641699, "post_id": 52033479, "comment_id": 116509713, "body": "Someone knows how to remove <a href=\"https://imgur.com/dumeWDk.png\" rel=\"nofollow noreferrer\">this</a> (the ht thing) when the text copied is in ` and `?"}, {"owner": {"reputation": 739, "user_id": 9378367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KO7DZ.jpg?s=128&g=1", "display_name": "jefelewis", "link": "https://stackoverflow.com/users/9378367/jefelewis"}, "edited": false, "score": 1, "creation_date": 1613728354, "post_id": 52033479, "comment_id": 117171170, "body": "bump this up to the top"}, {"owner": {"reputation": 119, "user_id": 2377650, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/34ea7ae7b943a9691e329b474f575148?s=128&d=identicon&r=PG", "display_name": "Ayoub", "link": "https://stackoverflow.com/users/2377650/ayoub"}, "edited": false, "score": 1, "creation_date": 1613731220, "post_id": 52033479, "comment_id": 117172391, "body": "This is the correct solution !"}, {"owner": {"reputation": 774, "user_id": 4595005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c9768d524590e0171edba1e809b0dca?s=128&d=identicon&r=PG&f=1", "display_name": "J.E.C.", "link": "https://stackoverflow.com/users/4595005/j-e-c"}, "edited": false, "score": 1, "creation_date": 1614267601, "post_id": 52033479, "comment_id": 117339167, "body": "while this certainly is useful, it only works for in development as localhost or with a site w/ https."}, {"owner": {"reputation": 4314, "user_id": 2943174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bdaa3d8d699e6e24285d201a1c12c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Vernon Grubb", "link": "https://stackoverflow.com/users/2943174/gary-vernon-grubb"}, "reply_to_user": {"reputation": 774, "user_id": 4595005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c9768d524590e0171edba1e809b0dca?s=128&d=identicon&r=PG&f=1", "display_name": "J.E.C.", "link": "https://stackoverflow.com/users/4595005/j-e-c"}, "edited": false, "score": 0, "creation_date": 1614319495, "post_id": 52033479, "comment_id": 117354452, "body": "@J.E.C. You are right. Anyhow anything production grade should have https. Even in cases where security is not needed, if only to just address end user perception."}, {"owner": {"reputation": 361, "user_id": 12478096, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ObUq4Mh8mjQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdsnLPuByXX_JuqNRZIa_G6O8MmQg/photo.jpg?sz=128", "display_name": "YTG", "link": "https://stackoverflow.com/users/12478096/ytg"}, "edited": false, "score": 0, "creation_date": 1617621327, "post_id": 52033479, "comment_id": 118346239, "body": "Doesn&#39;t work for me"}, {"owner": {"reputation": 4314, "user_id": 2943174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bdaa3d8d699e6e24285d201a1c12c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Vernon Grubb", "link": "https://stackoverflow.com/users/2943174/gary-vernon-grubb"}, "reply_to_user": {"reputation": 361, "user_id": 12478096, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ObUq4Mh8mjQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdsnLPuByXX_JuqNRZIa_G6O8MmQg/photo.jpg?sz=128", "display_name": "YTG", "link": "https://stackoverflow.com/users/12478096/ytg"}, "edited": false, "score": 0, "creation_date": 1617622281, "post_id": 52033479, "comment_id": 118346573, "body": "@YTG, What error? are you using HTTPs or localhost?"}, {"owner": {"reputation": 361, "user_id": 12478096, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ObUq4Mh8mjQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdsnLPuByXX_JuqNRZIa_G6O8MmQg/photo.jpg?sz=128", "display_name": "YTG", "link": "https://stackoverflow.com/users/12478096/ytg"}, "edited": false, "score": 0, "creation_date": 1617778926, "post_id": 52033479, "comment_id": 118397745, "body": "Using localhost. No error, just nothing is on the clipboard."}, {"owner": {"reputation": 4314, "user_id": 2943174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bdaa3d8d699e6e24285d201a1c12c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Vernon Grubb", "link": "https://stackoverflow.com/users/2943174/gary-vernon-grubb"}, "edited": false, "score": 0, "creation_date": 1617874213, "post_id": 52033479, "comment_id": 118432171, "body": "Does a console.log of whatever variable you pass to clipboard.writeText have data in it?"}], "tags": [], "owner": {"reputation": 4314, "user_id": 2943174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9bdaa3d8d699e6e24285d201a1c12c6?s=128&d=identicon&r=PG&f=1", "display_name": "Gary Vernon Grubb", "link": "https://stackoverflow.com/users/2943174/gary-vernon-grubb"}, "is_accepted": false, "score": 251, "last_activity_date": 1540695877, "last_edit_date": 1540695877, "creation_date": 1535350493, "answer_id": 52033479, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/52033479#52033479", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>Use this simple inline onClick function on a button if you want to programatically write data to the clipboard.</p>\n\n<pre><code>onClick={() =&gt; {navigator.clipboard.writeText(this.state.textToCopy)}}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 556, "user_id": 5644721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/DVkhK.jpg?s=128&g=1", "display_name": "Ehsan Ahmadi", "link": "https://stackoverflow.com/users/5644721/ehsan-ahmadi"}, "edited": false, "score": 0, "creation_date": 1568729703, "post_id": 53489523, "comment_id": 102362116, "body": "This was useful because i wanted to have paragraph tag instead to Textarea"}, {"owner": {"reputation": 153, "user_id": 7644474, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Nd8mFFgXHnU/AAAAAAAAAAI/AAAAAAAAAn0/KEpJWsL6pJ0/photo.jpg?sz=128", "display_name": "itshinkswhenitscold", "link": "https://stackoverflow.com/users/7644474/itshinkswhenitscold"}, "edited": false, "score": 0, "creation_date": 1581127438, "post_id": 53489523, "comment_id": 106337806, "body": "Thanks! Only issue is hiding the textfield"}], "tags": [], "owner": {"reputation": 427, "user_id": 5660055, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca70c2a46d8978305ecf60ae8332cd2b?s=128&d=identicon&r=PG&f=1", "display_name": "tjgragg", "link": "https://stackoverflow.com/users/5660055/tjgragg"}, "is_accepted": false, "score": 11, "last_activity_date": 1543268557, "creation_date": 1543268557, "answer_id": 53489523, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/53489523#53489523", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>I've taken a very similar approach as some of the above, but made it a little more concrete, I think. Here, a parent component will pass the url (or whatever text you want) as a prop.</p>\n\n<pre><code>import * as React from 'react'\n\nexport const CopyButton = ({ url }: any) =&gt; {\n  const copyToClipboard = () =&gt; {\n    const textField = document.createElement('textarea');\n    textField.innerText = url;\n    document.body.appendChild(textField);\n    textField.select();\n    document.execCommand('copy');\n    textField.remove();\n  };\n\n  return (\n    &lt;button onClick={copyToClipboard}&gt;\n      Copy\n    &lt;/button&gt;\n  );\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2108, "user_id": 5939254, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rlneIgGDRmo/AAAAAAAAAAI/AAAAAAAAAY8/nARwrdmA_jY/photo.jpg?sz=128", "display_name": "Yash Pokar", "link": "https://stackoverflow.com/users/5939254/yash-pokar"}, "is_accepted": false, "score": 2, "last_activity_date": 1545303148, "creation_date": 1545303148, "answer_id": 53867230, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/53867230#53867230", "title": "In reactJS, how to copy text to clipboard?", "body": "<pre><code>import React, { Component } from 'react';\n\nexport default class CopyTextOnClick extends Component {\n    copyText = () =&gt; {\n        this.refs.input.select();\n\n        document.execCommand('copy');\n\n        return false;\n    }\n\n    render () {\n        const { text } = this.state;\n\n        return (\n            &lt;button onClick={ this.copyText }&gt;\n                { text }\n\n                &lt;input\n                    ref=\"input\"\n                    type=\"text\"\n                    defaultValue={ text }\n                    style={{ position: 'fixed', top: '-1000px' }} /&gt;\n            &lt;/button&gt;\n        )\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4319, "user_id": 5449450, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/SYTTU.jpg?s=128&g=1", "display_name": "Alan", "link": "https://stackoverflow.com/users/5449450/alan"}, "is_accepted": false, "score": 0, "last_activity_date": 1562727105, "creation_date": 1562727105, "answer_id": 56962793, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/56962793#56962793", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>here is my code:</p>\n\n<pre><code>import React from 'react'\n\nclass CopyToClipboard extends React.Component {\n\n  textArea: any\n\n  copyClipBoard = () =&gt; {\n    this.textArea.select()\n    document.execCommand('copy')\n  }\n\n  render() {\n    return (\n      &lt;&gt;\n        &lt;input style={{display: 'none'}} value=\"TEXT TO COPY!!\" type=\"text\" ref={(textarea) =&gt; this.textArea = textarea}  /&gt;\n        &lt;div onClick={this.copyClipBoard}&gt;\n        CLICK\n        &lt;/div&gt;\n      &lt;/&gt;\n\n    )\n  }\n}\n\nexport default CopyToClipboard\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3681, "user_id": 1266190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/588fa0e9fbe15e3c247eb892923bf11b?s=128&d=identicon&r=PG", "display_name": "Alexander van Oostenrijk", "link": "https://stackoverflow.com/users/1266190/alexander-van-oostenrijk"}, "edited": false, "score": 7, "creation_date": 1576768329, "post_id": 59411257, "comment_id": 105011963, "body": "Please add an explanation of how this code solves the problem, rather than just posting code."}], "tags": [], "owner": {"reputation": 11, "user_id": 5506780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e34b7c33069d9b4960a97504ac61f50?s=128&d=identicon&r=PG&f=1", "display_name": "bob", "link": "https://stackoverflow.com/users/5506780/bob"}, "is_accepted": false, "score": 0, "last_activity_date": 1576806812, "last_edit_date": 1576806812, "creation_date": 1576763947, "answer_id": 59411257, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/59411257#59411257", "title": "In reactJS, how to copy text to clipboard?", "body": "<pre><code>&lt;input\nvalue={get(data, \"api_key\")}\nstyleName=\"input-wrap\"\ntitle={get(data, \"api_key\")}\nref={apikeyObjRef}\n/&gt;\n  &lt;div\nonClick={() =&gt; {\n  apikeyObjRef.current.select();\n  if (document.execCommand(\"copy\")) {\n    document.execCommand(\"copy\");\n  }\n}}\nstyleName=\"copy\"\n&gt;\n  \u590d\u5236\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 614, "user_id": 13809150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe0e4ee620abacd87ed154e3a94bae6c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/13809150/daniel"}, "edited": false, "score": 0, "creation_date": 1617502211, "post_id": 59586808, "comment_id": 118321483, "body": "doesn&#39;t work in firefox"}], "tags": [], "owner": {"reputation": 6127, "user_id": 1783588, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/mU0bj.png?s=128&g=1", "display_name": "jasonleonhard", "link": "https://stackoverflow.com/users/1783588/jasonleonhard"}, "is_accepted": false, "score": 6, "last_activity_date": 1578096842, "creation_date": 1578096842, "answer_id": 59586808, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/59586808#59586808", "title": "In reactJS, how to copy text to clipboard?", "body": "<h1>Here's another use case, if you would like to copy the current url to your clipboard:</h1>\n\n<h3>Define a method</h3>\n\n<pre><code>const copyToClipboard = e =&gt; {\n  navigator.clipboard.writeText(window.location.toString())\n}\n</code></pre>\n\n<h3>Call that method</h3>\n\n<pre><code>&lt;button copyToClipboard={shareLink}&gt;\n   Click to copy current url to clipboard\n&lt;/button&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2208, "user_id": 2172752, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c16c7a34114664cf0cd1c5cab0b02e4?s=128&d=identicon&r=PG", "display_name": "MartenCatcher", "link": "https://stackoverflow.com/users/2172752/martencatcher"}, "edited": false, "score": 1, "creation_date": 1579594661, "post_id": 59836018, "comment_id": 105808324, "body": "The best practice of SO is to accomplish your code with an explanation. Please, do it."}], "tags": [], "owner": {"reputation": 107, "user_id": 9338450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ryxJp.jpg?s=128&g=1", "display_name": "Haris George", "link": "https://stackoverflow.com/users/9338450/haris-george"}, "is_accepted": false, "score": 1, "last_activity_date": 1579672977, "last_edit_date": 1579672977, "creation_date": 1579591496, "answer_id": 59836018, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/59836018#59836018", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>If you want to select from the DIV instead of the text field, here is the code. The \"code\" is the value that has to be copied</p>\n\n<pre><code>import React from 'react'\nclass CopyToClipboard extends React.Component {\n\n  copyToClipboard(code) {\n    var textField = document.createElement('textarea')\n    textField.innerText = code\n    document.body.appendChild(textField)\n    textField.select()\n    document.execCommand('copy')\n    textField.remove()\n  }\n  render() {\n    return (\n      &lt;div onClick={this.copyToClipboard.bind(this, code)}&gt;\n        {code}\n      &lt;/div&gt;\n\n    )\n  }\n}\n\nexport default CopyToClipboard\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2569, "user_id": 356083, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/awxYs.jpg?s=128&g=1", "display_name": "f.khantsis", "link": "https://stackoverflow.com/users/356083/f-khantsis"}, "edited": false, "score": 0, "creation_date": 1585227255, "post_id": 60867400, "comment_id": 107690982, "body": "Your answer only contains the reference to another resource, but no specific answer. If the w3schools link as the correct solution, please type it up here."}], "tags": [], "owner": {"reputation": 83, "user_id": 12375749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92cf7010ff986dd57177a1998d60c2e4?s=128&d=identicon&r=PG&f=1", "display_name": "Iago Barreto", "link": "https://stackoverflow.com/users/12375749/iago-barreto"}, "is_accepted": false, "score": 1, "last_activity_date": 1585232749, "last_edit_date": 1585232749, "creation_date": 1585226095, "answer_id": 60867400, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/60867400#60867400", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>Found best way to do it. i mean the fastest way: w3school</p>\n\n<p><a href=\"https://www.w3schools.com/howto/howto_js_copy_clipboard.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/howto/howto_js_copy_clipboard.asp</a></p>\n\n<p>Inside a react functional component. Create a function named handleCopy:</p>\n\n<pre><code>function handleCopy() {\n  // get the input Element ID. Save the reference into copyText\n  var copyText = document.getElementById(\"mail\")\n  // select() will select all data from this input field filled  \n  copyText.select()\n  copyText.setSelectionRange(0, 99999)\n  // execCommand() works just fine except IE 8. as w3schools mention\n  document.execCommand(\"copy\")\n  // alert the copied value from text input\n  alert(`Email copied: ${copyText.value} `)\n}\n\n&lt;&gt;\n              &lt;input\n                readOnly\n                type=\"text\"\n                value=\"exemple@email.com\"\n                id=\"mail\"\n              /&gt;\n              &lt;button onClick={handleCopy}&gt;Copy email&lt;/button&gt;\n\n&lt;/&gt;\n</code></pre>\n\n<p>If not using React, w3schools also have one cool way to do this with tooltip included: <a href=\"https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_copy_clipboard2\" rel=\"nofollow noreferrer\">https://www.w3schools.com/howto/tryit.asp?filename=tryhow_js_copy_clipboard2</a>  </p>\n\n<p>If using React, a cool think to do: Use a Toastify to alert the message.\n<a href=\"https://github.com/fkhadra/react-toastify\" rel=\"nofollow noreferrer\">https://github.com/fkhadra/react-toastify</a> This is the lib very easy to use.\nAfter installation, you may be able to change this line:</p>\n\n<pre><code> alert(`Email copied: ${copyText.value} `)\n</code></pre>\n\n<p>For something like:</p>\n\n<pre><code>toast.success(`Email Copied: ${copyText.value} `)\n</code></pre>\n\n<p>If you want to use it, dont forget to Install toastify. import ToastContainer and also toasts css:</p>\n\n<pre><code>import { ToastContainer, toast } from \"react-toastify\"\nimport \"react-toastify/dist/ReactToastify.css\"\n</code></pre>\n\n<p>and add the toast container inside return. </p>\n\n<pre><code>import React from \"react\"\n\nimport { ToastContainer, toast } from \"react-toastify\"\nimport \"react-toastify/dist/ReactToastify.css\"\n\n\nexport default function Exemple() {\n  function handleCopy() {\n    var copyText = document.getElementById(\"mail\")\n    copyText.select()\n    copyText.setSelectionRange(0, 99999)\n    document.execCommand(\"copy\")\n    toast.success(`Hi! Now you can: ctrl+v: ${copyText.value} `)\n  }\n\n  return (\n    &lt;&gt;\n      &lt;ToastContainer /&gt;\n      &lt;Container&gt;\n                &lt;span&gt;E-mail&lt;/span&gt;\n              &lt;input\n                readOnly\n                type=\"text\"\n                value=\"myemail@exemple.com\"\n                id=\"mail\"\n              /&gt;\n              &lt;button onClick={handleCopy}&gt;Copy Email&lt;/button&gt;\n      &lt;/Container&gt;\n    &lt;/&gt;\n  )\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 9200447, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-IzwyzERo6as/AAAAAAAAAAI/AAAAAAAAF9w/e3w5r9wY8Dg/photo.jpg?sz=128", "display_name": "Edgar Mej&#237;a", "link": "https://stackoverflow.com/users/9200447/edgar-mej%c3%ada"}, "edited": false, "score": 1, "creation_date": 1602136141, "post_id": 61166899, "comment_id": 113625676, "body": "Best request by the way"}, {"owner": {"reputation": 160, "user_id": 12374138, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-foqkWNKjdwM/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-icDLVd8SU3TBTA2wZX1-X2HzY8uw/mo/photo.jpg?sz=128", "display_name": "RomanSorin", "link": "https://stackoverflow.com/users/12374138/romansorin"}, "edited": false, "score": 1, "creation_date": 1612944725, "post_id": 61166899, "comment_id": 116921059, "body": "It doesn&#39;t work in IE11"}, {"owner": {"reputation": 1297, "user_id": 11611288, "user_type": "registered", "profile_image": "https://graph.facebook.com/432283524263015/picture?type=large", "display_name": "jerryurenaa", "link": "https://stackoverflow.com/users/11611288/jerryurenaa"}, "edited": false, "score": 0, "creation_date": 1612999043, "post_id": 61166899, "comment_id": 116944647, "body": "I updated the answer to support older browsers! thanks for commenting."}, {"owner": {"reputation": 337, "user_id": 12011534, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCoPCRWwCl37VQyM6z6DK_KxSvVdrxjr82eKvz-jA=k-s128", "display_name": "Rodrigo Ramirez", "link": "https://stackoverflow.com/users/12011534/rodrigo-ramirez"}, "edited": false, "score": 0, "creation_date": 1613956292, "post_id": 61166899, "comment_id": 117228091, "body": "I&#39;m getting the following error: <code>TypeError: Cannot read property &#39;setData&#39; of undefined</code>"}, {"owner": {"reputation": 1297, "user_id": 11611288, "user_type": "registered", "profile_image": "https://graph.facebook.com/432283524263015/picture?type=large", "display_name": "jerryurenaa", "link": "https://stackoverflow.com/users/11611288/jerryurenaa"}, "edited": false, "score": 0, "creation_date": 1614008821, "post_id": 61166899, "comment_id": 117246169, "body": "the 2nd example is only to be used with old browsers ex: internet explorer 11. For new browsers use the first example."}, {"owner": {"reputation": 770, "user_id": 10550562, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/i1CGM.jpg?s=128&g=1", "display_name": "Abdul Basit", "link": "https://stackoverflow.com/users/10550562/abdul-basit"}, "edited": false, "score": 0, "creation_date": 1617343041, "post_id": 61166899, "comment_id": 118282733, "body": "Does not work for safari"}], "tags": [], "owner": {"reputation": 1297, "user_id": 11611288, "user_type": "registered", "profile_image": "https://graph.facebook.com/432283524263015/picture?type=large", "display_name": "jerryurenaa", "link": "https://stackoverflow.com/users/11611288/jerryurenaa"}, "is_accepted": false, "score": 51, "last_activity_date": 1612998904, "last_edit_date": 1612998904, "creation_date": 1586665993, "answer_id": 61166899, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/61166899#61166899", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>You can get this done without the need of an external library, e.g: within a button</p>\n<pre class=\"lang-js prettyprint-override\"><code>&lt;button \n  onClick={() =&gt;  navigator.clipboard.writeText('Copy this text to clipboard')}\n&gt;\n  Copy\n&lt;/button&gt;\n</code></pre>\n<p>for internet explorer 11 and older browsers you might need to change the code a bit here is an example:</p>\n<pre><code>&lt;button \n  onClick={() =&gt;  window.clipboardData.setData(&quot;Text&quot;, 'Copy this text to clipboard')}&gt;\n Copy\n&lt;/button&gt;\n</code></pre>\n<p>Hope this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 367, "user_id": 10880148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6144ef967654274e84aa44cb02a013be?s=128&d=identicon&r=PG&f=1", "display_name": "Jaman-Dedy", "link": "https://stackoverflow.com/users/10880148/jaman-dedy"}, "is_accepted": false, "score": 23, "last_activity_date": 1592297879, "creation_date": 1592297879, "answer_id": 62404717, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/62404717#62404717", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>Best solution with react hooks, no need of external libraries for that</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import React, { useState } from 'react';\r\n\r\nconst MyComponent = () =&gt; {\r\nconst [copySuccess, setCopySuccess] = useState('');\r\n\r\n// your function to copy here\r\n\r\n  const copyToClipBoard = async copyMe =&gt; {\r\n    try {\r\n      await navigator.clipboard.writeText(copyMe);\r\n      setCopySuccess('Copied!');\r\n    } catch (err) {\r\n      setCopySuccess('Failed to copy!');\r\n    }\r\n  };\r\n\r\nreturn (\r\n &lt;div&gt;\r\n    &lt;Button onClick={() =&gt; copyToClipBoard('some text to copy')}&gt;\r\n     Click here to copy\r\n     &lt;/Button&gt;\r\n  // after copying see the message here\r\n  {copySuccess}\r\n &lt;/div&gt;\r\n)\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>check here for further documentation about navigator.clip board <a href=\"https://developers.google.com/web/updates/2018/03/clipboardapi\" rel=\"noreferrer\">, navigator.clipboard documentation</a>\nnavigotor.clipboard is supported by a huge number of browser look here <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Clipboard\" rel=\"noreferrer\">supported browser</a></p>\n"}, {"tags": [], "owner": {"reputation": 448, "user_id": 11984368, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PsaYU.jpg?s=128&g=1", "display_name": "manoj patel", "link": "https://stackoverflow.com/users/11984368/manoj-patel"}, "is_accepted": false, "score": 1, "last_activity_date": 1598295280, "creation_date": 1598295280, "answer_id": 63567077, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/63567077#63567077", "title": "In reactJS, how to copy text to clipboard?", "body": "<pre><code> copyclip = (item) =&gt; {\n    var textField = document.createElement('textarea')\n    textField.innerText = item\n    document.body.appendChild(textField)\n    textField.select()\n    document.execCommand('copy')\n    this.setState({'copy':&quot;Copied&quot;});\n    textField.remove()\n    setTimeout(() =&gt; {\n      this.setState({'copy':&quot;&quot;});\n    }, 1000);\n }\n\n &lt;span   className=&quot;cursor-pointer ml-1&quot; onClick={()=&gt; this.copyclip(passTextFromHere)} &gt;Copy&lt;/span&gt; &lt;small&gt;{this.state.copy}&lt;/small&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 389, "user_id": 6037103, "user_type": "registered", "accept_rate": 0, "profile_image": "https://graph.facebook.com/10154597590024266/picture?type=large", "display_name": "Ugur Yilmaz", "link": "https://stackoverflow.com/users/6037103/ugur-yilmaz"}, "is_accepted": false, "score": 2, "last_activity_date": 1600711982, "creation_date": 1600711982, "answer_id": 63997826, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/63997826#63997826", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>navigator.clipboard doesn't work over http connection according to their document. So you can check if it's coming undefined and use document.execCommand('copy') instead, this solution should cover almost all the browsers</p>\n<pre><code>const defaultCopySuccessMessage = 'ID copied!'\n\nconst CopyItem = (props) =&gt; {\n  const { copySuccessMessage = defaultCopySuccessMessage, value } = props\n\n  const [showCopySuccess, setCopySuccess] = useState(false)\n\n\n  function fallbackToCopy(text) {\n    if (window.clipboardData &amp;&amp; window.clipboardData.setData) {\n      // IE specific code path to prevent textarea being shown while dialog is visible.\n      return window.clipboardData.setData('Text', text)\n    } else if (document.queryCommandSupported &amp;&amp; document.queryCommandSupported('copy')) {\n      const textarea = document.createElement('textarea')\n      textarea.innerText = text\n      // const parentElement=document.querySelector(&quot;.up-CopyItem-copy-button&quot;)\n      const parentElement = document.getElementById('copy')\n      if (!parentElement) {\n        return\n      }\n      parentElement.appendChild(textarea)\n      textarea.style.position = 'fixed' // Prevent scrolling to bottom of page in MS Edge.\n      textarea.select()\n      try {\n        setCopySuccess(true)\n        document.execCommand('copy') // Security exception may be thrown by some browsers.\n      } catch (ex) {\n        console.log('Copy to clipboard failed.', ex)\n        return false\n      } finally {\n        parentElement.removeChild(textarea)\n      }\n    }\n  }\n\n  const copyID = () =&gt; {\n    if (!navigator.clipboard) {\n      fallbackToCopy(value)\n      return\n    }\n    navigator.clipboard.writeText(value)\n    setCopySuccess(true)\n  }\n\n  return showCopySuccess ? (\n    &lt;p&gt;{copySuccessMessage}&lt;/p&gt;\n  ) : (\n    &lt;span id=&quot;copy&quot;&gt;\n      &lt;button onClick={copyID}&gt;Copy Item &lt;/button&gt;\n    &lt;/span&gt;\n  )\n}\n</code></pre>\n<p>And you can just call and reuse the component anywhere you'd like to</p>\n<pre><code>const Sample=()=&gt;(\n   &lt;CopyItem value=&quot;item-to-copy&quot;/&gt;\n)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 88, "user_id": 2805682, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V9TUs.jpg?s=128&g=1", "display_name": "tomnyson", "link": "https://stackoverflow.com/users/2805682/tomnyson"}, "is_accepted": false, "score": 4, "last_activity_date": 1600922639, "creation_date": 1600922639, "answer_id": 64039695, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/64039695#64039695", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>use this command to pass your value to the function</p>\n<pre><code>var promise = navigator.clipboard.writeText(newClipText)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 681, "user_id": 13209976, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/acKip.png?s=128&g=1", "display_name": "Blessing", "link": "https://stackoverflow.com/users/13209976/blessing"}, "is_accepted": false, "score": 0, "last_activity_date": 1603776827, "creation_date": 1603776827, "answer_id": 64548787, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/64548787#64548787", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>You can also use react hooks into function components or stateless components with this piece of code:\nPS: Make sure you install useClippy through npm/yarn with this command:\nnpm install use-clippy or\nyarn add use-clippy</p>\n<pre><code>import React from 'react';\nimport useClippy from 'use-clippy';\n\nexport default function YourComponent() {\n\n// clipboard is the contents of the user's clipboard.\n  // setClipboard('new value') wil set the contents of the user's clipboard.\n\n  const [clipboard, setClipboard] = useClippy();\n\n  return (\n    &lt;div&gt;\n\n      {/* Button that demonstrates reading the clipboard. */}\n      &lt;button\n        onClick={() =&gt; {\n          alert(`Your clipboard contains: ${clipboard}`);\n        }}\n      &gt;\n        Read my clipboard\n      &lt;/button&gt;\n\n      {/* Button that demonstrates writing to the clipboard. */}\n      &lt;button\n        onClick={() =&gt; {\n          setClipboard(`Random number: ${Math.random()}`);\n        }}\n      &gt;\n        Copy something\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 614, "user_id": 13809150, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe0e4ee620abacd87ed154e3a94bae6c?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/13809150/daniel"}, "edited": false, "score": 1, "creation_date": 1617502303, "post_id": 64597564, "comment_id": 118321492, "body": "The toast at the end is a nice touch. Should probably add a toastId so it doesn&#39;t spam the ui with notifications if they click it more than once though. Not that that is super relevant for this question."}], "tags": [], "owner": {"reputation": 141, "user_id": 3969875, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e285a9248b51277b1ea574c706c235a2?s=128&d=identicon&r=PG", "display_name": "Antonio Carlos Ara&#250;jo", "link": "https://stackoverflow.com/users/3969875/antonio-carlos-ara%c3%bajo"}, "is_accepted": false, "score": 4, "last_activity_date": 1605545760, "last_edit_date": 1605545760, "creation_date": 1603997943, "answer_id": 64597564, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard/64597564#64597564", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>This work for me:</p>\n<pre><code>const handleCopyLink = useCallback(() =&gt; {\n    const textField = document.createElement('textarea')\n    textField.innerText = url\n    document.body.appendChild(textField)\n    if (window.navigator.platform === 'iPhone') {\n      textField.setSelectionRange(0, 99999)\n    } else {\n      textField.select()\n    }\n    document.execCommand('copy')\n    textField.remove()\n    \n    toast.success('Link successfully copied')\n  }, [url])\n</code></pre>\n"}], "owner": {"reputation": 18219, "user_id": 627492, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a65ecbb7d583a75511cff7d78dd7d6e7?s=128&d=identicon&r=PG", "display_name": "Duke Dougal", "link": "https://stackoverflow.com/users/627492/duke-dougal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199431, "favorite_count": 47, "answer_count": 21, "score": 217, "last_activity_date": 1612998904, "creation_date": 1473897138, "last_edit_date": 1473900587, "question_id": 39501289, "link": "https://stackoverflow.com/questions/39501289/in-reactjs-how-to-copy-text-to-clipboard", "title": "In reactJS, how to copy text to clipboard?", "body": "<p>I'm using ReactJS and when a user clicks a link I want to copy some text to the clipboard.</p>\n\n<p>I am using Chrome 52 and I do not need to support any other browsers.</p>\n\n<p>I can't see why this code does not result in the data being copied to the clipboard. (the origin of the code snippet is from a Reddit post).</p>\n\n<p>Am I doing this wrong? Can anyone suggest is there a \"correct\" way to implement copy to clipboard using reactjs?</p>\n\n<pre><code>copyToClipboard = (text) =&gt; {\n  console.log('text', text)\n  var textField = document.createElement('textarea')\n  textField.innerText = text\n  document.body.appendChild(textField)\n  textField.select()\n  document.execCommand('copy')\n  textField.remove()\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", "asp.net-mvc"], "comments": [{"owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "edited": false, "score": 0, "creation_date": 1473897148, "post_id": 39501242, "comment_id": 66319929, "body": "Where is the code you shared located? Is it in a View or in an Action method? We need that info to be able to help you correctly."}, {"owner": {"reputation": 1598, "user_id": 959912, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3Y1IU.jpg?s=128&g=1", "display_name": "Botonomous", "link": "https://stackoverflow.com/users/959912/botonomous"}, "edited": false, "score": 0, "creation_date": 1473897456, "post_id": 39501242, "comment_id": 66320015, "body": "Also why are you outputting script tags with Response.Write()? We need to know what you are trying to achieve."}, {"owner": {"reputation": 162, "user_id": 5067376, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-Vsu8E7rmS04/AAAAAAAAAAI/AAAAAAAACaU/rfLmh1rhLsU/photo.jpg?sz=128", "display_name": "Alexandre Lima", "link": "https://stackoverflow.com/users/5067376/alexandre-lima"}, "reply_to_user": {"reputation": 1598, "user_id": 959912, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/3Y1IU.jpg?s=128&g=1", "display_name": "Botonomous", "link": "https://stackoverflow.com/users/959912/botonomous"}, "edited": false, "score": 0, "creation_date": 1473897971, "post_id": 39501242, "comment_id": 66320132, "body": "@Botonomous, to give a message to the user, &quot;name or invalid email&quot;"}, {"owner": {"reputation": 162, "user_id": 5067376, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-Vsu8E7rmS04/AAAAAAAAAAI/AAAAAAAACaU/rfLmh1rhLsU/photo.jpg?sz=128", "display_name": "Alexandre Lima", "link": "https://stackoverflow.com/users/5067376/alexandre-lima"}, "reply_to_user": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "edited": false, "score": 0, "creation_date": 1473897989, "post_id": 39501242, "comment_id": 66320136, "body": "@SomadinaMbadiwe it is a view"}, {"owner": {"reputation": 2884, "user_id": 6564115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Xf5H.png?s=128&g=1", "display_name": "AT-2017", "link": "https://stackoverflow.com/users/6564115/at-2017"}, "edited": false, "score": 0, "creation_date": 1473899225, "post_id": 39501242, "comment_id": 66320448, "body": "Please write what you are trying to do? In what case do you want to use it?"}, {"owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "edited": false, "score": 0, "creation_date": 1473899319, "post_id": 39501242, "comment_id": 66320473, "body": "@Alexandre, see my answer on how you should go about it. As pointed out by above, it&#39;s not clear why you&#39;re doing what you&#39;re doing; so I&#39;ve restricted myself to helping you solve the exact problem you posted."}, {"owner": {"reputation": 3274, "user_id": 1639515, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Js0Iq.jpg?s=128&g=1", "display_name": "Jaya", "link": "https://stackoverflow.com/users/1639515/jaya"}, "edited": false, "score": 2, "creation_date": 1473899726, "post_id": 39501242, "comment_id": 66320562, "body": "if you build the validation into your view model, you can do simple validation   by using MVC annotations on your model and reflect them in your view appropriately - here is a link that might help <a href=\"http://www.asp.net/mvc/overview/older-versions-1/models-data/performing-simple-validation-cs\" rel=\"nofollow noreferrer\">asp.net/mvc/overview/older-versions-1/models-data/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user3559349"}, "edited": false, "score": 0, "creation_date": 1473903333, "post_id": 39501242, "comment_id": 66321233, "body": "Unclear what your trying to do with this code, other than to say your taking the wrong approach. Validation, both client side and server side is built into MVC and you should start by reading <a href=\"http://www.asp.net/mvc/overview/getting-started/introduction/adding-validation\" rel=\"nofollow noreferrer\">Adding Validation</a>"}, {"owner": {"reputation": 162, "user_id": 5067376, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-Vsu8E7rmS04/AAAAAAAAAAI/AAAAAAAACaU/rfLmh1rhLsU/photo.jpg?sz=128", "display_name": "Alexandre Lima", "link": "https://stackoverflow.com/users/5067376/alexandre-lima"}, "reply_to_user": {"reputation": 2884, "user_id": 6564115, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/9Xf5H.png?s=128&g=1", "display_name": "AT-2017", "link": "https://stackoverflow.com/users/6564115/at-2017"}, "edited": false, "score": 0, "creation_date": 1473909043, "post_id": 39501242, "comment_id": 66322426, "body": "@AT-2016 In fact is not validation is an authentication, Model.ErrorMessage returns a message if the user and password is invalid, so I just want to display a javascript message to the User saying it fou not authenticated, and the way I&#39;m doing as the above code is not working out as not display any alert on the screen."}, {"owner": {"reputation": 145, "user_id": 5782377, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23252e2b3078a1cfb965c667adbea49c?s=128&d=identicon&r=PG&f=1", "display_name": "JPG", "link": "https://stackoverflow.com/users/5782377/jpg"}, "edited": false, "score": 0, "creation_date": 1473961816, "post_id": 39501242, "comment_id": 66350426, "body": "JS posted the answer that you&#39;re looking for if you want to inform the user of a model error, like your post suggests that you are. Why you would want to should an alert specifically instead of just printing the ValidationSummary?"}], "answers": [{"tags": [], "owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "is_accepted": false, "score": 0, "last_activity_date": 1473898957, "last_edit_date": 1473898957, "creation_date": 1473898642, "answer_id": 39501457, "question_id": 39501242, "link": "https://stackoverflow.com/questions/39501242/how-to-answer-the-javascript-in-an-asp-net-mvc-view/39501457#39501457", "title": "how to answer the JavaScript in an asp.net mvc view?", "body": "<p>If it's a View, then you might be better off using Javascript/JQuery. To do that, you'll need to add a hidden field somewhere in your HTML and set the value to <code>Model.ErrorMessage</code>. Like this:</p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"hdError\" value=\"@Model.ErrorMessage\" /&gt;\n</code></pre>\n\n<p>Then at the end of your HTML body, you add the Javascript code:</p>\n\n<pre><code>&lt;script&gt;\n$(function() {\n    var errorStr = $(\"#hdError\").val();\n    if (errorStr) {\n        alert(\"hello\"); //or any other alert message\n    } \n});\n&lt;/script&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 162, "user_id": 5067376, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-Vsu8E7rmS04/AAAAAAAAAAI/AAAAAAAACaU/rfLmh1rhLsU/photo.jpg?sz=128", "display_name": "Alexandre Lima", "link": "https://stackoverflow.com/users/5067376/alexandre-lima"}, "edited": false, "score": 0, "creation_date": 1473963864, "post_id": 39516381, "comment_id": 66351563, "body": "I want to do with javascript to display a modal Bootstrap"}], "tags": [], "owner": {"reputation": 3274, "user_id": 1639515, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/Js0Iq.jpg?s=128&g=1", "display_name": "Jaya", "link": "https://stackoverflow.com/users/1639515/jaya"}, "is_accepted": true, "score": 1, "last_activity_date": 1473958053, "creation_date": 1473958053, "answer_id": 39516381, "question_id": 39501242, "link": "https://stackoverflow.com/questions/39501242/how-to-answer-the-javascript-in-an-asp-net-mvc-view/39516381#39516381", "title": "how to answer the JavaScript in an asp.net mvc view?", "body": "<p>@Alexandre Lima,\nAs pointed out in comments by others and I agree too, not sure if your approach is right or if it is then we need more information, that said, You have the following options</p>\n\n<ol>\n<li>Use simple data validations on your view models to notify users of\nan invalid email - this is built into MVC for you - MVC's data\nannotation. Here are links\n<a href=\"http://www.asp.net/mvc/overview/older-versions-1/models-data/performing-simple-validation-cs\" rel=\"nofollow\">http://www.asp.net/mvc/overview/older-versions-1/models-data/performing-simple-validation-cs</a></li>\n<li><p>From your comment, looks like you want to display something on login\nfailures , meaning your server code got back saying <code>Auth failed</code>,\nif that is the case, am assuming here you have something like this\non your controller code</p>\n\n<pre><code>public ActionResult Login(LoginModel login)\n{\n   if(ModelState.IsValid)\n   {\n      //you call your service to get back the result\n\n      if(!NotAValidUser)\n      { \n         ModelState.AddModelError(\"LoginFailed\", \"The user name and or password is incorrect.\")\n      }\n   }\n}\n</code></pre>\n\n<p><em>in your View</em></p>\n\n<pre><code>@Html.ValidationMessage(\"LoginFailed\") // this will display the above message\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 162, "user_id": 5067376, "user_type": "registered", "accept_rate": 25, "profile_image": "https://lh6.googleusercontent.com/-Vsu8E7rmS04/AAAAAAAAAAI/AAAAAAAACaU/rfLmh1rhLsU/photo.jpg?sz=128", "display_name": "Alexandre Lima", "link": "https://stackoverflow.com/users/5067376/alexandre-lima"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 189, "favorite_count": 0, "accepted_answer_id": 39516381, "answer_count": 2, "score": -1, "last_activity_date": 1473964292, "creation_date": 1473896752, "last_edit_date": 1473964292, "question_id": 39501242, "link": "https://stackoverflow.com/questions/39501242/how-to-answer-the-javascript-in-an-asp-net-mvc-view", "title": "how to answer the JavaScript in an asp.net mvc view?", "body": "<p>I have this code:</p>\n\n<pre><code>@if (!string.IsNullOrWhiteSpace(Model.ErrorMessage))\n{\n    &lt;script&gt;\n        $('#modalError').modal('show');\n    &lt;/script&gt;\n\n    Response.Write(\"&lt;script&gt;alert('hello');&lt;/script&gt;\");\n\n    HttpContext.Current.Response.Write(\"&lt;script&gt;alert('hello');&lt;/script&gt;\");\n}\n</code></pre>\n\n<p>Where check if Model.Error Message is different from empty, so I an alert to the user, but none of the forms submitted by the condition if this working, how can it be done?</p>\n\n<p>already I tried so:</p>\n\n<pre><code>@if (!String.IsNullOrEmpty(ViewData[\"erro\"] as string))\n{\n    &lt;script&gt;alert(@ViewData[\"erro\"]);&lt;/script&gt;\n\n}\n</code></pre>\n\n<p>This and a part of the view.</p>\n\n<p>My controller this way:</p>\n\n<pre><code>public ActionResult Login(LoginViewModel model, SignInMessage message)\n        {\n            if (!String.IsNullOrEmpty(model.ErrorMessage))\n                ViewData[\"erro\"] = !String.IsNullOrEmpty(model.ErrorMessage) ? model.ErrorMessage : null;\n\n            return this.View(model);\n        }\n</code></pre>\n\n<p>I want to display a javascript message because I will use the modal Bootstrap</p>\n"}, {"tags": ["javascript", "angularjs", "md-autocomplete"], "answers": [{"tags": [], "owner": {"reputation": 191, "user_id": 2298011, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ONrQU.jpg?s=128&g=1", "display_name": "Jan Nielsen", "link": "https://stackoverflow.com/users/2298011/jan-nielsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1474014487, "creation_date": 1474014487, "answer_id": 39526913, "question_id": 39501236, "link": "https://stackoverflow.com/questions/39501236/manually-invoke-md-autocomplete-dropdown/39526913#39526913", "title": "Manually invoke md-autocomplete dropdown", "body": "<p>It could be the md-min-length equals a number larger than 0,</p>\n\n<pre><code>&lt;md-autocomplete\nmd-min-length=\"0\"&gt;\n&lt;/md-autocomplete&gt;\n</code></pre>\n\n<p>This solved a similar issue that I had some time ago :)</p>\n"}], "owner": {"reputation": 1353, "user_id": 2585366, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/0040b5c5fe6551fce0bca404c31c4d4e?s=128&d=identicon&r=PG", "display_name": "Nick", "link": "https://stackoverflow.com/users/2585366/nick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474014487, "creation_date": 1473896710, "question_id": 39501236, "link": "https://stackoverflow.com/questions/39501236/manually-invoke-md-autocomplete-dropdown", "title": "Manually invoke md-autocomplete dropdown", "body": "<p>When the md-autocomplete input box is first clicked, the autocomplete drop-down doesn't appear until the first character is typed. I haven't been able to figure out why the autocomplete isn't showing upon first click, as it shows in the demos. </p>\n\n<p>As a workaround, is there a way to manually invoke the autocomplete functionality in a javascript method? So I could have something like:</p>\n\n<pre><code>&lt;md-autocomplete ng-click=\"manuallyInvokingAutocomplete()\" /&gt;\n</code></pre>\n"}, {"tags": ["javascript", "vue.js"], "comments": [{"owner": {"reputation": 969, "user_id": 900362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/SuS8F.jpg?s=128&g=1", "display_name": "Hector Lorenzo", "link": "https://stackoverflow.com/users/900362/hector-lorenzo"}, "edited": false, "score": 0, "creation_date": 1473897410, "post_id": 39501211, "comment_id": 66320002, "body": "So far this is what I&#39;m doing: <code>if (this._events[&#39;df.submit&#39;].length &gt; 1) return false</code>. It&#39;s an awful solution."}, {"owner": {"reputation": 28188, "user_id": 191226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMn3c.jpg?s=128&g=1", "display_name": "Bill Criswell", "link": "https://stackoverflow.com/users/191226/bill-criswell"}, "edited": false, "score": 1, "creation_date": 1473903239, "post_id": 39501211, "comment_id": 66321225, "body": "The methods should overwrite each other. Are you talking about lifecycle methods?"}, {"owner": {"reputation": 969, "user_id": 900362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/SuS8F.jpg?s=128&g=1", "display_name": "Hector Lorenzo", "link": "https://stackoverflow.com/users/900362/hector-lorenzo"}, "reply_to_user": {"reputation": 28188, "user_id": 191226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMn3c.jpg?s=128&g=1", "display_name": "Bill Criswell", "link": "https://stackoverflow.com/users/191226/bill-criswell"}, "edited": false, "score": 0, "creation_date": 1473920441, "post_id": 39501211, "comment_id": 66325596, "body": "Sorry, it&#39;s events. And I don&#39;t think methods override each other."}, {"owner": {"reputation": 28188, "user_id": 191226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMn3c.jpg?s=128&g=1", "display_name": "Bill Criswell", "link": "https://stackoverflow.com/users/191226/bill-criswell"}, "edited": false, "score": 1, "creation_date": 1473939404, "post_id": 39501211, "comment_id": 66336139, "body": "<a href=\"https://jsfiddle.net/crswll/0m3eogp0/\" rel=\"nofollow noreferrer\">jsfiddle.net/crswll/0m3eogp0</a> it looks like they do."}, {"owner": {"reputation": 969, "user_id": 900362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/SuS8F.jpg?s=128&g=1", "display_name": "Hector Lorenzo", "link": "https://stackoverflow.com/users/900362/hector-lorenzo"}, "reply_to_user": {"reputation": 28188, "user_id": 191226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMn3c.jpg?s=128&g=1", "display_name": "Bill Criswell", "link": "https://stackoverflow.com/users/191226/bill-criswell"}, "edited": false, "score": 0, "creation_date": 1473989840, "post_id": 39501211, "comment_id": 66360800, "body": "Have you removed the jsfiddle? Can I take a look?"}, {"owner": {"reputation": 969, "user_id": 900362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/SuS8F.jpg?s=128&g=1", "display_name": "Hector Lorenzo", "link": "https://stackoverflow.com/users/900362/hector-lorenzo"}, "reply_to_user": {"reputation": 28188, "user_id": 191226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MMn3c.jpg?s=128&g=1", "display_name": "Bill Criswell", "link": "https://stackoverflow.com/users/191226/bill-criswell"}, "edited": false, "score": 1, "creation_date": 1473990131, "post_id": 39501211, "comment_id": 66360855, "body": "You are right, they don&#39;t! From the docs: <code>Options that expect object values, for example methods, components and directives, will be merged into the same object.</code>. Thanks man!"}], "answers": [{"tags": [], "owner": {"reputation": 969, "user_id": 900362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/SuS8F.jpg?s=128&g=1", "display_name": "Hector Lorenzo", "link": "https://stackoverflow.com/users/900362/hector-lorenzo"}, "is_accepted": true, "score": 3, "last_activity_date": 1473990336, "creation_date": 1473990336, "answer_id": 39522686, "question_id": 39501211, "link": "https://stackoverflow.com/questions/39501211/overriding-mixins-functions-in-vue-js/39522686#39522686", "title": "Overriding mixins functions in Vue.js", "body": "<p>So, as Bill Criswell points out in the comments, this is only a problem with <code>events</code> and other hook functions. From the docs:</p>\n\n<blockquote>\n  <p>For example, hook functions with the same name are merged into an\n  array so that all of them will be called.</p>\n</blockquote>\n\n<p>But <code>methods</code>, for example, won't. From the docs:</p>\n\n<blockquote>\n  <p>Options that expect object values, for example methods, components and\n  directives, will be merged into the same object.</p>\n</blockquote>\n\n<p>The solution is just then to execute a method from an event, instead of executing logic inside the event declaration.</p>\n"}], "owner": {"reputation": 969, "user_id": 900362, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/SuS8F.jpg?s=128&g=1", "display_name": "Hector Lorenzo", "link": "https://stackoverflow.com/users/900362/hector-lorenzo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4770, "favorite_count": 0, "accepted_answer_id": 39522686, "answer_count": 1, "score": 3, "last_activity_date": 1473990336, "creation_date": 1473896574, "question_id": 39501211, "link": "https://stackoverflow.com/questions/39501211/overriding-mixins-functions-in-vue-js", "title": "Overriding mixins functions in Vue.js", "body": "<p>Is there any way to override a mixin function in Vue.js?</p>\n\n<p>Maybe it's my mistake to be using Mixins in an OOP fashion, but I have a <code>Page</code> component with subtle variations but a common shared set of functions. To achieve this, I'm using an <code>AbstractPage</code> component and add it as a mixing for each <code>Page</code>.</p>\n\n<p>The problem comes when one specific <code>Page</code> requires a slightly different behaviour in one of the functions. Out of the box, Vue doesn't override the <code>parent</code> function, but it adds both in an array and executes them sequentially.</p>\n\n<p>Is there any way to override mixins functions? Or any idea on a workaround?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "arrays", "canvas"], "comments": [{"owner": {"reputation": 94308, "user_id": 411591, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ecae50c4e29a4d18118ada1d417e7eb?s=128&d=identicon&r=PG", "display_name": "markE", "link": "https://stackoverflow.com/users/411591/marke"}, "edited": false, "score": 0, "creation_date": 1473897388, "post_id": 39501200, "comment_id": 66319996, "body": "Perhaps put a counter in the for-loops instead of just true/false? <code>var counter=0; for ... for ... if(...){counter++}</code> and <code>return(counter)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 45, "user_id": 6791481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecea650a06eed402d748d3c9c8be004c?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/6791481/bob"}, "edited": false, "score": 0, "creation_date": 1473897847, "post_id": 39501351, "comment_id": 66320095, "body": "What happens if its running under a loop? Then the number will increase under the loop a bajillion times."}, {"owner": {"reputation": 71, "user_id": 6832334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s50bk.jpg?s=128&g=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/6832334/jarvis"}, "reply_to_user": {"reputation": 45, "user_id": 6791481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecea650a06eed402d748d3c9c8be004c?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/6791481/bob"}, "edited": false, "score": 0, "creation_date": 1473897874, "post_id": 39501351, "comment_id": 66320104, "body": "Not sure what you mean. Do you have a 3rd loop?"}, {"owner": {"reputation": 45, "user_id": 6791481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecea650a06eed402d748d3c9c8be004c?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/6791481/bob"}, "edited": false, "score": 0, "creation_date": 1473897910, "post_id": 39501351, "comment_id": 66320112, "body": "I have a setInterval function which loops."}, {"owner": {"reputation": 71, "user_id": 6832334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s50bk.jpg?s=128&g=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/6832334/jarvis"}, "reply_to_user": {"reputation": 45, "user_id": 6791481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecea650a06eed402d748d3c9c8be004c?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/6791481/bob"}, "edited": false, "score": 0, "creation_date": 1473898017, "post_id": 39501351, "comment_id": 66320142, "body": "The variable, as I&#39;ve assigned outside the 2 loops, will reset every time this code block is executed."}, {"owner": {"reputation": 45, "user_id": 6791481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecea650a06eed402d748d3c9c8be004c?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/6791481/bob"}, "edited": false, "score": 0, "creation_date": 1473898980, "post_id": 39501351, "comment_id": 66320382, "body": "It worked, sorta, because somehow &quot;this&quot; didn&#39;t take any damage until the right-most defense was in range."}, {"owner": {"reputation": 71, "user_id": 6832334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s50bk.jpg?s=128&g=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/6832334/jarvis"}, "reply_to_user": {"reputation": 45, "user_id": 6791481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecea650a06eed402d748d3c9c8be004c?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/6791481/bob"}, "edited": false, "score": 0, "creation_date": 1473899261, "post_id": 39501351, "comment_id": 66320460, "body": "Well, this code snippet looks alright to me. Maybe there is a problem somewhere else.."}], "tags": [], "owner": {"reputation": 71, "user_id": 6832334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s50bk.jpg?s=128&g=1", "display_name": "Jarvis", "link": "https://stackoverflow.com/users/6832334/jarvis"}, "is_accepted": true, "score": 1, "last_activity_date": 1473897634, "creation_date": 1473897634, "answer_id": 39501351, "question_id": 39501200, "link": "https://stackoverflow.com/questions/39501200/detecting-multiple-array-coordinates-in-canvas/39501351#39501351", "title": "Detecting multiple array coordinates in canvas", "body": "<p>You can use an integer to store the value of how many defenses are in range and increment it whenever a defense has been found in range.</p>\n\n<p>Also, you must use 2 different variables when nesting loops.</p>\n\n<pre><code>this.defensesInRange = 0;\nfor (var x = 0; x &lt; buildArcherX.length; x++) {\n    for (var y = 0; y &lt; buildArcherY.length; y++) {\n        if (Math.sqrt(Math.pow(buildArcherX[x] - this.x, 2) + Math.pow(buildArcherY[y] - this.y, 2)) &lt;= arch.radius + 7) {\n            this.defensesInRange += 1;\n        }\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 6791481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecea650a06eed402d748d3c9c8be004c?s=128&d=identicon&r=PG&f=1", "display_name": "Bob", "link": "https://stackoverflow.com/users/6791481/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "accepted_answer_id": 39501351, "answer_count": 1, "score": 1, "last_activity_date": 1473897634, "creation_date": 1473896459, "question_id": 39501200, "link": "https://stackoverflow.com/questions/39501200/detecting-multiple-array-coordinates-in-canvas", "title": "Detecting multiple array coordinates in canvas", "body": "<p>Hello fellow programmers,</p>\n\n<p>Today I have a question that's related to one of my projects I'm making kinda like Tower Defense using canvas. However, I stuck on trying to detect multiple circles in one coordinate. Here's my example:</p>\n\n<pre><code>for (var a = 0; a &lt; buildArcherX.length; a++) {\n    for (var a = 0; a &lt; buildArcherY.length; a++) {\n        if (Math.sqrt(Math.pow(buildArcherX[a] - this.x, 2) + Math.pow(buildArcherY[a] - this.y, 2)) &lt;= arch.radius + 7) {\n            this.attackedByArcher = true;\n        } else {\n            this.attackedByArcher = false;\n        }\n    }\n}\n</code></pre>\n\n<p>As you can see in this example, I'm using arrays to put my coordinates in for my \"Defenses\". The for statements runs through all the \"defense\" coordinates in the arrays. The if statement in the code calculates if any of the defense coordinates are within \"this\" coordinates. This returns a boolean if any of the defenses are in range.</p>\n\n<p>However I got to this point, and then got stuck on this problem: What happens if multiple defenses are in range? Then \"this\" would need to take more damage. So I'm just wondering if I can show the <strong>number</strong> of defenses in range.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "math"], "comments": [{"owner": {"reputation": 4332, "user_id": 792066, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/fe47011419fe78b6f8411e909cee9215?s=128&d=identicon&r=PG", "display_name": "Braiam", "link": "https://stackoverflow.com/users/792066/braiam"}, "edited": false, "score": 0, "creation_date": 1473896656, "post_id": 39501187, "comment_id": 66319818, "body": "Did you read the fine docs?"}, {"owner": {"reputation": 223101, "user_id": 1529630, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/10bce2713c926168c985bfa9695c825d?s=128&d=identicon&r=PG", "display_name": "Oriol", "link": "https://stackoverflow.com/users/1529630/oriol"}, "edited": false, "score": 7, "creation_date": 1473896684, "post_id": 39501187, "comment_id": 66319824, "body": "I&#39;m voting to close this question as off-topic because the problem is a lack of minimal understanding of the underlying math concept. The question belongs to <a href=\"http://math.stackexchange.com/\">math.stackexchange.com</a>"}, {"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1473896757, "post_id": 39501187, "comment_id": 66319844, "body": "It would presumably do <code>angle % (2 * PI)</code> behind the scenes to get an angle into range."}, {"owner": {"reputation": 6681, "user_id": 3325478, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/512342994/picture?type=large", "display_name": "efarley", "link": "https://stackoverflow.com/users/3325478/efarley"}, "edited": false, "score": 0, "creation_date": 1473896816, "post_id": 39501187, "comment_id": 66319856, "body": "I understand the math behind figuring out a tangent angle, the question is that the Method doesn&#39;t use that math like you would expect. Asking this question outside of javascript developers is just going to result in the same response as googling how to find the angle of a tangent. I.e. Tangent = Opposite/Adjacent, which obviously this method isn&#39;t using."}, {"owner": {"reputation": 6681, "user_id": 3325478, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/512342994/picture?type=large", "display_name": "efarley", "link": "https://stackoverflow.com/users/3325478/efarley"}, "reply_to_user": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1473896965, "post_id": 39501187, "comment_id": 66319891, "body": "That doesn&#39;t work out @KenY-N, for example 90 / 2 * PI = 14.3239, where as Math.tan(90) = -1.995200412208242"}, {"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1473897001, "post_id": 39501187, "comment_id": 66319900, "body": "<code>%</code>, not <code>&#47;</code>, @efarley"}, {"owner": {"reputation": 223101, "user_id": 1529630, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/10bce2713c926168c985bfa9695c825d?s=128&d=identicon&r=PG", "display_name": "Oriol", "link": "https://stackoverflow.com/users/1529630/oriol"}, "edited": false, "score": 0, "creation_date": 1473897021, "post_id": 39501187, "comment_id": 66319903, "body": "&quot;Tangent&quot; is more general than &quot;Opposite/Adjacent&quot;. And 90 radians make completely sense, there is no need to restrict to [0,pi/2]. You are trying to use a function which does something you don&#39;t understand. You should first learn what the function is supposed to do."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1473898847, "post_id": 39501187, "comment_id": 66320348, "body": "You don&#39;t need Opposite and Adjacent, because they correspond to an angle, and <code>Math.tan()</code> takes the corresponding angle as the argument instead."}, {"owner": {"reputation": 292363, "user_id": 37213, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/eeec80237213c91e5bab56b77ac5b8ca?s=128&d=identicon&r=PG", "display_name": "duffymo", "link": "https://stackoverflow.com/users/37213/duffymo"}, "edited": false, "score": 0, "creation_date": 1473937118, "post_id": 39501187, "comment_id": 66334802, "body": "Unbelievable.  Has our math education fallen to this depth?"}], "answers": [{"comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 3, "creation_date": 1473897183, "post_id": 39501266, "comment_id": 66319939, "body": "&quot;even though it should&quot; --- it should for a <code>\u03c0 &#47; 2</code>, while you have <code>Math.PI &#47; 2</code>. <code>\u03c0</code> is irrational. &quot;However, Math.tan isn&#39;t very precise&quot; -- it&#39;s not <code>Math.tan</code> problem."}, {"owner": {"reputation": 6681, "user_id": 3325478, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/512342994/picture?type=large", "display_name": "efarley", "link": "https://stackoverflow.com/users/3325478/efarley"}, "edited": false, "score": 0, "creation_date": 1473897269, "post_id": 39501266, "comment_id": 66319963, "body": "it divides the sin by the cos, that&#39;s it! :)"}, {"owner": {"reputation": 17385, "user_id": 2714730, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/26d4fa31138c5c8ba1cb76392d9fc64d?s=128&d=identicon&r=PG", "display_name": "Josh Beam", "link": "https://stackoverflow.com/users/2714730/josh-beam"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1473897285, "post_id": 39501266, "comment_id": 66319967, "body": "@zerkms thanks for your comment. Good clarification. I meant that in the world outside of programming, <code>pi&#47;2</code> should be &quot;Inifinity&quot; or &quot;undefined&quot;, but we have limitations on what numbers we can hold in computer memory. So <code>Math.PI</code> in my browser, for example, is only <code>3.141592653589793</code>."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "reply_to_user": {"reputation": 6681, "user_id": 3325478, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/512342994/picture?type=large", "display_name": "efarley", "link": "https://stackoverflow.com/users/3325478/efarley"}, "edited": false, "score": 2, "creation_date": 1473897309, "post_id": 39501266, "comment_id": 66319973, "body": "@efarley which is entry level trigonometry..."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1473897315, "post_id": 39501266, "comment_id": 66319977, "body": "Yep. You better fix complaining on <code>Math.tan</code> precision though :-)"}, {"owner": {"reputation": 6681, "user_id": 3325478, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/512342994/picture?type=large", "display_name": "efarley", "link": "https://stackoverflow.com/users/3325478/efarley"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473897453, "post_id": 39501266, "comment_id": 66320013, "body": "@vlaz not really, since entry level trig tells you that it&#39;s the lengths of the opposite side over the adjacent side, nothing mentions dividing the sin over the cos. <a href=\"http://www.mathopenref.com/trigtangent.html\" rel=\"nofollow noreferrer\">mathopenref.com/trigtangent.html</a>"}, {"owner": {"reputation": 17385, "user_id": 2714730, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/26d4fa31138c5c8ba1cb76392d9fc64d?s=128&d=identicon&r=PG", "display_name": "Josh Beam", "link": "https://stackoverflow.com/users/2714730/josh-beam"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1473897493, "post_id": 39501266, "comment_id": 66320028, "body": "@zerkms, haha good call ;) edited my answer. Thanks."}, {"owner": {"reputation": 223101, "user_id": 1529630, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/10bce2713c926168c985bfa9695c825d?s=128&d=identicon&r=PG", "display_name": "Oriol", "link": "https://stackoverflow.com/users/1529630/oriol"}, "edited": false, "score": 0, "creation_date": 1473897605, "post_id": 39501266, "comment_id": 66320055, "body": "The question was about 90 rad, not 90&#176;"}, {"owner": {"reputation": 17385, "user_id": 2714730, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/26d4fa31138c5c8ba1cb76392d9fc64d?s=128&d=identicon&r=PG", "display_name": "Josh Beam", "link": "https://stackoverflow.com/users/2714730/josh-beam"}, "reply_to_user": {"reputation": 223101, "user_id": 1529630, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/10bce2713c926168c985bfa9695c825d?s=128&d=identicon&r=PG", "display_name": "Oriol", "link": "https://stackoverflow.com/users/1529630/oriol"}, "edited": false, "score": 0, "creation_date": 1473897657, "post_id": 39501266, "comment_id": 66320066, "body": "@Oriol, correct, thanks. I was giving a generalized example, but it&#39;s valid for 90 radians as well (the example was to describe exactly what tangent is, and pi/2, which is 90-degrees, is easier to reason about for the sake of the explanation)."}, {"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 1, "creation_date": 1473897889, "post_id": 39501266, "comment_id": 66320108, "body": "Btw, that&#39;s how <code>Math.tan</code> is implemented in a modern v8 (not a simple <code>sin&#47;cos</code> division anymore): <a href=\"https://github.com/v8/v8/blob/master/src/base/ieee754.cc#L2546\" rel=\"nofollow noreferrer\">github.com/v8/v8/blob/master/src/base/ieee754.cc#L2546</a>"}], "tags": [], "owner": {"reputation": 17385, "user_id": 2714730, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/26d4fa31138c5c8ba1cb76392d9fc64d?s=128&d=identicon&r=PG", "display_name": "Josh Beam", "link": "https://stackoverflow.com/users/2714730/josh-beam"}, "is_accepted": true, "score": 0, "last_activity_date": 1473897472, "last_edit_date": 1495541703, "creation_date": 1473896919, "answer_id": 39501266, "question_id": 39501187, "link": "https://stackoverflow.com/questions/39501187/how-does-math-tanx-actually-work-javascript/39501266#39501266", "title": "How does Math.tan(x) actually work? (Javascript)", "body": "<p>First let's talk about what a tangent is: Tangent is <code>y/x</code> for the coordinate at a specific point (see <a href=\"https://www.youtube.com/watch?v=FqqGm4sBxyk\" rel=\"nofollow noreferrer\">this YouTube video</a> for an example).</p>\n\n<p>So if you want the tangent of pi over 2, on a graph, that's at a 90 degree angle, so the coordinate is <code>(0, 1)</code>. Then you just divide <code>1/0</code>.</p>\n\n<p>However, <code>Math.tan</code> isn't very precise. In Chrome 52, <code>Math.tan(Math.PI / 2)</code> (from the video above) is <code>16331239353195370</code>, even though it should evaluate to the <code>Infinity</code> value in JavaScript (the mathematical value is actually undefined since it works out to <code>1/0</code>).</p>\n\n<p>According to <a href=\"https://stackoverflow.com/a/24472105/2714730\">this answer</a>, the V8 implementation is:</p>\n\n<pre><code>function MathTan(x) {\n  return MathSin(x) / MathCos(x);\n}\n</code></pre>\n\n<p>(As a side note: The value that Chrome actually outputs is larger than <code>Number.MAX_SAFE_INTEGER</code>, which you can prove by running <code>Number.MAX_SAFE_INTEGER &lt; Math.tan(Math.PI / 2) // =&gt; true</code>, so Chrome takes it to be \"close to infinity\".)</p>\n\n<h1>Edit</h1>\n\n<p>The reason for the lack of a precise value is that pi is generally represented as a fixed value (since we have limitations in computer memory), even though it should be \"Infinity\" or \"undefined\" outside of the context of programming. For example, in my browser, <code>Math.PI</code> is fixed at <code>3.141592653589793</code>.</p>\n"}], "owner": {"reputation": 6681, "user_id": 3325478, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/512342994/picture?type=large", "display_name": "efarley", "link": "https://stackoverflow.com/users/3325478/efarley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 358, "favorite_count": 0, "closed_date": 1475105120, "accepted_answer_id": 39501266, "answer_count": 1, "score": -6, "last_activity_date": 1473897472, "creation_date": 1473896391, "question_id": 39501187, "link": "https://stackoverflow.com/questions/39501187/how-does-math-tanx-actually-work-javascript", "closed_reason": "Not suitable for this site", "title": "How does Math.tan(x) actually work? (Javascript)", "body": "<p>I'm trying to understand the math behind the Math.tan method but it doesn't make any sense. Can someone please explain to me how it works?</p>\n\n<p>Firstly the mathematical formula to solve for a tangent angle is Tangent = Opposite/Adjacent. Which means I need to know two sides of the triangle to figure out the tangent angle. However the Math.tan method only accept a single argument in radians, not the length of two sides, so I don't understand how it's figuring out the angle of the tangent. </p>\n\n<p>Next in examples they show passing impossibly huge radian values into the method and getting back a value. For example, W3 schools shows the example of <code>Math.tan(90)</code> but 90 radians equals 5,156.6 degrees which is an impossible angle for a corner of a right triangle.</p>\n\n<p>How does this method work, what's happening behind the scenes that turns 90 radians into a tangent angle of -1.995200412208242 </p>\n"}, {"tags": ["javascript", "jquery", "reactjs", "react-jsx"], "comments": [{"owner": {"reputation": 6190, "user_id": 5029266, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7d4922cf09a8b3d3195cd4d848091ba3?s=128&d=identicon&r=PG", "display_name": "EugZol", "link": "https://stackoverflow.com/users/5029266/eugzol"}, "edited": false, "score": 1, "creation_date": 1473899057, "post_id": 39501129, "comment_id": 66320405, "body": "Why you have two returns in <code>Tag.render</code>? Only the first one will ever be called."}], "answers": [{"tags": [], "owner": {"reputation": 6190, "user_id": 5029266, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7d4922cf09a8b3d3195cd4d848091ba3?s=128&d=identicon&r=PG", "display_name": "EugZol", "link": "https://stackoverflow.com/users/5029266/eugzol"}, "is_accepted": true, "score": 1, "last_activity_date": 1473900325, "creation_date": 1473900325, "answer_id": 39501651, "question_id": 39501129, "link": "https://stackoverflow.com/questions/39501129/how-to-pass-value-from-included-components-state-back-to-parent-component/39501651#39501651", "title": "How to pass value from included component&#39;s state back to parent component?", "body": "<ol>\n<li><p>You don't need to set state in <code>componentDidMount</code> \u2014\u00a0remove that piece of code.</p></li>\n<li><p>Really, couldn't all of that...</p></li>\n</ol>\n\n<p><code>\n  _onChange: function(event) {\n     if(this.state.checked == false){\n       this.setState({\n         checked: true\n       });\n     } else {\n       this.setState({\n         checked: false\n       });\n     }\n  },\n</code></p>\n\n<p>be substituted with <code>_onChange: function(event) { this.setState(checked: !this.state.cheked) }</code>?</p>\n\n<ol start=\"3\">\n<li><code>allTags</code> should be passed as property, not as outer scope variable.</li>\n</ol>\n\n<p>Now to your main question.</p>\n\n<p>Move state to parent component (<code>ReviewForm</code>). You can have state as a hash with <code>{name: isChecked}</code> structure (<code>name</code> is Tag's name, and <code>isChecked</code> is boolean). Pass it down to <code>ReviewTag</code> and futher down to <code>Tag</code> as property. Also pass down your <code>_onChange</code> handler as property (it should be moved to parent component \u2014 <code>ReviewForm</code> \u2014\u00a0as well).</p>\n\n<p>So when the Tag is checked, it calls ReviewForm's handler, and ReviewForm's handler changes its own state accordingly.</p>\n"}], "owner": {"reputation": 1093, "user_id": 4158413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pDlXK.jpg?s=128&g=1", "display_name": "Robson", "link": "https://stackoverflow.com/users/4158413/robson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 39501651, "answer_count": 1, "score": 1, "last_activity_date": 1473900358, "creation_date": 1473895900, "last_edit_date": 1473900358, "question_id": 39501129, "link": "https://stackoverflow.com/questions/39501129/how-to-pass-value-from-included-components-state-back-to-parent-component", "title": "How to pass value from included component&#39;s state back to parent component?", "body": "<p>I have a problem to find a way to easy get state value from component in other component. When I click on any tag.</p>\n\n<p>I want to append value of tag to list state in Form component if tag is clicked. Is there any simply way to do this ?</p>\n\n<p>I have component like this:</p>\n\n<pre><code>var Tag = React.createClass({\n  getInitialState: function(){\n    return {\n      checked: false\n    };\n  },\n  componentDidMount: function() {\n    this.setState({\n      checked: false\n    });\n  },\n  _onChange: function(event) {\n     if(this.state.checked == false){\n       this.setState({\n         checked: true\n       });\n     } else {\n       this.setState({\n         checked: false\n       });\n     }\n  },\n  render: function() {\n    return (\n      &lt;div className=\"review-tag\"&gt;\n        &lt;input\n          type=\"checkbox\"\n          id={this.props.id}\n          name={this.props.name}\n          checked={this.state.checked}\n          value={this.props.id}/&gt;\n        &lt;label htmlFor={this.props.name} onClick={this._onChange}&gt;{this.props.name}&lt;/label&gt;\n      &lt;/div&gt;\n    );\n    return (\n      &lt;div&gt;\n        &lt;span&gt;{this.props.name}&lt;/span&gt;\n      &lt;/div&gt;\n    );\n  }\n});\n\nvar allTags = tags;\n\nvar ReviewTag = React.createClass({\n  render: function() {\n    const tagComps = allTags.map(function(tag){\n      return &lt;Tag {...tag}/&gt;;\n    });\n    return (\n      &lt;div&gt;\n        {tagComps}\n      &lt;/div&gt;\n    );\n  }\n});\n</code></pre>\n\n<p>Tag component have included value at rendering and I have to get value of each tag in my ReviewForm component which looks like this:</p>\n\n<pre><code>var fd = new FormData();\nvar ReviewForm = React.createClass({\n  getInitialState: function(){\n    return {\n      Author: '',\n      Tags: ''\n    };\n  },\n\n  componentDidMount: function() {\n    this.setState({\n      Author: author,\n      Tags: tags\n    });\n  },\n\n  submit: function (e){\n    var self;\n\n    e.preventDefault();\n    self = this;\n\n    var data = {\n      tags: this.state.Tags,\n      author: this.state.Author\n    };\n\n    for (var key in data) {\n      fd.append(key, data[key]);\n    }\n    $.ajax({\n      type: 'POST',\n      url: '/reviews/submit/',\n      data: fd,\n      processData: false,\n      contentType: false\n    })\n    .done(function(data) {\n      console.log('Review added successfully.');\n    })\n    .error(function(msg) {\n      var errors = msg.responseJSON;\n      console.log(errors);\n    });\n  },\n  render: function() {\n    &lt;div className=\"scolumn\"&gt;\n       &lt;ReviewTag/&gt;\n    &lt;/div&gt;\n  }\n})\n</code></pre>\n\n<p>Many thanks for any help.</p>\n"}, {"tags": ["javascript", "events", "javascript-events"], "comments": [{"owner": {"reputation": 2184, "user_id": 1736186, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WcKy8.jpg?s=128&g=1", "display_name": "instead", "link": "https://stackoverflow.com/users/1736186/instead"}, "edited": false, "score": 0, "creation_date": 1473896035, "post_id": 39501052, "comment_id": 66319661, "body": "What if You place <code>e.stopPropagation()</code> in first event listener? The body click"}, {"owner": {"reputation": 1, "user_id": 1201058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cfd6effef9771ac3b796ee986e3ca65?s=128&d=identicon&r=PG", "display_name": "user1201058", "link": "https://stackoverflow.com/users/1201058/user1201058"}, "reply_to_user": {"reputation": 2184, "user_id": 1736186, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WcKy8.jpg?s=128&g=1", "display_name": "instead", "link": "https://stackoverflow.com/users/1736186/instead"}, "edited": false, "score": 0, "creation_date": 1473897765, "post_id": 39501052, "comment_id": 66320079, "body": "Then the event wouldn&#39;t fire, right? Is the stop prog in the wrong place?"}, {"owner": {"reputation": 2184, "user_id": 1736186, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WcKy8.jpg?s=128&g=1", "display_name": "instead", "link": "https://stackoverflow.com/users/1736186/instead"}, "edited": false, "score": 0, "creation_date": 1473936680, "post_id": 39501052, "comment_id": 66334582, "body": "Event will fire, but will not bubble up. Just add second e.stopPropagation() where I told You so. The one, that You have in navList click, leave as is by now."}], "owner": {"reputation": 1, "user_id": 1201058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8cfd6effef9771ac3b796ee986e3ca65?s=128&d=identicon&r=PG", "display_name": "user1201058", "link": "https://stackoverflow.com/users/1201058/user1201058"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473899197, "creation_date": 1473895192, "last_edit_date": 1473899197, "question_id": 39501052, "link": "https://stackoverflow.com/questions/39501052/event-queing-up-on-a-menu-that-is-supposed-to-auto-hide", "title": "Event Queing up on a Menu that is supposed to auto hide", "body": "<p>My goal is to create a menu that:</p>\n\n<p>1) When you click on the body of the document, the menu pops up\n2) when you click on the body again, it hides.\n3) when you click on the X, the menu hides.</p>\n\n<p>Below is a function that powers the hiding/showing of this nav. There seems to be event bubbling that gets tied up when you click multiple times on the body. It trips everything up and the events run until the que is empty.</p>\n\n<p>I'm a bit lost on the best fix.</p>\n\n<pre><code>    this.navigationEvents = function () {\n\n        // Cache This\n        var that = this;\n\n        // On Body Click, Show Nav\n        document.body.addEventListener('click', function(){\n\n            // Show Nav Toggle if Anywhere on body is clicked on\n            that.navList.parentElement.classList.toggle('show');\n\n            // Set timeout for 30 seconds, toggle menu off after ellapsed time.\n            var timeOut = setTimeout(function(){\n                // Remove Class: Show\n                that.navList.parentElement.classList.remove('show');\n            }, that.navViewTime)\n\n        });\n\n        // If 'Controls' is clicked on, stop event from bubbling to body\n        this.navList.parentElement.addEventListener('click', function(e){\n            // Stop Propagation\n            e.stopPropagation();\n        });\n\n        // On Nav Item Click, Jump to associated slide index\n        $(this.navList).find('li').on('click', function(e){\n            // Go To Slide Index\n            $(that.target).slick('slickGoTo', $(this).index())\n\n            // Hide Menu\n            $(document.body).click();\n\n        });\n\n        this.navClose.addEventListener('click', function() {\n            $(document.body).click();\n        })\n\n\n\n    };\n</code></pre>\n\n<p>If you click on the nav element, I have the event stop it's propigation. However, when I click a ton on the body, it goes into this que of events and the menu hides/shows repeatedly until it's finished.</p>\n\n<p>I can't tell what is going on, I think it may have to do with my timeOut also resetting itself. However, when I removed the setTimeout, this issue still persisted.</p>\n\n<p>I want to say it's the events queing up and firing themselves until it's finished (since js is single threaded) but I don't know what the appropriate or best practice would be to fix this issue.</p>\n\n<p>Thank you for reading, any help would be GREATLY appreciated.</p>\n"}, {"tags": ["javascript", "git"], "comments": [{"owner": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 2, "creation_date": 1473895128, "post_id": 39501022, "comment_id": 66319439, "body": "I haven&#39;t used typescript but can&#39;t you ask typescript to generate the javascript files in a different directory?"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1473895163, "post_id": 39501022, "comment_id": 66319447, "body": "Either append some identifier in the file, e.g., <code>_somefile.js</code> or output the JS to a different directory, e.g., <code>generated&#47;somefile.js</code>"}, {"owner": {"reputation": 6235, "user_id": 1831775, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jDnW9.jpg?s=128&g=1", "display_name": "chriskelly", "link": "https://stackoverflow.com/users/1831775/chriskelly"}, "reply_to_user": {"reputation": 16405, "user_id": 6776093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/heFeh.png?s=128&g=1", "display_name": "redneb", "link": "https://stackoverflow.com/users/6776093/redneb"}, "edited": false, "score": 0, "creation_date": 1473935772, "post_id": 39501022, "comment_id": 66334100, "body": "@redneb,@vlaz. It&#39;s not my call to move the files. I&#39;d at least like my git repo to be tidy. Therefore, I was wondering if it can be done without having to move existing files and refactor all existing paths (not that I don&#39;t want to myself)"}], "answers": [{"comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 2, "creation_date": 1473896123, "post_id": 39501048, "comment_id": 66319676, "body": "<code>This is a pretty common pattern in the JavaScript world.</code> not only in JS. Pretty much anything that produces generated output will do this. In general the source/produced distinction is almost universal. It would be a build step to take all generated files and bundle them (somehow) into a deliverable, which, in this case, might be expressed as taking all <code>*.js</code> files and putting them in a <code>&#47;js&#47;</code> directory or something but excluding <code>*.ts</code> as that&#39;s not used the final product."}, {"owner": {"reputation": 6235, "user_id": 1831775, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jDnW9.jpg?s=128&g=1", "display_name": "chriskelly", "link": "https://stackoverflow.com/users/1831775/chriskelly"}, "edited": false, "score": 0, "creation_date": 1473936099, "post_id": 39501048, "comment_id": 66334287, "body": "@JoshBeam: I&#39;ve upvoted because it&#39;s a good suggestion. However, it doesn&#39;t answer my question. I am not permitted to move existing files and refactor. Therefore,for I&#39;d like to find another way eliminate those files for consideration by git ."}], "tags": [], "owner": {"reputation": 17385, "user_id": 2714730, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/26d4fa31138c5c8ba1cb76392d9fc64d?s=128&d=identicon&r=PG", "display_name": "Josh Beam", "link": "https://stackoverflow.com/users/2714730/josh-beam"}, "is_accepted": false, "score": 5, "last_activity_date": 1473896375, "last_edit_date": 1495540840, "creation_date": 1473895157, "answer_id": 39501048, "question_id": 39501022, "link": "https://stackoverflow.com/questions/39501022/git-ignore-generated-extensions/39501048#39501048", "title": "Git ignore generated extensions", "body": "<p>A typical way to do this is to put any compiled output in some distribution directory. You might organized your directory structure like so:</p>\n\n\n\n<pre class=\"lang-none prettyprint-override\"><code>src/\n  ... various JavaScript files, etc.\n\ndist/\n  ... compiled output from any build tool you're using\n</code></pre>\n\n<p>Then in git, you can just ignore the <code>dist</code> directory, and assume that anyone who is going to pull down that repo and work on it will either run the build tool manually, or it will built automatically as part of the installation process.</p>\n\n<p>In other words, it's easier to organize it without depending on a specific set of git functionality. This is a pretty common pattern in the JavaScript world.</p>\n\n<p>If you don't go for that method, another way to do it is to add some identifier to the files that you want to ignore. For example, you might prepend all your files you want to ignore with <code>_</code> and then add this rule to your <code>.gitignore</code> (see <a href=\"https://stackoverflow.com/questions/10297603/how-to-ignore-files-starting-with-in-git\">this answer</a> for why the following works):</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>\\_*\n</code></pre>\n\n<p>There are some drawbacks to this second approach:</p>\n\n<ol>\n<li>Other libraries you use may use filenames that start with a similar identifier and there will be collisions</li>\n<li>It's hard to maintain; you may want to change the identifier later if there is some collision or you change your mind about your structure, and you'll have to go back through all the files and change the names (of course, this can be automated, but it might be a pain)</li>\n</ol>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 6235, "user_id": 1831775, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/jDnW9.jpg?s=128&g=1", "display_name": "chriskelly", "link": "https://stackoverflow.com/users/1831775/chriskelly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 154, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1473935947, "creation_date": 1473894982, "last_edit_date": 1473935947, "question_id": 39501022, "link": "https://stackoverflow.com/questions/39501022/git-ignore-generated-extensions", "title": "Git ignore generated extensions", "body": "<p>I'd like to keep JavaScript (.js) files under git control.</p>\n\n<p>However, if a TypeScript (.ts) file exists, I'd like to ignore the associated .js file.</p>\n\n<p>Is there a way to achieve this with git?</p>\n\n<p><strong>EDIT</strong>: Preferably without changing directories and refactoring all the existing code.</p>\n"}, {"tags": ["javascript", "canvas"], "comments": [{"owner": {"reputation": 28748, "user_id": 277697, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/jztAV.jpg?s=128&g=1", "display_name": "Matt Way", "link": "https://stackoverflow.com/users/277697/matt-way"}, "edited": false, "score": 1, "creation_date": 1473895386, "post_id": 39501005, "comment_id": 66319510, "body": "Have you tried using <code>requestAnimationFrame</code> instead of <code>setInterval</code>?"}, {"owner": {"reputation": 159, "user_id": 2551965, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/02d0655d2d0cf33093d0fea29e60328e?s=128&d=identicon&r=PG", "display_name": "Avery246813579", "link": "https://stackoverflow.com/users/2551965/avery246813579"}, "reply_to_user": {"reputation": 28748, "user_id": 277697, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/jztAV.jpg?s=128&g=1", "display_name": "Matt Way", "link": "https://stackoverflow.com/users/277697/matt-way"}, "edited": false, "score": 0, "creation_date": 1473895826, "post_id": 39501005, "comment_id": 66319621, "body": "@MattWay That actually seems to have fixed it. Thanks a lot!"}, {"owner": {"reputation": 28748, "user_id": 277697, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/jztAV.jpg?s=128&g=1", "display_name": "Matt Way", "link": "https://stackoverflow.com/users/277697/matt-way"}, "edited": false, "score": 0, "creation_date": 1473896029, "post_id": 39501005, "comment_id": 66319659, "body": "Just added a real answer, in case others find this question useful."}, {"owner": {"reputation": 159, "user_id": 2551965, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/02d0655d2d0cf33093d0fea29e60328e?s=128&d=identicon&r=PG", "display_name": "Avery246813579", "link": "https://stackoverflow.com/users/2551965/avery246813579"}, "reply_to_user": {"reputation": 28748, "user_id": 277697, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/jztAV.jpg?s=128&g=1", "display_name": "Matt Way", "link": "https://stackoverflow.com/users/277697/matt-way"}, "edited": false, "score": 0, "creation_date": 1473896549, "post_id": 39501005, "comment_id": 66319799, "body": "Alright! Thanks a lot!"}], "answers": [{"tags": [], "owner": {"reputation": 28748, "user_id": 277697, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/jztAV.jpg?s=128&g=1", "display_name": "Matt Way", "link": "https://stackoverflow.com/users/277697/matt-way"}, "is_accepted": true, "score": 4, "last_activity_date": 1473896010, "creation_date": 1473896010, "answer_id": 39501145, "question_id": 39501005, "link": "https://stackoverflow.com/questions/39501005/while-drawing-on-canvas-there-is-a-1-10-chance-that-scrolling-causes-page-to-la/39501145#39501145", "title": "While drawing on canvas, there is a 1/10 chance that scrolling causes page to lag", "body": "<p>When doing custom animations, you should be using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame\" rel=\"nofollow\">requestAnimationFrame</a> instead of <code>setInterval</code> or <code>setTimeout</code>. This is so that the browser knows you are trying to do animations, and is able to cater to that with regards to things like scrolling, having the windows in the background, etc.</p>\n\n<p>As per the docs:</p>\n\n<blockquote>\n  <p>You should call this method whenever you're ready to update your animation onscreen. This will request that your animation function be called before the browser performs the next repaint. The number of callbacks is usually 60 times per second, but will generally match the display refresh rate in most web browsers as per W3C recommendation. The callback rate may be reduced to a lower rate when running in background tabs or in hidden s in order to improve performance and battery life.</p>\n</blockquote>\n"}], "owner": {"reputation": 159, "user_id": 2551965, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/02d0655d2d0cf33093d0fea29e60328e?s=128&d=identicon&r=PG", "display_name": "Avery246813579", "link": "https://stackoverflow.com/users/2551965/avery246813579"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 39501145, "answer_count": 1, "score": 2, "last_activity_date": 1473896010, "creation_date": 1473894871, "question_id": 39501005, "link": "https://stackoverflow.com/questions/39501005/while-drawing-on-canvas-there-is-a-1-10-chance-that-scrolling-causes-page-to-la", "title": "While drawing on canvas, there is a 1/10 chance that scrolling causes page to lag", "body": "<p>I found that sometimes when I use my scroll wheel, my canvas will stop drawing. I tried to disable scrolling but the problem still occurs. </p>\n\n<p>Here is an example of the lag: <a href=\"https://gyazo.com/8cc175a09ac3961ad59ebb46dca24d48\" rel=\"nofollow\">https://gyazo.com/8cc175a09ac3961ad59ebb46dca24d48</a></p>\n\n<p>Code Below: </p>\n\n<pre><code>        var c = document.getElementById(\"myCanvas\");\n    var ctx = c.getContext(\"2d\");\n    c.width = getWidth();\n    c.height = getHeight();\n\n    var iconNames = ['android', 'github', 'google-plus', 'instagram', 'linkedin', 'pinterest', 'reddit', 'skype', 'snapchat', 'soundcloud', 'tumblr', 'twitter', 'vimeo', 'youtube'];\n    var iconsDropped = 0, max = 7;\n    var drops = [];\n\n    for (var i = 0; i &lt; iconNames.length; i++) {\n        var image = new Image();\n        image.src = \"images/landing/\" + iconNames[i] + \".png\";\n    }\n\n    pickRandom();\n    function pickRandom() {\n        var wait = Math.floor(Math.random() * 2500);\n        setTimeout(pickRandom, wait);\n\n        if (iconNames.length &lt; 1 || iconsDropped &gt;= max) {\n            return;\n        }\n\n        var img = new Image();\n        var index = Math.floor(Math.random() * iconNames.length);\n        var name = iconNames[index];\n        iconNames.splice(index, 1);\n\n        img.onload = function () {\n            drops.push({\n                image: img,\n                width: Math.floor(Math.random() * getWidth()),\n                height: -50,\n                name: name,\n                speed: Math.random() + .5,\n                cycle: 0\n            });\n\n            iconsDropped++;\n        };\n\n        img.src = \"images/landing/\" + name + \".png\";\n    }\n\n    function draw() {\n        c.width = getWidth();\n        c.height = getHeight() - c.offsetTop;\n        clearCanvas();\n\n        for (var i = 0; i &lt; drops.length; i++) {\n            var drop = drops[i];\n            drop.height = drop.height + drop.speed;\n\n            if (drop.height &gt; getHeight() - c.offsetTop) {\n                drop.cycle++;\n\n                if (drop.cycle == 3) {\n                    var name = drop.name;\n                    drops.splice(i, 1);\n                    iconNames.push(name);\n                    iconsDropped--;\n                    i--;\n                    continue;\n                } else {\n                    drop.height = -50;\n                    drop.width = Math.floor(Math.random() * getWidth());\n                }\n            }\n\n            ctx.drawImage(drop.image, drop.width, drop.height, 50, 50);\n        }\n\n        console.log(\"ASD\")\n    }\n    setInterval(draw, 2);\n\n    function clearCanvas() {\n        ctx.clearRect(0, 0, c.width, c.height);\n        ctx.beginPath();\n    }\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1473894722, "post_id": 39500978, "comment_id": 66319325, "body": "Hint: There\u2019s an <code>unload</code> and a <code>beforeunload</code> event."}, {"owner": {"reputation": 510, "user_id": 6412088, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1770376769864611/picture?type=large", "display_name": "Andrey Drozdov", "link": "https://stackoverflow.com/users/6412088/andrey-drozdov"}, "reply_to_user": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1473894908, "post_id": 39500978, "comment_id": 66319378, "body": "If I get it right, i must do: <code>$(document).beforeunload() {enter my script here}</code>"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473895218, "post_id": 39500978, "comment_id": 66319466, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/147636/best-way-to-detect-when-a-user-leaves-a-web-page\">Best way to detect when a user leaves a web page?</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1473895565, "post_id": 39500978, "comment_id": 66319551, "body": "All scripts stop when the window is reloaded with a different page. So unless the <code>About Us</code> link opens a new window, you shouldn&#39;t have a problem."}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1473895567, "post_id": 39500978, "comment_id": 66319552, "body": "no..when user leaves page the window and all scripts are removed and a new window is created for new page"}, {"owner": {"reputation": 2184, "user_id": 1736186, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WcKy8.jpg?s=128&g=1", "display_name": "instead", "link": "https://stackoverflow.com/users/1736186/instead"}, "edited": false, "score": 2, "creation_date": 1473895616, "post_id": 39500978, "comment_id": 66319567, "body": "It doesn&#39;t work like that. When You leave page, scripts that are &quot;connected&quot; to previous page are not executing. You have new page with new scripts. Simple."}, {"owner": {"reputation": 510, "user_id": 6412088, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1770376769864611/picture?type=large", "display_name": "Andrey Drozdov", "link": "https://stackoverflow.com/users/6412088/andrey-drozdov"}, "edited": false, "score": 0, "creation_date": 1473896832, "post_id": 39500978, "comment_id": 66319860, "body": "I&#39;m sure that all of you are right, but the fact is that it still redirecting if I leaving 404 page.  And I really don&#39;t understand why."}], "owner": {"reputation": 510, "user_id": 6412088, "user_type": "registered", "accept_rate": 65, "profile_image": "https://graph.facebook.com/1770376769864611/picture?type=large", "display_name": "Andrey Drozdov", "link": "https://stackoverflow.com/users/6412088/andrey-drozdov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 88, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473895263, "creation_date": 1473894674, "question_id": 39500978, "link": "https://stackoverflow.com/questions/39500978/stop-js-if-user-leaves-page", "title": "Stop JS if user leaves page", "body": "<p>I'm only learning JS, and as I understand if you have some long script and while script is performs user leaves page - script will still work to it's end, right?</p>\n\n<p>For example, I have custom 404 page and on page I have script what will redirect user after 5 second to main page. It's look like this:</p>\n\n<pre><code>&lt;script&gt;\n  var redirecting = document.getElementById(\"count_down\");\n  var counter = 5;\n  var newElement = document.createElement(\"p\");\n    newElement.innerHTML = \"You will be redirected to main page in 5 seconds.\";\n    var id;\n    redirecting.parentNode.replaceChild(newElement, redirecting);\n\n    id = setInterval(function () {\n      counter--;\n      if(counter &lt; 0) {\n        newElement.parentNode.replaceChild(redirecting, newElement);\n        window.location.replace('&lt;%= root_path %&gt;');\n      } else {\n        newElement.innerHTML = \"You will be redirected to main page in \" + counter + \" seconds.\";\n      }\n    }, 1000);\n&lt;/script&gt;\n</code></pre>\n\n<p>Pretty simple script. But if user will click on menu link (for example \"About Us\") while script is counting, he will be redirected to \"About us\" page and when JS counter var will hit 0 he will be redirected to main page. But he already visited \"About us\" and will be redirected to main from \"About us\". Hope I make my self clear.</p>\n\n<p>So, my question is: \"How can I prevent JS perform, if user leaved page with script?\"</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 573, "user_id": 5748629, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d50a8be20b033a0f1c8cbd8316b1292c?s=128&d=identicon&r=PG", "display_name": "Konstantin Kreft", "link": "https://stackoverflow.com/users/5748629/konstantin-kreft"}, "edited": false, "score": 0, "creation_date": 1473894863, "post_id": 39500962, "comment_id": 66319364, "body": "there is already a thread regarding your question with a solution on stackoverflow <a href=\"http://stackoverflow.com/questions/14184494/segments-in-a-circle-using-css3\" title=\"segments in a circle using css3\">stackoverflow.com/questions/14184494/&hellip;</a>"}, {"owner": {"reputation": 560, "user_id": 4162438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f27bd7c469458cc1fe5acbbc99321b3?s=128&d=identicon&r=PG&f=1", "display_name": "blazerix", "link": "https://stackoverflow.com/users/4162438/blazerix"}, "reply_to_user": {"reputation": 573, "user_id": 5748629, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d50a8be20b033a0f1c8cbd8316b1292c?s=128&d=identicon&r=PG", "display_name": "Konstantin Kreft", "link": "https://stackoverflow.com/users/5748629/konstantin-kreft"}, "edited": false, "score": 0, "creation_date": 1473894967, "post_id": 39500962, "comment_id": 66319396, "body": "@kkreft I did see that, but I&#39;m not trying to make slices - rather I want control of the arcs"}, {"owner": {"reputation": 560, "user_id": 4162438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f27bd7c469458cc1fe5acbbc99321b3?s=128&d=identicon&r=PG&f=1", "display_name": "blazerix", "link": "https://stackoverflow.com/users/4162438/blazerix"}, "reply_to_user": {"reputation": 573, "user_id": 5748629, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d50a8be20b033a0f1c8cbd8316b1292c?s=128&d=identicon&r=PG", "display_name": "Konstantin Kreft", "link": "https://stackoverflow.com/users/5748629/konstantin-kreft"}, "edited": false, "score": 0, "creation_date": 1473895707, "post_id": 39500962, "comment_id": 66319587, "body": "<a href=\"http://stackoverflow.com/questions/14383088/how-to-create-a-certain-configuration-given-below-in-html\" title=\"how to create a certain configuration given below in html\">stackoverflow.com/questions/14383088/&hellip;</a>  I also looked at the above question but there was no solution. That user has the exact same problem as me"}, {"owner": {"reputation": 18839, "user_id": 4305494, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nVRhv.jpg?s=128&g=1", "display_name": "Ricky", "link": "https://stackoverflow.com/users/4305494/ricky"}, "edited": false, "score": 0, "creation_date": 1473905153, "post_id": 39500962, "comment_id": 66321621, "body": "<a href=\"https://sarasoueidan.com/tools/circulus/\" rel=\"nofollow noreferrer\">sarasoueidan.com/tools/circulus</a>"}, {"owner": {"reputation": 15890, "user_id": 423491, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/998e7a4ffb7d648a4832787d60fd62a3?s=128&d=identicon&r=PG", "display_name": "david", "link": "https://stackoverflow.com/users/423491/david"}, "edited": false, "score": 0, "creation_date": 1473911463, "post_id": 39500962, "comment_id": 66322961, "body": "I did this a while ago with SVG, have a play around here: <a href=\"https://jsfiddle.net/ctrlfrk/k275asjf/5/\" rel=\"nofollow noreferrer\">jsfiddle.net/ctrlfrk/k275asjf/5</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "is_accepted": true, "score": 0, "last_activity_date": 1473909409, "last_edit_date": 1473909409, "creation_date": 1473896518, "answer_id": 39501208, "question_id": 39500962, "link": "https://stackoverflow.com/questions/39500962/how-can-i-create-a-circle-consisting-of-arc-segments-using-css-and-javascript/39501208#39501208", "title": "How can I create a circle consisting of arc segments using css and javascript?", "body": "<p>You can use the Doughnut chart from ChartJS. Just be sure to split the doughnut into 12 equal groups of data (in my example I'll use 1 for all twelve data points). This will make them all the same size. You can then individually control their colors, and update the chart after.</p>\n\n<p><a href=\"https://jsfiddle.net/8t8tmc0q/\" rel=\"nofollow\">https://jsfiddle.net/8t8tmc0q/</a></p>\n\n<p>The necessary HTML:</p>\n\n<pre><code>&lt;canvas id=\"myChart\" width=\"400\" height=\"400\"&gt;&lt;/canvas&gt;\n</code></pre>\n\n<p>And JavaScript:</p>\n\n<pre><code>Chart.defaults.global.legend.display = false;\nvar ctx = document.getElementById(\"myChart\");\nvar myChart = new Chart(ctx, {\n  type: 'doughnut',\n  data: {\n    labels: ['1','2','3','4','5','6','7','8','9','10','11','12'],\n    datasets: [{\n      data: [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],\n      backgroundColor: [\n        'white',\n        'white',\n        'white',\n        'white',\n        'white',\n        'white',\n        'white',\n        'white',\n        'white',\n        'white',\n        'white',\n        'white'\n      ],\n      borderColor: 'black',\n      borderWidth: 1\n    }]\n  }\n});\n</code></pre>\n\n<p>Then, to update the colors, you just specify which section you want to update, and use the <code>myChart.update()</code> function to draw the change:</p>\n\n<pre><code>myChart.data.datasets[0].backgroundColor[5] = 'red'\nmyChart.update();\n</code></pre>\n"}], "owner": {"reputation": 560, "user_id": 4162438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f27bd7c469458cc1fe5acbbc99321b3?s=128&d=identicon&r=PG&f=1", "display_name": "blazerix", "link": "https://stackoverflow.com/users/4162438/blazerix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 388, "favorite_count": 0, "accepted_answer_id": 39501208, "answer_count": 1, "score": 1, "last_activity_date": 1473911241, "creation_date": 1473894543, "last_edit_date": 1473911241, "question_id": 39500962, "link": "https://stackoverflow.com/questions/39500962/how-can-i-create-a-circle-consisting-of-arc-segments-using-css-and-javascript", "title": "How can I create a circle consisting of arc segments using css and javascript?", "body": "<p>I've looked on the internet for quite a while now, but am unable to find the answer. I'm fairly new to web development and am trying to learn css/html and javascript.</p>\n\n<p>I want to create a circle consisting of 12 segments and I also want to have control over each segment (i.e being able to change the colour at will and also maybe some sort of animation, for example segment 1 turning red and then segment 2 subsequently turning blue).</p>\n\n<p>I'm trying to achieve a look similar to this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/h7IyQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h7IyQ.png\" alt=\"circle broken into segments\"></a></p>\n\n<p>Each segment is initially white and will only change colour when specified.</p>\n\n<p>Can someone please point me in the right direction on the best way to accomplish this?</p>\n"}, {"tags": ["javascript", "jquery", "arrays", "json"], "comments": [{"owner": {"reputation": 5844, "user_id": 4574285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155193056175076/picture?type=large", "display_name": "finalfreq", "link": "https://stackoverflow.com/users/4574285/finalfreq"}, "edited": false, "score": 0, "creation_date": 1473894520, "post_id": 39500944, "comment_id": 66319257, "body": "what happens if you do <code>jsonwordlist[0].Nouns[0]</code> also can you post the entire variable declaration by that i mean  <code>jsonworldlist = stuff</code>"}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1473894600, "post_id": 39500944, "comment_id": 66319289, "body": "Type just <code>jsonwordlist</code> in the console. What do you see? Obviously not an object with a property called <code>Nouns</code>. What else is it?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1473895767, "post_id": 39500944, "comment_id": 66319600, "body": "Why is this such a common problem? Parsing JSON is easy: when you see <code>[</code> it&#39;s an array, so you use <code>[index]</code> to index it. When you see <code>{</code> it&#39;s an object, you use <code>.property</code>. Don&#39;t you see the <code>[</code> at the very beginning?"}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1473895942, "post_id": 39500944, "comment_id": 66319643, "body": "and if you do control the source...the outer <code>[]</code> array doesn&#39;t seem needed and you could just return the single object within it"}, {"owner": {"reputation": 2184, "user_id": 1736186, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WcKy8.jpg?s=128&g=1", "display_name": "instead", "link": "https://stackoverflow.com/users/1736186/instead"}, "edited": false, "score": 1, "creation_date": 1473896320, "post_id": 39500944, "comment_id": 66319730, "body": "<code>console.log(someVariable)</code> is Your friend or more brutal... <code>alert(someVariable)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 2152, "user_id": 1189882, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4246442d37bb75f6c85ef6320620c6ba?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/1189882/mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1473894863, "creation_date": 1473894863, "answer_id": 39501002, "question_id": 39500944, "link": "https://stackoverflow.com/questions/39500944/json-object-is-parsed-correctly-yet-i-get-undefined-when-trying-to-search-within/39501002#39501002", "title": "JSON object is parsed correctly yet I get undefined when trying to search within the JSON and not just call it as a whole", "body": "<p>Your array contains one object, that object contains multiple arrays. You need to look at spot <code>0</code> in the array for your object first.</p>\n\n<p>For example, this should produce a popup with the word <code>villa</code>:</p>\n\n<p><code>alert(jsonwordlist[0].Nouns[0].nominative);</code></p>\n\n<p>See here for more: <a href=\"https://jsfiddle.net/Legn45hc/1/\" rel=\"nofollow\">https://jsfiddle.net/Legn45hc/1/</a></p>\n"}, {"tags": [], "owner": {"reputation": 1235, "user_id": 6339275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/036f9b2818faded4fe0644037f914100?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Salama", "link": "https://stackoverflow.com/users/6339275/aya-salama"}, "is_accepted": false, "score": 0, "last_activity_date": 1473895243, "creation_date": 1473895243, "answer_id": 39501060, "question_id": 39500944, "link": "https://stackoverflow.com/questions/39500944/json-object-is-parsed-correctly-yet-i-get-undefined-when-trying-to-search-within/39501060#39501060", "title": "JSON object is parsed correctly yet I get undefined when trying to search within the JSON and not just call it as a whole", "body": "<p>You put your json in an arrar so you can access noun with</p>\n\n<pre><code>jsonwordlist[0].Nouns[0]\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6833058, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc921af86c3d94dfe292c7503638e491?s=128&d=identicon&r=PG&f=1", "display_name": "JAV27", "link": "https://stackoverflow.com/users/6833058/jav27"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": -2, "last_activity_date": 1473895671, "creation_date": 1473894380, "last_edit_date": 1473895671, "question_id": 39500944, "link": "https://stackoverflow.com/questions/39500944/json-object-is-parsed-correctly-yet-i-get-undefined-when-trying-to-search-within", "title": "JSON object is parsed correctly yet I get undefined when trying to search within the JSON and not just call it as a whole", "body": "<p>Here is my JSON code. I know it has been parsed and nothing is wrong with the code itself. What I have a problem with is if I try to say jsonwordlist.Nouns[0] I get an error saying 'cannot read property 0 of undefined.' I have looked everywhere to try and solve this but honestly can't find anything. Thanks in advance to anyone who tries to help.</p>\n\n<pre><code>[{\n\n    \"Nouns\": [\n        {\n            \"nominative\": \"villa\",\n            \"genitive\": \"villae\",\n            \"gender\": \"f\",\n            \"definition\": \"house\",\n            \"photo\": \"http://fillmurray.com/200/200\",\n            \"derivitive\": \"village\"\n        },\n\n        {\n            \"nominative\": \"villa\",\n            \"genitive\": \"villae\",\n            \"gender\": \"f\",\n            \"definition\": \"house\",\n            \"photo\": \"http://fillmurray.com/200/200\",\n            \"derivitive\": \"village\"\n        }\n    ],\n    \"Adjectives\": [\n        {\n            \"masculine\": \"laetus\",\n            \"feminine\": \"laeta\",\n            \"nueter\": \"laetum\",\n            \"definition\": \"happy\",\n            \"derivitive\": \"\"\n        },\n\n        {\n            \"masculine\": \"iratus\",\n            \"feminine\": \"irata\",\n            \"nueter\": \"iratum\",\n            \"definition\": \"angry\",\n            \"derivitive\": \"irritate\"\n        }\n    ],\n    \"Verbs\": [\n        {\n            \"pp1\": \"audio\",\n            \"pp2\": \"audire\",\n            \"pp3\": \"audivi\",\n            \"pp4\": \"auditus\",\n            \"definition\": \"to hear\",\n            \"derivitive\": \"audio\"\n        },\n\n        {\n            \"pp1\": \"curro\",\n            \"pp2\": \"currere\",\n            \"pp3\": \"cucurri\",\n            \"pp4\": \"cursus\",\n            \"definition\": \"to run\",\n            \"derivitive\": \"concur\"\n        }\n    ],\n    \"Adverbs\": [\n        {\n            \"latin_form\": \"aliter\",\n            \"definition\": \"otherwise\"\n        }\n    ],\n    \"Conjunctions\": [\n        {\n            \"latin_form\": \"quod\",\n            \"definition\": \"as\"\n        }\n    ],\n    \"Prepositions\": [\n        {\n            \"latin_form\": \"sine\",\n            \"definition\": \"without\"\n        }\n    ]\n\n}]\n</code></pre>\n"}, {"tags": ["javascript", "canvas", "html5-canvas", "chart.js", "chart.js2"], "answers": [{"tags": [], "owner": {"reputation": 73, "user_id": 6678905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f0ce6fb19d6b65239f83b9348cc1530?s=128&d=identicon&r=PG&f=1", "display_name": "Nivelety", "link": "https://stackoverflow.com/users/6678905/nivelety"}, "is_accepted": true, "score": 0, "last_activity_date": 1473899298, "creation_date": 1473899298, "answer_id": 39501535, "question_id": 39500936, "link": "https://stackoverflow.com/questions/39500936/chart-js-html-canvas-move-line/39501535#39501535", "title": "Chart.js / HTML Canvas - move line", "body": "<p>I solve it with plugin.</p>\n\n<pre><code>var verticalLinePlugin = {\nafterDraw: function(chartInstance) \n{       \n    var index = weatherMainChart.config.options.verticalLine[0].x;\n\n    if (index) \n    {\n            if (chartInstance.options.verticalLine) \n            {\n                var canvas = chartInstance.chart;\n                var ctx = canvas.ctx;\n                var xaxis = chartInstance.scales['x-axis-0'];\n                var yaxis = chartInstance.scales['A'];\n\n                ctx.save();\n                ctx.beginPath();\n                ctx.moveTo(xaxis.getPixelForValue(undefined, index), yaxis.top + 32);\n                ctx.strokeStyle = '#005580';\n                ctx.lineTo(xaxis.getPixelForValue(undefined, index), yaxis.bottom);\n                ctx.stroke();\n                ctx.restore();\n            };\n    }\n}\n};\n\nChart.pluginService.register(verticalLinePlugin);\n</code></pre>\n"}], "owner": {"reputation": 73, "user_id": 6678905, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f0ce6fb19d6b65239f83b9348cc1530?s=128&d=identicon&r=PG&f=1", "display_name": "Nivelety", "link": "https://stackoverflow.com/users/6678905/nivelety"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1154, "favorite_count": 1, "accepted_answer_id": 39501535, "answer_count": 1, "score": 0, "last_activity_date": 1473899298, "creation_date": 1473894340, "question_id": 39500936, "link": "https://stackoverflow.com/questions/39500936/chart-js-html-canvas-move-line", "title": "Chart.js / HTML Canvas - move line", "body": "<p>I need to move vertical line on HTML canvas using Chart.js.</p>\n\n<p>I am using this:</p>\n\n<pre><code>this.chart.ctx.beginPath();\nthis.chart.ctx.moveTo(point.x, scale.startPoint + 24);\nthis.chart.ctx.strokeStyle = '#ff0000';\nthis.chart.ctx.lineTo(point.x, scale.endPoint);\nthis.chart.ctx.stroke();`\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/dbyze2ga/377/\" rel=\"nofollow\">http://jsfiddle.net/dbyze2ga/377/</a> but what I need is to move the line to another index when button on the web page is clicked. I read about html canvas and found that it is \"impossible\" to remove line but then I found that: <a href=\"https://jsfiddle.net/ombaww9t/2/\" rel=\"nofollow\">https://jsfiddle.net/ombaww9t/2/</a> and the line is moving.</p>\n\n<p>So what I need is probably combination of those two examples.</p>\n\n<p>Thanks for response.</p>\n"}, {"tags": ["javascript", "jquery", "ajax", "asp.net-mvc"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6736744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9599509696756b217bf46415218af4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Ogden", "link": "https://stackoverflow.com/users/6736744/josh-ogden"}, "edited": false, "score": 0, "creation_date": 1473963325, "post_id": 39501345, "comment_id": 66351278, "body": "That was the first thing that I tried before I posted.  I tried it again, and it still didn&#39;t go through."}, {"owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "reply_to_user": {"reputation": 11, "user_id": 6736744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9599509696756b217bf46415218af4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Ogden", "link": "https://stackoverflow.com/users/6736744/josh-ogden"}, "edited": false, "score": 0, "creation_date": 1473964235, "post_id": 39501345, "comment_id": 66351773, "body": "What exactly did you try: changing to <code>[HttpPost] </code> or changing the URL? The URL is more important and if it&#39;s not hitting your action, then you need to check what Routing is doing. My answer assumes that the relevant routing is the default that comes when MVC project is created; ie, <code>api&#47;{controller}&#47;{action}&#47;{id}</code>"}, {"owner": {"reputation": 11, "user_id": 6736744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9599509696756b217bf46415218af4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Ogden", "link": "https://stackoverflow.com/users/6736744/josh-ogden"}, "edited": false, "score": 0, "creation_date": 1473965461, "post_id": 39501345, "comment_id": 66352408, "body": "Yes, the URL.  I also checked the routing, which should comply with the routing that I used.  I was using the default routing."}, {"owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "reply_to_user": {"reputation": 11, "user_id": 6736744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9599509696756b217bf46415218af4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Ogden", "link": "https://stackoverflow.com/users/6736744/josh-ogden"}, "edited": false, "score": 0, "creation_date": 1473966325, "post_id": 39501345, "comment_id": 66352830, "body": "And your method is marked <code>[HttpPost] </code> just like your Ajax is marked POST?  If Yes, then you may need to share the class where your routes are registered so we can take a look."}, {"owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "reply_to_user": {"reputation": 11, "user_id": 6736744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9599509696756b217bf46415218af4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Ogden", "link": "https://stackoverflow.com/users/6736744/josh-ogden"}, "edited": false, "score": 0, "creation_date": 1473967358, "post_id": 39501345, "comment_id": 66353330, "body": "Cool. From your routing config, you will need to remove <code>&#47;api</code> from your  URL in the Ajax call. It&#39;s not needed."}, {"owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "reply_to_user": {"reputation": 11, "user_id": 6736744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9599509696756b217bf46415218af4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Ogden", "link": "https://stackoverflow.com/users/6736744/josh-ogden"}, "edited": false, "score": 0, "creation_date": 1473967421, "post_id": 39501345, "comment_id": 66353357, "body": "It should be ` url: &quot;/Cailz/Refuse/&quot; + link.attr(&quot;data-order-id&quot;), `"}, {"owner": {"reputation": 11, "user_id": 6736744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9599509696756b217bf46415218af4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Ogden", "link": "https://stackoverflow.com/users/6736744/josh-ogden"}, "edited": false, "score": 0, "creation_date": 1473968205, "post_id": 39501345, "comment_id": 66353777, "body": "Changed the URL as suggested, still didn&#39;t work.  Moved the API contoller into the controller folder to simplify the routing, still didn&#39;t work.  Totally at a loss now..."}, {"owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "reply_to_user": {"reputation": 11, "user_id": 6736744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9599509696756b217bf46415218af4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Ogden", "link": "https://stackoverflow.com/users/6736744/josh-ogden"}, "edited": false, "score": 0, "creation_date": 1473969462, "post_id": 39501345, "comment_id": 66354420, "body": "It seems you&#39;ve tinkered with a lot. Now, what URL is the Ajax trying to access? You can find out by pressing F12 on your browser and checking Network tab. Who knows, it might even be that your Ajax is not even firing."}, {"owner": {"reputation": 11, "user_id": 6736744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9599509696756b217bf46415218af4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Ogden", "link": "https://stackoverflow.com/users/6736744/josh-ogden"}, "edited": false, "score": 0, "creation_date": 1473972936, "post_id": 39501345, "comment_id": 66356126, "body": "I&#39;m getting a 404, and PostMan interceptor shows that the ajax is firing, sending off this: POSThttp://localhost:50848/Cailz/Refuse/11"}, {"owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "reply_to_user": {"reputation": 11, "user_id": 6736744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9599509696756b217bf46415218af4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Ogden", "link": "https://stackoverflow.com/users/6736744/josh-ogden"}, "edited": false, "score": 0, "creation_date": 1473978900, "post_id": 39501345, "comment_id": 66358410, "body": "Everything looks fine @JoshOgden from what you&#39;ve shared so far, and there&#39;s no reason to keep having the problem, from the code you&#39;ve shared. I don&#39;t think the issue is from your code - unless you didn&#39;t build after the last set of modifications. You can do an <code>iisreset</code> or kill <code>w3wp</code>; then start afresh."}], "tags": [], "owner": {"reputation": 1331, "user_id": 4437246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f36627135098d89b9424cae109c229c?s=128&d=identicon&r=PG&f=1", "display_name": "Soma Mbadiwe", "link": "https://stackoverflow.com/users/4437246/soma-mbadiwe"}, "is_accepted": false, "score": 0, "last_activity_date": 1473964121, "last_edit_date": 1473964121, "creation_date": 1473897599, "answer_id": 39501345, "question_id": 39500927, "link": "https://stackoverflow.com/questions/39500927/why-isnt-my-mvc-ajax-not-finding-the-action/39501345#39501345", "title": "Why isn&#39;t my mvc ajax not finding the action", "body": "<p>Your URL (in the Ajax call) appears to be incorrect as it doesn't have the action component. It should be something like this:</p>\n\n<pre><code>url: \"/api/Cailz/Refuse/\" + link.attr(\"data-order-id\"), \nmethod: \"POST\"\n</code></pre>\n\n<p>Also, you should use <code>[HttpPost]</code> on the action instead of <code>[HttpDelete]</code> for consistency.</p>\n"}], "owner": {"reputation": 11, "user_id": 6736744, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9599509696756b217bf46415218af4f2?s=128&d=identicon&r=PG&f=1", "display_name": "Josh Ogden", "link": "https://stackoverflow.com/users/6736744/josh-ogden"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1473966862, "creation_date": 1473894259, "last_edit_date": 1473966862, "question_id": 39500927, "link": "https://stackoverflow.com/questions/39500927/why-isnt-my-mvc-ajax-not-finding-the-action", "title": "Why isn&#39;t my mvc ajax not finding the action", "body": "<p>I am using a  to call an API action through a $ajax call, but it doesn't seem to be calling the api at all, and when the button is clicked, the fail message just comes up. What am I missing/doing wrong?<br>\nHere is the View and the embedded ajax:</p>\n\n<blockquote>\n<pre><code>          &lt;a href=\"@Url.Action(\"SingleOrderView\",\"Cailz\", new{ ID = item.ID})\"&gt;View&lt;/a&gt;\n                &lt;a href=\"#\" class=\"js-refuse-order\" data-order-id=\"@item.ID\"&gt;Refuse&lt;/a&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/li&gt;\n&lt;/ul&gt; } @section scripts\n{\n&lt;script&gt;\n    $(document).ready(function () {\n        $(\".js-refuse-order\").click(function (e) {\n            var link = $(e.target);\n            if (confirm(\"Are you sure that you want to refuse this order?\")) {\n                $.ajax({\n                    url: \"/api/cailz/\" + link.attr(\"data-order-id\"),\n                    method: \"POST\"\n                })\n                .done(function () {\n                    link.parents(\"li\").fadeOut(function () {\n                        $(this).remove();\n                    });\n                })\n                .fail(function () {\n                    alert(\"Something went wrong \" + link.attr(\"data-order-id\"))\n                });\n            }\n        })\n    })\n&lt;/script&gt;\n</code></pre>\n</blockquote>\n\n<p>And here is the related API:</p>\n\n<pre><code> using CailzMk2.DataLayer; \n using System.Linq;\n using System.Web.Http;\n using CailzMk2.Models;\n\n namespace CailzMk2.API \n {\n     [Authorize]\n     public class CailzController : ApiController\n     {\n         private ApplicationDbContext _context;\n\n         public CailzController()\n         {\n             _context = new ApplicationDbContext();\n         }\n\n         [HttpPost]\n         public IHttpActionResult Refuse(int id)\n         {\n             var refusedOrder = _context.Orders.Single(o =&gt; o.ID == id);\n             refusedOrder.OrderRefused = true;\n             _context.SaveChanges();\n             return Ok();\n         }\n     } \n }\n</code></pre>\n\n<p>I've been struggling with this for some time.</p>\n\n<p>The Function is called with a button press, and the correct ID does come through.  All I can think of is that it can't find it.  </p>\n\n<p>And here is a the route Config, just the default configuration:</p>\n\n<pre><code>namespace CailzMk2\n{\n    public class RouteConfig\n    {\n        public static void RegisterRoutes(RouteCollection routes)\n        {\n            routes.IgnoreRoute(\"{resource}.axd/{*pathInfo}\");\n\n            routes.MapRoute(\n                name: \"Default\",\n                url: \"{controller}/{action}/{id}\",\n                defaults: new { controller = \"Home\", action = \"Index\", id = UrlParameter.Optional }\n            );\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "office365", "office-addins", "office-js"], "answers": [{"comments": [{"owner": {"reputation": 2646, "user_id": 311063, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/mHZ7H.jpg?s=128&g=1", "display_name": "Miro J.", "link": "https://stackoverflow.com/users/311063/miro-j"}, "edited": false, "score": 0, "creation_date": 1473966807, "post_id": 39517711, "comment_id": 66353062, "body": "Great suggestion to use the getByTag() and the note about getFirst(). Thanks, Geoffrey!"}, {"owner": {"reputation": 2646, "user_id": 311063, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/mHZ7H.jpg?s=128&g=1", "display_name": "Miro J.", "link": "https://stackoverflow.com/users/311063/miro-j"}, "edited": false, "score": 0, "creation_date": 1476977941, "post_id": 39517711, "comment_id": 67586507, "body": "In the last few days, my code breaks at line 3 in the example of the answer - at property <code>first</code>. Does it mean the Office API changed and that the example above does not work anymore? It appears also that the <code>contentcontrol</code> does not support <code>table</code> property."}, {"owner": {"reputation": 2646, "user_id": 311063, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/mHZ7H.jpg?s=128&g=1", "display_name": "Miro J.", "link": "https://stackoverflow.com/users/311063/miro-j"}, "edited": false, "score": 0, "creation_date": 1477060153, "post_id": 39517711, "comment_id": 67625670, "body": "It appears the Office API team put an older version on their CDN as pre-release. Now, things are back to 16.0.7424.1000. I wonder if someone knows a place where I can see what and when changes - the smaller commits?"}, {"owner": {"reputation": 46, "user_id": 6506550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3031c6ef00e2dbdf1da5aaf89f684cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey", "link": "https://stackoverflow.com/users/6506550/geoffrey"}, "reply_to_user": {"reputation": 2646, "user_id": 311063, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/mHZ7H.jpg?s=128&g=1", "display_name": "Miro J.", "link": "https://stackoverflow.com/users/311063/miro-j"}, "edited": false, "score": 2, "creation_date": 1481745576, "post_id": 39517711, "comment_id": 69504461, "body": "Hi Miro, the latest beta code has been updated with new function signatures in a few places. Where you used to access objectCollection.first, you should now use objectCollection.getFirst(). I&#39;ve updated the code sample above to reflect this."}, {"owner": {"reputation": 539, "user_id": 1546931, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/2ac90e04bd4d088a4d0e74833f3ad0ae?s=128&d=identicon&r=PG", "display_name": "Andrew Hall", "link": "https://stackoverflow.com/users/1546931/andrew-hall"}, "edited": false, "score": 0, "creation_date": 1481831326, "post_id": 39517711, "comment_id": 69544705, "body": "replacing .first with .getFirst() also solved our issues using beta code.  Any ballpark guess when content control and table capabilities (v1.3) will be moved to production?"}, {"owner": {"reputation": 46, "user_id": 6506550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3031c6ef00e2dbdf1da5aaf89f684cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey", "link": "https://stackoverflow.com/users/6506550/geoffrey"}, "edited": false, "score": 1, "creation_date": 1481919117, "post_id": 39517711, "comment_id": 69583364, "body": "Hi ExcelAnalyst, we&#39;re planning to move 1.3 to production in early 2017."}], "tags": [], "owner": {"reputation": 46, "user_id": 6506550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3031c6ef00e2dbdf1da5aaf89f684cdb?s=128&d=identicon&r=PG&f=1", "display_name": "Geoffrey", "link": "https://stackoverflow.com/users/6506550/geoffrey"}, "is_accepted": true, "score": 1, "last_activity_date": 1481745498, "last_edit_date": 1481745498, "creation_date": 1473963125, "answer_id": 39517711, "question_id": 39500918, "link": "https://stackoverflow.com/questions/39500918/change-value-of-a-table-in-content-control/39517711#39517711", "title": "Change value of a table in content control", "body": "<p>You can set table values in Word a similar way as you created them.</p>\n\n<pre><code>table.values = [[\"a\", \"b\"], [\"c\", \"d\"]];\n</code></pre>\n\n<p>Here's an example of how that would look in your code:</p>\n\n<pre><code>Word.run(function (ctx) {\n    var ctrl = ctx.document.contentControls.getByTag(\"MyTable1\").getFirst();\n    return ctx.sync().then(function () {\n        if (!ctrl.isNull) { // found\n            var newValue = [['a', 'b'], ['c', 'd']];\n            ctrl.tables.getFirst().values = newValue;\n            ctx.sync().then(function () {\n                console.log('Table should be updated');\n            }).catch(function (err) {\n                console.log(err);\n            });\n        } else {\n            console.log('Unable to find table.');\n        }\n    }).catch(function (err) {\n        console.log(err);\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 2646, "user_id": 311063, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/mHZ7H.jpg?s=128&g=1", "display_name": "Miro J.", "link": "https://stackoverflow.com/users/311063/miro-j"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 505, "favorite_count": 1, "accepted_answer_id": 39517711, "answer_count": 1, "score": 2, "last_activity_date": 1481745498, "creation_date": 1473894217, "question_id": 39500918, "link": "https://stackoverflow.com/questions/39500918/change-value-of-a-table-in-content-control", "title": "Change value of a table in content control", "body": "<p>I created a Word add-in and I insert a table in Word 2016 (version 16.0.7341.2029) using the Word API 1.3 like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var value = [[3,4],[5,6]];\r\n\r\nWord.run(function (ctx) {\r\n    var table = ctx.document.body.insertTable(value.length, value[0].length, Word.InsertLocation.end, value);\r\n    var myContentControl = table.insertContentControl();\r\n\r\n    myContentControl.tag = 'MyTable1';\r\n    myContentControl.title = 'This is a table';\r\n\r\n    return ctx.sync()\r\n        .then(function () {\r\n            console.log('Table created');\r\n        }).catch(function (err) {\r\n            console.log(err);\r\n        });\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I see the table in a content control with the proper values.\nWhen I check the <code>text</code> property of the control, I see a string <code>4\\t5\\r\\n6\\t7</code>.</p>\n\n<p>I want to change the values of the whole table providing a new array (without removing and adding the whole table again). I want to keep the formatting the user made. I am trying to do it like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Word.run(function (ctx) {\r\n    var controls = ctx.document.contentControls;\r\n    controls.load('id, tag, title, text');\r\n\r\n    // Get all content control, ...\r\n    return ctx.sync()\r\n        .then(function () {\r\n            // ... find the one using lodash, ...\r\n            var ctrl = _.find(controls.items, { 'tag': 'MyTable1' });\r\n            if (ctrl) { // found\r\n                // ... and update the value.\r\n                ctrl.text = newValue; // &lt;== this line does not change the text\r\n                ctx.sync()\r\n                    .then(function () {\r\n                        console.log('Table should be updated');\r\n                    }).catch(function (err) {\r\n                        console.log(err);\r\n                    });\r\n            } else {\r\n                Console.log('Unable to find table.');\r\n            }\r\n        }).catch(function (err) {\r\n            console.log(err);\r\n        });\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The line where I set the <code>text</code> property again does not change anything and I was looking for a function that does it without removing the table or going cell by cell. Any ideas?</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 2130, "user_id": 1407020, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/RSPJP.jpg?s=128&g=1", "display_name": "Devon Bernard", "link": "https://stackoverflow.com/users/1407020/devon-bernard"}, "edited": false, "score": 0, "creation_date": 1473894367, "post_id": 39500901, "comment_id": 66319215, "body": "Shouldn&#39;t you change <code>for (x = 0, subscribers.length || 0; x &lt; length; x += 1) {</code> to <code>for (x = 0; subscribers.length == 0 || x &lt; subscribers.length; x += 1) {</code>"}, {"owner": {"reputation": 213464, "user_id": 2357112, "user_type": "registered", "accept_rate": 26, "profile_image": "https://www.gravatar.com/avatar/3f80897d57525afe9eac4fb8c8318052?s=128&d=identicon&r=PG", "display_name": "user2357112 supports Monica", "link": "https://stackoverflow.com/users/2357112/user2357112-supports-monica"}, "edited": false, "score": 0, "creation_date": 1473894416, "post_id": 39500901, "comment_id": 66319232, "body": "Why do you think <code>subscribers</code> is an array? It seems to be <code>undefined</code>."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473894705, "post_id": 39500901, "comment_id": 66319316, "body": "<code>it is undefined if it&#39;s unpopulated, right</code> no, it&#39;s zero. Makes sense - there are zero objects in the array, hence the length is zero."}, {"owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "edited": false, "score": 0, "creation_date": 1473895353, "post_id": 39500901, "comment_id": 66319499, "body": "In your method you check <code>events[eventName]</code> and drop out if it has a value. So in the next line, it means it doesn&#39;t have a value, so <code>subscribers</code> is likely <code>undefined</code> at that point."}, {"owner": {"reputation": 10092, "user_id": 2389720, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/EiqDl.jpg?s=128&g=1", "display_name": "axelduch", "link": "https://stackoverflow.com/users/2389720/axelduch"}, "edited": false, "score": 0, "creation_date": 1473895354, "post_id": 39500901, "comment_id": 66319500, "body": "<code>subscribers</code> will always be <code>undefined</code> with this code. Because you return <code>false</code> when <code>events[eventName]</code> is truthy"}], "answers": [{"comments": [{"owner": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "edited": false, "score": 0, "creation_date": 1473895093, "post_id": 39500945, "comment_id": 66319427, "body": "I forgot to add the assignment. The response is still &#39; length undefined&#39;"}, {"owner": {"reputation": 474, "user_id": 5747649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a3yQS1umZdY/AAAAAAAAAAI/AAAAAAAAAEE/ij6lzrClvwk/photo.jpg?sz=128", "display_name": "Don Bhrayan Singh", "link": "https://stackoverflow.com/users/5747649/don-bhrayan-singh"}, "reply_to_user": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "edited": false, "score": 0, "creation_date": 1473895464, "post_id": 39500945, "comment_id": 66319529, "body": "@KenIngram how did you modify it? Are you sure <code>events[eventName]</code>contains an array?"}], "tags": [], "owner": {"reputation": 474, "user_id": 5747649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-a3yQS1umZdY/AAAAAAAAAAI/AAAAAAAAAEE/ij6lzrClvwk/photo.jpg?sz=128", "display_name": "Don Bhrayan Singh", "link": "https://stackoverflow.com/users/5747649/don-bhrayan-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1473894726, "last_edit_date": 1473894726, "creation_date": 1473894383, "answer_id": 39500945, "question_id": 39500901, "link": "https://stackoverflow.com/questions/39500901/is-length-an-appropriate-call-to-a-javascript-array/39500945#39500945", "title": "Is .length an appropriate call to a JavaScript array?", "body": "<p>I think the problem is with this line:</p>\n\n<pre><code>for (x = 0, subscribers.length || 0; x &lt; length; x += 1) {\n</code></pre>\n\n<p>you defined the variable \"length\" but never initialized / assigned data to it.</p>\n\n<p>In detail:</p>\n\n<pre><code>subscribers.length || 0\n</code></pre>\n\n<p>Whats this supposed to do?</p>\n\n<pre><code>x &lt; length\n\nx &lt; length or x &lt; subscribers.length?\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473895044, "post_id": 39500972, "comment_id": 66319413, "body": "<code>x = 0,           True           ; x &lt; undefined; x += 1</code> what is that &quot;True&quot; there? It&#39;s completely incorrect whatever it is - the result of <code>subscribers.length || 0</code> will always be equal to the current length (in case the length is <code>0</code> it will proceed with the OR and still return <code>0</code>). However, that expression will be assigned to <code>x</code> since the comma operator is present. What would <i>actually</i> happen is <code>x = subscribers.length; x &lt; undefined; x += 1</code> and the check will always be <code>false</code>, because <code>undefined</code> is never going to be more than any number."}, {"owner": {"reputation": 2251, "user_id": 3755300, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YK1TX.jpg?s=128&g=1", "display_name": "vdj4y", "link": "https://stackoverflow.com/users/3755300/vdj4y"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473897431, "post_id": 39500972, "comment_id": 66320010, "body": "you are right to say that the expression will evaluate to 0. but how can it be assigned to x? I thought js will simply evaluate the expression."}], "tags": [], "owner": {"reputation": 2251, "user_id": 3755300, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/YK1TX.jpg?s=128&g=1", "display_name": "vdj4y", "link": "https://stackoverflow.com/users/3755300/vdj4y"}, "is_accepted": false, "score": -1, "last_activity_date": 1473897271, "last_edit_date": 1473897271, "creation_date": 1473894631, "answer_id": 39500972, "question_id": 39500901, "link": "https://stackoverflow.com/questions/39500901/is-length-an-appropriate-call-to-a-javascript-array/39500972#39500972", "title": "Is .length an appropriate call to a JavaScript array?", "body": "<p>like Don Bhrayan Singh said</p>\n\n<p>your code should be</p>\n\n<pre><code>for (var x = 0, length = subscribers.length || 0; x &lt; length; x += 1) {\n  subscribers[x](data);\n}\n</code></pre>\n\n<p>your previous code will run like this</p>\n\n<pre><code>// x = 0,           0           ; x &lt; undefined; x += 1\nfor (x = 0, subscribers.length || 0; x &lt; length; x += 1)     {\n  subscribers[x](data);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 24454, "user_id": 5108418, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/AN6Pg.png?s=128&g=1", "display_name": "Tamas Hegedus", "link": "https://stackoverflow.com/users/5108418/tamas-hegedus"}, "is_accepted": false, "score": 3, "last_activity_date": 1473895988, "creation_date": 1473895988, "answer_id": 39501141, "question_id": 39500901, "link": "https://stackoverflow.com/questions/39500901/is-length-an-appropriate-call-to-a-javascript-array/39501141#39501141", "title": "Is .length an appropriate call to a JavaScript array?", "body": "<p>You are missing a negation in the <code>publish</code> function:</p>\n\n<pre><code>self.publish = function publish(eventName, data) {\n    var subscribers, x, length;\n\n    if (events[eventName]) { // &lt;= Here you exit if there are subscribers, and continue if there arent\n      return false;\n    }\n\n    subscribers = events[eventName];  // So subscribers is guaranteed to be undefined\n\n    // can't get length (or any property) of undefined\n    for (x = 0, length = subscribers.length || 0; x &lt; length; x += 1) {\n...\n</code></pre>\n\n<p>This causes your tests to fail. This is the way to go:</p>\n\n<pre><code>self.publish = function publish(eventName, data) {\n    // you can use const and let\n    // you are storing subscribers in a variable anyway, so why not doing it\n    // before the check?\n    const subscribers = events[eventName];\n\n    if (!subscribers) {\n      return false;\n    }\n\n    // you don't need to cache length in a variable, iirc it only improves performance slightly on IE browsers\n    // neither need you `|| 0`\n    // there other ways iterating through an array, see for..of and Array.prototype.forEach\n    for (let x = 0; x &lt; subscribers.length; x++) {\n      subscribers[x](data);\n    }\n\n    return true;\n};\n</code></pre>\n\n<blockquote>\n  <p>it is undefined if it's unpopulated, right?</p>\n</blockquote>\n\n<p>No, the length of an array is zero if its empty. You get an undefined when reading a missing property of an object, but the length of an array is always a number.</p>\n"}, {"tags": [], "owner": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "is_accepted": false, "score": 0, "last_activity_date": 1473911770, "creation_date": 1473911770, "answer_id": 39502873, "question_id": 39500901, "link": "https://stackoverflow.com/questions/39500901/is-length-an-appropriate-call-to-a-javascript-array/39502873#39502873", "title": "Is .length an appropriate call to a JavaScript array?", "body": "<p>As it turns out, the code worked fine when I fixed the typo.</p>\n\n<pre><code>if (events[eventName]) {\n</code></pre>\n\n<p>is supposed to be </p>\n\n<pre><code>if (!events[eventName]) {\n</code></pre>\n\n<p>Everything worked as intended after that correction.\nMy debugging issues are always something stupidly minor</p>\n"}], "owner": {"reputation": 1215, "user_id": 1418533, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/832e7fd1713de344d00ba3cc9c6fae54?s=128&d=identicon&r=PG", "display_name": "Ken Ingram", "link": "https://stackoverflow.com/users/1418533/ken-ingram"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1473911770, "creation_date": 1473894143, "last_edit_date": 1473895040, "question_id": 39500901, "link": "https://stackoverflow.com/questions/39500901/is-length-an-appropriate-call-to-a-javascript-array", "title": "Is .length an appropriate call to a JavaScript array?", "body": "<p>For some reason, I cannot get the length of an array (it is undefined if it's unpopulated, right?).</p>\n\n<pre><code>define(function() {\n  'use strict';\n\n  var self = {},\n    events = {};\n\n  self.publish = function publish(eventName, data) {\n    var subscribers, x, length;\n\n    if (events[eventName]) {\n      return false;\n    }\n\n    subscribers = events[eventName];\n\n    for (x = 0, length = subscribers.length || 0; x &lt; length; x += 1) {\n      subscribers[x](data);\n    }\n\n    return true;\n  };\n\n  self.subscribe = function subscribe(eventName, func) {\n    if (!events[eventName]) {\n      events[eventName] = [];\n    }\n\n    events[eventName].push(func);\n  };\n  return self;\n});\n</code></pre>\n\n<p>JSLint says: \"Expected ';' and instead saw ','.\"\nJasmine says \"TypeError: Cannot read property 'length' of undefined\"</p>\n\n<p>Why isn't length set to 0? Have I misunderstood the syntax an operations here?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 3, "creation_date": 1473894020, "post_id": 39500862, "comment_id": 66319123, "body": "Take debugger and step through your code. That&#39;s what debugger is for."}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 1, "creation_date": 1473894075, "post_id": 39500862, "comment_id": 66319139, "body": "Learn to rubberduck-debug your programs. Five lines of code are easy enough to debug yourself. Especially if it\u2019s a factorial function that has billions of examples all over the internet."}, {"owner": {"reputation": 311, "user_id": 3958017, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8397330099f48e9e060d73e519b848ec?s=128&d=identicon&r=PG&f=1", "display_name": "theHussle", "link": "https://stackoverflow.com/users/3958017/thehussle"}, "edited": false, "score": 0, "creation_date": 1473894175, "post_id": 39500862, "comment_id": 66319165, "body": "Im using a web tool which doesn&#39;t seem to directly provide the code to be debugged."}, {"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1473894217, "post_id": 39500862, "comment_id": 66319177, "body": "@theHussle But you are using a web browser right now to ask this question, are you not? Every modern web browser has a console with debugging capabilities."}, {"owner": {"reputation": 137853, "user_id": 615754, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SiiYj.jpg?s=128&g=1", "display_name": "nnnnnn", "link": "https://stackoverflow.com/users/615754/nnnnnn"}, "edited": false, "score": 1, "creation_date": 1473894217, "post_id": 39500862, "comment_id": 66319178, "body": "Hint: What does the second line inside the for loop do?"}, {"owner": {"reputation": 311, "user_id": 3958017, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8397330099f48e9e060d73e519b848ec?s=128&d=identicon&r=PG&f=1", "display_name": "theHussle", "link": "https://stackoverflow.com/users/3958017/thehussle"}, "edited": false, "score": 0, "creation_date": 1473894276, "post_id": 39500862, "comment_id": 66319191, "body": "The console doesn&#39;t display anything, I&#39;ve tried using console.log as mentioned in the question. Ok sorry didn&#39;t add that"}, {"owner": {"reputation": 311, "user_id": 3958017, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8397330099f48e9e060d73e519b848ec?s=128&d=identicon&r=PG&f=1", "display_name": "theHussle", "link": "https://stackoverflow.com/users/3958017/thehussle"}, "edited": false, "score": 0, "creation_date": 1473894336, "post_id": 39500862, "comment_id": 66319204, "body": "Its being done in an online tool which DOES NOT allow access directly to the Javascript code."}, {"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "edited": false, "score": 0, "creation_date": 1473894479, "post_id": 39500862, "comment_id": 66319246, "body": "@theHussle for what it&#39;s worth you could just copy/paste this code into your developer console (F12 or right click &gt; inspect) and debug it there."}, {"owner": {"reputation": 311, "user_id": 3958017, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8397330099f48e9e060d73e519b848ec?s=128&d=identicon&r=PG&f=1", "display_name": "theHussle", "link": "https://stackoverflow.com/users/3958017/thehussle"}, "edited": false, "score": 0, "creation_date": 1473894742, "post_id": 39500862, "comment_id": 66319331, "body": "Thanks Paarth, I didn&#39;t know that. if you post as an answer I can upvote."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1473896406, "post_id": 39500862, "comment_id": 66319757, "body": "To calculate factorial in a loop, you need to multiply the previous total by the current number. You&#39;re just multiplying the current number by itself, replacing <code>total</code> each time. It&#39;s not building on the previous value at all."}], "answers": [{"tags": [], "owner": {"reputation": 130, "user_id": 5326728, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb49642583b9eb3913282d58a0683eac?s=128&d=identicon&r=PG&f=1", "display_name": "Hiren", "link": "https://stackoverflow.com/users/5326728/hiren"}, "is_accepted": false, "score": 2, "last_activity_date": 1473894220, "creation_date": 1473894220, "answer_id": 39500919, "question_id": 39500862, "link": "https://stackoverflow.com/questions/39500862/javascript-factorialize-returns-incorrect-result/39500919#39500919", "title": "Javascript Factorialize returns incorrect result", "body": "<p>This is not the correct way to calculate the factorial. What is happening in your code is, the last time the line <code>total = fact * fact;</code> is run, <code>fact</code> has a value of 10 (because <code>i</code> is 5), so 10 * 10 becomes 100 and that is what it returns.</p>\n"}, {"comments": [{"owner": {"reputation": 311, "user_id": 3958017, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8397330099f48e9e060d73e519b848ec?s=128&d=identicon&r=PG&f=1", "display_name": "theHussle", "link": "https://stackoverflow.com/users/3958017/thehussle"}, "edited": false, "score": 0, "creation_date": 1473894488, "post_id": 39500925, "comment_id": 66319250, "body": "Thank you for the explanation, that makes sense."}], "tags": [], "owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "is_accepted": false, "score": 1, "last_activity_date": 1473894257, "creation_date": 1473894257, "answer_id": 39500925, "question_id": 39500862, "link": "https://stackoverflow.com/questions/39500862/javascript-factorialize-returns-incorrect-result/39500925#39500925", "title": "Javascript Factorialize returns incorrect result", "body": "<p>TLDR is you're overwriting all the values of <code>fact</code>. <code>var</code> is scoped to a function in JS. Eventually you reach <code>i = 5</code>, which eventually sets fact to <code>(5+5) * (5+5)</code> which is 100.</p>\n"}, {"comments": [{"owner": {"reputation": 311, "user_id": 3958017, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8397330099f48e9e060d73e519b848ec?s=128&d=identicon&r=PG&f=1", "display_name": "theHussle", "link": "https://stackoverflow.com/users/3958017/thehussle"}, "edited": false, "score": 0, "creation_date": 1473894450, "post_id": 39500934, "comment_id": 66319239, "body": "Could you quickly explain why I need to declare total outside the loop?"}, {"owner": {"reputation": 6004, "user_id": 6471538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Robert Columbia", "link": "https://stackoverflow.com/users/6471538/robert-columbia"}, "reply_to_user": {"reputation": 311, "user_id": 3958017, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8397330099f48e9e060d73e519b848ec?s=128&d=identicon&r=PG&f=1", "display_name": "theHussle", "link": "https://stackoverflow.com/users/3958017/thehussle"}, "edited": false, "score": 0, "creation_date": 1473894517, "post_id": 39500934, "comment_id": 66319256, "body": "@theHussle because it is a running product. You initialize it as 1 because the default case, when num is zero and the loop doesn&#39;t run, the answer is 1, because math. You might want to <a href=\"https://en.wikipedia.org/wiki/Factorial\" rel=\"nofollow noreferrer\">read up on factorials</a>."}, {"owner": {"reputation": 7276, "user_id": 2557260, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f1a724506fb7553b7336412e3cf4f85?s=128&d=identicon&r=PG", "display_name": "Paarth", "link": "https://stackoverflow.com/users/2557260/paarth"}, "reply_to_user": {"reputation": 311, "user_id": 3958017, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8397330099f48e9e060d73e519b848ec?s=128&d=identicon&r=PG&f=1", "display_name": "theHussle", "link": "https://stackoverflow.com/users/3958017/thehussle"}, "edited": false, "score": 0, "creation_date": 1473894723, "post_id": 39500934, "comment_id": 66319326, "body": "That wasn&#39;t quite the question. @theHussle you don&#39;t necessarily need to declare the variable outside the loop (though it is a good idea). However, you do need to assign its initial value outside the loop because if you don&#39;t you&#39;ll just overwrite it with what you have this time, throwing away all the work you did in previous iterations of the loop"}], "tags": [], "owner": {"reputation": 6004, "user_id": 6471538, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rX1ss.png?s=128&g=1", "display_name": "Robert Columbia", "link": "https://stackoverflow.com/users/6471538/robert-columbia"}, "is_accepted": true, "score": 1, "last_activity_date": 1473894297, "creation_date": 1473894297, "answer_id": 39500934, "question_id": 39500862, "link": "https://stackoverflow.com/questions/39500862/javascript-factorialize-returns-incorrect-result/39500934#39500934", "title": "Javascript Factorialize returns incorrect result", "body": "<p>If you are trying to calculate the factorial, use this code:</p>\n\n<pre><code>function factorialize(num) {\n  var total = 1; // Initialize the total. 0! = 1.\n  for(var i = 1; i &lt;= num; i++ ) {\n\n    total = total * i; // Add the current index to the factors by multiplying it by the current total.\n  }\n  return total;\n}\n</code></pre>\n"}], "owner": {"reputation": 311, "user_id": 3958017, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/8397330099f48e9e060d73e519b848ec?s=128&d=identicon&r=PG&f=1", "display_name": "theHussle", "link": "https://stackoverflow.com/users/3958017/thehussle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 39500934, "answer_count": 3, "score": -5, "last_activity_date": 1473895260, "creation_date": 1473893900, "last_edit_date": 1473895260, "question_id": 39500862, "link": "https://stackoverflow.com/questions/39500862/javascript-factorialize-returns-incorrect-result", "title": "Javascript Factorialize returns incorrect result", "body": "<p>Just wondering if anyone can tell me why this returns 100 and not 120? It should calculate the total number of the factor.</p>\n\n<pre><code>function factorialize(num) {\n\n  for(var i = 1; i &lt;= num; i++ ) {\n    var fact = i+i;    \n    total = fact * fact;\n  }\n  return total;\n}\n\nfactorialize(5);\n</code></pre>\n"}, {"tags": ["javascript", "html", "input", "numbers", "sequence"], "comments": [{"owner": {"reputation": 5844, "user_id": 4574285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155193056175076/picture?type=large", "display_name": "finalfreq", "link": "https://stackoverflow.com/users/4574285/finalfreq"}, "edited": false, "score": 0, "creation_date": 1473893863, "post_id": 39500837, "comment_id": 66319074, "body": "is there any reason not to use the <code>type=number</code> html5 input that only allows numbers?"}, {"owner": {"reputation": 956, "user_id": 6817087, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce18986fe245a8dd1a8f49d74cbb9ab?s=128&d=identicon&r=PG&f=1", "display_name": "Imbar M.", "link": "https://stackoverflow.com/users/6817087/imbar-m"}, "edited": false, "score": 0, "creation_date": 1473893950, "post_id": 39500837, "comment_id": 66319107, "body": "you can loop through the characters for the input and check c &lt;= &#39;9&#39; &amp;&amp; c&gt;=&#39;0&#39;, and collect the digits."}, {"owner": {"reputation": 71, "user_id": 6454787, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e945b9e90fc0d54be20d996c8d08cec9?s=128&d=identicon&r=PG&f=1", "display_name": "UmarAbbasKhan", "link": "https://stackoverflow.com/users/6454787/umarabbaskhan"}, "reply_to_user": {"reputation": 5844, "user_id": 4574285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155193056175076/picture?type=large", "display_name": "finalfreq", "link": "https://stackoverflow.com/users/4574285/finalfreq"}, "edited": false, "score": 0, "creation_date": 1473894005, "post_id": 39500837, "comment_id": 66319120, "body": "@finalfreq The reason is that I am to allow users to see the currency symbol with the price, and if they type the currency symbol for me, I need to just select the numbers from it."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1473894235, "post_id": 39500837, "comment_id": 66319184, "body": "Do you want the number to be <i>correct</i>, though? With an input of <code>1a000</code> do you expect that to be <code>1</code> or <code>1000</code> or nothing? What if the input is formatted with thousand separators, e.g., <code>1,000</code> - is that <code>1000</code>? What if the user uses non-English separators, e.g., <code>1 000,00</code> for what would otherwise be expressed as <code>1000.00</code>? What if a user enters <code>1K</code> for a thousand?"}, {"owner": {"reputation": 71, "user_id": 6454787, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e945b9e90fc0d54be20d996c8d08cec9?s=128&d=identicon&r=PG&f=1", "display_name": "UmarAbbasKhan", "link": "https://stackoverflow.com/users/6454787/umarabbaskhan"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473894351, "post_id": 39500837, "comment_id": 66319210, "body": "@vlaz if the user enters 1a000 I would like javascript to change it to 1000 for me. And for 1,000.00 i would also like javascript to change this to 1000 for me."}, {"owner": {"reputation": 20246, "user_id": 592253, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a46ab9a1ec84b02baee4a249a95044d8?s=128&d=identicon&r=PG", "display_name": "Xotic750", "link": "https://stackoverflow.com/users/592253/xotic750"}, "edited": false, "score": 0, "creation_date": 1473896351, "post_id": 39500837, "comment_id": 66319741, "body": "<code>scoop up the number integers from the input string sequentially from left to right?</code> Isn&#39;t that description right to left?"}, {"owner": {"reputation": 71, "user_id": 6454787, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e945b9e90fc0d54be20d996c8d08cec9?s=128&d=identicon&r=PG&f=1", "display_name": "UmarAbbasKhan", "link": "https://stackoverflow.com/users/6454787/umarabbaskhan"}, "reply_to_user": {"reputation": 20246, "user_id": 592253, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a46ab9a1ec84b02baee4a249a95044d8?s=128&d=identicon&r=PG", "display_name": "Xotic750", "link": "https://stackoverflow.com/users/592253/xotic750"}, "edited": false, "score": 0, "creation_date": 1473900275, "post_id": 39500837, "comment_id": 66320653, "body": "@Xotic750 in english numerical values are always written from left to right. So it makes sense to try to establish context like this. Otherwise one would entirely make the number upside down."}, {"owner": {"reputation": 20246, "user_id": 592253, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a46ab9a1ec84b02baee4a249a95044d8?s=128&d=identicon&r=PG", "display_name": "Xotic750", "link": "https://stackoverflow.com/users/592253/xotic750"}, "edited": false, "score": 0, "creation_date": 1473900574, "post_id": 39500837, "comment_id": 66320717, "body": "I misread a comment."}], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 6454787, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e945b9e90fc0d54be20d996c8d08cec9?s=128&d=identicon&r=PG&f=1", "display_name": "UmarAbbasKhan", "link": "https://stackoverflow.com/users/6454787/umarabbaskhan"}, "edited": false, "score": 0, "creation_date": 1473895266, "post_id": 39501000, "comment_id": 66319481, "body": "Thanks a lot KOLANICH. This is perfect solution for me."}], "tags": [], "owner": {"reputation": 2224, "user_id": 450946, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/dce6b278914691e3eb31e4442a73cc2a?s=128&d=identicon&r=PG", "display_name": "KOLANICH", "link": "https://stackoverflow.com/users/450946/kolanich"}, "is_accepted": true, "score": 1, "last_activity_date": 1473895301, "last_edit_date": 1473895301, "creation_date": 1473894854, "answer_id": 39501000, "question_id": 39500837, "link": "https://stackoverflow.com/questions/39500837/how-to-select-number-integers-from-a-string-sequence-wise-from-left-to-right-in/39501000#39501000", "title": "How to select number integers from a string sequence wise from left to right in javascript", "body": "<p>that's easy</p>\n\n<pre><code>alert(new Number(\"blah 12345,;(,84\".match(/(?:\\d+|\\.)/g).join(\"\")))\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 6454787, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/e945b9e90fc0d54be20d996c8d08cec9?s=128&d=identicon&r=PG&f=1", "display_name": "UmarAbbasKhan", "link": "https://stackoverflow.com/users/6454787/umarabbaskhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 39501000, "answer_count": 1, "score": 1, "last_activity_date": 1473895301, "creation_date": 1473893762, "question_id": 39500837, "link": "https://stackoverflow.com/questions/39500837/how-to-select-number-integers-from-a-string-sequence-wise-from-left-to-right-in", "title": "How to select number integers from a string sequence wise from left to right in javascript", "body": "<p>I have an input element in which users are to enter the price of the product. </p>\n\n<pre><code>&lt;input size=10 type=\"text\" id=\"prd_price\" title=\"prd_price\" name=\"prd_price\"&gt;\n</code></pre>\n\n<p>My users can enter the Currency Symbols aswell as other things and I am not allowed to stop them from doing this. I have to just select the numbers and form the value of the price from their input string, whether they enter currency symbols in front or after the price or also make the input string comma formatted like 1,000.00. </p>\n\n<p>Can anyone help me to find if their is a javascript function from which I can scoop up the number integers from the input string sequentially from left to right?</p>\n"}, {"tags": ["javascript", "reactjs", "ecmascript-6", "redux", "react-redux"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1473892971, "post_id": 39500705, "comment_id": 66318840, "body": "You cannot read the <code>key</code> property but you can pass <code>tag</code> as an argument into a handler <code>e =&gt; highlightTag(e, tag)</code> Warning: an antipattern"}], "answers": [{"tags": [], "owner": {"reputation": 5844, "user_id": 4574285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155193056175076/picture?type=large", "display_name": "finalfreq", "link": "https://stackoverflow.com/users/4574285/finalfreq"}, "is_accepted": true, "score": 2, "last_activity_date": 1473892958, "creation_date": 1473892958, "answer_id": 39500733, "question_id": 39500705, "link": "https://stackoverflow.com/questions/39500705/accessing-key-property-value-within-react-dumb-component/39500733#39500733", "title": "Accessing key property value within react dumb component", "body": "<p>It isn't the best way to do it, instead you should have button be a seperate component where you can pass the onclick and the key as props and then in the button component merge the two together. The quick and dirty way is as follows </p>\n\n<pre><code>&lt;button type=\"button\" onClick={ highlightTag.bind(this, tag) }&gt;\n</code></pre>\n\n<p>that will make sure that that argument is always provided to the highlightTag function. </p>\n\n<p>The problem with this though is when React checks to see if anything has changed with the component it will always return true because of the function binding in the render method. If you aren't worried about performance you can leave it that way but that is the pitfall of using the binding in the render method</p>\n"}, {"tags": [], "owner": {"reputation": 429, "user_id": 2396815, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f7fbf8dd611f7cbefad9670cac8fba77?s=128&d=identicon&r=PG", "display_name": "lastid", "link": "https://stackoverflow.com/users/2396815/lastid"}, "is_accepted": false, "score": 1, "last_activity_date": 1473894196, "creation_date": 1473894196, "answer_id": 39500914, "question_id": 39500705, "link": "https://stackoverflow.com/questions/39500705/accessing-key-property-value-within-react-dumb-component/39500914#39500914", "title": "Accessing key property value within react dumb component", "body": "<p>I'm not sure if you need to get the event back in the <code>highlightTag</code> function, but I would do</p>\n\n<pre><code>&lt;button type=\"button\" onClick={ev =&gt; {\n  ev.preventDefault();\n  highlightTag(tag); \n}}&gt;\n</code></pre>\n\n<p>This will make your function <code>highlightTag</code> more reusable (call this function programmatically, not from a user interaction for instance). It will also decouple implementation detail of TagSummary with its parent.</p>\n"}], "owner": {"reputation": 13318, "user_id": 1815710, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/dddf39759fed431cd1e8ecad2aa7dc49?s=128&d=identicon&r=PG", "display_name": "Liondancer", "link": "https://stackoverflow.com/users/1815710/liondancer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "accepted_answer_id": 39500733, "answer_count": 2, "score": 1, "last_activity_date": 1473894196, "creation_date": 1473892748, "question_id": 39500705, "link": "https://stackoverflow.com/questions/39500705/accessing-key-property-value-within-react-dumb-component", "title": "Accessing key property value within react dumb component", "body": "<p>How can I access my <code>key</code> property value inside my dumb component?</p>\n\n<p>I have this dumb component:</p>\n\n<pre><code>const TagSummary = ({ tags, highlightTag }) =&gt; {\n    if (!tags) {\n        return &lt;div /&gt;;\n    }\n    return (\n        &lt;div&gt;\n            {Object.keys(tags).map((tag) =&gt; {\n                return (\n                    &lt;div key={ tag }&gt;\n                        &lt;button type=\"button\" onClick={ highlightTag }&gt;\n                            &lt;pre&gt;&amp;lt;{ tag }&amp;gt;&lt;/pre&gt;\n                        &lt;/button&gt;\n                        &lt;p&gt;{ tags[tag] }&lt;/p&gt;\n                    &lt;/div&gt;\n\n                );\n            })}\n        &lt;/div&gt;\n    );\n};\n</code></pre>\n\n<p>The method that I pass into it is this:</p>\n\n<pre><code>highlightTag(event) {\n    event.preventDefault();\n    console.log(event.target);\n}\n</code></pre>\n\n<p>I want to be able to retrieve the <code>key</code> property in order to perform some other type of logic. How can I retrieve it <code>onClick</code>?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 11354, "user_id": 1549541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed8b6f7fe07ba163a4da48c615542d71?s=128&d=identicon&r=PG", "display_name": "MinusFour", "link": "https://stackoverflow.com/users/1549541/minusfour"}, "edited": false, "score": 2, "creation_date": 1473892834, "post_id": 39500613, "comment_id": 66318791, "body": "All your timeouts are run in 3 seconds, instead of having the first one at the 3 second mark, the second one at the 6 second mark, etc."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473892846, "post_id": 39500613, "comment_id": 66318796, "body": "Use promises and execute the functions after whatever it is you wait for has resolved?"}, {"owner": {"reputation": 79, "user_id": 5910746, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/aFkmQ.jpg?s=128&g=1", "display_name": "nwimmer123", "link": "https://stackoverflow.com/users/5910746/nwimmer123"}, "reply_to_user": {"reputation": 11354, "user_id": 1549541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed8b6f7fe07ba163a4da48c615542d71?s=128&d=identicon&r=PG", "display_name": "MinusFour", "link": "https://stackoverflow.com/users/1549541/minusfour"}, "edited": false, "score": 0, "creation_date": 1473893337, "post_id": 39500613, "comment_id": 66318935, "body": "@MinusFour - ahhhh, that makes sense, although the next iterations in the runRace function happen prior to the timeinterval anyways, but that would explain why the alert in the endRace function fires of, as many times as there are players in the game at the end of the 3 secs"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1473894679, "post_id": 39500613, "comment_id": 66319313, "body": "Timeout functions run asynchronously. When you call it, it doesn&#39;t wait for it to complete."}, {"owner": {"reputation": 79, "user_id": 5910746, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/aFkmQ.jpg?s=128&g=1", "display_name": "nwimmer123", "link": "https://stackoverflow.com/users/5910746/nwimmer123"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1473896971, "post_id": 39500613, "comment_id": 66319894, "body": "@Barmar, yeah, i figured that out. what would be an alternate solution instead of using setTimeout. I want to halt all operation until the time interval ends and then proced down the logic path"}], "answers": [{"tags": [], "owner": {"reputation": 2908, "user_id": 804575, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/7b68f43b0bb8a099d2fc6810a9f4a15b?s=128&d=identicon&r=PG", "display_name": "Ralph Ritoch", "link": "https://stackoverflow.com/users/804575/ralph-ritoch"}, "is_accepted": false, "score": 0, "last_activity_date": 1473916989, "creation_date": 1473916989, "answer_id": 39503643, "question_id": 39500613, "link": "https://stackoverflow.com/questions/39500613/settimeout-executing-is-not-stopping-further-iterations-from-occurring-need-ot/39503643#39503643", "title": "setTimeout executing is not stopping further iterations from occurring - need other solution", "body": "<p>Calls to setTimeout return immediately and only execute once so one easy/common way to handle ordering them is to make tail calls (tick) to setTimeout and to put all requests in a queue.</p>\n\n<pre><code>// ** RUNNING GAME FUNCTIONS ** \\\\\n\nvar raceHandlers = [];\nvar raceTimout = 3000;\n\nfunction tick() {\n  // Tail call\n  if (raceHandlers.length &gt; 0) {\n     var action = raceHandlers.pop();\n     setTimeout(action[0],raceTimeout,action[1]);\n  }\n}\n\n//hides instructions and reveals game\nfunction setupRace(i) {\n  console.log(\"In Race Setup\")\n  $(\"#word\").show();\n  document.getElementById(\"word\").focus();\n  generateWords();\n  $(\".toType\").text(gameWords[0]);\n  $(\"#instructions\").hide();\n  $(\".wordDisplay\").show();\n  $(\".player\").show();\n  var playerAvatar = 'url(\"images/' + playerInfo[i].avatar + '.png\")'\n  $(\".player\").css({background: playerAvatar});\n  tick();\n}\n\n//advances ship on correct typing\nfunction runRace() {\n  console.log(\"In run race\");\n  var i = 0;\n  while (i &lt; playerInfo.length) {\n    console.log(\"in run race loop\");\n    //setupRace(i);\n    raceHandlers.unshift([setupRace,i]);\n\n    //timer is skipping ahead to the next iteration, eventhough \n    //checkEndRace hasn't run yet\n    var j = 1;\n    $(document).keyup(function(e){\n      var targetWord = $(\".toType\").text();\n      var typedWord = $(\"#word\").val();\n      while (j &lt; gameWords.length){\n        if(typedWord === targetWord){\n          $(\".player\").css({left: \"+=15px\",});\n          targetWord = $(\".toType\").text(gameWords[j]);\n          $(\"#word\").val(\"\");\n          j++;\n        }else {\n          return\n        };\n      }\n    });\n    i ++;\n  };\n\n  raceHandlers.unshift([endRace,playerInfo.length]);\n  tick();\n}\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 5910746, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/aFkmQ.jpg?s=128&g=1", "display_name": "nwimmer123", "link": "https://stackoverflow.com/users/5910746/nwimmer123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473916989, "creation_date": 1473892216, "question_id": 39500613, "link": "https://stackoverflow.com/questions/39500613/settimeout-executing-is-not-stopping-further-iterations-from-occurring-need-ot", "title": "setTimeout executing is not stopping further iterations from occurring - need other solution", "body": "<p>I am making a typing game using just jQuery and javascript. It worked fine as a single player game, feel free to play it at <a href=\"http://typetothestars.bitballoon.com/\" rel=\"nofollow\">http://typetothestars.bitballoon.com/</a> However, I am planning to keep ratcheting up its complexity level. So I am trying to add muti player to it now.</p>\n\n<p>here it is in jsfiddle minus images <a href=\"https://jsfiddle.net/u32s4yty/\" rel=\"nofollow\">https://jsfiddle.net/u32s4yty/</a></p>\n\n<p>My problem lies in my runRace functions. I was expecting the race to run for player 1, when the interval ended, it would then start again for player 2. Instead, it runs through all the iterations right away. So apperently setTimeout is not going to work here. </p>\n\n<p>Any suggestions as to how to make it work?</p>\n\n<p>Thanks!</p>\n\n<pre><code>// ** RUNNING GAME FUNCTIONS ** \\\\\n\n//hides instructions and reveals game\nfunction setupRace(i) {\n  console.log(\"In Race Setup\")\n  $(\"#word\").show();\n  document.getElementById(\"word\").focus();\n  generateWords();\n  $(\".toType\").text(gameWords[0]);\n  $(\"#instructions\").hide();\n  $(\".wordDisplay\").show();\n  $(\".player\").show();\n  var playerAvatar = 'url(\"images/' + playerInfo[i].avatar + '.png\")'\n  $(\".player\").css({background: playerAvatar});\n}\n\n//game timer - IS NOT STOPPING THE OTHER FUNCTIONS FROM RUNNING\nvar timeoutID;\nfunction timer(i) {\n  timeoutID = window.setTimeout(checkEndRace, 3000, i)\n  console.log(\"i = \" + i);\n  console.log(playerInfo[i]);\n}\n\nfunction checkEndRace(i) {\n  console.log(\"in check end race - num players \" + numPlayers);\n  if (i &lt; numPlayers - 1) {\n    setupRace(i);\n  }else {\n    endRace(i);\n  }\n}\n\n//advances ship on correct typing\nfunction runRace() {\n  console.log(\"In run race\");\n  var i = 0;\n  while (i &lt; playerInfo.length) {\n    console.log(\"in run race loop\");\n    setupRace(i);\n    timer(i);\n    //timer is skipping ahead to the next iteration, eventhough \n    //checkEndRace hasn't run yet\n    var j = 1;\n    $(document).keyup(function(e){\n      var targetWord = $(\".toType\").text();\n      var typedWord = $(\"#word\").val();\n      while (j &lt; gameWords.length){\n        if(typedWord === targetWord){\n          $(\".player\").css({left: \"+=15px\",});\n          targetWord = $(\".toType\").text(gameWords[j]);\n          $(\"#word\").val(\"\");\n          j++;\n        }else {\n          return\n        };\n      }\n    });\n    i ++;\n  };\n}\n</code></pre>\n\n<p>I was hoping to use setTimeout to stop all functions the following functions, until the interval is completed. </p>\n"}, {"tags": ["javascript", "node.js", "sockets", "socket.io"], "comments": [{"owner": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1473892601, "post_id": 39500577, "comment_id": 66318721, "body": "Not really an answer but from personal experience - assuming reasonable code you should be able to do several thousands on a server, and scale that by persisting clients to REDIS (or a DB) instead of memory and having several servers communicate through that. Not terribly hard to get to 50k concurrent users if all you want is messaging."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1473896809, "post_id": 39500577, "comment_id": 66319855, "body": "FYI, you do not have to maintain your own map of sockets indexed by their id.  That is already done for you automatically by socket.io in <code>io.sockets.connected</code>.  It is exactly what your <code>clients</code> object is already except it is maintained automatically for you by socket.io."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1473896951, "post_id": 39500577, "comment_id": 66319890, "body": "If you configure your server appropriately for a large number of open sockets, you may be limited by the amount of traffic you can process with a single process long before you have memory issues from your number of connections.  So, unless most sockets sit idle, your actual scaling is probably limited by traffic processing concerns which you haven&#39;t mentioned anything about."}, {"owner": {"reputation": 1135, "user_id": 2676680, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a81470e51785d066f1c490330cd847a5?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Darnell", "link": "https://stackoverflow.com/users/2676680/matthew-darnell"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1473897824, "post_id": 39500577, "comment_id": 66320091, "body": "@jfriend00: You may be right. However, at current levels of traffic, that shouldn&#39;t be an issue. The application can handle multiple requests concurrently via a worker threadpool and hasn&#39;t shown any sign of being remotely throttled. I do hope that&#39;s the limiting factor here."}, {"owner": {"reputation": 4752, "user_id": 440887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5d8d11218e27e262c42be0277248cf26?s=128&d=identicon&r=PG", "display_name": "sova", "link": "https://stackoverflow.com/users/440887/sova"}, "edited": false, "score": 0, "creation_date": 1474130449, "post_id": 39500577, "comment_id": 66410488, "body": "@MatthewDarnell just as a follow-up, I found this to be very interesting.  <a href=\"http://www.http-kit.org/600k-concurrent-connection-http-kit.html\" rel=\"nofollow noreferrer\">http-kit.org/600k-concurrent-connection-http-kit.html</a>  They mention 250k concurrent connections on a relatively modest machine, running with no problemo.  Of course, the 600k is when they run their whole setup using Clojure and http-kit, but it has links to node benchmarks."}], "answers": [{"tags": [], "owner": {"reputation": 4752, "user_id": 440887, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5d8d11218e27e262c42be0277248cf26?s=128&d=identicon&r=PG", "display_name": "sova", "link": "https://stackoverflow.com/users/440887/sova"}, "is_accepted": true, "score": 1, "last_activity_date": 1473897268, "creation_date": 1473897268, "answer_id": 39501302, "question_id": 39500577, "link": "https://stackoverflow.com/questions/39500577/how-many-socket-io-objects-can-be-held-in-a-js-object-in-memory-before-noticeabl/39501302#39501302", "title": "How many socket.io objects can be held in a JS object in memory before noticeable degradation of performance?", "body": "<p>Ten thousand is a good estimate before you start seeing performance \"drops,\" and even then, probably not noticeable until you reach 20k or 50k socket objects.  If you consider the size in memory of a socket object versus that of a standard Apache connection (2-3MB per connection last I read) then you really don't have much to be concerned about.</p>\n"}], "owner": {"reputation": 1135, "user_id": 2676680, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/a81470e51785d066f1c490330cd847a5?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Darnell", "link": "https://stackoverflow.com/users/2676680/matthew-darnell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 39501302, "answer_count": 1, "score": 1, "last_activity_date": 1473897268, "creation_date": 1473891964, "question_id": 39500577, "link": "https://stackoverflow.com/questions/39500577/how-many-socket-io-objects-can-be-held-in-a-js-object-in-memory-before-noticeabl", "title": "How many socket.io objects can be held in a JS object in memory before noticeable degradation of performance?", "body": "<p>I have a bit of a strange website design. I am using socket.io and have to maintain the socket object of each connected user in order to funnel responses from a separate applicaton.</p>\n\n<p>I am storing the sockets like this:</p>\n\n<pre><code>var clients = {};\n\n//further down, in socket.io code:\nio.sockets.on('connection', function(socket){\n    clients[socket.id] = socket;\n    ....\n</code></pre>\n\n<p>When client requests come in, I include the socket id and send it for processing to another application. When the response comes in, I deque the connection and:</p>\n\n<pre><code>if(returned_object.socketid){\n    if(clients[d.socketid]){\n        clients[d.socketid].emit('res', returned_object);\n    }\n    ...\n</code></pre>\n\n<p>Realistically, how many concurrent connections could I expect before I notice performance lag? I'm wondering if it's in the tens, or hundreds, or thousands. Obviously, I am using <code>delete</code> on each socket <code>disconnect</code>.</p>\n\n<p>I have also considered writing each socket to disk on connection with <code>leveldb</code> or some other database. </p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "jquery", "arrays", "json", "ajax"], "comments": [{"owner": {"reputation": 20246, "user_id": 592253, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a46ab9a1ec84b02baee4a249a95044d8?s=128&d=identicon&r=PG", "display_name": "Xotic750", "link": "https://stackoverflow.com/users/592253/xotic750"}, "edited": false, "score": 0, "creation_date": 1473892197, "post_id": 39500554, "comment_id": 66318602, "body": "<a href=\"https://en.wikipedia.org/wiki/JSON\" rel=\"nofollow noreferrer\">JSON</a>, with your array of objects there are several <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array\" rel=\"nofollow noreferrer\">array methods</a> that could do this but try using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">Array#map</a> for each required new array. jQuery also has similar methods."}], "answers": [{"comments": [{"owner": {"reputation": 908, "user_id": 6242161, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-n5TgHn38U-4/AAAAAAAAAAI/AAAAAAAAAdM/1omFW3R6rNs/photo.jpg?sz=128", "display_name": "Liz", "link": "https://stackoverflow.com/users/6242161/liz"}, "edited": false, "score": 0, "creation_date": 1473892647, "post_id": 39500616, "comment_id": 66318734, "body": "I am getting a console error at <code>jsonData.forEach(function(item) {</code> that says &quot;charts-test.php:443 Uncaught TypeError: jsonData.forEach is not a function&quot;. How can I fix this?"}, {"owner": {"reputation": 680, "user_id": 4573574, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e884033aa0468fd3ef37c8efc618e12?s=128&d=identicon&r=PG&f=1", "display_name": "Shiyason", "link": "https://stackoverflow.com/users/4573574/shiyason"}, "edited": false, "score": 0, "creation_date": 1473893008, "post_id": 39500616, "comment_id": 66318851, "body": "Are you using the function in a callback once the data has came back? Or are you calling the function right away before the data has arrived?"}, {"owner": {"reputation": 9954, "user_id": 361762, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/76eSl.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/361762/dave"}, "edited": false, "score": 0, "creation_date": 1473893058, "post_id": 39500616, "comment_id": 66318861, "body": "Your AJAX call is not actually returning the JSON, but the jQuery <a href=\"http://api.jquery.com/Types/#jqXHR\" rel=\"nofollow noreferrer\">jqXHR</a> object. You need to add a <code>.done()</code> callback like in the edited answer."}, {"owner": {"reputation": 908, "user_id": 6242161, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-n5TgHn38U-4/AAAAAAAAAAI/AAAAAAAAAdM/1omFW3R6rNs/photo.jpg?sz=128", "display_name": "Liz", "link": "https://stackoverflow.com/users/6242161/liz"}, "edited": false, "score": 0, "creation_date": 1473893214, "post_id": 39500616, "comment_id": 66318902, "body": "@dave I see. That makes sense. Thank you so much. Why am I receiving a console error &quot;Uncaught SyntaxError: Unexpected token .&quot; due to the period in the <code>.done(function(data) {</code> line?"}, {"owner": {"reputation": 9954, "user_id": 361762, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/76eSl.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/361762/dave"}, "edited": false, "score": 1, "creation_date": 1473893479, "post_id": 39500616, "comment_id": 66318979, "body": "I think there was an extra comma in there before, see the update."}, {"owner": {"reputation": 908, "user_id": 6242161, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-n5TgHn38U-4/AAAAAAAAAAI/AAAAAAAAAdM/1omFW3R6rNs/photo.jpg?sz=128", "display_name": "Liz", "link": "https://stackoverflow.com/users/6242161/liz"}, "edited": false, "score": 1, "creation_date": 1473893628, "post_id": 39500616, "comment_id": 66319021, "body": "Works perfectly. Thank you for your help @dave"}], "tags": [], "owner": {"reputation": 9954, "user_id": 361762, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/76eSl.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/361762/dave"}, "is_accepted": true, "score": 2, "last_activity_date": 1473910616, "last_edit_date": 1473910616, "creation_date": 1473892238, "answer_id": 39500616, "question_id": 39500554, "link": "https://stackoverflow.com/questions/39500554/how-to-separate-json-array-into-2-separate-arrays-of-values-with-jquery/39500616#39500616", "title": "How to separate JSON array into 2 separate arrays of values with jQuery?", "body": "<p>No need for jQuery, use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow\"><code>Array.forEach()</code></a> like this:</p>\n\n<pre><code>var dates = [];\nvar clientCosts = [];\n\n$.ajax({\n  url: 'inc/wip-data.php',\n  dataType: 'json'\n}).done(function(data) {\n  data.forEach(function(item) {\n    dates.push(item.date);\n    clientCosts.push(item.clientCostsTotal);\n  });\n});\n</code></pre>\n\n<p>For a more functional approach, you might want to try using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow\"><code>Array.reduce()</code></a> which gives you the ability to generate multiple result arrays while still iterating through the source data only once. Here's a function implemented using <code>.reduce()</code> that will take any array structured like you have it and collate those results into a result. This function is generic, would work for any property names defined in the source.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function collate(d) {\r\n  return d.reduce(function(prev, cur, index) {\r\n    var ret = {};\r\n    for (var prop in cur) {\r\n      if (index === 0) {\r\n        ret[prop] = [];\r\n      } else {\r\n        ret[prop] = prev[prop];\r\n      }\r\n      ret[prop].push(cur[prop]);\r\n    }\r\n    return ret;\r\n  }, {});\r\n}\r\n\r\nvar data = [{\r\n  \"date\": \"2015-10\",\r\n  \"clientCostsTotal\": \"0.00\"\r\n}, {\r\n  \"date\": \"2015-11\",\r\n  \"clientCostsTotal\": \"0.00\"\r\n}, {\r\n  \"date\": \"2016-01\",\r\n  \"clientCostsTotal\": \"0.00\"\r\n}, {\r\n  \"date\": \"2016-02\",\r\n  \"clientCostsTotal\": \"0.00\"\r\n}, {\r\n  \"date\": \"2016-03\",\r\n  \"clientCostsTotal\": \"0.00\"\r\n}, {\r\n  \"date\": \"2016-04\",\r\n  \"clientCostsTotal\": \"27962.50\"\r\n}, {\r\n  \"date\": \"2016-05\",\r\n  \"clientCostsTotal\": \"174060.00\"\r\n}, {\r\n  \"date\": \"2016-06\",\r\n  \"clientCostsTotal\": \"309000.00\"\r\n}, {\r\n  \"date\": \"2016-07\",\r\n  \"clientCostsTotal\": \"502261.50\"\r\n}, {\r\n  \"date\": \"2016-08\",\r\n  \"clientCostsTotal\": \"7598.00\"\r\n}, {\r\n  \"date\": \"2016-12\",\r\n  \"clientCostsTotal\": \"0.00\"\r\n}];\r\n\r\nvar reduced = collate(data);\r\nconsole.log(reduced.date, reduced.clientCostsTotal);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 908, "user_id": 6242161, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-n5TgHn38U-4/AAAAAAAAAAI/AAAAAAAAAdM/1omFW3R6rNs/photo.jpg?sz=128", "display_name": "Liz", "link": "https://stackoverflow.com/users/6242161/liz"}, "edited": false, "score": 0, "creation_date": 1473892744, "post_id": 39500638, "comment_id": 66318763, "body": "I am getting a console error at <code>dates.push(data[i].date);  &#47;&#47; or dates.push(item.date);</code> that says &quot;charts-test.php:445 Uncaught ReferenceError: data is not defined&quot;. How do I fix this?"}, {"owner": {"reputation": 745, "user_id": 4613828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T9vzI.jpg?s=128&g=1", "display_name": "Abdelrahman M. Allam", "link": "https://stackoverflow.com/users/4613828/abdelrahman-m-allam"}, "reply_to_user": {"reputation": 908, "user_id": 6242161, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-n5TgHn38U-4/AAAAAAAAAAI/AAAAAAAAAdM/1omFW3R6rNs/photo.jpg?sz=128", "display_name": "Liz", "link": "https://stackoverflow.com/users/6242161/liz"}, "edited": false, "score": 0, "creation_date": 1473892848, "post_id": 39500638, "comment_id": 66318798, "body": "Sorry update the example was testing with different var name <code>data</code>"}], "tags": [], "owner": {"reputation": 745, "user_id": 4613828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T9vzI.jpg?s=128&g=1", "display_name": "Abdelrahman M. Allam", "link": "https://stackoverflow.com/users/4613828/abdelrahman-m-allam"}, "is_accepted": false, "score": 1, "last_activity_date": 1473893454, "last_edit_date": 1473893454, "creation_date": 1473892353, "answer_id": 39500638, "question_id": 39500554, "link": "https://stackoverflow.com/questions/39500554/how-to-separate-json-array-into-2-separate-arrays-of-values-with-jquery/39500638#39500638", "title": "How to separate JSON array into 2 separate arrays of values with jQuery?", "body": "<p>JQuery solution </p>\n\n<pre><code>// Your data will look like\nvar dataArrayOfJson = [{\"date\": \"2015-10\", \"clientCostsTotal\": \"0.00\"},{\"date\": \"2015-11\",\"clientCostsTotal\": \"0.00\"}];\n\nvar dates = [], clientCostsTotals= [];\n$(dataArrayOfJson ).each( function(i,item){ \n  dates.push(dataArrayOfJson [i].date);  // or dates.push(item.date);\n  clientCostsTotals.push(dataArrayOfJson [i].clientCostsTotal); // or  clientCostsTotals.push(item.clientCostsTotal);\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 20246, "user_id": 592253, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a46ab9a1ec84b02baee4a249a95044d8?s=128&d=identicon&r=PG", "display_name": "Xotic750", "link": "https://stackoverflow.com/users/592253/xotic750"}, "edited": false, "score": 1, "creation_date": 1473893328, "post_id": 39500757, "comment_id": 66318931, "body": "I think you need to need to read the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\"><code>Array#map</code></a> documentation again."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1473894934, "post_id": 39500757, "comment_id": 66319385, "body": "What&#39;s the point of using <code>.map()</code> if you don&#39;t have a <code>return</code> statement in the function? <code>result</code> will be full of <code>undefined</code> values."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1473894976, "post_id": 39500757, "comment_id": 66319402, "body": "If you don&#39;t return anything, you might as well just use <code>.forEach()</code>."}], "tags": [], "owner": {"reputation": 1759, "user_id": 4534940, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-ED0_bokWkys/AAAAAAAAAAI/AAAAAAAAALI/v_TK06VuFZ4/photo.jpg?sz=128", "display_name": "Yuri Ramos", "link": "https://stackoverflow.com/users/4534940/yuri-ramos"}, "is_accepted": false, "score": 0, "last_activity_date": 1473893118, "creation_date": 1473893118, "answer_id": 39500757, "question_id": 39500554, "link": "https://stackoverflow.com/questions/39500554/how-to-separate-json-array-into-2-separate-arrays-of-values-with-jquery/39500757#39500757", "title": "How to separate JSON array into 2 separate arrays of values with jQuery?", "body": "<p>A new solution that I've been using is the<a href=\"https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow\"><strong><em>map</em></strong></a> function. It is developed for functional programming, a better way to split the \"trees\", and much more understandable. Still learning but I recommend this video <a href=\"https://www.youtube.com/watch?v=e-5obm1G_FY\" rel=\"nofollow\">here</a>. It's fully supported by ECMA 5.</p>\n\n<pre><code>var Array1 = \n[\n{\n    \"date\": \"2015-10\",\n    \"clientCostsTotal\": \"0.00\"\n},\n{\n    \"date\": \"2015-11\",\n    \"clientCostsTotal\": \"0.00\"\n},\n{\n    \"date\": \"2016-01\",\n    \"clientCostsTotal\": \"0.00\"\n},\n{\n    \"date\": \"2016-02\",\n    \"clientCostsTotal\": \"0.00\"\n},\n{\n    \"date\": \"2016-03\",\n    \"clientCostsTotal\": \"0.00\"\n},\n{\n    \"date\": \"2016-04\",\n    \"clientCostsTotal\": \"27962.50\"\n},\n{\n    \"date\": \"2016-05\",\n    \"clientCostsTotal\": \"174060.00\"\n},\n{\n    \"date\": \"2016-06\",\n    \"clientCostsTotal\": \"309000.00\"\n},\n{\n    \"date\": \"2016-07\",\n    \"clientCostsTotal\": \"502261.50\"\n},\n{\n    \"date\": \"2016-08\",\n    \"clientCostsTotal\": \"7598.00\"\n},\n{\n    \"date\": \"2016-12\",\n    \"clientCostsTotal\": \"0.00\"\n}];\n\nvar result = Array1.map(function(a) {\nvar dates = [], clientCostsTotals= [];\ndates.push(a.date); \nclientCostsTotals.push(a.clientCostsTotal);\n});\n</code></pre>\n\n<p>I hope it helps!</p>\n"}, {"comments": [{"owner": {"reputation": 9954, "user_id": 361762, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/76eSl.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/361762/dave"}, "edited": false, "score": 0, "creation_date": 1473893535, "post_id": 39500789, "comment_id": 66318999, "body": "Because that only creates one array as a result, not two"}, {"owner": {"reputation": 2413, "user_id": 443302, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7d02069ff600f99c6b597d7c9729ded9?s=128&d=identicon&r=PG", "display_name": "Stewart", "link": "https://stackoverflow.com/users/443302/stewart"}, "reply_to_user": {"reputation": 9954, "user_id": 361762, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/76eSl.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/361762/dave"}, "edited": false, "score": 0, "creation_date": 1473893699, "post_id": 39500789, "comment_id": 66319041, "body": "Good spot. Updated."}, {"owner": {"reputation": 9954, "user_id": 361762, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/76eSl.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/361762/dave"}, "edited": false, "score": 0, "creation_date": 1473893811, "post_id": 39500789, "comment_id": 66319062, "body": "That works, but now you&#39;re looping the array twice instead of once. <code>forEach()</code> or a simple loop is just a better fit for this situation."}, {"owner": {"reputation": 2413, "user_id": 443302, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7d02069ff600f99c6b597d7c9729ded9?s=128&d=identicon&r=PG", "display_name": "Stewart", "link": "https://stackoverflow.com/users/443302/stewart"}, "reply_to_user": {"reputation": 9954, "user_id": 361762, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/76eSl.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/361762/dave"}, "edited": false, "score": 2, "creation_date": 1473894172, "post_id": 39500789, "comment_id": 66319163, "body": "I would argue not. Two reasons. Firstly the code here is more functional than using a <code>forEach()</code>. I don&#39;t need to forward declare anything and therefor maintenance is easier. I&#39;m also not muting the array. Second with modern browsers your never going to notice any performance hit when looping an array that has been returned by a server. Your only ever going to have a trivial sized array. I would prefer more readable code in this situation. <code>map()</code> provides that more than <code>forEach()</code> IMO."}, {"owner": {"reputation": 9954, "user_id": 361762, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/76eSl.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/361762/dave"}, "edited": false, "score": 0, "creation_date": 1473911318, "post_id": 39500789, "comment_id": 66322926, "body": "Well, I can agree with you about setup and maintenance, but I&#39;m not willing to just throw performance out the window. Perhaps the best solution is an implementation using <code>Array.reduce()</code> which retains the functional design of <code>.map()</code>, but also avoids duplicate iterations through the source data."}, {"owner": {"reputation": 2413, "user_id": 443302, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7d02069ff600f99c6b597d7c9729ded9?s=128&d=identicon&r=PG", "display_name": "Stewart", "link": "https://stackoverflow.com/users/443302/stewart"}, "reply_to_user": {"reputation": 9954, "user_id": 361762, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/76eSl.jpg?s=128&g=1", "display_name": "Dave", "link": "https://stackoverflow.com/users/361762/dave"}, "edited": false, "score": 0, "creation_date": 1473912038, "post_id": 39500789, "comment_id": 66323075, "body": "Performance has been considered. Even in an older browser there would be zero impact to the user by looping a 11 element array twice. A user would never notice this. We might be talking less than a millisecond difference in the current version of chrome. I would be more concerned with how the DOM will be updated after the two arrays have been created."}], "tags": [], "owner": {"reputation": 2413, "user_id": 443302, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/7d02069ff600f99c6b597d7c9729ded9?s=128&d=identicon&r=PG", "display_name": "Stewart", "link": "https://stackoverflow.com/users/443302/stewart"}, "is_accepted": false, "score": 2, "last_activity_date": 1473893683, "last_edit_date": 1473893683, "creation_date": 1473893350, "answer_id": 39500789, "question_id": 39500554, "link": "https://stackoverflow.com/questions/39500554/how-to-separate-json-array-into-2-separate-arrays-of-values-with-jquery/39500789#39500789", "title": "How to separate JSON array into 2 separate arrays of values with jQuery?", "body": "<p>Why not use <code>.map</code>? It will save having to assign a whole new array and push to it?</p>\n\n<pre><code>$.ajax({\n  url: 'inc/wip-data.php',\n  dataType: 'json',\n}).done(function(data) {\n  // One for dates\n  var dates = data.map(function(item) {\n    return item.date;\n  });\n\n  // The other for client costs\n  var clientCostTotals = data.map(function(item) {\n    return item.clientCostsTotal;\n  });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 6677765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/868b0dfc658e1f07a602efb359360259?s=128&d=identicon&r=PG&f=1", "display_name": "dustfinger", "link": "https://stackoverflow.com/users/6677765/dustfinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1473894258, "creation_date": 1473894258, "answer_id": 39500926, "question_id": 39500554, "link": "https://stackoverflow.com/questions/39500554/how-to-separate-json-array-into-2-separate-arrays-of-values-with-jquery/39500926#39500926", "title": "How to separate JSON array into 2 separate arrays of values with jQuery?", "body": "<p>My preference is to use lodash for operations involving arrays. The <a href=\"https://lodash.com/docs/4.15.0#map\" rel=\"nofollow\">lodash api has a function called map</a> which meets your requirements nicely. Here is an example:</p>\n\n<pre><code>var jsonArray = [\n{\n    \"date\": \"2015-10\",\n    \"clientCostsTotal\": \"0.00\"\n},\n{\n    \"date\": \"2015-11\",\n    \"clientCostsTotal\": \"0.00\"\n},\n{\n    \"date\": \"2016-01\",\n    \"clientCostsTotal\": \"0.00\"\n}];\nvar dateValues = _.map(jsonArray, 'date');\nvar clientTotalCostValues = _.map(jsonArray, 'clientCostsTotal');\nconsole.log('dateValues = ', dateValues);\nconsole.log('clientTotalCostValues = ', clientTotalCostValues );\n</code></pre>\n\n<p>Outputs the following:</p>\n\n<pre><code>dateValues =  [\"2015-10\", \"2015-11\", \"2016-01\"]\nclientTotalCostValues =  [\"0.00\", \"0.00\", \"0.00\"]\n</code></pre>\n\n<p>You can test it out quickly for yourself by going to the <a href=\"https://lodash.com/docs/\" rel=\"nofollow\">lodash api docs page</a> open your browsers dev tools and paste my code snippet into the console and hit enter.</p>\n"}], "owner": {"reputation": 908, "user_id": 6242161, "user_type": "registered", "accept_rate": 93, "profile_image": "https://lh4.googleusercontent.com/-n5TgHn38U-4/AAAAAAAAAAI/AAAAAAAAAdM/1omFW3R6rNs/photo.jpg?sz=128", "display_name": "Liz", "link": "https://stackoverflow.com/users/6242161/liz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1934, "favorite_count": 0, "accepted_answer_id": 39500616, "answer_count": 5, "score": -1, "last_activity_date": 1473910616, "creation_date": 1473891812, "question_id": 39500554, "link": "https://stackoverflow.com/questions/39500554/how-to-separate-json-array-into-2-separate-arrays-of-values-with-jquery", "title": "How to separate JSON array into 2 separate arrays of values with jQuery?", "body": "<p>I have the following AJAX script pulling in a JSON array from a PHP file:</p>\n\n<pre><code>// get jsonData from inc/wip-data.php\nvar jsonData = $.ajax({\n  url: 'inc/wip-data.php',\n  dataType: 'json',\n});\n</code></pre>\n\n<p>The JSON array is as follows:</p>\n\n<pre><code>[\n{\n    \"date\": \"2015-10\",\n    \"clientCostsTotal\": \"0.00\"\n},\n{\n    \"date\": \"2015-11\",\n    \"clientCostsTotal\": \"0.00\"\n},\n{\n    \"date\": \"2016-01\",\n    \"clientCostsTotal\": \"0.00\"\n},\n{\n    \"date\": \"2016-02\",\n    \"clientCostsTotal\": \"0.00\"\n},\n{\n    \"date\": \"2016-03\",\n    \"clientCostsTotal\": \"0.00\"\n},\n{\n    \"date\": \"2016-04\",\n    \"clientCostsTotal\": \"27962.50\"\n},\n{\n    \"date\": \"2016-05\",\n    \"clientCostsTotal\": \"174060.00\"\n},\n{\n    \"date\": \"2016-06\",\n    \"clientCostsTotal\": \"309000.00\"\n},\n{\n    \"date\": \"2016-07\",\n    \"clientCostsTotal\": \"502261.50\"\n},\n{\n    \"date\": \"2016-08\",\n    \"clientCostsTotal\": \"7598.00\"\n},\n{\n    \"date\": \"2016-12\",\n    \"clientCostsTotal\": \"0.00\"\n}\n]\n</code></pre>\n\n<p>I need to grab all of the <code>date</code> values and store them in one array. Also, I need to grab all of the <code>clientCostsTotal</code> values and store them in a separate array. How do I do this?</p>\n\n<p>Thank you for your help.</p>\n"}, {"tags": ["javascript", "php", "ajax", "include", "dropdown"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6763587"}, "edited": false, "score": 0, "creation_date": 1473891785, "post_id": 39500496, "comment_id": 66318510, "body": "seems to be missing a lot of code, and you get a php error? if so include it"}, {"owner": {"reputation": 112, "user_id": 3117586, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/76739976fa948219f0ce030698ca57c1?s=128&d=identicon&r=PG", "display_name": "bendouglas", "link": "https://stackoverflow.com/users/3117586/bendouglas"}, "edited": false, "score": 0, "creation_date": 1473893337, "post_id": 39500496, "comment_id": 66318934, "body": "You say it is undefined after include, I will assume it works when you are not using an include, so I&#39;m guessing the problem is your not including the relative URL."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1473895214, "post_id": 39500496, "comment_id": 66319463, "body": "You need to show the Javascript that performs the AJAX call, and the script that it calls."}, {"owner": {"reputation": 1, "user_id": 6832917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc221e67ec6df23f56f2b6afe6a3408?s=128&d=identicon&r=PG&f=1", "display_name": "Thieson", "link": "https://stackoverflow.com/users/6832917/thieson"}, "edited": false, "score": 0, "creation_date": 1474019241, "post_id": 39500496, "comment_id": 66371514, "body": "Hey guys, I tried, seems that there is something wrong...."}, {"owner": {"reputation": 1, "user_id": 6832917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc221e67ec6df23f56f2b6afe6a3408?s=128&d=identicon&r=PG&f=1", "display_name": "Thieson", "link": "https://stackoverflow.com/users/6832917/thieson"}, "edited": false, "score": 0, "creation_date": 1474019531, "post_id": 39500496, "comment_id": 66371706, "body": "@Bandouglas: No because when I concat a string in the variable, the string part shows, but not the data coming from the AJAX call. The succes return to AJAX is good though, I test that with the alert in the code below. I think it has something to do with that I have to somehow reload that variable, because the variable is already loaded before the onchange event occurs."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6832917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc221e67ec6df23f56f2b6afe6a3408?s=128&d=identicon&r=PG&f=1", "display_name": "Thieson", "link": "https://stackoverflow.com/users/6832917/thieson"}, "is_accepted": false, "score": 0, "last_activity_date": 1474019357, "creation_date": 1474019357, "answer_id": 39528473, "question_id": 39500496, "link": "https://stackoverflow.com/questions/39500496/undefined-variable-in-php-after-include/39528473#39528473", "title": "Undefined variable in PHP after include", "body": "<pre><code>function getProvincie(){\nvar provincie = $('#provincie option:selected').val();\n\n$.ajax({\n    type: \"POST\",\n    url: \"getprovincie.php\",\n    data: {data: provincie},\n    success: function(data) {\n        alert(data);\n        $('#stad').css('display','inline');\n    },\n    error: function(data) {\n\n    }\n});\n</code></pre>\n\n<p>}</p>\n\n<pre><code>//PHP page to where the AJAX call points:\n&lt;?php\n$resultaat = $_POST['data'];\n\necho($resultaat);\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 6832917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ffc221e67ec6df23f56f2b6afe6a3408?s=128&d=identicon&r=PG&f=1", "display_name": "Thieson", "link": "https://stackoverflow.com/users/6832917/thieson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 169, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474019357, "creation_date": 1473891485, "last_edit_date": 1473891936, "question_id": 39500496, "link": "https://stackoverflow.com/questions/39500496/undefined-variable-in-php-after-include", "title": "Undefined variable in PHP after include", "body": "<p>I'm new to stackoverflow (as a member at least) and I have a question.\nI'm also new to PHP by the way.</p>\n\n<p>Thing is:\nI want to dynamically fill a second dropdown list with entries based on a first dropdown list (I want to show cities based on a selected province).\nI managed to get the selected province to an external PHP file with an AJAX call in Javascript. \nBut when I include the external PHP file in my original PHP file, the variable of the external file is undefined. \nThe AJAX call is fired with an onchange event on the first dropdown menu.</p>\n\n<p>And maybe you can also help with how I use that variable to get the right content in the second dropdown. I've used a multidimensional Array for that. </p>\n\n<p>HTML:</p>\n\n<pre><code>echo('&lt;select name=\"provincie\" id=\"provincie\"       onchange=\"ProvinciePHP()\"&gt;');\n\n\n    foreach ($provincie as $provincies){\n        echo (\"&lt;option&gt; $provincies &lt;/option&gt;\");\n    }\n    echo ('&lt;/select&gt;');\n\n\necho('&lt;select name=\"stad\" id=\"stad\"&gt; &lt;/select&gt;')\n</code></pre>\n\n<p>PHP ARRAY:</p>\n\n<pre><code>$provincie = array(\n    'Selecteer een provincie',\n    'Drenthe',\n    'Flevoland',\n    'Friesland',\n    'Gelderland',\n    'Groningen',\n    'Limburg',\n    'Noord-Brabant',\n    'Noord-Holland',\n    'Overijssel',\n    'Utrecht',\n    'Zeeland',\n    'Zuid-Holland',\n);\n$stad = array(\n    'Drenthe'       =&gt; array(\"Assen\", \"Emmen\", \"Hoogeveen\", \"Meppel\"),\n    'Flevoland'     =&gt; array(\"Almere\", \"Biddinghuizen\", \"Dronten\", \"Lelystad\"),\n    'Friesland'     =&gt; array(\"Heerenveen\", \"Joure\", \"Leeuwarden\", \"Sneek\"),\n    'Gelderland'    =&gt; array(\"Apeldoorn\", \"Arnhem\", \"Nijmegen\", \"Zutphen\"),\n    'Groningen'     =&gt; array(\"Delfzijl\", \"Groningen\", \"Stadskanaal\", \"Veendam\"),\n    'Limburg'       =&gt; array(\"Maastricht\", \"Roermond\", \"Sittard\", \"Venlo\"),\n    'Noord-Brabant' =&gt; array(\"Breda\", \"Den Bosch\", \"Eindhoven\", \"Tilburg\"),\n    'Noord-Holland' =&gt; array(\"Alkmaar\", \"Amsterdam\", \"Haarlem\", \"Hilversum\"),\n    'Overijssel'    =&gt; array(\"Deventer\", \"Enschede\", \"Hengelo\", \"Zwolle\"),\n    'Utrecht'       =&gt; array(\"Amersfoort\", \"Breukelen\", \"Utrecht\", \"Zeist\" ),\n    'Zeeland'       =&gt; array(\"Goes\", \"Middelburg\", \"Terneuzen\", \"Vlissingen\"),\n    'Zuid-Holland'  =&gt; array(\"Alphen a/d Rijn\", \"Den-Haag\", \"Rotterdam\", \"Schiedam\"),\n);\n</code></pre>\n"}, {"tags": ["javascript", "safari", "uiwebview", "mobile-safari", "sfsafariviewcontroller"], "owner": {"reputation": 1939, "user_id": 5249729, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/67c99636ddb57abf563737364e0ef618?s=128&d=identicon&r=PG&f=1", "display_name": "codneto", "link": "https://stackoverflow.com/users/5249729/codneto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 245, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1473891460, "creation_date": 1473891460, "question_id": 39500487, "link": "https://stackoverflow.com/questions/39500487/is-there-a-way-to-detect-from-javascript-if-webpage-is-open-in-sfsafariviewcontr", "title": "Is there a way to detect from Javascript if webpage is open in SFSafariViewController or mobile-safari?", "body": "<p>Usually it is easier to detect UIWebViews because their user agent is often different from safari's, but SFSafariViewController use exact same user agent. On newly released iOS 10, I am running into certain HTML5 video issue which is only occurring when page is opened in SFSafariViewController. Is there a way to detect from plain javascript if browser is actually a SFSafariViewController??</p>\n"}, {"tags": ["javascript", "jquery", "ajax"], "answers": [{"tags": [], "owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "is_accepted": true, "score": 2, "last_activity_date": 1473895255, "last_edit_date": 1473895255, "creation_date": 1473894925, "answer_id": 39501015, "question_id": 39500475, "link": "https://stackoverflow.com/questions/39500475/how-to-get-responses-from-when-apply-deferreds/39501015#39501015", "title": "How to get responses from $.when.apply($, deferreds)", "body": "<p>Maybe this will help. You need to iterate the arguments where each argument is an array of <code>[responseData, statusText, xhrObj]</code></p>\n\n<pre><code>  var deferreds =[];\n  for (var i=0; i&lt;6; i++){\n    deferreds.push($.get('data.json'))\n  }\n\n  $.when.apply(null, deferreds ).done(function(){\n    console.log(arguments)\n    for( var i=0; i&lt;arguments.length; i++ ){\n      var arg = arguments[i]\n      var responseData = arg[0],\n          statusText = arg[1],\n          xhrObj =arg[2];\n    }\n  });\n</code></pre>\n\n<p>The arguments of <code>$.when.apply().done(function() // or then</code> will be in same order as the original deferreds array.</p>\n\n<p>I believe jQuery 3 has streamlined <code>$.when</code> to be more in line with <em>Promises A+</em> and to accept and return arrays but I haven't looked into it deeply</p>\n\n<p><kbd><strong><a href=\"http://plnkr.co/edit/J5qydC1vhgwxd6D8SI3r?p=preview\" rel=\"nofollow\">DEMO</a></strong></kbd></p>\n"}], "owner": {"reputation": 2060, "user_id": 2197234, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/2aTcP.jpg?s=128&g=1", "display_name": "fildred13", "link": "https://stackoverflow.com/users/2197234/fildred13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "accepted_answer_id": 39501015, "answer_count": 1, "score": 0, "last_activity_date": 1473895255, "creation_date": 1473891394, "question_id": 39500475, "link": "https://stackoverflow.com/questions/39500475/how-to-get-responses-from-when-apply-deferreds", "title": "How to get responses from $.when.apply($, deferreds)", "body": "<p>How do I access the unknown number of responses from a <code>$.when.apply($, deferreds)</code>?</p>\n\n<p>Hopefully the below attempt illustrates what I am trying to achieve:</p>\n\n<pre><code>var ajax1 = someAjaxFunction();\n\ndeferreds = [ajax1, ajax2, ... ajaxN];\nresponses = [ajax1Response, ajax2Response, ... ajaxNResponse];\n\n$.when.apply($, deferreds).then(deferredsAllDone.apply(responses));\n</code></pre>\n\n<p>I need to be able to access the responses in <code>deferredsAllDone()</code>, and I also need to be able to distinguish which response came from which call. How do I accomplish that?</p>\n"}, {"tags": ["javascript", "node.js", "promise"], "comments": [{"owner": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1473891852, "post_id": 39500471, "comment_id": 66318524, "body": "You don&#39;t get <i>any</i> logs?"}, {"owner": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 2, "creation_date": 1473891886, "post_id": 39500471, "comment_id": 66318531, "body": "This is a typo bug lol. You&#39;re sending the string <code>&#39;data&#39;</code> instead of the variable <code>data</code> in your code."}, {"owner": {"reputation": 1, "user_id": 6832968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6a4a5e88d9542f380c766e535403f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy T.", "link": "https://stackoverflow.com/users/6832968/jeremy-t"}, "reply_to_user": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1473892166, "post_id": 39500471, "comment_id": 66318595, "body": "That was for testing purposes - even still, no data comes through."}, {"owner": {"reputation": 2499, "user_id": 5229157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IXE5x.jpg?s=128&g=1", "display_name": "Daniel Orme&#241;o", "link": "https://stackoverflow.com/users/5229157/daniel-orme%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1473892490, "post_id": 39500471, "comment_id": 66318684, "body": "Are you getting any errors logged in the console? Is your code hitting the first <code>.then(function(data){</code>"}, {"owner": {"reputation": 1, "user_id": 6832968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6a4a5e88d9542f380c766e535403f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy T.", "link": "https://stackoverflow.com/users/6832968/jeremy-t"}, "edited": false, "score": 0, "creation_date": 1473892565, "post_id": 39500471, "comment_id": 66318710, "body": "No errors, only my API object and my &#39;complete&#39; string."}, {"owner": {"reputation": 1, "user_id": 6832968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6a4a5e88d9542f380c766e535403f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy T.", "link": "https://stackoverflow.com/users/6832968/jeremy-t"}, "edited": false, "score": 0, "creation_date": 1473893196, "post_id": 39500471, "comment_id": 66318897, "body": "My code is hitting the first .then - but seemingly isn&#39;t being sent to my client. Or perhaps my AJAX request is incorrect?"}, {"owner": {"reputation": 3100, "user_id": 2952144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c99909a7c96c3176e2e7980e87bcec?s=128&d=identicon&r=PG&f=1", "display_name": "Mykola Borysyuk", "link": "https://stackoverflow.com/users/2952144/mykola-borysyuk"}, "edited": false, "score": 1, "creation_date": 1473893835, "post_id": 39500471, "comment_id": 66319066, "body": "Hm...Maybe add fail(function(err)) to Ajax request and see what you got there."}, {"owner": {"reputation": 7441, "user_id": 1575353, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rvz3i.png?s=128&g=1", "display_name": "S\u1d00\u1d0d On\u1d07\u1d0c\u1d00", "link": "https://stackoverflow.com/users/1575353/s%e1%b4%80%e1%b4%8d-on%e1%b4%87%e1%b4%8c%e1%b4%80"}, "edited": false, "score": 0, "creation_date": 1473894073, "post_id": 39500471, "comment_id": 66319138, "body": "Have you tried sending a status code (e.g. 200)? <code>res.status(200).send(data);</code>..."}, {"owner": {"reputation": 1, "user_id": 6832968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6a4a5e88d9542f380c766e535403f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy T.", "link": "https://stackoverflow.com/users/6832968/jeremy-t"}, "reply_to_user": {"reputation": 3100, "user_id": 2952144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c99909a7c96c3176e2e7980e87bcec?s=128&d=identicon&r=PG&f=1", "display_name": "Mykola Borysyuk", "link": "https://stackoverflow.com/users/2952144/mykola-borysyuk"}, "edited": false, "score": 0, "creation_date": 1473895052, "post_id": 39500471, "comment_id": 66319414, "body": "@MykolaBorysyuk .fail provided a result, so my Ajax call is failing."}, {"owner": {"reputation": 3100, "user_id": 2952144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c99909a7c96c3176e2e7980e87bcec?s=128&d=identicon&r=PG&f=1", "display_name": "Mykola Borysyuk", "link": "https://stackoverflow.com/users/2952144/mykola-borysyuk"}, "edited": false, "score": 0, "creation_date": 1473895207, "post_id": 39500471, "comment_id": 66319460, "body": "Well..check your PHP API...from what i see...you just need to make API call from express to your PHP API -&gt; this will return result from DB..and then you send response to user.. User will not know what happen and your code on front-end will get data.. Just make sure that your PHP API are able to receive calls from all. Also make sure you have some secret key or something like this to prevent other people to use it."}, {"owner": {"reputation": 1, "user_id": 6832968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6a4a5e88d9542f380c766e535403f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy T.", "link": "https://stackoverflow.com/users/6832968/jeremy-t"}, "edited": false, "score": 0, "creation_date": 1473895408, "post_id": 39500471, "comment_id": 66319514, "body": "I am not using a PHP API."}, {"owner": {"reputation": 15361, "user_id": 4945468, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/10204375764859646/picture?type=large", "display_name": "Pranesh Ravi", "link": "https://stackoverflow.com/users/4945468/pranesh-ravi"}, "edited": false, "score": 0, "creation_date": 1473900745, "post_id": 39500471, "comment_id": 66320747, "body": "Can you able to log the response inside the promise?"}, {"owner": {"reputation": 2097, "user_id": 3678447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ai8tN.png?s=128&g=1", "display_name": "Diego ZoracKy", "link": "https://stackoverflow.com/users/3678447/diego-zoracky"}, "edited": false, "score": 0, "creation_date": 1473901029, "post_id": 39500471, "comment_id": 66320809, "body": "Put a  ` .error(function(err) { console.log(&#39;err: &#39;, err) })` on your ajax call and open check at the Network tab of Developer Tools to see what is happening with this request."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1473902113, "post_id": 39500471, "comment_id": 66320999, "body": "What exactly does &quot;<i>seemingly isn&#39;t being sent to my client</i>&quot; mean? What does the network panel in the browser devtools say?"}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1473902137, "post_id": 39500471, "comment_id": 66321004, "body": "Since you&#39;re running on localhost, are you sure there&#39;s no SOP issue?"}, {"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1473941781, "post_id": 39500471, "comment_id": 66337489, "body": "Are you sure it&#39;s not just a case of including <code>event.preventDefault();</code> in the submit handler?"}], "answers": [{"tags": [], "owner": {"reputation": 15361, "user_id": 4945468, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/10204375764859646/picture?type=large", "display_name": "Pranesh Ravi", "link": "https://stackoverflow.com/users/4945468/pranesh-ravi"}, "is_accepted": false, "score": 0, "last_activity_date": 1473901739, "creation_date": 1473901739, "answer_id": 39501803, "question_id": 39500471, "link": "https://stackoverflow.com/questions/39500471/asynchronous-javascript-request-issue-node-request-promise-module/39501803#39501803", "title": "Asynchronous Javascript Request Issue (Node, request-promise module)", "body": "<p>Try this\n    </p>\n\n<pre><code>var options = {\n    uri: searchURL,\n    simple: false,\n};\n\nrp(options)\n    .then(function (data) {\n        console.log(data);\n        res.status(200).send(data).end();\n    })\n    .then(function() {\n        console.log('complete');\n    })\n    .catch(function (err) {\n        console.log('error') \n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1109, "user_id": 5640485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c37cb1fe719e983d6054c4b88619f0?s=128&d=identicon&r=PG&f=1", "display_name": "Hin Fan Chan", "link": "https://stackoverflow.com/users/5640485/hin-fan-chan"}, "is_accepted": false, "score": 0, "last_activity_date": 1473910374, "creation_date": 1473910374, "answer_id": 39502726, "question_id": 39500471, "link": "https://stackoverflow.com/questions/39500471/asynchronous-javascript-request-issue-node-request-promise-module/39502726#39502726", "title": "Asynchronous Javascript Request Issue (Node, request-promise module)", "body": "<p>I think the client did receive data, but the connection didn't terminate correctly as it thinks there are more data.  This is because you didn't specify the header and the module http couldn't figure out the content-length.</p>\n\n<pre><code>rp(options)\n    .then(function (data) {\n        console.log(data);\n        // res.send(data);\n\n        // assume data is JSON.  \n        res.setHeader (200, {'Content-Type': 'application/json', \n                             'Content-Length':data.byteLength});\n        res.end(data);  //Send data immediately.\n    })\n</code></pre>\n\n<p>...</p>\n\n<p>If data is a string, you will need to use data.length instead.  In fact, if data is a string, then by default the header is <code>{'Content-Type': 'application/json', 'Content-Length':data.length}</code></p>\n"}], "owner": {"reputation": 1, "user_id": 6832968, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9c6a4a5e88d9542f380c766e535403f6?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy T.", "link": "https://stackoverflow.com/users/6832968/jeremy-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1473910374, "creation_date": 1473891354, "last_edit_date": 1473892232, "question_id": 39500471, "link": "https://stackoverflow.com/questions/39500471/asynchronous-javascript-request-issue-node-request-promise-module", "title": "Asynchronous Javascript Request Issue (Node, request-promise module)", "body": "<p>I am building an application and having an issue with making a request from the client, sending it to my server, having the server make the API call and then send the result back to the client. I am using Node and the Request-Promise module.</p>\n\n<p>Here is the client side code:</p>\n\n<pre><code>$(document).ready(function() {\n    var artistSearch = () =&gt; {\n        const q = $('.artistName').val();\n        $.ajax({\n            type: \"POST\",\n            url: \"http://localhost:3000/request\",\n            data: {artist: q},\n        })\n        .done(function(data) {\n            console.log('data: ', data)\n        })\n    };\n\n    $(\".artistSearch\").submit( () =&gt; {\n        artistSearch();\n    });\n});\n</code></pre>\n\n<p>This successfully makes a request to the server:</p>\n\n<pre><code>app.post('/request', (req, res) =&gt; {\n    const artist = req.body.artist;\n    const searchURL = \"https://api.spotify.com/v1/search?     q=\"+artist+\"&amp;type=artist\";\n    var targetObj;\n\n    var options = {\n        uri: searchURL\n    };\n\n    rp(options)\n        .then(function (data) {\n            console.log(data);\n            res.send(data);\n        })\n        .then(function() {\n            console.log('complete');\n        })\n        .catch(function (err) {\n            console.log('error') \n        });\n</code></pre>\n\n<p>});</p>\n\n<p>Which ultimately successfully grabs the data from the API call, but never sends it back to the client! If I do res.send() outside of my .then promise, I can receive data on the client end. </p>\n\n<p>Is there something I am missing? Thanks in advance!</p>\n"}, {"tags": ["javascript", "emscripten"], "answers": [{"comments": [{"owner": {"reputation": 307, "user_id": 4358474, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/190e867a0c4e3baa302bb88d509501bc?s=128&d=identicon&r=PG&f=1", "display_name": "porente", "link": "https://stackoverflow.com/users/4358474/porente"}, "edited": false, "score": 1, "creation_date": 1473894887, "post_id": 39500884, "comment_id": 66319372, "body": "what about creating an html element in the C code. is this the only way? <code>EM_ASM({ document.createElement(&quot;canvas&quot;); });</code>"}, {"owner": {"reputation": 771, "user_id": 3961030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b89565603e142dd5f57a8097910063ab?s=128&d=identicon&r=PG&f=1", "display_name": "John Sharp", "link": "https://stackoverflow.com/users/3961030/john-sharp"}, "reply_to_user": {"reputation": 307, "user_id": 4358474, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/190e867a0c4e3baa302bb88d509501bc?s=128&d=identicon&r=PG&f=1", "display_name": "porente", "link": "https://stackoverflow.com/users/4358474/porente"}, "edited": false, "score": 0, "creation_date": 1473916239, "post_id": 39500884, "comment_id": 66324142, "body": "You can create an HTML element any way you would normally, so either include it in the HTML document initially, or create it with JavaScript (not necessarily in an <code>EM_ASM</code> block like you have here but you can if you want)."}], "tags": [], "owner": {"reputation": 771, "user_id": 3961030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b89565603e142dd5f57a8097910063ab?s=128&d=identicon&r=PG&f=1", "display_name": "John Sharp", "link": "https://stackoverflow.com/users/3961030/john-sharp"}, "is_accepted": true, "score": 1, "last_activity_date": 1473894023, "creation_date": 1473894023, "answer_id": 39500884, "question_id": 39500468, "link": "https://stackoverflow.com/questions/39500468/emscripten-document-createelement-in-c/39500884#39500884", "title": "emscripten document.createElement in C", "body": "<p>The <code>target</code> argument of <code>emscripten_request_pointerlock</code>is described in the Emscripten documentation <a href=\"https://kripken.github.io/emscripten-site/docs/api_reference/html5.h.html#registration-functions\" rel=\"nofollow\">here</a>. If you pass a value of <code>0</code> it will apply to the default canvas element of Emscripten.\nIf you want it to apply to some other element you can just pass the id of that element as a string. Presumably if you're creating the HTML element you will have control over what its id is, so just pass that.</p>\n"}], "owner": {"reputation": 307, "user_id": 4358474, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/190e867a0c4e3baa302bb88d509501bc?s=128&d=identicon&r=PG&f=1", "display_name": "porente", "link": "https://stackoverflow.com/users/4358474/porente"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 176, "favorite_count": 0, "accepted_answer_id": 39500884, "answer_count": 1, "score": -1, "last_activity_date": 1473960976, "creation_date": 1473891341, "last_edit_date": 1473960976, "question_id": 39500468, "link": "https://stackoverflow.com/questions/39500468/emscripten-document-createelement-in-c", "title": "emscripten document.createElement in C", "body": "<p>Inside my C code that will be compiled by Emscripten<br>\nHow do I create an HTML element?<br>\nThere is this emscripten function<br>\n<code>emscripten_request_pointerlock</code> that requires a <code>Target HTML element id</code><br>\nHow can I get this id after creating an HTML element?</p>\n"}, {"tags": ["javascript", "html", "drop-down-menu", "dom-events"], "answers": [{"tags": [], "owner": {"reputation": 1235, "user_id": 6339275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/036f9b2818faded4fe0644037f914100?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Salama", "link": "https://stackoverflow.com/users/6339275/aya-salama"}, "is_accepted": true, "score": 0, "last_activity_date": 1473893634, "creation_date": 1473893634, "answer_id": 39500824, "question_id": 39500443, "link": "https://stackoverflow.com/questions/39500443/having-changing-text-boxes-drop-downs-appear-when-certain-item-is-picked-from-a/39500824#39500824", "title": "Having changing text-boxes/drop-downs appear when certain item is picked from a drop-down menu", "body": "<p>You can give all your hidden elements class and in showHide function first hide all elements and then show the one you want.</p>\n\n<p>so your js code will be </p>\n\n<pre><code>showHide = function()\n{\n    var showHideItems = document.getElementsByClassName('hidden-items');\n    for(var i =0;i&lt;showHideItems.length;i++){\n        showHideItems[i].style.display = 'none';\n    }\n    var val = document.getElementById(\"ActionDD\").value;\n\n    if(val == \"complete\")\n     document.getElementById(\"REMtextBox\").style.display = 'inline-block';\n    else if(val == \"abandon\")\n     document.getElementById(\"ReasonDD\").style.display = 'inline-block';\n    else if(val == \"C\")\n     document.getElementById(\"ThirdTextBoxId\").style.display = 'inline-block';\n    else if(val == \"D\")\n     document.getElementById(\"FourthTextBoxId\").style.display = 'inline-block';\n}\n</code></pre>\n\n<p>and your html will be </p>\n\n<pre><code>&lt;select name=\"Action\" id=\"ActionDD\" required onchange=\"showHide()\"&gt;\n    &lt;option value=\"\"&gt;Action:&lt;/option&gt;\n    &lt;option value=\"complete\"&gt;Complete&lt;/option&gt;\n    &lt;option value=\"abandon\"&gt;Abandon&lt;/option&gt;\n    &lt;option value=\"transfer\"&gt;Transfer&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;input class=\"hidden-items\" type=\"text\" name=\"RemNUM\" id=\"REMtextBox\" placeholder=\"Remedy Number\" maxlength=\"10\" style=\"display:none;\"/&gt;\n&lt;select class=\"hidden-items\" name=\"Reason\" id=\"ReasonDD\" style=\"display:none;\" required&gt;\n    &lt;option value=\"\"&gt;Reason:&lt;/option&gt;\n    &lt;option value=\"NoShow\"&gt;No Show&lt;/option&gt;\n    &lt;option value=\"Unfixable\"&gt;Unfixable&lt;/option&gt;\n    &lt;option value=\"other\"&gt;Other&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>here is working jsfiddle for you code <a href=\"https://jsfiddle.net/jpj42ojz/\" rel=\"nofollow\">https://jsfiddle.net/jpj42ojz/</a></p>\n"}, {"tags": [], "owner": {"reputation": 573, "user_id": 5748629, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/d50a8be20b033a0f1c8cbd8316b1292c?s=128&d=identicon&r=PG", "display_name": "Konstantin Kreft", "link": "https://stackoverflow.com/users/5748629/konstantin-kreft"}, "is_accepted": false, "score": 1, "last_activity_date": 1473893742, "creation_date": 1473893742, "answer_id": 39500833, "question_id": 39500443, "link": "https://stackoverflow.com/questions/39500443/having-changing-text-boxes-drop-downs-appear-when-certain-item-is-picked-from-a/39500833#39500833", "title": "Having changing text-boxes/drop-downs appear when certain item is picked from a drop-down menu", "body": "<p>Here is a simple solution:</p>\n\n<p>You can add a empty <code>div</code> with an ID below your selection and change the <code>innerHTML</code> of that <code>div</code> with your HTML you want to show based on the selection the user makes.</p>\n\n<p>I edited your existing code so you can see what I mean:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function showHide() {\r\n  var val = document.getElementById(\"ActionDD\").value;\r\n  var remTextBox = document.getElementById(\"REMtextBox\");\r\n  var reasonDD = document.getElementById(\"ReasonDD\");\r\n  var thirdTextBoxId = document.getElementById(\"ThirdTextBoxId\");\r\n  var fourthTextBox = document.getElementById(\"FourthTextBoxId\");\r\n  var result = document.getElementById(\"result\");\r\n  \r\n  var remTextBoxHTML = '&lt;input type=\"text\" name=\"RemNUM\" id=\"REMtextBox\" placeholder=\"Remedy Number\" maxlength=\"10\"/&gt;';\r\n  \r\n  var reasonDDHTML = '&lt;select name=\"Reason\" required&gt;&lt;option value=\"\"&gt;Reason:&lt;/option&gt;&lt;option value=\"NoShow\"&gt;No Show&lt;/option&gt;&lt;option value=\"Unfixable\"&gt;Unfixable&lt;/option&gt;&lt;option value=\"other\"&gt;Other&lt;/option&gt;&lt;/select&gt;';\r\n  \r\n  if(val == \"complete\") {\r\n    result.innerHTML = remTextBoxHTML;\r\n  } else if(val == \"abandon\") {\r\n    result.innerHTML = reasonDDHTML;\r\n  } else if(val == \"C\") {\r\n    result.innerHTML = '';\r\n  } else if(val == \"D\") {\r\n    result.innerHTML = '';\r\n  } else {\r\n    result.innerHTML = '';\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;select name=\"Action\" id=\"ActionDD\" required onchange=\"showHide()\"&gt;\r\n    &lt;option value=\"\"&gt;Action:&lt;/option&gt;\r\n    &lt;option value=\"complete\"&gt;Complete&lt;/option&gt;\r\n    &lt;option value=\"abandon\"&gt;Abandon&lt;/option&gt;\r\n    &lt;option value=\"transfer\"&gt;Transfer&lt;/option&gt;\r\n&lt;/select&gt;\r\n\r\n&lt;div id=\"result\"&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 29, "user_id": 6812072, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/560db82cae5af3ba78ba09f10c7439e6?s=128&d=identicon&r=PG&f=1", "display_name": "tbrock29", "link": "https://stackoverflow.com/users/6812072/tbrock29"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 39500824, "answer_count": 2, "score": 0, "last_activity_date": 1598893889, "creation_date": 1473891197, "last_edit_date": 1598893889, "question_id": 39500443, "link": "https://stackoverflow.com/questions/39500443/having-changing-text-boxes-drop-downs-appear-when-certain-item-is-picked-from-a", "title": "Having changing text-boxes/drop-downs appear when certain item is picked from a drop-down menu", "body": "<p>Currently in my code I have one drop-down menu. This drop-down menu has three options the user can pick from. Complete needs to have a text-box appear if it is selected. Abandon needs to have a drop-down menu to show up. Then Transfer works the same way. A drop-down menu needs to appear for it as well.</p>\n<p>My HTML code for the first drop-down:</p>\n<pre><code>&lt;select name=&quot;Action&quot; id=&quot;ActionDD&quot; required onchange=&quot;showHide()&quot;&gt;\n    &lt;option value=&quot;&quot;&gt;Action:&lt;/option&gt;\n    &lt;option value=&quot;complete&quot;&gt;Complete&lt;/option&gt;\n    &lt;option value=&quot;abandon&quot;&gt;Abandon&lt;/option&gt;\n    &lt;option value=&quot;transfer&quot;&gt;Transfer&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n<p>My HTML code for the Text-box that needs to appear with Complete picked from first drop-down menu</p>\n<pre><code>&lt;input type=&quot;text&quot; name=&quot;RemNUM&quot; id=&quot;REMtextBox&quot; placeholder=&quot;Remedy Number&quot; maxlength=&quot;10&quot; style=&quot;display:none;&quot;/&gt;\n</code></pre>\n<p>My HTML code for the drop-down that needs to appear with abandon picked from first drop-down menu</p>\n<pre><code>    &lt;select name=&quot;Reason&quot; id=&quot;ReasonDD&quot; style=&quot;display:none;&quot; required&gt;\n    &lt;option value=&quot;&quot;&gt;Reason:&lt;/option&gt;\n    &lt;option value=&quot;NoShow&quot;&gt;No Show&lt;/option&gt;\n    &lt;option value=&quot;Unfixable&quot;&gt;Unfixable&lt;/option&gt;\n    &lt;option value=&quot;other&quot;&gt;Other&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n<p>Then lastly my JavaScript code I have that is doing some of these tasks. But when I select something else from the first drop-down menu after something has already been picked it will show both the new text-box or the new drop-down menu together. I need help getting both of them to show up by themselves and clear the old selected action.</p>\n<pre><code>    function showHide()\n {\n\n  var val = document.getElementById(&quot;ActionDD&quot;).value;\n\n  if(val == &quot;complete&quot;)\n   document.getElementById(&quot;REMtextBox&quot;).style.display = 'inline-block';\n  else if(val == &quot;abondon&quot;)\n   document.getElementById(&quot;ReasonDD&quot;).style.display = 'inline-block';\n  else if(val == &quot;C&quot;)\n   document.getElementById(&quot;ThirdTextBoxId&quot;).style.display = 'inline-block';\n  else if(val == &quot;D&quot;)\n   document.getElementById(&quot;FourthTextBoxId&quot;).style.display = 'inline-block';\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "javascript-events"], "comments": [{"owner": {"reputation": 1419, "user_id": 2413733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Eozj8.png?s=128&g=1", "display_name": "Sam0", "link": "https://stackoverflow.com/users/2413733/sam0"}, "edited": false, "score": 1, "creation_date": 1473903488, "post_id": 39500437, "comment_id": 66321267, "body": "you can do this by adding a flag so it&#39;s only triggered once. I had the same problem before and found that another way i found was to always watch the position of the last div relative to screen and scroll and use that to trigger the lazyloading. Can&#39;t remember why but I found this to be more reliable."}], "answers": [{"comments": [{"owner": {"reputation": 3298, "user_id": 2738166, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2c6be39ec8055cc1794ce336dced36f5?s=128&d=identicon&r=PG&f=1", "display_name": "Rexhin", "link": "https://stackoverflow.com/users/2738166/rexhin"}, "edited": false, "score": 0, "creation_date": 1474055742, "post_id": 39515734, "comment_id": 66392333, "body": "Thank you so much."}, {"owner": {"reputation": 403, "user_id": 986044, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/3ed1e58d7348c2b6d58c9cf583845daa?s=128&d=identicon&r=PG&f=1", "display_name": "Steeve", "link": "https://stackoverflow.com/users/986044/steeve"}, "edited": false, "score": 0, "creation_date": 1489297737, "post_id": 39515734, "comment_id": 72605708, "body": "@sam0 can u guide in this question ?????<a href=\"http://stackoverflow.com/questions/42713529/horizontal-scrollbar-does-not-work-but-works-in-vertical-scroll\" title=\"horizontal scrollbar does not work but works in vertical scroll\">stackoverflow.com/questions/42713529/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1419, "user_id": 2413733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Eozj8.png?s=128&g=1", "display_name": "Sam0", "link": "https://stackoverflow.com/users/2413733/sam0"}, "is_accepted": true, "score": 1, "last_activity_date": 1473955764, "creation_date": 1473955764, "answer_id": 39515734, "question_id": 39500437, "link": "https://stackoverflow.com/questions/39500437/horizontal-scroll-load-content-via-ajax/39515734#39515734", "title": "Horizontal scroll, Load content via AJAX", "body": "<p>this is a quick fiddle in jQuery - just to illustrate the tracking the last div with <code>.getBoundingClientRect().left;</code>, if you don't want to do this then it illustrates the <code>loading</code> variable which prevents the conditional statement from firing again whilst it's true.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var n = 0, loading = false, lastDiv;\r\n\r\nfunction addboxes(){\r\n  for( i=0; i &lt; 6; i++){\r\n   $('body').append('&lt;div class=\"box\" style=\"left:'+(n+i*250)+'px;\"&gt;&lt;/div&gt;');\r\n  }\r\n\tn+=6*250;\r\n  loading = false;\r\n}\r\n\r\naddboxes();\r\n// just to set up sideways boxes\r\n\r\n$(document).on('scroll',function(e){\r\n\tvar lastDiv = $('.box').last();\t// get the last div\r\n\tvar lastLeft = lastDiv[0].getBoundingClientRect().left; // get distance between lastDiv's left edge and windows left edge\r\n  var windowWidth = $(window).width(); // get window width\r\n  \r\n\t$(\"#monitor\").text(\" lastLeft =\"+lastLeft+\", windowWidth =\"+windowWidth);\r\n\r\n\tif( lastLeft &lt; windowWidth &amp;&amp; !loading ){\t// last box is now just appearing!\r\n  \tloading = true; // flag to prevent multiple firings\r\n\t\taddboxes(); // add more boxes!\r\n    $(window).trigger('resize');\t// just incase window doesn't recalc for new content, probably not necessary\r\n  }\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.box {\r\n  position: absolute;\r\n  width: 200px;\r\n  height: 100px;\r\n  background: #333;\r\n}\r\n\r\n#monitor{\r\n  position: fixed;\r\n  left: 20px;\r\n  bottom: 30px;\r\n  color: #09f;\r\n  z-index: 333;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script   src=\"https://code.jquery.com/jquery-2.2.4.min.js\"   integrity=\"sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=\"   crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"monitor\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3298, "user_id": 2738166, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/2c6be39ec8055cc1794ce336dced36f5?s=128&d=identicon&r=PG&f=1", "display_name": "Rexhin", "link": "https://stackoverflow.com/users/2738166/rexhin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1081, "favorite_count": 0, "accepted_answer_id": 39515734, "answer_count": 1, "score": 0, "last_activity_date": 1473955764, "creation_date": 1473891143, "question_id": 39500437, "link": "https://stackoverflow.com/questions/39500437/horizontal-scroll-load-content-via-ajax", "title": "Horizontal scroll, Load content via AJAX", "body": "<p>I have this scroll event and I want to load new content via ajax before the scrollbar reaches end. So for example 40px before scrollbar reaches end I want to load new content.</p>\n\n<p>This works but it loads content many times. Many ajax request are fired during scroll. I want to load new content only when scrollbar gets near end but my functions loads content during the whole scroll event.</p>\n\n<pre><code>//load with ajax\ndocument.addEventListener('scroll', function(event) {\n\n    var el = event.target;\n\n    if((el.scrollWidth - el.scrollLeft) &lt; (el.offsetWidth + 40)) {\n        //get\n    }\n}, true);\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "stream", "highland.js"], "answers": [{"tags": [], "owner": {"reputation": 2136, "user_id": 1151982, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/LqHqT.png?s=128&g=1", "display_name": "Tad Lispy", "link": "https://stackoverflow.com/users/1151982/tad-lispy"}, "is_accepted": false, "score": 1, "last_activity_date": 1476374396, "creation_date": 1476374396, "answer_id": 40025796, "question_id": 39500380, "link": "https://stackoverflow.com/questions/39500380/reading-large-file-and-splitby-method/40025796#40025796", "title": "reading large file and splitby method", "body": "<p>There are really three concerns here.</p>\n\n<ol>\n<li>Reading the content data from files</li>\n<li>Extracting the delimited chunks</li>\n<li>Getting the resulting data out of the stream</li>\n</ol>\n\n<p>First you need to read the contents of each file. Note that wrapped <code>readFile</code> will emit <code>Buffers</code>, not <code>Strings</code>. To extract chunks you need to convert content of each file to a <code>String</code>. I assume files are encoded as <code>utf-8</code>.</p>\n\n<p>Second you need to separate the data from the rest of the text. I assume that you only want chunks between the beginning and end delimiters, without delimiters themselves or anything that might be outside of the delimiters, for example:</p>\n\n<pre><code>-----BEGIN DATA-----\nMIIEzDCCArSgAwIBAgIVCugKYzMN5ra8zPWxYE8pUU9SxjYSMA0GCSqGSIb3DQEB\nCwUAMHAxCzAJBgNVBAYTAkdCMRUwEwYDVQQIDAxXYXJ3aWNrc2hpcmUxEDAOBgNV\nBAcMB1dhcndpY2sxEDAOBgNVBAoMB0VudHJ1c3QxETAPBgNVBAsMCFBLSSBURUFN\n-----END DATA-----\njunky junk junk\n-----BEGIN DATA-----\nMIIETzCCAjegAwIBAgIVBShP2Mx74DZEyNKwYZZPGntRmSWnMA0GCSqGSIb3DQEB\nDQUAMHIxCzAJBgNVBAYTAkdCMRUwEwYDVQQIDAxXYXJ3aWNrc2hpcmUxEDAOBgNV\nBAcMB1dhcndpY2sxDDAKBgNVBAoMA0lCTTERMA8GA1UECwwIUEtJIFRFQU0xGTAX\n5/62\n-----END DATA-----\n</code></pre>\n\n<p>should result in:</p>\n\n<pre><code>[ '\\nMIIEzDCCArSgAwIBAgIVCugKYzMN5ra8zPWxYE8pUU9SxjYSMA0GCSqGSIb3DQEB\\nCwUAMHAxCzAJBgNVBAYTAkdCMRUwEwYDVQQIDAxXYXJ3aWNrc2hpcmUxEDAOBgNV\\nBAcMB1dhcndpY2sxEDAOBgNVBAoMB0VudHJ1c3QxETAPBgNVBAsMCFBLSSBURUFN\\n'\n, '\\nMIIETzCCAjegAwIBAgIVBShP2Mx74DZEyNKwYZZPGntRmSWnMA0GCSqGSIb3DQEB\\nDQUAMHIxCzAJBgNVBAYTAkdCMRUwEwYDVQQIDAxXYXJ3aWNrc2hpcmUxEDAOBgNV\\nBAcMB1dhcndpY2sxDDAKBgNVBAoMA0lCTTERMA8GA1UECwwIUEtJIFRFQU0xGTAX\\n5/62\\n'\n]\n</code></pre>\n\n<p>To get this result I use regular expression with two non-matching groups for delimiters and a matching group for the data. First I extract the delimited chunks, then remove delimiters. This may not be very efficient, but should do the job.</p>\n\n<p>Note that the callback of <code>flatMap</code> will return an array of strings. Using <code>map</code> here would result in a stream of arrays - one for every file. What we want is a single stream of strings. That's why <a href=\"http://highlandjs.org/#flatMap\" rel=\"nofollow\">flatMap</a>` is used here.</p>\n\n<p>Finally you need to get the stream flowing and get the data out of it. To do this you need to call a consuming method on the stream. In this example I use <a href=\"http://highlandjs.org/#toArray\" rel=\"nofollow\">toArray</a>. The callback provided to this method will be called with an array containing all elements of the stream - in this case all your data chunks.</p>\n\n<p>Here is the thing in it's entirety:</p>\n\n<pre><code>const Stream = require(\"highland\")\nconst FS = require(\"fs\")\n\nconst files = [ \"./input-1.txt\", \"./input-2.txt\"  ]\nconst readFile = Stream.wrapCallback(FS.readFile);\n\nconst pattern = /(?:-----BEGIN DATA-----)((.|\\n)+?)(?:-----END DATA-----)/gm\n\nStream(files)\n  // 1. Read contents\n  .map(readFile)\n  .parallel(2)\n  .invoke(\"toString\", [\"utf-8\"])\n  // 2. Process contents to extract data\n  .flatMap((content) =&gt;\n    content\n      // get an array of chunks (including delimiters)\n      .match(pattern)\n      // remove the delimiters from each chunk, leaving only the data\n      .map((chunk) =&gt; chunk.replace(pattern, \"$1\")))\n  // 3. Get the resulting data out of the stream\n  .toArray((chunks) =&gt; \n    console.log(chunks) // will print an array of data chunks\n  )\n</code></pre>\n"}], "owner": {"reputation": 6121, "user_id": 1513388, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/a235aa59e48586dcab866c685d042874?s=128&d=identicon&r=PG", "display_name": "user1513388", "link": "https://stackoverflow.com/users/1513388/user1513388"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1476374396, "creation_date": 1473890823, "question_id": 39500380, "link": "https://stackoverflow.com/questions/39500380/reading-large-file-and-splitby-method", "title": "reading large file and splitby method", "body": "<p>I'm trying to use the <code>splitby</code> method in <code>highland.js</code> to extract the data between the begin and end delimiters.</p>\n\n<pre><code>        -----BEGIN DATA-----\n        MIIEzDCCArSgAwIBAgIVCugKYzMN5ra8zPWxYE8pUU9SxjYSMA0GCSqGSIb3DQEB\n        CwUAMHAxCzAJBgNVBAYTAkdCMRUwEwYDVQQIDAxXYXJ3aWNrc2hpcmUxEDAOBgNV\n        BAcMB1dhcndpY2sxEDAOBgNVBAoMB0VudHJ1c3QxETAPBgNVBAsMCFBLSSBURUFN\n        -----END DATA-----\n        -----BEGIN DATA-----\n        MIIETzCCAjegAwIBAgIVBShP2Mx74DZEyNKwYZZPGntRmSWnMA0GCSqGSIb3DQEB\n        DQUAMHIxCzAJBgNVBAYTAkdCMRUwEwYDVQQIDAxXYXJ3aWNrc2hpcmUxEDAOBgNV\n        BAcMB1dhcndpY2sxDDAKBgNVBAoMA0lCTTERMA8GA1UECwwIUEtJIFRFQU0xGTAX\n        5/62\n        -----END DATA-----\n</code></pre>\n\n<p>I can read the file into a stream like this:</p>\n\n<pre><code>        const readFile = _.wrapCallback(fs.readFile);\n        stream = _(files).map(readFile).parallel(2);\n\n        const blob = _(stream).splitBy('-----BEGIN DATA-----')\n</code></pre>\n\n<p>However, I can't seem to work out how to process the file and extract the data I need.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473890955, "post_id": 39500366, "comment_id": 66318247, "body": "is <code>{page_number}</code> the literal string &quot;{page_number}&quot; or is it an actual number? Also, when you say you need to search for <code>url&#47;inbox&#47;g</code> where are you searching for that? Is there a larger text where you need find all mentions of a URL and replace them, or is it just the URL itself you get as input?"}, {"owner": {"reputation": 4708, "user_id": 1276136, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1a14a725e82d65e1e655fcc84f2bc8ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adib Aroui", "link": "https://stackoverflow.com/users/1276136/adib-aroui"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473891031, "post_id": 39500366, "comment_id": 66318280, "body": "@vlaz it is an actual number. by search, i mean the first parameter of <code>replace</code> function. thank you"}, {"owner": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1473891041, "post_id": 39500366, "comment_id": 66318284, "body": "Have you considered a RegEx?"}, {"owner": {"reputation": 4708, "user_id": 1276136, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1a14a725e82d65e1e655fcc84f2bc8ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adib Aroui", "link": "https://stackoverflow.com/users/1276136/adib-aroui"}, "reply_to_user": {"reputation": 11660, "user_id": 2055998, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/2Vx3A.jpg?s=128&g=1", "display_name": "PM 77-1", "link": "https://stackoverflow.com/users/2055998/pm-77-1"}, "edited": false, "score": 0, "creation_date": 1473891200, "post_id": 39500366, "comment_id": 66318341, "body": "@PM77-1, yes this seems to be the only solution since page_number is dynamic. I just don&#39;t know how to"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1473891257, "post_id": 39500366, "comment_id": 66318358, "body": "You can also use <code>.split()</code> to split up the URL at <code>&#47;</code> characters, replace the last element of the array, then join them back with <code>.join()</code>. These are all simple operations."}], "answers": [{"comments": [{"owner": {"reputation": 3235, "user_id": 1148244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z8rdM.jpg?s=128&g=1", "display_name": "Pabs123", "link": "https://stackoverflow.com/users/1148244/pabs123"}, "edited": false, "score": 1, "creation_date": 1473890952, "post_id": 39500397, "comment_id": 66318246, "body": "that&#39;s not going to work because {page_number} is going to be a number which changes each time so it can&#39;t be hardcoded into the <code>replace</code> function call"}, {"owner": {"reputation": 4708, "user_id": 1276136, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1a14a725e82d65e1e655fcc84f2bc8ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adib Aroui", "link": "https://stackoverflow.com/users/1276136/adib-aroui"}, "edited": false, "score": 2, "creation_date": 1473890960, "post_id": 39500397, "comment_id": 66318249, "body": "the value of <code>page_number</code> is rendered served side, I don&#39;t have control of it. It can be 1 digit or more"}, {"owner": {"reputation": 4446, "user_id": 6079412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e5e6c2756113d7289e80bed137251db?s=128&d=identicon&r=PG&f=1", "display_name": "larz", "link": "https://stackoverflow.com/users/6079412/larz"}, "edited": false, "score": 0, "creation_date": 1473890977, "post_id": 39500397, "comment_id": 66318257, "body": "right, totally misread the question.  my bad.  that regex should be what you&#39;re looking for in my updated answer"}], "tags": [], "owner": {"reputation": 4446, "user_id": 6079412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e5e6c2756113d7289e80bed137251db?s=128&d=identicon&r=PG&f=1", "display_name": "larz", "link": "https://stackoverflow.com/users/6079412/larz"}, "is_accepted": false, "score": 1, "last_activity_date": 1473891131, "last_edit_date": 1473891131, "creation_date": 1473890897, "answer_id": 39500397, "question_id": 39500366, "link": "https://stackoverflow.com/questions/39500366/replace-last-numbers-from-a-string/39500397#39500397", "title": "Replace last numbers from a string", "body": "<pre><code>var url = \"url/inbox/g/4321\"\nvar your_number = 1234\nurl = url.replace(/\\d+$/, your_number)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4708, "user_id": 1276136, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1a14a725e82d65e1e655fcc84f2bc8ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adib Aroui", "link": "https://stackoverflow.com/users/1276136/adib-aroui"}, "edited": false, "score": 0, "creation_date": 1473891267, "post_id": 39500417, "comment_id": 66318363, "body": "Thank you, I will try to use your RegExp and feedback, thanks"}], "tags": [], "owner": {"reputation": 7680, "user_id": 2687790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XZPKJ.jpg?s=128&g=1", "display_name": "The One and Only ChemistryBlob", "link": "https://stackoverflow.com/users/2687790/the-one-and-only-chemistryblob"}, "is_accepted": false, "score": 1, "last_activity_date": 1473891042, "creation_date": 1473891042, "answer_id": 39500417, "question_id": 39500366, "link": "https://stackoverflow.com/questions/39500366/replace-last-numbers-from-a-string/39500417#39500417", "title": "Replace last numbers from a string", "body": "<p>Use a replace statement like this:</p>\n\n<pre><code>var newVal  = 'anything',\n    pattern = \"/url\\/inbox\\/g\\/\\d+$/\",\n    reg     = new RegExp(pattern, \"i\");\n    repURL  = url.replace(reg, \"url/inbox/g/\" + newVal);\n</code></pre>\n\n<p>I am assuming <code>url</code> is dynamically accessed.</p>\n"}, {"comments": [{"owner": {"reputation": 4708, "user_id": 1276136, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1a14a725e82d65e1e655fcc84f2bc8ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adib Aroui", "link": "https://stackoverflow.com/users/1276136/adib-aroui"}, "edited": false, "score": 0, "creation_date": 1473891237, "post_id": 39500444, "comment_id": 66318352, "body": "Thank you, I will try to use your RegExp and feedback, thanks"}], "tags": [], "owner": {"reputation": 440, "user_id": 6826725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ff980575aab3692bd4716434d44a030?s=128&d=identicon&r=PG&f=1", "display_name": "Thomas W.", "link": "https://stackoverflow.com/users/6826725/thomas-w"}, "is_accepted": false, "score": 1, "last_activity_date": 1473891272, "last_edit_date": 1473891272, "creation_date": 1473891200, "answer_id": 39500444, "question_id": 39500366, "link": "https://stackoverflow.com/questions/39500366/replace-last-numbers-from-a-string/39500444#39500444", "title": "Replace last numbers from a string", "body": "<p>I would use the following regular expression : <code>/\\/\\d*$/m</code> And the replacement could be done with :</p>\n\n<pre><code>str.replace(/\\/\\d*$/m, \"/\" + n)\n</code></pre>\n\n<p>Where <code>n</code> is the new value</p>\n\n<p>The regular expression says <em>find everything that match \"/\" followed by 0 or more digits and which end the string</em>. <a href=\"http://www.w3schools.com/jsref/jsref_obj_regexp.asp\" rel=\"nofollow\">Reference</a></p>\n"}, {"tags": [], "owner": {"reputation": 20246, "user_id": 592253, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a46ab9a1ec84b02baee4a249a95044d8?s=128&d=identicon&r=PG", "display_name": "Xotic750", "link": "https://stackoverflow.com/users/592253/xotic750"}, "is_accepted": false, "score": 1, "last_activity_date": 1473891467, "creation_date": 1473891467, "answer_id": 39500490, "question_id": 39500366, "link": "https://stackoverflow.com/questions/39500366/replace-last-numbers-from-a-string/39500490#39500490", "title": "Replace last numbers from a string", "body": "<p>Two other possibilities, not using RegExp.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const url = 'url/inbox/g/{page_number}';\r\nconst parts = url.split('/', 3);\r\nconst new_number = '{new_page_number}';\r\nparts.push(new_number);\r\nconst new_url1 = parts.join('/');\r\nconsole.log(new_url1);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const url = 'url/inbox/g/{page_number}';\r\nconst new_number = '{new_page_number}';\r\nconst new_url2 = `${url.slice(0, url.lastIndexOf('/'))}/${new_number}`;\r\nconsole.log(new_url2);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11914, "user_id": 1592845, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/71827032ba1a3342c77c1c232f26f3ae?s=128&d=identicon&r=PG", "display_name": "SaidbakR", "link": "https://stackoverflow.com/users/1592845/saidbakr"}, "is_accepted": true, "score": 1, "last_activity_date": 1473891689, "creation_date": 1473891689, "answer_id": 39500539, "question_id": 39500366, "link": "https://stackoverflow.com/questions/39500366/replace-last-numbers-from-a-string/39500539#39500539", "title": "Replace last numbers from a string", "body": "<p>Due to the number is the last portion of the string, you may use non regex solution using <code>lastIndexOf</code> and <code>slice</code>:</p>\n\n<pre><code>&lt;script&gt;\n  url = 'url/inbox/g/44';\n  replaceNumStr = 'Dummy';\n  newVal = url.slice(0,url.lastIndexOf('/')+1);\n  alert(newVal+replaceNumStr);\n &lt;/script&gt;\n</code></pre>\n\n<p>Checkout <a href=\"http://jsbin.com/kuwepirare/edit?html,output\" rel=\"nofollow\">this demo</a></p>\n"}], "owner": {"reputation": 4708, "user_id": 1276136, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1a14a725e82d65e1e655fcc84f2bc8ff?s=128&d=identicon&r=PG&f=1", "display_name": "Adib Aroui", "link": "https://stackoverflow.com/users/1276136/adib-aroui"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 292, "favorite_count": 0, "accepted_answer_id": 39500539, "answer_count": 5, "score": 0, "last_activity_date": 1473891689, "creation_date": 1473890751, "question_id": 39500366, "link": "https://stackoverflow.com/questions/39500366/replace-last-numbers-from-a-string", "title": "Replace last numbers from a string", "body": "<p>I have a string url with following structure:</p>\n\n<blockquote>\n  <p>url/inbox/g/{page_number}</p>\n</blockquote>\n\n<p>I am in a situation where I need to replace <code>{page_number}</code> with a new value. So I need somehow to search for <code>url/inbox/g</code> and replace it with <code>url/inbox/g/{new_value}</code>.</p>\n\n<p>How to use <code>replace()</code> function to achieve this?</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 9, "creation_date": 1473890666, "post_id": 39500344, "comment_id": 66318174, "body": "Promises and <code>Promise.all</code>"}, {"owner": {"reputation": 18120, "user_id": 242848, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/ba9d86de42b1555f3879adbfa8b774ae?s=128&d=identicon&r=PG", "display_name": "brainjam", "link": "https://stackoverflow.com/users/242848/brainjam"}, "edited": false, "score": 2, "creation_date": 1473890801, "post_id": 39500344, "comment_id": 66318210, "body": "const writeFileP = require(&#39;bluebird&#39;).promisify(fs.writeFile) ; // writeFileP(...) returns a promise"}], "answers": [{"comments": [{"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1473921115, "post_id": 39500402, "comment_id": 66325859, "body": "@Benjamin: Thank you again! But the <code>Array.from</code> was necessary, because we needed to call <code>map</code> on the iterable (we aren&#39;t passing it directly into <code>Promise.all</code>)."}], "tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": true, "score": 4, "last_activity_date": 1473921177, "last_edit_date": 1473921177, "creation_date": 1473890937, "answer_id": 39500402, "question_id": 39500344, "link": "https://stackoverflow.com/questions/39500344/js-elegant-way-to-wait-for-callbacks-to-finish/39500402#39500402", "title": "JS: elegant way to wait for callbacks to finish", "body": "<blockquote>\n  <p>While it works as desired, I feel that there could be some nicer idiom for that. </p>\n</blockquote>\n\n<p>This is one of the things promises are designed for. Here's that code rewritten with promises (and it could go further, there are libs to promise-ify NodeJS APIs):</p>\n\n<pre><code>let operations = []\n(some loop declaration) {\n    // (preparing data etc)\n    operations.push(new Promise((resolve, reject) =&gt; {\n        fs.writeFile(fname, fdata, (err) =&gt; {\n            if (err) {\n                reject(err);\n            } else {\n                resolve();\n            }\n        });\n    }));\n}\nPromise.all(operations).then(() =&gt; {\n    // All done\n});\n</code></pre>\n\n<p>Or consider if we have a promise-ified version of <code>writeFile</code>:</p>\n\n<pre><code>let operations = []\n(some loop declaration) {\n    // (preparing data etc)\n    operations.push(writeFileWithPromise(fname, fdata));\n}\nPromise.all(operations).then(() =&gt; {\n    // All done\n});\n</code></pre>\n\n<p>Or if the \"loop\" is over an iterable that we can turn into an array and use <code>map</code> on:</p>\n\n<pre><code>Promise.all(\n    Array.from(theThingy).map(entry =&gt; writeFileWithPromise(entry.fname, entry.fdata))\n).then(() =&gt; {\n    // All done\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18517, "user_id": 893432, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/3d431328ab8f16f82ad332394b44ea67?s=128&d=identicon&r=PG", "display_name": "Ali", "link": "https://stackoverflow.com/users/893432/ali"}, "is_accepted": false, "score": -1, "last_activity_date": 1473891446, "creation_date": 1473891446, "answer_id": 39500483, "question_id": 39500344, "link": "https://stackoverflow.com/questions/39500344/js-elegant-way-to-wait-for-callbacks-to-finish/39500483#39500483", "title": "JS: elegant way to wait for callbacks to finish", "body": "<p>use Async:</p>\n\n<pre><code>async.map([['name1', 'data1'], ['name2', 'data2'], ['name3', 'data3']], \nfunction (item, cb) {\n     fs.writeFile(item[0], item[1], (err, res) =&gt; {\n        callback(err, res);\n    });\n}, \nfunction(err, results) {\n    // results is now an array of results\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1473892214, "post_id": 39500544, "comment_id": 66318606, "body": "Yes, you recommended an external library for no required reason. Promises solve this thing well and are built in. It&#39;s a well written answer I just don&#39;t believe it is useful given the current state of asynchronous actions in JS."}, {"owner": {"reputation": 1784, "user_id": 620010, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/382403519eef53d6ca9c8775d52c29ae?s=128&d=identicon&r=PG", "display_name": "rclai", "link": "https://stackoverflow.com/users/620010/rclai"}, "reply_to_user": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1473892335, "post_id": 39500544, "comment_id": 66318636, "body": "The OP didn&#39;t say he didn&#39;t want to use external library though."}, {"owner": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1473892425, "post_id": 39500544, "comment_id": 66318659, "body": "Right, one just isn&#39;t required in this case. Introducing an external dependency where one is not needed seemed unnecessary to me. caolan/async was an important library a few years ago but now it is a thing of the past mostly. I think recommending it to new users is doing them disservice."}, {"owner": {"reputation": 1784, "user_id": 620010, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/382403519eef53d6ca9c8775d52c29ae?s=128&d=identicon&r=PG", "display_name": "rclai", "link": "https://stackoverflow.com/users/620010/rclai"}, "reply_to_user": {"reputation": 245145, "user_id": 1348195, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f6dca2295546af21e1cde8e68f2d49bd?s=128&d=identicon&r=PG", "display_name": "Benjamin Gruenbaum", "link": "https://stackoverflow.com/users/1348195/benjamin-gruenbaum"}, "edited": false, "score": 0, "creation_date": 1473892669, "post_id": 39500544, "comment_id": 66318738, "body": "How can it be a thing of the past when the library is still being actively maintained?"}, {"owner": {"reputation": 463, "user_id": 385946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/452264fad9a3af4488d76545c93fbc2f?s=128&d=identicon&r=PG", "display_name": "Vadim Fedorov", "link": "https://stackoverflow.com/users/385946/vadim-fedorov"}, "edited": false, "score": 2, "creation_date": 1473919624, "post_id": 39500544, "comment_id": 66325262, "body": "It still ends up with a function call in the end, not continuing the code flow in the same scope. Just one callback instead of many."}, {"owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "reply_to_user": {"reputation": 463, "user_id": 385946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/452264fad9a3af4488d76545c93fbc2f?s=128&d=identicon&r=PG", "display_name": "Vadim Fedorov", "link": "https://stackoverflow.com/users/385946/vadim-fedorov"}, "edited": false, "score": 0, "creation_date": 1473921444, "post_id": 39500544, "comment_id": 66325994, "body": "@VadimFedorov: <code>writeFile</code> starts an asynchronous process, you <i>can&#39;t</i> continue the code flow in the same scope when handling its completion; my promises solution doesn&#39;t either. But with arrow functions and closures, it doesn&#39;t really matter."}], "tags": [], "owner": {"reputation": 1784, "user_id": 620010, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/382403519eef53d6ca9c8775d52c29ae?s=128&d=identicon&r=PG", "display_name": "rclai", "link": "https://stackoverflow.com/users/620010/rclai"}, "is_accepted": false, "score": 3, "last_activity_date": 1473892980, "last_edit_date": 1473892980, "creation_date": 1473891710, "answer_id": 39500544, "question_id": 39500344, "link": "https://stackoverflow.com/questions/39500344/js-elegant-way-to-wait-for-callbacks-to-finish/39500544#39500544", "title": "JS: elegant way to wait for callbacks to finish", "body": "<p>Promises is one way. However, if you're not fond of them, you can use a very well-known library called <a href=\"https://www.npmjs.com/package/async\" rel=\"nofollow\">async</a>.</p>\n\n<p>Here's what you can do on your case. Here's what it would look like in a rudimentary manner using parallel processing:</p>\n\n<pre><code>async.parallel([\n  function(done) {\n    fs.writeFile(fname1, fdata1, (err) =&gt; {\n      done(err, customResults1);\n    });\n  },\n  function(done) {\n    fs.writeFile(fname2, fdata2, (err) =&gt; {\n      done(err, customResults2);\n    });\n  }\n],\n// The callback when every function above is done\nfunction(err, results) {\n  // `results` contains a collection of what you've passed\n  // on the `done` callbacks above\n});\n</code></pre>\n\n<p>To be more specific to your use case, it would look like:</p>\n\n<pre><code>async.parallel(\n  ['file1', 'file2'].map(function(fname) {\n    return function(done) {\n      fs.writeFile(fname, fdata, (err) =&gt; {\n        done(err, customResults);\n      });\n    };\n  }),\n  // The callback when every function above is done\n  function(err, results) {\n    // `results` contains a collection of what you've passed\n    // on the `done` callbacks above\n  }\n);\n</code></pre>\n\n<p>If you want the tasks to run one by one in order you would use <a href=\"http://caolan.github.io/async/docs.html#.series\" rel=\"nofollow\">async.series</a>. If you want the functions to pass its results to the next task, you can use <a href=\"http://caolan.github.io/async/docs.html#.waterfall\" rel=\"nofollow\">async.waterfall</a>. Of course, there are other functions you can use but the ones I mentioned are some pretty common ones.</p>\n"}, {"comments": [{"owner": {"reputation": 463, "user_id": 385946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/452264fad9a3af4488d76545c93fbc2f?s=128&d=identicon&r=PG", "display_name": "Vadim Fedorov", "link": "https://stackoverflow.com/users/385946/vadim-fedorov"}, "edited": false, "score": 1, "creation_date": 1473919572, "post_id": 39501237, "comment_id": 66325243, "body": "I still end up with a function call in the end, not continuing the code flow in the same scope."}, {"owner": {"reputation": 7099, "user_id": 1475548, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/09sbK.jpg?s=128&g=1", "display_name": "Octopus", "link": "https://stackoverflow.com/users/1475548/octopus"}, "reply_to_user": {"reputation": 463, "user_id": 385946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/452264fad9a3af4488d76545c93fbc2f?s=128&d=identicon&r=PG", "display_name": "Vadim Fedorov", "link": "https://stackoverflow.com/users/385946/vadim-fedorov"}, "edited": false, "score": 0, "creation_date": 1473930853, "post_id": 39501237, "comment_id": 66330818, "body": "@Vadim, sure, but it doesn&#39;t have to be a separate function. I added an alternative. In fact, done() is practically the same as Promise.all(ops).then() except without having to manage the promise objects."}], "tags": [], "owner": {"reputation": 7099, "user_id": 1475548, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/09sbK.jpg?s=128&g=1", "display_name": "Octopus", "link": "https://stackoverflow.com/users/1475548/octopus"}, "is_accepted": false, "score": -1, "last_activity_date": 1473930704, "last_edit_date": 1473930704, "creation_date": 1473896714, "answer_id": 39501237, "question_id": 39500344, "link": "https://stackoverflow.com/questions/39500344/js-elegant-way-to-wait-for-callbacks-to-finish/39501237#39501237", "title": "JS: elegant way to wait for callbacks to finish", "body": "<p>I've experimented with Promises and I am not thoroughly convinced that there is much of an advantage to using them over doing something like this:</p>\n\n<pre><code>    let counter = 0;\n    (some loop declaration) {\n            // (preparing data etc)\n            counter += 1;\n            fs.writeFile(fname, fdata, (err) =&gt; {\n                    counter -= 1;\n                    if ( counter==0 ) done()\n            });\n    }\n\n    function done(){\n        // that's it \n    }\n</code></pre>\n\n<p>Very similar to your initial code, except instead of using setTimeout(), I check the value of counter as each operation completes.</p>\n\n<p>IMO, this is just as effective and maybe easier to read.</p>\n\n<p>Or, if you don't like having a separate function to finish up...</p>\n\n<pre><code>    let counter = 0;\n    (some loop declaration) {\n            // (preparing data etc)\n            counter += 1;\n            fs.writeFile(fname, fdata, (err) =&gt; {\n                    counter -= 1;\n                    if ( counter==0 ) {\n                            // that's it, finish up\n                    }\n            });\n    }\n</code></pre>\n"}], "owner": {"reputation": 463, "user_id": 385946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/452264fad9a3af4488d76545c93fbc2f?s=128&d=identicon&r=PG", "display_name": "Vadim Fedorov", "link": "https://stackoverflow.com/users/385946/vadim-fedorov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7167, "favorite_count": 1, "accepted_answer_id": 39500402, "answer_count": 4, "score": 4, "last_activity_date": 1473930704, "creation_date": 1473890620, "last_edit_date": 1473890681, "question_id": 39500344, "link": "https://stackoverflow.com/questions/39500344/js-elegant-way-to-wait-for-callbacks-to-finish", "title": "JS: elegant way to wait for callbacks to finish", "body": "<p>In my node app, I need to spawn multiple file writes and wait for them to finish before I proceed to other stuff. I've achieved that in the following way:</p>\n\n<pre><code>let counter = 0;\n(some loop declaration) {\n    // (preparing data etc)\n    counter += 1;\n    fs.writeFile(fname, fdata, (err) =&gt; {\n        counter -= 1;\n    });\n}\nlet waitForCallbacks = function() {\n    if (fcounter &gt; 0) {\n        setTimeout(waitForCallbacks, 0);\n    }\n};\nwaitForCallbacks();\n</code></pre>\n\n<p>While it works as desired, I feel that there could be some nicer idiom for that. Any suggestions?</p>\n"}, {"tags": ["javascript", "canvas", "charts", "chart.js"], "answers": [{"comments": [{"owner": {"reputation": 291, "user_id": 4670869, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5bd73fcae0cb8e4bdb2faa01e323d5c?s=128&d=identicon&r=PG&f=1", "display_name": "dlearious", "link": "https://stackoverflow.com/users/4670869/dlearious"}, "edited": false, "score": 0, "creation_date": 1474279954, "post_id": 39513273, "comment_id": 66450937, "body": "Thanks for the answer. Also related is my issue on github at <a href=\"https://github.com/chartjs/Chart.js/issues/3311#issuecomment-247474334\" rel=\"nofollow noreferrer\">github.com/chartjs/Chart.js/issues/3311#issuecomment-2474743&zwnj;&#8203;34</a>"}], "tags": [], "owner": {"reputation": 12440, "user_id": 4864023, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/kTWOk.jpg?s=128&g=1", "display_name": "tektiv", "link": "https://stackoverflow.com/users/4864023/tektiv"}, "is_accepted": true, "score": 18, "last_activity_date": 1473948553, "creation_date": 1473948553, "answer_id": 39513273, "question_id": 39500315, "link": "https://stackoverflow.com/questions/39500315/chart-js-different-x-axis-and-tooltip-format/39513273#39513273", "title": "chart.js different x axis and tooltip format", "body": "<p>First, you would better edit your chart properties directly from the options of the chart, and not in the scale service as you did so that it won't affect every chart on your page (<em>if you have several</em>).</p>\n\n<p>To achieve what you already did, add the function you used in your options :</p>\n\n<pre><code>options: {\n    scales: {\n        xAxes: [{\n            ticks: {\n                callback: function(tick) {\n                    var characterLimit = 20;\n                    if (tick.length &gt;= characterLimit) {\n                        return tick.slice(0, tick.length).substring(0, characterLimit - 1).trim() + '...';\n                    }\n                    return tick;\n                }\n            }\n        }]\n    },\n}\n</code></pre>\n\n<p>It is basically an edit of what is displayed as labels on your xAxe.\n<hr>\nHowever, we still have the same problem : both the labels and the tooltips display the trimmed string.</p>\n\n<p>To fix it, you'll also need to edit the callback of the tooltip :</p>\n\n<pre><code>options: {\n    // other options here, `scales` for instance\n    // ...\n    tooltips: {\n        callbacks: {\n\n            // We'll edit the `title` string\n            title: function(tooltipItem){\n                // `tooltipItem` is an object containing properties such as\n                // the dataset and the index of the current item\n\n                // Here, `this` is the char instance\n\n                // The following returns the full string\n                return this._data.labels[tooltipItem[0].index];\n            }\n        }\n    }\n}\n</code></pre>\n\n<p><hr>\nYou can see a full example <a href=\"https://jsfiddle.net/kvszjr7g/7/\" rel=\"noreferrer\">in this jsFiddle</a> and here is its result :</p>\n\n<p><a href=\"https://i.stack.imgur.com/SjiFl.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/SjiFl.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 291, "user_id": 4670869, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a5bd73fcae0cb8e4bdb2faa01e323d5c?s=128&d=identicon&r=PG&f=1", "display_name": "dlearious", "link": "https://stackoverflow.com/users/4670869/dlearious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7835, "favorite_count": 2, "accepted_answer_id": 39513273, "answer_count": 1, "score": 3, "last_activity_date": 1473948553, "creation_date": 1473890451, "question_id": 39500315, "link": "https://stackoverflow.com/questions/39500315/chart-js-different-x-axis-and-tooltip-format", "title": "chart.js different x axis and tooltip format", "body": "<p>I am trying to setup a bar chart using the Charts.js v2 library.  </p>\n\n<p>The issue i'm running into is i want to format the x axis labels differently to the tooltip labels.</p>\n\n<p>For instance, if i have a label like \"Super long label that will be trimmed\" along the x axis, with the below code that would shown as \"Super long label that...\".</p>\n\n<pre><code>Chart.scaleService.updateScaleDefaults('category', {\n  ticks: {\n    callback: function(tick) {\n        var characterLimit = 20;\n        if ( tick.length &gt;= characterLimit) {\n            return tick.slice(0, tick.length).substring(0, characterLimit -1).trim() + '...';;\n        } \n        return tick;\n    }\n  }\n});\n</code></pre>\n\n<p>Full fiddle: <a href=\"https://jsfiddle.net/kvszjr7g/3/\" rel=\"nofollow\">https://jsfiddle.net/kvszjr7g/3/</a></p>\n\n<p>This works correctly.</p>\n\n<p>But the tooltips that are shown when you hover over the bar are also trimmed. What i would like is for the full text of the label to be shown in the tooltip.</p>\n\n<p>I've tried to use a copy of the string in the above method, that's why i've added <code>tick.slice</code>. Whatever i've tried up to this point always effects both the x axis labels and tooltip labels.</p>\n\n<p>I'm pretty lost at this point, what would be the best way to approach this?</p>\n"}, {"tags": ["javascript", "jquery", "hover", "click"], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 6286957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c3233a0002706c033c13eef8812d2a?s=128&d=identicon&r=PG", "display_name": "HawortDe", "link": "https://stackoverflow.com/users/6286957/hawortde"}, "edited": false, "score": 0, "creation_date": 1473897868, "post_id": 39500493, "comment_id": 66320101, "body": "Wow, thank you @Lucas Lazaro this is working great. Do I need to add more to the else statement in order to be able to click anywhere to close the flyout or would that be something different? Some boolean logic maybe? Currently, you have to click in the content_id to close the flyout. Thanks"}, {"owner": {"reputation": 1476, "user_id": 1547033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e637e7a14c87c9729f058142c5a628?s=128&d=identicon&r=PG", "display_name": "Lucas Lazaro", "link": "https://stackoverflow.com/users/1547033/lucas-lazaro"}, "reply_to_user": {"reputation": 11, "user_id": 6286957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c3233a0002706c033c13eef8812d2a?s=128&d=identicon&r=PG", "display_name": "HawortDe", "link": "https://stackoverflow.com/users/6286957/hawortde"}, "edited": false, "score": 0, "creation_date": 1473937271, "post_id": 39500493, "comment_id": 66334895, "body": "@HawortDe No worries! Hmm... on my Fiddle it seems to work fine, clicking anywhere on the canvas will close the flyout, which browser are you previewing this?"}, {"owner": {"reputation": 11, "user_id": 6286957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c3233a0002706c033c13eef8812d2a?s=128&d=identicon&r=PG", "display_name": "HawortDe", "link": "https://stackoverflow.com/users/6286957/hawortde"}, "edited": false, "score": 0, "creation_date": 1473952838, "post_id": 39500493, "comment_id": 66345390, "body": "I&#39;m in a local Magento environment using Chrome. Your fiddle is exactly what I was looking for however, my flyouts are reacting exactly opposite. Testing for any conflicts now."}], "tags": [], "owner": {"reputation": 1476, "user_id": 1547033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e637e7a14c87c9729f058142c5a628?s=128&d=identicon&r=PG", "display_name": "Lucas Lazaro", "link": "https://stackoverflow.com/users/1547033/lucas-lazaro"}, "is_accepted": false, "score": 0, "last_activity_date": 1473891476, "creation_date": 1473891476, "answer_id": 39500493, "question_id": 39500304, "link": "https://stackoverflow.com/questions/39500304/changing-hover-to-click-for-header-navigation-flyout-menus/39500493#39500493", "title": "Changing hover to click for header navigation flyout menus", "body": "<p>The problem is the the <code>.hover()</code> method accepts two parameters, <a href=\"https://api.jquery.com/hover/\" rel=\"nofollow\">from the docs</a>:</p>\n\n<pre><code>.hover( handlerIn, handlerOut )\n</code></pre>\n\n<p>On the other hand the <code>.click()</code> function accepts only one parameter, what you could do is listen to the <code>click</code> event on the document and if it hits the target you want you activate the dropdown, otherwise you'll hide the dropdown, like so:</p>\n\n<pre><code>jQuery(document).ready(function () {\n    function displayFlyout(main_id, content_id) {\n    jQuery(document).click(function (ev) {      \n      if (jQuery(ev.target).parent(main_id).is(jQuery(main_id))) {\n        jQuery(content_id).stop(true, true).slideDown('fast');\n        jQuery(this).addClass(\"fly-dropdown\");      \n      } else {\n        jQuery(content_id).stop(true, true).slideUp(200);\n        jQuery(this).removeClass(\"fly-dropdown\");\n      }\n   });\n    }\n\n    displayFlyout(\"#example_one\", \"#example_one_content\");\n});\n</code></pre>\n\n<p>You can also check it out on this <a href=\"https://jsfiddle.net/13v3swqg/\" rel=\"nofollow\">jsFiddle</a>.</p>\n\n<p>Hope it helps,\nCheers.</p>\n\n<p><strong>EDIT:</strong> <em>Keep in mind taht using this solution meand that the target of the click will be the <code>&lt;span class=\"menu\"&gt;Example&lt;/span&gt;</code> that's why I used the <code>.parent()</code> function to traverse up the dom to find the element you were intending to bind.</em></p>\n"}], "owner": {"reputation": 11, "user_id": 6286957, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17c3233a0002706c033c13eef8812d2a?s=128&d=identicon&r=PG", "display_name": "HawortDe", "link": "https://stackoverflow.com/users/6286957/hawortde"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1473891476, "creation_date": 1473890388, "question_id": 39500304, "link": "https://stackoverflow.com/questions/39500304/changing-hover-to-click-for-header-navigation-flyout-menus", "title": "Changing hover to click for header navigation flyout menus", "body": "<ul>\n<li>Given: A simple header with navigation elements. </li>\n<li>When: A user hovers over a header nav element and a mini flyout appears </li>\n<li>Then: The user will have to click on the element to display the flyout</li>\n</ul>\n\n<p>The code below works great for hover but I would like the mini flyouts to appear upon click instead of hover. When I change .hover to .click nothing happens.</p>\n\n<p>Any ideas?</p>\n\n<p>JQuery</p>\n\n<pre><code>jQuery(document).ready(function () {\nfunction displayFlyout(main_id, content_id) {\n    jQuery(main_id).hover(function () {\n            jQuery(content_id).stop(true, true).slideDown('fast');\n            jQuery(this).addClass(\"fly-dropdown\");\n        },\n        function () {\n            jQuery(content_id).stop(true, true).slideUp(200);\n            jQuery(this).removeClass(\"fly-dropdown\");\n        }\n    );\n}\n\ndisplayFlyout(\"#example_one\", \"#example_one_content\");\ndisplayFlyout(\"#example_two\", \"#example_two_content\");\ndisplayFlyout(\"#example_three\", \"#example_three_content\");\n});\n</code></pre>\n\n<p>Html (Just one example of a flyout)</p>\n\n<pre><code>&lt;ul class=\"header_flyout col-md-10 pull-right\"&gt;\n        &lt;li class=\"contact_us\"&gt;\n            &lt;div id=\"example_one\" class=\"no-dropdown\"&gt;\n                &lt;span class=\"menu\"&gt;&lt;?php echo $this-&gt;__('Example'); ?&gt;&lt;/span&gt;\n                &lt;div class=\"header-dropdown-content\" id=\"example_one_content\"&gt;\n                    &lt;span class=\"blue-arrow\"&gt;&amp;nbsp;&lt;/span&gt;\n                    &lt;?php echo $this-&gt;getChildHtml('contact_mini'); ?&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/li&gt;\n        &lt;li&gt;.....&lt;/li&gt; (example two)\n        &lt;li&gt;.....&lt;/li&gt; (example three)\n    &lt;/ul&gt;\n</code></pre>\n"}, {"tags": ["javascript", "r", "d3.js", "shiny"], "comments": [{"owner": {"reputation": 4915, "user_id": 4564432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1012918142059352/picture?type=large", "display_name": "Carl", "link": "https://stackoverflow.com/users/4564432/carl"}, "edited": false, "score": 0, "creation_date": 1473891789, "post_id": 39500299, "comment_id": 66318511, "body": "The R console or JavaScript console?"}], "answers": [{"comments": [{"owner": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1473918702, "post_id": 39500611, "comment_id": 66324965, "body": "have you tried to import ja <code>.js</code> file in the <code>ui.R</code> like I did?"}, {"owner": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1473927951, "post_id": 39500611, "comment_id": 66329154, "body": "added an reproducible example"}], "tags": [], "owner": {"reputation": 4915, "user_id": 4564432, "user_type": "registered", "accept_rate": 71, "profile_image": "https://graph.facebook.com/1012918142059352/picture?type=large", "display_name": "Carl", "link": "https://stackoverflow.com/users/4564432/carl"}, "is_accepted": false, "score": 2, "last_activity_date": 1473892177, "creation_date": 1473892177, "answer_id": 39500611, "question_id": 39500299, "link": "https://stackoverflow.com/questions/39500299/why-is-console-log-not-a-function-in-shiny-for-r/39500611#39500611", "title": "Why is console.log not a function in Shiny for R?", "body": "<p>I'm not sure I fully understand what you are trying to do, but if you are trying to use <code>console.log()</code> in the JavaScript to see something in the JavaScript console then you shouldn't have a problem:</p>\n\n<pre><code>library(shiny)\nui &lt;- shinyUI(fluidPage(\n  mainPanel(\n      tags$script(HTML(\n        \"console.log('Here is some text');\"\n        ))\n  )\n)\n)\n\nserver &lt;- shinyServer(function(input, output, session) {\n\n})\n# Run the application\nshinyApp(ui = ui, server = server)\n</code></pre>\n\n<p>If you run this, and then inspect the page using Chrome or RStudio's web-browser, and click on console, which gives you the JavaScript console, you will see the output from the <code>console.log()</code> function. </p>\n\n<p>If you want to print to the R console you have to use <code>print</code> or <code>cat</code> from the server.</p>\n"}, {"comments": [{"owner": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1473918551, "post_id": 39501176, "comment_id": 66324928, "body": "I am aware of that. The thing is, that I call, as you can see in my question, <code>console.log()</code> in a <code>JavaScript file</code> which I then import into <code>shiny</code>. So in there I should be able to call <code>console.log()</code> since it gets interpreted from the browser... Have you tried to import a <code>js</code> file the way I did?"}, {"owner": {"reputation": 21416, "user_id": 3943160, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/756d1df8b304237e9e8dc98b3b37d564?s=128&d=identicon&r=PG", "display_name": "DeanAttali", "link": "https://stackoverflow.com/users/3943160/deanattali"}, "reply_to_user": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1473927036, "post_id": 39501176, "comment_id": 66328687, "body": "I&#39;m sorry, but the way you wrote the question is confusing and hard to reproduce. It&#39;d be a lot better if you provide a fully reproducible minimal example with the entire app code and the entire javascript file.  Even better, instead of including a separate javascript file, try first including javascript inline.  Otherwise it&#39;s going to be very hard to help you because I can&#39;t reproduce the error you&#39;re seeing"}, {"owner": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1473927132, "post_id": 39501176, "comment_id": 66328723, "body": "I think including many <code>js</code> files inline, that have many lines of code does not make the code more maintainable. I try to reproduce. Be back here soon"}, {"owner": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1473927947, "post_id": 39501176, "comment_id": 66329152, "body": "added an reproducible example"}, {"owner": {"reputation": 21416, "user_id": 3943160, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/756d1df8b304237e9e8dc98b3b37d564?s=128&d=identicon&r=PG", "display_name": "DeanAttali", "link": "https://stackoverflow.com/users/3943160/deanattali"}, "reply_to_user": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1473930435, "post_id": 39501176, "comment_id": 66330566, "body": "Yes using inline JS is not more maintainable, and you should use separate files in your app. But when posting on Stackoverflow it makes it much easier and simpler for us to have one code chunk that we can run rather than having to create two files to reproduce the code. Similarly, in my answer I used one code chunk for the entire app, where as in order to run your code I need to copy both chunks separately and deal with them... just little things that will make it a lot easier for others to help you without getting frustrated at the friction :)"}, {"owner": {"reputation": 21416, "user_id": 3943160, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/756d1df8b304237e9e8dc98b3b37d564?s=128&d=identicon&r=PG", "display_name": "DeanAttali", "link": "https://stackoverflow.com/users/3943160/deanattali"}, "reply_to_user": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "edited": false, "score": 0, "creation_date": 1473930895, "post_id": 39501176, "comment_id": 66330846, "body": "I&#39;m not sure if it matters or not, but there should be a semicolon at the end of the <code>console.log()</code> line. Anyway, I suggest you do two things to get better answers: 1. make your example <b>minimal</b>, so focus on the d3 javascript file OR on your own file, but don&#39;t include both in a minimal example, and 2. see if you still get an error when including the exact same JS code inline, because it will make people (at least myself) much more willing to test it out when there&#39;s no need to create multiple files"}, {"owner": {"reputation": 151, "user_id": 6616640, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/38d413c069d2a7e2594f87eab9d5422b?s=128&d=identicon&r=PG&f=1", "display_name": "Tarun Parmar", "link": "https://stackoverflow.com/users/6616640/tarun-parmar"}, "edited": false, "score": 0, "creation_date": 1611763067, "post_id": 39501176, "comment_id": 116556357, "body": "@DeanAttali Hi Dean, do you know of a straightforward example that display live and rolling R console log into a Shiny app ?"}], "tags": [], "owner": {"reputation": 21416, "user_id": 3943160, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/756d1df8b304237e9e8dc98b3b37d564?s=128&d=identicon&r=PG", "display_name": "DeanAttali", "link": "https://stackoverflow.com/users/3943160/deanattali"}, "is_accepted": false, "score": 3, "last_activity_date": 1473896267, "creation_date": 1473896267, "answer_id": 39501176, "question_id": 39500299, "link": "https://stackoverflow.com/questions/39500299/why-is-console-log-not-a-function-in-shiny-for-r/39501176#39501176", "title": "Why is console.log not a function in Shiny for R?", "body": "<p><code>console.log()</code> is a JavaScript function, so you cannot call it in R-Shiny and expect it to run in JavaScript. You have to explicitly tell Shiny to make that call in JavaScript.</p>\n\n<p>Since it is a fairly common operation for me, I included it in the package <a href=\"https://github.com/daattali/shinyjs\" rel=\"nofollow\">shinyjs</a>, you can call the <code>logjs()</code> function in R and it will write output to the javascript console.</p>\n\n<p>Example:</p>\n\n<pre><code>shinyApp(\n    ui = fluidPage(\n        shinyjs::useShinyjs() # Set up shinyjs\n    ),\n    server = function(input, output) {\n        shinyjs::logjs(\"hello\")\n    }\n)\n</code></pre>\n"}], "owner": {"reputation": 6829, "user_id": 3935035, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/370b7aad76088f41a3bf9ee5020bc0e5?s=128&d=identicon&r=PG&f=1", "display_name": "Stophface", "link": "https://stackoverflow.com/users/3935035/stophface"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1958, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1473927927, "creation_date": 1473890364, "last_edit_date": 1473927927, "question_id": 39500299, "link": "https://stackoverflow.com/questions/39500299/why-is-console-log-not-a-function-in-shiny-for-r", "title": "Why is console.log not a function in Shiny for R?", "body": "<p>I include <code>JavaScript</code> in <code>Shinys ui.R</code> like this:</p>\n\n<pre><code>tags$body(tags$script(src=\"someJs.js\"))\n</code></pre>\n\n<p>Within my <code>someJs.js</code> I have a function</p>\n\n<pre><code>function someFunc1() {\n    ....;\n}\n\n... some more code ...\n\nconsole.log(variable1);\n</code></pre>\n\n<p>The <code>console.log</code> is <strong>outside</strong> of the function <code>soemFunc1()</code>. \nWhen I start the App and have a look at the console, I get</p>\n\n<blockquote>\n  <p>console.log() is not a function. </p>\n</blockquote>\n\n<p>Why is that?</p>\n\n<p>I also load <code>d3</code> in the head <code>tags$head(tags$script(src=\"d3.v3.min.js\"))</code>.\nWhen I try <code>d3.select...</code> in the console, I also get </p>\n\n<blockquote>\n  <p>d3 is not a function. </p>\n</blockquote>\n\n<p>However, I use <code>d3</code> in my app for styling. </p>\n\n<p>What is <code>Shiny</code> doing with the <code>js</code>. Is there an object where it attaches everything to?!</p>\n\n<p>Here a an example, easy to reproduce.</p>\n\n<p><code>ui.R</code> </p>\n\n<pre><code>library(shiny)\n\nshinyUI(fluidPage(\n    tags$head(tags$script(src=\"https://d3js.org/d3.v3.min.js\")),\n    tags$head(tags$script(src=\"test.js\")),\n            mainPanel(\n                    tags$div(id = \"test\", \"test test test\")\n            )\n    )\n</code></pre>\n\n<p>)</p>\n\n<p><code>server.R</code></p>\n\n<pre><code>library(shiny)\n\nshinyServer(function(input, output) {\n\n})\n</code></pre>\n\n<p>create a <code>www</code> folder in the same directory where <code>server.R</code> and <code>ui.R</code> are and save a <code>js</code> file with the name <code>test.js</code> with the following content:</p>\n\n<pre><code>console.log(\"This will cause error\")\n</code></pre>\n\n<p>Now, go ahead and open the console.\nIt says </p>\n\n<blockquote>\n  <p>console.log() is not a function</p>\n</blockquote>\n\n<p>Try type into the console of the browser <code>d3</code>. It says </p>\n\n<blockquote>\n  <p>d3 is not a function. </p>\n</blockquote>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5780883"}, "edited": false, "score": 0, "creation_date": 1473931796, "post_id": 39500883, "comment_id": 66331488, "body": "this is probably the closest to being the standard &#39;React&#39; way of doing it. Would you say my method is incorrect or an OK workaround?"}], "tags": [], "owner": {"reputation": 3297, "user_id": 3649789, "user_type": "registered", "profile_image": "https://graph.facebook.com/819339309/picture?type=large", "display_name": "Jan Franz Palngipang", "link": "https://stackoverflow.com/users/3649789/jan-franz-palngipang"}, "is_accepted": true, "score": 1, "last_activity_date": 1473894014, "creation_date": 1473894014, "answer_id": 39500883, "question_id": 39500297, "link": "https://stackoverflow.com/questions/39500297/proper-way-of-adding-removing-classes-in-react/39500883#39500883", "title": "proper way of adding/removing classes in React", "body": "<p>I suggest you use <code>ReactCSSTransitionGroup</code>. Instead of setting the <code>className</code>, you set the transition name like the following:</p>\n\n<pre><code>&lt;ReactCSSTransitionGroup \n    transitionName=\"example\" \n    transitionEnterTimeout={500} \n    transitionLeaveTimeout={300}\n&gt;\n    ... some code here ..\n&lt;/ReactCSSTransitionGroup&gt;\n</code></pre>\n\n<p>See <a href=\"https://facebook.github.io/react/docs/animation.html\" rel=\"nofollow\">this page</a> to learn more about Animations in React.</p>\n"}, {"tags": [], "owner": {"reputation": 125, "user_id": 6150432, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/HSDD8.jpg?s=128&g=1", "display_name": "helfi", "link": "https://stackoverflow.com/users/6150432/helfi"}, "is_accepted": false, "score": 2, "last_activity_date": 1473899263, "creation_date": 1473899263, "answer_id": 39501524, "question_id": 39500297, "link": "https://stackoverflow.com/questions/39500297/proper-way-of-adding-removing-classes-in-react/39501524#39501524", "title": "proper way of adding/removing classes in React", "body": "<p>this is what I usually do. I make a variable that holds the class names and put this variable inside my jsx. Something along the lines of:</p>\n\n<pre><code>magic: function() {\n  var myClass = this.state.cartClasses;\n\n  if (condition) {\n    this.setState({ cartClasses: 'class1' });\n  } else {\n    this.setState({ cartClasses: 'class2' });\n  }  \n\n  return (\n    &lt;div className={myClass}&gt;\n      hello world\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n\n<p>Hope this helps :)</p>\n"}, {"tags": [], "owner": {"reputation": 351, "user_id": 5654110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2NO88.jpg?s=128&g=1", "display_name": "Jhalaa Chinoy", "link": "https://stackoverflow.com/users/5654110/jhalaa-chinoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1473930322, "last_edit_date": 1473930322, "creation_date": 1473930016, "answer_id": 39506973, "question_id": 39500297, "link": "https://stackoverflow.com/questions/39500297/proper-way-of-adding-removing-classes-in-react/39506973#39506973", "title": "proper way of adding/removing classes in React", "body": "<p>There is a javascript utility called classnames which can be used to join multiple classnames.</p>\n\n<p>This is a <a href=\"https://github.com/JedWatson/classnames\" rel=\"nofollow\">link</a> to their github page\nThis gives more clarity and I have found it more intuitive to understand.\nFor example, your code could be written as</p>\n\n<pre><code>var cartClasses = classNames('order-wrap',{'cart-out':  newTotalClean!=0});\n</code></pre>\n\n<p>The above says that by default,there will be a class called order-wrap assigned and only if the condition is met,the other class is assigned.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5780883"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2671, "favorite_count": 0, "accepted_answer_id": 39500883, "answer_count": 3, "score": 1, "last_activity_date": 1473930322, "creation_date": 1473890357, "question_id": 39500297, "link": "https://stackoverflow.com/questions/39500297/proper-way-of-adding-removing-classes-in-react", "title": "proper way of adding/removing classes in React", "body": "<p>I'm a React newbie and have a question!</p>\n\n<p>Im posting this because I haven't been able to find a clear answer on what the best method is for adding/ removing classes to HTML in React. I have created my first React app and came to the point where I wanted to start animating some of the elements of my app by adding/ removing classes when a certain action happens. </p>\n\n<p>Here is what I have done:</p>\n\n<p>I have passed the elements class that I want to animate through a state. The state is given an initial value like so:</p>\n\n<pre><code>getInitialState: function() {\n    return {\n       cartClasses:\"order-wrap\"\n       }\n}\n</code></pre>\n\n<p>Then I have passes down the state to a child component which receives the state and implements the cart classes like so:</p>\n\n<pre><code>&lt;div className={this.props.cartClasses}&gt;\n</code></pre>\n\n<p>In one of my functions I have the following if statement:</p>\n\n<pre><code> newTotalClean != 0 ? this.setState({cartClasses:\"order-wrap cart-out\"}) : this.setState({cartClasses:\"order-wrap\"});\n</code></pre>\n\n<p>Basically it evaluates one of my variables called newTotalClean and if it doesn't equal 0 it updates the state of cartClasses to \"order-wrap cart-out\" thus adding an extra class that contains CSS animation effects.</p>\n\n<p>Usually I would use jQuery Add/removeClass() but i'm trying to restrict myself from using that and do it in a more React way, not sure if storing classes in a state is the best method or not?</p>\n\n<p>Thanks for your help!</p>\n"}, {"tags": ["javascript", "object", "properties", "attributes", "lodash"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1473890081, "post_id": 39500186, "comment_id": 66317974, "body": "So why not just do it with JavaScript? <code>if (obj[&quot;DT_FIM&quot;]===null)</code>"}, {"owner": {"reputation": 1462, "user_id": 1883099, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh6.googleusercontent.com/-anlBXVUDwAY/AAAAAAAAAAI/AAAAAAAABwQ/VXGO_rM9jUY/photo.jpg?sz=128", "display_name": "Leonel Matias Domingos", "link": "https://stackoverflow.com/users/1883099/leonel-matias-domingos"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1473890317, "post_id": 39500186, "comment_id": 66318052, "body": "yes, it&#39;s ok, but why i get undefined. Thanks"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473890721, "post_id": 39500186, "comment_id": 66318187, "body": "You get <code>undefined</code> because <code>_.find</code> expects a predicate function as a second parameter, not a key-value pair to search for. Moreover, if used on an object, it will search through <i>the values</i>."}, {"owner": {"reputation": 1462, "user_id": 1883099, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh6.googleusercontent.com/-anlBXVUDwAY/AAAAAAAAAAI/AAAAAAAABwQ/VXGO_rM9jUY/photo.jpg?sz=128", "display_name": "Leonel Matias Domingos", "link": "https://stackoverflow.com/users/1883099/leonel-matias-domingos"}, "edited": false, "score": 0, "creation_date": 1473890977, "post_id": 39500186, "comment_id": 66318258, "body": "nope . that is not true"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473891057, "post_id": 39500186, "comment_id": 66318293, "body": "What, the fact that <code>_.find</code> expects a predicate? Because <a href=\"https://lodash.com/docs/4.15.0#find\" rel=\"nofollow noreferrer\">the documentation</a> seems to be in agreement with my statement."}, {"owner": {"reputation": 2831, "user_id": 453486, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/44d59c6c5a7e3435409ebe94c9aa9db5?s=128&d=identicon&r=PG", "display_name": "Srikanth Jeeva", "link": "https://stackoverflow.com/users/453486/srikanth-jeeva"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1473920137, "post_id": 39500186, "comment_id": 66325468, "body": "_.find is for collection. As @epascarello pointed out, you dont have to use lodash for checking null. Just <code>obj[&quot;DT_FIM&quot;]===null</code> should suffice."}, {"owner": {"reputation": 18798, "user_id": 4543207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed6f11c827fa7cef811f141a84cc14b?s=128&d=identicon&r=PG&f=1", "display_name": "Redu", "link": "https://stackoverflow.com/users/4543207/redu"}, "edited": false, "score": 0, "creation_date": 1473926996, "post_id": 39500186, "comment_id": 66328667, "body": "<code>Object.keys(obj).some(k =&gt; obj[k] === null);</code>"}, {"owner": {"reputation": 1462, "user_id": 1883099, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh6.googleusercontent.com/-anlBXVUDwAY/AAAAAAAAAAI/AAAAAAAABwQ/VXGO_rM9jUY/photo.jpg?sz=128", "display_name": "Leonel Matias Domingos", "link": "https://stackoverflow.com/users/1883099/leonel-matias-domingos"}, "edited": false, "score": 0, "creation_date": 1473946258, "post_id": 39500186, "comment_id": 66340605, "body": "Sorry .. Indeed find is for collections..."}], "answers": [{"tags": [], "owner": {"reputation": 6138, "user_id": 1988157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1AwXT.jpg?s=128&g=1", "display_name": "stasovlas", "link": "https://stackoverflow.com/users/1988157/stasovlas"}, "is_accepted": true, "score": 2, "last_activity_date": 1474229747, "last_edit_date": 1474229747, "creation_date": 1474228976, "answer_id": 39562132, "question_id": 39500186, "link": "https://stackoverflow.com/questions/39500186/find-null-attribute-with-lodash/39562132#39562132", "title": "Find null attribute with lodash", "body": "<p>For hole object contains null attr </p>\n\n<pre><code>_.chain(obj).values().includes(null).value();\n</code></pre>\n\n<p>For certain attr</p>\n\n<pre><code>_.isNull(obj['DT_FIM']);\n</code></pre>\n\n<p>Your varian </p>\n\n<pre><code>_.find(obj,{'DT_FIM':null})\n</code></pre>\n\n<p>will work for nested object like</p>\n\n<pre><code>var obj={\n    ...\n    \"DT_FIM\": {\"DT_FIM\":null},\n    ...\n};\n</code></pre>\n\n<p>For all null attrs </p>\n\n<pre><code>_.reduce(obj, function(res, val, key) {\n    if (_.isNull(val)) {\n        res.push(key);\n    };    \n    return res;\n}, [])\n</code></pre>\n\n<p>For first null attr</p>\n\n<pre><code>_.findKey(obj, _.isNull)\n</code></pre>\n"}], "owner": {"reputation": 1462, "user_id": 1883099, "user_type": "registered", "accept_rate": 29, "profile_image": "https://lh6.googleusercontent.com/-anlBXVUDwAY/AAAAAAAAAAI/AAAAAAAABwQ/VXGO_rM9jUY/photo.jpg?sz=128", "display_name": "Leonel Matias Domingos", "link": "https://stackoverflow.com/users/1883099/leonel-matias-domingos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1199, "favorite_count": 0, "accepted_answer_id": 39562132, "answer_count": 1, "score": 0, "last_activity_date": 1575724027, "creation_date": 1473889818, "last_edit_date": 1575724027, "question_id": 39500186, "link": "https://stackoverflow.com/questions/39500186/find-null-attribute-with-lodash", "title": "Find null attribute with lodash", "body": "<p>I have an object and I need to to check if an attribute is null, but always get undefined.</p>\n\n<pre><code> var obj={\n  \"EMPRESA\": \"CMIP\",\n  \"CD_DIRECAO\": \"01\",\n  \"DT_INI_DIRECAO\": \"1900-01-01\",\n  \"CD_DEPT\": \"10\",\n  \"DT_INI_DEPT\": \"1900-01-01\",\n  \"CD_PROC\": \"1\",\n  \"DT_INI_PROC\": \"1900-01-01\",\n  \"DSP_PROC\": \"Processo 1\",\n  \"DSR_PROC\": \"Processo 1\",\n  \"DESCRICAO\": null,\n  \"ID_PROCESSO_ARTIGO\": null,\n  \"VALIDACAO_ARTIGO\": null,\n  \"DT_FIM\": null,\n  \"DT_RowId\": \"row_CMIP011900-01-01101900-01-0111900-01-01\",\n  \"DESIGEMPRESA\": \"CMIP\",\n  \"DSP_DIRECAO\": \"Disponivel\",\n  \"DSP_DEPT\": \"ADM - Administracao\"\n};\nconsole.log(_.find(obj,{'DT_FIM':null}));\n</code></pre>\n\n<p>I've setup a fiddle <a href=\"https://jsfiddle.net/0a6yf34b/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/0a6yf34b/1/</a></p>\n"}, {"tags": ["javascript", "exception-handling"], "comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1473889916, "post_id": 39500167, "comment_id": 66317916, "body": "Yes, that&#39;s how exceptions work in JS (and Python). Throwing drops out of the execution of the code until the nearest <code>catch</code> handler."}, {"owner": {"reputation": 11354, "user_id": 1549541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed8b6f7fe07ba163a4da48c615542d71?s=128&d=identicon&r=PG", "display_name": "MinusFour", "link": "https://stackoverflow.com/users/1549541/minusfour"}, "edited": false, "score": 0, "creation_date": 1473891020, "post_id": 39500167, "comment_id": 66318275, "body": "You also need to consider the nature of your code (async or sync). For example throwing an error after a HTTP request won&#39;t stop the request nor any associated callback."}, {"owner": {"reputation": 1988, "user_id": 1953537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/33572e26daf9332df748776cdb2e2065?s=128&d=identicon&r=PG", "display_name": "Melab", "link": "https://stackoverflow.com/users/1953537/melab"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1474217857, "post_id": 39500167, "comment_id": 66431109, "body": "@Bergi I did not expect that. I thought the <code>catch</code> can just be used to report the error and then quit. I&#39;m using it in my function and I still get an object returned."}, {"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1474222850, "post_id": 39500167, "comment_id": 66432833, "body": "@Melab <code>catch</code> can be used to do anything, including quitting, but usually it just reports the error. Then the execution flow continues after the <code>try</code>/<code>catch</code> block."}], "answers": [{"comments": [{"owner": {"reputation": 1988, "user_id": 1953537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/33572e26daf9332df748776cdb2e2065?s=128&d=identicon&r=PG", "display_name": "Melab", "link": "https://stackoverflow.com/users/1953537/melab"}, "edited": false, "score": 0, "creation_date": 1474217767, "post_id": 39501148, "comment_id": 66431071, "body": "Will this prevent an object from being returned by the function that uses it?"}, {"owner": {"reputation": 1988, "user_id": 1953537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/33572e26daf9332df748776cdb2e2065?s=128&d=identicon&r=PG", "display_name": "Melab", "link": "https://stackoverflow.com/users/1953537/melab"}, "edited": false, "score": 0, "creation_date": 1474218515, "post_id": 39501148, "comment_id": 66431324, "body": "Then how is a function that calls a function that generates an error supposed to stop? In Python, if I write a function that passes the wrong type to a particular function, then all execution will stop."}], "tags": [], "owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "is_accepted": false, "score": 2, "last_activity_date": 1474261103, "last_edit_date": 1474261103, "creation_date": 1473896024, "answer_id": 39501148, "question_id": 39500167, "link": "https://stackoverflow.com/questions/39500167/stopping-execution-in-javascript/39501148#39501148", "title": "Stopping execution in JavaScript", "body": "<blockquote>\n  <p>Calling the function when the page is the wrong URL should log a message to the console and halt the script's execution. How do I do that? </p>\n</blockquote>\n\n<p>If the URL is unacceptable throw an <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Error\" rel=\"nofollow\">error</a> with a description of the problem. e.g.</p>\n\n<pre><code>throw new Error(\"operation x not supported at this page location\");\n</code></pre>\n\n<p>This results in the message being logged to the console.  Ensure the <strong>absence</strong> of a controlling <a href=\"https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/try...catch\" rel=\"nofollow\">try...catch</a> statement around the <code>throw</code> statement or, or around any function calls leading to it, to halt execution when an error is thrown.</p>\n\n<p>As mentioned in comment, throwing an exception will not cancel call backs yet to be made from asynchronous operations which have been initiated but not completed.</p>\n\n<p>If a <code>try...catch</code> statement is in effect when an error is thrown, execution resumes with the controlling catch statement without further execution of (other) code following the <code>throw</code> statement, and without resumption of intermediary function calls.</p>\n\n<p><hr>\n<em>EDIT In response to comment:</em></p>\n\n<p>A function that executes a <code>throw</code> statement without catching it inside the function does not return. That is to say it does not return a value and resume execution immediately after the call made to it in calling code.</p>\n\n<p>If a user written try block surrounds a direct or indirect call to the function throwing the error, the call stack is restored to that in effect when the try block was executed. Any stack frames created for function calls within the try block are popped off the call stack and discarded without further execution of called functions. Execution resumes with the catch block associated with the try block, passing the error thrown as the catch parameter, or in the finally block if no catch block was provided.\nThe system does not automatically log errors thrown inside a try block to the console.</p>\n\n<p>If no user written try block is found, all call stack frames are popped, the thread dies and the error thrown is logged to the console. Hence throwing an error outside a try block stops execution without calling an exit function.</p>\n\n<p>The equivalent of <code>try...cacth</code> in Python seems to be <a href=\"https://wiki.python.org/moin/HandlingExceptions\" rel=\"nofollow\"><code>try...except</code></a> with a <code>raise</code> statement used for <code>throw</code> with slightly different syntax. </p>\n"}], "owner": {"reputation": 1988, "user_id": 1953537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/33572e26daf9332df748776cdb2e2065?s=128&d=identicon&r=PG", "display_name": "Melab", "link": "https://stackoverflow.com/users/1953537/melab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2207, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474261103, "creation_date": 1473889751, "last_edit_date": 1473889946, "question_id": 39500167, "link": "https://stackoverflow.com/questions/39500167/stopping-execution-in-javascript", "title": "Stopping execution in JavaScript", "body": "<p>In Python, if I run into an error (e.g., function argument is wrong data type, can't operate on data because it is formatted wrong, etc.), I print an error to the terminal and run <code>sys.exit()</code> to kill it. I haven't gotten around to learning about error handling, exception handling, or whatever it is, so that is why I use that method. JavaScript error/exception/whatever handling looks simple, but will raising or throwing halt the code's execution? If it doesn't, then how would I do so?</p>\n\n<p>Say I only want a function (and, by extension, the whole set of code) to work if the page I am on matches a specific URL. Calling the function when the page is the wrong URL should log a message to the console and halt the script's execution. How do I do that? Just have the test in the <code>try</code> block? Do I need to employ some special syntax used for handling errors/exceptions?</p>\n"}, {"tags": ["javascript", "jquery", "ajax"], "comments": [{"owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "edited": false, "score": 1, "creation_date": 1473890318, "post_id": 39500154, "comment_id": 66318054, "body": "Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, my head is spinning, too many things happening o_o"}, {"owner": {"reputation": 1027, "user_id": 372118, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/457a100a8c61d5f5a33fe3ec0ccfa727?s=128&d=identicon&r=PG", "display_name": "richb01", "link": "https://stackoverflow.com/users/372118/richb01"}, "edited": false, "score": 0, "creation_date": 1473890407, "post_id": 39500154, "comment_id": 66318095, "body": "&quot;Head spinning&quot; was <i>exactly</i> the term I was going to use too!"}, {"owner": {"reputation": 236, "user_id": 5524478, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RkxnE.jpg?s=128&g=1", "display_name": "ConorReidd", "link": "https://stackoverflow.com/users/5524478/conorreidd"}, "edited": false, "score": 0, "creation_date": 1473890483, "post_id": 39500154, "comment_id": 66318118, "body": "I&#39;ve just added a few words, everything before the example is what my problem is, the rest is just extra and edit isn&#39;t needed, just what i&#39;m trying to accomplish if that helps anybody"}, {"owner": {"reputation": 1419, "user_id": 2413733, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Eozj8.png?s=128&g=1", "display_name": "Sam0", "link": "https://stackoverflow.com/users/2413733/sam0"}, "edited": false, "score": 0, "creation_date": 1473952042, "post_id": 39500154, "comment_id": 66344835, "body": "here&#39;s a fiddle: <a href=\"https://jsfiddle.net/manoeuvres/t7myt5yk/2/\" rel=\"nofollow noreferrer\">jsfiddle.net/manoeuvres/t7myt5yk/2</a> i found that it works, but only once, because once the tag is removed from &#39;hidden-tags&#39; it brakes the sequence. so I&#39;ve added <code>.clone()</code> to copy it and enable the sketch to continue. Not actually sure if it helps?"}], "owner": {"reputation": 236, "user_id": 5524478, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/RkxnE.jpg?s=128&g=1", "display_name": "ConorReidd", "link": "https://stackoverflow.com/users/5524478/conorreidd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 44, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473891210, "creation_date": 1473889701, "last_edit_date": 1473891210, "question_id": 39500154, "link": "https://stackoverflow.com/questions/39500154/jquery-trying-to-dynamically-add-new-elements-created-out-of-dom", "title": "jQuery - Trying to dynamically add new elements created out of DOM", "body": "<p>Hopefully, I've titled this right I still get confused with my terminology. I'm trying to dynamically add new elements which I used an AJAX request to get and I placed into a div called <code>&lt;div class=\"hidden-tags\"&gt;&lt;/div&gt;</code>.</p>\n\n<p>Whenever a button is clicked, it triggers this function</p>\n\n<pre><code>$(\".tags\").on(\"click\", '.tag i', function() {\n    var lastTag = $(\".tags &gt; span\").last().text();\n    $(\".tags\").append($(\".tagname-\"+lastTag).parent().next());\n});\n</code></pre>\n\n<p>So it should be appending the <code>.tagname-VARIABLE</code> parent's next parent to the <code>.tags</code>element but instead nothing happens and there is no element added, nor an error in the console</p>\n\n<p>when i do some testing i found that everything up to the <code>$(\".tags\").append($(\".tagname-\"+lastTag).parent().next());</code> worked fine, some reason the .parent().next() didnt work; still unsure why</p>\n\n<p><strong>Example:</strong><br/>\nOn one of the tests, I did the <code>lastTag</code> variable was defined as <code>portal</code> so therefore the function is <code>$(\".tags\").append($(\".tagname-portal\").parent().next());</code></p>\n\n<p>so it should append the <code>&lt;span class=\"tag\"&gt;guide&lt;i class=\"fa fa-times tagname-guide\"&gt;&lt;/i&gt;&lt;/span&gt;</code> to the <code>.tags</code> element but instead doesn't do that and leaves me with no error in the console</p>\n\n<p>Here are the tag layouts in case this helps (just examples)</p>\n\n<pre><code>&lt;div class=\"tags\"&gt;\n    &lt;span class=\"tag\"&gt;games&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/span&gt;\n    &lt;span class=\"tag\"&gt;guides&lt;i class=\"fa fa-times\"&gt;&lt;/i&gt;&lt;/span&gt;\n&lt;/div&gt;\n\n&lt;div class=\"hidden-tags\"&gt;\n    &lt;span class=\"tag\"&gt;games&lt;i class=\"fa fa-times tagname-games\"&gt;&lt;/i&gt;&lt;/span&gt;\n    &lt;span class=\"tag\"&gt;guides&lt;i class=\"fa fa-times tagname-guides\"&gt;&lt;/i&gt;&lt;/span&gt;\n    &lt;span class=\"tag\"&gt;video&lt;i class=\"fa fa-times tagname-video\"&gt;&lt;/i&gt;&lt;/span&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p><strong>To clarify, what i'm trying to do:</strong><br/>\nI've used AJAX to get a response in JSON and used <code>$.each($.parseJSON(response), function(k, v) {</code> to split the keys and values, i've then used a function which cuts the array off after a certain total character count, i then want to be able to find the next key/value after that 'cut off point' with jquery/js, and then the next key/value etc etc</p>\n\n<pre><code>if (tagchars &lt; 415) {\n    $(\".tags\").append(\"&lt;span class='tag'&gt;\"+k+\"&lt;i class='fa fa-times'&gt;&lt;/i&gt;&lt;/span&gt;\");\n    $(\"table\").append(\"&lt;tr&gt;&lt;td&gt;\"+k+\"&lt;/td&gt;&lt;td&gt;\"+(v*2)+\"%&lt;/td&gt;&lt;/tr&gt;\");\n}\n</code></pre>\n\n<p>the json looks something like <code>{\"tagname\":\"value\", \"tagname\":\"value\"},</code></p>\n"}, {"tags": ["javascript", "jquery", "ajax"], "comments": [{"owner": {"reputation": 24214, "user_id": 124257, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Y1Udo.jpg?s=128&g=1", "display_name": "fresskoma", "link": "https://stackoverflow.com/users/124257/fresskoma"}, "edited": false, "score": 1, "creation_date": 1473889964, "post_id": 39500150, "comment_id": 66317929, "body": "Hi Bradley, and welcome to SO. In its current state I would downvote your question, because you&#39;re simply dumping a large amount of code and ask us to solve your problem. While you can obviously do this and possibly even get the answer you want, SO is not a &quot;free code review and bugfixing site&quot;. Please try to isolate your problem, i.e. in which specific part of the code do you think it occurs, what have you tried to isolate and fix the problem, etc. This will a) help others help you faster and b) not put the burden of understanding all your code on the rest of us, which is simply good manners"}, {"owner": {"reputation": 1, "user_id": 6832421, "user_type": "registered", "profile_image": "https://graph.facebook.com/10103645162372448/picture?type=large", "display_name": "Bradley Jakubowski", "link": "https://stackoverflow.com/users/6832421/bradley-jakubowski"}, "reply_to_user": {"reputation": 24214, "user_id": 124257, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/Y1Udo.jpg?s=128&g=1", "display_name": "fresskoma", "link": "https://stackoverflow.com/users/124257/fresskoma"}, "edited": false, "score": 0, "creation_date": 1473890675, "post_id": 39500150, "comment_id": 66318176, "body": "Thanks for your input fresskoma, I&#39;ll try to be more concise in the future as  I could have narrowed it down to just the saveRecipe function and the $(document).ajaxComplete(function(){}); portion."}], "answers": [{"tags": [], "owner": {"reputation": 871364, "user_id": 157247, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/4HovX.jpg?s=128&g=1", "display_name": "T.J. Crowder", "link": "https://stackoverflow.com/users/157247/t-j-crowder"}, "is_accepted": false, "score": 0, "last_activity_date": 1473889943, "creation_date": 1473889943, "answer_id": 39500215, "question_id": 39500150, "link": "https://stackoverflow.com/questions/39500150/functions-being-exponentially-repeated-in-my-js-file/39500215#39500215", "title": "Functions being exponentially repeated in my js file", "body": "<p>This line:</p>\n\n<pre><code>$('.details').click(get_data_for_popover_and_display);\n</code></pre>\n\n<p>hooks up a <strong>new</strong> event handler on all <code>.detail</code> elements that will call <code>get_data_for_popover_and_display</code>, <strong>even if</strong> that element already has an event handler calling <code>get_data_for_popover_and_display</code>. Same with:</p>\n\n<pre><code>$('.save-favorite').on('click', saveRecipe );\n</code></pre>\n\n<p>So since <code>get_data_for_popover_and_display</code> (at least) does another ajax call, which will add another handler, you'll get increasing numbers of handlers over time.</p>\n\n<p>It's exactly like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function clickHandler() {\r\n  console.log(+new Date(), \"Clicked\");\r\n  clickComplete();\r\n}\r\nfunction clickComplete() {\r\n  $(\"#btn\").on(\"click\", clickHandler);\r\n}\r\nclickComplete();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"button\" id=\"btn\" value=\"Click Me\"&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So: Only add a handler if you haven't already done so. Perhaps keep track in jQuery's <code>data</code> store:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function clickHandler() {\r\n  console.log(+new Date(), \"Clicked\");\r\n  clickComplete();\r\n}\r\nfunction clickComplete() {\r\n  $(\"#btn\").filter(function() {\r\n    return !$(this).data(\"hasClick\");\r\n  })\r\n  .on(\"click\", clickHandler)\r\n  .data(\"hasClick\", true);\r\n}\r\nclickComplete();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"button\" id=\"btn\" value=\"Click Me\"&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 6832421, "user_type": "registered", "profile_image": "https://graph.facebook.com/10103645162372448/picture?type=large", "display_name": "Bradley Jakubowski", "link": "https://stackoverflow.com/users/6832421/bradley-jakubowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1473890016, "creation_date": 1473889691, "last_edit_date": 1473890016, "question_id": 39500150, "link": "https://stackoverflow.com/questions/39500150/functions-being-exponentially-repeated-in-my-js-file", "title": "Functions being exponentially repeated in my js file", "body": "<p>I'm running a site using Node, Express and MongoDB.  I generate containers after an ajax call to get the data to fill them with, and each of the containers has a button which makes another ajax call specific to a recipe it's getting detailed information on. The first Time I do this it works perfectly, but if i get details for a 2nd one it executes the function 3 times instead of one, and if I do it for a 3rd container it runs it 9 times and so on.  I'm fairly new with Jquery and perhaps It's a misunderstanding of how the events work. the problems also occurs with the saveRecipe function.</p>\n\n<p>global.js</p>\n\n<pre><code>$(document).ajaxComplete(function(){\n  $('.details').popover({\"trigger\": \"manual\", \"html\":\"true\"});\n  $('.details').click(get_data_for_popover_and_display);\n  $('.save-favorite').on('click', saveRecipe );\n});\n\n(function ($) {\n    $('#search').on('click', function (e) {\n      // remove resultset if this has already been run\n      $('.recipes').empty();\n\n      var recipeName = document.getElementById('recipeName').value;\n      var recipeNameString = '&amp;q=' + recipeName;\n\n      var ingredientHtml = '&amp;allowedIngredient[]=';\n      var ingredientsArray = document.getElementById('ingredients').value.split(\",\");\n      var ingredientsString = '';\n      if (ingredientsArray[0] !== \"\"){\n        for (i = 0; i &lt; ingredientsArray.length; i++){\n          ingredientsArray[i] = ingredientHtml + ingredientsArray[i].trim();\n        }\n        for (i = 0; i &lt; ingredientsArray.length; i++){\n          ingredientsString += ingredientsArray[i];\n        }\n      }\n\n      var excludedIngredientHtml = '&amp;excludedIngredient[]=';\n      var excludedIngredientsArray = document.getElementById('ingredientsExclude').value.split(\",\");\n      var excludedIngredientsString = '';\n      if (excludedIngredientsArray[0] !== \"\"){\n        for (i = 0; i &lt; excludedIngredientsArray.length; i++){\n          excludedIngredientsArray[i] = excludedIngredientHtml + excludedIngredientsArray[i].trim();\n        }\n        for (i = 0; i &lt; excludedIngredientsArray.length; i++){\n          excludedIngredientsString += excludedIngredientsArray[i];\n        }\n      }\n\n      var dietHtml = '';\n      if(document.getElementById('lacto-veg').checked){\n        dietHtml += '&amp;allowedDiet[]=388^Lacto vegetarian';\n      }\n      if(document.getElementById('ovo-veg').checked){\n        dietHtml += '&amp;allowedDiet[]=389^Ovo vegetarian';\n      }\n      if(document.getElementById('paleo').checked){\n        dietHtml += '&amp;allowedDiet[]=403^Paleo';\n      }\n      if(document.getElementById('pescetarian').checked){\n        dietHtml += '&amp;allowedDiet[]=390^Pescetarian';\n      }\n      if(document.getElementById('vegan').checked){\n        dietHtml += '&amp;allowedDiet[]=386^vegan';\n      }\n      if(document.getElementById('vegetarian').checked){\n        dietHtml += '&amp;allowedDiet[]=387^Lacto-ovo vegetarian';\n      }\n\n      var allergyHtml = '';\n      if(document.getElementById('dairy-free').checked){\n        allergyHtml += '&amp;allowedAllergy[]=396^Dairy-Free';\n      }\n      if(document.getElementById('egg-free').checked){\n        allergyHtml += '&amp;allowedAllergy[]=397^Egg-Free';\n      }\n      if(document.getElementById('gluten-free').checked){\n        allergyHtml += '&amp;allowedAllergy[]=393^gluten-Free';\n      }\n      if(document.getElementById('peanut-free').checked){\n        allergyHtml += '&amp;allowedAllergy[]=394^Peanut-Free';\n      }\n      if(document.getElementById('seafood-free').checked){\n        allergyHtml += '&amp;allowedAllergy[]=398^Seafood-Free';\n      }\n      if(document.getElementById('seseme-free').checked){\n        allergyHtml += '&amp;allowedAllergy[]=399^Seseme-Free';\n      }\n      if(document.getElementById('sulfite-free').checked){\n        allergyHtml += '&amp;allowedAllergy[]=401^Sulfite-Free';\n      }\n      if(document.getElementById('tree-nut-free').checked){\n        allergyHtml += '&amp;allowedAllergy[]=395^Tree Nut-Free';\n      }\n      if(document.getElementById('wheat-free').checked){\n        allergyHtml += '&amp;allowedAllergy[]=392^Wheat-Free';\n      }\n\n      var apiHtml = 'http://api.yummly.com/v1/api/recipes?_app_id=&amp;_app_key=' +recipeNameString;\n      if (ingredientsString){\n        apiHtml += ingredientsString;\n      }\n      if (excludedIngredientsString){\n        apiHtml += excludedIngredientsString;\n      }\n      if (dietHtml){\n        apiHtml += dietHtml;\n      }\n      if (allergyHtml){\n        apiHtml += allergyHtml;\n      }\n      apiHtml += '&amp;requirePictures=true';\n      apiHtml = apiHtml.replace(' ', '%20');\n\n      $.getJSON(apiHtml, function (json) {\n        var recipes = [],\n            $recipes;\n\n        $.each(json, function (key, val) {\n          if (key === \"matches\"){\n            for (i = 0; i &lt; val.length ; i++) {\n              if (i%3 === 0){\n                recipes.push('&lt;div class=\"row\"&gt;');\n              }\n              recipes.push('&lt;div class=\"col-sm-6 col-md-4\"&gt;');\n              recipes.push('&lt;div class=\"thumbnail\"&gt;' + '&lt;img src=\"'+ val[i].imageUrlsBySize[90] + '\" alt=\"' + val[i].recipeName + '\" data-holder-rendered=\"true\" style=\"height: 300px; width: 100%; display: block;\"/&gt;');\n              recipes.push('&lt;div class=\"caption\"&gt;' + '&lt;h3 class=\"caption-text\"&gt;' + val[i].recipeName + '&lt;/h3&gt;');\n              recipes.push('&lt;p class=\"caption-text\"&gt;' + val[i].sourceDisplayName + '&lt;/p&gt;');\n              recipes.push('&lt;p&gt;&lt;button type=\"button\" class=\"btn btn-primary details\" data-toggle=\"popover\" title=\"' + val[i].recipeName + '\" value=\"' + val[i].id + '\"&gt; Details &lt;/button&gt; ');\n              recipes.push('&lt;button type=\"button\" class=\"btn btn-primary save-favorite\" method=\"post\" action=\"saveFavorite\" value=\"' + val[i].id + '\"&gt; Favorite &lt;/button&gt;&lt;/p&gt;');\n              recipes.push('&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;');\n              if ((i+1)%3 === 0){\n                recipes.push('&lt;/div&gt;');\n              }\n            }\n          }\n        });\n      if (recipes.length &lt; 1) {\n      recipes.push('&lt;p&gt;No results for parameters, try again!&lt;/p&gt;');\n      }\n      $recipes = $('&lt;div /&gt;').appendTo('.recipes');\n      $recipes.append(recipes.join(''));\n    });\n    e.preventDefault();\n  });\n}(jQuery));\n\n\nget_data_for_popover_and_display = function() {\n  var el = $(this);\n  if(el.hasClass('recipe-loaded')){\n  }\n  else {\n    var _data = $(this).attr('alt');\n    var recipeUrl = 'http://api.yummly.com/v1/api/recipe/' + this.value + '?_app_id=&amp;_app_key=';\n    var recipeHtml = '';\n    var ingredientsHtml = '';\n    var nutritionHtml = '';\n    var ratingHtml = '';\n    var servingsHtml = '';\n    var sourceHtml = '';\n\n    $.getJSON(recipeUrl, function (json) {\n         $.each(json, function (key, val) {\n           if (key === \"ingredientLines\"){\n             ingredientsHtml = '&lt;h4&gt;Ingredients:&lt;/h4&gt;&lt;ul&gt;';\n             for (i = 0; i &lt; val.length ; i++){\n               ingredientsHtml += ('&lt;li&gt;' + val[i] + '&lt;/li&gt;');\n             }\n             ingredientsHtml += '&lt;/ul&gt;';\n           }\n           if (key === \"nutritionEstimates\"){\n             if(val.length &gt; 0){\n             nutritionHtml = 'Cal. per Serving: ' + val[0].value + '&lt;br&gt;';\n             }\n           }\n           if (key === \"rating\"){\n             ratingHtml += 'Rating: ' + val + '&lt;/p&gt;';\n           }\n           if (key === \"numberOfServings\"){\n             servingsHtml += '&lt;p&gt;Servings: ' + val + '&lt;br&gt;';\n           }\n           if (key === \"source\"){\n             sourceHtml += '&lt;p&gt;&lt;a type=\"button\" class=\"btn btn-primary details\" href=\"'+ val.sourceRecipeUrl +'\" &gt;Source&lt;/a&gt;';\n           }\n         })\n       recipeHtml += ingredientsHtml;\n       recipeHtml += servingsHtml;\n       recipeHtml += nutritionHtml;\n       recipeHtml += ratingHtml;\n       recipeHtml += sourceHtml;\n       el.attr('data-content', recipeHtml).success(el.popover('toggle'));\n       el.addClass('recipe-loaded');\n     });\n  }\n};\n\nfunction saveRecipe(){\n  var recipeUrl = 'http://api.yummly.com/v1/api/recipe/' + this.value + '?_app_id=3e5b7dbe&amp;_app_key=1d681685a57dac07e6df0b1c0df38de6';\n  var json = $.getJSON(recipeUrl, function (data){\n  console.log(JSON.stringify(data));\n   $.ajax({\n       type: 'POST',\n       data: data,\n       url: '/saverecipe',\n       dataType: 'JSON'\n   });\n });\n};\n</code></pre>\n"}, {"tags": ["javascript", "casperjs"], "comments": [{"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1473890066, "post_id": 39500122, "comment_id": 66317969, "body": "Have you taken a screenshot to make sure that you&#39;re on the second page?"}, {"owner": {"reputation": 2194, "user_id": 1125535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ed217c239057784bd54297faa8b180?s=128&d=identicon&r=PG", "display_name": "deltab", "link": "https://stackoverflow.com/users/1125535/deltab"}, "edited": false, "score": 0, "creation_date": 1473890196, "post_id": 39500122, "comment_id": 66318016, "body": "It appears both sets of links are the same, but are they from the first page or the second?"}, {"owner": {"reputation": 1, "user_id": 4435090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RcIGv.jpg?s=128&g=1", "display_name": "Votlon", "link": "https://stackoverflow.com/users/4435090/votlon"}, "reply_to_user": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1473890219, "post_id": 39500122, "comment_id": 66318026, "body": "@ArtjomB. I have not, but that is a good test, will try. The class &quot;.pagingPreviousButton&quot; is only on the second page so i was pretty sure about it, but will still try :)"}, {"owner": {"reputation": 1, "user_id": 4435090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RcIGv.jpg?s=128&g=1", "display_name": "Votlon", "link": "https://stackoverflow.com/users/4435090/votlon"}, "reply_to_user": {"reputation": 2194, "user_id": 1125535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ed217c239057784bd54297faa8b180?s=128&d=identicon&r=PG", "display_name": "deltab", "link": "https://stackoverflow.com/users/1125535/deltab"}, "edited": false, "score": 0, "creation_date": 1473890247, "post_id": 39500122, "comment_id": 66318032, "body": "@deltab yes! thats my problem xD! From the code logic they are pulled from the first and second page but the output says differently"}, {"owner": {"reputation": 2194, "user_id": 1125535, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12ed217c239057784bd54297faa8b180?s=128&d=identicon&r=PG", "display_name": "deltab", "link": "https://stackoverflow.com/users/1125535/deltab"}, "edited": false, "score": 0, "creation_date": 1473890536, "post_id": 39500122, "comment_id": 66318132, "body": "No, I mean looking at the page yourself."}, {"owner": {"reputation": 2624, "user_id": 989920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/01e16ed8a3bc3246278001359f7a0257?s=128&d=identicon&r=PG", "display_name": "evolutionxbox", "link": "https://stackoverflow.com/users/989920/evolutionxbox"}, "edited": false, "score": 0, "creation_date": 1473896428, "post_id": 39500122, "comment_id": 66319761, "body": "@Votlon take note, Java-script is not JavaScript (it&#39;s one word) :)"}, {"owner": {"reputation": 1, "user_id": 4435090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RcIGv.jpg?s=128&g=1", "display_name": "Votlon", "link": "https://stackoverflow.com/users/4435090/votlon"}, "reply_to_user": {"reputation": 2624, "user_id": 989920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/01e16ed8a3bc3246278001359f7a0257?s=128&d=identicon&r=PG", "display_name": "evolutionxbox", "link": "https://stackoverflow.com/users/989920/evolutionxbox"}, "edited": false, "score": 0, "creation_date": 1473900206, "post_id": 39500122, "comment_id": 66320643, "body": "@evolutionxbox changed :) ty for the correction"}], "answers": [{"comments": [{"owner": {"reputation": 58084, "user_id": 1816580, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f30e6b41f1e2bd48b058e8e72c1f0f57?s=128&d=identicon&r=PG", "display_name": "Artjom B.", "link": "https://stackoverflow.com/users/1816580/artjom-b"}, "edited": false, "score": 0, "creation_date": 1473892392, "post_id": 39500607, "comment_id": 66318651, "body": "You don&#39;t have to wait 40 seconds. That&#39;s way too long. There is a modal dialog shown for a short time between the asynchronous page loads. Use first <code>casper.waitUntilVisible(theUpdateModal)</code> and then <code>casper.waitWhileVisible(theUpdateModal)</code> to match this traversal."}], "tags": [], "owner": {"reputation": 1, "user_id": 4435090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RcIGv.jpg?s=128&g=1", "display_name": "Votlon", "link": "https://stackoverflow.com/users/4435090/votlon"}, "is_accepted": true, "score": 0, "last_activity_date": 1473892433, "last_edit_date": 1473892433, "creation_date": 1473892159, "answer_id": 39500607, "question_id": 39500122, "link": "https://stackoverflow.com/questions/39500122/casper-scrape-multipages-that-load-on-a-single-javascript-based-page/39500607#39500607", "title": "Casper scrape multipages that load on a single javascript based page", "body": "<p>Okay so props to <strong>Artjom B.</strong> in the comments for telling me to screenshot it to make sure the page had loaded!</p>\n\n<p>The resources were simply loading ie: <a href=\"http://i.stack.imgur.com/dgDAD.jpg\" rel=\"nofollow\">still loading picture</a></p>\n\n<p>by adding </p>\n\n<pre><code>this.wait(40000, function() {\n    this.echo('Waited for 40 seconds');\n});\n</code></pre>\n\n<p>casper will wait 40 seconds</p>\n\n<p>For screenshot debugging simple try <code>this.capture(/home/SuperDankDude/yourfilename.png)</code></p>\n\n<p>I also noticed that the mobile version of said site was different that the full screen version, so I had to also use <code>casper.options.viewportSize = {width: 1920, height: 1080};</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var casper = require('casper').create({\n    verbose: true,\n});\n\n//two different vars for two different pages of images\nvar thumbNails, thumbNails2;\n\ncasper.options.viewportSize = {width: 1920, height: 1080};\n\nfunction getThumbNails() {\n// Function to Scrape the links of thumbnails\n    var thumbNails = document.querySelectorAll('img');\n    return Array.prototype.map.call(thumbNails, function (e) {\n        return e.getAttribute('src');\n    });\n};\n\n// Scrubs target page below\ncasper.start('http://looplink.ensemblere.com/SearchResults');\n\n//Runs the function on page one, below\ncasper.then(function () {\n    thumbNails = this.evaluate(getThumbNails);\n});\n\n//Confirm that we are on page one of website, below\ncasper.then(function (){\n    if (this.exists('a.searchPagingButton.pagingPreviousButton')) {\n        this.echo('Second Page Is Loaded');\n    }\n    else {\n        this.echo('First Page Is Loaded')\n        this.capture(\"/home/votlon/WeB/firstpage.png\");\n    }\n});\n\n//Click on the next button to go to page two, below\ncasper.thenClick('a.searchPagingButton.pagingNextButton');\n\n//Confirm that we are on page two, below\ncasper.then(function (){\n    if (this.exists('a.searchPagingButton.pagingPreviousButton')) {\n        this.echo('Second Page Is Loading')\n        this.wait(40000, function() {\n        this.echo('Waited for 40 seconds');\n    });\n        this.capture(\"/home/votlon/WeB/secondpage.png\");\n    }\n    else {\n        this.echo('First Page Is Loaded')\n    }\n});\n\n//Runs the funciton for the second time, below; BUT HERE IS THE ISSUE *****\n//idk why it pulls the same data twice, when the then statement above confirms we are on page two.\ncasper.then(function () {\n    thumbNails2 = this.evaluate(getThumbNails);\n});\n\n//Sort the data from the varaiables.\ncasper.run(function () {\n    for(var i in thumbNails) {\n        console.log('1 ' + thumbNails[i]);\n    }\n    for(var i in thumbNails2) {\n        console.log('2 ' + thumbNails2[i]);\n    }\n    this.done();\n});\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 4435090, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RcIGv.jpg?s=128&g=1", "display_name": "Votlon", "link": "https://stackoverflow.com/users/4435090/votlon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "accepted_answer_id": 39500607, "answer_count": 1, "score": 0, "last_activity_date": 1473900171, "creation_date": 1473889587, "last_edit_date": 1473900171, "question_id": 39500122, "link": "https://stackoverflow.com/questions/39500122/casper-scrape-multipages-that-load-on-a-single-javascript-based-page", "title": "Casper scrape multipages that load on a single javascript based page", "body": "<p><strong>Loop Link Does not allow scraping from their website/database to other databases</strong>. <em>This was just for academic purposes for headless browser testing in dynamic loading pages. Please do not abuse their data.</em> </p>\n\n<p>Basically, i'm just trying to take image links from multiple pages however the pages load in dynamically through java script. So I ended up trying the headless browser <strong>casperjs</strong> built on <strong>phantomjs</strong>.</p>\n\n<p>Now my issue is the function getThumbNails() is outputting the same data twice. Here is a log of the output, note that the first '1' and first '2' are the <strong>same link</strong>.</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>PuffMagicDragon@SuperDankLinux:~/WeB$ casperjs --web-security=no --cookies-file=/tmp/mycookies.txt 9Cas.js \nFirst Page Is Loaded\nSecond Page Is Loaded\n1 http://x.lnimg.com/photo/thumb_480/40f175f108f5492b9cdec6486d753f8d.jpg\n1 http://x.lnimg.com/photo/thumb_480/29081ed96a6349a08c27424ce3bd2842.jpg\n1 http://x.lnimg.com/photo/thumb_480/29cd278e7cc34d9782d0a22782af2134.jpg\n1 http://x.lnimg.com/photo/thumb_480/3979dc0f0987407bb9f825f2a0cb3fa9.jpg\n1 http://x.lnimg.com/photo/thumb_480/dd06239abbf1433099ad3278607e5d7f.jpg\n1 http://x.lnimg.com/photo/thumb_480/6e7c6b6076d5414b8ee59baed3dc3131.jpg\n1 http://x.lnimg.com/photo/thumb_480/97027946bbf745a59d44ac1c3e9d22fe.jpg\n1 http://x.lnimg.com/photo/thumb_480/396fd224e85f42aea7a10e1873ed627c.jpg\n1 http://x.lnimg.com/photo/thumb_480/62f6afc3f50942388df9fe66e99a2ab4.jpg\n1 http://x.lnimg.com/photo/thumb_480/09ba5b97da4e47b1a97bac86e125001d.jpg\n1 http://x.lnimg.com/photo/thumb_480/580dcc66cd7f48d8aae8f583cd8e5e4b.jpg\n1 http://x.lnimg.com/photo/thumb_480/e62f6d11449b41ff93e191f6045cb304.jpg\n1 http://x.lnimg.com/photo/thumb_480/596230f07ebf471383991a99bd43420a.jpg\n1 http://x.lnimg.com/photo/thumb_480/da63be695fed4617b594d19e4aa0dc7a.jpg\n1 http://x.lnimg.com/photo/thumb_480/58f28244a2494c868006a97534e694e6.jpg\n1 http://x.lnimg.com/photo/thumb_480/1b0246dfe4314404b32147061198cf80.jpg\n1 http://x.lnimg.com/photo/thumb_480/b10a9bb8252f4d3d9638284f6f68fd6b.jpg\n1 http://x.lnimg.com/photo/thumb_480/48bf185da5f74a369dd629dd183bc8b3.jpg\n1 http://x.lnimg.com/photo/thumb_480/7008392330f847ecb3af7058ce0b2e3b.jpg\n1 http://x.lnimg.com/photo/thumb_480/fcf5618fc7d04265a912cce9f7dec344.jpg\n1 //x.lnimg.com/images/search/map/pinprofileclose2.gif\n1 \n1 //x.lnimg.com/images/search/map/pinprofile-ViewDetails.gif\n1 http://ak.t0.tiles.virtualearth.net/tiles/r0?g=5289&amp;mkt=en-us&amp;lbl=l0&amp;stl=h&amp;shading=hill&amp;n=z\n1 http://ak.dynamic.t1.tiles.virtualearth.net/comp/ch/0231?mkt=en-us&amp;it=G,L&amp;shading=hill&amp;og=132&amp;n=z&amp;key=AhfWRPlwZlVGewL9th5vsIklmzvMkUMm8wx6pz5nXzgDlYXliZFSr6lBvgHYCZQj\n2 http://x.lnimg.com/photo/thumb_480/40f175f108f5492b9cdec6486d753f8d.jpg\n2 http://x.lnimg.com/photo/thumb_480/29081ed96a6349a08c27424ce3bd2842.jpg\n2 http://x.lnimg.com/photo/thumb_480/29cd278e7cc34d9782d0a22782af2134.jpg\n2 http://x.lnimg.com/photo/thumb_480/3979dc0f0987407bb9f825f2a0cb3fa9.jpg\n2 http://x.lnimg.com/photo/thumb_480/dd06239abbf1433099ad3278607e5d7f.jpg\n2 http://x.lnimg.com/photo/thumb_480/6e7c6b6076d5414b8ee59baed3dc3131.jpg\n2 http://x.lnimg.com/photo/thumb_480/97027946bbf745a59d44ac1c3e9d22fe.jpg\n2 http://x.lnimg.com/photo/thumb_480/396fd224e85f42aea7a10e1873ed627c.jpg\n2 http://x.lnimg.com/photo/thumb_480/62f6afc3f50942388df9fe66e99a2ab4.jpg\n2 http://x.lnimg.com/photo/thumb_480/09ba5b97da4e47b1a97bac86e125001d.jpg\n2 http://x.lnimg.com/photo/thumb_480/580dcc66cd7f48d8aae8f583cd8e5e4b.jpg\n2 http://x.lnimg.com/photo/thumb_480/e62f6d11449b41ff93e191f6045cb304.jpg\n2 http://x.lnimg.com/photo/thumb_480/596230f07ebf471383991a99bd43420a.jpg\n2 http://x.lnimg.com/photo/thumb_480/da63be695fed4617b594d19e4aa0dc7a.jpg\n2 http://x.lnimg.com/photo/thumb_480/58f28244a2494c868006a97534e694e6.jpg\n2 http://x.lnimg.com/photo/thumb_480/1b0246dfe4314404b32147061198cf80.jpg\n2 http://x.lnimg.com/photo/thumb_480/b10a9bb8252f4d3d9638284f6f68fd6b.jpg\n2 http://x.lnimg.com/photo/thumb_480/48bf185da5f74a369dd629dd183bc8b3.jpg\n2 http://x.lnimg.com/photo/thumb_480/7008392330f847ecb3af7058ce0b2e3b.jpg\n2 http://x.lnimg.com/photo/thumb_480/fcf5618fc7d04265a912cce9f7dec344.jpg\n2 //x.lnimg.com/images/search/map/pinprofileclose2.gif\n2 \n2 //x.lnimg.com/images/search/map/pinprofile-ViewDetails.gif\n2 http://ak.t0.tiles.virtualearth.net/tiles/r0?g=5289&amp;mkt=en-us&amp;lbl=l0&amp;stl=h&amp;shading=hill&amp;n=z\n2 http://ak.dynamic.t1.tiles.virtualearth.net/comp/ch/0231?mkt=en-us&amp;it=G,L&amp;shading=hill&amp;og=132&amp;n=z&amp;key=AhfWRPlwZlVGewL9th5vsIklmzvMkUMm8wx6pz5nXzgDlYXliZFSr6lBvgHYCZQj\n</code></pre>\n\n<p>Here is the way the documentation says evaluate works: <a href=\"http://i.stack.imgur.com/nEh1Q.png\" rel=\"nofollow\">Casperjs Evaluate Diagram</a></p>\n\n<p>Here is the website i'm scraping: <a href=\"http://looplink.ensemblere.com/SearchResults\" rel=\"nofollow\">http://looplink.ensemblere.com/SearchResults</a></p>\n\n<p>I am running the script through bash on linux using:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>casperjs --web-security=no --cookies-file=/tmp/mycookies.txt Script.js\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>var casper = require('casper').create({\n    verbose: true,\n});\n\n//two different vars for two different pages of images\nvar thumbNails, thumbNails2;\n\nfunction getThumbNails() {\n// Function to Scrape the links of thumbnails\n    var thumbNails = document.querySelectorAll('img');\n    return Array.prototype.map.call(thumbNails, function (e) {\n        return e.getAttribute('src');\n    });\n};\n\n// Scrubs target page below\ncasper.start('http://looplink.ensemblere.com/SearchResults');\n\n//Runs the function on page one, below\ncasper.then(function () {\n    thumbNails = this.evaluate(getThumbNails);\n});\n\n//Confirm that we are on page one of website, below\ncasper.then(function (){\n    if (this.exists('a.searchPagingButton.pagingPreviousButton')) {\n        this.echo('Second Page Is Loaded');\n    }\n    else {\n        this.echo('First Page Is Loaded');\n    }\n});\n\n//Click on the next button to go to page two, below\ncasper.thenClick('a.searchPagingButton.pagingNextButton');\n\n//Confirm that we are on page two, below\ncasper.then(function (){\n    if (this.exists('a.searchPagingButton.pagingPreviousButton')) {\n        this.echo('Second Page Is Loaded')\n    }\n    else {\n        this.echo('First Page Is Loaded')\n    }\n});\n\n//Runs the funciton for the second time, below; BUT HERE IS THE ISSUE *****\n//idk why it pulls the same data twice, when the then statement above confirms we are on page two.\ncasper.then(function () {\n    thumbNails2 = this.evaluate(getThumbNails);\n});\n\n//Sort the data from the varaiables.\ncasper.run(function () {\n    for(var i in thumbNails) {\n        console.log('1 ' + thumbNails[i]);\n    }\n    for(var i in thumbNails2) {\n        console.log('2 ' + thumbNails2[i]);\n    }\n    this.done();\n});\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "knockout.js"], "comments": [{"owner": {"reputation": 126, "user_id": 1563932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607914b5055a9462c24108b8f7542a5c?s=128&d=identicon&r=PG", "display_name": "Scott Fanetti", "link": "https://stackoverflow.com/users/1563932/scott-fanetti"}, "edited": false, "score": 0, "creation_date": 1473889574, "post_id": 39500076, "comment_id": 66317773, "body": "So what you are looking to do is set the window.location.hash?  <a href=\"http://www.w3schools.com/jsref/prop_loc_hash.asp\" rel=\"nofollow noreferrer\">w3schools.com/jsref/prop_loc_hash.asp</a>"}], "answers": [{"tags": [], "owner": {"reputation": 16348, "user_id": 1287183, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d77d4eb94f1394ff4da699b6f65b743?s=128&d=identicon&r=PG", "display_name": "Michael Best", "link": "https://stackoverflow.com/users/1287183/michael-best"}, "is_accepted": false, "score": 0, "last_activity_date": 1473894974, "creation_date": 1473894974, "answer_id": 39501021, "question_id": 39500076, "link": "https://stackoverflow.com/questions/39500076/can-i-refresh-a-div-with-knockoutjs-rather-than-jquery/39501021#39501021", "title": "Can I refresh a div with knockoutJS rather than jQuery?", "body": "<p>The closest Knockout comes to loading remote content is <a href=\"http://knockoutjs.com/documentation/component-overview.html#example-loading-the-likedislike-widget-from-external-files-on-demand\" rel=\"nofollow\">components with the require option</a>. Of course, you can always create a <a href=\"http://knockoutjs.com/documentation/custom-bindings.html\" rel=\"nofollow\">custom binding</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 37731, "user_id": 392102, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/A0L1n.jpg?s=128&g=1", "display_name": "Roy J", "link": "https://stackoverflow.com/users/392102/roy-j"}, "is_accepted": true, "score": 0, "last_activity_date": 1473896846, "creation_date": 1473896846, "answer_id": 39501252, "question_id": 39500076, "link": "https://stackoverflow.com/questions/39500076/can-i-refresh-a-div-with-knockoutjs-rather-than-jquery/39501252#39501252", "title": "Can I refresh a div with knockoutJS rather than jQuery?", "body": "<p>The <a href=\"http://knockoutjs.com/documentation/html-binding.html\" rel=\"nofollow\"><code>html</code> binding</a> will bind HTML in a variable much like the <code>text</code> binding binds plain text. The refresh operation is just a matter of fetching the new content and putting it into the variable.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>vm = {\r\n  refreshHtml: function() {\r\n    /* You might do something like:\r\n       $.get(\"http://www.mypage.com\", vm.sectionContent, 'html');\r\n       I'm simulating a fetch with this:\r\n    */\r\n    setTimeout(function() {\r\n      vm.sectionContent('&lt;h3&gt;Something else&lt;/h3&gt;&lt;div&gt;Content has been swapped&lt;/div&gt;');\r\n    }, 500);\r\n  },\r\n  sectionContent: ko.observable('&lt;h2&gt;Change this&lt;/h2&gt;')\r\n};\r\n\r\nko.applyBindings(vm);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.changeable {\r\n  background-color: #eef;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/knockout/3.2.0/knockout-min.js\"&gt;&lt;/script&gt;\r\n&lt;img src=\"https://placeholdit.imgix.net/~text?txtsize=28&amp;txt=click+me&amp;w=150&amp;h=150&amp;txttrack=0\" data-bind=\"click: refreshHtml\" /&gt;\r\n&lt;div&gt;Some stuff&lt;/div&gt;\r\n&lt;div class=\"changeable\" data-bind=\"html:sectionContent\"&gt;&lt;/div&gt;\r\n&lt;div&gt;Some more stuff&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 6832887, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210719689339435/picture?type=large", "display_name": "mer", "link": "https://stackoverflow.com/users/6832887/mer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 0, "accepted_answer_id": 39501252, "answer_count": 2, "score": 1, "last_activity_date": 1473896846, "creation_date": 1473889390, "question_id": 39500076, "link": "https://stackoverflow.com/questions/39500076/can-i-refresh-a-div-with-knockoutjs-rather-than-jquery", "title": "Can I refresh a div with knockoutJS rather than jQuery?", "body": "<p>I would like to refresh a div with knockoutJS rather than jQuery when an image is clicked in the div.</p>\n\n<p>for example I would like to click this image and not have it refresh the whole page, but just part of the page.</p>\n\n<pre><code>&lt;img src=\"/images/xOut.png\" id=\"cancelAction\" data-bind=\"click: function(){isFreshIdea(!isFreshIdea());\" style=\"cursor:pointer;position: absolute;\" /&gt;\n</code></pre>\n\n<p>a bit like this is jQuery</p>\n\n<pre><code>$(function() {\n  $(\u201c#cancelAction\u201d).click(function() {\n     $(\u201c#freshDiv\u201d).load(Page.html + '#freshDiv')\n  })\n})\n</code></pre>\n\n<p>Is this possible?</p>\n"}, {"tags": ["javascript", "algorithm", "floating-point", "numbers"], "comments": [{"owner": {"reputation": 20246, "user_id": 592253, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a46ab9a1ec84b02baee4a249a95044d8?s=128&d=identicon&r=PG", "display_name": "Xotic750", "link": "https://stackoverflow.com/users/592253/xotic750"}, "edited": false, "score": 1, "creation_date": 1473889685, "post_id": 39500062, "comment_id": 66317826, "body": "<a href=\"http://stackoverflow.com/questions/1458633/how-to-deal-with-floating-point-number-precision-in-javascript\" title=\"how to deal with floating point number precision in javascript\">stackoverflow.com/questions/1458633/&hellip;</a>"}, {"owner": {"reputation": 20246, "user_id": 592253, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/a46ab9a1ec84b02baee4a249a95044d8?s=128&d=identicon&r=PG", "display_name": "Xotic750", "link": "https://stackoverflow.com/users/592253/xotic750"}, "edited": false, "score": 0, "creation_date": 1473890803, "post_id": 39500062, "comment_id": 66318212, "body": "Converting everything to PENNY (*100) and then back (/100) should fix your problem I believe."}], "owner": {"reputation": 3, "user_id": 6349471, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4144b5c313ccba1bcdd160449269e04e?s=128&d=identicon&r=PG&f=1", "display_name": "yuga", "link": "https://stackoverflow.com/users/6349471/yuga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "closed_date": 1473890759, "answer_count": 0, "score": 0, "last_activity_date": 1473891313, "creation_date": 1473889293, "last_edit_date": 1473891313, "question_id": 39500062, "link": "https://stackoverflow.com/questions/39500062/cash-register-program-doesnt-work-correctly", "closed_reason": "Duplicate", "title": "Cash register program doesnt work correctly", "body": "<p>I am not asking how i can write this program in another way. I made mistake in program so question is not duplicate. my question is what is error or missing thing in program. I just want to learn that and remove it.</p>\n\n<p>My program make error for some situation that includes number that multiple of 0.1, 0.05 or 0.01 but for other numbers it run properly. For example it returns  insufficient funds for this input   (price(3.3) , cash(10.0)) instead of  <strong>[five, 5] , [one ,1] ,[quarter,0.5], [dime,0.2]</strong>. \nI think algorithm is correct but there is something wrong that I cant see. </p>\n\n<pre><code>function checkCashRegister(price, cash, cid) {\n  var left = cash - price;\n  var toplam = 0;\n  var paralar = [0.01, 0.05, 0.10, 0.25, 1.00, 5.00, 10.00, 20.00, 100.00];\n  var artan = [];\n  for (var i = 0; i &lt; cid.length; i++) {\n    toplam += cid[i][1];\n  }\n\n  if (left &gt; toplam) {\n    return \"Insufficient Funds\";\n  } else if (left === toplam) {\n    return \"Closed\";\n  }\n\n  var t = paralar.length - 1;\n  for (var t = paralar.length - 1; t &gt;= 0; t--) {\n    if (left &gt;= paralar[t]) {\n      var sayac = 0;\n      while (left &gt;= paralar[t] &amp;&amp; cid[t][1] &gt; 0) {\n        left -= paralar[t];\n        sayac += paralar[t];\n        cid[t][1] -= paralar[t];\n      }\n      var bos = [cid[t][0], sayac];\n      artan.push(bos);\n    }\n  }\n\n  if (left &gt; 0) {\n    return \"Insufficient Funds\";\n  }\n\n  return artan;\n}\ncheckCashRegister(3.26, 100.00, [\n  [\"PENNY\", 1.01],\n  [\"NICKEL\", 2.05],\n  [\"DIME\", 3.10],\n  [\"QUARTER\", 4.25],\n  [\"ONE\", 90.00],\n  [\"FIVE\", 55.00],\n  [\"TEN\", 20.00],\n  [\"TWENTY\", 60.00],\n  [\"ONE HUNDRED\", 100.00]\n]);\n</code></pre>\n\n<p>this example return insufficient funds. but if i change 3.26 to 3.25 it return correct string.</p>\n"}, {"tags": ["javascript", "jquery", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 1093, "user_id": 4158413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pDlXK.jpg?s=128&g=1", "display_name": "Robson", "link": "https://stackoverflow.com/users/4158413/robson"}, "edited": false, "score": 0, "creation_date": 1473891489, "post_id": 39500225, "comment_id": 66318434, "body": "Hmm, I understand you I guess. I changed a little my code with checked state, but I get stuck with changing this state onChange ? Could you look at this now if you have some time and let me know where I made a mistakes ?"}], "tags": [], "owner": {"reputation": 5844, "user_id": 4574285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155193056175076/picture?type=large", "display_name": "finalfreq", "link": "https://stackoverflow.com/users/4574285/finalfreq"}, "is_accepted": false, "score": 2, "last_activity_date": 1473890002, "creation_date": 1473890002, "answer_id": 39500225, "question_id": 39500059, "link": "https://stackoverflow.com/questions/39500059/make-checked-unchecked-attribute-onchange-checkbox-in-reactjs/39500225#39500225", "title": "Make checked/unchecked attribute onChange checkbox in Reactjs", "body": "<p>Your checkbox is missing a few props that are needed in order for it to work. You need to be able to tell a checkbox if its checked or not using props or state. you also need to give each checkbox a value so when you check it you will actually have a value to work with. and lastly you need a onChange prop that will occur when the checkbox is clicked. this function should update whatever state is controlling whether that particular checkbox is checked or not. Here is an example of a checkbox input that has been made for react </p>\n\n<pre><code>&lt;input name={ this.props.name }\n      type=\"checkbox\"\n      checked={ this.props.checked }\n      className=\"cui-checkbox-input\"\n      onChange={ this._onChange }\n      value={ this.props.value } /&gt;\n</code></pre>\n\n<p>_onChange is a function that would look something like </p>\n\n<pre><code>_onChange: function(event) { \n   // do stuff using the event to grab needed values\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5844, "user_id": 4574285, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155193056175076/picture?type=large", "display_name": "finalfreq", "link": "https://stackoverflow.com/users/4574285/finalfreq"}, "edited": false, "score": 1, "creation_date": 1473892742, "post_id": 39500609, "comment_id": 66318762, "body": "Awesome! A clean way of doing that onChange function as well is to just do  <code>this.setState({ checked: !this.state.checked });</code>"}], "tags": [], "owner": {"reputation": 1093, "user_id": 4158413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pDlXK.jpg?s=128&g=1", "display_name": "Robson", "link": "https://stackoverflow.com/users/4158413/robson"}, "is_accepted": true, "score": 1, "last_activity_date": 1473892167, "creation_date": 1473892167, "answer_id": 39500609, "question_id": 39500059, "link": "https://stackoverflow.com/questions/39500059/make-checked-unchecked-attribute-onchange-checkbox-in-reactjs/39500609#39500609", "title": "Make checked/unchecked attribute onChange checkbox in Reactjs", "body": "<p>Ok, I found solution.</p>\n\n<p>I added <code>onClick={ this._onChange }</code> to my label in component, and it works!</p>\n"}], "owner": {"reputation": 1093, "user_id": 4158413, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/pDlXK.jpg?s=128&g=1", "display_name": "Robson", "link": "https://stackoverflow.com/users/4158413/robson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4860, "favorite_count": 1, "accepted_answer_id": 39500609, "answer_count": 2, "score": 2, "last_activity_date": 1473892167, "creation_date": 1473889264, "last_edit_date": 1473891326, "question_id": 39500059, "link": "https://stackoverflow.com/questions/39500059/make-checked-unchecked-attribute-onchange-checkbox-in-reactjs", "title": "Make checked/unchecked attribute onChange checkbox in Reactjs", "body": "<p>I have a problem in my react component. I have custom styled checkboxes like this <a href=\"http://jsfiddle.net/fvdbcch0/\" rel=\"nofollow\">http://jsfiddle.net/fvdbcch0/</a></p>\n\n<p>I want to click on my component or label to check or uncheck input.</p>\n\n<p>Currently it's working only on basic styles only if I click exactly on input.</p>\n\n<p>How can I change checked state onChange properly ?</p>\n\n<p>Code:</p>\n\n<pre><code> var Tag = React.createClass({\ngetInitialState: function(){\n\n  return {\n      checked: false\n  };\n},\ncomponentDidMount: function() {\n    this.setState({\n        checked: false\n      });\n},\n_onChange: function(event) {\n   if(this.state.checked == false){\n       this.setState({\n        checked: true\n      });\n   } else {\n       this.setState({\n        checked: false\n      });\n   }\n},\n    render: function() {\n        return (\n            &lt;div&gt;\n                &lt;input type=\"checkbox\" id=\"{this.props.id}\" name=\"{this.props.name}\" checked={this.state.checked} onChange={ this._onChange }\n  value={ this.props.id }/&gt;&lt;label htmlFor=\"{this.props.name}\"&gt;{this.props.name}&lt;/label&gt;\n            &lt;/div&gt;\n        );\n    }\n});\nvar ReviewTag = React.createClass({\n    render: function() {\n         var tags = [{\"id\": 1, \"name\": \"friendly\"}, {\"id\": 2, \"name\": \"comfortable\"}, {\"id\": 3, \"name\": \"fast\"}];\n         const tagComps = tags.map(function(tag){\n           return &lt;Tag {...tag} /&gt;;\n         });\n        return (\n        &lt;div&gt;\n             {tagComps}\n        &lt;/div&gt;\n    );\n    }\n});\n\nReact.render(&lt;ReviewTag/&gt;, document.body);\n</code></pre>\n\n<p>And Styles for my custom inputs:</p>\n\n<pre><code>/* Base for label styling */\n[type=\"checkbox\"]:not(:checked),\n[type=\"checkbox\"]:checked,\n[type=\"radio\"]:not(:checked),\n[type=\"radio\"]:checked{\n  position: absolute;\n  left: -9999px;\n}\n[type=\"checkbox\"]:not(:checked) + label,\n[type=\"checkbox\"]:checked + label,\n[type=\"radio\"]:not(:checked) + label,\n[type=\"radio\"]:checked + label{\n  position: relative;\n  padding-left: 25px;\n  cursor: pointer;\n}\n\n/* checkbox/radio aspect */\n[type=\"checkbox\"]:not(:checked) + label:before,\n[type=\"checkbox\"]:checked + label:before,\n[type=\"radio\"]:not(:checked) + label:before,\n[type=\"radio\"]:checked + label:before{\n  content: '';\n  position: absolute;\n  left:0; top: 50%;\n  width: 1rem; height:1rem;\n  border: 1px solid #aaa;\n  background: #fff;\n  box-shadow: inset 0 1px 3px rgba(0,0,0,.3);\n  transform: translateY(-50%);\n}\n[type=\"radio\"]:not(:checked) + label:before,\n[type=\"radio\"]:checked + label:before{\n  border-radius:100%;\n}\n/* checked mark aspect */\n[type=\"checkbox\"]:checked + label:after {\n  content: '\u2713';\n  position: absolute;\n  top: 50%;\n  left: 0px;\n  font-size: 1rem;\n  line-height: 0.8;\n  color: #e71558;\n  transition: all .2s;\n  transform: translateY(-50%);\n}\n/* checked radio aspect */\n[type=\"radio\"]:checked + label:after {\n  content: '\u2022';\n  position: absolute;\n  top: 6px;\n  left: 2px;\n  font-size: 15px;\n  line-height: 0.8;\n  color: #e71558;\n  transition: all .2s;\n  //transform: translateY(-50%);\n  text-align: center;\n}\n/* checked mark aspect changes */\n[type=\"checkbox\"]:not(:checked) + label:after,\n[type=\"radio\"]:not(:checked) + label:after{\n  opacity: 0;\n  transform: scale(0);\n}\n[type=\"checkbox\"]:checked + label:after,\n[type=\"radio\"]:checked + label:after {\n  opacity: 1;\n  //transform: scale(1);\n}\n/* disabled checkbox/radio */\n[type=\"checkbox\"]:disabled:not(:checked) + label:before,\n[type=\"checkbox\"]:disabled:checked + label:before,\n[type=\"radio\"]:disabled:not(:checked) + label:before,\n[type=\"radio\"]:disabled:checked + label:before{\n  box-shadow: none;\n  border-color: #bbb;\n  background-color: #ddd;\n}\n[type=\"checkbox\"]:disabled:checked + label:after,\n[type=\"radio\"]:disabled:checked + label:after{\n  color: #999;\n}\n[type=\"checkbox\"]:disabled + label,\n[type=\"radio\"]:disabled + label{\n  color: #aaa;\n}\n/* accessibility */\n[type=\"checkbox\"]:checked:focus + label:before,\n[type=\"checkbox\"]:not(:checked):focus + label:before,\n[type=\"radio\"]:checked:focus + label:before,\n[type=\"radio\"]:not(:checked):focus + label:before{\n  border: 1px dotted blue;\n}\n\n/* hover style just for information */\nlabel:hover:before {\n  border: 1px solid #4778d9!important;\n}\n</code></pre>\n\n<p>Many thanks for help with this.</p>\n"}, {"tags": ["javascript", "html", "canvas", "touchmove"], "comments": [{"owner": {"reputation": 1561, "user_id": 4746328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E5r4V.png?s=128&g=1", "display_name": "Brian Peacock", "link": "https://stackoverflow.com/users/4746328/brian-peacock"}, "edited": false, "score": 0, "creation_date": 1473898494, "post_id": 39500027, "comment_id": 66320270, "body": "Your <code>myGamePiece</code> Object is not a page element you can add event-listeners to, it is just information generated from the <code>component</code> consturctor that represents the properties of something drawn on the canvas.  In order to move the red square you must log the position of a <code>canvas</code> touch-type event, compare it to the position and/or boundary of the red square, track and log the position of any move-type event, and redraw the canvas with a red square whose co-ordinates follow the move-type event. This SO answer may be useful to you : <a href=\"http://stackoverflow.com/a/24958827/4746328\">stackoverflow.com/a/24958827/4746328</a>"}, {"owner": {"reputation": 91, "user_id": 4011723, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/488bf658f944924d4150150dbb689445?s=128&d=identicon&r=PG&f=1", "display_name": "user4011723", "link": "https://stackoverflow.com/users/4011723/user4011723"}, "reply_to_user": {"reputation": 1561, "user_id": 4746328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/E5r4V.png?s=128&g=1", "display_name": "Brian Peacock", "link": "https://stackoverflow.com/users/4746328/brian-peacock"}, "edited": false, "score": 0, "creation_date": 1474104408, "post_id": 39500027, "comment_id": 66402932, "body": "<a href=\"http://www.javascriptkit.com/javatutors/touchevents.shtml\" rel=\"nofollow noreferrer\">link</a> - this was helpful"}], "owner": {"reputation": 91, "user_id": 4011723, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/488bf658f944924d4150150dbb689445?s=128&d=identicon&r=PG&f=1", "display_name": "user4011723", "link": "https://stackoverflow.com/users/4011723/user4011723"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 464, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473889114, "creation_date": 1473889114, "question_id": 39500027, "link": "https://stackoverflow.com/questions/39500027/add-touchmove-event-to-canvas-element", "title": "Add touchmove event to canvas element", "body": "<p>Helo,</p>\n\n<p>is this possible to add touchmove event to canvas element like: <a href=\"http://www.w3schools.com/games/tryit.asp?filename=trygame_component_simple\" rel=\"nofollow\">myGamePiece </a> (from w3c schools) so I can move it by touching the screen? I tried something like this:</p>\n\n<pre><code>window.addEventListener('load', function(){\n    myGamePiece.body.addEventListener('touchmove', function(e){\n       ...my code\n       e.preventDefault()\n    }, false)\n}, false)\n</code></pre>\n\n<p>but the console log shows me:</p>\n\n<blockquote>\n  <p>Cannot read property 'addEventListener' of undefined</p>\n</blockquote>\n\n<p>Regards</p>\n"}, {"tags": ["javascript", "arrays", "filter", "lodash"], "answers": [{"comments": [{"owner": {"reputation": 7358, "user_id": 2394970, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1bf447cf1afc783b4b4e6ecd9ab292f7?s=128&d=identicon&r=PG", "display_name": "lost9123193", "link": "https://stackoverflow.com/users/2394970/lost9123193"}, "edited": false, "score": 0, "creation_date": 1473890469, "post_id": 39500224, "comment_id": 66318114, "body": "This is very close to what I&#39;m looking for. From this result, is there a way to filter through each selected property and limit it to the values from sel? So instead of getting {&quot;id&quot;:2, &quot;selected&quot;:[1,2,3,4,5]} i would get {&quot;id&quot;:1, &quot;selected&quot;:[1,2,3]}. Currently everything I&#39;m doing is traversing and I&#39;m seeing that lodash is a really good solution to simplifying code. Thanks!"}, {"owner": {"reputation": 14896, "user_id": 2417031, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RGLYK.jpg?s=128&g=1", "display_name": "maioman", "link": "https://stackoverflow.com/users/2417031/maioman"}, "reply_to_user": {"reputation": 7358, "user_id": 2394970, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1bf447cf1afc783b4b4e6ecd9ab292f7?s=128&d=identicon&r=PG", "display_name": "lost9123193", "link": "https://stackoverflow.com/users/2394970/lost9123193"}, "edited": false, "score": 0, "creation_date": 1473891010, "post_id": 39500224, "comment_id": 66318271, "body": "you can map the output and filter the selected array, I added an example in the first case"}, {"owner": {"reputation": 7358, "user_id": 2394970, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1bf447cf1afc783b4b4e6ecd9ab292f7?s=128&d=identicon&r=PG", "display_name": "lost9123193", "link": "https://stackoverflow.com/users/2394970/lost9123193"}, "edited": false, "score": 0, "creation_date": 1473891427, "post_id": 39500224, "comment_id": 66318415, "body": "I have a bit of learning to do but the answer is very clear, thanks again!"}], "tags": [], "owner": {"reputation": 14896, "user_id": 2417031, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/RGLYK.jpg?s=128&g=1", "display_name": "maioman", "link": "https://stackoverflow.com/users/2417031/maioman"}, "is_accepted": true, "score": 2, "last_activity_date": 1473890908, "last_edit_date": 1473890908, "creation_date": 1473889992, "answer_id": 39500224, "question_id": 39499984, "link": "https://stackoverflow.com/questions/39499984/filtering-object-array-that-has-an-array-field-using-lodash/39500224#39500224", "title": "Filtering Object Array that has an array field Using Lodash", "body": "<p>You can use Array.some inside the filter (vanilla js):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var sel = [1,2,3]\r\n\r\nvar arr = [\r\n    {id:1, selected:[1,2,3,4]},\r\n    {id:2, selected:[1,2,3,4,5]},\r\n    {id:3, selected:[11]},\r\n    {id:4, selected:[1,2,5]}\r\n]\r\n\r\nvar res = arr.filter(x =&gt; x.selected.some(y =&gt; sel.some(z =&gt; z === y))).\r\nmap(x =&gt; {\r\n x.selected = x.selected.filter(y =&gt; sel.some(z =&gt; z === y));\r\n return x;\r\n})\r\n\r\nconsole.log(res)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>or in lodash</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var sel = [1,2,3]\r\n\r\nvar arr = [\r\n     {id:1, selected:[1,2,3,4]},\r\n     {id:2, selected:[1,2,3,4,5]},\r\n     {id:3, selected:[11]},\r\n     {id:4, selected:[1,2,5]}\r\n]\r\nvar res = _.filter(arr, x =&gt; _.some(x.selected, y =&gt; _.some(sel, z =&gt; z == y)))\r\n\r\nconsole.log(res)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.15.0/lodash.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 7358, "user_id": 2394970, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1bf447cf1afc783b4b4e6ecd9ab292f7?s=128&d=identicon&r=PG", "display_name": "lost9123193", "link": "https://stackoverflow.com/users/2394970/lost9123193"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 480, "favorite_count": 0, "accepted_answer_id": 39500224, "answer_count": 1, "score": 0, "last_activity_date": 1473890908, "creation_date": 1473888905, "last_edit_date": 1473889436, "question_id": 39499984, "link": "https://stackoverflow.com/questions/39499984/filtering-object-array-that-has-an-array-field-using-lodash", "title": "Filtering Object Array that has an array field Using Lodash", "body": "<p>I have 2 data sets:</p>\n\n<p>People:</p>\n\n<pre><code>[\n    {id:1, selected:[1,2,3,4]},\n    {id:2, selected:[1,2,3,4,5]},\n    {id:3, selected:[11]},\n    {id:4, selected:[1,2,5]}\n]\n</code></pre>\n\n<p>selectedArray:</p>\n\n<pre><code>[1,2,3]\n</code></pre>\n\n<p>I can filter <code>People.id</code> by <code>selectedArray</code>:</p>\n\n<pre><code>_(People).indexBy('id').at(selectedArray).value();\n</code></pre>\n\n<p>But I'm stumped on how I would filter for a field that is not represented as a single value. eg. <code>People[0].selected</code> which is an array of integers. </p>\n\n<p>Is it possible to only show <code>People</code> objects that contain at least 1 integer in the People selected field from <code>selectedArray</code>?</p>\n\n<p>I tried this:</p>\n\n<pre><code>_.intersection(selectedArray, _.map(People, 'selected'));\n</code></pre>\n\n<p>I eventually want to have a <code>People</code> object array with a selected field which is limited to the integers of <code>selectArray</code>. So the result would be:</p>\n\n<pre><code>[\n    {id:1, selected:[1,2,3]},\n    {id:2, selected:[1,2,3]},\n    {id:4, selected:[1,2]}\n]\n</code></pre>\n\n<p>I'm currently going through a for loop to calculate this but I don't think it's a very good solution and I'm wondering if there's a more elegant approach than traversing through the entire object array. </p>\n"}, {"tags": ["javascript", "mysql", "node.js", "reactjs", "ejs"], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 6832784, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ad99422610374fc58ffef7a329eb7c8e?s=128&d=identicon&r=PG&f=1", "display_name": "John D.", "link": "https://stackoverflow.com/users/6832784/john-d"}, "edited": false, "score": 0, "creation_date": 1473897913, "post_id": 39500702, "comment_id": 66320113, "body": "Thanks for the answer but I&#39;m still getting internal server error with it and my terminal is giving me that &quot;data&quot; is not defined... :("}], "tags": [], "owner": {"reputation": 3100, "user_id": 2952144, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/12c99909a7c96c3176e2e7980e87bcec?s=128&d=identicon&r=PG&f=1", "display_name": "Mykola Borysyuk", "link": "https://stackoverflow.com/users/2952144/mykola-borysyuk"}, "is_accepted": true, "score": 0, "last_activity_date": 1473892712, "creation_date": 1473892712, "answer_id": 39500702, "question_id": 39499961, "link": "https://stackoverflow.com/questions/39499961/how-to-display-data-stored-in-mysql-by-node-js-on-ejs-file-javascript/39500702#39500702", "title": "How to display data stored in mySQL by node.js on ejs file :: Javascript", "body": "<p>May be a little wrong. But ejs returns HTML from Template + data.. You have template. By you dont return data to it. You just return JSON to page...which would be OK if you using AJAX or something similar. In your case you need some thing like this</p>\n\n<p><code>router.get('/aList/logo', (req, res, next) =&gt; {\n    ATable.getLogo((err, logo) =&gt; {\n        if (err) {\n            next (err);\n            return;\n        }\n        //in here you need to render data in reder for EJS template to process it.\n        res.render('page.ejs', {data: logo});\n    });\n});</code></p>\n\n<p>Here is the docs <a href=\"http://www.embeddedjs.com/getting_started.html\" rel=\"nofollow\">http://www.embeddedjs.com/getting_started.html</a></p>\n\n<p>Hope this helps.</p>\n"}], "owner": {"reputation": 111, "user_id": 6832784, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/ad99422610374fc58ffef7a329eb7c8e?s=128&d=identicon&r=PG&f=1", "display_name": "John D.", "link": "https://stackoverflow.com/users/6832784/john-d"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 466, "favorite_count": 0, "accepted_answer_id": 39500702, "answer_count": 1, "score": 0, "last_activity_date": 1474308562, "creation_date": 1473888760, "last_edit_date": 1474308562, "question_id": 39499961, "link": "https://stackoverflow.com/questions/39499961/how-to-display-data-stored-in-mysql-by-node-js-on-ejs-file-javascript", "title": "How to display data stored in mySQL by node.js on ejs file :: Javascript", "body": "<p>so.. I've been trying to get the data stored in mySQL server to show up on the webpage created with ejs file, and haven't been successful yet..\nI have looked up online and haven't had any luck so far..\nhere's what I have so far..</p>\n\n<p><strong>page.ejs</strong></p>\n\n<pre><code>...\n            &lt;div class=\"container\" id=\"someID\"&gt;\n                &lt;a class = \"someName\" href=\"\"&gt;\n                    &lt;%# Trying to put data here-%&gt;\n                    &lt;% data.forEach(function(dat) {%&gt;\n                        &lt;img src=&lt;%=JSON.stringify(dat) %&gt; /&gt;\n                    &lt;% }); %&gt;\n                &lt;/a&gt;\n            &lt;/div&gt;\n...\n</code></pre>\n\n<p><strong>Model.js</strong></p>\n\n<pre><code>'use strict';\nconst db = require('db');\nconst {Type} = db;\nconst table = db.defineTable('aList', {\n    columns: {\n        id:Type.bigint().unsigned().notNull().primaryKey().autoIncrement(),\n        name: Type.varchar(127).notNull().unique(),\n        logo: Type.varchar(127).notNull().unique(),\n    },\n    indexes: [ 'name' ],\n});\n\nconst ATable = {\n    create(aData, cb) {\n        table.insert({\n            name: aData.name,\n            logo: aData.logo,\n        },(err, result) =&gt;{\n            if(err) {\n                cb(err);\n                return;\n            }\n            cb(null, result.insertId);\n        });\n    },\n    getLogo(cb){\n        table.query(\n            'SELECT `logo` ' +\n            'FROM `aList`',\n            cb);\n    },\n};\nmodule.exports = ATable;\n</code></pre>\n\n<p><strong>Controller.js</strong></p>\n\n<pre><code>'use strict';\n\nconst ATable = require('../ATable');\nconst jsonBodyParser = require('../jsonBodyParser');\nconst logger = require('logger');\nconst router = require('../router');\n\nrouter.post('/aList/create', jsonBodyParser, (req, res) =&gt; {\n    const aData = req.body;\n\n    ATable.create(aData, err =&gt;{\n        if(err){\n            logger.error(err);\n            res.sendStatus(500);\n            return;\n        }\n\n        res.sendStatus(201);\n    });\n});\n\nrouter.get('/aList/logo', (req, res, next) =&gt; {\n    ATable.getLogo((err, logo) =&gt; {\n        if (err) {\n            next (err);\n            return;\n        }\n        res.json(logo);\n        res.render('page',{data:logo});\n    });\n});\n</code></pre>\n\n<p><strong>page.mount.js</strong></p>\n\n<pre><code>var React = require('react');\nvar ReactDOM = require('ReactDOM');\nvar Container = require('page.react');\n\nReactDOM.render(&lt;Container /&gt;, document.getElementById('someID'));\n</code></pre>\n\n<p><strong>page.react.js</strong></p>\n\n<pre><code>'use strict'\n\nvar Container = React.createClass({\n    getInitialState: function(){\n     return {\n        title: 'SOME TEXT',\n        sources:[]\n      }\n    },\n    render: function(){\n      return (\n        &lt;div&gt;\n          &lt;h1&gt; {this.state.title} &lt;/h1&gt;\n          &lt;ShowList names={this.state.sources} /&gt;\n        &lt;/div&gt;\n      )\n    }\n});\n\nvar ShowList = React.createClass({\n  render: function(){\n    var listItems = this.props.names.map(function(source){\n      return &lt;a class=\"list\" href=\"http://www.google.ca\"&gt; &lt;img class=\"logos\" src={source} /&gt; &lt;/a&gt;;\n});\n    return (\n        &lt;div&gt;\n            {listItems}\n        &lt;/div&gt;\n    )\n  }\n});\n\nmodule.exports = Container;\n</code></pre>\n\n<p>when I access localhost:port_number/api/aList/logo, I can see the data fine but when I try go on the page, it gives me an error saying data not defined.. any help is appreciated!\nThank yous in advance!</p>\n"}, {"tags": ["javascript", "c#", "signalr"], "comments": [{"owner": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1473889895, "post_id": 39499956, "comment_id": 66317908, "body": "What is UsersOnline and are you sure you get a correct groupName and the group is not empty?"}, {"owner": {"reputation": 375, "user_id": 1444186, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ccaf7b6b492c254f26349a31bd0f41d7?s=128&d=identicon&r=PG", "display_name": "Vijay", "link": "https://stackoverflow.com/users/1444186/vijay"}, "reply_to_user": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1473890841, "post_id": 39499956, "comment_id": 66318223, "body": "@Pawel UsersOnline is a class containing a static List&lt;User&gt; to add and remove users. Yes the group name is correctly assigned to the users but still unable to deliver the message."}, {"owner": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1473891341, "post_id": 39499956, "comment_id": 66318388, "body": "How do you add clients to group? - show the client and the server code."}, {"owner": {"reputation": 375, "user_id": 1444186, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ccaf7b6b492c254f26349a31bd0f41d7?s=128&d=identicon&r=PG", "display_name": "Vijay", "link": "https://stackoverflow.com/users/1444186/vijay"}, "reply_to_user": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1473891899, "post_id": 39499956, "comment_id": 66318532, "body": "@Pawel Please check the updated code above."}, {"owner": {"reputation": 30145, "user_id": 1168070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e461ac690e034cb5b99cf011311c1c7?s=128&d=identicon&r=PG", "display_name": "Pawel", "link": "https://stackoverflow.com/users/1168070/pawel"}, "edited": false, "score": 0, "creation_date": 1473892752, "post_id": 39499956, "comment_id": 66318766, "body": "I still don&#39;t see the code that calls <code>AddUsersToGroup</code> and also the code that sets ConnectionId for the user. Also not sure why you have multiple ConnectionIds for a user - you always use only one/first id."}], "answers": [{"tags": [], "owner": {"reputation": 1003, "user_id": 2202949, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/XGiFt.jpg?s=128&g=1", "display_name": "Kelso Sharp", "link": "https://stackoverflow.com/users/2202949/kelso-sharp"}, "is_accepted": false, "score": 0, "last_activity_date": 1473949806, "creation_date": 1473949806, "answer_id": 39513739, "question_id": 39499956, "link": "https://stackoverflow.com/questions/39499956/unable-to-send-message-to-groups-in-signalr/39513739#39513739", "title": "Unable to send message to groups in SignalR", "body": "<p>Don't use gethashcode to generate the name of the group, the results will only match if all the data for the user is identical, and if there is a disconnect, or the connectionid change the group name will no longer be valid for that user. You can use ConnectionId since it is unique for each user. Also Pawel is correct you are creating the groups but you are not adding the user to the group itself.</p>\n"}], "owner": {"reputation": 375, "user_id": 1444186, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/ccaf7b6b492c254f26349a31bd0f41d7?s=128&d=identicon&r=PG", "display_name": "Vijay", "link": "https://stackoverflow.com/users/1444186/vijay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 176, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474223375, "creation_date": 1473888720, "last_edit_date": 1474223375, "question_id": 39499956, "link": "https://stackoverflow.com/questions/39499956/unable-to-send-message-to-groups-in-signalr", "title": "Unable to send message to groups in SignalR", "body": "<p>I'm using SignalR 2.2.1 in my chat application.</p>\n\n<p>I'm adding users to groups and sending messages to the group. While sending a message, I'm fetching the group name from the user object as follows.</p>\n\n<p>I'm unable to send messages to a group whereas sending messages to the caller or all clients works.</p>\n\n<p>Server-side code:</p>\n\n<pre><code>public string AddUsersToGroup(string CurrentUserId, string toUserId)\n{   \n    string strGroupName = GetUniqueGroupName(CurrentUserId, toUserId);\n    if (!string.IsNullOrEmpty(toUserId) &amp;&amp; !string.IsNullOrEmpty(CurrentUserId))\n    {\n        string _cnId, _toCnId;\n        _cnId = UsersOnline.userObj.Where(item =&gt; item.userId == CurrentUserId).Select(item =&gt; item.ConnectionIds.FirstOrDefault()).FirstOrDefault();\n        _toCnId = UsersOnline.userObj.Where(item =&gt; item.userId == toUserId).Select(item =&gt; item.ConnectionIds.FirstOrDefault()).FirstOrDefault();\n        UsersOnline.userObj.Where(item =&gt; item.userId == CurrentUserId).FirstOrDefault().GroupName = strGroupName;\n        UsersOnline.userObj.Where(item =&gt; item.userId == toUserId).FirstOrDefault().GroupName = strGroupName;\n\n        Groups.Add(_cnId, strGroupName);\n        Groups.Add(_toCnId, strGroupName);                               \n    }\n    return strGroupName;\n}\n\npublic void Send(string message)\n{\n    if (Clients != null)\n    {\n        string _conId = Context.ConnectionId;\n        string GroupName = UsersOnline.userObj.Where(item =&gt;   item.ConnectionIds.Contains(_conId)).FirstOrDefault().GroupName;\n        Clients.Group(GroupName).broadcastMessage(message); // This doesn't work.\n        Clients.All.broadcastMessage(message); // This works.\n        Clients.Caller.broadcastmessage(message); // This works.\n    }\n}\n\nprivate string GetUniqueGroupName(string CurrentUserId, string toUserId)\n{\n    return (CurrentUserId.GetHashCode() ^ toUserId.GetHashCode()).ToString();\n}\n</code></pre>\n\n<p>Client side code:</p>\n\n<pre><code>chat.client.broadcastMessage = function (message) {              \n    $('#divMessageBoard').append('&lt;span&gt;' + $('&lt;div/&gt;').text(message).html() + '&lt;/span&gt;&lt;br/&gt;');\n    var divMessageBoard = $('#divMessageBoard');\n    $(\"#divMessageBoard\").animate({ scrollTop: $(\"#divMessageBoard\")[0].scrollHeight }, 1000);\n};\n</code></pre>\n\n<p>Can anyone please suggest a solution?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 2083, "user_id": 4357947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/lgq4N.jpg?s=128&g=1", "display_name": "Mike. D", "link": "https://stackoverflow.com/users/4357947/mike-d"}, "edited": false, "score": 0, "creation_date": 1473888866, "post_id": 39499954, "comment_id": 66317515, "body": "so when someone clicks a pie in the chart, the block above should change color?"}, {"owner": {"reputation": 94334, "user_id": 2802040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCB9I.png?s=128&g=1", "display_name": "Paulie_D", "link": "https://stackoverflow.com/users/2802040/paulie-d"}, "edited": false, "score": 0, "creation_date": 1473888882, "post_id": 39499954, "comment_id": 66317525, "body": "Wouldn&#39;t an SVG be simpler?"}, {"owner": {"reputation": 918, "user_id": 6646558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YOkrK.jpg?s=128&g=1", "display_name": "Caleb Anthony", "link": "https://stackoverflow.com/users/6646558/caleb-anthony"}, "edited": false, "score": 4, "creation_date": 1473888884, "post_id": 39499954, "comment_id": 66317527, "body": "<a href=\"http://jsfiddle.net/hywrc3qv/2/\" rel=\"nofollow noreferrer\">jsfiddle.net/hywrc3qv/2</a>"}, {"owner": {"reputation": 560, "user_id": 4162438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f27bd7c469458cc1fe5acbbc99321b3?s=128&d=identicon&r=PG&f=1", "display_name": "blazerix", "link": "https://stackoverflow.com/users/4162438/blazerix"}, "reply_to_user": {"reputation": 2083, "user_id": 4357947, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/lgq4N.jpg?s=128&g=1", "display_name": "Mike. D", "link": "https://stackoverflow.com/users/4357947/mike-d"}, "edited": false, "score": 0, "creation_date": 1473888976, "post_id": 39499954, "comment_id": 66317562, "body": "@emporio hey thanks for replying, no this was just a code snippet that I had found on the internet, I should have removed the code that generated the reactangle, sorry about that"}, {"owner": {"reputation": 560, "user_id": 4162438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f27bd7c469458cc1fe5acbbc99321b3?s=128&d=identicon&r=PG&f=1", "display_name": "blazerix", "link": "https://stackoverflow.com/users/4162438/blazerix"}, "reply_to_user": {"reputation": 918, "user_id": 6646558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YOkrK.jpg?s=128&g=1", "display_name": "Caleb Anthony", "link": "https://stackoverflow.com/users/6646558/caleb-anthony"}, "edited": false, "score": 0, "creation_date": 1473889032, "post_id": 39499954, "comment_id": 66317584, "body": "@CalebAnthony Thanks so much! If possible, could you explain some of the calculations that are being done?"}, {"owner": {"reputation": 94334, "user_id": 2802040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCB9I.png?s=128&g=1", "display_name": "Paulie_D", "link": "https://stackoverflow.com/users/2802040/paulie-d"}, "edited": false, "score": 0, "creation_date": 1473889545, "post_id": 39499954, "comment_id": 66317760, "body": "<a href=\"http://jsfiddle.net/rL1mgveb/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/rL1mgveb/1</a> replaced required number with a variable. Just plug in the required number"}, {"owner": {"reputation": 560, "user_id": 4162438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f27bd7c469458cc1fe5acbbc99321b3?s=128&d=identicon&r=PG&f=1", "display_name": "blazerix", "link": "https://stackoverflow.com/users/4162438/blazerix"}, "reply_to_user": {"reputation": 94334, "user_id": 2802040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCB9I.png?s=128&g=1", "display_name": "Paulie_D", "link": "https://stackoverflow.com/users/2802040/paulie-d"}, "edited": false, "score": 0, "creation_date": 1473889650, "post_id": 39499954, "comment_id": 66317802, "body": "@Paulie_D Do you know why it highlights region 0 even if you are on a different one?"}, {"owner": {"reputation": 94334, "user_id": 2802040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bCB9I.png?s=128&g=1", "display_name": "Paulie_D", "link": "https://stackoverflow.com/users/2802040/paulie-d"}, "edited": false, "score": 0, "creation_date": 1473889701, "post_id": 39499954, "comment_id": 66317832, "body": "No....I just tinkered with the existing code...much like the answer below."}], "answers": [{"tags": [], "owner": {"reputation": 918, "user_id": 6646558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YOkrK.jpg?s=128&g=1", "display_name": "Caleb Anthony", "link": "https://stackoverflow.com/users/6646558/caleb-anthony"}, "is_accepted": true, "score": 1, "last_activity_date": 1473889207, "creation_date": 1473889207, "answer_id": 39500043, "question_id": 39499954, "link": "https://stackoverflow.com/questions/39499954/how-to-create-a-circle-with-divided-borders-in-css-and-javascript/39500043#39500043", "title": "How to create a circle with divided borders in CSS and Javascript?", "body": "<p>To be honest, I don't necessarily know all the calculations that went into it.</p>\n\n<p>I did some fiddling, and here's a modified version that you can plug any number into and it'll create a circle with that many slices.</p>\n\n<p>Essentially, I took all the instances of <code>8</code> and then of <code>4</code> and replaced them with new numbers, just using a new argument of <code>num</code> and the following variables:</p>\n\n<p><strong>JavaScript</strong></p>\n\n<pre><code>size = num\nhSize = num / 2\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/oh7u6je2/\" rel=\"nofollow\">JSFiddle</a></p>\n"}], "owner": {"reputation": 560, "user_id": 4162438, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0f27bd7c469458cc1fe5acbbc99321b3?s=128&d=identicon&r=PG&f=1", "display_name": "blazerix", "link": "https://stackoverflow.com/users/4162438/blazerix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 39500043, "answer_count": 1, "score": 1, "last_activity_date": 1473889207, "creation_date": 1473888703, "question_id": 39499954, "link": "https://stackoverflow.com/questions/39499954/how-to-create-a-circle-with-divided-borders-in-css-and-javascript", "title": "How to create a circle with divided borders in CSS and Javascript?", "body": "<p>So I'm brand new to HTML/CSS and Javascript. I've gone through codeacademy's tutorials but found that they were too basic and did not help with the task that I have to accomplish.</p>\n\n<p>What I basically am trying to do is create a circle with 12 divided parts in the border. The closest thing that I found to what I want is the following:</p>\n\n<p><a href=\"http://jsfiddle.net/hywrc3qv/\" rel=\"nofollow\">http://jsfiddle.net/hywrc3qv/</a></p>\n\n<pre><code>  ctx = $('#c')[0].getContext('2d');\n\n\nfunction update(E) {\nctx.clearRect(0, 0, 224, 224);\nif (E === false) {\n    mx = 112;\n    my = 112;\n} else {\n    mx = E.pageX - $('#c').offset().left;\n    my = E.pageY - $('#c').offset().top;\n}\n\nmangle = (-Math.atan2(mx-112, my-112)+Math.PI*2.5)%(Math.PI*2);\nmradius = Math.sqrt(Math.pow(mx - 112, 2) + Math.pow(my - 112, 2));\n\n$('#i').val(\"Not over any region\");\n$('#link').attr('href', '');\nfor (i = 0; i &lt; 8; i++) {\n    angle = -Math.PI / 8 + i * (Math.PI / 4);\n\n    if (((mangle &gt; angle &amp;&amp; mangle &lt; (angle + Math.PI / 4)) || (mangle &gt; Math.PI*15/8 &amp;&amp; i==0)) &amp;&amp; mradius&lt;=112 &amp;&amp; mradius&gt;=69) {\n        ctx.fillStyle=\"#5a5a5a\";\n        $('#i').val(\"In region \"+i);\n        $('#link').attr('href', '#'+i);\n    } else {\n        ctx.fillStyle=\"#4c4c4c\";\n    }\n\n    ctx.beginPath();\n    ctx.moveTo(112, 112);\n    //ctx.lineTo(112+Math.cos(angle)*112, 112+Math.sin(angle)*112);\n    ctx.arc(112, 112, 112, angle, angle + Math.PI / 4, false);\n    ctx.lineTo(112, 112);\n    ctx.fill();\n\n\n}\n\nctx.fillStyle = \"#f2f2f2\";\nctx.beginPath();\nctx.arc(112, 112, 69, 0, 2 * Math.PI, false);\nctx.fill();\n}\n\nupdate(false);\n</code></pre>\n\n<p>Except that it is divided into 8 parts. I'm having some trouble understanding the calculations and how it would be possible to access each divided segment and change the colour (or even animate it).</p>\n\n<p>Could someone please point me in the right direction?</p>\n"}, {"tags": ["javascript", "html", "json"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1473888519, "post_id": 39499892, "comment_id": 66317369, "body": "Any errors in the Javascript console?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1473888617, "post_id": 39499892, "comment_id": 66317424, "body": "You probably shouldn&#39;t use <code>document.write()</code> in an asynchronous callback function."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1473888674, "post_id": 39499892, "comment_id": 66317447, "body": "See <a href=\"http://stackoverflow.com/questions/8656509/document-write-in-jsonp-callback\" title=\"document write in jsonp callback\">stackoverflow.com/questions/8656509/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 2734, "user_id": 3234, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5440aff880867b4167e751edd90af9ee?s=128&d=identicon&r=PG", "display_name": "Will", "link": "https://stackoverflow.com/users/3234/will"}, "is_accepted": false, "score": 0, "last_activity_date": 1473889459, "creation_date": 1473889459, "answer_id": 39500098, "question_id": 39499892, "link": "https://stackoverflow.com/questions/39499892/trying-to-parse-json-data-from-url-api/39500098#39500098", "title": "Trying to parse JSON data from url api", "body": "<p>Looks like the server doesn't allow CORS.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function sendRequest(callback) {\r\n    var xmlHttp = new XMLHttpRequest();\r\n    xmlHttp.onreadystatechange = requestHandler;\r\n    xmlHttp.open('GET', 'https://api.uclassify.com/v1/uclassify/sentiment/classify/?readKey=zp3PVGoy6XnZ&amp;text=hello', true);\r\n    xmlHttp.setRequestHeader('content-type', 'application/json');\r\n    xmlHttp.send();\r\n\r\n    function requestHandler() {\r\n        if (xmlHttp.readyState === 4) {\r\n            if (xmlHttp.status === 200) {\r\n                var response = JSON.parse(xmlHttp.responseText);\r\n                if (2 === response.status) {\r\n                    if (callback) return callback(null, responseText);\r\n                } else {\r\n                    if (callback) return callback(new Error(response.statusText), null);\r\n                }\r\n            } else {\r\n                if (callback) return callback(new Error(xmlHttp.statusText || 'HTTP STATUS ' + xmlHttp.status), null);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nwindow.onload = function() {\r\n    sendRequest(function(err, response) {\r\n        var output = document.querySelector('#output');\r\n        if (err) return output.innerHTML = err;\r\n        output.innerHTML = JSON.stringify(response);\r\n    });\r\n};</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"//cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;div class=\"container\" id=\"output\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 6806296, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SE_CCTZ0hUk/AAAAAAAAAAI/AAAAAAAAABM/44K1C_ZXvfo/photo.jpg?sz=128", "display_name": "Alex Ballas", "link": "https://stackoverflow.com/users/6806296/alex-ballas"}, "is_accepted": false, "score": 0, "last_activity_date": 1473889601, "creation_date": 1473889601, "answer_id": 39500128, "question_id": 39499892, "link": "https://stackoverflow.com/questions/39499892/trying-to-parse-json-data-from-url-api/39500128#39500128", "title": "Trying to parse JSON data from url api", "body": "<p>Try checking your browser developer tools and check for any suspicious messages. This is what I got.</p>\n\n<p><code>XMLHttpRequest cannot load https://api.uclassify.com/v1/uclassify/sentiment/classify/?readKey=zp3PVGoy6XnZ&amp;text=hello. Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource. Origin 'http://localhost' is therefore not allowed access. The response had HTTP status code 405.</code></p>\n\n<p>Please refer to <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS\" rel=\"nofollow\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS</a> for more details.</p>\n\n<blockquote>\n  <p>A resource makes a cross-origin HTTP request when it requests a\n  resource from a different domain than the one which the first resource\n  itself serves. For example, an HTML page served from\n  <a href=\"http://domain-a.com\" rel=\"nofollow\">http://domain-a.com</a> makes an  src request for\n  <a href=\"http://domain-b.com/image.jpg\" rel=\"nofollow\">http://domain-b.com/image.jpg</a>. Many pages on the web today load\n  resources like CSS stylesheets, images and scripts from separate\n  domains.</p>\n  \n  <p>For security reasons, browsers restrict cross-origin HTTP requests\n  initiated from within scripts.  For example, XMLHttpRequest follows\n  the same-origin policy. So, a web application using XMLHttpRequest\n  could only make HTTP requests to its own domain. To improve web\n  applications, developers asked browser vendors to allow XMLHttpRequest\n  to make cross-domain requests.</p>\n</blockquote>\n"}], "owner": {"reputation": 53, "user_id": 6829496, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c36971442c7a4343a00a0cabfad9da26?s=128&d=identicon&r=PG&f=1", "display_name": "SlazyBlade", "link": "https://stackoverflow.com/users/6829496/slazyblade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 494, "favorite_count": 0, "closed_date": 1473889928, "answer_count": 2, "score": 0, "last_activity_date": 1473889601, "creation_date": 1473888427, "question_id": 39499892, "link": "https://stackoverflow.com/questions/39499892/trying-to-parse-json-data-from-url-api", "closed_reason": "Duplicate", "title": "Trying to parse JSON data from url api", "body": "<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta charset=\"UTF-8\"&gt;\n&lt;title&gt;test&lt;/title&gt;\n&lt;script src=\"jquery.js\"&gt;&lt;/script&gt;\n&lt;script language=\"JavaScript\" type=\"text/javascript\" src=\"/js/jquery-1.2.6.min.js\"&gt;&lt;/script&gt;\n&lt;script language=\"JavaScript\" type=\"text/javascript\" src=\"/js/jquery-ui-personalized-1.5.2.packed.js\"&gt;&lt;/script&gt;\n&lt;script language=\"JavaScript\" type=\"text/javascript\" src=\"/js/sprinkle.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    $(document).ready(function() {\n    $.getJSON('https://api.uclassify.com/v1/uclassify/sentiment/classify/?readKey=zp3PVGoy6XnZ&amp;text=hello', function(Results) {\ndocument.write(Results.negative);\n});\n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I donot know why the code is not getting executed this is the first time i am trying to do this and have no clue what to do.</p>\n"}, {"tags": ["javascript", "angularjs"], "answers": [{"comments": [{"owner": {"reputation": 947, "user_id": 991144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-pxClVFjgrJ0/AAAAAAAAAAI/AAAAAAAAAFw/F-Jv8y-XbTU/photo.jpg?sz=128", "display_name": "David Findlay", "link": "https://stackoverflow.com/users/991144/david-findlay"}, "edited": false, "score": 0, "creation_date": 1473890784, "post_id": 39500022, "comment_id": 66318205, "body": "Thanks for that. I&#39;ve changed the initial declaration to this below, but still get the same error: angular.module(&#39;eprogram2&#39;, [&#39;ui.bootstrap&#39;, &#39;eprogram2.filters&#39;, &#39;eprogram2.services&#39;, &#39;eprogram2.directives&#39;, &#39;ngRoute&#39;]).       config([&#39;$routeProvider&#39;, function($routeProvider) {"}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "reply_to_user": {"reputation": 947, "user_id": 991144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-pxClVFjgrJ0/AAAAAAAAAAI/AAAAAAAAAFw/F-Jv8y-XbTU/photo.jpg?sz=128", "display_name": "David Findlay", "link": "https://stackoverflow.com/users/991144/david-findlay"}, "edited": false, "score": 1, "creation_date": 1473890983, "post_id": 39500022, "comment_id": 66318260, "body": "also doesn&#39;t look like your controllers are being assigned to any module and therefore not available in the app"}, {"owner": {"reputation": 947, "user_id": 991144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-pxClVFjgrJ0/AAAAAAAAAAI/AAAAAAAAAFw/F-Jv8y-XbTU/photo.jpg?sz=128", "display_name": "David Findlay", "link": "https://stackoverflow.com/users/991144/david-findlay"}, "edited": false, "score": 0, "creation_date": 1473892577, "post_id": 39500022, "comment_id": 66318713, "body": "Ok. I&#39;ve now declared it as a controller by using eprogram2.controller(&#39;menuCtrl&#39;, controllers.menuCtrl). Had to also add an assignment of the module to a variable eprogram2. Thanks for the help."}], "tags": [], "owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "is_accepted": true, "score": 1, "last_activity_date": 1473889752, "last_edit_date": 1473889752, "creation_date": 1473889085, "answer_id": 39500022, "question_id": 39499889, "link": "https://stackoverflow.com/questions/39499889/cant-find-controller-from-html/39500022#39500022", "title": "Can&#39;t Find Controller from HTML", "body": "<p>You have 2 declarations for <code>module('eprogram2')</code> .</p>\n\n<p>You can only declare a module once.</p>\n\n<p>Remove:</p>\n\n<pre><code>angular.module('eprogram2', ['ui.bootstrap']);\n</code></pre>\n\n<p>and add <code>'ui.bootstrap'</code> dependency to the initial declaration.</p>\n\n<p>On a side note it looks like the seed you are using is fairly old. I would suggest following <a href=\"https://github.com/johnpapa/angular-styleguide/blob/master/a1/README.md#style-y001\" rel=\"nofollow\">John Papa's style guide</a> and the <strong>rule of 1</strong> and have one component per file. You will appreciate it in the long run.</p>\n\n<p>The idea of grouping controllers into controller modules and directives into directive modules has long been superseded with grouping features into modules. They become a lot more portable that way</p>\n"}], "owner": {"reputation": 947, "user_id": 991144, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-pxClVFjgrJ0/AAAAAAAAAAI/AAAAAAAAAFw/F-Jv8y-XbTU/photo.jpg?sz=128", "display_name": "David Findlay", "link": "https://stackoverflow.com/users/991144/david-findlay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 467, "favorite_count": 0, "accepted_answer_id": 39500022, "answer_count": 1, "score": -1, "last_activity_date": 1473889752, "creation_date": 1473888423, "question_id": 39499889, "link": "https://stackoverflow.com/questions/39499889/cant-find-controller-from-html", "title": "Can&#39;t Find Controller from HTML", "body": "<p>I'm working with a Play framwork project using angular-seed project as a basis. It creates an array of controllers and passes them into the angularjs instance I guess, somewhat different to other tutorials I've seen. When I try to link a div to the controller the controller function isn't found:</p>\n\n<pre><code>angular.js:13920 Error: [ng:areq] Argument 'menuCtrl' is not a function, got undefined\n</code></pre>\n\n<p>Here's how I link in the controller:</p>\n\n<pre><code>&lt;div id=\"wrapper\" class=\"row row-offcanvas row-offcanvas-left\" ng-controller=\"menuCtrl\" uib-collapse=\"showMenu\" horizontal&gt;\n\n      &lt;div id=\"sidebar-wrapper\" class=\"col-xs-6 col-sm-3 sidebar-offcanvas\" ng-show=\"menuOpen\" role=\"navigation\"&gt;\n\n        &lt;ul class=\"nav nav-pills nav-stacked\"&gt;\n            &lt;li&gt;&lt;a href=\"#/view1\"&gt;view1&lt;/a&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;a href=\"#/view2\"&gt;view2&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n\n      &lt;/div&gt;\n\n      &lt;div id=\"page-content-wrapper\" class=\"col-xs-12 col-sm-9\"&gt;\n\n        &lt;div ng-view&gt;&lt;/div&gt;\n\n        &lt;div&gt;Angular seed app: v&lt;span app-version&gt;&lt;/span&gt;&lt;/div&gt;\n\n      &lt;/div&gt;\n\n  &lt;/div&gt;\n</code></pre>\n\n<p>Here's the main.js:</p>\n\n<pre><code>/*global require, requirejs */\n\n'use strict';\n\nrequirejs.config({\n  paths: {\n    'angular': ['../lib/angularjs/angular'],\n    'angular-route': ['../lib/angularjs/angular-route'],\n    'ui-bootstrap':['../lib/angular-ui-bootstrap/ui-bootstrap']\n  },\n  shim: {\n    'angular': {\n      exports : 'angular'\n    },\n    'angular-route': {\n      deps: ['angular'],\n      exports : 'angular'\n    },\n      'ui-bootstrap': {\n          deps: ['angular'],\n          exports: 'ui-bootstrap'\n      }\n  }\n});\n\nrequire(['angular', './controllers', './directives', './filters', './services', 'angular-route', \"ui-bootstrap\"],\n  function(angular, controllers) {\n\n    // Declare app level module which depends on filters, and services\n\n    angular.module('eprogram2', ['eprogram2.filters', 'eprogram2.services', 'eprogram2.directives', 'ngRoute']).\n      config(['$routeProvider', function($routeProvider) {\n        $routeProvider.when('/view1', {templateUrl: 'partials/partial1.html', controller: controllers.MyCtrl1});\n        $routeProvider.when('/view2', {templateUrl: 'partials/partial2.html', controller: controllers.MyCtrl2});\n        $routeProvider.otherwise({redirectTo: '/view1'});\n      }]);\n\n    angular.module('eprogram2', ['ui.bootstrap']);\n\n    angular.bootstrap(document, ['eprogram2']);\n\n\n  });\n</code></pre>\n\n<p>and the controller.js:</p>\n\n<pre><code>'use strict';\n\ndefine(function() {\n\n    /* Controllers */\n\n    var controllers = {};\n\n    controllers.MyCtrl1 = function() {}\n    controllers.MyCtrl1.$inject = [];\n\n    controllers.MyCtrl2 = function() {}\n    controllers.MyCtrl2.$inject = [];\n\n    controllers.menuCtrl = function($scope, $window) {\n        $scope.menuOpen = false;\n\n        console.log(\"MenuCtrl\");\n\n        // Detect if mobile portrait screen size\n        $scope.is_mobile = ($window.innerWidth &lt;= 480);\n\n        if ($scope.isMobile) {\n            $scope.menuOpen = false;\n            console.log(\"mobile detected - close menu\")\n        } else {\n            $scope.menuOpen = true;\n            console.log(\"not mobile - open menu\")\n        }\n\n    }\n    controllers.menuCtrl.$inject = ['$scope', '$window'];\n\n    return controllers;\n\n});\n</code></pre>\n\n<p>I've tried using the template project's controllers and mine but no go. The routing instructions find their controllers no problem in main.js, but the controllers don't seem to be exposed to the HTML page. I've tried:</p>\n\n<p>eprogram2.controllers.menuCtrl\ncontrollers.menuCtrl\neprogram2.menuCtrl</p>\n\n<p>formats as well, but all return the same not a function, got undefined message. Any suggestions about what my boneheaded mistake is? </p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "ajax"], "comments": [{"owner": {"reputation": 1235, "user_id": 6339275, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/036f9b2818faded4fe0644037f914100?s=128&d=identicon&r=PG&f=1", "display_name": "Aya Salama", "link": "https://stackoverflow.com/users/6339275/aya-salama"}, "edited": false, "score": 0, "creation_date": 1473888786, "post_id": 39499883, "comment_id": 66317493, "body": "you shouldn&#39;t give 2 elements the same id"}, {"owner": {"reputation": 510, "user_id": 5402638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dd419ab6b1b102840ac729eceafefd2?s=128&d=identicon&r=PG", "display_name": "johnniebenson", "link": "https://stackoverflow.com/users/5402638/johnniebenson"}, "edited": false, "score": 0, "creation_date": 1473888807, "post_id": 39499883, "comment_id": 66317498, "body": "Please note that you are using two elements with the same ID (&quot;title&quot;).  You should change these to classes (be sure to update your selectors)."}, {"owner": {"reputation": 2562, "user_id": 2464634, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/05eca66241d73ec89bea6432ad7bcd61?s=128&d=identicon&r=PG&f=1", "display_name": "Preston S", "link": "https://stackoverflow.com/users/2464634/preston-s"}, "edited": false, "score": 0, "creation_date": 1473889594, "post_id": 39499883, "comment_id": 66317784, "body": "Consider using <a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Using_data_attributes\" rel=\"nofollow noreferrer\">data attributes</a> for adding additional data to element rather than using the id attribute.  <code>&lt;button class=&quot;btn btn-default&quot; data-true-name=&quot;This is the real title&quot;&gt;NAME&lt;&#47;title&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1962, "user_id": 1172363, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9a736571124901b75e8b005ab49aaf77?s=128&d=identicon&r=PG", "display_name": "Pipe", "link": "https://stackoverflow.com/users/1172363/pipe"}, "is_accepted": true, "score": 1, "last_activity_date": 1473888616, "creation_date": 1473888616, "answer_id": 39499929, "question_id": 39499883, "link": "https://stackoverflow.com/questions/39499883/how-to-change-a-string-within-a-div-that-your-selector-is-in-with-jquery/39499929#39499929", "title": "How to change a string within a div that your selector is in with JQuery?", "body": "<p>Have you tried <code>$(this).siblings(\"p\")</code>\nThis will select the <code>&lt;p&gt;</code> above the button</p>\n"}, {"tags": [], "owner": {"reputation": 2709, "user_id": 713797, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/esqVC.jpg?s=128&g=1", "display_name": "sidarcy", "link": "https://stackoverflow.com/users/713797/sidarcy"}, "is_accepted": false, "score": 1, "last_activity_date": 1473888663, "creation_date": 1473888663, "answer_id": 39499943, "question_id": 39499883, "link": "https://stackoverflow.com/questions/39499883/how-to-change-a-string-within-a-div-that-your-selector-is-in-with-jquery/39499943#39499943", "title": "How to change a string within a div that your selector is in with JQuery?", "body": "<p>Have you tried jquery .prev()</p>\n\n<p><a href=\"https://api.jquery.com/prev/\" rel=\"nofollow\">https://api.jquery.com/prev/</a></p>\n\n<pre><code>$('.btn.btn-default').on('click', function() {\n    var desired_name = $(this).attr('id')\n    $(this).prev().html(desired_name);\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18839, "user_id": 4305494, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/nVRhv.jpg?s=128&g=1", "display_name": "Ricky", "link": "https://stackoverflow.com/users/4305494/ricky"}, "is_accepted": false, "score": 0, "last_activity_date": 1473888687, "creation_date": 1473888687, "answer_id": 39499951, "question_id": 39499883, "link": "https://stackoverflow.com/questions/39499883/how-to-change-a-string-within-a-div-that-your-selector-is-in-with-jquery/39499951#39499951", "title": "How to change a string within a div that your selector is in with JQuery?", "body": "<p>You can use the jQuery method <code>siblings()</code> to select the <code>&lt;p&gt;</code> element inside your <code>&lt;div&gt;</code> container.</p>\n\n<p>However I recommend using a class as a unique selector inside your container.</p>\n\n<hr>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.btn.btn-default').on('click', function() {\r\n  $(this).siblings(\".desired-name\").text($(this).attr('id'));\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div&gt;\r\n  &lt;p class=\"desired-name\"&gt;Temporary Button Title That Should be 'true_name1'&lt;/p&gt;\r\n  &lt;button class=\"btn btn-default\" id=\"true_name1\"&gt;NAME&lt;/button&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;div&gt;\r\n  &lt;p class=\"desired-name\"&gt;Temporary Button Title That Should be 'true_name1'&lt;/p&gt;\r\n  &lt;button class=\"btn btn-default\" id=\"true_name2\"&gt;NAME&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 510, "user_id": 5402638, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dd419ab6b1b102840ac729eceafefd2?s=128&d=identicon&r=PG", "display_name": "johnniebenson", "link": "https://stackoverflow.com/users/5402638/johnniebenson"}, "is_accepted": false, "score": 0, "last_activity_date": 1473888882, "creation_date": 1473888882, "answer_id": 39499982, "question_id": 39499883, "link": "https://stackoverflow.com/questions/39499883/how-to-change-a-string-within-a-div-that-your-selector-is-in-with-jquery/39499982#39499982", "title": "How to change a string within a div that your selector is in with JQuery?", "body": "<p>Change the ID's to classes for starters.  Then target them like this:</p>\n\n<pre><code>$('.btn.btn-default').on('click', function() {\n  var desired_name = $(this).attr('id');\n  $(this).prev(\".title\").text(desired_name);\n});\n</code></pre>\n"}], "owner": {"reputation": 4136, "user_id": 2850808, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8f08107c3227db4da8ed3b1619a0df99?s=128&d=identicon&r=PG&f=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/2850808/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 1, "accepted_answer_id": 39499929, "answer_count": 4, "score": 0, "last_activity_date": 1473888882, "creation_date": 1473888387, "last_edit_date": 1495540304, "question_id": 39499883, "link": "https://stackoverflow.com/questions/39499883/how-to-change-a-string-within-a-div-that-your-selector-is-in-with-jquery", "title": "How to change a string within a div that your selector is in with JQuery?", "body": "<p>How do you change the name of text within a div that your selector is inside of? In other words, I'd like to click on a button and change the text of the text above the button (within the same div).</p>\n\n<p>For example, in my html, there is a button and a title above it. Once the button is clicked, I'd like the title above it to change to the id of the button. </p>\n\n<p>This problem is similar to <a href=\"https://stackoverflow.com/questions/6933763/how-do-i-select-item-with-class-within-a-div-in-jquery\">this question</a>, but I'm having difficulty changing the text within the div that the selector is in. </p>\n\n<p>Below is my attempt to grab the id of the button, and change the text within the div container. </p>\n\n<p>Javascript (my attempt) (codepen <a href=\"http://codepen.io/chriscruz/pen/dprWda?editors=1010\" rel=\"nofollow noreferrer\">here</a>):</p>\n\n<pre><code>$('.btn.btn-default').on('click', function() {\n  var desired_name = $(this).attr('id')\n  $('#title').find($(this)).html(desired_name);\n});\n</code></pre>\n\n<p>HTML</p>\n\n<pre><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;div&gt;\n&lt;p id=\"title\"&gt;Temporary Button Title That Should be 'true_name1'&lt;/p&gt;\n&lt;button class=\"btn btn-default\"  id=\"true_name1\"&gt;NAME&lt;/button&gt;\n&lt;/div&gt;\n\n\n&lt;div&gt;\n&lt;p id=\"title\"&gt;Temporary Button Title That Should be 'true_name1'&lt;/p&gt;\n&lt;button class=\"btn btn-default\"  id=\"true_name2\"&gt;NAME&lt;/button&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "macos", "mongodb", "google-chrome"], "comments": [{"owner": {"reputation": 918, "user_id": 6646558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YOkrK.jpg?s=128&g=1", "display_name": "Caleb Anthony", "link": "https://stackoverflow.com/users/6646558/caleb-anthony"}, "edited": false, "score": 0, "creation_date": 1473888451, "post_id": 39499876, "comment_id": 66317340, "body": "Have you tried doing <code>npm update</code> just to make sure things are all updated?"}, {"owner": {"reputation": 555, "user_id": 6785719, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/81e5943f52540ee336f631da4ffd6f53?s=128&d=identicon&r=PG&f=1", "display_name": "Weiheng Li", "link": "https://stackoverflow.com/users/6785719/weiheng-li"}, "reply_to_user": {"reputation": 918, "user_id": 6646558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YOkrK.jpg?s=128&g=1", "display_name": "Caleb Anthony", "link": "https://stackoverflow.com/users/6646558/caleb-anthony"}, "edited": false, "score": 0, "creation_date": 1473893510, "post_id": 39499876, "comment_id": 66318988, "body": "I just tried that, but useless"}], "answers": [{"comments": [{"owner": {"reputation": 2159, "user_id": 973364, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/FuK7N.jpg?s=128&g=1", "display_name": "Eliot", "link": "https://stackoverflow.com/users/973364/eliot"}, "edited": false, "score": 7, "creation_date": 1496414834, "post_id": 39501777, "comment_id": 75667285, "body": "Editing anything under node_modules is a nasty hack."}, {"owner": {"reputation": 71, "user_id": 4403459, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-P51xj3G6Gok/AAAAAAAAAAI/AAAAAAAAACA/Sz8mRWb3Khs/photo.jpg?sz=128", "display_name": "Dragos", "link": "https://stackoverflow.com/users/4403459/dragos"}, "edited": false, "score": 2, "creation_date": 1503857499, "post_id": 39501777, "comment_id": 78774465, "body": "I would not recommend changing modules. I deploy to Heroku and all the modules get installed by reading package.json."}], "tags": [], "owner": {"reputation": 555, "user_id": 6785719, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/81e5943f52540ee336f631da4ffd6f53?s=128&d=identicon&r=PG&f=1", "display_name": "Weiheng Li", "link": "https://stackoverflow.com/users/6785719/weiheng-li"}, "is_accepted": true, "score": 11, "last_activity_date": 1473901459, "creation_date": 1473901459, "answer_id": 39501777, "question_id": 39499876, "link": "https://stackoverflow.com/questions/39499876/error-cannot-find-module-build-release-bson-on-mac/39501777#39501777", "title": "Error: Cannot find module &#39;../build/Release/bson&#39; on Mac", "body": "<p>I find in node_modules\\bson\\ext\\index.js</p>\n\n<p>and change path on 10th line</p>\n\n<p><code>bson = require('../build/Release/bson');</code> to <code>bson = require('bson');</code></p>\n"}, {"tags": [], "owner": {"reputation": 47, "user_id": 5746932, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Rgg8-51C_nQ/AAAAAAAAAAI/AAAAAAAADDo/YHgKbs3jyvc/photo.jpg?sz=128", "display_name": "Benji Friedman", "link": "https://stackoverflow.com/users/5746932/benji-friedman"}, "is_accepted": false, "score": -1, "last_activity_date": 1497393808, "creation_date": 1497393808, "answer_id": 44532736, "question_id": 39499876, "link": "https://stackoverflow.com/questions/39499876/error-cannot-find-module-build-release-bson-on-mac/44532736#44532736", "title": "Error: Cannot find module &#39;../build/Release/bson&#39; on Mac", "body": "<p>You can try adding mongoose to the dependency list in the package.json file, or also doing >npm install mongoose in the project folder.</p>\n"}], "owner": {"reputation": 555, "user_id": 6785719, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/81e5943f52540ee336f631da4ffd6f53?s=128&d=identicon&r=PG&f=1", "display_name": "Weiheng Li", "link": "https://stackoverflow.com/users/6785719/weiheng-li"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6775, "favorite_count": 3, "accepted_answer_id": 39501777, "answer_count": 2, "score": 3, "last_activity_date": 1497393808, "creation_date": 1473888363, "last_edit_date": 1495541431, "question_id": 39499876, "link": "https://stackoverflow.com/questions/39499876/error-cannot-find-module-build-release-bson-on-mac", "title": "Error: Cannot find module &#39;../build/Release/bson&#39; on Mac", "body": "<p>I am using node.js to run one app given by my professor on my chrome. Something wrong happen, but I don't know because I am a rookie. \nThe structure is as follows:</p>\n\n<pre><code>/app\n   /models\n      answers.js\n      questions.js\n      sessions.js\n      user.js\n   passport.js\n   qmanage.js\n   routes.js\n/config\n   auth.js\n   database.js\n   mcd.js\npackage.json\n/public\n   some css png fonts jpg document\nqloader.js\nserver.js\n/views\n   some ejs document\n</code></pre>\n\n<p>At first, it shows this problem:</p>\n\n<pre><code>module.js:457\n    throw err;\n    ^\n\nError: Cannot find module 'mongoose'\n    at Function.Module._resolveFilename (module.js:455:15)\n    at Function.Module._load (module.js:403:25)\n    at Module.require (module.js:483:17)\n    at require (internal/module.js:20:19)\n    at Object.&lt;anonymous&gt; (/Users/shen/Desktop/os/cse303.p2/server.js:2:16)\n    at Module._compile (module.js:556:32)\n    at Object.Module._extensions..js (module.js:565:10)\n    at Module.load (module.js:473:32)\n    at tryModuleLoad (module.js:432:12)\n    at Function.Module._load (module.js:424:3)\n</code></pre>\n\n<p>then, based on this help <a href=\"https://stackoverflow.com/questions/8623205/node-js-error-error-cannot-find-module-mongoose\">Node.js error Error: Cannot find module &#39;mongoose&#39;</a> I run <code>npm install mongoose</code> in my root path of project. Then I have those error below:</p>\n\n<pre><code>dyn143030:cse shen$ node server.js \n{ Error: Cannot find module '../build/Release/bson'\n    at Function.Module._resolveFilename (module.js:455:15)\n    at Function.Module._load (module.js:403:25)\n    at Module.require (module.js:483:17)\n    at require (internal/module.js:20:19)\n    at Object.&lt;anonymous&gt; (/Users/shen/Desktop/os/cse303.p2/node_modules/bson/ext/index.js:15:10)\n    at Module._compile (module.js:556:32)\n    at Object.Module._extensions..js (module.js:565:10)\n    at Module.load (module.js:473:32)\n    at tryModuleLoad (module.js:432:12)\n    at Function.Module._load (module.js:424:3) code: 'MODULE_NOT_FOUND' }\njs-bson: Failed to load c++ bson extension, using pure JS version\nevents.js:160\n      throw er; // Unhandled 'error' event\n      ^\n\nError: Invalid mongodb uri. Missing hostname\n    at muri (/Users/shen/Desktop/os/cse303.p2/node_modules/muri/lib/index.js:40:11)\n    at NativeConnection.Connection.open (/Users/shen/Desktop/os/cse303.p2/node_modules/mongoose/lib/connection.js:195:16)\n    at Mongoose.connect (/Users/shen/Desktop/os/cse303.p2/node_modules/mongoose/lib/index.js:212:15)\n    at Object.&lt;anonymous&gt; (/Users/shen/Desktop/os/cse303.p2/server.js:4:10)\n    at Module._compile (module.js:556:32)\n    at Object.Module._extensions..js (module.js:565:10)\n    at Module.load (module.js:473:32)\n    at tryModuleLoad (module.js:432:12)\n    at Function.Module._load (module.js:424:3)\n    at Module.runMain (module.js:590:10)\n    at run (bootstrap_node.js:394:7)\n    at startup (bootstrap_node.js:149:9)\n    at bootstrap_node.js:509:3\n</code></pre>\n\n<p>I tried to find solution from this help\n<a href=\"https://stackoverflow.com/questions/28651028/cannot-find-module-build-release-bson-code-module-not-found-js-bson\">Cannot find module &#39;../build/Release/bson&#39;] code: &#39;MODULE_NOT_FOUND&#39; } js-bson: Failed to load c++ bson extension, using pure JS version</a>\nbut it seems not my case, because I am using OS X 10.11.3 </p>\n\n<pre><code>dyn143030:cse shen$ node -v\nv6.5.0\ndyn143030:cse shen$ npm -v\n3.10.3\n</code></pre>\n\n<p>From my aspect, I think the system find bson someplace wrong, so how to modify it? Thanks! If any more information is need, please tell me.</p>\n"}, {"tags": ["javascript", "this", "console.log", "function-binding"], "comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1474063984, "post_id": 39499845, "comment_id": 66395533, "body": "Btw, Opera (the old one) had this since ages\u2026"}], "answers": [{"tags": [], "owner": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "is_accepted": false, "score": 13, "last_activity_date": 1496953764, "last_edit_date": 1496953764, "creation_date": 1473888226, "answer_id": 39499846, "question_id": 39499845, "link": "https://stackoverflow.com/questions/39499845/console-log-called-on-object-other-than-console/39499846#39499846", "title": "console.log() called on object other than console", "body": "<p><a href=\"https://web.archive.org/web/20160404005430/https://github.com/DeveloperToolsWG/console-object/blob/master/api.md\" rel=\"noreferrer\">Editor's Draft of Console API</a> used to say:</p>\n\n<blockquote>\n  <p>Logging APIs SHOULD all be callable functions allowing them to be passed as arguments to error handling callbacks, forEach methods, etc.</p>\n</blockquote>\n\n<p>This is no longer included in <a href=\"https://console.spec.whatwg.org/\" rel=\"noreferrer\">the current version of the specification</a>.</p>\n\n<p>I thought that Chrome and Node.js changed it to work like in the specification, but it seems that it worked like that even before it.</p>\n\n<p>I'm still curious when did it change and what was the reason of that.</p>\n"}, {"comments": [{"owner": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "edited": false, "score": 0, "creation_date": 1474455016, "post_id": 39606603, "comment_id": 66535672, "body": "<code>Console</code> does exist in Firefox. Also, user can pipe output of console, by simply overwriting the <code>console.log()</code> function (that&#39;s how virtual console in Stack Snippets works)."}, {"owner": {"reputation": 1109, "user_id": 5640485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c37cb1fe719e983d6054c4b88619f0?s=128&d=identicon&r=PG&f=1", "display_name": "Hin Fan Chan", "link": "https://stackoverflow.com/users/5640485/hin-fan-chan"}, "reply_to_user": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "edited": false, "score": 0, "creation_date": 1474466254, "post_id": 39606603, "comment_id": 66543405, "body": "Replacing console.log with another function is not piping.  If you can pipe console output to a file, then you can build a executable file onto the clients pc with it.  In nodeJS, you can recreate the console object at run time if you want to redirect all messages to a file or multiple files instead."}], "tags": [], "owner": {"reputation": 1109, "user_id": 5640485, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c37cb1fe719e983d6054c4b88619f0?s=128&d=identicon&r=PG&f=1", "display_name": "Hin Fan Chan", "link": "https://stackoverflow.com/users/5640485/hin-fan-chan"}, "is_accepted": false, "score": 0, "last_activity_date": 1474425119, "creation_date": 1474425119, "answer_id": 39606603, "question_id": 39499845, "link": "https://stackoverflow.com/questions/39499845/console-log-called-on-object-other-than-console/39606603#39606603", "title": "console.log() called on object other than console", "body": "<p>I don't know when the change was made, but I have an idea about why it didn't work.</p>\n\n<p>Consider the following code</p>\n\n<pre><code>callWithTest = callback =&gt; callback('test');\nvar Demo = function () {this.str = 'demo';}\nDemo.prototype.getStr = function () { return this.str;}\ndemo = new Demo ();\ndemo.getStr(); // returns 'demo'\ncallWithTest(demo.getStr); // returns undefined\nwindow.str = 'window';\ncallWithTest(demo.getStr); // returns 'window'\n</code></pre>\n\n<p>If you trace the code, you will see that when demo.getStr gets called through another function, <code>this</code> refers to <code>window</code>, and sine <code>str</code> is not defined within <code>window</code>, it returns <code>undefined</code>.  If you called it directly or bind with demo, <code>this</code> refers to demo and thus it returns 'demo'.</p>\n\n<p>In nodeJS (v6.6.0), there exists a class called Console within the console module which user can explicitly pipe logs into a file (or whatever stream a user like).  According to Node.js v6.6.0 api specification, </p>\n\n<pre><code>console = new Console(process.stdout, process.stderr);\n</code></pre>\n\n<p><code>Console</code> does not exist in browser as it isn't necessary.  The output of console only exists in a canvas used for debugging, and there are exactly one instance of it.  User can't, and should not be able to, pipe output of console to any other places as it will become a serious security issue.  Because of this, developers can do something within the log function like <code>var x = this.x || console.x</code> as there is exactly one instance of the console object.</p>\n"}], "owner": {"reputation": 69847, "user_id": 3853934, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/GtQuz.jpg?s=128&g=1", "display_name": "Micha\u0142 Per\u0142akowski", "link": "https://stackoverflow.com/users/3853934/micha%c5%82-per%c5%82akowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1214, "favorite_count": 3, "answer_count": 2, "score": 32, "last_activity_date": 1497458145, "creation_date": 1473888226, "last_edit_date": 1497113553, "question_id": 39499845, "link": "https://stackoverflow.com/questions/39499845/console-log-called-on-object-other-than-console", "title": "console.log() called on object other than console", "body": "<p>I remember that always when I wanted to pass <code>console.log</code> as a callback parameter to some function, it didn't work unless I used the <code>bind()</code> method to bind <code>console</code> to it.</p>\n\n<p>For example:</p>\n\n<pre><code>const callWithTest = callback =&gt; callback('test');\ncallWithTest(console.log); // That didn't use to work.\ncallWithTest(console.log.bind(console)); // That worked (and works) fine.\n</code></pre>\n\n<p>See <a href=\"https://stackoverflow.com/q/8904782/3853934\">Uncaught TypeError: Illegal invocation in javascript</a>.</p>\n\n<p>However, recently I noticed that <code>console.log()</code> works fine even when called on object other than console. For example:</p>\n\n<pre><code>console.log.call(null, 'test');\n</code></pre>\n\n<p>logs <code>'test'</code>.</p>\n\n<p>When and why did it change? Does the specification say anything about it?</p>\n"}, {"tags": ["javascript", "svg", "bing-maps"], "comments": [{"owner": {"reputation": 250, "user_id": 2387957, "user_type": "registered", "accept_rate": 24, "profile_image": "https://i.stack.imgur.com/yj34f.jpg?s=128&g=1", "display_name": "Junaid Shirwani", "link": "https://stackoverflow.com/users/2387957/junaid-shirwani"}, "edited": false, "score": 0, "creation_date": 1482921008, "post_id": 39499841, "comment_id": 69921537, "body": "Same issue with me. I added an id in the div element which caused the same issue."}], "answers": [{"tags": [], "owner": {"reputation": 141, "user_id": 7885007, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RnAhc.jpg?s=128&g=1", "display_name": "Semionoff", "link": "https://stackoverflow.com/users/7885007/semionoff"}, "is_accepted": false, "score": 1, "last_activity_date": 1492699341, "creation_date": 1492699341, "answer_id": 43522738, "question_id": 39499841, "link": "https://stackoverflow.com/questions/39499841/bing-maps-api-v8-pushpin-svg-uri-image/43522738#43522738", "title": "Bing Maps API v8 - pushpin SVG URI image", "body": "<p>I came across the same issue.\nIt happens because it tries to draw pushpin icons with unloaded images.</p>\n\n<p>The general idea is to preload images in JS code before using it in pushpin icons.</p>\n\n<p>I solved it by this way:</p>\n\n<ol>\n<li>I preload images to array</li>\n<li>I used canvas instead of 'svg'</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>var imageArray = [];\nvar imagesFiles = ['home_16.png', 'home_16_done.png', 'not existing.png'];\n\n    function preLoadImages(callback) {\n\n        var filesCount = imagesFiles.length;\n        for (var i = 0; i &lt; imagesFiles.length; i++) {\n           var imageObj = new Image();\n           imageObj.src = '/images/' + imagesFiles[i];\n           imageObj.name = imagesFiles[i];\n           imageObj.onload = (function (img) {\n            imageArray.push({ name: img.target.name, object: img.target });\n\n            filesCount--;\n\n            if (filesCount === 0) {\n               if (callback)\n                    callback(imageArray);\n            }});\n\n           imageObj.onerror = function () { //even image is not loaded\n\n              filesCount--;\n              if (filesCount === 0) {\n                 if (callback)\n                     callback(imageArray);\n               }};\n            }\n     }\n\n\n         ....\n\n        pushpin = new Microsoft.Maps.Pushpin(location,\n        { icon: createCanvasContent(imageArray[i], parameters[])\n        .....\n\n        function createCanvasContent(img, parameters){\n\n          var c = document.createElement('canvas');\n          c.width = img.width + 2;\n          c.height = img.height + 2;\n\n          var context = c.getContext('2d');\n\n          context.fillStyle = bgrcolor;\n          context.fillRect(0, 0, 18, 18);\n          c.style.opacity = '0.8';\n          //Draw image\n          context.drawImage(img, 1, 0, c.width - 2, c.height - 2);\n\n          return c.toDataURL();\n        }\n</code></pre>\n\n\n\n<p>You can use all features from canvas tag like \n</p>\n\n<pre><code>context.textAlign = \"center\";\ncontext.strokeText(text, x, y);\ncontext.fillStyle = 'white';\ncontext.fillText(text, x, y);\n</code></pre>\n\n\n"}], "owner": {"reputation": 1318, "user_id": 1689852, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/YjT7H.jpg?s=128&g=1", "display_name": "BernieSF", "link": "https://stackoverflow.com/users/1689852/berniesf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 794, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1492699341, "creation_date": 1473888215, "question_id": 39499841, "link": "https://stackoverflow.com/questions/39499841/bing-maps-api-v8-pushpin-svg-uri-image", "title": "Bing Maps API v8 - pushpin SVG URI image", "body": "<p>I'm trying to build a custom bing maps v8 API pushpin combining text and a small uri data image, but I get an 'Uncaught InvalidStateError: Failed to execute 'drawImage' on 'CanvasRenderingContext2D': The HTMLImageElement provided is in the 'broken' state.' error on the browser console. Any ideas?</p>\n\n<pre><code>MapOptions = { credentials: 'mycredentials', mapTypeId: Microsoft.Maps.MapTypeId.road, zoom: 10, showMapTypeSelector: true, enableInertia: false, enableClickableLogo: false, disableKeyboardInput: true, navigationBarMode: navigationBarMode.minified, showLocateMeButton: true };\n\nmap = new Microsoft.Maps.Map(document.getElementById(\"MapDIV\"), MapOptions);\n\nLayerShapes = new Microsoft.Maps.Layer();\nLayerShapes.setZIndex(101);\n\nmap.layers.insert(LayerShapes);\n\nvar svgTemplate = '&lt;svg xmlns=\"http://www.w3.org/2000/svg\" width=\"32\" height=\"32\"&gt;&lt;foreignObject width=\"100%\" height=\"100%\"&gt;&lt;div xmlns=\"http://www.w3.org/1999/xhtml\"&gt; &lt;p&gt;TEXT&lt;/p&gt; {htmlContent} &lt;/div&gt;&lt;/foreignObject&gt;&lt;/svg&gt;';\nvar customHtml = ' &lt;image width=\"32\" height=\"32\" xlink:href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAcCAYAAACUJBTQAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH3wQbECUudScMXAAAAB1pVFh0Q29tbWVudAAAAAAAQ3JlYXRlZCB3aXRoIEdJTVBkLmUHAAACGUlEQVRIx+3Wy2sTURTH8e/NTDIzaZMxadMWhyBUSheiiyo+QPpHuHIhdOfSP8GlbkXEhTv/gNau3LgRurEIUqlWU2ubh7evPEg6NjOZJHNdlIgLo11YRcj5A84Hfpx7zxFKKcUJlw7gOM6JAVLKIwTg4avbfxy4c/UJABH+Qg2QAfKfI98f48vc/CCuATJA/iEilFKq3/q98XTk2I0W5qp916/41SHhOM6xoIW5KlLK/t/K6oNbwlAdknELYSZpxTMkxrO4XoCUUv0O6gHlYkjHWxF+yyWTsKit57CGbbTMGSJWepTh05PIRof3mxLNjNP0Pdp+i9ziIyGl7BtFD1hdOqRdei5ijW2shkSvS8LAJTM2gh4JiWzvFNksFdAsA3s0Ram4TrtZJxnXCLwKWSF+CvWAt89czmffiEQ0gGYZzSuTX3tNx60Q1Pcxwyb67JUL7Jb38VsdojETz2ux8W6JqG6iJaOoGLTr98WP0fWAsZgQ849v8mnZYeriLNinwAup722RsW12cysYiRT62voGwymbbsQgMZREcMD1yzN4nkctrNEV4HbrTKeFKNeOJlFKiXtwV2ganJvKkF8rsvxiEd8P0FSTiXQa2wxJxEz2yl/QA2Mc2Qihq7NdqdE5rJAc2ufsZBbTiIIGXWXTVeCIa0glMQwh8vl7hMDHD5+Zmb7E16ZPtVrFilnsFLY42CngTDhEohbfALpF/s+4JwbyAAAAAElFTkSuQmCC\"/&gt; ';\n\nvar PinPos = new Microsoft.Maps.Location(Lat, Lng);\npin = new Microsoft.Maps.Pushpin(PinPos, { icon: svgTemplate.replace('{htmlContent}', customHtml), width: 32});\n\nLayerShapes.add(pin);\n</code></pre>\n"}, {"tags": ["javascript", "angularjs", "regex"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1473888540, "post_id": 39499830, "comment_id": 66317382, "body": "Do you require <i>exactly</i> two numbers after the dot, or any amount of numbers?"}, {"owner": {"reputation": 1652, "user_id": 3929673, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nQ9AV.jpg?s=128&g=1", "display_name": "Mark Hill", "link": "https://stackoverflow.com/users/3929673/mark-hill"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473888577, "post_id": 39499830, "comment_id": 66317403, "body": "@vlaz there can be any amount of numbers on either side"}, {"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1473888652, "post_id": 39499830, "comment_id": 66317435, "body": "So <code>.</code> is a valid input then?"}, {"owner": {"reputation": 1652, "user_id": 3929673, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nQ9AV.jpg?s=128&g=1", "display_name": "Mark Hill", "link": "https://stackoverflow.com/users/3929673/mark-hill"}, "reply_to_user": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1473888750, "post_id": 39499830, "comment_id": 66317474, "body": "@IngoB&#252;rk Yes it is"}, {"owner": {"reputation": 13481, "user_id": 1763602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/uZ8dA.gif?s=128&g=1", "display_name": "Marco Sulla", "link": "https://stackoverflow.com/users/1763602/marco-sulla"}, "edited": false, "score": 0, "creation_date": 1473889135, "post_id": 39499830, "comment_id": 66317621, "body": "I get <code>false</code> on <code>pattern.test(&quot;0.0.&quot;)</code>. Your code works."}, {"owner": {"reputation": 13481, "user_id": 1763602, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/uZ8dA.gif?s=128&g=1", "display_name": "Marco Sulla", "link": "https://stackoverflow.com/users/1763602/marco-sulla"}, "edited": false, "score": 0, "creation_date": 1473889252, "post_id": 39499830, "comment_id": 66317656, "body": "Anyway: <a href=\"http://stackoverflow.com/a/175787/1763602\">stackoverflow.com/a/175787/1763602</a>"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473890221, "post_id": 39499830, "comment_id": 66318028, "body": "By the way, would an empty string be a valid input?"}], "answers": [{"comments": [{"owner": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1473888883, "post_id": 39499968, "comment_id": 66317526, "body": "What&#39;s the point of <code>(...)+</code> for the part before the separator?"}, {"owner": {"reputation": 1051, "user_id": 3800824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZVFj.jpg?s=128&g=1", "display_name": "KrishCdbry", "link": "https://stackoverflow.com/users/3800824/krishcdbry"}, "reply_to_user": {"reputation": 15836, "user_id": 1675492, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/HsMph.jpg?s=128&g=1", "display_name": "Ingo B&#252;rk", "link": "https://stackoverflow.com/users/1675492/ingo-b%c3%bcrk"}, "edited": false, "score": 0, "creation_date": 1473888984, "post_id": 39499968, "comment_id": 66317566, "body": "Good one ! Nice observation I skipped"}], "tags": [], "owner": {"reputation": 1051, "user_id": 3800824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZVFj.jpg?s=128&g=1", "display_name": "KrishCdbry", "link": "https://stackoverflow.com/users/3800824/krishcdbry"}, "is_accepted": false, "score": 0, "last_activity_date": 1473889598, "last_edit_date": 1473889598, "creation_date": 1473888798, "answer_id": 39499968, "question_id": 39499830, "link": "https://stackoverflow.com/questions/39499830/regular-expression-still-allowing-decimal-at-the-end/39499968#39499968", "title": "Regular Expression still allowing decimal at the end", "body": "<pre><code>$scope.filterValue = function($event, value){\nvar char = String.fromCharCode($event.keyCode);\nif(value === null){\n    if(isNaN(char)){\n        $event.preventDefault();\n    }\n}else{  \n    var pattern = /^-?([0-9]{1,})(?:\\.[0-9]+)?$/;\n    if(pattern.test(value)){\n        if(isNaN(char) &amp;&amp; (value.indexOf(\".\") == value.length-1)){\n            $event.preventDefault();\n        }\n    }else{\n         $event.preventDefault();\n    }\n}\n};\n</code></pre>\n\n<p>Try this one</p>\n\n<pre><code>var regex = /^-?([0-9]{1,})(?:\\.[0-9]+)?$/;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "is_accepted": false, "score": 2, "last_activity_date": 1473890124, "last_edit_date": 1473890124, "creation_date": 1473889015, "answer_id": 39500011, "question_id": 39499830, "link": "https://stackoverflow.com/questions/39499830/regular-expression-still-allowing-decimal-at-the-end/39500011#39500011", "title": "Regular Expression still allowing decimal at the end", "body": "<p>I will reference an <a href=\"http://www.regular-expressions.info/floatingpoint.html\" rel=\"nofollow\">article on floating point and regex</a> which was written by people way smarter than me. Here is the regex suggested there:</p>\n\n<pre><code>^[-+]?[0-9]*\\.?[0-9]+$     \n</code></pre>\n\n<p>And an explanation - it defines both the optional and the mandatory input. In this case you want to have at least one digit which is the final <code>[0-9]+</code> but you also allow for more digits and an optional dot character. The regex also allows a number to start with a <code>+</code> or a <code>-</code></p>\n\n<p><a href=\"https://regex101.com/r/kK8qO1/2\" rel=\"nofollow\">See this in regex101</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var regex = /^[-+]?[0-9]*\\.?[0-9]+$/;\r\n\r\nvar test = function(input) {\r\n  console.log(\"Testing [\"+ input + \"]. Result: \" + (regex.test(input) ? \"passes\" : \"fails\"));\r\n}\r\n\r\n//valid\r\ntest(\"1\");\r\ntest(\"2.1\");\r\ntest(\"3.14\");\r\ntest(\"-4\");\r\ntest(\"+5\");\r\ntest(\".6\");\r\ntest(\"-.7\");\r\ntest(\"+.8\");\r\n\r\n//invalid\r\ntest(\"\"); // yes - empty string\r\ntest(\".\");\r\ntest(\"-\");\r\ntest(\"+\");\r\ntest(\"-.\");\r\ntest(\"+.\");\r\ntest(\"9.\");\r\ntest(\"10..1\");\r\ntest(\"11.1.2\");\r\ntest(\".12.1\");\r\ntest(\"..13\");\r\ntest(\"-.14.\");\r\ntest(\"+..15\");</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "is_accepted": false, "score": 0, "last_activity_date": 1473904140, "creation_date": 1473904140, "answer_id": 39502056, "question_id": 39499830, "link": "https://stackoverflow.com/questions/39499830/regular-expression-still-allowing-decimal-at-the-end/39502056#39502056", "title": "Regular Expression still allowing decimal at the end", "body": "<p>These regex should cover what you probably need.<br>\nThe overall assumption is there has to be input so we use<br>\nan alternation to positively check the forms.  </p>\n\n<p>This doesn't require a dot  </p>\n\n<p><code>^-?(?:\\d+(?:\\.\\d*)?|\\.\\d+)$</code>  </p>\n\n<pre><code> ^ \n -?\n (?:\n      \\d+                  # Digits \n      (?: \\. \\d* )?        # Optional  ( dot, optional ( digits ) )\n   |                     # or,\n      \\. \\d+               # Dot, digits \n )\n $\n</code></pre>\n\n<p>This requires a dot  </p>\n\n<p><code>^-?(?:\\d+\\.\\d*|\\.\\d+)$</code>  </p>\n\n<pre><code> ^ \n -?\n (?:\n      \\d+                  # Digits \n      \\. \\d*               # Dot, optional digits \n   |                     # or,\n      \\. \\d+               # Dot, digits \n )\n $\n</code></pre>\n"}], "owner": {"reputation": 1652, "user_id": 3929673, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/nQ9AV.jpg?s=128&g=1", "display_name": "Mark Hill", "link": "https://stackoverflow.com/users/3929673/mark-hill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1473904140, "creation_date": 1473888137, "last_edit_date": 1473888671, "question_id": 39499830, "link": "https://stackoverflow.com/questions/39499830/regular-expression-still-allowing-decimal-at-the-end", "title": "Regular Expression still allowing decimal at the end", "body": "<p>Hey Everyone I'm working in angular and I am trying to create a filter that just allows numbers in the format of <code>\"any amount of digits . any amount of digits\"</code> Otherwise is will prevent the entry if it's not in the format of <code>[0-9.]</code>. The pattern is still allowing numbers like this <code>000.00.</code> in the input field. </p>\n\n<p>How do I stop it from inserting that last decimal point? Thank you for your assistance ahead of time! </p>\n\n<p><strong>code</strong></p>\n\n<pre><code>$scope.filterValue = function($event, value){\n    var char = String.fromCharCode($event.keyCode);\n    if(value === null){\n        if(isNaN(char)){\n            $event.preventDefault();\n        }\n    }else{  \n        var pattern = /^-?[0-9]{0,}\\.?[0-9]{0,}$/;\n        if(pattern.test(value)){\n            if(isNaN(char) &amp;&amp; (value.indexOf(\".\") == value.length-1)){\n                $event.preventDefault();\n            }\n        }else{\n             $event.preventDefault();\n        }\n    }\n};\n</code></pre>\n"}, {"tags": ["javascript", "html", "option"], "comments": [{"owner": {"reputation": 918, "user_id": 6646558, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YOkrK.jpg?s=128&g=1", "display_name": "Caleb Anthony", "link": "https://stackoverflow.com/users/6646558/caleb-anthony"}, "edited": false, "score": 0, "creation_date": 1473888329, "post_id": 39499820, "comment_id": 66317286, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/4088467/get-the-value-in-an-input-text-box\">Get the value in an input text box</a>"}], "answers": [{"tags": [], "owner": {"reputation": 528, "user_id": 4669619, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4786954ed80039c912a8967576e07ea7?s=128&d=identicon&r=PG&f=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/4669619/ali"}, "is_accepted": false, "score": 1, "last_activity_date": 1473888220, "last_edit_date": 1495541965, "creation_date": 1473888220, "answer_id": 39499843, "question_id": 39499820, "link": "https://stackoverflow.com/questions/39499820/getting-the-value-of-input-text-which-is-created-through-javascript/39499843#39499843", "title": "Getting the value of input text which is created through javascript", "body": "<p>Plain JS:</p>\n\n<pre><code>var val = document.getElementById('othr').value\n</code></pre>\n\n<p>More info: <a href=\"https://stackoverflow.com/a/11563667/4669619\">https://stackoverflow.com/a/11563667/4669619</a></p>\n\n<p>jQuery:</p>\n\n<pre><code>var val =  = $('#othr').val();\n</code></pre>\n\n<p>More info:\n<a href=\"https://stackoverflow.com/a/15903284/4669619\">https://stackoverflow.com/a/15903284/4669619</a></p>\n"}], "owner": {"reputation": 195, "user_id": 4513833, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/6de62e92c7d1cb640298c11fd0f597d3?s=128&d=identicon&r=PG&f=1", "display_name": "Rajesh", "link": "https://stackoverflow.com/users/4513833/rajesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473888380, "creation_date": 1473888104, "question_id": 39499820, "link": "https://stackoverflow.com/questions/39499820/getting-the-value-of-input-text-which-is-created-through-javascript", "title": "Getting the value of input text which is created through javascript", "body": "<p>I have done an option / list box in html form in which if i click 'Other' option, it will display an additional text field. I create the additional text field through javascript. The code is as below</p>\n\n<pre><code>&lt;select name=\"how\" class=\"subtitle\" id=\"select\" onchange=\"showfield(this.options[this.selectedIndex].value)\" style=\"width: 200px; height:30px;\"&gt;&gt;\n                          &lt;option selected=\"true\" style=\"display:none;\"&gt;Please select&lt;/option&gt;\n                          &lt;option&gt;School&lt;/option&gt;\n                          &lt;option&gt;Consultant&lt;/option&gt;\n                          &lt;option&gt;WhatApp&lt;/option&gt;\n                          &lt;option&gt;Brochure / Poster&lt;/option&gt;\n                          &lt;option&gt;Internet&lt;/option&gt;\n                          &lt;option&gt;Other&lt;/option&gt;  \n                        &lt;/select&gt;&lt;/td&gt;\n</code></pre>\n\n<p>Java Script is as below</p>\n\n<pre><code>document.getElementById('div1').innerHTML='Other: &lt;input id=\"othr\" type=\"text\" name=\"other\" /&gt;';\n</code></pre>\n\n<p>It creates the text filed when 'Other' option is chosen. But how to get the value of other text field as the input tag is in the java script.</p>\n"}, {"tags": ["javascript", "php", "html", "security", "xss"], "comments": [{"owner": {"reputation": 17618, "user_id": 389099, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/ee5f1a84fca3c5ab8d6609c8ed3a879e?s=128&d=identicon&r=PG", "display_name": "guido", "link": "https://stackoverflow.com/users/389099/guido"}, "edited": false, "score": 0, "creation_date": 1473887664, "post_id": 39499702, "comment_id": 66317049, "body": "in the first case you are not matching the closing single quote, in the second script would not execute inside a title attribute"}, {"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 0, "creation_date": 1473887690, "post_id": 39499702, "comment_id": 66317061, "body": "Have you looked at the generated HTML? I don&#39;t think you&#39;re generating what you think you&#39;re generating."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1473888176, "post_id": 39499702, "comment_id": 66317234, "body": "<code>Is there any attack vector?</code> erm, yes - <i>everything</i> about this. You are blindly trusting user input and putting it in executable environment with no change. There is nothing about this that can be deemed safe."}, {"owner": {"reputation": 3599, "user_id": 2487517, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/cRCpa.jpg?s=128&g=1", "display_name": "Tibrogargan", "link": "https://stackoverflow.com/users/2487517/tibrogargan"}, "edited": false, "score": 0, "creation_date": 1473893212, "post_id": 39499702, "comment_id": 66318901, "body": "<code>url?t=Foo&#39; onclick=&quot;alert(1)&quot; i=&#39;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "is_accepted": true, "score": 8, "last_activity_date": 1473887997, "last_edit_date": 1473887997, "creation_date": 1473887697, "answer_id": 39499740, "question_id": 39499702, "link": "https://stackoverflow.com/questions/39499702/xss-how-is-this-safe/39499740#39499740", "title": "XSS: How is this safe?", "body": "<p>Why should it be? You'd be generating the following:</p>\n\n<ol>\n<li><code>&lt;span title='Foo\" onclick=\"alert(1)\"'&gt;Foo&lt;/span&gt;</code></li>\n<li><code>&lt;span title='&lt;script&gt;alert(1)&lt;/script&gt;'&gt;Foo&lt;/span&gt;</code></li>\n</ol>\n\n<p>Neither of which are valid html/javascript. The first one has mismatches in the quotes, so the tags are broken. The second one doesn't have javascript. it has a title attribute containing the characters <code>&lt;</code>, <code>s</code>, <code>c</code>, etc... That's not javascript. It's just some TEXT that <strong>LOOKS</strong> like javascript.</p>\n\n<p>To do XSS, whatever you inject <strong>HAS</strong> to produce valid code, otherwise it's just a syntax error for whatever environment you're injecting.</p>\n\n<p>A working example would be:</p>\n\n<pre><code>http://example.com/script.php?t='&gt;&lt;script&gt;alert('1');&lt;/script&gt;&lt;span+title='\n</code></pre>\n\n<p>which would generate</p>\n\n<pre><code>&lt;span title=''&gt;&lt;script&gt;alert('1');&lt;/script&gt;&lt;span title=''&gt;Foo&lt;/span&gt;\nxxxxxxxxxxxxx0000000000000000000000000000000000000000000xxxxxxxxxxxx\n</code></pre>\n\n<p>Where <code>x</code> represents the original document, and <code>0</code> represents what you injected.</p>\n"}, {"tags": [], "owner": {"reputation": 30057, "user_id": 693275, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OaP2u.jpg?s=128&g=1", "display_name": "Rob M.", "link": "https://stackoverflow.com/users/693275/rob-m"}, "is_accepted": false, "score": 3, "last_activity_date": 1473888073, "creation_date": 1473888073, "answer_id": 39499813, "question_id": 39499702, "link": "https://stackoverflow.com/questions/39499702/xss-how-is-this-safe/39499813#39499813", "title": "XSS: How is this safe?", "body": "<p>If you are trying to test if this is vulnerable, you need to end the single quote and close the tag, <em>then</em> add your javascript. Something like the following:</p>\n\n<pre><code>?t=xss'&gt;&lt;script&gt;alert('hi')&lt;/script&gt;&lt;span\n</code></pre>\n"}], "owner": {"reputation": 1011, "user_id": 1678067, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/83a87032b845710f850b3ff23cc0ccf0?s=128&d=identicon&r=PG", "display_name": "Tream", "link": "https://stackoverflow.com/users/1678067/tream"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 39499740, "answer_count": 2, "score": 0, "last_activity_date": 1474017144, "creation_date": 1473887500, "last_edit_date": 1474017144, "question_id": 39499702, "link": "https://stackoverflow.com/questions/39499702/xss-how-is-this-safe", "title": "XSS: How is this safe?", "body": "<p>I have following code:</p>\n\n<pre><code>echo \"&lt;span title='{$_GET[\"t\"]}'&gt;Foo&lt;/span&gt;\";\n</code></pre>\n\n<p>Obviously, this code is not XSS-Save, but when I call following URLs, no JavaScript is executed:</p>\n\n<ol>\n<li><code>url?t=Foo\" onclick=\"alert(1)\"</code></li>\n<li><code>url?t=&lt;script&gt;alert(1);&lt;/script&gt;</code></li>\n</ol>\n\n<p>Is the browser doing some magic work here? Is there any attack vector? </p>\n"}, {"tags": ["javascript", "html", "ember.js", "ember-cli", "embed-tag"], "comments": [{"owner": {"reputation": 16053, "user_id": 1458413, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bc610c6d3b002273accb42820b3be34d?s=128&d=identicon&r=PG", "display_name": "Lux", "link": "https://stackoverflow.com/users/1458413/lux"}, "edited": false, "score": 0, "creation_date": 1473966462, "post_id": 39499688, "comment_id": 66352918, "body": "Have you tried <code>src={{mediaUrl}}</code> instead of <code>src=&quot;{{mediaUrl}}&quot;</code>?"}, {"owner": {"reputation": 2243, "user_id": 3053838, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/UE4lB.jpg?s=128&g=1", "display_name": "wallop", "link": "https://stackoverflow.com/users/3053838/wallop"}, "reply_to_user": {"reputation": 16053, "user_id": 1458413, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/bc610c6d3b002273accb42820b3be34d?s=128&d=identicon&r=PG", "display_name": "Lux", "link": "https://stackoverflow.com/users/1458413/lux"}, "edited": false, "score": 0, "creation_date": 1474492328, "post_id": 39499688, "comment_id": 66558691, "body": "Yeah tried that, didn help"}], "answers": [{"tags": [], "owner": {"reputation": 6732, "user_id": 1118038, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f8069adedbe2d37460c54eac8102351b?s=128&d=identicon&r=PG", "display_name": "Dougui", "link": "https://stackoverflow.com/users/1118038/dougui"}, "is_accepted": false, "score": 2, "last_activity_date": 1481313942, "creation_date": 1481313942, "answer_id": 41068041, "question_id": 39499688, "link": "https://stackoverflow.com/questions/39499688/embed-tag-src-attribute-prepends-unsafe-in-ember-js/41068041#41068041", "title": "embed tag src attribute prepends unsafe: in ember js", "body": "<p>I had the same problem and I solved it by using this helper :</p>\n\n<pre><code>// app/helpers/safe-string.js\nimport Ember from 'ember';\n\nexport function safeString(value) {\n  return Ember.String.htmlSafe(value)\n}\n\nexport default Ember.Helper.helper(safeString);\n</code></pre>\n\n<p>You can now do :</p>\n\n<pre><code>&lt;embed src=\"{{safe-string mediaUrl}}\" type=\"{{mimeType}}\"  /&gt;\n</code></pre>\n"}], "owner": {"reputation": 2243, "user_id": 3053838, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/UE4lB.jpg?s=128&g=1", "display_name": "wallop", "link": "https://stackoverflow.com/users/3053838/wallop"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 310, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1481313942, "creation_date": 1473887418, "question_id": 39499688, "link": "https://stackoverflow.com/questions/39499688/embed-tag-src-attribute-prepends-unsafe-in-ember-js", "title": "embed tag src attribute prepends unsafe: in ember js", "body": "<p>I am trying to use an embed tag and provided a dynamic url for the src attribute</p>\n\n<pre><code>&lt;embed src=\"{{mediaUrl}}\" type=\"{{mimeType}}\"  /&gt;\n</code></pre>\n\n<p>But when the page is opened I get</p>\n\n<pre><code>&lt;embed src=\"unsafe:abc/def.mp4\" type=\"video/mp4\"  /&gt;\n</code></pre>\n\n<ul>\n<li>I changed permissions of CSP including media-src, child-src, etc </li>\n<li>I gave complete permissions(*) </li>\n<li>I removed all permissions</li>\n<li>Finally I removed \"ember-cli-content-security-policy\" altogether even then the prepending of unsafe: could not be avoided.</li>\n</ul>\n\n<p>Removing \"ember-cli-content-security-policy\" however did not block the url anymore but the url was still prepended with unsafe and because of which the video was not loaded</p>\n\n<p>What else I tried:</p>\n\n<ul>\n<li><p>Used a ember component with tag as embed and src and type attribute-binded and used html.safestring. Result: unsafe: was still prepended</p></li>\n<li><p>Added the url to the src attribute after component was rendered(did not show video even though unsafe: was not prepended because I believe embed src tag cannot be changed) </p></li>\n<li><p>Added the entire  after component was rended and now it worked. </p></li>\n</ul>\n\n<p>But this is not something I want, I want it to be part of template and not inserted dynamically</p>\n"}, {"tags": ["javascript", "scope", "addeventlistener"], "comments": [{"owner": {"reputation": 1652, "user_id": 4249059, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh5.googleusercontent.com/-mhEsNqIg4Xc/AAAAAAAAAAI/AAAAAAAADFc/3dAssL25BaY/photo.jpg?sz=128", "display_name": "Vatsal", "link": "https://stackoverflow.com/users/4249059/vatsal"}, "edited": false, "score": 0, "creation_date": 1473887205, "post_id": 39499605, "comment_id": 66316860, "body": "Is this code working? Can you share a fiddle? As far as I think  i will be one greater than the value of someTag&#39;s length after the loop finishes and it may not be working. Will be clearer if you can share a fiddle"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 2, "creation_date": 1473887864, "post_id": 39499605, "comment_id": 66317126, "body": "What do you mean? The code seems to work. Do you mean that you want to know <i>how</i> and <i>why</i> it works, or does it not work and you are asking for an explanation? Or does it work in a way you do not expect? Although the explanation for that will most likely fall within one of the former explanations. Basically, can you be more specific what you need help with."}, {"owner": {"reputation": 19, "user_id": 3758580, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002168547925/picture?type=large", "display_name": "StateOfB", "link": "https://stackoverflow.com/users/3758580/stateofb"}, "reply_to_user": {"reputation": 1652, "user_id": 4249059, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh5.googleusercontent.com/-mhEsNqIg4Xc/AAAAAAAAAAI/AAAAAAAADFc/3dAssL25BaY/photo.jpg?sz=128", "display_name": "Vatsal", "link": "https://stackoverflow.com/users/4249059/vatsal"}, "edited": false, "score": 0, "creation_date": 1473887893, "post_id": 39499605, "comment_id": 66317133, "body": "@Vatsal Thanks I just added the jsfiddle. I don&#39;t understand how the browser is running the loop more than once. Sorry any confusion."}, {"owner": {"reputation": 19, "user_id": 3758580, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002168547925/picture?type=large", "display_name": "StateOfB", "link": "https://stackoverflow.com/users/3758580/stateofb"}, "edited": false, "score": 0, "creation_date": 1473888315, "post_id": 39499605, "comment_id": 66317283, "body": "How and why it works. I want an explanation too. It seems like the browser will only load the code once, allow me to hover and click but then stop."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1473889337, "post_id": 39499605, "comment_id": 66317685, "body": "It seems like you don&#39;t understand the basic idea of an event listener. It&#39;s a function you attach to an element, and it will be executed every time the event happens to the element."}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 3758580, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002168547925/picture?type=large", "display_name": "StateOfB", "link": "https://stackoverflow.com/users/3758580/stateofb"}, "edited": false, "score": 0, "creation_date": 1473892620, "post_id": 39500119, "comment_id": 66318727, "body": "Thanks a lot, Barmar! I didn&#39;t know that a function can be a permanent change to an element"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1473889569, "creation_date": 1473889569, "answer_id": 39500119, "question_id": 39499605, "link": "https://stackoverflow.com/questions/39499605/scope-of-event-listeners-inside-loop/39500119#39500119", "title": "Scope of event Listeners inside loop", "body": "<p>When you add an event listener to an element, that's a permanent change to that element (unless you later remove it with <code>removeEventListener()</code>). The listener function will be called automatically by the browser whenever the event is triggered on the element. You only need to add the listener once, it will then react to all future occurrences of the event.</p>\n\n<p>The other thing you need to know is that within the listener function, <code>this</code> will be a reference to the element that the event was triggered on. That's how your functions are able to change the class of the paragraph you click or hover on.</p>\n"}, {"comments": [{"owner": {"reputation": 19, "user_id": 3758580, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002168547925/picture?type=large", "display_name": "StateOfB", "link": "https://stackoverflow.com/users/3758580/stateofb"}, "edited": false, "score": 0, "creation_date": 1473893310, "post_id": 39500228, "comment_id": 66318925, "body": "Thank you @Vatsal. I read the console logs and saw the 0 and 1 in the console. That made it more clear."}], "tags": [], "owner": {"reputation": 1652, "user_id": 4249059, "user_type": "registered", "accept_rate": 11, "profile_image": "https://lh5.googleusercontent.com/-mhEsNqIg4Xc/AAAAAAAAAAI/AAAAAAAADFc/3dAssL25BaY/photo.jpg?sz=128", "display_name": "Vatsal", "link": "https://stackoverflow.com/users/4249059/vatsal"}, "is_accepted": false, "score": 0, "last_activity_date": 1473890007, "creation_date": 1473890007, "answer_id": 39500228, "question_id": 39499605, "link": "https://stackoverflow.com/questions/39499605/scope-of-event-listeners-inside-loop/39500228#39500228", "title": "Scope of event Listeners inside loop", "body": "<p>First off this code is working only because you are appending the value to this and this in this case is the value you are hovering over. \nWhen you hover over p tag the code is working only because this is set to the current <strong>p</strong> tag you are hovering on. It has nothing to do with the value of i. </p>\n\n<p>See the fiddle below. </p>\n\n<p><a href=\"https://jsfiddle.net/vatsalpande/w1ao28d2/\" rel=\"nofollow\">https://jsfiddle.net/vatsalpande/w1ao28d2/</a></p>\n\n<p>Variables in javascript are function scoped which means the value of i is still available even when you are out of the loop. So when you hover over the p tag the value of i is 2 which is undefined. Please check the fiddle console logs.</p>\n\n<pre><code>var someTag = document.querySelectorAll(\"p\")\n\n//ES5\nfor (var i = 0; i &lt; someTag.length; i++) {\n\n\n  someTag[i].addEventListener('mouseover', function() {\nconsole.log(this);\nif(i == 0){\n    this.classList.add(\"someClass0\");\n}else if(i == 1){\n    this.classList.add(\"someClass1\");\n}else{\n    console.groupCollapsed(' See Information regarding variable values for mouseover');\n    console.log(someTag[i]);\n  console.log(i);\n    console.log(this);\n  console.groupEnd();\n    this.classList.add(\"someClass2\");\n}\n\n});\nsomeTag[i].addEventListener('mouseout', function() {\n if(i == 0){\n    this.classList.remove(\"someClass0\");\n}else if(i == 1){\n     this.classList.remove(\"someClass1\");\n}else{\n  console.groupCollapsed(' See Information regarding variable values for mouseout');\n    console.log(someTag[i]);\n    console.log(i);\n    console.log(this);\n    console.groupEnd();\n\n    this.classList.remove(\"someClass2\");\n }\n\n});\n\n  someTag[i].addEventListener('click', function() {\n  console.groupCollapsed(' See Information regarding variable values for click');\n    console.log(someTag[i]);\n  console.log(i);\n    console.log(this);\n  console.groupEnd();\nthis.classList.toggle(\"done\");\n})\n}\n</code></pre>\n\n<p>However with ES6, we have let keyword, which gives us block scoping and you can use variable i inside event handlers and not have to worry about managing the variable state.</p>\n\n<p><a href=\"https://jsfiddle.net/vatsalpande/53x2LdyL/\" rel=\"nofollow\">https://jsfiddle.net/vatsalpande/53x2LdyL/</a>.</p>\n\n<p>addEventListener() method registers the specified listener on the EventTarget (element) it's called on. so its called everytime any event gets fired.</p>\n"}], "owner": {"reputation": 19, "user_id": 3758580, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002168547925/picture?type=large", "display_name": "StateOfB", "link": "https://stackoverflow.com/users/3758580/stateofb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 39500119, "answer_count": 2, "score": -1, "last_activity_date": 1473890007, "creation_date": 1473887010, "last_edit_date": 1473889646, "question_id": 39499605, "link": "https://stackoverflow.com/questions/39499605/scope-of-event-listeners-inside-loop", "title": "Scope of event Listeners inside loop", "body": "<p>How is the eventListener working inside <strong>forLoop</strong>? </p>\n\n<p>The code works in the example.</p>\n\n<p>When I toggle on either paragraph it turns a lower opacity and has a strike through.\nWhen I hover on either paragraph they turn blue.</p>\n\n<p>I want to understand how this is achieved <strong>inside a for loop</strong> after the browser loads the page. I'm just trying to understand how the browser interprets this code. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var someTag = document.querySelectorAll(\"p\")\r\n\r\nfor (var i = 0; i &lt; someTag.length; i++) {\r\n\r\n\r\n  someTag[i].addEventListener('mouseover', function() {\r\n    this.classList.add(\"someClass\");\r\n  });\r\n  someTag[i].addEventListener('mouseout', function() {\r\n    this.classList.remove(\"someClass\");\r\n  });\r\n\r\n  someTag[i].addEventListener('click', function() {\r\n    this.classList.toggle(\"done\");\r\n  })\r\n\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.done {\r\n  text-decoration: line-through;\r\n  opacity: 0.5;\r\n}\r\n\r\n.someClass {\r\n  color: blue;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor\r\n  in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;\r\n&lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor\r\n  in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "reload"], "comments": [{"owner": {"reputation": 126, "user_id": 1563932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607914b5055a9462c24108b8f7542a5c?s=128&d=identicon&r=PG", "display_name": "Scott Fanetti", "link": "https://stackoverflow.com/users/1563932/scott-fanetti"}, "edited": false, "score": 0, "creation_date": 1473886940, "post_id": 39499549, "comment_id": 66316758, "body": "Do you mean you want the image menu to already be shown if you opened the menu?  I would set a cookie with a flag with menu open and then just read in the flag when the page loads."}, {"owner": {"reputation": 164, "user_id": 6796251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e785edfadec05eb3c3cd45a6813e701f?s=128&d=identicon&r=PG", "display_name": "A_D", "link": "https://stackoverflow.com/users/6796251/a-d"}, "edited": false, "score": 2, "creation_date": 1473887017, "post_id": 39499549, "comment_id": 66316785, "body": "Show us your code."}, {"owner": {"reputation": 1498, "user_id": 6302841, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6a295f0ffe1a9e331085c0ffc8b8a759?s=128&d=identicon&r=PG&f=1", "display_name": "k2snowman69", "link": "https://stackoverflow.com/users/6302841/k2snowman69"}, "edited": false, "score": 0, "creation_date": 1473887059, "post_id": 39499549, "comment_id": 66316797, "body": "A site or a snippet would be great. Also, when you say you have to reload the page, do you mean the entire div isn&#39;t being rendered when you hit back?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6561396"}, "reply_to_user": {"reputation": 164, "user_id": 6796251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e785edfadec05eb3c3cd45a6813e701f?s=128&d=identicon&r=PG", "display_name": "A_D", "link": "https://stackoverflow.com/users/6796251/a-d"}, "edited": false, "score": 0, "creation_date": 1473887720, "post_id": 39499549, "comment_id": 66317071, "body": "I added the snippet to show the code for my menu, sorry for that alt showing that I gotta fix. @ADarnal"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6561396"}, "reply_to_user": {"reputation": 1498, "user_id": 6302841, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6a295f0ffe1a9e331085c0ffc8b8a759?s=128&d=identicon&r=PG&f=1", "display_name": "k2snowman69", "link": "https://stackoverflow.com/users/6302841/k2snowman69"}, "edited": false, "score": 0, "creation_date": 1473887781, "post_id": 39499549, "comment_id": 66317099, "body": "And yes entire menu doesn&#39;t render @k2snowman69"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6561396"}, "edited": false, "score": 0, "creation_date": 1473890193, "post_id": 39499775, "comment_id": 66318015, "body": "I saw it and it works perfectly in that demo, int the first demo menu was barely visible after 1st visit to facebook and backing. But I still have the  problem on my page. I guess then maybe I did something wrong elsewhere.. @KrishCdbry"}, {"owner": {"reputation": 1051, "user_id": 3800824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZVFj.jpg?s=128&g=1", "display_name": "KrishCdbry", "link": "https://stackoverflow.com/users/3800824/krishcdbry"}, "edited": false, "score": 0, "creation_date": 1473890313, "post_id": 39499775, "comment_id": 66318050, "body": "Did you added this line : $(&#39;#follow&#39;).css(&#39;left&#39;, &#39;-50px&#39;);  becuase I tried you code in firefox and the same issue I faced like you then I found it is due to the left value so I added that line and it started working."}, {"owner": {"user_type": "does_not_exist", "display_name": "user6561396"}, "edited": false, "score": 0, "creation_date": 1473891275, "post_id": 39499775, "comment_id": 66318367, "body": "Yes I did, and the same problem again. And even the second demo is not working anymore, great. I guess it maybe since it moves -49 px on click it automatically passes the point where the link was clicked so it executes the mouseleave() too. But if I delete that click() part of jquery animation and when I click the link and come back the menu stays open so it is another problem. I appreciate your help but this just doesn&#39;t want to work for me haha."}, {"owner": {"reputation": 1051, "user_id": 3800824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZVFj.jpg?s=128&g=1", "display_name": "KrishCdbry", "link": "https://stackoverflow.com/users/3800824/krishcdbry"}, "edited": false, "score": 0, "creation_date": 1473891383, "post_id": 39499775, "comment_id": 66318403, "body": "Cool buddy ! Try hard with smile you will be able to solve it :) Cheers"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6561396"}, "edited": false, "score": 0, "creation_date": 1473891903, "post_id": 39499775, "comment_id": 66318533, "body": "Thanks. I just tried it on chrome and both demo and my page work fine. Probably because it reloads the page automatically on back button press. I think I&#39;ll just have to find a way to reload the page on backing in mozilla."}, {"owner": {"reputation": 1051, "user_id": 3800824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZVFj.jpg?s=128&g=1", "display_name": "KrishCdbry", "link": "https://stackoverflow.com/users/3800824/krishcdbry"}, "edited": false, "score": 0, "creation_date": 1473891980, "post_id": 39499775, "comment_id": 66318546, "body": "Yes &lt;META HTTP-EQUIV=&quot;Pragma&quot; CONTENT=&quot;no-cache&quot;&gt; &lt;META HTTP-EQUIV=&quot;Expires&quot; CONTENT=&quot;-1&quot;&gt;  add this to your head tags it will reload the page"}, {"owner": {"reputation": 1051, "user_id": 3800824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZVFj.jpg?s=128&g=1", "display_name": "KrishCdbry", "link": "https://stackoverflow.com/users/3800824/krishcdbry"}, "edited": false, "score": 0, "creation_date": 1473892133, "post_id": 39499775, "comment_id": 66318589, "body": "Not sure but it may work. Thanks and hope I helped you something on this. Cheers"}, {"owner": {"reputation": 1051, "user_id": 3800824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZVFj.jpg?s=128&g=1", "display_name": "KrishCdbry", "link": "https://stackoverflow.com/users/3800824/krishcdbry"}, "edited": false, "score": 0, "creation_date": 1473892460, "post_id": 39499775, "comment_id": 66318670, "body": "So you problem solved and if you are satisfied you can vote me up/mark my answer. As topic now goes to this kind of question <a href=\"http://stackoverflow.com/questions/10404038/reload-the-page-when-visited-by-clicking-back-button-in-firefox\" title=\"reload the page when visited by clicking back button in firefox\">stackoverflow.com/questions/10404038/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1051, "user_id": 3800824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZVFj.jpg?s=128&g=1", "display_name": "KrishCdbry", "link": "https://stackoverflow.com/users/3800824/krishcdbry"}, "is_accepted": true, "score": 0, "last_activity_date": 1473889725, "last_edit_date": 1473889725, "creation_date": 1473887903, "answer_id": 39499775, "question_id": 39499549, "link": "https://stackoverflow.com/questions/39499549/missing-slide-out-div-after-backing-to-the-page/39499775#39499775", "title": "Missing slide out div after backing to the page", "body": "<p>I have used your code in demo and it is working fine. I haven't seen any issue.</p>\n\n<p>Please check this one.</p>\n\n<p><a href=\"https://output.jsbin.com/muluyu/1\" rel=\"nofollow\">https://output.jsbin.com/muluyu/1</a></p>\n\n<p>If this dosen't work for you then it will be a browser related issue. Different browsers load the page differently when using the back button. Sometimes they cache the page and sometimes they reload the page. I believe still others only partially reload the page.</p>\n\n<p>So for mozilla firefox back button won't refresh the page most of the time. because of that the #follow is going left -90px and so on adding -49 everytime. So add this line. </p>\n\n<pre><code>$('#follow').css('left', '-50px');\n</code></pre>\n\n<p>After document.ready(function () { ..</p>\n\n<p>Final JS</p>\n\n<pre><code>$(document).ready(function() {\n    $('#follow').css('left', '-50px');\n    $('#follow').mouseenter(function() {\n        $(this).animate({\n            left: \"+=49px\"\n        }, 50);\n    });\n    $('#follow').mouseleave(function() {\n        $(this).animate({\n            left: \"-=49px\"\n        }, 50);\n    });\n    $('#follow').click(function() {\n        $(this).animate({\n            left: \"-=49px\"\n        }, 0);\n    });\n\n});\n</code></pre>\n\n<p>It will work for sure.</p>\n\n<p>Demo : <a href=\"https://output.jsbin.com/muluyu/2\" rel=\"nofollow\">https://output.jsbin.com/muluyu/2</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user6561396"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 39499775, "answer_count": 1, "score": 0, "last_activity_date": 1473889725, "creation_date": 1473886711, "last_edit_date": 1473888590, "question_id": 39499549, "link": "https://stackoverflow.com/questions/39499549/missing-slide-out-div-after-backing-to-the-page", "title": "Missing slide out div after backing to the page", "body": "<p>I made 'animated' slide out menu with social media icons that I added to the page which I made by followin the tutorial from Udemy. It slides out on mouseenter() and slides back on mouseeleave(). I used animate() function.</p>\n\n<p>Problem is when I click on any of the icons that lead me to another website and when I click back on my browser or my mouse buttom, my page loads but the menu is missing. I have to reload the page for menu to show up again. Is there any way to fix it so it shows automatically without reloading the page?</p>\n\n<p>Thanks a lot.</p>\n\n<p>Page loaded:\n<a href=\"https://i.stack.imgur.com/h3voq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h3voq.png\" alt=\"enter image description here\"></a></p>\n\n<p>Menu open on mouseenter():\n<a href=\"https://i.stack.imgur.com/paCQI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/paCQI.png\" alt=\"enter image description here\"></a></p>\n\n<p>Wole menu missing after backing from facebook or any other:\n<a href=\"https://i.stack.imgur.com/eIDut.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eIDut.png\" alt=\"enter image description here\"></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n        $('#follow').mouseenter(function() {\r\n            $(this).animate({\r\n                left: \"+=49px\"\r\n            }, 50);\r\n        });\r\n        $('#follow').mouseleave(function() {\r\n            $(this).animate({\r\n                left: \"-=49px\"\r\n            }, 50);\r\n        });\r\n        $('#follow').click(function() {\r\n            $(this).animate({\r\n                left: \"-=49px\"\r\n            }, 0);\r\n        });\r\n\r\n    });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#follow {\r\n\t\tposition                   : fixed;\r\n\t\tleft                       : -50px;\r\n\t\twidth                      : 70px;\r\n\t\tfloat                      : left;\r\n\t\tborder-radius              : 0px;\r\n\t\tborder-top-right-radius    : 15px;\r\n\t\tborder-bottom-right-radius : 15px;\r\n\t\tbackground-color           : #353535;\r\n}\r\n\r\n#follow #follow_id {\r\n\t\tpadding-top : 15px;\r\n\t\tlist-style: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;body id=\"final-example\"&gt;\r\n\r\n    &lt;div id=\"follow\"&gt;\r\n      &lt;ul id=\"follow_id\"&gt;\r\n        &lt;li class=\"\"&gt;&lt;a href=\"https://www.facebook.com/\"&gt;&lt;img src=\"img/facebook-logo-button.png\" alt=\"facebook\"/&gt;&lt;/a&gt;&lt;/li&gt;\r\n        &lt;li class=\"\"&gt;&lt;a href=\"https://twitter.com/?lang=en\"&gt;&lt;img src=\"img/twitter-logo-button.png\" alt=\"twitter\"/&gt;&lt;/a&gt;&lt;/li&gt;\r\n        &lt;li class=\"\"&gt;&lt;a href=\"https://www.instagram.com/\"&gt;&lt;img src=\"img/instagram-logo.png\" alt=\"instagram\"/&gt;&lt;/a&gt;&lt;/li&gt;\r\n      &lt;/ul&gt;\r\n\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The snippet looks bad beacuse the pictures are missing and the alt is showing which I gotta fix, but the problem is when I click lets say facebook icon, it loads me facebook site, then if I press back button on my browser it gets me back to my page but that entire sliding menu is missing, it doesn't even load at all on my page. I have to click reload on my broswer for that menu to show up at all and only then I can use it.</p>\n"}, {"tags": ["javascript", "csv", "tableau-api"], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 1563932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/607914b5055a9462c24108b8f7542a5c?s=128&d=identicon&r=PG", "display_name": "Scott Fanetti", "link": "https://stackoverflow.com/users/1563932/scott-fanetti"}, "is_accepted": false, "score": -1, "last_activity_date": 1473888274, "last_edit_date": 1473888274, "creation_date": 1473886656, "answer_id": 39499533, "question_id": 39499498, "link": "https://stackoverflow.com/questions/39499498/how-to-know-if-csv-downloaded/39499533#39499533", "title": "How to know if CSV downloaded?", "body": "<p>If you are loading the CSV into a new frame the frame load event will fire when it is loaded.  </p>\n\n<pre><code>$(\"#iFrameExcel\").load( function() {\n     //this fires when the frame loads\n});\n</code></pre>\n\n<p>This implies that the content-disposition of the excel document is coming in as inline and the user's browser can load it though.  Are you sure your user can load excel inline?</p>\n\n<p><a href=\"https://jsfiddle.net/wx38rz5L/3574/\" rel=\"nofollow\">https://jsfiddle.net/wx38rz5L/3574/</a></p>\n\n<p>Am I getting downvoted because I used jquery?</p>\n"}], "owner": {"reputation": 2260, "user_id": 5240970, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/16a645b64ff208b3ba9269dcf90305fd?s=128&d=identicon&r=PG&f=1", "display_name": "Kabard", "link": "https://stackoverflow.com/users/5240970/kabard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473888274, "creation_date": 1473886491, "question_id": 39499498, "link": "https://stackoverflow.com/questions/39499498/how-to-know-if-csv-downloaded", "title": "How to know if CSV downloaded?", "body": "<p>We developed a front end on top of Tableau using Javascript and Tableau API. We have a feature where a user can export to csv. We accomplish this by inserting the location of the sheet into hidden iframe as below</p>\n\n<pre><code>document.getElementById('iFrameExcel').src = \"https://server/t/project/views/view1/sheet.csv\n</code></pre>\n\n<p>I want to create some sort of a message when the download has completed but the problem is I can't find a way to know if the download has completed or not. Is there an event that Tableau api fires when the download is completed?</p>\n"}, {"tags": ["javascript", "reactjs", "redux", "react-redux", "conways-game-of-life"], "comments": [{"owner": {"reputation": 5597, "user_id": 414002, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MH8tw.jpg?s=128&g=1", "display_name": "Dhruv Kumar Jha", "link": "https://stackoverflow.com/users/414002/dhruv-kumar-jha"}, "edited": false, "score": 0, "creation_date": 1473888405, "post_id": 39499480, "comment_id": 66317317, "body": "In <code>cell.js</code>, Isn&#39;t <code>key={this.props.cellID}</code> supposed to be <code>key={this.props.key}</code> and <code>id={this.props.cellID}</code> be <code>id={this.props.id}</code>"}], "answers": [{"comments": [{"owner": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 2, "creation_date": 1473906716, "post_id": 39502303, "comment_id": 66321959, "body": "I agree with everything but one thing: there is a chance a cell component being that trivial may not gain anything from sCU (and in fact become even slower)."}, {"owner": {"reputation": 1784, "user_id": 620010, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/382403519eef53d6ca9c8775d52c29ae?s=128&d=identicon&r=PG", "display_name": "rclai", "link": "https://stackoverflow.com/users/620010/rclai"}, "reply_to_user": {"reputation": 229185, "user_id": 251311, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/b6b0ca5d4ef200ec8e3cd1fa2aefd836?s=128&d=identicon&r=PG", "display_name": "zerkms", "link": "https://stackoverflow.com/users/251311/zerkms"}, "edited": false, "score": 0, "creation_date": 1473907079, "post_id": 39502303, "comment_id": 66322026, "body": "Yeah, don&#39;t want to prematurely optimize. One should really measure the performance before doing that. Updated my answer."}, {"owner": {"reputation": 1886, "user_id": 4927657, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/17e2d11c4248f28f4c711ded2167a055?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/4927657/alejandro"}, "edited": false, "score": 0, "creation_date": 1473912218, "post_id": 39502303, "comment_id": 66323126, "body": "thanks all for the reply! I will look into this tomorrow morning."}], "tags": [], "owner": {"reputation": 1784, "user_id": 620010, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/382403519eef53d6ca9c8775d52c29ae?s=128&d=identicon&r=PG", "display_name": "rclai", "link": "https://stackoverflow.com/users/620010/rclai"}, "is_accepted": true, "score": 2, "last_activity_date": 1473907139, "last_edit_date": 1473907139, "creation_date": 1473906474, "answer_id": 39502303, "question_id": 39499480, "link": "https://stackoverflow.com/questions/39499480/game-of-life-using-react-redux/39502303#39502303", "title": "Game of Life using React-Redux", "body": "<p>I would suggest that you make your hierarchy like this. I'm going to represent the component hierarchy as a JSON-like syntax just so that you can understand:</p>\n\n<pre><code>App (smart) {\n  dispatchProps: {\n    ...gameControlActions, // gets passed into GameControls\n    onCellClick, // gets passed down to Board, and then to each Cell\n  }\n  stateProps: {\n    cells: [{\n      id: #\n      status: 'dead', // or 'alive'\n    }], // gets passed down to Board, to render cells\n    ...generationData, // gets passed down to Generation\n  }\n}\n  // Children of App\n  GameControls (dumb) // start, clear, randomize\n  Board (dumb)\n    Cells (dumb)\n  Generation (dumb)\n</code></pre>\n\n<p>When you render the Cells, you would render them like this:</p>\n\n<pre><code>&lt;Cell key={cellID} id={cellID} status={status} onClick={this.props.onCellClick} /&gt;\n</code></pre>\n\n<p>Inside the <code>Cell</code> component the <code>render</code> function would look like this and you can now get rid of <code>state</code>:</p>\n\n<pre><code>render(){\n  return (\n    &lt;td\n      className={this.props.status}\n      id={this.props.id}\n      onClick={this.props.onClick.bind(null, this.props.id)}&gt;\n    &lt;/td&gt;\n  )\n}\n</code></pre>\n\n<p>Your <code>onCellClick</code> action would simply look like this:</p>\n\n<pre><code>function onCellClick(cellId) {\n  return {\n    type: 'CELL_CLICK',\n    payload: cellId,\n  };\n}\n</code></pre>\n\n<p>You would then process that action in your reducer by toggling the <code>status</code> of that cell in your cells array (remember to return a new copy of <code>cells</code>). Also, and if necessary, you might need to make your <code>Cell</code> component extend <code>PureComponent</code>, in order to speed up the reconciliation process or to implement <code>shouldComponentUpdate</code>.</p>\n\n<p>Let me know if this doesn't make sense, or if you have questions (I think you will).</p>\n"}], "owner": {"reputation": 1886, "user_id": 4927657, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/17e2d11c4248f28f4c711ded2167a055?s=128&d=identicon&r=PG&f=1", "display_name": "Alejandro", "link": "https://stackoverflow.com/users/4927657/alejandro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 248, "favorite_count": 0, "accepted_answer_id": 39502303, "answer_count": 1, "score": 1, "last_activity_date": 1473907139, "creation_date": 1473886414, "question_id": 39499480, "link": "https://stackoverflow.com/questions/39499480/game-of-life-using-react-redux", "title": "Game of Life using React-Redux", "body": "<p>Currently I am working on <a href=\"https://www.freecodecamp.com/challenges/build-the-game-of-life\" rel=\"nofollow\">Building Game of Life in FCC</a> and I thought this would be a great project to test my knowledge on React-Redux.</p>\n\n<p>Since I am a new to Redux, I am having difficulty to understand what is a dumb component vs a smart component in this project. </p>\n\n<p>In my view, this is how I see:\n<img src=\"//discourse-user-assets.s3.amazonaws.com/original/3X/6/9/693ddf2a9b52560a4a510f5c0fbc53c03ee6e960.png\" width=\"690\" height=\"413\"></p>\n\n<p>NOTE: when I say \"Smart Component\" vs \"Dumb Component\" I simply mean that to be a \"Smart Component\" it is a container, or something that ties with the app's state, where as a \"Dumb Component\" simply means it's job is to simply render whatever it's being fed on. </p>\n\n<p>If my assumption is correct, then I am having hard time to setup the app state correctly on the cells. </p>\n\n<p>Here's what I've written so far:</p>\n\n<p><strong>component/board.js</strong></p>\n\n<pre><code>import React, { Component } from 'react';\nimport Cell from '../containers/cell'\n\nexport default class Board extends Component {\n  constructor(props){\n    super(props);\n    this.state = {height: 18, width: 40}\n    this.test = this.test.bind(this)\n  }\n  test(){\n    console.log(this.state)\n  }\n  render(){\n    let rows = [];\n    for (var i = 0; i &lt; this.state.height; i++){\n      let rowID = `row${i}`\n      let bin = []\n      for (var idx = 0; idx &lt; this.state.width; idx++){\n        let cellID = `cell${i}-${idx}`\n        bin.push(&lt;Cell key={cellID} id={cellID}/&gt;)\n      }\n      rows.push(&lt;tr key={i} id={rowID}&gt;{bin}&lt;/tr&gt;)\n    }\n    return(\n      &lt;div className=\"container\"&gt;\n        &lt;div className=\"row\"&gt;\n          &lt;div className=\"col s12 board\"&gt;&lt;/div&gt;\n            &lt;table id=\"simple-board\"&gt;\n               &lt;tbody&gt;\n                 {rows}\n               &lt;/tbody&gt;\n             &lt;/table&gt;\n          &lt;/div&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n</code></pre>\n\n<p><strong>container/cell.js</strong></p>\n\n<pre><code>import React, { Component } from 'react';\n\n// import from '../actions/index';\n// import { connect } from 'react-redux';\n// import { bindActionCreators } from 'redux';\n\n\nexport default class Cell extends Component{\n  constructor(props){\n    super(props);\n    this.state = {\n      color: 'dead'\n    };\n    this.test = this.test.bind(this);\n  }\n\n  test(){\n    this.state.color === 'dead' ? this.setState({color:'alive'}) : this.setState({color:'dead'})\n  }\n\n  render(){\n    return (\n      &lt;td\n        className={this.state.color}\n        key={this.props.cellID}\n        id={this.props.cellID}\n        onClick={this.test}&gt;\n      &lt;/td&gt;\n    )\n  }\n}\n\n// function mapDispatchToProps(dispatch){\n//   return bindActionCreators({}, dispatch)\n// }\n\n// export default connect(null,mapDispatchToProps)()\n</code></pre>\n\n<p>I'm not sure how I can approach at this point. At first I thought about having to wrap all the cells in an array and that would be the app's state, but I am not sure how to go on about that.</p>\n\n<p>Any response will be greatly appreciated</p>\n"}, {"tags": ["javascript", "algorithm", "binary-search"], "comments": [{"owner": {"reputation": 276, "user_id": 3865495, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8dba8637ad45643d71584afa590616be?s=128&d=identicon&r=PG&f=1", "display_name": "CoconutBandit", "link": "https://stackoverflow.com/users/3865495/coconutbandit"}, "edited": false, "score": 4, "creation_date": 1473886757, "post_id": 39499463, "comment_id": 66316677, "body": "It looks like you&#39;ve only tested this on one list. Performance characterizations look at how problems act on average over several different inputs. If you have a list where the item you&#39;re searching for is near the beginning, then on those types of problems, a brute force search may actually be faster. Only looking at one data point isn&#39;t enough to say one algorithm is faster than another."}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 4, "creation_date": 1473886769, "post_id": 39499463, "comment_id": 66316682, "body": "Use a large list with random data. Each loop requires &#39;more work&#39; when doing the binary searches, even if there may be far less loops overall (assuming the algorithm is correct) - Big O describes characteristics as n -&gt; infinity. Also, timing such small/non-primed runs introduces <i>lots</i> microbenchmark noise; as a quick adjustment to get better numbers, increase the data until the slowest implementation takes ~10 seconds and then there should be an obvious difference."}, {"owner": {"reputation": 736, "user_id": 2292397, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7eecf22836c7e317a67f5e00ed041d7c?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/2292397/steve"}, "edited": false, "score": 3, "creation_date": 1473887028, "post_id": 39499463, "comment_id": 66316787, "body": "Brute force is linear while BS is logarithmic, however, BS has some constant factor overhead involved that is beyond what you&#39;ll detect with such a small data set in most languages (JS seems to be one). In practical  (real-time) applications the divide and conquer approach is done until the data set gets below a certain threshold and then brute force searches are run on the smaller set. So, as others have said, you&#39;ll need to use a much larger set to see the speed enhancement. JS perf used to be a good site for running such tests, but it&#39;s been offline for a while"}, {"owner": {"reputation": 59, "user_id": 4740410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/435d615606284dba6a5a4e4974a66b17?s=128&d=identicon&r=PG", "display_name": "minijag", "link": "https://stackoverflow.com/users/4740410/minijag"}, "edited": false, "score": 0, "creation_date": 1473888047, "post_id": 39499463, "comment_id": 66317194, "body": "Im interested in the &#39;microbenchmark&#39; noise as user2864740 describes. What in the micro benchmarking make sit cost more?  I dont seem to be doing anything really different, some small math and reference setting"}, {"owner": {"reputation": 62902, "user_id": 90511, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/nmOPo.png?s=128&g=1", "display_name": "hugomg", "link": "https://stackoverflow.com/users/90511/hugomg"}, "edited": false, "score": 0, "creation_date": 1473888241, "post_id": 39499463, "comment_id": 66317261, "body": "You might want to repeat your experiments with different sized for your <code>data</code> array. One would usually expect that the binary search would have a higher constant factor but a smaller asymptotic factor so it should be slower than sequential search for small inputs and faster for the large ones."}, {"owner": {"reputation": 35084, "user_id": 585411, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/xvEpe.jpg?s=128&g=1", "display_name": "btilly", "link": "https://stackoverflow.com/users/585411/btilly"}, "edited": false, "score": 1, "creation_date": 1473896470, "post_id": 39499463, "comment_id": 66319774, "body": "Some more points.  Binary gives you 7 iterations with 3 calculations each for 21 calculations.  That&#39;s more work than you&#39;d guess.  Secondly, brute force makes good use of cache and CPU branch prediction while binary search is horrible on both.  Between these effects, it is somewhat expected that brute force is faster than binary search into lists with low hundreds of items. Also note that slice operations are <code>O(n)</code>, so your recursive version probably shouldn&#39;t do that."}, {"owner": {"reputation": 2026, "user_id": 3789665, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/38983281a7926f50843153d9e0788cdf?s=128&d=identicon&r=PG&f=1", "display_name": "greybeard", "link": "https://stackoverflow.com/users/3789665/greybeard"}, "edited": false, "score": 1, "creation_date": 1473908282, "post_id": 39499463, "comment_id": 66322278, "body": "Never invest time in trying to interpret the results of a microbenchmark result for any measurement taking less than five seconds (tra measuring work done in 5 s.). Describe <i>what</i> your binary search is to find, and what is known about the input. (I <i>think</i> subtracting <code>riskFreeRate</code> doesn&#39;t change a thing - try skipping it. Telling whether you are in a rising or falling portion doesn&#39;t require three points, but two - just continue with the &quot;half&quot; containing the higher value.) (Do not gamble, try to create value.)"}, {"owner": {"reputation": 59, "user_id": 4740410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/435d615606284dba6a5a4e4974a66b17?s=128&d=identicon&r=PG", "display_name": "minijag", "link": "https://stackoverflow.com/users/4740410/minijag"}, "edited": false, "score": 0, "creation_date": 1473960323, "post_id": 39499463, "comment_id": 66349640, "body": "I understand that my dataset is small and increasing the dataset will give me the type of performance I expect.  However, I did write a function to run the test 100000 times and give me the average of each test.  Like some people suggested, the results are what you expect.  btilly&#39;s response is the kind of answer I am looking for!  I never took computer science, so I dont have some insight some others have.  Also, thanks for the time complexity on slice(), I was thinking about it when I first put it in there, and I thought it would be O(1), but now I can see it&#39;s O(N)."}], "owner": {"reputation": 59, "user_id": 4740410, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/435d615606284dba6a5a4e4974a66b17?s=128&d=identicon&r=PG", "display_name": "minijag", "link": "https://stackoverflow.com/users/4740410/minijag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1473886330, "creation_date": 1473886330, "question_id": 39499463, "link": "https://stackoverflow.com/questions/39499463/why-is-my-binary-search-slower-than-my-brute-force", "title": "Why is my binary search slower than my brute force?", "body": "<p>The performance of my brute force and searches are</p>\n\n<ul>\n<li>Iterative Took 0.1000 milliseconds to generate: </li>\n<li>Recursive Took 0.1500 milliseconds to generate: </li>\n<li>Brute Took 0.0800 milliseconds to generate:</li>\n</ul>\n\n<p>I understand that recursive searches suffer from tail end optimization problems. (now I do at least), But I'm still not sure why the iterative binary search is still slower than my brute force.</p>\n\n<p>Here is my code, its not the most optimized, but it shouldn't be slower.\niterative and recursive only does 6-7 loops(i forget)\nand brute force has 100 loops all the time.</p>\n\n<p>I've done some googling and cant figure it out.</p>\n\n<pre><code>    data = [[0.1430903741309869,0.09099423635474843], [0.14312849662493274,0.09181153207084017], [0.1432428032314926,0.09262882778693171], [0.14343311180983973,0.09344612350302323], [0.1436991203996287,0.09426341921911474], [0.14404040960138637,0.09508071493520626], [0.14445644584780032,0.09589801065129779], [0.14494658550706505,0.09671530636738929], [0.1455100797459424,0.09753260208348079], [0.14614608006894764,0.09834989779957232], [0.14685364444133878,0.09916719351566383], [0.14763174389751746,0.09998448923175535], [0.1484792695330778,0.10080178494784686], [0.14939503977798488,0.10161908066393838], [0.15037780785006197,0.10243637638002989], [0.15142626929185626,0.10325367209612141], [0.15253906949973353,0.10407096781221292], [0.15371481116136612,0.10488826352830445], [0.15495206152626528,0.10570555924439595], [0.15624935944329402,0.10652285496048747], [0.15760522210883443,0.10734015067657898], [0.15901815147914886,0.10815744639267053], [0.16048664031018645,0.108974742108762], [0.16200917779740737,0.10979203782485353], [0.16358425479693292,0.11060933354094506], [0.16520993331004336,0.11142662925703659], [0.16688422700115874,0.11224392497312807], [0.16860568677181428,0.1130612206892196], [0.1703728829197052,0.11387851640531109], [0.17218440721942158,0.11469581212140262], [0.17403885930131519,0.11551310783749413], [0.17593071292964196,0.11633040355358565], [0.1778550568320067,0.11714769926967716], [0.17980807653937597,0.11796499498576866], [0.18178758544173265,0.1187822907018602], [0.1837924906630262,0.11959958641795171], [0.1858218126363723,0.12041688213404322], [0.18787312997972483,0.12123417785013477], [0.18994445911670263,0.12205147356622625], [0.19203401732136283,0.12286876928231774], [0.19414001047365512,0.12368606499840928], [0.19626134953048857,0.12450336071450081], [0.19839732373336172,0.12532065643059231], [0.20054614597911763,0.12613795214668383], [0.2027102188697154,0.12695524786277534], [0.20489645895038736,0.12777254357886683], [0.2071056985959593,0.1285898392949584], [0.20933725029121888,0.12940713501104992], [0.21159043799410046,0.1302244307271414], [0.21386545662534603,0.13104172644323292], [0.21616695565805766,0.13185902215932443], [0.21849602526410672,0.13267631787541595], [0.22085249758957576,0.13349361359150747], [0.2232371638584028,0.13431090930759898], [0.22565048466368387,0.13512820502369052], [0.2280915992825535,0.135945500739782], [0.23055962489233886,0.1367627964558735], [0.23305452139473087,0.13758009217196507], [0.2355792572479964,0.13839738788805653], [0.23813358220882275,0.13921468360414807], [0.24071656074747425,0.14003197932023959], [0.2433273963640586,0.14084927503633107], [0.24596524486026825,0.14166657075242262], [0.24863017456672842,0.14248386646851413], [0.2513289284728739,0.14330116218460567], [0.25406210594271644,0.1441184579006972], [0.2568286079689279,0.14493575361678868], [0.2596274973065834,0.1457530493328802], [0.2624581900808146,0.1465703450489717], [0.26531970812660205,0.1473876407650632], [0.26821106483019097,0.14820493648115474], [0.2711313055908074,0.14902223219724625], [0.27407950715527424,0.14983952791333777], [0.27705477691361224,0.15065682362942928], [0.2800562521635541,0.15147411934552082], [0.2830830993510777,0.15229141506161228], [0.2861345132933103,0.15310871077770383], [0.28920971638943616,0.15392600649379534], [0.2923206802678723,0.15474330220988686], [0.2954949457497638,0.1555605979259784], [0.29873543145269177,0.1563778936420699], [0.3020880630603759,0.1571951893581614], [0.30556924631118587,0.15801248507425292], [0.3091771242381686,0.15882978079034443], [0.31290731443442327,0.15964707650643595], [0.31680077310414406,0.1604643722225275], [0.3209282297369517,0.161281667938619], [0.3252820737446184,0.16209896365471044], [0.3298533407620746,0.162916259370802], [0.33463312056489414,0.16373355508689355], [0.33964400822398905,0.16455085080298504], [0.3449710651721094,0.16536814651907655], [0.35075611759025743,0.16618544223516807], [0.35753250940611797,0.16700273795125958], [0.3659658404474907,0.1678200336673511], [0.3759506203869174,0.1686373293834426], [0.3873668972264467,0.16945462509953407], [0.40009215021923283,0.17027192081562567], [0.4140056953351241,0.17108921653171713], [0.4289919281005854,0.17190651224780865]]; \n\nvar riskFreeRate = .03;\nvar optimalPoint = {\n    data: undefined,\n    stdDev: undefined,\n    ret: undefined\n}\nvar optimalPoint3 = {\n    ratio: 0,\n    stdDev: undefined,\n    ret: undefined\n}\n\n// Find optimal tangent point \n// sometsdf\nfunction binaryOptimalSearch(efArray) {\n    var midIndex = Math.floor(efArray.length / 2);\n\n    var leftPoint = efArray[midIndex - 1];\n    var midPoint = efArray[midIndex];\n    var rightPoint = efArray[midIndex + 1];\n\n\n    var leftPointSharpeRatio = (leftPoint[1] - riskFreeRate) / leftPoint[0];\n    var midPointSharpeRatio = (midPoint[1] - riskFreeRate) / midPoint[0];\n    var rightPointSharpeRatio = rightPoint &amp;&amp; ((rightPoint[1] - riskFreeRate) / rightPoint[0]);\n\n    if (efArray.length === 2) {\n        //rightPoint shouldn't exist.\n        if (leftPointSharpeRatio &gt; midPointSharpeRatio) {\n            return leftPoint;\n        }\n        if (midPointSharpeRatio &gt; leftPointSharpeRatio) {\n            return midPoint;\n        }\n    }\n    if ((midPointSharpeRatio &gt; leftPointSharpeRatio) &amp;&amp; (midPointSharpeRatio &gt; rightPointSharpeRatio)) {\n        return midPoint;\n    }\n    if (leftPointSharpeRatio &gt; midPointSharpeRatio) {\n        var leftPortion = efArray.slice(0, midIndex + 1); // add 1 to include midindex\n        return binaryOptimalSearch(leftPortion);\n    }\n    if (rightPointSharpeRatio &gt; midPointSharpeRatio) {\n        var rightPortion = efArray.slice(midIndex, (efArray.length) );\n        return binaryOptimalSearch(rightPortion);\n    }\n};\n\n// Find optimal tangent point iterative\nfunction binaryIterativeSearch(efArray) {\n    var leftIndex = 0;\n    var midIndex = undefined;\n    var rightIndex = efArray.length - 1;\n\n\n    var leftPoint;\n    var midPoint;\n    var rightPoint;\n    var leftPointSharpeRatio;\n    var midPointSharpeRatio;\n    var rightPointSharpeRatio;\n\n    while (leftIndex &lt;= rightIndex) {\n        midIndex = Math.floor((leftIndex + rightIndex) / 2);\n\n        leftPoint = efArray[midIndex - 1];\n        midPoint = efArray[midIndex];\n        rightPoint = efArray[midIndex + 1];\n\n        leftPointSharpeRatio = (leftPoint[1] - riskFreeRate) / leftPoint[0];\n        midPointSharpeRatio = (midPoint[1] - riskFreeRate) / midPoint[0];\n        rightPointSharpeRatio = rightPoint &amp;&amp; ((rightPoint[1] - riskFreeRate) / rightPoint[0]);\n\n        if ((midPointSharpeRatio &gt; leftPointSharpeRatio) &amp;&amp; (midPointSharpeRatio &gt; rightPointSharpeRatio)) {\n            return midPoint;\n        }\n        if (leftPointSharpeRatio &gt; midPointSharpeRatio) {\n            rightIndex = midIndex - 1;\n        }\n        if (rightPointSharpeRatio &gt; midPointSharpeRatio) {\n            leftIndex = midIndex + 1;\n        }\n    }\n}\n\n\n// Brute Force\nfunction bruteSearch(){\n    data.forEach(function (item) { // Find optimal tangent\n        var stdDev = item[0];\n        var ret = item[1];\n        var returnPerRisk = (ret - riskFreeRate) / stdDev;\n        if (returnPerRisk &gt; optimalPoint3.ratio) {\n            optimalPoint3.ratio = returnPerRisk;\n            optimalPoint3.stdDev = stdDev;\n            optimalPoint3.ret = ret;\n        }\n    }); \n}\n\n//\n\nvar timeBinary1 = performance.now();\noptimalPoint.data = binaryOptimalSearch(data);\nvar timeBinary2 = performance.now();\nconsole.log('Recursive Took', (timeBinary2 - timeBinary1).toFixed(4), 'milliseconds to generate:', optimalPoint.data);\noptimalPoint.stdDev = optimalPoint.data[0];\noptimalPoint.ret = optimalPoint.data[1];\n\nvar timeIterative1 = performance.now();\nvar optimalPoint2 = binaryIterativeSearch(data);\nvar timeIterative2 = performance.now();\nconsole.log('Iterative Took', (timeIterative2 - timeIterative1).toFixed(4), 'milliseconds to generate:', optimalPoint2);\n\nvar timeBrute1 = performance.now();\nbruteSearch();\nvar timeBrute2 = performance.now();\nconsole.log('Brute Took', (timeBrute2 - timeBrute1).toFixed(4), 'milliseconds to generate:', optimalPoint3);\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 8773, "user_id": 3499595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1BWZV.jpg?s=128&g=1", "display_name": "yuriy636", "link": "https://stackoverflow.com/users/3499595/yuriy636"}, "edited": false, "score": 0, "creation_date": 1473886867, "post_id": 39499456, "comment_id": 66316734, "body": "You can use <code>document.getElementsByClassName(&#39;price&#39;)</code>. Try that and post what you have tried so far."}], "answers": [{"comments": [{"owner": {"reputation": 345, "user_id": 5893915, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6bbb468a21c0fc96f637843f5916b05c?s=128&d=identicon&r=PG&f=1", "display_name": "privateer35", "link": "https://stackoverflow.com/users/5893915/privateer35"}, "edited": false, "score": 0, "creation_date": 1473891652, "post_id": 39500127, "comment_id": 66318476, "body": "This is a good answer, but for some reason it&#39;s throwing a <code>NaN</code> as the newly outputted price. What if I wanted this applied to just one element? Would I just remove the <code>.each</code> after grabbing the element?"}, {"owner": {"reputation": 345, "user_id": 5893915, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6bbb468a21c0fc96f637843f5916b05c?s=128&d=identicon&r=PG&f=1", "display_name": "privateer35", "link": "https://stackoverflow.com/users/5893915/privateer35"}, "edited": false, "score": 0, "creation_date": 1473900648, "post_id": 39500127, "comment_id": 66320726, "body": "That change did the trick for single items! One odd thing that I noticed is that for original numbers with four digits, the computed result ends in a <code>NaN</code>."}, {"owner": {"reputation": 372, "user_id": 4903255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/087265c8edd25a0a0a1c8c39cd5affbd?s=128&d=identicon&r=PG&f=1", "display_name": "phpchap", "link": "https://stackoverflow.com/users/4903255/phpchap"}, "reply_to_user": {"reputation": 345, "user_id": 5893915, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6bbb468a21c0fc96f637843f5916b05c?s=128&d=identicon&r=PG&f=1", "display_name": "privateer35", "link": "https://stackoverflow.com/users/5893915/privateer35"}, "edited": false, "score": 0, "creation_date": 1473927491, "post_id": 39500127, "comment_id": 66328901, "body": "I updated the original function to use <code>parseInt(price)</code> as this should prevent the <code>NaN</code>, have you updated you code with that?"}], "tags": [], "owner": {"reputation": 372, "user_id": 4903255, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/087265c8edd25a0a0a1c8c39cd5affbd?s=128&d=identicon&r=PG&f=1", "display_name": "phpchap", "link": "https://stackoverflow.com/users/4903255/phpchap"}, "is_accepted": true, "score": 0, "last_activity_date": 1473893202, "last_edit_date": 1473893202, "creation_date": 1473889600, "answer_id": 39500127, "question_id": 39499456, "link": "https://stackoverflow.com/questions/39499456/take-text-node-of-an-element-and-manipulate-it-with-javascript/39500127#39500127", "title": "Take text node of an element and manipulate it with Javascript", "body": "<p>Using a loop is probably best for what you want to do and to use jQuery as you already have it loaded. Try this:</p>\n\n<pre><code>function setCheckPrice() {\n  $('.price').each(function(key, val) {\n    var price = $(val).html().replace('$', '');\n    var newPrice = parseInt(price) * 10;\n    $(val).after('&lt;em class=\"new-price\"&gt;$' + newPrice + '&lt;/em&gt;');\n  });\n}\n\nsetCheckPrice();\n</code></pre>\n\n<p>This will take each price, multiple it by 10 and insert it into a new <code>em</code> after the original one.</p>\n\n<p>To target a single price, you'll just need to remove the each loop, for example:</p>\n\n<pre><code>function setCheckPrice() {\n  var element = $('.price:nth-of-type(5)');\n  var price = $(element).html().replace('$', '');\n  var newPrice = parseInt(price) * 10;\n  $(element).after('&lt;em class=\"new-price\"&gt;$' + newPrice + '&lt;/em&gt;');\n}\n\nsetCheckPrice();\n</code></pre>\n\n<p>You can target other elements by changing the 5.</p>\n"}], "owner": {"reputation": 345, "user_id": 5893915, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/6bbb468a21c0fc96f637843f5916b05c?s=128&d=identicon&r=PG&f=1", "display_name": "privateer35", "link": "https://stackoverflow.com/users/5893915/privateer35"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 39500127, "answer_count": 1, "score": -3, "last_activity_date": 1473893202, "creation_date": 1473886289, "last_edit_date": 1473888737, "question_id": 39499456, "link": "https://stackoverflow.com/questions/39499456/take-text-node-of-an-element-and-manipulate-it-with-javascript", "title": "Take text node of an element and manipulate it with Javascript", "body": "<p>I have a set of elements that contain prices as such:</p>\n\n<pre><code>&lt;em class=\"price\"&gt;$859&lt;/em&gt;\n&lt;em class=\"price\"&gt;$159&lt;/em&gt;\n&lt;em class=\"price\"&gt;$850&lt;/em&gt;\n&lt;em class=\"price\"&gt;$350&lt;/em&gt;\n&lt;em class=\"price\"&gt;$560&lt;/em&gt;\n&lt;em class=\"price\"&gt;$200&lt;/em&gt;\n&lt;em class=\"price\"&gt;$250&lt;/em&gt;\n&lt;em class=\"price\"&gt;$900&lt;/em&gt;\n</code></pre>\n\n<p>How would I be able to grab the values within the <code>&lt;em&gt;</code> tags and <code>console.log</code> them?</p>\n\n<p>I know I can perform <code>[0].childNodes[0].nodeValue</code> to grab the first one, and just change the value of the index in <code>childNodes</code> to grab any other one I wish. </p>\n\n<p>Is there a way to take all the text node values at once without the use of a loop?</p>\n\n<p>The bigger picture for why I would want to do this is I need to take each number in a <code>&lt;em&gt;</code> tag multiply it by a percentage, take that computed value and insert it into a newly generated element.</p>\n\n<p>Is there a way to say (sudo code) \"take all instances of <code>&lt;em&gt;</code> tags with the class <code>price</code>, multiply the text inside by <code>x</code>, and then insert newly computed values into <code>&lt;em&gt;</code> tags with the class called <code>new-price</code>\"?</p>\n\n<p><strong>EDIT</strong>\nThis is how I'm using it currently:</p>\n\n<pre><code>$(document).ready(function() {\n\n  function setCheckPrice(){\n\nvar productPrice = document.getElementsByClassName('p-price');\n\nconsole.log((productPrice)[0].childNodes[0].nodeValue);\n\n\n}\n\n  setCheckPrice();\n\n});\n</code></pre>\n\n<p>This isn't logging anything in the console.</p>\n\n<p>Using jQuery for when the document loads to apply the needed Javascript. </p>\n"}, {"tags": ["javascript", "node.js", "express", "upload", "multer"], "answers": [{"tags": [], "owner": {"reputation": 90, "user_id": 6461083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OLxF6.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/6461083/erik"}, "is_accepted": true, "score": 1, "last_activity_date": 1473886736, "creation_date": 1473886736, "answer_id": 39499555, "question_id": 39499434, "link": "https://stackoverflow.com/questions/39499434/multer-typeerror-fields-foreach-is-not-a-function/39499555#39499555", "title": "Multer TypeError: fields.forEach is not a function", "body": "<p>Was very simple. Found it five minutes after posting. I'll leave it here in case someone makes the same mistake.</p>\n\n<p>The problem was in my front end:</p>\n\n<pre><code>&lt;input type=\"file\" id=\"fileUpload\"&gt;&lt;/input&gt;\n</code></pre>\n\n<p>needed to be</p>\n\n<pre><code>&lt;input type=\"file\" id=\"file\"&gt;&lt;/input&gt;\n</code></pre>\n"}], "owner": {"reputation": 90, "user_id": 6461083, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OLxF6.jpg?s=128&g=1", "display_name": "Erik", "link": "https://stackoverflow.com/users/6461083/erik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2297, "favorite_count": 0, "accepted_answer_id": 39499555, "answer_count": 1, "score": 2, "last_activity_date": 1473886736, "creation_date": 1473886191, "last_edit_date": 1495540304, "question_id": 39499434, "link": "https://stackoverflow.com/questions/39499434/multer-typeerror-fields-foreach-is-not-a-function", "title": "Multer TypeError: fields.forEach is not a function", "body": "<p>I am using multer in node.js with express on c9, trying to create a metadata reader. I've searched for quite some time, and can't find anyone who has run into this error. The error is:</p>\n\n<pre><code>TypeError: fields.forEach is not a function\nat Multer.setup (/home/ubuntu/workspace/node_modules/multer/index.js:29:12)\nat multerMiddleware (/home/ubuntu/workspace/node_modules/multer/lib/make-middleware.js:20:19)\nat Layer.handle [as handle_request] (/home/ubuntu/workspace/node_modules/express/lib/router/layer.js:95:5)\nat next (/home/ubuntu/workspace/node_modules/express/lib/router/route.js:131:13)\nat Route.dispatch (/home/ubuntu/workspace/node_modules/express/lib/router/route.js:112:3)\nat Layer.handle [as handle_request] (/home/ubuntu/workspace/node_modules/express/lib/router/layer.js:95:5)\nat /home/ubuntu/workspace/node_modules/express/lib/router/index.js:277:22\nat Function.process_params (/home/ubuntu/workspace/node_modules/express/lib/router/index.js:330:12)\nat next (/home/ubuntu/workspace/node_modules/express/lib/router/index.js:271:10)\nat serveStatic (/home/ubuntu/workspace/node_modules/express/node_modules/serve-static/index.js:74:16)\n</code></pre>\n\n<p>and I get it after trying to submit my file for upload.\nI would assume that this means it didn't install correctly, but I've tried re-installing in a few ways. It looks up-to-date:</p>\n\n<pre><code>{  \"name\": \"workspace\",\n\n\n\"version\": \"0.0.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"start\": \"node ./bin/www\"\n  },\n  \"dependencies\": {\n    \"body-parser\": \"^1.15.2\",\n    \"cookie-parser\": \"~1.4.3\",\n    \"debug\": \"~2.2.0\",\n    \"express\": \"~4.13.4\",\n    \"jade\": \"~1.11.0\",\n    \"morgan\": \"~1.7.0\",\n    \"multer\": \"^1.2.0\",\n    \"serve-favicon\": \"~2.3.0\"\n  }\n}\n</code></pre>\n\n<p>Here is my code:</p>\n\n<p><strong>app.js</strong></p>\n\n<pre><code>var express = require('express');\nvar app = express();\nvar path = require('path');\nvar multer  = require('multer');\nvar upload = multer({ dest: __dirname + '/public/uploads/'});\nvar bodyParser = require('body-parser');\n\napp.use(bodyParser.json());\n\napp.use(express.static(path.join(__dirname, 'public')));\n\napp.get('/', function (req, res) {\n  res.sendFile(path.join(__dirname, 'index.html'));\n});\n\napp.post('/file-upload', upload.fields('files'), function (req, res, next) {\n  console.log(req.files);\n  console.log(req.body);\n});\n\napp.listen(process.env.PORT, function () {\n  console.log('app listening on port ' + process.env.PORT );\n});\n</code></pre>\n\n<p>and the front end:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n\n  &lt;script src=\"https://code.jquery.com/jquery-2.1.4.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js\"&gt;&lt;/script&gt;\n&lt;html&gt;\n  &lt;body&gt;\n    &lt;div align='center'&gt;\n      &lt;form method=\"post\" enctype=\"multipart/form-data\" action=\"/file-upload\" name=\"upload\"&gt;\n      &lt;h1&gt;Upload a file&lt;/h1&gt;\n      &lt;input type=\"file\" id=\"fileUpload\"&gt;&lt;/input&gt;\n      &lt;h2&gt;View its Metadata&lt;/h2&gt;\n      &lt;button type=\"submit\" value=\"submit\" id=\"submit\"&gt;submit&lt;/button&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>removing 'files' from\n    upload.fields()\ngives the error</p>\n\n<pre><code>TypeError: Cannot read property 'forEach' of undefined\n</code></pre>\n\n<p>I am only trying to upload a single file, but if I use</p>\n\n<pre><code>app.post('/file-upload', upload.single('file'), function (req, res, next) {\n  console.log(req.file);\n  console.log(req.body);\n});\n\n// or upload.single()\n</code></pre>\n\n<p>My console outputs</p>\n\n<pre><code>undefined\n{}\n</code></pre>\n\n<p>I'm hoping that I'm missing something simple. I've referenced ALL of these topics, and haven't yet found a solution that has worked for me:</p>\n\n<p><a href=\"https://stackoverflow.com/tags/multer/hot\">hot multer issues</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/23114374/file-uploading-with-express-4-0-req-files-undefined\">req files undefined</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/29490833/nodejs-multer-is-not-working\">nodejs-multer-is-not-working</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/33962841/express-multer-cannot-read-property-profileimage-of-undefined\">express-multer-cannot-read-property-profileimage-of-undefined</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/32045027/multer-callbacks-not-working\">multer-callbacks-not-working</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/27973510/multer-node-eacces-error-on-c9-io\">multer-node-eacces-error-on-c9-io</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/31495499/multer-configuration-with-app-use-returns-typeerror\">multer-configuration-with-app-use-returns-typeerror</a></p>\n\n<p><a href=\"https://github.com/expressjs/multer/issues/203\" rel=\"nofollow noreferrer\">Github multer issues thread</a></p>\n"}, {"tags": ["javascript", "three.js", "render-to-texture"], "answers": [{"tags": [], "owner": {"reputation": 5863, "user_id": 123219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IDcaw.jpg?s=128&g=1", "display_name": "Martin Schuhfu&#223;", "link": "https://stackoverflow.com/users/123219/martin-schuhfu%c3%9f"}, "is_accepted": true, "score": 1, "last_activity_date": 1473887932, "last_edit_date": 1495540114, "creation_date": 1473887932, "answer_id": 39499784, "question_id": 39499432, "link": "https://stackoverflow.com/questions/39499432/texture-from-webglrendertarget-not-rendered-with-stereoeffect/39499784#39499784", "title": "Texture from WebGLRenderTarget not rendered with StereoEffect", "body": "<p>Found a solution reading this Question: <a href=\"https://stackoverflow.com/questions/32503711/three-js-three-stereoeffect-webvr-boilerplate-three-mirror/32622951#32622951\">three.js - THREE.StereoEffect / webVR-boilerplate + THREE.Mirror</a></p>\n\n<p>And I just needed to add a single line to the <code>createBlurredTexture()</code>-function.\nWhen cleaning up, it is neccessary to manually unset the renderTarget by calling</p>\n\n<pre><code>renderer.setRenderTarget(null);\n</code></pre>\n\n<p>The reason for this is that the rendering of the stereo-effect will call <code>renderer.clear()</code>, which will - without unsetting the rendertarget - clear the renderTarget instead of the screen framebuffer.</p>\n\n<p>So thanks a lot stackoverflow &lt;3</p>\n"}], "owner": {"reputation": 5863, "user_id": 123219, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/IDcaw.jpg?s=128&g=1", "display_name": "Martin Schuhfu&#223;", "link": "https://stackoverflow.com/users/123219/martin-schuhfu%c3%9f"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 324, "favorite_count": 0, "accepted_answer_id": 39499784, "answer_count": 1, "score": 0, "last_activity_date": 1473887932, "creation_date": 1473886178, "last_edit_date": 1473887004, "question_id": 39499432, "link": "https://stackoverflow.com/questions/39499432/texture-from-webglrendertarget-not-rendered-with-stereoeffect", "title": "Texture from WebGLRenderTarget not rendered with StereoEffect", "body": "<p>I have a panoramic view and want to blur it in order to present a user-interface in front of the blurred view. The blurred image has to be computed on the client so I decided to use a fragment-shader-based implementation to do that.</p>\n\n<p>This works very nice as long as I only use only the regular renderer. \nBut when the scene is rendered using the <code>THREE.StereoEffect</code> instead, the blurred image doesn't appear on screen. </p>\n\n<p>You can see this in the attached snippet (jsfiddle here: <a href=\"https://jsfiddle.net/n988sg96/3/\" rel=\"nofollow\">https://jsfiddle.net/n988sg96/3/</a>): If you press \"toggle blur\" everything looks like it should. But if you press \"toggle stereo\" and then activate the blur, the screen just turns black (so basically, the blurred image will not render).</p>\n\n<p>The generation of the blurred image is implemented in <code>createBlurredTexture()</code> using the same renderer that is also used for the scene and two render-targets for the vertical and horizontal pass of the blur.</p>\n\n<p>I already verified (by exporting the framebuffers as image via <code>renderer.readRenderTargetPixels()</code>) that both render-targets contain correct images in both cases (so independent of wether the stereo-mode is on or not).</p>\n\n<p>So the questions I have are:</p>\n\n<ul>\n<li>why is it that the texture from the RenderTarget is not rendered with the StereoEffect?</li>\n<li>are there other comparable options to achieve the same effect?</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const panoUrl = 'https://farm9.staticflickr.com/8652/29593302665_9e747048f7_k_d.jpg';\r\n\r\nconst panoTexture = new THREE.Texture();\r\nconst image = new Image();\r\nimage.crossOrigin = 'Anonymous';\r\nimage.onload = () =&gt; {\r\n  panoTexture.image = image;\r\n  panoTexture.format = THREE.RGBFormat;\r\n  panoTexture.needsUpdate = true;\r\n};\r\nimage.src = panoUrl;\r\n\r\nconst blurButton = document.querySelector('.blur-btn');\r\nconst stereoButton = document.querySelector('.stereo-btn');\r\n\r\n// creates meshes\r\nfunction initScene(scene, renderer) {\r\n  const panoSphere = new THREE.Mesh(\r\n    new THREE.SphereGeometry(100, 36, 18),\r\n    new THREE.MeshBasicMaterial({\r\n      depthWrite: false,\r\n      map: panoTexture\r\n    }));\r\n\r\n  const blurSphere = new THREE.Mesh(\r\n    new THREE.SphereGeometry(80, 36, 18),\r\n    new THREE.MeshBasicMaterial({\r\n      color: 0x666666\r\n    })\r\n  );\r\n\r\n  // flip normals\r\n  blurSphere.scale.x = panoSphere.scale.x = -1;\r\n  blurSphere.visible = false;\r\n\r\n  scene.add(panoSphere, blurSphere);\r\n\r\n  blurButton.addEventListener('click', ev =&gt; {\r\n    if (blurSphere.visible) {\r\n      blurSphere.visible = false;\r\n    } else {\r\n      blurSphere.material.map = createBlurredTexture(\r\n        renderer, panoSphere.material.map.image);\r\n      blurSphere.material.needsUpdate = true;\r\n      blurSphere.visible = true;\r\n    }\r\n  });\r\n}\r\n\r\n\r\n// creates a blurred image-texture from the given image\r\nfunction createBlurredTexture(renderer, img, prescale = 0.25) {\r\n  const width = img.width * prescale;\r\n  const height = img.height * prescale;\r\n  const material = blurPassMaterial;\r\n\r\n  const camera = new THREE.OrthographicCamera(-1, 1, 1, -1, 0, 1);\r\n  const scene = new THREE.Scene()\r\n    .add(new THREE.Mesh(new THREE.PlaneBufferGeometry(2, 2), material));\r\n\r\n  const renderTargetOpts = {\r\n    depthBuffer: false,\r\n    stencilBuffer: false\r\n  };\r\n  const rt1 = new THREE.WebGLRenderTarget(width, height, renderTargetOpts);\r\n  const rt2 = new THREE.WebGLRenderTarget(width, height, renderTargetOpts);\r\n\r\n  material.uniforms.resolution.value.set(width, height);\r\n\r\n  // prepare: downscale source-image\r\n  const canvas = document.createElement('canvas');\r\n  canvas.width = width;\r\n  canvas.height = height;\r\n  canvas.getContext('2d').drawImage(img, 0, 0, width, height);\r\n  const texture = new THREE.CanvasTexture(canvas);\r\n  texture.wrapS = texture.wrapT = THREE.RepeatWrapping;\r\n\r\n  // pass 1: vertical blur, texture -&gt; rt1\r\n  material.uniforms.image.value = texture;\r\n  material.uniforms.direction.value.set(0, 1);\r\n  renderer.render(scene, camera, rt1);\r\n\r\n  // pass 2: horizontal blur, rt1 -&gt; rt2\r\n  material.uniforms.image.value = rt1.texture;\r\n  material.uniforms.direction.value.set(1, 0);\r\n  renderer.render(scene, camera, rt2);\r\n\r\n  // cleanup\r\n  texture.dispose();\r\n  rt1.texture.dispose();\r\n  rt1.dispose();\r\n\r\n  return rt2.texture;\r\n}\r\n\r\n\r\n// simple material for a fast 5px blur pass\r\nconst blurPassMaterial = new THREE.ShaderMaterial({\r\n  uniforms: {\r\n    image: {type: 't', value: null},\r\n    resolution: {type: 'v2', value: new THREE.Vector2()},\r\n    direction: {type: 'v2', value: new THREE.Vector2(1, 0)}\r\n  },\r\n\r\n  vertexShader: `\r\n      varying vec2 vUv;\r\n      void main() {\r\n        vUv = uv; \r\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n      }\r\n    `,\r\n\r\n  fragmentShader: `\r\n      varying vec2 vUv;\r\n\r\n      uniform vec2 direction;\r\n      uniform vec2 resolution;\r\n      uniform sampler2D image;\r\n\r\n      // based on https://github.com/Jam3/glsl-fast-gaussian-blur\r\n      vec4 blur5(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {\r\n        vec2 offset = (vec2(1.3333333333333333) * direction) / resolution;\r\n        \r\n        return texture2D(image, uv) * 0.29411764705882354\r\n          + texture2D(image, uv + offset) * 0.35294117647058826\r\n          + texture2D(image, uv - offset) * 0.35294117647058826;\r\n      }\r\n\r\n      void main() {\r\n        gl_FragColor = blur5(image, vUv, resolution, direction); \r\n      }\r\n    `\r\n});\r\n\r\n\r\n\r\n// ---- boilerplate-code\r\n\r\n// .... setup renderer and stereo-effect\r\nlet isStereoMode = false;\r\nconst renderer = new THREE.WebGLRenderer();\r\nrenderer.setSize(window.innerWidth, window.innerHeight);\r\nconst effect = new THREE.StereoEffect(renderer);\r\n\r\n// .... setup scene\r\nconst scene = window.scene = new THREE.Scene();\r\n\r\n// .... setup camera and controls\r\nconst camera = new THREE.PerspectiveCamera(\r\n  70, window.innerWidth / window.innerHeight, 1, 1000);\r\nconst controls = new THREE.OrbitControls(camera);\r\ncontrols.enableZoom = false;\r\ncontrols.enableDamping = true;\r\ncontrols.dampingFactor = .15;\r\n\r\ncamera.position.set(0, 0, .1);\r\ncamera.lookAt(new THREE.Vector3(0, 0, 0));\r\n\r\n// .... setup and run\r\ninitScene(scene, renderer);\r\n\r\nrequestAnimationFrame(function loop(time) {\r\n  controls.update();\r\n\r\n  if (isStereoMode) {\r\n    effect.render(scene, camera);\r\n  } else {\r\n    renderer.render(scene, camera);\r\n  }\r\n\r\n  requestAnimationFrame(loop);\r\n});\r\n\r\n// .... bind events\r\nstereoButton.addEventListener('click', ev =&gt; {\r\n  isStereoMode = !isStereoMode;\r\n\r\n  if (!isStereoMode) {\r\n    renderer.setViewport(0, 0, window.innerWidth, window.innerHeight);\r\n  }\r\n});\r\n\r\nwindow.addEventListener('resize', ev =&gt; {\r\n  renderer.setSize(window.innerWidth, window.innerHeight);\r\n  camera.aspect = window.innerWidth / window.innerHeight;\r\n  camera.updateProjectionMatrix();\r\n});\r\n\r\ndocument.body.appendChild(renderer.domElement);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  margin: 0;\r\n  overflow: hidden;\r\n}\r\ncanvas {\r\n  width: 100vw;\r\n  height: 100vh;\r\n}\r\n.buttons {\r\n  position: absolute;\r\n  top: 10px;\r\n  left: 0;\r\n  right: 0;\r\n  text-align: center;\r\n}\r\nbutton {\r\n  display: inline-block;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.rawgit.com/mrdoob/three.js/master/build/three.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdn.rawgit.com/mrdoob/three.js/master/examples/js/controls/OrbitControls.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdn.rawgit.com/mrdoob/three.js/master/examples/js/effects/StereoEffect.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"buttons\"&gt;\r\n  &lt;button class=\"blur-btn\"&gt;toggle blur&lt;/button&gt;\r\n  &lt;button class=\"stereo-btn\"&gt;toggle stereo&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "colorbox"], "answers": [{"comments": [{"owner": {"reputation": 94, "user_id": 4059998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f165fba7f8e9f14e0f67e3a5081bb5f2?s=128&d=identicon&r=PG&f=1", "display_name": "jonathan", "link": "https://stackoverflow.com/users/4059998/jonathan"}, "edited": false, "score": 0, "creation_date": 1473889599, "post_id": 39499461, "comment_id": 66317786, "body": "no working because colorbox library need specify the class colorbox-load if this no exist in the url that i construct no open popup, the specification of you tell, open a new window, but need really with this library colorbox. How can open a url that i construct with javascript with all from a, thanks for you answer"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "reply_to_user": {"reputation": 94, "user_id": 4059998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f165fba7f8e9f14e0f67e3a5081bb5f2?s=128&d=identicon&r=PG&f=1", "display_name": "jonathan", "link": "https://stackoverflow.com/users/4059998/jonathan"}, "edited": false, "score": 0, "creation_date": 1473893211, "post_id": 39499461, "comment_id": 66318899, "body": "@JonathanRodriguez Try my edit. I&#39;m having difficulty understanding what you want but have tried an alternate solution."}], "tags": [], "owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "is_accepted": false, "score": 1, "last_activity_date": 1473893194, "last_edit_date": 1473893194, "creation_date": 1473886318, "answer_id": 39499461, "question_id": 39499376, "link": "https://stackoverflow.com/questions/39499376/javascript-open-url-with-class-in-the-url/39499461#39499461", "title": "javascript open url with class in the url", "body": "<p>First off, <code>window.location</code> wants a URL, not an entire HTML tag. In simpler terms, it just wants the <code>href</code> property from your <code>&lt;a&gt;</code>.</p>\n\n<p>If you're trying to open a new window with a width of 500 and a height of 500, you would do so using <code>window.open()</code> rather than <code>window.location</code>.  Seeing as you are hard-coding these values, I'm assuming that 500 is a static value.</p>\n\n<p>In the event this is true, just do this:</p>\n\n<pre><code>var urlcompleta = location.origin + 'buscador-agenda';\nvar url = urlcompleta + '?width=500&amp;height=500&amp;iframe=true';\n$('.calendar-agenda-items').click(function(event) {\n    var myWindow = window.open(\"\", \"\", \"width=500,height=500\");\n});\n</code></pre>\n\n<p><strong>EDIT:</strong> After reading this a few times and analyzing your comments, I'm starting to think that you want to simulate an <code>&lt;a&gt;</code> click when someone clicks that button. Maybe something like this?</p>\n\n<pre><code>var urlcompleta = location.origin + 'buscador-agenda';\nvar url = '&lt;a id=\"myLink\" style=\"display: none;\" class=\"url-agenda colorbox-load\" href=\"' + urlcompleta + '?width=500&amp;height=500&amp;iframe=true\"&gt;&lt;/a&gt;';\n$('.calendar-agenda-items').append(url);\n$('.calendar-agenda-items').click(function(event) {\n    $('#myLink').trigger(\"click\");\n});\n</code></pre>\n"}], "owner": {"reputation": 94, "user_id": 4059998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f165fba7f8e9f14e0f67e3a5081bb5f2?s=128&d=identicon&r=PG&f=1", "display_name": "jonathan", "link": "https://stackoverflow.com/users/4059998/jonathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 564, "favorite_count": 0, "closed_date": 1473914773, "answer_count": 1, "score": -3, "last_activity_date": 1473893194, "creation_date": 1473885880, "last_edit_date": 1495542623, "question_id": 39499376, "link": "https://stackoverflow.com/questions/39499376/javascript-open-url-with-class-in-the-url", "closed_reason": "Needs details or clarity", "title": "javascript open url with class in the url", "body": "<p>Hi i want to open a url with all attributes that have the url for open popup</p>\n\n<p>the attribute for open a popup come from class \"colorbox-load\"</p>\n\n<blockquote>\n  <p>the code that i have is this</p>\n</blockquote>\n\n<pre><code>var urlcompleta = location.origin + 'buscador-agenda';\nvar url = '&lt;a class=\"url-agenda colorbox-load\" href=\"' + urlcompleta + '?width=500&amp;height=500&amp;iframe=true\"&gt;&lt;/a&gt;';\n$('.calendar-agenda-items').click(function(event) {\n    window.location = url;\n});\n</code></pre>\n\n<p>this open the url of this mode\n<a href=\"https://stackoverflow.com/\">https://stackoverflow.com/</a></p>\n\n<p>I need open with the attributes of url that detect the class and parameters</p>\n\n<p>any idea? thanks\nsorry for my english, if need correct please edit the post</p>\n"}, {"tags": ["javascript", "node.js", "electron"], "comments": [{"owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 0, "creation_date": 1473885943, "post_id": 39499331, "comment_id": 66316298, "body": "Why not just write a separate module then load it in both places?"}, {"owner": {"reputation": 141, "user_id": 6723018, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-x0s2G15neao/AAAAAAAAAAI/AAAAAAAAAL0/wnZyGdfVKxY/photo.jpg?sz=128", "display_name": "Facundo", "link": "https://stackoverflow.com/users/6723018/facundo"}, "reply_to_user": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "edited": false, "score": 0, "creation_date": 1473894909, "post_id": 39499331, "comment_id": 66319379, "body": "Instead of returning HelloWorld. I want to just create an Socket.IO server. @MikeC"}, {"owner": {"reputation": 1955, "user_id": 5697445, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/10205997029300105/picture?type=large", "display_name": "Paulo Galdo Sandoval", "link": "https://stackoverflow.com/users/5697445/paulo-galdo-sandoval"}, "edited": false, "score": 1, "creation_date": 1473898004, "post_id": 39499331, "comment_id": 66320140, "body": "uhmm, you can do something similar to that, using ipcMain and ipcRenderer"}], "answers": [{"tags": [], "owner": {"reputation": 3305, "user_id": 2623248, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/TgsEn.png?s=128&g=1", "display_name": "MaximeF", "link": "https://stackoverflow.com/users/2623248/maximef"}, "is_accepted": true, "score": 6, "last_activity_date": 1473902936, "creation_date": 1473902936, "answer_id": 39501928, "question_id": 39499331, "link": "https://stackoverflow.com/questions/39499331/is-it-possible-to-call-a-function-in-main-js-file-from-web-to-electron/39501928#39501928", "title": "Is it possible to call a function in main.js file from web to electron?", "body": "<p>Yes you can.</p>\n\n<p>In your main process (probably main.js) put this line in your main process :</p>\n\n<pre><code>global.HelloWorld = function(name){\n    return 'Hello World! said ' + name;\n}\n</code></pre>\n\n<p>and in your HTML :</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;script type=\"text/javascript\"&gt;\n            let {remote} = require('electron');\n            const hello = remote.getGlobal(\"HelloWorld\")(); // &lt;-- () this is important\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body onLoad=\"alert(hello);\"&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>But I suggest use <code>ipcMain</code> and <code>ipcRenderer</code> to send data between process.</p>\n"}], "owner": {"reputation": 141, "user_id": 6723018, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-x0s2G15neao/AAAAAAAAAAI/AAAAAAAAAL0/wnZyGdfVKxY/photo.jpg?sz=128", "display_name": "Facundo", "link": "https://stackoverflow.com/users/6723018/facundo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5212, "favorite_count": 2, "accepted_answer_id": 39501928, "answer_count": 1, "score": 4, "last_activity_date": 1610748940, "creation_date": 1473885687, "last_edit_date": 1610748940, "question_id": 39499331, "link": "https://stackoverflow.com/questions/39499331/is-it-possible-to-call-a-function-in-main-js-file-from-web-to-electron", "title": "Is it possible to call a function in main.js file from web to electron?", "body": "<p>So I have a function in main file main.js which creates Electron BrowserWindow. Lets say:</p>\n<pre><code>function HelloWorld(name){\n    return 'Hello World! said ' + name;\n}\n</code></pre>\n<p>Can I call it in the html page loaded by Electron?</p>\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;script type=&quot;text/javascript&quot;&gt;\n            const hello = require('electron').HelloWorld\n        &lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body onLoad=&quot;alert(hello);&quot;&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Can I do that?</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 2145, "user_id": 2256028, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e1699a9b80e21f10598aef5fb36dc2e?s=128&d=identicon&r=PG", "display_name": "dckuehn", "link": "https://stackoverflow.com/users/2256028/dckuehn"}, "edited": false, "score": 0, "creation_date": 1473885766, "post_id": 39499324, "comment_id": 66316198, "body": "In what way is it not working? Are you getting an error? Include what is going wrong in your post."}, {"owner": {"reputation": 3, "user_id": 6798526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a37671ac81e9ab7d63ffb9db3b302b?s=128&d=identicon&r=PG&f=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/6798526/ian"}, "reply_to_user": {"reputation": 2145, "user_id": 2256028, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/7e1699a9b80e21f10598aef5fb36dc2e?s=128&d=identicon&r=PG", "display_name": "dckuehn", "link": "https://stackoverflow.com/users/2256028/dckuehn"}, "edited": false, "score": 0, "creation_date": 1473885942, "post_id": 39499324, "comment_id": 66316296, "body": "fixed it to describe what the issue was."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 6798526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a37671ac81e9ab7d63ffb9db3b302b?s=128&d=identicon&r=PG&f=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/6798526/ian"}, "edited": false, "score": 0, "creation_date": 1473886336, "post_id": 39499426, "comment_id": 66316481, "body": "That would work, but another question I have is how would I stop the width incrementation in Move, so it only goes up to the amount of width?"}, {"owner": {"reputation": 7680, "user_id": 2687790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XZPKJ.jpg?s=128&g=1", "display_name": "The One and Only ChemistryBlob", "link": "https://stackoverflow.com/users/2687790/the-one-and-only-chemistryblob"}, "reply_to_user": {"reputation": 3, "user_id": 6798526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a37671ac81e9ab7d63ffb9db3b302b?s=128&d=identicon&r=PG&f=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/6798526/ian"}, "edited": false, "score": 0, "creation_date": 1473886526, "post_id": 39499426, "comment_id": 66316572, "body": "Is there a for loop you forgot to include? Usually incrementers and break statements suggest a for loop. Also there seem to be other issues with your code. I think you will need a separate question. My answer to the question in this post above seems to be correct"}, {"owner": {"reputation": 3, "user_id": 6798526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a37671ac81e9ab7d63ffb9db3b302b?s=128&d=identicon&r=PG&f=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/6798526/ian"}, "edited": false, "score": 0, "creation_date": 1473886667, "post_id": 39499426, "comment_id": 66316641, "body": "Probably. Thank you! :D"}], "tags": [], "owner": {"reputation": 7680, "user_id": 2687790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XZPKJ.jpg?s=128&g=1", "display_name": "The One and Only ChemistryBlob", "link": "https://stackoverflow.com/users/2687790/the-one-and-only-chemistryblob"}, "is_accepted": true, "score": 0, "last_activity_date": 1473886143, "creation_date": 1473886143, "answer_id": 39499426, "question_id": 39499324, "link": "https://stackoverflow.com/questions/39499324/debugging-an-xp-bar/39499426#39499426", "title": "Debugging an XP bar", "body": "<p>You need a <code>return</code> statement in your widthGenerator() function:</p>\n\n<pre><code>function widthGenerator() {\n\n    var question = prompt(\"Enter number of hours worked:\", \"Enter here\");\n    if (!isNaN(Number(question))) {\n        var width = (question * 2.33463);\n    } else {\n        question = prompt(\"That is not a number; Enter the number of hours worked:\", \"Enter here\");\n    }\n\n    return width;\n}\n</code></pre>\n\n<p>I didn't want to tinker too much with your code but note that it is possible the user will never enter a number based on how widthGenerator() is written.</p>\n"}, {"tags": [], "owner": {"reputation": 4655, "user_id": 3001856, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/4dc6ee03387f59dedf4531be1eff7cab?s=128&d=identicon&r=PG&f=1", "display_name": "Akxe", "link": "https://stackoverflow.com/users/3001856/akxe"}, "is_accepted": false, "score": 0, "last_activity_date": 1473887074, "creation_date": 1473887074, "answer_id": 39499616, "question_id": 39499324, "link": "https://stackoverflow.com/questions/39499324/debugging-an-xp-bar/39499616#39499616", "title": "Debugging an XP bar", "body": "<p>This code makes sure, that the user is asked for a valid number, till he gives it. It is also a bit cleaner. And I removed the break as it is not a valid syntax, if you are not inside of an switch.</p>\n\n<p>You may want to remove the timeout in your code, as it will be proccesed after asking for width anyway. And clearing imeout from within of it win't do anything. Lastly I removed function frame, reason 1 beeing, that it was created for every call of <code>move()</code>, but secondly and mostly, it is unecesery as you can use an anonymous function for this type of job.</p>\n\n<pre><code>function widthGenerator() {\n    var question = prompt(\"Enter number of hours worked:\", \"Enter here\")\n    while(isNaN(question)){\n        question = prompt(\"That is not a number; Enter the number of hours worked:\", \"Enter here\")\n        //  this will make it loop, till the user gives a valid number\n    }\n    return (question * 2.33463)\n}\n\nfunction move() {\n    var elem = document.getElementById(\"myBar\")\n    var width = widthGenerator()\n\n    //  You don't really need the timeout, since you can make the if anyway.\n    var id = setInterval(function(){\n        //  this is anonymous function, it is used if you need to pass a callback to \n        if (width &gt;= widthGenerator()) {\n            //  Clearing this timeout won't do anything as you allready did cleared it by calling it\n            clearInterval(id)\n        } else {\n            width += 0.1\n            elem.style.width = width + '%'\n        }\n    }, 1)\n}\n</code></pre>\n\n<p>Feel free to ask any questions.</p>\n"}], "owner": {"reputation": 3, "user_id": 6798526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36a37671ac81e9ab7d63ffb9db3b302b?s=128&d=identicon&r=PG&f=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/6798526/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 39499426, "answer_count": 2, "score": 0, "last_activity_date": 1473887074, "creation_date": 1473885636, "last_edit_date": 1473885906, "question_id": 39499324, "link": "https://stackoverflow.com/questions/39499324/debugging-an-xp-bar", "title": "Debugging an XP bar", "body": "<p>I've been working awhile on making this code, but I can't seem to make it work like I want it to. I wanted a prompt to come up, ask for how long you've worked on a topic, then give the correct width on the progress bar.</p>\n\n<p>Edit: widthGenerator creates the popup, but I can't seem to have the variable width in widthGenerator() transfer to Move() as Move's width.</p>\n\n<p>Here is my code: </p>\n\n<pre><code>&lt;body class=\"w3-container\"&gt;\n&lt;div class=\"w3-progress-container w3-round-xlarge\"&gt;\n    &lt;div id=\"myBar\" class=\"w3-progressbar w3-round-xlarge\" style=\"width:1%\"&gt;&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;button class=\"w3-btn\" onclick=\"move()\"&gt;Click Me&lt;/button&gt; \n\n&lt;script&gt;\nfunction widthGenerator() {\nvar question = prompt(\"Enter number of hours worked:\", \"Enter here\");\n  if (isNaN(question) == false) {\n      var width = (question * 2.33463);\n      break;\n  } else if (isNaN(question) == true) {\n    question = prompt(\"That is not a number; Enter the number of hours worked:\", \"Enter here\");\n    break;\n  };\n}\nfunction move() {\n    var elem = document.getElementById(\"myBar\"); \n    var id = setInterval(frame, 1);\nvar width = widthGenerator()\nfunction frame() {\n    if (width &gt;= widthGenerator()) {\n        clearInterval(id);\n    } else {\n        width += 0.1; \n        elem.style.width = width + '%'; \n    }\n  }\n}\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "background-image", "background-size"], "answers": [{"tags": [], "owner": {"reputation": 7680, "user_id": 2687790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XZPKJ.jpg?s=128&g=1", "display_name": "The One and Only ChemistryBlob", "link": "https://stackoverflow.com/users/2687790/the-one-and-only-chemistryblob"}, "is_accepted": false, "score": 2, "last_activity_date": 1473885587, "creation_date": 1473885587, "answer_id": 39499309, "question_id": 39499292, "link": "https://stackoverflow.com/questions/39499292/use-javascript-to-change-background-css-on-browser-resize/39499309#39499309", "title": "Use javascript to change background css on browser resize", "body": "<p>Your JS should use backgroundSize, not background-size:</p>\n\n<pre><code>document.getElementById(\"body\").style.backgroundSize = \"auto 100%\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 6830318, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HzMyR.jpg?s=128&g=1", "display_name": "Spalqui Oliveira", "link": "https://stackoverflow.com/users/6830318/spalqui-oliveira"}, "is_accepted": false, "score": 0, "last_activity_date": 1473886314, "creation_date": 1473886314, "answer_id": 39499460, "question_id": 39499292, "link": "https://stackoverflow.com/questions/39499292/use-javascript-to-change-background-css-on-browser-resize/39499460#39499460", "title": "Use javascript to change background css on browser resize", "body": "<p>Another alternative which I find easier is using jQuery. You can simply use the resize() event handler. Below is an example:</p>\n\n<pre><code>$(window).on('resize', function () {\n</code></pre>\n\n<p>//Here you can add your code that you want to execute on resize\n})</p>\n\n<p>To then change the css you can also use jQuery .css().</p>\n"}, {"tags": [], "owner": {"reputation": 36, "user_id": 6810490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2031794a9a98f338adec88ccb60c54ac?s=128&d=identicon&r=PG&f=1", "display_name": "C1234", "link": "https://stackoverflow.com/users/6810490/c1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1473887622, "last_edit_date": 1473887622, "creation_date": 1473886923, "answer_id": 39499591, "question_id": 39499292, "link": "https://stackoverflow.com/questions/39499292/use-javascript-to-change-background-css-on-browser-resize/39499591#39499591", "title": "Use javascript to change background css on browser resize", "body": "<p><a href=\"http://fofwebdesign.co.uk/template/_...tio-resize.htm\" rel=\"nofollow\">http://fofwebdesign.co.uk/template/_...tio-resize.htm</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.target-ratio-resize {\r\n\tmax-width: 960px; /* actual img width */\r\n\tmax-height: 150px; /* actual img height */\r\n\t*height: 150px; /* actual img height - IE7 */\r\n\tbackground-image: url(students.jpg);\r\n\tbackground-size: cover;\r\n\tbackground-position: center;\r\n}\r\n.target-ratio-resize:after {\r\n\tcontent: \" \";\r\n\tdisplay: block; \r\n\twidth: 100%; \r\n\tpadding-top: 66.666%; /* 2:3 ratio */\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1498, "user_id": 6302841, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/6a295f0ffe1a9e331085c0ffc8b8a759?s=128&d=identicon&r=PG&f=1", "display_name": "k2snowman69", "link": "https://stackoverflow.com/users/6302841/k2snowman69"}, "is_accepted": true, "score": 0, "last_activity_date": 1473888354, "creation_date": 1473888354, "answer_id": 39499873, "question_id": 39499292, "link": "https://stackoverflow.com/questions/39499292/use-javascript-to-change-background-css-on-browser-resize/39499873#39499873", "title": "Use javascript to change background css on browser resize", "body": "<p>Another alternative to all of these is to use media queries (since you're doing this on the window) and get rid of the javascript all together. This will run smoother as the browser does most of the work for you.</p>\n\n<p>Looks like the query you are looking for is the aspect-ratio so something like:</p>\n\n<pre><code>@media screen and (min-aspect-ratio: 2/3) \n{\n   body {\n      background-size: auto 100%;\n   }\n}\n@media screen and (max-aspect-ratio: 2/3) \n{\n   body {\n      background-size: 100% auto;\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 5842686, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c74bf581f3deb104af29eb553be8ac52?s=128&d=identicon&r=PG&f=1", "display_name": "Bradon Thomason", "link": "https://stackoverflow.com/users/5842686/bradon-thomason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 229, "favorite_count": 0, "accepted_answer_id": 39499873, "answer_count": 4, "score": 0, "last_activity_date": 1473888354, "creation_date": 1473885526, "question_id": 39499292, "link": "https://stackoverflow.com/questions/39499292/use-javascript-to-change-background-css-on-browser-resize", "title": "Use javascript to change background css on browser resize", "body": "<p>So, I want the background-size to change when the browser height is equal to 2/3 of the browser width. Here is the code I've tried, and I can't get it to work.</p>\n\n<pre><code>&lt;body id=\"body\" onresize=\"BG_resize()\"&gt;\n&lt;script&gt;\n    function BG_resize() {\n        var w = window.innerWidth;\n        var h = window.innerHeight;\n\n        if ((w * (2 / 3)) &lt; h){\n            document.getElementById(\"body\").style.background-size = \"auto 100%\";\n        }\n    }\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>The css:</p>\n\n<pre><code>#body {\n    background:url(\"Layout/BG.jpg\");\n    background-size:100% auto;\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-redux"], "comments": [{"owner": {"reputation": 5597, "user_id": 414002, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MH8tw.jpg?s=128&g=1", "display_name": "Dhruv Kumar Jha", "link": "https://stackoverflow.com/users/414002/dhruv-kumar-jha"}, "edited": false, "score": 0, "creation_date": 1473885944, "post_id": 39499259, "comment_id": 66316299, "body": "Whats in <code>action.response</code> and what do you see if you <code>console.log( state.app.get(&#39;data&#39;) )</code>?"}, {"owner": {"reputation": 6596, "user_id": 1409674, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c8efcd23d64202e3667226982609dc5?s=128&d=identicon&r=PG", "display_name": "Tomek Buszewski", "link": "https://stackoverflow.com/users/1409674/tomek-buszewski"}, "reply_to_user": {"reputation": 5597, "user_id": 414002, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MH8tw.jpg?s=128&g=1", "display_name": "Dhruv Kumar Jha", "link": "https://stackoverflow.com/users/414002/dhruv-kumar-jha"}, "edited": false, "score": 0, "creation_date": 1473886109, "post_id": 39499259, "comment_id": 66316369, "body": "<code>action.response</code> is my parsed json file. After <code>console.logging</code> I am getting <code>Map {size: 2...</code>, so normal ImmutableJS map."}, {"owner": {"reputation": 5597, "user_id": 414002, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MH8tw.jpg?s=128&g=1", "display_name": "Dhruv Kumar Jha", "link": "https://stackoverflow.com/users/414002/dhruv-kumar-jha"}, "edited": false, "score": 0, "creation_date": 1473886372, "post_id": 39499259, "comment_id": 66316497, "body": "Ok, And what do you see after <code>console.log( state.app.get(&#39;data&#39;).toObject() )</code>, Is it the correct data <code>works</code> and <code>pages</code>?"}, {"owner": {"reputation": 6596, "user_id": 1409674, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c8efcd23d64202e3667226982609dc5?s=128&d=identicon&r=PG", "display_name": "Tomek Buszewski", "link": "https://stackoverflow.com/users/1409674/tomek-buszewski"}, "reply_to_user": {"reputation": 5597, "user_id": 414002, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MH8tw.jpg?s=128&g=1", "display_name": "Dhruv Kumar Jha", "link": "https://stackoverflow.com/users/414002/dhruv-kumar-jha"}, "edited": false, "score": 0, "creation_date": 1473886596, "post_id": 39499259, "comment_id": 66316610, "body": "Interesting, <code>TypeError: state.app.get(...).toObject is not a function</code>. But when I view the state in Redux Dev Extension, everything seems in place."}, {"owner": {"reputation": 5597, "user_id": 414002, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MH8tw.jpg?s=128&g=1", "display_name": "Dhruv Kumar Jha", "link": "https://stackoverflow.com/users/414002/dhruv-kumar-jha"}, "edited": false, "score": 0, "creation_date": 1473886832, "post_id": 39499259, "comment_id": 66316715, "body": "Sorry, try .toArray()"}, {"owner": {"reputation": 6596, "user_id": 1409674, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c8efcd23d64202e3667226982609dc5?s=128&d=identicon&r=PG", "display_name": "Tomek Buszewski", "link": "https://stackoverflow.com/users/1409674/tomek-buszewski"}, "reply_to_user": {"reputation": 5597, "user_id": 414002, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MH8tw.jpg?s=128&g=1", "display_name": "Dhruv Kumar Jha", "link": "https://stackoverflow.com/users/414002/dhruv-kumar-jha"}, "edited": false, "score": 0, "creation_date": 1473886913, "post_id": 39499259, "comment_id": 66316749, "body": "Right, I get two <code>Map</code>s."}, {"owner": {"reputation": 5597, "user_id": 414002, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MH8tw.jpg?s=128&g=1", "display_name": "Dhruv Kumar Jha", "link": "https://stackoverflow.com/users/414002/dhruv-kumar-jha"}, "edited": false, "score": 0, "creation_date": 1473886972, "post_id": 39499259, "comment_id": 66316768, "body": "If you get <code>Map</code>, then change <code>works: d.works</code> to <code>works: d.get(&#39;works&#39;)</code>"}, {"owner": {"reputation": 6596, "user_id": 1409674, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c8efcd23d64202e3667226982609dc5?s=128&d=identicon&r=PG", "display_name": "Tomek Buszewski", "link": "https://stackoverflow.com/users/1409674/tomek-buszewski"}, "reply_to_user": {"reputation": 5597, "user_id": 414002, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MH8tw.jpg?s=128&g=1", "display_name": "Dhruv Kumar Jha", "link": "https://stackoverflow.com/users/414002/dhruv-kumar-jha"}, "edited": false, "score": 0, "creation_date": 1473887163, "post_id": 39499259, "comment_id": 66316841, "body": "So obvious! Works like a charm, please post this comment as an answer so I can accept and upvote it."}], "answers": [{"comments": [{"owner": {"reputation": 6596, "user_id": 1409674, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c8efcd23d64202e3667226982609dc5?s=128&d=identicon&r=PG", "display_name": "Tomek Buszewski", "link": "https://stackoverflow.com/users/1409674/tomek-buszewski"}, "edited": false, "score": 0, "creation_date": 1473887384, "post_id": 39499603, "comment_id": 66316935, "body": "Hi, thanks for the input, but this doesn&#39;t help. Actually, you have syntax errors in your code ;)"}], "tags": [], "owner": {"reputation": 1, "user_id": 6380192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23af81cf5b1c3cc1e00e54301986969c?s=128&d=identicon&r=PG&f=1", "display_name": "psychodramatic", "link": "https://stackoverflow.com/users/6380192/psychodramatic"}, "is_accepted": false, "score": 0, "last_activity_date": 1473887000, "creation_date": 1473887000, "answer_id": 39499603, "question_id": 39499259, "link": "https://stackoverflow.com/questions/39499259/react-redux-props-are-undefined-while-rendering-from-immutable/39499603#39499603", "title": "React Redux - props are undefined while rendering from Immutable", "body": "<p>You are calling d.works but it is not defined. I think in your action when you pass in your initial state you need to also defined works</p>\n\n<pre><code>const initialState = Map({\n   data: [\n       works: [],\n       pages: []\n   ],\n   sections: []\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5597, "user_id": 414002, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/MH8tw.jpg?s=128&g=1", "display_name": "Dhruv Kumar Jha", "link": "https://stackoverflow.com/users/414002/dhruv-kumar-jha"}, "is_accepted": true, "score": 2, "last_activity_date": 1473887536, "creation_date": 1473887536, "answer_id": 39499711, "question_id": 39499259, "link": "https://stackoverflow.com/questions/39499259/react-redux-props-are-undefined-while-rendering-from-immutable/39499711#39499711", "title": "React Redux - props are undefined while rendering from Immutable", "body": "<p>Since you're using Immutable JS</p>\n\n<p>In your <code>mapStateToProps</code></p>\n\n<pre><code>const mapStateToProps = (state) =&gt; {\n  const d = state.app.get('data');\n\n  return {\n    works: d.works,\n    ...\n</code></pre>\n\n<p>To access data from <code>d</code>, change the way you access data, From <code>d.works</code> to <strong><code>d.get('works')</code></strong></p>\n\n<pre><code>  return {\n    works: d.get('works'),\n    pages: d.get('pages'),\n    sections: state.app.get('sections')\n  }\n</code></pre>\n"}], "owner": {"reputation": 6596, "user_id": 1409674, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6c8efcd23d64202e3667226982609dc5?s=128&d=identicon&r=PG", "display_name": "Tomek Buszewski", "link": "https://stackoverflow.com/users/1409674/tomek-buszewski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 334, "favorite_count": 1, "accepted_answer_id": 39499711, "answer_count": 2, "score": 2, "last_activity_date": 1473887536, "creation_date": 1473885409, "question_id": 39499259, "link": "https://stackoverflow.com/questions/39499259/react-redux-props-are-undefined-while-rendering-from-immutable", "title": "React Redux - props are undefined while rendering from Immutable", "body": "<p>I want to incorporate ImmutableJS to my React app. So now my reducer looks like this:</p>\n\n<pre><code>import { Map } from 'immutable'\n\nconst initialState = Map({\n  data: [],\n  sections: []\n});\n\nconst AppState = (state = initialState, action) =&gt; {\n  switch (action.type) {\n    case 'ADD_CONTENT':\n      return state.set('data', action.response);\n    case 'ADD_SECTION':\n      return state.set('sections', [ ...state.get('sections'), action.payload ]);\n    default:\n      return state;\n  }\n};\n\nexport default AppState;\n</code></pre>\n\n<p>And this is all fine and good. But in my component I have <code>mapStateToProps</code>:</p>\n\n<pre><code>const mapStateToProps = (state) =&gt; {\n  const d = state.app.get('data');\n\n  return {\n    works: d.works,\n    pages: d.pages,\n    sections: state.app.get('sections')\n  }\n};\n</code></pre>\n\n<p>and then I want to display the data:</p>\n\n<pre><code>  {\n    this.props.works.map(d =&gt; {\n      return &lt;div&gt;d&lt;/div&gt;\n    })\n  }\n</code></pre>\n\n<p>And I am getting </p>\n\n<blockquote>\n  <p>TypeError: this.props.works.map is not a function</p>\n</blockquote>\n\n<p>When I <code>console.log</code> instead, I am getting that <code>this.props.works</code> is undefined. What can I do?</p>\n"}, {"tags": ["javascript", "java", "c", "actionscript-3", "syntax"], "answers": [{"tags": [], "owner": {"reputation": 41425, "user_id": 129032, "user_type": "registered", "accept_rate": 98, "profile_image": "https://www.gravatar.com/avatar/e8bea8f9e6972dfd3113d67da68e6933?s=128&d=identicon&r=PG", "display_name": "ssube", "link": "https://stackoverflow.com/users/129032/ssube"}, "is_accepted": true, "score": 5, "last_activity_date": 1473886824, "last_edit_date": 1473886824, "creation_date": 1473885305, "answer_id": 39499236, "question_id": 39499198, "link": "https://stackoverflow.com/questions/39499198/is-there-a-name-for-the-following-reflection-language-feature-and-standard-way-t/39499236#39499236", "title": "Is there a name for the following reflection language feature and standard way to implement?", "body": "<p>This is called <a href=\"https://en.wikipedia.org/wiki/Run-time_type_information\" rel=\"nofollow\">RTTI</a> and no, there's no standard, nor can there be. </p>\n\n<p>Every language implements types differently (and many don't even retain them through to run time). In C++, classes aren't aware of their namespace. In JS, prototypical inheritance makes the whole thing meaningless (although you can fetch the constructor, which has a name of its own).</p>\n\n<p>When accessing the properties within an instance, it gets even uglier. The property might be a getter/setter and link to a child object or a field with a totally different name.</p>\n\n<p>Plenty of languages do provide runtime type information at the class level, but I'm unaware of a language with heavy enough properties that they can reflect themselves out of the class. Each property knowing where it's assigned on a parent would probably be impossible, since an object may be assigned to multiple variables. Querying that would give you an array of outstanding references back, but creating that list would introduce more references (albeit weak).</p>\n\n<p>In certain languages, especially ones that implement garbage collection in regular old code rather than the underlying (virtual) machine, you <em>may</em> be able to look up all smart pointers that are holding an object. This is typically an implementation detail of the smart pointer class, so it knows either how many or exactly where the references live.</p>\n\n<p>None of those features will help you with properties, though. I think that's mostly because you can assign them anywhere, so it's not very meaningful. If you want named properties, use a <code>Map</code>. ;)</p>\n"}], "owner": {"reputation": 12827, "user_id": 441016, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/e3aa08907388338521f3d9cec7a13d32?s=128&d=identicon&r=PG", "display_name": "1.21 gigawatts", "link": "https://stackoverflow.com/users/441016/1-21-gigawatts"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 1, "accepted_answer_id": 39499236, "answer_count": 1, "score": 3, "last_activity_date": 1473886824, "creation_date": 1473885175, "question_id": 39499198, "link": "https://stackoverflow.com/questions/39499198/is-there-a-name-for-the-following-reflection-language-feature-and-standard-way-t", "title": "Is there a name for the following reflection language feature and standard way to implement?", "body": "<p>Let's say you have an object and you want to get a string of the name of the property you are referencing. Is there a name for that? I mean it's some sort of <code>reflection</code> but is there a more specific name for it and do languages implement it in standard way?</p>\n\n<p>For example, this feature exists for class based objects using <code>toString()</code> in JavaScript or ActionScript. </p>\n\n<pre><code>var person:Person = new Person();\nvar nameOfClass:String = person.toString();\ntrace(nameOfClass); // traces \"Person\" or \"com.mydomain.model.Person\"\n</code></pre>\n\n<p>But since properties can be null or undefined you can't use <code>toString()</code> as it will throw an error or if it's not <code>null</code> it will get the <code>value</code>: </p>\n\n<pre><code>var person:Person = new Person();\nvar nameOfProperty:String = person.name.toString(); // error is thrown when null\nperson.name = \"John\";\nperson.name.toString(); // traces the value \"John\" not the type\n</code></pre>\n\n<p>So I'm guessing some languages would have a global function like so.  </p>\n\n<pre><code>var person:Person = new Person();\nvar nameOfProperty:String = propertyName(person.name);\n\ntrace(nameOfProperty); // traces \"name\"\n\nnameOfProperty = propertyName(person.zipCode);\ntrace(person.zipCode); // traces \"zipCode\" \n</code></pre>\n\n<p>Is there a specific name for this feature and if so how is implemented?</p>\n"}, {"tags": ["javascript", "html5-canvas"], "comments": [{"owner": {"reputation": 676, "user_id": 6744102, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aFjeNga83sA/AAAAAAAAAAI/AAAAAAAAAEw/DmT6Upe473E/photo.jpg?sz=128", "display_name": "Robert Parham", "link": "https://stackoverflow.com/users/6744102/robert-parham"}, "edited": false, "score": 0, "creation_date": 1473885265, "post_id": 39499125, "comment_id": 66315951, "body": "that is not how you draw on a canvas. you can&#39;t draw rectanles on a canvas using html. it has to be done with javascript."}, {"owner": {"reputation": 676, "user_id": 6744102, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aFjeNga83sA/AAAAAAAAAAI/AAAAAAAAAEw/DmT6Upe473E/photo.jpg?sz=128", "display_name": "Robert Parham", "link": "https://stackoverflow.com/users/6744102/robert-parham"}, "edited": false, "score": 0, "creation_date": 1473885306, "post_id": 39499125, "comment_id": 66315972, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/rect\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/&hellip;</a>"}, {"owner": {"reputation": 31, "user_id": 3757669, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d0d21e0c0ce90631ac549b09bbd3b592?s=128&d=identicon&r=PG", "display_name": "will0956", "link": "https://stackoverflow.com/users/3757669/will0956"}, "reply_to_user": {"reputation": 676, "user_id": 6744102, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aFjeNga83sA/AAAAAAAAAAI/AAAAAAAAAEw/DmT6Upe473E/photo.jpg?sz=128", "display_name": "Robert Parham", "link": "https://stackoverflow.com/users/6744102/robert-parham"}, "edited": false, "score": 0, "creation_date": 1473886196, "post_id": 39499125, "comment_id": 66316413, "body": "Tried. Still not working though.  <a href=\"http://codepen.io/PCMRwill0956/pen/LRNyyJ\" rel=\"nofollow noreferrer\">codepen.io/PCMRwill0956/pen/LRNyyJ</a>"}, {"owner": {"reputation": 676, "user_id": 6744102, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aFjeNga83sA/AAAAAAAAAAI/AAAAAAAAAEw/DmT6Upe473E/photo.jpg?sz=128", "display_name": "Robert Parham", "link": "https://stackoverflow.com/users/6744102/robert-parham"}, "edited": false, "score": 0, "creation_date": 1473886448, "post_id": 39499125, "comment_id": 66316534, "body": "will - if my answer helped you please hit the checkmark by the answer."}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 3757669, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d0d21e0c0ce90631ac549b09bbd3b592?s=128&d=identicon&r=PG", "display_name": "will0956", "link": "https://stackoverflow.com/users/3757669/will0956"}, "edited": false, "score": 0, "creation_date": 1474055163, "post_id": 39499439, "comment_id": 66392088, "body": "Just tried it. I got       Uncaught TypeError: Cannot read property &#39;getContext&#39; of null  in Chrome"}, {"owner": {"reputation": 676, "user_id": 6744102, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aFjeNga83sA/AAAAAAAAAAI/AAAAAAAAAEw/DmT6Upe473E/photo.jpg?sz=128", "display_name": "Robert Parham", "link": "https://stackoverflow.com/users/6744102/robert-parham"}, "reply_to_user": {"reputation": 31, "user_id": 3757669, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d0d21e0c0ce90631ac549b09bbd3b592?s=128&d=identicon&r=PG", "display_name": "will0956", "link": "https://stackoverflow.com/users/3757669/will0956"}, "edited": false, "score": 0, "creation_date": 1474055668, "post_id": 39499439, "comment_id": 66392299, "body": "the ID you&#39;re using in getElementById is wrong or your code is running before the DOM is ready. feel free to post a new question with your new code if you need further help as this is a different, unrelated problem."}], "tags": [], "owner": {"reputation": 676, "user_id": 6744102, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aFjeNga83sA/AAAAAAAAAAI/AAAAAAAAAEw/DmT6Upe473E/photo.jpg?sz=128", "display_name": "Robert Parham", "link": "https://stackoverflow.com/users/6744102/robert-parham"}, "is_accepted": true, "score": 0, "last_activity_date": 1473886208, "creation_date": 1473886208, "answer_id": 39499439, "question_id": 39499125, "link": "https://stackoverflow.com/questions/39499125/i-have-a-canvas-that-id-like-to-generate-random-rectangles-on-i-cant-seem-to/39499439#39499439", "title": "I have a canvas that I&#39;d like to generate random rectangles on. I can&#39;t seem to get it to work", "body": "<p>Example of how to draw a rectangle on canvas:</p>\n\n<pre><code>    var canvas = document.getElementById(\"Canvas\");\n    var ctx = canvas.getContext(\"2d\");\n    ctx.beginPath();\n    var width = 10;\n    var height = 10;\n    var x = 0;\n    var y = 0;\n    ctx.fillStyle = \"#FFF0000\";\n    ctx.rect(x, y, width, height);\n    ctx.fill();\n    ctx.stroke();\n</code></pre>\n\n<p>Here's a quick fiddle which draws randomly sized, randomly colored rectangles on the canvas: <a href=\"https://jsfiddle.net/6omtu0pg/\" rel=\"nofollow\">https://jsfiddle.net/6omtu0pg/</a></p>\n"}], "owner": {"reputation": 31, "user_id": 3757669, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/d0d21e0c0ce90631ac549b09bbd3b592?s=128&d=identicon&r=PG", "display_name": "will0956", "link": "https://stackoverflow.com/users/3757669/will0956"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 39499439, "answer_count": 1, "score": 0, "last_activity_date": 1473886208, "creation_date": 1473884877, "question_id": 39499125, "link": "https://stackoverflow.com/questions/39499125/i-have-a-canvas-that-id-like-to-generate-random-rectangles-on-i-cant-seem-to", "title": "I have a canvas that I&#39;d like to generate random rectangles on. I can&#39;t seem to get it to work", "body": "<p>Code </p>\n\n<pre><code>&lt;script src=\"https://code.jquery.com/jquery-3.1.0.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\nwindow.onload {\nfunction rectWidth() {\n    var width = document.getElementById('Canvas').offsetWidth;\n    Math.floor((Math.random() * 100) + 1);\n}\nfunction rectHeight() {\n    var width = document.getElementById('Canvas').offsetHeight;\n    Math.floor((Math.random() * 200) + 2);\n}\nfunction randColor() {\n    var randomColor = Math.floor(Math.random()*16777215).toString(16);\n}\nreturn rectWidth;\nreturn rectHeight;\nreturn randColor;\n$(#rect).html(\"&lt;rect width=\"return rectWidth;\" height=\"return rectHeight\" style=\"\"color=\"return randColor\"/&gt;\")}\n}\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;canvas id=\"Canvas\" width=\"900\" height=\"200\"&gt;\n&lt;rect id=\"rect\" width=\"250\" height=\"250\" style=\"color=blue\"/&gt;&lt;/canvas&gt;\n</code></pre>\n\n<p>I'm just trying to figure out how I can change the width, height, and color of the rectangle.</p>\n\n<p>Position will come next.</p>\n\n<p>How would I change my code to get it to work?</p>\n"}, {"tags": ["javascript", "angularjs"], "answers": [{"tags": [], "owner": {"reputation": 319, "user_id": 1444465, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f57287fb13ec12e95b97138cc85cd781?s=128&d=identicon&r=PG", "display_name": "olysachok", "link": "https://stackoverflow.com/users/1444465/olysachok"}, "is_accepted": true, "score": 1, "last_activity_date": 1473885080, "creation_date": 1473885080, "answer_id": 39499168, "question_id": 39499115, "link": "https://stackoverflow.com/questions/39499115/applying-invalid-just-for-visible-controls/39499168#39499168", "title": "Applying `$invalid` just for visible controls", "body": "<p>You can use <code>ng-if</code> instead of <code>ng-hide</code>:</p>\n\n<pre><code>&lt;input data-ng-if=\"!objective.editMode\" type=\"number\" min=\"0\" max=\"100\" \n           data-ng-model=\"newTask.Progress\" class=\"form-control\" required  /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 12628, "user_id": 3244064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea793dcbaff5a5e29ad3d05ef564d86?s=128&d=identicon&r=PG", "display_name": "Andriy", "link": "https://stackoverflow.com/users/3244064/andriy"}, "is_accepted": false, "score": 1, "last_activity_date": 1473885618, "creation_date": 1473885618, "answer_id": 39499319, "question_id": 39499115, "link": "https://stackoverflow.com/questions/39499115/applying-invalid-just-for-visible-controls/39499319#39499319", "title": "Applying `$invalid` just for visible controls", "body": "<p>elements hidden with <code>data-ng-hide / data-ng-show</code> are still on the DOM tree and thus being validated. Use <code>data-ng-if</code> instead, which will remove elements from the DOM:</p>\n\n<pre><code>&lt;form class=\"form-horizontal\" role=\"form\" name=\"adduserform\"&gt;                        \n&lt;div class=\"form-group\"&gt;                           \n   &lt;label for=\"title6\" class=\"col-sm-5 control-label\"&gt;Progress&lt;/label&gt;\n   &lt;div class=\"col-sm-6\"&gt;\n\n      &lt;input data-ng-if=\"!objective.editMode\" type=\"number\" min=\"0\" max=\"100\" \n           data-ng-model=\"newTask.Progress\" class=\"form-control\" required  /&gt;\n      &lt;input data-ng-if=\"objective.editMode\" type=\"number\" min=\"0\" max=\"100\" \n           data-ng-model=\"objective.Progress\" class=\"form-control\" required  /&gt;\n\n   &lt;/div&gt;\n&lt;/div&gt;    \n\n&lt;div class=\"form-group\"&gt;\n   &lt;div class=\"col-sm-offset-2 col-sm-10\"&gt;\n      &lt;span data-ng-if=\"!editMode\"&gt;\n         &lt;input data-ng-if=\"!objective.editMode\" type=\"submit\" value=\"Add\" \n                ng-disabled=\"adduserform.$invalid\" data-ng-click=\"add()\"/&gt;\n         &lt;input data-ng-if=\"objective.editMode\" type=\"submit\" value=\"Save\" \n                ng-disabled=\"adduserform.$invalid\" data-ng-click=\"Save()\" /&gt;    \n      &lt;/span&gt;                 \n   &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p></p>\n"}], "owner": {"reputation": 26971, "user_id": 1646240, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cbd5c282ccb929604467e3b3f900b0d5?s=128&d=identicon&r=PG", "display_name": "StepUp", "link": "https://stackoverflow.com/users/1646240/stepup"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 39499168, "answer_count": 2, "score": 0, "last_activity_date": 1473885618, "creation_date": 1473884846, "question_id": 39499115, "link": "https://stackoverflow.com/questions/39499115/applying-invalid-just-for-visible-controls", "title": "Applying `$invalid` just for visible controls", "body": "<p>I have a simple form which shows control depending on property <code>data-ng-hide=\"objective.editMode\"</code>: </p>\n\n<pre><code>&lt;form class=\"form-horizontal\" role=\"form\" name=\"adduserform\"&gt;                        \n    &lt;div class=\"form-group\"&gt;                           \n       &lt;label for=\"title6\" class=\"col-sm-5 control-label\"&gt;Progress&lt;/label&gt;\n       &lt;div class=\"col-sm-6\"&gt;\n\n          &lt;input data-ng-hide=\"objective.editMode\" type=\"number\" min=\"0\" max=\"100\" \n               data-ng-model=\"newTask.Progress\" class=\"form-control\" required  /&gt;\n          &lt;input data-ng-show=\"objective.editMode\" type=\"number\" min=\"0\" max=\"100\" \n               data-ng-model=\"objective.Progress\" class=\"form-control\" required  /&gt;\n\n       &lt;/div&gt;\n    &lt;/div&gt;    \n\n    &lt;div class=\"form-group\"&gt;\n       &lt;div class=\"col-sm-offset-2 col-sm-10\"&gt;\n          &lt;span data-ng-hide=\"editMode\"&gt;\n             &lt;input data-ng-hide=\"objective.editMode\" type=\"submit\" value=\"Add\" \n                    ng-disabled=\"adduserform.$invalid\" data-ng-click=\"add()\"/&gt;\n             &lt;input data-ng-show=\"objective.editMode\" type=\"submit\" value=\"Save\" \n                    ng-disabled=\"adduserform.$invalid\" data-ng-click=\"Save()\" /&gt;    \n          &lt;/span&gt;                 \n       &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>My question is can <code>adduserform.$invalid</code> checks just shown controls on the form?</strong> As <code>adduserform.$invalid</code> requires all control to be filled, but not all controls are shown on the form as appearance of control is depending on <code>objective.editMode</code></p>\n"}, {"tags": ["javascript", "json", "ag-grid"], "comments": [{"owner": {"reputation": 5921, "user_id": 5187323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xVDpEqW-Abc/AAAAAAAAAAI/AAAAAAAAABY/gNTyOFByGVo/photo.jpg?sz=128", "display_name": "Jarod Moser", "link": "https://stackoverflow.com/users/5187323/jarod-moser"}, "edited": false, "score": 0, "creation_date": 1474305502, "post_id": 39499088, "comment_id": 66467295, "body": "I&#39;m confused by your question, You say you want total_num_ords_sell in a second row and then say that it creates a &quot;separate row&quot;... sounds like you are getting what you want?"}, {"owner": {"reputation": 187, "user_id": 6832193, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9ecc9f0a09af806d58e97051dbf04cb5?s=128&d=identicon&r=PG&f=1", "display_name": "shek", "link": "https://stackoverflow.com/users/6832193/shek"}, "reply_to_user": {"reputation": 5921, "user_id": 5187323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xVDpEqW-Abc/AAAAAAAAAAI/AAAAAAAAABY/gNTyOFByGVo/photo.jpg?sz=128", "display_name": "Jarod Moser", "link": "https://stackoverflow.com/users/5187323/jarod-moser"}, "edited": false, "score": 0, "creation_date": 1474313229, "post_id": 39499088, "comment_id": 66471270, "body": "@JarodMoser It creates a separate column, I mean."}, {"owner": {"reputation": 5921, "user_id": 5187323, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xVDpEqW-Abc/AAAAAAAAAAI/AAAAAAAAABY/gNTyOFByGVo/photo.jpg?sz=128", "display_name": "Jarod Moser", "link": "https://stackoverflow.com/users/5187323/jarod-moser"}, "edited": false, "score": 0, "creation_date": 1474316969, "post_id": 39499088, "comment_id": 66473155, "body": "Ok... so you are trying to get the number 2231 to be displayed just below the number 1986, as shown in this <a href=\"https://plnkr.co/edit/ccGkKntrpXd9KwjgIz3M?p=preview\" rel=\"nofollow noreferrer\">plnkr</a>? As in you want a bought row and sold row?"}], "owner": {"reputation": 187, "user_id": 6832193, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/9ecc9f0a09af806d58e97051dbf04cb5?s=128&d=identicon&r=PG&f=1", "display_name": "shek", "link": "https://stackoverflow.com/users/6832193/shek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1613, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1474313192, "creation_date": 1473884731, "last_edit_date": 1474313192, "question_id": 39499088, "link": "https://stackoverflow.com/questions/39499088/displaying-multiple-values-under-same-column-using-ag-grid", "title": "Displaying multiple values under same column using ag-grid", "body": "<p>I have the following json data:</p>\n\n<pre><code>[\n{\"total_wt_arr_slp_buy\":\"-1.1411\",\"total_wt_arr_last_slp_sell\":\"0.1308\",\"total_exec_qty_buy\":\"1333409\",\"total_ord_qty_sell\":\"1999840\",\"total_wt_buy\":\"0.41\",\"total_exec_qty_sell\":\"1859730\",\"total_wt_ivwap_slp_sell\":\"-0.7283\",\"total_wt_arr_last_slp_buy\":\"0.9204\",\"total_wt_sell\":\"0.59\",\"total_exec_val_sell\":\"106934063.00\",\"total_wt_ivwap_slp_buy\":\"0.2858\",\"total_exec_val_buy\":\"73297184.00\",\"total_ord_qty_buy\":\"1456485\",\"total_num_ords_sell\":\"2231\",\"total_num_ords_buy\":\"1986\",\"total_wt_arr_slp_sell\":\"-1.3096\"}]\n</code></pre>\n\n<p>I'm using ag-grid to display this json data in the following way:</p>\n\n<pre><code>var columnDefs = [\n     {headerName: \"Orders\", field: \"total_num_ords_buy\", width: 150, unSortIcon: true},\n    {headerName: \"Order Qty\", field: \"total_ord_qty_buy\", width: 150, unSortIcon: true}, \n\n];\n\nvar gridOptions = {\n    columnDefs: columnDefs,\n    rowData: null,\n    enableSorting: true,\n    enableFilter: true,\n\n    suppressContextMenu: true,\n    suppressMenuMainPanel: true,\n    suppressMenuColumnPanel: true\n};\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    var gridDiv = document.querySelector('#myGrid');\n    new agGrid.Grid(gridDiv, gridOptions);\n\n    // do http request to get our sample data - not using any framework to keep the example self contained.\n    // you will probably use a framework like JQuery, Angular or something else to do your HTTP calls.\n    var httpRequest = new XMLHttpRequest();\n    httpRequest.open('GET', '../dist/output3.json');\n    httpRequest.send();\n    httpRequest.onreadystatechange = function() {\n        if (httpRequest.readyState == 4 &amp;&amp; httpRequest.status == 200) {\n            var httpResult = JSON.parse(httpRequest.responseText);\n\n\n            function isNumeric(n) { \n                return !isNaN(parseFloat(n)) &amp;&amp; isFinite(n);\n            }\n\n            var parsedData = httpResult.products.map(function(obj) {\n                return Object.keys(obj).reduce(function(memo, key) {\n                    var value = obj[key];\n                    memo[key] = isNumeric(value) ? Number(value) : value;\n\n                    return memo;\n                }, {})\n            })\n\n            console.log(parsedData);\n\n            gridOptions.api.setRowData(parsedData);\n        } \n    };\n});\n</code></pre>\n\n<p>I want to display <code>total_num_ords_sell</code> under <code>Orders</code> <code>headerName</code> in the second row but when I do {<code>headerName: \"Orders\", field: \"total_num_ords_sell\", width: 150, unSortIcon: true},</code>, it creates a separate column for it as well. How do I do that?</p>\n"}, {"tags": ["javascript", "ajax", "cookies", "xmlhttprequest"], "comments": [{"owner": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1473905534, "post_id": 39499015, "comment_id": 66321707, "body": "Afaik you can <i>never</i> access the <code>Set-Cookie</code> header, e.g. for security in the case it contains <code>http-only</code>. Just use <code>document.cookie</code>."}, {"owner": {"reputation": 63788, "user_id": 747579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Zq3Qi.jpg?s=128&g=1", "display_name": "Abdennour TOUMI", "link": "https://stackoverflow.com/users/747579/abdennour-toumi"}, "reply_to_user": {"reputation": 507133, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1473906774, "post_id": 39499015, "comment_id": 66321970, "body": "You might mean <a href=\"http://stackoverflow.com/a/10974675/747579\">this</a> . If so, <code>httpOnly:false</code> is not enough , need to be followed by <code>res.render</code> ..."}], "owner": {"reputation": 63788, "user_id": 747579, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/Zq3Qi.jpg?s=128&g=1", "display_name": "Abdennour TOUMI", "link": "https://stackoverflow.com/users/747579/abdennour-toumi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 475, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1473905355, "creation_date": 1473884472, "last_edit_date": 1592644375, "question_id": 39499015, "link": "https://stackoverflow.com/questions/39499015/why-cannot-retrieve-cookie-from-xhr-even-it-is-displayed-on-browser-console", "title": "Why cannot retrieve cookie from XHR even it is displayed on browser console", "body": "<p>I make an AJAX call using the built-in API :  <code>XMLHttpRequest</code> class .</p>\n<pre><code>  var xhttp=new XMLHttpRequest()\n\n  xhttp.open(&quot;POST&quot;, &quot;http://localhost:7878/api/map&quot;, true);\n  xhttp.setRequestHeader(&quot;Accept&quot;, &quot;application/json&quot;);\n  xhttp.setRequestHeader(&quot;Content-type&quot;, &quot;application/json&quot;);\n  xhttp,send(`{layer:1}`);\n</code></pre>\n<p>The request is done successfully , I inspect the browser console &amp; I got the info about the response of  that ajax request,  including <code>cookies</code> :</p>\n<p><a href=\"https://i.stack.imgur.com/Do4Te.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Do4Te.png\" alt=\"enter image description here\" /></a></p>\n<p>Even cookies are displayed on the browser inspector , The following instruction returns <code>null</code> .</p>\n<pre><code>xhttp.getResponseHeader('Set-Cookie')\n</code></pre>\n<p>How to parse response' cookies using Javascript ?</p>\n<h1>Update : FYI :</h1>\n<p>The server of this response (i mean <code>localhost:7878</code>) has the following response configuration :</p>\n<pre><code>    response.header('Access-Control-Allow-Origin', '*');\n    response.header('Access-Control-Allow-Methods', 'POST');\n    response.header('Access-Control-Allow-Headers', 'Set-Cookie, Content-Type, Accept');\n    response.header('Content-Type', 'json/application; charset=utf-8');\n    response.header(&quot;Access-Control-Expose-Headers&quot;, &quot;Set-Cookie&quot;);\n</code></pre>\n"}, {"tags": ["javascript", "express"], "comments": [{"owner": {"reputation": 2915, "user_id": 5155371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tSOxq.png?s=128&g=1", "display_name": "Michael Troger", "link": "https://stackoverflow.com/users/5155371/michael-troger"}, "edited": false, "score": 0, "creation_date": 1473886179, "post_id": 39498999, "comment_id": 66316403, "body": "How does your route-mixin file look like?"}, {"owner": {"reputation": 3289, "user_id": 2584392, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/J4qln.jpg?s=128&g=1", "display_name": "georoot", "link": "https://stackoverflow.com/users/2584392/georoot"}, "reply_to_user": {"reputation": 2915, "user_id": 5155371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tSOxq.png?s=128&g=1", "display_name": "Michael Troger", "link": "https://stackoverflow.com/users/5155371/michael-troger"}, "edited": false, "score": 0, "creation_date": 1473886349, "post_id": 39498999, "comment_id": 66316488, "body": "function(req,res,nxt){console.log(req.token);res.send(&quot;test&quot;&zwnj;&#8203;);}"}, {"owner": {"reputation": 3289, "user_id": 2584392, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/J4qln.jpg?s=128&g=1", "display_name": "georoot", "link": "https://stackoverflow.com/users/2584392/georoot"}, "reply_to_user": {"reputation": 2915, "user_id": 5155371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tSOxq.png?s=128&g=1", "display_name": "Michael Troger", "link": "https://stackoverflow.com/users/5155371/michael-troger"}, "edited": false, "score": 0, "creation_date": 1473886430, "post_id": 39498999, "comment_id": 66316523, "body": "@MichaelTroger i already tested without the middleware and it works all fine. but console.log is always showing the last token"}, {"owner": {"reputation": 2915, "user_id": 5155371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tSOxq.png?s=128&g=1", "display_name": "Michael Troger", "link": "https://stackoverflow.com/users/5155371/michael-troger"}, "edited": false, "score": 0, "creation_date": 1473886747, "post_id": 39498999, "comment_id": 66316674, "body": "Not 100% sure, but I think with require you include the same instance of this object several times. See <a href=\"https://stackoverflow.com/questions/8887318/understanding-node-js-modules-multiple-requires-return-the-same-object\" title=\"understanding node js modules multiple requires return the same object\">stackoverflow.com/questions/8887318/&hellip;</a> So I would try to inline this function code"}, {"owner": {"reputation": 3289, "user_id": 2584392, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/J4qln.jpg?s=128&g=1", "display_name": "georoot", "link": "https://stackoverflow.com/users/2584392/georoot"}, "reply_to_user": {"reputation": 2915, "user_id": 5155371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tSOxq.png?s=128&g=1", "display_name": "Michael Troger", "link": "https://stackoverflow.com/users/5155371/michael-troger"}, "edited": false, "score": 0, "creation_date": 1473886828, "post_id": 39498999, "comment_id": 66316712, "body": "@MichaelTroger pretty sure that is not it because i even tried console.log in middleware in same file and that even gave the same response"}, {"owner": {"reputation": 2915, "user_id": 5155371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tSOxq.png?s=128&g=1", "display_name": "Michael Troger", "link": "https://stackoverflow.com/users/5155371/michael-troger"}, "edited": false, "score": 0, "creation_date": 1473887059, "post_id": 39498999, "comment_id": 66316799, "body": "That&#39;s the only thing which came to my mind: app.use(endpoint,     function(req,res,next){       req.token= route.token;       next();     },    function(req,res,nxt){       console.log(req.token);       res.send(&quot;test&quot;\u200c\u200b);    } );  I have no other idea, sry!"}, {"owner": {"reputation": 2915, "user_id": 5155371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tSOxq.png?s=128&g=1", "display_name": "Michael Troger", "link": "https://stackoverflow.com/users/5155371/michael-troger"}, "edited": false, "score": 0, "creation_date": 1473888957, "post_id": 39498999, "comment_id": 66317551, "body": "I got it working! I&#39;ll put it as an answer in the next minutes."}], "answers": [{"tags": [], "owner": {"reputation": 2915, "user_id": 5155371, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tSOxq.png?s=128&g=1", "display_name": "Michael Troger", "link": "https://stackoverflow.com/users/5155371/michael-troger"}, "is_accepted": true, "score": 1, "last_activity_date": 1473889601, "creation_date": 1473889601, "answer_id": 39500129, "question_id": 39498999, "link": "https://stackoverflow.com/questions/39498999/express-js-passing-variable-in-dynamically-created-route/39500129#39500129", "title": "Express.js passing variable in dynamically created route", "body": "<p>The solution to this problem is to put the content within the loop into a closure.</p>\n\n<p>What gave me the idea what's the issue in the first place, was the PhpStorm IDE:\n<a href=\"https://i.stack.imgur.com/4fQWz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4fQWz.png\" alt=\"mutable variable is accessible from closure\"></a></p>\n\n<p>The error message <code>mutable variable is accessible from closure</code> appeared within the first middleware. This article <a href=\"https://stackoverflow.com/questions/16724620/mutable-variable-is-accessible-from-closure-how-can-i-fix-this\">Mutable variable is accessible from closure. How can I fix this?</a> gave me then the hint to use a closure.</p>\n\n<p>So all what was necessary to get it running was changing:</p>\n\n<pre><code>   for(var endpoint in context){\n         var route = context[endpoint];\n         app.use(endpoint,\n             function (req, res, next) {\n                 req.token = route.token;\n                 next();\n             },\n             function (req, res) {\n                 console.log(req.token);\n                 res.send('test');\n             }\n         );\n    }\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>for(var endpoint in context){\n    (function() {\n        var route = context[endpoint];\n        app.use(endpoint,\n            function (req, res, next) {\n                req.token = route.token;\n                next();\n            },\n            function (req, res) {\n                console.log(req.token);\n                res.send('test');\n            }\n        );\n    })();\n}\n</code></pre>\n\n<p>The full example code I was successfully running:</p>\n\n<pre><code>var express = require('express');\nvar app = express();\n\nvar context =  {\n    \"/home\":{\n        \"token\":\"ksdjfglkas\"\n    },\n    \"/logout\":{\n        \"token\":\"ksdjfglksaudhf\"\n    }\n};\nfor(var endpoint in context){\n    (function() {\n        var route = context[endpoint];\n        app.use(endpoint,\n            function (req, res, next) {\n                req.token = route.token;\n                next();\n            },\n            function (req, res) {\n                console.log(req.token);\n                res.send('test');\n            }\n        );\n    })();\n}\n\napp.listen(3000);\n</code></pre>\n"}], "owner": {"reputation": 3289, "user_id": 2584392, "user_type": "registered", "accept_rate": 63, "profile_image": "https://i.stack.imgur.com/J4qln.jpg?s=128&g=1", "display_name": "georoot", "link": "https://stackoverflow.com/users/2584392/georoot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 39500129, "answer_count": 1, "score": 0, "last_activity_date": 1473889601, "creation_date": 1473884415, "question_id": 39498999, "link": "https://stackoverflow.com/questions/39498999/express-js-passing-variable-in-dynamically-created-route", "title": "Express.js passing variable in dynamically created route", "body": "<p>I am creating routes in express js from json file with following structure</p>\n\n<pre><code>{\n  \"/home\":{\n    \"token\":\"ksdjfglkas\"\n  },\n  \"/logout\":{\n    \"token\":\"ksdjfglksaudhf\"\n  }\n}\n</code></pre>\n\n<p>I need to be able to access the token inside the routes function. The js that i am using for generating the route is</p>\n\n<pre><code>for(var endpoint in context){\n  var route = context[endpoint];\n  app.use(endpoint,\n    function(req,res,next){\n      req.token= route.token;\n      next();\n    },\n    require('./route-mixin'));\n}\n</code></pre>\n\n<p>The problem that i am facing is that route-mixin method always gets the last token.<code>context</code> in this case is just the js file i added above. How can i pass different tokens for each route individually.</p>\n"}, {"tags": ["javascript", "php", "jquery", "mysql", "ajax"], "comments": [{"owner": {"reputation": 339644, "user_id": 118068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/077db5466d3b58e7bbbd498dca173f04?s=128&d=identicon&r=PG", "display_name": "Marc B", "link": "https://stackoverflow.com/users/118068/marc-b"}, "edited": false, "score": 5, "creation_date": 1473884481, "post_id": 39498989, "comment_id": 66315548, "body": "You are vulnerable to <a href=\"http://bobby-tables.com\" rel=\"nofollow noreferrer\">sql injection attacks</a>"}, {"owner": {"reputation": 1051, "user_id": 3800824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZVFj.jpg?s=128&g=1", "display_name": "KrishCdbry", "link": "https://stackoverflow.com/users/3800824/krishcdbry"}, "edited": false, "score": 0, "creation_date": 1473886698, "post_id": 39498989, "comment_id": 66316649, "body": "Are you sure the this.readyState is 4 and this.status 200 ??"}, {"owner": {"reputation": 1051, "user_id": 3800824, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZVFj.jpg?s=128&g=1", "display_name": "KrishCdbry", "link": "https://stackoverflow.com/users/3800824/krishcdbry"}, "edited": false, "score": 0, "creation_date": 1473887272, "post_id": 39498989, "comment_id": 66316891, "body": "Can you show me the screenshot of your response in console"}, {"owner": {"reputation": 430, "user_id": 4975678, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42fd04fb832fe304c408c6f87aa6ffdd?s=128&d=identicon&r=PG&f=1", "display_name": "jpec", "link": "https://stackoverflow.com/users/4975678/jpec"}, "edited": false, "score": 0, "creation_date": 1473887426, "post_id": 39498989, "comment_id": 66316949, "body": "The &quot;Network&quot; tab of the console will let you inspect the ajax requests / responses as they happen.  Verify that you are sending the form data you expect to send.  Then, verify that you are receiving the response you expect from your PHP script.  Click &quot;XHR&quot; filter to show only ajax network requests."}, {"owner": {"reputation": 51, "user_id": 6825735, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d31be3b8f70427fb62256d7f883e4c35?s=128&d=identicon&r=PG&f=1", "display_name": "Giovarco", "link": "https://stackoverflow.com/users/6825735/giovarco"}, "edited": false, "score": 0, "creation_date": 1473916217, "post_id": 39498989, "comment_id": 66324137, "body": "Everything was correct. So I thought that the only reason why I would receive that error, even if there was no record like that in my DB, was if my query was incorrect. It was so :|  <b>The correct one:</b>  (...) WHERE <code>NOME_COMPLETO</code>=&#39;$nome_completo&#39; AND <code>CLASSE</code>=&#39;$classe&#39; AND <code>MATERIA</code> =&#39;$materia&#39; AND <code>DATA</code> =&#39;$data&#39;&quot;;   <b>Not:</b> (...) WHERE <code>NOME_COMPLETO</code>=&#39;$nome_completo&#39; OR <code>CLASSE</code>=&#39;$classe&#39; OR <code>MATERIA</code> =&#39;$materia&#39; OR <code>DATA</code>"}], "owner": {"reputation": 51, "user_id": 6825735, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/d31be3b8f70427fb62256d7f883e4c35?s=128&d=identicon&r=PG&f=1", "display_name": "Giovarco", "link": "https://stackoverflow.com/users/6825735/giovarco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1473924118, "creation_date": 1473884378, "last_edit_date": 1473924118, "question_id": 39498989, "link": "https://stackoverflow.com/questions/39498989/strange-behaviour-of-my-javascript", "title": "Strange behaviour of my javascript", "body": "<p>Sorry for the vague title, but this behaviour is pretty hard to explain.</p>\n\n<p>I have a form where I enter some information. When the user click the submit button (values \"programma\"), I call a javascript. I check that the info are correct and use AJAX to add a record in my local database. The strange behaviour is the following:</p>\n\n<ul>\n<li>I fill up the form. The record doesn't exist in my DB. Everything works correctly and my record is inserted. Success: I write in the span tag \"Esecuzione registrata correttamente!\"</li>\n<li>Then I try to insert the same record. Since it exists in my DB, the error gets notified correctly in my span: \"Esiste un condannato con gli stessi dati\"</li>\n<li>At this point my form is still full of text, if the user want to correct his mistake and insert a non-existing record. What happens is that, when I change some input (and I'm sure that record doesn't exist in my DB) and click the submit button, literally nothing happens. I still see my error message \"Esiste un condannato con gli stessi dati\", even if I saw in my console that my AJAX worked correctly</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/FDvx9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FDvx9.png\" alt=\"Screenshot\"></a></p>\n\n<p><strong>programma.php</strong> (what you see in my screenshot)</p>\n\n<pre><code>&lt;?php\n    session_start();\n\n    if(!isset($_SESSION[\"nickname\"]) &amp;&amp; !isset($_SESSION[\"password\"]) ) {\n        header(\"location: index.php\");\n        exit();\n    }\n    else\n    {\n        echo \"&lt;p&gt; Sessione di \".$_SESSION[\"nickname\"].\" con password \".$_SESSION[\"password\"].\" &lt;/p&gt;\";\n    }\n?&gt;\n\n&lt;!DOCTYPE html&gt;\n&lt;html lang=\"it\"&gt;\n    &lt;head&gt;\n        &lt;meta charset=\"UTF-8\"&gt;\n        &lt;link rel=\"stylesheet\" href=\"programma.css\"&gt;\n        &lt;style type=\"text/css\"&gt;\n            .container {\n                width: 500px;\n                clear: both;\n            }\n            .container text {\n                width: 100%;\n                clear: both;\n            }\n        &lt;/style&gt;\n      &lt;title&gt;RIPconvicts - Programma esecuzione&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n        &lt;?php require 'snippets/menu.php'; ?&gt;\n        &lt;form&gt;\n            &lt;fieldset class=\"centered\"&gt;\n                &lt;legend&gt;Programma nuova esecuzione&lt;/legend&gt;\n\n                &lt;label for=\"nome\"&gt; Nome* &lt;/label&gt; &lt;br&gt;\n                &lt;input type=\"text\" name=\"nome\" id=\"nome\"&gt; &lt;br&gt; &lt;br&gt;\n\n                &lt;label for=\"cognome\"&gt; Cognome* &lt;/label&gt; &lt;br&gt; \n                &lt;input type=\"text\" name=\"cognome\" id=\"cognome\"&gt; &lt;br&gt; &lt;br&gt;\n\n                &lt;label for=\"classe\"&gt; Classe* &lt;/label&gt; &lt;br&gt;\n                &lt;input type=\"text\" name=\"classe\" id=\"classe\"&gt; &lt;br&gt; &lt;br&gt;\n\n                &lt;label for=\"materia\"&gt; Materia* &lt;/label&gt; &lt;br&gt;\n                &lt;input type=\"text\" name=\"materia\" id=\"materia\"&gt; &lt;br&gt; &lt;br&gt;\n\n                &lt;label for=\"data\"&gt;Data* &lt;/label&gt; &lt;br&gt;\n                &lt;input type=\"date\" name=\"data\" id=\"data\"&gt; &lt;br&gt; &lt;br&gt;\n\n                Note &lt;br&gt;\n                &lt;textarea name=\"note\" id=\"note\" rows=\"6\" cols=\"50\"&gt; &lt;/textarea&gt; &lt;br&gt; &lt;br&gt;\n\n                &lt;span id=\"avviso\" style=\"color:red\"&gt;&lt;/span&gt; &lt;br&gt;\n\n                &lt;input type=\"button\" onclick=\"programma_esecuzione()\" value=\"Programma\"&gt;\n\n            &lt;/fieldset&gt;\n        &lt;/form&gt;\n        &lt;?php require 'snippets/footer.php'; ?&gt;\n\n        &lt;script&gt;\n            function programma_esecuzione() {\n                // Verifica che tutti i campi necessari siano stati riempiti\n                document.getElementById(\"avviso\").innerHTML = \"\";\n                var nomi = [\"nome\", \"cognome\", \"classe\", \"materia\"];\n                var campi_mancanti = \"\";\n\n                for(var i=0; i&lt;nomi.length-1; i++) {\n                    if(document.getElementById(nomi[i]).value == \"\") {\n                        campi_mancanti+=\" \"+nomi[i];\n                    }\n                }\n\n                if(!Date.parse( document.getElementById(\"data\").value )) {\n                    campi_mancanti+=\" data\";\n                }\n\n                // Se ci sono campi mancanti, ritorna alla pagina principale\n                if(campi_mancanti!=\"\") {\n                    window.alert(\"Riempire i seguenti campi mancanti:\"+campi_mancanti);\n                    return;\n                }\n\n                // Se tutti i campi necessari ci sono, allora \u00e8 possibile richiedere l'aggiunta del record\n                var xhttp;\n                xhttp = new XMLHttpRequest();\n\n                var nome = document.getElementById(\"nome\").value;\n                var cognome = document.getElementById(\"cognome\").value;\n                var classe = document.getElementById(\"classe\").value;\n                var materia = document.getElementById(\"materia\").value;\n                var data = document.getElementById(\"data\").value;\n                var note = document.getElementById(\"note\").value;\n\n                xhttp.onreadystatechange = function() {\n                    if (this.readyState == 4 &amp;&amp; this.status == 200) {\n                        var risposta = this.responseText;\n\n                        if(risposta.indexOf(\"Esecuzione registrata correttamente!\") &gt; -1) {\n\n                            // Svuota tutti i campi\n                            document.getElementById(\"nome\").value = \"\";\n                            document.getElementById(\"cognome\").value = \"\";\n                            document.getElementById(\"classe\").value = \"\";\n                            document.getElementById(\"materia\").value = \"\";\n                            document.getElementById(\"data\").value = \"\";\n                            document.getElementById(\"note\").value = \"\";\n\n                        }\n\n                        document.getElementById(\"avviso\").innerHTML = risposta;\n                    }\n                };\n\n                xhttp.open(\"POST\", \"./snippets/programma_esecuzione.php\", false);\n                xhttp.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                xhttp.send(\"nome=\"+nome+\"&amp;cognome=\"+cognome+\"&amp;classe=\"+classe+\"&amp;materia=\"+materia+\"&amp;data=\"+data+\"&amp;note=\"+note);\n            }\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>programma_esecuzione.php</strong> (where I execute my query)</p>\n\n<pre><code>&lt;?php\n    //Include\n    require 'connetti_a_DB.php';\n\n    // Variabili per il login\n    $nome = $_POST[\"nome\"];\n    $cognome = $_POST[\"cognome\"];\n    $classe = $_POST[\"classe\"];\n    $materia = $_POST[\"materia\"];\n    $data = $_POST[\"data\"];\n    $note = $_POST[\"note\"];\n\n    /*echo $nome.\"&lt;br&gt;\";\n    echo $cognome.\"&lt;br&gt;\";\n    echo $classe.\"&lt;br&gt;\";\n    echo $materia.\"&lt;br&gt;\";\n    echo $data.\"&lt;br&gt;\";\n    echo $note.\"&lt;br&gt;\";*/\n\n    // Inizia una sessione\n    session_start();\n    $username = $_SESSION[\"nickname\"];\n    $password = $_SESSION[\"password\"];\n\n    // Stabilire e chiudere connessione\n    $conn = connetti_a_DB($username, $password);\n\n        // Verifica se c'\u00e8 un record \"clone\"\n        $nome_completo = $nome.\" \".$cognome;\n        $sql = \" SELECT *\n                FROM `lista`\n                WHERE `NOME_COMPLETO`='$nome_completo' OR\n                `CLASSE`='$classe' OR\n                `MATERIA` ='$materia' OR\n                `DATA` ='$data'\";\n\n        $result = $conn-&gt;query($sql);\n\n        if($result-&gt;num_rows &gt; 0) {\n            echo 'Esiste un condannato con gli stessi dati';\n        }\n        else\n        {\n            $sql = \"INSERT INTO `ripconvicts`.`lista` (`ID`, `NOME_COMPLETO`, `CLASSE`, `MATERIA`, `DATA`, `NOTE`)\n                    VALUES (NULL, '$nome_completo', '$classe', '$materia', '$data', '$note')\";\n            $result = $conn-&gt;query($sql);\n            echo \"Esecuzione registrata correttamente!\";\n        }\n\n    $conn-&gt;close();\n\n    // Salta alla pagina iniziale\n    //header(\"location: ../programma.php\");\n    //exit();\n?&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "angularjs", "rest"], "comments": [{"owner": {"reputation": 430, "user_id": 1466865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecd44782ec83fea70323e2f5034ff1b?s=128&d=identicon&r=PG", "display_name": "Chris Smith", "link": "https://stackoverflow.com/users/1466865/chris-smith"}, "edited": false, "score": 0, "creation_date": 1473884773, "post_id": 39498981, "comment_id": 66315704, "body": "You could maybe use ngCloak to hide the HTML until everything has loaded and been processed?"}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "edited": false, "score": 0, "creation_date": 1473884824, "post_id": 39498981, "comment_id": 66315736, "body": "either use a resolve in router or make request outside angular and manually bootstrap app in callback. A router resolve delays loading controller and template. Agree with answer below though that it&#39;s best to show something"}, {"owner": {"reputation": 9, "user_id": 6454420, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3e8562baabd450d24bda2f456f1c95c9?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Rathor", "link": "https://stackoverflow.com/users/6454420/gaurav-rathor"}, "reply_to_user": {"reputation": 430, "user_id": 1466865, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fecd44782ec83fea70323e2f5034ff1b?s=128&d=identicon&r=PG", "display_name": "Chris Smith", "link": "https://stackoverflow.com/users/1466865/chris-smith"}, "edited": false, "score": 0, "creation_date": 1473885714, "post_id": 39498981, "comment_id": 66316167, "body": "@chris22smith: If i am correct ng-cloak is used to used to prevent the Angular html template from being briefly displayed by the browser in its raw (uncompiled) form while your application is loading. But i do not want anything to load before i have the response from the REST API. Thanks for your suggeston"}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 6454420, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3e8562baabd450d24bda2f456f1c95c9?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Rathor", "link": "https://stackoverflow.com/users/6454420/gaurav-rathor"}, "edited": false, "score": 0, "creation_date": 1473885434, "post_id": 39499122, "comment_id": 66316021, "body": "Thanks for you suggestion. But i want to make a decision  (based on response from REST API) before the page load has started to load one of the 2 different pages which i have created (1 with Angular and other with JavaScript) i have achieved the desired result with Javascript but now i want to do similar thing in AngularJS."}], "tags": [], "owner": {"reputation": 222, "user_id": 4359035, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-WFraqrj9LJw/AAAAAAAAAAI/AAAAAAAAA60/TZYzjDjtAvY/photo.jpg?sz=128", "display_name": "Thomas Juh&#225;sz", "link": "https://stackoverflow.com/users/4359035/thomas-juh%c3%a1sz"}, "is_accepted": true, "score": 0, "last_activity_date": 1473884870, "creation_date": 1473884870, "answer_id": 39499122, "question_id": 39498981, "link": "https://stackoverflow.com/questions/39498981/i-want-to-load-a-different-webpage-before-html-loads-angularjs/39499122#39499122", "title": "I want to load a different webpage before HTML loads - AngularJS", "body": "<p>I think this is a problem you shouldn't be solving the hard way. It seems hard from an angular perspective, but much more importantly it's a bad experience for the user.</p>\n\n<p>I would suggest to use a full page overlay as the page loads, write something nice to the user, maybe an ajax loading icon etc. so the user knows he's waiting for a reason and the page isn't just slow. Then when your ajax call returns just fade it away and everyone's happy :)</p>\n"}], "owner": {"reputation": 9, "user_id": 6454420, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/3e8562baabd450d24bda2f456f1c95c9?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Rathor", "link": "https://stackoverflow.com/users/6454420/gaurav-rathor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 39499122, "answer_count": 1, "score": 0, "last_activity_date": 1473884870, "creation_date": 1473884364, "question_id": 39498981, "link": "https://stackoverflow.com/questions/39498981/i-want-to-load-a-different-webpage-before-html-loads-angularjs", "title": "I want to load a different webpage before HTML loads - AngularJS", "body": "<p>I want to load a different webpage (Like:google.com) based on the response of a REST API in an AngularJS app before any HTML loads for the default view of the AngularJS app.</p>\n\n<p>I have already tried making a REST service call in a factory and using the response in the .run function of my app, but before the page redirects i am able to see the Angular App's HTML view.</p>\n\n<pre><code>var app = angular.module('myApp',[]);\napp.run(function(myService,$window) {\nmyService.someFunc().then(function(data){\n      $window.location.href = 'http://www.google.com';\n  });\n});\n\napp.factory('myService',function($http,$window,$q){\nvar self = this;\nthis.someFunc = function someFunc (){\n        var deffered = $q.defer();\n        $http.get('someAPI').success(function(data){\n            deffered.resolve(data)\n        }).error(function(error){\n            deffered.reject(error)\n        });\n        return deffered.promise;\n    }\nreturn self;\n}):\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "recursion"], "answers": [{"comments": [{"owner": {"reputation": 557, "user_id": 3498996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4BYXX.jpg?s=128&g=1", "display_name": "shawnngtq", "link": "https://stackoverflow.com/users/3498996/shawnngtq"}, "edited": false, "score": 0, "creation_date": 1473885588, "post_id": 39499071, "comment_id": 66316104, "body": "I noticed that when you start running the code, the button clicked will hide the next table instead of the current table. ie, I click 1st button, 2nd table will be toggled instead of 1st table"}, {"owner": {"reputation": 1476, "user_id": 1547033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e637e7a14c87c9729f058142c5a628?s=128&d=identicon&r=PG", "display_name": "Lucas Lazaro", "link": "https://stackoverflow.com/users/1547033/lucas-lazaro"}, "reply_to_user": {"reputation": 557, "user_id": 3498996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4BYXX.jpg?s=128&g=1", "display_name": "shawnngtq", "link": "https://stackoverflow.com/users/3498996/shawnngtq"}, "edited": false, "score": 0, "creation_date": 1473886157, "post_id": 39499071, "comment_id": 66316387, "body": "Not really, it&#39;s because when the table is hidden the second button appears next to the first one. I&#39;ve <b>updated</b> my answer with a snippet that contains the name of the <code>table</code> that will be toggled on the <code>button</code> label and also the id of the table on the first <code>th</code> of it."}, {"owner": {"reputation": 1476, "user_id": 1547033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e637e7a14c87c9729f058142c5a628?s=128&d=identicon&r=PG", "display_name": "Lucas Lazaro", "link": "https://stackoverflow.com/users/1547033/lucas-lazaro"}, "reply_to_user": {"reputation": 557, "user_id": 3498996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4BYXX.jpg?s=128&g=1", "display_name": "shawnngtq", "link": "https://stackoverflow.com/users/3498996/shawnngtq"}, "edited": false, "score": 0, "creation_date": 1473887368, "post_id": 39499071, "comment_id": 66316930, "body": "@Shawn does the updated answer solve your problem? If so, please mark it as the correct answer for future reference ;)."}, {"owner": {"reputation": 557, "user_id": 3498996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4BYXX.jpg?s=128&g=1", "display_name": "shawnngtq", "link": "https://stackoverflow.com/users/3498996/shawnngtq"}, "edited": false, "score": 0, "creation_date": 1473887563, "post_id": 39499071, "comment_id": 66317010, "body": "Thanks, it works, I am just debugging your code, not very good with jquery yet :)"}], "tags": [], "owner": {"reputation": 1476, "user_id": 1547033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96e637e7a14c87c9729f058142c5a628?s=128&d=identicon&r=PG", "display_name": "Lucas Lazaro", "link": "https://stackoverflow.com/users/1547033/lucas-lazaro"}, "is_accepted": true, "score": 2, "last_activity_date": 1473886024, "last_edit_date": 1473886024, "creation_date": 1473884670, "answer_id": 39499071, "question_id": 39498845, "link": "https://stackoverflow.com/questions/39498845/jquery-how-to-recursively-assign-buttons-on-document-ready/39499071#39499071", "title": "Jquery: How to recursively assign buttons on document ready?", "body": "<p>What you can do is <strong>assign</strong> a single class to all your <code>&lt;buttons&gt;</code> and use a <code>data</code> attribute to separate which button toggles which table. That way you can create a single bind to all your buttons and get the id of the table you want to toggle <strong>systematically</strong>.</p>\n\n<p>Basically the <strong>html</strong> it will go:</p>\n\n<pre><code>&lt;button class=\"btn btn-info js_toggle-table\" data-table-id=\"table01\"&gt;Show/hide table&lt;/button&gt;\n&lt;table id=\"table01\"&gt;\n</code></pre>\n\n<p>And the <strong>javascript/jquery</strong> will be:</p>\n\n<pre><code>$(\".js_toggle-table\").on(\"click\", function(el) {\n  var tableIdSelector = \"#\" + $(el.target).data('table-id');\n  $(tableIdSelector).toggle(); \n});\n</code></pre>\n\n<p>Check the updated snippet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".js_toggle-table\").on(\"click\", function(el) {\r\n  var tableIdSelector = \"#\" + $(el.target).data('table-id');\r\n  $(tableIdSelector).toggle(); \r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;button class=\"btn btn-info js_toggle-table\" data-table-id=\"table01\"&gt;Show/hide table 01&lt;/button&gt;\r\n&lt;table id=\"table01\"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Table 1&lt;/th&gt;\r\n            &lt;th&gt;D2&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;001&lt;/td&gt;\r\n            &lt;td&gt;002&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info js_toggle-table\" data-table-id=\"table02a\"&gt;Show/hide table 02a&lt;/button&gt;\r\n&lt;table id=\"table02a\"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Table 02a&lt;/th&gt;\r\n            &lt;th&gt;D2&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;001&lt;/td&gt;\r\n            &lt;td&gt;002&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info js_toggle-table\" data-table-id=\"table02b\"&gt;Show/hide table 02b&lt;/button&gt;\r\n&lt;table id=\"table02b\"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Table 2 b&lt;/th&gt;\r\n            &lt;th&gt;D2&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;001&lt;/td&gt;\r\n            &lt;td&gt;002&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info js_toggle-table\" data-table-id=\"table03a\"&gt;Show/hide table 3 a&lt;/button&gt;\r\n&lt;table id=\"table03a\"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Table 3 a&lt;/th&gt;\r\n            &lt;th&gt;D2&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;001&lt;/td&gt;\r\n            &lt;td&gt;002&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info js_toggle-table\" data-table-id=\"table03b\"&gt;Show/hide table 3 b&lt;/button&gt;\r\n&lt;table id=\"table03b\"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Table 3 b&lt;/th&gt;\r\n            &lt;th&gt;D2&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;001&lt;/td&gt;\r\n            &lt;td&gt;002&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info js_toggle-table\" data-table-id=\"table04\"&gt;Show/hide table 4&lt;/button&gt;\r\n&lt;table id=\"table04\"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Table 4&lt;/th&gt;\r\n            &lt;th&gt;D2&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;001&lt;/td&gt;\r\n            &lt;td&gt;002&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Cheers!</p>\n\n<p><strong>EDIT:</strong> I changed the names of the <strong>buttons</strong> and <strong>table</strong> to make it clear which one was disappearing when the button was clicked.</p>\n"}, {"comments": [{"owner": {"reputation": 557, "user_id": 3498996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4BYXX.jpg?s=128&g=1", "display_name": "shawnngtq", "link": "https://stackoverflow.com/users/3498996/shawnngtq"}, "edited": false, "score": 0, "creation_date": 1473896174, "post_id": 39499297, "comment_id": 66319689, "body": "Thanks, this solution is so simple!"}], "tags": [], "owner": {"reputation": 965, "user_id": 4758719, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yYlEn.jpg?s=128&g=1", "display_name": "Benjamin", "link": "https://stackoverflow.com/users/4758719/benjamin"}, "is_accepted": false, "score": 1, "last_activity_date": 1473885543, "creation_date": 1473885543, "answer_id": 39499297, "question_id": 39498845, "link": "https://stackoverflow.com/questions/39498845/jquery-how-to-recursively-assign-buttons-on-document-ready/39499297#39499297", "title": "Jquery: How to recursively assign buttons on document ready?", "body": "<p>Add a class to each button (like \"toggle-button\"):</p>\n\n<pre><code>&lt;button class=\"btn btn-info toggle-button\" id=\"showHide04\"&gt;Show/hide table&lt;/button&gt;\n</code></pre>\n\n<p>Then you can take this script:</p>\n\n<pre><code>$(\".toggle-button\").click(function() {\n  $(this).next().find(\"tbody\").toggle(); \n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2827, "user_id": 5360631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db9d7bd8c19e8f3ba6060d2a8f94efe?s=128&d=identicon&r=PG&f=1", "display_name": "smcd", "link": "https://stackoverflow.com/users/5360631/smcd"}, "edited": false, "score": 0, "creation_date": 1473886093, "post_id": 39499302, "comment_id": 66316363, "body": "This issue doesn&#39;t involve recursion though."}, {"owner": {"reputation": 557, "user_id": 3498996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4BYXX.jpg?s=128&g=1", "display_name": "shawnngtq", "link": "https://stackoverflow.com/users/3498996/shawnngtq"}, "edited": false, "score": 0, "creation_date": 1473888490, "post_id": 39499302, "comment_id": 66317357, "body": "Hey man, thanks for the solution and the article, not aware of closures. Will read up on this part. Thanks!"}], "tags": [], "owner": {"reputation": 2827, "user_id": 5360631, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8db9d7bd8c19e8f3ba6060d2a8f94efe?s=128&d=identicon&r=PG&f=1", "display_name": "smcd", "link": "https://stackoverflow.com/users/5360631/smcd"}, "is_accepted": false, "score": 1, "last_activity_date": 1473885903, "last_edit_date": 1473885903, "creation_date": 1473885563, "answer_id": 39499302, "question_id": 39498845, "link": "https://stackoverflow.com/questions/39498845/jquery-how-to-recursively-assign-buttons-on-document-ready/39499302#39499302", "title": "Jquery: How to recursively assign buttons on document ready?", "body": "<p>To make the code work you have to keep a copy of <strong>i</strong> at its current value with a closure. This page gives a bit of a walkthrough of the issue you came across. <a href=\"http://www.mennovanslooten.nl/blog/post/62\" rel=\"nofollow\">http://www.mennovanslooten.nl/blog/post/62</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var buttonList = [\"#showHide01\", \"#showHide02a\", \"#showHide02b\", \"#showHide03a\", \"#showHide03b\", \"#showHide04\"];\r\nvar tableList = [\"#table01 tbody\", \"#table02a tbody\", \"#table02b tbody\", \"#table03a tbody\", \"#table03b tbody\", \"#table04 tbody\"]\r\n\r\n$(function() {\r\n  var i = 0,\r\n    len = buttonList.length;\r\n  for (i; i &lt; len; i += 1) {\r\n    $(buttonList[i]).on(\"click\", (function(i) { /* IIFE closure */\r\n      /* e is the event */\r\n      return function(e) { /* i is now available at the value it was at point of execution in loop */\r\n        $(tableList[i]).toggle();\r\n      }\r\n    })(i) /* immediately executed passing in loop 'i' */ );\r\n  };\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;button class=\"btn btn-info\" id=\"showHide01\"&gt;Show/hide table&lt;/button&gt;\r\n&lt;table id=\"table01\"&gt;\r\n  &lt;thead&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt;Id&lt;/th&gt;\r\n      &lt;th&gt;D2&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/thead&gt;\r\n  &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;001&lt;/td&gt;\r\n      &lt;td&gt;002&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info\" id=\"showHide02a\"&gt;Show/hide table&lt;/button&gt;\r\n&lt;table id=\"table02a\"&gt;\r\n  &lt;thead&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt;Id&lt;/th&gt;\r\n      &lt;th&gt;D2&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/thead&gt;\r\n  &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;001&lt;/td&gt;\r\n      &lt;td&gt;002&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info\" id=\"showHide02b\"&gt;Show/hide table&lt;/button&gt;\r\n&lt;table id=\"table02b\"&gt;\r\n  &lt;thead&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt;Id&lt;/th&gt;\r\n      &lt;th&gt;D2&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/thead&gt;\r\n  &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;001&lt;/td&gt;\r\n      &lt;td&gt;002&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info\" id=\"showHide03a\"&gt;Show/hide table&lt;/button&gt;\r\n&lt;table id=\"table03a\"&gt;\r\n  &lt;thead&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt;Id&lt;/th&gt;\r\n      &lt;th&gt;D2&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/thead&gt;\r\n  &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;001&lt;/td&gt;\r\n      &lt;td&gt;002&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info\" id=\"showHide03b\"&gt;Show/hide table&lt;/button&gt;\r\n&lt;table id=\"table03b\"&gt;\r\n  &lt;thead&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt;Id&lt;/th&gt;\r\n      &lt;th&gt;D2&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/thead&gt;\r\n  &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;001&lt;/td&gt;\r\n      &lt;td&gt;002&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info\" id=\"showHide04\"&gt;Show/hide table&lt;/button&gt;\r\n&lt;table id=\"table04\"&gt;\r\n  &lt;thead&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt;Id&lt;/th&gt;\r\n      &lt;th&gt;D2&lt;/th&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/thead&gt;\r\n  &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;001&lt;/td&gt;\r\n      &lt;td&gt;002&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 557, "user_id": 3498996, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4BYXX.jpg?s=128&g=1", "display_name": "shawnngtq", "link": "https://stackoverflow.com/users/3498996/shawnngtq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 39499071, "answer_count": 3, "score": 1, "last_activity_date": 1473886024, "creation_date": 1473883754, "last_edit_date": 1473885893, "question_id": 39498845, "link": "https://stackoverflow.com/questions/39498845/jquery-how-to-recursively-assign-buttons-on-document-ready", "title": "Jquery: How to recursively assign buttons on document ready?", "body": "<p>I have multiple buttons and tables, I want to recursively assign each button id to respective table id.</p>\n\n<p>For each button, the function should help me toggle their respective tables. Clicking button 1 (\"#showHide01\") will toggle table 1 (\"#table01\").</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Working function\r\n/*\r\n$(function() {\r\n    $(\"#showHide01\").on(\"click\", function() {\r\n        $(\"#table01 tbody\").toggle();\r\n    });\r\n});\r\n*/\r\n\r\nvar buttonList = [\"#showHide01\",\"#showHide02a\",\"#showHide02b\",\"#showHide03a\",\"#showHide03b\",\"#showHide04\"];\r\nvar tableList = [\"#table01 tbody\",\"#table02a tbody\",\"#table02b tbody\",\"#table03a tbody\",\"#table03b tbody\",\"#table04 tbody\"]\r\n\r\n$(function() {\r\n\tvar i = 0, len = buttonList.length;\r\n    for (i; i &lt; len; i+=1) {\r\n    \t$(buttonList[i]).on(\"click\", function() {\r\n        \t$(tableList[i]).toggle();\r\n        });\r\n    };\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;button class=\"btn btn-info\" id=\"showHide01\"&gt;Show/hide table&lt;/button&gt;\r\n&lt;table id=\"table01\"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Id&lt;/th&gt;\r\n            &lt;th&gt;D2&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;001&lt;/td&gt;\r\n            &lt;td&gt;002&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info\" id=\"showHide02a\"&gt;Show/hide table&lt;/button&gt;\r\n&lt;table id=\"table02a\"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Id&lt;/th&gt;\r\n            &lt;th&gt;D2&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;001&lt;/td&gt;\r\n            &lt;td&gt;002&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info\" id=\"showHide02b\"&gt;Show/hide table&lt;/button&gt;\r\n&lt;table id=\"table02b\"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Id&lt;/th&gt;\r\n            &lt;th&gt;D2&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;001&lt;/td&gt;\r\n            &lt;td&gt;002&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info\" id=\"showHide03a\"&gt;Show/hide table&lt;/button&gt;\r\n&lt;table id=\"table03a\"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Id&lt;/th&gt;\r\n            &lt;th&gt;D2&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;001&lt;/td&gt;\r\n            &lt;td&gt;002&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info\" id=\"showHide03b\"&gt;Show/hide table&lt;/button&gt;\r\n&lt;table id=\"table03b\"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Id&lt;/th&gt;\r\n            &lt;th&gt;D2&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;001&lt;/td&gt;\r\n            &lt;td&gt;002&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;\r\n&lt;button class=\"btn btn-info\" id=\"showHide04\"&gt;Show/hide table&lt;/button&gt;\r\n&lt;table id=\"table04\"&gt;\r\n    &lt;thead&gt;\r\n        &lt;tr&gt;\r\n            &lt;th&gt;Id&lt;/th&gt;\r\n            &lt;th&gt;D2&lt;/th&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;001&lt;/td&gt;\r\n            &lt;td&gt;002&lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How can I fix this? Thanks!</p>\n"}, {"tags": ["javascript", "angularjs", "scroll", "angular-material", "angular-datatables"], "comments": [{"owner": {"reputation": 76942, "user_id": 1407478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mDZaj.png?s=128&g=1", "display_name": "davidkonrad", "link": "https://stackoverflow.com/users/1407478/davidkonrad"}, "edited": false, "score": 0, "creation_date": 1474300573, "post_id": 39498843, "comment_id": 66464415, "body": "&quot;<i>The problem is the table is collapsed so every rows in the table are rendered in the same line</i>&quot;. OK, thought a <code>rerender()</code> would solve that problem. Deleted the answer. You could try out <code>vm.dtInstance.DataTable.columns.adjust()</code> instead, and see what happens ..."}, {"owner": {"reputation": 53, "user_id": 2258408, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc624c1ed6db0725f3785e88f6e59fd4?s=128&d=identicon&r=PG", "display_name": "user2258408", "link": "https://stackoverflow.com/users/2258408/user2258408"}, "reply_to_user": {"reputation": 76942, "user_id": 1407478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mDZaj.png?s=128&g=1", "display_name": "davidkonrad", "link": "https://stackoverflow.com/users/1407478/davidkonrad"}, "edited": false, "score": 0, "creation_date": 1474301306, "post_id": 39498843, "comment_id": 66464897, "body": "Thank you for your answer. To test your method, I added &quot;refresh button&quot; to my table and I clicked on it when the page showed. It would call function followed this: <code>function tabSelected(){ \t\t\tvm.dtInstance.DataTable.columns.adjust(); \t\t\tvm.dtInstance.rerender(); \t\t}</code>  The problem seems not to be solved. Moreover, the head column disappeared."}, {"owner": {"reputation": 76942, "user_id": 1407478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mDZaj.png?s=128&g=1", "display_name": "davidkonrad", "link": "https://stackoverflow.com/users/1407478/davidkonrad"}, "edited": false, "score": 0, "creation_date": 1474301453, "post_id": 39498843, "comment_id": 66464989, "body": "Even worse. Weird. Can you set up a plunkr? Here is one with dataTables, I dont know how easy it is to add angular material -&gt; <a href=\"http://plnkr.co/edit/nBtzURQxSgKIqFvGMkWC?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/nBtzURQxSgKIqFvGMkWC?p=preview</a>"}, {"owner": {"reputation": 53, "user_id": 2258408, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc624c1ed6db0725f3785e88f6e59fd4?s=128&d=identicon&r=PG", "display_name": "user2258408", "link": "https://stackoverflow.com/users/2258408/user2258408"}, "reply_to_user": {"reputation": 76942, "user_id": 1407478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mDZaj.png?s=128&g=1", "display_name": "davidkonrad", "link": "https://stackoverflow.com/users/1407478/davidkonrad"}, "edited": false, "score": 0, "creation_date": 1474304174, "post_id": 39498843, "comment_id": 66466584, "body": "I have set the plunkr as you request but it is a little bit weird. The datatables did not function properly.  <a href=\"http://plnkr.co/edit/1FqeeQvIvEnHxpF3okjH?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/1FqeeQvIvEnHxpF3okjH?p=preview</a> BTW, main content that I want to show is inserted"}], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 2258408, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc624c1ed6db0725f3785e88f6e59fd4?s=128&d=identicon&r=PG", "display_name": "user2258408", "link": "https://stackoverflow.com/users/2258408/user2258408"}, "is_accepted": true, "score": 0, "last_activity_date": 1474705692, "creation_date": 1474705692, "answer_id": 39674223, "question_id": 39498843, "link": "https://stackoverflow.com/questions/39498843/scroller-function-of-angular-datatables-in-md-tab/39674223#39674223", "title": "Scroller function of angular-datatables in md-tab", "body": "<p>Finally, I have solution. The solution is very easy. As I have mentioned, the table showed data correctly in html code but it didn't appear in the page so I just only set height property as followed.</p>\n\n<pre><code> &lt;div style=\"height: 700px;\"   layout=\"column\" flex&gt;\n    &lt;table class=\"dataTable row-border hover\" datatable=\"ng\" dt-instance=\"vm.dtInstance\" dt-options=\"vm.dtOptions\"&gt;\n...\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 2258408, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/bc624c1ed6db0725f3785e88f6e59fd4?s=128&d=identicon&r=PG", "display_name": "user2258408", "link": "https://stackoverflow.com/users/2258408/user2258408"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 541, "favorite_count": 0, "accepted_answer_id": 39674223, "answer_count": 1, "score": 1, "last_activity_date": 1474705692, "creation_date": 1473883750, "last_edit_date": 1473900263, "question_id": 39498843, "link": "https://stackoverflow.com/questions/39498843/scroller-function-of-angular-datatables-in-md-tab", "title": "Scroller function of angular-datatables in md-tab", "body": "<p>I have been searching for many hours but I couldn't fine useful answer. Please help me fix this problem.</p>\n\n<p>Problem: I inserted angular-datatables in md-tab (Angular material).\nEverything worked fine until I added scrollY or scrollX option. The tables didn't show any content when I added the scroller option.\nHere is the code</p>\n\n<pre><code> &lt;md-tabs md-dynamic-height md-selected=\"msWizard.selectedIndex\" md-center-tabs=\"true\"&gt;\n                &lt;md-tab&gt;\n                    &lt;md-tab-label&gt;\n                        &lt;span&gt;Product&lt;/span&gt;\n                    &lt;/md-tab-label&gt;\n\n                    &lt;md-tab-body&gt;\n&lt;table class=\"dataTable row-border hover\" datatable=\"ng\" dt-instance=\"vm.dtInstance\"\n                   dt-options=\"vm.dtOptions\"&gt;\n                &lt;thead&gt;\n                    &lt;tr&gt;\n                        &lt;th class=\"secondary-text\"&gt;\n                            &lt;div class=\"table-header\"&gt;\n                                &lt;span class=\"column-title\"&gt;ID&lt;/span&gt;\n                            &lt;/div&gt;\n                        &lt;/th&gt;\n                        &lt;th class=\"secondary-text\"&gt;\n                            &lt;div class=\"table-header\"&gt;\n                                &lt;span class=\"column-title\"&gt;Image&lt;/span&gt;\n                            &lt;/div&gt;\n                        &lt;/th&gt;\n                        &lt;th class=\"secondary-text\"&gt;\n                            &lt;div class=\"table-header\"&gt;\n                                &lt;span class=\"column-title\"&gt;Name&lt;/span&gt;\n                            &lt;/div&gt;\n                        &lt;/th&gt;\n                        &lt;th class=\"secondary-text\"&gt;\n                            &lt;div class=\"table-header\"&gt;\n                                &lt;span class=\"column-title\"&gt;Category&lt;/span&gt;\n                            &lt;/div&gt;\n                        &lt;/th&gt;\n                        &lt;th class=\"secondary-text\"&gt;\n                            &lt;div class=\"table-header\"&gt;\n                                &lt;span class=\"column-title\"&gt;Price&lt;/span&gt;\n                            &lt;/div&gt;\n                        &lt;/th&gt;\n                        &lt;th class=\"secondary-text\"&gt;\n                            &lt;div class=\"table-header\"&gt;\n                                &lt;span class=\"column-title\"&gt;Quantity&lt;/span&gt;\n                            &lt;/div&gt;\n                        &lt;/th&gt;\n                        &lt;th class=\"secondary-text\"&gt;\n                            &lt;div class=\"table-header\"&gt;\n                                &lt;span class=\"column-title\"&gt;Active&lt;/span&gt;\n                            &lt;/div&gt;\n                        &lt;/th&gt;\n                        &lt;th class=\"secondary-text\"&gt;\n                            &lt;div class=\"table-header\"&gt;\n                                &lt;span class=\"column-title\"&gt;Actions&lt;/span&gt;\n                            &lt;/div&gt;\n                        &lt;/th&gt;\n                    &lt;/tr&gt;\n                &lt;/thead&gt;\n                &lt;tbody&gt;\n                    &lt;tr ng-repeat=\"product in ::vm.products\"&gt;\n                        &lt;td&gt;{{product.id}}&lt;/td&gt;\n                        &lt;td&gt;&lt;img class=\"product-image\" ng-src=\"{{product.image}}\"&gt;&lt;/td&gt;\n                        &lt;td&gt;{{product.name}}&lt;/td&gt;\n                        &lt;td&gt;{{product.category}}&lt;/td&gt;\n                        &lt;td&gt;{{product.price}}&lt;/td&gt;\n                        &lt;td&gt;{{product.quantity}}&lt;/td&gt;\n                        &lt;td&gt;{{product.active}}&lt;/td&gt;\n                        &lt;td&gt;\n                            &lt;md-button class=\"edit-button md-icon-button\" ng-click=\"vm.gotoProductDetail(product.id)\" aria-label=\"Product details\"\n                                       translate translate-attr-aria-label=\"EC.PRODUCT_DETAILS\"&gt;\n                                &lt;md-icon md-font-icon=\"icon-pencil\" class=\"s16\"&gt;&lt;/md-icon&gt;\n                            &lt;/md-button&gt;\n                        &lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n</code></pre>\n\n<p>and here is my js function</p>\n\n<pre><code> vm.dtOptions = {\n        dom         : 'rt&lt;\"bottom\"&lt;\"left\"&lt;\"length\"l&gt;&gt;&lt;\"right\"&lt;\"info\"i&gt;&lt;\"pagination\"p&gt;&gt;&gt;',\n        columnDefs  : [\n             {\n\n                targets: 0,\n                width  : '10px'\n            },\n             {\n\n                targets: 1,\n                width  : '20px'\n            },\n            {\n\n                targets: 2,\n                width  : '72px'\n            },\n            {\n\n                targets: 3,\n                width  : '72px'\n            },\n            {\n\n                targets: 4,\n                width  : '72px'\n            },\n            {\n\n                targets: 5,\n                width  : '72px'\n            },\n            {\n\n                targets: 6,\n                width  : '72px'\n            },\n            {\n\n                targets: 7,\n                width  : '72px'\n            },\n            {\n\n                targets: 8,\n                width  : '72px'\n            },\n\n        ],\n        pagingType: 'simple',\n        autoWidth : false,\n        pageLength  : 20,\n        scrollY    : 'auto', //This line makes a problem\n        responsive  : true,\n\n\n    };\n</code></pre>\n\n<p>This code works fine for me when I use it outside md-tab. \nHow can I fix this problem. Can anyone help me?\nBy the way, I have already include \"datatables\" and \"datatables.scroller\" followed the example. </p>\n"}, {"tags": ["javascript", "selenium", "selenium-webdriver"], "comments": [{"owner": {"reputation": 533, "user_id": 405322, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/7i1Bx.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/405322/sam"}, "reply_to_user": {"reputation": 12604, "user_id": 4028085, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/adaca62313b171fa49a9210bb6f838e8?s=128&d=identicon&r=PG&f=1", "display_name": "brso05", "link": "https://stackoverflow.com/users/4028085/brso05"}, "edited": false, "score": 0, "creation_date": 1473883955, "post_id": 39498830, "comment_id": 66315293, "body": "This form will change every time depending on some filters."}, {"owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 0, "creation_date": 1473884570, "post_id": 39498830, "comment_id": 66315592, "body": "Java or Javascript?  Which one is it?"}, {"owner": {"reputation": 533, "user_id": 405322, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/7i1Bx.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/405322/sam"}, "reply_to_user": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 0, "creation_date": 1473884716, "post_id": 39498830, "comment_id": 66315666, "body": "The html is calling a javascript on a click operation. I&#39;m trying this either by java or javascript."}, {"owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 0, "creation_date": 1473884771, "post_id": 39498830, "comment_id": 66315702, "body": "You understand that Java and Javascript are two completely different languages?"}, {"owner": {"reputation": 533, "user_id": 405322, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/7i1Bx.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/405322/sam"}, "reply_to_user": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 0, "creation_date": 1473903768, "post_id": 39498830, "comment_id": 66321328, "body": "Yes I do understand, I have both the options to implement with."}], "answers": [{"comments": [{"owner": {"reputation": 533, "user_id": 405322, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/7i1Bx.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/405322/sam"}, "edited": false, "score": 0, "creation_date": 1473884290, "post_id": 39498908, "comment_id": 66315453, "body": "There is no button. In Selenium / WebDriver tool we call this has an WebElement. This is link which has a &#39;Form&#39; associated. &lt;form class=&quot;tokenRR&quot; method=&quot;post&quot; action=&quot;home.cfm?event=search.productsByName&quot; name=&quot;expForm&quot;&gt;"}, {"owner": {"reputation": 533, "user_id": 405322, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/7i1Bx.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/405322/sam"}, "edited": false, "score": 0, "creation_date": 1473884487, "post_id": 39498908, "comment_id": 66315551, "body": "&lt;form class=&quot;tokenRR&quot; method=&quot;post&quot; action=&quot;home.cfm?event=search.productsByName&quot; name=&quot;expForm&quot;&gt;"}, {"owner": {"reputation": 8643, "user_id": 1718554, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/n3jD1.jpg?s=128&g=1", "display_name": "Luke Joshua Park", "link": "https://stackoverflow.com/users/1718554/luke-joshua-park"}, "edited": false, "score": 0, "creation_date": 1473884587, "post_id": 39498908, "comment_id": 66315605, "body": "Don&#39;t post an answer unless it actually is an answer."}], "tags": [], "owner": {"reputation": 1, "user_id": 5798388, "user_type": "registered", "profile_image": "https://graph.facebook.com/958425257577624/picture?type=large", "display_name": "grzeniuk", "link": "https://stackoverflow.com/users/5798388/grzeniuk"}, "is_accepted": false, "score": -2, "last_activity_date": 1473885197, "last_edit_date": 1495542769, "creation_date": 1473884071, "answer_id": 39498908, "question_id": 39498830, "link": "https://stackoverflow.com/questions/39498830/download-an-excel-file-from-an-html-file-in-java/39498908#39498908", "title": "Download an excel file from an html file in java", "body": "<p>can u post full link to website? \nI think you are getting into this from wrong way. See that this element isnt anchor with href button but i suppose its form that redirects U to the file ( maybe file isn't on server just generated for download and than destroyed?). Have U tried executing onclick function??</p>\n\n<pre><code> &lt;button onclick=\"myFunction()\"&gt;Click me&lt;/button&gt;\n</code></pre>\n\n<p>@Luke Park, sorry for that, but i cant make only comments yet. I have to earn 50 points. Sorry if U not welcome with that. \nHere u have some code.</p>\n\n<p>Python way:\n<a href=\"https://stackoverflow.com/questions/18439851/downloading-file-using-selenium\">downloading file using selenium</a></p>\n"}], "owner": {"reputation": 533, "user_id": 405322, "user_type": "registered", "accept_rate": 32, "profile_image": "https://i.stack.imgur.com/7i1Bx.jpg?s=128&g=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/405322/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 161, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1473885197, "creation_date": 1473883666, "last_edit_date": 1473884056, "question_id": 39498830, "link": "https://stackoverflow.com/questions/39498830/download-an-excel-file-from-an-html-file-in-java", "title": "Download an excel file from an html file in java", "body": "<p>I'm using Webdriver to perform all the UI actions. I want to download an excel file on Click operation of a WebElement. The below is the html code of the application.</p>\n\n<pre><code>&lt;span class=\"excel ExcelLink\" onclick=\"document.expForm.submit();\"&gt;Download Excel&lt;/span&gt;\n</code></pre>\n\n<p>I'm getting error has this WebElement doesn't have any 'href' attribute present in this. Hence I can't use the \"HttpClient\" to retrieve the file. how to download in this file in java / javascript?</p>\n\n<p>Kindly suggest.</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": true, "score": 4, "last_activity_date": 1512142227, "last_edit_date": 1512142227, "creation_date": 1473884380, "answer_id": 39498991, "question_id": 39498825, "link": "https://stackoverflow.com/questions/39498825/requestanimationframe-with-callback-function/39498991#39498991", "title": "requestAnimationFrame with callback function?", "body": "<p>You could use <code>bind</code> to let your callback function be passed on. At the same time you can also pass on <code>this</code>, so you keep your reference to the current Game object instance:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function Game(){\r\n  var i = 0;\r\n  var anim = false;\r\n  \r\n  this.turn = 1;\r\n\r\n  this.move = function(){\r\n    this.animate(this.advanceTurn.bind(this));\r\n  }\r\n\r\n  this.advanceTurn = function(){\r\n     this.turn++;\r\n  }\r\n\r\n  this.animate = function(callback){\r\n    var done = false;\r\n    anim = window.requestAnimationFrame(this.animate.bind(this, callback));\r\n\r\n    // animation code here\r\n    console.log(i++);\r\n\r\n    if (i&gt;5){\r\n        window.cancelAnimationFrame(anim);\r\n        i = 0;\r\n        anim = false;\r\n        callback();\r\n    }\r\n  }\r\n}\r\n\r\nnew Game().animate(function () {\r\n   console.log('callback received');\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 400, "user_id": 3971786, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/99RNO.jpg?s=128&g=1", "display_name": "Shadetheartist", "link": "https://stackoverflow.com/users/3971786/shadetheartist"}, "is_accepted": false, "score": 0, "last_activity_date": 1473884623, "creation_date": 1473884623, "answer_id": 39499062, "question_id": 39498825, "link": "https://stackoverflow.com/questions/39498825/requestanimationframe-with-callback-function/39499062#39499062", "title": "requestAnimationFrame with callback function?", "body": "<p><strong>You are not writing your class properly.</strong> </p>\n\n<p>In your <code>Game</code> class you are using the variable <code>game</code>, but you should be using <code>this</code>.</p>\n\n<p>For instance, </p>\n\n<pre><code>window.requestAnimationFrame(game.animate);\n</code></pre>\n\n<p>should be </p>\n\n<pre><code>window.requestAnimationFrame(this.animate);\n</code></pre>\n\n<p>And why are you setting <code>anim</code> to <code>false</code>? <code>requestAnimationFrame</code> <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame\" rel=\"nofollow\">returns a non-zero number of type `long.</a></p>\n\n<p><code>this.turn</code> should start at 0, not one. </p>\n\n<p>It doesn't make sense for <code>move</code> to call <code>animate</code>. </p>\n\n<p>In fact, the structure you are trying to use is digging you a grave. </p>\n\n<p>I think it would be best for you to just re-start, and do it right the second time.</p>\n\n<p><a href=\"http://www.lostdecadegames.com/how-to-make-a-simple-html5-canvas-game/\" rel=\"nofollow\">Try this tutorial :)</a></p>\n"}], "owner": {"reputation": 387, "user_id": 5846502, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/7648fd217834de4e58cfda9d72e7ba8e?s=128&d=identicon&r=PG&f=1", "display_name": "user431806", "link": "https://stackoverflow.com/users/5846502/user431806"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1942, "favorite_count": 0, "accepted_answer_id": 39498991, "answer_count": 2, "score": 1, "last_activity_date": 1512142227, "creation_date": 1473883652, "last_edit_date": 1500093218, "question_id": 39498825, "link": "https://stackoverflow.com/questions/39498825/requestanimationframe-with-callback-function", "title": "requestAnimationFrame with callback function?", "body": "<p>Upon clicking a button, I'm animating some things on the canvas. Once the animations are done, I want to invoke a function which is passed as a parameter into the function which initialized <code>requestAnimationFrame</code> in the first place.</p>\n\n<p>Is this possible?</p>\n\n<p>I tried various approaches, with anonymous functions etc.</p>\n\n<pre><code>var anim = false;\nvar game = new Game();\n\nfunction Game(){\n  this.turn = 1;\n\n  this.move = function(){\n    this.animate(game.advanceTurn);\n  }\n\n  this.advanceTurn = function(){\n     this.turn++;\n  }\n\n  this.animate = function(callback){\n    var done = false;\n    anim = window.requestAnimationFrame(game.animate);\n\n    // animation code here\n\n    if (done){\n        window.cancelAnimationFrame(anim);\n        anim = false;\n        callback();\n    }\n  }\n</code></pre>\n\n<p>i.e. click button, animate stuff, animation is done, call game.advanceTurn.</p>\n\n<p>When logging the arguments supplied, the console will at first log my callback function but then replace it with what I believe is a timer measurement (fits with MDN description of <code>rAF</code> description).</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1473883656, "post_id": 39498789, "comment_id": 66315153, "body": "<code>Both of them giving the same results.</code> do they? If you run them, the first returns <code>&quot;2.34&quot;</code> the second returns <code>2.34</code> which is both not the same value and also not the values you showed in the question."}], "answers": [{"tags": [], "owner": {"reputation": 28753, "user_id": 371184, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cebee1b08fb960edf79a359af330391a?s=128&d=identicon&r=PG", "display_name": "Mike Cluck", "link": "https://stackoverflow.com/users/371184/mike-cluck"}, "is_accepted": true, "score": 1, "last_activity_date": 1473883848, "last_edit_date": 1473883848, "creation_date": 1473883546, "answer_id": 39498806, "question_id": 39498789, "link": "https://stackoverflow.com/questions/39498789/whats-the-differences-between-variable-tofixed2-and-variable-tofixed2/39498806#39498806", "title": "what&#39;s the differences between (variable).toFixed(2) and +(variable).toFixed(2)?", "body": "<p>The first gives you a string, the second gives you a (now truncated) number.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var x = 2.344;\r\nvar a = x.toFixed(2);\r\nvar b = +x.toFixed(2);\r\nconsole.log(a, typeof a);\r\nconsole.log(b, typeof b);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>A unary plus will attempt to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Unary_plus\" rel=\"nofollow\">convert it's operand to a number</a>.</p>\n\n<p>The reason this matters is because the first one will lead to string concatenation if you \"add\" a number to it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var x = 2.344;\r\nvar strNumber = x.toFixed(2);\r\nconsole.log(strNumber);\r\nconsole.log(strNumber + 5); // Expected: 7.34, actual: 2.345</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 23, "user_id": 6739339, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6fb2054a2938daf87df6146a5b345270?s=128&d=identicon&r=PG&f=1", "display_name": "gopi", "link": "https://stackoverflow.com/users/6739339/gopi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 39498806, "answer_count": 1, "score": 0, "last_activity_date": 1473883848, "creation_date": 1473883466, "question_id": 39498789, "link": "https://stackoverflow.com/questions/39498789/whats-the-differences-between-variable-tofixed2-and-variable-tofixed2", "title": "what&#39;s the differences between (variable).toFixed(2) and +(variable).toFixed(2)?", "body": "<p>I'm wondering what's the main differences between </p>\n\n<pre><code>(2.3444).toFixed(2) ==&gt; 2.34\n</code></pre>\n\n<p>Also </p>\n\n<pre><code>+(2.3444).toFixed(2) ==&gt; 2.34\n</code></pre>\n\n<p>Both of them giving the same results. Can any one explain when I need to use that + sign?</p>\n"}, {"tags": ["javascript", "java", "jquery", "datatables"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 5837852, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/0a7e7cd4132f8ea828b1f025a297fbb1?s=128&d=identicon&r=PG&f=1", "display_name": "bepster", "link": "https://stackoverflow.com/users/5837852/bepster"}, "edited": false, "score": 0, "creation_date": 1473884709, "post_id": 39499043, "comment_id": 66315661, "body": "I have produced this result once already however when you click in the search box It also sorts e.g. A-Z on that filter box.   I would like the search function to be separate to the sort but cant get it to work correctly!!!"}, {"owner": {"reputation": 911, "user_id": 4181653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/isORH.jpg?s=128&g=1", "display_name": "roger", "link": "https://stackoverflow.com/users/4181653/roger"}, "reply_to_user": {"reputation": 93, "user_id": 5837852, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/0a7e7cd4132f8ea828b1f025a297fbb1?s=128&d=identicon&r=PG&f=1", "display_name": "bepster", "link": "https://stackoverflow.com/users/5837852/bepster"}, "edited": false, "score": 0, "creation_date": 1473885299, "post_id": 39499043, "comment_id": 66315967, "body": "check out the latest updates (updated fiddle, added stopPropagation to javascript summary)"}, {"owner": {"reputation": 93, "user_id": 5837852, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/0a7e7cd4132f8ea828b1f025a297fbb1?s=128&d=identicon&r=PG&f=1", "display_name": "bepster", "link": "https://stackoverflow.com/users/5837852/bepster"}, "edited": false, "score": 0, "creation_date": 1473885465, "post_id": 39499043, "comment_id": 66316046, "body": "You are a god!!! Thank you very much, this has been racking my brain for such a long time!"}], "tags": [], "owner": {"reputation": 911, "user_id": 4181653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/isORH.jpg?s=128&g=1", "display_name": "roger", "link": "https://stackoverflow.com/users/4181653/roger"}, "is_accepted": true, "score": 1, "last_activity_date": 1473885261, "last_edit_date": 1473885261, "creation_date": 1473884564, "answer_id": 39499043, "question_id": 39498774, "link": "https://stackoverflow.com/questions/39498774/jquery-datatables-javascript-move-search-boxes/39499043#39499043", "title": "jQuery DataTables JavaScript move search boxes", "body": "<p>The following fiddle has minimal changes in an attempt to achieve what you describe in your question (moving the input sort boxes below the table header titles):</p>\n\n<p><a href=\"https://jsfiddle.net/r1dbw6u2/4/\" rel=\"nofollow\">https://jsfiddle.net/r1dbw6u2/4/</a></p>\n\n<p>The javascript changes featured can be summarized as:</p>\n\n<pre><code>$(document).ready(function() {\n// Setup - add a text input to each footer cell\n$('#example thead th').each( function () {\n    var title = $(this).text();\n    $(this).append( '&lt;input type=\"text\" placeholder=\"Search '+title+'\" /&gt;' );\n} );\n\n// DataTable\nvar table = $('#example').DataTable();\n\n// Apply the search\ntable.columns().every( function () {\n    var that = this;\n\n    $( 'input', this.header() ).on( 'click', function(e) {\n        e.stopPropagation();\n    } );\n\n    $( 'input', this.header() ).on( 'keyup change', function () {\n        if ( that.search() !== this.value ) {\n            that\n                .search( this.value )\n                .draw();\n        }\n    } );\n} );\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 5837852, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/0a7e7cd4132f8ea828b1f025a297fbb1?s=128&d=identicon&r=PG&f=1", "display_name": "bepster", "link": "https://stackoverflow.com/users/5837852/bepster"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 179, "favorite_count": 0, "accepted_answer_id": 39499043, "answer_count": 1, "score": -1, "last_activity_date": 1473885261, "creation_date": 1473883414, "question_id": 39498774, "link": "https://stackoverflow.com/questions/39498774/jquery-datatables-javascript-move-search-boxes", "title": "jQuery DataTables JavaScript move search boxes", "body": "<p>Evening All,</p>\n\n<p>I'm using this jQuery example from Datatables</p>\n\n<p><a href=\"https://www.datatables.net/examples/api/multi_filter.html\" rel=\"nofollow\">https://www.datatables.net/examples/api/multi_filter.html</a></p>\n\n<p>I would like to place the Search Boxes that currently appear on the bottom of the page underneath the headings e.g. so I still have the bold headings that have the ability to sort but below are the filter boxes where I can filter if needs be.</p>\n\n<p>There are some comments on the page with JavaScript claiming to work however I just cant get anything to work exactly how I would like it!?!</p>\n\n<p>Any help would be much appreciated!!!</p>\n"}, {"tags": ["javascript", "jquery", "ajax", "react-redux"], "answers": [{"comments": [{"owner": {"reputation": 5997, "user_id": 1022333, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/6AvIk.jpg?s=128&g=1", "display_name": "Rick Viscomi", "link": "https://stackoverflow.com/users/1022333/rick-viscomi"}, "edited": false, "score": 0, "creation_date": 1473884810, "post_id": 39499028, "comment_id": 66315725, "body": "Does the finalResults block only have access to the list of YT movies? What if you need the <code>promiseList</code> from the second block?"}, {"owner": {"reputation": 13036, "user_id": 2008384, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/xZb4I.png?s=128&g=1", "display_name": "Kryten", "link": "https://stackoverflow.com/users/2008384/kryten"}, "reply_to_user": {"reputation": 5997, "user_id": 1022333, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/6AvIk.jpg?s=128&g=1", "display_name": "Rick Viscomi", "link": "https://stackoverflow.com/users/1022333/rick-viscomi"}, "edited": false, "score": 0, "creation_date": 1473885165, "post_id": 39499028, "comment_id": 66315900, "body": "The way I&#39;ve written it, yes, but that&#39;s mainly because I left out a lot of stuff. You could declare an object outside the promise chain and, at each step, add the info you&#39;re interest in to it. Then, when it&#39;s all done, you could use that object however you like."}, {"owner": {"reputation": 1, "user_id": 6832475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac948d78f71096b5f5f2758a842dbbf?s=128&d=identicon&r=PG&f=1", "display_name": "DWex", "link": "https://stackoverflow.com/users/6832475/dwex"}, "edited": false, "score": 0, "creation_date": 1473952992, "post_id": 39499028, "comment_id": 66345500, "body": "Thank you!  This looks, (um...prepare for terrible pun...) promising.  I think the Promise.all is exactly what I need to have the rest of the process wait for the relevant information.  One thing: when the list of movie IDs is generated, that particular call also returns movie attributes that I need (just different ones from then searching via movie ID...very annoying feature of the API). Just to check, you&#39;re saying that if I make an object outside the promise chain, I should be able to push data to it at each step without it interrupting the promise chain? Thanks again!"}], "tags": [], "owner": {"reputation": 13036, "user_id": 2008384, "user_type": "registered", "accept_rate": 39, "profile_image": "https://i.stack.imgur.com/xZb4I.png?s=128&g=1", "display_name": "Kryten", "link": "https://stackoverflow.com/users/2008384/kryten"}, "is_accepted": false, "score": 0, "last_activity_date": 1473884511, "creation_date": 1473884511, "answer_id": 39499028, "question_id": 39498755, "link": "https://stackoverflow.com/questions/39498755/react-redux-javascript-app-trying-to-get-lots-of-api-calls-to-fire-in-order/39499028#39499028", "title": "React-Redux Javascript app - trying to get lots of API calls to fire in order", "body": "<p>TL;DR: use <code>fetch</code> and promises instead of jQuery, group promises using <code>Promise.all</code>.</p>\n\n<p><strong>The Longer Version</strong></p>\n\n<p>Ok, I'm not going to repeat all your code here. I'm going to abbreviate some stuff to keep it simple.</p>\n\n<p>Basically, you have a bunch of tasks to perform. I'm going to pretend each of them is a function that returns a promise which is resolved with the data you want.</p>\n\n<ol>\n<li><code>searchActor()</code> - returns a promise resolved with some ID number</li>\n<li><code>getMoviesFromActorID(actorId)</code> - returns a promise that resolves with an array of movie IDs</li>\n<li><code>getMovie(movieId)</code> - returns a promise that resolves with the details for the given movie ID</li>\n<li><code>getYoutube(movie)</code> - returns a promise that resolves with the Youtube embed code.</li>\n</ol>\n\n<p>Given this basic setup (and I admit I'm leaving out a lot of stuff), the code looks like this:</p>\n\n<pre><code>// search for an actor\nsearchActor('Brad Pitt')\n\n// then get the movie IDs for that actor\n.then((actorId) =&gt; getMoviesFromActorID(actorId))\n\n// then iterate over the list of movie IDs &amp; build an array of \n// promises. Use Promise.all to create a new Promise which is\n// resolved when all are resolved\n.then((movieIdList) =&gt; {\n    const promiseList = [];\n    movieIdList.forEach((id) =&gt; promiseList.push(getMovie(id)));\n\n    return Promise.all(promiseList);\n})\n\n// then get Youtube links for each of the movies\n.then((movieDetailsList) =&gt; {\n    const youtubeList = [];\n    movieDetailsList.forEach((movie) =&gt; youtubeList.push(getYoutube(movie)));\n\n    return Promise.all(youtubeList);\n})\n\n// then do something with all the information you've collected\n.then((finalResults) =&gt; {\n    // do something interesting...\n});\n</code></pre>\n\n<p>The key to this is <code>Promise.all</code> (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow\">documentation here</a>), which will take an array of Promises (or any other iterable object containing promises) and create a new Promise which will resolve when all of the original promises have resolved. By using <code>Promise.all</code>, you can create a step in your promise chain which can include a variable number of parallel actions which must complete before the next step.</p>\n\n<p>You <em>could</em> do something like this will jQuery and callbacks, but it would be pretty darn ugly. One of the great benefits of promises is the ability to lay out a series of steps like above.</p>\n"}], "owner": {"reputation": 1, "user_id": 6832475, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aac948d78f71096b5f5f2758a842dbbf?s=128&d=identicon&r=PG&f=1", "display_name": "DWex", "link": "https://stackoverflow.com/users/6832475/dwex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 137, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1474060902, "creation_date": 1473883369, "last_edit_date": 1474060902, "question_id": 39498755, "link": "https://stackoverflow.com/questions/39498755/react-redux-javascript-app-trying-to-get-lots-of-api-calls-to-fire-in-order", "title": "React-Redux Javascript app - trying to get lots of API calls to fire in order", "body": "<p>I'm having an issue with successive API calls (using JQuery's AJAX) to two different APIs in order to build objects with certain attributes.  Here's the summary of my app and what I'm trying to do:</p>\n\n<p>The user enters in the name of an actor or director, and the app is meant to return a total of five movies, each of which has certain attributes like title, overview, year, budget, revenue, and a link to a YouTube preview. I'm using The Movie Database API, plus the YouTube API for the YouTube link.</p>\n\n<p>Here's the order of how things currently to work, with all of this happening in the action creator of the Redux app:</p>\n\n<ol>\n<li>Actor name gets sent to the TMDB API -- returns ActorID number</li>\n<li>ActorID number gets sent to the TMDB API -- returns 20 movies with: title, overview, year, poster link, and MovieID number</li>\n<li>For EACH movie in that list, the MovieID number gets sent to the API -- returns more attributes: budget, revenue, and IMDB-ID (to use in a link later)</li>\n<li>Also for EACH movie in step 2, the title gets sent to the YouTube API -- returns a link to the preview.</li>\n</ol>\n\n<p>Once all of this information is assembled for each movie, I want to return the first five movies and dispatch them as the action payload to the Redux store.</p>\n\n<p>I'm using some promises, and I've tried everything I could think of in terms of rearranging the flow of functions, but I can't get all the information I need with one click of the submit button.  The funny thing is, it works with TWO clicks of the submit button, I think because by then all the async AJAX calls are finally done.  But after the first click, I have an empty array where the movie objects should be.</p>\n\n<p>Here's some code that should summarize what things look like:</p>\n\n<pre><code>var personId\nvar movies = []\n\nfunction actorByRating(UserInput) {\n</code></pre>\n\n<p>Step 1: get actor ID number:</p>\n\n<pre><code>function searchActors() {\nreturn $.ajax({\n  method: \"GET\",\n  url: `https://api.themoviedb.org/3/search/person?query=${UserInput}&amp;api_key=&lt;key&gt;`\n}).done(function(response){\n  personId = response.results[0].id\n})\n}\n</code></pre>\n\n<p>Step 2: Use Actor ID to get list of movies, start assigning them attributes:</p>\n\n<pre><code>function getMovies() {\n$.ajax({\n  method: \"GET\",\n  url: `https://api.themoviedb.org/3/discover/movie?with_cast=${personId}&amp;vote_count.gte=20&amp;sort_by=vote_average.asc&amp;budget.desc&amp;api_key=&lt;key&gt;&amp;include_image_language=en`\n}).done(function(response) {\n  response.results.forEach((m) =&gt; {\n    var movie = {}\n    movie.title = m.title\n    movie.year = m.release_date.split(\"-\")[0]\n    movie.movieId = m.id\n    movie.overview = m.overview\n    movie.poster = \"http://image.tmdb.org/t/p/w500\" + m.poster_path\n\n    getMovieInfo(movie) //step 3\n    getYouTube(movie) //step 4\n    saveMovie(movie)\n  })\n})\n}\nfunction saveMovie(movie){\n  movies.push(movie)\n}\n</code></pre>\n\n<p>Step 3 function, takes in a movie object as an argument:</p>\n\n<pre><code>function getMovieInfo(m){\n  return $.ajax({\n    method: \"GET\",\n    url: `https://api.themoviedb.org/3/movie/${m.movieId}?&amp;api_key=&lt;key&gt;&amp;append_to_results=imdb_id`\n  }).done(function(response) {\n    m.revenue = response.revenue\n    m.budget = response.budget\n    m.imdbId = response.imdb_id\n  })\n}\n</code></pre>\n\n<p>Step 4 function, to get Youtube link.  Also takes a movie object:</p>\n\n<pre><code>function getYouTube(movie){\n  $.ajax({\n  method: \"GET\",\n  url: `https://www.googleapis.com/youtube/v3/search?part=snippet&amp;q=${movie.title.split(\" \").join(\"+\")}+trailer&amp;key=&lt;key&gt;`\n  }).done(function(yt){\n    movie.youtubeLink = `http://www.youtube.com/embed/${yt.items[0].id.videoId}`\n  })\n}\n</code></pre>\n\n<p>After this, the filtering functions work fine, when they have an array of movies to work with.  The problem is, I think, all these successive API calls keep firing before the previous ones are done, and the latter ones need info from the earlier ones to search with.  Thus, when I click submit the first time, the final movies array is empty, so the dispatched payload is an empty array.  THEN the movie objects get filled in, so when you click submit again, the movies are already there to work with, and the rest of the app works fine.</p>\n\n<p>I've tried everything I can think of to slow the process down, chain promises together (which doesn't work because Step 2 has to run for several movies, i.e. the return values of each function keep changing, so I can't \".then\" them), reorganizing the information that comes in...but I can't get it to give me movie objects with all the attributes I need by the time the filtering functions actually run to create the proper payload.</p>\n\n<p>Any help or suggestions would be greatly appreciated!</p>\n\n<h2>(Note: the \"key\" stuff above is just placeholder text)</h2>\n\n<p>UPDATE:\nI changed the code to basically the following:</p>\n\n<pre><code>searchActors()\n.then(function(response){\nconst actorId = response.data.results[0].id\nreturn actorId\n})\n.then((personID) =&gt; {\nreturn getMoviesFromPersonID(personID)\n})\n.then(function(response) {\nconst movieList = []\nresponse.data.results.forEach((m) =&gt; {\n  var movie = {}\n  movie.title = m.title\n  movie.year = m.release_date.split(\"-\")[0]\n  movie.movieId = m.id\n  movie.overview = m.overview\n  movie.poster = \"http://image.tmdb.org/t/p/w500\" + m.poster_path\n  movieList.push(movie)\n  // saveMovie(movie)\n})\nreturn Promise.all(movieList)\n})\n.then((movieList) =&gt; {\nconst deepMovieList = []\nmovieList.forEach((movie) =&gt; {\n  getMovieInfo(movie)\n  .then(function(response) {\n    movie.revenue = response.data.revenue\n    movie.budget = response.data.budget\n    movie.imdbId = response.data.imdb_id\n    deepMovieList.push(movie)\n  })\n})\nreturn Promise.all(deepMovieList)\n})\n.then((deepMovieList) =&gt; {\nconst finalMovies = []\ndeepMovieList.forEach((movie) =&gt; {\n  finalMovies.push(getYouTube(movie))\n})\nreturn Promise.all(finalMovies)\n})\n</code></pre>\n\n<p>Everything works fine right up until the first mention of \"deepMovieList\".  I can't seem to figure out how to have that particular step to work properly, as it essentially involves making 20 API calls with each movie in the movieList.  I can't figure out how to 1) get the info back from the API, 2) assign the attributes to the movie object that is passed in to getMovieInfo, and then 3) push that movie object (with the new attributes) to an array that I can use Promise.all on, all without interrupting the promise chain.</p>\n\n<p>Either it moves on to the next \"then\" function too early (while deepMovieList is still an empty array), or, with other random stuff I've tried, the array ends up being undefined.</p>\n\n<p>How can I have the next \"then\" function wait until 20 API calls have been made and each movie object has its updated attributes? This will also run into the same problem in the next step, for the YouTube link.</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 53434, "user_id": 5037551, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/BYnIO.jpg?s=128&g=1", "display_name": "Dekel", "link": "https://stackoverflow.com/users/5037551/dekel"}, "edited": false, "score": 1, "creation_date": 1473883516, "post_id": 39498748, "comment_id": 66315072, "body": "where is your html? provide a working example (snippet/jsfiddler/something...)"}, {"owner": {"reputation": 79, "user_id": 6111938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cb7cf570bc7326afd32b61ebf7de2a3?s=128&d=identicon&r=PG&f=1", "display_name": "SchwiftyPython", "link": "https://stackoverflow.com/users/6111938/schwiftypython"}, "edited": false, "score": 0, "creation_date": 1473884765, "post_id": 39498748, "comment_id": 66315699, "body": "Possible duplicate of <a href=\"http://stackoverflow.com/questions/17827908/how-to-make-fixed-header-table-inside-scrollable-div\" title=\"how to make fixed header table inside scrollable div\">stackoverflow.com/questions/17827908/&hellip;</a> and <a href=\"http://stackoverflow.com/questions/673153/html-table-with-fixed-headers\" title=\"html table with fixed headers\">stackoverflow.com/questions/673153/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 6796251, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e785edfadec05eb3c3cd45a6813e701f?s=128&d=identicon&r=PG", "display_name": "A_D", "link": "https://stackoverflow.com/users/6796251/a-d"}, "is_accepted": false, "score": 0, "last_activity_date": 1473885086, "creation_date": 1473885086, "answer_id": 39499170, "question_id": 39498748, "link": "https://stackoverflow.com/questions/39498748/how-to-make-a-scrollable-table-with-fixed-header/39499170#39499170", "title": "How to make a scrollable table with fixed header", "body": "<p>Have you tried this?</p>\n\n<pre><code>table {\nborder-collapse: collapse;\noverflow :scroll;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 431, "user_id": 6580021, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9AVXw.jpg?s=128&g=1", "display_name": "Claudio Bonfati", "link": "https://stackoverflow.com/users/6580021/claudio-bonfati"}, "is_accepted": false, "score": 1, "last_activity_date": 1473933727, "last_edit_date": 1473933727, "creation_date": 1473885423, "answer_id": 39499262, "question_id": 39498748, "link": "https://stackoverflow.com/questions/39498748/how-to-make-a-scrollable-table-with-fixed-header/39499262#39499262", "title": "How to make a scrollable table with fixed header", "body": "<p>Its not too easy, but take a look here:</p>\n\n<p><a href=\"https://fiddle.jshell.net/805s75hb/\" rel=\"nofollow\">https://fiddle.jshell.net/805s75hb/</a></p>\n\n<p>Many things were used here, such as <code>position</code> and <code>overflow</code>.</p>\n\n<p>I hope it can help you. :)</p>\n"}, {"comments": [{"owner": {"reputation": 51, "user_id": 6081157, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6d2b9cf0e2256c5fbfe22197eef662ce?s=128&d=identicon&r=PG&f=1", "display_name": "Harish Gupta", "link": "https://stackoverflow.com/users/6081157/harish-gupta"}, "edited": false, "score": 0, "creation_date": 1473886095, "post_id": 39499296, "comment_id": 66316366, "body": "do you have horizontal scroll bar too in your example?"}, {"owner": {"reputation": 36, "user_id": 6810490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2031794a9a98f338adec88ccb60c54ac?s=128&d=identicon&r=PG&f=1", "display_name": "C1234", "link": "https://stackoverflow.com/users/6810490/c1234"}, "reply_to_user": {"reputation": 51, "user_id": 6081157, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6d2b9cf0e2256c5fbfe22197eef662ce?s=128&d=identicon&r=PG&f=1", "display_name": "Harish Gupta", "link": "https://stackoverflow.com/users/6081157/harish-gupta"}, "edited": false, "score": 0, "creation_date": 1473887535, "post_id": 39499296, "comment_id": 66316989, "body": "Yes it have both horizontal and vertical scroll option for inner_table table. Header table is static even if you add more td elements it should display all."}, {"owner": {"reputation": 36, "user_id": 6810490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2031794a9a98f338adec88ccb60c54ac?s=128&d=identicon&r=PG&f=1", "display_name": "C1234", "link": "https://stackoverflow.com/users/6810490/c1234"}, "reply_to_user": {"reputation": 51, "user_id": 6081157, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6d2b9cf0e2256c5fbfe22197eef662ce?s=128&d=identicon&r=PG&f=1", "display_name": "Harish Gupta", "link": "https://stackoverflow.com/users/6081157/harish-gupta"}, "edited": false, "score": 0, "creation_date": 1473887568, "post_id": 39499296, "comment_id": 66317013, "body": "Test them by adding more td elements to the Inner_table"}], "tags": [], "owner": {"reputation": 36, "user_id": 6810490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2031794a9a98f338adec88ccb60c54ac?s=128&d=identicon&r=PG&f=1", "display_name": "C1234", "link": "https://stackoverflow.com/users/6810490/c1234"}, "is_accepted": false, "score": 0, "last_activity_date": 1473885541, "creation_date": 1473885541, "answer_id": 39499296, "question_id": 39498748, "link": "https://stackoverflow.com/questions/39498748/how-to-make-a-scrollable-table-with-fixed-header/39499296#39499296", "title": "How to make a scrollable table with fixed header", "body": "<p>I have used two tables one for header to make it static so that it would fixed. \nHave a look if this can help you :)\n</p>\n\n\n\n<pre class=\"lang-css prettyprint-override\"><code>.wrap {\n    width: 352px;\n}\n\n.wrap table {\n    width: 300px;\n    table-layout: fixed;\n}\n\ntable tr td {\n    padding: 5px;\n    border: 1px solid #eee;\n    width: 100px;\n    word-wrap: break-word;\n}\n\ntable.head tr td {\n    background: #eee;\n}\n\n.inner_table {\n    height: 100px;\n    overflow-y: auto;\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n\n&lt;/head&gt;\n  &lt;body&gt;\n&lt;div class=\"wrap\"&gt;\n    &lt;table class=\"head\"&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Head 1&lt;/td&gt;\n            &lt;td&gt;Head 1&lt;/td&gt;\n            &lt;td&gt;Head 1&lt;/td&gt;\n\n        &lt;/tr&gt;\n    &lt;/table&gt;\n    &lt;div class=\"inner_table\"&gt;\n        &lt;table&gt;\n        &lt;tr&gt;\n            &lt;td&gt;Body 1&lt;/td&gt;\n            &lt;td&gt;Body 1&lt;/td&gt;\n            &lt;td&gt;Body 1&lt;/td&gt;\n\n        &lt;/tr&gt;\n          &lt;tr&gt;\n            &lt;td&gt;Body 1&lt;/td&gt;\n            &lt;td&gt;Body 1&lt;/td&gt;\n            &lt;td&gt;Body 1&lt;/td&gt;\n\n        &lt;/tr&gt;\n\n         &lt;tr&gt;\n            &lt;td&gt;Body 1&lt;/td&gt;\n            &lt;td&gt;Body 1&lt;/td&gt;\n            &lt;td&gt;Body 1&lt;/td&gt;\n\n        &lt;/tr&gt;\n        &lt;!-- Some more tr's --&gt;\n    &lt;/table&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n    &lt;/body&gt;\n  &lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 51, "user_id": 6081157, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/6d2b9cf0e2256c5fbfe22197eef662ce?s=128&d=identicon&r=PG&f=1", "display_name": "Harish Gupta", "link": "https://stackoverflow.com/users/6081157/harish-gupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 684, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1473933727, "creation_date": 1473883327, "question_id": 39498748, "link": "https://stackoverflow.com/questions/39498748/how-to-make-a-scrollable-table-with-fixed-header", "title": "How to make a scrollable table with fixed header", "body": "<p>I am trying to make a scrollable table with vertical and horizontal scroll bars and with fixed header.</p>\n\n<p>But when i try to make the header in fixed position,my vertical scroll bar becomes hidden and appears only when i scroll extreme right.</p>\n\n<p>similarly,if i make the scroll bars visible,my header becomes movable.</p>\n\n<p>Please advise.</p>\n\n<p>PFB my CSS code.</p>\n\n<pre><code>.button-container{\ntext-align: center;\n}\ntable {\nborder-collapse: collapse; /* make simple 1px lines borders if border defined */\n}\ntr {\nwidth: 100%;`}\n.outer-container { \nposition: absolute;\ntop:0;\nleft: 0;\nright: 300px;\nbottom:40px;\n\n\noverflow: hidden;\n}\n.inner-container {\nwidth: 100%;\nheight: 100%;\nposition: relative;\n\n    overflow-y:hidden;\n}\n.header-table-container {\n\nfloat:left;\nwidth: 100%;\n}\n\n.header-table{\nbackground: #0088CC;\nwidth=100%;\ncellpadding=0;\ncellspacing=0;\n}\n\n.body-table-container {\nfloat:left;\nheight: 100%;\n\n}\n\n.body-table{\nwidth=100%;\ncellpadding=0;\ncellspacing=0;\n\nheight:500px;\n}\n.header-cell {\nbackground-color: yellow;\ntext-align: left;\nheight: 40px;\n}\n.body-cell {\nbackground-color: blue;\ntext-align: left;\n}\n.headerCol {\nwidth: 160px;\nmin-width: 160px;\ntext-align: center;\n}\n.bodyCol {\nwidth: 160px;\nmin-width: 160px;\n}\n\n.resultsCol {\nwidth: 250px;\nmin-width: 250px;\n}\n\n.even {\nbackground: lightgrey; \n}\n\n.button-container{\ntext-align: center;\n}\n\n.results{\ntext-align: left;\n}\n\n#preprod-wrapper{\n\n}\n\n#prod-wrapper{\nheight:500px;\n}\n</code></pre>\n"}, {"tags": ["javascript", "function", "reactjs", "onclick", "google-tag-manager"], "comments": [{"owner": {"reputation": 3026, "user_id": 6710925, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/UdUf9.jpg?s=128&g=1", "display_name": "Kafo", "link": "https://stackoverflow.com/users/6710925/kafo"}, "edited": false, "score": 0, "creation_date": 1473883527, "post_id": 39498732, "comment_id": 66315081, "body": "why not call the second onClick on the first one?"}], "answers": [{"comments": [{"owner": {"reputation": 81, "user_id": 1316158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d565eaf44c8ad2a2729fe0c8d3001c?s=128&d=identicon&r=PG", "display_name": "bluegen1e", "link": "https://stackoverflow.com/users/1316158/bluegen1e"}, "edited": false, "score": 0, "creation_date": 1473898163, "post_id": 39498809, "comment_id": 66320181, "body": "hi thanks for responding. I tried your first method, but it doesn&#39;t submit the form. Instead it throws an error <code>Uncaught TypeError: Cannot read property &#39;preventDefault&#39; of undefined</code>"}, {"owner": {"reputation": 81, "user_id": 1316158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d565eaf44c8ad2a2729fe0c8d3001c?s=128&d=identicon&r=PG", "display_name": "bluegen1e", "link": "https://stackoverflow.com/users/1316158/bluegen1e"}, "edited": false, "score": 0, "creation_date": 1473898660, "post_id": 39498809, "comment_id": 66320306, "body": "This is the submit function                                                                <code>submit (e) {     e.preventDefault();     if (this.refs.input.value.length === 5) {       this.context.router.push(&#39;&#47;where-to-buy&#47;?zip=&#39; + this.refs.input.value);     }   }</code>"}, {"owner": {"reputation": 497, "user_id": 1360429, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/812fd319f7cb4e8b0146786544559754?s=128&d=identicon&r=PG", "display_name": "Buck Shlegeris", "link": "https://stackoverflow.com/users/1360429/buck-shlegeris"}, "reply_to_user": {"reputation": 81, "user_id": 1316158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d565eaf44c8ad2a2729fe0c8d3001c?s=128&d=identicon&r=PG", "display_name": "bluegen1e", "link": "https://stackoverflow.com/users/1316158/bluegen1e"}, "edited": false, "score": 0, "creation_date": 1473906625, "post_id": 39498809, "comment_id": 66321941, "body": "I&#39;ve changed my answer so it should work for that."}], "tags": [], "owner": {"reputation": 497, "user_id": 1360429, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/812fd319f7cb4e8b0146786544559754?s=128&d=identicon&r=PG", "display_name": "Buck Shlegeris", "link": "https://stackoverflow.com/users/1360429/buck-shlegeris"}, "is_accepted": false, "score": 9, "last_activity_date": 1473906607, "last_edit_date": 1473906607, "creation_date": 1473883552, "answer_id": 39498809, "question_id": 39498732, "link": "https://stackoverflow.com/questions/39498732/how-to-add-two-onclick-functions-in-react/39498809#39498809", "title": "how to add two onClick functions in React", "body": "<p>There are two ways of doing this.</p>\n\n<p>To start with, you can put two statements in the click handler that you're defining inline with the ES6 function literal syntax.</p>\n\n<pre><code>&lt;button \n  className={s.button}\n  onClick={ (e) =&gt; {\n    gaClickEvent('home-where-to-buy', 'submit' , undefined);\n    this.submit(e);\n  }} &gt;\n</code></pre>\n\n<p>But this is slightly more code that I'd be comfortable putting in an onClick handler. If I were you, I'd separate this logic out into a handler method on the component. Eg:</p>\n\n<pre><code>var MyComponent = React.createClass({\n  handleClick () {\n    gaClickEvent('home-where-to-buy', 'submit' , undefined);\n    this.submit();\n  },\n  render () {\n    return &lt;button \n      className={s.button}\n      onClick={(e) =&gt; this.handleClick(e)} &gt;\n      I am a button!\n      &lt;/button&gt;;\n  }\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15361, "user_id": 4945468, "user_type": "registered", "accept_rate": 61, "profile_image": "https://graph.facebook.com/10204375764859646/picture?type=large", "display_name": "Pranesh Ravi", "link": "https://stackoverflow.com/users/4945468/pranesh-ravi"}, "is_accepted": false, "score": 1, "last_activity_date": 1473922225, "creation_date": 1473922225, "answer_id": 39504683, "question_id": 39498732, "link": "https://stackoverflow.com/questions/39498732/how-to-add-two-onclick-functions-in-react/39504683#39504683", "title": "how to add two onClick functions in React", "body": "<p>You can do this </p>\n\n<pre><code>class Mycomponent extends React.component {\n submit(e) {\n  //handle event\n }\n render() {\n  return &lt;button className={s.button} onClick={this.submit.bind(this)} /&gt;\n }\n}\n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 1316158, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38d565eaf44c8ad2a2729fe0c8d3001c?s=128&d=identicon&r=PG", "display_name": "bluegen1e", "link": "https://stackoverflow.com/users/1316158/bluegen1e"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 19558, "favorite_count": 0, "closed_date": 1474045071, "answer_count": 2, "score": 8, "last_activity_date": 1473922225, "creation_date": 1473883269, "last_edit_date": 1473897473, "question_id": 39498732, "link": "https://stackoverflow.com/questions/39498732/how-to-add-two-onclick-functions-in-react", "closed_reason": "Duplicate", "title": "how to add two onClick functions in React", "body": "<p>hey ~ I'm trying to fire a submit function and a google click event on the same onClick in React. How do I do this in React?</p>\n\n<p>This is the code: </p>\n\n<pre><code>&lt;button className={s.button} onClick={this.submit} onClick={ () =&gt; {gaClickEvent('where-to-buy', 'submit' , undefined)}}&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "canvas"], "comments": [{"owner": {"reputation": 7680, "user_id": 2687790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XZPKJ.jpg?s=128&g=1", "display_name": "The One and Only ChemistryBlob", "link": "https://stackoverflow.com/users/2687790/the-one-and-only-chemistryblob"}, "edited": false, "score": 0, "creation_date": 1473883216, "post_id": 39498693, "comment_id": 66314932, "body": "This may help ---&gt; <a href=\"http://stackoverflow.com/questions/27587532/image-map-and-canvas\">stackoverflow.com/questions/27587532/image-map-and-canvas</a>"}, {"owner": {"reputation": 4576, "user_id": 3156300, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Oo88B.png?s=128&g=1", "display_name": "JokerMartini", "link": "https://stackoverflow.com/users/3156300/jokermartini"}, "reply_to_user": {"reputation": 7680, "user_id": 2687790, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/XZPKJ.jpg?s=128&g=1", "display_name": "The One and Only ChemistryBlob", "link": "https://stackoverflow.com/users/2687790/the-one-and-only-chemistryblob"}, "edited": false, "score": 0, "creation_date": 1473895293, "post_id": 39498693, "comment_id": 66319489, "body": "@TheOneandOnlyChemistryBlob the referenced article&#39;s answers don&#39;t&#39; have working examples. you sure those work?"}, {"owner": {"reputation": 94308, "user_id": 411591, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ecae50c4e29a4d18118ada1d417e7eb?s=128&d=identicon&r=PG", "display_name": "markE", "link": "https://stackoverflow.com/users/411591/marke"}, "edited": false, "score": 0, "creation_date": 1473897105, "post_id": 39498693, "comment_id": 66319917, "body": "<a href=\"http://stackoverflow.com/documentation/html5-canvas/5017/collisions-and-intersections/17715/is-an-x-y-point-inside-a-circle#t=201609142351129323284\">Is mouse over circle?</a>"}, {"owner": {"reputation": 94308, "user_id": 411591, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ecae50c4e29a4d18118ada1d417e7eb?s=128&d=identicon&r=PG", "display_name": "markE", "link": "https://stackoverflow.com/users/411591/marke"}, "edited": false, "score": 0, "creation_date": 1473897199, "post_id": 39498693, "comment_id": 66319943, "body": "<a href=\"http://stackoverflow.com/questions/31875475/how-to-show-y-axis-value-on-hover-turning-point-of-graph/31887985#31887985\">Tooltips</a>"}, {"owner": {"reputation": 4576, "user_id": 3156300, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Oo88B.png?s=128&g=1", "display_name": "JokerMartini", "link": "https://stackoverflow.com/users/3156300/jokermartini"}, "reply_to_user": {"reputation": 94308, "user_id": 411591, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ecae50c4e29a4d18118ada1d417e7eb?s=128&d=identicon&r=PG", "display_name": "markE", "link": "https://stackoverflow.com/users/411591/marke"}, "edited": false, "score": 0, "creation_date": 1473945409, "post_id": 39498693, "comment_id": 66339945, "body": "@markE would you be able to help me get this working in my code example?"}, {"owner": {"reputation": 94308, "user_id": 411591, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5ecae50c4e29a4d18118ada1d417e7eb?s=128&d=identicon&r=PG", "display_name": "markE", "link": "https://stackoverflow.com/users/411591/marke"}, "edited": false, "score": 0, "creation_date": 1473955474, "post_id": 39498693, "comment_id": 66347073, "body": "Family member is ill so no time to code but the two links I gave are spot on to solve your issue"}], "owner": {"reputation": 4576, "user_id": 3156300, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/Oo88B.png?s=128&g=1", "display_name": "JokerMartini", "link": "https://stackoverflow.com/users/3156300/jokermartini"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 660, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1473883083, "creation_date": 1473883083, "question_id": 39498693, "link": "https://stackoverflow.com/questions/39498693/html-canvas-change-shape-color-on-hover-and-display-info", "title": "html canvas change shape color on hover and display info", "body": "<p>How can i change the color of an item when my cursor hovers over it? I'm randomly generating the data of circles through a function? How can I also also display a simple popup showing information about the point?</p>\n\n<p>So far the code below will generate the map and all the points.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GfaO5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GfaO5.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>index.html</strong></p>\n\n<pre><code>&lt;!doctype html&gt;\n\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n\n  &lt;meta name=\"description\" content=\"The HTML5 Herald\"&gt;\n  &lt;meta name=\"author\" content=\"SitePoint\"&gt;\n\n  &lt;link rel=\"stylesheet\" href=\"css/style.css?v=1.0\"&gt;\n  &lt;script src=\"js/script.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n    &lt;canvas id=\"themap\"&gt;&lt;/canvas&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>script.js</strong></p>\n\n<pre><code>function Point(x, y, size) {\n  this.x = x;\n  this.y = y;\n  this.size = size;\n  this.name = \"Doug\"\n}\n\nfunction generate_points(){\n  var points = new Array();\n\n  for (i = 0; i &lt; 100; i++) { \n    var radiusMin = 1;\n    var radiusMax = 10;\n\n    // calculate bounds of image/map\n    var minX = 0;\n    var maxX = 600;\n    var minY = 0;\n    var maxY = 400;\n\n    var posX = Math.floor((Math.random() * maxX) + minX);\n    var posY = Math.floor((Math.random() * maxY) + minY);\n\n    var radius = Math.floor((Math.random() * radiusMax) + radiusMin);\n\n    var pt = new Point(posX, posY, radius);\n    points.push(pt);\n  }\n  return points;\n}\n\nwindow.onload = function(){     \n    var canvas = document.getElementById(\"themap\");\n    canvas.width = 600;\n    canvas.height = 400;\n\n    var ctx = canvas.getContext('2d');\n    var points = generate_points();\n    trackTransforms(ctx);\n\n  function redraw(){\n\n        // Clear the entire canvas\n        var p1 = ctx.transformedPoint(0,0);\n        var p2 = ctx.transformedPoint(canvas.width,canvas.height);\n        ctx.clearRect(p1.x,p1.y,p2.x-p1.x,p2.y-p1.y);\n\n        ctx.save();\n        ctx.setTransform(1,0,0,1,0,0);\n        ctx.clearRect(0,0,canvas.width,canvas.height);\n        ctx.restore();\n\n        for (index = 0; index &lt; points.length; ++index) {\n          var pt = points[index];\n\n          // console.log(a[index]);\n          ctx.beginPath();\n          ctx.lineWidth = 4;\n          ctx.arc(pt.x, pt.y, pt.size, 0, 2*Math.PI);\n          ctx.strokeStyle = \"rgba(255, 0, 0, 0.5)\";\n          ctx.stroke();\n          ctx.fillStyle = \"rgba(255, 0, 0, 0.5)\";\n          ctx.fill();\n        }\n      }\n      redraw();\n\n    var lastX=canvas.width/2, lastY=canvas.height/2;\n};\n\n\nfunction trackTransforms(ctx){\n    var svg = document.createElementNS(\"http://www.w3.org/2000/svg\",'svg');\n    var xform = svg.createSVGMatrix();\n    ctx.getTransform = function(){ return xform; };\n\n    var pt  = svg.createSVGPoint();\n    ctx.transformedPoint = function(x,y){\n        pt.x=x; pt.y=y;\n        return pt.matrixTransform(xform.inverse());\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "rethinkdb", "horizon"], "comments": [{"owner": {"reputation": 1422, "user_id": 6761698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/632a6287355f06b9834c826b93f12d3e?s=128&d=identicon&r=PG", "display_name": "Wouter Vanherck", "link": "https://stackoverflow.com/users/6761698/wouter-vanherck"}, "edited": false, "score": 0, "creation_date": 1491308703, "post_id": 39498686, "comment_id": 73485726, "body": "Trying out Promises with Horizon as well, did you figure this one out?"}, {"owner": {"reputation": 5911, "user_id": 1870054, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/QJydN.jpg?s=128&g=1", "display_name": "wener", "link": "https://stackoverflow.com/users/1870054/wener"}, "reply_to_user": {"reputation": 1422, "user_id": 6761698, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/632a6287355f06b9834c826b93f12d3e?s=128&d=identicon&r=PG", "display_name": "Wouter Vanherck", "link": "https://stackoverflow.com/users/6761698/wouter-vanherck"}, "edited": false, "score": 1, "creation_date": 1491357781, "post_id": 39498686, "comment_id": 73512015, "body": "@WouterVanherck Sorry, no, currently we don&#39;t use horizon yet."}], "owner": {"reputation": 5911, "user_id": 1870054, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/QJydN.jpg?s=128&g=1", "display_name": "wener", "link": "https://stackoverflow.com/users/1870054/wener"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1473883068, "creation_date": 1473883068, "question_id": 39498686, "link": "https://stackoverflow.com/questions/39498686/how-to-make-horizon-work-with-promise", "title": "How to make horizon work with Promise", "body": "<pre><code>// Expected something like this\nvar message = await horizon('message').get(1).fetch().toPromise()\n\n// In real life\nhorizon('message').get(1).fetch().subscribe((message)=&gt;process(message))\n\n// Simulate\npromise = new Promise((resolve, reject)=&gt;{\n  horizon('message').get(1).fetch().subscribe(resolve,reject)\n})\n</code></pre>\n\n<p>Is there any easier way to interop promise and horizon's rxjs observable ?</p>\n"}, {"tags": ["javascript", "parsing", "recursion"], "comments": [{"owner": {"reputation": 173079, "user_id": 893780, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3j1db.jpg?s=128&g=1", "display_name": "robertklep", "link": "https://stackoverflow.com/users/893780/robertklep"}, "edited": false, "score": 2, "creation_date": 1473883193, "post_id": 39498663, "comment_id": 66314921, "body": "You should at least try to hide the fact that you&#39;re trying to get other people to do your homework."}, {"owner": {"reputation": 7920, "user_id": 4040817, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52cdc098ebfbeb386eb8cdf33d125aef?s=128&d=identicon&r=PG&f=1", "display_name": "Little Santi", "link": "https://stackoverflow.com/users/4040817/little-santi"}, "edited": false, "score": 1, "creation_date": 1473883208, "post_id": 39498663, "comment_id": 66314928, "body": "Sorry, but this sounds too much like homework to me. Have you even tried something?"}, {"owner": {"reputation": 101, "user_id": 6741207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328de42b24d433ac3829de56e9dcc1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marina", "link": "https://stackoverflow.com/users/6741207/marina"}, "edited": false, "score": 0, "creation_date": 1473883316, "post_id": 39498663, "comment_id": 66314981, "body": "Not homework. I&#39;m writing parser and I need it in functional style. Look my other question about tokenizer."}, {"owner": {"reputation": 101, "user_id": 6741207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328de42b24d433ac3829de56e9dcc1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marina", "link": "https://stackoverflow.com/users/6741207/marina"}, "edited": false, "score": 0, "creation_date": 1473884038, "post_id": 39498663, "comment_id": 66315333, "body": "Moreover it&#39;s already working example. I just can&#39;t wrap my head how to rewrite it. It&#39;s simple now, because recursion goes as deep as parens are nested."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1473886447, "post_id": 39498663, "comment_id": 66316532, "body": "@Marina The whole point of recursion is that it doesn&#39;t matter how deep it is. You just keep calling the function every time the parentheses are are nested, and it does the right thing."}, {"owner": {"reputation": 101, "user_id": 6741207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328de42b24d433ac3829de56e9dcc1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marina", "link": "https://stackoverflow.com/users/6741207/marina"}, "edited": false, "score": 0, "creation_date": 1473891711, "post_id": 39498663, "comment_id": 66318494, "body": "The point in code above is to unwind the recursion at correct time so the resulting data structure is also properly nested."}], "answers": [{"comments": [{"owner": {"reputation": 101, "user_id": 6741207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328de42b24d433ac3829de56e9dcc1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marina", "link": "https://stackoverflow.com/users/6741207/marina"}, "edited": false, "score": 0, "creation_date": 1473892387, "post_id": 39498938, "comment_id": 66318649, "body": "I get the impression you are trivialising posted code. It&#39;s already using recursion."}, {"owner": {"reputation": 7920, "user_id": 4040817, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52cdc098ebfbeb386eb8cdf33d125aef?s=128&d=identicon&r=PG&f=1", "display_name": "Little Santi", "link": "https://stackoverflow.com/users/4040817/little-santi"}, "reply_to_user": {"reputation": 101, "user_id": 6741207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328de42b24d433ac3829de56e9dcc1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marina", "link": "https://stackoverflow.com/users/6741207/marina"}, "edited": false, "score": 0, "creation_date": 1473918597, "post_id": 39498938, "comment_id": 66324937, "body": "No, not at all. The point is to replace the <code>while</code> loop by a recursive call."}], "tags": [], "owner": {"reputation": 7920, "user_id": 4040817, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52cdc098ebfbeb386eb8cdf33d125aef?s=128&d=identicon&r=PG&f=1", "display_name": "Little Santi", "link": "https://stackoverflow.com/users/4040817/little-santi"}, "is_accepted": false, "score": 1, "last_activity_date": 1473884167, "creation_date": 1473884167, "answer_id": 39498938, "question_id": 39498663, "link": "https://stackoverflow.com/questions/39498663/how-to-recursively-parse-nested-lists/39498938#39498938", "title": "How to recursively parse nested lists?", "body": "<p>When converting an iterative algorithm to recursive, you must take in account:</p>\n\n<ul>\n<li>The base case: A certain condition on which the method must not recurse.</li>\n<li>\"Reduce\" the parameters'  complexity before passing them to the recursive invocation.</li>\n</ul>\n\n<p>In your case, it is easy because the <code>parse</code> method has already parameters for input and output, so you just have to convert it to recursive through following the preceding two rules.</p>\n\n<p>About how to get the output:</p>\n\n<ul>\n<li>With explicit output accumulator parameter: This is the way you have it already.</li>\n<li>Without: Taking the output parameter to an instance variable of the class.</li>\n</ul>\n"}], "owner": {"reputation": 101, "user_id": 6741207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328de42b24d433ac3829de56e9dcc1d2?s=128&d=identicon&r=PG&f=1", "display_name": "Marina", "link": "https://stackoverflow.com/users/6741207/marina"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 354, "favorite_count": 1, "closed_date": 1473914754, "answer_count": 1, "score": -3, "last_activity_date": 1473952428, "creation_date": 1473882976, "last_edit_date": 1473952428, "question_id": 39498663, "link": "https://stackoverflow.com/questions/39498663/how-to-recursively-parse-nested-lists", "closed_reason": "Needs more focus", "title": "How to recursively parse nested lists?", "body": "<p>I try to parse tokens representing nested lists. </p>\n\n<p>I've written parsing function using loop and recursion and it works:</p>\n\n<pre><code>const assert = require('assert');\n\nfunction parse(parent, tokens) {\n\n  while(tokens.length &gt; 0) {\n    let token = tokens.shift();\n\n    switch(token) {\n      case '(':\n        let children = parse([], tokens);\n        parent.push(children);\n        break;\n      case ')':\n        return parent;\n      default:\n        parent.push(token);\n        break;\n    }\n  }\n  return parent;\n}\n\nlet tokens = ['(', '(', 1, 2, ')', ')', '(', 1, ')', '(', ')'];\nlet list = parse([], tokens);\n\nconsole.log(list);\nassert.deepEqual(list, [[[1, 2]], [1], []]);\n</code></pre>\n\n<p>The version using only recursion doesn't work:</p>\n\n<pre><code>function parse(parent, tokens) {\n\n  if(tokens.length &gt; 0) {\n    let token = tokens.shift();\n\n    switch(token) {\n      case '(':\n        return parent.concat([parse([], tokens)]);\n      case ')':\n        return parent;\n      default:\n        return parse(parent.concat(token), tokens);\n    }\n  }\n  else {\n    return parent;\n  }\n}\n</code></pre>\n\n<p>How to make it work?</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 6826418, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ceQnp.jpg?s=128&g=1", "display_name": "mthomp", "link": "https://stackoverflow.com/users/6826418/mthomp"}, "is_accepted": false, "score": 0, "last_activity_date": 1473884203, "creation_date": 1473884203, "answer_id": 39498944, "question_id": 39498657, "link": "https://stackoverflow.com/questions/39498657/image-animate-down-javascript-no-jquery/39498944#39498944", "title": "Image animate down javascript (no jQuery)", "body": "<p>Have you considered using a CSS transition? if you are changing the value of top you should be able to add transition: top 1.6s in your css (to picture). (Then the vendor prefixed versions when you get it working)</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user5613899"}, "edited": false, "score": 0, "creation_date": 1473886199, "post_id": 39499209, "comment_id": 66316416, "body": "This is what the console said aimation.js:16 Uncaught TypeError: Failed to execute &#39;getComputedStyle&#39; on &#39;Window&#39;: parameter 1 is not of type &#39;Element&#39;."}, {"owner": {"reputation": 5333, "user_id": 1763321, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/OseWn.png?s=128&g=1", "display_name": "Canvas", "link": "https://stackoverflow.com/users/1763321/canvas"}, "edited": false, "score": 0, "creation_date": 1473887089, "post_id": 39499209, "comment_id": 66316811, "body": "My bad <code>getComputedStyle</code> only works in chrome, basically what you have to do is set the <code>top</code> css property to <code>0</code> on the element, look at my new answer in a second"}], "tags": [], "owner": {"reputation": 5333, "user_id": 1763321, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/OseWn.png?s=128&g=1", "display_name": "Canvas", "link": "https://stackoverflow.com/users/1763321/canvas"}, "is_accepted": true, "score": 1, "last_activity_date": 1473887326, "last_edit_date": 1473887326, "creation_date": 1473885211, "answer_id": 39499209, "question_id": 39498657, "link": "https://stackoverflow.com/questions/39498657/image-animate-down-javascript-no-jquery/39499209#39499209", "title": "Image animate down javascript (no jQuery)", "body": "<p>jsFiddle : <a href=\"https://jsfiddle.net/n1q3fy8w/\" rel=\"nofollow\">https://jsfiddle.net/n1q3fy8w/</a></p>\n\n<p>Javascript</p>\n\n<pre><code>var imgSlide = document.getElementById('slidedown-image');\n\nvar slideDown = setInterval(function() {\n  var topVal = parseInt(window.getComputedStyle(imgSlide).top, 10);\n  imgSlide.style.top = (topVal + 1) + \"px\";\n}, 15);\n\nsetTimeout(function( ) { clearInterval( slideDown ); }, 1600);\n</code></pre>\n\n<p>You get the element first, after that you setup a <code>setInterval</code> which will basically move our <code>img</code> downwards, we then also set a <code>setTimeout</code> which after <code>1600</code>ms remvoes the <code>slideDown</code> interval and the image stops. Your image however may need <code>position: absolute</code>.</p>\n\n<p>The above answer will only work in Chrome, this however should work in all browswers</p>\n\n<p>jsFiddle : <a href=\"https://jsfiddle.net/n1q3fy8w/1/\" rel=\"nofollow\">https://jsfiddle.net/n1q3fy8w/1/</a></p>\n\n<p>javascript</p>\n\n<pre><code>var imgSlide = document.getElementById('slidedown-image');\n\nvar slideDown = setInterval(function() {\n  var topVal = parseInt(imgSlide.style.top, 10);\n  imgSlide.style.top = (topVal + 1) + \"px\";\n}, 15);\n\nsetTimeout(function( ) { clearInterval( slideDown ); }, 1600);\n</code></pre>\n\n<p>Ok so <code>getComputedStyle</code> only works in chrome, so to get this to work on all other browsers, you have to specifically set the <code>css</code> property on the element and not via CSS. </p>\n\n<p>When you use javascript to access an element and change its style like so <code>element.style.bottom = '150px'</code> the <code>.style</code> gets you all of the css values for your inline styles on that element, so any <code>css</code> changes on an element that is done via a .css/.less file you can't access via javascript. </p>\n\n<p>So all the above code does is we set a <code>top: 0</code> on the element itself and in our code we use <code>imageSlide.style.top</code> instead of chrome's <code>window.getComputedStyle</code></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user5613899"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 39499209, "answer_count": 2, "score": 0, "last_activity_date": 1473895342, "creation_date": 1473882958, "last_edit_date": 1473887570, "question_id": 39498657, "link": "https://stackoverflow.com/questions/39498657/image-animate-down-javascript-no-jquery", "title": "Image animate down javascript (no jQuery)", "body": "<p>I know how to fix the animation that goes down only when the image is showing up in the window with jQuery, but now I want to do that with JavaScript. Struggling with that. The image must be fluently go down (+50px for 1.6 seconds). Have googling around, but most of them are done with jQuery I suggest and that is not what I want. Furtermore the animation should start when the scrollTop is between 600px and 800px. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function scrollFunction() {\r\n\tvar animate = document.getElementById(\"picture\");\r\n\tvar position = 0;\r\n    var top = 0;\r\n\tvar scrollTop = window.pageYOffset || document.documentElement.scrollTop;\r\n\tif(scrollTop &gt; 600 &amp;&amp; scrollTop &lt; 800){\r\n\t\tposition++;\r\n\t\tanimate.style.top = position + \"50px\";\r\n\t} else {\r\n\t\tstop();\r\n\t}\r\n}\r\n\r\nfunction stop() {\r\n\tclearTimeout(animate);\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#picture {\r\n\twidth: 100%;\r\n\theight: auto;\r\n\ttop: -5px;\r\n\tposition: relative;\r\n\tdisplay: block;\r\n\tmargin-left: auto;\r\n\tmargin-right: auto;\r\n\tmargin-bottom: 20px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"col-sm-12 col-xs-12\"&gt;\r\n        &lt;h1 class=\"responsive-h1\"&gt;Mi&lt;span class=\"logo-orange\"&gt; Pad2&lt;/span&gt;&lt;/h1&gt;\r\n            &lt;p class=\"edition-title above-text-black\"&gt;Black Edition&lt;/p&gt;\r\n        &lt;img src=\"Img/picture.jpg\" id=\"picture\"/&gt;\r\n      &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "redux", "react-router"], "comments": [{"owner": {"reputation": 6190, "user_id": 5029266, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/7d4922cf09a8b3d3195cd4d848091ba3?s=128&d=identicon&r=PG", "display_name": "EugZol", "link": "https://stackoverflow.com/users/5029266/eugzol"}, "edited": false, "score": 0, "creation_date": 1473901450, "post_id": 39498636, "comment_id": 66320878, "body": "Doesn&#39;t something like <code>this.props.router.props.passedProp</code> or <code>this.props.router.passedProp</code> work inside of App with your current setup?"}, {"owner": {"reputation": 20977, "user_id": 2518231, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3ea4d08629a1d5ce591b415bdb5cd365?s=128&d=identicon&r=PG", "display_name": "Matthew Herbst", "link": "https://stackoverflow.com/users/2518231/matthew-herbst"}, "edited": false, "score": 0, "creation_date": 1473901702, "post_id": 39498636, "comment_id": 66320911, "body": "Where are you trying to pass the props from? Also, side note, why two components that both use path <code>&#47;</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 4865, "user_id": 607569, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/601916ffea0e0457172a35ef07c0b60c?s=128&d=identicon&r=PG", "display_name": "Andrew Samuelsen", "link": "https://stackoverflow.com/users/607569/andrew-samuelsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1473915441, "creation_date": 1473915441, "answer_id": 39503398, "question_id": 39498636, "link": "https://stackoverflow.com/questions/39498636/pass-props-created-in-app-jsx-level-through-react-router/39503398#39503398", "title": "Pass props created in app.jsx level through react router", "body": "<p>You would do it in your <code>mapStateToProps</code> function of <code>AppComponent.jsx</code> (assuming in your routes you use <code>import App from './AppComponent.jsx'</code>. We could provide more help if you told some more details of where <code>passedprop</code> comes from and how it's used.</p>\n\n<p>Here's the react-router docs on what you can do in <code>&lt;Route&gt;</code>: <a href=\"https://github.com/ReactTraining/react-router/blob/master/docs/API.md#route\" rel=\"nofollow\">https://github.com/ReactTraining/react-router/blob/master/docs/API.md#route</a></p>\n"}, {"tags": [], "owner": {"reputation": 1268, "user_id": 742136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ltImT.jpg?s=128&g=1", "display_name": "peter.mouland", "link": "https://stackoverflow.com/users/742136/peter-mouland"}, "is_accepted": false, "score": 0, "last_activity_date": 1473930198, "creation_date": 1473930198, "answer_id": 39507036, "question_id": 39498636, "link": "https://stackoverflow.com/questions/39498636/pass-props-created-in-app-jsx-level-through-react-router/39507036#39507036", "title": "Pass props created in app.jsx level through react router", "body": "<h1>react-router 4</h1>\n\n<p>you can pass props directly to the component using the <code>Match</code> component and the <code>component</code> prop.</p>\n\n<p>The code example below is passing the custom props <code>label</code> and <code>title</code> to the <code>Game</code> component.</p>\n\n<pre><code>const route = {\n    pattern: '/game',\n    label: 'Star Wars Trivia',\n    title: `${siteTitle} - Star Wars Trivia`,\n    component: Game\n  };\n&lt;Match { ...route } key={ i } render={(props) =&gt; &lt;route.component {...props} routes={route.routes}/&gt;} /&gt;\n</code></pre>\n\n<p>for a working example app, checkout <a href=\"https://github.com/peter-mouland/react-lego\" rel=\"nofollow\">react-lego</a> and the <a href=\"https://github.com/peter-mouland/react-lego/blob/react-router-4/src/app/routes.js\" rel=\"nofollow\">routes.js on the react-router-4 branch</a></p>\n"}], "owner": {"reputation": 11716, "user_id": 3201696, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/14f9684ddc31ba13ddefba05e2f2ebce?s=128&d=identicon&r=PG&f=1", "display_name": "ajmajmajma", "link": "https://stackoverflow.com/users/3201696/ajmajmajma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1473930198, "creation_date": 1473882879, "question_id": 39498636, "link": "https://stackoverflow.com/questions/39498636/pass-props-created-in-app-jsx-level-through-react-router", "title": "Pass props created in app.jsx level through react router", "body": "<p>I have an react/redux app where I am trying to pass some props into my components. Right now in my app.jsx I just have a pretty straight forward render like so :</p>\n\n<pre><code>ReactDOM.render(\n  &lt;Provider store={store}&gt;\n    &lt;Router\n      history={browserHistory}\n      &gt;\n      {routes}\n    &lt;/Router&gt;\n  &lt;/Provider&gt;,\n  rootElement\n);\n</code></pre>\n\n<p>the {routes} just looks like</p>\n\n<pre><code>export default(\n  &lt;Route component={App} path=\"/\"&gt;\n    &lt;Route component={MyComponent} path=\"/\" /&gt;\n  &lt;/Route&gt;\n);\n</code></pre>\n\n<p>And I just want to pass some props to that App component. The first thing I tried was like so :</p>\n\n<pre><code>ReactDOM.render(\n  &lt;Provider store={store}&gt;\n    &lt;Router\n      history={browserHistory}\n      passedProp={passedProp}\n      &gt;\n      {routes}\n    &lt;/Router&gt;\n  &lt;/Provider&gt;,\n  rootElement\n);\n</code></pre>\n\n<p>So I am trying to effectively get <code>this.props.passedProp</code> inside of that App component. I tried googling around and a few other things and can't seem to come up with the correct solution. Is there a correct way of doing this? Thanks!</p>\n"}, {"tags": ["javascript", "arrays", "object", "filter", "lodash"], "answers": [{"tags": [], "owner": {"reputation": 101365, "user_id": 4620771, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/BuWrj.jpg?s=128&g=1", "display_name": "Nenad Vracar", "link": "https://stackoverflow.com/users/4620771/nenad-vracar"}, "is_accepted": false, "score": 1, "last_activity_date": 1473883062, "creation_date": 1473883062, "answer_id": 39498685, "question_id": 39498627, "link": "https://stackoverflow.com/questions/39498627/using-lodash-to-compare-an-object-array-and-integer-array/39498685#39498685", "title": "Using Lodash to Compare an Object Array and Integer Array", "body": "<p>You can do this with <code>filter()</code> and <code>find()</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [\r\n {id:1, name:\"Bill\"},\r\n {id:2, name:\"Sally\"},\r\n {id:3, name:\"Steve\"},\r\n {id:4, name:\"Rick\"}\r\n]\r\n\r\nvar chosen = [1,2,9,5];\r\n\r\nvar result = chosen.filter(function(e) {\r\n  return arr.find(o =&gt; o.id == e);\r\n})\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 223101, "user_id": 1529630, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/10bce2713c926168c985bfa9695c825d?s=128&d=identicon&r=PG", "display_name": "Oriol", "link": "https://stackoverflow.com/users/1529630/oriol"}, "is_accepted": false, "score": 2, "last_activity_date": 1473884408, "creation_date": 1473884408, "answer_id": 39498998, "question_id": 39498627, "link": "https://stackoverflow.com/questions/39498627/using-lodash-to-compare-an-object-array-and-integer-array/39498998#39498998", "title": "Using Lodash to Compare an Object Array and Integer Array", "body": "<p>First, store the IDs in a hash. Then, filtering the chosen is trivial</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var hash = [\r\n  {id:1, name:\"Bill\"},\r\n  {id:2, name:\"Sally\"},\r\n  {id:3, name:\"Steve\"},\r\n  {id:4, name:\"Rick\"}\r\n].reduce(function(hash,person) {\r\n  hash[person.id] = true;\r\n  return hash;\r\n}, Object.create(null));\r\n\r\nvar result = [1,2,9,5].filter(id =&gt; id in hash);\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Unlike the naive quadratic approach, this way the cost is only linear (on average).</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 2, "last_activity_date": 1473885949, "creation_date": 1473885949, "answer_id": 39499382, "question_id": 39498627, "link": "https://stackoverflow.com/questions/39498627/using-lodash-to-compare-an-object-array-and-integer-array/39499382#39499382", "title": "Using Lodash to Compare an Object Array and Integer Array", "body": "<p>You could use <a href=\"https://lodash.com/docs/4.15.0#intersection\" rel=\"nofollow\"><code>_.intersection</code></a> with <code>chosen</code> and an array with the <code>id</code> of <code>person</code>, via <a href=\"https://lodash.com/docs/4.15.0#map\" rel=\"nofollow\"><code>_.map</code></a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var people = [{ id: 1, name: \"Bill\" }, { id: 2, name: \"Sally\" }, { id: 3, name: \"Steve\" }, { id: 4, name: \"Rick\" }],\r\n    chosen = [1, 2, 9, 5],\r\n    result = _.intersection(chosen, _.map(people, 'id'));\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.15.0/lodash.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 18798, "user_id": 4543207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed6f11c827fa7cef811f141a84cc14b?s=128&d=identicon&r=PG&f=1", "display_name": "Redu", "link": "https://stackoverflow.com/users/4543207/redu"}, "is_accepted": false, "score": 0, "last_activity_date": 1473888319, "creation_date": 1473888319, "answer_id": 39499866, "question_id": 39498627, "link": "https://stackoverflow.com/questions/39498627/using-lodash-to-compare-an-object-array-and-integer-array/39499866#39499866", "title": "Using Lodash to Compare an Object Array and Integer Array", "body": "<p>You might as well do this job with a single reduce;</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [\r\n {id:1, name:\"Bill\"},\r\n {id:2, name:\"Sally\"},\r\n {id:3, name:\"Steve\"},\r\n {id:4, name:\"Rick\"}\r\n],\r\nchosen = [1,2,9,5],\r\nresult = arr.reduce((res,o) =&gt; { var fi = chosen.indexOf(o.id);\r\n                                 fi !== -1 &amp;&amp; res.push(chosen[fi]);\r\n                                 return res;\r\n                               },[]);\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 7358, "user_id": 2394970, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/1bf447cf1afc783b4b4e6ecd9ab292f7?s=128&d=identicon&r=PG", "display_name": "lost9123193", "link": "https://stackoverflow.com/users/2394970/lost9123193"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 778, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1473888319, "creation_date": 1473882850, "question_id": 39498627, "link": "https://stackoverflow.com/questions/39498627/using-lodash-to-compare-an-object-array-and-integer-array", "title": "Using Lodash to Compare an Object Array and Integer Array", "body": "<p>I have 2 pieces of data that need to be compared: </p>\n\n<p>People:</p>\n\n<pre><code>[\n {id:1, name:\"Bill\"},\n {id:2, name:\"Sally\"},\n {id:3, name:\"Steve\"},\n {id:4, name:\"Rick\"}\n]\n</code></pre>\n\n<p>Chosen:</p>\n\n<pre><code>[1,2,9,5]\n</code></pre>\n\n<p>I know the following can help me filter a list of people objects that have values from the chosen array:</p>\n\n<pre><code>_(People).indexBy('id').at(chosen).value();\n</code></pre>\n\n<p>But is it possible to do the reverse? Can I filter the <code>Chosen</code> array to only contain the id's from <code>People</code>? </p>\n"}, {"tags": ["javascript", "reactjs", "redux"], "answers": [{"comments": [{"owner": {"reputation": 513, "user_id": 3866214, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/43167464533036306044429bd947e7fa?s=128&d=identicon&r=PG&f=1", "display_name": "Banner", "link": "https://stackoverflow.com/users/3866214/banner"}, "edited": false, "score": 0, "creation_date": 1473884212, "post_id": 39498680, "comment_id": 66315422, "body": "Thanks for the reply JoshSGman. I don&#39;t see my implementation of fetch in my package.json file. However, I do see &#39;whatwg-fetch&#39; in my node_modules folder. I&#39;m using this react skeleton: <a href=\"https://github.com/joellongie/dustDevil\" rel=\"nofollow noreferrer\">github.com/joellongie/dustDevil</a>. I can&#39;t seem to get to the handleError function after I add the &#39;.catch(err...&#39; line. I tried console.log(&#39;hello&#39;) before the return and I got nothing."}, {"owner": {"reputation": 529, "user_id": 1971268, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/3O4Uy.jpg?s=128&g=1", "display_name": "JoshSGman", "link": "https://stackoverflow.com/users/1971268/joshsgman"}, "reply_to_user": {"reputation": 513, "user_id": 3866214, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/43167464533036306044429bd947e7fa?s=128&d=identicon&r=PG&f=1", "display_name": "Banner", "link": "https://stackoverflow.com/users/3866214/banner"}, "edited": false, "score": 0, "creation_date": 1473885980, "post_id": 39498680, "comment_id": 66316313, "body": "@Banner Try <code>.error(err =&gt; dispatch(handleError(err))</code> instead of .catch"}, {"owner": {"reputation": 513, "user_id": 3866214, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/43167464533036306044429bd947e7fa?s=128&d=identicon&r=PG&f=1", "display_name": "Banner", "link": "https://stackoverflow.com/users/3866214/banner"}, "edited": false, "score": 0, "creation_date": 1473886126, "post_id": 39498680, "comment_id": 66316376, "body": "Getting this in the console: Uncaught TypeError: fetch(...).then(...).then(...).error is not a function"}, {"owner": {"reputation": 529, "user_id": 1971268, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/3O4Uy.jpg?s=128&g=1", "display_name": "JoshSGman", "link": "https://stackoverflow.com/users/1971268/joshsgman"}, "reply_to_user": {"reputation": 513, "user_id": 3866214, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/43167464533036306044429bd947e7fa?s=128&d=identicon&r=PG&f=1", "display_name": "Banner", "link": "https://stackoverflow.com/users/3866214/banner"}, "edited": false, "score": 0, "creation_date": 1473886193, "post_id": 39498680, "comment_id": 66316412, "body": "@Banner I looked into the <code>whatwg-fetch</code> module, looks like <code>.catch</code> is the way to go. Where are you putting your <code>console.log</code>?"}, {"owner": {"reputation": 513, "user_id": 3866214, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/43167464533036306044429bd947e7fa?s=128&d=identicon&r=PG&f=1", "display_name": "Banner", "link": "https://stackoverflow.com/users/3866214/banner"}, "edited": false, "score": 0, "creation_date": 1473886373, "post_id": 39498680, "comment_id": 66316498, "body": ".catch now returns the original error. The console.log is in the handleError function. I put it there to see if I can get there. Thanks for all your help so far!"}, {"owner": {"reputation": 513, "user_id": 3866214, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/43167464533036306044429bd947e7fa?s=128&d=identicon&r=PG&f=1", "display_name": "Banner", "link": "https://stackoverflow.com/users/3866214/banner"}, "edited": false, "score": 0, "creation_date": 1473886393, "post_id": 39498680, "comment_id": 66316508, "body": "importing fetch like this: import &#39;whatwg-fetch&#39;;"}, {"owner": {"reputation": 529, "user_id": 1971268, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/3O4Uy.jpg?s=128&g=1", "display_name": "JoshSGman", "link": "https://stackoverflow.com/users/1971268/joshsgman"}, "reply_to_user": {"reputation": 513, "user_id": 3866214, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/43167464533036306044429bd947e7fa?s=128&d=identicon&r=PG&f=1", "display_name": "Banner", "link": "https://stackoverflow.com/users/3866214/banner"}, "edited": false, "score": 0, "creation_date": 1473886577, "post_id": 39498680, "comment_id": 66316597, "body": "@Banner, the original error being what?  <code>Uncaught TypeError: Cannot read property &#39;observation_location&#39; of undefined</code> ?   It&#39;s possible that you&#39;re not getting an error back, but instead you&#39;re getting an empty json object. If that&#39;s the case, just put an if statement somewhere that just returns the current state if <code>action.payload.current_observation == undefined</code>"}, {"owner": {"reputation": 529, "user_id": 1971268, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/3O4Uy.jpg?s=128&g=1", "display_name": "JoshSGman", "link": "https://stackoverflow.com/users/1971268/joshsgman"}, "reply_to_user": {"reputation": 513, "user_id": 3866214, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/43167464533036306044429bd947e7fa?s=128&d=identicon&r=PG&f=1", "display_name": "Banner", "link": "https://stackoverflow.com/users/3866214/banner"}, "edited": false, "score": 0, "creation_date": 1473886685, "post_id": 39498680, "comment_id": 66316646, "body": "Let us <a href=\"http://chat.stackoverflow.com/rooms/123388/discussion-between-joshsgman-and-banner\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 529, "user_id": 1971268, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/3O4Uy.jpg?s=128&g=1", "display_name": "JoshSGman", "link": "https://stackoverflow.com/users/1971268/joshsgman"}, "is_accepted": true, "score": 1, "last_activity_date": 1473886676, "last_edit_date": 1473886676, "creation_date": 1473883048, "answer_id": 39498680, "question_id": 39498617, "link": "https://stackoverflow.com/questions/39498617/dealing-with-error-when-making-fetch-call-in-redux/39498680#39498680", "title": "Dealing with error when making fetch call in redux", "body": "<p>In your fetch call use attach an error handler like so:</p>\n\n<pre><code>return fetch(weatherUrl + location + '.json', init)\n  .then(response =&gt; response.json())\n  .then(json =&gt; dispatch(receiveWeather(json)))\n  .catch(err =&gt; handleError(err))\n</code></pre>\n\n<p>I don't know what implementation of <code>fetch</code> you're using but there's generally a <code>catch</code> or <code>error</code> method on the api. </p>\n\n<p>You can also add a case that handles the error as such: </p>\n\n<pre><code>case RECEIVE_WEATHER_ERROR: \n   return ...\n</code></pre>\n\n<p>and in that case you may as well dispatch the error in the error handler</p>\n\n<pre><code>return fetch(weatherUrl + location + '.json', init)\n  .then(response =&gt; response.json())\n  .then(json =&gt; dispatch(receiveWeather(json)))\n  .catch(err =&gt; dispatch(handleError(err)))\n</code></pre>\n\n<p><code>handleError</code> can be implemented just like your other functions:</p>\n\n<pre><code>function handleError(err) {\n  return {\n    type: RECEIVE_WEATHER_ERROR,\n    payload: err\n  }\n}\n</code></pre>\n\n<p>If you're not getting an error back but instead an empty json object where <code>payload.current_observation</code> is undefined</p>\n\n<p>In your case statement add the following:</p>\n\n<pre><code>case RECEIVE_WEATHER:\n  if (!action.payload.current_observation) return state\n  ...\n</code></pre>\n"}], "owner": {"reputation": 513, "user_id": 3866214, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/43167464533036306044429bd947e7fa?s=128&d=identicon&r=PG&f=1", "display_name": "Banner", "link": "https://stackoverflow.com/users/3866214/banner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 39498680, "answer_count": 1, "score": 0, "last_activity_date": 1473886676, "creation_date": 1473882798, "question_id": 39498617, "link": "https://stackoverflow.com/questions/39498617/dealing-with-error-when-making-fetch-call-in-redux", "title": "Dealing with error when making fetch call in redux", "body": "<p>I'm building a weather app that returns weather details for a particular city. Everything works fine when a valid location is entered. My problem occurs when I enter a junk string (ex. 'afasdfldsakfh') into the search field and press enter. This makes sense as the api call should not find the location. </p>\n\n<p>I get the following error in the console: </p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'observation_location' of undefined\n</code></pre>\n\n<p>This is coming from the reducer under the RECEIVE_WEATHER case. I'm not sure what I need to do when the payload is not valid and missing the info I need to set the props for my state. Any help will be greatly appreciated, thanks!</p>\n\n<pre><code>export function receiveWeather(json) {\n  console.log(json);\n  return {\n    type: RECEIVE_WEATHER,\n    payload: json\n  };\n};\n\nexport function fetchingWeather(location) {\n  const init = {\n    method: 'GET'\n  };\n  return dispatch =&gt; {\n    dispatch(requestWeather())\n    return fetch(weatherUrl + location + '.json', init)\n      .then(response =&gt; response.json())\n      .then(json =&gt; dispatch(receiveWeather(json)))\n  };  \n};\n\nexport function weather(state = {\n  isFetching: false,\n  city: '',\n  country: '',\n  weather_image: '',\n  weather_description: '',\n  weather_number: '',\n  wind_dir: '',\n  wind_speed: '',\n  humidity: '',\n  precipitation: ''\n}, action) {\n  switch (action.type) {\n    case REQUEST_WEATHER:\n      return Object.assign({}, state, {\n        isFetching: true\n      });\n    case RECEIVE_WEATHER:\n      return Object.assign({}, state, {\n        isFetching: false,\n        city: (action.payload.current_observation.observation_location.full),\n        country: (action.payload.current_observation.observation_location.country),\n        weather_image: (action.payload.current_observation.icon_url),\n        weather_description: (action.payload.current_observation.weather),\n        weather_number: (action.payload.current_observation.temp_c),\n        wind_dir: (action.payload.current_observation.wind_dir),\n        wind_speed: (action.payload.current_observation.wind_kph),\n        humidity: (action.payload.current_observation.relative_humidity),\n        precipitation: (action.payload.current_observation.precip_today_in)\n      });\n    default:\n      return state\n  };\n};\n</code></pre>\n"}]