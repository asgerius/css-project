[{"tags": ["javascript", "node.js", "npm", "node-modules"], "comments": [{"owner": {"reputation": 2869, "user_id": 3602436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3ibA.png?s=128&g=1", "display_name": "EDToaster", "link": "https://stackoverflow.com/users/3602436/edtoaster"}, "edited": false, "score": 0, "creation_date": 1560988328, "post_id": 56677256, "comment_id": 99921391, "body": "Two issues here. It seems like &#39;react&#39; is not listed as a dependency, and <code>import</code> is a ES6 feature that is currently not in <code>node.js</code>. You should use <code>require()</code> instead."}, {"owner": {"reputation": 375, "user_id": 10267516, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UBg4tMVbTLY/AAAAAAAAAAI/AAAAAAAAAEc/5ROB-jJMoaI/photo.jpg?sz=128", "display_name": "Vsevolod Fedorov", "link": "https://stackoverflow.com/users/10267516/vsevolod-fedorov"}, "reply_to_user": {"reputation": 2869, "user_id": 3602436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3ibA.png?s=128&g=1", "display_name": "EDToaster", "link": "https://stackoverflow.com/users/3602436/edtoaster"}, "edited": false, "score": 0, "creation_date": 1560988584, "post_id": 56677256, "comment_id": 99921440, "body": "so problem in bad module <code>admin-bro</code>? he include in his dependencies react, so npm should download that, but i can&#39;t use this module because module is old, and use feature <code>import</code> which not supported in <code>node.js</code>, right? Sorry for my stupidity, i&#39;m new developer in node"}, {"owner": {"reputation": 2869, "user_id": 3602436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3ibA.png?s=128&g=1", "display_name": "EDToaster", "link": "https://stackoverflow.com/users/3602436/edtoaster"}, "edited": false, "score": 0, "creation_date": 1560988649, "post_id": 56677256, "comment_id": 99921448, "body": "Oh i see. what about: <code>import</code> is a ES6 feature that is currently not in <code>node.js</code>. You should use <code>require()</code> instead"}, {"owner": {"reputation": 516, "user_id": 315918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4d3ed58365f45f8dd34dd7bc55411c6b?s=128&d=identicon&r=PG", "display_name": "wojtekk", "link": "https://stackoverflow.com/users/315918/wojtekk"}, "edited": false, "score": 0, "creation_date": 1562748735, "post_id": 56677256, "comment_id": 100470740, "body": "AdminBro had an error with windows - just update admin bro, admin-bro-expressjs and admin-bro-mongoose to the latest versions and it will fix it."}], "answers": [{"tags": [], "owner": {"reputation": 179, "user_id": 6050459, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--kNUg1KwYFs/AAAAAAAAAAI/AAAAAAAAcCo/6UqHmZc4C5s/photo.jpg?sz=128", "display_name": "Gabriel Lopes", "link": "https://stackoverflow.com/users/6050459/gabriel-lopes"}, "is_accepted": true, "score": 0, "last_activity_date": 1560988838, "creation_date": 1560988838, "answer_id": 56677358, "question_id": 56677256, "link": "https://stackoverflow.com/questions/56677256/node-js-dont-see-module-unexpected-identifier-import-react-from-react/56677358#56677358", "title": "Node.js don&#39;t see module, unexpected identifier import React from &#39;react&#39;", "body": "<p>If you're starting Express, you should import like this</p>\n\n<pre><code>const react = require('React');\n</code></pre>\n\n<p>If it's on React, do this instead</p>\n\n<pre><code>import React, { Component } from 'react';\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>Require with R, not r</p>\n\n<p>By the way, you forgot the, NPM install react</p>\n"}], "owner": {"reputation": 375, "user_id": 10267516, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-UBg4tMVbTLY/AAAAAAAAAAI/AAAAAAAAAEc/5ROB-jJMoaI/photo.jpg?sz=128", "display_name": "Vsevolod Fedorov", "link": "https://stackoverflow.com/users/10267516/vsevolod-fedorov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 494, "favorite_count": 0, "accepted_answer_id": 56677358, "answer_count": 1, "score": -1, "last_activity_date": 1560988838, "creation_date": 1560987825, "question_id": 56677256, "link": "https://stackoverflow.com/questions/56677256/node-js-dont-see-module-unexpected-identifier-import-react-from-react", "title": "Node.js don&#39;t see module, unexpected identifier import React from &#39;react&#39;", "body": "<p>I install template by <code>express-generator</code>, i started it, it's ok. After that i add to project packages <code>admin-bro</code> and <code>admin-bro-expressjs</code>. After install i try <code>npm start</code> command, but i get error. I don't understand why it's not run, package React is present in <code>node_modules</code>. Code <code>package.json</code> you can see below.</p>\n\n<pre><code>{\n  \"name\": \"my_project\",\n  \"version\": \"0.0.0\",\n  \"private\": true,\n  \"scripts\": {\n    \"start\": \"node ./bin/www\"\n  },\n  \"dependencies\": {\n    \"admin-bro\": \"^0.8.8\",\n    \"admin-bro-expressjs\": \"^0.1.7\",\n    \"admin-bro-mongoose\": \"^0.2.2\",\n    \"cookie-parser\": \"~1.4.4\",\n    \"debug\": \"~4.1.1\",\n    \"express\": \"~4.17.1\",\n    \"express-session\": \"^1.16.2\",\n    \"hbs\": \"~4.0.4\",\n    \"http-errors\": \"~1.7.2\",\n    \"morgan\": \"~1.9.1\"\n  }\n}\n</code></pre>\n\n<p>And error in console:</p>\n\n<pre><code>PS D:\\my_project&gt; npm start\n\n&gt; my_project@0.0.0 start D:\\my_project\n&gt; node ./bin/www\n\nD:\\my_project\\node_modules\\admin-bro\\src\\frontend\\login-template.js:1\nimport React from 'react'\n       ^^^^^\n\nSyntaxError: Unexpected identifier\n    at Module._compile (internal/modules/cjs/loader.js:721:23)\n    at Module._compile (D:\\my_project\\node_modules\\pirates\\lib\\index.js:99:24)\n    at Module._extensions..js (internal/modules/cjs/loader.js:787:10)\n    at Object.newLoader [as .js] (D:\\my_project\\node_modules\\pirates\\lib\\index.js:104:7)\n    at Module.load (internal/modules/cjs/loader.js:653:32)\n    at tryModuleLoad (internal/modules/cjs/loader.js:593:12)\n    at Function.Module._load (internal/modules/cjs/loader.js:585:3)\n    at Module.require (internal/modules/cjs/loader.js:690:17)\n    at require (internal/modules/cjs/helpers.js:25:18)\n    at Object.&lt;anonymous&gt; (D:\\my_project\\node_modules\\admin-bro\\src\\admin-bro.js:5:23)\nnpm ERR! code ELIFECYCLE\nnpm ERR! errno 1\nnpm ERR! my_project@0.0.0 start: `node ./bin/www`\nnpm ERR! Exit status 1\nnpm ERR!\nnpm ERR! Failed at the my_project@0.0.0 start script.\nnpm ERR! This is probably not a problem with npm. There is likely additional logging output above.\n\nnpm ERR! A complete log of this run can be found in:\nnpm ERR!     C:\\Users\\vsevo\\AppData\\Roaming\\npm-cache\\_logs\\2019-06-19T23_28_03_159Z-debug.log\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 2869, "user_id": 3602436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3ibA.png?s=128&g=1", "display_name": "EDToaster", "link": "https://stackoverflow.com/users/3602436/edtoaster"}, "edited": false, "score": 0, "creation_date": 1560987624, "post_id": 56677218, "comment_id": 99921265, "body": "setState is asynchronous, +1"}], "tags": [], "owner": {"reputation": 245, "user_id": 10709983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-z7Gt795OFt4/AAAAAAAAAAI/AAAAAAAAAIE/PgWVubL9WBs/photo.jpg?sz=128", "display_name": "Jonathas Nascimento", "link": "https://stackoverflow.com/users/10709983/jonathas-nascimento"}, "is_accepted": false, "score": 1, "last_activity_date": 1560987556, "creation_date": 1560987556, "answer_id": 56677218, "question_id": 56677114, "link": "https://stackoverflow.com/questions/56677114/how-do-i-store-the-current-value-from-a-usestate-variable-in-an-array/56677218#56677218", "title": "How do I store the current value from a useState variable in an array?", "body": "<p>Maybe your handleClick is getting the first value of bgCol that is an empty string</p>\n\n<p>try this</p>\n\n<pre><code>const handleClick = () =&gt; {\n\n        const randomBgCol = arr[Math.floor(Math.random()*Math.floor(4))];\n        setbgCol(randomBgCol);\n        colortracker.push(randomBgCol); \n\n        console.log(colortracker);    \n    }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 11673013, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ApOQK.jpg?s=128&g=1", "display_name": "FutureTeslaDriver", "link": "https://stackoverflow.com/users/11673013/futuretesladriver"}, "edited": false, "score": 1, "creation_date": 1560989159, "post_id": 56677226, "comment_id": 99921542, "body": "Yes, that is what was happening.  Being a novice developer, I&#39;m still learning how hooks work in React.  Your code worked for my situation.  Thanks!"}, {"owner": {"reputation": 2869, "user_id": 3602436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3ibA.png?s=128&g=1", "display_name": "EDToaster", "link": "https://stackoverflow.com/users/3602436/edtoaster"}, "reply_to_user": {"reputation": 1, "user_id": 11673013, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ApOQK.jpg?s=128&g=1", "display_name": "FutureTeslaDriver", "link": "https://stackoverflow.com/users/11673013/futuretesladriver"}, "edited": false, "score": 0, "creation_date": 1560989251, "post_id": 56677226, "comment_id": 99921561, "body": "No problem bud!"}], "tags": [], "owner": {"reputation": 2869, "user_id": 3602436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3ibA.png?s=128&g=1", "display_name": "EDToaster", "link": "https://stackoverflow.com/users/3602436/edtoaster"}, "is_accepted": false, "score": 1, "last_activity_date": 1560987602, "creation_date": 1560987602, "answer_id": 56677226, "question_id": 56677114, "link": "https://stackoverflow.com/questions/56677114/how-do-i-store-the-current-value-from-a-usestate-variable-in-an-array/56677226#56677226", "title": "How do I store the current value from a useState variable in an array?", "body": "<p>This might be an issue where <code>setState</code> is asynchronous. (The state changes <em>after</em> calling setState, not necessarily <em>right</em> after.)</p>\n\n<p>You can use a local variable in your handleClick:</p>\n\n<pre><code>    const color = arr[Math.floor(Math.random()*Math.floor(4))]\n    setbgCol(color);\n    colortracker.push(color); \n    console.log(colortracker);    \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11673013, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ApOQK.jpg?s=128&g=1", "display_name": "FutureTeslaDriver", "link": "https://stackoverflow.com/users/11673013/futuretesladriver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3522, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560987602, "creation_date": 1560986628, "question_id": 56677114, "link": "https://stackoverflow.com/questions/56677114/how-do-i-store-the-current-value-from-a-usestate-variable-in-an-array", "title": "How do I store the current value from a useState variable in an array?", "body": "<p>After an onClick event fires, I call the setInterval function which in turn calls a function to set the value for a variable picked randomly from an array of 4 values (4 different colors).  I need to keep track of what values were randomly selected. When I try to access the value of the getter variable returned from the useState hook by pushing it to my colortracker array, I see in the console that it's only storing empty strings in the array. </p>\n\n<p>I've tried passing the bgCol variable in as a props value.  I've tried curly braces around bgCol.  Have tried defining my array with the keywords let and var. </p>\n\n<pre><code>function ColoredBox(props){\n\n    return(\n      &lt;div style={{backgroundColor: props.color, marginBottom: 20, width: \n       200, height: 200}}&gt;      \n      &lt;/div&gt;\n    );\n}\n\nfunction Button(props){\n    const start = () =&gt; {\n        setInterval(props.startGame, 2000);\n        }\n    return(\n        &lt;button onClick={start} style={{marginBottom: 50}} &gt;Start \n        Game&lt;/button&gt;\n  );\n}\n\n\n\nfunction Game(){\n    const [bgCol, setbgCol]= useState('');\n    const arr = ['red', 'blue', 'yellow', 'black'];\n    const colortracker = [];     \n    const handleClick = () =&gt; {     \n\n        setbgCol(arr[Math.floor(Math.random()*Math.floor(4))]);\n        colortracker.push(bgCol); \n        console.log(colortracker);    \n\n    }\n        return(\n        &lt;div&gt;\n            &lt;ColoredBox color={bgCol} /&gt;\n            &lt;Button startGame={handleClick} /&gt;\n        &lt;/div&gt;\n            );\n      }\n\nReactDOM.render(&lt;Game /&gt;,mountNode);\n</code></pre>\n\n<p>Actual output is an array filling up with empty strings as the values for bgCol when I need it to be strings representing the colors picked out of the arr array.</p>\n"}, {"tags": ["javascript", "class", "promise", "fetch"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1561040095, "post_id": 56677083, "comment_id": 99941368, "body": "Have a look at <a href=\"https://stackoverflow.com/q/24398699/1048572\">Is it bad practice to have a constructor function return a Promise?</a> for a proper solution"}, {"owner": {"reputation": 15, "user_id": 8365708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDf2.jpg?s=128&g=1", "display_name": "Casey Nord", "link": "https://stackoverflow.com/users/8365708/casey-nord"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1561048328, "post_id": 56677083, "comment_id": 99946142, "body": "Thank you @Bergi, that link has some good explanations that outline some better looking approaches to this."}], "answers": [{"comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1560987382, "post_id": 56677113, "comment_id": 99921210, "body": "you could do that ... if loadImage returned a promise, which it doesn&#39;t"}, {"owner": {"reputation": 716, "user_id": 9225514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2DqTQ.png?s=128&g=1", "display_name": "anbcodes", "link": "https://stackoverflow.com/users/9225514/anbcodes"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1560988083, "post_id": 56677113, "comment_id": 99921346, "body": "@JaromandaX loadImage is async which means it returns a promise even if it is not specified."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1560988439, "post_id": 56677113, "comment_id": 99921410, "body": "sorry, I meant to say that it returns a pointless promise unrelated to the asynchronous task within it"}, {"owner": {"reputation": 716, "user_id": 9225514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2DqTQ.png?s=128&g=1", "display_name": "anbcodes", "link": "https://stackoverflow.com/users/9225514/anbcodes"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1561039445, "post_id": 56677113, "comment_id": 99940886, "body": "@JaromandaX I edited my post to show a better way of doing it."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1561040182, "post_id": 56677113, "comment_id": 99941424, "body": "No, that&#39;s not a good way of doing it. Don&#39;t go back to callbacks without error handling when you already have promises."}, {"owner": {"reputation": 716, "user_id": 9225514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2DqTQ.png?s=128&g=1", "display_name": "anbcodes", "link": "https://stackoverflow.com/users/9225514/anbcodes"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1561042014, "post_id": 56677113, "comment_id": 99942549, "body": "@Bergi I am sorry, I think I might have given a better answer now."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1561042470, "post_id": 56677113, "comment_id": 99942799, "body": "Thanks for the edit. Still not optimal (the class methods can&#39;t be used arbitrarily, <code>displayImage</code> doesn&#39;t need an instance but takes all data via arguments), but much better."}, {"owner": {"reputation": 716, "user_id": 9225514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2DqTQ.png?s=128&g=1", "display_name": "anbcodes", "link": "https://stackoverflow.com/users/9225514/anbcodes"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1561042680, "post_id": 56677113, "comment_id": 99942920, "body": "@Bergi Are you saying I should remove the argument and make it use <code>this.canvas</code>? I thought making <code>displayImage</code> take an argument would prevent it from being called before loading."}, {"owner": {"reputation": 15, "user_id": 8365708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDf2.jpg?s=128&g=1", "display_name": "Casey Nord", "link": "https://stackoverflow.com/users/8365708/casey-nord"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1561049147, "post_id": 56677113, "comment_id": 99946520, "body": "This answer works and gets the job done.  I appreciate the feedback from @Bergi, and the link posted in the question above that provides insight to some better ways of handling this"}], "tags": [], "owner": {"reputation": 716, "user_id": 9225514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2DqTQ.png?s=128&g=1", "display_name": "anbcodes", "link": "https://stackoverflow.com/users/9225514/anbcodes"}, "is_accepted": true, "score": -1, "last_activity_date": 1561048578, "last_edit_date": 1561048578, "creation_date": 1560986616, "answer_id": 56677113, "question_id": 56677083, "link": "https://stackoverflow.com/questions/56677083/is-it-possible-to-set-class-members-through-fetch-so-they-can-be-used-in-other/56677113#56677113", "title": "Is it possible to set class members through fetch() so they can be used in other class methods?", "body": "<p>Here is a way to do it with async and await:</p>\n\n<pre><code>class boardImage {\nconstructor(boardType) {\n    this.boardType = boardType;\n    this.boardURL = 'http://127.0.0.1:8887/28431413.Display.' + this.boardType + '.tif'\n    this.canvas;\n    this.width;\n    this.height;\n}\n\nasync loadImage() {\n    let response = await fetch(this.boardURL)\n    let buffer  = await response.arrayBuffer()\n    let tiff = new Tiff({buffer: buffer});\n    this.width = tiff.width();\n    this.height = tiff.height();\n    this.canvas = tiff.toCanvas();\n    if (this.canvas) {\n        this.canvas.classList.add(\"boardimage\");\n        this.canvas.setAttribute('style', 'width:' + this.width + 'px; height: ' + this.height + 'px;');\n    }\n}\n\ndisplayImage() {\n    document.getElementById(\"boardview\").append(this.canvas);\n}\n\n}\n\nlet image = new boardImage(\"example\")\nimage.loadImage().then((response) =&gt; {\n    image.displayImage()\n})\n</code></pre>\n\n<p>You create a <code>boardImage</code> then call the loadImage method which returns a promise. After the promise resolves you display the canvas.</p>\n\n<p>Hopefully, this helps.</p>\n"}], "owner": {"reputation": 15, "user_id": 8365708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tqDf2.jpg?s=128&g=1", "display_name": "Casey Nord", "link": "https://stackoverflow.com/users/8365708/casey-nord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 448, "favorite_count": 0, "accepted_answer_id": 56677113, "answer_count": 1, "score": 0, "last_activity_date": 1561048578, "creation_date": 1560986348, "question_id": 56677083, "link": "https://stackoverflow.com/questions/56677083/is-it-possible-to-set-class-members-through-fetch-so-they-can-be-used-in-other", "title": "Is it possible to set class members through fetch() so they can be used in other class methods?", "body": "<p>I'm building a webapp that needs to display TIFF images in the browser (among other things) and am hitting a wall trying to properly organize the data.  </p>\n\n<p>I want to create a class that will hold the relevant data for the items I am working with so it can be used through class methods.  Because the data is retrieved through parsing a TIFF file from a server, this needs to be accomplished through something like the Fetch API.</p>\n\n<p>In the example below I am fetching a TIFF from a local URL using Chrome Web Server, then creating and displaying it in a canvas using Tiff.js (<a href=\"https://github.com/seikichi/tiff.js/tree/master\" rel=\"nofollow noreferrer\">https://github.com/seikichi/tiff.js/tree/master</a>):</p>\n\n<pre><code>class boardImage {\n    constructor(boardType) {\n        this.boardType = boardType;\n        this.boardURL = 'http://127.0.0.1:8887/28431413.Display.' + this.boardType + '.tif'\n        this.canvas;\n        this.width;\n        this.height;\n        this.loadImage()\n    }\n\n    async loadImage() {\n        fetch(this.boardURL)\n            .then((response) =&gt; {\n                response.arrayBuffer().then((buffer) =&gt; {\n                    let tiff = new Tiff({buffer: buffer});\n                    this.width = tiff.width();\n                    this.height = tiff.height();\n                    this.canvas = tiff.toCanvas();\n                    if (this.canvas) {\n                        this.canvas.classList.add(\"boardimage\");\n                        this.canvas.setAttribute('style', 'width:' + this.width + 'px; height: ' + this.height + 'px;');\n\n                        // this works but I don't want to call this here\n                        this.displayImage();\n                    }\n                })\n            })\n    }\n\n    displayImage() {\n        document.getElementById(\"boardview\").append(this.canvas);\n    }\n\n}\n</code></pre>\n\n<p>The above code works because <code>displayImage()</code> is called within the chain.  When I call it outside of the chain the canvas images are undefined.  <strong>In either situation</strong> the class members are set properly and I can see the appropriate values for canvas, width, and height in the browser console.  I would like to just load the relevant data when I instantiate the class, and the call methods like <code>displayImage()</code> or reference member variables when they need to be.</p>\n\n<p>I understand that this is asynchronous behavior, but I don't know how to handle it properly.  Thanks!</p>\n"}, {"tags": ["javascript", "json", "api", "time"], "comments": [{"owner": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "edited": false, "score": 0, "creation_date": 1560986338, "post_id": 56677035, "comment_id": 99920981, "body": "add some code, what are you exactly doing"}, {"owner": {"reputation": 15, "user_id": 11517934, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054443264750839/picture?type=large", "display_name": "kjoszi", "link": "https://stackoverflow.com/users/11517934/kjoszi"}, "reply_to_user": {"reputation": 16752, "user_id": 5567387, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyfPK.jpg?s=128&g=1", "display_name": "Zohaib Ijaz", "link": "https://stackoverflow.com/users/5567387/zohaib-ijaz"}, "edited": false, "score": 0, "creation_date": 1560986517, "post_id": 56677035, "comment_id": 99921011, "body": "<a href=\"https://pastebin.com/EgGA2JBk\" rel=\"nofollow noreferrer\">pastebin.com/EgGA2JBk</a>  179 line"}, {"owner": {"reputation": 12557, "user_id": 1270789, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/FXwoB.png?s=128&g=1", "display_name": "Ken Y-N", "link": "https://stackoverflow.com/users/1270789/ken-y-n"}, "edited": false, "score": 0, "creation_date": 1560987240, "post_id": 56677035, "comment_id": 99921173, "body": "Please <a href=\"https://stackoverflow.com/posts/56677035/edit\">edit</a> your post and put the code there, as not everyone can access pastebin, and also please narrow down the problem - there&#39;s 250 or so lines, but no hint where to start looking."}], "owner": {"reputation": 15, "user_id": 11517934, "user_type": "registered", "profile_image": "https://graph.facebook.com/1054443264750839/picture?type=large", "display_name": "kjoszi", "link": "https://stackoverflow.com/users/11517934/kjoszi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 19, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560985952, "creation_date": 1560985952, "question_id": 56677035, "link": "https://stackoverflow.com/questions/56677035/a-more-accurate-method-of-comparing-time", "title": "A more accurate method of comparing time", "body": "<p>I have JSON response from API where is date in string : e.g \"2013-05-15 11:32:26\"\nMy code is sending request every second to compare current time with time in JSON but sometimes it compares it 2 times in 1 second. Lags or something and it is sending me twice a message instead of once. If my JSON response == current date send me a message on discord (JSON is changing every now and then). Is it a more accurate method to compare that? My app is running on Heroku but it isnt server problem.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 39296, "user_id": 560299, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/c38fe465734e8428048585e0acf6174f?s=128&d=identicon&r=PG", "display_name": "Ibu", "link": "https://stackoverflow.com/users/560299/ibu"}, "edited": false, "score": 2, "creation_date": 1560985488, "post_id": 56676933, "comment_id": 99920810, "body": "Wherre is fname?"}, {"owner": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1560985632, "post_id": 56676933, "comment_id": 99920845, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4088467/get-the-value-in-an-input-text-box\">Get the value in an input text box</a>"}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 1, "creation_date": 1560987526, "post_id": 56676933, "comment_id": 99921249, "body": "You cannot separate commands with a <code>,</code> in Javascript. Next, <code>$(&quot;#fname&quot;).attr(&quot;value&quot;)</code> only <b>gets</b> the value <b>attribute</b> of that element (a) you want the property, not the attribute (which holds only the initial value), b) you want to do something with the value you got)."}], "answers": [{"comments": [{"owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "reply_to_user": {"reputation": 1, "user_id": 10803306, "user_type": "registered", "profile_image": "https://graph.facebook.com/1811757078933029/picture?type=large", "display_name": "Alin Bir\u0103u", "link": "https://stackoverflow.com/users/10803306/alin-bir%c4%83u"}, "edited": false, "score": 0, "creation_date": 1560990240, "post_id": 56677342, "comment_id": 99921725, "body": "So can you <a href=\"https://stackoverflow.com/help/someone-answers\">accept the answer</a>? ;)"}], "tags": [], "owner": {"reputation": 27648, "user_id": 2159528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/jgc0E.png?s=128&g=1", "display_name": "Louys Patrice Bessette", "link": "https://stackoverflow.com/users/2159528/louys-patrice-bessette"}, "is_accepted": false, "score": 0, "last_activity_date": 1560988728, "creation_date": 1560988728, "answer_id": 56677342, "question_id": 56676933, "link": "https://stackoverflow.com/questions/56676933/get-value-from-input-jquery/56677342#56677342", "title": "Get value from input jQuery", "body": "<p>I assume you wish to use the <code>input</code> value to complete the Bootstrap's alert text...</p>\n\n<p>You will need an element to place that value in I suggest a <code>span</code>. Use the <a href=\"http://api.jquery.com/val/\" rel=\"nofollow noreferrer\"><code>.val()</code></a> method to get the <code>input</code> value... Then <a href=\"http://api.jquery.com/text/\" rel=\"nofollow noreferrer\"><code>.text()</code></a> to insert it in the <code>span</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $(\"#submit-button\").click(function() {\r\n    $(\"#firstName\").text($(\"#fname\").val()); // Use the input's value for the span's text\r\n    $(\"#myAlert\").show(\"fade\");  // Show the Bootstrap's alert\r\n    event.preventDefault();\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n&lt;link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" rel=\"stylesheet\" /&gt;\r\n\r\nEnter your first name: &lt;input id=\"fname\"&gt;&lt;br&gt;\r\n&lt;button id=\"submit-button\"&gt;Submit&lt;/button&gt;\r\n&lt;div id=\"myAlert\" class=\"alert alert-success collapse\"&gt;\r\n  &lt;a href=\"#\" class=\"close\" data-dismiss=\"alert\"&gt;&amp;times;&lt;/a&gt;Thank you for contacting us, &lt;span id=\"firstName\"&gt;&lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 10803306, "user_type": "registered", "profile_image": "https://graph.facebook.com/1811757078933029/picture?type=large", "display_name": "Alin Bir\u0103u", "link": "https://stackoverflow.com/users/10803306/alin-bir%c4%83u"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1560989749, "creation_date": 1560985199, "last_edit_date": 1560989008, "question_id": 56676933, "link": "https://stackoverflow.com/questions/56676933/get-value-from-input-jquery", "title": "Get value from input jQuery", "body": "<p>I am trying to get the value from the first name input and pass it to the bootstrap alert when the user clicks the submit button, but can't manage to do that.</p>\n\n<p>Here is my snippet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $(\"#submit-button\").click(function() {\r\n    $(\"#myAlert\").show(\"fade\"), $(\"#fname\").attr(\"value\");\r\n    event.preventDefault();\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;label for=\"fname\"&gt;First Name&lt;/label&gt;\r\n&lt;input type=\"text\" id=\"fname\" name=\"firstname\" placeholder=\"Your name..\"&gt;\r\n\r\n&lt;div id=\"myAlert\" class=\"alert alert-success collapse\"&gt;\r\n  &lt;a href=\"#\" class=\"close\" data-dismiss=\"alert\"&gt;&amp;times;&lt;/a&gt;Thank you for contacting us,\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1560985105, "post_id": 56676905, "comment_id": 99920738, "body": "I would say no, given that <code>{name:&quot;id&quot;, value:&quot;222&quot;,name:&quot;env&quot;,value:&quot;Windows&quot;}</code> is not a valid object. Are you sure you didn&#39;t want <code>[{&quot;name&quot;: &quot;sside&quot;, &quot;value&quot;: &quot;1&quot;},{&quot;name&quot;: &quot;id&quot;, &quot;value&quot;: &quot;222&quot;},{&quot;name&quot;: &quot;env&quot;, &quot;value&quot;: &quot;Windows&quot;}]</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 1, "creation_date": 1560986761, "post_id": 56676966, "comment_id": 99921061, "body": "That&#39;s what <code>map</code> is for."}], "tags": [], "owner": {"reputation": 1048, "user_id": 10490334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KThPV.png?s=128&g=1", "display_name": "Hensler Software", "link": "https://stackoverflow.com/users/10490334/hensler-software"}, "is_accepted": false, "score": 1, "last_activity_date": 1560985409, "creation_date": 1560985409, "answer_id": 56676966, "question_id": 56676905, "link": "https://stackoverflow.com/questions/56676905/how-to-assign-object-keys-to-a-same-property-and-create-an-array-of-objects-with/56676966#56676966", "title": "how to assign Object keys to a same property and create an array of objects with name and value pair-Javascript", "body": "<p>You can loop through the object and get each key and value and push this into an array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>obj = {\r\n  sside: \"1\",\r\n  id: 222,\r\n  env: \"Windows\",\r\n  platform: \"Windows33\",\r\n  model: \"IE9\"\r\n};\r\n\r\narr = [];\r\n\r\n\r\nObject.keys(obj)\r\n  .forEach(function splitObj(key) {\r\n    arr.push({name: key, value: obj[key]})\r\n  });\r\n\r\nconsole.log(arr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 18111, "user_id": 303270, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/4ad1c6176652d437e0fadb39ff275323?s=128&d=identicon&r=PG", "display_name": "fardjad", "link": "https://stackoverflow.com/users/303270/fardjad"}, "is_accepted": true, "score": 2, "last_activity_date": 1560985512, "creation_date": 1560985512, "answer_id": 56676977, "question_id": 56676905, "link": "https://stackoverflow.com/questions/56676905/how-to-assign-object-keys-to-a-same-property-and-create-an-array-of-objects-with/56676977#56676977", "title": "how to assign Object keys to a same property and create an array of objects with name and value pair-Javascript", "body": "<p>Try this:</p>\n\n<pre><code>const obj2 = Object.keys(obj).map(key =&gt; ({name: key, value: obj[key]}))\n</code></pre>\n"}], "owner": {"reputation": 2591, "user_id": 4021059, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/dd30784b88dafdf2595541ab0e257acb?s=128&d=identicon&r=PG&f=1", "display_name": "user1234", "link": "https://stackoverflow.com/users/4021059/user1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 1, "accepted_answer_id": 56676977, "answer_count": 2, "score": 0, "last_activity_date": 1560985512, "creation_date": 1560985015, "last_edit_date": 1560985192, "question_id": 56676905, "link": "https://stackoverflow.com/questions/56676905/how-to-assign-object-keys-to-a-same-property-and-create-an-array-of-objects-with", "title": "how to assign Object keys to a same property and create an array of objects with name and value pair-Javascript", "body": "<p>I have an object:</p>\n\n<pre><code>obj= {\n  sside: \"1\",\n  id: 222,\n  env: \"Windows\",\n  platform: \"Windows33\",\n  model: \"IE9\"\n}\n</code></pre>\n\n<p>Now I want to convert this above object into this:</p>\n\n<pre><code>obj2 = [{name: \"sside\", value:\"1\"},{name:\"id\", value:\"222\",name:\"env\",value:\"Windows\"}];\n</code></pre>\n\n<p>I'm able to get all the keys in the array:</p>\n\n<pre><code>var keysArray= Object.keys(obj);\n</code></pre>\n\n<p>But im not sure how can I assign \"name\" field to every key inside the keysArray</p>\n\n<p>Is this possible to do?</p>\n"}, {"tags": ["javascript", "node.js"], "answers": [{"tags": [], "owner": {"reputation": 52856, "user_id": 380487, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/053d583a4d4901a7a4a7be170eac482f?s=128&d=identicon&r=PG", "display_name": "nrabinowitz", "link": "https://stackoverflow.com/users/380487/nrabinowitz"}, "is_accepted": true, "score": 2, "last_activity_date": 1560985063, "creation_date": 1560985063, "answer_id": 56676911, "question_id": 56676899, "link": "https://stackoverflow.com/questions/56676899/js-calling-async-function-in-for-loop-does-not-reference-the-same-iterated-vari/56676911#56676911", "title": "JS: Calling async function in for loop does not reference the same iterated variable", "body": "<p><code>var video</code> has functional scope. You want <code>let video</code> or <code>const video</code>, which have block scope.</p>\n\n<p>Alternatively, moving the body of the loop to a separate function will create a new scope where <code>video</code> cannot be overwritten:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>for (var video of videos) {\n    downloadVideo(video)\n}\n\nfunction downloadVideo(video) {\n    // ... your download logic\n}\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 11660002, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2KIqOXumpNQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcWuTTRJsTI6I0DSecpu74JBS95qg/mo/photo.jpg?sz=128", "display_name": "Funky Kong", "link": "https://stackoverflow.com/users/11660002/funky-kong"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 56676911, "answer_count": 1, "score": 0, "last_activity_date": 1560985063, "creation_date": 1560984938, "question_id": 56676899, "link": "https://stackoverflow.com/questions/56676899/js-calling-async-function-in-for-loop-does-not-reference-the-same-iterated-vari", "title": "JS: Calling async function in for loop does not reference the same iterated variable", "body": "<p>I am creating a queue to download YouTube videos in Node.js. When the download is triggered all queued videos should start downloading simultaneously. This is handled simply by getting all the queued videos from the database and iterating over them in a for loop. However when my download finishes I cannot mark it as so in the database because because \"video\" now references the last video in my for loop. How do I resolve this?</p>\n\n<pre><code>...\nvar videos = db.videos.find({ status: 'queued' });   \nfor (var video of videos) {\n    alert(video.id); // This is the correct id\n    var download = ytdl(`http://www.youtube.com/watch?v=${video.id}`);\n    download.pipe(fs.createWriteStream(filename));\n    download.on('end', () =&gt; {\n        video.status = 'done';\n        db.videos.update(video)\n        alert(video.id); // This is now the id of the last video in videos!\n    });\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "json"], "comments": [{"owner": {"reputation": 1086, "user_id": 1602069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7k1Q.jpg?s=128&g=1", "display_name": "Tom Holmes", "link": "https://stackoverflow.com/users/1602069/tom-holmes"}, "edited": false, "score": 0, "creation_date": 1560985523, "post_id": 56676898, "comment_id": 99920819, "body": "Could you show some of the <code>showAccountOverviewModal</code> function? It would be helpful to know how those arguments are used. What are you using to parse out the <code>&lt;%=</code> constructs?"}, {"owner": {"reputation": 149, "user_id": 9289787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c7e57b63494a135e4a4ea9d8e468b6?s=128&d=identicon&r=PG&f=1", "display_name": "Lenny Will", "link": "https://stackoverflow.com/users/9289787/lenny-will"}, "reply_to_user": {"reputation": 1086, "user_id": 1602069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7k1Q.jpg?s=128&g=1", "display_name": "Tom Holmes", "link": "https://stackoverflow.com/users/1602069/tom-holmes"}, "edited": false, "score": 0, "creation_date": 1561013651, "post_id": 56676898, "comment_id": 99926973, "body": "@TomHolmes Edited the code to provide more information"}, {"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1561018978, "post_id": 56676898, "comment_id": 99929581, "body": "You have some ASP or EJS or something from which you are generating HTML with embedded JavaScript. <b>Look at the generated HTML</b>. Figure out what is wrong with it, then worry about how to change the ASP/EJS/whatever  to make it generate what you really need."}], "answers": [{"tags": [], "owner": {"reputation": 1086, "user_id": 1602069, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r7k1Q.jpg?s=128&g=1", "display_name": "Tom Holmes", "link": "https://stackoverflow.com/users/1602069/tom-holmes"}, "is_accepted": false, "score": 1, "last_activity_date": 1561017636, "creation_date": 1561017636, "answer_id": 56681561, "question_id": 56676898, "link": "https://stackoverflow.com/questions/56676898/js-passed-json-array-loses-quotation-marks/56681561#56681561", "title": "JS: Passed JSON-Array loses quotation marks", "body": "<p>It looks like you you may be passing a javascript array (already parsed) as opposed to a JSON array (a string representing the array). If so, prior to <code>JSON.parse</code>ing it, running</p>\n\n<pre><code>console.log(Array.isArray(accountBills))\n</code></pre>\n\n<p>should print <code>true</code>. If it is actually JSON, that would print <code>false</code> and running </p>\n\n<pre><code>console.log(typeof accountBills)\n</code></pre>\n\n<p>would print <code>string</code>.</p>\n\n<p>If it is an array, then you don't need to parse it, and removing the <code>JSON.parse</code> line should make it work as expected.</p>\n"}, {"tags": [], "owner": {"reputation": 488, "user_id": 2934454, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/e0b9218a7873c934b0af6f50e956a1d4?s=128&d=identicon&r=PG&f=1", "display_name": "Julius Limson", "link": "https://stackoverflow.com/users/2934454/julius-limson"}, "is_accepted": true, "score": 1, "last_activity_date": 1561019510, "creation_date": 1561019510, "answer_id": 56682038, "question_id": 56676898, "link": "https://stackoverflow.com/questions/56676898/js-passed-json-array-loses-quotation-marks/56682038#56682038", "title": "JS: Passed JSON-Array loses quotation marks", "body": "<p>ill rewrite your code using data-* attribute. you can disregard if you dont want this approach.</p>\n\n<p>html</p>\n\n<pre><code>&lt;button class=\"showaccountmodal\" \ndata-accountName=\"&lt;%= accounts[j].name %&gt; \ndata-bill=\"&lt;%= accounts[j].bills %&gt;\"&gt;Click Me&lt;/button&gt;\n\n</code></pre>\n\n<p>jquery </p>\n\n<pre><code>$(\".showaccountmodal\").on('click', function() {\nvar accountname = $(this).data('accountName');\nvar bill = $(this).data('bill');\nconsole.log(accountname);\nconsole.log(bill);\n accountBills.forEach(bill =&gt; {\n    console.log(bill);\n  });\n} );\n\n</code></pre>\n\n<p>also here's a reference for storing json object in html <a href=\"https://stackoverflow.com/questions/8542746/store-json-object-in-data-attribute-in-html-jquery\">Store JSON object in data attribute in HTML jQuery</a></p>\n"}], "owner": {"reputation": 149, "user_id": 9289787, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81c7e57b63494a135e4a4ea9d8e468b6?s=128&d=identicon&r=PG&f=1", "display_name": "Lenny Will", "link": "https://stackoverflow.com/users/9289787/lenny-will"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 56682038, "answer_count": 2, "score": 0, "last_activity_date": 1561019510, "creation_date": 1560984936, "last_edit_date": 1561018136, "question_id": 56676898, "link": "https://stackoverflow.com/questions/56676898/js-passed-json-array-loses-quotation-marks", "title": "JS: Passed JSON-Array loses quotation marks", "body": "<p>Basically I'm trying to pass an json-array via onclick to a function</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button\n  onclick='showAccountOverviewModal(\"&lt;%= accounts[j].name %&gt;\", `&lt;%= accounts[j].bills%&gt;`)'&gt;\n  Click Me\n&lt;/button&gt;\n</code></pre>\n\n<p>But, when I try to parse the string via JSON.parse, I realize, that neither the keys, nor the values have quotation marks. Is there any 'good' way to fix this or do I need to use regular expressions?</p>\n\n<p>Best regards</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>This is the corresponding function:</p>\n\n<pre><code>function showAccountOverviewModal(accountName, accountBills) {\n  $(\"#accountModalOverviewTitle\").text(accountName);\n  accountBills = JSON.parse(accountBills);\n  console.log(accountBills);\n  accountBills.forEach(bill =&gt; {\n    console.log(bill);\n  });\n}\n</code></pre>\n"}, {"tags": ["javascript", "c#", "css", "asp.net-mvc", "web-applications"], "comments": [{"owner": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1560986215, "post_id": 56676868, "comment_id": 99920966, "body": "This is not supposed to cause this error but just a double check: Are the file included in the project? toggle the <code>Show All Files</code> at the top of your solution explorer and make sure these file were included in the project."}, {"owner": {"reputation": 1, "user_id": 11672993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca55d7c04b46407ea0045f8894bbdf37?s=128&d=identicon&r=PG&f=1", "display_name": "Degausser", "link": "https://stackoverflow.com/users/11672993/degausser"}, "reply_to_user": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1560986833, "post_id": 56676868, "comment_id": 99921071, "body": "@Bosco Just double checked, all files were included in the project. They are showing up in the solution explorer. Does not have that yellow icon next to the files"}, {"owner": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1560987284, "post_id": 56676868, "comment_id": 99921181, "body": "can you show the bundle referencing the <code>Content</code> directory"}, {"owner": {"reputation": 1, "user_id": 11672993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca55d7c04b46407ea0045f8894bbdf37?s=128&d=identicon&r=PG&f=1", "display_name": "Degausser", "link": "https://stackoverflow.com/users/11672993/degausser"}, "reply_to_user": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1560988887, "post_id": 56676868, "comment_id": 99921500, "body": "@Bosco I updated original post. I should clarify this is also affecting the Scripts fodler"}, {"owner": {"reputation": 4379, "user_id": 3557266, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/k9LSd.jpg?s=128&g=1", "display_name": "Ashiquzzaman", "link": "https://stackoverflow.com/users/3557266/ashiquzzaman"}, "edited": false, "score": 0, "creation_date": 1561003898, "post_id": 56676868, "comment_id": 99924037, "body": "@Degausser Use *.js file rather than *.min.js. also  *.css file rather than *.min.css."}, {"owner": {"reputation": 1388, "user_id": 7414577, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e51c75e43311af2c2ed47255cb12d9c2?s=128&d=identicon&r=PG&f=1", "display_name": "Bosco", "link": "https://stackoverflow.com/users/7414577/bosco"}, "edited": false, "score": 0, "creation_date": 1561008447, "post_id": 56676868, "comment_id": 99925080, "body": "Looking at all you have tried, I can only give more suggestions. Try pulling the code from the repository to somewhere like the Desktop or someother location like the logged-in user&#39;s director. I know you must have checked the git repository with the browser for the files, and as you said the files are there physically, can you open the files and try doing an edit, probably add a character and remove it back, then save the file."}, {"owner": {"reputation": 418, "user_id": 2093481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88829293f200212af52ee70765273a0e?s=128&d=identicon&r=PG", "display_name": "Jaggan_j", "link": "https://stackoverflow.com/users/2093481/jaggan-j"}, "edited": false, "score": 0, "creation_date": 1561128178, "post_id": 56676868, "comment_id": 99974635, "body": "Use Debugger tab in IE-&gt; Inspect Element and see which Content and Script files are being loaded and from which location."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11672993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca55d7c04b46407ea0045f8894bbdf37?s=128&d=identicon&r=PG&f=1", "display_name": "Degausser", "link": "https://stackoverflow.com/users/11672993/degausser"}, "edited": false, "score": 0, "creation_date": 1561038204, "post_id": 56680197, "comment_id": 99940140, "body": "I just checked, and there is a .csproj in the vault and locally on the computer affected. Has all the links to the files"}], "tags": [], "owner": {"reputation": 21, "user_id": 6133538, "user_type": "registered", "profile_image": "https://graph.facebook.com/1655152765/picture?type=large", "display_name": "Abdul Muheet Shaikh", "link": "https://stackoverflow.com/users/6133538/abdul-muheet-shaikh"}, "is_accepted": false, "score": 0, "last_activity_date": 1561012145, "creation_date": 1561012145, "answer_id": 56680197, "question_id": 56676868, "link": "https://stackoverflow.com/questions/56676868/cant-get-any-files-in-the-content-script-folder-to-load-in-c-asp-net-mvc-app/56680197#56680197", "title": "Can&#39;t get any files in the Content &amp; Script folder to load in C# ASP.NET MVC application in VS", "body": "<p>You'll need to commit/push <em>.csproj</em> file as well, this file has link to all your files in the project.</p>\n"}], "owner": {"reputation": 1, "user_id": 11672993, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ca55d7c04b46407ea0045f8894bbdf37?s=128&d=identicon&r=PG&f=1", "display_name": "Degausser", "link": "https://stackoverflow.com/users/11672993/degausser"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3908, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561012145, "creation_date": 1560984705, "last_edit_date": 1560988857, "question_id": 56676868, "link": "https://stackoverflow.com/questions/56676868/cant-get-any-files-in-the-content-script-folder-to-load-in-c-asp-net-mvc-app", "title": "Can&#39;t get any files in the Content &amp; Script folder to load in C# ASP.NET MVC application in VS", "body": "<p>Having some problems here with a web application that was checked into a code repository.</p>\n\n<p>Basically, this application in particular will not display any images, .js, or .css which are all located in the Content &amp; Script folders. Only the raw HTML shows while running. This occurs specifically after doing a fresh pull from our code repository and running locally through Visual Studio. When you inspect the files in the console when its running, all the files are completely empty. The console is also giving a ERROR 500 error file not found (IIRC) The files are definitely in the project locally and they are showing in the Solution Explorer. </p>\n\n<p>I am the only one who actively works on development for this application and I don't run into these problems with my machine.  When you pull from the code repository on another computer, the problems start.  However, no other applications with an extremely similar architecture have this problem after pulling fresh for the repository. I tried creating brand new web applications with exact same settings and files on the computers affected and they loaded perfectly.</p>\n\n<p>The link to the file looks normal too, it matches with the production server which works.</p>\n\n<p>The application is using bundles and most of the bundles look like this:</p>\n\n<pre><code>bundles.Add(new ScriptBundle(\"~/bundles/bootstrap\").Include(\n                      \"~/Scripts/bootstrap.min.js\",\n                       \"~/Scripts/bootstrap-datepicker.min.js\",                       \n                       \"~/Scripts/bootstrap-timepicker.js\",\n                       \"~/Scripts/bootstrap-confirmation.js\",\n                       \"~/Scripts/respond.js\",\n                       \"~/Scripts/bootstrap-select.min.js\"));`\n\n        bundles.Add(new StyleBundle(\"~/Content/css\").Include(                \n                  \"~/Content/bootstrap.min.css\",\n                  \"~/Content/bootstrap-datepicker.min.css\",\n                  \"~/Content/bootstrap-timepicker.css\",\n                  \"~/Content/bootstrap-sortable.css\",\n                  \"~/Content/site.css\",\n                  \"~/Content/bootstrap-select.min.css\"));\n</code></pre>\n\n<p>Things I have tried:</p>\n\n<ul>\n<li>Adding the .js and .css files in _Layout.cshtml page manually instead\nof with bundle.  </li>\n<li>Replacing all the normal files with .min.js or .min.css and vice\nversa</li>\n<li>Changing authentication methods for access</li>\n<li>Changing permissions on Content Folder</li>\n<li>Recreating virtual directory</li>\n<li>Using Visual Studio 2017 and 2019</li>\n</ul>\n\n<p>I am stumped, anyone have any suggestions or recommendations? I can answer any questions that arise.</p>\n"}, {"tags": ["javascript", "html"], "answers": [{"tags": [], "owner": {"reputation": 716, "user_id": 9225514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2DqTQ.png?s=128&g=1", "display_name": "anbcodes", "link": "https://stackoverflow.com/users/9225514/anbcodes"}, "is_accepted": true, "score": 0, "last_activity_date": 1560984856, "creation_date": 1560984856, "answer_id": 56676890, "question_id": 56676820, "link": "https://stackoverflow.com/questions/56676820/javascript-hidding-table-cells-in-search/56676890#56676890", "title": "javascript - hidding table cells in search", "body": "<p>You don't have access to <code>input</code> outside of <code>myFunction</code> so the if check is always false if you put it in the function like this.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var accent_map = {\r\n'\u1e9a':'a',\r\n'\u00c1':'a',\r\n'\u00e1':'a',\r\n'\u00c0':'a',\r\n'\u00e0':'a',\r\n'\u0102':'a',\r\n'\u0103':'a',\r\n'\u1eae':'a',\r\n'\u1eaf':'a',\r\n'\u1eb0':'a',\r\n'\u1eb1':'a',\r\n'\u1eb4':'a',\r\n'\u1eb5':'a',\r\n'\u1eb2':'a',\r\n'\u1eb3':'a',\r\n'\u00c2':'a',\r\n'\u00e2':'a',\r\n'\u1ea4':'a',\r\n'\u1ea5':'a',\r\n'\u1ea6':'a',\r\n'\u1ea7':'a',\r\n'\u1eaa':'a',\r\n'\u1eab':'a',\r\n'\u1ea8':'a',\r\n'\u1ea9':'a',\r\n'\u01cd':'a',\r\n'\u01ce':'a',\r\n'\u00c5':'a',\r\n'\u00e5':'a',\r\n'\u01fa':'a',\r\n'\u01fb':'a',\r\n'\u00c4':'a',\r\n'\u00e4':'a',\r\n'\u01de':'a',\r\n'\u01df':'a',\r\n'\u00c3':'a',\r\n'\u00e3':'a',\r\n'\u0226':'a',\r\n'\u0227':'a',\r\n'\u01e0':'a',\r\n'\u01e1':'a',\r\n'\u0104':'a',\r\n'\u0105':'a',\r\n'\u0100':'a',\r\n'\u0101':'a',\r\n'\u1ea2':'a',\r\n'\u1ea3':'a',\r\n'\u0200':'a',\r\n'\u0201':'a',\r\n'\u0202':'a',\r\n'\u0203':'a',\r\n'\u1ea0':'a',\r\n'\u1ea1':'a',\r\n'\u1eb6':'a',\r\n'\u1eb7':'a',\r\n'\u1eac':'a',\r\n'\u1ead':'a',\r\n'\u1e00':'a',\r\n'\u1e01':'a',\r\n'\u023a':'a',\r\n'\u2c65':'a',\r\n'\u01fc':'a',\r\n'\u01fd':'a',\r\n'\u01e2':'a',\r\n'\u01e3':'a',\r\n'\u1e02':'b',\r\n'\u1e03':'b',\r\n'\u1e04':'b',\r\n'\u1e05':'b',\r\n'\u1e06':'b',\r\n'\u1e07':'b',\r\n'\u0243':'b',\r\n'\u0180':'b',\r\n'\u1d6c':'b',\r\n'\u0181':'b',\r\n'\u0253':'b',\r\n'\u0182':'b',\r\n'\u0183':'b',\r\n'\u0106':'c',\r\n'\u0107':'c',\r\n'\u0108':'c',\r\n'\u0109':'c',\r\n'\u010c':'c',\r\n'\u010d':'c',\r\n'\u010a':'c',\r\n'\u010b':'c',\r\n'\u00c7':'c',\r\n'\u00e7':'c',\r\n'\u1e08':'c',\r\n'\u1e09':'c',\r\n'\u023b':'c',\r\n'\u023c':'c',\r\n'\u0187':'c',\r\n'\u0188':'c',\r\n'\u0255':'c',\r\n'\u010e':'d',\r\n'\u010f':'d',\r\n'\u1e0a':'d',\r\n'\u1e0b':'d',\r\n'\u1e10':'d',\r\n'\u1e11':'d',\r\n'\u1e0c':'d',\r\n'\u1e0d':'d',\r\n'\u1e12':'d',\r\n'\u1e13':'d',\r\n'\u1e0e':'d',\r\n'\u1e0f':'d',\r\n'\u0110':'d',\r\n'\u0111':'d',\r\n'\u1d6d':'d',\r\n'\u0189':'d',\r\n'\u0256':'d',\r\n'\u018a':'d',\r\n'\u0257':'d',\r\n'\u018b':'d',\r\n'\u018c':'d',\r\n'\u0221':'d',\r\n'\u00f0':'d',\r\n'\u00c9':'e',\r\n'\u018f':'e',\r\n'\u018e':'e',\r\n'\u01dd':'e',\r\n'\u00e9':'e',\r\n'\u00c8':'e',\r\n'\u00e8':'e',\r\n'\u0114':'e',\r\n'\u0115':'e',\r\n'\u00ca':'e',\r\n'\u00ea':'e',\r\n'\u1ebe':'e',\r\n'\u1ebf':'e',\r\n'\u1ec0':'e',\r\n'\u1ec1':'e',\r\n'\u1ec4':'e',\r\n'\u1ec5':'e',\r\n'\u1ec2':'e',\r\n'\u1ec3':'e',\r\n'\u011a':'e',\r\n'\u011b':'e',\r\n'\u00cb':'e',\r\n'\u00eb':'e',\r\n'\u1ebc':'e',\r\n'\u1ebd':'e',\r\n'\u0116':'e',\r\n'\u0117':'e',\r\n'\u0228':'e',\r\n'\u0229':'e',\r\n'\u1e1c':'e',\r\n'\u1e1d':'e',\r\n'\u0118':'e',\r\n'\u0119':'e',\r\n'\u0112':'e',\r\n'\u0113':'e',\r\n'\u1e16':'e',\r\n'\u1e17':'e',\r\n'\u1e14':'e',\r\n'\u1e15':'e',\r\n'\u1eba':'e',\r\n'\u1ebb':'e',\r\n'\u0204':'e',\r\n'\u0205':'e',\r\n'\u0206':'e',\r\n'\u0207':'e',\r\n'\u1eb8':'e',\r\n'\u1eb9':'e',\r\n'\u1ec6':'e',\r\n'\u1ec7':'e',\r\n'\u1e18':'e',\r\n'\u1e19':'e',\r\n'\u1e1a':'e',\r\n'\u1e1b':'e',\r\n'\u0246':'e',\r\n'\u0247':'e',\r\n'\u025a':'e',\r\n'\u025d':'e',\r\n'\u1e1e':'f',\r\n'\u1e1f':'f',\r\n'\u1d6e':'f',\r\n'\u0191':'f',\r\n'\u0192':'f',\r\n'\u01f4':'g',\r\n'\u01f5':'g',\r\n'\u011e':'g',\r\n'\u011f':'g',\r\n'\u011c':'g',\r\n'\u011d':'g',\r\n'\u01e6':'g',\r\n'\u01e7':'g',\r\n'\u0120':'g',\r\n'\u0121':'g',\r\n'\u0122':'g',\r\n'\u0123':'g',\r\n'\u1e20':'g',\r\n'\u1e21':'g',\r\n'\u01e4':'g',\r\n'\u01e5':'g',\r\n'\u0193':'g',\r\n'\u0260':'g',\r\n'\u0124':'h',\r\n'\u0125':'h',\r\n'\u021e':'h',\r\n'\u021f':'h',\r\n'\u1e26':'h',\r\n'\u1e27':'h',\r\n'\u1e22':'h',\r\n'\u1e23':'h',\r\n'\u1e28':'h',\r\n'\u1e29':'h',\r\n'\u1e24':'h',\r\n'\u1e25':'h',\r\n'\u1e2a':'h',\r\n'\u1e2b':'h',\r\n'H':'h',\r\n'\u0331':'h',\r\n'\u1e96':'h',\r\n'\u0126':'h',\r\n'\u0127':'h',\r\n'\u2c67':'h',\r\n'\u2c68':'h',\r\n'\u00cd':'i',\r\n'\u00ed':'i',\r\n'\u00cc':'i',\r\n'\u00ec':'i',\r\n'\u012c':'i',\r\n'\u012d':'i',\r\n'\u00ce':'i',\r\n'\u00ee':'i',\r\n'\u01cf':'i',\r\n'\u01d0':'i',\r\n'\u00cf':'i',\r\n'\u00ef':'i',\r\n'\u1e2e':'i',\r\n'\u1e2f':'i',\r\n'\u0128':'i',\r\n'\u0129':'i',\r\n'\u0130':'i',\r\n'i':'i',\r\n'\u012e':'i',\r\n'\u012f':'i',\r\n'\u012a':'i',\r\n'\u012b':'i',\r\n'\u1ec8':'i',\r\n'\u1ec9':'i',\r\n'\u0208':'i',\r\n'\u0209':'i',\r\n'\u020a':'i',\r\n'\u020b':'i',\r\n'\u1eca':'i',\r\n'\u1ecb':'i',\r\n'\u1e2c':'i',\r\n'\u1e2d':'i',\r\n'I':'i',\r\n'\u0131':'i',\r\n'\u0197':'i',\r\n'\u0268':'i',\r\n'\u0134':'j',\r\n'\u0135':'j',\r\n'J':'j',\r\n'\u030c':'j',\r\n'\u01f0':'j',\r\n'\u0237':'j',\r\n'\u0248':'j',\r\n'\u0249':'j',\r\n'\u029d':'j',\r\n'\u025f':'j',\r\n'\u0284':'j',\r\n'\u1e30':'k',\r\n'\u1e31':'k',\r\n'\u01e8':'k',\r\n'\u01e9':'k',\r\n'\u0136':'k',\r\n'\u0137':'k',\r\n'\u1e32':'k',\r\n'\u1e33':'k',\r\n'\u1e34':'k',\r\n'\u1e35':'k',\r\n'\u0198':'k',\r\n'\u0199':'k',\r\n'\u2c69':'k',\r\n'\u2c6a':'k',\r\n'\u0139':'a',\r\n'\u013a':'l',\r\n'\u013d':'l',\r\n'\u013e':'l',\r\n'\u013b':'l',\r\n'\u013c':'l',\r\n'\u1e36':'l',\r\n'\u1e37':'l',\r\n'\u1e38':'l',\r\n'\u1e39':'l',\r\n'\u1e3c':'l',\r\n'\u1e3d':'l',\r\n'\u1e3a':'l',\r\n'\u1e3b':'l',\r\n'\u0141':'l',\r\n'\u0142':'l',\r\n'\u0141':'l',\r\n'\u0323':'l',\r\n'\u0142':'l',\r\n'\u0323':'l',\r\n'\u013f':'l',\r\n'\u0140':'l',\r\n'\u023d':'l',\r\n'\u019a':'l',\r\n'\u2c60':'l',\r\n'\u2c61':'l',\r\n'\u2c62':'l',\r\n'\u026b':'l',\r\n'\u026c':'l',\r\n'\u026d':'l',\r\n'\u0234':'l',\r\n'\u1e3e':'m',\r\n'\u1e3f':'m',\r\n'\u1e40':'m',\r\n'\u1e41':'m',\r\n'\u1e42':'m',\r\n'\u1e43':'m',\r\n'\u0271':'m',\r\n'\u0143':'n',\r\n'\u0144':'n',\r\n'\u01f8':'n',\r\n'\u01f9':'n',\r\n'\u0147':'n',\r\n'\u0148':'n',\r\n'\u00d1':'n',\r\n'\u00f1':'n',\r\n'\u1e44':'n',\r\n'\u1e45':'n',\r\n'\u0145':'n',\r\n'\u0146':'n',\r\n'\u1e46':'n',\r\n'\u1e47':'n',\r\n'\u1e4a':'n',\r\n'\u1e4b':'n',\r\n'\u1e48':'n',\r\n'\u1e49':'n',\r\n'\u019d':'n',\r\n'\u0272':'n',\r\n'\u0220':'n',\r\n'\u019e':'n',\r\n'\u0273':'n',\r\n'\u0235':'n',\r\n'N':'n',\r\n'\u0308':'n',\r\n'n':'n',\r\n'\u0308':'n',\r\n'\u00d3':'o',\r\n'\u00f3':'o',\r\n'\u00d2':'o',\r\n'\u00f2':'o',\r\n'\u014e':'o',\r\n'\u014f':'o',\r\n'\u00d4':'o',\r\n'\u00f4':'o',\r\n'\u1ed0':'o',\r\n'\u1ed1':'o',\r\n'\u1ed2':'o',\r\n'\u1ed3':'o',\r\n'\u1ed6':'o',\r\n'\u1ed7':'o',\r\n'\u1ed4':'o',\r\n'\u1ed5':'o',\r\n'\u01d1':'o',\r\n'\u01d2':'o',\r\n'\u00d6':'o',\r\n'\u00f6':'o',\r\n'\u022a':'o',\r\n'\u022b':'o',\r\n'\u0150':'o',\r\n'\u0151':'o',\r\n'\u00d5':'o',\r\n'\u00f5':'o',\r\n'\u1e4c':'o',\r\n'\u1e4d':'o',\r\n'\u1e4e':'o',\r\n'\u1e4f':'o',\r\n'\u022c':'o',\r\n'\u022d':'o',\r\n'\u022e':'o',\r\n'\u022f':'o',\r\n'\u0230':'o',\r\n'\u0231':'o',\r\n'\u00d8':'o',\r\n'\u00f8':'o',\r\n'\u01fe':'o',\r\n'\u01ff':'o',\r\n'\u01ea':'o',\r\n'\u01eb':'o',\r\n'\u01ec':'o',\r\n'\u01ed':'o',\r\n'\u014c':'o',\r\n'\u014d':'o',\r\n'\u1e52':'o',\r\n'\u1e53':'o',\r\n'\u1e50':'o',\r\n'\u1e51':'o',\r\n'\u1ece':'o',\r\n'\u1ecf':'o',\r\n'\u020c':'o',\r\n'\u020d':'o',\r\n'\u020e':'o',\r\n'\u020f':'o',\r\n'\u01a0':'o',\r\n'\u01a1':'o',\r\n'\u1eda':'o',\r\n'\u1edb':'o',\r\n'\u1edc':'o',\r\n'\u1edd':'o',\r\n'\u1ee0':'o',\r\n'\u1ee1':'o',\r\n'\u1ede':'o',\r\n'\u1edf':'o',\r\n'\u1ee2':'o',\r\n'\u1ee3':'o',\r\n'\u1ecc':'o',\r\n'\u1ecd':'o',\r\n'\u1ed8':'o',\r\n'\u1ed9':'o',\r\n'\u019f':'o',\r\n'\u0275':'o',\r\n'\u1e54':'p',\r\n'\u1e55':'p',\r\n'\u1e56':'p',\r\n'\u1e57':'p',\r\n'\u2c63':'p',\r\n'\u01a4':'p',\r\n'\u01a5':'p',\r\n'P':'p',\r\n'\u0303':'p',\r\n'p':'p',\r\n'\u0303':'p',\r\n'\u02a0':'q',\r\n'\u024a':'q',\r\n'\u024b':'q',\r\n'\u0154':'r',\r\n'\u0155':'r',\r\n'\u0158':'r',\r\n'\u0159':'r',\r\n'\u1e58':'r',\r\n'\u1e59':'r',\r\n'\u0156':'r',\r\n'\u0157':'r',\r\n'\u0210':'r',\r\n'\u0211':'r',\r\n'\u0212':'r',\r\n'\u0213':'r',\r\n'\u1e5a':'r',\r\n'\u1e5b':'r',\r\n'\u1e5c':'r',\r\n'\u1e5d':'r',\r\n'\u1e5e':'r',\r\n'\u1e5f':'r',\r\n'\u024c':'r',\r\n'\u024d':'r',\r\n'\u1d72':'r',\r\n'\u027c':'r',\r\n'\u2c64':'r',\r\n'\u027d':'r',\r\n'\u027e':'r',\r\n'\u1d73':'r',\r\n'\u00df':'s',\r\n'\u015a':'s',\r\n'\u015b':'s',\r\n'\u1e64':'s',\r\n'\u1e65':'s',\r\n'\u015c':'s',\r\n'\u015d':'s',\r\n'\u0160':'s',\r\n'\u0161':'s',\r\n'\u1e66':'s',\r\n'\u1e67':'s',\r\n'\u1e60':'s',\r\n'\u1e61':'s',\r\n'\u1e9b':'s',\r\n'\u015e':'s',\r\n'\u015f':'s',\r\n'\u1e62':'s',\r\n'\u1e63':'s',\r\n'\u1e68':'s',\r\n'\u1e69':'s',\r\n'\u0218':'s',\r\n'\u0219':'s',\r\n'\u0282':'s',\r\n'S':'s',\r\n'\u0329':'s',\r\n's':'s',\r\n'\u0329':'s',\r\n'\u00de':'t',\r\n'\u00fe':'t',\r\n'\u0164':'t',\r\n'\u0165':'t',\r\n'T':'t',\r\n'\u0308':'t',\r\n'\u1e97':'t',\r\n'\u1e6a':'t',\r\n'\u1e6b':'t',\r\n'\u0162':'t',\r\n'\u0163':'t',\r\n'\u1e6c':'t',\r\n'\u1e6d':'t',\r\n'\u021a':'t',\r\n'\u021b':'t',\r\n'\u1e70':'t',\r\n'\u1e71':'t',\r\n'\u1e6e':'t',\r\n'\u1e6f':'t',\r\n'\u0166':'t',\r\n'\u0167':'t',\r\n'\u023e':'t',\r\n'\u2c66':'t',\r\n'\u1d75':'t',\r\n'\u01ab':'t',\r\n'\u01ac':'t',\r\n'\u01ad':'t',\r\n'\u01ae':'t',\r\n'\u0288':'t',\r\n'\u0236':'t',\r\n'\u00da':'u',\r\n'\u00fa':'u',\r\n'\u00d9':'u',\r\n'\u00f9':'u',\r\n'\u016c':'u',\r\n'\u016d':'u',\r\n'\u00db':'u',\r\n'\u00fb':'u',\r\n'\u01d3':'u',\r\n'\u01d4':'u',\r\n'\u016e':'u',\r\n'\u016f':'u',\r\n'\u00dc':'u',\r\n'\u00fc':'u',\r\n'\u01d7':'u',\r\n'\u01d8':'u',\r\n'\u01db':'u',\r\n'\u01dc':'u',\r\n'\u01d9':'u',\r\n'\u01da':'u',\r\n'\u01d5':'u',\r\n'\u01d6':'u',\r\n'\u0170':'u',\r\n'\u0171':'u',\r\n'\u0168':'u',\r\n'\u0169':'u',\r\n'\u1e78':'u',\r\n'\u1e79':'u',\r\n'\u0172':'u',\r\n'\u0173':'u',\r\n'\u016a':'u',\r\n'\u016b':'u',\r\n'\u1e7a':'u',\r\n'\u1e7b':'u',\r\n'\u1ee6':'u',\r\n'\u1ee7':'u',\r\n'\u0214':'u',\r\n'\u0215':'u',\r\n'\u0216':'u',\r\n'\u0217':'u',\r\n'\u01af':'u',\r\n'\u01b0':'u',\r\n'\u1ee8':'u',\r\n'\u1ee9':'u',\r\n'\u1eea':'u',\r\n'\u1eeb':'u',\r\n'\u1eee':'u',\r\n'\u1eef':'u',\r\n'\u1eec':'u',\r\n'\u1eed':'u',\r\n'\u1ef0':'u',\r\n'\u1ef1':'u',\r\n'\u1ee4':'u',\r\n'\u1ee5':'u',\r\n'\u1e72':'u',\r\n'\u1e73':'u',\r\n'\u1e76':'u',\r\n'\u1e77':'u',\r\n'\u1e74':'u',\r\n'\u1e75':'u',\r\n'\u0244':'u',\r\n'\u0289':'u',\r\n'\u1e7c':'v',\r\n'\u1e7d':'v',\r\n'\u1e7e':'v',\r\n'\u1e7f':'v',\r\n'\u01b2':'v',\r\n'\u028b':'v',\r\n'\u1e82':'w',\r\n'\u1e83':'w',\r\n'\u1e80':'w',\r\n'\u1e81':'w',\r\n'\u0174':'w',\r\n'\u0175':'w',\r\n'W':'w',\r\n'\u030a':'w',\r\n'\u1e98':'w',\r\n'\u1e84':'w',\r\n'\u1e85':'w',\r\n'\u1e86':'w',\r\n'\u1e87':'w',\r\n'\u1e88':'w',\r\n'\u1e89':'w',\r\n'\u1e8c':'x',\r\n'\u1e8d':'x',\r\n'\u1e8a':'x',\r\n'\u1e8b':'x',\r\n'\u00dd':'y',\r\n'\u00fd':'y',\r\n'\u1ef2':'y',\r\n'\u1ef3':'y',\r\n'\u0176':'y',\r\n'\u0177':'y',\r\n'Y':'y',\r\n'\u030a':'y',\r\n'\u1e99':'y',\r\n'\u0178':'y',\r\n'\u00ff':'y',\r\n'\u1ef8':'y',\r\n'\u1ef9':'y',\r\n'\u1e8e':'y',\r\n'\u1e8f':'y',\r\n'\u0232':'y',\r\n'\u0233':'y',\r\n'\u1ef6':'y',\r\n'\u1ef7':'y',\r\n'\u1ef4':'y',\r\n'\u1ef5':'y',\r\n'\u028f':'y',\r\n'\u024e':'y',\r\n'\u024f':'y',\r\n'\u01b3':'y',\r\n'\u01b4':'y',\r\n'\u0179':'z',\r\n'\u017a':'z',\r\n'\u1e90':'z',\r\n'\u1e91':'z',\r\n'\u017d':'z',\r\n'\u017e':'z',\r\n'\u017b':'z',\r\n'\u017c':'z',\r\n'\u1e92':'z',\r\n'\u1e93':'z',\r\n'\u1e94':'z',\r\n'\u1e95':'z',\r\n'\u01b5':'z',\r\n'\u01b6':'z',\r\n'\u0224':'z',\r\n'\u0225':'z',\r\n'\u0290':'z',\r\n'\u0291':'z',\r\n'\u2c6b':'z',\r\n'\u2c6c':'z',\r\n'\u01ee':'z',\r\n'\u01ef':'z',\r\n'\u01ba':'z',\r\n\r\n// Roman fullwidth ascii equivalents: 0xff00 to 0xff5e\r\n'\uff12':'2',\r\n'\uff16':'6',\r\n'\uff22':'B',\r\n'\uff26':'F',\r\n'\uff2a':'J',\r\n'\uff2e':'N',\r\n'\uff32':'R',\r\n'\uff36':'V',\r\n'\uff3a':'Z',\r\n'\uff42':'b',\r\n'\uff46':'f',\r\n'\uff4a':'j',\r\n'\uff4e':'n',\r\n'\uff52':'r',\r\n'\uff56':'v',\r\n'\uff5a':'z',\r\n'\uff11':'1',\r\n'\uff15':'5',\r\n'\uff19':'9',\r\n'\uff21':'A',\r\n'\uff25':'E',\r\n'\uff29':'I',\r\n'\uff2d':'M',\r\n'\uff31':'Q',\r\n'\uff35':'U',\r\n'\uff39':'Y',\r\n'\uff41':'a',\r\n'\uff45':'e',\r\n'\uff49':'i',\r\n'\uff4d':'m',\r\n'\uff51':'q',\r\n'\uff55':'u',\r\n'\uff59':'y',\r\n'\uff10':'0',\r\n'\uff14':'4',\r\n'\uff18':'8',\r\n'\uff24':'D',\r\n'\uff28':'H',\r\n'\uff2c':'L',\r\n'\uff30':'P',\r\n'\uff34':'T',\r\n'\uff38':'X',\r\n'\uff44':'d',\r\n'\uff48':'h',\r\n'\uff4c':'l',\r\n'\uff50':'p',\r\n'\uff54':'t',\r\n'\uff58':'x',\r\n'\uff13':'3',\r\n'\uff17':'7',\r\n'\uff23':'C',\r\n'\uff27':'G',\r\n'\uff2b':'K',\r\n'\uff2f':'O',\r\n'\uff33':'S',\r\n'\uff37':'W',\r\n'\uff43':'c',\r\n'\uff47':'g',\r\n'\uff4b':'k',\r\n'\uff4f':'o',\r\n'\uff53':'s',\r\n'\uff57':'w'};\r\n\r\nvar accentMap = {\r\n    '\u00e1':'a', '\u00e9':'e', '\u00ed':'i','\u00f3':'o','\u00fa':'u'\r\n};\r\n\r\nfunction accent_fold (s) {\r\n\tif (!s) { return ''; }\r\n    var ret = '';\r\n    for (var i=0; i&lt;s.length; i++) {\r\n\t\tret += accent_map[s.charAt(i)] || s.charAt(i);\r\n    }\r\n    return ret;\r\n};\r\n\r\n\r\n// accent_folded_hilite(\"Fulanilo L\u00f3pez\", 'lo')\r\n//   --&gt; \"Fulani&lt;b&gt;lo&lt;/b&gt; &lt;b&gt;L\u00f3&lt;/b&gt;pez\"\r\n//\r\nfunction accent_folded_hilite(str, q) {\r\n  var str_folded = accent_fold(str).toLowerCase().replace(/[&lt;&gt;]+/g, '');\r\n  var q_folded = accent_fold(q).toLowerCase().replace(/[&lt;&gt;]+/g, '');\r\n\r\n  // create an intermediary string with hilite hints\r\n  // example: fulani&lt;lo&gt; &lt;lo&gt;pez\r\n  var re = new RegExp(q_folded, 'g');\r\n  var hilite_hints = str_folded.replace(re, '&lt;'+q_folded+'&gt;');\r\n\r\n  // index pointer for the original string\r\n  var spos = 0;\r\n  // accumulator for our final string\r\n  var highlighted = '';\r\n\r\n  // walk down the original string and the hilite hint\r\n  // string in parallel. when you encounter a &lt; or &gt; hint,\r\n  // append the opening / closing tag in our final string.\r\n  // if the current char is not a hint, append the corresponding\r\n  // char from the *original* string to our final string and\r\n  // advance the original string's pointer.\r\n  for (var i=0; i&lt;hilite_hints.length; i++) {\r\n    var c = str.charAt(spos);\r\n    var h = hilite_hints.charAt(i);\r\n    if (h === '&lt;') {\r\n       highlighted += '&lt;b&gt;';\r\n    } else if (h === '&gt;') {\r\n       highlighted += '&lt;/b&gt;';\r\n    } else {\r\n      spos += 1;\r\n      highlighted += c;\r\n    }\r\n  }\r\n  return highlighted;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" style=\"text-transform:uppercase;\" id=\"myInput\" onkeyup=\"myFunction()\" placeholder=\"Type Radio Name\" title=\"Type in a name\"&gt;\r\n\r\n&lt;div id=\"table-wrapper\"&gt;\r\n  &lt;div id=\"table-scroll\"&gt;\r\n&lt;table id=\"myTable\"&gt;\r\n  &lt;tr class=\"header\"&gt;\r\n    &lt;th style=\"width:60%;\"&gt;Radio Name&lt;/th&gt;\r\n    &lt;th style=\"width:40%;\"&gt;List (Position)&lt;/th&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;R\u00c1DIO&lt;/td&gt;\r\n    &lt;td&gt;PORTUGAL&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;RADIO&lt;/td&gt;\r\n    &lt;td&gt;PORTUGAL&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;RADIO 10&lt;/td&gt;\r\n    &lt;td&gt;PORTUGAL&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n\r\n&lt;script&gt;\r\n  window.onload = function() {\r\n  var rows = document.querySelectorAll('tr:not(.header)');\r\n\r\n  for (var i = 0; i &lt; rows.length; i++) {\r\n    rows[i].style.display = 'none';\r\n  }\r\n}\r\n  \r\n  function myFunction() {\r\n    var input, filter, table, tr, td, i;\r\n    input = document.getElementById(\"myInput\");\r\n    filter = accent_fold(input.value).toUpperCase();\r\n    table = document.getElementById(\"myTable\");\r\n    tr = table.getElementsByTagName(\"tr\");\r\n    for (i = 0; i &lt; tr.length; i++) {\r\n      td = tr[i].getElementsByTagName(\"td\")[0];\r\n      if (td) {\r\n        if (accent_fold(td.innerHTML).toUpperCase().indexOf(filter) &gt; -1) {\r\n          tr[i].style.display = \"\";\r\n        } else {\r\n          tr[i].style.display = \"none\";\r\n        }\r\n      }\r\n    }\r\n    var rows = document.querySelectorAll('tr:not(.header)');\r\n   \r\n    if (input.value.length == 0) {\r\n      for (var i = 0; i &lt; rows.length; i++) {\r\n        rows[i].style.display = 'none';\r\n      }\r\n  }\r\n  }\r\n\r\n  \r\n\r\n  &lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now it should work.</p>\n"}], "owner": {"reputation": 91, "user_id": 9346568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8b0b9f49d0c32dd7376634a1e1affff0?s=128&d=identicon&r=PG&f=1", "display_name": "Sergio C", "link": "https://stackoverflow.com/users/9346568/sergio-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 1, "accepted_answer_id": 56676890, "answer_count": 1, "score": 0, "last_activity_date": 1560984856, "creation_date": 1560984257, "question_id": 56676820, "link": "https://stackoverflow.com/questions/56676820/javascript-hidding-table-cells-in-search", "title": "javascript - hidding table cells in search", "body": "<p>In my website, I have a table with search box (radios). \nWhen webpage loads, the table results cells is hidden.\nHowever after the search made, the results of the table does not hide again.</p>\n\n<p>The search box when it returns empty, all cells in the table is show.</p>\n\n<p>Thank you advance.\n(Sorry my English)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var accent_map = {\r\n'\u1e9a':'a',\r\n'\u00c1':'a',\r\n'\u00e1':'a',\r\n'\u00c0':'a',\r\n'\u00e0':'a',\r\n'\u0102':'a',\r\n'\u0103':'a',\r\n'\u1eae':'a',\r\n'\u1eaf':'a',\r\n'\u1eb0':'a',\r\n'\u1eb1':'a',\r\n'\u1eb4':'a',\r\n'\u1eb5':'a',\r\n'\u1eb2':'a',\r\n'\u1eb3':'a',\r\n'\u00c2':'a',\r\n'\u00e2':'a',\r\n'\u1ea4':'a',\r\n'\u1ea5':'a',\r\n'\u1ea6':'a',\r\n'\u1ea7':'a',\r\n'\u1eaa':'a',\r\n'\u1eab':'a',\r\n'\u1ea8':'a',\r\n'\u1ea9':'a',\r\n'\u01cd':'a',\r\n'\u01ce':'a',\r\n'\u00c5':'a',\r\n'\u00e5':'a',\r\n'\u01fa':'a',\r\n'\u01fb':'a',\r\n'\u00c4':'a',\r\n'\u00e4':'a',\r\n'\u01de':'a',\r\n'\u01df':'a',\r\n'\u00c3':'a',\r\n'\u00e3':'a',\r\n'\u0226':'a',\r\n'\u0227':'a',\r\n'\u01e0':'a',\r\n'\u01e1':'a',\r\n'\u0104':'a',\r\n'\u0105':'a',\r\n'\u0100':'a',\r\n'\u0101':'a',\r\n'\u1ea2':'a',\r\n'\u1ea3':'a',\r\n'\u0200':'a',\r\n'\u0201':'a',\r\n'\u0202':'a',\r\n'\u0203':'a',\r\n'\u1ea0':'a',\r\n'\u1ea1':'a',\r\n'\u1eb6':'a',\r\n'\u1eb7':'a',\r\n'\u1eac':'a',\r\n'\u1ead':'a',\r\n'\u1e00':'a',\r\n'\u1e01':'a',\r\n'\u023a':'a',\r\n'\u2c65':'a',\r\n'\u01fc':'a',\r\n'\u01fd':'a',\r\n'\u01e2':'a',\r\n'\u01e3':'a',\r\n'\u1e02':'b',\r\n'\u1e03':'b',\r\n'\u1e04':'b',\r\n'\u1e05':'b',\r\n'\u1e06':'b',\r\n'\u1e07':'b',\r\n'\u0243':'b',\r\n'\u0180':'b',\r\n'\u1d6c':'b',\r\n'\u0181':'b',\r\n'\u0253':'b',\r\n'\u0182':'b',\r\n'\u0183':'b',\r\n'\u0106':'c',\r\n'\u0107':'c',\r\n'\u0108':'c',\r\n'\u0109':'c',\r\n'\u010c':'c',\r\n'\u010d':'c',\r\n'\u010a':'c',\r\n'\u010b':'c',\r\n'\u00c7':'c',\r\n'\u00e7':'c',\r\n'\u1e08':'c',\r\n'\u1e09':'c',\r\n'\u023b':'c',\r\n'\u023c':'c',\r\n'\u0187':'c',\r\n'\u0188':'c',\r\n'\u0255':'c',\r\n'\u010e':'d',\r\n'\u010f':'d',\r\n'\u1e0a':'d',\r\n'\u1e0b':'d',\r\n'\u1e10':'d',\r\n'\u1e11':'d',\r\n'\u1e0c':'d',\r\n'\u1e0d':'d',\r\n'\u1e12':'d',\r\n'\u1e13':'d',\r\n'\u1e0e':'d',\r\n'\u1e0f':'d',\r\n'\u0110':'d',\r\n'\u0111':'d',\r\n'\u1d6d':'d',\r\n'\u0189':'d',\r\n'\u0256':'d',\r\n'\u018a':'d',\r\n'\u0257':'d',\r\n'\u018b':'d',\r\n'\u018c':'d',\r\n'\u0221':'d',\r\n'\u00f0':'d',\r\n'\u00c9':'e',\r\n'\u018f':'e',\r\n'\u018e':'e',\r\n'\u01dd':'e',\r\n'\u00e9':'e',\r\n'\u00c8':'e',\r\n'\u00e8':'e',\r\n'\u0114':'e',\r\n'\u0115':'e',\r\n'\u00ca':'e',\r\n'\u00ea':'e',\r\n'\u1ebe':'e',\r\n'\u1ebf':'e',\r\n'\u1ec0':'e',\r\n'\u1ec1':'e',\r\n'\u1ec4':'e',\r\n'\u1ec5':'e',\r\n'\u1ec2':'e',\r\n'\u1ec3':'e',\r\n'\u011a':'e',\r\n'\u011b':'e',\r\n'\u00cb':'e',\r\n'\u00eb':'e',\r\n'\u1ebc':'e',\r\n'\u1ebd':'e',\r\n'\u0116':'e',\r\n'\u0117':'e',\r\n'\u0228':'e',\r\n'\u0229':'e',\r\n'\u1e1c':'e',\r\n'\u1e1d':'e',\r\n'\u0118':'e',\r\n'\u0119':'e',\r\n'\u0112':'e',\r\n'\u0113':'e',\r\n'\u1e16':'e',\r\n'\u1e17':'e',\r\n'\u1e14':'e',\r\n'\u1e15':'e',\r\n'\u1eba':'e',\r\n'\u1ebb':'e',\r\n'\u0204':'e',\r\n'\u0205':'e',\r\n'\u0206':'e',\r\n'\u0207':'e',\r\n'\u1eb8':'e',\r\n'\u1eb9':'e',\r\n'\u1ec6':'e',\r\n'\u1ec7':'e',\r\n'\u1e18':'e',\r\n'\u1e19':'e',\r\n'\u1e1a':'e',\r\n'\u1e1b':'e',\r\n'\u0246':'e',\r\n'\u0247':'e',\r\n'\u025a':'e',\r\n'\u025d':'e',\r\n'\u1e1e':'f',\r\n'\u1e1f':'f',\r\n'\u1d6e':'f',\r\n'\u0191':'f',\r\n'\u0192':'f',\r\n'\u01f4':'g',\r\n'\u01f5':'g',\r\n'\u011e':'g',\r\n'\u011f':'g',\r\n'\u011c':'g',\r\n'\u011d':'g',\r\n'\u01e6':'g',\r\n'\u01e7':'g',\r\n'\u0120':'g',\r\n'\u0121':'g',\r\n'\u0122':'g',\r\n'\u0123':'g',\r\n'\u1e20':'g',\r\n'\u1e21':'g',\r\n'\u01e4':'g',\r\n'\u01e5':'g',\r\n'\u0193':'g',\r\n'\u0260':'g',\r\n'\u0124':'h',\r\n'\u0125':'h',\r\n'\u021e':'h',\r\n'\u021f':'h',\r\n'\u1e26':'h',\r\n'\u1e27':'h',\r\n'\u1e22':'h',\r\n'\u1e23':'h',\r\n'\u1e28':'h',\r\n'\u1e29':'h',\r\n'\u1e24':'h',\r\n'\u1e25':'h',\r\n'\u1e2a':'h',\r\n'\u1e2b':'h',\r\n'H':'h',\r\n'\u0331':'h',\r\n'\u1e96':'h',\r\n'\u0126':'h',\r\n'\u0127':'h',\r\n'\u2c67':'h',\r\n'\u2c68':'h',\r\n'\u00cd':'i',\r\n'\u00ed':'i',\r\n'\u00cc':'i',\r\n'\u00ec':'i',\r\n'\u012c':'i',\r\n'\u012d':'i',\r\n'\u00ce':'i',\r\n'\u00ee':'i',\r\n'\u01cf':'i',\r\n'\u01d0':'i',\r\n'\u00cf':'i',\r\n'\u00ef':'i',\r\n'\u1e2e':'i',\r\n'\u1e2f':'i',\r\n'\u0128':'i',\r\n'\u0129':'i',\r\n'\u0130':'i',\r\n'i':'i',\r\n'\u012e':'i',\r\n'\u012f':'i',\r\n'\u012a':'i',\r\n'\u012b':'i',\r\n'\u1ec8':'i',\r\n'\u1ec9':'i',\r\n'\u0208':'i',\r\n'\u0209':'i',\r\n'\u020a':'i',\r\n'\u020b':'i',\r\n'\u1eca':'i',\r\n'\u1ecb':'i',\r\n'\u1e2c':'i',\r\n'\u1e2d':'i',\r\n'I':'i',\r\n'\u0131':'i',\r\n'\u0197':'i',\r\n'\u0268':'i',\r\n'\u0134':'j',\r\n'\u0135':'j',\r\n'J':'j',\r\n'\u030c':'j',\r\n'\u01f0':'j',\r\n'\u0237':'j',\r\n'\u0248':'j',\r\n'\u0249':'j',\r\n'\u029d':'j',\r\n'\u025f':'j',\r\n'\u0284':'j',\r\n'\u1e30':'k',\r\n'\u1e31':'k',\r\n'\u01e8':'k',\r\n'\u01e9':'k',\r\n'\u0136':'k',\r\n'\u0137':'k',\r\n'\u1e32':'k',\r\n'\u1e33':'k',\r\n'\u1e34':'k',\r\n'\u1e35':'k',\r\n'\u0198':'k',\r\n'\u0199':'k',\r\n'\u2c69':'k',\r\n'\u2c6a':'k',\r\n'\u0139':'a',\r\n'\u013a':'l',\r\n'\u013d':'l',\r\n'\u013e':'l',\r\n'\u013b':'l',\r\n'\u013c':'l',\r\n'\u1e36':'l',\r\n'\u1e37':'l',\r\n'\u1e38':'l',\r\n'\u1e39':'l',\r\n'\u1e3c':'l',\r\n'\u1e3d':'l',\r\n'\u1e3a':'l',\r\n'\u1e3b':'l',\r\n'\u0141':'l',\r\n'\u0142':'l',\r\n'\u0141':'l',\r\n'\u0323':'l',\r\n'\u0142':'l',\r\n'\u0323':'l',\r\n'\u013f':'l',\r\n'\u0140':'l',\r\n'\u023d':'l',\r\n'\u019a':'l',\r\n'\u2c60':'l',\r\n'\u2c61':'l',\r\n'\u2c62':'l',\r\n'\u026b':'l',\r\n'\u026c':'l',\r\n'\u026d':'l',\r\n'\u0234':'l',\r\n'\u1e3e':'m',\r\n'\u1e3f':'m',\r\n'\u1e40':'m',\r\n'\u1e41':'m',\r\n'\u1e42':'m',\r\n'\u1e43':'m',\r\n'\u0271':'m',\r\n'\u0143':'n',\r\n'\u0144':'n',\r\n'\u01f8':'n',\r\n'\u01f9':'n',\r\n'\u0147':'n',\r\n'\u0148':'n',\r\n'\u00d1':'n',\r\n'\u00f1':'n',\r\n'\u1e44':'n',\r\n'\u1e45':'n',\r\n'\u0145':'n',\r\n'\u0146':'n',\r\n'\u1e46':'n',\r\n'\u1e47':'n',\r\n'\u1e4a':'n',\r\n'\u1e4b':'n',\r\n'\u1e48':'n',\r\n'\u1e49':'n',\r\n'\u019d':'n',\r\n'\u0272':'n',\r\n'\u0220':'n',\r\n'\u019e':'n',\r\n'\u0273':'n',\r\n'\u0235':'n',\r\n'N':'n',\r\n'\u0308':'n',\r\n'n':'n',\r\n'\u0308':'n',\r\n'\u00d3':'o',\r\n'\u00f3':'o',\r\n'\u00d2':'o',\r\n'\u00f2':'o',\r\n'\u014e':'o',\r\n'\u014f':'o',\r\n'\u00d4':'o',\r\n'\u00f4':'o',\r\n'\u1ed0':'o',\r\n'\u1ed1':'o',\r\n'\u1ed2':'o',\r\n'\u1ed3':'o',\r\n'\u1ed6':'o',\r\n'\u1ed7':'o',\r\n'\u1ed4':'o',\r\n'\u1ed5':'o',\r\n'\u01d1':'o',\r\n'\u01d2':'o',\r\n'\u00d6':'o',\r\n'\u00f6':'o',\r\n'\u022a':'o',\r\n'\u022b':'o',\r\n'\u0150':'o',\r\n'\u0151':'o',\r\n'\u00d5':'o',\r\n'\u00f5':'o',\r\n'\u1e4c':'o',\r\n'\u1e4d':'o',\r\n'\u1e4e':'o',\r\n'\u1e4f':'o',\r\n'\u022c':'o',\r\n'\u022d':'o',\r\n'\u022e':'o',\r\n'\u022f':'o',\r\n'\u0230':'o',\r\n'\u0231':'o',\r\n'\u00d8':'o',\r\n'\u00f8':'o',\r\n'\u01fe':'o',\r\n'\u01ff':'o',\r\n'\u01ea':'o',\r\n'\u01eb':'o',\r\n'\u01ec':'o',\r\n'\u01ed':'o',\r\n'\u014c':'o',\r\n'\u014d':'o',\r\n'\u1e52':'o',\r\n'\u1e53':'o',\r\n'\u1e50':'o',\r\n'\u1e51':'o',\r\n'\u1ece':'o',\r\n'\u1ecf':'o',\r\n'\u020c':'o',\r\n'\u020d':'o',\r\n'\u020e':'o',\r\n'\u020f':'o',\r\n'\u01a0':'o',\r\n'\u01a1':'o',\r\n'\u1eda':'o',\r\n'\u1edb':'o',\r\n'\u1edc':'o',\r\n'\u1edd':'o',\r\n'\u1ee0':'o',\r\n'\u1ee1':'o',\r\n'\u1ede':'o',\r\n'\u1edf':'o',\r\n'\u1ee2':'o',\r\n'\u1ee3':'o',\r\n'\u1ecc':'o',\r\n'\u1ecd':'o',\r\n'\u1ed8':'o',\r\n'\u1ed9':'o',\r\n'\u019f':'o',\r\n'\u0275':'o',\r\n'\u1e54':'p',\r\n'\u1e55':'p',\r\n'\u1e56':'p',\r\n'\u1e57':'p',\r\n'\u2c63':'p',\r\n'\u01a4':'p',\r\n'\u01a5':'p',\r\n'P':'p',\r\n'\u0303':'p',\r\n'p':'p',\r\n'\u0303':'p',\r\n'\u02a0':'q',\r\n'\u024a':'q',\r\n'\u024b':'q',\r\n'\u0154':'r',\r\n'\u0155':'r',\r\n'\u0158':'r',\r\n'\u0159':'r',\r\n'\u1e58':'r',\r\n'\u1e59':'r',\r\n'\u0156':'r',\r\n'\u0157':'r',\r\n'\u0210':'r',\r\n'\u0211':'r',\r\n'\u0212':'r',\r\n'\u0213':'r',\r\n'\u1e5a':'r',\r\n'\u1e5b':'r',\r\n'\u1e5c':'r',\r\n'\u1e5d':'r',\r\n'\u1e5e':'r',\r\n'\u1e5f':'r',\r\n'\u024c':'r',\r\n'\u024d':'r',\r\n'\u1d72':'r',\r\n'\u027c':'r',\r\n'\u2c64':'r',\r\n'\u027d':'r',\r\n'\u027e':'r',\r\n'\u1d73':'r',\r\n'\u00df':'s',\r\n'\u015a':'s',\r\n'\u015b':'s',\r\n'\u1e64':'s',\r\n'\u1e65':'s',\r\n'\u015c':'s',\r\n'\u015d':'s',\r\n'\u0160':'s',\r\n'\u0161':'s',\r\n'\u1e66':'s',\r\n'\u1e67':'s',\r\n'\u1e60':'s',\r\n'\u1e61':'s',\r\n'\u1e9b':'s',\r\n'\u015e':'s',\r\n'\u015f':'s',\r\n'\u1e62':'s',\r\n'\u1e63':'s',\r\n'\u1e68':'s',\r\n'\u1e69':'s',\r\n'\u0218':'s',\r\n'\u0219':'s',\r\n'\u0282':'s',\r\n'S':'s',\r\n'\u0329':'s',\r\n's':'s',\r\n'\u0329':'s',\r\n'\u00de':'t',\r\n'\u00fe':'t',\r\n'\u0164':'t',\r\n'\u0165':'t',\r\n'T':'t',\r\n'\u0308':'t',\r\n'\u1e97':'t',\r\n'\u1e6a':'t',\r\n'\u1e6b':'t',\r\n'\u0162':'t',\r\n'\u0163':'t',\r\n'\u1e6c':'t',\r\n'\u1e6d':'t',\r\n'\u021a':'t',\r\n'\u021b':'t',\r\n'\u1e70':'t',\r\n'\u1e71':'t',\r\n'\u1e6e':'t',\r\n'\u1e6f':'t',\r\n'\u0166':'t',\r\n'\u0167':'t',\r\n'\u023e':'t',\r\n'\u2c66':'t',\r\n'\u1d75':'t',\r\n'\u01ab':'t',\r\n'\u01ac':'t',\r\n'\u01ad':'t',\r\n'\u01ae':'t',\r\n'\u0288':'t',\r\n'\u0236':'t',\r\n'\u00da':'u',\r\n'\u00fa':'u',\r\n'\u00d9':'u',\r\n'\u00f9':'u',\r\n'\u016c':'u',\r\n'\u016d':'u',\r\n'\u00db':'u',\r\n'\u00fb':'u',\r\n'\u01d3':'u',\r\n'\u01d4':'u',\r\n'\u016e':'u',\r\n'\u016f':'u',\r\n'\u00dc':'u',\r\n'\u00fc':'u',\r\n'\u01d7':'u',\r\n'\u01d8':'u',\r\n'\u01db':'u',\r\n'\u01dc':'u',\r\n'\u01d9':'u',\r\n'\u01da':'u',\r\n'\u01d5':'u',\r\n'\u01d6':'u',\r\n'\u0170':'u',\r\n'\u0171':'u',\r\n'\u0168':'u',\r\n'\u0169':'u',\r\n'\u1e78':'u',\r\n'\u1e79':'u',\r\n'\u0172':'u',\r\n'\u0173':'u',\r\n'\u016a':'u',\r\n'\u016b':'u',\r\n'\u1e7a':'u',\r\n'\u1e7b':'u',\r\n'\u1ee6':'u',\r\n'\u1ee7':'u',\r\n'\u0214':'u',\r\n'\u0215':'u',\r\n'\u0216':'u',\r\n'\u0217':'u',\r\n'\u01af':'u',\r\n'\u01b0':'u',\r\n'\u1ee8':'u',\r\n'\u1ee9':'u',\r\n'\u1eea':'u',\r\n'\u1eeb':'u',\r\n'\u1eee':'u',\r\n'\u1eef':'u',\r\n'\u1eec':'u',\r\n'\u1eed':'u',\r\n'\u1ef0':'u',\r\n'\u1ef1':'u',\r\n'\u1ee4':'u',\r\n'\u1ee5':'u',\r\n'\u1e72':'u',\r\n'\u1e73':'u',\r\n'\u1e76':'u',\r\n'\u1e77':'u',\r\n'\u1e74':'u',\r\n'\u1e75':'u',\r\n'\u0244':'u',\r\n'\u0289':'u',\r\n'\u1e7c':'v',\r\n'\u1e7d':'v',\r\n'\u1e7e':'v',\r\n'\u1e7f':'v',\r\n'\u01b2':'v',\r\n'\u028b':'v',\r\n'\u1e82':'w',\r\n'\u1e83':'w',\r\n'\u1e80':'w',\r\n'\u1e81':'w',\r\n'\u0174':'w',\r\n'\u0175':'w',\r\n'W':'w',\r\n'\u030a':'w',\r\n'\u1e98':'w',\r\n'\u1e84':'w',\r\n'\u1e85':'w',\r\n'\u1e86':'w',\r\n'\u1e87':'w',\r\n'\u1e88':'w',\r\n'\u1e89':'w',\r\n'\u1e8c':'x',\r\n'\u1e8d':'x',\r\n'\u1e8a':'x',\r\n'\u1e8b':'x',\r\n'\u00dd':'y',\r\n'\u00fd':'y',\r\n'\u1ef2':'y',\r\n'\u1ef3':'y',\r\n'\u0176':'y',\r\n'\u0177':'y',\r\n'Y':'y',\r\n'\u030a':'y',\r\n'\u1e99':'y',\r\n'\u0178':'y',\r\n'\u00ff':'y',\r\n'\u1ef8':'y',\r\n'\u1ef9':'y',\r\n'\u1e8e':'y',\r\n'\u1e8f':'y',\r\n'\u0232':'y',\r\n'\u0233':'y',\r\n'\u1ef6':'y',\r\n'\u1ef7':'y',\r\n'\u1ef4':'y',\r\n'\u1ef5':'y',\r\n'\u028f':'y',\r\n'\u024e':'y',\r\n'\u024f':'y',\r\n'\u01b3':'y',\r\n'\u01b4':'y',\r\n'\u0179':'z',\r\n'\u017a':'z',\r\n'\u1e90':'z',\r\n'\u1e91':'z',\r\n'\u017d':'z',\r\n'\u017e':'z',\r\n'\u017b':'z',\r\n'\u017c':'z',\r\n'\u1e92':'z',\r\n'\u1e93':'z',\r\n'\u1e94':'z',\r\n'\u1e95':'z',\r\n'\u01b5':'z',\r\n'\u01b6':'z',\r\n'\u0224':'z',\r\n'\u0225':'z',\r\n'\u0290':'z',\r\n'\u0291':'z',\r\n'\u2c6b':'z',\r\n'\u2c6c':'z',\r\n'\u01ee':'z',\r\n'\u01ef':'z',\r\n'\u01ba':'z',\r\n\r\n// Roman fullwidth ascii equivalents: 0xff00 to 0xff5e\r\n'\uff12':'2',\r\n'\uff16':'6',\r\n'\uff22':'B',\r\n'\uff26':'F',\r\n'\uff2a':'J',\r\n'\uff2e':'N',\r\n'\uff32':'R',\r\n'\uff36':'V',\r\n'\uff3a':'Z',\r\n'\uff42':'b',\r\n'\uff46':'f',\r\n'\uff4a':'j',\r\n'\uff4e':'n',\r\n'\uff52':'r',\r\n'\uff56':'v',\r\n'\uff5a':'z',\r\n'\uff11':'1',\r\n'\uff15':'5',\r\n'\uff19':'9',\r\n'\uff21':'A',\r\n'\uff25':'E',\r\n'\uff29':'I',\r\n'\uff2d':'M',\r\n'\uff31':'Q',\r\n'\uff35':'U',\r\n'\uff39':'Y',\r\n'\uff41':'a',\r\n'\uff45':'e',\r\n'\uff49':'i',\r\n'\uff4d':'m',\r\n'\uff51':'q',\r\n'\uff55':'u',\r\n'\uff59':'y',\r\n'\uff10':'0',\r\n'\uff14':'4',\r\n'\uff18':'8',\r\n'\uff24':'D',\r\n'\uff28':'H',\r\n'\uff2c':'L',\r\n'\uff30':'P',\r\n'\uff34':'T',\r\n'\uff38':'X',\r\n'\uff44':'d',\r\n'\uff48':'h',\r\n'\uff4c':'l',\r\n'\uff50':'p',\r\n'\uff54':'t',\r\n'\uff58':'x',\r\n'\uff13':'3',\r\n'\uff17':'7',\r\n'\uff23':'C',\r\n'\uff27':'G',\r\n'\uff2b':'K',\r\n'\uff2f':'O',\r\n'\uff33':'S',\r\n'\uff37':'W',\r\n'\uff43':'c',\r\n'\uff47':'g',\r\n'\uff4b':'k',\r\n'\uff4f':'o',\r\n'\uff53':'s',\r\n'\uff57':'w'};\r\n\r\nvar accentMap = {\r\n    '\u00e1':'a', '\u00e9':'e', '\u00ed':'i','\u00f3':'o','\u00fa':'u'\r\n};\r\n\r\nfunction accent_fold (s) {\r\n\tif (!s) { return ''; }\r\n    var ret = '';\r\n    for (var i=0; i&lt;s.length; i++) {\r\n\t\tret += accent_map[s.charAt(i)] || s.charAt(i);\r\n    }\r\n    return ret;\r\n};\r\n\r\n\r\n// accent_folded_hilite(\"Fulanilo L\u00f3pez\", 'lo')\r\n//   --&gt; \"Fulani&lt;b&gt;lo&lt;/b&gt; &lt;b&gt;L\u00f3&lt;/b&gt;pez\"\r\n//\r\nfunction accent_folded_hilite(str, q) {\r\n  var str_folded = accent_fold(str).toLowerCase().replace(/[&lt;&gt;]+/g, '');\r\n  var q_folded = accent_fold(q).toLowerCase().replace(/[&lt;&gt;]+/g, '');\r\n\r\n  // create an intermediary string with hilite hints\r\n  // example: fulani&lt;lo&gt; &lt;lo&gt;pez\r\n  var re = new RegExp(q_folded, 'g');\r\n  var hilite_hints = str_folded.replace(re, '&lt;'+q_folded+'&gt;');\r\n\r\n  // index pointer for the original string\r\n  var spos = 0;\r\n  // accumulator for our final string\r\n  var highlighted = '';\r\n\r\n  // walk down the original string and the hilite hint\r\n  // string in parallel. when you encounter a &lt; or &gt; hint,\r\n  // append the opening / closing tag in our final string.\r\n  // if the current char is not a hint, append the corresponding\r\n  // char from the *original* string to our final string and\r\n  // advance the original string's pointer.\r\n  for (var i=0; i&lt;hilite_hints.length; i++) {\r\n    var c = str.charAt(spos);\r\n    var h = hilite_hints.charAt(i);\r\n    if (h === '&lt;') {\r\n       highlighted += '&lt;b&gt;';\r\n    } else if (h === '&gt;') {\r\n       highlighted += '&lt;/b&gt;';\r\n    } else {\r\n      spos += 1;\r\n      highlighted += c;\r\n    }\r\n  }\r\n  return highlighted;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input type=\"text\" style=\"text-transform:uppercase;\" id=\"myInput\" onkeyup=\"myFunction()\" placeholder=\"Type Radio Name\" title=\"Type in a name\"&gt;\r\n\r\n&lt;div id=\"table-wrapper\"&gt;\r\n  &lt;div id=\"table-scroll\"&gt;\r\n&lt;table id=\"myTable\"&gt;\r\n  &lt;tr class=\"header\"&gt;\r\n    &lt;th style=\"width:60%;\"&gt;Radio Name&lt;/th&gt;\r\n    &lt;th style=\"width:40%;\"&gt;List (Position)&lt;/th&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;R\u00c1DIO&lt;/td&gt;\r\n    &lt;td&gt;PORTUGAL&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;RADIO&lt;/td&gt;\r\n    &lt;td&gt;PORTUGAL&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;RADIO 10&lt;/td&gt;\r\n    &lt;td&gt;PORTUGAL&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;/table&gt;\r\n\r\n&lt;script&gt;\r\n  window.onload = function() {\r\n  var rows = document.querySelectorAll('tr:not(.header)');\r\n\r\n  for (var i = 0; i &lt; rows.length; i++) {\r\n    rows[i].style.display = 'none';\r\n  }\r\n}\r\n  \r\n  function myFunction() {\r\n    var input, filter, table, tr, td, i;\r\n    input = document.getElementById(\"myInput\");\r\n    filter = accent_fold(input.value).toUpperCase();\r\n    table = document.getElementById(\"myTable\");\r\n    tr = table.getElementsByTagName(\"tr\");\r\n    for (i = 0; i &lt; tr.length; i++) {\r\n      td = tr[i].getElementsByTagName(\"td\")[0];\r\n      if (td) {\r\n        if (accent_fold(td.innerHTML).toUpperCase().indexOf(filter) &gt; -1) {\r\n          tr[i].style.display = \"\";\r\n        } else {\r\n          tr[i].style.display = \"none\";\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  var rows = document.querySelectorAll('tr:not(.header)');\r\n   \r\n   if (input.value.length == 0) {\r\n    for (var i = 0; i &lt; rows.length; i++) {\r\n      rows[i].style.display = 'none';\r\n    }\r\n  }\r\n\r\n  &lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thank you advance.\n(Sorry my English)</p>\n"}, {"tags": ["javascript", "html", "css", "canvas", "html5-canvas"], "answers": [{"comments": [{"owner": {"reputation": 778, "user_id": 6627524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dz1D7.png?s=128&g=1", "display_name": "Jose A. Ayll&#243;n", "link": "https://stackoverflow.com/users/6627524/jose-a-ayll%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1560984487, "post_id": 56676834, "comment_id": 99920603, "body": "It doesn&#39;t, I&#39;ve tried that as well but it freezes the screen"}, {"owner": {"reputation": 778, "user_id": 6627524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dz1D7.png?s=128&g=1", "display_name": "Jose A. Ayll&#243;n", "link": "https://stackoverflow.com/users/6627524/jose-a-ayll%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1560986123, "post_id": 56676834, "comment_id": 99920944, "body": "It&#39;s the exact same code but in another place, so the result is the same. You can test it in the snippet"}, {"owner": {"reputation": 716, "user_id": 9225514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2DqTQ.png?s=128&g=1", "display_name": "anbcodes", "link": "https://stackoverflow.com/users/9225514/anbcodes"}, "reply_to_user": {"reputation": 778, "user_id": 6627524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dz1D7.png?s=128&g=1", "display_name": "Jose A. Ayll&#243;n", "link": "https://stackoverflow.com/users/6627524/jose-a-ayll%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1560986338, "post_id": 56676834, "comment_id": 99920982, "body": "Sorry. The other option might be to create two canvases and have one draw the background and the other one draw the bird."}], "tags": [], "owner": {"reputation": 716, "user_id": 9225514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2DqTQ.png?s=128&g=1", "display_name": "anbcodes", "link": "https://stackoverflow.com/users/9225514/anbcodes"}, "is_accepted": false, "score": 0, "last_activity_date": 1560986437, "last_edit_date": 1560986437, "creation_date": 1560984343, "answer_id": 56676834, "question_id": 56676777, "link": "https://stackoverflow.com/questions/56676777/html5-canvas-animation-leaves-a-trail/56676834#56676834", "title": "Html5 canvas animation leaves a trail", "body": "<p>I think you could just call <code>resizeCanvas</code> in your draw loop to redraw the background.</p>\n\n<p>EDIT: Apparently that does not work. Another option is just drawing it in the draw loop like this:</p>\n\n<pre><code>const draw = () =&gt; {\n  ctx.clearRect(0, 0, cvs.width, cvs.height)\n  let x = 0, y = 0;\n  while (x &lt; cvs.width &amp;&amp; y &lt; cvs.height) {\n    ctx.drawImage(bg, x, y, 360, cvs.height);\n    x += bg.width;\n  }\n\n  ctx.drawImage(bird, birdPositionX, birdPositionY);\n\n  birdPositionY += gravity;\n  birdPositionX += 3;\n\n  requestAnimationFrame(draw);\n};\n</code></pre>\n\n<p>Edit: That did not work either. The other option would be to make two canvases and overlap them with one drawing the background and one drawing the bird.</p>\n"}, {"comments": [{"owner": {"reputation": 778, "user_id": 6627524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dz1D7.png?s=128&g=1", "display_name": "Jose A. Ayll&#243;n", "link": "https://stackoverflow.com/users/6627524/jose-a-ayll%c3%b3n"}, "edited": false, "score": 0, "creation_date": 1561020090, "post_id": 56677275, "comment_id": 99930125, "body": "That&#39;s exactly what I was looking for! Thanks so much @Kaiido"}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 2, "last_activity_date": 1560988062, "creation_date": 1560988062, "answer_id": 56677275, "question_id": 56676777, "link": "https://stackoverflow.com/questions/56676777/html5-canvas-animation-leaves-a-trail/56677275#56677275", "title": "Html5 canvas animation leaves a trail", "body": "<p>Draw your background on a canvas that you will keep off-screen, then draw this canvas every frame on your visible one before you draw your moving parts. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const cvs = document.getElementById(\"canvas\");\r\nconst ctx = cvs.getContext(\"2d\");\r\n// our backround canvas that we won't append in the doc (\"off-screen\")\r\nconst background = cvs.cloneNode();\r\nconst bg_ctx = background.getContext('2d');\r\n\r\ncvs.style.height = \"100vh\";\r\ncvs.style.width = \"100vw\";\r\n\r\nvar bird = new Image();\r\nvar bg = new Image();\r\n\r\nbird.src = \"https://lh3.googleusercontent.com/prntPuix7QxlhKXx6IBtTxv7PrdEJtmzFJ4mopScNS1_klze86BVNy3PqHbQn2UQ4JyJdix3XQ=w128-h128-e365\";\r\nbg.src = \"https://opengameart.org/sites/default/files/bg_5.png\";\r\n\r\nlet gravity = 1;\r\nbirdPositionY = 10;\r\nbirdPositionX = 50;\r\n\r\nconst draw = () =&gt; {\r\n  // first draw the background canvas\r\n  ctx.drawImage(background, 0,0);\r\n  // then your persona\r\n  ctx.drawImage(bird, birdPositionX, birdPositionY);\r\n\r\n  birdPositionY += gravity;\r\n  birdPositionX += 3;\r\n\r\n  requestAnimationFrame(draw);\r\n};\r\n\r\nconst resizeCanvas = () =&gt; {\r\n  const {\r\n    width,\r\n    height\r\n  } = cvs.getBoundingClientRect();\r\n  // resize both canvases\r\n  cvs.height = background.height = height;\r\n  cvs.width = background.width = width;\r\n\r\n  let x = 0,\r\n    y = 0;\r\n  while (x &lt; cvs.width &amp;&amp; y &lt; cvs.height) {\r\n    // draw on the off-screen canvas\r\n    bg_ctx.drawImage(bg, x, y, 360, cvs.height);\r\n    x += bg.width;\r\n  }\r\n};\r\n\r\nbg.onload = () =&gt; {\r\n  resizeCanvas();\r\n  draw();\r\n};\r\n\r\nwindow.addEventListener(\"resize\", resizeCanvas, false);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;title&gt;Flappy Bird&lt;/title&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, user-scalable=no\" /&gt;\r\n  &lt;style&gt;\r\n    html {\r\n      overflow: hidden;\r\n    }\r\n    \r\n    body {\r\n      margin: 0;\r\n    }\r\n    \r\n    canvas {\r\n      width: 100vw;\r\n      height: 100vh;\r\n    }\r\n  &lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;\r\n  &lt;script src=\"index.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 778, "user_id": 6627524, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dz1D7.png?s=128&g=1", "display_name": "Jose A. Ayll&#243;n", "link": "https://stackoverflow.com/users/6627524/jose-a-ayll%c3%b3n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 56677275, "answer_count": 2, "score": 0, "last_activity_date": 1560988062, "creation_date": 1560983921, "last_edit_date": 1560984388, "question_id": 56676777, "link": "https://stackoverflow.com/questions/56676777/html5-canvas-animation-leaves-a-trail", "title": "Html5 canvas animation leaves a trail", "body": "<p>I'm trying to make a little game to play around with canvas. I've decided to go for <strong>Flappy Bird</strong> as there are plenty of examples online. My goal was to make the game \"responsive\" for all devices. If you open it in a mobile or whichever screen, you should be able to play it normally. </p>\n\n<p>For this purpose I drew a background image within the canvas that will adapt the height to the screen's height and repeat it through the x-axis.</p>\n\n<p><a href=\"https://i.stack.imgur.com/lcGUX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lcGUX.png\" alt=\"Flappy Bird\"></a></p>\n\n<p>The issue I'm having is that, when I animate the bird, this one leaves a trail behind it. </p>\n\n<p>As like so:</p>\n\n<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img src=\"https://i.stack.imgur.com/xu0Vzm.png\" alt=\"https://i.stack.imgur.com/xu0Vzm.png\"></p>\n\n<p>An easy fix would be clearing the canvas as explained in this post: </p>\n\n<p><a href=\"https://stackoverflow.com/questions/47554402/canvas-image-leaves-weird-trail-when-moving-left\">Canvas image leaves weird trail when moving left</a></p>\n\n<p>But it isn't possible because of the way I'm painting my background (I paint it once and repaint it if it resizes).</p>\n\n<blockquote>\n  <h1>Question</h1> \n  \n  <p>How do I avoid this image trail with a static background? Is it maybe possible to have like a false static background that doesn't need to be repainted? </p>\n  \n  <p>I obviously want to do it in the canvas, without needing to have an image in the html.</p>\n</blockquote>\n\n<p>This is the code with the main functionality so that you can take a look:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const cvs = document.getElementById(\"canvas\");\r\nconst ctx = cvs.getContext(\"2d\");\r\n\r\ncvs.style.height = \"100vh\";\r\ncvs.style.width = \"100vw\";\r\n\r\nvar bird = new Image();\r\nvar bg = new Image();\r\n\r\nbird.src = \"https://lh3.googleusercontent.com/prntPuix7QxlhKXx6IBtTxv7PrdEJtmzFJ4mopScNS1_klze86BVNy3PqHbQn2UQ4JyJdix3XQ=w128-h128-e365\";\r\nbg.src = \"https://opengameart.org/sites/default/files/bg_5.png\";\r\n\r\nlet gravity = 1;\r\nbirdPositionY = 10;\r\nbirdPositionX = 50;\r\n\r\nconst draw = () =&gt; {\r\n  ctx.drawImage(bird, birdPositionX, birdPositionY);\r\n\r\n  birdPositionY += gravity;\r\n  birdPositionX += 3;\r\n\r\n  requestAnimationFrame(draw);\r\n};\r\n\r\nconst resizeCanvas = () =&gt; {\r\n  const {\r\n    width,\r\n    height\r\n  } = cvs.getBoundingClientRect();\r\n  cvs.height = height;\r\n  cvs.width = width;\r\n\r\n  let x = 0,\r\n    y = 0;\r\n  while (x &lt; cvs.width &amp;&amp; y &lt; cvs.height) {\r\n    ctx.drawImage(bg, x, y, 360, cvs.height);\r\n    x += bg.width;\r\n  }\r\n};\r\n\r\nbg.onload = () =&gt; {\r\n  resizeCanvas();\r\n};\r\n\r\nwindow.addEventListener(\"resize\", resizeCanvas, false);\r\n\r\ndraw();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;title&gt;Flappy Bird&lt;/title&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, user-scalable=no\" /&gt;\r\n  &lt;style&gt;\r\n    html {\r\n      overflow: hidden;\r\n    }\r\n    \r\n    body {\r\n      margin: 0;\r\n    }\r\n    \r\n    canvas {\r\n      width: 100vw;\r\n      height: 100vh;\r\n    }\r\n  &lt;/style&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;\r\n  &lt;script src=\"index.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Hope it did make sense!</p>\n\n<p><em>Thanks in advance!</em></p>\n"}, {"tags": ["javascript", "node.js", "firebase", "dialogflow-es"], "comments": [{"owner": {"reputation": 1847, "user_id": 6763544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHPYY.jpg?s=128&g=1", "display_name": "Sairaj Sawant", "link": "https://stackoverflow.com/users/6763544/sairaj-sawant"}, "edited": false, "score": 0, "creation_date": 1561008495, "post_id": 56676759, "comment_id": 99925088, "body": "Can u provide screenshots of intents and entities you r using?"}, {"owner": {"reputation": 57, "user_id": 11419951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f588606d2bf009a35cb8c770262dccce?s=128&d=identicon&r=PG", "display_name": "bahaa", "link": "https://stackoverflow.com/users/11419951/bahaa"}, "reply_to_user": {"reputation": 1847, "user_id": 6763544, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tHPYY.jpg?s=128&g=1", "display_name": "Sairaj Sawant", "link": "https://stackoverflow.com/users/6763544/sairaj-sawant"}, "edited": false, "score": 0, "creation_date": 1561029298, "post_id": 56676759, "comment_id": 99935075, "body": "I can add your email to the project"}, {"owner": {"reputation": 48099, "user_id": 1405634, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/218ed9884ff6fa541a821187836ade50?s=128&d=identicon&r=PG", "display_name": "Prisoner", "link": "https://stackoverflow.com/users/1405634/prisoner"}, "edited": false, "score": 0, "creation_date": 1561035635, "post_id": 56676759, "comment_id": 99938603, "body": "Is this code being called for the <code>appointment</code> intent handler or the <code>appointment2</code> intent handler? (For that matter, how are you setting up the handlers?)"}, {"owner": {"reputation": 57, "user_id": 11419951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f588606d2bf009a35cb8c770262dccce?s=128&d=identicon&r=PG", "display_name": "bahaa", "link": "https://stackoverflow.com/users/11419951/bahaa"}, "edited": false, "score": 0, "creation_date": 1561037254, "post_id": 56676759, "comment_id": 99939585, "body": "this is a universal constants that i wanted to use later to call each one individually like i have the date1 and date2 so down i made intent appointment 2 if called it takes the parameter date2 and date1 and creates 2 events and same for appointment  but i will try the suugests and make it inside the functions and see"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 11419951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f588606d2bf009a35cb8c770262dccce?s=128&d=identicon&r=PG", "display_name": "bahaa", "link": "https://stackoverflow.com/users/11419951/bahaa"}, "edited": false, "score": 0, "creation_date": 1561067446, "post_id": 56685669, "comment_id": 99953840, "body": "This suggestion worked well but now I am stuck with the function to create the events it doesnt seem to work any thoughts?"}, {"owner": {"reputation": 582, "user_id": 4250319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cc4718000a5e5a76d29d2e63bc44cb5c?s=128&d=identicon&r=PG&f=1", "display_name": "Mathias Schrooten", "link": "https://stackoverflow.com/users/4250319/mathias-schrooten"}, "reply_to_user": {"reputation": 57, "user_id": 11419951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f588606d2bf009a35cb8c770262dccce?s=128&d=identicon&r=PG", "display_name": "bahaa", "link": "https://stackoverflow.com/users/11419951/bahaa"}, "edited": false, "score": 0, "creation_date": 1561106343, "post_id": 56685669, "comment_id": 99963511, "body": "You should ask a new question for that sir!"}, {"owner": {"reputation": 57, "user_id": 11419951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f588606d2bf009a35cb8c770262dccce?s=128&d=identicon&r=PG", "display_name": "bahaa", "link": "https://stackoverflow.com/users/11419951/bahaa"}, "edited": false, "score": 0, "creation_date": 1561133982, "post_id": 56685669, "comment_id": 99977617, "body": "<a href=\"https://stackoverflow.com/questions/56702126/i-want-to-create-multiplle-event-sat-once-using-javascript-from-a-dialogflow-bot\" title=\"i want to create multiplle event sat once using javascript from a dialogflow bot\">stackoverflow.com/questions/56702126/&hellip;</a>"}, {"owner": {"reputation": 582, "user_id": 4250319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cc4718000a5e5a76d29d2e63bc44cb5c?s=128&d=identicon&r=PG&f=1", "display_name": "Mathias Schrooten", "link": "https://stackoverflow.com/users/4250319/mathias-schrooten"}, "reply_to_user": {"reputation": 57, "user_id": 11419951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f588606d2bf009a35cb8c770262dccce?s=128&d=identicon&r=PG", "display_name": "bahaa", "link": "https://stackoverflow.com/users/11419951/bahaa"}, "edited": false, "score": 0, "creation_date": 1561193207, "post_id": 56685669, "comment_id": 99990336, "body": "I&#39;m afraid I have no experience with Google Calendar API.. I&#39;m sorry"}], "tags": [], "owner": {"reputation": 582, "user_id": 4250319, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/cc4718000a5e5a76d29d2e63bc44cb5c?s=128&d=identicon&r=PG&f=1", "display_name": "Mathias Schrooten", "link": "https://stackoverflow.com/users/4250319/mathias-schrooten"}, "is_accepted": true, "score": 0, "last_activity_date": 1561032510, "creation_date": 1561032510, "answer_id": 56685669, "question_id": 56676759, "link": "https://stackoverflow.com/questions/56676759/multiple-date-entries/56685669#56685669", "title": "Multiple date entries", "body": "<p>I would suggest extracting parameters like this in your fulfillment:</p>\n\n<pre><code> function botHandler(agent) {\n        let state = agent.parameters[\"stateName\"];\n        let uState = state.toUpperCase();\n        let answer = \"So you live in \" + uState + \"?\";\n\n        agent.add(answer);\n    }\n</code></pre>\n\n<p>And you can check if the parameter is present this way:</p>\n\n<pre><code>if (agent.parameters[\"stateName\"]) {\n    //do stuff here\n}\n</code></pre>\n\n<p>I think it crashed because there were no intents present.</p>\n"}], "owner": {"reputation": 57, "user_id": 11419951, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f588606d2bf009a35cb8c770262dccce?s=128&d=identicon&r=PG", "display_name": "bahaa", "link": "https://stackoverflow.com/users/11419951/bahaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3127, "favorite_count": 0, "accepted_answer_id": 56685669, "answer_count": 1, "score": 1, "last_activity_date": 1561067650, "creation_date": 1560983830, "last_edit_date": 1561067650, "question_id": 56676759, "link": "https://stackoverflow.com/questions/56676759/multiple-date-entries", "title": "Multiple date entries", "body": "<p>Here is some images for the intents and entites</p>\n\n<p><a href=\"https://i.stack.imgur.com/EJvra.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EJvra.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/yrPRw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yrPRw.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/UkapM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UkapM.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/P5XCE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/P5XCE.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/ziZoa.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ziZoa.png\" alt=\"enter image description here\"></a></p>\n\n<p>I am collecting dates from users to se for creating google calendar events but as soon as I add the code for the second date even if it is not in use it fails to work for any of both dates\nit gives this error in firebase:</p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'split' of undefined\n      at exports.dialogflowFirebaseFulfillment.functions.https.onRequest (/srv/index.js:38:68)\n      at cloudFunction (/srv/node_modules/firebase-functions/lib/providers/https.js:37:41)\n      at /worker/worker.js:783:7\n      at /worker/worker.js:766:11\n      at _combinedTickCallback (internal/process/next_tick.js:132:7)\n      at process._tickDomainCallback (internal/process/next_tick.js:219:9)</p>\n</blockquote>\n\n<p>This is my code</p>\n\n<pre><code>   function makeAppointment2 (agent) {\n   const dateTimeStart = new Date(Date.parse(agent.parameters.date.split('T')[0] + 'T' + agent.parameters.time.split('T')[1].split('+')[0] + timeZoneOffset));\n   const dateTimeEnd = new Date(new Date(dateTimeStart).setHours(dateTimeStart.getHours() + 1));\n   const dateTimeStart2 = new Date(Date.parse(agent.parameters.date2.split('T')[0] + 'T' + agent.parameters.time2.split('T')[1].split('+')[0] + timeZoneOffset));\n   const dateTimeEnd2 = new Date(new Date(dateTimeStart2).setHours(dateTimeStart2.getHours() + 1));\n   const appointmentTimeString = dateTimeStart.toLocaleString(\n     'en-US',\n     { month: 'long', day: 'numeric', hour: 'numeric', timeZone: timeZone }\n   );\n   const appointmentTimeString2 = dateTimeStart2.toLocaleString(\n     'en-US',\n     { month: 'long', day: 'numeric', hour: 'numeric', timeZone: timeZone }\n   );\n   return createCalendarEvent2(dateTimeStart, dateTimeEnd, name, location, dateTimeStart2, dateTimeEnd2).then(() =&gt; {\n     agent.add(`Great Mr/Mrs ${name}, your appointment has been scheduled on ${appointmentTimeString} &amp; ${appointmentTimeString2}!.`);\n     agent.add(`${response2}`);\n   }).catch(() =&gt; {\n     agent.add(`I'm sorry Mr/Mrs ${name}, there are no slots available for ${appointmentTimeString} Please choose another date.`);\n   });\n function createCalendarEvent2 (dateTimeStart, dateTimeEnd, appointment_name, location, dateTimeStart2, dateTimeEnd2) {\n  return new Promise((resolve, reject) =&gt; {\n    calendar.events.list({\n      auth: serviceAccountAuth,\n      calendarId: calendarId,\n      timeMin: dateTimeStart.toISOString(),\n      timeMax: dateTimeEnd.toISOString()\n    }, (err, calendarResponse) =&gt; {\n\n      if (err || calendarResponse.data.items.length &gt; 0) {\n        reject(err || new Error('Requested time conflicts with another appointment'));\n      } else {\n\n        calendar.events.insert({ auth: serviceAccountAuth,\n          calendarId: calendarId,\n          resource: {\n   'summary': appointment_name + \"1st\" ,\n   'description': location,\n   'start': {\n     'dateTime': dateTimeStart,\n   },\n   'end': {\n     'dateTime': dateTimeEnd,\n   },\n } ,\n        }, (err, event) =&gt; {\n          err ? reject(err) : resolve(event);\n        }\n        );\n      }\n    });\n    calendar.events.list({\n      auth: serviceAccountAuth,\n      calendarId: calendarId,\n      timeMin: dateTimeStart2.toISOString(),\n      timeMax: dateTimeEnd2.toISOString()\n    }, (err, calendarResponse) =&gt; {\n\n      if (err || calendarResponse.data.items.length &gt; 0) {\n        reject(err || new Error('Requested time conflicts with another appointment'));\n      } else {\n\n        calendar.events.insert({ auth: serviceAccountAuth,\n          calendarId: calendarId,\n          resource: {\n   'summary': appointment_name + \"2nd\" ,\n   'description': location,\n   'start': {\n     'dateTime': dateTimeStart2,\n   },\n   'end': {\n     'dateTime': dateTimeEnd2,\n   },\n  } ,\n        }, (err, event) =&gt; {\n          err ? reject(err) : resolve(event);\n        }\n        );\n      }\n    });\n\n  });\n</code></pre>\n"}, {"tags": ["javascript", "function", "removechild"], "comments": [{"owner": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1560984292, "post_id": 56676757, "comment_id": 99920560, "body": "I don&#39;t know if I&#39;m misreading your question, but you want to remove <i>elements</i> from the DOM using <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ChildNode/remove\" rel=\"nofollow noreferrer\"><code>ChildNode.remove()</code></a>? Because the only <code>remove()</code> I can see in your posted code is <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\" rel=\"nofollow noreferrer\"><code>Element.classList.remove()</code></a>. Also, please reduce your posted code to <i>only</i> enough <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code to demonstrate/reproduce your problem. Though on another ctrl+F look: <code>ul.remove(list_items[i]);</code>, should probably be: <code>list_items[i].remove()</code>"}, {"owner": {"reputation": 131, "user_id": 11467329, "user_type": "registered", "profile_image": "https://graph.facebook.com/2275843869141655/picture?type=large", "display_name": "Amandeep Pasricha", "link": "https://stackoverflow.com/users/11467329/amandeep-pasricha"}, "reply_to_user": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 0, "creation_date": 1560985001, "post_id": 56676757, "comment_id": 99920713, "body": "@David Thomas Oh okay so technically I must have written that wrong then. I thought you were supposed to put the child element inside the remove argument. And then the remove method would be applied to a parent, such as ul?"}, {"owner": {"reputation": 229718, "user_id": 82548, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/db5a61382c2ba7309071c323edb4013b?s=128&d=identicon&r=PG", "display_name": "David says reinstate Monica", "link": "https://stackoverflow.com/users/82548/david-says-reinstate-monica"}, "edited": false, "score": 1, "creation_date": 1560985603, "post_id": 56676757, "comment_id": 99920839, "body": "No, there&#39;s two simple means of removing a <code>childNode</code>, the first is the older <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/removeChild\" rel=\"nofollow noreferrer\"><code>parentNode.removeChild()</code></a>, which is: <code>parentNode.removeChild(childNodeReference)</code> or the newer method, <code>childNodeReference.remove()</code> (as linked above)."}], "owner": {"reputation": 131, "user_id": 11467329, "user_type": "registered", "profile_image": "https://graph.facebook.com/2275843869141655/picture?type=large", "display_name": "Amandeep Pasricha", "link": "https://stackoverflow.com/users/11467329/amandeep-pasricha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 132, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560997227, "creation_date": 1560983830, "last_edit_date": 1560997227, "question_id": 56676757, "link": "https://stackoverflow.com/questions/56676757/how-to-remove-list-items-from-a-parent-with-vanilla-js-using-the-remove-method", "title": "How to remove list items from a parent with vanilla JS using the remove method?", "body": "<p>Warning: my javascript code looks messy. I still have to modularize it a bit more</p>\n\n<p>I am trying to remove list items from a parent node, which were once added by the <strong>addPhraseToDisplay</strong> <strong>function</strong>. The code that I used for this is commented out under <strong>buttonElement.innerHTML=\"Start Over\"</strong>, so zoom to that area of the code to <strong>save</strong> time.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let missed=0;\r\nconst qwertyID=document.getElementById('qwerty');\r\nconst phraseID=document.getElementById('phrase');\r\nconst buttonElement=document.getElementsByClassName(\"btn__reset\")[0];\r\nconst overLay=document.getElementById('overlay');\r\nconst phraseArray=[\"Hey man\",\"This is weird\",\"I am bored\",\"That is nice\",\"That is cool\"];\r\nconst ul=document.getElementsByTagName('UL')[0];\r\nconst heading=document.querySelector('.title');\r\n\r\n\r\n//picks random phrase from phraseArray,breaks phrase into character array\r\n//returns arr---character array to be displayed\r\nfunction getRandomPhraseAsArray(array) {\r\n    index = Math.floor((Math.random() * array.length))\r\n    let str=array[index];\r\n    let arr=[...str];\r\n    console.log(arr);\r\n    return arr;\r\n}\r\n\r\n//appends each character as list items in ul\r\n//takes arr in parameter\r\nfunction addPhraseToDisplay(characterArray) {\r\n    for (let i=0; i&lt;characterArray.length; i+=1) {\r\n        let char=characterArray[i];\r\n        listItem=document.createElement('LI');\r\n        listItem.textContent=char;\r\n        if (char!==\" \") { //make code cleaner\r\n            listItem.classList.add(\"letter\");\r\n        }\r\n        ul.appendChild(listItem);   \r\n    }\r\n}\r\n\r\n//takes button as parameter and checks its letter\r\n//checks letter class name in list, checks for match, and adds class show\r\nfunction checkLetter(buttonKey) {\r\n    buttonText=buttonKey.textContent;\r\n    lettersList=document.getElementsByClassName('letter');\r\n    let match=null;\r\n    for (let i=0;i&lt;lettersList.length;i+=1) {\r\n        if (lettersList[i].textContent.toLowerCase()===buttonText) {\r\n            lettersList[i].classList.add(\"show\");\r\n            match=true;\r\n        } \r\n    }\r\n    return match;\r\n}\r\n\r\n//compares number of letter classes with show classes and checks missed variable\r\nfunction checkWin () {\r\n    letterClassLength=document.getElementsByClassName('letter').length;\r\n    showClassLength=document.getElementsByClassName('show').length;\r\n    if (letterClassLength===showClassLength) {\r\n        overLay.classList.add(\"win\");\r\n        heading.innerHTML=\"You win!\";\r\n        overLay.style.display=\"flex\";\r\n        buttons=document.querySelectorAll('.keyrow button'); //repeated code\r\n        for (let i=0; i&lt;buttons.length;i+=1) {\r\n            buttons[i].disabled=false;\r\n        }\r\n    } else if (missed&gt;=5) {\r\n        overLay.classList.add(\"lose\");\r\n        heading.innerHTML=\"You lose!\";\r\n        overLay.style.display=\"flex\";\r\n        buttons=document.querySelectorAll('.keyrow button'); //repeated code\r\n        for (let i=0; i&lt;buttons.length;i+=1) {\r\n            buttons[i].disabled=false;\r\n        }\r\n    }\r\n    buttonElement.innerHTML=\"Start Over\";\r\n    buttonElement.addEventListener('click', ()=&gt; {\r\n        overLay.style.display=\"none\";\r\n        chosen=document.getElementsByClassName('chosen');\r\n        show=document.getElementsByClassName('show');\r\n        // list_items=document.querySelectorAll('letter');\r\n        for (let i=0; i&lt;chosen.length;i+=1) {\r\n            chosen[i].classList.remove('chosen');\r\n        }\r\n        for (let i=0; i&lt;show.length;i+=1) {\r\n            show[i].classList.remove('show');\r\n        }\r\n        // for (let i=0; i&lt;list_items.length;i+=1) {\r\n        // ul.remove(list_items[i]);\r\n        // }\r\n        phraseDisplayed=getRandomPhraseAsArray(phraseArray);\r\n        addPhraseToDisplay(phraseDisplayed);\r\n    });\r\n}\r\n\r\n//listener event to button to hide overlay\r\nbuttonElement.addEventListener('click', ()=&gt; {\r\n    overLay.style.display=\"none\";\r\n});\r\n\r\n\r\n//stores arr (character array) from function into variable \r\n//inputs variable (character array) into new function\r\nlet phraseDisplayed=getRandomPhraseAsArray(phraseArray);\r\naddPhraseToDisplay(phraseDisplayed);\r\n\r\n\r\n//adds class chosen to key and disables it\r\n//if button pressed did not match, remove one try from scoreboard and update missed \r\nqwertyID.addEventListener('click', (e)=&gt;{\r\n    let button=e.target;\r\n    button.classList.add(\"chosen\");\r\n    button.disabled=\"true\";\r\n    let letterFound=checkLetter(button);\r\n    ol=document.getElementsByTagName('OL')[0];\r\n    tries=document.getElementsByClassName('tries')[0];\r\n    if (letterFound==null) {\r\n        ol.removeChild(tries);\r\n        missed+=1;\r\n    }\r\n    checkWin();\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n  &lt;head&gt;\r\n    &lt;meta charset=\"utf-8\"&gt;\r\n    &lt;title&gt;Wheel of Success!&lt;/title&gt;\r\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\r\n    &lt;link href=\"css/styles.css\" rel=\"stylesheet\"&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;div class=\"main-container\"&gt;\r\n\r\n      &lt;div id=\"overlay\" class=\"start\"&gt;\r\n        &lt;h2 class=\"title\"&gt;Wheel of Success&lt;/h2&gt;\r\n        &lt;a class=\"btn__reset\"&gt;Start Game&lt;/a&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div id=\"banner\" class=\"section\"&gt;\r\n        &lt;h2 class=\"header\"&gt;Wheel of Success&lt;/h2&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div id=\"phrase\" class=\"section\"&gt;\r\n        &lt;ul&gt;&lt;/ul&gt;\r\n      &lt;/div&gt;\r\n      &lt;div id=\"qwerty\" class=\"section\"&gt;\r\n        &lt;div class=\"keyrow\"&gt;\r\n          &lt;button&gt;q&lt;/button&gt;&lt;button&gt;w&lt;/button&gt;&lt;button&gt;e&lt;/button&gt;&lt;button&gt;r&lt;/button&gt;&lt;button&gt;t&lt;/button&gt;&lt;button&gt;y&lt;/button&gt;&lt;button&gt;u&lt;/button&gt;&lt;button&gt;i&lt;/button&gt;&lt;button&gt;o&lt;/button&gt;&lt;button&gt;p&lt;/button&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"keyrow\"&gt;\r\n          &lt;button&gt;a&lt;/button&gt;&lt;button&gt;s&lt;/button&gt;&lt;button&gt;d&lt;/button&gt;&lt;button&gt;f&lt;/button&gt;&lt;button&gt;g&lt;/button&gt;&lt;button&gt;h&lt;/button&gt;&lt;button&gt;j&lt;/button&gt;&lt;button&gt;k&lt;/button&gt;&lt;button&gt;l&lt;/button&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"keyrow\"&gt;\r\n          &lt;button&gt;z&lt;/button&gt;&lt;button&gt;x&lt;/button&gt;&lt;button&gt;c&lt;/button&gt;&lt;button&gt;v&lt;/button&gt;&lt;button&gt;b&lt;/button&gt;&lt;button&gt;n&lt;/button&gt;&lt;button&gt;m&lt;/button&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div id=\"scoreboard\" class=\"section\"&gt;\r\n        &lt;ol&gt;\r\n          &lt;li class=\"tries\"&gt;&lt;img src=\"images/liveHeart.png\" height=\"35px\" width=\"30px\"&gt;&lt;/li&gt;\r\n          &lt;li class=\"tries\"&gt;&lt;img src=\"images/liveHeart.png\" height=\"35px\" width=\"30px\"&gt;&lt;/li&gt;\r\n          &lt;li class=\"tries\"&gt;&lt;img src=\"images/liveHeart.png\" height=\"35px\" width=\"30px\"&gt;&lt;/li&gt;\r\n          &lt;li class=\"tries\"&gt;&lt;img src=\"images/liveHeart.png\" height=\"35px\" width=\"30px\"&gt;&lt;/li&gt;\r\n          &lt;li class=\"tries\"&gt;&lt;img src=\"images/liveHeart.png\" height=\"35px\" width=\"30px\"&gt;&lt;/li&gt;\r\n        &lt;/ol&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/body&gt;\r\n  &lt;script src=\"app.js\"&gt;&lt;/script&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I tried using the remove method, but this did not work. Instead, it added more list items then necessary when the game restarted. Did I not use it properly? Should I have done something different? </p>\n\n<p>I know theres an easier way to restart the program, but I am supposed to manually restart relevant variables as per instructions for this project, so I can't use short cut methods to reload the page. </p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1560996390, "post_id": 56676742, "comment_id": 99922719, "body": "Use JSX, that is the point of React, by using vanilla JS you are loosing the main benefit of React!"}, {"owner": {"reputation": 13, "user_id": 9598796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc1c6ef31e271dca3f091203424aa4c?s=128&d=identicon&r=PG&f=1", "display_name": "\u0418\u043b\u044c\u0444 \u041f\u0435\u0442\u0440\u043e\u0432", "link": "https://stackoverflow.com/users/9598796/%d0%98%d0%bb%d1%8c%d1%84-%d0%9f%d0%b5%d1%82%d1%80%d0%be%d0%b2"}, "reply_to_user": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1561018019, "post_id": 56676742, "comment_id": 99929070, "body": "ok, but really there are no methods for combining, if for example projects are already on vanilla js, and then refactoring to React"}], "owner": {"reputation": 13, "user_id": 9598796, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5fc1c6ef31e271dca3f091203424aa4c?s=128&d=identicon&r=PG&f=1", "display_name": "\u0418\u043b\u044c\u0444 \u041f\u0435\u0442\u0440\u043e\u0432", "link": "https://stackoverflow.com/users/9598796/%d0%98%d0%bb%d1%8c%d1%84-%d0%9f%d0%b5%d1%82%d1%80%d0%be%d0%b2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560983711, "creation_date": 1560983711, "question_id": 56676742, "link": "https://stackoverflow.com/questions/56676742/add-function-to-createelement", "title": "Add function to createElement", "body": "<p>I study react and now I try to solve the problem, but I don\u2019t know how to do it, I will make a function that opens the giftbox, made a function that makes confit, they work separately from each other, and I don\u2019t get a candy when I open the box</p>\n\n<pre><code>var cGiftBox = function (_a) {\n  var wasOpen = _a.wasOpen,open = _a.open,dispatch = _a.dispatch;\n  return React.createElement(\"div\", { className: \"floor\" },\n  React.createElement(\"div\", { className: \"box\" },\n  open ?\n  React.createElement(\"button\", { className: \"heart-gift\", }, \"hello\") :\n  React.createElement(React.Fragment, null),\n\n  React.createElement(\"div\", { className: open ?\n    'lid open' :\n    wasOpen ?\n    'lid close' :\n    'lid', onClick: function (e) {return dispatch(toggleBox());} },\n\n  React.createElement(\"div\", { className: \"qcube\" }, open ? '!' : '?'),\n  React.createElement(\"div\", { className: \"face ltop\" }),\n  React.createElement(\"div\", { className: \"face lleft\" }),\n  React.createElement(\"div\", { className: \"face lright\" })),\n  React.createElement(\"div\", { className: \"face top\" }),\n  React.createElement(\"div\", { className: \"face left\" }),\n  React.createElement(\"div\", { className: \"face right\" })\n));\n};\n\n// run confetti\nfunction emit() {\n  var container = document.getElementById(\"confetti-container\");\n  var containerRect = container.getBoundingClientRect();\n  var containerData = {\n    x: containerRect.left,\n    y: containerRect.top,\n    height: containerRect.right - containerRect.left,\n    width: containerRect.bottom - containerRect.top };\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "algorithm", "object", "ecmascript-6"], "comments": [{"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1560983804, "post_id": 56676725, "comment_id": 99920465, "body": "Looks like homework. He posted a similar question not too long ago. SOF is not a homework solution tool"}, {"owner": {"reputation": 762, "user_id": 7583514, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/LHYzB.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/7583514/anthony"}, "reply_to_user": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1560983897, "post_id": 56676725, "comment_id": 99920478, "body": "@mwilson I have my solution posted in the question. I&#39;m trying to get better to see what&#39;s out there. Thank you for your comprehension."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1560984329, "post_id": 56676725, "comment_id": 99920570, "body": "Make an array of numbers from <code>0</code> to <code>participants.length-1</code>. Shuffle the array, take the first 5 elements, and use those as indexes to change <code>is_winner</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1560984400, "post_id": 56676725, "comment_id": 99920584, "body": "<code>winners.includes()</code> is O(n), so your whole algorithm is O(n^2). Use a <code>Set</code> instead of an array to solve this."}], "answers": [{"tags": [], "owner": {"reputation": 762, "user_id": 7583514, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/LHYzB.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/7583514/anthony"}, "is_accepted": false, "score": 0, "last_activity_date": 1560987181, "creation_date": 1560987181, "answer_id": 56677184, "question_id": 56676725, "link": "https://stackoverflow.com/questions/56676725/set-key-of-random-objects-to-a-different-value/56677184#56677184", "title": "Set key of random objects to a different value", "body": "<pre><code>// Found a nice way to shuffle in this SOF post https://stackoverflow.com/questions/6274339/how-can-i-shuffle-an-array\nconst shuffle = (array) =&gt; {\n    for (let i = array.length - 1; i &gt; 0; i--) {\n        let j = Math.floor(Math.random() * (i + 1));\n        [array[i], array[j]] = [array[j], array[i]];\n    }\n    return array\n};\n\n// Selects random participants and set their is_winner key to true.\nconst setRandomWinners = (numberOfWinners) =&gt; {\n    const arr = [...Array(participants.length).keys()];\n    const shuffledArr = shuffle(arr);\n    const newArr = shuffledArr.slice(0, numberOfWinners);\n\n    for (let el of newArr) {\n        participants[el].is_winner = true;\n    }\n};\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": true, "score": 1, "last_activity_date": 1561009409, "last_edit_date": 1561009409, "creation_date": 1561002344, "answer_id": 56678681, "question_id": 56676725, "link": "https://stackoverflow.com/questions/56676725/set-key-of-random-objects-to-a-different-value/56678681#56678681", "title": "Set key of random objects to a different value", "body": "<p>You can also consider doing this with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\" rel=\"nofollow noreferrer\">Set</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">Array.forEach</a> like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const participants = [ {code: '111111', is_winner: false}, {code: '222222', is_winner: false}, {code: '444444', is_winner: false}, {code: '777777', is_winner: false}, {code: '555555', is_winner: false}, {code: '666666', is_winner: false}, {code: '333333', is_winner: false}, {code: '888888', is_winner: false}, {code: '999999', is_winner: false}, ];\r\n\r\nlet randomize = (arr, n=5, clone=true) =&gt; {\r\n  let set = new Set(), _arr = arr\r\n  if(clone) _arr = arr.map(x =&gt; ({...x})) // skip if you want to mutate\r\n  while(set.size &lt; n) set.add(Math.floor(Math.random() * participants.length))\r\n  Array.from(set).forEach(x =&gt; _arr[x].is_winner = true)\r\n  return _arr\r\n}\r\n\r\nconsole.log(randomize(participants))\r\nconsole.log(randomize(participants, 3))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The <code>Set</code> and the <code>while</code> takes care of generating an array of the random numbers (in your case array indexes). Once you have that then you simply set the <code>is_winner</code> to <code>true</code> via the <code>Array.forEach</code>.</p>\n\n<p>Since it is preferable for the functions to not mutate the input I added the <code>clone</code> flag but if you do not care about that you can remove it and also the <code>if(clone)</code> line which just create a clone of the array.</p>\n"}], "owner": {"reputation": 762, "user_id": 7583514, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/LHYzB.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/7583514/anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 56678681, "answer_count": 2, "score": -3, "last_activity_date": 1561009409, "creation_date": 1560983627, "last_edit_date": 1560984480, "question_id": 56676725, "link": "https://stackoverflow.com/questions/56676725/set-key-of-random-objects-to-a-different-value", "title": "Set key of random objects to a different value", "body": "<p>I'm given an input = 5.</p>\n\n<p>I want to set the is_winner key to true of 5 random objects in this array.</p>\n\n<pre><code>const participants = [\n    {code: '111111', is_winner: false},\n    {code: '222222', is_winner: false},\n    {code: '444444', is_winner: false},\n    {code: '777777', is_winner: false},\n    {code: '555555', is_winner: false},\n    {code: '666666', is_winner: false},\n    {code: '333333', is_winner: false},\n    {code: '888888', is_winner: false},\n    {code: '999999', is_winner: false},\n];\n</code></pre>\n\n<p>First randomization:</p>\n\n<pre><code>const participants = [\n    {code: '111111', is_winner: false},\n    {code: '222222', is_winner: true},\n    {code: '444444', is_winner: false},\n    {code: '777777', is_winner: true},\n    {code: '555555', is_winner: false},\n    {code: '666666', is_winner: true},\n    {code: '333333', is_winner: true},\n    {code: '888888', is_winner: false},\n    {code: '999999', is_winner: true},\n];\n</code></pre>\n\n<p>I tried the following which has 2 for loops, and one of them is an O(n^2)</p>\n\n<pre><code>const winners = [];\n\nwhile (winners.length &lt; 5) {\n    const randomParticipant = participants[Math.floor(Math.random() * participants.length)];\n\n    if (!winners.includes(randomParticipant.code)) {\n        winners.push(randomParticipant.code);\n    }\n}\n\nfor (let participant of participants) {\n    if (winners.includes(participant.code)) {\n        participant.is_winner = true;\n    }\n}\n</code></pre>\n\n<p>Looking to see if there is something more efficient.</p>\n"}, {"tags": ["javascript", "api", "pushbullet"], "comments": [{"owner": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1560984315, "post_id": 56676723, "comment_id": 99920565, "body": "I think it may be something with the way my Header is sending? That&#39;s an un-educated guess however. But thats what my gut says"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1560993085, "post_id": 56677192, "comment_id": 99922173, "body": "Unfortunately it did the same thing.  Thank you for the suggestion. I am open to any and all other ideas too!!"}, {"owner": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561057167, "post_id": 56677192, "comment_id": 99949903, "body": "Updated code to reflect Gabriel Lopes advice. Still does the same thing unfortunately."}, {"owner": {"reputation": 179, "user_id": 6050459, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--kNUg1KwYFs/AAAAAAAAAAI/AAAAAAAAcCo/6UqHmZc4C5s/photo.jpg?sz=128", "display_name": "Gabriel Lopes", "link": "https://stackoverflow.com/users/6050459/gabriel-lopes"}, "reply_to_user": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561057617, "post_id": 56677192, "comment_id": 99950075, "body": "you have unclosed braces     return fetch(&quot;<a href=\"https://api.pushbullet.comm/v2/users/me\" rel=\"nofollow noreferrer\">api.pushbullet.comm/v2/users/me</a>&quot;, {     headers: {       &quot;Access-Token&quot;: atoken,       &quot;Content-Type&quot;: &quot;application/json&quot;     }   } }"}, {"owner": {"reputation": 179, "user_id": 6050459, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--kNUg1KwYFs/AAAAAAAAAAI/AAAAAAAAcCo/6UqHmZc4C5s/photo.jpg?sz=128", "display_name": "Gabriel Lopes", "link": "https://stackoverflow.com/users/6050459/gabriel-lopes"}, "reply_to_user": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561057662, "post_id": 56677192, "comment_id": 99950093, "body": "When you log atoken before return, it&#39;s undefined or what?"}, {"owner": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561063074, "post_id": 56677192, "comment_id": 99952310, "body": "Weird, the brackets are closed in the code but didn&#39;t paste to here for some reason. I also tried removing the [0] as I don&#39;t believe the fetch brings back an array. It should return User Info in json format.  I&#39;ll report the updated code.  Also, atoken comes from the user input in a text element id #sendToken"}, {"owner": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561063982, "post_id": 56677192, "comment_id": 99952647, "body": "I guess the main problem to solve is how do I get what is returned from the fetch, which is the User Info, displayed in textbox element id #result. I&#39;m unsure how to properly code the console stuff to take and display to an element"}, {"owner": {"reputation": 179, "user_id": 6050459, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--kNUg1KwYFs/AAAAAAAAAAI/AAAAAAAAcCo/6UqHmZc4C5s/photo.jpg?sz=128", "display_name": "Gabriel Lopes", "link": "https://stackoverflow.com/users/6050459/gabriel-lopes"}, "reply_to_user": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561065547, "post_id": 56677192, "comment_id": 99953192, "body": "it seems that you&#39;re returns a function, try to fetch and return response, inside of then. Like this.  Fetch(URL, { Header {   Access-token: atoken }} .then(response =&gt; return response.json())"}, {"owner": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561066565, "post_id": 56677192, "comment_id": 99953564, "body": "I plugged this code in (with the correct header) and I get Parsing error: Unexpected token {"}, {"owner": {"reputation": 179, "user_id": 6050459, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--kNUg1KwYFs/AAAAAAAAAAI/AAAAAAAAcCo/6UqHmZc4C5s/photo.jpg?sz=128", "display_name": "Gabriel Lopes", "link": "https://stackoverflow.com/users/6050459/gabriel-lopes"}, "reply_to_user": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561067302, "post_id": 56677192, "comment_id": 99953790, "body": "I think i made a mistake, the correct code is   <a href=\"https://jsfiddle.net/biutas/qL6y149g/1\" rel=\"nofollow noreferrer\">jsfiddle.net/biutas/qL6y149g/1</a>"}, {"owner": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561068256, "post_id": 56677192, "comment_id": 99954081, "body": "Ok great! I think we&#39;re making progress... no error codes. But it still doesn&#39;t display anything except the placeholder text in my #result textbox. Could you take another glance at my front end code to see if it meshes well with the new backend code?"}, {"owner": {"reputation": 179, "user_id": 6050459, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--kNUg1KwYFs/AAAAAAAAAAI/AAAAAAAAcCo/6UqHmZc4C5s/photo.jpg?sz=128", "display_name": "Gabriel Lopes", "link": "https://stackoverflow.com/users/6050459/gabriel-lopes"}, "reply_to_user": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561070088, "post_id": 56677192, "comment_id": 99954517, "body": "Yeah, sure, inside the getUserInfo then, usInfo receive the response as JSON, so you you have to set input value as usInfo.name, for example.   In Jquery you do like this  $(&quot;#result&quot;).val(usInfo.name);   I don&#39;t know the $w function, but probably is the same."}, {"owner": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561077160, "post_id": 56677192, "comment_id": 99955950, "body": "not sure if I put it in correctly... ``` import {getUserInfo} from &#39;backend/getuser&#39;;  export function button1_click(event, $w) {     console.log(&quot;Retrieving information for &quot; + $w(&quot;#sendToken&quot;).value);    getUserInfo($w(&quot;#sendToken&quot;).value)     .then(usInfo =&gt; {       ($w(&quot;#result&quot;).value(usInfo.name))                }); } ``` I get an error warning that says &quot;&quot;value&#39; does not exist on &#39;#result&#39;&quot; I get a Wix Help Message over UserInfo that says &quot;usInfo: wix_users.User.UserRole An object returned by the getRoles() function representing a user&#39;s roles.&quot;"}, {"owner": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561085720, "post_id": 56677192, "comment_id": 99957357, "body": "Gabriel Lopes, I put in: ``` import {getUserInfo} from &#39;backend/getuser&#39;;     export function button1_click(event, $w) {   console.log(&quot;Retrieving information for &quot; + $w(&quot;#sendToken&quot;).value);    \tgetUserInfo($w(&quot;#sendToken&quot;).value)   \t.then(usInfo =&gt; {import {getUserInfo} from &#39;backend/getuser&#39;;     export function button1_click(event, $w) {   console.log(&quot;Retrieving information for &quot; + $w(&quot;#sendToken&quot;).value);   \tgetUserInfo($w(&quot;#sendToken&quot;).value)   \t.then(usInfo =&gt; {  $w(&quot;#result&quot;).value = usInfo.name;  \t     \t});   } ``` I got error: &#39;value&#39; does not exist on &#39;#result&#39;"}, {"owner": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561091698, "post_id": 56677192, "comment_id": 99958316, "body": "IT WORKS!!!!!!!! YAAAAAAYYYYY!!!! Thank you soooo much Gabriel Lopes!!!! I so appreciate you!!!!!!! This is my first ever code =D I feel like a million bucks - thank you again!!"}, {"owner": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561092129, "post_id": 56677192, "comment_id": 99958400, "body": "I had to do one minor edit to the code you gave, it should&#39;ve been .text vs .value ``` $w(&quot;#result&quot;).text = usInfo.name; ```"}, {"owner": {"reputation": 179, "user_id": 6050459, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--kNUg1KwYFs/AAAAAAAAAAI/AAAAAAAAcCo/6UqHmZc4C5s/photo.jpg?sz=128", "display_name": "Gabriel Lopes", "link": "https://stackoverflow.com/users/6050459/gabriel-lopes"}, "reply_to_user": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561117259, "post_id": 56677192, "comment_id": 99968789, "body": "Awesome! it&#39;s the best feelling, isn&#39;t? I&#39;m curious why you&#39;re using wix library, it&#39;s a wix website?"}, {"owner": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "edited": false, "score": 0, "creation_date": 1561141057, "post_id": 56677192, "comment_id": 99980482, "body": "It indeed is! Now to learn more! Wix is a website builder like WordPress and the like."}], "tags": [], "owner": {"reputation": 179, "user_id": 6050459, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--kNUg1KwYFs/AAAAAAAAAAI/AAAAAAAAcCo/6UqHmZc4C5s/photo.jpg?sz=128", "display_name": "Gabriel Lopes", "link": "https://stackoverflow.com/users/6050459/gabriel-lopes"}, "is_accepted": true, "score": 1, "last_activity_date": 1560987258, "creation_date": 1560987258, "answer_id": 56677192, "question_id": 56676723, "link": "https://stackoverflow.com/questions/56676723/javascript101-help-api-stuck/56677192#56677192", "title": "Javascript101 help | API | stuck", "body": "<p>your Access-Token value is double quoted, try without.</p>\n"}], "owner": {"reputation": 3, "user_id": 11672935, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-9O6K-ljMEfI/AAAAAAAAAAI/AAAAAAAAO94/SgRRqSX_9T0/photo.jpg?sz=128", "display_name": "newbie_wannabe", "link": "https://stackoverflow.com/users/11672935/newbie-wannabe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 1, "accepted_answer_id": 56677192, "answer_count": 1, "score": 0, "last_activity_date": 1561063632, "creation_date": 1560983595, "last_edit_date": 1561063632, "question_id": 56676723, "link": "https://stackoverflow.com/questions/56676723/javascript101-help-api-stuck", "title": "Javascript101 help | API | stuck", "body": "<p>Per Pushbullet API doc I need: Header as: 'Access-Token: o.I'veLearnedNotToPost' 'Content-Type\": \"application/json' Url is <a href=\"https://api.pushbullet.com/v2/users/me\" rel=\"nofollow noreferrer\">https://api.pushbullet.com/v2/users/me</a></p>\n\n<p>Problem with my code (don't laugh too hard) is that it only returns \"Retrieving information for o.I'veLearnedNotToPost\"</p>\n\n<p>Front end code needs to take token from user input text element and put it in backend code (getuser.jsw) to fetch User Info. But the issue is that it's not - nothing except the placeholder text appears in the textbox element (id #result)</p>\n\n<p>Side note: $w is Wix's write to element</p>\n\n<pre><code>// FRONT END CODE\nimport {getUserInfo} from 'backend/getuser';\n\nexport function button1_click(event, $w) {\n    console.log(\"Retrieving information for \" + $w(\"#sendToken\").value);\n\n  getUserInfo($w(\"#sendToken\").value)\n    .then(usInfo =&gt; {\n      ($w(\"#result\").text) \n              });\n}\n</code></pre>\n\n<pre><code>//BACKEND CODE\nimport {fetch} from 'wix-fetch';\n\n\nexport function getUserInfo(token) {\n    let atoken = token;\n    let url = \"https://api.pushbullet.com/v2/users/me\";\n      console.log(\"Retrieving information for  \" + atoken);\n\n\n   return fetch(\"https://api.pushbullet.comm/v2/users/me\", {\n  headers: {\n    \"Access-Token\": atoken,\n    \"Content-Type\": \"application/json\"\n  }\n\n  .then(response =&gt; response.json())\n})}\n</code></pre>\n\n<p>Thanks in advance for your help!\nGreatly appreciated!\n-Malc</p>\n"}, {"tags": ["javascript", "react-native"], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 10718641, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ee2ea1a39fae737a8f030e26bc322c2?s=128&d=identicon&r=PG&f=1", "display_name": "Abe", "link": "https://stackoverflow.com/users/10718641/abe"}, "is_accepted": false, "score": 0, "last_activity_date": 1560983981, "creation_date": 1560983981, "answer_id": 56676785, "question_id": 56676721, "link": "https://stackoverflow.com/questions/56676721/how-to-setstate-after-a-loop-of-async-functions/56676785#56676785", "title": "How to setState after a loop of async functions", "body": "<p>Try using the <code>async</code>/<code>await</code> pattern as follows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>async componentDidMount() {\n...\n    Object.keys(this.props.profile.profile.matches).map((username) =&gt; {\n    ...\n      await fetch(url, {\n      ...\n</code></pre>\n\n<p>then move your <code>setState</code> method into its own callback, which you can call in your <code>.then()</code> statements following your <code>fetch</code>.</p>\n\n<p>I like this reference: <a href=\"https://alligator.io/js/async-functions/\" rel=\"nofollow noreferrer\">https://alligator.io/js/async-functions/</a></p>\n"}, {"tags": [], "owner": {"reputation": 487, "user_id": 6424295, "user_type": "registered", "accept_rate": 67, "profile_image": "https://lh5.googleusercontent.com/-JjoTIlRsO34/AAAAAAAAAAI/AAAAAAAAAOE/5Pw5-gyOjvM/photo.jpg?sz=128", "display_name": "Emilio Venegas", "link": "https://stackoverflow.com/users/6424295/emilio-venegas"}, "is_accepted": true, "score": 2, "last_activity_date": 1560984452, "creation_date": 1560984452, "answer_id": 56676844, "question_id": 56676721, "link": "https://stackoverflow.com/questions/56676721/how-to-setstate-after-a-loop-of-async-functions/56676844#56676844", "title": "How to setState after a loop of async functions", "body": "<p>You could return each promise inside the <code>.map()</code> function, which would leave you with an array of promises. Once you have that, you can use <code>Promise.all()</code> to wait for all the promises in the array to resolve.</p>\n\n<pre><code>componentDidMount() {\n    console.log('MatchesScreen init props: ', Object.keys(this.props))\n\n    // Put all promises into an array\n    const promisesArray = Object.keys(this.props.profile.profile.matches).map((username) =&gt; {\n        console.log('match', username)\n        url = 'https://xxxxxxx.execute-api.us-west-2.amazonaws.com/prod/profile?username=' + username;\n        // Return each promise\n        return fetch(url, {\n                method: 'GET',\n            })\n            .then((response) =&gt; response.json())\n            .then((responseJson) =&gt; {\n                this.props.addMatch(responseJson)\n            })\n            .catch((error) =&gt;{\n                console.error(error);\n            });\n    });\n\n    // Wait for all promises in array to resolve\n    Promise.all(promisesArray)\n        .then(() =&gt; {\n            // This will execute once all promises have resolved\n            this.setState({\n                isLoading: false,\n            });\n        })\n        .catch(e =&gt; console.error(e));\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 892, "user_id": 5563191, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-CrAy7v9_zUY/AAAAAAAAAAI/AAAAAAAADBk/5h-RKBXG21g/photo.jpg?sz=128", "display_name": "Raymond Mutyaba", "link": "https://stackoverflow.com/users/5563191/raymond-mutyaba"}, "is_accepted": false, "score": 0, "last_activity_date": 1560988573, "creation_date": 1560988573, "answer_id": 56677325, "question_id": 56676721, "link": "https://stackoverflow.com/questions/56676721/how-to-setstate-after-a-loop-of-async-functions/56677325#56677325", "title": "How to setState after a loop of async functions", "body": "<p>Try wrapping the <code>Object.keys()</code> in a while loop with an if statement at the end.</p>\n\n<pre><code>var profilesMatched = 0;\nwhile(profilesMatched &lt; Object.keys(this.props.profile.profile.matches).length){\n    Object.keys(this.props.profile.profile.matches).map((username) =&gt; {\n      console.log('match', username)\n      url = 'https://xxxxxxx.execute-api.us-west-2.amazonaws.com/prod/profile?username=' + username\n      fetch(url, { method: 'GET', })\n      .then((response) =&gt; {response.json()})\n      .then((responseJson) =&gt; {\n        this.props.addMatch(responseJson);\n        profilesMatched++;\n      })\n      .catch((error) =&gt; {\n        console.error(error);\n      });\n    });\n    if(profilesMatched == Object.keys(this.props.profile.profile.matches).length){\n        this.setState({\n          isLoading: false,\n        })\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1048, "user_id": 2752129, "user_type": "registered", "accept_rate": 47, "profile_image": "https://graph.facebook.com/504648913/picture?type=large", "display_name": "Matt Takao", "link": "https://stackoverflow.com/users/2752129/matt-takao"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 345, "favorite_count": 0, "accepted_answer_id": 56676844, "answer_count": 3, "score": 1, "last_activity_date": 1560988573, "creation_date": 1560983586, "question_id": 56676721, "link": "https://stackoverflow.com/questions/56676721/how-to-setstate-after-a-loop-of-async-functions", "title": "How to setState after a loop of async functions", "body": "<p>The closest answer I could find was this, which didn't help since I need to setState: <a href=\"https://stackoverflow.com/questions/49225897/how-do-i-run-a-function-after-using-array-map\">How do I run a function after using array.map?</a></p>\n\n<p>I think the answer should be simple, but I'm pretty new to Javascript. I'm trying to move the setState for <code>isLoading</code> to AFTER I've pulled all of the profiles.</p>\n\n<pre><code>componentDidMount() {\n    console.log('MatchesScreen init props: ', Object.keys(this.props))\n\n    Object.keys(this.props.profile.profile.matches).map((username) =&gt; {\n      console.log('match', username)\n      url = 'https://xxxxxxx.execute-api.us-west-2.amazonaws.com/prod/profile?username=' + username\n      fetch(url, {\n        method: 'GET',\n      })\n      .then((response) =&gt; response.json())\n      .then((responseJson) =&gt; {\n        this.setState({\n          isLoading: false,\n        })\n        this.props.addMatch(responseJson)\n      })\n      .catch((error) =&gt;{\n        console.error(error);\n      })\n    })\n  }\n</code></pre>\n\n<p>I've tried various things like appending a <code>.then()</code> to the map function, but so far no luck. </p>\n"}, {"tags": ["javascript", "html", "mouseevent", "anchor"], "comments": [{"owner": {"reputation": 14088, "user_id": 4642212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f858afc6f98f72ca7d617da224a28db7?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Simon", "link": "https://stackoverflow.com/users/4642212/sebastian-simon"}, "edited": false, "score": 0, "creation_date": 1560983668, "post_id": 56676705, "comment_id": 99920436, "body": "Please <a href=\"https://stackoverflow.com/posts/56676705/edit\">edit</a> your question and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. That\u2019s not how <code>mouseenter</code> behaves."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560985392, "post_id": 56676705, "comment_id": 99920788, "body": "I don&#39;t understand why the event is firing multiple times. It should only fire when the mouse first moves into the anchor. Moving the mouse inside the anchor shouldn&#39;t fire it again."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 11257089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751436b59ab775de420325750deeb1c4?s=128&d=identicon&r=PG&f=1", "display_name": "cdxJava", "link": "https://stackoverflow.com/users/11257089/cdxjava"}, "edited": false, "score": 0, "creation_date": 1560986054, "post_id": 56677022, "comment_id": 99920927, "body": "Hey, thanks for the answer - please see the example here <a href=\"https://www.vtxfactory.org\" rel=\"nofollow noreferrer\">vtxfactory.org</a> - if you hover over the &quot;Main Hub&quot; and &quot;Projects&quot; buttons, it will randomize the characters (that is the moment when and if you move the mouse inside the element the sound will repeat)"}, {"owner": {"reputation": 27, "user_id": 11257089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751436b59ab775de420325750deeb1c4?s=128&d=identicon&r=PG&f=1", "display_name": "cdxJava", "link": "https://stackoverflow.com/users/11257089/cdxjava"}, "edited": false, "score": 0, "creation_date": 1560986176, "post_id": 56677022, "comment_id": 99920954, "body": "I understand why the sound plays continuosly, because the element is being updated with the new characters information - is there a way to:  &gt; play the sound on mouseenter &gt; wait that the randomizer finishes &gt; play the sound again"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 27, "user_id": 11257089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751436b59ab775de420325750deeb1c4?s=128&d=identicon&r=PG&f=1", "display_name": "cdxJava", "link": "https://stackoverflow.com/users/11257089/cdxjava"}, "edited": false, "score": 0, "creation_date": 1560986351, "post_id": 56677022, "comment_id": 99920988, "body": "You should probably attach the mouseenter event to the box, which doesn&#39;t move, rather than the text inside it that moves around."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 27, "user_id": 11257089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751436b59ab775de420325750deeb1c4?s=128&d=identicon&r=PG&f=1", "display_name": "cdxJava", "link": "https://stackoverflow.com/users/11257089/cdxjava"}, "edited": false, "score": 0, "creation_date": 1560986397, "post_id": 56677022, "comment_id": 99920992, "body": "Also, you should fix the fact that the size of the button flickers while it&#39;s randomizing."}, {"owner": {"reputation": 27, "user_id": 11257089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751436b59ab775de420325750deeb1c4?s=128&d=identicon&r=PG&f=1", "display_name": "cdxJava", "link": "https://stackoverflow.com/users/11257089/cdxjava"}, "edited": false, "score": 0, "creation_date": 1560986429, "post_id": 56677022, "comment_id": 99920999, "body": "I tried attaching the mouseenter event to the parent element but it still does the same thing"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 27, "user_id": 11257089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751436b59ab775de420325750deeb1c4?s=128&d=identicon&r=PG&f=1", "display_name": "cdxJava", "link": "https://stackoverflow.com/users/11257089/cdxjava"}, "edited": false, "score": 0, "creation_date": 1560986441, "post_id": 56677022, "comment_id": 99921001, "body": "I don&#39;t hear any sound on that site."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 27, "user_id": 11257089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751436b59ab775de420325750deeb1c4?s=128&d=identicon&r=PG&f=1", "display_name": "cdxJava", "link": "https://stackoverflow.com/users/11257089/cdxjava"}, "edited": false, "score": 0, "creation_date": 1560986554, "post_id": 56677022, "comment_id": 99921020, "body": "Funny, when I opened DevTools the sound started playing."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 27, "user_id": 11257089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751436b59ab775de420325750deeb1c4?s=128&d=identicon&r=PG&f=1", "display_name": "cdxJava", "link": "https://stackoverflow.com/users/11257089/cdxjava"}, "edited": false, "score": 0, "creation_date": 1560987009, "post_id": 56677022, "comment_id": 99921118, "body": "You need to update the question to include the animation code, since that&#39;s an important part of the problem. Basically, you need to move the <code>audioPlaying = false;</code> to the function that detects the end of the animation. Maybe something like <code>fx.setText(...).then(() =&gt; audioPlaying = false)</code>"}, {"owner": {"reputation": 27, "user_id": 11257089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751436b59ab775de420325750deeb1c4?s=128&d=identicon&r=PG&f=1", "display_name": "cdxJava", "link": "https://stackoverflow.com/users/11257089/cdxjava"}, "edited": false, "score": 0, "creation_date": 1560987416, "post_id": 56677022, "comment_id": 99921220, "body": "hey I&#39;ve added the animation code and config on my post. I have this <code>fx.setText(phrases[counter]).then(() =&gt; {             };</code>"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1560987940, "last_edit_date": 1560987940, "creation_date": 1560985806, "answer_id": 56677022, "question_id": 56676705, "link": "https://stackoverflow.com/questions/56676705/run-function-only-once-until-onmouseout/56677022#56677022", "title": "Run function only once until onmouseout", "body": "<p>Set a variable when you start playing the audio, and check for this before playing it again. Have the animation unset the variable when it's done.</p>\n\n<pre><code>function audioPlaying = false;\nfunction playAudio() {\n    if (!audioPlaying) {\n        audioPlaying = true;\n        audioEl.play();\n    }\n}\n\nconst next = () =&gt; {\n  fx.setText(phrases[counter]).then(() =&gt; {\n    audioPlaying = false;\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 11257089, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/751436b59ab775de420325750deeb1c4?s=128&d=identicon&r=PG&f=1", "display_name": "cdxJava", "link": "https://stackoverflow.com/users/11257089/cdxjava"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 56677022, "answer_count": 1, "score": 0, "last_activity_date": 1560987940, "creation_date": 1560983488, "last_edit_date": 1560987676, "question_id": 56676705, "link": "https://stackoverflow.com/questions/56676705/run-function-only-once-until-onmouseout", "title": "Run function only once until onmouseout", "body": "<p>I have an anchor tag that plays a sound everytime the link is hovered:</p>\n\n<pre><code>&lt;a onmouseenter=\"playAudio();\"&gt;LINK&lt;/a&gt;\n</code></pre>\n\n<p>However, when hovered, the link creates some characters that, if I keep moving the mouse inside the element, it keeps playing the sound over and over again.</p>\n\n<p>Is there a way to play the <code>onmouseenter</code> function only once until it has detected the event <code>onmouseout</code>?</p>\n\n<p>I've tried adding:</p>\n\n<pre><code>&lt;a onmouseenter=\"playAudio();this.onmouseenter = null;\"&gt;LINK&lt;/a&gt;\n</code></pre>\n\n<p>but then it only plays the sound once.</p>\n\n<p>Here goes the TextScramble animation function:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\r\n// TextScramble\r\n// \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\r\n\r\nclass TextScramble {\r\n  constructor(el) {\r\n    this.el = el\r\n    this.chars = '!&lt;&gt;-_\\\\/[]{}\u2014=+*^?#________'\r\n    this.update = this.update.bind(this)\r\n  }\r\n  setText(newText) {\r\n    const oldText = this.el.innerText\r\n    const length = Math.max(oldText.length, newText.length)\r\n    const promise = new Promise((resolve) =&gt; this.resolve = resolve)\r\n    this.queue = []\r\n    for (let i = 0; i &lt; length; i++) {\r\n      const from = oldText[i] || ''\r\n      const to = newText[i] || ''\r\n      const start = Math.floor(Math.random() * 40)\r\n      const end = start + Math.floor(Math.random() * 40)\r\n      this.queue.push({\r\n        from,\r\n        to,\r\n        start,\r\n        end\r\n      })\r\n    }\r\n    cancelAnimationFrame(this.frameRequest)\r\n    this.frame = 0\r\n    this.update()\r\n    return promise\r\n  }\r\n  update() {\r\n    let output = ''\r\n    let complete = 0\r\n    for (let i = 0, n = this.queue.length; i &lt; n; i++) {\r\n      let {\r\n        from,\r\n        to,\r\n        start,\r\n        end,\r\n        char\r\n      } = this.queue[i]\r\n      if (this.frame &gt;= end) {\r\n        complete++\r\n        output += to\r\n      } else if (this.frame &gt;= start) {\r\n        if (!char || Math.random() &lt; 0.28) {\r\n          char = this.randomChar()\r\n          this.queue[i].char = char\r\n        }\r\n        output += `&lt;span class=\"dud\"&gt;${char}&lt;/span&gt;`\r\n      } else {\r\n        output += from\r\n      }\r\n    }\r\n    this.el.innerHTML = output\r\n    if (complete === this.queue.length) {\r\n      this.resolve()\r\n    } else {\r\n      this.frameRequest = requestAnimationFrame(this.update)\r\n      this.frame++\r\n    }\r\n  }\r\n  randomChar() {\r\n    return this.chars[Math.floor(Math.random() * this.chars.length)]\r\n  }\r\n}\r\n\r\n// \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\r\n// Configuration\r\n// \u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\u2014\r\n\r\nconst phrases = [\r\n  'MAIN_HUB'\r\n]\r\n\r\nconst el = document.querySelector('.link_mainhub')\r\nconst fx = new TextScramble(el)\r\n\r\nlet counter = 0\r\nconst next = () =&gt; {\r\n  fx.setText(phrases[counter]).then(() =&gt; {});\r\n}\r\n\r\nel.addEventListener('mouseenter', next);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;a class=\"link_mainhub\" onmouseenter=\"playAudio();\"&gt;LINK&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "reactjs", "mapbox", "geojson", "gtfs"], "comments": [{"owner": {"reputation": 13, "user_id": 11650187, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6NSfw424mok/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd38MJCswkYEmiRO2YIL4mzZ8jbmg/mo/photo.jpg?sz=128", "display_name": "Aidan Paetsch", "link": "https://stackoverflow.com/users/11650187/aidan-paetsch"}, "edited": false, "score": 0, "creation_date": 1560983465, "post_id": 56676698, "comment_id": 99920389, "body": "No Errors result from this code and the geojson data i have is indeed populated, I have tried adding in singular points inside the geojson tag but with no luck"}], "owner": {"reputation": 13, "user_id": 11650187, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6NSfw424mok/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd38MJCswkYEmiRO2YIL4mzZ8jbmg/mo/photo.jpg?sz=128", "display_name": "Aidan Paetsch", "link": "https://stackoverflow.com/users/11650187/aidan-paetsch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560983426, "creation_date": 1560983426, "question_id": 56676698, "link": "https://stackoverflow.com/questions/56676698/adding-a-geojsonlayer-for-react", "title": "Adding a geojsonlayer for react", "body": "<p>I have some geojson data that I have created from a gtfs realtime feed, I am trying to add it to a mapbox map. My Map currently displays fine and I can get it to render markers, however I am having issues with rendering geojson data. </p>\n\n<pre><code>&lt;div&gt;\n     &lt;Map\n         style=\"mapbox://styles/.../cjw2k3na404qn1csfznqo90z7\"\n         containerStyle={{ width: '85vw', height: '90vh'}}\n         center={this.props.center}&gt;\n                &lt;GeoJSONLayer ...../&gt; \n     &lt;/Map&gt;\n</code></pre>\n\n<p></p>\n\n<p>I do not know what should be entered in the <code>&lt;GeoJSONLayer /&gt;</code> tag which is being imported as <code>import { GeoJSONLayer, ... , ... } from \"react-mapbox-gl\"</code>.</p>\n"}, {"tags": ["javascript", "function", "default-parameters"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1560983358, "post_id": 56676677, "comment_id": 99920377, "body": "The only thing you can do is leave off parameters at the end of the list; you can&#39;t omit a parameter in the middle. <i>edit</i> or do the object destructuring as suggested."}], "answers": [{"comments": [{"owner": {"reputation": 1214, "user_id": 5736676, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-itVtRH8Skhw/AAAAAAAAAAI/AAAAAAAAAEQ/koU2cfGwI_o/photo.jpg?sz=128", "display_name": "WCMC", "link": "https://stackoverflow.com/users/5736676/wcmc"}, "edited": false, "score": 0, "creation_date": 1560983714, "post_id": 56676685, "comment_id": 99920441, "body": "I love your 1st and 2nd way. Interesting how the javascript can capture the unspecified parameter and find its default value. Though I still do not completely understand the mechanisms here. I just wanted to avoid using the 3rd way especially when there are a lot of parameters (with default values) in the function."}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "reply_to_user": {"reputation": 1214, "user_id": 5736676, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-itVtRH8Skhw/AAAAAAAAAAI/AAAAAAAAAEQ/koU2cfGwI_o/photo.jpg?sz=128", "display_name": "WCMC", "link": "https://stackoverflow.com/users/5736676/wcmc"}, "edited": false, "score": 1, "creation_date": 1560983889, "post_id": 56676685, "comment_id": 99920477, "body": "When there are lots of parameters, having multiple <i>standalone</i> parameters probably isn&#39;t a good idea, because you have to carefully keep in mind which order the parameters are supposed to be in - I&#39;d prefer the object destructuring method regardless, when there are many &quot;parameters&quot;, just for the sake of readability, even without the issue of default values."}, {"owner": {"reputation": 419, "user_id": 3257196, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f709f13863ec9bcfa170d4d5b3326e0b?s=128&d=identicon&r=PG&f=1", "display_name": "CharlesEF", "link": "https://stackoverflow.com/users/3257196/charlesef"}, "edited": false, "score": 0, "creation_date": 1560984792, "post_id": 56676685, "comment_id": 99920663, "body": "Should &#39;foo(99, undefined, 99);&#39; be &#39;foo({99, undefined, 99});&#39;?  Or, since you are using all three parameters you don&#39;t need the {}?"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1560987608, "post_id": 56676685, "comment_id": 99921264, "body": "When the function accepts multiple standalone parameters, you need to pass <code>undefined</code> to fill the &quot;holes&quot; in the parameters. When the function accepts a single object, the (attempted) destructured property will be <code>undefined</code> regardless, so specifying the missing parameters is unnecessary (as you can see by pressing &quot;Run code snippet&quot; in the answer)"}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 3, "last_activity_date": 1560983781, "last_edit_date": 1560983781, "creation_date": 1560983357, "answer_id": 56676685, "question_id": 56676677, "link": "https://stackoverflow.com/questions/56676677/correctly-specify-parameter-values-when-calling-a-function-in-javascript/56676685#56676685", "title": "correctly specify parameter values when calling a function in JavaScript", "body": "<p>I'd pass an object instead, and destructure the arguments:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function foo ({ a=1,b=2,c=3 }){\r\n    console.log(\"your inputs are a:\" +a+\", b:\"+b + \", c:\"+c+\".\")\r\n}\r\n\r\nfoo({ a: 99, c: 99 });</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In case the function may be called without any parameter, assign the default parameter to <code>{}</code> too:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function foo ({ a=1,b=2,c=3 } = {}){\r\n    console.log(\"your inputs are a:\" +a+\", b:\"+b + \", c:\"+c+\".\")\r\n}\r\n\r\nfoo();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can also explicitly pass <code>undefined</code> for missing arguments:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function foo (a=1,b=2,c=3){\r\n    console.log(\"your inputs are a:\" +a+\", b:\"+b + \", c:\"+c+\".\")\r\n}\r\n\r\nfoo(99, undefined, 99);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1214, "user_id": 5736676, "user_type": "registered", "accept_rate": 78, "profile_image": "https://lh3.googleusercontent.com/-itVtRH8Skhw/AAAAAAAAAAI/AAAAAAAAAEQ/koU2cfGwI_o/photo.jpg?sz=128", "display_name": "WCMC", "link": "https://stackoverflow.com/users/5736676/wcmc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 20, "favorite_count": 0, "accepted_answer_id": 56676685, "answer_count": 1, "score": 1, "last_activity_date": 1560983781, "creation_date": 1560983269, "question_id": 56676677, "link": "https://stackoverflow.com/questions/56676677/correctly-specify-parameter-values-when-calling-a-function-in-javascript", "title": "correctly specify parameter values when calling a function in JavaScript", "body": "<p>I have a function <code>foo</code> defined as follows,</p>\n\n<pre><code>foo = function(a=1,b=2,c=3){\n    console.log(\"your inputs are a:\" +a+\", b:\"+b + \", c:\"+c+\".\")\n}\n</code></pre>\n\n<p>How do I use the default value of <code>b</code> and specify <code>a</code> and <code>c</code> only when calling the function?</p>\n\n<p>For example, I would like to return a console log of <code>your inputs are a:3, b:2, c:1.</code> when calling <code>foo(a=3,c=1)</code>.</p>\n\n<p>However, by calling <code>foo(a=3,c=1)</code>, the console log is <code>your inputs are a:3, b:1, c:3.</code>. The JavaScript thinks the <code>c=1</code> should be the value of the second parameter <code>b</code> and the third parameter <code>c</code> is not given and will use its default value of <code>3</code>. In addition, by calling this function, the object of <code>a</code> and <code>c</code> are also created.</p>\n"}, {"tags": ["javascript", "mongodb", "mongoose", "mongoose-schema", "feathersjs"], "answers": [{"comments": [{"owner": {"reputation": 932, "user_id": 4512646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0f839fa180bc135ceae2034c9c0525?s=128&d=identicon&r=PG&f=1", "display_name": "K41F4r", "link": "https://stackoverflow.com/users/4512646/k41f4r"}, "edited": false, "score": 0, "creation_date": 1561028917, "post_id": 56682790, "comment_id": 99934895, "body": "Wouldn&#39;t that disable creating ids for the subdocument? That is not what I&#39;m looking for.  I&#39;m trying to get the array objects (of <code>textArray</code>) to be created with the text property"}, {"owner": {"reputation": 617, "user_id": 4137929, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/tHsOp.jpg?s=128&g=1", "display_name": "Rishabh Garg", "link": "https://stackoverflow.com/users/4137929/rishabh-garg"}, "reply_to_user": {"reputation": 932, "user_id": 4512646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0f839fa180bc135ceae2034c9c0525?s=128&d=identicon&r=PG&f=1", "display_name": "K41F4r", "link": "https://stackoverflow.com/users/4512646/k41f4r"}, "edited": false, "score": 0, "creation_date": 1561032330, "post_id": 56682790, "comment_id": 99936615, "body": "@C493d Your query and push statement looks fine. I created same document in my local MongoDB query is running fine. You can take reference <a href=\"https://stackoverflow.com/questions/30840945/push-item-in-sub-document\" title=\"push item in sub document\">stackoverflow.com/questions/30840945/push-item-in-sub-docume&zwnj;&#8203;nt</a>."}, {"owner": {"reputation": 932, "user_id": 4512646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0f839fa180bc135ceae2034c9c0525?s=128&d=identicon&r=PG&f=1", "display_name": "K41F4r", "link": "https://stackoverflow.com/users/4512646/k41f4r"}, "edited": false, "score": 0, "creation_date": 1561032538, "post_id": 56682790, "comment_id": 99936737, "body": "Thanks, this is why I&#39;m asking since I don&#39;t see why it won&#39;t work. It might be a problem with feathersjs"}], "tags": [], "owner": {"reputation": 617, "user_id": 4137929, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/tHsOp.jpg?s=128&g=1", "display_name": "Rishabh Garg", "link": "https://stackoverflow.com/users/4137929/rishabh-garg"}, "is_accepted": false, "score": 0, "last_activity_date": 1561022353, "creation_date": 1561022353, "answer_id": 56682790, "question_id": 56676661, "link": "https://stackoverflow.com/questions/56676661/push-creates-a-new-object-with-id-only-without-properties-feathsjsmongoose/56682790#56682790", "title": "$push creates a new object with _id only, without properties - feathsjs+mongoose", "body": "<p>Please declare schema like :</p>\n\n<pre><code>const ParentSchema = new Schema({\n    subDocuments: [SubDocumentSchema]\n});\n\nconst SubDocumentSchema = new Schema({ \n     textArray: [\n          {\n              text: { type: String }\n          }\n     ]\n}, { _id: false });\n</code></pre>\n"}], "owner": {"reputation": 932, "user_id": 4512646, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3c0f839fa180bc135ceae2034c9c0525?s=128&d=identicon&r=PG&f=1", "display_name": "K41F4r", "link": "https://stackoverflow.com/users/4512646/k41f4r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561022353, "creation_date": 1560983156, "last_edit_date": 1561021912, "question_id": 56676661, "link": "https://stackoverflow.com/questions/56676661/push-creates-a-new-object-with-id-only-without-properties-feathsjsmongoose", "title": "$push creates a new object with _id only, without properties - feathsjs+mongoose", "body": "<p>I'm trying to insert an object (with one property, text) into an array of a sub-document using $push:</p>\n\n<pre><code>await this.app.service(\"someService\").patch(\n      null,\n      {\n        $push: { \"subDocuments.$.textArray\": { text: \"stuff\" }}\n      },\n      {\n        query: {\n          _id: parentId,\n          \"subDocuments._id\": subDocumentId\n        }\n      }\n    );\n  }\n</code></pre>\n\n<p>The model looks like this:</p>\n\n<pre><code>const ParentSchema = new Schema({\n    subDocuments: [SubDocumentSchema]\n});\n\nconst SubDocumentSchema = new Schema({ \n     textArray: [\n          {\n              text: { type: String }\n          }\n     ]\n});\n\n</code></pre>\n\n<p>The object is created but its an empty object with _id as its only property.\nWhat am I missing?</p>\n"}, {"tags": ["javascript", "jquery", "svg", "fabricjs"], "answers": [{"tags": [], "owner": {"reputation": 135, "user_id": 8410182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ehB1C.jpg?s=128&g=1", "display_name": "kakarot", "link": "https://stackoverflow.com/users/8410182/kakarot"}, "is_accepted": false, "score": 0, "last_activity_date": 1561105407, "creation_date": 1561105407, "answer_id": 56699559, "question_id": 56676584, "link": "https://stackoverflow.com/questions/56676584/apply-spectrum-color-on-the-svg-fabricjs/56699559#56699559", "title": "Apply spectrum color on the SVG (Fabricjs)", "body": "<p>I have solve this problem.i just adjust my code and it solve my problem.</p>\n\n<pre><code>for (var j = 0; j &lt; objlength; j++) {\n      for (var k = 0; k &lt; uniqueColors.length; k++) {\n        var newcol = $(\"#change_color\" + k).val()\n        if (newcol != \"\" &amp;&amp; newcol != uniqueColors[k]) {\n          if (obj._objects[j].fill == uniqueColors[k]) {\n            obj._objects[j].fill = color.toHexString();\n            canvas.renderAll();\n          }\n        }\n      }\n    }\n</code></pre>\n\n<p>here is JS fiddle demo  <a href=\"https://jsfiddle.net/Kakarot_123/Ls7dj2qt/17/\" rel=\"nofollow noreferrer\">JS fiddle</a></p>\n"}], "owner": {"reputation": 135, "user_id": 8410182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ehB1C.jpg?s=128&g=1", "display_name": "kakarot", "link": "https://stackoverflow.com/users/8410182/kakarot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 288, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561105407, "creation_date": 1560982583, "last_edit_date": 1561007697, "question_id": 56676584, "link": "https://stackoverflow.com/questions/56676584/apply-spectrum-color-on-the-svg-fabricjs", "title": "Apply spectrum color on the SVG (Fabricjs)", "body": "<p>I am currently trying to apply colors on all object present in svg by using spectrum color.</p>\n\n<p>First I am storing all unique color of objects in SVG in an array and then displaying in a spectrum which is populated based upon the unique color in the object.</p>\n\n<p>What I want is to change object color when I use spectrum color picker to change color.</p>\n\n<p>The SVG i am using is in this link = <a href=\"http://fabricjs.com//lib/tiger2.svg\" rel=\"nofollow noreferrer\">Tiger SVG that i am currently using in this program</a></p>\n\n<p>Working Demo is here = <a href=\"https://jsfiddle.net/Kakarot_123/Ls7dj2qt/13/\" rel=\"nofollow noreferrer\">JS Fiddle Demo</a></p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;&lt;/title&gt;\n    &lt;link rel=\"stylesheet\"   \n\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\"&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n    &lt;div id=\"allcolor\"&gt;\n\n    &lt;/div&gt;\n\n    &lt;canvas id=\"fabricjs-canvas\"&gt;&lt;/canvas&gt;\n    &lt;button id=\"addcolorsvg\"&gt;Get Color from SVG&lt;/button&gt;\n    &lt;label for=\"addsvg\"&gt;Add SVG&lt;/label&gt;\n    &lt;input type=\"file\" id=\"addsvg\" value=\"Add SVG\"&gt; \n    &lt;/body&gt;\n\n    &lt;script \n    src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt; \n    &lt;/script&gt;\n    &lt;script \n src=\"https://cdnjs.cloudflare.com/ajax/libs/fabric.js/2.7.0/fabric.min.js\"&gt; \n &lt;/script&gt;\n    &lt;script src=\"https://cdn.rawgit.com/bgrins/spectrum/master/spectrum.js\"&gt; \n &lt;/script&gt;\n &lt;link href=\"https://cdn.rawgit.com/bgrins/spectrum/master/spectrum.css\" \n   rel=\"stylesheet\"/&gt;\n    &lt;script type=\"text/javascript\" src=\"script.js\"&gt;&lt;/script&gt;\n    &lt;!--&lt;script type=\"text/javascript\" src=\"ajax.js\"&gt;&lt;/script&gt;--&gt;\n    &lt;/html&gt;\n</code></pre>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>canvas {\n  border: 2px solid black;\n}\n\n#allcolor {\n  background-color: white;\n  border: 1px solid black;\n  width: 150px;\n  float: right;\n  margin-right: 20px;\n  margin-top: 25px;\n  padding: 6px;\n  display: none;\n}\n\n#preview,\n.preview {\n  border: 1px solid black;\n  width: 30px;\n  margin-left: 0px;\n  padding: 6px;\n}\n</code></pre>\n\n<p><strong>Javascript Code</strong></p>\n\n<pre><code>fabric.Object.prototype.objectCaching = false;\nfabric.filterBackend = new fabric.Canvas2dFilterBackend();\nvar canvas = new fabric.Canvas(\"fabricjs-canvas\", {\n  width: 300,\n  height: 300,\n  backgroundColor: \"#ffffff\"\n});\ncanvas.on({\n  'selection:created': function(e) {\n    populate();\n  },\n  'selection:updated': function(e) {\n    populate();\n  },\n  'selection:cleared': function(e) {\n    clearObject();\n  }\n});\n\n$(\"#addsvg\").on(\"change\", function(e) {\n  var url = URL.createObjectURL(e.target.files[0]);\n  fabric.loadSVGFromURL(url, function(objects, options) {\n    var loadedObjects = fabric.util.groupSVGElements(objects, options);\n    loadedObjects.set({\n      left: 150,\n      top: 100\n\n    });\n    loadedObjects.scaleToWidth(150);\n    loadedObjects.scaleToHeight(150);\n    canvas.add(loadedObjects);\n    canvas.getActiveObject(canvas.item(0));\n    canvas.renderAll();\n  });\n});\n$(\"#addcolorsvg\").click(function() {\n  obj = canvas.getActiveObject();\n  var abc = [];\n  var uniqueColors = [];\n\n  var newdiv = \"\";\n  if (obj.type == \"group\") {\n    objlength = canvas.getActiveObject()._objects[\"length\"];\n    for (var i = 0, j = 0; i &lt; objlength; i++) {\n      obj = canvas.getActiveObject()._objects[i].fill;\n      if (obj != \"\") {\n        if ($.inArray(obj, uniqueColors) == -1) {\n          uniqueColors.push(obj);\n\n          newdiv += '&lt;div&gt;&lt;div class=\"preview\" id=\"preview' + j + '\"&gt; \n       &lt;/div&gt;`&lt;label id=\"colorlabel' + j + '\"  value=\"Color no\"' + j + '\" \n      for=\"change_color\"&gt;Color = &lt;/label&gt;' + j + ' &amp;nbsp;&lt;input type=\"text\" \n       class=\"change_color\" id=\"change_color' + j + '\"&gt;&lt;/div&gt;';`\n          j++;\n        }\n      }\n    }\n    $(\"#allcolor\").html(newdiv);\n    $(\".preview\").hide();\n    bindSpectrumDivs(uniqueColors.length);\n  }\n});\n\nfunction bindSpectrumDivs(totalDivs) {\n  obj = canvas.getActiveObject();\n  var uniqueColors = [];\n\n  if (obj.type == \"group\") {\n    objlength = canvas.getActiveObject()._objects.length;\n    for (var i = 0, j = 0; i &lt; objlength; i++) {\n      obj = canvas.getActiveObject()._objects[i].fill;\n      if (obj != \"\") {\n        if ($.inArray(obj, uniqueColors) == -1) {\n          uniqueColors.push(obj);\n          j++;\n        }\n      }\n    }\n  }\n  for (var i = 0; i &lt; uniqueColors.length; i++) {\n    $(\"#change_color\" + i).spectrum({\n      showInput: true,\n      showPalette: true,\n      showSelectionPalette: true,\n      maxSelectionSize: 10,\n      preferredFormat: \"hex\",\n      color: uniqueColors[i],\n      change: function(color) {\n        obj = canvas.getActiveObject();\n\n        objlength = canvas.getActiveObject()._objects.length;\n        for (var j = 0; j &lt; uniqueColors.length; j++) {\n          for (var k = 0; k &lt; objlength; k++) {\n\n            if (obj._objects[k].fill == uniqueColors[j].toLowerCase()) {\n              obj._objects[j].fill = color.toHexString();\n              canvas.renderAll();\n            }\n\n          }\n\n        }\n      },\n      palette: [\n        [\"rgb(0, 0, 0)\", \"rgb(67, 67, 67)\", \"rgb(102, 102, 102)\",\n          \"rgb(204, 204, 204)\", \"rgb(217, 217, 217)\", \"rgb(255, 255, 255)\"\n        ],\n        [\"rgb(152, 0, 0)\", \"rgb(255, 0, 0)\", \"rgb(255, 153, 0)\", \"rgb(255, \n       255, 0)\", \"rgb(0, 255, 0)\",\n          \"rgb(0, 255, 255)\", \"rgb(74, 134, 232)\", \"rgb(0, 0, 255)\", \n    \"rgb(153, 0, 255)\", \"rgb(255, 0, 255)\"\n        ],\n        [\"rgb(230, 184, 175)\", \"rgb(244, 204, 204)\", \"rgb(252, 229, 205)\", \n      \"rgb(255, 242, 204)\", \"rgb(217, 234, 211)\",\n          \"rgb(208, 224, 227)\", \"rgb(201, 218, 248)\", \"rgb(207, 226, 243)\", \n   \"rgb(217, 210, 233)\", \"rgb(234, 209, 220)\",\n          \"rgb(221, 126, 107)\", \"rgb(234, 153, 153)\", \"rgb(249, 203, 156)\", \n \"rgb(255, 229, 153)\", \"rgb(182, 215, 168)\",\n          \"rgb(162, 196, 201)\", \"rgb(164, 194, 244)\", \"rgb(159, 197, 232)\", \n \"rgb(180, 167, 214)\", \"rgb(213, 166, 189)\",\n          \"rgb(204, 65, 37)\", \"rgb(224, 102, 102)\", \"rgb(246, 178, 107)\", \n \"rgb(255, 217, 102)\", \"rgb(147, 196, 125)\",\n          \"rgb(118, 165, 175)\", \"rgb(109, 158, 235)\", \"rgb(111, 168, 220)\", \n\"rgb(142, 124, 195)\", \"rgb(194, 123, 160)\",\n          \"rgb(166, 28, 0)\", \"rgb(204, 0, 0)\", \"rgb(230, 145, 56)\", \n \"rgb(241, 194, 50)\", \"rgb(106, 168, 79)\",\n          \"rgb(69, 129, 142)\", \"rgb(60, 120, 216)\", \"rgb(61, 133, 198)\", \n\"rgb(103, 78, 167)\", \"rgb(166, 77, 121)\",\n          \"rgb(91, 15, 0)\", \"rgb(102, 0, 0)\", \"rgb(120, 63, 4)\", \"rgb(127, \n  96, 0)\", \"rgb(39, 78, 19)\",\n          \"rgb(12, 52, 61)\", \"rgb(28, 69, 135)\", \"rgb(7, 55, 99)\", \"rgb(32, \n   18, 77)\", \"rgb(76, 17, 48)\"\n        ]\n      ]\n    });\n  }\n  canvas.renderAll();\n}\n\nfunction populate() {\n  obj = canvas.getActiveObject();\n  if (obj.type == \"group\") {\n    populateSvgProperty();\n  }\n}\nfunction populateSvgProperty(){\n  $(\"#allcolor\").show();\n}\n\nfunction clearObject() {\n  $(\"#fontstyle\").hide();\n  $(\"#fontstyle\").hide();\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "google-cloud-firestore", "angularfire2"], "comments": [{"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1560984265, "post_id": 56676580, "comment_id": 99920551, "body": "So your collection string looks like it is probably wrong. With Firestore it usually isn\u2019t a path. Try collection(\u2018blogs\u2019) or collection(\u2018Blogs\u2019) and let me know if that changes anything."}, {"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1560985056, "post_id": 56676580, "comment_id": 99920723, "body": "Also valueChanges returns an observable so that would be what is assigned to notes, not notesCollection."}], "owner": {"reputation": 103, "user_id": 10952437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cc748311225ca04a1d44969d6ab3c90?s=128&d=identicon&r=PG&f=1", "display_name": "Dominik", "link": "https://stackoverflow.com/users/10952437/dominik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 122, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560989488, "creation_date": 1560982529, "last_edit_date": 1560989488, "question_id": 56676580, "link": "https://stackoverflow.com/questions/56676580/angular-firestore-get-value-of-observable", "title": "Angular firestore get value of observable", "body": "<p>i'm downloading data form my firestore database. Afterwards i want to iterate through my Observable and get one specific value.</p>\n\n<p>To do so i tried the following:</p>\n\n<pre><code>interface Note{\nimageUrl: string;\ntitle: string;\nbody: string;\ntitledesc: string;\nimgalt: string;\nimgdesc: string;\nimgtitle: string;\nauthorId: string;\n\n}\n</code></pre>\n\n<p>here are my variables:</p>\n\n<pre><code>  notesCollection: AngularFirestoreCollection&lt;Note&gt;;\n  notes: Observable&lt;Note[]&gt;;\n</code></pre>\n\n<p>and here is my method:</p>\n\n<pre><code>getAuthorData = function(blog: string){\nthis.notesCollection = this.afs.collection('/Blogs', ref =&gt;{\n  return ref.where('title','==', blog)\n\n}).valueChanges()\nthis.notesCollection.subscribe( data =&gt; {\n    console.log(data.authorId)\n});\n}\n</code></pre>\n\n<p>the logs always shows undefined</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "is_accepted": false, "score": 1, "last_activity_date": 1560982636, "creation_date": 1560982636, "answer_id": 56676592, "question_id": 56676573, "link": "https://stackoverflow.com/questions/56676573/javascript-best-way-to-deal-with-server-returning-enum-numbers-am-i-only-limite/56676592#56676592", "title": "Javascript Best way to deal with server returning enum numbers? Am I only limited to use switch statements to convert them to string?", "body": "<p>You can use objects or arrays and return them.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var strings = [\"Hello\", \"How\", \"Big Data\"];\r\nvar status = 0;\r\nconsole.log(strings[status]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 63, "user_id": 6064787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d21b05ffe823dea94a40068086fc87b?s=128&d=identicon&r=PG&f=1", "display_name": "Slodin", "link": "https://stackoverflow.com/users/6064787/slodin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560982636, "creation_date": 1560982476, "question_id": 56676573, "link": "https://stackoverflow.com/questions/56676573/javascript-best-way-to-deal-with-server-returning-enum-numbers-am-i-only-limite", "title": "Javascript Best way to deal with server returning enum numbers? Am I only limited to use switch statements to convert them to string?", "body": "<p>Server returns me things like 0,1,2,3,4..etc corresponding to something like: 0 = \"Hello\", 1 = \"How\", 2 = \"Big Data\" that I would need to display on the front end. </p>\n\n<p>Sorry if this was asked before, but I don't know what this would be called. Thus not able to find answers.</p>\n\n<p>Is my only option to write a switch statement?</p>\n\n<pre><code>switch(status){\n case 0:\n  return \"Hello\";\n case 1: \n  return \"How\";\n ...etc\n}\n</code></pre>\n\n<p>I don't have the option to change server code to return strings, but would that be a better way? as in returning both the number and the string?</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1560982971, "post_id": 56676571, "comment_id": 99920285, "body": "Can you explain how you arrive at 3? I see <code>arr[0] = 5</code> -&gt; <code>arr[5] = 6</code> -&gt; <code>arr[6] = 2</code> -&gt; <code>arr[2] = 9</code> -&gt; <code>arr[9] = undefined</code> -&gt; ???"}, {"owner": {"reputation": 93, "user_id": 9813399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a11e1024b0e9963eec46721b4f0021cb?s=128&d=identicon&r=PG&f=1", "display_name": "emwhy", "link": "https://stackoverflow.com/users/9813399/emwhy"}, "edited": false, "score": 0, "creation_date": 1560983203, "post_id": 56676571, "comment_id": 99920333, "body": "Sorry, bad example... I fixed it"}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 9813399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a11e1024b0e9963eec46721b4f0021cb?s=128&d=identicon&r=PG&f=1", "display_name": "emwhy", "link": "https://stackoverflow.com/users/9813399/emwhy"}, "edited": false, "score": 1, "creation_date": 1560983776, "post_id": 56676608, "comment_id": 99920455, "body": "damn it, this is so obvious, i have NO idea why i got stuck on this problem. faackk. thank you!!"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "reply_to_user": {"reputation": 93, "user_id": 9813399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a11e1024b0e9963eec46721b4f0021cb?s=128&d=identicon&r=PG&f=1", "display_name": "emwhy", "link": "https://stackoverflow.com/users/9813399/emwhy"}, "edited": false, "score": 1, "creation_date": 1560983965, "post_id": 56676608, "comment_id": 99920491, "body": "@emwhy --  l edited showing one way to avoid cycles and stop when get to a value you&#39;ve seen already. You need something like that in the updated post to stop when you get back to index 0."}], "tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": false, "score": 1, "last_activity_date": 1560983923, "last_edit_date": 1560983923, "creation_date": 1560982741, "answer_id": 56676608, "question_id": 56676571, "link": "https://stackoverflow.com/questions/56676571/how-can-i-find-an-element-in-an-array-whose-index-equals-another-elements-value/56676608#56676608", "title": "How can I find an element in an array whose index equals another element&#39;s value?", "body": "<p>You could decide where to start (index zero in this case) and then set up a while loop that prints the current value and then sets the current value to the array lookup at that index. When the array lookup returns <code>undefined</code> stop. If you want the count, you can maintain a counter variable as you loop:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [5,4,0,3,1,6,2]\r\nlet start = arr[0]\r\nlet seen = new Set();\r\nlet count = 0\r\nwhile (start != undefined &amp;&amp; !seen.has(start)){\r\n    console.log(start)\r\n    seen.add(start)\r\n    count++\r\n    start = arr[start]\r\n}\r\nconsole.log(\"Count:\", count)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You could also keep a set of visited indexes to help avoid cycles. In this case if you started with index 1 it would just bounce between 1 and 4.</p>\n"}, {"tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": false, "score": 0, "last_activity_date": 1560983260, "creation_date": 1560983260, "answer_id": 56676676, "question_id": 56676571, "link": "https://stackoverflow.com/questions/56676571/how-can-i-find-an-element-in-an-array-whose-index-equals-another-elements-value/56676676#56676676", "title": "How can I find an element in an array whose index equals another element&#39;s value?", "body": "<p>One option is a <code>do/while</code> loop, which continually reassigns a <code>nextIndex</code> variable, which breaks once a duplicate <code>nextIndex</code> is found, or once the <code>nextIndex</code> is out of range of the array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [5, 4, 9, 3, 1, 6, 2];\r\nlet count = 0;\r\nlet nextIndex = 0;\r\nconst usedIndicies = new Set();\r\ndo {\r\n  usedIndicies.add(nextIndex);\r\n  nextIndex = arr[nextIndex];\r\n  count++;\r\n} while (!usedIndicies.has(nextIndex) &amp;&amp; nextIndex &lt; arr.length);\r\nconsole.log(count);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": false, "score": 0, "last_activity_date": 1561014404, "last_edit_date": 1561014404, "creation_date": 1561013620, "answer_id": 56680542, "question_id": 56676571, "link": "https://stackoverflow.com/questions/56676571/how-can-i-find-an-element-in-an-array-whose-index-equals-another-elements-value/56680542#56680542", "title": "How can I find an element in an array whose index equals another element&#39;s value?", "body": "<p>You could also solve this via single <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\">Array.reduce</a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [5,4,0,3,1,6,2]\r\n\r\nlet result = arr.reduce((acc, cur, indx, arr) =&gt; {\r\n  let last = acc[acc.length-1]\r\n  !indx ? acc.push(cur) : !last ? null : acc.push(arr[last])\r\n  return acc\r\n}, [])\r\n\r\nconsole.log('result: ', result, 'count: ', result.length)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And to further simplify this you can start always with the <strong>first</strong> element in the <code>accumulator array</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [5,4,0,3,1,6,2]\r\n\r\nlet result = arr.reduce((acc, cur, _, arr) =&gt; {\r\n  let last = acc[acc.length - 1]\r\n  last ? acc.push(arr[last]) : null\r\n  return acc\r\n}, [arr[0]])\r\n\r\nconsole.log('result: ', result, 'count: ', result.length)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And further if you want you can one line it as:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [5,4,0,3,1,6,2]\r\n\r\nlet r = arr.reduce((r, c, _, a) =&gt; \r\n   (r[r.length-1] ? r.push(a[r[r.length-1]]) : null, r), [arr[0]])\r\n\r\nconsole.log('result: ', r, 'count: ', r.length)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 93, "user_id": 9813399, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a11e1024b0e9963eec46721b4f0021cb?s=128&d=identicon&r=PG&f=1", "display_name": "emwhy", "link": "https://stackoverflow.com/users/9813399/emwhy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 212, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1561014404, "creation_date": 1560982467, "last_edit_date": 1560983338, "question_id": 56676571, "link": "https://stackoverflow.com/questions/56676571/how-can-i-find-an-element-in-an-array-whose-index-equals-another-elements-value", "title": "How can I find an element in an array whose index equals another element&#39;s value?", "body": "<p>Say I have an array of [5,4,0,3,1,6,2]. I take the first element at index 0, which has a value of 5. Next, I want to find the element whose index is 5. This corresponds to the value of 6. And then I want to find the value at index 6, which is 2, then 2 points to 0, and we're back to the beginning so we stop. </p>\n\n<p>I need to like \"chain\" elements based on the index value, and find the length of a chain in my array. In my given example it would be 4. How can I do this? I feel like I'm missing something simple here. </p>\n"}, {"tags": ["javascript", "arrays", "algorithm", "sorting", "object"], "comments": [{"owner": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 2, "creation_date": 1560982815, "post_id": 56676549, "comment_id": 99920238, "body": "222222 is nearer to 333333. Your logic doesn\u2019t make sense"}, {"owner": {"reputation": 762, "user_id": 7583514, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/LHYzB.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/7583514/anthony"}, "reply_to_user": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 1, "creation_date": 1560982946, "post_id": 56676549, "comment_id": 99920278, "body": "@chrispbacon I see what you mean. I&#39;m looking to find just adjacent participants, and not loop over the array again. In that case, you are correct, 222222 is closer to 333333 than 555555."}, {"owner": {"reputation": 10208, "user_id": 1892802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KG1Yi.png?s=128&g=1", "display_name": "ug_", "link": "https://stackoverflow.com/users/1892802/ug"}, "reply_to_user": {"reputation": 62191, "user_id": 3993662, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/20ce5cf17ddc888ba9d7b5e639f040b2?s=128&d=identicon&r=PG&f=1", "display_name": "baao", "link": "https://stackoverflow.com/users/3993662/baao"}, "edited": false, "score": 1, "creation_date": 1560983233, "post_id": 56676549, "comment_id": 99920343, "body": "@chrispbacon why do you assume the array is circular? I dont think thats a fair assumption to make."}, {"owner": {"reputation": 1534, "user_id": 4589931, "user_type": "registered", "accept_rate": 77, "profile_image": "https://lh3.googleusercontent.com/-7h3oUiT0GNI/AAAAAAAAAAI/AAAAAAAAAJk/BMEx6gt1MWg/photo.jpg?sz=128", "display_name": "Rastalamm", "link": "https://stackoverflow.com/users/4589931/rastalamm"}, "edited": false, "score": 0, "creation_date": 1560983264, "post_id": 56676549, "comment_id": 99920351, "body": "Your question is super unclear. Can you edit it to reflect what you would like to happen, any constraints (like the one in the above comment), and the expected outcome?"}], "answers": [{"tags": [], "owner": {"reputation": 716, "user_id": 9225514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2DqTQ.png?s=128&g=1", "display_name": "anbcodes", "link": "https://stackoverflow.com/users/9225514/anbcodes"}, "is_accepted": true, "score": 1, "last_activity_date": 1560983664, "creation_date": 1560983664, "answer_id": 56676731, "question_id": 56676549, "link": "https://stackoverflow.com/questions/56676549/find-nearest-match-of-objects-in-javascript-array/56676731#56676731", "title": "Find nearest match of objects in JavaScript array", "body": "<p>Here is my answer from the information in your question</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const participants = [\r\n    {code: '222222', is_winner: true},\r\n    {code: '444444', is_winner: false},\r\n    {code: '777777', is_winner: false},\r\n    {code: '555555', is_winner: true},\r\n    {code: '666666', is_winner: false},\r\n    {code: '111111', is_winner: false},\r\n    {code: '333333', is_winner: false},\r\n];\r\n\r\nfunction findClosestWinner(code, participants) {\r\n    let index = participants.findIndex((participant) =&gt; {\r\n        return participant.code === code\r\n    })\r\n    let winner\r\n    let awayDown = 0\r\n    let awayUp = 0\r\n    for (let x = index-1; x &gt;= 0; x--) {\r\n        let currentParticipant = participants[x]\r\n        awayDown += 1\r\n        if (currentParticipant.is_winner) {\r\n            winner = currentParticipant\r\n            break\r\n        }\r\n    }\r\n    for (let x = index+1; x &lt; participants.length; x++) {\r\n        let currentParticipant = participants[x]\r\n        awayUp += 1\r\n        if (currentParticipant.is_winner &amp;&amp; awayUp &lt;= awayDown) {\r\n            winner = currentParticipant\r\n            break\r\n        }\r\n    }\r\n    return winner\r\n}\r\nlet winner = findClosestWinner('777777', participants)\r\nconsole.log(winner)</code></pre>\r\n</div>\r\n</div>\r\n\n<code>findClosestWinner</code> takes a participant's code and the list of participants and returns the closest winning participant.</p>\n\n<p>hopefully, this helps.</p>\n"}, {"tags": [], "owner": {"reputation": 10208, "user_id": 1892802, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/KG1Yi.png?s=128&g=1", "display_name": "ug_", "link": "https://stackoverflow.com/users/1892802/ug"}, "is_accepted": false, "score": 1, "last_activity_date": 1560988216, "last_edit_date": 1560988216, "creation_date": 1560983876, "answer_id": 56676768, "question_id": 56676549, "link": "https://stackoverflow.com/questions/56676549/find-nearest-match-of-objects-in-javascript-array/56676768#56676768", "title": "Find nearest match of objects in JavaScript array", "body": "<p>You can do it in one loop. Added comments but the principal is simple, loop through while watching out for a winner and storing it until you find the matching code. Once you found the code you are searching for find an upper winner. If found then find the closest one.</p>\n\n<p>There might be some edge cases around the match being a winner, but since you didn't address those in your example problems I am going to pretend like they don't exist and let you program for them ;)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let findCloseWinner = (code, participants) =&gt; {\r\n    var low=-1, codeIx=-1;\r\n    for(var i=0;i&lt;participants.length;i++) {\r\n        if(participants[i].code === code) codeIx = i;\r\n        if(participants[i].is_winner) {\r\n            // if we havent found our code then we have a new lower bound\r\n            if(codeIx === -1) {\r\n                low = i;\r\n            } else {\r\n                // find closer, is it lower or upper\r\n                if(low === -1 || codeIx-low &gt; i-codeIx) {\r\n                    return participants[i];\r\n                } else {\r\n                    return participants[low];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    // If no code was found or we never found a lower bound then were done\r\n    if(codeIx === -1 || low === -1) return null\r\n    // no upper bound found during loop, low must be winner\r\n    return participants[low];\r\n}\r\n\r\nvar participants = [\r\n    {code: '222222', is_winner: true},\r\n    {code: '444444', is_winner: false},\r\n    {code: '777777', is_winner: false},\r\n    {code: '555555', is_winner: true},\r\n    {code: '666666', is_winner: false},\r\n    {code: '111111', is_winner: false},\r\n    {code: '333333', is_winner: false},\r\n];\r\n\r\nconsole.log(findCloseWinner('333333', participants));\r\nconsole.log(findCloseWinner('444444', participants));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": false, "score": 1, "last_activity_date": 1561009996, "creation_date": 1561009996, "answer_id": 56679746, "question_id": 56676549, "link": "https://stackoverflow.com/questions/56676549/find-nearest-match-of-objects-in-javascript-array/56679746#56679746", "title": "Find nearest match of objects in JavaScript array", "body": "<p>This can simply be:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [ {code: '222222', is_winner: true}, {code: '444444', is_winner: false}, {code: '777777', is_winner: false}, {code: '555555', is_winner: true}, {code: '666666', is_winner: false}, {code: '111111', is_winner: false}, {code: '333333', is_winner: false}, ];\r\n\r\nlet fn = (c, arr) =&gt; {\r\n  let i = arr.findIndex(x =&gt; x.code === c)\r\n  return data.slice(0, i).reverse().find(x =&gt; x.is_winner)\r\n}\r\n\r\nconsole.log(fn('333333', data))  // 555555\r\nconsole.log(fn('444444', data))  // 222222</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The idea is to get the <code>index</code> of the item with the provided <code>code</code> after which to slice the main array so you only have the items up to that index. Then simply reverse the result and get the first match on <code>is_winner</code>.</p>\n"}], "owner": {"reputation": 762, "user_id": 7583514, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/LHYzB.png?s=128&g=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/7583514/anthony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "accepted_answer_id": 56676731, "answer_count": 3, "score": -3, "last_activity_date": 1561009996, "creation_date": 1560982303, "last_edit_date": 1560983408, "question_id": 56676549, "link": "https://stackoverflow.com/questions/56676549/find-nearest-match-of-objects-in-javascript-array", "title": "Find nearest match of objects in JavaScript array", "body": "<p>I have an array of non-sorted objects:</p>\n\n<pre><code>const participants = [\n    {code: '222222', is_winner: true},\n    {code: '444444', is_winner: false},\n    {code: '777777', is_winner: false},\n    {code: '555555', is_winner: true},\n    {code: '666666', is_winner: false},\n    {code: '111111', is_winner: false},\n    {code: '333333', is_winner: false},\n];\n</code></pre>\n\n<p>How do I find the nearest object, which is_winner key is true, <strong>given</strong> a participant, which is_winner key is always false.</p>\n\n<pre><code>if participant = {code: '333333', is_winner: false} \n=&gt; \nShould return {code: '555555', is_winner: true}\n\nif participant = {code: '444444', is_winner: false} \n=&gt; \nShould return {code: '222222', is_winner: true}\n</code></pre>\n\n<p>I'm looking to get a participant that has won(is_winner is true) that is the closest to a non-winner participant. The array is noncircular. </p>\n"}, {"tags": ["javascript", "jquery", "css"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10256714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ptkla.jpg?s=128&g=1", "display_name": "Luis Eduardo Cislaghi", "link": "https://stackoverflow.com/users/10256714/luis-eduardo-cislaghi"}, "is_accepted": false, "score": 0, "last_activity_date": 1560985723, "creation_date": 1560985723, "answer_id": 56677010, "question_id": 56676516, "link": "https://stackoverflow.com/questions/56676516/how-to-stop-scrolling-in-general-on-ios-for-chrome-or-safari-css-javascript-o/56677010#56677010", "title": "How to stop scrolling in general on iOS for Chrome or Safari - CSS/ JavaScript or jQuery", "body": "<p>\"all devices except iOS respect the <code>overflow: hidden</code>\" - Will Po</p>\n\n<p>Take a look on Will's great post about it:</p>\n\n<p><a href=\"https://medium.com/jsdownunder/locking-body-scroll-for-all-devices-22def9615177\" rel=\"nofollow noreferrer\">https://medium.com/jsdownunder/locking-body-scroll-for-all-devices-22def9615177</a></p>\n"}], "owner": {"reputation": 1, "user_id": 11617601, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-XPP3FipfD4U/AAAAAAAAAAI/AAAAAAAAA78/Y6RaX8_PJVg/photo.jpg?sz=128", "display_name": "Marios M", "link": "https://stackoverflow.com/users/11617601/marios-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560985723, "creation_date": 1560982082, "question_id": 56676516, "link": "https://stackoverflow.com/questions/56676516/how-to-stop-scrolling-in-general-on-ios-for-chrome-or-safari-css-javascript-o", "title": "How to stop scrolling in general on iOS for Chrome or Safari - CSS/ JavaScript or jQuery", "body": "<p>I created an input element, which contains a click eventlistener, that when it fires it runs a function, that makes an element visible by the css rule \"display:block;\".</p>\n\n<p>This element contains the following rules:</p>\n\n<pre><code>.elementExample\n{\n    display:none;\n    position: fixed;\n    top: 0;\n    left: 0;\n    z-index: 5;\n    width: 100vw;\n    height: 100vh;\n    background-color: white;\n    font-size: 1.3em;\n    overflow: hidden;\n    -ms-overflow: hidden;\n}\n</code></pre>\n\n<p>In a few words, this element comes at the top of everything else, as I want this input element to be at the top of the mobile screen, as it runs an autocomplete function, for showing results that the user has to select.</p>\n\n<p>Everything works great, I managed to do it, however what I am struggling is to make in iOS chrome and safari to stop any sort of scrolling on the entire page and only have a scrolling option within the results only, as when the user is in focus on an input box, the user can scroll down freely. This happens, only while the user is in focus. This is the relevent coding I tried to do it with:</p>\n\n<pre><code>html .inputHighlightText:focus\n{\n    overflow: hidden!important;\n    -webkit-overflow: hidden!important;\n    -moz-overflow: hidden!important;\n    -o-overflow: hidden!important;\n    -ms-overflow: hidden!important;\n}\n\n    this.preventDefault = function(e) {\n                e = e || window.event;\n                if (e.preventDefault)\n                    e.preventDefault();\n                e.returnValue = false;\n            }\n\n\n            this.disable_scroll_mobile = function(el = null){\n                if(el !== null) {\n                    $(el).focus((e) =&gt; {\n                        e.preventDefault();\n                    });\n                }\n\n                $(\"body\").css(\"overflow\", \"hidden!important\");\n                $(\"#fullScreenBg\").css(\"overflow\", \"hidden!important\");\n                $(window).css(\"overflow\", \"hidden!important\");\n                window.addEventListener('touchmove',$self.preventDefault, false);\n                document.addEventListener('touchmove',$self.preventDefault, false);\n                window.addEventListener('scroll',$self.preventDefault, false);\n                document.addEventListener('scroll',$self.preventDefault, false);\n            }\n\n            this.enable_scroll_mobile = function(){\n                $(\"body\").css(\"overflow\", \"scroll\");\n                $(\"#fullScreenBg\").css(\"overflow\", \"scroll\");\n                $(window).css(\"overflow\", \"scroll\");\n                window.removeEventListener('touchmove',$self.preventDefault, false);\n                document.removeEventListener('touchmove',$self.preventDefault, false);\n                window.removeEventListener('scroll',$self.preventDefault, false);\n                document.removeEventListener('scroll',$self.preventDefault, false);\n            }\nthis.disable_scroll_mobile();\n</code></pre>\n\n<p>I tried everything. How do I stop iOS users from scrolling while they are in focus on input, unless if they scroll on the list that appears?</p>\n"}, {"tags": ["javascript", "phaser-framework"], "answers": [{"tags": [], "owner": {"reputation": 3125, "user_id": 1737823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7373543e0d29474bfe61f5e9c7e55869?s=128&d=identicon&r=PG", "display_name": "PhotonStorm", "link": "https://stackoverflow.com/users/1737823/photonstorm"}, "is_accepted": true, "score": 1, "last_activity_date": 1561029186, "creation_date": 1561029186, "answer_id": 56684750, "question_id": 56676491, "link": "https://stackoverflow.com/questions/56676491/how-to-draw-a-polygon-with-phaser-3/56684750#56684750", "title": "How to draw a polygon with Phaser 3?", "body": "<p>It's <code>Phaser.Geom.Polygon</code>.</p>\n\n<p><a href=\"https://photonstorm.github.io/phaser3-docs/Phaser.Geom.Polygon.html\" rel=\"nofollow noreferrer\">Here is the docs page for it</a>.</p>\n\n<p>A basic example:</p>\n\n<pre><code>    var polygon = new Phaser.Geom.Polygon([\n        400, 100,\n        200, 278,\n        340, 430,\n        650, 80\n    ]);\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 11672868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EWp3B.jpg?s=128&g=1", "display_name": "K-FLOW", "link": "https://stackoverflow.com/users/11672868/k-flow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1098, "favorite_count": 0, "accepted_answer_id": 56684750, "answer_count": 1, "score": 0, "last_activity_date": 1561035941, "creation_date": 1560981937, "last_edit_date": 1561035941, "question_id": 56676491, "link": "https://stackoverflow.com/questions/56676491/how-to-draw-a-polygon-with-phaser-3", "title": "How to draw a polygon with Phaser 3?", "body": "<p>I'm trying to draw a simple polygon shape using Phaser 3 framework. The problem is: the polygon doesnt show up.</p>\n\n<pre><code>var config = {\n        type:Phaser.AUTO,\n        width:800,\n        height:600,\n        scene: {\n            preload: preload,\n            create: create,\n        }\n    };\n\n    var game = new Phaser.Game(config);\n\n    var poly;\n    var graphics;\n\n    function preload() {}\n\n    function create() {\n\n        poly = new Phaser.Geom.Polygon();\n        poly.setTo([ new Phaser.Geom.Point(200, 100), new Phaser.Geom.Point(350, 100), new Phaser.Geom.Point(375, 200), new Phaser.Geom.Point(150, 200) ]);\n\n\n        graphics = this.add.graphics(0, 0);\n        graphics.fillPoints(poly.points, true);\n    }\n</code></pre>\n\n<p>The error i got is: \"Phaser.Polygon is not a constructor\",\nbut i saw that code on a tutorial about Phaser.</p>\n\n<p>EDIT: I changed the code as suggested by PhotonStorm, now i dont get errors but the polygon still doesnt appear.</p>\n\n<p>EDIT2: solved by calling lineStyle and fillStyle on graphics object.</p>\n\n<pre><code>graphics = this.add.graphics(0, 0);\n\ngraphics.lineStyle(5, 0xFF00FF, 1.0);\ngraphics.fillStyle(0xFFFFFF, 1.0);\ngraphics.fillPoints(poly.points, true);\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "express", "chai", "sinon"], "answers": [{"tags": [], "owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "is_accepted": false, "score": 0, "last_activity_date": 1583990545, "creation_date": 1583990545, "answer_id": 60648055, "question_id": 56676480, "link": "https://stackoverflow.com/questions/56676480/sinonstub-function-observer/60648055#60648055", "title": "SinonStub function observer", "body": "<p>Here is the unit test solution:</p>\n\n<p><code>index.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { NextFunction, Response, Request } from 'express';\n\nconst middleware = (req: Request, res: Response, next: NextFunction) =&gt; {\n  setTimeout(() =&gt; res.json({ status: 'blocked' }), 1000);\n};\n\nexport { middleware };\n</code></pre>\n\n<p><code>index.test.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { middleware } from './';\nimport { Request } from 'express';\nimport sinon, { SinonFakeTimers } from 'sinon';\n\ndescribe('56676480', () =&gt; {\n  let clock: SinonFakeTimers;\n  before(() =&gt; {\n    clock = sinon.useFakeTimers();\n  });\n  after(() =&gt; {\n    clock.restore();\n  });\n  it('should pass', () =&gt; {\n    const mReq = {} as Request;\n    const mRes = { json: sinon.stub() } as any;\n    const mNext = sinon.stub();\n    middleware(mReq, mRes, mNext);\n    clock.tick(1000);\n    sinon.assert.calledWithExactly(mRes.json, { status: 'blocked' });\n  });\n});\n</code></pre>\n\n<p>unit test results with 100% coverage:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>  56676480\n    \u2713 should pass\n\n\n  1 passing (12ms)\n\n----------|---------|----------|---------|---------|-------------------\nFile      | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s \n----------|---------|----------|---------|---------|-------------------\nAll files |     100 |      100 |     100 |     100 |                   \n index.ts |     100 |      100 |     100 |     100 |                   \n----------|---------|----------|---------|---------|-------------------\n</code></pre>\n"}], "owner": {"reputation": 383, "user_id": 5799347, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/760081ded945a140e7897370389a2974?s=128&d=identicon&r=PG", "display_name": "TonyB", "link": "https://stackoverflow.com/users/5799347/tonyb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1583990576, "creation_date": 1560981851, "last_edit_date": 1583990576, "question_id": 56676480, "link": "https://stackoverflow.com/questions/56676480/sinonstub-function-observer", "title": "SinonStub function observer", "body": "<p>I try to test express middleware through sinon.js</p>\n\n<p>I wanna test, that it send to response specific JSON and don't let request go to next middleware or request handler.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>const middleware = (req: Request, res: Response, next: NextFunction) =&gt; {\r\n  setTimeout(() =&gt; res.json({status: 'blocked'}), 1000);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For mocking Request and Response I use <code>sinon-express-mock</code>. So every property and method in Response object is <code>SinonStub</code></p>\n\n<p>My problem is, that when I call middleware and method <code>json</code> is called, I don't know, how to check it, after it's called.</p>\n\n<p>Is there some listener or Observer on SinonStub?</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "numbers", "html5-canvas"], "comments": [{"owner": {"reputation": 6932, "user_id": 5508690, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/fb04f4c67b318350f299f4adbd05fed7?s=128&d=identicon&r=PG&f=1", "display_name": "Steven B.", "link": "https://stackoverflow.com/users/5508690/steven-b"}, "edited": false, "score": 1, "creation_date": 1560981958, "post_id": 56676455, "comment_id": 99920034, "body": "Why not just add a second check to your if statement e.g. <code>if (... || leftBorder.level == some_magic_number)</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 2869, "user_id": 3602436, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z3ibA.png?s=128&g=1", "display_name": "EDToaster", "link": "https://stackoverflow.com/users/3602436/edtoaster"}, "edited": false, "score": 0, "creation_date": 1560982284, "post_id": 56676511, "comment_id": 99920117, "body": "This is the way to go!"}], "tags": [], "owner": {"reputation": 312, "user_id": 3431558, "user_type": "registered", "profile_image": "https://graph.facebook.com/531587817/picture?type=large", "display_name": "twomarktwo", "link": "https://stackoverflow.com/users/3431558/twomarktwo"}, "is_accepted": true, "score": 0, "last_activity_date": 1560982065, "creation_date": 1560982065, "answer_id": 56676511, "question_id": 56676455, "link": "https://stackoverflow.com/questions/56676455/how-to-make-a-number-that-is-equal-to-all-numbers/56676511#56676511", "title": "How to make a number that is equal to all numbers", "body": "<p>Perhaps you could add a second property that identifies the borders to be drawn on all levels, and also check that. i.e. sometine like </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//The dictionary for a platform\r\nvar leftBorder = {\r\n    x:0,\r\n    y:0,\r\n    width:5,\r\n    height:canvas.height,\r\n    level: ???, //the level property that needs to equal any posative integer\r\n    drawOnAllLevels: true\r\n};\r\n\r\n\r\n// Checks the levels are equal, if not checks if it should draw on all levels anyway\r\nif(leftBorder.level == currentLevel || leftBorder.drawOnAllLevels){\r\n    drawPlatform(leftBorder);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 11672894, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-p3d-8ZTDIzg/AAAAAAAAAAI/AAAAAAAAAD8/ImoHmJBMYkA/photo.jpg?sz=128", "display_name": "mage j lewis", "link": "https://stackoverflow.com/users/11672894/mage-j-lewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 56676511, "answer_count": 1, "score": 1, "last_activity_date": 1560982065, "creation_date": 1560981629, "question_id": 56676455, "link": "https://stackoverflow.com/questions/56676455/how-to-make-a-number-that-is-equal-to-all-numbers", "title": "How to make a number that is equal to all numbers", "body": "<p>I am making a platformer game that has multiple levels. I have code written so that a certain platform object only draws and has collision detection if its level property is equal to the current level. This is good for most of the platforms that only appear on one level, but I am not sure how to have platforms that appear on all levels (such as borders). Is there a number that I can put into the platform dictionary that will equal all integers so that it will appear on every level?</p>\n\n<p>I have tried putting the level property equal to true, but in javaScript true is equal to one, but not any other number.</p>\n\n<pre><code>//The dictionary for a platform\nvar leftBorder = {\n    x:0,\n    y:0,\n    width:5,\n    height:canvas.height,\n    level: ??? //the level property that needs to equal any posative integer\n};\n\n\nif(leftBorder.level == currentLevel){\n    drawPlatform(leftBorder);\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "web-component", "custom-element", "stenciljs"], "comments": [{"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1560986071, "post_id": 56676435, "comment_id": 99920930, "body": "What does cardData look like actually if you log in the React portion?"}, {"owner": {"reputation": 612, "user_id": 4962244, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/xO0vF.png?s=128&g=1", "display_name": "ufollettu", "link": "https://stackoverflow.com/users/4962244/ufollettu"}, "reply_to_user": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1560986190, "post_id": 56676435, "comment_id": 99920958, "body": "@AlexanderStaroselsky It&#39;s a JSON file, I&#39;m updated the question with the log too"}, {"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1560986475, "post_id": 56676435, "comment_id": 99921006, "body": "It doesn\u2019t look like the JSON is importing as you expect. Based on the log it seems to be treating it as a module instead of JSON. This could be an issue with your webpack configuration. The next issue is that I don\u2019t see a property called items in your json. I mention this because in your child stencil component you are attempting to extract a property called items which doesn\u2019t seem to exist, hence the undefined error. Assuming you pass actual JSON data down you probably won\u2019t be destructuring items out, you\u2019d just pass the entire parsed payload to renderItems."}, {"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1560986650, "post_id": 56676435, "comment_id": 99921038, "body": "You need a specific loader to load json using webpack, but your import could be wrong also in terms of syntax. Just do import cardData from \u2018whatever.json\u2019"}, {"owner": {"reputation": 612, "user_id": 4962244, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/xO0vF.png?s=128&g=1", "display_name": "ufollettu", "link": "https://stackoverflow.com/users/4962244/ufollettu"}, "reply_to_user": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1560987257, "post_id": 56676435, "comment_id": 99921177, "body": "@AlexanderStaroselsky thank you, I set the import from a ts file and it works"}, {"owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1560987763, "post_id": 56676435, "comment_id": 99921289, "body": "Do you mean in React or Stencil you changed this import?"}, {"owner": {"reputation": 612, "user_id": 4962244, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/xO0vF.png?s=128&g=1", "display_name": "ufollettu", "link": "https://stackoverflow.com/users/4962244/ufollettu"}, "reply_to_user": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "edited": false, "score": 0, "creation_date": 1561033781, "post_id": 56676435, "comment_id": 99937508, "body": "in React, Using TS, I have some problem to import raw json data"}], "answers": [{"tags": [], "owner": {"reputation": 817, "user_id": 6354647, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32cf8e3a4eb9b17be3d7fc14cad8e5c9?s=128&d=identicon&r=PG", "display_name": "Michal Cumpl", "link": "https://stackoverflow.com/users/6354647/michal-cumpl"}, "is_accepted": false, "score": 1, "last_activity_date": 1563969859, "last_edit_date": 1563969859, "creation_date": 1563969489, "answer_id": 57182359, "question_id": 56676435, "link": "https://stackoverflow.com/questions/56676435/how-to-use-nested-web-components-created-by-stenciljs-in-react/57182359#57182359", "title": "How to use nested Web Components created by Stenciljs in React", "body": "<p>The problem is, that React 16 passes all data to Custom Elements as HTML attributes. And it just doesn't work for objects or arrays.</p>\n\n<p>More info: <a href=\"https://custom-elements-everywhere.com/libraries/react/results/results.html\" rel=\"nofollow noreferrer\">https://custom-elements-everywhere.com/libraries/react/results/results.html</a></p>\n\n<p>The good news is that they may fix this in React 17: <a href=\"https://github.com/facebook/react/issues/11347\" rel=\"nofollow noreferrer\">https://github.com/facebook/react/issues/11347</a></p>\n\n<p><strong>To fix this now, you will need to pass the data as properties.</strong></p>\n\n<p>Take a look at the Ionic team solution here: <a href=\"https://github.com/ionic-team/ionic/blob/master/react/src/components/createComponent.tsx\" rel=\"nofollow noreferrer\">https://github.com/ionic-team/ionic/blob/master/react/src/components/createComponent.tsx</a></p>\n"}], "owner": {"reputation": 612, "user_id": 4962244, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/xO0vF.png?s=128&g=1", "display_name": "ufollettu", "link": "https://stackoverflow.com/users/4962244/ufollettu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1134, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1563969859, "creation_date": 1560981532, "last_edit_date": 1560986147, "question_id": 56676435, "link": "https://stackoverflow.com/questions/56676435/how-to-use-nested-web-components-created-by-stenciljs-in-react", "title": "How to use nested Web Components created by Stenciljs in React", "body": "<p>I have a repository with Stencil.js and I create a couple of web components, nested and working in Stencil development environment. in example I have a parent component that use a child component:</p>\n\n<pre><code>import { Component, h, Prop, State } from \"@stencil/core\";\n\n@Component({\n  tag: \"parent-component\"\n})\nexport class MyParent {\n\n  @Prop() carddata: any;\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;child-component\n          carddata={this.carddata}\n        /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>this is the child component:</p>\n\n<pre><code>import { Component, Prop, h } from \"@stencil/core\";\n\n@Component({\n  tag: \"child-component\"\n})\nexport class MyChild {\n\n  @Prop() carddata: any;\n\n  renderItems(items: string[]): string {\n    let newString = \"\";\n    items.map((item: string) =&gt; {\n      newString = newString.concat(item, \", \");\n    });\n    return newString.substr(0, newString.length - 2);\n  }\n\n  render() {\n    const { items } = JSON.parse(this.carddata);\n    return (\n      &lt;p&gt;\n        Items: &lt;b&gt;{this.renderItems(items)}&lt;/b&gt;\n      &lt;/p&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>When I build and use the package created in another repository (React app) I have errors on renderig the web components. This is the React Component where I use the web component:</p>\n\n<pre><code>[...]\n\nimport * as cardData from \"./card-mock-data.json\";\n\n[...]\n\n  render() {\n    return (\n      &lt;Wrap&gt;\n        &lt;parent-component\n        carddata={JSON.stringify(cardData)}/&gt;\n      &lt;/Wrap&gt;\n    );\n  }\n\n[...]\n</code></pre>\n\n<p>And the error is <code>TypeError: Cannot read property 'map' of undefined</code>. It's hard to debug, because is compiled code, but the error seems to refers to this piece of (compiled) code:</p>\n\n<pre><code>ChildComponent.prototype.renderItems= function (items) {\n    var newString = \"\";\n    items.map(function (item) {\n        newString = newString.concat(item, \", \");\n    });\n    return newString.substr(0, newString.length - 2);\n};\n</code></pre>\n\n<p>Maybe I'm wrong with something, Can I pass data to nested component using only the parent tag in React? Maybe I'm missing some \"parsing\" step?</p>\n\n<p>Thanks for your help</p>\n\n<p>EDIT: add cardData snippet: </p>\n\n<pre><code>{\n  \"id\": \"invito-biologia-blu\",\n  \"titolo\": \"Il nuovo invito alla biologia blu\",\n  \"img\": \"http://media.curtisinvitoblu.bedita.net/a1/40/curti_a140cb3359b7611d84f80e384d2fb49b/curtis_plus-1A_320x_71bc3567ace1ff728caef1b381d7535b.png\",\n  \"tags\": [\"Polimeri\", \"biochimica\", \"biotecnologie\", \"sostenibilit\u00e0\"],\n  \"autori\": [\"Helena Curtis\", \"Sue Barnes\", \"Alicia Mastroianni\"],\n  \"anno\": 2017,\n  \"actions\": [\"Leggi sul browser\", \"Sito e risorse del libro\", \"ZTE\"]\n}\n</code></pre>\n\n<p>when I log cardData in render() I have this:</p>\n\n<pre><code>Module\u00a0{default: {\u2026}, __esModule: true, Symbol(Symbol.toStringTag): \"Module\"}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "unit-testing", "jestjs"], "answers": [{"tags": [], "owner": {"reputation": 74735, "user_id": 82586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HfVKA.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/82586/james"}, "is_accepted": true, "score": 1, "last_activity_date": 1560982054, "creation_date": 1560982054, "answer_id": 56676509, "question_id": 56676403, "link": "https://stackoverflow.com/questions/56676403/jest-test-does-not-fail-on-error-while-rendering/56676509#56676509", "title": "Jest test does not fail on error while rendering", "body": "<p>The simplest test is to just verify you can query a particular element in the DOM e.g.</p>\n\n<pre><code>expect(component.exists('.some-class')).to.equal(true);\n</code></pre>\n"}], "owner": {"reputation": 1649, "user_id": 1011824, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/0OcmR.jpg?s=128&g=1", "display_name": "Frozendragon", "link": "https://stackoverflow.com/users/1011824/frozendragon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 509, "favorite_count": 0, "accepted_answer_id": 56676509, "answer_count": 1, "score": 1, "last_activity_date": 1560982230, "creation_date": 1560981327, "last_edit_date": 1560982230, "question_id": 56676403, "link": "https://stackoverflow.com/questions/56676403/jest-test-does-not-fail-on-error-while-rendering", "title": "Jest test does not fail on error while rendering", "body": "<p>I'm trying to fix some unit test that passes regardless of what happens in the rendering.</p>\n\n<pre><code>import React from 'react';\nimport Component from './Component';\n\ndescribe('Basic component tests', () =&gt; {\n  it('renders nothing on initial load', () =&gt; {\n    const component = shallow(&lt;Component/&gt;);\n\n    expect(component.exists()).toBe(false);\n  });\n});\n</code></pre>\n\n<p>The problem is when I run this test I get an error in console.error but the test pass regardless. How do I check if the render happened without any error and fail the test if an error did occur?</p>\n\n<p>Output example:</p>\n\n<pre><code>Debugger listening on ws://127.0.0.1:44345/7a8a35fb-7e19-4d92-8dc0-ea274fa1646c\nFor help, see: https://nodejs.org/en/docs/inspector\nDebugger attached.\n  console.error src/components/universal/Component.js:91\n    TypeError: Cannot read property 'includes' of undefined\n        at includes (/home/frozendragon/code/application/src/components/universal/Component.js:412:45)\n        at Array.filter (&lt;anonymous&gt;)\n        at Component.filter [as getPackagesByIds] (/home/frozendragon/code/application/src/components/universal/Component.js:412:29)\n        at Component.getPackagesByIds (/home/frozendragon/code/application/src/components/universal/Component.js:86:36)\n        at tryCatch (/home/frozendragon/code/application/node_modules/@babel/polyfill/node_modules/regenerator-runtime/runtime.js:45:40)\n        at Generator.invoke [as _invoke] (/home/frozendragon/code/application/node_modules/@babel/polyfill/node_modules/regenerator-runtime/runtime.js:271:22)\n        at Generator.prototype.(anonymous function) [as next] (/home/frozendragon/code/application/node_modules/@babel/polyfill/node_modules/regenerator-runtime/runtime.js:97:21)\n        at asyncGeneratorStep (/home/frozendragon/code/application/src/components/universal/Component.js:4176:103)\n        at _next (/home/frozendragon/code/application/src/components/universal/Component.js:4178:194)\n\n------------------|----------|----------|----------|----------|-------------------|\nFile              |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |\n------------------|----------|----------|----------|----------|-------------------|\nAll files         |    33.57 |       15 |    35.48 |    34.38 |                   |\n Component.js     |    33.57 |       15 |    35.48 |    34.38 |... 65,566,569,574 |\n------------------|----------|----------|----------|----------|-------------------|\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 434, "user_id": 7238313, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5be671c0eceb0d44305cdf1d4ffc2084?s=128&d=identicon&r=PG&f=1", "display_name": "MTBthePRO", "link": "https://stackoverflow.com/users/7238313/mtbthepro"}, "edited": false, "score": 0, "creation_date": 1560981198, "post_id": 56676326, "comment_id": 99919830, "body": "Why not use css? There is focus selector. <a href=\"https://www.w3schools.com/cssref/sel_focus.asp\" rel=\"nofollow noreferrer\">W3school</a>"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "reply_to_user": {"reputation": 434, "user_id": 7238313, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5be671c0eceb0d44305cdf1d4ffc2084?s=128&d=identicon&r=PG&f=1", "display_name": "MTBthePRO", "link": "https://stackoverflow.com/users/7238313/mtbthepro"}, "edited": false, "score": 0, "creation_date": 1560981498, "post_id": 56676326, "comment_id": 99919900, "body": "@MTBthePRO they are trying to apply focus to the iframe, not stylize it based upon being focused."}, {"owner": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "edited": false, "score": 0, "creation_date": 1560981723, "post_id": 56676326, "comment_id": 99919957, "body": "<a href=\"https://stackoverflow.com/questions/369026/setting-focus-to-iframe-contents\" title=\"setting focus to iframe contents\">stackoverflow.com/questions/369026/&hellip;</a>"}, {"owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "edited": false, "score": 0, "creation_date": 1560981758, "post_id": 56676326, "comment_id": 99919967, "body": "Does it blur and not focus again? or it just stays focused?"}, {"owner": {"reputation": 277, "user_id": 11317554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jatX.jpg?s=128&g=1", "display_name": "Shawn Vn", "link": "https://stackoverflow.com/users/11317554/shawn-vn"}, "edited": false, "score": 0, "creation_date": 1560982058, "post_id": 56676326, "comment_id": 99920061, "body": "the first time works ok but when I click on the button again it won&#39;t focus at all"}, {"owner": {"reputation": 277, "user_id": 11317554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jatX.jpg?s=128&g=1", "display_name": "Shawn Vn", "link": "https://stackoverflow.com/users/11317554/shawn-vn"}, "reply_to_user": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "edited": false, "score": 0, "creation_date": 1560982848, "post_id": 56676326, "comment_id": 99920250, "body": "@imvain2 I&#39;ve already tried that not working :("}], "answers": [{"tags": [], "owner": {"reputation": 2482, "user_id": 10424385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b493fdfafec2706b15ee1cd6fbe8ed04?s=128&d=identicon&r=PG&f=1", "display_name": "Grzegorz T.", "link": "https://stackoverflow.com/users/10424385/grzegorz-t"}, "is_accepted": true, "score": 1, "last_activity_date": 1560984742, "last_edit_date": 1560984742, "creation_date": 1560983852, "answer_id": 56676762, "question_id": 56676326, "link": "https://stackoverflow.com/questions/56676326/focus-on-iframe-every-time-i-click-on-specific-button/56676762#56676762", "title": "Focus on iframe every time I click on specific button", "body": "<p>Maybe it is a solution for you.</p>\n\n<pre><code>$('#iframe').contents().find('html').focus();\n</code></pre>\n\n<p>And vanilla js</p>\n\n<pre><code>const frame = document.querySelector('#iframe').contentWindow;\nframe.document.querySelector('body').focus();\n</code></pre>\n"}], "owner": {"reputation": 277, "user_id": 11317554, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jatX.jpg?s=128&g=1", "display_name": "Shawn Vn", "link": "https://stackoverflow.com/users/11317554/shawn-vn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 56676762, "answer_count": 1, "score": 1, "last_activity_date": 1560984742, "creation_date": 1560980808, "question_id": 56676326, "link": "https://stackoverflow.com/questions/56676326/focus-on-iframe-every-time-i-click-on-specific-button", "title": "Focus on iframe every time I click on specific button", "body": "<p><br/>\nI want to focus on iframe every time I click on <code>&lt;button class=\"bold\" &gt;bold&lt;/button&gt;</code>\n<br/>\nBut It Only Works one time\n<br/>\nHere is my code :\n<br/>\n<b>JavaScript</b> :</p>\n\n<pre><code>function iFrameStart() {\n    iframe.document.designMode=\"On\";\n}\ndocument.addEventListener(\"DOMContentLoaded\",iFrameStart,false);\n$(document).ready(function () {\n    $(\".bold\").click(function () {\n       iframe.document.execCommand('bold',false,null);\n       document.getElementById(\"iframe\").focus();\n    });\n});\n</code></pre>\n\n<p><b>HTML</b> :</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\n    &lt;h1&gt;Editor Demo&lt;/h1&gt;\n    &lt;div class=\"button-wrapper\"&gt;\n        &lt;button class=\"bold\"&gt;B&lt;/button&gt;\n    &lt;/div&gt;\n    &lt;label&gt;&lt;textarea name=\"\" id=\"\" cols=\"30\" rows=\"10\"&gt;&lt;/textarea&gt;&lt;/label&gt;\n    &lt;iframe id=\"iframe\" name=\"iframe\" &gt;&lt;/iframe&gt;\n\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "mysql", "node.js", "asynchronous"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560987230, "post_id": 56676306, "comment_id": 99921170, "body": "<code>Object.values(JSON.stringify(weeks)</code> is not likely correct. Maybe you meant <code>JSON.parse</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560987429, "post_id": 56676306, "comment_id": 99921225, "body": "You&#39;re reusing the same <code>project</code> object every time through the loop. So all elements of the array contain the same project, and it contains the <code>weeks</code> value from the last iteration."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 11672866, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6hFVhmJbu20/AAAAAAAAAAI/AAAAAAAALQs/UoLZierHh5M/photo.jpg?sz=128", "display_name": "Oscar Rodriguez", "link": "https://stackoverflow.com/users/11672866/oscar-rodriguez"}, "edited": false, "score": 0, "creation_date": 1561142950, "post_id": 56677283, "comment_id": 99981224, "body": "Thank you so much for the reply, I really appreciate it.  Just one thing, I tested your solution and it works fine partially. Once forEach loop is done, projects&#39; array is still not updated; meaning that, each project still does not have the &quot;weeks&quot; attribute as expected. Surely I am doing something wrong:("}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 5, "user_id": 11672866, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6hFVhmJbu20/AAAAAAAAAAI/AAAAAAAALQs/UoLZierHh5M/photo.jpg?sz=128", "display_name": "Oscar Rodriguez", "link": "https://stackoverflow.com/users/11672866/oscar-rodriguez"}, "edited": false, "score": 0, "creation_date": 1561144220, "post_id": 56677283, "comment_id": 99981704, "body": "Remember that this is asynchronous. You won&#39;t see the changes if you look immediately after the call, only in the callback function."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 5, "user_id": 11672866, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6hFVhmJbu20/AAAAAAAAAAI/AAAAAAAALQs/UoLZierHh5M/photo.jpg?sz=128", "display_name": "Oscar Rodriguez", "link": "https://stackoverflow.com/users/11672866/oscar-rodriguez"}, "edited": false, "score": 0, "creation_date": 1561144259, "post_id": 56677283, "comment_id": 99981720, "body": "See <a href=\"https://stackoverflow.com/questions/23667086/why-is-my-variable-undefined-after-i-modify-it-inside-of-a-function-asynchron\" title=\"why is my variable undefined after i modify it inside of a function asynchron\">stackoverflow.com/questions/23667086/&hellip;</a>"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1560988147, "creation_date": 1560988147, "answer_id": 56677283, "question_id": 56676306, "link": "https://stackoverflow.com/questions/56676306/assigning-value-inside-query-and-it-is-not-updating/56677283#56677283", "title": "Assigning value inside query and it is not updating", "body": "<p>You need to create a new <code>project</code> object each time through the loop. Otherwise, you're setting all the array elements to reference to the same object, which is being overwritten each time.</p>\n\n<p>You can use <code>Object.assign()</code> to clone the global <code>object</code> into a local variable.</p>\n\n<pre><code>    db.get().query(query.text, query.values, (error, weeks) =&gt; {\n      if(error) return res.status(400).send(error);\n      let tempProject = Object.assign({}, object);\n      if(weeks) tempProject[\"weeks\"] = Object.values(JSON.parse(weeks));\n      else tempProject[\"weeks\"] = [\"No weeks available\"];\n\n      projects[i] = tempProject;\n      console.log(projects[i]);\n    });\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 11672866, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6hFVhmJbu20/AAAAAAAAAAI/AAAAAAAALQs/UoLZierHh5M/photo.jpg?sz=128", "display_name": "Oscar Rodriguez", "link": "https://stackoverflow.com/users/11672866/oscar-rodriguez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 56677283, "answer_count": 1, "score": 0, "last_activity_date": 1560988147, "creation_date": 1560980698, "question_id": 56676306, "link": "https://stackoverflow.com/questions/56676306/assigning-value-inside-query-and-it-is-not-updating", "title": "Assigning value inside query and it is not updating", "body": "<p>I am trying to do update an array \"projects\" depending on a query to a db forEach value from the array. When I get the value and assign it to the current index of the projects, it does not update on the actual array.</p>\n\n<p>I've already tried some resolve reject promise structure, .map, .forEach, a normal for loop, a callback inside the query, but none of these have work.</p>\n\n<pre><code>projects.forEach((project, i) =&gt; {\n    let query = squel\n      .select()\n      .field(\"s.Clave_Proyecto\")\n      .field(\"s.Semana_Numero\")\n      .field(\"s.Porcentaje_Semana\")\n      .from(\"Semana\", \"s\")\n      .where(\"s.Clave_Proyecto = ?\", project[\"Clave_Proyecto\"])\n      .toParam();\n\n    db.get().query(query.text, query.values, (error, weeks) =&gt; {\n      if(error) return res.status(400).send(error);\n      if(weeks) project[\"weeks\"] = Object.values(JSON.stringify(weeks));\n      else\u00a0project[\"weeks\"] = [\"No weeks available\"];\n\n      projects[i] = project;\n      console.log(projects[i]);\n    });\n});\n</code></pre>\n\n<p>It should return the project instance updated with the new \"weeks\" attribute as an array.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "pagination", "ngfor"], "answers": [{"tags": [], "owner": {"reputation": 182, "user_id": 6924190, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2YGWFbXmqzc/AAAAAAAAAAI/AAAAAAAASRY/82cIluZBR_w/photo.jpg?sz=128", "display_name": "Adan", "link": "https://stackoverflow.com/users/6924190/adan"}, "is_accepted": true, "score": 1, "last_activity_date": 1561394401, "creation_date": 1561394401, "answer_id": 56740776, "question_id": 56676244, "link": "https://stackoverflow.com/questions/56676244/how-to-properly-implement-ngx-pagination-for-tables-in-angular/56740776#56740776", "title": "How to properly implement ngx-pagination for tables in Angular?", "body": "<p>So, I figured out what happened.  In my ngFor loop I was binding the models based on its index in an array.  Problem is, that the index will always be 0-9 since that is what Is being rendered in the template.  </p>\n\n<p>Meaning my ngModels will always use myPropertyName_0   - myPropertyName_9 every time a new page is viewed, binding the same 10 models over and over for each page rendered.</p>\n\n<p>The fix was simple,  instead of using the index I used the local variable I created 'item' from the ngFor loop in the parent element to access the REAL model for that row's data. </p>\n\n<p><em>Old implementation:</em> </p>\n\n<pre><code>        &lt;tbody&gt;\n        &lt;tr *ngFor=\"let item of loadedTableData\n                    | paginate: {\n                        id: 'ltd',\n                        itemsPerPage: 10,\n                        currentPage: page\n                        };\n                    let i= index;\"\n            (click)=\"updatePreviousValue(item);\"&gt;\n            &lt;td class=\"form-group\" #rowIndex&gt;\n            &lt;span&gt; {{ i + 1 }} &lt;/span&gt;\n            &lt;/td&gt;\n            &lt;td *ngFor=\"let property of item | keys;\"\n            class=\"form-group\" #editRow&gt;\n            &lt;input #editRowProp\n                &lt;!-- WRONG MODEL BEING BOUND --&gt;\n                **[(ngModel)]=\"loadedTableData[i][property]\"**\n                class=\"form-control\"\n                [name]=\"property + '_' + i\"\n                type=\"text\"&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n            &lt;button type=\"button\" class=\"btn btn-primary\n                rounded\n                btn-sm my-0\"\n                (click)=\"updateRow(loadedTableData[i])\"&gt;Update&lt;/button&gt;\n            &lt;hr&gt;\n            &lt;button type=\"button\" class=\"btn btn-danger\n                rounded\n                btn-sm my-0\" (click)=\"deleteRow(item)\"&gt;Remove&lt;/button&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n</code></pre>\n\n<p><em>Fixed code:</em> </p>\n\n<pre><code>        &lt;tbody&gt;\n        &lt;tr *ngFor=\"let item of loadedTableData\n                    | paginate: {\n                        id: 'ltd',\n                        itemsPerPage: 10,\n                        currentPage: page\n                        };\n                    let i= index;\"\n            (click)=\"updatePreviousValue(item);\"&gt;\n            &lt;td class=\"form-group\" #rowIndex&gt;\n            &lt;span&gt; {{ i + 1 }} &lt;/span&gt;\n            &lt;/td&gt;\n            &lt;td *ngFor=\"let property of item | keys;\"\n            class=\"form-group\" #editRow&gt;\n            &lt;input #editRowProp\n                &lt;!-- CORRECT MODEL ! --&gt;\n                **[(ngModel)]=\"item[property]\"**\n                class=\"form-control\"\n                [name]=\"property + '_' + i\"\n                type=\"text\"&gt;\n            &lt;/td&gt;\n            &lt;td&gt;\n            &lt;button type=\"button\" class=\"btn btn-primary\n                rounded\n                btn-sm my-0\"\n                (click)=\"updateRow(loadedTableData[i])\"&gt;Update&lt;/button&gt;\n            &lt;hr&gt;\n            &lt;button type=\"button\" class=\"btn btn-danger\n                rounded\n                btn-sm my-0\" (click)=\"deleteRow(item)\"&gt;Remove&lt;/button&gt;\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n</code></pre>\n"}], "owner": {"reputation": 182, "user_id": 6924190, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-2YGWFbXmqzc/AAAAAAAAAAI/AAAAAAAASRY/82cIluZBR_w/photo.jpg?sz=128", "display_name": "Adan", "link": "https://stackoverflow.com/users/6924190/adan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3748, "favorite_count": 1, "accepted_answer_id": 56740776, "answer_count": 1, "score": 1, "last_activity_date": 1561394401, "creation_date": 1560980393, "question_id": 56676244, "link": "https://stackoverflow.com/questions/56676244/how-to-properly-implement-ngx-pagination-for-tables-in-angular", "title": "How to properly implement ngx-pagination for tables in Angular?", "body": "<p>I am using the ngx-pagination package for pagination in my table using Angular 7.  I've added the correct directives &amp; pipe operators for my ngFor* which iterates over data provided from a SQL Service I've created.   </p>\n\n<p>The pagination controls correctly displays how many items I want ( 15 ) and creates the correct number of pages... yet when I use the controls to click for example, page 2, the items in the table don't change.  The items visible are always the first 15 from my 'loadedTableData' array.   Is there an additional step I am missing?  Or perhaps because I use a nested ngFor* within the original ngFor* this somehow corrupts the pagination?  Anyone else seen this before?</p>\n\n<p><em>data-table.html:</em></p>\n\n<pre><code> &lt;div id=\"table\" class=\"table-editable\"&gt;\n      &lt;div class=\"table-container\"&gt;\n        &lt;div class=\"add-row-container\"&gt;\n          &lt;form #addRowForm=\"ngForm\" class=\"add-row-form\"\n            (ngSubmit)=\"addRow(addRowForm)\"&gt;\n            &lt;table #addRowTable class=\"table\n              table-bordered table-responsive-md table-striped\n              text-center\"&gt;\n              &lt;thead&gt;\n                &lt;tr&gt;\n                  &lt;th *ngFor=\"let head of loadedTableData[0] | keys;\"&gt;{{head}}&lt;/th&gt;\n                &lt;/tr&gt;\n              &lt;/thead&gt;\n              &lt;tr #newRowTemplate&gt;\n                &lt;td *ngFor=\"let property of loadedTableData[0] | keys;\"\n                  class=\"form-group\"&gt;\n                  &lt;input #prop ngModel\n                    required class=\"form-control\" contenteditable=\"true\"\n                    name=\"{{property}}\"&gt;\n                &lt;/td&gt;\n              &lt;/tr&gt;\n            &lt;/table&gt;\n            &lt;div class=\"buttons-container\"&gt;\n              &lt;button class=\"btn-success rounded btn-sm my-0 btn\"\n                type=\"submit\"\n                [disabled]=\"!addRowForm.valid\"&gt;Add Row&lt;/button&gt;\n              &lt;button class=\"btn-outline-primary rounded btn-sm my-0 btn\"\n                type=\"button\"\n                (click)=\"addRowForm.resetForm()\"&gt;Clear&lt;/button&gt;\n            &lt;/div&gt;\n          &lt;/form&gt;\n        &lt;/div&gt;\n        &lt;div class=\"table-container\"&gt;\n          &lt;form #updateRowForm=\"ngForm\" class=\"update-row-form\"&gt;\n            &lt;table #tableEl=\"\" class=\"table table-bordered\n              table-responsive-md table-striped text-center\"&gt;\n              &lt;thead&gt;\n                &lt;!-- &lt;tr&gt;\n                  &lt;nav class=\"navbar\"&gt;\n                    &lt;input class=\"form-control\" type=\"text\" name=\"search\"\n                      [(ngModel)]=\"filter\"&gt;\n                  &lt;/nav&gt;\n                &lt;/tr&gt; --&gt;\n                &lt;tr&gt;\n                  &lt;th&gt; Row &lt;/th&gt;\n                  &lt;th *ngFor=\"let head of loadedTableData[0] | keys;\"&gt;{{head}}&lt;/th&gt;\n                &lt;/tr&gt;\n              &lt;/thead&gt;\n              &lt;tbody&gt;\n                &lt;tr *ngFor=\"let item of loadedTableData\n                            | paginate: {\n                                id: 'ltd',\n                                itemsPerPage: 10,\n                                currentPage: p,\n                                totalItems: total\n                              };\n                          let i= index;\"\n                  (click)=\"updatePreviousValue(item);\"&gt;\n                  &lt;td class=\"form-group\" #rowIndex&gt;\n                    &lt;span&gt; {{ i + 1 }} &lt;/span&gt;\n                  &lt;/td&gt;\n                  &lt;td *ngFor=\"let property of item | keys;\"\n                    class=\"form-group\" #editRow&gt;\n                    &lt;input #editRowProp\n                      [(ngModel)]=\"loadedTableData[i][property]\"\n                      class=\"form-control\"\n                      [name]=\"property + '_' + i\"\n                      type=\"text\"&gt;\n                  &lt;/td&gt;\n                  &lt;td&gt;\n                    &lt;button type=\"button\" class=\"btn btn-primary\n                      rounded\n                      btn-sm my-0\"\n                      (click)=\"updateRow(loadedTableData[i])\"&gt;Update&lt;/button&gt;\n                    &lt;hr&gt;\n                    &lt;button type=\"button\" class=\"btn btn-danger\n                      rounded\n                      btn-sm my-0\" (click)=\"deleteRow(item)\"&gt;Remove&lt;/button&gt;\n                  &lt;/td&gt;\n                &lt;/tr&gt;\n              &lt;/tbody&gt;\n              &lt;tfoot id=\"pagination-control-container\"&gt;\n                &lt;tr&gt;\n                  &lt;td [colSpan]=\"99\"&gt;\n                    &lt;pagination-controls\n                      (pageChange)=\"pageChange($event);\"\n                      id='ltd'&gt;\n                    &lt;/pagination-controls&gt;\n                  &lt;/td&gt;\n                &lt;/tr&gt;\n              &lt;/tfoot&gt;\n            &lt;/table&gt;\n          &lt;/form&gt;\n        &lt;/div&gt;\n\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p><em>data-table.component.ts:</em></p>\n\n<pre><code>import { Component, OnInit, ViewChild, ViewChildren, QueryList, OnDestroy, ChangeDetectorRef, Input } from '@angular/core';\nimport { SqlService } from '../services/sql.service';\nimport { NgForm, FormGroup } from '@angular/forms';\nimport { Subscription, BehaviorSubject } from 'rxjs';\nimport { MatSnackBar } from '@angular/material';\nimport { SuccessComponent } from '../snackbar/success/success.component';\nimport { ErrorComponent } from '../snackbar/error/error.component';\nimport { ConfirmComponent } from '../snackbar/confirm/confirm.component';\n\n@Component({\nselector: 'app-data-table',\ntemplateUrl: './data-table.component.html',\nstyleUrls: ['./data-table.component.scss']\n})\nexport class DataTableComponent implements OnInit, OnDestroy {\n\nconstructor(\n    private sqlService: SqlService,\n    private snackBar: MatSnackBar,\n    private cdRef: ChangeDetectorRef) { }\n@ViewChild('addRowForm') addRowForm: NgForm;\n@ViewChildren('prop') addRowProps: QueryList&lt;any&gt;;\n@ViewChild('editRowForm') editRowForm: NgForm;\n@ViewChild('editRow') editRow: FormGroup;\n\n@Input() id: string;\n@Input() maxSize: number;\n\npublic loadedTableData: any = [];\npublic previousTableData: object[] = [];\npublic displayedColumns: object[] = [];\npublic tableHasBeenLoaded = false;\npublic rowBeingEdited: BehaviorSubject&lt;any&gt; = new BehaviorSubject&lt;any&gt;({});\npublic rowPreviousValue = {};\npublic currentTableData: object = {};\npublic rowsAffected = 0;\n\nprivate subscriptions: Subscription[] = [];\n\npublic p = 1;\n\npublic pageChange(event: number): void {\n    this.p = event;\n}\n\npublic ngOnInit(): void {\n    this.subscriptions.push(\n    this.sqlService.tableHasBeenLoaded.subscribe(data =&gt; {\n        this.tableHasBeenLoaded = data;\n    }),\n    this.sqlService.currentDataView.subscribe(data =&gt; {\n        this.loadedTableData = data;\n        if (data.length &gt; 0) {\n        this.displayedColumns.push(Object.getOwnPropertyNames(data[0]));\n        }\n    }),\n    this.sqlService.tableHasBeenLoaded.subscribe(data =&gt; {\n        this.tableHasBeenLoaded = data;\n    }),\n    this.sqlService.currentTableData.subscribe(data =&gt; {\n\n        this.cdRef.detectChanges();\n\n        this.currentTableData = data;\n\n    }),\n    this.sqlService.rowsAffected.subscribe(data =&gt; {\n        this.rowsAffected = data;\n    })\n    );\n}\n\npublic addRow(addRowData: NgForm): void {\n    const newDataValues = [];\n    const loadedValues = {};\n    let newDataKeys: object;\n\n    const tableData = {\n    row: addRowData.value,\n    currentTableData: this.currentTableData\n    };\n\n    this.subscriptions.push(\n    this.sqlService.insertTableData(tableData)\n        .subscribe((resp) =&gt; {\n        if (resp) {\n\n            for (const prop of this.addRowProps.toArray()) {\n            newDataValues.push(prop['nativeElement'].value as HTMLInputElement);\n            }\n\n            newDataKeys = Object.keys(addRowData.controls);\n\n            Object.assign(newDataKeys).map((key, i) =&gt; {\n            loadedValues[key] = newDataValues[i];\n            });\n\n            if (this.loadedTableData.length &gt; 0) {\n            const newRow = loadedValues;\n            this.loadedTableData.push(newRow);\n            }\n\n            this.snackBar.openFromComponent(SuccessComponent, {\n            duration: 3000,\n            data: `${this.rowsAffected} row(s) added.`\n            });\n\n            this.addRowForm.resetForm();\n        }\n        }, (err) =&gt; {\n        this.snackBar.openFromComponent(ErrorComponent, {\n            duration: 6000,\n            data: `${err}`\n        });\n        })\n    );\n\n}\n\npublic updatePreviousValue(item: object): void {\n    this.rowPreviousValue = JSON.parse(JSON.stringify(item));\n}\n\npublic updateRow(newRowValue: object): void {\n\n    const previousRowValue = this.rowPreviousValue;\n\n    const updateData = {\n    previousRowValue,\n    newRowValue\n    };\n\n    this.subscriptions.push(\n    this.sqlService.updateTableData(updateData)\n        .subscribe((resp) =&gt; {\n        if (resp) {\n            this.snackBar.openFromComponent(ConfirmComponent, {\n            duration: 3000,\n            data: `${this.rowsAffected} row(s) updated.`\n            });\n        }\n        }, (err) =&gt; {\n        this.snackBar.openFromComponent(ErrorComponent, {\n            duration: 6000,\n            data: `${err}`\n        });\n        })\n    );\n\n}\n\npublic deleteRow(item: object): void {\n\n    const tableData = {\n    row: item,\n    currentTableData: this.currentTableData\n    };\n\n    this.subscriptions.push(\n    this.sqlService.deleteTableData(tableData)\n        .subscribe((resp) =&gt; {\n        if (resp) {\n            this.loadedTableData = this.loadedTableData.filter(obj =&gt; obj !== item);\n\n            this.snackBar.openFromComponent(ErrorComponent, {\n            duration: 3000,\n            data: `${this.rowsAffected} row(s) deleted.`\n            });\n        }\n        }, (err) =&gt; {\n        this.snackBar.openFromComponent(ErrorComponent, {\n            duration: 6000,\n            data: `${err}`\n        });\n        })\n    );\n}\n\npublic ngOnDestroy(): void {\n    for (const sub of this.subscriptions) {\n      sub.unsubscribe();\n    }\n  }\n\n}\n</code></pre>\n\n<p><em>sql.service.ts:</em></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\nimport { tap, catchError, delay } from 'rxjs/operators';\nimport { Observable, BehaviorSubject, of, throwError } from 'rxjs';\nimport { ITableList } from '../interfaces/ITableList.interface';\nimport { MatSnackBar } from '@angular/material';\nimport { ErrorComponent } from '../snackbar/error/error.component';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class SqlService {\n\nimport { Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\nimport { tap, catchError, delay } from 'rxjs/operators';\nimport { Observable, BehaviorSubject, of, throwError } from 'rxjs';\nimport { ITableList } from '../interfaces/ITableList.interface';\nimport { MatSnackBar } from '@angular/material';\nimport { ErrorComponent } from '../snackbar/error/error.component';\n\n@Injectable({\nprovidedIn: 'root',\n})\nexport class SqlService {\n\nprivate uri = 'http://localhost:8080';\nprivate headers = new HttpHeaders({ 'Content-Type': 'application/json; charset=utf-8' });\n\npublic currentDataView: BehaviorSubject&lt;any&gt; = new BehaviorSubject&lt;any&gt;([]);\npublic currentTableData: BehaviorSubject&lt;any&gt; = new BehaviorSubject&lt;any&gt;({});\npublic tableHasBeenLoaded: BehaviorSubject&lt;any&gt; = new BehaviorSubject&lt;boolean&gt;(false);\npublic rowsAffected: BehaviorSubject&lt;number&gt; = new BehaviorSubject&lt;number&gt;(0);\n\nconstructor(private http: HttpClient,\n            private snackBar: MatSnackBar) { }\n\npublic getMasterDBList(): Observable&lt;any&gt; {\n    return this.http.get&lt;ITableList&gt;(`${this.uri}/api/masterDBList`)\n    .pipe(\n        tap(\n        response =&gt; {\n            console.log(response);\n        }\n        )\n    );\n}\n\npublic deleteTableData(tableRow: any): Observable&lt;any&gt; {\n    const parsedData = JSON.parse(JSON.stringify(tableRow));\n\n    if (tableRow) {\n    return this.http.post&lt;any&gt;(`${this.uri}/api/deleteTableData`, parsedData).pipe(\n        tap(\n        response =&gt; {\n            this.rowsAffected.next(response.rowsAffected);\n        }\n        ),\n        catchError(this.handleError)\n    );\n    }\n}\n\npublic insertTableData(tableData: any): Observable&lt;any&gt; {\n    const parsedData = JSON.parse(JSON.stringify(tableData));\n\n    if (tableData.row) {\n    return this.http.post&lt;any&gt;(`${this.uri}/api/insertTableData`, parsedData).pipe(\n        tap(\n        response =&gt; {\n            this.rowsAffected.next(response.rowsAffected);\n        }\n        ),\n        catchError(this.handleError)\n    );\n    }\n}\n\npublic updateTableData(updateData: any): Observable&lt;any&gt; {\n    const parsedUpdateData = JSON.parse(JSON.stringify(updateData));\n\n    const parsedData = {\n    currentTableData: this.currentTableData.getValue(),\n    parsedUpdateData\n    };\n\n    if (updateData) {\n    return this.http.post&lt;any&gt;(`${this.uri}/api/updateTableData`, parsedData).pipe(\n        tap(\n        response =&gt; {\n            this.rowsAffected.next(response.rowsAffected);\n        }\n        ),\n        catchError(this.handleError)\n    );\n    }\n}\n\npublic getTableData(tableData?: any): Observable&lt;any&gt; {\n    // clear currentDataView so that load icon appears between queries.\n    this.currentDataView.next([]);\n\n    // for state purposes, subscribers are notified that a GET has been called in this session.\n    this.tableHasBeenLoaded.next(true);\n\n    const parsedData = JSON.parse(JSON.stringify(tableData));\n\n    return this.http.get&lt;object[]&gt;(`${this.uri}/api/getTableData`, {\n    params: parsedData,\n    headers: this.headers\n    })\n    .pipe(\n        tap(\n        response =&gt; {\n            this.currentDataView.next(response);\n            console.log(this.currentDataView.getValue());\n        }\n        ),\n        catchError(this.handleError)\n    );\n}\n\npublic handleError(errorResponse: HttpErrorResponse): Observable&lt;any&gt; {\n\n    if (errorResponse.error instanceof ErrorEvent) {\n        console.error('Client Side Error: ', errorResponse.error.message);\n    } else {\n        console.error('Server Side Error: ', errorResponse);\n    }\n\n    return throwError(errorResponse.error.message);\n  }\n}\n</code></pre>\n\n<p>PAGE 1 results:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JgRkd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JgRkd.png\" alt=\"page 1 results:\"></a></p>\n\n<p>PAGE 2 results:</p>\n\n<p><a href=\"https://i.stack.imgur.com/EF5HZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EF5HZ.png\" alt=\"page 2 results:\"></a></p>\n"}, {"tags": ["javascript", "ember.js"], "comments": [{"owner": {"reputation": 6337, "user_id": 30001, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47106c89a2c15b92fe3d966af3337236?s=128&d=identicon&r=PG", "display_name": "locks", "link": "https://stackoverflow.com/users/30001/locks"}, "edited": false, "score": 0, "creation_date": 1561104591, "post_id": 56676222, "comment_id": 99962757, "body": "You do not provide enough information for a proper answer. What do you need to do, and where? Why do you need to know which nested route you are on?"}], "answers": [{"tags": [], "owner": {"reputation": 298, "user_id": 7741840, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/12lI4.jpg?s=128&g=1", "display_name": "mbeiswenger", "link": "https://stackoverflow.com/users/7741840/mbeiswenger"}, "is_accepted": false, "score": 1, "last_activity_date": 1560981807, "creation_date": 1560981807, "answer_id": 56676472, "question_id": 56676222, "link": "https://stackoverflow.com/questions/56676222/how-to-get-a-nested-routename-in-the-parents-route-or-controller-in-ember-js/56676472#56676472", "title": "How to get a nested routeName in the Parents route or controller in Ember JS", "body": "<p>I'm not sure why you would need to dynamically retrieve the child route(s) as you can always look at <code>router.js</code> to view all child routes which are always going to be hardcoded, however, you can look into using the <a href=\"https://api.emberjs.com/ember/3.10/classes/RouteInfo/properties/child?anchor=child\" rel=\"nofollow noreferrer\">child property on the RouteInfo object</a></p>\n"}], "owner": {"reputation": 684, "user_id": 9357618, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/--J1sOUSEU7U/AAAAAAAAAAI/AAAAAAAAABA/-8yZTx5hA3M/photo.jpg?sz=128", "display_name": "UXCODA", "link": "https://stackoverflow.com/users/9357618/uxcoda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560981807, "creation_date": 1560980275, "question_id": 56676222, "link": "https://stackoverflow.com/questions/56676222/how-to-get-a-nested-routename-in-the-parents-route-or-controller-in-ember-js", "title": "How to get a nested routeName in the Parents route or controller in Ember JS", "body": "<p>I have a nested route and I want to do something on that route. To do that I need to determine when I am on that route.</p>\n\n<p>I'd like to do this from the Parents route or controller. I have tried using</p>\n\n<pre><code>routeName\nfullRouteName\n</code></pre>\n\n<p>in the Parent route but these only return the Parents route name.</p>\n\n<p>Is there a way to get a Child routes name in the Parent route?</p>\n"}, {"tags": ["javascript", "google-maps", "google-places-api"], "comments": [{"owner": {"reputation": 995, "user_id": 731782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47c294a8e7d80a11c76a827f4debd530?s=128&d=identicon&r=PG", "display_name": "DavidP", "link": "https://stackoverflow.com/users/731782/davidp"}, "edited": false, "score": 0, "creation_date": 1560981307, "post_id": 56676193, "comment_id": 99919858, "body": "Yeah, I get <code>&quot;3232 Peachtree Rd Unit A1, Atlanta, GA 30305, USA&quot;</code> running the same query: <code>1 atlanta ga</code>. Would it be possible to have your user select the point on a map and then reverse geocode for more accuracy?"}, {"owner": {"reputation": 995, "user_id": 731782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47c294a8e7d80a11c76a827f4debd530?s=128&d=identicon&r=PG", "display_name": "DavidP", "link": "https://stackoverflow.com/users/731782/davidp"}, "edited": false, "score": 0, "creation_date": 1560981671, "post_id": 56676193, "comment_id": 99919946, "body": "If that is not possible, then have a peek at <a href=\"https://developers.google.com/maps/documentation/javascript/examples/places-autocomplete\" rel=\"nofollow noreferrer\">developers.google.com/maps/documentation/javascript/examples&zwnj;&#8203;/&hellip;</a> - this should help sanitise your input and deliver clean addresses."}, {"owner": {"reputation": 27113, "user_id": 5140781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GkAfu.jpg?s=128&g=1", "display_name": "xomena", "link": "https://stackoverflow.com/users/5140781/xomena"}, "edited": false, "score": 2, "creation_date": 1560985376, "post_id": 56676193, "comment_id": 99920784, "body": "Geocoder is not an address validation service, it just try to resolve input string you provide to some coordinate. If a quality of string is bad, the result is also bad. Geocoder was never designed as address validation tool. Probably place autocomplete might be more suitable. You start typing and select an address from suggested list."}, {"owner": {"reputation": 349, "user_id": 4259646, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f49f359dfd5a73833525f7bcc78814ad?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/4259646/lee"}, "reply_to_user": {"reputation": 995, "user_id": 731782, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47c294a8e7d80a11c76a827f4debd530?s=128&d=identicon&r=PG", "display_name": "DavidP", "link": "https://stackoverflow.com/users/731782/davidp"}, "edited": false, "score": 0, "creation_date": 1561036999, "post_id": 56676193, "comment_id": 99939443, "body": "Unfortunately they are filling out a form with their address and GPS coordinates. There is no map on this page. Since people don&#39;t know their GPS coordinates this button would take the address they provide and get the GPS coordinates. Those coordinates are stored in a database for use later. @DavidP I&#39;ll check out the link you provided."}, {"owner": {"reputation": 349, "user_id": 4259646, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f49f359dfd5a73833525f7bcc78814ad?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/4259646/lee"}, "edited": false, "score": 0, "creation_date": 1561125639, "post_id": 56676193, "comment_id": 99973160, "body": "Thanks. I ended up using a combination of this and autocomplete. I had to use both because autocomplete wouldn&#39;t fill in the top result on blur and I didn&#39;t want the user to have to click on one. If you know of a better way, please let me know."}], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 4259646, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f49f359dfd5a73833525f7bcc78814ad?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/4259646/lee"}, "edited": false, "score": 0, "creation_date": 1560981142, "post_id": 56676331, "comment_id": 99919809, "body": "I tried that, however it does not return partial_match in these examples. I have seen that before, but in many cases it does not indicate a partial match. I edited my question above to show what I get returned."}], "tags": [], "owner": {"reputation": 71, "user_id": 11671838, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb5d0842df26c9c47e01a56ff9a00611?s=128&d=identicon&r=PG&f=1", "display_name": "xerige2", "link": "https://stackoverflow.com/users/11671838/xerige2"}, "is_accepted": false, "score": -1, "last_activity_date": 1560981692, "last_edit_date": 1592644375, "creation_date": 1560980831, "answer_id": 56676331, "question_id": 56676193, "link": "https://stackoverflow.com/questions/56676193/how-do-i-limit-google-maps-api-results-to-prevent-returning-estimate-on-addresse/56676331#56676331", "title": "How do I limit Google Maps API results to prevent returning estimate on addresses that do not exist", "body": "<p>Check the &quot;partial match&quot; value in the response:</p>\n<p><strong><a href=\"https://developers.google.com/maps/documentation/geocoding/intro#geocoding\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/geocoding/intro#geocoding</a></strong></p>\n<blockquote>\n<ul>\n<li><p>partial_match indicates that the geocoder did not return an exact match for the original request, though it was able to match part of the requested address. You may wish to examine the original request for misspellings and/or an incomplete address.</p>\n</li>\n<li><p>Partial matches most often occur for street addresses that do not exist within the locality you pass in the request. Partial matches may also be returned when a request matches two or more locations in the same locality. For example, &quot;21 Henr St, Bristol, UK&quot; will return a partial match for both Henry Street and Henrietta Street. Note that if a request includes a misspelled address component, the geocoding service may suggest an alternative address. Suggestions triggered in this way will also be marked as a partial match.</p>\n</li>\n</ul>\n</blockquote>\n"}], "owner": {"reputation": 349, "user_id": 4259646, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/f49f359dfd5a73833525f7bcc78814ad?s=128&d=identicon&r=PG&f=1", "display_name": "Lee", "link": "https://stackoverflow.com/users/4259646/lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1560981692, "creation_date": 1560980158, "last_edit_date": 1560981229, "question_id": 56676193, "link": "https://stackoverflow.com/questions/56676193/how-do-i-limit-google-maps-api-results-to-prevent-returning-estimate-on-addresse", "title": "How do I limit Google Maps API results to prevent returning estimate on addresses that do not exist", "body": "<p>I am creating a button on a web page to return the latitude and longitude of an address entered into a form using google maps. This works great when the address is valid but also returns results for invalid addresses. I have tried using the geometry.location_type to limit to rooftop location types but this is not good enough since google returns \"rooftop\" for such queries as \"1 b fl\" or \"1 atlanta ga\" - clearly invalid addresses. In the case of \"1 atlanta ga\" it returns a formatted_address of \"401 Moreland Ave NE, Atlanta, GA 30307, USA\". How do I make sure that it only returns accurate - or at least sort of accurate - results? I am not getting error messages to show up in these cases.</p>\n\n<p>I tried using the location_type key but that seems to return \"ROOFTOP\" even in the above examples. I don't see any other keys that specify accuracy. </p>\n\n<pre><code>function geocodeAddress(address) {\n    geocoder.geocode({ 'address': address }, function (results, status) {\n        if (status == 'OK') {\n            var locationType = results[0].geometry.location_type;\n            if (results.length &gt; 1) {\n                $('#errorMessage').text('Too many results')\n            } else {\n                if (locationType != \"ROOFTOP\") {\n                    $('#errorMessage').text('May not be accurate')\n                }\n             $('#Location_Latitude').val(results[0].geometry.location.lat());\n             $('#Location_Longitude').val(results[0].geometry.location.lng());\n            }\n        } else {\n            console.log('Unable to get coordinates at this time: ' + status);\n        }\n    });\n}\n</code></pre>\n\n<p>I would like to see the error message, \"May not be accurate\" show up any time a close to exact match cannot be found. I say close to exact because I don't want the results to throw an error if the user doesn't type it in exactly as it is in the database and because I am only asking for address, city, and state so the country and zip code could be null.</p>\n\n<p>This is the result I get back using the Georgia example above:</p>\n\n<pre><code>0:\naddress_components: (9) [{\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}, {\u2026}]\nformatted_address: \"401 Moreland Ave NE, Atlanta, GA 30307, USA\"\ngeometry:\nlocation: _.R {lat: \u0192, lng: \u0192}\nlocation_type: \"ROOFTOP\"\nviewport: _.Cd {na: Bd, ga: xd}\n__proto__: Object\nplace_id: \"ChIJJ72T1agG9YgR7f1FJRUZsEc\"\nplus_code: {compound_code: \"QM82+3F Atlanta, Georgia, United States\", global_code: \"865QQM82+3F\"}\ntypes: (5) [\"bar\", \"establishment\", \"food\", \"point_of_interest\", \"restaurant\"]\n__proto__: Object\nlength: 1\n__proto__: Array(0)\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "redux", "web-applications", "react-redux"], "answers": [{"tags": [], "owner": {"reputation": 375, "user_id": 6116008, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TN_poWEyw0o/AAAAAAAAAAI/AAAAAAAAF94/EgsTedtpEgI/photo.jpg?sz=128", "display_name": "Ilya Kushlianski", "link": "https://stackoverflow.com/users/6116008/ilya-kushlianski"}, "is_accepted": false, "score": 1, "last_activity_date": 1560982260, "creation_date": 1560982260, "answer_id": 56676544, "question_id": 56676184, "link": "https://stackoverflow.com/questions/56676184/invalidating-refreshing-the-redux-store-in-a-react-web-app/56676544#56676544", "title": "Invalidating/Refreshing the Redux store in a React web app?", "body": "<p>You could use one of the following:</p>\n\n<p>1) short polling (i.e. polling your server once in a while and update the store items)</p>\n\n<p>2) long polling (you open connection, keep it until the data on the server changes, the server then sends you the new data and closes the connection, you reopen it etc...)</p>\n\n<p>3) live updates with websockets, which provide bidirectional communication (this means the server can push data to the client)</p>\n"}, {"comments": [{"owner": {"reputation": 511, "user_id": 9195780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb7aa53691bd1cd7b951973add47c67?s=128&d=identicon&r=PG&f=1", "display_name": "Ping Woo", "link": "https://stackoverflow.com/users/9195780/ping-woo"}, "edited": false, "score": 0, "creation_date": 1560982457, "post_id": 56676565, "comment_id": 99920156, "body": "I am new to react, wait for senior drivers&#39; answer"}], "tags": [], "owner": {"reputation": 511, "user_id": 9195780, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3bb7aa53691bd1cd7b951973add47c67?s=128&d=identicon&r=PG&f=1", "display_name": "Ping Woo", "link": "https://stackoverflow.com/users/9195780/ping-woo"}, "is_accepted": false, "score": 0, "last_activity_date": 1560982415, "creation_date": 1560982415, "answer_id": 56676565, "question_id": 56676184, "link": "https://stackoverflow.com/questions/56676184/invalidating-refreshing-the-redux-store-in-a-react-web-app/56676565#56676565", "title": "Invalidating/Refreshing the Redux store in a React web app?", "body": "<p>Is it when the state changes, react will automatically rerender the component, this might not what you want, but what do you mean by the correct pattern for 'invalidating' this data? like 30 minute it will dispatch an action checkout the state change?</p>\n"}], "owner": {"reputation": 95, "user_id": 10767642, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--yFRIccMyMo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-grdZ6cJI4Di3Ll5QgaLsfOOegMzg/mo/photo.jpg?sz=128", "display_name": "Matthew", "link": "https://stackoverflow.com/users/10767642/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 222, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1560982415, "creation_date": 1560980111, "question_id": 56676184, "link": "https://stackoverflow.com/questions/56676184/invalidating-refreshing-the-redux-store-in-a-react-web-app", "title": "Invalidating/Refreshing the Redux store in a React web app?", "body": "<p>We are in the middle of migrating a fairly complex web app over to a React/Redux architecture. </p>\n\n<p>One major design question i have not been able to find an answer for, is how is data stored in redux supposed to be 'refreshed'? </p>\n\n<p>For example, say i load a list of <code>items</code> at a route like <code>/items</code>. Now the user wants to view a specific item and goes to <code>/items/&lt;id&gt;</code>. </p>\n\n<p>The flow, as i understand should work something like, on the <code>/items</code> request, we make a API request and store all our items in the redux store. When a user clicks on a specific item, we pick out that specific item from our redux store, not needing to make a new API request as we already have the data.</p>\n\n<p>This is all fine &amp; well. But the question then, is what is the correct pattern for 'invalidating' this data?</p>\n\n<p>Say, the user loads the list of <code>items</code> and walks away from there computer for a few hours. Now the list of <code>items</code> is theoretically out of date with the server. </p>\n\n<p>How does one then, go about keeping the store up to date with the server?</p>\n"}, {"tags": ["javascript", "arrays", "object", "javascript-objects"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11672796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zhIL.gif?s=128&g=1", "display_name": "glad2be", "link": "https://stackoverflow.com/users/11672796/glad2be"}, "edited": false, "score": 0, "creation_date": 1560989985, "post_id": 56676173, "comment_id": 99921678, "body": "This worked like a charm! Just for my education - I guess I should read Array(v).fill(k) as: make 2 arrays and fill them with value &#39;green&#39; // which then results in 1st and 2nd element &quot;green&quot;  and so on... Am I reading it right?"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "reply_to_user": {"reputation": 3, "user_id": 11672796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zhIL.gif?s=128&g=1", "display_name": "glad2be", "link": "https://stackoverflow.com/users/11672796/glad2be"}, "edited": false, "score": 0, "creation_date": 1561002895, "post_id": 56676173, "comment_id": 99923864, "body": "Yes, per color you get such little arrays of repeating values, which are then combined to one  array with flatMap."}], "tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": true, "score": 5, "last_activity_date": 1560980042, "creation_date": 1560980042, "answer_id": 56676173, "question_id": 56676142, "link": "https://stackoverflow.com/questions/56676142/how-to-produce-an-array-from-an-object-where-the-number-of-elements-is-determine/56676173#56676173", "title": "How to produce an array from an object where the number of elements is determined by Object.values?", "body": "<p>Could be done like this:</p>\n\n<pre><code>Object.entries(obj).flatMap(([k, v]) =&gt; Array(v).fill(k));\n</code></pre>\n\n<p>Example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const obj = { green: 2, blue: 1, red: 2};\r\nconst res = Object.entries(obj).flatMap(([k, v]) =&gt; Array(v).fill(k));\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 0, "last_activity_date": 1561008444, "last_edit_date": 1561008444, "creation_date": 1560980212, "answer_id": 56676209, "question_id": 56676142, "link": "https://stackoverflow.com/questions/56676142/how-to-produce-an-array-from-an-object-where-the-number-of-elements-is-determine/56676209#56676209", "title": "How to produce an array from an object where the number of elements is determined by Object.values?", "body": "<p>Use <code>reduce</code> with <code>Object.entries</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const obj = { green: 2, blue: 1, red: 2};\r\nconst res = Object.entries(obj).reduce((a, [k, v]) =&gt; (a.push(...new Array(v).fill(k)), a), []);\r\n\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11672796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zhIL.gif?s=128&g=1", "display_name": "glad2be", "link": "https://stackoverflow.com/users/11672796/glad2be"}, "edited": false, "score": 0, "creation_date": 1560990273, "post_id": 56676221, "comment_id": 99921732, "body": "I voted for a somewhat simpler solution above, but yours is very smart as well. Thanks!"}], "tags": [], "owner": {"reputation": 12887, "user_id": 5867572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2b0e97a2e32627a9b2a8922492b4aa4?s=128&d=identicon&r=PG&f=1", "display_name": "gavgrif", "link": "https://stackoverflow.com/users/5867572/gavgrif"}, "is_accepted": false, "score": 0, "last_activity_date": 1560980274, "creation_date": 1560980274, "answer_id": 56676221, "question_id": 56676142, "link": "https://stackoverflow.com/questions/56676142/how-to-produce-an-array-from-an-object-where-the-number-of-elements-is-determine/56676221#56676221", "title": "How to produce an array from an object where the number of elements is determined by Object.values?", "body": "<p>Object.entries will do that - it gives a key: value pair of each property in the object. You then use the value to push the key into an array that gives you the desired output.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = { green: 2, blue: 1, red: 2};\r\n\r\nvar newArr = [];\r\nvar objEntries = Object.entries(obj);\r\n\r\nobjEntries.forEach(function(item){\r\n  for(var i = 0; i &lt; item[1]; i++){\r\n   newArr.push(item[0])\r\n  };\r\n})\r\n\r\nconsole.log(newArr); // gives //[ 'green', 'green', 'blue', 'red', 'red']</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 62, "user_id": 9639737, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xn27qWJkF9E/AAAAAAAAAAI/AAAAAAAAAK4/Vig8eTs2fMk/photo.jpg?sz=128", "display_name": "Bhavik Tarpara", "link": "https://stackoverflow.com/users/9639737/bhavik-tarpara"}, "is_accepted": false, "score": 0, "last_activity_date": 1561011089, "creation_date": 1561011089, "answer_id": 56679960, "question_id": 56676142, "link": "https://stackoverflow.com/questions/56676142/how-to-produce-an-array-from-an-object-where-the-number-of-elements-is-determine/56679960#56679960", "title": "How to produce an array from an object where the number of elements is determined by Object.values?", "body": "<pre><code>var data={ green: 2, blue: 1, red: 2};\nvar newData=[];\nfor(let i in data){\n    for(let j=0;j&lt;data[i];j++){\n        newData.push(i);\n    }\n}\nconsole.log('newData = ', newData);\n</code></pre>\n\n<p>output</p>\n\n<pre><code>newData = [\"green\", \"green\", \"blue\", \"red\", \"red\"]\n</code></pre>\n\n<p>\u00a0</p>\n"}, {"tags": [], "owner": {"reputation": 15562, "user_id": 155819, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yXygz.jpg?s=128&g=1", "display_name": "Akrion", "link": "https://stackoverflow.com/users/155819/akrion"}, "is_accepted": false, "score": 0, "last_activity_date": 1561011979, "last_edit_date": 1561011979, "creation_date": 1561011143, "answer_id": 56679970, "question_id": 56676142, "link": "https://stackoverflow.com/questions/56676142/how-to-produce-an-array-from-an-object-where-the-number-of-elements-is-determine/56679970#56679970", "title": "How to produce an array from an object where the number of elements is determined by Object.values?", "body": "<p>In the case you do not want to deal with polifills for <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/flatMap#Browser_compatibility\" rel=\"nofollow noreferrer\">flatMap support</a> in IE etc you can also consider this solution which is based only on <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/keys\" rel=\"nofollow noreferrer\">Object.keys</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">Array.forEach</a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let obj = {green: 2, blue: 1, red: 2}, arr=[]\r\n\r\nObject.keys(obj).forEach(x =&gt; arr.push(...Array(obj[x]).fill(x)))\r\n\r\nconsole.log(arr)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Another approach you can take to avoid ES6 Array destructuring is via <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\">Array.reduce</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/entries\" rel=\"nofollow noreferrer\">Object.entries</a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let obj = {green: 2, blue: 1, red: 2}\r\n\r\nlet r = Object.entries(obj).reduce((r,[k,v]) =&gt; r.concat(Array(v).fill(k)),[])\r\n\r\nconsole.log(r)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 298, "user_id": 1794390, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f9e77580dab4395246c78fa80275a203?s=128&d=identicon&r=PG", "display_name": "Tejas Savaliya", "link": "https://stackoverflow.com/users/1794390/tejas-savaliya"}, "is_accepted": false, "score": 0, "last_activity_date": 1561012768, "creation_date": 1561012768, "answer_id": 56680329, "question_id": 56676142, "link": "https://stackoverflow.com/questions/56676142/how-to-produce-an-array-from-an-object-where-the-number-of-elements-is-determine/56680329#56680329", "title": "How to produce an array from an object where the number of elements is determined by Object.values?", "body": "<p>Using map and flat if you don't want to use flatMap directly </p>\n\n<pre><code>const obj = { \n   green: 2, \n   blue: 1, \n   red: 2\n};\n\nconst responseArray = Object.entries(obj)\n    .map(([key,value]) =&gt; {\n        return Array(value).fill(key)\n}).flat();\n\nconsole.log(responseArray);\n// \u00a0[\"green\", \"green\", \"blue\", \"red\", \"red\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2483, "user_id": 810242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/48d333422cfab5c7d4fa2861d31ca1f4?s=128&d=identicon&r=PG", "display_name": "dpwr", "link": "https://stackoverflow.com/users/810242/dpwr"}, "is_accepted": false, "score": 1, "last_activity_date": 1580904907, "creation_date": 1580904907, "answer_id": 60075635, "question_id": 56676142, "link": "https://stackoverflow.com/questions/56676142/how-to-produce-an-array-from-an-object-where-the-number-of-elements-is-determine/60075635#60075635", "title": "How to produce an array from an object where the number of elements is determined by Object.values?", "body": "<p>This is a neat way with a generator. Perhaps a little overkill for this example.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function* makeIterator(obj) {\r\n    const keys = Object.keys(obj);\r\n    for (const key of keys) {\r\n        const value = obj[key];\r\n        for (let i = 0; i &lt; value; i++) {\r\n            yield key;\r\n        }\r\n    }\r\n}\r\n\r\nconst obj = {green: 2, blue: 1, red: 2};\r\nconsole.log(Array.from(makeIterator(obj)));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 11672796, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zhIL.gif?s=128&g=1", "display_name": "glad2be", "link": "https://stackoverflow.com/users/11672796/glad2be"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 56676173, "answer_count": 7, "score": 0, "last_activity_date": 1580904907, "creation_date": 1560979898, "last_edit_date": 1560980497, "question_id": 56676142, "link": "https://stackoverflow.com/questions/56676142/how-to-produce-an-array-from-an-object-where-the-number-of-elements-is-determine", "title": "How to produce an array from an object where the number of elements is determined by Object.values?", "body": "<p>I have an object like so:</p>\n\n<pre><code>{ green: 2, blue: 1, red: 2}\n</code></pre>\n\n<p>How can I turn it into an array that looks like this:</p>\n\n<pre><code>[ 'green', 'green', 'blue', 'red', 'red']\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "settimeout", "requestanimationframe"], "comments": [{"owner": {"reputation": 10360, "user_id": 3986005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kUYP4.jpg?s=128&g=1", "display_name": "KIKO Software", "link": "https://stackoverflow.com/users/3986005/kiko-software"}, "edited": false, "score": 1, "creation_date": 1560980546, "post_id": 56676141, "comment_id": 99919633, "body": "You&#39;re using an offset to the start time, called <code>elapsed</code>, which progresses no matter what the mouse does. So every time you un-pause the progress bar jumps back to where it is supposed to be, as if you hadn&#39;t paused at all. Or is that not the jumping you&#39;re talking about?"}, {"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1560980659, "post_id": 56676141, "comment_id": 99919667, "body": "One possible issue is that you&#39;re nesting <code>requestAnimationFrame</code> in another function that calls <code>requestAnimationFrame</code>. Shouldn&#39;t <code>this.progressId = requestAnimationFrame(this.progressBar);</code> just be <code>this.progressId = this.progressBar;</code>?"}, {"owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1560980708, "post_id": 56676141, "comment_id": 99919685, "body": "I think setTimeout and requestAnimationFrame are incompatible"}, {"owner": {"reputation": 3, "user_id": 11672649, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KCbvvcATX24/AAAAAAAAAAI/AAAAAAAAADY/Zc4cL0qqbqo/photo.jpg?sz=128", "display_name": "nandi95", "link": "https://stackoverflow.com/users/11672649/nandi95"}, "reply_to_user": {"reputation": 10360, "user_id": 3986005, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kUYP4.jpg?s=128&g=1", "display_name": "KIKO Software", "link": "https://stackoverflow.com/users/3986005/kiko-software"}, "edited": false, "score": 0, "creation_date": 1560985684, "post_id": 56676141, "comment_id": 99920855, "body": "@KIKOSoftware Ah yes I can see that now. I&#39;ll try to implement a fix for that soon, but how would that explain the pausing behavior near to the end of the progress when the jump is minimal or non-existent"}], "answers": [{"comments": [{"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 1, "creation_date": 1560988445, "post_id": 56677199, "comment_id": 99921412, "body": "<code>requestAnimationFrame</code> has multiple properties that make it superior to <code>setInterval</code> when it comes to graphic rendering. I don&#39;t think it&#39;s a good idea to forego it simply because the existing iteration doesn&#39;t work for OP"}], "tags": [], "owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "is_accepted": false, "score": 0, "last_activity_date": 1560987329, "creation_date": 1560987329, "answer_id": 56677199, "question_id": 56676141, "link": "https://stackoverflow.com/questions/56676141/how-to-fix-settimeout-requestanimationframe-accuracy/56677199#56677199", "title": "How to fix setTimeout/requestAnimationFrame accuracy", "body": "<p>I think simply using SetInterval is enough :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const progressBar = {\r\n  MsgBox : document.querySelector('#Message'),\r\n  Info   : document.querySelector('#Message h1'),\r\n  barr   : document.querySelector('#Message progress'),\r\n  interV : 0,\r\n  DTime  : 0,\r\n  D_Max  : 0,\r\n\r\n  Init() {\r\n    this.MsgBox.onmouseover=_=&gt; {   // pause\r\n      clearInterval( this.interV )\r\n    }\r\n    this.MsgBox.onmouseout=_=&gt;{     // restart\r\n      this._run()\r\n    }\r\n  },\r\n  Start(t,txt)\r\n  {\r\n    this.DTime = this.D_Max = t * 1000\r\n    this.barr.value = 0\r\n    this.barr.max = this.D_Max\r\n    this.Info.textContent = txt\r\n    this._run()\r\n  },\r\n  _run()\r\n  {\r\n    let D_End = new Date(Date.now() + this.DTime )\r\n\r\n    this.interV = setInterval(_=&gt;{\r\n      this.DTime = D_End - (new Date(Date.now()))\r\n\r\n      if (this.DTime &gt; 0) { this.barr.value = this.D_Max - this.DTime }\r\n      else                { clearInterval( this.interV ); console.clear(); console.log( \"finish\" ) }      \r\n    }, 100);\r\n  }\r\n}\r\n\r\n\r\nprogressBar.Init()\r\n\r\nprogressBar.Start(10, 'Hello!') // 10 seconds</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#Message {\r\n  box-sizing: border-box;\r\n  display: block;\r\n  float: right;\r\n  width: 200px;\r\n  height: 80px;\r\n  background-color: darkslategrey;\r\n  padding: 0 1em;\r\n  color:#e4a8b4;\r\n  cursor: pointer;\r\n  margin-right:1.5em;\r\n}\r\n#Message h1 { margin: .3em 0 0 0}\r\n#Message progress { height: .1em; margin: 0; width:100%; background-color:black; }\r\n#Message progress::-moz-progress-bar,\r\n#Message progress::-webkit-progress-value { background-color:greenyellow; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"Message\"&gt;\r\n  &lt;progress value=\"50\" max=\"100\" &gt;&lt;/progress&gt;\r\n  &lt;h1&gt; &lt;/h1&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11672649, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KCbvvcATX24/AAAAAAAAAAI/AAAAAAAAADY/Zc4cL0qqbqo/photo.jpg?sz=128", "display_name": "nandi95", "link": "https://stackoverflow.com/users/11672649/nandi95"}, "edited": false, "score": 0, "creation_date": 1561190837, "post_id": 56679243, "comment_id": 99989883, "body": "Yes, updating the started at indeed fixed my problem. Thank you ever so much."}], "tags": [], "owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "is_accepted": true, "score": 0, "last_activity_date": 1561006858, "creation_date": 1561006858, "answer_id": 56679243, "question_id": 56676141, "link": "https://stackoverflow.com/questions/56676141/how-to-fix-settimeout-requestanimationframe-accuracy/56679243#56679243", "title": "How to fix setTimeout/requestAnimationFrame accuracy", "body": "<p>When you do calculate the current progress of your timer, you are not taking the pause time into consideration. Hence the jumps: This part of your code is only aware of the startTime and currentTime, it won't be affected by the pauses.</p>\n\n<p>To circumvent it, you can either accumulate all this pause times in the startTimer function</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Timer {\r\n  constructor() {\r\n    this.progress = 0;\r\n    this.totalPauseDuration = 0;\r\n    const d = this.timerFinishesAt = new Date(Date.now() + 10000);\r\n    this.timerStarted = new Date();\r\n    this.timerPausedAt = new Date();\r\n  }\r\n  timerStart() {\r\n    const pauseDuration = (Date.now() - this.timerPausedAt.getTime())\r\n\r\n    this.totalPauseDuration += pauseDuration;\r\n\r\n    // new future date = future date + elapsed time since pausing\r\n    this.timerFinishesAt = new Date(this.timerFinishesAt.getTime() + pauseDuration);\r\n    // set new timeout\r\n    this.timerId = window.setTimeout(this.toggleVisibility.bind(this), (this.timerFinishesAt.getTime() - Date.now()));\r\n    // animation start\r\n    this.progressId = requestAnimationFrame(this.progressBar.bind(this));\r\n  }\r\n  timerPause() {\r\n    // stop notification from closing\r\n    window.clearTimeout(this.timerId);\r\n    // set to null so animation won't stay in a loop\r\n    this.timerId = null;\r\n    // stop loader animation from progressing\r\n    cancelAnimationFrame(this.progressId);\r\n    this.progressId = null;\r\n\r\n    this.timerPausedAt = new Date();\r\n  }\r\n  progressBar() {\r\n    if (this.progress &lt; 100) {\r\n      let elapsed = (Date.now() - this.timerStarted.getTime()) - this.totalPauseDuration;\r\n      let wholeTime = this.timerFinishesAt.getTime() - this.timerStarted.getTime();\r\n      this.progress = Math.ceil((elapsed / wholeTime) * 100);\r\n      \r\n      log.textContent = this.progress;\r\n      \r\n      if (this.timerId) {\r\n        this.progressId = requestAnimationFrame(this.progressBar.bind(this));\r\n      }\r\n\r\n    } else {\r\n      this.progressId = cancelAnimationFrame(this.progressId);\r\n    }\r\n  }\r\n  toggleVisibility() {\r\n    console.log(\"done\");\r\n  }\r\n};\r\n\r\nconst timer = new Timer();\r\n\r\nbtn.onclick = e =&gt; {\r\n  if (timer.timerId) timer.timerPause();\r\n  else timer.timerStart();\r\n};</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;pre id=\"log\"&gt;&lt;/pre&gt;\r\n\r\n&lt;button id=\"btn\"&gt;toggle&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>or update the startTime, which seems to be more reliable:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Timer {\r\n  constructor() {\r\n    this.progress = 0;\r\n    const d = this.timerFinishesAt = new Date(Date.now() + 10000);\r\n    this.timerStarted = new Date();\r\n    this.timerPausedAt = new Date();\r\n  }\r\n  timerStart() {\r\n    const pauseDuration = (Date.now() - this.timerPausedAt.getTime())\r\n\r\n    // update timerStarted\r\n    this.timerStarted = new Date(this.timerStarted.getTime() + pauseDuration);\r\n\r\n    // new future date = future date + elapsed time since pausing\r\n    this.timerFinishesAt = new Date(this.timerFinishesAt.getTime() + pauseDuration);\r\n    // set new timeout\r\n    this.timerId = window.setTimeout(this.toggleVisibility.bind(this), (this.timerFinishesAt.getTime() - Date.now()));\r\n    // animation start\r\n    this.progressId = requestAnimationFrame(this.progressBar.bind(this));\r\n  }\r\n  timerPause() {\r\n    // stop notification from closing\r\n    window.clearTimeout(this.timerId);\r\n    // set to null so animation won't stay in a loop\r\n    this.timerId = null;\r\n    // stop loader animation from progressing\r\n    cancelAnimationFrame(this.progressId);\r\n    this.progressId = null;\r\n\r\n    this.timerPausedAt = new Date();\r\n  }\r\n  progressBar() {\r\n    if (this.progress &lt; 100) {\r\n      let elapsed = Date.now() - this.timerStarted.getTime();\r\n      let wholeTime = this.timerFinishesAt.getTime() - this.timerStarted.getTime();\r\n      this.progress = Math.ceil((elapsed / wholeTime) * 100);\r\n      \r\n      log.textContent = this.progress;\r\n      \r\n      if (this.timerId) {\r\n        this.progressId = requestAnimationFrame(this.progressBar.bind(this));\r\n      }\r\n\r\n    } else {\r\n      this.progressId = cancelAnimationFrame(this.progressId);\r\n    }\r\n  }\r\n  toggleVisibility() {\r\n    console.log(\"done\");\r\n  }\r\n};\r\n\r\nconst timer = new Timer();\r\n\r\nbtn.onclick = e =&gt; {\r\n  if (timer.timerId) timer.timerPause();\r\n  else timer.timerStart();\r\n};</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;pre id=\"log\"&gt;&lt;/pre&gt;\r\n\r\n&lt;button id=\"btn\"&gt;toggle&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As to the final gap, not seeing how this code is linked with your UI, it's hard to tell what happens.</p>\n"}], "owner": {"reputation": 3, "user_id": 11672649, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KCbvvcATX24/AAAAAAAAAAI/AAAAAAAAADY/Zc4cL0qqbqo/photo.jpg?sz=128", "display_name": "nandi95", "link": "https://stackoverflow.com/users/11672649/nandi95"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 56679243, "answer_count": 2, "score": 0, "last_activity_date": 1561006858, "creation_date": 1560979890, "question_id": 56676141, "link": "https://stackoverflow.com/questions/56676141/how-to-fix-settimeout-requestanimationframe-accuracy", "title": "How to fix setTimeout/requestAnimationFrame accuracy", "body": "<p>For demonstration of the issue please see here:</p>\n\n<p><a href=\"https://gyazo.com/06e423d07afecfa2fbdb06a6da77f66a\" rel=\"nofollow noreferrer\">https://gyazo.com/06e423d07afecfa2fbdb06a6da77f66a</a></p>\n\n<p>I'm getting a jumping behavior on un-pausing the notification. This is also influenced by how long the mouse stays on the notification and how close the progress is to the end.</p>\n\n<p>I've tried so many things, I'm not sure anymore if the problem is truly with setTimeout.</p>\n\n<p>It is like as if since the calculation of this.timerFinishesAt to the first iteration of requestAnimationFrame the progress jumps due to waiting on cpu time? But then again, why would it be influenced by the hover time and progress.</p>\n\n<p>How do I mitigate the jumping behavior?</p>\n\n<p>I read/tried to implement the fix from the following resources amongst looking at other stackoverflow questions:</p>\n\n<p><a href=\"https://gist.github.com/tanepiper/4215634\" rel=\"nofollow noreferrer\">https://gist.github.com/tanepiper/4215634</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/29971898/how-to-create-an-accurate-timer-in-javascript\">How to create an accurate timer in javascript?</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/21097421/what-is-the-reason-javascript-settimeout-is-so-inaccurate\">What is the reason JavaScript setTimeout is so inaccurate?</a></p>\n\n<p><a href=\"https://www.sitepoint.com/creating-accurate-timers-in-javascript/\" rel=\"nofollow noreferrer\">https://www.sitepoint.com/creating-accurate-timers-in-javascript/</a></p>\n\n<p><a href=\"https://codepen.io/sayes2x/embed/GYdLqL?default-tabs=js%2Cresult&amp;height=600&amp;host=https%3A%2F%2Fcodepen.io&amp;referrer=https%3A%2F%2Fmedium.com%2Fmedia%2Fb90251c55fe9ac7717ae8451081f6366%3FpostId%3D255f3f5cf50c&amp;slug-hash=GYdLqL\" rel=\"nofollow noreferrer\">https://codepen.io/sayes2x/embed/GYdLqL?default-tabs=js%2Cresult&amp;height=600&amp;host=https%3A%2F%2Fcodepen.io&amp;referrer=https%3A%2F%2Fmedium.com%2Fmedia%2Fb90251c55fe9ac7717ae8451081f6366%3FpostId%3D255f3f5cf50c&amp;slug-hash=GYdLqL</a></p>\n\n<p><a href=\"https://github.com/Falc/Tock.js/tree/master\" rel=\"nofollow noreferrer\">https://github.com/Falc/Tock.js/tree/master</a></p>\n\n<p><a href=\"https://github.com/philipyoungg/timer\" rel=\"nofollow noreferrer\">https://github.com/philipyoungg/timer</a></p>\n\n<p><a href=\"https://github.com/Aaronik/accurate_timer\" rel=\"nofollow noreferrer\">https://github.com/Aaronik/accurate_timer</a></p>\n\n<p><a href=\"https://github.com/husa/timer.js\" rel=\"nofollow noreferrer\">https://github.com/husa/timer.js</a></p>\n\n<pre><code>timerStart(){\n   // new future date = future date + elapsed time since pausing\n   this.timerFinishesAt = new Date( this.timerFinishesAt.getTime() + (Date.now() - this.timerPausedAt.getTime()) );\n   // set new timeout\n   this.timerId = window.setTimeout(this.toggleVisibility, (this.timerFinishesAt.getTime() - Date.now()));\n   // animation start\n   this.progressId = requestAnimationFrame(this.progressBar);\n},\ntimerPause(){\n   // stop notification from closing\n   window.clearTimeout(this.timerId);\n   // set to null so animation won't stay in a loop\n   this.timerId = null;\n   // stop loader animation from progressing\n   cancelAnimationFrame(this.progressId);\n   this.progressId = null;\n\n   this.timerPausedAt = new Date();\n},\nprogressBar(){\n   if (this.progress &lt; 100) {\n     let elapsed = Date.now() - this.timerStarted.getTime();\n     let wholeTime = this.timerFinishesAt.getTime() - this.timerStarted.getTime();\n     this.progress = Math.ceil((elapsed / wholeTime) * 100);\n\n     if (this.timerId) {\n       this.progressId = requestAnimationFrame(this.progressBar);\n     }\n\n   } else {\n     this.progressId = cancelAnimationFrame(this.progressId);\n   }\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 3901, "user_id": 5203853, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fc13d83da1b2b866c973e239ea3b38d3?s=128&d=identicon&r=PG&f=1", "display_name": "Tom el Safadi", "link": "https://stackoverflow.com/users/5203853/tom-el-safadi"}, "edited": false, "score": 0, "creation_date": 1560980551, "post_id": 56676164, "comment_id": 99919634, "body": "Thanks for your answer. Could you please reopen my question, as this is not a duplicate. See my edit explaining my reasoning."}, {"owner": {"reputation": 3901, "user_id": 5203853, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fc13d83da1b2b866c973e239ea3b38d3?s=128&d=identicon&r=PG&f=1", "display_name": "Tom el Safadi", "link": "https://stackoverflow.com/users/5203853/tom-el-safadi"}, "edited": false, "score": 0, "creation_date": 1560980645, "post_id": 56676164, "comment_id": 99919662, "body": "Unfortunately, it has to work in all browsers. Can you think of any other way of checking if all inputs of a class have a value without iteration?"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "reply_to_user": {"reputation": 3901, "user_id": 5203853, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fc13d83da1b2b866c973e239ea3b38d3?s=128&d=identicon&r=PG&f=1", "display_name": "Tom el Safadi", "link": "https://stackoverflow.com/users/5203853/tom-el-safadi"}, "edited": false, "score": 0, "creation_date": 1560980670, "post_id": 56676164, "comment_id": 99919670, "body": "The duplicate does cover your case.  A filter on the inputs would also do the same thing.  <code>$(&#39;input&#39;).filter(function(){ return !this.value.trim(); }) === 0</code>"}, {"owner": {"reputation": 3901, "user_id": 5203853, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fc13d83da1b2b866c973e239ea3b38d3?s=128&d=identicon&r=PG&f=1", "display_name": "Tom el Safadi", "link": "https://stackoverflow.com/users/5203853/tom-el-safadi"}, "edited": false, "score": 0, "creation_date": 1560980831, "post_id": 56676164, "comment_id": 99919721, "body": "I don&#39;t need it on all my inputs. I need it only on the inputs inside the class."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "reply_to_user": {"reputation": 3901, "user_id": 5203853, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fc13d83da1b2b866c973e239ea3b38d3?s=128&d=identicon&r=PG&f=1", "display_name": "Tom el Safadi", "link": "https://stackoverflow.com/users/5203853/tom-el-safadi"}, "edited": false, "score": 0, "creation_date": 1560980848, "post_id": 56676164, "comment_id": 99919731, "body": "So select just the ones you want to check.  That is a small detail."}], "tags": [], "owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "is_accepted": true, "score": 1, "last_activity_date": 1560979994, "creation_date": 1560979994, "answer_id": 56676164, "question_id": 56676130, "link": "https://stackoverflow.com/questions/56676130/check-if-all-inputs-of-class-have-value/56676164#56676164", "title": "Check if all inputs of class have value", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/:empty\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/CSS/:empty</a></p>\n\n<pre><code>:empty\n</code></pre>\n\n<p>Is used to find elements that have no children.  Not for inputs that do not have a value.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/:blank\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/CSS/:blank</a></p>\n\n<pre><code>:blank\n</code></pre>\n\n<p>Is an up and coming pseudoselector for empty inputs, but coverage is still being added for browsers.</p>\n"}], "owner": {"reputation": 3901, "user_id": 5203853, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/fc13d83da1b2b866c973e239ea3b38d3?s=128&d=identicon&r=PG&f=1", "display_name": "Tom el Safadi", "link": "https://stackoverflow.com/users/5203853/tom-el-safadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "closed_date": 1560988843, "accepted_answer_id": 56676164, "answer_count": 1, "score": 0, "last_activity_date": 1560988416, "creation_date": 1560979808, "last_edit_date": 1560988412, "question_id": 56676130, "link": "https://stackoverflow.com/questions/56676130/check-if-all-inputs-of-class-have-value", "closed_reason": "Duplicate", "title": "Check if all inputs of class have value", "body": "<p>I have a class <code>.address</code> added to a couple of my inputs. Basically, I want to check if all of them have been filled out. I know this is possible by iterating over the class like this:</p>\n\n<pre><code>var valueForAll = true;\n$('.address').each(function (i, obj) {\n    if ($(this).val() == \"\") {\n        valueForAll = false;\n    }\n});\nif (valueForAll == true) {\n    // Do something\n}\nelse {\n    // Do something else\n}\n</code></pre>\n\n<p>I don't think this is an ideal solution though. So I found the <code>:empty</code> selector. Which works like this:</p>\n\n<pre><code>$(\"input:empty\").length == 0;\n</code></pre>\n\n<p>However, doing this for my class always shows a length of 6. I don't know why.</p>\n\n<pre><code>$(\".address:empty\").length == 0;\n</code></pre>\n\n<p><strong>Edit:</strong></p>\n\n<p>This is not a duplicate question as <a href=\"https://stackoverflow.com/questions/8907835/check-all-input-fields-have-been-filled-out-with-jquery\">this one</a> attached from @chrispbacon. This question focuses on how to check if all inputs <strong>of a class</strong> have been filled, <strong>not all elements inside a div</strong>. I cannot find any thread on Stack Overflow that focuses on how to check if all inputs have a value of a class without iterating over the class.</p>\n"}, {"tags": ["javascript", "jquery", "addeventlistener", "onkeydown", "onkeyup"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 3, "creation_date": 1560979816, "post_id": 56676076, "comment_id": 99919409, "body": "don&#39;t use <code>document.write</code> or <code>document.writeln</code> - use <code>console.log</code> - and it will probably work"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1560979910, "post_id": 56676076, "comment_id": 99919436, "body": "the jquery code doesn&#39;t work because you don&#39;t know jquery ... <code>$(&#39;q&#39;).keydown</code> doesn&#39;t add an event listener for the <code>q</code> key - it adds a keydown event listener for elements whose tag name is <code>q</code> ... i.e. nothing in your HTML"}, {"owner": {"reputation": 39, "user_id": 11672751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0c69179a1fe65986c3789d02995fe?s=128&d=identicon&r=PG&f=1", "display_name": "cyber_phoenEX", "link": "https://stackoverflow.com/users/11672751/cyber-phoenex"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1560983168, "post_id": 56676076, "comment_id": 99920323, "body": "@JaromandaX Thanks for the feedback, I was aware that it was referring to the element name, but I&#39;m not sure how to assign a name to any key the user presses- I guess I&#39;ll do some reading. As for your first statement: I agree absolutely. As I said, this is my very first time using JavaScript from knowing none of it, so I knew exactly 0 JQuery."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1560987214, "post_id": 56676076, "comment_id": 99921163, "body": "document.write has absolutely nothing to do with jQuery - so my first statement has nothing to do with jQuery either :D"}, {"owner": {"reputation": 39, "user_id": 11672751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0c69179a1fe65986c3789d02995fe?s=128&d=identicon&r=PG&f=1", "display_name": "cyber_phoenEX", "link": "https://stackoverflow.com/users/11672751/cyber-phoenex"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1561003306, "post_id": 56676076, "comment_id": 99923932, "body": "@JaromandaX I meant the statement: &quot;the jquery code doesn&#39;t work because you don&#39;t know jquery&quot; sorry, I didn&#39;t make that clear, that&#39;s why I said I agree completely and have no experience with JQuery. I at least know enough to see that I was using document.write before I downloaded JQuery"}], "answers": [{"tags": [], "owner": {"reputation": 5573, "user_id": 7692859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb1b961fa00ddbd4fccc08e070762a27?s=128&d=identicon&r=PG&f=1", "display_name": "Anis R.", "link": "https://stackoverflow.com/users/7692859/anis-r"}, "is_accepted": false, "score": 0, "last_activity_date": 1560980300, "creation_date": 1560980300, "answer_id": 56676229, "question_id": 56676076, "link": "https://stackoverflow.com/questions/56676076/javascript-keyup-and-keydown-event-listeners-only-trigger-once/56676229#56676229", "title": "JavaScript &#39;keyup&#39; and &#39;keydown&#39; event listeners only trigger once", "body": "<p>As commented by @JaromandaX, the issue is with using <code>document.writeln()</code> inside your event handler. Using <code>console.log()</code> instead fixes the issue.</p>\n\n<p><strong>Explanation:</strong> Using <code>document.write()</code> after the page has loaded wipes out the current document, and replaces the contents with whatever string is passed. <a href=\"https://stackoverflow.com/a/2775976/7692859\">Credits</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var start, finish, diff;\r\n\r\n      document.onkeydown = function(e){\r\n          start = new Date();\r\n          console.log(start);\r\n      }\r\n\r\n      document.onkeyup = function(e){\r\n          finish = new Date();\r\n          diff = finish - start;\r\n          console.log(finish);\r\n          console.log(diff);\r\n      }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!--\"Most stable\" version, utilizing onkeyup/onkeydown and writeln--&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n  &lt;head&gt;\r\n\r\n  &lt;/head&gt;\r\n\r\n  &lt;body&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 11672751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0c69179a1fe65986c3789d02995fe?s=128&d=identicon&r=PG&f=1", "display_name": "cyber_phoenEX", "link": "https://stackoverflow.com/users/11672751/cyber-phoenex"}, "edited": false, "score": 0, "creation_date": 1560983347, "post_id": 56676240, "comment_id": 99920374, "body": "Huh, thanks for the feedback! I will test shortly and edit my response- I didn&#39;t realize document.write did that- I guess I was thinking of it like C++ cout or Java&#39;s System.out.println. I&#39;m very new to web development"}, {"owner": {"reputation": 855, "user_id": 4629519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z-ptdSU_uOM/AAAAAAAAAAI/AAAAAAAABEI/UHK4WP-lx8Y/photo.jpg?sz=128", "display_name": "Grant Noe", "link": "https://stackoverflow.com/users/4629519/grant-noe"}, "edited": false, "score": 0, "creation_date": 1560984768, "post_id": 56676240, "comment_id": 99920655, "body": "You should use <code>performance.now()</code> instead of <code>new Date()</code>. Also, your start date will keep getting reset when the key is held down, unless you set some status variable to <code>false</code>, and then only reset to <code>true</code> upon <code>keyup</code>."}, {"owner": {"reputation": 39, "user_id": 11672751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0c69179a1fe65986c3789d02995fe?s=128&d=identicon&r=PG&f=1", "display_name": "cyber_phoenEX", "link": "https://stackoverflow.com/users/11672751/cyber-phoenex"}, "reply_to_user": {"reputation": 855, "user_id": 4629519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z-ptdSU_uOM/AAAAAAAAAAI/AAAAAAAABEI/UHK4WP-lx8Y/photo.jpg?sz=128", "display_name": "Grant Noe", "link": "https://stackoverflow.com/users/4629519/grant-noe"}, "edited": false, "score": 0, "creation_date": 1561003706, "post_id": 56676240, "comment_id": 99924002, "body": "@GrantNoe Great point, I didn&#39;t think of that- that probably explains the weird numbers I was getting for the difference. Ironically I was trying to smooth out the testing process so I can work on the very bug you just found. ...Which now I think about it should have told me the issue was with the document.write, because it worked when I didn&#39;t have multiple. Welp, I guess hindsight is 20/20."}], "tags": [], "owner": {"reputation": 822, "user_id": 3738936, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/762a46533d8d4488a9c6ad749d6a0691?s=128&d=identicon&r=PG&f=1", "display_name": "user3738936", "link": "https://stackoverflow.com/users/3738936/user3738936"}, "is_accepted": false, "score": 1, "last_activity_date": 1560980367, "creation_date": 1560980367, "answer_id": 56676240, "question_id": 56676076, "link": "https://stackoverflow.com/questions/56676076/javascript-keyup-and-keydown-event-listeners-only-trigger-once/56676240#56676240", "title": "JavaScript &#39;keyup&#39; and &#39;keydown&#39; event listeners only trigger once", "body": "<p>I think you want something like this.</p>\n\n<pre><code>// The initial script\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n &lt;head&gt;\n   &lt;script type=\"text/javascript\"&gt;\n    var start, finish, diff;\n\n// Adds event listeners\ndocument.addEventListener('keydown',startTimer);\ndocument.addEventListener('keyup',endTimer);\n\n// Runs on keydown, simply stores a new date\nfunction startTimer(e){\n    console.log('down', e)\n            start = new Date();\n        }\n\n        // Runs on keyup, stores a new date (time in milliseconds since \n//  epoch),\n        // then takes and prints the difference between the two. \n        function endTimer(e){\n      console.log('up', e)\n           finish = new Date();\n            diff = finish - start;\n          console.log('diff', diff)\n            document.querySelector('body').innerHTML = (diff);\n        } \n\n   &lt;/script&gt;\n  &lt;/head&gt;\n\n &lt;body&gt;\n &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>The problem is when you tell <code>endTimer</code> to write the amount of time that has past:</p>\n\n<pre><code>document.write(diff)\n</code></pre>\n\n<p>you are writing to the root of the document and not an element in the document. Once that is overwritten you do not have a DOM object to have an event from.</p>\n"}], "owner": {"reputation": 39, "user_id": 11672751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db0c69179a1fe65986c3789d02995fe?s=128&d=identicon&r=PG&f=1", "display_name": "cyber_phoenEX", "link": "https://stackoverflow.com/users/11672751/cyber-phoenex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 806, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1560980367, "creation_date": 1560979565, "question_id": 56676076, "link": "https://stackoverflow.com/questions/56676076/javascript-keyup-and-keydown-event-listeners-only-trigger-once", "title": "JavaScript &#39;keyup&#39; and &#39;keydown&#39; event listeners only trigger once", "body": "<p>I am a novice JavaScript programmer- this is my first project in the language. I am currently attempting to run a makeshift \"timer\" that triggers when a key is pressed down (keydown) and ends when the key is released (keyup). For testing purposes, I also have each function print a statement whenever they trigger. Unfortunately, I can only get the event listener to trigger once. I want the script to run and respond to input whenever the user hits any key. Honestly, the \"timer\" is a placeholder for a larger project- getting the keydown/keyup events to run each time the user presses a key is what matters instead of only on the initial press. </p>\n\n<p>I have tried a lot of different tactics already, and I will continue to research the issue as I await a response. At first, I suspected the issue was because I set the JavaScript in the head part of the html document, before it loaded, but moving it to the body did not fix the issue. I worried that it was because I was not writing a new line each time, but changing to document.writeln did not help. I've tried a few simple forms of looping the code without success- I am currently researching how I would make the function recursive to see if that would help. I have also attempted loading the code into jquery to no avail (the JQuery one does not even trigger once). I have also done a little work with things like window.setInterval based on the research I've done on keylogging, but I don't fully understand what it does and have had no success. </p>\n\n<pre><code>// The initial script\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n  &lt;head&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    var start, finish, diff;\n\n    // Adds event listeners\n    document.addEventListener('keydown',startTimer);\n    document.addEventListener('keyup',endTimer);\n\n    // Runs on keydown, simply stores a new date\n    function startTimer(e){\n        start = new Date();\n    }\n\n    // Runs on keyup, stores a new date (time in milliseconds since \nepoch),\n    // then takes and prints the difference between the two. \n    function endTimer(e){\n        finish = new Date();\n        diff = finish - start;\n        document.write(diff);\n    }\n\n    &lt;/script&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\n// \"Most stable\" version, utilizing onkeyup/onkeydown and writeln\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n  &lt;head&gt;\n\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;script type=\"text/javascript\"&gt;\n    var start, finish, diff;\n\n      document.onkeydown = function(e){\n          start = new Date();\n          document.writeln(start);\n      }\n\n      document.onkeyup = function(e){\n          finish = new Date();\n          diff = finish - start;\n          document.writeln(finish);\n          document.writeln(diff);\n      }\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\n// JQuery version\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n  &lt;head&gt;\n\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;script src=\"jquery-3.4.1.min.js\"&gt;\n    var start, finish, diff;\n\n    $(\"q\").keydown(function(){\n      start = new Date();\n      document.writeln(start);\n    });\n\n    $(\"w\").keyup(function(){\n      finish = new Date();\n      diff = finish - start;\n      document.writeln(finish);\n      document.writeln(diff);\n    });\n\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I expected the \"website\" to print out the precise stored date each time I press down a key, then print out a new date when I release it and the difference between the two. Instead, when I first press down a key it prints out the information, then prints nothing no matter what I do. </p>\n\n<p>I will note that the JQuery one currently does not even print out the first message- I am doing more research as to why- I have only done very lite JQuery research. </p>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["javascript", "string", "date", "vue.js"], "answers": [{"comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1561019847, "post_id": 56676091, "comment_id": 99930009, "body": "The output of <i>toLocaleString</i> is implementation dependent and may or may not include the local timezone, and may or may not include the timezone name."}], "tags": [], "owner": {"reputation": 766, "user_id": 1336881, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/32ed11755256398389ebe51846493dd0?s=128&d=identicon&r=PG", "display_name": "Choc13", "link": "https://stackoverflow.com/users/1336881/choc13"}, "is_accepted": false, "score": 0, "last_activity_date": 1560979637, "creation_date": 1560979637, "answer_id": 56676091, "question_id": 56676060, "link": "https://stackoverflow.com/questions/56676060/how-to-convert-iso-8601-to-usa-timezone/56676091#56676091", "title": "How to convert ISO 8601 to USA Timezone", "body": "<p>Does <code>new Date(\"2019-06-19T21:17:08.915Z\").toLocaleString()</code> not do the trick?</p>\n"}, {"comments": [{"owner": {"reputation": 766, "user_id": 1336881, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/32ed11755256398389ebe51846493dd0?s=128&d=identicon&r=PG", "display_name": "Choc13", "link": "https://stackoverflow.com/users/1336881/choc13"}, "edited": false, "score": 0, "creation_date": 1560980066, "post_id": 56676138, "comment_id": 99919475, "body": "Are you following me?"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 766, "user_id": 1336881, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/32ed11755256398389ebe51846493dd0?s=128&d=identicon&r=PG", "display_name": "Choc13", "link": "https://stackoverflow.com/users/1336881/choc13"}, "edited": false, "score": 0, "creation_date": 1560980113, "post_id": 56676138, "comment_id": 99919492, "body": "Yes @Choc13 - your answer doesn&#39;t produce the OP&#39;s exact required output, but it&#39;s the method I would have gone with."}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1560997324, "post_id": 56676138, "comment_id": 99922879, "body": "You can set the timezone for a timestamp using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\" rel=\"nofollow noreferrer\"><i>toLocaleString</i></a> with the timezone option, or one of many libraries."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 1, "last_activity_date": 1560979862, "creation_date": 1560979862, "answer_id": 56676138, "question_id": 56676060, "link": "https://stackoverflow.com/questions/56676060/how-to-convert-iso-8601-to-usa-timezone/56676138#56676138", "title": "How to convert ISO 8601 to USA Timezone", "body": "<p>You can't manually set a timezone (see <a href=\"https://stackoverflow.com/q/15141762/10221765\">here</a>) - but this will automatically adjust to whichever timezone you're in:</p>\n\n<pre><code>console.log(new Date(\"2019-06-19T21:17:08.915Z\"));\n</code></pre>\n\n<p><sub>(doesn't produce correct output on SO)</sub></p>\n"}], "owner": {"reputation": 31, "user_id": 7236607, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e07d11327cf5de5e9a4b7f20615ead5d?s=128&d=identicon&r=PG&f=1", "display_name": "Xuan", "link": "https://stackoverflow.com/users/7236607/xuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 145, "favorite_count": 0, "closed_date": 1560997175, "answer_count": 2, "score": 0, "last_activity_date": 1560997255, "creation_date": 1560979510, "last_edit_date": 1560980464, "question_id": 56676060, "link": "https://stackoverflow.com/questions/56676060/how-to-convert-iso-8601-to-usa-timezone", "closed_reason": "Duplicate", "title": "How to convert ISO 8601 to USA Timezone", "body": "<p>I have a DateTime that I get from an API that looks like this \n2019-06-19T21:17:08.915Z\nI believe it is called ISO 8601 but it does not have a user-friendly appearance. \nI want display it as formatted local date time. </p>\n\n<p>For example, my current timezone looks like this \n5:20 PM\nWednesday, June 19, 2019 (EDT)</p>\n\n<p>I tried to make something look similar to the one in the example.</p>\n\n<p>I am using JavaScript and Vue.js. Is there a function I can use in the library to convert this DateTime.</p>\n"}, {"tags": ["javascript", "html", "html5-canvas", "bezier"], "comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 3, "creation_date": 1560979522, "post_id": 56676034, "comment_id": 99919310, "body": "Greatest word in English...&quot;squircle&quot;"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 2, "creation_date": 1560979611, "post_id": 56676034, "comment_id": 99919344, "body": "so, you read at least 3 things about this, and yet you haven&#39;t written single line of code?"}, {"owner": {"reputation": 2675, "user_id": 3896501, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b51303bba9ba5d45cf0a4fe20ab7a586?s=128&d=identicon&r=PG&f=1", "display_name": "user3896501", "link": "https://stackoverflow.com/users/3896501/user3896501"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1560981824, "post_id": 56676034, "comment_id": 99919981, "body": "@JaromandaX I just created a canvas which overlapping on a squircle created by CSS, since drawing the lines require math skills which I am not understand sorry.."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1560987305, "post_id": 56676034, "comment_id": 99921188, "body": "ok, wasn&#39;t thinking about the maths skills required to draw an arc"}, {"owner": {"reputation": 2675, "user_id": 3896501, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b51303bba9ba5d45cf0a4fe20ab7a586?s=128&d=identicon&r=PG&f=1", "display_name": "user3896501", "link": "https://stackoverflow.com/users/3896501/user3896501"}, "edited": false, "score": 1, "creation_date": 1561011053, "post_id": 56676034, "comment_id": 99925896, "body": "I updated the code to what I so far achieved, now stuck on converting ctx.arc to some algorithm that draws a part of squircle."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1561146788, "post_id": 56676034, "comment_id": 99982583, "body": "@JackBashford don&#39;t forget &quot;sphube&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 2675, "user_id": 3896501, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b51303bba9ba5d45cf0a4fe20ab7a586?s=128&d=identicon&r=PG&f=1", "display_name": "user3896501", "link": "https://stackoverflow.com/users/3896501/user3896501"}, "edited": false, "score": 1, "creation_date": 1561149261, "post_id": 56709571, "comment_id": 99983445, "body": "I know how to draw the squircle, but how to draw the rainbow border?"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "reply_to_user": {"reputation": 2675, "user_id": 3896501, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b51303bba9ba5d45cf0a4fe20ab7a586?s=128&d=identicon&r=PG&f=1", "display_name": "user3896501", "link": "https://stackoverflow.com/users/3896501/user3896501"}, "edited": false, "score": 2, "creation_date": 1561306818, "post_id": 56709571, "comment_id": 100011504, "body": "updated the answer to suit your needs, but if you wanted to know &quot;how to draw a canvas path in rainbow colors&quot;, you probably <a href=\"/help/how-to-ask\">should have asked that</a>, specifically =)"}], "tags": [], "owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "is_accepted": true, "score": 6, "last_activity_date": 1562433046, "last_edit_date": 1562433046, "creation_date": 1561146279, "answer_id": 56709571, "question_id": 56676034, "link": "https://stackoverflow.com/questions/56676034/html5-canvas-how-to-draw-squircle-with-gradient-border/56709571#56709571", "title": "HTML5 Canvas How to draw squircle with gradient border?", "body": "<p>If we read the <a href=\"https://en.wikipedia.org/wiki/Squircle\" rel=\"nofollow noreferrer\">wikipedia article on squircles</a>, we see that this is just the unweighted ellipse function using powers of 2 or higher, which means we can pretty easily compute the \"y\" values given \"x\" values and draw things that way, but doing so will give us extremely uneven segments: small changes in <code>x</code> will lead to HUGE changes in <code>y</code> at the start and end points, and tiny changes in <code>y</code> at the midpoint.</p>\n\n<p>Instead, let's model the squircle as a parametric function, so we vary one control value and get reasonably evenly spaced intervals to work with. We can find this explained in the wikipedia article on the <a href=\"https://en.wikipedia.org/wiki/Superellipse#Mathematical_properties\" rel=\"nofollow noreferrer\">superellipse function</a>:</p>\n\n<pre><code>x = |cos(t)^(2/n)| * sign(cos(t))\ny = |sin(t)^(2/n)| * sign(sin(t))\n</code></pre>\n\n<p>for <code>t</code> from 0 to 2\u03c0, and the radii fixed to 1 (so they disappear from multiplications).</p>\n\n<p>If we implement that, then we can add the rainbow coloring almost as an afterthought, drawing each path segment separately, with a <code>strokeStyle</code> coloring that uses HSL colors where the hue values shifts based on our <code>t</code> value:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// alias some math functions so we don't need that \"Math.\" all the time\nconst abs=Math.abs, sign=Math.sign, sin=Math.sin, cos=Math.cos, pow=Math.pow;\n\n// N=2 YIELDS A CIRCLE, N&gt;2 YIELDS A SQUIRCLE\nconst n = 4;\n\nfunction coord(t) {\n  let power = 2/n;\n  let c = cos(t), x = pow(abs(c), power) * sign(c);\n  let s = sin(t), y = pow(abs(s), power) * sign(s);\n  return { x, y };\n}\n\nfunction drawSegmentTo(t) {\n  let c = coord(t);\n  let cx = dim + r * c.x;     // Here, dim is our canvas \"radius\",\n  let cy = dim + r * c.y;     // and r is our circle radius, with\n  ctx.lineTo(cx, cy);         // ctx being our canvas context.\n\n  // stroke segment in rainbow colours\n  let h = (360 * t)/TAU;\n  ctx.strokeStyle = `hsl(${h}, 100%, 50%)`;\n  ctx.stroke();  \n\n  // start a new segment at the end point\n  ctx.beginPath();\n  ctx.moveTo(cx, cy);\n}\n</code></pre>\n\n<p>We can then use this in combination with some standard Canvas2D API code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const PI = Math.PI,\n      TAU = PI * 2,\n      edge = 200, // SIZE OF THE CANVAS, IN PIXELS\n      dim = edge/2,\n      r = dim * 0.9,\n      cvs = document.getElementById('draw');\n\n// set up our canvas\ncvs.height = cvs.width = edge;\nctx = cvs.getContext('2d');\nctx.lineWidth = 2;\nctx.fillStyle = '#004';\nctx.strokeStyle = 'black';\nctx.fillRect(0, 0, edge, edge);\n</code></pre>\n\n<p>And with all that setup complete, the draw code is really straight-forward:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// THIS DETERMINES HOW SMOOTH OF A CURVE GETS DRAWN\nconst segments = 32;\n\n// Peg our starting point, which we know is (r,0) away from the center.\nctx.beginPath();\nctx.moveTo(dim + r, dim)\n\n// Then we generate all the line segments on the path\nfor (let step=TAU/segments, t=step; t&lt;=TAU; t+=step) drawSegmentTo(t);\n\n// And because IEEE floats are imprecise, the last segment may not\n// actually reach our starting point. As such, make sure to draw it!\nctx.lineTo(dim + r, dim);\nctx.stroke();\n</code></pre>\n\n<p>Running this will yield the following squircle:</p>\n\n<p><img src=\"https://i.stack.imgur.com/Oa0Fh.png\" alt=\"a rainbox squircle of power 4\"></p>\n\n<p>With a jsbin so you can play with the numbers: <a href=\"https://jsbin.com/haxeqamilo/edit?js,output\" rel=\"nofollow noreferrer\">https://jsbin.com/haxeqamilo/edit?js,output</a></p>\n\n<p>Of course, you can also go a completely other way: Create an SVG element (since SVG is part of HTML5) with a <code>&lt;path&gt;</code> element and appropriately set width, height, and viewbox, and then generate a <code>d</code> attribute and gradient-color that, but that's definitely <a href=\"https://bl.ocks.org/mbostock/4163057\" rel=\"nofollow noreferrer\">way more finnicky</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1561380320, "post_id": 56735931, "comment_id": 100032490, "body": "You may want to <a href=\"https://stackoverflow.com/questions/54174947/draw-circle-jimp-javascript#\">add some antialiasing</a>, and to work from an Uint32Array view of your ImageData&#39;s data for even further speed up."}, {"owner": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "reply_to_user": {"reputation": 85346, "user_id": 3702797, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iRvKU.png?s=128&g=1", "display_name": "Kaiido", "link": "https://stackoverflow.com/users/3702797/kaiido"}, "edited": false, "score": 0, "creation_date": 1562422003, "post_id": 56735931, "comment_id": 100372376, "body": "@Kaiido thank you, the <code>Uint32Array</code> makes it really neat. However for anti-aliasing I feel it is simpler to keep the components separate."}], "tags": [], "owner": {"reputation": 9567, "user_id": 7916438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8541ff62182bcfd172e116a4e0d2fa58?s=128&d=identicon&r=PG", "display_name": "tevemadar", "link": "https://stackoverflow.com/users/7916438/tevemadar"}, "is_accepted": false, "score": 4, "last_activity_date": 1562425663, "last_edit_date": 1562425663, "creation_date": 1561376996, "answer_id": 56735931, "question_id": 56676034, "link": "https://stackoverflow.com/questions/56676034/html5-canvas-how-to-draw-squircle-with-gradient-border/56735931#56735931", "title": "HTML5 Canvas How to draw squircle with gradient border?", "body": "<p>With a mathematical expression at hand you can do a full scan of the bounding rectangle, and evaluate pixel-by-pixel if</p>\n\n<ul>\n<li>it lies outside</li>\n<li>it is part of the border</li>\n<li>it lies inside</li>\n</ul>\n\n<p>For the gradient thing I would apply some continuous function(s) to the angle. Like some sin/cos thing:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let ctx=cnv.getContext(\"2d\");\r\n\r\nfunction gradient(angle){\r\n  return \"rgb(\"+\r\n    (128+127*Math.sin(angle*8))+\",\"+\r\n    (128+127*Math.cos(angle*6))+\",\"+\r\n    (128+127*Math.sin(angle*16))+\")\";\r\n}\r\n\r\nfor(let x=0;x&lt;360;x++){\r\n  ctx.fillStyle=gradient(x*Math.PI/180);\r\n  ctx.fillRect(250-180+x,0,1,10);\r\n}\r\n\r\nlet mx=250,my=90,rx=70,ry=70;\r\n\r\nlet start=Date.now();\r\n\r\nfor(let x=-rx;x&lt;=rx;x++)\r\n  for(let y=-ry;y&lt;=ry;y++){\r\n    let r4=Math.pow(x/rx,4)+Math.pow(y/ry,4);\r\n    if(r4&lt;0.8){\r\n      ctx.fillStyle=\"gray\";\r\n      ctx.fillRect(mx+x,my+y,1,1);\r\n    }else if(r4&lt;1){\r\n      ctx.fillStyle=gradient(Math.atan2(x,y));\r\n      ctx.fillRect(mx+x,my+y,1,1);\r\n    }\r\n  }\r\n\r\nconsole.log(Date.now()-start);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"cnv\" width=\"500\" height=\"170\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For real-life use this approach may perform better with off-screen composition into <code>ImageData</code> and perhaps pre-calculating the gradient too:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let ctx=cnv.getContext(\"2d\");\r\n\r\nlet gradient=new Uint8Array(360*3);\r\n\r\nfor(let x=0;x&lt;360;x++){\r\n  let r=gradient[x*3]=128+127*Math.sin(x*Math.PI/180*8);\r\n  let g=gradient[x*3+1]=128+127*Math.cos(x*Math.PI/180*6);\r\n  let b=gradient[x*3+2]=128+127*Math.sin(x*Math.PI/180*16);\r\n  ctx.fillStyle=\"rgb(\"+r+\",\"+g+\",\"+b+\")\";\r\n  ctx.fillRect(250-180+x,0,1,10);\r\n}\r\n\r\nlet mx=250,my=90,rx=70,ry=70;\r\n\r\nlet start=Date.now();\r\n\r\nlet imgdata=ctx.createImageData(rx*2+1,ry*2+1);\r\nlet data=imgdata.data;\r\n\r\nfor(let y=-ry,idx=0;y&lt;=ry;y++)\r\n  for(let x=-rx;x&lt;=rx;x++){\r\n    let r4=Math.pow(x/rx,4)+Math.pow(y/ry,4);\r\n    if(r4&lt;0.8){\r\n      data[idx++]=128;\r\n      data[idx++]=128;\r\n      data[idx++]=128;\r\n      data[idx++]=255;\r\n    }else if(r4&lt;1){\r\n      gidx=Math.floor(180+Math.atan2(x,y)*180/Math.PI)%360*3;\r\n      data[idx++]=gradient[gidx++];\r\n      data[idx++]=gradient[gidx++];\r\n      data[idx++]=gradient[gidx++];\r\n      data[idx++]=255;\r\n    }else idx+=4;\r\n  }\r\n\r\nctx.putImageData(imgdata,mx-rx,my-ry);\r\n\r\nconsole.log(Date.now()-start);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"cnv\" width=\"500\" height=\"170\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>On my machine this latter variant is slower for the first run (some 40 ms vs 35 ms), but gets significantly faster for subsequent ones (14 ms vs 31 ms, so the other one does not really speed up). But I have not checked if it is a result of <code>ImageData</code>, <code>gradient[]</code>, or both.\n<hr>\n<strong>EDIT 06-07-2019</strong> applying suggestions, though not together...</p>\n\n<p><code>Uint32Array</code> makes it shorter, simpler and faster:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let ctx=cnv.getContext(\"2d\");\r\n\r\nlet gradient=new Uint32Array(360);\r\n\r\nfor(let x=0;x&lt;360;x++){\r\n  let r=128+127*Math.sin(x*Math.PI/180*8);\r\n  let g=128+127*Math.cos(x*Math.PI/180*6);\r\n  let b=128+127*Math.sin(x*Math.PI/180*16);\r\n  gradient[x]=0xFF000000+(b&lt;&lt;16)+(g&lt;&lt;8)+r;\r\n  ctx.fillStyle=\"rgb(\"+r+\",\"+g+\",\"+b+\")\";\r\n  ctx.fillRect(250-180+x,0,1,10);\r\n}\r\n\r\nlet mx=250,my=90,rx=70,ry=70;\r\n\r\nlet start=Date.now();\r\n\r\nlet imgdata=ctx.createImageData(rx*2+1,ry*2+1);\r\nlet data=new Uint32Array(imgdata.data.buffer);\r\n\r\nfor(let y=-ry,idx=0;y&lt;=ry;y++)\r\n  for(let x=-rx;x&lt;=rx;x++,idx++){\r\n    let r4=Math.pow(x/rx,4)+Math.pow(y/ry,4);\r\n    if(r4&lt;0.8){\r\n      data[idx]=0xFF808080;\r\n    }else if(r4&lt;1){\r\n      gidx=Math.floor(180+Math.atan2(x,y)*180/Math.PI)%360;\r\n      data[idx]=gradient[gidx];\r\n    }\r\n  }\r\n\r\nctx.putImageData(imgdata,mx-rx,my-ry);\r\n\r\nconsole.log(Date.now()-start);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"cnv\" width=\"500\" height=\"170\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>However anti-aliasing is not very trivial with 32-bit numbers, so this one reverts to separate components:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let ctx=cnv.getContext(\"2d\");\r\n\r\nlet gradient=new Uint8Array(360*3);\r\n\r\nfor(let x=0;x&lt;360;x++){\r\n  let r=gradient[x*3]=128+127*Math.sin(x*Math.PI/180*8);\r\n  let g=gradient[x*3+1]=128+127*Math.cos(x*Math.PI/180*6);\r\n  let b=gradient[x*3+2]=128+127*Math.sin(x*Math.PI/180*16);\r\n  ctx.fillStyle=\"rgb(\"+r+\",\"+g+\",\"+b+\")\";\r\n  ctx.fillRect(250-180+x,0,1,10);\r\n}\r\n\r\nlet mx=250,my=90,r=70,rr=65;\r\n\r\nlet start=Date.now();\r\n\r\nlet imgdata=ctx.createImageData(r*2+1,r*2+1);\r\nlet data=imgdata.data;\r\n\r\nfunction mix(a,b,w){\r\n  return b+(a-b)*w;\r\n}\r\n\r\nfor(let y=-r,idx=0;y&lt;=r;y++)\r\n  for(let x=-r;x&lt;=r;x++){\r\n    let d=Math.pow(Math.pow(x,4)+Math.pow(y,4),0.25);\r\n    if(d&lt;=rr){\r\n      data[idx++]=128;\r\n      data[idx++]=128;\r\n      data[idx++]=128;\r\n      data[idx++]=255;\r\n    }else if(d&gt;=r){\r\n      idx+=4;\r\n    }else{\r\n      let gidx=Math.floor(180+Math.atan2(x,y)*180/Math.PI)%360*3;\r\n      if(d&lt;rr+1){\r\n        let w=d-rr;\r\n        data[idx++]=mix(gradient[gidx++],128,w);\r\n        data[idx++]=mix(gradient[gidx++],128,w);\r\n        data[idx++]=mix(gradient[gidx++],128,w);\r\n        data[idx++]=255;\r\n      }else if(d&gt;r-1){\r\n        let w=r-d;\r\n        data[idx++]=mix(gradient[gidx++],255,w);\r\n        data[idx++]=mix(gradient[gidx++],255,w);\r\n        data[idx++]=mix(gradient[gidx++],255,w);\r\n        data[idx++]=255;\r\n      }else{\r\n        data[idx++]=gradient[gidx++];\r\n        data[idx++]=gradient[gidx++];\r\n        data[idx++]=gradient[gidx++];\r\n        data[idx++]=255;\r\n      }\r\n    }\r\n  }\r\n\r\nctx.putImageData(imgdata,mx-r,my-r);\r\n\r\nconsole.log(Date.now()-start);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"cnv\" width=\"500\" height=\"170\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2675, "user_id": 3896501, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/b51303bba9ba5d45cf0a4fe20ab7a586?s=128&d=identicon&r=PG&f=1", "display_name": "user3896501", "link": "https://stackoverflow.com/users/3896501/user3896501"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 898, "favorite_count": 2, "accepted_answer_id": 56709571, "answer_count": 2, "score": 3, "last_activity_date": 1563680809, "creation_date": 1560979310, "last_edit_date": 1563680809, "question_id": 56676034, "link": "https://stackoverflow.com/questions/56676034/html5-canvas-how-to-draw-squircle-with-gradient-border", "title": "HTML5 Canvas How to draw squircle with gradient border?", "body": "<p>After I googling a lot, I cannot find any tutorials which answering how to draw squircle shape in HTML5 canvas, please forgive me as I am very poor on math.</p>\n\n<p>However I do find some similar / related answers, but I don't know how to combine these knowledges...</p>\n\n<p><a href=\"https://stackoverflow.com/questions/28492042/html5-canvas-alpha-transparency-doesnt-work-in-firefox-for-curves-when-window-i\">HTML5 Canvas alpha transparency doesn&#39;t work in firefox for curves when window is big</a></p>\n\n<p><a href=\"https://stackoverflow.com/questions/30631032/continuous-gradient-along-a-html5-canvas-path\">Continuous gradient along a HTML5 canvas path</a></p>\n\n<p><a href=\"https://stackoverflow.com/a/44856925/3896501\">https://stackoverflow.com/a/44856925/3896501</a></p>\n\n<p>The effect I try to achieve:\n<a href=\"https://i.stack.imgur.com/OapfA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OapfA.png\" alt=\"enter image description here\"></a></p>\n\n<p>Thanks for any help!</p>\n\n<p><strong>UPDATE 1:</strong></p>\n\n<p>Code so far I created:</p>\n\n<pre><code>&lt;body&gt;\n  &lt;div class=\"con\"&gt;\n    &lt;div class=\"ava\"&gt;&lt;/div&gt;\n    &lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;\n  &lt;/div&gt;\n  &lt;script&gt;\n\n    var canvas=document.getElementById(\"canvas\");\n    var ctx=canvas.getContext(\"2d\");\n\n    var shadowPadding = 8;\n    var strokeWidth = 2;\n    canvas.width = canvas.height = (64 + shadowPadding * 2) * window.devicePixelRatio\n    canvas.style.width = canvas.style.height = `${canvas.width / window.devicePixelRatio}px`\n\n    function drawMultiRadiantCircle(xc, yc, r, radientColors) {\n        var partLength = (2 * Math.PI) / radientColors.length;\n        var start = 0;\n        var gradient = null;\n        var startColor = null,\n            endColor = null;\n\n        for (var i = 0; i &lt; radientColors.length; i++) {\n            startColor = radientColors[i];\n            endColor = radientColors[(i + 1) % radientColors.length];\n\n            // x start / end of the next arc to draw\n            var xStart = xc + Math.cos(start) * r;\n            var xEnd = xc + Math.cos(start + partLength) * r;\n            // y start / end of the next arc to draw\n            var yStart = yc + Math.sin(start) * r;\n            var yEnd = yc + Math.sin(start + partLength) * r;\n\n            ctx.beginPath();\n\n            gradient = ctx.createLinearGradient(xStart, yStart, xEnd, yEnd);\n            gradient.addColorStop(0, startColor);\n            gradient.addColorStop(1, endColor);\n\n            ctx.lineWidth = strokeWidth;\n            ctx.strokeStyle = gradient;\n\n            // squircle START\n            // https://stackoverflow.com/questions/50206406/drawing-a-squircle-shape-on-canvas-android\n            // //Formula: (|x|)^3 + (|y|)^3 = radius^3\n            // ctx.moveTo(-r, 0);\n            // const radiusToPow = r ** 3;\n            // const rad = r\n            // for (let x = -rad ; x &lt;= rad ; x++)\n            //   ctx.lineTo(x + r, Math.cbrt(radiusToPow - Math.abs(x ** 3)) + r);\n            // for (let x = rad ; x &gt;= -rad ; x--)\n            //   ctx.lineTo(x + r, -Math.cbrt(radiusToPow - Math.abs(x ** 3)) + r);\n            // ctx.translate(r, r)\n            // ctx.restore()\n            // squircle END\n\n            // circle START\n            // https://stackoverflow.com/a/22231473/3896501\n            ctx.arc(xc, yc, r, start, start + partLength);\n            // circle END\n            if (i === 1) {\n              break\n            }\n            ctx.stroke();\n            ctx.closePath();\n\n            start += partLength;\n        }\n    }\n\n    var someColors = [];\n    someColors.push('#0F0');\n    someColors.push('#0FF');\n    someColors.push('#F00');\n    someColors.push('#FF0');\n    someColors.push('#F0F');\n\n    var mid = canvas.width / 2;\n    var r = (canvas.width - (shadowPadding * 2)) / 2 + (strokeWidth / 2)\n    drawMultiRadiantCircle(mid, mid, r, someColors);\n\n  &lt;/script&gt;\n  &lt;style&gt;\n  .con {\n    align-items: center;\n    justify-content: center;\n    display: flex;\n    height: 4rem;\n    margin: 6rem;\n    width: 4rem;\n    position: relative;\n  }\n  .ava {\n    background: #555 50% no-repeat;\n    background-size: contain;\n    border-radius: 24px;\n    height: 100%;\n    width: 100%;\n  }\n  canvas {\n    height: 100%;\n    width: 100%;\n    position: absolute;\n  }\n  &lt;/style&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>drawing portion of circle with gradient color:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4jyZJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4jyZJ.png\" alt=\"\"></a></p>\n\n<p>drawing a squircle:</p>\n\n<p><a href=\"https://i.stack.imgur.com/fYZXW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fYZXW.png\" alt=\"\"></a></p>\n\n<p>I don't know how to code a algorithm that draws a portion of squircle just like what <code>context.arc</code> does.</p>\n"}, {"tags": ["javascript", "css", "reactjs", "css-transitions"], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 11587789, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa478a5449d6fe7e676c394dde3a3a16?s=128&d=identicon&r=PG&f=1", "display_name": "dominik.wendland", "link": "https://stackoverflow.com/users/11587789/dominik-wendland"}, "is_accepted": true, "score": 2, "last_activity_date": 1560981378, "creation_date": 1560981378, "answer_id": 56676419, "question_id": 56676018, "link": "https://stackoverflow.com/questions/56676018/how-do-i-transition-animation-before-react-rerenders/56676419#56676419", "title": "How do I transition animation before React rerenders?", "body": "<p>Your 'unchecking' animation works fine as well, the problem is that your background-color goes back to white immediately so your white check mark will be invisible.</p>\n\n<p>I would probably add a transition period to the background or change the color of the check mark to blue on its way out.\nMaybe like this: <a href=\"https://codesandbox.io/s/x5mbi\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/x5mbi</a></p>\n"}], "owner": {"reputation": 1037, "user_id": 3960623, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/d3c2c0f2a05b3604b6272392aad1b440?s=128&d=identicon&r=PG&f=1", "display_name": "dingdingding", "link": "https://stackoverflow.com/users/3960623/dingdingding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 56676419, "answer_count": 1, "score": 1, "last_activity_date": 1560982969, "creation_date": 1560979222, "question_id": 56676018, "link": "https://stackoverflow.com/questions/56676018/how-do-i-transition-animation-before-react-rerenders", "title": "How do I transition animation before React rerenders?", "body": "<p>I have a custom checkbox like so:\n<a href=\"https://codesandbox.io/s/throbbing-resonance-09dii\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/throbbing-resonance-09dii</a></p>\n\n<p>Based on this codepen: <a href=\"https://codepen.io/Sambego/pen/yiruz\" rel=\"nofollow noreferrer\">https://codepen.io/Sambego/pen/yiruz</a></p>\n\n<pre class=\"lang-css prettyprint-override\"><code>input:checked:before {\n  transition: transform 2s cubic-bezier(0.45, 1.8, 0.5, 0.75);\n  transform: rotate(-45deg) scale(0, 0);\n}\n</code></pre>\n\n<p>My 'checking' animation works fine, but I would like to also animate unchecking. I believe react is rerendering my input before my css transition can occur. How can I add an animation to uncheck too?</p>\n"}, {"tags": ["javascript", "css", "url"], "comments": [{"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1560979272, "post_id": 56675968, "comment_id": 99919208, "body": "You seem to be confusing &quot;CSS classes&quot; (which don&#39;t exist) with HTML classes \u2026 and JavaScript with weirdness. It&#39;s very unclear what you are asking."}, {"owner": {"reputation": 21, "user_id": 10366078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2270b54c41a377d674222846824ed34?s=128&d=identicon&r=PG&f=1", "display_name": "user10366078", "link": "https://stackoverflow.com/users/10366078/user10366078"}, "reply_to_user": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "edited": false, "score": 0, "creation_date": 1560979619, "post_id": 56675968, "comment_id": 99919349, "body": "Hahahahaha, because it is not possible. Bro what I\u2019m sayin is I have a Wordpress plugin that makes its login launch via .lrm-login class ...... on my home page, I can simply add that class to a button and it will trigger the login popup. On my forums However, when a user tries to add a new topics and asks them to login and takes them to the forum login page , not the same login pop up on my home page .. now what URL shall I put for my forum login link ??? Again I have only a .class from that login plugin and not a direct URL that can load the login pop up"}, {"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 0, "creation_date": 1560981124, "post_id": 56675968, "comment_id": 99919803, "body": "When your button is clicked, a JavaScript click event listener bound to the <code>.lrm-login</code> class invokes the modal. If you want to show the modal on page load, I&#39;d suggest adding a query string parameter or hash (<code>?login</code> or <code>#login</code>) to your URL, and write some JavaScript to check for the presence of such a token in the URL on page load, invoking the modal if found. At the moment, there&#39;s insufficient information in your post to be able to advise further."}, {"owner": {"reputation": 21, "user_id": 10366078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2270b54c41a377d674222846824ed34?s=128&d=identicon&r=PG&f=1", "display_name": "user10366078", "link": "https://stackoverflow.com/users/10366078/user10366078"}, "edited": false, "score": 0, "creation_date": 1560981286, "post_id": 56675968, "comment_id": 99919855, "body": "Have tried botth ?login and #login and didn\u2019t work , which is also weird because when I hover over the login button with that class it shows on the url description at bottom exactly that: #login ... but when I type #login the the browser it doesn\u2019t load .."}, {"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 0, "creation_date": 1560981488, "post_id": 56675968, "comment_id": 99919899, "body": "The presence of <code>#login</code> in the URL doesn&#39;t mean the plugin included JavaScript code to do what you want. It might simply be there as a page anchor. You&#39;re going to need to post your code outlining a minimal, viable example for anyone here to be able to help you."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10366078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2270b54c41a377d674222846824ed34?s=128&d=identicon&r=PG&f=1", "display_name": "user10366078", "link": "https://stackoverflow.com/users/10366078/user10366078"}, "edited": false, "score": 0, "creation_date": 1560983911, "post_id": 56676526, "comment_id": 99920480, "body": "Where would that line go"}, {"owner": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "reply_to_user": {"reputation": 21, "user_id": 10366078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2270b54c41a377d674222846824ed34?s=128&d=identicon&r=PG&f=1", "display_name": "user10366078", "link": "https://stackoverflow.com/users/10366078/user10366078"}, "edited": false, "score": 0, "creation_date": 1561043816, "post_id": 56676526, "comment_id": 99943631, "body": "Try adding it at the bottom of your page wrapped in <code>&lt;script&gt;</code> tags or in a file that is loaded."}], "tags": [], "owner": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "is_accepted": false, "score": 0, "last_activity_date": 1560982149, "creation_date": 1560982149, "answer_id": 56676526, "question_id": 56675968, "link": "https://stackoverflow.com/questions/56675968/how-to-load-a-css-class-in-a-url-is-it-possible-to-do-so/56676526#56676526", "title": "How to load a css class in a url ? Is it possible to do so?", "body": "<p>With the little information that is provided, you should be able to trigger the clicking of your <code>lrm-login</code> button on page load if the url has <code>#login</code>.</p>\n\n<pre><code>if(document.location.hash == \"#login\"){\n    document.getElementsByClassName('lrm-login')[0].click();\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10366078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2270b54c41a377d674222846824ed34?s=128&d=identicon&r=PG&f=1", "display_name": "user10366078", "link": "https://stackoverflow.com/users/10366078/user10366078"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1560982149, "creation_date": 1560979035, "question_id": 56675968, "link": "https://stackoverflow.com/questions/56675968/how-to-load-a-css-class-in-a-url-is-it-possible-to-do-so", "title": "How to load a css class in a url ? Is it possible to do so?", "body": "<p>I have a login modal that loads via CSS class , so for example, if I give my button that class and click the button it loads the login modal.. cool, now that login modal has no direct URL to load which is weird!! Is there any possible way to make a URL which is able to load that css class when put in the browser?</p>\n"}, {"tags": ["javascript", "arrays", "object", "vue.js", "ecmascript-6"], "comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1560979089, "post_id": 56675936, "comment_id": 99919150, "body": "What is <code>this.jobs</code>?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1560979100, "post_id": 56675936, "comment_id": 99919153, "body": "<code>for..in</code> is used to iterate over an object.  <code>i</code> in your loop is the index in the array.  The index doesn&#39;t have a version property.  See <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in#Array_iteration_and_for...in\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 21818, "user_id": 8583563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/U42av.png?s=128&g=1", "display_name": "skirtle", "link": "https://stackoverflow.com/users/8583563/skirtle"}, "edited": false, "score": 0, "creation_date": 1560979275, "post_id": 56675936, "comment_id": 99919210, "body": "I think I already covered this in my answer to your last question: <a href=\"https://stackoverflow.com/questions/56674240/why-am-i-getting-i-is-not-defined-error-from-a-simple-for-loop-in-vue-js-compo\" title=\"why am i getting i is not defined error from a simple for loop in vue js compo\">stackoverflow.com/questions/56674240/&hellip;</a>"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1560979334, "post_id": 56675936, "comment_id": 99919234, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/56674240/why-am-i-getting-i-is-not-defined-error-from-a-simple-for-loop-in-vue-js-compo\">why am i getting &#39;i is not defined&#39; error from a simple for loop in vue.js component script?</a>"}, {"owner": {"reputation": 36950, "user_id": 621962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb28992cd1fc9cbc1d3b044f6bf63953?s=128&d=identicon&r=PG", "display_name": "canon", "link": "https://stackoverflow.com/users/621962/canon"}, "edited": false, "score": 0, "creation_date": 1560979634, "post_id": 56675936, "comment_id": 99919358, "body": "Relevant: <a href=\"https://stackoverflow.com/a/29397769/621962\">stackoverflow.com/a/29397769/621962</a>"}], "answers": [{"comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1560979370, "post_id": 56676031, "comment_id": 99919251, "body": "Why have you linked <code>for...in</code> to a book about Rust?"}, {"owner": {"reputation": 766, "user_id": 1336881, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/32ed11755256398389ebe51846493dd0?s=128&d=identicon&r=PG", "display_name": "Choc13", "link": "https://stackoverflow.com/users/1336881/choc13"}, "reply_to_user": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1560979421, "post_id": 56676031, "comment_id": 99919272, "body": "It was a mistake. Fixed it now. You&#39;re very quick though!"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1560979438, "post_id": 56676031, "comment_id": 99919276, "body": "Thanks @Choc13 :)"}], "tags": [], "owner": {"reputation": 766, "user_id": 1336881, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/32ed11755256398389ebe51846493dd0?s=128&d=identicon&r=PG", "display_name": "Choc13", "link": "https://stackoverflow.com/users/1336881/choc13"}, "is_accepted": false, "score": -1, "last_activity_date": 1560979382, "last_edit_date": 1560979382, "creation_date": 1560979296, "answer_id": 56676031, "question_id": 56675936, "link": "https://stackoverflow.com/questions/56675936/why-am-i-getting-cannot-read-property-startswith-of-undefined-in-this-for-loop/56676031#56676031", "title": "Why am I getting Cannot read property &#39;startsWith&#39; of undefined in this for loop?", "body": "<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in#Array_iteration_and_for...in\" rel=\"nofollow noreferrer\"><code>for...in</code></a> construct is not doing what you think here. It is is designed to iterate over objects. So in this case it is treating <code>newArray</code> as an object but with the property names as the array indices. Arrays in Javascript are just objects with numeric property names. More specifically if you changed your code to:</p>\n\n<pre><code>for (let i in newarray) {\n    if (i.version.startsWith('iPad')) {\n      console.log(i);\n    }\n  }\n</code></pre>\n\n<p>You would clearly see the problem. <code>i</code> is a number and not a job object.</p>\n"}, {"comments": [{"owner": {"reputation": 766, "user_id": 1336881, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/32ed11755256398389ebe51846493dd0?s=128&d=identicon&r=PG", "display_name": "Choc13", "link": "https://stackoverflow.com/users/1336881/choc13"}, "edited": false, "score": 3, "creation_date": 1560979502, "post_id": 56676053, "comment_id": 99919301, "body": "You should really mark Jack&#39;s answer as correct, rather than posting his solution again."}, {"owner": {"reputation": 4367, "user_id": 2680978, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e468604ee43b523912273ac69e17a3a7?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/2680978/david"}, "reply_to_user": {"reputation": 766, "user_id": 1336881, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/32ed11755256398389ebe51846493dd0?s=128&d=identicon&r=PG", "display_name": "Choc13", "link": "https://stackoverflow.com/users/1336881/choc13"}, "edited": false, "score": 2, "creation_date": 1560979578, "post_id": 56676053, "comment_id": 99919332, "body": "I used amy&#39;s initial comment to fix - but will mark jacks as correct if that&#39;s the same thing"}], "tags": [], "owner": {"reputation": 4367, "user_id": 2680978, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e468604ee43b523912273ac69e17a3a7?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/2680978/david"}, "is_accepted": false, "score": -1, "last_activity_date": 1560979458, "creation_date": 1560979458, "answer_id": 56676053, "question_id": 56675936, "link": "https://stackoverflow.com/questions/56675936/why-am-i-getting-cannot-read-property-startswith-of-undefined-in-this-for-loop/56676053#56676053", "title": "Why am I getting Cannot read property &#39;startsWith&#39; of undefined in this for loop?", "body": "<p>fix:</p>\n\n<pre><code>orderedUsers: function () {\n  let newarray = sortBy(this.jobs, 'version').reverse()\n  for (let i in newarray) {\n    if (newarray[i].version.startsWith('iPad')) {\n      console.log(newarray[i].version);\n    }\n  }\n  return newarray\n</code></pre>\n"}], "owner": {"reputation": 4367, "user_id": 2680978, "user_type": "registered", "accept_rate": 45, "profile_image": "https://www.gravatar.com/avatar/e468604ee43b523912273ac69e17a3a7?s=128&d=identicon&r=PG&f=1", "display_name": "david", "link": "https://stackoverflow.com/users/2680978/david"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1560979458, "creation_date": 1560978899, "last_edit_date": 1560979102, "question_id": 56675936, "link": "https://stackoverflow.com/questions/56675936/why-am-i-getting-cannot-read-property-startswith-of-undefined-in-this-for-loop", "title": "Why am I getting Cannot read property &#39;startsWith&#39; of undefined in this for loop?", "body": "<p>I am trying to sort an array by 'version' and then identify all string that begin with 'iPad'.</p>\n\n<p>The following code does not log anything and returns an error.</p>\n\n<pre><code>orderedUsers: function () {\n  let newarray = sortBy(this.jobs, 'version').reverse()\n  for (let i in newarray) {\n    if (i.version.startsWith('iPad')) {\n      console.log(i.version);\n    }\n  }\n  return newarray\n</code></pre>\n\n<p>error:</p>\n\n<pre><code>TypeError: Cannot read property 'startsWith' of undefined\n</code></pre>\n\n<p>If I remove the for-loop and just put:</p>\n\n<pre><code>orderedUsers: function () {\n  let newarray = sortBy(this.jobs, 'version').reverse()\n  return newarray\n</code></pre>\n\n<p>The list is correctly sorted by version.  This makes me think the error is related to how I have written my for-loop or if statement.</p>\n\n<p>What am I doing wrong here.</p>\n"}, {"tags": ["javascript", "html", "css", "random"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11637153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e16b35de657cc23d2efa9402309dbbe?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Grabowski", "link": "https://stackoverflow.com/users/11637153/jan-grabowski"}, "edited": false, "score": 0, "creation_date": 1561125054, "post_id": 56676289, "comment_id": 99972839, "body": "It will be fine, but I&#39;m looking for code in which I can choose how many columns and rows my table will have. I can choose number of rows, columns then generate table with random values without repeats."}], "tags": [], "owner": {"reputation": 23, "user_id": 9575698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "ninjadev", "link": "https://stackoverflow.com/users/9575698/ninjadev"}, "is_accepted": false, "score": 0, "last_activity_date": 1560980651, "creation_date": 1560980651, "answer_id": 56676289, "question_id": 56675905, "link": "https://stackoverflow.com/questions/56675905/how-to-fill-generated-table-with-random-values-in-javascript/56676289#56676289", "title": "How to fill generated table with random values in JavaScript", "body": "<p>You can try something like this.</p>\n\n<p>HTML</p>\n\n<pre><code>&lt;center&gt;\n    &lt;div id=\"container\"&gt;\n        &lt;div id=\"header\"&gt;\n             &lt;h1&gt;Welcome&lt;/h1&gt; \n        &lt;/div&gt;\n        &lt;div id=\"content\"&gt;\n            &lt;table border=\"1\" id=\"lotto\"&gt;\n                &lt;tbody&gt;\n                    &lt;tr&gt;\n                        &lt;td class=\"normal\" id=\"cell00\"&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td class=\"normal\" id=\"cell01\"&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td class=\"normal\" id=\"cell02\"&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td class=\"red\" id=\"cell03\"&gt;&amp;nbsp;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=\"normal\" id=\"cell10\"&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td class=\"normal\" id=\"cell11\"&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td class=\"normal\" id=\"cell12\"&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td class=\"red\" id=\"cell13\"&gt;&amp;nbsp;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=\"normal\" id=\"cell20\"&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td class=\"normal\" id=\"cell21\"&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td class=\"normal\" id=\"cell22\"&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td class=\"red\" id=\"cell23\"&gt;&amp;nbsp;&lt;/td&gt;\n                    &lt;/tr&gt;\n                    &lt;tr&gt;\n                        &lt;td class=\"normal\" id=\"cell30\"&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td class=\"normal\" id=\"cell31\"&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td class=\"normal\" id=\"cell32\"&gt;&amp;nbsp;&lt;/td&gt;\n                        &lt;td class=\"red\" id=\"cell33\"&gt;&amp;nbsp;&lt;/td&gt;\n                    &lt;/tr&gt;\n                &lt;/tbody&gt;\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;input id=\"btn\" type=\"button\" value=\"Re-generate Numbers\" /&gt;\n&lt;/center&gt;\n</code></pre>\n\n<p>JavaScript</p>\n\n<pre><code>var btn = document.getElementById('btn');\n\nbtn.addEventListener('click', UpdateTable);\n\n\n// Set the max length of random number \n// and the max length\nvar maxLength = 4;\n\n// Returns a random number\nfunction CreateLottoValues() {\n    return Math.floor(Math.random() * 4 + 1);\n}\n\n//create table\nfunction UpdateTable() {\n\n    for (var i = 0; i &lt; maxLength; i++) {\n        for (var j = 0; j &lt; maxLength; j++) {\n            tmp = 'cell' + i + j;\n            document.getElementById(tmp).innerHTML = CreateLottoValues();\n        }\n    }\n}\n\nUpdateTable();\n</code></pre>\n\n<p>Check out this <a href=\"http://jsfiddle.net/sushanth009/g6YTd/1/\" rel=\"nofollow noreferrer\">JSFiddle</a></p>\n"}], "owner": {"reputation": 15, "user_id": 11637153, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5e16b35de657cc23d2efa9402309dbbe?s=128&d=identicon&r=PG&f=1", "display_name": "Jan Grabowski", "link": "https://stackoverflow.com/users/11637153/jan-grabowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 875, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561390455, "creation_date": 1560978740, "last_edit_date": 1561390455, "question_id": 56675905, "link": "https://stackoverflow.com/questions/56675905/how-to-fill-generated-table-with-random-values-in-javascript", "title": "How to fill generated table with random values in JavaScript", "body": "<p>I want to make application teamaker, choose how many players and teams you need, then click button and application will generate a table with random values with a range from Player 1 - Value of input PlayersNum. My biggest problem is table is filling but columns have the same values. What should I do?</p>\n\n<pre><code>  &lt;div class=\"wrapper\"&gt;\n        &lt;h1 class=\"content__header\"&gt;Let's create some teams!&lt;/h1&gt;\n\n        &lt;form action=\"#\" class=\"form\"&gt;\n            &lt;label for=\"playersNum\"&gt;\n                Number of players &lt;input type=\"number\" id=\"playersNum\" class=\"form__input\"&gt;\n            &lt;/label&gt;\n\n            &lt;label for=\"teamsNum\"&gt;\n                Number of teams &lt;input type=\"number\" id=\"teamsNum\" class=\"form__input\"&gt;\n            &lt;/label&gt;\n\n            &lt;input type=\"submit\" value=\"Draw teams\" class=\"form__submit\"&gt;\n        &lt;/form&gt;\n&lt;/div&gt;\n\ndocument.addEventListener('DOMContentLoaded',function(){\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", function(e){\n    e.preventDefault();\n\n        let teamsNum = document.getElementById(\"teamsNum\").value;\n            let playersNum = document.getElementById(\"playersNum\").value;\n\n        if(playersNum %teamsNum == 0){\n            const wrapper = document.querySelector(\".wrapper\");\n            const tbl = document.createElement(\"table\");\n            const tblBody = document.createElement(\"tbody\");\n\n            for (let i = 0; i &lt; playersNum/teamsNum; i++) {\n            let row = document.createElement(\"tr\");\n\n            for (let j = 0; j &lt; teamsNum; j++) {\n                let cell = document.createElement(\"td\");\n                let random = Math.floor(Math.random() * playersNum + 1);\n                let cellText = document.createTextNode(\"Player \" + random);\n                cell.appendChild(cellText);\n                row.appendChild(cell);\n            }\n            tblBody.appendChild(row);\n            }\n\n            tbl.appendChild(tblBody);\n            wrapper.appendChild(tbl);\n            tbl.setAttribute(\"border\", \"2\");\n            tbl.style.margin = \"20px auto\";\n            tbl.style.width = \"50%\";\n            tbl.style.textAlign = \"center\";\n\n        } else alert(\"Teams must have the same number of players!\");\n});\n</code></pre>\n\n<p>});</p>\n\n<p><a href=\"https://i.stack.imgur.com/QLI2m.jpg\" rel=\"nofollow noreferrer\">Repeating values</a></p>\n\n<p>As you can see on the picture above, values are repeating. How to make every values without repeats in range from Player 1 to value which we have written in the input.</p>\n"}, {"tags": ["javascript", "function", "ecmascript-6", "closures"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1560979953, "post_id": 56675889, "comment_id": 99919449, "body": "It depends on the modification  If you just want to add logging, you can wrap it"}], "answers": [{"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 1, "last_activity_date": 1560979057, "creation_date": 1560979057, "answer_id": 56675975, "question_id": 56675889, "link": "https://stackoverflow.com/questions/56675889/how-to-redefine-js-function-with-regard-to-closure/56675975#56675975", "title": "How to redefine JS function with regard to closure?", "body": "<p>No way whatsoever with your current code - functions are function-scoped, and therefore <code>e</code> isn't accessible outside of the anonymous function. You need to either move your modified method inside the anonymous function (and name the function so it can be called) or move <code>e</code> outside of the function.</p>\n"}], "owner": {"reputation": 1, "user_id": 11672725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3db85a1d5aef7981fdf133bf542c43a?s=128&d=identicon&r=PG&f=1", "display_name": "bubenker", "link": "https://stackoverflow.com/users/11672725/bubenker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560979595, "creation_date": 1560978656, "last_edit_date": 1560979595, "question_id": 56675889, "link": "https://stackoverflow.com/questions/56675889/how-to-redefine-js-function-with-regard-to-closure", "title": "How to redefine JS function with regard to closure?", "body": "<p>I try to redefine Class.method, it uses a function from a closure.\nModified version I provided currently is not working as it uses e() function which is not directly accessible from Global namespace.\nIs there a way to make modified version work without editing anything else?</p>\n\n<pre><code>function() {\n    function e(a, b, c) {\n    // e body\n    }\n    Class.method = function(a, b, c, d) {\n        // method body\n        return new e(a, b, c)\n    }\n}\n\n//Modified version (Not working)\nClass.method = function(a, b, c, d) {\n            // method body\n        alert(\"I'm modified!\");\n        return new e(a, b, c)\n    }\n</code></pre>\n"}, {"tags": ["javascript", "mongodb", "mongoose", "mongoose-schema"], "answers": [{"comments": [{"owner": {"reputation": 858, "user_id": 2900865, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/1225334994/picture?type=large", "display_name": "Sam Munroe", "link": "https://stackoverflow.com/users/2900865/sam-munroe"}, "edited": false, "score": 0, "creation_date": 1560979376, "post_id": 56675992, "comment_id": 99919256, "body": "I&#39;m removing setQuery.status right after I add status to my pushQuery"}, {"owner": {"reputation": 16244, "user_id": 162070, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fda09c54de7bb03f0d77127cec09fd12?s=128&d=identicon&r=PG", "display_name": "Zlatko", "link": "https://stackoverflow.com/users/162070/zlatko"}, "reply_to_user": {"reputation": 858, "user_id": 2900865, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/1225334994/picture?type=large", "display_name": "Sam Munroe", "link": "https://stackoverflow.com/users/2900865/sam-munroe"}, "edited": false, "score": 0, "creation_date": 1561045468, "post_id": 56675992, "comment_id": 99944597, "body": "Oh sorry, I&#39;ve skipped that."}], "tags": [], "owner": {"reputation": 16244, "user_id": 162070, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/fda09c54de7bb03f0d77127cec09fd12?s=128&d=identicon&r=PG", "display_name": "Zlatko", "link": "https://stackoverflow.com/users/162070/zlatko"}, "is_accepted": false, "score": 0, "last_activity_date": 1560979114, "creation_date": 1560979114, "answer_id": 56675992, "question_id": 56675880, "link": "https://stackoverflow.com/questions/56675880/dynamically-push-pull-and-set-on-mongoose-schema-update/56675992#56675992", "title": "Dynamically push, pull, and set on mongoose schema update", "body": "<p>Oh, you're doing that $set and $push on a status. Your pushQuery is trying to have <code>status</code> be an array on the document, and your setQuery wants to set it to whatever it was on the actual body (I'm guessing the same object. </p>\n\n<p>A quickfix would be to remove it from the set object:</p>\n\n<pre><code>delete setQuery.status\n</code></pre>\n\n<p>A reasonable and stable way to do this would be to actually only take the things from req.body which you really want for each of the stages. Example:</p>\n\n<pre><code>const { position, name, dueDate, status, comment, remove_comment } = req.body;\nconst setQuery = { position, name, dueDate };\nconst pushQuery = { status, comments: comment };\n// ...\n</code></pre>\n\n<p>That way your queries are not conflicting in any way.</p>\n"}], "owner": {"reputation": 858, "user_id": 2900865, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/1225334994/picture?type=large", "display_name": "Sam Munroe", "link": "https://stackoverflow.com/users/2900865/sam-munroe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 359, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560979114, "creation_date": 1560978571, "question_id": 56675880, "link": "https://stackoverflow.com/questions/56675880/dynamically-push-pull-and-set-on-mongoose-schema-update", "title": "Dynamically push, pull, and set on mongoose schema update", "body": "<p>I am trying to setup my patch api so that I can create a dynamic query to push, pull, and set data in my mongoose schema. I have plenty of values that I would change using set, but I also have an array of objects which would require me to call push when I need to insert and pull when I need to remove an item. I'm trying to find the best way to combine this into a dynamic structure.</p>\n\n<p>Schema:</p>\n\n<pre><code>const StepSchema = new Schema({\n    position: {\n        type: Number,\n        required: true\n    },\n    name: {\n        type: String,\n        required: true\n    },\n\n    due_date: {\n        type: Date\n    },\n    status: [{\n        label: {\n            type: String,\n            enum: ['Inactive', 'In Progress', 'Flagged', 'Complete'],\n            default: 'Inactive'\n        },\n        user: {\n            type: Schema.Types.ObjectId,\n            ref: 'users',\n        },\n        date: {\n            type: Date\n        }\n    }],\n    comments: [{\n        user: {\n            type: Schema.Types.ObjectId,\n            ref: 'users',\n            required: true\n        },\n        body: {\n            type: String,\n            required: true\n        },\n        date: {\n            type: Date,\n            required: true\n        },\n    }],\n\n});\n</code></pre>\n\n<p>Api:</p>\n\n<pre><code>router.patch('/',\n    async (req, res) =&gt; {\n\n    let setQuery = req.body;\n    let pushQuery = {};\n    let pullQuery = {};\n\n    //remove id from set query\n    delete setQuery.id;\n\n    //if there is a comment\n    if(req.body.comment){\n        pushQuery.comments = req.body.comment\n    }\n\n    //if I need to remove a comment\n    if(req.body.remove_comment){\n        pullQuery.comments = {_id: req.body.remove_comment.id}\n    }\n\n\n    //Push new status into array\n    if(req.body.status) {\n        pushQuery.status = {\n            label: req.body.status,\n            user: req.user._id,\n            date: new Date()\n        };\n\n        delete setQuery.status;\n    }\n\n    //update step\n    await Step.findByIdAndUpdate(req.body.id, {$set: setQuery, $push: pushQuery, $pull: pushQuery})\n                .then(step =&gt; {\n                        if(!step){\n                            errors.noflow = \"There was a problem updating the step\";\n                            return res.status(400).json(errors);\n                        }\n                        res.json(step)\n                    })\n                .catch(err =&gt; {\n                    console.log(err);\n                    res.status(404).json(err);\n                });\n\n\n\n\n});\n</code></pre>\n\n<p>I've been getting the following error when trying to push a new status into my document:</p>\n\n<blockquote>\n  <p>operationTime: Timestamp { <em>bsontype: 'Timestamp', low</em>: 1, high_:\n  1560978288 },   ok: 0,   errmsg: 'Updating the path \\'status\\' would\n  create a conflict at \\'status\\'',   code: 40,   codeName:\n  'ConflictingUpdateOperators',   '$clusterTime':    { clusterTime:\n  Timestamp { <em>bsontype: 'Timestamp', low</em>: 1, high_: 1560978288 },\n       signature: { hash: [Object], keyId: [Object] } },</p>\n</blockquote>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 96, "user_id": 11672556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9038fdc3b954d699c7db752c0817adfc?s=128&d=identicon&r=PG&f=1", "display_name": "kmplzz", "link": "https://stackoverflow.com/users/11672556/kmplzz"}, "is_accepted": true, "score": 3, "last_activity_date": 1560987183, "last_edit_date": 1560987183, "creation_date": 1560983661, "answer_id": 56676730, "question_id": 56675841, "link": "https://stackoverflow.com/questions/56675841/why-i-cannot-type-continuously-in-react-input-field-when-passing-values-to-anoth/56676730#56676730", "title": "Why I cannot type continuously in react Input field when passing values to another component using props", "body": "<p>When you type text, the state of the parent component updates and render function calls again. You used </p>\n\n<pre><code>&lt;Route component={...} /&gt;\n</code></pre>\n\n<p>it calls <code>React.createElement</code> at every render, so old child component unmounts and router creates new instance, focus loses. \nTo fix this issue use </p>\n\n<pre><code>&lt;Route render={&lt;InstructorLoginFormComponent ... /&gt;} /&gt;\n</code></pre>\n\n<p>it also provides {match, location, history} props to child, but does not unmount it when parent state changed.</p>\n"}, {"tags": [], "owner": {"reputation": 202, "user_id": 5786924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d1bd716f49bd48b3cb241372d6db21a6?s=128&d=identicon&r=PG&f=1", "display_name": "SHG21", "link": "https://stackoverflow.com/users/5786924/shg21"}, "is_accepted": false, "score": 0, "last_activity_date": 1560987165, "last_edit_date": 1560987165, "creation_date": 1560984153, "answer_id": 56676808, "question_id": 56675841, "link": "https://stackoverflow.com/questions/56675841/why-i-cannot-type-continuously-in-react-input-field-when-passing-values-to-anoth/56676808#56676808", "title": "Why I cannot type continuously in react Input field when passing values to another component using props", "body": "<p>Sorry to put it this way, but this is poor architecture along with a few mistakes in syntax.\nYou should have all routes in your <code>App.js</code> file and everything else in your Component file (should actually be a <code>Container.js</code> file and a <code>Component.js</code> file, but for another time).<br/>\nYou only need one <code>onChange</code> event (note change to the function structure).<br/>\nThe below behaves as it should.<br/>\nPlease note the <code>handleOnClick</code> should have (e), that should be throwing an error.<br/>\nPlease note password name in the input has been corrected to password, from password button</p>\n\n<p>App.js;</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\n\nimport InstructorProfile from \"./instructor-profile\";\nimport InstructorLoginFormComponent from \"./instructor-login-form-component\";\n\nexport default class App extends Component {\n\n  render() {\n    return (\n      &lt;Router&gt;\n        &lt;Switch&gt;\n          &lt;Route\n            exact\n            path=\"/login\"\n            component={InstructorLoginFormComponent }\n          /&gt;\n\n          &lt;Route\n            path={\"/instructor/:instructorId\"}\n            component={InstructorProfile}\n          /&gt;\n        &lt;/Switch&gt;\n      &lt;/Router&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>and InstructorLoginFormComponent;</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class InstructorLoginFormComponent extends Component {\n  constructor(props) {\n    super(props)\n\n    this.state = {\n      username: \"\",\n      password: \"\"\n    }\n    this.onChange = this.onChange.bind(this)\n    this.handleOnClick = this.handleOnClick.bind(this)\n  }\n\n  onChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    })\n  }\n\n  handleOnClick (e) {\n    e.preventDefault()\n    this.props.history.push(`/instructor/${this.state.username}`)    \n  }\n\u2028\n  render() {\n    const { username, password } = this.state\n\n    return (\n      &lt;div className=\"container h-100\" style={{ marginTop: 100 }}&gt;\n        &lt;div className=\"d-flex justify-content-center h-100\"&gt;\n          &lt;div className=\"user_card bg-dark\"&gt;\n            &lt;div className=\"d-flex justify-content-center\"&gt;              \n            &lt;/div&gt;\n            &lt;div\n              className=\"d-flex justify-content-center form_container\"\n              style={{ marginTop: 0 }}\n            &gt;\n              &lt;form&gt;\n                &lt;div className=\"input-group mb-3\"&gt;\n                  &lt;div className=\"input-group-append\"&gt;\n                    &lt;span className=\"input-group-text bg-info\"&gt;\n                      &lt;i className=\"fa fa-user\" /&gt;\n                    &lt;/span&gt;\n                  &lt;/div&gt;\n                  &lt;input\n                    value={username}\n                    onChange={this.onChange}\n                    type=\"text\"\n                    name=\"username\"\n                    className=\"form-control input_user\"\n                    placeholder=\"username\"\n                  /&gt;\n                &lt;/div&gt;\n                &lt;div className=\"input-group mb-2\"&gt;\n                  &lt;div className=\"input-group-append\"&gt;\n                    &lt;span className=\"input-group-text bg-info\"&gt;\n                      &lt;i className=\"fa fa-lock\" /&gt;\n                    &lt;/span&gt;\n                  &lt;/div&gt;\n                  &lt;input\n                    value={password}\n                    onChange={this.onChange}\n                    type=\"password\"\n                    name=\"password\"\n                    className=\"form-control input_user\"\n                    placeholder=\"password\"\n                  /&gt;\n                &lt;/div&gt;\n                &lt;div className=\"form-group\"&gt;\n                  &lt;div className=\"custom-control custom-checkbox\"&gt;\n                    &lt;input\n                      type=\"checkbox\"\n                      className=\"custom-control-input\"\n                      id=\"customControlInline\"\n                    /&gt;\n                    &lt;label\n                      className=\"custom-control-label\"\n                      htmlFor=\"customControlInline\"\n                      style={{ color: \"#ffffff\" }}\n                    &gt;\n                      Remember me\n                    &lt;/label&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/form&gt;\n            &lt;/div&gt;\n\n            &lt;div className=\"d-flex justify-content-center mt-3 login_container\"&gt;\n              &lt;button\n                // to={`/instructor/${this.props.username}`}\n                onClick={this.props.handleOnClick}\n                type=\"button\"\n                className=\"btn login_btn bg-info\"\n              &gt;\n                Login\n              &lt;/button&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 63, "favorite_count": 0, "accepted_answer_id": 56676730, "answer_count": 2, "score": 0, "last_activity_date": 1560987183, "creation_date": 1560978405, "question_id": 56675841, "link": "https://stackoverflow.com/questions/56675841/why-i-cannot-type-continuously-in-react-input-field-when-passing-values-to-anoth", "title": "Why I cannot type continuously in react Input field when passing values to another component using props", "body": "<p>I am trying to pass values through <code>props</code> from one component to another.\nParent component is <code>InstructorLoginForm</code> and child component is <code>InstructorLoginFormComponent</code></p>\n\n<p>Everything works fine but the problem is I cannot type in input text field <strong>continuously</strong></p>\n\n<p>I try to type <code>username</code>, it types one letter and then it kind loses the focus into the input field, so <strong>I have to again click on the input field and type another(single) letter and again focus loses</strong>\nThis is same for the <code>password</code> field too.</p>\n\n<p>Hers is my parent component <code>InstructorLoginForm.jsx</code></p>\n\n<pre><code>import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport InstructorProfile from \"./instructor-profile\";\nimport InstructorLoginFormComponent from \"./instructor-login-form-component\";\n\nexport default class InstructorLoginForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.handleOnClick = this.handleOnClick.bind(this);\n  }\n\n  onChangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  handleOnClick (){\n    e.preventDefault();\n    this.props.history.push(`/instructor/${this.state.username}`);    \n  }\n\n  render() {\n    return (\n      &lt;Router&gt;\n        &lt;Switch&gt;\n          &lt;Route\n            exact\n            path=\"/login\"\n            component={props =&gt; (\n              &lt;InstructorLoginFormComponent\n                {...props}\n                username = {this.state.username}\n                password = {this.state.password}\n                handleOnClick = {this.handleOnClick}\n                onChangeUsername = {this.onChangeUsername}\n                onChangePassword = {this.onChangePassword}\n              /&gt;\n            )}\n          /&gt;\n          &lt;Route\n            path={\"/instructor/:instructorId\"}\n            component={InstructorProfile}\n          /&gt;\n        &lt;/Switch&gt;\n      &lt;/Router&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>And here is my child component <code>InstructorLoginFormComponent.jsx</code></p>\n\n<pre><code>import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class InstructorLoginFormComponent extends Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount(){\n    console.log(this.props);\n  }\n\n  render() {\n    return (\n      &lt;div className=\"container h-100\" style={{ marginTop: 100 }}&gt;\n        &lt;div className=\"d-flex justify-content-center h-100\"&gt;\n          &lt;div className=\"user_card bg-dark\"&gt;\n            &lt;div className=\"d-flex justify-content-center\"&gt;              \n            &lt;/div&gt;\n            &lt;div\n              className=\"d-flex justify-content-center form_container\"\n              style={{ marginTop: 0 }}\n            &gt;\n              &lt;form&gt;\n                &lt;div className=\"input-group mb-3\"&gt;\n                  &lt;div className=\"input-group-append\"&gt;\n                    &lt;span className=\"input-group-text bg-info\"&gt;\n                      &lt;i className=\"fa fa-user\" /&gt;\n                    &lt;/span&gt;\n                  &lt;/div&gt;\n                  &lt;input\n                    value={this.props.username}\n                    onChange={this.props.onChangeUsername}\n                    type=\"text\"\n                    name=\"username\"\n                    className=\"form-control input_user\"\n                    placeholder=\"username\"\n                  /&gt;\n                &lt;/div&gt;\n                &lt;div className=\"input-group mb-2\"&gt;\n                  &lt;div className=\"input-group-append\"&gt;\n                    &lt;span className=\"input-group-text bg-info\"&gt;\n                      &lt;i className=\"fa fa-lock\" /&gt;\n                    &lt;/span&gt;\n                  &lt;/div&gt;\n                  &lt;input\n                    value={this.props.password}\n                    onChange={this.props.onChangePassword}\n                    type=\"password\"\n                    name=\"passwordbutton\"\n                    className=\"form-control input_user\"\n                    placeholder=\"password\"\n                  /&gt;\n                &lt;/div&gt;\n                &lt;div className=\"form-group\"&gt;\n                  &lt;div className=\"custom-control custom-checkbox\"&gt;\n                    &lt;input\n                      type=\"checkbox\"\n                      className=\"custom-control-input\"\n                      id=\"customControlInline\"\n                    /&gt;\n                    &lt;label\n                      className=\"custom-control-label\"\n                      htmlFor=\"customControlInline\"\n                      style={{ color: \"#ffffff\" }}\n                    &gt;\n                      Remember me\n                    &lt;/label&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/form&gt;\n            &lt;/div&gt;\n\n            &lt;div className=\"d-flex justify-content-center mt-3 login_container\"&gt;\n              &lt;button\n                // to={`/instructor/${this.props.username}`}\n                onClick={this.props.handleOnClick}\n                type=\"button\"\n                className=\"btn login_btn bg-info\"\n              &gt;\n                Login\n              &lt;/button&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>Can someone help me why this happens and how to resolve it?</p>\n"}, {"tags": ["javascript", "momentjs", "moment-timezone"], "owner": {"reputation": 11, "user_id": 11672635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0622fa7128678652094ed4c0f63bbfa6?s=128&d=identicon&r=PG&f=1", "display_name": "KSOVII", "link": "https://stackoverflow.com/users/11672635/ksovii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560978376, "creation_date": 1560978376, "question_id": 56675832, "link": "https://stackoverflow.com/questions/56675832/how-to-validate-datetime-values-with-timezone-abbreviations-against-a-specific-f", "title": "How to validate datetime values with timezone abbreviations against a specific format", "body": "<p>I have a Ruby on Rails application which has several JQuery DataTables that display datetime values which include timezone abbreviations (EST, EDT, PST, PDT, etc.). I want the table sorting to correctly sort these datetime values in the right order. Even though all rows in a table will use the same locale for datetime objects, the actual timezone abbreviation can vary depending on whether or not daylight savings time was in effect at that time (For example, the table may include both '03/05/18 09:32 AM PST' and '05/31/17 09:04 AM PDT').</p>\n\n<p>I've followed the steps outlined here for adding momentjs formats for date sorting: <a href=\"https://datatables.net/blog/2014-12-18\" rel=\"nofollow noreferrer\">https://datatables.net/blog/2014-12-18</a>\nHowever, the 'z' format token for timezones has been deprecated from momentjs since version 1.6.0: <a href=\"http://momentjs.com/docs/#/displaying/\" rel=\"nofollow noreferrer\">http://momentjs.com/docs/#/displaying/</a>\nI cannot just hardcode known timezones in formats (such as <code>$.fn.dataTable.moment( 'MM/DD/YY hh:mm A [PST]')</code> and <code>$.fn.dataTable.moment( 'MM/DD/YY hh:mm A [PDT]')</code>) because the formats won't match all items in the column within my datatable, so sorting still will not work.</p>\n\n<p>I've brought in moment-timezone.js and was going to update the $.fn.dataTable.moment() function within datetime-moment.js to use <code>moment.tz(dateTime, format, useStrict, timezone).isValid()?</code> instead of <code>moment(dateTime, format, locale, useStrict).isValid()?</code> so that I could pass in a format containing a 'z' token, but the moment.tz().isValid() method doesn't behave as I expect it to.</p>\n\n<p>When I try to validate dateTime values with a timezone abbreviation against a format containing the z token, isValid() returns false.</p>\n\n<p><code>moment.tz('06/19/19 01:53 PM PDT','MM/DD/YY hh:mm A z',true, 'America/Los_Angeles').isValid()</code></p>\n\n<p>This is the exact dateTime string returned to me when I just get back a moment using that format. Example:\n<code>moment().tz('America/Los_Angeles').format('MM/DD/YY hh:mm A z');</code> returns <code>06/19/19 01:53 PM PDT</code></p>\n\n<p>The moment.tz().isValid() function works just fine if I drop the zone abbreviation, and it even returns true when I use the offset instead of the timezone abbreviation:\n<code>moment.tz('06/19/19 01:53 PM -0700','MM/DD/YY hh:mm A Z',true, 'America/Los_Angeles').isValid()</code></p>\n\n<p>I'd prefer to keep the timezone abbreviations in my datetime values since it's more convenient for users than UTC offsets. Does anyone have ideas as to why moment.tz().isValid() doesn't seem to work as expected with a timezone abbreviation? Or any alternate suggestions for sorting jquery datatables that contain datetime values with different timezone abbreviations?\nI'd even consider converting all of the datetime values to one abbreviated timezone depending on the user's local timezone, but the Ruby Time.in_time_zone() method doesn't take in all timezone abbreviations (for example, passing in 'EST' will correctly display all datetime values in EST, adjusting all EDT times by one hour. But 'PST' is not an accepted value here. Passing in 'America/Los_Angeles' will result in datetime values that could either end in PST or PDT, which brings me back to the issue of sorting them).</p>\n"}, {"tags": ["javascript", "jquery", "html", "json", "html5-video"], "comments": [{"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "edited": false, "score": 0, "creation_date": 1560981161, "post_id": 56675821, "comment_id": 99919816, "body": "You might consider using jQuery UI Dialog to contain the movie item and use it&#39;s Modal."}], "answers": [{"comments": [{"owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "edited": false, "score": 0, "creation_date": 1560980804, "post_id": 56676196, "comment_id": 99919712, "body": "hi Damian, When I testing your fiddle its shows only video , how about title?"}, {"owner": {"reputation": 347, "user_id": 7457238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rJzvb.jpg?s=128&g=1", "display_name": "Demian Bibiano", "link": "https://stackoverflow.com/users/7457238/demian-bibiano"}, "reply_to_user": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "edited": false, "score": 0, "creation_date": 1560980832, "post_id": 56676196, "comment_id": 99919722, "body": "oh, wait a minute"}, {"owner": {"reputation": 347, "user_id": 7457238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rJzvb.jpg?s=128&g=1", "display_name": "Demian Bibiano", "link": "https://stackoverflow.com/users/7457238/demian-bibiano"}, "reply_to_user": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "edited": false, "score": 1, "creation_date": 1560981242, "post_id": 56676196, "comment_id": 99919842, "body": "try this <a href=\"https://jsfiddle.net/z4v18y3g/2/\" rel=\"nofollow noreferrer\">jsfiddle.net/z4v18y3g/2</a> i have added another div inside the modal, called &quot;modalTitle&quot;, if it works notify me, i will add to answer"}, {"owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "edited": false, "score": 1, "creation_date": 1560982852, "post_id": 56676196, "comment_id": 99920253, "body": "sorry Damian , when Ichange selector from $(&#39;video&#39;) to <code>$(&#39;.block-edit</code>) display just modal  without a video and title, only works when the selecto is $(&#39;video&#39;), :(  here is link <a href=\"https://jsfiddle.net/z4v18y3g/2/\" rel=\"nofollow noreferrer\">jsfiddle.net/z4v18y3g/2</a>"}, {"owner": {"reputation": 347, "user_id": 7457238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rJzvb.jpg?s=128&g=1", "display_name": "Demian Bibiano", "link": "https://stackoverflow.com/users/7457238/demian-bibiano"}, "reply_to_user": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "edited": false, "score": 1, "creation_date": 1560985774, "post_id": 56676196, "comment_id": 99920878, "body": "here is the code, i just deleted &quot;video&quot; event, and add some code into button click event, take a look : <a href=\"https://jsfiddle.net/wksacnp9/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/wksacnp9/1</a> sorry for missing comments, i dont have mutch time right now :/"}], "tags": [], "owner": {"reputation": 347, "user_id": 7457238, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rJzvb.jpg?s=128&g=1", "display_name": "Demian Bibiano", "link": "https://stackoverflow.com/users/7457238/demian-bibiano"}, "is_accepted": true, "score": 1, "last_activity_date": 1560981508, "last_edit_date": 1560981508, "creation_date": 1560980179, "answer_id": 56676196, "question_id": 56675821, "link": "https://stackoverflow.com/questions/56675821/how-to-open-a-clicked-video-block-to-a-pop-modal/56676196#56676196", "title": "How to open a clicked video block to a pop modal?", "body": "<p>Sorry for the layout, but all I did was add a brother element of the modal close button called \"modalVideo\" and another called \"modalTitle\" for title:</p>\n\n<pre><code>&lt;ul class=\"sidebar\"&gt;\n&lt;/ul&gt;\n&lt;div id=\"myModal\" class=\"modal\"&gt;\n   &lt;!-- Modal content --&gt;\n   &lt;div class=\"modal-content\"&gt;\n        &lt;h1 id=\"modalTitle\"&gt;&lt;/h1&gt;\n        &lt;span class=\"close\"&gt;&amp;times;&lt;/span&gt;\n        &lt;div id=\"modalVideo\"&gt;\n        &lt;/div&gt;\n   &lt;/div&gt;                              \n&lt;/div&gt;\n</code></pre>\n\n<p>I added this function, which is triggered in the click of the video and adds it in the modal.</p>\n\n<pre><code>$(\"video\").on(\"click\", function(cls){\n    $(\"#myModal\").css(\"display\", \"flex\");\n    //get video tag and put into modal.\n    $(\"#modalVideo\")[0].innerHTML = cls.target.outerHTML\n})\n</code></pre>\n\n<p>If you want to switch to the click of the button, just change the <code>$(\"video\")</code> to \ndesired element.</p>\n\n<p>Here is the fiddler link: <a href=\"https://jsfiddle.net/z4v18y3g/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/z4v18y3g/</a></p>\n\n<p>[EDIT]</p>\n\n<p>New fiddler with title: <a href=\"https://jsfiddle.net/z4v18y3g/2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/z4v18y3g/2/</a> </p>\n"}], "owner": {"reputation": 4819, "user_id": 9964622, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bo9qD.jpg?s=128&g=1", "display_name": "The Dead Man", "link": "https://stackoverflow.com/users/9964622/the-dead-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 56676196, "answer_count": 1, "score": 1, "last_activity_date": 1560981508, "creation_date": 1560978305, "question_id": 56675821, "link": "https://stackoverflow.com/questions/56675821/how-to-open-a-clicked-video-block-to-a-pop-modal", "title": "How to open a clicked video block to a pop modal?", "body": "<p>I have a sidebar which displays the list of movies from a JSON file, here si visual how it looks.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Lxim7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lxim7.png\" alt=\"enter image description here\"></a></p>\n\n<p>Now I want when a user clicks edit button one of the movie in a list it should open a popup modal with a movie block, something like this.</p>\n\n<p><a href=\"https://i.stack.imgur.com/oTx1O.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oTx1O.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here si live demo jsfiddle: <a href=\"https://jsfiddle.net/phdewzay/12/\" rel=\"nofollow noreferrer\">live demo</a></p>\n\n<p>Here is what I have tried so far </p>\n\n<p>HTML</p>\n\n<pre><code>&lt;ul class=\"sidebar\"&gt;\n&lt;/ul&gt;\n\n&lt;div id=\"myModal\" class=\"modal\"&gt;\n    &lt;!-- Modal content --&gt;\n    &lt;div class=\"modal-content\"&gt;\n        &lt;span class=\"close\"&gt;&amp;times;&lt;/span&gt;\n    &lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is js</p>\n\n<pre><code>$(function() {\n        var movies = [{\n                        \"title\": \"travel\",\n                        \"left\": 201,\n                        \"top\": 209,\n                        \"movieid\": \"10\",\n                        \"movie_url\": \"http://techslides.com/demos/sample-videos/small.mp4\",\n                        \"buttons\": [{\n                                \"left\": 81,\n                                \"top\": 51,\n                                \"start_time\": 1,\n                                \"end_time\": 2,\n                                \"buttonid\": \"10_1\",\n                                \"btn_url\": \"http://techslides.com/demos/sample-videos/small.mp4\"\n                        }]\n                },\n                {\n                        \"title\": \"ecommerce\",\n                        \"movieid\": \"20\",\n                        \"movie_url\": \"http://techslides.com/demos/sample-videos/small.mp4\",\n                        \"buttons\": [{\n                                \"left\": 0,\n                                \"top\": 0,\n                                \"start_time\": 1,\n                                \"end_time\": 2,\n                                \"width\": '200',\n                                \"height\": '60',\n                                \"buttonid\": \"20_1\",\n                        }]\n                }\n        ];\n\n        function formatTitle(t) {\n                var nt = t[0].toUpperCase();\n                nt += t.slice(1);\n                return nt;\n        }\n\n        function makeListItem(v, p) {\n                var li = $(\"&lt;div id='\" + v.movieid + \"' class='sidebar_movie-block'&gt;\");\n                var title = $(\"&lt;h1&gt;\", {\n                        class: \"title\",\n                        for: \"video_\" + v.movieid\n                }).html(formatTitle(v.title)).appendTo(li);\n\n                var edit = $(\"&lt;span&gt;\", {\n                        class: \"block-edit fa fa-edit\",\n                        for: \"video_\" + v.movieid,\n\n                }).appendTo(li);\n                var vObj = $(\"&lt;video&gt;\", {\n                        id: \"video_\" + v.movieid,\n                        src: v.movie_url\n                }).appendTo(li);\n                li.appendTo(p);\n        }\n\n        function getVideoList() {\n                $.each(movies, function(index, dataValue) {\n                        makeListItem(dataValue, $(\".sidebar\"));\n                });\n        }\n\n        getVideoList();\n\n\n\n        var modal = $(\"#myModal\");\n\n        // When the user clicks the button, open the modal \n        $(\".block-edit\").on(\"click\", function() {\n                $(\"#myModal\").css(\"display\", \"flex\");\n\n        })\n\n        // When the user clicks on &lt;span&gt; (x), close the modal\n        $(\".close\").on(\"click\", function() {\n                $(\"#myModal\").css(\"display\", \"none\");\n        })\n\n        // When the user clicks anywhere outside of the modal, close it\n        window.onclick = function(event) {\n                if (event.target == modal) {\n                        modal.style.display = \"none\";\n                }\n        }\n\n});\n</code></pre>\n\n<p>I am stuck to display the movie inside a pop modal after I click edit, I tried different ways but unfortunately am out of ideas.</p>\n\n<p>What do I need to change to get what I want? any suggestion or help will be apreciated</p>\n"}, {"tags": ["javascript", "textnode"], "comments": [{"owner": {"reputation": 106594, "user_id": 575527, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a1120319639f8c7ea84d66d4334bdfa9?s=128&d=identicon&r=PG", "display_name": "Joseph", "link": "https://stackoverflow.com/users/575527/joseph"}, "edited": false, "score": 0, "creation_date": 1560978368, "post_id": 56675794, "comment_id": 99918895, "body": "<i>&quot;Is this possible using the below code and some javascript?&quot;</i> - yes. See <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\" rel=\"nofollow noreferrer\"><code>Node.nodeType</code></a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Node/childNodes\" rel=\"nofollow noreferrer\"><code>Node.childNodes</code></a>."}], "answers": [{"tags": [], "owner": {"reputation": 12887, "user_id": 5867572, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2b0e97a2e32627a9b2a8922492b4aa4?s=128&d=identicon&r=PG&f=1", "display_name": "gavgrif", "link": "https://stackoverflow.com/users/5867572/gavgrif"}, "is_accepted": true, "score": 1, "last_activity_date": 1560979070, "creation_date": 1560979070, "answer_id": 56675978, "question_id": 56675794, "link": "https://stackoverflow.com/questions/56675794/how-can-i-change-the-background-colour-for-every-e-character-in-all-of-these-n/56675978#56675978", "title": "how can i change the background colour for every &#39;e&#39; character in all of these names\\/", "body": "<p>Get the names, split them into letters, pass each letter through a comparison function and add a span with the highlight class if it is an e.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var names = document.querySelectorAll('p');\r\n\r\nnames.forEach(function(name){\r\n  var letters = name.innerText.split('');\r\n  var newName = '';\r\n    letters.forEach(function(letter){\r\n    newName += isE(letter);\r\n  })\r\n  name.innerHTML = newName;\r\n})\r\n\r\nfunction isE(letter){\r\nlet newStr =''\r\n  letter.toLowerCase() == 'e'\r\n    ? newStr += '&lt;span class=\"highlight\"&gt;'+ letter +'&lt;/span&gt;'\r\n    : newStr = letter;\r\n  return newStr;\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.highlight {\r\n  background-color: yellow\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p id=\"demo1\"&gt;stephen&lt;/p&gt;\r\n&lt;p id=\"demo2\"&gt;peter&lt;/p&gt;\r\n&lt;p id=\"demo3\"&gt;ben&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2482, "user_id": 10424385, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b493fdfafec2706b15ee1cd6fbe8ed04?s=128&d=identicon&r=PG&f=1", "display_name": "Grzegorz T.", "link": "https://stackoverflow.com/users/10424385/grzegorz-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1560981170, "creation_date": 1560981170, "answer_id": 56676383, "question_id": 56675794, "link": "https://stackoverflow.com/questions/56675794/how-can-i-change-the-background-colour-for-every-e-character-in-all-of-these-n/56676383#56676383", "title": "how can i change the background colour for every &#39;e&#39; character in all of these names\\/", "body": "<p>And my solution</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const elementDiv = document.querySelector('div');\r\nconst elementText = elementDiv.textContent.trim().split(/\\s+/);\r\n\r\nelementDiv.innerHTML = '';\r\n\r\nelementText.forEach(element =&gt; {\r\n  elementDiv.innerHTML += `&lt;br&gt;${element.replace(/e/gi, '&lt;span style=\"color: red;\"&gt;e&lt;/span&gt;')}`;\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\r\n  stephen\r\n  &lt;p id=\"demo\"&gt;peter&lt;/p&gt;\r\n  ben\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 515, "user_id": 9445711, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9dca6a8242c593b2480bbb78477fa170?s=128&d=identicon&r=PG&f=1", "display_name": "Steve", "link": "https://stackoverflow.com/users/9445711/steve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 56675978, "answer_count": 2, "score": 0, "last_activity_date": 1560981170, "creation_date": 1560978145, "question_id": 56675794, "link": "https://stackoverflow.com/questions/56675794/how-can-i-change-the-background-colour-for-every-e-character-in-all-of-these-n", "title": "how can i change the background colour for every &#39;e&#39; character in all of these names\\/", "body": "<p>I would like the output to look like this:</p>\n\n<pre><code>stephen\n\npeter\n\nben\n</code></pre>\n\n<p>but with the 'e' characters having a background colour. Is this possible using the below code and some javascript?</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n\n&lt;div&gt;\nstephen\n&lt;p id=\"demo\"&gt;peter&lt;/p&gt;\nben\n&lt;/div&gt;\n\n\n&lt;script&gt;\n\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "amazon-web-services", "aws-api-gateway", "aws-sam", "aws-java-sdk-2.x"], "answers": [{"tags": [], "owner": {"reputation": 402, "user_id": 10270577, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-NSytpeqPwGs/AAAAAAAAAAI/AAAAAAAAACA/g89MiZEgXak/photo.jpg?sz=128", "display_name": "Keeton Hodgson", "link": "https://stackoverflow.com/users/10270577/keeton-hodgson"}, "is_accepted": true, "score": 0, "last_activity_date": 1560985720, "creation_date": 1560985720, "answer_id": 56677009, "question_id": 56675778, "link": "https://stackoverflow.com/questions/56675778/how-to-get-endpoint-of-aws-api-gateway-created-through-sam-using-javascript/56677009#56677009", "title": "How to get endpoint of AWS API gateway created through SAM using javascript", "body": "<p>I can think of a few things here.</p>\n\n<ol>\n<li><p>Would your webpage be able to make an authenticated call to AWS? You could export your API endpoint in the stack outputs section and be able to pick that up via the API.</p></li>\n<li><p>Do you expect your API endpoint to change often? Once an API is created in a stack, the endpoint never changes unless that API is deleted. You could create your API then use the endpoint url in your webpage.</p></li>\n<li><p>You could use Route53 to map your API endpoint to a normal web address, so that the address would always be the same. You could put that address in your webpage and not need to have the exact API endpoint url.</p></li>\n</ol>\n"}], "owner": {"reputation": 365, "user_id": 10094585, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c6e662ed8b18993cad0da4e55e011ee?s=128&d=identicon&r=PG&f=1", "display_name": "PDPDPDPD", "link": "https://stackoverflow.com/users/10094585/pdpdpdpd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 100, "favorite_count": 0, "accepted_answer_id": 56677009, "answer_count": 1, "score": 0, "last_activity_date": 1560985720, "creation_date": 1560978060, "question_id": 56675778, "link": "https://stackoverflow.com/questions/56675778/how-to-get-endpoint-of-aws-api-gateway-created-through-sam-using-javascript", "title": "How to get endpoint of AWS API gateway created through SAM using javascript", "body": "<p>I am creating an api gateway from a SAM template.  I need a separate web page to make get requests to the api using javascript.  However, I am unsure how to make requests if I don't know the endpoint since the endpoint is created dynamically on deployment.</p>\n\n<p>Is there a way to somehow send the endpoint to the webpage or for the webpage to access the endpoint without knowing it.</p>\n\n<p>I understand that I could name the API using the SAM template but I want everything to be created by AWS so that there are no conflicts with multiple deployments.</p>\n"}, {"tags": ["javascript", "math", "svg"], "comments": [{"owner": {"reputation": 41485, "user_id": 2521214, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nd58V.jpg?s=128&g=1", "display_name": "Spektre", "link": "https://stackoverflow.com/users/2521214/spektre"}, "edited": false, "score": 0, "creation_date": 1561012122, "post_id": 56675718, "comment_id": 99926320, "body": "The easiest is to use transform matrix on a <code>&lt;g&gt;</code>  object covering all the stuff you want to rotate so slice and its text ... take a look at this <a href=\"https://stackoverflow.com/a/50406130/2521214\">Getting SVG d after transform</a>"}, {"owner": {"reputation": 24997, "user_id": 7897395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2108bc8318af0d73434ffa286ba2b22f?s=128&d=identicon&r=PG&f=1", "display_name": "enxaneta", "link": "https://stackoverflow.com/users/7897395/enxaneta"}, "edited": false, "score": 0, "creation_date": 1561015737, "post_id": 56675718, "comment_id": 99927959, "body": "In this example the easiest way to do it would be setting a <code>stroke-dashoffset</code> of 25% for the second circle. However if what you have in mind is a pie chart I would do it in a different way. Instead of using dashes I would draw a path for every slice."}, {"owner": {"reputation": 166, "user_id": 1223499, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0bb46fd4d1d535789f41ed502376494f?s=128&d=identicon&r=PG", "display_name": "tornord", "link": "https://stackoverflow.com/users/1223499/tornord"}, "edited": false, "score": 0, "creation_date": 1562778914, "post_id": 56675718, "comment_id": 100487520, "body": "But the rotate transform will rotate the texts as well .."}], "owner": {"reputation": 5346, "user_id": 613932, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/56b0f8c841fe19ec2469d0302edf1e7b?s=128&d=identicon&r=PG", "display_name": "Dennis Martinez", "link": "https://stackoverflow.com/users/613932/dennis-martinez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560977771, "creation_date": 1560977771, "question_id": 56675718, "link": "https://stackoverflow.com/questions/56675718/how-can-i-rotate-circles-in-an-svg-donut-chart", "title": "How can I rotate circles in an SVG donut chart?", "body": "<p>I'm in the process of building a donut chart that is rendered on the server. I got some help in the math around positioning the labels to the center of donut slice <a href=\"https://stackoverflow.com/questions/56672591/calculating-svg-donut-slice-label-position-server-side\">here</a>. That solution works well but I'm having another problem with my chart. I don't know how to rotate each svg circle using my current math formula. I can rotate each slice using <code>stroke-dashoffset</code> but then the text isn't following the slice around the chart.</p>\n\n<blockquote>\n  <p>How can I rotate each slice of the donut chart so that they don't\n  overlap while still keeping the label in the center of the slice?</p>\n</blockquote>\n\n<p>I <em>think</em> I need to adjust the angle, I'm just unsure how.</p>\n\n<p>Here's what It currently looks like\n<a href=\"https://i.stack.imgur.com/YQ1JG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YQ1JG.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's what I'd like it to look like\n<a href=\"https://i.stack.imgur.com/M5pYB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M5pYB.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here's the code sandbox I'm working out of <a href=\"https://codesandbox.io/s/goofy-feather-5yyr3\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/goofy-feather-5yyr3</a>.</p>\n"}, {"tags": ["javascript", "html", "if-statement", "constants"], "comments": [{"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 2, "creation_date": 1560977746, "post_id": 56675686, "comment_id": 99918668, "body": "<code>includes</code> takes 1 argument, not 3. (Exception: a second argument could specify the start index of the search)"}, {"owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 1, "creation_date": 1560977990, "post_id": 56675686, "comment_id": 99918756, "body": "<code>message.includes(&#39;hey&#39;, &#39;hi&#39;, &#39;hello&#39;)</code> can change to <code>[&#39;hey&#39;, &#39;hi&#39;, &#39;hello&#39;].some(z =&gt; message.includes(z))</code>"}, {"owner": {"reputation": 2607, "user_id": 11417877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1930e387dc37d52d55d2dc084d8ed1d5?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick K", "link": "https://stackoverflow.com/users/11417877/yannick-k"}, "edited": false, "score": 0, "creation_date": 1560978067, "post_id": 56675686, "comment_id": 99918785, "body": "Read the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes\" rel=\"nofollow noreferrer\">documentation</a> if you&#39;re using an unfamiliar method and it&#39;s not working the way you&#39;re expecting."}], "answers": [{"tags": [], "owner": {"reputation": 823, "user_id": 6168140, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edd5dbedf22f96811112bce833c53b43?s=128&d=identicon&r=PG&f=1", "display_name": "big_bad_bison", "link": "https://stackoverflow.com/users/6168140/big-bad-bison"}, "is_accepted": true, "score": 1, "last_activity_date": 1560979328, "creation_date": 1560979328, "answer_id": 56676035, "question_id": 56675686, "link": "https://stackoverflow.com/questions/56675686/why-isnt-my-second-if-statement-working-in-my-code/56676035#56676035", "title": "Why isn&#39;t my second if statement working in my code?", "body": "<p>Your code doesn't work because the \"includes\" method checks whether an array contains a certain value, not 1 of many values. You can make this work by using the \"some\" method like so.</p>\n\n<pre><code>if(['hey', 'hi', 'hello'].some(word =&gt; message.includes(word))) {\n    const finalText = hello[Math.floor(Math.random() * hello.length)];\n    speech.text = finalText;\n}\n</code></pre>\n\n<p>This will iterate through the array, checking if the message includes any of the specified values.</p>\n"}], "owner": {"reputation": 424, "user_id": 11096711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ygZX.png?s=128&g=1", "display_name": "Love2Code", "link": "https://stackoverflow.com/users/11096711/love2code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 56676035, "answer_count": 1, "score": -1, "last_activity_date": 1560979328, "creation_date": 1560977599, "question_id": 56675686, "link": "https://stackoverflow.com/questions/56675686/why-isnt-my-second-if-statement-working-in-my-code", "title": "Why isn&#39;t my second if statement working in my code?", "body": "<p>I'm currently working on a project where if you click a button and say something the computer will respond. I have set up a const called greetings and inside lays some strings I've put. I then put an if statement in my readOutLoud function. In the if statement the computer checks if the user says any of the keywords (right now it can only respond to how are you) and then uses Math. Floor random which I've also inserted in the if statement to pick one of the 3 choices I've put in the greetings const. So right now if you press the talk button and say how are you it will respond with one of the 3 choices I've put in the greetings const. For some reason the second if statement I've put below the 1st one doesn't work why is that so? The only thing different about the second one is that it's using different keywords and getting another const. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const btn = document.querySelector('.talk');\r\nconst content = document.querySelector('.content');\r\nconst greetings = [\r\n\t\t\t\t'If you are good im good to \ud83d\ude09', \r\n\t\t\t\t'Im doin alright', \r\n\t\t\t\t'Im tired \ud83d\ude34'\r\n];\r\nconst weather = [\r\n\t\t\t\t'Ask the weatherman!', \r\n\t\t\t\t'okay I guess' \r\n\t\t\t\t\r\n];\r\nconst name = [\r\n\t'My name is techwali', \r\n\t'techwali!'\r\n];\r\nconst hello = [\r\n\t'Why hello! How are you doing today?', \r\n\t'Hey there How are you?'\r\n]\r\nconst hru = [\r\n\t'thats great!', \r\n\t'Im so sorry to hear that', \r\n\t'Feel better soon!'\r\n]\r\nconst SpeechRecognition = \r\n\twindow.SpeechRecognition || window.webkitSpeechRecognition;\r\nconst recognition = new SpeechRecognition();\r\n\r\nrecognition.onstart = function() {\r\n\tconsole.log('voice is activated speak into the mic');\r\n};\r\nrecognition.onresult = function(event) {\r\n\tconst current = event.resultIndex;\r\n\t\r\n\tconst transcript = event.results[current][0].transcript;\r\n\tcontent.textContent = transcript;\r\n\treadOutLoud(transcript);\r\n}\r\n\r\nbtn.addEventListener('click', () =&gt; {\r\n\trecognition.start();\r\n});\r\n\r\nfunction readOutLoud(message) {\r\n\t\r\n\tconst speech = new SpeechSynthesisUtterance();\r\n\tspeech.text = 'I dont know what you said';\r\n\tif(message.includes('how are you')) {\r\n\t\t const finalText = \r\n\t\t greetings[Math.floor(Math.random() * greetings.length)];\r\n\t\t speech.text = finalText;\r\n\t\t\r\n\t} \r\n\tif(message.includes('hey', 'hi', 'hello')) {\r\n\t\t const finalText = \r\n\t\t hello[Math.floor(Math.random() * hello.length)];\r\n\t\t speech.text = finalText;\r\n\t\t\r\n\t} \r\n\r\n\t\r\n\tspeech.volume = 1;\r\n\tspeech.rate = 1;\r\n\tspeech.pitch = 1;\r\n\twindow.speechSynthesis.speak(speech);\r\n\t\t\r\n\t} \r\n\t</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n\t&lt;title&gt;Page Title&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;button class=\"talk\"&gt;Talk&lt;/button&gt;\r\n&lt;h3 class=\"content\"&gt;&lt;/h3&gt;\r\n\r\n\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "express"], "answers": [{"tags": [], "owner": {"reputation": 313, "user_id": 11200005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de761c377f59b2e8b9f230ee0313b110?s=128&d=identicon&r=PG&f=1", "display_name": "Aidan Welch", "link": "https://stackoverflow.com/users/11200005/aidan-welch"}, "is_accepted": true, "score": 0, "last_activity_date": 1561042158, "creation_date": 1561042158, "answer_id": 56688595, "question_id": 56675680, "link": "https://stackoverflow.com/questions/56675680/express-nested-router-not-calling-sub-functions/56688595#56688595", "title": "Express Nested Router not calling sub functions", "body": "<p>I fixed it, instead of</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>router.use(\"/:collection/\", (req) =&gt; {\r\n    return require(`./${req.params.collection}`);\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I use </p>\n\n\n\n<pre><code>router.get(\"/:collection\", (req, res) =&gt; {\n  //this is my other call that will do stuff in the parent file\n  //we don't call next because it is already matched, otherwise we call next\n});\n\nrouter.use(\"/:collection/\", (req, res, next) =&gt;{ //says if it gets here pass on the info\n  router.use(\"/:collection/\", require(`./${req.params.collection}`)); //then route\n  next();\n});\n</code></pre>\n"}], "owner": {"reputation": 313, "user_id": 11200005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de761c377f59b2e8b9f230ee0313b110?s=128&d=identicon&r=PG&f=1", "display_name": "Aidan Welch", "link": "https://stackoverflow.com/users/11200005/aidan-welch"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 56688595, "answer_count": 1, "score": 0, "last_activity_date": 1561042209, "creation_date": 1560977559, "last_edit_date": 1561042209, "question_id": 56675680, "link": "https://stackoverflow.com/questions/56675680/express-nested-router-not-calling-sub-functions", "title": "Express Nested Router not calling sub functions", "body": "<p>I have the following router.use calls in one of my routers</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>router.use(\"/:collection/\", (req) =&gt; {\r\n    return require(`./${req.params.collection}`);\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and that calls in this example, example.js</p>\n\n<p>example.js is as follows:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const header = require(\"../../header\"); //gets our header that declares everything\r\n\r\nconst router = header.express.Router(); //makes our router for collections requests\r\n\r\n\r\nconsole.log(\"123\");\r\n\r\n\r\n///The Following is when a name is requested\r\nrouter.get(\"/test\", (req, res, next) =&gt; {\r\n    console.log(\"test\");\r\n    res.json({msg:\"hi\"});\r\n    next();\r\n});\r\n\r\n\r\nmodule.exports = router; //makes our router avialable</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>you'd expect when:</p>\n\n<pre><code>http://localhost:3000/api/example/test\n</code></pre>\n\n<p>is request that it would write in the console something to the effect of:</p>\n\n<pre><code>123\ntest\n</code></pre>\n\n<p>and I would get the response:</p>\n\n<pre><code>{msg:\"hi\"}\n</code></pre>\n\n<p>Instead the console gets just:</p>\n\n<pre><code>123\n</code></pre>\n\n<p>written and there is no response.</p>\n\n<p>It seems the</p>\n\n<pre><code> router.get\n</code></pre>\n\n<p>in the example.js is never called, can someone tell me why?</p>\n"}, {"tags": ["javascript", "reactjs", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 758, "user_id": 2124039, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6djF6.jpg?s=128&g=1", "display_name": "callmetwan", "link": "https://stackoverflow.com/users/2124039/callmetwan"}, "edited": false, "score": 0, "creation_date": 1561044405, "post_id": 56675761, "comment_id": 99943996, "body": "With respect, this <i>does</i> work. What I posted is just syntactic sugar for your solution. This isn&#39;t an issue with React, it is an issue with TS."}], "tags": [], "owner": {"reputation": 614, "user_id": 1789684, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/93cea9a6327b0942b455890626f8174f?s=128&d=identicon&r=PG", "display_name": "Robert Lemiesz", "link": "https://stackoverflow.com/users/1789684/robert-lemiesz"}, "is_accepted": false, "score": -2, "last_activity_date": 1560978016, "creation_date": 1560978016, "answer_id": 56675761, "question_id": 56675652, "link": "https://stackoverflow.com/questions/56675652/proper-typescript-type-for-creating-jsx-element-from-string/56675761#56675761", "title": "Proper TypeScript type for creating JSX element from string", "body": "<p>That is not going to work, you need to use React.createElement(). <a href=\"https://reactjs.org/docs/react-api.html#createelement\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/react-api.html#createelement</a></p>\n\n<p>Something like this </p>\n\n<pre><code>  import React, {ReactNode} from 'react'\n\ninterface Props {\n    children: ReactNode,\n    elementType?: string,\n}\n\nexport default function ({children, elementType: ElementType = 'h2'}: Props): JSX.Element {\n\n    return React.createElement(elementType, {}, children); \n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 758, "user_id": 2124039, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6djF6.jpg?s=128&g=1", "display_name": "callmetwan", "link": "https://stackoverflow.com/users/2124039/callmetwan"}, "edited": false, "score": 0, "creation_date": 1561044658, "post_id": 56677879, "comment_id": 99944160, "body": "This worked like a charm! Thanks for sharing the recommended way to define prop typing, I&#39;m still learning the ins and outs of TS!"}], "tags": [], "owner": {"reputation": 375, "user_id": 7124935, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc2f5b0f5ec55e84c37c63d1d7580e54?s=128&d=identicon&r=PG", "display_name": "Zico Deng", "link": "https://stackoverflow.com/users/7124935/zico-deng"}, "is_accepted": true, "score": 5, "last_activity_date": 1560994357, "creation_date": 1560994357, "answer_id": 56677879, "question_id": 56675652, "link": "https://stackoverflow.com/questions/56675652/proper-typescript-type-for-creating-jsx-element-from-string/56677879#56677879", "title": "Proper TypeScript type for creating JSX element from string", "body": "<p>First, a bit about JSX. It is just a syntactic sugar for <code>React.createElement</code>, which is a JavaScript expression.</p>\n\n<p>With this knowledge in mind, now let's take a look at why TypeScript complains. You define <code>elementType</code> as <code>string</code>, however, when you actually use it, it becomes a JavaScript expression. <code>string</code> type of course doesn't have any construct or call signature.</p>\n\n<p>Now we know the root cause. In React, there is a type called <code>FunctionComponent</code>. As you can guess, it is a function expression, which is what we want. So you can define <code>elementType</code> as <code>string | FunctionComponent</code>. This should make TypeScript happy :)</p>\n\n<p>FYI: the recommended way to define prop typing is by doing this:</p>\n\n<pre><code>const MyComponent: FunctionComponent&lt;Props&gt; = (props) =&gt; {}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5428, "user_id": 1253298, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/h0lmg.jpg?s=128&g=1", "display_name": "BBaysinger", "link": "https://stackoverflow.com/users/1253298/bbaysinger"}, "edited": false, "score": 1, "creation_date": 1603435531, "post_id": 64262544, "comment_id": 114041898, "body": "\ud83c\udf88Worked like a charm!"}], "tags": [], "owner": {"reputation": 14263, "user_id": 10325032, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/UwH88.jpg?s=128&g=1", "display_name": "Karol Majewski", "link": "https://stackoverflow.com/users/10325032/karol-majewski"}, "is_accepted": false, "score": 2, "last_activity_date": 1602160144, "creation_date": 1602160144, "answer_id": 64262544, "question_id": 56675652, "link": "https://stackoverflow.com/questions/56675652/proper-typescript-type-for-creating-jsx-element-from-string/64262544#64262544", "title": "Proper TypeScript type for creating JSX element from string", "body": "<p>Use <code>keyof JSX.IntrinsicElements</code>:</p>\n<pre><code>import * as React from 'react'\n\ninterface Props {\n  children: React.ReactNode;\n  elementType?: keyof JSX.IntrinsicElements;\n}\n\nexport default function ({ children, elementType: ElementType = 'h2' }: Props): JSX.Element {\n  return (\n    &lt;ElementType&gt;{children}&lt;/ElementType&gt;\n  );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 858, "user_id": 175954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c11de48402c8ff3faad218a6f4616a0d?s=128&d=identicon&r=PG", "display_name": "VyvIT", "link": "https://stackoverflow.com/users/175954/vyvit"}, "is_accepted": false, "score": 0, "last_activity_date": 1617375689, "creation_date": 1617375689, "answer_id": 66921246, "question_id": 56675652, "link": "https://stackoverflow.com/questions/56675652/proper-typescript-type-for-creating-jsx-element-from-string/66921246#66921246", "title": "Proper TypeScript type for creating JSX element from string", "body": "<p>What worked for me given the component is defined like this:</p>\n<pre><code>interface LabelProps {\n        ...\n        tag?: React.ElementType | string;\n    }\n\nconst Label: VFC&lt;LabelProps&gt; = ({\n       ...other props...\n        tag: Element = 'span',\n    }) =&gt; (\n        &lt;Element&gt;\n            {children}\n        &lt;/Element&gt;\n    );\n</code></pre>\n<p>and prop types:</p>\n<pre><code>Label.propTypes = {\n    ...\n    tag: PropTypes.oneOfType([PropTypes.elementType, PropTypes.string]),\n};\n</code></pre>\n"}], "owner": {"reputation": 758, "user_id": 2124039, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/6djF6.jpg?s=128&g=1", "display_name": "callmetwan", "link": "https://stackoverflow.com/users/2124039/callmetwan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13091, "favorite_count": 5, "accepted_answer_id": 56677879, "answer_count": 4, "score": 10, "last_activity_date": 1617375689, "creation_date": 1560977435, "last_edit_date": 1602159539, "question_id": 56675652, "link": "https://stackoverflow.com/questions/56675652/proper-typescript-type-for-creating-jsx-element-from-string", "title": "Proper TypeScript type for creating JSX element from string", "body": "<p>I have a component that I want to default to being rendered as an <code>h2</code>. I'd like the consumer to be able to specify a different element if they desire. The code below results in the error:</p>\n<p><code>TS2604 - JSX element type 'ElementType' does not have any construct or call signatures</code></p>\n<p>I think I understand why it fails, TS is expecting to render a React node. For clarity, React <em>is</em> able to render elements referenced as strings as long as the variable begins with a capital letter (this being a JSX requirement). I've done this before successfully in vanilla JS + React, I just don't know how to satisfy TypeScript.</p>\n<p>How can I get TypeScript to render this without resorting to <code>elementType?: any</code></p>\n<pre><code>import React, {ReactNode} from 'react'\n\ninterface Props {\n    children: ReactNode;\n    elementType?: string;\n}\n\nexport default function ({children, elementType: ElementType = 'h2'}: Props): JSX.Element {\n    return (\n        &lt;ElementType&gt;{children}&lt;/ElementType&gt;\n    );\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 4, "creation_date": 1560977493, "post_id": 56675642, "comment_id": 99918561, "body": "Please share the corresponding HTML."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1560977573, "post_id": 56675642, "comment_id": 99918589, "body": "<code>console.log($(&#39;[id=&quot;Add&quot;]&#39;).length)</code> in your click handler and tell us what it logs."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1560977771, "post_id": 56675642, "comment_id": 99918678, "body": "Also as a small side note; <code>$(this).is(&#39;:checked&#39;)</code> should just be <code>this.checked</code>"}, {"owner": {"reputation": 2450, "user_id": 4786568, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/d085741279a8eea6e3a41b58be313c11?s=128&d=identicon&r=PG", "display_name": "Baezid Mostafa", "link": "https://stackoverflow.com/users/4786568/baezid-mostafa"}, "edited": false, "score": 1, "creation_date": 1560978662, "post_id": 56675642, "comment_id": 99919009, "body": "Can you please add some HTML and CSS code? Please check this <a href=\"https://jsfiddle.net/g90sdp7c/\" rel=\"nofollow noreferrer\">jsfiddle.net/g90sdp7c</a>"}, {"owner": {"reputation": 2965, "user_id": 255118, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cc75d12e3246cde3ef5fb1f91ce5e15f?s=128&d=identicon&r=PG", "display_name": "LiveEn", "link": "https://stackoverflow.com/users/255118/liveen"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1561013837, "post_id": 56675642, "comment_id": 99927061, "body": "@TylerRoper I have added the HTML"}, {"owner": {"reputation": 2965, "user_id": 255118, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cc75d12e3246cde3ef5fb1f91ce5e15f?s=128&d=identicon&r=PG", "display_name": "LiveEn", "link": "https://stackoverflow.com/users/255118/liveen"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1561018926, "post_id": 56675642, "comment_id": 99929557, "body": "@Taplar it logs <code>1</code>"}, {"owner": {"reputation": 171, "user_id": 4800924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rI0p0.jpg?s=128&g=1", "display_name": "Umer Zaman", "link": "https://stackoverflow.com/users/4800924/umer-zaman"}, "edited": false, "score": 0, "creation_date": 1561027172, "post_id": 56675642, "comment_id": 99934026, "body": "check your Dom by inspection your created with same id?"}, {"owner": {"reputation": 171, "user_id": 4800924, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/rI0p0.jpg?s=128&g=1", "display_name": "Umer Zaman", "link": "https://stackoverflow.com/users/4800924/umer-zaman"}, "edited": false, "score": 0, "creation_date": 1561027174, "post_id": 56675642, "comment_id": 99934028, "body": "check your Dom by inspection your created with same id?"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1561040267, "post_id": 56675642, "comment_id": 99941462, "body": "@LiveEn Your code doesn&#39;t show any checkboxes... The example must reproduce the issue you&#39;re describing in order for us to come up with a solution. Please edit your question. Are you sure that the <code>#Add</code> doesn&#39;t have a parent that&#39;s hidden or something?"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1561040852, "post_id": 56675642, "comment_id": 99941842, "body": "If the log is returning 1, then that means the element is being found.  If an issue is happening, you need to replicate it in your question, as currently that is not being done."}], "answers": [{"tags": [], "owner": {"reputation": 788, "user_id": 9312233, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1269dfa2b52b76d5462954279b393787?s=128&d=identicon&r=PG&f=1", "display_name": "code it up", "link": "https://stackoverflow.com/users/9312233/code-it-up"}, "is_accepted": false, "score": 0, "last_activity_date": 1561058616, "creation_date": 1561058616, "answer_id": 56692640, "question_id": 56675642, "link": "https://stackoverflow.com/questions/56675642/jquery-show-hide-not-working-for-dynamically-created-div/56692640#56692640", "title": "jquery show/hide not working for dynamically created div", "body": "<p>Instead of binding the event listener to the dynamically created <code>div</code> you should add an eventlistener on the parent (say <code>&lt;div id='cont'&gt;&lt;/div&gt;</code> ) which is ofcourse static in nature .</p>\n\n<p>Say the event we are listening to is <code>click</code>, now whenever you click the parent you have the reference to the specific div (even if there a lot of dynamic divs like this) as a target attribute of the event. which you can find by digging the output in console log.  </p>\n\n<p>Why and How ??</p>\n\n<p>This is because of event delegation and event bubbling i.e. the event bubbles up to the parent div and keep on bubbling up to the body in DOM tree.\nSo for this case, as the event is click( checkbox ) which is on some different element (no parent child relation with dynamically added div) so we can use <code>trigger</code> to fire our own custom event on the parent div.</p>\n\n<pre>\n\n    $(document).ready(function () {\n        $(\"#cont\").on('myEvent1',function(){\n            $(this).find('#dv').show();\n            $(this).find('#Add').hide();  \n        });\n        $(\"#cont\").on('myEvent2',function(){\n            console.log($(this)); // This will o/p the #cont div containing both the static and dynamic div in it.   \n            $(this).find('#dv').hide();\n            $(this).find('#Add').show();  \n        });\n        $(\"#chk\").change(function () {\n            if ($(this).is(\":checked\")) {\n                console.log($(this)); // This will o/p the checkbox element \n                $(\"#cont\").trigger('myEvent1');\n\n            } \n            else {\n                $(\"#cont\").trigger('myEvent2');\n            }\n        });\n    });\n</pre>\n\n<p>You can try to mold it for your exact purpose and can also use <code>toggle</code> to reduce the LOC.</p>\n"}], "owner": {"reputation": 2965, "user_id": 255118, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/cc75d12e3246cde3ef5fb1f91ce5e15f?s=128&d=identicon&r=PG", "display_name": "LiveEn", "link": "https://stackoverflow.com/users/255118/liveen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 467, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561431632, "creation_date": 1560977395, "last_edit_date": 1561040238, "question_id": 56675642, "link": "https://stackoverflow.com/questions/56675642/jquery-show-hide-not-working-for-dynamically-created-div", "title": "jquery show/hide not working for dynamically created div", "body": "<p>I have a checkbox which will allow the users to show/hide certain features. So I have 2 divs with separate IDs and one div is added directly to my code and the second div is dynamically added through a plugin with the CSS <code>display:none</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  $(\"#chkstatus\").click(function() {\r\n    if ($(this).is(\":checked\")) {\r\n      $(\"#dv\").show();\r\n      $(\"#Add\").hide(); //dynamic div\r\n    } else {\r\n      $(\"#dv\").hide();\r\n      $(\"#Add\").show(); //dynamic div\r\n    }\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"dv\" class=\"forgo\"&gt;\r\n  &lt;h1&gt;Benefits&lt;/h1&gt;\r\n  &lt;p&gt;&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;!-- The below code is not visible in the page source but visible in inspect element --&gt;\r\n\r\n&lt;div id=\"Add\" class=\"form-group\" style=\"display:none\"&gt;\r\n  &lt;input class=\"btn-block button\" type=\"button\" style=\"\" value=\"Upload File\"&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The problem is that the show/hide is working perfectly to the <code>#dv</code> but nothing happens to <code>#Add</code>. It always stays hidden.</p>\n\n<p>Can someone let me know how can make the show/hide work for the dynamically added div?</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "edited": false, "score": 0, "creation_date": 1561062380, "post_id": 56675635, "comment_id": 99952041, "body": "any help please"}], "owner": {"reputation": 69, "user_id": 9951159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7e8e5ad98c66bcd8bd9849b9ffda24?s=128&d=identicon&r=PG&f=1", "display_name": "AmineBouhaddi", "link": "https://stackoverflow.com/users/9951159/aminebouhaddi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560977376, "creation_date": 1560977376, "question_id": 56675635, "link": "https://stackoverflow.com/questions/56675635/create-product-variants-using-my-input-tags", "title": "create product variants using my input tags", "body": "<p>please i'm working on stock project, and i want to create variants for each product just like shopify for example each product can have multiple colors and size. </p>\n\n<p>i want to generate a table like that : <a href=\"https://i.stack.imgur.com/HHJgn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HHJgn.png\" alt=\"enter image description here\"></a></p>\n\n<p>i'm still blocked </p>\n\n<p>this is my Javascript Code : </p>\n\n<pre><code>$('.tags').on('change', function(event){\n    row = '';\n    $('.tags').each(function(index, element){\n        for(i = 0; i &lt; element.value.split(\",\").length; i++) {\n            row += '&lt;tr&gt;';\n            row + '&lt;td&gt;'+ element.value +'&lt;/tr&gt;';\n            row + '&lt;td&gt;&lt;input type=\"text\"&gt;&lt;/tr&gt;';\n            row + '&lt;td&gt;&lt;input type=\"text\"&gt;&lt;/tr&gt;';\n            row += '&lt;/tr&gt;';\n        }\n    });\n    $('#mytable').append(row);\n});\n</code></pre>\n\n<p>This is my Html Code : </p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n                                    &lt;div class=\"col-lg-12\"&gt;\n                                        &lt;label class=\"mb-0\"&gt;&lt;strong&gt;Option 1:&lt;/strong&gt;&lt;/label&gt;\n                                    &lt;/div&gt;\n                                    &lt;div class=\"col-lg-4\"&gt;\n                                        &lt;div class=\"form-group\"&gt;\n                                            &lt;input type=\"text\" class=\"form-control\" name=\"variant[attribute]\" placeholder=\"Color\"&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                    &lt;div class=\"col-lg-8\"&gt;\n                                        &lt;div class=\"form-group\"&gt;\n                                            &lt;input type=\"text\" class=\"form-control tags tokenfield\" name=\"variant[value]\" value=\"\"&gt;&lt;br&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n                                &lt;div class=\"row\"&gt;\n                                    &lt;div class=\"col-lg-12\"&gt;\n                                        &lt;label class=\"mb-0\"&gt;&lt;strong&gt;Option 2:&lt;/strong&gt;&lt;/label&gt;\n                                    &lt;/div&gt;\n                                    &lt;div class=\"col-lg-4\"&gt;\n                                        &lt;div class=\"form-group\"&gt;\n                                            &lt;input type=\"text\" class=\"form-control\" name=\"variant[attribute]\" placeholder=\"Size\"&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                    &lt;div class=\"col-lg-8\"&gt;\n                                        &lt;div class=\"form-group\"&gt;\n                                            &lt;input type=\"text\" class=\"form-control tags tokenfield\" name=\"variant[value]\" value=\"\"&gt;&lt;br&gt;\n                                        &lt;/div&gt;\n                                    &lt;/div&gt;\n                                &lt;/div&gt;\n</code></pre>\n\n<p>Thanks in advance</p>\n"}, {"tags": ["javascript", "css", "css-specificity"], "comments": [{"owner": {"reputation": 3115, "user_id": 864233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/l0YCn.jpg?s=128&g=1", "display_name": "romellem", "link": "https://stackoverflow.com/users/864233/romellem"}, "edited": false, "score": 1, "creation_date": 1560977313, "post_id": 56675608, "comment_id": 99918495, "body": "I think what you are asking is &quot;how can I override an inline style via CSS?&quot;  If so, then see this related SO post - <a href=\"https://stackoverflow.com/a/16813263/864233\">stackoverflow.com/a/16813263/864233</a>"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 1, "creation_date": 1560977341, "post_id": 56675608, "comment_id": 99918505, "body": "The issue is that the scroll event handler is setting an inline value for the opacity.  Inline styles have the highest degree of granularity so they always will take precedence.  The !important overrides the precedence.  If you do not want to use the !important, you need to re-evaluate your inline styling"}, {"owner": {"reputation": 2103, "user_id": 1766868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Swmw0.jpg?s=128&g=1", "display_name": "trognanders", "link": "https://stackoverflow.com/users/1766868/trognanders"}, "edited": false, "score": 3, "creation_date": 1560977489, "post_id": 56675608, "comment_id": 99918556, "body": "Why not have the scroll handler just apply a class name instead of an inline style?"}, {"owner": {"reputation": 2103, "user_id": 1766868, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Swmw0.jpg?s=128&g=1", "display_name": "trognanders", "link": "https://stackoverflow.com/users/1766868/trognanders"}, "edited": false, "score": 2, "creation_date": 1560977566, "post_id": 56675608, "comment_id": 99918586, "body": "Also, IntersectionObserver is starting to be pretty commonly supported."}], "answers": [{"comments": [{"owner": {"reputation": 90, "user_id": 10442109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/badbfa160ae7e73768265742987ba6e3?s=128&d=identicon&r=PG&f=1", "display_name": "Seraphendipity", "link": "https://stackoverflow.com/users/10442109/seraphendipity"}, "edited": false, "score": 0, "creation_date": 1560983631, "post_id": 56675831, "comment_id": 99920429, "body": "That&#39;s genius! However, does that allow animations still? I&#39;ll have to test it tomorrow."}, {"owner": {"reputation": 61, "user_id": 7109792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZwGAd.jpg?s=128&g=1", "display_name": "hkrugner", "link": "https://stackoverflow.com/users/7109792/hkrugner"}, "reply_to_user": {"reputation": 90, "user_id": 10442109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/badbfa160ae7e73768265742987ba6e3?s=128&d=identicon&r=PG&f=1", "display_name": "Seraphendipity", "link": "https://stackoverflow.com/users/10442109/seraphendipity"}, "edited": false, "score": 0, "creation_date": 1560989299, "post_id": 56675831, "comment_id": 99921569, "body": "Hey, @Seraphendipity! Glad that I could help with something, but yes, you can use <code>animation</code> normally while inserting CSS classes through JavaScript :)"}], "tags": [], "owner": {"reputation": 61, "user_id": 7109792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZwGAd.jpg?s=128&g=1", "display_name": "hkrugner", "link": "https://stackoverflow.com/users/7109792/hkrugner"}, "is_accepted": true, "score": 0, "last_activity_date": 1560978376, "creation_date": 1560978376, "answer_id": 56675831, "question_id": 56675608, "link": "https://stackoverflow.com/questions/56675608/is-there-another-way-to-add-hover-effect-without-important-after-js-has-set-a/56675831#56675831", "title": "Is there another way to add &quot;hover&quot; effect without !important after JS has set a value?", "body": "<p>I wouldn't recommend apply styles directly from JavaScript because as you could see, the inline styles will always have priority, unless you use the <code>!important</code> flag.</p>\n\n<p>As a workaround, you could use JavaScript to add a CSS class to your element using <code>element.classList.add</code>, then you can have way more control in your styles.</p>\n"}], "owner": {"reputation": 90, "user_id": 10442109, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/badbfa160ae7e73768265742987ba6e3?s=128&d=identicon&r=PG&f=1", "display_name": "Seraphendipity", "link": "https://stackoverflow.com/users/10442109/seraphendipity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 56675831, "answer_count": 1, "score": 1, "last_activity_date": 1560980800, "creation_date": 1560977234, "last_edit_date": 1560980800, "question_id": 56675608, "link": "https://stackoverflow.com/questions/56675608/is-there-another-way-to-add-hover-effect-without-important-after-js-has-set-a", "title": "Is there another way to add &quot;hover&quot; effect without !important after JS has set a value?", "body": "<p>Learning website development (HTML, CSS, JS, PHP, yadda yadda). I am trying to create a hover effect on an element via CSS, however after a JS function has set a value, it seems I cannot override without using the !important.</p>\n\n<p>I have a scroll function in JS that sets opacity/color/etc. after the user has scrolled down. As it seems that JS affect the elements inline style directly, it will always have a specificity higher than anything in my stylesheet. As such, my :hover effect (increasing the opacity of the button) will be overwritten.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>window.onscroll = function() {arcScrollEffect()}; // calls scroll function on scrolling\r\nfunction arcScrollEffect() {\r\n    btn = document.getElementsByClassName(\"arcHeaderBtn\")[0];\r\n    if (document.body.scrollTop &gt; 50 || document.documentElement.scrollTop) {\r\n        btn.style.width = '20%';\r\n        btn.style.fontSize = '2em';\r\n        btn.style.backgroundColor = '#DDD';\r\n        btn.style.color = 'rgba(0, 0, 0, 1)';\r\n        btn.style.opacity = '0.3';\r\n    } else {\r\n        btn.innerHTML = 'RED';\r\n\r\n    }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.arcHeaderBtn {\r\n    background-color: inherit;\r\n    border: none;\r\n    position: fixed;\r\n    top: 10vh; \r\n    left: 0;\r\n    width: 100%;\r\n    font-size: 6em;\r\n    text-align: center;\r\n    opacity: 0.5;\r\n    border-radius: 0 0.6em 0.6em 0;\r\n    transition: color 1s, background-color 1s, width 1s, top 1s, font-size 1s, opacity 1s;\r\n}\r\n\r\nbutton.arcHeaderBtn:hover {\r\n    opacity: 0.5 !important;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button class=\"arcHeaderBtn\"&gt;Button&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note that in this particular case I do have a workarounds, such as simply not setting opacity in JS or using the !important in CSS (which works fine). However, I've been told that !important is not good coding, something to the equivalent of a GOTO in older languages and <a href=\"https://xkcd.com/292/\" rel=\"nofollow noreferrer\">I fear velociraptor attacks.</a> Any suggestions?</p>\n"}, {"tags": ["javascript", "google-chrome", "cookies", "web-applications", "local-storage"], "answers": [{"tags": [], "owner": {"reputation": 4560, "user_id": 352319, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/QfZ2Y.jpg?s=128&g=1", "display_name": "kc2001", "link": "https://stackoverflow.com/users/352319/kc2001"}, "is_accepted": false, "score": 1, "last_activity_date": 1561043470, "last_edit_date": 1561043470, "creation_date": 1561043027, "answer_id": 56688857, "question_id": 56675543, "link": "https://stackoverflow.com/questions/56675543/using-various-chrome-site-data-storage-options/56688857#56688857", "title": "Using various Chrome site data storage options?", "body": "<p>Google has a <a href=\"https://developers.google.com/web/fundamentals/instant-and-offline/web-storage/\" rel=\"nofollow noreferrer\">web storage overview page</a> on its developer site that answers some of these questions.  In particular, it sorta answers question (4) by indicating the current browser support (as of 20 June 2019):</p>\n\n<pre><code>File system     52%\nLocal Storage   93%\nSession Storage 93%\nCookies        100%\nWebSQL          77%\nCache           60%\nIndexedDB       83%\ncloud storage  100%\n</code></pre>\n"}], "owner": {"reputation": 4560, "user_id": 352319, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/QfZ2Y.jpg?s=128&g=1", "display_name": "kc2001", "link": "https://stackoverflow.com/users/352319/kc2001"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1561043470, "creation_date": 1560976891, "last_edit_date": 1561031073, "question_id": 56675543, "link": "https://stackoverflow.com/questions/56675543/using-various-chrome-site-data-storage-options", "title": "Using various Chrome site data storage options?", "body": "<p>I was looking at my stored cookies in Chrome for the first time by looking at chrome://settings/siteData.  In addition to cookies, I noticed various other storage types - cache storage, database storage, local storage, service workers, etc.  For example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/A0rkj.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A0rkj.png\" alt=\"Chrome storage example\"></a></p>\n\n<p>I am familiar with cookies and local storage and how to store to them from JavaScript, but not the others.  My  questions:</p>\n\n<ol>\n<li>Where do the others come from, i.e., how do they get read/written/deleted from JavaScript, for example?</li>\n<li>What are specific advantages of the local storage options, for example, are some better designed for storing information securely?</li>\n<li>Which of these are well-suited for storing user UI preferences?  (I am aware of <a href=\"https://stackoverflow.com/questions/6534535/best-way-to-store-small-ui-user-preferences-in-web-app\">this question</a> from 2011.)</li>\n<li>Which of these are \"standard\" and which are specific to Chrome?</li>\n</ol>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11672606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8006894ad9e310e637b8031ac1764650?s=128&d=identicon&r=PG&f=1", "display_name": "tadozen", "link": "https://stackoverflow.com/users/11672606/tadozen"}, "edited": false, "score": 0, "creation_date": 1561052916, "post_id": 56676321, "comment_id": 99948155, "body": "Thank you! That really helped :)"}], "tags": [], "owner": {"reputation": 2184, "user_id": 1736186, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/WcKy8.jpg?s=128&g=1", "display_name": "instead", "link": "https://stackoverflow.com/users/1736186/instead"}, "is_accepted": true, "score": 0, "last_activity_date": 1560981986, "last_edit_date": 1560981986, "creation_date": 1560980787, "answer_id": 56676321, "question_id": 56675495, "link": "https://stackoverflow.com/questions/56675495/how-to-add-smooth-transition-to-my-javascript-code/56676321#56676321", "title": "How to add smooth transition to my Javascript code?", "body": "<p>In general, You problem is that You're appending div to body on every click. Because of this animation dosesn't work correctly. Also div with image is not animated and that's because You're append it body and then immediately try to animate it to show up.</p>\n\n<p>I've shorten Your function a little bit. Also few words of explanation for <code>requestAnimationFrame</code>. To prevent immediate animation after appending div to body, I'm waiting for browser, to be ready, to render new frame and then also waiting 20ms which is 1000ms (1 second) / 60 frames  = 16.66 ms to have 60fps animation. Rounding UP to 20. Could be even 17. Without timeout function it works 50/50.</p>\n\n<p>As a side note. All of this code can be even more reduced by using CSS class instead of jQuery <code>.css()</code> function. But I just focused to make it work.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('img[data-enlargable]')\r\n  .addClass('img-enlargable')\r\n  .click(function(){\r\n    $('.open-overlay')\r\n      .css({\r\n        opacity : 1,\r\n        visibility : 'visible'\r\n      });\r\n    \r\n    const IMAGE_POPUP = $('&lt;div&gt;')\r\n      .css({\r\n        opacity:'0',\r\n        transition:'all .3s ease',\r\n        visibility: 'hidden',\r\n        backgroundSize: 'contain',\r\n        width:'90%', height:'90%',\r\n        position:'fixed',\r\n        zIndex:'999999',\r\n        visibility: 'hidden',\r\n        top:'5%',\r\n        bottom:'0',\r\n        left:'5%',\r\n        right:'0',\r\n        cursor: 'zoom-out'\r\n      })\r\n      .click(function(){\r\n\r\n          //when pressed on image - close\r\n          $(this).remove();\r\n\r\n          $('.open-overlay')\r\n            .css({\r\n              opacity: '0',\r\n              visibility: 'hidden'\r\n            });  \r\n      })\r\n      .appendTo('body');\r\n    \r\n    window.requestAnimationFrame(() =&gt; {\r\n      setTimeout(() =&gt; {\r\n        const IMAGE_SOURCE = this.src;\r\n        IMAGE_POPUP\r\n          .css({\r\n            opacity:'1',\r\n            background: 'url(' + IMAGE_SOURCE + ') no-repeat center',\r\n            visibility: 'visible',\r\n          });\r\n      }, 20);\r\n    });\r\n  });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.open-overlay {\r\n  opacity: 0;\r\n  transition: all .3s ease;\r\n  visibility: hidden;\r\n  background: rgba(0,0,0,.5);\r\n  background-size: contain;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: fixed;\r\n  z-index: 999999;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  cursor: zoom-out;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"work-img\"&gt;&lt;img data-enlargable style=\"cursor: zoom-in\" src=\"https://www.w3schools.com/howto/img_snow.jpg\" /&gt;&lt;/div&gt;\r\n\r\n&lt;div class=\"open-overlay\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here's proposed solution:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('img[data-enlargable]')\r\n  .addClass('img-enlargable')\r\n  .click(function(){\r\n    $('.open-overlay').addClass('is-visible');\r\n    \r\n    const IMAGE_POPUP = $('&lt;div&gt;')\r\n      .addClass('image_popup')\r\n      .click(function(){\r\n\r\n          //when pressed on image - close\r\n          $(this).remove();\r\n\r\n          $('.open-overlay').removeClass('is-visible');\r\n      })\r\n      .appendTo('body');\r\n    \r\n    window.requestAnimationFrame(() =&gt; {\r\n      setTimeout(() =&gt; {\r\n        const IMAGE_SOURCE = this.src;\r\n        IMAGE_POPUP\r\n          .addClass('is-visible')\r\n          .css({\r\n            background: 'url(' + IMAGE_SOURCE + ') no-repeat center',\r\n          });\r\n      }, 20);\r\n    });\r\n  });</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.open-overlay {\r\n  opacity: 0;\r\n  transition: all .3s ease;\r\n  visibility: hidden;\r\n  background: rgba(0,0,0,.5);\r\n  background-size: contain;\r\n  width: 100%;\r\n  height: 100%;\r\n  position: fixed;\r\n  z-index: 999999;\r\n  top: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  cursor: zoom-out;\r\n}\r\n\r\n.open-overlay.is-visible, .image_popup.is-visible {\r\n  opacity: 1;\r\n  visibility: visible;\r\n}\r\n\r\n.image_popup {\r\n  opacity: 0;\r\n  transition: all .3s ease;\r\n  visibility: hidden;\r\n  background-size: contain;\r\n  width: 90%;\r\n  height: 90%;\r\n  position: fixed;\r\n  z-index: 999999;\r\n  visibility: hidden;\r\n  top: 5%;\r\n  bottom: 0;\r\n  left: 5%;\r\n  right: 0;\r\n  cursor: zoom-out;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"work-img\"&gt;&lt;img data-enlargable style=\"cursor: zoom-in\" src=\"https://www.w3schools.com/howto/img_snow.jpg\" /&gt;&lt;/div&gt;\r\n\r\n&lt;div class=\"open-overlay\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 23, "user_id": 11672606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8006894ad9e310e637b8031ac1764650?s=128&d=identicon&r=PG&f=1", "display_name": "tadozen", "link": "https://stackoverflow.com/users/11672606/tadozen"}, "edited": false, "score": 0, "creation_date": 1561052961, "post_id": 56676352, "comment_id": 99948181, "body": "Thanks for detail answer! That helped a lot :)"}], "tags": [], "owner": {"reputation": 4011, "user_id": 3700738, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LRutm.jpg?s=128&g=1", "display_name": "Ismael Padilla", "link": "https://stackoverflow.com/users/3700738/ismael-padilla"}, "is_accepted": false, "score": 0, "last_activity_date": 1560981246, "last_edit_date": 1560981246, "creation_date": 1560980945, "answer_id": 56676352, "question_id": 56675495, "link": "https://stackoverflow.com/questions/56675495/how-to-add-smooth-transition-to-my-javascript-code/56676352#56676352", "title": "How to add smooth transition to my Javascript code?", "body": "<p>I don't see why you're using <code>.appendTo('body');</code> after modifying the css. Removing that is enough to make the code work:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('img[data-enlargable]').addClass('img-enlargable').click(function(){\r\n    \t$('.open-overlay').css({\r\n      \r\n      //\r\n\t  \r\n          opacity: '1',\r\n          transition:'all .3s ease',\r\n      visibility: 'visible',\r\n    \t\t\tbackground: 'RGBA(0,0,0,.5)',\r\n        backgroundSize: 'contain',\r\n        width:'100%', height:'100%',\r\n        position:'fixed',\r\n        zIndex:'999999',\r\n        top:'0', bottom:'0', left:'0', right:'0',\r\n          cursor: 'zoom-out'\r\n    \r\n    }).click(function(){\r\n    \r\n    \r\n    \t\t\t//when pressed on open-overlay div - close\r\n          $('&lt;div&gt;').css({\r\n\t\t  opacity:'0',\r\n\t\ttransition:'all .3s ease',\r\n          visibility: 'hidden'\r\n\t\t  \r\n\t\t\r\n          });\r\n    \r\n    });\r\n\t\tvar src = $(this).attr('src');\r\n\t\t$('&lt;div&gt;').css({\r\n\t\t\r\n\t\topacity:'1',\r\n\t\ttransition:'all .3s ease',\r\n        background: 'url('+src+') no-repeat center',\r\n        backgroundSize: 'contain',\r\n        width:'90%', height:'90%',\r\n        position:'fixed',\r\n        zIndex:'999999',\r\n\t\t\r\n          visibility: 'visible',\r\n        top:'5%', bottom:'0', left:'5%', right:'0',\r\n        cursor: 'zoom-out'\r\n\t\t}).click(function(){\r\n    \r\n    \t\t\t//when pressed on image - close\r\n\t        $(this).remove();\r\n          \r\n          \r\n          $('.open-overlay').css({\r\n          opacity: '0',\r\n\t\t  \r\n          transition:'all .3s ease',\r\n          visibility: 'hidden'\r\n          });\r\n          \r\n\t\t}).appendTo('body');\r\n\t\t});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"work-img\"&gt;&lt;img data-enlargable style=\"cursor: zoom-in\" src=\"https://www.w3schools.com/howto/img_snow.jpg\" /&gt;&lt;/div&gt;\r\n\r\n&lt;div class=\"open-overlay\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>That being said, you could tidy this up a little bit. I would suggest having your <code>.open-overlay</code> css clearly defined somewhere else, and then only modify the parts that you need with jQuery. For example you don't need to modify \nthe <code>transition</code> property every time you do something, you can define that in your css and only modify the <code>opacity</code> and <code>visibility</code> properties in jQuery.. Here's what I mean:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$( document ).ready(function() {\r\n\r\n$('img[data-enlargable]').addClass('img-enlargable').click(function(){\r\n    \t$('.open-overlay').css({\t  \r\n          opacity: '1',\r\n          visibility: 'visible',\r\n          cursor: 'zoom-out'\r\n    \r\n    });\r\n\t\tvar src = $(this).attr('src');\r\n\t\t$('&lt;div&gt;').css({\r\n\t\t\r\n\t\topacity:'1',\r\n\t\ttransition:'all .3s ease',\r\n        background: 'url('+src+') no-repeat center',\r\n        backgroundSize: 'contain',\r\n        width:'90%', height:'90%',\r\n        position:'fixed',\r\n        zIndex:'999999',\r\n\t\t\r\n          visibility: 'visible',\r\n        top:'5%', bottom:'0', left:'5%', right:'0',\r\n        cursor: 'zoom-out'\r\n\t\t}).click(function(){\r\n    \r\n    \t\t\t//when pressed on image - close\r\n\t        \r\n          $(this).remove();\r\n          \r\n          $('.open-overlay').css({\r\n          opacity: '0',\r\n          visibility: 'hidden'\r\n          });\r\n          }).appendTo('body');\r\n          \r\n\t\t});\r\n         }) \r\n          </code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.open-overlay {\r\n  background: rgba(0, 0, 0, 0.5);\r\n  opacity: 0;\r\n  visibility: hidden;\r\n  position: fixed;\r\n  width: 100%;\r\n  height: 100%;\r\n  top: 0;\r\n  left: 0;\r\n  transition: all 0.3s ease;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"work-img\"&gt;&lt;img data-enlargable style=\"cursor: zoom-in\" src=\"https://www.w3schools.com/howto/img_snow.jpg\" /&gt;&lt;/div&gt;\r\n\r\n&lt;div class=\"open-overlay\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I would also recommend you check this example out which explains how to achieve something very similar to what you're trying to do:\n<a href=\"https://www.w3schools.com/howto/howto_css_modal_images.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/howto/howto_css_modal_images.asp</a></p>\n"}], "owner": {"reputation": 23, "user_id": 11672606, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8006894ad9e310e637b8031ac1764650?s=128&d=identicon&r=PG&f=1", "display_name": "tadozen", "link": "https://stackoverflow.com/users/11672606/tadozen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 56676321, "answer_count": 2, "score": 1, "last_activity_date": 1560986268, "creation_date": 1560976654, "last_edit_date": 1560986268, "question_id": 56675495, "link": "https://stackoverflow.com/questions/56675495/how-to-add-smooth-transition-to-my-javascript-code", "title": "How to add smooth transition to my Javascript code?", "body": "<p>First of, sorry for my bad javascript knowledge. I only yesterday started learning it and understanding it is quite hard in short time. I'm a designer so coding is not my specialty but I'd like to learn at least basics.</p>\n\n<p>So now enough of excuses. I'd like to know why in my code, when I press on image, when it enlarges no animation shows up, but when I close it - animation shows up.</p>\n\n<p>I've tried adding opacity and transitions everywhere</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('img[data-enlargable]')\r\n  .addClass('img-enlargable')\r\n  .click(function(){\r\n    $('.open-overlay')\r\n      .css({\r\n        opacity: '1',\r\n        transition:'all .3s ease',\r\n        visibility: 'visible',\r\n        background: 'RGBA(0,0,0,.5)',\r\n        backgroundSize: 'contain',\r\n        width:'100%', height:'100%',\r\n        position:'fixed',\r\n        zIndex:'999999',\r\n        top:'0',\r\n        bottom:'0',\r\n        left:'0',\r\n        right:'0',\r\n        cursor: 'zoom-out'\r\n      })\r\n      .click(function(){\r\n\r\n        //when pressed on open-overlay div - close\r\n        $('&lt;div&gt;')\r\n          .css({\r\n            opacity:'0',\r\n            transition:'all .3s ease',\r\n            visibility: 'hidden'\r\n          });\r\n      })\r\n      .appendTo('body');\r\n\r\n    var src = $(this).attr('src');\r\n    $('&lt;div&gt;')\r\n      .css({\r\n        opacity:'1',\r\n        transition:'all .3s ease',\r\n        background: 'url('+src+') no-repeat center',\r\n        backgroundSize: 'contain',\r\n        width:'90%', height:'90%',\r\n        position:'fixed',\r\n        zIndex:'999999',\r\n        visibility: 'visible',\r\n        top:'5%',\r\n        bottom:'0',\r\n        left:'5%',\r\n        right:'0',\r\n        cursor: 'zoom-out'\r\n      })\r\n      .click(function(){\r\n\r\n          //when pressed on image - close\r\n          $(this).remove();\r\n\r\n          $('.open-overlay')\r\n            .css({\r\n              opacity: '0',\r\n              transition:'all .3s ease',\r\n              visibility: 'hidden'\r\n            });  \r\n      })\r\n      .appendTo('body');\r\n  });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"work-img\"&gt;&lt;img data-enlargable style=\"cursor: zoom-in\" src=\"https://www.w3schools.com/howto/img_snow.jpg\" /&gt;&lt;/div&gt;\r\n\r\n&lt;div class=\"open-overlay\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "variables", "netsuite", "suitescript2.0"], "answers": [{"comments": [{"owner": {"reputation": 43, "user_id": 10630877, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3_7D3OHW50w/AAAAAAAAAAI/AAAAAAAAAHc/WK-mg5OE6yg/photo.jpg?sz=128", "display_name": "David Veca", "link": "https://stackoverflow.com/users/10630877/david-veca"}, "edited": false, "score": 0, "creation_date": 1560993079, "post_id": 56675578, "comment_id": 99922171, "body": "I can&#39;t get an array of the item ids because the customer center role can&#39;t access to the item record. The result is a permissioning error. The work around I came up with was to store the ids in a field to try and recreate the text input that the NetSuite search export extension spit out, which I then push to my array and run through the .toString() method to try and recreate the text inputs.  When I run the script with just the array variable, itemarray, I get the same errors:  Error Search filter removed Filter expecting numeric value was removed, as non-numeric value &#39;2191&quot;,&quot;2046&quot;,..."}, {"owner": {"reputation": 43, "user_id": 10630877, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3_7D3OHW50w/AAAAAAAAAAI/AAAAAAAAAHc/WK-mg5OE6yg/photo.jpg?sz=128", "display_name": "David Veca", "link": "https://stackoverflow.com/users/10630877/david-veca"}, "edited": false, "score": 0, "creation_date": 1561026418, "post_id": 56675578, "comment_id": 99933606, "body": "Thank you so much, it worked like a charm. Its still creating some errors, but the end result is exactly what I was trying to do!"}, {"owner": {"reputation": 43, "user_id": 10630877, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3_7D3OHW50w/AAAAAAAAAAI/AAAAAAAAAHc/WK-mg5OE6yg/photo.jpg?sz=128", "display_name": "David Veca", "link": "https://stackoverflow.com/users/10630877/david-veca"}, "edited": false, "score": 0, "creation_date": 1561642026, "post_id": 56675578, "comment_id": 100138631, "body": "This ended up not working in later testing, but I ended up finding a simpler solution that was right in front of my eyes. The reason I couldn&#39;t get to the item ids as a regular array through search was a permissioning issue, so I changed the script deployment to run as an admin role as opposed to the &quot;current role&quot;. This allowed me to access the item IDs I needed and pass it through as an array."}], "tags": [], "owner": {"reputation": 915, "user_id": 4367909, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-UL3w2Qa6vQE/AAAAAAAAAAI/AAAAAAAAAA0/O5Wc6xYja28/photo.jpg?sz=128", "display_name": "Nathan Sutherland", "link": "https://stackoverflow.com/users/4367909/nathan-sutherland"}, "is_accepted": true, "score": 2, "last_activity_date": 1561031635, "last_edit_date": 1561031635, "creation_date": 1560977063, "answer_id": 56675578, "question_id": 56675492, "link": "https://stackoverflow.com/questions/56675492/i-need-the-text-of-a-transaction-field-to-act-as-a-variable-in-a-netsuite-saved/56675578#56675578", "title": "I need the text of a transaction field to act as a variable in a NetSuite saved search that is being built via a portlet", "body": "<p>If I understand correctly, you are building an array of strings of comma separated items:</p>\n\n<pre><code>[\n    '\"2191\",\"2046\",\"1209\"',\n    '\"1209\",\"1988\",\"2092\"',\n    '\"295\",\"1214\",\"1988\"'\n]\n</code></pre>\n\n<p>and then calling the toString method to create:</p>\n\n<pre><code>'\"2191\",\"2046\",\"1209\",\"1209\",\"1988\",\"2092\",\"295\",\"1214\",\"1988\"'\n</code></pre>\n\n<p>and passing that string to your search filter:</p>\n\n<pre><code>[\"custrecord_vcc_doc_item\",\"anyof\",'\"2191\",\"2046\",\"1209\",\"1209\",\"1988\",\"2092\",\"295\",\"1214\",\"1988\"']\n</code></pre>\n\n<p>and the filter does not recognize <code>'\"2191\",\"2046\",\"1209\",\"1209\",\"1988\",\"2092\",\"295\",\"1214\",\"1988\"'</code> as a number.</p>\n\n<p>Instead, you need to replace the double quotes and split your itemarraytext variable at the comma:</p>\n\n<pre><code>[\"custrecord_vcc_doc_item\",\"anyof\",itemarraytext.replace(/\"/g,'').split(',')];\n</code></pre>\n\n<p>which should be the equivalent of:</p>\n\n<pre><code>[\"custrecord_vcc_doc_item\",\"anyof\",[\"2191\",\"2046\",\"1209\",\"1209\",\"1988\",\"2092\",\"295\",\"1214\",\"1988\"]]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 43, "user_id": 10630877, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3_7D3OHW50w/AAAAAAAAAAI/AAAAAAAAAHc/WK-mg5OE6yg/photo.jpg?sz=128", "display_name": "David Veca", "link": "https://stackoverflow.com/users/10630877/david-veca"}, "is_accepted": false, "score": 1, "last_activity_date": 1561642214, "creation_date": 1561642214, "answer_id": 56792177, "question_id": 56675492, "link": "https://stackoverflow.com/questions/56675492/i-need-the-text-of-a-transaction-field-to-act-as-a-variable-in-a-netsuite-saved/56792177#56792177", "title": "I need the text of a transaction field to act as a variable in a NetSuite saved search that is being built via a portlet", "body": "<p>Circling back to post a different solution I ended up using in the end.</p>\n\n<p>I was able to work around the permissioning error by changing the script deployment \"Run As\" role field from current role to \"Administrator\". This allowed me to simply access the item IDs from a search and pass them through as an array to another filter.</p>\n\n<p>The final code ended up being:</p>\n\n<pre><code>var transactionSearchObj = search.create({\n   type: \"transaction\",\n   filters:\n   [\n      [\"name\",\"anyof\",\"@CURRENT@\"], \n      \"AND\", \n      [\"item.type\",\"anyof\",\"InvtPart\"]\n   ],\n   columns:\n   [\n      search.createColumn({\n         name: \"item\",\n         sort: search.Sort.ASC,\n          summary: \"GROUP\",\n         label: \"Item\"\n      })\n   ]\n});\n\n\n\n\ntransactionSearchObj.run().each(function(result){\n    var itemarray1 = result.getValue({\n        summary: \"GROUP\",\n        name: \"item\"\n    })\n    itemarray.push(itemarray1);\n    log.debug({\n        title: \"Items\",\n        details: itemarray1\n    });\n    return true;\n});\n\n\n\n\n\nlog.debug({\n    title: \"Item Array\",\n    details: itemarray\n});\n\n\n\n\n\n\n\n var customrecord_vcc_documentsSearchObj = search.create({\n   type: \"customrecord_vcc_documents\",\n   filters:\n   [\n     [[\"custrecord_vcc_customer_docs\",\"anyof\",\"@CURRENT@\"],\"AND\",[\"custrecord_vcc_doc_type\",\"noneof\",\"1\"]],\n      \"OR\", \n      [\"custrecord_vcc_doc_type\",\"anyof\",\"5\"],\n      \"OR\", \n      [[\"custrecord_vcc_doc_type\",\"anyof\",\"2\",\"3\",\"4\",\"6\",\"7\"],\"AND\",[\"custrecord_vcc_doc_item\",\"anyof\",itemarray]]\n   ],\n</code></pre>\n"}], "owner": {"reputation": 43, "user_id": 10630877, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3_7D3OHW50w/AAAAAAAAAAI/AAAAAAAAAHc/WK-mg5OE6yg/photo.jpg?sz=128", "display_name": "David Veca", "link": "https://stackoverflow.com/users/10630877/david-veca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 868, "favorite_count": 0, "accepted_answer_id": 56675578, "answer_count": 2, "score": 1, "last_activity_date": 1561642214, "creation_date": 1560976648, "question_id": 56675492, "link": "https://stackoverflow.com/questions/56675492/i-need-the-text-of-a-transaction-field-to-act-as-a-variable-in-a-netsuite-saved", "title": "I need the text of a transaction field to act as a variable in a NetSuite saved search that is being built via a portlet", "body": "<p>I am adding a custom list portlet in my customer center environment that uses a custom field that holds a value that represents the internal IDs of all the items a customer has bought. This value will be used as a filter in a saved search whose data will populate the list portlet. </p>\n\n<p>The text of the field looks like \"123\",\"456\" etc. </p>\n\n<p>I can successfully retrieve the field text per my debugger, but when I go to pass the value of the field as a variable to my filters it produces an error message: </p>\n\n<pre><code>Filter expecting numeric value was removed, as non-numeric value ... was provided.\n</code></pre>\n\n<p>Using the NetSuite search export to recreate what I am looking for non-dynamically produces the below code:</p>\n\n<pre><code>var customrecord_vcc_documentsSearchObj = search.create({\n   type: \"customrecord_vcc_documents\",\n   filters:\n   [\n     [[\"custrecord_vcc_customer_docs\",\"anyof\",\"@CURRENT@\"],\"AND\",[\"custrecord_vcc_doc_type\",\"noneof\",\"1\"]],\n      \"OR\", \n      [\"custrecord_vcc_doc_type\",\"anyof\",\"5\"],\n      \"OR\", \n      [[\"custrecord_vcc_doc_type\",\"anyof\",\"2\",\"3\",\"4\",\"6\",\"7\"],\"AND\",[\"custrecord_vcc_doc_item\",\"anyof\",\"2291\",\"3546\",\"2279\",\"1976\"]]\n   ],\n   columns:\n   [\n      search.createColumn({\n         name: \"name\",\n         sort: search.Sort.ASC,\n         label: \"Name\"\n      }),\n      search.createColumn({name: \"custrecord_vcc_doc_type\", label: \"Type\"}),\n      search.createColumn({\n         name: \"formulatext\",\n         formula: \"'&lt;a href='||{custrecord_vcc_link_to_file}||'&gt;Open&lt;/a&gt;'\",\n         label: \"Link\"\n      })\n   ]\n});\n</code></pre>\n\n<p>When I try to replace:</p>\n\n<pre><code>[\"custrecord_vcc_doc_item\",\"anyof\",\"2291\",\"3546\",\"2279\",\"1976\"]\n</code></pre>\n\n<p>In order to replace the fixed IDs I used the below code:</p>\n\n<pre><code>\nvar transactionSearchObj = search.create({\n   type: \"transaction\",\n   filters:\n   [\n      [\"name\",\"anyof\",\"@CURRENT@\"]\n   ],\n   columns:\n   [\n      search.createColumn({\n         name: \"custbody_vcc_item_array_fixed\",\n         summary: \"MAX\",\n         label: \"Item Array Fixed\"\n      })\n   ]\n});\n\nvar itemarray=[];\n\ntransactionSearchObj.run().each(function(result){\n    var itemarray1 = result.getValue({\n        name: \"custbody_vcc_item_array_fixed\",\n        summary: search.Summary.MAX\n    });\n    itemarray.push(itemarray1);\n    log.debug({\n        title: \"Items\",\n        details: itemarray1\n    });\n    //return true;\n});\n\nvar itemarraytext = itemarray.toString();\n\nlog.debug({\n    title: \"Item Array String\",\n    details: itemarraytext\n});\n\nlog.debug({\n    title: \"Item Array \",\n    details: itemarray\n});\n\n</code></pre>\n\n<p>and input itemarraytext in the place of the fixed IDs. The value of itemarraytext per my debugger is:</p>\n\n<pre><code>\"2191\",\"2046\",\"1209\",\"1209\",\"1988\",\"2092\",\"295\",\"1214\",\"1988\",...\n</code></pre>\n\n<p>but the error message persists and the filter is not applied.</p>\n\n<p>This is running in NetSuite's customer center, so I can't access the customer record because the customer center role does not have access to the customer list. I also can't access item internal ids directly via saved searches using {item.internalid} for the same reasons re: permissioning. </p>\n\n<p>The work around is a dynamic field that sets a static field that I am searching on via a transaction search, the static field text should be the text of the filter. </p>\n\n<p>Ideally speaking, the variable itemarraytext would pass through and filter the available documents I am searching for based on each customer's purchase history.</p>\n"}, {"tags": ["javascript", "reduce", "foldleft"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 2, "creation_date": 1560977010, "post_id": 56675472, "comment_id": 99918388, "body": "The accumulator only sums the values if you tell it to. Your example does not do that. <code>acc</code> becomes the result of <code>el &#47; acc</code>, <b>not</b> <code>acc + (el &#47; acc)</code>. Check out <a href=\"https://jsfiddle.net/ejvcpxr8/\" rel=\"nofollow noreferrer\"><b>this demonstration</b></a> which logs the values at each step. (It uses <code>reduce</code>, but simulates the behavior)"}, {"owner": {"reputation": 366, "user_id": 5527137, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7e3ca3c50dab114128c38c4d97963faf?s=128&d=identicon&r=PG&f=1", "display_name": "Leafyshark", "link": "https://stackoverflow.com/users/5527137/leafyshark"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1560977718, "post_id": 56675472, "comment_id": 99918656, "body": "Ahh I see, yes this is great way of showing it. Appreciate your example, thank you!"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1560978547, "post_id": 56675472, "comment_id": 99918968, "body": "<a href=\"https://stackoverflow.com/q/500504/1048572\">Don&#39;t use <code>for\u2026in</code> enumerations on arrays!</a>"}], "answers": [{"comments": [{"owner": {"reputation": 366, "user_id": 5527137, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7e3ca3c50dab114128c38c4d97963faf?s=128&d=identicon&r=PG&f=1", "display_name": "Leafyshark", "link": "https://stackoverflow.com/users/5527137/leafyshark"}, "edited": false, "score": 0, "creation_date": 1560977108, "post_id": 56675560, "comment_id": 99918422, "body": "This is exactly what I needed. Thanks for that \ud83d\ude4c"}], "tags": [], "owner": {"reputation": 33166, "user_id": 7509065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RZLo7.png?s=128&g=1", "display_name": "Joseph Sible-Reinstate Monica", "link": "https://stackoverflow.com/users/7509065/joseph-sible-reinstate-monica"}, "is_accepted": true, "score": 1, "last_activity_date": 1560976993, "creation_date": 1560976993, "answer_id": 56675560, "question_id": 56675472, "link": "https://stackoverflow.com/questions/56675472/can-someone-explain-this-foldl-example-to-me-in-laymens-terms/56675560#56675560", "title": "Can someone explain this foldl example to me in laymens terms?", "body": "<p>Accumulating doesn't mean adding. It means running the function that you passed into <code>foldl</code>. Also, the value of 24 is only used the first time; after that, the accumulation means that it uses the return value from last time. Here's the correct sequence of values:</p>\n\n<pre><code>acc = 24\nel = 1\nacc = 1/24\nel = 2\nacc = 2/(1/24) = 48\nel = 3\nacc = 3/48 = 1/16\nel = 4\nacc = 4/(1/16) = 64\n</code></pre>\n"}], "owner": {"reputation": 366, "user_id": 5527137, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/7e3ca3c50dab114128c38c4d97963faf?s=128&d=identicon&r=PG&f=1", "display_name": "Leafyshark", "link": "https://stackoverflow.com/users/5527137/leafyshark"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 41, "favorite_count": 0, "accepted_answer_id": 56675560, "answer_count": 1, "score": 0, "last_activity_date": 1560976993, "creation_date": 1560976521, "question_id": 56675472, "link": "https://stackoverflow.com/questions/56675472/can-someone-explain-this-foldl-example-to-me-in-laymens-terms", "title": "Can someone explain this foldl example to me in laymens terms?", "body": "<p>I am trying to understand exactly how this function operates and cannot figure it out in my brain. Please can you show the step-by-step process of the code?</p>\n\n<p>I've been sitting here trying to figure this example out in my head using a calculator on my computer and running through the code many many times in my head, but it just doesn't add up. Pun not intended.</p>\n\n<pre><code>constructor(values) {\n  this.values = values || []\n}\n\nconst list = new List([1,2,3,4])\n\nexpect(list.foldl((acc, el) =&gt; el / acc, 24)).toEqual(64);\n\nfoldl(fn, initialValue) {\n  let acc = initialValue;\n  for (let i in this.values) {\n    acc = fn(acc, this.values[i]);\n\n  }\n  return acc; // 64... HOW??!\n}\n</code></pre>\n\n<p>Okay here's how I run through it in my head. Please can you explain to me why I'm wrong, and show me what is correct in pseudocode as I've done below.</p>\n\n<pre><code>```\n// accumulator is 24 and therefore we divide the first element of the array which is 1 by 24 which equals .041666667\n\n// the accumulator now ACCUMULATES which means 24 plus .041666667 is equal to 24.041666667\n\n// now the accumulator is 24.041666667 and we divide the second element of the array which is 2 by 24 which equals .083333333\n\n// the accumulator which is 24.041666667 now adds .083333333 which equals 24.874999997\n\n// now the accumulator is 24.874999997 and we divide the third element of the array which is 3 by 24.874999997 which equals .120603015 \n</code></pre>\n\n<p>and so on...</p>\n\n<p>What am I missing here?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1962, "user_id": 2789884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/264d7bb52024efe30d12845515de13ce?s=128&d=identicon&r=PG", "display_name": "Xesenix", "link": "https://stackoverflow.com/users/2789884/xesenix"}, "edited": false, "score": 1, "creation_date": 1560976605, "post_id": 56675454, "comment_id": 99918248, "body": "This is javascript syntax for defining objects"}, {"owner": {"reputation": 54898, "user_id": 1260204, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/402e1da680f92d16e7736ab14a696f06?s=128&d=identicon&r=PG", "display_name": "Igor", "link": "https://stackoverflow.com/users/1260204/igor"}, "edited": false, "score": 1, "creation_date": 1560976606, "post_id": 56675454, "comment_id": 99918249, "body": "That syntax is javascript specific, it has nothing to do directly with angular or typescript. I updated your question tag accordingly."}, {"owner": {"reputation": 1962, "user_id": 2789884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/264d7bb52024efe30d12845515de13ce?s=128&d=identicon&r=PG", "display_name": "Xesenix", "link": "https://stackoverflow.com/users/2789884/xesenix"}, "edited": false, "score": 0, "creation_date": 1560976679, "post_id": 56675454, "comment_id": 99918276, "body": "Also this what you expect would suggest we are in some kind of function body and would be confusing for larger objects"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1560978687, "post_id": 56675454, "comment_id": 99919023, "body": "Yes, it&#39;s inconsistent, due to JS object literals being far older than type annotations (which <a href=\"https://stackoverflow.com/q/12787781/1048572\">don&#39;t really support</a> type annotations on their values)."}], "answers": [{"comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1560978906, "post_id": 56675700, "comment_id": 99919081, "body": "Actually, the constructor call with <code>new</code> doesn&#39;t create any properties, the code you&#39;ve shown might do anything. The property creation happens explicitly inside the constructor body code, again by boring old assignment."}, {"owner": {"reputation": 1040, "user_id": 11672166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be83fb6d2f6554cc268dd0466d6fdf66?s=128&d=identicon&r=PG", "display_name": "JKleinne", "link": "https://stackoverflow.com/users/11672166/jkleinne"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1561034602, "post_id": 56675700, "comment_id": 99937972, "body": "@Bergi you&#39;re right, I haven&#39;t mentioned that you had to first write your Hero class with a constructor for setting the object&#39;s id and name. Thanks for the correction!"}], "tags": [], "owner": {"reputation": 1040, "user_id": 11672166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be83fb6d2f6554cc268dd0466d6fdf66?s=128&d=identicon&r=PG", "display_name": "JKleinne", "link": "https://stackoverflow.com/users/11672166/jkleinne"}, "is_accepted": true, "score": 1, "last_activity_date": 1560977669, "creation_date": 1560977669, "answer_id": 56675700, "question_id": 56675454, "link": "https://stackoverflow.com/questions/56675454/object-initialization-why-are-object-attributes-initialized-with-not/56675700#56675700", "title": "Object initialization - why are object attributes initialized with &quot; : &quot; not &quot; = &quot;", "body": "<p>Objects can be initialized using different methods in JavaScript. One method you are probably more familiar with is by first creating an instance of an object and assign properties through the constructors, getters and setters, or by directly mutating the object property</p>\n\n<pre><code>// Creates a hero object with no properties\nlet hero = new Hero();\n\n// Creates a hero object with defined properties\nlet hero = new Hero(1, 'Windstorm');\n\n// Creates a hero object then sets the object property\nlet hero = new Hero();\nhero.id = 1;\nhero.name = 'Windstorm';\n</code></pre>\n\n<p>While these methods of creating objects in JavaScript are valid, you will most often see developers use Object Literals, which is a list of name-value pairs, separated by commas. You may have noticed, but JSON adopts the same syntax that Object Literals use, with one difference in being language-independent (Object Literals are unique to JavaScript). To extend my explanation a bit, you can assign any data type to object literal property values: it can be an array, a string, an integer, ANOTHER OBJECT LITERAL, etc. all at the simple press of the \":\" on your keyboard. </p>\n\n<p>Hopefully I was able to help, best of luck!</p>\n"}], "owner": {"reputation": 23, "user_id": 9017861, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29c1555e0ebe01ddb5b9edc323fc28c1?s=128&d=identicon&r=PG&f=1", "display_name": "darkcam17", "link": "https://stackoverflow.com/users/9017861/darkcam17"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 56675700, "answer_count": 1, "score": 1, "last_activity_date": 1560977669, "creation_date": 1560976390, "last_edit_date": 1560976588, "question_id": 56675454, "link": "https://stackoverflow.com/questions/56675454/object-initialization-why-are-object-attributes-initialized-with-not", "title": "Object initialization - why are object attributes initialized with &quot; : &quot; not &quot; = &quot;", "body": "<p>Been going through Angular tutorials and realized that : is used for type declarations, while = is used for value assignment. Looking at the following code </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class HeroesComponent implements OnInit {\n  hero: Hero = {\n    id: 1,\n    name: 'Windstorm'\n  }\n</code></pre>\n\n<p>I don't understand why id and name are using : as opposed to = since the type was already declared and we are assigning a value to the attributes of hero. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class HeroesComponent implements OnInit {\n  hero: Hero = {\n    id = 1,\n    name = 'Windstorm'\n  }\n</code></pre>\n\n<p>Above is code that I would expect to work but is incorrect.</p>\n"}, {"tags": ["javascript", "reactjs", "redux"], "answers": [{"comments": [{"owner": {"reputation": 2006, "user_id": 1389801, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cfQv5.png?s=128&g=1", "display_name": "valkn0t", "link": "https://stackoverflow.com/users/1389801/valkn0t"}, "edited": false, "score": 0, "creation_date": 1560976824, "post_id": 56675509, "comment_id": 99918336, "body": "I like this idea. So something like: teachers students loadingState-&gt;isFetchingStudents, isFetchingTeachers? Sorry can&#39;t draw it out. Could you maybe diagram it?"}, {"owner": {"reputation": 292, "user_id": 9883174, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthony Liu", "link": "https://stackoverflow.com/users/9883174/anthony-liu"}, "reply_to_user": {"reputation": 2006, "user_id": 1389801, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cfQv5.png?s=128&g=1", "display_name": "valkn0t", "link": "https://stackoverflow.com/users/1389801/valkn0t"}, "edited": false, "score": 0, "creation_date": 1560977725, "post_id": 56675509, "comment_id": 99918659, "body": "@valkn0t It&#39;s just simple object."}, {"owner": {"reputation": 2006, "user_id": 1389801, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cfQv5.png?s=128&g=1", "display_name": "valkn0t", "link": "https://stackoverflow.com/users/1389801/valkn0t"}, "edited": false, "score": 0, "creation_date": 1560978046, "post_id": 56675509, "comment_id": 99918782, "body": "What happens when your store grows, and the amount of resources I have grows? And containers begin to have access to isFetching* of entities they don&#39;t care about?"}, {"owner": {"reputation": 292, "user_id": 9883174, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthony Liu", "link": "https://stackoverflow.com/users/9883174/anthony-liu"}, "reply_to_user": {"reputation": 2006, "user_id": 1389801, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cfQv5.png?s=128&g=1", "display_name": "valkn0t", "link": "https://stackoverflow.com/users/1389801/valkn0t"}, "edited": false, "score": 0, "creation_date": 1560979351, "post_id": 56675509, "comment_id": 99919241, "body": "@valkn0t It&#39;s centralized store, any container can access to the store if necessary, so in teacher component, you may only need to care about LoadingState.isFetchingTeachers, even though you can also access students&#39; state through LoadingState,isFetchingStudents. It doesn&#39;t hurt anything."}, {"owner": {"reputation": 2006, "user_id": 1389801, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cfQv5.png?s=128&g=1", "display_name": "valkn0t", "link": "https://stackoverflow.com/users/1389801/valkn0t"}, "edited": false, "score": 0, "creation_date": 1560979562, "post_id": 56675509, "comment_id": 99919326, "body": "Just because the store is centralized doesn&#39;t mean you should expose the entire state to a component, especially when you don&#39;t have to. Hence why you only map certain parts of state to container props in mapStateToProps; unless you literally just return the entire state in that function."}, {"owner": {"reputation": 292, "user_id": 9883174, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthony Liu", "link": "https://stackoverflow.com/users/9883174/anthony-liu"}, "reply_to_user": {"reputation": 2006, "user_id": 1389801, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cfQv5.png?s=128&g=1", "display_name": "valkn0t", "link": "https://stackoverflow.com/users/1389801/valkn0t"}, "edited": false, "score": 1, "creation_date": 1560980341, "post_id": 56675509, "comment_id": 99919572, "body": "@valkn0t Yeah you already know the practice. So inside your teacher component, you can mapStateToProps like{ isFetching: state.LoadingState.isFetchingTeachers }"}, {"owner": {"reputation": 2006, "user_id": 1389801, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cfQv5.png?s=128&g=1", "display_name": "valkn0t", "link": "https://stackoverflow.com/users/1389801/valkn0t"}, "edited": false, "score": 0, "creation_date": 1560982832, "post_id": 56675509, "comment_id": 99920241, "body": "Would any asynchronous state manipulation be grouped by type similarly? Ex. LoadingState, AddingState, ChangingState, FooBarringState? With associated isLoadingTeachers, isAddingTeachers, isChangingTeachers, isFooBarringTeachers?"}], "tags": [], "owner": {"reputation": 292, "user_id": 9883174, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Anthony Liu", "link": "https://stackoverflow.com/users/9883174/anthony-liu"}, "is_accepted": false, "score": 1, "last_activity_date": 1560977673, "last_edit_date": 1560977673, "creation_date": 1560976698, "answer_id": 56675509, "question_id": 56675449, "link": "https://stackoverflow.com/questions/56675449/when-and-where-should-i-use-a-fetchingdata-state-for-normalized-data-in-redux/56675509#56675509", "title": "When and where should I use a &quot;fetchingData&quot; state for normalized data in Redux store?", "body": "<p>Use new state like \"LoadingState\" or something similar for this state. Inside that,\nit's something like</p>\n\n<pre><code>const initialLoadingState = {\n    isFetchingStudents: false,\n    isFetchingTeachers: false,\n    ...\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2006, "user_id": 1389801, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cfQv5.png?s=128&g=1", "display_name": "valkn0t", "link": "https://stackoverflow.com/users/1389801/valkn0t"}, "edited": false, "score": 0, "creation_date": 1560977960, "post_id": 56675545, "comment_id": 99918749, "body": "But I wouldn&#39;t be accessing data in a normalized fashion; instead of accessing the first teacher with teachers[0], it would be teachers.entries[0]? And this is also coupling data access with storage"}, {"owner": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "reply_to_user": {"reputation": 2006, "user_id": 1389801, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cfQv5.png?s=128&g=1", "display_name": "valkn0t", "link": "https://stackoverflow.com/users/1389801/valkn0t"}, "edited": false, "score": 0, "creation_date": 1561028458, "post_id": 56675545, "comment_id": 99934673, "body": "@valkn0t you decide what design you prefer. with what I suggest it&#39;s very clear and convenient for both components (<code>mapStateToProps ({ teachers }) =&gt; ({ teachers })</code>, <code>const { teachers: { entries, loading } } = this.props</code>) and for reducers where you can easily control loading flag in the same reducer instead of setting data and loading flag in different store reducers."}], "tags": [], "owner": {"reputation": 181899, "user_id": 949476, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8feb0675d5ebf4c11ed13885347cc970?s=128&d=identicon&r=PG", "display_name": "dfsq", "link": "https://stackoverflow.com/users/949476/dfsq"}, "is_accepted": false, "score": 1, "last_activity_date": 1560976895, "creation_date": 1560976895, "answer_id": 56675545, "question_id": 56675449, "link": "https://stackoverflow.com/questions/56675449/when-and-where-should-i-use-a-fetchingdata-state-for-normalized-data-in-redux/56675545#56675545", "title": "When and where should I use a &quot;fetchingData&quot; state for normalized data in Redux store?", "body": "<p>One more way could be is to group related flags into same object:</p>\n\n<pre><code>teachers: {\n  entries: []    // Student[]\n  loading: false // boolean\n}\n</code></pre>\n"}], "owner": {"reputation": 2006, "user_id": 1389801, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/cfQv5.png?s=128&g=1", "display_name": "valkn0t", "link": "https://stackoverflow.com/users/1389801/valkn0t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1560977673, "creation_date": 1560976368, "question_id": 56675449, "link": "https://stackoverflow.com/questions/56675449/when-and-where-should-i-use-a-fetchingdata-state-for-normalized-data-in-redux", "title": "When and where should I use a &quot;fetchingData&quot; state for normalized data in Redux store?", "body": "<p>If I have <code>teachers</code> and <code>students</code> in a Redux store as separate, normalized states describing arrays of entities, where should I put a property that describes when I'm actively fetching that data?</p>\n"}, {"tags": ["javascript", "react-native"], "comments": [{"owner": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "edited": false, "score": 2, "creation_date": 1560976432, "post_id": 56675438, "comment_id": 99918190, "body": "If you can use <a href=\"http://momentjs.com/docs/#/durations/hours/\" rel=\"nofollow noreferrer\">Moment</a>, check this out <a href=\"https://stackoverflow.com/questions/25150570/get-hours-difference-between-two-dates-in-moment-js\" title=\"get hours difference between two dates in moment js\">stackoverflow.com/questions/25150570/&hellip;</a> Frankly, I usually don&#39;t do date manipulation manually, my feeble brain is too often confused and error-prone, and libraries like Moment just make problems like this a two-liner."}, {"owner": {"reputation": 47, "user_id": 10344512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5NXFbrt6ZU8/AAAAAAAAAAI/AAAAAAAACoI/tgXDfn4zMl8/photo.jpg?sz=128", "display_name": "Andrew Mautone", "link": "https://stackoverflow.com/users/10344512/andrew-mautone"}, "reply_to_user": {"reputation": 9968, "user_id": 114900, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZGjf9.jpg?s=128&g=1", "display_name": "msanford", "link": "https://stackoverflow.com/users/114900/msanford"}, "edited": false, "score": 1, "creation_date": 1560976665, "post_id": 56675438, "comment_id": 99918265, "body": "I think the problem is on the while.When I just duplicate the code a lot of times it works, cause of that I got little confused.But I will try use Moment,ty"}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 10344512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5NXFbrt6ZU8/AAAAAAAAAAI/AAAAAAAACoI/tgXDfn4zMl8/photo.jpg?sz=128", "display_name": "Andrew Mautone", "link": "https://stackoverflow.com/users/10344512/andrew-mautone"}, "edited": false, "score": 0, "creation_date": 1560977145, "post_id": 56675550, "comment_id": 99918431, "body": "my dataF is bigger than the A , when I add this minutes, It make the time between the two dates smaller. I&#39;ve did it manually repeating the code a lot of time and it is working , the time between  A and F is smaller every time it run"}], "tags": [], "owner": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "is_accepted": true, "score": 1, "last_activity_date": 1560976929, "creation_date": 1560976929, "answer_id": 56675550, "question_id": 56675438, "link": "https://stackoverflow.com/questions/56675438/how-to-get-all-hours-between-2-dates/56675550#56675550", "title": "How to get all hours between 2 dates", "body": "<p>I believe your problem is where you are incrementing dataA:</p>\n\n<pre><code>    dataA.setMinutes(dataA.getMinutes()+ this.state.lojas.data[0].tempoAtender);\n</code></pre>\n\n<p>dataA.getTime passed your while condition the first time. It seems like you are just making it bigger, not smaller, unless <code>this.state.lojas.data[0].tempoAtender</code> is negative</p>\n"}], "owner": {"reputation": 47, "user_id": 10344512, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5NXFbrt6ZU8/AAAAAAAAAAI/AAAAAAAACoI/tgXDfn4zMl8/photo.jpg?sz=128", "display_name": "Andrew Mautone", "link": "https://stackoverflow.com/users/10344512/andrew-mautone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 56675550, "answer_count": 1, "score": 1, "last_activity_date": 1560978476, "creation_date": 1560976304, "last_edit_date": 1560978476, "question_id": 56675438, "link": "https://stackoverflow.com/questions/56675438/how-to-get-all-hours-between-2-dates", "title": "How to get all hours between 2 dates", "body": "<p>I'm trying to get a list of hours between two date</p>\n\n<p>I've tried do an while no get them, but I dont know why my app is freezing when I call the function</p>\n\n<pre><code> getHours(){\n\n    let dataA =new Date();\n    let dataF = new  Date();\n    dataA.setHours(this.state.lojas.data[0].h_abertura.split(':')[0],this.state.lojas.data[0].h_abertura.split(':')[1]);\n    dataF.setHours(this.state.lojas.data[0].h_fecho.split(':')[0],this.state.lojas.data[0].h_fecho.split(':')[1]);\n\n    var listaDatas = [];\n\n    console.log(dataF.toString())\n\n\n\n\n    while(Math.abs((( dataA.getTime() - dataF.getTime()) / 60000)) &gt; parseInt(this.state.lojas.data[0].tempoAtender))\n    {\n\n       listaDatas.push(dataA.getHours()+\":\"+dataA.getMinutes());\n        dataA.setMinutes(dataA.getMinutes()+ this.state.lojas.data[0].tempoAtender);\n\n\n\n\n\n    }\n\n\n\n }\n</code></pre>\n\n<p>Math.abs((( dataA.getTime() - dataF.getTime()) with this i'm getting 540 as result and if I add minutes \"dataA.setMinutes(dataA.getMinutes()+ this.state.lojas.data[0].tempoAtender);\" and check it again i got 520 but it seens like that it is entering on a infinity loop</p>\n\n<p>Resolution</p>\n\n<pre><code>\n    let dataA =new Date();\n    let dataF = new  Date();\n    dataA.setHours(this.state.lojas.data[0].h_abertura.split(':')[0],this.state.lojas.data[0].h_abertura.split(':')[1]);\n    dataF.setHours(this.state.lojas.data[0].h_fecho.split(':')[0],this.state.lojas.data[0].h_fecho.split(':')[1]);\n\n    var a = moment(`2016-06-06T${this.state.lojas.data[0].h_fecho.split(':')[0]}:${this.state.lojas.data[0].h_fecho.split(':')[1]}:55`);//now\n    var b = moment(`2016-06-06T${this.state.lojas.data[0].h_abertura.split(':')[0]}:${this.state.lojas.data[0].h_abertura.split(':')[1]}:55`);\n\n    var listaDatas = [];\n\n    console.log(dataF.toString())\n\n\n\n\n    while(a.diff(b,'minutes') &gt;= parseInt(this.state.lojas.data[0].tempoAtender))\n    {\n\n       listaDatas.push(b.hour()+\":\"+b.minutes())\n        b.add(this.state.lojas.data[0].tempoAtender,'minutes')\n\n\n\n\n\n    }\n\n    listaDatas.push((b.hour()+\":\"+b.minutes()).toString())\n    alert(listaDatas.toString())\n\n</code></pre>\n"}, {"tags": ["javascript", "webpack", "javascript-objects", "webpack-4"], "answers": [{"comments": [{"owner": {"reputation": 290, "user_id": 9156640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cc37ec575a46246de4a809e7533e912?s=128&d=identicon&r=PG&f=1", "display_name": "dospro", "link": "https://stackoverflow.com/users/9156640/dospro"}, "reply_to_user": {"reputation": 1352, "user_id": 9626618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57e81eaeac122f91a53a4888ddf7ede1?s=128&d=identicon&r=PG&f=1", "display_name": "PierBJX", "link": "https://stackoverflow.com/users/9626618/pierbjx"}, "edited": false, "score": 1, "creation_date": 1560977329, "post_id": 56675517, "comment_id": 99918501, "body": "Oh right. webpack config files don&#39;t support ES6. There are some work-arounds like described here <a href=\"https://stackoverflow.com/questions/33549895/i-cant-use-es6-in-webpack-config-file?noredirect=1&amp;lq=1\" title=\"i cant use es6 in webpack config file\">stackoverflow.com/questions/33549895/&hellip;</a> , but most of them are worse than just using your own approach."}, {"owner": {"reputation": 1352, "user_id": 9626618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57e81eaeac122f91a53a4888ddf7ede1?s=128&d=identicon&r=PG&f=1", "display_name": "PierBJX", "link": "https://stackoverflow.com/users/9626618/pierbjx"}, "edited": false, "score": 0, "creation_date": 1560977744, "post_id": 56675517, "comment_id": 99918667, "body": "Thanks but I think @meyi&#39;s answer is better way to do it"}], "tags": [], "owner": {"reputation": 290, "user_id": 9156640, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cc37ec575a46246de4a809e7533e912?s=128&d=identicon&r=PG&f=1", "display_name": "dospro", "link": "https://stackoverflow.com/users/9156640/dospro"}, "is_accepted": false, "score": -1, "last_activity_date": 1560976753, "creation_date": 1560976753, "answer_id": 56675517, "question_id": 56675411, "link": "https://stackoverflow.com/questions/56675411/webpack-entry-with-hyphen/56675517#56675517", "title": "Webpack entry with hyphen", "body": "<p>You can use the following:</p>\n\n<pre><code>entry: {\n    ['test-1']: './src/test-1/main.js',\n    ['test-2']: './src/test-2/main.js',\n    ['test-3']: './src/test-3/main.js'\n},\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4449, "user_id": 9523162, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Q2UB.png?s=128&g=1", "display_name": "meyi", "link": "https://stackoverflow.com/users/9523162/meyi"}, "is_accepted": true, "score": 2, "last_activity_date": 1560977181, "creation_date": 1560977181, "answer_id": 56675600, "question_id": 56675411, "link": "https://stackoverflow.com/questions/56675411/webpack-entry-with-hyphen/56675600#56675600", "title": "Webpack entry with hyphen", "body": "<p>I setup a clean environment and got this working:</p>\n\n<p>webpack.config.js: </p>\n\n<pre><code>const path = require('path');\n\nmodule.exports = {\n  entry: {\n      'test-1': './src/test-1.js',\n      'test-2': './src/test-2.js',\n  },\n  output: {\n    filename: '[name].js',\n    path: path.resolve(__dirname, 'dist')\n  }\n};\n</code></pre>\n\n<p>Just adding the quotes around the keys should fix your issue.</p>\n"}], "owner": {"reputation": 1352, "user_id": 9626618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57e81eaeac122f91a53a4888ddf7ede1?s=128&d=identicon&r=PG&f=1", "display_name": "PierBJX", "link": "https://stackoverflow.com/users/9626618/pierbjx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 351, "favorite_count": 0, "accepted_answer_id": 56675600, "answer_count": 2, "score": 0, "last_activity_date": 1560977181, "creation_date": 1560976169, "last_edit_date": 1560976619, "question_id": 56675411, "link": "https://stackoverflow.com/questions/56675411/webpack-entry-with-hyphen", "title": "Webpack entry with hyphen", "body": "<p>In webpack, I am trying to achieve this:</p>\n\n<pre><code>entry: {\n    test-1: './src/test-1/main.js',\n    test-2: './src/test-2/main.js',\n    test-3: './src/test-3/main.js'\n},\n...\n</code></pre>\n\n<p>However, it not possible to have a hyphen.\nMy only solution to achieve this is to do something liket that ?</p>\n\n<pre><code>entry['test-1'] = './src/test-1/main.js';\nentry['test-2'] = './src/test-2/main.js';\nentry['test-3'] = './src/test-3/main.js';\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "sqlite", "express", "body-parser"], "comments": [{"owner": {"reputation": 307, "user_id": 4630106, "user_type": "registered", "accept_rate": 82, "profile_image": "https://graph.facebook.com/513600892128323/picture?type=large", "display_name": "Thomas Yamakaitis", "link": "https://stackoverflow.com/users/4630106/thomas-yamakaitis"}, "edited": false, "score": 0, "creation_date": 1560976675, "post_id": 56675399, "comment_id": 99918271, "body": "Make sure the data is being received at every level. Try doing <code>console.log(formData);</code> and make sure everything is good before your <code>axios.post()</code> function in your form code. Then, if it&#39;s good, check if it&#39;s being received correctly in the server with <code>console.log(req);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 11239440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa38bc8df631cac1fe51b43f02a08dc?s=128&d=identicon&r=PG&f=1", "display_name": "jaronow", "link": "https://stackoverflow.com/users/11239440/jaronow"}, "edited": false, "score": 0, "creation_date": 1561153888, "post_id": 56675507, "comment_id": 99984798, "body": "thanks for the info @AndryShutka, spent a day learning about FormData and JSON and you were correct on sending the data in JSON format.  It was even easier than adding JS objects and using JSON.stringify()."}], "tags": [], "owner": {"reputation": 298, "user_id": 4474807, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001826631436/picture?type=large", "display_name": "Andry Shutka", "link": "https://stackoverflow.com/users/4474807/andry-shutka"}, "is_accepted": false, "score": 0, "last_activity_date": 1560976690, "creation_date": 1560976690, "answer_id": 56675507, "question_id": 56675399, "link": "https://stackoverflow.com/questions/56675399/express-post-request-saving-as-undefined-in-db/56675507#56675507", "title": "Express post request saving as undefined in DB", "body": "<p>You should use JSON format from your Vue app instead of <code>FormData</code>.\nFormData is an object that passes with Content-Type <code>application/x-www-form-urlencoded</code>. \nAnd you body parser is configured for the Json.\nPlease try to replace</p>\n\n<pre><code>        formData.append('name', this.model.name)\n        formData.append('email', this.model.email)\n        formData.append('company_name', this.model.company_name)\n        formData.append('password', this.model.password)\n</code></pre>\n\n<p>with an actual JS object\n{\n   \"name\": this.model.name\n    .....other fields.....\n}</p>\n\n<p>and pass this object or this object <code>stringified</code> with JSON.strinfigy(obj);</p>\n"}, {"tags": [], "owner": {"reputation": 103, "user_id": 11239440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa38bc8df631cac1fe51b43f02a08dc?s=128&d=identicon&r=PG&f=1", "display_name": "jaronow", "link": "https://stackoverflow.com/users/11239440/jaronow"}, "is_accepted": false, "score": 0, "last_activity_date": 1561153308, "creation_date": 1561153308, "answer_id": 56710781, "question_id": 56675399, "link": "https://stackoverflow.com/questions/56675399/express-post-request-saving-as-undefined-in-db/56710781#56710781", "title": "Express post request saving as undefined in DB", "body": "<p>After spending a day researching FormData and JSON I figured it out thanks to <a href=\"https://stackoverflow.com/questions/44759208/axios-post-entire-from-vue-js\">this post</a> and the answer by M U.  Because I was using Vue.js and had everything from the form stored using v-model all I had to do was update the post method to:</p>\n\n<pre><code>register () {\n      let valid = this.validate()\n      if (valid) {\n        this.loading = \"Registering you, please wait\"\n\n        axios.post('http://localhost:3128/register', this.model).then(res =&gt; {\n          this.loading = ''\n          if (res.data.status === true) {\n            this.$router.push ({\n              name: 'dashboard',\n              params: { user: res.data.user }\n            })\n          } else {\n            this.status = res.data.message\n          }\n        })\n      } else {\n        alert('Passwords do not match')\n      }\n    }\n</code></pre>\n\n<p>and the whole form uploaded to the database with the password hashed</p>\n"}], "owner": {"reputation": 103, "user_id": 11239440, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/caa38bc8df631cac1fe51b43f02a08dc?s=128&d=identicon&r=PG&f=1", "display_name": "jaronow", "link": "https://stackoverflow.com/users/11239440/jaronow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 95, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1561153308, "creation_date": 1560976111, "question_id": 56675399, "link": "https://stackoverflow.com/questions/56675399/express-post-request-saving-as-undefined-in-db", "title": "Express post request saving as undefined in DB", "body": "<p>I am learning how to set up a Express server and have run into an odd issue when creating new users.  The POST request goes through and gives no error and takes me to my dashboard but when I look in the sqlite DB it shows all values from the registration form saved as undefined.  I have installed body-parser and called it properly into the server, I believe.  </p>\n\n<p>I have tried changing extended: true instead of false and added adding res.setHeader('Content-Type', 'text/plain') into the app.use as stated by body-parser guide but it still saves as undefined every time.</p>\n\n<p>here is my server.js code</p>\n\n<pre><code>const app = express();\napp.use(bodyParser.urlencoded({extended: false}));\napp.use(bodyParser.json());\napp.use(function(req, res, next) {\n  res.header(\"Access-Control-Allow-Origin\", \"*\");\n  res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n  res.setHeader('Content-Type', 'text/plain');\n  next();\n});\n</code></pre>\n\n<p>here is the POST code in the server.js</p>\n\n<pre><code>app.post('/register', function(req, res) {\n  bcrypt.hash(req.body.password, saltRounds, function(err, hash) {\n    let db = new sqlite3.Database(\"./database/InvoiceApp.db\");\n    let sql = `INSERT INTO users(name, email, company_name, password) VALUES ('${req.body.name}','${req.body.email}','${req.body.company_name}','${hash}')`;\n    db.run(sql, function(err) {\n      if (err) {\n        throw err;\n      } else {\n        return res.json({\n          status: true,\n          message: \"User Created\"\n        });\n      }\n    });\n    db.close()\n  });\n});\n</code></pre>\n\n<p>and this is my form code, i am using vue.js</p>\n\n<pre><code>register () {\n      const formData = new FormData()\n      let valid = this.validate()\n      if (valid) {\n        formData.append('name', this.model.name)\n        formData.append('email', this.model.email)\n        formData.append('company_name', this.model.company_name)\n        formData.append('password', this.model.password)\n\n        this.loading = \"Registering you, please wait\"\n\n        axios.post('http://localhost:3128/register', formData).then(res =&gt; {\n          this.loading = ''\n          if (res.data.status === true) {\n            this.$router.push ({\n              name: 'dashboard',\n              params: { user: res.data.user }\n            })\n          } else {\n            this.status = res.data.message\n          }\n        })\n      } else {\n        alert('Passwords do not match')\n      }\n    }\n</code></pre>\n\n<p>I get no error messages when creating a new user, only if I try and login as a created user or do other actions linked to the created user.  Why is my form saving as undefined in the sqlite DB?</p>\n"}, {"tags": ["javascript", "google-apps-script"], "comments": [{"owner": {"reputation": 34507, "user_id": 7215091, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/2pNI4.jpg?s=128&g=1", "display_name": "MetaMan", "link": "https://stackoverflow.com/users/7215091/metaman"}, "edited": false, "score": 0, "creation_date": 1560981516, "post_id": 56675379, "comment_id": 99919907, "body": "Your code example is incomplete.  There are non matching brackets."}, {"owner": {"reputation": 3599, "user_id": 3383907, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/c67c7344da32f3be91dcbda259ba6a89?s=128&d=identicon&r=PG", "display_name": "IMTheNachoMan", "link": "https://stackoverflow.com/users/3383907/imthenachoman"}, "edited": false, "score": 0, "creation_date": 1561000950, "post_id": 56675379, "comment_id": 99923511, "body": "I am not able to follow through all of your code but when you iterate through all of the questions and answers, when you find the one that is for e-mail, before you push it on <code>items</code>, remove everything after the <code>@</code> -- for example <code>answer.split(&quot;@&quot;)[0]</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1297, "user_id": 11581830, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4kDJiRzhblc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdLNEhyOlKmtclK4V4RKosvQP-BMg/mo/photo.jpg?sz=128", "display_name": "AMolina", "link": "https://stackoverflow.com/users/11581830/amolina"}, "is_accepted": true, "score": 2, "last_activity_date": 1561028159, "creation_date": 1561028159, "answer_id": 56684486, "question_id": 56675379, "link": "https://stackoverflow.com/questions/56675379/how-do-i-censor-an-answer-to-a-question-through-google-forms/56684486#56684486", "title": "How do I censor an answer to a question through Google forms?", "body": "<p>When you get the responses with <code>getItemResponses()</code> you receive an array of the responses of the form, in the same order as the questions. A solution to your problem would be to change the email question to the top of the form, and begin your loop after it: <code>for (var i = 1; i &lt; response.length; i++) {...</code> </p>\n\n<p>To avoid changing your form, you can just keep track of which question is the email, you can check by listing your responses in the logs with <code>Logger.log(response[i].getResponse() + \"  \" + i);</code> and then using that i to skip the email entry in your loop like this:</p>\n\n<pre><code>for (var i = 0; i &lt; response.length; i++) {\n    if (i == x)\n        continue;\n...\n</code></pre>\n\n<p>This, where x is the index of the email, would simply skip the entry with the email and continue with the rest of the questions, hope this was able to help!</p>\n"}], "owner": {"reputation": 13, "user_id": 11672561, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-gQd3d4RWrhQ/AAAAAAAAAAI/AAAAAAAAAA8/EYaeVrfbBQA/photo.jpg?sz=128", "display_name": "RadioactiveGizmo", "link": "https://stackoverflow.com/users/11672561/radioactivegizmo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 1, "accepted_answer_id": 56684486, "answer_count": 1, "score": 1, "last_activity_date": 1561028159, "creation_date": 1560976012, "last_edit_date": 1561013894, "question_id": 56675379, "link": "https://stackoverflow.com/questions/56675379/how-do-i-censor-an-answer-to-a-question-through-google-forms", "title": "How do I censor an answer to a question through Google forms?", "body": "<p>I'm using a webhook with discord to display the results in a discord channel. My form has a login using matching expressions. This login includes an email. I want this email censored or removed from what is outputted into the discord channel since I don't want people to see what their email is. I know very little about Google Apps Script so I really need help with this. If you know any Javascript I do hope you can help as Google Apps Script is highly based on javascript.</p>\n\n<p>I've tried using an if statement to recognize what the question says and if it says \"Email address:\" then it changes the answer to blank. This did not work.</p>\n\n<pre><code>function onSubmit(e) {\n\n    var POST_URL = \"WEBHOOK\";\n    var form = FormApp.getActiveForm();\n    var allResponses = form.getResponses();\n    var latestResponse = allResponses[allResponses.length - 1];\n    var response = latestResponse.getItemResponses();\n    var items = [];\n\n    for (var i = 0; i &lt; response.length; i++) {\n        var question = response[i].getItem().getTitle();\n        var answer = response[i].getResponse();\n        try {\n            var parts = answer.match(/[\\s\\S]{1,1024}/g) || [];\n        } catch (e) {\n            var parts = answer;\n        }\n\n        if (answer == \"\") {\n            continue;\n        }\n\n        for (var j = 0; j &lt; parts.length; j++) {\n            if (j == 0) {\n              if (question == \"Email address:\"){\n              answer = \" \";\n              }\n                items.push({\n                    \"name\": question,\n                    \"value\": parts[j],\n                    \"inline\": false\n                });\n            } else {\n                items.push({\n                    \"name\": question.concat(\" (cont.)\"),\n                    \"value\": parts[j],\n                    \"inline\": false\n                });\n            }\n        }\n    }\n\n\n    var params = {\n        \"method\": \"post\",\n        \"payload\": JSON.stringify({\n            \"embeds\": [{\n                \"title\": \"Form\",\n                \"fields\": items,\n                \"footer\": {\n                    \"text\": \"Form\"\n                }\n            }]\n        })\n    };\n\n  UrlFetchApp.fetch(POST_URL, params);}\n</code></pre>\n\n<p>There are no error messages. I've run the script multiple times and doesn't seem to work. The email is still displayed in the discord channel.</p>\n"}, {"tags": ["javascript", "node.js", "web-scraping", "request", "cheerio"], "answers": [{"comments": [{"owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "reply_to_user": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1561023826, "post_id": 56675406, "comment_id": 99932084, "body": "@pguardiario \u2014 Take it up with the maintainers of Cheerio. It&#39;s their recommendation that I&#39;m quoting."}, {"owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "reply_to_user": {"reputation": 25, "user_id": 11672505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29b33e189e45b402de670d676b7c88b4?s=128&d=identicon&r=PG&f=1", "display_name": "CodeMonkey JD", "link": "https://stackoverflow.com/users/11672505/codemonkey-jd"}, "edited": false, "score": 0, "creation_date": 1561122988, "post_id": 56675406, "comment_id": 99971669, "body": "thanks @CodeMonkey, please see my answer which I believe you will agree is more informative. I&#39;m deleting my comments here."}], "tags": [], "owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 4, "last_activity_date": 1560976147, "creation_date": 1560976147, "answer_id": 56675406, "question_id": 56675374, "link": "https://stackoverflow.com/questions/56675374/how-to-fix-click-is-not-a-function-in-node-cheerio/56675406#56675406", "title": "How to fix &#39;$(...).click is not a function&#39; in Node/Cheerio", "body": "<p>See <a href=\"https://github.com/cheeriojs/cheerio#cheerio-is-not-a-web-browser\" rel=\"nofollow noreferrer\">the documentation</a>:</p>\n\n<blockquote>\n  <p>Cheerio is not a web browser</p>\n  \n  <p>Cheerio parses markup and provides an API for traversing/manipulating the resulting data structure. It does not interpret the result as a web browser does. Specifically, it does not produce a visual rendering, apply CSS, load external resources, or execute JavaScript. If your use case requires any of this functionality, you should consider projects like PhantomJS or JSDom.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "edited": false, "score": 0, "creation_date": 1561125115, "post_id": 56704182, "comment_id": 99972876, "body": "@quentin -. It&#39;s interesting that such an odd, spiteful fellow can accumulate so much reputation. Cheers, mate."}], "tags": [], "owner": {"reputation": 47898, "user_id": 966023, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/917fcb4327159076f752c0c3c3fddfbb?s=128&d=identicon&r=PG", "display_name": "pguardiario", "link": "https://stackoverflow.com/users/966023/pguardiario"}, "is_accepted": false, "score": 0, "last_activity_date": 1561122776, "creation_date": 1561122776, "answer_id": 56704182, "question_id": 56675374, "link": "https://stackoverflow.com/questions/56675374/how-to-fix-click-is-not-a-function-in-node-cheerio/56704182#56704182", "title": "How to fix &#39;$(...).click is not a function&#39; in Node/Cheerio", "body": "<p>Cheerio is a HTML parser.</p>\n\n<p>Cheerio can be used to select and manipulate dom elements, but it is not a full browser.</p>\n\n<p>Cheerio only has access to the original source dom, which means that if the dom of a webpage is manipulated by javascript, Cheerio will not notice that change.</p>\n\n<p>Cheerio cannot be used to interact with dom elements (ala jQuery) because it does not similarly execute within a window (js window)</p>\n\n<p>As of this moment, if you need to manipulate or select against js-rendered html, your best option is puppeteer. This is likely to change though,</p>\n\n<p>HTH</p>\n"}], "owner": {"reputation": 25, "user_id": 11672505, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/29b33e189e45b402de670d676b7c88b4?s=128&d=identicon&r=PG&f=1", "display_name": "CodeMonkey JD", "link": "https://stackoverflow.com/users/11672505/codemonkey-jd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2717, "favorite_count": 0, "accepted_answer_id": 56675406, "answer_count": 2, "score": 1, "last_activity_date": 1561122776, "creation_date": 1560975999, "last_edit_date": 1560983517, "question_id": 56675374, "link": "https://stackoverflow.com/questions/56675374/how-to-fix-click-is-not-a-function-in-node-cheerio", "title": "How to fix &#39;$(...).click is not a function&#39; in Node/Cheerio", "body": "<p>I am writing an application in node.js that will navigate to a website, click a button on the website, and then extract certain pieces of data from the website. All is going well except for the button-clicking aspect. I cannot seem to simulate a button click. I'm extremely new at this, so I'd appreciate any suggestions y'all have! Sadly I've scoured the internet looking for a solution to this issue and have been unable to find one.</p>\n\n<p>I have used <code>.click()</code> and <code>.bind('click, ...)</code> in a .js file that uses 'request' and 'cheerio'.</p>\n\n<p>I have also tried using <code>page.click()</code> and <code>page.evaluate()</code> in a different .js file that uses 'chrome-launcher', 'chrome-remote-interface', and 'puppeteer'.</p>\n\n<p>Here is my code for the 'request' and 'cheerio' file: </p>\n\n<pre><code>const request = require('request');\nconst cheerio = require('cheerio');\n\nlet p1 = {}, p2 = {}, p3 = {}, p4 = {}, p5 = {};\n\np1.name = 'TheJackal666';\n\np2.name = 'Naether Raviel';\n\np3.name = 'qman37';\n\np4.name = 'ranger51';\n\np5.name = 'fernanda12x';\n\nconst team = {1: p1, 2: p2, 3: p3, 4: p4, 5: p5};\n\nfor(var x in team){\n        let url = 'https://na.op.gg/summoner/userName=' + \nteam[x].name;\n\n        request(url, (error, response, html) =&gt; {\n            if (!error &amp;&amp; response.statusCode == 200) {\n                const $ = cheerio.load(html);\n\n                $('.SummonerRefreshButton.Button.SemiRound.Blue').click(); \n//FIXME: MAKE A FUNCTION THAT SUCCESSFULLY \"CLICKS\" UPDATE BUTTON\n\n                team[x].overallWR = $('.winratio');\n                team[x].overallWR = \nteam[x].overallWR.text().match(/\\d/g);\n                team[x].overallWR = \nteam[x].overallWR.join(\"\");\n\n            console.log(team[x].overallWR);\n            }\n        });\n}\n</code></pre>\n\n<p>I expect to successfully click the update button on any of the pages (there is a section on the page that says when it was last updated) without getting an error. As it is, I either get an error that:</p>\n\n<pre><code>\"$(...).click is not a function\"\n</code></pre>\n\n<p>or (if I incorporate that line into an outer function) I get no error, but no result.</p>\n\n<p>Thank you all so much for any help you can provide! &lt;3 &lt;3 &lt;3</p>\n"}, {"tags": ["javascript", "xmlhttprequest", "fetch", "http2", "http-1.1"], "comments": [{"owner": {"reputation": 449279, "user_id": 65863, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f00013ceab8fb1928885c5c172fbfd4a?s=128&d=identicon&r=PG", "display_name": "Remy Lebeau", "link": "https://stackoverflow.com/users/65863/remy-lebeau"}, "edited": false, "score": 1, "creation_date": 1560991915, "post_id": 56675358, "comment_id": 99921992, "body": "The browser decides which protocol it wants to use as an implementation detail of the <code>XmlHttpRequest</code> object. You can&#39;t force a particular choice from inside your script."}], "answers": [{"tags": [], "owner": {"reputation": 2841, "user_id": 1224539, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dFJsY.png?s=128&g=1", "display_name": "Lincoln Bergeson", "link": "https://stackoverflow.com/users/1224539/lincoln-bergeson"}, "is_accepted": false, "score": 2, "last_activity_date": 1561567359, "creation_date": 1561567359, "answer_id": 56777549, "question_id": 56675358, "link": "https://stackoverflow.com/questions/56675358/is-there-a-way-to-force-an-xmlhttprequest-to-use-http-1-1/56777549#56777549", "title": "Is there a way to force an XMLHttpRequest to use HTTP/1.1?", "body": "<h1>No.</h1>\n\n<p>From Remy Lebeau's comment:</p>\n\n<blockquote>\n  <p>The browser decides which protocol it wants to use as an implementation detail of the XmlHttpRequest object. You can't force a particular choice from inside your script.</p>\n</blockquote>\n"}], "owner": {"reputation": 2841, "user_id": 1224539, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/dFJsY.png?s=128&g=1", "display_name": "Lincoln Bergeson", "link": "https://stackoverflow.com/users/1224539/lincoln-bergeson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1926, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1561567359, "creation_date": 1560975947, "question_id": 56675358, "link": "https://stackoverflow.com/questions/56675358/is-there-a-way-to-force-an-xmlhttprequest-to-use-http-1-1", "title": "Is there a way to force an XMLHttpRequest to use HTTP/1.1?", "body": "<p>I have a server endpoint that supports both HTTP/1.1 and HTTP2. For testing purposes, I want to try downloading content from the endpoint with both HTTP/1.1 and HTTP2 connections, possibly at the same time.</p>\n\n<p>When I request data from the endpoint with an XMLHttpRequest, it automatically uses HTTP2, without me including the <code>Connection: Upgrade</code> header.</p>\n\n<p>Is there a way to force an XMLHttpRequest to use HTTP/1.1 for the underlying TCP connection? What about other protocols, such as Quic or SPDY?</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 11672589, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fGsEn7rY2zU/AAAAAAAAAAI/AAAAAAAABJg/ObpsQzmf7hU/photo.jpg?sz=128", "display_name": "Ajay", "link": "https://stackoverflow.com/users/11672589/ajay"}, "edited": false, "score": 0, "creation_date": 1560976331, "post_id": 56675351, "comment_id": 99918152, "body": "Thank you for the response. I already have that code in place actually, but it still hasn&#39;t fetched nor displayed the songs."}, {"owner": {"reputation": 13341, "user_id": 10030970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e57ef36f01ce7924715bdc240cebae?s=128&d=identicon&r=PG", "display_name": "Cool Guy", "link": "https://stackoverflow.com/users/10030970/cool-guy"}, "reply_to_user": {"reputation": 31, "user_id": 11672589, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fGsEn7rY2zU/AAAAAAAAAAI/AAAAAAAABJg/ObpsQzmf7hU/photo.jpg?sz=128", "display_name": "Ajay", "link": "https://stackoverflow.com/users/11672589/ajay"}, "edited": false, "score": 0, "creation_date": 1560976840, "post_id": 56675351, "comment_id": 99918341, "body": "Can you test to see if the component gets re-mounted upon redirecting? Maybe try console.log(&quot;test&quot;) inside componentDidMount() How does your dispatcher function look? @Ajay"}, {"owner": {"reputation": 31, "user_id": 11672589, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fGsEn7rY2zU/AAAAAAAAAAI/AAAAAAAABJg/ObpsQzmf7hU/photo.jpg?sz=128", "display_name": "Ajay", "link": "https://stackoverflow.com/users/11672589/ajay"}, "edited": false, "score": 0, "creation_date": 1560989380, "post_id": 56675351, "comment_id": 99921582, "body": "I threw a debugger in my componentDidMount() function and noticed that the current delete implementation (pushing &#39;/discover&#39;) did not hit that componentDidMount (nor the componentDidUpdate). Only upon refreshing did the debugger activate."}, {"owner": {"reputation": 13341, "user_id": 10030970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e57ef36f01ce7924715bdc240cebae?s=128&d=identicon&r=PG", "display_name": "Cool Guy", "link": "https://stackoverflow.com/users/10030970/cool-guy"}, "reply_to_user": {"reputation": 31, "user_id": 11672589, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fGsEn7rY2zU/AAAAAAAAAAI/AAAAAAAABJg/ObpsQzmf7hU/photo.jpg?sz=128", "display_name": "Ajay", "link": "https://stackoverflow.com/users/11672589/ajay"}, "edited": false, "score": 0, "creation_date": 1560990520, "post_id": 56675351, "comment_id": 99921787, "body": "Makes sense. @Ajay is the Discover component actually still on the screen during the time of song deletion? I think its kind of weird to go on another page/route just to delete a song yes?"}, {"owner": {"reputation": 31, "user_id": 11672589, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fGsEn7rY2zU/AAAAAAAAAAI/AAAAAAAABJg/ObpsQzmf7hU/photo.jpg?sz=128", "display_name": "Ajay", "link": "https://stackoverflow.com/users/11672589/ajay"}, "edited": false, "score": 1, "creation_date": 1560990914, "post_id": 56675351, "comment_id": 99921857, "body": "I&#39;m following SoundClouds structure where you get to delete the song from the specific song page where a modal pops up. Then you delete the song and it should bring you back to the discover page which has a bunch of songs (the index page essentially)"}, {"owner": {"reputation": 13341, "user_id": 10030970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e57ef36f01ce7924715bdc240cebae?s=128&d=identicon&r=PG", "display_name": "Cool Guy", "link": "https://stackoverflow.com/users/10030970/cool-guy"}, "reply_to_user": {"reputation": 31, "user_id": 11672589, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fGsEn7rY2zU/AAAAAAAAAAI/AAAAAAAABJg/ObpsQzmf7hU/photo.jpg?sz=128", "display_name": "Ajay", "link": "https://stackoverflow.com/users/11672589/ajay"}, "edited": false, "score": 0, "creation_date": 1560991647, "post_id": 56675351, "comment_id": 99921954, "body": "@Ajay darn I just created a SoundCloud account to try this out. But don&#39;t think I&#39;m seeing the same workflow :("}, {"owner": {"reputation": 13341, "user_id": 10030970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e57ef36f01ce7924715bdc240cebae?s=128&d=identicon&r=PG", "display_name": "Cool Guy", "link": "https://stackoverflow.com/users/10030970/cool-guy"}, "reply_to_user": {"reputation": 31, "user_id": 11672589, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fGsEn7rY2zU/AAAAAAAAAAI/AAAAAAAABJg/ObpsQzmf7hU/photo.jpg?sz=128", "display_name": "Ajay", "link": "https://stackoverflow.com/users/11672589/ajay"}, "edited": false, "score": 0, "creation_date": 1560992702, "post_id": 56675351, "comment_id": 99922101, "body": "@Ajay, just found something that might be useful to you. Let me know if that works."}, {"owner": {"reputation": 31, "user_id": 11672589, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fGsEn7rY2zU/AAAAAAAAAAI/AAAAAAAABJg/ObpsQzmf7hU/photo.jpg?sz=128", "display_name": "Ajay", "link": "https://stackoverflow.com/users/11672589/ajay"}, "edited": false, "score": 0, "creation_date": 1560993612, "post_id": 56675351, "comment_id": 99922261, "body": "Thanks for all your help, but still having issues. The this.props.history.push is not rendering the discover component, and not hitting either the componentDidMount or componentDidUpdate functions. The delete modal is appearing in the song show component (separate from discover), and then upon delete, is redirecting to the /discover which holds the song index component. If you&#39;re interested in the code, here&#39;s the repo: <a href=\"https://github.com/Ajay-Vishwanath/SoundCloud2/tree/master/frontend/components/song\" rel=\"nofollow noreferrer\">github.com/Ajay-Vishwanath/SoundCloud2/tree/master/frontend/&zwnj;&#8203;&hellip;</a>"}, {"owner": {"reputation": 13341, "user_id": 10030970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e57ef36f01ce7924715bdc240cebae?s=128&d=identicon&r=PG", "display_name": "Cool Guy", "link": "https://stackoverflow.com/users/10030970/cool-guy"}, "reply_to_user": {"reputation": 31, "user_id": 11672589, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fGsEn7rY2zU/AAAAAAAAAAI/AAAAAAAABJg/ObpsQzmf7hU/photo.jpg?sz=128", "display_name": "Ajay", "link": "https://stackoverflow.com/users/11672589/ajay"}, "edited": false, "score": 0, "creation_date": 1560993689, "post_id": 56675351, "comment_id": 99922275, "body": "Definitely, I&#39;ll take a look at this."}, {"owner": {"reputation": 31, "user_id": 11672589, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fGsEn7rY2zU/AAAAAAAAAAI/AAAAAAAABJg/ObpsQzmf7hU/photo.jpg?sz=128", "display_name": "Ajay", "link": "https://stackoverflow.com/users/11672589/ajay"}, "edited": false, "score": 1, "creation_date": 1560993952, "post_id": 56675351, "comment_id": 99922312, "body": "I actually just came up with a workaround. i threw a location.reload() after my this.props.history.location.push(&#39;/discover&#39;) and that was able to reload the page. Seems a little sketch and not designed perfectly, but it gets the job done."}], "tags": [], "owner": {"reputation": 13341, "user_id": 10030970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23e57ef36f01ce7924715bdc240cebae?s=128&d=identicon&r=PG", "display_name": "Cool Guy", "link": "https://stackoverflow.com/users/10030970/cool-guy"}, "is_accepted": false, "score": 0, "last_activity_date": 1560992675, "last_edit_date": 1560992675, "creation_date": 1560975912, "answer_id": 56675351, "question_id": 56675292, "link": "https://stackoverflow.com/questions/56675292/how-to-re-render-a-react-component-upon-re-direct/56675351#56675351", "title": "How to re-render a React Component Upon re-direct", "body": "<p>When your redirect to a new component/route, that component gets re-mounted to the screen. You should use <code>componentDidMount()</code> instead;</p>\n\n<h2>Discover Component:</h2>\n\n<pre><code>componentDidMount() { \n     this.props.fetchSongs(); \n}\n</code></pre>\n\n<h2>Edit ---</h2>\n\n<p>Just learned that your second page is actually a modal and that you execute your <code>action-creator</code>and redirect in there. In that case, the <code>Discover</code> component may have not actually unmount from the screen, hence why <code>componentDidMount()</code> does not execute. But <code>componentDidUpdate(</code>) should still work, let's refactor it a bit</p>\n\n<p>So in Discover Component, try something like:</p>\n\n<pre><code>componentDidUpdate(prevProps){\n    if(this.props.songsOrNameOfReducerKey !== prevProps.songsOrNameOfReducerKey){\n        this.props.fetchSongs()\n    }\n}\n</code></pre>\n\n<p><code>this.props.songsOrNameOfReducerKey</code> just refers to the redux-state that holds the updated list of songs - available as a prop in your component. We compare the updated list to our previous list, and if there is a difference, we execute your action-creator.\nMake sure you connected <code>redux</code> to your component via <code>mapStateToProps()</code> to get a hold of this state-value. Replace <code>songsOrNameOfReducerKey</code> with the key that you defined.</p>\n\n<p>When you delete the song from your list, it should give the Discover component, new props, thus triggering <code>componentDidUpdate()</code></p>\n"}], "owner": {"reputation": 31, "user_id": 11672589, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-fGsEn7rY2zU/AAAAAAAAAAI/AAAAAAAABJg/ObpsQzmf7hU/photo.jpg?sz=128", "display_name": "Ajay", "link": "https://stackoverflow.com/users/11672589/ajay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2124, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1560992675, "creation_date": 1560975700, "last_edit_date": 1560984406, "question_id": 56675292, "link": "https://stackoverflow.com/questions/56675292/how-to-re-render-a-react-component-upon-re-direct", "title": "How to re-render a React Component Upon re-direct", "body": "<p>I am creating a clone of SoundCloud, and when I delete a song from the song page, I want to re-direct to the song index component (the /discover page).</p>\n\n<p>I am able to successfully re-direct there upon deletion, but the index page appears empty until I refresh, whereupon the songs are fetched. I've tried using a ComponentDidUpdate on the index page to fetchSongs again when the history.location is different, but haven't had success. </p>\n\n<pre><code>//Song Delete Component\nhandleDelete() {\n    this.props.removeSong(this.props.songId)\n    this.props.history.push(\"/discover\");\n}\n\n//Song Index Component\ncomponentDidUpdate(prevProps) { \n    if (this.props.history.location.pathname !== \n        prevProps.location.pathname) {\n        this.props.fetchSongs(); \n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "canvas", "scrollbar", "p5.js"], "comments": [{"owner": {"reputation": 39281, "user_id": 873165, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zjzso.jpg?s=128&g=1", "display_name": "Kevin Workman", "link": "https://stackoverflow.com/users/873165/kevin-workman"}, "edited": false, "score": 0, "creation_date": 1560978784, "post_id": 56675188, "comment_id": 99919051, "body": "Can you please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that we can run ourselves?"}, {"owner": {"reputation": 195, "user_id": 11472946, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e8vpCEL5a-4/AAAAAAAAAAI/AAAAAAAAAAs/xxodI-34Dzo/photo.jpg?sz=128", "display_name": "Alex Laquerre", "link": "https://stackoverflow.com/users/11472946/alex-laquerre"}, "reply_to_user": {"reputation": 39281, "user_id": 873165, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Zjzso.jpg?s=128&g=1", "display_name": "Kevin Workman", "link": "https://stackoverflow.com/users/873165/kevin-workman"}, "edited": false, "score": 0, "creation_date": 1561041082, "post_id": 56675188, "comment_id": 99942004, "body": "@KevinWorkman I added a jsFiddle to my post"}], "answers": [{"tags": [], "owner": {"reputation": 15385, "user_id": 9276329, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MpGhl.jpg?s=128&g=1", "display_name": "Munim Munna", "link": "https://stackoverflow.com/users/9276329/munim-munna"}, "is_accepted": true, "score": 2, "last_activity_date": 1561397048, "creation_date": 1561397048, "answer_id": 56741304, "question_id": 56675188, "link": "https://stackoverflow.com/questions/56675188/p5-js-canvas-adds-unwanted-scrollbar/56741304#56741304", "title": "p5.js canvas adds unwanted scrollbar", "body": "<p>HTML canvas element is by default an inline element (<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Inline_elements#Elements\" rel=\"nofollow noreferrer\">list of inline elements</a>).\nSo even if you set it's height exactly same as it's parent it overflows because of line-spacing. To prevent it set canvas to a block level element in your SASS file.</p>\n\n<pre><code>#canvas\n    display: block;\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 11472946, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-e8vpCEL5a-4/AAAAAAAAAAI/AAAAAAAAAAs/xxodI-34Dzo/photo.jpg?sz=128", "display_name": "Alex Laquerre", "link": "https://stackoverflow.com/users/11472946/alex-laquerre"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 850, "favorite_count": 0, "accepted_answer_id": 56741304, "answer_count": 1, "score": 1, "last_activity_date": 1561397048, "creation_date": 1560975150, "last_edit_date": 1561041064, "question_id": 56675188, "link": "https://stackoverflow.com/questions/56675188/p5-js-canvas-adds-unwanted-scrollbar", "title": "p5.js canvas adds unwanted scrollbar", "body": "<p>I am creating a simple p5.js canvas using the values from it's parent like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Canvas properties\nvar $musicscape = $(\"#musicscape\");\n\n// p5.js functions\nfunction setup() {\n    var canvas = createCanvas(\n        $musicscape.outerWidth(),\n        $musicscape.outerHeight()) ;\n    canvas.id(\"canvas\")\n    canvas.parent($musicscape[0]);\n}\n</code></pre>\n\n<p>My <code>musicscape</code> element has the following sass properties and takes on the right size without creating any scrollbars.</p>\n\n<pre><code>#musicscape\n    position: absolute\n    right: 0\n    top: 0\n    width: 50vw\n    height: 100vh\n</code></pre>\n\n<p>Here is <a href=\"https://jsfiddle.net/5y9qhmos/1/\" rel=\"nofollow noreferrer\">a jsfiddle which shows the error</a>.</p>\n\n<p>However, when I add the canvas which has the exact size as my <code>html</code>, <code>body</code> and <code>#musicscape</code> elements, a vertical scrollbar is added. The only way to remove it is to set the canvas width to <code>$musicscape.outerHeight() - 3</code> which also creates a small white line at the bottom that isn't part of the canvas. <strong>How can I get rid of the vertical scrollbar while keeping the canvas to the size of its parent?</strong> I checked and there are no padding or margin anywhere on my page.</p>\n\n<p>I am testing on Chrome btw.</p>\n"}, {"tags": ["javascript", "css", "reactjs", "css-transitions"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9464895, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NMqQuj8e9-M/AAAAAAAAAAI/AAAAAAAAABE/ci41OVamUoM/photo.jpg?sz=128", "display_name": "atmhrt", "link": "https://stackoverflow.com/users/9464895/atmhrt"}, "edited": false, "score": 0, "creation_date": 1560976252, "post_id": 56675375, "comment_id": 99918120, "body": "But you&#39;ve also added a 1s timeout. It&#39;s not how I want it to work, and it&#39;s also a hack. Appreciate the help, though. :)"}, {"owner": {"reputation": 4252, "user_id": 3103891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mZxsu.jpg?s=128&g=1", "display_name": "GalAbra", "link": "https://stackoverflow.com/users/3103891/galabra"}, "reply_to_user": {"reputation": 1, "user_id": 9464895, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NMqQuj8e9-M/AAAAAAAAAAI/AAAAAAAAABE/ci41OVamUoM/photo.jpg?sz=128", "display_name": "atmhrt", "link": "https://stackoverflow.com/users/9464895/atmhrt"}, "edited": false, "score": 0, "creation_date": 1560976746, "post_id": 56675375, "comment_id": 99918305, "body": "@AtomHeart sorry for that. I innocently forgot to mention that :O  However why do you think using <code>setTimeout</code> is a hack? What other behaviour are you trying to achieve?"}, {"owner": {"reputation": 1, "user_id": 9464895, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NMqQuj8e9-M/AAAAAAAAAAI/AAAAAAAAABE/ci41OVamUoM/photo.jpg?sz=128", "display_name": "atmhrt", "link": "https://stackoverflow.com/users/9464895/atmhrt"}, "edited": false, "score": 0, "creation_date": 1560978135, "post_id": 56675375, "comment_id": 99918812, "body": "Go to my code sandbox and swap element of index 1 with an element of index 0 (in that order). That&#39;s the behavior I want to achieve. Then start with index 0, and swap for index 1 -- that&#39;s the problem, no transition after swap."}, {"owner": {"reputation": 1, "user_id": 9464895, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NMqQuj8e9-M/AAAAAAAAAAI/AAAAAAAAABE/ci41OVamUoM/photo.jpg?sz=128", "display_name": "atmhrt", "link": "https://stackoverflow.com/users/9464895/atmhrt"}, "edited": false, "score": 0, "creation_date": 1560978219, "post_id": 56675375, "comment_id": 99918841, "body": "It would be a hack if I used it to achieve the behavior I want, i.e. set it to 0ms."}], "tags": [], "owner": {"reputation": 4252, "user_id": 3103891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mZxsu.jpg?s=128&g=1", "display_name": "GalAbra", "link": "https://stackoverflow.com/users/3103891/galabra"}, "is_accepted": false, "score": 0, "last_activity_date": 1560977081, "last_edit_date": 1560977081, "creation_date": 1560976001, "answer_id": 56675375, "question_id": 56675081, "link": "https://stackoverflow.com/questions/56675081/react-transitions-are-cut-after-element-re-render-further-in-the-elements-array/56675375#56675375", "title": "React: Transitions are cut after element re-render further in the elements array", "body": "<p><a href=\"https://codesandbox.io/s/pedantic-sinoussi-k2bpp?fontsize=14\" rel=\"nofollow noreferrer\">I've made three changes in your code</a>, so upon swapping the highlighted box remains the same one, then turns off:</p>\n\n<ol>\n<li>Added the line <code>setSelected(index);</code> inside the swap function.</li>\n<li>Added a <code>setTimeout</code> in order to delay the colour change.</li>\n<li>Changed the <code>key</code> inside the <code>map</code> loop to the <code>index</code> value, as it must be unique and therefore it's just a better practice to use the index.</li>\n</ol>\n\n<pre><code>function App() {\n  const [list, setList] = useState([1, 2, 3]);\n  const [selected, setSelected] = useState(-1);\n\n  const select = index =&gt; {\n    setSelected(index);\n  };\n\n  const swap = index =&gt; {\n    const newList = [...list];\n    [newList[index], newList[selected]] = [newList[selected], newList[index]];\n    setList(newList);\n\n    // This was added in order to keep the highlight after swap.\n    // Note that it takes a second to take place\n    setSelected(index);\n\n    // And this was added in order to allow the colour to lighten,\n    // before returning to the original colour\n    setTimeout(() =&gt; setSelected(-1), 1000);\n  };\n\n  const onClick = selected &lt; 0 ? select : swap;\n\n  const items = list.map((value, index) =&gt; (\n    &lt;Item\n      key={index}\n      value={value}\n      selected={selected === index}\n      onClick={onClick.bind(this, index)}\n    /&gt;\n  ));\n\n  return &lt;div className=\"list\"&gt;{items}&lt;/div&gt;;\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9464895, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-NMqQuj8e9-M/AAAAAAAAAAI/AAAAAAAAABE/ci41OVamUoM/photo.jpg?sz=128", "display_name": "atmhrt", "link": "https://stackoverflow.com/users/9464895/atmhrt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 104, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560977081, "creation_date": 1560974597, "question_id": 56675081, "link": "https://stackoverflow.com/questions/56675081/react-transitions-are-cut-after-element-re-render-further-in-the-elements-array", "title": "React: Transitions are cut after element re-render further in the elements array", "body": "<p>While creating a swap list in React, I encountered a strange transition bug. The way the list works is simple: you click on an element (A), its background transitions to a lighter color, then on another (B), they swap places, and element A, now on a new position, transitions back to the original color.</p>\n\n<p>At least that's what's happens when element A has a higher index then element B. When it's the other way round, the transition after the swap is cut.</p>\n\n<p>I managed to find a workaround using <code>window.requestAnimationFrame</code>, but it's not perfect. The state of the transition isn't preserved, which means that it transitions back always from the full light color. It doesn't matter that much here, but it's an issue in my other project. Sometimes the transitions are also cut anyway.</p>\n\n<p>The code is simple. The thing to note is that elements preserve their keys after the swap. I created <a href=\"https://codesandbox.io/s/optimistic-shaw-o76zg\" rel=\"nofollow noreferrer\">a code sandbox</a> for you to play around.</p>\n\n<pre><code>import React, { useState } from \"react\";\n\nconst Item = props =&gt; {\n  let classes = \"item\";\n\n  if (props.selected) {\n    classes += \" selected\";\n  }\n\n  return (\n    &lt;div className={classes} onClick={props.onClick}&gt;\n      {props.value}\n    &lt;/div&gt;\n  );\n};\n\nconst App = () =&gt; {\n  const [list, setList] = useState([1, 2, 3]);\n  const [selected, setSelected] = useState(-1);\n\n  const select = index =&gt; {\n    setSelected(index);\n  };\n\n  const swap = index =&gt; {\n    const newList = [...list];\n    [newList[index], newList[selected]] = [newList[selected], newList[index]];\n    setList(newList);\n    setSelected(-1);\n  };\n\n  // The workaround that kind of works, but is not perfect.\n  // const swap = index =&gt; {\n  //   const newList = [...list];\n  //   [newList[index], newList[selected]] = [newList[selected], newList[index]];\n  //   setList(newList);\n\n  //   window.requestAnimationFrame(() =&gt; {\n  //     setSelected(index);\n  //     window.requestAnimationFrame(() =&gt; {\n  //       setSelected(-1);\n  //     });\n  //   });\n  // };\n\n  const onClick = selected &lt; 0 ? select : swap;\n\n  const items = list.map((value, index) =&gt; (\n    &lt;Item\n      key={value}\n      value={value}\n      selected={selected === index}\n      onClick={onClick.bind(this, index)}\n    /&gt;\n  ));\n\n  return &lt;div className=\"list\"&gt;{items}&lt;/div&gt;;\n}\n</code></pre>\n\n<p>Here are the key css rules:</p>\n\n<pre><code>.item {\n  background: #0b7189; // darker\n  transition: background-color 1s;\n}\n\n.item.selected {\n  background-color: #228cdb; //lighter\n}\n</code></pre>\n\n<p>I'm looking for a solution that is more reliable than my workaround.</p>\n\n<p>All help will be appreciated! :)</p>\n"}, {"tags": ["javascript", "jquery", "ember.js", "tabulator"], "comments": [{"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1561040410, "post_id": 56675077, "comment_id": 99941542, "body": "Please put working code here so that we can see what you are trying to do"}, {"owner": {"reputation": 151, "user_id": 4128499, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/31805cadfd147a492ff1e4bc129a36e9?s=128&d=identicon&r=PG&f=1", "display_name": "Murali krishna Konduru", "link": "https://stackoverflow.com/users/4128499/murali-krishna-konduru"}, "reply_to_user": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1561059062, "post_id": 56675077, "comment_id": 99950707, "body": "@dota2pro updated the query and descriptioon, your help is higly appreciated."}, {"owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "edited": false, "score": 0, "creation_date": 1561059633, "post_id": 56675077, "comment_id": 99950940, "body": "Please create working demo that shows Table like this <a href=\"https://jsfiddle.net/dota2pro/2b9jnLrx/\" rel=\"nofollow noreferrer\">jsfiddle.net/dota2pro/2b9jnLrx</a>"}, {"owner": {"reputation": 359, "user_id": 2023143, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hRgP9.jpg?s=128&g=1", "display_name": "clurect", "link": "https://stackoverflow.com/users/2023143/clurect"}, "edited": false, "score": 0, "creation_date": 1562071940, "post_id": 56675077, "comment_id": 100255860, "body": "You could use tabulator&#39;s tableBuilt attribute callback to know when it re-creates to know for sure it does when you populate the second column with data. See <a href=\"http://tabulator.info/docs/4.2/callbacks#table\" rel=\"nofollow noreferrer\">tabulator.info/docs/4.2/callbacks#table</a>"}], "owner": {"reputation": 151, "user_id": 4128499, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/31805cadfd147a492ff1e4bc129a36e9?s=128&d=identicon&r=PG&f=1", "display_name": "Murali krishna Konduru", "link": "https://stackoverflow.com/users/4128499/murali-krishna-konduru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 102, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1562126401, "creation_date": 1560974582, "last_edit_date": 1562126401, "question_id": 56675077, "link": "https://stackoverflow.com/questions/56675077/how-to-update-div-element-attribute-value-in-ember-js-and-tabulator", "title": "How to update div element attribute value in ember js and tabulator", "body": "<p>I am using tabulator api in ember js framework to display dynamic tables. where on tab focus is not moving from 1st column to 3rd column because 2nd column is disabled. To do this I am trying to update the second column tabindex attribute as \"-1\"(by defaule all columns it is zero). so that tab focus skip from second comumn and move to third column. I have used jquery to do this but it didn't work out.</p>\n\n<pre><code>table = new Tabulator(\"#sample-table\", {\n            data:self.get('tableData'),\n            selectable:true,\n            columns:self.get('tableColumnData'),\n            keybindings:true,            \n            cellEdited:function(cell){                              \n                var accnamecol = $(\"[tabulator-field=ACCNAME]\").tabindex=-1;   \n}\n</code></pre>\n\n<p>tabindex attribute need to modify in the below dom.</p>\n\n<p>Now I am able to update the attribute value in the div tab with jquery.\nThe actual problem I am facing with tabulator is, I have 4 columns in the row.\nAfter entering the value in first column, making ajax call and updating second column. Now after entering tab the cursor is moving back to the first column instead of third column.</p>\n\n<p>The below code is only partial, unable to copy whole code, it's too big.</p>\n\n<pre><code>            table = new Tabulator(\"#example-table\", {\n            data:self.get('tableData'),\n            selectable:1,\n            height:\"auto\",\n            columns:self.get('tableColumnData'),\n            keybindings:true,\n\n            cellEdited:function(cell){                  \n                self.cellBlur(cell, row,value, self.get(\"testData\"));\n            },\n        });        \n\n   },\n   cellBlur: function(cell, row, value, testData){\n        self.send('execute',value,id,row); \n        //table.scrollToColumn(cell.getField(), \"middle\", false);\n        //console.log(\"cell nav right1 \"+cell.getField())\n        //if(cell.getField() === \"NAME\"){\n        //cell.nav().right();\n        //self.get('table').navigateNext();\n        //}\n\n    },\n    actions: {\n     self.get('services').fetch(self.get('services').getModuleUrl('TEST'), 'controller/test', requestdto, 'POST').then(function (json) {\n                    if (json !== null &amp;&amp; json.data !== null) {\n        execute: function (value, eventId, fieldName) {                                                                                     \n\n                            self.get('table').updateRow(self.get('rowid'),tempObj);                         \n                        }   \n\n        }\n        }\n        },\n</code></pre>\n\n<p>I am using self.get('table').updateRow(self.get('rowid'),tempObj); to update second column data. I think table is re-creating after data populated to the second column.</p>\n\n<p>My requirement is, the cursor should move to third column.</p>\n"}, {"tags": ["javascript", "html", "polymer", "dom-repeat"], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 4366890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d3e9e8618b604e7db6e6a5ff42a5346?s=128&d=identicon&r=PG&f=1", "display_name": "Tipsi", "link": "https://stackoverflow.com/users/4366890/tipsi"}, "edited": false, "score": 0, "creation_date": 1561131887, "post_id": 56701452, "comment_id": 99976557, "body": "Thanks for the answer. And sorry I missed the &quot;tafels&quot; bit. I tried to change everything to an english word for it to be clearer for the viewers (probably should just leave the code as is in the future), but I missed that part. only &quot;e.model.item&quot; was actually the same and item there should&#39;ve been tafel as well. That fixed it. Your solution is probably better, though."}], "tags": [], "owner": {"reputation": 91, "user_id": 5902895, "user_type": "registered", "profile_image": "https://graph.facebook.com/1032730660102524/picture?type=large", "display_name": "Thomas Oomens", "link": "https://stackoverflow.com/users/5902895/thomas-oomens"}, "is_accepted": true, "score": 1, "last_activity_date": 1561112267, "creation_date": 1561112267, "answer_id": 56701452, "question_id": 56675033, "link": "https://stackoverflow.com/questions/56675033/in-polymer-how-do-i-make-a-list-of-elements-using-template-is-dom-repeat-wit/56701452#56701452", "title": "in Polymer how do I make a list of elements using &lt;template is=&quot;dom-repeat&quot;&gt; with values and a button to delete itself?", "body": "<p>You try to compare elements, which is generally not the best practice.\nTry deleting them based on a unique id/number, eg:</p>\n\n<pre><code>&lt;paper-button on-click=\"deleteItem\" unique-id=[[item.id]]&gt;delete&lt;/paper-button&gt;\n</code></pre>\n\n<pre><code>deleteItem(o) {\n    this.tafels = this.tafels.filter(function(e) {\n        return e.uniqueId !== o.currentElement.uniqueId;\n    });\n}\n</code></pre>\n\n<p>Next to that you appear to be using 'items' as input for your dom-repeat, while using 'tafels' when editing. These two should be the same.</p>\n"}], "owner": {"reputation": 314, "user_id": 4366890, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0d3e9e8618b604e7db6e6a5ff42a5346?s=128&d=identicon&r=PG&f=1", "display_name": "Tipsi", "link": "https://stackoverflow.com/users/4366890/tipsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 56701452, "answer_count": 1, "score": 0, "last_activity_date": 1561112267, "creation_date": 1560974375, "question_id": 56675033, "link": "https://stackoverflow.com/questions/56675033/in-polymer-how-do-i-make-a-list-of-elements-using-template-is-dom-repeat-wit", "title": "in Polymer how do I make a list of elements using &lt;template is=&quot;dom-repeat&quot;&gt; with values and a button to delete itself?", "body": "<p>I use  to display every object in an Array on a paper-card. But I also want to be able to have a paper-button next to every object that deletes the object from the Array once you press it. (This is all inside a custom element) I haven't been able to achieve this with the following code:</p>\n\n<p>my-element.js:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;template is=\"dom-repeat\" items=\"{{items}}\" as=\"item\"&gt;\n    &lt;paper-card&gt;\n        &lt;div&gt;Item [[item.number]]\n        &lt;paper-button on-click=\"deleteItem\"&gt;delete&lt;/paper-button&gt;&lt;/div&gt;\n    &lt;/paper-card&gt;\n&lt;/template&gt;\n</code></pre>\n\n<pre><code>deleteItem(o) {\n    const item = o.model.item;\n    this.tafels = this.tafels.filter(function(e) {\n        return e !== item;\n    });\n}\n</code></pre>\n\n<p>I've also tried using an anonymous inline function like this:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;template is=\"dom-repeat\" items=\"{{items}}\" as=\"item\"&gt;\n    &lt;paper-card&gt;\n        &lt;div&gt;Item [[item.number]]\n        &lt;paper-button on-click=\"(function(){console.log('deleted')})();\"&gt;delete&lt;/paper-button&gt;&lt;/div&gt;\n    &lt;/paper-card&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>But that didn't work either. Am I doing something wrong or are these not valid options to achieve what I'm looking for?</p>\n"}, {"tags": ["javascript", "react-native", "expo", "react-native-elements"], "answers": [{"tags": [], "owner": {"reputation": 80, "user_id": 8885198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6c0c06d8aaac4e281b15a7ce05f95f3a?s=128&d=identicon&r=PG", "display_name": "Anurag Bhagsain", "link": "https://stackoverflow.com/users/8885198/anurag-bhagsain"}, "is_accepted": false, "score": 3, "last_activity_date": 1560974866, "creation_date": 1560974866, "answer_id": 56675137, "question_id": 56674941, "link": "https://stackoverflow.com/questions/56674941/how-to-render-a-jsx-component-from-the-function-show-that-it-dispaly-on-screen/56675137#56675137", "title": "How to render a JSX component from the function show that it dispaly on screen", "body": "<p>Because you never called <code>this.modal</code>\nYou have to call it.\n<code>this.modal()</code>\nIt's a function that needs to be invoked.\nNo Problem it happens.\ud83d\ude01</p>\n"}, {"tags": [], "owner": {"reputation": 8132, "user_id": 8605960, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/manal.jpg?s=128&g=1", "display_name": "Asaf Aviv", "link": "https://stackoverflow.com/users/8605960/asaf-aviv"}, "is_accepted": false, "score": 1, "last_activity_date": 1560976204, "creation_date": 1560976204, "answer_id": 56675421, "question_id": 56674941, "link": "https://stackoverflow.com/questions/56674941/how-to-render-a-jsx-component-from-the-function-show-that-it-dispaly-on-screen/56675421#56675421", "title": "How to render a JSX component from the function show that it dispaly on screen", "body": "<p>First problem is that you dont execute the modal function.</p>\n\n<p>Second you invoke the function <code>onPress</code> and doesn't pass a reference to a function, wrap it inside an <code>arrow function</code> <code>onPress={() =&gt; this.setState({ isVisible: true })}</code></p>\n\n<p>I will suggest to extract the <code>Modal</code> to a new component and include it only when <code>state.isVisible</code> is <code>true</code></p>\n\n<pre><code>const Modal = () =&gt; &lt;h3&gt;Modal&lt;/h3&gt;;\n\nexport default class HomeScreen extends Component {\n  state = {\n    isVisible: false\n  }\n\n  render() {\n    return (\n      &lt;View&gt;\n        &lt;Button onPress={() =&gt; this.setState({ isVisible: true })}&gt;Click me&lt;/Button&gt;\n        {this.state.isVisible &amp;&amp; &lt;Modal /&gt;}\n      &lt;/View&gt;\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 348, "user_id": 11173295, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Z0-UixbOOHI/AAAAAAAAAAI/AAAAAAAAFFc/HuebSQC4yTI/photo.jpg?sz=128", "display_name": "Rajat Verma", "link": "https://stackoverflow.com/users/11173295/rajat-verma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1560976204, "creation_date": 1560973948, "question_id": 56674941, "link": "https://stackoverflow.com/questions/56674941/how-to-render-a-jsx-component-from-the-function-show-that-it-dispaly-on-screen", "title": "How to render a JSX component from the function show that it dispaly on screen", "body": "<p>How to render JSX component from function to show it in the Screen.</p>\n\n<p>This below is the code which is not rendering the function JSX component...</p>\n\n<pre><code>export default class HomeScreen extends Component{\n  state = {\n      isVisible:false\n  }\n  modal = ()=&gt;{\n    return(&lt;Text&gt;Hello world&lt;/Text&gt;);\n  }\n  render(){\n    return(\n        &lt;View&gt;\n          &lt;Button onPress={this.setState({isVisible:true})}&gt;Click me&lt;/Button&gt;\n          {this.state.isVisible?this.modal:null}\n        &lt;/View&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>And this Below code is working properly so i want to know what is error in first one.</p>\n\n<pre><code>export default class HomeScreen extends Component{\n  state = {\n      isVisible:false\n  }\n  modal = ()=&gt;{\n    return(&lt;Text&gt;Hello world&lt;/Text&gt;);\n  }\n  render(){\n    return(\n        &lt;View&gt;\n          &lt;Button onPress={this.setState({isVisible:true})}&gt;Click me&lt;/Button&gt;\n          {this.state.isVisible?&lt;Text&gt;Hello world&lt;/Text&gt;:null}\n        &lt;/View&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>So Please tell me the error in first one what is problem due to which hello world text is not rendering through the JSX component return from the function modal.</p>\n"}, {"tags": ["javascript", "html", "aframe"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 11595354, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8D5WWvNcWUg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdRjwXYbUggqnD66eErbEQgLAk96g/mo/photo.jpg?sz=128", "display_name": "Nick Karkut", "link": "https://stackoverflow.com/users/11595354/nick-karkut"}, "is_accepted": true, "score": 0, "last_activity_date": 1561123247, "creation_date": 1561123247, "answer_id": 56704305, "question_id": 56674806, "link": "https://stackoverflow.com/questions/56674806/how-to-make-script-that-plays-and-pauses-multiple-aframe-a-video-entities/56704305#56704305", "title": "How to make script that plays and pauses multiple aframe a-video entities", "body": "<p>Alright, so I managed to figure it out and am posting this answer, so maybe the next person could find himself an answer:</p>\n\n<pre><code>&lt;script&gt;\n      AFRAME.registerComponent('videohandler',{\n         schema: {\n            src: {type: 'string', default: ''}\n          },\n\n         init: function(){\n         let el = this.el;\n         let vid = document.querySelector(this.data.src);\n         let playing = false;\n         vid.pause();\n         el.addEventListener('click', function(){\n           if(!playing) {\n            vid.play();\n         } else {\n            vid.pause();\n         }\n         playing = !playing;\n         });\n        }\n      });&lt;/script&gt;\n</code></pre>\n\n<p>To run in HTML, you call it in an entity:</p>\n\n<pre><code>&lt;a-entity id=\"videoPlayer\" material=\"src: #my_vid\"  geometry=\"primitive: plane; height: 2; width: 3\" videohandler=\"src: #my_vid\"&gt;&lt;/a-entity&gt;\n</code></pre>\n\n<p>Cheers!</p>\n"}], "owner": {"reputation": 13, "user_id": 11595354, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-8D5WWvNcWUg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdRjwXYbUggqnD66eErbEQgLAk96g/mo/photo.jpg?sz=128", "display_name": "Nick Karkut", "link": "https://stackoverflow.com/users/11595354/nick-karkut"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 56704305, "answer_count": 1, "score": 0, "last_activity_date": 1561123247, "creation_date": 1560973393, "last_edit_date": 1561050445, "question_id": 56674806, "link": "https://stackoverflow.com/questions/56674806/how-to-make-script-that-plays-and-pauses-multiple-aframe-a-video-entities", "title": "How to make script that plays and pauses multiple aframe a-video entities", "body": "<p>I want to make a script that can control my videos based on if I click them. I click them, they play, and if they are playing, I click and they pause. </p>\n\n<p>The thing that is different in my example than in the other answers on stack overflow that I've used to run my code successfully below is that I want to have multiple videos, all controlled by separate clicking. I tried using a-video and class 'videos':\n<code>document.querySelector('a-video') // document.querySelector('.videos')</code>\nbut it still won't play. Here's all of my code which runs GREAT when there's one video:</p>\n\n<pre><code>      &lt;script&gt;\n      AFRAME.registerComponent('videohandler',{\n         init: function(){\n         let el = this.el;\n         let vid = document.querySelector('#my_vid');\n         let playing = false;\n         vid.pause();\n         el.addEventListener('click',function(){\n           if(!playing) {\n            vid.play();\n         } else {\n            vid.pause();\n         }\n         playing = !playing;\n         });\n        }\n      });&lt;/script&gt;\n</code></pre>\n\n<p>Beyond that, I have as an example:</p>\n\n<pre><code>&lt;a-plane material=\"shader: flat; src:#my_vid\" raycastable videohandler&gt;&lt;/a-plane&gt;\n</code></pre>\n\n<p>Thank you so much for your help!</p>\n"}, {"tags": ["javascript", "vue.js", "listobject"], "answers": [{"comments": [{"owner": {"reputation": 309, "user_id": 8169535, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3f1aacd748b735367723e822e334d0c2?s=128&d=identicon&r=PG&f=1", "display_name": "dlfjj", "link": "https://stackoverflow.com/users/8169535/dlfjj"}, "edited": false, "score": 0, "creation_date": 1560975001, "post_id": 56674943, "comment_id": 99917588, "body": "Hey, David, I try your example, it works great. But what i mean is changing just the &#39;healthy&#39; word into different style rather than the whole sentence."}, {"owner": {"reputation": 59704, "user_id": 635981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51763ff4e4c531c68326064bc13b84a6?s=128&d=identicon&r=PG", "display_name": "David Weldon", "link": "https://stackoverflow.com/users/635981/david-weldon"}, "reply_to_user": {"reputation": 309, "user_id": 8169535, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3f1aacd748b735367723e822e334d0c2?s=128&d=identicon&r=PG&f=1", "display_name": "dlfjj", "link": "https://stackoverflow.com/users/8169535/dlfjj"}, "edited": false, "score": 0, "creation_date": 1560979168, "post_id": 56674943, "comment_id": 99919173, "body": "Got it. I&#39;ve updated the answer. Give the new version a try and let me know."}], "tags": [], "owner": {"reputation": 59704, "user_id": 635981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51763ff4e4c531c68326064bc13b84a6?s=128&d=identicon&r=PG", "display_name": "David Weldon", "link": "https://stackoverflow.com/users/635981/david-weldon"}, "is_accepted": true, "score": 2, "last_activity_date": 1560979126, "last_edit_date": 1560979126, "creation_date": 1560973949, "answer_id": 56674943, "question_id": 56674732, "link": "https://stackoverflow.com/questions/56674732/style-part-of-the-text-within-a-list-object-in-vuejs/56674943#56674943", "title": "style part of the text within a list object in Vuejs", "body": "<p>Here's a working example using methods to split each message and determine if it should be highlighted:</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div class=\"container\"&gt;\n    &lt;div v-for=\"(value, name) in food\" :key=\"name\"&gt;\n      &lt;span v-for=\"(word, index) in words(value)\" :key=\"index\"&gt;\n        &lt;span v-if=\"isHealthy(word)\" class=\"healthy\"&gt;{{ word }} &lt;/span&gt;\n        &lt;span v-else&gt;{{ word }} &lt;/span&gt;\n      &lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  data() {\n    return {\n      food: { fish: 'It is great!', carrot: 'It is healthy!' },\n    };\n  },\n  methods: {\n    words(string) {\n      return string.split(/\\s+/);\n    },\n    isHealthy(string) {\n      return /healthy/i.test(string);\n    },\n  },\n};\n&lt;/script&gt;\n\n&lt;style scoped&gt;\n.healthy {\n  color: red;\n}\n&lt;/style&gt;\n</code></pre>\n\n<p>The above demonstrates a simple way to accomplish this - you may find corner cases where it fails. You could imagine a more complex version of <code>words</code> which extracts a list of sub-strings both with and without the word \"healthy\". That would produce a more shallow HTML structure.</p>\n"}, {"tags": [], "owner": {"reputation": 382, "user_id": 3676543, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h3omi.jpg?s=128&g=1", "display_name": "patonjo", "link": "https://stackoverflow.com/users/3676543/patonjo"}, "is_accepted": false, "score": 1, "last_activity_date": 1560977020, "creation_date": 1560977020, "answer_id": 56675562, "question_id": 56674732, "link": "https://stackoverflow.com/questions/56674732/style-part-of-the-text-within-a-list-object-in-vuejs/56675562#56675562", "title": "style part of the text within a list object in Vuejs", "body": "<p>I created CodePen example:</p>\n\n<p><a href=\"https://codepen.io/budiselic/pen/RzoMPo?editors=1111\" rel=\"nofollow noreferrer\">Codepen</a></p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"app\"&gt;\n  &lt;div&gt;\n    &lt;div v-for=\"(value, name) in food\" v-key=\"name\"&gt;\n      {{ name }}: &lt;span v-html=\"isHealthy(value)\"&gt;&lt;/span&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>.healthy {\n  color: green;\n  font-weight: 700;\n}\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>new Vue({\n  el: \"#app\",\n  data: () =&gt; ({\n    food: { fish: 'It is great!', carrot: 'It is healthy!' }\n  }),\n  methods: {\n    isHealthy(str) {\n      if(str.includes(\"healthy\")) {\n        return str.replace(\"healthy\", \"&lt;span class='healthy'&gt;healthy&lt;/span&gt;\");\n      }\n      return str;\n    }\n  }\n});\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 856, "user_id": 3688354, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e3a6c331a73d1a98317a521a2d270085?s=128&d=identicon&r=PG", "display_name": "wrahim", "link": "https://stackoverflow.com/users/3688354/wrahim"}, "is_accepted": false, "score": 2, "last_activity_date": 1560977429, "creation_date": 1560977429, "answer_id": 56675650, "question_id": 56674732, "link": "https://stackoverflow.com/questions/56674732/style-part-of-the-text-within-a-list-object-in-vuejs/56675650#56675650", "title": "style part of the text within a list object in Vuejs", "body": "<p>Essentially you need to add some kind of identifying class on the word \"healthy\".\nThis requires modifying the original <code>food</code> data. You can use <code>computed</code> to generate a new <code>highlightedFood</code> data, that replaces \"healthy\" with a <code>&lt;span class=\"highlight\"&gt;healthy&lt;/span&gt;</code>. You can simply style that however you want in the style tag.</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div id=\"app\"&gt;\n    &lt;div v-for=\"(item, index) in highlightedFood\" :key=\"index\"&gt;\n      &lt;div v-html=\"item\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  name: \"App\",\n  data() {\n    return {\n      food: [\n        { name: \"fish\", message: \"It is great!\" },\n        { name: \"carrot\", message: \"It is healthy!\" }\n      ]\n    };\n  },\n  computed: {\n    highlightedFood() {\n      return this.food.map(item =&gt; {\n        return {\n          name: item.name,\n          message: item.message.replace(\n            \"healthy\",\n            \"&lt;span class='highlight'&gt;healthy&lt;/span&gt;\"\n          )\n        };\n      });\n    }\n  }\n};\n&lt;/script&gt;\n\n&lt;style&gt;\n.highlight {\n  color: green;\n}\n&lt;/style&gt;\n\n</code></pre>\n\n<p>Note, if you use scoped CSS, you'll have to use the deep combinator:</p>\n\n<pre><code>&lt;style scoped&gt;\n#app &gt;&gt;&gt; .highlight {\n  color: green;\n}\n&lt;/style&gt;\n</code></pre>\n\n<p>More info on deep selectors: <a href=\"https://vue-loader.vuejs.org/guide/scoped-css.html#deep-selectors\" rel=\"nofollow noreferrer\">https://vue-loader.vuejs.org/guide/scoped-css.html#deep-selectors</a></p>\n"}], "owner": {"reputation": 309, "user_id": 8169535, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/3f1aacd748b735367723e822e334d0c2?s=128&d=identicon&r=PG&f=1", "display_name": "dlfjj", "link": "https://stackoverflow.com/users/8169535/dlfjj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1039, "favorite_count": 0, "accepted_answer_id": 56674943, "answer_count": 3, "score": 0, "last_activity_date": 1560979126, "creation_date": 1560973043, "last_edit_date": 1560977014, "question_id": 56674732, "link": "https://stackoverflow.com/questions/56674732/style-part-of-the-text-within-a-list-object-in-vuejs", "title": "style part of the text within a list object in Vuejs", "body": "<p>I try many way to style part of the data object using computed, watch, and method property in vuejs. I still have no clue what can I do to make just the \"healthy\" word within the 'It is healthy!' string into different style. </p>\n\n<pre><code>&lt;template&gt;\n   &lt;div='container'&gt;\n      &lt;div v-for=\"item in food\"&gt;\n        {{ item }}\n      &lt;/div&gt;\n   &lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\n  export default{\n   data(){\n     return{\n        food: [\n           { name: 'fish', message: 'It is great!'},\n           { name: 'carrot', message: 'It is healthy!'},\n        ],\n      }\n   }\n}\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 4252, "user_id": 3103891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mZxsu.jpg?s=128&g=1", "display_name": "GalAbra", "link": "https://stackoverflow.com/users/3103891/galabra"}, "edited": false, "score": 1, "creation_date": 1560972937, "post_id": 56674678, "comment_id": 99916747, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/41218108/image-flickering-issue-in-react-when-image-is-conditionally-rendered\">Image flickering issue in React when image is conditionally rendered</a>"}, {"owner": {"reputation": 28630, "user_id": 1291492, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f914cd02166793195d9d950503f8f739?s=128&d=identicon&r=PG", "display_name": "ControlAltDel", "link": "https://stackoverflow.com/users/1291492/controlaltdel"}, "edited": false, "score": 0, "creation_date": 1560973111, "post_id": 56674678, "comment_id": 99916816, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4258615/what-is-the-difference-between-jquerys-mouseout-and-mouseleave\" title=\"what is the difference between jquerys mouseout and mouseleave\">stackoverflow.com/questions/4258615/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 900, "user_id": 1394079, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6bd0a3baa595aac4b18cd9ddda013919?s=128&d=identicon&r=PG&f=1", "display_name": "codemon", "link": "https://stackoverflow.com/users/1394079/codemon"}, "edited": false, "score": 0, "creation_date": 1560973908, "post_id": 56674748, "comment_id": 99917166, "body": "Wow that worked, not on the icon, I just changed it on the parent div like I had it. If you could explain a bit why that works I can accept your answer."}], "tags": [], "owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "is_accepted": false, "score": 2, "last_activity_date": 1560973118, "creation_date": 1560973118, "answer_id": 56674748, "question_id": 56674678, "link": "https://stackoverflow.com/questions/56674678/hovering-over-nested-react-component-triggers-parent-component-onmouseout-and-in/56674748#56674748", "title": "Hovering over nested React component triggers parent component onMouseOut and infinite loop", "body": "<p>In the icon use <code>onMouseLeave</code> instead to prevent bubble to parent. Or <code>e.stopPropagation()</code></p>\n"}], "owner": {"reputation": 900, "user_id": 1394079, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/6bd0a3baa595aac4b18cd9ddda013919?s=128&d=identicon&r=PG&f=1", "display_name": "codemon", "link": "https://stackoverflow.com/users/1394079/codemon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 306, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560973118, "creation_date": 1560972786, "question_id": 56674678, "link": "https://stackoverflow.com/questions/56674678/hovering-over-nested-react-component-triggers-parent-component-onmouseout-and-in", "title": "Hovering over nested React component triggers parent component onMouseOut and infinite loop", "body": "<p>I have a React menu item that should surface a subcomponent on hover. When that subcomponent <code>info-icon</code> is hovered, a tooltip should pop open. which looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/TfPH9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TfPH9.png\" alt=\"enter image description here\"></a></p>\n\n<p>Here is the component:</p>\n\n<pre><code>const TestFunc = (props) =&gt; {\nconst { icon, label, data } = props;\nconst [hovering, setState] = useState(false);\n\nreturn (\n    &lt;div className=\"menu-item\" onMouseOver={() =&gt; setState(true)} onMouseOut={() =&gt; setState(false)}&gt;\n        &lt;div className=\"menu-item-element\"&gt;\n            &lt;div className=\"sub-menu-item-element\"&gt;{icon}&lt;/div&gt;\n            &lt;div className=\"sub-menu-item-element\"&gt;{label}&lt;/div&gt;\n        &lt;/div&gt;\n        {hovering ?\n            &lt;Tooltip\n                id=\"base\"\n                align=\"top\"\n                content={data.tooltipContent}\n                variant=\"learnMore\"\n                className=\"menu-item-element\"\n                position=\"overflowBoundaryElement\"\n            /&gt;\n            : null\n        }\n    &lt;/div&gt;\n);\n</code></pre>\n\n<p>But when I hover over the info icon, this triggers the <code>mouseOut</code> function then the icon disappears, which then triggers the <code>mouseOver</code> function and it just loops like that with the info icon flashing over and over.</p>\n\n<p>How do I fix this?</p>\n"}, {"tags": ["javascript", "arrays", "node.js", "reactjs", "es6-promise"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 10043756, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4j5hCSwvykU/AAAAAAAAAAI/AAAAAAAAAEo/XVQuv18Tn_w/photo.jpg?sz=128", "display_name": "Mandoxsy", "link": "https://stackoverflow.com/users/10043756/mandoxsy"}, "edited": false, "score": 0, "creation_date": 1560975471, "post_id": 56675022, "comment_id": 99917805, "body": "yeah Agree this will work for only tracks, but the element could be in any obj not only tracks. Thanks @erik"}, {"owner": {"reputation": 89, "user_id": 8200624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MnGz0GRQcMU/AAAAAAAAAAI/AAAAAAAADUo/OBeWLS-hq6A/photo.jpg?sz=128", "display_name": "Erik", "link": "https://stackoverflow.com/users/8200624/erik"}, "reply_to_user": {"reputation": 73, "user_id": 10043756, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4j5hCSwvykU/AAAAAAAAAAI/AAAAAAAAAEo/XVQuv18Tn_w/photo.jpg?sz=128", "display_name": "Mandoxsy", "link": "https://stackoverflow.com/users/10043756/mandoxsy"}, "edited": false, "score": 0, "creation_date": 1560976107, "post_id": 56675022, "comment_id": 99918052, "body": "In that case, you might want to look into a recursive solution.  Recursion is the only way I know of to exhaustively check each element of an object, as well as all deeply nested objects and arrays within it.  However, if each object you&#39;re checking is always going to have the same structure, you might get better performance by simply performing multiple checks, ie (obj.tracks.includes(x) || obj.types.includes(x))"}, {"owner": {"reputation": 73, "user_id": 10043756, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4j5hCSwvykU/AAAAAAAAAAI/AAAAAAAAAEo/XVQuv18Tn_w/photo.jpg?sz=128", "display_name": "Mandoxsy", "link": "https://stackoverflow.com/users/10043756/mandoxsy"}, "edited": false, "score": 0, "creation_date": 1560984947, "post_id": 56675022, "comment_id": 99920698, "body": "I end up doing this, performance wise is better Thanks @erik."}], "tags": [], "owner": {"reputation": 89, "user_id": 8200624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MnGz0GRQcMU/AAAAAAAAAAI/AAAAAAAADUo/OBeWLS-hq6A/photo.jpg?sz=128", "display_name": "Erik", "link": "https://stackoverflow.com/users/8200624/erik"}, "is_accepted": false, "score": 1, "last_activity_date": 1560974307, "creation_date": 1560974307, "answer_id": 56675022, "question_id": 56674662, "link": "https://stackoverflow.com/questions/56674662/filtering-an-array-of-objects-based-on-another-array-returning-new-array-javascr/56675022#56675022", "title": "filtering an array of objects based on another array returning new array javascript", "body": "<p>If you only care about the tracks array, you could do something like this:</p>\n\n<pre><code>ArrayOne.filter((obj) =&gt; arrayTwo.some(x =&gt; obj.tracks.includes(x)));\n</code></pre>\n\n<p>.some() returns true if arrayTwo contains some element x such that obj.tracks has a matching element.</p>\n"}], "owner": {"reputation": 73, "user_id": 10043756, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4j5hCSwvykU/AAAAAAAAAAI/AAAAAAAAAEo/XVQuv18Tn_w/photo.jpg?sz=128", "display_name": "Mandoxsy", "link": "https://stackoverflow.com/users/10043756/mandoxsy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560974307, "creation_date": 1560972695, "question_id": 56674662, "link": "https://stackoverflow.com/questions/56674662/filtering-an-array-of-objects-based-on-another-array-returning-new-array-javascr", "title": "filtering an array of objects based on another array returning new array javascript", "body": "<p>I have an array of object, which we can call arrayOne and want to check with arrayTwo if it contain any string that match with ArrayOne, and it will return new array with matching array. What is the best approach I can do using ES6 ? </p>\n\n<p>Example : </p>\n\n<pre><code>ArrayOne =    [  \n       {  \n          \"sessionId\":1,\n          \"name\":\"session name 1\",\n          \"types\":[  \n             \"type1\",\n             \"type 2\"\n          ],\n          \"tracks\":[  \n             \"track1\",\n             \"track 2\"\n          ]\n       },\n       {  \n          \"sessionId\":2,\n          \"name\":\"session name 2\",\n          \"types\":[  \n             \"track 3\",\n             \"type 2\"\n          ],\n          \"tracks\":[  \n             \"track 3\",\n             \"track 2\"\n          ]\n       }\n    ]\n\n\narrayTwo = [\"track 3\"] // or it can be [\"track&amp;3\", \"Type 2\"] which it will return both array\n</code></pre>\n\n<p>return </p>\n\n<pre><code>newArray =  [ {  \n      \"sessionId\":2,\n      \"name\":\"session name 2\",\n      \"types\":[  \n         \"track 3\",\n         \"type 2\"\n      ],\n      \"tracks\":[  \n         \"track 3\",\n         \"track 2\"\n      ]\n   }]\n</code></pre>\n\n<p>I tried the following : </p>\n\n<pre><code>arrayOne.filter((obj) =&gt; {\n                Object.keys(obj).forEach((key) =&gt; {\n                    if (obj[key].toString().indexOf(arrayTwo) !== -1) {\n                        this.setState({\n                            newArray: [obj]\n                        })\n                    }\n                });\n            });\n</code></pre>\n"}, {"tags": ["javascript", "html"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11663978, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Sqh3czVoeEw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfoDrYw2h_xqCaHqY8VZr1wLSfjRQ/mo/photo.jpg?sz=128", "display_name": "Jan Marchewka", "link": "https://stackoverflow.com/users/11663978/jan-marchewka"}, "edited": false, "score": 0, "creation_date": 1560987413, "post_id": 56674825, "comment_id": 99921218, "body": "How can I check if a scrollbar has been used?"}, {"owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "reply_to_user": {"reputation": 1, "user_id": 11663978, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Sqh3czVoeEw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfoDrYw2h_xqCaHqY8VZr1wLSfjRQ/mo/photo.jpg?sz=128", "display_name": "Jan Marchewka", "link": "https://stackoverflow.com/users/11663978/jan-marchewka"}, "edited": false, "score": 0, "creation_date": 1561039035, "post_id": 56674825, "comment_id": 99940629, "body": "you could compare the 2 coordinates"}, {"owner": {"reputation": 1, "user_id": 11663978, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Sqh3czVoeEw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfoDrYw2h_xqCaHqY8VZr1wLSfjRQ/mo/photo.jpg?sz=128", "display_name": "Jan Marchewka", "link": "https://stackoverflow.com/users/11663978/jan-marchewka"}, "edited": false, "score": 0, "creation_date": 1561145192, "post_id": 56674825, "comment_id": 99982074, "body": "why is undefined?"}], "tags": [], "owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "is_accepted": false, "score": 0, "last_activity_date": 1560973483, "creation_date": 1560973483, "answer_id": 56674825, "question_id": 56674625, "link": "https://stackoverflow.com/questions/56674625/why-offsettop-and-offsetleft-not-working/56674825#56674825", "title": "Why OffsetTop and offsetLeft not working?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let canvas = document.querySelector('canvas');\r\nlet topCanvas = canvas.offsetTop;\r\nlet leftCanvas = canvas.offsetLeft;\r\ncanvas.addEventListener('click', e =&gt; {\r\n  console.log('not considering scroll position');\r\n  console.log(\"  x=\" + (e.clientX - leftCanvas));\r\n  console.log(\"  y=\" + (e.clientY - topCanvas));\r\n  console.log('considering scroll position');\r\n  console.log(\"  x=\" + e.layerX);\r\n  console.log(\"  y=\" + e.layerY);\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\r\n  border: 1px solid;\r\n  max-height: 300px;\r\n  overflow: auto;\r\n}\r\n\r\ncanvas {\r\n  border: 1px solid;\r\n  width: 500px;\r\n  height: 1000px;\r\n  margin-left: 30px;\r\n  margin-top: 30px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\r\n  &lt;canvas&gt;&lt;/canvas&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 11663978, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Sqh3czVoeEw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfoDrYw2h_xqCaHqY8VZr1wLSfjRQ/mo/photo.jpg?sz=128", "display_name": "Jan Marchewka", "link": "https://stackoverflow.com/users/11663978/jan-marchewka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 217, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1561144366, "creation_date": 1560972507, "last_edit_date": 1560972709, "question_id": 56674625, "link": "https://stackoverflow.com/questions/56674625/why-offsettop-and-offsetleft-not-working", "title": "Why OffsetTop and offsetLeft not working?", "body": "<p>I have my canvas and when I click I get X and Y, e.g. x=10 y=10, and when I use scrollbar drop and click in the same position I will get x= not 10 and y=not 10. Why?</p>\n\n<pre><code>    &lt;canvas&gt;&lt;/canvas&gt;\n    &lt;script&gt;\n    var canvas = document.querySelector('canvas');\n    var ctx = canvas.getContext('2d');\n        topCanvas = canvas.offsetTop;\n        leftCanvas = canvas.offsetLeft;\n    function click(e)\n    {\n    console.log(\"x=\"+(e.clientX-leftCanvas));\n    console.log(\"y=\"+(e.clientY-topCanvas));\n    }\n    &lt;/script&gt;\n</code></pre>\n\n<p>Why scrollbar not helping..</p>\n"}, {"tags": ["javascript", "arrays", "date"], "comments": [{"owner": {"reputation": 2607, "user_id": 11417877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1930e387dc37d52d55d2dc084d8ed1d5?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick K", "link": "https://stackoverflow.com/users/11417877/yannick-k"}, "edited": false, "score": 0, "creation_date": 1560972433, "post_id": 56674566, "comment_id": 99916552, "body": "Do you mean that you want the array to only include dates that are 1 day apart from the next?"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1560972518, "post_id": 56674566, "comment_id": 99916584, "body": "what if you have holes in the data?"}, {"owner": {"reputation": 145, "user_id": 9304693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f607398fb56e074e0013cef100e87091?s=128&d=identicon&r=PG&f=1", "display_name": "aphex", "link": "https://stackoverflow.com/users/9304693/aphex"}, "edited": false, "score": 0, "creation_date": 1560972580, "post_id": 56674566, "comment_id": 99916609, "body": "yes only dates that are 1 day apart from next. exactly."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1560973125, "post_id": 56674566, "comment_id": 99916825, "body": "please add some more use cases."}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1560973528, "post_id": 56674566, "comment_id": 99916994, "body": "Yea, as @NinaScholz says, what you expect to get from this input: <code>[&quot;19-June-2019&quot;, &quot;18-June-2019&quot;, &quot;17-June-2019&quot;, &quot;16-June-2019&quot;, &quot;14-June-2019&quot;, &quot;10-June-2019&quot;, &quot;09-June-2019&quot;]</code> for example... Will strings <code>10-June-2019 and 09-June-2019</code> be included on the final array?"}, {"owner": {"reputation": 145, "user_id": 9304693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f607398fb56e074e0013cef100e87091?s=128&d=identicon&r=PG&f=1", "display_name": "aphex", "link": "https://stackoverflow.com/users/9304693/aphex"}, "edited": false, "score": 0, "creation_date": 1560973567, "post_id": 56674566, "comment_id": 99917012, "body": "[&quot;19-June-2019&quot;, &quot;18-June-2019&quot;, &quot;17-June-2019&quot;, &quot;16-June-2019&quot;] this I expect."}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1560976727, "post_id": 56674566, "comment_id": 99918297, "body": "date-fns does not have its own parser, which is a large failing for a javascript date library. Also, the <i>isAfter</i> function just tells you if one date is after another, it doesn&#39;t tell you that it is exactly one day after or not."}], "answers": [{"comments": [{"owner": {"reputation": 145, "user_id": 9304693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f607398fb56e074e0013cef100e87091?s=128&d=identicon&r=PG&f=1", "display_name": "aphex", "link": "https://stackoverflow.com/users/9304693/aphex"}, "edited": false, "score": 0, "creation_date": 1560972642, "post_id": 56674630, "comment_id": 99916632, "body": "I know that. That is why I am asking here how to solve this issue."}, {"owner": {"reputation": 89, "user_id": 8200624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MnGz0GRQcMU/AAAAAAAAAAI/AAAAAAAADUo/OBeWLS-hq6A/photo.jpg?sz=128", "display_name": "Erik", "link": "https://stackoverflow.com/users/8200624/erik"}, "reply_to_user": {"reputation": 145, "user_id": 9304693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f607398fb56e074e0013cef100e87091?s=128&d=identicon&r=PG&f=1", "display_name": "aphex", "link": "https://stackoverflow.com/users/9304693/aphex"}, "edited": false, "score": 0, "creation_date": 1560973144, "post_id": 56674630, "comment_id": 99916834, "body": "Sorry, I wasn&#39;t sure exactly what you were asking.  You could add a check for arr[i+1] being undefined, and if it is, instead compare arr[i] to arr[i-1].  There are many ways to do this, but this is a quick and dirty fix."}], "tags": [], "owner": {"reputation": 89, "user_id": 8200624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MnGz0GRQcMU/AAAAAAAAAAI/AAAAAAAADUo/OBeWLS-hq6A/photo.jpg?sz=128", "display_name": "Erik", "link": "https://stackoverflow.com/users/8200624/erik"}, "is_accepted": false, "score": 0, "last_activity_date": 1560972544, "creation_date": 1560972544, "answer_id": 56674630, "question_id": 56674566, "link": "https://stackoverflow.com/questions/56674566/how-to-generate-specific-array-of-strings/56674630#56674630", "title": "How to generate specific array of strings?", "body": "<pre><code>if (isAfter(new Date(arr[i]), new Date(arr[i + 1]))) {\n  numberOfDaysInRowArr.push(arr[i]);\n}\n</code></pre>\n\n<p>If arr[i] is the last element in the array, arr[i+1] will be undefined, and nothing will be pushed to numberOfDaysInRowArr.</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 2, "last_activity_date": 1560976912, "last_edit_date": 1560976912, "creation_date": 1560972845, "answer_id": 56674688, "question_id": 56674566, "link": "https://stackoverflow.com/questions/56674566/how-to-generate-specific-array-of-strings/56674688#56674688", "title": "How to generate specific array of strings?", "body": "<p>You could treat the first element outside of the loop and take only the next element.</p>\n\n<pre><code>function numberOfDaysInRow(arr) {\n    if (arr.length === 1) return arr;\n    let numberOfDaysInRowArr = [];\n\n    if (isAfter(new Date(arr[0]), new Date(arr[1]))) {\n        numberOfDaysInRowArr.push(arr[0]);\n    }\n\n    for (let i = 0; i &lt; arr.length; i++) {\n        if (isAfter(new Date(arr[i]), new Date(arr[i + 1]))) {\n            numberOfDaysInRowArr.push(arr[i + 1]);\n        }\n    }\n    return numberOfDaysInRowArr;\n}\n</code></pre>\n\n<p>An abstract approach by using a <code>state</code> variable with the following values:</p>\n\n<ul>\n<li><code>0</code>: initial value or no following date found</li>\n<li><code>1</code>: following date found</li>\n<li><code>2</code>: sequence end</li>\n</ul>\n\n<p>This approach takes integer values instead of date the order is ascending instead of descending.</p>\n\n<p>It takes only the first found contiguous data set.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [1, 3, 5, 7, 8, 9, 10, 12, 14],\r\n    state = 0,\r\n    result = array.filter((v, i, { [i - 1]: prev, [i + 1]: next }) =&gt; {\r\n        switch (state) {\r\n            case 0:\r\n                if (v + 1 === next) {\r\n                    state = 1;\r\n                    return true;\r\n                }\r\n                break;\r\n            case 1:\r\n                if (prev + 1 === v) return true;\r\n                state = 3;\r\n                break\r\n        }\r\n    });\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 441, "user_id": 11657368, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9j_MN4QftLk/AAAAAAAAAAI/AAAAAAAAAEM/R_E4N80VH2o/photo.jpg?sz=128", "display_name": "George Wang", "link": "https://stackoverflow.com/users/11657368/george-wang"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1560976868, "post_id": 56674731, "comment_id": 99918346, "body": "@RobG, thanks for your comment. But <code>isAfter</code> is not the point of my answer. <code>isAfter</code> function is already defined and used for @aphex who posted this question. I made <code>isAfter</code> myself to show @aphex to get the idea out of <code>isAfter</code> function."}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1560990855, "post_id": 56674731, "comment_id": 99921844, "body": "The OP&#39;s use of date-fns&#39; <a href=\"https://date-fns.org/v1.30.1/docs/isAfter\" rel=\"nofollow noreferrer\"><i>isAfter</i></a> is also an issue that should be highlighted as it doesn&#39;t do what the OP needs."}, {"owner": {"reputation": 145, "user_id": 9304693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f607398fb56e074e0013cef100e87091?s=128&d=identicon&r=PG&f=1", "display_name": "aphex", "link": "https://stackoverflow.com/users/9304693/aphex"}, "edited": false, "score": 0, "creation_date": 1561036527, "post_id": 56674731, "comment_id": 99939167, "body": "Thanks to both of you and thanks for clarification about isAfter function."}], "tags": [], "owner": {"reputation": 441, "user_id": 11657368, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-9j_MN4QftLk/AAAAAAAAAAI/AAAAAAAAAEM/R_E4N80VH2o/photo.jpg?sz=128", "display_name": "George Wang", "link": "https://stackoverflow.com/users/11657368/george-wang"}, "is_accepted": true, "score": 2, "last_activity_date": 1561063170, "last_edit_date": 1561063170, "creation_date": 1560973037, "answer_id": 56674731, "question_id": 56674566, "link": "https://stackoverflow.com/questions/56674566/how-to-generate-specific-array-of-strings/56674731#56674731", "title": "How to generate specific array of strings?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const dates = [\"19-June-2019\", \"18-June-2019\", \"17-June-2019\", \"16-June-2019\", \"14-June-2019\"]\r\nconst datesInRow = [\"19-June-2019\", \"18-June-2019\", \"17-June-2019\", \"16-June-2019\"]\r\nconst datesBroken = [\"19-June-2019\", \"18-June-2019\", \"17-June-2019\", \"16-June-2019\", \"10-June-2019\", \"09-June-2019\", \"08-June-2019\"]\r\n\r\nfunction isAfter(date1, date2) {\r\n  return (date1.getTime() - date2.getTime()) == 86400000;\r\n}\r\n\r\nfunction numberOfDaysInRow(arr) {\r\n  if (arr.length === 1) return arr;\r\n  let numberOfDaysInRowArr = [arr[0]];\r\n  for (let i = 0; i &lt; arr.length - 1; i++) {\r\n    if (isAfter(new Date(arr[i]), new Date(arr[i + 1]))) {\r\n      numberOfDaysInRowArr.push(arr[i + 1]);\r\n    } else {\r\n      i = arr.length - 1;\r\n    }\r\n  }\r\n  return numberOfDaysInRowArr;\r\n}\r\n\r\nconsole.log(numberOfDaysInRow(dates))\r\nconsole.log(numberOfDaysInRow(datesInRow))\r\nconsole.log(numberOfDaysInRow(datesBroken))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You should initialize <code>numberOfDaysInRowArr</code> with <code>[arr[0]]</code>.</p>\n\n<p>And loop i until <code>arr.length - 1</code>.</p>\n\n<p>Also, push <code>arr[i + 1]</code> instead of <code>arr[i]</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 145, "user_id": 9304693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f607398fb56e074e0013cef100e87091?s=128&d=identicon&r=PG&f=1", "display_name": "aphex", "link": "https://stackoverflow.com/users/9304693/aphex"}, "edited": false, "score": 0, "creation_date": 1560973744, "post_id": 56674847, "comment_id": 99917084, "body": "This is very interest but at first it is really hard to read what is happening inside this function. It solves the problem :)"}, {"owner": {"reputation": 19920, "user_id": 1383168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atB67.png?s=128&g=1", "display_name": "Slai", "link": "https://stackoverflow.com/users/1383168/slai"}, "reply_to_user": {"reputation": 145, "user_id": 9304693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f607398fb56e074e0013cef100e87091?s=128&d=identicon&r=PG&f=1", "display_name": "aphex", "link": "https://stackoverflow.com/users/9304693/aphex"}, "edited": false, "score": 0, "creation_date": 1560974530, "post_id": 56674847, "comment_id": 99917413, "body": "@aphex I updated for cases when the first date is not a day apart. It checks if the difference with the previous or next date is a day apart, and <code>864e5</code> is the milliseconds in a day"}], "tags": [], "owner": {"reputation": 19920, "user_id": 1383168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atB67.png?s=128&g=1", "display_name": "Slai", "link": "https://stackoverflow.com/users/1383168/slai"}, "is_accepted": false, "score": 1, "last_activity_date": 1560981962, "last_edit_date": 1560981962, "creation_date": 1560973591, "answer_id": 56674847, "question_id": 56674566, "link": "https://stackoverflow.com/questions/56674566/how-to-generate-specific-array-of-strings/56674847#56674847", "title": "How to generate specific array of strings?", "body": "<p>Each date can be compared with the previous and next date to check if they are a day apart :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const dates = [\"6-June-2019\", \"4-June-2019\", \"3-June-2019\", \"1-June-2019\"]\r\n\r\nconst filtered = dates.filter((v, i, a) =&gt; new Date(v) - new Date(a[i - 1]) &gt; -1e8\r\n                                        || new Date(v) - new Date(a[i + 1]) &lt;  1e8 )\r\n\r\nconsole.log( filtered )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>To handle multiple groups and get the largest one of them :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const dates = [\"23-June-2019\", \"22-June-2019\", \r\n               \"13-June-2019\", \"12-June-2019\", \"11-June-2019\", \r\n                                \"2-June-2019\",  \"1-June-2019\"];\r\n\r\nlet start = 0, maxCount = 0;\r\n\r\nfor (let count = 1, i = dates.length - 1; i &gt;= 0; i--, count++) {\r\n  if (i &lt; 1 || new Date(dates[i - 1]) - new Date(dates[i]) &gt; 1e8) {\r\n    if (count &gt; maxCount) {\r\n      start = i; \r\n      maxCount = count;\r\n    }\r\n    count = 0; \r\n  }\r\n}\r\n\r\nconsole.log( dates.slice(start, start + maxCount) );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>To find the first group :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const dates = [\"23-June-2019\", \r\n               \"13-June-2019\", \"12-June-2019\", \r\n                \"3-June-2019\",  \"2-June-2019\",  \"1-June-2019\"];\r\n\r\nconst start = dates.findIndex((v, i, a) =&gt; new Date(v) - new Date(a[++i]) &lt; 1e8);\r\nconst end = dates.findIndex((v, i, a) =&gt; i &gt; start &amp;&amp; new Date(v) - new Date(a[++i]) &gt; 1e8);\r\n\r\nconsole.log( dates.slice(start, end + 1) );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 823, "user_id": 1886425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BrQHH.png?s=128&g=1", "display_name": "sminutoli", "link": "https://stackoverflow.com/users/1886425/sminutoli"}, "is_accepted": false, "score": 1, "last_activity_date": 1560973628, "creation_date": 1560973628, "answer_id": 56674853, "question_id": 56674566, "link": "https://stackoverflow.com/questions/56674566/how-to-generate-specific-array-of-strings/56674853#56674853", "title": "How to generate specific array of strings?", "body": "<p>You can check if is your last element...</p>\n\n<pre><code>function numberOfDaysInRow(arr) {\n  if (arr.length === 1) return arr;\n  let numberOfDaysInRowArr = [];\n  for (let i = 0; i &lt; arr.length; i++) {\n    const isTheLastElement = i === arr.length - 1;\n    const isAfterNext = () =&gt; isAfter(new Date(arr[i]), new Date(arr[i + 1])); \n    if (isTheLastElement || isAfterNext()) {\n      numberOfDaysInRowArr.push(arr[i]);\n    }\n  }\n  return numberOfDaysInRowArr;\n}\n</code></pre>\n\n<p>Now, if you extract the condition (a predicate), you can use <code>filter</code> to write a cleaner version...</p>\n\n<pre><code>function isLastElementOrAfterNext(string, index, stringList) {\n   return index === stringList.length - 1 || isAfter(new Date(string), new Date(stringList[index + 1];\n}\nfunction numberOfDaysInRow(arr) {\n   return arr.filter(isLastElementOrAfterNext);\n}\n</code></pre>\n\n<p>You can improve this example using <code>map</code> at first, to convert the strings in Dates...</p>\n\n<pre><code>function stringToDate(string) {\n   return new Date(string);\n}\nfunction isLastElementOrAfterNext(date, index, dateList) {\n   return index === dateList.length - 1 || isAfter(date, dateList[index + 1];\n}\nfunction numberOfDaysInRow(arr) {\n   return arr.map(stringToDate).filter(isLastElementOrAfterNext);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 145, "user_id": 9304693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f607398fb56e074e0013cef100e87091?s=128&d=identicon&r=PG&f=1", "display_name": "aphex", "link": "https://stackoverflow.com/users/9304693/aphex"}, "edited": false, "score": 0, "creation_date": 1561036639, "post_id": 56677888, "comment_id": 99939233, "body": "Thank you for you explanation. I really appreciate."}], "tags": [], "owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "is_accepted": false, "score": 1, "last_activity_date": 1561075647, "last_edit_date": 1561075647, "creation_date": 1560994465, "answer_id": 56677888, "question_id": 56674566, "link": "https://stackoverflow.com/questions/56674566/how-to-generate-specific-array-of-strings/56677888#56677888", "title": "How to generate specific array of strings?", "body": "<p>You should not use the built\u2013in parser for the timestamps as the format DD-MMM-YYYY is not supported by ECMA-262. Also, the date-fns <a href=\"https://date-fns.org/v1.30.1/docs/isAfter\" rel=\"nofollow noreferrer\"><em>isAfter</em></a> function just tells you if the first date is after the second, it doesn't tell you by how much. A more appropriate function would be <a href=\"https://date-fns.org/v1.30.1/docs/differenceInDays\" rel=\"nofollow noreferrer\"><em>differenceInDays</em></a>.</p>\n\n<p>date-fns doesn't have its own parser, it uses the built-in parser so I'd suggest using a different library. Parsers have been covered many times in other questions but a parser for the OP format isn't difficult.</p>\n\n<p>So just start with the first date and stop when you either get to the end of the array, or get a date that is more than one day before the previous date, e.g.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Parser for format DD-MMM-YYYY\r\n// Does not validate date\r\nfunction parseDMY(s) {\r\n  let months = 'jan feb mar apr may jun jul aug sep oct nov dec'.split(' ');\r\n  let b = s.split('-');\r\n  return new Date(b[2], months.indexOf(b[1].toLowerCase().substr(0,3)), b[0]);\r\n}\r\n\r\n// Return true if d1 is the day before d0\r\n// where d0, d1 are Dates\r\nfunction isPreviousDay(d0, d1) {\r\n  // Copy dates and set to 00:00:00\r\n  let t0 = new Date(d0);\r\n  t0.setHours(0,0,0,0);\r\n  let t1 = new Date(d1);\r\n  t1.setHours(0,0,0,0);\r\n  // Set t0 to previous day\r\n  t0.setDate(t0.getDate() - 1);\r\n  // See if they now have the same time value\r\n  return t0.getTime() == t1.getTime();\r\n}\r\n\r\nfunction getContiguous(dates) {\r\n  // Get timestamps as array of Dates\r\n  let arr = dates.map(parseDMY);\r\n  // Result starts with first timestamp\r\n  let result = [dates[0]];\r\n  // Stop comparing at second last date\r\n  let len = dates.length - 2\r\n  let i = 0;\r\n\r\n  // While each date is the day before the current date,\r\n  // add its timestamp to the result array\r\n  while (i&lt;len &amp;&amp; isPreviousDay(arr[i], arr[i+1])) {\r\n    result.push(dates[i+1]);\r\n    i++;\r\n  }\r\n  return result;\r\n}\r\n\r\nlet dates = [\"19-June-2019\", \"18-June-2019\", \"17-June-2019\", \"16-June-2019\", \"14-June-2019\"];\r\n\r\nconsole.log(getContiguous(dates));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/date-fns/1.30.1/date_fns.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I attached the date-fns library but it didn't seem to load correctly, so I wrote a bespoke <em>isPreviousDay</em> function.</p>\n"}], "owner": {"reputation": 145, "user_id": 9304693, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f607398fb56e074e0013cef100e87091?s=128&d=identicon&r=PG&f=1", "display_name": "aphex", "link": "https://stackoverflow.com/users/9304693/aphex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "accepted_answer_id": 56674731, "answer_count": 6, "score": 2, "last_activity_date": 1561075647, "creation_date": 1560972236, "last_edit_date": 1560978218, "question_id": 56674566, "link": "https://stackoverflow.com/questions/56674566/how-to-generate-specific-array-of-strings", "title": "How to generate specific array of strings?", "body": "<p>I have the following problem. I have an array:</p>\n\n<pre><code>const dates = [\"19-June-2019\", \"18-June-2019\", \"17-June-2019\", \"16-June-2019\", \"14-June-2019\"]\n</code></pre>\n\n<p>I need to generate an array of date that are after I mean dates in row.\nSo:</p>\n\n<pre><code>const datesInRow = [\"19-June-2019\", \"18-June-2019\", \"17-June-2019\", \"16-June-2019\"]\n</code></pre>\n\n<p>Here is my initial function: (isAfter function = date-fns)</p>\n\n<pre><code> function numberOfDaysInRow(arr) {\n  if (arr.length === 1) return arr;\n  let numberOfDaysInRowArr = [];\n  for (let i = 0; i &lt; arr.length; i++) {\n    if (isAfter(new Date(arr[i]), new Date(arr[i + 1]))) {\n      numberOfDaysInRowArr.push(arr[i]);\n    }\n  }\n  return numberOfDaysInRowArr;\n}\n</code></pre>\n\n<p>This returns only partial answer. For example If I have only two string in array like this:</p>\n\n<pre><code>const dates = [\"19-June-2019\", \"18-June-2019\"]\n</code></pre>\n\n<p>It will return </p>\n\n<pre><code>[\"19-June-2019\"]\n</code></pre>\n\n<p>which is not what I want.</p>\n"}, {"tags": ["javascript", "php", "css", "function"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11671928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZlyPw.jpg?s=128&g=1", "display_name": "Asher", "link": "https://stackoverflow.com/users/11671928/asher"}, "edited": false, "score": 0, "creation_date": 1560976243, "post_id": 56675187, "comment_id": 99918116, "body": "Hey thanks for spotting that for me! I removed the scripts from footer.php and added the hook in its place. I also included the Google Maps script into the functions.php although im still getting the same result. I really do treasure any further advice you can offer on this. And thanks again!"}, {"owner": {"reputation": 5657, "user_id": 2316540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f763842eb4cfb7e850fc3691e88083fe?s=128&d=identicon&r=PG", "display_name": "muka.gergely", "link": "https://stackoverflow.com/users/2316540/muka-gergely"}, "reply_to_user": {"reputation": 1, "user_id": 11671928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZlyPw.jpg?s=128&g=1", "display_name": "Asher", "link": "https://stackoverflow.com/users/11671928/asher"}, "edited": false, "score": 0, "creation_date": 1560976743, "post_id": 56675187, "comment_id": 99918304, "body": "On MAMP the JS loaded correctly after this modification - some error messages remained, mostly from missing images. Are you sure that the page isn\u2019t loaded from cache, so your modified template is loaded? Try in another browser or at least in incognito mode, and watch the console."}, {"owner": {"reputation": 5657, "user_id": 2316540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f763842eb4cfb7e850fc3691e88083fe?s=128&d=identicon&r=PG", "display_name": "muka.gergely", "link": "https://stackoverflow.com/users/2316540/muka-gergely"}, "reply_to_user": {"reputation": 1, "user_id": 11671928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZlyPw.jpg?s=128&g=1", "display_name": "Asher", "link": "https://stackoverflow.com/users/11671928/asher"}, "edited": false, "score": 0, "creation_date": 1560977042, "post_id": 56675187, "comment_id": 99918402, "body": "If you check the console, you\u2019ll see the URL WP tries to load - your JS files should be loaded from <b>wp-contents/themes/theme_name/js</b> (or maybe not plural, just wp-content and theme). If it\u2019s not the URI you see, then there\u2019s a problem - probably caching."}, {"owner": {"reputation": 5657, "user_id": 2316540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f763842eb4cfb7e850fc3691e88083fe?s=128&d=identicon&r=PG", "display_name": "muka.gergely", "link": "https://stackoverflow.com/users/2316540/muka-gergely"}, "reply_to_user": {"reputation": 1, "user_id": 11671928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZlyPw.jpg?s=128&g=1", "display_name": "Asher", "link": "https://stackoverflow.com/users/11671928/asher"}, "edited": false, "score": 0, "creation_date": 1560977482, "post_id": 56675187, "comment_id": 99918553, "body": "If nothing seems to work, I would start anew with a blank theme: index.php, functions.php and style.css, and add back theme elements step by step. The simplest index.php would only have html, head and body tags in it (empty), then wp-footer() would be the next step and 1 (one) script from the list in functions.php. I\u2019d do it until the error came - then I would be closer to solving the problem (or you could even start with a new WP install, and then add this blank template - that has to work)"}, {"owner": {"reputation": 1, "user_id": 11671928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZlyPw.jpg?s=128&g=1", "display_name": "Asher", "link": "https://stackoverflow.com/users/11671928/asher"}, "edited": false, "score": 0, "creation_date": 1561055682, "post_id": 56675187, "comment_id": 99949295, "body": "I completely reformatted my functions.php (i was registering and enqueuing the JS and CSS incorrectly) I was also careful to arrange them using the same ordering as the original HTML template. Although some of the body content is now finally loading, not all is. any further advice you can offer is appreciated ....You may find the updated theme in the google drive folder. Thank you!!!"}, {"owner": {"reputation": 5657, "user_id": 2316540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f763842eb4cfb7e850fc3691e88083fe?s=128&d=identicon&r=PG", "display_name": "muka.gergely", "link": "https://stackoverflow.com/users/2316540/muka-gergely"}, "reply_to_user": {"reputation": 1, "user_id": 11671928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZlyPw.jpg?s=128&g=1", "display_name": "Asher", "link": "https://stackoverflow.com/users/11671928/asher"}, "edited": false, "score": 0, "creation_date": 1561060879, "post_id": 56675187, "comment_id": 99951446, "body": "@Asher Sorry, but it\u2019s quite late here - I can only have a look at it tomorrow. So, just to clarify: 1. you want the HTML template to be your Wordpress theme 2. The HTML template has ALL the necessary resources to be a Wordpress theme (js, css, images, etc)?"}, {"owner": {"reputation": 5657, "user_id": 2316540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f763842eb4cfb7e850fc3691e88083fe?s=128&d=identicon&r=PG", "display_name": "muka.gergely", "link": "https://stackoverflow.com/users/2316540/muka-gergely"}, "reply_to_user": {"reputation": 1, "user_id": 11671928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZlyPw.jpg?s=128&g=1", "display_name": "Asher", "link": "https://stackoverflow.com/users/11671928/asher"}, "edited": false, "score": 0, "creation_date": 1561091241, "post_id": 56675187, "comment_id": 99958238, "body": "I added another answer after looking at the most recent version of your WP theme."}], "tags": [], "owner": {"reputation": 5657, "user_id": 2316540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f763842eb4cfb7e850fc3691e88083fe?s=128&d=identicon&r=PG", "display_name": "muka.gergely", "link": "https://stackoverflow.com/users/2316540/muka-gergely"}, "is_accepted": false, "score": 0, "last_activity_date": 1560975149, "creation_date": 1560975149, "answer_id": 56675187, "question_id": 56674551, "link": "https://stackoverflow.com/questions/56674551/adding-javascript-to-wordpress-functions-php/56675187#56675187", "title": "Adding javascript to wordpress functions.php", "body": "<p>To load the JS files, you need to:</p>\n\n<ul>\n<li>Go to <code>footer.php</code></li>\n<li>Delete all the hardcoded scripts from the bottom (the template tries to load these, not the ones from your functions.php)</li>\n</ul>\n\n\n\n<pre><code>&lt;script src=\"js/jquery-migrate-3.0.1.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/popper.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/bootstrap.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/jquery.easing.1.3.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/jquery.waypoints.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/jquery.stellar.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/owl.carousel.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/jquery.magnific-popup.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/aos.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/jquery.animateNumber.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/bootstrap-datepicker.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/jquery.timepicker.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/scrollax.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&amp;sensor=false\"&gt;&lt;/script&gt;\n&lt;script src=\"js/google-map.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/main.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Then add this:</p>\n\n<pre><code>&lt;?php wp_footer(); ?&gt;\n</code></pre>\n\n<p>This is the Wordpress footer, that invokes the hook that your <code>wp_enqueue()</code> uses for injecting the script tags (it's like <code>wp_head()</code> only for the footer). I suggest you also include the Google Maps script in your <code>functions.php</code> - keep all your external scripts in one place.</p>\n\n<p>It seems that the problem is that you copied the HTML template as a Wordpress theme. They have differences, although not too big - this is one. :)</p>\n\n<p>This will be the same with the missing images: the directory structure of the HTML template is not the same as of the Wordpress installation. You just have to correct that, and everything will be fine.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11671928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZlyPw.jpg?s=128&g=1", "display_name": "Asher", "link": "https://stackoverflow.com/users/11671928/asher"}, "is_accepted": false, "score": 0, "last_activity_date": 1561082325, "creation_date": 1561082325, "answer_id": 56695945, "question_id": 56674551, "link": "https://stackoverflow.com/questions/56674551/adding-javascript-to-wordpress-functions-php/56695945#56695945", "title": "Adding javascript to wordpress functions.php", "body": "<p>instead of </p>\n\n<pre><code>wp_enqueue_script( 'aos', get_template_directory_uri() . '/js/aos.js', array ( 'jquery' ), 1.1, false);\n</code></pre>\n\n<p>use this </p>\n\n<pre><code>wp_register_script( 'aos', get_template_directory_uri() . '/js/aos.js', array () , 1, 1, 1);\n    wp_enqueue_script ('aos');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5657, "user_id": 2316540, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f763842eb4cfb7e850fc3691e88083fe?s=128&d=identicon&r=PG", "display_name": "muka.gergely", "link": "https://stackoverflow.com/users/2316540/muka-gergely"}, "is_accepted": false, "score": 0, "last_activity_date": 1561088974, "last_edit_date": 1561088974, "creation_date": 1561088062, "answer_id": 56696514, "question_id": 56674551, "link": "https://stackoverflow.com/questions/56674551/adding-javascript-to-wordpress-functions-php/56696514#56696514", "title": "Adding javascript to wordpress functions.php", "body": "<p>Working with the theme in your <strong>wordpress theme updated june 20 2019</strong> zip:</p>\n\n<ol>\n<li>Modify <strong>index.php</strong> and <strong>frontpage.php</strong></li>\n</ol>\n\n<p>change: <code>\"/images/</code> to <code>\"&lt;?php echo get_template_directory_uri(); ?&gt;/images/</code></p>\n\n<p>change: <code>url(/images/</code> to <code>url(&lt;?php echo get_template_directory_uri(); ?&gt;/images/</code></p>\n\n<p>change: <code>url('/images/</code> to <code>url('&lt;?php echo get_template_directory_uri(); ?&gt;/images/</code></p>\n\n<p>suggestion: use <code>url('...')</code> instead of <code>url(...)</code> (this way you'll be sure that it's treated like a string), but at least only use one syntax in one theme. It's easier to manage, if you create a convention for your template, and stick to that.</p>\n\n<ol start=\"2\">\n<li>Modify <strong>functions.php</strong></li>\n</ol>\n\n<p>not found: <code>wp-content/themes/eLeadWorks/js/jquery.timepicker.min.js</code> (the file is not in that library, so I commented register and enqueue out)</p>\n\n<p>not found: <code>wp-content/themes/eLeadWorks/js/example.js</code> (the file is not in that library, so I commented register and enqueue out)</p>\n\n<p>deregister script: <code>wp_deregister_script('jquery-migrate');</code> (place it before <code>wp_register_('jquery-migrate-3.0.1.min', ...)</code></p>\n\n<p>rename script handles (suggestion): don't use version numbers in script registering handles. This way you'll not be able to freely update versions if you need to. (so <code>jquery-migrate-3.0.1.min</code> is not OK, <code>jquery-migrate</code> is OK)</p>\n\n<p>change: <code>wp_register_style( 'fonts', get_template_directory_uri() . 'https://fonts.googleapis.com/css?family=Work+Sans:300,400,,500,600,700', array(), 1.1, 'all' );</code> to <code>wp_register_style( 'fonts', 'https://fonts.googleapis.com/css?family=Work+Sans:300,400,,500,600,700', array(), 1.1, 'all' );</code> (no <strong>get_template_directory_uri()</strong> is needed)</p>\n\n<p>change: <code>wp_register_script( 'google-api', get_template_directory_uri() . 'https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&amp;sensor=false', array () , 1, 1, 1);</code> to <code>wp_register_script( 'google-api', 'https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&amp;sensor=false', array () , 1, 1, 1);</code> (no <strong>get_template_directory_uri()</strong> is needed)</p>\n\n<h2><strong>After these modifications</strong></h2>\n\n<p>After these changes I only see one (1) error when loading the page: <code>Uncaught TypeError: Cannot read property 'firstChild' of null</code>. This error is thrown by your Google Maps code.</p>\n\n<p><strong>The error comes from that you don't have a DOM element with <code>id=\"map\"</code>.</strong></p>\n\n<p>So, <strong>either add an element with <code>id=\"map\"</code> (where Google Maps can place the map), or modify your code to check for <code>mapElement</code>'s value</strong> (in google-map.js):</p>\n\n<pre><code>// Get the HTML DOM element that will contain your map\n// We are using a div with id=\"map\" seen below in the &lt;body&gt;\nvar mapElement = document.getElementById('map');\n\n// check if mapElement exists (not null)\nif (mapElement) {\n  // Create the Google Map using out element and options defined above\n  var map = new google.maps.Map(mapElement, mapOptions);\n\n  var addresses = ['New York'];\n\n  for (var x = 0; x &lt; addresses.length; x++) {\n      $.getJSON('http://maps.googleapis.com/maps/api/geocode/json?address='+addresses[x]+'&amp;sensor=false', null, function (data) {\n          var p = data.results[0].geometry.location\n          var latlng = new google.maps.LatLng(p.lat, p.lng);\n          new google.maps.Marker({\n              position: latlng,\n              map: map,\n              icon: 'images/loc.png'\n          });\n\n      });\n  }\n}\n</code></pre>\n\n<p><strong>After all these modifications I don't see a single error in my console.</strong></p>\n"}], "owner": {"reputation": 1, "user_id": 11671928, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZlyPw.jpg?s=128&g=1", "display_name": "Asher", "link": "https://stackoverflow.com/users/11671928/asher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1244, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1561088974, "creation_date": 1560972172, "question_id": 56674551, "link": "https://stackoverflow.com/questions/56674551/adding-javascript-to-wordpress-functions-php", "title": "Adding javascript to wordpress functions.php", "body": "<p>JavaScript(s) Are Not Loading</p>\n\n<p>I found this really awesome static html/css template online and wanted to convert it to a wordpress theme but after the conversion i noticed the html/css is loading from inspect element view, although (visually) only the menu, section backgrounds and footer are showing on the screen while the remaining body content seems to be hiding.</p>\n\n<p>Check my functions.php for any errors enqueuing the javascript. The alert works but the other scripts seem to not load. I'm sure i made a rookie mistake and coded this incorrectly. </p>\n\n<p>Im developing on xampp.</p>\n\n<p>Download the project files: <a href=\"https://drive.google.com/open?id=1ty9-LsirC6cPA2y-TuirC2IDpEYPOOug\" rel=\"nofollow noreferrer\">https://drive.google.com/open?id=1ty9-LsirC6cPA2y-TuirC2IDpEYPOOug</a></p>\n\n<pre><code>function theme_scripts() \n{\n\n    wp_enqueue_script( 'aos', get_template_directory_uri() . '/js/aos.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'alert', get_template_directory_uri() . '/js/alert.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'bootstrap.min', get_template_directory_uri() . '/js/bootstrap.min.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'bootstrap-datepicker', get_template_directory_uri() . '/js/bootstrap-datepicker.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'google-map', get_template_directory_uri() . '/js/google-map.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'jquery.animateNumber.min', get_template_directory_uri() . '/js/jquery.animateNumber.min.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'jquery.easing.1.3', get_template_directory_uri() . '/js/jquery.easing.1.3.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'jquery.magnific-popup.min', get_template_directory_uri() . '/js/jquery.magnific-popup.min.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'jquery.min', get_template_directory_uri() . '/js/jquery.min.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'jquery.stellar.min', get_template_directory_uri() . '/js/jquery.stellar.min.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'jquery.waypoints.min', get_template_directory_uri() . '/js/jquery.waypoints.min.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'jquery-3.2.1.min', get_template_directory_uri() . '/js/jquery-3.2.1.min.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'jquery-migrate-3.0.1.min', get_template_directory_uri() . '/js/jquery-migrate-3.0.1.min.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'main', get_template_directory_uri() . '/js/main.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'owl.carousel.min', get_template_directory_uri() . '/js/owl.carousel.min.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'popper.min', get_template_directory_uri() . '/js/popper.min.js', array ( 'jquery' ), 1.1, false);\n    wp_enqueue_script( 'scrollax.min', get_template_directory_uri() . '/js/scrollax.min.js', array ( 'jquery' ), 1.1, false);\n\n}\n\nadd_action( 'wp_enqueue_scripts', 'theme_scripts', 50, 0 );\n</code></pre>\n\n<p>Regards</p>\n"}, {"tags": ["javascript", "reactjs", "redux", "react-redux", "redux-saga"], "answers": [{"tags": [], "owner": {"reputation": 1388, "user_id": 8502436, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ea1f9fb67158048f5e79fb2ef6c3b05f?s=128&d=identicon&r=PG&f=1", "display_name": "GeraltDieSocke", "link": "https://stackoverflow.com/users/8502436/geraltdiesocke"}, "is_accepted": true, "score": 0, "last_activity_date": 1560974983, "creation_date": 1560974983, "answer_id": 56675160, "question_id": 56674519, "link": "https://stackoverflow.com/questions/56674519/why-is-my-react-redux-saga-application-crashing-after-removing-immutablejs-from/56675160#56675160", "title": "Why is my react redux saga application crashing after removing immutableJs from it?", "body": "<p>Oh my god that  feels so great.\nI just diffed my repo with the boilerplate repo like this:</p>\n\n<pre><code>git remote add -f b path/to/repo_b.git\ngit remote update\ngit diff noImmutable:app/utils remotes/b/master:app/utils\ngit remote rm b\n</code></pre>\n\n<p>And I found out I made a single letter typo in the <code>injectSaga.js</code> file.</p>\n\n<p>I typed: <code>static contextTypes = ReactReduxContext</code> instead of <code>static contextType = ReactReduxContext</code> (so an 's' too much :D)</p>\n\n<p>After I fixed that everything is back to normal and works perfectly. \nMan moments like this are why I love coding and Git &lt;3</p>\n"}], "owner": {"reputation": 1388, "user_id": 8502436, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ea1f9fb67158048f5e79fb2ef6c3b05f?s=128&d=identicon&r=PG&f=1", "display_name": "GeraltDieSocke", "link": "https://stackoverflow.com/users/8502436/geraltdiesocke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 56675160, "answer_count": 1, "score": -1, "last_activity_date": 1560974983, "creation_date": 1560972018, "last_edit_date": 1560972557, "question_id": 56674519, "link": "https://stackoverflow.com/questions/56674519/why-is-my-react-redux-saga-application-crashing-after-removing-immutablejs-from", "title": "Why is my react redux saga application crashing after removing immutableJs from it?", "body": "<p><strong>The problem</strong></p>\n\n<p>This is a very hard and weird problem because it's also very hard to explain.\nI start from the beginning:</p>\n\n<p>I started a new application using this boilerplate: </p>\n\n<p><a href=\"https://github.com/flexdinesh/react-redux-boilerplate\" rel=\"nofollow noreferrer\">https://github.com/flexdinesh/react-redux-boilerplate</a></p>\n\n<p>Everything worked fine until the owner of the repo made some small changes (look at the latest commit \"Add prettier config; Upgrade deps; Remove immutable\").</p>\n\n<p>Since I don't like immutable I thought it would be great to also remove it. So I went into this projects commit and did exactly the same as he did. I also installed the same dep's versions as in his <code>package.json</code>.</p>\n\n<p>Now the app is starting and when I load the page I see just a blank page with some errors in the devtools. </p>\n\n<p>The errors can be found here: <a href=\"https://imgur.com/a/ilNGj2b\" rel=\"nofollow noreferrer\">https://imgur.com/a/ilNGj2b</a></p>\n\n<p>One \"bigger\" change he also did is moving from <code>react-router-redux</code> to <code>connected-react-router</code>. </p>\n\n<p>Also in the <code>injectReducer</code> and <code>injectSaga</code> files under <code>app/utils</code> he made some changes mainly importing <code>ReactReduxContext</code>. \nI'm specifically mentioning this because I think it has something to do with these changes. </p>\n\n<p><strong>What have I tried</strong></p>\n\n<p>I throw in some <code>debugger</code> statements in specific files and found out following:</p>\n\n<ul>\n<li><code>injectReducer</code> file runs and gets the correct props</li>\n<li><code>injectSaga</code> file doesn't run at all, I think because it's crashing before it get's executed. But I can't find out where and why. </li>\n</ul>\n\n<p>I know this is hard to solve because it's a very big boilerplate code but you are my last hope (I already created an issue here: <a href=\"https://github.com/flexdinesh/react-redux-boilerplate/issues/38\" rel=\"nofollow noreferrer\">https://github.com/flexdinesh/react-redux-boilerplate/issues/38</a>). </p>\n\n<p><strong>Maybe one of you that has way more experience can find out what the problem might be (maybe from the differences between last version of this repo and the current commit, or the error messages).</strong></p>\n\n<p>I really don't have much more \"specific to the problem\" code to give, since it could be really anything. </p>\n\n<p><strong>If anyone wants to help me out here is the current repo with the same structure as this boilerplate, but with my own code:</strong> <a href=\"https://github.com/SelfDevTV/forum-creator/tree/noImmutable\" rel=\"nofollow noreferrer\">https://github.com/SelfDevTV/forum-creator/tree/noImmutable</a></p>\n\n<p>The <code>master</code> branch is working, that was before I \"migrated\" to the new version without immmutable and the other changes. \nThe <code>noImmutable</code> branch is the \"problem child\". </p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1560972137, "post_id": 56674497, "comment_id": 99916425, "body": "What sense does <code>if(condition) doX() else doX()</code> make? Also <code>$(cardId)</code> looks like you are using jQuery, yet your question has no jQuery tag."}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "edited": false, "score": 0, "creation_date": 1560972220, "post_id": 56674497, "comment_id": 99916472, "body": "Are you seeing any errors in the console?"}, {"owner": {"reputation": 91, "user_id": 10101432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e56110da5415deac41abfde032c086?s=128&d=identicon&r=PG&f=1", "display_name": "amull98", "link": "https://stackoverflow.com/users/10101432/amull98"}, "reply_to_user": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1560972267, "post_id": 56674497, "comment_id": 99916498, "body": "@connexo it is a mistake on my side. Fixed it."}], "answers": [{"comments": [{"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1560972618, "post_id": 56674589, "comment_id": 99916621, "body": "Please point out that the HTML presented by OP is invalid because the <code>li</code> does not have a <code>ul</code> or  <code>ol</code> parent."}], "tags": [], "owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "is_accepted": true, "score": 4, "last_activity_date": 1560974043, "last_edit_date": 1560974043, "creation_date": 1560972333, "answer_id": 56674589, "question_id": 56674497, "link": "https://stackoverflow.com/questions/56674497/show-child-div-on-click/56674589#56674589", "title": "Show Child Div on Click", "body": "<pre><code>    var cardId =\"card\" + num[1];\n</code></pre>\n\n<p>should be</p>\n\n<pre><code>    var cardId =\"#card\" + num[1];\n</code></pre>\n\n<p>Instead of using <code>.show</code> and <code>.hide</code> you could also use <code>.toggle</code> but that's up to you.</p>\n\n<hr>\n\n<p>as @connexo pointed out \"the HTML presented by OP is invalid because the li does not have a ul or ol parent\" so that is also changed inside of the snippet.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;ul&gt;\r\n&lt;li id=\"box1\" onclick=\"showBox(this.id)\"&gt;k\r\n  &lt;div id=\"card1\" style=\"display:none\"&gt;asfadfsfd\r\n      &lt;time id=\"ticketNumberBox1\"&gt;&lt;/time&gt; &lt;p id=\"shortDescriptionBox1\"&gt;&lt;/p&gt;&lt;p id=\"startDateBox1\"&gt;&lt;/p&gt;\r\n  &lt;/div&gt;\r\n&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;script type=\"text/javascript\"&gt;\r\n  function showBox(clickedID) {\r\n    var num = clickedID.split(/(\\d+)/);\r\n    var cardId =\"#card\" + num[1];\r\n\r\n    if ($(cardId).css('display') != 'none'){\r\n      $(cardId).hide();\r\n    }else{\r\n      $(cardId).show();\r\n    }\r\n  }\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Note</strong> I added in random characters so it'd be easier to see/click.</p>\n"}], "owner": {"reputation": 91, "user_id": 10101432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8e56110da5415deac41abfde032c086?s=128&d=identicon&r=PG&f=1", "display_name": "amull98", "link": "https://stackoverflow.com/users/10101432/amull98"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 56674589, "answer_count": 1, "score": 0, "last_activity_date": 1560976352, "creation_date": 1560971940, "last_edit_date": 1560976352, "question_id": 56674497, "link": "https://stackoverflow.com/questions/56674497/show-child-div-on-click", "title": "Show Child Div on Click", "body": "<p>I have a timeline on my webpage that redraws based off the amount of events that are found in the DB. With each new event I clone box1 and rename some of the variables. </p>\n\n<p>But for my onClick function the div holding the timeline information never shows. I think the issue might be the fact that the Id I am trying to show is surrounded in quotes so it is unable to find the div element id.</p>\n\n<p>Any ideas on how to fix this issue?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function showBox(clickedID) {\r\n        var num = clickedID.split(/(\\d+)/);\r\n        var cardId =\"card\" + num[1];\r\n    \r\n        if ($(cardId).css('display') != 'none'){\r\n          $(cardId).show();\r\n        }else{\r\n          $(cardId).hide();\r\n        }\r\n      }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;li id=\"box1\" onclick=\"showBox(this.id)\"&gt;\r\n      &lt;div id=\"card1\" style=\"display:none\"&gt;\r\n          &lt;time id=\"ticketNumberBox1\"&gt;&lt;/time&gt; &lt;p id=\"shortDescriptionBox1\"&gt;&lt;/p&gt;&lt;p id=\"startDateBox1\"&gt;&lt;/p&gt;\r\n      &lt;/div&gt;\r\n    &lt;/li&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "error-handling", "electron"], "comments": [{"owner": {"reputation": 589, "user_id": 3502805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BhaHC.jpg?s=128&g=1", "display_name": "Sharvin K", "link": "https://stackoverflow.com/users/3502805/sharvin-k"}, "edited": false, "score": 0, "creation_date": 1561009983, "post_id": 56674450, "comment_id": 99925504, "body": "could you paste the preload script with the question?"}, {"owner": {"reputation": 849, "user_id": 5423742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1078160760a83893a67943714751dd43?s=128&d=identicon&r=PG", "display_name": "Leonardo Buscemi", "link": "https://stackoverflow.com/users/5423742/leonardo-buscemi"}, "edited": false, "score": 1, "creation_date": 1561013496, "post_id": 56674450, "comment_id": 99926907, "body": "Maybe it&#39;s too obvious, but you can access the call stack by clicking the gray triangle"}, {"owner": {"reputation": 4440, "user_id": 1243041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BIEgb.jpg?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1243041/ian"}, "reply_to_user": {"reputation": 589, "user_id": 3502805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BhaHC.jpg?s=128&g=1", "display_name": "Sharvin K", "link": "https://stackoverflow.com/users/3502805/sharvin-k"}, "edited": false, "score": 0, "creation_date": 1561035483, "post_id": 56674450, "comment_id": 99938503, "body": "@SharvinK I can get the preload script itself to run, but once I add all my imports and try and get it to do anything, it fails. Unfortunately I can&#39;t pinpoint <i>where</i> this is failing so I can&#39;t post the relevant code."}, {"owner": {"reputation": 4440, "user_id": 1243041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BIEgb.jpg?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1243041/ian"}, "reply_to_user": {"reputation": 849, "user_id": 5423742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1078160760a83893a67943714751dd43?s=128&d=identicon&r=PG", "display_name": "Leonardo Buscemi", "link": "https://stackoverflow.com/users/5423742/leonardo-buscemi"}, "edited": false, "score": 0, "creation_date": 1561035831, "post_id": 56674450, "comment_id": 99938734, "body": "@LeonardoBuscemi I wish it was that easy - Electron logs with <code>console.error</code> rather than reraising or using <code>console.trace</code>, so there is no stack trace. I updated my question with a screenshot of the expanded logs. The link in the logs is to an Electron file with a <code>console.error</code> statement, not to my code."}], "owner": {"reputation": 4440, "user_id": 1243041, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/BIEgb.jpg?s=128&g=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/1243041/ian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1561035785, "creation_date": 1560971709, "last_edit_date": 1561035785, "question_id": 56674450, "link": "https://stackoverflow.com/questions/56674450/retrieve-more-detailed-errors-from-electron-preload-script", "title": "Retrieve more detailed errors from Electron preload script", "body": "<p>I am trying to run a new Electron app with a simple preload script and I'm seeing a syntax error in the developer tools even though TypeScript has no problems compiling. Unfortunately as Electron only logs the error with <code>console.error</code> (which shows the error text and the line on which the error is logged in the developer tools), there is no way that I can find to view the actual location of the syntax issue. All I can see is this:\n<a href=\"https://i.stack.imgur.com/noFMQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/noFMQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>Is there any way to view the entire stack trace?</p>\n"}, {"tags": ["javascript", "unit-testing", "jestjs"], "answers": [{"tags": [], "owner": {"reputation": 36140, "user_id": 6463558, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/g22sX.jpg?s=128&g=1", "display_name": "slideshowp2", "link": "https://stackoverflow.com/users/6463558/slideshowp2"}, "is_accepted": false, "score": 0, "last_activity_date": 1569467060, "creation_date": 1569467060, "answer_id": 58109019, "question_id": 56674440, "link": "https://stackoverflow.com/questions/56674440/test-async-promise-jest/58109019#58109019", "title": "Test async- Promise Jest", "body": "<p>Here is the solution, don't know your component JSX structure, so I simply it to highlight the most important parts.</p>\n\n<p><code>index.tsx</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React from 'react';\nimport * as Models from './Models';\n\nexport interface IPornComponentProps {\n  accountToEdit: string;\n  user: object;\n  services: any[];\n  FirmId: string;\n}\n\ninterface IPornComponentState {\n  AccountName: string;\n  AccountTitle: string;\n  AccountStatus: {\n    value: string;\n  };\n  StartingStatus: string;\n}\n\nexport class PornComponent extends React.Component&lt;IPornComponentProps, IPornComponentState&gt; {\n  constructor(props: IPornComponentProps) {\n    super(props);\n    this.state = {\n      AccountName: '',\n      AccountTitle: '',\n      AccountStatus: {\n        value: ''\n      },\n      StartingStatus: ''\n    };\n  }\n\n  public async patchAccount() {\n    const { user, services, FirmId } = this.props;\n    const StatusChanged = this.state.AccountStatus &amp;&amp; this.state.AccountStatus.value !== this.state.StartingStatus;\n    const AccountBody = {\n      AccountName: this.state.AccountName,\n      AccountTitle: this.state.AccountTitle,\n      AccountStatusDate: '2019-01-01'\n    };\n    if (StatusChanged) {\n      AccountBody.AccountStatusDate = new Date()\n        .toISOString()\n        .slice(0, 19)\n        .concat('Z');\n    }\n    const response = await Models.patchAccount({\n      user,\n      services,\n      body: AccountBody,\n      firmId: FirmId,\n      id: this.props.accountToEdit\n    });\n    if (!response.error) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  public render() {\n    return &lt;div&gt;Unit Test&lt;/div&gt;;\n  }\n}\n</code></pre>\n\n<p><code>Models.ts</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import console = require('console');\n\nexport async function patchAccount(...args) {\n  return { error: true };\n}\n</code></pre>\n\n<p><code>index.spec.tsx</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import React from 'react';\nimport { shallow, ShallowWrapper } from 'enzyme';\nimport { PornComponent, IPornComponentProps } from './';\nimport * as Models from './Models';\n\ndescribe('PornComponent', () =&gt; {\n  let wrapper: ShallowWrapper;\n  const mockedProps: IPornComponentProps = {\n    accountToEdit: '1',\n    user: {},\n    services: [],\n    FirmId: '2'\n  };\n  beforeEach(() =&gt; {\n    wrapper = shallow(&lt;PornComponent {...mockedProps}&gt;&lt;/PornComponent&gt;);\n  });\n\n  it('Test patchAccount function', async () =&gt; {\n    const patchAccountSpy = jest.spyOn(Models, 'patchAccount').mockResolvedValueOnce({ error: false });\n    const actualValue = await (wrapper.instance() as any).patchAccount();\n    expect(actualValue).toBeTruthy();\n    expect(patchAccountSpy).toBeCalledWith({\n      user: {},\n      services: [],\n      body: { AccountName: '', AccountTitle: '', AccountStatusDate: '2019-01-01' },\n      firmId: '2',\n      id: '1'\n    });\n    patchAccountSpy.mockRestore();\n  });\n});\n</code></pre>\n\n<p>Unit test result with coverage report:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code> PASS  src/stackoverflow/56674440/index.spec.tsx (5.588s)\n  PornComponent\n    \u2713 Test patchAccount function (18ms)\n\n-----------|----------|----------|----------|----------|-------------------|\nFile       |  % Stmts | % Branch |  % Funcs |  % Lines | Uncovered Line #s |\n-----------|----------|----------|----------|----------|-------------------|\nAll files  |    83.33 |       75 |       80 |       85 |                   |\n Models.ts |    33.33 |      100 |        0 |       50 |                 4 |\n index.tsx |    90.48 |       75 |      100 |    88.89 |             42,57 |\n-----------|----------|----------|----------|----------|-------------------|\nTest Suites: 1 passed, 1 total\nTests:       1 passed, 1 total\nSnapshots:   0 total\nTime:        6.479s\n</code></pre>\n\n<p>Other code branch can be tested in the same way. </p>\n\n<p>Here is the completed demo: <a href=\"https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/56674440\" rel=\"nofollow noreferrer\">https://github.com/mrdulin/jest-codelab/tree/master/src/stackoverflow/56674440</a></p>\n"}], "owner": {"reputation": 597, "user_id": 11019282, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Q8d9dAu31cE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOI_Rjd-085wlP9LnNo2t6Qx2SqvQ/mo/photo.jpg?sz=128", "display_name": "user 9191", "link": "https://stackoverflow.com/users/11019282/user-9191"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569467173, "creation_date": 1560971665, "last_edit_date": 1569467173, "question_id": 56674440, "link": "https://stackoverflow.com/questions/56674440/test-async-promise-jest", "title": "Test async- Promise Jest", "body": "<p>Trying to run a test for the following function:</p>\n\n<pre><code>async patchAccount() {\nconst { user, services, FirmId } = this.props; \nlet StatusChanged = this.state.AccountStatus &amp;&amp; (this.state.AccountStatus.value !== this.state.StartingStatus)\n  let AccountBody = { \n    AccountName: this.state.AccountName,\n    AccountTitle: this.state.AccountTitle,\n  }\n  if(StatusChanged) {\n    AccountBody.AccountStatusDate = new Date().toISOString().slice(0, 19).concat('Z');\n  }\n  let response = await Models.patchAccount({ \n    user,\n    services,\n    body: AccountBody,\n    firmId: FirmId,\n    id: this.props.accountToEdit\n    })\n  if(!response.error) {\n    return true;\n  } else {\n    return false;\n  }  \n</code></pre>\n\n<p>Here is how I set up my test file <code>account.test.js</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>it('Test patchAccount function ', async () =&gt; {\n  Models.postAccounts = jest.fn().mockImplementation(() =&gt; Promise.resolve({ error: false }, { error: true }));\n  wrapper.setProps({\n    user: {},\n    services: [],\n    FirmId: [],\n    accountToEdit: []\n  });\n  wrapper.find('AccountForm').setState({\n    AccountBody: {},\n    AccountStatus: ''\n  });\n  wrapper.update();\n  await expect(\n    wrapper\n      .find('AccountForm')\n      .instance()\n      .patchAccount()\n  ).toBeDefined();\n});\n</code></pre>\n\n<p>How could I test it correctly and make sure the promise gets called. Also tried to call the mock function with the <code>HaveBeenCalled()</code> and did not work. I appreciate any help. </p>\n"}, {"tags": ["javascript", "arrays", "angularjs"], "comments": [{"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 2, "creation_date": 1560973187, "post_id": 56674432, "comment_id": 99916854, "body": "please share html as well"}, {"owner": {"reputation": 120, "user_id": 10311861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JihnZ.png?s=128&g=1", "display_name": "Markov", "link": "https://stackoverflow.com/users/10311861/markov"}, "reply_to_user": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1560973544, "post_id": 56674432, "comment_id": 99917001, "body": "@NagaSaiA Done, I have Added Html code. Thank you"}], "answers": [{"comments": [{"owner": {"reputation": 120, "user_id": 10311861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JihnZ.png?s=128&g=1", "display_name": "Markov", "link": "https://stackoverflow.com/users/10311861/markov"}, "edited": false, "score": 0, "creation_date": 1561040649, "post_id": 56678384, "comment_id": 99941702, "body": "Yes that worked, had to modify the logic a bit, this helped me out thanks."}], "tags": [], "owner": {"reputation": 576, "user_id": 8820133, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-WMIbkPw_Vhk/AAAAAAAAAAI/AAAAAAAAAQM/Z9nGyrJCzFc/photo.jpg?sz=128", "display_name": "Gabe Gates", "link": "https://stackoverflow.com/users/8820133/gabe-gates"}, "is_accepted": true, "score": 1, "last_activity_date": 1560999588, "creation_date": 1560999588, "answer_id": 56678384, "question_id": 56674432, "link": "https://stackoverflow.com/questions/56674432/display-values-from-array-base-on-the-selected-values-build-a-string-from-array/56678384#56678384", "title": "Display values from array base on the selected values (build a string from array)", "body": "<p>It looks like the following is only evaluating to true when all children have Selected equal to true.</p>\n\n<pre><code>if(item.Children.length == children.length){\n</code></pre>\n\n<p>If I\u2019m not mistaken to get your desired output you would want:</p>\n\n<pre><code>if(children.length &gt; 0){\n</code></pre>\n\n<p>Because children represents the Selected items in your list.</p>\n"}], "owner": {"reputation": 120, "user_id": 10311861, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JihnZ.png?s=128&g=1", "display_name": "Markov", "link": "https://stackoverflow.com/users/10311861/markov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 56678384, "answer_count": 1, "score": 0, "last_activity_date": 1560999588, "creation_date": 1560971634, "last_edit_date": 1560974310, "question_id": 56674432, "link": "https://stackoverflow.com/questions/56674432/display-values-from-array-base-on-the-selected-values-build-a-string-from-array", "title": "Display values from array base on the selected values (build a string from array)", "body": "<p>I need to display custom string values base on the selected values from an object array.\nI think I'm close but there is a small issue that I cannot figure out.</p>\n\n<p>Right now If I selected everything from \"Gained\" and one Item from \"Static\" \nthe return statement will be \"Gained\" and if I selected all from \"Static\" and one item from \"Gained\" the result will be Static,</p>\n\n<p><strong>HTML Block</strong></p>\n\n<pre><code>&lt;a class=\"customSegmentSelectorButton\" title=\"{{ ::$parent.Labels.SEGMENTSELECT }}\"&gt;\n    &lt;span ng-if=\"totalSelectedOptions() == 0\"&gt;No KPIs&lt;/span&gt;\n    &lt;span ng-if=\"totalSelectedOptions() &gt; 0\"&gt;Sum of {{selectedOptionsLabel()}} &lt;/span&gt;\n&lt;/a&gt;\n</code></pre>\n\n<p><strong>Component</strong></p>\n\n<pre><code>customSegmentOptions = [\n    {\n        Label: \"Gained\",\n        Children: [\n            {\n                Label: \"New\",\n                Value: \"New\",\n                Selected: true\n            },\n            {\n                Label: \"Win\",\n                Value: \"Win\",\n                Selected: true\n            },\n            {\n                Label: \"Add-On\",\n                Value: \"AddOn\",\n                Selected: true\n            }\n        ]\n    },\n    {\n        Label: \"Static\",\n        Children: [\n            {\n                Label: \"Restart\",\n                Value: \"Restart\",\n                Selected: true\n            },\n            {\n                Label: \"Repeat\",\n                Value: \"Repeat\",\n                Selected: true\n            }\n        ]\n    }\n];\n\nselectedOptionsLabel = function(){\n    var customSegmentOptions = scope.$parent.customSegmentOptions;\n    var isGainedSelected = false;\n    var isStaticSelected = false;\n    var isChildrenSelected = false;\n    var selectedChildrenToDisplay = [];\n\n    for(var index = 0; index &lt; customSegmentOptions.length; index++){\n        var item = customSegmentOptions[index];\n        var children = item.Children.filter(x =&gt; x.Selected == true);\n        if(item.Children.length == children.length){\n            if(item.Label.toLowerCase() == 'gained'){\n                isGainedSelected = true;\n            }else{\n                isStaticSelected = true;        \n            }  \n        }    \n        selectedChildrenToDisplay = selectedChildrenToDisplay.concat(children.map(x =&gt; x.Label));                                      \n    }\n\n    isChildrenSelected = selectedChildrenToDisplay.length &lt; 5 &amp;&amp; !isGainedSelected ? true : false;\n\n    switch (true) {\n        case isGainedSelected &amp;&amp; !isStaticSelected &amp;&amp; !isChildrenSelected:\n          return \"Gained\";\n        case isStaticSelected &amp;&amp; !isGainedSelected &amp;&amp; !isChildrenSelected:\n          return \"Static\";\n        case isStaticSelected &amp;&amp; isGainedSelected:\n           return \"Gained &amp; Static\";\n        case (!isStaticSelected || !isGainedSelected) &amp;&amp; isChildrenSelected:\n           console.log(selectedChildrenToDisplay);\n         return \"children\"\n      }\n};\n</code></pre>\n\n<p>What I am trying to build is when all of one section is selected then I need to return a string such as </p>\n\n<ul>\n<li>\"Sum of Gained\" - if only Gained is selected</li>\n<li>\"Sum of Static  - if only Static is selected</li>\n<li>\"Sum of Gained &amp; Static\" - if both Gained and Static are selected</li>\n</ul>\n\n<p>When all of one section is NOT selected then I want to list the individual children names separated by commas when applicable and the last comma should be a \"&amp;\" for example - \n\"Sum of New, Win &amp; Restart\")</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1560971653, "post_id": 56674416, "comment_id": 99916222, "body": "You cannot access locally scoped variables with a variable name. That can only be used on object properties, and it would be done differently to what you&#39;re trying."}, {"owner": {"reputation": 386, "user_id": 5499242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c08e6b6f5ec8fbaed9cdb409ee6144?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/5499242/jeff"}, "edited": false, "score": 0, "creation_date": 1560971712, "post_id": 56674416, "comment_id": 99916249, "body": "<code>eval(&quot;pc&quot;+idpro)</code> should work."}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "reply_to_user": {"reputation": 386, "user_id": 5499242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c08e6b6f5ec8fbaed9cdb409ee6144?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/5499242/jeff"}, "edited": false, "score": 5, "creation_date": 1560971761, "post_id": 56674416, "comment_id": 99916264, "body": "@Jeff Suggesting <code>eval</code> without issuing a strong warning of using it is <b><i>really bad advice</i></b>."}, {"owner": {"reputation": 30454, "user_id": 184595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6jGq.jpg?s=128&g=1", "display_name": "Crayon Violent", "link": "https://stackoverflow.com/users/184595/crayon-violent"}, "edited": false, "score": 4, "creation_date": 1560971800, "post_id": 56674416, "comment_id": 99916281, "body": "An alternative would be to have an object or array named <code>pc</code> and do <code>pc[idpro]</code>"}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "reply_to_user": {"reputation": 30454, "user_id": 184595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6jGq.jpg?s=128&g=1", "display_name": "Crayon Violent", "link": "https://stackoverflow.com/users/184595/crayon-violent"}, "edited": false, "score": 0, "creation_date": 1560971865, "post_id": 56674416, "comment_id": 99916306, "body": "@CrayonViolent Given the example we have it would be <code>obj[&#39;pc&#39;+idpro]</code>."}, {"owner": {"reputation": 30454, "user_id": 184595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d6jGq.jpg?s=128&g=1", "display_name": "Crayon Violent", "link": "https://stackoverflow.com/users/184595/crayon-violent"}, "reply_to_user": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1560971967, "post_id": 56674416, "comment_id": 99916358, "body": "@connexo splitting hairs, but fair enough!"}, {"owner": {"reputation": 386, "user_id": 5499242, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4c08e6b6f5ec8fbaed9cdb409ee6144?s=128&d=identicon&r=PG&f=1", "display_name": "Jeff", "link": "https://stackoverflow.com/users/5499242/jeff"}, "edited": false, "score": 0, "creation_date": 1560972254, "post_id": 56674416, "comment_id": 99916491, "body": "OP seemed nonplused about using it, since he tried to use it already.  I agree, eval is generally a bad implementation."}, {"owner": {"reputation": 29, "user_id": 5680207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2192437ff4a4ac4d28b92528de5d7631?s=128&d=identicon&r=PG&f=1", "display_name": "wolfpride71", "link": "https://stackoverflow.com/users/5680207/wolfpride71"}, "edited": false, "score": 0, "creation_date": 1560972384, "post_id": 56674416, "comment_id": 99916534, "body": "alert( obj[&#39;pc&#39;+idpro] ); errored... Uncaught ReferenceError: obj is not defined"}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 5680207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2192437ff4a4ac4d28b92528de5d7631?s=128&d=identicon&r=PG&f=1", "display_name": "wolfpride71", "link": "https://stackoverflow.com/users/5680207/wolfpride71"}, "edited": false, "score": 0, "creation_date": 1560972486, "post_id": 56674485, "comment_id": 99916572, "body": "Basically I can grab the data I need and want to put it into the price with that id. IE: <code>document.getElementById(pc331).value=pc331;</code>"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 29, "user_id": 5680207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2192437ff4a4ac4d28b92528de5d7631?s=128&d=identicon&r=PG&f=1", "display_name": "wolfpride71", "link": "https://stackoverflow.com/users/5680207/wolfpride71"}, "edited": false, "score": 0, "creation_date": 1560972778, "post_id": 56674485, "comment_id": 99916674, "body": "What is <code>pc311</code> in this case? A simple string? Also consider using <code>$(&#39;#&#39; + pc311).val(pc311)</code> if you have jQuery-like selectors. You&#39;re going to have to explain your use case in more detail because it&#39;s really hazy right now. Your example text of <code>&#39;Heres my test&#39;</code> is not a valid CSS ID."}, {"owner": {"reputation": 29, "user_id": 5680207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2192437ff4a4ac4d28b92528de5d7631?s=128&d=identicon&r=PG&f=1", "display_name": "wolfpride71", "link": "https://stackoverflow.com/users/5680207/wolfpride71"}, "edited": false, "score": 0, "creation_date": 1560974280, "post_id": 56674485, "comment_id": 99917305, "body": "Input is name=&#39;pc311&#39; id=&#39;pc311&#39; and populates with a price of 129.00.  If the customer is buying more than 5 there is a price in the database that the function can grab and put into that input.  Let&#39;s say the volume price is 119.00. The form populates with all products ordered over the last 3 months so there could be 20-50 products each with a price and quantity.  Hence, each product has an input called qty + idpro and pc + idpro.  When there is a change in quantity and over 5 the function needs to get the new price and put it into the correct pc input."}, {"owner": {"reputation": 29, "user_id": 5680207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2192437ff4a4ac4d28b92528de5d7631?s=128&d=identicon&r=PG&f=1", "display_name": "wolfpride71", "link": "https://stackoverflow.com/users/5680207/wolfpride71"}, "edited": false, "score": 0, "creation_date": 1560974285, "post_id": 56674485, "comment_id": 99917308, "body": "However, currently I have the &#39;pc&#39; and the id (311) but cannot get them put together to update input &#39;pc311&#39;"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 29, "user_id": 5680207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2192437ff4a4ac4d28b92528de5d7631?s=128&d=identicon&r=PG&f=1", "display_name": "wolfpride71", "link": "https://stackoverflow.com/users/5680207/wolfpride71"}, "edited": false, "score": 1, "creation_date": 1560975239, "post_id": 56674485, "comment_id": 99917695, "body": "<code>&#39;pc&#39; + id</code> gives you that string. Not sure what else you&#39;re asking for."}, {"owner": {"reputation": 29, "user_id": 5680207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2192437ff4a4ac4d28b92528de5d7631?s=128&d=identicon&r=PG&f=1", "display_name": "wolfpride71", "link": "https://stackoverflow.com/users/5680207/wolfpride71"}, "edited": false, "score": 0, "creation_date": 1560976563, "post_id": 56674485, "comment_id": 99918231, "body": "That gives me &#39;pc311&#39; not &#39;heres my test&#39;"}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 29, "user_id": 5680207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2192437ff4a4ac4d28b92528de5d7631?s=128&d=identicon&r=PG&f=1", "display_name": "wolfpride71", "link": "https://stackoverflow.com/users/5680207/wolfpride71"}, "edited": false, "score": 0, "creation_date": 1560976668, "post_id": 56674485, "comment_id": 99918267, "body": "Can you explain more clearly what you&#39;re doing? This question would benefit from some sample HTML on which <code>getElementById</code> will operate, plus an example ofthe values being passed in to the function. <code>heres my test</code> is not an ID value."}, {"owner": {"reputation": 29, "user_id": 5680207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2192437ff4a4ac4d28b92528de5d7631?s=128&d=identicon&r=PG&f=1", "display_name": "wolfpride71", "link": "https://stackoverflow.com/users/5680207/wolfpride71"}, "edited": false, "score": 0, "creation_date": 1560976748, "post_id": 56674485, "comment_id": 99918308, "body": "<code>function myfunction(idpro){var pc331 = 125; alert(pcidpro);}</code> Where the value of idpro is 331, set pc331 = 125, alert the value of pc331.  No matter the trial the value displayed is either &#39;pc331&#39; or it errors. The value &#39;pc331&#39; is wrong, it should display 125."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "reply_to_user": {"reputation": 29, "user_id": 5680207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2192437ff4a4ac4d28b92528de5d7631?s=128&d=identicon&r=PG&f=1", "display_name": "wolfpride71", "link": "https://stackoverflow.com/users/5680207/wolfpride71"}, "edited": false, "score": 0, "creation_date": 1560977182, "post_id": 56674485, "comment_id": 99918448, "body": "Read my answer here and adapt it to your needs. If you want different values, use different values. Everything you need is present in this answer."}, {"owner": {"reputation": 29, "user_id": 5680207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2192437ff4a4ac4d28b92528de5d7631?s=128&d=identicon&r=PG&f=1", "display_name": "wolfpride71", "link": "https://stackoverflow.com/users/5680207/wolfpride71"}, "edited": false, "score": 0, "creation_date": 1560977190, "post_id": 56674485, "comment_id": 99918452, "body": "By getting the value to display then I will have the correct syntax so that I can update the input id -&gt; &#39;pc331&#39;.  The only thing that worked is the eval.  My javascript knowledge is basic, what is the issue with eval?"}], "tags": [], "owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "is_accepted": false, "score": 2, "last_activity_date": 1560977233, "last_edit_date": 1560977233, "creation_date": 1560971885, "answer_id": 56674485, "question_id": 56674416, "link": "https://stackoverflow.com/questions/56674416/javascript-dynamic-variable-names-not-working/56674485#56674485", "title": "Javascript Dynamic variable names not working", "body": "<p>Don't use dynamic variable names. Do use look-ups in data structures:</p>\n\n<pre><code>function f(id) {\n  var pc = {\n    331: \"Here's my test\"\n  }\n\n  console.log(pc[id]);\n}\n</code></pre>\n\n<p>Dynamic variables are a huge problem, especially from a security perspective. If you were naive and used <code>eval</code> someone could construct an <code>id</code> value that executes arbitrary JavaScript and then you have an <a href=\"https://en.wikipedia.org/wiki/Cross-site_scripting\" rel=\"nofollow noreferrer\">XSS</a> problem.</p>\n"}], "owner": {"reputation": 29, "user_id": 5680207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2192437ff4a4ac4d28b92528de5d7631?s=128&d=identicon&r=PG&f=1", "display_name": "wolfpride71", "link": "https://stackoverflow.com/users/5680207/wolfpride71"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560977233, "creation_date": 1560971574, "question_id": 56674416, "link": "https://stackoverflow.com/questions/56674416/javascript-dynamic-variable-names-not-working", "title": "Javascript Dynamic variable names not working", "body": "<p>I have a table in a form with a list of products where there is an input for each (let's call it 'pc'). Each input is named as 'pc' and product id with an id as the same. IE: 'pc100', 'pc101', etc.  Each input has an onkeyup event to call a function to populate a price where I pass the product id (<code>onkeyup='myfunction(100)</code>  The function receives the id but I cannot configure the javascript to that id. I will have the rest of the code as long as I can get the dynamic variable name.  The internet is full of all kinds of things like eval() and window[] and I have tried every possible combination I can think of/find. I know it's possible to get this to work. So...how can I get this alert to work?</p>\n\n<p>Most the results I will give me 'pc100' when I need 'Heres my test'</p>\n\n<pre><code>function myfunction(idpro) {\n    var pc331 = 'Heres my test';\n    alert( \"pc\" + idpro );\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1560973886, "post_id": 56674819, "comment_id": 99917151, "body": "According to your <code>New Router Component</code> I cannot see the login form any more."}, {"owner": {"reputation": 2223, "user_id": 1913185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4265c02c85f885f6725adada17579253?s=128&d=identicon&r=PG", "display_name": "technogeek1995", "link": "https://stackoverflow.com/users/1913185/technogeek1995"}, "reply_to_user": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1560974056, "post_id": 56674819, "comment_id": 99917221, "body": "Are you on path <code>&#47;</code>? @user11436513"}, {"owner": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1560974121, "post_id": 56674819, "comment_id": 99917245, "body": "I am on path <code>&#47;login</code> and cannot see my login form"}, {"owner": {"reputation": 2223, "user_id": 1913185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4265c02c85f885f6725adada17579253?s=128&d=identicon&r=PG", "display_name": "technogeek1995", "link": "https://stackoverflow.com/users/1913185/technogeek1995"}, "reply_to_user": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1560974209, "post_id": 56674819, "comment_id": 99917280, "body": "So path should be <code>&#47;login</code> if you want the login component to render when you&#39;re on the path <code>&#47;login</code>. I updated the answer to reflect this."}, {"owner": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1560974225, "post_id": 56674819, "comment_id": 99917287, "body": "Okay I figured that out, now the other problem is I cannot type in <code>username</code> and <code>password</code> fields continuously. I think it is because it loses the focus everytime I try to type something"}, {"owner": {"reputation": 2223, "user_id": 1913185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4265c02c85f885f6725adada17579253?s=128&d=identicon&r=PG", "display_name": "technogeek1995", "link": "https://stackoverflow.com/users/1913185/technogeek1995"}, "reply_to_user": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1560974645, "post_id": 56674819, "comment_id": 99917455, "body": "It <i>should</i> work. Can you update the question with your new code (in a new section)?"}, {"owner": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1560974743, "post_id": 56674819, "comment_id": 99917495, "body": "It is working, only problem is I cannot type continuously. When I try to type the username, it types one letter and then loses the focus and I have to click on the field again to type another letter and so on..."}, {"owner": {"reputation": 2223, "user_id": 1913185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4265c02c85f885f6725adada17579253?s=128&d=identicon&r=PG", "display_name": "technogeek1995", "link": "https://stackoverflow.com/users/1913185/technogeek1995"}, "reply_to_user": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1560976050, "post_id": 56674819, "comment_id": 99918030, "body": "Can you <code>console.log(props)</code> in <code>InstructorLoginFormComponent.jsx</code>?"}, {"owner": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1560976936, "post_id": 56674819, "comment_id": 99918365, "body": "I get an array of details on the things (values and functions) I passed through props. But I cannot type continuously without losing the focus."}, {"owner": {"reputation": 2223, "user_id": 1913185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4265c02c85f885f6725adada17579253?s=128&d=identicon&r=PG", "display_name": "technogeek1995", "link": "https://stackoverflow.com/users/1913185/technogeek1995"}, "reply_to_user": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1560978793, "post_id": 56674819, "comment_id": 99919054, "body": "@user11436513 I updated my answer to fix a bug. The <code>component</code> prop should have been the <code>render</code> prop since it&#39;s calling a function to render the component."}, {"owner": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1560979986, "post_id": 56674819, "comment_id": 99919456, "body": "Thank you, now it shows the <code>Instructor Profile</code> with the message <code>Welcome to the profile</code>, but when I reload the page, it disappears... any solution on this?"}, {"owner": {"reputation": 2223, "user_id": 1913185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4265c02c85f885f6725adada17579253?s=128&d=identicon&r=PG", "display_name": "technogeek1995", "link": "https://stackoverflow.com/users/1913185/technogeek1995"}, "reply_to_user": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1560980600, "post_id": 56674819, "comment_id": 99919649, "body": "Maybe add <code>exact</code> in the <code>InstructorProfile</code> component? I think you really need some user authentication response from a server to confirm that the username and password is correct. I&#39;m not sure what your new issue is. I would open a new question because I don&#39;t think the issues are related."}, {"owner": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1561017407, "post_id": 56674819, "comment_id": 99928751, "body": "can you provide me with a link to authenticate username and password in database and compare that response with user input values?"}, {"owner": {"reputation": 2223, "user_id": 1913185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4265c02c85f885f6725adada17579253?s=128&d=identicon&r=PG", "display_name": "technogeek1995", "link": "https://stackoverflow.com/users/1913185/technogeek1995"}, "reply_to_user": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "edited": false, "score": 0, "creation_date": 1561034034, "post_id": 56674819, "comment_id": 99937661, "body": "@user11436513 I&#39;m not sure there&#39;s a tutorial to show you exactly what you need to do. You need to build a REST API (server) and set up a database. However, probably the fastest way would be to pay for Wes Bos&#39;s videos. You&#39;ll learn how to use React with a Firebase (Google Cloud). I would recommend these Wesbos videos (<a href=\"https://reactforbeginners.com/\" rel=\"nofollow noreferrer\">reactforbeginners.com</a>). After you take his course, you&#39;ll be able to easily accomplish this task. I don&#39;t work for Wes or know him. It&#39;s how I first started with React."}], "tags": [], "owner": {"reputation": 2223, "user_id": 1913185, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/4265c02c85f885f6725adada17579253?s=128&d=identicon&r=PG", "display_name": "technogeek1995", "link": "https://stackoverflow.com/users/1913185/technogeek1995"}, "is_accepted": true, "score": 1, "last_activity_date": 1560978752, "last_edit_date": 1560978752, "creation_date": 1560973460, "answer_id": 56674819, "question_id": 56674414, "link": "https://stackoverflow.com/questions/56674414/how-to-redirect-go-to-the-user-profile-after-login-page-in-reactjs/56674819#56674819", "title": "How to Redirect/go to the User Profile after login page in ReactJS", "body": "<h2>Resolved As Is</h2>\n\n<p>The problems you're experiencing are likely related to your router not being configured correctly. If you want your <code>InstructorLoginFormComponent</code> to be rendered on path <code>/</code>, you have to put it inside the route like below. You cannot just pass the reference to the component since you need to pass it the username, password, etc props. You should remove it from anywhere else in your render function since you only want it to render when the path is <code>/</code>. I also changed your instructor path to use <code>:id</code>. When you want to specify a url parameter, you need to use the syntax <code>/&lt;my_url&gt;:&lt;my_variable_name&gt;</code>. It's important to put the <code>/</code> out front of all your paths because it's a relative path if you don't.</p>\n\n<h3>New Router Component</h3>\n\n<pre><code>&lt;Router&gt;\n  &lt;Switch&gt;\n    &lt;Route exact path=\"/login\" render={props =&gt; (\n      &lt;InstructorLoginFormComponent\n        {...props}\n        username = { this.state.username }\n        password = { this.state.password }\n        handleOnClick = { this.handleOnClick }\n        onChangeUsername = { this.onChangeUsername }\n        onChangePassword = { this.onChangePassword }\n      /&gt;\n    )} /&gt;          \n    &lt;Route path={\"/instructor/:instructorId\"} component={InstructorProfile} /&gt;\n  &lt;/Switch&gt;\n&lt;/Router&gt;\n</code></pre>\n\n<h3>Updated handleOnClick</h3>\n\n<pre><code>handleOnClick(e) {\n  e.preventDefault();\n  const path = `/instructor/${this.state.username}`;\n  this.props.history.push(path);\n}\n</code></pre>\n\n<h3>Updated Login Button</h3>\n\n<pre><code>&lt;Link\n  to={`/instructor/${this.props.username}`}\n  type=\"button\"\n  className=\"btn login_btn bg-info\"\n&gt;\nLogin\n&lt;/Link&gt;\n</code></pre>\n\n<h2>Recommendation Regarding Login</h2>\n\n<p>It's important to note that you aren't actually checking the username and password against something on the server. I'm not sure if this is your test code, or if you intend to implement something with REST. However, you should use a button instead of a link that calls a function on click that sends the username and password to the server. From there, it would return if the credentials matched and whether the user would be able to login or not. Then, you would use</p>\n\n<pre><code>this.props.history.push(`instructor/${this.state.username}`);\n</code></pre>\n\n<p>to forward the user to the instructor profile page. But you would only want to do that after you have checked their credentials. You would not use a <code>Link</code> component to perform those actions. I put an example below.</p>\n\n<h3>Example login button</h3>\n\n<pre><code>&lt;button\n  type=\"button\"\n  className=\"btn login_btn bg-info\"\n  onClick={this.props.handleOnClick}\n&gt;\nLogin\n&lt;/button&gt;\n</code></pre>\n\n<h3>New handleOnClick</h3>\n\n<pre><code>handleOnClick = async (e) =&gt; {\n  e.preventDefault();\n  //pseudo-code below\n  const user = await checkUserCredentialsAndGetUserObject(this.state.username, this.state.password);\n  if(user.response === 'success') {\n    this.setState({ user });\n    this.props.history.push(`/instructor/${this.state.username}`);\n  } else {\n    flashMessage('The user credentials you entered were incorrect.');\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 147, "user_id": 10140836, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/882ea1bede272611c13273a9c067ae4d?s=128&d=identicon&r=PG&f=1", "display_name": "Rob B", "link": "https://stackoverflow.com/users/10140836/rob-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1560973563, "creation_date": 1560973563, "answer_id": 56674840, "question_id": 56674414, "link": "https://stackoverflow.com/questions/56674414/how-to-redirect-go-to-the-user-profile-after-login-page-in-reactjs/56674840#56674840", "title": "How to Redirect/go to the User Profile after login page in ReactJS", "body": "<p>Ok, I'm not exactly sure what you're asking, but I think I know where you're going wrong.</p>\n\n<p>First of all, when you use the exact keyword on a Route, it will <strong>literally</strong> only show when the url matches. So if you want the LoginFormComponent to show in addition to another, you need to remove the exact keyword.</p>\n\n<p>Next, for dynamically rendering profile pages, you are not following how React Router works.</p>\n\n<p>This tutorial gives a good overview: <a href=\"https://tylermcginnis.com/react-router-url-parameters/\" rel=\"nofollow noreferrer\">https://tylermcginnis.com/react-router-url-parameters/</a></p>\n\n<p>The short of it is, for the Profile page, the path should be</p>\n\n<pre><code>&lt;Route path='/instructor/:username' component={InstructorProfile} /&gt;\n</code></pre>\n\n<p>Then, in the profile component, set the initial state by accessing the username in the URL with</p>\n\n<pre><code>this.state = {\n  user: props.match.params.username\n}\n</code></pre>\n\n<p>The question is a little vague, but I think this will help with what you're trying to do. Let me know if something is unclear.</p>\n"}], "owner": {"reputation": 1043, "user_id": 7084115, "user_type": "registered", "accept_rate": 38, "profile_image": "https://lh3.googleusercontent.com/-PSbo8QsT1vc/AAAAAAAAAAI/AAAAAAAAAA0/jaGF_3ypP0Q/photo.jpg?sz=128", "display_name": "Jananath Banuka", "link": "https://stackoverflow.com/users/7084115/jananath-banuka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3577, "favorite_count": 3, "accepted_answer_id": 56674819, "answer_count": 2, "score": 3, "last_activity_date": 1560978752, "creation_date": 1560971566, "last_edit_date": 1560974840, "question_id": 56674414, "link": "https://stackoverflow.com/questions/56674414/how-to-redirect-go-to-the-user-profile-after-login-page-in-reactjs", "title": "How to Redirect/go to the User Profile after login page in ReactJS", "body": "<p>I am trying to Redirect to the <code>User Profile</code> page once the user is logged in with valid <code>username</code> and <code>password</code></p>\n\n<p>But when I click the <code>Login</code> button, it doesn't go to the <code>User Profile</code> (but it changes the <code>url</code> as intended (<code>http://localhost:3000/instructor/banuka</code>)</p>\n\n<p>It should also display <code>InstructorLoginFormComponent</code> which it doesn't. <strong>When I click nothing happens but all I can see is still there is the <code>login</code> page</strong></p>\n\n<p>This is my <code>InstructorLoginForm.jsx</code></p>\n\n<pre><code>import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport InstructorProfile from \"./instructor-profile\";\nimport InstructorLoginFormComponent from \"./instructor-login-form-component\";\n\nexport default class InstructorLoginForm extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      username: \"\",\n      password: \"\"\n    };\n\n    this.onChangeUsername = this.onChangeUsername.bind(this);\n    this.onChangePassword = this.onChangePassword.bind(this);\n    this.handleOnClick = this.handleOnClick.bind(this);\n  }\n\n  onChangeUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  onChangePassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  handleOnClick(e) {\n    e.preventDefault();\n    const path = `/instructor/${this.state.username}`;\n    this.props.history.push(path);\n  }\n\n  render() {\n    return (\n      &lt;Router&gt;\n        &lt;Switch&gt;\n          &lt;Route\n            exact\n            path=\"/login\"\n            component={props =&gt; (\n              &lt;InstructorLoginFormComponent\n                {...props}\n                username={this.state.username}\n                password={this.state.password}\n                handleOnClick={this.handleOnClick}\n                onChangeUsername={this.onChangeUsername}\n                onChangePassword={this.onChangePassword}\n              /&gt;\n            )}\n          /&gt;\n          &lt;Route\n            path={\"/instructor/:instructorId\"}\n            component={InstructorProfile}\n          /&gt;\n        &lt;/Switch&gt;\n      &lt;/Router&gt;\n    );\n  }\n}\n\n</code></pre>\n\n<p>This is the <code>InstructorLoginFormComponent.jsx</code></p>\n\n<pre><code>import React, { Component } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default class InstructorLoginFormComponent extends Component {\n  constructor(props) {\n    super(props);\n  }\n  render() {\n    return (\n      &lt;div className=\"container h-100\" style={{ marginTop: 100 }}&gt;\n        &lt;div className=\"d-flex justify-content-center h-100\"&gt;\n          &lt;div className=\"user_card bg-dark\"&gt;\n            &lt;div className=\"d-flex justify-content-center\"&gt;              \n            &lt;/div&gt;\n            &lt;div\n              className=\"d-flex justify-content-center form_container\"\n              style={{ marginTop: 0 }}\n            &gt;\n              &lt;form&gt;\n                &lt;div className=\"input-group mb-3\"&gt;\n                  &lt;div className=\"input-group-append\"&gt;\n                    &lt;span className=\"input-group-text bg-info\"&gt;\n                      &lt;i className=\"fa fa-user\" /&gt;\n                    &lt;/span&gt;\n                  &lt;/div&gt;\n                  &lt;input\n                    value={this.props.username}\n                    onChange={this.props.onChangeUsername}\n                    type=\"text\"\n                    name=\"username\"\n                    className=\"form-control input_user\"\n                    placeholder=\"username\"\n                  /&gt;\n                &lt;/div&gt;\n                &lt;div className=\"input-group mb-2\"&gt;\n                  &lt;div className=\"input-group-append\"&gt;\n                    &lt;span className=\"input-group-text bg-info\"&gt;\n                      &lt;i className=\"fa fa-lock\" /&gt;\n                    &lt;/span&gt;\n                  &lt;/div&gt;\n                  &lt;input\n                    value={this.props.password}\n                    onChange={this.props.onChangePassword}\n                    type=\"password\"\n                    name=\"password\"\n                    className=\"form-control input_user\"\n                    placeholder=\"password\"\n                  /&gt;\n                &lt;/div&gt;\n                &lt;div className=\"form-group\"&gt;\n                  &lt;div className=\"custom-control custom-checkbox\"&gt;\n                    &lt;input\n                      type=\"checkbox\"\n                      className=\"custom-control-input\"\n                      id=\"customControlInline\"\n                    /&gt;\n                    &lt;label\n                      className=\"custom-control-label\"\n                      htmlFor=\"customControlInline\"\n                      style={{ color: \"#ffffff\" }}\n                    &gt;\n                      Remember me\n                    &lt;/label&gt;\n                  &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/form&gt;\n            &lt;/div&gt;\n\n            &lt;div className=\"d-flex justify-content-center mt-3 login_container\"&gt;\n              &lt;Link\n                to={`/instructor/${this.props.username}`}\n                type=\"button\"\n                className=\"btn login_btn bg-info\"\n              &gt;\n                Login\n              &lt;/Link&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\n</code></pre>\n\n<p>And this is the <code>InstructorProfile.jsx</code></p>\n\n<pre><code>import React, { Component } from \"react\";\nimport { BrowserRouter as Router, Route, Link } from \"react-router-dom\";\n\nexport default class InstructorProfile extends Component {\n  render(){\n      return(\n          &lt;div&gt;\n              &lt;h1&gt;Welcome to the profile&lt;/h1&gt;\n          &lt;/div&gt;\n      );\n  }\n}\n</code></pre>\n\n<p>Can someone please tell me where I have went wrong and suggest me a good way to redirect after login validation?</p>\n"}, {"tags": ["javascript", "jquery", "json"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1560971589, "post_id": 56674401, "comment_id": 99916185, "body": "<code>if ($(&#39;p#color0&#39;).text(&quot;red&quot;))</code> is not even correct.... That is not looking if it is red, it sets it to red."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 3, "creation_date": 1560971794, "post_id": 56674401, "comment_id": 99916279, "body": "If the code works (which seems unlikely, but giving the benefit of the doubt), and you want a review of all of your code (not just the parts you want reviewed), you may be better served on <a href=\"https://codereview.stackexchange.com\">Code Review</a>, but review their <a href=\"https://codereview.stackexchange.com/help/on-topic\">help center</a> first."}, {"owner": {"reputation": 13, "user_id": 7490322, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0B2L3l9wFos/AAAAAAAAAAI/AAAAAAAARiI/xjxcuyL32t8/photo.jpg?sz=128", "display_name": "Aleksei Demochko", "link": "https://stackoverflow.com/users/7490322/aleksei-demochko"}, "edited": false, "score": 0, "creation_date": 1560972397, "post_id": 56674401, "comment_id": 99916542, "body": "Should I use something like   if ($(&#39;p#color0:contains(&quot;red&quot;)&#39;)){               $(&#39;p#color0&#39;).text(&quot;&quot;).append(&quot;&lt;img src=&#39;red.png&#39;&gt;&quot;);"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1560975532, "post_id": 56674401, "comment_id": 99917828, "body": "that contains line would not work because it returns a jquery object which is truthy. you would have to look for a length for it to be a truthy check."}], "answers": [{"comments": [{"owner": {"reputation": 855, "user_id": 4629519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z-ptdSU_uOM/AAAAAAAAAAI/AAAAAAAABEI/UHK4WP-lx8Y/photo.jpg?sz=128", "display_name": "Grant Noe", "link": "https://stackoverflow.com/users/4629519/grant-noe"}, "edited": false, "score": 0, "creation_date": 1560974737, "post_id": 56674895, "comment_id": 99917491, "body": "How do you know why the OP doesn&#39;t need to compare? Maybe the text doesn&#39;t always equal the color, hence why it&#39;s wrapped in the &quot;if&quot;."}, {"owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "reply_to_user": {"reputation": 855, "user_id": 4629519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z-ptdSU_uOM/AAAAAAAAAAI/AAAAAAAABEI/UHK4WP-lx8Y/photo.jpg?sz=128", "display_name": "Grant Noe", "link": "https://stackoverflow.com/users/4629519/grant-noe"}, "edited": false, "score": 0, "creation_date": 1560974822, "post_id": 56674895, "comment_id": 99917525, "body": "because OP is getting the text from json[counter].color . It is in his/her code."}, {"owner": {"reputation": 855, "user_id": 4629519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z-ptdSU_uOM/AAAAAAAAAAI/AAAAAAAABEI/UHK4WP-lx8Y/photo.jpg?sz=128", "display_name": "Grant Noe", "link": "https://stackoverflow.com/users/4629519/grant-noe"}, "edited": false, "score": 0, "creation_date": 1560975031, "post_id": 56674895, "comment_id": 99917606, "body": "If you open the json link, counter 3 and counter 4 are both set to color &quot;black&quot;. Wherever the data is sourced, the counter # is not always directly associated with a color."}, {"owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "reply_to_user": {"reputation": 855, "user_id": 4629519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z-ptdSU_uOM/AAAAAAAAAAI/AAAAAAAABEI/UHK4WP-lx8Y/photo.jpg?sz=128", "display_name": "Grant Noe", "link": "https://stackoverflow.com/users/4629519/grant-noe"}, "edited": false, "score": 0, "creation_date": 1560975138, "post_id": 56674895, "comment_id": 99917650, "body": "it&#39;s fine since you chose your verified answer already. Anyhow you can take advantage of the translation part I just added. Have a good day."}], "tags": [], "owner": {"reputation": 1687, "user_id": 9357872, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/72ae075f639ca9e1d235ed30685d18e3?s=128&d=identicon&r=PG&f=1", "display_name": "Evik Ghazarian", "link": "https://stackoverflow.com/users/9357872/evik-ghazarian"}, "is_accepted": false, "score": 1, "last_activity_date": 1560978295, "last_edit_date": 1560978295, "creation_date": 1560973759, "answer_id": 56674895, "question_id": 56674401, "link": "https://stackoverflow.com/questions/56674401/how-to-get-rid-of-many-ifs-and-make-a-system-to-differ-elements/56674895#56674895", "title": "How to get rid of many IFs and make a system to differ elements?", "body": "<p>First of all your code won't work because you are setting the text rather than comparing it. Second, you don't need to compare: just set the img src to text. Like below:</p>\n\n<p>REMEMBER THIS IS FOR COLOR TEXT REPLACEMENT PART OF YOUR QUESTION </p>\n\n<pre><code>for (let i = 0; i &lt; 5 , i ++){\n     let color = $(\"p#color\"+i).text() + \".png\";\n     $(\"p#color\"+i).text(\"\").append(\"&lt;img src=\" + color + \"&gt;\");\n} \n</code></pre>\n\n<p>FOR TEXT TRANSLATION YOU CAN USE:</p>\n\n<pre><code>function getTranslate(input) {\n                                var inputMap = {\n                                    \"pednding\": \"\u041e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f\",\n                                    \"out_of_stock\": \"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438\",\n                                    \"in_stock\": \"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438\"\n                                }\n                                var defaultCode = input;\n                                return inputMap[input] || defaultCode;\n                }\n                for (let i = 0; i &lt; 5 , i ++){\n                    var text = $(\"p#status\"+i).text();\n                    $(\"p#status\"+i).text(\"\").append(getTranslate(text));\n                }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560974161, "post_id": 56674908, "comment_id": 99917263, "body": "It would be better to use <code>i &lt; colors.length</code> instead of hard-coding the limit. And of course, the variable should be declared before the loop."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560974184, "post_id": 56674908, "comment_id": 99917269, "body": "Maybe even use <code>colors.forEach(...)</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1560974250, "post_id": 56674908, "comment_id": 99917295, "body": "<code>.val()</code> should be <code>.text()</code>. <code>.val()</code> is only for inputs."}, {"owner": {"reputation": 855, "user_id": 4629519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z-ptdSU_uOM/AAAAAAAAAAI/AAAAAAAABEI/UHK4WP-lx8Y/photo.jpg?sz=128", "display_name": "Grant Noe", "link": "https://stackoverflow.com/users/4629519/grant-noe"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560974515, "post_id": 56674908, "comment_id": 99917404, "body": "@Barmar I agree on <code>.text()</code>. I just updated the code to reflect that. I disagree on <code>colors.length</code> or <code>colors.forEach()</code> because it&#39;s somewhat ambiguous in the OP where the colors or numbers are coming from. In the provided example they are hard-coded, so I followed suit. I&#39;ll leave it up to the OP to recode that as he desires."}, {"owner": {"reputation": 13, "user_id": 7490322, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0B2L3l9wFos/AAAAAAAAAAI/AAAAAAAARiI/xjxcuyL32t8/photo.jpg?sz=128", "display_name": "Aleksei Demochko", "link": "https://stackoverflow.com/users/7490322/aleksei-demochko"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1561201174, "post_id": 56674908, "comment_id": 99991933, "body": "@Barmar @Grant-Noe Actually, after several tests I realized that the code doesn&#39;t work properly.                     &lt;code&gt;for (let i = 0; i &lt; json.length; i++) {                         let color = $(&quot;td#color&quot;+i).text();                                                 let img = &#39;img/&#39;;                                                 $(&quot;td#color&quot;+i).append(<code>&lt;img src=&#39;${img}${color}.png&#39;&gt;</code>);                                               };&lt;/code&gt;  It goes through all the td#color0-5, but eliminates all the data in the previous ones. I.e. if it is on the td#color5 - color0-4 are empty."}, {"owner": {"reputation": 855, "user_id": 4629519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z-ptdSU_uOM/AAAAAAAAAAI/AAAAAAAABEI/UHK4WP-lx8Y/photo.jpg?sz=128", "display_name": "Grant Noe", "link": "https://stackoverflow.com/users/4629519/grant-noe"}, "reply_to_user": {"reputation": 13, "user_id": 7490322, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0B2L3l9wFos/AAAAAAAAAAI/AAAAAAAARiI/xjxcuyL32t8/photo.jpg?sz=128", "display_name": "Aleksei Demochko", "link": "https://stackoverflow.com/users/7490322/aleksei-demochko"}, "edited": false, "score": 0, "creation_date": 1561203642, "post_id": 56674908, "comment_id": 99992393, "body": "@AlekseiDemochko well I can see that the code itself and what you\u2019re attempting to do has changed. I notice two grammatical errors right away looking at what you provided. First, the code you append needs to be surrounded by back ticks (`) to use variables with ${}. Research \u201ctemplate literals\u201d for more info on that. Second, your <code>for</code> loop doesn\u2019t require an apostrophe at the end. It would be tough to debug beyond that without a working example, but I\u2019d recommend opening a new question with a working Snippet to get some help with this."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 13, "user_id": 7490322, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0B2L3l9wFos/AAAAAAAAAAI/AAAAAAAARiI/xjxcuyL32t8/photo.jpg?sz=128", "display_name": "Aleksei Demochko", "link": "https://stackoverflow.com/users/7490322/aleksei-demochko"}, "edited": false, "score": 1, "creation_date": 1561393720, "post_id": 56674908, "comment_id": 100040084, "body": "@AlekseiDemochko Looks like he did put it in backticks. In comments, backticks cause code formatting (you need to escape them or surround the code with triple-backticks, not <code>&lt;code&gt;</code>."}], "tags": [], "owner": {"reputation": 855, "user_id": 4629519, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Z-ptdSU_uOM/AAAAAAAAAAI/AAAAAAAABEI/UHK4WP-lx8Y/photo.jpg?sz=128", "display_name": "Grant Noe", "link": "https://stackoverflow.com/users/4629519/grant-noe"}, "is_accepted": true, "score": 1, "last_activity_date": 1560976720, "last_edit_date": 1560976720, "creation_date": 1560973802, "answer_id": 56674908, "question_id": 56674401, "link": "https://stackoverflow.com/questions/56674401/how-to-get-rid-of-many-ifs-and-make-a-system-to-differ-elements/56674908#56674908", "title": "How to get rid of many IFs and make a system to differ elements?", "body": "<p>I'm not going to rewrite the entire script, but in principle it would be something like this:</p>\n\n<pre><code>for (i = 0; i &lt; 5; i++) {\n   var colors = [\"red\", \"white\", \"black\", \"green\", \"grey\"];\n   if ($('p#color' + i).text() == colors[i]){\n      $('p#color' + i).text(\"\").append(\"&lt;img src='\" + colors[i] + \".png'&gt;\");\n   }\n}\n</code></pre>\n\n<p><strong>@Evik Ghazarian has a <a href=\"https://stackoverflow.com/a/56674895/4629519\">quality solution</a> for the Text Translation portion of your script. Since this is the accepted answer, he allowed me to copy his solution so that the answers would be together:</strong></p>\n\n<pre><code>function getTranslate(input) {\n   var inputMap = {\n      \"pednding\": \"\u041e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f\",\n      \"out_of_stock\": \"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438\",\n      \"in_stock\": \"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438\"\n   }\n   var defaultCode = input;\n   return inputMap[input] || defaultCode;\n}\nfor (let i = 0; i &lt; 5 , i ++){\n   var text = $(\"p#status\"+i).text();\n   $(\"p#status\"+i).text(\"\").append(getTranslate(text));\n}\n</code></pre>\n\n<h3>Dynamic Iteration Counters</h3>\n\n<p>@Barmar mentioned in the comments below that the <code>for</code> loops that set a max iteration via <code>i &lt; 5</code> should actually be rewritten dynamically. I'll leave it to the OP to decide the best way to do this, but a good example might be something like <code>i &lt; json.length</code> as used in the OP's original <code>for</code> loop.</p>\n"}], "owner": {"reputation": 13, "user_id": 7490322, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0B2L3l9wFos/AAAAAAAAAAI/AAAAAAAARiI/xjxcuyL32t8/photo.jpg?sz=128", "display_name": "Aleksei Demochko", "link": "https://stackoverflow.com/users/7490322/aleksei-demochko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 85, "favorite_count": 0, "accepted_answer_id": 56674908, "answer_count": 2, "score": 0, "last_activity_date": 1560978295, "creation_date": 1560971522, "question_id": 56674401, "link": "https://stackoverflow.com/questions/56674401/how-to-get-rid-of-many-ifs-and-make-a-system-to-differ-elements", "title": "How to get rid of many IFs and make a system to differ elements?", "body": "<p>In this piece of code you can see a JSON request that fetches some data. I need some help to check certain opportunities of minimizing the code and getting iterations with FOR instead of many IFs. Also, it would be nice if you advise anything on the differentiation system (how to make elements differ from each other)</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    function deleteRow0() {\n        $('p.row0').remove();\n    }; \n    function deleteRow1() {\n        $('p.row1').remove();\n    }; \n    function deleteRow2() {\n        $('p.row2').remove();\n    }; \n    function deleteRow3() {\n        $('p.row3').remove();\n    }; \n    function deleteRow4() {\n        $('p.row4').remove();        \n    }; \n&lt;/script&gt;\n&lt;script type=\"text/javascript\"&gt;\n    function hello2() {\n        //GETTING JSON INFO\n        $.getJSON(\"https://rawgit.com/Varinetz/e6cbadec972e76a340c41a65fcc2a6b3/raw/90191826a3bac2ff0761040ed1d95c59f14eaf26/frontend_test_table.json\", function(json) {\n            $('#table-cars').css(\"display\", \"grid\");\n            for (let counter = 0; counter &lt; json.length; counter++) {\n                $('#table-cars').append(\"&lt;p class='row\" + counter +\" main-text'&gt;\" + json[counter].title + \"&lt;br/&gt;\" + \"&lt;span class='sub-text'&gt;\" + json[counter].description + \"&lt;/span&gt;\" + \"&lt;/p&gt;\"\n                + \"&lt;p class='row\" + counter +\" main-text'&gt;\" + json[counter].year + \"&lt;/p&gt;\" \n                + \"&lt;p id='color\" + [counter] + \"' class='row\" + counter +\" main-text'&gt;\" + json[counter].color + \"&lt;/p&gt;\" \n                + \"&lt;p id='status\" + [counter] + \"' class='row\" + counter +\" main-text'&gt;\" + json[counter].status + \"&lt;/p&gt;\" \n                + \"&lt;p class='row\" + counter +\" main-text'&gt;\" + json[counter].price + \" \u0440\u0443\u0431.\" + \"&lt;/p&gt;\" \n                + \"&lt;p class='row\" + counter +\" main-text'&gt;\" + \"&lt;button class='delete' onclick='deleteRow\" + [counter] + \"()'&gt;\u0423\u0434\u0430\u043b\u0438\u0442\u044c&lt;/button&gt;\" + \"&lt;/p&gt;\");\n                // COLOR TEXT REPLACEMENT\n                if ($('p#color0').text(\"red\")){\n                    $('p#color0').text(\"\").append(\"&lt;img src='red.png'&gt;\");\n                }    \n                if ($('p#color1').text(\"white\")) {\n                    $('p#color1').text(\"\").append(\"&lt;img src='white.png'&gt;\");\n                }  \n                if ($('p#color2').text(\"black\")) {\n                    $('p#color2').text(\"\").append(\"&lt;img src='black.png'&gt;\");\n                }  \n                if ($('p#color3').text(\"green\")) {\n                    $('p#color3').text(\"\").append(\"&lt;img src='green.png'&gt;\");\n                } \n                if ($('p#color4').text(\"grey\")) {\n                    $('p#color4').text(\"\").append(\"&lt;img src='grey.png'&gt;\");\n                } \n                // STATUS TEXT REPLACEMENT\n                if ($('p#status0').text(\"pednding\")) {\n                    $('p#status0').text(\"\").append(\"\u041e\u0436\u0438\u0434\u0430\u0435\u0442\u0441\u044f\");\n                }    \n                if ($('p#status1').text(\"out_of_stock\")) {\n                    $('p#status1').text(\"\").append(\"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438\");\n                }  \n                if ($('p#status2').text(\"in_stock\")) {\n                    $('p#status2').text(\"\").append(\"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438\");\n                }  \n                if ($('p#status3').text(\"out_of_stock\")) {\n                    $('p#status3').text(\"\").append(\"\u041d\u0435\u0442 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0438\");\n                } \n                if ($('p#status4').text(\"in_stock\")) {\n                    $('p#status4').text(\"\").append(\"\u0412 \u043d\u0430\u043b\u0438\u0447\u0438\u0438\");\n                } \n        }\n\n        });\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>I expect this to be something like:\n1) Iteration: For each p.row(i) {\ncompare it to many color (json.color)};\n2) Any suggestion on differentiation system (i.e. changes in the FOR section, so it gives something easier to work with, not just simple p.row(n)). Of course, if it is possible.</p>\n"}, {"tags": ["javascript", "python", "reactjs", "heroku", "fetch"], "comments": [{"owner": {"reputation": 47115, "user_id": 235354, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/097d761861529df52a6800744f1074d2?s=128&d=identicon&r=PG", "display_name": "jspcal", "link": "https://stackoverflow.com/users/235354/jspcal"}, "edited": false, "score": 0, "creation_date": 1560971690, "post_id": 56674384, "comment_id": 99916238, "body": "Hi perhaps make sure REACT_APP_BACKEND_URL is a fully qualified URL like <code>https:&#47;&#47;my-backend&#47;</code>"}], "owner": {"reputation": 11, "user_id": 10632882, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "jmm21", "link": "https://stackoverflow.com/users/10632882/jmm21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560994198, "creation_date": 1560971410, "last_edit_date": 1560994198, "question_id": 56674384, "link": "https://stackoverflow.com/questions/56674384/how-do-i-fixed-my-fetch-call-to-only-go-the-the-backend-and-not-attach-the-front", "title": "How do I fixed my fetch call to only go the the backend and not attach the front end url", "body": "<p>I'm currently deploying my school project app to <code>Heroku</code> and whenever I tried to register or login. It gives me <code>405 error code</code>. I think i get it because the routes of my fetch if wrong</p>\n\n<p>I check on where my fetch is to make sure that its only pointing to the backend api.</p>\n\n<p>this is my <code>app.js</code> in frontend</p>\n\n<pre><code>    try{\n      const registerUser = await fetch(process.env.REACT_APP_BACKEND_URL + '/users/registration', {\n        method: \"POST\",\n        body: JSON.stringify(data),\n        credentials: 'include',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })```\n\nand my backend is\n\napp.py\n```CORS(users_api, origins= [\"http://localhost:3000\", \"https://happyhour-frontend.herokuapp.com\"], supports_credentials=True)```\n\nusers.py\n```class UserList(Resource):\n    def __init__(self):\n        self.reqparse = reqparse.RequestParser()\n        self.reqparse.add_argument(\n            'username',\n            required=True,\n            help='No username provided',\n            location=['form', 'json']\n        )\n        self.reqparse.add_argument(\n            'password',\n            required=True,\n            help='No password provided',\n            location=['form', 'json']\n        )\n        self.reqparse.add_argument(\n            'verify_password',\n            required=True,\n            help='No password verification provided',\n            location=['form', 'json']\n        )\n        self.reqparse.add_argument(\n            'email',\n            required=True,\n            help='No email Provided',\n            location=['form', 'json']\n        )\n        super().__init__()\n\n\n    def get(self):\n        posts = [marshal(user, user_fields) for user in models.User.select()]\n        return posts```\n\n\n\n\nPOST: https[://frontend-link/backend-link/routes/ 405 (Not Allowed)][1]\n\n\n  [1]: https://i.stack.imgur.com/9dXXw.png\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "vuex"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 10008102, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Xj2HNW4MVQI/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq3Elvlw_MvgJ0aWS9mh7i59OfSBvQ/mo/photo.jpg?sz=128", "display_name": "Dziejo", "link": "https://stackoverflow.com/users/10008102/dziejo"}, "is_accepted": false, "score": 0, "last_activity_date": 1560976750, "creation_date": 1560976750, "answer_id": 56675514, "question_id": 56674354, "link": "https://stackoverflow.com/questions/56674354/wait-for-some-time-before-showing-loading-screen-vuejs/56675514#56675514", "title": "Wait for some time before showing loading screen VueJS", "body": "<p>so about your question. As of now you're only delaying commiting 'loading' mutation by 500ms. To answer your question you should do something like that:</p>\n\n<pre><code>router.beforeEach((to, from, next) =&gt; {\n  store.commit('loading', true);\n   setTimeout(() =&gt; {\n    store.commit('loading', false);\n   }, 500);\n   next();\n})\n</code></pre>\n\n<p>That will delay commiting <code>store.commit('loading', false);</code> by 500ms. The question is do you really want to falsely delay loading of a component. Why not use transitions in that case ?</p>\n\n<p>Here is example how loading next route is delayed\n<a href=\"https://codesandbox.io/s/vue-highcharts-demo-nn3uv\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/vue-highcharts-demo-nn3uv</a></p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11608775"}, "is_accepted": true, "score": 0, "last_activity_date": 1560993261, "last_edit_date": 1592644375, "creation_date": 1560993261, "answer_id": 56677764, "question_id": 56674354, "link": "https://stackoverflow.com/questions/56674354/wait-for-some-time-before-showing-loading-screen-vuejs/56677764#56677764", "title": "Wait for some time before showing loading screen VueJS", "body": "<p>I think you are not understanding the Vue Router Navigation Guards. According to <a href=\"https://router.vuejs.org/guide/advanced/navigation-guards.html#global-before-guards\" rel=\"nofollow noreferrer\">Vue Router Docs</a>:</p>\n<blockquote>\n<p>Global before guards are called in creation order, whenever a navigation is triggered. Guards may be resolved asynchronously, and the navigation is considered pending before all hooks have been resolved.</p>\n</blockquote>\n<p>In simple words, just show the loader in <code>beforeEach</code> as you are doing:</p>\n<pre><code>store.commit('loading', true);\n</code></pre>\n<p>And just hide it in <code>afterEach</code> as:</p>\n<pre><code>store.commit('loading', false);\n</code></pre>\n<p>That's it.</p>\n<blockquote>\n<p><strong>Don't add <code>setTimeout</code> in <code>afterEach</code>.</strong></p>\n</blockquote>\n<p>Hope it will help.</p>\n"}], "owner": {"reputation": 486, "user_id": 9713525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HQOi7.jpg?s=128&g=1", "display_name": "Usman Developer", "link": "https://stackoverflow.com/users/9713525/usman-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 674, "favorite_count": 1, "accepted_answer_id": 56677764, "answer_count": 2, "score": 1, "last_activity_date": 1560993261, "creation_date": 1560971265, "question_id": 56674354, "link": "https://stackoverflow.com/questions/56674354/wait-for-some-time-before-showing-loading-screen-vuejs", "title": "Wait for some time before showing loading screen VueJS", "body": "<p>In <strong>VueJS</strong>, I am showing the loader on each route as:</p>\n\n<pre><code>router.beforeEach((to, from, next) =&gt; {\n  store.commit('loading', true);\n  next();\n})\n</code></pre>\n\n<p>But if server loads the page in less than one second then it looks weird to show loader for this request, for just one sec.</p>\n\n<p>What I want to wait for some time let just say 2sec or maybe 3sec and after all, if the page is not loaded yet then show loader otherwise not. So for this, I put <code>setTimeout</code> as:</p>\n\n<pre><code>router.beforeEach((to, from, next) =&gt; {\n  setTimeout(() =&gt; {\n    store.commit('loading', true);\n  }, 500);\n  next();\n})\n</code></pre>\n\n<p>Now the loader is always shown never goes then I also tried to move <code>next()</code> statement into <code>setTimeout</code> but then the page first waits for <code>500 mili-sec</code> then the loader shows up and then hides suddenly and page loads.</p>\n\n<p>I want to make it in a better way, any suggestions?</p>\n"}, {"tags": ["javascript", "jquery", "class", "instance", "swiper"], "comments": [{"owner": {"reputation": 4252, "user_id": 3103891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mZxsu.jpg?s=128&g=1", "display_name": "GalAbra", "link": "https://stackoverflow.com/users/3103891/galabra"}, "edited": false, "score": 0, "creation_date": 1560973461, "post_id": 56674306, "comment_id": 99916968, "body": "Your variables names seem like a bad practice, especially when asking people who don&#39;t know your code and only see a fragment of it"}, {"owner": {"reputation": 302, "user_id": 3697484, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006351510369/picture?type=large", "display_name": "Latheesh V M Villa", "link": "https://stackoverflow.com/users/3697484/latheesh-v-m-villa"}, "reply_to_user": {"reputation": 4252, "user_id": 3103891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mZxsu.jpg?s=128&g=1", "display_name": "GalAbra", "link": "https://stackoverflow.com/users/3103891/galabra"}, "edited": false, "score": 0, "creation_date": 1560974040, "post_id": 56674306, "comment_id": 99917213, "body": "@GalAbra Hello, Sorry. may i know which part of code confused you?"}, {"owner": {"reputation": 4252, "user_id": 3103891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mZxsu.jpg?s=128&g=1", "display_name": "GalAbra", "link": "https://stackoverflow.com/users/3103891/galabra"}, "edited": false, "score": 0, "creation_date": 1560974438, "post_id": 56674306, "comment_id": 99917362, "body": "Thanks for your reply. I was referring the variables <code>cgggowl...</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560974444, "post_id": 56674306, "comment_id": 99917366, "body": "This question is very unclear. You say you have two objects, but you just give two names that are the same: <code>slidesperview</code>. I suspect you just need to put your objects in an array, but I&#39;m really not sure."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560974528, "post_id": 56674306, "comment_id": 99917412, "body": "&quot;both objects in the loop&quot;. What loop?"}, {"owner": {"reputation": 302, "user_id": 3697484, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006351510369/picture?type=large", "display_name": "Latheesh V M Villa", "link": "https://stackoverflow.com/users/3697484/latheesh-v-m-villa"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560975519, "post_id": 56674306, "comment_id": 99917823, "body": "@Barmar okay, i have updated my question with more details. Please have a check. by loop, i meant two instances"}, {"owner": {"reputation": 302, "user_id": 3697484, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006351510369/picture?type=large", "display_name": "Latheesh V M Villa", "link": "https://stackoverflow.com/users/3697484/latheesh-v-m-villa"}, "reply_to_user": {"reputation": 4252, "user_id": 3103891, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mZxsu.jpg?s=128&g=1", "display_name": "GalAbra", "link": "https://stackoverflow.com/users/3103891/galabra"}, "edited": false, "score": 0, "creation_date": 1560975554, "post_id": 56674306, "comment_id": 99917837, "body": "@GalAbra Thanks. Sorry, i am new to this. I have updated my question"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560976005, "post_id": 56674306, "comment_id": 99918010, "body": "<code>data-settings</code> is not a valid variable name. Anyway, you&#39;re overwriting the variable when you do the second assignment. Try creating an array: <code>data_settings = [{slides_per_view: 3}, {slides_per_view: 6}]</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560976041, "post_id": 56674306, "comment_id": 99918024, "body": "Then you can loop over the array elements, or index them as <code>data_settings[i]</code>."}, {"owner": {"reputation": 302, "user_id": 3697484, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006351510369/picture?type=large", "display_name": "Latheesh V M Villa", "link": "https://stackoverflow.com/users/3697484/latheesh-v-m-villa"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560976441, "post_id": 56674306, "comment_id": 99918192, "body": "@Barmar <code>data-setting</code> is not actually a variable it is a html data actually similar to class, id,style.. there will be two objects so do i have to make an array out of it?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560979275, "post_id": 56674306, "comment_id": 99919212, "body": "Please post actual HTML and JavaScript so we can see what you&#39;re really doing. It&#39;s hard to tell from tiny snippets like this."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1560979354, "post_id": 56674306, "comment_id": 99919243, "body": "You should probably be using something like <code>$(this).data(&quot;settings&quot;)</code> to get the data for the current row. You can use that in an event handler attached to the element, or in a <code>.each()</code> loop."}, {"owner": {"reputation": 302, "user_id": 3697484, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006351510369/picture?type=large", "display_name": "Latheesh V M Villa", "link": "https://stackoverflow.com/users/3697484/latheesh-v-m-villa"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560983512, "post_id": 56674306, "comment_id": 99920402, "body": "@Barmar thank you very much. that solves my problem :)"}], "owner": {"reputation": 302, "user_id": 3697484, "user_type": "registered", "profile_image": "https://graph.facebook.com/100006351510369/picture?type=large", "display_name": "Latheesh V M Villa", "link": "https://stackoverflow.com/users/3697484/latheesh-v-m-villa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560975912, "creation_date": 1560971069, "last_edit_date": 1560975912, "question_id": 56674306, "link": "https://stackoverflow.com/questions/56674306/looping-through-object-for-instance-variable-jquery", "title": "Looping through object for instance variable - jquery", "body": "<p>I am trying to have to two swiper carousels in on a single page. </p>\n\n<p>So if i use the below instance method the carousel works fine <strong>( Single carousel in a page )</strong></p>\n\n<pre><code>mySwiper  = new Swiper('.swiper-container', {\n //conditions\n  slidesPerView: slides_per_view,\n});\n</code></pre>\n\n<p>but when i have two swiper carousels in a page both even though they have different conditions they both behave same. That's my main problem. I am able to set the value <code>slides_per_view</code> with php. </p>\n\n<p>Say if i added two carousels the behave the same though i have set <code>slides_per_view</code> different for them.</p>\n\n<p>in my HTML there is </p>\n\n<pre><code>data-settings = { slides_per_view:3 } // for first carousel\ndata-settings = { slides_per_view:6 } // for Second carousel\n\nvar cggowl_jav_info_cont = $scope.find('.cggowl-row');\nvar cgggowl_settings = cggowl_jav_info_cont.data('settings');\nconsole.log( cgggowl_settings ); //this shows the two objects with slides_per_view as 3 and 6\n</code></pre>\n\n<p>Now i want two new instances of the Swiper with the information contained in the <code>cgggowl_settings</code> variable so that i can avoid conflict there</p>\n\n<pre><code>mySwiper  = new Swiper('.swiper-container', {\n     //conditions\n      slidesPerView: slides_per_view,\n    });\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 1, "creation_date": 1560971199, "post_id": 56674256, "comment_id": 99915992, "body": "Use <code>Object.defineProperties</code> resp. <code>Object.defineProperty</code> to create getters and setters on existing objects. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get#Defining_a_getter_on_existing_objects_using_defineProperty\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 4480, "user_id": 599202, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3cf981ee2c7cc2b57d7ab3e97c83184f?s=128&d=identicon&r=PG", "display_name": "Xeos", "link": "https://stackoverflow.com/users/599202/xeos"}, "reply_to_user": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1560971395, "post_id": 56674256, "comment_id": 99916086, "body": "@connexo, that&#39;s exactly what I was looking for."}], "answers": [{"tags": [], "owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "is_accepted": true, "score": 1, "last_activity_date": 1560971578, "creation_date": 1560971578, "answer_id": 56674419, "question_id": 56674256, "link": "https://stackoverflow.com/questions/56674256/observe-object-property-changes-on-existing-object/56674419#56674419", "title": "Observe object property changes on existing object", "body": "<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperties\" rel=\"nofollow noreferrer\"><code>Object.defineProperties</code></a> resp. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get#Defining_a_getter_on_existing_objects_using_defineProperty\" rel=\"nofollow noreferrer\"><code>Object.defineProperty</code></a> to create getters and setters on existing objects. </p>\n"}], "owner": {"reputation": 4480, "user_id": 599202, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3cf981ee2c7cc2b57d7ab3e97c83184f?s=128&d=identicon&r=PG", "display_name": "Xeos", "link": "https://stackoverflow.com/users/599202/xeos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 56674419, "answer_count": 1, "score": 0, "last_activity_date": 1560971578, "creation_date": 1560970872, "question_id": 56674256, "link": "https://stackoverflow.com/questions/56674256/observe-object-property-changes-on-existing-object", "title": "Observe object property changes on existing object", "body": "<p>It used to be possible to call <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe\" rel=\"nofollow noreferrer\"><code>Object.observe()</code></a> on any object and then receive callbacks when properties were modified. However, it was deprecated and we were given <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\" rel=\"nofollow noreferrer\">Proxies</a> and <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/get\" rel=\"nofollow noreferrer\">getters and setters</a> as alternatives. But neither one allows attaching a listener to an existing object, references to which are already stored elsewhere. Taking this code as an example:</p>\n\n<pre><code>const state = {};\n\n/* BEGIN Third party code */\n(function runProcessing() {\n    setInterval(globalState =&gt; {\n        if (Math.random() &gt; 0.5) {\n            globalState.attr = !globalState.attr;\n        }\n    }, 1000, state);\n})();\n/* END Third party code */\n\n// TODO: run some function every time state.attr is changed\n</code></pre>\n\n<p>There are two immediate problems:</p>\n\n<ul>\n<li><code>state</code> is declared a <code>const</code>, so it can't be redefined using Proxy</li>\n<li><code>state</code> was passed by reference to an inner function, so even if <code>state</code> is redefined, the function will continue working with the original object</li>\n</ul>\n\n<p>While this can be achieved using <code>setInterval</code> that constantly compares the <code>state.attr</code> to previous version of itself, it would fail to catch changes that happen in between the <code>setInterval</code> invocations and it would always have lag.</p>\n\n<p>Are there any lesser known methods that can achieve this?</p>\n"}, {"tags": ["javascript", "angular", "rxjs"], "comments": [{"owner": {"reputation": 1962, "user_id": 2789884, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/264d7bb52024efe30d12845515de13ce?s=128&d=identicon&r=PG", "display_name": "Xesenix", "link": "https://stackoverflow.com/users/2789884/xesenix"}, "edited": false, "score": 0, "creation_date": 1560975245, "post_id": 56674248, "comment_id": 99917698, "body": "actualy in this case you can also use something like this <code>map(Boolean)</code> works the same way buts even shorter"}], "answers": [{"tags": [], "owner": {"reputation": 8690, "user_id": 4569506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/Ommt6.png?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4569506/daniel"}, "is_accepted": true, "score": 3, "last_activity_date": 1560970985, "creation_date": 1560970985, "answer_id": 56674285, "question_id": 56674248, "link": "https://stackoverflow.com/questions/56674248/what-is-user-used-for-whats-the-result-of-this-line/56674285#56674285", "title": "What is &#39;!!user&#39; used for? Whats the result of this line?", "body": "<p><code>!!</code> is a common way to cast something to a boolean.</p>\n\n<p>By applying the NOT operator (<code>!</code>) twice in the <code>map()</code> function, it maps the user to a boolean which is then used as <code>loggedIn</code> which is used in the <code>tap()</code> function.</p>\n\n<p>Likely the user is supposed to be an object with userdata (which has a truthy value).</p>\n\n<p>I also assume that if you are not logged in, the user will be <code>null</code> or <code>undefined</code> (which has a falsy value).</p>\n"}], "owner": {"reputation": 75, "user_id": 11443337, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-OdJjQewL_LQ/AAAAAAAAAAI/AAAAAAAAAAc/QG9ixbTS2CU/photo.jpg?sz=128", "display_name": "Staxxx6", "link": "https://stackoverflow.com/users/11443337/staxxx6"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "closed_date": 1560971040, "accepted_answer_id": 56674285, "answer_count": 1, "score": 2, "last_activity_date": 1560971088, "creation_date": 1560970859, "last_edit_date": 1560971088, "question_id": 56674248, "link": "https://stackoverflow.com/questions/56674248/what-is-user-used-for-whats-the-result-of-this-line", "closed_reason": "Duplicate", "title": "What is &#39;!!user&#39; used for? Whats the result of this line?", "body": "<p>I want to craete angular route guard in my app. I found this code but don't understand why we map <code>user</code> to <code>!!user</code>. What's the purpose of <code>map(user =&gt; !!user)</code> line?</p>\n\n<pre><code>canActivate(\n    next: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable&lt;boolean&gt; {\n\n      return this.auth.user.pipe()\n           take(1),\n           map(user =&gt; !!user),\n           tap(loggedIn =&gt; {\n             if (!loggedIn) {\n               console.log('access denied')\n               this.router.navigate(['/login']);\n             }\n         })\n    )\n</code></pre>\n"}]