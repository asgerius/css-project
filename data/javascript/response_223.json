[{"tags": ["javascript", "php", "html", "forms"], "comments": [{"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1555545787, "post_id": 55737380, "comment_id": 98152705, "body": "Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/FormData/FormData\" rel=\"nofollow noreferrer\">FormData</a> to <code>.append</code> the <code>Blob</code> and send via AJAX."}, {"owner": {"reputation": 1043, "user_id": 11298742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uUOGl.jpg?s=128&g=1", "display_name": "ludovico", "link": "https://stackoverflow.com/users/11298742/ludovico"}, "edited": false, "score": 1, "creation_date": 1555546208, "post_id": 55737380, "comment_id": 98152783, "body": "Something like this might help: <a href=\"https://stackoverflow.com/a/33298252/11298742\">stackoverflow.com/a/33298252/11298742</a>"}], "answers": [{"tags": [], "owner": {"reputation": 122, "user_id": 6214631, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-6Nky20ZIy0U/AAAAAAAAAAI/AAAAAAAAAC8/GkVBIqgYm4A/photo.jpg?sz=128", "display_name": "XantiuM", "link": "https://stackoverflow.com/users/6214631/xantium"}, "is_accepted": false, "score": 0, "last_activity_date": 1555549006, "creation_date": 1555549006, "answer_id": 55737789, "question_id": 55737380, "link": "https://stackoverflow.com/questions/55737380/how-to-send-image-blob-data-over-regular-html-form-to-be-used-in-a-php-script/55737789#55737789", "title": "How to send image blob data over regular HTML form to be used in a PHP script", "body": "<p>Thank you to @ludovico for pointing me in the right direction. For anyone who is wondering, here is how I solved it:</p>\n\n<p>For my JavaScript (with the page styling functions removed):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>window.addEventListener('paste', e =&gt; {\n    if (document.activeElement != document.getElementById('post-text')) return; // Check active element and stop if not in text box\n\n    let reader = new FileReader();\n    reader.addEventListener('load', function() {\n        document.getElementById('blob').value = reader.result;\n    }, false);\n\n    let blobData = e.clipboardData.items[0].getAsFile(); // Blob object\n    let blobUrl = URL.createObjectURL(blobData); // Blob URL\n    reader.readAsDataURL(blobData);\n});\n</code></pre>\n\n<p>Then in PHP I did something mildly strange, but that was to make it compatible with my current code which uses the $_FILES array from regular file uploading:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>...\nif (strlen($_FILES['image']['tmp_name']) == 0 &amp;&amp; strlen($_POST['filename']) != 0) {\n    $temp = tmpfile();\n    $tempPath = tempnam(sys_get_temp_dir(), 'pastedimage');\n    file_put_contents($tempPath,base64_decode(preg_replace('#^data:image/\\w+;base64,#i', '', $_POST['filename'])));\n    $fileType = getimagesize($tempPath)['mime'];\n    if ($fileType == false) {\n        // Handle error\n        die();\n    }\n    $_FILES['image']['name'] = 'image.'.substr($fileType, 6);\n    $_FILES['image']['type'] = $fileType;\n    $_FILES['image']['tmp_name'] = $tempPath;\n    $_FILES['image']['error'] = 0;\n    $_FILES['image']['size'] = filesize($tempPath);\n}\n...\n</code></pre>\n"}], "owner": {"reputation": 122, "user_id": 6214631, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh5.googleusercontent.com/-6Nky20ZIy0U/AAAAAAAAAAI/AAAAAAAAAC8/GkVBIqgYm4A/photo.jpg?sz=128", "display_name": "XantiuM", "link": "https://stackoverflow.com/users/6214631/xantium"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 732, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1555549006, "creation_date": 1555544813, "question_id": 55737380, "link": "https://stackoverflow.com/questions/55737380/how-to-send-image-blob-data-over-regular-html-form-to-be-used-in-a-php-script", "title": "How to send image blob data over regular HTML form to be used in a PHP script", "body": "<p>I am having some issues with sending image blob data from the clipboard into a regular POST form. I have scoured the Internet looking for ways to do this on regular forms, but 95% of all solutions I have come across use AJAX, and I was wondering if there was a way to do this <strong>without</strong> AJAX.</p>\n\n<p>Using the code below I manage to get blob data from the clipboard, and generate its URL. However, on trying to send this data over a regular form, I can't seem to figure out how to do it. I've tried sending over as a \"file\" (attempting to get the data with <code>$_FILES</code> in PHP) but it either just sent the string <code>[object File]</code>, the blob URL as a string, or nothing at all.</p>\n\n<p>Using some code I came across, I managed to get up to here with my JavaScript:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>window.addEventListener('paste', e =&gt; {\n    if (document.activeElement != document.getElementById('post-text')) return; // Check active element and stop if not in text box\n    let blobData = e.clipboardData.items[0].getAsFile(); // Blob object\n    let blobUrl = e.createObjectURL(blobData); // Blob URL\n    document.getElementById('upload-display').src = blobUrl; // Display pasted image\n    document.getElementById('upload-display-container').style.display = 'block';\n    // Here I want to put a piece of code which adds the image data to a hidden input element, but I'm not sure how to do this.\n});\n</code></pre>\n\n<p>How would I go about adding the image data to a hidden input element which when sent over a HTML POST form, PHP can understand and deal with it the same way as sending over an uploaded file?</p>\n\n<p>Ideally, I'd like to add it to an actual <code>&lt;input&gt;</code> of type <code>files</code>, but after some trial and error along with some research I concluded that's not possible.</p>\n"}, {"tags": ["javascript", "c#", ".net", "winforms", "webbrowser-control"], "answers": [{"tags": [], "owner": {"reputation": 2538, "user_id": 1619238, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/46wxy.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/1619238/vlad"}, "is_accepted": true, "score": 0, "last_activity_date": 1555796079, "creation_date": 1555796079, "answer_id": 55777942, "question_id": 55737374, "link": "https://stackoverflow.com/questions/55737374/simulate-scroll-over-element-in-webbrowser/55777942#55777942", "title": "Simulate scroll over element in WebBrowser", "body": "<p>This works:</p>\n\n<pre><code>element.SetAttribute(\"scrollTop\", \"99999\");\n</code></pre>\n"}], "owner": {"reputation": 2538, "user_id": 1619238, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/46wxy.jpg?s=128&g=1", "display_name": "Vlad", "link": "https://stackoverflow.com/users/1619238/vlad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 55777942, "answer_count": 1, "score": -1, "last_activity_date": 1555796079, "creation_date": 1555544738, "question_id": 55737374, "link": "https://stackoverflow.com/questions/55737374/simulate-scroll-over-element-in-webbrowser", "title": "Simulate scroll over element in WebBrowser", "body": "<p>I have a messenger-like web app opened in WebBrowser control. It has a contact list made with divs and js which I need to scroll down. It reacts to mouse scrolling when hovering but it also has a custom scroll bar. The page itself can't be scrolled, only div. The js code is a long obfuscated thing.</p>\n\n<p>I need to either simulate scrolling or clicking at scrollbar bottom.</p>\n\n<p>So how to do the scrolling?</p>\n"}, {"tags": ["javascript", "jquery", "http-post", "navigateurl"], "comments": [{"owner": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "edited": false, "score": 0, "creation_date": 1555545768, "post_id": 55737350, "comment_id": 98152700, "body": "You can <a href=\"https://stackoverflow.com/questions/503093/how-do-i-redirect-to-another-webpage\">redirect the browser</a> after getting a response from your AJAX call. Is there a reason you don&#39;t want to POST via a <code>&lt;form&gt;</code>? It might help to show the code you&#39;ve go so far to demonstrate the context."}, {"owner": {"reputation": 1401, "user_id": 1445967, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/904feef39b6407fd93b14fde97f15412?s=128&d=identicon&r=PG", "display_name": "user1445967", "link": "https://stackoverflow.com/users/1445967/user1445967"}, "reply_to_user": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "edited": false, "score": 0, "creation_date": 1555546104, "post_id": 55737350, "comment_id": 98152761, "body": "I dont want to post via a form because the JSON is generated from the form data by javascript, it is not supplied by the user.  I want the server response to be a page that understand the JSON that was just posted, instead of something more complex where I have to say &#39;hey remember that JSON I posted a while ago?&#39;  Unless there is a post-form-as-JSON convention that I missed, I don&#39;t think my existing code affects any of this and I&#39;m trying to avoid the ajax-post-then-later-redirect convention that seems to be expected here."}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1555546113, "post_id": 55737350, "comment_id": 98152763, "body": "You will have to have <code>CORS</code> access to the page you are submitting to. Do you?"}, {"owner": {"reputation": 1401, "user_id": 1445967, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/904feef39b6407fd93b14fde97f15412?s=128&d=identicon&r=PG", "display_name": "user1445967", "link": "https://stackoverflow.com/users/1445967/user1445967"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1555546230, "post_id": 55737350, "comment_id": 98152785, "body": "@PHPglue I am coding the server side application in Spring MVC, so at this point I would say, probably :)"}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1555546816, "post_id": 55737350, "comment_id": 98152879, "body": "You should test code on the page the user is filling out the form on before its submission. After validation via JavaScript you should send AJAX to the Server, where the code must be validated again, because the Client can always be altered. After your Server validates code, set a session to test against when you navigate, then send back an AJAX response that lets you know all is good. If all is good, then go ahead and navigate using <code>location = &#39;yourURL.php&#39;</code> or whatever, making sure you test for that session value, or redirect if it doesn&#39;t match."}], "owner": {"reputation": 1401, "user_id": 1445967, "user_type": "registered", "accept_rate": 37, "profile_image": "https://www.gravatar.com/avatar/904feef39b6407fd93b14fde97f15412?s=128&d=identicon&r=PG", "display_name": "user1445967", "link": "https://stackoverflow.com/users/1445967/user1445967"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555544475, "creation_date": 1555544475, "question_id": 55737350, "link": "https://stackoverflow.com/questions/55737350/jquery-navigate-and-post-json", "title": "jQuery navigate and post JSON", "body": "<p>Apparently what I am trying to do on the front-end is incredibly unusual - I want the web browser to do a navigation event to a URL, and submit some JSON as an HTTP Post.</p>\n\n<p>Google says the rest of the world wants to Not Navigate using jquery $.ajax.  But not me - I want to navigate and post json.</p>\n\n<p>I already have the whole thing working with $.ajax, including creating the JSON.  How do I get the JSON POSTed and also cause the browser to navigate at the same time?</p>\n\n<p>Does jQuery have a command for this?  Let's try to keep the solution in jQuery instead of adding more HTML to the page, if possible.</p>\n\n<p>Thanks everyone!</p>\n"}, {"tags": ["javascript", "jquery", "html", "microsoft-edge"], "answers": [{"comments": [{"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1555544484, "post_id": 55737346, "comment_id": 98152480, "body": "Tried that (putting the trigger in the <code>ready</code> event) already. It doesn&#39;t work. Same symptoms. Per <a href=\"https://stackoverflow.com/questions/4584373/difference-between-window-load-and-document-ready-functions\">this question and answer</a>, the <code>ready</code> event means the DOM is ready, but not necessarily <i>all the content</i>."}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1555544722, "post_id": 55737346, "comment_id": 98152513, "body": "All the code is exactly as shown in my question. No other libraries."}, {"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "reply_to_user": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 1, "creation_date": 1555545089, "post_id": 55737346, "comment_id": 98152569, "body": "When the DOM is ready is means the document is fully loaded and all elements are available for manipulation. window.onload does NOT guarantee the same. I&#39;ve updated my answer to include a working piece of code, making sure to put the trigger at the end of the ready block (since you empty the text output first)"}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1555545291, "post_id": 55737346, "comment_id": 98152608, "body": "Thanks. From what I&#39;ve read, &quot;DOM ready&quot; means the structure is all in place, but not all of the elements may be loaded (e.g., images download, etc). My further understanding, based upon what I&#39;ve read, is that the windows.onload comes later and when all of the elements have been fully populated. Can you point to the documentation supporting what you&#39;re indicating? It seems confusing. I did try your change (which I had sworn I tried before) and it does seem to work. I&#39;m going to try it again with my full, real code tomorrow to double-check."}, {"owner": {"reputation": 1043, "user_id": 11298742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uUOGl.jpg?s=128&g=1", "display_name": "ludovico", "link": "https://stackoverflow.com/users/11298742/ludovico"}, "edited": false, "score": 0, "creation_date": 1555545731, "post_id": 55737346, "comment_id": 98152691, "body": "Soviut&#39;s answer is spot on, the best place to trigger the change event is inside your $(document).ready, after having defined what you do when your select changes."}, {"owner": {"reputation": 1043, "user_id": 11298742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uUOGl.jpg?s=128&g=1", "display_name": "ludovico", "link": "https://stackoverflow.com/users/11298742/ludovico"}, "edited": false, "score": 0, "creation_date": 1555545735, "post_id": 55737346, "comment_id": 98152692, "body": "window.load vs $(document).ready: <a href=\"https://stackoverflow.com/questions/3698200/window-onload-vs-document-ready/3698214\" title=\"window onload vs document ready\">stackoverflow.com/questions/3698200/&hellip;</a>"}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "reply_to_user": {"reputation": 1043, "user_id": 11298742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uUOGl.jpg?s=128&g=1", "display_name": "ludovico", "link": "https://stackoverflow.com/users/11298742/ludovico"}, "edited": false, "score": 0, "creation_date": 1555546270, "post_id": 55737346, "comment_id": 98152797, "body": "@ludovico the link you provide reflects my understanding of the two events: <i>The <code>ready</code> event occurs after the HTML document has been loaded, while <b>the <code>onload</code> event occurs later</b>, when all content (e.g. images) also has been loaded.</i> Although there&#39;s perhaps a simpler approach, why is the on load in my case not working? I can put an alert in the event and confirm the event fires. It&#39;s just not setting the <code>div</code>."}, {"owner": {"reputation": 1043, "user_id": 11298742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uUOGl.jpg?s=128&g=1", "display_name": "ludovico", "link": "https://stackoverflow.com/users/11298742/ludovico"}, "edited": false, "score": 0, "creation_date": 1555548269, "post_id": 55737346, "comment_id": 98153160, "body": "Correct, the load event occurs when all content has been loaded (including images, scripts, sub-frames...). In theory window.onload will always fire after $(document).ready but there&#39;s no need to use window.onload. Soviut&#39;s answer is completely correct. If it doesn&#39;t work it might be due to a different problem in the rest of your code."}, {"owner": {"reputation": 1043, "user_id": 11298742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uUOGl.jpg?s=128&g=1", "display_name": "ludovico", "link": "https://stackoverflow.com/users/11298742/ludovico"}, "edited": false, "score": 0, "creation_date": 1555548425, "post_id": 55737346, "comment_id": 98153188, "body": "--clarifying: why I say that &quot;in theory&quot; window.onload will always fire after $(document).ready why I say <a href=\"https://stackoverflow.com/questions/40608801/why-does-window-onload-event-occur-before-document-ready\" title=\"why does window onload event occur before document ready\">stackoverflow.com/questions/40608801/&hellip;</a> (this is a rare exception and, most likely, it doen&#39;t apply in your case)"}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "reply_to_user": {"reputation": 1043, "user_id": 11298742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uUOGl.jpg?s=128&g=1", "display_name": "ludovico", "link": "https://stackoverflow.com/users/11298742/ludovico"}, "edited": false, "score": 0, "creation_date": 1555549645, "post_id": 55737346, "comment_id": 98153392, "body": "@ludovico that was my quandry. Everything I read (except that last link you showed) indicated that, not only should it have worked for me in this case, but it was even the desired way to implement it to assure the proper sequence of events."}, {"owner": {"reputation": 1043, "user_id": 11298742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uUOGl.jpg?s=128&g=1", "display_name": "ludovico", "link": "https://stackoverflow.com/users/11298742/ludovico"}, "reply_to_user": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1555553898, "post_id": 55737346, "comment_id": 98154038, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/192014/discussion-between-ludovico-and-lurker\">continue this discussion in chat</a>."}, {"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "reply_to_user": {"reputation": 1043, "user_id": 11298742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uUOGl.jpg?s=128&g=1", "display_name": "ludovico", "link": "https://stackoverflow.com/users/11298742/ludovico"}, "edited": false, "score": 0, "creation_date": 1555556648, "post_id": 55737346, "comment_id": 98154557, "body": "@ludovico you shouldn&#39;t be using <code>$(document).ready()</code> since about 2010. It&#39;s a slower operation since it unnecessarily wraps the document. Use <code>$(function() { ... })</code>"}, {"owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "reply_to_user": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1555556897, "post_id": 55737346, "comment_id": 98154616, "body": "@lurker if your page has no images or other content to load beyond your script, it may trigger as soon as the DOM is ready, but before the script has parsed. This could be an optimization since script parsing requires a repaint. This is a theory, but that&#39;s the reason JQuery has a &quot;ready&quot; event in the first place; It was really hard to track when a script should load from the &lt;head&gt;"}, {"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1555590244, "post_id": 55737346, "comment_id": 98168681, "body": "Thanks. The page has some Ajax fetching going on but not image loading. The change you suggested seems to work fine. I was under the impression, based upon my interwebs reading, that &quot;on load&quot; was needed to ensure execution after &quot;ready&quot;. Evidently that&#39;s not always reliable."}], "tags": [], "owner": {"reputation": 78904, "user_id": 46914, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/d47d0397605e4b9cab9fd8fce027e3b5?s=128&d=identicon&r=PG", "display_name": "Soviut", "link": "https://stackoverflow.com/users/46914/soviut"}, "is_accepted": true, "score": 3, "last_activity_date": 1555544971, "last_edit_date": 1555544971, "creation_date": 1555544437, "answer_id": 55737346, "question_id": 55737330, "link": "https://stackoverflow.com/questions/55737330/window-onload-occurring-too-soon-in-ms-edge/55737346#55737346", "title": "$(window).on(&#39;load&#39;, ...) occurring too soon in MS Edge", "body": "<p>You're already using JQuery's \"ready\" callback which determines when the document is loaded <em>and</em> DOM is ready for manipulation. You can just put your trigger event in there.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  var entries = ['fred', 'barney', 'betty', 'wilma']\r\n\r\n  $.each(entries, function() {\r\n    $('#foo_select').append($('&lt;option /&gt;').val(this).text(this));\r\n  })\r\n\r\n  $('#foo_select').change(function() {\r\n    $('#text').text($(this).val())\r\n  })\r\n\r\n  $('#text').empty()\r\n\r\n  $('#foo_select').trigger('change')\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;select id=\"foo_select\"&gt;&lt;/select&gt;\r\n&lt;p id=\"text\"&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "edited": false, "score": 0, "creation_date": 1555546365, "post_id": 55737481, "comment_id": 98152809, "body": "This is a simplified code example. My actual code is a little more complex. But I will rethink what I&#39;m doing based upon your comments. Maybe I don&#39;t actually need to trigger the change and can do something more directly. I&#39;m still in a quandary as to why what I have doesn&#39;t work, thogh."}], "tags": [], "owner": {"reputation": 763, "user_id": 6134824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f291427cbbb232f166a6fa42bc5d5d?s=128&d=identicon&r=PG", "display_name": "Andu Andrici", "link": "https://stackoverflow.com/users/6134824/andu-andrici"}, "is_accepted": false, "score": 1, "last_activity_date": 1555545831, "creation_date": 1555545831, "answer_id": 55737481, "question_id": 55737330, "link": "https://stackoverflow.com/questions/55737330/window-onload-occurring-too-soon-in-ms-edge/55737481#55737481", "title": "$(window).on(&#39;load&#39;, ...) occurring too soon in MS Edge", "body": "<p>Why don't you simply 'trigger' it when creating the options? <br>\nIs there any benefit to triggering it <strong>after</strong> the document has loaded? <br></p>\n\n<p>If not, simply apply the 'starting value', from the start. <br></p>\n\n<p><i>This would also imply moving your script <strong>after</strong> the HTML Markup, just before the closing &lt;/body> tag - in order for the #text div to exist in the DOM at the time of execution.</i></p>\n\n<pre><code>// use this\n$('#text').text($('#foo_select').val())\n// instead of\n$('#text').empty()\n</code></pre>\n\n<p>(hope the code is right, I don't use JQuery - but you get message :) )</p>\n"}], "owner": {"reputation": 52685, "user_id": 980550, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/8emhY.jpg?s=128&g=1", "display_name": "lurker", "link": "https://stackoverflow.com/users/980550/lurker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 786, "favorite_count": 1, "accepted_answer_id": 55737346, "answer_count": 2, "score": 0, "last_activity_date": 1555547415, "creation_date": 1555544230, "last_edit_date": 1555547415, "question_id": 55737330, "link": "https://stackoverflow.com/questions/55737330/window-onload-occurring-too-soon-in-ms-edge", "title": "$(window).on(&#39;load&#39;, ...) occurring too soon in MS Edge", "body": "<p>I am using Microsoft Edge 44.17763.1.0, Microsoft EdgeHTML 18.17763.</p>\n\n<p>I'm having trouble getting Edge to trigger a select option change event when a page is loaded.</p>\n\n<p>I have a <code>select</code> drop down box which, when contents change, automatically populates a <code>div</code> with the selected text. What I want is for this page to do this automatically when it is first loaded. That is, the page loads, initializes the <code>select</code> drop down box, then automatically populates the <code>div</code> with the existing selection without having to click on it.</p>\n\n<p>The jquery will automatically update the <code>div</code> on an <code>.change</code> event for the <code>select</code> drop down. This works fine when the user changes the select box contents with the mouse. The select options are initialized when the page is first opened, so I put the select option initialization in the <code>$(document).ready</code> event, and then I want to trigger select change event automatically when the page loads but after the <code>select</code> drop down has been initialized, so I put the trigger in the <code>$(window).on('load', ...</code> event.</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;Test&lt;/title&gt;\n&lt;script language=\"javascript\" type=\"text/javascript\" src='/script/jquery-3.4.0.min.js'&gt;&lt;/script&gt;\n&lt;script language=\"javascript\" type=\"text/javascript\"&gt;\n$(function () {\n  var entries = ['fred', 'barney', 'betty', 'wilma'];\n\n  $.each(entries, function() {\n    $('#foo_select').append($(\"&lt;option /&gt;\").val(this).text(this));\n  });\n\n  $('#foo_select').change(function() {\n    $('#text').text($(this).val())\n  })\n\n  $('#text').empty()\n})\n\n$(window).on('load', function() {\n  $('#foo_select').trigger('change')\n})\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;select id='foo_select'&gt;\n  &lt;/select&gt;\n  &lt;p&gt;\n  &lt;div id='text' style='width: 100px'&gt;&lt;/div&gt;\n  &lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I wrote the code this way based upon information I've read regarding these two events, and which is summarized in <a href=\"https://stackoverflow.com/questions/4584373/difference-between-window-load-and-document-ready-functions\">Difference between window load and document ready functions</a> and <a href=\"https://stackoverflow.com/questions/3698200/window-onload-vs-document-ready/3698214\">Windows onload vs document ready</a>. This code works fine in Firefox and Chrome. It does not, however, work in Microsoft Edge. I did determine that the load event fires in Edge, it just appears (perhaps) to be too soon, as in before the drop down is initialized, so the trigger action does nothing.</p>\n\n<p>Based upon what I want to do here, is this the incorrect approach, or is there an issue with Edge?\n<hr/>\n<strong>ADDENDUM</strong>: A couple of good answers have given me some alternatives, but the question still remains as to why the <code>load</code> event in the original doesn't work in this context.</p>\n"}, {"tags": ["javascript", "arrays", "object", "for-loop", "functional-programming"], "answers": [{"tags": [], "owner": {"reputation": 1104, "user_id": 11359504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8612ae78a3ab1ddc7b4bec4e317c328?s=128&d=identicon&r=PG&f=1", "display_name": "Khalid Ali", "link": "https://stackoverflow.com/users/11359504/khalid-ali"}, "is_accepted": true, "score": 1, "last_activity_date": 1555544628, "last_edit_date": 1555544628, "creation_date": 1555544318, "answer_id": 55737339, "question_id": 55737303, "link": "https://stackoverflow.com/questions/55737303/js-functional-filter-map-vs-for-loop-results-not-the-same/55737339#55737339", "title": "JS functional filter map vs for-loop, results not the same", "body": "<p>Replace <code>this.curr_category</code> in the filter's predicate function with <code>category</code></p>\n\n<pre><code>var data_obj_arr = [{\"Size\": \"&lt;1000\", \"Type\": \"Detached\", \"Location\": \"Northern\", \"Configuration\": \"Downflow\", \"Age\": \"Built Before 1980\", \"Collection_Name\": \"test\"}, {\"Size\": \"&lt;1000\", \"Type\": \"Detached\", \"Location\": \"Northern\", \"Configuration\": \"Downflow\", \"Age\": \"Built Before 1980\", \"Collection_Name\": \"test\"}, {\"Size\": \"&lt;1000\", \"Type\": \"Detached\", \"Location\": \"Northern\", \"Configuration\": \"Downflow\", \"Age\": \"Built Before 1980\", \"Collection_Name\": \"test\"}];\n\n\nfunction updateChosenOption(category_choice, category) {\n\n    var arr = [];\n    for (let i in data_obj_arr) {\n        if (data_obj_arr[i][category] === category_choice) {\n            arr.push(data_obj_arr[i][\"Collection_Name\"]);\n        }\n    }\n\n    console.log(`Array: ${arr}`);\n\n    var results = data_obj_arr.filter((el =&gt; el[category] === category_choice))\n                              .map(el =&gt; el[\"Collection_Name\"]);\n\n    console.log(`Results: ${results}`);        \n}\n\nupdateChosenOption('Built Before 1980','Age');\n</code></pre>\n\n<p><strong>Result:</strong></p>\n\n<pre><code>\"Array: test,test,test\"\n\"Results: test,test,test\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": false, "score": 1, "last_activity_date": 1555544572, "creation_date": 1555544572, "answer_id": 55737361, "question_id": 55737303, "link": "https://stackoverflow.com/questions/55737303/js-functional-filter-map-vs-for-loop-results-not-the-same/55737361#55737361", "title": "JS functional filter map vs for-loop, results not the same", "body": "<p>If you want to pass the value of <code>this</code> into the filter callback as the second parameter, you can't use a fat arrow function (<code>() =&gt;</code>) because you can't rebind <code>this</code> in arrow functions. So if you like this style, you need to use a regular function as the callback:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data_obj_arr = [{\"Size\": \"&lt;1000\", \"Type\": \"Detached\", \"Location\": \"Northern\", \"Configuration\": \"Downflow\", \"Age\": \"Built Before 1980\", \"Collection_Name\": \"test\"}, {\"Size\": \"&lt;1000\", \"Type\": \"Detached\", \"Location\": \"Northern\", \"Configuration\": \"Downflow\", \"Age\": \"Built Before 1980\", \"Collection_Name\": \"test\"}, {\"Size\": \"&lt;1000\", \"Type\": \"Detached\", \"Location\": \"Northern\", \"Configuration\": \"Downflow\", \"Age\": \"Built Before 1980\", \"Collection_Name\": \"test\"}]\r\n\r\n\r\nfunction updateChosenOption(category_choice, category) {\r\n\r\n  var arr = [];\r\n  for (let i in data_obj_arr) {\r\n    if (data_obj_arr[i][category] === category_choice) {\r\n      arr.push(data_obj_arr[i][\"Collection_Name\"]);\r\n    }\r\n  }\r\n\r\n  console.log(`Array: ${arr}`);\r\n  //                                 v -- needs to be a regular funtion\r\n  var results = data_obj_arr.filter(function(el) {\r\n      return el[this.curr_category] === category_choice\r\n    }, {curr_category: category}) // &lt; -- to pass in this\r\n    .map(el =&gt; el[\"Collection_Name\"]);\r\n\r\n  console.log(`Results: ${results}`);\r\n}\r\n\r\nupdateChosenOption('Built Before 1980', 'Age')</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 9371801, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qZisd.png?s=128&g=1", "display_name": "PJately", "link": "https://stackoverflow.com/users/9371801/pjately"}, "is_accepted": false, "score": 1, "last_activity_date": 1555545637, "creation_date": 1555545637, "answer_id": 55737463, "question_id": 55737303, "link": "https://stackoverflow.com/questions/55737303/js-functional-filter-map-vs-for-loop-results-not-the-same/55737463#55737463", "title": "JS functional filter map vs for-loop, results not the same", "body": "<p>Arrow functions use 'lexical scoping' meaning 'this' refers to the current scope and not further. Updating your filter().map() approach (as shown below) will then give you the same results. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data_obj_arr = [{\"Size\": \"&lt;1000\", \"Type\": \"Detached\", \"Location\": \"Northern\", \"Configuration\": \"Downflow\", \"Age\": \"Built Before 1980\", \"Collection_Name\": \"test\"}, {\"Size\": \"&lt;1000\", \"Type\": \"Detached\", \"Location\": \"Northern\", \"Configuration\": \"Downflow\", \"Age\": \"Built Before 1980\", \"Collection_Name\": \"test\"}, {\"Size\": \"&lt;1000\", \"Type\": \"Detached\", \"Location\": \"Northern\", \"Configuration\": \"Downflow\", \"Age\": \"Built Before 1980\", \"Collection_Name\": \"test\"}]\r\n\r\n\r\n    function updateChosenOption(category_choice, category) {\r\n\r\n        var arr = [];\r\n        for (let i in data_obj_arr) {\r\n            if (data_obj_arr[i][category] === category_choice) {\r\n                arr.push(data_obj_arr[i][\"Collection_Name\"]);\r\n            }\r\n        }\r\n\r\n        console.log(`Array: ${arr}`);\r\n\r\n        var results = data_obj_arr.filter(el =&gt; el[category] === category_choice)\r\n        .map(el =&gt; el[\"Collection_Name\"]);\r\n\r\n        console.log(`Results: ${results}`);        \r\n    }\r\n        \r\n        updateChosenOption('Built Before 1980','Age')</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 723, "user_id": 4297337, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/Tv9JY.jpg?s=128&g=1", "display_name": "mding5692", "link": "https://stackoverflow.com/users/4297337/mding5692"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 1, "accepted_answer_id": 55737339, "answer_count": 3, "score": -1, "last_activity_date": 1555546129, "creation_date": 1555543946, "last_edit_date": 1555546129, "question_id": 55737303, "link": "https://stackoverflow.com/questions/55737303/js-functional-filter-map-vs-for-loop-results-not-the-same", "title": "JS functional filter map vs for-loop, results not the same", "body": "<p>If you run the below code snipper, the results of the for-loop and that of the functional filter().map() approach is not the same.</p>\n\n<p>What did I do wrong with the functional approach and what is the functional approach of that for-loop if my method is completely wrong?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data_obj_arr = [{\"Size\": \"&lt;1000\", \"Type\": \"Detached\", \"Location\": \"Northern\", \"Configuration\": \"Downflow\", \"Age\": \"Built Before 1980\", \"Collection_Name\": \"test\"}, {\"Size\": \"&lt;1000\", \"Type\": \"Detached\", \"Location\": \"Northern\", \"Configuration\": \"Downflow\", \"Age\": \"Built Before 1980\", \"Collection_Name\": \"test\"}, {\"Size\": \"&lt;1000\", \"Type\": \"Detached\", \"Location\": \"Northern\", \"Configuration\": \"Downflow\", \"Age\": \"Built Before 1980\", \"Collection_Name\": \"test\"}]\r\n\r\n\r\n    function updateChosenOption(category_choice, category) {\r\n\r\n        var arr = [];\r\n        for (let i in data_obj_arr) {\r\n            if (data_obj_arr[i][category] === category_choice) {\r\n                arr.push(data_obj_arr[i][\"Collection_Name\"]);\r\n            }\r\n        }\r\n\r\n        console.log(`Array: ${arr}`);\r\n\r\n        var results = data_obj_arr.filter((el =&gt; el[this.curr_category] === category_choice), {curr_category: category} )\r\n        .map(el =&gt; el[\"Collection_Name\"]);\r\n\r\n        console.log(`Results: ${results}`);        \r\n    }\r\n        \r\n        updateChosenOption('Built Before 1980','Age')</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "django", "file"], "comments": [{"owner": {"reputation": 3289, "user_id": 952437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e32ed778d3a588e160b46140c0bdd3db?s=128&d=identicon&r=PG", "display_name": "imposeren", "link": "https://stackoverflow.com/users/952437/imposeren"}, "edited": false, "score": 0, "creation_date": 1555553990, "post_id": 55737299, "comment_id": 98154054, "body": "Why can&#39;t you put it somewhere in STATIC_ROOT and use <code>&lt;script type=&quot;text&#47;javascript&quot; src=&quot;{% static &quot;SOME_PATH&#47;quiz.txt&quot; %}&quot;&gt;&lt;&#47;script&gt;</code> ? If for some reason you need raw value in your template: <code>Quiz(TemplateView): ... def get_context_data(self, ...): context_data = super(...).get_context_data(...); context_data[&#39;quiz_contents&#39;] = mark_safe(open(...).read()); return context_data</code>. <a href=\"https://docs.djangoproject.com/en/2.2/ref/utils/#django.utils.safestring.mark_safe\" rel=\"nofollow noreferrer\">Docs on mark_safe</a>"}, {"owner": {"reputation": 3, "user_id": 11331354, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UuCuqSnR9A4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd6rjjrw0SSFyC4MCuT8Bi-3xl2Bg/mo/photo.jpg?sz=128", "display_name": "Lucas Peters-Murphy", "link": "https://stackoverflow.com/users/11331354/lucas-peters-murphy"}, "reply_to_user": {"reputation": 3289, "user_id": 952437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e32ed778d3a588e160b46140c0bdd3db?s=128&d=identicon&r=PG", "display_name": "imposeren", "link": "https://stackoverflow.com/users/952437/imposeren"}, "edited": false, "score": 0, "creation_date": 1555571597, "post_id": 55737299, "comment_id": 98158900, "body": "I&#39;m quite new to Django. This solution seems very plausible, however I am unsure as to what I would replace the &#39;(...)&#39; with in this example. Sorry to sound naive but  I am rather inexperienced. Thanks. Edit: I am also confused as to the whereabouts of STATIC_ROOT. I tried looking in settings.py but it does not exist at least in the default file. Thanks again."}, {"owner": {"reputation": 3, "user_id": 11331354, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UuCuqSnR9A4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd6rjjrw0SSFyC4MCuT8Bi-3xl2Bg/mo/photo.jpg?sz=128", "display_name": "Lucas Peters-Murphy", "link": "https://stackoverflow.com/users/11331354/lucas-peters-murphy"}, "reply_to_user": {"reputation": 3289, "user_id": 952437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e32ed778d3a588e160b46140c0bdd3db?s=128&d=identicon&r=PG", "display_name": "imposeren", "link": "https://stackoverflow.com/users/952437/imposeren"}, "edited": false, "score": 0, "creation_date": 1555572178, "post_id": 55737299, "comment_id": 98159166, "body": "Again, I can add &#39;&lt;script type=&quot;text/javascript&quot; src=&quot;{% static &quot;SOME_PATH/quiz.txt&quot; %}&quot;&gt;&lt;/script&gt;&#39; to my head tag as described but I do not know how to turn that into a manipulatable JS array. Thanks."}], "owner": {"reputation": 3, "user_id": 11331354, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-UuCuqSnR9A4/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd6rjjrw0SSFyC4MCuT8Bi-3xl2Bg/mo/photo.jpg?sz=128", "display_name": "Lucas Peters-Murphy", "link": "https://stackoverflow.com/users/11331354/lucas-peters-murphy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555543848, "creation_date": 1555543848, "question_id": 55737299, "link": "https://stackoverflow.com/questions/55737299/in-django-how-do-i-take-a-file-from-views-py-and-set-it-as-a-js-array-variable", "title": "In Django, how do I take a file from views.py and set it as a JS array variable?", "body": "<p>I am creating a spelling test website. The spellings are in a file in my Django home folder (path 'home/quiz.txt') and I have written the necessary code in views.py to read the file from this location and set it as the variable \"file\" within the 'Quiz' view. \nHowever, when I go into the quiz.html or quiz.js, I do not know how to use this file in the actual code. What do I do?</p>\n\n<p>views.py:</p>\n\n<pre class=\"lang-py prettyprint-override\"><code>class Quiz(TemplateView):\n    template_name='quiz.html'\n    file = open(os.path.join(settings.BASE_DIR, 'home/quiz.txt'))\n</code></pre>\n\n<p>quiz.js:</p>\n\n<pre><code>function load(played, mistake, score){\n  document.getElementById(\"clear\").removeAttribute(\"hidden\");\n  document.getElementById(\"load\").hidden=true;\n  var x = file;\n  var step;\n  var spellList = document.getElementById(\"spellList\");\n  for (var xStep = 0; xStep &lt; x.length; xStep++){\n    if(x[xStep].match(mistake)){\n      mistList.push(x[xStep]);\n    }\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "json", "parsing", "leaflet", "foursquare"], "answers": [{"comments": [{"owner": {"reputation": 67, "user_id": 11348564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44a2ad723f83e44f92fee81779cd4d67?s=128&d=identicon&r=PG&f=1", "display_name": "jaramana", "link": "https://stackoverflow.com/users/11348564/jaramana"}, "edited": false, "score": 1, "creation_date": 1555599268, "post_id": 55742414, "comment_id": 98174091, "body": "It worked! Now I have to figure out how to make the information appear on the sidebar instead as a popup as was previously the case."}], "tags": [], "owner": {"reputation": 9327, "user_id": 4929531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCqJG.jpg?s=128&g=1", "display_name": "kboul", "link": "https://stackoverflow.com/users/4929531/kboul"}, "is_accepted": true, "score": 1, "last_activity_date": 1555577806, "last_edit_date": 1555577806, "creation_date": 1555577420, "answer_id": 55742414, "question_id": 55737292, "link": "https://stackoverflow.com/questions/55737292/parsing-foursquare-api-json-for-leaflet/55742414#55742414", "title": "Parsing Foursquare API JSON for Leaflet", "body": "<p>You need first to fetch the data and then iterate over the object to build the markers and the popup content.</p>\n\n<p>It seems that your geojson is not compliant with the native L.geoJSON built in method, therefore iterate over the object like dealing with a regular JavaScript object.</p>\n\n<p>Also just to inform you that I used axios to fetch the response.</p>\n\n<pre><code>import axios from \"axios\";\n\nconst url =\n  \"https://api.foursquare.com/v2/venues/search?near=London&amp;categoryId=4bf58dd8d48988d14c941735&amp;client_id=BOCHQZ4NF0D2NNFP2HM0INIKPUESPUX3RMRDUX02MPWIYSM2&amp;client_secret=EDNX150PKLS4SMRHWL21Q0KLBAQXYQUQV5RAZI0HZSA1IYGG&amp;v=20161111\";\n\nlet geoJson = {};\n\naxios.get(url).then(response =&gt; {\n  geoJson = { ...response.data.response.venues };\n  // console.log(geoJson);\n  for (let key in geoJson) {\n    let restaurant = geoJson[key];\n    // console.log(restaurant);\n    const { lat, lng, address } = restaurant.location;\n    const { name } = restaurant;\n    const popupContent = `&lt;b&gt;Name&lt;/b&gt;: ${name} \n                          &lt;br&gt; &lt;b&gt;Address&lt;/b&gt;: ${address}\n                          &lt;br&gt; &lt;b&gt;Lat&lt;/b&gt;: ${lat}, \n                          &lt;br&gt; &lt;b&gt;Lon&lt;/b&gt;: ${lng} \n    `;\n    L.marker([lat, lng], { icon: customMarker })\n      .bindPopup(popupContent)\n      .addTo(map);\n  }\n});\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/182169rr9j\" rel=\"nofollow noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 67, "user_id": 11348564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/44a2ad723f83e44f92fee81779cd4d67?s=128&d=identicon&r=PG&f=1", "display_name": "jaramana", "link": "https://stackoverflow.com/users/11348564/jaramana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 237, "favorite_count": 0, "accepted_answer_id": 55742414, "answer_count": 1, "score": 0, "last_activity_date": 1555577806, "creation_date": 1555543793, "last_edit_date": 1555544249, "question_id": 55737292, "link": "https://stackoverflow.com/questions/55737292/parsing-foursquare-api-json-for-leaflet", "title": "Parsing Foursquare API JSON for Leaflet", "body": "<p>I'm trying to map a JSON on leaflet pulled from Foursquare, but I'm having a difficult time getting it show.</p>\n\n<p>Here is a working script using a <a href=\"https://data.cityofnewyork.us/resource/fhrw-4uyv.geojson\" rel=\"nofollow noreferrer\">JSON</a> from I've taken from NYC Open Data.</p>\n\n<pre><code>fetch('complaintdata.json')\n          .then(function (response) {\n            // Read data as JSON\n            return response.json();\n          })\n          .then(function (data) {\n            // Create the Leaflet layer for the data\n            var complaintData = L.geoJson(data, {\n              pointToLayer: function (feature, latlng) {\n                return L.marker(latlng, {icon: myIcon});\n              },\n\n              onEachFeature: function (feature, layer) {\n                layer.on('click', function () {\n                  // This function is called whenever a feature on the layer is clicked\n                  console.log(layer.feature.properties);\n\n                  // Render the template with all of the properties. Mustache ignores properties\n                  // that aren't used in the template, so this is fine.\n                  var sidebarContentArea = document.querySelector('.sidebar-content');\n                  console.log(sidebarContentArea);\n                  sidebarContentArea.innerHTML = Mustache.render(popupTemplate, layer.feature.properties);\n                });\n              }\n            });\n\n            // Add data to the map\n            complaintData.addTo(map);\n\n          });\n</code></pre>\n\n<p>Here is a <a href=\"http://jsfiddle.net/g395yw2b\" rel=\"nofollow noreferrer\">working example</a> using Google Maps, but I'm having a hard time transferring this over for Leaflet. </p>\n\n<p>Here is the <a href=\"https://api.foursquare.com/v2/venues/search?near=London&amp;categoryId=4bf58dd8d48988d14c941735&amp;client_id=BOCHQZ4NF0D2NNFP2HM0INIKPUESPUX3RMRDUX02MPWIYSM2&amp;client_secret=EDNX150PKLS4SMRHWL21Q0KLBAQXYQUQV5RAZI0HZSA1IYGG&amp;v=20161111\" rel=\"nofollow noreferrer\">JSON</a> I would like to replicate this process for: </p>\n"}, {"tags": ["javascript", "google-chrome-extension"], "comments": [{"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1555561497, "post_id": 55737250, "comment_id": 98155495, "body": "chrome.tabs.onUpdated sees any URL changes regardless of whether the page was reloaded or not so the problem must be something else: maybe the site doesn&#39;t actually change the URL, in which case you can use MutationObserver, see also <a href=\"//stackoverflow.com/a/39508954\">Is there a JavaScript / jQuery DOM change listener?</a>"}, {"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1555561659, "post_id": 55737250, "comment_id": 98155527, "body": "It&#39;s also possible that the new URL is only present in <code>changeInfo.url</code> so try using <code>const url = changeInfo.url || tab.url</code>"}], "owner": {"reputation": 11, "user_id": 11222016, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-fJYPJdiGUdU/AAAAAAAAAAI/AAAAAAAAAB8/gRFHJO2nlSM/photo.jpg?sz=128", "display_name": "Fizzika NET", "link": "https://stackoverflow.com/users/11222016/fizzika-net"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555543355, "creation_date": 1555543355, "question_id": 55737250, "link": "https://stackoverflow.com/questions/55737250/replacement-for-chrome-tabs-onupdated", "title": "Replacement for chrome.tabs.onUpdated", "body": "<p>I write extension for google chrome, and i need to monitor change of url. \nI simply use chrome.tabs.onUpdated event, but it's work only when i reload page. </p>\n\n<pre><code>chrome.tabs.onUpdated.addListener(function (tabId, changeInfo, tab) {\n  if (\n          tab.url.match(/localhost/) ||\n          tab.url.match(/.../) ||\n          tab.url.match(/.../)\n          ) {\n    chrome.pageAction.show(tabId);\n  }\n});\n</code></pre>\n\n<p>Some pages in this sites update url by pressing button in page without reloading page, and this event doesn't work. </p>\n\n<p>Of cource, by pressing button and modified url in site appears new content</p>\n\n<p>Any ideas of new event, which handle with this problem?</p>\n"}, {"tags": ["javascript", "json", "api", "async-await", "pure-function"], "comments": [{"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "edited": false, "score": 0, "creation_date": 1555543716, "post_id": 55737241, "comment_id": 98152356, "body": "You want to print the json to page or extract the values from the json and put them into the html?"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1555544011, "post_id": 55737241, "comment_id": 98152397, "body": "I take it <code>main.innerHTML = JSON.stringify(parser(await request()));</code> outputs the rejigged JSON, and you want it to output what&#39;s in the picture? How will you get the <code>sun</code> image from that data? what if it&#39;s cloudy? or night time? Everything else is simple"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1555544424, "post_id": 55737241, "comment_id": 98152474, "body": "perhaps you&#39;ll want to use <code>param.current.condition.icon</code> for that"}, {"owner": {"reputation": 57, "user_id": 5420542, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/989981604407843/picture?type=large", "display_name": "Maxim Gordiyenko", "link": "https://stackoverflow.com/users/5420542/maxim-gordiyenko"}, "edited": false, "score": 0, "creation_date": 1555544562, "post_id": 55737241, "comment_id": 98152491, "body": "extract the values from the json and put them into the html same as on the picture and and instead of text should be:  &lt;div class=&quot;item&quot;&gt;name&lt;/div&gt; &lt;div class=&quot;item&quot;&gt; humidity &lt;/div&gt; &lt;div class=&quot;item&quot;&gt; time &lt;/div&gt;"}, {"owner": {"reputation": 57, "user_id": 5420542, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/989981604407843/picture?type=large", "display_name": "Maxim Gordiyenko", "link": "https://stackoverflow.com/users/5420542/maxim-gordiyenko"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1555545977, "post_id": 55737241, "comment_id": 98152740, "body": "Yes, You are right, also <b>param.current.condition, param.location.name</b> - @JaromandaX"}, {"owner": {"reputation": 7449, "user_id": 1193808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c02a38397eaca6fa70fe1162f18f4b?s=128&d=identicon&r=PG", "display_name": "Subir Kumar Sao", "link": "https://stackoverflow.com/users/1193808/subir-kumar-sao"}, "edited": false, "score": 0, "creation_date": 1555629966, "post_id": 55737241, "comment_id": 98185988, "body": "A framework like Knockout or Angular will make life easier."}, {"owner": {"reputation": 57, "user_id": 5420542, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/989981604407843/picture?type=large", "display_name": "Maxim Gordiyenko", "link": "https://stackoverflow.com/users/5420542/maxim-gordiyenko"}, "reply_to_user": {"reputation": 7449, "user_id": 1193808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2c02a38397eaca6fa70fe1162f18f4b?s=128&d=identicon&r=PG", "display_name": "Subir Kumar Sao", "link": "https://stackoverflow.com/users/1193808/subir-kumar-sao"}, "edited": false, "score": 0, "creation_date": 1555682657, "post_id": 55737241, "comment_id": 98200641, "body": "@SubirKumarSao Many thank, but i should understand core js"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 5420542, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/989981604407843/picture?type=large", "display_name": "Maxim Gordiyenko", "link": "https://stackoverflow.com/users/5420542/maxim-gordiyenko"}, "edited": false, "score": 0, "creation_date": 1555545247, "post_id": 55737347, "comment_id": 98152596, "body": "Okey, awesome, but what about use <b>const obj = parser(await request());</b> into new pure function likes <b>create</b> function that takes param (whatRender, whereRender) and insert ?"}, {"owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "reply_to_user": {"reputation": 57, "user_id": 5420542, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/989981604407843/picture?type=large", "display_name": "Maxim Gordiyenko", "link": "https://stackoverflow.com/users/5420542/maxim-gordiyenko"}, "edited": false, "score": 0, "creation_date": 1555545315, "post_id": 55737347, "comment_id": 98152615, "body": "I don&#39;t know what you mean by <code>pure function</code>. But, yes, making a <code>create</code> function would be trivial here. Please remember to upvote if this helps."}, {"owner": {"reputation": 57, "user_id": 5420542, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/989981604407843/picture?type=large", "display_name": "Maxim Gordiyenko", "link": "https://stackoverflow.com/users/5420542/maxim-gordiyenko"}, "edited": false, "score": 0, "creation_date": 1555545650, "post_id": 55737347, "comment_id": 98152677, "body": "I mean I have pure function already : <code>const create = (what, classAndId, text) =&gt; {     let element = document.createElement(what);     element.className = classAndId.class;     element.id = classAndId.id;     element.innerText = text;     return element; };</code> can this: <b>element.innerText = text;</b> render <b>obj.time</b>. How instead text use obj.time?"}], "tags": [], "owner": {"reputation": 10067, "user_id": 2415802, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/m5mFC.jpg?s=128&g=1", "display_name": "mwilson", "link": "https://stackoverflow.com/users/2415802/mwilson"}, "is_accepted": false, "score": 1, "last_activity_date": 1555628244, "last_edit_date": 1555628244, "creation_date": 1555544437, "answer_id": 55737347, "question_id": 55737241, "link": "https://stackoverflow.com/questions/55737241/how-to-insert-api-response-into-html/55737347#55737347", "title": "How to insert API response into HTML", "body": "<p>Your HTML is not going to know how to handle <code>json</code>. You need to specifically tell your html what the values are. For example:</p>\n\n<pre><code>async function showData() {\n    const main = document.querySelector(\"#main\");\n    document.body.appendChild(main);\n    const obj = parser(await request()); // &lt;-- Assuming this works and it returns an object (not json)\n    // Give your elements Id's to make it easier\n    document.getElementById('time').innerText = obj.time;\n    ...\n}\n</code></pre>\n\n<p>If I am misunderstanding and you are just wanting print the actual <code>json</code> out to the web page, you </p>\n\n<pre><code>async function showData() {\n    const main = document.querySelector(\"#main\");\n    document.body.appendChild(main);\n    const obj = parser(await request()); // &lt;-- Assuming this works\n    main.innerText = JSON.stringify(obj, null, 2);\n}\n</code></pre>\n\n<p>If you are trying to print out stringified json to the page, I would also recommend using a <code>pre</code> tag.</p>\n"}], "owner": {"reputation": 57, "user_id": 5420542, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/989981604407843/picture?type=large", "display_name": "Maxim Gordiyenko", "link": "https://stackoverflow.com/users/5420542/maxim-gordiyenko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1961, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555628244, "creation_date": 1555543291, "last_edit_date": 1555547068, "question_id": 55737241, "link": "https://stackoverflow.com/questions/55737241/how-to-insert-api-response-into-html", "title": "How to insert API response into HTML", "body": "<p>I used pure function to create wrapper for multiple HTML elements and don't understand how to insert JSON response API data into it.\nCan you help to create one more pure function that insert API data into HTML likes a text or use exists function called \"create\" that has property \"innerText\".</p>\n\n<p>I found similar question: <a href=\"https://stackoverflow.com/questions/46738333/using-javascript-loop-to-create-multiple-html-elements\">Using Javascript loop to create multiple HTML elements</a></p>\n\n<pre><code>const create = (what, classAndId, text) =&gt; {\n    let element = document.createElement(what);\n    element.className = classAndId.class;\n    element.id = classAndId.id;\n    element.innerText = text;\n    return element;\n};\n</code></pre>\n\n<p>API:</p>\n\n<pre><code>const link = `http://api.apixu.com/v1/current.json?key=${key}&amp;q=Kiev`;\n\nconst request = async () =&gt; {\n  try {\n    const response = await fetch(link);\n    return await response.json();\n  }catch (e) {\n    throw new Error(e);\n  }\n};\n</code></pre>\n\n<p>Function that converting API data into readable format:</p>\n\n<pre><code>const parser = param =&gt; {\n    return {\n        name: param.location.name,\n        region: param.location.country,\n        time: param.location.localtime,\n        temperature: {\n            real: param.current.temp_c,\n            feels_like: param.current.feelslike_c,\n        },\n        wind: {\n            speed: param.current.wind_kph,\n            direction: param.current.wind_dir,\n        },\n        pressure: param.current.pressure_mb,\n        visibility: param.current.vis_km,\n        precipitation: param.current.precip_mm,\n        humidity: param.current.humidity,\n    };\n};\n</code></pre>\n\n<p>Async function that just render API data into HTML after converting:</p>\n\n<pre><code>async function showData() {\n    const main = document.querySelector(\"#main\");\n    document.body.appendChild(main);\n    main.innerHTML = JSON.stringify(parser(await request()));\n}\n</code></pre>\n\n<p>Expected after render:\n<img src=\"https://cdn.androidheadlines.com/wp-content/uploads/2015/04/Screenshot-2015-04-14-13.38.44.png\" alt=\"a busy cat\"></p>\n\n<p>Expected into HTML:</p>\n\n<pre><code>&lt;div class=\"item\"&gt;11:30 PM&lt;/div&gt;\n&lt;div class=\"item\"&gt;Mostly Cloud&lt;/div&gt;\n&lt;div class=\"item\"&gt;Thu Jun 13&lt;/div&gt;\n</code></pre>\n\n<p>That does render function:</p>\n\n<pre><code>{\"name\":\"Kiev\",\"region\":\"Ukraine\",\"time\":\"2019-04-18 1:38\",\"temperature\":{\"real\":6,\"feels_like\":4.6},\"wind\":{\"speed\":6.8,\"direction\":\"ENE\"},\"pressure\":1028,\"visibility\":10,\"precipitation\":0,\"humidity\":70}\n</code></pre>\n"}, {"tags": ["javascript", "html", "amp-html"], "answers": [{"comments": [{"owner": {"reputation": 559, "user_id": 913747, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Akvs9.png?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/913747/joseph"}, "edited": false, "score": 0, "creation_date": 1555572012, "post_id": 55738687, "comment_id": 98159097, "body": "Thank you Nick for your attempt to answer this Question but AMP does not even accept the &lt;script&gt; tag nor does it allow for accessing the DOM directly. It is a really scaled down version of HTML lacking many features of HTML."}, {"owner": {"reputation": 9, "user_id": 11015581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7RcnV.png?s=128&g=1", "display_name": "Nick Frost", "link": "https://stackoverflow.com/users/11015581/nick-frost"}, "reply_to_user": {"reputation": 559, "user_id": 913747, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Akvs9.png?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/913747/joseph"}, "edited": false, "score": 1, "creation_date": 1556726095, "post_id": 55738687, "comment_id": 98531049, "body": "My apologies, I was unaware of how restricted AMP is.  <a href=\"https://stackoverflow.com/questions/43748634/add-javascript-in-amp-pages\" title=\"add javascript in amp pages\">stackoverflow.com/questions/43748634/&hellip;</a>"}], "tags": [], "owner": {"reputation": 9, "user_id": 11015581, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7RcnV.png?s=128&g=1", "display_name": "Nick Frost", "link": "https://stackoverflow.com/users/11015581/nick-frost"}, "is_accepted": false, "score": 0, "last_activity_date": 1555557773, "creation_date": 1555557773, "answer_id": 55738687, "question_id": 55737195, "link": "https://stackoverflow.com/questions/55737195/amp-how-to-dynamically-get-href-from-link-with-ref/55738687#55738687", "title": "AMP How to dynamically get href from link with ref", "body": "<p>The first thing I would do is give the corresponding tags IDs.</p>\n\n<pre><code>&lt;link id=\"canonicalUrl\" rel=\"canonical\" href=\"https://mysaleswebsite.com/salepage.php\"/&gt;\n&lt;amp-img id=\"ampButton\" src=\"img/salesbuttonpicture.jpg\" height=\"50\" width=\"100\" alt=\"Sales Page\"&gt;&lt;/amp-img&gt;\n</code></pre>\n\n<p>Then you can reference the attributes of those element IDs to get and assign the URL accordingly.</p>\n\n<pre><code>&lt;script&gt;\n    const canonicalUrl = document.getElementById('canonicalUrl').href;\n    document.getElementById('ampButton').setAttribute(\"on\", \"tap:AMP.navigateTo(url='\" + canonicalUrl + \"#productX', target='_blank', opener=true)'\")\n&lt;/script&gt;\n</code></pre>\n\n<p>I don't know anything about AMP or if this will do anything unforeseen.</p>\n"}], "owner": {"reputation": 559, "user_id": 913747, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/Akvs9.png?s=128&g=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/913747/joseph"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 901, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1555594125, "creation_date": 1555542970, "last_edit_date": 1555594125, "question_id": 55737195, "link": "https://stackoverflow.com/questions/55737195/amp-how-to-dynamically-get-href-from-link-with-ref", "title": "AMP How to dynamically get href from link with ref", "body": "<p>I am in a situation where I want to get the <strong>href</strong> from the <strong>canonical</strong> url of my <strong>AMP web page</strong> and add it to a an <strong>AMP button</strong> where upon the button <strong>tap</strong> the event opens a new page with the canonical URL instead. </p>\n\n<p>I want to do this dynamically via code. </p>\n\n<p>I could use amp-binding but I do not want to add any amp-binding to the canonical URL.</p>\n\n<p>This is my AMP code with the <strong>canonical URL</strong> that I want to navigate to after sales button is <strong>tapped</strong>. </p>\n\n<p><strong>Note</strong>: In AMP you <strong>tap</strong> a button and then an action is triggered unlike in <strong>HTML</strong> where you would say <strong>click</strong>. </p>\n\n<p>Would anyone know how to do this and show me how to do it please? </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link rel=\"canonical\" href=\"https://mysaleswebsite.com/salepage.php\"/&gt;\r\n\r\n&lt;div align=\"center\" class=\"img-wrapper\"&gt;\r\n\t&lt;amp-img on=\"tap:AMP.navigateTo(url='GET_URL_FROM_CANONICAL_LINK#productX', target='_blank', opener=true)\" src=\"img/salesbuttonpicture.jpg\" height=\"50\" width=\"100\" alt=\"Sales Page\"&gt;\r\n\t&lt;/amp-img&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "react-big-calendar"], "comments": [{"owner": {"reputation": 20333, "user_id": 774078, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/seSXR.png?s=128&g=1", "display_name": "Sterling Archer", "link": "https://stackoverflow.com/users/774078/sterling-archer"}, "edited": false, "score": 2, "creation_date": 1555543125, "post_id": 55737134, "comment_id": 98152243, "body": "Can you create a reproducible example please? Also, use console.log over alert"}, {"owner": {"reputation": 4461, "user_id": 8443899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6KX5x.jpg?s=128&g=1", "display_name": "Henok Tesfaye", "link": "https://stackoverflow.com/users/8443899/henok-tesfaye"}, "reply_to_user": {"reputation": 20333, "user_id": 774078, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/seSXR.png?s=128&g=1", "display_name": "Sterling Archer", "link": "https://stackoverflow.com/users/774078/sterling-archer"}, "edited": false, "score": 0, "creation_date": 1555543333, "post_id": 55737134, "comment_id": 98152284, "body": "Yes, console.log worked."}], "owner": {"reputation": 4461, "user_id": 8443899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6KX5x.jpg?s=128&g=1", "display_name": "Henok Tesfaye", "link": "https://stackoverflow.com/users/8443899/henok-tesfaye"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 874, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555590086, "creation_date": 1555542599, "last_edit_date": 1555590086, "question_id": 55737134, "link": "https://stackoverflow.com/questions/55737134/how-to-get-selected-event-in-react-big-calendar", "title": "How to get selected event in React Big Calendar?", "body": "<pre><code>&lt;BigCalendar\n    events={dummyEvents}\n    onSelectEvent={event =&gt; alert(event)}\n    eventPropGetter={eventStyleGetter}\n/&gt;\n</code></pre>\n\n<p>After displaying events on <code>BigCalendar</code>, I want to know which event is selected. But this snippet just only displays an empty string? </p>\n\n<p>How to get selected event in React Big Calendar?</p>\n"}, {"tags": ["javascript", "arrays", "mongodb", "object", "mongoose"], "answers": [{"tags": [], "owner": {"reputation": 1389, "user_id": 8298495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae0d31fb70fbe2cd84e6272e872aa440?s=128&d=identicon&r=PG&f=1", "display_name": "Jarek Kulikowski", "link": "https://stackoverflow.com/users/8298495/jarek-kulikowski"}, "is_accepted": false, "score": 1, "last_activity_date": 1555542540, "creation_date": 1555542540, "answer_id": 55737128, "question_id": 55737093, "link": "https://stackoverflow.com/questions/55737093/how-to-query-a-document-with-the-highest-value-of-a-field/55737128#55737128", "title": "How to query a document with the highest value of a field", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let documents = [\r\n  {\r\n    name: \"name1\",\r\n    id: 1\r\n  },\r\n  {\r\n    name: \"name2\",\r\n    id: 2\r\n  },\r\n  {\r\n    name: \"name1\",\r\n    id: 3\r\n  },\r\n  {\r\n    name: \"name1\",\r\n    id: 0\r\n  }\r\n];\r\n\r\nlet max = documents.sort( (a, b) =&gt; a.id &gt; b.id ? -1 : 1)[0]\r\nconsole.log( max );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How about \n<code>let maxIdDocument = documents.sort( (a, b) =&gt; a.id &gt; b.id ? 1 :  -1)[0]</code></p>\n"}, {"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 1, "last_activity_date": 1555542613, "creation_date": 1555542613, "answer_id": 55737136, "question_id": 55737093, "link": "https://stackoverflow.com/questions/55737093/how-to-query-a-document-with-the-highest-value-of-a-field/55737136#55737136", "title": "How to query a document with the highest value of a field", "body": "<p>First, sort in descending order, then get the first one:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [{\r\n    name: \"name1\",\r\n    id: 1\r\n  },\r\n  {\r\n    name: \"name2\",\r\n    id: 2\r\n  },\r\n  {\r\n    name: \"name1\",\r\n    id: 3\r\n  },\r\n  {\r\n    name: \"name1\",\r\n    id: 0\r\n  }\r\n];\r\n\r\nconst [greatest] = arr.sort(({ id: a }, { id: b }) =&gt; b - a);\r\n\r\nconsole.log(greatest);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": 1, "last_activity_date": 1555542908, "creation_date": 1555542908, "answer_id": 55737187, "question_id": 55737093, "link": "https://stackoverflow.com/questions/55737093/how-to-query-a-document-with-the-highest-value-of-a-field/55737187#55737187", "title": "How to query a document with the highest value of a field", "body": "<p>You can sort that array and with the function <code>pop</code> get the object with the greatest <code>id</code>.</p>\n\n<pre><code>arr.slice() // This is to avoid a mutation on the original array.\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [   {     name: \"name1\",     id: 1   },   {     name: \"name2\",     id: 2   },   {     name: \"name1\",     id: 3   } ,  {     name: \"name1\",     id: 0   } ],\r\n    greatest = arr.slice().sort(({id: a}, {id: b}) =&gt; a - b).pop();\r\n\r\nconsole.log(greatest);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { min-height: 100%; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 91, "user_id": 10095835, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cc594ef2bd245eac82055d6bd0a0343?s=128&d=identicon&r=PG&f=1", "display_name": "lakers5824", "link": "https://stackoverflow.com/users/10095835/lakers5824"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1555542908, "creation_date": 1555542296, "last_edit_date": 1555542820, "question_id": 55737093, "link": "https://stackoverflow.com/questions/55737093/how-to-query-a-document-with-the-highest-value-of-a-field", "title": "How to query a document with the highest value of a field", "body": "<p>Let's say I have a collection of documents. To make this simpler, let's say all these documents have just 2 fields, name and id, like below.</p>\n\n<p>I want to get the document with the greatest value of \"id\". Can I use the .find({}) with some parameters? If so, I can't figure out which parameter would find me the max value of a certain field.</p>\n\n<pre><code>[\n  {\n    name: \"name1\",\n    id: 1\n  }\n  {\n    name: \"name2\",\n    id: 2\n  }\n  {\n    name: \"name1\",\n    id: 3\n  }\n  {\n    name: \"name1\",\n    id: 0\n  }\n]\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "ajax", "promise"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1555542607, "post_id": 55737080, "comment_id": 98152123, "body": "show the &quot;Working&quot; message just before <code>$(&#39;.delete:checked&#39;).each</code> - but don&#39;t use <code>alert</code> - because that is blocking"}], "answers": [{"comments": [{"owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "edited": false, "score": 0, "creation_date": 1555681210, "post_id": 55742237, "comment_id": 98200023, "body": "Presumably <code>promesas.push(...)</code> (as in the question) should be <code>promises.push(...)</code>."}], "tags": [], "owner": {"reputation": 31, "user_id": 5728749, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e79e0f5a5943dd6a4d92ec5a2c30da0?s=128&d=identicon&r=PG&f=1", "display_name": "StoeV_No1", "link": "https://stackoverflow.com/users/5728749/stoev-no1"}, "is_accepted": false, "score": 0, "last_activity_date": 1555576828, "creation_date": 1555576828, "answer_id": 55742237, "question_id": 55737080, "link": "https://stackoverflow.com/questions/55737080/show-message-while-all-promises-are-resolved/55742237#55742237", "title": "show message while all promises are resolved", "body": "<p>Jaromanda X is right. You can probably do something like this:</p>\n\n<pre><code>$(\"#btnDelete\").click(function () {\nvar promises = [];\nif (confirm(\"\u00bfSeguro que quiere borrar?\")) {\n\n   //Loading message here\n\n    $('#you_div').html('Loading...');\n    $('.delete:checked').each(function (index, value) {\n        promesas.push(\n            $.ajax({\n                method: \"POST\",\n                url: \"transaccion.php\",\n                data: {\n                    id_pagos_detalle: $(this).val(),\n                    accion: \"Registrar_inf_consignacion\",\n                    estado_elemento: \"Si\"\n                }\n            }).then(function (msg) {\n                if(msg.indexOf(\"SUCCESS\") != -1){\n\n                      //hide the loading message\n                      $('#you_div').hide();\n\n                    console.log(\"delete this element\");\n                }else{\n                    alert(\"ERROR\");\n                    return false;\n                }\n            })\n        );  // end promise  \n    });\n\n    // process all promises\n    $.when.apply($, promises).then(function(){\n\n\n\n        alert(\"Promises ended\");\n        location.reload(true);\n    });\n}\n});\n</code></pre>\n\n<p>Remember to add you_div to the appropriate place in your html</p>\n"}], "owner": {"reputation": 412, "user_id": 3717040, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6585c808d4108bfb98bdee7d13f25d7d?s=128&d=identicon&r=PG", "display_name": "sadalsuud", "link": "https://stackoverflow.com/users/3717040/sadalsuud"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555576828, "creation_date": 1555542219, "last_edit_date": 1555543299, "question_id": 55737080, "link": "https://stackoverflow.com/questions/55737080/show-message-while-all-promises-are-resolved", "title": "show message while all promises are resolved", "body": "<p>I have a many request ajax, and all those end, show message: \"promises ended\", but I want show message while: \"Processing\" or \"Working...\" and I do not know. I use jquery</p>\n\n<pre><code>$(\"#btnDelete\").click(function () {\n    var promises = [];\n    if (confirm(\"\u00bfSeguro que quiere borrar?\")) {\n        $('.delete:checked').each(function (index, value) {\n            promesas.push(\n                $.ajax({\n                    method: \"POST\",\n                    url: \"transaccion.php\",\n                    data: {\n                        id_pagos_detalle: $(this).val(),\n                        accion: \"Registrar_inf_consignacion\",\n                        estado_elemento: \"Si\"\n                    }\n                }).then(function (msg) {\n                    if(msg.indexOf(\"SUCCESS\") != -1){\n                        console.log(\"delete this element\");\n                    }else{\n                        alert(\"ERROR\");\n                        return false;\n                    }\n                })\n            );  // end promise  \n        });\n\n        // process all promises\n        $.when.apply($, promises).then(function(){\n            alert(\"Promises ended\");\n            location.reload(true);\n        });\n    }\n});\n</code></pre>\n"}, {"tags": ["javascript", "events", "keyboard", "keypress", "keydown"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 1, "creation_date": 1555542389, "post_id": 55737059, "comment_id": 98152087, "body": "Alt-a, at least in latest firefox on windows 10, does not trigger keypress, so, not sure what you&#39;re seeing - however, if you look at keydown events you should see something more useful - though, if your system has some keyboard &quot;magic&quot; that maps Alt-A to <code>&#229;</code> then you may be out of luck anyway"}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1555543621, "post_id": 55737059, "comment_id": 98152340, "body": "<code>Element.onkeyup = function(e){   if(e.altKey &amp;&amp; e.key === &#39;a&#39; || e.key === &#39;A&#39;){     console.log(e.key);   } }</code>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 1, "creation_date": 1555543776, "post_id": 55737059, "comment_id": 98152362, "body": "it also works on keyup @PHPglue :p"}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1555543900, "post_id": 55737059, "comment_id": 98152384, "body": "This is funny though: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/altKey\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/altKe&zwnj;&#8203;y</a>"}, {"owner": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1555543976, "post_id": 55737059, "comment_id": 98152391, "body": "@JaromandaX Alt+A triggers a keypress for me under macos + chrome. There&#39;s no magic involved, just the default macos behavior."}, {"owner": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1555544020, "post_id": 55737059, "comment_id": 98152399, "body": "@PHPglue doesn&#39;t work for me, when I do a <code>Alt-A</code> then <code>e.key === &#39;&#229;&#39;</code>."}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1555544086, "post_id": 55737059, "comment_id": 98152415, "body": "Make sure you have your charset set correctly. <code>&lt;meta charset=&#39;UTF-8&#39; &#47;&gt;</code> in your <code>&lt;head&gt;</code>."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1555544248, "post_id": 55737059, "comment_id": 98152442, "body": "I guess macos isn&#39;t windows :p so you&#39;ll find that while macos does one thing with that key combination, windows does something different, and Linux probably different again ... what does macos report when using <code>keydown</code> instead of <code>keypress</code> - if that is also <code>&#229;</code> then you&#39;re basically out of luck. A browser gets what the operating system sends it"}, {"owner": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "reply_to_user": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1555544380, "post_id": 55737059, "comment_id": 98152464, "body": "@PHPglue the charset is set properly."}, {"owner": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1555544500, "post_id": 55737059, "comment_id": 98152482, "body": "@JaromandaX on keydown I get <code>key: &quot;&#229;&quot;</code> and <code>code: &quot;KeyA&quot;</code>. I&#39;ve found that mousetrap [0] can reliably detect this for me, even when switching to the AZERTY layout, I&#39;m not quite sure how it does it though. [0] <a href=\"https://github.com/ccampbell/mousetrap\" rel=\"nofollow noreferrer\">github.com/ccampbell/mousetrap</a>"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1555544707, "post_id": 55737059, "comment_id": 98152509, "body": "<code>code: &quot;KeyA&quot;</code> that&#39;s good then"}, {"owner": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1555544968, "post_id": 55737059, "comment_id": 98152553, "body": "@JaromandaX no because that&#39;s layout independent, if I switch from QWERTY to AZERTY I still get <code>KeyA</code>, because the key is the same, but under the AZERTY layout that key types <code>q</code>."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1555545042, "post_id": 55737059, "comment_id": 98152561, "body": "well, then, there&#39;s no solution if your operating system sends that"}, {"owner": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1555545244, "post_id": 55737059, "comment_id": 98152594, "body": "@JaromandaX since mousetrap seems to handle this just fine there seems to be a solution."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1555546778, "post_id": 55737059, "comment_id": 98152874, "body": "Yep. Use mousetrap"}], "owner": {"reputation": 617, "user_id": 2506615, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/d19065167892f5f74e624662c4fd2699?s=128&d=identicon&r=PG", "display_name": "Fabio Spampinato", "link": "https://stackoverflow.com/users/2506615/fabio-spampinato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 17, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555542082, "creation_date": 1555542082, "question_id": 55737059, "link": "https://stackoverflow.com/questions/55737059/how-to-detect-alta-reliably-across-browsers-and-keyboard-layouts", "title": "How to detect Alt+A reliably across browsers and keyboard layouts?", "body": "<p>I haven't been able to find a reliable way of detecting shortcuts such as <code>Alt+A</code> reliably.</p>\n\n<p>If I listen to <code>keydown</code> the <code>keyCode</code> property refers to the actual keyboard key, not necessarily the character that's printed on it, so I can't use it to reliably detect if the character being pressed is actually an <code>a</code>.</p>\n\n<p>I can use <code>keypress</code> for detecting if an actual <code>a</code> is being pressed, but once I press <code>Alt+A</code> than keypress tells me that <code>\u00e5</code> has been inserted, and I can't reliably infer the actual key being used from that.</p>\n\n<p>Is this impossible to do?</p>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 148, "user_id": 1793254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0e22fd97778b64877422904c92ac8bf?s=128&d=identicon&r=PG", "display_name": "dnak", "link": "https://stackoverflow.com/users/1793254/dnak"}, "edited": false, "score": 1, "creation_date": 1555542506, "post_id": 55737037, "comment_id": 98152104, "body": "You cant chain <code>replace</code> onto <code>match</code>. <code>match</code> returns an array while <code>replace</code> operates on a string"}, {"owner": {"reputation": 1732, "user_id": 2719598, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/l9oGS.jpg?s=128&g=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/2719598/kenny"}, "reply_to_user": {"reputation": 148, "user_id": 1793254, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0e22fd97778b64877422904c92ac8bf?s=128&d=identicon&r=PG", "display_name": "dnak", "link": "https://stackoverflow.com/users/1793254/dnak"}, "edited": false, "score": 0, "creation_date": 1555542547, "post_id": 55737037, "comment_id": 98152113, "body": "Thank you, that&#39;s helpful to know!"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1555542600, "post_id": 55737037, "comment_id": 98152121, "body": "Try <code>s.split(&#47;[^A-Za-z()]+|\\([^()]*\\)&#47;).filter(Boolean).map(funct&zwnj;&#8203;ion (x) { return x.toLowerCase(); }).join(&quot;-&quot;)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1112, "user_id": 6041844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1b38c20932686a4f085ad92aed85a5?s=128&d=identicon&r=PG&f=1", "display_name": "claytronicon", "link": "https://stackoverflow.com/users/6041844/claytronicon"}, "is_accepted": false, "score": 0, "last_activity_date": 1555542444, "creation_date": 1555542444, "answer_id": 55737111, "question_id": 55737037, "link": "https://stackoverflow.com/questions/55737037/regex-get-text-numbers-only-and-extra/55737111#55737111", "title": "Regex - Get Text/Numbers Only and Extra", "body": "<p>This is prob not the most efficient way, but...</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str= \"Tree Log &amp; Fire (TLF)\";\r\n\r\nstr= str.replace(/\\([^()]*\\)/,'')\r\n    .replace(/[^A-Z0-9]+/ig, '-').replace(/\\-$/, \"\").toLowerCase();\r\n\r\nconsole.log(str);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1732, "user_id": 2719598, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/l9oGS.jpg?s=128&g=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/2719598/kenny"}, "edited": false, "score": 0, "creation_date": 1555547516, "post_id": 55737141, "comment_id": 98153010, "body": "Thanks @acdcjunior, I was missing that extra regex and the <code>[0]</code>! It&#39;s now doing as it should!"}], "tags": [], "owner": {"reputation": 113065, "user_id": 1850609, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X0C56.jpg?s=128&g=1", "display_name": "acdcjunior", "link": "https://stackoverflow.com/users/1850609/acdcjunior"}, "is_accepted": true, "score": 1, "last_activity_date": 1555542627, "creation_date": 1555542627, "answer_id": 55737141, "question_id": 55737037, "link": "https://stackoverflow.com/questions/55737037/regex-get-text-numbers-only-and-extra/55737141#55737141", "title": "Regex - Get Text/Numbers Only and Extra", "body": "<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match\" rel=\"nofollow noreferrer\"><code>.match()</code></a> returns an array, if there was a match. Thus to get the matched group you have to use <code>[0]</code> on the result of <code>.match()</code> before calling <code>.replace()</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>go('Tree Log &amp; Fire (TLF)');\r\ngo('Leaves');\r\ngo('River Moon (RM)');\r\n\r\n\r\nfunction go(oldString) {\r\n    var newString = oldString\r\n        .match(/[^]+(?=(\\s\\())|.+/)[0] // &lt;-- added [0] to get the 1st group's result str\r\n        .replace(/[^A-Z0-9]+/ig, '-')\r\n        .toLowerCase();\r\n\r\n    console.log(newString);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Notice I added <code>|.+</code> to handle the <code>Leaves</code> case (where there's no <code>()</code>). Ah, and added <code>.toLowerCase()</code> as well.</p>\n"}], "owner": {"reputation": 1732, "user_id": 2719598, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/l9oGS.jpg?s=128&g=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/2719598/kenny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "accepted_answer_id": 55737141, "answer_count": 2, "score": 0, "last_activity_date": 1555542627, "creation_date": 1555541854, "question_id": 55737037, "link": "https://stackoverflow.com/questions/55737037/regex-get-text-numbers-only-and-extra", "title": "Regex - Get Text/Numbers Only and Extra", "body": "<p>I have some strings I need to apply regex to reformat them. </p>\n\n<p>Here are some examples: </p>\n\n<p><code>Tree Log &amp; Fire (TLF)</code></p>\n\n<p><code>Leaves</code></p>\n\n<p><code>River Moon (RM)</code></p>\n\n<p>The capitalization, spacing, formatting is all exactly how a string may appear. </p>\n\n<p>My goal is for them to be transformed into the following: </p>\n\n<p><code>tree-log-fire</code> </p>\n\n<p><code>leaves</code> </p>\n\n<p><code>river-moon</code> </p>\n\n<p>As you may notice, the <code>&amp;</code> is gone, and any string that had <code>(xx)</code> at the end had that discarded. </p>\n\n<p>I'm using JavaScript <code>.replace()</code> and tried to throw in a <code>match()</code> but it doesn't work. </p>\n\n<p>Example code: </p>\n\n<pre><code>let newString = oldString\n    .match(/[^]+(?=\\s\\()/)\n    .replace(/[^A-Z0-9]+/ig, '-')\n</code></pre>\n\n<p>Theoretically, that would work, but I can't seem to chain the .replace to the .match. Also, I would prefer one line of Regex. I have been trying combinations, but I know someone may be a little more clever than I with regular expressions! </p>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["javascript", "scroll"], "answers": [{"tags": [], "owner": {"reputation": 6545, "user_id": 4775645, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rS0Hu.png?s=128&g=1", "display_name": "Steve K", "link": "https://stackoverflow.com/users/4775645/steve-k"}, "is_accepted": true, "score": 2, "last_activity_date": 1555542120, "creation_date": 1555542120, "answer_id": 55737066, "question_id": 55737011, "link": "https://stackoverflow.com/questions/55737011/scroll-function-for-multiple-ids/55737066#55737066", "title": "scroll function for multiple id&#39;s", "body": "<p>Either comma separate them like <code>$('#div1, #div2')</code> or just add a class instead of using id's like <code>$('.stickyDiv')</code> and then </p>\n\n<pre><code>&lt;div class=\"stickyDiv\" id=\"div1&gt;&lt;/div&gt;\n&lt;div class=\"stickyDiv\" id=\"div2&gt;&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 53, "user_id": 4507893, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207073311021939/picture?type=large", "display_name": "Marcel", "link": "https://stackoverflow.com/users/4507893/marcel"}, "edited": false, "score": 0, "creation_date": 1555544140, "post_id": 55737157, "comment_id": 98152427, "body": "I will try this also, I am only not sure it works in all browsers?"}], "tags": [], "owner": {"reputation": 1101, "user_id": 6460856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/348ceb4cfb329409b99e1805cef9e382?s=128&d=identicon&r=PG&f=1", "display_name": "Swetank Poddar", "link": "https://stackoverflow.com/users/6460856/swetank-poddar"}, "is_accepted": false, "score": 0, "last_activity_date": 1555542731, "creation_date": 1555542731, "answer_id": 55737157, "question_id": 55737011, "link": "https://stackoverflow.com/questions/55737011/scroll-function-for-multiple-ids/55737157#55737157", "title": "scroll function for multiple id&#39;s", "body": "<p>If your aim is to stick the div on top while scrolling, I suggest you to use a CSS attribute called <code>position</code>. </p>\n\n<p>Example: <a href=\"https://codepen.io/swetankpoddar/pen/pBamBB\" rel=\"nofollow noreferrer\">Codepen</a></p>\n\n<p>You can read more about it <a href=\"https://www.w3schools.com/howto/howto_css_sticky_element.asp\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 763, "user_id": 6134824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f291427cbbb232f166a6fa42bc5d5d?s=128&d=identicon&r=PG", "display_name": "Andu Andrici", "link": "https://stackoverflow.com/users/6134824/andu-andrici"}, "is_accepted": false, "score": 0, "last_activity_date": 1555544429, "creation_date": 1555544429, "answer_id": 55737345, "question_id": 55737011, "link": "https://stackoverflow.com/questions/55737011/scroll-function-for-multiple-ids/55737345#55737345", "title": "scroll function for multiple id&#39;s", "body": "<p>This can be achieved with position:sticky.</p>\n\n<pre><code>#div1 , #div2 {\n    position: sticky;\n    top: 72px;\n}\n</code></pre>\n\n<p>By <strong>default</strong>, they will behave as <strong>position: relative</strong>. <br>\nWhen the Parent Element is <strong>scrolled</strong> (passed the 72px point), they will behave like <strong>position: fixed</strong>. </p>\n\n<p>This will happen only within the scrolling of the Parent Element. <br>\nIf you want them to be sticky relative to the window, place them as direct children of the &lt;body>.</p>\n\n<pre><code>&lt;body&gt;\n    &lt;div id=\"div1\"&gt;&lt;/div&gt;\n    &lt;div id=\"div2\"&gt;&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n"}], "owner": {"reputation": 53, "user_id": 4507893, "user_type": "registered", "profile_image": "https://graph.facebook.com/10207073311021939/picture?type=large", "display_name": "Marcel", "link": "https://stackoverflow.com/users/4507893/marcel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 133, "favorite_count": 0, "accepted_answer_id": 55737066, "answer_count": 3, "score": 0, "last_activity_date": 1598325122, "creation_date": 1555541697, "last_edit_date": 1598325122, "question_id": 55737011, "link": "https://stackoverflow.com/questions/55737011/scroll-function-for-multiple-ids", "title": "scroll function for multiple id&#39;s", "body": "<p>I have the following code to have a div stick to the top upon scroll:</p>\n\n<pre><code>$(window).scroll(function() {\n//After scrolling 100px from the top...\nif ( $(window).scrollTop() &gt;= 72 || (w &gt; 980)) {\n    $('#div1').css('top', '0px');\n\n//Otherwise remove inline styles and thereby revert to original stying\n} else {\n    $('#div1').attr('style', '');\n\n}\n});\n</code></pre>\n\n<p>Now I want two divs on one page to have the same behaviour. I tried:</p>\n\n<pre><code> $('#div1' || '#div2')\n</code></pre>\n\n<p>but that does not seem to work. How could I achieve this?</p>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 9876671, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Smooth Coding", "link": "https://stackoverflow.com/users/9876671/smooth-coding"}, "edited": false, "score": 0, "creation_date": 1555542319, "post_id": 55737006, "comment_id": 98152069, "body": "Thanks, i will take a look, but that&#39;s not a problem with the collision itself as it&#39;s working for single object very well. Array of bullets somehow blocks the collision execution on time, but i can&#39;t figure out why it&#39;s happening. It&#39;s waiting with collision till player stop producing bullets (stop holding ctrl)"}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": true, "score": 2, "last_activity_date": 1555541645, "creation_date": 1555541645, "answer_id": 55737006, "question_id": 55736978, "link": "https://stackoverflow.com/questions/55736978/collision-issue-when-too-many-objects-on-the-screen/55737006#55737006", "title": "Collision issue when too many objects on the screen", "body": "<p>Take a look at the intersection observer api, it will give you much better performace than rolling your own collision detection.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API</a></p>\n"}], "owner": {"reputation": 87, "user_id": 9876671, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Smooth Coding", "link": "https://stackoverflow.com/users/9876671/smooth-coding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 55737006, "answer_count": 1, "score": 1, "last_activity_date": 1555541645, "creation_date": 1555541479, "question_id": 55736978, "link": "https://stackoverflow.com/questions/55736978/collision-issue-when-too-many-objects-on-the-screen", "title": "Collision issue when too many objects on the screen", "body": "<p>I am using the following function to create the bullet (while player keeps ctrl) and place it into an array called bullets:</p>\n\n<pre><code>setInterval(function produceBullet() {\nif (shoot) {\n    bullet = new Bullet(player.x - 3, player.y - 3, 6, 16, 10)\n    bullets.push(bullet);\n}\n}, 200);\n</code></pre>\n\n<p>The next function is about collision between boss and bullets. In that case each bullet takes 1 life from the boss (number on top of the game):</p>\n\n<pre><code>function collisions() {\nfor (i = 0; i &lt; bullets.length; i++) {\n    if (bullet.x &gt; bossOne.x &amp;&amp; bullet.x &lt; bossOne.x + bossOne.sizeX &amp;&amp;\n        bullet.y &lt; bossOne.y + bossOne.sizeY &amp;&amp; bullet.y &gt; bossOne.y) {\n        bullets.splice(i, 1);\n        bossLife -= 1;\n        bossLifeCounter.innerHTML = bossLife;\n        if (bossLife &lt;= 0) {\n            bossLifeCounter.innerHTML = \"winner!\";\n            bossOne.x = -10000;\n        }\n    }\n}  \n}\n</code></pre>\n\n<p>I use also show function:</p>\n\n<pre><code>function draw() {\nfor (i = 0; i &lt; bullets.length; i++) {\n    bullets[i].show();\n    bullets[i].move();\n    if (bullet.y &lt; 0) {\n        bullets.splice(i, 1);\n    }\n}\n\ncollisions();\n\nrequestAnimationFrame(draw);\n}\nrequestAnimationFrame(draw);\n</code></pre>\n\n<p>Everything is fine when there is only 1 bullet on the screen, player keeps the ctrl to shoot the boss and he's losing his life without releasing ctrl.</p>\n\n<p>The problem is when player is far away from the boss, so there are many bullets on the screen and collision works only, when the ctrl key is released.</p>\n\n<p>Full code on remote server, where you can inspect the problem: <a href=\"https://stacho163.000webhostapp.com/\" rel=\"nofollow noreferrer\">https://stacho163.000webhostapp.com/</a></p>\n\n<p>If anybody has time to look into the code (it's short and i think clear) and has an idea what's wrong with it i would be grateful. Thank you</p>\n"}, {"tags": ["javascript", "browser"], "comments": [{"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 1, "creation_date": 1555540841, "post_id": 55736873, "comment_id": 98151694, "body": "Rather than trying to use JavaScript, launch the browser itself in kiosk mode. see <a href=\"https://superuser.com/q/716426/252695\">SU: Running latest Chrome for Windows in kiosk mode</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555541564, "post_id": 55736873, "comment_id": 98151893, "body": "JavaScript can&#39;t do this, for security reasons. It would allow someone to create a website that traps you in a full-screen window."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555541609, "post_id": 55736873, "comment_id": 98151905, "body": "All browsers have Kiosk Mode exactly for this reason."}, {"owner": {"reputation": 1112, "user_id": 6041844, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f1b38c20932686a4f085ad92aed85a5?s=128&d=identicon&r=PG&f=1", "display_name": "claytronicon", "link": "https://stackoverflow.com/users/6041844/claytronicon"}, "edited": false, "score": 0, "creation_date": 1555541736, "post_id": 55736873, "comment_id": 98151939, "body": "fullscreenchange events do work, but only if the fullscreen mode is triggered by requestFullScreen : <a href=\"https://stackoverflow.com/questions/21103478/fullscreenchange-event-not-firing-in-chrome\" title=\"fullscreenchange event not firing in chrome\">stackoverflow.com/questions/21103478/&hellip;</a>"}], "owner": {"reputation": 7, "user_id": 9052215, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-r87eO3s24W8/AAAAAAAAAAI/AAAAAAAAIjU/pq9s5atSfTY/photo.jpg?sz=128", "display_name": "Est&#234;v&#227;o Rolim", "link": "https://stackoverflow.com/users/9052215/est%c3%aav%c3%a3o-rolim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555540665, "creation_date": 1555540665, "question_id": 55736873, "link": "https://stackoverflow.com/questions/55736873/restrain-fullscreen-mode-exit-based-on-password-prompt", "title": "Restrain fullscreen mode exit based on password (prompt())", "body": "<p>I am trying to develop a simple script that restrains if the user can or cannot leave fullscreen mode, based on password prompt. Its main objective is to avoid visitors of a museum using the interactive device for other purposes other than its primary goal, which is a browser app that teaches some things about the things exposed there, hence why I am trying to write this script in JS.</p>\n\n<p>So I have created a simple code, which basically should listen to the event <code>fullscreenchange</code> and act based on that, but that's where I am facing my biggest problem: it apparently doesn't.</p>\n\n<p>What it does basically is:\n - Check if fullscreenchange was called;\n - If it was, see if the user is trying to enter or leave fullscreen mode;\n - If the user is leaving fullscreen mode, ask them to enter a password;\n - If the password is incorrect, it should enable fullscreen mode again. </p>\n\n<p>Take a look at what I have for now: </p>\n\n<pre><code>        document.addEventListener(\"fullscreenchange\", function() {\n            fullscreenchange();\n        });\n\n        document.addEventListener(\"mozfullscreenchange\", function() {\n            fullscreenchange();\n        });\n\n        document.addEventListener(\"webkitfullscreenchange\", function() {\n            fullscreenchange();\n        });\n\n        document.addEventListener(\"msfullscreenchange\", function() {\n            fullscreenchange();\n        });\n\n        function fullscreenchange() {\n            var fullscreen = (window.fullScreen) || (window.innerWidth == screen.width &amp;&amp; window.innerHeight == screen.height);\n            if(!fullscreen) \n            {\n                if(!passwordChecks()){\n                    openFullscreen()\n                    return;\n                }\n            }\n        }\n\n        function openFullscreen() {\n            if (elem.requestFullscreen) {\n            elem.requestFullscreen();\n            } else if (elem.mozRequestFullScreen) { /* Firefox */\n            elem.mozRequestFullScreen();\n            } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari &amp; Opera */\n            elem.webkitRequestFullscreen();\n            } else if (elem.msRequestFullscreen) { /* IE/Edge */\n            elem.msRequestFullscreen();\n            }\n        }\n\n        function passwordChecks(){\n            var pass = prompt(\"Enter password to leave fullscreen:\");\n\n            if(pass == \"leave123\")\n                return true;\n\n            return false;\n        }\n</code></pre>\n\n<p>The script doesn't return any errors on console (using DevTools from Chrome). But it also doesn't work, when you try to leave fullscreen, nothing happens, that's why I mentioned the <code>fullscreenchange</code> event is apparently not working.</p>\n\n<p>Please let me know if there is any error in this code, and what can be done to achieve the final goal. It is simple, I hope, but I really need your help, guys.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "arrays", "json", "object", "ecmascript-6"], "answers": [{"tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 0, "last_activity_date": 1555540886, "creation_date": 1555540886, "answer_id": 55736904, "question_id": 55736849, "link": "https://stackoverflow.com/questions/55736849/filter-data-based-on-object-with-filter-values/55736904#55736904", "title": "Filter data based on Object with filter values", "body": "<p>Get an array of key/value pairs from the <code>FORM_VALUES</code> object with <code>Object.entries()</code>. Iterate the array of pairs with <code>Array.every()</code> for each pair, return <code>true</code> if the value <code>''</code> (empty string) or value of the filter matches with that of the current object.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const FORM_VALUES = {\"title\":\"\",\"name\":\"John\",\"Age\":56}\r\n\r\nconst data = [{\"title\":\"CEO\",\"name\":\"John\",\"Age\":56},{\"title\":null,\"name\":\"George\",\"Age\":56}]\r\n\r\nconst result = data.filter(o =&gt;\r\n  Object.entries(FORM_VALUES)\r\n    .every(([k, v]) =&gt; v === '' || o[k] === v)\r\n)\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 11376214, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-G-QFNsdxbjk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf0v_9k7em79vJAnTKLUyXy9C4Xlw/mo/photo.jpg?sz=128", "display_name": "yayfubo fubo", "link": "https://stackoverflow.com/users/11376214/yayfubo-fubo"}, "edited": false, "score": 0, "creation_date": 1555541208, "post_id": 55736909, "comment_id": 98151782, "body": "Maybe I wasn&#39;t clear in my question. Your answer will only return one value correct? It should return an array. In the example I provided it only return the first value because it was the only one that matched the search criterias"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 25, "user_id": 11376214, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-G-QFNsdxbjk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf0v_9k7em79vJAnTKLUyXy9C4Xlw/mo/photo.jpg?sz=128", "display_name": "yayfubo fubo", "link": "https://stackoverflow.com/users/11376214/yayfubo-fubo"}, "edited": false, "score": 0, "creation_date": 1555541266, "post_id": 55736909, "comment_id": 98151801, "body": "Edited @yayfubofubo."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": true, "score": 0, "last_activity_date": 1555541260, "last_edit_date": 1555541260, "creation_date": 1555540923, "answer_id": 55736909, "question_id": 55736849, "link": "https://stackoverflow.com/questions/55736849/filter-data-based-on-object-with-filter-values/55736909#55736909", "title": "Filter data based on Object with filter values", "body": "<p>Use <code>filter</code> to get the people with the values, and use <code>Object.keys</code> and <code>delete</code> to remove any empty entries, and <code>every</code> with <code>Object.entries</code> to find the actual objects:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const FORM_VALUES = {\r\n  title: '',\r\n  name: 'John',\r\n  Age: 56\r\n}\r\n\r\nconst data = [{\r\n    title: 'CEO',\r\n    name: 'John',\r\n    Age: 56\r\n  },\r\n  {\r\n    title: null,\r\n    name: 'George',\r\n    Age: 56\r\n  }\r\n];\r\n\r\nlet searchObj = { ...FORM_VALUES };\r\nObject.keys(searchObj).forEach(key =&gt; searchObj[key] == \"\" ? delete searchObj[key] : key);\r\n\r\nconst found = data.filter(d =&gt; Object.entries(searchObj).every(([k, v]) =&gt; d[k] == v));\r\nconsole.log(found);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 25, "user_id": 11376214, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-G-QFNsdxbjk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf0v_9k7em79vJAnTKLUyXy9C4Xlw/mo/photo.jpg?sz=128", "display_name": "yayfubo fubo", "link": "https://stackoverflow.com/users/11376214/yayfubo-fubo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "accepted_answer_id": 55736909, "answer_count": 2, "score": 1, "last_activity_date": 1555541260, "creation_date": 1555540474, "last_edit_date": 1555540954, "question_id": 55736849, "link": "https://stackoverflow.com/questions/55736849/filter-data-based-on-object-with-filter-values", "title": "Filter data based on Object with filter values", "body": "<p>I have in my app some filters. Whenever I click search, the data should be filtered based on the values of the search. I don't know if there's a better way to do what I'm trying to do in a cooler way or fancy way. The values of the search are being stored the following way:</p>\n\n<pre><code>FORM_VALUES =\n   {\n     title: '',\n     name: 'John',\n     Age: 56\n    }\n</code></pre>\n\n<p>If the value of the objects are empty <code>''</code> then I shouldn't considered them when i filter the array of objects.\nMy array of Objects looks like this:</p>\n\n<pre><code>[\n {\n   title:'CEO',\n   name: 'John',\n   Age: 56\n },\n {\n   title: null,\n   name: 'George',\n   Age: 56\n },\n]\n</code></pre>\n\n<p><strong>In this example, it should return the first element of the array.</strong></p>\n\n<p><strong>My code:</strong></p>\n\n<pre><code>data.filter(d =&gt; {\n     if ((d.title === FORM_VALUES.title || FORM_VALUES.title === '')\n        &amp;&amp; (d.name === FORM_VALUES.name || FORM_VALUES.name === '')\n        &amp;&amp; (d.age === FORM_VALUES.age || FORM_VALUES.age === '')) {\n           return d;\n      }\n });\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "answers": [{"tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": true, "score": 0, "last_activity_date": 1555542788, "creation_date": 1555542788, "answer_id": 55737165, "question_id": 55736835, "link": "https://stackoverflow.com/questions/55736835/trying-to-provide-webgl-with-a-random-color-when-the-user-clicks-on-a-falling-bl/55737165#55737165", "title": "Trying to provide webgl with a random color when the user clicks on a falling block", "body": "<p>Here's a dirty solution.\nYour falling block's color is determined by:</p>\n\n<pre><code>rainingRect.color = [Math.random(), Math.random(), Math.random()];\ngl.clearColor(rainingRect.color[0], rainingRect.color[1], rainingRect.color[2], 1.0);\n</code></pre>\n\n<p>Inside your   </p>\n\n<pre><code>if (!paused) {\n\n  }\n</code></pre>\n\n<p>code block - where you update the score and pause the game, you could simply add the above lines to change the color. The problem is, that your drawAnimation() function doesn't get called anymore so your canvas wouldn't be updated with the new color.\nFurthermore, if we simply call drawAnimation inside the if-block it would start firing every 17ms again because of the setTimeout timer inside.\nSo I recommend adding a paramter which controls if the timer should restart or not.</p>\n\n<pre><code>  function drawAnimation(repeat) {\n    gl.scissor(rainingRect.position[0], rainingRect.position[1],\n      rainingRect.size[0], rainingRect.size[1]);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    rainingRect.position[1] -= rainingRect.velocity;\n    if (rainingRect.position[1] &lt; 0) {\n      misses += 1;\n      missesDisplay.innerHTML = misses;\n      rainingRect = new Rectangle();\n    }\n    // We are using setTimeout for animation. So we reschedule\n    // the timeout to call drawAnimation again in 17ms.\n    // Otherwise we won't get any animation.\n    if (repeat) {\n      timer = setTimeout(drawAnimation, 17, true);\n    }\n  }\n</code></pre>\n\n<p>Now you can safely call <strong>drawAnimation(false);</strong> to update your canvas once. Just remember to make it true for all other calls to drawAnimation.\nSo after setting the color to a random new one and calling drawAnimation, you have to set a new color once more. This will be visible as soon as the game continues.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function() {\r\n  \"use strict\"\r\n  window.addEventListener(\"load\", setupAnimation, false);\r\n  var gl,\r\n    timer,\r\n    rainingRect,\r\n    scoreDisplay,\r\n    missesDisplay,\r\n    status,\r\n    paused = false;\r\n\r\n  function setupAnimation(evt) {\r\n    window.removeEventListener(evt.type, setupAnimation, false);\r\n    if (!(gl = getRenderingContext()))\r\n      return;\r\n    gl.enable(gl.SCISSOR_TEST);\r\n\r\n    rainingRect = new Rectangle();\r\n    timer = setTimeout(drawAnimation, 17, true);\r\n    document.querySelector(\"canvas\")\r\n      .addEventListener(\"click\", playerClick, false);\r\n    var displays = document.querySelectorAll(\"strong\");\r\n    scoreDisplay = displays[0];\r\n    missesDisplay = displays[1];\r\n    status = displays[2];\r\n  }\r\n\r\n  var score = 0,\r\n    misses = 0;\r\n\r\n  function drawAnimation(repeat) {\r\n    gl.scissor(rainingRect.position[0], rainingRect.position[1],\r\n      rainingRect.size[0], rainingRect.size[1]);\r\n    gl.clear(gl.COLOR_BUFFER_BIT);\r\n    rainingRect.position[1] -= rainingRect.velocity;\r\n    if (rainingRect.position[1] &lt; 0) {\r\n      misses += 1;\r\n      missesDisplay.innerHTML = misses;\r\n      rainingRect = new Rectangle();\r\n    }\r\n    // We are using setTimeout for animation. So we reschedule\r\n    // the timeout to call drawAnimation again in 17ms.\r\n    // Otherwise we won't get any animation.\r\n    if (repeat) {\r\n      timer = setTimeout(drawAnimation, 17, true);\r\n    }\r\n  }\r\n\r\n  function playerClick(evt) {\r\n    // We need to transform the position of the click event from\r\n    // window coordinates to relative position inside the canvas.\r\n    // In addition we need to remember that vertical position in\r\n    // WebGL increases from bottom to top, unlike in the browser\r\n    // window.\r\n    var position = [\r\n      evt.pageX - evt.target.offsetLeft,\r\n      gl.drawingBufferHeight - (evt.pageY - evt.target.offsetTop),\r\n    ];\r\n    // if the click falls inside the rectangle, we caught it.\r\n    // Increment score and create a new rectangle.\r\n    var diffPos = [position[0] - rainingRect.position[0],\r\n      position[1] - rainingRect.position[1]\r\n    ];\r\n    if (diffPos[0] &gt;= 0 &amp;&amp; diffPos[0] &lt; rainingRect.size[0] &amp;&amp;\r\n      diffPos[1] &gt;= 0 &amp;&amp; diffPos[1] &lt; rainingRect.size[1]) {\r\n      score += 1;\r\n      scoreDisplay.innerHTML = score;\r\n      // rainingRect = new Rectangle();\r\n      if (!paused) {\r\n        clearTimeout(timer)\r\n        paused = true;\r\n        rainingRect.color = [Math.random(), Math.random(), Math.random()];\r\n        gl.clearColor(rainingRect.color[0], rainingRect.color[1], rainingRect.color[2], 1.0);\r\n        drawAnimation(false);\r\n        rainingRect.color = [Math.random(), Math.random(), Math.random()];\r\n        gl.clearColor(rainingRect.color[0], rainingRect.color[1], rainingRect.color[2], 1.0);\r\n        status.innerHTML = 'Paused';\r\n      } else {\r\n\r\n        timer = setTimeout(drawAnimation, 17, true);\r\n        paused = false;\r\n        status.innerHTML = 'Playing';\r\n\r\n      }\r\n    }\r\n  }\r\n\r\n  function Rectangle() {\r\n    // Keeping a reference to the new Rectangle object, rather\r\n    // than using the confusing this keyword.\r\n    var rect = this;\r\n    // We get three random numbers and use them for new rectangle\r\n    // size and position. For each we use a different number,\r\n    // because we want horizontal size, vertical size and\r\n    // position to be determined independently.\r\n    var randNums = getRandomVector();\r\n    rect.size = [\r\n      5 + 120 * randNums[0],\r\n      5 + 120 * randNums[1]\r\n    ];\r\n    rect.position = [\r\n      randNums[2] * (gl.drawingBufferWidth - rect.size[0]),\r\n      gl.drawingBufferHeight\r\n    ];\r\n    rect.velocity = 1.0 + 6.0 * Math.random();\r\n    rect.color = getRandomVector();\r\n    gl.clearColor(rect.color[0], rect.color[1], rect.color[2], 1.0);\r\n\r\n    function getRandomVector() {\r\n      return [Math.random(), Math.random(), Math.random()];\r\n    }\r\n  }\r\n\r\n  function getRenderingContext() {\r\n    var canvas = document.querySelector(\"canvas\");\r\n    canvas.width = canvas.clientWidth;\r\n    canvas.height = canvas.clientHeight;\r\n    var gl = canvas.getContext(\"webgl\") ||\r\n      canvas.getContext(\"experimental-webgl\");\r\n    if (!gl) {\r\n      var paragraph = document.querySelector(\"p\");\r\n      paragraph.innerHTML = \"Failed to get WebGL context.\" +\r\n        \"Your browser or device may not support WebGL.\";\r\n      return null;\r\n    }\r\n    gl.viewport(0, 0,\r\n      gl.drawingBufferWidth, gl.drawingBufferHeight);\r\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\r\n    gl.clear(gl.COLOR_BUFFER_BIT);\r\n    return gl;\r\n\r\n    function checkKeyPressed(e) {\r\n\r\n    }\r\n\r\n    function checkclickPressed(e) {\r\n\r\n    }\r\n  }\r\n})();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>&lt;style&gt;body {\r\n  text-align: center;\r\n}\r\n\r\ncanvas {\r\n  display: block;\r\n  width: 280px;\r\n  height: 210px;\r\n  margin: auto;\r\n  padding: 0;\r\n  border: none;\r\n  background-color: black;\r\n}\r\n\r\nbutton {\r\n  display: block;\r\n  font-size: inherit;\r\n  margin: auto;\r\n  padding: 0.6em;\r\n}\r\n\r\n&lt;/style&gt;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p&gt;You caught\r\n  &lt;strong&gt;0&lt;/strong&gt;. You missed\r\n  &lt;strong&gt;0&lt;/strong&gt; Status\r\n  &lt;strong&gt;Playing&lt;/strong&gt;.&lt;/p&gt;\r\n&lt;canvas&gt;Your browser does not seem to support\r\n    HTML5 canvas.&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here's the full example - hit 'Run code snippet' to see it in action:</p>\n"}], "owner": {"reputation": 15, "user_id": 11361248, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-SfDfVjWdfv4/AAAAAAAAAAI/AAAAAAAAAHA/ZKe3D8iBqtk/photo.jpg?sz=128", "display_name": "njohn", "link": "https://stackoverflow.com/users/11361248/njohn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 375, "favorite_count": 0, "accepted_answer_id": 55737165, "answer_count": 1, "score": 0, "last_activity_date": 1555542788, "creation_date": 1555540427, "question_id": 55736835, "link": "https://stackoverflow.com/questions/55736835/trying-to-provide-webgl-with-a-random-color-when-the-user-clicks-on-a-falling-bl", "title": "Trying to provide webgl with a random color when the user clicks on a falling block", "body": "<p>When the user clicks on the falling block it pauses, and when clicked on again it unpauses. I am trying to figure out how to make it so that once you pause the block it changes to a random color and then when unpaused it will then change again to a another random color. I am not too familiar with WebGL. <a href=\"https://jsfiddle.net/305kecn9/4/\" rel=\"nofollow noreferrer\">Here is the source code.</a>\nWould I need to add a render function? \nand then add</p>\n\n<pre><code>function checkclickPressed(e) {\n\nif (e.keyCode == \"0\") {\n    color = [Math.random(), Math.random(), Math.random(), 1];\n    alert(\"left click pressed\");\n    requestAnimationFrame( render );\n}\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["javascript", "three.js", "3d"], "owner": {"reputation": 11, "user_id": 11376166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9864cb502d7a68ee5822e499a5538325?s=128&d=identicon&r=PG&f=1", "display_name": "user11376166", "link": "https://stackoverflow.com/users/11376166/user11376166"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555540506, "creation_date": 1555540188, "last_edit_date": 1555540506, "question_id": 55736804, "link": "https://stackoverflow.com/questions/55736804/force-camera-lookat-to-maintain-current-z-rotation", "title": "Force camera.lookAt to maintain current Z rotation", "body": "<p>So, I'm putting together a 3D project that will eventually make it's way onto a kiosk in the office of a client, basically shows all of their branches as points on a globe. One of the features requested is that end users be able to swipe on the screen to orbit around the globe, in addition, they should be able to rotate the camera on it's Z axis via a rotation gesture. The problem is I'm using camera.lookAt in the animation loop, which relies on the up vector being updated correctly whenever I rotate the camera in order to not \"snap\" back to place along the previous up vector when a user swipes, and for the life of me, I cannot get it to cooperate.</p>\n\n<p>Currently, what I'm doing to update the up vector (based off of another stackoverflow thread with a similar issue) is this:</p>\n\n<pre><code>//Current full 360 degree angle of rotation, calculated earlier\nlet radian = THREE.Math.degToRad(full);\n\n//Create new vector at radian angle to camera's current position\nlet v1 = new THREE.Vector3(_this.object.position.x + Math.cos(radian), _this.object.position.y + Math.sin(radian), _this.object.position.z).sub( _this.object.position ).normalize();\n\n//_this.target = 0,0,0\nlet v2 = _this.target.clone().sub( _this.object.position ).normalize();\n\n//Cross vectors to get the proper up\nlet v3 = new THREE.Vector3().crossVectors( v1, v2 ).normalize();\n\n_this.object.up.copy( v3 );\n</code></pre>\n\n<p>And this works... up to the point where the camera seemingly inverts once I head near the side of the globe opposite the camera's starting position (0,0,1.75) and then negates my rotations (as far as I can tell) which causes the same \"snap\" to a different rotation like before.</p>\n\n<p>Once I rotate the camera, I want it to maintain the rotation when using lookAt, regardless of the lookAt inverting everything.</p>\n"}, {"tags": ["javascript", "node.js", "algorithm"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555540343, "post_id": 55736795, "comment_id": 98151583, "body": "I don&#39;t think there&#39;s a built-in function that does this."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555540524, "post_id": 55736795, "comment_id": 98151617, "body": "I just checked lodash, it doesn&#39;t have a function like this, either."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1555540557, "post_id": 55736795, "comment_id": 98151631, "body": "FYI the reason it doesn&#39;t work is because the callback to <code>find()</code> is supposed to return a boolean value."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555540635, "post_id": 55736795, "comment_id": 98151648, "body": "Neither does underscore.js."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555540675, "post_id": 55736795, "comment_id": 98151662, "body": "Even if any of them did have a similar function, they would almost certainly just check the truthiness of the return value, not whether it&#39;s <code>=== undefined</code>."}, {"owner": {"reputation": 78, "user_id": 6581983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7442ebddd58f7b55406b7ac5cf66f911?s=128&d=identicon&r=PG", "display_name": "Hugo Nasciutti", "link": "https://stackoverflow.com/users/6581983/hugo-nasciutti"}, "edited": false, "score": 0, "creation_date": 1555550849, "post_id": 55736795, "comment_id": 98153570, "body": "The <code>for</code> loop will continue until the value returned by the function is different than undefined, that means I got an &#39;explicit&#39; return, we could also check truthiness and still return the value of the function just changing to <code>if (item) return item</code>."}, {"owner": {"reputation": 78, "user_id": 6581983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7442ebddd58f7b55406b7ac5cf66f911?s=128&d=identicon&r=PG", "display_name": "Hugo Nasciutti", "link": "https://stackoverflow.com/users/6581983/hugo-nasciutti"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1555550940, "post_id": 55736795, "comment_id": 98153586, "body": "@MarkMeyer yeah, I know."}], "answers": [{"comments": [{"owner": {"reputation": 78, "user_id": 6581983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7442ebddd58f7b55406b7ac5cf66f911?s=128&d=identicon&r=PG", "display_name": "Hugo Nasciutti", "link": "https://stackoverflow.com/users/6581983/hugo-nasciutti"}, "edited": false, "score": 0, "creation_date": 1555551431, "post_id": 55737248, "comment_id": 98153654, "body": "Hey, thanks for the answer, there is a condition I forgot to state in my question, I will add it now, the condition is that I want to avoid keep looping in the array when I find the matched value because it&#39;s just waste of performance and does not make sense. The solution is complex, not exactly what I am looking for."}, {"owner": {"reputation": 74735, "user_id": 82586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HfVKA.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/82586/james"}, "reply_to_user": {"reputation": 78, "user_id": 6581983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7442ebddd58f7b55406b7ac5cf66f911?s=128&d=identicon&r=PG", "display_name": "Hugo Nasciutti", "link": "https://stackoverflow.com/users/6581983/hugo-nasciutti"}, "edited": false, "score": 0, "creation_date": 1555571170, "post_id": 55737248, "comment_id": 98158656, "body": "@HugoNasciutti this will stop looping when you find the correct answer (hence the <code>arr.splice(1)</code> line). On the performance point, do you have any benchmarks you can back that up with? How large are the arrays? Just be wary you aren&#39;t micro optimising.... regardless, you asked if there was a way natively to do this, so I figured I&#39;d at least give you an option."}], "tags": [], "owner": {"reputation": 74735, "user_id": 82586, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/HfVKA.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/82586/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1555543649, "last_edit_date": 1555543649, "creation_date": 1555543346, "answer_id": 55737248, "question_id": 55736795, "link": "https://stackoverflow.com/questions/55736795/is-there-a-find-function-in-javascript-that-returns-what-your-function-returns-a/55737248#55737248", "title": "Is there a find function in JavaScript that returns what your function returns and not the whole item when the value is truthy", "body": "<p>Probably horrible, but you could make use of a backdoor in the <code>reduce</code> function that would allow you to exit early on a match</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let groups = [\r\n  { items: [{ id: 1 }, { id: 2 }] },\r\n  { items: [{ id: 3 }, { id: 4 }] },\r\n];\r\nconst item = groups.slice(0).reduce((val, g, i, arr) =&gt; {\r\n for (const item of g.items) {\r\n   if (item.id === 4) {\r\n     val = item;\r\n     arr.splice(1); // exit\r\n   }\r\n }\r\n return val;\r\n}, null);\r\nitem &amp;&amp; console.log(item);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><em>Note - use of <code>slice</code> is to ensure the original array is not mutated</em></p>\n"}], "owner": {"reputation": 78, "user_id": 6581983, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7442ebddd58f7b55406b7ac5cf66f911?s=128&d=identicon&r=PG", "display_name": "Hugo Nasciutti", "link": "https://stackoverflow.com/users/6581983/hugo-nasciutti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 75, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555553204, "creation_date": 1555540124, "last_edit_date": 1555553204, "question_id": 55736795, "link": "https://stackoverflow.com/questions/55736795/is-there-a-find-function-in-javascript-that-returns-what-your-function-returns-a", "title": "Is there a find function in JavaScript that returns what your function returns and not the whole item when the value is truthy", "body": "<p>I want to return only the matched item, I solved this problem creating my own high order function, I want to solve this in a completely functional way.</p>\n\n<p>Is there any similar javascript function that does what my function is doing? See the examples below, I wrote some Jest based examples to facilitate what I am expecting.</p>\n\n<p>The function will try to <code>find</code> the value until is different than undefined. If this kind of function does not exist what you guys think of trying implementing it on JavaScript, maybe making a tc39 proposal? Anyone had the same problem as me before?</p>\n\n<p>I know how the <code>Array.prototype.find</code> works and why it does not work when chained to get deep elements.</p>\n\n<p>There are some conditions that I would like to meet:</p>\n\n<ol>\n<li>Return what my function returns and not the whole item if it's truthy.</li>\n<li>For performance reasons, when the value is found there is no need to keep looping in the array, in the example below I used the condition anything different from <code>undefined</code> to exit the <code>for</code> loop.</li>\n<li>Follow the standard of the others high order functions such as <code>find</code>, <code>map</code>, <code>filter</code> and <code>reduce</code> like this: <code>fn(collection[i], index, collection)</code>.</li>\n</ol>\n\n<pre><code>const findItem = (collection, fn) =&gt; {\n  for (let i = 0; i &lt; collection.length; i++) {\n    const item = fn(collection[i], i, collection)\n    if (item !== undefined) return item\n  }\n\n  return undefined\n}\n</code></pre>\n\n<pre><code>let groups = [\n  { items: [{ id: 1 }, { id: 2 }] },\n  { items: [{ id: 3 }, { id: 4 }] },\n]\n</code></pre>\n\n<pre><code>var result = findItem(groups, group =&gt;\n  findItem(group.items, item =&gt; item.id === 4 ? item : undefined))\n// works!\nexpect(result).toEqual(groups[1].items[1]) \n</code></pre>\n\n<pre><code>// Array.prototype.find\nvar result2 = groups.find(group =&gt;\n  group.items.find(item =&gt; item.id === 4 ? item : undefined))\n// returns groups[1], don't work! And I know why it does not work.\nexpect(result2).toEqual(groups[1].items[1]) \n\n</code></pre>\n"}, {"tags": ["javascript", "html", "html5-canvas"], "comments": [{"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1555540157, "post_id": 55736774, "comment_id": 98151546, "body": "DOM elements do not go inside a canvas tag. Canvas is for drawing, not for displaying DOM elements. You&#39;ll need to create a progress bar made for Canvas."}, {"owner": {"reputation": 1, "user_id": 10681720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89050078aef04e5ca1ed730f4788e71?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub", "link": "https://stackoverflow.com/users/10681720/jakub"}, "reply_to_user": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 1, "creation_date": 1555540728, "post_id": 55736774, "comment_id": 98151675, "body": "Thanks for explaining."}], "answers": [{"comments": [{"owner": {"reputation": 481, "user_id": 6713871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6d0cf46b08a63241386786e74ae4b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Rollins", "link": "https://stackoverflow.com/users/6713871/chris-rollins"}, "edited": false, "score": 0, "creation_date": 1555657028, "post_id": 55756821, "comment_id": 98191133, "body": "i was gonna suggest this. it&#39;s super easy and probably won&#39;t cause any issues."}], "tags": [], "owner": {"reputation": 55, "user_id": 9105814, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aEYw.png?s=128&g=1", "display_name": "Juri Kiin", "link": "https://stackoverflow.com/users/9105814/juri-kiin"}, "is_accepted": false, "score": 1, "last_activity_date": 1557251708, "last_edit_date": 1557251708, "creation_date": 1555649915, "answer_id": 55756821, "question_id": 55736774, "link": "https://stackoverflow.com/questions/55736774/is-there-a-way-to-display-html-element-progress-on-a-html5-canvas/55756821#55756821", "title": "Is there a way to display html element &quot;progress&quot; on a html5 canvas?", "body": "<p>You could also keep a DOM element and use CSS to position it on top of the canvas.</p>\n\n<p>It wouldn't exactly be a part of the canvas, but 'position: absolute;' plus setting top and left styles could move that on top of the canvas.</p>\n\n<p>EDIT: Fixed a typo</p>\n"}], "owner": {"reputation": 1, "user_id": 10681720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e89050078aef04e5ca1ed730f4788e71?s=128&d=identicon&r=PG&f=1", "display_name": "Jakub", "link": "https://stackoverflow.com/users/10681720/jakub"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1557251708, "creation_date": 1555540007, "last_edit_date": 1555656898, "question_id": 55736774, "link": "https://stackoverflow.com/questions/55736774/is-there-a-way-to-display-html-element-progress-on-a-html5-canvas", "title": "Is there a way to display html element &quot;progress&quot; on a html5 canvas?", "body": "<p>I have a <code>canvas</code> in <code>HTML5</code> and a progress element</p>\n\n<pre><code>&lt;canvas id=\"canvas\" height=\"500\" width=\"900\"&gt;Canvas&lt;/canvas&gt;\n&lt;progress id=\"health\" value=\"100\" max=\"100\" hidden=\"true\"&gt;&lt;/progress&gt;\n</code></pre>\n\n<p>I was wondering if it is possible to draw or display the progress element onto the canvas using <code>JavaScript</code> or some other method.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1555539894, "post_id": 55736749, "comment_id": 98151476, "body": "Use contextual lookups.  Your first snippet is doing a global selector on fruits, regardless of the one that was just clicked.  Use <code>this</code> insted."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1555540062, "post_id": 55736749, "comment_id": 98151518, "body": "Why do you need JQuery for such a simple thing?"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 2, "creation_date": 1555540100, "post_id": 55736749, "comment_id": 98151529, "body": "<code>$(this).hide()</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1079, "user_id": 8606992, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-rNyz3YV6Mlc/AAAAAAAAAAI/AAAAAAAAABw/-znmvkqZgOU/photo.jpg?sz=128", "display_name": "Toxnyc", "link": "https://stackoverflow.com/users/8606992/toxnyc"}, "is_accepted": true, "score": 2, "last_activity_date": 1555541021, "creation_date": 1555541021, "answer_id": 55736924, "question_id": 55736749, "link": "https://stackoverflow.com/questions/55736749/how-do-i-make-multiple-images-disappear-on-being-clicked-using-jquery/55736924#55736924", "title": "How do I make multiple images disappear on being clicked using jQuery?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".fruits\").click(function() {\r\n  $(this).hide();\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.fruits {\r\n  display: inline-block;\r\n  border: 1px solid #000;\r\n  padding: 15px;\r\n  cursor: pointer;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;header&gt;\r\n  &lt;div class=\"fruits\"&gt;Apple&lt;/div&gt;\r\n  &lt;div class=\"fruits\"&gt;Orange&lt;/div&gt;\r\n  &lt;div class=\"fruits\"&gt;Banana&lt;/div&gt;\r\n&lt;/header&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 763, "user_id": 6134824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93f291427cbbb232f166a6fa42bc5d5d?s=128&d=identicon&r=PG", "display_name": "Andu Andrici", "link": "https://stackoverflow.com/users/6134824/andu-andrici"}, "is_accepted": false, "score": 0, "last_activity_date": 1555544879, "creation_date": 1555544879, "answer_id": 55737387, "question_id": 55736749, "link": "https://stackoverflow.com/questions/55736749/how-do-i-make-multiple-images-disappear-on-being-clicked-using-jquery/55737387#55737387", "title": "How do I make multiple images disappear on being clicked using jQuery?", "body": "<p>Also with vanilla javascript (a bit more verbose, but a nice chance to learn a bit):</p>\n\n<pre><code>var targets = Array.from(document.getElementsByClassName('fruits'));\ntargets.map(function(target) { \n    target.addEventListener('click', function(e){ e.target.style.display = \"none\" })\n};\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10863381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c32f4a1eac6ec0393f5d58e96bc06d80?s=128&d=identicon&r=PG&f=1", "display_name": "Austin", "link": "https://stackoverflow.com/users/10863381/austin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 0, "accepted_answer_id": 55736924, "answer_count": 2, "score": -2, "last_activity_date": 1555568700, "creation_date": 1555539845, "last_edit_date": 1555568700, "question_id": 55736749, "link": "https://stackoverflow.com/questions/55736749/how-do-i-make-multiple-images-disappear-on-being-clicked-using-jquery", "title": "How do I make multiple images disappear on being clicked using jQuery?", "body": "<p>I have 4 images in the header of a basic HTML document. All of them have class = \"fruits\". I want each image to disappear individually when I click on it, but I can't quite get the code right.</p>\n\n<p>I've been able to get all of the images to disappear at once: </p>\n\n<pre><code>$(\".fruits\").click(function() {\n     $(\".fruits\").hide();\n});\n</code></pre>\n\n<p>I can also make an individual image disappear using just the image's id:</p>\n\n<pre><code>$(\"#apple\").click(function() {\n     $(\"#apple\").hide();\n});\n</code></pre>\n\n<p>I've seen solutions like this suggested:</p>\n\n<pre><code>$(\".fruits\").click(function(imgId) {\n\u3000\u3000\u3000\u3000\u3000$(\"#\" + imgId).hide();\n});\n</code></pre>\n\n<p>But that doesn't work. Am I on the right track here? How do I get the image id to pull into the function to hide the image?</p>\n"}, {"tags": ["javascript", "jquery", "html", "css", "scrollmagic"], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 11376173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d51199c1d11a9dd1c59cb9d0e844b81?s=128&d=identicon&r=PG&f=1", "display_name": "RianneJ", "link": "https://stackoverflow.com/users/11376173/riannej"}, "edited": false, "score": 0, "creation_date": 1555575117, "post_id": 55738076, "comment_id": 98160474, "body": "I&#39;ve edited my HTML above to show the about-title section. I&#39;ve edited my JS to how you&#39;ve said but to no avail. Do you think i&#39;ll need to add a jquery cdn?"}, {"owner": {"reputation": 73, "user_id": 11376173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d51199c1d11a9dd1c59cb9d0e844b81?s=128&d=identicon&r=PG&f=1", "display_name": "RianneJ", "link": "https://stackoverflow.com/users/11376173/riannej"}, "edited": false, "score": 0, "creation_date": 1555578706, "post_id": 55738076, "comment_id": 98162459, "body": "I&#39;ve got it to work, I had a look at the console whilst running the page and saw that the file app.js was not being found. Added ../js/app.js (as this is the folder it is kept in) and the parallax now works. Thanks for your help Clay, as i done this before but i still had errors in my JS code, now that i&#39;ve edited it, it works."}], "tags": [], "owner": {"reputation": 144, "user_id": 1678928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/745d995e12fe0951926552a833913734?s=128&d=identicon&r=PG", "display_name": "Clay Hess", "link": "https://stackoverflow.com/users/1678928/clay-hess"}, "is_accepted": true, "score": 1, "last_activity_date": 1555552146, "creation_date": 1555552146, "answer_id": 55738076, "question_id": 55736746, "link": "https://stackoverflow.com/questions/55736746/my-js-file-wont-link-to-my-html-unable-to-get-scrollmagic-to-work/55738076#55738076", "title": "My .js file won&#39;t link to my HTML, unable to get scrollmagic to work", "body": "<p>I see some errors in your JS code. Object properties should have a trailing comma. You are missing one. You also should not have a semi-colon after the last one.</p>\n\n<pre><code>new ScrollMagic.Scene({\nduration: '200%',\ntriggerElement: '.about-title',\ntriggerHook: 0 \n})\n</code></pre>\n\n<p>Another issue is you have unnecessary semicolons that is causing chaining issues...</p>\n\n<pre><code>.setPin('.about-title')\n.addIndicators()\n.addTo(controller); // This one may need to be removed also\n</code></pre>\n\n<p>Lastly, I see that the trigger is attached to a class (.about-title). I do not see that class in your html.</p>\n"}], "owner": {"reputation": 73, "user_id": 11376173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d51199c1d11a9dd1c59cb9d0e844b81?s=128&d=identicon&r=PG&f=1", "display_name": "RianneJ", "link": "https://stackoverflow.com/users/11376173/riannej"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 114, "favorite_count": 0, "accepted_answer_id": 55738076, "answer_count": 1, "score": -1, "last_activity_date": 1555575008, "creation_date": 1555539837, "last_edit_date": 1555575008, "question_id": 55736746, "link": "https://stackoverflow.com/questions/55736746/my-js-file-wont-link-to-my-html-unable-to-get-scrollmagic-to-work", "title": "My .js file won&#39;t link to my HTML, unable to get scrollmagic to work", "body": "<p>I am trying to use ScrollMagic on my webpage. I've entered the code in a .js file, and have linked both this file and a ScrollMagic cdn to my html, but it hasn't made a difference to my page.</p>\n\n<p>I've tried adding ../ to the file link and adding different scripts</p>\n\n<p>This is the HTML:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n\n&lt;head&gt;\n&lt;meta charset=\"UTF-8\"&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n&lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\n&lt;link href=\"https://fonts.googleapis.com/css?family=Sarabun\" \nrel=\"stylesheet\"&gt;\n&lt;link rel=\"stylesheet\" href=\"css/styles2.css\"&gt;\n&lt;title&gt;Example&lt;/title&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n&lt;header&gt;\n&lt;h1&gt;Header section&lt;/h1&gt;\n&lt;/header&gt;\n&lt;section class=\"about\"&gt;\n&lt;div class=\"about-title\"&gt;\n  &lt;h2&gt;About Us&lt;/h2&gt;\n&lt;/div&gt;\n&lt;div class=\"about-pages\"&gt;\n  &lt;div&gt;\n    &lt;h2&gt;Project 1&lt;/h2&gt;\n    &lt;p&gt;Lorem ipsum dolor sit amet, &lt;/p&gt;\n  &lt;/div&gt;\n  &lt;div&gt;\n    &lt;h2&gt;Project 1&lt;/h2&gt;\n    &lt;p&gt;Lorem ipsum dolor sit amet, &lt;/p&gt;\n  &lt;/div&gt;\n  &lt;div&gt;\n    &lt;h2&gt;Project 1&lt;/h2&gt;\n    &lt;p&gt;Lorem ipsum dolor sit amet&lt;/p&gt;\n  &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;/section&gt;\n\n\n&lt;footer&gt;\n&lt;h2&gt; This is the footer &lt;/h2&gt;\n&lt;/footer&gt;\n\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/ScrollMagic.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/plugins/debug.addIndicators.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"app.js\"&gt;&lt;/script&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p>This is the app.js code:</p>\n\n<pre><code>function splitScroll(){\nconst controller = new ScrollMagic.Controller();\nnew ScrollMagic.Scene({\nduration: '200%',\ntriggerElement: '.about-title'\ntriggerHook: 0; \n})\n\n.setPin('.about-title');\n.addIndicators();\n.addTo(controller);\n }\n\nsplitScroll();\n</code></pre>\n\n<p>I expected the left side of my page to stay stationary whilst the right scrolls, but it's all scrolling at once.</p>\n"}, {"tags": ["javascript", "discord"], "comments": [{"owner": {"reputation": 9382, "user_id": 1168661, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AU4We.jpg?s=128&g=1", "display_name": "aug", "link": "https://stackoverflow.com/users/1168661/aug"}, "edited": false, "score": 1, "creation_date": 1555540054, "post_id": 55736733, "comment_id": 98151517, "body": "do you have a link to the Discord API by chance? also is there a reason you need to make the function <code>async</code> if you are not using <code>await</code>? You also are missing a <code>.</code> before the <code>then()</code> so I&#39;m not sure how this is working. Any console errors?"}, {"owner": {"reputation": 1, "user_id": 11376194, "user_type": "registered", "profile_image": "https://graph.facebook.com/417612105682651/picture?type=large", "display_name": "Vali", "link": "https://stackoverflow.com/users/11376194/vali"}, "reply_to_user": {"reputation": 9382, "user_id": 1168661, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AU4We.jpg?s=128&g=1", "display_name": "aug", "link": "https://stackoverflow.com/users/1168661/aug"}, "edited": false, "score": 0, "creation_date": 1555547588, "post_id": 55736733, "comment_id": 98153026, "body": "No Error Showing"}, {"owner": {"reputation": 6118, "user_id": 106769, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qsZek.png?s=128&g=1", "display_name": "Conspicuous Compiler", "link": "https://stackoverflow.com/users/106769/conspicuous-compiler"}, "reply_to_user": {"reputation": 9382, "user_id": 1168661, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AU4We.jpg?s=128&g=1", "display_name": "aug", "link": "https://stackoverflow.com/users/1168661/aug"}, "edited": false, "score": 0, "creation_date": 1555549150, "post_id": 55736733, "comment_id": 98153324, "body": "@aug If you click on the [discord] tag and then click &quot;Learn more...&quot; you&#39;ll find <a href=\"https://discordapp.com/developers/docs/intro\" rel=\"nofollow noreferrer\">a link to the Discord API</a>.  This works for most tags."}, {"owner": {"reputation": 6118, "user_id": 106769, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qsZek.png?s=128&g=1", "display_name": "Conspicuous Compiler", "link": "https://stackoverflow.com/users/106769/conspicuous-compiler"}, "reply_to_user": {"reputation": 9382, "user_id": 1168661, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/AU4We.jpg?s=128&g=1", "display_name": "aug", "link": "https://stackoverflow.com/users/1168661/aug"}, "edited": false, "score": 1, "creation_date": 1555550240, "post_id": 55736733, "comment_id": 98153466, "body": "@aug Oh, but that&#39;s the wrong link in this case.  You&#39;ll want the <a href=\"https://discord.js.org/#/docs/main/stable/general/welcome\" rel=\"nofollow noreferrer\">Discord.JS documentation, not the Discord API</a>"}], "answers": [{"tags": [], "owner": {"reputation": 6118, "user_id": 106769, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/qsZek.png?s=128&g=1", "display_name": "Conspicuous Compiler", "link": "https://stackoverflow.com/users/106769/conspicuous-compiler"}, "is_accepted": false, "score": 0, "last_activity_date": 1555550812, "last_edit_date": 1555550812, "creation_date": 1555550061, "answer_id": 55737885, "question_id": 55736733, "link": "https://stackoverflow.com/questions/55736733/discord-bot-automatic-bulkdelete-issue/55737885#55737885", "title": "Discord Bot Automatic Bulkdelete Issue", "body": "<p>You're attempting to access the <code>Trash</code> variable, but it doesn't contain what you think it does.  <code>Trash</code> is being assigned <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/then\" rel=\"nofollow noreferrer\">the Promise that represents the end result of the function chain</a>.</p>\n\n<p>You should take the result being passed into <code>then()</code> and use that as a parameter to your <code>bulkDelete()</code> call.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Client.on(\"message\", async function(message) {\n    if(message.channel.id != \"506258018032418817\") return;\n    setInterval (function () {\n        message.channel.fetchMessages({ limit: 100 }).then(\n           function(deleteThese) { message.channel.bulkDelete(deleteThese); })\n      }, 900000); \n});\n</code></pre>\n\n<p>Keep in mind, the logic for this function is not sound.  The pseudo-code goes like this:</p>\n\n<pre>\n- whenever a message is sent to this specific channel\n  - queue up a timer to happen in 15 minutes\n- after 15 minutes, delete 100 messages from the channel\n</pre>\n\n<p>Consider what happens if this happens</p>\n\n<pre><code>1:00 Paul talks in channel\n--- (timer 1 is started)\n1:01 Elizabeth responds\n--- (timer 2 is started)\n... &lt; time passes &gt; ...\n1:14 Charles says something in the channel\n... &lt; timer 1 triggers; room is wiped &gt; ...\n1:15 Diane says something in response to Charles' deleted message\n... &lt; timer 2 triggers; room is wiped &gt; ...\n1:16 Charles asks Diane to repeat what she just said\n</code></pre>\n\n<p>You might want to change your approach to pass a time in your <code>fetchMessages()</code> call so it only deletes messages that are 15 minutes old or older.</p>\n"}], "owner": {"reputation": 1, "user_id": 11376194, "user_type": "registered", "profile_image": "https://graph.facebook.com/417612105682651/picture?type=large", "display_name": "Vali", "link": "https://stackoverflow.com/users/11376194/vali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555550812, "creation_date": 1555539699, "last_edit_date": 1555547570, "question_id": 55736733, "link": "https://stackoverflow.com/questions/55736733/discord-bot-automatic-bulkdelete-issue", "title": "Discord Bot Automatic Bulkdelete Issue", "body": "<p>I am setting up a Discord bot that will delete all messages in a specific text channel in an Interval of 15 minutes but the messages won't delete.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>Client.on(\"message\", async function(message) {\n    if(message.channel.id != \"506258018032418817\") return;\n    setInterval (function () {\n        var Trash = message.channel.fetchMessages({ limit: 100 }).then(\n        message.channel.bulkDelete(Trash));\n      }, 900000); \n});\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 594, "user_id": 10842583, "user_type": "registered", "profile_image": "https://graph.facebook.com/2085280788451479/picture?type=large", "display_name": "Mateus Gon&#231;alves", "link": "https://stackoverflow.com/users/10842583/mateus-gon%c3%a7alves"}, "edited": false, "score": 1, "creation_date": 1555539788, "post_id": 55736716, "comment_id": 98151449, "body": "how are the excluded companies identified?"}, {"owner": {"reputation": 1, "user_id": 5266091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8996739cc1ed686a3bb6f89f72c321?s=128&d=identicon&r=PG&f=1", "display_name": "GTA0814", "link": "https://stackoverflow.com/users/5266091/gta0814"}, "reply_to_user": {"reputation": 594, "user_id": 10842583, "user_type": "registered", "profile_image": "https://graph.facebook.com/2085280788451479/picture?type=large", "display_name": "Mateus Gon&#231;alves", "link": "https://stackoverflow.com/users/10842583/mateus-gon%c3%a7alves"}, "edited": false, "score": 0, "creation_date": 1555540075, "post_id": 55736716, "comment_id": 98151519, "body": "in database, there is an is_del column...      model.SelectAllClientDetails =      model.FilterAccountsDetails[0].Company.OrderBy(x =&gt;      x.CLIENTNAME).ToList();.........return Json(model.SelectAllClientDetails, JsonRequestBehavior.AllowGet);"}, {"owner": {"reputation": 1161, "user_id": 2056117, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/93f3bba48b2683a41e9a2625934e6148?s=128&d=identicon&r=PG", "display_name": "Dan", "link": "https://stackoverflow.com/users/2056117/dan"}, "edited": false, "score": 1, "creation_date": 1555541985, "post_id": 55736716, "comment_id": 98152002, "body": "Does this help? <a href=\"https://stackoverflow.com/questions/1271503/hide-options-in-a-select-list-using-jquery\" title=\"hide options in a select list using jquery\">stackoverflow.com/questions/1271503/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 594, "user_id": 10842583, "user_type": "registered", "profile_image": "https://graph.facebook.com/2085280788451479/picture?type=large", "display_name": "Mateus Gon&#231;alves", "link": "https://stackoverflow.com/users/10842583/mateus-gon%c3%a7alves"}, "is_accepted": false, "score": 0, "last_activity_date": 1555540543, "creation_date": 1555540543, "answer_id": 55736862, "question_id": 55736716, "link": "https://stackoverflow.com/questions/55736716/how-do-i-hide-dropdown-list-items-that-contains-some-letters-and-able-to-displa/55736862#55736862", "title": "How do I hide Dropdown list items that contains some letters, and able to display them after a button is pressed", "body": "<p>I do not know how your default data is in your <code>is_del</code> column, but try and replace it in the condition if necessary. </p>\n\n<pre><code>  $.each(data, function (key, value) {\n      if(key.is_del != ''){ //change here if necessary, I do not know how it is\n        $('#drCompany').append($(\"&lt;option&gt;&lt;/option&gt;\").val(value.CLIENTID).html(value.CLIENTNAME + ' (Deleted)'));             \n      }else{\n        $('#drCompany').append($(\"&lt;option&gt;&lt;/option&gt;\").val(value.CLIENTID).html(value.CLIENTNAME));\n      }\n  });  \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5266091, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fe8996739cc1ed686a3bb6f89f72c321?s=128&d=identicon&r=PG&f=1", "display_name": "GTA0814", "link": "https://stackoverflow.com/users/5266091/gta0814"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1555540543, "creation_date": 1555539563, "last_edit_date": 1555539646, "question_id": 55736716, "link": "https://stackoverflow.com/questions/55736716/how-do-i-hide-dropdown-list-items-that-contains-some-letters-and-able-to-displa", "title": "How do I hide Dropdown list items that contains some letters, and able to display them after a button is pressed", "body": "<p>I have companies in the dropdown list that are active and deleted(deleted companies will show \"(deleted)\"), I want to have a checkbox to show/hide the deleted ones (client side).</p>\n\n<pre><code>$('#drAdvisor').change(function () { //select broker to get client\n    var lic_id = $(this).val();\n    getClientByBroker(lic_id)\n\nfunction getClientByBroker(lic_id) {\n    try {\n        $.ajax({\n            url: '../Admin/GetClientByBroker',\n            type: \"POST\",\n            contentType: 'application/json;',\n            dataType: \"json\",\n            data: JSON.stringify({ \"Lic_ID\": lic_id }),\n            success: function (data) {\n                $.each(data, function (key, value) {\n                    $('#drCompany').append($(\"&lt;option&gt; \n&lt;/option&gt;\").val(value.CLIENTID).html(value.CLIENTNAME));\n                });\n                },\n            });\n        } catch (e) {console.log(e); }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/vZ8Qb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vZ8Qb.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "html", "vue.js", "autocomplete", "v-autocomplete"], "comments": [{"owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "edited": false, "score": 0, "creation_date": 1555540121, "post_id": 55736677, "comment_id": 98151535, "body": "please provide the link of official docs"}], "answers": [{"tags": [], "owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "is_accepted": false, "score": 0, "last_activity_date": 1555545965, "creation_date": 1555545965, "answer_id": 55737491, "question_id": 55736677, "link": "https://stackoverflow.com/questions/55736677/vue-v-autocomplete-not-removing-user-typed-text-when-selecting-drop-down-item/55737491#55737491", "title": "Vue v-autocomplete not removing user typed text when selecting drop down item", "body": "<p>after looking at the documentation, this is the expected behavior.</p>\n"}], "owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555545965, "creation_date": 1555539316, "last_edit_date": 1555545337, "question_id": 55736677, "link": "https://stackoverflow.com/questions/55736677/vue-v-autocomplete-not-removing-user-typed-text-when-selecting-drop-down-item", "title": "Vue v-autocomplete not removing user typed text when selecting drop down item", "body": "<p>I have this <a href=\"https://vuetifyjs.com/en/components/autocompletes#examples\" rel=\"nofollow noreferrer\">vue v-autocomplete</a> below. </p>\n\n<p>Trying to determine if this is the expected behavior? Can't find any other examples of this working.</p>\n\n<p>When the user starts to enter in text the autocomplete drops down showing all the drop down items, the user selects a item from the list, but it doesn't remove the partial text the user has entered in as it does from the examples on the doc page.</p>\n\n<p>Additionally, once the user has selected the item from the drop down, if the user clicks on the screen somewhere away from the drop down. It will close the drop down (expected) but now it removes the typed text from the field</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;v-autocomplete \r\nv-model=\"defendantCode\" \r\nlabel=\"Defendant Code\" \r\n:items=\"defendantCodeOptions\"\r\n:loading=\"defendantCodeIsLoading\" \r\n:filter=\"customFilter\" \r\n:multiple=\"true\" \r\nclearable \r\ndense&gt;\r\n&lt;/v-autocomplete&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is what I see. The user starts to type A</p>\n\n<p><a href=\"https://i.stack.imgur.com/KIuKC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KIuKC.png\" alt=\"enter image description here\"></a></p>\n\n<p>then the user clicks on 'A&amp;B' and 'A&amp;B' is populated into the field but the initial a isn't removed!</p>\n\n<p><a href=\"https://i.stack.imgur.com/2G0N0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2G0N0.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "reactjs", "svg", "animated-gif"], "owner": {"reputation": 99, "user_id": 9220072, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/069a4431a207059c959d0c322039b532?s=128&d=identicon&r=PG&f=1", "display_name": "After_8", "link": "https://stackoverflow.com/users/9220072/after-8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 400, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555539123, "creation_date": 1555539123, "question_id": 55736651, "link": "https://stackoverflow.com/questions/55736651/display-simple-3d-objects-with-react-and-rotate-them-resource-efficent", "title": "Display simple 3D Objects with React and rotate them resource efficent", "body": "<p>For a Project i need to display simple 3D Objects in an React Application. Objects like Cubes, Pyramids, Spheres and so on. They can have different colors.\nWhen a user taps one of the object it starts rotating.</p>\n\n<p><a href=\"https://i.stack.imgur.com/fEPWc.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fEPWc.gif\" alt=\"Example GIF (Without Transparency)\"></a></p>\n\n<p>I have a hard time getting started because i don\u00b4t know whats an efficent way to accomplish that.</p>\n\n<p>My first idea was to use animated-GIFs with transparent background. So i went to blender3D and rendered a short animation of a cube with transparent background. Looks good so far. But creating an GIF with transparency out of the PNGs is a problem and i think it would also be very inefficent. For every possible Color and Resolution i would need a separate GIF.</p>\n\n<p>Can you help me to get started with that? Is it possible to use SVGs or are there any libaries?</p>\n"}, {"tags": ["javascript", "node.js", "amazon-s3", "microsoft-graph-api", "digital-ocean"], "comments": [{"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "edited": false, "score": 0, "creation_date": 1555539628, "post_id": 55736637, "comment_id": 98151417, "body": "might want to check that isBase64Encoded is false since you&#39;re not encoding the image, as far as I can tell here."}], "answers": [{"comments": [{"owner": {"reputation": 5594, "user_id": 7496355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-UcS8pK3yn2c/AAAAAAAAAAI/AAAAAAAAADo/JiOZ0ApfB4c/photo.jpg?sz=128", "display_name": "canaan seaton", "link": "https://stackoverflow.com/users/7496355/canaan-seaton"}, "edited": false, "score": 0, "creation_date": 1555557073, "post_id": 55736710, "comment_id": 98154652, "body": "Awesome, this fixed it. Thanks for the help! :)"}], "tags": [], "owner": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "is_accepted": true, "score": 1, "last_activity_date": 1555540088, "last_edit_date": 1555540088, "creation_date": 1555539523, "answer_id": 55736710, "question_id": 55736637, "link": "https://stackoverflow.com/questions/55736637/how-to-save-binary-image-from-json-response-to-s3-bucket/55736710#55736710", "title": "How to save binary image from json response to S3 bucket", "body": "<p>Where do you indicate the Content-Type of data you're requesting via your <code>axios</code> call? </p>\n\n<p>The default appears to be <code>application/json</code> rather than <code>binary/octet-stream</code> so your image data will undergo unwanted transformation. ;)</p>\n\n<p>Adding <code>responseType: 'stream'</code> to your axios request should fix your issue.</p>\n"}], "owner": {"reputation": 5594, "user_id": 7496355, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-UcS8pK3yn2c/AAAAAAAAAAI/AAAAAAAAADo/JiOZ0ApfB4c/photo.jpg?sz=128", "display_name": "canaan seaton", "link": "https://stackoverflow.com/users/7496355/canaan-seaton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 414, "favorite_count": 0, "accepted_answer_id": 55736710, "answer_count": 1, "score": 0, "last_activity_date": 1555540088, "creation_date": 1555539035, "question_id": 55736637, "link": "https://stackoverflow.com/questions/55736637/how-to-save-binary-image-from-json-response-to-s3-bucket", "title": "How to save binary image from json response to S3 bucket", "body": "<p>I am trying to save a jpeg that I get back from <a href=\"https://docs.microsoft.com/en-us/graph/api/profilephoto-get?view=graph-rest-1.0\" rel=\"nofollow noreferrer\">Microsoft's Graph API</a> to an S3 bucket (Digital Ocean Space actually but they work the same).  I am able to get the image binary from the graph api.  And can upload it successfully.  But the image is gibberish at the endpoint.  Here is the code I am using for reference.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Prep to fetch user photo from microsoft office 365\n//     using recently aquired access token\nconst photoEndpoint = `${MS_GRAPH_URL}/v1.0/me/photo/$value`;\nconst config = { headers: { Authorization: `Bearer ${access_token}` } };\n\n// Fetch user photo from microsoft office 365\nconst { data: photo } = await axios.get(photoEndpoint, {\n    headers: { Authorization: `Bearer ${access_token}` }\n});\n\nawait storeImage(photo, id);\n</code></pre>\n\n<p>where <code>storeImage</code> is defined as follows:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Import AWS SDK\nconst AWS = require(\"aws-sdk\");\n\n// Instantiate s3 instance to iterface with digital ocean spaced\nconst spacesEndpoint = new AWS.Endpoint(\"sfo2.digitaloceanspaces.com\");\nconst s3 = new AWS.S3({\n    endpoint: spacesEndpoint,\n    accessKeyId: process.env.DO_SPACE_KEY,\n    secretAccessKey: process.env.DO_SPACE_SECRET\n});\n\nconst storeImage = (image, key) =&gt; {\n    const params = {\n        ACL: \"public-read\",\n        Bucket: process.env.DO_SPACE_BUCKET,\n        Key: `${key}`,\n        Body: image,\n        ContentType: \"image/jpeg\"\n    };\n\n    const promise = new Promise((resolve, reject) =&gt; {\n        s3.upload(params, (err, data) =&gt; {\n            if (err) reject(err);\n\n            resolve(data);\n        });\n    });\n\n    return promise;\n};\n</code></pre>\n\n<p>Any thoughts on what I am doing wrong?</p>\n"}, {"tags": ["javascript", "css", "html", "bootstrap-4"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 1, "creation_date": 1555539849, "post_id": 55736617, "comment_id": 98151460, "body": "FYI: <code>&lt;div&gt;</code> elements are &quot;block-level&quot; and so they already have a width of 100%. <code>width: 100%;</code> in your code is redundant."}], "answers": [{"tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": false, "score": 0, "last_activity_date": 1555539544, "last_edit_date": 1555539544, "creation_date": 1555539146, "answer_id": 55736659, "question_id": 55736617, "link": "https://stackoverflow.com/questions/55736617/how-to-align-text-header-inside-boarder-of-div/55736659#55736659", "title": "How to align text header inside boarder of div", "body": "<p>Use a <code>&lt;fieldset&gt;</code> with a <code>&lt;legend&gt;</code>, which provides this effect natively and can be styled any way you like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>fieldset {\r\n  background-color:rgba(100,50,175,.2);\r\n  border-top:3px solid black;\r\n}\r\n\r\nlegend {\r\n  text-align:center;\r\n  font-size:3em;\r\n  font-weight:bold;\r\n  background-color:rgba(100,100,255,.5);\r\n  padding:10px;\r\n  border:3px dashed #e0e0e0;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;fieldset&gt;\r\n  &lt;legend&gt;This is the title&lt;/legend&gt;\r\n  \r\n  Other content here   Other content here   Other content here   Other content here   Other content here   Other content here   Other content here   Other content here   Other content here   Other content here   Other content here   Other content here   Other content here   Other content here   Other content here \r\n  \r\n  &lt;ul&gt;\r\n    &lt;li&gt;Item&lt;/li&gt;\r\n    &lt;li&gt;Item&lt;/li&gt;\r\n    &lt;li&gt;Item&lt;/li&gt;    \r\n  &lt;/ul&gt;\r\n  \r\n  &lt;p&gt;Just about any HTML can go in here&lt;/p&gt;\r\n&lt;/fieldset&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 11376156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a311e94b0cadc707e8d08e89bcdd6f0?s=128&d=identicon&r=PG&f=1", "display_name": "JenDL", "link": "https://stackoverflow.com/users/11376156/jendl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 16, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555539544, "creation_date": 1555538857, "last_edit_date": 1555539438, "question_id": 55736617, "link": "https://stackoverflow.com/questions/55736617/how-to-align-text-header-inside-boarder-of-div", "title": "How to align text header inside boarder of div", "body": "<p>I'm trying to put text inside the border of a box on the page. The solution I have kind of works, but the text in the box writes over the header and doesn't scale the way I'd like it to. Is there a better solution? </p>\n\n<p>I've tried a few things like this <a href=\"https://jsbin.com/atupup/edit?html,output\" rel=\"nofollow noreferrer\">https://jsbin.com/atupup/edit?html,output</a> but so far have not been successful. </p>\n\n<p>This is the code I landed on: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div style=\"width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center\"&gt;\r\n    &lt;span style=\"font-size: 40px; background-color: white; padding: 0 10px;\"&gt;\r\n    Section Title &lt;!--Padding is optional--&gt;\r\n    &lt;/span&gt;\r\n&lt;/div&gt;\r\n&lt;div style=\"border: 1px solid black; padding:none;\"&gt;\r\n    &lt;p&gt;more content here&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div style=\"width: 100%; height: 20px; border-bottom: 1px solid black; text-align: center\"&gt;\r\n    &lt;span style=\"font-size: 40px; background-color: white; padding: 0 10px;\"&gt;\r\n \r\n    Section Title &lt;!--Padding is optional--&gt;\r\n&lt;/span&gt;\r\n&lt;/div&gt;\r\n&lt;div style=\"border: 1px solid black; padding:none;\"&gt;\r\n    &lt;p&gt;more content here&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I'm not sure if I'm doing this correctly, so any help would be appreciated!</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 4054, "user_id": 1882497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/658a7779baf496a4d2251317a45561e1?s=128&d=identicon&r=PG", "display_name": "Aioros", "link": "https://stackoverflow.com/users/1882497/aioros"}, "edited": false, "score": 1, "creation_date": 1555539089, "post_id": 55736582, "comment_id": 98151317, "body": "Seems to work correctly for me: <a href=\"https://jsfiddle.net/jLhvbsdx/\" rel=\"nofollow noreferrer\">jsfiddle.net/jLhvbsdx</a>"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11043253, "user_type": "registered", "profile_image": "https://graph.facebook.com/558659224636470/picture?type=large", "display_name": "Agm Harzar", "link": "https://stackoverflow.com/users/11043253/agm-harzar"}, "edited": false, "score": 0, "creation_date": 1555563893, "post_id": 55736656, "comment_id": 98156074, "body": "Yeah it works fine, but you dont see my code or what ? Im trying to show result by command answer and still giving same answer in chat not in log how can i fix it ?"}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 0, "last_activity_date": 1555539138, "creation_date": 1555539138, "answer_id": 55736656, "question_id": 55736582, "link": "https://stackoverflow.com/questions/55736582/node-js-javascript-array-random-function-always-giving-1st-when-command-is-trigg/55736656#55736656", "title": "Node.js Javascript array random function always giving 1st when command is triggered", "body": "<p>Random algorithm works fine:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> \r\n\r\nvar anArray = ['1','2','3'];\r\nvar rand = anArray[Math.floor(Math.random() * anArray.length)];\r\nconsole.log(rand);</code></pre>\r\n</div>\r\n</div>\r\n </p>\n"}, {"tags": [], "owner": {"reputation": 156, "user_id": 5615967, "user_type": "registered", "accept_rate": 92, "profile_image": "https://lh3.googleusercontent.com/-k7tbrpdLkTo/AAAAAAAAAAI/AAAAAAAAACQ/zwe5HlAFMV0/photo.jpg?sz=128", "display_name": "Sebastian", "link": "https://stackoverflow.com/users/5615967/sebastian"}, "is_accepted": false, "score": 0, "last_activity_date": 1555539139, "creation_date": 1555539139, "answer_id": 55736657, "question_id": 55736582, "link": "https://stackoverflow.com/questions/55736582/node-js-javascript-array-random-function-always-giving-1st-when-command-is-trigg/55736657#55736657", "title": "Node.js Javascript array random function always giving 1st when command is triggered", "body": "<p>Doing the following on a command line (windows):</p>\n\n<pre><code>&gt; var anArray = ['1','2','3'];\n&gt; console.log(anArray[Math.floor(Math.random() * anArray.length)]);\n&gt; console.log(anArray[Math.floor(Math.random() * anArray.length)]);\n&gt; console.log(anArray[Math.floor(Math.random() * anArray.length)]);\n</code></pre>\n\n<p>I do get either '1', '2', or '3'.</p>\n\n<p>I ran this using node v8.10.0</p>\n"}], "owner": {"reputation": 11, "user_id": 11043253, "user_type": "registered", "profile_image": "https://graph.facebook.com/558659224636470/picture?type=large", "display_name": "Agm Harzar", "link": "https://stackoverflow.com/users/11043253/agm-harzar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555539139, "creation_date": 1555538635, "question_id": 55736582, "link": "https://stackoverflow.com/questions/55736582/node-js-javascript-array-random-function-always-giving-1st-when-command-is-trigg", "title": "Node.js Javascript array random function always giving 1st when command is triggered", "body": "<p>When command is triggered it always giving 1 in array instead doing it random. What is wrong ?</p>\n\n<pre><code>var anArray = ['1','2','3'];\nvar rand = anArray[Math.floor(Math.random() * anArray.length)];\nif (command == \"!random\") {\n    client.chatMessage(`${rand}`);\n  }\n</code></pre>\n\n<p>I expected the random resultat but acualy is always giving option 1.</p>\n"}, {"tags": ["javascript", "visual-studio", "vue.js", "vuetify.js", "v-navigation-drawer"], "comments": [{"owner": {"reputation": 3206, "user_id": 2519631, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/dyCq7.png?s=128&g=1", "display_name": "John", "link": "https://stackoverflow.com/users/2519631/john"}, "edited": false, "score": 0, "creation_date": 1555593097, "post_id": 55736500, "comment_id": 98170331, "body": "Can you provide a valid fiddle or codepen ?"}], "owner": {"reputation": 10525, "user_id": 1186050, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/1aeaf46e73772e9f9c7784bf0ee0705c?s=128&d=identicon&r=PG", "display_name": "user1186050", "link": "https://stackoverflow.com/users/1186050/user1186050"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 736, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1555604785, "creation_date": 1555538055, "last_edit_date": 1555552986, "question_id": 55736500, "link": "https://stackoverflow.com/questions/55736500/vuetify-navigation-drawer-closing-only-after-item-is-clicked-twice", "title": "Vuetify navigation drawer closing only after item is clicked twice", "body": "<p>I'm very new to Vue so I'm not sure how to check this, but\nmy vue v-navigation-drawer is below, it's located in app-root.vue. It was working at first, closing when you click on a drawer item, but now you have to click twice in order for it to close. </p>\n\n<p>The first click takes you to the page and then the second click closes the drawer. FYI - if I'm already on the page then clicking it once will close it.</p>\n\n<p>I don't see any errors in the debugger.</p>\n\n<p>Here is my drawer and script</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export default {\r\n  data() {\r\n    return {\r\n      drawer: false,\r\n    }\r\n  },\r\n  computed: {\r\n    isPageLoading: {\r\n      get() {\r\n        return this.$store.state.appRoot.isPageLoading\r\n      },\r\n      set(value) {\r\n        this.$store.commit('appRoot/isPageLoadingUpdate', value)\r\n      }\r\n    },\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;template&gt;\r\n    &lt;div id=\"app\"&gt;\r\n        &lt;v-app id=\"inspire\"&gt;\r\n            &lt;v-navigation-drawer fixed temporary disable-resize-watcher v-model=\"drawer\" app&gt;\r\n                &lt;v-subheader class=\"mt-3 grey--text text--darken-1\"&gt;ENTRY&lt;/v-subheader&gt;\r\n                &lt;v-list dense&gt;\r\n                    &lt;v-list-tile @click=\"drawer = !drawer\" to=\"/entry/records\"&gt;\r\n                        &lt;v-list-tile-content&gt;\r\n                            &lt;v-list-tile-title&gt;Records&lt;/v-list-tile-title&gt;\r\n                        &lt;/v-list-tile-content&gt;\r\n                    &lt;/v-list-tile&gt;\r\n                    &lt;v-list-tile @click=\"drawer = !drawer\" to=\"/entry/coworkers\"&gt;\r\n                        &lt;v-list-tile-content&gt;\r\n                            &lt;v-list-tile-title&gt;Coworkers&lt;/v-list-tile-title&gt;\r\n                        &lt;/v-list-tile-content&gt;\r\n                    &lt;/v-list-tile&gt;\r\n                    &lt;v-list-tile @click=\"drawer = !drawer\" to=\"/entry/defendants\"&gt;\r\n                        &lt;v-list-tile-content&gt;\r\n                            &lt;v-list-tile-title&gt;Defendants&lt;/v-list-tile-title&gt;\r\n                        &lt;/v-list-tile-content&gt;\r\n                    &lt;/v-list-tile&gt;\r\n                    &lt;v-list-tile @click=\"drawer = !drawer\" to=\"/entry/documentjobs\"&gt;\r\n                        &lt;v-list-tile-content&gt;\r\n                            &lt;v-list-tile-title&gt;Document Jobs&lt;/v-list-tile-title&gt;\r\n                        &lt;/v-list-tile-content&gt;\r\n                    &lt;/v-list-tile&gt;\r\n                    &lt;v-list-tile @click=\"drawer = !drawer\" to=\"/entry/jobsites\"&gt;\r\n                        &lt;v-list-tile-content&gt;\r\n                            &lt;v-list-tile-title&gt;Jobsites&lt;/v-list-tile-title&gt;\r\n                        &lt;/v-list-tile-content&gt;\r\n                    &lt;/v-list-tile&gt;\r\n                    &lt;v-list-tile @click=\"drawer = !drawer\" to=\"/entry/locations\"&gt;\r\n                        &lt;v-list-tile-content&gt;\r\n                            &lt;v-list-tile-title&gt;Locations&lt;/v-list-tile-title&gt;\r\n                        &lt;/v-list-tile-content&gt;\r\n                    &lt;/v-list-tile&gt;\r\n                    &lt;v-list-tile @click=\"drawer = !drawer\" to=\"/entry/products\"&gt;\r\n                        &lt;v-list-tile-content&gt;\r\n                            &lt;v-list-tile-title&gt;Products&lt;/v-list-tile-title&gt;\r\n                        &lt;/v-list-tile-content&gt;\r\n                    &lt;/v-list-tile&gt;\r\n                    &lt;v-list-tile @click=\"drawer = !drawer\" to=\"/entry/ships\"&gt;\r\n                        &lt;v-list-tile-content&gt;\r\n                            &lt;v-list-tile-title&gt;Ships&lt;/v-list-tile-title&gt;\r\n                        &lt;/v-list-tile-content&gt;\r\n                    &lt;/v-list-tile&gt;\r\n                    &lt;v-list-tile @click=\"drawer = !drawer\" to=\"/entry/sources\"&gt;\r\n                        &lt;v-list-tile-content&gt;\r\n                            &lt;v-list-tile-title&gt;Sources&lt;/v-list-tile-title&gt;\r\n                        &lt;/v-list-tile-content&gt;\r\n                    &lt;/v-list-tile&gt;\r\n                    &lt;v-list-tile @click=\"drawer = !drawer\" to=\"/entry/witnesses\"&gt;\r\n                        &lt;v-list-tile-content&gt;\r\n                            &lt;v-list-tile-title&gt;Witnesses&lt;/v-list-tile-title&gt;\r\n                        &lt;/v-list-tile-content&gt;\r\n                    &lt;/v-list-tile&gt;\r\n\r\n                    &lt;v-divider dark&gt;&lt;/v-divider&gt;\r\n\r\n                    &lt;v-subheader class=\"mt-3 grey--text text--darken-1\"&gt;ADMIN&lt;/v-subheader&gt;\r\n                    &lt;v-list-tile @click=\"drawer = !drawer\" to=\"/Admin/Users\"&gt;\r\n                        &lt;v-list-tile-content&gt;\r\n                            &lt;v-list-tile-title&gt;Users&lt;/v-list-tile-title&gt;\r\n                        &lt;/v-list-tile-content&gt;\r\n                    &lt;/v-list-tile&gt;\r\n                    &lt;br /&gt;\r\n                &lt;/v-list&gt;\r\n            &lt;/v-navigation-drawer&gt;\r\n            &lt;v-toolbar color=\"indigo\" dark fixed app&gt;\r\n                &lt;v-toolbar-side-icon @click.stop=\"drawer = !drawer\"&gt;&lt;/v-toolbar-side-icon&gt;\r\n                &lt;v-toolbar-title&gt;Mpid2&lt;/v-toolbar-title&gt;\r\n            &lt;/v-toolbar&gt;\r\n            &lt;v-content&gt;\r\n                &lt;router-view&gt;&lt;/router-view&gt;\r\n            &lt;/v-content&gt;\r\n            &lt;v-footer fixed app height=\"auto\" style=\"min-height: 0\"&gt;\r\n                &lt;!--&lt;v-progress-linear :active=\"isPageLoading\" class=\"ma-0\" :indeterminate=\"true\"&gt;&lt;/v-progress-linear&gt;--&gt;\r\n            &lt;/v-footer&gt;\r\n        &lt;/v-app&gt;\r\n    &lt;/div&gt;\r\n&lt;/template&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "function", "cookies", "setcookie"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1555538976, "post_id": 55736492, "comment_id": 98151277, "body": "Try taking off the first <code>.</code> on the domain in your last attempt"}, {"owner": {"reputation": 21, "user_id": 5487438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69860361f25ede241b53524adca9b10a?s=128&d=identicon&r=PG&f=1", "display_name": "MrK", "link": "https://stackoverflow.com/users/5487438/mrk"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1555540497, "post_id": 55736492, "comment_id": 98151611, "body": "I am so confused. Nothing seems to be working. I try with / without the <code>.</code>. Everything works for the same page, but not the entire domain."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1555540535, "post_id": 55736492, "comment_id": 98151622, "body": "No, I was saying to try <code>document.cookie = cname + &quot;=&quot; + cvalue + &quot;; &quot; + expires + &quot;; path=&#47;; domain=mysite.com&quot;;</code>"}, {"owner": {"reputation": 21, "user_id": 5487438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69860361f25ede241b53524adca9b10a?s=128&d=identicon&r=PG&f=1", "display_name": "MrK", "link": "https://stackoverflow.com/users/5487438/mrk"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1555540993, "post_id": 55736492, "comment_id": 98151728, "body": "Not working. I tried."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1555541903, "post_id": 55736492, "comment_id": 98151979, "body": "according to documentation <code>domain=mysite.com</code> should work. Check in your browser (developer tools) to see what your site is sending in headers to set the cookie"}], "owner": {"reputation": 21, "user_id": 5487438, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69860361f25ede241b53524adca9b10a?s=128&d=identicon&r=PG&f=1", "display_name": "MrK", "link": "https://stackoverflow.com/users/5487438/mrk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555538012, "creation_date": 1555538012, "question_id": 55736492, "link": "https://stackoverflow.com/questions/55736492/how-do-i-set-a-cookie-for-the-entire-domain-name", "title": "How do I set a cookie for the entire domain name?", "body": "<p>I am trying to set a cookie that would work through my entire domain:</p>\n\n<pre><code>function setCookie(cname, cvalue, exdays) {\n    var d = new Date();\n    d.setTime(d.getTime() + (exdays*24*60*60*1000));\n    var expires = \"expires=\"+d.toUTCString();\n    document.cookie = cname + \"=\" + cvalue + \"; \" + expires;\n}\n</code></pre>\n\n<p>So I did this:</p>\n\n<p><code>document.cookie = cname+\"=\"+cvalue+expires+\"; path=/\";</code> it's still not setting it for the entire domain.</p>\n\n<p>And this:</p>\n\n<p><code>document.cookie = cname + \"=\" + cvalue + \"; \" + expires + \"; path=/; domain=.mysite.com\";</code> still nothing.</p>\n\n<p>What is the problem and how would I set it for an entire domain name? Am I making a mistake somewhere?</p>\n"}, {"tags": ["javascript", "arrays", "indexof"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1555537776, "post_id": 55736443, "comment_id": 98150942, "body": "The <code>.indexOf()</code> function returns just one number though"}, {"owner": {"reputation": 1, "user_id": 11341706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af239141d1dcf6831d6edcbf522e16a?s=128&d=identicon&r=PG&f=1", "display_name": "taz1010", "link": "https://stackoverflow.com/users/11341706/taz1010"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1555537809, "post_id": 55736443, "comment_id": 98150950, "body": "what if it was put through a loop"}, {"owner": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "edited": false, "score": 0, "creation_date": 1555537817, "post_id": 55736443, "comment_id": 98150953, "body": "Yes, but to be clearer, the .indexOf() function returns a single integer. ;)"}, {"owner": {"reputation": 1, "user_id": 11341706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af239141d1dcf6831d6edcbf522e16a?s=128&d=identicon&r=PG&f=1", "display_name": "taz1010", "link": "https://stackoverflow.com/users/11341706/taz1010"}, "reply_to_user": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "edited": false, "score": 0, "creation_date": 1555537857, "post_id": 55736443, "comment_id": 98150966, "body": "@RobRaisch How can multipe integers be returned"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1555537897, "post_id": 55736443, "comment_id": 98150983, "body": "Also <code>.indexOf()</code> will never return a value that&#39;s not an integer, so <code>3.5</code> is impossible."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1555538010, "post_id": 55736443, "comment_id": 98151026, "body": "@taz1010 multiple numbers will never be returned from a single call to indexOf.  That&#39;s not how that method works."}, {"owner": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "edited": false, "score": 0, "creation_date": 1555538011, "post_id": 55736443, "comment_id": 98151027, "body": "They cannot without introducing a loop. I&#39;m not completely clear on what you&#39;re asking. Are you looking to iterate over an array for the position of elements that match your search criteria, and then sum the returned indices the result of which will be used to locate an element in another array?"}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1555538142, "post_id": 55736443, "comment_id": 98151061, "body": "Also having an array and looking up apple; getting 1, 2, 3; summing those up to 6; and getting the 6th element from a second array (without any explanation as to why) makes no sense."}, {"owner": {"reputation": 1, "user_id": 11341706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af239141d1dcf6831d6edcbf522e16a?s=128&d=identicon&r=PG&f=1", "display_name": "taz1010", "link": "https://stackoverflow.com/users/11341706/taz1010"}, "reply_to_user": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "edited": false, "score": 0, "creation_date": 1555538149, "post_id": 55736443, "comment_id": 98151063, "body": "@RobRaisch Yes thats correct I believe. Whatever criteria matches, get the sum of that. Then whatever that sum is, go to that index position in an array and retirvee that value."}], "answers": [{"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 0, "last_activity_date": 1555538234, "creation_date": 1555538234, "answer_id": 55736525, "question_id": 55736443, "link": "https://stackoverflow.com/questions/55736443/how-to-pick-from-an-array-depending-on-a-certain-number/55736525#55736525", "title": "how to pick from an array depending on a certain number", "body": "<p>Yes, you can - <code>filter</code> through the array and find all your <code>apple</code>s, then <code>map</code> out the indexes from the original array, <code>reduce</code> to one index, and get the item at that index.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100];\r\n\r\nconst appleNums = [20, 30, 40];\r\n\r\nconst resultingAppleNum = arr[arr.filter(e =&gt; appleNums.includes(e)).map(e =&gt; arr.indexOf(e)).reduce((acc, curr) =&gt; acc + curr)];\r\n\r\nconsole.log(resultingAppleNum);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "edited": false, "score": 0, "creation_date": 1555538650, "post_id": 55736531, "comment_id": 98151191, "body": "Is there an edge case where no matches occur in the target array and so <code>acc === 0</code> which when applied to the numbers array will return a false result?"}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "reply_to_user": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "edited": false, "score": 1, "creation_date": 1555539368, "post_id": 55736531, "comment_id": 98151364, "body": "@RobRaisch You were right, I have taken care of that situation, <code>undefined</code> should be returned now if there is not match."}], "tags": [], "owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "is_accepted": false, "score": 1, "last_activity_date": 1555539277, "last_edit_date": 1555539277, "creation_date": 1555538274, "answer_id": 55736531, "question_id": 55736443, "link": "https://stackoverflow.com/questions/55736443/how-to-pick-from-an-array-depending-on-a-certain-number/55736531#55736531", "title": "how to pick from an array depending on a certain number", "body": "<p>If I understood correctly, you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\">Array.reduce()</a> to get the sum of the indexes where a match to some search term occurs. Then you can use the result from the <code>reduce()</code> to access your array of numbers:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let test = [\"orange\", \"apple\", \"banana\", \"apple\"];\r\nlet numbers =  [10, 20, 30, 40, 50, 60, 70, 80, 90];\r\n\r\nconst getSumOfIdxs = (arr, str) =&gt;\r\n{\r\n    return arr.reduce((acc, curr, idx) =&gt;\r\n    {\r\n        if (curr === str)\r\n        {\r\n            if (acc &lt; 0) acc += 1;\r\n            acc += idx;\r\n        }\r\n\r\n        return acc;\r\n    }, -1);\r\n}\r\n\r\nlet res = getSumOfIdxs(test, \"apple\");\r\nconsole.log(\"Sum of indexes: \", res);\r\nconsole.log(\"Element from numbers: \", numbers[res]);\r\n\r\nres = getSumOfIdxs(test, \"hello\");\r\nconsole.log(\"Sum of indexes: \", res);\r\nconsole.log(\"Element from numbers: \", numbers[res]);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console {background-color:black !important; color:lime;}\r\n.as-console-wrapper {max-height:100% !important; top:0;}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 11341706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2af239141d1dcf6831d6edcbf522e16a?s=128&d=identicon&r=PG&f=1", "display_name": "taz1010", "link": "https://stackoverflow.com/users/11341706/taz1010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "closed_date": 1555572239, "answer_count": 2, "score": -2, "last_activity_date": 1555539277, "creation_date": 1555537680, "question_id": 55736443, "link": "https://stackoverflow.com/questions/55736443/how-to-pick-from-an-array-depending-on-a-certain-number", "closed_reason": "Needs details or clarity", "title": "how to pick from an array depending on a certain number", "body": "<p>Lets say you use indexOf on an array to find all cases that say apple. If it comes back with three cases at positons 1, 2 and 3. </p>\n\n<p>Now lets say there is an array = [10, 20, 30 ,40 ,50 ,60 ,70 ,80 ,90 ,100]</p>\n\n<p>is there a way to use them cases 1,2 and 3 which come to 6. So is there a a way to go to position 6 \"70\" and produce that number. Depending on what the indexOf provides, is there a way to select that number from the array. Also if the indexOF produced 3.5 would there be a way to get 35 aka position 3.5.</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 960, "user_id": 4825104, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/480331ec37c1e54c075db36b5bf80324?s=128&d=identicon&r=PG&f=1", "display_name": "Farrukh Faizy", "link": "https://stackoverflow.com/users/4825104/farrukh-faizy"}, "edited": false, "score": 1, "creation_date": 1555538887, "post_id": 55736428, "comment_id": 98151249, "body": "Please create react using create-react-app and always check your console when you are unable to see the results.   Read : <a href=\"https://github.com/facebook/create-react-app\" rel=\"nofollow noreferrer\">github.com/facebook/create-react-app</a>"}], "answers": [{"tags": [], "owner": {"reputation": 960, "user_id": 4825104, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/480331ec37c1e54c075db36b5bf80324?s=128&d=identicon&r=PG&f=1", "display_name": "Farrukh Faizy", "link": "https://stackoverflow.com/users/4825104/farrukh-faizy"}, "is_accepted": false, "score": 0, "last_activity_date": 1555539075, "creation_date": 1555539075, "answer_id": 55736644, "question_id": 55736428, "link": "https://stackoverflow.com/questions/55736428/i-am-having-problem-with-my-table-showing-up-in-the-browser/55736644#55736644", "title": "I am having problem with my table showing up in the browser", "body": "<p>You are missing an element which has to have a <strong>root id</strong> to be render on. </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Scoreboard&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"./app.css\" /&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n  &lt;div id=\"root\"&gt;&lt;/div&gt;\n\n    &lt;script crossorigin src=\"https://unpkg.com/react@16/umd/react.development.js\"&gt;&lt;/script&gt;\n    &lt;script crossorigin src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://unpkg.com/babel-standalone@6/babel.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/babel\" src=\"./app.js\"&gt;&lt;/script&gt;  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11283278"}, "is_accepted": false, "score": 0, "last_activity_date": 1555554059, "creation_date": 1555554059, "answer_id": 55738268, "question_id": 55736428, "link": "https://stackoverflow.com/questions/55736428/i-am-having-problem-with-my-table-showing-up-in-the-browser/55738268#55738268", "title": "I am having problem with my table showing up in the browser", "body": "<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Scoreboard&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"./app.css\" /&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;div id=\"root\"&gt;&lt;/div&gt;\n\n    &lt;script crossorigin src=\"https://unpkg.com/react@16/umd/react.development.js\"&gt;&lt;/script&gt;\n    &lt;script crossorigin src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://unpkg.com/babel-standalone@6/babel.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/babel\" src=\"app.js\"&gt;&lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n\nconst Header = () =&gt; {\n    return(\n      &lt;header&gt;\n          &lt;h1&gt;ScoreBoard&lt;/h1&gt;\n              &lt;span className=\"stats\"&gt;Player: 1 &lt;/span&gt;\n      &lt;/header&gt;\n    );\n  }\n\n  const Player = () =&gt; {\n      return( &lt;div className=\"player\"&gt;\n                 &lt;span className=\"player-name\"&gt; Guil &lt;/span&gt;&lt;Counter /&gt;\n               &lt;/div&gt; \n            );\n    }\n\n\n  const Counter = () =&gt; { \n      return( &lt;div className=\"counter\"&gt;\n             &lt;button className=\"counter-decrement\"&gt;-&lt;/button&gt;\n             &lt;span className=\"counter-score\"&gt;&lt;/span&gt;\n             &lt;button className=\"counter-increment\"&gt;+&lt;/button&gt;\n             &lt;/div&gt;\n            );\n  }\n\n  const App = () =&gt;{ \n      return( \n          &lt;div className=\"scoreboard\"&gt;\n          &lt;Header/&gt; { } &lt;Player /&gt; &lt;/div&gt; ); } \n\n  ReactDOM.render( &lt;App /&gt;, document.getElementById('root') );\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11283278"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1555652596, "creation_date": 1555537619, "last_edit_date": 1555652596, "question_id": 55736428, "link": "https://stackoverflow.com/questions/55736428/i-am-having-problem-with-my-table-showing-up-in-the-browser", "title": "I am having problem with my table showing up in the browser", "body": "<p>I a creating a React App that keeps Score but so far my components are not showing up in the browser could anyone help? The Scoreboard should have a score counter so far and player name but so far nothing is appearing I am new to react.</p>\n\n<p>I have tried linking babel in the HTML and This is the React Code</p>\n\n<pre><code>const Header = () =&gt;\n        &lt;header&gt;\n            &lt;h1&gt;ScoreBoard&lt;/h1&gt;\n                &lt;span className=\"stats\"&gt;Player: 1 &lt;/span&gt;\n        &lt;/header&gt;;\n\nconst Player = () =&gt; {\n    return(\n        &lt;div className=\"player\"&gt;\n            &lt;span classNae=\"player-name\"&gt;\n                Guil\n            &lt;/span&gt;\n            &lt;Counter /&gt;\n        &lt;/div&gt;\n    );\n}\n\nconst counter = () =&gt; {\n    return(\n            &lt;div className=\"counter\"&gt;\n                &lt;button className=\"counter-decriiment\"&gt;-&lt;/button&gt;\n                &lt;span className=\"counter-score\"&gt;&lt;/span&gt;\n                &lt;button className=\"counter-incriment\"&gt;+&lt;/button&gt;\n                &lt;/div&gt;\n    );\n}\n\nconst App = () =&gt;{\n    return(\n        &lt;div className=\"scoreboard\"&gt;\n            &lt;Header/&gt;\n            {/* { Players List } */}\n            &lt;PLayer /&gt;\n        &lt;/div&gt;\n    );\n}\nReactDom.render(\n    &lt;App /&gt;,\n    document.getElementById('root')\n);\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Scoreboard&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"./app.css\" /&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n\n    &lt;script crossorigin src=\"https://unpkg.com/react@16/umd/react.development.js\"&gt;&lt;/script&gt;\n    &lt;script crossorigin src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://unpkg.com/babel-standalone@6/babel.min.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/babel\" src=\"./app.js\"&gt;&lt;/script&gt;  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "resize", "nav"], "answers": [{"tags": [], "owner": {"reputation": 15219, "user_id": 949217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eeb8af3bd72e2f6dbc9badee4a97c80?s=128&d=identicon&r=PG", "display_name": "Andy Hoffman", "link": "https://stackoverflow.com/users/949217/andy-hoffman"}, "is_accepted": false, "score": 0, "last_activity_date": 1555542483, "creation_date": 1555542483, "answer_id": 55737117, "question_id": 55736427, "link": "https://stackoverflow.com/questions/55736427/making-navigation-hover-underline-respond-on-browser-resize/55737117#55737117", "title": "Making navigation hover underline respond on browser resize", "body": "<p>The value of <code>$(this)</code> is <code>undefined</code> inside of the anonymous <code>resize</code> function. If you replace <code>$(this)</code> with <code>$('nav')</code>, everything works as expected.</p>\n\n<p>In short, replace this\u2026</p>\n\n<pre><code>$(window).resize(function() {\n  \u2026\n  var firstChild = $(this).find(\"a:first-child\");\n}\n</code></pre>\n\n<p>\u2026with this</p>\n\n<pre><code>$(window).resize(function() {\n  \u2026\n  var firstChild = $(\"nav\").find(\"a:first-child\");\n}\n</code></pre>\n\n<p><strong>Demo</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".underline-nav\").css(\"width\", $(\"#one\").width());\r\n$(\".underline-nav\").css(\"margin-left\", $(\"#one\").css(\"margin-left\"));\r\nvar unav = $(\".underline-nav\");\r\n$(\"nav a\").mouseover(function() {\r\n  $(\".underline-nav\").css(\"transition\", \"all ease 0.43s\");\r\n  var position = $(this).position();\r\n  unav.css({\r\n    width: $(this).width(),\r\n    \"margin-left\": $(this).css(\"margin-left\"),\r\n    left: position.left\r\n  });\r\n});\r\n$(\"nav\").mouseleave(function() {\r\n  $(\".underline-nav\").css(\"transition\", \"all ease 0.7s\");\r\n  var firstChild = $(this).find(\"a:first-child\");\r\n  var position = firstChild.position();\r\n  unav.css({\r\n    width: firstChild.width(),\r\n    \"margin-left\": firstChild.css(\"margin-left\"),\r\n    left: position.left\r\n  });\r\n});\r\n\r\n//NEW BUT CAUSES ERROR\r\nvar resizeTimer;\r\n$(window).resize(function() {\r\n  clearTimeout(resizeTimer);\r\n\r\n  $(\".underline-nav\").css(\"transition\", \"all ease 0.7s\");\r\n  var firstChild = $(\"nav\").find(\"a:first-child\");\r\n  var position = firstChild.position();\r\n  console.log(\"position\", position);\r\n  unav.css({\r\n    width: firstChild.width(),\r\n    \"margin-left\": firstChild.css(\"margin-left\"),\r\n    left: position.left\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html {\r\n  background-color: blue;\r\n}\r\n\r\nbody {\r\n  margin: 0;\r\n}\r\n\r\n.underline-nav {\r\n  background: tomato;\r\n  height: .25rem;\r\n  position: absolute;\r\n  top: 6vh;\r\n  margin-top: 1vw;\r\n  transform: translatex(4vw);\r\n  transition: all ease 0.37s;\r\n  z-index: 0;\r\n}\r\n\r\n.mainnav {\r\n  padding-top: 1vh;\r\n  width: 100%;\r\n  position: absolute;\r\n  z-index: 4;\r\n  font-size: 0.8vw;\r\n  text-align: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\nnav img {\r\n  padding-left: 4vw;\r\n  height: 3.5vw;\r\n}\r\n\r\na {\r\n  color: #fff;\r\n  text-decoration: none;\r\n  font-weight: 700;\r\n  padding-left: 4vw;\r\n  letter-spacing: 0.4em;\r\n}\r\n\r\n.sectionone {\r\n  height: 100vh;\r\n  background: url('media/bg.jpg') no-repeat center center fixed;\r\n  background-size: cover;\r\n  color: #fff;\r\n  font-family: 'Raleway';\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;nav&gt;\r\n  &lt;div class=\"mainnav\"&gt;\r\n    &lt;a id=\"one\" href=\"#\"&gt;HOME&lt;/a&gt;\r\n    &lt;a href=\"#\"&gt;LINK 1&lt;/a&gt;\r\n    &lt;a href=\"#\"&gt;LINK 2&lt;/a&gt;\r\n    &lt;img src=\"/media/Asset 1.png\" alt=\"logo\"&gt;\r\n    &lt;a href=\"#\"&gt;LINK 3&lt;/a&gt;\r\n    &lt;a href=\"#\"&gt;LINK 4&lt;/a&gt;\r\n    &lt;a href=\"#\"&gt;LINK 5&lt;/a&gt;\r\n    &lt;div class=\"underline-nav\"&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/nav&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 85, "user_id": 9588565, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-FjIlY-l4ofY/AAAAAAAAAAI/AAAAAAAAALA/DcZXxaoMnvY/photo.jpg?sz=128", "display_name": "ShaggyMaster333", "link": "https://stackoverflow.com/users/9588565/shaggymaster333"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1555542483, "creation_date": 1555537613, "question_id": 55736427, "link": "https://stackoverflow.com/questions/55736427/making-navigation-hover-underline-respond-on-browser-resize", "title": "Making navigation hover underline respond on browser resize", "body": "<p>I currently have the following working navigation where an underline animates on link hover. I noticed however, when I resize the browser, the underline doesn't reset to the correct position. I assumed that if I reused some JS from my mouse leave function and used it in a window resize function it would work just ok, but I keep getting an error. Any thoughts?</p>\n\n<p><a href=\"https://codepen.io/anon/pen/MRQaMm\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/MRQaMm</a></p>\n\n<p>JS:</p>\n\n<pre><code>$(\".underline-nav\").css(\"width\", $(\"#one\").width());\n   $(\".underline-nav\").css(\"margin-left\", $(\"#one\").css(\"margin-left\"));\n   var unav = $(\".underline-nav\");\n   $('nav a').mouseover(function(){\n     $(\".underline-nav\").css(\"transition\", \"all ease 0.43s\" );\n       var position = $(this).position();\n       unav.css({\n         \"width\": $(this).width(),\n         \"margin-left\": $(this).css(\"margin-left\"),\n         \"left\": position.left\n       });\n   })\n   $('nav').mouseleave(function() {\n               $(\".underline-nav\").css(\"transition\", \"all ease 0.7s\" );\n     var firstChild = $(this).find('a:first-child');\n     var position = firstChild.position();\n       unav.css({\n\n         \"width\": firstChild.width(),\n         \"margin-left\": firstChild.css(\"margin-left\"),\n         \"left\": position.left\n       });\n   })\n\n//NEW BUT CAUSES ERROR\n     var resizeTimer;\n     $(window).resize(function() {\n         clearTimeout(resizeTimer);\n        $(\".underline-nav\").css(\"transition\", \"all ease 0.7s\" );\n        var firstChild = $(this).find('a:first-child');\n        var position = firstChild.position();\n            unav.css({\n\n                \"width\": firstChild.width(),\n                \"margin-left\": firstChild.css(\"margin-left\"),\n                \"left\": position.left\n            });\n     })\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 6545, "user_id": 4775645, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/rS0Hu.png?s=128&g=1", "display_name": "Steve K", "link": "https://stackoverflow.com/users/4775645/steve-k"}, "is_accepted": true, "score": 0, "last_activity_date": 1555543438, "creation_date": 1555543438, "answer_id": 55737260, "question_id": 55736421, "link": "https://stackoverflow.com/questions/55736421/remove-an-existing-item-from-array-when-adding-the-same-item/55737260#55737260", "title": "Remove an existing item from array, when adding the same item", "body": "<p>Use filter to remove the value when you set it so it would be like the following:</p>\n\n<pre><code>class App extends React.Component {\n  state = { value: \"\", items: [] };\n  handleChange = e =&gt; {\n    this.setState({ value: e.target.value });\n  };\n  handleSubmit = e =&gt; {\n    e.preventDefault();\n\n    this.setState({ \n      value:\"\",\n      items: [this.state.value, ...this.state.items.filter(val =&gt; val !== this.state.value)] \n    });\n  };\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;form onSubmit={this.handleSubmit}&gt;\n          &lt;input value={this.state.value} onChange={this.handleChange} /&gt;\n          &lt;button&gt;submit&lt;/button&gt;\n        &lt;/form&gt;\n\n        &lt;ul&gt;\n          {this.state.items.map(item =&gt; (\n            &lt;li key={item}&gt;{item}&lt;/li&gt;\n          ))}\n        &lt;/ul&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 323, "user_id": 6258853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/720ccf6f2ee2c427ad5a932b5f47abb9?s=128&d=identicon&r=PG&f=1", "display_name": "go_diego", "link": "https://stackoverflow.com/users/6258853/go-diego"}, "is_accepted": false, "score": 0, "last_activity_date": 1555545125, "creation_date": 1555545125, "answer_id": 55737412, "question_id": 55736421, "link": "https://stackoverflow.com/questions/55736421/remove-an-existing-item-from-array-when-adding-the-same-item/55737412#55737412", "title": "Remove an existing item from array, when adding the same item", "body": "<p>You can get a unique array by merging the current items and the new value like this:</p>\n\n<pre><code>    const { value } = this.state;\n    const currentItems = [...this.state.items];\n    const items = [...new Set([...currentItems, ...value])];\n</code></pre>\n\n<p>You can find a working demo here: <a href=\"https://codesandbox.io/s/n5l3v6r3km\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/n5l3v6r3km</a></p>\n"}], "owner": {"reputation": 25, "user_id": 11376064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7d42aa69bbe1ee4c51422c5b204f5f12?s=128&d=identicon&r=PG&f=1", "display_name": "meepwnd", "link": "https://stackoverflow.com/users/11376064/meepwnd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 55737260, "answer_count": 2, "score": 0, "last_activity_date": 1555545125, "creation_date": 1555537596, "question_id": 55736421, "link": "https://stackoverflow.com/questions/55736421/remove-an-existing-item-from-array-when-adding-the-same-item", "title": "Remove an existing item from array, when adding the same item", "body": "<p>I've created a simple form that display input data below the form, and I want to add 2 functionalities to it:</p>\n\n<ol start=\"2\">\n<li>When clicking on any of LI items, that item should be placed at the top of the list. </li>\n</ol>\n\n<pre><code>class App extends React.Component {\n  state = { value: \"\", items: [] };\n  handleChange = e =&gt; {\n    this.setState({ value: e.target.value });\n  };\n  handleSubmit = e =&gt; {\n    e.preventDefault();\n\n    this.setState({ items: [this.state.value, ...this.state.items] });\n\n    this.setState({ value: \"\" });\n  };\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;form onSubmit={this.handleSubmit}&gt;\n          &lt;input value={this.state.value} onChange={this.handleChange} /&gt;\n          &lt;button&gt;submit&lt;/button&gt;\n        &lt;/form&gt;\n\n        &lt;ul&gt;\n          {this.state.items.map(item =&gt; (\n            &lt;li key={item}&gt;{item}&lt;/li&gt;\n          ))}\n        &lt;/ul&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<ol>\n<li>When adding an item that alreday exists, the older version should be removed from the array, so the array doesn't contain duplicated items.</li>\n</ol>\n\n<pre><code>// eg. add 1 to [3, 2, 1] =&gt; [1, 3, 2]\n</code></pre>\n\n<ol start=\"2\">\n<li>When clicking on any of LI items, that item should be placed at the top of the list.</li>\n</ol>\n"}, {"tags": ["javascript", "ecmascript-6", "flowtype"], "answers": [{"comments": [{"owner": {"reputation": 1661, "user_id": 931399, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/8XyhA.png?s=128&g=1", "display_name": "JD.", "link": "https://stackoverflow.com/users/931399/jd"}, "edited": false, "score": 0, "creation_date": 1555618319, "post_id": 55736583, "comment_id": 98182642, "body": "thank you, I&#39;m guessing the indexer need to be at the top so that it doesn&#39;t overwrite the explicit operators?"}, {"owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "reply_to_user": {"reputation": 1661, "user_id": 931399, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/8XyhA.png?s=128&g=1", "display_name": "JD.", "link": "https://stackoverflow.com/users/931399/jd"}, "edited": false, "score": 0, "creation_date": 1555620547, "post_id": 55736583, "comment_id": 98183471, "body": "@JD. The indexer is at the top because flow will make the best guess based on the first attribute, and moving to the top just helps Flow get this right. I am sure there are use cases where you wouldn&#39;t want to, this is more of a code style tip than a rule. Even the Flow docs don&#39;t always do this. If there is a clear reason <i>not</i> to have the indexer at the top, I don&#39;t know what it is, and I&#39;d be very interested in learning."}], "tags": [], "owner": {"reputation": 1179, "user_id": 4855194, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G6vvI.jpg?s=128&g=1", "display_name": "Steven Stark", "link": "https://stackoverflow.com/users/4855194/steven-stark"}, "is_accepted": true, "score": 3, "last_activity_date": 1555538641, "creation_date": 1555538641, "answer_id": 55736583, "question_id": 55736371, "link": "https://stackoverflow.com/questions/55736371/spread-operator-breaks-default-property-assignment-in-function-definition/55736583#55736583", "title": "spread operator breaks default property assignment in function definition", "body": "<p>It's just a type-o. Extra comma</p>\n\n<pre><code>// @flow\ntype Props = {\n  className?: string,\n  checked?: boolean,\n  [string]: string,\n};\n\nconst Checkbox = ({\n  className = 'x',\n  checked = false,\n  ...props\n}: Props) =&gt; {\n  console.log('render checkbox');\n}\n</code></pre>\n\n<p><a href=\"https://flow.org/try/#0PTAEAEDMBsHsHcBQAXAngBwKagAoCdZ0BnUAXlAG9FRQBjaAQyKIDkGBbTAfgC5QjkeAJYA7AOYAaanQAWmWgGtMAE16gARrFjRMDEVJoBtAcPEBdPidGTEAXwDciRLVgiBoAMJzFmgB5lQAAoqGnomVg5scgByX2iDWXklZQDIBmgiTASAOlz0AmI7PnxCIgBKMgA+SmkXN21MbLgxQOi8TBFlTDxEn1g4ssdbRCA\" rel=\"nofollow noreferrer\">https://flow.org/try/#0PTAEAEDMBsHsHcBQAXAngBwKagAoCdZ0BnUAXlAG9FRQBjaAQyKIDkGBbTAfgC5QjkeAJYA7AOYAaanQAWmWgGtMAE16gARrFjRMDEVJoBtAcPEBdPidGTEAXwDciRLVgiBoAMJzFmgB5lQAAoqGnomVg5scgByX2iDWXklZQDIBmgiTASAOlz0AmI7PnxCIgBKMgA+SmkXN21MbLgxQOi8TBFlTDxEn1g4ssdbRCA</a></p>\n\n<p>Also, you should define you indexer at the top of your type like this:</p>\n\n<pre><code>// @flow\ntype Props = {\n  [string]: string,\n  className?: string,\n  checked?: boolean\n};\n</code></pre>\n"}], "owner": {"reputation": 1661, "user_id": 931399, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/8XyhA.png?s=128&g=1", "display_name": "JD.", "link": "https://stackoverflow.com/users/931399/jd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 55736583, "answer_count": 1, "score": 0, "last_activity_date": 1555538641, "creation_date": 1555537256, "question_id": 55736371, "link": "https://stackoverflow.com/questions/55736371/spread-operator-breaks-default-property-assignment-in-function-definition", "title": "spread operator breaks default property assignment in function definition", "body": "<p>see <a href=\"https://flow.org/try/#0PTAEAEDMBsHsHcBQAXAngBwKagAoCdZ0BnUAXlAG9FRQBjaAQyKIDkGBbTAfgC5QjkeAJYA7AOYAaanQAWmWgGtMAE16gARrFjRMDEVJoBtAcPEBdPidGTEAXwDciRLVgiBoAMJzFmgB5lQAAoqGnomVg5scgByX2iDWXklZQDIBmgiTASAOlz0AmIpWz58QiIASjIAPkppFzdtTGy4MUDovEwRZUw8RJ9YOPLHW0QgA\" rel=\"nofollow noreferrer\">https://flow.org/try/#0PTAEAEDMBsHsHcBQAXAngBwKagAoCdZ0BnUAXlAG9FRQBjaAQyKIDkGBbTAfgC5QjkeAJYA7AOYAaanQAWmWgGtMAE16gARrFjRMDEVJoBtAcPEBdPidGTEAXwDciRLVgiBoAMJzFmgB5lQAAoqGnomVg5scgByX2iDWXklZQDIBmgiTASAOlz0AmIpWz58QiIASjIAPkppFzdtTGy4MUDovEwRZUw8RJ9YOPLHW0QgA</a></p>\n\n<pre><code>// @flow\ntype Props = {\n  className?: string,\n  checked?: boolean,\n  [string]: string,\n};\n\nconst Checkbox = ({\n  className = 'x',\n  checked = false,\n  ...props,\n}: Props) =&gt; {\n  console.log('render checkbox');\n}\n</code></pre>\n\n<p>produces the errors:</p>\n\n<pre><code>9:   className = 'x',\n               ^ Unexpected token =\n10:   checked = false,\n              ^ Unexpected token =\n12: }: Props) =&gt; {\n              ^ Unexpected token =&gt;\n</code></pre>\n\n<p>this is valid javascript but is rejected by flow.  removing the <code>...props</code> removes the error, but I need this functionality.  Am I doing something wrong or is this a bug in flow?</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 301, "user_id": 2084572, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ae3d26ac20821ea7bbceffcf0e18f130?s=128&d=identicon&r=PG", "display_name": "user2084572", "link": "https://stackoverflow.com/users/2084572/user2084572"}, "is_accepted": false, "score": 0, "last_activity_date": 1555607156, "last_edit_date": 1555607156, "creation_date": 1555606478, "answer_id": 55750605, "question_id": 55736370, "link": "https://stackoverflow.com/questions/55736370/why-does-named-export-lead-to-export-default-was-not-found-error/55750605#55750605", "title": "Why does named export lead to &quot;Export default was not found&quot;..error", "body": "<p>The naming syntax I described is completely correct, but I was looking at the wrong import statement in a different index.js file.  The \"EstateAgent\" name was fine, but estateAgent is the name of a reducer method referenced in the redux subdirectory ./src/redux/index.js .  I had renamed this too out of an overabundance of caution and the error was at first masked by a different compile error.  When I updated the name in that file, it worked:</p>\n\n<p><code>import {estateAgentReducer} from './estateAgent'</code></p>\n\n<p>Takeaway:  the error message is pretty accurate, but overlapping file names and reuse of component names with different capitalization can be confusing for those like me who are still learning to navigate React.</p>\n"}], "owner": {"reputation": 301, "user_id": 2084572, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/ae3d26ac20821ea7bbceffcf0e18f130?s=128&d=identicon&r=PG", "display_name": "user2084572", "link": "https://stackoverflow.com/users/2084572/user2084572"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 284, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555607156, "creation_date": 1555537255, "question_id": 55736370, "link": "https://stackoverflow.com/questions/55736370/why-does-named-export-lead-to-export-default-was-not-found-error", "title": "Why does named export lead to &quot;Export default was not found&quot;..error", "body": "<p>I'm trying to add the React <code>useReducer()</code> hook to an existing Redux project, and after a little bit of refactoring I get a compile error:</p>\n\n<p><code>export 'default' (imported as 'estateAgent') was not found in './estateAgent'</code></p>\n\n<p>Other questions about this message, such as \n<a href=\"https://stackoverflow.com/questions/45995136/export-default-was-not-found\">Export default was not found</a> \nexplain how to declare a default export, but that's not what I need.  This is supposed to be a named export, and I don't know why React is expecting a default.</p>\n\n<p>Here are some relevant code snippets.</p>\n\n<p>The line that causes the error is in index.js: </p>\n\n<p><code>import {EstateAgent}  from '../pages/EstateAgent'</code></p>\n\n<p>(the curly braces mean that it's a named, not a default, export).  EstateAgent.jsx contains a container function which defines:</p>\n\n<p><code>const EstateAgent = (props) =&gt; {...</code></p>\n\n<p>(Going by a web example I'm reading, I changed the original container class EstateAgent to a function)  </p>\n\n<p>and the connector:</p>\n\n<pre><code>export const connectEstateAgent = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(EstateAgent)\n</code></pre>\n\n<p>The lowercase \"estateAgent\" seems to mean a Redux file estateAgent.js which defines actions and a reducer and is imported by EstateAgent.jsx, but doesn't contain any default keyword or any entity actually named estateAgent, so I don't know how the error line came up with that name.  e.g.:</p>\n\n<pre><code>export const estateAgentReducer = (state = initialState, action) =&gt; {...\n</code></pre>\n\n<p>So, the question:  why is the compiler insisting that I'm trying to import a default export when I don't mean to?</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 7490895, "user_type": "registered", "profile_image": "https://graph.facebook.com/10155013390484106/picture?type=large", "display_name": "Gilles Vandewiele", "link": "https://stackoverflow.com/users/7490895/gilles-vandewiele"}, "is_accepted": false, "score": 1, "last_activity_date": 1583571585, "creation_date": 1583571585, "answer_id": 60575926, "question_id": 55736366, "link": "https://stackoverflow.com/questions/55736366/image-lightslider-has-0px-height-until-window-resize/60575926#60575926", "title": "image lightslider has 0px height until window resize", "body": "<p>I just had the exact same issue... Thanks to your post, I figured out that resizing the window did make the gallery appear! As such, I triggered a resize event manually:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var triggerResize = function(){\n  window.dispatchEvent(new Event('resize'));\n}\n</code></pre>\n"}], "owner": {"reputation": 93, "user_id": 11120687, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4df7b31d42b78f5e551c155a63e0d86d?s=128&d=identicon&r=PG&f=1", "display_name": "dulhac", "link": "https://stackoverflow.com/users/11120687/dulhac"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 530, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1583571585, "creation_date": 1555537219, "question_id": 55736366, "link": "https://stackoverflow.com/questions/55736366/image-lightslider-has-0px-height-until-window-resize", "title": "image lightslider has 0px height until window resize", "body": "<p>I am using this image slider :<a href=\"https://github.com/sachinchoolur/lightslider\" rel=\"nofollow noreferrer\">https://github.com/sachinchoolur/lightslider</a></p>\n\n<p>I have the slider in a hidden div, when the div is opened the ul in slider containing images has a height of 0px, until the window is resized. This is inline css seen when you inspect element.</p>\n\n<p>Before resize:\n<code>&lt;ul id=\"content-slider\" class=\"content-slider\" style=\"width: 40px; transform: translate3d(-40px, 0px, 0px); height: 165px; padding-bottom: 0%;\"</code></p>\n\n<p>After resize:\n<code>&lt;ul id=\"content-slider\" class=\"content-slider\" style=\"width: 3112px; transform: translate3d(-778px, 0px, 0px); height: 165px; padding-bottom: 0%;\"&gt;</code></p>\n\n<p>It seems to be a common issue and there are solutions such as turning autoWidth to false, but it's already false. Also a suggestion to add this but I'm not sure where:</p>\n\n<pre><code>$.each($(\".light-slider\"), function(i, instance){\n    $(instance).imagesLoaded(function(){\n        $(instance).lightSlider();\n    });\n});\n</code></pre>\n\n<p>This is the js file used with the below code <a href=\"https://github.com/sachinchoolur/lightslider/blob/master/src/js/lightslider.js\" rel=\"nofollow noreferrer\">https://github.com/sachinchoolur/lightslider/blob/master/src/js/lightslider.js</a></p>\n\n<p>Functions:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"js/libs/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"js/lightslider.js\"&gt;&lt;/script&gt; \n\n/* show and hide content */\n$('document').ready(function() {\n  $('#show5').click( function() {\n    var $div = $('#' + $(this).data('href'));\n  $('#project-one').not($div).hide();\n    $div.slideToggle();\n  });\n\n  $('#show6').click( function() {\n    var $div = $('#' + $(this).data('href'));\n  $('#project-one').not($div).hide();\n    $div.slideToggle();\n  });\n}); \n\n\n/* image slider */\n$(document).ready(function() {\n$(\"#content-slider\").lightSlider({\n    loop:true,\n    keyPress:true\n\n});\n$('#image-gallery').lightSlider({\n    gallery:true,\n    item:1,\n    thumbItem:9,\n    slideMargin: 0,\n    speed:500,\n    auto:true,\n    loop:true,\n    onSliderLoad: function() {\n        $('#image-gallery').removeClass('cS-hidden');\n    }  \n});\n});\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"projects-container\" class=\"row\"&gt;\n &lt;div class=\"w-33 ml-100 mp-100 project\" id=\"first-project\"&gt;\n  &lt;img class=\"project-image\" src=\"img/proj-temp.jpg\" alt=\"\" title=\"\" id=\"show5\" data-href=\"project-one\" &gt;\n &lt;h4&gt;Title&lt;/h4&gt;\n &lt;a class=\"learn-more\" id=\"show6\" data-href=\"project-one\"&gt;Explore &lt;span&gt;This Project&lt;/span&gt;&lt;/a&gt;\n &lt;div class=\"panel\" id=\"project-one\"&gt;\n\n    &lt;div class=\"project-gallery-container w-100\"&gt;\n     &lt;div class=\"item\"&gt;\n      &lt;ul id=\"content-slider\" class=\"content-slider\"&gt;\n       &lt;li&gt;\n        &lt;h3&gt;1&lt;/h3&gt;\n       &lt;/li&gt;\n       &lt;li&gt;\n        &lt;h3&gt;2&lt;/h3&gt;\n       &lt;/li&gt;\n       &lt;li&gt;\n        &lt;h3&gt;3&lt;/h3&gt;\n       &lt;/li&gt;\n       &lt;li&gt;\n        &lt;h3&gt;4&lt;/h3&gt;\n       &lt;/li&gt;\n       &lt;li&gt;\n        &lt;h3&gt;5&lt;/h3&gt;\n       &lt;/li&gt;\n       &lt;li&gt;\n        &lt;h3&gt;6&lt;/h3&gt;\n       &lt;/li&gt;\n      &lt;/ul&gt;\n     &lt;/div&gt;\n    &lt;/div&gt;\n   &lt;/div&gt;                        \n &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>CSS:</p>\n\n<pre><code>#projects-container .panel {\n    display:none;\n }\n.project {\n    margin-left: 2%!important;       \n    transition: .5s;\n }\n.panel .w-100 {\n    padding:0!important;\n }\n.project-gallery-container ul {\n    list-style: none outside none;\n    padding-left: 0;\n    margin: 0;\n }\n.content-slider li{\n    background-color: #333;\n    text-align: center;\n    color: #FFF;\n }\n.content-slider h3 {\n    margin: 0;\n    padding: 70px 0;\n }\n\n.lSSlideOuter {\n    overflow: hidden;\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none\n}\n.lightSlider:before, .lightSlider:after {\n    content: \" \";\n    display: table;\n}\n.lightSlider {\n    overflow: hidden;\n    margin: 0;\n}\n.lSSlideWrapper {\n    max-width: 100%;\n    overflow: hidden;\n    position: relative;\n}\n.lSSlideWrapper &gt; .lightSlider:after {\n    clear: both;\n}\n.lSSlideWrapper .lSSlide {\n    -webkit-transform: translate(0px, 0px);\n    -ms-transform: translate(0px, 0px);\n    transform: translate(0px, 0px);\n    -webkit-transition: all 1s;\n    -webkit-transition-property: -webkit-transform,height;\n    -moz-transition-property: -moz-transform,height;\n    transition-property: transform,height;\n    -webkit-transition-duration: inherit !important;\n    transition-duration: inherit !important;\n    -webkit-transition-timing-function: inherit !important;\n    transition-timing-function: inherit !important;\n}\n.lSSlideOuter .lSPager.lSpg {\n    margin: 10px 0 0;\n    padding: 0;\n    text-align: center;\n}\n.lSSlideOuter .lSPager.lSpg &gt; li {\n    cursor: pointer;\n    display: inline-block;\n    padding: 0 5px;\n}\n.lSSlideOuter .lSPager.lSpg &gt; li a {\n    background-color: #222222;\n    border-radius: 30px;\n    display: inline-block;\n    height: 8px;\n    overflow: hidden;\n    text-indent: -999em;\n    width: 8px;\n    position: relative;\n    z-index: 99;\n    -webkit-transition: all 0.5s linear 0s;\n    transition: all 0.5s linear 0s;\n}\n.lSSlideOuter .lSPager.lSpg &gt; li:hover a, .lSSlideOuter .lSPager.lSpg &gt; li.active a {\n    background-color: #428bca;\n}\n.lSSlideOuter .media {\n    opacity: 0.8;\n}\n.lSSlideOuter .media.active {\n    opacity: 1;\n}\n.lSAction &gt; a {\n    width: 32px;\n    display: block;\n    top: 50%;\n    height: 32px;\n    background-image: url('../img/controls.png');\n    cursor: pointer;\n    position: absolute;\n    z-index: 99;\n    margin-top: -16px;\n    opacity: 0.5;\n    -webkit-transition: opacity 0.35s linear 0s;\n    transition: opacity 0.35s linear 0s;\n}\n.lSAction &gt; a:hover {\n    opacity: 1;\n}\n.lSAction &gt; .lSPrev {\n    background-position: 0 0;\n    left: 10px;\n}\n.lSAction &gt; .lSNext {\n    background-position: -32px 0;\n    right: 10px;\n}\n.lSSlideOuter.lSrtl {\n    direction: rtl;\n}\n.lSSlideOuter .lightSlider, .lSSlideOuter .lSPager {\n    padding-left: 0;\n    list-style: none outside none;\n}\n.lSSlideOuter .lightSlider &gt; *,  .lSSlideOuter .lSGallery li {\n    float: left;\n}\n.lightSlider.lsGrabbing &gt; * {\n  cursor: move;\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: -o-grabbing;\n  cursor: -ms-grabbing;\n  cursor: grabbing;\n}\n</code></pre>\n\n<p>When I take the slider outside the hidden div it works without needing to resize.</p>\n"}, {"tags": ["javascript", "jquery", "html", "custom-data-attribute"], "answers": [{"comments": [{"owner": {"reputation": 1732, "user_id": 2719598, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/l9oGS.jpg?s=128&g=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/2719598/kenny"}, "edited": false, "score": 0, "creation_date": 1555539088, "post_id": 55736392, "comment_id": 98151316, "body": "Thank you very much, this did the job. I first tried with an es6 arrow and got undefined, apparently you can&#39;t use that in this context, so weird."}, {"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "reply_to_user": {"reputation": 1732, "user_id": 2719598, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/l9oGS.jpg?s=128&g=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/2719598/kenny"}, "edited": false, "score": 1, "creation_date": 1555539108, "post_id": 55736392, "comment_id": 98151323, "body": "Arrow functions do not change what <code>this</code> is.  If you want a version that uses arrow functions I can add that."}], "tags": [], "owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "is_accepted": true, "score": 2, "last_activity_date": 1555539272, "last_edit_date": 1555539272, "creation_date": 1555537422, "answer_id": 55736392, "question_id": 55736353, "link": "https://stackoverflow.com/questions/55736353/select-all-tags-with-data-name-get-value-set-class/55736392#55736392", "title": "Select All Tags with Data Name - Get Value - Set Class", "body": "<p>Remove every character that is not alphanumeric or a space, then lowercase it, then split on space, and join on dash.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.item[data-ses-cat]').each(function(){\r\n  var newClass = $(this).data('ses-cat')\r\n      .replace( /[^a-zA-Z0-9 ]/g, '' )\r\n      .toLowerCase()\r\n      .split( ' ' )\r\n      .join( '-' );\r\n  \r\n  this.classList.add( newClass );\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"item\" data-ses-cat=\"This Cool Thing (Yes)\"&gt;Test&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And from your comments, here is a version that uses arrow functions.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.item[data-ses-cat]').each((index, element)=&gt;{\r\n  var newClass = $(element).data('ses-cat')\r\n      .replace( /[^a-zA-Z0-9 ]/g, '' )\r\n      .toLowerCase()\r\n      .split( ' ' )\r\n      .join( '-' );\r\n  \r\n  element.classList.add( newClass );\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"item\" data-ses-cat=\"This Cool Thing (Yes)\"&gt;Test&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1732, "user_id": 2719598, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/l9oGS.jpg?s=128&g=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/2719598/kenny"}, "edited": false, "score": 1, "creation_date": 1555539113, "post_id": 55736482, "comment_id": 98151325, "body": "This is great, thank you so much for the vanilla version!"}, {"owner": {"reputation": 4524, "user_id": 757142, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/75f480f79ceba7f3e89f8a02293fe9ea?s=128&d=identicon&r=PG", "display_name": "John Doe", "link": "https://stackoverflow.com/users/757142/john-doe"}, "reply_to_user": {"reputation": 1732, "user_id": 2719598, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/l9oGS.jpg?s=128&g=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/2719598/kenny"}, "edited": false, "score": 1, "creation_date": 1555541271, "post_id": 55736482, "comment_id": 98151803, "body": "@Kenny Of course! I hope your processing engine is not IE6, and supports all these features :)"}], "tags": [], "owner": {"reputation": 4524, "user_id": 757142, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/75f480f79ceba7f3e89f8a02293fe9ea?s=128&d=identicon&r=PG", "display_name": "John Doe", "link": "https://stackoverflow.com/users/757142/john-doe"}, "is_accepted": false, "score": 1, "last_activity_date": 1555538615, "last_edit_date": 1555538615, "creation_date": 1555537938, "answer_id": 55736482, "question_id": 55736353, "link": "https://stackoverflow.com/questions/55736353/select-all-tags-with-data-name-get-value-set-class/55736482#55736482", "title": "Select All Tags with Data Name - Get Value - Set Class", "body": "<p>A vanilla JS version of the code would look something like this:</p>\n\n<pre><code>function processElement(element) {\n    const clazz =\n      element.dataset.sesCat.toLowerCase()\n        .replace(/\\(\\)/g, '') // Remove brackets.\n        .replace(/ /g, '-'); // Replace spaces with dashes.\n    element.classList.add(clazz);\n}\n\nconst sesCatElements = document.querySelectorAll('[data-ses-cat]');\nsesCatElements.forEach(processElement);\n</code></pre>\n\n<p>Of course, you can tweak your RegExp exactly how you want it.</p>\n\n<p>Here is some info on how <a href=\"https://developer.mozilla.org/en-US/docs/Learn/HTML/Howto/Use_data_attributes#JavaScript_access\" rel=\"nofollow noreferrer\">Dataset API</a> works.</p>\n\n<p>And this, is how you work with <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList#Methods\" rel=\"nofollow noreferrer\">CSS class names</a>.</p>\n"}], "owner": {"reputation": 1732, "user_id": 2719598, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/l9oGS.jpg?s=128&g=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/2719598/kenny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 55736392, "answer_count": 2, "score": 0, "last_activity_date": 1555539272, "creation_date": 1555537159, "question_id": 55736353, "link": "https://stackoverflow.com/questions/55736353/select-all-tags-with-data-name-get-value-set-class", "title": "Select All Tags with Data Name - Get Value - Set Class", "body": "<p>I have some HTML where I've dynamically printed a bunch of elements, some containing a specific <code>data</code> attribute. Because my templating language can't efficiently make use of regular expressions, I need to use JavaSript (or JQuery) to select the data values, build a string, then add that string as a class to that original element. </p>\n\n<p>Example of HTML: </p>\n\n<pre><code>&lt;div class=\"item\" data-ses-cat=\"This Cool Thing (Yes)\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>Example of Desired HTML after JavaScript: </p>\n\n<pre><code>&lt;div class=\"item this-cool-thing-yes\" data-ses-cat=\"This Cool Thing (Yes)\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I just need to add a class to <strong>all</strong> tags that contain <code>data-ses-cat</code> then get the value for that data attribute, run regex, then add that new string as a class. </p>\n\n<p>I feel like it should be fairly simple, but I haven't touched a lot of JQuery in a while. </p>\n\n<p>Thanks for any help! </p>\n"}, {"tags": ["javascript", "c#", "jquery", "asp.net", "webforms"], "comments": [{"owner": {"reputation": 51795, "user_id": 495455, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/b0VBC.jpg?s=128&g=1", "display_name": "Jeremy Thompson", "link": "https://stackoverflow.com/users/495455/jeremy-thompson"}, "edited": false, "score": 0, "creation_date": 1555977722, "post_id": 55736335, "comment_id": 98273636, "body": "Just a suggestion this question would be heaps better with a live code snippet: <a href=\"https://stackoverflow.blog/2014/09/16/introducing-runnable-javascript-css-and-html-code-snippets/\">stackoverflow.blog/2014/09/16/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 452, "user_id": 6254696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vAx1y.jpg?s=128&g=1", "display_name": "mohd mazhar khan", "link": "https://stackoverflow.com/users/6254696/mohd-mazhar-khan"}, "edited": false, "score": 0, "creation_date": 1556187893, "post_id": 55835857, "comment_id": 98356205, "body": "your means for dynamic functionality I have to go with pattern recognition/machine learning? yes means how and any resources or reference to achieve dynamic functionality. @Merak Marey"}, {"owner": {"reputation": 630, "user_id": 5274180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aKnK6.jpg?s=128&g=1", "display_name": "Merak Marey", "link": "https://stackoverflow.com/users/5274180/merak-marey"}, "reply_to_user": {"reputation": 452, "user_id": 6254696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vAx1y.jpg?s=128&g=1", "display_name": "mohd mazhar khan", "link": "https://stackoverflow.com/users/6254696/mohd-mazhar-khan"}, "edited": false, "score": 0, "creation_date": 1556215713, "post_id": 55835857, "comment_id": 98371942, "body": "<a href=\"https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/35594.pdf\" rel=\"nofollow noreferrer\">static.googleusercontent.com/media/research.google.com/en//p&zwnj;&#8203;ubs/&hellip;</a>"}, {"owner": {"reputation": 452, "user_id": 6254696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vAx1y.jpg?s=128&g=1", "display_name": "mohd mazhar khan", "link": "https://stackoverflow.com/users/6254696/mohd-mazhar-khan"}, "edited": false, "score": 0, "creation_date": 1556271904, "post_id": 55835857, "comment_id": 98389954, "body": "Can you explain me some sample code to achieve in your above answer. @Merak Marey"}, {"owner": {"reputation": 452, "user_id": 6254696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vAx1y.jpg?s=128&g=1", "display_name": "mohd mazhar khan", "link": "https://stackoverflow.com/users/6254696/mohd-mazhar-khan"}, "edited": false, "score": 0, "creation_date": 1556458758, "post_id": 55835857, "comment_id": 98438495, "body": "C# asp.net web form. @Metal Marey"}, {"owner": {"reputation": 452, "user_id": 6254696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vAx1y.jpg?s=128&g=1", "display_name": "mohd mazhar khan", "link": "https://stackoverflow.com/users/6254696/mohd-mazhar-khan"}, "edited": false, "score": 0, "creation_date": 1556458758, "post_id": 55835857, "comment_id": 98438497, "body": "C# asp.net web form. @Metal Marey"}, {"owner": {"reputation": 630, "user_id": 5274180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aKnK6.jpg?s=128&g=1", "display_name": "Merak Marey", "link": "https://stackoverflow.com/users/5274180/merak-marey"}, "reply_to_user": {"reputation": 452, "user_id": 6254696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vAx1y.jpg?s=128&g=1", "display_name": "mohd mazhar khan", "link": "https://stackoverflow.com/users/6254696/mohd-mazhar-khan"}, "edited": false, "score": 0, "creation_date": 1556666010, "post_id": 55835857, "comment_id": 98512997, "body": "Here&#39;s a good starting point. As soon as you learn the technique you can for sure mod the lib to what you need. Thanks"}], "tags": [], "owner": {"reputation": 630, "user_id": 5274180, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aKnK6.jpg?s=128&g=1", "display_name": "Merak Marey", "link": "https://stackoverflow.com/users/5274180/merak-marey"}, "is_accepted": true, "score": 4, "last_activity_date": 1556128219, "creation_date": 1556128219, "answer_id": 55835857, "question_id": 55736335, "link": "https://stackoverflow.com/questions/55736335/trying-to-make-epaper-dynamic-using-c-asp-net-web-form/55835857#55835857", "title": "Trying to make epaper dynamic using C# asp.net web form", "body": "<p>If you take a closer look at your desired result, you will see they have a single image, overlapped with divs. Those were manually defined, meaning for each image someone defined the are of the \"target\" and on click, a new window will open with only that area. Implementing this is relatively simple. An image inside a container, also inside the same container a bunch of divs with <code>position:relative</code>. Now, if what you want is all the process be done automatically I would suggest you to start looking into pattern recognition/machine learning.</p>\n"}], "owner": {"reputation": 452, "user_id": 6254696, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vAx1y.jpg?s=128&g=1", "display_name": "mohd mazhar khan", "link": "https://stackoverflow.com/users/6254696/mohd-mazhar-khan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 352, "favorite_count": 0, "accepted_answer_id": 55835857, "answer_count": 1, "score": 8, "last_activity_date": 1556599625, "creation_date": 1555537083, "last_edit_date": 1556599625, "question_id": 55736335, "link": "https://stackoverflow.com/questions/55736335/trying-to-make-epaper-dynamic-using-c-asp-net-web-form", "title": "Trying to make epaper dynamic using C# asp.net web form", "body": "<p>I have static e paper but i want to develop dynamic e-paper like below url</p>\n\n<p><a href=\"https://epaper.dawn.com/?page=15_04_2019_001\" rel=\"nofollow noreferrer\">https://epaper.dawn.com/?page=15_04_2019_001</a></p>\n\n<p>I have no idea to start e paper dynamic below is my whole html code</p>\n\n<pre><code>   &lt;!doctype html&gt;\n   &lt;html&gt;\n   &lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"&gt;\n  &lt;title&gt;q Times&lt;/title&gt;\n\n  &lt;link rel=\"stylesheet\" href=\"css/main.css\"&gt;\n  &lt;link href=\"https://www.jqueryscript.net/css/jquerysctipttop.css\" rel=\"stylesheet\" type=\"text/css\"&gt;\n   &lt;style&gt;\n  body { background-color: #fafafa; min-height: 100vh;}\n .container { margin: 200px auto; max-width: 600px; }\n  &lt;/style&gt;\n\n &lt;script src=\"jquery.min.js\"&gt;&lt;/script&gt;\n\n &lt;script src=\"jquery.maphilight.min.js\"&gt;&lt;/script&gt;\n\n &lt;script&gt;\n\n    $(document).ready(function () {\n    $(\"#prev-img,\").click(function () {\n    //alert($('#show-img').attr('src'));\n    var x=$('#show-img').attr('src');\n    if(x=='images/1.jpg')\n    {\n     document.getElementById(\"show-img\").useMap=\"#enewspaper\"\n\n    }\n    else if(x=='images/2.jpg')\n    {\n    document.getElementById(\"show-img\").useMap=\"#enewspaper1\"\n\n    }           \n   });\n\n\n\n      })\n     &lt;/script&gt;\n\n\n     &lt;script&gt;\n\n     $(document).ready(function () {\n     $(\"#next-img,\").click(function () {\n    //alert($('#show-img').attr('src'));\n    var x=$('#show-img').attr('src');\n    if(x=='images/1.jpg')\n    {\n    document.getElementById(\"show-img\").useMap=\"#enewspaper\"\n\n    }\n    else if(x=='images/2.jpg')\n    {\n    document.getElementById(\"show-img\").useMap=\"#enewspaper1\"\n\n    }   \n\n    });\n\n\n\n    })\n      &lt;/script&gt;\n     &lt;script type=\"text/javascript\"&gt;\n    $(function () {\n        $(\".map\").maphilight()\n        $(\".icon-right,.icon-left,#small-img-roll img\").click(\n            function () {\n                $(\"div.map img\").css(\"opacity\", 1);\n                $(\".map\").maphilight()\n                &lt;!--var x = document.getElementById(\"1\").useMap = \"#enewspaper\";  --&gt;\n\n                 var value = $(this).attr(\"usemap\")\n\n                   if(value==1)\n                   {\n\n                 document.getElementById(\"show-img\").useMap=\"#enewspaper\"\n\n                var x = document.getElementById(\"show-img\").useMap;\n\n                  $(\".map\").maphilight()\n                   }\n                   else if(value==2)\n                   {\n\n                  document.getElementById(\"show-img\").useMap=\"#enewspaper1\"\n                    var x = document.getElementById(\"show-img\").useMap;\n\n                  $(\".map\").maphilight()\n                   }\n                   }\n\n\n                    )\n\n                   })\n\n\n                &lt;/script&gt;\n\n                 &lt;/head&gt;\n                 &lt;body&gt;\n\n                  &lt;div class=\"container\" style=\"margin-top:0px\"&gt;\n\n\n                 &lt;!--&lt;div class=\"show\" href=\"images/1.png\" usemap=\"#enewspaper\"&gt;--&gt;\n                 &lt;img src=\"images/1.jpg\" id=\"show-img\"  class=\"map\" usemap=\"#enewspaper\" &gt;\n                &lt;map name=\"enewspaper\"&gt;\n\n               &lt;area shape=\"rect\" alt=\"\" title=\"\" coords=\"34,136,562,221\" href=\"\" target=\"\" /&gt;\n               &lt;area shape=\"rect\" alt=\"\" title=\"\" coords=\"372,229,574,468\" href=\"www.google.com\" target=\"\" /&gt;\n              &lt;area shape=\"rect\" alt=\"\" title=\"\" coords=\"104,227,368,469\" href=\"www.fb.com\" target=\"_New\" /&gt;\n              &lt;area shape=\"rect\" alt=\"\" title=\"\" coords=\"105,472,230,677\" href=\"www.kk.com\" target=\"\" /&gt;\n               &lt;/map&gt;\n\n               &lt;map name=\"enewspaper1\"&gt;\n               &lt;area shape=\"rect\" alt=\"\" title=\"\" coords=\"34,136,562,221\" href=\"\" target=\"\" /&gt;\n\n               &lt;/map&gt;\n\n              &lt;div class=\"small-img\"&gt;\n              &lt;img src=\"images/online_icon_right@2x.png\" class=\"icon-left\" alt=\"\" id=\"prev-img\"&gt;\n             &lt;div class=\"small-container\"&gt;\n             &lt;div id=\"small-img-roll\"&gt;\n\n\n            &lt;img src=\"images/1.jpg\" class=\"show-small-img\" alt=\"1\" usemap=\"1\"&gt;\n            &lt;img src=\"images/2.jpg\" class=\"show-small-img\" alt=\"2\" usemap=\"2\"&gt;\n\n           &lt;/div&gt;\n           &lt;/div&gt;\n           &lt;img src=\"images/online_icon_right@2x.png\" class=\"icon-right\" alt=\"\" id=\"next-img\"&gt;\n          &lt;/div&gt;\n\n         &lt;/div&gt;\n\n\n\n            &lt;/div&gt;\n             &lt;script src=\"scripts/zoom-image.js\"&gt;&lt;/script&gt;\n           &lt;script src=\"scripts/main.js\"&gt;&lt;/script&gt;\n\n\n           &lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>i am not getting any idea to implement dynamic, i have to take repeater control or grid view control to achieve dynamic e paper. How to handle MAP and image redirection.</p>\n"}, {"tags": ["javascript", "go", "base64"], "comments": [{"owner": {"reputation": 7788, "user_id": 1218512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f40bbe64fcdaa806d999fe25dffc0690?s=128&d=identicon&r=PG", "display_name": "colm.anseo", "link": "https://stackoverflow.com/users/1218512/colm-anseo"}, "edited": false, "score": 0, "creation_date": 1555538215, "post_id": 55736273, "comment_id": 98151085, "body": "Your go code is correct. So the problem is on the JS side."}], "answers": [{"comments": [{"owner": {"reputation": 237, "user_id": 3018333, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/52f10dd1e704848b5c32776fd2bfe033?s=128&d=identicon&r=PG&f=1", "display_name": "imran", "link": "https://stackoverflow.com/users/3018333/imran"}, "edited": false, "score": 2, "creation_date": 1555545164, "post_id": 55736719, "comment_id": 98152580, "body": "And what is the solution then?"}], "tags": [], "owner": {"reputation": 7788, "user_id": 1218512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f40bbe64fcdaa806d999fe25dffc0690?s=128&d=identicon&r=PG", "display_name": "colm.anseo", "link": "https://stackoverflow.com/users/1218512/colm-anseo"}, "is_accepted": false, "score": 2, "last_activity_date": 1555544578, "last_edit_date": 1555544578, "creation_date": 1555539598, "answer_id": 55736719, "question_id": 55736273, "link": "https://stackoverflow.com/questions/55736273/go-and-node-js-base64-encoding-decoding-problems/55736719#55736719", "title": "Go and Node.js base64 encoding, decoding problems", "body": "<p>From: <a href=\"https://github.com/ricmoo/aes-js/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/ricmoo/aes-js/blob/master/README.md</a></p>\n\n<p><code>UTF8 should NOT be used to store arbitrary binary data as it is a string encoding format, not a binary encoding format</code></p>\n\n<p>So don't used utf8 related functions to convert raw (non utf8) binary data.</p>\n"}, {"comments": [{"owner": {"reputation": 237, "user_id": 3018333, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/52f10dd1e704848b5c32776fd2bfe033?s=128&d=identicon&r=PG&f=1", "display_name": "imran", "link": "https://stackoverflow.com/users/3018333/imran"}, "edited": false, "score": 0, "creation_date": 1555577136, "post_id": 55739143, "comment_id": 98161534, "body": "This works for proper UTF8 strings, so I will mark it as correct. Unfortunately, it does not solve my problem, which was not in scope here though: My data that gets encoded is binary (result of an encryption), and I think here the comment of @colminator might apply"}], "tags": [], "owner": {"reputation": 5565, "user_id": 3915, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ccd658bdf42cb1145386e10bf3da116a?s=128&d=identicon&r=PG", "display_name": "Mark", "link": "https://stackoverflow.com/users/3915/mark"}, "is_accepted": true, "score": 0, "last_activity_date": 1555561606, "creation_date": 1555561606, "answer_id": 55739143, "question_id": 55736273, "link": "https://stackoverflow.com/questions/55736273/go-and-node-js-base64-encoding-decoding-problems/55739143#55739143", "title": "Go and Node.js base64 encoding, decoding problems", "body": "<p>In Go, strings are UTF8:</p>\n\n<pre><code>in := \"Good afternoon, or \u3053\u3093\u306b\u3061\u306f\"\nbuf := []byte(in)\nstr := base64.StdEncoding.EncodeToString(buf)\nfmt.Println(str)\n</code></pre>\n\n<p>That prints the base64 encoded (ASCII safe) representation:\n<code>R29vZCBhZnRlcm5vb24sIG9yIOOBk+OCk+OBq+OBoeOBrw==</code></p>\n\n<p>JS strings are UTF-16. So you need to both decode from base64 and convert from utf8 to utf-16. You could use a library, or a helper function, for example:</p>\n\n<pre><code>function b64DecodeUnicode(str) {\n    return decodeURIComponent(atob(str).split('').map(function(c) {\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\n    }).join(''));\n}\n\nvar str = \"R29vZCBhZnRlcm5vb24sIG9yIOOBk+OCk+OBq+OBoeOBrw==\";\nvar result = b64DecodeUnicode(str);\n\"Good afternoon, or \u3053\u3093\u306b\u3061\u306f\"\n</code></pre>\n\n<p><a href=\"https://stackoverflow.com/a/30106551/3915\">The b64DecodeUnicode() function is copied from this answer, see also the link to MDN for detailed info</a>.</p>\n"}], "owner": {"reputation": 237, "user_id": 3018333, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/52f10dd1e704848b5c32776fd2bfe033?s=128&d=identicon&r=PG&f=1", "display_name": "imran", "link": "https://stackoverflow.com/users/3018333/imran"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 818, "favorite_count": 0, "accepted_answer_id": 55739143, "answer_count": 2, "score": 0, "last_activity_date": 1555561606, "creation_date": 1555536748, "last_edit_date": 1555545080, "question_id": 55736273, "link": "https://stackoverflow.com/questions/55736273/go-and-node-js-base64-encoding-decoding-problems", "title": "Go and Node.js base64 encoding, decoding problems", "body": "<p>I am base64 encoding a string in Go</p>\n\n<p>Then decoding in javascript (I have tried 3 different methods) </p>\n\n<p>I cannot get the javascript result to match the original Go string</p>\n\n<p><strong>Go (encode)</strong></p>\n\n<pre><code>a := []byte {138,143,163,224,178,73,161,15,240,121,53,192,198,182,52,245}\nfmt.Println(\"a\", string(a), a, len(a))\nb := base64.StdEncoding.EncodeToString(a)\nfmt.Println(\"b\", b, []byte(b), len([]byte(b)))\n</code></pre>\n\n<p><strong>js (decode)</strong></p>\n\n<pre><code> const b = [105,111,43,106,52,76,74,74,111,81,47,119,101,84,88,65,120,114,89,48,57,81,61,61];\n let bString = aesjs.utils.utf8.fromBytes(b);\n console.log(\"b\", bString, b, b.length);\n\n let a1String = atob(bString);\n let a2String = Base64.decode(bString);\n let a3String = Buffer.from(bString, 'base64').toString('utf8');\n let a1 = aesjs.utils.utf8.toBytes(a1String);\n let a2 = aesjs.utils.utf8.toBytes(a2String);\n let a3 = aesjs.utils.utf8.toBytes(a3String);\n console.log(\"a\", a1, a1.length, a2, a2.length, a3, a3.length);\n</code></pre>\n\n<p>All 3 methods fail, i.e. a1 != a, a2 != a, a3 != a</p>\n\n<p>I assumed base64 encoding/decoding would be simple</p>\n\n<p>What am I missing? Thanks</p>\n\n<p>EDIT: The js code had a 'typo' - but the problem remains, that ai != a, even a1 != a2 == a3</p>\n\n<p><strong>EDIT: If the original a is simple, then everything works.</strong> But when a contains non-printable chars, I cannot decode in js\nExample where it works:\na := []byte {65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65}\nHere it does not works:\na := []byte {138, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65, 65}</p>\n"}, {"tags": ["javascript", "apexcharts"], "answers": [{"comments": [{"owner": {"reputation": 143, "user_id": 2669023, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da12070dcbd7ed2f9eb356e97c3c985b?s=128&d=identicon&r=PG", "display_name": "Aurelien B", "link": "https://stackoverflow.com/users/2669023/aurelien-b"}, "edited": false, "score": 0, "creation_date": 1593922369, "post_id": 55744572, "comment_id": 110943367, "body": "WOW exactly what I was looking for!"}], "tags": [], "owner": {"reputation": 2407, "user_id": 1247864, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/3644a9e755903fe118071b88d08d4c5a?s=128&d=identicon&r=PG", "display_name": "junedchhipa", "link": "https://stackoverflow.com/users/1247864/junedchhipa"}, "is_accepted": true, "score": 7, "last_activity_date": 1579657910, "last_edit_date": 1579657910, "creation_date": 1555584993, "answer_id": 55744572, "question_id": 55736246, "link": "https://stackoverflow.com/questions/55736246/apexcharts-force-100-height/55744572#55744572", "title": "ApexCharts force 100% height", "body": "<p>If you don't need x-axis, y-axis to be displayed, you can turn on the <code>sparkline.enabled</code> flag to remove all unnecessary spaces above and below chart area</p>\n\n<pre><code>chart: {\n   sparkline: {\n      enabled: true\n   }\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 9441745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aada8e9ee988734393477710294df75?s=128&d=identicon&r=PG&f=1", "display_name": "Gabriela", "link": "https://stackoverflow.com/users/9441745/gabriela"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4090, "favorite_count": 0, "accepted_answer_id": 55744572, "answer_count": 1, "score": 1, "last_activity_date": 1579657910, "creation_date": 1555536610, "question_id": 55736246, "link": "https://stackoverflow.com/questions/55736246/apexcharts-force-100-height", "title": "ApexCharts force 100% height", "body": "<p>I've been struggling with this problem for a while, I need to have the 100% graphic at the <code>height</code> of your container.</p>\n\n<p>To weights that I indicate to him that his height: '100%' still follows with spaces above and below, tabiem I gave <code>false</code> value to <code>yaxis</code> but still the problem persists.</p>\n\n<p>Someone who can solve it would appreciate it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var options = {\r\n  chart: {\r\n    type: 'line',\r\n    width: '100%',\r\n    height: '100%',\r\n    toolbar: {\r\n      show: false\r\n    },\r\n  },\r\n  grid: {\r\n    show: false,\r\n    padding: {\r\n      left: 0,\r\n      right: 0\r\n    }\r\n  },\r\n  tooltip: {\r\n    intersect: false,\r\n    x: {\r\n      show: false\r\n    },\r\n    marker: {\r\n      show: false\r\n    }\r\n  },\r\n  dataLabels: {\r\n          enabled: false\r\n        },\r\n  yaxis: {\r\n    show: false,\r\n  },\r\n  xaxis: {\r\n    tooltip: {\r\n      enabled: false\r\n    },\r\n    labels: {\r\n      show: false\r\n    },\r\n    axisBorder: {\r\n      show: false\r\n    }\r\n  },\r\n  \r\n\r\n  series: [{\r\n    name: 'sales',\r\n    data: [30,40,35,50,49,60,70,91,125]\r\n  }]\r\n}\r\n\r\nvar chart = new ApexCharts(document.querySelector(\"#chart\"), options);\r\n\r\nchart.render();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#chart{\r\n  width: 500px;\r\n  height: 200px;\r\n  border: 1px solid #000;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/apexcharts\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"chart\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "mongodb", "mongoose"], "answers": [{"tags": [], "owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "is_accepted": false, "score": 1, "last_activity_date": 1555537190, "creation_date": 1555537190, "answer_id": 55736362, "question_id": 55736245, "link": "https://stackoverflow.com/questions/55736245/merge-two-arrays-of-objects-by-value-returned-from-mongodb/55736362#55736362", "title": "Merge two arrays of Objects by value returned from MongoDB", "body": "<p>One possible solution is to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">Array.map()</a> over <code>array1</code> and get the related <code>info</code> data from the <code>array2</code> with <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\">Array.find()</a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const array1 = [\r\n  {_id: '5c6c7132f9bf4bdab9c906ff', user: '5c65d9438e4a834c8e85dd7d'},\r\n  {_id: '5c6ccd6d3a0dc4e4951c2bee', user: '5c65d9438e4a834c8e85dd7e'}\r\n];\r\n\r\nconst array2 = [\r\n  {\r\n    _id: '5c65d9438e4a834c8e85dd7d',\r\n    info: { name: 'John', city: 'New York' }\r\n  },\r\n  {\r\n    _id: '5c65d9438e4a834c8e85dd7e',\r\n    info: { name: 'Paneer', city: 'San Fran' }\r\n  }\r\n];\r\n\r\nlet merged = array1.map(\r\n    o =&gt; ({...o, info: array2.find(({_id}) =&gt; _id === o.user).info})\r\n);\r\n\r\nconsole.log(merged);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console {background-color:black !important; color:lime;}\r\n.as-console-wrapper {max-height:100% !important; top:0;}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 856, "user_id": 9915931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edd7de19aa6d17ad6f32160e7f46b1cb?s=128&d=identicon&r=PG&f=1", "display_name": "bzlight", "link": "https://stackoverflow.com/users/9915931/bzlight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555537190, "creation_date": 1555536600, "question_id": 55736245, "link": "https://stackoverflow.com/questions/55736245/merge-two-arrays-of-objects-by-value-returned-from-mongodb", "title": "Merge two arrays of Objects by value returned from MongoDB", "body": "<p><strong><em>Problem</em></strong></p>\n\n<p>I need to merge two arrays that are returned from MongoDB by value, however all of the methods I've tried that work with regular javascript arrays aren't working properly.  Your help would be greatly appreciated </p>\n\n<p><strong><em>Arrays</em></strong></p>\n\n<pre><code>array1 = [ { _id: 5c6c7132f9bf4bdab9c906ff,\n    user: 5c65d9438e4a834c8e85dd7d },\n  { _id: 5c6ccd6d3a0dc4e4951c2bee,\n    user: 5c65d9438e4a834c8e85dd7e } ]\n\narray2 = users [ { _id: 5c65d9438e4a834c8e85dd7d,\n    info: { name: 'John', city: 'New York' } },\n  { _id: 5c65d9438e4a834c8e85dd7e,\n    info: { name: 'Paneer', city: 'San Fran' } } ]\n</code></pre>\n\n<p><strong><em>Desired Result</em></strong></p>\n\n<pre><code>mergedArray = [ { _id: 5c6c7132f9bf4bdab9c906ff,\n    user: 5c65d9438e4a834c8e85dd7d,\n    info: { name: 'John', city: 'New York' } } ,\n  { _id: 5c6ccd6d3a0dc4e4951c2bee,\n    user: 5c65d9438e4a834c8e85dd7e, \n    info: { name: 'Paneer', city: 'San Fran' } } ]\n</code></pre>\n\n<p><strong><em>What I've tried</em></strong></p>\n\n<ol>\n<li>_.merge from lodash</li>\n<li>_.map &amp; _.extend from lodash</li>\n<li>A variety of vanilla javascript .map functions that</li>\n</ol>\n"}, {"tags": ["javascript", "html", "data-binding", "knockout.js"], "comments": [{"owner": {"reputation": 7054, "user_id": 251614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/38692d14d2da39a90bc404b30c530b1e?s=128&d=identicon&r=PG", "display_name": "Homer", "link": "https://stackoverflow.com/users/251614/homer"}, "edited": false, "score": 0, "creation_date": 1555599533, "post_id": 55736240, "comment_id": 98174273, "body": "What do you mean &quot;the content retrieved from the html&quot;? Is there an <code>input</code> box in the <code>li</code>?"}, {"owner": {"reputation": 157, "user_id": 10845238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1654e5c12d54b6ebd9ab2f9d64fe368?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Elewa", "link": "https://stackoverflow.com/users/10845238/omar-elewa"}, "reply_to_user": {"reputation": 7054, "user_id": 251614, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/38692d14d2da39a90bc404b30c530b1e?s=128&d=identicon&r=PG", "display_name": "Homer", "link": "https://stackoverflow.com/users/251614/homer"}, "edited": false, "score": 0, "creation_date": 1555622470, "post_id": 55736240, "comment_id": 98184112, "body": "No I meant the content that I want to retrieve from the html dom element. Sorry for the language."}], "answers": [{"tags": [], "owner": {"reputation": 4224, "user_id": 1922611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RSD8r.jpg?s=128&g=1", "display_name": "Jason Spake", "link": "https://stackoverflow.com/users/1922611/jason-spake"}, "is_accepted": true, "score": 2, "last_activity_date": 1555602050, "creation_date": 1555602050, "answer_id": 55749509, "question_id": 55736240, "link": "https://stackoverflow.com/questions/55736240/how-to-get-the-dom-element-as-an-argument-using-data-bind-attribute-knockout-t/55749509#55749509", "title": "How to get the dom element as an argument using data-bind attribute - knockout to manipulate with in my javascript code?", "body": "<p>The second argument in a click handler will be the click event. From that you can get the target element and its associated content.</p>\n\n<p><a href=\"https://knockoutjs.com/documentation/click-binding.html\" rel=\"nofollow noreferrer\">https://knockoutjs.com/documentation/click-binding.html</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var MapProcess = function() {\r\n  this.titleClick = function(data, event) {\r\n    console.log(event.target.textContent);\r\n  }\r\n}\r\n\r\nko.applyBindings(new MapProcess());</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/knockout/3.4.2/knockout-min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;ul&gt;\r\n  &lt;li data-bind='click: titleClick'&gt;(CONTENT)&lt;/li&gt;\r\n&lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 157, "user_id": 10845238, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c1654e5c12d54b6ebd9ab2f9d64fe368?s=128&d=identicon&r=PG&f=1", "display_name": "Omar Elewa", "link": "https://stackoverflow.com/users/10845238/omar-elewa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 55749509, "answer_count": 1, "score": 0, "last_activity_date": 1555701728, "creation_date": 1555536573, "last_edit_date": 1555701728, "question_id": 55736240, "link": "https://stackoverflow.com/questions/55736240/how-to-get-the-dom-element-as-an-argument-using-data-bind-attribute-knockout-t", "title": "How to get the dom element as an argument using data-bind attribute - knockout to manipulate with in my javascript code?", "body": "<p>I want to pass the content of an li element as an argument to my function while using data-bind attribute, click method. \nFor example</p>\n\n<pre><code> &lt;ul&gt;\n     &lt;li data-bind='click: titleClick(argument)'&gt;(CONTENT)&lt;/li&gt;\n &lt;/ul&gt;\n</code></pre>\n\n<p>What to put instead of argument to pass (CONTENT) to my titleClick function?\nThis is my processing in the js file</p>\n\n<pre><code>var MapProcess = function(){\n    this.titleClick = function(titleName){\n        for (var i = 0; i&lt;model.markers.length; i++){\n            if (titleName == model.markers[i].title){\n                var infoWindow = new google.maps.InfoWindow({          \n                });\n                infoWindow.setContent(model.markers[i].buborek)\n                infoWindow.open(map, model.markers[i]);\n                break;\n            };\n        };\n    };\n};\n</code></pre>\n\n<p>I want the parameter titleName in my function above to equal the content retrieved from the html.</p>\n\n<p>Thanks in advance. </p>\n"}, {"tags": ["javascript", "html", "dom"], "comments": [{"owner": {"reputation": 6198, "user_id": 2020002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t9iFY.jpg?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/2020002/derek-pollard"}, "edited": false, "score": 0, "creation_date": 1555536611, "post_id": 55736180, "comment_id": 98150575, "body": "Your code has an error: <i>Uncaught ReferenceError: url is not defined</i>"}, {"owner": {"reputation": 11, "user_id": 9202655, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WMqV68nuw3U/AAAAAAAAAAI/AAAAAAAACSo/FbXYOIKatI4/photo.jpg?sz=128", "display_name": "Black Mamba", "link": "https://stackoverflow.com/users/9202655/black-mamba"}, "reply_to_user": {"reputation": 6198, "user_id": 2020002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t9iFY.jpg?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/2020002/derek-pollard"}, "edited": false, "score": 0, "creation_date": 1555536754, "post_id": 55736180, "comment_id": 98150624, "body": "yeah i find the same and still it doesnt run correctly"}], "answers": [{"comments": [{"owner": {"reputation": 6198, "user_id": 2020002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t9iFY.jpg?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/2020002/derek-pollard"}, "edited": false, "score": 1, "creation_date": 1555536441, "post_id": 55736194, "comment_id": 98150519, "body": "Ironically, if OP hadn&#39;t have over-written &quot;open&quot;, wouldn&#39;t it have defaulted to <code>window.open</code> ?"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 6198, "user_id": 2020002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t9iFY.jpg?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/2020002/derek-pollard"}, "edited": false, "score": 1, "creation_date": 1555537815, "post_id": 55736194, "comment_id": 98150952, "body": "I agree @DerekPollard."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 0, "last_activity_date": 1555536334, "creation_date": 1555536334, "answer_id": 55736194, "question_id": 55736180, "link": "https://stackoverflow.com/questions/55736180/how-to-use-the-window-location/55736194#55736194", "title": "How to use the window location", "body": "<p>Use <code>window.open</code>:</p>\n\n<pre><code>function open(url) {\n    var win = window.open(url, \"_blank\");\n    win.focus();\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 6198, "user_id": 2020002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t9iFY.jpg?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/2020002/derek-pollard"}, "is_accepted": false, "score": 0, "last_activity_date": 1555536874, "creation_date": 1555536874, "answer_id": 55736297, "question_id": 55736180, "link": "https://stackoverflow.com/questions/55736180/how-to-use-the-window-location/55736297#55736297", "title": "How to use the window location", "body": "<p>The problem is that you're passing in an unknown variable, called <em>url</em>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function open(url) {\r\n  var win = window.location(url, '_blank');\r\n  win.focus();\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form&gt;\r\n  Give Url:&lt;br&gt;\r\n  &lt;input id=\"url\" type=\"url\" name=\"url\" placeholder=\"http://www.example.com\"&gt;&lt;br&gt;\r\n&lt;/form&gt;\r\n&lt;button type=\"button\" onclick=\"open(document.getElementById('url').value)\"&gt;Open Url&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In my snippet, I am passing the value of the input element with the ID of <code>url</code></p>\n"}, {"comments": [{"owner": {"reputation": 6198, "user_id": 2020002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t9iFY.jpg?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/2020002/derek-pollard"}, "edited": false, "score": 0, "creation_date": 1555537154, "post_id": 55736313, "comment_id": 98150758, "body": "It is always ironic to me that for so long we were told to separate Javascript and HTML, then react and vue come along and blow that all to shreds"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 6198, "user_id": 2020002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t9iFY.jpg?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/2020002/derek-pollard"}, "edited": false, "score": 0, "creation_date": 1555537393, "post_id": 55736313, "comment_id": 98150837, "body": "@DerekPollard That&#39;s not true at all. You are comparing apples and oranges. When we talk about not putting inline event attributes into HTML, we&#39;re talking about the final code that will be executed. When you talk about the practice in frameworks, that&#39;s not the code that actually gets executed. That code is converted into other code by the framework first. This is well-documented."}, {"owner": {"reputation": 6198, "user_id": 2020002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t9iFY.jpg?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/2020002/derek-pollard"}, "edited": false, "score": 1, "creation_date": 1555537591, "post_id": 55736313, "comment_id": 98150895, "body": "Not at all apples to oranges, both are maintained by developers - which is where the fallacy that this was bad came from, the final product matters very little. My point being, the concepts don&#39;t hold water when it comes to implementation because, as we can see with react and vue, it makes development easier and quicker."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 6198, "user_id": 2020002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t9iFY.jpg?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/2020002/derek-pollard"}, "edited": false, "score": 0, "creation_date": 1555538614, "post_id": 55736313, "comment_id": 98151181, "body": "@DerekPollard And the debate rages on. One is code that will be executed and one is code that will turned into something else. One is an environment where you have a choice on how to do it and one is an environment where you don&#39;t. And with HTML, you can get different results depending on which way you go - - it&#39;s not a purely stylistic choice."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": false, "score": 0, "last_activity_date": 1555537175, "last_edit_date": 1555537175, "creation_date": 1555536962, "answer_id": 55736313, "question_id": 55736180, "link": "https://stackoverflow.com/questions/55736180/how-to-use-the-window-location/55736313#55736313", "title": "How to use the window location", "body": "<p>You're not submitting any form data anywhere, so you don't need a <code>form</code> element and your <code>input</code> doesn't need a <code>name</code> attribute.</p>\n\n<p>Just call <code>window.open(url)</code> and <a href=\"https://stackoverflow.com/questions/43459890/javascript-function-doesnt-work-when-link-is-clicked/43459991#43459991\">you should not be setting up your event handlers in HTML</a> (even though you see everyone else do it).</p>\n\n<p>The code below works, but not here in the Stack Overflow code snippet environment. <a href=\"https://jsfiddle.net/1muh9scw/\" rel=\"nofollow noreferrer\">But, you can test the same code here.</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let tb = document.querySelector(\"input\"); // Get a reference to the textbox\r\n\r\n// Get a reference to the button and set up the click event handler for it\r\ndocument.querySelector(\"button\").addEventListener(\"click\", function () {\r\n  var win = window.open(tb.value);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Give Url:&lt;br&gt;\r\n&lt;input type=\"url\" placeholder=\"http://www.example.com\"&gt;&lt;br&gt;\r\n&lt;button type=\"button\"&gt;Open Url&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 9202655, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WMqV68nuw3U/AAAAAAAAAAI/AAAAAAAACSo/FbXYOIKatI4/photo.jpg?sz=128", "display_name": "Black Mamba", "link": "https://stackoverflow.com/users/9202655/black-mamba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 42, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1555537175, "creation_date": 1555536227, "last_edit_date": 1555536564, "question_id": 55736180, "link": "https://stackoverflow.com/questions/55736180/how-to-use-the-window-location", "title": "How to use the window location", "body": "<p>So i wanna create a form with a textbox and a button that on click opens the url that i type inside the textbox,any advice on how to use a function to make it work?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function open(url) {\r\n  var win = window.location(url, '_blank');\r\n  win.focus();\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form&gt;\r\n  Give Url:&lt;br&gt;\r\n  &lt;input type=\"url\" name=\"url\" placeholder=\"http://www.example.com\"&gt;&lt;br&gt;\r\n&lt;/form&gt;\r\n&lt;button type=\"button\" onclick=\"open(url)\"&gt;Open Url&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "vue.js", "components", "pug"], "answers": [{"tags": [], "owner": {"reputation": 2694, "user_id": 3956205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42aff84cfa87f92797cb54bdea6d0c20?s=128&d=identicon&r=PG", "display_name": "BTL", "link": "https://stackoverflow.com/users/3956205/btl"}, "is_accepted": false, "score": 1, "last_activity_date": 1555541731, "creation_date": 1555541731, "answer_id": 55737017, "question_id": 55736157, "link": "https://stackoverflow.com/questions/55736157/vue-component-property-undefined/55737017#55737017", "title": "Vue component property undefined", "body": "<p>You can do : </p>\n\n<pre><code>&lt;template lang=\"pug\"&gt;\n.mycomponent\n  p {{ data }}\n  ul(v-if=\"data !== undefined\")\n    li(v-for=\"(val, index) in data\") {{ val }} : {{ index }}\n&lt;/template&gt;\n</code></pre>\n"}], "owner": {"reputation": 581, "user_id": 788715, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/937693f5a178b25b037067be9bca17cd?s=128&d=identicon&r=PG", "display_name": "GameKyuubi", "link": "https://stackoverflow.com/users/788715/gamekyuubi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555541731, "creation_date": 1555536120, "question_id": 55736157, "link": "https://stackoverflow.com/questions/55736157/vue-component-property-undefined", "title": "Vue component property undefined", "body": "<p>I'm pretty new to Vue.  I have an AJAX request that occurs at an interval and updates an object that is used in my Pug template.  When the data is referenced alone with the double curly brackets it shows up fine, but when it's used in something like a for each loop it is undefined and breaks the component.</p>\n\n<pre><code>&lt;template lang=\"pug\"&gt;\n.mycomponent\n  p {{ data }}  &lt;- this reference to data works fine\n  if data != undefined &lt;- this reference to data is undefined\n    each val, index in data\n      li= val + ': ' + index\n&lt;/template&gt;\n</code></pre>\n\n<p>To set data, I'm doing this:</p>\n\n<pre><code>mounted () {\n  setInterval(() =&gt; {\n    axios.get('http://localhost:3000/api/info')\n      .catch((error) =&gt; console.log(error.request))\n      .then(response =&gt; {\n        this.data = response.data\n      })\n  },\n  3000)\n},\n</code></pre>\n\n<p>Why is data undefined?</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 1, "creation_date": 1555536396, "post_id": 55736143, "comment_id": 98150502, "body": "no clue what the whoel comma thing is at the start but like this : array[i].split(&#39;\\n&#39;).forEach((numberString)=&gt;{html+=&quot;&lt;tr&gt;&lt;td&zwnj;&#8203;&gt;&quot;+numberString+&quot;&lt;/t&zwnj;&#8203;d&gt;&lt;/tr&gt;&quot;}) basically split at \\n and add all entries to html (kinda weird since you already used the split function a few lines before that oO)"}, {"owner": {"reputation": 11, "user_id": 11376036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd493f12195138078fe882ffbd7e0fdb?s=128&d=identicon&r=PG&f=1", "display_name": "nro2", "link": "https://stackoverflow.com/users/11376036/nro2"}, "reply_to_user": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1555537359, "post_id": 55736143, "comment_id": 98150829, "body": "I forgot to mention that there are inputs that are comma separated as well.  It must work for both.  I added the previous inputs that worked successfully in the beginning of the post for clarification.  Thank you for your suggestion!"}, {"owner": {"reputation": 1548, "user_id": 8319683, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LBugp.jpg?s=128&g=1", "display_name": "Shim-Sao", "link": "https://stackoverflow.com/users/8319683/shim-sao"}, "edited": false, "score": 0, "creation_date": 1555537990, "post_id": 55736143, "comment_id": 98151016, "body": "I think the right order is <code>split \\n</code> after <code>split ,</code> and take the first index =&gt; 1.1, 2.1, 3.1..."}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 11376036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd493f12195138078fe882ffbd7e0fdb?s=128&d=identicon&r=PG&f=1", "display_name": "nro2", "link": "https://stackoverflow.com/users/11376036/nro2"}, "edited": false, "score": 0, "creation_date": 1555539439, "post_id": 55736295, "comment_id": 98151379, "body": "There is comma separated input as well, so this won&#39;t work.  I edited my original post to show previously entered input.  Thank you though!"}], "tags": [], "owner": {"reputation": 292, "user_id": 11302100, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ff9LY.jpg?s=128&g=1", "display_name": "Nijat Aliyev", "link": "https://stackoverflow.com/users/11302100/nijat-aliyev"}, "is_accepted": false, "score": 0, "last_activity_date": 1555536866, "creation_date": 1555536866, "answer_id": 55736295, "question_id": 55736143, "link": "https://stackoverflow.com/questions/55736143/looking-for-a-way-to-break-up-a-string-with-multiple-n-and-turn-it-into-innerht/55736295#55736295", "title": "Looking for a way to break up a string with multiple \\n and turn it into innerHTML", "body": "<p>Change \n<code>var array = strInput.split(\",\");</code> \nto\n<code>var array = strInput.split(\"\\n\");</code></p>\n"}], "owner": {"reputation": 11, "user_id": 11376036, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bd493f12195138078fe882ffbd7e0fdb?s=128&d=identicon&r=PG&f=1", "display_name": "nro2", "link": "https://stackoverflow.com/users/11376036/nro2"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556307544, "creation_date": 1555536060, "last_edit_date": 1556307544, "question_id": 55736143, "link": "https://stackoverflow.com/questions/55736143/looking-for-a-way-to-break-up-a-string-with-multiple-n-and-turn-it-into-innerht", "title": "Looking for a way to break up a string with multiple \\n and turn it into innerHTML", "body": "<p>I have been writing JavaScript since yesterday and am brand new at it.</p>\n\n<p>I have a string that I am breaking up and turning into input for a table.  The entries are separated by '\\n' like 'a\\nb', which indicates the need for a new row between a and b.  </p>\n\n<p>The current code that I have works for a single instance of '\\n', but it quit working when it was back to back entries, specifically \"1.1\\n2.1\\n3.1\\n4.1\\n\".  </p>\n\n<p>It has worked with other examples that are comma separated, such as \"a,b,c\\n1,2,3\", \"1.1,1.2,1.3,1.4,1.5\\n\", and \"1.1,1.2,1.3,1.4,1.5\\n2.1,2.2,2.3,2.4,2.5\\n3.1,3.2,3.3,3.4,3.5\\n4.1,4.2,4.3,4.4,4.5\\n\".  Because some inputs are comma separated, it must work with those as well as with the input that is separated by '\\n'.</p>\n\n<p>My method up to this point has been to split the string into an array, and then search the index of the array to see if it contains the '\\n'.  If it does, I split the array at the '\\n', and splice it with two entries instead of one.  I then set a variable indicating that I need to go to the next row, which moves into an if else if right below.</p>\n\n<pre><code>var functionCreate = function (strInput) {\n\n            var array = strInput.split(\",\");\n\n            var html = \"&lt;table border=1&gt;&lt;tr&gt;\";\n\n            for (var i = 0; i &lt; array.length; i++) {\n                var newL = false;\n                if (array[i].indexOf(\"\\n\") &gt;= 0) {\n                    newL = true;\n                    newStr = array[i].split(\"\\n\");\n                    array.splice(i, 1, newStr[0]);\n                    array.splice(i + 1, 0, newStr[1]);\n                }\n                if (newL === true) {\n                    html += \"&lt;td&gt;\" + array[i] + \"&lt;/td&gt;&lt;/tr&gt;\";\n                }\n                else if (array[i]) {\n                    html += \"&lt;td&gt;\" + array[i] + \"&lt;/td&gt;\"\n                }\n            }\n\n            html += \"&lt;/table&gt;\"\n            document.getElementById('output').innerHTML = html;\n</code></pre>\n\n<p>What I output currently is:</p>\n\n<pre><code>output: \"&lt;table border=\\\"1\\\"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;1.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;2.1&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;\"\n</code></pre>\n\n<p>And my expected is:</p>\n\n<pre><code>\"&lt;table border=\\\"1\\\"&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td&gt;1.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;2.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;3.1&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;4.1&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;\"\n</code></pre>\n\n<p>The 3.1 and 4.1 are getting cut off, which is understandable because I believe everything trailing the 2.1 is in i + 1 of newStr.  </p>\n\n<p>Does anyone have any idea how to get past this?  Is there a way to split it at only the first '\\n' and run the through the loop again until there are no more newlines?</p>\n"}, {"tags": ["javascript", "reactjs", "gradle"], "comments": [{"owner": {"reputation": 446, "user_id": 1815352, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/4jDYu.png?s=128&g=1", "display_name": "richardwhitney", "link": "https://stackoverflow.com/users/1815352/richardwhitney"}, "edited": false, "score": 0, "creation_date": 1555536373, "post_id": 55736133, "comment_id": 98150491, "body": "are you running gradle install or do you mean to run gralde install?"}, {"owner": {"reputation": 646, "user_id": 8246827, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-jle2fpBmktI/AAAAAAAAAAI/AAAAAAAAIMA/BLgTIn0PxtE/photo.jpg?sz=128", "display_name": "Omar Jandali", "link": "https://stackoverflow.com/users/8246827/omar-jandali"}, "reply_to_user": {"reputation": 446, "user_id": 1815352, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/4jDYu.png?s=128&g=1", "display_name": "richardwhitney", "link": "https://stackoverflow.com/users/1815352/richardwhitney"}, "edited": false, "score": 0, "creation_date": 1555536423, "post_id": 55736133, "comment_id": 98150510, "body": "I want to run <code>gradle install</code> within the directory"}, {"owner": {"reputation": 646, "user_id": 8246827, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-jle2fpBmktI/AAAAAAAAAAI/AAAAAAAAIMA/BLgTIn0PxtE/photo.jpg?sz=128", "display_name": "Omar Jandali", "link": "https://stackoverflow.com/users/8246827/omar-jandali"}, "reply_to_user": {"reputation": 446, "user_id": 1815352, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/4jDYu.png?s=128&g=1", "display_name": "richardwhitney", "link": "https://stackoverflow.com/users/1815352/richardwhitney"}, "edited": false, "score": 0, "creation_date": 1555536461, "post_id": 55736133, "comment_id": 98150526, "body": "my machine has gradle 5.4 installed through bew install gradle @richardwhitney"}, {"owner": {"reputation": 446, "user_id": 1815352, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/4jDYu.png?s=128&g=1", "display_name": "richardwhitney", "link": "https://stackoverflow.com/users/1815352/richardwhitney"}, "edited": false, "score": 0, "creation_date": 1555536478, "post_id": 55736133, "comment_id": 98150535, "body": "ok you had a typo in your title and in your request it read Gralde"}], "answers": [{"tags": [], "owner": {"reputation": 23991, "user_id": 4053652, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3zmU1.png?s=128&g=1", "display_name": "Stanislav", "link": "https://stackoverflow.com/users/4053652/stanislav"}, "is_accepted": false, "score": 0, "last_activity_date": 1555568582, "creation_date": 1555568582, "answer_id": 55740177, "question_id": 55736133, "link": "https://stackoverflow.com/questions/55736133/gradle-install-issue-with-id-org-grails-grails-plugin/55740177#55740177", "title": "Gradle Install Issue with id &#39;org.grails.grails-plugin&#39;", "body": "<p>Check the version of Gradle you are running with <code>gradle install</code>. It seems, it's not a 4.2.1 as it use to be, according to your <code>build.gradle</code> script. Look at this:</p>\n\n<pre><code>task wrapper(type: Wrapper) {\n    gradleVersion = '4.2.1'\n}\n</code></pre>\n\n<p>This is a configuration part for calling a <a href=\"https://docs.gradle.org/current/userguide/gradle_wrapper.html\" rel=\"nofollow noreferrer\">Gradle Wrapper</a> and usually tah means, that this script is adopted to run under exactly this version of Gradle.</p>\n\n<p>And the exception you've got, could mean, that you are running a newer version of Gradle, because even for 4.2.1 version of Gradle, property <code>classesDir</code> was deprecated, as it's said <a href=\"https://docs.gradle.org/4.2.1/dsl/org.gradle.api.tasks.SourceSetOutput.html#org.gradle.api.tasks.SourceSetOutput:classesDir\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>So you just need to run it withe Gradle version 4.2.1 or try to use a wrapper for that.</p>\n"}], "owner": {"reputation": 646, "user_id": 8246827, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-jle2fpBmktI/AAAAAAAAAAI/AAAAAAAAIMA/BLgTIn0PxtE/photo.jpg?sz=128", "display_name": "Omar Jandali", "link": "https://stackoverflow.com/users/8246827/omar-jandali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 813, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1555568582, "creation_date": 1555536011, "last_edit_date": 1555538194, "question_id": 55736133, "link": "https://stackoverflow.com/questions/55736133/gradle-install-issue-with-id-org-grails-grails-plugin", "title": "Gradle Install Issue with id &#39;org.grails.grails-plugin&#39;", "body": "<p>I am trying to run <code>gradle install</code> for setup on my mac. I have the following build.gradle file and I am getting an error like this:</p>\n\n<p>the error I am getting:</p>\n\n<pre><code>A problem occurred evaluating root project 'owf-auditing'.\n&gt; Failed to apply plugin [id 'org.grails.grails-plugin']\n   &gt; Could not get unknown property 'classesDir' for main classes of type org.gradle.api.internal.tasks.DefaultSourceSetOutput.\n</code></pre>\n\n<p>Here is the gradle.build file that i have. </p>\n\n<pre><code>buildscript {\n    ext {\n        grailsVersion = '3.3.2'\n        gormVersion = '6.1.8.RELEASE'\n    }\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        maven { url \"https://plugins.gradle.org/m2/\" }\n        maven { url 'https://repo.grails.org/grails/core' }\n        jcenter()\n    }\n    dependencies {\n        classpath group: 'io.spring.gradle', name: 'dependency-management-plugin', version: '1.0.4.RELEASE'\n\n        classpath group: 'org.grails', name: 'grails-gradle-plugin', version: grailsVersion\n    }\n}\n\n\ngroup 'org.ozoneplatform'\nversion '1.3.2-0'\n\n\napply plugin: 'io.spring.dependency-management'\n\napply plugin: 'idea'\napply plugin: 'maven'\napply plugin: 'java'\n\napply plugin: 'org.grails.grails-plugin'\napply plugin: 'org.grails.grails-plugin-publish'\n\n\nrepositories {\n    mavenLocal()\n    mavenCentral()\n    maven { url 'https://repo.grails.org/grails/core' }\n    maven { url 'http://repository.springsource.com/maven/bundles/release' }\n    maven { url 'http://repository.springsource.com/maven/bundles/external' }\n    maven { url 'https://packages.atlassian.com/3rdparty/' }\n}\n\ndependencyManagement {\n    imports {\n        mavenBom 'org.grails:grails-bom:' + grailsVersion\n        mavenBom 'org.ozoneplatform:ozone-classic-bom:7.17.2-0'\n    }\n\n    applyMavenExclusions false\n}\n\ndependencies {\n    // Spring Boot\n    provided group: 'org.springframework.boot', name: 'spring-boot-autoconfigure'\n    provided group: 'org.springframework.boot', name: 'spring-boot-starter-logging'\n\n    // Grails\n    compile group: 'org.grails', name: 'grails-core'\n\n    compile group: 'org.grails.plugins', name: 'hibernate5'\n    compile group: 'org.grails.plugins', name: 'quartz'\n\n    console group: 'org.grails', name: 'grails-console'\n\n    profile group: 'org.grails.profiles', name: 'plugin'\n\n    provided group: 'org.grails', name: 'grails-web-boot'\n    provided group: 'org.grails', name: 'grails-plugin-services'\n    provided group: 'org.grails', name: 'grails-plugin-domain-class'\n\n    testCompile group: 'org.grails', name: 'grails-plugin-testing'\n    testCompile group: 'org.grails', name: 'grails-gorm-testing-support'\n\n    // Other\n    compile group: 'org.hibernate', name: 'hibernate-core'\n\n    compile group: 'javax.servlet', name: 'javax.servlet-api'\n}\n\n\nbootRun {\n    jvmArgs('-Dspring.output.ansi.enabled=always')\n    addResources = true\n}\n\n\ntask wrapper(type: Wrapper) {\n    gradleVersion = '4.2.1'\n}\n</code></pre>\n\n<p>I am not sure why I am getting this error. I have the latest version of gradle. I installed it from their website and i also tried <code>brew install gradle</code>. Can anyone help me with this.</p>\n\n<p>it said the error is coming from the following line:</p>\n\n<p><code>org.grails.grails-plugin-publish</code></p>\n"}, {"tags": ["javascript", "arrays", "function", "object", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 5797, "user_id": 957186, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/GTIlv.jpg?s=128&g=1", "display_name": "klewis", "link": "https://stackoverflow.com/users/957186/klewis"}, "edited": false, "score": 0, "creation_date": 1555537886, "post_id": 55736170, "comment_id": 98150981, "body": "@klewis so the object is the <code>{ first: &quot;sneakers&quot; }</code> bit, that&#39;s returned from your function. With the <code>console.log</code> of the <code>[first, second, third]</code>, did you want them joined by spaces like <code>sneakers pants shirt</code>?"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 5797, "user_id": 957186, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/GTIlv.jpg?s=128&g=1", "display_name": "klewis", "link": "https://stackoverflow.com/users/957186/klewis"}, "edited": false, "score": 0, "creation_date": 1555537996, "post_id": 55736170, "comment_id": 98151019, "body": "@klewis I&#39;ve edited my answer, does it work for you now?"}, {"owner": {"reputation": 5797, "user_id": 957186, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/GTIlv.jpg?s=128&g=1", "display_name": "klewis", "link": "https://stackoverflow.com/users/957186/klewis"}, "edited": false, "score": 0, "creation_date": 1555538388, "post_id": 55736170, "comment_id": 98151122, "body": "ahh I understand now. I can always print to the console from within my function, rather than outside of it on every call.  Plus I didn&#39;t know about join.  Thank you Jack for the lesson on this!"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 5797, "user_id": 957186, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/GTIlv.jpg?s=128&g=1", "display_name": "klewis", "link": "https://stackoverflow.com/users/957186/klewis"}, "edited": false, "score": 0, "creation_date": 1555538410, "post_id": 55736170, "comment_id": 98151132, "body": "No problem @klewis, always glad to help."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": true, "score": 1, "last_activity_date": 1555537982, "last_edit_date": 1555537982, "creation_date": 1555536177, "answer_id": 55736170, "question_id": 55736115, "link": "https://stackoverflow.com/questions/55736115/object-destructing-with-paramaters-on-function/55736170#55736170", "title": "object destructing with paramaters on function", "body": "<p>Firstly, change your function to use object destructuring. Then use a simple <code>console.log</code> statement inside the function:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function myClothes({first, second, third}) {\r\n  console.log([first, second, third].join(\" \"));\r\n  return {\r\n    first: first,\r\n    second: second,\r\n    third: third\r\n  }\r\n}\r\n\r\nconsole.log(myClothes({\r\n  ['first']:'sneakers',\r\n  ['second']:'pants',\r\n  ['third']:'shirt'\r\n}));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: auto; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5797, "user_id": 957186, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/GTIlv.jpg?s=128&g=1", "display_name": "klewis", "link": "https://stackoverflow.com/users/957186/klewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 23, "favorite_count": 0, "accepted_answer_id": 55736170, "answer_count": 1, "score": 0, "last_activity_date": 1555539261, "creation_date": 1555535906, "last_edit_date": 1555539261, "question_id": 55736115, "link": "https://stackoverflow.com/questions/55736115/object-destructing-with-paramaters-on-function", "title": "object destructing with paramaters on function", "body": "<p>If I have the following ES6 method:</p>\n\n<pre><code>function myClothes([first, second, third]) {\n  return {\n    first: first,\n    second: second,\n    third: third\n  }\n} \n</code></pre>\n\n<p>How do I print out \"sneakers pants shirt\" in my console window? I have tried the following but I am still short of a solution:</p>\n\n<pre><code>console.log(myClothes({\n  ['first']:'sneakers',\n  ['second']:'pants',\n  ['third']:'shirt'\n}));\n</code></pre>\n\n<p>What am I doing wrong?</p>\n\n<p>Many thanks!</p>\n"}, {"tags": ["javascript", "function"], "comments": [{"owner": {"reputation": 6198, "user_id": 2020002, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/t9iFY.jpg?s=128&g=1", "display_name": "Derek Pollard", "link": "https://stackoverflow.com/users/2020002/derek-pollard"}, "edited": false, "score": 4, "creation_date": 1555535879, "post_id": 55736057, "comment_id": 98150287, "body": "Please use idiomatic variable names"}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 2, "creation_date": 1555536051, "post_id": 55736057, "comment_id": 98150354, "body": "This feels like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem</a>."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 1, "creation_date": 1555536081, "post_id": 55736057, "comment_id": 98150365, "body": "And, typical convention is to use <code>$</code> to represent an object provided by a library or framework. When you use it without one (while legal), it further confuses."}, {"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1555536094, "post_id": 55736057, "comment_id": 98150373, "body": "Your processes are not processes."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1555536273, "post_id": 55736057, "comment_id": 98150455, "body": "@JackBashford Please don&#39;t edit out syntax errors from OPs code. Just add a comment that there is one, otherwise you&#39;ve just potentially fixed the entire problem with no explanation."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1555536311, "post_id": 55736057, "comment_id": 98150468, "body": "You have a syntax error to work out first... In your <code>callByOne</code> function."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555537088, "post_id": 55736057, "comment_id": 98150733, "body": "<code>printAfter()</code> already waits the specified number of seconds. Why do you need another <code>setTimeout</code> in <code>callByOne()</code>?"}, {"owner": {"reputation": 77, "user_id": 7372699, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/H3ZnG.jpg?s=128&g=1", "display_name": "M.Ghali", "link": "https://stackoverflow.com/users/7372699/m-ghali"}, "edited": false, "score": 0, "creation_date": 1555537236, "post_id": 55736057, "comment_id": 98150788, "body": "Otherwise it&#39;ll print 2000ms have passed then 3000ms has passed the 4000ms has passed. I want them to print the processes array in order, so before the call, they&#39;ll have to wait."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555537595, "post_id": 55736057, "comment_id": 98150896, "body": "I&#39;m having trouble working out the whole code, but I think you need to split the timeouts into separate elements of the array, e.g. <code>[[printAfter, 3000], [printAfter, 2000], [printAfter, 4000]]</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555537858, "post_id": 55736057, "comment_id": 98150969, "body": "Another option is for <code>printAfter()</code> to return something like <code>{func: function(callback) { ...}, timeout: waitingTime}</code>, and then <code>callOneByOne</code> can extract the properties."}, {"owner": {"reputation": 77, "user_id": 7372699, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/H3ZnG.jpg?s=128&g=1", "display_name": "M.Ghali", "link": "https://stackoverflow.com/users/7372699/m-ghali"}, "edited": false, "score": 0, "creation_date": 1555538624, "post_id": 55736057, "comment_id": 98151186, "body": "Not allowed in the homework :p"}, {"owner": {"reputation": 20897, "user_id": 1169519, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/j4Iyy.png?s=128&g=1", "display_name": "Teemu", "link": "https://stackoverflow.com/users/1169519/teemu"}, "edited": false, "score": 0, "creation_date": 1555607238, "post_id": 55736057, "comment_id": 98178221, "body": "There won&#39;t be any arguments in the array. The functions are called when the array is created, and the return values are stored to the array."}], "answers": [{"tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": false, "score": 1, "last_activity_date": 1555608261, "creation_date": 1555608261, "answer_id": 55751003, "question_id": 55736057, "link": "https://stackoverflow.com/questions/55736057/how-to-access-the/55751003#55751003", "title": "How to access the", "body": "<p>This is a riddle that you are supposed to solve without needing access to the arguments. The returned function from <code>printCall</code> already has <code>waitingTime</code> in a closure. The trick is to arrange the callbacks in the correct order so they get called in a nested fashion.</p>\n\n<p>Here's one way:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>'use strict';\r\n\r\nfunction printCall(waitingTime) {\r\n\r\n  return function(callback) {\r\n\r\n    setTimeout(() =&gt; {\r\n      console.log(`${waitingTime}ms have passed`);\r\n      if (callback) {\r\n        callback();\r\n      }\r\n    }, waitingTime);\r\n\r\n  }\r\n}\r\n\r\nfunction callOneByOne($$, $) {\r\n  // pretty huh?\r\n  return  _ =&gt; $$(() =&gt; $(_))\r\n}\r\n\r\nlet calls = [printCall(3000), printCall(2000), printCall(4000)];\r\n\r\n(calls.reduce((__, _) =&gt; callOneByOne(__, _), _ =&gt; _()))();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 77, "user_id": 7372699, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/H3ZnG.jpg?s=128&g=1", "display_name": "M.Ghali", "link": "https://stackoverflow.com/users/7372699/m-ghali"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1558336108, "creation_date": 1555535672, "last_edit_date": 1558336108, "question_id": 55736057, "link": "https://stackoverflow.com/questions/55736057/how-to-access-the", "title": "How to access the", "body": "<p>The objective is to write the <code>callOneByOne</code> function, and I have it all done I hope except for one tiny thing. I want to get the </p>\n"}, {"tags": ["javascript", "php", "html", "css", ".htaccess"], "comments": [{"owner": {"reputation": 1983, "user_id": 1197616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c4cdf0d18819f891bebb0fcdf7a187?s=128&d=identicon&r=PG&f=1", "display_name": "mattias", "link": "https://stackoverflow.com/users/1197616/mattias"}, "edited": false, "score": 0, "creation_date": 1555535413, "post_id": 55736000, "comment_id": 98150120, "body": "Something similar here: <a href=\"https://stackoverflow.com/questions/2679524/block-direct-access-to-a-file-over-http-but-allow-php-script-access\" title=\"block direct access to a file over http but allow php script access\">stackoverflow.com/questions/2679524/&hellip;</a>. That thread assumes you&#39;re running Apache."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10051234"}, "edited": false, "score": 3, "creation_date": 1555535445, "post_id": 55736000, "comment_id": 98150133, "body": "no, because a browser needs to access them, so can any user"}, {"owner": {"reputation": 384, "user_id": 7979597, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh5.googleusercontent.com/-feGaTYdxABA/AAAAAAAAAAI/AAAAAAAAAJ8/Logr30l71mE/photo.jpg?sz=128", "display_name": "Lafa", "link": "https://stackoverflow.com/users/7979597/lafa"}, "edited": false, "score": 0, "creation_date": 1555535541, "post_id": 55736000, "comment_id": 98150172, "body": "@tim yes, but fontawesome did that, and i use that link for my website and i can use pro icons"}, {"owner": {"reputation": 384, "user_id": 7979597, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh5.googleusercontent.com/-feGaTYdxABA/AAAAAAAAAAI/AAAAAAAAAJ8/Logr30l71mE/photo.jpg?sz=128", "display_name": "Lafa", "link": "https://stackoverflow.com/users/7979597/lafa"}, "reply_to_user": {"reputation": 1983, "user_id": 1197616, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40c4cdf0d18819f891bebb0fcdf7a187?s=128&d=identicon&r=PG&f=1", "display_name": "mattias", "link": "https://stackoverflow.com/users/1197616/mattias"}, "edited": false, "score": 0, "creation_date": 1555535570, "post_id": 55736000, "comment_id": 98150175, "body": "@mattias but with that i can&#39;t use the files on the website"}], "answers": [{"tags": [], "owner": {"reputation": 618, "user_id": 8776736, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nCgCs.jpg?s=128&g=1", "display_name": "Gerard", "link": "https://stackoverflow.com/users/8776736/gerard"}, "is_accepted": true, "score": 1, "last_activity_date": 1555535821, "creation_date": 1555535821, "answer_id": 55736092, "question_id": 55736000, "link": "https://stackoverflow.com/questions/55736000/block-direct-access-to-file-css-and-javascript/55736092#55736092", "title": "Block direct access to file css and javascript", "body": "<p>It sounds like you want to set CORS policy: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a></p>\n"}], "owner": {"reputation": 384, "user_id": 7979597, "user_type": "registered", "accept_rate": 94, "profile_image": "https://lh5.googleusercontent.com/-feGaTYdxABA/AAAAAAAAAAI/AAAAAAAAAJ8/Logr30l71mE/photo.jpg?sz=128", "display_name": "Lafa", "link": "https://stackoverflow.com/users/7979597/lafa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 55736092, "answer_count": 1, "score": -2, "last_activity_date": 1555535821, "creation_date": 1555535355, "question_id": 55736000, "link": "https://stackoverflow.com/questions/55736000/block-direct-access-to-file-css-and-javascript", "title": "Block direct access to file css and javascript", "body": "<p>There is any way to block the direct access to a file?\nThe file should be used on my website but i want to block it if someone access it directly, for example if you open this link: <a href=\"https://example.com/style.css\" rel=\"nofollow noreferrer\">https://example.com/style.css</a> you see an error message, but if you open the site, all the style sheet should be shown.</p>\n\n<p>An example of this is the pro fontawesome css <a href=\"https://pro.fontawesome.com/releases/v5.8.1/css/all.css\" rel=\"nofollow noreferrer\">https://pro.fontawesome.com/releases/v5.8.1/css/all.css</a></p>\n\n<p>You can't open this directly, but if you add this to your site and your domain is listed you can use the fonts.</p>\n\n<p>Do you know any way to do this?</p>\n"}, {"tags": ["javascript", "xslt"], "comments": [{"owner": {"reputation": 1432, "user_id": 1285973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e0904864edb3be53a0b2f9f50a0019?s=128&d=identicon&r=PG", "display_name": "Vishnuprasad R", "link": "https://stackoverflow.com/users/1285973/vishnuprasad-r"}, "edited": false, "score": 0, "creation_date": 1555535951, "post_id": 55735958, "comment_id": 98150307, "body": "Please add more details to make your question easy to understand"}], "answers": [{"comments": [{"owner": {"reputation": 18, "user_id": 5904733, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v1IxkyG7oSQ/AAAAAAAAAAI/AAAAAAAADPU/RWGy6WgYPKM/photo.jpg?sz=128", "display_name": "Dnyaneshwar Taur", "link": "https://stackoverflow.com/users/5904733/dnyaneshwar-taur"}, "edited": false, "score": 0, "creation_date": 1555561464, "post_id": 55736106, "comment_id": 98155488, "body": "It&#39;s working for another dom elements, but not for xsl tag"}, {"owner": {"reputation": 68419, "user_id": 7585, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Txewo.jpg?s=128&g=1", "display_name": "Tim C", "link": "https://stackoverflow.com/users/7585/tim-c"}, "reply_to_user": {"reputation": 18, "user_id": 5904733, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v1IxkyG7oSQ/AAAAAAAAAAI/AAAAAAAADPU/RWGy6WgYPKM/photo.jpg?sz=128", "display_name": "Dnyaneshwar Taur", "link": "https://stackoverflow.com/users/5904733/dnyaneshwar-taur"}, "edited": false, "score": 0, "creation_date": 1555582829, "post_id": 55736106, "comment_id": 98164673, "body": "@DnyaneshwarTaur - It won&#39;t work for the XSL attribute, because as Michael Kay explained in his answer, by the time the javascript runs, the XSLT will be long gone, and not accessible. The browser is executing the HTML after it has been generated by the XSLT. You should really edit your question to give details on how you are actually performing the XSLT transformation. Are you doing it on the server? Or on the front-end using javascript? Or are you simply using the xml-stylesheet directive in an XML file? Thank you!"}], "tags": [], "owner": {"reputation": 1432, "user_id": 1285973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62e0904864edb3be53a0b2f9f50a0019?s=128&d=identicon&r=PG", "display_name": "Vishnuprasad R", "link": "https://stackoverflow.com/users/1285973/vishnuprasad-r"}, "is_accepted": true, "score": 0, "last_activity_date": 1555535874, "creation_date": 1555535874, "answer_id": 55736106, "question_id": 55735958, "link": "https://stackoverflow.com/questions/55735958/change-the-value-of-select-attribute-of-xslfor-each-tag-by-javascript/55736106#55736106", "title": "Change the value of select attribute of xsl:for-each tag by javascript", "body": "<p>It seems like you want to change the value of an attribute of a DOM node. \nYou can use setAttribute(\"attribute\", \"value\") to achieve that.</p>\n\n<pre><code>document.getElementById(\"test\").setAttribute(\"select\", val);\n</code></pre>\n\n<p>You may refer DOM API reference here:\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Element/setAttribute</a></p>\n"}, {"comments": [{"owner": {"reputation": 18, "user_id": 5904733, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v1IxkyG7oSQ/AAAAAAAAAAI/AAAAAAAADPU/RWGy6WgYPKM/photo.jpg?sz=128", "display_name": "Dnyaneshwar Taur", "link": "https://stackoverflow.com/users/5904733/dnyaneshwar-taur"}, "edited": false, "score": 0, "creation_date": 1555560624, "post_id": 55737272, "comment_id": 98155306, "body": "actually I&#39;m trying to fetch parameter value from url, and base on this value i want change value of &#39;select&#39; attribute."}, {"owner": {"reputation": 18, "user_id": 5904733, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v1IxkyG7oSQ/AAAAAAAAAAI/AAAAAAAADPU/RWGy6WgYPKM/photo.jpg?sz=128", "display_name": "Dnyaneshwar Taur", "link": "https://stackoverflow.com/users/5904733/dnyaneshwar-taur"}, "edited": false, "score": 0, "creation_date": 1555561093, "post_id": 55737272, "comment_id": 98155413, "body": "Url is domain.com/q=gulm (where gulm is value given by previous page ). I fetched this value by js method (someValue() in my sample code). Now I want to use for select Attribute"}], "tags": [], "owner": {"reputation": 137436, "user_id": 415448, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/P2vVZ.png?s=128&g=1", "display_name": "Michael Kay", "link": "https://stackoverflow.com/users/415448/michael-kay"}, "is_accepted": false, "score": 0, "last_activity_date": 1555543584, "creation_date": 1555543584, "answer_id": 55737272, "question_id": 55735958, "link": "https://stackoverflow.com/questions/55735958/change-the-value-of-select-attribute-of-xslfor-each-tag-by-javascript/55737272#55737272", "title": "Change the value of select attribute of xsl:for-each tag by javascript", "body": "<p>Typically when running XSLT in the browser, the XSLT code is first executed to generate the HTML page, and only when the HTML page has been generated are JS scripts within the page executed. By then it's too late to change the XSLT (it's already been executed).</p>\n\n<p>Perhaps if you explain what you are actually trying to achieve then we can suggest an alternative approach.</p>\n\n<p>You might like to take a look at Saxon-JS which provides a more dynamic way of exploiting XSLT in the browser, with more opportunity for the XSLT and Javascript code to work together.</p>\n"}], "owner": {"reputation": 18, "user_id": 5904733, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v1IxkyG7oSQ/AAAAAAAAAAI/AAAAAAAADPU/RWGy6WgYPKM/photo.jpg?sz=128", "display_name": "Dnyaneshwar Taur", "link": "https://stackoverflow.com/users/5904733/dnyaneshwar-taur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 55736106, "answer_count": 2, "score": 0, "last_activity_date": 1555543584, "creation_date": 1555535165, "question_id": 55735958, "link": "https://stackoverflow.com/questions/55735958/change-the-value-of-select-attribute-of-xslfor-each-tag-by-javascript", "title": "Change the value of select attribute of xsl:for-each tag by javascript", "body": "<p>I want to change value of select in xsl:for-each </p>\n\n<pre><code>&lt;script&gt;\nvar val = someValue() ://String\ndocument.getElementById(\"test\").select=val;\n&lt;/script&gt;\n&lt;body&gt;\n&lt;xsl:for-each id=\"test\" select=\"get from JS\" &gt;\n.... \n.....\n&lt;/xsl:for-each&gt;\n&lt;/body&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 5865, "user_id": 5298696, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_Lk3Kq_mN2c/AAAAAAAAAAI/AAAAAAAAAEQ/4UXPTXc6z6U/photo.jpg?sz=128", "display_name": "CollinD", "link": "https://stackoverflow.com/users/5298696/collind"}, "edited": false, "score": 4, "creation_date": 1555535196, "post_id": 55735941, "comment_id": 98150053, "body": "<code>browserInfo.name.toString()</code> You didn&#39;t invoke it."}], "answers": [{"comments": [{"owner": {"reputation": 1241, "user_id": 710954, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f6ab997142e043460dbef0e37ad9170e?s=128&d=identicon&r=PG", "display_name": "Jon Tan", "link": "https://stackoverflow.com/users/710954/jon-tan"}, "edited": false, "score": 0, "creation_date": 1555535519, "post_id": 55735975, "comment_id": 98150162, "body": "Yeah, that was totally it. Thank you"}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": true, "score": 1, "last_activity_date": 1555535215, "creation_date": 1555535215, "answer_id": 55735975, "question_id": 55735941, "link": "https://stackoverflow.com/questions/55735941/typescript-function-should-return-a-string-instead-of-string/55735975#55735975", "title": "Typescript - function should return a string instead of () -&gt; string", "body": "<p>You need to call the <code>toString</code> methods - otherwise,  you're making <code>browserName</code> and possible <code>operatingSystem</code> a function:</p>\n\n<pre><code>function getBrowserInfo(): BrowserData {\n  const browserInfo = detectBrowser.detect();\n  const browserData: BrowserData =\n    browserInfo !== null ?\n    {\n      browserName: browserInfo.name.toString(),\n      browserVersion: browserInfo.version,\n      operatingSystem: browserInfo.os !== null ? browserInfo.os.toString() : '',\n    } :\n    {\n      browserName: '',\n      browserVersion: '',\n      operatingSystem: ''\n    };\n  return browserData;\n}\n</code></pre>\n"}], "owner": {"reputation": 1241, "user_id": 710954, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/f6ab997142e043460dbef0e37ad9170e?s=128&d=identicon&r=PG", "display_name": "Jon Tan", "link": "https://stackoverflow.com/users/710954/jon-tan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 55735975, "answer_count": 1, "score": 0, "last_activity_date": 1555535215, "creation_date": 1555535068, "question_id": 55735941, "link": "https://stackoverflow.com/questions/55735941/typescript-function-should-return-a-string-instead-of-string", "title": "Typescript - function should return a string instead of () -&gt; string", "body": "<p>I'm trying to add the following code to detect browsers, but the error I get for <code>browserData</code> is: </p>\n\n<pre><code>Type '{ browserName: () =&gt; string; browserVersion: string | null; operatingSystem: string | (() =&gt; string); } | { browserName: string; browserVersion: string; operatingSystem: string; }' is not assignable to type 'BrowserData'.\nType '{ browserName: () =&gt; string; browserVersion: string | null; operatingSystem: string | (() =&gt; string); }' is not assignable to type 'BrowserData'.\nTypes of property 'browserName' are incompatible.\nType '() =&gt; string' is not assignable to type 'string'.ts(2322)\n</code></pre>\n\n<pre><code>function getBrowserInfo(): BrowserData {\n  const browserInfo = detectBrowser.detect();\n  const browserData: BrowserData =\n    browserInfo !== null\n      ? {\n          browserName: browserInfo.name.toString,\n          browserVersion: browserInfo.version,\n          operatingSystem:\n            browserInfo.os !== null ? browserInfo.os.toString : '',\n        }\n      : { browserName: '', browserVersion: '', operatingSystem: '' };\n  return browserData;\n}\n\ndeclare type BrowserData = {\n  browserName: string;\n  browserVersion: string;\n  operatingSystem: string;\n};\n</code></pre>\n\n<p>I see that there is an error because the return value should be a string, but not a function that returns a string. How can I correct this?</p>\n"}, {"tags": ["javascript", "api", "web-services", "dymo"], "answers": [{"tags": [], "owner": {"reputation": 241, "user_id": 3087157, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/59ba896525ea894cc23a9cf8befd2f1b?s=128&d=identicon&r=PG&f=1", "display_name": "user3087157", "link": "https://stackoverflow.com/users/3087157/user3087157"}, "is_accepted": false, "score": 0, "last_activity_date": 1574189906, "creation_date": 1574189906, "answer_id": 58941087, "question_id": 55735892, "link": "https://stackoverflow.com/questions/55735892/can-dymo-javascript-api-connect-to-dymo-web-service-which-is-hosted-on-a-differe/58941087#58941087", "title": "Can Dymo JavaScript API connect to Dymo web service which is hosted on a different machine on the same network?", "body": "<p>Dymo binds on the loopback adapter, so you can only connect with 127.0.0.1 or localhost. In your case, I would advise to share the printer on the network just like any other printer and install the Dymo Label software on each workstation while installing the Dymo as a network printer. </p>\n"}], "owner": {"reputation": 11, "user_id": 9055900, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6148e8732fc2c64e4a60522216d92e8b?s=128&d=identicon&r=PG&f=1", "display_name": "A. Zilaitis", "link": "https://stackoverflow.com/users/9055900/a-zilaitis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 510, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1574189906, "creation_date": 1555534845, "question_id": 55735892, "link": "https://stackoverflow.com/questions/55735892/can-dymo-javascript-api-connect-to-dymo-web-service-which-is-hosted-on-a-differe", "title": "Can Dymo JavaScript API connect to Dymo web service which is hosted on a different machine on the same network?", "body": "<p>I have a task to build an application online which would allow printing labels through Dymo LabelWriter 450 Turbo printer. The goal of this application is - company employees submit data to that needs to be on stickers via website and when they click 'print', all the labels are printed by one of the office machines.</p>\n\n<p>After launching Dymo web service on the mentioned machines, I am able to print labels if I click print while I am in those machines through JavaScript API that Dymo provides, however if I try accessing the script that I wrote from other computers on a network, printing does not work. This is due to the fact that JavaScript API points to 'localhost'.\nI downloaded JavaScript API locally and replaced 'localhost' in it with the IP addresses of machines on a network, but now, API when trying to access web service times out. Is there any way of solving this?</p>\n\n<p>Here is visualization of how everything works:</p>\n\n<pre><code> -------------------------------------------------\n|           Local machine, 198.168.0.1            |\n|                                                 |\n|  Dymo webservice runs here.                     |\n|                                                 |\n|  If JavaScript API is run, it communicates      |\n|  with webservice without any problems,          |\n|  printing works. API points to 'localhost'      |\n|                                                 |\n -------------------------------------------------\n</code></pre>\n\n<p>Here is visualization of what I want to do, but what doesn't work because API times out when trying to communicate to web service:</p>\n\n<pre><code> -------------------------------------------------\n|           Local machine, 198.168.0.1            |\n|                                                 |\n|  Dymo webservice runs here.                     |\n|                                                 |\n -------------------------------------------------\n                     |\n                     | LAN\n                     |\n -------------------------------------------------\n|           Local machine, 198.168.0.2            |\n|                                                 |\n|   Javascript API is downloaded here and         |\n|   'localhost' is replaced to 198.168.0.1        |                                      \n|                                                 |\n|  After user accesses a webpage and clicks print,| \n|  API tries to contact web service, but times out|\n|                                                 |\n -------------------------------------------------\n</code></pre>\n\n<p>Thank you in advance!</p>\n"}, {"tags": ["javascript", "html", "recaptcha", "invisible-recaptcha"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9413053"}, "edited": false, "score": 0, "creation_date": 1556121806, "post_id": 55778440, "comment_id": 98333054, "body": "are you using invisible recaptcha v2 ?? as both the code seems nearly same ??"}], "tags": [], "owner": {"reputation": 401, "user_id": 5527771, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/86c618f9eeaf65c8a2cd9aef2a41e833?s=128&d=identicon&r=PG&f=1", "display_name": "Carlitos", "link": "https://stackoverflow.com/users/5527771/carlitos"}, "is_accepted": false, "score": 0, "last_activity_date": 1555800800, "creation_date": 1555800800, "answer_id": 55778440, "question_id": 55735876, "link": "https://stackoverflow.com/questions/55735876/html-5-validation-is-not-working-with-google-invisible-recaptcha/55778440#55778440", "title": "html 5 validation is not working with google invisible recaptcha", "body": "<p>Working fine here ..... </p>\n\n<pre><code>&lt;?php if(isset($_POST['hiddenfield'])){\necho 'submitted';\n}\n?&gt;\n\n&lt;script&gt;\nfunction onSubmit(token) {\ndocument.getElementById(\"send\").submit();\n}\n&lt;/script&gt;\n\n&lt;form  id=\"send\" action=\"\" method=\"post\"&gt;\n&lt;input type=\"hidden\" name=\"hiddenfield\"&gt;\n&lt;input type=\"text\" required name=\"Send\" placeholder=\"stackoverflow\"&gt;\n&lt;button class=\"btn btn-primary g-recaptcha\" datasitekey=\"blahblahblahblahblahblahblahblah\" data-callback='onSubmit'&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3868, "user_id": 2295484, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/BAohf.png?s=128&g=1", "display_name": "Krishnadas PC", "link": "https://stackoverflow.com/users/2295484/krishnadas-pc"}, "is_accepted": false, "score": 0, "last_activity_date": 1610211945, "creation_date": 1610211945, "answer_id": 65645319, "question_id": 55735876, "link": "https://stackoverflow.com/questions/55735876/html-5-validation-is-not-working-with-google-invisible-recaptcha/65645319#65645319", "title": "html 5 validation is not working with google invisible recaptcha", "body": "<p>For recaptcha v3 you can do this. I Fixed with this.</p>\n<pre><code>&lt;button \n                                data-sitekey=&quot;your key&quot; \n                                data-callback='onSubmit' \n                                data-action='submit' \n                                type=&quot;submit&quot; class=&quot;g-recaptcha btn btn-block btn-lg btn-primary mt-4&quot;&gt;Send your message&lt;/button&gt;\n                        &lt;/div&gt;\n</code></pre>\n<p>update the code in provided google website with this. Basically we are manually checking form validation status before submitting it, if not showing errors.</p>\n<pre><code>&lt;script&gt;\n        function onSubmit(token) {            \n            var applicationForm = document.getElementById(&quot;contact-form&quot;);    \n            if (applicationForm.checkValidity()) {\n                document.getElementById(&quot;contact-form&quot;).submit();                \n            } else {\n              applicationForm.reportValidity();\n            }\n                    \n        }\n    &lt;/script&gt;\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9413053"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 385, "favorite_count": 2, "answer_count": 2, "score": 2, "last_activity_date": 1610211945, "creation_date": 1555534784, "last_edit_date": 1580655341, "question_id": 55735876, "link": "https://stackoverflow.com/questions/55735876/html-5-validation-is-not-working-with-google-invisible-recaptcha", "title": "html 5 validation is not working with google invisible recaptcha", "body": "<p>I had a basic Html 5 form working fine earlier but after I added google invisible recaptcha to it. Html5 validation stopped working. I surfed a google lot but couldn't find a way to do that</p>\n\n<pre><code>&lt;script&gt;\nfunction onSubmit(token) {\ndocument.getElementById(\"send\").submit();\n}\n&lt;/script&gt;\n\n&lt;form  id=\"send\" action=\"process.php\" method=\"post\"&gt;\n&lt;input type=\"text\" required name=\"Send\" minlength=\"6\" maxlength=\"16\" placeholder=\"stackoverflow\"&gt;\n&lt;button class=\"btn btn-primary g-recaptcha\" data-sitekey=\"hidden\" data-callback='onSubmit'&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>even if the input statements are not fulfilled it disregards that and submits the form without the error message to the user</p>\n"}, {"tags": ["javascript", "jquery", "dom"], "comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 2, "creation_date": 1555534767, "post_id": 55735848, "comment_id": 98149909, "body": "Can you please add your HTML code?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555535285, "post_id": 55735848, "comment_id": 98150086, "body": "What does the HTML look like BEFORE you run this code?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555535440, "post_id": 55735848, "comment_id": 98150130, "body": "Is this the actual code, or are you converting the HTML to a jQuery object first, like <code>x = $(defaultControlClass); $(&#39;.step-next .controls&#39;).html(x); $(&#39;.fixed-control&#39;).html(x);</code>"}, {"owner": {"reputation": 8441, "user_id": 1730017, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ada61.jpg?s=128&g=1", "display_name": "R. Schifini", "link": "https://stackoverflow.com/users/1730017/r-schifini"}, "edited": false, "score": 0, "creation_date": 1555536122, "post_id": 55735848, "comment_id": 98150384, "body": "You had a typo in your original first query. Removed answer because code has changed"}], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555540899, "post_id": 55736266, "comment_id": 98151709, "body": "If the argument to <code>.html()</code> is a jQuery object, the DOM elements aren&#39;t copied, they&#39;re moved."}], "tags": [], "owner": {"reputation": 162, "user_id": 1801953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a96c3b48e930921b6b616627bfaefde1?s=128&d=identicon&r=PG", "display_name": "Marty", "link": "https://stackoverflow.com/users/1801953/marty"}, "is_accepted": false, "score": 0, "last_activity_date": 1555536711, "creation_date": 1555536711, "answer_id": 55736266, "question_id": 55735848, "link": "https://stackoverflow.com/questions/55735848/consecutive-html-calls-overwrites-the-first/55736266#55736266", "title": "consecutive html() calls overwrites the first", "body": "<p>Sorry guys - it was a confusiong question.</p>\n\n<p>html() is not working unless its actually html - for some reason if its an object it is overwriting</p>\n\n<p>Here is one solution</p>\n\n<pre><code>//Use default control if none specified\n    if (control === undefined)\n        control = defaultControlClassic;\n    else\n        control = $('&lt;div&gt;').append($(control).clone()).html();\n</code></pre>\n"}], "owner": {"reputation": 162, "user_id": 1801953, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a96c3b48e930921b6b616627bfaefde1?s=128&d=identicon&r=PG", "display_name": "Marty", "link": "https://stackoverflow.com/users/1801953/marty"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1555536711, "creation_date": 1555534628, "last_edit_date": 1555536166, "question_id": 55735848, "link": "https://stackoverflow.com/questions/55735848/consecutive-html-calls-overwrites-the-first", "title": "consecutive html() calls overwrites the first", "body": "<p>Here is my jquery</p>\n\n<pre><code> var defaultControlClassic =  \"&lt;div id='control-textarea-wrapper' class='control'&gt;\" + \"\\n\";\n    defaultControlClassic +=   \"&lt;textarea id='control-textarea' tabindex='1000' rows='1'&gt;&lt;/textarea&gt;\" + \"\\n\";\n    defaultControlClassic +=       \"&lt;button type='button' class='btn btn-link btn-icon'&gt;&lt;i class='material-icons input-send'&gt;&amp;#xE163;&lt;/i&gt;&lt;/button&gt;\" + \"\\n\";\n    defaultControlClassic += \"&lt;/div&gt;\" + \"\\n\";\n\n\n    var msg = jsonResponse.html;\n\n    intent = jsonResponse.intent;\n\n    //Create a dom node out of the response\n    var div = document.createElement('div');\n    div.innerHTML = msg.trim();\n    var domMsg = div.firstChild;\n\n\n    //If Typing animation is happening time to remove it\n    $('.sender-action').parent('.response').remove();\n\n    //Get the Control from the response\n    var control = domMsg.getElementsByClassName(\"control\")[0];\n\n    //Remove the current control from the domMsg\n    $(domMsg).find('.control').remove();\n\n    //Use default control if none specified\n    if (control === undefined) control = defaultControlClassic;\n\n    //Add the control\n\n    $('.step-next .controls').html(control);\n    $('.fixed-control').html(control);\n</code></pre>\n\n<p>and this works fine with the above text value of \"defaultControlClassic\"</p>\n\n<p>but when \"control\" gets assigned by this...</p>\n\n<pre><code>var control = domMsg.getElementsByClassName(\"control\")[0];\n</code></pre>\n\n<p>The first call to html() works, and so does the second, but but the first gets overwritten by the second one</p>\n\n<pre><code>  $('.step-next .controls').html(defaultControlClassic);\n    $('.fixed-control').html(defaultControlClassic);\n</code></pre>\n\n<p>Here is the html</p>\n\n<pre><code> &lt;div class=\"chat-window\" &gt;\n        &lt;header class=\"chat-header\"&gt;\n            &lt;div class=\"modern-nav d-flex justify-content-between\"&gt;\n                &lt;button type=\"button\" class=\"btn btn-link btn-previous\" style=\"display: none;\"&gt;&lt;i class=\"fal fa-long-arrow-left\"&gt;&lt;/i&gt; Previous&lt;/button&gt;\n                &lt;div class=\"spinner\"&gt;&amp;nbsp;&lt;/div&gt;\n                &lt;button type=\"button\" class=\"btn btn-link btn-restart\" style=\"display: none;\"&gt;Restart &lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=\"progress\" &gt;\n                &lt;div class=\"progress-bar\" role=\"progressbar\" style=\"width: 1%;\" aria-valuenow=\"1\" aria-valuemin=\"0\" aria-valuemax=\"100\"&gt;1%&lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/header&gt;\n        &lt;div class=\"chat-body\"&gt;\n            &lt;div class=\"step-container\"&gt;\n                &lt;form class=\"step-form step step-next\"&gt;\n                    &lt;div class=\"messages\" class=\"\" &gt;&lt;/div&gt;\n                    &lt;div class=\"controls\" class=\"\" &gt;&lt;/div&gt;\n                &lt;/form&gt;\n            &lt;/div&gt;\n            &lt;div class=\"fixed-control\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "css"], "answers": [{"tags": [], "owner": {"reputation": 4453, "user_id": 5526624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-BVVXe2AFuoc/AAAAAAAAAAI/AAAAAAAAAHY/Xg3FzsSvnCA/photo.jpg?sz=128", "display_name": "Rickard Elim&#228;&#228;", "link": "https://stackoverflow.com/users/5526624/rickard-elim%c3%a4%c3%a4"}, "is_accepted": false, "score": 0, "last_activity_date": 1555539828, "creation_date": 1555539828, "answer_id": 55736745, "question_id": 55735840, "link": "https://stackoverflow.com/questions/55735840/how-to-update-background-image-without-verifying-the-cache/55736745#55736745", "title": "How to update background-image without verifying the cache", "body": "<p>I couldn't replicate your issue, trying your code with some img tags and a div tag. </p>\n\n<p>However, I sort of could replicate if if I manually turned off cache in Chrome and turned it on again. Anyway, with the following code below, I didn't get any issues with the images trying to load again from the server.</p>\n\n<p><strong>CSS Solution</strong></p>\n\n<pre><code>&lt;style&gt;\n  #slideshow {\n    width: 400px;\n    height: 400px;\n  }\n\n  .img1 {\n    background-image: url(\"https://picsum.photos/400/400\")\n  }\n\n  .img2 {\n    background-image: url(\"https://picsum.photos/400/401\")\n  }\n\n  .img3 {\n    background-image: url(\"https://picsum.photos/400/402\")\n  }\n&lt;/style&gt;\n\n&lt;body&gt;\n\n  &lt;div id=\"slideshow\"&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n\n&lt;script&gt;\nfunction update(imgclassName) {\n   var slideshow = document.getElementById(\"slideshow\");\n   slideshow.classList.remove( slideshow.classList[0] );\n   slideshow.classList.add(imgclassName);\n}\n\nfunction advance() {\n  update('img'+index);\n  index++;\n  if (index &gt; NUMBER_OF_IMAGES) {\n    index = 1;\n  }\n}\n\nvar NUMBER_OF_IMAGES = 3;\nvar index = 1;\nadvance();\nsetInterval(advance,1000);\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 9043569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/863fae17306eafd68c586349856ce0f6?s=128&d=identicon&r=PG", "display_name": "ComputerWhiz", "link": "https://stackoverflow.com/users/9043569/computerwhiz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555539828, "creation_date": 1555534591, "question_id": 55735840, "link": "https://stackoverflow.com/questions/55735840/how-to-update-background-image-without-verifying-the-cache", "title": "How to update background-image without verifying the cache", "body": "<p>I have created a simple image slideshow for my website. Basically, it's just a Javascript function that runs every 5 seconds and updates a div element's CSS \"background-image\" property. It works good, however, I've noticed that it contacts the server every time that the function runs to verify the image is in the cache. This produces a 304 code from the server each time.</p>\n\n<p>The images will certainly be in the cache since they are images that are already contained somewhere else on the same page. Therefore, they are already loaded into the cache when the website loads originally.</p>\n\n<p>Here is a simplified sample of my code. As you can see, the image URL is just being pulled right from an <code>img</code> element already loaded on the page:</p>\n\n<pre><code>function update(img) {\n     var slideshow = document.getElementById(\"slideshow\");\n     slideshow.style.backgroundImage = 'url(\"' + image + '\")';\n}\n\nfunction advance() {\n     var img = document.getElementsByClassName(\"slidesource\")[index].src;\n     update(img);\n     index++;\n}\n\nvar index = 0;\nadvance();\nsetInterval(advance,5000);\n</code></pre>\n\n<p>Is there a way to update the CSS property without the browser having to verify that the images are in the cache?</p>\n\n<p>Verifying that they exist wastes internet data (albeit only around 1.5kB per request) and will cause the slideshow to stop working if the internet is disconnected, even if the images are already in the cache.</p>\n"}, {"tags": ["javascript", "object"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1555534090, "post_id": 55735730, "comment_id": 98149688, "body": "what do you mean with <i>parent keys</i>?"}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 2, "creation_date": 1555534116, "post_id": 55735730, "comment_id": 98149700, "body": "There&#39;s no such thing as a <i>JSON Object</i>. JSON is always a String."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1555534121, "post_id": 55735730, "comment_id": 98149702, "body": "I can&#39;t repeat the behavior you  mention. <code>for (k in data){ console.log(k) }</code> just gives me the expected top-level keys. Maybe you can make a snippet that shows this behavior."}, {"owner": {"reputation": 7648, "user_id": 5442308, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/246f740a4597f4fec0ebbc6be98fa8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Aft", "link": "https://stackoverflow.com/users/5442308/matt-aft"}, "edited": false, "score": 0, "creation_date": 1555534283, "post_id": 55735730, "comment_id": 98149757, "body": "What is your expected output? if all you want is the keys then look into <code>Object.keys()</code>."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "edited": false, "score": 0, "creation_date": 1555534293, "post_id": 55735730, "comment_id": 98149760, "body": "I&#39;ve edited out all mentions of &quot;JSON&quot; for now because there&#39;s nothing related to JSON in the question. Please post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}], "answers": [{"comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 1, "creation_date": 1555534623, "post_id": 55735788, "comment_id": 98149866, "body": "@RandyCasburn No, I&#39;d rather not. I use the code that the OP posts. The OP has not posted JSON, he&#39;s posted a plain JavaScript object and so that&#39;s what I&#39;ll show how to use. In my experience, novices call the <i>object</i> they extracted from the JSON, a &quot;JSON object&quot;, when in fact, they just have an object."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1555534862, "post_id": 55735788, "comment_id": 98149943, "body": "Now that the OP has edited the question to remove the term JSON, my comment is no longer relevant. But now no longer is the JSON comment in your answer."}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 1, "creation_date": 1555534899, "post_id": 55735788, "comment_id": 98149955, "body": "@RandyCasburn The OP didn&#39;t make that edit, and so referencing it in my answer is still relevant. With all respect, I&#39;ve been at this for a while and understand how to answer questions."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": true, "score": 2, "last_activity_date": 1555535284, "last_edit_date": 1555535284, "creation_date": 1555534296, "answer_id": 55735788, "question_id": 55735730, "link": "https://stackoverflow.com/questions/55735730/how-do-i-iterate-through-only-the-top-level-keys-of-a-nested-object-with-javascr/55735788#55735788", "title": "How do I iterate through only the top level keys of a nested object with javascript?", "body": "<p>First, JSON is a string format for transporting data over HTTP/HTTPS. You don't iterate JSON, you parse it back into a regular JavaScript object and then you do whatever you like with that object. What you've posted is just a plain JavaScript object, so it looks like you've already done that parsing.</p>\n\n<p>So, in your case:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let result = {\r\n  \"Crows\": {\r\n    \"players\": {\r\n      \"Ben\": {\r\n        \"jersey #\": \"1B\"\r\n      },\r\n      \"Ty\": {\r\n        \"jersey #\": \"2B\"\r\n      }\r\n    }\r\n  },\r\n  \"Pigeons\": {\r\n    \"players\": {\r\n      \"Bill\": {\r\n        \"jersey #\": \"1B\"\r\n      },\r\n      \"Tim\": {\r\n        \"jersey #\": \"2B\"\r\n      }\r\n    }\r\n  },\r\n  \"Seagulls\": {\r\n    \"players\": {\r\n      \"Bob\": {\r\n        \"jersey #\": \"1B\"\r\n      },\r\n      \"Tom\": {\r\n        \"jersey #\": \"2B\"\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nfor(var prop in result){\r\n  console.log(prop);                      // Just get the property name only  \r\n  console.log(result[prop]);              // Or, get the data held in that property\r\n  \r\n  // Or, dig deeper still. Either of the following syntaxes will work:\r\n  console.log(result[prop][\"players\"]);   \r\n  console.log(result[prop].players);     \r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1555534614, "post_id": 55735807, "comment_id": 98149864, "body": "OK @RandyCasburn, sorry, my bad."}, {"owner": {"reputation": 78982, "user_id": 1848654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/84180c0f3c9c04f8b8f0613fc0129dac?s=128&d=identicon&r=PG", "display_name": "melpomene", "link": "https://stackoverflow.com/users/1848654/melpomene"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1555534636, "post_id": 55735807, "comment_id": 98149868, "body": "@RandyCasburn Why would the service have to be RESTful? And how is the origin of the object relevant to the question?"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1555534712, "post_id": 55735807, "comment_id": 98149892, "body": "Edited @RandyCasburn."}, {"owner": {"reputation": 11274, "user_id": 9078341, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TAD0A.png?s=128&g=1", "display_name": "Randy Casburn", "link": "https://stackoverflow.com/users/9078341/randy-casburn"}, "edited": false, "score": 0, "creation_date": 1555534726, "post_id": 55735807, "comment_id": 98149897, "body": "Now that the OP has changed the question to remove JSON, it isn&#39;t relevant any longer."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1555534801, "post_id": 55735807, "comment_id": 98149922, "body": "Starting with a string, doesn&#39;t explain the behavior that iterating through the keys results in <code>including the nested ones like &quot;players&quot;.</code>"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1555534981, "post_id": 55735807, "comment_id": 98149985, "body": "What do you mean @MarkMeyer?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1555535283, "post_id": 55735807, "comment_id": 98150085, "body": "@JackBashford the OP says <code>When I try to iterate with a traditional for (var key in data) loop, a console.log of the keys gives me every key in the object, including the nested ones like &quot;players&quot;.</code> If the data was a string, this wouldn&#39;t happen. You would get the numeric indexes of the string with <code>for\u2026in</code>."}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 0, "creation_date": 1555535334, "post_id": 55735807, "comment_id": 98150101, "body": "@MarkMeyer I have edited my post, sorry for the confusion."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 0, "last_activity_date": 1555535064, "last_edit_date": 1555535064, "creation_date": 1555534400, "answer_id": 55735807, "question_id": 55735730, "link": "https://stackoverflow.com/questions/55735730/how-do-i-iterate-through-only-the-top-level-keys-of-a-nested-object-with-javascr/55735807#55735807", "title": "How do I iterate through only the top level keys of a nested object with javascript?", "body": "<p>Either use a <code>for...in</code> loop:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = {\r\n  \"Crows\": {\r\n    \"players\": {\r\n      \"Ben\": {\r\n        \"jersey #\": \"1B\"\r\n      },\r\n      \"Ty\": {\r\n        \"jersey #\": \"2B\"\r\n      }\r\n    }\r\n  },\r\n  \"Pigeons\": {\r\n    \"players\": {\r\n      \"Bill\": {\r\n        \"jersey #\": \"1B\"\r\n      },\r\n      \"Tim\": {\r\n        \"jersey #\": \"2B\"\r\n      }\r\n    }\r\n  },\r\n  \"Seagulls\": {\r\n    \"players\": {\r\n      \"Bob\": {\r\n        \"jersey #\": \"1B\"\r\n      },\r\n      \"Tom\": {\r\n        \"jersey #\": \"2B\"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfor (let key in data) {\r\n  console.log(key);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or collect them into one array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = {\r\n  \"Crows\": {\r\n    \"players\": {\r\n      \"Ben\": {\r\n        \"jersey #\": \"1B\"\r\n      },\r\n      \"Ty\": {\r\n        \"jersey #\": \"2B\"\r\n      }\r\n    }\r\n  },\r\n  \"Pigeons\": {\r\n    \"players\": {\r\n      \"Bill\": {\r\n        \"jersey #\": \"1B\"\r\n      },\r\n      \"Tim\": {\r\n        \"jersey #\": \"2B\"\r\n      }\r\n    }\r\n  },\r\n  \"Seagulls\": {\r\n    \"players\": {\r\n      \"Bob\": {\r\n        \"jersey #\": \"1B\"\r\n      },\r\n      \"Tom\": {\r\n        \"jersey #\": \"2B\"\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nconsole.log(Object.keys(data));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3011, "user_id": 2948489, "user_type": "registered", "accept_rate": 59, "profile_image": "https://i.stack.imgur.com/ghAEV.jpg?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/2948489/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 371, "favorite_count": 0, "accepted_answer_id": 55735788, "answer_count": 2, "score": -2, "last_activity_date": 1555535284, "creation_date": 1555534001, "last_edit_date": 1555534439, "question_id": 55735730, "link": "https://stackoverflow.com/questions/55735730/how-do-i-iterate-through-only-the-top-level-keys-of-a-nested-object-with-javascr", "title": "How do I iterate through only the top level keys of a nested object with javascript?", "body": "<p>For example, if I were to iterate through the following object:</p>\n\n<pre><code>{\n  \"Crows\": {\n    \"players\": {\n      \"Ben\": {\n        \"jersey #\": \"1B\"\n      },\n      \"Ty\": {\n        \"jersey #\": \"2B\"\n      }\n    }\n  },\n  \"Pigeons\": {\n    \"players\": {\n      \"Bill\": {\n        \"jersey #\": \"1B\"\n      },\n      \"Tim\": {\n        \"jersey #\": \"2B\"\n      }\n    }\n  },\n  \"Seagulls\": {\n    \"players\": {\n      \"Bob\": {\n        \"jersey #\": \"1B\"\n      },\n      \"Tom\": {\n        \"jersey #\": \"2B\"\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>I want to only iterate and manipulate the top level keys, which in this case are \"Crows\", \"Pigeons\", and \"Seagulls\". </p>\n\n<p>When I try to iterate with a traditional <code>for (var key in data)</code> loop, a console.log of the keys gives me every key in the object, including the nested ones like \"players\". How would I only loop through parent keys?</p>\n"}, {"tags": ["javascript", "node.js", "asynchronous", "sequelize.js"], "comments": [{"owner": {"reputation": 796419, "user_id": 34397, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7deca8ec973c3c0875e9a36e1e3e2c44?s=128&d=identicon&r=PG", "display_name": "SLaks", "link": "https://stackoverflow.com/users/34397/slaks"}, "edited": false, "score": 4, "creation_date": 1555533985, "post_id": 55735703, "comment_id": 98149662, "body": "Since you&#39;re using <code>await</code>, you should not use <code>then</code>."}, {"owner": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "edited": false, "score": 0, "creation_date": 1555534295, "post_id": 55735703, "comment_id": 98149761, "body": "Please edit your example code to just enough to illustrate the issue you are having. Thanks."}], "answers": [{"tags": [], "owner": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "is_accepted": false, "score": 1, "last_activity_date": 1555534757, "creation_date": 1555534757, "answer_id": 55735870, "question_id": 55735703, "link": "https://stackoverflow.com/questions/55735703/async-await-function-return-undefined/55735870#55735870", "title": "async/await function return undefined?", "body": "<p>You are mixing the Promise <code>then</code> pattern with that of <code>async/await</code>. </p>\n\n<p>These are two different and incompatible coding patterns. <code>await</code> returns a non-Promise value (only within the context of an <code>async</code> function), but <code>then</code> never returns anything other than another Promise.</p>\n\n<p>Either use <code>async/await</code> or Promises, but not both in the same logic.</p>\n"}, {"tags": [], "owner": {"reputation": 141, "user_id": 4043541, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Xy1lEKY9qlM/AAAAAAAAAAI/AAAAAAAAADM/dDmGne7auLs/photo.jpg?sz=128", "display_name": "Andrei Surzhan", "link": "https://stackoverflow.com/users/4043541/andrei-surzhan"}, "is_accepted": false, "score": 0, "last_activity_date": 1555534994, "creation_date": 1555534994, "answer_id": 55735925, "question_id": 55735703, "link": "https://stackoverflow.com/questions/55735703/async-await-function-return-undefined/55735925#55735925", "title": "async/await function return undefined?", "body": "<p>Inside of your <code>currencyConversion</code> you are mixing two approaches to handle functions that return promises.</p>\n\n<p>You do:</p>\n\n<p><code>await Currency.findOne(...params..).then(...params..);</code></p>\n\n<p>Although you would like to do the following as you are using <code>async/await</code> syntax:</p>\n\n<pre><code>let isRecipientCurrencyId = await Currency.findOne(...params..);\n...rest of the code..\n\n</code></pre>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\">async function</a></p>\n"}, {"tags": [], "owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "is_accepted": false, "score": 0, "last_activity_date": 1555535672, "creation_date": 1555535672, "answer_id": 55736056, "question_id": 55735703, "link": "https://stackoverflow.com/questions/55735703/async-await-function-return-undefined/55736056#55736056", "title": "async/await function return undefined?", "body": "<p><code>convertedAmountMoney</code> was undefined because nothing was returned in <code>currencyConversion</code>. You returned inside a <code>.then</code> inside some other promise, but <code>currencyConversion</code> itself returned nothing.</p>\n\n<p>I've fixed your code below so as to go fully <code>async/await</code>, but there are three <code>else</code>s you'll have to handle yourself, because as of now your you didn't precised what to do then. I added three warnings for this.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>async function addAvailableFunds(\n  recipientAvailableFunds,\n  amountMoney,\n  recipientId,\n  transferCurrencyId,\n) {\n  const convertedAmountMoney = await currencyConversion(\n    transferCurrencyId,\n    recipientCurrencyId,\n    amountMoney,\n  );\n\n  console.log(\n    'convertedAmountMoney',\n    convertedAmountMoney,\n  ); // undefined\n}\n\n\nasync function currencyConversion(\n  transferCurrencyId,\n  recipientCurrencyId,\n  amountMoney,\n) {\n  console.log('transferCurrencyId', transferCurrencyId);\n  console.log('recipientCurrencyId', recipientCurrencyId);\n  console.log('amountMoney', amountMoney);\n\n  const isRecipientCurrencyId = await Currency.findOne({\n    where: {\n      id: recipientCurrencyId,\n    },\n  })\n  if (isRecipientCurrencyId) {\n    const mainCurrency = isRecipientCurrencyId.main_currency;\n    const recipientCurrencyExchangeRate =\n      isRecipientCurrencyId.currency_exchange_rate;\n\n    console.log('mainCurrency', mainCurrency);\n    console.log(\n      'recipientCurrencyExchangeRate',\n      recipientCurrencyExchangeRate,\n    );\n\n    const isTransferCurrencyId = await Currency.findOne({\n      where: {\n        id: transferCurrencyId,\n      },\n    })\n\n    if (isTransferCurrencyId) {\n      const transferCurrencyExchangeRate =\n        isTransferCurrencyId.currency_exchange_rate;\n\n      console.log(\n        'transferCurrencyExchangeRate',\n        transferCurrencyExchangeRate,\n      );\n\n      if (mainCurrency) {\n        const convertedAmountMoney =\n          (amountMoney / transferCurrencyExchangeRate) *\n          recipientCurrencyExchangeRate;\n        console.log('convertedAmountMoney', convertedAmountMoney);\n        return convertedAmountMoney; // return number\n      }\n      console.warn('Will return undefined');\n    }\n    console.warn('Will return undefined');\n  }\n  console.warn('Will return undefined');\n}\n</code></pre>\n\n\n"}], "owner": {"reputation": 11, "user_id": 11375973, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5cdf50f96a12f9f35751f9dc3fb5c1ee?s=128&d=identicon&r=PG&f=1", "display_name": "promisesJavascr", "link": "https://stackoverflow.com/users/11375973/promisesjavascr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 183, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1555535672, "creation_date": 1555533854, "question_id": 55735703, "link": "https://stackoverflow.com/questions/55735703/async-await-function-return-undefined", "title": "async/await function return undefined?", "body": "<p>Below is part of my function that must be performed asynchronously. why in a commented place it is undefined, since the function returns a value. And if my code is incorrect, can I see how it should look correctly?</p>\n\n<pre><code>    async function addAvailableFunds(\n        recipientAvailableFunds,\n        amountMoney,\n        recipientId,\n        transferCurrencyId,\n      ) {\n          const convertedAmountMoney = await currencyConversion(\n            transferCurrencyId,\n            recipientCurrencyId,\n            amountMoney,\n          );\n\n          console.log(\n            'convertedAmountMoney',\n            convertedAmountMoney,\n          ); // undefined\n\n\n  async function currencyConversion(\n    transferCurrencyId,\n    recipientCurrencyId,\n    amountMoney,\n  ) {\n    console.log('transferCurrencyId', transferCurrencyId);\n    console.log('recipientCurrencyId', recipientCurrencyId);\n    console.log('amountMoney', amountMoney);\n\n    await Currency.findOne({\n      where: {\n        id: recipientCurrencyId,\n      },\n    }).then(async isRecipientCurrencyId =&gt; {\n      if (isRecipientCurrencyId) {\n        const mainCurrency = isRecipientCurrencyId.main_currency;\n        const recipientCurrencyExchangeRate =\n          isRecipientCurrencyId.currency_exchange_rate;\n\n        console.log('mainCurrency', mainCurrency);\n        console.log(\n          'recipientCurrencyExchangeRate',\n          recipientCurrencyExchangeRate,\n        );\n\n        await Currency.findOne({\n          where: {\n            id: transferCurrencyId,\n          },\n        }).then(isTransferCurrencyId =&gt; {\n          if (isTransferCurrencyId) {\n            const transferCurrencyExchangeRate =\n              isTransferCurrencyId.currency_exchange_rate;\n\n            console.log(\n              'transferCurrencyExchangeRate',\n              transferCurrencyExchangeRate,\n            );\n\n            if (mainCurrency) {\n\n              const convertedAmountMoney =\n                (amountMoney / transferCurrencyExchangeRate) *\n                recipientCurrencyExchangeRate;\n              console.log('convertedAmountMoney', convertedAmountMoney);\n              return convertedAmountMoney; // return number\n            }\n          }\n        });\n      }\n    });\n  }\n</code></pre>\n\n<p>console.log returns a number so I do not know what's going on. console.log returns a number so I do not know what's going on.</p>\n"}, {"tags": ["javascript", "node.js", "ember.js", "ember-cli", "nvm"], "answers": [{"tags": [], "owner": {"reputation": 14648, "user_id": 123033, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c94743fafb1114f9742bf7a16a2e11d7?s=128&d=identicon&r=PG", "display_name": "Dave Everitt", "link": "https://stackoverflow.com/users/123033/dave-everitt"}, "is_accepted": true, "score": 0, "last_activity_date": 1555590142, "creation_date": 1555590142, "answer_id": 55745953, "question_id": 55735701, "link": "https://stackoverflow.com/questions/55735701/reinstall-node-using-nvm-on-os-x-without-removing-node-modules/55745953#55745953", "title": "Reinstall node using nvm on OS X without removing node_modules?", "body": "<h2>NVM uses separate node_modules folder</h2>\n\n<p>Talking to myself here, but after leaving the question open for 15+ hours I just went ahead and (following the nvm guide on GitHub) <a href=\"https://github.com/creationix/nvm/tree/v0.34.0#installation\" rel=\"nofollow noreferrer\">installed nvm with curl</a>, the latest Long Term Support (LTS) node with <code>nvm install --lts</code></p>\n\n<p>Previously, I was using <a href=\"https://github.com/tj/n\" rel=\"nofollow noreferrer\">n to manage node versions</a>, but NVM stores node_modules in a directory determined by the version of node you're currently using, which you can find with <code>npm root -g</code> e.g. <code>~/.nvm/versions/node/v10.15.3/lib/node_modules</code></p>\n\n<p>So, the <strong>previous node_modules folder</strong> used by n at <code>/usr/local/lib/node_modules/</code> is <strong>unused by nvm and can be deleted</strong>. After a thorough clean-out and <code>brew uninstall</code> of all the previous node installation there were <strong>no issues with new nvm install</strong>, and I now have to <strong>reinstall the previous node modules</strong> stored there.</p>\n"}], "owner": {"reputation": 14648, "user_id": 123033, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/c94743fafb1114f9742bf7a16a2e11d7?s=128&d=identicon&r=PG", "display_name": "Dave Everitt", "link": "https://stackoverflow.com/users/123033/dave-everitt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1444, "favorite_count": 1, "accepted_answer_id": 55745953, "answer_count": 1, "score": 0, "last_activity_date": 1555590380, "creation_date": 1555533844, "last_edit_date": 1555590380, "question_id": 55735701, "link": "https://stackoverflow.com/questions/55735701/reinstall-node-using-nvm-on-os-x-without-removing-node-modules", "title": "Reinstall node using nvm on OS X without removing node_modules?", "body": "<p>Following the <a href=\"https://yoember.com/nodejs/the-best-way-to-install-node-js/\" rel=\"nofollow noreferrer\">latest advice</a> I decided to remove a previous working Homebrew node install and use <a href=\"https://nodesource.com/blog/installing-node-js-tutorial-using-nvm-on-mac-os-x-and-ubuntu/\" rel=\"nofollow noreferrer\">nvm to install node</a> instead, and also set things up to avoid using sudo.</p>\n\n<p>However, before going further</p>\n\n<p>I carefully cleaned out the following folder (owned by my user) except for two modules used for a long-standing Ember project that uses an older version of node (because I'm not confident of reinstalling the required version of them later):</p>\n\n<pre><code>/usr/local/lib/node_modules/\n  bower\n  ember-cli\n</code></pre>\n\n<p>If I keep the existing /usr/local/lib/node_modules/ folder with the versions of bower and ember-cli, will this cause any issue on installing nvm and then the node versions I need?</p>\n"}, {"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 8444, "user_id": 6210773, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MkqCSSKA7j0/AAAAAAAAAAI/AAAAAAAAAFE/X3FzsuJTRqI/photo.jpg?sz=128", "display_name": "Alex Kudryashev", "link": "https://stackoverflow.com/users/6210773/alex-kudryashev"}, "edited": false, "score": 0, "creation_date": 1555534464, "post_id": 55735679, "comment_id": 98149817, "body": "Can you rename keys in <code>object1</code> and <code>object2</code> to match final object?"}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1555534588, "post_id": 55735679, "comment_id": 98149859, "body": "If the same key is in <code>object2</code> as <code>object1</code>, should the <code>object2</code> property <i>override</i> the <code>object1</code> property? Does this repeat for all the objects?"}, {"owner": {"reputation": 63, "user_id": 6064787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d21b05ffe823dea94a40068086fc87b?s=128&d=identicon&r=PG&f=1", "display_name": "Slodin", "link": "https://stackoverflow.com/users/6064787/slodin"}, "reply_to_user": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1555536317, "post_id": 55735679, "comment_id": 98150470, "body": "@JackBashford they do not override, and instead becomes *_id (replace * with any name), and this also happens with some other properties, I only showed it as id. This doesn&#39;t repeat to all objects, some has it and some doesn&#39;t."}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1555536627, "post_id": 55735679, "comment_id": 98150583, "body": "Have you considered <code>{ product: object1, location: object2 }</code>?"}, {"owner": {"reputation": 63, "user_id": 6064787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d21b05ffe823dea94a40068086fc87b?s=128&d=identicon&r=PG&f=1", "display_name": "Slodin", "link": "https://stackoverflow.com/users/6064787/slodin"}, "reply_to_user": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1555537031, "post_id": 55735679, "comment_id": 98150710, "body": "@user633183 server doesn&#39;t accept that, I can&#39;t do anything about the server."}, {"owner": {"reputation": 63, "user_id": 6064787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d21b05ffe823dea94a40068086fc87b?s=128&d=identicon&r=PG&f=1", "display_name": "Slodin", "link": "https://stackoverflow.com/users/6064787/slodin"}, "reply_to_user": {"reputation": 8444, "user_id": 6210773, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MkqCSSKA7j0/AAAAAAAAAAI/AAAAAAAAAFE/X3FzsuJTRqI/photo.jpg?sz=128", "display_name": "Alex Kudryashev", "link": "https://stackoverflow.com/users/6210773/alex-kudryashev"}, "edited": false, "score": 0, "creation_date": 1555537282, "post_id": 55735679, "comment_id": 98150800, "body": "@AlexKudryashev object1 and object2 are JSON from a GET request, the final object I&#39;m trying to use those 2 objects (actual scenario has a lot more objects than 2) and turn it into a new object with slight differences in object names."}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1555538622, "post_id": 55735679, "comment_id": 98151183, "body": "@Slodin <code>object1</code> and <code>object2</code> are not &quot;JSON&quot;, they are objects. JSON is always a string."}], "answers": [{"tags": [], "owner": {"reputation": 63, "user_id": 4287849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c624828b845541340ff39f20e87e8d50?s=128&d=identicon&r=PG&f=1", "display_name": "Kieron Alsmith", "link": "https://stackoverflow.com/users/4287849/kieron-alsmith"}, "is_accepted": false, "score": 0, "last_activity_date": 1555613041, "last_edit_date": 1555613041, "creation_date": 1555535251, "answer_id": 55735987, "question_id": 55735679, "link": "https://stackoverflow.com/questions/55735679/object-preparation-in-js-before-sending-to-server/55735987#55735987", "title": "Object preparation in JS before sending to server?", "body": "<p>It sounds like you need something like JQuery's or Angular's extend() function, but with a twist for sub-mapping the keys.</p>\n\n<p><a href=\"https://api.jquery.com/jquery.extend/\" rel=\"nofollow noreferrer\">https://api.jquery.com/jquery.extend/</a></p>\n\n<p>Here's a simple version of it, tweaked for your needs.</p>\n\n<pre><code>//merge the N objects.  Must have a \"prefix\" property to configure the new keys\nvar extendWithKeyPrefix = function() {\n  if (arguments.length == 0) return; //null check\n  var push = function(dst, arg) {\n    if (typeof arg != 'undefined' &amp;&amp; arg != null) { //null check\n      var prefix = arg[\"prefix\"]; //grab the prefix\n      if (typeof prefix != 'undefined' &amp;&amp; prefix != null) { //null check\n        for (var k in arg) { //add everything except for \"prefix\"\n          if (k != \"prefix\") dst[prefix+k] = arg[k]; \n        }\n      }\n    }\n    return dst;\n  }\n  arguments.reduce(push);\n}\n</code></pre>\n\n<p>Please note that the value of the last object that uses a particular key will win.  For example notice that \"id\" in the merged object is 2, rather than 1.</p>\n\n<pre><code>var object1 = {id: 1, unique1: \"One\", prefix: \"product_\"};\nvar object2 = {id: 2, unique2: \"Two\", prefix: \"product_\"};\nvar object3 = {id: 3, unique3: \"Three\", prefix: \"office_\"};\nvar merged = {};\n\nextend(merged, object1, object2);\n\n// value of merged is...\n// { product_id: 2, \n//   product_unique1: \"One\", \n//   product_unique2: \"Two\", \n//   office_id: 3, \n//   office_unique3: \"Three\"\n// }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 63, "user_id": 6064787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d21b05ffe823dea94a40068086fc87b?s=128&d=identicon&r=PG&f=1", "display_name": "Slodin", "link": "https://stackoverflow.com/users/6064787/slodin"}, "edited": false, "score": 0, "creation_date": 1556649493, "post_id": 55736156, "comment_id": 98507470, "body": "I&#39;m using this as a solution to my problem, however I did wrap this in a class to do my models."}], "tags": [], "owner": {"reputation": 1104, "user_id": 11359504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8612ae78a3ab1ddc7b4bec4e317c328?s=128&d=identicon&r=PG&f=1", "display_name": "Khalid Ali", "link": "https://stackoverflow.com/users/11359504/khalid-ali"}, "is_accepted": true, "score": 1, "last_activity_date": 1555538166, "last_edit_date": 1555538166, "creation_date": 1555536117, "answer_id": 55736156, "question_id": 55735679, "link": "https://stackoverflow.com/questions/55735679/object-preparation-in-js-before-sending-to-server/55736156#55736156", "title": "Object preparation in JS before sending to server?", "body": "<p>You could use ES6 <strong>object destructuring</strong>.</p>\n\n<pre><code>\nlet object1 = {\n id: 1,\n name: \"table\",\n price: 3499\n};\n\nlet object2 = {\n id: 5,\n lat: 48.56,\n lng: -93.45,\n address: \"1080 JavaScript Street\"\n};\n\n// declaring the new object with the new properties names.\nlet newObject = {\n  map_id: '',\n  product_id: [],\n  product_name: [],\n  product_price: [],\n  start_lat: '',\n  start_lng: '',\n  start_address: ''\n};\n\n// destructuring \"object1\"\n({id: newObject.product_id[0],\n  name: newObject.product_name[0],\n  price: newObject.product_price[0]} = object1);\n\n// destructuring \"object2\"\n({id: newObject.map_id,\n  lat: newObject.start_lat,\n  lng: newObject.start_lng,\n  address: newObject.start_address} = object2);\n\nconsole.log(newObject)\n</code></pre>\n\n<p><strong>Result:</strong></p>\n\n<pre><code>{\n  map_id: 5,\n  product_id: [1],\n  product_name: [\"table\"],\n  product_price: [3499],\n  start_address: \"1080 JavaScript Street\",\n  start_lat: 48.56,\n  start_lng: -93.45\n}\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 6064787, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1d21b05ffe823dea94a40068086fc87b?s=128&d=identicon&r=PG&f=1", "display_name": "Slodin", "link": "https://stackoverflow.com/users/6064787/slodin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 55736156, "answer_count": 2, "score": 1, "last_activity_date": 1555613041, "creation_date": 1555533726, "question_id": 55735679, "link": "https://stackoverflow.com/questions/55735679/object-preparation-in-js-before-sending-to-server", "title": "Object preparation in JS before sending to server?", "body": "<p>I'm trying to prepare an object to POST to my server to store some information. This object requires me to do a few GET requests depending on how the user chooses to gather all the information needed to POST. I realized I have to modify the object to actually get them into the correct value pairs in JSON, and I'm not sure if there is a better way to do it.</p>\n\n<p>I'm only showing this in a simple way, but the actual matter has 6-7 very long objects, and they all needs to be modified and fit in one JSON. The server API is written this way to accept input, and I don't have any say in it.</p>\n\n<p>For example:\nWhat I get back from requests</p>\n\n<pre><code>object1: {\n id: 1,\n name: \"table\",\n price: 3499\n}\n\nobject2: {\n id: 5,\n lat: 48.56,\n lng: -93.45,\n address: \"1080 JavaScript Street\"\n}\n</code></pre>\n\n<p>What I need it to become:</p>\n\n<pre><code>data: {\n map_id: 5,\n product_id: [1],\n product_name: [\"table\"],\n product_price: [3499],\n start_lat: 48.56,\n start_lng: -93.45,\n start_address: \"1080 JavaScript Street\"\n}\n</code></pre>\n\n<p>So far I just do the dumb way to just stitch them together, I just wrote this on here so it doesn't work, but should show logically what I'm thinking:</p>\n\n<pre><code>prepareDataToSend = (object1, object2) =&gt; {\n //exclude uninit handling, and newObject init for arrays\n let newObject = {};\n newObject.map_id = object2.id;\n //if there are more of object1 then I have to loop it\n newObject.product_id.push(object1.id);\n newObject.product_name.push(object1.name);\n ...etc\n}\n</code></pre>\n\n<p>I do get the result I'm looking for, but this feels really ineffective and dumb.Not to mention this seems very unmaintainable. Is there a better way to do this? I feel like there is some techniques i'm missing.</p>\n"}, {"tags": ["javascript", "html5-video", "google-chrome-devtools", "netflix", "google-chrome-console"], "answers": [{"tags": [], "owner": {"reputation": 384, "user_id": 3374574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CL6v.jpg?s=128&g=1", "display_name": "Julien Reszka", "link": "https://stackoverflow.com/users/3374574/julien-reszka"}, "is_accepted": true, "score": 5, "last_activity_date": 1556399886, "last_edit_date": 1556399886, "creation_date": 1555533780, "answer_id": 55735687, "question_id": 55735675, "link": "https://stackoverflow.com/questions/55735675/set-video-playback-rate-on-netflix-from-the-google-chrome-browser-console/55735687#55735687", "title": "Set video playback rate on Netflix from the google chrome browser console", "body": "<p>If you want the video to go twice as fast you set it to</p>\n\n<p><code>document.querySelector('video').playbackRate = 2</code></p>\n\n<p>If you want half the speed you set it to</p>\n\n<p><code>document.querySelector('video').playbackRate = 0.5</code></p>\n\n<p>If you want the normal speed back you set it to </p>\n\n<p><code>document.querySelector('video').playbackRate = 1</code></p>\n\n<p>You can add this as a bookmark url so you don't need to open the console anymore, just click on the bookmark to change the speed :</p>\n\n<pre><code>javascript:(function(){document.querySelector('video').playbackRate = 2}())\n</code></pre>\n\n<pre><code>javascript:(function(){document.querySelector('video').playbackRate = 0.5}())\n</code></pre>\n\n<pre><code>javascript:(function(){document.querySelector('video').playbackRate = 1}())\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Poc7o.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Poc7o.png\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 384, "user_id": 3374574, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6CL6v.jpg?s=128&g=1", "display_name": "Julien Reszka", "link": "https://stackoverflow.com/users/3374574/julien-reszka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1565, "favorite_count": 0, "accepted_answer_id": 55735687, "answer_count": 1, "score": 3, "last_activity_date": 1556399886, "creation_date": 1555533708, "last_edit_date": 1555538059, "question_id": 55735675, "link": "https://stackoverflow.com/questions/55735675/set-video-playback-rate-on-netflix-from-the-google-chrome-browser-console", "title": "Set video playback rate on Netflix from the google chrome browser console", "body": "<p>Netflix doesn't provide control for the playback rate in its user interface.</p>\n\n<p>What should I put in the google chrome console to set the playback rate that I want?</p>\n"}, {"tags": ["javascript", "google-chrome", "electron"], "answers": [{"tags": [], "owner": {"reputation": 972, "user_id": 2360118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0cffb3bf19a4204c173e9c0ba5e808b7?s=128&d=identicon&r=PG", "display_name": "fyroc", "link": "https://stackoverflow.com/users/2360118/fyroc"}, "is_accepted": true, "score": 0, "last_activity_date": 1555699124, "creation_date": 1555699124, "answer_id": 55766311, "question_id": 55735666, "link": "https://stackoverflow.com/questions/55735666/looping-over-custom-protocol-with-chrome/55766311#55766311", "title": "Looping Over Custom Protocol with Chrome", "body": "<p>The answer was quite simple, don't use the protocol to POST data. Instead I ended up creating a web server within electron, and passed the data off via the URL.</p>\n\n<pre><code>var http=require('http');\nvar url=require('url');\n\nvar server=http.createServer(function(req,res){\n    var pathname=url.parse(req.url).pathname;\n    switch(pathname){\n        case '/data':\n            var query=url.parse(req.url).query;\n            someFunction(query);\n            res.end('200 ok');\n        break;\n    }\n\n}).listen(8080);\n</code></pre>\n\n<p>This way I can use AJAX to launch and hand off data to Electron, instead of iframes.</p>\n\n<p>Then you just pass the data in like:\n<code>http://localhost:8080/data?{insertyourdatahere}</code></p>\n"}], "owner": {"reputation": 972, "user_id": 2360118, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/0cffb3bf19a4204c173e9c0ba5e808b7?s=128&d=identicon&r=PG", "display_name": "fyroc", "link": "https://stackoverflow.com/users/2360118/fyroc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 55766311, "answer_count": 1, "score": 1, "last_activity_date": 1555699124, "creation_date": 1555533655, "last_edit_date": 1555620172, "question_id": 55735666, "link": "https://stackoverflow.com/questions/55735666/looping-over-custom-protocol-with-chrome", "title": "Looping Over Custom Protocol with Chrome", "body": "<p>I'm currently looping over a custom protocol to pass information into an Electron app from the browser. This works great on every browser except Chrome. The below code runs the protocol in an iframe that then loads the data into Electron.</p>\n\n<p><strong>Code</strong></p>\n\n<pre><code>&lt;iframe id=\"dataDiv\" style=\"width:100%;align:center;overflow-y:hidden;\" frameborder=\"0\" scrolling=\"no\" /&gt;\n\nurl = \"custom-protocol://some-data?\"\n\nfor (i = 0; i &lt; 5; i++) {\n  $(\"#dataDiv\").attr(\"src\", url + i);\n}\n</code></pre>\n\n<p>The above code is pseudo code of how I'm trying to achieve this.</p>\n\n<p><strong>Expectation</strong></p>\n\n<p>My expectation is that it will loop 5 times, and pass the data into the Electron app. Like mentioned, this seems to only work with IE and Firefox.</p>\n\n<p><strong>Actual Results</strong></p>\n\n<p>While debugging Chrome, I find that it is only executing the first page. From the looks of it, for whatever reason, Chrome is only executing the first protocol load in the loop. </p>\n\n<p><strong>Other Attempts</strong></p>\n\n<ul>\n<li><p>I've also tried to do a timeout in the loop. Thinking that maybe it's\njust triggering the protocol too fast, and Chrome doesn't like that.\nThat failed as well.</p></li>\n<li><p>I've even tried just looping over javascript that creates a new tab,\ninstead of an iframe.. and it gives me the same result.</p></li>\n</ul>\n\n<p>Does anyone know of a security setting in Chrome that would prevent custom protocols to be loaded into Chrome multiple times simultaneously? </p>\n"}, {"tags": ["javascript", "arrays", "json", "ajax", "object"], "comments": [{"owner": {"reputation": 264, "user_id": 8748307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjlrI.jpg?s=128&g=1", "display_name": "scitronboy", "link": "https://stackoverflow.com/users/8748307/scitronboy"}, "edited": false, "score": 0, "creation_date": 1555533479, "post_id": 55735622, "comment_id": 98149449, "body": "What&#39;s the error?"}, {"owner": {"reputation": 264, "user_id": 8748307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjlrI.jpg?s=128&g=1", "display_name": "scitronboy", "link": "https://stackoverflow.com/users/8748307/scitronboy"}, "edited": false, "score": 1, "creation_date": 1555533530, "post_id": 55735622, "comment_id": 98149472, "body": "<code>id</code>s should be unique"}, {"owner": {"reputation": 264, "user_id": 8748307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjlrI.jpg?s=128&g=1", "display_name": "scitronboy", "link": "https://stackoverflow.com/users/8748307/scitronboy"}, "edited": false, "score": 0, "creation_date": 1555533568, "post_id": 55735622, "comment_id": 98149484, "body": "And change the &quot;BUTTON&quot; element to lowercase"}, {"owner": {"reputation": 157, "user_id": 10601287, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156953801176907/picture?type=large", "display_name": "Nancy Collins", "link": "https://stackoverflow.com/users/10601287/nancy-collins"}, "reply_to_user": {"reputation": 264, "user_id": 8748307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjlrI.jpg?s=128&g=1", "display_name": "scitronboy", "link": "https://stackoverflow.com/users/8748307/scitronboy"}, "edited": false, "score": 0, "creation_date": 1555533654, "post_id": 55735622, "comment_id": 98149521, "body": "TypeError: right-hand side of &#39;in&#39; should be an object, got string.. it is referring to the jquery library i have sourced at the top, which I guess must just mean something is very wrong in my code"}, {"owner": {"reputation": 157, "user_id": 10601287, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156953801176907/picture?type=large", "display_name": "Nancy Collins", "link": "https://stackoverflow.com/users/10601287/nancy-collins"}, "reply_to_user": {"reputation": 264, "user_id": 8748307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjlrI.jpg?s=128&g=1", "display_name": "scitronboy", "link": "https://stackoverflow.com/users/8748307/scitronboy"}, "edited": false, "score": 0, "creation_date": 1555533705, "post_id": 55735622, "comment_id": 98149540, "body": "Yeah i wanted to set their class names but needed them to be id&#39;s so i could append to them"}, {"owner": {"reputation": 264, "user_id": 8748307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjlrI.jpg?s=128&g=1", "display_name": "scitronboy", "link": "https://stackoverflow.com/users/8748307/scitronboy"}, "edited": false, "score": 0, "creation_date": 1555533769, "post_id": 55735622, "comment_id": 98149572, "body": "You can still append to class names. <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementsByClassName\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Document/&hellip;</a>"}, {"owner": {"reputation": 264, "user_id": 8748307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjlrI.jpg?s=128&g=1", "display_name": "scitronboy", "link": "https://stackoverflow.com/users/8748307/scitronboy"}, "edited": false, "score": 0, "creation_date": 1555533959, "post_id": 55735622, "comment_id": 98149653, "body": "Try adding a <code>console.log(i);</code> line between <code>btn.id = &quot;myBtn&quot;</code> and <code>$.each(i, (function(j) {</code>"}, {"owner": {"reputation": 157, "user_id": 10601287, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156953801176907/picture?type=large", "display_name": "Nancy Collins", "link": "https://stackoverflow.com/users/10601287/nancy-collins"}, "reply_to_user": {"reputation": 264, "user_id": 8748307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjlrI.jpg?s=128&g=1", "display_name": "scitronboy", "link": "https://stackoverflow.com/users/8748307/scitronboy"}, "edited": false, "score": 0, "creation_date": 1555535157, "post_id": 55735622, "comment_id": 98150041, "body": "thanks for that link! Ok did that it printed 0. Also changed the id to a class and changed buttons to lower case"}, {"owner": {"reputation": 264, "user_id": 8748307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjlrI.jpg?s=128&g=1", "display_name": "scitronboy", "link": "https://stackoverflow.com/users/8748307/scitronboy"}, "edited": false, "score": 0, "creation_date": 1555535407, "post_id": 55735622, "comment_id": 98150117, "body": "So is your problem fixed? If it is, you can answer your own question if you want. If it isn&#39;t, could you tell me what&#39;s still broken?"}, {"owner": {"reputation": 157, "user_id": 10601287, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156953801176907/picture?type=large", "display_name": "Nancy Collins", "link": "https://stackoverflow.com/users/10601287/nancy-collins"}, "reply_to_user": {"reputation": 264, "user_id": 8748307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjlrI.jpg?s=128&g=1", "display_name": "scitronboy", "link": "https://stackoverflow.com/users/8748307/scitronboy"}, "edited": false, "score": 0, "creation_date": 1555535660, "post_id": 55735622, "comment_id": 98150197, "body": "Still not fixed unfortunately, producing the same red error with the addition of a yellow error stating -&gt; Source map error: request failed with status 404 Resource URL: <a href=\"https://code.jquery.com/jquery-1.9.1.min.js\" rel=\"nofollow noreferrer\">code.jquery.com/jquery-1.9.1.min.js</a>"}], "answers": [{"tags": [], "owner": {"reputation": 264, "user_id": 8748307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vjlrI.jpg?s=128&g=1", "display_name": "scitronboy", "link": "https://stackoverflow.com/users/8748307/scitronboy"}, "is_accepted": false, "score": 0, "last_activity_date": 1555539427, "creation_date": 1555539427, "answer_id": 55736696, "question_id": 55735622, "link": "https://stackoverflow.com/questions/55735622/add-a-child-button-element-to-a-div-for-each-array-in-a-json-object-and-add-c/55736696#55736696", "title": "Add a (child) button element to a div for each array in a JSON object, and add child buttons (to the array buttons) for each object within the arrays", "body": "<pre><code>for (var i in Object.keys(json))\n</code></pre>\n\n<p>iterates over each <code>i</code> in <code>Object.keys(json)</code>, which returns an array of the keys in an object (as strings). <code>$.each</code> expects an array or object, but you pass it the index <code>i</code>, which is a string (like \"semester1\"). </p>\n\n<p>So you have two options: either you pass <code>json[i]</code> to <code>$.each</code> instead of just passing <code>i</code>, like this:</p>\n\n<pre><code>...\n    $( document ).ready(function() { \n        $.getJSON( \"courses.json\", function( json ) {\n            for (var key in Object.keys(json)) {\n                var btn = document.createElement(\"BUTTON\");\n                document.getElementById(\"nav\").appendChild(btn);\n                btn.id = \"myBtn\";\n                $.each(json[key], function(index, course) {\n                    var btns = document.createElement(\"BUTTON\");\n                    document.getElementById(\"myBtn\").appendChild(btns);\n                })\n            }\n        })\n    })\n...\n</code></pre>\n\n<p>Or you change the first <code>for</code> loop so that it iterates over the array of courses itself as well as the key \"i\". You can do this using <code>$.each</code>, just like you are doing in the other part of your program:</p>\n\n<pre><code>...\n    $( document ).ready(function() { \n        $.getJSON( \"courses.json\", function( json ) {\n            $.each(json, function(key, semester_courses) {\n                var btn = document.createElement(\"BUTTON\");\n                document.getElementById(\"nav\").appendChild(btn);\n                btn.id = \"myBtn\";\n                $.each(semester_courses, function(index, course) {\n                    var btns = document.createElement(\"BUTTON\");\n                    document.getElementById(\"myBtn\").appendChild(btns);\n                })\n            })\n         })\n    })\n...\n</code></pre>\n\n<p>I think this will help you solve your problem. If you are still getting errors just leave a comment and I will update my answer. Also please <strong>update your question with the most recent version of your code</strong> that is producing the error. Thanks!</p>\n"}, {"tags": [], "owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "is_accepted": false, "score": 0, "last_activity_date": 1555541803, "creation_date": 1555541803, "answer_id": 55737029, "question_id": 55735622, "link": "https://stackoverflow.com/questions/55735622/add-a-child-button-element-to-a-div-for-each-array-in-a-json-object-and-add-c/55737029#55737029", "title": "Add a (child) button element to a div for each array in a JSON object, and add child buttons (to the array buttons) for each object within the arrays", "body": "<p>Assuming <code>semester1</code> and the like are the only properties in the main JSON object you're getting:</p>\n\n<pre><code>$(function(){ // load\n$.getJSON('courses.json', function(json){\n  $.each(json, function(semester, array){\n    $.each(array, function(index, obj){\n      var b = document.createElement('input'); // not a submit button - I just prefer this style\n      b.type = 'button'; b.id = semester+'_'+index; $('#myButton').append(b);\n      $(b).on('click', function(){\n        console.log(obj); // should be the Object\n      });\n    });\n  });\n});\n}); // end load\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 10601287, "user_type": "registered", "profile_image": "https://graph.facebook.com/10156953801176907/picture?type=large", "display_name": "Nancy Collins", "link": "https://stackoverflow.com/users/10601287/nancy-collins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 148, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1555541803, "creation_date": 1555533446, "last_edit_date": 1555536037, "question_id": 55735622, "link": "https://stackoverflow.com/questions/55735622/add-a-child-button-element-to-a-div-for-each-array-in-a-json-object-and-add-c", "title": "Add a (child) button element to a div for each array in a JSON object, and add child buttons (to the array buttons) for each object within the arrays", "body": "<p>I am trying to create a button for each JSON array withing the JSON object. There are 2 arrays. I then want to append child buttons onto these 2 buttons for each object within the arrays (for which there are 6 each). I have written this code which in my head should work but it does not, it only produces an error. I'll include my JS code. I've been trying for a few days and am really running out of time so any advice would be great.</p>\n\n<pre><code>&lt;body&gt;\n&lt;div id=\"title\"&gt; &lt;!--print how many modules altogether here with .length--&gt;\n&lt;/div&gt;\n&lt;div id=\"nav\"&gt;\n&lt;/div&gt;\n\n\n&lt;script&gt;\n    $( document ).ready(function() { \n        $.getJSON( \"courses.json\", function( json ) {\n            for (var i in Object.keys(json)) {\n                var btn = document.createElement(\"BUTTON\");\n                document.getElementById(\"nav\").appendChild(btn);\n                btn.id = \"myBtn\";\n                    $.each(i, (function(j) {\n                        var btns = document.createElement(\"BUTTON\");\n                        document.getElementById(\"myBtn\").appendChild(btns);\n                        }))\n                    }\n            })\n    })\n\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>//JSON: </p>\n\n<pre><code>{\n\"semester1\": [\n        {\"code\":\"CS6100\", \n        \"title\":\"Multimedia Authoring\", \n        \"Credit Weighting\":5, \n        \"Content\":\"Programming in Processing\", \n        \"Assessment\":{\"CA\":40,\"exam\":60}, \n        \"link\":\"https://www.ucc.ie/admin/registrar/modules/?mod=CS6100\"},\n\n        {\"code\":\"CS6101\",  \n        \"title\":\"Web Development for Digital Media\", \n        \"Credit Weighting\":5, \n        \"Content\":\"Web Development with programming in Client and Server Side Languages\", \n        \"Assessment\":{\"CA\":40,\"exam\":60}, \n        \"link\":\"https://www.ucc.ie/admin/registrar/modules/?mod=CS6101\"},\n\n        {\"code\":\"CS6102\", \n        \"title\":\"Graphics for Interactive Media\", \n        \"Credit Weighting\":5, \n        \"Content\":\"Programming in Python. The principles, practices, technologies and critical frameworks associated with the practice of graphic design for digital media. Develop understanding of the creative and technical aspects of image capture, editing and manipulation. Production of graphics for digital media using industry-standard tools.\", \n        \"Assessment\":{\"CA\":40,\"exam\":60}, \n        \"link\":\"https://www.ucc.ie/admin/registrar/modules/?mod=CS6102\"},\n\n        {\"code\":\"CS6103\", \n        \"title\":\"Audio and Sound Engineering\", \n        \"Credit Weighting\":5, \n        \"Content\":\"Introduction to the technologies and techniques used in digital audio. Physics of sound and the psycho-physiological basis of hearing. Sound engineering, production and post-production.\", \n        \"Assessment\":{\"CA\":40,\"exam\":60}, \n        \"link\":\"https://www.ucc.ie/admin/registrar/modules/?mod=CS6103\"},\n\n        {\"code\":\"CS6104\", \n        \"title\":\"Digital Video Capture and Packaging\", \n        \"Credit Weighting\":5, \n        \"Content\":\"Develop understanding of the planning, production and post-production of digital video. Application and evaluation of industry-standard tools in capturing, processing and packaging digital video.\", \n        \"Assessment\":{\"CA\":40,\"exam\":60}, \n        \"link\":\"https://www.ucc.ie/admin/registrar/modules/?mod=CS6104\"},\n\n        {\"code\":\"CS6111\", \n        \"title\":\"3D Graphics and Modelling\", \n        \"Credit Weighting\":5, \n        \"Content\":\"Tools, techniques and processes involved in 3D graphics design, modelling and rendering. Create appropriate models of 3D objects and scenes. Solving problems in curve, surface and solid modeling.\", \n        \"Assessment\":{\"CA\":40,\"exam\":60}, \n        \"link\":\"https://www.ucc.ie/admin/registrar/modules/?mod=CS6111\"}\n        ],\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "ruby-on-rails", "drop-down-menu", "bootstrap-4"], "answers": [{"comments": [{"owner": {"reputation": 3422, "user_id": 1226906, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/LlI32.jpg?s=128&g=1", "display_name": "Pamela Cook - LightBe Corp", "link": "https://stackoverflow.com/users/1226906/pamela-cook-lightbe-corp"}, "edited": false, "score": 0, "creation_date": 1555537131, "post_id": 55735869, "comment_id": 98150741, "body": "It did not work. I will need to write JS code to close it. I just realized that code will need to be added to the script I&#39;m using for class page-scroll. That script slowly scrolls the page to the selected location on the page."}], "tags": [], "owner": {"reputation": 83, "user_id": 8924794, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RCv6T.png?s=128&g=1", "display_name": "kam773", "link": "https://stackoverflow.com/users/8924794/kam773"}, "is_accepted": false, "score": 0, "last_activity_date": 1555534751, "creation_date": 1555534751, "answer_id": 55735869, "question_id": 55735577, "link": "https://stackoverflow.com/questions/55735577/bootstrap-4-how-do-i-close-a-dropdown-menu-when-a-dropdown-item-is-clicked/55735869#55735869", "title": "Bootstrap 4: How Do I Close a dropdown-menu when a dropdown-item is clicked?", "body": "<p>try this </p>\n\n<pre><code>    &lt;div class=\"dropdown\"&gt;\n  &lt;button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;\n    Dropdown button\n  &lt;/button&gt;\n  &lt;div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\"&gt;\n    &lt;a class=\"dropdown-item\" href=\"#\"&gt;Action&lt;/a&gt;\n    &lt;a class=\"dropdown-item\" href=\"#\"&gt;Another action&lt;/a&gt;\n    &lt;a class=\"dropdown-item\" href=\"#\"&gt;Something else here&lt;/a&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3422, "user_id": 1226906, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/LlI32.jpg?s=128&g=1", "display_name": "Pamela Cook - LightBe Corp", "link": "https://stackoverflow.com/users/1226906/pamela-cook-lightbe-corp"}, "is_accepted": false, "score": 0, "last_activity_date": 1555538718, "creation_date": 1555538718, "answer_id": 55736599, "question_id": 55735577, "link": "https://stackoverflow.com/questions/55735577/bootstrap-4-how-do-i-close-a-dropdown-menu-when-a-dropdown-item-is-clicked/55736599#55736599", "title": "Bootstrap 4: How Do I Close a dropdown-menu when a dropdown-item is clicked?", "body": "<p>I remembered that I also use a SmoothScroll script in the dropdown menu. That script is executed for class page-scroll. I found the JS code for class page-scroll and added the following code before the page scrolling code.</p>\n\n<pre><code>$(\"#navbarDropdown\").dropdown('hide')\n</code></pre>\n\n<p>The dropdown menu closes when the menu item clicks as expected.</p>\n"}, {"tags": [], "owner": {"reputation": 49, "user_id": 9171588, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-PI3vTqAQ-h0/AAAAAAAAAAI/AAAAAAAAAXg/5eB67k8avIA/photo.jpg?sz=128", "display_name": "Priya Nayak", "link": "https://stackoverflow.com/users/9171588/priya-nayak"}, "is_accepted": false, "score": 0, "last_activity_date": 1577773886, "creation_date": 1577773886, "answer_id": 59540454, "question_id": 55735577, "link": "https://stackoverflow.com/questions/55735577/bootstrap-4-how-do-i-close-a-dropdown-menu-when-a-dropdown-item-is-clicked/59540454#59540454", "title": "Bootstrap 4: How Do I Close a dropdown-menu when a dropdown-item is clicked?", "body": "<p>Use Default bootstrap dropdown    </p>\n\n<pre><code> &lt;ul class=\"scrollToSection navbar-nav\"&gt;\n          &lt;li class=\"nav-item dropdown\"&gt; &lt;a class=\"nav-link dropdown-toggle\" href=\"#\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt; Menu &lt;/a&gt;\n            &lt;div class=\"dropdown-menu\"&gt;\n              &lt;div class=\"col title-block\"&gt;\n                &lt;ul class=\"scrollToSection navbar-nav\"&gt;\n                  &lt;li class=\"nav-item dropdown\"&gt; &lt;span class=\"nav-link dropdown-toggle\"&gt; Small Plates&lt;/span&gt;\n                    &lt;div class=\"dropdown-menu\"&gt;\n &lt;a class=\"nav-link dropdown-item active\" href=\"#garden\"&gt;The Garden&lt;/a&gt;\n &lt;a class=\"nav-link dropdown-item\" href=\"#sea\"&gt;Sea&lt;/a&gt; \n&lt;a class=\"nav-link dropdown-item\" href=\"#sides\"&gt;Sides&lt;/a&gt;\n &lt;a class=\"nav-link dropdown-item\" href=\"#farm\"&gt;Farm&lt;/a&gt; &lt;/div&gt;\n                  &lt;/li&gt;\n                &lt;/ul&gt;\n              &lt;/div&gt;\n\n            &lt;/div&gt;\n          &lt;/li&gt;\n        &lt;/ul&gt;\n</code></pre>\n"}], "owner": {"reputation": 3422, "user_id": 1226906, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/LlI32.jpg?s=128&g=1", "display_name": "Pamela Cook - LightBe Corp", "link": "https://stackoverflow.com/users/1226906/pamela-cook-lightbe-corp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1740, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1577773886, "creation_date": 1555533207, "last_edit_date": 1555534472, "question_id": 55735577, "link": "https://stackoverflow.com/questions/55735577/bootstrap-4-how-do-i-close-a-dropdown-menu-when-a-dropdown-item-is-clicked", "title": "Bootstrap 4: How Do I Close a dropdown-menu when a dropdown-item is clicked?", "body": "<p>I have a Bootstrap dropdown menu in a navbar. You need to click the menu to open it. If you click outside of the menu, it will close. If you click one of the items (class dropdown-item), it remains open. I would like to close it when a menu item is clicked. All of the items I have found are referencing earlier version of Bootstrap. </p>\n\n<p>Here is my code. The first time I click a menu item when I enter the website, the menu closes. The next time I click a menu item it remains open.</p>\n\n<pre><code>&lt;li class=\"nav-item dropdown\"&gt;\n  &lt;a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbarDropdown\" role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;\n    &lt;%= \"#{t :link_products}\" %&gt;\n  &lt;/a&gt;\n  &lt;div class=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\"&gt;\n    &lt;div class=\"dropdown-item\"&gt;&lt;%= link_to \"#{t :link_app}\", locale_root_path(anchor: \"games\"), class: \"page-scroll\" %&gt;&lt;/div&gt;\n    &lt;div class=\"dropdown-item\"&gt;&lt;%= link_to \"#{t :link_vr}\", locale_root_path(anchor: \"vrsection\"), class: \"page-scroll\" %&gt;&lt;/div&gt;\n    &lt;div class=\"dropdown-item\"&gt;&lt;%= link_to \"#{t :link_tesserart}\", locale_root_path(anchor: \"tesserartview\"), class: \"page-scroll\" %&gt;&lt;/div&gt;\n    &lt;div class=\"dropdown-item\"&gt;&lt;%= link_to \"#{t :link_books}\", locale_root_path(anchor: \"booksview\"), class: \"page-scroll\" %&gt;&lt;/div&gt;\n    &lt;div class=\"dropdown-divider\"&gt;&lt;/div&gt;\n    &lt;div class=\"dropdown-item\"&gt;&lt;%= link_to \"#{t :link_home}\", locale_root_path %&gt;&lt;/div&gt;\n  &lt;/div&gt;\n&lt;/li&gt;\n</code></pre>\n\n<p>I assume I will need to use Javascript but I'm not sure how to code the solution. I do have jQuery in my Rails application. Here is code that I use for nav pills to display my tab-content when the tab link is clicked.</p>\n\n<pre><code>$(window).load(function() {\n\n  $('#appPills a', '#vrPills a').click(function (e) {\n    e.preventDefault()\n    $(this).tab('show')\n  })\n\n})\n</code></pre>\n\n<p>I tried both of these but it did not work.</p>\n\n<pre><code>$(window).load(function() {\n\n  $('.dropdown-item a').click(function (e) {\n    $(\".dropdown-menu\").toggleClass(\"close\");\n  })\n\n})\n\n$(window).load(function() {\n\n  $('.dropdown-item').click(function (e) {\n    $(\".dropdown-menu\").toggleClass(\"close\");\n  })\n\n})\n</code></pre>\n"}, {"tags": ["javascript", "regex", "reactjs", "validation"], "comments": [{"owner": {"reputation": 20729, "user_id": 1470607, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/6CA0X.png?s=128&g=1", "display_name": "Etheryte", "link": "https://stackoverflow.com/users/1470607/etheryte"}, "edited": false, "score": 1, "creation_date": 1555533395, "post_id": 55735551, "comment_id": 98149423, "body": "Validate the whole value, don&#39;t validate individual keypresses. What happens if the user moves the cursor between keypresses?"}, {"owner": {"reputation": 15286, "user_id": 747355, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Xdh8.jpg?s=128&g=1", "display_name": "Rob Raisch", "link": "https://stackoverflow.com/users/747355/rob-raisch"}, "edited": false, "score": 1, "creation_date": 1555533477, "post_id": 55735551, "comment_id": 98149448, "body": "Your solution is not a regular expression. You should ask for one specifically or remove the [regex] tag."}, {"owner": {"reputation": 917, "user_id": 383038, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8825d9034a12797d72973c273da4ce65?s=128&d=identicon&r=PG", "display_name": "cmertayak", "link": "https://stackoverflow.com/users/383038/cmertayak"}, "edited": false, "score": 0, "creation_date": 1555533749, "post_id": 55735551, "comment_id": 98149563, "body": "What do you mean by a decimal number with up to 3 fields? Is it 3 digits after the comma or something else?"}], "answers": [{"comments": [{"owner": {"reputation": 691, "user_id": 5634596, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0dedad9d397244beffadafbc5b3a8fa3?s=128&d=identicon&r=PG&f=1", "display_name": "Zkk", "link": "https://stackoverflow.com/users/5634596/zkk"}, "edited": false, "score": 0, "creation_date": 1555593118, "post_id": 55735808, "comment_id": 98170351, "body": "I found a solution (I updated my question). Thank you so much for your help!"}], "tags": [], "owner": {"reputation": 917, "user_id": 383038, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8825d9034a12797d72973c273da4ce65?s=128&d=identicon&r=PG", "display_name": "cmertayak", "link": "https://stackoverflow.com/users/383038/cmertayak"}, "is_accepted": false, "score": 1, "last_activity_date": 1555534401, "creation_date": 1555534401, "answer_id": 55735808, "question_id": 55735551, "link": "https://stackoverflow.com/questions/55735551/validate-input-with-only-number-and-decimal-after-dot/55735808#55735808", "title": "Validate input with only number and decimal after dot", "body": "<p>I am not sure I understood your question well (I can update my solution based on your input) but I think you need a regular expression to match your overall value, not the individual inputs:</p>\n\n<pre><code>function is_valid(value) {\n  var exp = /^\\d+(,*\\d+)?$/;\n  return exp.test(value)\n}\n\ntests = [\"100,000\", \"1,0\", \"1\", \"1,00\", \",00\", \",150\", \",0\", \"100 100\"]\n\nfor(var i=0; i&lt;tests.length; i++) {\n  console.log(tests[i], is_valid(tests[i]))\n}\n</code></pre>\n"}], "owner": {"reputation": 691, "user_id": 5634596, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/0dedad9d397244beffadafbc5b3a8fa3?s=128&d=identicon&r=PG&f=1", "display_name": "Zkk", "link": "https://stackoverflow.com/users/5634596/zkk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555592864, "creation_date": 1555533077, "last_edit_date": 1555592864, "question_id": 55735551, "link": "https://stackoverflow.com/questions/55735551/validate-input-with-only-number-and-decimal-after-dot", "title": "Validate input with only number and decimal after dot", "body": "<p>I'm trying to make a validation that must accept the decimal numbers with up to 3 fields. The comma can only appear if you have at least one number entered</p>\n\n<p><code>Allow:</code>\n<br>100,000<br>\n1,0<br>\n1<br>\n1,00<br></p>\n\n<hr>\n\n<p><code>Doesn't Allow:</code>\n<br>,00<br>\n,150<br>\n,0<br>\n100 100</p>\n\n<p>I tried it (I'm using <code>React</code> to get the input value): </p>\n\n<pre><code>var code = (event.which) ? event.which : event.keyCode;\nif (code !== 46 &amp;&amp; (code &lt; 48 || code &gt; 57)) {\n   event.preventDefault();\n}\n</code></pre>\n\n<p>So far, I have managed to limit only fields and the point. But, it still allows <code>.000</code> and is not limited to 3 decimal places.</p>\n\n<p>How can I do this?</p>\n\n<p>-------------- UPDATE SOLUTION --------------</p>\n\n<p>I found <a href=\"https://stackoverflow.com/a/22571121/5634596\">this answer</a> that solve my problem. Thank you so much for your help guys</p>\n"}, {"tags": ["javascript", "php", "node.js", "laravel", "socket.io"], "comments": [{"owner": {"reputation": 308, "user_id": 3101066, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8a864452c7cc126446cfcea7d82a043e?s=128&d=identicon&r=PG&f=1", "display_name": "Isaac Ferreira", "link": "https://stackoverflow.com/users/3101066/isaac-ferreira"}, "edited": false, "score": 0, "creation_date": 1555533343, "post_id": 55735543, "comment_id": 98149406, "body": "If you&#39;re trying to build a Websocket-based Chat, I&#39;ll recomend you to use NodeJS + Socket.IO. Laravel is not a good choice to implements realtime applications."}, {"owner": {"reputation": 308, "user_id": 3101066, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8a864452c7cc126446cfcea7d82a043e?s=128&d=identicon&r=PG&f=1", "display_name": "Isaac Ferreira", "link": "https://stackoverflow.com/users/3101066/isaac-ferreira"}, "edited": false, "score": 0, "creation_date": 1555533389, "post_id": 55735543, "comment_id": 98149421, "body": "You can integrate Socket.IO with Laravel only as a client."}, {"owner": {"reputation": 1574, "user_id": 7047493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f9444942475d37d9cf5c35295e16214?s=128&d=identicon&r=PG", "display_name": "loic.lopez", "link": "https://stackoverflow.com/users/7047493/loic-lopez"}, "edited": false, "score": 0, "creation_date": 1555534451, "post_id": 55735543, "comment_id": 98149813, "body": "see: <a href=\"https://github.com/beyondcode/laravel-websockets\" rel=\"nofollow noreferrer\">github.com/beyondcode/laravel-websockets</a>"}], "owner": {"reputation": 432, "user_id": 10876255, "user_type": "registered", "profile_image": "https://graph.facebook.com/1163850980447734/picture?type=large", "display_name": "Grigory Volkov", "link": "https://stackoverflow.com/users/10876255/grigory-volkov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1875, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1580531322, "creation_date": 1555533055, "question_id": 55735543, "link": "https://stackoverflow.com/questions/55735543/how-can-i-use-socket-io-with-laravel", "title": "How can I use socket.io with Laravel?", "body": "<p>I'm having hard time finding any tutorials on how can I integrate socket.io into my Laravel project. I want to build a Laravel chat application.</p>\n\n<p>If there are any other Websocket suggestions rather than socket.io please tell me about them.</p>\n"}, {"tags": ["javascript", "reactjs", "class", "methods", "components"], "answers": [{"tags": [], "owner": {"reputation": 176, "user_id": 9659257, "user_type": "registered", "profile_image": "https://graph.facebook.com/1741493909237653/picture?type=large", "display_name": "Juliani Schlickmann", "link": "https://stackoverflow.com/users/9659257/juliani-schlickmann"}, "is_accepted": false, "score": 0, "last_activity_date": 1555532965, "creation_date": 1555532965, "answer_id": 55735523, "question_id": 55735443, "link": "https://stackoverflow.com/questions/55735443/how-can-i-update-the-state-of-an-array-index-individually-in-a-react-component-w/55735523#55735523", "title": "How can I update the state of an array index individually in a React component without effecting the whole array itself when using setState()?", "body": "<pre><code>const newArray = this.state.score.map(element =&gt; element + 5);\n</code></pre>\n\n<p>And then do:</p>\n\n<pre><code>this.setState({score: newArray});\n</code></pre>\n\n<p>The map function returns a new array using your condition.</p>\n\n<p>Any problem let me know :)</p>\n"}, {"tags": [], "owner": {"reputation": 308, "user_id": 3101066, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8a864452c7cc126446cfcea7d82a043e?s=128&d=identicon&r=PG&f=1", "display_name": "Isaac Ferreira", "link": "https://stackoverflow.com/users/3101066/isaac-ferreira"}, "is_accepted": false, "score": -1, "last_activity_date": 1555533138, "creation_date": 1555533138, "answer_id": 55735571, "question_id": 55735443, "link": "https://stackoverflow.com/questions/55735443/how-can-i-update-the-state-of-an-array-index-individually-in-a-react-component-w/55735571#55735571", "title": "How can I update the state of an array index individually in a React component without effecting the whole array itself when using setState()?", "body": "<p>Try:</p>\n\n<pre><code>   scoreFive(index) {\n        this.setState((prevState) =&gt; {\n            const score = prevState.score; // reference the array\n            score[index] + 5; // modify the specific index\n\n            return {\n                score: score\n            };            \n        })\n        console.log(key)\n    }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1555533388, "creation_date": 1555533388, "answer_id": 55735609, "question_id": 55735443, "link": "https://stackoverflow.com/questions/55735443/how-can-i-update-the-state-of-an-array-index-individually-in-a-react-component-w/55735609#55735609", "title": "How can I update the state of an array index individually in a React component without effecting the whole array itself when using setState()?", "body": "<p>You have to take the array from the previous state, clone it, modify the certain index, and then update the state with that:</p>\n\n<pre><code> score: prevState.score.map((value, index) =&gt; index === key ? value + 5 : value)\n</code></pre>\n\n<p>If you do that quite often it is quite repetetive, you could also abstract that into a helper:</p>\n\n<pre><code>  const lens = (key, cb) =&gt; obj =&gt; ({ ...obj, [key]: cb(obj[key]) });\n  const index = (index, cb) =&gt; array =&gt; array.map((v, i) =&gt; i === index ? cb(v) : v);\n</code></pre>\n\n<p>Usable as:</p>\n\n<pre><code>  this.setState(lens(\"score\", index(key, it =&gt; it + 5)));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1555533607, "post_id": 55735642, "comment_id": 98149498, "body": "Why shallow copy <code>score</code> if you mutate it before?"}, {"owner": {"reputation": 2052, "user_id": 4527878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2Xf8iNcWL1Y/AAAAAAAAAAI/AAAAAAAAAGc/UUSRGDEXvXg/photo.jpg?sz=128", "display_name": "Murtaza Hussain", "link": "https://stackoverflow.com/users/4527878/murtaza-hussain"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1555533746, "post_id": 55735642, "comment_id": 98149560, "body": "updated the answer to avoid it, please avoid negative marking without verifying"}], "tags": [], "owner": {"reputation": 2052, "user_id": 4527878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2Xf8iNcWL1Y/AAAAAAAAAAI/AAAAAAAAAGc/UUSRGDEXvXg/photo.jpg?sz=128", "display_name": "Murtaza Hussain", "link": "https://stackoverflow.com/users/4527878/murtaza-hussain"}, "is_accepted": false, "score": -1, "last_activity_date": 1555575630, "last_edit_date": 1555575630, "creation_date": 1555533508, "answer_id": 55735642, "question_id": 55735443, "link": "https://stackoverflow.com/questions/55735443/how-can-i-update-the-state-of-an-array-index-individually-in-a-react-component-w/55735642#55735642", "title": "How can I update the state of an array index individually in a React component without effecting the whole array itself when using setState()?", "body": "<p>update the score and setState it..</p>\n\n<pre><code>   scoreFive(key) {\n        let {score} = this.state;\n        score[key] += 5;\n        this.setState({score});\n    }\n</code></pre>\n\n<p><strong>Edited----------------------</strong></p>\n\n<p>So after researching and some negative marking i found that i was doing it wrong and mutating the state as mentioned in <a href=\"https://reactjs.org/docs/optimizing-performance.html#the-power-of-not-mutating-data\" rel=\"nofollow noreferrer\">the-power-of-not-mutating-data</a></p>\n\n<p>So here is the updated implementation</p>\n\n<pre><code>   scoreFive(key) {\n        this.setState({score: this.state.score.map((data, index) =&gt; index === key ? data + 5 : data) });\n    }\n</code></pre>\n\n<p>Thanks for helping me out :)</p>\n"}], "owner": {"reputation": 5, "user_id": 6890977, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209671103007828/picture?type=large", "display_name": "Micah Johnson", "link": "https://stackoverflow.com/users/6890977/micah-johnson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1555575630, "creation_date": 1555532547, "question_id": 55735443, "link": "https://stackoverflow.com/questions/55735443/how-can-i-update-the-state-of-an-array-index-individually-in-a-react-component-w", "title": "How can I update the state of an array index individually in a React component without effecting the whole array itself when using setState()?", "body": "<p>I'm revisiting an old problem that I asked about and approaching it differently. Currently I want to update the score array individual. Currently what happens is when the onClick function runs it removes all whole array. How do I update just that array's index that I am trying to specify???</p>\n\n<pre><code>class App extends React.Component {\n    constructor(props) {\n        super(props);\n        this.scoreFive = this.scoreFive.bind(this);\n        this.state = { \n            score: [10, 20]\n         }\n    }\n    scoreFive(key) {\n        this.setState((prevState) =&gt; {\n            return {\n                score: [\n                    prevState.score[key] + 5\n                ]\n            }\n        })\n        console.log(key)\n    }\n\n\n    render() { \n        return ( \n            &lt;div&gt;\n                &lt;h1&gt;Dominoes&lt;/h1&gt;\n                &lt;Player key={1} name=\"micah\" score={this.state.score[0]} scoreFive={() =&gt; this.scoreFive(0)} /&gt;\n                &lt;Player key={2} name=\"kyndra\" score={this.state.score[1]} scoreFive={() =&gt; this.scoreFive(1)} /&gt;\n            &lt;/div&gt;\n         );\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 9524413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c278942c108e2e60459e3a3fa681fc1?s=128&d=identicon&r=PG&f=1", "display_name": "n1234", "link": "https://stackoverflow.com/users/9524413/n1234"}, "edited": false, "score": 0, "creation_date": 1555533595, "post_id": 55735521, "comment_id": 98149492, "body": "Thanks. This works. Is it safe enough to clear all the escape characters though (as that would clear it in the entire json string)?"}, {"owner": {"reputation": 427, "user_id": 9194552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b8b49211a27600d38309848ffcf6a4e?s=128&d=identicon&r=PG&f=1", "display_name": "MSclavi", "link": "https://stackoverflow.com/users/9194552/msclavi"}, "reply_to_user": {"reputation": 123, "user_id": 9524413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c278942c108e2e60459e3a3fa681fc1?s=128&d=identicon&r=PG&f=1", "display_name": "n1234", "link": "https://stackoverflow.com/users/9524413/n1234"}, "edited": false, "score": 0, "creation_date": 1555534719, "post_id": 55735521, "comment_id": 98149894, "body": "Maybe try <code>json = json.replace(&#39;\\&quot;{&#39;, &#39;{&#39;).replace(&#39;}\\&quot;&#39;, &#39;}&#39;).replace(&#39;\\\\&quot;&#39;, &#39;&quot;&#39;)</code>. I&#39;ll edit the answer"}], "tags": [], "owner": {"reputation": 427, "user_id": 9194552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b8b49211a27600d38309848ffcf6a4e?s=128&d=identicon&r=PG&f=1", "display_name": "MSclavi", "link": "https://stackoverflow.com/users/9194552/msclavi"}, "is_accepted": true, "score": 1, "last_activity_date": 1555534765, "last_edit_date": 1555534765, "creation_date": 1555532958, "answer_id": 55735521, "question_id": 55735402, "link": "https://stackoverflow.com/questions/55735402/parse-complex-json-string/55735521#55735521", "title": "Parse Complex Json String", "body": "<p>Maybe this can help you out. You replace the curly braces inside your string without the <code>\"</code>, and remove the <code>\\</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var json = '{\"what.1.does\":\"anything\", \"nestedjsonstr\":\"{\\\"whatup\\\":\\\"nada\\\"}\"}';\r\n\r\njson = json.replace('\\\"{', '{').replace('}\\\"', '}').replace('\\\\\"', '\"');\r\n\r\nobj = JSON.parse(json);\r\nconsole.log(obj);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 123, "user_id": 9524413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7c278942c108e2e60459e3a3fa681fc1?s=128&d=identicon&r=PG&f=1", "display_name": "n1234", "link": "https://stackoverflow.com/users/9524413/n1234"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 55735521, "answer_count": 1, "score": 1, "last_activity_date": 1555534765, "creation_date": 1555532391, "question_id": 55735402, "link": "https://stackoverflow.com/questions/55735402/parse-complex-json-string", "title": "Parse Complex Json String", "body": "<p>I'm attempting to parse the following JSON string (not in control of the format, I know it's hideous).</p>\n\n<pre><code>    var json = '{\"what.1.does\":\"anything\", \"nestedjsonstr\":\"{\\\"whatup\\\":\\\"nada\\\"}\"}';\n    obj = JSON.parse(json);\n</code></pre>\n\n<p>I'm getting <code>Error: Unexpected token w in JSON at position 43</code> which is where the first value of nestedjsonstr begins. Is there any elegant way to parse this?</p>\n"}, {"tags": ["javascript", "three.js"], "answers": [{"tags": [], "owner": {"reputation": 16915, "user_id": 5250847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zezra.jpg?s=128&g=1", "display_name": "Mugen87", "link": "https://stackoverflow.com/users/5250847/mugen87"}, "is_accepted": true, "score": 1, "last_activity_date": 1555577193, "creation_date": 1555577193, "answer_id": 55742347, "question_id": 55735340, "link": "https://stackoverflow.com/questions/55735340/light-behind-solid-geometry/55742347#55742347", "title": "Light behind solid geometry", "body": "<p>One way to achieve your intended result is to work with shadows. So you have to set <code>Object3D.castShadow</code> and <code>Object3D.receiveShadow</code> to <code>true</code> for your spheres and your ground like in the following live example:</p>\n\n<p><a href=\"https://jsfiddle.net/85q3sfeg/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/85q3sfeg/</a></p>\n\n<p>Also keep in mind that <code>three.js</code> does not support selective lighting so far. This issue was already discussed at github right here: <a href=\"https://github.com/mrdoob/three.js/issues/5180\" rel=\"nofollow noreferrer\">https://github.com/mrdoob/three.js/issues/5180</a></p>\n\n<p>Assuming all objects of your scene have a lit material applied, you can't define what light sources should affect what objects.</p>\n\n<p><code>three.js R103</code> </p>\n"}], "owner": {"reputation": 13, "user_id": 9554863, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Esteban Vanegas", "link": "https://stackoverflow.com/users/9554863/esteban-vanegas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 55742347, "answer_count": 1, "score": 1, "last_activity_date": 1555577193, "creation_date": 1555532098, "last_edit_date": 1555533869, "question_id": 55735340, "link": "https://stackoverflow.com/questions/55735340/light-behind-solid-geometry", "title": "Light behind solid geometry", "body": "<p>I'm creating an HTML file integrating ThreeJs, basically I have created 4 Spheres, 1 of them projects the light, other 3 spheres turn in a wall. When the Spheres is behind the wall they should not reflect the light, what I supposed to do to solve this?</p>\n\n<p>I've already try changing the materials of the Spheres which turns around the wall to Lambert and Phong, setting up castShadow to true, and recieveShadow to False</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function onLoad() {\r\n  var camera, scene, renderer, orbitControls;\r\n  \r\n  init();\r\n  animate();\r\n\r\n  function init() {\r\n    camera = new THREE.PerspectiveCamera(70, window.innerWidth / window.innerHeight, 1, 1000);\r\n    camera.position.set(0, 30, -100);\r\n\r\n    scene = new THREE.Scene();\r\n    scene.background = new THREE.Color(0xffffff);\r\n    scene.add(camera);\r\n    \r\n    orbitControls = new THREE.OrbitControls(camera);\r\n    \r\n    escena = scene;\r\n\r\n    esferaLuz = new THREE.SphereBufferGeometry(0.5, 16, 16);\r\n    luzUno = new THREE.SpotLight(0xFFFFFF, 1);\r\n    luzUno.angle = Math.PI / 12;\r\n    luzUno.penumbra = 0.05;\r\n    luzUno.decay = 2;\r\n    luzUno.position.set(-30, 40, -5);\r\n    mtLuzUno = new THREE.MeshBasicMaterial({color: 0xFFFFFF});\r\n    mallaLuzUno = new THREE.Mesh(esferaLuz, mtLuzUno);\r\n    luzUno.add(mallaLuzUno);\r\n    escena.add(luzUno);    \r\n\r\n    luzUno.castShadow = true;\r\n    luzUno.shadow.mapSize.width = 1024;\r\n    luzUno.shadow.mapSize.height = 1024;\r\n    luzUno.shadow.camera.near = 10;\r\n    luzUno.shadow.camera.far = 200;\r\n\r\n    luzMap = new THREE.SpotLightHelper(luzUno);\r\n    escena.add(luzMap);\r\n\r\n    sombraMap = new THREE.CameraHelper(luzUno.shadow.camera);\r\n    escena.add(sombraMap);\r\n\r\n    var luzAmbiente = new THREE.AmbientLight( 0xffffff, 0.1 );\r\n    escena.add(luzAmbiente);\r\n\r\n\r\n    geometriaPlana = new THREE.CubeGeometry(100, 100, 2, 2);\r\n    mtPlano = new THREE.MeshLambertMaterial({color: 0x000000});\r\n    mtPlano.transparent = false;\r\n    mtPlano.depthWrite = true;\r\n    mallaPlano = new THREE.Mesh(geometriaPlana, mtPlano);\r\n    mallaPlano.rotation.x = -0.5*Math.PI;\r\n    mallaPlano.position.x = 15;\r\n    mallaPlano.position.y = 0;\r\n    mallaPlano.position.z = 0;\r\n    mallaPlano.receiveShadow = true;\r\n    escena.add(mallaPlano);\r\n\r\n    objEsfera = new THREE.SphereGeometry(5, 100, 100);\r\n    mtObjEsfera = new THREE.MeshPhongMaterial({color: 0xFFFFFF, specular:0xFFFFFF, shininess: 1024});\r\n    mallaObjEsfera3 = new THREE.Mesh(objEsfera, mtObjEsfera);\r\n    mallaObjEsfera3.position.set(20, 0, 0);\r\n    mallaObjEsfera3.castShadow = true;\r\n    mallaObjEsfera3.receiveShadow = false;\r\n    escena.add(mallaObjEsfera3);\r\n\r\n    objEsfera = new THREE.SphereGeometry(5, 100, 100);\r\n    mtObjEsfera = new THREE.MeshPhongMaterial({color: 0xF90E0E, specular:0xF90E0E, shininess: 512});\r\n    mallaObjEsfera2 = new THREE.Mesh(objEsfera, mtObjEsfera);\r\n    mallaObjEsfera2.position.set(5, 0, 0);\r\n    mallaObjEsfera2.castShadow = true;\r\n    mallaObjEsfera2.receiveShadow = false;\r\n    escena.add(mallaObjEsfera2);\r\n\r\n    objEsfera = new THREE.SphereGeometry(5, 100, 100);\r\n    mtObjEsfera = new THREE.MeshLambertMaterial({color: 0xF2E406});\r\n    mallaObjEsfera = new THREE.Mesh(objEsfera, mtObjEsfera);\r\n    mallaObjEsfera.position.set(-10, 0, 0);\r\n    mallaObjEsfera.castShadow = true;\r\n    mallaObjEsfera.receiveShadow = false;\r\n    escena.add(mallaObjEsfera);\r\n\r\n    renderer = new THREE.WebGLRenderer({antialias: true});\r\n    renderer.setPixelRatio( window.devicePixelRatio);\r\n    renderer.setClearColor(0xEEEEEE);\r\n    renderer.shadowMap.enabled = true;\r\n    renderer.shadowMap.renderReverseSided = false;\r\n    renderer.sortObjects = false\r\n    renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n    renderer.setSize( window.innerWidth, window.innerHeight);\r\n    document.body.appendChild(renderer.domElement);\r\n    renderer.gammaInput = true;\r\n    renderer.gammaOutput = true;\r\n\r\n    window.onresize = function() {\r\n        renderer.setSize(window.innerWidth, window.innerHeight);\r\n        camera.aspect = window.innerWidth / window.innerHeight;\r\n        camera.updateProjectionMatrix();\r\n    }\r\n}\r\n\r\n  function animate() {\r\n    requestAnimationFrame(animate);\r\n    orbitControls.update();\r\n    render();\r\n  }\r\n\r\n  function render() {\r\n    renderer.render(scene, camera);\r\n  }\r\n})();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/three.js/103/three.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://threejs.org/examples/js/controls/OrbitControls.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I expect that when the spheres is behind the wall, don't show any type of reflects of light but when is on the front reflect the light .</p>\n"}, {"tags": ["javascript", "ajax", "laravel", "stored-procedures", "pdo"], "comments": [{"owner": {"reputation": 1574, "user_id": 7047493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f9444942475d37d9cf5c35295e16214?s=128&d=identicon&r=PG", "display_name": "loic.lopez", "link": "https://stackoverflow.com/users/7047493/loic-lopez"}, "edited": false, "score": 0, "creation_date": 1555532618, "post_id": 55735314, "comment_id": 98149136, "body": "I understand well you want to have the latest <code>Campaign</code> in a hidden input?"}, {"owner": {"reputation": 3895, "user_id": 7954280, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/879f753c9bd169ec136627d03d1b0f96?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff_S", "link": "https://stackoverflow.com/users/7954280/geoff-s"}, "reply_to_user": {"reputation": 1574, "user_id": 7047493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f9444942475d37d9cf5c35295e16214?s=128&d=identicon&r=PG", "display_name": "loic.lopez", "link": "https://stackoverflow.com/users/7047493/loic-lopez"}, "edited": false, "score": 0, "creation_date": 1555532780, "post_id": 55735314, "comment_id": 98149200, "body": "Yes. In the service, <code>$out2</code> is my latest campaign ID. I just want to have it as a hidden input once the ajax call is successful, so I need to return $out2 back after that"}, {"owner": {"reputation": 1574, "user_id": 7047493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f9444942475d37d9cf5c35295e16214?s=128&d=identicon&r=PG", "display_name": "loic.lopez", "link": "https://stackoverflow.com/users/7047493/loic-lopez"}, "edited": false, "score": 0, "creation_date": 1555533031, "post_id": 55735314, "comment_id": 98149286, "body": "I will propose you my solution in an answer."}], "answers": [{"comments": [{"owner": {"reputation": 3895, "user_id": 7954280, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/879f753c9bd169ec136627d03d1b0f96?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff_S", "link": "https://stackoverflow.com/users/7954280/geoff-s"}, "edited": false, "score": 0, "creation_date": 1555533890, "post_id": 55735628, "comment_id": 98149622, "body": "Thank you! I do think there&#39;s a syntax error here though <code>return Response::json([&quot;campaign_id&quot; =&gt; $createdCampaignId)</code>"}, {"owner": {"reputation": 3895, "user_id": 7954280, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/879f753c9bd169ec136627d03d1b0f96?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff_S", "link": "https://stackoverflow.com/users/7954280/geoff-s"}, "edited": false, "score": 0, "creation_date": 1555534150, "post_id": 55735628, "comment_id": 98149713, "body": "I fixed that though, but now <code>console.log(data.campaign_id)</code> is null so I&#39;m trying to see why"}, {"owner": {"reputation": 1574, "user_id": 7047493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f9444942475d37d9cf5c35295e16214?s=128&d=identicon&r=PG", "display_name": "loic.lopez", "link": "https://stackoverflow.com/users/7047493/loic-lopez"}, "reply_to_user": {"reputation": 3895, "user_id": 7954280, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/879f753c9bd169ec136627d03d1b0f96?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff_S", "link": "https://stackoverflow.com/users/7954280/geoff-s"}, "edited": false, "score": 0, "creation_date": 1555534246, "post_id": 55735628, "comment_id": 98149745, "body": "can you do <code>console.log(data)</code>"}, {"owner": {"reputation": 3895, "user_id": 7954280, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/879f753c9bd169ec136627d03d1b0f96?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff_S", "link": "https://stackoverflow.com/users/7954280/geoff-s"}, "edited": false, "score": 0, "creation_date": 1555534553, "post_id": 55735628, "comment_id": 98149849, "body": "Yes it shows the object <code>OUT_CAMPAIGN_ID: null</code>"}, {"owner": {"reputation": 3895, "user_id": 7954280, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/879f753c9bd169ec136627d03d1b0f96?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff_S", "link": "https://stackoverflow.com/users/7954280/geoff-s"}, "edited": false, "score": 0, "creation_date": 1555534857, "post_id": 55735628, "comment_id": 98149942, "body": "the OUT_CAMPAIGN_ID that&#39;s returned is an integer if that makes a difference"}, {"owner": {"reputation": 1574, "user_id": 7047493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f9444942475d37d9cf5c35295e16214?s=128&d=identicon&r=PG", "display_name": "loic.lopez", "link": "https://stackoverflow.com/users/7047493/loic-lopez"}, "reply_to_user": {"reputation": 3895, "user_id": 7954280, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/879f753c9bd169ec136627d03d1b0f96?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff_S", "link": "https://stackoverflow.com/users/7954280/geoff-s"}, "edited": false, "score": 0, "creation_date": 1555535057, "post_id": 55735628, "comment_id": 98150011, "body": "the JSON format handle correctly both integer and float numbers"}], "tags": [], "owner": {"reputation": 1574, "user_id": 7047493, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3f9444942475d37d9cf5c35295e16214?s=128&d=identicon&r=PG", "display_name": "loic.lopez", "link": "https://stackoverflow.com/users/7047493/loic-lopez"}, "is_accepted": true, "score": 1, "last_activity_date": 1555533456, "creation_date": 1555533456, "answer_id": 55735628, "question_id": 55735314, "link": "https://stackoverflow.com/questions/55735314/returning-stored-procedure-output-through-ajax/55735628#55735628", "title": "Returning stored procedure output through ajax", "body": "<p>In your <strong>createCampaign</strong></p>\n\n<pre class=\"lang-php prettyprint-override\"><code>function createCampaign($campaignName, $attribute){\n\n    $stmt = \\DB::connection('odbc')-&gt;getPdo()-&gt;prepare('CALL PROCEDURES.INSERT_CAMPAIGN(?,?,?)');\n\n    $stmt-&gt;bindValue(1,$campaignName, PDO::PARAM_STR);\n    $stmt-&gt;bindValue(2,$attribute, $attribute==0 ? PDO::PARAM_NULL : PDO::PARAM_INT);\n    $stmt-&gt;bindParam(3,$out2, PDO::PARAM_INT);\n    $stmt-&gt;execute();\n\n    return $out2;\n}\n</code></pre>\n\n<p>In your <strong>Controller</strong></p>\n\n<p>Use these class:</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>use Illuminate\\Support\\Facades\\Response;\nuse Illuminate\\Http\\Response as HttpResponse;\n</code></pre>\n\n<p><strong>Return a JSON response:</strong></p>\n\n<pre class=\"lang-php prettyprint-override\"><code>public function createCampaign(Request $request)\n{\n    $campaignName = $request-&gt;campaignName;\n    $attribute = $request-&gt;attribute;\n\n    $campaignService = new CampaignService();\n    $createdCampaignId = $campaignService-&gt;createCampaign($campaignName, (int) $attribute);\n\n    return Response::json([\"campaign_id\" =&gt; $createdCampaignId)\n            -&gt;setStatusCode(HttpResponse::HTTP_OK);\n}\n</code></pre>\n\n<p>In your <strong>Blade template</strong></p>\n\n<pre><code>$.ajax({\n\n   type:'POST',\n   url:'campaigns/createCampaign',\n   data:{campaignName:campaignName, attribute:attribute},\n    _token: '{{ csrf_token() }}',\n   success:function(data){\n        intro_modal.hide();\n       // data.campaign_id will contains the new campain id\n   }\n});\n</code></pre>\n\n<p>After you will just need to insert the value of the <code>data.campaign_id</code> with <code>jQuery</code> for example.</p>\n"}], "owner": {"reputation": 3895, "user_id": 7954280, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/879f753c9bd169ec136627d03d1b0f96?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff_S", "link": "https://stackoverflow.com/users/7954280/geoff-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 1, "accepted_answer_id": 55735628, "answer_count": 1, "score": 1, "last_activity_date": 1555533456, "creation_date": 1555531992, "question_id": 55735314, "link": "https://stackoverflow.com/questions/55735314/returning-stored-procedure-output-through-ajax", "title": "Returning stored procedure output through ajax", "body": "<p>I currently have a working process where an ajax call is made in my blade which makes a call through the controller and that function hits a stored procedure call using PDO. This call is successful and my stored procedure executes/inserts properly and is set to return back my output. My only question now is:</p>\n\n<p>How can I take the output from the stored procedure and pass it back into my blade for a hidden input? There is no page refresh, so when the AJAX call is successful then I want to put my output from the service file into a hidden input in the blade. How can I properly do this?</p>\n\n<p>BLADE:</p>\n\n<pre><code>$.ajax({\n\n   type:'POST',\n   url:'campaigns/createCampaign',\n   data:{campaignName:campaignName, attribute:attribute},\n    _token: '{{ csrf_token() }}',\n   success:function(data){\n        intro_modal.hide();\n   }\n});\n</code></pre>\n\n<p>CONTROLLER:</p>\n\n<pre><code>public function createCampaign(Request $request)\n{\n    $campaignName = $request-&gt;campaignName;\n    $attribute = $request-&gt;attribute;\n\n    $campaignService = new CampaignService();\n    $createCampaign = $campaignService-&gt;createCampaign($campaignName, (int) $attribute);\n\n    //return response()-&gt;$campaignService;\n}\n</code></pre>\n\n<p>SERVICE:</p>\n\n<pre><code>function createCampaign($campaignName, $attribute){\n\n    $stmt = \\DB::connection('odbc')-&gt;getPdo()-&gt;prepare('CALL PROCEDURES.INSERT_CAMPAIGN(?,?,?)');\n\n    $stmt-&gt;bindValue(1,$campaignName, PDO::PARAM_STR);\n    $stmt-&gt;bindValue(2,$attribute, $attribute==0 ? PDO::PARAM_NULL : PDO::PARAM_INT);\n    $stmt-&gt;bindParam(3,$out2, PDO::PARAM_INT);\n\n    $stmt-&gt;execute();\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "console", "console.log"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1555533121, "post_id": 55735306, "comment_id": 98149322, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/Status/400</a>"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1555533229, "post_id": 55735306, "comment_id": 98149368, "body": "<code>const api =</code>${proxy}<a href=\"https://api.darksky.net/forecast/217e0a6f0942213d0c3e6990a8b626f3/$\" rel=\"nofollow noreferrer\">api.darksky.net/forecast/217e0a6f0942213d0c3e6990a8&zwnj;&#8203;b626f3/$</a>{lat},${long&zwnj;&#8203;}<code>;</code> &lt;&lt;&lt;&lt; If <code>proxy</code> is a full URL, placing it in front of another full URL doesn&#39;t seem right."}, {"owner": {"reputation": 221, "user_id": 3698319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2d440e69de410fcb36b3aa6be2e97ee?s=128&d=identicon&r=PG&f=1", "display_name": "Sanders", "link": "https://stackoverflow.com/users/3698319/sanders"}, "edited": false, "score": 0, "creation_date": 1555533441, "post_id": 55735306, "comment_id": 98149437, "body": "I think your params might be wrong. When I run your code using static lat/long variables that i got from <a href=\"https://www.latlong.net/\" rel=\"nofollow noreferrer\">latlong.net</a> it works just fine. Can you add/show your full URL?"}], "owner": {"reputation": 424, "user_id": 11096711, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4ygZX.png?s=128&g=1", "display_name": "Love2Code", "link": "https://stackoverflow.com/users/11096711/love2code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 492, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555531948, "creation_date": 1555531948, "question_id": 55735306, "link": "https://stackoverflow.com/questions/55735306/how-to-fix-failed-to-load-resource-in-javascript", "title": "How To fix failed to load resource in JavaScript?", "body": "<p>I'm working on a weather app and following a tutorial from Dev Ed on youtube. I'm supposed to be getting some information in the console log but instead, I get this error, Failed to load resource the server responded with a status of 400. How do I remove this syntax error and what seems to be the reason for it?\nThanks, Love2Code</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n\t&lt;title&gt;Local Weather&lt;/title&gt;\r\n\t&lt;script&gt;\r\n\twindow.addEventListener(\"load\", () =&gt; {\r\n\t\t//Asks user location\r\n\t\tlet long;\r\n\t\tlet lat;\r\n\t\t\r\n\t\tif(navigator.geolocation) {\r\n\t\t\tnavigator.geolocation.getCurrentPosition(position =&gt; {\r\n\t\t\t\tlong = position.coords.longitude;\r\n\t\t\t\tlat = position.coords.latidute;\r\n\t\t\t\t\r\n\t\t\t\tconst proxy = \"https://cors-anywhere.herokuapp.com/\";\r\n\t\t\t\tconst api =`${proxy}https://api.darksky.net/forecast/217e0a6f0942213d0c3e6990a8b626f3/${lat},${long}`;\r\n\t\t\t\t//Catches weather info from website\r\n\t\t\tfetch(api)\r\n\t\t\t.then(response =&gt; {\r\n\t\t\t\treturn response.json();\r\n\t\t\t})\r\n\t\t\t.then(data =&gt; {\r\n\t\t\t\tconsole.log(data);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t&lt;/script&gt;\r\n&lt;style&gt;\r\n@media screen and (min-width:1px) and (max-width:1365px) {\r\n    ...\r\n}\r\n@media screen and (min-width:1366px) {\r\n    ...\r\n}\r\n*{\r\n\tmargin:0;\r\n\tpadding:0;\r\n\tbox-sizing:border-box;\r\n}\r\nbody{\r\n\theight:100vh;\r\n\tdisplay:flex;\r\n\tjustify-content:center;\r\n\tflex-direction:column;\r\n\talign-items:center;\r\n\tbackground:linear-gradient(rgb(47,150,163), rgb(48,62,143));\r\n\tfont-family:sans-serif;\r\n\tcolor:white;\r\n\t\r\n}\r\n.location, .temperature{\r\n\theight:30vh;\r\n\twidth:50%;\r\n\tdisplay:flex;\r\n\tjustify-content:space-around;\r\n\talign-items:center;\r\n\t\r\n}\r\n.temperature{\r\nflex-direction:column;\r\n}\r\n.degree-section{\r\n\tdisplay:flex;\r\n\talign-center:center;\r\n\tcursor:pointer;\r\n}\r\n.degree-section span{\r\n\tmargin:10px;\r\n\tfont-size:30px;\r\n\t\r\n}\r\n.degree-section h2{\r\n\tfont-size:35px;\r\n\tposition:relative;\r\n\ttop:5px;\r\n}\r\n&lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;div class=\"location\"&gt;\r\n&lt;h1 class=\"location-timezone\"&gt;Timezone&lt;/h1&gt;\r\n&lt;p&gt;Icon&lt;/p&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"temperature\"&gt;\r\n&lt;div class=\"degree-section\"&gt;\r\n&lt;h2 class=\"temperature-degree\"&gt;34&lt;/h2&gt;\r\n&lt;span&gt;F&lt;/span&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"temperature-description\"&gt;It's cold\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "import", "html5-canvas", "export"], "comments": [{"owner": {"reputation": 308, "user_id": 3101066, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/8a864452c7cc126446cfcea7d82a043e?s=128&d=identicon&r=PG&f=1", "display_name": "Isaac Ferreira", "link": "https://stackoverflow.com/users/3101066/isaac-ferreira"}, "edited": false, "score": 0, "creation_date": 1555532160, "post_id": 55735303, "comment_id": 98148973, "body": "Try embrace the class declaration with parenthesis: <code>export default (class Game { ... })</code>"}, {"owner": {"reputation": 2052, "user_id": 4527878, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-2Xf8iNcWL1Y/AAAAAAAAAAI/AAAAAAAAAGc/UUSRGDEXvXg/photo.jpg?sz=128", "display_name": "Murtaza Hussain", "link": "https://stackoverflow.com/users/4527878/murtaza-hussain"}, "edited": false, "score": 0, "creation_date": 1555532355, "post_id": 55735303, "comment_id": 98149040, "body": "is the path to game correct ? it should be <code>&quot;.&#47;game.js&quot;;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 52, "user_id": 8304284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5a7555cfcfd874792b1fcc45e8533232?s=128&d=identicon&r=PG&f=1", "display_name": "loveJS", "link": "https://stackoverflow.com/users/8304284/lovejs"}, "is_accepted": false, "score": 0, "last_activity_date": 1555532332, "creation_date": 1555532332, "answer_id": 55735388, "question_id": 55735303, "link": "https://stackoverflow.com/questions/55735303/what-is-wrong-with-my-import-export-class-code-lines/55735388#55735388", "title": "What is wrong with my import/export class code lines?", "body": "<pre><code>import Game from './game';\n</code></pre>\n\n<p>It's more usual to export the modules in the index.js files\nSo, you can try the following:</p>\n\n<pre><code>export Game from './game';\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11375833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/623d27aa6145c5dc2a50c8d851316034?s=128&d=identicon&r=PG&f=1", "display_name": "mariofan16", "link": "https://stackoverflow.com/users/11375833/mariofan16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1555532332, "creation_date": 1555531937, "question_id": 55735303, "link": "https://stackoverflow.com/questions/55735303/what-is-wrong-with-my-import-export-class-code-lines", "title": "What is wrong with my import/export class code lines?", "body": "<p>I'm in the midst of working on a brick breaker game, and although my code works on CodeSandbox, when I try it on a local computer the import function doesn't work, and along with it, the game.</p>\n\n<p>I've tried moving the folders around, researched how to do so and tried adding {} around the class names, but to no avail.</p>\n\n<p>This is my index.html script link</p>\n\n<pre><code>&lt;script src=\"src/index.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>This is in my index.js file (in folder 'src')</p>\n\n<pre><code>import Game from \"/src/game.js\";\n</code></pre>\n\n<p>This is what 'Game' is in my game.js file (also in folder 'src').</p>\n\n<pre><code>export default class Game {\n  constructor(gameWidth, gameHeight) {\n    this.gameWidth = gameWidth;\n    this.gameHeight = gameHeight;\n    this.gamestate = GAMESTATE.MENU;\n    this.paddle = new Paddle(this);\n    this.ball = new Ball(this);\n    this.gameObjects = [];\n    new InputHandler(this.paddle, this);\n  }\n</code></pre>\n\n<p>In CodeSandbox, there is no problem with the game, as it functions perfectly normal whereas when I run it locally, the console reads \"SyntaxError: Unexpected identifier 'Game'. import call expects exactly one argument.\" and the canvas is blank. I've been stuck on this for a while and really need some help.</p>\n"}, {"tags": ["javascript", "reactjs", "redux"], "comments": [{"owner": {"reputation": 1165, "user_id": 8327733, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AGWvjbX7yeQ/AAAAAAAAAAI/AAAAAAAAAO4/FQQ0tsVMZTs/photo.jpg?sz=128", "display_name": "duc mai", "link": "https://stackoverflow.com/users/8327733/duc-mai"}, "edited": false, "score": 0, "creation_date": 1555533817, "post_id": 55735299, "comment_id": 98149592, "body": "maybe you can install redux plugin to chrome to debug if you state can be updated properly"}, {"owner": {"reputation": 1165, "user_id": 8327733, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AGWvjbX7yeQ/AAAAAAAAAAI/AAAAAAAAAO4/FQQ0tsVMZTs/photo.jpg?sz=128", "display_name": "duc mai", "link": "https://stackoverflow.com/users/8327733/duc-mai"}, "edited": false, "score": 0, "creation_date": 1555533995, "post_id": 55735299, "comment_id": 98149664, "body": "and if it is possible I think you should rename the action creator and the props, it is quite confusing when looking at your code"}, {"owner": {"reputation": 1, "user_id": 11375789, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V20ufWDM3_I/AAAAAAAAAAI/AAAAAAAAAV0/Y4YwKpfyAmw/photo.jpg?sz=128", "display_name": "Adam Zaj\u0105c", "link": "https://stackoverflow.com/users/11375789/adam-zaj%c4%85c"}, "reply_to_user": {"reputation": 1165, "user_id": 8327733, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AGWvjbX7yeQ/AAAAAAAAAAI/AAAAAAAAAO4/FQQ0tsVMZTs/photo.jpg?sz=128", "display_name": "duc mai", "link": "https://stackoverflow.com/users/8327733/duc-mai"}, "edited": false, "score": 0, "creation_date": 1555534420, "post_id": 55735299, "comment_id": 98149804, "body": "State is updating properly in three other components built with the same schema as this one. I know my naming can be little awkward, but its my first react project and i still learning patterns."}, {"owner": {"reputation": 1165, "user_id": 8327733, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AGWvjbX7yeQ/AAAAAAAAAAI/AAAAAAAAAO4/FQQ0tsVMZTs/photo.jpg?sz=128", "display_name": "duc mai", "link": "https://stackoverflow.com/users/8327733/duc-mai"}, "edited": false, "score": 0, "creation_date": 1555534818, "post_id": 55735299, "comment_id": 98149927, "body": "can you put a console.log(&#39;render links&#39;) inside your Links component to see if it gets called when state updated"}, {"owner": {"reputation": 1, "user_id": 11375789, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V20ufWDM3_I/AAAAAAAAAAI/AAAAAAAAAV0/Y4YwKpfyAmw/photo.jpg?sz=128", "display_name": "Adam Zaj\u0105c", "link": "https://stackoverflow.com/users/11375789/adam-zaj%c4%85c"}, "reply_to_user": {"reputation": 1165, "user_id": 8327733, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AGWvjbX7yeQ/AAAAAAAAAAI/AAAAAAAAAO4/FQQ0tsVMZTs/photo.jpg?sz=128", "display_name": "duc mai", "link": "https://stackoverflow.com/users/8327733/duc-mai"}, "edited": false, "score": 0, "creation_date": 1555561541, "post_id": 55735299, "comment_id": 98155502, "body": "Ok, after installing Redux DevTools i saw state is actually updated. But logging state in useEfect hook always show its initial value, don&#39;t really understands why."}], "owner": {"reputation": 1, "user_id": 11375789, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-V20ufWDM3_I/AAAAAAAAAAI/AAAAAAAAAV0/Y4YwKpfyAmw/photo.jpg?sz=128", "display_name": "Adam Zaj\u0105c", "link": "https://stackoverflow.com/users/11375789/adam-zaj%c4%85c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555534233, "creation_date": 1555531913, "last_edit_date": 1555534233, "question_id": 55735299, "link": "https://stackoverflow.com/questions/55735299/redux-doesnt-update-state", "title": "Redux doesn&#39;t update state", "body": "<p>I have a problem with Redux doesn't update the state. Component gets right initial state. Action is dispatched right, data is fetched right and is accesible in action payload inside reducer. Reducer is executing, right case in switch is picked. Just new state doesn't appear in component. I have three others components where it works just fine, only this one cracks.</p>\n\n<p><strong>component</strong></p>\n\n<pre><code>import fetchLinksPage from '../state/links/actions'\n...\n\nlet Links = ({linksPageLoaded, linksPage, fetchLinksPage}) =&gt; {\n  useEffect( () =&gt; {\n      if(!linksPageLoaded) {\n        fetchLinksPage()\n        console.log(linksPage)\n      }\n  },[])\n\n  return ( ... )\n}\n\nconst mapStateToProps = ({linksPageReducer}) =&gt; {\n  return linksPageReducer\n}\n\nconst mapDispatchToProps = dispatch =&gt; {\n  return {\n    fetchLinksPage: () =&gt; dispatch(fetchLinksPage())\n  }\n}\n\nLinks = connect(mapStateToProps, mapDispatchToProps)(Links)\n</code></pre>\n\n<p><strong>actions</strong></p>\n\n<pre><code>// action types\nexport const GET_LINKS_PAGE = 'GETLINKSPAGE'\nexport const LINKS_PAGE_LOADED = 'LINKSPAGELOADED'\nexport const LINKS_PAGE_ERROR = 'LINKSPAGEERROR'\n\n// action creators\nexport const getLinksPage = () =&gt; {\n  return {\n    type: GET_LINKS_PAGE\n  }\n}\nexport const linksPageLoaded = (data) =&gt; {\n  return {\n    type: LINKS_PAGE_LOADED,\n    payload: data\n  }\n}\n\nexport const linksPageError = (error) =&gt; {\n  return {\n    type: LINKS_PAGE_ERROR,\n    payload: error\n  }\n}\n\nconst fetchLinksPage = () =&gt; {\n  return dispatch =&gt; {\n    dispatch(getLinksPage())\n    fetch('http://portfolio.adamzajac.info/_/items/links?fields=*,logo.*.*')\n      .then(response =&gt; response.json())\n      .then(data =&gt; {\n        dispatch(linksPageLoaded(data.data))\n      })\n      .catch( error =&gt; {\n        dispatch(linksPageError(error))\n      })\n\n  }\n}\n\nexport default fetchLinksPage\n</code></pre>\n\n<p><strong>reducer</strong></p>\n\n<pre><code>import * as actions from './actions.js'\n\nconst linksPageReducer = (state={}, action) =&gt; {\n  switch (action.type) {\n    case actions.GET_LINKS_PAGE:\n      return { ...state, linksPageLoading: true }\n    case actions.LINKS_PAGE_LOADED:\n      //console.log('update state')\n      return { ...state, linksPage: action.payload, linksPageLoading: false, linksPageLoaded: true }\n    case actions.LINKS_PAGE_ERROR:\n      return { ...state, linksPageError: action.payload, linksPageLoading: false}\n    default:\n      return { ...state, linksPageLoading: false, linksPageLoaded: false, linksPage:[], linksPageError:''}\n  }\n}\n\nexport default linksPageReducer\n</code></pre>\n\n<p><strong>store</strong></p>\n\n<pre><code>import aboutPageReducer from './state/about/reducer'\nimport projectsPageReducer from './state/projects/reducer'\nimport skillsPageReducer from './state/skills/reducer'\nimport linksPageReducer from './state/links/reducer'\n\nconst rootReducer = combineReducers({\n  aboutPageReducer,\n  projectsPageReducer,\n  skillsPageReducer,\n  linksPageReducer\n})\n\nconst store = createStore(\n  rootReducer,\n  applyMiddleware(thunk)\n)\n</code></pre>\n"}, {"tags": ["javascript", "aws-lambda"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1555532000, "post_id": 55735289, "comment_id": 98148892, "body": "you could just do a standard form post."}], "answers": [{"tags": [], "owner": {"reputation": 2694, "user_id": 3956205, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42aff84cfa87f92797cb54bdea6d0c20?s=128&d=identicon&r=PG", "display_name": "BTL", "link": "https://stackoverflow.com/users/3956205/btl"}, "is_accepted": true, "score": 1, "last_activity_date": 1555533260, "creation_date": 1555533260, "answer_id": 55735593, "question_id": 55735289, "link": "https://stackoverflow.com/questions/55735289/how-to-call-aws-api-gateway-in-javascript/55735593#55735593", "title": "How to call AWS API Gateway in Javascript?", "body": "<p>You can use the <code>action</code> attribute : <code>&lt;form id=\"contact-form\" action=\"https://example.execute-api.eu-central-1.amazonaws.com/default/api\" method=\"post\"&gt;...&lt;/form&gt;</code></p>\n\n<p>and use a button of type <code>submit</code> : <code>&lt;button type=\"submit\" class=\"btn btn-primary\"&gt;Submit&lt;/button&gt;</code></p>\n\n<p>Here is a link to the docs : <a href=\"https://www.w3schools.com/tags/att_form_action.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/tags/att_form_action.asp</a></p>\n\n<p>And here is a example :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form id=\"contact-form\" action=\"https://example.execute-api.eu-central-1.amazonaws.com/default/api\" method=\"post\"&gt;\r\n  &lt;h4&gt;Name:&lt;/h4&gt;\r\n  &lt;input type=\"text\" style=\"height:35px;\" id=\"name-input\" placeholder=\"Enter name...\" class=\"form-control\"/&gt;&lt;br/&gt;\r\n  &lt;h4&gt;Phone:&lt;/h4&gt;\r\n  &lt;input type=\"phone\" style=\"height:35px;\" id=\"phone-input\" placeholder=\"Enter phone number...\" class=\"form-control\"/&gt;&lt;br/&gt;\r\n  &lt;h4&gt;Email:&lt;/h4&gt;\r\n  &lt;input type=\"email\" style=\"height:35px;\" id=\"email-input\" placeholder=\"Enter email...\" class=\"form-control\"/&gt;&lt;br/&gt;\r\n  &lt;h4&gt;How can we help you?&lt;/h4&gt;\r\n  &lt;textarea id=\"description-input\" rows=\"3\" placeholder=\"Enter your message\u2026\" class=\"form-control\"&gt;&lt;/textarea&gt;&lt;br/&gt;\r\n  &lt;div class=\"g-recaptcha\" data-sitekey=\"6Lc7cVMUAAAAAM1yxf64wrmO8gvi8A1oQ_ead1ys\" class=\"form-control\"&gt;&lt;/div&gt;\r\n  &lt;button type=\"submit\" class=\"btn btn-primary\"&gt;Submit&lt;/button&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 14637138, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14GhziVXdb26gJeMyntScaItNStHV4fSBq0iopKvdOA=k-s128", "display_name": "muhammad khan", "link": "https://stackoverflow.com/users/14637138/muhammad-khan"}, "is_accepted": false, "score": 0, "last_activity_date": 1617687957, "creation_date": 1617687957, "answer_id": 66963254, "question_id": 55735289, "link": "https://stackoverflow.com/questions/55735289/how-to-call-aws-api-gateway-in-javascript/66963254#66963254", "title": "How to call AWS API Gateway in Javascript?", "body": "<p>Just paste this script tag above your current script so it is the first one..</p>\n<pre><code> &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js&quot;&gt;&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 11080966, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EM-EmJ5Ea4s/AAAAAAAAAAI/AAAAAAAAEGU/49cNbSqzROo/photo.jpg?sz=128", "display_name": "Dan", "link": "https://stackoverflow.com/users/11080966/dan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2254, "favorite_count": 0, "accepted_answer_id": 55735593, "answer_count": 2, "score": 0, "last_activity_date": 1617687957, "creation_date": 1555531876, "question_id": 55735289, "link": "https://stackoverflow.com/questions/55735289/how-to-call-aws-api-gateway-in-javascript", "title": "How to call AWS API Gateway in Javascript?", "body": "<p>I'd like to ask for help in creating a javascript function to call an AWS API gateway. This is essentially for a serverless contact form for a website hosted on AWS. I created and tested the lambda function and i created and tested an API gateway. All work as intended. I'm having trouble figuring out what a JS function would look like to call the API. I'm providing the HTML code for the form but essentially it's a button that links to a function, taht I haven't created, called submitToAPI(event). I found functions online for jQuery but my knowledge in this area is basically null.</p>\n\n<p>Not trying to use nodejs or jQuery if possible (not trying to be difficult but I don't know how to use these).</p>\n\n<pre><code>&lt;form id=\"contact-form\" method=\"post\"&gt;\n  &lt;h4&gt;Name:&lt;/h4&gt;\n  &lt;input type=\"text\" style=\"height:35px;\" id=\"name-input\" placeholder=\"Enter name...\" class=\"form-control\"/&gt;&lt;br/&gt;\n  &lt;h4&gt;Phone:&lt;/h4&gt;\n  &lt;input type=\"phone\" style=\"height:35px;\" id=\"phone-input\" placeholder=\"Enter phone number...\" class=\"form-control\"/&gt;&lt;br/&gt;\n  &lt;h4&gt;Email:&lt;/h4&gt;\n  &lt;input type=\"email\" style=\"height:35px;\" id=\"email-input\" placeholder=\"Enter email...\" class=\"form-control\"/&gt;&lt;br/&gt;\n  &lt;h4&gt;How can we help you?&lt;/h4&gt;\n  &lt;textarea id=\"description-input\" rows=\"3\" placeholder=\"Enter your message\u2026\" class=\"form-control\"&gt;&lt;/textarea&gt;&lt;br/&gt;\n  &lt;div class=\"g-recaptcha\" data-sitekey=\"6Lc7cVMUAAAAAM1yxf64wrmO8gvi8A1oQ_ead1ys\" class=\"form-control\"&gt;&lt;/div&gt;\n  &lt;button type=\"button\" onClick=\"submitToAPI(event)\" class=\"btn btn-primary\"&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "vue-component"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 8619523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c51a52a9e2efee790158decd378e9b?s=128&d=identicon&r=PG&f=1", "display_name": "darthstevenus", "link": "https://stackoverflow.com/users/8619523/darthstevenus"}, "edited": false, "score": 0, "creation_date": 1555590758, "post_id": 55741982, "comment_id": 98168978, "body": "I tried moving the props into the component&#39;s data and passing the video object in a separate event, before displayVideoPlayer is triggered. That seems to have fixed the problem. Thanks!"}], "tags": [], "owner": {"reputation": 3582, "user_id": 2438933, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a0aec37a862307565907efe1c5f9eca0?s=128&d=identicon&r=PG", "display_name": "User 28", "link": "https://stackoverflow.com/users/2438933/user-28"}, "is_accepted": true, "score": 0, "last_activity_date": 1555575954, "creation_date": 1555575954, "answer_id": 55741982, "question_id": 55735286, "link": "https://stackoverflow.com/questions/55735286/component-props-and-data-not-being-updated-by-parent/55741982#55741982", "title": "Component props and data not being updated by parent", "body": "<p>It seems the problem is a race condition between Vue updates the value and You call <code>display</code> method:</p>\n\n<pre><code>display: function() {\n  console.log(this.src) // \"\"\n  setTimeout(() =&gt; console.log(this.src)) // \"/video/hdd1/shows/game-of-thrones_s01e04.mp4\"\n  if(this.src === '') {\n    return\n  }\n</code></pre>\n\n<p>This mean you call <code>display</code> method before the value is update.</p>\n\n<p>One way to solve you is add some delay before your call <code>display</code> method:</p>\n\n<pre><code>setVideo: function() {\n  this.video.drive = 'hdd1'\n  this.video.filename = 'game-of-thrones_s01e04.mp4'\n  this.video.mediaType = 'show'\n  setTimeout(() =&gt; {\n    Event.trigger('displayVideoPlayer')\n  })\n</code></pre>\n\n<p>But I think this might get more problems in the future. If you want to rely on props then you should use watcher pattern instead:</p>\n\n<pre><code>watch: {\n  src (src) {\n    if(src === '') {\n      return\n    }\n    // ... display\n  }\n}\n</code></pre>\n\n<p>Or pass those values through your event not on props like:</p>\n\n<pre><code>Event.trigger('displayVideoPlayer', this.video)\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 8619523, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8c51a52a9e2efee790158decd378e9b?s=128&d=identicon&r=PG&f=1", "display_name": "darthstevenus", "link": "https://stackoverflow.com/users/8619523/darthstevenus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 55741982, "answer_count": 1, "score": 0, "last_activity_date": 1555575954, "creation_date": 1555531859, "question_id": 55735286, "link": "https://stackoverflow.com/questions/55735286/component-props-and-data-not-being-updated-by-parent", "title": "Component props and data not being updated by parent", "body": "<p>I made a codepen of my issue here <a href=\"https://codepen.io/stevemr/pen/VNQbYe\" rel=\"nofollow noreferrer\">https://codepen.io/stevemr/pen/VNQbYe</a></p>\n\n<p>I have a root Vue instance which maintains the props for a component, VideoPlayer. My root instance has a method called setVideo, which is just assigning some dummy values right now.</p>\n\n<p>Here's the object I'm using in the data of the root instance:</p>\n\n<pre><code>video: {\n    drive: '',\n    filename: '',\n    mediaType: '',\n},\n</code></pre>\n\n<p>Here's the setVideo function:</p>\n\n<pre><code>setVideo: function() {\n    // Get the drive, filename, and mediaType\n    this.video.drive = 'hdd1';\n    this.video.filename = 'game-of-thrones_s01e04.mp4';\n    this.video.mediaType = 'show';\n\n    // Hide all modals and trigger the display of the video player\n    Event.trigger('hideModal');\n    Event.trigger('displayVideoPlayer');\n},\n</code></pre>\n\n<p>The Event class is just a wrapper for basic Vue events:</p>\n\n<pre><code>window.Event = new class {\n    constructor() {\n        this.vue = new Vue();\n    }\n\n    trigger(event, data = null) {\n        this.vue.$emit(event, data);\n    }\n\n    listen(event, callback) {\n        this.vue.$on(event, callback);\n    }\n};\n</code></pre>\n\n<p>Here's the DOM where my VideoPlayer component is initialized:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;video-player\n    v-bind:drive=\"video.drive\"\n    v-bind:filename=\"video.filename\"\n    v-bind:media-type=\"video.mediaType\"\n&gt;&lt;/video-player&gt;\n</code></pre>\n\n<p>And finally, here's my VideoPlayer component:</p>\n\n<pre><code>&lt;template&gt;\n    &lt;div&gt;\n        &lt;div id=\"movie-container\"&gt;\n            &lt;div\n                class=\"video-loader top-most\"\n                v-if=\"showVideoPlayer &amp;&amp; !loaded\"\n            &gt;&lt;/div&gt;\n            &lt;video\n                id=\"video-player\"\n                ref=\"video\"\n                v-if=\"showVideoPlayer &amp;&amp; src !== ''\"\n                class=\"top-most\"\n                v-bind:class=\"{ hidden: !loaded }\"\n                v-on:click=\"togglePlay\"\n                controls\n                autoplay\n            &gt;\n                &lt;source v-bind:src=\"src\" v-bind:type=\"videoType\"&gt;&lt;/source&gt;\n            &lt;/video&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"time-range-container\" v-if=\"showTimeRange\"&gt;\n            &lt;input\n                id=\"time-range\"\n                ref=\"timeRange\"\n                type=\"range\"\n                min=\"0\"\n                v-bind:max=\"duration\"\n                step=\"30\"\n                v-model:value=\"currentTime\"\n            /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n    export default {\n        props: [\n            'drive',\n            'filename',\n            'mediaType',\n        ],\n\n        data() {\n            return {\n                currentTime: 0,\n                duration: 0,\n                loaded: false,\n                showTimeRange: false,\n                showVideoPlayer: false,\n            }\n        },\n\n        computed: {\n            src: function() {\n                if(this.filename !== '') {\n                    return\n                        '/video/' + this.drive +\n                        '/' + this.mediaType +\n                        's/' + this.filename;\n                }\n\n                return '';\n            },\n\n            videoType: function() {\n                var ext = this.filename.split('.')[1];\n                var type = '';\n\n                switch(ext) {\n                    case 'mk4':\n                    case 'm4v':\n                        type = 'webm';\n                        break;\n                    case 'avi':\n                        type = 'ogg';\n                        break;\n                    default:\n                        type = ext;\n                }\n\n                return 'video/' + type;\n            },\n        },\n\n        created() {\n            Event.listen('displayVideoPlayer', this.display);\n        },\n\n        methods: {\n            display: function() {\n                if(this.src === '') {\n                    return;\n                }\n\n                this.showVideoPlayer = true;\n                this.loaded = false;\n\n                var self = this;\n\n                setTimeout(function() {\n                    var interval = setInterval(function() {\n                        var video = self.$refs.video;\n                        if(video.readyState &gt; 0) {\n                            self.loaded = true;\n                            self.duration = Math.round(video.duration);\n                            self.currentTime = video.currentTime;\n                            clearInterval(interval);\n                        }\n                    }, 500);\n                }, 800);\n            },\n\n            togglePlay: function() {\n                var video = this.$refs.video;\n\n                if(video.paused) {\n                    video.play();\n                }\n\n                if(!video.paused) {\n                    video.pause();\n                }\n            },\n        },\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>When setVideo is called it should set the VideoPlayer component's props to the dummy values and then the video player should be displayed. But instead when the displayVideoPlayer event is fired, the component props are still set to their default values (empty strings). Most importantly, the src computed property is not being updated before the display method is called, so the display function immediately returns without doing anything.</p>\n\n<p>It's like my component's props and data aren't being updated, even though I can see with the dev tools that they are. It's like it's just not happening fast enough or something.</p>\n\n<p>I've tried making src part of the component's data and setting it in the display function with another function, setSrc. But the same thing happened.</p>\n\n<p>I've also tried moving Event.listen('displayVideoPlayer', this.display); into mounted() instead of created(), also did not fix anything.</p>\n\n<p>If you look at the codepen, the first time you click the button to trigger the setVideo function, the video player component should be displayed, instead it takes 2 clicks.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 91121, "user_id": 179125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5594142dcc49a24b1902ec8059181f8d?s=128&d=identicon&r=PG&f=1", "display_name": "Jordan Running", "link": "https://stackoverflow.com/users/179125/jordan-running"}, "edited": false, "score": 0, "creation_date": 1555532022, "post_id": 55735262, "comment_id": 98148904, "body": "What&#39;s your question? What code have you written so far?"}, {"owner": {"reputation": 123, "user_id": 10661890, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zFaqL44SEKI/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gmOBxzyi-Ns25HDk2N6MgUbax5aQ/mo/photo.jpg?sz=128", "display_name": "Kevin Test", "link": "https://stackoverflow.com/users/10661890/kevin-test"}, "edited": false, "score": 0, "creation_date": 1555532243, "post_id": 55735262, "comment_id": 98148993, "body": "Okay but what have u tried , and what exactly isnt working? Because right now it looks like you want someone to do the work for you since you&#39;re only giving us what you got and what u want."}, {"owner": {"reputation": 1508, "user_id": 244045, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6394bb28c203f6ba2d760347c1bb0653?s=128&d=identicon&r=PG", "display_name": "jvm", "link": "https://stackoverflow.com/users/244045/jvm"}, "edited": false, "score": 0, "creation_date": 1555532460, "post_id": 55735262, "comment_id": 98149080, "body": "i have tried _(data.campaigns).flatMap(&#39;books&#39;).flatMap(&#39;title&#39;).value() but it do for entire collection and i need to do it for each item and add new property called &quot;booksname&quot; which i can pull from books for each campaign"}, {"owner": {"reputation": 1165, "user_id": 8327733, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AGWvjbX7yeQ/AAAAAAAAAAI/AAAAAAAAAO4/FQQ0tsVMZTs/photo.jpg?sz=128", "display_name": "duc mai", "link": "https://stackoverflow.com/users/8327733/duc-mai"}, "edited": false, "score": 0, "creation_date": 1555532675, "post_id": 55735262, "comment_id": 98149154, "body": "I dont understand the difference between the two json you posted. They looks similar to each other. Except booksname which appears on the first object only."}, {"owner": {"reputation": 1508, "user_id": 244045, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6394bb28c203f6ba2d760347c1bb0653?s=128&d=identicon&r=PG", "display_name": "jvm", "link": "https://stackoverflow.com/users/244045/jvm"}, "edited": false, "score": 0, "creation_date": 1555532887, "post_id": 55735262, "comment_id": 98149240, "body": "I want to pick title from books array and add as field in each campaign item"}], "answers": [{"tags": [], "owner": {"reputation": 1508, "user_id": 244045, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6394bb28c203f6ba2d760347c1bb0653?s=128&d=identicon&r=PG", "display_name": "jvm", "link": "https://stackoverflow.com/users/244045/jvm"}, "is_accepted": false, "score": 1, "last_activity_date": 1555533557, "creation_date": 1555533557, "answer_id": 55735652, "question_id": 55735262, "link": "https://stackoverflow.com/questions/55735262/update-collection-of-collection-using-lodash-mapreduce/55735652#55735652", "title": "Update collection of collection using lodash mapreduce", "body": "<p>I was able to do it using</p>\n\n<pre><code>                        data.campaigns.map((item) =&gt; {\n                            item.Booksname = _.map(item.books, 'title').join(',');\n                        })\n</code></pre>\n"}], "owner": {"reputation": 1508, "user_id": 244045, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/6394bb28c203f6ba2d760347c1bb0653?s=128&d=identicon&r=PG", "display_name": "jvm", "link": "https://stackoverflow.com/users/244045/jvm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555533557, "creation_date": 1555531757, "question_id": 55735262, "link": "https://stackoverflow.com/questions/55735262/update-collection-of-collection-using-lodash-mapreduce", "title": "Update collection of collection using lodash mapreduce", "body": "<p>I have following collection which i need to send it to datatable and it won't accept collection of collection. So i need to flatten my structure and trying with lodash without much success.</p>\n\n<p>My initial collection</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>{\r\n    \"campaigns\": [\r\n      {\r\n        \"name\": \"1st Campaign\",\r\n        \"campaignType\": \"Test Campaign\",\r\n        \"startDate\": \"2019/04/03\",\r\n        \"endDate\": \"2019/04/30\",\r\n        \"price\": 1,\r\n        \"books\": [\r\n          {\r\n            \"title\": \"\\\"If They Move . . . Kill 'Em!\\\"\",\r\n            \"bookdata\": {\r\n              \"batch\": 2\r\n            }\r\n          },\r\n          {\r\n            \"title\": \"!Click Song\",\r\n            \"bookdata\": {\r\n              \"batch\": null\r\n            }\r\n          }\r\n        ]\r\n      },\r\n      {\r\n        \"name\": \"2nd cam\",\r\n        \"campaignType\": \"test type\",\r\n        \"startDate\": \"2019/04/10\",\r\n        \"endDate\": \"2019/04/10\",\r\n        \"price\": 2.99,\r\n        \"retailers\": null,\r\n        \"comments\": null,\r\n        \"books\": [\r\n          {\r\n            \"title\": \"\\\"Johnny, We Hardly Knew Ye\\\"\",\r\n            \"bookdata\": {\r\n              \"batch\": null\r\n            }\r\n          },\r\n          {\r\n            \"title\": \"'A Very Fine Commander'\",\r\n            \"bookdata\": {\r\n              \"batch\": 2\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>For each campaign i need structure like following where books title is comma separated for each books under campaign</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>   {\r\n        \"campaigns\": [\r\n          {\r\n            \"name\": \"1st Campaign\",\r\n            \"campaignType\": \"Test Campaign\",\r\n            \"startDate\": \"2019/04/03\",\r\n            \"endDate\": \"2019/04/30\",\r\n            \"price\": 1,\r\n            \"booksname\": \"\\\"If They Move . . . Kill 'Em!\\\"\",\"!Click Song\"\r\n            \"books\": [\r\n              {\r\n                \"title\": \"\\\"If They Move . . . Kill 'Em!\\\"\",\r\n                \"bookdata\": {\r\n                  \"batch\": 2\r\n                }\r\n              },\r\n              {\r\n                \"title\": \"!Click Song\",\r\n                \"bookdata\": {\r\n                  \"batch\": null\r\n                }\r\n              }\r\n            ]\r\n          },\r\n          {\r\n            \"name\": \"2nd cam\",\r\n            \"campaignType\": \"test type\",\r\n            \"startDate\": \"2019/04/10\",\r\n            \"endDate\": \"2019/04/10\",\r\n            \"price\": 2.99,\r\n            \"retailers\": null,\r\n            \"comments\": null,\r\n            \"books\": [\r\n              {\r\n                \"title\": \"\\\"Johnny, We Hardly Knew Ye\\\"\",\r\n                \"bookdata\": {\r\n                  \"batch\": null\r\n                }\r\n              },\r\n              {\r\n                \"title\": \"'A Very Fine Commander'\",\r\n                \"bookdata\": {\r\n                  \"batch\": 2\r\n                }\r\n              }\r\n            ]\r\n          }\r\n        ]\r\n      }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "d3.js", "c3.js"], "answers": [{"tags": [], "owner": {"reputation": 655, "user_id": 8008652, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/69af4c388096582eb89f880cf9cf28b8?s=128&d=identicon&r=PG&f=1", "display_name": "schustischuster", "link": "https://stackoverflow.com/users/8008652/schustischuster"}, "is_accepted": true, "score": 2, "last_activity_date": 1555539359, "last_edit_date": 1555539359, "creation_date": 1555535531, "answer_id": 55736035, "question_id": 55735261, "link": "https://stackoverflow.com/questions/55735261/how-can-i-append-string-to-y-axis-data-with-tick-and-d3-format/55736035#55736035", "title": "How can I append string to y-axis data with tick and d3.format?", "body": "<p>You could write a tick function as follows:</p>\n\n<pre><code>tick: \n      {\n        format: function (d) {\n            if ((d) &gt; 0) {\n                d = d + \"Mb\";\n                }\n            return d;\n        }\n      },\n</code></pre>\n\n<p>I have used >0 for d, so the \"Mb\" just gets appended to d if d is not 0, but you could also extend the code to automatically transform the input: </p>\n\n<pre><code> tick: \n       {\n         format: function (d) {\n             if (((d / 1000) &gt;= 1) &amp; ((d / 1000) &lt; 1000)) {\n                  d = Math.round((d / 1000 )*100) / 100 + \"Kb\";\n                  }\n             else if ((d / 1000000) &gt;= 1) {\n                  d = Math.round((d / 1000000 )*100) / 100 + \"Mb\";\n                  }\n             return d;\n          }\n        },\n</code></pre>\n\n<p>By doing this, you could use untransformed data as input, and it will transform it to either \"Kb\" or \"Mb\" unit. 100 sets 2 digits after decimal point.</p>\n"}], "owner": {"reputation": 97, "user_id": 6419873, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/9507c10c04ff90b61b50a96b23067e9a?s=128&d=identicon&r=PG&f=1", "display_name": "pyguy", "link": "https://stackoverflow.com/users/6419873/pyguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 119, "favorite_count": 0, "accepted_answer_id": 55736035, "answer_count": 1, "score": 2, "last_activity_date": 1555551772, "creation_date": 1555531751, "last_edit_date": 1555551772, "question_id": 55735261, "link": "https://stackoverflow.com/questions/55735261/how-can-i-append-string-to-y-axis-data-with-tick-and-d3-format", "title": "How can I append string to y-axis data with tick and d3.format?", "body": "<p>I'm making a pretty simple Stacked Bar Chart using C3.js. <a href=\"https://c3js.org/samples/chart_bar_stacked.html\" rel=\"nofollow noreferrer\">https://c3js.org/samples/chart_bar_stacked.html</a> . I want to be able to append text to the values, specifically +\"Mb\" so that my end users know that those numbers indicate Megabits, and not anything else. I've added a useful y-axis label, but for my question, I'm wondering how to utilize d3.js to perform the formatting of the values.</p>\n\n<p>I used d3.format which suggests I am able to append string, but haven't figured how to pull it off.</p>\n\n<pre><code>var chart = c3.generate({\n    data: {\n        columns: [\n            ['data1', 2000, 2000, 4000],\n            ['data2', 1300, 1000, 500],\n            ['data3', 2000, 2000, 2500]\n        ],\n        type: 'bar',\n        groups: [\n            ['data1', 'data2']\n        ]\n    },\n    axis: {\n        y: {\n            label: {\n                text: 'Bandwidth Usage (Mb)',\n                position: 'outer-middle'\n            },\n            tick: {\n                format: d3.format('') + \"mb\"\n            }\n        }\n    }\n});\n</code></pre>\n\n<p>This isn't working as expected, I'm getting \"TypeError: this.tickFormat is not a function\". Wondering if there are any c3 gurus out there than can help me with this problem? Thanks!!</p>\n"}, {"tags": ["javascript", "audio", "switch-statement", "alert", "document.write"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11151864, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZtSxKtRXT6Y/AAAAAAAAAAI/AAAAAAAAFU0/T7nSKh7qsVg/photo.jpg?sz=128", "display_name": "Tahaa", "link": "https://stackoverflow.com/users/11151864/tahaa"}, "edited": false, "score": 0, "creation_date": 1555759795, "post_id": 55735490, "comment_id": 98218732, "body": "Thank you so much for replying. It worked. Have a great life."}], "tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": false, "score": 0, "last_activity_date": 1555532854, "creation_date": 1555532854, "answer_id": 55735490, "question_id": 55735231, "link": "https://stackoverflow.com/questions/55735231/i-want-to-play-an-audio-of-a-ringing-bell-in-alert-while-user-is-waiting/55735490#55735490", "title": "I want to play an audio of a ringing bell in alert while user is waiting", "body": "<p>I'm afraid it won't work this way.</p>\n\n<p><strong>1.</strong> As soon as an alert dialog is openend, the execution of the script is stopped until you confirm that alert dialog. That means the sound has to happen just before you open the dialog.</p>\n\n<p><strong>2.</strong> With <code>document.write(\"\")</code> you're overwriting your whole html document with the text/html provided inside write()</p>\n\n<p><strong>3.</strong> Playback of audio files needs user interaction - e.g. you need to press a button.</p>\n\n<p>Here's an example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var audio = new Audio('https://upload.wikimedia.org/wikipedia/commons/3/34/Sound_Effect_-_Door_Bell.ogg');\r\n\r\nfunction customerService()\r\n\r\n{\r\n  audio.play();\r\n  alert('We are redirecting your call to our Customer Service Representative.\\nPlease wait.');\r\n}\r\ndocument.getElementById(\"button\").addEventListener(\"click\", customerService);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button id=\"button\"&gt;\r\n5\r\n&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 11151864, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZtSxKtRXT6Y/AAAAAAAAAAI/AAAAAAAAFU0/T7nSKh7qsVg/photo.jpg?sz=128", "display_name": "Tahaa", "link": "https://stackoverflow.com/users/11151864/tahaa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555574875, "creation_date": 1555531605, "last_edit_date": 1555574875, "question_id": 55735231, "link": "https://stackoverflow.com/questions/55735231/i-want-to-play-an-audio-of-a-ringing-bell-in-alert-while-user-is-waiting", "title": "I want to play an audio of a ringing bell in alert while user is waiting", "body": "<p>I'm completing a task using <strong>switch statements</strong>. (the task was to show menus in alert when we are calling mobile network companies like press 1 for call package and press 2 for internet packages, so I set case 5 for customer service representative ) while he/she is waiting, <strong>I want to play audio like a ringing bell</strong> that the call is connecting to our customer service representative, please wait. But that isn't working. </p>\n\n<ul>\n<li>I have tried using audio tag is html and using its id to <code>document.getElementById('audio').src = audio.mp3</code></li>\n<li>I have also tried it in alert using <strong>audio tag inside alert.</strong></li>\n<li>I have also tried audio tag inside <code>document.write(&lt;audio autoplay controls&gt;&lt;source src=\"audio.mp3\" type=\"audio/mpeg\"&gt;&lt;/audio&gt;);</code></li>\n</ul>\n\n<pre><code>javascript switch statements\n\n    case 5:\n\n    var callCenter = alert('We are redirecting your call to our Customer \n                     Service Representative.\\nPlease wait.');\n    var tone = document.write(\"&lt;audio autoplay controls&gt;&lt;source src=tone.mp3 \n               type=audio/mpeg&gt;&lt;/audio&gt;\")\n\n    break;\n\n</code></pre>\n\n<p>When the user press 5 to talk to a customer service representative. I want the alert to ring a bell while he is waiting.</p>\n"}, {"tags": ["javascript", "arrays"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 5303322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c25f22e1dbdc7e21f870371d6a57120?s=128&d=identicon&r=PG&f=1", "display_name": "Jojo", "link": "https://stackoverflow.com/users/5303322/jojo"}, "edited": false, "score": 0, "creation_date": 1555531844, "post_id": 55735241, "comment_id": 98148840, "body": "Thanks a lot! It works"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 2, "last_activity_date": 1555531884, "last_edit_date": 1555531884, "creation_date": 1555531647, "answer_id": 55735241, "question_id": 55735204, "link": "https://stackoverflow.com/questions/55735204/remove-last-element-from-an-array-without-using-pop/55735241#55735241", "title": "Remove last element from an array without using pop()", "body": "<p>You need to take the element first and then decrement the array length.</p>\n\n<p>BTW, the handed over parameters are not an array. You need an array for this task, because if you take only arguments, the length change makes no sense.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function lastElement(array) {\r\n    var temp = array[array.length - 1];\r\n    array.length = Math.max(0, array.length - 1); // prevent assigning negative values\r\n    return temp;\r\n}\r\n\r\nvar array = [3, 4, 5, 6];\r\n\r\nconsole.log(lastElement(array));\r\nconsole.log(lastElement(array));\r\nconsole.log(lastElement(array));\r\nconsole.log(lastElement(array));\r\nconsole.log(lastElement(array));\r\nconsole.log(array);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 5303322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c25f22e1dbdc7e21f870371d6a57120?s=128&d=identicon&r=PG&f=1", "display_name": "Jojo", "link": "https://stackoverflow.com/users/5303322/jojo"}, "edited": false, "score": 0, "creation_date": 1555531873, "post_id": 55735269, "comment_id": 98148856, "body": "Thank you for helping! Slice is a better option"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1555532063, "post_id": 55735269, "comment_id": 98148928, "body": "<code>slice</code> does not change the array nor the length of the array. it does not remove an item."}, {"owner": {"reputation": 789, "user_id": 5479593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKVms.png?s=128&g=1", "display_name": "Void Spirit", "link": "https://stackoverflow.com/users/5479593/void-spirit"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1555532310, "post_id": 55735269, "comment_id": 98149025, "body": "@NinaScholz i know, but since it returns new array you can assign it. Thanks for your point. And I think author did not ask the question in right way"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 1, "creation_date": 1555532372, "post_id": 55735269, "comment_id": 98149045, "body": "an assignment inside of the function does not change the array of the call (outside), because ot loses the object reference. you may try it."}, {"owner": {"reputation": 789, "user_id": 5479593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKVms.png?s=128&g=1", "display_name": "Void Spirit", "link": "https://stackoverflow.com/users/5479593/void-spirit"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1555532468, "post_id": 55735269, "comment_id": 98149085, "body": "@NinaScholz I meant not in function. To be more clear <code>arr = lastElement(arr)</code>"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1555532518, "post_id": 55735269, "comment_id": 98149101, "body": "<code>lastElement</code> should return an element, not the array."}, {"owner": {"reputation": 789, "user_id": 5479593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKVms.png?s=128&g=1", "display_name": "Void Spirit", "link": "https://stackoverflow.com/users/5479593/void-spirit"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1555532523, "post_id": 55735269, "comment_id": 98149104, "body": "@NinaScholz But anyways I understand your point, if you go by the question my answer is incorrect"}, {"owner": {"reputation": 78750, "user_id": 2827823, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1pdiw.png?s=128&g=1", "display_name": "Ason", "link": "https://stackoverflow.com/users/2827823/ason"}, "edited": false, "score": 0, "creation_date": 1555532755, "post_id": 55735269, "comment_id": 98149186, "body": "And what else should one go by, if not the question? ... which makes this answer incorrect."}], "tags": [], "owner": {"reputation": 789, "user_id": 5479593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKVms.png?s=128&g=1", "display_name": "Void Spirit", "link": "https://stackoverflow.com/users/5479593/void-spirit"}, "is_accepted": false, "score": 5, "last_activity_date": 1555531791, "creation_date": 1555531791, "answer_id": 55735269, "question_id": 55735204, "link": "https://stackoverflow.com/questions/55735204/remove-last-element-from-an-array-without-using-pop/55735269#55735269", "title": "Remove last element from an array without using pop()", "body": "<p>Use <code>slice()</code></p>\n\n<pre><code>function lastElement(array) {\n   return array.slice(0,array.length-1);\n}\n\nlastElement(array);\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 5303322, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c25f22e1dbdc7e21f870371d6a57120?s=128&d=identicon&r=PG&f=1", "display_name": "Jojo", "link": "https://stackoverflow.com/users/5303322/jojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4629, "favorite_count": 0, "closed_date": 1555532815, "answer_count": 2, "score": 0, "last_activity_date": 1555532092, "creation_date": 1555531461, "last_edit_date": 1555531801, "question_id": 55735204, "link": "https://stackoverflow.com/questions/55735204/remove-last-element-from-an-array-without-using-pop", "closed_reason": "Duplicate", "title": "Remove last element from an array without using pop()", "body": "<p>I'm new to JavaScript. I want to remove last element from an array, without using pop method. I've tried using length property, but I'm getting undefined in my console. Please help! </p>\n\n<pre><code>function lastElement(array) {\n\n   return array[array.length-1];\n\n}\n\nlastElement([3,4,5,6]);\n</code></pre>\n"}, {"tags": ["javascript", "transactions", "async-await", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1555531479, "post_id": 55735157, "comment_id": 98148699, "body": "You&#39;re combining use of async/await with then() and catch(). That&#39;s making it kind of difficult to reason about what your code is doing, and might even be incorrect.  If you want to use async/await, why not apply it throughout your code for consistency and readability?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7321312"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1555532954, "post_id": 55735157, "comment_id": 98149262, "body": "Hello Doug, believe it or not i have been watching you for quite alot of the day and your Firecasts are great! I updated my code to remove the then catch however that made me realise that i perhaps need to revisit those videos and few other examples as to async await."}, {"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1555533624, "post_id": 55735157, "comment_id": 98149510, "body": "So what exactly is the error here?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7321312"}, "reply_to_user": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1555535095, "post_id": 55735157, "comment_id": 98150030, "body": "So when I run it I&#39;m getting &quot;UnhandledPromiseRejectionWarning: Error: 10 ABORTED: The referenced transaction has expired or is no longer valid.&quot; after about a minute the function stops . Many of the transactions complete without a problem for the first 30 seconds.  Finally i get an error there is too much contention on these records please try again and the function aborts.   So I think the problem is due to the tasks being passed to the transaction synchronously and with multiple writes to the same document the transaction is aborted."}], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 0, "last_activity_date": 1555536233, "creation_date": 1555536233, "answer_id": 55736181, "question_id": 55735157, "link": "https://stackoverflow.com/questions/55735157/how-to-prevent-transaction-write-conflict-and-runtransaction-asynchronously/55736181#55736181", "title": "How to prevent Transaction write conflict and runTransaction asynchronously?", "body": "<p>Your <code>updatestuff</code> function is kicking off as many asynchronous items of work, but it's not returning a promise that becomes resolves when all of them are complete.  You would use that promise in you main trigger function to let Cloud Functions know that all the work is complete and it's safe to clean up everything.  If you don't do that, then your function risks being shut down before the work is complete.</p>\n\n<p>Bear in mind that using async/await with forEach isn't really a good idea.  The forEach function isn't going to wait until the async work is complete before moving on to the next item.  It's going to finish with a lot of transactions in flight, and no way to know when they're all done.  Instead, you might <strong>not</strong> want to use async/await, and instead push all the transaction promises into an array, then use Promise.all() on that array to create a new promise that resolves when all the work is complete.  Return that from your function, then use that in your main trigger function.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7321312"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 158, "favorite_count": 0, "accepted_answer_id": 55736181, "answer_count": 1, "score": 0, "last_activity_date": 1555536233, "creation_date": 1555531268, "last_edit_date": 1555535930, "question_id": 55735157, "link": "https://stackoverflow.com/questions/55735157/how-to-prevent-transaction-write-conflict-and-runtransaction-asynchronously", "title": "How to prevent Transaction write conflict and runTransaction asynchronously?", "body": "<p>So I am currently running a few scripts to reset user balances within one of our apps. I am using firestore to get all the tasks and then tally balances based on those for each of our users. Sounds simple right? It should be and its not. The problem is that the transactions are aborting because of write conflicts to the same document. This is happening because all tasks are being passed to the transaction at the same time.</p>\n\n<p>I have tried to use the forEach method which is causing them to abort because it keeps trying to update the same user record each time. \nAnd i have tried for(let task of tasks) which gives me an error 'cannot itterate tasks'. </p>\n\n<pre><code>async function updatestuff(){\n  console.log(\"start\");\n  const tasksRef = db.collection('tasks');\n  try {\n          const allTasksSnapShot = await tasksRef.get();\n          allTasksSnapShot.forEach(async(doc) =&gt; {\n            //Run transaction for calculations for each task here\n            const tskUser = doc.data().taskUser;\n            const tuser = db.collection('backupusers').doc(tskUser);\n                if(doc.data().taskStatus == 'Not Completed'){\n                  console.log('NOT');}\n                if(doc.data().taskStatus != 'Not Completed'){\n                  console.log('Run transaction here and wait for it to finish?');\n                  await db.runTransaction(async t =&gt; {\n                  const userSnapShot =  await t.get(tuser);\n                          if (!userSnapShot) {return console.log('not a thing')}\n                          //get new balance calculated\n                          const newBalance = userSnapShot.actualbalance + doc.data().taskBalanceAdj;\n                          await t.update(tuser, {actualbalance: newBalance});\n                  })\n            }});\n          console.log(\"end\")\n  }\n  catch (err) {\n    console.log('Error getting documents', err);\n  }\n}\n</code></pre>\n\n<p>Currently the conflicts between document writes cause the transactions to abort half way through.</p>\n\n<p>I would really appreciate if someone can assist me in being able to pass each task to the transaction, in an asynchronous manner, waiting for the transaction to complete and then pass the next task through. \nOr another way which will get the same results.... </p>\n\n<p>Thanks in advance you kind kind kind soul(s)!</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "mongoose"], "answers": [{"tags": [], "owner": {"reputation": 1208, "user_id": 8010985, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3_K-Hz0wx08/AAAAAAAAAAI/AAAAAAAAAIA/s_q_R_cB93I/photo.jpg?sz=128", "display_name": "Bishal Jaiswal", "link": "https://stackoverflow.com/users/8010985/bishal-jaiswal"}, "is_accepted": true, "score": 2, "last_activity_date": 1555532196, "creation_date": 1555532196, "answer_id": 55735364, "question_id": 55735154, "link": "https://stackoverflow.com/questions/55735154/filter-results-of-a-lookup/55735364#55735364", "title": "Filter results of a $lookup", "body": "<p>After lookup you can use <code>$match</code> to apply the conditions in the same query</p>\n\n<pre><code>{\n    $lookup:\n        {\n           from: \"chatrooms\",\n           localField: \"userId\",\n           foreignField: \"user.id\",\n           as: \"merged\"\n        }\n},{\n    $match: {\n              \"merged.branchId\" : \"1\",\n              \"clinic_id\" : \"1\"\n            }\n}\n</code></pre>\n\n<p>you can also check the local collection <code>clinic_id</code> first and then the branchId after lookup: ( This will work faster as lookup time will be less)</p>\n\n<pre><code>{\n    $match: {\n              \"clinic_id\" : \"1\"\n            }\n},\n{\n    $lookup:\n        {\n           from: \"chatrooms\",\n           localField: \"userId\",\n           foreignField: \"user.id\",\n           as: \"merged\"\n        }\n},\n{\n    $match: {\n              \"merged.branchId\" : \"1\"\n            }\n}\n</code></pre>\n"}], "owner": {"reputation": 464, "user_id": 4492372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh6.googleusercontent.com/-kHFgderkrF0/AAAAAAAAAAI/AAAAAAAAAc0/u5sPDexq4Hg/photo.jpg?sz=128", "display_name": "Andrew Taylor", "link": "https://stackoverflow.com/users/4492372/andrew-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 55735364, "answer_count": 1, "score": 0, "last_activity_date": 1555532196, "creation_date": 1555531252, "question_id": 55735154, "link": "https://stackoverflow.com/questions/55735154/filter-results-of-a-lookup", "title": "Filter results of a $lookup", "body": "<p>I have a lookup that is working. However, I need to filter the results with a $match or something similar. The local collection has a field called \"clinic_id\". The from collection has a field called branchId. I need to ensure that these fields are filtered. Basically only results with branchId of \"1\" and clinic_id of \"1\".</p>\n\n<pre><code> {\n $lookup:\n {\n   from: \"chatrooms\",\n   localField: \"userId\",\n   foreignField: \"user.id\",\n   as: \"merged\"\n }\n}\n</code></pre>\n\n<p>I've tried to use $match and $unwind but keep getting errors.</p>\n"}, {"tags": ["javascript", "if-statement", "while-loop"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1555531245, "post_id": 55735142, "comment_id": 98148600, "body": "<code>if(num = 0)</code> - <code>=</code> means <i>assignment</i>. For an equality check use <code>==</code> or <code>===</code>."}, {"owner": {"reputation": 9616, "user_id": 7194268, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/def585555f060fee8dcc065f270e403b?s=128&d=identicon&r=PG&f=1", "display_name": "mbojko", "link": "https://stackoverflow.com/users/7194268/mbojko"}, "edited": false, "score": 1, "creation_date": 1555531540, "post_id": 55735142, "comment_id": 98148734, "body": "Also: any checks you do for being divisible by 3 and 5 need to be inside the loop. Furthermore: with <code>(num % 3 === 0 &amp;&amp; num % 5 === 0)</code>, you&#39;re checking if a number is divisible by 15. I&#39;m guessing that was not the point of the exercise."}, {"owner": {"reputation": 23, "user_id": 11365265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7ehcVeq_9mI/AAAAAAAAAAI/AAAAAAAAANY/MmCdjDNyR1E/photo.jpg?sz=128", "display_name": "A.P", "link": "https://stackoverflow.com/users/11365265/a-p"}, "edited": false, "score": 1, "creation_date": 1555532203, "post_id": 55735142, "comment_id": 98148982, "body": "tnx guys its helped"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11365265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7ehcVeq_9mI/AAAAAAAAAAI/AAAAAAAAANY/MmCdjDNyR1E/photo.jpg?sz=128", "display_name": "A.P", "link": "https://stackoverflow.com/users/11365265/a-p"}, "edited": false, "score": 1, "creation_date": 1555535475, "post_id": 55735209, "comment_id": 98150141, "body": "i will put the first if out side of the loop couse its going only for one num but you helped me alot. tnx"}], "tags": [], "owner": {"reputation": 112, "user_id": 2470528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60660722a2cb47fa3322dc1cf2bfb6db?s=128&d=identicon&r=PG", "display_name": "JamesG", "link": "https://stackoverflow.com/users/2470528/jamesg"}, "is_accepted": true, "score": -1, "last_activity_date": 1556009217, "last_edit_date": 1556009217, "creation_date": 1555531485, "answer_id": 55735209, "question_id": 55735142, "link": "https://stackoverflow.com/questions/55735142/javascript-ignore-my-if-statements-whan-useing-while-statements/55735209#55735209", "title": "javascript ignore my IF Statements whan useing while Statements", "body": "<p>You have your loops in the wrong configuration, put your if statements inside the whole loop...</p>\n\n<pre><code>var num = 0;\nwhile(num &lt;= 50) {\n    if (num == 0) {\n        console.log(num + \" is zero\");\n    } else if (num % 3 === 0 &amp;&amp; num % 5 === 0) {\n        console.log(num + \" divisible by 3 and 5\");\n    } else {\n        console.log(num);\n    }\n    num++;\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11365265, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7ehcVeq_9mI/AAAAAAAAAAI/AAAAAAAAANY/MmCdjDNyR1E/photo.jpg?sz=128", "display_name": "A.P", "link": "https://stackoverflow.com/users/11365265/a-p"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 55735209, "answer_count": 1, "score": 0, "last_activity_date": 1556009217, "creation_date": 1555531192, "question_id": 55735142, "link": "https://stackoverflow.com/questions/55735142/javascript-ignore-my-if-statements-whan-useing-while-statements", "title": "javascript ignore my IF Statements whan useing while Statements", "body": "<p>so i got an exercises in javascript\nand now some PHP but it was long ago and i start to come back to code.\ni taking a course on web development and i need to PRINT ALL NUMBERS DIVISIBLE BY 5 AND 3 BETWEEN 5 AND 50.\nso its not working out so much and the com ignoring my if and else statement.\ni want to understand why its happening.\ntnx for everyone</p>\n\n<pre><code>console.log(\"PRINT ALL NUMBERS DIVISIBLE BY 5 AND 3 BETWEEN 5 AND 50\");\nvar num = 0 ;\nif(num = 0){\n  num++;\n  console.log(num + \" first if\");\n}\nelse if (!(num % 3 === 0 &amp;&amp; num % 5 === 0)){\n  num ++;\nconsole.log(num + \" second if\");\n}\nelse {\n  while(num &lt;= 50){\n  console.log(num);\n  num++;\n}\n}\n</code></pre>\n"}, {"tags": ["javascript", "variables"], "comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user6019272"}, "edited": false, "score": 0, "creation_date": 1555531364, "post_id": 55735140, "comment_id": 98148642, "body": "You can use <code>arguments</code> to get access to all arguments passed to a function: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/arguments\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 1, "creation_date": 1555531394, "post_id": 55735140, "comment_id": 98148655, "body": "It all depends how you call the function <code>inner_function</code>. Could you provide the problematic call?"}, {"owner": {"reputation": 1617, "user_id": 857903, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/480ca0410e4314612ee4528fa62399c0?s=128&d=identicon&r=PG", "display_name": "Typhoon101", "link": "https://stackoverflow.com/users/857903/typhoon101"}, "edited": false, "score": 0, "creation_date": 1555531579, "post_id": 55735140, "comment_id": 98148746, "body": "@DoMiNeLa. arguments will only get the value of item_1 and item_2 parameters. i am asking how to pass further parameters to the function without adding item_3 for example"}, {"owner": {"user_type": "does_not_exist", "display_name": "user6019272"}, "edited": false, "score": 0, "creation_date": 1555531635, "post_id": 55735140, "comment_id": 98148766, "body": "If you pass more arguments to the function, they will be available in <code>arguments</code>."}, {"owner": {"reputation": 1617, "user_id": 857903, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/480ca0410e4314612ee4528fa62399c0?s=128&d=identicon&r=PG", "display_name": "Typhoon101", "link": "https://stackoverflow.com/users/857903/typhoon101"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1555531725, "post_id": 55735140, "comment_id": 98148795, "body": "@trincot.  I am using a plugin and &#39;inner&#39; is just an object of settings for the plugin to use. They are defined by the plugin author. So in my case, i would use this object something like <code>plugin.init(document.config.outer.inner)</code>"}, {"owner": {"reputation": 1617, "user_id": 857903, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/480ca0410e4314612ee4528fa62399c0?s=128&d=identicon&r=PG", "display_name": "Typhoon101", "link": "https://stackoverflow.com/users/857903/typhoon101"}, "edited": false, "score": 0, "creation_date": 1555531940, "post_id": 55735140, "comment_id": 98148875, "body": "@DoMiNeLa10. As i mentioned in the original question, this method is part of a third party plugin, and that method only takes two parameters.  The plugin calls the method, not me. I am only defining what the method does.  I therefore cannot just add another parameter to the method call"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1555531941, "post_id": 55735140, "comment_id": 98148877, "body": "So replace that with <code>plugin.init(document.config.outer.inner.bind(config))</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1617, "user_id": 857903, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/480ca0410e4314612ee4528fa62399c0?s=128&d=identicon&r=PG", "display_name": "Typhoon101", "link": "https://stackoverflow.com/users/857903/typhoon101"}, "edited": false, "score": 0, "creation_date": 1555531987, "post_id": 55735271, "comment_id": 98148886, "body": "As the third party plugin is what calls this method, I cannot add any further parameters. however, the parent.parent.var1 seems like a good option.  thanks for your help"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1555531799, "creation_date": 1555531799, "answer_id": 55735271, "question_id": 55735140, "link": "https://stackoverflow.com/questions/55735140/how-to-pass-a-variable-to-an-object-method/55735271#55735271", "title": "how to pass a variable to an object method", "body": "<p>Objects don't have any automatic reference to their containing objects, so within the <code>inner</code> object there's no built-in way to get to <code>outer</code> or <code>config</code>. You need to pass the object explicitly.</p>\n\n<p>So you need to define it as:</p>\n\n<pre><code>inner_function: function(config, item_1, item_2) {\n    console.log(config.var1);\n}\n</code></pre>\n\n<p>and call it as:</p>\n\n<pre><code>document.config.outer.inner.inner_function(document.config, i1, i2);\n</code></pre>\n\n<p>If you want to be able to access the containers without passing them as arguments, you need to put them explicitly into the object.</p>\n\n<pre><code>var configs = {\n    init: function() {\n        this.var1 = 'variable 1',\n        this.var2 = 'variable 2'\n    },\n\n    outer: {\n        inner: {\n            inner_var1: 'inner variable 1',\n            inner_var2: 'inner variable 2',\n            inner_var3: 'inner variable 3',\n            inner_function: function(item_1, item2) {\n                console.log(this.parent.parent.var1);\n            }\n        }\n    }\n}\nconfigs.outer.inner.parent = configs.outer;\nconfigs.outer.parent = configs;\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": false, "score": 0, "last_activity_date": 1555532022, "creation_date": 1555532022, "answer_id": 55735322, "question_id": 55735140, "link": "https://stackoverflow.com/questions/55735140/how-to-pass-a-variable-to-an-object-method/55735322#55735322", "title": "how to pass a variable to an object method", "body": "<p>Your problem happens because you do not have the <code>inner_function</code> called with the right value for <code>this</code>. So make sure <code>this</code> is correctly bound to it. For example:</p>\n\n<pre><code>plugin.init(document.config.outer.inner.bind(document.config))\n</code></pre>\n"}], "owner": {"reputation": 1617, "user_id": 857903, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/480ca0410e4314612ee4528fa62399c0?s=128&d=identicon&r=PG", "display_name": "Typhoon101", "link": "https://stackoverflow.com/users/857903/typhoon101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 72, "favorite_count": 0, "accepted_answer_id": 55735271, "answer_count": 2, "score": 0, "last_activity_date": 1555533515, "creation_date": 1555531182, "question_id": 55735140, "link": "https://stackoverflow.com/questions/55735140/how-to-pass-a-variable-to-an-object-method", "title": "how to pass a variable to an object method", "body": "<p>I have an object in Javascript which resembles the below</p>\n\n<pre><code>var configs = {\n    init: function() {\n        this.var1 = 'variable 1',\n        this.var2 = 'variable 2'\n    },\n\n    outer: {\n        inner: {\n            inner_var1: 'inner variable 1',\n            inner_var2: 'inner variable 2',\n            inner_var3: 'inner variable 3',\n            inner_function: function(item_1, item2) {\n                console.log(this.var1);\n            }\n        }\n    }\n}\n\nvar config = Object.create(configs);\nconfig.init();\ndocument.config = config;\n</code></pre>\n\n<p>I need to inject a variable set in the init method, into the outer.inner.inner_function method. But the caveat is, I cannot pass any more variables into the inner_function method parameter list. (The 'inner' object is a set of options for a third party plugin, and the function is defined by the plugin and only takes two parameters)</p>\n\n<p>How can I reference this.var1 from within an inner method?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "jquery", "ajax"], "comments": [{"owner": {"reputation": 45386, "user_id": 1264804, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/oYX71.png?s=128&g=1", "display_name": "isherwood", "link": "https://stackoverflow.com/users/1264804/isherwood"}, "edited": false, "score": 2, "creation_date": 1555531406, "post_id": 55735135, "comment_id": 98148661, "body": "Protip: <code>edible</code> is a recipe for frustration with any other developer who touches your code. I&#39;d go with <code>editable</code>."}, {"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 3, "creation_date": 1555531409, "post_id": 55735135, "comment_id": 98148664, "body": "Arrow functions inherit <code>this</code> from the outer scope. In your case <code>this</code> will be tied to whatever <code>this</code> is when <code>success</code> is called. You can simply change your arrow function to a regular function to fix this problem (assuming that you want <code>this</code> to reference the <code>.edible</code> element)."}], "owner": {"reputation": 45, "user_id": 7381195, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-s6OPygk_ZMM/AAAAAAAAAAI/AAAAAAAAAVk/O3Rw7j0kTFo/photo.jpg?sz=128", "display_name": "Adib Hasib", "link": "https://stackoverflow.com/users/7381195/adib-hasib"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "closed_date": 1555531942, "answer_count": 0, "score": 1, "last_activity_date": 1555531491, "creation_date": 1555531154, "last_edit_date": 1555531491, "question_id": 55735135, "link": "https://stackoverflow.com/questions/55735135/how-to-fix-this-val-returning-error-inside-jquerys-ajax-call", "closed_reason": "Duplicate", "title": "How to fix $(this).val returning error inside jquery&#39;s ajax call", "body": "<p>Inside ajax success call, $(this).val() returns error;</p>\n\n<p>I have a table where I am appending some values from database.\nI am wrapping my data using <code>&lt;div contenteditable = \"true\"&gt;</code>.\nSo, when I edit my table I want to get the changed/updated data.</p>\n\n<p>So, in my ajax success call I am appending data to table and using <code>$(selector).on(\"blur\")</code> method to try to get the updated data.</p>\n\n<p>But, <code>$(this).val()</code> returns this error.</p>\n\n<p><code>Uncaught TypeError: Cannot read property 'toLowerCase' of undefined\n    at w.fn.init.val</code></p>\n\n<pre><code>$(document).ready(function() {\n  $(\"select.option\").change(function(e) {\n    e.preventDefault();\n    var value = $(this).children(\"option:selected\").val();\n\n    console.log(value);\n\n    $.ajax({\n      type: 'post',\n      url: '/ajax',\n      data: {\n        value: value\n      },\n      success: function(result) {\n        if (result.length === 0) {\n\n        } else {\n          console.log(result);\n\n          let data = result;\n\n          $.each(data, (index, item) =&gt; {\n            $(\".tableData\").append(`&lt;tr&gt;\n                    &lt;td&gt;&lt;div contenteditable = \"true\" class=\"edible\"&gt;${item.st_id}&lt;/div&gt;&lt;/td&gt;\n                    &lt;td&gt;&lt;div contenteditable = \"true\" class=\"edible\"&gt;${item.co1}&lt;/div&gt;&lt;/td&gt;\n                  &lt;/tr&gt;`);\n          })\n          $(\".edible\").blur((e) =&gt; {\n            e.preventDefault();\n\n            console.log($(this).val())\n          })\n        }\n      },\n      error: function(err) {\n        console.log(err)\n      }\n    });\n  });\n});\n</code></pre>\n\n<p>I understand the problem here is that when manually accessing <code>$(this)</code> it refers to the window itself rather than the element I am trying to access. But I have zero ideas how to access the edited/updated table data.</p>\n"}, {"tags": ["javascript", "es6-modules"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1555531027, "post_id": 55735074, "comment_id": 98148506, "body": "what error do you get?"}, {"owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1555531285, "post_id": 55735074, "comment_id": 98148612, "body": "@DanielA.White Just updated my question with the error. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "edited": false, "score": 0, "creation_date": 1555531997, "post_id": 55735268, "comment_id": 98148890, "body": "that exact code gives me <code>application.js:12541 Uncaught ReferenceError: exports is not defined at application.js:12541</code>"}, {"owner": {"reputation": 795, "user_id": 5953575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YxUW7.jpg?s=128&g=1", "display_name": "Milenko Jevremovic", "link": "https://stackoverflow.com/users/5953575/milenko-jevremovic"}, "reply_to_user": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "edited": false, "score": 0, "creation_date": 1555532258, "post_id": 55735268, "comment_id": 98149002, "body": "Hm, just edited the answer, so give it a try, it works for me, both. @CannonMoyer"}, {"owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "edited": false, "score": 0, "creation_date": 1555533059, "post_id": 55735268, "comment_id": 98149297, "body": "Still having the same problem. A quick search led me to CommonJS. Is this a requirement for using the exports keyword? I&#39;m developing this code in a Rails application."}, {"owner": {"reputation": 795, "user_id": 5953575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YxUW7.jpg?s=128&g=1", "display_name": "Milenko Jevremovic", "link": "https://stackoverflow.com/users/5953575/milenko-jevremovic"}, "reply_to_user": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "edited": false, "score": 0, "creation_date": 1555533546, "post_id": 55735268, "comment_id": 98149479, "body": "That is a change, look at this <a href=\"https://blog.arkency.com/2015/04/bring-commonjs-to-your-asset-pipeline/\" rel=\"nofollow noreferrer\">blog.arkency.com/2015/04/bring-commonjs-to-your-asset-pipeli&zwnj;&#8203;ne</a> ..... than my solution will work"}], "tags": [], "owner": {"reputation": 795, "user_id": 5953575, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YxUW7.jpg?s=128&g=1", "display_name": "Milenko Jevremovic", "link": "https://stackoverflow.com/users/5953575/milenko-jevremovic"}, "is_accepted": true, "score": 1, "last_activity_date": 1555532717, "last_edit_date": 1555532717, "creation_date": 1555531787, "answer_id": 55735268, "question_id": 55735074, "link": "https://stackoverflow.com/questions/55735074/cannot-export-js-module/55735268#55735268", "title": "Cannot Export JS Module", "body": "<p>Try:</p>\n\n<pre><code>const utilities = function() {\n  return {\n    debounce: function(func, wait, immediate){\n      var timeout;\n        return function() {\n          var context = this, args = arguments;\n          var later = function() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n          };\n        var callNow = immediate &amp;&amp; !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n       };\n     }\n   }\n }\n\nexport default utilities;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>function utilities() {\n  return {\n    debounce: function(func, wait, immediate){\n      var timeout;\n        return function() {\n          var context = this, args = arguments;\n          var later = function() {\n            timeout = null;\n            if (!immediate) func.apply(context, args);\n          };\n        var callNow = immediate &amp;&amp; !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(later, wait);\n        if (callNow) func.apply(context, args);\n       };\n     }\n   }\n }\n\n module.exports.utilities= utilities;  \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1165, "user_id": 8327733, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-AGWvjbX7yeQ/AAAAAAAAAAI/AAAAAAAAAO4/FQQ0tsVMZTs/photo.jpg?sz=128", "display_name": "duc mai", "link": "https://stackoverflow.com/users/8327733/duc-mai"}, "is_accepted": false, "score": 0, "last_activity_date": 1555533075, "creation_date": 1555533075, "answer_id": 55735549, "question_id": 55735074, "link": "https://stackoverflow.com/questions/55735074/cannot-export-js-module/55735549#55735549", "title": "Cannot Export JS Module", "body": "<p>it seems that you are exporting on server side. To use export keyword you need to transpile with babel. you can refer to this <a href=\"https://babeljs.io/setup#installation\" rel=\"nofollow noreferrer\">https://babeljs.io/setup#installation</a> to learn how to set it up</p>\n\n<p>for clientside you can set it up with webpack for example, it also needs babel transpile</p>\n\n<pre><code>npm install --save-dev babel-core\nnpm install @babel/preset-env --save-dev\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 355, "user_id": 8618649, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GLvl1yI5eGI/AAAAAAAAAAI/AAAAAAAAACQ/H8QcCxFchUM/photo.jpg?sz=128", "display_name": "dankobgd", "link": "https://stackoverflow.com/users/8618649/dankobgd"}, "is_accepted": false, "score": 0, "last_activity_date": 1555533426, "creation_date": 1555533426, "answer_id": 55735617, "question_id": 55735074, "link": "https://stackoverflow.com/questions/55735074/cannot-export-js-module/55735617#55735617", "title": "Cannot Export JS Module", "body": "<p>this works fine in nodejs, if you are using browser script you need to have <code>&lt;script type=\"module\"&gt;</code> to use <code>export</code> keyword (es modules) or just transpile your code with babel</p>\n"}], "owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 55735268, "answer_count": 3, "score": 0, "last_activity_date": 1555543382, "creation_date": 1555530908, "last_edit_date": 1555543382, "question_id": 55735074, "link": "https://stackoverflow.com/questions/55735074/cannot-export-js-module", "title": "Cannot Export JS Module", "body": "<p>I've got a module called utilities in a <code>utilities.js</code> file. I am using it for some basic js functions and I want to hide the module from the global namespace. I understand that to do this I should create a module, export it, import it in the needed file, then invoke its functions. However, I cannot seem to properly export the module. I figure this is pretty simple but everything I have tried gives an error. Here is my code:</p>\n\n<pre><code>var utilities = (function(){\nreturn {\n    debounce: function(func, wait, immediate){\n        var timeout;\n        return function() {\n            var context = this, args = arguments;\n            var later = function() {\n                timeout = null;\n                if (!immediate) func.apply(context, args);\n            };\n            var callNow = immediate &amp;&amp; !timeout;\n            clearTimeout(timeout);\n            timeout = setTimeout(later, wait);\n            if (callNow) func.apply(context, args);\n        };\n    }\n}\n})();\n\nexport { utilities };\n</code></pre>\n\n<p>My error:</p>\n\n<pre><code>application.js:12560 Uncaught SyntaxError: Unexpected token export\n</code></pre>\n"}, {"tags": ["javascript", "laravel", "vue.js"], "comments": [{"owner": {"reputation": 1472, "user_id": 2188545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20a5d6362251fa43a38001ce3bfd0742?s=128&d=identicon&r=PG", "display_name": "Noogen", "link": "https://stackoverflow.com/users/2188545/noogen"}, "edited": false, "score": 0, "creation_date": 1555552212, "post_id": 55735068, "comment_id": 98153789, "body": "You don&#39;t need <code>qs.stringify(the_data)</code>, simply pass-in/use <code>the_data</code>"}, {"owner": {"reputation": 308, "user_id": 8779552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/408dfd7677b17291fa27c8ee1be52f3f?s=128&d=identicon&r=PG&f=1", "display_name": "OlaJ", "link": "https://stackoverflow.com/users/8779552/olaj"}, "reply_to_user": {"reputation": 1472, "user_id": 2188545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20a5d6362251fa43a38001ce3bfd0742?s=128&d=identicon&r=PG", "display_name": "Noogen", "link": "https://stackoverflow.com/users/2188545/noogen"}, "edited": false, "score": 0, "creation_date": 1555587455, "post_id": 55735068, "comment_id": 98167140, "body": "@Noogen you are right, I don&#39;t need it, axios post works perfectly without it. However, this part of my code doesn&#39;t still work    <code>.catch(function (error) {</code>                   <code>this.loading = false;</code>                  ` if (error.response.status == 422) {`                     <code>this.errors.push(&quot;We couldn&#39;t verify your account details.&quot;);</code>                  ` } else {`                    ` this.errors.push(&quot;Something went wrong, please refresh and try again.&quot;);                   }`  i still get no response from push <code>if (error.response.status === 422)</code>"}, {"owner": {"reputation": 1472, "user_id": 2188545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20a5d6362251fa43a38001ce3bfd0742?s=128&d=identicon&r=PG", "display_name": "Noogen", "link": "https://stackoverflow.com/users/2188545/noogen"}, "edited": false, "score": 0, "creation_date": 1555591194, "post_id": 55735068, "comment_id": 98169250, "body": "Ok, try changing <code>this.errors = [];</code> line to <code>this.errors.length = 0</code> so you don&#39;t overwrite the array variable that is being watched.  Also, I&#39;m assuming you do get 422 result but you&#39;re just not seeing the error?"}, {"owner": {"reputation": 308, "user_id": 8779552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/408dfd7677b17291fa27c8ee1be52f3f?s=128&d=identicon&r=PG&f=1", "display_name": "OlaJ", "link": "https://stackoverflow.com/users/8779552/olaj"}, "reply_to_user": {"reputation": 1472, "user_id": 2188545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/20a5d6362251fa43a38001ce3bfd0742?s=128&d=identicon&r=PG", "display_name": "Noogen", "link": "https://stackoverflow.com/users/2188545/noogen"}, "edited": false, "score": 0, "creation_date": 1555594612, "post_id": 55735068, "comment_id": 98171277, "body": "@Noogen Yes I get the 422 error in the console but I don&#39;t get the response in the component. For some reason changing the format of the then and catch, blocks made it work. will post code below"}], "answers": [{"tags": [], "owner": {"reputation": 308, "user_id": 8779552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/408dfd7677b17291fa27c8ee1be52f3f?s=128&d=identicon&r=PG&f=1", "display_name": "OlaJ", "link": "https://stackoverflow.com/users/8779552/olaj"}, "is_accepted": false, "score": 1, "last_activity_date": 1555594999, "creation_date": 1555594999, "answer_id": 55747350, "question_id": 55735068, "link": "https://stackoverflow.com/questions/55735068/displaying-authentication-errors-in-vue-login-component-not-working-using-push/55747350#55747350", "title": "Displaying authentication errors in Vue login component not working using push", "body": "<p>After taking out qs.stringify as suggested by @Noogen above; for some reason changing the structure of the 'then and catch blocks' solved the problem (now outputting a 422 console error and pushing error to the component as expected):\n`</p>\n\n<pre><code> attemptLogin() {\n    var the_data = {\n      email: this.email,\n      password: this.password,\n      remember: this.remember,\n    }\n    this.errors = [];\n    this.loading = true;\n    axios.post('/login', the_data)\n    .then(response =&gt; {\n      location.reload();\n    })\n    .catch(error =&gt; {\n      this.loading = false;\n        console.log(error.response)\n        if (error.response.status == 422) {\n           this.errors.push(\"We couldn't verify your account details.\");\n         } else {\n           this.errors.push(\"Something went wrong, please refresh and try again.\");\n         }\n    });\n  }\n},`\n</code></pre>\n"}], "owner": {"reputation": 308, "user_id": 8779552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/408dfd7677b17291fa27c8ee1be52f3f?s=128&d=identicon&r=PG&f=1", "display_name": "OlaJ", "link": "https://stackoverflow.com/users/8779552/olaj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2236, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1612647924, "creation_date": 1555530882, "last_edit_date": 1612647924, "question_id": 55735068, "link": "https://stackoverflow.com/questions/55735068/displaying-authentication-errors-in-vue-login-component-not-working-using-push", "title": "Displaying authentication errors in Vue login component not working using push", "body": "<p>I'm a beginner in Laravel and Vue, I'm taking a course at Udemy, trying to display a failed authentication error response within a Vue component using push if the error is a 422 error, (this is only for testing purposes to know if push works or the code will run if used later. The code will be refactored).</p>\n<p>I've done some research and found no answers at the moment.</p>\n<pre><code>&lt;template&gt;\n\n\n &lt;div class=&quot;modal fade&quot; id=&quot;loginModal&quot; tabindex=&quot;-1&quot; role=&quot;dialog&quot; aria-labelledby=&quot;exampleModalLabel&quot; aria-hidden=&quot;true&quot;&gt;\n      &lt;div class=&quot;modal-dialog&quot; role=&quot;document&quot;&gt;\n      &lt;div class=&quot;card card-shadowed p-50 w-400 mb-0&quot; style=&quot;max-width: 100%&quot;&gt;\n          &lt;h5 class=&quot;text-uppercase text-center&quot;&gt;Login&lt;/h5&gt;\n          &lt;br&gt;&lt;br&gt;\n    &lt;form&gt;\n      &lt;ul class=&quot;list-group alert alert-danger&quot; v-if=&quot;errors.length &gt; 0&quot;&gt;\n        &lt;li class=&quot;list-group-item&quot; v-for=&quot;error in errors&quot; :key=&quot;errors.indexOf(error)&quot;&gt;\n           {{ error }}\n        &lt;/li&gt;\n            &lt;/ul&gt;\n            &lt;div class=&quot;form-group&quot;&gt;\n              &lt;input type=&quot;text&quot; class=&quot;form-control&quot; placeholder=&quot;Email&quot; v-model=&quot;email&quot;&gt;\n            &lt;/div&gt;\n    \n            &lt;div class=&quot;form-group&quot;&gt;\n              &lt;input type=&quot;password&quot; class=&quot;form-control&quot; placeholder=&quot;Password&quot; v-model=&quot;password&quot;&gt;\n            &lt;/div&gt;\n    \n            &lt;div class=&quot;form-group flexbox py-10&quot;&gt;\n              &lt;label class=&quot;custom-control custom-checkbox&quot;&gt;\n                &lt;input type=&quot;checkbox&quot; class=&quot;custom-control-input&quot;  v-model=&quot;remember&quot; checked&gt;\n                &lt;span class=&quot;custom-control-indicator&quot;&gt;&lt;/span&gt;\n                &lt;span class=&quot;custom-control-description&quot;&gt;Remember me&lt;/span&gt;\n              &lt;/label&gt;\n    \n              &lt;a class=&quot;text-muted hover-primary fs-13&quot; href=&quot;#&quot;&gt;Forgot password?&lt;/a&gt;\n            &lt;/div&gt;\n    \n            &lt;div class=&quot;form-group&quot;&gt;\n              &lt;button class=&quot;btn btn-bold btn-block btn-primary&quot; @click=&quot;attemptLogin()&quot; :disabled=&quot;!isValidLoginForm()&quot; type=&quot;button&quot;&gt;Login&lt;/button&gt;\n            &lt;/div&gt;\n          &lt;/form&gt;\n          &lt;p class=&quot;text-center text-muted fs-13 mt-20&quot;&gt;Don't have an account? &lt;a href=&quot;page-register.html&quot;&gt;Sign up&lt;/a&gt;&lt;/p&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;/template&gt;\n    \n    &lt;script&gt;\n        import axios from 'axios';\n        import qs from 'qs';\n        export default {\n            mounted() {\n                console.log('Component mounted.')\n            },\n            data() {\n              return {\n                email: '',\n                password: '',\n                remember: true,\n                loading: false,\n                errors: [],\n              }\n            },\n            methods: {\n              emailIsValid() {\n               if (/^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$/.test(this.email)) {\n                  return true\n                } else {\n                  return false\n                }\n              },\n    \n              isValidLoginForm() {\n                return this.emailIsValid() &amp;&amp; this.password &amp;&amp; !this.loading\n              },\n    \n              attemptLogin() {\n          \n\n      var the_data = {\n                  email: this.email,\n                  password: this.password,\n                  remember: this.remember,\n                }\n                this.errors = [];\n                this.loading = true;\n                axios.post('/login', the_data)\n                .then(function (response) {\n                  location.reload();\n                })\n                .catch(function (error) {\n                  this.loading = false;\n                  if (error.response.status == 422) {\n                    this.errors.push(&quot;We couldn't verify your account details.&quot;);\n                  } else {\n                    this.errors.push(&quot;Something went wrong, please refresh and try again.&quot;);\n                  }\n                });\n              }\n            },\n    \n            // computed: {\n            //\n            // },\n        }\n    &lt;/script&gt;\n</code></pre>\n<p>I get no errors in my view when I put in wrong user credentials, but the console outputs a 422 error response (I need a readable response to be displayed in the alert e.g. &quot;We couldn't verify your account details&quot; but no luck).</p>\n"}, {"tags": ["javascript", "inheritance", "ecmascript-6"], "comments": [{"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1555533433, "post_id": 55735066, "comment_id": 98149434, "body": "Why would you prefer modifying the library object over having an intermediate class? What is the advantage? Generally &quot;monkey patching&quot; things you do not own is considered bad practice."}, {"owner": {"reputation": 1237, "user_id": 4838010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822e4263d6c194686f216a1caac5528a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Grosgojat", "link": "https://stackoverflow.com/users/4838010/kevin-grosgojat"}, "reply_to_user": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1555535040, "post_id": 55735066, "comment_id": 98150008, "body": "I&#39;ve edited my question.  My objects does&#39;nt extends the same library class.  Take a look"}], "answers": [{"comments": [{"owner": {"reputation": 1237, "user_id": 4838010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822e4263d6c194686f216a1caac5528a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Grosgojat", "link": "https://stackoverflow.com/users/4838010/kevin-grosgojat"}, "edited": false, "score": 0, "creation_date": 1555532051, "post_id": 55735290, "comment_id": 98148918, "body": "Not realy, doing this I have to change the code of the library.  I&#39;m searching for a way to add method in the library &#39;object&#39; class from my code, using es6 syntax.  In order to have the &#39;newMethod&#39; in all my objects that have extended the &#39;Object1&#39; class"}, {"owner": {"reputation": 11790, "user_id": 5004923, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/EOaz2.jpg?s=128&g=1", "display_name": "webdeb", "link": "https://stackoverflow.com/users/5004923/webdeb"}, "reply_to_user": {"reputation": 1237, "user_id": 4838010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822e4263d6c194686f216a1caac5528a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Grosgojat", "link": "https://stackoverflow.com/users/4838010/kevin-grosgojat"}, "edited": false, "score": 0, "creation_date": 1555532149, "post_id": 55735290, "comment_id": 98148966, "body": "do you have to use es6 syntax? why not just <code>YourClass.prototype.myMethod</code> ?"}, {"owner": {"reputation": 11790, "user_id": 5004923, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/EOaz2.jpg?s=128&g=1", "display_name": "webdeb", "link": "https://stackoverflow.com/users/5004923/webdeb"}, "reply_to_user": {"reputation": 1237, "user_id": 4838010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822e4263d6c194686f216a1caac5528a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Grosgojat", "link": "https://stackoverflow.com/users/4838010/kevin-grosgojat"}, "edited": false, "score": 1, "creation_date": 1555532264, "post_id": 55735290, "comment_id": 98149005, "body": "On the other hand, this is also a bad answer, patching a library is not a good idea, instead, extend your custom class with the methods you need."}, {"owner": {"reputation": 1237, "user_id": 4838010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822e4263d6c194686f216a1caac5528a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Grosgojat", "link": "https://stackoverflow.com/users/4838010/kevin-grosgojat"}, "edited": false, "score": 0, "creation_date": 1555532295, "post_id": 55735290, "comment_id": 98149018, "body": "i don&#39;t have to use es6 syntax.  My curious side is searching a way to write this in es6"}, {"owner": {"reputation": 1237, "user_id": 4838010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822e4263d6c194686f216a1caac5528a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Grosgojat", "link": "https://stackoverflow.com/users/4838010/kevin-grosgojat"}, "edited": false, "score": 0, "creation_date": 1555532453, "post_id": 55735290, "comment_id": 98149076, "body": "I have 10 differents class that extends the library object class, in all my class the newMethod will have to do exactly the same work. It&#39;s the reason why i&#39;m searching a way to add it in the library &#39;Object&#39; class i extends."}, {"owner": {"reputation": 1237, "user_id": 4838010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822e4263d6c194686f216a1caac5528a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Grosgojat", "link": "https://stackoverflow.com/users/4838010/kevin-grosgojat"}, "edited": false, "score": 0, "creation_date": 1555532683, "post_id": 55735290, "comment_id": 98149156, "body": "To be more precise, i&#39;m working on a drawing software.  I use a library that draw on canvas.  Library has a basic object class and other shape classes (like rectangle, triangle circle) that extends the object class.  Then i have my own shape class that extends the library shape class.  I&#39;d like to had a behavior for all my object.  The way to do that is to add a method in the library object class.  Just searching for a way to write this using es6 syntax."}, {"owner": {"reputation": 11790, "user_id": 5004923, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/EOaz2.jpg?s=128&g=1", "display_name": "webdeb", "link": "https://stackoverflow.com/users/5004923/webdeb"}, "reply_to_user": {"reputation": 1237, "user_id": 4838010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822e4263d6c194686f216a1caac5528a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Grosgojat", "link": "https://stackoverflow.com/users/4838010/kevin-grosgojat"}, "edited": false, "score": 0, "creation_date": 1555532694, "post_id": 55735290, "comment_id": 98149164, "body": "Yes, then extend it once <code>class MyExtension</code> and use your extended version to extend the others, just by replacing the <code>Object</code> with <code>MyExtension</code>"}, {"owner": {"reputation": 11790, "user_id": 5004923, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/EOaz2.jpg?s=128&g=1", "display_name": "webdeb", "link": "https://stackoverflow.com/users/5004923/webdeb"}, "reply_to_user": {"reputation": 1237, "user_id": 4838010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822e4263d6c194686f216a1caac5528a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Grosgojat", "link": "https://stackoverflow.com/users/4838010/kevin-grosgojat"}, "edited": false, "score": 0, "creation_date": 1555532825, "post_id": 55735290, "comment_id": 98149219, "body": "There is nothing wrong to use <code>Object.prototype</code>. ES6 is a superset of ES5, that means, you can use it."}, {"owner": {"reputation": 1237, "user_id": 4838010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822e4263d6c194686f216a1caac5528a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Grosgojat", "link": "https://stackoverflow.com/users/4838010/kevin-grosgojat"}, "edited": false, "score": 0, "creation_date": 1555533422, "post_id": 55735290, "comment_id": 98149430, "body": "Just updated my question, which may not have been very clear. If there&#39;s no way to write it in es6 i&#39;ll use prototype notation."}], "tags": [], "owner": {"reputation": 11790, "user_id": 5004923, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/EOaz2.jpg?s=128&g=1", "display_name": "webdeb", "link": "https://stackoverflow.com/users/5004923/webdeb"}, "is_accepted": false, "score": 0, "last_activity_date": 1555532590, "last_edit_date": 1555532590, "creation_date": 1555531879, "answer_id": 55735290, "question_id": 55735066, "link": "https://stackoverflow.com/questions/55735066/how-to-overload-a-library-class-using-es6-syntax/55735290#55735290", "title": "How to overload a library class using es6 syntax", "body": "<p>Is it what you are looking for?</p>\n\n<pre><code>// The library object class\nclass Object {\n  myNewMethod() {}\n}\n</code></pre>\n\n<p>Even with ES6, you can still use <code>Object.prototype</code></p>\n\n<pre><code>Object.prototype.myNewMethod = function() {}\n</code></pre>\n\n<p>But the proper way is to let the original base class as it is, and use inheritance.</p>\n\n<pre><code>class Object1 extends Object {\n  myNewMethod() {}\n}\n</code></pre>\n"}], "owner": {"reputation": 1237, "user_id": 4838010, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/822e4263d6c194686f216a1caac5528a?s=128&d=identicon&r=PG&f=1", "display_name": "Kevin Grosgojat", "link": "https://stackoverflow.com/users/4838010/kevin-grosgojat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1555533353, "creation_date": 1555530868, "last_edit_date": 1555533353, "question_id": 55735066, "link": "https://stackoverflow.com/questions/55735066/how-to-overload-a-library-class-using-es6-syntax", "title": "How to overload a library class using es6 syntax", "body": "<p>I have in my projet different objects that extends some other object caming from a library. \nThe object of the library extends the Object class of the library. </p>\n\n<p>So we have the following architecture : </p>\n\n<pre><code>// The library object class\nclass Object {\n\n}\n\n// The library object1 class that extends object library class\nclass Object1 extends Object{\n\n}\n\n// The library object2 class that extends object library class\nclass Object2 extends Object{\n\n}\n\n\n// My object class that extends Object1 library class\nclass MyObject extends Object1{\n\n}\n\n// My second object class that extends Object2 library class\nclass MySecondObject extends Object2{\n\n}\n</code></pre>\n\n<p>My question is, how can I use es6 syntax to add a method in the 'Object' Class of the library i use without modify the code of my library (a node module). </p>\n\n<p>In es5, i'll have done something like : </p>\n\n<pre><code>MyLib.Object.prototype.myNewMethod = function () {\n}\n</code></pre>\n\n<p>In order to make </p>\n\n<pre><code>const o = new MyObject();\no.myNewMethod();\nconst o2 = new MySecondObject();\no2.myNewMethod();\n</code></pre>\n\n<p>Thanks for help.</p>\n"}, {"tags": ["javascript", "php", "database", "settings", "project"], "comments": [{"owner": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 1, "creation_date": 1555531292, "post_id": 55735060, "comment_id": 98148615, "body": "<i>&quot;Is it still common to use PHP for server or PHP is dead for new project creation?&quot;</i>. PHP is very much alive and it is the best language ever..."}, {"owner": {"reputation": 149, "user_id": 3700786, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8fcf88595021ea7f58d6971e0712587d?s=128&d=identicon&r=PG&f=1", "display_name": "user3700786", "link": "https://stackoverflow.com/users/3700786/user3700786"}, "reply_to_user": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 0, "creation_date": 1555533698, "post_id": 55735060, "comment_id": 98149537, "body": "@Dharman Thank you. I have to change my friends :)"}, {"owner": {"reputation": 20643, "user_id": 3684882, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ff8NL.jpg?s=128&g=1", "display_name": "ArtisticPhoenix", "link": "https://stackoverflow.com/users/3684882/artisticphoenix"}, "edited": false, "score": 0, "creation_date": 1555603323, "post_id": 55735060, "comment_id": 98176418, "body": "Why do people keep hating on PHP, I just seen a post where a Python user claimed PHP was stale outdated language, however PHP has proper type restrictions, something Python is a bit lacking in.... anyway.  Im not bashing Python, I don&#39;t know python, but people that don&#39;t know modern PHP shouldn&#39;t bash it either."}], "answers": [{"comments": [{"owner": {"reputation": 149, "user_id": 3700786, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8fcf88595021ea7f58d6971e0712587d?s=128&d=identicon&r=PG&f=1", "display_name": "user3700786", "link": "https://stackoverflow.com/users/3700786/user3700786"}, "edited": false, "score": 0, "creation_date": 1555534086, "post_id": 55735257, "comment_id": 98149686, "body": "thank you for your answer. Open db connection...oookey I&#39;m dumb. Prefixes - is it really good idea (a need of DB structure change)?"}], "tags": [], "owner": {"reputation": 2223, "user_id": 8783885, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fvEUy.png?s=128&g=1", "display_name": "Wiimm", "link": "https://stackoverflow.com/users/8783885/wiimm"}, "is_accepted": false, "score": 1, "last_activity_date": 1555531744, "creation_date": 1555531744, "answer_id": 55735257, "question_id": 55735060, "link": "https://stackoverflow.com/questions/55735060/how-to-set-database-for-project-used-on-multiple-sub-domains-and-which-technolog/55735257#55735257", "title": "How to set database for project used on multiple sub-domains and which technology is the best to use?", "body": "<p>Some notes, to much for a comment:</p>\n\n<ul>\n<li>An open database connection can access not only the default database. Use <code>datbase.table</code> to access other databases.</li>\n<li>Use either different (and unique) prefixes, or different databases. Don't mix them.</li>\n<li>If using different databases, use one special database for global data (your super-tables).</li>\n<li>There are always database limits. Best is to estimate your requirements, multiply them by 10 and look into the database descriptions. Anyway, most disk and memory space are the limits.</li>\n<li>Make a clean database layout with optimal members (e.g choose <code>smallint</code> if you only store values between 0 and 1000), create schematics for you database access to determine the keys. Do both before starting with the implementation. </li>\n</ul>\n"}], "owner": {"reputation": 149, "user_id": 3700786, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/8fcf88595021ea7f58d6971e0712587d?s=128&d=identicon&r=PG&f=1", "display_name": "user3700786", "link": "https://stackoverflow.com/users/3700786/user3700786"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1555534990, "creation_date": 1555530844, "last_edit_date": 1555534990, "question_id": 55735060, "link": "https://stackoverflow.com/questions/55735060/how-to-set-database-for-project-used-on-multiple-sub-domains-and-which-technolog", "title": "How to set database for project used on multiple sub-domains and which technology is the best to use?", "body": "<p>I'm trying to start developing a large web project that should be used on multiple sub-domains where the sub-domain represents the client. I'm facing the problem, that I don't know the best or recommended solution for this type of project.</p>\n\n<p>The project (THE LOGIC) should be something like slack.com. Sub-domain represents the client (clientAlpha.slack.com, clientBeta.slack.com, etc.). The problem is, that I can imagine multiple solutions and all of them has many disadvantages.</p>\n\n<p>All data will be stored on my server - client only do the registration</p>\n\n<ol>\n<li><p>How to organize DB structure for multiple clients? </p>\n\n<ul>\n<li>Each client has own database  named with some prefix. But there is a problem with some kind of \"super db\" that causes a need for multiple-db connection. Multiple DBs = ugly job during DB structure update.</li>\n<li>One DB with some \"super-tables\" and many same tables for each client. I this this is the ugliest solution. Same structure-update problem as above.</li>\n<li>\"Normal\" DB with \"normal\" tables where the client is represented by foreign_key. This solution impacts the speed of DB.</li>\n</ul></li>\n<li><p>Which type DB is best to use? I mean are there any limitations for number of data (rows)? I have good practices with MySQL and MongoDB. No GPS, no blobs - only \"pure\" data will be stored in tables (numbers, strings, booleans, texts)</p></li>\n<li><p>Is it still common to use PHP for server or PHP is dead for new project creation? /Or is good to use JavaScript (node.js)?</p></li>\n</ol>\n\n<p>I tried to find some information abou this, but thousand people = thousand opinions :/</p>\n\n<p>Thank you for your guidance and recommendation.</p>\n"}, {"tags": ["javascript", "html", "angular", "angular-universal", "server-side-rendering"], "comments": [{"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1555535447, "post_id": 55735034, "comment_id": 98150135, "body": "why not evaluate the code server side and not even let it reach the client ?"}, {"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1555535576, "post_id": 55735034, "comment_id": 98150176, "body": "well in sites like facebook everyone has a token that contains all their access rights (and is stored in backend) without which you cant do anything at all including admin requests so in your case lets assume you are doing some request with credentials (cause why not) then you would create a backend interface that more or less jsut passes the request though but adds the credentials which can only be called if your authorized to call that interface by token ."}, {"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1555536044, "post_id": 55735034, "comment_id": 98150351, "body": "more info on the token system (preferably use 3rd party systems for that) basically you have a login request to the backend which generates a random token or encoded details without any secure credentials and saves the userinformation that go with that token in the database (preferably with timestamp) then gives that token to the frontend now when a user tries to access that interface you check wether he passed you a token nad also check if it exists in the database and is connected to a user with the neccessary rights (and if it is within a time range) and then send the request"}, {"owner": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1555536107, "post_id": 55735034, "comment_id": 98150382, "body": "always remember anything that you are &#39;hiding&#39; in front end code can be reproduced  by simple console inputs in the developer console and a little help of the network logging feature"}, {"owner": {"reputation": 57, "user_id": 9140215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294aadd09f476d1b1d01a1f79adaffd1?s=128&d=identicon&r=PG&f=1", "display_name": "Conrad", "link": "https://stackoverflow.com/users/9140215/conrad"}, "reply_to_user": {"reputation": 721, "user_id": 11268857, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mTRSSfkZJe8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcNs6tmD9Sdl_2-8HrQfRS1GTCaeQ/mo/photo.jpg?sz=128", "display_name": "jonathan Heindl", "link": "https://stackoverflow.com/users/11268857/jonathan-heindl"}, "edited": false, "score": 0, "creation_date": 1555943474, "post_id": 55735034, "comment_id": 98261006, "body": "Thank you for your insights and for sharing your knowledge on security and Facebook. The idea is actually not to let the code reach the client, but let the server render it and don&#39;t let it slip to the JS bundle, this is easy in PHP if you may, because you decide to render or not based on a simple condition, but in SPAs is not so easy, because there is a bundle being created and sent. On the SPA + SSR side, if you want the same effect, then maybe I should erase the JS Angular function in the bundle, but this should be done in runtime, according to the user role, that&#39;s the complexity here"}], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 9140215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294aadd09f476d1b1d01a1f79adaffd1?s=128&d=identicon&r=PG&f=1", "display_name": "Conrad", "link": "https://stackoverflow.com/users/9140215/conrad"}, "edited": false, "score": 0, "creation_date": 1555942973, "post_id": 55752187, "comment_id": 98260721, "body": "Thanks for your time. I think this is a good approach in case you have binary private or public content but, what if the private content changes based on the rol/permissions? (I know how to do the authentication/authorization server-side) It should be dynamic and done in runtime, unless you create say 10 different bundles for every user role. The goal is to use the ngIf directive, checking for permissions over a component for example and if he doesn&#39;t have permission, don&#39;t render the HTML but also don&#39;t send the JS to the bundle either. Is that possible with SSR and Angular as SPA?"}], "tags": [], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "is_accepted": false, "score": 0, "last_activity_date": 1555613597, "creation_date": 1555613597, "answer_id": 55752187, "question_id": 55735034, "link": "https://stackoverflow.com/questions/55735034/how-to-hide-server-side-rendered-html-code-in-client-side/55752187#55752187", "title": "How to hide server-side rendered HTML code in client-side", "body": "<blockquote>\n  <p>Is there a way to render something exclusively server-side and dont let the HTML/JS slip into the front-end when it's bootstraped after the server-side rendering</p>\n</blockquote>\n\n<p>Yes.</p>\n\n<p>You have to build two distinct builds of your Angular project. One that contains <em>private</em> content and another that is <em>public</em>. This can be done by defining multiple environments for your Angular project.</p>\n\n<p><a href=\"https://blog.angularindepth.com/becoming-an-angular-environmentalist-45a48f7c20d8\" rel=\"nofollow noreferrer\">https://blog.angularindepth.com/becoming-an-angular-environmentalist-45a48f7c20d8</a></p>\n\n<p>You can define fake proxy services in your front-end build, but use the server-side providers to declare only services that exist only on the server. This prevents the source code from getting into the bundles.</p>\n\n<pre><code>app.engine('html', ngExpressEngine({\n  bootstrap: ServerAppModule,\n  providers: [\n    ServerService\n  ]\n}));\n</code></pre>\n\n<p>You then need to create a <code>server.ts</code> that selects which build to <em>bootstrap</em> depending upon a <em>security</em> check. How you perform this check, if you use cookies or whatever is purely a different question.</p>\n\n<p>This is done by bootstrapping the Angular server-side rendering <em>per request</em> instead of the <code>app.engine()</code>.</p>\n\n<p><a href=\"https://github.com/angular/universal/tree/master/modules/express-engine#advanced-usage\" rel=\"nofollow noreferrer\">https://github.com/angular/universal/tree/master/modules/express-engine#advanced-usage</a></p>\n\n<pre><code>app.get('/**/*', (req: Request, res: Response) =&gt; {\n  res.render('../dist/index', {\n    req,\n    res,\n    bootstrap: OtherServerAppModule,\n    providers: [\n      OtherServerService\n    ]\n  });\n});\n</code></pre>\n\n<p>It is in this block of code that you add the <em>logic</em> of which build to bootstrap.</p>\n\n<p>The pieces of the puzzle are there to achieve the security you want. I can't provide a full tutorial on exactly how to do it, but I hope I've pointed you in the right direction.</p>\n"}], "owner": {"reputation": 57, "user_id": 9140215, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/294aadd09f476d1b1d01a1f79adaffd1?s=128&d=identicon&r=PG&f=1", "display_name": "Conrad", "link": "https://stackoverflow.com/users/9140215/conrad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 819, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1555613597, "creation_date": 1555530718, "question_id": 55735034, "link": "https://stackoverflow.com/questions/55735034/how-to-hide-server-side-rendered-html-code-in-client-side", "title": "How to hide server-side rendered HTML code in client-side", "body": "<p>I'm starting a project with Angular 7 and I was wondering whats the best way to hide \"protected\" HTML elements from users, based on permissions. I know the easiest way is to use a library like CASL to handle them, but I want true permission/role access check.</p>\n\n<p>If the user shouldn't see a button, it must not be rendered at all, I know about ngIf and ngShow, even though it won't get to the HTML, it will be present in the minified bundle.js.</p>\n\n<p>My approach was to do some tests with Angular Universal and using the isPlatformBrowser and isPlatformServer, but I found out that even if I use something like the following, the code will still be present in the bundle when Angular bootstraps in the client:</p>\n\n<p><code>&lt;ng-container *ngIf=\"isPlatformServerFunction() &amp;&amp; hasAccess()\"&gt;\n &lt;button&gt; Secret Button &lt;/button&gt;\n&lt;ng-container&gt;</code></p>\n\n<p><strong>\u00bfIs there a way to render something exclusively server-side and dont let the HTML/JS slip into the front-end when it's bootstraped after the server-side rendering?</strong></p>\n\n<p>I wonder how this is handled in big applications like Facebook for example, because everyone says that it should be in the front-end, since the back-end APIs is secure, so if they get to the UI, they won't get to the API's data anyways, but I don't see admin buttons/code in Facebook's public bundle.</p>\n"}, {"tags": ["javascript", "mobx", "mobx-react", "mobx-react-form"], "answers": [{"tags": [], "owner": {"reputation": 916, "user_id": 10870848, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uyxs2.jpg?s=128&g=1", "display_name": "kkangil", "link": "https://stackoverflow.com/users/10870848/kkangil"}, "is_accepted": true, "score": 1, "last_activity_date": 1555552649, "creation_date": 1555552649, "answer_id": 55738121, "question_id": 55735023, "link": "https://stackoverflow.com/questions/55735023/trying-to-use-mobx-to-replace-setstate/55738121#55738121", "title": "Trying to use mobX to replace setState", "body": "<p>what about try this?\nchange info object not value in object</p>\n\n<pre><code>import { action, extendObservable } from \"mobx\";\nonChange = action((name, value) =&gt; {\n  this.info = { ...this.info , [name]: value };\n});\n</code></pre>\n"}], "owner": {"reputation": 307, "user_id": 10802635, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b978f4d72ad0aee16afb1b3e163fa112?s=128&d=identicon&r=PG&f=1", "display_name": "KamSami", "link": "https://stackoverflow.com/users/10802635/kamsami"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 55738121, "answer_count": 1, "score": 0, "last_activity_date": 1555552649, "creation_date": 1555530679, "question_id": 55735023, "link": "https://stackoverflow.com/questions/55735023/trying-to-use-mobx-to-replace-setstate", "title": "Trying to use mobX to replace setState", "body": "<p>Trying to replace setState in react. Having issues changing value of this.info using observable in mobX. When I console.log(e.target.name, e.target.value) the value only returns one letter.</p>\n\n<pre><code>//Login\nimport * as React from 'react';\nimport { extendObservable } from 'mobx';\nimport { observer }  from 'mobx-react';\n\nconstructor(props) {\n        super(props);\n\n        extendObservable(this, {\n            info: {\n                username: '',\n                password: ';\n            }\n        })\n    }\n\nonChange = (name, value) =&gt; {\n    this.info[name] = value\n}\n\nrender(){\n    &lt;LoginForm info={this.info} onChange={this.onChange}/&gt;\n}\n</code></pre>\n\n<pre><code>//LoginForm\nimport * as React from 'react';\nimport {Form} from \"semantic-ui-react\";\n\nconst onChange = (props) =&gt; (e) =&gt; {\n    props.onChange(e.target.name, e.target.value)\n    console.log(e.target.name, e.target.value)\n};\n\nconst LoginForm = (props) =&gt; {\n    return (\n                    &lt;Form.Input fluid label='username' placeholder='username' name=\"username\"\n                                value={props.info.username|| ''}\n                                onChange={onChange(props)} type=\"text\" /&gt;\n                    &lt;Form.Input fluid label='password' placeholder='password' name=\"password\"\n                                value={props.info.passoword || ''}\n                                onChange={onChange(props)} type=\"text\"/&gt;\n    )\n}\n\n\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "json"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11375722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54224dafd242b32b3f74bcf5de0e4bf0?s=128&d=identicon&r=PG&f=1", "display_name": "imar", "link": "https://stackoverflow.com/users/11375722/imar"}, "edited": false, "score": 1, "creation_date": 1555531531, "post_id": 55735047, "comment_id": 98148727, "body": "Thank you so much, It works :)"}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 1, "last_activity_date": 1555530778, "creation_date": 1555530778, "answer_id": 55735047, "question_id": 55735008, "link": "https://stackoverflow.com/questions/55735008/how-do-i-convert-an-array-with-varying-size-to-a-json-object/55735047#55735047", "title": "How do i convert an array with varying size to a JSON object?", "body": "<p>To merge multiple objects in an array to a single object, you can <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">spread</a> the array of objects into <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\"><code>Object.assign()</code></a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\r\n  { \"Name\": 'XYZ' },\r\n  { \"Gender\":'M' },\r\n  { \"DOB\":09085672 },\r\n  { \"City\": 'London' },\r\n  { \"State\":'UK'},\r\n  { \"County\":'Chester' }\r\n]\r\n\r\nconst result = Object.assign({}, ...arr)\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 11375722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54224dafd242b32b3f74bcf5de0e4bf0?s=128&d=identicon&r=PG&f=1", "display_name": "imar", "link": "https://stackoverflow.com/users/11375722/imar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 1, "closed_date": 1555530972, "accepted_answer_id": 55735047, "answer_count": 1, "score": 0, "last_activity_date": 1555530778, "creation_date": 1555530611, "question_id": 55735008, "link": "https://stackoverflow.com/questions/55735008/how-do-i-convert-an-array-with-varying-size-to-a-json-object", "closed_reason": "Duplicate", "title": "How do i convert an array with varying size to a JSON object?", "body": "<p>I have an object array as shown below, The size of array is varying and the members of the array is also not static, \nHow do I put all the data from the array in to a JSON object. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>Array:\r\n[0] =&gt;{ \"Name\": XYZ }\r\n[1] =&gt;{ \"Gender\":M }\r\n[2] =&gt;{ \"DOB\":09085672 }\r\n[3] =&gt;{ \"City\":London }\r\n[4] =&gt;{ \"State\":UK}\r\n[5] =&gt;{ \"County\":Chester }\r\n\r\nJSON Output:\r\n{\r\n\"Name\":XYZ,\r\n\"Gender\": M,\r\n\"DOB\" : 09085672,\r\n\"City\":London,\r\n\"State\": UK,\r\n\"County\":Chester\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "local-storage"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555530669, "post_id": 55734990, "comment_id": 98148347, "body": "What does this question mean? There&#39;s no absolute scale for efficiency, all you can do is compare efficiency between different methods. What&#39;s the alternative to saving in local storage?"}, {"owner": {"reputation": 1, "user_id": 9103694, "user_type": "registered", "profile_image": "https://graph.facebook.com/1314503575320944/picture?type=large", "display_name": "Aggelos Voyiatzis", "link": "https://stackoverflow.com/users/9103694/aggelos-voyiatzis"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555530791, "post_id": 55734990, "comment_id": 98148392, "body": "I could save the articles as real text files inside the server and then load them from there"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555530958, "post_id": 55734990, "comment_id": 98148470, "body": "That will most likely be much slower, since it has to read from the network."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555530996, "post_id": 55734990, "comment_id": 98148493, "body": "But the browser can also cache it, which makes it about the same."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555531099, "post_id": 55734990, "comment_id": 98148545, "body": "I suggest you not worry about it unless you&#39;re talking about megabytes of data. Do whatever is easiest and produces the clearest code.  <a href=\"http://c2.com/cgi/wiki?PrematureOptimization\" rel=\"nofollow noreferrer\">Premature optimization is the root of all evil</a>"}, {"owner": {"reputation": 1, "user_id": 9103694, "user_type": "registered", "profile_image": "https://graph.facebook.com/1314503575320944/picture?type=large", "display_name": "Aggelos Voyiatzis", "link": "https://stackoverflow.com/users/9103694/aggelos-voyiatzis"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1555531192, "post_id": 55734990, "comment_id": 98148575, "body": "@Barmar hmm ok...Thank you alot :D"}], "owner": {"reputation": 1, "user_id": 9103694, "user_type": "registered", "profile_image": "https://graph.facebook.com/1314503575320944/picture?type=large", "display_name": "Aggelos Voyiatzis", "link": "https://stackoverflow.com/users/9103694/aggelos-voyiatzis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1555531079, "creation_date": 1555530529, "last_edit_date": 1555531079, "question_id": 55734990, "link": "https://stackoverflow.com/questions/55734990/efficiency-of-localstorage-in-javascript", "title": "Efficiency of localStorage in javascript", "body": "<p>So i basically want to make a blogpost website where you can post mainly text using a page and have another page to show these posts. I want to use local Storage to save the title and the body of the post (or article) as an object. My question is how efficient would that be if the browser has to load like 100 objects (articles) or more.</p>\n\n<p>An alternative method to this would be to save the articles as local files inside the webserver and then load them from there.</p>\n\n<p>Any other ideas on how to make a blogpost system?</p>\n\n<pre><code>  // const posts = [\n  //   {title: \"Post One\", body: \"This is post one\"},\n  //   {title: \"Post Two\", body: \"This is post two\"}\n  // ];\n\n  const posts = [\n    // {title: \"\", body: \"\"}\n  ];\n\n  let name = \"obj\" + 7;\n\n  var localObj = JSON.parse(localStorage.getItem(name));\n  posts.push(localObj);\n\n  var article = document.getElementById('post');\n\n  function getPosts(){\n    let output = \"\";\n    posts.forEach((post, index) =&gt; {\n      output += `&lt;article&gt;&lt;h1&gt;${post.title}&lt;/h1&gt;&lt;p&gt;${post.body}&lt;/p&gt;&lt;/article&gt;`\n    });\n    article.innerHTML = output;\n  }\n\n  getPosts();\n\n  console.log(localStorage);\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "mongodb", "express"], "comments": [{"owner": {"reputation": 268112, "user_id": 1259510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0840e2c5392970ef26cbfef84a0e4903?s=128&d=identicon&r=PG", "display_name": "JohnnyHK", "link": "https://stackoverflow.com/users/1259510/johnnyhk"}, "edited": false, "score": 2, "creation_date": 1555530852, "post_id": 55734989, "comment_id": 98148413, "body": "You should be calling <code>mongodb.MongoClient.connect</code> once, not each request."}, {"owner": {"reputation": 611, "user_id": 2860611, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100002445507312/picture?type=large", "display_name": "Jan", "link": "https://stackoverflow.com/users/2860611/jan"}, "reply_to_user": {"reputation": 268112, "user_id": 1259510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0840e2c5392970ef26cbfef84a0e4903?s=128&d=identicon&r=PG", "display_name": "JohnnyHK", "link": "https://stackoverflow.com/users/1259510/johnnyhk"}, "edited": false, "score": 0, "creation_date": 1555531115, "post_id": 55734989, "comment_id": 98148550, "body": "Thanks for pointing the right direction, how can I check if a connection is open and what do I need to call then instead?"}, {"owner": {"reputation": 268112, "user_id": 1259510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0840e2c5392970ef26cbfef84a0e4903?s=128&d=identicon&r=PG", "display_name": "JohnnyHK", "link": "https://stackoverflow.com/users/1259510/johnnyhk"}, "edited": false, "score": 0, "creation_date": 1555531808, "post_id": 55734989, "comment_id": 98148826, "body": "See <a href=\"https://stackoverflow.com/questions/10656574/how-do-i-manage-mongodb-connections-in-a-node-js-web-application\" title=\"how do i manage mongodb connections in a node js web application\">stackoverflow.com/questions/10656574/&hellip;</a>"}, {"owner": {"reputation": 5144, "user_id": 7185241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/IKJJ3.jpg?s=128&g=1", "display_name": "1565986223", "link": "https://stackoverflow.com/users/7185241/1565986223"}, "edited": false, "score": 0, "creation_date": 1555569306, "post_id": 55734989, "comment_id": 98157806, "body": "also <a href=\"https://stackoverflow.com/questions/24621940/how-to-properly-reuse-connection-to-mongodb-across-nodejs-application-and-module\" title=\"how to properly reuse connection to mongodb across nodejs application and module\">stackoverflow.com/questions/24621940/&hellip;</a>"}], "owner": {"reputation": 611, "user_id": 2860611, "user_type": "registered", "accept_rate": 46, "profile_image": "https://graph.facebook.com/100002445507312/picture?type=large", "display_name": "Jan", "link": "https://stackoverflow.com/users/2860611/jan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 809, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1555530524, "creation_date": 1555530524, "question_id": 55734989, "link": "https://stackoverflow.com/questions/55734989/mongodb-too-many-connections-how-to-close-them-correctly", "title": "mongoDB too many connections how to close them correctly?", "body": "<p>I am using MongoDB in my NodeJS project with ExpressJS. and the mongoDB npm dependency. The strange thing is that it opens a new connection every time when doing a POST or GET request, and after a few times I am getting the following error:</p>\n\n<p>Connections % of configured limit has gone above 80</p>\n\n<p>Opening the connection like so:</p>\n\n<pre><code>const mongodb = require ('mongodb');\n\nmodule.exports = {\n  dbConn: async function(table) { \n    const client = await mongodb.MongoClient.connect\n    ('mongodb+srv://xxxxxxxxxxxxxxxxxxxxxxxxxxxxx.mongodb.net/test?retryWrites=true', {\n      useNewUrlParser: true\n    });\n\n    return client.db('test').collection(table);\n  }\n}\n</code></pre>\n\n<p>Doing a GET or POST request:</p>\n\n<pre><code>const db = require('./db');\n\nrouter.get('/:id', async (req, res) =&gt; {\n  try{ \n    const keywords = await db.dbConn('kw_data');\n    data = await keywords.findOne({hash: req.params.id});\n    if(data != null){\n      res.status(200).send(data);\n    }\n    else{\n      res.status(200).send({\"result\": false});\n    }\n  }\n  catch(e){\n    res.status(400).send(e);\n    res.status(404).send(e);\n    res.status(500).send(e); \n  }\n})\n</code></pre>\n\n<p>Is it so that I can close the connection somehow or just leave it open?</p>\n"}, {"tags": ["javascript", "c#", "html", "asp.net-mvc"], "comments": [{"owner": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 0, "creation_date": 1555531422, "post_id": 55734978, "comment_id": 98148670, "body": "binding lists to models in mvc isnt completely straight forward. youre correct in that you need to follow a proper naming convention for input <code>name</code> attributes. this should help: <a href=\"https://haacked.com/archive/2008/10/23/model-binding-to-a-list.aspx/\" rel=\"nofollow noreferrer\">haacked.com/archive/2008/10/23/model-binding-to-a-list.aspx</a>"}, {"owner": {"reputation": 327, "user_id": 11167676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a62f3bed32e833e9351d4935867a6709?s=128&d=identicon&r=PG&f=1", "display_name": "HumanHickory", "link": "https://stackoverflow.com/users/11167676/humanhickory"}, "reply_to_user": {"reputation": 4869, "user_id": 3829417, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/93c7e7ffaa757fcc153d952443adfaa0?s=128&d=identicon&r=PG&f=1", "display_name": "GregH", "link": "https://stackoverflow.com/users/3829417/gregh"}, "edited": false, "score": 0, "creation_date": 1555534093, "post_id": 55734978, "comment_id": 98149689, "body": "That link literally solved all my problems. You rock!"}], "answers": [{"tags": [], "owner": {"reputation": 327, "user_id": 11167676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a62f3bed32e833e9351d4935867a6709?s=128&d=identicon&r=PG&f=1", "display_name": "HumanHickory", "link": "https://stackoverflow.com/users/11167676/humanhickory"}, "is_accepted": true, "score": 1, "last_activity_date": 1555534535, "creation_date": 1555534535, "answer_id": 55735829, "question_id": 55734978, "link": "https://stackoverflow.com/questions/55734978/create-dynamic-elements-that-are-mvc-format/55735829#55735829", "title": "Create Dynamic Elements that are MVC Format", "body": "<p><strong>Thank you GregH for your help!</strong> The article you posted was VERY helpful:  <a href=\"http://haacked.com/archive/2008/10/23/model-binding-to-a-list.aspx\" rel=\"nofollow noreferrer\">haacked.com/archive/2008/10/23/model-binding-to-a-list.aspx</a></p>\n\n<p><strong>Have a Class</strong> (forgot to post this earlier, but it was there)</p>\n\n<pre><code>    public class Contact\n{\n    public string Name { get; set; }\n    public string Email { get; set; }\n    public string PhoneNumber { get; set; }\n}\n</code></pre>\n\n<p><strong>Properly Format NAMES (not ids) in HTML</strong>\ninstead of \"id=email<a href=\"http://haacked.com/archive/2008/10/23/model-binding-to-a-list.aspx\" rel=\"nofollow noreferrer\">1</a>\" we used \"name = <a href=\"http://haacked.com/archive/2008/10/23/model-binding-to-a-list.aspx\" rel=\"nofollow noreferrer\">1</a>.email\". We also did the same thing for id, but that wasn't the fix.</p>\n\n<pre><code>function addRow(tableID, idNumber) {\n\n    var table = document.getElementById(tableID);\n\n    var rowCount = table.rows.length;\n    var row = table.insertRow(rowCount);\n\n    var cell2 = row.insertCell(1);\n    var element2 = document.createElement(\"input\");\n    element2.type = \"text\";\n    element2.id = \"[\" + idNumber + \"].Name\";\n    element2.name = \"[\" + idNumber + \"].Name\";\n    element2.className = \"form-control\";\n    cell2.appendChild(element2);\n</code></pre>\n\n<p><strong>Update the Controller by adding a new method</strong></p>\n\n<pre><code>public ActionResult ExampleName(List&lt;Contact&gt; contacts)\n    {\n\n        var X = contacts;\n\n        return View();\n    }\n</code></pre>\n"}], "owner": {"reputation": 327, "user_id": 11167676, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a62f3bed32e833e9351d4935867a6709?s=128&d=identicon&r=PG&f=1", "display_name": "HumanHickory", "link": "https://stackoverflow.com/users/11167676/humanhickory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 224, "favorite_count": 0, "accepted_answer_id": 55735829, "answer_count": 1, "score": 1, "last_activity_date": 1555534535, "creation_date": 1555530475, "question_id": 55734978, "link": "https://stackoverflow.com/questions/55734978/create-dynamic-elements-that-are-mvc-format", "title": "Create Dynamic Elements that are MVC Format", "body": "<p>I have 3 input boxes in an ASP.NET MVC application. Users can add up to 10 contacts to the page. They add extra rows by clicking the 'add row' button, and delete rows using the 'delete row' button (and clicking the check marks).</p>\n\n<p><a href=\"https://i.stack.imgur.com/aq4QV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aq4QV.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>This works fine. </p>\n\n<p>However, it occurs to me that it should be in some model format, but right now I have it in standard HTML format.</p>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>    &lt;INPUT type=\"button\" value=\"Add Row\" onclick=\"getId('Table')\" /&gt;\n\n&lt;INPUT type=\"button\" value=\"Delete Row\" onclick=\"deleteRow('Table')\" /&gt;\n\n&lt;TABLE class=\"table\" id=\"Table\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th scope=\"col\"&gt;&lt;/th&gt;\n            &lt;th scope=\"col\"&gt;Name&lt;/th&gt;\n            &lt;th scope=\"col\"&gt;Email&lt;/th&gt;\n            &lt;th scope=\"col\"&gt;Phone Number&lt;/th&gt;\n\n\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;TR&gt;\n        &lt;TD&gt;&lt;INPUT type=\"checkbox\" class=\"form-control\" id=\"checkbox[0]\" /&gt;&lt;/TD&gt;\n        &lt;TD&gt;&lt;INPUT type=\"text\" class=\"form-control\" id=\"Name[0]\" /&gt;&lt;/TD&gt;\n        &lt;TD&gt;&lt;INPUT type=\"email\" class=\"form-control\" id=\"Email[0]\" /&gt; &lt;/TD&gt;\n        &lt;TD&gt;&lt;INPUT type=\"tel\" class=\"form-control\" id=\"PhoneNo[0]\" /&gt; &lt;/TD&gt;\n    &lt;/TR&gt;\n&lt;/TABLE&gt;\n\n&lt;input type=\"submit\" id=\"submit\" value=\"submit\" /&gt;\n</code></pre>\n\n<p>I have the id as \"name[0]\" as a standard element. The JavaScript will find the lowest available number (so if 2 is available, it will create name[2]. If 3 is available but 2 and 4 are not, it will still create name[3]).</p>\n\n<p><strong>JavaScript Pt 1:</strong></p>\n\n<pre><code>function getId(tableId) {\n\n    var idNumber = 0;\n    var stop = false;\n\n\n    while (stop == false) {\n        var checkId = document.getElementById(\"witnessName[\" + idNumber + \"]\");\n\n        if (idNumber &gt;= 11) {\n            alert(\"Max number of witnesses reached\");\n            stop = true;\n        } else {\n            if (checkId) {\n                stop = false;\n            } else {\n                alert(idNumber);\n                addRow(tableId, idNumber)\n                stop = true;\n            }\n            idNumber++;\n        }\n    }\n}\n</code></pre>\n\n<p>Again this is fine. It's the next part that is causing issues.</p>\n\n<p><strong>JavaScript Pt 2 (the issue stage):</strong></p>\n\n<pre><code>function addRow(tableID, idNumber) {\n\n    var table = document.getElementById(tableID);\n\n    var rowCount = table.rows.length;\n    var row = table.insertRow(rowCount);\n\n    var cell2 = row.insertCell(1);\n    var element2 = document.createElement(\"input\");\n    element2.type = \"text\";\n    element2.id = \"Name[\" + idNumber + \"]\";\n    element2.className = \"form-control\";\n    cell2.appendChild(element2);\n\n}\n</code></pre>\n\n<p>Please note that this code is (obviously) abridged. The other elements are in the actual copy, but they're all identical so I left them out. </p>\n\n<p>As you can see, I am creating elements with ids such as name<a href=\"https://i.stack.imgur.com/aq4QV.jpg\" rel=\"nofollow noreferrer\">1</a> or phone[2]. The code works exactly how its supposed to. HOWEVER...</p>\n\n<p><strong>The problem:</strong>\nBecause it's not in the MVC model format, I'm having a hard time converting it into a class/object that is easily passable to the controller (not my code below, just an example of how I think it should look).  </p>\n\n<pre><code>@using (Html.BeginForm(\"Contact\", \"HomeController\", FormMethod.Post))\n{\n    @Html.LabelFor(x =&gt; x.Name)\n    @Html.TextBoxFor(x =&gt; x.Name)\n//Insert more code here for email and phone number\n}\n</code></pre>\n\n<p><strong>Potential Solutions</strong>\nSo I think there are 2 potential solutions out there that I cannot find. 1) there may be an easier way to pass what I currently have to a controller without having to have 30 parameters (10 names, 10 emails, 10 phone numbers). OR 2) there's a better way to add fields/elements using the MVC model. </p>\n\n<p>Please let me know if I can clarify anything. Thank you in advance!</p>\n"}, {"tags": ["javascript", "node.js", "discord", "discord.js"], "answers": [{"tags": [], "owner": {"reputation": 5000, "user_id": 11321804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VOIwjh_teGk/AAAAAAAAAAI/AAAAAAAAIjY/X51qzoN8QLM/photo.jpg?sz=128", "display_name": "slothiful", "link": "https://stackoverflow.com/users/11321804/slothiful"}, "is_accepted": false, "score": 2, "last_activity_date": 1556918244, "last_edit_date": 1556918244, "creation_date": 1555538151, "answer_id": 55736514, "question_id": 55734973, "link": "https://stackoverflow.com/questions/55734973/why-am-i-getting-error-unhandledpromiserejectionwarning-when-running-my-code/55736514#55736514", "title": "Why am I getting error &quot;UnhandledPromiseRejectionWarning&quot; when running my code?", "body": "<p>See <a href=\"https://stackoverflow.com/questions/40500490/what-is-an-unhandled-promise-rejection\">here</a> for information about unhandled promise rejections.</p>\n\n<p><strong>Explanation:</strong><br>\nSome methods (i.e. <code>send()</code> within <a href=\"https://discord.js.org/#/docs/main/stable/general/welcome\" rel=\"nofollow noreferrer\">Discord.js</a>) return <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\">promises</a>. Quoted from MDN...</p>\n\n<blockquote>\n  <p>The Promise object represents the eventual completion (or failure) of an asynchronous operation, and its resulting value.</p>\n</blockquote>\n\n<p>In other words, some functions have to wait for something to be completed. When there's an error, the promise is rejected, and you must handle it. The warning you see is due to the fact that your code isn't catching any rejected promises. </p>\n\n<p><strong>Solution:</strong><br>\nImplement the use of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/catch\" rel=\"nofollow noreferrer\"><code>.catch()</code></a> methods or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/try...catch\" rel=\"nofollow noreferrer\"><code>try...catch</code></a> statements to handle any errors.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>await channel.send('hey')\n.catch(err =&gt; console.error(err));\n</code></pre>\n\n<pre class=\"lang-js prettyprint-override\"><code>try {\n  await channel.send('hey');\n  await user.send('hey again');\n} catch(err) {\n  console.error(err);\n}\n</code></pre>\n\n<p>Please note that although in the example above the error will be sent to the console, it won't stop your code. Make sure to handle it correctly so that any further code doesn't run into errors. Also, to use <code>await</code>, you must be within async functions.</p>\n\n<p><em>// <code>sendMessage()</code> is deprecated in Discord.js. Use <code>send()</code> instead.</em></p>\n"}], "owner": {"reputation": 23, "user_id": 10044523, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yYPDE3Vsjl4/AAAAAAAAAAI/AAAAAAAAAm4/9FDdk3lygUg/photo.jpg?sz=128", "display_name": "Timothy Harris", "link": "https://stackoverflow.com/users/10044523/timothy-harris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2122, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1556918244, "creation_date": 1555530443, "last_edit_date": 1555531757, "question_id": 55734973, "link": "https://stackoverflow.com/questions/55734973/why-am-i-getting-error-unhandledpromiserejectionwarning-when-running-my-code", "title": "Why am I getting error &quot;UnhandledPromiseRejectionWarning&quot; when running my code?", "body": "<p>I am trying to use the node.js discord module to make a bot that will send a private message to a user when a command is entered in discord. The command is supposed to be used like</p>\n\n<p>!rp &lt;@recipient> </p>\n\n<p>and the message is delivered to the recipient.</p>\n\n<p>My code is:</p>\n\n<pre><code>else if (rhysmessage.substring(0,4) == (\"!rp \")) {\ne.message.delete();\nvar end\nvar charactercheck\nfor (end=0; charactercheck &lt; rhysmessage.length; charactercheck = \ncharactercheck + 1) {\n  console.log(rhysmessage.charAt(charactercheck))\n  if (rhysmessage.charAt(charactercheck) == \" \") {\n    end = charactercheck}\n}\nif (end == 0){\n  rhyschannel.sendMessage(\"Please use format `!rp &lt;recipient&gt; \n&lt;message&gt;`\")\n}\nelse {\n  usersendto = rhysmessage.substring(5,end-1)   \nusersendto.sendMessage(rhysmessage.substring(end+1,rhysmessage.leng\nth)\n    }\n   }\n</code></pre>\n\n<p>When I run this code, I get the error: \"UnhandledPromiseRejectionWarning\". Why is this?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1555530342, "post_id": 55734942, "comment_id": 98148223, "body": "What&#39;s the point of the overlay then?"}, {"owner": {"reputation": 5, "user_id": 5404161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bd3d1abe84185a430f01444beff142?s=128&d=identicon&r=PG&f=1", "display_name": "VahidG", "link": "https://stackoverflow.com/users/5404161/vahidg"}, "reply_to_user": {"reputation": 24196, "user_id": 1586174, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4aa4d9e7b30a8bddace165e4c33abd85?s=128&d=identicon&r=PG", "display_name": "Taplar", "link": "https://stackoverflow.com/users/1586174/taplar"}, "edited": false, "score": 0, "creation_date": 1555530493, "post_id": 55734942, "comment_id": 98148281, "body": "I use it to move, rotate or scale the group of items."}, {"owner": {"reputation": 109, "user_id": 9649484, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QpkEbbjbHtA/AAAAAAAAAAI/AAAAAAAABFA/mZTtoE1RNww/photo.jpg?sz=128", "display_name": "decod decod", "link": "https://stackoverflow.com/users/9649484/decod-decod"}, "edited": false, "score": 0, "creation_date": 1555530743, "post_id": 55734942, "comment_id": 98150437, "body": "you could probably just implement a collision detector witch when a square is clicked will check the collision detector and it would return and array of all the elements which are being in collision with. <a href=\"https://www.youtube.com/watch?v=hNV-xEMALr8\" rel=\"nofollow noreferrer\">youtube.com/watch?v=hNV-xEMALr8</a>"}, {"owner": {"reputation": 5, "user_id": 5404161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bd3d1abe84185a430f01444beff142?s=128&d=identicon&r=PG&f=1", "display_name": "VahidG", "link": "https://stackoverflow.com/users/5404161/vahidg"}, "edited": false, "score": 0, "creation_date": 1555532737, "post_id": 55734942, "comment_id": 98150438, "body": "I also tried collision but problem is sometimes items have rotation and collision checks .getBoundingClientRect and it contains an area which is not part of that element."}], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 5404161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bd3d1abe84185a430f01444beff142?s=128&d=identicon&r=PG&f=1", "display_name": "VahidG", "link": "https://stackoverflow.com/users/5404161/vahidg"}, "edited": false, "score": 0, "creation_date": 1555532857, "post_id": 55735394, "comment_id": 98149230, "body": "Till now its the only solution I found but I have problem with Items that have rotation which makes the math calculation so difficult or maybe impossible."}, {"owner": {"reputation": 6734, "user_id": 2095953, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/43bf3d601243314c3eb2da2c7a0b4b30?s=128&d=identicon&r=PG", "display_name": "frodo2975", "link": "https://stackoverflow.com/users/2095953/frodo2975"}, "reply_to_user": {"reputation": 5, "user_id": 5404161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bd3d1abe84185a430f01444beff142?s=128&d=identicon&r=PG&f=1", "display_name": "VahidG", "link": "https://stackoverflow.com/users/5404161/vahidg"}, "edited": false, "score": 0, "creation_date": 1555552230, "post_id": 55735394, "comment_id": 98153793, "body": "Nothing in math is impossible. Some things just take more work than others. Why do you need the click event on both the objects and the overlay?"}, {"owner": {"reputation": 5, "user_id": 5404161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bd3d1abe84185a430f01444beff142?s=128&d=identicon&r=PG&f=1", "display_name": "VahidG", "link": "https://stackoverflow.com/users/5404161/vahidg"}, "edited": false, "score": 0, "creation_date": 1555576607, "post_id": 55735394, "comment_id": 98161253, "body": "It&#39;s a group of elements with an overlay which control the group with actions like move, scale or rotate. So mainly my actions happens on overlay but I also need to know which element of group clicked or selected."}, {"owner": {"reputation": 6734, "user_id": 2095953, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/43bf3d601243314c3eb2da2c7a0b4b30?s=128&d=identicon&r=PG", "display_name": "frodo2975", "link": "https://stackoverflow.com/users/2095953/frodo2975"}, "reply_to_user": {"reputation": 5, "user_id": 5404161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bd3d1abe84185a430f01444beff142?s=128&d=identicon&r=PG&f=1", "display_name": "VahidG", "link": "https://stackoverflow.com/users/5404161/vahidg"}, "edited": false, "score": 0, "creation_date": 1555609107, "post_id": 55735394, "comment_id": 98178965, "body": "Since it sounds like the buttons in your overlay are already positioned over a specific object, it sounds like you should already know which element is being clicked."}], "tags": [], "owner": {"reputation": 6734, "user_id": 2095953, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/43bf3d601243314c3eb2da2c7a0b4b30?s=128&d=identicon&r=PG", "display_name": "frodo2975", "link": "https://stackoverflow.com/users/2095953/frodo2975"}, "is_accepted": false, "score": 0, "last_activity_date": 1555532365, "creation_date": 1555532365, "answer_id": 55735394, "question_id": 55734942, "link": "https://stackoverflow.com/questions/55734942/how-to-pass-or-bubble-a-click-event-to-another-layer/55735394#55735394", "title": "How to pass or bubble a click event to another layer?", "body": "<p>What you're trying to do sounds like an anti-pattern. The browser isn't designed to apply the same click to multiple items. Instead, you should ask yourself why you need the same event handled on multiple elements, and redesign your UI and business logic in a different way so that that's not necessary. Like, you have a common method that gets called on click, and you make your under-layer and your over-layer both call that same method.</p>\n\n<p>That being said, if you really need something like this, like for a game with multiple items under the cursor, you would need to implement manual hit detection instead of relying on the browser. Like, you listen for mousedown+mouseup events on a big parent container, you get the coordinates of all your clickable things using $().offset(), and you do math to see if the mouse coordinates are over your clickable things.</p>\n"}, {"comments": [{"owner": {"reputation": 6734, "user_id": 2095953, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/43bf3d601243314c3eb2da2c7a0b4b30?s=128&d=identicon&r=PG", "display_name": "frodo2975", "link": "https://stackoverflow.com/users/2095953/frodo2975"}, "edited": false, "score": 0, "creation_date": 1555609148, "post_id": 55744105, "comment_id": 98178985, "body": "Woof, that&#39;s creative, but super hacky. Seems like it would make your overlay flash."}, {"owner": {"reputation": 1579, "user_id": 2940917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae251ac1392cbcbb73adda00064c6ec8?s=128&d=identicon&r=PG", "display_name": "Sanket_Diwale", "link": "https://stackoverflow.com/users/2940917/sanket-diwale"}, "reply_to_user": {"reputation": 6734, "user_id": 2095953, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/43bf3d601243314c3eb2da2c7a0b4b30?s=128&d=identicon&r=PG", "display_name": "frodo2975", "link": "https://stackoverflow.com/users/2095953/frodo2975"}, "edited": false, "score": 0, "creation_date": 1580562208, "post_id": 55744105, "comment_id": 106142642, "body": "Instead of changing the &quot;display&quot; style between &quot;block&quot; and &quot;none&quot;, toggling the &quot;pointer-events&quot; between &quot;auto&quot; and &quot;none&quot; should also have the same effect (without having the overlay flash problem @frodo2975 mentioned ). I haven&#39;t tested this yet (will test and update the comment), however the &quot;elementFromPoint&quot; documentation suggests this should work (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DocumentOrShadowRoot/elementFromPoint\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/DocumentOrShadowRo&zwnj;&#8203;ot/&hellip;</a> )"}, {"owner": {"reputation": 1579, "user_id": 2940917, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae251ac1392cbcbb73adda00064c6ec8?s=128&d=identicon&r=PG", "display_name": "Sanket_Diwale", "link": "https://stackoverflow.com/users/2940917/sanket-diwale"}, "edited": false, "score": 0, "creation_date": 1580566893, "post_id": 55744105, "comment_id": 106143726, "body": "The above comment suggesting changing &quot;pointer-events&quot; doesn&#39;t seem to work when tested. The &quot;elementFromPoint&quot; documentation suggests this should work, though, as the function should ignore elements with pointer-events set to &quot;none&quot; as per (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/DocumentOrShadowRoot/elementFromPoint\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/DocumentOrShadowRo&zwnj;&#8203;ot/&hellip;</a> ). Not sure why this doesn&#39;t work."}], "tags": [], "owner": {"reputation": 5, "user_id": 5404161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bd3d1abe84185a430f01444beff142?s=128&d=identicon&r=PG&f=1", "display_name": "VahidG", "link": "https://stackoverflow.com/users/5404161/vahidg"}, "is_accepted": true, "score": 0, "last_activity_date": 1555583240, "creation_date": 1555583240, "answer_id": 55744105, "question_id": 55734942, "link": "https://stackoverflow.com/questions/55734942/how-to-pass-or-bubble-a-click-event-to-another-layer/55744105#55744105", "title": "How to pass or bubble a click event to another layer?", "body": "<p>I found an answer with <code>document.elementFromPoint</code> which works fine and all modern browsers support.<br>\nWhen overlay div has been clicked, I hide Overlay and check which element is under overlay on mouse event position.<br>\nI used <code>MouseEvent.clientX</code> , <code>MouseEvent.clientY</code> with <code>document.elementFromPoint</code> to determine the element.<br></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function(){\r\n\t$('#group').on('click', function(evt){\r\n\t\tconsole.log('group');\r\n\t});\r\n\t$('#overlay').on('click', function(evt){\r\n\t\tconsole.log('cover');\r\n\t\t$(this).css('display', 'none');\r\n\t\tvar element = document.elementFromPoint(evt.clientX, evt.clientY);\r\n\t\t$(this).css('display', 'block');\r\n\t\t$(element).trigger('click');\r\n\t});\r\n\t$('.item').on('click', function(evt){\r\n\t\tconsole.log('item-' + $(this).html());\r\n\t\tevt.stopPropagation()\r\n\t});\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#group {\r\n\twidth: 400px;\r\n\theight: 400px;\r\n\tposition: relative;\r\n\tbackground-color: #eee;\r\n}\r\n\r\n#overlay {\r\n\tposition: absolute;\r\n\ttop: 50px;\r\n\tleft: 50px;\r\n\twidth: 250px;\r\n\theight: 250px;\r\n\tbackground-color: #000;\r\n\topacity: 0.2;\r\n\tz-index: 10;\r\n}\r\n\r\n.item {\r\n\tposition: absolute;\r\n\twidth: 150px;\r\n\theight: 150px;\r\n\tfont-size: 4rem;\r\n\tline-height: 140px;\r\n\ttext-align: center;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"overlay\"&gt;&lt;/div&gt;\r\n&lt;div id=\"group\"&gt;\r\n\t&lt;div class=\"item\" style=\"top: 60px; left: 60px; background-color: #fcc;\"&gt;A&lt;/div&gt;\r\n\t&lt;div class=\"item\" style=\"top: 170px; left: 170px; background-color: #cfc; transform: rotateZ(45deg);\"&gt;B&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5, "user_id": 5404161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01bd3d1abe84185a430f01444beff142?s=128&d=identicon&r=PG&f=1", "display_name": "VahidG", "link": "https://stackoverflow.com/users/5404161/vahidg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 407, "favorite_count": 1, "accepted_answer_id": 55744105, "answer_count": 2, "score": 0, "last_activity_date": 1555596150, "creation_date": 1555530292, "last_edit_date": 1555596150, "question_id": 55734942, "link": "https://stackoverflow.com/questions/55734942/how-to-pass-or-bubble-a-click-event-to-another-layer", "title": "How to pass or bubble a click event to another layer?", "body": "<p>I am working on a project which I need to edit and do some actions with elements. I have some DIVs as elements inside a group DIV and another DIV overlay them. My problem is that when I click on overlay and do some actions I want any element below overlay also be clicked.</p>\n\n<p>I tried bubbling but since overlay element is not in the same div it does not work for me. I also tried manually trigger the event but since I don't know which element is below where it's been clicked, cant get expected result.\nI also found this article <a href=\"https://stackoverflow.com/questions/9990536/how-to-pass-click-events-from-one-div-to-another\">How to pass click events from one div to another?</a> similar to my problem but not exactly because I also need to do some actions with overlay layer on click.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $('#group').on('mousedown', function(evt) {\r\n    // Do some action\r\n    console.log('group');\r\n  });\r\n  $('#overlay').on('mousedown', function(evt) {\r\n    // Do some action\r\n    console.log('cover');\r\n  });\r\n  $('.item').on('mousedown', function(evt) {\r\n    // Do some action\r\n    console.log('item-' + $(this).html());\r\n    evt.stopPropagation()\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#group {\r\n\twidth: 400px;\r\n\theight: 400px;\r\n\tposition: relative;\r\n\tbackground-color: #eee;\r\n}\r\n\r\n#overlay {\r\n\tposition: absolute;\r\n\ttop: 50px;\r\n\tleft: 50px;\r\n\twidth: 250px;\r\n\theight: 250px;\r\n\tbackground-color: #000;\r\n\topacity: 0.2;\r\n\tz-index: 10;\r\n}\r\n\r\n.item {\r\n\tposition: absolute;\r\n\twidth: 150px;\r\n\theight: 150px;\r\n\tfont-size: 4rem;\r\n\tline-height: 140px;\r\n\ttext-align: center;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"overlay\"&gt;&lt;/div&gt;\r\n&lt;div id=\"group\"&gt;\r\n\t&lt;div class=\"item\" style=\"top: 60px; left: 60px; background-color: #fcc;\"&gt;A&lt;/div&gt;\r\n\t&lt;div class=\"item\" style=\"top: 170px; left: 170px; background-color: #cfc;\"&gt;B&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>I want to when I click on overlay, if any 'item' div exist below overlay also be clicked.</strong><br>\nI used jquery but can accept any solution with raw JavaScript.</p>\n"}]