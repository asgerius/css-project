[{"tags": ["javascript", "reactjs", "vue.js", "geolocation"], "comments": [{"owner": {"reputation": 4078, "user_id": 10549165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Redsx.png?s=128&g=1", "display_name": "Chris B.", "link": "https://stackoverflow.com/users/10549165/chris-b"}, "edited": false, "score": 0, "creation_date": 1572481984, "post_id": 58635192, "comment_id": 103577627, "body": "If you&#39;re able to get the location in your main component, why not just store it in a <a href=\"https://reactjs.org/docs/context.html\" rel=\"nofollow noreferrer\">context</a> or pass it down as a prop?"}], "answers": [{"tags": [], "owner": {"reputation": 1484, "user_id": 3397563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d665816e68bb355feb12950c3a15376?s=128&d=identicon&r=PG", "display_name": "oktapodia", "link": "https://stackoverflow.com/users/3397563/oktapodia"}, "is_accepted": false, "score": 0, "last_activity_date": 1572482742, "creation_date": 1572482742, "answer_id": 58635524, "question_id": 58635192, "link": "https://stackoverflow.com/questions/58635192/how-to-return-geolocation-response-object-to-be-used-in-different-components/58635524#58635524", "title": "How to return geolocation response object to be used in different components?", "body": "<p>You need to return the promise in your function to get the result in your <code>locationData</code> variable</p>\n\n<pre><code>// In CommonMethod.js\n\nexport const getLocationData = async () =&gt; {\n  return navigator.geolocation.getCurrentPosition(\n    success =&gt; {\n      console.log(\"SUCCESS\", success);\n      return success;\n    },\n    error =&gt; {\n      console.log(\"ERROR\", error);\n      return error;\n    }\n  );\n};\n</code></pre>\n\n<p>`</p>\n"}], "owner": {"reputation": 1, "user_id": 2687009, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ede31fe78b899fc290bff32fc0ee8fa?s=128&d=identicon&r=PG&f=1", "display_name": "Bikash", "link": "https://stackoverflow.com/users/2687009/bikash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572484340, "creation_date": 1572479845, "last_edit_date": 1572484340, "question_id": 58635192, "link": "https://stackoverflow.com/questions/58635192/how-to-return-geolocation-response-object-to-be-used-in-different-components", "title": "How to return geolocation response object to be used in different components?", "body": "<p>I am trying to create a common function that returns geolocation and can be accessed by other components in javascript. \nI have created a function but it is not returning any data when I call a method from a different component.</p>\n\n<pre><code>// In CommonMethod.js\n\nexport const getLocationData = async () =&gt; {\n  navigator.geolocation.getCurrentPosition(\n    success =&gt; {\n      console.log(\"SUCCESS\", success);\n      return success;\n    },\n    error =&gt; {\n      console.log(\"ERROR\", error);\n      return error;\n    }\n  );\n};\n\n//In Location.js\nimport React, { Component } from \"react\";\nimport { getLocationData } from \"./CommonMethod\";\n\nexport default class Location extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      location: []\n    };\n  }\n\n  async componentDidMount() {\n    var locationData;\n    console.log(\"CALLING GEOLOCATION START\");\n    locationData = await getLocationData();\n    console.log(\"CALLING GEOLOCATION START\", locationData);\n    if (locationData) {\n      this.setState({\n        location:\n          locationData.coords.latitude + \",\" + locationData.coords.longitude\n      });\n    } else {\n      this.setState({\n        location: \"User denied Geolocation\"\n      });\n    }\n    console.log(\"CALLING GEOLOCATION AFTER 5 SEC\", locationData);\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;h1&gt; {this.state.location}&lt;/h1&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "database", "mongodb", "mongoose"], "comments": [{"owner": {"reputation": 8230, "user_id": 4679320, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OsEre.jpg?s=128&g=1", "display_name": "prasad_", "link": "https://stackoverflow.com/users/4679320/prasad"}, "edited": false, "score": 0, "creation_date": 1572486643, "post_id": 58635185, "comment_id": 103578563, "body": "You can try using <a href=\"https://docs.mongodb.com/manual/reference/operator/update/positional/index.html\" rel=\"nofollow noreferrer\">Update Elements By Their Index</a>, since there are only 7 elements in the array (fixed size). Also, you can share the code you had tried. Note that <code>$[]</code> is used to update <i>all</i> elements in the array (with something)."}, {"owner": {"reputation": 8230, "user_id": 4679320, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OsEre.jpg?s=128&g=1", "display_name": "prasad_", "link": "https://stackoverflow.com/users/4679320/prasad"}, "edited": false, "score": 0, "creation_date": 1572489634, "post_id": 58635185, "comment_id": 103579121, "body": "Or, you can try updating array elements by index using this method: <a href=\"https://docs.mongodb.com/manual/reference/operator/update/set/index.html#set-elements-in-arrays\" rel=\"nofollow noreferrer\">set elements in array</a>. Note this is different from using the <code>$</code> array update operator."}, {"owner": {"reputation": 8230, "user_id": 4679320, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OsEre.jpg?s=128&g=1", "display_name": "prasad_", "link": "https://stackoverflow.com/users/4679320/prasad"}, "edited": false, "score": 0, "creation_date": 1572489940, "post_id": 58635185, "comment_id": 103579170, "body": "I think you have to create 7 <code>ObjectId</code>s and update each one at its index position using one of the array update techniques."}, {"owner": {"reputation": 9, "user_id": 10281776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40933e2eb522a75fa9a356b348060638?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Martell", "link": "https://stackoverflow.com/users/10281776/stefano-martell"}, "reply_to_user": {"reputation": 8230, "user_id": 4679320, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OsEre.jpg?s=128&g=1", "display_name": "prasad_", "link": "https://stackoverflow.com/users/4679320/prasad"}, "edited": false, "score": 0, "creation_date": 1572987176, "post_id": 58635185, "comment_id": 103731467, "body": "@prasad_ thanks for your answer, apparently there&#39;s not a known (according to my research) way to do it with <code>$[]</code>, so I ended up performing a classic for loop, which gave me unique $oids:   <code>for(let i = 0; i &lt; 7; i++){         pushObject[`days.${i}.meals`] = {...otherProperties}       }</code>"}, {"owner": {"reputation": 8230, "user_id": 4679320, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OsEre.jpg?s=128&g=1", "display_name": "prasad_", "link": "https://stackoverflow.com/users/4679320/prasad"}, "edited": false, "score": 0, "creation_date": 1573002929, "post_id": 58635185, "comment_id": 103736030, "body": "There are some posts online with similar subject, and you have to do some searching for more ideas. Here is one of them: <a href=\"https://stackoverflow.com/questions/35050750/mongodb-creating-an-objectid-for-each-new-child-added-to-the-array-field\">Creating ObjectId For Each New Child Added To The Array Field</a>"}, {"owner": {"reputation": 8230, "user_id": 4679320, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/OsEre.jpg?s=128&g=1", "display_name": "prasad_", "link": "https://stackoverflow.com/users/4679320/prasad"}, "edited": false, "score": 0, "creation_date": 1573003206, "post_id": 58635185, "comment_id": 103736103, "body": "What is the reason you are using &quot;$oid&quot; for<code>_id</code> value? What is <a href=\"https://docs.mongodb.com/manual/reference/method/ObjectId/index.html\" rel=\"nofollow noreferrer\">ObjectId</a> and <a href=\"https://docs.mongodb.com/manual/reference/mongodb-extended-json/index.html#bson.ObjectId\" rel=\"nofollow noreferrer\">&quot;$oid&quot;</a>."}], "owner": {"reputation": 9, "user_id": 10281776, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40933e2eb522a75fa9a356b348060638?s=128&d=identicon&r=PG&f=1", "display_name": "Stefano Martell", "link": "https://stackoverflow.com/users/10281776/stefano-martell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572479741, "creation_date": 1572479741, "question_id": 58635185, "link": "https://stackoverflow.com/questions/58635185/how-to-generate-different-objectids-with-mongodbs-positional-operator", "title": "How to generate different ObjectId&#39;s with MongoDB&#39;s positional operator $[]?", "body": "<p>I want to update every element in the array <code>days</code> (I got 7 days, here I only show 3) with the MongoDB positional operator <code>$[]</code>. The update correctly pushes an object into every single element of the array <code>meals</code>. However, their Object Id's are the same, and I would like them to be different since I will be mapping them. Any ideas?</p>\n\n<pre><code>    \"_id\": {\n        \"$oid\": \"5db749cf657e1b1e0c3d241c\"\n    },\n    \"finished\": false,\n    \"days\": [\n        {\n            \"dayName\": \"Monday\",\n            \"meals\": [\n                {\n                    \"_id\": {\n                        \"$oid\": \"5dba1cde12f2b650e4b4f89d\"\n                    },\n                    \"mealName\": \"Breakfast\",\n                    \"recipes\": []\n                }\n            ]\n        },\n        {\n            \"dayName\": \"Tuesday\",\n            \"meals\": [\n                {\n                    \"_id\": {\n                        \"$oid\": \"5dba1cde12f2b650e4b4f89d\"\n                    },\n                    \"mealName\": \"Breakfast\",\n                    \"recipes\": []\n                }\n            ]\n        },\n        {\n            \"dayName\": \"Wednesday\",\n            \"meals\": [\n                {\n                    \"_id\": {\n                        \"$oid\": \"5dba1cde12f2b650e4b4f89d\"\n                    },\n                    \"mealName\": \"Breakfast\",\n                    \"recipes\": []\n                }\n            ],\n        }\n    ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 751, "user_id": 7711818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/941a723eb04ef4cf4288c76820f05086?s=128&d=identicon&r=PG&f=1", "display_name": "Luay Wadie", "link": "https://stackoverflow.com/users/7711818/luay-wadie"}, "edited": false, "score": 0, "creation_date": 1572479192, "post_id": 58635091, "comment_id": 103577038, "body": "Hey @Syn, are you talking about the part where it talks about the rear cameras?"}, {"owner": {"reputation": 384, "user_id": 4036130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9bacbf91d15173772be8bf9925e168?s=128&d=identicon&r=PG&f=1", "display_name": "Syn", "link": "https://stackoverflow.com/users/4036130/syn"}, "reply_to_user": {"reputation": 751, "user_id": 7711818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/941a723eb04ef4cf4288c76820f05086?s=128&d=identicon&r=PG&f=1", "display_name": "Luay Wadie", "link": "https://stackoverflow.com/users/7711818/luay-wadie"}, "edited": false, "score": 0, "creation_date": 1572479315, "post_id": 58635091, "comment_id": 103577062, "body": "No not the cameras. Just scrolling through the site, the sections get revealed underneath other elements."}, {"owner": {"reputation": 58866, "user_id": 1891677, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/38c13c3ccee10dcfc38799fb45d5a65b?s=128&d=identicon&r=PG", "display_name": "tao", "link": "https://stackoverflow.com/users/1891677/tao"}, "edited": false, "score": 0, "creation_date": 1572480620, "post_id": 58635091, "comment_id": 103577348, "body": "It&#39;s called parallax scrolling. At it&#39;s core, it&#39;s about having 2 or more elements behave differently on scroll, so they create cool looking effects, typically perspective. While it can be achieved via pure CSS it does have a few limitations (when pure). With JS there are fewer limits but it needs to be handled with care, as <code>onscroll</code> can fire very many times/sec on some devices, while other devices (typically iStuff) blocks JavaScript execution while the page is being scrolled, as they consider scroll smoothness way more important than whatever it is the user is trying to scroll through."}, {"owner": {"reputation": 1733, "user_id": 6472447, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002669441680/picture?type=large", "display_name": "Ahmed I. Elsayed", "link": "https://stackoverflow.com/users/6472447/ahmed-i-elsayed"}, "edited": false, "score": 0, "creation_date": 1572481482, "post_id": 58635091, "comment_id": 103577517, "body": "Check my answers, I provided many links &amp; a simple approach than recreating the whole effect when other people actually did it."}, {"owner": {"reputation": 384, "user_id": 4036130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9bacbf91d15173772be8bf9925e168?s=128&d=identicon&r=PG&f=1", "display_name": "Syn", "link": "https://stackoverflow.com/users/4036130/syn"}, "edited": false, "score": 0, "creation_date": 1572484599, "post_id": 58635091, "comment_id": 103578135, "body": "So i am actually not a complete beginner. I am currently working as a front end dev so I know what parallax is etcetc. What I don&#39;t know how to do is the effect from the site. Elements stay fixed behind an element but once the element is scrolled past, the fixed element starts scrolling..."}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "edited": false, "score": 0, "creation_date": 1572487882, "post_id": 58635091, "comment_id": 103578788, "body": "There is no one single effect on that page. There is a lot of parallax mixed in with several other effects. There won&#39;t be one technique to google there will be several, possible including some novel techniques. As is stands this is way to broad a question for stackOverflow."}, {"owner": {"reputation": 1733, "user_id": 6472447, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002669441680/picture?type=large", "display_name": "Ahmed I. Elsayed", "link": "https://stackoverflow.com/users/6472447/ahmed-i-elsayed"}, "edited": false, "score": 0, "creation_date": 1572494302, "post_id": 58635091, "comment_id": 103579980, "body": "@Syn I think keithclark is the same but don&#39;t forget it only demonstrates the idea, apple website doesn&#39;t demonstrate they are showing off, that&#39;s why it&#39;s different it&#39;s because a tutorial is meant to be simple, try utilizing that tutorial on a big website with many many items as they did, it will mostly be the same or at least very close"}, {"owner": {"reputation": 1733, "user_id": 6472447, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002669441680/picture?type=large", "display_name": "Ahmed I. Elsayed", "link": "https://stackoverflow.com/users/6472447/ahmed-i-elsayed"}, "edited": false, "score": 0, "creation_date": 1572494437, "post_id": 58635091, "comment_id": 103580005, "body": "and AOS can create the same effect if you use it on big divs that take a lot of width, he demonstrated the idea using small divs, better try &amp; see the result as this seems something that needs testing to work"}], "answers": [{"tags": [], "owner": {"reputation": 751, "user_id": 7711818, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/941a723eb04ef4cf4288c76820f05086?s=128&d=identicon&r=PG&f=1", "display_name": "Luay Wadie", "link": "https://stackoverflow.com/users/7711818/luay-wadie"}, "is_accepted": false, "score": 0, "last_activity_date": 1572479939, "last_edit_date": 1572479939, "creation_date": 1572479622, "answer_id": 58635174, "question_id": 58635091, "link": "https://stackoverflow.com/questions/58635091/how-is-the-scroll-effect-on-the-iphone-11-site-built/58635174#58635174", "title": "How is the scroll effect on the iphone 11 site built?", "body": "<p>I would use <code>position: absolute</code> for both objects and declare their <code>z-index</code> order to show based on which layer is up-front.</p>\n\n<p>I also see an <code>overflow:hidden</code> style a lot whenever you want to place an element's extra pixels away or behind other elements.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#b1 {\r\n  background-color:red;\r\n  height:100px;\r\n  width:100px;\r\n  display:table;\r\n  position: absolute;\r\n  z-index:1;\r\n}\r\n\r\n#b2 {\r\n  background-color:blue;\r\n  height:100px;\r\n  width:100px;\r\n  display:table;\r\n  position: absolute;\r\n  left:50px;\r\n  top:50px;\r\n  z-index:2;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"b1\"&gt;&lt;/div&gt;\r\n&lt;div id=\"b2\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 0, "creation_date": 1572479744, "post_id": 58635183, "comment_id": 103577139, "body": "Consider adding this as a comment instead.  Ideally on Stack Overflow, some explanation of how it works or at least how to use it should accompany the answer."}, {"owner": {"reputation": 1733, "user_id": 6472447, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002669441680/picture?type=large", "display_name": "Ahmed I. Elsayed", "link": "https://stackoverflow.com/users/6472447/ahmed-i-elsayed"}, "reply_to_user": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 0, "creation_date": 1572479798, "post_id": 58635183, "comment_id": 103577144, "body": "Actually the site is the explaination, explains as your scroll"}, {"owner": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 1, "creation_date": 1572483499, "post_id": 58635183, "comment_id": 103577946, "body": "Yes, but unfortunately links break over time.  Stack Overflow is mean to be the main reference, and should have the content in your answer."}, {"owner": {"reputation": 384, "user_id": 4036130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9bacbf91d15173772be8bf9925e168?s=128&d=identicon&r=PG&f=1", "display_name": "Syn", "link": "https://stackoverflow.com/users/4036130/syn"}, "edited": false, "score": 0, "creation_date": 1572484634, "post_id": 58635183, "comment_id": 103578143, "body": "So ive used AOS on some other sites but this effect is completely different. The closest ive seen so far is from keithclark but not quite there. In the site I linked, elements look like they are positioned <code>fixed</code> but they suddenly become scrollable after an element finishes scrolling by. Hard to explain."}, {"owner": {"reputation": 1733, "user_id": 6472447, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002669441680/picture?type=large", "display_name": "Ahmed I. Elsayed", "link": "https://stackoverflow.com/users/6472447/ahmed-i-elsayed"}, "reply_to_user": {"reputation": 384, "user_id": 4036130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9bacbf91d15173772be8bf9925e168?s=128&d=identicon&r=PG&f=1", "display_name": "Syn", "link": "https://stackoverflow.com/users/4036130/syn"}, "edited": false, "score": 0, "creation_date": 1572486417, "post_id": 58635183, "comment_id": 103578513, "body": "@Syn I added some tutorials anyway he can look for what he wants there, I tried them"}, {"owner": {"reputation": 1733, "user_id": 6472447, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002669441680/picture?type=large", "display_name": "Ahmed I. Elsayed", "link": "https://stackoverflow.com/users/6472447/ahmed-i-elsayed"}, "reply_to_user": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 0, "creation_date": 1572494036, "post_id": 58635183, "comment_id": 103579925, "body": "@Brad I edited the question even before you reply 2nd time"}], "tags": [], "owner": {"reputation": 1733, "user_id": 6472447, "user_type": "registered", "profile_image": "https://graph.facebook.com/100002669441680/picture?type=large", "display_name": "Ahmed I. Elsayed", "link": "https://stackoverflow.com/users/6472447/ahmed-i-elsayed"}, "is_accepted": false, "score": -1, "last_activity_date": 1572481443, "last_edit_date": 1572481443, "creation_date": 1572479710, "answer_id": 58635183, "question_id": 58635091, "link": "https://stackoverflow.com/questions/58635091/how-is-the-scroll-effect-on-the-iphone-11-site-built/58635183#58635183", "title": "How is the scroll effect on the iphone 11 site built?", "body": "<p><a href=\"https://michalsnik.github.io/aos/\" rel=\"nofollow noreferrer\">AOS</a> is a jquery library for on scroll animations</p>\n\n<p>an example of usage</p>\n\n<pre><code>&lt;div data-aos=\"fade-up\"\n     data-aos-duration=\"2000\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The site explains as your scroll.</p>\n\n<p>some nice tutorials <a href=\"https://keithclark.co.uk/articles/pure-css-parallax-websites/\" rel=\"nofollow noreferrer\">keithclark</a>, <a href=\"https://codepen.io/karldanninger/pen/NwzMzN\" rel=\"nofollow noreferrer\">codepen </a>, <a href=\"https://www.w3schools.com/howto/howto_css_parallax.asp\" rel=\"nofollow noreferrer\">w3schools</a></p>\n"}], "owner": {"reputation": 384, "user_id": 4036130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ea9bacbf91d15173772be8bf9925e168?s=128&d=identicon&r=PG&f=1", "display_name": "Syn", "link": "https://stackoverflow.com/users/4036130/syn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 722, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572481443, "creation_date": 1572479055, "question_id": 58635091, "link": "https://stackoverflow.com/questions/58635091/how-is-the-scroll-effect-on-the-iphone-11-site-built", "title": "How is the scroll effect on the iphone 11 site built?", "body": "<p>site - <a href=\"https://www.apple.com/iphone-11-pro/\" rel=\"nofollow noreferrer\">https://www.apple.com/iphone-11-pro/</a></p>\n\n<p>I feel like I this is such a simple effect but I can't seem to wrap my head around how to achieve it. ( I am talking about the way elements are layered behind each other )</p>\n\n<p>I figured it was some mix of <code>position:fixed/sticky</code> but I don't see how that is possible without a bunch of <code>height: ~100vh</code> etc and I hope that isnt how the effect is achieved on their site...</p>\n\n<p>I don't even know what the proper name of this effect is to google it.</p>\n\n<p>If anyone has any resources I could read up on or videos to watch, id greatly appreciate it.</p>\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "xmlhttprequest"], "comments": [{"owner": {"reputation": 444, "user_id": 1979061, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38c66da5b8cfc8d6233794d16ed089c4?s=128&d=identicon&r=PG", "display_name": "albert", "link": "https://stackoverflow.com/users/1979061/albert"}, "edited": false, "score": 0, "creation_date": 1572479297, "post_id": 58635075, "comment_id": 103577057, "body": "could be something related to this <a href=\"https://stackoverflow.com/questions/38344612/ajax-request-to-local-file-system-not-working-in-chrome\" title=\"ajax request to local file system not working in chrome\">stackoverflow.com/questions/38344612/&hellip;</a>"}, {"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1572479353, "post_id": 58635075, "comment_id": 103577072, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/38344612/ajax-request-to-local-file-system-not-working-in-chrome\">AJAX request to local file system not working in Chrome?</a>"}, {"owner": {"reputation": 37, "user_id": 5122321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d23738fa26af046940bf7bfc8aa146b?s=128&d=identicon&r=PG&f=1", "display_name": "Dogyman", "link": "https://stackoverflow.com/users/5122321/dogyman"}, "reply_to_user": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1572479980, "post_id": 58635075, "comment_id": 103577193, "body": "@LucaKiebel No, because I cant use jQuery"}, {"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1572480667, "post_id": 58635075, "comment_id": 103577357, "body": "This has nothing to do with using jQuery or not using it. It doesn&#39;t work without some tweaks I wouldn&#39;t recommend."}, {"owner": {"reputation": 144, "user_id": 5705051, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99c48efa05335bcbb378cee752694ae7?s=128&d=identicon&r=PG", "display_name": "asmanp2012", "link": "https://stackoverflow.com/users/5705051/asmanp2012"}, "edited": false, "score": 0, "creation_date": 1572481580, "post_id": 58635075, "comment_id": 103577533, "body": "please check this url <a href=\"http://youmightnotneedjquery.com/\" rel=\"nofollow noreferrer\">no-jquery</a>"}], "answers": [{"tags": [], "owner": {"reputation": 391, "user_id": 5693465, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-OeKJkAZkCZE/AAAAAAAAAAI/AAAAAAAAAAA/-zbGCgHUc7k/photo.jpg?sz=128", "display_name": "Wolf", "link": "https://stackoverflow.com/users/5693465/wolf"}, "is_accepted": false, "score": 0, "last_activity_date": 1572479883, "creation_date": 1572479883, "answer_id": 58635196, "question_id": 58635075, "link": "https://stackoverflow.com/questions/58635075/open-local-server-file-using-plain-javascript/58635196#58635196", "title": "Open local server file using plain javascript", "body": "<p>I don't think you can access the file system through most browsers. </p>\n\n<p>Even if it worked locally, it wouldn't work as soon as you put your page up on a server. This is because the client will be asking for a file that is local to itself, not the server.</p>\n\n<p>Chrome may have something for you though:\n<a href=\"https://www.html5rocks.com/en/tutorials/file/filesystem/\" rel=\"nofollow noreferrer\">https://www.html5rocks.com/en/tutorials/file/filesystem/</a></p>\n"}], "owner": {"reputation": 37, "user_id": 5122321, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d23738fa26af046940bf7bfc8aa146b?s=128&d=identicon&r=PG&f=1", "display_name": "Dogyman", "link": "https://stackoverflow.com/users/5122321/dogyman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": -3, "last_activity_date": 1572479883, "creation_date": 1572478894, "question_id": 58635075, "link": "https://stackoverflow.com/questions/58635075/open-local-server-file-using-plain-javascript", "title": "Open local server file using plain javascript", "body": "<p>I want to load locally stored data using plain javascript (no jquery for example) and then use it to display it in a table in html. My project structure looks like this:</p>\n\n<p>root <br>\n- js <br>\n-- main.js <br>\n- res <br>\n-- data.csv <br>\n- index.html <br></p>\n\n<p>I tried using a <code>XMLHttpRequest</code>, but somehow I get status <code>0</code> when trying to load the file and when printing the response text it prints out nothing at all.</p>\n\n<p>The following method is called using <code>window.onload</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var url = \"file://../res/data.csv/\";\nvarxmlhttp = new XMLHttpRequest();\n\nxmlhttp.onreadystatechange = function() {\n  if (this.readyState === 4 &amp;&amp; this.status === 200) {\n    console.log(this.responseText);\n  }\n};\n\nxmlhttp.open(\"GET\", url, true);\nxmlhttp.send();\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 3, "creation_date": 1572478473, "post_id": 58635019, "comment_id": 103576876, "body": "Look at your <code>for</code> loop declaration: <code>count = 1; count &lt; 11; count = count + 2</code> What numbers will <code>count</code> be?"}, {"owner": {"reputation": 1614, "user_id": 5728357, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ET3iW.jpg?s=128&g=1", "display_name": "xarantolus", "link": "https://stackoverflow.com/users/5728357/xarantolus"}, "edited": false, "score": 1, "creation_date": 1572478570, "post_id": 58635019, "comment_id": 103576896, "body": "For even numbers, you&#39;ll need a rest of 0 when dividing by 2. Use <code>count % 2 == 0</code>"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1572478780, "creation_date": 1572478780, "answer_id": 58635059, "question_id": 58635019, "link": "https://stackoverflow.com/questions/58635019/how-to-output-even-numbers/58635059#58635059", "title": "How to output even numbers?", "body": "<p>Start your loop from <code>2</code> instead of <code>1</code>. There's no need for the modulus test, since you're incrementing by <code>2</code>. So the values of <code>count</code> will all be either even or odd, depending on the initial value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>for (var count = 2; count &lt; 11; count += 2) {\r\n  console.log(count);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12300351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17a01d1177445aac8d454f2e04413b58?s=128&d=identicon&r=PG", "display_name": "Teemalak", "link": "https://stackoverflow.com/users/12300351/teemalak"}, "is_accepted": false, "score": 0, "last_activity_date": 1572479139, "creation_date": 1572479139, "answer_id": 58635106, "question_id": 58635019, "link": "https://stackoverflow.com/questions/58635019/how-to-output-even-numbers/58635106#58635106", "title": "How to output even numbers?", "body": "<p>based on your given code, it seems that you are programming the code to find the odd numbers. When you are using the modulus operator to see if it is equal to 1, you are saying that if I take this number, for example, 3, and it does not divide evenly by 2, then it should print that number. What you want is to change the value to 0 at the other end of the double equal sign, that way, when we take the same number, 3, and divide it by 2, we see that it does not divide perfectly, and as a result, it will not print it. Once it moves on to 4, the number will divide evenly, and it will print that number. Therefore to print the even values, you simply need to change the 1 to a 0. Another issue with the code seems to be that you are starting at 1, and incrementing by 2 each time, this will never be able to test even numbers, as it goes 1, then 3 then 5, etc. So in order to check for even numbers, either change the starting value to 0, or increment by 1 instead.</p>\n"}], "owner": {"reputation": 33, "user_id": 12300316, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C8B1tlMn8tk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdov_eFGUcSFv5U1V1OMhoj6c7Zyg/photo.jpg?sz=128", "display_name": "Shawn Lee", "link": "https://stackoverflow.com/users/12300316/shawn-lee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 58635059, "answer_count": 2, "score": -2, "last_activity_date": 1572487105, "creation_date": 1572478427, "last_edit_date": 1572487105, "question_id": 58635019, "link": "https://stackoverflow.com/questions/58635019/how-to-output-even-numbers", "title": "How to output even numbers?", "body": "<pre><code>for (count = 1; count &lt; 11; count = count + 2 ) {\n     if(count % 2 == 1 ) {\n         console.log(count) \n     }\n</code></pre>\n\n<p>This is my code right now and it prints out odd numbers. <code>1, 3, 5, 7, 9</code>. I need it to print out <code>2, 4, 6, 8, 10</code>. But I can't figure out how. I'm new to javascript</p>\n"}, {"tags": ["javascript", "google-apps-script", "stripe-payments"], "answers": [{"comments": [{"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "reply_to_user": {"reputation": 11666, "user_id": 1640892, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ne9FU.png?s=128&g=1", "display_name": "Let Me Tink About It", "link": "https://stackoverflow.com/users/1640892/let-me-tink-about-it"}, "edited": false, "score": 1, "creation_date": 1572521884, "post_id": 58635227, "comment_id": 103590359, "body": "@Mowzer Thank you for replying and testing the script. I&#39;m glad your issue was resolved."}, {"owner": {"reputation": 11666, "user_id": 1640892, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ne9FU.png?s=128&g=1", "display_name": "Let Me Tink About It", "link": "https://stackoverflow.com/users/1640892/let-me-tink-about-it"}, "edited": false, "score": 0, "creation_date": 1595329624, "post_id": 58635227, "comment_id": 111430810, "body": "What are your thoughts on this very similar question? <a href=\"https://stackoverflow.com/q/63013143/1640892\">stackoverflow.com/q/63013143/1640892</a>"}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "reply_to_user": {"reputation": 11666, "user_id": 1640892, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ne9FU.png?s=128&g=1", "display_name": "Let Me Tink About It", "link": "https://stackoverflow.com/users/1640892/let-me-tink-about-it"}, "edited": false, "score": 1, "creation_date": 1595370470, "post_id": 58635227, "comment_id": 111449936, "body": "@Let Me Tink About It I checked it and proposed a modified script. Could you please confirm it?"}, {"owner": {"reputation": 3169, "user_id": 9769731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f45dd611cc4ebd5218b399c926da68b?s=128&d=identicon&r=PG&f=1", "display_name": "karllekko", "link": "https://stackoverflow.com/users/9769731/karllekko"}, "edited": false, "score": 0, "creation_date": 1601044171, "post_id": 58635227, "comment_id": 113290402, "body": "It doesn&#39;t feel very safe to me at all to have your secret API key(that can be used to for example refund all your payments or charge your customers) in this script \u2014 that should be securely stored on a backend server."}], "tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": true, "score": 5, "last_activity_date": 1572480119, "creation_date": 1572480119, "answer_id": 58635227, "question_id": 58635015, "link": "https://stackoverflow.com/questions/58635015/how-to-integrate-stripe-payments-with-google-apps-script/58635227#58635227", "title": "How to integrate Stripe payments with Google Apps Script", "body": "<p>How about this answer? Please think of this as just one of several answers.</p>\n\n<h2>Issue and workaround:</h2>\n\n<p>Unfortunately, the module of Node.js cannot be directly used for Google Apps Script. So it is required to prepare the script for Google Apps Script. Fortunately, at <a href=\"https://stripe.com/docs/billing/quickstart\" rel=\"noreferrer\">the official document of the link</a> in your question, there are several samples. Using this, how about converting to the script of Google Apps Script?</p>\n\n<h2>Sample script:</h2>\n\n<p>When your script in your question is converted to Google Apps Script, it becomes as follows.</p>\n\n<h3>From:</h3>\n\n<pre><code>// Set your secret key: remember to change this to your live secret key in production\n// See your keys here: https://dashboard.stripe.com/account/apikeys\nconst stripe = require('stripe')('sk_test_4eC39HqLyjWDarjtT1zdp7dc');\n\n(async () =&gt; {\n  const product = await stripe.products.create({\n    name: 'My SaaS Platform',\n    type: 'service',\n  });\n})();\n</code></pre>\n\n<h3>To</h3>\n\n<pre><code>function myFunction() {\n  var url = \"https://api.stripe.com/v1/products\";\n  var params = {\n    method: \"post\",\n    headers: {Authorization: \"Basic \" + Utilities.base64Encode(\"sk_test_4eC39HqLyjWDarjtT1zdp7dc:\")},\n    payload: {name: \"My SaaS Platform\", type: \"service\"}\n  };\n  var res = UrlFetchApp.fetch(url, params);\n  Logger.log(res.getContentText())\n}\n</code></pre>\n\n<ul>\n<li>In this case, both requests of Node.js and Google Apps Script are the same.</li>\n</ul>\n\n<h2>Note:</h2>\n\n<ul>\n<li>At the sample script of Node.js, <code>sk_test_4eC39HqLyjWDarjtT1zdp7dc</code> is used for the key. But in this case, because the basic authorization is used, please use <code>sk_test_4eC39HqLyjWDarjtT1zdp7dc:</code> by adding <code>:</code>.</li>\n</ul>\n\n<h2>References:</h2>\n\n<ul>\n<li><a href=\"https://stripe.com/docs/billing/quickstart\" rel=\"noreferrer\">Billing Quickstart</a></li>\n<li><a href=\"https://developers.google.com/apps-script/reference/url-fetch/url-fetch-app\" rel=\"noreferrer\">Class UrlFetchApp</a></li>\n</ul>\n\n<p>If I misunderstood your question and this was not the direction you want, I apologize.</p>\n"}], "owner": {"reputation": 11666, "user_id": 1640892, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/ne9FU.png?s=128&g=1", "display_name": "Let Me Tink About It", "link": "https://stackoverflow.com/users/1640892/let-me-tink-about-it"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 972, "favorite_count": 2, "accepted_answer_id": 58635227, "answer_count": 1, "score": 2, "last_activity_date": 1572480119, "creation_date": 1572478389, "question_id": 58635015, "link": "https://stackoverflow.com/questions/58635015/how-to-integrate-stripe-payments-with-google-apps-script", "title": "How to integrate Stripe payments with Google Apps Script", "body": "<p><a href=\"https://stackoverflow.com/a/58606040\">According to this answer</a>, Gmail does not expose an API for sending and receiving payments. Therefore, <a href=\"https://stripe.com/docs/billing/quickstart\" rel=\"nofollow noreferrer\">I am trying to use Stripe</a> to accomplish that.</p>\n\nCode.js\n\n<pre class=\"lang-js prettyprint-override\"><code>// Set your secret key: remember to change this to your live secret key in production\n// See your keys here: https://dashboard.stripe.com/account/apikeys\nconst stripe = require('stripe')('sk_test_4eC39HqLyjWDarjtT1zdp7dc');\n\n(async () =&gt; {\n  const product = await stripe.products.create({\n    name: 'My SaaS Platform',\n    type: 'service',\n  });\n})();\n</code></pre>\n\n<p>However, GAS does not directly support <code>async</code> and <code>require</code> at this time. Is there any possible workaround so I can use Stripe to send and receive payments in my GAS app?</p>\n\n<p>If that's not possible, what direction should I go from here?</p>\n"}, {"tags": ["javascript", "ruby"], "comments": [{"owner": {"reputation": 1704, "user_id": 3723506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wHveY.jpg?s=128&g=1", "display_name": "Rashmirathi", "link": "https://stackoverflow.com/users/3723506/rashmirathi"}, "edited": false, "score": 0, "creation_date": 1572479114, "post_id": 58634992, "comment_id": 103577018, "body": "Surely, just using  <code>var sppf_boolean = &lt;%= Model.exists?(foo_id: foo.id) %&gt;;</code>  should do the trick, am I missing anything?"}, {"owner": {"reputation": 1263, "user_id": 10221813, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160530708235447/picture?type=large", "display_name": "uno", "link": "https://stackoverflow.com/users/10221813/uno"}, "reply_to_user": {"reputation": 1704, "user_id": 3723506, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wHveY.jpg?s=128&g=1", "display_name": "Rashmirathi", "link": "https://stackoverflow.com/users/3723506/rashmirathi"}, "edited": false, "score": 0, "creation_date": 1572480935, "post_id": 58634992, "comment_id": 103577415, "body": "Tried it, not working.  That&#39;s what I&#39;m saying, there&#39;s something missing here I am not understanding.  All the same code works as long as i manually set it to true, but if I use the ruby code, which equals true, it won&#39;t work..."}, {"owner": {"reputation": 8733, "user_id": 3625433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/N7qK6.png?s=128&g=1", "display_name": "lacostenycoder", "link": "https://stackoverflow.com/users/3625433/lacostenycoder"}, "edited": false, "score": 0, "creation_date": 1572481154, "post_id": 58634992, "comment_id": 103577455, "body": "where have you place this code inside script tag? It should be at the bottom of your layout html file before the closing body tag in most cases.  If it&#39;s in a javascript file that will get precompiled, it may not work as expected, and will like throw compilation error if you are using asset pipeline."}], "answers": [{"comments": [{"owner": {"reputation": 1263, "user_id": 10221813, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160530708235447/picture?type=large", "display_name": "uno", "link": "https://stackoverflow.com/users/10221813/uno"}, "edited": false, "score": 0, "creation_date": 1572481644, "post_id": 58635329, "comment_id": 103577550, "body": "Okay we&#39;re getting somewhere.  In the console.log, it says false.... but right above it in the <code>var</code>, it shows <code>var sppf_boolean= true</code>"}, {"owner": {"reputation": 8733, "user_id": 3625433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/N7qK6.png?s=128&g=1", "display_name": "lacostenycoder", "link": "https://stackoverflow.com/users/3625433/lacostenycoder"}, "reply_to_user": {"reputation": 1263, "user_id": 10221813, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160530708235447/picture?type=large", "display_name": "uno", "link": "https://stackoverflow.com/users/10221813/uno"}, "edited": false, "score": 1, "creation_date": 1572481941, "post_id": 58635329, "comment_id": 103577620, "body": "sounds like a possible global scope var name clash.  Try using a different var name? something surely not used elsewhere?"}, {"owner": {"reputation": 1263, "user_id": 10221813, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160530708235447/picture?type=large", "display_name": "uno", "link": "https://stackoverflow.com/users/10221813/uno"}, "edited": false, "score": 0, "creation_date": 1572482707, "post_id": 58635329, "comment_id": 103577777, "body": "That;s gotta be it.  It&#39;s because it&#39;s based on variables in a loop"}, {"owner": {"reputation": 8733, "user_id": 3625433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/N7qK6.png?s=128&g=1", "display_name": "lacostenycoder", "link": "https://stackoverflow.com/users/3625433/lacostenycoder"}, "reply_to_user": {"reputation": 1263, "user_id": 10221813, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160530708235447/picture?type=large", "display_name": "uno", "link": "https://stackoverflow.com/users/10221813/uno"}, "edited": false, "score": 0, "creation_date": 1572482999, "post_id": 58635329, "comment_id": 103577829, "body": "See updated answer, but sounds like using erb in your javascript may not work for your use case, and in general is not recommended."}, {"owner": {"reputation": 1263, "user_id": 10221813, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160530708235447/picture?type=large", "display_name": "uno", "link": "https://stackoverflow.com/users/10221813/uno"}, "edited": false, "score": 0, "creation_date": 1572484320, "post_id": 58635329, "comment_id": 103578082, "body": "You were right about the naming.  Because it&#39;s based on variables, I wasn&#39;t using the variable name so it was taking the last variable status"}], "tags": [], "owner": {"reputation": 8733, "user_id": 3625433, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/N7qK6.png?s=128&g=1", "display_name": "lacostenycoder", "link": "https://stackoverflow.com/users/3625433/lacostenycoder"}, "is_accepted": true, "score": 0, "last_activity_date": 1572482901, "last_edit_date": 1572482901, "creation_date": 1572481030, "answer_id": 58635329, "question_id": 58634992, "link": "https://stackoverflow.com/questions/58634992/using-boolean-from-json-for-if-statement/58635329#58635329", "title": "Using boolean from JSON for if statement", "body": "<p>This should work but to be sure, add console log.  Also, if you expect your function to be called, well maybe call it?  UPDATE: Use closure to insure you're variable names are not polluted in the global scope.</p>\n\n<pre><code>&lt;script&gt;\n(function(){\n  var sppf_boolean = &lt;%= Model.exists?(foo_id: foo.id) %&gt;;\n  console.log(sppf_boolean);\n  function loadJSONImage() {\n    if (sppf_boolean)\n    {\n       #codey\n    }\n  }\n  // but we have not called the function yet.  Should we? if so:\n  loadJSONImage();    \n}();\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 1263, "user_id": 10221813, "user_type": "registered", "profile_image": "https://graph.facebook.com/10160530708235447/picture?type=large", "display_name": "uno", "link": "https://stackoverflow.com/users/10221813/uno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 58635329, "answer_count": 1, "score": 0, "last_activity_date": 1572482901, "creation_date": 1572478208, "question_id": 58634992, "link": "https://stackoverflow.com/questions/58634992/using-boolean-from-json-for-if-statement", "title": "Using boolean from JSON for if statement", "body": "<p>I have a var that equals true, but it seems that since it's from a JSON, it's not \"actually\" true.</p>\n\n<p>This doesn't work:</p>\n\n<pre><code>&lt;% sppf = Model.exists?(foo_id: foo.id) %&gt;\n#this translates to: true\n#in the view-source\n\n&lt;script&gt;\nvar sppf_boolean = &lt;%= sppf.to_json.html_safe %&gt;;\n#this translates to: var sppf_boolean = true;\nfunction loadJSONImage() {\n  if (sppf_boolean)\n  {\n     #codey\n  };\n};\n&lt;/script&gt;\n</code></pre>\n\n<p>Tried to remove the <code>to_json.html_safe</code> but that didn't do that trick.  Also tried that with a combination of <code>(sppf_boolean === true)</code> and <code>(sppf_boolean == true)</code></p>\n\n<p>This does work:</p>\n\n<pre><code>&lt;script&gt;\nvar sppf_boolean = true;\nfunction loadJSONImage() {\n  if (sppf_boolean)\n  {\n     #codey\n  };\n};\n&lt;/script&gt;\n</code></pre>\n\n<p>In the source code, it shows <code>true</code> (or <code>false</code>).  Is there some difference from the true/false coming from ruby syntax?</p>\n\n<p>I don't see any reasons on why this will not work.  How can I get this to work?</p>\n"}, {"tags": ["javascript", "date"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8331511"}, "edited": false, "score": 0, "creation_date": 1572480669, "post_id": 58635108, "comment_id": 103577358, "body": "OK, so this does work, however, when I&#39;m passing state like <code>Date.parse(this.state.journal.createdAt)</code> I get the error"}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1572483165, "post_id": 58635108, "comment_id": 103577875, "body": "@nightcode\u2014 <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse\" rel=\"nofollow noreferrer\"><i>Date.parse</i></a> returns a number, the <a href=\"http://ecma-international.org/ecma-262/10.0/#sec-time-values-and-time-range\" rel=\"nofollow noreferrer\"><i>time value</i></a> of the parsed string. So you might do <code>new Date(Date.parse(string))</code>, which is a long winded way of writing <code>new Date(string)</code> (the exact same parser is used for both)."}, {"owner": {"reputation": 40886, "user_id": 64750, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1b3d2f05d99c73877467400933d5269b?s=128&d=identicon&r=PG", "display_name": "moribvndvs", "link": "https://stackoverflow.com/users/64750/moribvndvs"}, "edited": false, "score": 0, "creation_date": 1572503605, "post_id": 58635108, "comment_id": 103582060, "body": "@nightcode I made a mistake describing the <code>date</code> param for <code>format</code>. I&#39;ve updated my answer for clarity. Not sure why <code>Date.parse</code> didn&#39;t work for you, perhaps there was a problem with the value of the field in your test."}, {"owner": {"reputation": 2211, "user_id": 3243814, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/538d7f03357c8012445b79c7ee129aaa?s=128&d=identicon&r=PG&f=1", "display_name": "Etienne Bruines", "link": "https://stackoverflow.com/users/3243814/etienne-bruines"}, "edited": false, "score": 0, "creation_date": 1599040899, "post_id": 58635108, "comment_id": 112648001, "body": "For those having issues with Safari, this is why."}], "tags": [], "owner": {"reputation": 40886, "user_id": 64750, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1b3d2f05d99c73877467400933d5269b?s=128&d=identicon&r=PG", "display_name": "moribvndvs", "link": "https://stackoverflow.com/users/64750/moribvndvs"}, "is_accepted": true, "score": 2, "last_activity_date": 1572503367, "last_edit_date": 1572503367, "creation_date": 1572479150, "answer_id": 58635108, "question_id": 58634980, "link": "https://stackoverflow.com/questions/58634980/format-created-at-date-in-reactjs/58635108#58635108", "title": "Format created_at date in Reactjs", "body": "<p>According to ES2015, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat/format\" rel=\"nofollow noreferrer\"><code>Intl.DateTimeFormat.format(date)</code></a> expects the <code>date</code> parameter to be a number representing the number of milliseconds since epoch. However, in the MDN docs examples and my own testing on recent Firefox, Chrome, and Safari, those browsers will also accept a <code>Date</code> object. </p>\n\n<p>Since the <code>journal.createdAt</code> is presumably an ISO8601-formatted string, you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse\" rel=\"nofollow noreferrer\"><code>Date.parse(journal.createdAt)</code></a> or <code>new Date(journal.createdAt)</code> and pass the resulting value to <code>Intl.DateTimeFormat.format</code>, although the former is the way to do it according to the specifications.</p>\n\n<p><a href=\"https://codepen.io/HackedByChinese/pen/yLLPyzK\" rel=\"nofollow noreferrer\">Working example</a>. </p>\n\n<pre><code>class App extends React.Component {\n  formatter = new Intl.DateTimeFormat(\"en-GB\", {\n          year: \"numeric\",\n          month: \"long\",\n          day: \"2-digit\"\n        });\n\n  render() {\n    const dateString = \"2019-10-30T14:01:59.689Z\";\n\n    return (\n      &lt;div&gt;\n        Using &lt;code&gt;Date.parse&lt;/code&gt;: {this.formatter.format(Date.parse(dateString))}\n        &lt;br /&gt;\n        &lt;em&gt;OR&lt;/em&gt;\n        &lt;br /&gt;\n        Using &lt;code&gt;new Date&lt;/code&gt;: {this.formatter.format(new Date(dateString))}\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8331511"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3030, "favorite_count": 0, "accepted_answer_id": 58635108, "answer_count": 1, "score": 2, "last_activity_date": 1572503367, "creation_date": 1572478117, "question_id": 58634980, "link": "https://stackoverflow.com/questions/58634980/format-created-at-date-in-reactjs", "title": "Format created_at date in Reactjs", "body": "<p>I have the following</p>\n\n<p><code>{journal.createdAt}</code></p>\n\n<p><code>2019-10-30T14:01:59.689Z</code></p>\n\n<p>Which is outputting the <code>created_at</code> date.</p>\n\n<p>How do I go about formatting this?</p>\n\n<p>I've given this a shot but I think I have the value in the wrong place</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>{new Intl.DateTimeFormat('en-GB', {\n  year: 'numeric',\n  month: 'long',\n  day: '2-digit'\n}).format(journal.createdAt)}\n</code></pre>\n\n<p>I'm getting</p>\n\n<pre><code>RangeError: date value is not finite in DateTimeFormat.format()\n</code></pre>\n"}, {"tags": ["javascript", "html", "js-scrollby"], "comments": [{"owner": {"reputation": 2090, "user_id": 8588359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiqvE.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/8588359/raj"}, "edited": false, "score": 0, "creation_date": 1572477934, "post_id": 58634772, "comment_id": 103576747, "body": "Please edit the question instead of adding a comment."}, {"owner": {"reputation": 1, "user_id": 12300207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD-9-1btdz4c9jqFvZ6DmODtPdnBIXnIQU5b8UgzA=k-s128", "display_name": "Dom", "link": "https://stackoverflow.com/users/12300207/dom"}, "reply_to_user": {"reputation": 2090, "user_id": 8588359, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/uiqvE.jpg?s=128&g=1", "display_name": "Raj", "link": "https://stackoverflow.com/users/8588359/raj"}, "edited": false, "score": 0, "creation_date": 1572547790, "post_id": 58634772, "comment_id": 103603916, "body": "Sorry @Raj have fully edited the question as moved on a bit further with the project now"}], "owner": {"reputation": 1, "user_id": 12300207, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD-9-1btdz4c9jqFvZ6DmODtPdnBIXnIQU5b8UgzA=k-s128", "display_name": "Dom", "link": "https://stackoverflow.com/users/12300207/dom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572547708, "creation_date": 1572476563, "last_edit_date": 1572547708, "question_id": 58634772, "link": "https://stackoverflow.com/questions/58634772/scrollby-on-an-iframe-to-produce-an-infinitely-looping-embedded-webpage", "title": "&#39;ScrollBy&#39; on an iframe to produce an infinitely looping embedded webpage", "body": "<p>I'm a real amateur when it comes to coding. I'm trying to embed a webpage into a dashboard, just using notepad to write the HTML, got some, but limited, coding experience.\nThe webpage I'm embedding has fixed items down the page, and so far I've managed to get the page to jump down the page, stopping at each of these articles. Note the site I'm embedding is external - I don't own it.\nI've got this HTML code, which includes some javascript to make the iframe the correct size for the embedded page automatically. </p>\n\n<pre><code>&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;title&gt;Dashboardtest&lt;/title&gt;\n&lt;style&gt;\n\n    iframe{\n        width: 49%;\n        border: 4px solid #CB0F0F;\n    }\n&lt;/style&gt;\n&lt;/head&gt;\n&lt;body onload=\"pageScroll()\" bgcolor=\"33ACFF\"&gt;\n   &lt;h1 style=\"font-family:Pacifico\"&gt;Polls... the Results are In!&lt;/h1&gt; &lt;iframe src=\"https://yearbook.com/s/polls/\" height=\"600px\" id=\"myIframe\"&gt;&lt;/iframe&gt;\n\n    &lt;script&gt;\n    // Selecting the iframe element AUTO HEIGHT CODE\n    var iframe = document.getElementById(\"myIframe\");\n\n    // Adjusting the iframe height onload event\n    iframe.onload = function(){\n        iframe.style.height = iframe.contentWindow.document.body.scrollHeight + 'px';\n    }\n    &lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;                              \n</code></pre>\n\n<p>Previously, I had this code:</p>\n\n<pre><code>&lt;html&gt;\n&lt;head&gt;\n&lt;title&gt;previousdashboardtest&lt;/title&gt;\n                                &lt;meta http-equiv=\"refresh\" content=\"10\"&gt;\n\n\n&lt;script type=\"text/javascript\"&gt;\n\n\n&lt;!--\n\nfunction pageScroll() {\n\n\nwindow.scrollBy(0,392);\n\nscrolldelay = setTimeout('pageScroll()',1000); //Increase this # to slow down, decrease to speed up scrolling\n\n        window.setInterval(function scrollWin(){\n      /// call your function here\n    }, 5000);\n\n    }\n\n//--&gt;\n\n&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body onload=\"pageScroll()\"&gt;\n\n\n&lt;iframe src=\"https://yearbook.com/s/polls/\" frameborder=\"0\" scrolling=\"no\" marginwidth=\"0\" marginheight=\"0\" width=\"100%\" \nheight=\"45000px\" style=\"padding: 0; margin: 0; border: 0;\"&gt;&lt;/iframe&gt;\n\n&lt;/div&gt;\n\n        &lt;script&gt;\n        function scrollWin() {\n        window.scrollTo(0, 0);\n        }\n        &lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>It scrolled down perfectly, stopping at each item down the page. But the whole window was scrolling, meaning that the other text I have on the page would scroll out of view.\nHence I embedded the page as an iFrame, and just want to scroll the Iframe.\nIs this possible? Or do I need to try some other way.\nIdeally in the end I'd like it to scroll down to the bottom of the Iframe, and then loop back to the top indefinitely.\nNote: The page I'm embedding requires a login, so best to use some other page if testing.</p>\n"}, {"tags": ["javascript", "angular", "firebase", "ionic-framework", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1572477018, "post_id": 58634756, "comment_id": 103576518, "body": "If there are multiple child nodes under a user&#39;s node, which one do you want to show?"}, {"owner": {"reputation": 53, "user_id": 12280990, "user_type": "registered", "profile_image": "https://graph.facebook.com/10220785602888084/picture?type=large", "display_name": "Th&#233; Saki", "link": "https://stackoverflow.com/users/12280990/th%c3%a9-saki"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1572517685, "post_id": 58634756, "comment_id": 103588102, "body": "the one on which the user will click"}, {"owner": {"reputation": 53, "user_id": 12280990, "user_type": "registered", "profile_image": "https://graph.facebook.com/10220785602888084/picture?type=large", "display_name": "Th&#233; Saki", "link": "https://stackoverflow.com/users/12280990/th%c3%a9-saki"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1572518316, "post_id": 58634756, "comment_id": 103588483, "body": "if he he on the element that at node -LsRa-OFBddC25NnxyFu (the information is displayed) the same for the other nodes. thank you"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1572520740, "post_id": 58634756, "comment_id": 103589780, "body": "OK. I that case you&#39;ll need to capture the ID of the node they clicked on, and pass that in to database loading code: <code>firebase.database().ref(&#39;&#47;adresse&#47;&#39; +id).child(idTheyClickedOn)</code>"}, {"owner": {"reputation": 53, "user_id": 12280990, "user_type": "registered", "profile_image": "https://graph.facebook.com/10220785602888084/picture?type=large", "display_name": "Th&#233; Saki", "link": "https://stackoverflow.com/users/12280990/th%c3%a9-saki"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1572543150, "post_id": 58634756, "comment_id": 103601946, "body": "thanks I&#39;m new to Firebase and I&#39;m trying to do so much. I do not know how to use the code because it gives it error. I replace .once (&#39;value&#39;) with .child () Or there is another way to retrieve the information from the key"}, {"owner": {"reputation": 53, "user_id": 12280990, "user_type": "registered", "profile_image": "https://graph.facebook.com/10220785602888084/picture?type=large", "display_name": "Th&#233; Saki", "link": "https://stackoverflow.com/users/12280990/th%c3%a9-saki"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1572543631, "post_id": 58634756, "comment_id": 103602143, "body": "I can send the key in url http: // localhost: 8100 / single-address / -LsXMDGgFFxDSJfNRnI  possible to retrieve info from this key"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1572570241, "post_id": 58634756, "comment_id": 103610519, "body": "You shouldn&#39;t <b>replace</b> the <code>once(...)</code> call, but just add a <code>child(...)</code> call to reach the lower level in your JSON tree."}, {"owner": {"reputation": 53, "user_id": 12280990, "user_type": "registered", "profile_image": "https://graph.facebook.com/10220785602888084/picture?type=large", "display_name": "Th&#233; Saki", "link": "https://stackoverflow.com/users/12280990/th%c3%a9-saki"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1572642311, "post_id": 58634756, "comment_id": 103634824, "body": "i tried to do some research on the child but i do not see too much. you have an example"}], "owner": {"reputation": 53, "user_id": 12280990, "user_type": "registered", "profile_image": "https://graph.facebook.com/10220785602888084/picture?type=large", "display_name": "Th&#233; Saki", "link": "https://stackoverflow.com/users/12280990/th%c3%a9-saki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1572476963, "creation_date": 1572476403, "last_edit_date": 1572476963, "question_id": 58634756, "link": "https://stackoverflow.com/questions/58634756/display-the-details-on-click-with-firebase", "title": "display the details on click with firebase", "body": "<p>I want to display the details of the address by clicking on the elements by the firebase key. I can do it with the id but not the key of the push. Thank you for your return because I do not know how to do it with the key </p>\n\n<p><strong>my address table</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/YLWo2.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YLWo2.jpg\" alt=\"my address table\"></a></p>\n\n<p><strong>service adresse</strong></p>\n\n<pre><code> getSingleAdresse(id: number){\n        return new Promise(\n          (resolve, reject) =&gt;{\n            firebase.database().ref('/adresse/' +id).once('value').then(\n              (data) =&gt; {\n                resolve(data.val());\n              }, (error) =&gt; {\n                reject(error);\n              }\n            );\n          }\n        );\n      }\n</code></pre>\n\n<p><strong>list page.html</strong></p>\n\n<pre><code>&lt;ion-card *ngFor=\"let item of adresses | keyvalue ; let i = index\" (click)=\"onViewAdresse(i)\"&gt;\n         &lt;div&gt;&lt;b&gt;{{item.value.prenom}} {{item.value.nom}}&lt;/b&gt;&lt;/div&gt;\n&lt;/ion-card&gt;\n</code></pre>\n\n<p><strong>Single adress.ts ( the page to retrieve the elements )</strong></p>\n\n<pre><code>ngOnInit() {\n    this.adresse = new Adresse ('','', '', '', '', '');\n    const id = this.route.snapshot.params['id'];\n    this.adresseService.getSingleAdresse(+id).then(\n      (adresse: Adresse) =&gt; {\n        this.adresse = adresse;\n      }\n    );\n  }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "leaflet"], "comments": [{"owner": {"reputation": 304, "user_id": 9890295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANAh3.jpg?s=128&g=1", "display_name": "CalamityAdam", "link": "https://stackoverflow.com/users/9890295/calamityadam"}, "edited": false, "score": 0, "creation_date": 1572476931, "post_id": 58634736, "comment_id": 103576501, "body": "Are you saying you want overlayMaps to be an object where the key is whatever is at &quot;MyValue1&quot; and the value is whatever myvalue1 is?"}, {"owner": {"reputation": 779, "user_id": 11039549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40rwY.jpg?s=128&g=1", "display_name": "OJB1", "link": "https://stackoverflow.com/users/11039549/ojb1"}, "reply_to_user": {"reputation": 304, "user_id": 9890295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANAh3.jpg?s=128&g=1", "display_name": "CalamityAdam", "link": "https://stackoverflow.com/users/9890295/calamityadam"}, "edited": false, "score": 0, "creation_date": 1572477805, "post_id": 58634736, "comment_id": 103576716, "body": "Hi. In the example code above, var overlayMaps has hard coded values, instead i need to populate the contents of the var overlayMaps with values that I pull from an array. The array is dynamically populated with strings from a DB table"}], "answers": [{"comments": [{"owner": {"reputation": 382, "user_id": 7693825, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CQyIpXbxiAI/AAAAAAAAAAI/AAAAAAAAEUY/Dz_pHr3Tfls/photo.jpg?sz=128", "display_name": "5parkp1ug", "link": "https://stackoverflow.com/users/7693825/5parkp1ug"}, "edited": false, "score": 0, "creation_date": 1572501391, "post_id": 58635376, "comment_id": 103581422, "body": "if the number of points to be marked on the map is huge it might take a long time to render the map. I guess leaflet marker cluster would be a better way to handle this situation. <a href=\"https://github.com/Leaflet/Leaflet.markercluster\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 779, "user_id": 11039549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40rwY.jpg?s=128&g=1", "display_name": "OJB1", "link": "https://stackoverflow.com/users/11039549/ojb1"}, "reply_to_user": {"reputation": 382, "user_id": 7693825, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CQyIpXbxiAI/AAAAAAAAAAI/AAAAAAAAEUY/Dz_pHr3Tfls/photo.jpg?sz=128", "display_name": "5parkp1ug", "link": "https://stackoverflow.com/users/7693825/5parkp1ug"}, "edited": false, "score": 0, "creation_date": 1572514412, "post_id": 58635376, "comment_id": 103586268, "body": "Yes the solution used will depend partly on the numbers and what you&#39;re wanting to achieve, for me this is only a small part of the process as each marker will be a custom design, along with a user configured custom form inside the popup. All these details will have to be pulled from the database. In my environment, i&#39;m not planning on using hundreds of markers but more having markers with lots of functionality."}], "tags": [], "owner": {"reputation": 779, "user_id": 11039549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40rwY.jpg?s=128&g=1", "display_name": "OJB1", "link": "https://stackoverflow.com/users/11039549/ojb1"}, "is_accepted": true, "score": 1, "last_activity_date": 1572500948, "last_edit_date": 1572500948, "creation_date": 1572481495, "answer_id": 58635376, "question_id": 58634736, "link": "https://stackoverflow.com/questions/58634736/leaflet-maps-how-to-create-an-overlay-with-key-value-pairs-using-the-contents-f/58635376#58635376", "title": "Leaflet Maps: How to create an overlay with key/value pairs using the contents from an array?", "body": "<p>Solution:</p>\n\n<p>Reading the leaflet API instructions, you can actually add a single item to an L.control\none at a time using the command addOverlay( layer,  name). Adds an overlay (checkbox entry) with the given name to the control. For demo purposes below, I'm using the same value var cities for each of the three checkboxes, but to show how we add the individual items from the array, we're looping through this array and adding the items one at a time.</p>\n\n<pre><code> var littleton = L.marker([39.61, -105.02]).bindPopup('This is Littleton, CO.'),\n    denver = L.marker([39.74, -104.99]).bindPopup('This is Denver, CO.'),\n    aurora = L.marker([39.73, -104.8]).bindPopup('This is Aurora, CO.'),\n    golden = L.marker([39.77, -105.23]).bindPopup('This is Golden, CO.');\n\n var cities = L.layerGroup([littleton, denver, aurora, golden]);\n</code></pre>\n\n<pre><code>var places = new Array()\nplaces.push(\"Cities\");\nplaces.push(\"Towns\");\nplaces.push(\"MyPlaces\");\n\nvar lControl = L.control.layers(null, null);\nlControl.addTo(map);\n\nplaces.forEach(myFunction);\n\nfunction myFunction (item) {\n    lControl.addOverlay(cities, '' + item + '');\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Ls8wk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Ls8wk.jpg\" alt=\"Images\"></a></p>\n"}], "owner": {"reputation": 779, "user_id": 11039549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/40rwY.jpg?s=128&g=1", "display_name": "OJB1", "link": "https://stackoverflow.com/users/11039549/ojb1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 193, "favorite_count": 0, "accepted_answer_id": 58635376, "answer_count": 1, "score": 0, "last_activity_date": 1572500948, "creation_date": 1572476270, "question_id": 58634736, "link": "https://stackoverflow.com/questions/58634736/leaflet-maps-how-to-create-an-overlay-with-key-value-pairs-using-the-contents-f", "title": "Leaflet Maps: How to create an overlay with key/value pairs using the contents from an array?", "body": "<p>In my project, when I load a page I pull a list of overlay names from the database, these are stored in a JS Array.</p>\n\n<p>Using the default code below, how do I fill the overlayMaps with contents from an array rather than hard coding what the values will be:</p>\n\n<pre><code> var overlayMaps = {\n\"Cities\": cities,\n\"Towns\": towns\n};\n</code></pre>\n\n<p>So as an example, instead of creating overlayMaps with the hard coded values Cities &amp; Towns, I need to pull these values from an array that gets its data from the DB, The array in leymans terms might look like this under the hood:</p>\n\n<pre><code>[ \"MyValue1\": myvalue1,\"MyValue2\": myvalue2, \"MyValue2\": myvalue2,] etc\n</code></pre>\n\n<p>Maybe I need to create a dictionary, although I have no experience doing this in JS, only in C#</p>\n\n<p>Am using guide: <a href=\"https://leafletjs.com/examples/layers-control/\" rel=\"nofollow noreferrer\">https://leafletjs.com/examples/layers-control/</a></p>\n"}, {"tags": ["javascript", "node.js", "firebase", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1572476673, "post_id": 58634722, "comment_id": 103576438, "body": "So you get back the <i>&quot;Failed&quot;</i> message? Have you tried debugging the value of <code>postID</code>?"}, {"owner": {"reputation": 45, "user_id": 8351563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FCklb.png?s=128&g=1", "display_name": "Rayinator", "link": "https://stackoverflow.com/users/8351563/rayinator"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1572476886, "post_id": 58634722, "comment_id": 103576488, "body": "@Phil Could you elaborate on that? Sorry I&#39;m pretty new so I don&#39;t know what you mean by debugging the value. If you mean logging in the console to check that it&#39;s the correct value I&#39;ve already done that."}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1572477115, "post_id": 58634722, "comment_id": 103576551, "body": "<i>&quot;If you mean logging in the console&quot;</i> \ud83d\udc48 something like that, yes (though an actual debugger is preferable). You should check that the value of <code>postID</code> is <b>exactly</b> what you expect. In particular, check for leading / trailing whitespace. You didn&#39;t answer my first question though. Also, what does your collection data look like? Does it even have an <code>id</code> property?"}, {"owner": {"reputation": 45, "user_id": 8351563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FCklb.png?s=128&g=1", "display_name": "Rayinator", "link": "https://stackoverflow.com/users/8351563/rayinator"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1572477268, "post_id": 58634722, "comment_id": 103576585, "body": "@Phil Ah sorry yes I receive the Failed response in my client when I try to request the post. The <code>postID</code> is an integer passed through the function so it shouldn&#39;t have any leading or trailing whitespace or other characters. The collection contains separate documents for each post. Each post has the data required for the forum including the <code>id</code> property."}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1572477791, "post_id": 58634722, "comment_id": 103576711, "body": "Can you please add <code>console.log(&#39;postID&#39;, typeof postID, JSON.stringify(postID))</code> before your query and <a href=\"https://stackoverflow.com/posts/58634722/edit\">edit your question</a> to include the output <b>exactly</b> as it appears in your console / terminal (screenshot if possible). Also, what happens if you omit the <code>.where()</code>? Do you get any results then?"}, {"owner": {"reputation": 45, "user_id": 8351563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FCklb.png?s=128&g=1", "display_name": "Rayinator", "link": "https://stackoverflow.com/users/8351563/rayinator"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1572478543, "post_id": 58634722, "comment_id": 103576891, "body": "@Phil I&#39;ve edited the post above hopefully that helps. The console output is only one line so I just included it there since it&#39;s more convenient that way but if you still need a screenshot let me know. Omitting the query returned the full collection as expected. <code>{ desc: &#39;Test Post.&#39;,   content: &#39;Test Post.&#39;,   date: &#39;31th October 2019&#39;,   id: 2,   title: &#39;Test Post&#39;,   author: &#39;Test&#39; } </code> The client also received the data as expected. <a href=\"https://imgur.com/a/5glY17m\" rel=\"nofollow noreferrer\">imgur.com/a/5glY17m</a>"}, {"owner": {"reputation": 45, "user_id": 8351563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FCklb.png?s=128&g=1", "display_name": "Rayinator", "link": "https://stackoverflow.com/users/8351563/rayinator"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1572479245, "post_id": 58634722, "comment_id": 103577049, "body": "Also this post is only one of the posts in the collection. I only included one document as the others are quite long and such have a really long output."}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1572479311, "post_id": 58634722, "comment_id": 103577061, "body": "Humour me and try <code>.where(&#39;id&#39;, &#39;==&#39;, parseInt(postID, 10))</code>"}, {"owner": {"reputation": 45, "user_id": 8351563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FCklb.png?s=128&g=1", "display_name": "Rayinator", "link": "https://stackoverflow.com/users/8351563/rayinator"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1572479528, "post_id": 58634722, "comment_id": 103577109, "body": "@Phil That seemed to have worked! If it&#39;s not too much trouble could you explain to me what that exactly did? Thanks a lot for your time."}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1572479608, "post_id": 58634722, "comment_id": 103577121, "body": "Seems the Firestore query is type-sensitive so conditions on integer values should be made using integers instead of strings"}, {"owner": {"reputation": 45, "user_id": 8351563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FCklb.png?s=128&g=1", "display_name": "Rayinator", "link": "https://stackoverflow.com/users/8351563/rayinator"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1572480587, "post_id": 58634722, "comment_id": 103577336, "body": "I probably should have realised earlier that the URL query was a string and not an integer oop."}], "answers": [{"comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "reply_to_user": {"reputation": 45, "user_id": 8351563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FCklb.png?s=128&g=1", "display_name": "Rayinator", "link": "https://stackoverflow.com/users/8351563/rayinator"}, "edited": false, "score": 0, "creation_date": 1572480529, "post_id": 58635200, "comment_id": 103577321, "body": "@Rayinator not a problem. I&#39;m actually surprised by this since the docs have examples of using strings in <code>&quot;&gt;&quot;</code> and <code>&quot;&lt;&quot;</code> comparisons ~ <a href=\"https://firebase.google.com/docs/firestore/query-data/queries#query_limitations\" rel=\"nofollow noreferrer\">firebase.google.com/docs/firestore/query-data/&hellip;</a>"}], "tags": [], "owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "is_accepted": true, "score": 2, "last_activity_date": 1572479953, "creation_date": 1572479953, "answer_id": 58635200, "question_id": 58634722, "link": "https://stackoverflow.com/questions/58634722/firestore-query-returning-empty-snapshot/58635200#58635200", "title": "Firestore query returning empty snapshot", "body": "<p>I'm quite surprised there isn't a duplicate question anywhere but here's your answer...</p>\n\n<p>Firestore's query equality conditionals are type-sensitive. If your collection property is an integer, you need to compare it to an integer instead of a string.</p>\n\n<p>For example</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>db.collection('posts').where('id', '==', parseInt(postID, 10))\n</code></pre>\n"}], "owner": {"reputation": 45, "user_id": 8351563, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FCklb.png?s=128&g=1", "display_name": "Rayinator", "link": "https://stackoverflow.com/users/8351563/rayinator"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1699, "favorite_count": 0, "accepted_answer_id": 58635200, "answer_count": 1, "score": 3, "last_activity_date": 1572479953, "creation_date": 1572476166, "last_edit_date": 1572478821, "question_id": 58634722, "link": "https://stackoverflow.com/questions/58634722/firestore-query-returning-empty-snapshot", "title": "Firestore query returning empty snapshot", "body": "<p>I have a node websocket listener set to query some data from my database. Currently however the query returns an empty snapshot even though I know that the query should return something.</p>\n\n<p>I'm making a simple node based forum (although I'm pretty new to Node so it's not that good lol) and I'm trying to query post data from the server to send back to the client. I've tried checking to see if my post references were correct and double checked that the values I'm querying exist within the collection. I've also already checked that the data was sent through the socket correctly so I'm at a loss.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nlet query = db.collection('posts').where('id','==',postID);\nquery.get().then(snapshot =&gt; {\n      if (snapshot.empty) {\n        client.emit('resPost', 'Failed');\n        return;\n      }\n      snapshot.forEach(doc =&gt; {\n        console.log(doc.data());\n        client.emit('resPost', doc.data());\n      });\n});\n</code></pre>\n\n<p>When I load the post page I get the response tied to the empty snapshot.</p>\n\n<p>Edit: As suggested by @Phil I've included a log for the <code>postID</code> variable.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>console.log('postID', typeof postID, JSON.stringify(postID))\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>postID string \"0\"\n</code></pre>\n\n<p>Here's a screenshot of the console if needed. The ClientID is the ID of the websocket connection.\n<a href=\"https://imgur.com/a/MdtwEvu\" rel=\"nofollow noreferrer\">https://imgur.com/a/MdtwEvu</a></p>\n"}, {"tags": ["javascript", "node.js", "asynchronous", "promise", "async-await"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1572475991, "post_id": 58634678, "comment_id": 103576244, "body": "<code>.then(console.log(&quot;I want to be after&quot;))</code> \u2013 <a href=\"https://stackoverflow.com/questions/7137401/why-is-the-method-executed-immediately-when-i-use-settimeout\" title=\"why is the method executed immediately when i use settimeout\">stackoverflow.com/questions/7137401/&hellip;</a>"}, {"owner": {"reputation": 168, "user_id": 10798114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qQTy3.jpg?s=128&g=1", "display_name": "Onyr", "link": "https://stackoverflow.com/users/10798114/onyr"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1572476452, "post_id": 58634678, "comment_id": 103576386, "body": "I don&#39;t really see the answer being removing the parenthesis in the setTimeout ...? I&#39;m not executing the function, just declaring it inside. Please develop"}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1572476559, "post_id": 58634678, "comment_id": 103576411, "body": "You <i>are</i> executing the function. <code>console.log(&quot;I want to be after&quot;)</code> is a function call expression, and it has to be evaluated to be used as an argument to the <code>.then()</code> call. <code>.then()</code> is like any other call in this respect. If you wanted to pass it a function, you would use <code>.then(function () { console.log(&quot;I want to be after&quot;); })</code> (as seen in the linked questions)."}, {"owner": {"reputation": 168, "user_id": 10798114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qQTy3.jpg?s=128&g=1", "display_name": "Onyr", "link": "https://stackoverflow.com/users/10798114/onyr"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1572477807, "post_id": 58634678, "comment_id": 103576718, "body": "Ok, I understood, I edited the question with the remaining interogation"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1572477938, "post_id": 58634678, "comment_id": 103576750, "body": "<code>setTimeout</code> does not return a promise, so the <code>await</code> doesn&#39;t know what to wait for. It waits for <code>undefined</code> and continues immediately. Later, the timeout fires."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1572478001, "post_id": 58634678, "comment_id": 103576762, "body": "<code>return setTimeout(() =&gt; console.log(&quot;test1, I want to be executed first&quot;), 3000)</code> isn\u2019t correct, because <code>setTimeout</code> doesn\u2019t return a promise. Converting functions that use callbacks, like <code>setTimeout</code>, without using other helper functions is a little wordy: <code>return new Promise(resolve =&gt; { setTimeout(resolve, 3000); });</code>"}, {"owner": {"reputation": 168, "user_id": 10798114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qQTy3.jpg?s=128&g=1", "display_name": "Onyr", "link": "https://stackoverflow.com/users/10798114/onyr"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1572478093, "post_id": 58634678, "comment_id": 103576784, "body": "@Bergi I don&#39;t understand? The SetTimeout is wrapped into an async function which returns a Promise? <a href=\"https://nodejs.dev/modern-asynchronous-javascript-with-async-and-await\" rel=\"nofollow noreferrer\">nodejs.dev/modern-asynchronous-javascript-with-async-and-awa&zwnj;&#8203;it</a>"}, {"owner": {"reputation": 168, "user_id": 10798114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qQTy3.jpg?s=128&g=1", "display_name": "Onyr", "link": "https://stackoverflow.com/users/10798114/onyr"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1572478186, "post_id": 58634678, "comment_id": 103576807, "body": "@Ry- This means that async is of no use then, in this situation ???"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1572478286, "post_id": 58634678, "comment_id": 103576830, "body": "@Onyr An <code>async function</code> only waits for the things that are <code>await</code>ed inside its code. It does not automagically recognise any calls that do something asynchronous. You need to explicitly promisify <code>setTimeout</code> to make it work with promises."}, {"owner": {"reputation": 168, "user_id": 10798114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qQTy3.jpg?s=128&g=1", "display_name": "Onyr", "link": "https://stackoverflow.com/users/10798114/onyr"}, "edited": false, "score": 0, "creation_date": 1572478410, "post_id": 58634678, "comment_id": 103576865, "body": "OK!!! So I still need the Promise constructor even with async functions... This is a bit strange as I understood async/await should replace Promise and Promise Constructor use... but it makes sense. Thank you !"}, {"owner": {"reputation": 168, "user_id": 10798114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qQTy3.jpg?s=128&g=1", "display_name": "Onyr", "link": "https://stackoverflow.com/users/10798114/onyr"}, "edited": false, "score": 0, "creation_date": 1572484656, "post_id": 58634678, "comment_id": 103578151, "body": "Ok, everything is finally fine. Thank you all. This can be considered closed."}], "owner": {"reputation": 168, "user_id": 10798114, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qQTy3.jpg?s=128&g=1", "display_name": "Onyr", "link": "https://stackoverflow.com/users/10798114/onyr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 377, "favorite_count": 0, "closed_date": 1572476055, "answer_count": 0, "score": 1, "last_activity_date": 1572484808, "creation_date": 1572475885, "last_edit_date": 1572484609, "question_id": 58634678, "link": "https://stackoverflow.com/questions/58634678/understanding-javascript-promises-and-async-await-to-run-synchronous-code", "closed_reason": "Duplicate", "title": "Understanding javascript promises and async/await to run synchronous code", "body": "<p>I already posted a question on this subject here on <a href=\"https://stackoverflow.com/questions/58596044/understanding-synchronous-code-using-node-js-async-await-with-mysql-pool\">StackOverflow</a>. Following the recommendations, I have tried to simplify my question. </p>\n\n<blockquote>\n  <p>I don't understand how to make synchronous code with Promises and their new polished version using async/await, despite the fact I have read and tried different approaches. </p>\n</blockquote>\n\n<p>Here, I link some good documentation on the subject, in case it can help people in the future. Basically, Promises are an answer to callback hell and a way to make code execute after some other code has been executed, making things happening synchronously since JavaScript (hence Node.js) is asynchronous by nature. Async/await is built on top of Promises and simplify the code.</p>\n\n<p><a href=\"https://nodejs.dev/understanding-javascript-promises\" rel=\"nofollow noreferrer\">understanding JavaScript Promises</a></p>\n\n<p><a href=\"https://nodejs.dev/modern-asynchronous-javascript-with-async-and-await\" rel=\"nofollow noreferrer\">modern JavaScript with async/await</a></p>\n\n<p><a href=\"https://javascript.info/async-await\" rel=\"nofollow noreferrer\">Async/await explained with examples</a></p>\n\n<p><a href=\"https://blog.pusher.com/promises-async-await/\" rel=\"nofollow noreferrer\">why moving from Promises to async/await</a></p>\n\n<p>Despite I seem to understand the concept, I can't explain the results I obtain. To better my comprehension, here is a test file using <code>node.js -v v8.10.0</code></p>\n\n<pre><code>/* This file try to use Promises and async/await to run code synchronously */\n\n/* declaration of some Promisified functions */\nconst doSomethingAsync = () =&gt; {                                    // direct declaration using new Promise and Promise.resolve()\n    return new Promise(resolve =&gt; {                                 // This is just a promise, necesiry to wait for it\n        setTimeout(() =&gt; resolve('I want to be first'), 3000);\n    });\n};\n\nconst test1 = async () =&gt; {                                         // indirect Promise declaration usind async \n    return setTimeout(() =&gt; console.log(\"test1, I want to be executed first\"), 3000);      // async =&gt; the function returns a promise hence return a resolve,\n};                                                                  // we should use await to wait for the Promise.resolve()\n\n/* create intermediate calling functions making code synchronous to use console.log() properly */\nconst doSomething = async () =&gt; {\n    console.log( await doSomethingAsync());\n};\n\nconst callTest = async () =&gt; {\n    console.log(\"hope to be executed before test1() resolve\");\n    await test1();\n    console.log(\"hope to be executed after test1() resolve\");\n}\n\n/* hope to run code synchronously in the following using .then() keyword */\nconsole.log('1');\ndoSomething();\nconsole.log('2');\ncallTest();\nconsole.log('3');\ndoSomething()\n    .then(console.log(\"I want to be after\"))\n    .catch(error =&gt;{\n        console.log(error);\n    });\nconsole.log('4');\nconsole.log( doSomethingAsync().then(console.log(\"I want to be after too\")) );\nconsole.log('5');\n// hope to run code synchronously in the following using await keyword\n(async () =&gt; {  \n\n    let test2 = await doSomethingAsync();\n    let test3 = await doSomething();\n    await test1();\n\n    console.log(`value doSomethingAsync: ${test2}`);\n    console.log(`value doSomething: ${test3}`);\n})();\nconsole.log('6');\n</code></pre>\n\n<p>What I expect is to see the code putted into the .then() keyword to be executed synchronously after Promise.resolve() fire... but it's not what I observe. See below the output of the program in my terminal:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>\u0298 node test_promises.js \n1\n2\nhope to be executed before test1() resolve\n3\nI want to be after\n4\nI want to be after too\nPromise { &lt;pending&gt; }\n5\n6\nhope to be executed after test1() resolve\ntest1, I want to be executed first\nI want to be first\nI want to be first\nI want to be first\nvalue doSomethingAsync: I want to be first\nvalue doSomething: undefined\ntest1, I want to be executed first\n</code></pre>\n\n<p>From the output, it is clear that .then() runs before the code inside the called function. </p>\n\n<p>from <a href=\"https://stackoverflow.com/questions/3884281/what-does-the-function-then-mean-in-javascript#31453579\">StackOverflow</a></p>\n\n<blockquote>\n  <p>The success or the error handler in the then function will be called only once, after the asynchronous task finishes.</p>\n</blockquote>\n\n<p>It seems not to be the case. Hence my question is straightforward:</p>\n\n<blockquote>\n  <p>Question: Why is .then() called before the asynchronous tack finish, and how to properly code with Promises, .then() and async/await (which is supposed to replace then)?</p>\n</blockquote>\n\n<p><strong>EDIT</strong></p>\n\n<p>From the answer of the community, I understand that .then() fires directly when the values passed to it are not callback functions. Hence, by modifying the .then() like so <code>.then(function() {console.log(\"I want to be after\")} )</code></p>\n\n<p>Ok, I had not understood. I get </p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>\n    \u0298 node test_promises.js \n    1\n    2\n    hope to be executed before test1() resolve\n    3\n    4\n    Promise { &lt;pending&gt; }\n    5\n    6\n    hope to be executed after test1() resolve\n    test1, I want to be executed first\n    I want to be after too\n    I want to be first\n    I want to be first\n    I want to be after\n    I want to be first\n    value doSomethingAsync: I want to be first\n    value doSomething: undefined\n    test1, I want to be executed first\n\n</code></pre>\n\n<blockquote>\n  <p>I still do not understand why the console.log()s fire before the await function call in </p>\n</blockquote>\n\n<pre><code>const callTest = async () =&gt; {\n    console.log(\"hope to be executed before test1() resolve\");\n    await test1();\n    console.log(\"hope to be executed after test1() resolve\");\n}\n</code></pre>\n\n<p>Thanks for the patience of the community</p>\n\n<p>EDIT 2 </p>\n\n<p>From the answers of the community:</p>\n\n<blockquote>\n  <p>An async function only waits for the things that are awaited inside\n  its code. It does not automagically recognise any calls that do\n  something  asynchronous. You need to explicitly promisify setTimeout\n  to make it work with promises. \u2013 Bergi  ANSWER 2: return setTimeout(()\n  => console.log(\"test1, I want to be executed first\"), 3000) isn\u2019t correct, because setTimeout doesn\u2019t return a promise.  Converting\n  functions that use callbacks, like setTimeout, without using other\n  helper functions is a little wordy:  return new Promise(resolve => {\n  setTimeout(resolve, 3000); }); \u2013 Ry-\u2666</p>\n</blockquote>\n\n<p>This means the correct code is the following:</p>\n\n<pre><code>    // declaration of some Promisified functions \n    const doSomethingAsync = () =&gt; {                                    \n        return new Promise(resolve =&gt; {                                 \n            setTimeout(() =&gt; resolve('I want to be first'), 3000);\n        });\n    };\n\n    const test1 = async () =&gt; {                                                                                         // IMPORTANT CORRECTION: use Promise constructor\n        return new Promise(resolve =&gt; { setTimeout( () =&gt; {resolve(\"test1, I want to be executed first\")}, 3000); });   // actuallu async do not transform the return\n    };                                                                                                                  // function into a Promise\n\n\n    // create intermediate calling functions making code synchronous to use console.log() properly\n    const doSomething = async () =&gt; {\n        console.log( await doSomethingAsync());\n    };\n\n    const callTest = async () =&gt; {\n        console.log(\"hope to be executed before test1() resolve\");\n        const resultTest1 = await test1();  // IMPORTANT CORRECTION: declare a variable to return the value of the executed function when exec is over, using await\n        console.log(resultTest1);\n        console.log(\"hope to be executed after test1() resolve\");\n    }\n\n    // hope to run code synchronously in the following using .then() keyword \n    console.log('1');\n    doSomething();\n    console.log('2');\n    callTest();\n    console.log('3');\n    doSomething()\n        .then(function() {console.log(\"I want to be after\")} )  // IMPORTANT CORRECTION: declare a callback function instead of executing the function\n        .catch(error =&gt;{\n            console.log(error);\n        });\n    console.log('4');\n    console.log( doSomethingAsync().then(function() {console.log(\"I want to be after too\")}) );\n    console.log('5');\n    // hope to run code synchronously in the following using await keyword, THIS IS THE \"RIGHT\" WAY TO USE ASYNC/AWAIT\n    (async () =&gt; {  \n\n        let test2 = await doSomethingAsync();\n        let test3 = await doSomething();\n        await test1();  // this is the last await, it will be the last executed code\n\n        console.log(`value doSomethingAsync: ${test2}`);\n        console.log(`value doSomething: ${test3}`);\n    })();\n    console.log('6');\n</code></pre>\n\n<p>A special thank to everyone that helped. I hope this will be useful.</p>\n"}, {"tags": ["javascript", "arrays", "filter"], "comments": [{"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 1, "creation_date": 1572476327, "post_id": 58634668, "comment_id": 103576348, "body": "This is a perfect use case for using <code>Array.prototype.filter</code>. Have you read the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter\" rel=\"nofollow noreferrer\">documentation</a>? What didn&#39;t you understand or where are you having difficulties?"}, {"owner": {"reputation": 14148, "user_id": 4604701, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8cb75b7c39263de208e368e72ad3ad1?s=128&d=identicon&r=PG&f=1", "display_name": "fubar", "link": "https://stackoverflow.com/users/4604701/fubar"}, "edited": false, "score": 1, "creation_date": 1572476435, "post_id": 58634668, "comment_id": 103576379, "body": "Also, where two objects have the same <code>st</code> and <code>ct</code> values, how do you decide which object to retain and which to remove? Keep the first found?"}, {"owner": {"reputation": 101, "user_id": 3658205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wCrW5.png?s=128&g=1", "display_name": "Ajay Kumar", "link": "https://stackoverflow.com/users/3658205/ajay-kumar"}, "edited": false, "score": 0, "creation_date": 1572478307, "post_id": 58634668, "comment_id": 103576837, "body": "const array = &lt;YOUR ARRAY OF OBJECTS&gt;; const keys = []; const filtered = array.filter(obj =&gt; {     let key = obj.st+&quot;#&quot;+obj.ct;     return !keys.includes(key) &amp;&amp; keys.push(key); });&#39;"}], "answers": [{"comments": [{"owner": {"reputation": 1281, "user_id": 6367424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2w16e.jpg?s=128&g=1", "display_name": "timotgl", "link": "https://stackoverflow.com/users/6367424/timotgl"}, "edited": false, "score": 0, "creation_date": 1572477124, "post_id": 58634787, "comment_id": 103576554, "body": "Using .findIndex gives this quadratic complexity, it&#39;s not necessary to look at so many elements in each iteration of .filter()"}, {"owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "reply_to_user": {"reputation": 1281, "user_id": 6367424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2w16e.jpg?s=128&g=1", "display_name": "timotgl", "link": "https://stackoverflow.com/users/6367424/timotgl"}, "edited": false, "score": 0, "creation_date": 1572477232, "post_id": 58634787, "comment_id": 103576578, "body": "Fair - altho unless this array is massive, it probably wont be too bad"}, {"owner": {"reputation": 1281, "user_id": 6367424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2w16e.jpg?s=128&g=1", "display_name": "timotgl", "link": "https://stackoverflow.com/users/6367424/timotgl"}, "edited": false, "score": 0, "creation_date": 1572477404, "post_id": 58634787, "comment_id": 103576620, "body": "Yeah it&#39;s a neat solution without helper variables, but truth is that .filter alone can&#39;t accomplish this."}], "tags": [], "owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "is_accepted": false, "score": -1, "last_activity_date": 1572476690, "creation_date": 1572476690, "answer_id": 58634787, "question_id": 58634668, "link": "https://stackoverflow.com/questions/58634668/filter-an-array-of-objects-so-that-no-2-objects-are-the-same/58634787#58634787", "title": "Filter an array of objects so that no 2 objects are the same", "body": "<p>You can do:</p>\n\n<pre><code>let uniqueArray = array.filter((o, i, self) =&gt; {\n    return self.findIndex(z =&gt; z.ct === o.ct &amp;&amp; z.st === o.st) !== i;\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 101, "user_id": 3658205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wCrW5.png?s=128&g=1", "display_name": "Ajay Kumar", "link": "https://stackoverflow.com/users/3658205/ajay-kumar"}, "edited": false, "score": 0, "creation_date": 1572478211, "post_id": 58634832, "comment_id": 103576813, "body": "key can be duplicate for two different objects in this case, you can create key like obj.st+&quot;#&quot;+obj.ct"}, {"owner": {"reputation": 1281, "user_id": 6367424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2w16e.jpg?s=128&g=1", "display_name": "timotgl", "link": "https://stackoverflow.com/users/6367424/timotgl"}, "reply_to_user": {"reputation": 101, "user_id": 3658205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wCrW5.png?s=128&g=1", "display_name": "Ajay Kumar", "link": "https://stackoverflow.com/users/3658205/ajay-kumar"}, "edited": false, "score": 0, "creation_date": 1572510087, "post_id": 58634832, "comment_id": 103584342, "body": "@AjayKumar No that doesn&#39;t make a difference. If the <code>st</code> and <code>ct</code> properties (which are assumed to be strings) are equal, than their concatenation is also equal."}, {"owner": {"reputation": 101, "user_id": 3658205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wCrW5.png?s=128&g=1", "display_name": "Ajay Kumar", "link": "https://stackoverflow.com/users/3658205/ajay-kumar"}, "edited": false, "score": 0, "creation_date": 1574378963, "post_id": 58634832, "comment_id": 104223034, "body": "Approach should cover all cases always"}, {"owner": {"reputation": 1281, "user_id": 6367424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2w16e.jpg?s=128&g=1", "display_name": "timotgl", "link": "https://stackoverflow.com/users/6367424/timotgl"}, "reply_to_user": {"reputation": 101, "user_id": 3658205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wCrW5.png?s=128&g=1", "display_name": "Ajay Kumar", "link": "https://stackoverflow.com/users/3658205/ajay-kumar"}, "edited": false, "score": 0, "creation_date": 1574436127, "post_id": 58634832, "comment_id": 104244678, "body": "@AjayKumar The approach does cover all cases, always. What do you mean exactly?"}, {"owner": {"reputation": 101, "user_id": 3658205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wCrW5.png?s=128&g=1", "display_name": "Ajay Kumar", "link": "https://stackoverflow.com/users/3658205/ajay-kumar"}, "edited": false, "score": 0, "creation_date": 1574454876, "post_id": 58634832, "comment_id": 104253183, "body": "As we can see the object values, ct and st can be integer from server. that&#39;s it."}, {"owner": {"reputation": 1281, "user_id": 6367424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2w16e.jpg?s=128&g=1", "display_name": "timotgl", "link": "https://stackoverflow.com/users/6367424/timotgl"}, "reply_to_user": {"reputation": 101, "user_id": 3658205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wCrW5.png?s=128&g=1", "display_name": "Ajay Kumar", "link": "https://stackoverflow.com/users/3658205/ajay-kumar"}, "edited": false, "score": 0, "creation_date": 1574498700, "post_id": 58634832, "comment_id": 104261089, "body": "@AjayKumar As we can see the object values they are clearly strings. The original question wasn&#39;t about making the algorithm work with <i>different types</i>."}, {"owner": {"reputation": 101, "user_id": 3658205, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wCrW5.png?s=128&g=1", "display_name": "Ajay Kumar", "link": "https://stackoverflow.com/users/3658205/ajay-kumar"}, "edited": false, "score": 0, "creation_date": 1574961952, "post_id": 58634832, "comment_id": 104421696, "body": "If you are wrong at some place, it\u2019s not the insult to accepting the better approach. It is good for all programmers."}], "tags": [], "owner": {"reputation": 1281, "user_id": 6367424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2w16e.jpg?s=128&g=1", "display_name": "timotgl", "link": "https://stackoverflow.com/users/6367424/timotgl"}, "is_accepted": false, "score": -1, "last_activity_date": 1572476978, "creation_date": 1572476978, "answer_id": 58634832, "question_id": 58634668, "link": "https://stackoverflow.com/questions/58634668/filter-an-array-of-objects-so-that-no-2-objects-are-the-same/58634832#58634832", "title": "Filter an array of objects so that no 2 objects are the same", "body": "<pre><code>var objects = [{\n      \"st\":\"2012\",\n      \"id\": \"43\",\n      \"ct\": \"1\",\n      \"sd\": \"2\"\n    },\n    {\n      \"st\":\"2015\",\n      \"id\": \"453\",\n      \"ct\": \"2\",\n      \"sd\": \"2\"\n    },\n    {\n        \"st\":\"2012\", // this is a duplicate\n        \"ct\":\"1\"\n    }\n];\n\n// Using a Set to keep track of uniqueness avoids iterating through the\n// entire array with methods like .findIndex()\nvar knownKeys = new Set();\n\nvar key;\nvar uniqueObjects = objects.filter(function(obj) {\n    key = obj.st + obj.ct;\n    return !knownKeys.has(key) &amp;&amp; knownKeys.add(key);\n});\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12300173, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccc0548d72eca356efa4e976f1a2d509?s=128&d=identicon&r=PG&f=1", "display_name": "TritonKid", "link": "https://stackoverflow.com/users/12300173/tritonkid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "closed_date": 1572476976, "answer_count": 2, "score": 0, "last_activity_date": 1572477195, "creation_date": 1572475809, "last_edit_date": 1572477195, "question_id": 58634668, "link": "https://stackoverflow.com/questions/58634668/filter-an-array-of-objects-so-that-no-2-objects-are-the-same", "closed_reason": "Duplicate", "title": "Filter an array of objects so that no 2 objects are the same", "body": "<p>I have the following array. If the <code>st</code> and the <code>ct</code> are the same then the objects are considered to be the same. for example the 1st and the 3rd object have the same st and ct so the 3rd should be ignored(filtered out) of the final array.  How do I filter this array so that no 2 objects are identical, preferably using the <code>array.filter</code> method? i have read the documentation I just dont get how to express what i want as the conditional for the filter function.</p>\n\n<pre><code>[{\n  \"st\": \"2012\",\n  \"id\": \"43\",\n  \"ct\": \"1\",\n  \"sd\": \"2\"\n},\n{\n  \"st\": \"2015\",\n  \"id\": \"45\",\n  \"ct\": \"2\",\n  \"sd\": \"2\"\n},\n{\n  \"st\":\"2015\",\n  \"id\": \"45\",\n  \"ct\": \"2\",\n  \"sd\": \"1\"\n},]\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "canvas"], "answers": [{"tags": [], "owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "is_accepted": true, "score": 1, "last_activity_date": 1572475907, "creation_date": 1572475907, "answer_id": 58634684, "question_id": 58634615, "link": "https://stackoverflow.com/questions/58634615/why-a-canvas-update-reload-the-page-react/58634684#58634684", "title": "Why a canvas update reload the page ? React", "body": "<p>The default type of button elements is<code>submit</code>. Try button tags like</p>\n\n<pre><code>&lt;button type=\"button\" ....\n</code></pre>\n\n<p>within the form to stop submission from them.  Text input elements may also need attention to stop pressing <code>enter</code> from submitting the form as well.</p>\n"}], "owner": {"reputation": 365, "user_id": 11925221, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-DRUUurfJFBk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcB18J__qE20QG_8e0es5mFM06K0A/photo.jpg?sz=128", "display_name": "Malaury Boudon", "link": "https://stackoverflow.com/users/11925221/malaury-boudon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 58634684, "answer_count": 1, "score": 0, "last_activity_date": 1572475907, "creation_date": 1572475470, "question_id": 58634615, "link": "https://stackoverflow.com/questions/58634615/why-a-canvas-update-reload-the-page-react", "title": "Why a canvas update reload the page ? React", "body": "<p>I would like to implement a signature system inside my form, I use \"react-signature-canvas\" for this.\nUnfortunately, when I try to use it some problem appears.</p>\n\n<p>My main problem is the reloading my page. Usually in React When you update something ,just the render changing without reloading. But here it does ... Is it linked to the canvas system ? I don't want the reload of my page... It's so ugly for a PWA.\nFor example when I click on \"clear\" or \"trim\" the page reload.</p>\n\n<p>This is my code: I removed some parts of it to be clearer</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const Consultation4 = () =&gt; {\n    const sigPad = {}\n    const [trimmedDataUrl,setTrimmedDataUrl] =  useState(null);\n\n    const clear = () =&gt; sigPad.clear();\n    const trim = () =&gt; {\n        setTrimmedDataUrl(sigPad.getTrimmedCanvas().toDataURL('image/png'));\n    }\n ...\n(In the render)\n    &lt;FormGroup tag=\"fieldset\" className=\"form-group\"&gt;\n       &lt;div className=\"container\"&gt;\n          &lt;div className=\"row\"&gt;\n             &lt;div className=\"col-4 margin-left--12px\"&gt;\n                 &lt;legend&gt;Please sign here:&lt;/legend&gt;\n             &lt;/div&gt;\n             &lt;div className=\"col-4 margin-button-clear\"&gt;\n                &lt;button onClick={clear} className=\"btn btn-outline-secondary btn-sm\"&gt;Clear&lt;/button&gt;\n             &lt;/div&gt;\n             &lt;div className=\"col-4 margin-button-clear\"&gt;\n                &lt;button onClick={trim} className=\"btn btn-outline-secondary btn-sm\"&gt;Trim&lt;/button&gt;\n             &lt;/div&gt;\n          &lt;/div&gt;\n       &lt;/div&gt;\n\n       &lt;div className='border_grey'&gt;\n          &lt;SignaturePad ref={sigPad} /&gt;\n       &lt;/div&gt;\n   &lt;/FormGroup&gt;\n   {trimmedDataUrl ? &lt;img src={trimmedDataUrl}/&gt; : null}\n}\n</code></pre>\n\n<p>Could you help me please ? Thanks in advance</p>\n\n<p>PS: I have a second little problem, when I try to use <code>sigPad.isEmpty()</code> the compilator said \"<em>this method does not exist</em>\". But it exist in the doc of signature-pad-canvas (<a href=\"https://www.npmjs.com/package/react-signature-canvas\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/react-signature-canvas</a>).</p>\n"}, {"tags": ["javascript", "jestjs"], "comments": [{"owner": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "edited": false, "score": 1, "creation_date": 1572475721, "post_id": 58634607, "comment_id": 103576181, "body": "atob(&#39;some_string&#39;) ?"}, {"owner": {"reputation": 173, "user_id": 11838261, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TVBexwP9iRU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf12owhv6XUc51IeMufTxYuiduLmg/photo.jpg=k-s128", "display_name": "AjjjHsh", "link": "https://stackoverflow.com/users/11838261/ajjjhsh"}, "reply_to_user": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "edited": false, "score": 0, "creation_date": 1572476412, "post_id": 58634607, "comment_id": 103576372, "body": "the question is how to mock a jest test using onload from FileReader and return a base 64 string"}, {"owner": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "edited": false, "score": 0, "creation_date": 1572476450, "post_id": 58634607, "comment_id": 103576385, "body": "what have you tried? What problem are you facing ?"}], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 11838261, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TVBexwP9iRU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf12owhv6XUc51IeMufTxYuiduLmg/photo.jpg=k-s128", "display_name": "AjjjHsh", "link": "https://stackoverflow.com/users/11838261/ajjjhsh"}, "edited": false, "score": 0, "creation_date": 1572487374, "post_id": 58635373, "comment_id": 103578702, "body": "thanks, but the problem is with FileReader. I don&#39;t know how to mock specific function like onload. because I have to simulate a click on input file on view."}, {"owner": {"reputation": 1153, "user_id": 3422257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a04e0de07e2e710f21e22e70e2a8df4?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/3422257/robert"}, "reply_to_user": {"reputation": 173, "user_id": 11838261, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TVBexwP9iRU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf12owhv6XUc51IeMufTxYuiduLmg/photo.jpg=k-s128", "display_name": "AjjjHsh", "link": "https://stackoverflow.com/users/11838261/ajjjhsh"}, "edited": false, "score": 0, "creation_date": 1573068099, "post_id": 58635373, "comment_id": 103764354, "body": "I&#39;m a little confused still by your question.  Are you saying you&#39;d like to add a test for when a user clicks on an input file? If so, you should test these things separately: 1) Test that a method is called with the right arguments when the file is clicked. 2) Test the actual method with those arguments to ensure that the result is what you expect. Test #1, to be honest, is more of an &quot;integration test&quot; rather than a &quot;unit test&quot;. You may need to use a different tool, since mocking is mainly intended for unit tests."}, {"owner": {"reputation": 1153, "user_id": 3422257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a04e0de07e2e710f21e22e70e2a8df4?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/3422257/robert"}, "reply_to_user": {"reputation": 173, "user_id": 11838261, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TVBexwP9iRU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf12owhv6XUc51IeMufTxYuiduLmg/photo.jpg=k-s128", "display_name": "AjjjHsh", "link": "https://stackoverflow.com/users/11838261/ajjjhsh"}, "edited": false, "score": 0, "creation_date": 1573068197, "post_id": 58635373, "comment_id": 103764391, "body": "Generally speaking, the ideal unit test is one that tests whether or not a function returns a certain result given a set of arguments. The main point of mocking is to be able to test your methods without the additional setup/environment differences that a production environment. For examp"}], "tags": [], "owner": {"reputation": 1153, "user_id": 3422257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a04e0de07e2e710f21e22e70e2a8df4?s=128&d=identicon&r=PG", "display_name": "robert", "link": "https://stackoverflow.com/users/3422257/robert"}, "is_accepted": false, "score": 1, "last_activity_date": 1572481480, "creation_date": 1572481480, "answer_id": 58635373, "question_id": 58634607, "link": "https://stackoverflow.com/questions/58634607/how-to-mock-a-function-that-returns-base-64-string/58635373#58635373", "title": "How to mock a function that returns base 64 string", "body": "<p>On a high level, you can try to move the base64String extraction to its own function, then mock that function:</p>\n\n<pre><code>reader.getBase64String = () =&gt; {\n  return btoa(reader.result)\n}\n\nreader.onload = () =&gt; {\n  let base64String = reader.getBase64String()\n  // rest of implementation\n};\n</code></pre>\n\n<p>Then, in your test (this is pseudo-code, might not compile):</p>\n\n<pre><code>MyTestReader extends Reader {\n  this.getBase64String = () =&gt; {\n    return \"SSBsaWtlIHRvIExPTAo=\"\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 11838261, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-TVBexwP9iRU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf12owhv6XUc51IeMufTxYuiduLmg/photo.jpg=k-s128", "display_name": "AjjjHsh", "link": "https://stackoverflow.com/users/11838261/ajjjhsh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 336, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1572504422, "creation_date": 1572475435, "last_edit_date": 1572504422, "question_id": 58634607, "link": "https://stackoverflow.com/questions/58634607/how-to-mock-a-function-that-returns-base-64-string", "title": "How to mock a function that returns base 64 string", "body": "<p>I have a vue component that has a function:</p>\n\n<pre><code>...\nreader.onload = () =&gt; {\n    let base64String = btoa(reader.result);\n  };\n...\n</code></pre>\n\n<p>The base64 string is from a file input using a FileReader.\nI need to pass the base 64 string to the API but on a test with jest, how can I mock reader.onLoad() to return just a simples base64 string?</p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript", "jquery", "html", "loops"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 1, "creation_date": 1572475296, "post_id": 58634568, "comment_id": 103576069, "body": "What line gets the array from YouTube and have you logged the return value right there at that spot?"}, {"owner": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "edited": false, "score": 1, "creation_date": 1572475378, "post_id": 58634568, "comment_id": 103576091, "body": "asynchronous javascript api call probably"}, {"owner": {"reputation": 20731, "user_id": 2181514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pS2Yo.jpg?s=128&g=1", "display_name": "freedomn-m", "link": "https://stackoverflow.com/users/2181514/freedomn-m"}, "edited": false, "score": 0, "creation_date": 1572477781, "post_id": 58634568, "comment_id": 103576707, "body": "What does this show you <code>console.log(i);</code> and <code>console.log(v);</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 18, "user_id": 11847179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09dd53fd68284402ed4fe3886f580b13?s=128&d=identicon&r=PG&f=1", "display_name": "BRHSoftCo", "link": "https://stackoverflow.com/users/11847179/brhsoftco"}, "edited": false, "score": 0, "creation_date": 1572480920, "post_id": 58634659, "comment_id": 103577413, "body": "Thankyou, but when I fixed the code with your suggested improvements - the problem still persists. My full code is in the updated post"}], "tags": [], "owner": {"reputation": 304, "user_id": 9890295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANAh3.jpg?s=128&g=1", "display_name": "CalamityAdam", "link": "https://stackoverflow.com/users/9890295/calamityadam"}, "is_accepted": true, "score": 2, "last_activity_date": 1572475757, "creation_date": 1572475757, "answer_id": 58634659, "question_id": 58634568, "link": "https://stackoverflow.com/questions/58634568/javascript-array-has-elements-but-length-is-zero/58634659#58634659", "title": "JavaScript array has elements but length is zero", "body": "<p>It looks like your <code>.forEach()</code> is the root of the problem. <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach\" rel=\"nofollow noreferrer\">The parameters of a <code>forEach</code></a> are <code>currentValue, index</code> like this: <code>array.forEach(function(currentValue, index) {});</code> but it looks like you're using them in the opposite way</p>\n\n<p>Try rewriting that iteration to this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>    ytFill.forEach(function(v, i) {\n        console.log(i);\n        ytdlOptions.append(new Option(v.fmt_quality, v.fmt_id));\n    });\n</code></pre>\n\n<p>Notice the difference in the order of <code>v</code> and <code>i</code> in the parameters.</p>\n"}], "owner": {"reputation": 18, "user_id": 11847179, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09dd53fd68284402ed4fe3886f580b13?s=128&d=identicon&r=PG&f=1", "display_name": "BRHSoftCo", "link": "https://stackoverflow.com/users/11847179/brhsoftco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 58634659, "answer_count": 1, "score": 0, "last_activity_date": 1572480997, "creation_date": 1572475204, "last_edit_date": 1572480997, "question_id": 58634568, "link": "https://stackoverflow.com/questions/58634568/javascript-array-has-elements-but-length-is-zero", "title": "JavaScript array has elements but length is zero", "body": "<p>I've done some searching around the web and nothing seems to solve my problem. I have the following jQuery code:</p>\n\n<pre><code>function youtube_data_parser(data) {\n    //---&gt; parse video data - start\n    var qsToJson = function(qs) {\n        var res = {};\n        var pars = qs.split('&amp;');\n        var kv, k, v;\n        for (i in pars) {\n            kv = pars[i].split('=');\n            k = kv[0];\n            v = kv[1];\n            res[k] = decodeURIComponent(v);\n        }\n        return res;\n    }\n    //---&gt; parse video data - end\n\n    var get_video_info = qsToJson(data);\n\n    if (get_video_info.status == 'fail') {\n        return {\n            status: \"error\",\n            code: \"invalid_url\",\n            msg: \"check your url or video id\"\n        };\n\n    } else {\n        // remapping urls into an array of objects\n\n        //---&gt;parse &gt; url_encoded_fmt_stream_map &gt; start\n\n        //will get the video urls\n        var tmp = get_video_info[\"url_encoded_fmt_stream_map\"];\n        if (tmp) {\n            tmp = tmp.split(',');\n            for (i in tmp) {\n                tmp[i] = qsToJson(tmp[i]);\n            }\n            get_video_info[\"url_encoded_fmt_stream_map\"] = tmp;\n        }\n        //---&gt;parse &gt; url_encoded_fmt_stream_map &gt; end\n\n\n        //---&gt;parse &gt; player_response &gt; start\n        var tmp1 = get_video_info[\"player_response\"];\n        if (tmp1) {\n            get_video_info[\"player_response\"] = JSON.parse(tmp1);\n        }\n        //---&gt;parse &gt; player_response &gt; end\n\n        //---&gt;parse &gt; keywords &gt; start\n        var keywords = get_video_info[\"keywords\"];\n        if (keywords) {\n            key_words = keywords.replace(/\\+/g, ' ').split(',');\n            for (i in key_words) {\n                keywords[i] = qsToJson(key_words[i]);\n            }\n            get_video_info[\"keywords\"] = {\n                all: keywords.replace(/\\+/g, ' '),\n                arr: key_words\n            };\n        }\n        //---&gt;parse &gt; keywords &gt; end\n\n        //return data\n        return {\n            status: 'success',\n            raw_data: qsToJson(data),\n            video_info: get_video_info\n        };\n    }\n}\n\nfunction getVideoInfo() {\n\n    var get_video_url = $('#ytdlUrl').val();\n\n    var get_video_id = getUrlVars(get_video_url)['v'];\n\n    var video_arr_final = [];\n\n    var ajax_url = \"video_info.php?id=\" + get_video_id;\n\n    $.get(ajax_url, function(d1) {\n\n        var data = youtube_data_parser(d1);\n\n\n        var video_data = data.video_info;\n\n        var player_info = data.video_info.player_response;\n\n        var video_title = player_info.videoDetails.title.replace(/\\+/g, ' ');\n\n        var fmt_list = video_data.fmt_list.split(',');\n\n        var video_thumbnail_url = video_data.thumbnail_url;\n\n        var video_arr = video_data.url_encoded_fmt_stream_map;\n\n        //create video file array\n        $.each(video_arr, function(i1, v1) {\n            var valueToPush = {};\n            valueToPush.video_url = v1.url;\n            valueToPush.video_thumbnail_url = video_thumbnail_url;\n            valueToPush.video_title = video_title;\n\n            $.each(fmt_list, function(i2, v2) {\n                var fmt = v2.split('/');\n                var fmt_id = fmt[0];\n                var fmt_quality = fmt[1];\n                if (fmt_id == v1.itag) {\n                    valueToPush.fmt_id = fmt_id;\n                    valueToPush.fmt_quality = fmt_quality;\n                }\n            });\n\n            video_arr_final.push(valueToPush);\n        });\n    });\n    return video_arr_final;\n}\n\nfunction getUrlVars(url) {\n    var vars = {};\n    var parts = url.replace(/[?&amp;]+([^=&amp;]+)=([^&amp;]*)/gi, function(m, key, value) {\n        vars[key] = value;\n    });\n    return vars;\n}\n\nfunction fillInOptions(ytOptions) {\n    //console.log(ytOptions);\n    //alert(ytOptions[0]);\n    var ytFill = ytOptions;\n    console.log(ytFill);\n    //ytFill.forEach(function(i,v) {\n\n    var ytdlOptions = $('#ytdlOptions');\n    ytFill.forEach(function(i,v) {\n        console.log(i);\n        ytdlOptions.append(new Option(v.fmt_quality, v.fmt_id));\n    });\n    return true;\n}\n\n\nfunction showYTDLLoader() {\n    $('#ytdlInput').fadeOut(1000, function() {\n        $('#ytdlLoader').fadeIn(500);\n    });\n    var options = getVideoInfo();\n    //console.log(options);\n\n    if (fillInOptions(options) == true) {\n        //do rest\n    }\n}\n\nfunction showYTDLOptions() {\n    return true;\n}\n\nfunction startDownload() {\n    showYTDLLoader();\n}\n\nfunction hideYTDLLoader() {\n    $('#ytdlLoader').fadeOut(500);\n}\n\nfunction animateCSS(element, animationName, callback) {\n    const node = $(element);\n    node.addClass(animationName);\n\n    function handleAnimationEnd() {\n        node.removeClass(animationName);\n        node.animationend = null;\n\n        if (typeof callback === 'function') callback();\n    }\n\n    node.animationend = handleAnimationEnd();\n}\n</code></pre>\n\n<p>When my button is clicked, I call showYTDLLoader() which gets an array of objects from the YouTube API that looks like this:</p>\n\n<pre><code>[\n  {\n    \"video_url\": \"https://r7---sn-uxanug5-cox6.googlevideo.com/videoplayback?expire=1572496003&amp;ei=Iw66Xa24H8PL3LUPiN25mAs&amp;ip=2001%3A8003%3A749b%3Aa01%3A5cd8%3Ac610%3A6402%3Ad0fe&amp;id=o-ADsVnoOoBQ6-SWzYZU7gHES06s7xQptJG6hn9WcakITY&amp;itag=22&amp;source=youtube&amp;requiressl=yes&amp;mm=31%2C29&amp;mn=sn-uxanug5-cox6%2Csn-ntqe6n7r&amp;ms=au%2Crdu&amp;mv=m&amp;mvi=6&amp;pl=39&amp;initcwndbps=1655000&amp;mime=video%2Fmp4&amp;ratebypass=yes&amp;dur=917.768&amp;lmt=1572418007364260&amp;mt=1572474311&amp;fvip=4&amp;fexp=23842630&amp;c=WEB&amp;txp=5535432&amp;sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cratebypass%2Cdur%2Clmt&amp;sig=ALgxI2wwRgIhAIp-4gyUTLoXFetbY0ha_YnR7DJqsp_MNjjIxqDdfPZJAiEA_WPd21jgX9broBcigf8rcSEVoJb2_NX7t3XZQqytsSM%3D&amp;lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&amp;lsig=AHylml4wRAIgacvP3zjEq-rVEZFrX7a_hC6TR-Zab7Ii-Fbaupjs_PcCIHdZht4l4ioYL3ERz7WNiSbnOnhm5iYxEECaQXPP2hUp\",\n    \"video_title\": \"Arnold Schwarzenegger on Son-in-law Chris Pratt, Pranking Sylvester Stallone &amp; Terminator\u2019s Return\",\n    \"fmt_id\": \"22\",\n    \"fmt_quality\": \"1280x720\"\n  },\n  {\n    \"video_url\": \"https://r7---sn-uxanug5-cox6.googlevideo.com/videoplayback?expire=1572496003&amp;ei=Iw66Xa24H8PL3LUPiN25mAs&amp;ip=2001%3A8003%3A749b%3Aa01%3A5cd8%3Ac610%3A6402%3Ad0fe&amp;id=o-ADsVnoOoBQ6-SWzYZU7gHES06s7xQptJG6hn9WcakITY&amp;itag=18&amp;source=youtube&amp;requiressl=yes&amp;mm=31%2C29&amp;mn=sn-uxanug5-cox6%2Csn-ntqe6n7r&amp;ms=au%2Crdu&amp;mv=m&amp;mvi=6&amp;pl=39&amp;initcwndbps=1655000&amp;mime=video%2Fmp4&amp;gir=yes&amp;clen=44248820&amp;ratebypass=yes&amp;dur=917.768&amp;lmt=1572416976690256&amp;mt=1572474311&amp;fvip=4&amp;fexp=23842630&amp;c=WEB&amp;txp=5531432&amp;sparams=expire%2Cei%2Cip%2Cid%2Citag%2Csource%2Crequiressl%2Cmime%2Cgir%2Cclen%2Cratebypass%2Cdur%2Clmt&amp;sig=ALgxI2wwRQIhANTZJlBHFWQWCnfK11yvLiPUV26c6NzvqIMKjDwmsByMAiBUSy0ZJMo4GdHSiRU4xBDDLxLtzwKZAqAKCiB-1aViDQ%3D%3D&amp;lsparams=mm%2Cmn%2Cms%2Cmv%2Cmvi%2Cpl%2Cinitcwndbps&amp;lsig=AHylml4wRAIgacvP3zjEq-rVEZFrX7a_hC6TR-Zab7Ii-Fbaupjs_PcCIHdZht4l4ioYL3ERz7WNiSbnOnhm5iYxEECaQXPP2hUp\",\n    \"video_title\": \"Arnold Schwarzenegger on Son-in-law Chris Pratt, Pranking Sylvester Stallone &amp; Terminator\u2019s Return\",\n    \"fmt_id\": \"18\",\n    \"fmt_quality\": \"640x360\"\n  }\n]\n</code></pre>\n\n<p>But when I try and loop through each entry with fillInOptions(), my loop is never completed because the length is apparently zero. However, when I dump the array using console.log() it tells me the length is 2, and displays the above. I need to be able to add each option to my dropdown.</p>\n\n<p>Thankyou!</p>\n\n<p>UPDATE: Added full code, sorry!</p>\n"}, {"tags": ["javascript", "jquery", "jquery-steps"], "answers": [{"tags": [], "owner": {"reputation": 1819, "user_id": 1051504, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7b84e12051a5158ea08c079b9e131e7?s=128&d=identicon&r=PG", "display_name": "Bluety", "link": "https://stackoverflow.com/users/1051504/bluety"}, "is_accepted": true, "score": 1, "last_activity_date": 1572482117, "creation_date": 1572482117, "answer_id": 58635441, "question_id": 58634547, "link": "https://stackoverflow.com/questions/58634547/jquery-steps-wrapper/58635441#58635441", "title": "JQuery Steps Wrapper", "body": "<p>you need to manipulate the DOM and elements generated with JS to give him the right structure.</p>\n\n<pre><code>// Insert new div contains your steps    \n$('&lt;div id=\"steps\"&gt;&lt;/div&gt;').insertBefore('.submit');\n\n// Loop each step\n$('.wrapper').each(function(){\n    // Add to steps container, the title\n    $('#steps').append('&lt;div class=\"title\"&gt;' + $(this).find('label').text() + '&lt;/div&gt;');\n    // Add to steps container, the content\n    $('#steps').append('&lt;div class=\"content\"&gt;' + $(this).find('.some-other-class').html() + '&lt;/div&gt;');\n    // Remove useless code\n    $(this).remove();\n\n});\n\n// Now, you have the right structure, you can fire your lib script\n$(\"#steps\").steps({\n    headerTag: \".title\",\n    bodyTag: \".content\",\n    transitionEffect: \"slideLeft\",\n    autoFocus: true\n});\n</code></pre>\n"}], "owner": {"reputation": 767, "user_id": 4576720, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/YsT74.jpg?s=128&g=1", "display_name": "Rain Man", "link": "https://stackoverflow.com/users/4576720/rain-man"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 216, "favorite_count": 0, "accepted_answer_id": 58635441, "answer_count": 1, "score": 0, "last_activity_date": 1572482117, "creation_date": 1572475074, "last_edit_date": 1572475542, "question_id": 58634547, "link": "https://stackoverflow.com/questions/58634547/jquery-steps-wrapper", "title": "JQuery Steps Wrapper", "body": "<p>I am using <a href=\"http://www.jquery-steps.com/Examples\" rel=\"nofollow noreferrer\">jQuery Steps library</a> but my form structure is generated and I can't change it. I have a structure similar to this: </p>\n\n<pre><code>&lt;form method=\"POST\" action=\"#\" id=\"form\"&gt;\n    &lt;div&gt;\n        &lt;div&gt;some necessary content&lt;/div&gt;\n        &lt;div&gt;some necessary content&lt;/div&gt;\n\n        &lt;div id=\"\" class=\"wrapper\" data-name=\"group\"&gt;\n            &lt;div class=\"another-class\"&gt;\n                &lt;label&gt;Group&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;div class=\"some-other-class\"&gt;\n                more codes\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"\" class=\"wrapper\" data-name=\"group\"&gt;\n            &lt;div class=\"another-class\"&gt;\n                &lt;label&gt;Group&lt;/label&gt;\n            &lt;/div&gt;\n            &lt;div class=\"some-other-class\"&gt;\n                more codes\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n\n        &lt;div class=\"submit\"&gt;\n            &lt;button type=\"submit\"&gt;Submit&lt;/button&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>the problem is that jQuery Steps doesnt work with wrappers for title and content</p>\n\n<pre><code>$(\"#form\").steps({\n    headerTag: \".wrapper label\",\n    bodyTag: \".wrapper .some-other-class\",\n    transitionEffect: \"slideLeft\",\n    autoFocus: true\n});\n</code></pre>\n\n<p>here is my first attempt: <a href=\"https://jsfiddle.net/f4bq5rco/\" rel=\"nofollow noreferrer\">fiddle</a> \nand also here is my second attempt: <a href=\"https://jsfiddle.net/cr89wvdp/\" rel=\"nofollow noreferrer\">fiddle</a></p>\n\n<p>So I want a step for each <code>wrapper</code> div with label as title of the step but I can't get it to work. </p>\n"}, {"tags": ["javascript", "c#", "asp.net", "asp.net-core", "razor-pages"], "answers": [{"tags": [], "owner": {"reputation": 13628, "user_id": 11398810, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JCTFx.jpg?s=128&g=1", "display_name": "Rena", "link": "https://stackoverflow.com/users/11398810/rena"}, "is_accepted": true, "score": 1, "last_activity_date": 1572492525, "creation_date": 1572492525, "answer_id": 58636554, "question_id": 58634543, "link": "https://stackoverflow.com/questions/58634543/how-to-pass-a-parameter-to-a-javascript-function-that-populates-a-div-from-a-pag/58636554#58636554", "title": "How to pass a parameter to a javascript function that populates a div from a page model to its Razor Page?", "body": "<p>For we do not have <code>merchant ID</code>,<code>Public key</code> and<code>Private key</code>,be sure that you have generated the correct token,then you could try this:</p>\n\n<p>1.IndexModel():</p>\n\n<pre><code>private readonly IJSRuntime _jsRuntime;\n\npublic IndexModel(IJSRuntime jsRuntime)\n{\n    _jsRuntime = jsRuntime;\n}\n\n[BindProperty]\npublic string clientToken { get; set; }\n\npublic void OnGet()\n{\n    // Create gateway\n    var gateway = new BraintreeGateway\n    {\n        Environment = Braintree.Environment.SANDBOX,\n        MerchantId = \"xxxxxxx\",\n        PublicKey = \"xxxxxxx\",\n        PrivateKey = \"xxxxxxx\"\n    };\n\n    clientToken = gateway.ClientToken.Generate();\n\n    JSRuntimeExtensions.InvokeVoidAsync(_jsRuntime, \"configureBraintreeClient\", clientToken);\n}\n</code></pre>\n\n<p>2.Razor Page(no need to use function):</p>\n\n<pre><code>&lt;div id=\"dropin-container\"&gt;&lt;/div&gt;\n&lt;button id=\"submit-button\"&gt;Request payment method&lt;/button&gt;\n\n&lt;script src=\"https://js.braintreegateway.com/web/dropin/1.20.4/js/dropin.min.js\"&gt;\n&lt;/script&gt;\n    &lt;script&gt;\n            var button = document.querySelector('#submit-button');\n            braintree.dropin.create({\n                authorization: '@Model.clientToken',\n                container: '#dropin-container'\n            }, function (createErr, instance) {\n                button.addEventListener('click', function () {\n                    instance.requestPaymentMethod(function (requestPaymentMethodErr, payload) {\n                        // Submit payload.nonce to your server\n                    });\n            });\n        });\n    &lt;/script&gt;\n</code></pre>\n\n<p>3.Test(You could see that the token has filled into the js):\n<a href=\"https://i.stack.imgur.com/mPnok.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mPnok.gif\" alt=\"enter image description here\"></a>\nReference:</p>\n\n<p><a href=\"https://developers.braintreepayments.com/start/hello-client/javascript/v3\" rel=\"nofollow noreferrer\">https://developers.braintreepayments.com/start/hello-client/javascript/v3</a></p>\n\n<blockquote>\n  <p>I can insert a client token directly into the markup and it runs perfectly, so it has something to do with passing the client token to the page from the page model. Should I not be using the JSRuntime extension?</p>\n</blockquote>\n\n<p>For this,if you want to use client token,I suggest that you could refer to:\n<a href=\"https://developers.braintreepayments.com/start/tutorial-drop-in-node\" rel=\"nofollow noreferrer\">https://developers.braintreepayments.com/start/tutorial-drop-in-node</a></p>\n\n<p>For authorization,you could also use <a href=\"https://developers.braintreepayments.com/guides/authorization/tokenization-key/javascript/v3\" rel=\"nofollow noreferrer\">tokenization key</a>.</p>\n"}], "owner": {"reputation": 117, "user_id": 11843295, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lrHbpiro94o/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd8Tqm0aug9phZAi1wBig-4sR5OBg/photo.jpg?sz=128", "display_name": "Collin Brittain", "link": "https://stackoverflow.com/users/11843295/collin-brittain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "accepted_answer_id": 58636554, "answer_count": 1, "score": 0, "last_activity_date": 1572492525, "creation_date": 1572475041, "question_id": 58634543, "link": "https://stackoverflow.com/questions/58634543/how-to-pass-a-parameter-to-a-javascript-function-that-populates-a-div-from-a-pag", "title": "How to pass a parameter to a javascript function that populates a div from a page model to its Razor Page?", "body": "<p>I am trying to use Braintree's payment DropinUI, and configuring it requires sending a generated token\nto a javascript function in my page. I have the following markup in my Razor Page:</p>\n\n<pre><code>&lt;div id=\"dropin-container\"&gt;&lt;/div&gt;\n&lt;button id=\"submit-button\"&gt;Request payment method&lt;/button&gt;\n&lt;script&gt;\n    function configureBraintreeClient(clientToken) {\n        var button = document.querySelector('#submit-button');\n\n        braintree.dropin.create({\n            authorization: clientToken,\n            container: '#dropin-container'\n        }, function (createErr, instance) {\n            button.addEventListener('click', function () {\n                instance.requestPaymentMethod(function (requestPaymentMethodErr, payload) {\n                    // Submit payload.nonce to your server\n                });\n        });\n    });\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>The div #dropin-container is populated by the result of the function configureBraintreeClient. So, I need to pass in a clientToken when the page loads.</p>\n\n<p>My page model to generate a client token:</p>\n\n<pre><code>public class IndexModel : PageModel\n    {\n        private readonly IJSRuntime _jsRuntime;\n\n        public IndexModel(IJSRuntime jsRuntime)\n        {\n            _jsRuntime = jsRuntime;\n        }\n\n        public IActionResult OnGet()\n        {\n            // Create gateway\n            var gateway = new BraintreeGateway\n            {\n                Environment = Environment.SANDBOX,\n                MerchantId = \"xxxxxxx\",\n                PublicKey = \"xxxxxxx\",\n                PrivateKey = \"xxxxxxx\"\n            };\n\n            var clientToken = gateway.ClientToken.Generate();\n\n            JSRuntimeExtensions.InvokeVoidAsync(_jsRuntime, \"configureBraintreeClient\", clientToken);\n\n            // Not sure if this is needed, doesn't work with return type of \n            // void and this line removed either.\n            Page();\n        }\n    }\n</code></pre>\n\n<p>This does not work. The div is never populated.</p>\n\n<p><strong>I can insert a client token directly into the markup and it runs perfectly</strong>, so it has something to do with passing the client token\nto the page from the page model. Should I not be using the JSRuntime extension? </p>\n\n<p>I've tried setting the client token as a model property and inserting it in the function with razor syntax like <code>authorization: @Model.ClientToken</code>\nbut it doesn't work.</p>\n\n<p>I've tried to dig around to understand the page life cycle better but nothing I have found has helped me figure out this issue.</p>\n\n<p>I see no errors in the developer console of my browser or in Visual Studio, but I don't know a lot about debugging javascript in ASP .NET Core.</p>\n\n<p>What's the proper way to pass a parameter into a javascript function that updates a div like this?</p>\n"}, {"tags": ["javascript", "reactjs", "redux", "jwt"], "comments": [{"owner": {"reputation": 336, "user_id": 5044211, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ZI7krqujLsI/AAAAAAAAAAI/AAAAAAAAAFk/9tBCpZCltxg/photo.jpg?sz=128", "display_name": "MiDas", "link": "https://stackoverflow.com/users/5044211/midas"}, "edited": false, "score": 1, "creation_date": 1572476261, "post_id": 58634500, "comment_id": 103576323, "body": "<a href=\"https://github.com/supasate/connected-react-router\" rel=\"nofollow noreferrer\">github.com/supasate/connected-react-router</a>, allows you to dispatch history methods like push, pop, etc in your actions on success or failure. so in the authLogin, you would fire the history.push(&quot;/&quot;) to redirect on a success api call."}], "answers": [{"comments": [{"owner": {"reputation": 95, "user_id": 10819754, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JwnjsTaHQ5Y/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYKOBE-Ic4728iSKDBZrEAdZ9NZwg/mo/photo.jpg?sz=128", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10819754/valentin"}, "edited": false, "score": 0, "creation_date": 1572505571, "post_id": 58634780, "comment_id": 103582683, "body": "This is perfect ! Thank you ! Just a quick question about the user experience. Now that he is authenticated and has his token, what is the best way for him to access his profile page ? Do I have to do a GET request to get this particular user based on the token ? Is there any better solution ?"}, {"owner": {"reputation": 16219, "user_id": 8011544, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-YtCjSKj6bBY/AAAAAAAAAAI/AAAAAAAAAAs/xLARQPguzJs/photo.jpg?sz=128", "display_name": "Melchia", "link": "https://stackoverflow.com/users/8011544/melchia"}, "reply_to_user": {"reputation": 95, "user_id": 10819754, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JwnjsTaHQ5Y/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYKOBE-Ic4728iSKDBZrEAdZ9NZwg/mo/photo.jpg?sz=128", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10819754/valentin"}, "edited": false, "score": 1, "creation_date": 1572510268, "post_id": 58634780, "comment_id": 103584429, "body": "Aside from sensitive information you can include in the token profile information or er else you need to add an api for this kind of information."}], "tags": [], "owner": {"reputation": 16219, "user_id": 8011544, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-YtCjSKj6bBY/AAAAAAAAAAI/AAAAAAAAAAs/xLARQPguzJs/photo.jpg?sz=128", "display_name": "Melchia", "link": "https://stackoverflow.com/users/8011544/melchia"}, "is_accepted": true, "score": 2, "last_activity_date": 1572477398, "last_edit_date": 1572477398, "creation_date": 1572476626, "answer_id": 58634780, "question_id": 58634500, "link": "https://stackoverflow.com/questions/58634500/redux-and-token-authentication-how-to-redirect-the-user/58634780#58634780", "title": "Redux and Token Authentication : how to redirect the user", "body": "<p>I would suggest removing the history.push code and let react-router handle the redirection:</p>\n\n<pre><code>import { Route, Redirect } from 'react-router'\n...\n&lt;Switch&gt;\n                    &lt;Route exact\n                           path=\"/:category\"\n                           render={routerProps =&gt; &lt;HomePageStream {...routerProps}/&gt;}\n                    /&gt;\n                    &lt;Route exact\n                           path=\"/article/:slug\"\n                           render={routerProps =&gt; &lt;ArticleDetails {...routerProps}/&gt;}\n                    /&gt;\n                    &lt;Route exact\n                           path=\"/authentication/login\"\n                           render={ routerProps =&gt; (this.props.isAuthenticated ? (&lt;Redirect to=\"/\"/&gt;) :(&lt;Login {...routerProps}{...this.props}/&gt;))}\n                    /&gt;\n&lt;/Switch&gt;\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 10819754, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-JwnjsTaHQ5Y/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYKOBE-Ic4728iSKDBZrEAdZ9NZwg/mo/photo.jpg?sz=128", "display_name": "Valentin", "link": "https://stackoverflow.com/users/10819754/valentin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 0, "accepted_answer_id": 58634780, "answer_count": 1, "score": 2, "last_activity_date": 1572477398, "creation_date": 1572474688, "last_edit_date": 1572476670, "question_id": 58634500, "link": "https://stackoverflow.com/questions/58634500/redux-and-token-authentication-how-to-redirect-the-user", "title": "Redux and Token Authentication : how to redirect the user", "body": "<p>I made my own Django rest Framework API and I included token authentication. Everything works fine, I can get tokens and stuff, BUT, I have some trouble redirecting my user, using : </p>\n\n<blockquote>\n  <p>this.props.push('/');</p>\n</blockquote>\n\n<p>Here is the Logic behind the authentication for the UI : </p>\n\n<pre><code>import React, {Component} from 'react';\nimport { connect } from 'react-redux';\nimport {authLogin} from '../../actions/authentication.js';\n\nclass Login extends Component {\n\n  constructor(props){\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\"\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(e){\n    this.setState({[e.target.name]: e.target.value});\n  }\n\n  handleSubmit(e){\n    e.preventDefault();\n    this.props.authLogin(this.state.email, this.state.password);\n    console.log(this.props.isAuthenticated);\n    console.log(this.props.loading);\n      if (this.props.isAuthenticated){\n        this.props.history.push('/');\n    }\n  }\n\n  render(){\n    return(\n      &lt;div className=\"Login\"&gt;\n        &lt;h1&gt; This is a form &lt;/h1&gt;\n        &lt;form&gt;\n          &lt;input type=\"text\" onChange={this.handleChange} name=\"email\"/&gt;\n          &lt;input type=\"password\" onChange={this.handleChange} name=\"password\"/&gt;\n          &lt;input type=\"submit\" onClick={this.handleSubmit}/&gt;\n          { this.props.isAuthenticated &amp;&amp;\n            &lt;p&gt;Hello &lt;/p&gt;\n          }\n        &lt;/form&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n\nconst mapStateToProps = state =&gt; {\n  console.log(state);\n  return {\n    token: state.authentication.token\n  }\n}\n\nexport default connect(mapStateToProps, {authLogin})(Login);\n</code></pre>\n\n<p>This Login Component is inside a Container Component and this is where I want my Redux to tell \" hey, here is the new token \" : </p>\n\n<pre><code>import React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport {connect } from 'react-redux';\nimport AppHeader from './header/AppHeader';\nimport HomePageStream from './HomePageStream/HomePageStream.js';\nimport HeaderCategories from './header/HeaderCategories.js';\nimport ArticleDetails from './ArticleDetails/ArticleDetails.js';\nimport { Route, Switch } from 'react-router-dom';\nimport { transitions, positions, Provider as AlertProvider } from 'react-alert'\nimport AlertTemplate from 'react-alert-template-basic'\nimport Alerts from './Alerts/Alerts.js';\nimport {authStateCheck} from '../actions/authentication.js';\nimport { Provider } from 'react-redux'\nimport { store } from '../store.js';\nimport { BrowserRouter } from \"react-router-dom\";\nimport Login from './Authentication/Login.js';\n\n\nconst options = {\n  timeout: 2000,\n  position: \"top center\"\n}\n\n\nclass Container extends Component {\n\n  componentDidMount(){\n    this.props.authStateCheck();\n  }\n\n  render(){\n    return(\n      &lt;div className=\"Container\"&gt;\n        &lt;Provider store={store}&gt;\n            &lt;AlertProvider template={AlertTemplate}\n                           {...options}\n            &gt;\n            &lt;AppHeader /&gt;\n            &lt;Alerts /&gt;\n            &lt;HeaderCategories /&gt;\n            &lt;Switch&gt;\n                &lt;Route exact\n                       path=\"/:category\"\n                       render={routerProps =&gt; &lt;HomePageStream {...routerProps}/&gt;}\n                /&gt;\n                &lt;Route exact\n                       path=\"/article/:slug\"\n                       render={routerProps =&gt; &lt;ArticleDetails {...routerProps}/&gt;}\n                /&gt;\n                &lt;Route exact\n                       path=\"/authentication/login\"\n                       render={ routerProps =&gt; &lt;Login {...routerProps}{...this.props}/&gt;}\n                /&gt;\n            &lt;/Switch&gt;\n            &lt;/AlertProvider&gt;\n        &lt;/Provider &gt;\n      &lt;/div&gt;\n    )\n  }\n}\n\nconst mapStateToProps = state =&gt; {\n  console.log(state.authentication);\n  return {\n    isAuthenticated: state.authentication.token !== null,\n    loading: state.authentication.loading\n  }\n}\n\nexport default connect(mapStateToProps, {authStateCheck} )(Container);\n</code></pre>\n\n<p>Here is the Problem : \nWhen I click on submit, isAuthenticated is false, because I only get the token AFTER handleSubmit() has been called ! </p>\n\n<p>Here is the code for my action : </p>\n\n<pre><code>import axios from 'axios';\nimport {AUTH_START, AUTH_FAIL, AUTH_SUCESS, AUTH_LOGOUT} from './type';\n\n\nexport const authStart = () =&gt; {\n  return {\n    type: AUTH_START,\n    loading: true\n  };\n}\n\nexport const authSucess = token =&gt; {\n  console.log(token);\n  return {\n    type: AUTH_SUCESS,\n    token: token,\n    error: null,\n    loading: false\n  };\n}\n\nexport const authFail = error =&gt; {\n  console.log(error)\n  return {\n    token: null,\n    type: AUTH_FAIL,\n    error: error,\n    loading: false\n  };\n}\n\n\nexport const logout = () =&gt; {\n  window.localStorage.removeItem('token');\n  window.localStorage.removeItem('expiration_time');\n  return {\n    type: AUTH_LOGOUT\n  }\n}\n\n\nexport const checkAuthTimeOut = expiration_time =&gt; dispatch =&gt; {\n  return setTimeout(()=&gt; {\n    dispatch(logout());\n  }, expiration_time * 1000);\n}\n\n\n\nexport const authLogin = (email, password) =&gt; dispatch =&gt; {\n  dispatch(authStart());\n  console.log(\"I'm authlogin ! \");\n  axios.post('http://127.0.0.1:8000/rest-auth/login/',{\n      \"email\": email,\n      \"password\": password\n  })\n  .then( res =&gt; {\n    console.log(\"RESPONSE !\")\n    const token = res.data.key\n    const expiration_time = new Date(new Date().getTime() + 3600 * 1000);\n    window.localStorage.setItem('token', token);\n    window.localStorage.setItem('expiration_time', expiration_time);\n    dispatch(authSucess(token));\n    console.log(token);\n    dispatch(checkAuthTimeOut(3600));\n  })\n  .catch( err =&gt; {\n    console.log(err);\n    dispatch(authFail());\n  })\n}\n\n\nexport const authStateCheck = () =&gt; dispatch =&gt; {\n  const expiration_time = window.localStorage.getItem('expiration_time');\n  const token = window.localStorage.getItem('token');\n  if (!token){\n    return dispatch(logout());\n  } else if ( expiration_time &lt;= new Date()){\n    console.log(\"EXPIRATION\");\n    console.log( expiration_time &lt;= new Date() )\n    return dispatch(logout());\n  } else {\n    console.log(\"NEW TIMER !!!! \");\n    return checkAuthTimeOut((expiration_time - new Date().getTime()) / 1000)\n  }\n}\n</code></pre>\n\n<p>Here is my reducer : </p>\n\n<pre><code>import {AUTH_START, AUTH_FAIL, AUTH_SUCESS, AUTH_LOGOUT} from '../../actions/type';\n\n\nconst initialState = {\n  error: null,\n  token: null,\n  loading: false\n}\n\nexport function authenticationReducer(state = initialState, action){\n  switch (action.type) {\n    case AUTH_START:\n      return {\n        ...state,\n        loading: true\n      }\n    case AUTH_SUCESS:\n      console.log(action.token);\n      console.log(action.loading);\n      return {\n        ...state,\n        error: null,\n        token: action.token,\n        loading: false\n      }\n\n    case AUTH_FAIL:\n      return {\n        ...state,\n        error: action.error\n      }\n    default:\n      return state\n\n  }\n}\n</code></pre>\n\n<p>But if i hit submit one more time, it works. But i really want my user to be immediately redirected. How can I fix this ?? </p>\n\n<p>B\nThank you so much ;( </p>\n"}, {"tags": ["javascript", "regex"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 12115561, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iF48RiZtCEU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reruafFbGW5PaZAQT1cQPvJPqNVRA/photo.jpg?sz=128", "display_name": "hammertime", "link": "https://stackoverflow.com/users/12115561/hammertime"}, "edited": false, "score": 0, "creation_date": 1572533701, "post_id": 58634601, "comment_id": 103597063, "body": "Thanks! this is great. Is there a way i can do this for multiple lines though? ie. if there is a list of hrefs in text, can i change them all in this format?"}, {"owner": {"reputation": 83, "user_id": 12115561, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iF48RiZtCEU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reruafFbGW5PaZAQT1cQPvJPqNVRA/photo.jpg?sz=128", "display_name": "hammertime", "link": "https://stackoverflow.com/users/12115561/hammertime"}, "edited": false, "score": 0, "creation_date": 1572536273, "post_id": 58634601, "comment_id": 103598573, "body": "I just did a string.split and replaced every specific line, this worked wonders. Thanks a bunch Nick!"}, {"owner": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "reply_to_user": {"reputation": 83, "user_id": 12115561, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iF48RiZtCEU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reruafFbGW5PaZAQT1cQPvJPqNVRA/photo.jpg?sz=128", "display_name": "hammertime", "link": "https://stackoverflow.com/users/12115561/hammertime"}, "edited": false, "score": 0, "creation_date": 1572551805, "post_id": 58634601, "comment_id": 103605649, "body": "@hammertime no worries - glad I could help. If this did answer your question, please consider marking the answer accepted (the check mark under the up/down vote arrows). See <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "tags": [], "owner": {"reputation": 117184, "user_id": 9473764, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGMXl.jpg?s=128&g=1", "display_name": "Nick", "link": "https://stackoverflow.com/users/9473764/nick"}, "is_accepted": true, "score": 1, "last_activity_date": 1572475406, "creation_date": 1572475406, "answer_id": 58634601, "question_id": 58634492, "link": "https://stackoverflow.com/questions/58634492/regex-for-filename-at-end-of-href-attribute-replace-filepath-with-filename/58634601#58634601", "title": "Regex for filename at end of href attribute (replace filepath with filename)", "body": "<p>You could use a regex to remove the text you don't want to keep (i.e. everything between the <code>href=\"</code> and the filename:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let href = 'xlink:href=\"file://C:\\\\x\\\\y &amp;amp; DRAWINGS\\\\z - CONTROLLED\\\\a \\\\testsvg-A01.svg\"';\r\nconsole.log(href);\r\nconsole.log(href.replace(/href=\".*?([^\\\\\\/]+)$/, 'href=\"$1'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Note I've used <code>[\\\\\\/]</code> to allow for Unix and Windows style filenames, if you only want Windows style filenames that can simply be <code>[\\\\]</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": false, "score": 1, "last_activity_date": 1572475526, "creation_date": 1572475526, "answer_id": 58634620, "question_id": 58634492, "link": "https://stackoverflow.com/questions/58634492/regex-for-filename-at-end-of-href-attribute-replace-filepath-with-filename/58634620#58634620", "title": "Regex for filename at end of href attribute (replace filepath with filename)", "body": "<p>First, keep in mind that backslashes in strings need to be escaped, as the backslash <em>itself</em> is an escape character. You'll likely want to escape these as <code>\\\\</code>.</p>\n\n<p>After doing this, you can make use of a positive look-behind on the <code>\\</code> with the regex <code>(?&lt;=\\\\)[^\\\\]*</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var xlink = \"file://C:\\\\x\\\\y &amp; DRAWINGS\\\\z - CONTROLLED\\\\a \\\\testsvg-A01.svg\";\r\nvar regex = /(?&lt;=\\\\)[^\\\\]*/gm;\r\nconsole.log(xlink.match(regex));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This splits the string into each of the folders (which may be useful within itself), though if you exclusively want the filename, you can use <code>xlink.match(regex)[4]</code> (assuming the length is consistent), or <code>xlink.match(regex)[xlink.match(regex).length - 1]</code> if it isn't.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var xlink = \"file://C:\\\\x\\\\y &amp; DRAWINGS\\\\z - CONTROLLED\\\\a \\\\testsvg-A01.svg\";\r\nvar regex = /(?&lt;=\\\\)[^\\\\]*/gm;\r\nconsole.log(xlink.match(regex)[xlink.match(regex).length - 1]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 83, "user_id": 12115561, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-iF48RiZtCEU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reruafFbGW5PaZAQT1cQPvJPqNVRA/photo.jpg?sz=128", "display_name": "hammertime", "link": "https://stackoverflow.com/users/12115561/hammertime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 58634601, "answer_count": 2, "score": 0, "last_activity_date": 1572475526, "creation_date": 1572474655, "last_edit_date": 1572475144, "question_id": 58634492, "link": "https://stackoverflow.com/questions/58634492/regex-for-filename-at-end-of-href-attribute-replace-filepath-with-filename", "title": "Regex for filename at end of href attribute (replace filepath with filename)", "body": "<p>I am trying to replace the filepath with just the filename using regex, and struggling.</p>\n\n<p>I take a list of text like this:</p>\n\n<pre><code>xlink:href=\"file://C:\\x\\y &amp;amp; DRAWINGS\\z - CONTROLLED\\a \\testsvg-A01.svg\"\n</code></pre>\n\n<p>and i just want to output </p>\n\n<pre><code>xlink:href=\"testsvg-A01.svg\"\n</code></pre>\n\n<p>I can get there with separate regex (javascript) with several bits of regex as such:</p>\n\n<pre><code>let inQuotes = hrefs[0].match(/\"(.*?)\"/gm);\ninQuotes = inQuotes[0].match(/([^\\\\]+$)/gm);\ninQuotes = inQuotes[0].replace(/\"/g, \"\");\n</code></pre>\n\n<p>this will return just the filename, but i was wondering if there was a way to take this and replace the original text to the desired style.</p>\n\n<p>EDIT:</p>\n\n<p>i can get it for a single occurrance with this line of code:</p>\n\n<pre><code>let testHrefs = outText.match(/xlink:href=\"(.*?)\"/gm)[0].match(/\"(.*?)\"/gm)[0].match(/([^\\\\]+$)/gm)[0].replace(/^/, 'xlink:href=\"');\n</code></pre>\n\n<p>but it looks awful and doesn't completely do what i want. Any advice?</p>\n"}, {"tags": ["javascript", "arrays", "filter"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1572474947, "post_id": 58634490, "comment_id": 103575974, "body": "Show your best attempt. Did you read any of the questions about how to compare arrrays?"}, {"owner": {"reputation": 147, "user_id": 12273093, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a639336fafb2bffe9ca5e5ea20b35dbb?s=128&d=identicon&r=PG&f=1", "display_name": "maciejze", "link": "https://stackoverflow.com/users/12273093/maciejze"}, "edited": false, "score": 0, "creation_date": 1572475018, "post_id": 58634490, "comment_id": 103575998, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/7837456/how-to-compare-arrays-in-javascript\">How to compare arrays in JavaScript?</a>"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1572475487, "post_id": 58634490, "comment_id": 103576120, "body": "If <code>arr2</code> had elements that did not exist in <code>arr1</code> would you want those as well? That is, are you looking for an element-wise <code>arr1 &amp; !arr2</code>, or <code>arr1 ^ arr2</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "edited": false, "score": 1, "creation_date": 1572475932, "post_id": 58634602, "comment_id": 103576226, "body": "The complexity is O(n^3) with the nested looping. Probably better to create a Map ?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "reply_to_user": {"reputation": 5387, "user_id": 8453502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/niGrT.jpg?s=128&g=1", "display_name": "Dhananjai Pai", "link": "https://stackoverflow.com/users/8453502/dhananjai-pai"}, "edited": false, "score": 0, "creation_date": 1572476056, "post_id": 58634602, "comment_id": 103576269, "body": "@DhananjaiPai it really depends on the data. Creating and populating a map will be slower up until the point it&#39;s not and you will still need some way to test equality be comparing arrays or stringified versions of them."}], "tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": true, "score": 2, "last_activity_date": 1572475995, "last_edit_date": 1572475995, "creation_date": 1572475409, "answer_id": 58634602, "question_id": 58634490, "link": "https://stackoverflow.com/questions/58634490/how-to-find-differences-between-two-arrays-with-nested-arrays/58634602#58634602", "title": "How to find differences between two arrays with nested arrays", "body": "<p>You can filter on <code>arr1</code> with the predicate there isn't <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\"><code>some</code></a> element in <code>arr2</code> where all items match.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr1 = [ [1, 1], [1, 2, 3], [1, 3], [1, 4], [1, 5], [1, 6]];\r\nvar arr2 = [ [1, 1], [1, 2], [1, 5]];\r\n\r\nlet filtered = arr1.filter(a =&gt; \r\n   !arr2.some(a2 =&gt; a.length === a2.length &amp;&amp; a2.every((n, i) =&gt; n === a[i] ))\r\n)\r\n\r\nconsole.log(filtered)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can make this more efficient at the expense of additional space if your lists are long enough to warrant it.</p>\n"}], "owner": {"reputation": 15, "user_id": 11336654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8af36d1a4893c49cdb9383cca21820fd?s=128&d=identicon&r=PG&f=1", "display_name": "me-and-viy", "link": "https://stackoverflow.com/users/11336654/me-and-viy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 58634602, "answer_count": 1, "score": 0, "last_activity_date": 1572476368, "creation_date": 1572474634, "question_id": 58634490, "link": "https://stackoverflow.com/questions/58634490/how-to-find-differences-between-two-arrays-with-nested-arrays", "title": "How to find differences between two arrays with nested arrays", "body": "<p>How to find differences between two arrays which have arrays nested inside?\nI tried different approaches including filter but not succeeded.\nWe have two arrays:</p>\n\n<pre><code>var arr1 = [ [1, 1], [1, 2], [1, 3], [1, 4], [1, 5], [1, 6]];\nvar arr2 = [ [1, 1], [1, 2], [1, 5]];\n</code></pre>\n\n<p>All I need is to get an array with elements which do not exist in the first array as a result: \n    [[1, 3], [1, 4], [1, 6]]</p>\n"}, {"tags": ["javascript", "css", "vue.js", "svg", "laravel-blade"], "comments": [{"owner": {"reputation": 17076, "user_id": 11940, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/681e3955c0fbd1b331d85cade3d92399?s=128&d=identicon&r=PG", "display_name": "Raphael Schweikert", "link": "https://stackoverflow.com/users/11940/raphael-schweikert"}, "edited": false, "score": 2, "creation_date": 1572474961, "post_id": 58634459, "comment_id": 103575979, "body": "The <a href=\"https://stackoverflow.com/a/23218877\">referenced answer</a> contains a call to <code>encodeURIComponent</code> which you seem to be missing. Data URIs are URIs and must be valid as such. Typical SVG code contains many chars that are not valid or have special meaning in URIs unless escaped."}, {"owner": {"reputation": 590, "user_id": 2487047, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0774ea9f7d06177855061d4cc20a15f5?s=128&d=identicon&r=PG", "display_name": "Pida", "link": "https://stackoverflow.com/users/2487047/pida"}, "reply_to_user": {"reputation": 17076, "user_id": 11940, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/681e3955c0fbd1b331d85cade3d92399?s=128&d=identicon&r=PG", "display_name": "Raphael Schweikert", "link": "https://stackoverflow.com/users/11940/raphael-schweikert"}, "edited": false, "score": 0, "creation_date": 1572475703, "post_id": 58634459, "comment_id": 103576176, "body": "Thanks, I wasn&#39;t aware I missed a line from that answer. When adding it, the string I store is changed (for example <code>&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt;</code> becomes <code>&quot;%3C%3Fxml%20version%3D%221.0%22%20standalone%3D%22no%22%3F%&zwnj;&#8203;3E&quot;</code>), but my problem remains."}, {"owner": {"reputation": 17076, "user_id": 11940, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/681e3955c0fbd1b331d85cade3d92399?s=128&d=identicon&r=PG", "display_name": "Raphael Schweikert", "link": "https://stackoverflow.com/users/11940/raphael-schweikert"}, "edited": false, "score": 2, "creation_date": 1572503014, "post_id": 58634459, "comment_id": 103581895, "body": "\u201cI also tried prefixing the svg variable above with <code>data:image&#47;svg+xml;charset=utf-8,</code>, which didn&#39;t help\u201d \u2013 this, too, is a must. If you paste that entire string to the URL bar, it should display the SVG. If it doesn\u2019t, using it in CSS can\u2019t work either. Also try surrounding the URL with quotes in the CSS <code>url</code> function."}], "owner": {"reputation": 590, "user_id": 2487047, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0774ea9f7d06177855061d4cc20a15f5?s=128&d=identicon&r=PG", "display_name": "Pida", "link": "https://stackoverflow.com/users/2487047/pida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 151, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572510942, "creation_date": 1572474428, "last_edit_date": 1572510942, "question_id": 58634459, "link": "https://stackoverflow.com/questions/58634459/display-svg-stored-as-data-uri-using-background-image-why-is-property-value-inv", "title": "Display SVG stored as data URI using background-image: Why is property value invalid?", "body": "<p>I store SVG files as data URIs in MySQL. Later I want to display the SVGs as images again using the CSS <code>background-image</code> property.</p>\n\n<p>This is how I produce the data URI (following <a href=\"https://stackoverflow.com/a/23218877\">this answer</a>).</p>\n\n<pre><code>// SVG element\nlet svg = document.getElementById('tree-svg');\n\n// SVG as string\nlet serializer = new XMLSerializer();\nlet svgSource = serializer.serializeToString(svg);\n\n// Add name spaces\nif (! svgSource.match(/^&lt;svg[^&gt;]+xmlns = \"http\\:\\/\\/www\\.w3\\.org\\/2000\\/svg\"/)) {\n    svgSource = svgSource.replace(/^&lt;svg/, '&lt;svg xmlns=\"http://www.w3.org/2000/svg\"');\n}\nif (! svgSource.match(/^&lt;svg[^&gt;] + \"http\\:\\/\\/www\\.w3\\.org\\/1999\\/xlink\"/)) {\n    svgSource = svgSource.replace(/^&lt;svg/, '&lt;svg xmlns:xlink=\"http://www.w3.org/1999/xlink\"');\n}\n\n// XML declaration\nsvgSource = '&lt;?xml version=\"1.0\" standalone=\"no\"?&gt;\\r\\n' + svgSource;\n\n// data URI\nlet svgUri = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(svgSource);\n</code></pre>\n\n<p>I store <code>svgUri</code> as a blob in MySQL. This is a sample string representing a simple SVG:</p>\n\n<pre><code>data:image/svg+xml;charset=utf-8,%3C%3Fxml%20version%3D%221.0%22%20standalone%3D%22no%22%3F%3E%0D%0A%3Csvg%20xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20id%3D%22tree-svg%22%20viewBox%3D%220%200%20700%20500%22%3E%3Cg%20transform%3D%22translate(40%2C%2040)%22%3E%3Ctext%20class%3D%22node-text%22%20y%3D%2220%22%20x%3D%2223.192203521728516%22%20id%3D%22n0%22%3Eone%3Ctspan%20class%3D%22node-subscript%22%3E1%3C%2Ftspan%3E%3C%2Ftext%3E%3Cline%20x1%3D%2223.192203521728516%22%20y1%3D%2240%22%20stroke-width%3D%222%22%20id%3D%22n0%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E\n</code></pre>\n\n<p>This is the CSS to display the SVG as an image (this is Blade template syntax, but as I can see in dev tools, the string from my database is rendered correctly between the parentheses):</p>\n\n<p><strong>edit: I added the quotes in the below code sample after reading a comment. It's working now.</strong></p>\n\n<pre><code>background-image: url(\"{!! $sentence['svg'] !!}\")\n</code></pre>\n\n<p>This doesn't work yet, nothing is rendered. The div I attach the background image to is empty. If I paste the string from MySQL to a URL bar, the SVG is displayed correctly. </p>\n\n<p>What do I need to change in my JS code and or in CSS to display the SVG as <code>background-image</code>?</p>\n"}, {"tags": ["javascript", "intellij-idea"], "comments": [{"owner": {"reputation": 492, "user_id": 8283700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3cb88d8a8fd714de32bd4bc9587ce93?s=128&d=identicon&r=PG&f=1", "display_name": "Oksana", "link": "https://stackoverflow.com/users/8283700/oksana"}, "edited": false, "score": 0, "creation_date": 1572619848, "post_id": 58634407, "comment_id": 103625564, "body": "JSDoc comment describing <code>event.target</code>&#39;s type should help here."}, {"owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "reply_to_user": {"reputation": 492, "user_id": 8283700, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3cb88d8a8fd714de32bd4bc9587ce93?s=128&d=identicon&r=PG&f=1", "display_name": "Oksana", "link": "https://stackoverflow.com/users/8283700/oksana"}, "edited": false, "score": 0, "creation_date": 1572631463, "post_id": 58634407, "comment_id": 103630958, "body": "Isn&#39;t that built-in? Not sure where I would put that."}], "answers": [{"tags": [], "owner": {"reputation": 72396, "user_id": 2274212, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f05f19aded7e6cfc60f184796e8e02a4?s=128&d=identicon&r=PG", "display_name": "lena", "link": "https://stackoverflow.com/users/2274212/lena"}, "is_accepted": true, "score": 1, "last_activity_date": 1573144746, "creation_date": 1573144746, "answer_id": 58753326, "question_id": 58634407, "link": "https://stackoverflow.com/questions/58634407/how-to-tell-intellij-about-javascript-event-properties-so-it-stops-warning-about/58753326#58753326", "title": "How to tell IntelliJ about javascript event properties so it stops warning about undefined props?", "body": "<p>The IDE has no idea what your target element is, and <code>EventTarget</code> interface doesn't have <code>classList</code> property. You need to explicitly tell the IDE the type of the HTMLElement which is your target. For example:</p>\n\n<pre><code>document.getElementById('myId').onclick = async event =&gt; {\n  const target = /** Element */ event.target;\n  if (target.classList.contains\n</code></pre>\n"}], "owner": {"reputation": 4026, "user_id": 1117848, "user_type": "registered", "accept_rate": 73, "profile_image": "https://graph.facebook.com/1215059/picture?type=large", "display_name": "Benjamin H", "link": "https://stackoverflow.com/users/1117848/benjamin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 220, "favorite_count": 0, "accepted_answer_id": 58753326, "answer_count": 1, "score": 0, "last_activity_date": 1573144746, "creation_date": 1572474028, "question_id": 58634407, "link": "https://stackoverflow.com/questions/58634407/how-to-tell-intellij-about-javascript-event-properties-so-it-stops-warning-about", "title": "How to tell IntelliJ about javascript event properties so it stops warning about undefined props?", "body": "<p>IntelliJ seems to constantly complain about \"Unresolved variable\" for JavaScript.</p>\n\n<p>For example, in </p>\n\n<pre><code>document.getElementById('myId').onclick = async event =&gt; {\n    if (event.target.classList.contains...\n</code></pre>\n\n<p>it will underline <code>classList</code> with a warning \"Unresolved variable classList\"</p>\n\n<p>classList is a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/classList\" rel=\"nofollow noreferrer\">well defined property</a>.  But an <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget\" rel=\"nofollow noreferrer\">EventTarget</a> could in theory be other things.  Is there a \"right\" way to code or annotate it such that IntelliJ doesn't complain?</p>\n"}, {"tags": ["javascript", "vuejs2", "vue-cli"], "comments": [{"owner": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1572478918, "post_id": 58634328, "comment_id": 103576969, "body": "Hi, I&#39;ve edited your question for formatting. You should format it correctly yourself next time. Also check your spelling, &quot;fucntion&quot; makes you look sloppy and careless and such questions don&#39;t tend to attract good answers. You may want to read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and then <a href=\"https://stackoverflow.com/posts/58634328/edit\">edit</a> your question to add the code you&#39;ve tried. Include what happened when you ran it, and what you expected to happen instead. Any errors?"}, {"owner": {"reputation": 3, "user_id": 12205357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfe6f234b81da32fd5bdf13a6c14a859?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Cuba", "link": "https://stackoverflow.com/users/12205357/carlos-cuba"}, "reply_to_user": {"reputation": 4644, "user_id": 1431720, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/f5a1388d4d3b2bf03b11bb5658c68c29?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/1431720/robert"}, "edited": false, "score": 0, "creation_date": 1572503220, "post_id": 58634328, "comment_id": 103581955, "body": "Ok thanks !!Next time would be more careful"}], "owner": {"reputation": 3, "user_id": 12205357, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfe6f234b81da32fd5bdf13a6c14a859?s=128&d=identicon&r=PG&f=1", "display_name": "Carlos Cuba", "link": "https://stackoverflow.com/users/12205357/carlos-cuba"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572478918, "creation_date": 1572473513, "last_edit_date": 1572478918, "question_id": 58634328, "link": "https://stackoverflow.com/questions/58634328/how-to-export-tags-and-computed-functions-to-main-app-vue-from-components-in-vue", "title": "how to export tags and computed functions to main App.vue from components in VueCLI", "body": "<p>I'm at the very start with VUE CLI 3, and was wondering if I could make clean my code importing from the components to the main App.vue such things like tags inside the template of those components, or even computed functions of that components, here on detail my problem:</p>\n\n<p>This is one of my components (header), and I want to export that input tag and its computed function to the main App.vue without precisely write all that template code and scripts in there. </p>\n\n<pre><code>&lt;template&gt;\n    &lt;div&gt;\n       &lt;input type='text' v-model='search' placeholder='Search for Tittle or Author'/&gt;\n    &lt;/div&gt;\n&lt;/template&gt;\n&lt;script&gt;\nexport default {\n    name:\"header\",\n    props:{\n        header:Object\n    },\n    computed: {\n       filteredTitles:function()\n       {\n         return this.bookLists.filter((data)=&gt;{return data.title.toUpperCase().includes(this.search.toUpperCase())})\n       }\n    }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>This is my App.Vue file already with that component imported, but the point is even the element already was imported , the input doesn't show up, unless I write its code inside the App.vue template tag in fact.</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div id=\"app\"&gt;\n    &lt;div class=\"card-flipping\"&gt;\n      &lt;books v-for=\"(books,index) in bookLists\" v-bind:key=\"index\" v-bind:books=\"books\" /&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport books from \"./components/books.vue\";\nimport header from './components/header.vue';\n\nexport default {\n  name: \"app\",\n  components: {\n    header,\n    books,\n\n  },\n  data() {\n    return {\n      bookLists: []\n    };\n  },\n  methods: {\n    getJsonData() {\n      fetch(\" https://api.myjson.com/bins/zyv02 \", {\n        method: \"GET\"\n      })\n        .then(response =&gt; {\n          return response.json();\n        })\n        .then(bookStore =&gt; {\n          this.bookLists = bookStore.books;\n        })\n        .catch(error =&gt; {\n          console.log(error);\n        });\n    }\n  },\n  computed: {\n       filteredTitles:function()\n       {\n         return this.bookLists.filter((data)=&gt;{return data.title.toUpperCase().includes(this.search.toUpperCase())})\n       }\n    },\n  created() {\n    this.getJsonData();\n  }\n};\n&lt;/script&gt;\n</code></pre>\n\n<p>Could somebody help me please?</p>\n"}, {"tags": ["javascript", "html", "css", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 4183650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07e58acf158fde250947a585239d508?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/4183650/ayesha"}, "edited": false, "score": 0, "creation_date": 1572506243, "post_id": 58634545, "comment_id": 103582891, "body": "I have tried to set the input type=&quot;button&quot;, but its the same. My problem is I want to clear all the text from inputfield and set the checkbox and select option to &#39;reset&#39;, when clicked on &#39;Clear all&#39; button. Thanks!"}], "tags": [], "owner": {"reputation": 11, "user_id": 10814185, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/628674bbeff5b2843ff968b1671b5177?s=128&d=identicon&r=PG&f=1", "display_name": "Tony B", "link": "https://stackoverflow.com/users/10814185/tony-b"}, "is_accepted": false, "score": 1, "last_activity_date": 1572475042, "creation_date": 1572475042, "answer_id": 58634545, "question_id": 58634325, "link": "https://stackoverflow.com/questions/58634325/form-clearing-all-the-text-and-other-components-element-when-clicked-on-button/58634545#58634545", "title": "Form-Clearing all the text and other components element when clicked on button", "body": "<p>You may want to try changing:</p>\n\n<pre><code>&lt;input type=\"submit\" value=\"Submit\" onClick={this.onSubmitHandler} /&gt;\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>&lt;input type=\"button\" value=\"Submit\" onClick={this.onSubmitHandler} /&gt;\n</code></pre>\n\n<p>By default \"submit\" is going to try to submit the data and wait for a response. Setting it to a type of button to \"button\" should not try to submit anymore.</p>\n"}, {"comments": [{"owner": {"reputation": 93, "user_id": 4183650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07e58acf158fde250947a585239d508?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/4183650/ayesha"}, "edited": false, "score": 1, "creation_date": 1572648173, "post_id": 58641680, "comment_id": 103636281, "body": "Thanks you so much for the explainations, haven&#39;t tried yet but i will soon and let you know. thanks again!"}, {"owner": {"reputation": 93, "user_id": 4183650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07e58acf158fde250947a585239d508?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/4183650/ayesha"}, "edited": false, "score": 0, "creation_date": 1572739882, "post_id": 58641680, "comment_id": 103653792, "body": "S I have now completed the form and thanks for your help, when you said &quot;so you still need to do a small clean up and pass the state down to your Form component.&quot; what did you meant exactly ? i have set the index state to &#39;title&#39; and have passes that to Form.js as props. or did you meant something else. here is the link to my code: <a href=\"https://codesandbox.io/s/reactforms-k59d8\" rel=\"nofollow noreferrer\">codesandbox.io/s/reactforms-k59d8</a>"}, {"owner": {"reputation": 248, "user_id": 5803564, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aeb4214b1b88af6ad5793d7452e4a894?s=128&d=identicon&r=PG&f=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/5803564/egor"}, "reply_to_user": {"reputation": 93, "user_id": 4183650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07e58acf158fde250947a585239d508?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/4183650/ayesha"}, "edited": false, "score": 0, "creation_date": 1572766900, "post_id": 58641680, "comment_id": 103656906, "body": "You did right, by &quot;clean up&quot; I meant that, currently, your state is inside of the form (local state of a component) and if you want to display data from input fields/radio buttons and so on somewhere outside of the form component, you cannot do that easily. If there is no need to do that just stick with your solution, otherwise take a look at <a href=\"https://reactjs.org/docs/thinking-in-react.html\" rel=\"nofollow noreferrer\">reactjs.org/docs/thinking-in-react.html</a> and see how state is used only in the top level component (FilterableProductTable) and gets passed to child components (code a bit old there but not the idea)."}, {"owner": {"reputation": 93, "user_id": 4183650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07e58acf158fde250947a585239d508?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/4183650/ayesha"}, "edited": false, "score": 0, "creation_date": 1572812181, "post_id": 58641680, "comment_id": 103667727, "body": "S, I have one issue though,I created a Modal component which shows on clicking the &#39;Submit&#39; button and all the fields values in it. So far so good, but when I clicked on &#39;clear all&#39; button , &#228;ven the information in the MODAL component goes away, which I don&#39;t want. I wan to keep the information in modal and just clear the Html elements ( like textinputm select, radiobutton and so on). I don&#39;t understand the reason why it&#39;s behaving in this way. Will be gratefull for your help. My code: <a href=\"https://codesandbox.io/s/reactforms-k59d8\" rel=\"nofollow noreferrer\">codesandbox.io/s/reactforms-k59d8</a>"}, {"owner": {"reputation": 248, "user_id": 5803564, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aeb4214b1b88af6ad5793d7452e4a894?s=128&d=identicon&r=PG&f=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/5803564/egor"}, "reply_to_user": {"reputation": 93, "user_id": 4183650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07e58acf158fde250947a585239d508?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/4183650/ayesha"}, "edited": false, "score": 0, "creation_date": 1572854760, "post_id": 58641680, "comment_id": 103676521, "body": "Please create another question for that, it seems it&#39;s not related to the current question"}, {"owner": {"reputation": 93, "user_id": 4183650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07e58acf158fde250947a585239d508?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/4183650/ayesha"}, "edited": false, "score": 0, "creation_date": 1572855192, "post_id": 58641680, "comment_id": 103676713, "body": "Ok Thanks for letting me know, I will create another question for this soon."}], "tags": [], "owner": {"reputation": 248, "user_id": 5803564, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aeb4214b1b88af6ad5793d7452e4a894?s=128&d=identicon&r=PG&f=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/5803564/egor"}, "is_accepted": true, "score": 2, "last_activity_date": 1572519176, "last_edit_date": 1572519176, "creation_date": 1572518864, "answer_id": 58641680, "question_id": 58634325, "link": "https://stackoverflow.com/questions/58634325/form-clearing-all-the-text-and-other-components-element-when-clicked-on-button/58641680#58641680", "title": "Form-Clearing all the text and other components element when clicked on button", "body": "<p>I noticed some stuff and re-work your code, please see all changes here <a href=\"https://codesandbox.io/s/reactforms-r6w6p?fontsize=14\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/reactforms-r6w6p?fontsize=14</a>. I removed some fields to show you the basic idea, after that you should be able to apply it to other fields.</p>\n\n<p>Explanation:</p>\n\n<ul>\n<li>First things first: react app has a single state, be sure that you don't create a state for every component (I removed all states except one in the <code>Form</code> component), now you have only one source of truth. Well actually you have one more state in <code>index.js</code> so you still need to do a small clean up and pass the state down to your <code>Form</code> component. I hope you got the idea.</li>\n<li>Events and values have to be passed as props from parent to child components (see how I done it for Select and ButtonRow), and then they have to be called like so <code>this.props.myFunc()</code>.</li>\n<li>Make your <code>select</code> controllable via attributes <code>value</code> and <code>onChange</code> event (see in the code).</li>\n</ul>\n\n<p>Let me know if it's not what are you looking for.</p>\n"}], "owner": {"reputation": 93, "user_id": 4183650, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d07e58acf158fde250947a585239d508?s=128&d=identicon&r=PG&f=1", "display_name": "Ayesha", "link": "https://stackoverflow.com/users/4183650/ayesha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 177, "favorite_count": 1, "accepted_answer_id": 58641680, "answer_count": 2, "score": 1, "last_activity_date": 1572519176, "creation_date": 1572473505, "question_id": 58634325, "link": "https://stackoverflow.com/questions/58634325/form-clearing-all-the-text-and-other-components-element-when-clicked-on-button", "title": "Form-Clearing all the text and other components element when clicked on button", "body": "<p>I have created a simple form with inputtext field, select options, radiobuttons and textArea.\nI have even created 2 button, one for submit and one to 'Clear' all the text from the Form.\nI can clear text from inputfield and the textarea's text,  I have created a callback function in parentClass (Form.js) and from there I have sended the data as props to TextArea.js class</p>\n\n<pre><code>       &lt;TextArea\n          callbackFromParent={this.parentCallback}\n        /&gt;\n</code></pre>\n\n<p>and when i clicked on 'Clear All' button, the textInput field and textarea clears up.So i thought to implement in the same way for 'Select' option and for other components. \nSo I created select variable in state and in callback function (parentCallback) setting the select again\nand sending it as props to  component as callbackFromParent, but then i am setting this props value in state as : <strong>selectCountry: this.props.callbackFromParent</strong>, From Select component I have to send it to TextArea.js component as the 'Clear all' button is there as well the function for it.\nI am stuck at this point and don't know exactly how to think or implement it. i have looked through Google but not got the answer I am looking for. I want to Clear each and every Form input field text and reset the select options, radiobuttons and so on.\nI will be gratefull for all the help I can get. Thanks in Advance!</p>\n\n<p>My code link: <a href=\"https://codesandbox.io/s/reactforms-w1y38\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/reactforms-w1y38</a></p>\n\n<pre><code>Form.js:\n\nimport React from \"react\";\nimport Select from \"./Select\";\nimport SelectGender from \"./RadioButton\";\nimport TextArea from \"./TextArea\";\n\nclass Form extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      value: \"\",\n      select: \"\"\n    };\n  }\n\n  onChange = e =&gt; {\n    this.setState({\n      value: e.target.value\n    });\n  };\n\n  //Child to Parent \u2014 Use a callback and states\n  // OR WE CAN SAY THAT PARENT NEED data FROM CHILD AND WE DO :\n  parentCallback = () =&gt; {\n    this.setState({\n      value: \"\",\n      select: \"\"\n    });\n  };\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;h3&gt;Child form&lt;/h3&gt;\n        &lt;label&gt;Enter name: &lt;/label&gt;\n        &lt;input type=\"text\" value={this.state.value} onChange={this.onChange} /&gt;\n        &lt;p&gt;You Entered: {this.state.value}&lt;/p&gt;\n\n        &lt;Select callbackFromParent={this.parentCallback} /&gt;\n        &lt;SelectGender /&gt;\n        &lt;br /&gt;\n        &lt;TextArea\n          callbackFromParent={this.parentCallback}\n          //Data passing from parent to child\n          dataFromParent={this.state.value}\n        /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default Form;\n\n-------------------------\n\nSelect.js\n\nimport React from \"react\";\n\nclass Select extends React.Component {\n  state = {\n    selectGenderOptions: [\"Male\", \"Female\", \"Others\"],\n    selectCountry: this.props.callbackFromParent\n  };\n\n  render() {\n    console.log(\"Select props\", this.props);\n    return (\n      &lt;div&gt;\n        &lt;label&gt;\n          {/* &lt;select selectGenderOptions={this.state.selectGenderOptions} /&gt; */}\n          Select Gender:\n          &lt;select&gt;\n            &lt;option value=\"select\" selected className=\"text-hide\"&gt;\n              {\" \"}\n              {/*//change the Css style if you dnt want to hide the text */}\n              Please select\n            &lt;/option&gt;\n            &lt;option value=\"male\"&gt;Male&lt;/option&gt;\n            &lt;option value=\"female\"&gt;Female&lt;/option&gt;\n            &lt;option value=\"other\"&gt;Other&lt;/option&gt;\n          &lt;/select&gt;\n        &lt;/label&gt;\n\n        &lt;label&gt;\n          &lt;h3&gt;Select Country&lt;/h3&gt;\n          &lt;select&gt;\n            &lt;option value=\"select\" selected&gt;\n              {\" \"}\n              Select Country{\" \"}\n            &lt;/option&gt;\n\n            &lt;option value=\"ind\"&gt;India&lt;/option&gt;\n            &lt;option value=\"pak\"&gt;Pakistan&lt;/option&gt;\n            &lt;option value=\"bang\"&gt;Bangladesh&lt;/option&gt;\n            &lt;option value=\"dub\"&gt;Dubai&lt;/option&gt;\n            &lt;option value=\"swe\"&gt;Sweden&lt;/option&gt;\n            &lt;option value=\"dan\"&gt;Danmark&lt;/option&gt;\n            &lt;option value=\"usa\"&gt;USA&lt;/option&gt;\n            &lt;option value=\"aus\"&gt;Australia&lt;/option&gt;\n          &lt;/select&gt;\n        &lt;/label&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default Select;\n\n-----------------------------\nTextArea.js\n\nimport React from \"react\";\n\nclass TextArea extends React.Component {\n  state = {\n    textAreaValue: \"\",\n    inputValue: \"\"\n  };\n\n  textAreaHandler = event =&gt; {\n    this.setState({ textAreaValue: event.target.value });\n  };\n\n  onSubmitHandler = () =&gt; {\n    return `Your comment ${this.state.textAreaValue}`;\n  };\n\n  clearAllHandler = e =&gt; {\n    e.preventDefault();\n    this.setState({\n      textAreaValue: \"\",\n      inputValue: this.props.callbackFromParent(this.state.inputValue)\n    });\n  };\n\n  // sendDataFromChild = () =&gt; {\n  //   this.props.callbackFromParent();\n  // };\n\n  render() {\n    console.log(\"inputvalue\", this.props);\n    console.log(\"callback\", this.props.callbackFromParent);\n    return (\n      &lt;div&gt;\n        &lt;label&gt;\n          &lt;h3&gt;Comment:&lt;/h3&gt;\n          &lt;textarea\n            value={this.state.textAreaValue}\n            placeholder=\"Write anything\"\n            onChange={this.textAreaHandler}\n          /&gt;\n        &lt;/label&gt;\n        &lt;div&gt;\n          &lt;input type=\"submit\" value=\"Submit\" onClick={this.onSubmitHandler} /&gt;\n          &lt;button onClick={this.clearAllHandler}&gt;Clear All&lt;/button&gt;\n        &lt;/div&gt;\n        &lt;p&gt;You wrote: {this.state.textAreaValue}&lt;/p&gt;\n        &lt;p&gt;Data Coming From Parent AS props: {this.props.dataFromParent}&lt;/p&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default TextArea;\n\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/nFnHw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nFnHw.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "recursion"], "comments": [{"owner": {"reputation": 44000, "user_id": 535275, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/Ft2Mw.jpg?s=128&g=1", "display_name": "Scott Hunter", "link": "https://stackoverflow.com/users/535275/scott-hunter"}, "edited": false, "score": 0, "creation_date": 1572473436, "post_id": 58634296, "comment_id": 103575551, "body": "So this function always returns <code>false</code>, but may take an arbitrarily long time to do so?"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 1, "creation_date": 1572473533, "post_id": 58634296, "comment_id": 103575584, "body": "please add the wanted result."}, {"owner": {"reputation": 16662, "user_id": 1092820, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc78da24118b403595f62fa7856e1b6c?s=128&d=identicon&r=PG", "display_name": "Ruzihm", "link": "https://stackoverflow.com/users/1092820/ruzihm"}, "edited": false, "score": 1, "creation_date": 1572473741, "post_id": 58634296, "comment_id": 103575641, "body": "So, what is your question, exactly?"}], "answers": [{"tags": [], "owner": {"reputation": 535, "user_id": 12293760, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dcedbcfcee8422f15167b7e4daa925d?s=128&d=identicon&r=PG", "display_name": "Minion3665", "link": "https://stackoverflow.com/users/12293760/minion3665"}, "is_accepted": false, "score": -1, "last_activity_date": 1572503909, "last_edit_date": 1572503909, "creation_date": 1572474680, "answer_id": 58634498, "question_id": 58634296, "link": "https://stackoverflow.com/questions/58634296/recurse-nested-object-looking-for-property-and-add-it-to-array-if-present/58634498#58634498", "title": "Recurse nested object looking for property and add it to array if present", "body": "<p><code>hasOwnProperty</code> can check if an object has the property that is specified as an argument. You can create a while loop to continue until a property is found that doesn't have the subproperty. Here is a short script demonstrating a function to do this. It will return the array, with true for all the times that it could continue and false for the last time.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const obj = {\r\n  level1: 'level 1',\r\n  subProperty: {\r\n    level2: 'level 2',\r\n    subProperty: {\r\n      level3: 'level 3'\r\n    }\r\n  }\r\n}\r\n\r\nfunction getSubPropertyRecursive(obj, subProperty) {\r\n  propertyArray = [];\r\n  currentObj = obj\r\n  while (currentObj.hasOwnProperty(subProperty)){\r\n    currentObj = currentObj[subProperty];\r\n    propertyArray.push(true);\r\n  }\r\n  propertyArray.push(false);\r\n  return propertyArray;\r\n}\r\n   \r\nconsole.log(getSubPropertyRecursive(obj, \"subProperty\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 1, "last_activity_date": 1572510331, "last_edit_date": 1572510331, "creation_date": 1572475101, "answer_id": 58634550, "question_id": 58634296, "link": "https://stackoverflow.com/questions/58634296/recurse-nested-object-looking-for-property-and-add-it-to-array-if-present/58634550#58634550", "title": "Recurse nested object looking for property and add it to array if present", "body": "<p>You could return an array with <code>false</code> for the level without <code>subProperty</code>, otherwise return <code>true</code> and the result of the recursive call of the function.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getLevels({ subProperty }) {\r\n    if (subProperty === undefined) return [false];\r\n    return [true, ...getLevels(subProperty)];\r\n}\r\n\r\nconst\r\n    object = { level1: 'level 1', subProperty: { level2: 'level 2', subProperty: { level3: 'level 3' } } },\r\n    levels = getLevels(object);\r\n\r\nconsole.log(levels);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": false, "score": 0, "last_activity_date": 1572527059, "creation_date": 1572527059, "answer_id": 58644004, "question_id": 58634296, "link": "https://stackoverflow.com/questions/58634296/recurse-nested-object-looking-for-property-and-add-it-to-array-if-present/58644004#58644004", "title": "Recurse nested object looking for property and add it to array if present", "body": "<p>I think that the question as asked will not really help you learn much about recursion.  Pretty well by definition, the function will always return <code>false</code> (unless you have a cyclic object which might recur continually until the stack runs out.)</p>\n\n<p>So here's a variant that I think should help:  Instead of returning <code>false</code>, we could return the first nested object without the property <code>subProperty</code>.  So for your sample object, this should return a reference to the nested <code>{level3: 'level 3'}</code> object.</p>\n\n<p>Since our data structure is obviously recursive, this is a good place to use a recursive solution.  Here's one possibility:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const levelWithoutSubProperty = function (obj) {\r\n  if ('subProperty' in obj) {\r\n    return levelWithoutSubProperty (obj .subProperty)\r\n  }\r\n  return obj;\r\n}\r\n\r\nconst obj = {level1: 'level 1', subProperty: {level2: 'level 2', subProperty: {level3: 'level 3'}}}\r\n\r\nconsole .log (\r\n  levelWithoutSubProperty (obj)  //~&gt; {level3: 'level 3'}\r\n)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here's how it works:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>levelWithoutSubProperty({level1: 'level 1', subProperty: {level2: 'level 2', subProperty: {level3: 'level 3'}}})\n// `'subProperty' in obj` returns true, so call `levelWithoutSubProperty` with its subProperty:\n    levelWithoutSubProperty({level2: 'level 2', subProperty: {level3: 'level 3'}})\n    // `'subProperty' in obj` returns true, so call `levelWithoutSubProperty` with its subProperty:\n        levelWithoutSubProperty({level3: 'level 3'})\n        // `'subProperty' in obj` returns false so\n        return {level3: 'level 3'}\n    return {level3: 'level 3'}\nreturn {level3: 'level 3'}\n</code></pre>\n\n<p>Direct recursion (there are other types but they're not much more complex) involves a function calling itself with data that is in some way simplified from its own parameters.  At some point the input must simple enough that you can calculate the result without another recursive call.  This is called a <em>base case</em>, and it's important that every recursive function have at least one.  Otherwise the function will continue to call itself indefinitely.</p>\n\n<p>Here our sole base case is when <code>obj</code> does not have the property <code>subProperty</code>, that is, when <code>'subproperty' in obj</code> returns false.  In that case, we simply return the parameter supplied.</p>\n\n<p>A recursive function will also have one or more recursive calls.  Here we only have just one.  We call our function again with the property <code>subProperty</code> of our object: <code>return levelWithoutSubProperty (obj .subProperty)</code></p>\n\n<hr>\n\n<p>There are other things we might want to do to this function to make it more robust.  We should probably test that <code>obj</code> is actually an object before using <code>'subProperty' in obj</code>.  And I prefer to use expressions rather than statements like <code>if</code>.  So I would probably write it like this myself:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const levelWithoutSubProperty = (obj) =&gt;\n  typeof obj == 'object' &amp;&amp; 'subProperty' in obj\n    ? levelWithoutSubProperty (obj .subProperty)\n    : obj\n</code></pre>\n\n<p>We might want to make the property name to test dynamic, by adding it as a parameter: </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const deepest = (propName, obj) =&gt; \n  typeof obj == 'object' &amp;&amp; propName in obj\n    ? deepest (propName, obj [propName])\n    : obj\n</code></pre>\n\n<p>and calling it like <code>deepest ('subProperty', obj)</code>.</p>\n\n<p>But that changes nothing about the basics.  We have one or more base cases that return a value directly and one or more recursive calls that call our function again with some simplified data.</p>\n\n<p>That's what recursion is all about.</p>\n"}], "owner": {"reputation": 1134, "user_id": 5526445, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/6ed6d64412ee666aa2c37b4465db4016?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/5526445/peter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1572527059, "creation_date": 1572473345, "last_edit_date": 1572474237, "question_id": 58634296, "link": "https://stackoverflow.com/questions/58634296/recurse-nested-object-looking-for-property-and-add-it-to-array-if-present", "title": "Recurse nested object looking for property and add it to array if present", "body": "<p>I'm trying to traverse an <code>object</code> looking for a property or key always with the same name, <code>subProperty</code>, in a nested structure. The object can have it once, or several times in different levels without. </p>\n\n<p>This is my current pseudo code.</p>\n\n<ol>\n<li><p>Check if <code>obj</code> has the property <code>subProperty</code>.</p></li>\n<li><p>If it does not have it, return <code>false</code></p></li>\n<li><p>If it has it, go one level deep (obj.subProperty) and check if it has the property <code>subProperty</code> and so on...</p></li>\n</ol>\n\n<p>I want to do it <code>recursively</code> however I cannot make my mind around it. Can anyone help me with the recursion function to check in each level if it has that property and if so, push true to an array</p>\n\n<pre><code>const obj = {\n  level1: 'level 1',\n  subProperty: {\n    level2: 'level 2',\n    subProperty: {\n      level3: 'level 3'\n    }\n  }\n}\n\n</code></pre>\n\n<p>I'm trying to learn and understand <code>recursion</code> \nHelp will be much appreciated.</p>\n"}, {"tags": ["javascript", "jquery", "html", "django"], "comments": [{"owner": {"reputation": 1887, "user_id": 2996989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5ptd.jpg?s=128&g=1", "display_name": "Ahmed Sunny", "link": "https://stackoverflow.com/users/2996989/ahmed-sunny"}, "edited": false, "score": 0, "creation_date": 1572474384, "post_id": 58634295, "comment_id": 103575832, "body": "the fiddle works fine for me. check your console for any error"}, {"owner": {"reputation": 314, "user_id": 9064615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nmOL1dHQc1w/AAAAAAAAAAI/AAAAAAAAABw/veSjNfBtJdA/photo.jpg?sz=128", "display_name": "explodingfilms101", "link": "https://stackoverflow.com/users/9064615/explodingfilms101"}, "reply_to_user": {"reputation": 1887, "user_id": 2996989, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x5ptd.jpg?s=128&g=1", "display_name": "Ahmed Sunny", "link": "https://stackoverflow.com/users/2996989/ahmed-sunny"}, "edited": false, "score": 0, "creation_date": 1572475858, "post_id": 58634295, "comment_id": 103576208, "body": "@AhmedSunny No errors are appearing. I&#39;m assuming by &quot;fiddle&quot; you mean the site &quot;jsfiddle.net&quot;, in which case it doesn&#39;t work there either."}], "answers": [{"comments": [{"owner": {"reputation": 314, "user_id": 9064615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nmOL1dHQc1w/AAAAAAAAAAI/AAAAAAAAABw/veSjNfBtJdA/photo.jpg?sz=128", "display_name": "explodingfilms101", "link": "https://stackoverflow.com/users/9064615/explodingfilms101"}, "edited": false, "score": 0, "creation_date": 1572481015, "post_id": 58634705, "comment_id": 103577430, "body": "Would it be possible to filter a general term? Let&#39;s say my items are all the Ryzen 5 products, would it be possible to set the filter to &quot;Ryzen 5&quot; to get only the Ryzen 5s? Also, I&#39;m not super well versed in Javascript, so would you be able to point out where the regular expression is in my JS script? Here is my plnkr: <a href=\"http://plnkr.co/edit/qUnLYH9mh87Q1yq8pL53\" rel=\"nofollow noreferrer\">plnkr.co/edit/qUnLYH9mh87Q1yq8pL53</a>"}, {"owner": {"reputation": 314, "user_id": 9064615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nmOL1dHQc1w/AAAAAAAAAAI/AAAAAAAAABw/veSjNfBtJdA/photo.jpg?sz=128", "display_name": "explodingfilms101", "link": "https://stackoverflow.com/users/9064615/explodingfilms101"}, "edited": false, "score": 0, "creation_date": 1572483273, "post_id": 58634705, "comment_id": 103577906, "body": "Ok so I managed to make it work, but ideally, I would like it to filter based on a general term, like I described in my previous comment."}, {"owner": {"reputation": 90, "user_id": 6170286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RHFvz.png?s=128&g=1", "display_name": "Sonny N", "link": "https://stackoverflow.com/users/6170286/sonny-n"}, "reply_to_user": {"reputation": 314, "user_id": 9064615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nmOL1dHQc1w/AAAAAAAAAAI/AAAAAAAAABw/veSjNfBtJdA/photo.jpg?sz=128", "display_name": "explodingfilms101", "link": "https://stackoverflow.com/users/9064615/explodingfilms101"}, "edited": false, "score": 0, "creation_date": 1572484106, "post_id": 58634705, "comment_id": 103578060, "body": "Updated the <a href=\"https://plnkr.co/edit/flCyMJDiMpLS2VREEGrs?p=preview\" rel=\"nofollow noreferrer\">plunkr</a>. Added two more filters - Ryzen 5 and Ryzen 7 so you can see how it works. The reason why it was not working is two reasons.   You have to update the regex to include zero or more characters before the string termination, &#39;$&#39;. Added a console.log so you can see the regex being built.   You have to use &#39;0&#39; for second arg to fnFilter. It is the column index that you are filtering on. Refer to the datatables <a href=\"https://legacy.datatables.net/ref#fnFilter\" rel=\"nofollow noreferrer\">API for fnFilter</a>"}], "tags": [], "owner": {"reputation": 90, "user_id": 6170286, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RHFvz.png?s=128&g=1", "display_name": "Sonny N", "link": "https://stackoverflow.com/users/6170286/sonny-n"}, "is_accepted": true, "score": 1, "last_activity_date": 1572476027, "creation_date": 1572476027, "answer_id": 58634705, "question_id": 58634295, "link": "https://stackoverflow.com/questions/58634295/how-to-setup-a-jquery-datatable/58634705#58634705", "title": "How to setup a JQuery Datatable", "body": "<p>If you are simply filtering by a specific price, you do not need to use regular expression, you just apply the filter using the single value.  It might be helpful to add some sample rows with actual values instead of the template and specify exactly what you are trying to filter by each of those check boxes.  Better yet, create a plnkr and provide that link. </p>\n"}], "owner": {"reputation": 314, "user_id": 9064615, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-nmOL1dHQc1w/AAAAAAAAAAI/AAAAAAAAABw/veSjNfBtJdA/photo.jpg?sz=128", "display_name": "explodingfilms101", "link": "https://stackoverflow.com/users/9064615/explodingfilms101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 58634705, "answer_count": 1, "score": 0, "last_activity_date": 1572476027, "creation_date": 1572473340, "question_id": 58634295, "link": "https://stackoverflow.com/questions/58634295/how-to-setup-a-jquery-datatable", "title": "How to setup a JQuery Datatable", "body": "<p>So I was trying to set-up a JQuery Datatable as in this example: <a href=\"http://plnkr.co/edit/b8cLVaVlbNKOQhDwI2mw?p=preview\" rel=\"nofollow noreferrer\">http://plnkr.co/edit/b8cLVaVlbNKOQhDwI2mw?p=preview</a></p>\n\n<p>But I keep getting a \"No matching records found\" pop-up when I try to implement it. How would I be able to fix it?</p>\n\n<p>Here is my JS script:</p>\n\n<pre><code>$(function() {\n        otable = $('#amdta').dataTable();\n        })\n\n        function filterme() {\n        //build a regex filter string with an or(|) condition\n        var types = $('input:checkbox[name=\"item\"]:checked').map(function() {\n            return '^' + this.value + '\\$';\n        }).get().join('|');\n        //filter in column 0, with an regex, no smart filtering, no inputbox,not case sensitive\n        otable.fnFilter(types, 1, true, false, false, false);\n\n        //build a filter string with an or(|) condition\n        var frees = $('input:checkbox[name=\"website\"]:checked').map(function() {\n            return this.value;\n        }).get().join('|');\n        //now filter in column 2, with no regex, no smart filtering, no inputbox,not case sensitive\n        otable.fnFilter(frees, 2, false, false, false, false);\n</code></pre>\n\n<p>Here is my HTML</p>\n\n<pre><code>&lt;p&gt;\n    &lt;label&gt;\n        &lt;input onchange=\"filterme()\" type=\"checkbox\" name=\"website\" class=\"filled-in\" value=\"canadacomputers\" /&gt;\n        &lt;span&gt;Canada Computers&lt;/span&gt;\n    &lt;/label&gt;\n    &lt;label&gt;\n        &lt;input onchange=\"filterme()\" type=\"checkbox\" name=\"item\" class=\"filled-in\" value=\"$2299.0\" /&gt;\n        &lt;span&gt;Item&lt;/span&gt;\n    &lt;/label&gt;\n&lt;/p&gt;\n\n&lt;input type=\"text\" id=\"amdin\" onkeyup=\"amdfun()\" placeholder=\"Search for CPU..\"&gt;\n\n&lt;table id=\"amdta\"&gt;\n\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th class=\"th-sm\"&gt;Item&lt;/th&gt;\n            &lt;th class=\"th-sm\"&gt;Price&lt;/th&gt;\n            &lt;th class=\"th-sm\"&gt;Website&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    {% for item in items %}\n        {% if item.brand == 'amd' %}\n            &lt;tbody&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;{{ item.item }}&lt;/td&gt;\n                    &lt;td&gt;${{ item.price }}&lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;a href=\"{{ item.website }}\"&gt;{{ item.site }}&lt;/a&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/tbody&gt;\n        {% endif %}\n    {% endfor %}\n\n&lt;/table&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "canvas"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 5932715, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/efbf6690521a50e36082cd2a5dc726d9?s=128&d=identicon&r=PG&f=1", "display_name": "Daniel J", "link": "https://stackoverflow.com/users/5932715/daniel-j"}, "is_accepted": false, "score": 1, "last_activity_date": 1572473994, "last_edit_date": 1572473994, "creation_date": 1572473847, "answer_id": 58634381, "question_id": 58634294, "link": "https://stackoverflow.com/questions/58634294/i-have-a-span-that-keeps-disappearing-once-playerexp-goes-up-by-1/58634381#58634381", "title": "I have a span that keeps disappearing once playerexp goes up by 1", "body": "<p>When you create your <code>&lt;span&gt;</code> you do this:</p>\n\n<pre><code>&lt;span id=\"playerExp\"&gt;0&lt;span&gt; / &lt;span id = \"playerMaxExp\"&gt;100&lt;/span&gt; \ud83d\udc3a\n</code></pre>\n\n<p>The <code>playerExp</code> span is missing a slash for its closing tag. You have <code>&lt;span&gt;</code> instead of <code>&lt;/span&gt;</code>.</p>\n\n<p>Change it to:</p>\n\n<pre><code>&lt;span id=\"playerExp\"&gt;0&lt;/span&gt; / &lt;span id=\"playerMaxExp\"&gt;100&lt;/span&gt; \ud83d\udc3a\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 12254613, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1b8757f1fed203cb473db503f0c2a545?s=128&d=identicon&r=PG&f=1", "display_name": "tmanrocks909", "link": "https://stackoverflow.com/users/12254613/tmanrocks909"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572473994, "creation_date": 1572473331, "question_id": 58634294, "link": "https://stackoverflow.com/questions/58634294/i-have-a-span-that-keeps-disappearing-once-playerexp-goes-up-by-1", "title": "I have a span that keeps disappearing once playerexp goes up by 1", "body": "<p>I have a enemy, player, bullet, and enemy has hp, after 10 damage is done player exp goes up by 1 then my /100  span disappears. Im confused why its doing this. it reappears if i relaunch the program.</p>\n\n<p>fiddle: <a href=\"https://jsfiddle.net/tmanrocks999/64thbvm3/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/tmanrocks999/64thbvm3/</a></p>\n\n<p>Ive tried making a maxplayerexp var and changing the span a bit but it keeps disapearing (\"\\100\") when you kill a enemy.</p>\n\n<p>code: html/javascript</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n&lt;head&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\n    &lt;title&gt;Basic Shooter&lt;/title&gt;\n    &lt;style&gt;\n        canvas {\n            border: 4px solid #d3d3d3;\n            background-color: #f1f1f1;\n        }\n    &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body onload=\"startGame()\"&gt;\n    &lt;p&gt;use the arrow keys on you keyboard to move the red square.&lt;/p&gt;\n    &lt;span id=\"myEnemy1Hp\"&gt;10&lt;/span&gt; &lt;br&gt;\n    &lt;span id=\"playerExp\"&gt;0&lt;span&gt; / &lt;span id = \"playerMaxExp\"&gt;100&lt;/span&gt; \ud83d\udc3a\n\n    &lt;script&gt;\n        var myGamePiece;\n        var endGoalPiece;\n        var myEnemy1;\n        var bullets = [];\n        var myEnemy1Hp = 10;\n        var damage = 1;\n        var playerExp = 0;\n\n        function startGame() {\n            myGameArea.start();\n            myGamePiece = new component(30, 30, \"red\", 0, 240);\n            endGoalPiece = new component(30, 30, \"black\", 450, 240);\n            myEnemy1 = new component(30, 30, \"green\", 200, 240);\n        }\n\n        var myGameArea = {\n            canvas: document.createElement(\"canvas\"),\n            start: function() {\n                this.canvas.width = 480;\n                this.canvas.height = 270;\n                this.context = this.canvas.getContext(\"2d\");\n                document.body.insertBefore(this.canvas, document.body.childNodes[0]);\n                this.interval = setInterval(updateGameArea, 20);\n                window.addEventListener('keydown', function(e) {\n                    myGameArea.key = e.keyCode;\n                })\n                window.addEventListener('keyup', function(e) {\n                    myGameArea.key = false;\n                })\n            },\n            clear: function() {\n                this.context.clearRect(0, 0, this.canvas.width, this.canvas.height);\n            }\n        }\n\n        function component(width, height, color, x, y) {\n            this.gamearea = myGameArea;\n            this.width = width;\n            this.height = height;\n            this.speedX = 0;\n            this.speedY = 0;\n            //this.gravity = 0.05;\n            //this.gravitySpeed = 0;\n            this.x = x;\n            this.y = y;\n            this.color = color;\n            this.update = function() {\n                ctx = myGameArea.context;\n                ctx.fillStyle = this.color;\n                ctx.fillRect(this.x, this.y, this.width, this.height);\n            }\n            this.newPos = function() {\n                this.gravitySpeed += this.gravity;\n                this.x += this.speedX;\n                this.y += this.speedY; //+ this.gravitySpeed;\n                this.hitBottom();\n                        this.hitTop();\n                        this.hitRight();\n                        this.hitLeft();\n                this.hitObject();\n\n            }\nthis.hitBottom = function() {\n        var rockbottom = myGameArea.canvas.height - this.height;\n        if (this.y &gt; rockbottom) {\n            this.y = rockbottom;\n\n        }\n        }\n        this.hitTop = function() {\n        var rockTop = 0;\n        if (this.y &lt; rockTop) {\n            this.y = rockTop;\n\n        }\n        }\n        this.hitRight = function() {\n        var rockRight = myGameArea.canvas.width - this.width;\n        if (this.x &gt; rockRight) {\n            this.x = rockRight;\n\n        }\n        }\n        this.hitLeft = function() {\n        var rockLeft = 0;\n        if (this.x &lt; rockLeft) {\n            this.x = rockLeft;\n\n        }\n        }\n\nfunction enemyRespawn() {\n        myEnemy1 = new component(30, 30, \"green\", 200, 240);\n        myEnemy1Hp = 10;\n        document.getElementById('myEnemy1Hp').innerHTML = myEnemy1Hp;\n        myStopFunction();\n        }\n\n\n\n this.hitObject = function() {\n        myGamePiece.update();\n        var enemy = myEnemy1.x-11;\n        if (this.x == enemy) {\n            myEnemy1Hp = myEnemy1Hp - damage;\n            bullet= 0,0;\n            document.getElementById('myEnemy1Hp').innerHTML = myEnemy1Hp;\n                    if(myEnemy1Hp &lt;=0){\n            playerExp = playerExp+1;\n            document.getElementById('playerExp').innerHTML = playerExp;\n            myEnemy1 = new component(0, 0, \"green\", 0, 0);\n            myEnemy1.update();\n            setTimeout(enemyRespawn, 5000);\n\n            }\n\n                }\n                }\n\n        }\n\n        function jump() {\n            myGamePiece.gravitySpeed = -1;\n        }\n\n        function shootGun() {\n\n            let bullet = new component(11, 5, \"blue\", myGamePiece.x + 27, myGamePiece.y + 13);\n            bullet.newPos();\n            bullet.speedX = 1;\n            bullets.push( bullet );\n        }\n\n\n        function updateGameArea() {\n            myGameArea.clear();\n            myGamePiece.speedX = 0;\n            myGamePiece.speedY = 0;\n            if (myGameArea.key &amp;&amp; myGameArea.key == 37) {\n                myGamePiece.speedX = -1;\n            } //left\n            if (myGameArea.key &amp;&amp; myGameArea.key == 39) {\n                myGamePiece.speedX = 1;\n            } //right\n            if (myGameArea.key &amp;&amp; myGameArea.key == 38) {\n                myGamePiece.gravitySpeed = -1;\n            } //jump\n            if (myGameArea.key &amp;&amp; myGameArea.key == 32) {\n                shootGun()\n            } //shoot gun\n            //if (myGameArea.key &amp;&amp; myGameArea.key == 40) {myGamePiece.speedY = 1; }// down\n            myEnemy1.update();\n            endGoalPiece.update();\n            myGamePiece.newPos();\n            myGamePiece.update();\n            bullets.forEach( (bullet)=&gt; {\n                bullet.newPos() \n                bullet.update();\n            });\n            // bullet.newPos();\n            // bullet.update();\n        }\n    &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>I expect when the enemy dies/ player exp goes up by 1 for the \\100 span to not disappear from view. but at the moment it disappears when ever you kill a enemy.</p>\n"}, {"tags": ["javascript", "email", "backend"], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 2210053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLIPC.png?s=128&g=1", "display_name": "blrzzzt", "link": "https://stackoverflow.com/users/2210053/blrzzzt"}, "is_accepted": false, "score": 0, "last_activity_date": 1572473533, "creation_date": 1572473533, "answer_id": 58634332, "question_id": 58634255, "link": "https://stackoverflow.com/questions/58634255/how-can-i-confirm-my-user-email-to-change-user-status/58634332#58634332", "title": "how can i confirm my user email to change user status", "body": "<p>You need to create a unique url associated with the user, and send that url directly to the user's unverified email. If that url is accessed, verify the associated user. You could try to implement this from scratch or use a library like <a href=\"https://www.npmjs.com/package/email-verification\" rel=\"nofollow noreferrer\">email-verification</a> on NPM.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11072353"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572473533, "creation_date": 1572473089, "question_id": 58634255, "link": "https://stackoverflow.com/questions/58634255/how-can-i-confirm-my-user-email-to-change-user-status", "title": "how can i confirm my user email to change user status", "body": "<p>I have been finding a way to confirm my user email.<br>\nis there any way to send to the user confirmation message and then he/she confirm email there.<br>\nthen I get the request to change user information for instance if he confirms the email <code>user.status.verify_email = true</code></p>\n"}, {"tags": ["javascript", "sequelize.js"], "answers": [{"comments": [{"owner": {"reputation": 2010, "user_id": 7174241, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/koOUa.jpg?s=128&g=1", "display_name": "BARNOWL", "link": "https://stackoverflow.com/users/7174241/barnowl"}, "edited": false, "score": 0, "creation_date": 1572485788, "post_id": 58634794, "comment_id": 103578394, "body": "i will try this out, where should this functionality be placed at ?"}], "tags": [], "owner": {"reputation": 304, "user_id": 9890295, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ANAh3.jpg?s=128&g=1", "display_name": "CalamityAdam", "link": "https://stackoverflow.com/users/9890295/calamityadam"}, "is_accepted": false, "score": 0, "last_activity_date": 1572476715, "creation_date": 1572476715, "answer_id": 58634794, "question_id": 58634239, "link": "https://stackoverflow.com/questions/58634239/how-to-check-if-post-has-been-liked-by-current-user/58634794#58634794", "title": "How to check if post has been liked by current user", "body": "<p>something like </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const iLikeIt = Like.findOne({ where: {\n    resourceId: postId,\n    userId: req.session.user.id,\n}})\nif (iLikeIt) {\n    // i liked it\n} else {\n    // i didn't like it\n}\n\n</code></pre>\n"}], "owner": {"reputation": 2010, "user_id": 7174241, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/koOUa.jpg?s=128&g=1", "display_name": "BARNOWL", "link": "https://stackoverflow.com/users/7174241/barnowl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 98, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572476715, "creation_date": 1572472976, "question_id": 58634239, "link": "https://stackoverflow.com/questions/58634239/how-to-check-if-post-has-been-liked-by-current-user", "title": "How to check if post has been liked by current user", "body": "<p>How would i be able to check if the current user liked the post or not. Ideally this would be similar to liking a post on instagram. The heart is filled red indicating that YOU liked it. </p>\n\n<p>how would i be able to add a similar functionality for the backend.</p>\n\n<p>I know the backend would have a boolean that indicates a user has like there own post. I'm using sequelize, given my model, what should i do to make this functionality work.</p>\n\n<p>Ideally the liked column in post should indicate if i liked post or not. </p>\n\n<p><code>req.session.user.id</code> gets the current user.</p>\n\n<p><strong>post.controller</strong></p>\n\n<pre><code> getPosts: async (req: Request, res: Response) =&gt; {\n    await models.Post.findAll({\n      include: [\n        { model: models.User, as: \"author\", attributes: [\"username\"] },\n        { model: models.Likes }\n      ],\n      order: [[\"createdAt\", \"DESC\"]],\n      limit: 6\n    }).then(posts =&gt; {\n      res.json(posts);\n    });\n  },\n</code></pre>\n\n<p><strong>Post (model)</strong></p>\n\n<pre><code>\"use strict\";\nmodule.exports = (sequelize, DataTypes) =&gt; {\n    var Post = sequelize.define(\"Post\", {\n        title: DataTypes.STRING,\n        postContent: DataTypes.STRING,\n        liked: {\n            type: DataTypes.BOOLEAN,\n            allowNull: false,\n            defaultValue: false\n        },\n        likeCounts: {\n            type: DataTypes.INTEGER,\n            allowNull: false,\n            defaultValue: 0\n        },\n        authorId: DataTypes.INTEGER\n    }, {});\n    Post.associate = function (models) {\n        Post.belongsTo(models.User, {\n            as: \"author\",\n            foreignKey: \"authorId\",\n            onDelete: \"CASCADE\"\n        });\n        Post.hasMany(models.Likes, {\n            foreignKey: \"resourceId\",\n            timestamps: false,\n            targetKey: \"id\",\n            onDelete: \"CASCADE\"\n        });\n    };\n    Post.prototype.likedByMe = postId =&gt; { };\n    return Post;\n};\n//# sourceMappingURL=post.js.map\n</code></pre>\n\n<p><strong>Like (model)</strong></p>\n\n<pre><code>\"use strict\";\nmodule.exports = (sequelize, DataTypes) =&gt; {\n    var Likes = sequelize.define(\"Likes\", {\n        userId: DataTypes.INTEGER,\n        resourceId: DataTypes.INTEGER,\n        likeByMe: {\n            type: DataTypes.BOOLEAN,\n            defaultValue: false,\n            allowNull: false\n        }\n    });\n    Likes.associate = function (models) {\n        // associations can be defined here\n        Likes.belongsTo(models.User, {\n            foreignKey: \"userId\",\n            timestamps: false,\n            onDelete: \"CASCADE\"\n        });\n        Likes.belongsTo(models.Post, {\n            foreignKey: \"resourceId\",\n            timestamps: false,\n            onDelete: \"CASCADE\",\n            targetKey: \"id\"\n        });\n    };\n    return Likes;\n};\n//# sourceMappingURL=likes.js.map\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "typescript", "redux", "custom-data-attribute"], "answers": [{"comments": [{"owner": {"reputation": 301, "user_id": 2845182, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c555ff8e8ed7a8f4cb5836e6ace9b82?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Kingdon", "link": "https://stackoverflow.com/users/2845182/scott-kingdon"}, "edited": false, "score": 0, "creation_date": 1572474311, "post_id": 58634343, "comment_id": 103575808, "body": "Nope that is for using straight React. I am using React with TypeScript which uses a different way. I get this error when I try your code: Property &#39;getAttribute&#39; does not exist on type &#39;EventTarget&#39;."}, {"owner": {"reputation": 448, "user_id": 10199179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCoBS.png?s=128&g=1", "display_name": "Luis Barajas", "link": "https://stackoverflow.com/users/10199179/luis-barajas"}, "reply_to_user": {"reputation": 301, "user_id": 2845182, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c555ff8e8ed7a8f4cb5836e6ace9b82?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Kingdon", "link": "https://stackoverflow.com/users/2845182/scott-kingdon"}, "edited": false, "score": 0, "creation_date": 1572474589, "post_id": 58634343, "comment_id": 103575878, "body": "Yeah you&#39;re right, you should cast the target first, mb."}], "tags": [], "owner": {"reputation": 448, "user_id": 10199179, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rCoBS.png?s=128&g=1", "display_name": "Luis Barajas", "link": "https://stackoverflow.com/users/10199179/luis-barajas"}, "is_accepted": false, "score": 0, "last_activity_date": 1572474693, "last_edit_date": 1572474693, "creation_date": 1572473582, "answer_id": 58634343, "question_id": 58634154, "link": "https://stackoverflow.com/questions/58634154/react-typescript-get-data-attribute-from-click-event/58634343#58634343", "title": "React TypeScript get Data Attribute From Click Event", "body": "<p>In your event function you have e variable, e represents an event fired by clicking the button, e has a target property so, in order to access an attribute from the element you should do:</p>\n\n<pre><code>handleAppModeClick(e: React.MouseEvent&lt;HTMLElement&gt;) {\n    const target = e.target as HTMLElement;\n    let attr = target.getAttribute(\"data-attribute-name-here\");\n    //do something\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4979, "user_id": 385132, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/224ac20c6793964efb2785a946fa70ad?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/385132/chris"}, "edited": false, "score": 0, "creation_date": 1572475102, "post_id": 58634425, "comment_id": 103576010, "body": "Coercion/as is unnecessary, see my answer."}], "tags": [], "owner": {"reputation": 1327, "user_id": 5034261, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a28ce8eddb47e2010ba15e708486a74?s=128&d=identicon&r=PG", "display_name": "givehug", "link": "https://stackoverflow.com/users/5034261/givehug"}, "is_accepted": false, "score": 0, "last_activity_date": 1572474140, "creation_date": 1572474140, "answer_id": 58634425, "question_id": 58634154, "link": "https://stackoverflow.com/questions/58634154/react-typescript-get-data-attribute-from-click-event/58634425#58634425", "title": "React TypeScript get Data Attribute From Click Event", "body": "<p>You most likely will have to use <code>as</code> syntax , depending which property you want to access on e.target.</p>\n\n<pre><code>handleAppModeClick(e: React.MouseEvent) {\n    const appMode = (e.target as HTMLButtonElement).getAttribute('data-appMode');\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4979, "user_id": 385132, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/224ac20c6793964efb2785a946fa70ad?s=128&d=identicon&r=PG", "display_name": "Chris", "link": "https://stackoverflow.com/users/385132/chris"}, "is_accepted": true, "score": 9, "last_activity_date": 1572475029, "creation_date": 1572475029, "answer_id": 58634541, "question_id": 58634154, "link": "https://stackoverflow.com/questions/58634154/react-typescript-get-data-attribute-from-click-event/58634541#58634541", "title": "React TypeScript get Data Attribute From Click Event", "body": "<p><strong>Use e.currentTarget</strong> and then use HTML standard method <code>getAttribute</code>. No coercion necessary.</p>\n\n<pre><code>const appMode = e.currentTarget.getAttribute('data-appmode');\n</code></pre>\n\n<p>(note lowercase in the attribute name to avoid warnings from react)</p>\n\n<h2><code>currentTarget</code> is already correctly typed.</h2>\n\n<p>If you read <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/blob/master/types/react/index.d.ts#L485\" rel=\"noreferrer\">the definitions of React's event types</a> you can see that <code>MouseEvent</code> extends <code>SyntheticEvent</code>, which extends <code>BaseSyntheticEvent</code>, which includes the property <code>target</code> and <code>currentTarget</code>, among others. The <code>HTMLElement</code> type you provide gets applied to <code>currentTarget</code>, so you have access to all the right stuff. If you use <code>target</code> you'll get a compile error about <code>getAttribute</code> not being valid for type <code>EventTarget</code>.</p>\n\n<h2>What's the difference?</h2>\n\n<p>The <code>currentTarget</code> is the element where you're putting your handler, <code>onClick</code>. The <code>target</code> is where the event originally came from (<a href=\"https://stackoverflow.com/questions/5921413/difference-between-e-target-and-e-currenttarget\">more here</a>). This is not necessarily the same because events bubble up. See the <a href=\"https://github.com/DefinitelyTyped/DefinitelyTyped/pull/12239\" rel=\"noreferrer\">PR referenced in the type definitions file</a> for a complete discussion on why they're typed differently.</p>\n"}, {"tags": [], "owner": {"reputation": 330, "user_id": 651787, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/166d706fb974d04c19acdb287ad124b0?s=128&d=identicon&r=PG", "display_name": "Dashu", "link": "https://stackoverflow.com/users/651787/dashu"}, "is_accepted": false, "score": 0, "last_activity_date": 1594370303, "creation_date": 1594370303, "answer_id": 62830410, "question_id": 58634154, "link": "https://stackoverflow.com/questions/58634154/react-typescript-get-data-attribute-from-click-event/62830410#62830410", "title": "React TypeScript get Data Attribute From Click Event", "body": "<p>Using typescript I've recently learnt of the following approach:</p>\n<pre><code>type TabsProps = {\n  activeTab: string,\n  items: string[],\n  setActiveTab: (i: string) =&gt; void,\n}\n\nconst Tabs = ({ items, activeTab, setActiveTab }: TabsProps) =&gt; {\n  const onClick: React.MouseEventHandler&lt;HTMLElement&gt; = (e) =&gt; {\n    setActiveTab(e.currentTarget.dataset.id)\n    //console.log(e) // &lt;a data-id=&quot;0&quot; class=&quot;active nav-link&quot;&gt;Info&lt;/a&gt;\n  }\n\n  return (\n    &lt;Nav tabs &gt;\n        {\n            items.map((x, i) =&gt; (\n                &lt;NavItem key={i}&gt;\n                    &lt;NavLink className={activeTab === i.toString() ? 'active' : ''} onClick={onClick} data-id={i}&gt;{x}&lt;/NavLink&gt;\n                &lt;/NavItem&gt;\n            ))\n        }\n    &lt;/Nav &gt;\n  );\n}\n</code></pre>\n"}], "owner": {"reputation": 301, "user_id": 2845182, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/7c555ff8e8ed7a8f4cb5836e6ace9b82?s=128&d=identicon&r=PG&f=1", "display_name": "Scott Kingdon", "link": "https://stackoverflow.com/users/2845182/scott-kingdon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5581, "favorite_count": 0, "accepted_answer_id": 58634541, "answer_count": 4, "score": 8, "last_activity_date": 1594370303, "creation_date": 1572472432, "question_id": 58634154, "link": "https://stackoverflow.com/questions/58634154/react-typescript-get-data-attribute-from-click-event", "title": "React TypeScript get Data Attribute From Click Event", "body": "<p>So I have a React component with a button which has a click handler which uses the data-* attribute. If this was straight React then I know how to get the value from the data-* attribute. However I am learning how to use TypeScript so I have no idea how to get access to this attribute. So what is the best way to get access to the data-* attribute using TypeScript?</p>\n\n<p>This is my JSX code for the button:</p>\n\n<pre><code>&lt;button type=\"button\" className=\"NavLink\" data-appMode={ AppMode.MAIN } onClick={ this.handleAppModeClick.bind(this) }&gt;Main&lt;/button&gt;\n</code></pre>\n\n<p>This is my handler for the click event:</p>\n\n<pre><code>handleAppModeClick(e: React.MouseEvent&lt;HTMLElement&gt;) {\n    // What code should go here to access the data-appMode attribute?\n}\n</code></pre>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 164, "user_id": 2210053, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TLIPC.png?s=128&g=1", "display_name": "blrzzzt", "link": "https://stackoverflow.com/users/2210053/blrzzzt"}, "is_accepted": false, "score": 0, "last_activity_date": 1572472683, "creation_date": 1572472683, "answer_id": 58634205, "question_id": 58634140, "link": "https://stackoverflow.com/questions/58634140/how-to-remove-or-add-class-in-nav-when-the-browser-window-goes-down-or-up/58634205#58634205", "title": "How to remove or add class in nav when the browser window goes down or up", "body": "<p>You need to loop over your conditionals when the user scrolls:</p>\n\n<pre><code>// Reference: http://www.html5rocks.com/en/tutorials/speed/animations/\n\nlet last_known_scroll_position = 0;\nlet ticking = false;\n\nfunction doSomething(scroll_pos) {\n  // Do something with the scroll position\n}\n\nwindow.addEventListener('scroll', function(e) {\n  last_known_scroll_position = window.scrollY;\n\n  if (!ticking) {\n    window.requestAnimationFrame(function() {\n      doSomething(last_known_scroll_position);\n      ticking = false;\n    });\n\n    ticking = true;\n  }\n});\n</code></pre>\n\n<p>The example above uses requestAnimationFrame to ease the rate at which your function runs.</p>\n\n<p>Check the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/scroll_event\" rel=\"nofollow noreferrer\">Docs</a> for more information.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 12299971, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBps16uYTH1rvlv0dQKH4wnRd5z7pnHhYKh1UPkTQ=k-s128", "display_name": "Szymon Wiergowski", "link": "https://stackoverflow.com/users/12299971/szymon-wiergowski"}, "is_accepted": false, "score": 0, "last_activity_date": 1573590066, "creation_date": 1573590066, "answer_id": 58826109, "question_id": 58634140, "link": "https://stackoverflow.com/questions/58634140/how-to-remove-or-add-class-in-nav-when-the-browser-window-goes-down-or-up/58826109#58826109", "title": "How to remove or add class in nav when the browser window goes down or up", "body": "<p>Afterwards I use this code, </p>\n\n<pre><code>document.addEventListener(\"scroll\", function () {\n    let currentPosition = window.scrollY;\n    let basicFunctionPosition = document.querySelector(\"#basic-function\").offsetTop;\n    let moreFunctionsPosition = document.querySelector(\"#more-functions\").offsetTop;\n    let signUpPosition = document.querySelector(\"#sign-up\").offsetTop;\n    let teamPosition = document.querySelector(\"#team\").offsetTop;\n    let addClass = \"\";\n    let delateClass = \"\";\n\n    if (currentPosition &lt; basicFunctionPosition) {\n        delateClass = document.querySelectorAll(\".data-section-basic-func, .data-section-more-func, .data-section-sign-up, .data-section-team\");\n        delateClass.forEach((item) =&gt; {\n            item.classList.remove(\"highlightNav\");\n        });\n    } else if (currentPosition &gt; basicFunctionPosition &amp;&amp; currentPosition &lt; moreFunctionsPosition) {\n        delateClass = document.querySelectorAll(\".data-section-more-func, .data-section-sign-up, .data-section-team\");\n        delateClass.forEach((item) =&gt; {\n            item.classList.remove(\"highlightNav\");\n        });\n        addClass = document.querySelector(\".data-section-basic-func\");\n        addClass.classList.add(\"highlightNav\");\n\n    } else if (currentPosition &gt; moreFunctionsPosition &amp;&amp; currentPosition &lt; signUpPosition) {\n        delateClass = document.querySelectorAll(\".data-section-basic-func, .data-section-sign-up, .data-section-team\");\n        delateClass.forEach((item) =&gt; {\n            item.classList.remove(\"highlightNav\");\n        });\n        addClass = document.querySelector(\".data-section-more-func\");\n        addClass.classList.add(\"highlightNav\");\n    } else if (currentPosition &gt; signUpPosition &amp;&amp; currentPosition &lt; teamPosition) {\n        delateClass = document.querySelectorAll(\".data-section-basic-func, .data-section-more-func, .data-section-team\");\n        delateClass.forEach((item) =&gt; {\n            item.classList.remove(\"highlightNav\");\n        });\n        addClass = document.querySelector(\".data-section-sign-up\");\n        addClass.classList.add(\"highlightNav\");\n\n    } else if (currentPosition &gt; teamPosition) {\n        delateClass = document.querySelectorAll(\".data-section-basic-func, .data-section-more-func, .data-section-sign-up\");\n        delateClass.forEach((item) =&gt; {\n            item.classList.remove(\"highlightNav\");\n        });\n        addClass = document.querySelector(\".data-section-team\");\n        addClass.classList.add(\"highlightNav\");\n    }\n});\n\n\nCan you write the code more simply?\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12299971, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBps16uYTH1rvlv0dQKH4wnRd5z7pnHhYKh1UPkTQ=k-s128", "display_name": "Szymon Wiergowski", "link": "https://stackoverflow.com/users/12299971/szymon-wiergowski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1573590066, "creation_date": 1572472315, "question_id": 58634140, "link": "https://stackoverflow.com/questions/58634140/how-to-remove-or-add-class-in-nav-when-the-browser-window-goes-down-or-up", "title": "How to remove or add class in nav when the browser window goes down or up", "body": "<p>I have nav with four elements. I try add class (eg. with underline in css) in this element witch user is on. But when user scroll up or down I want remove that class and add in diffrent element in nav depending on where the user stayed.\nHere is my code:</p>\n\n<pre><code>    let currentPosition = window.scrollY;\n    let basicFunctionPosition = document.querySelector(\"#basic-function\").offsetTop;\n    let moreFunctionsPosition = document.querySelector(\"#more-functions\").offsetTop;\n    let signUpPosition = document.querySelector(\"#sign-up\").offsetTop;\n    let teamPosition = document.querySelector('#team').offsetTop;\n    let dataSectionInNav = \"\";\n    let dataSectionInNavTeam = \"\";\n\n    if (currentPosition &gt; basicFunctionPosition &amp;&amp; currentPosition &lt; moreFunctionsPosition) {\n        dataSectionInNav = document.querySelector(\".data-section-basic-func\");\n        dataSectionInNav.classList.add(\"sectionPositionInNav\");\n\n    } else if (currentPosition &gt; moreFunctionsPosition &amp;&amp; currentPosition &lt; signUpPosition) {\n        dataSectionInNav = document.querySelector(\".data-section-more-func\");\n        dataSectionInNav.classList.add(\"sectionPositionInNav\");\n\n    } else if (currentPosition &gt; signUpPosition &amp;&amp; currentPosition &lt; teamPosition) {\n        dataSectionInNav = document.querySelector(\".data-section-sign-up\");\n        dataSectionInNav.classList.add(\"sectionPositionInNav\");\n        dataSectionInNavTeam = document.querySelector(\".data-section-team\");\n        dataSectionInNavTeam.classList.add(\"sectionPositionInNav\");\n    }\n});\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "module-alias"], "comments": [{"owner": {"reputation": 1406, "user_id": 9277073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pyqoKgXyDDU/AAAAAAAAAAI/AAAAAAAAAyo/-BZXbYAsJl0/photo.jpg?sz=128", "display_name": "Daniel Habenicht", "link": "https://stackoverflow.com/users/9277073/daniel-habenicht"}, "edited": false, "score": 0, "creation_date": 1572472670, "post_id": 58634070, "comment_id": 103575312, "body": "Does the error only occur if you build and run the app?"}, {"owner": {"reputation": 3166, "user_id": 1792573, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b4f82b357f7b57e6a665853dcd51b91?s=128&d=identicon&r=PG", "display_name": "jamesdeath123", "link": "https://stackoverflow.com/users/1792573/jamesdeath123"}, "reply_to_user": {"reputation": 1406, "user_id": 9277073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pyqoKgXyDDU/AAAAAAAAAAI/AAAAAAAAAyo/-BZXbYAsJl0/photo.jpg?sz=128", "display_name": "Daniel Habenicht", "link": "https://stackoverflow.com/users/9277073/daniel-habenicht"}, "edited": false, "score": 0, "creation_date": 1572475710, "post_id": 58634070, "comment_id": 103576178, "body": "@DanielHabenicht the build works fine, it only happens on run time."}, {"owner": {"reputation": 1406, "user_id": 9277073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pyqoKgXyDDU/AAAAAAAAAAI/AAAAAAAAAyo/-BZXbYAsJl0/photo.jpg?sz=128", "display_name": "Daniel Habenicht", "link": "https://stackoverflow.com/users/9277073/daniel-habenicht"}, "edited": false, "score": 0, "creation_date": 1572477898, "post_id": 58634070, "comment_id": 103576740, "body": "That&#39;s what I meant. You have to import the <code>module-alias&#47;register</code> only once in you <code>app&#47;index.ts</code> it should load all other imports in e.g. in <code>app&#47;logic.ts</code> without the need to import it there again. That&#39;s also what their docs say."}, {"owner": {"reputation": 1406, "user_id": 9277073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pyqoKgXyDDU/AAAAAAAAAAI/AAAAAAAAAyo/-BZXbYAsJl0/photo.jpg?sz=128", "display_name": "Daniel Habenicht", "link": "https://stackoverflow.com/users/9277073/daniel-habenicht"}, "edited": false, "score": 0, "creation_date": 1572478240, "post_id": 58634070, "comment_id": 103576820, "body": "That&#39;s needed because the typescript compiler does not update the paths in the generated files (with what you specified in the <code>tsconfig.ts</code>). That&#39;s why you need to load <code>module-alias&#47;register</code> and of course in order to make it work you have to at least import in once, otherwise the packages code would not be included."}, {"owner": {"reputation": 1406, "user_id": 9277073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pyqoKgXyDDU/AAAAAAAAAAI/AAAAAAAAAyo/-BZXbYAsJl0/photo.jpg?sz=128", "display_name": "Daniel Habenicht", "link": "https://stackoverflow.com/users/9277073/daniel-habenicht"}, "edited": false, "score": 0, "creation_date": 1572479906, "post_id": 58634070, "comment_id": 103577173, "body": "If that solved it for you I will right an answer, so please let me know."}, {"owner": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "edited": false, "score": 0, "creation_date": 1572480244, "post_id": 58634070, "comment_id": 103577255, "body": "Why don&#39;t you use the <code>paths</code> instead?"}, {"owner": {"reputation": 3166, "user_id": 1792573, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b4f82b357f7b57e6a665853dcd51b91?s=128&d=identicon&r=PG", "display_name": "jamesdeath123", "link": "https://stackoverflow.com/users/1792573/jamesdeath123"}, "reply_to_user": {"reputation": 1406, "user_id": 9277073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pyqoKgXyDDU/AAAAAAAAAAI/AAAAAAAAAyo/-BZXbYAsJl0/photo.jpg?sz=128", "display_name": "Daniel Habenicht", "link": "https://stackoverflow.com/users/9277073/daniel-habenicht"}, "edited": false, "score": 0, "creation_date": 1572538805, "post_id": 58634070, "comment_id": 103599883, "body": "@DanielHabenicht yes that&#39;s what I did - I already imported it in app/index.ts, which gives me the runtime error and to fix that error I have to import it again in app/logics.ts which is against their docs, that&#39;s why I asked this question ;)"}, {"owner": {"reputation": 3166, "user_id": 1792573, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b4f82b357f7b57e6a665853dcd51b91?s=128&d=identicon&r=PG", "display_name": "jamesdeath123", "link": "https://stackoverflow.com/users/1792573/jamesdeath123"}, "reply_to_user": {"reputation": 21939, "user_id": 834045, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/vpxna.jpg?s=128&g=1", "display_name": "Kousha", "link": "https://stackoverflow.com/users/834045/kousha"}, "edited": false, "score": 0, "creation_date": 1572538864, "post_id": 58634070, "comment_id": 103599921, "body": "@Kousha can you be more specific? I already have <code>paths</code> in the tsconfig file"}, {"owner": {"reputation": 1406, "user_id": 9277073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-pyqoKgXyDDU/AAAAAAAAAAI/AAAAAAAAAyo/-BZXbYAsJl0/photo.jpg?sz=128", "display_name": "Daniel Habenicht", "link": "https://stackoverflow.com/users/9277073/daniel-habenicht"}, "edited": false, "score": 0, "creation_date": 1572549432, "post_id": 58634070, "comment_id": 103604653, "body": "Have you tried the <code>require(&#39;module-alias&#47;register)</code> syntax?"}, {"owner": {"reputation": 101, "user_id": 10442501, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZZoz.jpg?s=128&g=1", "display_name": "\u0410\u0432\u0433\u0443\u0441\u0442", "link": "https://stackoverflow.com/users/10442501/%d0%90%d0%b2%d0%b3%d1%83%d1%81%d1%82"}, "edited": false, "score": 0, "creation_date": 1604671532, "post_id": 58634070, "comment_id": 114425760, "body": "did someone resolve this issue?"}], "answers": [{"comments": [{"owner": {"reputation": 1350, "user_id": 3554127, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BBcxD.png?s=128&g=1", "display_name": "Luke Brown", "link": "https://stackoverflow.com/users/3554127/luke-brown"}, "edited": false, "score": 1, "creation_date": 1608752022, "post_id": 64809791, "comment_id": 115677225, "body": "This is the opposite of what is recommended on their README fyi"}], "tags": [], "owner": {"reputation": 3166, "user_id": 1792573, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b4f82b357f7b57e6a665853dcd51b91?s=128&d=identicon&r=PG", "display_name": "jamesdeath123", "link": "https://stackoverflow.com/users/1792573/jamesdeath123"}, "is_accepted": false, "score": 1, "last_activity_date": 1605206093, "creation_date": 1605206093, "answer_id": 64809791, "question_id": 58634070, "link": "https://stackoverflow.com/questions/58634070/typescript-path-alias-needs-module-alias-register-on-every-file/64809791#64809791", "title": "typescript path alias needs module-alias/register on every file", "body": "<p>The solution to this is quite simple:</p>\n<p>in the root file, like app/index.ts, put the <code>import 'module-alias/register';</code> to the end of all the other imports and you won't need to put it in every file. It didn't work for me because I put that import before all other imports, not after.</p>\n<p>For example:</p>\n<pre><code>import express from 'express';\nimport corsFilter from 'cors';\n...\nimport 'module-alias/register'; // This has to be after all other imports\n</code></pre>\n"}], "owner": {"reputation": 3166, "user_id": 1792573, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0b4f82b357f7b57e6a665853dcd51b91?s=128&d=identicon&r=PG", "display_name": "jamesdeath123", "link": "https://stackoverflow.com/users/1792573/jamesdeath123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3258, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1605206093, "creation_date": 1572471860, "question_id": 58634070, "link": "https://stackoverflow.com/questions/58634070/typescript-path-alias-needs-module-alias-register-on-every-file", "title": "typescript path alias needs module-alias/register on every file", "body": "<p>I am using typescript <code>v3.6.4</code> with the following <code>tsconfig.json</code> snippet:</p>\n\n<pre><code>\n  \"compilerOptions\": {\n    \"moduleResolution\": \"node\",\n    \"baseUrl\": \"./src\",\n    \"paths\": {\n      \"@config/*\": [\"config/*\"],\n      \"@config\": [\"config\"],\n    }\n  }\n</code></pre>\n\n<p>and module alias in package.json:</p>\n\n<pre><code>  \"_moduleAliases\": {\n    \"@config\": \"dist/config\"\n  }\n</code></pre>\n\n<p>I have the following folder structure:</p>\n\n<pre><code>src\n |-config\n     |-index.ts\n |-app\n     |index.ts\n     |logic.ts\n |-dist\n</code></pre>\n\n<p>Now in app/index.ts, if I do:</p>\n\n<pre><code>import 'module-alias/register';\nimport config from '@config';\n</code></pre>\n\n<p>and my <code>npm start</code> commands is:</p>\n\n<pre><code>\"start\": \"node -r ts-node/register ./src/app/index.ts\",\n</code></pre>\n\n<p><code>tsc</code> will compile successfully but <code>npm start</code> will give error:</p>\n\n<pre><code>Error: Cannot find module '@config' in src/app/logic.ts\n</code></pre>\n\n<p>And the only way to fix this is to also add</p>\n\n<pre><code>import 'module-alias/register';\n</code></pre>\n\n<p>in <code>src/app/logic.ts</code></p>\n\n<p>Seems I have to add the <code>import 'module-alias/register'</code> in every file that I do alias? Is it a way to configure this?</p>\n"}, {"tags": ["javascript", "php", "html"], "comments": [{"owner": {"reputation": 1484, "user_id": 3397563, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/4d665816e68bb355feb12950c3a15376?s=128&d=identicon&r=PG", "display_name": "oktapodia", "link": "https://stackoverflow.com/users/3397563/oktapodia"}, "edited": false, "score": 0, "creation_date": 1572481687, "post_id": 58634051, "comment_id": 103577558, "body": "Can you share some of your code?"}], "answers": [{"comments": [{"owner": {"reputation": 41497, "user_id": 661872, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/yqbSi.png?s=128&g=1", "display_name": "Lawrence Cherone", "link": "https://stackoverflow.com/users/661872/lawrence-cherone"}, "edited": false, "score": 1, "creation_date": 1572477656, "post_id": 58634815, "comment_id": 103576679, "body": "Add at your peril, not secure"}], "tags": [], "owner": {"reputation": 156, "user_id": 11656450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9bzuO.jpg?s=128&g=1", "display_name": "Moshe Gross", "link": "https://stackoverflow.com/users/11656450/moshe-gross"}, "is_accepted": true, "score": 0, "last_activity_date": 1572476814, "creation_date": 1572476814, "answer_id": 58634815, "question_id": 58634051, "link": "https://stackoverflow.com/questions/58634051/how-to-download-a-file-using-php-or-javascript-from-my-localhost/58634815#58634815", "title": "How to download a file using PHP or Javascript from my localhost", "body": "<p>You can create a link with the filename e.g. <code>https://example.com/yourpage.php?download=yourfilename</code> using JavaScript.</p>\n\n<p>Then add this to your PHP before any output</p>\n\n<pre><code>if(isset($_GET['download'])){\n   //Example for pdf file with name download.pdf \n   header(\"Content-type:application/pdf\");\n   header(\"Content-Disposition:attachment;filename='downloaded.pdf'\");\n   readfile($_GET['download']);\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12287934, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-B-meAXqClRs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rc9xReXHZiuSDovZC2omXOY-hI5_g/photo.jpg?sz=128", "display_name": "xavier", "link": "https://stackoverflow.com/users/12287934/xavier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 58634815, "answer_count": 1, "score": -2, "last_activity_date": 1572476814, "creation_date": 1572471733, "last_edit_date": 1572472485, "question_id": 58634051, "link": "https://stackoverflow.com/questions/58634051/how-to-download-a-file-using-php-or-javascript-from-my-localhost", "title": "How to download a file using PHP or Javascript from my localhost", "body": "<p>I have a file that is generated and saved in the same directory/folder where I used the webpage to generate said file. What I failed to find is a manner to access that directory and download that generated file. My problem is that I cannot use headers function from PHP because the file is generated and receives editable values from localStorage, and is loaded into the page, so it will emit errors regarding the headers, saying that headers must be output first. I tried using the download tag in HTML 5 but it downloads the raw file, which doesn't work either. </p>\n\n<p>I need to access a page click a button and download the file from the folder via browser.</p>\n"}, {"tags": ["javascript", "vue.js", "vuejs2"], "answers": [{"tags": [], "owner": {"reputation": 28420, "user_id": 5059657, "user_type": "registered", "accept_rate": 65, "profile_image": "https://lh4.googleusercontent.com/-0V0P2SXS07Y/AAAAAAAAAAI/AAAAAAAAC5k/cTht2gcsEbk/photo.jpg?sz=128", "display_name": "Alexander Staroselsky", "link": "https://stackoverflow.com/users/5059657/alexander-staroselsky"}, "is_accepted": true, "score": 1, "last_activity_date": 1584810639, "last_edit_date": 1584810639, "creation_date": 1572472227, "answer_id": 58634126, "question_id": 58634050, "link": "https://stackoverflow.com/questions/58634050/can-i-pass-the-element-im-hovering-on-as-an-argument-to-my-function-when-using/58634126#58634126", "title": "Can I pass the element I&#39;m hovering on as an argument to my function when using @mouseover=&#39;&#39; in Vue.js?", "body": "<p>Try the following to implicitely pass the event object to the method. <code>alt</code> can be found on the <code>target</code> property of the event object:</p>\n\n<pre><code>&lt;img @mouseover='displayAlt' src=\"#\" alt=\"TEST\" /&gt;\n\nmethods: {\n    displayAlt(e){\n        let alt = e.target.alt\n        // Rest of the stuff will go here\n    }\n}\n</code></pre>\n\n<p>Here is an <a href=\"https://jsfiddle.net/fb8yoamw/1/\" rel=\"nofollow noreferrer\">example</a> in action.</p>\n\n<p>Otherwise you can explicitly pass the event object using the special variable <code>$event</code>. From the <a href=\"https://vuejs.org/v2/guide/events.html#Methods-in-Inline-Handlers\" rel=\"nofollow noreferrer\">Vue.js - Event Handling</a> docs:</p>\n\n<blockquote>\n  <p>Sometimes we also need to access the original DOM event in an inline\n  statement handler. You can pass it into a method using the special\n  $event variable</p>\n</blockquote>\n\n<pre><code>&lt;img @mouseover='displayAlt($event)' src=\"#\" alt=\"TEST\" /&gt; \n</code></pre>\n"}], "owner": {"reputation": 3368, "user_id": 8618818, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/aabd1d5165e2d056ac2eaccc2e43a624?s=128&d=identicon&r=PG&f=1", "display_name": "Bobimaru", "link": "https://stackoverflow.com/users/8618818/bobimaru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 116, "favorite_count": 0, "accepted_answer_id": 58634126, "answer_count": 1, "score": 0, "last_activity_date": 1584810639, "creation_date": 1572471730, "question_id": 58634050, "link": "https://stackoverflow.com/questions/58634050/can-i-pass-the-element-im-hovering-on-as-an-argument-to-my-function-when-using", "title": "Can I pass the element I&#39;m hovering on as an argument to my function when using @mouseover=&#39;&#39; in Vue.js?", "body": "<p>I'm trying to accomplish the following thing - I have an image element with an alt tag that contains the string <code>TEST</code>. I'm trying to make it so that when a user hovers over that image, he'd get an absolutely positioned box underneath the image that will contain what is inside the alt tag of the image. While I'm not completely sure how to do this I've begun trying things out which may or may not work.</p>\n\n<p>Right now my idea is this - on <code>@mouseover</code> event, I will pass the hovered element as an argument to a function which will get the dimensions of the image tag, create an element and position it underneath the image element using position: absolute;</p>\n\n<p>The problem is that I'm not sure if I can actually pass the specific element that I'm hovering on using @mouseover as an argument to my function.</p>\n\n<p>I'm also curious if this is a good way to do what I'm trying to do or are there better ways. I'm open to suggestions. Thanks for reading.</p>\n\n<p>Template</p>\n\n<pre><code>&lt;img @mouseover='displayAlt(element)' src=\"#\" alt=\"TEST\"&gt;\n</code></pre>\n\n<p>Script</p>\n\n<pre><code>methods: {\n    displayAlt(element){\n        let alt = element.alt\n        // Rest of the stuff will go here\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "firefox", "iframe", "web-component"], "answers": [{"tags": [], "owner": {"reputation": 230, "user_id": 8017813, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24bdc3ae7821dd4af6d4231643330653?s=128&d=identicon&r=PG&f=1", "display_name": "PLEXATIC", "link": "https://stackoverflow.com/users/8017813/plexatic"}, "is_accepted": false, "score": 0, "last_activity_date": 1572530160, "creation_date": 1572530160, "answer_id": 58644902, "question_id": 58634036, "link": "https://stackoverflow.com/questions/58634036/firefox-removes-web-component-properties-when-appended-inside-iframe/58644902#58644902", "title": "Firefox removes web component properties when appended inside iframe", "body": "<p>You could try to store the value of comp.myprop in some different variable and re-assign it on comp after adding comp to the iframe. Something like this:</p>\n\n<pre><code>frame.addEventListener('load', _ =&gt; {\n  console.log(comp.myprop);\n  var propStorage = comp.myprop;\n\n  frame.contentDocument.body.appendChild(comp);\n\n  //You might need to add if(comp.myprop === undefined) here\n  comp.myprop = propStorage;\n  console.log(comp.myprop);\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 23324, "user_id": 4600982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6kpWl.png?s=128&g=1", "display_name": "Supersharp", "link": "https://stackoverflow.com/users/4600982/supersharp"}, "is_accepted": true, "score": 1, "last_activity_date": 1572531052, "creation_date": 1572531052, "answer_id": 58645177, "question_id": 58634036, "link": "https://stackoverflow.com/questions/58634036/firefox-removes-web-component-properties-when-appended-inside-iframe/58645177#58645177", "title": "Firefox removes web component properties when appended inside iframe", "body": "<p>Chrome and Firefox don't have the same interpretation of the Custom Element definition scope.</p>\n\n<p>With Chrome, when you move a custom element from the main document to an inner <code>&lt;iframe&gt;</code>, it remains a (defined) custom element with all its methods and properties.</p>\n\n<p>With Firefox, when you move a custom element from the main document to an inner <code>&lt;iframe&gt;</code>, because of frame isoation, the custom element is undefined in the context of the Frame, the element is an <em>unknown</em> tag with no custom property or custom method.</p>\n"}], "owner": {"reputation": 13, "user_id": 12299894, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ad0e87e6c2bb2bbf591046c91fb0974?s=128&d=identicon&r=PG&f=1", "display_name": "royru", "link": "https://stackoverflow.com/users/12299894/royru"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 58645177, "answer_count": 2, "score": 1, "last_activity_date": 1572531052, "creation_date": 1572471654, "question_id": 58634036, "link": "https://stackoverflow.com/questions/58634036/firefox-removes-web-component-properties-when-appended-inside-iframe", "title": "Firefox removes web component properties when appended inside iframe", "body": "<p>I am trying to append a web component DOM node <code>comp</code> with a property <code>myprop</code> inside an iframe.</p>\n\n<pre><code>const frame = document.createElement('iframe')\nframe.src = 'about:blank'\n\nframe.addEventListener('load', _ =&gt; {\n   console.log(comp.myprop) // \"abc\"\n   frame.contentDocument.body.appendChild(comp)\n   console.log(comp.myprop) // undefined in Firefox, \"abc\" in Chrome, Safari\n})\n</code></pre>\n\n<p>This works perfectly in Chrome and Safari. However, Firefox seems to delete <code>myprop</code> after <code>comp</code> is appended to the body of the iframe.</p>\n"}, {"tags": ["javascript", "memory", "garbage-collection", "google-chrome-devtools"], "owner": {"reputation": 3055, "user_id": 2831663, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/e47e21eab99a99158a077632a79218cb?s=128&d=identicon&r=PG&f=1", "display_name": "kun", "link": "https://stackoverflow.com/users/2831663/kun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 74, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1572477787, "creation_date": 1572471223, "last_edit_date": 1572477787, "question_id": 58633947, "link": "https://stackoverflow.com/questions/58633947/what-is-means-in-distance-field-of-chrome-memory-devtool", "title": "what is &quot;-&quot; means in distance field of chrome memory devtool", "body": "<p><a href=\"https://i.stack.imgur.com/9NEP1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9NEP1.png\" alt=\"enter image description here\"></a></p>\n\n<p>after click on garbege collect button the object shows \"-\" for the distance column, is this means the object is not reachable and it is garbage collected?</p>\n"}, {"tags": ["javascript", "reactjs", "npm", "node-modules", "react-pdf"], "owner": {"reputation": 17, "user_id": 10270515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cad72851fdc53c3913b96165ad655bff?s=128&d=identicon&r=PG&f=1", "display_name": "Benz", "link": "https://stackoverflow.com/users/10270515/benz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1572471170, "creation_date": 1572471170, "question_id": 58633936, "link": "https://stackoverflow.com/questions/58633936/why-does-importing-react-pdf-break-my-app-from-my-npm-library", "title": "Why does importing react pdf break my app from my npm library", "body": "<p>I am building a npm module: myLibrary, for my app: myMainApp.\nI need to use react-pdf in myLibrary. In one of my component in myLibrary:</p>\n\n<pre><code>import { Document, Page } from 'react-pdf';\nconsole.log(Document, Page);\n</code></pre>\n\n<p>I npm install myLibrary from myMainApp.\nError ouput:</p>\n\n<pre><code>Uncaught TypeError:Cannot read property 'bind' of undefined.\n</code></pre>\n\n<p>I tried removing all react-pdf code from myLibrary. Including that import { Document...} from 'react-pdf' line, rerun myMainApp, and no error.</p>\n\n<p>Why does importing react-pdf in myLibrary break myMainApp?</p>\n"}, {"tags": ["javascript", "android", "firebase", "firebase-cloud-messaging", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 696, "user_id": 8521094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2397e7af590c3568e362b1804eb2d1a?s=128&d=identicon&r=PG", "display_name": "Alif Hasnain", "link": "https://stackoverflow.com/users/8521094/alif-hasnain"}, "edited": false, "score": 0, "creation_date": 1572511809, "post_id": 58635539, "comment_id": 103585035, "body": "That didn&#39;t solve my problem. <code>onMessageReceived()</code> is getting called once inside the class which extends <code>FirebaseMessagingService</code> like before even though more than one data payload was sent to the topic."}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": false, "score": 1, "last_activity_date": 1572482942, "creation_date": 1572482942, "answer_id": 58635539, "question_id": 58633860, "link": "https://stackoverflow.com/questions/58633860/only-receiving-the-last-message-sent-firebase-cloud-messaging/58635539#58635539", "title": "Only receiving the last message sent (Firebase Cloud Messaging)", "body": "<p>Callable functions must return a promise from the top level of the function callback that resolves to the data to send to the client.  Right now, your function is returning nothing, which means it terminates immediately and returns nothing.  The <code>return response</code> code is actually just returning a value from the <code>then</code> callback function, not the top-level function.  Try this instead, which should propagate that value out of the function and to the client.</p>\n\n<pre><code>  return admin.messaging().send(message)\n    .then((response) =&gt; {\n      // Response is a message ID string.\n      console.log('Successfully sent message:', response);\n      return response;\n    })\n    .catch((error) =&gt; {\n      console.log('Error sending message:', error);\n    });\n</code></pre>\n\n<p>It's very important to deal with promises correctly in functions code, otherwise they might not work at all.</p>\n"}], "owner": {"reputation": 696, "user_id": 8521094, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2397e7af590c3568e362b1804eb2d1a?s=128&d=identicon&r=PG", "display_name": "Alif Hasnain", "link": "https://stackoverflow.com/users/8521094/alif-hasnain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572482955, "creation_date": 1572470779, "last_edit_date": 1572482955, "question_id": 58633860, "link": "https://stackoverflow.com/questions/58633860/only-receiving-the-last-message-sent-firebase-cloud-messaging", "title": "Only receiving the last message sent (Firebase Cloud Messaging)", "body": "<p>I was trying to send multiple message to a topic from firebase cloud function with firebase admin sdk. But if the device is not connected to the network then I turn the network connectivity on I only receive the last message I sent inside <code>onMessageReceived()</code> method on my android app. I want to receive all the message which was sent when device was not connected to the internet.</p>\n\n<p>My cloud function code : </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const functions = require('firebase-functions');\nconst admin = require('firebase-admin');\nadmin.initializeApp();\n\nexports.showNotification = functions.https.onCall((data,context) =&gt; {\n\n  var topic = 'weather';\n\n  var message = {\n    data: {\n      title: 'This is title',\n      description: getRandomString(15)\n    },\n    topic: topic,\n    android : {\n        ttl : 86400\n    }\n  };\n\n  // Send a message to devices subscribed to the provided topic.\n  admin.messaging().send(message)\n    .then((response) =&gt; {\n      // Response is a message ID string.\n      console.log('Successfully sent message:', response);\n      return response;\n    })\n    .catch((error) =&gt; {\n      console.log('Error sending message:', error);\n    });\n\n});\n</code></pre>\n"}, {"tags": ["javascript", "css", "angular", "typescript", "ionic3"], "answers": [{"tags": [], "owner": {"reputation": 1138, "user_id": 6798006, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/237d47b9e57a0ddd2493ab5b400dc5dc?s=128&d=identicon&r=PG&f=1", "display_name": "Dylan Anlezark", "link": "https://stackoverflow.com/users/6798006/dylan-anlezark"}, "is_accepted": true, "score": 4, "last_activity_date": 1572470828, "creation_date": 1572470828, "answer_id": 58633870, "question_id": 58633846, "link": "https://stackoverflow.com/questions/58633846/highlight-rows-using-ngfor-in-angular-ionic-based-on-condition/58633870#58633870", "title": "Highlight rows using ngFor in Angular Ionic based on condition", "body": "<p>Change \n     <code>[ngClass]=\"(count-1==i)?'newMsg':'oldMsg'\"</code> to \n      <code>[ngClass]=\"(count-1&gt;=i)?'newMsg':'oldMsg'\"</code></p>\n"}, {"tags": [], "owner": {"reputation": 56, "user_id": 12297890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z69MA.jpg?s=128&g=1", "display_name": "iCrashOne", "link": "https://stackoverflow.com/users/12297890/icrashone"}, "is_accepted": false, "score": 1, "last_activity_date": 1572471446, "creation_date": 1572471446, "answer_id": 58633997, "question_id": 58633846, "link": "https://stackoverflow.com/questions/58633846/highlight-rows-using-ngfor-in-angular-ionic-based-on-condition/58633997#58633997", "title": "Highlight rows using ngFor in Angular Ionic based on condition", "body": "<p>You can also pass a function like</p>\n\n<pre><code>[ngClass]=\"isNew(i)?'newMsg':'oldMsg'\"\n</code></pre>\n\n<p>And in the component</p>\n\n<pre><code>isNew(index) {\n      if (index &lt; this.count) {\n        return true;\n      }\n      return false;\n    }\n</code></pre>\n"}], "owner": {"reputation": 377, "user_id": 6898861, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90e16e11227b1c592dcbe1d0f2092ad1?s=128&d=identicon&r=PG&f=1", "display_name": "web developer", "link": "https://stackoverflow.com/users/6898861/web-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 58633870, "answer_count": 2, "score": 2, "last_activity_date": 1572471446, "creation_date": 1572470667, "question_id": 58633846, "link": "https://stackoverflow.com/questions/58633846/highlight-rows-using-ngfor-in-angular-ionic-based-on-condition", "title": "Highlight rows using ngFor in Angular Ionic based on condition", "body": "<p>In my application I am in need to highlight all row's based on count value using ngfor in angular. </p>\n\n<p>I tried and I am able to highlight only the particular row based on my count.Please help</p>\n\n<p><a href=\"https://stackblitz.com/edit/ionic-ypxtr7?file=app%2Fapp.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/ionic-ypxtr7?file=app%2Fapp.component.ts</a></p>\n\n<p>If my count value is 3, I need to highlight the row's with index 0, 1 and 2.</p>\n"}, {"tags": ["javascript", "json", "wordpress"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 12299869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q207qLD7I5w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reeF20T4QOUdUHlnQlBImY-Ndxg6w/photo.jpg?sz=128", "display_name": "frank sentinella", "link": "https://stackoverflow.com/users/12299869/frank-sentinella"}, "edited": false, "score": 0, "creation_date": 1572472025, "post_id": 58633928, "comment_id": 103575103, "body": "I am struggling to get any output because of the error. The only way I know it&#39;s creating an error is because its showing in the inspect Console. Any suggestions you may have on getting an output would be much appreciated."}, {"owner": {"reputation": 31, "user_id": 8755370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f54ca1bf74c9dfa383561acecc3b259?s=128&d=identicon&r=PG&f=1", "display_name": "Quentin Fulsher", "link": "https://stackoverflow.com/users/8755370/quentin-fulsher"}, "reply_to_user": {"reputation": 1, "user_id": 12299869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q207qLD7I5w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reeF20T4QOUdUHlnQlBImY-Ndxg6w/photo.jpg?sz=128", "display_name": "frank sentinella", "link": "https://stackoverflow.com/users/12299869/frank-sentinella"}, "edited": false, "score": 0, "creation_date": 1572472201, "post_id": 58633928, "comment_id": 103575160, "body": "Can you replace the code snippet <code>this.text().then(json.parse)</code> with <code>this.text().then(console.log)</code>? That should output the JSON into the console."}, {"owner": {"reputation": 1, "user_id": 12299869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q207qLD7I5w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reeF20T4QOUdUHlnQlBImY-Ndxg6w/photo.jpg?sz=128", "display_name": "frank sentinella", "link": "https://stackoverflow.com/users/12299869/frank-sentinella"}, "edited": false, "score": 0, "creation_date": 1572473132, "post_id": 58633928, "comment_id": 103575456, "body": "That didn&#39;t output anything so I assume that the JSON.parse error is being produced elsewhere in the wordpress code. Although the error only triggers when this specific plugin is triggered. The plugin is &quot;Usernoise&quot; which is an old feedback plugin (the author doesn&#39;t give support anymore) and when I search the plugin code it only has one instance of JSON.parse"}, {"owner": {"reputation": 31, "user_id": 8755370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f54ca1bf74c9dfa383561acecc3b259?s=128&d=identicon&r=PG&f=1", "display_name": "Quentin Fulsher", "link": "https://stackoverflow.com/users/8755370/quentin-fulsher"}, "reply_to_user": {"reputation": 1, "user_id": 12299869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q207qLD7I5w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reeF20T4QOUdUHlnQlBImY-Ndxg6w/photo.jpg?sz=128", "display_name": "frank sentinella", "link": "https://stackoverflow.com/users/12299869/frank-sentinella"}, "edited": false, "score": 0, "creation_date": 1572473777, "post_id": 58633928, "comment_id": 103575651, "body": "Yeah, without the actual JSON that it&#39;s trying to parse I can&#39;t figure out what is wrong"}, {"owner": {"reputation": 1, "user_id": 12299869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q207qLD7I5w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reeF20T4QOUdUHlnQlBImY-Ndxg6w/photo.jpg?sz=128", "display_name": "frank sentinella", "link": "https://stackoverflow.com/users/12299869/frank-sentinella"}, "edited": false, "score": 0, "creation_date": 1572474182, "post_id": 58633928, "comment_id": 103575775, "body": "I&#39;ve delved a bit further and I&#39;m not sure if I&#39;m doing the right thing, I looked at the &quot;Network&quot; panel and  a  method=POST, type=json, Cause=fetch, file=<a href=\"https://herefordpetanque.co.uk/wp-admin/admin-ajax.php?action=un_feedback_get\" rel=\"nofollow noreferrer\">herefordpetanque.co.uk/wp-admin/&hellip;</a>     when I clicked on it it output the following to the browser :"}, {"owner": {"reputation": 1, "user_id": 12299869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q207qLD7I5w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reeF20T4QOUdUHlnQlBImY-Ndxg6w/photo.jpg?sz=128", "display_name": "frank sentinella", "link": "https://stackoverflow.com/users/12299869/frank-sentinella"}, "edited": false, "score": 0, "creation_date": 1572474191, "post_id": 58633928, "comment_id": 103575779, "body": "&lt;style&gt; \t\t\t#upg_button, #pure-button {display:none !important;} \t\t&lt;/style&gt; \t\t{&quot;feedback&quot;:[{&quot;id&quot;:1332,&quot;status_slug&quot;:&quot;in_progress&quot;,&quot;statu&zwnj;&#8203;s&quot;:&quot;In progress&quot;,&quot;title&quot;:&quot;Test&quot;,&quot;time_ago&quot;:&quot;2019-10-28T22:04:41+00:&zwnj;&#8203;00&quot;,&quot;liked&quot;:false,&quot;d&zwnj;&#8203;isliked&quot;:false,&quot;like&zwnj;&#8203;s&quot;:0,&quot;comments&quot;:0,&quot;a&zwnj;&#8203;vatar&quot;:&quot;https:\\/\\/se&zwnj;&#8203;cure.gravatar.com\\/a&zwnj;&#8203;vatar\\/5ba30e977cbab&zwnj;&#8203;7e9a988ba78ced823b0?&zwnj;&#8203;s=96&amp;d=mm&amp;r=g&quot;,&quot;auth&zwnj;&#8203;or&quot;:&quot;Frank Sentinella&quot;,&quot;text&quot;:&quot;test&quot;}],&quot;pages&quot;:1}"}, {"owner": {"reputation": 1, "user_id": 12299869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q207qLD7I5w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reeF20T4QOUdUHlnQlBImY-Ndxg6w/photo.jpg?sz=128", "display_name": "frank sentinella", "link": "https://stackoverflow.com/users/12299869/frank-sentinella"}, "edited": false, "score": 0, "creation_date": 1572474277, "post_id": 58633928, "comment_id": 103575799, "body": "This matches the feedback notice.  would anything in there trigger the error if it didn&#39;t match the json syntax ?"}, {"owner": {"reputation": 1, "user_id": 12299869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q207qLD7I5w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reeF20T4QOUdUHlnQlBImY-Ndxg6w/photo.jpg?sz=128", "display_name": "frank sentinella", "link": "https://stackoverflow.com/users/12299869/frank-sentinella"}, "edited": false, "score": 0, "creation_date": 1572474596, "post_id": 58633928, "comment_id": 103575881, "body": "I also get this in the console :      await fetch(&quot;<a href=\"https://herefordpetanque.co.uk/wp-admin/admin-ajax.php?action=un_feedback_get\" rel=\"nofollow noreferrer\">herefordpetanque.co.uk/wp-admin/&hellip;</a>&quot;, { &quot;credentials&quot;: &quot;include&quot;,     &quot;headers&quot;: { &quot;User-Agent&quot;: &quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:70.0) Gecko/20100101 Firefox/70.0&quot;, &quot;Accept&quot;: &quot;application/json&quot;, &quot;Accept-Language&quot;: &quot;en-GB,en;q=0.5&quot;, &quot;Content-Type&quot;: &quot;text/plain;charset=UTF-8&quot;, &quot;Pragma&quot;: &quot;no-cache&quot;, &quot;Cache-Control&quot;: &quot;no-cache&quot; }, &quot;referrer&quot;: &quot;<a href=\"https://herefordpetanque.co.uk/\" rel=\"nofollow noreferrer\">herefordpetanque.co.uk</a>&quot;, &quot;body&quot;: &quot;{\\&quot;type\\&quot;:\\&quot;idea\\&quot;,\\&quot;page\\&quot;:1}&quot;, &quot;method&quot;: &quot;POST&quot;, &quot;mode&quot;: &quot;cors&quot; });"}, {"owner": {"reputation": 31, "user_id": 8755370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f54ca1bf74c9dfa383561acecc3b259?s=128&d=identicon&r=PG&f=1", "display_name": "Quentin Fulsher", "link": "https://stackoverflow.com/users/8755370/quentin-fulsher"}, "reply_to_user": {"reputation": 1, "user_id": 12299869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q207qLD7I5w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reeF20T4QOUdUHlnQlBImY-Ndxg6w/photo.jpg?sz=128", "display_name": "frank sentinella", "link": "https://stackoverflow.com/users/12299869/frank-sentinella"}, "edited": false, "score": 0, "creation_date": 1572476159, "post_id": 58633928, "comment_id": 103576296, "body": "The network tab records any requests the site makes and allows you to inspect them. It doesn&#39;t necessarily mean it has what you&#39;re looking for though.   Your second comment has some JSON in there but it would fail if you try to parse the <code>&lt;style&gt;...&lt;&#47;style&gt;</code> bit. Are you sure that this is what it&#39;s trying to parse?"}], "tags": [], "owner": {"reputation": 31, "user_id": 8755370, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f54ca1bf74c9dfa383561acecc3b259?s=128&d=identicon&r=PG&f=1", "display_name": "Quentin Fulsher", "link": "https://stackoverflow.com/users/8755370/quentin-fulsher"}, "is_accepted": false, "score": 0, "last_activity_date": 1572471115, "creation_date": 1572471115, "answer_id": 58633928, "question_id": 58633820, "link": "https://stackoverflow.com/questions/58633820/i-have-a-json-parse-syntax-error-in-some-wordpress-plugin-code/58633928#58633928", "title": "I have a JSON.parse syntax error in some wordpress plugin code", "body": "<p>It's not very clear what the JSON you're trying to parse is. Your code suggests that <code>this.text()</code> returns a promise and you want to pipe the text into the <code>JSON.parse</code> function. That all looks ok. </p>\n\n<p>Update with the output of <code>this.text()</code> and we can see what's invalid in your JSON.</p>\n"}], "owner": {"reputation": 1, "user_id": 12299869, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q207qLD7I5w/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reeF20T4QOUdUHlnQlBImY-Ndxg6w/photo.jpg?sz=128", "display_name": "frank sentinella", "link": "https://stackoverflow.com/users/12299869/frank-sentinella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572480800, "creation_date": 1572470495, "last_edit_date": 1572480800, "question_id": 58633820, "link": "https://stackoverflow.com/questions/58633820/i-have-a-json-parse-syntax-error-in-some-wordpress-plugin-code", "title": "I have a JSON.parse syntax error in some wordpress plugin code", "body": "<p>I am new to JSON and struggling with an error in a small section of code.</p>\n\n<p>The code is:</p>\n\n<pre><code>this.json = function() {\n                return this.text().then(json.parse);\n            };\n</code></pre>\n\n<p>The error is:</p>\n\n<pre><code>SyntaxError: JSON.parse: unexpected character at line 1 column 3 of the JSON data\n</code></pre>\n\n<p>Can anyone see what the issue is?</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "mongoose", "electron"], "comments": [{"owner": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 0, "creation_date": 1572478298, "post_id": 58633784, "comment_id": 103576835, "body": "mongoose.Schema is a constructor, you need to prefix the <code>new</code> keyword in front of it, <code>new mongoose.Schema</code>. Your code snippet is missing a curly brace &amp; parentheses  ? &amp; are you initializing your model with <code>mongoose.model</code>?"}, {"owner": {"reputation": 79, "user_id": 3791412, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/B9cNj.jpg?s=128&g=1", "display_name": "dferg", "link": "https://stackoverflow.com/users/3791412/dferg"}, "reply_to_user": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 0, "creation_date": 1572485996, "post_id": 58633784, "comment_id": 103578439, "body": "I didn&#39;t include the entire schema because it was erroring from that line. That&#39;s why the curly and paren are missing. Indeed I had missed the &quot;new&quot; keyword on it but that doesn&#39;t seem to have resolved the issue. Yes I am initializing it with <code>mongoose.model</code>"}, {"owner": {"reputation": 79, "user_id": 3791412, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/B9cNj.jpg?s=128&g=1", "display_name": "dferg", "link": "https://stackoverflow.com/users/3791412/dferg"}, "reply_to_user": {"reputation": 3019, "user_id": 10687857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7vYls.jpg?s=128&g=1", "display_name": "DanStarns", "link": "https://stackoverflow.com/users/10687857/danstarns"}, "edited": false, "score": 0, "creation_date": 1572486395, "post_id": 58633784, "comment_id": 103578507, "body": "So, what it SEEMS like is that, when it opens curlys to denote the nested object, it seems like it&#39;s expecting that to be a type definition instead and doesn&#39;t recognize it as a nested object. So, when it sees the curlys, it&#39;s expecting to find the <code>type</code>, <code>default</code>, <code>required</code>, etc properties like I&#39;m defining a type is what it seems like to me. Saying <code>type</code> is undefined makes me think that, that&#39;s what it&#39;s looking for."}], "owner": {"reputation": 79, "user_id": 3791412, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/B9cNj.jpg?s=128&g=1", "display_name": "dferg", "link": "https://stackoverflow.com/users/3791412/dferg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572470297, "creation_date": 1572470297, "question_id": 58633784, "link": "https://stackoverflow.com/questions/58633784/mongoose-undefined-type-at-with-nested-object", "title": "Mongoose `Undefined type at` with nested object", "body": "<p>I have an application in Electron that I import mongoose and create my schemas just like anyone else. Standard stuff. I get an error if I refresh the view within Electron. It loads correctly the first time but, during development I may change something and refresh to continue but, once this error kicks in, I have to restart the application.</p>\n\n<p>I'm getting the <code>Uncaught TypeError: Undefined type 'undefined' at 'thisfield'</code> error and I cannot for the life of me figure out why. The part it's referencing in the error is this: </p>\n\n<pre><code>const mongoose = require( 'mongoose' )\nconst schema = mongoose.Schema( {\n  name: String,\n  thisfield: {\n    reference: String,\n    unit: String,\n    value: Number\n  },\n</code></pre>\n\n<p>I changed field names but this field gets that error and I have no idea why. According to the Mongoose documentation, it is perfectly valid to assign a key a nest value with further key/value pairs in a schema (see the example under Defining Your Schema on the Schemas page of the documentation).</p>\n\n<p>Am I missing something? Is there something within Electron or refreshing an Electron renderer that would cause this that I'm unaware of?</p>\n"}, {"tags": ["javascript", "three.js", "gpu", "mouse-picking"], "comments": [{"owner": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "edited": false, "score": 0, "creation_date": 1572525965, "post_id": 58633782, "comment_id": 103592590, "body": "Where is your code generating vertex colors with the object ids? if you look at <a href=\"https://github.com/mrdoob/three.js/blob/master/examples/webgl_interactive_cubes_gpu.html\" rel=\"nofollow noreferrer\">this sample</a> you&#39;ll see for one it&#39;s a static scene, it creates one giant geometry to pick from with vertex colors that map to object ids."}, {"owner": {"reputation": 13, "user_id": 4645282, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GeTetbqr2bY/AAAAAAAAAAI/AAAAAAAACAI/pdmVIrMhfVI/photo.jpg?sz=128", "display_name": "nosh247", "link": "https://stackoverflow.com/users/4645282/nosh247"}, "reply_to_user": {"reputation": 82151, "user_id": 128511, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/KwGaJ.png?s=128&g=1", "display_name": "gman", "link": "https://stackoverflow.com/users/128511/gman"}, "edited": false, "score": 0, "creation_date": 1572542561, "post_id": 58633782, "comment_id": 103601695, "body": "@gman hey thanks for your response, i managed to make it work with individual objects from the gltf that i am loading.  Could you help me understand how if rendering potree pointcloud over the model be affecting the picking of the objects? Because when i try it on the example it works, but when i try it on top of a pointcloud with potree running it always outputs the index 0 when i log &quot;data&quot;, Im thinking that maybe i need to turn off the potree engine alltogether to make this work as it changes the SetRenderTarget. Is there a way to create a view &quot;setViewOffset&quot; from the camera?"}], "owner": {"reputation": 13, "user_id": 4645282, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GeTetbqr2bY/AAAAAAAAAAI/AAAAAAAACAI/pdmVIrMhfVI/photo.jpg?sz=128", "display_name": "nosh247", "link": "https://stackoverflow.com/users/4645282/nosh247"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 96, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572542786, "creation_date": 1572470288, "last_edit_date": 1572542786, "question_id": 58633782, "link": "https://stackoverflow.com/questions/58633782/gpu-picking-on-loaded-gltf-objects", "title": "GPU picking on loaded GLTF objects", "body": "<p>i have tried a lot of ways to go around this topic, before asking and now i really have no clue how to accomplish object picking with gpu on a gltf loaded file, so im hoping for any help that i can get :(</p>\n\n<p>I've loaded a huge GLTF file, with a lot of little objects in it, due to the file count its not possible to achieve a good fps, if i just add them to the scene, so i have managed to achieve 60fps merging the gltfs children into chunks, but when i try to implement the webgl_interactive_cubes_gpu example, but it doesn't seem to be working for me, I always get the same object when im clicking.</p>\n\n<p>To debug i have tried rendering the pickingScene and everything seems to be in place, graphically speaking, but when it comes to picking it doesnt seem to be working as i expected, unless im doing something wrong.</p>\n\n<p>Raycast picking is not a suitable option for me as there are a lot of objects and adding renderin them would kill the fps. (55k objects);</p>\n\n<p>Below is the code once the gltf is loaded:</p>\n\n<pre><code>var child = gltf.scene.children[i];\n                    var childGeomCopy = child.geometry.clone();\n                    childGeomCopy.translate(geomPosition.x, geomPosition.y, geomPosition.z);\n                    childGeomCopy.scale(child.scale.x * Scalar, child.scale.y * Scalar, child.scale.z * Scalar);\n                    childGeomCopy.computeBoundingBox();\n                    childGeomCopy.computeBoundingSphere();\n                    childGeomCopy.applyMatrix(new THREE.Matrix4());\n\n                    geometriesPicking.push(childGeomCopy);\n\n                    var individualObj = new THREE.Mesh(childGeomCopy, IndividualObjMat);\n                    individualObj.name = \"individual_\" + child.name;\n\n                    pickingData[childCounter] = {\n                        object: individualObj,\n                        position: individualObj.position.clone(),\n                        rotation: individualObj.rotation.clone(),\n                        scale: individualObj.scale.clone()\n                    };\n                    childCounter++;\n</code></pre>\n\n<p>Edit:</p>\n\n<pre><code>gltf.scene.traverse(function (child) {\n                    //console.log(child.type);\n                    if (child.isMesh) {\n                        let geometry = child.geometry.clone();\n\n                        let position = new THREE.Vector3();\n                        position.x = child.position.x;\n                        position.y = child.position.y;\n                        position.z = child.position.z;\n\n                        let rotation = new THREE.Euler();\n                        rotation.x = child.rotation.x;\n                        rotation.y = child.rotation.y;\n                        rotation.z = child.rotation.z;\n\n                        let scale = new THREE.Vector3();\n                        scale.x = child.scale.x;\n                        scale.y = child.scale.y;\n                        scale.z = child.scale.z;\n\n                        quaternion.setFromEuler(rotation);\n                        matrix.compose(position.multiplyScalar(Scalar), quaternion, scale.multiplyScalar(Scalar));\n                        geometry.applyMatrix(matrix);\n\n                        applyVertexColors(geometry, color.setHex(Math.random() * 0xffffff));\n                        geometriesDrawn.push(geometry);\n\n                        geometry = geometry.clone();\n                        applyVertexColors(geometry, color.setHex(childCounter));\n                        geometriesPicking.push(geometry);\n\n                        pickingData[childCounter] = {\n                            object: new THREE.Mesh(geometry.clone(), new THREE.MeshBasicMaterial({ color: 0xffff00, blending: THREE.AdditiveBlending, transparent: true, opacity: 0.8 })),\n                            id: childCounter,\n                            position: position,\n                            rotation: rotation,\n                            scale: scale\n                        };\n                        childCounter++;\n                        //console.log(\"%c [childCounter] :\", \"\", childCounter);\n                    }\n                });\n</code></pre>\n\n<p>...\nvar pickingGeom = THREE.BufferGeometryUtils.mergeBufferGeometries(geometriesPicking);\npickingGeom.rotateX(THREE.Math.degToRad(90));                        pickingScene.add(new THREE.Mesh(pickingGeom, pickingMaterial));</p>\n\n<p>Then on my MouseUp function I call pick(mouse*) and pass in the mouse* information:</p>\n\n<pre><code>function pick(mouse) {\ncamera.setViewOffset(renderer.domElement.width, renderer.domElement.height, mouse.x * window.devicePixelRatio | 0, mouse.y * window.devicePixelRatio | 0, 1, 1);\nrenderer.setRenderTarget(pickingTexture);\nrenderer.render(pickingScene, camera);\ncamera.clearViewOffset();\nvar pixelBuffer = new Uint8Array(4);\nrenderer.readRenderTargetPixels(pickingTexture, 0, 0, 1, 1, pixelBuffer);\nvar id = (pixelBuffer[0] &lt;&lt; 16) | (pixelBuffer[1] &lt;&lt; 8) | (pixelBuffer[2]);\nvar data = pickingData[id];\n\nif (data) {\n    console.log(data.object.name, \":\", data.position); // Always return the same object\n}}\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 3, "creation_date": 1572470458, "post_id": 58633767, "comment_id": 103574577, "body": "<code>id=&#39;+&quot;tid&quot;+&#39;</code>  &lt;-- ????? Not to mention that <code>td</code> elements don&#39;t have a <code>value</code> property/attribute, they have <code>.textContent</code> and <code>.innerHTML</code>. I think you should start by cleaning up your code to make it valid."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1572470695, "post_id": 58633767, "comment_id": 103574662, "body": "There&#39;s not much description here, nor really a good way of reproducing this. Can you please create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>? You can use <a href=\"https://meta.stackoverflow.com/q/358992/215552\">Stack Snippets</a> to make sure it runs. Note that concatenating a string to add an event handler is a pretty old method; you could just use jQuery&#39;s <a href=\"https://api.jquery.com/on/\" rel=\"nofollow noreferrer\"><code>on</code></a> method to do it instead..."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1572470793, "post_id": 58633767, "comment_id": 103574700, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2310145/javascript-getting-value-of-a-td-with-id-name\">JavaScript, getting value of a td with id name</a>"}, {"owner": {"reputation": 13, "user_id": 10696463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe82328d477a1ecf62fb2fec2168139?s=128&d=identicon&r=PG&f=1", "display_name": "iMatti", "link": "https://stackoverflow.com/users/10696463/imatti"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1572471399, "post_id": 58633767, "comment_id": 103574894, "body": "@HereticMonkey i want to get value=&quot;&quot; property, example which you have given is not returning value. can you please help how to fetch only value."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1572471732, "post_id": 58633767, "comment_id": 103575011, "body": "As mentioned, there isn&#39;t anything in the question. Please <a href=\"https://stackoverflow.com/posts/58633767/edit\">edit</a> your question to make it clear what exactly your question is. As for the answer, a hint: <code>getAttribute</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1572472320, "post_id": 58633767, "comment_id": 103575199, "body": "Why does this have the <code>jquery</code> tag if you&#39;re using vanilla JavaScript?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1572472365, "post_id": 58633767, "comment_id": 103575214, "body": "What is the exact error message? <code>alert Undefined</code> doesn&#39;t look an error I&#39;ve seen."}], "answers": [{"comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 1, "creation_date": 1572471884, "post_id": 58633963, "comment_id": 103575058, "body": "You&#39;ve added template literals, arrow functions, unnecessary short-circuited assignments, and changed event binding, while adding an event namespace. You&#39;ve also corrected the invalid HTML - -- All without any explanation. This may work, but at Stack Overflow, we want to have people understand our answers."}], "tags": [], "owner": {"reputation": 31, "user_id": 10885241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RaTvZ.jpg?s=128&g=1", "display_name": "Yuriy Ivashenyuk", "link": "https://stackoverflow.com/users/10885241/yuriy-ivashenyuk"}, "is_accepted": false, "score": -1, "last_activity_date": 1572471315, "creation_date": 1572471315, "answer_id": 58633963, "question_id": 58633767, "link": "https://stackoverflow.com/questions/58633767/why-is-the-value-of-a-table-cell-returning-undefined/58633963#58633963", "title": "Why is the value of a table cell returning Undefined?", "body": "<p>Use 'data' attribute instead 'value'</p>\n\n<pre><code>$datasearch.append(\n`&lt;tr&gt;\n   &lt;td class=\"edit-btn\" id=\"tid\" data=\"hhh\"&gt;hhh&lt;/td&gt; \n&lt;/tr&gt;`);\n</code></pre>\n\n<p>Function</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n $(()=&gt; {\n    $('body').on('click', '#tid', function() {\n      let $this = $(this);\n      let x = $this.data() || $this.attr('data');\n      alert(x);\n    }\n });\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10696463, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bbe82328d477a1ecf62fb2fec2168139?s=128&d=identicon&r=PG&f=1", "display_name": "iMatti", "link": "https://stackoverflow.com/users/10696463/imatti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1572471315, "creation_date": 1572470214, "last_edit_date": 1572470715, "question_id": 58633767, "link": "https://stackoverflow.com/questions/58633767/why-is-the-value-of-a-table-cell-returning-undefined", "title": "Why is the value of a table cell returning Undefined?", "body": "<p><strong>Jquery:</strong></p>\n\n<pre><code>$datasearch.append('&lt;tr&gt;'\n    +'&lt;td class=\"edit-btn\" id='+\"tid\"+' onClick='+\"pic()\"+'  value='+\"hhh\"+'&gt;&lt;/td&gt;'+\n    +'&lt;/tr&gt;');\n</code></pre>\n\n<p><strong>function:</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n function pic() {\n    var x = document.getElementById(\"tid\").value;\n    alert(x);\n }\n&lt;/script&gt;\n</code></pre>\n\n<blockquote>\n  <p>Error: alert Undefined</p>\n</blockquote>\n"}, {"tags": ["javascript", "html", "iframe", "embed", "fullscreen"], "comments": [{"owner": {"reputation": 262, "user_id": 8864579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e193cbec4b022334c69e06a3546acde?s=128&d=identicon&r=PG&f=1", "display_name": "Trueman", "link": "https://stackoverflow.com/users/8864579/trueman"}, "edited": false, "score": 0, "creation_date": 1572471139, "post_id": 58633755, "comment_id": 103574814, "body": "It is possible that they restricted it. If I set the iframe width and height to the fullscreen values it is larger, covering all iframe - but if you press PLAY the game is rendered on the host server, delivering low-res result to the iframe."}, {"owner": {"reputation": 1, "user_id": 12299751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c8753101544df803c18015f7525c531?s=128&d=identicon&r=PG&f=1", "display_name": "techgamer05", "link": "https://stackoverflow.com/users/12299751/techgamer05"}, "reply_to_user": {"reputation": 262, "user_id": 8864579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e193cbec4b022334c69e06a3546acde?s=128&d=identicon&r=PG&f=1", "display_name": "Trueman", "link": "https://stackoverflow.com/users/8864579/trueman"}, "edited": false, "score": 0, "creation_date": 1572471729, "post_id": 58633755, "comment_id": 103575008, "body": "yes it is quite frusturating, I have been trying out different js etc all day to find a solution, but still have not been able to acheive full screen experience. Best i am able to do is to manually zoom browser after game loads in iframe. Wondering if there is a way to automaticlly zoom the users browser to create this quasi-full-screen-mode? Anything is better than tiny window it loads in now - even just zooming browser window creates much better play enviornment. If I could create something that at least gets the size substantially larger or close to full screen it would be improvement."}, {"owner": {"reputation": 1, "user_id": 12299751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c8753101544df803c18015f7525c531?s=128&d=identicon&r=PG&f=1", "display_name": "techgamer05", "link": "https://stackoverflow.com/users/12299751/techgamer05"}, "reply_to_user": {"reputation": 262, "user_id": 8864579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e193cbec4b022334c69e06a3546acde?s=128&d=identicon&r=PG&f=1", "display_name": "Trueman", "link": "https://stackoverflow.com/users/8864579/trueman"}, "edited": false, "score": 0, "creation_date": 1572471859, "post_id": 58633755, "comment_id": 103575050, "body": "even after the game canvas loads on archive.org, you can press the full-screen button to maximize it. Something simliar would be amazing if I could get it working with the embeded iframe."}, {"owner": {"reputation": 262, "user_id": 8864579, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e193cbec4b022334c69e06a3546acde?s=128&d=identicon&r=PG&f=1", "display_name": "Trueman", "link": "https://stackoverflow.com/users/8864579/trueman"}, "edited": false, "score": 0, "creation_date": 1572642864, "post_id": 58633755, "comment_id": 103634981, "body": "if you add width:100% to the #canvasholder, which is the div od the loaded document, it actually fills 100% of the iframe - however, because of the cross-origin policy it cannot be done by JS :|"}], "answers": [{"comments": [{"owner": {"reputation": 20105, "user_id": 7920473, "user_type": "registered", "accept_rate": 89, "profile_image": "https://graph.facebook.com/10155688613669453/picture?type=large", "display_name": "Arun Vinoth", "link": "https://stackoverflow.com/users/7920473/arun-vinoth"}, "edited": false, "score": 0, "creation_date": 1578513677, "post_id": 59652769, "comment_id": 105467353, "body": "Welcome to Stack Overflow. Can you add some explanation to show how this will solve the problem in question, code-only answers are not encouraged.."}], "tags": [], "owner": {"reputation": 1, "user_id": 12677906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0870192d2f220d33e172dc810951c36e?s=128&d=identicon&r=PG&f=1", "display_name": "saadeddine Louati", "link": "https://stackoverflow.com/users/12677906/saadeddine-louati"}, "is_accepted": false, "score": -1, "last_activity_date": 1578512402, "creation_date": 1578512402, "answer_id": 59652769, "question_id": 58633755, "link": "https://stackoverflow.com/questions/58633755/embed-html5-games-in-iframe-with-ability-to-switch-to-full-screen-mode-on-differ/59652769#59652769", "title": "Embed HTML5 games in iframe with ability to switch to full screen mode on different domain", "body": "<pre><code>//try this peace of code \n\n//do not forget to change the src in the iframe tag\n&lt;html&gt; \n    &lt;head&gt; \n        &lt;title&gt;full screen iframe&lt;/title&gt; \n        &lt;style type=\"text/css\"&gt; \n            html { \n                overflow: auto; \n            } \n            html, \n            body, \n            div, \n            iframe { \n                margin: 0px; \n                padding: 0px; \n                height: 100%; \n                border: none; \n            } \n            iframe { \n                display: block; \n                width: 100%; \n                border: none; \n                overflow-y: auto; \n                overflow-x: hidden; \n            } \n        &lt;/style&gt; \n    &lt;/head&gt; \n    &lt;body&gt; \n    &lt;iframe src=\"\" frameborder=\"0\"\n    marginheight=\"0\"\n    marginwidth=\"0\"\n    width=\"100%\"\n    height=\"100%\"\n    scrolling=\"auto\"&gt;&lt;/iframe&gt;\n    &lt;/body&gt; \n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;/html&gt; \n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12299751, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c8753101544df803c18015f7525c531?s=128&d=identicon&r=PG&f=1", "display_name": "techgamer05", "link": "https://stackoverflow.com/users/12299751/techgamer05"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3853, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1578512402, "creation_date": 1572470157, "last_edit_date": 1572472001, "question_id": 58633755, "link": "https://stackoverflow.com/questions/58633755/embed-html5-games-in-iframe-with-ability-to-switch-to-full-screen-mode-on-differ", "title": "Embed HTML5 games in iframe with ability to switch to full screen mode on different domain", "body": "<p>I'm trying to enable full screen support for a game embedded from archive.org. </p>\n\n<p>Example of embed code is: </p>\n\n<pre><code>&lt;iframe src=\"https://archive.org/embed/DukeNukem\" width=\"560\" height=\"384\" frameborder=\"0\" webkitallowfullscreen=\"true\" mozallowfullscreen=\"true\" allowfullscreen&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>Full screen mode is available on the archive.org game page itself - see the actual game page and full screen button (upper right):</p>\n\n<p><a href=\"https://archive.org/details/DukeNukem\" rel=\"nofollow noreferrer\">https://archive.org/details/DukeNukem</a></p>\n\n<p>What I would like to have is the ability to switch the embedded iframe and game canvas to full screen mode from a remote website.</p>\n\n<p>I have tried various Javascript and have been able to make the iframe go into full screen mode, but the game canvas itself stays the same size with each of js implementation I have tried resulting in large full screen iframe with small game viewport and lots of black space. If possible, I would like the actual game canvas to resize similar to how the full screen button works on archive.org. </p>\n\n<p>I was hoping to find a creative way to be able to enable full screen mode on a different domain with the embedded html5 iframe game.</p>\n\n<p>I think it may be possible with using Adobe Flash, but would prefer to avoid Flash if possible since support is getting faded out everywhere. Another thought I had was to actually zoom the users browser to the original game canvas size with a button press to get the user in a quasi-full-screen mode. Since the resolution of this game is so low anyways, I don't think it would result in much loss of graphic quality. Just not sure of the code to actually make this zoomed, quasi-full-screen mode possible to dynamically resize to users screen size and center on the iframe / game canvas. Of course is there is a better way, you can think of to enable full screen mode on the embed, I would love to hear your creative ideas!</p>\n\n<p>Thank you in advance for your help - it is most appreciated!! If nothing else, my question will let you experience a bit of nostalgia if you are old enough to remember Duke Nukem!! </p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 3320, "user_id": 3397552, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Jn2QT.jpg?s=128&g=1", "display_name": "Jose Rojas", "link": "https://stackoverflow.com/users/3397552/jose-rojas"}, "edited": false, "score": 0, "creation_date": 1572473265, "post_id": 58633747, "comment_id": 103575494, "body": "take a look <a href=\"https://stackoverflow.com/questions/50185816/nodejs-how-to-handle-concurrent-request-to-mysql\" title=\"nodejs how to handle concurrent request to mysql\">stackoverflow.com/questions/50185816/&hellip;</a>"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1575416823, "post_id": 58633747, "comment_id": 104557583, "body": "Don&#39;t use a single shared connection (what you called <code>db</code>) for all methods of your instance. Use on connection per transaction/method, and pool them."}], "answers": [{"tags": [], "owner": {"reputation": 22804, "user_id": 705115, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/212db408fb84ef88b9d5c6b543076c1d?s=128&d=identicon&r=PG", "display_name": "Andrey Sidorov", "link": "https://stackoverflow.com/users/705115/andrey-sidorov"}, "is_accepted": true, "score": 2, "last_activity_date": 1575416837, "last_edit_date": 1575416837, "creation_date": 1575415442, "answer_id": 59166870, "question_id": 58633747, "link": "https://stackoverflow.com/questions/58633747/how-to-use-database-transactions-in-javascript-with-async-functions/59166870#59166870", "title": "How to use database transactions in JavaScript with async functions?", "body": "<p>Probably the easiest solution is to use pool:</p>\n\n<pre><code>const mysql = require('mysql2/promise');\n\nclass SomeClass\n{\n    async connect(params)\n    {\n        this.db = mysql.createPool(params);\n    }\n\n    async insertSomeRowsIntoSomeTable()\n    {\n        const connection = await this.db.getConnection();\n        await connection.execute('START TRANSACTION;');\n\n        try {\n            for (let i = 0; i &lt; 100; i++) {\n                //get the values to insert from an external service, for example.\n                const values = await service.getValues();\n                await conn.execute('INSERT SomeTable .... &lt;the values&gt;...');\n            }\n            await connection.execute('COMMIT');\n            await connection.release();\n        } \n        catch (e) {\n            await connection.execute('ROLLBACK');\n            await connection.release();\n        }\n    }\n}\n</code></pre>\n\n<p>Here you borrow connection from the pool in your <code>insertSomeRowsIntoSomeTable()</code> and if other async functions follow the same pattern this connection will be exclusively used by one transaction code path only until released</p>\n"}], "owner": {"reputation": 2463, "user_id": 9261322, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/b650360d7c40aefdce125dcf8eb3ac37?s=128&d=identicon&r=PG&f=1", "display_name": "Alexey Starinsky", "link": "https://stackoverflow.com/users/9261322/alexey-starinsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 489, "favorite_count": 0, "accepted_answer_id": 59166870, "answer_count": 1, "score": 0, "last_activity_date": 1575416837, "creation_date": 1572470093, "last_edit_date": 1572470483, "question_id": 58633747, "link": "https://stackoverflow.com/questions/58633747/how-to-use-database-transactions-in-javascript-with-async-functions", "title": "How to use database transactions in JavaScript with async functions?", "body": "<p>Consider the code below that gets some data from an external service and inserts it into some table in a database. It starts the transactions and commits it when all the data is inserted or rolls it back if an error occurres:</p>\n\n<pre><code>const mysql = require('mysql2/promise');\n\nclass SomeClass\n{\n    async connect(params)\n    {\n        this.db = await mysql.createConnection(params);\n    }\n\n    async insertSomeRowsIntoSomeTable()\n    {\n        await this.db.execute('START TRANSACTION;');\n\n        try {\n            for (let i = 0; i &lt; 100; i++) {\n                //get the values to insert from an external service, for example.\n                await const values = service.getValues();\n                await this.db.execute('INSERT SomeTable .... &lt;the values&gt;...');\n            }\n            await this.db.execute('COMMIT;');\n        } \n        catch (e) {\n            await this.db.execute('ROLLBACK;');\n        }\n    }\n}\n</code></pre>\n\n<p>but what if there is another async method <code>updateSomething</code> that updates a row in some table with a single update query and the client calls it while <code>insertSomeRowsIntoSomeTable</code> method is still running? Obviously, the updated data will be lost if the an error occurres in <code>insertSomeRowsIntoSomeTable</code>.</p>\n\n<p>If there is another method that initiates its own transaction, for example, we unexpectedly get the nested transaction.</p>\n\n<p>The only idea I have at the moment is to make all the operations with the database atomic by moving all the transaction logic to the stored procedures, for example, but it look like a workaround but not a solution.</p>\n\n<p>Having a separate database connection in each async method is not an option, for the obvious reasons.</p>\n\n<p>Does anyone have a better idea?</p>\n"}, {"tags": ["javascript", "pdf", "base64"], "answers": [{"tags": [], "owner": {"reputation": 846, "user_id": 8797809, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dfcbc73c5e18172d38cb8e27eb7fe57?s=128&d=identicon&r=PG&f=1", "display_name": "Dima Mamchur", "link": "https://stackoverflow.com/users/8797809/dima-mamchur"}, "is_accepted": false, "score": 0, "last_activity_date": 1572520968, "creation_date": 1572520968, "answer_id": 58642300, "question_id": 58633745, "link": "https://stackoverflow.com/questions/58633745/why-does-window-open-work-in-some-tabs-of-chrome-but-not-others/58642300#58642300", "title": "Why does window.open work in some tabs of chrome but not others?", "body": "<p>Chrome blocks opening data URL directly in a new tab. You can see an error in DevTools on that <code>about:blank</code> tab: <code>Not allowed to navigate top frame to data URL</code></p>\n\n<p>What you could do is to wrap your base64 string into an iframe <code>src</code> and insert it into the innerHTML on that page, like this:</p>\n\n<pre><code>const tab = window.open();\nconst b64Pdf = 'JVBERi0xLjcKCjEgMCBvYmogICUgZW50cnkgcG9pbnQKPDwKICAvVHlwZSAvQ2F0YWxvZwogIC9QYWdlcyAyIDAgUgo+PgplbmRvYmoKCjIgMCBvYmoKPDwKICAvVHlwZSAvUGFnZXMKICAvTWVkaWFCb3ggWyAwIDAgMjAwIDIwMCBdCiAgL0NvdW50IDEKICAvS2lkcyBbIDMgMCBSIF0KPj4KZW5kb2JqCgozIDAgb2JqCjw8CiAgL1R5cGUgL1BhZ2UKICAvUGFyZW50IDIgMCBSCiAgL1Jlc291cmNlcyA8PAogICAgL0ZvbnQgPDwKICAgICAgL0YxIDQgMCBSIAogICAgPj4KICA+PgogIC9Db250ZW50cyA1IDAgUgo+PgplbmRvYmoKCjQgMCBvYmoKPDwKICAvVHlwZSAvRm9udAogIC9TdWJ0eXBlIC9UeXBlMQogIC9CYXNlRm9udCAvVGltZXMtUm9tYW4KPj4KZW5kb2JqCgo1IDAgb2JqICAlIHBhZ2UgY29udGVudAo8PAogIC9MZW5ndGggNDQKPj4Kc3RyZWFtCkJUCjcwIDUwIFRECi9GMSAxMiBUZgooSGVsbG8sIHdvcmxkISkgVGoKRVQKZW5kc3RyZWFtCmVuZG9iagoKeHJlZgowIDYKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDAwMDEwIDAwMDAwIG4gCjAwMDAwMDAwNzkgMDAwMDAgbiAKMDAwMDAwMDE3MyAwMDAwMCBuIAowMDAwMDAwMzAxIDAwMDAwIG4gCjAwMDAwMDAzODAgMDAwMDAgbiAKdHJhaWxlcgo8PAogIC9TaXplIDYKICAvUm9vdCAxIDAgUgo+PgpzdGFydHhyZWYKNDkyCiUlRU9G';\n\ntab.document.body.innerHTML = `&lt;iframe src=\"data:application/pdf;base64,${b64Pdf}\"&gt;&lt;/iframe&gt;`;\n</code></pre>\n"}], "owner": {"reputation": 801, "user_id": 2280764, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/c3057d25969556c9d9efa9135435c2b1?s=128&d=identicon&r=PG", "display_name": "Brent Sandstrom", "link": "https://stackoverflow.com/users/2280764/brent-sandstrom"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572520968, "creation_date": 1572470073, "question_id": 58633745, "link": "https://stackoverflow.com/questions/58633745/why-does-window-open-work-in-some-tabs-of-chrome-but-not-others", "title": "Why does window.open work in some tabs of chrome but not others?", "body": "<p>I'm trying to open a pdf file in a new tab in chrome. The pdf file is in base64 text format.</p>\n\n<pre><code>const helloWorldPDF= 'JVBERi0xLjcKCjEgMCBvYmogICUgZW50cnkgcG9pbnQKPDwKICAvVHlwZSAvQ2F0YWxvZwogIC9QYWdlcyAyIDAgUgo+PgplbmRvYmoKCjIgMCBvYmoKPDwKICAvVHlwZSAvUGFnZXMKICAvTWVkaWFCb3ggWyAwIDAgMjAwIDIwMCBdCiAgL0NvdW50IDEKICAvS2lkcyBbIDMgMCBSIF0KPj4KZW5kb2JqCgozIDAgb2JqCjw8CiAgL1R5cGUgL1BhZ2UKICAvUGFyZW50IDIgMCBSCiAgL1Jlc291cmNlcyA8PAogICAgL0ZvbnQgPDwKICAgICAgL0YxIDQgMCBSIAogICAgPj4KICA+PgogIC9Db250ZW50cyA1IDAgUgo+PgplbmRvYmoKCjQgMCBvYmoKPDwKICAvVHlwZSAvRm9udAogIC9TdWJ0eXBlIC9UeXBlMQogIC9CYXNlRm9udCAvVGltZXMtUm9tYW4KPj4KZW5kb2JqCgo1IDAgb2JqICAlIHBhZ2UgY29udGVudAo8PAogIC9MZW5ndGggNDQKPj4Kc3RyZWFtCkJUCjcwIDUwIFRECi9GMSAxMiBUZgooSGVsbG8sIHdvcmxkISkgVGoKRVQKZW5kc3RyZWFtCmVuZG9iagoKeHJlZgowIDYKMDAwMDAwMDAwMCA2NTUzNSBmIAowMDAwMDAwMDEwIDAwMDAwIG4gCjAwMDAwMDAwNzkgMDAwMDAgbiAKMDAwMDAwMDE3MyAwMDAwMCBuIAowMDAwMDAwMzAxIDAwMDAwIG4gCjAwMDAwMDAzODAgMDAwMDAgbiAKdHJhaWxlcgo8PAogIC9TaXplIDYKICAvUm9vdCAxIDAgUgo+PgpzdGFydHhyZWYKNDkyCiUlRU9G';\n\nwindow.open(\"data:application/pdf;base64,\" + helloWorldPDF);\n</code></pre>\n\n<p>The above example works, but only in certain tabs. For example if you open up the console on stack overflow and run it, you'll get an \"about:blank\" page. But, if you run the same code in the \"about:blank\" page, it will work.</p>\n\n<p>What is going on and how can I make this work on any page?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 1, "creation_date": 1572470225, "post_id": 58633735, "comment_id": 103574492, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/32238602/javascript-remove-duplicates-of-objects-sharing-same-property-value\">JavaScript: Remove duplicates of objects sharing same property value</a>"}, {"owner": {"reputation": 197, "user_id": 11313063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04d343fa21754136cbab110f64b24f61?s=128&d=identicon&r=PG&f=1", "display_name": "HarryShotta", "link": "https://stackoverflow.com/users/11313063/harryshotta"}, "reply_to_user": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1572470620, "post_id": 58633735, "comment_id": 103574637, "body": "Thanks. Found lots of useful information on here."}], "answers": [{"comments": [{"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 1, "creation_date": 1572471070, "post_id": 58633887, "comment_id": 103574797, "body": "<code>.entries()</code> is not really required. Just spreading a <code>Map</code> creates the 2D array of entries"}], "tags": [], "owner": {"reputation": 101365, "user_id": 4620771, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/BuWrj.jpg?s=128&g=1", "display_name": "Nenad Vracar", "link": "https://stackoverflow.com/users/4620771/nenad-vracar"}, "is_accepted": false, "score": 1, "last_activity_date": 1572471131, "last_edit_date": 1572471131, "creation_date": 1572470905, "answer_id": 58633887, "question_id": 58633735, "link": "https://stackoverflow.com/questions/58633735/removing-partial-duplicates-from-an-array/58633887#58633887", "title": "Removing partial duplicates from an array", "body": "<p>You could use <code>reduce</code> method and <code>Map</code> to get unique values and then you can use  spread syntax to get array of arrays.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [[\"john\",13], [\"jack\",12], [\"judy\",14], [\"john\",18]]\r\n\r\nconst result = data.reduce((r, [k, v]) =&gt; {\r\n  if(!r.get(k) || v &lt; r.get(k)) r.set(k, v)\r\n  return r;\r\n}, new Map)\r\n\r\nconsole.log([...result])</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 197, "user_id": 11313063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04d343fa21754136cbab110f64b24f61?s=128&d=identicon&r=PG&f=1", "display_name": "HarryShotta", "link": "https://stackoverflow.com/users/11313063/harryshotta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1572471131, "creation_date": 1572470025, "question_id": 58633735, "link": "https://stackoverflow.com/questions/58633735/removing-partial-duplicates-from-an-array", "title": "Removing partial duplicates from an array", "body": "<p>-bit of a noobie question, but I have an array that looks like this:</p>\n\n<pre><code>[[\"john\",13],\n[\"jack\",12],\n[\"judy\",14],\n[\"john\",18]]\n</code></pre>\n\n<p>In the event there is a duplicate name, I would like to remove the element with the highest score, such that it looks like this:</p>\n\n<pre><code>[[\"john\",13],\n[\"jack\",12],\n[\"judy\",14]]\n</code></pre>\n\n<p>Standard method of removing duplicates don't work in this case and I am just wondering if anyone knows how this could be done?</p>\n\n<p>Thanks in advance,</p>\n"}, {"tags": ["javascript", "google-apps-script", "gmail", "gmail-api", "gmail-addons"], "answers": [{"tags": [], "owner": {"reputation": 2322, "user_id": 11869748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Qh4YQ.jpg?s=128&g=1", "display_name": "ZektorH", "link": "https://stackoverflow.com/users/11869748/zektorh"}, "is_accepted": true, "score": 1, "last_activity_date": 1572511670, "creation_date": 1572511670, "answer_id": 58639608, "question_id": 58633721, "link": "https://stackoverflow.com/questions/58633721/is-there-a-way-for-gmail-add-ons-to-hide-disable-the-send-button/58639608#58639608", "title": "Is there a way for GMail Add-ons to hide/disable the Send button", "body": "<p>You cannot disable the \"Send\" button, however, you can send the message they are editing (at the time, a Draft) with the <a href=\"https://developers.google.com/gmail/api/v1/reference/users/drafts/send\" rel=\"nofollow noreferrer\">API</a> and <a href=\"https://developers.google.com/apps-script/reference/gmail/gmail-draft#send\" rel=\"nofollow noreferrer\">Apps Script</a>.</p>\n"}], "owner": {"reputation": 33, "user_id": 10072716, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Ce7Sw_FBwk4/AAAAAAAAAAI/AAAAAAAAMo0/c3W1gxWOK4U/photo.jpg?sz=128", "display_name": "Sherif Kamal-ElDin", "link": "https://stackoverflow.com/users/10072716/sherif-kamal-eldin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 117, "favorite_count": 0, "accepted_answer_id": 58639608, "answer_count": 1, "score": 0, "last_activity_date": 1572511670, "creation_date": 1572469964, "question_id": 58633721, "link": "https://stackoverflow.com/questions/58633721/is-there-a-way-for-gmail-add-ons-to-hide-disable-the-send-button", "title": "Is there a way for GMail Add-ons to hide/disable the Send button", "body": "<p>I'm looking for a way to either make my custom GMail add-on disable the Message send button, or alternatively, send the message without clicking send. </p>\n\n<p><a href=\"https://developers.google.com/gsuite/add-ons/gmail/extending-compose-ui\" rel=\"nofollow noreferrer\">https://developers.google.com/gsuite/add-ons/gmail/extending-compose-ui</a></p>\n"}, {"tags": ["javascript", "jquery", "excel"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1572469781, "post_id": 58633665, "comment_id": 103574343, "body": "Look for a statistics library using Google"}, {"owner": {"reputation": 11, "user_id": 12299834, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBBozab4AzaJU-l4Y--rH9TFDX4JcZPjYNYBlW_=k-s128", "display_name": "Gaurav Singh", "link": "https://stackoverflow.com/users/12299834/gaurav-singh"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1572470054, "post_id": 58633665, "comment_id": 103574441, "body": "I am trying to find it out but was unable to get any..."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1572470439, "post_id": 58633665, "comment_id": 103574572, "body": "I Googled &quot;javascript gamma distribution&quot; and the second result looks like an excellent option."}, {"owner": {"reputation": 11, "user_id": 12299834, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBBozab4AzaJU-l4Y--rH9TFDX4JcZPjYNYBlW_=k-s128", "display_name": "Gaurav Singh", "link": "https://stackoverflow.com/users/12299834/gaurav-singh"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1572473816, "post_id": 58633665, "comment_id": 103575663, "body": "That&#39;s not what excel does...excels version of gammadist take 4 arguments and uses a different algorithm"}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1572520557, "post_id": 58633665, "comment_id": 103589680, "body": "Right, I didn&#39;t mean to imply that there was something you could swap in and call in the exact same fashion. Don&#39;t expect that."}], "owner": {"reputation": 11, "user_id": 12299834, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBBozab4AzaJU-l4Y--rH9TFDX4JcZPjYNYBlW_=k-s128", "display_name": "Gaurav Singh", "link": "https://stackoverflow.com/users/12299834/gaurav-singh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572469631, "creation_date": 1572469631, "question_id": 58633665, "link": "https://stackoverflow.com/questions/58633665/using-excel-formulas-in-javascript-code-outside-of-excel", "title": "Using Excel Formulas in JavaScript code outside of excel", "body": "<p>I want to call excel's GammaDist and Gammaln functions in one of my JavaScript/JQuery code. I have the values of x, alpha and beta and in output need whatever excel formula gives.</p>\n\n<p>I was trying to get some API which I can call in my js code to call this function but was not able to find anything</p>\n\n<p>QQ = 1 - Application.WorksheetFunction.GammaDist(1, z + 1, 1 / a, True)</p>\n\n<p>need to calculate this equation in javascript/JQuery</p>\n"}, {"tags": ["javascript", "laravel", "date", "time", "momentjs"], "comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1572473188, "post_id": 58633661, "comment_id": 103575475, "body": "ECMAScript Dates are UTC. You can either store the time value (e.g. <code>date.getTime()</code>) or an ISO 8601 timestamp with Z offset (as produced by <code>date.toISOString()</code>)."}], "answers": [{"tags": [], "owner": {"reputation": 311, "user_id": 4612939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bqngz.jpg?s=128&g=1", "display_name": "Matthew McCord", "link": "https://stackoverflow.com/users/4612939/matthew-mccord"}, "is_accepted": false, "score": 0, "last_activity_date": 1572475845, "creation_date": 1572475845, "answer_id": 58634673, "question_id": 58633661, "link": "https://stackoverflow.com/questions/58633661/let-a-user-enter-days-and-times-in-any-time-zone-and-make-sure-they-get-convert/58634673#58634673", "title": "Let a user enter days and times in any time zone, and make sure they get converted from the timezone used to UTC for database storage?", "body": "<p>I was able to figure this out, and I will provide my solution below.</p>\n\n<p>I think I was overcomplicating things before and it confused me further:</p>\n\n<p><strong>Preparing and sending API request from frontend to backend:</strong></p>\n\n<p>If my dateTime is <code>2019-10-02 10:00 AM EDT (America/New_York)</code>:</p>\n\n<pre><code>const dateTime = moment.tz('2019-10-02 10:00 AM', 'YYYY-MM-DD h:mm A', 'America/New_York');\n\nconst formatted = dateTime.format(); // gives me =&gt; \"2019-10-02T10:00:00-04:00\"\n</code></pre>\n\n<p>I send the const <code>formatted</code> (<code>2019-10-02T10:00:00-04:00</code>) to my backend.</p>\n\n<p>Before saving in the database I use the <code>Carbon</code> library to make sure it is offset to UTC from its current timezone:</p>\n\n<pre><code>$dateTime = Carbon::parse($data['date_time'])-&gt;tz('UTC')-&gt;toDateTimeString();\n\nMyRequest::create([\n    'date_time' =&gt; $dateTime,\n    ...\n]);\n\n</code></pre>\n\n<p>This seems to properly save in UTC in the database as <code>2019-10-02 14:00:00</code>.</p>\n\n<hr>\n\n<p><strong>Followup: Displaying in the dynamic timezone after frontend retrieves the data later:</strong></p>\n\n<pre><code>// incomingDateTime from backend = \"2019-10-02 14:00:00\"\n\nconst dateTime = moment.utc(incomingDateTime, 'YYYY-MM-DD H:mm:ss'); // This is my format in the backend DB.\n\nconst dateTimeConverted = dateTime.tz(timezone).format('h:mm A'); // I only want the time here.\n</code></pre>\n\n<p><code>dateTimeConverted</code> will be the time displayed for user in <code>timezone</code> used above.</p>\n"}], "owner": {"reputation": 311, "user_id": 4612939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bqngz.jpg?s=128&g=1", "display_name": "Matthew McCord", "link": "https://stackoverflow.com/users/4612939/matthew-mccord"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572475845, "creation_date": 1572469619, "question_id": 58633661, "link": "https://stackoverflow.com/questions/58633661/let-a-user-enter-days-and-times-in-any-time-zone-and-make-sure-they-get-convert", "title": "Let a user enter days and times in any time zone, and make sure they get converted from the timezone used to UTC for database storage?", "body": "<p>I have a user entering info for a request including a day, a start time, and an end time.</p>\n\n<p>These dates and times are all being entered in a timezone that can change from request to request.</p>\n\n<p>I need to make sure that I am correctly converting the date and times from the current requests's timezone to UTC before storing this in the database.</p>\n\n<p>These values are entered on a frontend (Vue.js) and sent over via an API request to the (PHP / Laravel) backend as a formatted string through moment.js, utilizing moment-timezone as well.</p>\n\n<p>I'm maintaining the front and backend so I can work with either where needed.</p>\n\n<p>From the moment-timezone docs, I see that I can do something like: <code>moment.tz(myDateString, myTimeZone);</code> to \"Format Dates in Any Timezone\"</p>\n\n<p>So say I have the date time <code>2019-10-22 10:00 AM</code> and the current timezone <code>America/New_York</code>.</p>\n\n<p>I was hoping that doing <code>var startTime = moment.tz('2019-10-22 10:00 AM', 'America/New_York')</code> would set me up to be able to just do <code>startTime.clone().utc().toISOString()</code> which would give me <code>2019-10-22 10:00am</code> 'America/New_York' in UTC but it seems to be off.</p>\n\n<p>My hope was that it would see my initial date, <code>2019-10-22 10:00 AM</code>, as being in America/New_York time zone but it seems like it sees the initial date as being in UTC then just offsets it to the America/New_York timezone.</p>\n\n<p>When I run <code>startTime.format()</code> I get back <code>2019-10-22T06:00:00-04:00\"</code> which, if I understand correctly, represents 6am 'America/New_York' timezone and not 10:10am America/New_York timezone like I was hoping.</p>\n\n<p>So, as my question states: I'm looking for the best way to let a user enter days and times in any time zone, and then make sure that gets properly converted from the timezone they used to UTC for database storage?</p>\n"}, {"tags": ["javascript", "sapper"], "comments": [{"owner": {"reputation": 5314, "user_id": 4194436, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/d8RiC.jpg?s=128&g=1", "display_name": "Michelangelo", "link": "https://stackoverflow.com/users/4194436/michelangelo"}, "edited": false, "score": 0, "creation_date": 1572469695, "post_id": 58633609, "comment_id": 103574324, "body": "No, none of that. It is how javascript works.You should look into the event loop. Javascript is single threaded, so it will queu tasks. Your while loop is going first because it is on the main thread. When it is done, javascript will get to your server stuff. Also good to know javascript has a async await option now."}, {"owner": {"reputation": 11, "user_id": 12299769, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-E-KobbrseIQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rchmQCHgQfmbjoUpurrc0phLzaiOw/photo.jpg?sz=128", "display_name": "Levi Mootz", "link": "https://stackoverflow.com/users/12299769/levi-mootz"}, "reply_to_user": {"reputation": 5314, "user_id": 4194436, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/d8RiC.jpg?s=128&g=1", "display_name": "Michelangelo", "link": "https://stackoverflow.com/users/4194436/michelangelo"}, "edited": false, "score": 0, "creation_date": 1572552092, "post_id": 58633609, "comment_id": 103605747, "body": "@Michelangelo - Incorrect.  Polka and Express don&#39;t do this, they run the way I&#39;d expect; response is sent, then while loop runs.  It&#39;s something to do with how the sapper code is compiled.  Answer is probably in the __sapper__/dev/server/server.js file...at least, that&#39;s where I&#39;m checking next."}], "owner": {"reputation": 11, "user_id": 12299769, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-E-KobbrseIQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rchmQCHgQfmbjoUpurrc0phLzaiOw/photo.jpg?sz=128", "display_name": "Levi Mootz", "link": "https://stackoverflow.com/users/12299769/levi-mootz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572469374, "creation_date": 1572469374, "question_id": 58633609, "link": "https://stackoverflow.com/questions/58633609/sapper-server-route-res-end-not-sending-response-until-get-function-completes", "title": "Sapper server route res.end not sending response until &#39;get&#39; function completes", "body": "<p>I ran into a problem while writing a Sapper application, so some familiarity with it will probably be helpful in answering...though the problem may also be polka (like express)...I'm not sure.  That's why I'm here :-)</p>\n\n<p>Here is a simplified example of a problem I ran into, and am trying to understand why.  It is code for a Sapper server route which returns some JSON.</p>\n\n<pre><code>export function get(req, res) {\n        let arr = [];\n        let count = 0;\n        let data = {\"somekey\": \"someval\"}\n        res.writeHead(200, { 'Content-Type': 'application/json' });\n        res.end(JSON.stringify(data));\n\n        console.log('response sent');\n\n        while (count++ &lt; 1000000000) {\n          arr.push(Math.random());\n          arr.pop();\n        }\n\n        console.log(arr[arr.length - 1]);\n}\n</code></pre>\n\n<p>I expect this code to:</p>\n\n<ol>\n<li>Send the stringified JSON to the client</li>\n<li>Console log 'response sent' on the server</li>\n<li>After the while loop completes, console log the last element of the array on the server.</li>\n</ol>\n\n<p>Instead, it console logs 'response sent' on the server, but the client hangs and the server doesn't send the response until the while loop completes.</p>\n\n<p>I thought res.end should send the response as soon as it gets to res.end, but instead it appears to move on through, and only returns the response once the 'get' function completes.</p>\n\n<p>Why is that?  Is it Sapper, Polka or my own misunderstanding of how res.end works?</p>\n"}, {"tags": ["javascript", "reactjs", "slider"], "answers": [{"comments": [{"owner": {"reputation": 534, "user_id": 11575257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5761edd690664bb8c1b397a4a7c2eef4?s=128&d=identicon&r=PG&f=1", "display_name": "theastronomist", "link": "https://stackoverflow.com/users/11575257/theastronomist"}, "edited": false, "score": 0, "creation_date": 1572624924, "post_id": 58643931, "comment_id": 103628021, "body": "Do I define onSliderChange as its own function, during the export, or somewhere else?"}, {"owner": {"reputation": 248, "user_id": 5803564, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aeb4214b1b88af6ad5793d7452e4a894?s=128&d=identicon&r=PG&f=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/5803564/egor"}, "reply_to_user": {"reputation": 534, "user_id": 11575257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5761edd690664bb8c1b397a4a7c2eef4?s=128&d=identicon&r=PG&f=1", "display_name": "theastronomist", "link": "https://stackoverflow.com/users/11575257/theastronomist"}, "edited": false, "score": 0, "creation_date": 1572626806, "post_id": 58643931, "comment_id": 103628929, "body": "it should be inside of SliderBars component as a normal named function, because there setValue hook is available and this hook should be used to update the slider value. Let me know whether it works or not"}], "tags": [], "owner": {"reputation": 248, "user_id": 5803564, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/aeb4214b1b88af6ad5793d7452e4a894?s=128&d=identicon&r=PG&f=1", "display_name": "Egor", "link": "https://stackoverflow.com/users/5803564/egor"}, "is_accepted": false, "score": 0, "last_activity_date": 1588680019, "last_edit_date": 1588680019, "creation_date": 1572526823, "answer_id": 58643931, "question_id": 58633574, "link": "https://stackoverflow.com/questions/58633574/print-value-of-slider/58643931#58643931", "title": "Print Value of Slider", "body": "<p>If I got you right, you need to use <code>onChange</code> event of the Slider, see it here: <a href=\"https://material-ui.com/api/slider/\" rel=\"nofollow noreferrer\">https://material-ui.com/api/slider/</a> and do something like this:</p>\n\n<pre><code>...\nonSliderChange = (val) =&gt; {\n  setValue(val);\n}\n\n\n...\n&lt;div&gt;{value}&lt;/div&gt;\n&lt;Slider\n      //value={value}\n      min=\"0\" max =\"10\" step = \"1\"\n      valueLabelDisplay=\"auto\"\n      aria-labelledby=\"range-slider1\"\n      getAriaValueText={valuetext}\n      defaultValue={5}\n      onChange={(event, val) =&gt; this.onSliderChange(val)}\n      marks\n    /&gt;\n</code></pre>\n"}], "owner": {"reputation": 534, "user_id": 11575257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5761edd690664bb8c1b397a4a7c2eef4?s=128&d=identicon&r=PG&f=1", "display_name": "theastronomist", "link": "https://stackoverflow.com/users/11575257/theastronomist"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 351, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1588680019, "creation_date": 1572469210, "question_id": 58633574, "link": "https://stackoverflow.com/questions/58633574/print-value-of-slider", "title": "Print Value of Slider", "body": "<p>I have a slider and want to have it print/display its current value but I can't figure out how to do it.</p>\n\n<p>I know material.ui sliders have the Prop valueLabelDisplay but for my purpose I want the value displayed somewhere else.</p>\n\n<pre><code>function valuetext(value) {\n    return `${value}`;\n  }\n\n  export default function SliderBars() {\n    const classes = useStyles();\n    const [value, setValue] = React.useState([23, 37]);\n\n    return (\n      &lt;div className={classes.root}&gt;\n        &lt;Typography id=\"range-slider1\" gutterBottom&gt;\n          Option 1\n        &lt;/Typography&gt;\n        &lt;Slider\n          //value={value}\n          min=\"0\" max =\"10\" step = \"1\"\n          valueLabelDisplay=\"auto\"\n          aria-labelledby=\"range-slider1\"\n          getAriaValueText={valuetext}\n          defaultValue={5}\n          marks\n        /&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 5306, "user_id": 917750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a10460ca696ffda526c2052c2234b4?s=128&d=identicon&r=PG", "display_name": "Markus-ipse", "link": "https://stackoverflow.com/users/917750/markus-ipse"}, "edited": false, "score": 0, "creation_date": 1572469861, "post_id": 58633558, "comment_id": 103574373, "body": "Why does France get 3 points and not 2?"}, {"owner": {"reputation": 649, "user_id": 11755228, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k16QLfgBgko/AAAAAAAAAAI/AAAAAAAAABU/uJVXrsD12vo/photo.jpg?sz=128", "display_name": "David Fontes", "link": "https://stackoverflow.com/users/11755228/david-fontes"}, "reply_to_user": {"reputation": 5306, "user_id": 917750, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/11a10460ca696ffda526c2052c2234b4?s=128&d=identicon&r=PG", "display_name": "Markus-ipse", "link": "https://stackoverflow.com/users/917750/markus-ipse"}, "edited": false, "score": 0, "creation_date": 1572470321, "post_id": 58633558, "comment_id": 103574530, "body": "@Markus-ipse I&#39;m assuming that it is a football (soccer in some countries) game, where the victorious team get 3 points."}, {"owner": {"reputation": 125, "user_id": 9758571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf183744a052bdd47756bfd5b417243?s=128&d=identicon&r=PG&f=1", "display_name": "Pokreniseweb", "link": "https://stackoverflow.com/users/9758571/pokreniseweb"}, "edited": false, "score": 0, "creation_date": 1572470560, "post_id": 58633558, "comment_id": 103574618, "body": "That&#39;s right, that is football :)"}], "answers": [{"comments": [{"owner": {"reputation": 649, "user_id": 11755228, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k16QLfgBgko/AAAAAAAAAAI/AAAAAAAAABU/uJVXrsD12vo/photo.jpg?sz=128", "display_name": "David Fontes", "link": "https://stackoverflow.com/users/11755228/david-fontes"}, "edited": false, "score": 1, "creation_date": 1572470219, "post_id": 58633717, "comment_id": 103574489, "body": "Nice solution, I was about to do something similar, however I would recommend 2 things. First is to sort the resulting array because the outcome isn&#39;t exactly as the OP asked. The second thing is that it would be nice if you could embed the snippet with your solution so the OP can run and check the result."}, {"owner": {"reputation": 713, "user_id": 1483102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b985535477d94c08d8b226876c1872fb?s=128&d=identicon&r=PG", "display_name": "Dillan Wilding", "link": "https://stackoverflow.com/users/1483102/dillan-wilding"}, "edited": false, "score": 0, "creation_date": 1572470420, "post_id": 58633717, "comment_id": 103574564, "body": "I have to update my solution because there are some simple mistakes. I&#39;ll see if I can&#39;t include these suggestions. Thanks."}, {"owner": {"reputation": 713, "user_id": 1483102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b985535477d94c08d8b226876c1872fb?s=128&d=identicon&r=PG", "display_name": "Dillan Wilding", "link": "https://stackoverflow.com/users/1483102/dillan-wilding"}, "reply_to_user": {"reputation": 649, "user_id": 11755228, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k16QLfgBgko/AAAAAAAAAAI/AAAAAAAAABU/uJVXrsD12vo/photo.jpg?sz=128", "display_name": "David Fontes", "link": "https://stackoverflow.com/users/11755228/david-fontes"}, "edited": false, "score": 0, "creation_date": 1572470698, "post_id": 58633717, "comment_id": 103574663, "body": "@DavidFontes Thanks so much for the suggestion! Let me know what you think! :D"}, {"owner": {"reputation": 649, "user_id": 11755228, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-k16QLfgBgko/AAAAAAAAAAI/AAAAAAAAABU/uJVXrsD12vo/photo.jpg?sz=128", "display_name": "David Fontes", "link": "https://stackoverflow.com/users/11755228/david-fontes"}, "edited": false, "score": 0, "creation_date": 1572471100, "post_id": 58633717, "comment_id": 103574803, "body": "@DillanWilding Looks great to me :)"}], "tags": [], "owner": {"reputation": 713, "user_id": 1483102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b985535477d94c08d8b226876c1872fb?s=128&d=identicon&r=PG", "display_name": "Dillan Wilding", "link": "https://stackoverflow.com/users/1483102/dillan-wilding"}, "is_accepted": true, "score": 3, "last_activity_date": 1572470882, "last_edit_date": 1572470882, "creation_date": 1572469923, "answer_id": 58633717, "question_id": 58633558, "link": "https://stackoverflow.com/questions/58633558/how-to-determine-which-team-won-and-add-to-it-3-point-if-it-won-0-if-lose-and/58633717#58633717", "title": "How to determine which team won and add to it 3 point if it won, 0 if lose, and 1 if draw", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const matches = [\r\n  {\r\n    homeTeam: 'France',\r\n    awayTeam: 'Croatia',\r\n    score: '2:1',\r\n    date: '18.01.2019'\r\n  }, {\r\n    homeTeam: 'England',\r\n    awayTeam: 'Spain',\r\n    score: '1:1',\r\n    date: '18.01.2019'\r\n  }\r\n];\r\n\r\nfunction getRankings(games) {\r\n  var ranks = {};\r\n  games.forEach(game =&gt; {\r\n    var [homeScore, awayScore] = game.score.split(':');\r\n    if (!ranks[game.homeTeam]) ranks[game.homeTeam] = { name: game.homeTeam, points: 0 };\r\n    if (!ranks[game.awayTeam]) ranks[game.awayTeam] = { name: game.awayTeam, points: 0 };\r\n    if (homeScore &gt; awayScore) {\r\n      ranks[game.homeTeam].points += 3;\r\n    } else if (awayScore &gt; homeScore) {\r\n      ranks[game.awayTeam].points += 3;\r\n    } else {\r\n      ranks[game.homeTeam].points++;\r\n      ranks[game.awayTeam].points++;\r\n    }\r\n  });\r\n  return Object.values(ranks).sort((a, b) =&gt; a.points &gt; b.points ? -1 : 1);\r\n} \r\n        \r\nvar footbalRankings = getRankings(matches);\r\nconsole.log(footbalRankings);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 125, "user_id": 9758571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf183744a052bdd47756bfd5b417243?s=128&d=identicon&r=PG&f=1", "display_name": "Pokreniseweb", "link": "https://stackoverflow.com/users/9758571/pokreniseweb"}, "edited": false, "score": 0, "creation_date": 1572471046, "post_id": 58633829, "comment_id": 103574787, "body": "I am wondering which solution is better according to time and space complexity, is there a way and can it be determined which solution is more optimal?"}, {"owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "reply_to_user": {"reputation": 125, "user_id": 9758571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf183744a052bdd47756bfd5b417243?s=128&d=identicon&r=PG&f=1", "display_name": "Pokreniseweb", "link": "https://stackoverflow.com/users/9758571/pokreniseweb"}, "edited": false, "score": 0, "creation_date": 1572471436, "post_id": 58633829, "comment_id": 103574913, "body": "@Pokreniseweb - When dealing with small amounts of data it wouldn&#39;t matter. You can use <a href=\"https://jsperf.com\" rel=\"nofollow noreferrer\">jsperf</a> to compare if interested. But if order of insertion is important then use maps. Also if the keys are unknown, it is better to use maps because object is fragile and gives unexpected output in cases such as these. For example, try the other answer with a team named <code>constructor</code> and see the output."}, {"owner": {"reputation": 125, "user_id": 9758571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf183744a052bdd47756bfd5b417243?s=128&d=identicon&r=PG&f=1", "display_name": "Pokreniseweb", "link": "https://stackoverflow.com/users/9758571/pokreniseweb"}, "edited": false, "score": 0, "creation_date": 1572471521, "post_id": 58633829, "comment_id": 103574939, "body": "Thanks a lot for your suggestions."}], "tags": [], "owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "is_accepted": false, "score": 1, "last_activity_date": 1572478068, "last_edit_date": 1572478068, "creation_date": 1572470548, "answer_id": 58633829, "question_id": 58633558, "link": "https://stackoverflow.com/questions/58633558/how-to-determine-which-team-won-and-add-to-it-3-point-if-it-won-0-if-lose-and/58633829#58633829", "title": "How to determine which team won and add to it 3 point if it won, 0 if lose, and 1 if draw", "body": "<p>Create a function <code>calculatePoints()</code> which takes match score and calculates points for both teams.</p>\n\n<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\">Map</a> to keep track of total points for each team. <code>Map</code> also preserves insertion order of the keys.</p>\n\n<p>Then convert the results from <code>Map</code> to desired array format and sort by points.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const matches = [{ homeTeam: 'France', awayTeam: 'Croatia', score: '2:1', date: '18.01.2019' }, { homeTeam: 'England', awayTeam: 'Spain', score: '1:1', date: '18.01.2019' } ];\r\n\r\nfunction getRankings(matches) {\r\n  let rankings = new Map();\r\n  let result = [];\r\n\r\n  matches.forEach(match =&gt; {\r\n    let totalA = rankings.get(match.homeTeam) || 0;\r\n    let totalB = rankings.get(match.awayTeam) || 0;\r\n\r\n    let points = calculatePoints(match.score);\r\n\r\n    rankings.set(match.homeTeam, totalA + points.homeTeam);\r\n    rankings.set(match.awayTeam, totalB + points.awayTeam);\r\n  });\r\n\r\n  // Convert result to array format.\r\n  for (let [key, value] of rankings.entries()) {\r\n    result.push({ \"team\": key, \"points\": value });\r\n  }\r\n  \r\n  // Sort results by points.\r\n  return result.sort((a, b) =&gt; b.points - a.points);\r\n}\r\n\r\n// Takes match score and calculates points for both teams.\r\nfunction calculatePoints(matchScore) {\r\n  let [teamA, teamB] = matchScore.split(\":\");\r\n  let pointsA = 0, pointsB = 0;\r\n\r\n  if (teamA &gt; teamB) {\r\n    pointsA = 3;\r\n  } else if (teamA &lt; teamB) {\r\n    pointsB = 3;\r\n  } else {\r\n    pointsA = 1;\r\n    pointsB = 1;\r\n  }\r\n\r\n  return { \"homeTeam\": pointsA, \"awayTeam\": pointsB };\r\n}\r\n\r\nconst footballRankings = getRankings(matches);\r\n\r\nconsole.log(footballRankings);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 125, "user_id": 9758571, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1bf183744a052bdd47756bfd5b417243?s=128&d=identicon&r=PG&f=1", "display_name": "Pokreniseweb", "link": "https://stackoverflow.com/users/9758571/pokreniseweb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 58633717, "answer_count": 2, "score": 2, "last_activity_date": 1572478068, "creation_date": 1572469149, "last_edit_date": 1572469569, "question_id": 58633558, "link": "https://stackoverflow.com/questions/58633558/how-to-determine-which-team-won-and-add-to-it-3-point-if-it-won-0-if-lose-and", "title": "How to determine which team won and add to it 3 point if it won, 0 if lose, and 1 if draw", "body": "<p>I have array of game results, I need to determine based on score how many points to add to teams. In this example France get 3 points, Croatia 0 and England and Spain both 1 point. How this can be implemented, can anyone help?</p>\n\n<pre><code>const matches = [\n    {\n        homeTeam: 'France',\n        awayTeam: 'Croatia',\n        score: '2:1',\n        date: '18.01.2019'\n    },\n      {\n        homeTeam: 'England',\n        awayTeam: 'Spain',\n        score: '1:1',\n        date: '18.01.2019'\n    }\n];\n\nfunction getRankings(games) {\n    // ...implementation\n} \n\nconst footbalRankings = getRankings(matches);\nconsole.log(footbalRankings);\n</code></pre>\n\n<p>The output should be as this:</p>\n\n<pre><code>[\n    { team: 'France', points:  3 }\n    { team: 'England', points: 1 }\n    { team: 'Spain', points: 1 }\n    { team: 'Croatia', points: 0 }\n]\n</code></pre>\n"}, {"tags": ["javascript", "google-chrome"], "comments": [{"owner": {"reputation": 397, "user_id": 8860969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OsFgk.jpg?s=128&g=1", "display_name": "Andrew Smith", "link": "https://stackoverflow.com/users/8860969/andrew-smith"}, "edited": false, "score": 0, "creation_date": 1592888811, "post_id": 58633553, "comment_id": 110578007, "body": "i am also facing the same issue,tried many solutions but nothing worked"}, {"owner": {"reputation": 397, "user_id": 8860969, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OsFgk.jpg?s=128&g=1", "display_name": "Andrew Smith", "link": "https://stackoverflow.com/users/8860969/andrew-smith"}, "edited": false, "score": 0, "creation_date": 1592888862, "post_id": 58633553, "comment_id": 110578018, "body": "please let me know if you got any solution for this"}], "owner": {"reputation": 89, "user_id": 11824854, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e7a59a7d64b08bdb04c455c211933a90?s=128&d=identicon&r=PG&f=1", "display_name": "Jefry90", "link": "https://stackoverflow.com/users/11824854/jefry90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1572469098, "creation_date": 1572469098, "question_id": 58633553, "link": "https://stackoverflow.com/questions/58633553/google-map-is-not-displaying-properly-in-chrome-if-map-is-dragged-it-shows", "title": "Google Map is Not displaying properly in Chrome , if map is dragged , it shows", "body": "<p>I know this has been discussed many time before , but non of the questions answers my problem. \nI am displaying an image in modal dialog with EXIF data to the side and google map below the with the extracted data about the longitude and latitude for that specific image. I have a gallery of images.  IT IS VISIBLE IN MOZILLA. \nOnce i open the modal dialog the map is visible with grey background , i can drag it and then i can see the location but once i release the dragging it hides . Image of it can be seen here: <a href=\"https://jefrey12212445.imgur.com/all\" rel=\"nofollow noreferrer\">https://jefrey12212445.imgur.com/all</a>.</p>\n\n<p>I am also getting an error in the console on page load : \n<code>InvalidValueError: setCenter: not a LatLng or LatLngLiteral with finite coordinates: in property lat: not a number</code> related to my API : js?key=MY_API&amp;libraries=places&amp;callback=initMap:69 </p>\n\n<p>It might be related , i am getting my latitude and longitude in floating point  numbers . Could this be the issue  ? </p>\n\n<p>I am opening the html page with Live server from Visual Studio\n1.I have tried , making the <code>height:100%</code> and <code>width:100%</code>  .\n2.Clearing browser data /cookies ( gsScrolPos cookies are not appearing) \n3.Opening the page in Incognito tab.<br>\n4.Tried setting <code>mapTypeID : google.maps.MapTypeId = ROADMAP</code> in my function <code>initMap()</code> </p>\n\n<pre><code>&lt;div id=\"imageContainer\"&gt;&lt;/div&gt;\n&lt;div&gt;\n   &lt;div id=\"myModal\" class=\"modal\" &gt;\n           &lt;img id=\"current\" class=\"modal-content\"&gt;\n           &lt;pre id=\"exifResult\"&gt;&lt;/pre&gt;\n           &lt;div id=\"map\"&gt;&lt;/div&gt;\n       &lt;span class=\"close\" onclick=\"spanClick()\" style=\"color: \n     white\"&gt;Close&lt;/span&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n$img.click(function() {\n$('.modal-content').attr('src', $(this).attr('src'));\nmodal.css('display', 'block');\nEXIF.getData(this, function() {\n\n    const make = EXIF.getAllTags(this);\n        let exifData = Object.entries(make).map(([property, value]) =&gt; {\n            return `${property}: ${value}`;\n        })\n        result.text(exifData.join('\\n'));\n\n\n        if (this.exifdata.GPSLatitude &amp;&amp; this.exifdata.GPSLatitude.length &gt; 0) {\n            let latDegree = parseFloat(this.exifdata.GPSLatitude[0].numerator);\n            let latMinute = parseFloat(this.exifdata.GPSLatitude[1].numerator);\n            let latSecond = parseInt(this.exifdata.GPSLatitude[2]);\n            let latDirection = this.exifdata.GPSLatitudeRef;\n            latFinal = ConvertDMSToDD(latDegree, latMinute, latSecond, latDirection);\n        }\n\n        if (this.exifdata.GPSLongitudeRef &amp;&amp; this.exifdata.GPSLongitudeRef.length &gt; 0) {\n            let lonDegree = parseFloat(this.exifdata.GPSLongitude[0].numerator);\n            let lonMinute = parseFloat(this.exifdata.GPSLongitude[1].numerator);\n            let lonSecond = parseInt(this.exifdata.GPSLongitude[2]);\n            let lonDirection = this.exifdata.GPSLongitudeRef;\n            lonFinal = ConvertDMSToDD(lonDegree, lonMinute, lonSecond, lonDirection);\n        }\n\n        if (latFinal &amp;&amp; lonFinal) {\n            initMap(latFinal, lonFinal);\n        } else {\n            googleMap.css('display','none');\n\n        }\n   })\n})\n\n\n\n    function initMap(latFinal,lonFinal) {\n          mapOptions = {\n             center: {lat: latFinal, lng: lonFinal},\n             zoom: 12,\n             mapTypeId: 'roadmap'\n           };\n         let map = new google.maps.Map(document.getElementById('map'),\n            mapOptions);\n\n    };\n</code></pre>\n\n<p>I want the map to be seen as in Mozilla Firefox , snippet here: <a href=\"https://jefrey12212445.imgur.com/all\" rel=\"nofollow noreferrer\">https://jefrey12212445.imgur.com/all</a></p>\n"}, {"tags": ["javascript", "php", "jquery", "while-loop", "jquery-select2"], "comments": [{"owner": {"reputation": 544, "user_id": 4121415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SztBf.png?s=128&g=1", "display_name": "blupointmedia", "link": "https://stackoverflow.com/users/4121415/blupointmedia"}, "edited": false, "score": 1, "creation_date": 1572471145, "post_id": 58633549, "comment_id": 103574816, "body": "Make sure that the id on both select (select2) are unique."}], "answers": [{"tags": [], "owner": {"reputation": 1173, "user_id": 1292556, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/36aad7e6f5118121baabafa1ff0c320c?s=128&d=identicon&r=PG", "display_name": "forsvunnet", "link": "https://stackoverflow.com/users/1292556/forsvunnet"}, "is_accepted": false, "score": 0, "last_activity_date": 1572560036, "creation_date": 1572560036, "answer_id": 58651809, "question_id": 58633549, "link": "https://stackoverflow.com/questions/58633549/how-can-i-add-select2-dynamic-select-box-inside-a-while-loop/58651809#58651809", "title": "How can I add select2 dynamic select box inside a while loop?", "body": "<p>It would be helpful if you provided the loop in your code example.\nThe most likely problem is that your id's are not unique. If you have multiple tags with the same id then javascript will only recognize the first one.\nHere's an example to demonstrate.</p>\n\n<p><a href=\"https://jsfiddle.net/n8vxjoc1/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/n8vxjoc1/1/</a></p>\n\n<pre><code>&lt;div id=\"city-1\"&gt;Content&lt;/div&gt;\n&lt;div id=\"city-1\"&gt;Content&lt;/div&gt;\n&lt;script&gt;\n  jQuery( '#city-1' ).html( jQuery( '#city-1' ).length );\n&lt;/script&gt;\n</code></pre>\n\n<p>Only the 1st element will change and it will display the number 1.</p>\n\n<p>From the W3C specs:</p>\n\n<blockquote>\n  <p>The id attribute specifies its element's unique identifier (ID).</p>\n</blockquote>\n\n<p><a href=\"https://www.w3.org/TR/2011/WD-html5-20110525/elements.html#the-id-attribute\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/2011/WD-html5-20110525/elements.html#the-id-attribute</a></p>\n\n<p>You should give the select dropdowns a class and target that instead.\nE.g.</p>\n\n<p><a href=\"https://jsfiddle.net/n8vxjoc1/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/n8vxjoc1/1/</a></p>\n\n<pre><code>&lt;select name=\"city\" class=\"select2 form-control\"&gt;\u2026&lt;/select&gt;\n&lt;select name=\"city\" class=\"select2 form-control\"&gt;\u2026&lt;/select&gt;\n&lt;script type=\"text/javascript\"&gt;\n  $('select.select2').select2({});\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1310, "user_id": 5701010, "user_type": "registered", "accept_rate": 21, "profile_image": "https://i.stack.imgur.com/19hAq.jpg?s=128&g=1", "display_name": "Nur Uddin", "link": "https://stackoverflow.com/users/5701010/nur-uddin"}, "is_accepted": false, "score": 0, "last_activity_date": 1601427192, "creation_date": 1601427192, "answer_id": 64129503, "question_id": 58633549, "link": "https://stackoverflow.com/questions/58633549/how-can-i-add-select2-dynamic-select-box-inside-a-while-loop/64129503#64129503", "title": "How can I add select2 dynamic select box inside a while loop?", "body": "<p>You can take help from this link: <a href=\"https://makitweb.com/how-to-add-select2-on-dynamic-element-jquery/\" rel=\"nofollow noreferrer\">Demo</a></p>\n<pre><code>    &lt;select class=&quot;select2_el&quot; style='width: 200px;'&gt;\n   &lt;option value='0'&gt;- Search user -&lt;/option&gt;\n&lt;/select&gt;\n\n&lt;div id='elements'&gt;\n\n&lt;/div&gt;\n&lt;input type=&quot;button&quot; id=&quot;btn_add&quot; value=&quot;Add&quot;&gt;\n</code></pre>\n<p>PHP:</p>\n<pre><code>&lt;?php\ninclude 'config.php';// add your config details on that file\n\n$request = 1;\nif(isset($_POST['request'])){\n  $request = $_POST['request'];\n}\n\n// Select2 data\nif($request == 1){\n  if(!isset($_POST['searchTerm'])){\n     $fetchData = mysqli_query($con,&quot;select * from users order by name limit 5&quot;);\n  }else{\n     $search = $_POST['searchTerm'];\n     $fetchData = mysqli_query($con,&quot;select * from users where name like '%&quot;.$search.&quot;%' limit 5&quot;);\n  }\n\n  $data = array();\n\n  while ($row = mysqli_fetch_array($fetchData)) {\n     $data[] = array(&quot;id&quot;=&gt;$row['id'], &quot;text&quot;=&gt;$row['name']); \n  }\n\n  echo json_encode($data);\n  exit;\n}\n\n// Add element\nif($request == 2){\n\n   $html = &quot;&lt;br&gt;&lt;select class='select2_el' &gt;&lt;option value='0'&gt;- Search user -&lt;/option&gt;&lt;/select&gt;&lt;br&gt;&quot;;\n   echo $html;\n   exit;\n\n}\n</code></pre>\n<p>JS</p>\n<pre><code>$(document).ready(function(){\n\n  // Initialize select2\n  initailizeSelect2();\n\n  // Add &lt;select &gt; element\n  $('#btn_add').click(function(){\n     $.ajax({\n       url: 'ajaxfile.php',\n       type: 'post',\n       data: {request: 2},\n       success: function(response){\n\n         // Append element\n         $('#elements').append(response);\n\n         // Initialize select2\n         initailizeSelect2();\n       }\n     });\n  });\n\n});\n\n// Initialize select2\nfunction initailizeSelect2(){\n\n   $(&quot;.select2_el&quot;).select2({\n     ajax: {\n       url: &quot;ajaxfile.php&quot;,\n       type: &quot;post&quot;,\n       dataType: 'json',\n       delay: 250,\n       data: function (params) {\n          return {\n            searchTerm: params.term // search term\n          };\n       },\n       processResults: function (response) {\n          return {\n             results: response\n          };\n       },\n       cache: true\n     }\n   });\n}\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 12279662, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1JUaN67MKl8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfUJBY_cK0rmKf8v-Thh6hSwSBUfg/photo.jpg?sz=128", "display_name": "Shenal Fernando", "link": "https://stackoverflow.com/users/12279662/shenal-fernando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 192, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1601427192, "creation_date": 1572469089, "last_edit_date": 1572478620, "question_id": 58633549, "link": "https://stackoverflow.com/questions/58633549/how-can-i-add-select2-dynamic-select-box-inside-a-while-loop", "title": "How can I add select2 dynamic select box inside a while loop?", "body": "<p>I'm trying to put a Select2 box inside a while loop. But it only works the first select tag. Although loop works fine, the select tag is not working after the first 1. how can I fix this issue?</p>\n\n<p>I also tried adding printing PHP unique id to fix it. but nothing happened.</p>\n\n<pre><code>&lt;select type=\"text\" name=\"city\" id=\"city-&lt;?php echo $id; ?&gt;\" class=\"form-control\"&gt;&lt;/select&gt;\n</code></pre>\n\n<p>This is the javascript part:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n$('#city-&lt;?php echo $id; ?&gt;').select2({\n    placeholder: 'Select city',\n    ajax: {\n        url: 'processes/cities.php',\n        dataType: 'json',\n        delay: 250,\n        processResults: function (data) {\n            return {\n                results: data\n            };\n        },\n        cache: true\n    }\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>I'm expecting all the select boxes to work fine. But actually, only first 1 works.</p>\n"}, {"tags": ["javascript", "html", "google-chrome", "dom", "documentfragment"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 12097289, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tFESGglQVfs/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rek5sY0XBPlFtkNhXfOhkm2oUxlOw/photo.jpg?sz=128", "display_name": "Ammon", "link": "https://stackoverflow.com/users/12097289/ammon"}, "is_accepted": false, "score": 0, "last_activity_date": 1576883414, "creation_date": 1576883414, "answer_id": 59432237, "question_id": 58633517, "link": "https://stackoverflow.com/questions/58633517/create-document-fragment-that-stays-in-dom/59432237#59432237", "title": "Create document-fragment that stays in DOM", "body": "<p>I don't claim to be an expert on this, but I think at least part of the explanation is something along these lines: lightning web components uses a polyfill to implement a structure that is like a closed Shadow DOM (but isn't actually a native browser Shadow DOM). They use document-fragments in the implementation as well.</p>\n\n<p>Documents with more info:</p>\n\n<p><a href=\"https://developer.salesforce.com/docs/component-library/documentation/lwc/lwc.create_dom\" rel=\"nofollow noreferrer\">https://developer.salesforce.com/docs/component-library/documentation/lwc/lwc.create_dom</a>\n<a href=\"https://lwc.dev/guide/composition#shadow-dom\" rel=\"nofollow noreferrer\">https://lwc.dev/guide/composition#shadow-dom</a>\n<a href=\"https://salesforce.stackexchange.com/questions/243725/understanding-shadow-dom-in-lightning-web-components\">https://salesforce.stackexchange.com/questions/243725/understanding-shadow-dom-in-lightning-web-components</a></p>\n\n<p><a href=\"https://developer.salesforce.com/docs/component-library/documentation/lwc/lwc.testing_dom_api\" rel=\"nofollow noreferrer\">https://developer.salesforce.com/docs/component-library/documentation/lwc/lwc.testing_dom_api</a></p>\n\n<p>In the last article, I think this quote gets more directly at how the document-fragment is a part of LWC.</p>\n\n<p>\"The article has a screenshot that shows DOM elements in Chrome Developer Tools. The screenshot shows a #shadow-root document fragment, which is the top node of a component\u2019s shadow tree. If you look at a Lightning web component in Chrome Developer Tools, you don\u2019t see the #shadow-root because LWC uses a shadow DOM polyfill. Salesforce supports some browsers that don\u2019t implement the Shadow DOM web standard. The polyfill provides a shadow DOM in these browsers. To find Lightning web components on the page, look for element names that contain a hyphen. Select the element and run $0.shadowRoot in the Console. A Lightning web component returns #document-fragment.\"</p>\n\n<p>So what salesforce says you need to do to select an element within one of their LWCs is to first select the entire component, then chain .shadowRoot (returns a document-fragment), then select elements within that. I have done this in a site built with LWCs just like this: document.querySelector('c-lb-header.cLB_Theme').shadowRoot.querySelector('#search-1')</p>\n\n<p>I think there are other ways you can come across these document-fragments while traversing the DOM, like apparently .parentNode in your example is one. But even other ways... I can't remember where I read about another now. I imagine this is where problems can arise. And I'm sure other web pages may use document-fragments in ways where this could happen. I just only know about LWCs.</p>\n\n<p>One thing I don't like about most of this documentation is that there are really two concepts at play here. One is a native browser shadow DOM, and the other is a more general concept of a shadow DOM for encapsulation (what SF implements with their polyfill and document-fragments and what not). But I don't think SF does a good job at distinguishing between these, so it can be even more confusing. </p>\n\n<p>Someone more experienced can also probably take all this documentation in and come up with a more specific and precise answer to your question. I still don't really get how LWCs document-fragments appear to be attached to the DOM, but still behaving as if they are inaccessible. It may also have to do with the SF \"Locker service\", but I really don't know about that yet. \n<a href=\"https://developer.salesforce.com/docs/component-library/tools/locker-service-viewer\" rel=\"nofollow noreferrer\">https://developer.salesforce.com/docs/component-library/tools/locker-service-viewer</a></p>\n"}], "owner": {"reputation": 698, "user_id": 9809950, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YlcAA.jpg?s=128&g=1", "display_name": "Josef Biehler", "link": "https://stackoverflow.com/users/9809950/josef-biehler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1577909084, "creation_date": 1572468918, "question_id": 58633517, "link": "https://stackoverflow.com/questions/58633517/create-document-fragment-that-stays-in-dom", "title": "Create document-fragment that stays in DOM", "body": "<p>Recently I saw following html DOM:</p>\n\n<p><a href=\"https://i.stack.imgur.com/RYS3V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RYS3V.png\" alt=\"enter image description here\"></a></p>\n\n<p>Please see the console output that queries the element <code>display-1</code> and tells me that it's parentNode is a document-fragment.\nHow can this happen? I read trough several articles and everyone stated that after appending the document fragment to a DOM element, the document-fragment remains as empty node and it's children are attached normally into the DOM.</p>\n\n<p>I tried to create this situation by using shadow dom, custom elements, and so on. But nothing lead me to exactly this behaviour.</p>\n\n<p>I tried it in chrome and edge.</p>\n\n<p>Hopefully anyone can give me a hint. I struggle with this problem since yesterday...</p>\n"}, {"tags": ["javascript", "node.js", "cluster-computing"], "answers": [{"tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": true, "score": 0, "last_activity_date": 1572550168, "last_edit_date": 1572550168, "creation_date": 1572549706, "answer_id": 58650000, "question_id": 58633501, "link": "https://stackoverflow.com/questions/58633501/sending-all-workers-message-after-receiving-message-from-a-single-worker/58650000#58650000", "title": "Sending all workers message after receiving message from a single worker", "body": "<p>Your master process is only sending a message back to a worker once it has sent its initial message to the master. If you're wanting to <em>broadcast</em> a message to all workers, then you'll need to maintain an array of workers and send to them all in a loop.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const cluster = require('cluster')\nconst numCPUs = require('os').cpus().length\n\nif (cluster.isMaster) {\n    masterLogic();\n} else {\n    workerLogic();\n}\n\nasync function masterLogic() {\n    const workers = await Promise.all(\n      [...Array(numCPUs).keys()].map(i =&gt; spawnWorker(i));\n    );\n\n    for (let i = 0; i &lt; numCPUs; i++) {\n        workers.forEach(worker =&gt; worker.send(`Message #${i}`));\n    }  \n}\n\nfunction spawnWorker(i) {\n    return new Promise(resolve =&gt; {\n        const worker = cluster.fork({ id: i })\n        worker.on('message', text =&gt; {\n           resolve(worker); \n        });\n    });\n}\n\nfunction workerLogic() {\n    const id = Number(process.env.id)\n    let messagesReceived = 0\n    process.send(id)\n    process.on('message', text =&gt; {\n        console.log(text, 'text to', id)\n        messagesReceived++\n    })\n    if (messagesReceived &gt;= numCPUs) process.exit()  \n}\n</code></pre>\n"}], "owner": {"reputation": 59, "user_id": 11064110, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-AlWSdLATAks/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOKtnlvVQSoyNpiqrvC29dhgVdWeQ/mo/photo.jpg=k-s128", "display_name": "RockyS", "link": "https://stackoverflow.com/users/11064110/rockys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 58650000, "answer_count": 1, "score": 3, "last_activity_date": 1572550168, "creation_date": 1572468859, "last_edit_date": 1572549479, "question_id": 58633501, "link": "https://stackoverflow.com/questions/58633501/sending-all-workers-message-after-receiving-message-from-a-single-worker", "title": "Sending all workers message after receiving message from a single worker", "body": "<p>I am trying to have my master distribute work among the workers and the only thing it does is send out messages to all of the workers once it has received a message from one of the workers.</p>\n\n<p>I have tried including worker.send inside of the worker.on function as you can see below. For some reason, it will print each workers own id 'text to' followed by its same id, but is not printing off any other combinations. (ex. '0 text to 3')</p>\n\n<pre><code>const cluster = require('cluster')\nconst numCPUs = require('os').cpus().length\n\nif (cluster.isMaster) {\n    for (let i = 0; i &lt; numCPUs; i++) {\n        const worker = cluster.fork({id: i})\n        worker.on('message', text =&gt; {\n            worker.send(text)\n        })\n    }\n}\nelse {\n    const id = Number(process.env.id)\n    let messagesReceived = 0\n    process.send(id)\n    process.on('message', text =&gt; {\n        console.log(text, 'text to', id)\n        messagesReceived++\n    })\n    if (messagesReceived &gt;= numCPUs) process.exit()\n}\n</code></pre>\n\n<p>Essentially in the example, I want each worker to be able to send their own id to the master, and for master to send the message to all of the workers. Each worker should print every combination of number 'text to' number. Numbers going up to how many workers there are.</p>\n"}, {"tags": ["javascript", "reactjs", "redux", "react-redux", "redux-saga"], "comments": [{"owner": {"reputation": 752, "user_id": 7391342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFD1Z.jpg?s=128&g=1", "display_name": "Abdeen M.", "link": "https://stackoverflow.com/users/7391342/abdeen-m"}, "edited": false, "score": 0, "creation_date": 1572474651, "post_id": 58633446, "comment_id": 103575894, "body": "firstly, your reducer <code>UPDATE_STORE</code> is not the same as your initial state, can you please fix it to reflect your payload."}, {"owner": {"reputation": 119, "user_id": 9094793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQLFP.jpg?s=128&g=1", "display_name": "Edward Bella", "link": "https://stackoverflow.com/users/9094793/edward-bella"}, "reply_to_user": {"reputation": 752, "user_id": 7391342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eFD1Z.jpg?s=128&g=1", "display_name": "Abdeen M.", "link": "https://stackoverflow.com/users/7391342/abdeen-m"}, "edited": false, "score": 0, "creation_date": 1572494737, "post_id": 58633446, "comment_id": 103580065, "body": "I don&#39;t understand what you mean @AbdeenM."}], "answers": [{"tags": [], "owner": {"reputation": 2542, "user_id": 2347716, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/25f393f03391f2ac6b2b5612ced356f2?s=128&d=identicon&r=PG", "display_name": "Martin Kadlec", "link": "https://stackoverflow.com/users/2347716/martin-kadlec"}, "is_accepted": true, "score": 3, "last_activity_date": 1572517504, "creation_date": 1572517504, "answer_id": 58641275, "question_id": 58633446, "link": "https://stackoverflow.com/questions/58633446/redux-store-does-not-update-state-with-created-data-on-firebase-real-time-databa/58641275#58641275", "title": "Redux Store does not update state with created data on firebase real-time database", "body": "<p>I suspect the problem is in your <code>startListener</code> saga. You should use either while cycle with the <code>take</code> effect or use <code>takeEvery</code> without while cycle. Right now you are mixing the two together.</p>\n\n<p>Try this:</p>\n\n<pre><code>function* startListener() {\n  const updateChannel = createEventChannel();\n  while (true) {\n    const data = yield take(updateChannel);\n    yield put(UPDATE_STORE(data));\n  }\n}\n</code></pre>\n\n<p>or this:</p>\n\n<pre><code>function* startListener() {\n  const updateChannel = createEventChannel();\n  yield takeEvery(updateChannel, function*(data) {\n    yield put(UPDATE_STORE(data));\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 119, "user_id": 9094793, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jQLFP.jpg?s=128&g=1", "display_name": "Edward Bella", "link": "https://stackoverflow.com/users/9094793/edward-bella"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "accepted_answer_id": 58641275, "answer_count": 1, "score": 4, "last_activity_date": 1572517504, "creation_date": 1572468572, "question_id": 58633446, "link": "https://stackoverflow.com/questions/58633446/redux-store-does-not-update-state-with-created-data-on-firebase-real-time-databa", "title": "Redux Store does not update state with created data on firebase real-time database", "body": "<p>I have setup my firebase functions and it works perfectly. The data flow for my app goes thus:</p>\n\n<ol>\n<li>User fills a form and submits {works}</li>\n<li>The data is sent to the real-time database {works}</li>\n<li>The data is then passed back to the redux store by listening to the database ref. {does not work}</li>\n<li>The data is then displayed in a table true the redux store for the user to see his/her submitted info. {does not work because 3 does not work}</li>\n</ol>\n\n<p>Where I'm experiencing the issue is number 3.</p>\n\n<p>Here is my Redux action file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {\n  SAVE_FORM,\n  UPDATE_STORE\n} from \"./types\";\n\nexport const saveForm = user =&gt; {\n  return {\n    type: SAVE_FORM,\n    payload: user\n  };\n};\n\nexport const updateStore = data =&gt; {\n  return {\n    type: UPDATE_STORE,\n    payload: data\n  };\n};\n</code></pre>\n\n<p>And here is my reducer:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {\n  SAVE_FORM,\n  UPDATE_STORE\n} from \"../actions/types\";\n\nconst initialState = {\n  users: [],\n  db: \"\"\n};\n\nexport default function (state = initialState, action) {\n  switch (action.type) {\n    case SAVE_FORM:\n      return {\n        ...state,\n        users: [action.payload]\n      };\n\n    case UPDATE_STORE:\n      return {\n        db: [action.payload]\n      };\n    default:\n      return state;\n  }\n}\n</code></pre>\n\n<p>And finally my sagas file:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import {\n  database\n} from \"./firebase-config\"\nimport axios from \"axios\"\nimport {\n  put,\n  fork,\n  takeEvery,\n  take\n} from 'redux-saga/effects'\nimport {\n  eventChannel\n} from \"redux-saga\"\nimport {\n  SAVE_FORM,\n  UPDATE_STORE\n} from \"./actions/types\"\n\nexport function* sendRequest({\n  payload\n}) {\n  //console.log(payload);\n  yield axios.post('https://dummy.com/user', payload)\n    .then(res =&gt; {\n      // here will be code\n      console.log(res)\n    })\n    .catch(error =&gt; {\n      console.log(error);\n    });\n};\n\nexport function* watchSendAction() {\n  yield takeEvery(SAVE_FORM, sendRequest);\n}\n\nfunction createEventChannel() {\n  const listener = eventChannel(emit =&gt; {\n    database.ref('entries/users').on('value', data =&gt; emit(data.val()));\n    return () =&gt; database.ref('entries/users').off(listener);\n  });\n  return listener;\n}\n\n//This is supposed to update my store with the data received by the database\nfunction* startListener() {\n  const updateChannel = createEventChannel();\n  while (true) {\n    const data = yield takeEvery(updateChannel);\n    yield put(UPDATE_STORE(data));\n  }\n}\n\n\nexport default function* helloSaga() {\n  yield fork(watchSendAction);\n  yield fork(startListener);\n}\n</code></pre>\n\n<p>I can't seem to figure what I'm doing wrong.</p>\n"}, {"tags": ["javascript", "ajax", "reactjs"], "comments": [{"owner": {"reputation": 141, "user_id": 12286643, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBdI1Tdc-eU3gV1zq-QREZefgJLXwmNkw-nmCKQMg=k-s128", "display_name": "Am&#243;s Assis", "link": "https://stackoverflow.com/users/12286643/am%c3%b3s-assis"}, "edited": false, "score": 2, "creation_date": 1572469057, "post_id": 58633438, "comment_id": 103574058, "body": "Search for useEffect() function"}], "answers": [{"tags": [], "owner": {"reputation": 322, "user_id": 3692823, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8865f328afa7117c7eaed79181062726?s=128&d=identicon&r=PG&f=1", "display_name": "user3692823", "link": "https://stackoverflow.com/users/3692823/user3692823"}, "is_accepted": true, "score": 4, "last_activity_date": 1572469417, "last_edit_date": 1572469417, "creation_date": 1572469062, "answer_id": 58633547, "question_id": 58633438, "link": "https://stackoverflow.com/questions/58633438/where-should-i-make-ajax-and-api-calls-in-react-js-function-components/58633547#58633547", "title": "Where should I make AJAX and API calls in React.js function components?", "body": "<p>This is what React hooks gives us - ways to do side effects in functional components:</p>\n\n<p><a href=\"https://reactjs.org/docs/hooks-effect.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/hooks-effect.html</a></p>\n\n<p>from the doc page:</p>\n\n<blockquote>\n  <p>If you\u2019re familiar with React class lifecycle methods, you can think of useEffect Hook as componentDidMount, componentDidUpdate, and componentWillUnmount combined.</p>\n</blockquote>\n\n<p>for example:</p>\n\n<pre><code>import React, { useState, useEffect } from 'react';\n\nfunction Example() {\n  const [count, setCount] = useState(0);\n\n  // Similar to componentDidMount and componentDidUpdate:\n  useEffect(() =&gt; {\n    //do an ajax call here\n  });\n\n  return (\n    &lt;div&gt;\n      &lt;p&gt;You clicked {count} times&lt;/p&gt;\n      &lt;button onClick={() =&gt; setCount(count + 1)}&gt;\n        Click me\n      &lt;/button&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 592, "user_id": 4938828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EHIBE.png?s=128&g=1", "display_name": "Saqib Naseeb", "link": "https://stackoverflow.com/users/4938828/saqib-naseeb"}, "is_accepted": false, "score": 1, "last_activity_date": 1572469313, "creation_date": 1572469313, "answer_id": 58633594, "question_id": 58633438, "link": "https://stackoverflow.com/questions/58633438/where-should-i-make-ajax-and-api-calls-in-react-js-function-components/58633594#58633594", "title": "Where should I make AJAX and API calls in React.js function components?", "body": "<p>You can use react-pure-lifecycle to add lifecycle functions to functional components.</p>\n\n<p>Example:</p>\n\n<pre><code>import React, { Component } from 'react';\nimport lifecycle from 'react-pure-lifecycle';\n\nconst methods = {\n    componentDidMount(props) {\n    //ajax call here\n    }\n};\n\nconst Channels = props =&gt; (\n      &lt;h1&gt;Hello&lt;/h1&gt;\n  )\n\nexport default lifecycle(methods)(Channels);\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 1141902, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1209f7421f1c6ce7be18f4006df23d28?s=128&d=identicon&r=PG", "display_name": "rag9", "link": "https://stackoverflow.com/users/1141902/rag9"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 465, "favorite_count": 0, "accepted_answer_id": 58633547, "answer_count": 2, "score": 0, "last_activity_date": 1572469417, "creation_date": 1572468551, "question_id": 58633438, "link": "https://stackoverflow.com/questions/58633438/where-should-i-make-ajax-and-api-calls-in-react-js-function-components", "title": "Where should I make AJAX and API calls in React.js function components?", "body": "<p>I've been learning more about React.js function components and have started transitioning one of my React.js applications to use them instead of the standard react components. In my react components I had been making AJAX/API call(s) in the <code>componentDidMount()</code> function. Since that function doesn't exist in function components I am unsure where to put them.</p>\n\n<p>I couldn't find the answer on the React.js site, the <a href=\"https://reactjs.org/docs/faq-ajax.html\" rel=\"nofollow noreferrer\">only page I could find on AJAX and APIs</a> shows making those calls with react standard components in the <code>componentDidMount()</code> function.</p>\n"}, {"tags": ["javascript", "url"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1572469066, "post_id": 58633420, "comment_id": 103574062, "body": "Basic string concatenation. <code>window.open(&#39;http:&#47;&#47;example.com&#47;?q=&#39;+ myname);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 579, "user_id": 2637838, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/97b0e76980c51e286a53bef9bb4174fa?s=128&d=identicon&r=PG", "display_name": "Serge", "link": "https://stackoverflow.com/users/2637838/serge"}, "edited": false, "score": 0, "creation_date": 1572469038, "post_id": 58633460, "comment_id": 103574053, "body": "Thx for hint, I&#39;ve sorted many similar variations but not literal ! Solved !"}, {"owner": {"reputation": 579, "user_id": 2637838, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/97b0e76980c51e286a53bef9bb4174fa?s=128&d=identicon&r=PG", "display_name": "Serge", "link": "https://stackoverflow.com/users/2637838/serge"}, "edited": false, "score": 0, "creation_date": 1572469379, "post_id": 58633460, "comment_id": 103574194, "body": "You were first :)"}], "tags": [], "owner": {"reputation": 2188, "user_id": 2146125, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/E0umi.jpg?s=128&g=1", "display_name": "Mike Ezzati", "link": "https://stackoverflow.com/users/2146125/mike-ezzati"}, "is_accepted": true, "score": 1, "last_activity_date": 1572471723, "last_edit_date": 1572471723, "creation_date": 1572468635, "answer_id": 58633460, "question_id": 58633420, "link": "https://stackoverflow.com/questions/58633420/javascript-how-to-pass-variable-to-url-query-with-window-open/58633460#58633460", "title": "Javascript how to pass variable to URL query with window.open", "body": "<p>Your string concatenation is not correct</p>\n\n<pre><code>var myname = \"test\"\nwindow.open(\"http://example.com/?q=\" + myname); // Classic string concatenation\nwindow.open(`http://example.com/?q=${myname}`); // Using template literal \n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1572468967, "post_id": 58633477, "comment_id": 103574018, "body": "You don&#39;t &quot;have to&quot;. You can use simple concatenation."}, {"owner": {"reputation": 2637, "user_id": 2334568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835bf956a554f33565c3d38ed4c3c832?s=128&d=identicon&r=PG&f=1", "display_name": "Anand G", "link": "https://stackoverflow.com/users/2334568/anand-g"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1572469225, "post_id": 58633477, "comment_id": 103574132, "body": "Well &quot;have to&quot; should be &quot;Should have to&quot;. The cleanest way of doing concatenation is the Template Literals"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1572469345, "post_id": 58633477, "comment_id": 103574184, "body": "That&#39;s an opinion. I think <code>a + &quot;test&quot;</code> is cleaner than a${test} (&lt;-- not sure how to put back-tick in an SO comment so that it actually appears as opposed to formats the contents as code)."}], "tags": [], "owner": {"reputation": 2637, "user_id": 2334568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/835bf956a554f33565c3d38ed4c3c832?s=128&d=identicon&r=PG&f=1", "display_name": "Anand G", "link": "https://stackoverflow.com/users/2334568/anand-g"}, "is_accepted": false, "score": 1, "last_activity_date": 1572468743, "creation_date": 1572468743, "answer_id": 58633477, "question_id": 58633420, "link": "https://stackoverflow.com/questions/58633420/javascript-how-to-pass-variable-to-url-query-with-window-open/58633477#58633477", "title": "Javascript how to pass variable to URL query with window.open", "body": "<p>You have to wrap the URL in <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">Template Literals</a></p>\n\n<pre><code>window.open(`http://example.com/?q=${myname}`);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 579, "user_id": 2637838, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/97b0e76980c51e286a53bef9bb4174fa?s=128&d=identicon&r=PG", "display_name": "Serge", "link": "https://stackoverflow.com/users/2637838/serge"}, "edited": false, "score": 0, "creation_date": 1572469314, "post_id": 58633526, "comment_id": 103574168, "body": "Thx everybody for hint, I&#39;ve sorted many similar variations but not literal ! Solved and work with Microsoft Edge, at-least..."}], "tags": [], "owner": {"reputation": 489, "user_id": 6046312, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b19dbe34a71d11d1733458f8502b60e?s=128&d=identicon&r=PG&f=1", "display_name": "Josh G", "link": "https://stackoverflow.com/users/6046312/josh-g"}, "is_accepted": false, "score": 2, "last_activity_date": 1572468970, "creation_date": 1572468970, "answer_id": 58633526, "question_id": 58633420, "link": "https://stackoverflow.com/questions/58633420/javascript-how-to-pass-variable-to-url-query-with-window-open/58633526#58633526", "title": "Javascript how to pass variable to URL query with window.open", "body": "<p>It looks like you're just putting the variable in the string incorrectly. Check out <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">template literals</a> if you don't need to support IE.</p>\n\n<hr>\n\n<pre><code>var myname = \"John\";\n// won't work\nwindow.open('http://example.com/?q=\"+ myname\"');\n// will produce 'http://example.com/?q=John'\nwindow.open(`http://example.com/?q=${myname}`);\n</code></pre>\n\n<p>and likewise</p>\n\n<pre><code>// won't work\nwindow.open('http://example.com/?q=(myname)');\n// valid\nwindow.open(`http://example.com/?q=${myname}`);\n</code></pre>\n\n<p>If you do need to support IE then <code>window.open('http://example.com/?q=' + myname);</code> should work</p>\n"}], "owner": {"reputation": 579, "user_id": 2637838, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/97b0e76980c51e286a53bef9bb4174fa?s=128&d=identicon&r=PG", "display_name": "Serge", "link": "https://stackoverflow.com/users/2637838/serge"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 94, "favorite_count": 0, "accepted_answer_id": 58633460, "answer_count": 3, "score": 0, "last_activity_date": 1572471723, "creation_date": 1572468451, "question_id": 58633420, "link": "https://stackoverflow.com/questions/58633420/javascript-how-to-pass-variable-to-url-query-with-window-open", "title": "Javascript how to pass variable to URL query with window.open", "body": "<p>First of all - this question has no answers at\n<a href=\"https://stackoverflow.com/questions/26200850/include-variable-in-url\">Include variable in URL</a> \nor <a href=\"https://stackoverflow.com/questions/1408289/how-can-i-do-string-interpolation-in-javascript\">How can I do string interpolation in JavaScript?</a>\nI tested many variants from elsewhere before my question here.\nFor example, as advised at <a href=\"https://stackoverflow.com/questions/26200850/include-variable-in-url\">Include variable in URL</a></p>\n\n<pre><code>window.open('http://example.com/?q=\"+ myname\"');\n</code></pre>\n\n<p>does not work with the script below.\nA kind of specific wrapping is needed.</p>\n\n<p>So, simplest script</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nfunction sendquery() {\nvar myname = \"John\";\nalert(myname);\nwindow.open('http://example.com/?q=(myname)');\n}\n&lt;/script&gt;\n&lt;button onclick=\"sendquery()\"&gt;Query&lt;/button&gt;\n</code></pre>\n\n<p>Alert perfectly shows variable John. But query sends not variable John but (myname).</p>\n\n<p>Or + myname - if follow other answers.</p>\n\n<p>How to wrap variable to URL query ?</p>\n"}, {"tags": ["javascript", "sql", "node.js", "json", "express"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 1, "creation_date": 1572468820, "post_id": 58633398, "comment_id": 103573960, "body": "<code>db.all</code> (similar to <code>db.get</code>) is returning a Promise; you need to use a callback or a chained <code>.then(...)</code>  to retrieve the result. Consider something like <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\"><code>Promise.all(...)</code></a> so that you can run both queries and act upon the results when they&#39;ve both completed."}, {"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1572470003, "post_id": 58633398, "comment_id": 103574420, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}, {"owner": {"reputation": 47, "user_id": 3475388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd4b98037bb6e0af20550d5575d9ad7?s=128&d=identicon&r=PG&f=1", "display_name": "JAZWii", "link": "https://stackoverflow.com/users/3475388/jazwii"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1572529122, "post_id": 58633398, "comment_id": 103594372, "body": "thank you @TylerRoper  I tried Promise all as in the link I got this error ``` TypeError: [object Object] is not iterable     at Function.all (&lt;anonymous&gt;) ```  Thank you @AluanHaddad I have tried several ones in the link you have sent me several return empty and several return errors"}], "answers": [{"tags": [], "owner": {"reputation": 47, "user_id": 3475388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd4b98037bb6e0af20550d5575d9ad7?s=128&d=identicon&r=PG&f=1", "display_name": "JAZWii", "link": "https://stackoverflow.com/users/3475388/jazwii"}, "is_accepted": false, "score": 0, "last_activity_date": 1572596673, "creation_date": 1572596673, "answer_id": 58656142, "question_id": 58633398, "link": "https://stackoverflow.com/questions/58633398/db-all-function-doesnt-return-as-an-array-variable/58656142#58656142", "title": "db.all function doesn&#39;t return as an array variable", "body": "<p>I have solved it by adding async</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>app.get('/group/:groupId', async (req, res, next) =&gt; {\n\n    const members= await db.all('SELECT name,active FROM members WHERE groupId = ?;', req.params.groupId).then();\n\n    return db.get('SELECT * FROM groups WHERE groups.id = ?;',req.params.groupId)\n     .then(group =&gt;  res.json({\n         group.name,\n         members:members\n        }))\n        .catch(next);\n});\n</code></pre>\n\n<p>thanks to all who tried to help</p>\n"}], "owner": {"reputation": 47, "user_id": 3475388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbd4b98037bb6e0af20550d5575d9ad7?s=128&d=identicon&r=PG&f=1", "display_name": "JAZWii", "link": "https://stackoverflow.com/users/3475388/jazwii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572596673, "creation_date": 1572468340, "question_id": 58633398, "link": "https://stackoverflow.com/questions/58633398/db-all-function-doesnt-return-as-an-array-variable", "title": "db.all function doesn&#39;t return as an array variable", "body": "<p>I want to receive an array from db.all function in order to use it in my custom JSON object that I want to return it as a response  </p>\n\n<p>I have tried \nObject.values(members);\nmembers.fulfillmentValue;\nsome PROMISE methods I found in StackOverFlow</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>app.get('/group/:groupId', (req, res, next) =&gt; {\n\n    const members= db.all('SELECT name,active FROM members WHERE groupId = ?;', req.params.groupId);\n\n    return db.get('SELECT * FROM groups WHERE groups.id = ?;',req.params.groupId)\n     .then(group =&gt;  res.json({\n         group.name,\n         members:[members]\n        }))\n        .catch(next);\n});\n</code></pre>\n\n<p>actual response</p>\n\n<pre><code>{\n   \"name\":\"group 1\",\n   \"memebers\":[\n      {\"isFulfilled\":true,\"isRejected\":false,\"fulfillmentValue\":[\n         {\"name\":\"Member 1\",\"active\":1},\n         {\"name\":\"Member 2\",\"active\":0}\n      ]\n   }]\n}\n</code></pre>\n\n<p>expected response</p>\n\n<pre><code>{\n   \"name\":\"group 1\",\n   \"memebers\":[\n      {\"name\":\"Member 1\",\"active\":1},\n      {\"name\":\"Member 2\",\"active\":0}\n   ]\n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "async-await", "aws-lambda", "async.js"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 2, "creation_date": 1572467969, "post_id": 58633296, "comment_id": 103573573, "body": "you haven&#39;t wrapped your logic of <code>setBattery</code> in a promise."}, {"owner": {"reputation": 466, "user_id": 3216326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c2OLN.png?s=128&g=1", "display_name": "PKonstant", "link": "https://stackoverflow.com/users/3216326/pkonstant"}, "reply_to_user": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1572468207, "post_id": 58633296, "comment_id": 103573684, "body": "ok.  I have not used a promise before."}, {"owner": {"reputation": 430, "user_id": 10509886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jztmg.png?s=128&g=1", "display_name": "JDunken", "link": "https://stackoverflow.com/users/10509886/jdunken"}, "edited": false, "score": 2, "creation_date": 1572468414, "post_id": 58633296, "comment_id": 103573772, "body": "async/await are tools that use promises, to understand async/await you need to understand promises. Also, adding async to a function definition changes the return type of that function to a promise, so you&#39;ll need to handle that promise. Something like <code>exports.handler(a, b).then(() =&gt; {}).catch(() =&gt; {}).finally(() =&gt; {})</code>"}, {"owner": {"reputation": 1052, "user_id": 1490169, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/3d14afa36a671233a12d3da8e82ffd30?s=128&d=identicon&r=PG", "display_name": "Jack Cole", "link": "https://stackoverflow.com/users/1490169/jack-cole"}, "edited": false, "score": 1, "creation_date": 1572469023, "post_id": 58633296, "comment_id": 103574045, "body": "&quot;If I remove await/async, and make it synchronous, my function works correctly.&quot; Why do you want it to be async?"}, {"owner": {"reputation": 466, "user_id": 3216326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c2OLN.png?s=128&g=1", "display_name": "PKonstant", "link": "https://stackoverflow.com/users/3216326/pkonstant"}, "edited": false, "score": 0, "creation_date": 1572471650, "post_id": 58633296, "comment_id": 103574983, "body": "I am trying to add an http get call to our Alexa smart home skill lambda function and most of the code async."}], "answers": [{"tags": [], "owner": {"reputation": 1816, "user_id": 4148439, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/932be09601288e3cbf9ea3494bad6905?s=128&d=identicon&r=PG", "display_name": "ricardoorellana", "link": "https://stackoverflow.com/users/4148439/ricardoorellana"}, "is_accepted": true, "score": 0, "last_activity_date": 1572479724, "last_edit_date": 1572479724, "creation_date": 1572479284, "answer_id": 58635121, "question_id": 58633296, "link": "https://stackoverflow.com/questions/58633296/how-to-await-async-in-a-node-js-lambda-function/58635121#58635121", "title": "How to: await / async in a node.js lambda function?", "body": "<p>According with MDN Web Docs:</p>\n\n<blockquote>\n  <p>The async function declaration defines an asynchronous function, which\n  returns an AsyncFunction object. An asynchronous function is a\n  function which operates asynchronously via the event loop, using an\n  <strong><em>implicit Promise to return its result</em></strong>. But the syntax and structure of\n  your code using async functions is much more like using standard\n  synchronous functions.</p>\n</blockquote>\n\n<p>So, You need to return a <code>Promise</code> object in order to be handled by your <code>async function</code> (You could also use another promise to handle it), I converted <code>setBattery</code> to a normal function and the return of this function is now a promise that will be handled by your handler (<code>exports.handler</code>). I haven't tested the code but it should work.</p>\n\n<pre><code>exports.handler = async function (event, context) {\n\n    await setBattery();\n\n    // TODO implement\n    const response = {\n        statusCode: 200,\n        body: JSON.stringify('Hello from Lambda!'),\n    };\n    return response;\n};\n\nfunction setBattery() {\n    'use strict';\n\n    const https = require('https');\n\n    const options = {\n        hostname: 'testsite.com',\n        port: 443,\n        path: '/proxy/api/setting?EM_OperatingMode=1',\n        method: 'GET',\n        headers: {\n            'Content-Type': 'application/json',\n        }\n    };\n\n    // Return it as a Promise\n    return new Promise((resolve, reject) =&gt; {\n\n        const req = https.request(options, res =&gt; {\n            console.log(`statusCode: ${res.statusCode}`);\n\n            res.on('data', d =&gt; {\n                process.stdout.write(d);\n\n                // If successful\n                resolve(d);\n            });\n        });\n\n        req.on('error', error =&gt; {\n            console.error(error);\n\n            // If failed\n            reject(error);\n        });\n\n        req.end();\n\n    });\n\n}\n</code></pre>\n"}], "owner": {"reputation": 466, "user_id": 3216326, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/c2OLN.png?s=128&g=1", "display_name": "PKonstant", "link": "https://stackoverflow.com/users/3216326/pkonstant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 769, "favorite_count": 0, "accepted_answer_id": 58635121, "answer_count": 1, "score": 0, "last_activity_date": 1572479724, "creation_date": 1572467845, "question_id": 58633296, "link": "https://stackoverflow.com/questions/58633296/how-to-await-async-in-a-node-js-lambda-function", "title": "How to: await / async in a node.js lambda function?", "body": "<p>I am trying to create an async lambda function that makes a <strong>http</strong> <strong>Get</strong> call put it's not working correctly and I believe it has to do with it being async.  If I remove <strong>await/async</strong>, and make it synchronous, my function works correctly.  I'm not sure what I am doing wrong.  Thank you for your help!</p>\n\n<pre><code>exports.handler = async function (event, context) {\n\n    await setBattery();\n\n    // TODO implement\n    const response = {\n        statusCode: 200,\n        body: JSON.stringify('Hello from Lambda!'),\n    };\n    return response;\n};\n\nasync function setBattery() {\n    'use strict';\n\n    const https = require('https');\n\n    const options = {\n        hostname: 'testsite.com',\n        port: 443,\n        path: '/proxy/api/setting?EM_OperatingMode=1',\n        method: 'GET',\n        headers: {\n            'Content-Type': 'application/json',\n        }\n    };\n\n    const req = https.request(options, res =&gt; {\n        console.log(`statusCode: ${res.statusCode}`);\n\n        res.on('data', d =&gt; {\n            process.stdout.write(d);\n        });\n    });\n\n    req.on('error', error =&gt; {\n        console.error(error);\n    });\n\n    req.end();\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "google-chrome", "browser", "google-chrome-extension"], "answers": [{"tags": [], "owner": {"reputation": 361, "user_id": 6023103, "user_type": "registered", "accept_rate": 70, "profile_image": "https://lh6.googleusercontent.com/-NWqukzSvW-g/AAAAAAAAAAI/AAAAAAAABIQ/m9rOktdr_W4/photo.jpg?sz=128", "display_name": "Jason Owens", "link": "https://stackoverflow.com/users/6023103/jason-owens"}, "is_accepted": false, "score": 0, "last_activity_date": 1572537763, "creation_date": 1572537763, "answer_id": 58647211, "question_id": 58633241, "link": "https://stackoverflow.com/questions/58633241/detect-if-login-credentials-are-saved-at-the-browser-within-a-chrome-extension/58647211#58647211", "title": "Detect if login credentials are saved at the browser within a Chrome extension", "body": "<p>To me it sounds like you should just store and retrieve the email and password in <a href=\"https://developer.chrome.com/apps/storage\" rel=\"nofollow noreferrer\">chrome.storage</a>.</p>\n\n<p>If I understand correctly, the page still will not auto login until the extension button is atleast clicked once to kick off any scripts.  If that is the case, have the popup.js perform the launching &amp; auto-login of the pages using window.open, eg.</p>\n"}], "owner": {"reputation": 191, "user_id": 7607751, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8430b43216b23c813ad07a9e5f7875db?s=128&d=identicon&r=PG&f=1", "display_name": "user7607751", "link": "https://stackoverflow.com/users/7607751/user7607751"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 690, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1572537763, "creation_date": 1572467562, "last_edit_date": 1572467953, "question_id": 58633241, "link": "https://stackoverflow.com/questions/58633241/detect-if-login-credentials-are-saved-at-the-browser-within-a-chrome-extension", "title": "Detect if login credentials are saved at the browser within a Chrome extension", "body": "<p>I'm trying to make a Chrome extension auto log a website (by submitting its login form), only in case the user has his login credentials saved at the browser. </p>\n\n<p>And because the login credentials (email/password) are populated to the form after the web page loads, I'm using a JavaScript <code>interval</code> after the page load, as suggested <a href=\"https://stackoverflow.com/questions/13197539/\">here</a>  </p>\n\n<p>So, my code as follows: </p>\n\n<pre><code>//use 10 seconds interval waiting for the form to populate by the saved credentials:\nvar waitSeconds = 0;\nvar interval = setInterval(function () {\n\nvar inputEmail = document.getElementById('email');\nvar inputPass = document.getElementById('password');\n\nconsole.log(\n        'inputEmail:', inputEmail, '\\n',\n        'inputPass:', inputPass, '\\n',\n        'inputEmail.value:', inputEmail.value, '\\n',\n        'inputPass.value:', inputPass.value, '\\n',\n        'inputEmail.defaultValue:', inputEmail.defaultValue, '\\n',\n        'inputPass.defaultValue:', inputPass.defaultValue, '\\n',\n        );\n\n    if (inputPass.defaultValue || inputPass.value) {\n        console.log('login credentials are saved at the browser!');\n        clearInterval(interval);\n        //click the form submit button here;\n\n    } else {\n        console.log('waiting...');\n        if (waitSeconds &lt; 10) {\n            waitSeconds++;\n        } else {\n            clearInterval(interval);\n            console.log('10 seconds passed, timeout!');\n        }\n    }\n}, 1000);\n</code></pre>\n\n<p>I get at the <code>console</code> the following: </p>\n\n<pre><code>inputEmail: &lt;input autocomplete=\"email\" type=\"email\" id=\"email\" value=\"myemail@example.com\"&gt;\ninputPass: &lt;input autocomplete=\"password\" type=\"password\" id=\"password\" value=\"myPasswordIsVisibleHere\"&gt;\n</code></pre>\n\n<p>But for <code>inputEmail.value</code>, <code>inputPass.value</code>, <code>inputEmail.defaultValue</code>, <code>inputPass.defaultValue</code>, Sometimes, I get the data and sometimes I get nothing! just empty values!</p>\n\n<p>I can't know what makes this happens sometimes and sometimes not, but, based on some observations, I noticed that whenever I do a manual interaction with the page it always populate the values at the console! </p>\n\n<p>Manual human interaction can by something like (clicking anywhere at the page, manually focus an input, clicking F12 to open the dev tools, during the 10 seconds <code>interval</code>, etc) </p>\n\n<p>Is this manual interaction a requirement by Chrome as a security measurement to prevent stealing saved users credentials? I don't know!</p>\n\n<p>I tried to simulate human interaction programmatically, things like: </p>\n\n<pre><code>$(inputEmail).keydown().keypress().keyup().blur().focus();\n</code></pre>\n\n<p>Also thought about using <code>document.execCommand('paste')</code>, to paste a space or something after the value, out of a desperation approach!</p>\n\n<p>What can I do ALWAYS get the credentials and have a consistent login functionality? </p>\n\n<p>Is there a better approach I should use instead of this? </p>\n"}, {"tags": ["javascript", "php", "jquery", "html"], "comments": [{"owner": {"reputation": 544, "user_id": 4121415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SztBf.png?s=128&g=1", "display_name": "blupointmedia", "link": "https://stackoverflow.com/users/4121415/blupointmedia"}, "edited": false, "score": 0, "creation_date": 1572467580, "post_id": 58633179, "comment_id": 103573403, "body": "You are using .load() correctly. Please look at the docs here. <a href=\"https://api.jquery.com/load/\" rel=\"nofollow noreferrer\">api.jquery.com/load</a>"}, {"owner": {"reputation": 544, "user_id": 4121415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SztBf.png?s=128&g=1", "display_name": "blupointmedia", "link": "https://stackoverflow.com/users/4121415/blupointmedia"}, "edited": false, "score": 0, "creation_date": 1572467620, "post_id": 58633179, "comment_id": 103573425, "body": "You need to have your query in a different page and return the results of the query and load that page in .load() of jquery to dom element."}, {"owner": {"reputation": 9, "user_id": 12121547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69d8adb9d0103c7b49c306463fefa06?s=128&d=identicon&r=PG&f=1", "display_name": "Nilton Sf", "link": "https://stackoverflow.com/users/12121547/nilton-sf"}, "reply_to_user": {"reputation": 544, "user_id": 4121415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SztBf.png?s=128&g=1", "display_name": "blupointmedia", "link": "https://stackoverflow.com/users/4121415/blupointmedia"}, "edited": false, "score": 0, "creation_date": 1572467720, "post_id": 58633179, "comment_id": 103573471, "body": "But how can I update without making another page?"}, {"owner": {"reputation": 544, "user_id": 4121415, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SztBf.png?s=128&g=1", "display_name": "blupointmedia", "link": "https://stackoverflow.com/users/4121415/blupointmedia"}, "edited": false, "score": 0, "creation_date": 1572468009, "post_id": 58633179, "comment_id": 103573590, "body": "You have to load the content from another page for the data to be refreshed. There isn&#39;t a way to refresh it on the page once it is on the page."}], "answers": [{"comments": [{"owner": {"reputation": 9, "user_id": 12121547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69d8adb9d0103c7b49c306463fefa06?s=128&d=identicon&r=PG&f=1", "display_name": "Nilton Sf", "link": "https://stackoverflow.com/users/12121547/nilton-sf"}, "edited": false, "score": 0, "creation_date": 1572468254, "post_id": 58633311, "comment_id": 103573710, "body": "It is because I&#39;m not an expert neither a beginner in JQuery, I was just looking up a method to make this update, every time the data comes to the server. So there are WebSockets that could make it easier to do this? Could you list any of them plz."}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "reply_to_user": {"reputation": 9, "user_id": 12121547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69d8adb9d0103c7b49c306463fefa06?s=128&d=identicon&r=PG&f=1", "display_name": "Nilton Sf", "link": "https://stackoverflow.com/users/12121547/nilton-sf"}, "edited": false, "score": 0, "creation_date": 1572468381, "post_id": 58633311, "comment_id": 103573752, "body": "@NiltonSf: A Google search for something like &quot;php websocket example&quot; would be the ideal place to get started.  One such example could be: <a href=\"https://stackoverflow.com/questions/14512182/how-to-create-websockets-server-in-php\" title=\"how to create websockets server in php\">stackoverflow.com/questions/14512182/&hellip;</a>"}, {"owner": {"reputation": 9, "user_id": 12121547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69d8adb9d0103c7b49c306463fefa06?s=128&d=identicon&r=PG&f=1", "display_name": "Nilton Sf", "link": "https://stackoverflow.com/users/12121547/nilton-sf"}, "edited": false, "score": 0, "creation_date": 1572468708, "post_id": 58633311, "comment_id": 103573909, "body": "Do you know if there is any other simpler way to load only this info?"}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "reply_to_user": {"reputation": 9, "user_id": 12121547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69d8adb9d0103c7b49c306463fefa06?s=128&d=identicon&r=PG&f=1", "display_name": "Nilton Sf", "link": "https://stackoverflow.com/users/12121547/nilton-sf"}, "edited": false, "score": 0, "creation_date": 1572468966, "post_id": 58633311, "comment_id": 103574015, "body": "@NiltonSf: Essentially you either poll for updates at regular intervals (your current approach) or use web sockets to push data to the browser.  And in both cases you can either return everything again (your current approach) or just the specific data to be updated.  You can certainly stick with the current approach if it works for you and no performance problem is noticed.  But if performance becomes an issue then these are next steps to take."}, {"owner": {"reputation": 9, "user_id": 12121547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69d8adb9d0103c7b49c306463fefa06?s=128&d=identicon&r=PG&f=1", "display_name": "Nilton Sf", "link": "https://stackoverflow.com/users/12121547/nilton-sf"}, "edited": false, "score": 0, "creation_date": 1572469478, "post_id": 58633311, "comment_id": 103574237, "body": "Hmm, Ok I get it now. If I was going to make a load.php file to add to .load I would have to put the PHP code for sending data?, I this case, inside the load.php I would have to put the code mentioned in &#39;This is one part of my DIV:&#39;?"}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "reply_to_user": {"reputation": 9, "user_id": 12121547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69d8adb9d0103c7b49c306463fefa06?s=128&d=identicon&r=PG&f=1", "display_name": "Nilton Sf", "link": "https://stackoverflow.com/users/12121547/nilton-sf"}, "edited": false, "score": 0, "creation_date": 1572470906, "post_id": 58633311, "comment_id": 103574737, "body": "@NiltonSf: Ideally the only information returned would be just the data itself, likely in JSON format, rather than all of the HTML markup surrounding that data.  The markup is already on the page, so there&#39;s no real need to transfer it over the network again.  The client-side code would use the returned data to update the existing markup, rather than a wholesale replacement of all the markup for newly returned markup.  This is likely going to involve simply more learning and practice on your part, it&#39;s not critical but rather a performance improvement step."}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "reply_to_user": {"reputation": 9, "user_id": 12121547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69d8adb9d0103c7b49c306463fefa06?s=128&d=identicon&r=PG&f=1", "display_name": "Nilton Sf", "link": "https://stackoverflow.com/users/12121547/nilton-sf"}, "edited": false, "score": 0, "creation_date": 1572473166, "post_id": 58633311, "comment_id": 103575466, "body": "@NiltonSf: Check the resulting HTML in your browser\u2019s debugging tools.  You may have altered the markup, which can change the layout."}, {"owner": {"reputation": 9, "user_id": 12121547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69d8adb9d0103c7b49c306463fefa06?s=128&d=identicon&r=PG&f=1", "display_name": "Nilton Sf", "link": "https://stackoverflow.com/users/12121547/nilton-sf"}, "edited": false, "score": 0, "creation_date": 1572475851, "post_id": 58633311, "comment_id": 103576207, "body": "Hey, I just made a separate file as you told. But I have a question, for all my 3 Infos I will have to create 3 different files?"}], "tags": [], "owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "is_accepted": false, "score": 2, "last_activity_date": 1572467935, "creation_date": 1572467935, "answer_id": 58633311, "question_id": 58633179, "link": "https://stackoverflow.com/questions/58633179/reload-div-from-page-without-changing-pages/58633311#58633311", "title": "Reload DIV from page, without changing pages", "body": "<p><a href=\"https://api.jquery.com/load/\" rel=\"nofollow noreferrer\"><code>.load()</code> needs a <em>URL</em></a> to make its AJAX request to get the data.  The additional selector is optional for filtering out information from the response.  Something like this:</p>\n\n<pre><code>$('#blocoCorrente').load('yourPage.php #blocoCorrente');\n</code></pre>\n\n<p>Your testing can confirm this, but I <em>suspect</em> it may need to be taken a step further.  I would suspect that this would place a new <code>#blocoCorrente</code> element as a <em>child</em> of the existing <code>#blocoCorrente</code> element, creating an ever-growing hierarchy of duplicated IDs.</p>\n\n<p>If that turns out to be the case, as a quick fix you might simply wrap the <code>#blocoCorrente</code> element and use that wrapped one as your target.  Something like this:</p>\n\n<pre><code>&lt;div id=\"blocoCorrente-container\"&gt;\n    &lt;div id=\"blocoCorrente\"&gt;\n        ...\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Then in your JavaScript:</p>\n\n<pre><code>$('#blocoCorrente-container').load('yourPage.php #blocoCorrente');\n</code></pre>\n\n<hr />\n\n<p>It's worth noting that <em>the entire page</em> is processed and returned, making this fairly inefficient.  For something that's going to be executed repeatedly like this, you may want to make it more efficient and only request/return the updated data.</p>\n\n<p>As a next step, consider making a separate page which returns <em>just</em> the data you need to build the markup, ideally in JSON format.  Then use jQuery's <code>$.get()</code> to make an AJAX request to get just that data, and have JavaScript code in the callback which uses that data to modify the already existing page markup.</p>\n\n<p>Further steps to improve design and efficiency could be to investigate the use of a technology called WebSockets, in which the server actively pushes updated information to the browser only when the data is updated.  This would drastically reduce the number of HTTP requests being made.</p>\n"}], "owner": {"reputation": 9, "user_id": 12121547, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f69d8adb9d0103c7b49c306463fefa06?s=128&d=identicon&r=PG&f=1", "display_name": "Nilton Sf", "link": "https://stackoverflow.com/users/12121547/nilton-sf"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572467935, "creation_date": 1572467298, "question_id": 58633179, "link": "https://stackoverflow.com/questions/58633179/reload-div-from-page-without-changing-pages", "title": "Reload DIV from page, without changing pages", "body": "<p>I want to reload only the DIV from my page every 5 to 10 seconds because that's the time that the data will enter, I don`t want to reload the FULL page, just the DIV. </p>\n\n<p>This is what I tried, but for some reason it messes up all my page format: </p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.3.0/jquery.min.js\"&gt;&lt;/script&gt;\n      &lt;script type=\"text/javascript\"&gt;\n      var auto_refresh = setInterval(\n      function () {\n          $('#blocoCorrente').load('#blocoCorrente');\n      }, 1000);\n      &lt;/script&gt;\n      &lt;/p&gt;\n</code></pre>\n\n<p>This is one part of my DIV:</p>\n\n<pre><code> &lt;div class=\"blocoCorrente\" id = \"blocoCorrente\"&gt;\n      &lt;!-- Imprimir os valore dos sensor 1 --&gt;\n      &lt;p class=\"p0-blocoCorrente\"&gt;Corrente 1:\n      &lt;?php \n        $id = $_SESSION['userId']; \n\n        $dBname = \"infosensor\";\n        $conn = mysqli_connect($servername, $dBUsername, $dBPassword, $dBname);\n\n        $sql = \"SELECT * FROM `$id` ORDER BY id DESC LIMIT 1;\";\n        $result = mysqli_query($conn, $sql);\n        $resultCheck = mysqli_num_rows($result);\n\n        if($resultCheck &gt; 0)\n        {\n          while ($row = mysqli_fetch_assoc($result))\n          {\n            //echo \"\".$row['sensor1'].\"A\";\n            $ss1 = intval($row['sensor1'] * ($p = pow(10, 2))) / $p;\n            echo \"\".$ss1.\"A\";\n            $s1 = $row['sensor1'];\n          }\n        }\n      ?&gt;\n      &lt;/p&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "redux", "react-redux"], "comments": [{"owner": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1572467742, "post_id": 58633166, "comment_id": 103573484, "body": "Does this still happen if you update to <code>react-redux@^7.1.1</code>?  Also, is there any kind of multi-folder workspace setup with this project (Lerna, <code>npm link</code>, etc)?"}, {"owner": {"reputation": 198, "user_id": 8486161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e8bcfb85a6e5601712b4cfebeb20cdd?s=128&d=identicon&r=PG", "display_name": "SeanMcP", "link": "https://stackoverflow.com/users/8486161/seanmcp"}, "reply_to_user": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1572468047, "post_id": 58633166, "comment_id": 103573611, "body": "@markerikson I can&#39;t update to past <code>6.0.0</code> because our current state management library is tied to the old old Context API. No multi-folders."}, {"owner": {"reputation": 7617, "user_id": 5664434, "user_type": "registered", "accept_rate": 57, "profile_image": "https://lh6.googleusercontent.com/-Ws_m-ConuqI/AAAAAAAAAAI/AAAAAAAAAAA/yJVKiI7N47Q/photo.jpg?sz=128", "display_name": "marzelin", "link": "https://stackoverflow.com/users/5664434/marzelin"}, "edited": false, "score": 0, "creation_date": 1572469448, "post_id": 58633166, "comment_id": 103574225, "body": "can&#39;t reproduce: <a href=\"https://codesandbox.io/s/headless-rain-c5f66\" rel=\"nofollow noreferrer\">codesandbox.io/s/headless-rain-c5f66</a>"}, {"owner": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1572469689, "post_id": 58633166, "comment_id": 103574320, "body": "If you&#39;re on 6.0, then you&#39;re already using the new context API.  Do you mean you&#39;re on v5.x instead?  And out of curiosity, what do you mean &quot;current state management library&quot;?"}, {"owner": {"reputation": 198, "user_id": 8486161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e8bcfb85a6e5601712b4cfebeb20cdd?s=128&d=identicon&r=PG", "display_name": "SeanMcP", "link": "https://stackoverflow.com/users/8486161/seanmcp"}, "edited": false, "score": 0, "creation_date": 1572470096, "post_id": 58633166, "comment_id": 103574457, "body": "*Pre-hook context. We&#39;re on <code>react@16.6.3</code> and <code>react-redux@6.0.0</code>. The current state management library is <code>fluxible@1.4.0</code>."}, {"owner": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1572481822, "post_id": 58633166, "comment_id": 103577588, "body": "Uh... I&#39;m confused.  Are you hooking Fluxible into React-Redux somehow?  Or are you using both Redux and Fluxible at the same time?"}, {"owner": {"reputation": 2870, "user_id": 4769440, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Cpp5N.png?s=128&g=1", "display_name": "Daniel Lizik", "link": "https://stackoverflow.com/users/4769440/daniel-lizik"}, "edited": false, "score": 0, "creation_date": 1572500223, "post_id": 58633166, "comment_id": 103581135, "body": "can you post the code where you setup <code>&lt;Provider &#47;&gt;</code> and creating the store?"}, {"owner": {"reputation": 198, "user_id": 8486161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e8bcfb85a6e5601712b4cfebeb20cdd?s=128&d=identicon&r=PG", "display_name": "SeanMcP", "link": "https://stackoverflow.com/users/8486161/seanmcp"}, "reply_to_user": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1572527886, "post_id": 58633166, "comment_id": 103593702, "body": "@markerikson The app currently uses Fluxible, but we want to switch to Redux. The current plan is to run both and slowly migrate from the former to the latter."}, {"owner": {"reputation": 198, "user_id": 8486161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e8bcfb85a6e5601712b4cfebeb20cdd?s=128&d=identicon&r=PG", "display_name": "SeanMcP", "link": "https://stackoverflow.com/users/8486161/seanmcp"}, "reply_to_user": {"reputation": 2870, "user_id": 4769440, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Cpp5N.png?s=128&g=1", "display_name": "Daniel Lizik", "link": "https://stackoverflow.com/users/4769440/daniel-lizik"}, "edited": false, "score": 0, "creation_date": 1572527893, "post_id": 58633166, "comment_id": 103593706, "body": "@DanielLizik The setup is exactly the same as this example from the docs: <a href=\"https://redux.js.org/recipes/server-rendering\" rel=\"nofollow noreferrer\">redux.js.org/recipes/server-rendering</a>"}, {"owner": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1572533890, "post_id": 58633166, "comment_id": 103597174, "body": "So I&#39;m still confused on why you say you&#39;re limited to React-Redux v6.  If you&#39;re just now adding Redux, you should be able to use v7, even if something Fluxible-related still relies on using the old context API internally."}, {"owner": {"reputation": 198, "user_id": 8486161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e8bcfb85a6e5601712b4cfebeb20cdd?s=128&d=identicon&r=PG", "display_name": "SeanMcP", "link": "https://stackoverflow.com/users/8486161/seanmcp"}, "reply_to_user": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1572534878, "post_id": 58633166, "comment_id": 103597804, "body": "@markerikson The peer dependency for <code>redux@7.1.0</code> is <code>react@^16.8.3</code>. We&#39;re still on <code>16.6.3</code>. <a href=\"https://github.com/reduxjs/react-redux/blob/v7.1.0/package.json#L39\" rel=\"nofollow noreferrer\">github.com/reduxjs/react-redux/blob/v7.1.0/package.json#L39</a>"}, {"owner": {"reputation": 40959, "user_id": 62937, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/52f79e92fdda71a258de1818558dcea4?s=128&d=identicon&r=PG", "display_name": "markerikson", "link": "https://stackoverflow.com/users/62937/markerikson"}, "edited": false, "score": 0, "creation_date": 1572538217, "post_id": 58633166, "comment_id": 103599587, "body": "You should also be able to upgrade React from 16.6 to 16.8.3 with no problems.  It&#39;s a minor release, and there are no backwards compatibility problems.  (Note that 16.9 <i>does</i> start warning about the deprecated lifecycle methods like <code>componentWillMount</code>, but the code runs fine.)"}], "owner": {"reputation": 198, "user_id": 8486161, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e8bcfb85a6e5601712b4cfebeb20cdd?s=128&d=identicon&r=PG", "display_name": "SeanMcP", "link": "https://stackoverflow.com/users/8486161/seanmcp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1572467224, "creation_date": 1572467224, "question_id": 58633166, "link": "https://stackoverflow.com/questions/58633166/redux-consumer-not-passing-updated-props-to-react-component", "title": "Redux consumer not passing updated props to React component", "body": "<p><code>redux@6.0.0</code></p>\n\n<p>I am working to add redux to a server-side rendered React app. The architecture for the app is a black box, but I have successfully <a href=\"https://redux.js.org/recipes/server-rendering\" rel=\"nofollow noreferrer\">set up redux following this example from the docs</a>.</p>\n\n<p>I can read data from the redux store and render it on the screen. I can dispatch actions that update the store. Those changes trickle down to the <code>Context.Consumer</code> (and can be verified in React DevTools), but stop there. Despite the change, the value is never passed to the component after the initial mount.</p>\n\n<p><a href=\"https://github.com/reduxjs/redux/issues/2190#issuecomment-271109542\" rel=\"nofollow noreferrer\">I read here that \"99.9% of the time\" this is due to mutating state</a>. So I added another store with a boilerplate value and action to update it:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const ACTIONS = {\n    SET_RANDOM_TEST_VALUE: 'SET_RANDOM_TEST_VALUE',\n}\n\nconst initialState = {\n    testValue: 'intial test value', // I now see this typo, but the screenshots are final \ud83e\udd26\u200d\u2642\ufe0f\n}\n\nexport const setRandomTestValue = () =&gt; ({\n    type: ACTIONS.SET_RANDOM_TEST_VALUE,\n})\n\nexport const reducer = (state = initialState, action) =&gt; {\n    switch (action.type) {\n        case ACTIONS.SET_RANDOM_TEST_VALUE: {\n            return {\n                ...state,\n                testValue: String(Math.random()).slice(-5),\n            }\n        }\n        default: {\n            return state\n        }\n    }\n}\n</code></pre>\n\n<p>My test reducer is added to the <code>rootReducer</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { reducer as testReducer } from './TestStore.redux'\n\nconst rootReducer = combineReducers({\n    // ...\n    __test__: testReducer,\n})\n</code></pre>\n\n<p>Then the values are mapped to the component:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>/* Import assets */\n\nconst Test = props =&gt; {\n    console.count('Render count')\n    return (\n        &lt;div&gt;\n            &lt;button onClick={props.setRandomTestValue}&gt;Update value&lt;/button&gt;\n            &lt;code&gt;{props.testValue}&lt;/code&gt;\n        &lt;/div&gt;\n    )\n}\n\nexport default connect(\n    state =&gt; ({ testValue: state.__test__.testValue }),\n    { setRandomTestValue }\n)(Test)\n</code></pre>\n\n<p>With this set up, everything seems to work. The console logs <code>Render count: 1</code>, and the component displays <code>initial test value</code> -- all as expected:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hTEHh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hTEHh.png\" alt=\"A screenshot of the Test component displaying correctly on initial render\"></a></p>\n\n<p>When you click the button, the action fires and the store is updated (as shown here in redux logger):</p>\n\n<p><a href=\"https://i.stack.imgur.com/Vd6Hu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Vd6Hu.png\" alt=\"A screenshot of the action logged in the console by redux logger\"></a></p>\n\n<p>However, the component isn't called again and the content doesn't change:</p>\n\n<p><a href=\"https://i.stack.imgur.com/PmuAH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PmuAH.png\" alt=\"A screenshot of the action logged in console but no change to the component\"></a></p>\n\n<p>Tracking it down in React DevTools, you can see that the <code>Context.Consumer</code> does indeed have the updated value (the random string of numbers):</p>\n\n<p><a href=\"https://i.stack.imgur.com/R16qQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R16qQ.png\" alt=\"A screenshot of the Context.Consumer component in React DevTools with the updated value\"></a></p>\n\n<p>^^^ Different value because screenshots are hard.</p>\n\n<p>So the value makes it to the Consumer, but that's as far as it gets. When you check the props of the <code>Test</code> component, it still has the initial value:</p>\n\n<p><a href=\"https://i.stack.imgur.com/QpJ3m.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QpJ3m.png\" alt=\"A screenshot of the Test component in React DevTools with stale props.\"></a></p>\n\n<p><code>:sad-trombone:</code></p>\n\n<h2>tl;dr</h2>\n\n<p>Somewhere in this project there is a breakdown between the redux store consumer and the component who is expecting updated props. The component can read the initial value from the store, but is unable to receive updates.</p>\n\n<p>Due to the complexity of this project, I'm not looking for an answer <em>per se</em>. I just need to know what direction to look. Any hints would be appreciated.</p>\n"}, {"tags": ["javascript", "vuejs2", "jestjs", "bootstrap-vue", "ts-jest"], "comments": [{"owner": {"reputation": 2841, "user_id": 7553693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqelX.jpg?s=128&g=1", "display_name": "Adam Orlov", "link": "https://stackoverflow.com/users/7553693/adam-orlov"}, "edited": false, "score": 0, "creation_date": 1575492419, "post_id": 58633140, "comment_id": 104589278, "body": "Did you get a solution? I have mocked <code>Date</code> constructor but in my Vue component computed still gets original <code>Date</code> object and fails the test :-/"}], "owner": {"reputation": 1134, "user_id": 1004604, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NQ9gf.png?s=128&g=1", "display_name": "Moose", "link": "https://stackoverflow.com/users/1004604/moose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 86, "favorite_count": 1, "closed_date": 1572474057, "answer_count": 0, "score": 1, "last_activity_date": 1572469228, "creation_date": 1572467139, "last_edit_date": 1572469228, "question_id": 58633140, "link": "https://stackoverflow.com/questions/58633140/how-to-correctly-mock-new-date-in-vue-js-jest-test-so-snapshots-do-not-fail", "closed_reason": "Duplicate", "title": "How to correctly mock new Date in Vue.js Jest test so snapshots do not fail?", "body": "<p><em>The goal is to mock the javascript Date object so that when I run my tests and snapshots are evaluated, the snapshot is not always failing.</em></p>\n\n<p>I am attempting to write a Jest test for a function that utilizes the <code>new Date</code> constructor in a Vue 2.6.8 app (this is a Typescript project).</p>\n\n<p>I have bound a variable called <code>maxDate</code> to the component.  It uses a getter to compute the value as needed.  The goal is to limit the date pickers' selectable range. Here is what the code looks like:</p>\n\n<p><strong>Vue Template:</strong></p>\n\n<pre><code>&lt;template&gt;\n  &lt;date-picker :max-date=\"maxDate\" /&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p><strong>Vue class method:</strong></p>\n\n<pre><code>private get maxDate() {\n  return new Date();\n}\n</code></pre>\n\n<p><strong>Jest Test (to match snapshot):</strong></p>\n\n<pre><code>describe('Snapshots', () =&gt; {\n  test('snapshot 1', () =&gt; {\n    expect(component.vm.$el).toMatchSnapshot();\n  });\n});\n</code></pre>\n\n<p><strong>The question I have is:</strong> How do I prevent my snapshots from failing since the date is going to change every time I run my tests?</p>\n\n<p>For example, the first time I run the test and the snapshot is generated, I get something like this in the snapshot itself.</p>\n\n<p><strong>First run (generate snapshot):</strong></p>\n\n<pre><code>...\nmaxdate=\"Wed Oct 30 2019 12:27:08 GMT-0700 (Pacific Daylight Time)\"\n...\n</code></pre>\n\n<p>And the next time I run the tests - say exactly one minute later - the snapshot will fail because it will be expecting the previous date but is now getting different data.</p>\n\n<p><strong>Second run (snapshot fails):</strong></p>\n\n<pre><code>...\nmaxdate=\"Wed Oct 30 2019 12:28:08 GMT-0700 (Pacific Daylight Time)\"\n...\n</code></pre>\n"}, {"tags": ["html", "javascript"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "thanoschimichan-ga"}, "edited": false, "score": 0, "creation_date": 1572468794, "post_id": 58925164, "comment_id": 104111582, "body": "Though this is useful, and I did forget to put <code>_blank</code> in quotes, I did intentionally leave those two quotes empty - the first set of quotation marks is for the website url, and leaving those empty defaults to about:blank"}, {"owner": {"reputation": 3, "user_id": 11274453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27de98d4022e2fad38d70fef8c477111?s=128&d=identicon&r=PG&f=1", "display_name": "DCowan", "link": "https://stackoverflow.com/users/11274453/dcowan"}, "edited": false, "score": 0, "creation_date": 1572472429, "post_id": 58925164, "comment_id": 104111586, "body": "I tried the code you gave and got <code>ReferenceError: run is not defined</code> when clicking run. After correcting that, it was working. I can update my answer with the exact code I used if you like."}, {"owner": {"reputation": 2530, "user_id": 261581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d0683e1bba122b890c46783bad51bdc0?s=128&d=identicon&r=PG&f=1", "display_name": "Security Hound", "link": "https://stackoverflow.com/users/261581/security-hound"}, "edited": false, "score": 0, "creation_date": 1572474213, "post_id": 58925164, "comment_id": 104111585, "body": "@DCowan - You received a different error than what the author received, which is explained by the fact, they left the URL string as an empty string (on purpose)."}, {"owner": {"reputation": 3, "user_id": 11274453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27de98d4022e2fad38d70fef8c477111?s=128&d=identicon&r=PG&f=1", "display_name": "DCowan", "link": "https://stackoverflow.com/users/11274453/dcowan"}, "edited": false, "score": 0, "creation_date": 1572474441, "post_id": 58925164, "comment_id": 104111584, "body": "Yes. I do notice that I can&#39;t see anywhere @thanoschimichan-ga is calling a function or accessing a variable <code>saveAs</code>. That does lead me to believe that it may be something in code @thanoschimichan-ga has put in <code>codeRun</code>."}, {"owner": {"user_type": "does_not_exist", "display_name": "thanoschimichan-ga"}, "edited": false, "score": 0, "creation_date": 1572479874, "post_id": 58925164, "comment_id": 104111583, "body": "Sorry - saveAs is saveAsFile, I typed it wrong - I&#39;ll edit the original post"}, {"owner": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 0, "creation_date": 1574125071, "post_id": 58925164, "comment_id": 104111603, "body": "surely it&#39;s <code>window.open(&quot;&quot;, &quot;_blank&quot;)</code> since <code>_blank</code> is a special SECOND argument to window.open"}], "tags": [], "owner": {"reputation": 3, "user_id": 11274453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/27de98d4022e2fad38d70fef8c477111?s=128&d=identicon&r=PG&f=1", "display_name": "DCowan", "link": "https://stackoverflow.com/users/11274453/dcowan"}, "is_accepted": false, "score": 0, "last_activity_date": 1572474550, "creation_date": 1572467476, "answer_id": 58925164, "question_id": 58925163, "link": "https://stackoverflow.com/questions/58925163/multiple-javascript-functions-not-running/58925164#58925164", "title": "Multiple JavaScript functions not running", "body": "<p>On line 3, you have <code>window.open(\"\" _blank);</code>. It should be <code>window.open(\"_blank\");</code>.</p>\n\n<p>I also cannot see anywhere <code>saveAs()</code> is being called (or defined). Is it possibly being called in <code>codeRun</code>? See below code which worked for me.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;textarea id=\"code\"&gt;\n\n&lt;/textarea&gt;\n&lt;button onclick=\"run();\"&gt;Run&lt;/button&gt;\n&lt;button onclick=\"saveAsFile();\"&gt;Save&lt;/button&gt;\n\n&lt;script&gt;\n  function run() {\n    var codeTab = window.open(\"_blank\");\n    var codeRun = document.getElementById(\"code\").value;\n    codeTab.document.write(codeRun);\n  }\n\n  /*i stole-i mean used-this code from someone else*/\n  function saveAsFile() {\n    var textToSave = document.getElementById(\"code\").value;\n\n    var hiddenElement = document.createElement('a');\n\n    hiddenElement.href = 'data:attachment/text,' + encodeURI(textToSave);\n    hiddenElement.target = '_blank';\n    hiddenElement.download = 'save.html';\n    hiddenElement.click();\n  }\n&lt;/script&gt;\n</code></pre>\n"}], "migrated_from": {"other_site": {"markdown_extensions": ["Prettify"], "launch_date": 1250553600, "open_beta_date": 1247529600, "site_state": "normal", "high_resolution_icon_url": "https://cdn.sstatic.net/Sites/superuser/Img/apple-touch-icon@2.png", "twitter_account": "super_user", "favicon_url": "https://cdn.sstatic.net/Sites/superuser/Img/favicon.ico", "icon_url": "https://cdn.sstatic.net/Sites/superuser/Img/apple-touch-icon.png", "audience": "computer enthusiasts and power users", "site_url": "https://superuser.com", "api_site_parameter": "superuser", "logo_url": "https://cdn.sstatic.net/Sites/superuser/Img/logo.png", "name": "Super User", "site_type": "main_site"}, "on_date": 1574124977, "question_id": 1497577}, "owner": {"reputation": 11, "user_id": 12578178, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mC09AXo_tgOSHJmMWl9jzt0WHmv3R0UtQsEcwYw=k-s128", "display_name": "thanoschimichan-ga", "link": "https://stackoverflow.com/users/12578178/thanoschimichan-ga"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 303, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1574124977, "creation_date": 1572466573, "question_id": 58925163, "link": "https://stackoverflow.com/questions/58925163/multiple-javascript-functions-not-running", "title": "Multiple JavaScript functions not running", "body": "<p>I'm trying to make an app that allows you a text editor. You can type anything in to a text block. You can do two things with said text block:\n<br>\na) run the text as an html page in a new about:blank tab or\n<br>\nb) save the text as a .html\n<br>\nFor some reason, though, when I tried to implement the save ability, neither function would load. If I go into the JS console, it shows me this error upon clicking on the save button:</p>\n\n<pre><code>\"Uncaught ReferenceError: saveAsFile is not defined (temp.html,1)\"\n</code></pre>\n\n<p>When I seperated them into two <code>&lt;script&gt;</code> blocks, I could get the save function to work. However, when I did that, the Run in New Tab function no longer worked. It was utterly confusing.\n<br>\nI have used multiple functions before, and I don't know why it's suddenly not working. Can someone help? This is my code:</p>\n\n<pre><code>&lt;script&gt;\nfunction run() {\nvar codeTab = window.open(\"\" _blank);\nvar codeRun = document.getElementById(\"code\").value;\ncodeTab.document.write(codeRun);\n}\n&lt;/script&gt;\n&lt;script&gt;\n/*i stole-i mean used-this code from someone else*/\nfunction saveAsFile() {\nvar textToSave = document.getElementById(\"code\").value;\n\nvar hiddenElement = document.createElement('a');\n\nhiddenElement.href = 'data:attachment/text,' + encodeURI(textToSave);\nhiddenElement.target = '_blank';\nhiddenElement.download = 'save.html';\nhiddenElement.click();\n}\n&lt;/script&gt;\n\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 431, "user_id": 5550892, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/jtoyE.jpg?s=128&g=1", "display_name": "Praveen Gopal", "link": "https://stackoverflow.com/users/5550892/praveen-gopal"}, "edited": false, "score": 0, "creation_date": 1572467519, "post_id": 58633020, "comment_id": 103573383, "body": "I think you are looking for datepicker. check <a href=\"https://jqueryui.com/datepicker/\" rel=\"nofollow noreferrer\">jqueryui.com/datepicker</a>"}, {"owner": {"reputation": 867, "user_id": 1650488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/998a965c027cffeb6b105a19103a6188?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/1650488/ryan"}, "reply_to_user": {"reputation": 431, "user_id": 5550892, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/jtoyE.jpg?s=128&g=1", "display_name": "Praveen Gopal", "link": "https://stackoverflow.com/users/5550892/praveen-gopal"}, "edited": false, "score": 0, "creation_date": 1572468494, "post_id": 58633020, "comment_id": 103573803, "body": "@PraveenGopal I don&#39;t think <code>.datepicker()</code> helps with this question because <code>.datepicker()</code> still allows the user to change the year."}, {"owner": {"reputation": 3316, "user_id": 6525081, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/979326a08920928ba490fb2cc2180752?s=128&d=identicon&r=PG&f=1", "display_name": "A. Meshu", "link": "https://stackoverflow.com/users/6525081/a-meshu"}, "edited": false, "score": 0, "creation_date": 1572468524, "post_id": 58633020, "comment_id": 103573818, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/48680414/how-to-hide-the-year-part-in-html-input-type-date-calendar-panel\">How to hide the year part in Html &lt;input type=&quot;date&quot;&gt; calendar panel?</a>"}, {"owner": {"reputation": 867, "user_id": 1650488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/998a965c027cffeb6b105a19103a6188?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/1650488/ryan"}, "reply_to_user": {"reputation": 3316, "user_id": 6525081, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/979326a08920928ba490fb2cc2180752?s=128&d=identicon&r=PG&f=1", "display_name": "A. Meshu", "link": "https://stackoverflow.com/users/6525081/a-meshu"}, "edited": false, "score": 1, "creation_date": 1572468750, "post_id": 58633020, "comment_id": 103573935, "body": "@A.Meshu That answer restricts input but does not remove the option of choosing a year. And doesn&#39;t work well at all on my system... I don&#39;t think there&#39;s a way of doing what this question is asking; he&#39;ll have to go down the JS route."}, {"owner": {"reputation": 3316, "user_id": 6525081, "user_type": "registered", "accept_rate": 58, "profile_image": "https://www.gravatar.com/avatar/979326a08920928ba490fb2cc2180752?s=128&d=identicon&r=PG&f=1", "display_name": "A. Meshu", "link": "https://stackoverflow.com/users/6525081/a-meshu"}, "reply_to_user": {"reputation": 867, "user_id": 1650488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/998a965c027cffeb6b105a19103a6188?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/1650488/ryan"}, "edited": false, "score": 1, "creation_date": 1572468924, "post_id": 58633020, "comment_id": 103574008, "body": "@Ryan after reading this again i completely agree."}], "answers": [{"tags": [], "owner": {"reputation": 867, "user_id": 1650488, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/998a965c027cffeb6b105a19103a6188?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/1650488/ryan"}, "is_accepted": false, "score": 1, "last_activity_date": 1572468689, "last_edit_date": 1572468689, "creation_date": 1572468180, "answer_id": 58633359, "question_id": 58633020, "link": "https://stackoverflow.com/questions/58633020/html-input-type-date-and-range-of-months/58633359#58633359", "title": "HTML: Input type date and range of months", "body": "<p>Unfortunately, there is no way to eliminate the 'year' portion of the HTML date input, which makes some sense given that it has such wildly different implementations on different platforms. </p>\n\n<p>JS will let you build what you want, but it will be more difficult to ensure cross-platform reliability. Here's one option, you can use a date input but restrict it and then strip the response with JS, though that does not actually hide the option to change the year.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/48680414/how-to-hide-the-year-part-in-html-input-type-date-calendar-panel\">How to hide the year part in Html &lt;input type=&quot;date&quot;&gt; calendar panel?</a></p>\n\n<p>Here's a similar SO answer that could lead you down a path to manipulate jquery's datepicker to do what you want: </p>\n\n<p><a href=\"https://stackoverflow.com/a/10243049/1650488\">https://stackoverflow.com/a/10243049/1650488</a></p>\n\n<p>Ultimately, there are a lot of benefits with sticking to the native HTML elements instead of rolling your own solution, so personally I'd look at the workflow and try to make it make sense with the native datepicker. </p>\n\n<p>If the native element really doesn't work, It might make sense to build your own input such as selecting the date and month range separately, but then you could run in to troubles with differing lengths of months and it will be hard to manage accessibility devices such as screen readers. </p>\n"}], "owner": {"reputation": 5, "user_id": 12299652, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yL3ciOSTJ5I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rd6AEWsDK40N6OstT4aCTM6snLXsg/photo.jpg?sz=128", "display_name": "Gamenext Tv", "link": "https://stackoverflow.com/users/12299652/gamenext-tv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 461, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572468882, "creation_date": 1572466570, "last_edit_date": 1572467729, "question_id": 58633020, "link": "https://stackoverflow.com/questions/58633020/html-input-type-date-and-range-of-months", "title": "HTML: Input type date and range of months", "body": "<p>I'm trying to make an HTML form with <code>input type=\"date\"</code> which will be a range of months but not years. For example I need the user to select a date with a range from March to October, but with all available years (2019, 2020, 2021...).</p>\n\n<p>I know about option of attributes <code>min</code> and <code>max</code> but we must fill the entire specific date and I only need a range of months.</p>\n\n<p>CODE of <code>min</code> and <code>max</code>:</p>\n\n<pre><code>&lt;input type=\"date\" min=\"2019-03-01\" max=\"2019-10-31\"&gt;\n</code></pre>\n\n<p>Is there any option to do this with clear HTML or must we use JavaScript?</p>\n"}, {"tags": ["javascript", "function", "google-chrome-extension", "fetch"], "comments": [{"owner": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 0, "creation_date": 1572467401, "post_id": 58633010, "comment_id": 103573344, "body": "the code you&#39;ve shown suggests you sendMessage once ... so how can the response be in the wrong order?"}, {"owner": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 0, "creation_date": 1572467530, "post_id": 58633010, "comment_id": 103573385, "body": "If you&#39;re calling sendMassage in  some sort of loop - show how you&#39;re doing it - because the first code wont benefit from async/await as there are no promises in that code"}, {"owner": {"reputation": 21, "user_id": 12247131, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDomcy8KIgjm0Rdl7-Mpb4kHAqBy_a9PH3euwnkuQ=k-s128", "display_name": "PixelBoii", "link": "https://stackoverflow.com/users/12247131/pixelboii"}, "reply_to_user": {"reputation": 2198, "user_id": 10549313, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ab4dd268b4cd15aa20cb25a4894be22?s=128&d=identicon&r=PG&f=1", "display_name": "Bravo", "link": "https://stackoverflow.com/users/10549313/bravo"}, "edited": false, "score": 0, "creation_date": 1572467682, "post_id": 58633010, "comment_id": 103573453, "body": "Oh absolutely, updated the post!"}, {"owner": {"reputation": 1895, "user_id": 1311748, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8ab2294f2d4ccc0eb281d98b07f322fc?s=128&d=identicon&r=PG", "display_name": "imlokesh", "link": "https://stackoverflow.com/users/1311748/imlokesh"}, "edited": false, "score": 0, "creation_date": 1572468335, "post_id": 58633010, "comment_id": 103573739, "body": "can you explain what you mean by correct order."}, {"owner": {"reputation": 21, "user_id": 12247131, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDomcy8KIgjm0Rdl7-Mpb4kHAqBy_a9PH3euwnkuQ=k-s128", "display_name": "PixelBoii", "link": "https://stackoverflow.com/users/12247131/pixelboii"}, "edited": false, "score": 0, "creation_date": 1572468767, "post_id": 58633010, "comment_id": 103573939, "body": "Correct order: The first item to be fetched should also be the first item returned, the second item should be the second item to be returned etc."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 12247131, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDomcy8KIgjm0Rdl7-Mpb4kHAqBy_a9PH3euwnkuQ=k-s128", "display_name": "PixelBoii", "link": "https://stackoverflow.com/users/12247131/pixelboii"}, "edited": false, "score": 0, "creation_date": 1572471112, "post_id": 58633711, "comment_id": 103574807, "body": "I feel like that&#39;s probably the best way to go about it, but instead of the itemURL I would prefer priceNumber since that&#39;s what I&#39;ll be using later to identify them. However, when I used your code it just returned undefined: price: undefined"}, {"owner": {"reputation": 10402, "user_id": 1355166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03ecd735356742f48949f1129d60d1d8?s=128&d=identicon&r=PG", "display_name": "gcochard", "link": "https://stackoverflow.com/users/1355166/gcochard"}, "reply_to_user": {"reputation": 21, "user_id": 12247131, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDomcy8KIgjm0Rdl7-Mpb4kHAqBy_a9PH3euwnkuQ=k-s128", "display_name": "PixelBoii", "link": "https://stackoverflow.com/users/12247131/pixelboii"}, "edited": false, "score": 0, "creation_date": 1572472561, "post_id": 58633711, "comment_id": 103575275, "body": "If you want to use the priceNumber, you&#39;d have to pass that to the background page and back again, or you could create a closure in your loop to capture the value at the time the <code>sendMessage</code> function was called. You should read up on closures and using callbacks in loops to fully understand what&#39;s going on here."}, {"owner": {"reputation": 21, "user_id": 12247131, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDomcy8KIgjm0Rdl7-Mpb4kHAqBy_a9PH3euwnkuQ=k-s128", "display_name": "PixelBoii", "link": "https://stackoverflow.com/users/12247131/pixelboii"}, "edited": false, "score": 0, "creation_date": 1572473215, "post_id": 58633711, "comment_id": 103575483, "body": "Yes I&#39;m pretty sure I understand how to make use of the code with priceNumber. My point is that even when I just tried your code (without priceNumber) it didnt work. I really appreciate the fact that you explain everything though!"}], "tags": [], "owner": {"reputation": 10402, "user_id": 1355166, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/03ecd735356742f48949f1129d60d1d8?s=128&d=identicon&r=PG", "display_name": "gcochard", "link": "https://stackoverflow.com/users/1355166/gcochard"}, "is_accepted": false, "score": 0, "last_activity_date": 1572472801, "last_edit_date": 1572472801, "creation_date": 1572469901, "answer_id": 58633711, "question_id": 58633010, "link": "https://stackoverflow.com/questions/58633010/how-do-i-make-use-of-await-and-async-in-this-function/58633711#58633711", "title": "How do I make use of await and async in this function?", "body": "<p>Fetch (and many other async methods) take an indeterminate amount of time to run. That is why they are asynchronous, they depend on some external resource which can take a variable amount of time.</p>\n\n<p>You can't ensure the order of response is the same as the order of the calls. What you <em>can</em> do is send the <code>request.itemURL</code> in the <code>sendResponse</code> call as a second argument, and then in modify your callback to use that as well, e.g.</p>\n\n<p>Content.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>...\n(price, url) =&gt; {\n    console.log(`${url}: price: ${price}`);\n});\n...\n</code></pre>\n\n<p>Background.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>...\nsendResponse(price.items_list[skinFullName].price[\"7_days\"].average, request.itemURL);\n...\n</code></pre>\n\n<p>That will ensure you can keep track of which items have which price.</p>\n\n<p>If you definitely need them to be in a certain order, you will need to wait until all of the callbacks are fired. This can be done by using a counter and incrementing before calling <code>sendMessage</code>, then decrementing within the callback. Some quick and dirty code to do this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>let counter = 0, results = {};\nfor(let i=0;i&lt;35;i++){\n    counter++;\n    sendMessage(..., (price, url) =&gt; {\n        counter--;\n        results[url] = price;\n        if(counter == 0){\n            // finished all calls\n            // print results\n            console.log(results);\n        }\n    });\n}\n</code></pre>\n\n<p>To directly answer the question being asked: You would have to create a wrapper for <code>sendMessage</code> that returns a promise, then use something like <code>let results = await sendMessageWrapper(...)</code>. Using await in a loop is an anti-pattern though, as <a href=\"https://eslint.org/docs/rules/no-await-in-loop\" rel=\"nofollow noreferrer\">this eslint rule</a> explains.</p>\n"}], "owner": {"reputation": 21, "user_id": 12247131, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDomcy8KIgjm0Rdl7-Mpb4kHAqBy_a9PH3euwnkuQ=k-s128", "display_name": "PixelBoii", "link": "https://stackoverflow.com/users/12247131/pixelboii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 252, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572472801, "creation_date": 1572466520, "last_edit_date": 1572467666, "question_id": 58633010, "link": "https://stackoverflow.com/questions/58633010/how-do-i-make-use-of-await-and-async-in-this-function", "title": "How do I make use of await and async in this function?", "body": "<p>I'm working on a Chrome extension that's almost finished. Currently, I get the response from my fetch as the data is being fetched completed, instead of the correct order. I guess I'll have to make use of await and async but I'm not sure how. Worth noting is that I have a \"connection\" between my background script and my content script using sendMessage.</p>\n\n<p>I did try following this tutorial and it's probably extremely easy to follow if you have done it before, but I didn't understand what to do with my price => {}\nTutorial: <a href=\"https://dev.to/shoupn/javascript-fetch-api-and-using-asyncawait-47mp?fbclid=IwAR2Z5EPZ_rEJPTjB7fIVbO2b48rTqk1TOW13s12vzPewE4sn2T3ELzoGEF0\" rel=\"nofollow noreferrer\">https://dev.to/shoupn/javascript-fetch-api-and-using-asyncawait-47mp?fbclid=IwAR2Z5EPZ_rEJPTjB7fIVbO2b48rTqk1TOW13s12vzPewE4sn2T3ELzoGEF0</a></p>\n\n<p>Content.js</p>\n\n<pre><code>function getPrices() {\n    for (var i = 0; i &lt; 35; i++) {\n        chrome.runtime.sendMessage(\n            {contentScriptQuery: \"queryPrice\", itemURL: skins[priceNumber]},\n            price =&gt; {\n                console.log(price);\n            });\n\n        priceNumber = priceNumber + 1;\n    }\n...\n}\n</code></pre>\n\n<p>background.js</p>\n\n<pre><code>chrome.runtime.onMessage.addListener(\n    function(request, sender, sendResponse) {\n      if (request.contentScriptQuery == \"queryPrice\") {\n        var url = \"https://pixelboii.wtf/steamvalue.json\";\n        var skinFullName = request.itemURL;\n        fetch(url)\n            .then(res =&gt; res.json())\n            .then(price =&gt; {\n              sendResponse(price.items_list[skinFullName].price[\"7_days\"].average);\n            })\n            .catch(err =&gt; { throw err });\n        return true;  // Will respond asynchronously.\n      }\n    });\n</code></pre>\n\n<p>All replies are appreciated!</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 1166, "user_id": 3224608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0d3eO.png?s=128&g=1", "display_name": "daddygames", "link": "https://stackoverflow.com/users/3224608/daddygames"}, "edited": false, "score": 1, "creation_date": 1572466601, "post_id": 58633007, "comment_id": 103573054, "body": "You&#39;re only pushing a single value into the array. Have you tried pushing an object with the properties you want like so <code>selected.push({id: $(item).val(), name:$(item).next(&#39;label&#39;).text()});</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 9729197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HMrYm.png?s=128&g=1", "display_name": "Crepki", "link": "https://stackoverflow.com/users/9729197/crepki"}, "edited": false, "score": 0, "creation_date": 1572467096, "post_id": 58633075, "comment_id": 103573230, "body": "so obvious , thanks daddygames, big help. sorry for stupid question"}], "tags": [], "owner": {"reputation": 1166, "user_id": 3224608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0d3eO.png?s=128&g=1", "display_name": "daddygames", "link": "https://stackoverflow.com/users/3224608/daddygames"}, "is_accepted": true, "score": 0, "last_activity_date": 1572466799, "creation_date": 1572466799, "answer_id": 58633075, "question_id": 58633007, "link": "https://stackoverflow.com/questions/58633007/how-to-push-the-selected-checkboxses-into-an-array-of-objects/58633075#58633075", "title": "How to push the selected checkboxses into an array of objects?", "body": "<p>You should add an object with the desired properties to the array like so:</p>\n\n<pre><code>$('input.box:checked').each(function (index, item) {\n  selected.push({\n    id: $(item).val(), \n    name: $(item).next('label').text()\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 9729197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HMrYm.png?s=128&g=1", "display_name": "Crepki", "link": "https://stackoverflow.com/users/9729197/crepki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 58633075, "answer_count": 1, "score": 0, "last_activity_date": 1572468500, "creation_date": 1572466500, "last_edit_date": 1572468500, "question_id": 58633007, "link": "https://stackoverflow.com/questions/58633007/how-to-push-the-selected-checkboxses-into-an-array-of-objects", "title": "How to push the selected checkboxses into an array of objects?", "body": "<p>I want to collect the data from checkboxes and fill a property of a  model with them.</p>\n\n<p>If I try this </p>\n\n<pre><code>$('input.box:checked').each(function (index, item) {\n  selected.push($(item).next('label').text());\n});\n</code></pre>\n\n<p>in selected I have only names.</p>\n\n<p>If I try this </p>\n\n<pre><code>$('input.box:checked').each(function (index, item) {\n   selected.push($(item).val());\n});\n</code></pre>\n\n<p>in selected I have only id's </p>\n\n<p>I need selected to be :</p>\n\n<pre><code>selected = [{id:1 , name: Minnie},{id:2 , name: Mickey}]...\n</code></pre>\n"}, {"tags": ["javascript", "html5-canvas", "chart.js", "chartjs-2.6.0"], "comments": [{"owner": {"reputation": 11202, "user_id": 3775731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac52dbfc7688e1cc009d692118541469?s=128&d=identicon&r=PG", "display_name": "timclutton", "link": "https://stackoverflow.com/users/3775731/timclutton"}, "edited": false, "score": 0, "creation_date": 1572523567, "post_id": 58632968, "comment_id": 103591259, "body": "This should be straightforward with an absolutely positioned element. What have you tried so far?"}, {"owner": {"reputation": 21, "user_id": 5122025, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ftGIjWq2lbg/AAAAAAAAAAI/AAAAAAAAADQ/FwOIQc3RoHM/photo.jpg?sz=128", "display_name": "Shankar Shrestha", "link": "https://stackoverflow.com/users/5122025/shankar-shrestha"}, "reply_to_user": {"reputation": 11202, "user_id": 3775731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac52dbfc7688e1cc009d692118541469?s=128&d=identicon&r=PG", "display_name": "timclutton", "link": "https://stackoverflow.com/users/3775731/timclutton"}, "edited": false, "score": 1, "creation_date": 1572645661, "post_id": 58632968, "comment_id": 103635714, "body": "@timclutton I solved that.. I will be posting the solution soon. Thanks"}], "owner": {"reputation": 21, "user_id": 5122025, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ftGIjWq2lbg/AAAAAAAAAAI/AAAAAAAAADQ/FwOIQc3RoHM/photo.jpg?sz=128", "display_name": "Shankar Shrestha", "link": "https://stackoverflow.com/users/5122025/shankar-shrestha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572466354, "creation_date": 1572466354, "question_id": 58632968, "link": "https://stackoverflow.com/questions/58632968/add-custom-link-to-the-chartjs", "title": "Add custom link to the chartJS", "body": "<p>I am trying to add custom link to the chartJS chart as shown in image. Any suggestion is welcome..</p>\n\n<p>Thanks all in advance..</p>\n\n<p><a href=\"https://i.stack.imgur.com/eBTkZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eBTkZ.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "html", "jsp", "struts2"], "comments": [{"owner": {"reputation": 47160, "user_id": 573032, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/1nGGV.jpg?s=128&g=1", "display_name": "Roman C", "link": "https://stackoverflow.com/users/573032/roman-c"}, "edited": false, "score": 0, "creation_date": 1572805522, "post_id": 58632885, "comment_id": 103665964, "body": "<a href=\"https://stackoverflow.com/a/22248867/573032\">stackoverflow.com/a/22248867/573032</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4859, "user_id": 7431860, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/P6Jko.jpg?s=128&g=1", "display_name": "Nick Reed", "link": "https://stackoverflow.com/users/7431860/nick-reed"}, "edited": false, "score": 0, "creation_date": 1572541466, "post_id": 58647862, "comment_id": 103601223, "body": "You ever get that feeling where you know there&#39;s something <i>huge</i> you&#39;ve been missing, but it&#39;s something so obvious you&#39;d never think of it &#39;till it&#39;s pointed out? This was it - I&#39;ve been assuming JSP is rendered client-side the same way HTML did, and I didn&#39;t even realize it was being processed server-side first. JS not being usable in a struts2 tag makes perfect sense now, because by the time it gets to the point where it would check the function, it&#39;s already at the client, and the rendering decision has already been made. Thank you for the explanation; I&#39;d upvote this twice if I could."}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "reply_to_user": {"reputation": 4859, "user_id": 7431860, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/P6Jko.jpg?s=128&g=1", "display_name": "Nick Reed", "link": "https://stackoverflow.com/users/7431860/nick-reed"}, "edited": false, "score": 0, "creation_date": 1572542583, "post_id": 58647862, "comment_id": 103601707, "body": "@NickReed I have that feeling 4-5x daily, more if you ask my friends. But yep--your paraphrasing hits the nail on the head."}], "tags": [], "owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "is_accepted": true, "score": 1, "last_activity_date": 1572540272, "creation_date": 1572540272, "answer_id": 58647862, "question_id": 58632885, "link": "https://stackoverflow.com/questions/58632885/using-javascripts-return-value-as-condition-in-a-struts-if-tag/58647862#58647862", "title": "Using javascript&#39;s return value as condition in a struts if tag", "body": "<p>It is neither (1) a syntax error nor (2) a \"limitation\" of Struts 2.</p>\n\n<ol>\n<li>If it was a syntax error you'd get... a syntax error, either on the server side in the logs, or on the client side in the JS console.</li>\n<li>S2 is a standard action-based Java web framework; it knows nothing about anything on the client side: there is no (direct) interop between what happens on the server and what happens on the client (e.g., browser).</li>\n</ol>\n\n<p><strong>TL;DR:</strong> JSP pages run on the server. JavaScript runs on the client. There's no direct connection.</p>\n\n<p>Pages sent to the client are rendered <em>before</em> being sent, <em>before</em> any JavaScript is run, etc. The server side knows nothing about the JavaScript on your page. (That's why you can render S2 tags into JS that the code then uses once it's on the client.)</p>\n\n<p>If you want to be able to dynamically render DOM elements then everything has to be handled on the JS side, although your JS code can include S2 tags. </p>\n\n<p>This is basic Java web app stuff: JSP files are just templates. They are completely rendered before being sent to the client as the response.</p>\n"}], "owner": {"reputation": 4859, "user_id": 7431860, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/P6Jko.jpg?s=128&g=1", "display_name": "Nick Reed", "link": "https://stackoverflow.com/users/7431860/nick-reed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 365, "favorite_count": 0, "accepted_answer_id": 58647862, "answer_count": 1, "score": 0, "last_activity_date": 1572540272, "creation_date": 1572465945, "question_id": 58632885, "link": "https://stackoverflow.com/questions/58632885/using-javascripts-return-value-as-condition-in-a-struts-if-tag", "title": "Using javascript&#39;s return value as condition in a struts if tag", "body": "<p>I am working on formatting HTML with struts2 and javascript, and am passing the return value of a function to a <code>&lt;s:if&gt;</code> tag. I would expect it to behave like any other conditional; however, the <code>&lt;s:if&gt;</code> tag consistently behaves as though it is returning <code>false</code>. </p>\n\n<p><strong>page.jsp</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;s:if test=\"%{myFunction()}\"&gt;\n  &lt;p&gt;foo&lt;/p&gt;\n&lt;/s:if&gt;\n&lt;s:else&gt;\n  &lt;p&gt;bar&lt;/p&gt;\n&lt;/s:else&gt;\n</code></pre>\n\n<p><strong>page.js</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function myFunction() {\n  if(some_condition) { return true; }\n  else { return false; }\n}\n</code></pre>\n\n<blockquote>\n  <p>bar</p>\n</blockquote>\n\n<p>I've tested the javascript function independently, and it's working as intended - both <code>true</code> and <code>false</code> are being returned depending on the conditions. The function is being properly included in the <code>.jsp</code> code (it's defined earlier in a <code>&lt;script&gt;</code> tag). </p>\n\n<p>Intuitively, I believe I should be able to use the return value as a conditional, but I'm beginning to believe I might be incorrect. Documentation on this behavior is rather sparse, and the <a href=\"https://struts.apache.org/maven/struts2-core/apidocs/org/apache/struts2/components/If.html\" rel=\"nofollow noreferrer\">official struts2 documentation</a> doesn't have much to say on whether it's possible or not. </p>\n\n<p>Is this a syntax error, or have I run into a limit of struts2?</p>\n"}, {"tags": ["javascript", "node.js", "cube.js"], "comments": [{"owner": {"reputation": 928, "user_id": 4404828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KefGs.jpg?s=128&g=1", "display_name": "Pavel Tiunov", "link": "https://stackoverflow.com/users/4404828/pavel-tiunov"}, "edited": false, "score": 0, "creation_date": 1572468537, "post_id": 58632821, "comment_id": 103573825, "body": "Could you please provide what data structure you have and what&#39;s your final result you want to get?"}, {"owner": {"reputation": 33, "user_id": 10613807, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5SVz5vzERHs/AAAAAAAAAAI/AAAAAAAAAbw/aw4qG2KXXL8/photo.jpg?sz=128", "display_name": "hiren shah", "link": "https://stackoverflow.com/users/10613807/hiren-shah"}, "reply_to_user": {"reputation": 928, "user_id": 4404828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KefGs.jpg?s=128&g=1", "display_name": "Pavel Tiunov", "link": "https://stackoverflow.com/users/4404828/pavel-tiunov"}, "edited": false, "score": 1, "creation_date": 1572469686, "post_id": 58632821, "comment_id": 103574318, "body": "I have updated my question"}], "answers": [{"tags": [], "owner": {"reputation": 928, "user_id": 4404828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KefGs.jpg?s=128&g=1", "display_name": "Pavel Tiunov", "link": "https://stackoverflow.com/users/4404828/pavel-tiunov"}, "is_accepted": true, "score": 2, "last_activity_date": 1602830333, "last_edit_date": 1602830333, "creation_date": 1572471346, "answer_id": 58633975, "question_id": 58632821, "link": "https://stackoverflow.com/questions/58632821/outer-join-using-cube-js/58633975#58633975", "title": "Outer join using Cube.js", "body": "<p>Cube.js uses only <code>LEFT JOIN</code> to express relationship between cubes for the purpose of encouraging right Cube.js schema design: <a href=\"https://cube.dev/docs/joins\" rel=\"nofollow noreferrer\">https://cube.dev/docs/joins</a>. Your case can be expressed as following Cube.js schema:</p>\n<pre><code>cube(`Users`, {\n  sql: `\n  SELECT DISTINCT id FROM users_register \n  UNION \n  SELECT DISTINCT id FROM last_active`,\n\n  joins: {\n    UsersRegister: {\n      sql: `${Users}.id = ${UsersRegister}.id`,\n      relationship: `hasMany`\n    },\n    UsersLastActive: {\n      sql: `${Users}.id = ${UsersLastActive}.id`,\n      relationship: `hasMany`\n    }\n  },\n\n  dimensions: {\n    id: {\n      sql: `id`,\n      type: `number`,\n      primaryKey: true\n    }\n  }\n});\n\ncube(`UsersRegister`, {\n  sql: `select * from users_register`,\n\n  measures: {\n    registerTime: {\n      sql: `time`,\n      type: `min`\n    }\n  },\n\n  dimensions: {\n    id: {\n      sql: `id`, // if id is unique within users_register\n      type: `number`,\n      primaryKey: true\n    }\n  }\n});\n\ncube(`UsersLastActive`, {\n  sql: `select * from last_active`,\n\n  measures: {\n    lastActiveTime: {\n      sql: `time`,\n      type: `max`\n    }\n  },\n\n  dimensions: {\n    id: {\n      sql: `id`, // if id is unique within last_active\n      type: `number`,\n      primaryKey: true\n    }\n  }\n});\n</code></pre>\n<p>Query to get desired result:</p>\n<pre><code>{\n  measures: ['UsersLastActive.lastActiveTime', 'UsersRegister.registerTime'],\n  dimensions: ['Users.id']\n}\n</code></pre>\n"}], "owner": {"reputation": 33, "user_id": 10613807, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-5SVz5vzERHs/AAAAAAAAAAI/AAAAAAAAAbw/aw4qG2KXXL8/photo.jpg?sz=128", "display_name": "hiren shah", "link": "https://stackoverflow.com/users/10613807/hiren-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 528, "favorite_count": 0, "accepted_answer_id": 58633975, "answer_count": 1, "score": 0, "last_activity_date": 1602830333, "creation_date": 1572465679, "last_edit_date": 1572469436, "question_id": 58632821, "link": "https://stackoverflow.com/questions/58632821/outer-join-using-cube-js", "title": "Outer join using Cube.js", "body": "<p>I am using Cube.js for fetching the data from Postgres. By default, cube.js does a left join on 2 selected tables. Is there any way to get the result by Full Outer Join?</p>\n\n<p>User Register Table <br>\nID  TIME <br>\n1   10.00<br>\n3   9.00<br></p>\n\n<p>Last Active Table<br>\nID  TIME<br>\n1   11.00<br>\n2   10.00<br></p>\n\n<p>So output I want is<br>\nID  Last_active_time  Register_time<br>\n1   11.00               10.00<br>\n2   10.00               ----<br>\n3   ----                9.00<br></p>\n"}, {"tags": ["javascript", "php", "ajax", "laravel"], "comments": [{"owner": {"reputation": 67968, "user_id": 584192, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/YBSIc.png?s=128&g=1", "display_name": "Samuel Liew", "link": "https://stackoverflow.com/users/584192/samuel-liew"}, "edited": false, "score": 0, "creation_date": 1572472258, "post_id": 58632820, "comment_id": 103575181, "body": "Comments are not for extended discussion; this conversation has been <a href=\"https://chat.stackoverflow.com/rooms/201624/discussion-on-question-by-hassan-khosro-laravel-returning-405-get-method-not-a\">moved to chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 399, "user_id": 12009176, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ucf49TsaS7U/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdFFBRjGPrn8CacrsrKrKi8_T3gwA/photo.jpg?sz=128", "display_name": "Milad Barazandeh", "link": "https://stackoverflow.com/users/12009176/milad-barazandeh"}, "is_accepted": false, "score": 0, "last_activity_date": 1572471195, "creation_date": 1572471195, "answer_id": 58633941, "question_id": 58632820, "link": "https://stackoverflow.com/questions/58632820/laravel-returning-405-get-method-not-allowed-on-the-server/58633941#58633941", "title": "Laravel - Returning 405 GET Method Not Allowed on the server", "body": "<p>try this:</p>\n\n<pre><code>$.ajax(\n            {\n                url: \"vouchers/change-status/\"+id,\n                type: POST,\n                dataType: \"JSON\",\n                data: {\n                    \"id\": id,\n                    \"_method\": 'PUT',\n                    \"_token\": \"{{ csrf_token() }}\",\n                }\n\n            }\n);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 667, "user_id": 1949062, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/774e4cc229d2e86893fee92491f942b7?s=128&d=identicon&r=PG", "display_name": "MLFR2kx", "link": "https://stackoverflow.com/users/1949062/mlfr2kx"}, "is_accepted": false, "score": 0, "last_activity_date": 1572478317, "last_edit_date": 1572478317, "creation_date": 1572477800, "answer_id": 58634936, "question_id": 58632820, "link": "https://stackoverflow.com/questions/58632820/laravel-returning-405-get-method-not-allowed-on-the-server/58634936#58634936", "title": "Laravel - Returning 405 GET Method Not Allowed on the server", "body": "<p>The <code>dataType</code> attribute is only used when you're getting data from the server. You should be setting <code>contentType</code> to <code>application/json</code> when sending data to the server.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$(\".change\").on(\"click\", function() {\n    var id = $(this).data(\"id\");\n    $.ajax({\n        type: 'POST',\n        contentType: 'application/json',\n        dataType: 'json',\n        url: \"vouchers/change-status/\"+id\n        headers: {\"X-HTTP-Method-Override\": \"PUT\"},\n        data: {\n            \"id\": id,\n            \"_method\": 'put',\n            \"_token\": \"{{ csrf_token() }}\",\n        }\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 127, "user_id": 8981487, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bfecac49cab0cebb44c7dd7ba0d60d4?s=128&d=identicon&r=PG&f=1", "display_name": "hassan khosro", "link": "https://stackoverflow.com/users/8981487/hassan-khosro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1572478317, "creation_date": 1572465678, "last_edit_date": 1572466577, "question_id": 58632820, "link": "https://stackoverflow.com/questions/58632820/laravel-returning-405-get-method-not-allowed-on-the-server", "title": "Laravel - Returning 405 GET Method Not Allowed on the server", "body": "<p>I'm using Laravel and I want to change status enable and disable with ajax request\nit works on localhost but when I want to use it on the server it gives me this error\n:</p>\n\n<blockquote>\n  <p>405 GET Method Not Allowed</p>\n</blockquote>\n\n<p>this is my ajax :</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>&lt;script&gt;\n    $(\".change\").click(function(){\n        var id = $(this).data(\"id\");\n        $.ajax(\n            {\n                url: \"vouchers/change-status/\"+id,\n                type: 'put',\n                dataType: \"JSON\",\n                data: {\n                    \"id\": id,\n                    \"_method\": 'put',\n                    \"_token\": \"{{ csrf_token() }}\",\n                }\n\n            });\n\n    });\n\n&lt;/script&gt;\n</code></pre>\n\n<p>here is contorller </p>\n\n<pre class=\"lang-php prettyprint-override\"><code>public function changeStatus(Request $request){\n        $voucher = Voucher::find($request-&gt;id);\n        if($voucher-&gt;status == 0)\n            $voucher-&gt;status = 1;\n        else\n            $voucher-&gt;status = 0;\n        $voucher-&gt;save();\n}\n</code></pre>\n\n<p>and web</p>\n\n<pre class=\"lang-php prettyprint-override\"><code>Route::put('vouchers/change-status/{id}', 'VoucherController@changeStatus')-&gt;name('change.status.voucher');\n</code></pre>\n"}, {"tags": ["javascript", "mongodb"], "comments": [{"owner": {"reputation": 4315, "user_id": 2502126, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fae66f557902359d7cc278076d1a9ef7?s=128&d=identicon&r=PG", "display_name": "Buzz Moschetti", "link": "https://stackoverflow.com/users/2502126/buzz-moschetti"}, "edited": false, "score": 0, "creation_date": 1572468173, "post_id": 58632814, "comment_id": 103573665, "body": "Why is <code>competencies</code> grouped by <code>$_id</code> but <code>subcompetencies</code> is grouped by ``$code<code>?    Typo?   I think you want to group by </code>$code` in both, no?"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 2188452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76bc34f5f1e8c65a10ff0df5850afeb?s=128&d=identicon&r=PG", "display_name": "user2188452", "link": "https://stackoverflow.com/users/2188452/user2188452"}, "edited": false, "score": 0, "creation_date": 1572515898, "post_id": 58633539, "comment_id": 103587080, "body": "Perfect, thanks a lot. Since you seem to be versed in this topic,  I would like to ask you one more question. What if I want to add on object to the final result. Let&#39;s for example count the total objects of the applied filter:  count:     { $sum : 1 }, so the final object would look like this:    { general: {count: 1234},  competences: [{name: String, code: String, avgValue: Float}], subcompetences: [{name: String, code: String, avgValue: Float}] }"}, {"owner": {"reputation": 4315, "user_id": 2502126, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fae66f557902359d7cc278076d1a9ef7?s=128&d=identicon&r=PG", "display_name": "Buzz Moschetti", "link": "https://stackoverflow.com/users/2502126/buzz-moschetti"}, "reply_to_user": {"reputation": 63, "user_id": 2188452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76bc34f5f1e8c65a10ff0df5850afeb?s=128&d=identicon&r=PG", "display_name": "user2188452", "link": "https://stackoverflow.com/users/2188452/user2188452"}, "edited": false, "score": 0, "creation_date": 1572523079, "post_id": 58633539, "comment_id": 103590998, "body": "You mean the total count of both <code>avg_competences</code> and <code>avg_subcompetences</code> i.e. 11 in the example above?   Also:  DOn&#39;t be shy about the vote-up arrow and also making this an accepted answer.  :-)"}, {"owner": {"reputation": 4315, "user_id": 2502126, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fae66f557902359d7cc278076d1a9ef7?s=128&d=identicon&r=PG", "display_name": "Buzz Moschetti", "link": "https://stackoverflow.com/users/2502126/buzz-moschetti"}, "reply_to_user": {"reputation": 63, "user_id": 2188452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76bc34f5f1e8c65a10ff0df5850afeb?s=128&d=identicon&r=PG", "display_name": "user2188452", "link": "https://stackoverflow.com/users/2188452/user2188452"}, "edited": false, "score": 0, "creation_date": 1572536500, "post_id": 58633539, "comment_id": 103598685, "body": "Answer expanded to include adding a total field to the output doc."}], "tags": [], "owner": {"reputation": 4315, "user_id": 2502126, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/fae66f557902359d7cc278076d1a9ef7?s=128&d=identicon&r=PG", "display_name": "Buzz Moschetti", "link": "https://stackoverflow.com/users/2502126/buzz-moschetti"}, "is_accepted": true, "score": 2, "last_activity_date": 1573068918, "last_edit_date": 1573068918, "creation_date": 1572469026, "answer_id": 58633539, "question_id": 58632814, "link": "https://stackoverflow.com/questions/58632814/multiple-unwind-and-group-in-mongo-query/58633539#58633539", "title": "Multiple $unwind and $group in mongo query", "body": "<p><code>$facet</code> to the rescue -- the \"multigroup\" operator.   Given input like this:</p>\n\n<pre><code>var r =\n[\n{\n    \"_id\" : 0,\n    \"name\": \"N1\",\n    \"competences\": [\n{name: \"AAA\", code: \"A\", value: 1.1},\n{name: \"BBB\", code: \"B\", value: 2.2},\n{name: \"CCC\", code: \"C\", value: 3.3}\n                    ],\n    \"subcompetences\": [\n{name: \"DDD\", code: \"D\", value: 4.4},\n{name: \"EEE\", code: \"E\", value: 5.5},\n{name: \"FFF\", code: \"F\", value: 6.6}\n]\n        }\n\n,{\n    \"_id\" : 1, \"name\": \"N2\",\n    \"competences\": [\n{name: \"AAA\", code: \"A\", value: 9.9},\n{name: \"BBB\", code: \"B\", value: 8.8},\n{name: \"KKK\", code: \"K\", value: 11.11}\n                    ],\n    \"subcompetences\": [\n{name: \"FFF\", code: \"F\", value: 4.9},\n{name: \"GGG\", code: \"G\", value: 6.7}\n]\n        }\n ];\n\n</code></pre>\n\n<p>then <code>$facet</code> will allow you to do two groups \"in parallel\".   Indeed, you can do two or more complete <em>pipelines</em> at the same time (some restrictions apply):</p>\n\n<pre><code>db.foo.aggregate([\n{$facet: {\n  \"avg_competences\": [\n      {$unwind: \"$competences\"}\n      ,{$group: {_id: \"$competences.code\",\n           name: {$first: \"$competences.name\"},\n           count: {$sum: 1},\n           avgval: {$avg: \"$competences.value\"},\n        }}\n           ]\n\n  ,\"avg_subcompetences\": [\n      {$unwind: \"$subcompetences\"}\n      ,{$group: {_id: \"$subcompetences.code\",\n           name: {$first: \"$subcompetences.name\"},\n           count: {$sum: 1},\n           avgval: {$avg: \"$subcompetences.value\"},\n        }}\n           ]\n    }\n}\n\n// The output of the stage above will be a *single* doc with two fields, \n// avg_competence and avg_subcompetences.  Let's add more fields to this doc!\n,{$addFields: {N: {$reduce: {\n                input: {$concatArrays: [\"$avg_competences\",\"$avg_subcompetences\"]},\n                initialValue: 0,\n                in:{$sum: [ \"$$value\", \"$$this.count\"]}\n            }}\n    }}\n\n\n   ]);\n</code></pre>\n\n<p>to yield:</p>\n\n<pre><code>{\n    \"avg_competences\" : [\n        {\n            \"_id\" : \"K\",\n            \"name\" : \"KKK\",\n            \"count\" : 1,\n            \"avgval\" : 11.11\n        },\n        {\n            \"_id\" : \"C\",\n            \"name\" : \"CCC\",\n            \"count\" : 1,\n            \"avgval\" : 3.3\n        },\n        {\n            \"_id\" : \"B\",\n            \"name\" : \"BBB\",\n            \"count\" : 2,\n            \"avgval\" : 5.5\n        },\n        {\n            \"_id\" : \"A\",\n            \"name\" : \"AAA\",\n            \"count\" : 2,\n            \"avgval\" : 5.5\n        }\n    ],\n    \"avg_subcompetences\" : [\n        {\n            \"_id\" : \"G\",\n            \"name\" : \"GGG\",\n            \"count\" : 1,\n            \"avgval\" : 6.7\n        },\n        {\n            \"_id\" : \"F\",\n            \"name\" : \"FFF\",\n            \"count\" : 2,\n            \"avgval\" : 5.75\n        },\n        {\n            \"_id\" : \"E\",\n            \"name\" : \"EEE\",\n            \"count\" : 1,\n            \"avgval\" : 5.5\n        },\n        {\n            \"_id\" : \"D\",\n            \"name\" : \"DDD\",\n            \"count\" : 1,\n            \"avgval\" : 4.4\n        }\n    ],\n    \"N\" : 11\n}\n\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 2188452, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b76bc34f5f1e8c65a10ff0df5850afeb?s=128&d=identicon&r=PG", "display_name": "user2188452", "link": "https://stackoverflow.com/users/2188452/user2188452"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 128, "favorite_count": 0, "accepted_answer_id": 58633539, "answer_count": 1, "score": 1, "last_activity_date": 1573068918, "creation_date": 1572465643, "question_id": 58632814, "link": "https://stackoverflow.com/questions/58632814/multiple-unwind-and-group-in-mongo-query", "title": "Multiple $unwind and $group in mongo query", "body": "<p>kind of struggling around with a mongodb query. My mongo database has following structure:</p>\n\n<pre><code>name: String\ntest: String\ncompetences: [{name: String, code: String, value: Float}]\nsubcompetences: [{name: String, code: String, value: Float}]\n</code></pre>\n\n<p>My query looks like this:</p>\n\n<pre><code>async function getAggregatedDataForCompetences(filter, category) {\n    return await getCollection('competences').aggregate([\n    {$match: { $or: filter }},\n    {$unwind:  \"$competences\" },\n    {$group: {\n        _id: \"$_id\",\n        code:  { $first: \"$competences.code\" },\n        name:  { $first: \"$competences.name\"},\n        avgValue: { $avg: \"$competences.value\" },\n        subcompetences:  { $first: \"$subcompetences\"},\n        }\n    },\n    {$unwind:  \"$subcompetences\" },\n    {$group: {\n        _id: \"$subcompetences.code\",\n        code:  { $first: \"$subcompetences.code\" },\n        name:  { $first: \"$subcompetences.name\"},\n        avgValue: { $avg: \"$subcompetences.value\" },\n    }}\n    ]).toArray();\n}\n</code></pre>\n\n<p>What am I trying to do is unwind the first (competences) array for all elements, group them by and calculate the average value for each item. The same procedure is repeated for the following subcompetences array of objects. As a result I'm getting only the average values for the last subcompetences array. Do you have any idea how can I reach the following result:</p>\n\n<pre><code>{\n   competences: [{name: String, code: String, avgValue: Float}],\n   subcompetences: [{name: String, code: String, avgValue: Float}]\n}\n</code></pre>\n"}, {"tags": ["javascript", "ruby-on-rails", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 510, "user_id": 8833196, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0134ed1fe03621d083acf928a94fec19?s=128&d=identicon&r=PG&f=1", "display_name": "adam tropp", "link": "https://stackoverflow.com/users/8833196/adam-tropp"}, "is_accepted": true, "score": 1, "last_activity_date": 1572466546, "creation_date": 1572466546, "answer_id": 58633015, "question_id": 58632786, "link": "https://stackoverflow.com/questions/58632786/rails-react-storing-todo-items-within-react-state/58633015#58633015", "title": "Rails/React: storing &quot;Todo&quot; items within React state?", "body": "<p>I think your proposed solution makes sense. Following your pattern you would probably have another Component, ListItem, and you would map through the listItems state in List and display a ListItem for each item. </p>\n\n<p>That being said, many people learning react have a tendency to over-complicate it by having too many components/different files interacting. At one time the React community encouraged this, but they have since backed off on doing so. Many people now consider having presentational components (or \"dumb\" components, as you call them) an antipattern. See, for example, this note from Dan Abramov <a href=\"https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n"}], "owner": {"reputation": 1823, "user_id": 5065860, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/faadf161352c9fca88a34c8f05103185?s=128&d=identicon&r=PG&f=1", "display_name": "msmith1114", "link": "https://stackoverflow.com/users/5065860/msmith1114"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 58633015, "answer_count": 1, "score": -1, "last_activity_date": 1572466546, "creation_date": 1572465485, "question_id": 58632786, "link": "https://stackoverflow.com/questions/58632786/rails-react-storing-todo-items-within-react-state", "title": "Rails/React: storing &quot;Todo&quot; items within React state?", "body": "<p>So im working on a React \"Todo\" list as a first React project, im using Rails as an API backend (strictly taking in and sending back .json), I am fairly familiar with Rails or at least the basics.</p>\n\n<p>Currently I have a few Components for handling the actual \"List\". This being a ListContainer parent component (Holds the state for \"Lists\" which is an array of Lists) as well as all the Add/Update/Delete/Index(Set Lists initial state) functions.</p>\n\n<p>Along with some child components (ListForm and List), both pretty self explanatory. List being a dumb component just holding the List title and description, and ListForm being the actual form to submit a new list.</p>\n\n<p>I am using axios, and so far Create/Index/Update/Delete are working great for Lists. However I am running into the issue of being unsure how to handle the list items themselves. Currently in the rails side Lists <code>has_many</code> list_items and list_items <code>belong_to</code>list`.</p>\n\n<p>So rails has the relationship side all buttoned up...but im really unsure how to handle the actual items on the javascript side (for each list).</p>\n\n<p>My first initial guess was to switch \"List\" dumb component to a smart component that handles state, in this state would be an array of \"list_items\" that belong to that particular list. When the List is loaded I imagine axios performing a GET request for that lists items within the  component. And then basically handling add/delete/update similar to how the ListContainer component handles it for Lists (but instead making \"List\" component the de-facto container component for ListItems (which is currently a \"dumb component\")</p>\n\n<p>Does this make sense? I honestly am still pretty new to react so handling relationships on the front end side is something im not familiar with yet. But storing state within a child that \"belongs_to\" a parent state/component makes the most sense initially? Unless I am overthinking it?</p>\n"}, {"tags": ["javascript", "if-statement"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 3, "creation_date": 1572465459, "post_id": 58632754, "comment_id": 103572608, "body": "if you want a different condition after <code>else</code>, then you need another <code>if</code>, so you&#39;ll do <code>if (condition1) {} else if (condition2) {}</code>"}, {"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 4, "creation_date": 1572465517, "post_id": 58632754, "comment_id": 103572643, "body": "Also, you&#39;re supposed to compare <code>typeOfPizza</code>, not <code>lovesPizza</code>."}, {"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1572465927, "post_id": 58632754, "comment_id": 103572782, "body": "Pay attention to the wording: <i>&quot;assign lovesPizza to true <b>if typeOfPizza is &#39;pepperoni&#39;</b>&quot;</i>. You&#39;re checking the wrong variable."}, {"owner": {"reputation": 7648, "user_id": 5442308, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/246f740a4597f4fec0ebbc6be98fa8ab?s=128&d=identicon&r=PG&f=1", "display_name": "Matt Aft", "link": "https://stackoverflow.com/users/5442308/matt-aft"}, "edited": false, "score": 1, "creation_date": 1572467580, "post_id": 58632754, "comment_id": 103573404, "body": "You&#39;re also returning instead of assigning <code>lovesPizza</code> to <code>true&#47;false</code>"}, {"owner": {"reputation": 9, "user_id": 11385063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aec9fabada92cb1ecc50d7570570ab04?s=128&d=identicon&r=PG&f=1", "display_name": "user11385063", "link": "https://stackoverflow.com/users/11385063/user11385063"}, "edited": false, "score": 0, "creation_date": 1572479489, "post_id": 58632754, "comment_id": 103577103, "body": "Thanks georg for pointing that out. That did the trick. Stupid typo!"}], "answers": [{"tags": [], "owner": {"reputation": 4645, "user_id": 11998782, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZZ3Di.png?s=128&g=1", "display_name": "Shiny", "link": "https://stackoverflow.com/users/11998782/shiny"}, "is_accepted": false, "score": 0, "last_activity_date": 1572465973, "creation_date": 1572465973, "answer_id": 58632891, "question_id": 58632754, "link": "https://stackoverflow.com/questions/58632754/trying-to-solve-if-else-problem-with-specific-string-and-boolean/58632891#58632891", "title": "Trying to solve If/else problem with specific string and boolean", "body": "<p>As the comments say, you're looking for <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/if...else#Description\" rel=\"nofollow noreferrer\">if / else</a>. You should also double check your reading of the question, you had your checking / assigning variables the wrong way around</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    function exerciseThree(typeOfPizza){\r\n        let lovesPizza;\r\n\r\n        if (typeOfPizza === 'pepperoni') {\r\n            lovesPizza = true;\r\n        } else if (typeOfPizza === 'olives') {\r\n            lovesPizza = false;\r\n        }\r\n\r\n        console.log('lovesPizza:', lovesPizza);\r\n    };\r\n    \r\n    exerciseThree('pepperoni');\r\n    exerciseThree('olives');\r\n    </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 379, "user_id": 836137, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/013ea9fef7d13689ea649f279eb115a5?s=128&d=identicon&r=PG", "display_name": "Griffin", "link": "https://stackoverflow.com/users/836137/griffin"}, "is_accepted": false, "score": -1, "last_activity_date": 1572473943, "last_edit_date": 1572473943, "creation_date": 1572466577, "answer_id": 58633022, "question_id": 58632754, "link": "https://stackoverflow.com/questions/58632754/trying-to-solve-if-else-problem-with-specific-string-and-boolean/58633022#58633022", "title": "Trying to solve If/else problem with specific string and boolean", "body": "<p>I certainly hope you teacher is playing a trick on you. \nThere is no sane suggestions what to do if you send for instance 'ham' into it, and not handle all possibilities are just sloppy.</p>\n\n<pre><code>let lovesPizza;\n\nfunction exerciseThree(typeOfPizza){\n  if(typeOfPizza === 'pepperoni') {\n    return true;\n  } else if (typeOfPizza === 'olives') {\n    return false;\n  } else {\n    return undefined;\n  }\n}\n\nlovesPizza = exerciseThree('pepperoni');\nconsole.log(lovesPizza); // true\nlovesPizza = exerciseThree('olives');\nconsole.log(lovesPizza); // false\nlovesPizza = exerciseThree('ham');\nconsole.log(lovesPizza); // undefined\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 994, "user_id": 2030864, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/1a098c2b14100e1e4b5efff59fa6c5b0?s=128&d=identicon&r=PG", "display_name": "Atlante Avila", "link": "https://stackoverflow.com/users/2030864/atlante-avila"}, "is_accepted": false, "score": 0, "last_activity_date": 1572467293, "creation_date": 1572467293, "answer_id": 58633178, "question_id": 58632754, "link": "https://stackoverflow.com/questions/58632754/trying-to-solve-if-else-problem-with-specific-string-and-boolean/58633178#58633178", "title": "Trying to solve If/else problem with specific string and boolean", "body": "<p>I would highly recommend using a switch statement in this case here. Switch statements run faster and are easier to work with in my opinion. </p>\n\n<p>But to point out what you're doing wrong:</p>\n\n<p>Here you are checking if lovesPizza has the value of pepperoni. But you should be checking typeOfPizza. This is why you're most likely getting undefined:</p>\n\n<pre><code>if (lovesPizza==='pepperoni') {\n    // The value is empty.\n    return true;\n}\nelse {\n    (lovesPizza==='olives')\n    return false;\n}\n</code></pre>\n\n<p>Check out how this looks with a switch statement. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function exerciseThree(typeOfPizza) {\r\n     switch (typeOfPizza) {\r\n      case 'pepperoni':\r\n       return true;\r\n      case 'olives':\r\n       return false;\r\n      default:\r\n       return false;\r\n     }\r\n   }\r\n   exerciseThree('pepperoni');\r\n   exerciseThree('olives');\r\n    </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 127, "user_id": 2990719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G43oX.png?s=128&g=1", "display_name": "Lee Arnould", "link": "https://stackoverflow.com/users/2990719/lee-arnould"}, "is_accepted": false, "score": 0, "last_activity_date": 1572468844, "last_edit_date": 1572468844, "creation_date": 1572468488, "answer_id": 58633424, "question_id": 58632754, "link": "https://stackoverflow.com/questions/58632754/trying-to-solve-if-else-problem-with-specific-string-and-boolean/58633424#58633424", "title": "Trying to solve If/else problem with specific string and boolean", "body": "<p>Your else statement needs an if</p>\n\n<pre><code>if(somethingisTrue)\n  {\n   return \"it is true\";\n  }\nelse if(somethingelseistrue)\n  {\n    return \"no the other thing was true\";\n   }\nelse\n  {\n    return \"nothing is true\"\n  }\n</code></pre>\n\n<p>Also === checks the strings equal and are both strings. It is often better to make sure the if is case insensative</p>\n\n<pre><code>if(!typeOfPizza)\n    {\n       //raise an error as null was passed in\n       return \"false\"\n    }\n else if(typeOfPizza.toLowerCase().trim()===\"pepperoni\"){\n    {\n      return true..... you can build the rest\n</code></pre>\n\n<p>I often write a function (prototype) called cleanString or compareString to perform all the normal cleaning up of strings. </p>\n\n<p>A simple solution is but doesn't use ifs as asked. </p>\n\n<pre><code>function exerciseThree(typeOfPizza){\n    let lovesPizza= typeOfPizza===\"pepperoni\";\n    return lovesPizza;\n  }\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 11385063, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aec9fabada92cb1ecc50d7570570ab04?s=128&d=identicon&r=PG&f=1", "display_name": "user11385063", "link": "https://stackoverflow.com/users/11385063/user11385063"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 625, "favorite_count": 0, "answer_count": 4, "score": 0, "last_activity_date": 1572473943, "creation_date": 1572465350, "question_id": 58632754, "link": "https://stackoverflow.com/questions/58632754/trying-to-solve-if-else-problem-with-specific-string-and-boolean", "title": "Trying to solve If/else problem with specific string and boolean", "body": "<p><strong>Problem</strong></p>\n\n<p>I've tried multiple avenues and watched videos. I'm stuck...</p>\n\n<pre><code>function exerciseThree(typeOfPizza){\n  let lovesPizza;\n  // In this exercise, you will be given a variable, it will be called: typeOfPizza\n  // You are also given another variable called: lovesPizza;\n  // Using an if/else statement assign lovesPizza to true if typeOfPizza is 'pepperoni', assign it to false if it is 'olives'\n</code></pre>\n\n<p>What I've tried: </p>\n\n<pre><code>if (lovesPizza==='pepperoni') {\n    // The value is empty.\n    return true;\n}\nelse {\n    (lovesPizza==='olives')\n    return false;\n}\n</code></pre>\n\n<p>Another attempt</p>\n\n<pre><code> // if(lovesPizza===pepperoni){\n  //  return true\n  //}\n  //else (lovesPizza===olives){\n  //  return false\n//  }\n\n</code></pre>\n\n<p>Another one</p>\n\n<pre><code>  //if (lovesPizza.equals(pepperoni))\n    //  return \"true\";\n  //else (lovesPizza.equals(olives))\n    //  return \"false\"\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 1, "creation_date": 1572465473, "post_id": 58632750, "comment_id": 103572621, "body": "Are you sure you know why you&#39;re getting the error? To be clear, the error is not telling you that that <code>innerHTML</code> is <code>null</code>; it&#39;s telling you that <code>document.getElementById(&#39;someElement&#39;)</code> is <code>null</code>. You&#39;re doing <code>null.innerHTML</code>, which is invalid."}, {"owner": {"reputation": 4701, "user_id": 3662110, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/I19Jk.jpg?s=128&g=1", "display_name": "jmargolisvt", "link": "https://stackoverflow.com/users/3662110/jmargolisvt"}, "edited": false, "score": 0, "creation_date": 1572465515, "post_id": 58632750, "comment_id": 103572638, "body": "Don&#39;t check for null.  Check its length property. <code>document.getElementById(&#39;someElement&#39;).innerHTML.length</code>"}, {"owner": {"reputation": 898, "user_id": 5130011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xQn2K.jpg?s=128&g=1", "display_name": "Kalesh Kaladharan", "link": "https://stackoverflow.com/users/5130011/kalesh-kaladharan"}, "edited": false, "score": 0, "creation_date": 1572465516, "post_id": 58632750, "comment_id": 103572639, "body": "Why are you getting that error?"}, {"owner": {"reputation": 898, "user_id": 5130011, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/xQn2K.jpg?s=128&g=1", "display_name": "Kalesh Kaladharan", "link": "https://stackoverflow.com/users/5130011/kalesh-kaladharan"}, "edited": false, "score": 0, "creation_date": 1572465557, "post_id": 58632750, "comment_id": 103572654, "body": "It is throwing error because it can&#39;t find the DOM element."}, {"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 1, "creation_date": 1572465596, "post_id": 58632750, "comment_id": 103572669, "body": "&quot;Cannot read property &#39;innerHTML&#39; of null&quot; means that the object you are trying to access <code>innerHTML</code> on is <code>null</code>. You need to check <i>that</i> for <code>null</code>, not the <code>innerHTML</code> property."}, {"owner": {"reputation": 124, "user_id": 2705452, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fOcID.jpg?s=128&g=1", "display_name": "jeppy7", "link": "https://stackoverflow.com/users/2705452/jeppy7"}, "edited": false, "score": 0, "creation_date": 1572466559, "post_id": 58632750, "comment_id": 103573033, "body": "I would say &quot;I can&#39;t believe this question was down voted&quot;, but I&#39;ve been on Stack Overflow long enough to know that it could happen very easily. Please keep in mind that often topics are very complex and do not require or deserve a down vote."}, {"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1572469627, "post_id": 58632750, "comment_id": 103574294, "body": "Except this topic was not very complex at all, what is why it received downvotes. You have to verify that the object you are trying to use is not null before you can do anything with its properties. Additionally, <code>typeof document.getElementById(&#39;someElement&#39;).innerHTML !== null</code> is always going to evaluate to <code>true</code> even if <code>innerHTML</code> is <code>null</code>."}, {"owner": {"reputation": 124, "user_id": 2705452, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fOcID.jpg?s=128&g=1", "display_name": "jeppy7", "link": "https://stackoverflow.com/users/2705452/jeppy7"}, "edited": false, "score": 0, "creation_date": 1572473973, "post_id": 58632750, "comment_id": 103575716, "body": "Herohtar, in your most recent comment&#39;s first sentence, I believe you meant to use the word &quot;that&quot; instead of what. We all make mistakes, and sometimes as I mentioned, topics can appear to be complex to someone, and that is the case here."}], "answers": [{"comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 1, "creation_date": 1572469507, "post_id": 58632811, "comment_id": 103574258, "body": "<code>typeof myEl.innerHTML !== null</code> is always going to be true no matter what the content of <code>innerHTML</code> is."}], "tags": [], "owner": {"reputation": 998, "user_id": 5933822, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/aDm7F.jpg?s=128&g=1", "display_name": "dikuw", "link": "https://stackoverflow.com/users/5933822/dikuw"}, "is_accepted": true, "score": 0, "last_activity_date": 1572465629, "creation_date": 1572465629, "answer_id": 58632811, "question_id": 58632750, "link": "https://stackoverflow.com/questions/58632750/how-do-i-check-to-see-if-the-property-of-an-elements-innerhtml-is-null-in-javas/58632811#58632811", "title": "How do I check to see if the property of an element&#39;s innerHTML is null in JavaScript?", "body": "<p>You'll want to check that the element is truthy and it's innerHTML is not null:</p>\n\n<pre><code>const myEl = document.getElementById('someElement');\n\nif(myEl  &amp;&amp; typeof myEl.innerHTML !== null){\n    console.log(\"here\");\n}\n</code></pre>\n"}], "owner": {"reputation": 124, "user_id": 2705452, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/fOcID.jpg?s=128&g=1", "display_name": "jeppy7", "link": "https://stackoverflow.com/users/2705452/jeppy7"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 58632811, "answer_count": 1, "score": -3, "last_activity_date": 1572465629, "creation_date": 1572465343, "question_id": 58632750, "link": "https://stackoverflow.com/questions/58632750/how-do-i-check-to-see-if-the-property-of-an-elements-innerhtml-is-null-in-javas", "title": "How do I check to see if the property of an element&#39;s innerHTML is null in JavaScript?", "body": "<p>I'm trying to update the innerHTML of an element and I get the error \"Cannot read property 'innerHTML' of null\". I know why I'm getting that error, that is not the question. My question is, how can I check if the element's innerHTML property is null in JavaScript? I have read numerous web pages, stack overflow explanations, and I can't seem to check if that element's innerHTML is null. Everything I attempt still displays that error. Here is the most recent attempt:</p>\n\n<pre><code>if(typeof document.getElementById('someElement').innerHTML !== null){\n    //Do stuff\n}\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 883, "user_id": 4965201, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/305f81f75cbae6b8177ecaa1e681f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "user4965201", "link": "https://stackoverflow.com/users/4965201/user4965201"}, "edited": false, "score": 0, "creation_date": 1572465906, "post_id": 58632809, "comment_id": 103572773, "body": "it is giving undefined"}, {"owner": {"reputation": 2344, "user_id": 5613720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5108eebd0ca5da227b09c34fbb8aa84?s=128&d=identicon&r=PG&f=1", "display_name": "yazantahhan", "link": "https://stackoverflow.com/users/5613720/yazantahhan"}, "reply_to_user": {"reputation": 883, "user_id": 4965201, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/305f81f75cbae6b8177ecaa1e681f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "user4965201", "link": "https://stackoverflow.com/users/4965201/user4965201"}, "edited": false, "score": 0, "creation_date": 1572465968, "post_id": 58632809, "comment_id": 103572801, "body": "It should be in the ProfileComponent, not in the AppComponent"}, {"owner": {"reputation": 883, "user_id": 4965201, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/305f81f75cbae6b8177ecaa1e681f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "user4965201", "link": "https://stackoverflow.com/users/4965201/user4965201"}, "edited": false, "score": 0, "creation_date": 1572466008, "post_id": 58632809, "comment_id": 103572813, "body": "but i want to acces it in app component"}], "tags": [], "owner": {"reputation": 2344, "user_id": 5613720, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5108eebd0ca5da227b09c34fbb8aa84?s=128&d=identicon&r=PG&f=1", "display_name": "yazantahhan", "link": "https://stackoverflow.com/users/5613720/yazantahhan"}, "is_accepted": true, "score": 1, "last_activity_date": 1572467079, "last_edit_date": 1572467079, "creation_date": 1572465617, "answer_id": 58632809, "question_id": 58632718, "link": "https://stackoverflow.com/questions/58632718/not-able-to-find-route-custom-data-in-angular-6-in-app-component/58632809#58632809", "title": "Not able to find route custom data in angular 6 in app component", "body": "<p><strong>Update</strong></p>\n\n<p>You will need to subscribe to the router events in the AppComponent and get the params from it:</p>\n\n<pre><code>constructor(private router: Router, route: ActivatedRoute) { }\n\nngOnInit() {\n  this.router.events.subscribe(event =&gt; {\n    if(event instanceof NavigationEnd){\n      console.log(this.route.root.firstChild.snapshot.data['title']);\n    }\n  });\n}\n</code></pre>\n\n<p>If you want it only for that path, you can add one more condition</p>\n\n<pre><code>if(event instanceof NavigationEnd &amp;&amp; event.url === '/profile')\n</code></pre>\n\n<hr>\n\n<p><strong>Old Answer</strong></p>\n\n<p>You will need to access the snapshot to get the data params</p>\n\n<pre><code>this.route.snapshot.data['title'];\n</code></pre>\n"}], "owner": {"reputation": 883, "user_id": 4965201, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/305f81f75cbae6b8177ecaa1e681f7dd?s=128&d=identicon&r=PG&f=1", "display_name": "user4965201", "link": "https://stackoverflow.com/users/4965201/user4965201"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 58632809, "answer_count": 1, "score": 0, "last_activity_date": 1572467079, "creation_date": 1572465128, "question_id": 58632718, "link": "https://stackoverflow.com/questions/58632718/not-able-to-find-route-custom-data-in-angular-6-in-app-component", "title": "Not able to find route custom data in angular 6 in app component", "body": "<p>I have an angular application and added custom data to the route given as</p>\n\n<pre><code>{ path: 'profile', component: ProfileComponent, data: {title: 'example'} }\n</code></pre>\n\n<p>and in app.component.ts file I have the following code as</p>\n\n<pre><code>private route: ActivatedRoute\n\nconsole.log('route snapshot', this.route.firstChild.data._value.pageType );\n</code></pre>\n\n<p>the error i am getting is </p>\n\n<pre><code>ERROR in src/app/app.component.ts(71,64): error TS2339: Property '_value' does not exist on type 'Observable&lt;Data&gt;'.\n</code></pre>\n\n<p>can anyone tell me how to access data of route in app.component.ts</p>\n"}, {"tags": ["javascript", "html", "asp.net-mvc", "partial-views", "show-hide"], "comments": [{"owner": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 1, "creation_date": 1572466750, "post_id": 58632709, "comment_id": 103573110, "body": "See <a href=\"https://visualstudiomagazine.com/articles/2015/07/01/simplifying-single-page-applications.aspx\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://www.c-sharpcorner.com/article/single-page-application-using-asp-net-mvc-and-jquery/\" rel=\"nofollow noreferrer\">this</a> as 2 of many examples."}, {"owner": {"reputation": 887, "user_id": 6216091, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FoNAg.jpg?s=128&g=1", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/6216091/dimitri"}, "reply_to_user": {"reputation": 11009, "user_id": 1549450, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SuCm4.jpg?s=128&g=1", "display_name": "Steve Greene", "link": "https://stackoverflow.com/users/1549450/steve-greene"}, "edited": false, "score": 0, "creation_date": 1572527066, "post_id": 58632709, "comment_id": 103593235, "body": "@SteveGreene thank you for the examples. I think this is slightly to complicated for me, I really thought there would be a simpler way of handling this with partial views ... Guess I was wrong :)"}], "answers": [{"comments": [{"owner": {"reputation": 887, "user_id": 6216091, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FoNAg.jpg?s=128&g=1", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/6216091/dimitri"}, "edited": false, "score": 0, "creation_date": 1572466714, "post_id": 58632813, "comment_id": 103573098, "body": "I can&#39;t use PHP, React or TypeScript since i don&#39;t know these languages, but can you tell me more about the Javascript approach? I can&#39;t possibly imagine that this would be the only option in my setup? Thank you for your feedback!"}], "tags": [], "owner": {"reputation": 23, "user_id": 12205217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c4033f3b376bfce769890620daaefd?s=128&d=identicon&r=PG&f=1", "display_name": "Sollder1", "link": "https://stackoverflow.com/users/12205217/sollder1"}, "is_accepted": false, "score": 0, "last_activity_date": 1572465635, "creation_date": 1572465635, "answer_id": 58632813, "question_id": 58632709, "link": "https://stackoverflow.com/questions/58632709/show-hide-multiple-partial-views-on-same-page/58632813#58632813", "title": "Show/hide multiple partial views on same page", "body": "<p>You should use ether PHP or Java for this kind of Setup.\nAlternativly you could use an JS Framework like Angular or React, they can Handle it as well.\nFor Plain JS you can alsways use an Event (The Links gets clicked) to change the Page as you wish.</p>\n"}, {"comments": [{"owner": {"reputation": 887, "user_id": 6216091, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FoNAg.jpg?s=128&g=1", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/6216091/dimitri"}, "edited": false, "score": 0, "creation_date": 1572526959, "post_id": 58633159, "comment_id": 103593180, "body": "I tried this but clicking the link(s) doesn&#39;t do anything. My links (&lt;a&gt;...&lt;/a&gt;) are in a shared view (layout.cshtml) and so are my functions. The &lt;div id = &quot;renderArea&quot;&gt; is in another View that has a partial view in it."}], "tags": [], "owner": {"reputation": 23, "user_id": 12205217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/24c4033f3b376bfce769890620daaefd?s=128&d=identicon&r=PG&f=1", "display_name": "Sollder1", "link": "https://stackoverflow.com/users/12205217/sollder1"}, "is_accepted": false, "score": 1, "last_activity_date": 1572467207, "creation_date": 1572467207, "answer_id": 58633159, "question_id": 58632709, "link": "https://stackoverflow.com/questions/58632709/show-hide-multiple-partial-views-on-same-page/58633159#58633159", "title": "Show/hide multiple partial views on same page", "body": "<p>You could add an onClick Handler on a Link:</p>\n\n<pre><code>&lt;a onClick=\"handleLink1()\"&gt;Link1&lt;/a&gt;\n</code></pre>\n\n<p>Assuming the Rigth side locks like this: </p>\n\n<pre><code>    &lt;div id = \"renderArea\"&gt;\n\n    &lt;/div&gt;\n</code></pre>\n\n<p>With that you could write the handleLink1() Functio nas follows:</p>\n\n<pre><code>function handleLink1(){\n\n//Here you asign the new HTML:\nDocument.getElementById(\"renderArea\").innerHTML = \"&lt;div/&gt;\";\n\n}\n</code></pre>\n\n<p>Now you can write an Function for every Link and rerender the Rigth Part as you wish.</p>\n"}, {"tags": [], "owner": {"reputation": 887, "user_id": 6216091, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FoNAg.jpg?s=128&g=1", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/6216091/dimitri"}, "is_accepted": true, "score": 0, "last_activity_date": 1572528005, "creation_date": 1572528005, "answer_id": 58644275, "question_id": 58632709, "link": "https://stackoverflow.com/questions/58632709/show-hide-multiple-partial-views-on-same-page/58644275#58644275", "title": "Show/hide multiple partial views on same page", "body": "<p>For now I have implemented this answer: <a href=\"https://stackoverflow.com/questions/6967081/show-hide-multiple-divs-with-jquery\">Show/Hide Multiple Divs with Jquery</a> since the other ones are not in my direct knowledge to implement them</p>\n\n<p>Code sample:</p>\n\n<pre><code>jQuery(function() {\n jQuery('#showall').click(function() {\n  jQuery('.targetDiv').show();\n });\n  jQuery('.showSingle').click(function() {\n   jQuery('.targetDiv').hide();\n    jQuery('#div' + $(this).attr('target')).show();\n });\n});\n\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;div class=\"buttons\"&gt;\n  &lt;a id=\"showall\"&gt;All&lt;/a&gt;\n  &lt;a class=\"showSingle\" target=\"1\"&gt;Div 1&lt;/a&gt;\n  &lt;a class=\"showSingle\" target=\"2\"&gt;Div 2&lt;/a&gt;\n  &lt;a class=\"showSingle\" target=\"3\"&gt;Div 3&lt;/a&gt;\n  &lt;a class=\"showSingle\" target=\"4\"&gt;Div 4&lt;/a&gt;\n&lt;/div&gt;\n\n&lt;div id=\"div1\" class=\"targetDiv\"&gt;Lorum Ipsum1&lt;/div&gt;\n&lt;div id=\"div2\" class=\"targetDiv\"&gt;Lorum Ipsum2&lt;/div&gt;\n&lt;div id=\"div3\" class=\"targetDiv\"&gt;Lorum Ipsum3&lt;/div&gt;\n&lt;div id=\"div4\" class=\"targetDiv\"&gt;Lorum Ipsum4&lt;/div&gt;\n</code></pre>\n\n<p><a href=\"http://jsfiddle.net/XwN2L/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/XwN2L/</a></p>\n\n<p>I am still open to other suggestions, specially if they involve Partial views and not to much of other things.\nThank you all so far!</p>\n"}], "owner": {"reputation": 887, "user_id": 6216091, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/FoNAg.jpg?s=128&g=1", "display_name": "Dimitri", "link": "https://stackoverflow.com/users/6216091/dimitri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 795, "favorite_count": 0, "accepted_answer_id": 58644275, "answer_count": 3, "score": 0, "last_activity_date": 1573380238, "creation_date": 1572465101, "last_edit_date": 1573380238, "question_id": 58632709, "link": "https://stackoverflow.com/questions/58632709/show-hide-multiple-partial-views-on-same-page", "title": "Show/hide multiple partial views on same page", "body": "<p>I have a dashboard kind of page where on the left you would have menu items like:</p>\n\n<ul>\n<li>link 1</li>\n<li>link 2</li>\n<li>link 3</li>\n</ul>\n\n<p>Each of them going to a different action in the same controller.</p>\n\n<p>I would like to have each action render it's data in the same page (in partial views) but I have no idea what the \"best\" way of doing this would be.</p>\n\n<p>So lets say link 1 is rendering a list of people (table), link 2 statistics (charts) and list 3 some configuration properties.</p>\n\n<p>How should I define this so that on each click, the main frame (which is the menu bar on the left containing the link 1-2-3 and is defined in a shared view) stays but only the middle content (partial views) would change, keeping in mind that link 1 is a table, link 2 charts and other controls and link 3 a bunch of controls (textboxes, drop down's and so on).</p>\n\n<p>Should I show/hide div's on each click? This seems/feels kind of dirty to me?\nAll input/suggestions are very welcome!</p>\n\n<p>EDIT: \nThis is the behavior I want (accepted answer): <a href=\"https://stackoverflow.com/questions/6967081/show-hide-multiple-divs-with-jquery\">Show/Hide Multiple Divs with Jquery</a> </p>\n\n<p><strong>Note</strong>: I am using C# in an ASP.NET MVC project and I would prefer a C# ASP.NET MVC solution (Javascript if needed), not other script/coding languages or frameworks.</p>\n"}, {"tags": ["javascript", "arrays", "object", "lodash"], "comments": [{"owner": {"reputation": 1835, "user_id": 6731368, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ac246a4251b40daa1893524ded0927f0?s=128&d=identicon&r=PG&f=1", "display_name": "a2441918", "link": "https://stackoverflow.com/users/6731368/a2441918"}, "reply_to_user": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1572465317, "post_id": 58632703, "comment_id": 103572552, "body": "I have the output. I just need an extra pair of eyes to get me an optimal one."}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1572465643, "post_id": 58632703, "comment_id": 103572686, "body": "optimal from which perspective?"}, {"owner": {"reputation": 1835, "user_id": 6731368, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ac246a4251b40daa1893524ded0927f0?s=128&d=identicon&r=PG&f=1", "display_name": "a2441918", "link": "https://stackoverflow.com/users/6731368/a2441918"}, "reply_to_user": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1572465737, "post_id": 58632703, "comment_id": 103572721, "body": "A better way to get the output? I have been wanting to use flatMap from lodash but not sure how to end up using it as opposed to map and flattenDeep"}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 1, "creation_date": 1572466058, "post_id": 58632703, "comment_id": 103572836, "body": "&quot;A better way&quot; is not well defined, you need to state what is your criteria to assess something as &quot;better&quot;. Cleaner code? code that is more testable? more concise? easier to maintain and modify? more performant? more to your personal taste? requires less polyfills? ..."}, {"owner": {"reputation": 1835, "user_id": 6731368, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ac246a4251b40daa1893524ded0927f0?s=128&d=identicon&r=PG&f=1", "display_name": "a2441918", "link": "https://stackoverflow.com/users/6731368/a2441918"}, "reply_to_user": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1572466377, "post_id": 58632703, "comment_id": 103572963, "body": "Sorry Alfasin.. i\u2019m not that clear maybe.."}, {"owner": {"reputation": 49533, "user_id": 1057429, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/XG8at.jpg?s=128&g=1", "display_name": "Nir Alfasi", "link": "https://stackoverflow.com/users/1057429/nir-alfasi"}, "edited": false, "score": 0, "creation_date": 1572466452, "post_id": 58632703, "comment_id": 103572993, "body": "No worries, take your time and improve the question so that people will be able to help you!"}, {"owner": {"reputation": 101365, "user_id": 4620771, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/BuWrj.jpg?s=128&g=1", "display_name": "Nenad Vracar", "link": "https://stackoverflow.com/users/4620771/nenad-vracar"}, "edited": false, "score": 0, "creation_date": 1572467324, "post_id": 58632703, "comment_id": 103573312, "body": "Do you have only 2 levels of children depth like in your example?"}, {"owner": {"reputation": 1835, "user_id": 6731368, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ac246a4251b40daa1893524ded0927f0?s=128&d=identicon&r=PG&f=1", "display_name": "a2441918", "link": "https://stackoverflow.com/users/6731368/a2441918"}, "edited": false, "score": 0, "creation_date": 1572467364, "post_id": 58632703, "comment_id": 103573333, "body": "Yes, the first level is children and second is child. Child is the innermost."}], "answers": [{"comments": [{"owner": {"reputation": 1835, "user_id": 6731368, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ac246a4251b40daa1893524ded0927f0?s=128&d=identicon&r=PG&f=1", "display_name": "a2441918", "link": "https://stackoverflow.com/users/6731368/a2441918"}, "edited": false, "score": 0, "creation_date": 1572467844, "post_id": 58633235, "comment_id": 103573529, "body": "Just out of curiosity, is there a way to extend this function to prepend the title? <i>.flatMap(</i>.compact(_.flatMap(headers, &#39;children&#39;)), &#39;child&#39;)"}, {"owner": {"reputation": 101365, "user_id": 4620771, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/BuWrj.jpg?s=128&g=1", "display_name": "Nenad Vracar", "link": "https://stackoverflow.com/users/4620771/nenad-vracar"}, "reply_to_user": {"reputation": 1835, "user_id": 6731368, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ac246a4251b40daa1893524ded0927f0?s=128&d=identicon&r=PG&f=1", "display_name": "a2441918", "link": "https://stackoverflow.com/users/6731368/a2441918"}, "edited": false, "score": 1, "creation_date": 1572469021, "post_id": 58633235, "comment_id": 103574043, "body": "There could be some specific method for this exact scenario in lodash but basically what you did <a href=\"https://jsfiddle.net/qmvc10hr/\" rel=\"nofollow noreferrer\">jsfiddle.net/qmvc10hr</a>"}], "tags": [], "owner": {"reputation": 101365, "user_id": 4620771, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/BuWrj.jpg?s=128&g=1", "display_name": "Nenad Vracar", "link": "https://stackoverflow.com/users/4620771/nenad-vracar"}, "is_accepted": true, "score": 2, "last_activity_date": 1572467539, "creation_date": 1572467539, "answer_id": 58633235, "question_id": 58632703, "link": "https://stackoverflow.com/questions/58632703/flatten-nested-array-of-objects-prepending-parent-value-to-child/58633235#58633235", "title": "Flatten nested array of objects prepending parent value to child", "body": "<p>You can solve this with just <code>reduce</code> and two inner <code>forEach</code> loops for children and child.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const headers = [{\"id\":\"name1\",\"title\":\"Name 1\",\"children\":[{\"title\":\"Children 1\",\"child\":[{\"title\":\"Child 1\",\"onClick\":\"child1Click\"},{\"title\":\"Child 2\",\"onClick\":\"child2Click\"}]},{\"title\":\"CHildren 2\",\"child\":[{\"title\":\"Child 3\",\"id\":\"child3Click\"},{\"title\":\"Child 4\",\"id\":\"child4Click\"}]}]},{\"id\":\"name2\",\"title\":\"Name 2\",\"children\":[{\"title\":\"Children 3\",\"child\":[{\"title\":\"Child 5\",\"onClick\":\"child5Click\"},{\"title\":\"Child 6\",\"onClick\":\"child6Click\"}]},{\"title\":\"CHildren 4\",\"child\":[{\"title\":\"Child 7\",\"id\":\"child7Click\"},{\"title\":\"Child 8\",\"id\":\"child8Click\"}]}]},{\"id\":\"name3\",\"title\":\"Name 3\"},{\"id\":\"name4\",\"title\":\"Name 4\"}]\r\n\r\nconst result = headers.reduce((r, {children}) =&gt; {\r\n  children &amp;&amp; children.forEach(({title: pTitle, child}) =&gt; {\r\n    child &amp;&amp; child.forEach(({title, ...rest}) =&gt; r.push({\r\n      title: `${pTitle} ${title}`,\r\n      ...rest\r\n    }))\r\n  })\r\n  \r\n  return r;\r\n}, [])\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1835, "user_id": 6731368, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/ac246a4251b40daa1893524ded0927f0?s=128&d=identicon&r=PG&f=1", "display_name": "a2441918", "link": "https://stackoverflow.com/users/6731368/a2441918"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 617, "favorite_count": 0, "accepted_answer_id": 58633235, "answer_count": 1, "score": 2, "last_activity_date": 1572467539, "creation_date": 1572465074, "last_edit_date": 1572466913, "question_id": 58632703, "link": "https://stackoverflow.com/questions/58632703/flatten-nested-array-of-objects-prepending-parent-value-to-child", "title": "Flatten nested array of objects prepending parent value to child", "body": "<p>I have a nested array of objects and want to get only the child property elements of an array with the <strong>title of the parent element prepended to the title in the child</strong>. This is just an example and the actual data will include a unique children property in separate indices in the array. </p>\n\n<p>I would like to implement flatMap in my solution instead of using flattenDeep and map from lodash. Please advice.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const headers = [{\r\n  \"id\": \"name1\",\r\n  \"title\": \"Name 1\",\r\n  \"children\": [{\r\n    \"title\": \"Children 1\",\r\n    \"child\": [{\r\n      \"title\": \"Child 1\",\r\n      \"onClick\": \"child1Click\"\r\n    }, {\r\n      \"title\": \"Child 2\",\r\n      \"onClick\": \"child2Click\"\r\n    }]\r\n  }, {\r\n    \"title\": \"CHildren 2\",\r\n    \"child\": [{\r\n      \"title\": \"Child 3\",\r\n      \"id\": \"child3Click\"\r\n    }, {\r\n      \"title\": \"Child 4\",\r\n      \"id\": \"child4Click\"\r\n    }]\r\n  }]\r\n}, {\r\n  \"id\": \"name2\",\r\n  \"title\": \"Name 2\",\r\n  \"children\": [{\r\n    \"title\": \"Children 3\",\r\n    \"child\": [{\r\n      \"title\": \"Child 5\",\r\n      \"onClick\": \"child5Click\"\r\n    }, {\r\n      \"title\": \"Child 6\",\r\n      \"onClick\": \"child6Click\"\r\n    }]\r\n  }, {\r\n    \"title\": \"CHildren 4\",\r\n    \"child\": [{\r\n      \"title\": \"Child 7\",\r\n      \"id\": \"child7Click\"\r\n    }, {\r\n      \"title\": \"Child 8\",\r\n      \"id\": \"child8Click\"\r\n    }]\r\n  }]\r\n}, {\r\n  \"id\": \"name3\",\r\n  \"title\": \"Name 3\"\r\n}, {\r\n  \"id\": \"name4\",\r\n  \"title\": \"Name 4\"\r\n}]\r\n\r\nconsole.log(_.flattenDeep(_.map(_.flattenDeep(_.compact(_.map(headers, item =&gt; item.children))), item =&gt; _.map(item.child, child =&gt; {\r\n\treturn {\r\n  \t...child,\r\n    title: `${item.title} ${child.title}`\r\n  }\r\n}))))</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.15/lodash.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The output I expect is </p>\n\n<pre><code>[\n  {\n    \"title\": \"Children 1 Child 1\",\n    \"onClick\": \"child1Click\"\n  },\n  {\n    \"title\": \"Children 1 Child 2\",\n    \"onClick\": \"child2Click\"\n  },\n  {\n    \"title\": \"CHildren 2 Child 3\",\n    \"id\": \"child3Click\"\n  },\n  {\n    \"title\": \"CHildren 2 Child 4\",\n    \"id\": \"child4Click\"\n  },\n  {\n    \"title\": \"Children 3 Child 5\",\n    \"onClick\": \"child5Click\"\n  },\n  {\n    \"title\": \"Children 3 Child 6\",\n    \"onClick\": \"child6Click\"\n  },\n  {\n    \"title\": \"CHildren 4 Child 7\",\n    \"id\": \"child7Click\"\n  },\n  {\n    \"title\": \"CHildren 4 Child 8\",\n    \"id\": \"child8Click\"\n  }\n]\n</code></pre>\n\n<p>Any help is greatly appreciated. Thanks</p>\n"}, {"tags": ["javascript", "node.js", "npm"], "answers": [{"tags": [], "owner": {"reputation": 752, "user_id": 6087555, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/J0jbA.jpg?s=128&g=1", "display_name": "Karthik", "link": "https://stackoverflow.com/users/6087555/karthik"}, "is_accepted": true, "score": 1, "last_activity_date": 1572464970, "creation_date": 1572464970, "answer_id": 58632688, "question_id": 58632687, "link": "https://stackoverflow.com/questions/58632687/how-to-list-available-npm-global-packages/58632688#58632688", "title": "How to list available npm global packages", "body": "<pre><code> npm list -g --depth=0\n</code></pre>\n\n<p><strong>-g</strong> will look for the packages installed globally. If you need to check locally installed packages remove <strong>-g</strong></p>\n\n<p><strong>--depth=0</strong> will avoid every dependency in the tree</p>\n"}], "owner": {"reputation": 752, "user_id": 6087555, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/J0jbA.jpg?s=128&g=1", "display_name": "Karthik", "link": "https://stackoverflow.com/users/6087555/karthik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 1, "accepted_answer_id": 58632688, "answer_count": 1, "score": 0, "last_activity_date": 1572464970, "creation_date": 1572464970, "question_id": 58632687, "link": "https://stackoverflow.com/questions/58632687/how-to-list-available-npm-global-packages", "title": "How to list available npm global packages", "body": "<p>I have a few global packages available in my computer. I want to list them all using npm command without going to to the global installation folder found using <code>npm root -g</code></p>\n"}, {"tags": ["javascript", "typescript", "optimization"], "answers": [{"comments": [{"owner": {"reputation": 569, "user_id": 4512868, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9ab134436477876d5197b8b09e2aef1b?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/4512868/tomas"}, "edited": false, "score": 0, "creation_date": 1572465403, "post_id": 58632710, "comment_id": 103572587, "body": "Thank U for Reduce, but i have task with map() &amp; find() ussage. Is it possible?"}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "reply_to_user": {"reputation": 569, "user_id": 4512868, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9ab134436477876d5197b8b09e2aef1b?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/4512868/tomas"}, "edited": false, "score": 0, "creation_date": 1572465665, "post_id": 58632710, "comment_id": 103572696, "body": "I&#39;ve added another solution."}, {"owner": {"reputation": 569, "user_id": 4512868, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9ab134436477876d5197b8b09e2aef1b?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/4512868/tomas"}, "edited": false, "score": 1, "creation_date": 1572465873, "post_id": 58632710, "comment_id": 103572768, "body": "Wow! Nice! Thank you very much!"}, {"owner": {"reputation": 569, "user_id": 4512868, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9ab134436477876d5197b8b09e2aef1b?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/4512868/tomas"}, "edited": false, "score": 0, "creation_date": 1572466041, "post_id": 58632710, "comment_id": 103572825, "body": "P.s. What is meen <code>...offers</code>?"}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "reply_to_user": {"reputation": 569, "user_id": 4512868, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9ab134436477876d5197b8b09e2aef1b?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/4512868/tomas"}, "edited": false, "score": 1, "creation_date": 1572466146, "post_id": 58632710, "comment_id": 103572881, "body": "The <code>Math.min()</code> function accepts a list of items <code>Math.min(10, 5, 4, 3)</code>, and not an array (the result of map). I&#39;m using the spread syntax to apply convert the array of prices to a list of parameters that <code>Math.min()</code> can handle."}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 1, "last_activity_date": 1572465649, "last_edit_date": 1572465649, "creation_date": 1572465103, "answer_id": 58632710, "question_id": 58632647, "link": "https://stackoverflow.com/questions/58632647/how-to-earch-minimal-value-in-objects-array-using-map-and-find-methods/58632710#58632710", "title": "How to earch minimal value in objects array using map() and find() methods?", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\"><code>Array.reduce()</code></a> to find the best offer by price. On each iteration check if the current item's (<code>o</code>) price is less than the accumulator's (<code>r</code>) price, and take the one with the lowest.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const productList = [{\"title\":\"Product X1\",\"offers\":[{\"seller\":\"Company X1\",\"price\":400},{\"seller\":\"Company X2\",\"price\":200},{\"seller\":\"Company X3\",\"price\":300}]},{\"title\":\"Product Y1\",\"offers\":[{\"seller\":\"Company Y1\",\"price\":1700},{\"seller\":\"Company Y2\",\"price\":1600},{\"seller\":\"Company Y3\",\"price\":1500},{\"seller\":\"Company Y4\",\"price\":1400}]},{\"title\":\"Product Z1\",\"offers\":[{\"seller\":\"Company Z1\",\"price\":50},{\"seller\":\"Company Z2\",\"price\":60},{\"seller\":\"Company Z3\",\"price\":10},{\"seller\":\"Company Z4\",\"price\":90},{\"seller\":\"Company Z5\",\"price\":70}]}]\r\n\r\nconst findBestOffer = ({ offers = [] }) =&gt; offers\r\n  .reduce((r, o) =&gt; o.price &lt; r.price ? o : r)\r\n\r\nconst formatOffer = item =&gt; item ? ({\r\n  name: item.seller,\r\n  price: item.price\r\n}) : 'none'\r\n\r\nconst destinations = productList.map(item =&gt; ({\r\n  title: item.title,\r\n  bestOffer: formatOffer(findBestOffer(item))\r\n}))\r\n\r\nconsole.log(destinations)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you need to use <code>Array.map()</code> and <code>Array.find()</code> - map the array to the price numbers, and get the lowest one using <code>Math.min()</code>, and then find the item with that price:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const productList = [{\"title\":\"Product X1\",\"offers\":[{\"seller\":\"Company X1\",\"price\":400},{\"seller\":\"Company X2\",\"price\":200},{\"seller\":\"Company X3\",\"price\":300}]},{\"title\":\"Product Y1\",\"offers\":[{\"seller\":\"Company Y1\",\"price\":1700},{\"seller\":\"Company Y2\",\"price\":1600},{\"seller\":\"Company Y3\",\"price\":1500},{\"seller\":\"Company Y4\",\"price\":1400}]},{\"title\":\"Product Z1\",\"offers\":[{\"seller\":\"Company Z1\",\"price\":50},{\"seller\":\"Company Z2\",\"price\":60},{\"seller\":\"Company Z3\",\"price\":10},{\"seller\":\"Company Z4\",\"price\":90},{\"seller\":\"Company Z5\",\"price\":70}]}]\r\n\r\nconst findBestOffer = ({ offers = [] }) =&gt; {\r\n  const min = Math.min(...offers.map(o =&gt; o.price))\r\n  \r\n  return offers.find(o =&gt; o.price === min)\r\n}\r\n\r\nconst formatOffer = item =&gt; item ? ({\r\n  name: item.seller,\r\n  price: item.price\r\n}) : 'none'\r\n\r\nconst destinations = productList.map(item =&gt; ({\r\n  title: item.title,\r\n  bestOffer: formatOffer(findBestOffer(item))\r\n}))\r\n\r\nconsole.log(destinations)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 382, "user_id": 5385845, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0jwsA.jpg?s=128&g=1", "display_name": "samtax01", "link": "https://stackoverflow.com/users/5385845/samtax01"}, "is_accepted": false, "score": 0, "last_activity_date": 1572467082, "last_edit_date": 1572467082, "creation_date": 1572466583, "answer_id": 58633023, "question_id": 58632647, "link": "https://stackoverflow.com/questions/58632647/how-to-earch-minimal-value-in-objects-array-using-map-and-find-methods/58633023#58633023", "title": "How to earch minimal value in objects array using map() and find() methods?", "body": "<p>Since you prefer to use FIND and MAP, I have a clearer solution for you then.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// product list\r\nconst productList = [{\"title\":\"Product X1\",\"offers\":[{\"seller\":\"Company X1\",\"price\":400},{\"seller\":\"Company X2\",\"price\":200},{\"seller\":\"Company X3\",\"price\":300}]},{\"title\":\"Product Y1\",\"offers\":[{\"seller\":\"Company Y1\",\"price\":1700},{\"seller\":\"Company Y2\",\"price\":1600},{\"seller\":\"Company Y3\",\"price\":1500},{\"seller\":\"Company Y4\",\"price\":1400}]},{\"title\":\"Product Z1\",\"offers\":[{\"seller\":\"Company Z1\",\"price\":50},{\"seller\":\"Company Z2\",\"price\":60},{\"seller\":\"Company Z3\",\"price\":10},{\"seller\":\"Company Z4\",\"price\":90},{\"seller\":\"Company Z5\",\"price\":70}]}]\r\n\r\n\r\n\r\n// Search text from Collection\r\nfunction searchProduct(niddle, haystack){\r\n  const searchResult  = haystack.find(item=&gt; item['title'] === niddle);\r\n  let bestOffer;\r\n  if(searchResult){\r\n    bestOffer = getBestOffer(searchResult);\r\n  }\r\n  return bestOffer; \r\n}\r\n\r\n\r\n\r\n// Search for best Offer\r\nfunction getBestOffer(dataInfo){\r\n  let bestOffer = {seller: null,price: null};\r\n  dataInfo['offers'].map((item, index)=&gt;{\r\n    if(bestOffer.price === null || bestOffer.price &gt; item.price){\r\n      bestOffer = item;\r\n    }\r\n  })\r\n  return bestOffer;\r\n}\r\n\r\n\r\n//run\r\nconsole.log( searchProduct(\"Product Z1\", productList) );\r\n\r\n//output is \r\n//  Object {seller: \"Company Z3\", price: 10}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I hope you like it.</p>\n"}], "owner": {"reputation": 569, "user_id": 4512868, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/9ab134436477876d5197b8b09e2aef1b?s=128&d=identicon&r=PG&f=1", "display_name": "Tomas", "link": "https://stackoverflow.com/users/4512868/tomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 58632710, "answer_count": 2, "score": 0, "last_activity_date": 1572467082, "creation_date": 1572464783, "question_id": 58632647, "link": "https://stackoverflow.com/questions/58632647/how-to-earch-minimal-value-in-objects-array-using-map-and-find-methods", "title": "How to earch minimal value in objects array using map() and find() methods?", "body": "<h3>Task</h3>\n\n<p>There is an array of objects of the form:</p>\n\n<pre><code>{\n  title: 'Macbook Air',\n  offers: [\n    {\n      seller: 'Avic',\n      price: 1200\n    },\n    {\n      seller: 'Citrus',\n      price: 1600\n    }\n  ]\n}\n</code></pre>\n\n<p>It is necessary to Convert to an array of objects of the form:  </p>\n\n<pre><code>{\n  title: 'Macbook Air',\n  bestOffer: {\n    name: 'Avic',\n    price: 1200\n  }\n}\n</code></pre>\n\n<p>Where <strong>bestOffer</strong> is an offer with <em>a minimum price value</em>.<br>\n<strong>Write in one line using <em>map()</em> and <em>find()</em>.</strong></p>\n\n<h2>Code</h2>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>\"use_strict\";\r\n \r\nvar productList = [\r\n  {\r\n    title: \"Product X1\",\r\n    offers: [\r\n      {\r\n        seller: \"Company X1\",\r\n        price: 400\r\n      },\r\n \r\n      {\r\n        seller: \"Company X2\",\r\n        price: 200\r\n      },\r\n \r\n      {\r\n        seller: \"Company X3\",\r\n        price: 300\r\n      }\r\n    ]\r\n  },\r\n \r\n  {\r\n    title: \"Product Y1\",\r\n    offers: [\r\n      {\r\n        seller: \"Company Y1\",\r\n        price: 1700\r\n      },\r\n \r\n      {\r\n        seller: \"Company Y2\",\r\n        price: 1600\r\n      },\r\n \r\n      {\r\n        seller: \"Company Y3\",\r\n        price: 1500\r\n      },\r\n \r\n      {\r\n        seller: \"Company Y4\",\r\n        price: 1400\r\n      }\r\n    ]\r\n  },\r\n \r\n  {\r\n    title: \"Product Z1\",\r\n    offers: [\r\n      {\r\n        seller: \"Company Z1\",\r\n        price: 50\r\n      },\r\n \r\n      {\r\n        seller: \"Company Z2\",\r\n        price: 60\r\n      },\r\n \r\n      {\r\n        seller: \"Company Z3\",\r\n        price: 10\r\n      },\r\n \r\n      {\r\n        seller: \"Company Z4\",\r\n        price: 90\r\n      },\r\n \r\n      {\r\n        seller: \"Company Z5\",\r\n        price: 70\r\n      }\r\n    ]\r\n  }\r\n]; \r\n \r\nconst destinations = productList.map(item =&gt;\r\n    ({\r\n        title: item.title,\r\n        bestOffer: ({\r\n            name: item.offers[0].seller, // TODO: How to implement find() method????\r\n            price: item.offers[0].price\r\n        })\r\n    })\r\n)\r\nconsole.log(destinations) </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>My code work for restructuring objects for new array, BUT i dont know how to implement find() method for searching minimal value. Is it possible using find() method in this case??</p>\n"}, {"tags": ["javascript", "c#", ".net", "json", "angular"], "comments": [{"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1572464518, "post_id": 58632576, "comment_id": 103572211, "body": "why you think that you can send JSON and it will be read as form data (FromForm)?"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1572464600, "post_id": 58632576, "comment_id": 103572239, "body": "Because I had FormBody before and I would get a 415 error.  Once I switched to FormForm I then hit the method with no error"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1572464675, "post_id": 58632576, "comment_id": 103572268, "body": "415 is self-explanatory ..."}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1572464696, "post_id": 58632576, "comment_id": 103572273, "body": "So I should remove formform?"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1572464731, "post_id": 58632576, "comment_id": 103572297, "body": "yes and point right media type by right header on client side"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1572464770, "post_id": 58632576, "comment_id": 103572315, "body": "Let me show you what I have on client side header in my next edit"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "reply_to_user": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 0, "creation_date": 1572464870, "post_id": 58632576, "comment_id": 103572360, "body": "You can see I have the correct headers"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1572465010, "post_id": 58632576, "comment_id": 103572420, "body": "yes , but you are prolly(i&#39;m not into javascript/angular) sending a string instead json"}, {"owner": {"reputation": 5144, "user_id": 1068167, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/2890f223f8ac1176c6b36cba9a0c156c?s=128&d=identicon&r=PG&f=1", "display_name": "span", "link": "https://stackoverflow.com/users/1068167/span"}, "edited": false, "score": 1, "creation_date": 1572465015, "post_id": 58632576, "comment_id": 103572423, "body": "Try removing the fromForm"}, {"owner": {"reputation": 6441, "user_id": 690952, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/B9WfV.png?s=128&g=1", "display_name": "Selvin", "link": "https://stackoverflow.com/users/690952/selvin"}, "edited": false, "score": 1, "creation_date": 1572465093, "post_id": 58632576, "comment_id": 103572451, "body": "Does this answer your question? <a href=\"https://stackoverflow.com/questions/58630799/values-null-when-i-make-a-simple-post-request-to-my-net-controller-from-angular\">Values null when I make a simple post request to my .net controller from angular</a>"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572465114, "post_id": 58632576, "comment_id": 103572463, "body": "If I remove fromForm I&#39;m back to a 415 error.  If I add fromForm then it takes me into the method.  If I have fromBody then it gives me 415 error too"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572465227, "post_id": 58632576, "comment_id": 103572510, "body": "No it doesn&#39;t answer my question.  That question used to be a 415 error.  Then there is no error by adding fromForm.  Editing the header or any of those suggestions didn&#39;t take the 415 error away.  I just guessed and put to fromForm, and then there was no 415 error"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572465389, "post_id": 58632576, "comment_id": 103572577, "body": "Any suggestions?  But back formBody then get a 415 error.  Add headers still 415 errors.  I&#39;m lost please help"}], "answers": [{"comments": [{"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572477526, "post_id": 58634463, "comment_id": 103576645, "body": "Your right.  I took off stringify then I created a new object like this     var newMessage = {       &quot;Departments&quot;: message[&quot;departments&quot;],       &quot;Note&quot;: message[&quot;noteBody&quot;],       &quot;WeekEnding&quot;: message[&quot;weeks&quot;].weekEnding     }"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572477552, "post_id": 58634463, "comment_id": 103576652, "body": "I then passed newMessage return this.http.post(this.baseUrl + &#39;api/SlgCorpNotes/Edit&#39;,newMessage, options);"}, {"owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "edited": false, "score": 0, "creation_date": 1572477597, "post_id": 58634463, "comment_id": 103576660, "body": "then the controller took in the object as such.         public void Edit([FromBody] CorpNotes newMessage)"}], "tags": [], "owner": {"reputation": 509, "user_id": 9185707, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f40bc2bc1da2f0e1cef5fd1fbd544f86?s=128&d=identicon&r=PG&f=1", "display_name": "Antediluvian", "link": "https://stackoverflow.com/users/9185707/antediluvian"}, "is_accepted": true, "score": 1, "last_activity_date": 1572474437, "creation_date": 1572474437, "answer_id": 58634463, "question_id": 58632576, "link": "https://stackoverflow.com/questions/58632576/sending-json-object-how-do-i-set-up-the-simple-net-controller-method-to-receiv/58634463#58634463", "title": "Sending JSON object. How do I set up the simple .net controller method to receive this type?", "body": "<ol>\n<li><p>remove the <code>JSON.stringify</code> from your Angular <code>http.post</code> call. It should just be able to recognise an object.</p></li>\n<li><p>Your last field in the JSON is a date but your C# model expects a string, change that to a date too.</p></li>\n</ol>\n"}], "owner": {"reputation": 251, "user_id": 10192986, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8adb234733bfed1939216728279584bb?s=128&d=identicon&r=PG&f=1", "display_name": "JSkyS", "link": "https://stackoverflow.com/users/10192986/jskys"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 58634463, "answer_count": 1, "score": 0, "last_activity_date": 1572474437, "creation_date": 1572464460, "last_edit_date": 1572464839, "question_id": 58632576, "link": "https://stackoverflow.com/questions/58632576/sending-json-object-how-do-i-set-up-the-simple-net-controller-method-to-receiv", "title": "Sending JSON object. How do I set up the simple .net controller method to receive this type?", "body": "<p>Currently I am sending over object from angular that looks exactly like this.</p>\n\n<p>{\"department\":2,\"note\":\"asdf\",\"weekEnding\":\"2019-11-02T00:00:00\"}</p>\n\n<p>I am then hitting this method in my my .net controller which looks like this.</p>\n\n<pre><code>    [HttpPost]\n    [Route(\"Edit\")]\n    public void Edit([FromForm] CorpNotes newMessage)\n    {\n\n        //_SLGContext.Entry(newMessage).State = EntityState.Modified;\n        //_SLGContext.SaveChanges();\n    }\n</code></pre>\n\n<p>Here is my model for CorpNotes below</p>\n\n<pre><code>public class CorpNotes\n{\n    public string Department { get; set; }\n\n    public string Note { get; set; }\n\n    public string WeekEnding { get; set; }\n}\n</code></pre>\n\n<p>I am receiving all null values in the variable CorpNotes newMessage in my Post method Edit()</p>\n\n<p>Why are all my values null?\n<strong>slg-corp-notes.service.ts</strong></p>\n\n<pre><code>  updateMessage(message: any) {\n    console.log(\"at service\")\n    console.log(message)\n    var newMessage = new CorpNotes(message['departments'], message['noteBody'], message['weeks'].weekEnding)\n    var Params = '?Department=' + message['departments'] + '&amp;Note=' + message['noteBody'] + '&amp;WeekEnding=' + message['weeks'].weekEnding\n    console.log(newMessage)\n    console.log(JSON.stringify(newMessage))\n    console.log(Params)\n\n    const headers = new HttpHeaders()\n      .set('Content-Type', 'application/json;charset=UTF-8')\n\n    let options = { headers: headers };\n\n    return this.http.post(this.baseUrl + 'api/SlgCorpNotes/Edit', JSON.stringify(newMessage), options);\n    //return this.http.post(this.baseUrl + 'api/SlgCorpNotes/Edit', JSON.stringify(newMessage))\n\n\n  }\n</code></pre>\n"}, {"tags": ["javascript", "google-apps-script", "google-app-maker"], "comments": [{"owner": {"reputation": 5314, "user_id": 4194436, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/d8RiC.jpg?s=128&g=1", "display_name": "Michelangelo", "link": "https://stackoverflow.com/users/4194436/michelangelo"}, "edited": false, "score": 1, "creation_date": 1572468882, "post_id": 58632538, "comment_id": 103573987, "body": "Can we see the rest of the code? How do you insert in your table?"}, {"owner": {"reputation": 212, "user_id": 9427149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbaf79860f417723fba1997481adf0?s=128&d=identicon&r=PG&f=1", "display_name": "rrrrrrrrr", "link": "https://stackoverflow.com/users/9427149/rrrrrrrrr"}, "reply_to_user": {"reputation": 5314, "user_id": 4194436, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/d8RiC.jpg?s=128&g=1", "display_name": "Michelangelo", "link": "https://stackoverflow.com/users/4194436/michelangelo"}, "edited": false, "score": 0, "creation_date": 1572468949, "post_id": 58632538, "comment_id": 103574011, "body": "Just solved. It wasn&#39;t saving the data because the datasource was in manual save mode. But I wasn&#39;t calling datasource.savechanges() when saving the data.."}], "answers": [{"tags": [], "owner": {"reputation": 212, "user_id": 9427149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbaf79860f417723fba1997481adf0?s=128&d=identicon&r=PG&f=1", "display_name": "rrrrrrrrr", "link": "https://stackoverflow.com/users/9427149/rrrrrrrrr"}, "is_accepted": false, "score": 3, "last_activity_date": 1572469161, "creation_date": 1572469161, "answer_id": 58633560, "question_id": 58632538, "link": "https://stackoverflow.com/questions/58632538/whats-the-way-to-get-timestamp-in-google-app-maker/58633560#58633560", "title": "what&#39;s the way to get Timestamp in Google App maker?", "body": "<p>Realization:: \nwhenever the datasource is in manual save mode you have to call  </p>\n\n<blockquote>\n  <p>datasource.saveChanges();</p>\n</blockquote>\n\n<p>every time you want to save something. I have added </p>\n\n<pre><code>app.datasources.DataSourceName.item.DateValue = Date.now().toString();\napp.datasources.DataSourceName.saveChanges(); \n</code></pre>\n\n<p>in my client script. Solved the problem. \nN.B. - I have added toString() because I wanted to save my TimeStamp value as a string.</p>\n"}], "owner": {"reputation": 212, "user_id": 9427149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85fbaf79860f417723fba1997481adf0?s=128&d=identicon&r=PG&f=1", "display_name": "rrrrrrrrr", "link": "https://stackoverflow.com/users/9427149/rrrrrrrrr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 2, "answer_count": 1, "score": 1, "last_activity_date": 1572469161, "creation_date": 1572464250, "last_edit_date": 1572468702, "question_id": 58632538, "link": "https://stackoverflow.com/questions/58632538/whats-the-way-to-get-timestamp-in-google-app-maker", "title": "what&#39;s the way to get Timestamp in Google App maker?", "body": "<p>I have a form. User fill up the form. which saves the data and send email. The datasource is in manual save mode. I was trying to save timestamp when the user use the form &amp; send email. Then sort the data using the Timestamp field. I have a number field called Timestamp.(Tried using date field too) I'm saving the data as </p>\n\n<pre><code>OnBeforeSave :: record.Timestamp = Date.now();\n</code></pre>\n\n<p>But It's not saving the time. I'm not getting any error, but when I try to see it in table of data. The field is empty.  what am I doing wrong??<br>\nLet me know If you need anything else. </p>\n"}, {"tags": ["javascript", "node.js", "aws-lambda", "axios"], "comments": [{"owner": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 0, "creation_date": 1572467551, "post_id": 58632467, "comment_id": 103573393, "body": "What happens if you take the <code>.then</code> and <code>.catch</code> continuations out of your <code>await</code>?  Which error handler is logging that message?  You&#39;re already awaiting the axios call, let the catch handler get the error and report what might be wrong."}, {"owner": {"reputation": 4433, "user_id": 10795348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e854668f7e109c734e6e82ce75b0d1?s=128&d=identicon&r=PG&f=1", "display_name": "Red Baron", "link": "https://stackoverflow.com/users/10795348/red-baron"}, "reply_to_user": {"reputation": 38170, "user_id": 57135, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/S9roh.jpg?s=128&g=1", "display_name": "Joe", "link": "https://stackoverflow.com/users/57135/joe"}, "edited": false, "score": 0, "creation_date": 1572508276, "post_id": 58632467, "comment_id": 103583653, "body": "@Joe still no success. I have ran the function locally and it works. I&#39;ve also commented out the axios part and ran the lamba and it works fine. so something going on in the lambda that doesn&#39;t like in axios but it makes no sense :/ jenkins might be rejecting it"}], "answers": [{"comments": [{"owner": {"reputation": 4433, "user_id": 10795348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e854668f7e109c734e6e82ce75b0d1?s=128&d=identicon&r=PG&f=1", "display_name": "Red Baron", "link": "https://stackoverflow.com/users/10795348/red-baron"}, "edited": false, "score": 0, "creation_date": 1572468785, "post_id": 58633326, "comment_id": 103573949, "body": "hmm still not working :/ and nothing helpful in cloudwatch logs"}, {"owner": {"reputation": 4433, "user_id": 10795348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e854668f7e109c734e6e82ce75b0d1?s=128&d=identicon&r=PG&f=1", "display_name": "Red Baron", "link": "https://stackoverflow.com/users/10795348/red-baron"}, "edited": false, "score": 0, "creation_date": 1572469400, "post_id": 58633326, "comment_id": 103574202, "body": "also fyi, i have just taken this function out of lambda and ran locally and it behaves as expected so what is lambda doing wrong :/"}], "tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": false, "score": 1, "last_activity_date": 1572468031, "creation_date": 1572468031, "answer_id": 58633326, "question_id": 58632467, "link": "https://stackoverflow.com/questions/58632467/how-to-convert-a-curl-request-into-an-axios-request/58633326#58633326", "title": "How to convert a CURL request into an axios request?", "body": "<p>You have a few issues:</p>\n\n<ol>\n<li>In your <code>.then(...)</code> handler, you are doing a console log, but you aren't <em>returning</em> anything from that function. Therefore, <code>res</code> is going to be <code>undefined</code>.</li>\n<li>You're doing a <code>JSON.stringify</code> on <code>res</code>. <code>res</code> would be an <em>axios response</em>, not the response body. Stringifying the axios response is a bad idea, because it contains hefty object references and also circular references. You want <code>res.data</code> to give you the response data.</li>\n<li>The error returned from Axios may also contain these heavy objects and circular references. In my experience, you can actually crash node when trying to serialize responses and errors from axios.</li>\n</ol>\n\n<p>Here's how I'd modify your function:</p>\n\n<pre><code>const axios = require('axios')\n\nexports.handler = async (event) =&gt; {\n  const url = \"my-url\";\n  try {\n    const res = await axios.post(url, {}, {\n      auth: {\n        username: 'user',\n        password: 'passowrd'\n      },\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\",\n        \"Jenkins-Crumb\": \"my-crumb\"\n      },\n    });\n\n    return {\n      statusCode: 200,\n      body: JSON.stringify(res.data)\n    }\n  } catch (e) {\n    console.log(e)\n    return {\n      statusCode: 400,\n      // Don't do JSON.stringify(e). \n      // e.response.data will be the axios response body,\n      // but e.response may be undefined if the error isn't an HTTP error\n      body: e.stack\n    }\n  }\n};\n</code></pre>\n"}], "owner": {"reputation": 4433, "user_id": 10795348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56e854668f7e109c734e6e82ce75b0d1?s=128&d=identicon&r=PG&f=1", "display_name": "Red Baron", "link": "https://stackoverflow.com/users/10795348/red-baron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 713, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572468031, "creation_date": 1572463884, "last_edit_date": 1572467675, "question_id": 58632467, "link": "https://stackoverflow.com/questions/58632467/how-to-convert-a-curl-request-into-an-axios-request", "title": "How to convert a CURL request into an axios request?", "body": "<p>I just successfully curled here: </p>\n\n<pre><code>curl -X POST https://jenkins-url/job/MyJob/job/some-job/job/master/build --user myemail:mypassword -H 'Jenkins-Crumb: mycrumb'\n</code></pre>\n\n<p>now I want to use axios inside my lambda</p>\n\n<p>so I have this:</p>\n\n<pre><code>const axios = require('axios')\nexports.handler = async (event) =&gt; {\n      const url = \"my-url\";\n      try {\n        const res = await axios.post(url, {}, {\n            auth: {\n              username: 'user',\n              password: 'passowrd'\n            },\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\",\n                \"Jenkins-Crumb\": \"my-crumb\"\n            },\n          }).then(function(response) {\n            console.log('Authenticated');\n          }).catch(function(error) {\n            console.log('Error on Authentication');\n          });\n        console.log(res)\n        return {\n            statusCode: 200,\n            body: JSON.stringify(res)\n        }\n    } catch (e) {\n        console.log(e)\n        return {\n            statusCode: 400,\n            body: JSON.stringify(e)\n        }\n    }\n};\n</code></pre>\n\n<p>but when I trigger the lambda it returns with: <code>failed with the error \"Request completed but is not OK\"</code></p>\n\n<p>not sure if I'm doing something wrong somewhere but seems to be everything is correctly mapped from CURL to axios</p>\n"}, {"tags": ["javascript", "iframe"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 12299408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA-wdrRIKTbi3ghWGNYP10mOitGxximzcsQnv3A=k-s128", "display_name": "Bikers QRCode", "link": "https://stackoverflow.com/users/12299408/bikers-qrcode"}, "edited": false, "score": 0, "creation_date": 1572468201, "post_id": 58633152, "comment_id": 103573679, "body": "so this is what i added, perhaps incorrectly, as i am now getting 404 error"}, {"owner": {"reputation": 3, "user_id": 12299408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA-wdrRIKTbi3ghWGNYP10mOitGxximzcsQnv3A=k-s128", "display_name": "Bikers QRCode", "link": "https://stackoverflow.com/users/12299408/bikers-qrcode"}, "edited": false, "score": 0, "creation_date": 1572468207, "post_id": 58633152, "comment_id": 103573686, "body": "&lt;script type=&quot;text/javascript&quot; language=&quot;javascript&quot;&gt; document.getElementsByTagName(&quot;iframe&quot;)[0].src = &quot;yourvarname&quot;; var url_string = window.location.href; //window.location.href     var url = new URL(url_string);     var c = url.searchParams.get(&quot;yourvarname&quot;);     var d = url.searchParams.get(&quot;key&quot;);     document.getElementById(&quot;yourvarname&quot;).value = document.getElementsByTagName(&quot;iframe&quot;).src = c;     document.getElementById(&quot;key&quot;).value = d; \t&lt;/script&gt;"}, {"owner": {"reputation": 45496, "user_id": 436560, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2GESV.jpg?s=128&g=1", "display_name": "Lajos Arpad", "link": "https://stackoverflow.com/users/436560/lajos-arpad"}, "reply_to_user": {"reputation": 3, "user_id": 12299408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA-wdrRIKTbi3ghWGNYP10mOitGxximzcsQnv3A=k-s128", "display_name": "Bikers QRCode", "link": "https://stackoverflow.com/users/12299408/bikers-qrcode"}, "edited": false, "score": 0, "creation_date": 1572470631, "post_id": 58633152, "comment_id": 103574642, "body": "@BikersQRCode do you have errors in the browser console?"}], "tags": [], "owner": {"reputation": 45496, "user_id": 436560, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/2GESV.jpg?s=128&g=1", "display_name": "Lajos Arpad", "link": "https://stackoverflow.com/users/436560/lajos-arpad"}, "is_accepted": true, "score": 0, "last_activity_date": 1572467186, "creation_date": 1572467186, "answer_id": 58633152, "question_id": 58632463, "link": "https://stackoverflow.com/questions/58632463/php-use-string-as-source-for-iframe/58633152#58633152", "title": "PHP: use String as Source for Iframe", "body": "<p>Let's start with basic information. In Javascript you can get your <code>iframe</code>s like this:</p>\n\n<pre><code>document.getElementsByTagName(\"iframe\")\n</code></pre>\n\n<p>Since you have a single <code>iframe</code>, you can get it like this:</p>\n\n<pre><code>document.getElementsByTagName(\"iframe\")[0]\n</code></pre>\n\n<p>but it would potentially save you from trouble to give an <code>id</code> to this tag. Let's define the <code>src</code> of your <code>iframe</code></p>\n\n<pre><code>document.getElementsByTagName(\"iframe\")[0].src = \"somevalue\";\n</code></pre>\n\n<p>Okay, let's apply this in your script:</p>\n\n<pre><code>var url_string = window.location.href; //window.location.href\n    var url = new URL(url_string);\n    var c = url.searchParams.get(\"yourvarname\");\n    var d = url.searchParams.get(\"key\");\n    document.getElementById(\"yourvarname\").value = document.getElementsByTagName(\"iframe\").src = c;\n    document.getElementById(\"key\").value = d;\n</code></pre>\n\n<p>However, if you want it to change when the <code>input</code> changes, then you will need to define a <code>change</code> event for it.</p>\n"}, {"tags": [], "owner": {"reputation": 3, "user_id": 12299408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA-wdrRIKTbi3ghWGNYP10mOitGxximzcsQnv3A=k-s128", "display_name": "Bikers QRCode", "link": "https://stackoverflow.com/users/12299408/bikers-qrcode"}, "is_accepted": false, "score": 0, "last_activity_date": 1572468424, "creation_date": 1572468424, "answer_id": 58633416, "question_id": 58632463, "link": "https://stackoverflow.com/questions/58632463/php-use-string-as-source-for-iframe/58633416#58633416", "title": "PHP: use String as Source for Iframe", "body": "<p>so this is what i added, perhaps incorrectly, as i am now getting 404 error and nothing is displayed</p>\n\n<pre><code>&lt;script type=\"text/javascript\" language=\"javascript\"&gt;\ndocument.getElementsByTagName(\"iframe\")[0].src = \"yourvarname\";\nvar url_string = window.location.href; //window.location.href\n    var url = new URL(url_string);\n    var c = url.searchParams.get(\"yourvarname\");\n    var d = url.searchParams.get(\"key\");\n    document.getElementById(\"yourvarname\").value = document.getElementsByTagName(\"iframe\").src = c;\n    document.getElementById(\"key\").value = d;\n    &lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 12299408, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mA-wdrRIKTbi3ghWGNYP10mOitGxximzcsQnv3A=k-s128", "display_name": "Bikers QRCode", "link": "https://stackoverflow.com/users/12299408/bikers-qrcode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 58633152, "answer_count": 2, "score": 0, "last_activity_date": 1572468424, "creation_date": 1572463844, "last_edit_date": 1572467257, "question_id": 58632463, "link": "https://stackoverflow.com/questions/58632463/php-use-string-as-source-for-iframe", "title": "PHP: use String as Source for Iframe", "body": "<p>I have a custom Wordpress page, with 2 text <code>input</code> boxes, one for \"yourvarname\" and the other for \"key\"and an <code>iframe</code> displaying a google document. </p>\n\n<p>Both these Text boxes are populated from variables obtained from the url. This works fine.</p>\n\n<p>What I would like to do:\nHave the <code>iframe</code> display the document as named in the textbox, yourvarname.</p>\n\n<p>this is what I have so far</p>\n\n<pre><code>    &lt;?php /* Template Name: CustomPageT1 */ ?&gt;\n\n&lt;p&gt;&lt;input id=\"yourvarname\" type=\"text\" value=\"\" /&gt; &lt;input id=\"key\" type=\"text\" value=\"\" /&gt;\n&lt;script type=\"text/javascript\"&gt;// &lt;![CDATA[\nvar url_string = window.location.href; //window.location.href\n    var url = new URL(url_string);\n    var c = url.searchParams.get(\"yourvarname\");\n    var d = url.searchParams.get(\"key\");\n    document.getElementById(\"yourvarname\").value = c;\n    document.getElementById(\"key\").value = d;\n// ]]&gt;&lt;/script&gt;\n&lt;/p&gt;\n\n&lt;iframe src=\"https://docs.google.com/document/d/e/2PACX-1vTCJM2gUN4_aesXjEB7XtKWu0dB8anwWkjgolj1zRLU2aJieScUXF6WXzMbjYXs7g/pub?embedded=true\"\nwidth=\"110%\"\nheight=\"500\" \nclass=\"myIframe\"&gt;\n&lt;p&gt;Hi SOF&lt;/p&gt;\n&lt;/iframe&gt;\n\n&lt;script type=\"text/javascript\" language=\"javascript\"&gt; \n$('.myIframe').css('height', $(window).height()+'px');\n&lt;/script&gt;\"\n\n&lt;script type=\"text/javascript\" language=\"javascript\"&gt;\nglobal $wp_query;\nif (isset($wp_query-&gt;query_vars['yourvarname']))\n{\nprint $wp_query-&gt;query_vars['yourvarname'];\n}\n&lt;/script&gt;\n\nenter code here\n</code></pre>\n"}, {"tags": ["javascript", "ember.js", "promise"], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 6268045, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/N161p.jpg?s=128&g=1", "display_name": "DjangoBlockchain", "link": "https://stackoverflow.com/users/6268045/djangoblockchain"}, "edited": false, "score": 0, "creation_date": 1572540363, "post_id": 58647306, "comment_id": 103600674, "body": "My fix was similar to that, thank you for the suggestion! I will add what I did to fix it."}], "tags": [], "owner": {"reputation": 1280, "user_id": 1536773, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/627b24ac9fdb1ad6e01c141f80a591f7?s=128&d=identicon&r=PG", "display_name": "stevenelberger", "link": "https://stackoverflow.com/users/1536773/stevenelberger"}, "is_accepted": false, "score": 1, "last_activity_date": 1572538096, "creation_date": 1572538096, "answer_id": 58647306, "question_id": 58632445, "link": "https://stackoverflow.com/questions/58632445/return-promises-from-ember-2-16-component-integration-tests-mocked-action/58647306#58647306", "title": "Return promises from Ember 2.16 Component Integration Tests Mocked action", "body": "<p>You can stub your call to <code>sendAction</code> like so in your integration test:</p>\n\n<pre><code>test('', function(assert) {\n  this.sendAction = () =&gt; RSVP.resolve(true);\n\n  this.render(hbs`{{some-component sendAction=sendAction}}`);\n});\n</code></pre>\n\n<p>This will return a promise as your code expects.</p>\n\n<p>I recommend using the <a href=\"https://api.emberjs.com/ember/release/classes/rsvp/methods\" rel=\"nofollow noreferrer\">RSVP</a> library in cases where you need to use promises.</p>\n"}, {"tags": [], "owner": {"reputation": 404, "user_id": 6268045, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/N161p.jpg?s=128&g=1", "display_name": "DjangoBlockchain", "link": "https://stackoverflow.com/users/6268045/djangoblockchain"}, "is_accepted": false, "score": 0, "last_activity_date": 1572540389, "creation_date": 1572540389, "answer_id": 58647893, "question_id": 58632445, "link": "https://stackoverflow.com/questions/58632445/return-promises-from-ember-2-16-component-integration-tests-mocked-action/58647893#58647893", "title": "Return promises from Ember 2.16 Component Integration Tests Mocked action", "body": "<p>It turns out I was returning the promise incorrectly.</p>\n\n<pre><code>return new Promise((reject) =&gt; {\n  reject(true);\n});\n</code></pre>\n\n<p>Was able to return the promise as \"rejected\". </p>\n"}], "owner": {"reputation": 404, "user_id": 6268045, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/N161p.jpg?s=128&g=1", "display_name": "DjangoBlockchain", "link": "https://stackoverflow.com/users/6268045/djangoblockchain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572540389, "creation_date": 1572463747, "question_id": 58632445, "link": "https://stackoverflow.com/questions/58632445/return-promises-from-ember-2-16-component-integration-tests-mocked-action", "title": "Return promises from Ember 2.16 Component Integration Tests Mocked action", "body": "<p>I am creating tests for my Ember 2.16 application, and running into an issue where the code is dependent on a promise being returned from an external action.</p>\n\n<pre><code>const promise = this.sendAction('action')\npromise.then(() =&gt; {\n  //do stuff\n});\n</code></pre>\n\n<p>A majority of my code is based in these .then and .catch conditionals on the promise, so I want to be able to return a promise that was successful and that failed. I have heard of Sinon, but unfortunately it is only for Ember 3.4 and above. </p>\n\n<pre><code>test('', function(assert){\n  this.set('action', () =&gt; {\n    // do assertions\n    return new Promise(() =&gt; {return true} );\n  });\n});\n</code></pre>\n\n<p>Inside my integration test I am able to mock out the action, but I run into the \"promise\" being undefined. I have attempted to return Text, or other values, but when putting a debugger into the component the promise is always undefined.</p>\n\n<p>I can get around this by adding a conditional that checks to see if there is a promise, but since the majority of my code is inside these <code>.then</code> and <code>.catch</code>conditionals I want my tests to step through these to increase the code coverage.</p>\n\n<p>How would I return a promise from a mocked out action in an Integration Test?</p>\n"}, {"tags": ["javascript", "string", "frequency"], "answers": [{"comments": [{"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 1, "creation_date": 1572464161, "post_id": 58632458, "comment_id": 103572062, "body": "I&#39;d say <code>Map</code> &quot;should&quot; be used, not &quot;can&quot;. The object version is fragile, e.g. <code>countFrequences(&quot;lego constructor&quot;)</code>"}, {"owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "reply_to_user": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1572464274, "post_id": 58632458, "comment_id": 103572119, "body": "That&#39;s right @georg. Didn&#39;t expect it to break that way. I&#39;ll edit the answer."}], "tags": [], "owner": {"reputation": 5947, "user_id": 2924577, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/c499286ca761a5b21f3744ca229dffb0?s=128&d=identicon&r=PG&f=1", "display_name": "Nikhil", "link": "https://stackoverflow.com/users/2924577/nikhil"}, "is_accepted": false, "score": 2, "last_activity_date": 1572464806, "last_edit_date": 1572464806, "creation_date": 1572463821, "answer_id": 58632458, "question_id": 58632405, "link": "https://stackoverflow.com/questions/58632405/how-to-count-the-frequencies-of-a-word-in-a-string/58632458#58632458", "title": "How to Count the Frequencies of a Word in a String", "body": "<p>You can create a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\">Map</a> to keep track of the count of each word.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function calcFrequencies(s) {\r\n  let count = new Map();\r\n  var words = s.split(\" \");\r\n\r\n  words.forEach(word =&gt; {\r\n    let c = count.get(word) || 0;  \r\n    c++;  \r\n    count.set(word, c);\r\n  });\r\n\r\n  return count;\r\n}\r\n\r\nlet result = calcFrequencies(\"Mark cow mark cow the\");\r\n\r\nfor (let [key, value] of result.entries()) {\r\n  console.log(key + \": \" + value);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 21, "user_id": 12299392, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2df5fb4bd21f4769ac822cd9949aca12?s=128&d=identicon&r=PG&f=1", "display_name": "Trobosko", "link": "https://stackoverflow.com/users/12299392/trobosko"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1572464213, "answer_count": 1, "score": 0, "last_activity_date": 1572464806, "creation_date": 1572463578, "question_id": 58632405, "link": "https://stackoverflow.com/questions/58632405/how-to-count-the-frequencies-of-a-word-in-a-string", "closed_reason": "Duplicate", "title": "How to Count the Frequencies of a Word in a String", "body": "<p>I need to write a function that counts the frequencies of each word in the string in the given parameter of a function. I was wondering, what is the best way to do this?</p>\n\n<p>For example, if the string in the parameter was \"Mark cow mark cow the\"\nThe count for each word would be:   </p>\n\n<p>Mark: 1<br>\nmark: 1<br>\ncow: 2<br>\nthe: 1  </p>\n\n<p>My function:</p>\n\n<pre><code>function calcFrequencies(s){\n   var a = [], b = [], prev;\n   var words = s.split(\" \");\n    for ( var i = 0; i &lt; words.length; i++ ) {\n    }\n}\n</code></pre>\n\n<p>Just to clarify, I am okay with whatever solution you come up with, I just figured it probably could involve splitting and looping through arrays, I just can't seem to figure it out.</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "asynchronous"], "comments": [{"owner": {"reputation": 510, "user_id": 8833196, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0134ed1fe03621d083acf928a94fec19?s=128&d=identicon&r=PG&f=1", "display_name": "adam tropp", "link": "https://stackoverflow.com/users/8833196/adam-tropp"}, "edited": false, "score": 0, "creation_date": 1572463797, "post_id": 58632360, "comment_id": 103571914, "body": "This would be hard to answer without more info. Try providing the full stack trace for the error. Where is cb defined?"}], "answers": [{"tags": [], "owner": {"reputation": 10336, "user_id": 10990737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lYeEB.jpg?s=128&g=1", "display_name": "Ifaruki", "link": "https://stackoverflow.com/users/10990737/ifaruki"}, "is_accepted": false, "score": 0, "last_activity_date": 1572463901, "creation_date": 1572463901, "answer_id": 58632472, "question_id": 58632360, "link": "https://stackoverflow.com/questions/58632360/how-do-i-fix-this-async-await-function/58632472#58632472", "title": "How do I fix this async/await function?", "body": "<p>Actually you dont need <code>async</code> and <code>await</code> for this because its already an promise. Just add an <code>then</code> on the end:</p>\n\n<pre><code> mongodb.collection(\"Interview  Questions\").count().then(count =&gt; {\n console.log(\"counted: \" + count)\n })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1574706158, "post_id": 58632484, "comment_id": 104318686, "body": "@nathananderson - Did this answer your question?  If so, you can indicate that to the community here by clicking the checkmark to the left of the answer.  That will also earn you some reputation points here on stackoverflow for following the proper procedure.  If this didn&#39;t answer your question, please comment about which part of your question you&#39;re still confused about."}], "tags": [], "owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "is_accepted": false, "score": 0, "last_activity_date": 1572463954, "creation_date": 1572463954, "answer_id": 58632484, "question_id": 58632360, "link": "https://stackoverflow.com/questions/58632360/how-do-i-fix-this-async-await-function/58632484#58632484", "title": "How do I fix this async/await function?", "body": "<p><code>documentCount()</code> is an <code>async</code> function.  As such, it returns a promise.  All <code>async</code> functions return a promise.  So, the way you get a value out of a promise is the same as with any promise.  You use <code>.then()</code> or <code>await</code> on it.  So, in <code>getFlashCard()</code>, you could do something like this:</p>\n\n<pre><code>getFlashCard : function(colName, flashID, callback) {\n\n    documentCount().then(docCount =&gt; {\n        console.log(docCount);\n    }).catch(err =&gt; {\n        console.error(err);\n    });\n}\n</code></pre>\n\n<p>This assumes that you're using your <code>mongodb.collection().count()</code> properly and that it returns a promise.  If that's not the case, then you will also have to fix that (I don't personally know mongodb).</p>\n\n<p>FYI, it appears you created <code>documentCount()</code> hoping to turn an asynchronous value into a synchronous value.  You can't do that in Javascript.  While <code>await</code> suspends execution within a function and lets you appear to write more synchronous looking code for asynchronous operations, it doesn't work across a function boundary.  You cannot change an asynchronous value into a synchronous value in Javascript.  So, anyone who wants to use the <code>docCount</code> value will have to deal with it asynchronously as I've shown above in <code>getFlashCard()</code>.</p>\n"}], "owner": {"reputation": 75, "user_id": 12178746, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBm3Q2kaILhJVHRuk6QOgYpd5gA9QJbQ7XgEO-u=k-s128", "display_name": "Nathan Anderson", "link": "https://stackoverflow.com/users/12178746/nathan-anderson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1572463954, "creation_date": 1572463300, "question_id": 58632360, "link": "https://stackoverflow.com/questions/58632360/how-do-i-fix-this-async-await-function", "title": "How do I fix this async/await function?", "body": "<p>I am trying to get the number of documents in my mongodb collection using async and await. When I run this piece of code I get \"TypeError: cb is not a function\".</p>\n\n<p>I have tried using promises to get this to work, however I am still inexperienced with this topic and I am still learning how to work with promises. </p>\n\n<p>Here is the call</p>\n\n<pre><code>  getFlashCard : function(colName, flashID, callback) {\n\n    var docCount = documentCount();\n\n    console.log(docCount);\n   }\n</code></pre>\n\n<p>Here is the function</p>\n\n<pre><code> async function documentCount() {\n     const count = await mongodb.collection(\"Interview  Questions\").count();              \n     return count;\n   }\n</code></pre>\n\n<p>I am getting an error that says \" cb(err, val)\n    ^</p>\n\n<p>TypeError: cb is not a function\n    at runInAsyncScope\n\"</p>\n"}, {"tags": ["javascript", "jquery", "json", "rest"], "comments": [{"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 0, "creation_date": 1572463640, "post_id": 58632330, "comment_id": 103571836, "body": "What error are you getting? What is the value of click_text[0] ?"}], "owner": {"reputation": 95, "user_id": 12220576, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/328d2575e9e6eaa78d6feae456c32d47?s=128&d=identicon&r=PG&f=1", "display_name": "loveCoding", "link": "https://stackoverflow.com/users/12220576/lovecoding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1572507996, "creation_date": 1572463155, "last_edit_date": 1572507996, "question_id": 58632330, "link": "https://stackoverflow.com/questions/58632330/how-to-validate-if-record-does-not-found-or-mis-match-than-display-error", "title": "How to validate if record does not found or mis match than display error?", "body": "<p>My code for live search is working perfectly but I am not able to display error when my record is not matched. Please help me. Thanks<br>\nHere is my jquery code. </p>\n\n<pre><code>    $(document).ready(function(){\n      $.ajaxSetup({ cache: false });\n      $('#searchName').keyup(function(){\n       $('#result').html('');\n       $('#state').val('');\n       var searchField = $('#searchName').val();\n       var expression = new RegExp(searchField, \"i\");\n       $.getJSON('result.json', function(data) {\n        $.each(data, function(key, value){\n         if (value.name.search(expression) != -1)\n         {\n          $('#result').append('&lt;li class=\"list-group-item link-class\"&gt;&lt;img src=\"'+value.image+'\" height=\"40\" width=\"40\" class=\"img-thumbnail\" /&gt; '+value.name+' | &lt;span class=\"text-muted\"&gt;'+value.city+'&lt;/span&gt;&lt;/li&gt;');\n         }\n         else\n         {\n             $('#error').html('&lt;p&gt; Error &lt;/p&gt;');\n         }\n        });   \n       });\n      });\n\n      $('#result').on('click', 'li', function() {\n       var click_text = $(this).text().split('|');\n       $('#searchName').val($.trim(click_text[0]));\n       $(\"#result\").html('');\n      });\n     });\n\nMy index.html file\n    &lt;form method=\"GET\"&gt;\n    &lt;input type=\"text\" id=\"searchName\" class=\"form-control\" placeholder=\"Lorem name\"&gt;\n    &lt;button  class=\"search-icon\"&gt;&lt;img src=\"images/search-icon.svg\" alt=\"submit\"&gt;&lt;/button&gt;\n    &lt;/form&gt;\n&lt;ul class=\"list-group\" id=\"result\"&gt;&lt;/ul&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "variables", "live"], "comments": [{"owner": {"reputation": 1702, "user_id": 248972, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/270602dd1da4e682cad4df851dcc6ef8?s=128&d=identicon&r=PG", "display_name": "MrGrigg", "link": "https://stackoverflow.com/users/248972/mrgrigg"}, "edited": false, "score": 0, "creation_date": 1572464148, "post_id": 58632323, "comment_id": 103572059, "body": "You could try using something like <a href=\"https://www.npmjs.com/package/nodemon\" rel=\"nofollow noreferrer\">npmjs.com/package/nodemon</a> or even <a href=\"https://expressjs.com/but\" rel=\"nofollow noreferrer\">expressjs.com/but</a> the hope of having the browser run the code without refreshing the browser will take something like HMR, as suggested by @timotgl"}], "answers": [{"tags": [], "owner": {"reputation": 1281, "user_id": 6367424, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2w16e.jpg?s=128&g=1", "display_name": "timotgl", "link": "https://stackoverflow.com/users/6367424/timotgl"}, "is_accepted": false, "score": 1, "last_activity_date": 1572463739, "creation_date": 1572463739, "answer_id": 58632441, "question_id": 58632323, "link": "https://stackoverflow.com/questions/58632323/is-it-possible-to-get-the-a-javascript-variable-from-another-file-live/58632441#58632441", "title": "Is it possible to get the a javascript variable from another file live?", "body": "<p>It's possible but requires significant effort. \"Hot Module Replacement\" is your google keyword, as this is often done to ease the development of single page JS apps by automatically reloading the page or parts of it.</p>\n\n<p>You would need to have a process running on your machine that watches the local file system for changes to a source code file. Then the web page needs to include a script that continuously checks (by talking to a locally running web server) if said source code file has been changed. If it has been changed, a script tag has to be inserted into the DOM that loads the updated source file. There's probably more details involved, but this is the gist of it.</p>\n\n<p>Btw it's not good practice to assign variables without using the <code>var</code>, <code>let</code>, or <code>const</code> keywords.</p>\n"}], "owner": {"reputation": 160, "user_id": 5982987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/--X1re3O23sI/AAAAAAAAAAI/AAAAAAAABDc/1sP6jlBWyEE/photo.jpg?sz=128", "display_name": "Bryson Noble", "link": "https://stackoverflow.com/users/5982987/bryson-noble"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572465527, "creation_date": 1572463137, "question_id": 58632323, "link": "https://stackoverflow.com/questions/58632323/is-it-possible-to-get-the-a-javascript-variable-from-another-file-live", "title": "Is it possible to get the a javascript variable from another file live?", "body": "<p>I am trying to make a system where I change a variable on one file, and it shows up on another without refreshing. Is this even possible?</p>\n\n<p><strong>FILE 1 (javascript):</strong></p>\n\n<pre><code>testVar = \"hi\"\n</code></pre>\n\n<p><strong>FILE 2 (html):</strong></p>\n\n<pre><code>&lt;head&gt;\n    &lt;script type=\"text/javascript\" src=\"file1.js\"&gt;&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;button onclick=\"test()\"&gt;click&lt;/button&gt;\n    &lt;script&gt;\n        function test(){\n            alert(testVar);\n        }\n    &lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>I would like to be able to change \"hi\" to \"bye\" in File 1 and have File 2 alert the new message (bye) without needing to refresh.</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 104, "user_id": 11424374, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jPZgWXY9EBw/AAAAAAAAAAI/AAAAAAAAADs/go04hoz2IFo/photo.jpg?sz=128", "display_name": "MaisyDoge13", "link": "https://stackoverflow.com/users/11424374/maisydoge13"}, "edited": false, "score": 0, "creation_date": 1572465575, "post_id": 58632559, "comment_id": 103572663, "body": "I tried changing the code to wrapping the export default class App to withAlert()(App) and defining App with class App extends React.Component ({ alert }) =&gt; {, and that gives a syntax error. I am not sure how to define app so that alert is given. Again, the docs wraps App and then it is a function based component"}, {"owner": {"reputation": 510, "user_id": 8833196, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0134ed1fe03621d083acf928a94fec19?s=128&d=identicon&r=PG&f=1", "display_name": "adam tropp", "link": "https://stackoverflow.com/users/8833196/adam-tropp"}, "reply_to_user": {"reputation": 104, "user_id": 11424374, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jPZgWXY9EBw/AAAAAAAAAAI/AAAAAAAAADs/go04hoz2IFo/photo.jpg?sz=128", "display_name": "MaisyDoge13", "link": "https://stackoverflow.com/users/11424374/maisydoge13"}, "edited": false, "score": 0, "creation_date": 1572465764, "post_id": 58632559, "comment_id": 103572731, "body": "Can you edit your question to show what it looks like now? As long as you are not using the hook you should be fine using a class component. Nothing about the implementation has to change, you just can&#39;t use the hook inside a class component"}, {"owner": {"reputation": 510, "user_id": 8833196, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0134ed1fe03621d083acf928a94fec19?s=128&d=identicon&r=PG&f=1", "display_name": "adam tropp", "link": "https://stackoverflow.com/users/8833196/adam-tropp"}, "reply_to_user": {"reputation": 104, "user_id": 11424374, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jPZgWXY9EBw/AAAAAAAAAAI/AAAAAAAAADs/go04hoz2IFo/photo.jpg?sz=128", "display_name": "MaisyDoge13", "link": "https://stackoverflow.com/users/11424374/maisydoge13"}, "edited": false, "score": 0, "creation_date": 1572465849, "post_id": 58632559, "comment_id": 103572762, "body": "The syntax error is the arrow. Don&#39;t use the arrow function when declaring a class component"}, {"owner": {"reputation": 104, "user_id": 11424374, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jPZgWXY9EBw/AAAAAAAAAAI/AAAAAAAAADs/go04hoz2IFo/photo.jpg?sz=128", "display_name": "MaisyDoge13", "link": "https://stackoverflow.com/users/11424374/maisydoge13"}, "edited": false, "score": 0, "creation_date": 1572467007, "post_id": 58632559, "comment_id": 103573200, "body": "Still unclear on what to change to get it to work, I erased the changes I made to the declaration of class App to remove the syntax error, but then alert is undefined"}, {"owner": {"reputation": 510, "user_id": 8833196, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0134ed1fe03621d083acf928a94fec19?s=128&d=identicon&r=PG&f=1", "display_name": "adam tropp", "link": "https://stackoverflow.com/users/8833196/adam-tropp"}, "reply_to_user": {"reputation": 104, "user_id": 11424374, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jPZgWXY9EBw/AAAAAAAAAAI/AAAAAAAAADs/go04hoz2IFo/photo.jpg?sz=128", "display_name": "MaisyDoge13", "link": "https://stackoverflow.com/users/11424374/maisydoge13"}, "edited": false, "score": 0, "creation_date": 1572467084, "post_id": 58632559, "comment_id": 103573227, "body": "Without seeing your whole app component, the way it is now, I cannot tell you what you need to change"}, {"owner": {"reputation": 104, "user_id": 11424374, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jPZgWXY9EBw/AAAAAAAAAAI/AAAAAAAAADs/go04hoz2IFo/photo.jpg?sz=128", "display_name": "MaisyDoge13", "link": "https://stackoverflow.com/users/11424374/maisydoge13"}, "edited": false, "score": 0, "creation_date": 1572468542, "post_id": 58632559, "comment_id": 103573828, "body": "Thanks for the solution, I used the alert as a props on the function!"}], "tags": [], "owner": {"reputation": 510, "user_id": 8833196, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/0134ed1fe03621d083acf928a94fec19?s=128&d=identicon&r=PG&f=1", "display_name": "adam tropp", "link": "https://stackoverflow.com/users/8833196/adam-tropp"}, "is_accepted": true, "score": 1, "last_activity_date": 1572468060, "last_edit_date": 1572468060, "creation_date": 1572464385, "answer_id": 58632559, "question_id": 58632295, "link": "https://stackoverflow.com/questions/58632295/how-to-throw-a-react-alert-inside-of-a-function-in-a-class-based-component/58632559#58632559", "title": "how to throw a react-alert inside of a function in a class based component", "body": "<p>From <a href=\"https://github.com/schiehll/react-alert\" rel=\"nofollow noreferrer\">their docs</a>, it says you can use it with a higher order-component. So, if you \nimport the withAlert module from react-alert, you can wrap your component when you export it. Again, check the docs on github, this is covered.</p>\n\n<p>Converting the example from the docs to a class component, you get: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import React from 'react'\r\nimport { withAlert } from 'react-alert'\r\n\r\nclass App extends React.component {\r\n   constructor(props) {\r\n    super(props);\r\n  }\r\n  render { \r\n  return (\r\n  &lt;button\r\n    onClick={() =&gt; {\r\n      this.props.alert.show('Oh look, an alert!')\r\n    }}\r\n  &gt;\r\n    Show Alert\r\n  &lt;/button&gt;\r\n  )\r\n }\r\n}\r\n\r\nexport default withAlert()(App)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Because you wrap the component in the <a href=\"https://reactjs.org/docs/higher-order-components.html\" rel=\"nofollow noreferrer\">HOC</a>, you get access to the <em>alert</em> prop.</p>\n"}], "owner": {"reputation": 104, "user_id": 11424374, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-jPZgWXY9EBw/AAAAAAAAAAI/AAAAAAAAADs/go04hoz2IFo/photo.jpg?sz=128", "display_name": "MaisyDoge13", "link": "https://stackoverflow.com/users/11424374/maisydoge13"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1135, "favorite_count": 0, "accepted_answer_id": 58632559, "answer_count": 1, "score": 0, "last_activity_date": 1572468060, "creation_date": 1572462994, "last_edit_date": 1572467428, "question_id": 58632295, "link": "https://stackoverflow.com/questions/58632295/how-to-throw-a-react-alert-inside-of-a-function-in-a-class-based-component", "title": "how to throw a react-alert inside of a function in a class based component", "body": "<p>Using react-alert module for alerts\nMy code looks like this -\nindex.js:</p>\n\n<pre><code>const options = {\n    // you can also just use 'bottom center'\n    position: positions.TOP_CENTER,\n    timeout: 5000,\n    offset: '30px',\n    type: types.ERROR,\n    // you can also just use 'scale'\n    transition: transitions.FADE\n  }\nReactDOM.render(&lt;AlertProvider template={AlertTemplate} {...options}&gt;\n    &lt;App /&gt;&lt;/AlertProvider&gt;, document.getElementById('root'));\n</code></pre>\n\n<p>App.js</p>\n\n<pre><code>class App extends React.Component { //then my state, functions, constructors,\n//here is the problem\nnextClicked = (e) =&gt; {\n    if (//something) {\n      if (//something) {\n\n      const alert = useAlert();\n      alert.show(\"ERROR MESSAGE!!!\");\n  }\n} // etc\nexport default withAlert()(App)\n</code></pre>\n\n<p>Basically, I am getting the error\nInvalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee <a href=\"https://reactjs.org/warnings/invalid-hook-call-warning.html\" rel=\"nofollow noreferrer\">https://reactjs.org/warnings/invalid-hook-call-warning.html</a> for tips about how to debug and fix this problem.</p>\n"}, {"tags": ["javascript", "firebase", "google-cloud-functions"], "comments": [{"owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "edited": false, "score": 0, "creation_date": 1572467155, "post_id": 58632288, "comment_id": 103573252, "body": "If you got this code from some tutorial, it is very old.  Please notify the author to update it, or take it down, as it&#39;s causing a lot of problems like this."}], "answers": [{"tags": [], "owner": {"reputation": 63626, "user_id": 7015400, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/rhlKG.jpg?s=128&g=1", "display_name": "Peter Haddad", "link": "https://stackoverflow.com/users/7015400/peter-haddad"}, "is_accepted": true, "score": 1, "last_activity_date": 1572463928, "creation_date": 1572463928, "answer_id": 58632478, "question_id": 58632288, "link": "https://stackoverflow.com/questions/58632288/firecloud-function-not-triggered/58632478#58632478", "title": "Firecloud function not triggered?", "body": "<p><code>onCreate</code> was changed to the following:</p>\n\n<pre><code>\nexports.sendPushNotification = functions.database.ref(\"contacts/\").onCreate((snap, context) =&gt; {\n  const createdData = snap.val();\n</code></pre>\n\n<p>In your case, to get the <code>root</code> do the following:</p>\n\n<pre><code>const roots = snap.ref.root\n</code></pre>\n\n<p>You can find more information here:</p>\n\n<p><a href=\"https://firebase.google.com/docs/functions/beta-v1-diff\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/functions/beta-v1-diff</a></p>\n"}], "owner": {"reputation": 115, "user_id": 9151156, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/4f3fa9c89004662529e748ebff6301cb?s=128&d=identicon&r=PG&f=1", "display_name": "Slown1970", "link": "https://stackoverflow.com/users/9151156/slown1970"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 58632478, "answer_count": 1, "score": 0, "last_activity_date": 1572496606, "creation_date": 1572462921, "last_edit_date": 1572496606, "question_id": 58632288, "link": "https://stackoverflow.com/questions/58632288/firecloud-function-not-triggered", "title": "Firecloud function not triggered?", "body": "<p>This is my function , it's not even triggered by firebase functions cloud ! i get an error message :     Error: function execution failed. Details:\nCannot read property 'ref' of undefined</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>     //send the push notification \n    exports.sendPushNotification = functions.database.ref('contacts/').onCreate(event =&gt; {\n\n      const root = event.after.ref.root\n      var messages = []\n\n      //return the main promise \n      return root.child('/users').once('value').then(function (snapshot) {\n          snapshot.forEach(function (childSnapshot) {\n\n              var expoToken = childSnapshot.val().expoToken;\n\n              messages.push({\n                  \"to\": expoToken,\n                  \"sound\": \"default\",\n                  \"body\": \"New Note Added\"\n              });\n          });\n          //firebase.database then() respved a single promise that resolves\n          //once all the messages have been resolved \n          return Promise.all(messages)\n\n      })\n          .then(messages =&gt; {\n              // console.log(messages)\n              fetch('https://exp.host/--/api/v2/push/send', {\n                  method: 'POST',\n                  headers: {\n                      'Accept': 'application/json',\n                      'Content-Type': 'application/json',\n                  },\n                  body: JSON.stringify(messages)\n\n              });\n          })\n          .catch(reason =&gt; {\n              console.log(reason)\n          })\n\n\n    });\n</code></pre>\n"}, {"tags": ["javascript", "chart.js2"], "comments": [{"owner": {"reputation": 1675, "user_id": 7375929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cCQPd.jpg?s=128&g=1", "display_name": "Tanner", "link": "https://stackoverflow.com/users/7375929/tanner"}, "edited": false, "score": 0, "creation_date": 1572463271, "post_id": 58632240, "comment_id": 103571684, "body": "Documentation: <a href=\"https://www.chartjs.org/docs/latest/charts/doughnut.html\" rel=\"nofollow noreferrer\">chartjs.org/docs/latest/charts/doughnut.html</a>"}, {"owner": {"reputation": 113, "user_id": 10067210, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216116417126876/picture?type=large", "display_name": "Adolfo Celis", "link": "https://stackoverflow.com/users/10067210/adolfo-celis"}, "reply_to_user": {"reputation": 1675, "user_id": 7375929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cCQPd.jpg?s=128&g=1", "display_name": "Tanner", "link": "https://stackoverflow.com/users/7375929/tanner"}, "edited": false, "score": 0, "creation_date": 1572463431, "post_id": 58632240, "comment_id": 103571754, "body": "In the documentation I only see the change in the background of the graph and its border, but not of its text"}, {"owner": {"reputation": 1675, "user_id": 7375929, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cCQPd.jpg?s=128&g=1", "display_name": "Tanner", "link": "https://stackoverflow.com/users/7375929/tanner"}, "edited": false, "score": 0, "creation_date": 1572467349, "post_id": 58632240, "comment_id": 103573325, "body": "What about the Fonts section? This might be more inline with what you&#39;re looking for: <a href=\"https://www.chartjs.org/docs/latest/general/fonts.html\" rel=\"nofollow noreferrer\">chartjs.org/docs/latest/general/fonts.html</a>"}, {"owner": {"reputation": 145, "user_id": 4640575, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-OeQ3dKTEI_0/AAAAAAAAAAI/AAAAAAAAADM/LFp9zLUASfg/photo.jpg?sz=128", "display_name": "JEECoder", "link": "https://stackoverflow.com/users/4640575/jeecoder"}, "edited": false, "score": 0, "creation_date": 1572468046, "post_id": 58632240, "comment_id": 103573610, "body": "Yes using the documentation in the link above , u can use the backgroundColor option in the datasets array. Set the color to whatever u like. U can also use hexcode etc. Font color can also be changed as well."}, {"owner": {"reputation": 113, "user_id": 10067210, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216116417126876/picture?type=large", "display_name": "Adolfo Celis", "link": "https://stackoverflow.com/users/10067210/adolfo-celis"}, "edited": false, "score": 0, "creation_date": 1572469997, "post_id": 58632240, "comment_id": 103574417, "body": "Use the &#39;fontColor&#39; property of the previous link and only change the color of the upper labels, but not the numbers that are on the graph"}], "answers": [{"comments": [{"owner": {"reputation": 1185, "user_id": 5554464, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/glUaO.png?s=128&g=1", "display_name": "Grabofus", "link": "https://stackoverflow.com/users/5554464/grabofus"}, "edited": false, "score": 1, "creation_date": 1572463826, "post_id": 58632409, "comment_id": 103571925, "body": "This would change the background colour, not the foreground."}], "tags": [], "owner": {"reputation": 97, "user_id": 4843477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5bd9fc308d476b37692e0a6a504a75?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Lyrio de Oliveira", "link": "https://stackoverflow.com/users/4843477/arthur-lyrio-de-oliveira"}, "is_accepted": false, "score": 0, "last_activity_date": 1572463583, "creation_date": 1572463583, "answer_id": 58632409, "question_id": 58632240, "link": "https://stackoverflow.com/questions/58632240/how-to-change-the-color-of-the-text-in-the-chart-js-chart/58632409#58632409", "title": "How to change the color of the text in the Chart.js chart", "body": "<p>Try using the library <code>patternomaly</code>.</p>\n\n<p>Example:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var ctx = document.getElementById('canvas').getContext('2d');\r\n\r\nvar chart = new Chart(ctx, {\r\n  type: 'pie',\r\n  data: {\r\n    datasets: [{\r\n      data: [45, 25, 20, 10],\r\n      backgroundColor: [\r\n        pattern.draw('square', '#ff6384'),\r\n        pattern.draw('circle', '#36a2eb'),\r\n        pattern.draw('diamond', '#cc65fe'),\r\n        pattern.draw('triangle', '#ffce56')\r\n      ]\r\n    }],\r\n    labels: ['Red', 'Blue', 'Purple', 'Yellow']\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/chart.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdn.jsdelivr.net/npm/patternomaly@1.3.2/dist/patternomaly.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Documentation:\n<a href=\"https://www.chartjs.org/docs/latest/general/colors.html\" rel=\"nofollow noreferrer\">https://www.chartjs.org/docs/latest/general/colors.html</a></p>\n"}, {"comments": [{"owner": {"reputation": 113, "user_id": 10067210, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216116417126876/picture?type=large", "display_name": "Adolfo Celis", "link": "https://stackoverflow.com/users/10067210/adolfo-celis"}, "edited": false, "score": 1, "creation_date": 1572536144, "post_id": 58646435, "comment_id": 103598512, "body": "Thank you very much, I really downloaded the plugin without knowing that I had a page with documentation"}], "tags": [], "owner": {"reputation": 11202, "user_id": 3775731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac52dbfc7688e1cc009d692118541469?s=128&d=identicon&r=PG", "display_name": "timclutton", "link": "https://stackoverflow.com/users/3775731/timclutton"}, "is_accepted": true, "score": 0, "last_activity_date": 1572534899, "creation_date": 1572534899, "answer_id": 58646435, "question_id": 58632240, "link": "https://stackoverflow.com/questions/58632240/how-to-change-the-color-of-the-text-in-the-chart-js-chart/58646435#58646435", "title": "How to change the color of the text in the Chart.js chart", "body": "<p>Changing the label colour is literally the <a href=\"https://chartjs-plugin-datalabels.netlify.com/guide/getting-started.html#configuration\" rel=\"nofollow noreferrer\">first example in the plugin documentation</a>.</p>\n\n<p>Here's a snippet showing changing the colour for all datasets in a chart:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Chart(document.getElementById(\"chart\"), {\r\n  type: \"pie\",\r\n  data: {\r\n    labels: ['a', 'b', 'c', 'd'],\r\n    datasets: [{\r\n      data: [1, 2, 4, 8]\r\n    }]\r\n  },\r\n  options: {\r\n    maintainAspectRatio: false,\r\n    plugins: {\r\n      datalabels: {\r\n        color: 'red'\r\n      }\r\n    }\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdn.jsdelivr.net/npm/chart.js@2.9.1\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels\"&gt;&lt;/script&gt;\r\n&lt;canvas id=\"chart\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 113, "user_id": 10067210, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216116417126876/picture?type=large", "display_name": "Adolfo Celis", "link": "https://stackoverflow.com/users/10067210/adolfo-celis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2140, "favorite_count": 0, "accepted_answer_id": 58646435, "answer_count": 2, "score": 0, "last_activity_date": 1572534899, "creation_date": 1572462708, "question_id": 58632240, "link": "https://stackoverflow.com/questions/58632240/how-to-change-the-color-of-the-text-in-the-chart-js-chart", "title": "How to change the color of the text in the Chart.js chart", "body": "<p>I use the Chart.js library to create the graph and its 'chartjs-plugin-datalabels.js' plugin. My question here is how to change the color of the values \u200b\u200bon the graph, since I cannot use CSS styles because it is rendered as an image\n<a href=\"https://i.stack.imgur.com/uZ4QZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uZ4QZ.png\" alt=\"Chart.js\"></a></p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1572463772, "post_id": 58632194, "comment_id": 103571901, "body": "You may want to look at <a href=\"https://stackoverflow.com/a/45709854/215552\">this answer from &quot;Javascript how to split newline&quot;</a>..."}], "answers": [{"comments": [{"owner": {"reputation": 430, "user_id": 10509886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jztmg.png?s=128&g=1", "display_name": "JDunken", "link": "https://stackoverflow.com/users/10509886/jdunken"}, "edited": false, "score": 1, "creation_date": 1572462790, "post_id": 58632227, "comment_id": 103571483, "body": "you can also <code>word = new Array.from(wordlist[randomIndex].trim());</code>"}, {"owner": {"reputation": 4933, "user_id": 2444210, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039aeeb3bbfafb7fc2d8e8d56e04fc14?s=128&d=identicon&r=PG", "display_name": "IceMetalPunk", "link": "https://stackoverflow.com/users/2444210/icemetalpunk"}, "reply_to_user": {"reputation": 430, "user_id": 10509886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jztmg.png?s=128&g=1", "display_name": "JDunken", "link": "https://stackoverflow.com/users/10509886/jdunken"}, "edited": false, "score": 0, "creation_date": 1572462915, "post_id": 58632227, "comment_id": 103571547, "body": "@JDunken True. Works out the same in either case; I just stuck with the OP&#39;s choice to use split."}, {"owner": {"reputation": 430, "user_id": 10509886, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jztmg.png?s=128&g=1", "display_name": "JDunken", "link": "https://stackoverflow.com/users/10509886/jdunken"}, "edited": false, "score": 0, "creation_date": 1572463007, "post_id": 58632227, "comment_id": 103571575, "body": "wasn&#39;t a criticism, just showing passers-by an option."}, {"owner": {"reputation": 3, "user_id": 11793652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13abeb4bf94212165bbfb018ab5c1cac?s=128&d=identicon&r=PG", "display_name": "dasdawidt", "link": "https://stackoverflow.com/users/11793652/dasdawidt"}, "edited": false, "score": 0, "creation_date": 1572463541, "post_id": 58632227, "comment_id": 103571793, "body": "Is there a reason to prefer one of the two methods?"}, {"owner": {"reputation": 4933, "user_id": 2444210, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039aeeb3bbfafb7fc2d8e8d56e04fc14?s=128&d=identicon&r=PG", "display_name": "IceMetalPunk", "link": "https://stackoverflow.com/users/2444210/icemetalpunk"}, "reply_to_user": {"reputation": 3, "user_id": 11793652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13abeb4bf94212165bbfb018ab5c1cac?s=128&d=identicon&r=PG", "display_name": "dasdawidt", "link": "https://stackoverflow.com/users/11793652/dasdawidt"}, "edited": false, "score": 0, "creation_date": 1572464083, "post_id": 58632227, "comment_id": 103572033, "body": "@dasdawidt Not that I know of; it&#39;s just preference. Array.from doesn&#39;t work in Internet Explorer, if you for some reason want to support that."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1572464093, "post_id": 58632227, "comment_id": 103572035, "body": "You should be careful when using <code>.split(&#39;&#39;)</code> to create an array from a string, especially if you&#39;re using anything other than the simple ASCII end of Unicode. See <a href=\"https://stackoverflow.com/q/10758913/215552\">Unicode string with diacritics split by chars</a>"}, {"owner": {"reputation": 4933, "user_id": 2444210, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039aeeb3bbfafb7fc2d8e8d56e04fc14?s=128&d=identicon&r=PG", "display_name": "IceMetalPunk", "link": "https://stackoverflow.com/users/2444210/icemetalpunk"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1572464538, "post_id": 58632227, "comment_id": 103572218, "body": "@HereticMonkey That same problem happens with Array.from as well :)"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1572464941, "post_id": 58632227, "comment_id": 103572397, "body": "@IceMetalPunk Sure does. Wasn&#39;t really a comment about <code>Array.from</code> vs <code>split(&#39;&#39;)</code>. The spread syntax <code>[...wordlist[randomIndex].trim()]</code> does better, but still not bullet proof."}, {"owner": {"reputation": 4933, "user_id": 2444210, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039aeeb3bbfafb7fc2d8e8d56e04fc14?s=128&d=identicon&r=PG", "display_name": "IceMetalPunk", "link": "https://stackoverflow.com/users/2444210/icemetalpunk"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1572465286, "post_id": 58632227, "comment_id": 103572538, "body": "@HereticMonkey Ah, okay. I thought you were responding to dasdawidt&#39;s question about which of the two approaches should be preferred :)"}], "tags": [], "owner": {"reputation": 4933, "user_id": 2444210, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039aeeb3bbfafb7fc2d8e8d56e04fc14?s=128&d=identicon&r=PG", "display_name": "IceMetalPunk", "link": "https://stackoverflow.com/users/2444210/icemetalpunk"}, "is_accepted": true, "score": 2, "last_activity_date": 1572462646, "creation_date": 1572462646, "answer_id": 58632227, "question_id": 58632194, "link": "https://stackoverflow.com/questions/58632194/javascript-empty-element-at-array-end-after-loading-txt-file-and-splitting/58632227#58632227", "title": "JavaScript: Empty element at array end after loading .txt file and splitting", "body": "<p>Windows-style line breaks are not just \\n, they're \\r\\n. Because of this, if your file was created Windows style, splitting at \\n will still leave the trailing \\r character.</p>\n\n<p>You can simply trim your strings before splitting by character:</p>\n\n<pre><code>word = wordlist[randomIndex].trim().split('');\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11793652, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13abeb4bf94212165bbfb018ab5c1cac?s=128&d=identicon&r=PG", "display_name": "dasdawidt", "link": "https://stackoverflow.com/users/11793652/dasdawidt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 58632227, "answer_count": 1, "score": 0, "last_activity_date": 1572462646, "creation_date": 1572462509, "question_id": 58632194, "link": "https://stackoverflow.com/questions/58632194/javascript-empty-element-at-array-end-after-loading-txt-file-and-splitting", "title": "JavaScript: Empty element at array end after loading .txt file and splitting", "body": "<p>I have a words.txt file that looks something like this:</p>\n\n<pre><code>account\narm\ncotton\nzoo\n</code></pre>\n\n<p>Using a XMLHttpRequest I am loading that file, creating an array list containing each line separately using the following code:</p>\n\n<pre><code>var xhttp = new XMLHttpRequest();\nxhttp.onreadystatechange = function() {\n  if (this.readyState == 4 &amp;&amp; this.status == 200) {\n    //this is where I split it\n    wordlist = this.responseText.split('\\n');\n  }\n};\nxhttp.open('GET', 'words.txt', true);\nxhttp.send();\n</code></pre>\n\n<p>Then I randomly pick one element from the list, let's say <code>account</code>, and split it by <code>''</code> to get all individual characters:</p>\n\n<pre><code>word = wordlist[randomIndex].split('');\n</code></pre>\n\n<p>I expect the result to look like this:</p>\n\n<pre><code>[\"a\",\"c\",\"c\",\"o\",\"u\",\"n\",\"t\"]\n</code></pre>\n\n<p>However, it turns out this way, having an additional empty string at the end:</p>\n\n<pre><code>[\"a\",\"c\",\"c\",\"o\",\"u\",\"n\",\"t\",\"\"]\n</code></pre>\n\n<p>How do I properly get rid of this?</p>\n"}, {"tags": ["javascript", "floating-point"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 3, "creation_date": 1572462577, "post_id": 58632185, "comment_id": 103571389, "body": "You&#39;ve basically said -75 + 0. That number is so small it&#39;s essentially 0. Do you actually need precision to 15 decimal places?"}, {"owner": {"reputation": 97, "user_id": 4843477, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db5bd9fc308d476b37692e0a6a504a75?s=128&d=identicon&r=PG&f=1", "display_name": "Arthur Lyrio de Oliveira", "link": "https://stackoverflow.com/users/4843477/arthur-lyrio-de-oliveira"}, "edited": false, "score": 1, "creation_date": 1572462690, "post_id": 58632185, "comment_id": 103571437, "body": "The number you are adding is too small, JavaScript can&#39;t calculate it with its vanilla libraries. Search for some BigDecimal library."}, {"owner": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1572463585, "post_id": 58632185, "comment_id": 103571816, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/11695618/dealing-with-float-precision-in-javascript\">Dealing with float precision in Javascript</a>"}], "owner": {"reputation": 21, "user_id": 12160567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/876e06ca84d49d8f6e6668517b954308?s=128&d=identicon&r=PG&f=1", "display_name": "c3267738", "link": "https://stackoverflow.com/users/12160567/c3267738"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1572462482, "creation_date": 1572462482, "question_id": 58632185, "link": "https://stackoverflow.com/questions/58632185/adding-javascript-numbers-does-not-have-effect", "title": "Adding javascript numbers does not have effect", "body": "<pre><code>let x = -75;\nlet b = -7.105427357601002e-15;\nx = x + b;\nalert(x);\n</code></pre>\n\n<p>Alert prints -75. Why? What is the solution to avoid this error?</p>\n"}, {"tags": ["javascript", "asp.net"], "comments": [{"owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "edited": false, "score": 0, "creation_date": 1572463012, "post_id": 58632089, "comment_id": 103571578, "body": "You shouldn&#39;t need<code>javascript:return</code> on the onClientClick event. see if removing those does anything first."}, {"owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "edited": false, "score": 0, "creation_date": 1572463228, "post_id": 58632089, "comment_id": 103571663, "body": "You said &quot;This button will be enabled after a javascript event.&quot; It sounds like this is already happening, but then you ask if it&#39;s possible. Please clarify."}, {"owner": {"reputation": 911, "user_id": 4688085, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f9c57f8ea2060cb071305d3f5d38de9b?s=128&d=identicon&r=PG&f=1", "display_name": "Massey", "link": "https://stackoverflow.com/users/4688085/massey"}, "reply_to_user": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "edited": false, "score": 0, "creation_date": 1572465278, "post_id": 58632089, "comment_id": 103572533, "body": "Enabling the button works fine. Once enabled, it should first call the client-side function, btnSave_ClientClick(). Instead, it goes straight to the server-side, btnSave_Click"}, {"owner": {"reputation": 848, "user_id": 2258605, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/cbaa7f6dcf6f5d537e89adbad39fd724?s=128&d=identicon&r=PG&f=1", "display_name": "Skye MacMaster", "link": "https://stackoverflow.com/users/2258605/skye-macmaster"}, "edited": false, "score": 0, "creation_date": 1572466843, "post_id": 58632089, "comment_id": 103573147, "body": "This question has been asked. <a href=\"https://stackoverflow.com/questions/5990098/asp-net-onclientclick-not-rendered-for-initially-disabled-button\" title=\"asp net onclientclick not rendered for initially disabled button\">stackoverflow.com/questions/5990098/&hellip;</a>"}, {"owner": {"reputation": 911, "user_id": 4688085, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f9c57f8ea2060cb071305d3f5d38de9b?s=128&d=identicon&r=PG&f=1", "display_name": "Massey", "link": "https://stackoverflow.com/users/4688085/massey"}, "edited": false, "score": 0, "creation_date": 1572468388, "post_id": 58632089, "comment_id": 103573758, "body": "Hi Skye, it actually resolved my issue! He is using disabled=&quot;disabled&quot; instead of Enable=&quot;false&quot;. Thank you for the link!"}], "answers": [{"comments": [{"owner": {"reputation": 911, "user_id": 4688085, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f9c57f8ea2060cb071305d3f5d38de9b?s=128&d=identicon&r=PG&f=1", "display_name": "Massey", "link": "https://stackoverflow.com/users/4688085/massey"}, "edited": false, "score": 0, "creation_date": 1572465169, "post_id": 58632482, "comment_id": 103572483, "body": "This is exactly how I am enabling the button. The issue I am having is that it doesn&#39;t execute the client-side btnSave_ClientClick() before calling the server-side, btnSave_Click()."}, {"owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "reply_to_user": {"reputation": 911, "user_id": 4688085, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f9c57f8ea2060cb071305d3f5d38de9b?s=128&d=identicon&r=PG&f=1", "display_name": "Massey", "link": "https://stackoverflow.com/users/4688085/massey"}, "edited": false, "score": 0, "creation_date": 1572474618, "post_id": 58632482, "comment_id": 103575889, "body": "How do you know? The function doesn&#39;t do anything. And you have <code>return</code> in the click event which returns nothing. See my comment under your question. Add an alert or something to the js function so you actually know if it&#39;s working, OR update the question to show what <i>is</i> in the function."}], "tags": [], "owner": {"reputation": 3895, "user_id": 1171702, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/41d229f0cb9239e712ce687707b4c7f7?s=128&d=identicon&r=PG", "display_name": "wazz", "link": "https://stackoverflow.com/users/1171702/wazz"}, "is_accepted": false, "score": 0, "last_activity_date": 1572463941, "creation_date": 1572463941, "answer_id": 58632482, "question_id": 58632089, "link": "https://stackoverflow.com/questions/58632089/if-an-asp-net-button-has-enabled-false-it-doesnt-call-a-javascript-function/58632482#58632482", "title": "If an asp.net button has Enabled=&quot;false&quot;, it doesn&#39;t call a javascript function before executing code-behind", "body": "<p>You should be able to enable the button in the usual html/js way, because the button is already on the page, rendered in html:</p>\n\n<pre><code>function enableBtn(){\n    document.getElementById(\"btnSave\").disabled = false;\n}\n</code></pre>\n\n<p>You could put that one line inside another function, but you won't be able to use it from the btnSave button, because, obviously, it's disabled. Hth.</p>\n"}], "owner": {"reputation": 911, "user_id": 4688085, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/f9c57f8ea2060cb071305d3f5d38de9b?s=128&d=identicon&r=PG&f=1", "display_name": "Massey", "link": "https://stackoverflow.com/users/4688085/massey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1572463941, "creation_date": 1572462040, "question_id": 58632089, "link": "https://stackoverflow.com/questions/58632089/if-an-asp-net-button-has-enabled-false-it-doesnt-call-a-javascript-function", "title": "If an asp.net button has Enabled=&quot;false&quot;, it doesn&#39;t call a javascript function before executing code-behind", "body": "<p>I am working on an asp.net webforms project. On a page, I have an asp.net button which would remain disabled. This button will be enabled after a javascript event. When the button is clicked, first I want to execute a javascript function and then a code-behind function. The problem is that only the code-behind function is called. However, if the button is enabled all the time, which means Enabled=\"false\" attribute is not present in the asp.net button, then it first calls the js function and then goes to the code-behind. Is there any way to make the button disabled when the page loads and then programmatically enable it from js?</p>\n\n<pre><code>&lt;asp:button id=\"btnSave\" ClientIdMode=\"Static\" runat=\"server\" Enabled=\"false\" Text=\"Save\"  \nonClientClick=\"javascript:return btnSave_ClientClick();\" onclick=\"btnSave_Click\" \nCssClass=\"buttonStyle\"&gt;&lt;/asp:button&gt;\n\nfunction btnSave_ClientClick(){\n   //js function - do something\n}\n\nprotected void btnSave_Click(object sender, System.EventArgs e)\n{\n    //code behind - do something\n}\n</code></pre>\n"}]