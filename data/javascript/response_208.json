[{"tags": ["javascript", "arrays", "boolean", "qml", "v-play"], "comments": [{"owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "edited": false, "score": 0, "creation_date": 1546482487, "post_id": 54014711, "comment_id": 94868201, "body": "Could you post a minimal, viable, example?  i.e. something we can paste into QtCreate and try it out for you.  Perhaps a standalone QML file?"}, {"owner": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "edited": false, "score": 0, "creation_date": 1546482535, "post_id": 54014711, "comment_id": 94868205, "body": "My psychic powers suggest calendarListModel or calendarListModel.status is undefined.  Does QtCreator show any output in the debug window when you run your code under debug?"}, {"owner": {"reputation": 2669, "user_id": 1228771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SF8S5.png?s=128&g=1", "display_name": "Amfasis", "link": "https://stackoverflow.com/users/1228771/amfasis"}, "edited": false, "score": 0, "creation_date": 1546499421, "post_id": 54014711, "comment_id": 94871869, "body": "Could you post the part where you &quot;build&quot; the calendar in QML? I&#39;m guessing you have a repeater or something and you need to use <code>model</code> or <code>modelData</code> instead of <code>calendarListModel</code>"}, {"owner": {"reputation": 193, "user_id": 9802270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD3R6.jpg?s=128&g=1", "display_name": "Ldweller", "link": "https://stackoverflow.com/users/9802270/ldweller"}, "reply_to_user": {"reputation": 81087, "user_id": 104458, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/cc46b8a10ecb92e61aaeb1efe436a0c8?s=128&d=identicon&r=PG", "display_name": "selbie", "link": "https://stackoverflow.com/users/104458/selbie"}, "edited": false, "score": 0, "creation_date": 1546519137, "post_id": 54014711, "comment_id": 94880888, "body": "@selbie Apologies! I try to keep myself as clear as possible and think I am but I guess not haha! I&#39;ve updated the question with code from the <code>main.qml</code> and <code>calendar.qml</code> for you to see! I want the <code>calendarMarker</code> in the calendar.qml to change colour depending on the bool of the status read from firebase of each date! let me know if that makes more sense?"}, {"owner": {"reputation": 193, "user_id": 9802270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD3R6.jpg?s=128&g=1", "display_name": "Ldweller", "link": "https://stackoverflow.com/users/9802270/ldweller"}, "reply_to_user": {"reputation": 2669, "user_id": 1228771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SF8S5.png?s=128&g=1", "display_name": "Amfasis", "link": "https://stackoverflow.com/users/1228771/amfasis"}, "edited": false, "score": 0, "creation_date": 1546519183, "post_id": 54014711, "comment_id": 94880915, "body": "@Amfasis again sorry for making it confusing, as with my above comment to selbie I&#39;ve updated the question, hopefully it makes more sense now if not let me know and i&#39;ll edit further! Thanks again for the comments people!"}, {"owner": {"reputation": 7130, "user_id": 10239789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YeHJm.png?s=128&g=1", "display_name": "TrebledJ", "link": "https://stackoverflow.com/users/10239789/trebledj"}, "edited": false, "score": 0, "creation_date": 1546695021, "post_id": 54014711, "comment_id": 94939194, "body": "@Ldweller Hi there, thanks for putting your code up there. Right now, I&#39;m getting errors like &quot;AppButton is not a type&quot;. Please help make this a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> by including the import statements as well. (Make sure the code that you post in your question is working by itself and fully reproduces your problem). Btw, is this v-play you&#39;re using?"}, {"owner": {"reputation": 193, "user_id": 9802270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD3R6.jpg?s=128&g=1", "display_name": "Ldweller", "link": "https://stackoverflow.com/users/9802270/ldweller"}, "reply_to_user": {"reputation": 7130, "user_id": 10239789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YeHJm.png?s=128&g=1", "display_name": "TrebledJ", "link": "https://stackoverflow.com/users/10239789/trebledj"}, "edited": false, "score": 0, "creation_date": 1546696027, "post_id": 54014711, "comment_id": 94939456, "body": "Yes @TrebuchetMS it is vplay would that be causing it not allowing <code>AppButton</code> sorry? I am happy to throw the full code into paste bin for you to take a look at?"}, {"owner": {"reputation": 7130, "user_id": 10239789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YeHJm.png?s=128&g=1", "display_name": "TrebledJ", "link": "https://stackoverflow.com/users/10239789/trebledj"}, "edited": false, "score": 0, "creation_date": 1546755567, "post_id": 54014711, "comment_id": 94951886, "body": "@Ldweller I can&#39;t reproduce your code as I&#39;m getting several errors: <code>ReferenceError: dp is not defined file:GamePlayground&#47;&#47;qml&#47;Main.qml:35: ReferenceError: dayCycleArr is not defined file:GamePlayground&#47;&#47;qml&#47;Main.qml:154: ReferenceError: calendarListModel is not defined</code> (and many more...) from the VPlay Live Client. Others and I do not wish for the &quot;full code&quot;. If possible, please <b>minimise</b> your code, ensuring that it&#39;s still <b>complete</b> and <b>verifiable</b> so that we can reproduce it. (<a href=\"https://stackoverflow.com/help/mcve\">read more</a>...) Thanks."}, {"owner": {"reputation": 193, "user_id": 9802270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD3R6.jpg?s=128&g=1", "display_name": "Ldweller", "link": "https://stackoverflow.com/users/9802270/ldweller"}, "reply_to_user": {"reputation": 7130, "user_id": 10239789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YeHJm.png?s=128&g=1", "display_name": "TrebledJ", "link": "https://stackoverflow.com/users/10239789/trebledj"}, "edited": false, "score": 0, "creation_date": 1546790506, "post_id": 54014711, "comment_id": 94959598, "body": "@TrebuchetMS Hey! Thanks again for taking the time to look at this, I&#39;ve updated the answer (thanks for the edits) with running code, I know there are some parts which are still code heavy but I feel with all the back and fourth between firebase It needs to be kept in there for you to connect up properly when testing! let me know, thanks a million again!"}, {"owner": {"reputation": 7130, "user_id": 10239789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YeHJm.png?s=128&g=1", "display_name": "TrebledJ", "link": "https://stackoverflow.com/users/10239789/trebledj"}, "edited": false, "score": 0, "creation_date": 1546956623, "post_id": 54014711, "comment_id": 95019055, "body": "Hi again, I don&#39;t think the issue&#39;s coming from firebase. If possible, try removing those components and replacing your array/list properties with sample data (also I didn&#39;t want to bother with generating a plugin license). And ok, your issue&#39;s with <code>RealtimeCalendar:calendarMarker</code>, yes? What do you intend <code>calendarListModel.indexOf(status? true : false)</code> to do? Also is <code>calendarListModel</code> similar to <code>calendarListView</code> from your question? (I have no idea since I can&#39;t run the firebase plugin, that&#39;s why I&#39;ve been trying to get you to remove the fb components.)"}, {"owner": {"reputation": 193, "user_id": 9802270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD3R6.jpg?s=128&g=1", "display_name": "Ldweller", "link": "https://stackoverflow.com/users/9802270/ldweller"}, "reply_to_user": {"reputation": 7130, "user_id": 10239789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YeHJm.png?s=128&g=1", "display_name": "TrebledJ", "link": "https://stackoverflow.com/users/10239789/trebledj"}, "edited": false, "score": 0, "creation_date": 1546956927, "post_id": 54014711, "comment_id": 95019259, "body": "@TrebuchetMS oh my god sorry yes <code>calendarListView</code> in my original question should be <code>calendarListModel</code> huge critical typo from me! The issue is with calendarMarker you are correct, i want it to be one of two colours depending on each dates true/false status in the <code>calendarListModel</code> indexOf ect is one of the variations i have tried to get this working with either a red mark for false confirmed and a blue mark for true confirmed status!"}, {"owner": {"reputation": 7130, "user_id": 10239789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YeHJm.png?s=128&g=1", "display_name": "TrebledJ", "link": "https://stackoverflow.com/users/10239789/trebledj"}, "edited": false, "score": 0, "creation_date": 1546960669, "post_id": 54014711, "comment_id": 95021716, "body": "I think you&#39;ve got several dupes here: <a href=\"https://stackoverflow.com/questions/7364150/find-object-by-id-in-an-array-of-javascript-objects\">Find object by id in an array of js objects</a>. <a href=\"https://stackoverflow.com/questions/11258077/how-to-find-index-of-an-object-by-key-and-value-in-an-javascript-array\">How to find the index of an object by key and value in a js array</a>."}, {"owner": {"reputation": 7130, "user_id": 10239789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YeHJm.png?s=128&g=1", "display_name": "TrebledJ", "link": "https://stackoverflow.com/users/10239789/trebledj"}, "edited": false, "score": 0, "creation_date": 1546963594, "post_id": 54014711, "comment_id": 95023531, "body": "@Ldweller I&#39;ve polished your question up a bit. Please check over to make sure that my edits were accurate. At the same time, please understand how I replaced your code with an mcve, the redundancy removed and the simplicity gained in solving the problem. Hopefully I didn&#39;t misunderstand your question. :-)"}], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 9802270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD3R6.jpg?s=128&g=1", "display_name": "Ldweller", "link": "https://stackoverflow.com/users/9802270/ldweller"}, "edited": false, "score": 0, "creation_date": 1546976687, "post_id": 54095063, "comment_id": 95030120, "body": "firstly can I say a huge thanks for your patience! It works as intended! Confirmed/unconfirmed showing different colours! I always try to make my questions minimal, complete and verifiable as i can but being a hobbyist things may not read as clearly as intended, but thanks, thanks a million! (P.S I&#39;ll use your edited question as reference in the future for sure)"}], "tags": [], "owner": {"reputation": 7130, "user_id": 10239789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YeHJm.png?s=128&g=1", "display_name": "TrebledJ", "link": "https://stackoverflow.com/users/10239789/trebledj"}, "is_accepted": true, "score": 3, "last_activity_date": 1547293607, "last_edit_date": 1547293607, "creation_date": 1546961803, "answer_id": 54095063, "question_id": 54014711, "link": "https://stackoverflow.com/questions/54014711/change-colour-from-bool-within-array-in-qml/54095063#54095063", "title": "Change colour from bool within array in QML", "body": "<p>Alright, right now you're using an array of objects and trying to index it directly, which is no good. (Especially since you're currently indexing for <code>true</code>/<code>false</code> values, which doesn't comprise individual elements in <code>calendarListModel</code>.) Even if you could reconstruct the object with a date, name, and status, they'll still be different objects.</p>\n\n<p>Use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\"><code>Array.prototype.find()</code></a> instead.</p>\n\n<pre><code>color: {\n    var modelObject = calendarListModel.find(\n       function(obj) {\n            //  look for a matching date\n           return obj.date === styleData.date.getTime();\n       }\n    );\n\n    if (modelObject === undefined)  //  not found in list model\n       return \"lightgrey\";\n\n    return modelObject.status ? \"blue\" : \"red\";\n}\n</code></pre>\n\n<p>Here's a before and after tested from a macOS:</p>\n\n<p>Before: Notice how all markers are red. Only the dates specified in <code>calendarListModel</code> should have colour to them.\n<a href=\"https://i.stack.imgur.com/TuL6E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TuL6E.png\" alt=\"Before\"></a></p>\n\n<p>After: Notice that only the marker at January 11 has colour (blue). Indeed, this is because the date was included in <code>calendarListModel</code>: 1544616000000.\n<a href=\"https://i.stack.imgur.com/J8Ofi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J8Ofi.png\" alt=\"After\"></a></p>\n"}], "owner": {"reputation": 193, "user_id": 9802270, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uD3R6.jpg?s=128&g=1", "display_name": "Ldweller", "link": "https://stackoverflow.com/users/9802270/ldweller"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 561, "favorite_count": 0, "accepted_answer_id": 54095063, "answer_count": 1, "score": 3, "last_activity_date": 1550665409, "creation_date": 1546473375, "last_edit_date": 1550665409, "question_id": 54014711, "link": "https://stackoverflow.com/questions/54014711/change-colour-from-bool-within-array-in-qml", "title": "Change colour from bool within array in QML", "body": "<p>I am looking to change the colour of a Calendar cell from a Boolean within an array (<code>calendarListModel</code>).</p>\n\n<p>Here's a sample of the array:</p>\n\n<pre><code>[\n{\"date\":1544443200000,\"name\":\"Edward\",\"status\":1},\n{\"date\":1544529600000,\"name\":\"Katie\",\"status\":0},\n{\"date\":1544616000000,\"name\":\"Claire\",\"status\":1}\n]\n</code></pre>\n\n<p><strong>What I want to do is change the colour of my calendar marker depending on the Boolean value within <code>calendarListModel</code> (<code>\"status\": 0 or 1</code>)</strong>.</p>\n\n<p>The code for my marker is;</p>\n\n<pre><code>Rectangle {\n    id: calendarMarker\n    visible: arrayFromFireBase.indexOf(styleData.date.getTime()) &gt; -1\n    anchors.fill: parent\n    color:  \"blue\"\n} \n</code></pre>\n\n<p>I have tried making changes to the colour of the Rectangle with things such as <code>calendarListModel.status ? \"blue\" : \"red\"</code> amongst other variations but am either getting each cell as blue or red, or none at all?</p>\n\n<p><strong>Question: What would be the best way to change the colour based on a true/false value from the array?</strong></p>\n\n<p>I am using <code>Calendar</code> from the <code>QtQuick.Controls</code> to display dates and <code>CalendarStyle</code> from <code>QtQuick.Controls.Styles</code> to assign a custom style. I'm also using the V-Play sdk.</p>\n\n<p>Here's a minimal, complete, and verifiable example of what I'm currently doing:</p>\n\n<pre><code>import VPlayApps 1.0\nimport QtQuick 2.2\nimport QtQuick.Controls 1.4\nimport QtQuick.Controls.Styles 1.1\n\nApp {\n    id: app\n\n    //  this model is read from a firebase db using v-play\n    property var calendarListModel: [\n        {\"date\":1544443200000,\"name\":\"Edward\",\"status\":1},\n        {\"date\":1544529600000,\"name\":\"Katie\",\"status\":0},\n        {\"date\":1547182800000,\"name\":\"Claire\",\"status\":1}\n    ]\n\n    Calendar {\n        id: calendar\n        anchors.fill: parent\n        selectedDate: new Date()\n        weekNumbersVisible: true\n        focus: true\n        onSelectedDateChanged: {\n            const day = selectedDate.getDate();\n            const month = selectedDate.getMonth() + 1;\n            const year = selectedDate.getFullYear();\n        }\n\n       style: CalendarStyle {\n           dayOfWeekDelegate: Item {\n               width: parent.width\n               height: dp(30)\n               Rectangle {\n                   anchors.fill: parent\n                   border.color: \"#00000000\"\n                   Label {\n                       id: dayOfWeekDelegateText\n                       text: Qt.locale().dayName(styleData.dayOfWeek, Locale.ShortFormat)\n                       anchors.centerIn: parent\n                       color: \"black\"\n                   }\n               }\n           }\n\n           //  a delegate for each day cell\n           dayDelegate: Item {\n               id: container\n\n               readonly property color sameMonthDateTextColor: \"#444\"\n               readonly property color selectedDateColor: \"#20d5f0\"\n               readonly property color selectedDateTextColor: \"white\"\n               readonly property color differentMonthDateTextColor: \"#bbb\"\n\n               //  the background of each cell\n               Rectangle {\n                   anchors.fill: parent\n                   border.color: \"#00000000\"\n                   color: styleData.selected ? selectedDateColor : \"white\"\n               }\n\n               //  a marker on the upper-left corner on each cell\n               Rectangle {\n                   id: calendarMarker\n                   property bool isConfirmed: false\n                   anchors {\n                       top: parent.top; left: parent.left\n                   }\n\n                   width: 12\n                   height: width\n\n                   //  the issue lies here\n                   color: {\n                        var confCol\n                        calendarListModel.indexOf(status? true : false)\n                        confCol ? \"#4286f4\" : \"red\"\n                   }\n\n               }\n\n               // the day number\n               Label {\n                   id: dayDelegateText\n                   text: styleData.date.getDate()\n                   anchors.centerIn: parent\n                   color:  styleData.selected ? selectedDateTextColor : styleData.visibleMonth ? sameMonthDateTextColor : differentMonthDateTextColor\n               }\n            }\n        }\n    }\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 20977, "user_id": 2518231, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3ea4d08629a1d5ce591b415bdb5cd365?s=128&d=identicon&r=PG", "display_name": "Matthew Herbst", "link": "https://stackoverflow.com/users/2518231/matthew-herbst"}, "edited": false, "score": 0, "creation_date": 1546472847, "post_id": 54014627, "comment_id": 94866408, "body": "Are you sure that <code>result</code> coming back from your network call is actually an array?"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1546472862, "post_id": 54014627, "comment_id": 94866413, "body": "What does the <code>console.log()</code> tell you about the updated value of the <code>categories</code> property?"}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 0, "creation_date": 1546472868, "post_id": 54014627, "comment_id": 94866415, "body": "<code>res.data</code> is possibly not an array?"}, {"owner": {"reputation": 1, "user_id": 10860138, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u7a9MOQV1zU/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYadW9o3cEff7_Zz05Bwbx1KLhLag/mo/photo.jpg?sz=128", "display_name": "Joey Deckers", "link": "https://stackoverflow.com/users/10860138/joey-deckers"}, "edited": false, "score": 0, "creation_date": 1546474714, "post_id": 54014627, "comment_id": 94866793, "body": "Ah the problem was that it isn&#39;t an array. Stupid me got clumsy. Thanks for the assistance!"}], "answers": [{"tags": [], "owner": {"reputation": 1099, "user_id": 3893820, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/91cd12f9623383c437e054d93f3c89dc?s=128&d=identicon&r=PG&f=1", "display_name": "dan", "link": "https://stackoverflow.com/users/3893820/dan"}, "is_accepted": false, "score": 0, "last_activity_date": 1546474965, "creation_date": 1546474965, "answer_id": 54014881, "question_id": 54014627, "link": "https://stackoverflow.com/questions/54014627/i-dont-understand-the-error-this-state-categories-map-is-not-a-function-reactj/54014881#54014881", "title": "I don&#39;t understand the error: this.state.categories.map is not a function ReactJS", "body": "<p>The <code>.map</code> function only works on array-like variables. If that's the actual endpoint that you're calling then from <a href=\"https://www.eventbrite.com/platform/api/#/reference/categories/retrieve/retrieve-a-category\" rel=\"nofollow noreferrer\">the documentation</a> it looks like it's not returning an array but an Object in the following format:</p>\n\n<pre><code>{\n  \"id\": \"103\",\n  \"resource_uri\": \"https://www.eventbriteapi.com/v3/categories/103/\",\n  \"name\": \"Music\",\n  \"name_localized\": \"Music\",\n  \"short_name\": \"Music\",\n  \"short_name_localized\": \"Music\",\n  \"subcategories\": [\n    {\n      \"id\": \"3003\",\n      \"resource_uri\": \"https://www.eventbriteapi.com/v3/subcategories/3003/\",\n      \"name\": \"Classical\",\n      \"parent_category\": {}\n    }\n  ]\n}\n</code></pre>\n\n<p>If you want to iterate through the keys or values you can turn that Object into an array using <code>Object.keys(result)</code> or <code>Object.values(result)</code></p>\n"}, {"tags": [], "owner": {"reputation": 211, "user_id": 10485630, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-xyEeShUWvLw/AAAAAAAAAAI/AAAAAAAAAAo/RRBW2FG9iDs/photo.jpg?sz=128", "display_name": "Nathan Tinius", "link": "https://stackoverflow.com/users/10485630/nathan-tinius"}, "is_accepted": false, "score": 0, "last_activity_date": 1546963667, "last_edit_date": 1546963667, "creation_date": 1546963245, "answer_id": 54095436, "question_id": 54014627, "link": "https://stackoverflow.com/questions/54014627/i-dont-understand-the-error-this-state-categories-map-is-not-a-function-reactj/54095436#54095436", "title": "I don&#39;t understand the error: this.state.categories.map is not a function ReactJS", "body": "<p>Here is how I do this with fetch()...</p>\n\n<pre><code>fetch('https://www.eventbriteapi.com/v3/organizers/{organizer_id}/events/?status=live&amp;token=******')\n  .then(response =&gt; response.json())\n  .then(data =&gt; gatherData(data.events))\n\nfunction gatherData(data) {\n  const options = data.map(item =&gt; `\n  &lt;div id=\"event-contain\"&gt;  \n    &lt;div class=\"event-left\" style=\"width: 66%;\"&gt; \n      &lt;img src=\"${item.logo.url}\"&gt;\n      &lt;a href=\"${item.url}\"&gt;&lt;h5&gt;${item.name.html}&lt;/h5&gt;&lt;/a&gt;&lt;br/&gt;\n      &lt;p&gt;${item.description.text}&lt;/p&gt;\n      &lt;a href=\"${item.url}\"&gt;&lt;button style=\"margin-bottom: 10px; padding: 15px;\"&gt;Buy Tickets&lt;/button&gt;&lt;/a&gt;&lt;br/&gt;&lt;br/&gt;\n      &lt;div class=\"spacer\" style=\"width: 100%; height: 30px; border-top: 1px solid #e4e4e4;\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  `).join('');\n  evdis.innerHTML = options;\n}\n</code></pre>\n\n<p>It seems like you are missing a step in setting a variable to the JSON response. You should then be able to enter into the highest state of the JSON response ( aka events ) This will allow you to iterate through all of the events that you own using .map and display those events.</p>\n\n<p>I hope this helps. \nBest of luck!  </p>\n"}], "owner": {"reputation": 1, "user_id": 10860138, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-u7a9MOQV1zU/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcYadW9o3cEff7_Zz05Bwbx1KLhLag/mo/photo.jpg?sz=128", "display_name": "Joey Deckers", "link": "https://stackoverflow.com/users/10860138/joey-deckers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 89, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1546963667, "creation_date": 1546472562, "question_id": 54014627, "link": "https://stackoverflow.com/questions/54014627/i-dont-understand-the-error-this-state-categories-map-is-not-a-function-reactj", "title": "I don&#39;t understand the error: this.state.categories.map is not a function ReactJS", "body": "<p>I'm fairly new to React JS and I'm getting the error that I can't use the map function on a state array i'm using.</p>\n\n<p>I'm currently building a webapp using the Eventbrite api, getting data from the api is not the problem. But when I want to loop through the given data React responds with the error I have given above.</p>\n\n<pre><code>import React, { Component } from 'react'\nimport axios from 'axios'\n\n\nexport default class Categories extends Component {\n    state={\n        apiUrl : 'https://www.eventbriteapi.com/v3/categories/103',\n        OAuthToken  : 'my OAuthToken',\n        loading: true,\n        categories: []\n    }\n\n    componentWillMount(){\n        axios.get(`${this.state.apiUrl}?token=${this.state.OAuthToken}`)\n            .then(res =&gt; {\n            let result = res.data;\n            this.setState({categories : result});\n            console.log(this.state.categories);\n            if(this.state.result !== ''){\n                this.setState({loading:false});\n            }\n        })\n        .catch((error)=&gt;{\n            console.log(error);\n        })\n    }\n\n    renderCategories(){\n        if(this.state.loading === false){\n        return(\n            &lt;ul&gt;\n                {this.state.categories.map(item=&gt; (\n                    &lt;li key={item}&gt;{item}&lt;/li&gt;\n                ))}\n            &lt;/ul&gt;\n        )\n\n        }\n    }\n\n    render() {\n        return (\n        &lt;div&gt;\n            {this.renderCategories()}\n        &lt;/div&gt;\n        )\n    }\n}\n</code></pre>\n\n<p>I'm a little confused in what I'm doing wrong, any ideas?</p>\n"}, {"tags": ["javascript", "reactjs", "state", "mern"], "comments": [{"owner": {"reputation": 954, "user_id": 2012120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039776e188fc6fcb7b63a457f88f1353?s=128&d=identicon&r=PG", "display_name": "Sumi Straessle", "link": "https://stackoverflow.com/users/2012120/sumi-straessle"}, "edited": false, "score": 0, "creation_date": 1546472651, "post_id": 54014605, "comment_id": 94866372, "body": "how do you navigate from the first component to the second? With <code>react-router</code>, it&#39;s as simple as passing a plain javascript object as the second parameter."}, {"owner": {"reputation": 39, "user_id": 7833933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cWy9.jpg?s=128&g=1", "display_name": "Sadiq Mustapha Aji", "link": "https://stackoverflow.com/users/7833933/sadiq-mustapha-aji"}, "reply_to_user": {"reputation": 954, "user_id": 2012120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039776e188fc6fcb7b63a457f88f1353?s=128&d=identicon&r=PG", "display_name": "Sumi Straessle", "link": "https://stackoverflow.com/users/2012120/sumi-straessle"}, "edited": false, "score": 0, "creation_date": 1546472713, "post_id": 54014605, "comment_id": 94866383, "body": "Yes with react router dom"}], "answers": [{"tags": [], "owner": {"reputation": 954, "user_id": 2012120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039776e188fc6fcb7b63a457f88f1353?s=128&d=identicon&r=PG", "display_name": "Sumi Straessle", "link": "https://stackoverflow.com/users/2012120/sumi-straessle"}, "is_accepted": false, "score": 0, "last_activity_date": 1546473268, "creation_date": 1546473268, "answer_id": 54014700, "question_id": 54014605, "link": "https://stackoverflow.com/questions/54014605/using-react-this-state-in-other-components/54014700#54014700", "title": "Using react this.state in other components", "body": "<p>Try accessing the <code>history</code> object's <code>push</code> method, like so:</p>\n\n<pre><code>goTo: (route, state) =&gt; {\n this.props.history.push(route, state);\n}\n\n...\n// in your .map callback\n&lt;SomeComponentOrDom onClick={() =&gt; this.goTo('/SomewhereElse', { id: poster.id })}&gt;\n  Something\n&lt;/SomeComponentOrDom&gt;\n\n...\n// in SomewhereElse\nconstructor(props) {\n  this.state = {\n    posterId: props.history.location.state.id\n  }\n}\n</code></pre>\n\n<p>Of course, you should make your code more defensive and check for <code>null</code> in different places.</p>\n\n<p>Here you can find <a href=\"https://reacttraining.com/react-router/web/api/history\" rel=\"nofollow noreferrer\">the doc for history</a>.</p>\n"}], "owner": {"reputation": 39, "user_id": 7833933, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5cWy9.jpg?s=128&g=1", "display_name": "Sadiq Mustapha Aji", "link": "https://stackoverflow.com/users/7833933/sadiq-mustapha-aji"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546473268, "creation_date": 1546472371, "question_id": 54014605, "link": "https://stackoverflow.com/questions/54014605/using-react-this-state-in-other-components", "title": "Using react this.state in other components", "body": "<p>I have state which which contains thumbnail of my video files, i have watch button which on click navigate you to new page (component) each particular thumbnail has a name and file info, i map through the thumbnail state, how do pass the file info to the component you are navigated as your click the watch button </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  {this.state.Poster.map(poster =&gt;\r\n              &lt;Col md=\"3 \" className=\"\" &gt;\r\n                &lt;Card className=\"card-user card-transparent\"&gt;\r\n                  &lt;CardImg top src=     {`/files/${poster.filename}`}&gt;\r\n                &lt;/CardImg&gt;\r\n                    &lt;CardText className=\"py-3 px-3\"&gt;\r\n                      &lt;div className=\"card-description\"&gt;\r\n                      &lt;h5 className=\"display-5 text-Movie-white text-center\" &gt;\r\n                      {poster.metadata.name}\r\n                      &lt;/h5&gt;\r\n                      &lt;p className=\"text-center\"&gt;{poster.metadata.Description}\r\n                      &lt;/p&gt;\r\n                      &lt;/div&gt;\r\n                 &lt;/CardText&gt;\r\n                &lt;CardFooter&gt;\r\n                      &lt;div className=\"button-container  py-3\"&gt;&lt;a href=\"movie/\"&gt;\r\n             &lt;Button className=\"btn-fill btn-movie \" color=\"primary\" &gt;\r\n                          Watch\r\n             &lt;/Button&gt;&lt;/a&gt;\r\n                      &lt;/div&gt;\r\n                    &lt;/CardFooter&gt;\r\n                  &lt;/Card&gt;\r\n                &lt;/Col&gt;\r\n            )}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "wordpress"], "comments": [{"owner": {"reputation": 579, "user_id": 4963142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64280ab73fdb406e29033bbd9e391358?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4963142/ryan"}, "edited": false, "score": 0, "creation_date": 1546473009, "post_id": 54014576, "comment_id": 94866447, "body": "Are you 100% positive that you&#39;ve got the jQuery library enqueued?"}, {"owner": {"reputation": 2174, "user_id": 1139966, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/phQqC.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1139966/ali"}, "edited": false, "score": 0, "creation_date": 1546474798, "post_id": 54014576, "comment_id": 94866809, "body": "Hi, Welcome, You should post exact error instead of &quot;something like that&quot; :) It will help us help you if your question is clear and errors are properly defined with details."}, {"owner": {"reputation": 1, "user_id": 10837300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ac1f9e5a9621cdfbe21648ef057e28?s=128&d=identicon&r=PG&f=1", "display_name": "bldingbloks", "link": "https://stackoverflow.com/users/10837300/bldingbloks"}, "reply_to_user": {"reputation": 579, "user_id": 4963142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64280ab73fdb406e29033bbd9e391358?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4963142/ryan"}, "edited": false, "score": 0, "creation_date": 1546481981, "post_id": 54014576, "comment_id": 94868118, "body": "I have &lt;script src=&quot;<a href=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\" rel=\"nofollow noreferrer\">ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.j&zwnj;&#8203;s</a>&quot;&gt; before the head and before wp_head, other then that I&#39;m not sure what you mean @Ryan?"}, {"owner": {"reputation": 1, "user_id": 10837300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ac1f9e5a9621cdfbe21648ef057e28?s=128&d=identicon&r=PG&f=1", "display_name": "bldingbloks", "link": "https://stackoverflow.com/users/10837300/bldingbloks"}, "reply_to_user": {"reputation": 2174, "user_id": 1139966, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/phQqC.jpg?s=128&g=1", "display_name": "Ali", "link": "https://stackoverflow.com/users/1139966/ali"}, "edited": false, "score": 0, "creation_date": 1546484003, "post_id": 54014576, "comment_id": 94868413, "body": "@aliusman I get so many different errors depending on what I try but generally it has been <code>unexpected { or (</code> for the vast majority of the time, always pointing at the line my new jQuery code begins in the <code>functions.php</code>. I&#39;ve noticed I don&#39;t have a local version of jqeury in my <code>js folder</code> - just now I managed to add some code correctly, I just followed the format of previous snippets I&#39;ve added to <code>functions.php</code> and began with function - <code>function mainmenu_toggle( $html ) { };</code> am I not meant to enter script without beginnig with <code>function</code> in <code>functions.php</code> or something?"}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10837300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ac1f9e5a9621cdfbe21648ef057e28?s=128&d=identicon&r=PG&f=1", "display_name": "bldingbloks", "link": "https://stackoverflow.com/users/10837300/bldingbloks"}, "edited": false, "score": 0, "creation_date": 1546483402, "post_id": 54014823, "comment_id": 94868335, "body": "I only see <code>customizer.js</code>, <code>navigation,js</code> and <code>skip-link-focus-fix.js</code> in my js folder, I&#39;m using underscores _s bare bones theme, downloaded in the last month or two @Chris-G, I added it to the enqueue section as you suggested, I added it after other enqueque scripts but now I get an error message reading <code>syntax error, unexpected &#39;if&#39; (T_IF)</code> pointing at the line that comes right after the enqueue that I put in, which wasn&#39;t occuring prior."}, {"owner": {"reputation": 1, "user_id": 10837300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ac1f9e5a9621cdfbe21648ef057e28?s=128&d=identicon&r=PG&f=1", "display_name": "bldingbloks", "link": "https://stackoverflow.com/users/10837300/bldingbloks"}, "edited": false, "score": 0, "creation_date": 1546491997, "post_id": 54014823, "comment_id": 94869911, "body": "i was trying to insert js into <code>functions.php</code>, it seems that this may have been the issue, from what i understand now functions.php is not for js or jquery - is this correct?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "reply_to_user": {"reputation": 1, "user_id": 10837300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ac1f9e5a9621cdfbe21648ef057e28?s=128&d=identicon&r=PG&f=1", "display_name": "bldingbloks", "link": "https://stackoverflow.com/users/10837300/bldingbloks"}, "edited": false, "score": 0, "creation_date": 1546503697, "post_id": 54014823, "comment_id": 94873407, "body": "@bldingbloks You seem to have figured it out, but I did say <code>Then put your script as a new *.js file in the js folder in the theme folder.</code> (I did download the _s theme so was working off the same theme files as you)."}], "tags": [], "owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "is_accepted": false, "score": 0, "last_activity_date": 1546474344, "creation_date": 1546474344, "answer_id": 54014823, "question_id": 54014576, "link": "https://stackoverflow.com/questions/54014576/unable-to-add-jquery-to-wordpress-without-getting-syntax-or-call-to-undefined-fu/54014823#54014823", "title": "Unable to add JQuery to wordpress without getting Syntax or Call to undefined function error", "body": "<p>Wordpress comes with jQuery; there's no need to add it. What's important though is that you only call <code>jQuery()</code> after the script was loaded. I guess that's the issue. First, reverse your changes to <code>header.php</code>.</p>\n\n<p>Then put your script as a new *.js file in the js folder in the theme folder. Now open <code>functions.php</code> and find the <code>[themename]_scripts()</code> function.</p>\n\n<p>In there, at the bottom, add</p>\n\n<pre><code>wp_enqueue_script( 'myscript', get_template_directory_uri() . '/js/myscript.js', array(), '20190103', true );\n</code></pre>\n\n<p>(replacing <code>myscript.js</code> with the actual name of your file).</p>\n\n<p>I suggest this as a test for your JS script for now:</p>\n\n<pre><code>alert(jQuery);\n</code></pre>\n\n<p>When you refresh the website, you should see an alert with a short function. That means you can now use jQuery, best like this:</p>\n\n<pre><code>(function ($) {\n    // jQuery code here\n    $(\"body\").css(\"opacity\", \"0.5\"); // test\n})(jQuery);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10837300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ac1f9e5a9621cdfbe21648ef057e28?s=128&d=identicon&r=PG&f=1", "display_name": "bldingbloks", "link": "https://stackoverflow.com/users/10837300/bldingbloks"}, "is_accepted": false, "score": 0, "last_activity_date": 1546499687, "creation_date": 1546499687, "answer_id": 54017860, "question_id": 54014576, "link": "https://stackoverflow.com/questions/54014576/unable-to-add-jquery-to-wordpress-without-getting-syntax-or-call-to-undefined-fu/54017860#54017860", "title": "Unable to add JQuery to wordpress without getting Syntax or Call to undefined function error", "body": "<p>Ok folks, I think I figured it out, as I mentioned I'm not a coder and it turns out that I had been mistaking php syntax for javascript and jquery due to many similar terms and syntax format used. Since realizing this I have removed the javascript from the <code>functions.php</code> file and will be using seperate <code>.js files</code> to use as part of my template in order to hold my <code>javascript</code> and <code>jQuery</code> functions.</p>\n\n<p>I now understand the error of my ways and have enabled the jQuery I was originally hoping to run and have put an end to all the syntax errors, today I learned.</p>\n"}], "owner": {"reputation": 1, "user_id": 10837300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43ac1f9e5a9621cdfbe21648ef057e28?s=128&d=identicon&r=PG&f=1", "display_name": "bldingbloks", "link": "https://stackoverflow.com/users/10837300/bldingbloks"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1546499687, "creation_date": 1546472119, "last_edit_date": 1546498143, "question_id": 54014576, "link": "https://stackoverflow.com/questions/54014576/unable-to-add-jquery-to-wordpress-without-getting-syntax-or-call-to-undefined-fu", "title": "Unable to add JQuery to wordpress without getting Syntax or Call to undefined function error", "body": "<p>I'm developing on Wordpress and no matter what or where I add the most basic of jQuery of javascript code snippets I only get an error about an <code>unexpected (</code> or <code>{</code>  or `unexpected end of document or something like that, though some of the classes being called for in the jQuery or javascript haven't been present in the document as the code snippet was referencing something else. What am I doing wrong and how can I get it to run when I add a snippet? I'm using the underscores _s bare bones theme. I have added the jQuery cdn in the head section and added the following code:</p>\n\n<pre><code> jQuery( document ).ready(function() {\n    console.log( \"ready!\" );\n    });\n</code></pre>\n\n<p>I still get an error about <code>Call to undefined function jQuery</code>, I am not a coder and am using the underscores <code>_s</code> theme but would appreciate any help, from what I understand getting jQuery up and running for simple code snippets like the above should be straight forward and easy yet I'm stuck on step one.</p>\n\n<p>edit - all the code I'm adding is going into <code>functions.php</code>, I recognized that previously I added other functions fine to this file, so I tried to add a function that did nothing to it and was fine, so now I'm wondering am I only allowed to add scripts contained within <code>functions placeholder(){};</code> in the <code>functions.php</code> file? If so, am I supposed to inject <code>javascript/jQuery</code> in other parts of the Wordpress template directly? I was trying to create a <code>menu toggle</code> so should the code be going into the <code>header.php</code> where the menu is directly?</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 7185, "user_id": 4949918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ebe74084d2bf2feab20ec74c7b05ba?s=128&d=identicon&r=PG&f=1", "display_name": "Axnyff", "link": "https://stackoverflow.com/users/4949918/axnyff"}, "edited": false, "score": 1, "creation_date": 1546472258, "post_id": 54014561, "comment_id": 94866295, "body": "Do you know how to pick a random item from your array ? If you do it multiple times and remove it from your array every time, you should have your fifteen numbers without duplicates"}, {"owner": {"reputation": 232, "user_id": 2892380, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/662004afd4074435c6764562cd35892f?s=128&d=identicon&r=PG", "display_name": "claudiatc85", "link": "https://stackoverflow.com/users/2892380/claudiatc85"}, "edited": false, "score": 0, "creation_date": 1546473078, "post_id": 54014561, "comment_id": 94866460, "body": "The best answer in this question might come in handy as well: <a href=\"https://stackoverflow.com/questions/2380019/generate-unique-random-numbers-between-1-and-100\" title=\"generate unique random numbers between 1 and 100\">stackoverflow.com/questions/2380019/&hellip;</a>"}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1546473644, "post_id": 54014561, "comment_id": 94866577, "body": "Reading the last part of the post, it&#39;s not a duplicate of the linked questions."}], "answers": [{"tags": [], "owner": {"reputation": 497, "user_id": 3246419, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99017ab0cf42916f3ececbf0f9c7ee46?s=128&d=identicon&r=PG&f=1", "display_name": "tmcnicol", "link": "https://stackoverflow.com/users/3246419/tmcnicol"}, "is_accepted": true, "score": 1, "last_activity_date": 1546472586, "last_edit_date": 1546472586, "creation_date": 1546472421, "answer_id": 54014610, "question_id": 54014561, "link": "https://stackoverflow.com/questions/54014561/15-random-numbers-from-array-js/54014610#54014610", "title": "15 RANDOM NUMBERS FROM ARRAY (JS)", "body": "<p>If you are just trying to get a number between 1 and 35 then you could do this, </p>\n\n<pre><code>Math.floor(Math.random() * 35) + 1\n</code></pre>\n\n<p>Math.random() returns a number between 0 and 1, multiplying this by 35 gives a number between 0 and 35 (not inclusive) as a float, you then take a floor add 1 to get the desired range.</p>\n\n<p>You can then loop over this and use this to populate your array.</p>\n\n<p>If you don't want any repeats then I recommend you look at using a <code>Set</code> to make sure you don't have any repeats, then just loop until the set has the desired number of values.</p>\n\n<p>Sets are documented <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\" rel=\"nofollow noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 14807, "user_id": 6870228, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13425c63b585e3bba05d30509e9e2b00?s=128&d=identicon&r=PG&f=1", "display_name": "Keith", "link": "https://stackoverflow.com/users/6870228/keith"}, "is_accepted": false, "score": 0, "last_activity_date": 1546478367, "creation_date": 1546478367, "answer_id": 54015196, "question_id": 54014561, "link": "https://stackoverflow.com/questions/54014561/15-random-numbers-from-array-js/54015196#54015196", "title": "15 RANDOM NUMBERS FROM ARRAY (JS)", "body": "<p>Here is  a simple method,. </p>\n\n<p>First create the array of numbers from 1 to 35.</p>\n\n<p>Then randomly delete one from this array until the length is equal to 15.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const nums = Array.from(new Array(35),(v,i)=&gt;i+1); \r\nwhile (nums.length &gt; 15) nums.splice(Math.random() * nums.length, 1);\r\nconsole.log(nums.join(\", \"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 10860157, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-34Uu7BkIXs4/AAAAAAAAAAI/AAAAAAAAAAc/Nfmje29dBbg/photo.jpg?sz=128", "display_name": "Eduardo Junior", "link": "https://stackoverflow.com/users/10860157/eduardo-junior"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 54014610, "answer_count": 2, "score": -2, "last_activity_date": 1546478367, "creation_date": 1546472021, "question_id": 54014561, "link": "https://stackoverflow.com/questions/54014561/15-random-numbers-from-array-js", "title": "15 RANDOM NUMBERS FROM ARRAY (JS)", "body": "<p>I have the following array:</p>\n\n<p>var numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35];</p>\n\n<p>I want to get 15 random numbers from this array, where there can't be duplicates. I have no idea on how to do it.</p>\n\n<p>Also, if it'd be easier, I would like to know if there is a way to generate an array with 15 numbers from 1 to 35, with no duplicates, instead of picking them from the array I showed.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["javascript", "node.js", "reactjs"], "comments": [{"owner": {"reputation": 11121, "user_id": 12958, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f1bb6e5c84ee4cbf4790d08b4515e62c?s=128&d=identicon&r=PG", "display_name": "justin.m.chase", "link": "https://stackoverflow.com/users/12958/justin-m-chase"}, "edited": false, "score": 0, "creation_date": 1546471922, "post_id": 54014537, "comment_id": 94866206, "body": "Just a guess but try <code>new Blob(response.data)</code> (without nesting <code>response.data</code> in an array)."}, {"owner": {"reputation": 31, "user_id": 10008741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3rZ5ucS-Z7s/AAAAAAAAAAI/AAAAAAAAAac/srWHf_gLVYI/photo.jpg?sz=128", "display_name": "Rem", "link": "https://stackoverflow.com/users/10008741/rem"}, "reply_to_user": {"reputation": 11121, "user_id": 12958, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f1bb6e5c84ee4cbf4790d08b4515e62c?s=128&d=identicon&r=PG", "display_name": "justin.m.chase", "link": "https://stackoverflow.com/users/12958/justin-m-chase"}, "edited": false, "score": 0, "creation_date": 1546472255, "post_id": 54014537, "comment_id": 94866293, "body": "@justin.m.chase : Tried it .no t working"}, {"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1546472345, "post_id": 54014537, "comment_id": 94866311, "body": "so the array buffer is a base64 encoded content? Then decode it and set it in the blob."}, {"owner": {"reputation": 11121, "user_id": 12958, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f1bb6e5c84ee4cbf4790d08b4515e62c?s=128&d=identicon&r=PG", "display_name": "justin.m.chase", "link": "https://stackoverflow.com/users/12958/justin-m-chase"}, "edited": false, "score": 0, "creation_date": 1546472761, "post_id": 54014537, "comment_id": 94866390, "body": "You may need to add <code>{ type: &#39;application&#47;pdf&#39; }</code> as a second argument to Blob then"}, {"owner": {"reputation": 31, "user_id": 10008741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3rZ5ucS-Z7s/AAAAAAAAAAI/AAAAAAAAAac/srWHf_gLVYI/photo.jpg?sz=128", "display_name": "Rem", "link": "https://stackoverflow.com/users/10008741/rem"}, "reply_to_user": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1546474982, "post_id": 54014537, "comment_id": 94866852, "body": "@karthick : atob () function is giving th eerror: message: &quot;Failed to execute &#39;atob&#39; on &#39;Window&#39;: The string to be decoded contains characters outside of the Latin1 range.&quot; ab2str() is returning data in some chinese language."}, {"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1546475211, "post_id": 54014537, "comment_id": 94866901, "body": "if possible can you post a base64 string version of your response in a jsfiddle or code block?"}, {"owner": {"reputation": 31, "user_id": 10008741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3rZ5ucS-Z7s/AAAAAAAAAAI/AAAAAAAAAac/srWHf_gLVYI/photo.jpg?sz=128", "display_name": "Rem", "link": "https://stackoverflow.com/users/10008741/rem"}, "reply_to_user": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1546475651, "post_id": 54014537, "comment_id": 94866998, "body": "@karthick : <a href=\"https://jsfiddle.net/rem123/90mehLpf/\" rel=\"nofollow noreferrer\">jsfiddle.net/rem123/90mehLpf</a> this is the pdf snippet without all the changes u have suggested."}, {"owner": {"reputation": 31, "user_id": 10008741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3rZ5ucS-Z7s/AAAAAAAAAAI/AAAAAAAAAac/srWHf_gLVYI/photo.jpg?sz=128", "display_name": "Rem", "link": "https://stackoverflow.com/users/10008741/rem"}, "edited": false, "score": 0, "creation_date": 1546476040, "post_id": 54014537, "comment_id": 94867077, "body": "the result of ab2str() is something like below:\u564a\u4542\u6952\u7830\u6a4c\u4b4d\u654a\u6a4c\u397a\u4b4d\u534d\u7741\u4749\u6939\u6761\u6270\u314c\u4542\u6952\u7641\u4756\u3456\u4664\u4b30\u575a\u6b35\u3262\u714a\u6943\u6755\u694b\u716f\u694b\u676f\u6d51\u6e56\u5761\u6734\u5753\u7a35\u585a\u304a\u4549\u3239\u585a\u734a\u5859\u366b\u4349\u4839\u3051"}, {"owner": {"reputation": 11071, "user_id": 358435, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b6a07b64e50a331ba65e6d5b9b410199?s=128&d=identicon&r=PG&f=1", "display_name": "karthick", "link": "https://stackoverflow.com/users/358435/karthick"}, "edited": false, "score": 0, "creation_date": 1546484058, "post_id": 54014537, "comment_id": 94868424, "body": "@Rem Is the base64 string you posted the ajax response in string format or the array buffer?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 10008741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3rZ5ucS-Z7s/AAAAAAAAAAI/AAAAAAAAAac/srWHf_gLVYI/photo.jpg?sz=128", "display_name": "Rem", "link": "https://stackoverflow.com/users/10008741/rem"}, "edited": false, "score": 0, "creation_date": 1546472436, "post_id": 54014590, "comment_id": 94866327, "body": "same result. the pdf is opening in encoded format and the downloaded pdf gives the same error"}], "tags": [], "owner": {"reputation": 1443, "user_id": 10825793, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-RxdudnRQ6cE/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZmLE-tQOfT0g5zw8mRrTShwSWWHg/mo/photo.jpg?sz=128", "display_name": "Laurens Deprost", "link": "https://stackoverflow.com/users/10825793/laurens-deprost"}, "is_accepted": false, "score": 0, "last_activity_date": 1546472224, "creation_date": 1546472224, "answer_id": 54014590, "question_id": 54014537, "link": "https://stackoverflow.com/questions/54014537/pdf-file-not-opening-in-browser/54014590#54014590", "title": "pdf file not opening in browser", "body": "<p>Try changing<br>\n<code>FileDownload(response, 'some.pdf');</code><br>\nto<br>\n<code>FileDownload(response.data, 'some.pdf');</code></p>\n"}, {"comments": [{"owner": {"reputation": 18585, "user_id": 430062, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/018c3bfcc249e1e2ac8618429599d5c9?s=128&d=identicon&r=PG", "display_name": "Theodore R. Smith", "link": "https://stackoverflow.com/users/430062/theodore-r-smith"}, "edited": false, "score": 1, "creation_date": 1571301373, "post_id": 54014653, "comment_id": 103197595, "body": "This saved my life after about 2 hours \u2060\u2014 starting at 1 AM \u2060\u2014 of searching. Thank you, so much!"}], "tags": [], "owner": {"reputation": 11121, "user_id": 12958, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f1bb6e5c84ee4cbf4790d08b4515e62c?s=128&d=identicon&r=PG", "display_name": "justin.m.chase", "link": "https://stackoverflow.com/users/12958/justin-m-chase"}, "is_accepted": false, "score": 1, "last_activity_date": 1546472832, "creation_date": 1546472832, "answer_id": 54014653, "question_id": 54014537, "link": "https://stackoverflow.com/questions/54014537/pdf-file-not-opening-in-browser/54014653#54014653", "title": "pdf file not opening in browser", "body": "<p>Here is an example of some code I have used in the past to do this:</p>\n\n<pre><code>function downloadURI (url, name) {\n  var link = document.createElement('a')\n  link.download = name\n  link.href = url\n  document.body.appendChild(link)\n  link.click()\n  document.body.removeChild(link)\n}\n\nexport function download (url, type = 'application/pdf', name = 'example') {\n  get(url, (err, result) =&gt; {\n    if (err) return handleError(err)\n    const blob = new Blob([result.body], { type })\n    const downloadUrl = URL.createObjectURL(blob)\n    downloadURI(downloadUrl, name)\n  })\n}\n</code></pre>\n\n<p>It will download the file and create an object url and automatically trigger opening the file by programatically clicking a link.</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 10008741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3rZ5ucS-Z7s/AAAAAAAAAAI/AAAAAAAAAac/srWHf_gLVYI/photo.jpg?sz=128", "display_name": "Rem", "link": "https://stackoverflow.com/users/10008741/rem"}, "is_accepted": true, "score": 0, "last_activity_date": 1546562197, "last_edit_date": 1546562197, "creation_date": 1546482840, "answer_id": 54015607, "question_id": 54014537, "link": "https://stackoverflow.com/questions/54014537/pdf-file-not-opening-in-browser/54015607#54015607", "title": "pdf file not opening in browser", "body": "<p>Finally solved the issue.(My senior dev helped me).Final code is below:\ninstall base64js and filedownload on npm .</p>\n\n<pre><code>export function getTaxInvoice({token}){\n  const authString = `Bearer ${token}`;\n\n  return (dispatch) =&gt; {\n    return axios.get(`${MAIN_URL}/rental_invoice`,{\n      headers: {Authorization: authString, 'Accept': 'application/pdf','Content-Type': 'application/pdf'}\n      })\n    .then((response)=&gt;{\n      FileDownload(base64js.toByteArray(response.data), 'some.pdf');\n      const taxInvoiceUrl = window.URL.createObjectURL(new Blob([base64js.toByteArray(response.data)], { type: \"application/pdf\" }) );\n      window.open(taxInvoiceUrl, \"_blank\");\n      dispatch(taxInvoiceLoadSuccess(response.data));\n      dispatch(onViewChanged(\"rental_invoice\"));\n    }) \n    .catch((error)=&gt;{\n      console.log(error);\n      dispatch(taxInvoiceLoadFailed());\n    })\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 10008741, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-3rZ5ucS-Z7s/AAAAAAAAAAI/AAAAAAAAAac/srWHf_gLVYI/photo.jpg?sz=128", "display_name": "Rem", "link": "https://stackoverflow.com/users/10008741/rem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 978, "favorite_count": 0, "accepted_answer_id": 54015607, "answer_count": 3, "score": 2, "last_activity_date": 1546562197, "creation_date": 1546471787, "last_edit_date": 1546471981, "question_id": 54014537, "link": "https://stackoverflow.com/questions/54014537/pdf-file-not-opening-in-browser", "title": "pdf file not opening in browser", "body": "<p>I am receiving a pdf file as api call response from a node.js backend.The file opens  in browser window in an encoded format.I have  tried to download but the downloaded file has error opening it (error: failed to load pdf document).I am told the response body is base64 encoded.</p>\n\n<p>Is their any way the pdf can be open /downloaded correctly.I am using react.js and is new to it.</p>\n\n<p><strong>code snippet :</strong></p>\n\n<p>import FileDownload from 'js-file-download';</p>\n\n<pre><code>export function getTaxInvoice({token}){\n  const authString = `Bearer ${token}`;\n\n  return (dispatch) =&gt; {\n    return axios.get(`${MAIN_URL}/rental_invoice`,{\n      headers: {Authorization: authString, 'Accept': 'application/json','Content-Type': 'application/pdf'},\n      responseType: \"arraybuffer\",//I have tried with blob as well\n      encoding: null\n      })\n    .then((response)=&gt;{\n      FileDownload(response, 'some.pdf');\n      const taxInvoiceUrl = window.URL.createObjectURL(new Blob([response.data]));\n      window.open(taxInvoiceUrl, \"_blank\");\n      console.log( response); \n      // dispatch(taxInvoiceLoadSuccess(taxInvoiceUrl));\n      // dispatch(onViewChanged(\"rental_invoice\"));\n    }) \n    .catch((error)=&gt;{\n      dispatch(taxInvoiceLoadFailed());\n    })\n  }\n}\n</code></pre>\n\n<p><strong>response from api call:</strong><a href=\"https://i.stack.imgur.com/lPabK.png\" rel=\"nofollow noreferrer\">image snippet</a></p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "antd"], "answers": [{"tags": [], "owner": {"reputation": 1485, "user_id": 4282081, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cvopT.png?s=128&g=1", "display_name": "GenericUser", "link": "https://stackoverflow.com/users/4282081/genericuser"}, "is_accepted": false, "score": 0, "last_activity_date": 1546476973, "creation_date": 1546476973, "answer_id": 54015069, "question_id": 54014516, "link": "https://stackoverflow.com/questions/54014516/uploading-excel-file-to-server-encoding-question/54015069#54015069", "title": "Uploading Excel file to server, encoding question", "body": "<p>If you change the extension of the file from .xlsx to .zip you can see that it's a zipped archive. All office extensions ending in 'x' have the same behavior (.docx, .pptx, etc). For dealing with Excel files I'd recommend <a href=\"https://github.com/SheetJS/js-xlsx\" rel=\"nofollow noreferrer\">SheetJS</a> for reading and writing Excel files. If you need something particular to Node they have a demo <a href=\"https://github.com/SheetJS/js-xlsx/tree/master/demos/server\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Also the reason it shows up that way as a string is because of data compression. As an interesting side note, the reason it starts off with PK is because the inventors of the zip format were <a href=\"https://en.wikipedia.org/wiki/PKWare\" rel=\"nofollow noreferrer\">PKWare</a>.</p>\n"}], "owner": {"reputation": 41, "user_id": 4984814, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/407f4969881ec963e5bf48a93a8627ca?s=128&d=identicon&r=PG&f=1", "display_name": "Valkie", "link": "https://stackoverflow.com/users/4984814/valkie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 114, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1546476973, "creation_date": 1546471636, "question_id": 54014516, "link": "https://stackoverflow.com/questions/54014516/uploading-excel-file-to-server-encoding-question", "title": "Uploading Excel file to server, encoding question", "body": "<p>I'm trying to upload a file with Ant Design Upload (<a href=\"https://ant.design/components/upload/\" rel=\"nofollow noreferrer\">https://ant.design/components/upload/</a>) to a lambda function, when it arrives a console.log shows something like:</p>\n\n<blockquote>\n  <p>-----------------------------130470879520252100791020369308   Content-Disposition: form-data; name=\"file\";\n  filename=\"Ao6kyE7YF5KUaKFm.xlsx\"   Content-Type:\n  application/wps-office.xlsx</p>\n  \n  <p>PK[M...</p>\n</blockquote>\n\n<p>I have no clue what type of format it is. Is it binary? And how can i save it as a file?. I tried using this without success. It creates the file with the literal string from above.</p>\n\n<pre><code>fs.writeFile(\"/tmp/test.xlsx\", event.body, function(err) {\n    if(err) {\n        return console.log(err);\n    }\n\n    console.log(\"The file was saved!\");\n});\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1546470860, "post_id": 54014374, "comment_id": 94865907, "body": "why is the price of medium + purple 10?"}, {"owner": {"reputation": 2398, "user_id": 681266, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/deac7eef12a64d1d29dc0e65d8f278ed?s=128&d=identicon&r=PG", "display_name": "Jordash", "link": "https://stackoverflow.com/users/681266/jordash"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1546471026, "post_id": 54014374, "comment_id": 94865948, "body": "@JonasWilms Sorry was a typo, that&#39;s fixed"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1546471092, "post_id": 54014374, "comment_id": 94865973, "body": "<i>This question is different than other permutation questions because it&#39;s an array of objects and not an array of integers.</i> \u2014 think of each option as a place value in a number, with as many possible values as there are choices. Thus if there are 10 option types with 3 choices each, your job is just enumerating all 59,049 values."}], "answers": [{"comments": [{"owner": {"reputation": 2398, "user_id": 681266, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/deac7eef12a64d1d29dc0e65d8f278ed?s=128&d=identicon&r=PG", "display_name": "Jordash", "link": "https://stackoverflow.com/users/681266/jordash"}, "edited": false, "score": 0, "creation_date": 1546474753, "post_id": 54014463, "comment_id": 94866802, "body": "What is the * ?"}, {"owner": {"reputation": 2398, "user_id": 681266, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/deac7eef12a64d1d29dc0e65d8f278ed?s=128&d=identicon&r=PG", "display_name": "Jordash", "link": "https://stackoverflow.com/users/681266/jordash"}, "edited": false, "score": 0, "creation_date": 1546476802, "post_id": 54014463, "comment_id": 94867223, "body": "Actually looks like a generator function, can you show how to console log the generated result? I&#39;ve never used that before"}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 1, "last_activity_date": 1546509624, "last_edit_date": 1546509624, "creation_date": 1546471279, "answer_id": 54014463, "question_id": 54014374, "link": "https://stackoverflow.com/questions/54014374/generate-a-list-of-all-possible-variations-of-an-array-of-objects-in-javascript/54014463#54014463", "title": "Generate a list of all possible variations of an array of objects in Javascript", "body": "<p>Using recursion is probably the most elegant way here, and I would use a generator function as you can generate the values step by step, which will also work if there is an infinite number of combimations:</p>\n\n<pre><code> function* combine(options, index = 0, previous = {}) {\n   if(index &gt;= options.length) yield previous;\n   const { name, choices } = options[index];\n\n   for(const { label, price } of choices) {\n     yield* combine(options, index + 1, { ...previous, [name]: { label, price }});\n   }\n}\n</code></pre>\n\n<p>Usable as:</p>\n\n<pre><code> for(const combo of combinations(options))\n   console.log(combo);\n</code></pre>\n"}], "owner": {"reputation": 2398, "user_id": 681266, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/deac7eef12a64d1d29dc0e65d8f278ed?s=128&d=identicon&r=PG", "display_name": "Jordash", "link": "https://stackoverflow.com/users/681266/jordash"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 108, "favorite_count": 0, "accepted_answer_id": 54014463, "answer_count": 1, "score": 0, "last_activity_date": 1546509624, "creation_date": 1546470696, "last_edit_date": 1546470917, "question_id": 54014374, "link": "https://stackoverflow.com/questions/54014374/generate-a-list-of-all-possible-variations-of-an-array-of-objects-in-javascript", "title": "Generate a list of all possible variations of an array of objects in Javascript", "body": "<p>Note: This question is different than other permutation questions because it's an array of objects and not an array of integers.</p>\n\n<p>I have an array of objects like this:</p>\n\n<pre><code>var options = \n[\n    {\n        name: \"Size\",\n        choices: [\n            {\n                label: \"Small\",\n                price: 0\n            },\n            {\n                label: \"Medium\",\n                price: 10\n            }\n        ]\n    },\n    {\n        name: \"Color\",\n        choices: [\n            {\n                label: \"Yellow\",\n                price: 0\n            },\n            {\n                label: \"Purple\",\n                price: 10\n            }\n        ]\n    }\n]\n</code></pre>\n\n<p>I want to make a function that generates all possible variations into an object like this:</p>\n\n<pre><code>{\n    \"Size-Small--Color-Yellow\": {\n        label: \"Size: Small, Color: Yellow\",\n        choices: {\n            Size: {\n                label: \"Small\",\n                price: 0\n            },\n            Color: {\n                label: \"Yellow\",\n                price: 0,\n            }\n        },\n    },\n    \"Size-Small--Color-Purple\": {\n        label: \"Size: Small, Color: Purple\",\n        choices: {\n            Size: {\n                label: \"Small\",\n                price: 0\n            },\n            Color: {\n                label: \"Purple\",\n                price: 10,\n            }\n        },\n    },\n    \"Size-Medium--Color-Yellow\": {\n        label: \"Size: Medium, Color: Yellow\",\n        choices: {\n            Size: {\n                label: \"Medium\",\n                price: 10\n            },\n            Color: {\n                label: \"Yellow\",\n                price: 0,\n            }\n        },\n    },\n    \"Size-Medium--Color-Purple\": {\n        label: \"Size: Medium, Color: Purple\",\n        choices: {\n            Size: {\n                label: \"Medium\",\n                price: 10\n            },\n            Color: {\n                label: \"Purple\",\n                price: 10,\n            }\n        },\n    }\n}\n</code></pre>\n\n<p>The real array of objects is much larger which a lot more options and choices, <strong>so the solution would need to work with various array sizes, from small like this to very large sets of options.</strong></p>\n\n<p>Here is what I tried so far:</p>\n\n<pre><code>function generateVariations() {\n    var variations = {};\n\n    for(var i in options) {\n      var option = options[i];\n      var key = '';\n      var keyArray = [];\n      for(var j in option.choices) {\n        var choice = option.choices[j];\n        console.log(choice, 'choice value');\n\n        keyArray.push(option.name + '-' + choice.label)\n      }\n\n      key = keyArray.join('--');\n\n      console.log(key, 'key made for object');\n\n      variations[key] = {}; // TODO: After generating all of the keys, assign them correct values.\n    }\n\n    return variations;\n}\n</code></pre>\n\n<p>I'm having trouble wrapping my head around the recursive aspect of this, since there could potentially be unlimited numbers of variations, not sure if it needs recursion or not.</p>\n"}, {"tags": ["javascript", "reactjs", "heroku", "moltin", "redux-logger"], "answers": [{"comments": [{"owner": {"reputation": 2893, "user_id": 4603159, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XUvhd.jpg?s=128&g=1", "display_name": "Gleb Kostyunin", "link": "https://stackoverflow.com/users/4603159/gleb-kostyunin"}, "edited": false, "score": 0, "creation_date": 1546472373, "post_id": 54014477, "comment_id": 94866318, "body": "P.S. I smashed my head on the table for quite some time the first time i encountered this problem with Heroku. Their node support docs are not super straightforward about it and the error message is vague."}, {"owner": {"reputation": 35, "user_id": 10860069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RIPWkd41Yws/AAAAAAAAAAI/AAAAAAAAABQ/ZrWOaUph7Lk/photo.jpg?sz=128", "display_name": "Angeline Slayton", "link": "https://stackoverflow.com/users/10860069/angeline-slayton"}, "edited": false, "score": 0, "creation_date": 1546492045, "post_id": 54014477, "comment_id": 94869921, "body": "Thanks so much!! This was driving me crazy."}, {"owner": {"reputation": 2893, "user_id": 4603159, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XUvhd.jpg?s=128&g=1", "display_name": "Gleb Kostyunin", "link": "https://stackoverflow.com/users/4603159/gleb-kostyunin"}, "reply_to_user": {"reputation": 35, "user_id": 10860069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RIPWkd41Yws/AAAAAAAAAAI/AAAAAAAAABQ/ZrWOaUph7Lk/photo.jpg?sz=128", "display_name": "Angeline Slayton", "link": "https://stackoverflow.com/users/10860069/angeline-slayton"}, "edited": false, "score": 0, "creation_date": 1546516039, "post_id": 54014477, "comment_id": 94879301, "body": "I&#39;d greatly appreciate if you mark it as the right answer, if it helped."}], "tags": [], "owner": {"reputation": 2893, "user_id": 4603159, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/XUvhd.jpg?s=128&g=1", "display_name": "Gleb Kostyunin", "link": "https://stackoverflow.com/users/4603159/gleb-kostyunin"}, "is_accepted": true, "score": 3, "last_activity_date": 1546471399, "creation_date": 1546471399, "answer_id": 54014477, "question_id": 54014340, "link": "https://stackoverflow.com/questions/54014340/i-am-getting-a-redux-logger-error-when-i-try-to-upload-an-ecommerce-app-to-herok/54014477#54014477", "title": "I am getting a redux logger error when I try to upload an ecommerce app to Heroku", "body": "<p>The trick is that Heroku installs only production dependencies on deployment by default, so the ones that are listed under <code>dependencies</code> key of you <code>package.json</code> by running <code>npm install --production</code>.</p>\n\n<p>Move dependencies that are crucial to your app running - like redux-logger - from <code>devDependencies</code> to <code>dependencies</code> and that should solve your problem.</p>\n\n<p><code>devDependencies</code> are meant for things that support you in development, but are not required for the production copy of your app to run, like testing modules, for example.</p>\n"}], "owner": {"reputation": 35, "user_id": 10860069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-RIPWkd41Yws/AAAAAAAAAAI/AAAAAAAAABQ/ZrWOaUph7Lk/photo.jpg?sz=128", "display_name": "Angeline Slayton", "link": "https://stackoverflow.com/users/10860069/angeline-slayton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 452, "favorite_count": 0, "accepted_answer_id": 54014477, "answer_count": 1, "score": 2, "last_activity_date": 1546471399, "creation_date": 1546470393, "question_id": 54014340, "link": "https://stackoverflow.com/questions/54014340/i-am-getting-a-redux-logger-error-when-i-try-to-upload-an-ecommerce-app-to-herok", "title": "I am getting a redux logger error when I try to upload an ecommerce app to Heroku", "body": "<p>I am trying to build an e-commerce store app in React with Moltin JS. Everytime I try to upload it to Heroku, I get a blank page or an error.  The error said that it could not resolve \"redux-logger\".  I have tried re-downloading redux logger and also npm install.  I still get the same error message. I've also tried NPM update. It works fine when I launch it from my VS Code.<br>\n<a href=\"https://github.com/VintageVoodoo13/mindysstore.git\" rel=\"nofollow noreferrer\">github docs</a>\n<a href=\"https://limitless-meadow-27226.herokuapp.com/\" rel=\"nofollow noreferrer\">Heroku Page</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>// import the ability to modify browser history within our router\r\nimport createHistory from 'history/createBrowserHistory';\r\n\r\n// import our logger for redux\r\nimport { createLogger } from 'redux-logger';\r\n\r\n// import a library to handle async with redux\r\nimport thunk from 'redux-thunk';\r\n\r\n// import the redux parts needed to start our store\r\nimport { createStore, applyMiddleware, compose } from 'redux';\r\n\r\n// import the middleware for using react router with redux\r\nimport { routerMiddleware } from 'react-router-redux';\r\n\r\n// import the already combined reducers for redux to use\r\nimport rootReducer from './ducks';\r\n\r\n// import moltin API wrapper for use with Redux\r\nimport * as api from './moltin';\r\n\r\n// create and export history for router\r\nexport const history = createHistory();\r\n\r\n// combine the middlewares we're using into a constant so that it can be used by our store\r\nconst middleware = [thunk.withExtraArgument(api), routerMiddleware(history)];\r\n\r\n// declare any enhancers here\r\nconst enhancers = [];\r\n\r\n// use Redux devtools if available in development\r\nif (process.env.NODE_ENV === 'development') {\r\n  const devToolsExtension = window.devToolsExtension;\r\n\r\n  if (typeof devToolsExtension === 'function') {\r\n    enhancers.push(devToolsExtension());\r\n  }\r\n\r\n  middleware.push(createLogger());\r\n}\r\n\r\n// compose our middleware\r\nconst composedEnhancers = compose(applyMiddleware(...middleware), ...enhancers);\r\n\r\n// create our redux store using our reducers and our middleware, and export it for use in index.js\r\nconst store = createStore(rootReducer, composedEnhancers);\r\n\r\nexport default store;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1546470560, "post_id": 54014338, "comment_id": 94865830, "body": "You can check to see if <code>event.target.matches(&quot;a&quot;)</code> in the event handler."}], "answers": [{"tags": [], "owner": {"reputation": 777, "user_id": 6929654, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b75028ea25d35f08d8be18fb73db5a0a?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/6929654/joseph"}, "is_accepted": false, "score": 0, "last_activity_date": 1546471660, "last_edit_date": 1546471660, "creation_date": 1546471227, "answer_id": 54014455, "question_id": 54014338, "link": "https://stackoverflow.com/questions/54014338/how-can-i-stop-my-javascript-from-giving-the-nav-element-the-is-selected-cla/54014455#54014455", "title": "How can I stop my JavaScript from giving the &lt;nav&gt; element the &quot;is-selected&quot; class name too", "body": "<p>EDIT: Ryan's answer is much cleaner than this.</p>\n\n<p>You could make sure that the element that was actually clicked was an \"A\" tag. Here's how you could do that:</p>\n\n<pre><code>if (event.target.tagName === \"A\") {\n    // An &lt;a&gt; tag was clicked\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 43, "user_id": 10603557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce40735ffcef3115d4210735056658c?s=128&d=identicon&r=PG", "display_name": "James ", "link": "https://stackoverflow.com/users/10603557/james"}, "edited": false, "score": 0, "creation_date": 1546506107, "post_id": 54014467, "comment_id": 94874291, "body": "This worked perfectly, nice and clean too.  Thank you Ryan."}], "tags": [], "owner": {"reputation": 579, "user_id": 4963142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64280ab73fdb406e29033bbd9e391358?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4963142/ryan"}, "is_accepted": false, "score": 0, "last_activity_date": 1546471321, "creation_date": 1546471321, "answer_id": 54014467, "question_id": 54014338, "link": "https://stackoverflow.com/questions/54014338/how-can-i-stop-my-javascript-from-giving-the-nav-element-the-is-selected-cla/54014467#54014467", "title": "How can I stop my JavaScript from giving the &lt;nav&gt; element the &quot;is-selected&quot; class name too", "body": "<p>Your event handler is targeting the tab parent element, not the individual tab triggers. As such, it's not updating the element classes correctly.</p>\n\n<p>Instead, I targeted the class of <code>tab-pane__swatch-link</code> and looped through them, attaching the event listener to each one.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function onSwatchClick(event) {\r\n  let selectedSwatches = document.querySelectorAll('.is-selected');                   \r\n\r\n  for(let i = 0; i &lt; selectedSwatches.length; i++) {                            \r\n    selectedSwatches[i].className = selectedSwatches[i].className.replace('is-selected', '');\r\n  }\r\n\r\n  event.preventDefault();   \r\n  event.target.className += ' is-selected'; \r\n  document.getElementById(event.target.href.split('#')[1]).className += ' is-selected'; \r\n}\r\n\r\nconst elswatchClick = document.querySelectorAll('.tab-pane__swatch-link');                        \r\nfor (var i = 0; i &lt; elswatchClick.length; i++) {\r\n  elswatchClick[i].addEventListener('click', onSwatchClick, false);\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.tab-pane__swatch-image {\r\n  width: 90%;\r\n}\r\n\r\n.row-1 {\r\n  display: flex;\r\n  flex-flow: wrap;\r\n  justify-content: center;\r\n  list-style: none;\r\n}\r\n\r\n.tab-pane__swatch-link {\r\n  width: 40px;\r\n  height: 40px;\r\n  cursor: pointer;\r\n  margin: 0 20px 10px 0;\r\n  background-color: blue;\r\n  border: 2px solid #fff;\r\n  box-shadow: 3px 1px 10px #a9a9a9;\r\n  border-radius: 50%;\r\n}\r\n\r\n.tab-pane__swatch-link--red {\r\n  background: #ff0000;\r\n}\r\n\r\n.tab-pane__swatch-link--black {\r\n  background: #000;\r\n}\r\n\r\n.tab-pane {\r\n  display: none;\r\n}\r\n\r\n.tab-pane.is-selected {\r\n  display: table;\r\n}\r\n\r\na.is-selected::before {\r\n  content: '';\r\n  color: #fff;\r\n  position: absolute;\r\n  display: initial;\r\n  margin: 8px 0 0 15px;\r\n  border-style: solid;\r\n  border-width: 0 3px 3px 0;\r\n  transform: rotate(45deg);\r\n  height: 1rem;\r\n  width: 0.5rem;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"tab-pane__swatch-container\"&gt; \r\n  &lt;div class=\"tab-pane__swatch-content\"&gt; \r\n    &lt;div class=\"tab-pane is-selected\" id=\"red\"&gt;\r\n      &lt;img src=\"https://www.bristolstreetversa.com/images/colour_swatches/Grand-Tourneo-Connect/Red.png\" alt=\"Red Versa\" class=\"tab-pane__swatch-image\"&gt;\r\n    &lt;/div&gt;              \r\n    &lt;div class=\"tab-pane\" id=\"black\"&gt;\r\n      &lt;img src=\"https://www.bristolstreetversa.com/images/colour_swatches/Grand-Tourneo-Connect/Black.png\" alt=\"Red Versa\" class=\"tab-pane__swatch-image\"&gt;\r\n    &lt;/div&gt;                          \r\n  &lt;/div&gt;\r\n\r\n  &lt;nav class=\"row-1 tab-pane__swatch-selector\" id=\"js-swatch\"&gt;\r\n    &lt;a href=\"#red\" class=\"tab-pane__swatch-link tab-pane__swatch-link--red is-selected\"&gt;&lt;/a&gt;\r\n    &lt;a href=\"#black\" class=\"tab-pane__swatch-link tab-pane__swatch-link--black\"&gt;&lt;/a&gt;\r\n  &lt;/nav&gt;  \r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 43, "user_id": 10603557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bce40735ffcef3115d4210735056658c?s=128&d=identicon&r=PG", "display_name": "James ", "link": "https://stackoverflow.com/users/10603557/james"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1546471660, "creation_date": 1546470376, "last_edit_date": 1546470943, "question_id": 54014338, "link": "https://stackoverflow.com/questions/54014338/how-can-i-stop-my-javascript-from-giving-the-nav-element-the-is-selected-cla", "title": "How can I stop my JavaScript from giving the &lt;nav&gt; element the &quot;is-selected&quot; class name too", "body": "<p>When I select each colour tab, the image changes colour.  However, when you miss the tab or select just off the colour tab or any other part of the \u201cnav\u201d container for the \u201ca\u201d element it adds the is-select class to this also; meaning there is no image.  Very frustrated, and would like some help please as to how I can stop the \u201cnav\u201d element being given the is-select classname, as I just need the \u201ca\u201d elements.</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div class=\"tab-pane__swatch-container\"&gt; \n  &lt;div class=\"tab-pane__swatch-content\"&gt; \n    &lt;div class=\"tab-pane is-selected\" id=\"red\"&gt;\n      &lt;img src=\"https://www.bristolstreetversa.com/images/colour_swatches/Grand-Tourneo-Connect/Red.png\" alt=\"Red Versa\" class=\"tab-pane__swatch-image\"&gt;\n    &lt;/div&gt;              \n    &lt;div class=\"tab-pane\" id=\"black\"&gt;\n      &lt;img src=\"https://www.bristolstreetversa.com/images/colour_swatches/Grand-Tourneo-Connect/Black.png\" alt=\"Red Versa\" class=\"tab-pane__swatch-image\"&gt;\n    &lt;/div&gt;                          \n  &lt;/div&gt;\n\n  &lt;nav class=\"row-1 tab-pane__swatch-selector\" id=\"js-swatch\"&gt;\n    &lt;a href=\"#red\" class=\"tab-pane__swatch-link tab-pane__swatch-link--red is-selected\"&gt;&lt;/a&gt;\n    &lt;a href=\"#black\" class=\"tab-pane__swatch-link tab-pane__swatch-link--black\"&gt;&lt;/a&gt;\n  &lt;/nav&gt;  \n&lt;/div&gt;\n</code></pre>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>.tab-pane__swatch-image {\n  width: 90%;\n}\n\n.row-1 {\n  display: flex;\n  flex-flow: wrap;\n  justify-content: center;\n  list-style: none;\n}\n\n.tab-pane__swatch-link {\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  margin: 0 20px 10px 0;\n  background-color: blue;\n  border: 2px solid #fff;\n  box-shadow: 3px 1px 10px #a9a9a9;\n  border-radius: 50%;\n}\n\n.tab-pane__swatch-link--red {\n  background: #ff0000;\n}\n\n.tab-pane__swatch-link--black {\n  background: #000;\n}\n\n.tab-pane {\n  display: none;\n}\n\n.tab-pane.is-selected {\n  display: table;\n}\n\na.is-selected::before {\n  content: '';\n  color: #fff;\n  position: absolute;\n  display: initial;\n  margin: 8px 0 0 15px;\n  border-style: solid;\n  border-width: 0 3px 3px 0;\n  transform: rotate(45deg);\n  height: 1rem;\n  width: 0.5rem;\n}\n</code></pre>\n\n<p><strong>JS</strong></p>\n\n<pre><code>function onSwatchClick(event) {\n  let selectedSwatches = document.querySelectorAll('.is-selected');                   \n\n  for(let i = 0; i &lt; selectedSwatches.length; i++) {                            \n    selectedSwatches[i].className = selectedSwatches[i].className.replace('is-selected', '');\n  }\n\n  event.preventDefault();   \n  event.target.className += ' is-selected'; \n  document.getElementById(event.target.href.split('#')[1]).className += ' is-selected'; \n}\n\nconst elswatchClick = document.getElementById('js-swatch');                        \nelswatchClick.addEventListener('click', onSwatchClick, false);\n</code></pre>\n\n<p>Hope you can help thank you.</p>\n"}, {"tags": ["javascript", "local-storage", "indexeddb"], "answers": [{"comments": [{"owner": {"reputation": 191, "user_id": 7009375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d6507c8946e25320e379708f96af1b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/7009375/adam"}, "edited": false, "score": 0, "creation_date": 1546530567, "post_id": 54014602, "comment_id": 94887431, "body": "Thank you for your reply. I don&#39;t want to change the data structure. On your example when I alert count after incrementing I get a value of 0. No matter how many records have the same year"}, {"owner": {"reputation": 276, "user_id": 10859069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TeEm4dXpUcc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcb9iHwt7fJRanLaz27vfY66XbAKQw/mo/photo.jpg?sz=128", "display_name": "Ryan Dabler", "link": "https://stackoverflow.com/users/10859069/ryan-dabler"}, "reply_to_user": {"reputation": 191, "user_id": 7009375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d6507c8946e25320e379708f96af1b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/7009375/adam"}, "edited": false, "score": 0, "creation_date": 1546546855, "post_id": 54014602, "comment_id": 94894802, "body": "Can you share your code (either inline or in a Gist/JSFiddle, etc.)? I image the problem might be that you are initializing <code>counts</code> inside the <code>onsuccess</code> handler of opening your cursor, in which case <code>cursor.continue()</code> is re-initializing it on each successive iteration. You probably need to create <code>counts = {}</code> one level higher than the success handler."}, {"owner": {"reputation": 191, "user_id": 7009375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d6507c8946e25320e379708f96af1b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/7009375/adam"}, "edited": false, "score": 0, "creation_date": 1546552527, "post_id": 54014602, "comment_id": 94897013, "body": "I have added it along the bottom of my question"}, {"owner": {"reputation": 276, "user_id": 10859069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TeEm4dXpUcc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcb9iHwt7fJRanLaz27vfY66XbAKQw/mo/photo.jpg?sz=128", "display_name": "Ryan Dabler", "link": "https://stackoverflow.com/users/10859069/ryan-dabler"}, "reply_to_user": {"reputation": 191, "user_id": 7009375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d6507c8946e25320e379708f96af1b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/7009375/adam"}, "edited": false, "score": 0, "creation_date": 1546554126, "post_id": 54014602, "comment_id": 94897553, "body": "Yeah, I think the problem is with this line: <code>(counts[year]) + 1;</code> You&#39;re simply adding the number contained in <code>counts[year]</code> to 1, but not assigning the result to anywhere. What happens if you change it to <code>counts[year] += 1</code>?"}, {"owner": {"reputation": 191, "user_id": 7009375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d6507c8946e25320e379708f96af1b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/7009375/adam"}, "edited": false, "score": 0, "creation_date": 1546554780, "post_id": 54014602, "comment_id": 94897776, "body": "Yeah. I should have noticed that one. The current data is 2017, 2017, 2018, 2018. Meaning the alerts should be 1, 2, 1, 2 but I&#39;m getting the result 1, 1, 1, 1. I&#39;m guessing this means the if statement isn&#39;t working?"}, {"owner": {"reputation": 276, "user_id": 10859069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TeEm4dXpUcc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcb9iHwt7fJRanLaz27vfY66XbAKQw/mo/photo.jpg?sz=128", "display_name": "Ryan Dabler", "link": "https://stackoverflow.com/users/10859069/ryan-dabler"}, "reply_to_user": {"reputation": 191, "user_id": 7009375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d6507c8946e25320e379708f96af1b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/7009375/adam"}, "edited": false, "score": 0, "creation_date": 1546617401, "post_id": 54014602, "comment_id": 94919722, "body": "Because <code>var</code> is scoped to a function, I wonder if running <code>cursor.continue()</code> is causing <code>counts</code> to be reset. What happens if you declare <code>var counts = {}</code> as the very first line of your <code>filterSelection</code> function (right above this line: <code>var objectStore = db.transaction(&#39;posts&#39;).objectStore(&#39;posts&#39;);</code>)?"}, {"owner": {"reputation": 191, "user_id": 7009375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d6507c8946e25320e379708f96af1b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/7009375/adam"}, "edited": false, "score": 0, "creation_date": 1546623274, "post_id": 54014602, "comment_id": 94922633, "body": "That&#39;s got it. Thanks for your help"}], "tags": [], "owner": {"reputation": 276, "user_id": 10859069, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-TeEm4dXpUcc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcb9iHwt7fJRanLaz27vfY66XbAKQw/mo/photo.jpg?sz=128", "display_name": "Ryan Dabler", "link": "https://stackoverflow.com/users/10859069/ryan-dabler"}, "is_accepted": true, "score": 2, "last_activity_date": 1546472675, "last_edit_date": 1546472675, "creation_date": 1546472358, "answer_id": 54014602, "question_id": 54014274, "link": "https://stackoverflow.com/questions/54014274/count-where-for-an-indexeddb-database/54014602#54014602", "title": "Count where for an indexedDB database", "body": "<p>So I don't entirely know what the object store that holds this data looks like, so I might be making some assumptions regarding it and what you are doing.</p>\n\n<p>First off, there is one better way to do what you're doing than opening up a cursor and iterating over the whole store. If you could restructure your data at all, you could create a field that stores the object's year, create an index on that field, and essentially do <code>&lt;ObjectStoreReference&gt;.index('year').count()</code> to get all the documents very quickly.</p>\n\n<p>But if you can't, then you'll need to do it this way. However, the way you are tracking the information right now using the cursor approach won't let you print out everything in a table, because each time the year you generate from <code>cursor.value.date.slice(-4)</code> changes from your <code>firstPostYear</code>, you clear your count.</p>\n\n<p>You could try doing something like</p>\n\n<pre><code>const counts = {};\n\nif (cursor) {\n    const year = cursor.value.date.slice(-4);\n    if ( !(year in counts) ) {\n        counts[year] = 0;\n    }\n    counts[year]++;\n    cursor.continue();\n}\n</code></pre>\n\n<p>And then you can loop over the entries in the object and print out each year and its count however you want.</p>\n"}], "owner": {"reputation": 191, "user_id": 7009375, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/85d6507c8946e25320e379708f96af1b?s=128&d=identicon&r=PG&f=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/7009375/adam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 307, "favorite_count": 0, "accepted_answer_id": 54014602, "answer_count": 1, "score": 0, "last_activity_date": 1546552506, "creation_date": 1546469911, "last_edit_date": 1546552506, "question_id": 54014274, "link": "https://stackoverflow.com/questions/54014274/count-where-for-an-indexeddb-database", "title": "Count where for an indexedDB database", "body": "<p>I am storing dates in an indexedDB database and I want to count the number of records that happened in 2018, 2017 etc and print them out in a table. The problem I'm having is I'm not sure how to check the dates against the previous records to count them cleanly. Its sort of the equivalent to a count where function is SQL.</p>\n\n<p>At first, I had something like this but I'm not sure it's going to work. The dates are being stored like so 'Wed Jan 05 2018' hence the use of the Slice() method.</p>\n\n<pre><code>        var cursor = event.target.result;\n\n        //2016\n        firstPostYear = cursor.value.date.slice(-4);\n        alert(firstPostYear);\n        var count = 0;\n\n        if (cursor)\n        {\n            if (cursor.value.date.slice(-4) === firstPostYear)\n            {\n                count += 1;\n            }\n            else\n            {\n                console.log(count);\n                count = 0;\n                firstPostYear = cursor.value.date.slice(-4)\n            }\n\n            cursor.continue()\n        }\n</code></pre>\n\n<p>If somebody could show me a simpler way to do this, I would appreciate it.</p>\n\n<p>This is for Ryan:</p>\n\n<pre><code>function filterSelection(filter) \n{\n    var objectStore = db.transaction('posts').objectStore('posts');\n\nobjectStore.openCursor().onsuccess = function (event) \n{\n    var cursor = event.target.result;\n\n    if (filter === \"all\")\n    {    \n        //Get the number of all time posts\n        var transaction = db.transaction(['posts'], 'readonly');\n        var objectStore = transaction.objectStore('posts');\n\n        var countRequest = objectStore.count();\n        countRequest.onsuccess = function() \n        {\n            // Get table element\n            var table = document.getElementById(\"activityLog\");\n            //Get table length\n            var rowCount = table.rows.length;\n            // Create a table row\n            var row = table.insertRow(rowCount);\n\n            // Insert new cells positions 1-5 of the \"new\" &lt;tr&gt; element:\n            var cell1 = row.insertCell(0);\n            var cell2 = row.insertCell(1);\n\n            // Add some text to the new cells:\n            cell1.innerHTML = \"All time\";\n            cell2.innerHTML = countRequest.result;\n        }\n\n    }\n\n    else if (filter === \"Years\")\n    {\n        //Get the number of posts each year\n        var cursor = event.target.result;\n\n        var counts = {};\n\n        if (cursor) \n        {\n            const year = cursor.value.date.slice(-4);\n\n            if ( !(year in counts) ) \n            {\n                counts[year] = 0;\n            }\n            (counts[year]) + 1;\n            alert(counts[year]);\n\n            cursor.continue();\n\n        }\n        else\n        {\n\n        }\n\n    }\n</code></pre>\n"}, {"tags": ["javascript", "json", "reactjs", "geojson", "react-leaflet"], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user310988"}, "edited": false, "score": 0, "creation_date": 1546534474, "post_id": 54025690, "comment_id": 94889459, "body": "A change in any of the props being passed in to <code>VectorLayers</code> should cause a re-render. e.g. if <code>color={ this.state.colors[layer.name] }</code> changes, then the component should re-render. By changing the <code>key</code> you&#39;re saying &quot;this is an entirely new item&quot;. That component (and it&#39;s DOM elements) will be removed, and a new one inserted. That&#39;s very inefficient, and not necessary. Just imagine if you did that with a component near the root of your app, you&#39;d be reloading almost the entire DOM just because a colour changed!"}, {"owner": {"reputation": 15, "user_id": 10860040, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YZFKivT-KOE/AAAAAAAAAAI/AAAAAAAAAHk/BLTlTA9aXVo/photo.jpg?sz=128", "display_name": "Marek Kania", "link": "https://stackoverflow.com/users/10860040/marek-kania"}, "edited": false, "score": 0, "creation_date": 1546536521, "post_id": 54025690, "comment_id": 94890417, "body": "@AndyJ so, in your opinion, should I do what jbccollins proposes, or do you have any other option?"}, {"owner": {"reputation": 15, "user_id": 10860040, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YZFKivT-KOE/AAAAAAAAAAI/AAAAAAAAAHk/BLTlTA9aXVo/photo.jpg?sz=128", "display_name": "Marek Kania", "link": "https://stackoverflow.com/users/10860040/marek-kania"}, "edited": false, "score": 0, "creation_date": 1546536754, "post_id": 54025690, "comment_id": 94890534, "body": "@jbccollins you have right about fillOpacity parameter, but the next feature I want to add will be the possibility to change the level of transparency, and the component that does it (from React Color Collection) accepts and returns the rgba format. FillOpacity can read an alpha channel from the rgba format, so instead of creating a function to convert rgba to a value of 0-1, I used the option provided by fillopacity - it was easier and it works well."}, {"owner": {"reputation": 772, "user_id": 4071059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d98b2737d400fd7438730922ee9954f9?s=128&d=identicon&r=PG", "display_name": "jbccollins", "link": "https://stackoverflow.com/users/4071059/jbccollins"}, "edited": false, "score": 1, "creation_date": 1546540677, "post_id": 54025690, "comment_id": 94892273, "body": "@AndyJ yeah you are right. That&#39;s less than ideal. A better option is to make the style prop a function:   <code>style={() =&gt; {return ({fillColor: this.state.style.fillColor})}}</code>  Here&#39;s a fiddle demonstrating that working: <a href=\"https://jsfiddle.net/23d8xg07/\" rel=\"nofollow noreferrer\">jsfiddle.net/23d8xg07</a>"}, {"owner": {"reputation": 15, "user_id": 10860040, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YZFKivT-KOE/AAAAAAAAAAI/AAAAAAAAAHk/BLTlTA9aXVo/photo.jpg?sz=128", "display_name": "Marek Kania", "link": "https://stackoverflow.com/users/10860040/marek-kania"}, "edited": false, "score": 0, "creation_date": 1546550661, "post_id": 54025690, "comment_id": 94896349, "body": "@jbccollins I think that I understand what you mean. I will try to do it in my code, but if can I ask - what key should I use to make it correct if my previous way was wrong?"}, {"owner": {"reputation": 772, "user_id": 4071059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d98b2737d400fd7438730922ee9954f9?s=128&d=identicon&r=PG", "display_name": "jbccollins", "link": "https://stackoverflow.com/users/4071059/jbccollins"}, "reply_to_user": {"reputation": 15, "user_id": 10860040, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YZFKivT-KOE/AAAAAAAAAAI/AAAAAAAAAHk/BLTlTA9aXVo/photo.jpg?sz=128", "display_name": "Marek Kania", "link": "https://stackoverflow.com/users/10860040/marek-kania"}, "edited": false, "score": 0, "creation_date": 1546621422, "post_id": 54025690, "comment_id": 94921840, "body": "@MarekKania your key does not need to change. AndyJ is right about my suggestion to change the key being inefficient. Changing the style from an object to a function should be sufficient."}, {"owner": {"reputation": 15, "user_id": 10860040, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YZFKivT-KOE/AAAAAAAAAAI/AAAAAAAAAHk/BLTlTA9aXVo/photo.jpg?sz=128", "display_name": "Marek Kania", "link": "https://stackoverflow.com/users/10860040/marek-kania"}, "edited": false, "score": 0, "creation_date": 1546641414, "post_id": 54025690, "comment_id": 94929612, "body": "Great, it works perfectly! Thank you guys, @jbccollins you should add this solution as main answer to make it more visible."}], "tags": [], "owner": {"reputation": 772, "user_id": 4071059, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d98b2737d400fd7438730922ee9954f9?s=128&d=identicon&r=PG", "display_name": "jbccollins", "link": "https://stackoverflow.com/users/4071059/jbccollins"}, "is_accepted": true, "score": 0, "last_activity_date": 1546815146, "last_edit_date": 1546815146, "creation_date": 1546530877, "answer_id": 54025690, "question_id": 54014262, "link": "https://stackoverflow.com/questions/54014262/react-component-geojson-not-re-rendering-on-state-change/54025690#54025690", "title": "React component (GeoJSON) not re-rendering on state change", "body": "<p>Edit: Change your style to a function like so:</p>\n\n<p><code>style={() =&gt; {return ({fillColor: this.state.style.fillColor})}}</code></p>\n\n<p><s>Looks like the key you use never changes so react doesn't bother re-rendering your GeoJSON. Try something like </p>\n\n<p><code>key={ this.state.key + this.state.style.fillColor }</code></p>\n\n<p>Also it's weird that you're assigning opacity a color like <code>fillOpacity: this.props.color,</code></p>\n\n<p>Shouldn't that be a number between 0 and 1?</s></p>\n"}], "owner": {"reputation": 15, "user_id": 10860040, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-YZFKivT-KOE/AAAAAAAAAAI/AAAAAAAAAHk/BLTlTA9aXVo/photo.jpg?sz=128", "display_name": "Marek Kania", "link": "https://stackoverflow.com/users/10860040/marek-kania"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 956, "favorite_count": 0, "accepted_answer_id": 54025690, "answer_count": 1, "score": 1, "last_activity_date": 1546815146, "creation_date": 1546469853, "question_id": 54014262, "link": "https://stackoverflow.com/questions/54014262/react-component-geojson-not-re-rendering-on-state-change", "title": "React component (GeoJSON) not re-rendering on state change", "body": "<p>I use the react-leaflet library to create a simple geoportal in which the user can change the color, visibility and transparency of the vector layers. I took the sliders to change the color from the React color collection. The problem is that after changing the style in the state of my component with GeoJSON, my vector layer does not change its color - it does not render again.</p>\n\n<p>Here is my component with GeoJSON layer (there may be a few unnecessary elements that resulted from repeated attempts to fix the problem) :</p>\n\n<pre><code>import React from 'react';\nimport PropTypes from 'prop-types';\nimport { GeoJSON } from 'react-leaflet';\n\nclass VectorLayers extends React.Component{\n    constructor(props){\n        super(props);\n        this.state={\n            key: this.props.layer.name,\n            data: this.props.layer,\n            style: {\n                weight: 0,\n                fillColor: this.props.color,\n                fillOpacity: this.props.color,\n                styleChanged: false\n            },\n        }\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        if(this.state.style !== prevState.style) {\n            let newStatus = !this.state.style.styleChanged\n            this.setState({newStatus})\n        }\n    }\n\n    static getDerivedStateFromProps(nextProps, prevState){\n        if(nextProps.color!==prevState.style.fillColor){\n            return {style: {\n                weight: 0,\n                fillColor : nextProps.color,\n                fillOpacity : nextProps.color\n            }}\n        }\n        else return null;\n    }\n    render(){\n        return (\n            &lt;GeoJSON\n                key={ this.state.key }\n                data={ this.state.data }\n                style={ this.state.style }\n            /&gt;\n        );\n    }\n}\n\nVectorLayers.propTypes = {\n    layer: PropTypes.shape().isRequired,\n    color: PropTypes.string.isRequired\n};\n\nexport default VectorLayers;\n</code></pre>\n\n<p>And this is a fragment of my App.js code with props for vector layer:</p>\n\n<pre><code>            {\n                this.state.layers.map((layer) =&gt; ( \n                    this.state.checkboxes[layer.name] &amp;&amp; (\n                        &lt;VectorLayers\n                            key={ layer.name }\n                            layer={ layer }\n                            color={ this.state.colors[layer.name] }\n                        /&gt;\n                    )\n                ))\n            }\n</code></pre>\n\n<p>The function to change the color and the components with the sliders work well, so I do not see the need to add them here. I will be very grateful for your help in finding a solution!</p>\n"}, {"tags": ["javascript", "cron", "momentjs"], "comments": [{"owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 2, "creation_date": 1546475417, "post_id": 54014259, "comment_id": 94866948, "body": "Are you trying to affect a crontab entry on a *nix server? Are you doing this from a browser? from a nodejs server-side program? from something else? Javascript &amp; cron don&#39;t have a natural connection, so it is entirely unclear what you are trying to do. Cron will do what it does with the crontab entry, regardless of how you would like it to be saved, so <code>00 06</code> and <code>00 11</code> mean different things to <code>cron</code>. There is currently one close-vote for &quot;Too Broad&quot; on your question -- I would vote &quot;unclear what you&#39;re asking&quot; because I <i>really</i> can&#39;t tell what you&#39;re goal is."}, {"owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "edited": false, "score": 1, "creation_date": 1546525777, "post_id": 54014259, "comment_id": 94884736, "body": "Hi Liz, on top of the comment of Stephen, if I would assume a standard crontab file, then your solution will also be invalid as there is daylight saving time involved. Do you know in which timezone your cron is running? You might try adding <code>0 * * * * date &gt; &#47;tmp&#47;date.out</code> which will show your TZ."}, {"owner": {"reputation": 20517, "user_id": 8344060, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1UbPk.png?s=128&g=1", "display_name": "kvantour", "link": "https://stackoverflow.com/users/8344060/kvantour"}, "edited": false, "score": 0, "creation_date": 1546525906, "post_id": 54014259, "comment_id": 94884812, "body": "From <code>man 5 crontab</code>: The  <code>CRON_TZ</code>  variable  specifies the time zone specific for the cron table.  The user should enter a time according to the specified time zone into the table.  The time used for writing into a log file is taken from the local        time zone, where the daemon is running"}, {"owner": {"reputation": 1157, "user_id": 7724099, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-GEcCwc0Ei6k/AAAAAAAAAAI/AAAAAAAACts/FznT3I-R1vA/photo.jpg?sz=128", "display_name": "Liz Parody", "link": "https://stackoverflow.com/users/7724099/liz-parody"}, "reply_to_user": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 1, "creation_date": 1546536843, "post_id": 54014259, "comment_id": 94890574, "body": "@StephenP I updated the question, I hope is more clear, if its not, please let me know :)"}, {"owner": {"reputation": 1889, "user_id": 7872063, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wDCavaPv1_I/AAAAAAAAAAI/AAAAAAAAAJg/lh0EvSkqEM8/photo.jpg?sz=128", "display_name": "Ben Steward", "link": "https://stackoverflow.com/users/7872063/ben-steward"}, "edited": false, "score": 0, "creation_date": 1557106114, "post_id": 54014259, "comment_id": 98642522, "body": "@LizParody Any progress on this question? I&#39;m trying to solve the same thing right now, and some of these comments here made me wonder if I&#39;m on a fool&#39;s errand, especially considering there is daylight savings and other oddities that would have to be accounted for in the &quot;translation&quot; of this cron syntax."}, {"owner": {"reputation": 1157, "user_id": 7724099, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-GEcCwc0Ei6k/AAAAAAAAAAI/AAAAAAAACts/FznT3I-R1vA/photo.jpg?sz=128", "display_name": "Liz Parody", "link": "https://stackoverflow.com/users/7724099/liz-parody"}, "reply_to_user": {"reputation": 1889, "user_id": 7872063, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wDCavaPv1_I/AAAAAAAAAAI/AAAAAAAAAJg/lh0EvSkqEM8/photo.jpg?sz=128", "display_name": "Ben Steward", "link": "https://stackoverflow.com/users/7872063/ben-steward"}, "edited": false, "score": 0, "creation_date": 1557426459, "post_id": 54014259, "comment_id": 98770908, "body": "Hi @BenSteward, unfortunately, I couldn&#39;t solve this :("}, {"owner": {"reputation": 1889, "user_id": 7872063, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wDCavaPv1_I/AAAAAAAAAAI/AAAAAAAAAJg/lh0EvSkqEM8/photo.jpg?sz=128", "display_name": "Ben Steward", "link": "https://stackoverflow.com/users/7872063/ben-steward"}, "edited": false, "score": 0, "creation_date": 1557463930, "post_id": 54014259, "comment_id": 98780742, "body": "@LizParody Yeah, it&#39;s tough. I am working around this complicated territory by saving a nextTick property as the millisecond value computed using both the time and the timezone (required parameter to ensure it is always accurate). This nextTick property is then used as the source of truth for my application and updated in the DB any time that job runs. Thanks for the response and for posting the good question!"}], "owner": {"reputation": 1157, "user_id": 7724099, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-GEcCwc0Ei6k/AAAAAAAAAAI/AAAAAAAACts/FznT3I-R1vA/photo.jpg?sz=128", "display_name": "Liz Parody", "link": "https://stackoverflow.com/users/7724099/liz-parody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 492, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1546536738, "creation_date": 1546469815, "last_edit_date": 1546536738, "question_id": 54014259, "link": "https://stackoverflow.com/questions/54014259/convert-cron-format-to-utc-javascript", "title": "Convert cron format to UTC - Javascript", "body": "<p>I'm using react and I have a function that once is called, it saves a cron into a Postgres database (we are using nodejs for the backend). This is the function <code>saveSchedule(this.state.schedule)</code> this <code>this.state.schedule</code> is a cron, let's say everyday at 6 am <code>00 06 * * *</code> in est time. But I want this value to be saved in UTC in the database, because we handle multiple timezones, so it should be saved as <code>00 11 * * *</code>,</p>\n\n<p>Another example in est time, <code>50 23 * * 1,2,3</code> this is every Monday, Tuesday and Wednesday at 23:50, in UTC should be saved as <code>50 4 * * 2,3,4</code>, at 4:50 Tuesday, Wednesday and Thursday is there a way of doing this?</p>\n"}, {"tags": ["javascript", "processing", "p5.js"], "comments": [{"owner": {"reputation": 2478, "user_id": 6110371, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/O93Qp.jpg?s=128&g=1", "display_name": "VBA Pete", "link": "https://stackoverflow.com/users/6110371/vba-pete"}, "edited": false, "score": 0, "creation_date": 1546487185, "post_id": 54014227, "comment_id": 94868938, "body": "What exactly is your question? Please add more details to your post."}], "answers": [{"tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": true, "score": 1, "last_activity_date": 1546470324, "creation_date": 1546470324, "answer_id": 54014334, "question_id": 54014227, "link": "https://stackoverflow.com/questions/54014227/push-doesnt-seem-to-be-adding-to-my-array/54014334#54014334", "title": ".push doesn&#39;t seem to be adding to my array", "body": "<p>The second statement in the <a href=\"https://www.w3schools.com/js/js_loop_for.asp\" rel=\"nofollow noreferrer\">for loop</a> defines the condition which has to be fulfilled for executing the code block of the loop. The code block of the loop is executed as long as the condition is fullfilled </p>\n\n<p>The initial value of <code>this.num</code> is <code>num</code> (which is 13 in your case). So the condition <code>this.num === 0</code> is never fulfilled and the statements in the code block of the loop are never executed. </p>\n\n<p>Change the condition statement in the for loop:</p>\n\n\n\n<p><s><code>for(let i = 0; this.num === 0; i++)</code></s><br>\n<code>for(let i = 0; this.num != 0; i++)</code> </p>\n"}], "owner": {"reputation": 39, "user_id": 10850105, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-D3XX5FFCNaA/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbfnT0UivFO2KVurOdfYINOkyIoRw/mo/photo.jpg?sz=128", "display_name": "hello", "link": "https://stackoverflow.com/users/10850105/hello"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 54014334, "answer_count": 1, "score": 1, "last_activity_date": 1574633881, "creation_date": 1546469596, "last_edit_date": 1574633881, "question_id": 54014227, "link": "https://stackoverflow.com/questions/54014227/push-doesnt-seem-to-be-adding-to-my-array", "title": ".push doesn&#39;t seem to be adding to my array", "body": "<p>I have called the <code>.push</code> function, but nothing is being added to my array. Here is my code:</p>\n\n<pre><code>function setup() {\n  createCanvas(400, 400);\n}\nlet digits = [];\nfunction binaryConverter(num){\n  this.num = num;\n    for(let i = 0; this.num === 0; i++){\n    digits.push(this.num % 2);\n    this.num = floor(this.num/=2);\n  }\n}\nfunction draw() {\n  background(220);\n  binaryConverter(13);\n  print(digits);\n}\n</code></pre>\n\n<p>I expected the program to output the digits, but it outputs empty arrays.</p>\n"}, {"tags": ["javascript", "parse-platform", "parse-cloud-code"], "answers": [{"tags": [], "owner": {"reputation": 1417, "user_id": 5464891, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6084f8ac49d4fda7c8da232aed993bde?s=128&d=identicon&r=PG", "display_name": "Arthur Cinader", "link": "https://stackoverflow.com/users/5464891/arthur-cinader"}, "is_accepted": true, "score": 0, "last_activity_date": 1546904432, "creation_date": 1546904432, "answer_id": 54083391, "question_id": 54014214, "link": "https://stackoverflow.com/questions/54014214/how-to-create-and-save-object-from-cloud-code-parse-server/54083391#54083391", "title": "How to create and save object from cloud code (parse server)", "body": "<p>you cannot set the id, and you shouldn't need to.  Instead, make a pointer to the user that the public user info belongs to.</p>\n\n<p>Here's my version of the code with a unit test to make sure that it works as expected.  Note that I am using modern javascript.  You should be using either node 8 or 10, my code will run with that.</p>\n\n<pre><code>const makePublicUser = function makePublicUser(request) {\n  // use destructuring to get request objects\n  const { object: user, log } = request;\n  log.info('Custom log -&gt; Parse.Cloud.afterSave(Parse.User, function(request){} :');\n  const date = new Date();\n  const userQuery = new Parse.Query('publicUserInfo');\n  userQuery.equalTo('user', user);\n\n  // could use async/await, but will do with promises\n  return userQuery.first({ useMasterKey: true }) // shouldn't need the master here\n    .then((result) =&gt; {\n      const userData = result || new Parse.Object('publicUserInfo', { user });\n      userData.set('nick', id);\n      userData.set('nickch', date);\n      userData.set('avatar', '1');\n      userData.set('avatarch', date);\n      userData.set('points', 0);\n      userData.set('state', true);\n      userData.set('lastSeen', date);\n      return userData.save(null, { useMasterKey: true });\n    })\n    .catch(log.error.bind(log));\n};\n\ndescribe('StackOverflow', function () {\n  beforeAll(function () {\n    Parse.Cloud.afterSave(Parse.User, makePublicUser);\n  });\n\n  it('should create a publicUserInfo', async function () {\n    const user = new Parse.User({ username: 'foo', password: 'bar' });\n    await user.save();\n    const publicUserInfo = await new Parse.Query('publicUserInfo')\n      .equalTo('user', user)\n      .first();\n    expect(publicUserInfo).not.toBeNull();\n  });\n});\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 8963659, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c432adf54694fa7d53e4e55ee029bf17?s=128&d=identicon&r=PG&f=1", "display_name": "A. Newbie", "link": "https://stackoverflow.com/users/8963659/a-newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1233, "favorite_count": 0, "accepted_answer_id": 54083391, "answer_count": 1, "score": 0, "last_activity_date": 1546904432, "creation_date": 1546469529, "question_id": 54014214, "link": "https://stackoverflow.com/questions/54014214/how-to-create-and-save-object-from-cloud-code-parse-server", "title": "How to create and save object from cloud code (parse server)", "body": "<p>I need to create a cloud function after user registration that will create an object in path/class \"publicUserInfo\" with objectId same as the user's Id with given fields. I've tried to put together some code of the already answered questions here and there but I haven't seen a simple example. </p>\n\n<p>My code so far:</p>\n\n<pre><code>Parse.Cloud.afterSave(Parse.User, function(request) {\nconsole.log(\"Custom log -&gt; Parse.Cloud.afterSave(Parse.User, function(request){} :\");\n\nvar id = request.object.id;\nvar date = new Date();\n\nvar userObject = Parse.Object.extend(\"publicUserInfo\");\nvar userQuery = new Parse.Query(userObject);\n\nuserQuery.equalTo(\"objectId\", id);\n\nuserQuery.first({\n        useMasterKey: true, \n        success:function(userData){\n            userData.set(\"nick\", id);\n            userData.set(\"nickch\", date);\n            userData.set(\"avatar\", \"1\");\n            userData.set(\"avatarch\", date);\n            userData.set(\"points\", 0);\n            userData.set(\"state\", true);\n            userData.set(\"lastSeen\", date);\n            userData.save(null, { useMasterKey: true });\n        },\n        error: function(error){\n            console.log(error);\n            response.error(error);\n        }\n    });\n\n});\n</code></pre>\n\n<p>I think the code is searching for an object first and if found it inserts the data. I might be wrong but I need it to save the data in publicUserInfo -> id same as the user's, the data is not there hence no need to be searched for, I must create it. Any ideas?</p>\n"}, {"tags": ["javascript", "automation", "ui-automation"], "answers": [{"tags": [], "owner": {"reputation": 170, "user_id": 10518934, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-i5u6YggaLJk/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVUmlSZrzg-2-dWfgPwiDGLr6aY-Q/mo/photo.jpg?sz=128", "display_name": "HRP", "link": "https://stackoverflow.com/users/10518934/hrp"}, "is_accepted": false, "score": 0, "last_activity_date": 1546470023, "creation_date": 1546470023, "answer_id": 54014294, "question_id": 54014169, "link": "https://stackoverflow.com/questions/54014169/javascript-automation-of-button-click/54014294#54014294", "title": "Javascript: Automation of button click", "body": "<p>You can try it : </p>\n\n<pre><code>var btn = document.getElementByClassName(\"Button\");\nbtn.click();\n</code></pre>\n\n<p>or <code>imageWin(12344,'yyyy','120','someId')</code></p>\n"}], "owner": {"reputation": 6754, "user_id": 2924482, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e6e12fed09d0e8d38e550db2f498460f?s=128&d=identicon&r=PG&f=1", "display_name": "user2924482", "link": "https://stackoverflow.com/users/2924482/user2924482"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1546549711, "creation_date": 1546469276, "last_edit_date": 1546549711, "question_id": 54014169, "link": "https://stackoverflow.com/questions/54014169/javascript-automation-of-button-click", "title": "Javascript: Automation of button click", "body": "<p>I'm generation a html button:</p>\n\n<pre><code>&lt;a href=\"javascript:void(0);\" onclick=\"imageWin(12344,'yyyy','120','someId');\" class=\"Button\"&gt;Click&lt;/a&gt;\n</code></pre>\n\n<p>But I'm trying to automate clicking on the button using javascript.</p>\n\n<p>Any of you knows how can I do this?</p>\n"}, {"tags": ["javascript", "node.js"], "answers": [{"tags": [], "owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "is_accepted": false, "score": 2, "last_activity_date": 1546470503, "last_edit_date": 1546470503, "creation_date": 1546470176, "answer_id": 54014314, "question_id": 54014163, "link": "https://stackoverflow.com/questions/54014163/how-to-concatenate-variables-that-are-not-undefined-in-node-js/54014314#54014314", "title": "How to concatenate variables that are not undefined in Node.js?", "body": "<p>If you can get all these values you want to concatenate into an array, you can just use <code>join()</code> to put the rest together. Something like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let order = {\r\n    credit_card_brand_codename: \"Code Name\",\r\n    credit_card_brand_code: \"Brand Code\",\r\n    credit_card_id: \"Card Id\",\r\n    channel : undefined\r\n}\r\n\r\n// the names you want to join\r\nlet values = [\r\n    order.credit_card_brand_codename,\r\n    order.credit_card_brand_code,\r\n    order.credit_card_id,\r\n    order.channel,\r\n    order.someUnknownKey\r\n]\r\n\r\nlet s = values.join('_') // or .join('') to simply concat\r\nconsole.log(s)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This will handle names, who's value is undefined. Keep in mind it is still an error to try to use undeclared names so you can't randomly add a bunch of unknown variable to the list.</p>\n"}, {"tags": [], "owner": {"reputation": 564, "user_id": 3637541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c455e355de061d57d5a2cabf3649eddb?s=128&d=identicon&r=PG&f=1", "display_name": "user3637541", "link": "https://stackoverflow.com/users/3637541/user3637541"}, "is_accepted": false, "score": 0, "last_activity_date": 1546470274, "creation_date": 1546470274, "answer_id": 54014329, "question_id": 54014163, "link": "https://stackoverflow.com/questions/54014163/how-to-concatenate-variables-that-are-not-undefined-in-node-js/54014329#54014329", "title": "How to concatenate variables that are not undefined in Node.js?", "body": "<pre><code>const arr = [pin , order.id , order.operation_number , \n  order.operation_type , order.operation_status , order.operation_amount \n  , order.operation_currency , order.operation_withdrawal_amount , \n  order.operation_commission_amount , order.is_completed , \n  order.operation_original_amount , order.operation_original_currency , \n  order.operation_datetime , order.operation_related_number , \n  order.control , order.description , order.email , order.p_info , \n  order.p_email , order.credit_card_issuer_identification_number , \n  order.credit_card_masked_number , order.credit_card_expiration_year , \n  order.credit_card_expiration_month , order.credit_card_brand_codename \n  , order.credit_card_brand_code , order.credit_card_id , order.channel \n  , order.channel_country , order.geoip_country];\narr.filter(a =&gt; a != undefined).join();\n</code></pre>\n\n<p>Filter out what you do not need and than joint it.</p>\n"}, {"comments": [{"owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1546472568, "post_id": 54014348, "comment_id": 94866354, "body": "Doesn&#39;t always work: <code>[&#39;i-contain-undefined&#39;, undefined].join(&#39;&#39;).replace(&#47;undefined&#47;g, &#39;&#39;)</code> will evaluate to <code>&#39;i-contain-&#39;</code>"}, {"owner": {"reputation": 1391, "user_id": 8828489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cea21c4b94376330efc9e542d5733749?s=128&d=identicon&r=PG", "display_name": "huynhsamha", "link": "https://stackoverflow.com/users/8828489/huynhsamha"}, "reply_to_user": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "edited": false, "score": 0, "creation_date": 1546474120, "post_id": 54014348, "comment_id": 94866679, "body": "@NinoFiliu, I&#39;ve mentioned this is <b>a bad way</b>, and I also had other ways to resolve the problem. Tnx"}], "tags": [], "owner": {"reputation": 1391, "user_id": 8828489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cea21c4b94376330efc9e542d5733749?s=128&d=identicon&r=PG", "display_name": "huynhsamha", "link": "https://stackoverflow.com/users/8828489/huynhsamha"}, "is_accepted": false, "score": -1, "last_activity_date": 1546474349, "last_edit_date": 1546474349, "creation_date": 1546470449, "answer_id": 54014348, "question_id": 54014163, "link": "https://stackoverflow.com/questions/54014163/how-to-concatenate-variables-that-are-not-undefined-in-node-js/54014348#54014348", "title": "How to concatenate variables that are not undefined in Node.js?", "body": "<p>This is a <strong>bad way</strong> after you concat and noticed values <strong>undefined</strong> in your string. You can <strong>replace</strong> them to empty. (LOL)</p>\n\n<pre><code>var pin = \"I123\"\nvar order = {id: 100}\n\nvar sig = pin + order.id + order.operation_number +\norder.operation_type + order.operation_status + order.operation_amount\n+ order.operation_currency + order.operation_withdrawal_amount +\norder.operation_commission_amount + order.is_completed +\norder.operation_original_amount + order.operation_original_currency +\norder.operation_datetime + order.operation_related_number +\norder.control + order.description + order.email + order.p_info +\norder.p_email + order.credit_card_issuer_identification_number +\norder.credit_card_masked_number + order.credit_card_expiration_year +\norder.credit_card_expiration_month + order.credit_card_brand_codename\n+ order.credit_card_brand_code + order.credit_card_id + order.channel\n+ order.channel_country + order.geoip_country;\n\nconsole.log(sig);\n// I123100undefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefinedundefined\n</code></pre>\n\n<p>You can <strong>replace</strong> if you want</p>\n\n<pre><code>sig = sig.replace(/undefined/g, '');\nconsole.log(sig); // I123100\n</code></pre>\n\n<p><strong>Why I mentioned this is a bad way?</strong></p>\n\n<p>Because if your data contains <em>undefined</em> string, it will remove it from your data. This will lose data integrity.</p>\n\n<p>This is <strong>a better way</strong> without <strong>list all attributes of <code>order</code></strong> by loop it's keys. This is very simple.</p>\n\n<pre><code>var sig = pin;\nfor (key in order) sig += order[key] || '';\nconsole.log(sig);\n</code></pre>\n\n<p>And if you want to <strong>determine attributes</strong> should be concat by in <code>order</code>, you can use <code>map</code> and <code>join</code></p>\n\n<pre><code>const keys = [\n  'id', 'operation_number', 'operation_type'\n  // any attribute you want...\n];\n\nvar sig = pin + keys.map(i =&gt; order[i] || '').join('')\nconsole.log(sig);\n</code></pre>\n\n<p>Hope it'll help you :))</p>\n"}, {"tags": [], "owner": {"reputation": 7135, "user_id": 7080548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a05e995eb5f5cc586a70c441414f3a4c?s=128&d=identicon&r=PG&f=1", "display_name": "Sebastian Kaczmarek", "link": "https://stackoverflow.com/users/7080548/sebastian-kaczmarek"}, "is_accepted": false, "score": 1, "last_activity_date": 1546470845, "creation_date": 1546470845, "answer_id": 54014397, "question_id": 54014163, "link": "https://stackoverflow.com/questions/54014163/how-to-concatenate-variables-that-are-not-undefined-in-node-js/54014397#54014397", "title": "How to concatenate variables that are not undefined in Node.js?", "body": "<p>Probably the <code>values.join('')</code> is the better solution but if you want to go fancy, you can use the tagged template literal to filter out falsy values and return a clean string.</p>\n\n<p>Just to show that there is such a thing, here's an example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function filter(strings, ...values) {\r\n  \r\n  let res = '';\r\n  strings.forEach((string, i) =&gt; {\r\n    \r\n    if (values[i]) {\r\n      \r\n      res += string + values[i];\r\n    }\r\n  });\r\n  \r\n  return res;\r\n}\r\n\r\nconst test = filter`${undefined}${'something'}${123}${undefined}`;\r\n\r\nconsole.log(test);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7725618, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-bd5sqU32Z9c/AAAAAAAAAAI/AAAAAAAAAOo/P8FCDAqRVy4/photo.jpg?sz=128", "display_name": "gilbert frausto", "link": "https://stackoverflow.com/users/7725618/gilbert-frausto"}, "is_accepted": false, "score": 0, "last_activity_date": 1546474036, "creation_date": 1546474036, "answer_id": 54014784, "question_id": 54014163, "link": "https://stackoverflow.com/questions/54014163/how-to-concatenate-variables-that-are-not-undefined-in-node-js/54014784#54014784", "title": "How to concatenate variables that are not undefined in Node.js?", "body": "<p>Here is simple solution, just use <code>Object.keys</code> to get the keys and <code>reduce</code> to concatenate the results</p>\n\n<pre><code>// You order object\nconst order = {\n  id: 1050 ,\n  operation_status: undefined,\n  operation_type: 'unknown',\n  operation_amount: undefined\n};\n\n// Get the keys and then reduce to combine the results\nconst sig = Object.keys(order).reduce((all, item) =&gt; {\n  if (order[item]) {\n    all = `${all} ${order[item]}`;\n  }\n  return all;\n}, '');\n\n// Log\nconsole.log(sig);\n</code></pre>\n\n<p><a href=\"https://repl.it/@gilbertfrausto/SurprisedSuddenAnimatronics\" rel=\"nofollow noreferrer\">Example</a></p>\n"}], "owner": {"reputation": 473, "user_id": 7615968, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/106125162a7467a5117eb31102518b24?s=128&d=identicon&r=PG&f=1", "display_name": "curious", "link": "https://stackoverflow.com/users/7615968/curious"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 501, "favorite_count": 0, "closed_date": 1546521995, "answer_count": 5, "score": -2, "last_activity_date": 1546474349, "creation_date": 1546469244, "last_edit_date": 1546469688, "question_id": 54014163, "link": "https://stackoverflow.com/questions/54014163/how-to-concatenate-variables-that-are-not-undefined-in-node-js", "closed_reason": "Opinion-based", "title": "How to concatenate variables that are not undefined in Node.js?", "body": "<p>I have a large number of variables - as below, and some of them may not be defined. What would be a clean way to skip all undefined ones?</p>\n\n<pre><code>var sig = pin + order.id + order.operation_number + \norder.operation_type + order.operation_status + order.operation_amount \n+ order.operation_currency + order.operation_withdrawal_amount + \norder.operation_commission_amount + order.is_completed + \norder.operation_original_amount + order.operation_original_currency + \norder.operation_datetime + order.operation_related_number + \norder.control + order.description + order.email + order.p_info + \norder.p_email + order.credit_card_issuer_identification_number + \norder.credit_card_masked_number + order.credit_card_expiration_year + \norder.credit_card_expiration_month + order.credit_card_brand_codename \n+ order.credit_card_brand_code + order.credit_card_id + order.channel \n+ order.channel_country + order.geoip_country;\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1548, "user_id": 1456334, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GR43K.jpg?s=128&g=1", "display_name": "oooyaya", "link": "https://stackoverflow.com/users/1456334/oooyaya"}, "edited": false, "score": 1, "creation_date": 1546470016, "post_id": 54014144, "comment_id": 94865687, "body": "This is a feature of browsers themselves.  My advice would be to just create a constant which represents this amount instead of trying to query some variable which stores it. So you&#39;ll have to build some map saying Chrome = 50, Safari = 75 or whatever they are.  I havent tried it in years but I believe the <code>onScroll</code> events will go in to negative <code>y</code> when you&#39;re causing this effect to happen.  And in case you trying to do something to negate this effect, it&#39;s possible to turn it off entirely <a href=\"https://stackoverflow.com/questions/29008194/disabling-androids-chrome-pull-down-to-refresh-feature\" title=\"disabling androids chrome pull down to refresh feature\">stackoverflow.com/questions/29008194/&hellip;</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4639281"}, "edited": false, "score": 0, "creation_date": 1546477173, "post_id": 54014144, "comment_id": 94867278, "body": "Chrome doesn&#39;t have this on Windows 10 as far as I can tell."}], "owner": {"reputation": 1125, "user_id": 4438877, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/e2010227dc3ef086ea7c9e5948c4e021?s=128&d=identicon&r=PG&f=1", "display_name": "CalAlt", "link": "https://stackoverflow.com/users/4438877/calalt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546471226, "creation_date": 1546469075, "last_edit_date": 1546471226, "question_id": 54014144, "link": "https://stackoverflow.com/questions/54014144/is-it-possible-to-measure-the-distance-of-the-overflow-scroll", "title": "Is it possible to measure the distance of the overflow scroll?", "body": "<p>The title refers to the scroll inertia found in most browsers when you scroll out of the document bounds.</p>\n\n<p>I would like to calculate span of the inertia, as in the max distance? More specifically, when the user scrolls to the top of page.</p>\n\n<p>If this is not possible, is it possible to just register a count of when this event happens? Any help would be greatly appreciated. </p>\n\n<p><a href=\"https://i.stack.imgur.com/hmjJe.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hmjJe.gif\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "algorithm", "quicksort"], "answers": [{"comments": [{"owner": {"reputation": 2740, "user_id": 491739, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/mBoEY.jpg?s=128&g=1", "display_name": "lost baby", "link": "https://stackoverflow.com/users/491739/lost-baby"}, "edited": false, "score": 0, "creation_date": 1607249332, "post_id": 59258520, "comment_id": 115208192, "body": "Remember to use parseInt(input[i])  or your data will still be strings and so your sort order will be off for items greater than 9."}], "tags": [], "owner": {"reputation": 11200, "user_id": 1055395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be6778daa107272cbbf6bc69c6c24683?s=128&d=identicon&r=PG&f=1", "display_name": "Anatolii", "link": "https://stackoverflow.com/users/1055395/anatolii"}, "is_accepted": true, "score": 1, "last_activity_date": 1575939395, "last_edit_date": 1592644375, "creation_date": 1575937365, "answer_id": 59258520, "question_id": 54014127, "link": "https://stackoverflow.com/questions/54014127/quicksort-problem-not-getting-the-correct-result/59258520#59258520", "title": "Quicksort Problem - not getting the correct result", "body": "<p>There're a couple of issues with your implementation:</p>\n<p>Below is a quote from the task description:</p>\n<blockquote>\n<p>In this challenge, print your array every time your partitioning method finishes, i.e. whenever two subarrays, along with the pivot, are merged together.</p>\n</blockquote>\n<p>However, you're trying to print the final sorted array <code>sortedArrays</code> rather than a subarray for each step as the problem states. So, print the subarray <code>newArr</code> before returning it. Don't forget to format the output using <code>join</code>.</p>\n<p>Another quote:</p>\n<blockquote>\n<p>There will be two lines of input:</p>\n<p>the size of the array</p>\n<p>the n numbers of the array</p>\n</blockquote>\n<p>Your <code>processData</code> expects a parsed input aka an array that it can work with. If it receives the raw input (2 lines of data) then they should be parsed accordingly. for instance, they could be parsed as below:</p>\n<pre><code>...\nfunction processData(input) {\n    var lines = input.split('\\n')\n    var len = lines[0]\n    var arr = lines[1].split(' '); \n...\n</code></pre>\n<p>And so your fixed code could look as follows:</p>\n<pre><code>function processData(input) {\n    var lines = input.split('\\n')\n    var len = lines[0]\n    var arr = lines[1].split(' ');\n    quickSort(arr);\n        function quickSort(input) {\n\n        if (input.length &lt;= 1) return input;\n\n        let pivot = [input[0]];\n        let left = [], right = [];\n        for (let i = 1; i &lt; input.length; i++) {\n            input[i] &lt; pivot ? left.push(input[i]) : right.push(input[i]);\n        }\n\n        let newArr = quickSort(left).concat(pivot, quickSort(right));\n        // print the subarray once the partitioning for this step has finished\n        console.log(newArr.join(' '))\n        return newArr;\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 10859983, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-brMrOIeLDIc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZuUJwW_Z54tcg-3odPQEYX6P4ojA/mo/photo.jpg?sz=128", "display_name": "Eojo", "link": "https://stackoverflow.com/users/10859983/eojo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 96, "favorite_count": 0, "accepted_answer_id": 59258520, "answer_count": 1, "score": 1, "last_activity_date": 1575939395, "creation_date": 1546468900, "last_edit_date": 1575937423, "question_id": 54014127, "link": "https://stackoverflow.com/questions/54014127/quicksort-problem-not-getting-the-correct-result", "title": "Quicksort Problem - not getting the correct result", "body": "<p>I'm working on the <a href=\"https://www.hackerrank.com/challenges/quicksort2/problem\" rel=\"nofollow noreferrer\">Quicksort2</a> problem on HackerRank.  I can't figure out how it wants me to output the solution.</p>\n\n<p>I've tried to console.log the sorted arrays as they're created, an array of the sorted arrays and an array of the arrays converted to strings.  Returning from the processData function seems to do nothing. </p>\n\n<pre><code>function checkSort(arr) {\n    for (let i = 0; i &lt; arr.length - 1; i++) {\n        if (arr[i] &gt; arr[i + 1]) return false;\n    }\n    return true;\n}\n\nfunction processData(input) {\n    let sortedArrays = [];\n    quickSort(input);\n\n    function quickSort(input) {\n\n        if (input.length &lt;= 1) return input;\n\n        let pivot = [input[0]];\n        let left = [], right = [];\n        for (let i = 1; i &lt; input.length; i++) {\n            input[i] &lt; pivot ? left.push(input[i]) : right.push(input[i]);\n        }\n\n        let newArr = quickSort(left).concat(pivot, quickSort(right));\n        if (checkSort(newArr)) sortedArrays.push(newArr);\n        return newArr;\n    }\n    console.log(sortedArrays);\n}\n</code></pre>\n\n<p>I'm expecting it to match HackerRank's desired output.</p>\n"}, {"tags": ["javascript", "html"], "answers": [{"comments": [{"owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "reply_to_user": {"reputation": 157, "user_id": 10836136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a7cb4b68bcc5afe10444ed2904dfc0?s=128&d=identicon&r=PG&f=1", "display_name": "Discover", "link": "https://stackoverflow.com/users/10836136/discover"}, "edited": false, "score": 0, "creation_date": 1546544996, "post_id": 54017579, "comment_id": 94894074, "body": "Indeed, happy coding."}], "tags": [], "owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "is_accepted": true, "score": 1, "last_activity_date": 1546498334, "creation_date": 1546498334, "answer_id": 54017579, "question_id": 54014112, "link": "https://stackoverflow.com/questions/54014112/add-remove-table-columns-in-javascript-based-on-checkbox-status/54017579#54017579", "title": "Add/Remove Table Columns in JavaScript Based On Checkbox Status", "body": "<blockquote>\n  <p><em>\"So how to connect the checkbox status to the append statement so that columns don't show up even after the search?\"</em></p>\n  \n  <p><em>\"I'm assuming the solution is to turn every Table TD into a variable and somehow connect it to the status of the checkbox?\"</em></p>\n  \n  <p><em>\"How to achieve this? Or better solutions?\"</em></p>\n</blockquote>\n\n<p>You are correct, it is the way the rows are appended to the table without checking if any of the checkboxes were unchecked. The following are the changes made:</p>\n\n<ul>\n<li><p>All checkboxes have only one class: <code>.theader</code></p></li>\n<li><p>All <code>&lt;td&gt;</code> have the <code>#id</code>s removed, it's invalid HTML to have duplicated <code>#id</code>s plus it served no purpose anyhow.</p></li>\n<li><p>Below is the solution to the issue concerning column generation:</p></li>\n</ul>\n\n<blockquote>\n<pre><code>   searchIds.forEach(CODE =&gt; {\n     // Row template stored as an array of strings \n     var theader = [\n       `&lt;td class=\"theader1\"&gt;${CODE}&lt;/td&gt;`, \n       `&lt;td class=\"theader2\"&gt;${datab[CODE]}&lt;/td&gt;`,\n       `&lt;td class=\"theader3\"&gt;${datac[CODE]}&lt;/td&gt;`, \n       `&lt;td class=\"theader4\"&gt;${datad[CODE]}&lt;/td&gt;`\n     ];\n     // &lt;tr&gt; is appended before &lt;td&gt; is generated \n     $(\"tbody\").append('&lt;tr&gt;&lt;/tr&gt;');\n     // Each checkbox...\n     $('.theader').each(function(idx) {\n        // ...that is checked... \n        if ($(this).is(':checked')) {\n          // ...will append the string from the array according to current index\n          $(\"tbody tr:last\").append(`${theader[idx]}`);\n        }\n     });\n  });\n</code></pre>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var datab, datac, datad;\r\n$(\"#Search\").click(function() {\r\n  $(\"tbody\").empty();\r\n\r\n  var searchIds = new Set($('#searchBox').val().split(/[ ,\\r\\n]+/).map(s =&gt; s.trim()));\r\n\r\n  searchIds.forEach(CODE =&gt; {\r\n\r\n    var theader = [`&lt;td class=\"theader1\"&gt;${CODE}&lt;/td&gt;`, `&lt;td class=\"theader2\"&gt;${datab[CODE]}&lt;/td&gt;`, `&lt;td class=\"theader3\" &gt;${datac[CODE]}&lt;/td&gt;`, `&lt;td class=\"theader4\"&gt;${datad[CODE]}&lt;/td&gt;`];\r\n    $(\"tbody\").append('&lt;tr&gt;&lt;/tr&gt;');\r\n    $('.theader').each(function(idx) {\r\n\r\n      if ($(this).is(':checked')) {\r\n        $(\"tbody tr:last\").append(`${theader[idx]}`);\r\n      }\r\n    });\r\n  });\r\n});\r\n\r\n\r\nfunction getdata() {\r\n  fetch(\"https://api.myjson.com/bins/f2nos\").then(resp =&gt; resp.json()).then(resp =&gt; {\r\n    datab = Object.assign({}, ...resp.features.map(\r\n      ({\r\n        properties: {\r\n          CODE,\r\n          DIVISION\r\n        }\r\n      }) =&gt; ({\r\n        [CODE]: DIVISION\r\n      })));\r\n    datac = Object.assign({}, ...resp.features.map(\r\n      ({\r\n        properties: {\r\n          CODE,\r\n          PROVINCE\r\n        }\r\n      }) =&gt; ({\r\n        [CODE]: PROVINCE\r\n      })));\r\n    datad = Object.assign({}, ...resp.features.map(\r\n      ({\r\n        properties: {\r\n          CODE,\r\n          NAME\r\n        }\r\n      }) =&gt; ({\r\n        [CODE]: NAME\r\n      })));\r\n  });\r\n}\r\n\r\ngetdata();\r\n\r\n/*Checkbox To Table Head*/\r\n$(\".theader:not(:checked)\").each(function() {\r\n  var column = \"table .\" + $(this).attr(\"name\");\r\n  $(column).hide();\r\n});\r\n\r\n$(\".theader\").click(function() {\r\n  var column = \"table .\" + $(this).attr(\"name\");\r\n  $(column).toggle();\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;head&gt;\r\n  &lt;title&gt;Code Table&lt;/title&gt;\r\n\r\n  &lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;fieldset&gt;\r\n    &lt;input id=\"searchBox\" placeholder=\"Paste the list HERE\" type=\"search\"&gt;\r\n\r\n    &lt;button type=\"button\" id=\"Search\"&gt;Search&lt;/button&gt;\r\n    &lt;br&gt;&lt;br&gt;\r\n    &lt;input type=\"checkbox\" class=\"theader\" name=\"theader1\" checked=\"checked\"&gt; CODE\r\n    &lt;input type=\"checkbox\" class=\"theader\" name=\"theader2\" checked=\"checked\"&gt; DIVISION\r\n    &lt;input type=\"checkbox\" class=\"theader\" name=\"theader3\" checked=\"checked\"&gt; PROVINCE\r\n    &lt;input type=\"checkbox\" class=\"theader\" name=\"theader4\" checked=\"checked\"&gt; NAME\r\n\r\n  &lt;/fieldset&gt;\r\n  &lt;br&gt;\r\n  &lt;table border=\"1px\" id=\"data\"&gt;\r\n    &lt;thead&gt;\r\n      &lt;tr&gt;\r\n        &lt;th id=\"theader1\" class=\"theader1\"&gt;CODE&lt;/th&gt;\r\n        &lt;th id=\"theader2\" class=\"theader2\"&gt;DIVISION&lt;/th&gt;\r\n        &lt;th id=\"theader3\" class=\"theader3\"&gt;PROVINCE&lt;/th&gt;\r\n        &lt;th id=\"theader4\" class=\"theader4\"&gt;NAME&lt;/th&gt;\r\n      &lt;/tr&gt;\r\n    &lt;/thead&gt;\r\n    &lt;tbody&gt;\r\n\r\n    &lt;/tbody&gt;\r\n  &lt;/table&gt;\r\n  &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 157, "user_id": 10836136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a7cb4b68bcc5afe10444ed2904dfc0?s=128&d=identicon&r=PG&f=1", "display_name": "Discover", "link": "https://stackoverflow.com/users/10836136/discover"}, "edited": false, "score": 0, "creation_date": 1546540529, "post_id": 54018371, "comment_id": 94892211, "body": "Exactly what I asked for! Thanks so much!"}, {"owner": {"reputation": 545, "user_id": 5430038, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-HxjdSsjG-B4/AAAAAAAAAAI/AAAAAAAAEow/MrI0QPSfQ_8/photo.jpg?sz=128", "display_name": "AJAY MAURYA", "link": "https://stackoverflow.com/users/5430038/ajay-maurya"}, "reply_to_user": {"reputation": 157, "user_id": 10836136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a7cb4b68bcc5afe10444ed2904dfc0?s=128&d=identicon&r=PG&f=1", "display_name": "Discover", "link": "https://stackoverflow.com/users/10836136/discover"}, "edited": false, "score": 0, "creation_date": 1546577531, "post_id": 54018371, "comment_id": 94902456, "body": "@Discover if it is help full for you Right check on this answer"}, {"owner": {"reputation": 157, "user_id": 10836136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a7cb4b68bcc5afe10444ed2904dfc0?s=128&d=identicon&r=PG&f=1", "display_name": "Discover", "link": "https://stackoverflow.com/users/10836136/discover"}, "edited": false, "score": 0, "creation_date": 1546627229, "post_id": 54018371, "comment_id": 94924326, "body": "i can only do one check per question and the other answer was faster"}], "tags": [], "owner": {"reputation": 545, "user_id": 5430038, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-HxjdSsjG-B4/AAAAAAAAAAI/AAAAAAAAEow/MrI0QPSfQ_8/photo.jpg?sz=128", "display_name": "AJAY MAURYA", "link": "https://stackoverflow.com/users/5430038/ajay-maurya"}, "is_accepted": false, "score": 1, "last_activity_date": 1546502273, "creation_date": 1546502273, "answer_id": 54018371, "question_id": 54014112, "link": "https://stackoverflow.com/questions/54014112/add-remove-table-columns-in-javascript-based-on-checkbox-status/54018371#54018371", "title": "Add/Remove Table Columns in JavaScript Based On Checkbox Status", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = {};\r\n\r\n$(document).ready(function () {\r\n    $(\"#Search\").click(function (any) {\r\n\t\t$(\"tbody\").empty();\r\n        var searchIds = new Set($('#searchBox').val().split(/[ ,\\r\\n]+/).map(s =&gt; s.trim()));\r\n        searchIds.forEach(CODE =&gt;\r\n\t\t\t\r\n            $(\"tbody\").append('&lt;tr&gt;' + `&lt;td class=\"theader1\" id=\"theader1\"&gt;${CODE}&lt;/td&gt;` + `&lt;td class=\"theader2\" id=\"theader2\"&gt;${datab[CODE]}&lt;/td&gt;` + `&lt;td class=\"theader3\" id=\"theader3\"&gt;${datac[CODE]}&lt;/td&gt;` + `&lt;td class=\"theader4\" id=\"theader4\"&gt;${datad[CODE]}&lt;/td&gt;` + '&lt;/tr&gt;'));\r\n    });\r\n});\r\n\r\nfunction getdata() {\r\n    fetch(\"https://api.myjson.com/bins/f2nos\").then(resp =&gt; resp.json()).then(resp =&gt; {\r\n        datab = Object.assign({}, ...resp.features.map(\r\n            ({ properties: { CODE, DIVISION}}) =&gt; ({ [CODE]: DIVISION}))\r\n        );\r\n        datac = Object.assign({}, ...resp.features.map(\r\n            ({ properties: { CODE, PROVINCE}}) =&gt; ({ [CODE]: PROVINCE}))\r\n        );\r\n        datad = Object.assign({}, ...resp.features.map(\r\n            ({ properties: { CODE, NAME}}) =&gt; ({ [CODE]: NAME}))\r\n        );\t\t\r\n    });\r\n}\r\n\r\ngetdata();\t\t\t\t\t\t\r\n\t\r\n/*Checkbox To Table Head*/\r\n$(document).ready(function(e) {\r\n    \r\n\r\n$(\"input:checkbox:not(:checked)\").each(function() {\r\n\tvar apndcss='';\r\n    var column = \"table .\" + $(this).attr(\"name\");\r\n\tapndcss+=column+\"{display:none;}\";\r\n\t$('#appnedcss').html(apndcss)\r\n    console.log(apndcss);\r\n});\r\n\r\n$(\"#chkbtn\").on('change','input',function(){\r\nvar apndcss='';\r\n$(\"#chkbtn input:checkbox\").each(function() {\r\nif($(this).is(\":not(:checked)\")){\r\nvar column = \"table .\" + $(this).attr(\"name\");\t\r\napndcss+=column+\"{display:none;}\";\r\n}\r\n})\r\n$('#appnedcss').html(apndcss)\r\n})\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Bootstrap Example&lt;/title&gt;\r\n  &lt;meta charset=\"utf-8\"&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\r\n  &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\t&lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n\t&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"&gt;\r\n &lt;style id=\"appnedcss\"&gt;&lt;/style&gt; \r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n  &lt;body&gt;\r\n\t&lt;span class=\"clearable\"&gt;\r\n\t\t&lt;input id=\"searchBox\" type=\"text\" rows=\"25\" cols=\"15\" WRAP=\"HARD\" placeholder=\"Paste the list HERE\" type=\"search\"&gt;\r\n\t&lt;/span&gt;\r\n\t&lt;button class=\"button button1\" id=\"Search\"&gt;Search&lt;/button&gt;\t\r\n\t&lt;/br&gt;\r\n\t&lt;p id=\"chkbtn\"&gt;&lt;input type=\"checkbox\" class=\"theader1\" name=\"theader1\" checked=\"checked\"&gt; CODE\r\n  &lt;input type=\"checkbox\" class=\"theader2\" name=\"theader2\"  checked=\"checked\"&gt; DIVISION\r\n  &lt;input type=\"checkbox\" class=\"theader3\" name=\"theader3\" checked=\"checked\"&gt; PROVINCE\r\n  &lt;input type=\"checkbox\" class=\"theader4\" name=\"theader4\" checked=\"checked\"&gt; NAME&lt;/p&gt;\r\n\t&lt;/br&gt;\r\n\t\t&lt;table border=\"1px\" id=\"data\"&gt;\r\n\t\t\t&lt;thead&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t&lt;th class=\"theader1\" id=\"theader1\"&gt;CODE&lt;/th&gt;\r\n\t\t\t&lt;th class=\"theader2\" id=\"theader2\"&gt;DIVISION&lt;/th&gt;\r\n\t\t\t&lt;th class=\"theader3\" id=\"theader3\"&gt;PROVINCE&lt;/th&gt;\t\r\n\t\t\t&lt;th class=\"theader4\" id=\"theader4\"&gt;NAME&lt;/th&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;/thead&gt;\r\n\t\t\t&lt;tbody&gt;&lt;/tbody&gt;\r\n\t\t&lt;/table&gt;\r\n\r\n\r\n\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 157, "user_id": 10836136, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b0a7cb4b68bcc5afe10444ed2904dfc0?s=128&d=identicon&r=PG&f=1", "display_name": "Discover", "link": "https://stackoverflow.com/users/10836136/discover"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 199, "favorite_count": 0, "accepted_answer_id": 54017579, "answer_count": 2, "score": 1, "last_activity_date": 1546502273, "creation_date": 1546468840, "last_edit_date": 1546469408, "question_id": 54014112, "link": "https://stackoverflow.com/questions/54014112/add-remove-table-columns-in-javascript-based-on-checkbox-status", "title": "Add/Remove Table Columns in JavaScript Based On Checkbox Status", "body": "<p>In the following DEMO if you paste the list in the search box:</p>\n\n<p>00001, 00002, 00003, 00004, 00005, 00006, 00007, 00008, 00009, 00010, 00011, 00012, 00013</p>\n\n<p>It will pull the respective property features from a JSON file that is located here:\n<a href=\"https://api.myjson.com/bins/f2nos\" rel=\"nofollow noreferrer\">https://api.myjson.com/bins/f2nos</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = {};\r\n\r\n$(document).ready(function () {\r\n    $(\"#Search\").click(function (any) {\r\n\t\t$(\"tbody\").empty();\r\n        var searchIds = new Set($('#searchBox').val().split(/[ ,\\r\\n]+/).map(s =&gt; s.trim()));\r\n        searchIds.forEach(CODE =&gt;\r\n\t\t\t\r\n            $(\"tbody\").append('&lt;tr&gt;' + `&lt;td class=\"theader1\" id=\"theader1\"&gt;${CODE}&lt;/td&gt;` + `&lt;td class=\"theader2\" id=\"theader2\"&gt;${datab[CODE]}&lt;/td&gt;` + `&lt;td class=\"theader3\" id=\"theader3\"&gt;${datac[CODE]}&lt;/td&gt;` + `&lt;td class=\"theader4\" id=\"theader4\"&gt;${datad[CODE]}&lt;/td&gt;` + '&lt;/tr&gt;'));\r\n    });\r\n});\r\n\r\nfunction getdata() {\r\n    fetch(\"https://api.myjson.com/bins/f2nos\").then(resp =&gt; resp.json()).then(resp =&gt; {\r\n        datab = Object.assign({}, ...resp.features.map(\r\n            ({ properties: { CODE, DIVISION}}) =&gt; ({ [CODE]: DIVISION}))\r\n        );\r\n        datac = Object.assign({}, ...resp.features.map(\r\n            ({ properties: { CODE, PROVINCE}}) =&gt; ({ [CODE]: PROVINCE}))\r\n        );\r\n        datad = Object.assign({}, ...resp.features.map(\r\n            ({ properties: { CODE, NAME}}) =&gt; ({ [CODE]: NAME}))\r\n        );\t\t\r\n    });\r\n}\r\n\r\ngetdata();\t\t\t\t\t\t\r\n\t\r\n/*Checkbox To Table Head*/\r\n$(\"input:checkbox:not(:checked)\").each(function() {\r\n    var column = \"table .\" + $(this).attr(\"name\");\r\n    $(column).hide();\r\n});\r\n\r\n$(\"input:checkbox\").click(function(){\r\n    var column = \"table .\" + $(this).attr(\"name\");\r\n    $(column).toggle();\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  &lt;head&gt;\r\n   &lt;title&gt;Code Table&lt;/title&gt;\r\n\t&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\t&lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n\t&lt;link rel=\"stylesheet\" href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\"&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n\t&lt;span class=\"clearable\"&gt;\r\n\t\t&lt;input id=\"searchBox\" type=\"text\" rows=\"25\" cols=\"15\" WRAP=\"HARD\" placeholder=\"Paste the list HERE\" type=\"search\"&gt;\r\n\t&lt;/span&gt;\r\n\t&lt;button class=\"button button1\" id=\"Search\"&gt;Search&lt;/button&gt;\t\r\n\t&lt;/br&gt;\r\n\t&lt;p&gt;&lt;input type=\"checkbox\" class=\"theader1\" name=\"theader1\" checked=\"checked\"&gt; CODE\r\n  &lt;input type=\"checkbox\" class=\"theader2\" name=\"theader2\" checked=\"checked\"&gt; DIVISION\r\n  &lt;input type=\"checkbox\" class=\"theader3\" name=\"theader3\" checked=\"checked\"&gt; PROVINCE\r\n  &lt;input type=\"checkbox\" class=\"theader4\" name=\"theader4\" checked=\"checked\"&gt; NAME&lt;/p&gt;\r\n\t&lt;/br&gt;\r\n\t\t&lt;table border=\"1px\" id=\"data\"&gt;\r\n\t\t\t&lt;thead&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t&lt;th class=\"theader1\" id=\"theader1\"&gt;CODE&lt;/th&gt;\r\n\t\t\t&lt;th class=\"theader2\" id=\"theader2\"&gt;DIVISION&lt;/th&gt;\r\n\t\t\t&lt;th class=\"theader3\" id=\"theader3\"&gt;PROVINCE&lt;/th&gt;\t\r\n\t\t\t&lt;th class=\"theader4\" id=\"theader4\"&gt;NAME&lt;/th&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t\t&lt;/thead&gt;\r\n\t\t\t&lt;tbody&gt;&lt;/tbody&gt;\r\n\t\t&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The checkboxes control whether or not the table columns are visible.</p>\n\n<p>So if you uncheck checkbox CODE, CODE column will disappear</p>\n\n<p>One small problem.</p>\n\n<p>When I uncheck any checkboxes BEFORE the search, for example CODE, and then search I get this weird table:\n<a href=\"https://i.stack.imgur.com/GjNT4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GjNT4.png\" alt=\"enter image description here\"></a></p>\n\n<p>The reason that is happening is because even though the checkbox is unchecked the APPEND() Statement still appends the CODE column.</p>\n\n<p>So how to connect the checkbox status to the append statement so that columns don't show up even after the search?</p>\n\n<p>I'm assuming the solution is to turn every Table TD into a variable and somehow connect it to the status of the checkbox?</p>\n\n<p>How to achieve this? Or better solutions?</p>\n"}, {"tags": ["javascript", "node.js", "express"], "comments": [{"owner": {"reputation": 564, "user_id": 3637541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c455e355de061d57d5a2cabf3649eddb?s=128&d=identicon&r=PG&f=1", "display_name": "user3637541", "link": "https://stackoverflow.com/users/3637541/user3637541"}, "edited": false, "score": 0, "creation_date": 1546468836, "post_id": 54014084, "comment_id": 94865359, "body": "I don&#39;t know what connect does, but I cannot see how <code>Select_products</code> would be an element of Crud right now. You have to put it into the class, right now it is just a local function in the Crud file"}, {"owner": {"reputation": 69, "user_id": 8445307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hOntU.jpg?s=128&g=1", "display_name": "Showtime", "link": "https://stackoverflow.com/users/8445307/showtime"}, "reply_to_user": {"reputation": 564, "user_id": 3637541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c455e355de061d57d5a2cabf3649eddb?s=128&d=identicon&r=PG&f=1", "display_name": "user3637541", "link": "https://stackoverflow.com/users/3637541/user3637541"}, "edited": false, "score": 0, "creation_date": 1546468980, "post_id": 54014084, "comment_id": 94865398, "body": "The file Connect just connect to database."}, {"owner": {"reputation": 777, "user_id": 6929654, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b75028ea25d35f08d8be18fb73db5a0a?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/6929654/joseph"}, "edited": false, "score": 0, "creation_date": 1546469064, "post_id": 54014084, "comment_id": 94865421, "body": "Select_products is inside the class, it&#39;s just not formatted correctly - looks like it lost some tabs when it was pasted in, but that should work fine."}, {"owner": {"reputation": 564, "user_id": 3637541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c455e355de061d57d5a2cabf3649eddb?s=128&d=identicon&r=PG&f=1", "display_name": "user3637541", "link": "https://stackoverflow.com/users/3637541/user3637541"}, "reply_to_user": {"reputation": 777, "user_id": 6929654, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b75028ea25d35f08d8be18fb73db5a0a?s=128&d=identicon&r=PG&f=1", "display_name": "Joseph", "link": "https://stackoverflow.com/users/6929654/joseph"}, "edited": false, "score": 0, "creation_date": 1546469621, "post_id": 54014084, "comment_id": 94865567, "body": "Oh, didn&#39;t see that, you are right @Joseph. Did you try to instanciate Crud? meaning using <code>new Crud()</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 1982, "user_id": 3170151, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/38207faa73f40f487c7e7b5da9617a76?s=128&d=identicon&r=PG&f=1", "display_name": "iagowp", "link": "https://stackoverflow.com/users/3170151/iagowp"}, "is_accepted": true, "score": 0, "last_activity_date": 1546470054, "last_edit_date": 1546470054, "creation_date": 1546469518, "answer_id": 54014210, "question_id": 54014084, "link": "https://stackoverflow.com/questions/54014084/how-to-fix-typeerror-crud-select-products-is-not-a-function-error-in-nodejs/54014210#54014210", "title": "How to fix &quot;TypeError: Crud.Select_products is not a function\u201d, error in NodeJS", "body": "<p>Crud is a class, and you are trying to access a method, methods belongs to instances.</p>\n\n<p>You can either export a instance, creating a singleton pattern like:</p>\n\n<pre><code>module.exports = new Crud();\n</code></pre>\n\n<p>Or you can create an instance at your <code>server.js</code>, and call the method</p>\n\n<pre><code>var Crud = require('./database/Crud');\nvar crud = new Crud();\n\napp.get('/api/home', function(req, res){\n  let results = crud.Select_products();\n  res.send(results);\n});\n</code></pre>\n\n<p>Also, when you get this to work, you will realize you have more problems. Your <code>Select_products()</code> function doesn't return anything. You might want to send a callback function to it, or use <code>async/await</code> and promises, if the library you are using supports promises</p>\n"}], "owner": {"reputation": 69, "user_id": 8445307, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hOntU.jpg?s=128&g=1", "display_name": "Showtime", "link": "https://stackoverflow.com/users/8445307/showtime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 54014210, "answer_count": 1, "score": 0, "last_activity_date": 1546477939, "creation_date": 1546468645, "last_edit_date": 1546477939, "question_id": 54014084, "link": "https://stackoverflow.com/questions/54014084/how-to-fix-typeerror-crud-select-products-is-not-a-function-error-in-nodejs", "title": "How to fix &quot;TypeError: Crud.Select_products is not a function\u201d, error in NodeJS", "body": "<p>I'm trying to access an exported class from the Crud.js file, but I'm getting this error. My goal is to execute a sql query.</p>\n\n<p>Error: </p>\n\n<pre><code>TypeError: Crud.Select_products is not a function\n  at C:\\xampp\\htdocs\\react\\crud\\server.js:7:24\n  at Layer.handle [as handle_request] (C:\\xampp\\htdocs\\react\\crud\\node_modules\\express\\lib\\router\\layer.js:95:5)\n  at next (C:\\xampp\\htdocs\\react\\crud\\node_modules\\express\\lib\\router\\route.js:137:13)\n  at Route.dispatch (C:\\xampp\\htdocs\\react\\crud\\node_modules\\express\\lib\\router\\route.js:112:3)\n  at Layer.handle [as handle_request] (C:\\xampp\\htdocs\\react\\crud\\node_modules\\express\\lib\\router\\layer.js:95:5)\n  at C:\\xampp\\htdocs\\react\\crud\\node_modules\\express\\lib\\router\\index.js:281:22\n  at Function.process_params (C:\\xampp\\htdocs\\react\\crud\\node_modules\\express\\lib\\router\\index.js:335:12)\n  at next (C:\\xampp\\htdocs\\react\\crud\\node_modules\\express\\lib\\router\\index.js:275:10)\n  at expressInit (C:\\xampp\\htdocs\\react\\crud\\node_modules\\express\\lib\\middleware\\init.js:40:5)\n  at Layer.handle [as handle_request] (C:\\xampp\\htdocs\\react\\crud\\node_modules\\express\\lib\\router\\layer.js:95:5)\n</code></pre>\n\n<p>I'm using NodeJs in version 10.15.0, I already tried changing the way to export, but I still have the same error.</p>\n\n<p>Server.js</p>\n\n<pre><code>var express = require('express');\nvar Crud = require('./database/Crud');\nvar app = express();\n\n\napp.get('/api/home', function(req, res){\n    let results = Crud.Select_products();\n    res.send(results);\n\n});\n\napp.listen(5000, () =&gt; console.log('Escutando na porta 5000'));\n</code></pre>\n\n<p>Crud.js</p>\n\n<pre><code>var Connect = require('./Connect');\n\nClass Crud {\n\n  constructor(){\n    Connect.Connecting();\n  }\n\n  Select_products(where){\n    if(where !== undefined){\n        let sql = 'Select * from produtos where id_produto = ?';\n        Connect.query(sql, [where], function(err, result){\n            if(err) throw err;\n            return result;\n        });\n    }else{\n        Connect.query('Select * from produtos', function(err, result){\n            if(err) throw err;\n            return result;\n        });\n    }\n  }\n}\n\nmodule.exports = Crud;\n</code></pre>\n\n<p>I expect to receive the data from database.</p>\n"}, {"tags": ["javascript", "canvas"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 10408555, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-meS6PmOTYdk/AAAAAAAAAAI/AAAAAAAAAbQ/FzguvNL8FVk/photo.jpg?sz=128", "display_name": "LuisCas", "link": "https://stackoverflow.com/users/10408555/luiscas"}, "edited": false, "score": 0, "creation_date": 1546470732, "post_id": 54014339, "comment_id": 94865872, "body": "okay it paints everything with white but now the chart doesn&#180;t show haha"}], "tags": [], "owner": {"reputation": 1548, "user_id": 1456334, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/GR43K.jpg?s=128&g=1", "display_name": "oooyaya", "link": "https://stackoverflow.com/users/1456334/oooyaya"}, "is_accepted": false, "score": 0, "last_activity_date": 1546470393, "creation_date": 1546470393, "answer_id": 54014339, "question_id": 54014081, "link": "https://stackoverflow.com/questions/54014081/how-to-save-a-canvas-with-canvas-to-blob-without-black-background/54014339#54014339", "title": "How to save a Canvas with canvas to blob without black background?", "body": "<p>I'm not familiar with the library but have you tried actually giving it a white background?  Something like the following?  It might be using black a default when no color is encountered at a particular pixel.</p>\n\n<pre><code>$(\"#download\").click(function() {\n    var canvas = document.getElementById(\"canvas\"),\n        ctx = canvas.getContext(\"2d\");\n\n    ctx.fillStyle = \"#ffffff\";\n    ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n    canvas.toBlob(function(blob) {\n        saveAs(blob, \"grafica.png\");\n    });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 35, "user_id": 10408555, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-meS6PmOTYdk/AAAAAAAAAAI/AAAAAAAAAbQ/FzguvNL8FVk/photo.jpg?sz=128", "display_name": "LuisCas", "link": "https://stackoverflow.com/users/10408555/luiscas"}, "is_accepted": true, "score": 0, "last_activity_date": 1546472398, "creation_date": 1546472398, "answer_id": 54014609, "question_id": 54014081, "link": "https://stackoverflow.com/questions/54014081/how-to-save-a-canvas-with-canvas-to-blob-without-black-background/54014609#54014609", "title": "How to save a Canvas with canvas to blob without black background?", "body": "<p>i just draw a white backgroung before draw the chart on the script and solve the black background problem :)</p>\n\n<pre><code>var backgroundColor = 'white';\nChart.plugins.register({\n    beforeDraw: function(c) {\n        var ctx = c.chart.ctx;\n        ctx.fillStyle = backgroundColor;\n        ctx.fillRect(0, 0, c.chart.width, c.chart.height);\n    }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49834, "user_id": 25507, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/DqZPI.png?s=128&g=1", "display_name": "Josh Kelley", "link": "https://stackoverflow.com/users/25507/josh-kelley"}, "is_accepted": false, "score": 1, "last_activity_date": 1607371494, "creation_date": 1607371494, "answer_id": 65188609, "question_id": 54014081, "link": "https://stackoverflow.com/questions/54014081/how-to-save-a-canvas-with-canvas-to-blob-without-black-background/65188609#65188609", "title": "How to save a Canvas with canvas to blob without black background?", "body": "<p>If you don't want to mess with the chart's canvas itself, you can use an <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Canvas_API/Tutorial/Optimizing_canvas#Pre-render_similar_primitives_or_repeating_objects_on_an_offscreen_canvas\" rel=\"nofollow noreferrer\">offscreen canvas</a> and draw the background there.</p>\n<pre class=\"lang-js prettyprint-override\"><code>const canvasWithBackground = document.createElement('canvas');\ncanvasWithBackground.width = canvas.width;\ncanvasWithBackground.height = canvas.height;\n\nconst ctx = canvasWithBackground.getContext('2d')!;\nctx.fillStyle = 'white';\nctx.fillRect(0, 0, canvas.width, canvas.height);\nctx.drawImage(canvas, 0, 0);\n\ncanvasWithBackground.toBlob(function(blob) {\n    saveAs(blob, &quot;grafica.png&quot;);\n});\n</code></pre>\n"}], "owner": {"reputation": 35, "user_id": 10408555, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-meS6PmOTYdk/AAAAAAAAAAI/AAAAAAAAAbQ/FzguvNL8FVk/photo.jpg?sz=128", "display_name": "LuisCas", "link": "https://stackoverflow.com/users/10408555/luiscas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 947, "favorite_count": 0, "accepted_answer_id": 54014609, "answer_count": 3, "score": 3, "last_activity_date": 1607371494, "creation_date": 1546468631, "last_edit_date": 1546470162, "question_id": 54014081, "link": "https://stackoverflow.com/questions/54014081/how-to-save-a-canvas-with-canvas-to-blob-without-black-background", "title": "How to save a Canvas with canvas to blob without black background?", "body": "<p>I am trying to save a chart from charts.js but its save with a black background and don\u00b4t know how to change that background to transparent or white.</p>\n\n<p>I am using <a href=\"https://github.com/blueimp/JavaScript-Canvas-to-Blob\" rel=\"nofollow noreferrer\">Canvas to blob</a> and <a href=\"https://github.com/eligrey/FileSaver.js\" rel=\"nofollow noreferrer\">FileSaver</a></p>\n\n<p>This is my script</p>\n\n<pre><code>$(\"#download\").click(function() {\n        var canvas = document.getElementById(\"canvas\");\n        canvas.toBlob(function(blob) {\n            saveAs(blob, \"grafica.png\");\n        });\n    });\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "ecmascript-6"], "answers": [{"comments": [{"owner": {"reputation": 4253, "user_id": 1050809, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SF4U9.png?s=128&g=1", "display_name": "Scott Sword", "link": "https://stackoverflow.com/users/1050809/scott-sword"}, "edited": false, "score": 0, "creation_date": 1546469257, "post_id": 54014152, "comment_id": 94865474, "body": "This solution assumes that both arrays will always have the exact same index."}, {"owner": {"reputation": 4253, "user_id": 1050809, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SF4U9.png?s=128&g=1", "display_name": "Scott Sword", "link": "https://stackoverflow.com/users/1050809/scott-sword"}, "edited": false, "score": 0, "creation_date": 1546470109, "post_id": 54014152, "comment_id": 94865718, "body": "No worries mate! \ud83d\ude4c"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4639281"}, "edited": false, "score": 0, "creation_date": 1546471058, "post_id": 54014152, "comment_id": 94865960, "body": "What if one of the objects in the first set does not exist in the second?"}, {"owner": {"reputation": 564, "user_id": 3637541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c455e355de061d57d5a2cabf3649eddb?s=128&d=identicon&r=PG&f=1", "display_name": "user3637541", "link": "https://stackoverflow.com/users/3637541/user3637541"}, "edited": false, "score": 0, "creation_date": 1546471544, "post_id": 54014152, "comment_id": 94866101, "body": "Things get messy, but there is an easy fix for that, too, of course... <code>inputOne.map((a, i) =&gt; ({...a, ...(inputTwo.filter(x =&gt; x.id === a.id)[0] || {})}))</code>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user4639281"}, "edited": false, "score": 0, "creation_date": 1546471928, "post_id": 54014152, "comment_id": 94866211, "body": "But as far as I can tell based on the question asked, only elements that exist in both sets should be output. That solution would still output the element if it does not exist in the second set, it just won&#39;t merge it."}], "tags": [], "owner": {"reputation": 564, "user_id": 3637541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c455e355de061d57d5a2cabf3649eddb?s=128&d=identicon&r=PG&f=1", "display_name": "user3637541", "link": "https://stackoverflow.com/users/3637541/user3637541"}, "is_accepted": false, "score": 1, "last_activity_date": 1546469265, "last_edit_date": 1546469265, "creation_date": 1546469165, "answer_id": 54014152, "question_id": 54014075, "link": "https://stackoverflow.com/questions/54014075/filter-array-based-on-another-array-and-combined/54014152#54014152", "title": "Filter array based on another array and combined", "body": "<pre><code>inputOne.map((a, i) =&gt; ({...a, ...inputTwo[i]}))\n</code></pre>\n\n<p>It assumes, that inputOne is the shorter one, you might use an <code>if</code> to make sure that that it is true in all cases.</p>\n\n<p>EDIT:\nIn a truly functional matter one would use something like <code>zip</code> in haskell, but without further libraries or implementing it yourself you will be stuck with something like this, I am afraid.</p>\n\n<p>EDIT 2:</p>\n\n<pre><code>inputOne.map((a, i) =&gt; ({...a, ...(inputTwo.filter(x =&gt; x.id === a.id)[0])}))\n</code></pre>\n\n<p>This works based on the <code>id</code> property, didn't read well enough.</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4639281"}, "edited": false, "score": 0, "creation_date": 1546471031, "post_id": 54014178, "comment_id": 94865952, "body": "Why continue iterating <code>inputTwo</code> once a match has been found?"}], "tags": [], "owner": {"reputation": 639, "user_id": 6467056, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GVhcL.jpg?s=128&g=1", "display_name": "NULL SWE\u0394T", "link": "https://stackoverflow.com/users/6467056/null-swe%ce%94t"}, "is_accepted": false, "score": 0, "last_activity_date": 1546469341, "creation_date": 1546469341, "answer_id": 54014178, "question_id": 54014075, "link": "https://stackoverflow.com/questions/54014075/filter-array-based-on-another-array-and-combined/54014178#54014178", "title": "Filter array based on another array and combined", "body": "<p>Simple solution using <code>for</code>:</p>\n\n<pre><code>// declare an empty array:\nlet resArr = []\n\nfor(i=0; i&lt;inputOne.length; i++) {\n  for(j=0; j&lt;inputTwo.length; j++) {\n    if(inputOne[i].id === inputTwo[j].id) {\n      resArr.push({ ...inputOne[i], ...inputTwo[j] })\n    }\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1142, "user_id": 2763028, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RVz75.jpg?s=128&g=1", "display_name": "Hassan Ali Salem", "link": "https://stackoverflow.com/users/2763028/hassan-ali-salem"}, "is_accepted": false, "score": 0, "last_activity_date": 1546473901, "last_edit_date": 1546473901, "creation_date": 1546469345, "answer_id": 54014180, "question_id": 54014075, "link": "https://stackoverflow.com/questions/54014075/filter-array-based-on-another-array-and-combined/54014180#54014180", "title": "Filter array based on another array and combined", "body": "<p>you can use map and filter to solve this. If I am not wrong about what you want this might be helpful</p>\n\n<pre><code>let result = inputOne.map((item) =&gt; {\n    let leftItems = inputTwo.filter((item2) =&gt; {\n        return item2.id == item.id\n    }) \n    if(leftItems.length &gt; 0) {\n        return {id: item.id, other: leftItems[0].other, prop: item.prop}\n        // or return {...item, ...leftItems[0]}\n    }\n}).filter(item =&gt; !! item)\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4639281"}, "edited": false, "score": 0, "creation_date": 1546470936, "post_id": 54014201, "comment_id": 94865934, "body": "Why create a new array every time instead of pushing onto the existing accumulator?"}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "edited": false, "score": 0, "creation_date": 1546471334, "post_id": 54014201, "comment_id": 94866052, "body": "Functional programming immutability - the accumulator should be replaced by a new value not mutated. If you mutate the accumulator, you are using reduce as a for loop. However, as you mentioned, it&#39;s a bit wasteful, so depending on the case, you might want to reuse the accumulator (very large arrays for example)."}, {"owner": {"user_type": "does_not_exist", "display_name": "user4639281"}, "edited": false, "score": 0, "creation_date": 1546471651, "post_id": 54014201, "comment_id": 94866141, "body": "I think that is a bit of a stretch. Do you have any references to support that statement? Why would mutating the accumulator be a bad thing?"}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": false, "score": 1, "last_activity_date": 1546469436, "creation_date": 1546469436, "answer_id": 54014201, "question_id": 54014075, "link": "https://stackoverflow.com/questions/54014075/filter-array-based-on-another-array-and-combined/54014201#54014201", "title": "Filter array based on another array and combined", "body": "<p>Convert the 1st array to a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\">Map</a> using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce\" rel=\"nofollow noreferrer\"><code>Array.reduce()</code></a>, then reduce the 2nd array, and if the object is found in the Map, get the object from the Map, combine the objects, and add to accumulator:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const combine = (arr1, arr2) =&gt; {\r\n  const arr1Map = arr1.reduce((m, o) =&gt; m.set(o.id, o), new Map)\r\n  \r\n  return arr2.reduce((r, o) =&gt; arr1Map.has(o.id) ? \r\n    [...r, { ...o, ...arr1Map.get(o.id) }] : r\r\n  , [])\r\n}\r\n\r\nconst inputOne = [{id: \"valueA\", prop: 123},{id: \"valueB\", prop: 456}]\r\n\r\nconst inputTwo = [{id: \"valueA\", other: 54},{id: \"valueB\", other: 98},{id: \"valueC\", other: 11}]\r\n\r\nconst result = combine(inputOne, inputTwo)\r\n\r\nconsole.log(result)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4639281"}, "edited": false, "score": 0, "creation_date": 1546470813, "post_id": 54014234, "comment_id": 94865886, "body": "What if one of the objects in the first set does not exist in the second?"}], "tags": [], "owner": {"reputation": 16510, "user_id": 212878, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/nMS5a.jpg?s=128&g=1", "display_name": "Samuli Hakoniemi", "link": "https://stackoverflow.com/users/212878/samuli-hakoniemi"}, "is_accepted": false, "score": 1, "last_activity_date": 1546469664, "creation_date": 1546469664, "answer_id": 54014234, "question_id": 54014075, "link": "https://stackoverflow.com/questions/54014075/filter-array-based-on-another-array-and-combined/54014234#54014234", "title": "Filter array based on another array and combined", "body": "<p>This should do the trick (assuming that the <code>inputOne</code> acts like a source);</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const inputOne = [\r\n {id: \"valueA\", prop: 123},\r\n {id: \"valueB\", prop: 456}\r\n]\r\n\r\nconst inputTwo = [\r\n {id: \"valueA\", other: 54},\r\n {id: \"valueB\", other: 98},\r\n {id: \"valueC\", other: 11}\r\n]\r\n\r\nconst mergeArrays = (first, second) =&gt; {\r\n  return first.map((firstItem) =&gt; {\r\n    const obj = second.find((secondItem) =&gt; secondItem.id === firstItem.id);\r\n    return {...firstItem, ...obj};\r\n  });\r\n};\r\n\r\nconst combinedArrays = mergeArrays(inputOne, inputTwo);\r\n\r\nconsole.log(combinedArrays);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user4639281"}, "edited": false, "score": 0, "creation_date": 1546470728, "post_id": 54014258, "comment_id": 94865870, "body": "What if one of the objects in the first set does not exist in the second?"}], "tags": [], "owner": {"reputation": 9433, "user_id": 6804958, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lj3En.jpg?s=128&g=1", "display_name": "Muhammad Usman", "link": "https://stackoverflow.com/users/6804958/muhammad-usman"}, "is_accepted": false, "score": 0, "last_activity_date": 1546469809, "creation_date": 1546469809, "answer_id": 54014258, "question_id": 54014075, "link": "https://stackoverflow.com/questions/54014075/filter-array-based-on-another-array-and-combined/54014258#54014258", "title": "Filter array based on another array and combined", "body": "<p>Well, you can first build an Object and use it to get the other values while iterating over the other array with a <code>.map</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const inputOne = [\r\n {id: \"valueA\", prop: 123},\r\n {id: \"valueB\", prop: 456}\r\n],\r\n inputTwo = [\r\n {id: \"valueA\", other: 54},\r\n {id: \"valueB\", other: 98},\r\n {id: \"valueC\", other: 11}\r\n],\r\nids = {};\r\n\r\ninputTwo.forEach(function (o) {\r\n    ids[o.id] = o;\r\n});\r\n\r\nvar res = inputOne.map(function (o) {\r\n    return {\r\n        other: ids[o.id].other,\r\n        prop: o.prop,\r\n        id: o.id\r\n    };\r\n});\r\n\r\nconsole.log(res)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 4253, "user_id": 1050809, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SF4U9.png?s=128&g=1", "display_name": "Scott Sword", "link": "https://stackoverflow.com/users/1050809/scott-sword"}, "is_accepted": false, "score": 0, "last_activity_date": 1546472156, "last_edit_date": 1546472156, "creation_date": 1546469872, "answer_id": 54014266, "question_id": 54014075, "link": "https://stackoverflow.com/questions/54014075/filter-array-based-on-another-array-and-combined/54014266#54014266", "title": "Filter array based on another array and combined", "body": "<p>I think pretty much all solutions will be some variety of double iterating, whether it be by for loop, map, or filter. The other way different from the ones listed above is to use a library like lodash. <a href=\"https://stackoverflow.com/questions/39127565/merge-array-of-objects-by-property-using-lodash\">This answer already gives a pretty good example of the <code>unionBy</code> function</a>.</p>\n"}, {"tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user4639281"}, "is_accepted": true, "score": 1, "last_activity_date": 1546472402, "last_edit_date": 1546472402, "creation_date": 1546470291, "answer_id": 54014331, "question_id": 54014075, "link": "https://stackoverflow.com/questions/54014075/filter-array-based-on-another-array-and-combined/54014331#54014331", "title": "Filter array based on another array and combined", "body": "<p>This solution assumes that there will only be two sets, and the <code>id</code> property is unique within each set.</p>\n\n<p>You can create <a href=\"https://en.wikipedia.org/wiki/Intersection_(set_theory)\" rel=\"nofollow noreferrer\">an intersection</a> of two sets of merged objects based on a common property (<code>id</code>) by:</p>\n\n<ul>\n<li>Iterate the first set, then search the second set for the current element of the first set. </li>\n<li>If a match is found, combine the two objects into a new object then add that object to an accumulator set. </li>\n<li>Return the accumulator</li>\n</ul>\n\n<p>This method returns a new set containing merged objects that are found in both sets. If an object is missing from either set, it will not be included in the output.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const inputOne = [ {id: \"valueA\", prop: 123}, {id: \"valueB\", prop: 456}, {id: \"valueD\", prop: 789} ]\r\nconst inputTwo = [ {id: \"valueA\", other: 54}, {id: \"valueB\", other: 98}, {id: \"valueC\", other: 11} ]\r\n\r\nfunction intersectAndMerge(a, b) {\r\n  const accumulator = []\r\n  for(let { id, ...props } of a) {\r\n    const match = b.find(e =&gt;  e.id === id)\r\n    if(match !== undefined) {\r\n      accumulator.push({ ...match, ...props })\r\n    }\r\n  }\r\n  return accumulator\r\n}\r\n\r\nconsole.log(intersectAndMerge(inputOne, inputTwo))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This can also be done with a reduce loop, but I find it less readable:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const inputOne = [ {id: \"valueA\", prop: 123}, {id: \"valueB\", prop: 456}, {id: \"valueD\", prop: 789} ]\r\nconst inputTwo = [ {id: \"valueA\", other: 54}, {id: \"valueB\", other: 98}, {id: \"valueC\", other: 11} ]\r\n\r\nfunction intersectAndMerge(a, b) {\r\n  return a.reduce((accumulator, { id, ...props }) =&gt; {\r\n    const match = b.find(e =&gt;  e.id === id)\r\n    if(match !== undefined) {\r\n      accumulator.push({ ...match, ...props })\r\n    }\r\n    return accumulator\r\n  }, [])\r\n}\r\n\r\nconsole.log(intersectAndMerge(inputOne, inputTwo))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4793, "user_id": 572747, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/0a577c41cde30752036471c926d94515?s=128&d=identicon&r=PG", "display_name": "skube", "link": "https://stackoverflow.com/users/572747/skube"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 0, "accepted_answer_id": 54014331, "answer_count": 8, "score": 0, "last_activity_date": 1546473901, "creation_date": 1546468600, "question_id": 54014075, "link": "https://stackoverflow.com/questions/54014075/filter-array-based-on-another-array-and-combined", "title": "Filter array based on another array and combined", "body": "<p>Given two arrays: </p>\n\n<pre><code>const inputOne = [\n {id: \"valueA\", prop: 123},\n {id: \"valueB\", prop: 456}\n]\n\nconst inputTwo = [\n {id: \"valueA\", other: 54},\n {id: \"valueB\", other: 98},\n {id: \"valueC\", other: 11}\n]\n</code></pre>\n\n<p>I'm trying to filter <code>inputTwo</code> based on <code>inputOne</code>'s <code>id</code> and then merge the properties found in both.</p>\n\n<p>Desired output:</p>\n\n<pre><code>combinedAndFiltered = [\n {id: \"valueA\", other: 54, prop: 123},\n {id: \"valueB\", other: 98, prop: 456}\n]\n</code></pre>\n\n<p>I've tried various combinations of <code>map</code>, <code>filter</code> and/or <code>reduce</code> but somehow can't get my head around it.</p>\n"}, {"tags": ["javascript", "amazon-web-services"], "answers": [{"tags": [], "owner": {"reputation": 126, "user_id": 10044668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQ7lj.jpg?s=128&g=1", "display_name": "bflynnigan", "link": "https://stackoverflow.com/users/10044668/bflynnigan"}, "is_accepted": true, "score": 0, "last_activity_date": 1546474932, "creation_date": 1546474932, "answer_id": 54014879, "question_id": 54014023, "link": "https://stackoverflow.com/questions/54014023/how-can-i-get-aws-credentials-using-a-saml-token/54014879#54014879", "title": "How can I get AWS credentials using a SAML token?", "body": "<p>Wow that only took days, but though I was constantly stumbling, I finally made it to the point I was trying to get.</p>\n\n<p>The answer was in the same credentials get function that I used when I authenticated users through a username password combo by way of a Cognito User Pool. </p>\n\n<pre><code>    authenticateThroughCognito(token) {\n      AWS.config.credentials = new AWS.CognitoIdentityCredentials({\n          IdentityPoolId: 'us-west-2:IdentityPoolId',\n          Logins: {\n              'arn:aws:iam::accountId:saml-provider/wmpo-adfs' : token\n          }\n      });\n\n      (AWS.config.credentials as AWS.Credentials).get((err) =&gt; {\n          if(err) console.log(err);\n          else {\n              console.log(\"Success\");\n              console.log(AWS.config.credentials);\n          }\n      })\n    }\n</code></pre>\n"}], "owner": {"reputation": 126, "user_id": 10044668, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQ7lj.jpg?s=128&g=1", "display_name": "bflynnigan", "link": "https://stackoverflow.com/users/10044668/bflynnigan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 227, "favorite_count": 0, "accepted_answer_id": 54014879, "answer_count": 1, "score": 0, "last_activity_date": 1546474932, "creation_date": 1546468248, "question_id": 54014023, "link": "https://stackoverflow.com/questions/54014023/how-can-i-get-aws-credentials-using-a-saml-token", "title": "How can I get AWS credentials using a SAML token?", "body": "<p>What I am trying to do: Authenticate my users using ADFS, pass the SAML response token to AWS and get back credentials which I can then use to access AWS resources. </p>\n\n<p>What I am able to do now: Sign in successfully through ADFS and get the SAML token back which confirms the successfully sign in.</p>\n\n<p>What is not working: Calling the AWS.STS.assumeRoleWithSaml functions gets a 403 Access Denied error</p>\n\n<p>How it works thus far:</p>\n\n<ol>\n<li><p>Users click a button on my application, which calls the following:</p>\n\n<pre><code>var RPID = encodeURIComponent('urn:amazon:webservices');\nvar result = 'https://virtualMachine.eastus.cloudapp.azure.com/adfs/ls/IdpInitiatedSignOn.aspx?loginToRp=' + RPID;\nwindow.location.href = result;\n</code></pre></li>\n<li><p>A successful sign in here returns back to the application a SAML response token</p>\n\n<pre><code>var saml = new URL(window.location.href);\nvar token = saml.searchParams.get('SAMLResponse');\n</code></pre></li>\n<li><p>The application then calls assumeRoleWithSAML to get back credentials. The Principal ARN refers to the identity provider I am trying to access and the RoleARN refers to a role which has full access to everything:</p>\n\n<pre><code>authenticateSAMLwithCognito(token) {\n//define our security token service object\nvar sts = new AWS.STS();\n//build our parameter object\nvar params = {\n    //cognito identity provider\n    PrincipalArn: 'arn:aws:iam::accountid:saml-provider/wmpo-adfs',\n    //role assuming\n    RoleArn: 'arn:aws:iam::accountid:role/ADFS-Dev',\n    //authorization\n    SAMLAssertion: token\n}\n\nconsole.log(\"Parameters sent\", params);\nsts.assumeRoleWithSAML(params, (err, data) =&gt; {\n\n    if(err) console.log(err);\n    else console.log(\"Success!\", data);\n})\n}\n</code></pre></li>\n</ol>\n\n<p>However the response from this exchange is:</p>\n\n<p><img src=\"https://imgur.com/SkB3ddm\" alt=\"error message\"></p>\n\n<p>I am really unsure why this is, but if anyone has some helpful pushes that would be great! Thanks and happy new year</p>\n"}, {"tags": ["javascript", "reactjs", "mongodb", "express"], "comments": [{"owner": {"reputation": 1391, "user_id": 8828489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cea21c4b94376330efc9e542d5733749?s=128&d=identicon&r=PG", "display_name": "huynhsamha", "link": "https://stackoverflow.com/users/8828489/huynhsamha"}, "edited": false, "score": 0, "creation_date": 1546468684, "post_id": 54013987, "comment_id": 94865310, "body": "Maybe you want to encode image to base64, please refer <a href=\"https://stackoverflow.com/a/20285053/8828489\">stackoverflow.com/a/20285053/8828489</a>. I think it is not best way to store image by base64 in mongodb. You can try other service to store image or store it on your server."}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 9280451, "user_type": "registered", "profile_image": "https://graph.facebook.com/1952152628132486/picture?type=large", "display_name": "Nima Malaeri", "link": "https://stackoverflow.com/users/9280451/nima-malaeri"}, "edited": false, "score": 0, "creation_date": 1546556998, "post_id": 54014197, "comment_id": 94898425, "body": "Thank you , its first time im trying to do such thing , also i dont like API from any one , bug companies who give such service make everything easier and i believe they are not helping and just make everyone lazy . i want to make in on my own . if base 64 is not good idea do you know how to handle image from front end to express and then store images somewhere on my server ?"}], "tags": [], "owner": {"reputation": 1391, "user_id": 8828489, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cea21c4b94376330efc9e542d5733749?s=128&d=identicon&r=PG", "display_name": "huynhsamha", "link": "https://stackoverflow.com/users/8828489/huynhsamha"}, "is_accepted": false, "score": 1, "last_activity_date": 1546469413, "creation_date": 1546469413, "answer_id": 54014197, "question_id": 54013987, "link": "https://stackoverflow.com/questions/54013987/how-to-store-image-as-encoded-string-in-mongodb/54014197#54014197", "title": "How to store image as encoded string in MongoDB?", "body": "<p>Maybe you want to encode image to <strong>base64</strong>, please refer <a href=\"https://stackoverflow.com/questions/6150289/how-to-convert-image-into-base64-string-using-javascript/20285053#20285053\">How to convert image into base64 string using javascript</a>. </p>\n\n<h3>Issues</h3>\n\n<p>I think it is <em>not a good way</em> to store an image by <em>base64</em> in MongoDB. I think it will add overhead.</p>\n\n<p>You can try <em>another service</em> to store image or <em>upload</em> it on your server. In MongoDB, we only store image <strong>URI/URL</strong>, that will reduce overhead.</p>\n\n<p>There are some services allow you uploads image free with APIs:</p>\n\n<ul>\n<li><a href=\"https://api.imgur.com/\" rel=\"nofollow noreferrer\">Imgur</a>: You can refer <a href=\"https://ctrlq.org/code/20526-javascript-image-uploader\" rel=\"nofollow noreferrer\">Build an Image Uploader with Imgur API and JavaScript</a></li>\n<li><a href=\"https://firebase.google.com/\" rel=\"nofollow noreferrer\">Firebase</a>:  You can refer <a href=\"https://time2hack.com/2017/10/upload-files-to-firebase-storage-with-javascript/\" rel=\"nofollow noreferrer\">Upload Files to Firebase Storage with JavaScript</a></li>\n<li><a href=\"https://cloudinary.com/\" rel=\"nofollow noreferrer\">Cloudinary</a></li>\n<li><a href=\"http://uploads.im/apidocs\" rel=\"nofollow noreferrer\">Upload.im</a></li>\n<li><a href=\"https://www.flickr.com/services/api/\" rel=\"nofollow noreferrer\">Flickr</a></li>\n</ul>\n"}], "owner": {"reputation": 21, "user_id": 9280451, "user_type": "registered", "profile_image": "https://graph.facebook.com/1952152628132486/picture?type=large", "display_name": "Nima Malaeri", "link": "https://stackoverflow.com/users/9280451/nima-malaeri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1546469413, "creation_date": 1546468045, "last_edit_date": 1546468676, "question_id": 54013987, "link": "https://stackoverflow.com/questions/54013987/how-to-store-image-as-encoded-string-in-mongodb", "title": "How to store image as encoded string in MongoDB?", "body": "<p>I'm trying to convert image to string and save it inside <em>MongoDB</em>. I also want to decode it later.</p>\n\n<p>I'm using only <em>Express</em>, <em>MongoDB</em> and <em>ReactJS</em> and I don't want to upload the image file on my server, they'll be user photo.</p>\n"}, {"tags": ["javascript", "jquery", "angularjs"], "comments": [{"owner": {"reputation": 24888, "user_id": 1023618, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/5dd1a5bb0139abc749b7d4cd8cf7aa1b?s=128&d=identicon&r=PG", "display_name": "Reinstate Monica Cellio", "link": "https://stackoverflow.com/users/1023618/reinstate-monica-cellio"}, "edited": false, "score": 0, "creation_date": 1546468370, "post_id": 54013980, "comment_id": 94865200, "body": "Use <code>.empty()</code> and then <code>.append()</code> the jQuery elements, exactly as you have for the link, and add them 1 by 1.  You&#39;ve pretty much got what you need already."}], "answers": [{"tags": [], "owner": {"reputation": 322, "user_id": 1276269, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f34916b4b8ac9d190aee516ca7e91a75?s=128&d=identicon&r=PG", "display_name": "Vinicius.Silva", "link": "https://stackoverflow.com/users/1276269/vinicius-silva"}, "is_accepted": true, "score": 1, "last_activity_date": 1546474860, "last_edit_date": 1546474860, "creation_date": 1546473968, "answer_id": 54014776, "question_id": 54013980, "link": "https://stackoverflow.com/questions/54013980/using-javascript-to-replace-an-angular-div-with-different-elements/54014776#54014776", "title": "Using Javascript to replace an angular div with different elements", "body": "<p>You could select <code>&lt;a&gt;</code> elements with jQuery <a href=\"https://api.jquery.com/attribute-equals-selector/\" rel=\"nofollow noreferrer\">attribute selector</a> and change de value with <a href=\"https://api.jquery.com/text/\" rel=\"nofollow noreferrer\">.text()</a> method. To change the text of the paragraph <code>&lt;p&gt;</code> you can select them and use again the <code>.text()</code> method. </p>\n\n<p>Note if you have multiple places to change you could make a function to do this to avoid code duplication.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(function ( $ ) {\r\n  $( '.visible-element' )\r\n    .find( 'p' )\r\n    .text( 'My new other text here' );\r\n\r\n  $( '[href=\"tel:(+351) 217 907 610\"]' )\r\n    .attr( 'href', 'tel:(+999) 999 999 999' )\r\n    .text( '(+999) 999 999 999' );\r\n    \r\n  $( '[href=\"mailto:yolo@mymail.com\"]' )\r\n    .attr( 'href', 'mailto:me@myself.com' )\r\n    .text( 'me@myself.com' );\r\n} ( jQuery ));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"visible-element\"&gt;\r\n   &lt;p style=\"display: inline-block;\" class=\"ng-binding\"&gt;Need a hand?&lt;/p&gt;\r\n   &lt;a href=\"tel:(+351) 217 907 610\" class=\"ng-binding\"&gt;(+123) 345 678 987&lt;/a&gt;\r\n   &lt;span&gt;|&lt;/span&gt;\r\n   &lt;a href=\"mailto:yolo@mymail.com\" class=\"ng-binding\"&gt;yolo@mymail.com&lt;/a&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1209, "user_id": 770120, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/bde4c63167ba18607df504d7feefe16a?s=128&d=identicon&r=PG", "display_name": "Cl&#225;udio Ribeiro", "link": "https://stackoverflow.com/users/770120/cl%c3%a1udio-ribeiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 54014776, "answer_count": 1, "score": 0, "last_activity_date": 1546474860, "creation_date": 1546468006, "question_id": 54013980, "link": "https://stackoverflow.com/questions/54013980/using-javascript-to-replace-an-angular-div-with-different-elements", "title": "Using Javascript to replace an angular div with different elements", "body": "<p>I'm currently working on a website project that involves using a couple of elements from a common package. The elements are a header and a footer, and I don't have the ability to change these elements because other websites are using them.</p>\n\n<p>Now I need to change some of the elements, some text and anchors need to be changed. The only option I have is to replace them.</p>\n\n<p>I currently have the following element:</p>\n\n<pre><code>&lt;div class=\"visible-element\"&gt;\n&lt;p style=\"display: inline-block;\" class=\"ng-binding\"&gt;Need a hand?&lt;/p&gt;\n&lt;a href=\"tel:(+351) 217 907 610\" class=\"ng-binding\"&gt;(+123) 345 678 987&lt;/a&gt;\n&lt;span&gt;|&lt;/span&gt;\n&lt;a href=\"mailto:yolo@mymail.com\" class=\"ng-binding\"&gt;yolo@mymail.com&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>This element comes from the common package. What I need is to change the email and mailto fields. Since those don't have a specific class, one of the solutions I see is to replace the entire element.</p>\n\n<pre><code>// replace contents\nvar email = \"mailto:yolo@mymail.com\"\n$(\".visible-element\").html(\n    $(\"&lt;a&gt;\").attr(\"href\", \"mailto:\" + email).text(email)\n);\n</code></pre>\n\n<p>With this I can replace the above element with one that only has the email, but I still need the text and phone number.</p>\n\n<p>I'm not really seeing how can I concatenate the elements to form the original class but with all the elements needed.</p>\n"}, {"tags": ["javascript", "php", "sql", "pdo"], "comments": [{"owner": {"reputation": 16196, "user_id": 752527, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5e4c2e460e91d6368255ccec79e1763b?s=128&d=identicon&r=PG", "display_name": "Hanlet Esca&#241;o", "link": "https://stackoverflow.com/users/752527/hanlet-esca%c3%b1o"}, "edited": false, "score": 0, "creation_date": 1546468277, "post_id": 54013978, "comment_id": 94865161, "body": "Without looking a lot at your code, I have a couple of quick questions: <code>resultat </code> would hold a row, you would still need to access the <code>color</code> field, right? Your <code>myFunction</code> method is not being called from anywhere. You should still call it somewhere, right? ETA: Also, is your query only returning one row? Should you access the first row only?"}, {"owner": {"reputation": 4411, "user_id": 4987673, "user_type": "registered", "accept_rate": 57, "profile_image": "https://graph.facebook.com/10155577503090234/picture?type=large", "display_name": "Greg Schmidt", "link": "https://stackoverflow.com/users/4987673/greg-schmidt"}, "edited": false, "score": 0, "creation_date": 1546469984, "post_id": 54013978, "comment_id": 94865678, "body": "Seems like you should be able to do this with inline styling, no JavaScript at all required."}], "answers": [{"tags": [], "owner": {"reputation": 8552, "user_id": 2182349, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/bb687a2472d42d92f94372a47036bff9?s=128&d=identicon&r=PG", "display_name": "user2182349", "link": "https://stackoverflow.com/users/2182349/user2182349"}, "is_accepted": false, "score": 0, "last_activity_date": 1546485120, "creation_date": 1546485120, "answer_id": 54015848, "question_id": 54013978, "link": "https://stackoverflow.com/questions/54013978/changing-a-border-according-to-the-database/54015848#54015848", "title": "Changing a border according to the database", "body": "<p>You are very close</p>\n\n<p>On this line</p>\n\n<pre><code>document.getElementById(\"container\").style.borderColor = &lt;?php $resultat = $cooking-&gt;query('SELECT color FROM shows);?&gt;;\n</code></pre>\n\n<p>I don't know what <strong>$cooking->query</strong> returns, but the way you can figure it out is this:</p>\n\n<p>Add a line in your code like so:</p>\n\n<pre><code>&lt;?php var_dump($cooking-&gt;query('SELECT color FROM shows')); ?&gt;\n</code></pre>\n\n<p>This will let you see what is coming back from <strong>$cooking->query</strong></p>\n\n<p>It is likely an array will be returned</p>\n\n<p>If it is an array, you can get the color from the element like so</p>\n\n<pre><code>$shows[0]['color']\n</code></pre>\n\n<p><strong>$shows</strong> is an array, <strong>[0]</strong> means you want to use the first element in the array (the array indices are zero-based), and <strong>'color'</strong> means you would like the contents of the color column</p>\n\n<p>Once you have the color from the database, you can embed it in the JavaScript.  Be sure to put quotes around it.</p>\n\n<p>I would code it like this: </p>\n\n<pre><code> &lt;?php $resultat = $cooking-&gt;query('SELECT color FROM shows WHERE show_id = 1');?&gt;\n document.getElementById(\"container\").style.borderColor = \"&lt;?= $resultat[0]['color'] ?&gt;\";\n</code></pre>\n\n<p>You need a <strong>WHERE</strong> to indicate which show you want the color for.  You might use an id like <strong>show_id</strong>, or the name of the show.</p>\n\n<pre><code>document.getElementById(\"container\").style.borderColor = \"&lt;?= $resultat[0]['color'] ?&gt;\";\n</code></pre>\n"}], "owner": {"reputation": 77, "user_id": 10781154, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-DRv4Em_v1Wo/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jCwF8xh-WjTN6FUdALKMbnFHrrrw/mo/photo.jpg?sz=128", "display_name": "Sam Bath", "link": "https://stackoverflow.com/users/10781154/sam-bath"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546485120, "creation_date": 1546468002, "last_edit_date": 1546483330, "question_id": 54013978, "link": "https://stackoverflow.com/questions/54013978/changing-a-border-according-to-the-database", "title": "Changing a border according to the database", "body": "<p>I have a database with 2 tables:</p>\n\n<p><strong>members</strong> table and <strong>shows</strong> table</p>\n\n<p>I have 2 pages: <code>search.php</code> and <code>results.php</code></p>\n\n<p>I manage to display all the fields I want from the table <code>shows</code> (ie: if I type \"Parks &amp; Recreation\" in my 'search.php' page, I get all the information (name, actors,...) displayed in the page named 'results.php'.</p>\n\n<p>I've tried different solutions including:</p>\n\n<p><a href=\"https://www.w3schools.com/jsref/prop_style_bordercolor.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/jsref/prop_style_bordercolor.asp</a></p>\n\n<p>I know I am supposed to use:\n<code>document.getElementById(\"myDiv\").style.borderColor = 'red'</code></p>\n\n<p>The thing I don't know how to do is how to get the last bit of this code to react to my sql code.</p>\n\n<pre><code>&lt;div class=\"container\"&gt;\n    &lt;?php\n    include_once(\"inc/search.inc.php\");\n    if ($resultat-&gt;rowCount() &gt; 0) { ?&gt;\n        &lt;ul&gt;\n            &lt;?php while ($search = $resultat-&gt;fetch()) { ?&gt;\n            &lt;li&gt;&lt;?= $search['titre'] ?&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;?= $search['category'] ?&gt;&lt;/li&gt;\n            &lt;li&gt;&lt;?= $search['type'] ?&gt;&lt;/li&gt;\n            &lt;?php \n        } ?&gt;\n        &lt;/ul&gt;\n        &lt;?php \n    } else { ?&gt;\n        Sorry, no results for &lt;?= $term ?&gt;...\n        &lt;?php \n    } ?&gt;\n&lt;/div&gt;\n&lt;script&gt;\nfunction myFunction() {document.getElementById(\"container\").style.border = &lt;?php $resultat = $cooking-&gt;query('SELECT color FROM shows');?&gt;;\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>I would like the border to react to the field 'color' in the table show .\nIn this example of 'Parks &amp; Recreation', I would like to get the border to be green.</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "edited": false, "score": 2, "creation_date": 1546469107, "post_id": 54013976, "comment_id": 94865435, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/41504012/advanced-conditional-component-rendering-in-react\">Advanced conditional component rendering in react</a>"}], "answers": [{"tags": [], "owner": {"reputation": 7185, "user_id": 4949918, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/49ebe74084d2bf2feab20ec74c7b05ba?s=128&d=identicon&r=PG&f=1", "display_name": "Axnyff", "link": "https://stackoverflow.com/users/4949918/axnyff"}, "is_accepted": true, "score": 0, "last_activity_date": 1546471126, "creation_date": 1546471126, "answer_id": 54014443, "question_id": 54013976, "link": "https://stackoverflow.com/questions/54013976/render-link-only-if-props-data-contains-a-particular-value/54014443#54014443", "title": "Render link only if props data contains a particular value", "body": "<p>The easiest way in my opinion would be to create an extra component which will render its children:</p>\n\n<pre><code>const CVComponent = ({ children, pdf }) =&gt; pdf ? (\n  &lt;a href={process.env.PUBLIC_URL + \"/pdfs/\" + pdf}&gt;\n    {children}\n  &lt;/a&gt;\n) : &lt;div&gt;{children}&lt;/div&gt;;\n</code></pre>\n\n<p>You can then use it like this:</p>\n\n<pre><code>class PersonCard extends Component {\n\n  render() {\n    return (\n      &lt;div className=\"card-container\"&gt;\n        &lt;div className=\"card\"&gt;\n          &lt;div className=\"side\"&gt;\n            &lt;Image \n              className=\"card-img-top\"\n              src={process.env.PUBLIC_URL + \"/images/bios/\" + this.props.data.img_name}\n              height={249}\n              width={249} \n            /&gt;\n          &lt;/div&gt;\n          &lt;div className=\"card-body\"&gt;\n            &lt;CVComponent pdf={this.props.data.pdf}&gt;\n              &lt;h5 className=\"card-title\"&gt;\n                {this.props.data.name + \" \" + this.props.data.credentials}\n              &lt;/h5&gt;\n            &lt;/CVComponent&gt;\n            &lt;h6 className=\"card-text\"&gt;{this.props.data.position}&lt;/h6&gt;\n            &lt;p className=\"card-text\"&gt;{this.props.data.email}&lt;/p&gt;\n            &lt;p className=\"card-text\"&gt;{this.props.data.phone}&lt;/p&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 9403637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e4ac31118a3e02b03677bf5719fd240e?s=128&d=identicon&r=PG", "display_name": "Rgreaner", "link": "https://stackoverflow.com/users/9403637/rgreaner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 54014443, "answer_count": 1, "score": 0, "last_activity_date": 1546471126, "creation_date": 1546468001, "last_edit_date": 1546468977, "question_id": 54013976, "link": "https://stackoverflow.com/questions/54013976/render-link-only-if-props-data-contains-a-particular-value", "title": "Render link only if props data contains a particular value", "body": "<p>I'm trying to link employe names to CVs on an <code>About</code> page. However, some people do not have a CV. I want to remove the <code>a</code> tag/the link on the name if they do not have CV PDFs filled out in my JSON file. I know how to do this outside of React, I'm just unsure when the javascript needs to be in the render rather than return area, as I have my information set up. </p>\n\n<pre><code>import React, { Component } from 'react';\nimport Image from 'react-image-resizer';\nimport '../styles/PersonCard.css';\n\n\nclass PersonCard extends Component {\n\n  render() {\n    return (\n      &lt;div className=\"card-container\"&gt;\n        &lt;div className=\"card\"&gt;\n          &lt;div className=\"side\"&gt;\n            &lt;Image \n              className=\"card-img-top\"\n              src={process.env.PUBLIC_URL + \"/images/bios/\" + this.props.data.img_name}\n              height={249}\n              width={249} \n            /&gt;\n          &lt;/div&gt;\n          &lt;div className=\"card-body\"&gt;\n            &lt;a href={process.env.PUBLIC_URL + \"/pdfs/\" + this.props.data.pdf}&gt;\n              &lt;h5 className=\"card-title\"&gt;\n                {this.props.data.name + \" \" + this.props.data.credentials}\n              &lt;/h5&gt;\n            &lt;/a&gt;\n            &lt;h6 className=\"card-text\"&gt;{this.props.data.position}&lt;/h6&gt;\n            &lt;p className=\"card-text\"&gt;{this.props.data.email}&lt;/p&gt;\n            &lt;p className=\"card-text\"&gt;{this.props.data.phone}&lt;/p&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default PersonCard;\n</code></pre>\n\n<p>P.S. The JSON is set up in this format:</p>\n\n<pre><code>{\n    \"name\": \"John Smith\",\n    \"credentials\": \"PhD\",\n    \"position\": \"Professor\",\n    \"email\": \"jsmith@uni.edu\",\n    \"phone\": \"123-456-7890\",\n    \"designations\": [\n        \"Faculty\"\n    ],\n    \"img_name\": \"JohnSmith.jpg\",\n    \"pdf\": \"jSmithCV.pdf\"\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "node.js"], "comments": [{"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1546468005, "post_id": 54013934, "comment_id": 94865067, "body": "Instead of guessing how to work around a problem, why not include the code that produces the TypeError, indicating in which line it occurs?"}, {"owner": {"reputation": 1006, "user_id": 6212957, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fGa3R.png?s=128&g=1", "display_name": "Feelsbadman", "link": "https://stackoverflow.com/users/6212957/feelsbadman"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1546468134, "post_id": 54013934, "comment_id": 94865111, "body": "NodeJS does not show where the error occured all I know is which file it is. Do you know of any way to enable some sort of debugging mode in node?"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 1, "creation_date": 1546468237, "post_id": 54013934, "comment_id": 94865147, "body": "But you <i>can</i> debug the code. Find out where it produces that error. There are many ways to do so."}, {"owner": {"reputation": 1006, "user_id": 6212957, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fGa3R.png?s=128&g=1", "display_name": "Feelsbadman", "link": "https://stackoverflow.com/users/6212957/feelsbadman"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 1, "creation_date": 1546468361, "post_id": 54013934, "comment_id": 94865195, "body": "Don&#39;t be shy, feel free to let me know about those ways"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 2, "creation_date": 1546468444, "post_id": 54013934, "comment_id": 94865232, "body": "It is not a matter of shyness. You should take the initiative and look for yourself. A simple search on the internet leads to this: <a href=\"https://nodejs.org/en/docs/guides/debugging-getting-started/\" rel=\"nofollow noreferrer\">nodejs.org/en/docs/guides/debugging-getting-started</a>"}, {"owner": {"reputation": 1006, "user_id": 6212957, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fGa3R.png?s=128&g=1", "display_name": "Feelsbadman", "link": "https://stackoverflow.com/users/6212957/feelsbadman"}, "reply_to_user": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1546469943, "post_id": 54013934, "comment_id": 94865661, "body": "Not able to install it, OS: OS X Mojave"}], "answers": [{"comments": [{"owner": {"reputation": 1006, "user_id": 6212957, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fGa3R.png?s=128&g=1", "display_name": "Feelsbadman", "link": "https://stackoverflow.com/users/6212957/feelsbadman"}, "edited": false, "score": 1, "creation_date": 1546484366, "post_id": 54014423, "comment_id": 94868471, "body": "Thank you, master. Lord doge appreciates this answer :D Very helpful it was."}], "tags": [], "owner": {"reputation": 9718, "user_id": 8186898, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/s0cEU.jpg?s=128&g=1", "display_name": "Nino Filiu", "link": "https://stackoverflow.com/users/8186898/nino-filiu"}, "is_accepted": true, "score": 2, "last_activity_date": 1546471008, "creation_date": 1546471008, "answer_id": 54014423, "question_id": 54013934, "link": "https://stackoverflow.com/questions/54013934/typeerror-cannot-convert-object-to-primitive-value/54014423#54014423", "title": "TypeError: Cannot convert object to primitive value", "body": "<p>I know you solved the problem, but you might be interested in reading this, because your problem arised from a misunderstood basic concept of web dev which is data encoding.</p>\n\n<p>As far as I understand, you can't pass the string <code>&amp;nbsp;</code> to your back-end because it's parsed as an object, so I assume you either used GET or POST's <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Methods/POST\" rel=\"nofollow noreferrer\"><code>application/x-www-form-urlencoded</code></a> encoding to send request. In simpler terms:</p>\n\n<pre><code>// this object\n{\n  a: 10,\n  b: 20\n}\n\n// get passed to the server as this string\na=10&amp;b=20\n</code></pre>\n\n<p>Which is fine. That's one way to do. But you have to deal with proper encoding for sending special characters, example:</p>\n\n<pre><code>// you have this object:\n{\n  a: 10,\n  b: 'hello&amp;world'\n}\n\n// you encode it naively to this\na=10&amp;b=hello&amp;nbsp;world\n\n// the server understands this\n{\n  a: 10,\n  b: 'hello',\n  nbsp: ';world'\n}\n</code></pre>\n\n<p>The <code>&amp;</code> creates the bug, because it's a special character and won't be treater as part of a string. <strong>Even if you find a trick to not use <code>&amp;nbsp</code>, or to replace it by a space, you'll think you have solved the problem, but... <em>almost all unicode characters are special characters and need to be encoded so as to not create bugs</em>.</strong></p>\n\n<p>Encode your strings using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/encodeURIComponent\" rel=\"nofollow noreferrer\"><code>encodeURIComponent</code></a>, or POST your data with a different encoding (for example, JSON). I'd personally use a function like <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch\" rel=\"nofollow noreferrer\"><code>fetch</code></a> which does all the job for you and spare you with all the encoding-related issues:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let data = {\r\n  userId: 1,\r\n  id: 1\r\n}\r\n\r\nfetch('https://jsonplaceholder.typicode.com/posts',{\r\n  method: 'POST',\r\n  data: JSON.stringify(data)\r\n})\r\n.then(resp =&gt; resp.json())\r\n.then(json =&gt; console.log(json));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1006, "user_id": 6212957, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/fGa3R.png?s=128&g=1", "display_name": "Feelsbadman", "link": "https://stackoverflow.com/users/6212957/feelsbadman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8954, "favorite_count": 0, "accepted_answer_id": 54014423, "answer_count": 1, "score": 0, "last_activity_date": 1546484305, "creation_date": 1546467726, "question_id": 54013934, "link": "https://stackoverflow.com/questions/54013934/typeerror-cannot-convert-object-to-primitive-value", "title": "TypeError: Cannot convert object to primitive value", "body": "<p>I have a texteditor (div) and there's a <a href=\"https://stackoverflow.com/a/53983870/6212957\">function</a> to format the (selected)text inside it. When I mark a part of the text and chose to make it look like <code>this</code> (code snippet) I have to use <code>&amp;nbsp;</code> to avoid some bugs and make it user-friendly. However this data is being sent to the server (nodeJS) and it causes a bug where the content splits up into an object and to avoid this issue, I wanted to replace <code>&amp;nbsp;</code> with a space before sending it to the server.\n<br><br>\nWhat I did was the following <br></p>\n\n<pre><code>// replace &amp;nbsp; by \" \"\nlet content = $('.editor').html().replace(/(&amp;nbsp;)/gi, \" \");\n\n// replace editor html\n$('.editor').html(content);\n\n// print results\nconsole.log(\"html: \",$('.editor').html());\n</code></pre>\n\n<p>in console it displays what is expected (text : <code>as &lt;code&gt;dasdasd&lt;/code&gt;</code>):</p>\n\n<pre><code>html:  as&lt;span&gt; &lt;/span&gt;&lt;code&gt;dasdasd&lt;/code&gt;&lt;span&gt; &lt;/span&gt;\n</code></pre>\n\n<p>however on the serverside i got the following error:</p>\n\n<pre><code>TypeError: Cannot convert object to primitive value\n</code></pre>\n\n<p>then i decided to print the variable which contains the content from editor (which seems fine?):</p>\n\n<pre><code>{ posterContent: 'as&lt;span&gt; &lt;/span&gt;&lt;code&gt;dasdasd&lt;/code&gt;&lt;span&gt; &lt;/span&gt;' }\n</code></pre>\n\n<p><strong>Question:</strong> how can I replace <code>&amp;nbsp;</code> with a space without having to convert html to (string) in order to avoid this error?</p>\n"}, {"tags": ["javascript", "arrays", "object", "set"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 2, "creation_date": 1546467733, "post_id": 54013908, "comment_id": 94864984, "body": "Did you check the documentation for <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set\" rel=\"nofollow noreferrer\">Set</a>?"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 1, "creation_date": 1546467923, "post_id": 54013908, "comment_id": 94865041, "body": "Every objects has &quot;keys&quot;. A <code>Set</code> is a special object that stores its values internally. Use its API to access the values."}], "answers": [{"comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 2, "creation_date": 1546467943, "post_id": 54013951, "comment_id": 94865049, "body": "<a href=\"https://stackoverflow.com/questions/37151966/what-is-spreadelement-in-ecmascript-documentation-is-it-the-same-as-spread-oper/37152508#37152508\"><code>...</code> is not an operator</a>"}, {"owner": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 2, "creation_date": 1546468135, "post_id": 54013951, "comment_id": 94865114, "body": "@FelixKling The spread syntax is commonly known as the &quot;spread operator&quot; within the community. Usages of this term is ubiquitous: <a href=\"https://redux.js.org/recipes/using-object-spread-operator\" rel=\"nofollow noreferrer\">Ref 1</a>, <a href=\"https://eslint.org/docs/rules/prefer-spread\" rel=\"nofollow noreferrer\">Ref 2</a>, <a href=\"https://www.geeksforgeeks.org/javascript-spread-operator/\" rel=\"nofollow noreferrer\">Ref 3</a>."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1546468204, "post_id": 54013951, "comment_id": 94865130, "body": "@FelixKling Too late for that debate."}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 1, "creation_date": 1546468331, "post_id": 54013951, "comment_id": 94865181, "body": "I would say, let&#39;s at least try here at SO to instate good naming habits."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1546468801, "post_id": 54013951, "comment_id": 94865348, "body": "I believe that people who know better have the obligation to use the proper terminology, to not spread misconceptions further (no pun intended). All these references could be updated/corrected (unless previous such attempts have been shut down). In fact, the MDN documentation on this was updated at some point."}], "tags": [], "owner": {"reputation": 84240, "user_id": 283863, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/vItjB.png?s=128&g=1", "display_name": "Derek \u6715\u6703\u529f\u592b", "link": "https://stackoverflow.com/users/283863/derek-%e6%9c%95%e6%9c%83%e5%8a%9f%e5%a4%ab"}, "is_accepted": false, "score": 0, "last_activity_date": 1546467837, "creation_date": 1546467837, "answer_id": 54013951, "question_id": 54013908, "link": "https://stackoverflow.com/questions/54013908/how-to-access-an-object-with-no-keys-only-values-javascript/54013951#54013951", "title": "How to access an object with no keys, only values javascript", "body": "<p><code>noDuplicates</code> is a Set which provides an iterator. Simply use <code>for...of</code> or the spread operator <code>[... noDuplicates]</code> instead of <code>for...in</code>. Better yet, convert your set into an array directly with <code>Array.from</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let setToArray = Array.from(new Set([1, 1, 1, 2, 2]));\r\nconsole.log(setToArray);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 83, "user_id": 8653028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4461e1083df4cbc3b74870ead35d7a0?s=128&d=identicon&r=PG&f=1", "display_name": "BayCode", "link": "https://stackoverflow.com/users/8653028/baycode"}, "edited": false, "score": 0, "creation_date": 1546468616, "post_id": 54013953, "comment_id": 94865294, "body": "This is the perfect answer. Thanks!"}, {"owner": {"reputation": 83, "user_id": 8653028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4461e1083df4cbc3b74870ead35d7a0?s=128&d=identicon&r=PG&f=1", "display_name": "BayCode", "link": "https://stackoverflow.com/users/8653028/baycode"}, "edited": false, "score": 0, "creation_date": 1546468846, "post_id": 54013953, "comment_id": 94865364, "body": "noDuplicates.forEach(v =&gt; console.log(v));  If I understand this correctly, you created a null function named v that prints out the e, y, and s once each where v acts as the iterator/index"}], "tags": [], "owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "is_accepted": true, "score": 2, "last_activity_date": 1546468168, "last_edit_date": 1546468168, "creation_date": 1546467860, "answer_id": 54013953, "question_id": 54013908, "link": "https://stackoverflow.com/questions/54013908/how-to-access-an-object-with-no-keys-only-values-javascript/54013953#54013953", "title": "How to access an object with no keys, only values javascript", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">array spread syntax</a> to convert a Set to array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var hasDuplicates = \"eyes\";\r\nvar noDuplicates = new Set(hasDuplicates); // {\"e\", \"y\", \"s\"}\r\nvar setToArray = [...noDuplicates];\r\n\r\nconsole.log(setToArray);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You can also use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Set/forEach\" rel=\"nofollow noreferrer\"><code>Set.forEach()</code></a> or a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\">for...of loop</a> to access the Set's values directly:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var hasDuplicates = \"eyes\";\r\nvar noDuplicates = new Set(hasDuplicates); // {\"e\", \"y\", \"s\"}\r\n\r\nnoDuplicates.forEach(v =&gt; console.log(v));\r\n\r\nfor(const v of noDuplicates) {\r\n  console.log(v);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 83, "user_id": 8653028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c4461e1083df4cbc3b74870ead35d7a0?s=128&d=identicon&r=PG&f=1", "display_name": "BayCode", "link": "https://stackoverflow.com/users/8653028/baycode"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 54013953, "answer_count": 2, "score": 1, "last_activity_date": 1546468847, "creation_date": 1546467543, "question_id": 54013908, "link": "https://stackoverflow.com/questions/54013908/how-to-access-an-object-with-no-keys-only-values-javascript", "title": "How to access an object with no keys, only values javascript", "body": "<pre><code>var hasDuplicates = \"eyes\";\nvar noDuplicates = new Set(hasDuplicates); // {\"e\", \"y\", \"s\"}\n\n\nconsole.log(Object.keys(noDuplicates));   // []\nconsole.log(Object.values(noDuplicates)); // []\n</code></pre>\n\n<p>I basically want to access the 'e', 'y', and the 's' of the set called 'noDuplicates'.</p>\n\n<pre><code>var setToArray = [];\nfor (spot in noDuplicates) {\n    setToArray.push(Object.keys(noDuplicates)[spot])\n}\n</code></pre>\n"}, {"tags": ["javascript", "class", "ecmascript-6"], "comments": [{"owner": {"reputation": 2624, "user_id": 989920, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/01e16ed8a3bc3246278001359f7a0257?s=128&d=identicon&r=PG", "display_name": "evolutionxbox", "link": "https://stackoverflow.com/users/989920/evolutionxbox"}, "edited": false, "score": 0, "creation_date": 1546468116, "post_id": 54013899, "comment_id": 94865105, "body": "You\u2019re calling the event callback, you need to pass in a function reference."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1546468141, "post_id": 54013899, "comment_id": 94865116, "body": "First of all, if you want to set up event listeners like that, then your call to <code>design.transition(...)</code> must return a function. Secondly, you need to decide what your parameters are going to be. In the second example, you&#39;re calling <code>document.getElementById(clickea)</code> but <code>clickea</code> is <i>already</i> an element, namely <code>document.getElementById(&#39;sign&#39;)</code>."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1546468167, "post_id": 54013899, "comment_id": 94865121, "body": "What you are describing has nothing to do with classes. You are using <code>addEventListener</code> and <code>getElementById</code> incorrectly, and you would have the same problem if you didn&#39;t use a class. In the first case you are calling the function instead of passing it do <code>addEventListener</code>. In the second case you are passing a value to <code>getElementById</code> that is not a string, and thus <code>getElementById</code> returns <code>null</code>."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1546468828, "post_id": 54013899, "comment_id": 94865356, "body": "Example code: <a href=\"https://jsfiddle.net/khrismuc/mevycbzh/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/mevycbzh</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4253, "user_id": 1050809, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/SF4U9.png?s=128&g=1", "display_name": "Scott Sword", "link": "https://stackoverflow.com/users/1050809/scott-sword"}, "is_accepted": false, "score": 0, "last_activity_date": 1546468561, "last_edit_date": 1546468561, "creation_date": 1546468207, "answer_id": 54014015, "question_id": 54013899, "link": "https://stackoverflow.com/questions/54013899/how-can-i-use-addeventlistener-in-class-ecmascript6/54014015#54014015", "title": "How can I use addEventListener in Class EcmaScript6?", "body": "<p>Welcome to Stackoverflow!</p>\n\n<p>It looks like you're seeing this error because your class is expecting a string, but you're providing a DOM chunk. </p>\n\n<p>Your code is essentially doing this...</p>\n\n<pre><code>document.getElementById(document.getElementById('sign'));\n</code></pre>\n\n<p>If you just provide strings to <code>transition()</code> you should be good.</p>\n\n<p>Regarding your actual question</p>\n\n<blockquote>\n  <p>How can I use addEventListener in Class EcmaScript6?</p>\n</blockquote>\n\n<p>A class is really no different than a function, its just a way to store data/functionality. You can have a method on the class that gets a piece of DOM or a adds a listener to a piece of DOM, but you can't put a listener directly on the class. As it sits right now, it doesn't look like you are even trying to do that though. Your class simply stores some logic and procedural DOM code which is totally valid.</p>\n"}], "owner": {"reputation": 15, "user_id": 10577395, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XCWl8.png?s=128&g=1", "display_name": "Aisakk", "link": "https://stackoverflow.com/users/10577395/aisakk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546528350, "creation_date": 1546467475, "last_edit_date": 1546467870, "question_id": 54013899, "link": "https://stackoverflow.com/questions/54013899/how-can-i-use-addeventlistener-in-class-ecmascript6", "title": "How can I use addEventListener in Class EcmaScript6?", "body": "<p>I use EcmaScript6 and don't know how to apply addEventListener in a Class. \nI tried declaring a var out of the Class to call the method EventListener and got an Error :/. I also tried addEventlistener inside of the Class and I can't.</p>\n\n<p>The errors in console, is because I'm try again new alternate.</p>\n\n<p>Don't know solution problem. how add the event listener ? </p>\n\n<pre><code>&lt;!-- language: lang-js --&gt;\nclass Design{\ntransition(clickea, up, down){\n    this.clickea = clickea;\n    this.up = up;\n    this.down = down;\n    let cont = 0;\n    let focus = document.getElementById(clickea);\n    let content = document.getElementById(up);\n    let content2 = document.getElementById(down);\n    if(cont == 0){\n        content.style.transform = \"translateY(-1000%)\";\n        content2.style.transform = \"translateY(0%)\";\n        cont++;\n    }else{\n        content.style.transform = \"translateY(0%)\";\n        content2.style.transform = \"translateY(-100%)\";\n        cont--;\n    }\n}\n}\n\nconst design = new Design();\nlet enlance = document.getElementById('sign');\nenlance.addEventListener('click', desgin.transition(enlance, loguin, \nregistro));\n</code></pre>\n\n<p>Google console      </p>\n\n<pre><code>eventos.js:11 Uncaught TypeError: Cannot read property 'style' of null\nat Design.transition (eventos.js:11)\nat eventos.js:24\n</code></pre>\n\n<p>or</p>\n\n<pre><code>&lt;!-- language: lang-js --&gt;\nclass Design{\ntransition(clickea, up, down){\n    this.clickea = clickea;\n    this.up = up;\n    this.down = down;\n    let cont = 0;\n    let focus = document.getElementById(clickea);\n    let content = document.getElementById(up);\n    let content2 = document.getElementById(down);\n    focus.addEventListener('click', function(up,down){\n        if(cont == 0){\n            content.style.transform = \"translateY(-1000%)\";\n            content2.style.transform = \"translateY(0%)\";\n            cont++;\n        }else{\n            content.style.transform = \"translateY(0%)\";\n            content2.style.transform = \"translateY(-100%)\";\n            cont--;\n        }\n    });\n\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code>const dise\u00f1o = new Design();\nlet enlance = document.getElementById('sign');\nlet loguin = document.getElementById('loguin');\nlet registro = document.getElementById('registro');\ndise\u00f1o.transition(enlance, loguin, registro);\n\n\neventos.js:10 Uncaught TypeError: Cannot read property 'addEventListener' of null\n    at Design.transition (eventos.js:10)\n    at eventos.js:29\ntransition @ eventos.js:10\n</code></pre>\n\n<p>My question is, how i can use listener in the template method Class.</p>\n"}, {"tags": ["javascript", "reactjs", "redux"], "comments": [{"owner": {"reputation": 107933, "user_id": 105224, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1dc604233d8a0c48f0884769acb1fb93?s=128&d=identicon&r=PG", "display_name": "Andreas Dolk", "link": "https://stackoverflow.com/users/105224/andreas-dolk"}, "edited": false, "score": 0, "creation_date": 1546467805, "post_id": 54013886, "comment_id": 94865010, "body": "Your <code>StopTyping</code> method sounds suspicious. Please add the code of that implementation. Pretty sure that we find the issue there. I&#39;d expect that you pass <code>i</code> to that method to update the correct value in your complex state."}, {"owner": {"reputation": 85, "user_id": 10545839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/811561f77aecf636d73918fc0d80b597?s=128&d=identicon&r=PG&f=1", "display_name": "Malek", "link": "https://stackoverflow.com/users/10545839/malek"}, "reply_to_user": {"reputation": 107933, "user_id": 105224, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1dc604233d8a0c48f0884769acb1fb93?s=128&d=identicon&r=PG", "display_name": "Andreas Dolk", "link": "https://stackoverflow.com/users/105224/andreas-dolk"}, "edited": false, "score": 0, "creation_date": 1546468973, "post_id": 54013886, "comment_id": 94865395, "body": "done @Andreas_D ..may be this  {this.state.splitAmount[i][<code>SplitAmount ${i}</code>]} is weired ..but for s the only way to initialize the table from the state"}], "answers": [{"tags": [], "owner": {"reputation": 107933, "user_id": 105224, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1dc604233d8a0c48f0884769acb1fb93?s=128&d=identicon&r=PG", "display_name": "Andreas Dolk", "link": "https://stackoverflow.com/users/105224/andreas-dolk"}, "is_accepted": true, "score": 0, "last_activity_date": 1546477577, "creation_date": 1546477577, "answer_id": 54015126, "question_id": 54013886, "link": "https://stackoverflow.com/questions/54013886/how-to-make-the-value-in-the-inputtext-dynamic/54015126#54015126", "title": "How to make the Value in the inputText dynamic?", "body": "<p>If you update state, never use the current state array or object: we always have to create a new structure and update the state with that. So, in your 'StopTyping' method (which should be renamed to 'taxValueChangeHandler', really!), say:</p>\n\n<pre><code>let newSplitAmount=[...this.state.splitAmount].concat(newValues);\n</code></pre>\n\n<p>It creates a new array with all values of splitAmount and concatenates that with the new values.</p>\n\n<p>Then, in the input element, I'd always explicitly pass the event, if the event is needed in the method:</p>\n\n<pre><code>onChange={(e) =&gt; StopTyping(e)}\n</code></pre>\n\n<p>Hope this already helps! </p>\n"}], "owner": {"reputation": 85, "user_id": 10545839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/811561f77aecf636d73918fc0d80b597?s=128&d=identicon&r=PG&f=1", "display_name": "Malek", "link": "https://stackoverflow.com/users/10545839/malek"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 1, "accepted_answer_id": 54015126, "answer_count": 1, "score": 1, "last_activity_date": 1546477577, "creation_date": 1546467389, "last_edit_date": 1546468888, "question_id": 54013886, "link": "https://stackoverflow.com/questions/54013886/how-to-make-the-value-in-the-inputtext-dynamic", "title": "How to make the Value in the inputText dynamic?", "body": "<p>I m trying to make the default value for the input field from an array in the state..i could \n put the values but after that i am not able to change the field any more ( it works wrong i can add only one letter which is strange ) \n(PS: there is only one input in my code ) : </p>\n\n<p>when i change the value=\"\" in the input it works but i need this table to contain the values from the state.</p>\n\n<pre><code>        state ={\n\n        splitAmount : [ {\n\n        SplitAmount0: this.props.data.amount1\n          },\n         {\n        SplitAmount1: this.props.data.amount2\n         },\n       {\n        SplitAmount2: this.props.data.amount3\n      }\n      ],  \n    }\n\n  }\n\n\n StopTyping = (event) =&gt; {\n    const self = this;\n    if (self.state.typingTimeout) {\n        clearTimeout(self.state.typingTimeout);\n    }\n    self.setState({\n        val : event.target.value,\n        name : event.target.name,\n        id : event.target.id,\n        typingTimeout: setTimeout(function () {\n            self.setAmount(self.state.name,self.state.id,self.state.val);\n        }, 1000)\n    });\n\n\n}\nsetAmount=(name,id,val)=&gt;{\n    this.removeSplitAmount(name);\n    let some=0;\n    for(var i=0;i&lt;this.state.splitAmount.length;i++){\n        let splitAmountState=`SplitAmount${i}`;\n        some+=this.state.splitAmount[i][splitAmountState]\n    }\n    let newAmount=this.props.data.amount-(some+val);\n\n    if(some&gt;0){\n\n        let newValues=[{[val]:val},{[`SplitAmount${id+1}`]:newAmount}]\n        let newSplitAmount=this.state.splitAmount.concat(newValues);\n        this.setState({splitAmount:newSplitAmount})\n\n    }\n}\n\n\n      return(\n               &lt;div&gt;\n                {this.state.splitAmount.map((splitAmount,i)=&gt;{\n                    const splitAmountKey=i\n                    return(\n                        &lt;table className=\"middle-table\"key={i}&gt;\n                            &lt;tbody&gt;\n                            &lt;tr&gt;\n                                &lt;th&gt;DueDate&lt;/th&gt;\n                                &lt;th&gt;Status&lt;/th&gt;\n                                &lt;th&gt;Amount&lt;/th&gt;\n                                &lt;th&gt;VAT&lt;/th&gt;\n                                &lt;th&gt;Otherexpenses&lt;/th&gt;\n                                &lt;th&gt;SocialSecurity&lt;/th&gt;\n                                &lt;th&gt;Miscelaneous&lt;/th&gt;\n                                &lt;th&gt;TaxableAmount&lt;/th&gt;\n                            &lt;/tr&gt;\n                  &lt;tr style={{height:40}}&gt;\n                           &lt;td className=\"middle-table- \n        col\"&gt;05.12.2018&lt;/td&gt;\n                           &lt;td className=\"middle-table-colright-align\"&gt; \n                     {this.props.data.status}&lt;/td&gt;\n                            &lt;td className=\"middle-table-colright-align\"&gt;\n                             &lt;input className=\"tax-value\" value= \n           {this.state.splitAmount[i][`SplitAmount ${i}`]} id={i} name= \n              {'SplitAmount'+i}\n                                                               onChange= \n                      {this.StopTyping}/&gt;\n                            &lt;/td&gt;\n                  &lt;td className=\"middle-table-colright-align\"&gt; \n                    {this.props.data.vatAmount}&lt;/td&gt;\n                &lt;td className=\"middle-table-colright-align\"&gt; \n               {this.props.data.otherExpenses}&lt;/td&gt;\n                &lt;td className=\"middle-table-colright-align\"&gt; \n                  {this.props.data.socialSecurityAmountIncluded}&lt;/td&gt;\n                  &lt;td className=\"middle-table-colright-align\"&gt; \n              {this.props.data.miscellaneousDeduction}&lt;/td&gt;\n                 &lt;td className=\"middle-table-colright- \n                     align\"style={{backgroundColor:'#F4F6F8'}}&gt;1000&lt;/td&gt;\n                            &lt;/tr&gt;\n                            &lt;/tbody&gt;\n                        &lt;/table&gt;\n                    )\n                })}\n</code></pre>\n"}, {"tags": ["javascript", "php", "mysql"], "comments": [{"owner": {"reputation": 73668, "user_id": 1415724, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zErhj.jpg?s=128&g=1", "display_name": "Funk Forty Niner", "link": "https://stackoverflow.com/users/1415724/funk-forty-niner"}, "edited": false, "score": 1, "creation_date": 1546467416, "post_id": 54013870, "comment_id": 94864866, "body": "Side note: <code>mysqli_error()</code> isn&#39;t the correct function to test if a connection failed or not. You need <code>mysqli_connect_error()</code>."}, {"owner": {"reputation": 73668, "user_id": 1415724, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zErhj.jpg?s=128&g=1", "display_name": "Funk Forty Niner", "link": "https://stackoverflow.com/users/1415724/funk-forty-niner"}, "edited": false, "score": 1, "creation_date": 1546467449, "post_id": 54013870, "comment_id": 94864882, "body": "<i>&quot;This creates an error&quot;</i> - Being what exactly? You didn&#39;t say."}, {"owner": {"reputation": 11132, "user_id": 2453432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8316bb81f12a04897cd36169fdadfbd9?s=128&d=identicon&r=PG", "display_name": "Magnus Eriksson", "link": "https://stackoverflow.com/users/2453432/magnus-eriksson"}, "edited": false, "score": 3, "creation_date": 1546467521, "post_id": 54013870, "comment_id": 94864906, "body": "Use parameterized <a href=\"http://php.net/manual/en/mysqli.quickstart.prepared-statements.php\" rel=\"nofollow noreferrer\">Prepared Statements</a> instead of manually escaping and building your queries like that. When you&#39;re using prepared statements, you don&#39;t need to escape anything since everything is handled by the server."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1546467574, "post_id": 54013870, "comment_id": 94864928, "body": "Please add example output (as opposed to PHP source code) to your question and post the exact error you&#39;re getting, verbatim."}, {"owner": {"reputation": 2487, "user_id": 2628903, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/kIwNY.jpg?s=128&g=1", "display_name": "Velimir Tchatchevsky", "link": "https://stackoverflow.com/users/2628903/velimir-tchatchevsky"}, "edited": false, "score": 0, "creation_date": 1546467631, "post_id": 54013870, "comment_id": 94864946, "body": "You need to set the database tables, your php file and your html to the correct encoding - say &#39;UTF-8&#39; - <a href=\"https://phptherightway.com/#php_and_utf8_title\" rel=\"nofollow noreferrer\">phptherightway.com/#php_and_utf8_title</a>"}, {"owner": {"reputation": 73668, "user_id": 1415724, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zErhj.jpg?s=128&g=1", "display_name": "Funk Forty Niner", "link": "https://stackoverflow.com/users/1415724/funk-forty-niner"}, "edited": false, "score": 1, "creation_date": 1546467727, "post_id": 54013870, "comment_id": 94864981, "body": "Sounds like it&#39;s suppertime over your way; same here, gotta run just as you may have done. Good luck."}, {"owner": {"reputation": 1684, "user_id": 6737468, "user_type": "registered", "accept_rate": 15, "profile_image": "https://graph.facebook.com/10208826849841645/picture?type=large", "display_name": "Carlos Alves Jorge", "link": "https://stackoverflow.com/users/6737468/carlos-alves-jorge"}, "edited": false, "score": 1, "creation_date": 1546467819, "post_id": 54013870, "comment_id": 94865014, "body": "I assume the apostrophe is not being escaped... The string should be &quot;Dave\\&#39;s dogs\\&#39;s bone&quot;. Check if that is what&#39;s coming out of your json_encode"}, {"owner": {"reputation": 1060, "user_id": 1597430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39a1c4a3e40055abc5f7d1ce2f3f4d39?s=128&d=identicon&r=PG", "display_name": "user1597430", "link": "https://stackoverflow.com/users/1597430/user1597430"}, "edited": false, "score": 0, "creation_date": 1546467930, "post_id": 54013870, "comment_id": 94865042, "body": "Who are people above which suggest PDO? Who are which upvote you all? OP asks you how to escape JSON, not a SQL query."}, {"owner": {"reputation": 37, "user_id": 6601284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/254e8da77d058e80392fba30c6e01af0?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/6601284/josh"}, "reply_to_user": {"reputation": 73668, "user_id": 1415724, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zErhj.jpg?s=128&g=1", "display_name": "Funk Forty Niner", "link": "https://stackoverflow.com/users/1415724/funk-forty-niner"}, "edited": false, "score": 0, "creation_date": 1546468057, "post_id": 54013870, "comment_id": 94865088, "body": "@FunkFortyNiner it was a &quot;Uncaught SyntaxError: missing ) after argument list&quot; because of the extra quote mark. I&#39;m looking for the correct way to do this as I am learning rather than how to just fix my code. I&#39;ll look up prepared statements."}, {"owner": {"reputation": 11132, "user_id": 2453432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8316bb81f12a04897cd36169fdadfbd9?s=128&d=identicon&r=PG", "display_name": "Magnus Eriksson", "link": "https://stackoverflow.com/users/2453432/magnus-eriksson"}, "reply_to_user": {"reputation": 1060, "user_id": 1597430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39a1c4a3e40055abc5f7d1ce2f3f4d39?s=128&d=identicon&r=PG", "display_name": "user1597430", "link": "https://stackoverflow.com/users/1597430/user1597430"}, "edited": false, "score": 0, "creation_date": 1546468101, "post_id": 54013870, "comment_id": 94865100, "body": "@user1597430 - You&#39;re the only one that mentioned PDO. I mentioned Prepared Statements since the title asks about handling special chars both in and out. Using prepared statements are best practice for in data (and the best way to protect your code from SQL injections), which is why it&#39;s mentioned. Also,  the OP hadn&#39;t actually told us what the error was or where it occurred when that comment was posted. Please read the time line/edits in the question and when the comments were posted."}, {"owner": {"reputation": 73668, "user_id": 1415724, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zErhj.jpg?s=128&g=1", "display_name": "Funk Forty Niner", "link": "https://stackoverflow.com/users/1415724/funk-forty-niner"}, "edited": false, "score": 0, "creation_date": 1546468556, "post_id": 54013870, "comment_id": 94865274, "body": "You can try adding <a href=\"http://php.net/manual/en/function.stripslashes.php\" rel=\"nofollow noreferrer\"><code>stripslashes()</code></a> should the data contain &#39;\\ in the db values."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1546469032, "post_id": 54013870, "comment_id": 94865413, "body": "Rule of thumb: DO NOT USE <code>JSON.parse()</code> or <code>JSON.stringify</code> unless you understand what they do."}, {"owner": {"reputation": 1060, "user_id": 1597430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39a1c4a3e40055abc5f7d1ce2f3f4d39?s=128&d=identicon&r=PG", "display_name": "user1597430", "link": "https://stackoverflow.com/users/1597430/user1597430"}, "reply_to_user": {"reputation": 73668, "user_id": 1415724, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zErhj.jpg?s=128&g=1", "display_name": "Funk Forty Niner", "link": "https://stackoverflow.com/users/1415724/funk-forty-niner"}, "edited": false, "score": 0, "creation_date": 1546469083, "post_id": 54013870, "comment_id": 94865428, "body": "For @Funk Forty Niner and others: OP does not have any issue with DB data. Also, <code>stripslashes</code> is usually a dirty workaround from people who don&#39;t know about default mysqli functions for string escaping. His issue is in the JSON escaping/understanding."}, {"owner": {"reputation": 73668, "user_id": 1415724, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zErhj.jpg?s=128&g=1", "display_name": "Funk Forty Niner", "link": "https://stackoverflow.com/users/1415724/funk-forty-niner"}, "reply_to_user": {"reputation": 1060, "user_id": 1597430, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/39a1c4a3e40055abc5f7d1ce2f3f4d39?s=128&d=identicon&r=PG", "display_name": "user1597430", "link": "https://stackoverflow.com/users/1597430/user1597430"}, "edited": false, "score": 1, "creation_date": 1546469150, "post_id": 54013870, "comment_id": 94865446, "body": "@user1597430 Yeah I know. I don&#39;t work with JSON, so I wasn&#39;t able to provide them with an (quick) answer. If I&#39;d be in their situtation, I&#39;d use my searching skills; <i>that</i> I&#39;m prrrretty good at ;-)"}, {"owner": {"reputation": 11132, "user_id": 2453432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8316bb81f12a04897cd36169fdadfbd9?s=128&d=identicon&r=PG", "display_name": "Magnus Eriksson", "link": "https://stackoverflow.com/users/2453432/magnus-eriksson"}, "reply_to_user": {"reputation": 73668, "user_id": 1415724, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zErhj.jpg?s=128&g=1", "display_name": "Funk Forty Niner", "link": "https://stackoverflow.com/users/1415724/funk-forty-niner"}, "edited": false, "score": 0, "creation_date": 1546469422, "post_id": 54013870, "comment_id": 94865515, "body": "@FunkFortyNiner - From what I&#39;ve seen, you&#39;re pretty darn good at most things :-p"}, {"owner": {"reputation": 73668, "user_id": 1415724, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zErhj.jpg?s=128&g=1", "display_name": "Funk Forty Niner", "link": "https://stackoverflow.com/users/1415724/funk-forty-niner"}, "reply_to_user": {"reputation": 11132, "user_id": 2453432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8316bb81f12a04897cd36169fdadfbd9?s=128&d=identicon&r=PG", "display_name": "Magnus Eriksson", "link": "https://stackoverflow.com/users/2453432/magnus-eriksson"}, "edited": false, "score": 1, "creation_date": 1546470109, "post_id": 54013870, "comment_id": 94865717, "body": "@MagnusEriksson Thanks Magnus. I&#39;ll Google till the cows come home if need be ;-) For days even. If I can&#39;t get something to work, I&#39;ll ask a few friends, but I usually end up on top."}], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 6601284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/254e8da77d058e80392fba30c6e01af0?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/6601284/josh"}, "edited": false, "score": 0, "creation_date": 1546469443, "post_id": 54014066, "comment_id": 94865519, "body": "This works, is it secure? There are some comments above talking about prepared statements. I thought I had done this, using            $sql = &quot;INSERT INTO geoData (NAME,LATITUDE,LONGITUDE,MESSAGE) VALUES (&#39;$name&#39;, &#39;$latitude&#39;, &#39;$longitude&#39;, &#39;$message&#39;)&quot;;           what should I be doing?"}, {"owner": {"reputation": 11132, "user_id": 2453432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8316bb81f12a04897cd36169fdadfbd9?s=128&d=identicon&r=PG", "display_name": "Magnus Eriksson", "link": "https://stackoverflow.com/users/2453432/magnus-eriksson"}, "reply_to_user": {"reputation": 37, "user_id": 6601284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/254e8da77d058e80392fba30c6e01af0?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/6601284/josh"}, "edited": false, "score": 0, "creation_date": 1546469614, "post_id": 54014066, "comment_id": 94865563, "body": "Prepared statements are for your database queries. This answer is about how to output the result as json (fixing your current error). Two totally different things. Also, the above query uses string interpolation (which is not prepared statements). Read the link I posted in the comment about prepared statements under your question."}, {"owner": {"reputation": 37, "user_id": 6601284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/254e8da77d058e80392fba30c6e01af0?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/6601284/josh"}, "edited": false, "score": 0, "creation_date": 1546469791, "post_id": 54014066, "comment_id": 94865610, "body": "Will do, much appreciated!"}], "tags": [], "owner": {"reputation": 11132, "user_id": 2453432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8316bb81f12a04897cd36169fdadfbd9?s=128&d=identicon&r=PG", "display_name": "Magnus Eriksson", "link": "https://stackoverflow.com/users/2453432/magnus-eriksson"}, "is_accepted": true, "score": 4, "last_activity_date": 1546474054, "last_edit_date": 1546474054, "creation_date": 1546468575, "answer_id": 54014066, "question_id": 54013870, "link": "https://stackoverflow.com/questions/54013870/handling-special-characters-in-and-out-of-mysql/54014066#54014066", "title": "Handling special characters in and out of mysql", "body": "<p>The issue is your <code>JSON.parse()</code> which isn't needed at all in this case.</p>\n\n<p>Change:</p>\n\n<pre><code>var data = JSON.parse( '&lt;?php echo json_encode($rows); ?&gt; ' );\n</code></pre>\n\n<p>to</p>\n\n<pre><code>var data = &lt;?= json_encode($rows); ?&gt;; \n</code></pre>\n\n<p><code>JSON.parse()</code> is for parsing stringified json. Echoing the result from <code>json_encode()</code> will give you the correct result straight away.</p>\n\n<p><strong>Side note</strong></p>\n\n<p>I would recommend adding <code>$rows = [];</code> before your <code>if (mysqli_num_rows($result) &gt; 0)</code> or <code>json_encode($rows)</code> will throw an \"undefined variable\" if the query doesn't return any results (since that variable currently is created inside the loop when you're looping through the results).</p>\n\n<p><strong>Side note 2</strong></p>\n\n<p>When making database queries, it's recommended to use parameterized <a href=\"http://php.net/manual/en/mysqli.quickstart.prepared-statements.php\" rel=\"nofollow noreferrer\">Prepared Statements</a> instead of using <code>mysqli_real_escape_string()</code> for manually escaping and building your queries. Prepared statements are currently the recommended way to protect yourself against SQL injections and makes sure you don't forget or miss to escape some value.</p>\n"}, {"tags": [], "owner": {"reputation": 208, "user_id": 6908226, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIQZe.jpg?s=128&g=1", "display_name": "iazaran", "link": "https://stackoverflow.com/users/6908226/iazaran"}, "is_accepted": false, "score": 0, "last_activity_date": 1546468691, "creation_date": 1546468691, "answer_id": 54014090, "question_id": 54013870, "link": "https://stackoverflow.com/questions/54013870/handling-special-characters-in-and-out-of-mysql/54014090#54014090", "title": "Handling special characters in and out of mysql", "body": "<p>You produce that error yourself by adding ' in json. If you want check that use this:</p>\n\n<pre><code>JSON.parse( '[{\"NAME\":\"The Kennel\",\"LATITUDE\":\"50.7599143982\",\"LONGDITUTE\":\"-1.3100980520\",\"type\":\"bad\",\"reason\":\"Dave\\'s Dog\\'s Bone\",\"improvement\":\"\",\"reviewed\":\"0\"}] ' );\n</code></pre>\n\n<p>And if you want correct that in main code use <code>str.replace(/'/g, '\"')</code> for your var data, before parse it to json.</p>\n"}], "owner": {"reputation": 37, "user_id": 6601284, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/254e8da77d058e80392fba30c6e01af0?s=128&d=identicon&r=PG&f=1", "display_name": "josh", "link": "https://stackoverflow.com/users/6601284/josh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 54014066, "answer_count": 2, "score": 0, "last_activity_date": 1546474054, "creation_date": 1546467220, "last_edit_date": 1546468438, "question_id": 54013870, "link": "https://stackoverflow.com/questions/54013870/handling-special-characters-in-and-out-of-mysql", "title": "Handling special characters in and out of mysql", "body": "<p>I'm building a leaflet web app which stores messages assigned to geolocations.</p>\n\n<p>I add data one line at a time by sending it from javascript to PHP using:</p>\n\n<pre><code>$name = mysqli_real_escape_string($conn, $_POST['NAME']);\n$latitude = mysqli_real_escape_string($conn, $_POST['LATITUDE']);\n$longitude = mysqli_real_escape_string($conn, $_POST['LONGITUDE']);\n$message = mysqli_real_escape_string($conn, $_POST['MESSAGE']);\n\n$sql = \"INSERT INTO geoData (NAME,LATITUDE,LONGITUDE,MESSAGE)\nVALUES ('$name', '$latitude', '$longitude', '$message')\";\n</code></pre>\n\n<p>I get the data back out using PHP to echo the data back to javascript using:</p>\n\n<pre><code>$conn = mysqli_connect($dbServername,$dbUsername, $dbPassword, $dbName);\nif(! $conn ){\n    die('Could not connect: ' . mysqli_error());\n}\n$sql = 'SELECT * FROM geoData';\n\n$result = mysqli_query($conn, $sql);\nif (mysqli_num_rows($result) &gt; 0) {\n    while($row = mysqli_fetch_assoc($result)) {\n        $rows[] = $row;\n    }\n } else {\n    echo \"0 results\";\n } \n\nmysqli_close($conn);\n\n&lt;script type=\"text/javascript\"&gt;\n        var data = JSON.parse( '&lt;?php echo json_encode($rows); ?&gt; ' ); \n&lt;/script&gt;\n</code></pre>\n\n<p>This works fine UNLESS the message has special characters such as apostrophes for example 'Dave's dogs's bone'. This creates an error </p>\n\n<p>What is the best practise for such an application which uses PHP and javascript. I think I need some way to encode the special characters which javascript can then decode and display.</p>\n\n<p>The error comes as:\nUncaught SyntaxError: missing ) after argument list</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n        var data = JSON.parse( '[{\"NAME\":\"The Kennel\",\"LATITUDE\":\"50.7599143982\",\"LONGITUDE\":\"-1.3100980520\",\"MESSAGE\",\"Dave's Dog's Bone\"}] ' ); \n&lt;/script&gt;\n</code></pre>\n\n<p>Many thanks</p>\n"}, {"tags": ["javascript", "function", "onclick"], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 9334732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cMtij.png?s=128&g=1", "display_name": "L Leah", "link": "https://stackoverflow.com/users/9334732/l-leah"}, "edited": false, "score": 1, "creation_date": 1546477697, "post_id": 54014327, "comment_id": 94867357, "body": "You really are a hero. I thought way too hard about it, should have looked closer. Thank you!"}], "tags": [], "owner": {"reputation": 3958, "user_id": 2789699, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/3557239f9d91bc91589f41f1b9023eda?s=128&d=identicon&r=PG", "display_name": "Hydrothermal", "link": "https://stackoverflow.com/users/2789699/hydrothermal"}, "is_accepted": true, "score": 0, "last_activity_date": 1546470266, "creation_date": 1546470266, "answer_id": 54014327, "question_id": 54013864, "link": "https://stackoverflow.com/questions/54013864/how-to-change-the-img-of-a-cloned-div-onclick/54014327#54014327", "title": "How to change the img of a cloned div onClick", "body": "<p>You have several different problems here. First, your CSS sets <code>pointer-events: none;</code> for all <code>.snowflake</code> elements. This will stop any clicks from triggering, so you have to remove it if you want mouse interactivity.</p>\n\n<p>Second, your <code>changeImage()</code> function uses <code>document.getElementById('toChange')</code> to get the element to change the source of. No such element exists and even if it did, that would mean that clicking on any of the snowflakes would just change the source of that one image. You need to reference the snowflake that you clicked on. An easy way to do this is by passing <code>this</code> as an argument to the function in the onclick attribute:</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"snowflake\"&gt;&lt;img src=\"https://vignette.wikia.nocookie.net/dragonballfanon/images/7/70/Random.png/revision/latest?cb=20161221030547\" onclick=\"changeImage(this)\"&gt;&lt;/div&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>function changeImage(img) {\n    img.src = 'https://i.pinimg.com/originals/6e/19/56/6e195649034f042d1dea5230234570a8.gif';\n}\n</code></pre>\n\n<p>Finally, your JSFiddle is configured to delay execution of the JavaScript until after the DOM is ready. This means that the code will be wrapped in a callback function, and therefore the <code>changeImage()</code> function will no longer be in the global scope. This makes it inaccessible to the elements that want to call it in their handlers (the snowflakes). Because you are already listening for the DOMContentLoaded event on your own, you can just change the code to execute normally and it should work. Click on the dropdown that says \"JavaScript + jQuery 3.2.1\" above your JS code and change the load type to any \"No wrap\" option and it should work.</p>\n"}], "owner": {"reputation": 49, "user_id": 9334732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cMtij.png?s=128&g=1", "display_name": "L Leah", "link": "https://stackoverflow.com/users/9334732/l-leah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 54014327, "answer_count": 1, "score": 0, "last_activity_date": 1546470266, "creation_date": 1546467189, "question_id": 54013864, "link": "https://stackoverflow.com/questions/54013864/how-to-change-the-img-of-a-cloned-div-onclick", "title": "How to change the img of a cloned div onClick", "body": "<p>Right now I have a lovely code (that was initially for flowing snowflakes) that lets cloned divs fall from the top of the window, to the bottom and repeat. The thing is that I want the content to change on click. However, this is not yet working.</p>\n\n<p>I know how to change content of a div without it being cloned, but I have serious trouble figuring out how to do the same with one div being cloned within the code. </p>\n\n<p>Anyone have any tips what I should do, even a hint in which direction to go. I'm clueless. </p>\n\n<p>This is the fiddle: \n<a href=\"http://jsfiddle.net/4yaxvt7h/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/4yaxvt7h/</a></p>\n\n<p>the javascript: </p>\n\n<pre><code>function changeImage(){\n    document.getElementById('toChange').src='https://i.pinimg.com/originals/6e/19/56/6e195649034f042d1dea5230234570a8.gif';\n   }\n\n\n\n// Array to store our Snowflake objects\n  var snowflakes = [];\n\n  // Global variables to store our browser's window size\n  var browserWidth;\n  var browserHeight;\n\n  // Specify the number of snowflakes you want visible\n  var numberOfSnowflakes = 15;\n\n  // Flag to reset the position of the snowflakes\n  var resetPosition = false;\n\n  // Handle accessibility\n  var enableAnimations = false;\n  var reduceMotionQuery = matchMedia(\"(prefers-reduced-motion)\");\n\n  // Handle animation accessibility preferences \n  function setAccessibilityState() {\n    if (reduceMotionQuery.matches) {\n      enableAnimations = false;\n    } else { \n      enableAnimations = true;\n    }\n  }\n  setAccessibilityState();\n\n  reduceMotionQuery.addListener(setAccessibilityState);\n\n  //\n  // It all starts here...\n  //\n  function setup() {\n    if (enableAnimations) {\n      window.addEventListener(\"DOMContentLoaded\", generateSnowflakes, false);\n      window.addEventListener(\"resize\", setResetFlag, false);\n    }\n  }\n  setup();\n\n  //\n  // Constructor for our Snowflake object\n  //\n  function Snowflake(element, speed, xPos, yPos) {\n    // set initial snowflake properties\n    this.element = element;\n    this.speed = speed;\n    this.xPos = xPos;\n    this.yPos = yPos;\n    this.scale = 1;\n\n    // declare variables used for snowflake's motion\n    this.counter = 0;\n    this.sign = Math.random() &lt; 0.5 ? 1 : -1;\n\n    // setting an initial opacity and size for our snowflake\n    this.element.style.opacity = 1;\n  }\n\n  //\n  // The function responsible for actually moving our snowflake\n  //\n  Snowflake.prototype.update = function () {\n    // using some trigonometry to determine our x and y position\n    this.counter += this.speed / 5000;\n    this.xPos += this.sign * this.speed * Math.cos(this.counter) / 40;\n    this.yPos += Math.sin(this.counter) / 40 + this.speed / 30;\n    this.scale = .5 + Math.abs(10 * Math.cos(this.counter) / 20);\n\n    // setting our snowflake's position\n    setTransform(Math.round(this.xPos), Math.round(this.yPos), this.scale, this.element);\n\n    // if snowflake goes below the browser window, move it back to the top\n    if (this.yPos &gt; browserHeight) {\n      this.yPos = -50;\n    }\n  }\n\n  //\n  // A performant way to set your snowflake's position and size\n  //\n  function setTransform(xPos, yPos, scale, el) {\n    el.style.transform = `translate3d(${xPos}px, ${yPos}px, 0) scale(${scale}, ${scale})`;\n  }\n\n  //\n  // The function responsible for creating the snowflake\n  //\n  function generateSnowflakes() {\n\n    // get our snowflake element from the DOM and store it\n    var originalSnowflake = document.querySelector(\".snowflake\");\n\n    // access our snowflake element's parent container\n    var snowflakeContainer = originalSnowflake.parentNode;\n    snowflakeContainer.style.display = \"block\";\n\n    // get our browser's size\n    browserWidth = document.documentElement.clientWidth;\n    browserHeight = document.documentElement.clientHeight;\n\n    // create each individual snowflake\n    for (var i = 0; i &lt; numberOfSnowflakes; i++) {\n\n      // clone our original snowflake and add it to snowflakeContainer\n      var snowflakeClone = originalSnowflake.cloneNode(true);\n      snowflakeContainer.appendChild(snowflakeClone);\n\n      // set our snowflake's initial position and related properties\n      var initialXPos = getPosition(50, browserWidth);\n      var initialYPos = getPosition(50, browserHeight);\n      var speed = 5 + Math.random() * 40;\n\n      // create our Snowflake object\n      var snowflakeObject = new Snowflake(snowflakeClone,\n        speed,\n        initialXPos,\n        initialYPos);\n      snowflakes.push(snowflakeObject);\n    }\n\n    // remove the original snowflake because we no longer need it visible\n    snowflakeContainer.removeChild(originalSnowflake);\n\n    moveSnowflakes();\n  }\n\n  //\n  // Responsible for moving each snowflake by calling its update function\n  //\n  function moveSnowflakes() {\n\n    if (enableAnimations) {\n      for (var i = 0; i &lt; snowflakes.length; i++) {\n        var snowflake = snowflakes[i];\n        snowflake.update();\n      }      \n    }\n\n    // Reset the position of all the snowflakes to a new value\n    if (resetPosition) {\n      browserWidth = document.documentElement.clientWidth;\n      browserHeight = document.documentElement.clientHeight;\n\n      for (var i = 0; i &lt; snowflakes.length; i++) {\n        var snowflake = snowflakes[i];\n\n        snowflake.xPos = getPosition(50, browserWidth);\n        snowflake.yPos = getPosition(50, browserHeight);\n      }\n\n      resetPosition = false;\n    }\n\n    requestAnimationFrame(moveSnowflakes);\n  }\n\n  //\n  // This function returns a number between (maximum - offset) and (maximum + offset)\n  //\n  function getPosition(offset, size) {\n    return Math.round(-1 * offset + Math.random() * (size + 2 * offset));\n  }\n\n  //\n  // Trigger a reset of all the snowflakes' positions\n  //\n  function setResetFlag(e) {\n    resetPosition = true;\n  }\n</code></pre>\n\n<p>html </p>\n\n<pre><code>&lt;div id=\"snowflakeContainer\"&gt;\n  &lt;div class=\"snowflake\"&gt;&lt;img src=\"element1.png\" \n&lt;/div&gt;\n</code></pre>\n\n<p>css</p>\n\n<pre><code>body{\n  background-color: black;\n}\n\n  #snowflakeContainer {\n    position: absolute;\n    left: 0px;\n    top: 0px;\n    display: none;\n  }\n\n  .snowflake {\n    position: fixed;\n    background-color: red;\n    user-select: none;\n    z-index: 1000;\n    pointer-events: none;\n    border-radius: 50%;\n    width: 200px;\n    height: 200px;\n  }\n\n\n  img{\n    max-width: 100%;\n  }\n</code></pre>\n\n<p>any tips are super welcome!! </p>\n"}, {"tags": ["javascript", "web", "firebase-realtime-database", "href", "session-storage"], "answers": [{"tags": [], "owner": {"reputation": 2487, "user_id": 2628903, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/kIwNY.jpg?s=128&g=1", "display_name": "Velimir Tchatchevsky", "link": "https://stackoverflow.com/users/2628903/velimir-tchatchevsky"}, "is_accepted": true, "score": 1, "last_activity_date": 1546467400, "creation_date": 1546467400, "answer_id": 54013888, "question_id": 54013852, "link": "https://stackoverflow.com/questions/54013852/cannot-redirect-to-another-html-file-after-saving-data-to-firebase-in-my-web/54013888#54013888", "title": "Cannot redirect to another html file after saving data to firebase in my web", "body": "<p>Add a completion callback, like so:</p>\n\n<pre><code>firebaseIdRef.child(\"total price\").set(\"I'm writing data\", function(error) {\n  if (error) {\n    alert(\"Data could not be saved.\" + error);\n  } else {\n    alert(\"Data saved successfully.\");\n  }\n});\n</code></pre>\n\n<p>From the docs: <a href=\"https://firebase.google.com/docs/database/admin/save-data#section-completion-callback\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/database/admin/save-data#section-completion-callback</a></p>\n"}], "owner": {"reputation": 33, "user_id": 9523343, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8e0b15019b46a78fcbd96ece6d4f6b70?s=128&d=identicon&r=PG&f=1", "display_name": "Dini_Sarithma", "link": "https://stackoverflow.com/users/9523343/dini-sarithma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "accepted_answer_id": 54013888, "answer_count": 1, "score": 0, "last_activity_date": 1546467400, "creation_date": 1546467092, "question_id": 54013852, "link": "https://stackoverflow.com/questions/54013852/cannot-redirect-to-another-html-file-after-saving-data-to-firebase-in-my-web", "title": "Cannot redirect to another html file after saving data to firebase in my web", "body": "<p>I want to add some session storage values to the database and then redirect the page to another html file. But when i insert the redirecting code, the data are not getting saved to firebase but when i comment the code to redirect the page, the data are getting stored in firebase just as expected. How do i redirect to another html file after these data are stored in firebase?</p>\n\n<p>function bookingConfirm(){</p>\n\n<pre><code>var id = 4;\nvar firebaseRootRef = firebase.database().ref().child(\"Orders\");\nvar firebaseIdRef = firebaseRootRef.child(id);\n\nfirebaseIdRef.child(\"id\").set(id);\nfirebaseIdRef.child(\"user\").set(sessionStorage.getItem(\"userName\"));\nfirebaseIdRef.child(\"movie\").set(sessionStorage.getItem(\"movie\"));\nfirebaseIdRef.child(\"date\").set(sessionStorage.getItem(\"date\"));\nfirebaseIdRef.child(\"seats\").set(sessionStorage.getItem(\"seats\"));\nfirebaseIdRef.child(\"snacks\").set(sessionStorage.getItem(\"snacks\"));\nfirebaseIdRef.child(\"ticket price\").set(sessionStorage.getItem(\"total\"));\nfirebaseIdRef.child(\"snack price\").set(sessionStorage.getItem(\"snackPrice\"));\nfirebaseIdRef.child(\"total price\").set(sessionStorage.getItem(\"finalPrice\"));\n\nalert(\" Your booking is done! \");\n// location.href = \"main.html\";\n// document.getElementById(\"quithref\").setAttribute(\"href\",\"main.html\");\n</code></pre>\n\n<p>}</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "fullcalendar"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 10289668, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-abK3kRPyMQM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNQMwLAVnMNsisE24ocCHoz8zNu9A/mo/photo.jpg?sz=128", "display_name": "Rust Gold", "link": "https://stackoverflow.com/users/10289668/rust-gold"}, "is_accepted": true, "score": 0, "last_activity_date": 1547026389, "creation_date": 1547026389, "answer_id": 54106930, "question_id": 54013810, "link": "https://stackoverflow.com/questions/54013810/add-jquery-slidetoggle-to-an-event-on-clicking-of-an-event-in-day-list-view-of-f/54106930#54106930", "title": "Add jQuery slidetoggle to an event on clicking of an event in day list view of fullcalendar", "body": "<p>I'm able to achieve this somehow without jquery slide toggle. \nThis is developed only for list-day-view of fullcalendar.\nIn script file event Click is there. On click of <strong>\".fc-list-item\"</strong> class, we're binding <strong>\".cat\"</strong> class to fc-list-item with some height. This gives a feel of slide toggle .\nOn click of any event in list-day-view , it'll slide down and if you click again it'll slide up.</p>\n\n<p><strong>index.html.erb</strong></p>\n\n<pre><code>  &lt;div id='calendar'&gt;&lt;/div&gt;\n\n  &lt;style&gt;\n    .cat{\n      height: 50px;\n    }\n  &lt;/style&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    $(document).ready(function() {\n\n            $('#calendar').fullCalendar({\n      header: {\n        left: 'prev,next today',\n        center: 'title',\n        right: 'listDay,agendaWeek'\n      },\n\n      // customize the button names,\n      // otherwise they'd all just say \"list\"\n      views: {\n        listDay: { buttonText: 'list day' },\n        listWeek: { buttonText: 'list week' }\n      },\n\n      defaultView: 'listDay',\n      defaultDate: '2019-01-03',\n      navLinks: true, // can click day/week names to navigate views\n      editable: true,\n      events: [\n        &lt;% @data.each do |f| %&gt;\n          {\n            title: '&lt;%= f[:name]%&gt;',\n            start: '&lt;%= f[:start_time] %&gt;',\n            end: ' &lt;%= f[:end_time] %&gt;',\n            description: 'first description',\n            addStar: \"Add or remove\",\n            addNote: \"Edit event notes\",\n            bell: \"Notification settings\",\n          },\n\n        &lt;% end %&gt;\n      ],\n      eventRender: function(event, element) {\n\n      var color = element.find('.session-color')\n      var bell = element.find('.bell-icon')\n      var notes = element.find('.notes-icon')\n      var slide = element.find('.slide-down')\n\n      color.prepend(\"&lt;i class='fa fa-star'&gt;&lt;/i&gt;\");\n      bell.prepend(\"&lt;i class='fa  fa-bell'&gt;&lt;/i&gt;\");\n      notes.prepend(\"&lt;i class='fa fa-sticky-note'&gt;&lt;/i&gt;\");\n      slide.prepend(\"&lt;i class='fa  fa-angle-down fa-2x'&gt;&lt;/i&gt;\");\n      // element[0].title = \"This is your name\";\n      // element[0].addNote = \"Please add note\"\n      },\n     eventClick: function(event,calEvent, jsEvent, view) {\n          $(\".bell-icon\").click(function(){\n            alert(\"bell here\");\n          })\n          $(\".fc-list-item\").click(function(event, calEvent, jsEvent, view){\n\n            var first_name = this.nextElementSibling\n            if ( !first_name || first_name.className == \"fc-list-item\"){\n              var slot_time = $(this)[0].querySelector(\".fc-list-item-time\").innerHTML\n              // var star = $(this)[0].querySelector(\".custom-class\").innerHTML;\n              var name = $(this)[0].childNodes[5].querySelector('a').innerHTML;\n\n              $(this).after('&lt;div class=\"cat\"&gt;&lt;/div&gt;');\n              $(this).after('&lt;div class=\"mat\"&gt;&lt;/div&gt;');\n\n              $('.cat').append(slot_time);\n              $('.mat').append(name);\n            }\n            else{\n              $('.cat').remove();\n              $('.mat').remove();\n            }\n          });\n         }\n\n       });\n     });\n  &lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 10289668, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-abK3kRPyMQM/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaNQMwLAVnMNsisE24ocCHoz8zNu9A/mo/photo.jpg?sz=128", "display_name": "Rust Gold", "link": "https://stackoverflow.com/users/10289668/rust-gold"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "accepted_answer_id": 54106930, "answer_count": 1, "score": 0, "last_activity_date": 1547026389, "creation_date": 1546466849, "question_id": 54013810, "link": "https://stackoverflow.com/questions/54013810/add-jquery-slidetoggle-to-an-event-on-clicking-of-an-event-in-day-list-view-of-f", "title": "Add jQuery slidetoggle to an event on clicking of an event in day list view of fullcalendar", "body": "<p>I'm trying to customise the full calendar for the following.\nI need to add collapsing panel or jquery slidetoggle to an event on day list view of fullcalnedar. On clicking on an event it should slide down or up a panel, this panel will some information regarding that Event. As of now list view collapsing is not available with full calendar library.\nAny one have idea, how to do this?</p>\n\n<p>Here is my project link:-\n<a href=\"https://github.com/mahi007rocks/custom_calendar\" rel=\"nofollow noreferrer\">https://github.com/mahi007rocks/custom_calendar</a></p>\n\n<p>Here is code, i have done so far\n<b>index.html.erb</b></p>\n\n<p>I have gone through full calendar documentation, there list view collapsing is not available and bit googling also not helpful</p>\n\n<pre><code> &lt;div id='calendar'&gt;&lt;/div&gt;\n\n &lt;script type=\"text/javascript\"&gt;\n  $(document).ready(function() {\n   $('#calendar').fullCalendar({\n      header: {\n        left: 'prev,next today',\n        center: 'title',\n        right: 'listDay,agendaWeek'\n      },\n\n      // customize the button names,\n      // otherwise they'd all just say \"list\"\n      views: {\n        listDay: { buttonText: 'list day' },\n        listWeek: { buttonText: 'list week' }\n      },\n\n      defaultView: 'listDay',\n      defaultDate: '2019-01-02',\n      navLinks: true, // can click day/week names to navigate views\n      editable: true,\n      events: [\n        &lt;% @data.each do |f| %&gt;\n          {\n            title: '&lt;%= f[:name]%&gt;',\n            start: '&lt;%= f[:start_time] %&gt;',\n            end: ' &lt;%= f[:end_time] %&gt;',\n            description: 'first description',\n            addStar: \"star\",\n            addNote: \"Notes\"\n          },\n\n        &lt;% end %&gt;\n      ],\n      eventRender: function(event, element) { \n      element.find('.fc-list-item-title').append(\" \n     &lt;br/&gt;Slide toggle text should come here\" + event.description); \n      }\n    });\n\n   });\n &lt;/script&gt;\n</code></pre>\n\n<p>When i click on any event in day list view, the event should slide down and should show the text \"Slide toggle text should come here\".\nBut with current implementation i was not able complete this.\nAny help would be appreciated.</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 73668, "user_id": 1415724, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/zErhj.jpg?s=128&g=1", "display_name": "Funk Forty Niner", "link": "https://stackoverflow.com/users/1415724/funk-forty-niner"}, "edited": false, "score": 2, "creation_date": 1546467210, "post_id": 54013779, "comment_id": 94864795, "body": "How is this a &quot;php&quot; question?"}, {"owner": {"reputation": 11132, "user_id": 2453432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8316bb81f12a04897cd36169fdadfbd9?s=128&d=identicon&r=PG", "display_name": "Magnus Eriksson", "link": "https://stackoverflow.com/users/2453432/magnus-eriksson"}, "edited": false, "score": 0, "creation_date": 1546467253, "post_id": 54013779, "comment_id": 94864811, "body": "The original HTML is: <code>class=&quot;icon fa-plus&quot;</code>. Then you add <code>addClass(&quot;plus fa-minus&quot;)</code>. What result do you expect from that?"}, {"owner": {"reputation": 495, "user_id": 7694176, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/25a99cac831f1ad5e308b2e6e896fd01?s=128&d=identicon&r=PG&f=1", "display_name": "Nayeem Hyder Riddhi", "link": "https://stackoverflow.com/users/7694176/nayeem-hyder-riddhi"}, "edited": false, "score": 0, "creation_date": 1546467939, "post_id": 54013779, "comment_id": 94865045, "body": "when i make it dynamic, expanding time font awesome icon not work correctly, sometimes it comes first fa-plus, sometimes fa-minus, how to keep one icon name and correct one, is there any idea?"}], "answers": [{"comments": [{"owner": {"reputation": 579, "user_id": 4963142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64280ab73fdb406e29033bbd9e391358?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4963142/ryan"}, "reply_to_user": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "edited": false, "score": 1, "creation_date": 1546469300, "post_id": 54014059, "comment_id": 94865489, "body": "Good catch @ChrisHappy. I&#39;ve corrected my answer above."}], "tags": [], "owner": {"reputation": 579, "user_id": 4963142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64280ab73fdb406e29033bbd9e391358?s=128&d=identicon&r=PG", "display_name": "Ryan", "link": "https://stackoverflow.com/users/4963142/ryan"}, "is_accepted": true, "score": 2, "last_activity_date": 1546469266, "last_edit_date": 1546469266, "creation_date": 1546468492, "answer_id": 54014059, "question_id": 54013779, "link": "https://stackoverflow.com/questions/54013779/how-to-keep-one-icon-name-while-clicking-accordion-item/54014059#54014059", "title": "How to keep one icon name while clicking accordion item?", "body": "<p>In your HTML, you have the <code>fa-plus</code> class already applied to each accordion item trigger. Then, in your javascript, you're re-applying the <code>plus fa-plus</code> classes to each trigger, creating the class duplication.</p>\n\n<p>Simply removing the additional js below your event handler takes care of the duplication, and explicitly stating an addition/removal of <code>plus fa-minus</code> or <code>fa-plus</code> to each clicked item will handle the change modifications.</p>\n\n<p>Now, if you want to make each declaration of the accordion item trigger icons 100% dynamic, you'd have to provide some additional code to showcase how you're generating said elements, but within the context of the information that you've provided, this is the appropriate fix.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".accordion li h5\").click(function () {\r\n  var current_li = $(this).parent();\r\n  $(\".accordion li div\").each(function(i,el) {\t\t\t\r\n    if($(el).parent().is(current_li)) {\t\t\t\t\r\n      if ($(el).is(\":visible\")) {\r\n        $(el).prev().toggleClass(\"plus fa-minus\").toggleClass(\"fa-plus\");\r\n        $(el).slideUp().removeClass(\"plus\");\r\n      } else {\r\n         $(el).prev().toggleClass(\"plus fa-minus\").toggleClass(\"fa-plus\");\r\n         $(el).slideDown().addClass(\"plus\")\r\n      }\r\n    } else{\r\n      $(el).prev().removeClass(\"plus fa-minus\").addClass(\"fa-plus\");\r\n      $(el).slideUp();\r\n    }\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>@charset \"UTF-8\";\r\n.accordion {\r\n  max-width: 600px;\r\n  margin: 50px auto;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  font-size: 16px;\r\n  line-height: 20px;\r\n}\r\n\r\n.accordion ul {\r\n  border-bottom: #ecebe9 solid 1px;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.accordion ul li {\r\n  border-left: #ecebe9 solid 1px;\r\n  border-right: #ecebe9 solid 1px;\r\n  list-style: none;\r\n  margin: 0;\r\n}\r\n\r\n.accordion ul li h5 {\r\n  font-size: 18px;\r\n  color: #333333;\r\n  font-weight: bold;\r\n  background: #f7f6f5;\r\n  border-top: #ecebe9 solid 1px;\r\n  border-left: #ecebe9 solid 0px;\r\n  border-right: #ecebe9 solid 0px;\r\n  margin: 0;\r\n  padding: 12px 15px 12px 50px;\r\n  line-height: 19px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  \r\n}\r\n\r\n.accordion ul li h5.plus {\r\n  border-bottom: #orange solid 1px;\r\n  background: orange;\r\n  color: #fff;\r\n}\r\n\r\n.accordion ul li &gt; div {\r\n  color: #333333;\r\n  line-height: 24px;\r\n  padding: 15px 15px 15px 50px;\r\n}\r\n\r\n.accordion ul li &gt; div a {\r\n  color: #7f0a19;\r\n}\r\n\r\n.accordion ul li h5.icon:before {\r\n  font-family: 'FontAwesome';\r\n  background: #777;\r\n  width: 20px;\r\n  height: 20px;\r\n  position: absolute;\r\n  left: 14px;\r\n  top: 14px;\r\n  transition: all 0.3s ease-in-out 0s;\r\n  -webkit-transition: all 0.3s ease-in-out 0s;\r\n  -o-transition: all 0.3s ease-in-out 0s;\r\n  font-size: 12px;\r\n  color: #fff;\r\n  text-align: center;\r\n  line-height: 20px;\r\n}\r\n\r\n.accordion ul li h5.plus:before {\r\n  font-family: 'FontAwesome';\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\" &gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=\"UTF-8\"&gt;\r\n  &lt;title&gt;Custom jQuery Accordion&lt;/title&gt;\r\n  \r\n  \r\n  &lt;link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'&gt;\r\n\r\n  &lt;link rel=\"stylesheet\" href=\"css/style.css\"&gt;\r\n\r\n  \r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n  &lt;div class=\"accordion\"&gt;\r\n  &lt;h2&gt;Custom jQuery Accordion&lt;/h2&gt;\r\n  &lt;ul&gt;\r\n    &lt;li&gt;\r\n      &lt;h5 class=\"icon plus fa-minus\"&gt;Title Lorem Ipsum is simply dummy text of the Lorem&lt;/h5&gt;\r\n      &lt;div class=\"plus\"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;h5 class=\"icon fa-plus\"&gt;Title Lorem Ipsum is simply text of the printing dummy &lt;/h5&gt;\r\n      &lt;div style=\"display: none;\"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;h5 class=\"icon fa-plus\"&gt;Title Lorem Ipsum is dummy text of the printing&lt;/h5&gt;\r\n      &lt;div style=\"display: none;\"&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    \r\n  &lt;/ul&gt;\r\n&lt;/div&gt;\r\n  &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'&gt;&lt;/script&gt;\r\n\r\n  \r\n\r\n    &lt;script  src=\"js/index.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>UPDATED</strong></p>\n\n<p>@Chris Happy, thanks for pointing out the error in the solution. I've corrected the errors in the CSS display property, as well as the class toggling on the accordion items.</p>\n"}, {"tags": [], "owner": {"reputation": 5947, "user_id": 5771750, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/mBNlv.png?s=128&g=1", "display_name": "Chris Happy", "link": "https://stackoverflow.com/users/5771750/chris-happy"}, "is_accepted": false, "score": 2, "last_activity_date": 1546468804, "creation_date": 1546468804, "answer_id": 54014105, "question_id": 54013779, "link": "https://stackoverflow.com/questions/54013779/how-to-keep-one-icon-name-while-clicking-accordion-item/54014105#54014105", "title": "How to keep one icon name while clicking accordion item?", "body": "<p>For this to work, you need to:</p>\n\n<ul>\n<li>Toggle the <code>.fa-plus</code> class when an item is clicked</li>\n<li>Remove <code>.fa-plus</code> class at the beginning.</li>\n</ul>\n\n<p>JS Code:</p>\n\n<pre><code>$(\".accordion li h5\").click(function () {\n  var current_li = $(this).parent();\n  $(\".accordion li div\").each(function(i,el) {          \n    if($(el).parent().is(current_li)) {             \n      $(el).prev().toggleClass(\"fa-plus plus fa-minus\"); // Toggle `fa-plus` as well\n      $(el).slideToggle();              \n    } else{\n      $(el).prev().removeClass(\"plus fa-minus\").addClass(\"fa-plus\");\n      $(el).slideUp();\n    }\n  });\n});\n\n$('.accordion li &gt; div').hide();\n$('.accordion li h5').first().addClass(\"plus fa-minus\").removeClass(\"fa-plus\"); // Remove `fa-plus`\n$('.accordion li &gt; div').first().show().addClass(\"plus\");\n</code></pre>\n\n<p>Snippet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".accordion li h5\").click(function () {\r\n  var current_li = $(this).parent();\r\n  $(\".accordion li div\").each(function(i,el) {\t\t\t\r\n    if($(el).parent().is(current_li)) {\t\t\t\t\r\n      $(el).prev().toggleClass(\"fa-plus plus fa-minus\");\r\n      $(el).slideToggle();\t\t\t\t\r\n    } else{\r\n      $(el).prev().removeClass(\"plus fa-minus\").addClass(\"fa-plus\");\r\n      $(el).slideUp();\r\n    }\r\n  });\r\n});\r\n\r\n$('.accordion li &gt; div').hide();\r\n$('.accordion li h5').first().addClass(\"plus fa-minus\").removeClass(\"fa-plus\");\r\n$('.accordion li &gt; div').first().show().addClass(\"plus\");</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>@charset \"UTF-8\";\r\n.accordion {\r\n  max-width: 600px;\r\n  margin: 50px auto;\r\n  font-family: Arial, Helvetica, sans-serif;\r\n  font-size: 16px;\r\n  line-height: 20px;\r\n}\r\n\r\n.accordion ul {\r\n  border-bottom: #ecebe9 solid 1px;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.accordion ul li {\r\n  border-left: #ecebe9 solid 1px;\r\n  border-right: #ecebe9 solid 1px;\r\n  list-style: none;\r\n  margin: 0;\r\n}\r\n\r\n.accordion ul li h5 {\r\n  font-size: 18px;\r\n  color: #333333;\r\n  font-weight: bold;\r\n  background: #f7f6f5;\r\n  border-top: #ecebe9 solid 1px;\r\n  border-left: #ecebe9 solid 0px;\r\n  border-right: #ecebe9 solid 0px;\r\n  margin: 0;\r\n  padding: 12px 15px 12px 50px;\r\n  line-height: 19px;\r\n  cursor: pointer;\r\n  position: relative;\r\n  \r\n}\r\n\r\n.accordion ul li h5.plus {\r\n  border-bottom: #orange solid 1px;\r\n  background: orange;\r\n  color: #fff;\r\n}\r\n\r\n.accordion ul li &gt; div {\r\n  color: #333333;\r\n  line-height: 24px;\r\n  padding: 15px 15px 15px 50px;\r\n}\r\n\r\n.accordion ul li &gt; div a {\r\n  color: #7f0a19;\r\n}\r\n\r\n.accordion ul li h5.icon:before {\r\n  font-family: 'FontAwesome';\r\n  background: #777;\r\n  width: 20px;\r\n  height: 20px;\r\n  position: absolute;\r\n  left: 14px;\r\n  top: 14px;\r\n  transition: all 0.3s ease-in-out 0s;\r\n  -webkit-transition: all 0.3s ease-in-out 0s;\r\n  -o-transition: all 0.3s ease-in-out 0s;\r\n  font-size: 12px;\r\n  color: #fff;\r\n  text-align: center;\r\n  line-height: 20px;\r\n}\r\n\r\n.accordion ul li h5.plus:before {\r\n  font-family: 'FontAwesome';\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\" &gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=\"UTF-8\"&gt;\r\n  &lt;title&gt;Custom jQuery Accordion&lt;/title&gt;\r\n  \r\n  \r\n  &lt;link rel='stylesheet' href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css'&gt;\r\n\r\n  &lt;link rel=\"stylesheet\" href=\"css/style.css\"&gt;\r\n\r\n  \r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n  &lt;div class=\"accordion\"&gt;\r\n  &lt;h2&gt;Custom jQuery Accordion&lt;/h2&gt;\r\n  &lt;ul&gt;\r\n    &lt;li&gt;\r\n      &lt;h5 class=\"icon fa-plus\"&gt;Title Lorem Ipsum is simply dummy text of the Lorem&lt;/h5&gt;\r\n      &lt;div&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;h5 class=\"icon fa-plus\"&gt;Title Lorem Ipsum is simply text of the printing dummy &lt;/h5&gt;\r\n      &lt;div&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    &lt;li&gt;\r\n      &lt;h5 class=\"icon fa-plus\"&gt;Title Lorem Ipsum is dummy text of the printing&lt;/h5&gt;\r\n      &lt;div&gt;Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the&lt;/div&gt;\r\n    &lt;/li&gt;\r\n    \r\n  &lt;/ul&gt;\r\n&lt;/div&gt;\r\n  &lt;script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'&gt;&lt;/script&gt;\r\n\r\n  \r\n\r\n    &lt;script  src=\"js/index.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://jsfiddle.net/Chris_Happy/9qyuLtbm/\" rel=\"nofollow noreferrer\">JSfiddle</a></p>\n\n<p>Lastly, I'd recommend you caching <code>$(el)</code> or use the <code>$this</code>: <a href=\"https://jsfiddle.net/Chris_Happy/9qyuLtbm/3/\" rel=\"nofollow noreferrer\">Jsfiddle</a>;</p>\n"}, {"tags": [], "owner": {"reputation": 504, "user_id": 1879194, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/bVagt.jpg?s=128&g=1", "display_name": "Kafoso", "link": "https://stackoverflow.com/users/1879194/kafoso"}, "is_accepted": false, "score": 1, "last_activity_date": 1546468861, "creation_date": 1546468861, "answer_id": 54014116, "question_id": 54013779, "link": "https://stackoverflow.com/questions/54013779/how-to-keep-one-icon-name-while-clicking-accordion-item/54014116#54014116", "title": "How to keep one icon name while clicking accordion item?", "body": "<p>I don't think I entirely understand your question, but perhaps this is what you want: <a href=\"https://jsfiddle.net/9p3mx52k/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/9p3mx52k/</a></p>\n\n<pre><code>$(\".accordion li h5\").click(function () {\n  var current_li = $(this).parent();\n  $(\".accordion li\").each(function(i,el) {          \n    if($(el).is(current_li)) {\n      if (current_li.find('&gt; h5').hasClass('plus')) {\n        $(el).find('&gt; h5').removeClass(\"plus fa-minus\").addClass(\"fa-plus\");\n        $(el).find('&gt; div').removeClass('plus').slideUp();\n      } else {\n        $(el).find('&gt; h5').removeClass(\"fa-plus\").addClass(\"plus fa-minus\");\n        $(el).find('&gt; div').addClass('plus').slideDown();\n      }\n    } else{\n      $(el).find('&gt; h5').removeClass(\"plus fa-minus\").addClass(\"fa-plus\");\n      $(el).find('&gt; div').removeClass('plus').slideUp();\n    }\n  });\n});\n$('.accordion li &gt; div').hide();\n$('.accordion li h5').first().removeClass(\"fa-plus\").addClass(\"plus fa-minus\");\n$('.accordion li &gt; div').first().show().addClass(\"plus\");\n</code></pre>\n\n<ol>\n<li>You didn't target all the correct elements.</li>\n<li>The behavior is different depending on the state (open/closed, see <code>hasClass</code>) on the clicked element, so you cannot simply use the toggle functions.</li>\n</ol>\n"}], "owner": {"reputation": 495, "user_id": 7694176, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/25a99cac831f1ad5e308b2e6e896fd01?s=128&d=identicon&r=PG&f=1", "display_name": "Nayeem Hyder Riddhi", "link": "https://stackoverflow.com/users/7694176/nayeem-hyder-riddhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 67, "favorite_count": 0, "accepted_answer_id": 54014059, "answer_count": 3, "score": 0, "last_activity_date": 1546469266, "creation_date": 1546466659, "last_edit_date": 1546467416, "question_id": 54013779, "link": "https://stackoverflow.com/questions/54013779/how-to-keep-one-icon-name-while-clicking-accordion-item", "title": "How to keep one icon name while clicking accordion item?", "body": "<p>I am trying to make a accordion dynamic with php wordpress. But by which source i found the accordion works correctly in html. but when i am trying to make it dynamic the font awesome icon don't work correctly. The font awesome icon repeats two time when it get expand. you can see below image</p>\n\n<p><a href=\"https://i.stack.imgur.com/pQ48u.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pQ48u.png\" alt=\"enter image description here\"></a></p>\n\n<p>the code is here\n<a href=\"https://jsfiddle.net/nriddhi/zyj3ck5t/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/nriddhi/zyj3ck5t/</a></p>\n\n<p>js code: </p>\n\n<pre><code>$(\".accordion li h5\").click(function () {\n  var current_li = $(this).parent();\n  $(\".accordion li div\").each(function(i,el) {          \n    if($(el).parent().is(current_li)) {             \n      $(el).prev().toggleClass(\"plus fa-minus\");\n      $(el).slideToggle();              \n    } else{\n      $(el).prev().removeClass(\"plus fa-minus\");\n      $(el).slideUp();\n    }\n  });\n});\n$('.accordion li &gt; div').hide();\n$('.accordion li h5').first().addClass(\"plus fa-minus\");\n$('.accordion li &gt; div').first().show().addClass(\"plus\");\n</code></pre>\n\n<p>how can i set font awesome icon class one time. and also when it will get expand there will only remain fa-minus icon and when will be closed there will be fa-plus icon. thanks for help....</p>\n"}, {"tags": ["javascript", "cypress"], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 3610539, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/E0QxR.png?s=128&g=1", "display_name": "Yu Jia", "link": "https://stackoverflow.com/users/3610539/yu-jia"}, "edited": false, "score": 0, "creation_date": 1546564869, "post_id": 54027111, "comment_id": 94900162, "body": "Thanks for your answer, one problem after I use your code in my test, the test is to continue running not stop even the response status is 200, and I added code  &quot;console.log(i);&quot; to show the iteration. the console show stop at second iteration."}], "tags": [], "owner": {"reputation": 14085, "user_id": 6922095, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W7OPb.jpg?s=128&g=1", "display_name": "Julia Passynkova", "link": "https://stackoverflow.com/users/6922095/julia-passynkova"}, "is_accepted": false, "score": 0, "last_activity_date": 1546543053, "last_edit_date": 1546543053, "creation_date": 1546536802, "answer_id": 54027111, "question_id": 54013747, "link": "https://stackoverflow.com/questions/54013747/cypress-how-to-continue-to-call-back-end-api-until-getting-the-expected-result-o/54027111#54027111", "title": "Cypress how to continue to call back end API until getting the expected result or timeout", "body": "<p>Use async/await:</p>\n\n<pre><code>it('Test loop', async function() {\n for(let i=0; i&lt;10; i++) {\n   await Cypress.Promise(resolve =&gt; {\n     cy.request(your_url).should(response =&gt; {\n       expect(response.status).to.eq(200);\n       resolve();\n     });\n   }\n }\n});\n</code></pre>\n"}], "owner": {"reputation": 213, "user_id": 3610539, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/E0QxR.png?s=128&g=1", "display_name": "Yu Jia", "link": "https://stackoverflow.com/users/3610539/yu-jia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 387, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546543053, "creation_date": 1546466471, "last_edit_date": 1546471084, "question_id": 54013747, "link": "https://stackoverflow.com/questions/54013747/cypress-how-to-continue-to-call-back-end-api-until-getting-the-expected-result-o", "title": "Cypress how to continue to call back end API until getting the expected result or timeout", "body": "<p>I need to create a test case which needs to call a \"get\" API method to get some information, but the back end server some time need time to process, so I need to create a loop to continue to call the \"get\" API method until getting the expected result or timeout. </p>\n\n<p>the pseudo code looks like following</p>\n\n<pre><code>string responseMessage;    \nfor(i=0, i&lt;10, i++) {\n   responseMessage = callGetApi();\n   if (responseMessage == \"success\") {\n      exit loop;\n   }else {\n      wait 1 seccond;\n   }\n}\n</code></pre>\n\n<p>but I don't know how to create that kind of code in Cypress, please help!</p>\n"}, {"tags": ["javascript", "google-chrome-extension"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10859936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39bd8c2a296c0dffa6fa3a801c1debb2?s=128&d=identicon&r=PG&f=1", "display_name": "John Dow", "link": "https://stackoverflow.com/users/10859936/john-dow"}, "edited": false, "score": 0, "creation_date": 1546468953, "post_id": 54013857, "comment_id": 94865388, "body": "I did, that&#39;s not the problem. I also must point out that adding a delay of 5 seconds sometimes makes it work. It seems as if the dialog that appears when you bookmark a page is interfering with the code."}, {"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1546489782, "post_id": 54013857, "comment_id": 94869438, "body": "Maybe it interferes indeed, in which case it looks like a bug in Chrome. Simply check and repeat if it&#39;s not moved in 100ms intervals using setTimeout."}, {"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 1, "creation_date": 1546489858, "post_id": 54013857, "comment_id": 94869456, "body": "@IJohnson, in Chrome there&#39;s only <code>chrome</code>."}], "tags": [], "owner": {"reputation": 234, "user_id": 10787507, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/62c10bc6ee89ef6bac24947f38d47f85?s=128&d=identicon&r=PG&f=1", "display_name": "I. Johnson", "link": "https://stackoverflow.com/users/10787507/i-johnson"}, "is_accepted": false, "score": 0, "last_activity_date": 1546489865, "last_edit_date": 1546489865, "creation_date": 1546467166, "answer_id": 54013857, "question_id": 54013669, "link": "https://stackoverflow.com/questions/54013669/chrome-extensions-api-for-bookmarks/54013857#54013857", "title": "Chrome extensions API for bookmarks", "body": "<p>Did you declare the \"bookmarks\" permission in the extension manifest? You must declare the \"bookmarks\" permission in the extension manifest to use the bookmarks API. </p>\n\n<pre><code>      {\n        \"name\": \"My extension\",\n        ...\n        \"permissions\": [\n          \"bookmarks\"\n        ],\n        ...\n      }\n</code></pre>\n\n<p><a href=\"https://developer.chrome.com/extensions/bookmarks\" rel=\"nofollow noreferrer\">https://developer.chrome.com/extensions/bookmarks</a></p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 10859936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39bd8c2a296c0dffa6fa3a801c1debb2?s=128&d=identicon&r=PG&f=1", "display_name": "John Dow", "link": "https://stackoverflow.com/users/10859936/john-dow"}, "edited": false, "score": 0, "creation_date": 1546623441, "post_id": 54031383, "comment_id": 94922703, "body": "Thank you for that. It seems the prompt moves the bookmark to the specified location <b>after</b> my code is executed, making it useless."}, {"owner": {"reputation": 110, "user_id": 4959520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acc0f9a7503e21e563f56fdff57138b?s=128&d=identicon&r=PG", "display_name": "Simeon Vincent", "link": "https://stackoverflow.com/users/4959520/simeon-vincent"}, "reply_to_user": {"reputation": 1, "user_id": 10859936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39bd8c2a296c0dffa6fa3a801c1debb2?s=128&d=identicon&r=PG&f=1", "display_name": "John Dow", "link": "https://stackoverflow.com/users/10859936/john-dow"}, "edited": false, "score": 0, "creation_date": 1546647223, "post_id": 54031383, "comment_id": 94930951, "body": "I don&#39;t know your exact use case but I don&#39;t think all hope is lost. The modal will remember the last location you saved to and automatically put new bookmarks there. Alternatively, you can hit <code>Esc</code> or click the X in the top right corner to cancel out of the move operation.  If you only want one bookmark you can also look for a creation event closely followed by a move, then redirect the bookmark to your desired location. Finally, you could make a copy of the bookmark and put it in the big bucket of bookmarks."}], "tags": [], "owner": {"reputation": 110, "user_id": 4959520, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1acc0f9a7503e21e563f56fdff57138b?s=128&d=identicon&r=PG", "display_name": "Simeon Vincent", "link": "https://stackoverflow.com/users/4959520/simeon-vincent"}, "is_accepted": false, "score": 0, "last_activity_date": 1547145119, "last_edit_date": 1547145119, "creation_date": 1546559424, "answer_id": 54031383, "question_id": 54013669, "link": "https://stackoverflow.com/questions/54013669/chrome-extensions-api-for-bookmarks/54031383#54031383", "title": "Chrome extensions API for bookmarks", "body": "<p>I think your code is fine, but the user experience is a little weird. When you create a bookmark, you'll see a prompt like the one below.</p>\n\n<p><a href=\"https://i.stack.imgur.com/HdbBF.png\" rel=\"nofollow noreferrer\">Chrome bookmark modal</a></p>\n\n<p>When you click the \"Done\" button, the bookmark will be moved form its current location to the location specified in the dropdown.</p>\n\n<p>I verified this behavior with the following snippet in an extension with the <code>bookmarks</code> permission.</p>\n\n<pre><code>// Copyright 2018 Google LLC.\n// SPDX-License-Identifier: Apache-2.0\n\nchrome.bookmarks.onCreated.addListener(function handleCreated(id, node) {\n  console.log(`CREATED tab ${id} on ${node.parentId}`);\n\n  console.log(`MOVEING (DEFAULT) tab ${node.id} to parent ${node.parentId}`);\n  chrome.bookmarks.move(id, {parentId: '2'}, function afterMove(node) {\n    console.log(`MOVED (DEFAULT) tab ${node.id} to parent ${node.parentId}`);\n  });\n});\n\nchrome.bookmarks.onMoved.addListener(function handleMove(id, moveInfo) {\n  console.log(`MOVE tab ${id} from ${moveInfo.oldParentId} to ${moveInfo.parentId}`);\n});\n</code></pre>\n\n<p>When I created a bookmark, I saw the following log messages</p>\n\n<pre><code>CREATED tab 37 on 1\nMOVEING (DEFAULT) tab 37 to parent 1\nMOVE tab 37 from 1 to 2\nMOVED (DEFAULT) tab 37 to parent 2\n</code></pre>\n\n<p>And when I clicked \"Done\" I saw</p>\n\n<pre><code>MOVE tab 37 from 2 to 1\n</code></pre>\n\n<p>With luck you can reproduce this behavior locally :)</p>\n"}], "owner": {"reputation": 1, "user_id": 10859936, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/39bd8c2a296c0dffa6fa3a801c1debb2?s=128&d=identicon&r=PG&f=1", "display_name": "John Dow", "link": "https://stackoverflow.com/users/10859936/john-dow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 872, "favorite_count": 2, "answer_count": 2, "score": 0, "last_activity_date": 1547145119, "creation_date": 1546466099, "question_id": 54013669, "link": "https://stackoverflow.com/questions/54013669/chrome-extensions-api-for-bookmarks", "title": "Chrome extensions API for bookmarks", "body": "<p>I am trying to write a Chrome extension that puts any new bookmark in a default folder.</p>\n\n<p>The javascript seems correct but the bookmark is not moved to the specified location.\nDo you know what's wrong with this code?</p>\n\n<pre><code>chrome.bookmarks.onCreated.addListener(function(id) {\n  chrome.bookmarks.move(id, {parentId: '2'});\n});\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 1, "creation_date": 1546466215, "post_id": 54013667, "comment_id": 94864440, "body": "Your &quot;decision tree&quot; doesn&#39;t look like it&#39;s complete. Would you like to post your complete code with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}, {"owner": {"reputation": 1, "user_id": 10859941, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-F4DAHTwr5LA/AAAAAAAAAAI/AAAAAAAAKns/tJsZDz2zrmc/photo.jpg?sz=128", "display_name": "Joshua Rolloos", "link": "https://stackoverflow.com/users/10859941/joshua-rolloos"}, "reply_to_user": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1546467862, "post_id": 54013667, "comment_id": 94865022, "body": "Sorry yes there are a few other JS files attached but all I need to know is if it is possible to add an link into the message text."}, {"owner": {"reputation": 1, "user_id": 10859941, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-F4DAHTwr5LA/AAAAAAAAAAI/AAAAAAAAKns/tJsZDz2zrmc/photo.jpg?sz=128", "display_name": "Joshua Rolloos", "link": "https://stackoverflow.com/users/10859941/joshua-rolloos"}, "reply_to_user": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1546528294, "post_id": 54013667, "comment_id": 94886274, "body": "The difference in my problem and the one you have said is a duplicate is I am not linking to HTML, I am showing the user only the JS."}, {"owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1546530554, "post_id": 54013667, "comment_id": 94887422, "body": "Hey Joshua, can you tell me the expected output? Can reopen this..."}, {"owner": {"reputation": 1, "user_id": 10859941, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-F4DAHTwr5LA/AAAAAAAAAAI/AAAAAAAAKns/tJsZDz2zrmc/photo.jpg?sz=128", "display_name": "Joshua Rolloos", "link": "https://stackoverflow.com/users/10859941/joshua-rolloos"}, "reply_to_user": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1546545616, "post_id": 54013667, "comment_id": 94894303, "body": "Ok thanks, so where I am producing the message, ie. &quot;Get a climbers bike like these:&quot;  I would like to then have a link to a website, but I can have an a href tag in the script, is there a way to do this?"}, {"owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1546546636, "post_id": 54013667, "comment_id": 94894718, "body": "Yes, you can have it... <code>:)</code>"}, {"owner": {"reputation": 1, "user_id": 10859941, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-F4DAHTwr5LA/AAAAAAAAAAI/AAAAAAAAKns/tJsZDz2zrmc/photo.jpg?sz=128", "display_name": "Joshua Rolloos", "link": "https://stackoverflow.com/users/10859941/joshua-rolloos"}, "reply_to_user": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1546557542, "post_id": 54013667, "comment_id": 94898580, "body": "OK, how is it possible? thanks"}, {"owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1546557717, "post_id": 54013667, "comment_id": 94898622, "body": "Give something like <code>link: &#39;&lt;a href=&quot;https:&#47;&#47;path.com&#47;to&#47;domain&quot;&gt;Go here&lt;&#47;a&gt;&#39;</code>"}, {"owner": {"reputation": 1, "user_id": 10859941, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-F4DAHTwr5LA/AAAAAAAAAAI/AAAAAAAAKns/tJsZDz2zrmc/photo.jpg?sz=128", "display_name": "Joshua Rolloos", "link": "https://stackoverflow.com/users/10859941/joshua-rolloos"}, "reply_to_user": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1546604918, "post_id": 54013667, "comment_id": 94913013, "body": "awesome got it working thanks so much!"}, {"owner": {"reputation": 154038, "user_id": 462627, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f0285ad1973e938e2d2f40254c247f6f?s=128&d=identicon&r=PG", "display_name": "Praveen Kumar Purushothaman", "link": "https://stackoverflow.com/users/462627/praveen-kumar-purushothaman"}, "edited": false, "score": 0, "creation_date": 1546608200, "post_id": 54013667, "comment_id": 94914558, "body": "Yay! Enjoy the day Joshua..."}], "owner": {"reputation": 1, "user_id": 10859941, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-F4DAHTwr5LA/AAAAAAAAAAI/AAAAAAAAKns/tJsZDz2zrmc/photo.jpg?sz=128", "display_name": "Joshua Rolloos", "link": "https://stackoverflow.com/users/10859941/joshua-rolloos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "closed_date": 1546466274, "answer_count": 0, "score": 0, "last_activity_date": 1546466196, "creation_date": 1546466093, "last_edit_date": 1546466196, "question_id": 54013667, "link": "https://stackoverflow.com/questions/54013667/adding-a-link-in-javascript", "closed_reason": "Duplicate", "title": "Adding a link in javascript", "body": "<p>I have a decision tree template I am working from, and I want the message to be a link to another site.</p>\n\n<p>If I enter a simple <code>&lt;a href&gt;</code> it will stop the entire decision tree working.</p>\n\n<pre><code>var data = {\n    message: \"Where will you ride your bike?\",\n    decisions: [{\n          answer: \"Road\",\n          class: \"road\",\n          message: \"What type of rider are you?\",\n          decisions: [{\n              answer: \"Puncheur\",\n              class: \"puncheur\",\n              message: \"You should get an all round or aero bike like these:\",\n\n            },\n            {\n              answer: \"Sprinter\",\n              class: \"sprinter\",\n              message: \"Get an aero bike like these:\"\n            },\n            {\n              answer: \"Climber\",\n              class: \"climber\",\n              message: \"Get a climbers bike like these:\"\n            }\n          ]\n        },\n</code></pre>\n\n<p>Inside the message I would like a link to another external site.</p>\n"}, {"tags": ["javascript", "date", "date-format"], "comments": [{"owner": {"reputation": 4507, "user_id": 305949, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/38d369d1ad1a4ffba29c6ee1eae6a19f?s=128&d=identicon&r=PG", "display_name": "FK82", "link": "https://stackoverflow.com/users/305949/fk82"}, "edited": false, "score": 0, "creation_date": 1546466325, "post_id": 54013652, "comment_id": 94864484, "body": "The documentation for <a href=\"https://developer.mozilla.org/de/docs/Web/JavaScript/Reference/Global_Objects/Date/parse\" rel=\"nofollow noreferrer\"><code>Date.parse</code></a> (which is implicitely called in <code>new Date(dateString)</code>) tells us that the string should have <a href=\"https://tools.ietf.org/html/rfc2822#section-3.3\" rel=\"nofollow noreferrer\">RCF2822</a> format. You can probably judge from the examples on MDN what the problem is (hint: <code>new Date(&#39;01 Jan 2019 12:00 GMT&#39;)</code> works)."}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "reply_to_user": {"reputation": 4507, "user_id": 305949, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/38d369d1ad1a4ffba29c6ee1eae6a19f?s=128&d=identicon&r=PG", "display_name": "FK82", "link": "https://stackoverflow.com/users/305949/fk82"}, "edited": false, "score": 0, "creation_date": 1546469928, "post_id": 54013652, "comment_id": 94865657, "body": "@FK82\u2014&#39;01 Jan 2019 12:00 GMT&#39; is not a format supported by ECMAScript, so parsing is implementation dependent. There is no reference to RCF2822 in ECMA-262, however there is a detailed explanation of the format to be produced by <a href=\"http://ecma-international.org/ecma-262/9.0/#sec-date.prototype.tostring\" rel=\"nofollow noreferrer\"><i>Date.prototype.toString</i></a>, which should also be parsed correctly (in implementations consistent with ECMAScript 2018)."}, {"owner": {"reputation": 4507, "user_id": 305949, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/38d369d1ad1a4ffba29c6ee1eae6a19f?s=128&d=identicon&r=PG", "display_name": "FK82", "link": "https://stackoverflow.com/users/305949/fk82"}, "reply_to_user": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1546513016, "post_id": 54013652, "comment_id": 94877771, "body": "@RobG Yeah, you&#39;re right. The ECMAScript specification actually <a href=\"https://www.ecma-international.org/ecma-262/6.0/#sec-date-time-string-format\" rel=\"nofollow noreferrer\">refers to ISO 8601 in section 20.3.1.16</a>. However, <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/parse\" rel=\"nofollow noreferrer\">MDN</a> states RCF 2822 or ISO 8601 format. That&#39;s a bit misleading."}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "reply_to_user": {"reputation": 4507, "user_id": 305949, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/38d369d1ad1a4ffba29c6ee1eae6a19f?s=128&d=identicon&r=PG", "display_name": "FK82", "link": "https://stackoverflow.com/users/305949/fk82"}, "edited": false, "score": 0, "creation_date": 1546553981, "post_id": 54013652, "comment_id": 94897503, "body": "@FK82\u2014yes, but MDN is not normative, it&#39;s a community wiki that anyone can contribute to (though many seem to treat it as some form of official documentation). The format for <i>toISOString</i> is <a href=\"http://ecma-international.org/ecma-262/9.0/#sec-date-time-string-format\" rel=\"nofollow noreferrer\">&quot;based on \u2026 ISO 8601&quot;</a>, but is slightly modified for reasons known only to the TC39 members who made the decision."}], "answers": [{"comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 3, "creation_date": 1546466262, "post_id": 54013693, "comment_id": 94864459, "body": "That format is not standard and will not be recognized in all JavaScript platforms."}, {"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1546554123, "post_id": 54013693, "comment_id": 94897550, "body": "Also, removing the AM shifts the time by 12 hours. 12:00AM is typically understood to be midnight, whereas 12:00 typically represents noon."}], "tags": [], "owner": {"reputation": 360, "user_id": 7636421, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/pyROX.jpg?s=128&g=1", "display_name": "Ar2zee", "link": "https://stackoverflow.com/users/7636421/ar2zee"}, "is_accepted": false, "score": -1, "last_activity_date": 1546466466, "last_edit_date": 1546466466, "creation_date": 1546466212, "answer_id": 54013693, "question_id": 54013652, "link": "https://stackoverflow.com/questions/54013652/convert-javascript-string-to-date-object/54013693#54013693", "title": "convert javascript string to date object", "body": "<p>You need to remove <strong>AM</strong> from your line new date.</p>\n\n<p><code>var d = new Date('Jan 01 2019 12:00');</code></p>\n"}], "owner": {"reputation": 1215, "user_id": 3525290, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/303246ebe05535ca2f4e437eb6cfb7f4?s=128&d=identicon&r=PG&f=1", "display_name": "user3525290", "link": "https://stackoverflow.com/users/3525290/user3525290"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 308, "favorite_count": 0, "closed_date": 1546466295, "answer_count": 1, "score": 0, "last_activity_date": 1546470033, "creation_date": 1546465966, "question_id": 54013652, "link": "https://stackoverflow.com/questions/54013652/convert-javascript-string-to-date-object", "closed_reason": "Duplicate", "title": "convert javascript string to date object", "body": "<p>I am getting an error when I try to format the following date.</p>\n\n<pre><code>var d = new Date('Jan 01 2019 12:00AM');\n</code></pre>\n\n<p>I am getting <code>Invalid Date</code></p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 6, "creation_date": 1546465827, "post_id": 54013616, "comment_id": 94864264, "body": "No.  You have to keep track of the return value from <code>setInterval</code> if you want to clear the interval."}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "edited": false, "score": 1, "creation_date": 1546465831, "post_id": 54013616, "comment_id": 94864265, "body": "you need to store the reference to clear the corresponding interval"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 2, "creation_date": 1546465849, "post_id": 54013616, "comment_id": 94864279, "body": "Better not forget."}, {"owner": {"reputation": 30563, "user_id": 711206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pmkDv.jpg?s=128&g=1", "display_name": "Federkun", "link": "https://stackoverflow.com/users/711206/federkun"}, "edited": false, "score": 0, "creation_date": 1546465913, "post_id": 54013616, "comment_id": 94864302, "body": "well... you could monkey patch <code>window.clearInterval</code>, but.. let&#39;s not do that please"}, {"owner": {"reputation": 10027, "user_id": 1647559, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ab1e142a46861a6e6653ef30bcd9ea88?s=128&d=identicon&r=PG", "display_name": "Kuan", "link": "https://stackoverflow.com/users/1647559/kuan"}, "reply_to_user": {"reputation": 30563, "user_id": 711206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pmkDv.jpg?s=128&g=1", "display_name": "Federkun", "link": "https://stackoverflow.com/users/711206/federkun"}, "edited": false, "score": 0, "creation_date": 1546466008, "post_id": 54013616, "comment_id": 94864345, "body": "@Federkun Not gonna do that"}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 1, "creation_date": 1546466011, "post_id": 54013616, "comment_id": 94864347, "body": "If you want to clear all the intervals, maybe you can try brute force: <code>for (var i = 1; i &lt; 999999; i++) window.clearInterval(i);</code>."}, {"owner": {"reputation": 4507, "user_id": 305949, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/38d369d1ad1a4ffba29c6ee1eae6a19f?s=128&d=identicon&r=PG", "display_name": "FK82", "link": "https://stackoverflow.com/users/305949/fk82"}, "edited": false, "score": 1, "creation_date": 1546466036, "post_id": 54013616, "comment_id": 94864359, "body": "<code>for(int i = 0; i &lt;= Number.MAX_SAFE_INTEGER; i++) {clearInterval(i);}</code> will probably do it, but that&#39;s <b>not a good idea at all</b> for a couple of reasons. You should definitely keep track of the timer ids in a structure/variable."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1546466225, "post_id": 54013616, "comment_id": 94864443, "body": "Note that in Node.js, <code>setInterval()</code> actually returns <a href=\"https://nodejs.org/api/timers.html#timers_class_timeout\" rel=\"nofollow noreferrer\">an object</a>, not <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval\" rel=\"nofollow noreferrer\">a number</a>, so brute forcing would not even be theoretically possible in that case."}, {"owner": {"reputation": 10027, "user_id": 1647559, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ab1e142a46861a6e6653ef30bcd9ea88?s=128&d=identicon&r=PG", "display_name": "Kuan", "link": "https://stackoverflow.com/users/1647559/kuan"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1546467042, "post_id": 54013616, "comment_id": 94864739, "body": "@PatrickRoberts Thanks for this"}], "answers": [{"comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 2, "creation_date": 1546466475, "post_id": 54013696, "comment_id": 94864532, "body": "Probably be faster to <code>const maxInteger = setInterval(() =&gt; {}, 0); for (let i = 1; i &lt;= maxInteger; i++) { clearInterval(i); }</code>, though as you say, this assumes incrementing sequence which, while a common implementation, isn&#39;t guaranteed by the specification."}], "tags": [], "owner": {"reputation": 793711, "user_id": 19068, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d2d3229ed1961d2bd81853242493247?s=128&d=identicon&r=PG", "display_name": "Quentin", "link": "https://stackoverflow.com/users/19068/quentin"}, "is_accepted": true, "score": 3, "last_activity_date": 1546466221, "creation_date": 1546466221, "answer_id": 54013696, "question_id": 54013616, "link": "https://stackoverflow.com/questions/54013616/how-to-force-to-clear-interval-in-javascript/54013696#54013696", "title": "how to force to clear interval in Javascript", "body": "<p>The only thing you can be sure about the id is that is will be an integer greater than zero. See <a href=\"https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#timer-initialisation-steps\" rel=\"nofollow noreferrer\">the spec</a>.</p>\n\n<blockquote>\n  <p>let handle be a user-agent-defined integer that is greater than zero that will identify the timeout to be set by this call in the list of active timers.</p>\n</blockquote>\n\n<p>So you can, very inefficiently, try them all:</p>\n\n<pre><code>for (let i = 1; i &lt; Number.MAX_SAFE_INTEGER; i++) {\n    clearInterval(i);\n}\n</code></pre>\n\n<p>Note that this will take a while (that's a lot of numbers to loop over, although you might assume that the browser will issue them in sequential order and you'll never generate more than a certain number).</p>\n\n<p>Note also that (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/clearInterval\" rel=\"nofollow noreferrer\">See MDN</a>): </p>\n\n<blockquote>\n  <p>the pool of IDs used by setInterval() and setTimeout() are shared, which means you can technically use clearInterval() and clearTimeout() interchangeably</p>\n</blockquote>\n\n<p>So this will blat all <code>setTimeout</code> calls as well as all <code>setInterval</code> calls.</p>\n"}, {"comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1546466762, "post_id": 54013739, "comment_id": 94864626, "body": "Instead of &quot;monkey-patching&quot;, just define new functions with different names that do this. Would be much easier to stand behind an answer that doesn&#39;t encourage modifying the behavior of global functions."}], "tags": [], "owner": {"reputation": 30563, "user_id": 711206, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/pmkDv.jpg?s=128&g=1", "display_name": "Federkun", "link": "https://stackoverflow.com/users/711206/federkun"}, "is_accepted": false, "score": 1, "last_activity_date": 1546466446, "creation_date": 1546466446, "answer_id": 54013739, "question_id": 54013616, "link": "https://stackoverflow.com/questions/54013616/how-to-force-to-clear-interval-in-javascript/54013739#54013739", "title": "how to force to clear interval in Javascript", "body": "<p>Another option, one that I don't like, is to monkey patch <code>setInterval</code>. Basically, decorate it in a way to store a reference of <code>setInterval</code> somewhere else.</p>\n\n<pre><code>allIntervals = []\noriginalSetInterval = window.setInterval\nwindow.setInterval = (...args) =&gt; {\n    const interval = originalSetInterval(...args)\n    allIntervals.push(interval)\n    return interval\n}\n\n// ...\nsetInterval(function(){console.log(\"Tick\")}, 1000)\nsetInterval(function(){console.log(\"Tick 2\")}, 1000)\n</code></pre>\n\n<p>Then it's just a matter of calling all of them to clear them</p>\n\n<pre><code>allIntervals.map(window.clearInterval)\n</code></pre>\n\n<p>You may want to override <code>window.clearInterval</code> as well, and pop the right value from <code>allIntervals</code>.</p>\n"}], "owner": {"reputation": 10027, "user_id": 1647559, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/ab1e142a46861a6e6653ef30bcd9ea88?s=128&d=identicon&r=PG", "display_name": "Kuan", "link": "https://stackoverflow.com/users/1647559/kuan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 54013696, "answer_count": 2, "score": 1, "last_activity_date": 1546466446, "creation_date": 1546465739, "question_id": 54013616, "link": "https://stackoverflow.com/questions/54013616/how-to-force-to-clear-interval-in-javascript", "title": "how to force to clear interval in Javascript", "body": "<p>All:</p>\n\n<p>I wonder if there is a way that I can force to clear all the interval counters, for example:</p>\n\n<pre><code>/* var counter = */ setInterval(function(){console.log(\"Tick\")}, 1000)\n</code></pre>\n\n<p>But I forget to get the reference ( that <code>counter</code> variable, which is a number if printed out in console), I wonder if there is a way I can find what number that Interval is, so I can call <code>clearInterval</code></p>\n"}, {"tags": ["javascript", "node.js", "sql-server", "express"], "comments": [{"owner": {"reputation": 22725, "user_id": 1068746, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/961c20913b50bacb7ef54e83ad0da0b3?s=128&d=identicon&r=PG", "display_name": "guy mograbi", "link": "https://stackoverflow.com/users/1068746/guy-mograbi"}, "edited": false, "score": 0, "creation_date": 1546467397, "post_id": 54013607, "comment_id": 94864859, "body": "What do you mean &quot;how can i save result on the API&quot; ?"}, {"owner": {"reputation": 22725, "user_id": 1068746, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/961c20913b50bacb7ef54e83ad0da0b3?s=128&d=identicon&r=PG", "display_name": "guy mograbi", "link": "https://stackoverflow.com/users/1068746/guy-mograbi"}, "edited": false, "score": 0, "creation_date": 1546467462, "post_id": 54013607, "comment_id": 94864891, "body": "Plus - &quot;how can i save result on the API&quot; and &quot;How to post an array to Express API&quot; sound like completely different questions. Can you please clarify the question and title?"}, {"owner": {"reputation": 363, "user_id": 8333447, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1362037527179064/picture?type=large", "display_name": "Chuck Villavicencio", "link": "https://stackoverflow.com/users/8333447/chuck-villavicencio"}, "reply_to_user": {"reputation": 22725, "user_id": 1068746, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/961c20913b50bacb7ef54e83ad0da0b3?s=128&d=identicon&r=PG", "display_name": "guy mograbi", "link": "https://stackoverflow.com/users/1068746/guy-mograbi"}, "edited": false, "score": 0, "creation_date": 1546467745, "post_id": 54013607, "comment_id": 94864989, "body": "Well <code>result</code> is the array... you&#39;re right, it&#39;s confusing. I edited the question"}, {"owner": {"reputation": 22725, "user_id": 1068746, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/961c20913b50bacb7ef54e83ad0da0b3?s=128&d=identicon&r=PG", "display_name": "guy mograbi", "link": "https://stackoverflow.com/users/1068746/guy-mograbi"}, "edited": false, "score": 0, "creation_date": 1546468028, "post_id": 54013607, "comment_id": 94865078, "body": "If you can have code samples of what you want to see or a user-story that would be great. the phrasing &quot;how can I save X on the api&quot; is still confusing. You don&#39;t save anything on an API."}], "answers": [{"tags": [], "owner": {"reputation": 22725, "user_id": 1068746, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/961c20913b50bacb7ef54e83ad0da0b3?s=128&d=identicon&r=PG", "display_name": "guy mograbi", "link": "https://stackoverflow.com/users/1068746/guy-mograbi"}, "is_accepted": false, "score": 0, "last_activity_date": 1546467749, "creation_date": 1546467749, "answer_id": 54013936, "question_id": 54013607, "link": "https://stackoverflow.com/questions/54013607/how-to-post-an-array-to-express-api/54013936#54013936", "title": "How to post an array to Express API", "body": "<h1>How to post an array to Express API</h1>\n\n<p>In angular you simply do <code>$http.post(url, data)</code>. </p>\n\n<p>If you assign data to an object that has an array, it will reach express.<br>\nThen express can parse the body since you have <code>app.use(express.bodyParser());</code> so the object should be available to you on the body. </p>\n\n<h2>URL Query Params</h2>\n\n<p>If you are trying to use query parameters, to pass an array, lets say on attribute <code>items</code> so you simply declare it multiple times</p>\n\n<p><code>items=1&amp;items=2&amp;items=3</code> should be parsed to <code>req.query.items === [1,2,3]</code></p>\n"}], "owner": {"reputation": 363, "user_id": 8333447, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1362037527179064/picture?type=large", "display_name": "Chuck Villavicencio", "link": "https://stackoverflow.com/users/8333447/chuck-villavicencio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546468095, "creation_date": 1546465712, "last_edit_date": 1546468095, "question_id": 54013607, "link": "https://stackoverflow.com/questions/54013607/how-to-post-an-array-to-express-api", "title": "How to post an array to Express API", "body": "<p>I'm creating APIs with Express.js and SQL Server. I been posting an object which is  easy and very simple, but now i have a new question: how to post an array?</p>\n\n<p>Let's say i have a table which stores only two params:</p>\n\n<pre><code>Table_A\nId | CouponId\n</code></pre>\n\n<p>In fact, the only record that stores is <code>CouponId</code>, 'cause the <code>Id</code> is created by SQL Server on every record. So, the case is that i get a list of coupons from an api, and the idea is select from one to 'n' with a checkbox and save the selection.</p>\n\n<p>This my code so far:</p>\n\n<pre><code>    function getList(){\n      $http.get('/api/coupons')\n      .then(function(data){\n            $scope.infoCoupons = data.data.Response;\n    }\n</code></pre>\n\n<p>On the HTML view:</p>\n\n<pre><code>&lt;div class=\"col-lg-12\" align=\"center\"&gt;\n                &lt;input type=\"checkbox\" ng-click=\"selectAll()\"/&gt; &lt;a style=\"font-size:17px;color:black;text-decoration:none;\"&gt;Select all coupons&lt;/a&gt;\n                &lt;ul class=\"coupon-list\"&gt;\n                    &lt;li ng-repeat=\"coupon in infoCoupons\"&gt;\n                        &lt;input type=\"checkbox\" ng-model=\"coupon.Select\" ng-click=\"checked\"/&gt; &lt;a style=\"font-size:17px;color:black;text-decoration:none;\"&gt;{{coupon.CodeCoupon}}&lt;/a&gt;\n                    &lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/div&gt;\n</code></pre>\n\n<p>Then, to get the selected coupons:</p>\n\n<pre><code>$scope.selectAll = function(){\n    $scope.all = !$scope.all;\n    $scope.infoCoupons.forEach(function(o){\n        o.Select = $scope.all;\n    });\n}\n\nfunction chosenCoupons(){\n    var result = new Array();\n    var checked = 0;\n\n    $scope.infoCoupons.forEach(function(e){\n        if(e.Select === true){\n            result.push(e.Id);\n            checked +=1;\n        }\n    });\n    if($scope.all || checked &gt; 0){\n        alert(\"Selected coupons!\");\n    }\n    else if(checked === 0){\n        alert(\"Select at least one coupon\");\n    }\n}\n</code></pre>\n\n<p>Then, my code for the API:</p>\n\n<pre><code>const express = require('express');\nconst bodyParser = require('body-parser');\nconst sql = require('mssql');\nconst app = express();\n\napp.use(bodyParser.json());\n\napp.use(function (req, res, next) {\n    res.header(\"Access-Control-Allow-Origin\", \"*\");\n    res.header(\"Access-Control-Allow-Methods\", \"GET,HEAD,OPTIONS,POST,PUT\");\n    res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, contentType,Content-Type, Accept, Authorization\");\n    next();\n});\n\nconst dbConfig = {\n    user: \"daUser\",\n    password: \"daPass\",\n    server: \"daServa\",\n    database: \"daDB\"\n};\n\nconst executeQuery = function (res, query, parameters) {\n    sql.connect(dbConfig, function (err) {\n        if (err) {\n            console.log(`There's an error: ${err}`);\n            res.send(err);\n            sql.close();\n        }\n        else {\n            var request = new sql.Request();\n\n            if (parameters &amp;&amp; parameters.length &gt; 0) {\n                parameters.forEach(function (p) {\n                    request.input(p.name, p.sqltype, p.value);\n                });\n            }\n\n\n            request.query(query, function (err, result) {\n                if (err) {\n                    console.log(`Theres an error: ${err}`);\n                    res.send(err);\n                    sql.close();\n                }\n                else {\n                    res.send(result);\n                    sql.close();\n                }\n            });\n        }\n    });\n}\n\napp.post(\"/api/testApi\", function(req, res){\n    parameters = [\n        { name: 'CouponId', sqltype: sql.VarChar, value: req.body.CouponId }\n    ];\n\n    var query = \"INSERT INTO [Table_A] VALUES(@CouponId)\";\n    executeQuery(res, query, parameters);\n});\n\nconst PORT = process.env.PORT || 8080\n\napp.listen(PORT, () =&gt; {\n    console.log(`App running on port ${PORT}`)\n});\n</code></pre>\n\n<p>This is the code that usually works for an object. My question is: how can i send <code>result</code> (where result is the obtained array) on the API. I need to change something on my code on <code>parameters</code>?</p>\n\n<p>Hope you can help me. I'm using Javascript, Node, Express and SQL Server.</p>\n"}, {"tags": ["javascript", "three.js", "glsl", "webgl", "shader"], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10859916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8bfe9b31932fee50edf2ef2d198ec11?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/10859916/kyle"}, "edited": false, "score": 0, "creation_date": 1546467489, "post_id": 54013866, "comment_id": 94864900, "body": "Thank you, will test soon"}, {"owner": {"reputation": 21, "user_id": 10859916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8bfe9b31932fee50edf2ef2d198ec11?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/10859916/kyle"}, "edited": false, "score": 0, "creation_date": 1546470707, "post_id": 54013866, "comment_id": 94865864, "body": "Hi again, how would I implement the normal textures with the normal vector?"}, {"owner": {"reputation": 21, "user_id": 10859916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8bfe9b31932fee50edf2ef2d198ec11?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/10859916/kyle"}, "edited": false, "score": 0, "creation_date": 1546471234, "post_id": 54013866, "comment_id": 94866027, "body": "Would I add it to the vNormal value as such?    float diffuseFloat = max(dot(normalize(sunPosition - vWorldPosition), vNormal + (normalVector * normalMap)), 0.0);"}], "tags": [], "owner": {"reputation": 138010, "user_id": 5577765, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LoGpC.jpg?s=128&g=1", "display_name": "Rabbid76", "link": "https://stackoverflow.com/users/5577765/rabbid76"}, "is_accepted": false, "score": 1, "last_activity_date": 1546467201, "creation_date": 1546467201, "answer_id": 54013866, "question_id": 54013587, "link": "https://stackoverflow.com/questions/54013587/normal-mapping-on-texture-splatted-terrain/54013866#54013866", "title": "Normal Mapping on Texture Splatted Terrain", "body": "<p>You can calculate the normal of a surface (terrain) by the simple numerical approximation - See <a href=\"https://en.wikipedia.org/wiki/Finite_difference_method\" rel=\"nofollow noreferrer\">Finite difference method</a>.</p>\n\n<p>You have to know the size of the height map texture. I recommend to set the size of the texture to a uniform variable:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>uniform sampler2D heightTexture;\nuniform vec2 heightTextureSize;  // (width, height) of heightTexture;\n</code></pre>\n\n<p>Calculate the offset between adjacent texels of the texture:</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>vec2 offset = 1.0 / heightTextureSize;\n</code></pre>\n\n<p>Read the height of the adjacent texels of the texture</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>vA = texture2D(heightTexture, uv).r;\n\nvAL = texture2D(heightTexture, uv + vec2(-offset.x,  0.0)).r;\nvAR = texture2D(heightTexture, uv + vec2( offset.x,  0.0)).r;\nvAB = texture2D(heightTexture, uv + vec2( 0.0, -offset.y)).r;\nvAT = texture2D(heightTexture, uv + vec2( 0.0,  offset.y)).r;\n</code></pre>\n\n<p>Finally you can calculate the approximated normal vector in texture space</p>\n\n<pre class=\"lang-c prettyprint-override\"><code>vec3 normalMap = normalize( vec3(vAL - vAR, vAT - vAB, 2.0) );\n</code></pre>\n"}], "owner": {"reputation": 21, "user_id": 10859916, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c8bfe9b31932fee50edf2ef2d198ec11?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/10859916/kyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 181, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546636739, "creation_date": 1546465628, "last_edit_date": 1546636739, "question_id": 54013587, "link": "https://stackoverflow.com/questions/54013587/normal-mapping-on-texture-splatted-terrain", "title": "Normal Mapping on Texture Splatted Terrain", "body": "<p>I have developed a terrain generation system with texture splatting in Three.js and I am having trouble applying normal mapping to it. How should I go about it? This code is fully functional as of now.</p>\n\n<p>I have looked at some tutorials of WebGL shading and normal mapping and I could not find one to accurately fit my code.</p>\n\n<pre><code>FRAGMENT_SHADER: `\n    uniform sampler2D albedoA;\n    uniform sampler2D albedoB;\n    uniform sampler2D albedoC;\n    uniform sampler2D albedoD;\n    uniform sampler2D albedoE;\n\n    uniform sampler2D normalA;\n    uniform sampler2D normalB;\n    uniform sampler2D normalC;\n    uniform sampler2D normalD;\n    uniform sampler2D normalE;\n\n    uniform float repeatScale;\n\n    uniform vec3 sunPosition;\n\n    varying vec2 vUV;\n    varying float vAmount;\n\n    varying vec3 vNormal;\n    varying vec3 vWorldPosition;\n\n    void main()\n    {\n        vec3 diffA = (smoothstep(0.01, 0.25, vAmount) - smoothstep(0.25, 0.35, vAmount)) * texture2D(albedoA, vUV * repeatScale).rgb;\n        vec3 diffB = (smoothstep(0.24, 0.27, vAmount) - smoothstep(0.27, 0.37, vAmount)) * texture2D(albedoB, vUV * repeatScale).rgb;\n        vec3 diffC = (smoothstep(0.28, 0.32, vAmount) - smoothstep(0.32, 0.42, vAmount)) * texture2D(albedoC, vUV * repeatScale).rgb;\n        vec3 diffD = (smoothstep(0.30, 0.60, vAmount) - smoothstep(0.40, 0.70, vAmount)) * texture2D(albedoD, vUV * repeatScale).rgb;\n        vec3 diffE = (smoothstep(0.50, 0.85, vAmount))                                   * texture2D(albedoE, vUV * repeatScale).rgb;\n        vec3 albedoVector = diffA + diffB + diffC + diffD + diffE;\n\n        vec3 normA = (smoothstep(0.01, 0.25, vAmount) - smoothstep(0.25, 0.35, vAmount)) * texture2D(normalA, vUV * repeatScale).rgb;\n        vec3 normB = (smoothstep(0.24, 0.27, vAmount) - smoothstep(0.27, 0.37, vAmount)) * texture2D(normalB, vUV * repeatScale).rgb;\n        vec3 normC = (smoothstep(0.28, 0.32, vAmount) - smoothstep(0.32, 0.42, vAmount)) * texture2D(normalC, vUV * repeatScale).rgb;\n        vec3 normD = (smoothstep(0.30, 0.60, vAmount) - smoothstep(0.40, 0.70, vAmount)) * texture2D(normalD, vUV * repeatScale).rgb;\n        vec3 normE = (smoothstep(0.50, 0.85, vAmount))                                   * texture2D(normalE, vUV * repeatScale).rgb;\n        vec3 normalVector = normA + normB + normC + normD + normE;\n\n        float diffuseFloat = max(dot(normalize(sunPosition - vWorldPosition), vNormal), 0.0);\n        if (diffuseFloat &lt; 0.25) { diffuseFloat = 0.25; }\n        if (diffuseFloat &gt; 1.0) { diffuseFloat = 1.0; }\n\n        gl_FragColor = vec4(diffuseFloat * albedoVector, 1.0);\n    }\n`,\nVERTEX_SHADER: `\n    uniform sampler2D heightTexture;\n\n    varying vec2 vUV;\n    varying float vAmount;\n\n    varying vec3 vNormal;\n    varying vec3 vWorldPosition;\n\n    void main()\n    {\n        vUV = uv;\n        vAmount = texture2D(heightTexture, uv).r;\n\n        vec4 worldPosition = modelViewMatrix * vec4(position, 1.0);\n\n        vWorldPosition = worldPosition.xyz;\n        vNormal = vec3(normal);\n\n        gl_Position = projectionMatrix * worldPosition;\n    }\n`\n</code></pre>\n\n<p>I am using the THREE.ShaderMaterial and as of now the code splats the textures and accounts for lighting and shadows, but not the normal maps.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "edited": false, "score": 2, "creation_date": 1546467211, "post_id": 54013582, "comment_id": 94864797, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2158283/will-a-302-redirect-maintain-the-referer-string\">Will a 302 redirect maintain the referer string?</a>   (This question doesn&#39;t specify how the redirect is done in this case, but the dupe target I linked includes discussion of several other redirect methods besides a 302)"}, {"owner": {"reputation": 157, "user_id": 10210374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b2177c793e44c3ca7dca46c97b4c74a?s=128&d=identicon&r=PG&f=1", "display_name": "mdb", "link": "https://stackoverflow.com/users/10210374/mdb"}, "reply_to_user": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "edited": false, "score": 0, "creation_date": 1546467691, "post_id": 54013582, "comment_id": 94864966, "body": "Thanks Daniel, I&#39;ll check out that question"}], "owner": {"reputation": 157, "user_id": 10210374, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b2177c793e44c3ca7dca46c97b4c74a?s=128&d=identicon&r=PG&f=1", "display_name": "mdb", "link": "https://stackoverflow.com/users/10210374/mdb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546467559, "creation_date": 1546465599, "last_edit_date": 1546467559, "question_id": 54013582, "link": "https://stackoverflow.com/questions/54013582/how-to-reference-a-shortened-referrer-url-that-redirects-to-a-general-url-in-jav", "title": "How to reference a shortened referrer URL that redirects to a general URL in Javascript?", "body": "<p>I have users clicking unique, shortened URLs that redirect to a general URL. For example, \"referralURL.com/asdf\" would go to \"generalURL.com\". I want to reference the unique URL.</p>\n\n<p>window.location.href would give me \"generalURL.com\", but would document.referrer give me \"referralURL.com/asdf\" if I were to assign it to a variable?</p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "fetch"], "comments": [{"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "edited": false, "score": 0, "creation_date": 1546465283, "post_id": 54013474, "comment_id": 94864050, "body": "Should <code>images.push(&quot;http:${Config.apihost}:${Config.port}&#47;images&#47;${&zwnj;&#8203;file.id}&quot;);</code> be <code>images.push(&quot;http:&#47;&#47;${Config.apihost}:${Config.port}&#47;images&#47;&zwnj;&#8203;${file.id}&quot;);</code> ?"}, {"owner": {"reputation": 575, "user_id": 7024156, "user_type": "registered", "profile_image": "https://graph.facebook.com/1798302423760750/picture?type=large", "display_name": "Ahsan Sohail", "link": "https://stackoverflow.com/users/7024156/ahsan-sohail"}, "reply_to_user": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "edited": false, "score": 0, "creation_date": 1546465599, "post_id": 54013474, "comment_id": 94864171, "body": "Thats when i actually post successfully to my server .. i am not even getting to my server the request is being stuck somewhere in the middle."}, {"owner": {"reputation": 575, "user_id": 7024156, "user_type": "registered", "profile_image": "https://graph.facebook.com/1798302423760750/picture?type=large", "display_name": "Ahsan Sohail", "link": "https://stackoverflow.com/users/7024156/ahsan-sohail"}, "reply_to_user": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "edited": false, "score": 0, "creation_date": 1546465717, "post_id": 54013474, "comment_id": 94864213, "body": "Nice pick btw but the below code is working fine .. and now i am even more confused that why it is working."}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "edited": false, "score": 0, "creation_date": 1546465735, "post_id": 54013474, "comment_id": 94864225, "body": "Yep - just a comment as I was looking at your code as it might be a problem later on"}, {"owner": {"reputation": 979, "user_id": 4712613, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uefFK.png?s=128&g=1", "display_name": "Tarreq", "link": "https://stackoverflow.com/users/4712613/tarreq"}, "edited": false, "score": 0, "creation_date": 1546467561, "post_id": 54013474, "comment_id": 94864921, "body": "Are you using Android emulator or real device for testing ?"}, {"owner": {"reputation": 575, "user_id": 7024156, "user_type": "registered", "profile_image": "https://graph.facebook.com/1798302423760750/picture?type=large", "display_name": "Ahsan Sohail", "link": "https://stackoverflow.com/users/7024156/ahsan-sohail"}, "edited": false, "score": 0, "creation_date": 1546490387, "post_id": 54013474, "comment_id": 94869569, "body": "I am testing on android emulator"}], "answers": [{"comments": [{"owner": {"reputation": 575, "user_id": 7024156, "user_type": "registered", "profile_image": "https://graph.facebook.com/1798302423760750/picture?type=large", "display_name": "Ahsan Sohail", "link": "https://stackoverflow.com/users/7024156/ahsan-sohail"}, "edited": false, "score": 0, "creation_date": 1546523030, "post_id": 54017578, "comment_id": 94883108, "body": "how did i miss that !!"}], "tags": [], "owner": {"reputation": 157, "user_id": 7177526, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d3b2e8bdf3672e61d0f7b34273548009?s=128&d=identicon&r=PG&f=1", "display_name": "ZubairHasan", "link": "https://stackoverflow.com/users/7177526/zubairhasan"}, "is_accepted": true, "score": 1, "last_activity_date": 1546498325, "creation_date": 1546498325, "answer_id": 54017578, "question_id": 54013474, "link": "https://stackoverflow.com/questions/54013474/react-native-fetch-give-error-network-request-failed/54017578#54017578", "title": "React Native Fetch give error &quot;Network request failed&quot;", "body": "<p>In first code snippet you have written <strong>mime</strong> instead of <strong>type</strong>.</p>\n\n<pre><code>formData.append('image',{\n      uri:uri,\n      **mime:'image/jpeg**',\n      name:`image${moment()}`\n    })\n</code></pre>\n\n<p>it should be like below snippet</p>\n\n<pre><code>formData.append('image',{\n          uri:uri,\n          type:'image/jpeg',\n          name:`image${moment()}`\n        })\n</code></pre>\n"}], "owner": {"reputation": 575, "user_id": 7024156, "user_type": "registered", "profile_image": "https://graph.facebook.com/1798302423760750/picture?type=large", "display_name": "Ahsan Sohail", "link": "https://stackoverflow.com/users/7024156/ahsan-sohail"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3136, "favorite_count": 0, "accepted_answer_id": 54017578, "answer_count": 1, "score": 0, "last_activity_date": 1576061308, "creation_date": 1546465007, "last_edit_date": 1546465212, "question_id": 54013474, "link": "https://stackoverflow.com/questions/54013474/react-native-fetch-give-error-network-request-failed", "title": "React Native Fetch give error &quot;Network request failed&quot;", "body": "<p>I have the following code for creating an event with a image and some body params. It was working fine when i was doing it without image, i am using <code>react-native-image-crop-picker</code> for selecting images. I am getting \"Network request failed\" error when posting data from react-native. The request never reach my backend as i am getting no logs there. It is working fine with postmen.</p>\n\n<p>MY CODE:</p>\n\n<pre><code>const { name, date, description, location, uri, mime, time } = this.state;\n\n    const formData = new FormData();\n    formData.append('name', name)\n    formData.append('date', date)\n    formData.append('description', description)\n    formData.append('location', location)\n    formData.append('time', time)\n\n    formData.append('image',{\n      uri:uri,\n      mime:'image/jpeg',\n      name:`image${moment()}`\n    })\n\n\n    alert(JSON.stringify(formData));\n    const config = {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'multipart/form-data',\n          },\n          body: formData,\n      };\n\n    fetch(`http://${Config.apihost}:${Config.port}/events`,config).then((res) =&gt; res.json())\n      .then((res) =&gt; {\n        this.setState({ modalVisible: false, name:'', date: moment().format('YYYY-MM-DD'), description:'', Location: 'AlHedaya Masjid' })\n        this.props.addEvent(res.message);\n\n      // this.props.navigation.goBack();\n      }).catch((err) =&gt; alert(err));\n</code></pre>\n\n<p>I have another screen which contains different number of pictures like gallery i am uploading multiple picture to the gallery, the request is working fine with code below.</p>\n\n<pre><code> const data = new FormData();\n        data.append('name', 'avatar');\n        images.map((res, i) =&gt; {\n          data.append('fileData[]', {\n            uri: res.path,\n            type: res.mime,\n            name: `image${i}${moment()}`\n          });\n        })\n        const config = {\n          method: 'POST',\n          headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'multipart/form-data',\n          },\n          body: data,\n        };\n        fetch(`http://${Config.apihost}:${Config.port}/events/${this.state.item.id}/photos`, config)\n          .then((checkStatusAndGetJSONResponse) =&gt; checkStatusAndGetJSONResponse.json())\n          .then((response) =&gt; {\n\n            if (response.status &amp;&amp; response.message.length &gt; 0) {\n              var images = this.state.images;\n              response.message.map(file =&gt; {\n                images.push(`http:${Config.apihost}:${Config.port}/images/${file.id}`);\n              });\n              this.setState({ images });\n            }\n          }).catch((err) =&gt; { alert(err) });\n</code></pre>\n\n<p>I can't really see the difference between the two codes but the upper code giving me error.</p>\n\n<ul>\n<li>I am testing on android</li>\n<li>I am using the IP address instead of localhost (my others requests are working so thats out of equation)</li>\n<li>None of the solution in this link worked\n<a href=\"https://stackoverflow.com/questions/38418998/react-native-fetch-network-request-failed\">React Native fetch() Network Request Failed</a></li>\n</ul>\n\n<p>Am I missing something? </p>\n"}, {"tags": ["javascript", "reactjs", "function", "promise"], "comments": [{"owner": {"reputation": 286, "user_id": 10430103, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-GHXJkxTSMBg/AAAAAAAAAAI/AAAAAAAAACU/bQHKJTI-2Lg/photo.jpg?sz=128", "display_name": "Alejandro Gonzalez", "link": "https://stackoverflow.com/users/10430103/alejandro-gonzalez"}, "edited": false, "score": 0, "creation_date": 1546464861, "post_id": 54013402, "comment_id": 94863913, "body": "Why do not you save your base data in a state and render the state data directly?"}, {"owner": {"reputation": 3132, "user_id": 3960815, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QKWIX.jpg?s=128&g=1", "display_name": "basic", "link": "https://stackoverflow.com/users/3960815/basic"}, "edited": false, "score": 0, "creation_date": 1546465203, "post_id": 54013402, "comment_id": 94864023, "body": "Well what specifically do you mean by render an array? Technically your output is an array, a JSON array but an array nonetheless. Can you clarify?"}, {"owner": {"reputation": 37, "user_id": 10859768, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1BIF0_Xw7TY/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbFQbEEzD0XsrVueNVasw1KdPOksQ/mo/photo.jpg?sz=128", "display_name": "Serhii", "link": "https://stackoverflow.com/users/10859768/serhii"}, "reply_to_user": {"reputation": 3132, "user_id": 3960815, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/QKWIX.jpg?s=128&g=1", "display_name": "basic", "link": "https://stackoverflow.com/users/3960815/basic"}, "edited": false, "score": 0, "creation_date": 1546465498, "post_id": 54013402, "comment_id": 94864138, "body": "@basic I need to create in render  table with colums &quot;author&quot; and &quot;bookName&quot; using keys from JSON array"}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546466125, "post_id": 54013402, "comment_id": 94864395, "body": "You should now get a table you should just press the button to load the data.  You can also call it in componentDidMount as stated before to make sure that it fetches initially"}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546466604, "post_id": 54013402, "comment_id": 94864573, "body": "I also added it so that you can use the user as the key to prevent that React error."}, {"owner": {"reputation": 107933, "user_id": 105224, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1dc604233d8a0c48f0884769acb1fb93?s=128&d=identicon&r=PG", "display_name": "Andreas Dolk", "link": "https://stackoverflow.com/users/105224/andreas-dolk"}, "reply_to_user": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546466951, "post_id": 54013402, "comment_id": 94864706, "body": "@Moosecouture - book.user is not unique, don&#39;t use it as a key. Check the sample data."}, {"owner": {"reputation": 37, "user_id": 10859768, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1BIF0_Xw7TY/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbFQbEEzD0XsrVueNVasw1KdPOksQ/mo/photo.jpg?sz=128", "display_name": "Serhii", "link": "https://stackoverflow.com/users/10859768/serhii"}, "reply_to_user": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546467228, "post_id": 54013402, "comment_id": 94864804, "body": "@Moosecouture Thank you for help. But then i use your code i get this error: &quot;Error getting documents:  TypeError: Cannot read property &#39;setState&#39; of undefined     at BooksComponent.js:30 &quot; How can i fix it?"}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546468087, "post_id": 54013402, "comment_id": 94865094, "body": "I know why.  Let me fix."}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546468228, "post_id": 54013402, "comment_id": 94865142, "body": "I updated.  It had to do with the scope of &#39;this&#39; because you are not using arrow functions"}, {"owner": {"reputation": 37, "user_id": 10859768, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1BIF0_Xw7TY/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbFQbEEzD0XsrVueNVasw1KdPOksQ/mo/photo.jpg?sz=128", "display_name": "Serhii", "link": "https://stackoverflow.com/users/10859768/serhii"}, "reply_to_user": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546468488, "post_id": 54013402, "comment_id": 94865254, "body": "@Moosecouture Thank you! It finally work))"}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546468541, "post_id": 54013402, "comment_id": 94865271, "body": "Can you mark it as best answer, please?"}, {"owner": {"reputation": 37, "user_id": 10859768, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1BIF0_Xw7TY/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbFQbEEzD0XsrVueNVasw1KdPOksQ/mo/photo.jpg?sz=128", "display_name": "Serhii", "link": "https://stackoverflow.com/users/10859768/serhii"}, "reply_to_user": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546468739, "post_id": 54013402, "comment_id": 94865328, "body": "@Moosecouture I clicked to &quot;check mark&quot; =)"}], "answers": [{"tags": [], "owner": {"reputation": 139, "user_id": 6575674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/sxIh1.jpg?s=128&g=1", "display_name": "Maxim Anatol&#39;evich Borovsky", "link": "https://stackoverflow.com/users/6575674/maxim-anatolevich-borovsky"}, "is_accepted": false, "score": 1, "last_activity_date": 1546465429, "creation_date": 1546465429, "answer_id": 54013546, "question_id": 54013402, "link": "https://stackoverflow.com/questions/54013402/how-to-output-array-with-keys-to-my-html-file-from-promise-function-using-react/54013546#54013546", "title": "How to output array with keys to my html file from promise function using React", "body": "<p>You could start fetching your data in <code>componentWillMount</code> method and save data in component field (e.g. <code>books</code>). Then you could check this field in <code>render</code> and based on its value return some stub or array.</p>\n\n<pre><code>{\n  this.books &amp;&amp; this.books.length\n  ? &lt;your-array books=\"this.books\"&gt;&lt;/your-array&gt;\n  : &lt;span&gt;No books&lt;/span&gt;\n}\n</code></pre>\n\n<p>You should set <code>books</code> field via <code>setState</code> (the simplest way) to notify component for rendering again.</p>\n"}, {"tags": [], "owner": {"reputation": 107933, "user_id": 105224, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1dc604233d8a0c48f0884769acb1fb93?s=128&d=identicon&r=PG", "display_name": "Andreas Dolk", "link": "https://stackoverflow.com/users/105224/andreas-dolk"}, "is_accepted": false, "score": 1, "last_activity_date": 1546465723, "creation_date": 1546465723, "answer_id": 54013608, "question_id": 54013402, "link": "https://stackoverflow.com/questions/54013402/how-to-output-array-with-keys-to-my-html-file-from-promise-function-using-react/54013608#54013608", "title": "How to output array with keys to my html file from promise function using React", "body": "<p>It works best with state. Declare a state for your component and call setState after you've loaded the data. In the render method, simply say {this.state.book} and react will re-render the component when the state has been updated.</p>\n\n<p>We shouldn't play with async/await here and delay the rendering. Rendering has to be quick and fast and we have to expect that the data hasn't arrive yet when we render the page.</p>\n\n<p>So, for a quick win, :</p>\n\n<pre><code>export default class booksComponent extends Component{\n\nstate = {\n  books: null,   // we start with not having a books, later it's an array of books\n}\n\ngetBook() {\n\n   // ...\n   // instead of return(newArray) inside your method, say:\n   this.setState({books: newArray});\n}\n\ncomponentDidMount() {\n   if (this.state.books === null) {\n      this.getBooks();  // here we start the accessing the db\n   }\n}\n\nrender(){\n  return(\n    &lt;div&gt;\n         &lt;button/&gt;\n    &lt;div&gt;\n     ------\n     {this.state.books &amp;&amp; this.state.books.map((book) =&gt; {\n       return &lt;p key={book.bookName}&gt;{book.bookName} by {book.author}&lt;/p&gt;\n     })}\n     &lt;/div&gt;\n &lt;/div&gt;\n  )};\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 107933, "user_id": 105224, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1dc604233d8a0c48f0884769acb1fb93?s=128&d=identicon&r=PG", "display_name": "Andreas Dolk", "link": "https://stackoverflow.com/users/105224/andreas-dolk"}, "edited": false, "score": 0, "creation_date": 1546466521, "post_id": 54013668, "comment_id": 94864546, "body": "bind onClick on the new button the getBook method and not the it&#39;s result ;) (and help the OP with giving the button a visible text :D )"}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "reply_to_user": {"reputation": 107933, "user_id": 105224, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/1dc604233d8a0c48f0884769acb1fb93?s=128&d=identicon&r=PG", "display_name": "Andreas Dolk", "link": "https://stackoverflow.com/users/105224/andreas-dolk"}, "edited": false, "score": 0, "creation_date": 1546466790, "post_id": 54013668, "comment_id": 94864637, "body": "Actually, I just accidentally called it.  I can just not call it and pass it."}], "tags": [], "owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "is_accepted": true, "score": 2, "last_activity_date": 1546468190, "last_edit_date": 1546468190, "creation_date": 1546466097, "answer_id": 54013668, "question_id": 54013402, "link": "https://stackoverflow.com/questions/54013402/how-to-output-array-with-keys-to-my-html-file-from-promise-function-using-react/54013668#54013668", "title": "How to output array with keys to my html file from promise function using React", "body": "<p>Try this</p>\n\n<pre><code>import React, {Component} from 'react';\nimport firebase from '../firebase/firebase.js';\n\nexport default class BooksComponent extends Component{\n  constructor(props) {\n    super(props)\n    this.state = {\n      books: []\n    }\n    this.getBook = this.getBook.bind(this);\n  }\n  componentDidMount() {\n    this.getBook();\n  }\n  getBook(){\n    const newArray = [];\n    const selfThis = this;\n    console.log(\"i am working\")\n    const db = firebase.firestore();\n    db.settings({\n      timestampsInSnapshots: true\n    });\n    db.collection(\"LibraryDB\").where(\"user\", \"==\",  \n      firebase.auth().currentUser.uid)\n      .get()\n      .then(function(querySnapshot) {\n          querySnapshot.forEach(function(doc) {\n              console.log(doc.id, \" =&gt; \", doc.data());\n              newArray.push(doc.data());\n          });\n          selfThis.setState({\n            books: newArray\n          })\n      })\n      .catch(function(error) {\n          console.log(\"Error getting documents: \", error);\n      });\n  };\n  render(){\n\n    return(\n      &lt;div&gt;\n\n        &lt;div&gt;\n            &lt;button onClick={this.getBook}/&gt;\n        &lt;div&gt;\n        ------\n        &lt;table&gt;\n          &lt;tr&gt;\n            &lt;th&gt;Author&lt;/th&gt;\n            &lt;th&gt;Book Name&lt;/th&gt;\n          &lt;/tr&gt;\n            {this.state.books.map(book =&gt; &lt;tr key={book.user}&gt;\n              &lt;td&gt;{book.author}&lt;/td&gt;\n              &lt;td&gt;{book.bookName}&lt;/td&gt;\n            &lt;/tr&gt;)}\n          &lt;/table&gt;\n        &lt;/div&gt;\n\n  )};\n};\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 10859768, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1BIF0_Xw7TY/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbFQbEEzD0XsrVueNVasw1KdPOksQ/mo/photo.jpg?sz=128", "display_name": "Serhii", "link": "https://stackoverflow.com/users/10859768/serhii"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 1, "accepted_answer_id": 54013668, "answer_count": 3, "score": 0, "last_activity_date": 1546468190, "creation_date": 1546464502, "question_id": 54013402, "link": "https://stackoverflow.com/questions/54013402/how-to-output-array-with-keys-to-my-html-file-from-promise-function-using-react", "title": "How to output array with keys to my html file from promise function using React", "body": "<p>I have some firebase database with tags \"bookName\" and \"author\".\nHow can i render array from function \"getBook\"?  </p>\n\n<pre><code>import React, {Component} from 'react';\nimport firebase from '../firebase/firebase.js';\n\nexport default class booksComponent extends Component{\n\ngetBook(){\n  const newArray = [];\n  console.log(\"i am working\")\n  const db = firebase.firestore();\n  db.settings({\n     timestampsInSnapshots: true\n  });\n  db.collection(\"LibraryDB\").where(\"user\", \"==\",  \n     firebase.auth().currentUser.uid)\n    .get()\n    .then(function(querySnapshot) {\n        querySnapshot.forEach(function(doc) {\n            console.log(doc.id, \" =&gt; \", doc.data());\n            newArray.push(doc.data());\n        });\n        return(newArray);\n    })\n    .catch(function(error) {\n        console.log(\"Error getting documents: \", error);\n    });\n};\nrender(){\n  return(\n    &lt;div&gt;\n         &lt;button/&gt;\n    &lt;div&gt;\n     ------\n     {this.getBook()}\n     &lt;/div&gt;\n &lt;/div&gt;\n  )};\n};\n</code></pre>\n\n<p>In console output looks like:</p>\n\n<pre><code>[{author: \"Ernest Hemingway\", bookName: \"Fiesta\", user: \n\"eZGZbRijz6RF8FkMhngiE9FAnf63\"},\n{author: \"J. R. R. Tolkien\", bookName: \"LOTR\", user: \n\"eZGZbRijz6RF8FkMhngiE9FAnf63\"},\n{author: \"Ernest Hemingway\", bookName: \"The Old Man and Sea\", user: \n\"eZGZbRijz6RF8FkMhngiE9FAnf63\"}]\n</code></pre>\n\n<p>But how put these information to render()?</p>\n"}, {"tags": ["javascript", "ajax", "asp.net-ajax", "tabulator"], "answers": [{"tags": [], "owner": {"reputation": 25, "user_id": 3429388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47d05a818238c667ae7cb6b8e09a148a?s=128&d=identicon&r=PG&f=1", "display_name": "Ghilherme", "link": "https://stackoverflow.com/users/3429388/ghilherme"}, "is_accepted": true, "score": 0, "last_activity_date": 1546530857, "creation_date": 1546530857, "answer_id": 54025684, "question_id": 54013350, "link": "https://stackoverflow.com/questions/54013350/how-to-feed-tooltip-text-through-ajax-using-tabulator/54025684#54025684", "title": "How to feed tooltip text through ajax using tabulator?", "body": "<p>After some time trying to find out what happened, I just made my call synchronous and parsed into JSON...</p>\n\n<pre><code>function mouseover(user) {\n\n    return JSON.parse($.ajax({\n        type: \"POST\",\n        url: \"AjaxServices.asmx/UsuarioInfo\",\n        async: false,\n        data: '{ \"usuario\": \"' + user + '\"}', \n        contentType: \"application/json; charset=UTF-8\",\n        dataType: \"json\",\n        success: function (msg) {\n            return msg.d;\n        },\n        error: function (msg) {\n            //alert(\"erro \" + msg.d);\n        }\n    }).responseText).d; \n}\n</code></pre>\n\n<p>Then I was able to get my response string and return to my function in the tooltip.</p>\n\n<pre><code>tooltip: function (cell) { return mouseover(cell.getValue()); }\n</code></pre>\n"}], "owner": {"reputation": 25, "user_id": 3429388, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47d05a818238c667ae7cb6b8e09a148a?s=128&d=identicon&r=PG&f=1", "display_name": "Ghilherme", "link": "https://stackoverflow.com/users/3429388/ghilherme"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "accepted_answer_id": 54025684, "answer_count": 1, "score": 1, "last_activity_date": 1546530857, "creation_date": 1546464140, "question_id": 54013350, "link": "https://stackoverflow.com/questions/54013350/how-to-feed-tooltip-text-through-ajax-using-tabulator", "title": "How to feed tooltip text through ajax using tabulator?", "body": "<p>I want to populate my extra information tooltip by requesting an Ajax call.</p>\n\n<p>Here is my JS table:</p>\n\n<pre><code>    var table = new Tabulator(\"#GridView1\", {\n        layout: \"fitColumns\",\n        columns: [\n            { title: \"Autor PC\", field: \"Autor PC\", width: 200, tooltip: function (cell) { return mouseover(cell.getValue()); } },\n            //Other columns........\n        ]\n    });\n</code></pre>\n\n<p>Here is my function that defines the AJAX call.</p>\n\n<pre><code>function mouseover(user) {\n    $.ajax({\n        type: \"GET\",\n        url: \"AjaxServices.asmx/UsuarioInfo\",\n        data: JSON.stringify('{usuario: \"' + user + '\" }'), \n        contentType: \"application/json; charset=UTF-8\",\n        dataType: \"json\",\n        success: function (msg) {\n            alert(\"correct: \"+ msg.d);\n        },\n        error: function (msg) {\n            alert(\"error: \" + msg.d);\n        }\n    }); \n}\n</code></pre>\n\n<p>And now in this webform project, I have created an .asmx file that it has the webmethod's defintion...</p>\n\n<pre><code>    [WebService(Namespace = \"http://tempuri.org/\")]\n    [WebServiceBinding(ConformsTo = WsiProfiles.BasicProfile1_1)]\n    [System.ComponentModel.ToolboxItem(false)]\n    // To allow this Web Service to be called from script, using ASP.NET AJAX, uncomment the following line. \n    [System.Web.Script.Services.ScriptService]\n    public class AjaxServices : System.Web.Services.WebService\n    {\n        [WebMethod]\n        public static string UsuarioInfo(string usuario)\n        {\n            //My logic that will return the user info...\n        }\n    }\n</code></pre>\n\n<p>I've done a lot of researches, but I coundn't find any solution... What am I doing wrong? Is this possible?</p>\n"}, {"tags": ["javascript", "html", "angular", "typescript"], "comments": [{"owner": {"reputation": 4507, "user_id": 305949, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/38d369d1ad1a4ffba29c6ee1eae6a19f?s=128&d=identicon&r=PG", "display_name": "FK82", "link": "https://stackoverflow.com/users/305949/fk82"}, "edited": false, "score": 1, "creation_date": 1546464170, "post_id": 54013274, "comment_id": 94863641, "body": "That&#39;s a very common problem with the change detection mechanisms in Angular 2+. Have you had a look at <a href=\"https://blog.angularindepth.com/everything-you-need-to-know-about-the-expressionchangedafterithasbeencheckederror-error-e3fd9ce7dbb4\" rel=\"nofollow noreferrer\">this article</a>?"}, {"owner": {"reputation": 1923, "user_id": 1336678, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6267999b774a82952cd62fb1c9b859fc?s=128&d=identicon&r=PG&f=1", "display_name": "Our_Benefactors", "link": "https://stackoverflow.com/users/1336678/our-benefactors"}, "edited": false, "score": 0, "creation_date": 1546464270, "post_id": 54013274, "comment_id": 94863679, "body": "It means you are changing the value of something at the wrong time in angular&#39;s lifecycle. Here is a good starting point: <a href=\"https://angular.io/guide/lifecycle-hooks\" rel=\"nofollow noreferrer\">angular.io/guide/lifecycle-hooks</a> The solution for many (but not all) lifecycle issues is to put a setTimeout around the assignment to a new variable so instead of <code>foo = bar;</code> you write<code>setTimeout( () =&gt; { foo = bar; }, 0);</code>"}, {"owner": {"reputation": 65, "user_id": 10842067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wvfkVWXX6Yg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ_T45QedlVZzefO7YHs-jKi_eo_w/mo/photo.jpg?sz=128", "display_name": "Abadou", "link": "https://stackoverflow.com/users/10842067/abadou"}, "edited": false, "score": 0, "creation_date": 1546465476, "post_id": 54013274, "comment_id": 94864125, "body": "I have tried all solution that i found but still not works :( , I used also setTimout() but it is not working : setTimeout(()=&gt;{    this.popinService.open(messageToDisplay).subscribe((result: ConfirmPopinResultType) =&gt; {     if (result === ConfirmPopinResultType.CONFIRM) {       console.log(&quot;test&quot;);     }   });          });"}, {"owner": {"reputation": 65, "user_id": 10842067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wvfkVWXX6Yg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ_T45QedlVZzefO7YHs-jKi_eo_w/mo/photo.jpg?sz=128", "display_name": "Abadou", "link": "https://stackoverflow.com/users/10842067/abadou"}, "edited": false, "score": 0, "creation_date": 1546465534, "post_id": 54013274, "comment_id": 94864145, "body": "Please help ! , i am blocked all the day :("}, {"owner": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1546466111, "post_id": 54013274, "comment_id": 94864389, "body": "Did you try adding  changeDetection: ChangeDetectionStrategy.OnPush, to your component"}, {"owner": {"reputation": 548, "user_id": 1641334, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/XVB63.jpg?s=128&g=1", "display_name": "Adam Genshaft", "link": "https://stackoverflow.com/users/1641334/adam-genshaft"}, "edited": false, "score": 0, "creation_date": 1546466182, "post_id": 54013274, "comment_id": 94864422, "body": "@Abadou please provide more info about what is going on in the service"}, {"owner": {"reputation": 65, "user_id": 10842067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wvfkVWXX6Yg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ_T45QedlVZzefO7YHs-jKi_eo_w/mo/photo.jpg?sz=128", "display_name": "Abadou", "link": "https://stackoverflow.com/users/10842067/abadou"}, "reply_to_user": {"reputation": 9909, "user_id": 5225844, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/hKnPb.jpg?s=128&g=1", "display_name": "Naga Sai A", "link": "https://stackoverflow.com/users/5225844/naga-sai-a"}, "edited": false, "score": 0, "creation_date": 1546466812, "post_id": 54013274, "comment_id": 94864650, "body": "@Naga Sai A , ChangeDetectionStrategy.OnPush I tried it , it elimante the exception but it caused me a malfunction at a call service level in ngOnInit"}, {"owner": {"reputation": 65, "user_id": 10842067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wvfkVWXX6Yg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ_T45QedlVZzefO7YHs-jKi_eo_w/mo/photo.jpg?sz=128", "display_name": "Abadou", "link": "https://stackoverflow.com/users/10842067/abadou"}, "reply_to_user": {"reputation": 548, "user_id": 1641334, "user_type": "registered", "accept_rate": 20, "profile_image": "https://i.stack.imgur.com/XVB63.jpg?s=128&g=1", "display_name": "Adam Genshaft", "link": "https://stackoverflow.com/users/1641334/adam-genshaft"}, "edited": false, "score": 0, "creation_date": 1546466945, "post_id": 54013274, "comment_id": 94864704, "body": "@AdamGenshaft , The Service is display a popup with some text and two buttons : Cancel and Confirm, this is the &#39;open&#39; function in service that i call : \topen(message: string, messageSubtitle?: string): Observable&lt;any&gt; { \t\treturn from(this.openConfirm(BasicConfirmPopinComponent, { message, messageSubtitle }) \t\t\t.result) \t\t\t.pipe(catchError(error =&gt; of(false))); \t}"}], "answers": [{"comments": [{"owner": {"reputation": 65, "user_id": 10842067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wvfkVWXX6Yg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ_T45QedlVZzefO7YHs-jKi_eo_w/mo/photo.jpg?sz=128", "display_name": "Abadou", "link": "https://stackoverflow.com/users/10842067/abadou"}, "edited": false, "score": 0, "creation_date": 1546494748, "post_id": 54016139, "comment_id": 94870570, "body": "yes the change event handler is on an form input, i have tried (ngModelChange) instead of (change) but I have the same problem :( , this my template : \t\t&lt;form [formGroup]=&quot;poolForm&quot;&gt;  &lt;select id=&quot;pool-select&quot; #item (change)=&quot;item.value = onChangePool(item.value)&quot; formControlName=&quot;item&quot;&gt; \t\t&lt;option *ngFor=&quot;let item of items&quot; [value]=&quot;item.name&quot;&gt;{{ item.name }}&lt;/option&gt; \t&lt;/select&gt; \t\t\t\t \t\t\t\t&lt;/form&gt;                                                                                         the change event call a service to display a pop up message with two button confirm and cancel."}, {"owner": {"reputation": 65, "user_id": 10842067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wvfkVWXX6Yg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ_T45QedlVZzefO7YHs-jKi_eo_w/mo/photo.jpg?sz=128", "display_name": "Abadou", "link": "https://stackoverflow.com/users/10842067/abadou"}, "edited": false, "score": 0, "creation_date": 1546495276, "post_id": 54016139, "comment_id": 94870712, "body": "I add that the problem occurs when I call this service on Change event handler : this.popinService.open(messageToDisplay).subscribe((result: ConfirmPopinResultType) =&gt; {     if (result === ConfirmPopinResultType.CONFIRM) {       console.log(&quot;test&quot;);     }   });"}], "tags": [], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "is_accepted": false, "score": 5, "last_activity_date": 1567753450, "last_edit_date": 1567753450, "creation_date": 1546487630, "answer_id": 54016139, "question_id": 54013274, "link": "https://stackoverflow.com/questions/54013274/expression-has-changed-after-it-was-checked-angular/54016139#54016139", "title": "Expression has changed after it was checked - angular", "body": "<p>You are listening to DOM element events.</p>\n\n<pre><code>(change)=\"onChange(item.value)\"\n</code></pre>\n\n<p>And you are receiving an error relative to Angular forms.</p>\n\n<blockquote>\n  <p>Previous value: 'ng-untouched: true'. Current value: 'ng-untouched: false'</p>\n</blockquote>\n\n<p>The two are in conflict\n<br/> because the <code>ngModel</code> is tracking changes to the form component.\n<br/> Angular Forms use <code>(ngModelChange)</code> to notify of component changes.\n<br/> Angular Reactive Forms use <code>valueChanges</code> observables.</p>\n\n<p>You haven't shared where you've attached the <code>(change)</code> event handler, but it's clearly on a form input that is also being used by <code>ngModel</code>.</p>\n\n<p>You should be using <code>(ngModelChange)</code> instead of <code>(change)</code>.</p>\n"}], "owner": {"reputation": 65, "user_id": 10842067, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-wvfkVWXX6Yg/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcZ_T45QedlVZzefO7YHs-jKi_eo_w/mo/photo.jpg?sz=128", "display_name": "Abadou", "link": "https://stackoverflow.com/users/10842067/abadou"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 10058, "favorite_count": 0, "answer_count": 1, "score": 6, "last_activity_date": 1567753450, "creation_date": 1546463631, "last_edit_date": 1567753271, "question_id": 54013274, "link": "https://stackoverflow.com/questions/54013274/expression-has-changed-after-it-was-checked-angular", "title": "Expression has changed after it was checked - angular", "body": "<p>When I call a service in (change) action method , I got this error : </p>\n\n<blockquote>\n  <p>ERROR Error: ExpressionChangedAfterItHasBeenCheckedError: Expression\n  has changed after it was checked. Previous value: 'ng-untouched:\n  true'. Current value: 'ng-untouched: false'</p>\n</blockquote>\n\n<p>My code : </p>\n\n<pre><code>onChange(event) { \n\n  const messageToDisplay = \"Message test\";\n  this.popinService.open(messageToDisplay).subscribe((result: ConfirmPopinResultType) =&gt; {\n    if (result === ConfirmPopinResultType.CONFIRM) {\n      console.log(\"test\");\n    }\n  });        \n}\n</code></pre>\n\n<p>onChange is an event handler on an input reactive form  (select dropdown list) </p>\n\n<pre><code>&lt;form [formGroup]=\"poolForm\"&gt; \n  &lt;select id=\"pool-select\" #item (change)=\"item.value = onChangePool(item.value)\" formControlName=\"item\"&gt; \n     &lt;option *ngFor=\"let item of items\" [value]=\"item.name\"&gt;{{ item.name }}&lt;/option&gt; \n  &lt;/select&gt; \n&lt;/form&gt; \n</code></pre>\n\n<p>The exception error occurs when I call the poppin service on Change event handler (that display a pop up with two button Confirm and Cancel) </p>\n\n<p>thank for your help! </p>\n"}, {"tags": ["javascript", "for-loop", "if-statement", "event-listener", "enter"], "comments": [{"owner": {"reputation": 13857, "user_id": 4114907, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/08NXV.jpg?s=128&g=1", "display_name": "AndrewL64", "link": "https://stackoverflow.com/users/4114907/andrewl64"}, "edited": false, "score": 0, "creation_date": 1546463517, "post_id": 54013226, "comment_id": 94863376, "body": "Your listener is running multiple times because you kept it inside the <code>for loop</code>. What excactly do you need to do here? And please post the code of <code>createNewItem()</code> in your question too."}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546463930, "post_id": 54013226, "comment_id": 94863536, "body": "Hey, @KrisD you need to attach the addEventListener to something.  It is just sitting out there.  This is likely causing it to be attached to document or window which means you have many listening on the same node."}, {"owner": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546464043, "post_id": 54013226, "comment_id": 94863584, "body": "What I&#39;m trying to do is have a user create only one additional list item after pressing Enter in the textbox. Right now, it creates several of them at one time after hitting enter."}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546464997, "post_id": 54013226, "comment_id": 94863953, "body": "That is because of what is known as event bubbling.  Since you are attaching it to the document since you are not clearly stating what the event listener is going to be attached to you have a potential memory leak.  This just means you need to specify what input you are attaching it to."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546464571, "post_id": 54013351, "comment_id": 94863791, "body": "This fixed the issue of multiple entries being added, however the Enter function only appears to work for the first item added and doesn&#39;t extend to the newly created ones."}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "reply_to_user": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546464864, "post_id": 54013351, "comment_id": 94863915, "body": "There it should be fixed now I fully tested it."}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "reply_to_user": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546465031, "post_id": 54013351, "comment_id": 94863963, "body": "Oh ok... let me try something else."}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "reply_to_user": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546465359, "post_id": 54013351, "comment_id": 94864080, "body": "So, this update should help.  What you need to do is either identify the new items added or remove the event listeners from the old inputs and then add them again so that everytime you are making sure that every input has the listener on it."}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "reply_to_user": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546465668, "post_id": 54013351, "comment_id": 94864191, "body": "This should solve and not keep it at the document level as AndrewL is showing.  If you use AndrewL&#39;s method I would suggest checking what you are focused on when pressing &quot;Enter&quot;.  Using <code>document.activeElement</code> this way it won&#39;t trigger the issue he has mentioned."}, {"owner": {"reputation": 13857, "user_id": 4114907, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/08NXV.jpg?s=128&g=1", "display_name": "AndrewL64", "link": "https://stackoverflow.com/users/4114907/andrewl64"}, "edited": false, "score": 0, "creation_date": 1546465944, "post_id": 54013351, "comment_id": 94864315, "body": "@Moosecouture Can I add the <code>activeElement()</code> approach to my answer. I&#39;ll give credits to you for pointing that out."}, {"owner": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546466140, "post_id": 54013351, "comment_id": 94864403, "body": "I appreciate everyone&#39;s help on this! Your suggestions have put me on a better track with this project."}], "tags": [], "owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "is_accepted": false, "score": 0, "last_activity_date": 1546465260, "last_edit_date": 1546465260, "creation_date": 1546464158, "answer_id": 54013351, "question_id": 54013226, "link": "https://stackoverflow.com/questions/54013226/how-to-invoke-a-function-on-pressing-the-enter-key/54013351#54013351", "title": "How to invoke a function on pressing the &quot;Enter&quot; key", "body": "<p>Try this just beware Enter on ANY input will trigger a new item so use tab for navigating</p>\n\n<pre><code>//Adds new item after pressing Enter key\nfunction keyDownListener (e) {\n  if (e.keyCode === 13) {\n      e.preventDefault();\n      createNewItem();\n      addListeners()\n      console.log(\"New item created!\");\n  }\n}\nfunction addListeners() {\n  let itemList = document.querySelectorAll(\"input[type=text]\");\n  for (var i = 0; i &lt; itemList.length; i++) {\n    try {\n      itemList[i].removeEventListener(\"keydown\", keyDownListener)\n    } catch (error) {\n\n    }\n    itemList[i].addEventListener(\"keydown\", keyDownListener)\n  }\n}\n</code></pre>\n\n<p>Also, People suggest using <code>.keyCode</code> which is <code>13</code> instead <code>.key</code></p>\n"}, {"comments": [{"owner": {"reputation": 13857, "user_id": 4114907, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/08NXV.jpg?s=128&g=1", "display_name": "AndrewL64", "link": "https://stackoverflow.com/users/4114907/andrewl64"}, "edited": false, "score": 0, "creation_date": 1546464473, "post_id": 54013382, "comment_id": 94863760, "body": "But do note that the enter key invokes other elements of your page as well. So if you had just clicked the + button and the focus is still on that button, clicking the Enter key would invoke both the + button as well as the function above thus creating two checkboxes at the same time."}, {"owner": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546465239, "post_id": 54013382, "comment_id": 94864036, "body": "This worked! Although I do see your point about two entries being created when the + is in focus. I&#39;m still learning JavaScript so I&#39;m trying to fine tune my projects as I learn more."}, {"owner": {"reputation": 13857, "user_id": 4114907, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/08NXV.jpg?s=128&g=1", "display_name": "AndrewL64", "link": "https://stackoverflow.com/users/4114907/andrewl64"}, "reply_to_user": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546465428, "post_id": 54013382, "comment_id": 94864105, "body": "Glad I could help man. Do mark this as the correct answer if it helped you solve your issue. In the meanwhile, I&#39;ll try to fiddle with the above code and see if I can find a workaround for the + focus thing and if I do find something, I&#39;ll let you know."}, {"owner": {"reputation": 13857, "user_id": 4114907, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/08NXV.jpg?s=128&g=1", "display_name": "AndrewL64", "link": "https://stackoverflow.com/users/4114907/andrewl64"}, "reply_to_user": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546467292, "post_id": 54013382, "comment_id": 94864825, "body": "@KrisD Thanks to Moosecouture&#39;s comment, I have edited the code above as well as the jsFiddle to prevent the unwanted invokes when an element is in focus during the keypress."}, {"owner": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546468803, "post_id": 54013382, "comment_id": 94865350, "body": "@ AndrewL The updated code prevents the unwanted invokes, but it also takes away the Enter functionality for the list items when the textbox input is active."}, {"owner": {"reputation": 13857, "user_id": 4114907, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/08NXV.jpg?s=128&g=1", "display_name": "AndrewL64", "link": "https://stackoverflow.com/users/4114907/andrewl64"}, "reply_to_user": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546472568, "post_id": 54013382, "comment_id": 94866355, "body": "Hmmmm.... I think changing the activeElement to only check for focus on the + button should work. Let me check it out."}, {"owner": {"reputation": 13857, "user_id": 4114907, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/08NXV.jpg?s=128&g=1", "display_name": "AndrewL64", "link": "https://stackoverflow.com/users/4114907/andrewl64"}, "reply_to_user": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546511665, "post_id": 54013382, "comment_id": 94877044, "body": "@KrisD The updated code above and in the jsFiddle should work fine now."}, {"owner": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "edited": false, "score": 0, "creation_date": 1546531809, "post_id": 54013382, "comment_id": 94888107, "body": "That&#39;s it! Thank you so much! I appreciate the help."}], "tags": [], "owner": {"reputation": 13857, "user_id": 4114907, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/08NXV.jpg?s=128&g=1", "display_name": "AndrewL64", "link": "https://stackoverflow.com/users/4114907/andrewl64"}, "is_accepted": true, "score": 0, "last_activity_date": 1546511644, "last_edit_date": 1546511644, "creation_date": 1546464380, "answer_id": 54013382, "question_id": 54013226, "link": "https://stackoverflow.com/questions/54013226/how-to-invoke-a-function-on-pressing-the-enter-key/54013382#54013382", "title": "How to invoke a function on pressing the &quot;Enter&quot; key", "body": "<p>If you want to add a new checkbox when the ENTER key is pressed, just change this:</p>\n\n<pre><code>let itemList = document.querySelectorAll(\"input[type=text]\");\nfor (var i = 0; i &lt; itemList.length; i++) {\n    addEventListener(\"keypress\", function(e) {\n        if (e.key === \"Enter\") {\n            createNewItem();\n            console.log(\"New item created!\");\n        }\n    })\n}\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>document.addEventListener(\"keypress\", function(e) {\n  if (e.key === \"Enter\" &amp;&amp; (document.activeElement.tagName.toLowerCase() !== 'button')) {\n    createNewItem();\n    console.log(\"New item created!\");\n  }\n});\n</code></pre>\n\n<p>I forked your current jsFiddle and used the above code instead here: <a href=\"https://jsfiddle.net/AndrewL64/3fcgpxrL/30/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/AndrewL64/3fcgpxrL/30/</a></p>\n\n<p>Credits to @Moosecouture who mentioned the use of <code>document.activeElement</code> to prevent on unwanted invokes when an element is in focus during the keypress.</p>\n"}], "owner": {"reputation": 13, "user_id": 10859721, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69a05b7c459ce37f2806ea4f4609c10a?s=128&d=identicon&r=PG&f=1", "display_name": "KrisD", "link": "https://stackoverflow.com/users/10859721/krisd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 395, "favorite_count": 0, "accepted_answer_id": 54013382, "answer_count": 2, "score": 1, "last_activity_date": 1546511644, "creation_date": 1546463373, "last_edit_date": 1546467349, "question_id": 54013226, "link": "https://stackoverflow.com/questions/54013226/how-to-invoke-a-function-on-pressing-the-enter-key", "title": "How to invoke a function on pressing the &quot;Enter&quot; key", "body": "<p>Here's the JSFiddle link to my app: <a href=\"https://jsfiddle.net/kdowdell24/a9t7b23c/2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/kdowdell24/a9t7b23c/2/</a></p>\n\n<pre><code>document.getElementById(\"add-button\").addEventListener(\"click\", function() {\n\nfunction createNewItem() {\n    //creates div element with a class of \"input-item\"\n    let itemContainer = document.createElement(\"div\");\n    itemContainer.classList.add(\"input-item\");\n\n    //creates input element and sets type attribute to \"checkbox\"\n    let checkBoxInput = document.createElement(\"input\");\n    checkBoxInput.setAttribute(\"type\", \"checkbox\");\n    checkBoxInput.classList.add(\"check-box\");\n\n    //creates input element and sets \"type\" attribute to \"text\"\n    let textInput = document.createElement(\"input\");\n    textInput.setAttribute(\"type\", \"text\");\n\n    //creates button element and sets \"class\" to \"delete-button\" and \"type\" to \"button\"\n    let deleteButton = document.createElement(\"button\");\n    deleteButton.classList.add(\"delete-button\");\n    deleteButton.setAttribute(\"type\", \"button\");\n\n    //creates Font Awesome \"X\" icon and adds \"fas\" and \"fa-times\" classes\n    let xIcon = document.createElement(\"i\");\n    xIcon.classList.add(\"fas\");\n    xIcon.classList.add(\"fa-times\");\n\n    //adds a div to form\n    let formElement = document.getElementById(\"shopping-list\");\n    formElement.appendChild(itemContainer);\n\n    //adds checkbox, input, and \"delete-button\" to div\n    itemContainer.appendChild(checkBoxInput);\n    itemContainer.appendChild(textInput);\n    itemContainer.appendChild(deleteButton);\n\n    //adds \"X\" icon to button\n    deleteButton.appendChild(xIcon);\n\n    //removes checkbox, input and deleteButton from form\n    deleteButton.addEventListener(\"click\", function() {\n        checkBoxInput.remove();\n        textInput.remove();\n        deleteButton.remove();\n        itemContainer.remove();\n\n    });\n};\n\ncreateNewItem();\n\n\n//Adds new item after pressing Enter key\nlet itemList = document.querySelectorAll(\"input[type=text]\");\nfor (var i = 0; i &lt; itemList.length; i++) {\n    addEventListener(\"keypress\", function(e) {\n        if (e.key === \"Enter\") {\n            createNewItem();\n            console.log(\"New item created!\");\n        }\n    })\n}\n</code></pre>\n\n<p>});</p>\n\n<pre><code>//Removes all content from list after pressing Clear All button\ndocument.getElementById(\"clear-button\").addEventListener(\"click\", function() {\nlet listContent = document.querySelectorAll(\".input-item\");\nfor (var i = 0; i &lt; listContent.length; i++) {\n    listContent[i].remove();\n}\n</code></pre>\n\n<p>})</p>\n\n<p>The issue I'm having is with this block of code: </p>\n\n<pre><code>//Adds new item after pressing Enter key\nlet itemList = document.querySelectorAll(\"input[type=text]\");\nfor (var i = 0; i &lt; itemList.length; i++) {\n    addEventListener(\"keypress\", function(e) {\n        if (e.key === \"Enter\") {\n            createNewItem();\n            console.log(\"New item created!\");\n        }\n    })\n}\n</code></pre>\n\n<p>What's happening is that when I press Enter while in the textbox of a list item it adds multiple entries instead of just one. What I'm trying to accomplish is to have only one item entry created below the current one after hitting Enter.</p>\n"}, {"tags": ["javascript", "json"], "comments": [{"owner": {"reputation": 9141, "user_id": 2652759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb993f3435e19380a9ac6c688310a261?s=128&d=identicon&r=PG", "display_name": "quirimmo", "link": "https://stackoverflow.com/users/2652759/quirimmo"}, "edited": false, "score": 1, "creation_date": 1546463264, "post_id": 54013185, "comment_id": 94863271, "body": "<code>a.nameInfo = { name: &#39;John&#39; }</code> or directly <code>a = { nameInfo: { name: &#39;John&#39; } }</code>"}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546463507, "post_id": 54013185, "comment_id": 94863370, "body": "This is sort of correct.  When you are writing &#39;use strict&#39; you should always declare your variables and avoid using them without at least <code>var</code> or <code>let</code> because this is scoped to the <code>window</code> otherwise."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 3, "creation_date": 1546463530, "post_id": 54013185, "comment_id": 94863384, "body": "You\u2019re building an object, not JSON. If you want JSON, use <code>JSON.stringify</code>."}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1546463714, "post_id": 54013185, "comment_id": 94863454, "body": "@HereticMonkey good call.  Words matter.  But if we overlook the fact that Bhanu is newer to javascript JS Objects are similar to JSON in the same sense that JSON actually means JavaScript Object Notation."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546464219, "post_id": 54013185, "comment_id": 94863657, "body": "@Moosecouture are numbers similar to strings? You could say \u201c1.01\u201d is in JavaScript number format, since you can parse it as a number. Also, when someone is new to a language is precisely the time to intervene so that bad habits don\u2019t settle in."}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "edited": false, "score": 0, "creation_date": 1546482307, "post_id": 54013185, "comment_id": 94868177, "body": "Not sure I follow the number string point."}], "answers": [{"comments": [{"owner": {"reputation": 9141, "user_id": 2652759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb993f3435e19380a9ac6c688310a261?s=128&d=identicon&r=PG", "display_name": "quirimmo", "link": "https://stackoverflow.com/users/2652759/quirimmo"}, "edited": false, "score": 0, "creation_date": 1546463456, "post_id": 54013224, "comment_id": 94863343, "body": "maybe &quot;easiest&quot; is not the right word. Even his one is really easy. Let&#39;s say the &quot;most compact way&quot;"}, {"owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "reply_to_user": {"reputation": 9141, "user_id": 2652759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb993f3435e19380a9ac6c688310a261?s=128&d=identicon&r=PG", "display_name": "quirimmo", "link": "https://stackoverflow.com/users/2652759/quirimmo"}, "edited": false, "score": 0, "creation_date": 1546463575, "post_id": 54013224, "comment_id": 94863402, "body": "Point taken.  I think this is the Clearest and most Compact and DRY."}], "tags": [], "owner": {"reputation": 753, "user_id": 5955419, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-gxw1Tv4NeRE/AAAAAAAAAAI/AAAAAAAAA3k/uxKdL28HT-Q/photo.jpg?sz=128", "display_name": "Moosecouture", "link": "https://stackoverflow.com/users/5955419/moosecouture"}, "is_accepted": false, "score": 1, "last_activity_date": 1546463357, "creation_date": 1546463357, "answer_id": 54013224, "question_id": 54013185, "link": "https://stackoverflow.com/questions/54013185/build-json-with-sub-levels/54013224#54013224", "title": "Build JSON with sub levels", "body": "<p>Easiest way is to do the following:</p>\n\n<pre><code>let a = {\n  nameInfo: {\n    name: 'Bhanu'\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "is_accepted": false, "score": 0, "last_activity_date": 1546464268, "creation_date": 1546464268, "answer_id": 54013371, "question_id": 54013185, "link": "https://stackoverflow.com/questions/54013185/build-json-with-sub-levels/54013371#54013371", "title": "Build JSON with sub levels", "body": "<p>different way, still JS object</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var a = { };\r\na['nameInfo'] = { name: 'Bhanu' };\r\n\r\nconsole.log(a);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 415, "user_id": 9300583, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/022617f8ba7a49469c7acf3b38a182bb?s=128&d=identicon&r=PG&f=1", "display_name": "Bhanu", "link": "https://stackoverflow.com/users/9300583/bhanu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1546464268, "creation_date": 1546463188, "last_edit_date": 1546463974, "question_id": 54013185, "link": "https://stackoverflow.com/questions/54013185/build-json-with-sub-levels", "title": "Build JSON with sub levels", "body": "<p>I am trying to build JSON as below.</p>\n\n<pre><code>{\n  \"nameInfo\": {\n    \"name\": \"Bhanu\"\n  }\n}\n</code></pre>\n\n<p>I tried below code and its working fine.</p>\n\n<pre><code>a = {}\na.nameInfo = {}\na.nameInfo.name=\"John\"\nconsole.log(a)\n</code></pre>\n\n<p>However, just checking if there is a better way to do the same thing. Do I always have to initialize a.nameInfo to empty object before adding a property under nameInfo?</p>\n"}, {"tags": ["javascript", "node.js", "google-chrome-extension", "socket.io"], "answers": [{"tags": [], "owner": {"reputation": 774, "user_id": 3862289, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3pc6n.jpg?s=128&g=1", "display_name": "Gergely Szabo", "link": "https://stackoverflow.com/users/3862289/gergely-szabo"}, "is_accepted": false, "score": 0, "last_activity_date": 1546471268, "creation_date": 1546471268, "answer_id": 54014461, "question_id": 54013174, "link": "https://stackoverflow.com/questions/54013174/chrome-extenstion-background-socket-io-connect-to-https-instead-of-http/54014461#54014461", "title": "chrome extenstion background - socket.io connect to https instead of http", "body": "<p>Chrome does not seem to allow connections that are not secure, I think you have the same question as this one: <a href=\"https://stackoverflow.com/questions/50704614/websocket-connection-fails-on-chrome-without-ssl\">WebSocket connection fails on Chrome without SSL</a></p>\n"}], "owner": {"reputation": 151, "user_id": 8620566, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RT-0XI-477s/AAAAAAAAAAI/AAAAAAAAACg/fD6b9N13ypg/photo.jpg?sz=128", "display_name": "Ayoub Marouan", "link": "https://stackoverflow.com/users/8620566/ayoub-marouan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1584333663, "creation_date": 1546463142, "last_edit_date": 1584333663, "question_id": 54013174, "link": "https://stackoverflow.com/questions/54013174/chrome-extenstion-background-socket-io-connect-to-https-instead-of-http", "title": "chrome extenstion background - socket.io connect to https instead of http", "body": "<p>I'm using <strong>Socket.io</strong> for Google Chrome extension in background to connect to a http socket server. But whatever I put into the code, the socket.io always try to connect to <code>https</code> instead of <code>http</code>. How can I force socket client to always connect over http?</p>\n\n<p>I'm calling the function from a context page on a https page, is that the problem?</p>\n\n<pre><code>socket = io.connect( 'http://192.168.1.2:5000/?id=10&amp;token=abjnhikn==' , {secure: false} );\nsocket.connect();\n</code></pre>\n"}, {"tags": ["javascript", "scroll", "addeventlistener"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 21838, "user_id": 1913729, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dGDss.png?s=128&g=1", "display_name": "blex", "link": "https://stackoverflow.com/users/1913729/blex"}, "edited": false, "score": 2, "creation_date": 1546463716, "post_id": 54013166, "comment_id": 94863456, "body": "@blex This seems to be the opposite problem. He&#39;s using <code>document.documentElement</code>, which is the solution in that question."}, {"owner": {"reputation": 21838, "user_id": 1913729, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dGDss.png?s=128&g=1", "display_name": "blex", "link": "https://stackoverflow.com/users/1913729/blex"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1546464100, "post_id": 54013166, "comment_id": 94863614, "body": "@Barmar, the point is that different browsers have different implementations. The solution is not to use one or the other, but both, for compatibility <a href=\"https://codepen.io/anon/pen/qLpJpO\" rel=\"nofollow noreferrer\">codepen.io/anon/pen/qLpJpO</a> <i>(tested in Chrome, Firefox and Edge)</i>"}, {"owner": {"reputation": 325, "user_id": 1686298, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/b8skc.jpg?s=128&g=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/1686298/joey"}, "reply_to_user": {"reputation": 21838, "user_id": 1913729, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dGDss.png?s=128&g=1", "display_name": "blex", "link": "https://stackoverflow.com/users/1913729/blex"}, "edited": false, "score": 0, "creation_date": 1546465435, "post_id": 54013166, "comment_id": 94864114, "body": "@blex \u2013 your demonstration appears to have resolved my issue! thanks a ton! Do you have any other recommendations for my implementation? I&#39;m not sure how to mark your comment as the acceptable answer though?"}, {"owner": {"reputation": 21838, "user_id": 1913729, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dGDss.png?s=128&g=1", "display_name": "blex", "link": "https://stackoverflow.com/users/1913729/blex"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1546465867, "post_id": 54013166, "comment_id": 94864285, "body": "Cool! I don&#39;t have any other recommendation, except for this: <code>$( document.getElementsByClassName(&#39;data-points__stat&#39;) )</code> which could just be <code>$(&#39;.data-points__stat&#39;)</code>. You cannot mark a comment as an accepted answer, I did not post it as an answer because I think this question is a duplicate. I could be wrong, as @Barmar pointed out :)"}], "owner": {"reputation": 325, "user_id": 1686298, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/b8skc.jpg?s=128&g=1", "display_name": "Joey", "link": "https://stackoverflow.com/users/1686298/joey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "closed_date": 1546466061, "answer_count": 0, "score": 0, "last_activity_date": 1546463447, "creation_date": 1546463093, "last_edit_date": 1546463447, "question_id": 54013166, "link": "https://stackoverflow.com/questions/54013166/window-addeventlistenerscroll-doesnt-appear-to-fire-on-ms-edge", "closed_reason": "Duplicate", "title": "window.addEventListener(&#39;scroll&#39;, ...) doesn&#39;t appear to fire on MS Edge?", "body": "<p>I've dug around a bit on StackOverflow hoping to find an answer to a bit of a but I'm experiencing. I'm attempting to fire an event based on scroll and if an element is within view (by calculating the top of the element from the top of the DOM).</p>\n\n<p>Now, I'm able to get this to work on all major browsers, but, for some reason I'm tripping over IE/Edge quirks.</p>\n\n<p><a href=\"https://codepen.io/jodriscoll/pen/wRpEmz\" rel=\"nofollow noreferrer\">I've put together a codepen</a> to hopefully help speed up the troubleshooting process. The primary lines to focus on are 41 &amp; 42 of the codepen JS.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const self = this;\r\nconst debug = true;\r\nconst parent = document.getElementById('js-data-count');\r\n\r\nlet scrolling = false;\r\nlet touchmoving = false;\r\nlet inView = false;\r\n\r\n\r\n// Create a constant that should only fire ONCE\r\nconst animateOnce = (function() {\r\n  let executed = false;\r\n\r\n  return function() {\r\n    if (!executed) {\r\n      executed = true;\r\n\r\n      $(document.getElementsByClassName('data-points__stat')).each(function() {\r\n        let $this = $(this);\r\n        let countTo = $this.attr('data-count-to');\r\n\r\n        $({\r\n          countNum: $this.text()\r\n        }).animate({\r\n          countNum: countTo\r\n        }, {\r\n          duration: 1500,\r\n          easing: 'linear',\r\n          step: function() {\r\n            $this.text(Math.floor(this.countNum));\r\n          },\r\n          complete: function() {\r\n            $this.text(this.countNum);\r\n          }\r\n        });\r\n      });\r\n    }\r\n  };\r\n})();\r\n\r\n\r\n// If on load the area is in view but the user hasn't scrolled to it (refresh the page for example)\r\nwindow.onload = function() {\r\n  if (parent) {\r\n    window.addEventListener('scroll', function() {\r\n      scrolling = true;\r\n    });\r\n    window.addEventListener('touchmove', function() {\r\n      touchmoving = true;\r\n    });\r\n\r\n    const fromTop = parent.offsetTop + 50;\r\n    const element = window.innerHeight + document.documentElement.scrollTop;\r\n    const visible = fromTop &lt;= element;\r\n\r\n    if (visible) {\r\n      inView = true;\r\n      animateOnce();\r\n\r\n      if (debug) {\r\n        console.log(\"Target(s) ARE within viewport AND user hasn't scrolled\")\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n\r\n// Set an interval to fire the desired functions on scroll but prevent excessive recalculations\r\nsetInterval(function() {\r\n  // If the parent element is present on the page\r\n  if (parent) {\r\n    const fromTop = parent.offsetTop + 50;\r\n    const element = window.innerHeight + document.documentElement.scrollTop;\r\n    const visible = fromTop &lt;= element;\r\n    const notVisible = fromTop &gt; element;\r\n\r\n    // If the user is actively scrolling\r\n    if (scrolling) {\r\n      scrolling = false;\r\n\r\n      // If the target area is NOT within the viewport\r\n      if (notVisible) {\r\n        if (debug) {\r\n          console.log(\"Target(s) ARE NOT within viewport AND user has scrolled\")\r\n        }\r\n        inView = false;\r\n        return;\r\n      }\r\n\r\n      // If the target area IS within the viewport\r\n      if (visible) {\r\n        if (debug) {\r\n          console.log('Target(s) ARE within viewport AND user scrolled')\r\n        }\r\n        inView = true;\r\n        animateOnce();\r\n      }\r\n    }\r\n  }\r\n}, 1000); // set a delay to avoid event spamming</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>// Change the value below to test the scroll conditions\r\n.artificial-spacer {\r\n  background-color: #c0c0c0;\r\n  height: 95vh;\r\n  position: relative;\r\n  &amp;:before {\r\n    content: 'Scroll down please!';\r\n    font-weight: bold;\r\n    width: 50%;\r\n    margin: auto;\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    text-align: center;\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;section class=\"artificial-spacer\"&gt;&amp;nbsp;&lt;/section&gt;\r\n&lt;section class=\"data-points\"&gt;\r\n  &lt;div class=\"data-points__wrapper\"&gt;\r\n    &lt;h1 class=\"data-points__title\"&gt;Nam id nibh urna. Aenean sollicitudin in felis sit amet ornare. Donec scelerisque tellus urna, ac dignissim sem varius id.&lt;/h1&gt;\r\n    &lt;ul class=\"data-points__list multiple\" id=\"js-data-count\"&gt;\r\n      &lt;li class=\"data-points__item\"&gt;\r\n        &lt;a href=\"#random-link1\" class=\"data-points__link\" aria-label=\"View the Link\" title=\"View the Link\"&gt;\r\n          &lt;div class=\"data-points__bubble\"&gt;\r\n            &lt;span class=\"data-points__stat\" data-count-to=\"24\"&gt;0&lt;/span&gt;\r\n            &lt;span class=\"data-points__type\"&gt;%&lt;/span&gt;\r\n          &lt;/div&gt;\r\n        &lt;/a&gt;\r\n        &lt;p class=\"data-points__text\"&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit.&lt;/p&gt;\r\n      &lt;/li&gt;\r\n      &lt;li class=\"data-points__item\"&gt;\r\n        &lt;a href=\"#random-link2\" class=\"data-points__link\" aria-label=\"View the Link\" title=\"View the Link\"&gt;\r\n          &lt;div class=\"data-points__bubble\"&gt;\r\n            &lt;span class=\"data-points__stat\" data-count-to=\"60\"&gt;0&lt;/span&gt;\r\n            &lt;span class=\"data-points__type\"&gt;%&lt;/span&gt;\r\n          &lt;/div&gt;\r\n        &lt;/a&gt;\r\n        &lt;p class=\"data-points__text\"&gt;Quisque fringilla tellus sed ipsum euismod, a laoreet nisl blandit.&lt;/p&gt;\r\n      &lt;/li&gt;\r\n      &lt;li class=\"data-points__item\"&gt;\r\n        &lt;a href=\"#random-link3\" class=\"data-points__link\" aria-label=\"View the Link\" title=\"View the Link\"&gt;\r\n          &lt;div class=\"data-points__bubble\"&gt;\r\n            &lt;span class=\"data-points__stat\" data-count-to=\"55\"&gt;0&lt;/span&gt;\r\n            &lt;span class=\"data-points__type\"&gt;%&lt;/span&gt;\r\n          &lt;/div&gt;\r\n        &lt;/a&gt;\r\n        &lt;p class=\"data-points__text\"&gt;Lorem ipsum dolor sit amet, consectetur adipiscing elit.&lt;/p&gt;\r\n      &lt;/li&gt;\r\n    &lt;/ul&gt;\r\n  &lt;/div&gt;\r\n&lt;/section&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>I've experimented with</strong>:</p>\n\n<ul>\n<li>Adjusting the <code>window</code> events to target <code>document</code></li>\n<li>Validate the <code>body</code> does not have <code>height: 100%</code>, conflicting with the scroll event behavior</li>\n<li>Confirm that <code>overflow</code> is not being manipulated on the Y coordinate</li>\n</ul>\n"}, {"tags": ["javascript", "node.js", "elasticsearch", "frontend", "backend"], "comments": [{"owner": {"reputation": 6077, "user_id": 1136371, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6288e34200a8b3b7d8a5126aea916411?s=128&d=identicon&r=PG&f=1", "display_name": "Nishant", "link": "https://stackoverflow.com/users/1136371/nishant"}, "edited": false, "score": 0, "creation_date": 1546484716, "post_id": 54013130, "comment_id": 94868518, "body": "Your code says <code>&quot;category&quot;: { &quot;type&quot;: &quot;keyword&quot;}</code> while error says <b>type [string] declared on field [category]</b>. Are you sure this code is generating the error?"}, {"owner": {"reputation": 5, "user_id": 8076369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99fccc0552d9973cb503d3e3c9c011a1?s=128&d=identicon&r=PG&f=1", "display_name": "gokha", "link": "https://stackoverflow.com/users/8076369/gokha"}, "reply_to_user": {"reputation": 6077, "user_id": 1136371, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6288e34200a8b3b7d8a5126aea916411?s=128&d=identicon&r=PG&f=1", "display_name": "Nishant", "link": "https://stackoverflow.com/users/1136371/nishant"}, "edited": false, "score": 0, "creation_date": 1546552766, "post_id": 54013130, "comment_id": 94897112, "body": "@NishantSaini Yes, this code is generating the error but I am not able to figure out the issue. Can you help me with this?"}, {"owner": {"reputation": 6077, "user_id": 1136371, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/6288e34200a8b3b7d8a5126aea916411?s=128&d=identicon&r=PG&f=1", "display_name": "Nishant", "link": "https://stackoverflow.com/users/1136371/nishant"}, "edited": false, "score": 0, "creation_date": 1546570042, "post_id": 54013130, "comment_id": 94901122, "body": "Try making direct call to elastic using postman to create the index. I don&#39;t see any issue in that mapping."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9882704, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de377a773a84764b0dd633eaabe5d7ed?s=128&d=identicon&r=PG&f=1", "display_name": "ali jalali", "link": "https://stackoverflow.com/users/9882704/ali-jalali"}, "is_accepted": false, "score": 0, "last_activity_date": 1558690930, "last_edit_date": 1558690930, "creation_date": 1558690530, "answer_id": 56289781, "question_id": 54013130, "link": "https://stackoverflow.com/questions/54013130/error-creating-mapping-error-mapper-parsing-exception-no-handler-for-type/56289781#56289781", "title": "error creating mapping { Error: [mapper_parsing_exception] No handler for type [string] declared on field [category]", "body": "<p>You have to declare es_type in your schema declaration like this:</p>\n\n<pre><code>var schema = new Schema({\ncategory: {type: Schema.Types.ObjectId, ref: 'Category' ,es_type:'keyword'},\nimage: {type: String, required: true ,es_type:'text'},\nname: {type: String, required: true ,,es_type:'text'},\nprice: {type: Number, required: true ,,es_type:'double'}\n});\n</code></pre>\n"}], "owner": {"reputation": 5, "user_id": 8076369, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/99fccc0552d9973cb503d3e3c9c011a1?s=128&d=identicon&r=PG&f=1", "display_name": "gokha", "link": "https://stackoverflow.com/users/8076369/gokha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 124, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1558690930, "creation_date": 1546462883, "question_id": 54013130, "link": "https://stackoverflow.com/questions/54013130/error-creating-mapping-error-mapper-parsing-exception-no-handler-for-type", "title": "error creating mapping { Error: [mapper_parsing_exception] No handler for type [string] declared on field [category]", "body": "<p>I am not able to solve the issue here. I have tried creating the mapping so that my code can be compatible with ES6x but still not able to figure out the problem. There might be some problem with my code but I couldn't pinpoint the exact issue.</p>\n\n<p>Here, is my index.js code</p>\n\n<pre><code>Product.createMapping(\n    {\n\n           \"products\": {\n               \"properties\": {\n                   \"category\": {\n                       \"type\": \"keyword\"\n                   },\n                   \"name\": {\n                       \"type\": \"text\"\n                   },\n                   \"price\": {\n                       \"type\": \"double\"\n                   },\n                   \"image\": {\n                       \"type\": \"text\"\n                   }\n               }\n           }\n\n\n    }, function(err, mapping){\n    if (err) {\n        console.log('error creating mapping');\n        console.log(err);\n    }\n\n    else{\n        console.log('Mapping successfully created');\n        console.log(mapping);\n    }\n});\n\nvar data = Product.synchronize();\nvar count = 0;\n\ndata.on('date', function(){\n    count++;\n});\n\ndata.on('close', function(){\n    console.log('Indexed' + count + 'Documents');\n});\n\ndata.on('error', function(err){\n    console.log(err);\n});\n</code></pre>\n\n<p>Here is my product.js code.</p>\n\n<pre><code>var mongoose = require('mongoose');\nvar mongoosastic = require('mongoosastic');\nvar Schema = mongoose.Schema;\n\nvar schema = new Schema({\n    category: {type: Schema.Types.ObjectId, ref: 'Category'},\n    image: {type: String, required: true},\n    name: {type: String, required: true},\n    price: {type: Number, required: true}\n});\n\nschema.plugin(mongoosastic,{\n    hosts: [\n        'localhost:9200'\n    ]\n});\n\n\n\nmodule.exports = mongoose.model('Product', schema);\n</code></pre>\n"}, {"tags": ["javascript", "html", "variables"], "comments": [{"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 3, "creation_date": 1546463250, "post_id": 54013101, "comment_id": 94863263, "body": "We appreciate that you&#39;re a beginner, but you seem to have some considerable assumptions about functionality which doesn&#39;t exist without the use of complex frameworks.  It&#39;s recommended that you start with some introductory tutorials on JavaScript, including how to write to the HTML elements (often called the DOM) or read values from HTML elements.  Simply declaring a variable doesn&#39;t create a bi-directional binding, or any relationship whatsoever, with HTML elements."}, {"owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "edited": false, "score": 0, "creation_date": 1546463311, "post_id": 54013101, "comment_id": 94863290, "body": "<code>var Abena_Natale = &quot;&quot;</code> by using <code>var</code> this code create a new variable."}, {"owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "reply_to_user": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1546463672, "post_id": 54013101, "comment_id": 94863435, "body": "Agree with @David, recommend doing so good tutorials on build the HTML, get that solid first. Will help you immensely as you move forward."}], "answers": [{"tags": [], "owner": {"reputation": 4237, "user_id": 10787900, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4Z6j7Qhowx8/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-ighhCw1JxvK6l7ZVG0ZYElO2DSUA/mo/photo.jpg?sz=128", "display_name": "Bibberty", "link": "https://stackoverflow.com/users/10787900/bibberty"}, "is_accepted": true, "score": 0, "last_activity_date": 1546463441, "creation_date": 1546463441, "answer_id": 54013236, "question_id": 54013101, "link": "https://stackoverflow.com/questions/54013101/how-can-i-link-a-javascript-variable-to-a-html-value/54013236#54013236", "title": "How can I link a JavaScript variable to a HTML value?", "body": "<p>There was an error in your HTML.\nFrom there we need to write the selector to get the element.\nAnd then grab the content inside the node.</p>\n\n<p>Update to support editing.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var Abena_Natale = \"\";\r\nvar abenaElement;\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n  abenaElement = document.querySelector('#Abena_Natale');\r\n  Abena_Natale = abenaElement.innerHTML;\r\n\r\n  console.log(Abena_Natale);\r\n  \r\n  // Update the value\r\n  abenaElement.innerHTML = \"Testing\";\r\n  \r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Abena&lt;/td&gt;\r\n    &lt;td&gt;Natale&lt;/td&gt;\r\n    &lt;td id=\"Abena_Natale\"&gt;11782&lt;/td&gt;\r\n    &lt;td&gt;No.1&lt;/td&gt;\r\n    &lt;td&gt;Monarch of Boars&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 39336, "user_id": 1377002, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oDeF7.jpg?s=128&g=1", "display_name": "Andy", "link": "https://stackoverflow.com/users/1377002/andy"}, "is_accepted": false, "score": 0, "last_activity_date": 1546463619, "creation_date": 1546463619, "answer_id": 54013268, "question_id": 54013101, "link": "https://stackoverflow.com/questions/54013101/how-can-i-link-a-javascript-variable-to-a-html-value/54013268#54013268", "title": "How can I link a JavaScript variable to a HTML value?", "body": "<p>That's not how you access the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document_Object_Model/Introduction\" rel=\"nofollow noreferrer\">Document Object Model (DOM)</a> with JS. You need to grab the element using one from a number of methods, and <em>then</em> amend the data.</p>\n\n<p>1) Make sure your table row elements are opened and closed correctly.</p>\n\n<p>2) Use either <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/getElementById\" rel=\"nofollow noreferrer\"><code>document.getElementById('Abena_Natale')</code></a>, or <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/querySelector\" rel=\"nofollow noreferrer\"><code>document.querySelector('#Abena_Natale')</code></a> to grab the element.</p>\n\n<p>3) Set the <a href=\"https://developer.mozilla.org/pl/docs/Web/API/Element/textContent\" rel=\"nofollow noreferrer\"><code>textContent</code></a> of the element. <code>value</code> is generally used for <code>input</code> elements.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const aN = document.getElementById('Abena_Natale');\r\naN.textContent = 'This has been changed';</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;table&gt;\r\n  &lt;tr&gt;\r\n    &lt;td&gt;Abena&lt;/td&gt;\r\n    &lt;td&gt;Natale&lt;/td&gt;\r\n    &lt;td id=\"Abena_Natale\"&gt;11782&lt;/td&gt;\r\n    &lt;td&gt;No.1&lt;/td&gt;\r\n    &lt;td&gt;Monarch of Boars&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10777351"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 54013236, "answer_count": 2, "score": 0, "last_activity_date": 1546463619, "creation_date": 1546462749, "question_id": 54013101, "link": "https://stackoverflow.com/questions/54013101/how-can-i-link-a-javascript-variable-to-a-html-value", "title": "How can I link a JavaScript variable to a HTML value?", "body": "<p>I need to link an item in a table to a Javascript variable, but it won't link. I think there will be further problems changing the value.</p>\n\n<p>I am running on Atom Editor, with the script package installed, although I could copy the script into Notepad++ or Brackets if needed.</p>\n\n<pre><code>&lt;/tr&gt;\n    &lt;td&gt;Abena&lt;/td&gt;\n    &lt;td&gt;Natale&lt;/td&gt;\n    &lt;td id = \"Abena_Natale\"&gt;11782&lt;/td&gt;\n    &lt;td&gt;No.1&lt;/td&gt;\n    &lt;td&gt;Monarch of Boars&lt;/td&gt;\n&lt;/tr&gt;\n\n&lt;script&gt;\nvar Abena_Natale = \"\"\n\n&lt;/script&gt;\n</code></pre>\n\n<p>I expected to get a variable that would change the value in the Abena_Natale element when the Javascript stated. Instead, it just stays the same.</p>\n"}, {"tags": ["javascript", "amcharts"], "answers": [{"tags": [], "owner": {"reputation": 1590, "user_id": 1116812, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/029e67994e7784dd413458f27b68bcac?s=128&d=identicon&r=PG", "display_name": "Alien Technology", "link": "https://stackoverflow.com/users/1116812/alien-technology"}, "is_accepted": false, "score": 1, "last_activity_date": 1546467054, "last_edit_date": 1546467054, "creation_date": 1546466514, "answer_id": 54013757, "question_id": 54013053, "link": "https://stackoverflow.com/questions/54013053/how-to-add-series-on-external-event-in-amcharts-v4/54013757#54013757", "title": "How to add series on external event in amCharts v4?", "body": "<p>The series inherit data from the chart,  but apparently that ends with the script.</p>\n\n<p>So chart.data might have <code>{date: '2001-01-01', visits: 100, hits: 200, views: 300}</code> and each series can just specify which data element to use.  Once the script ends, this apparently no longer applies and each additional series must have its own data.</p>\n\n<p>To get the example to work as expected, I commented out this line:</p>\n\n<pre><code>// chart.data = generateChartData(); /* works with this line, but not needed */\n</code></pre>\n\n<p>And added the data with each series like this:</p>\n\n<pre><code>var series = chart.series.push(new am4charts.LineSeries());\nseries.data = generateChartData(); // &lt;---- new line here\nseries.dataFields.valueY = field;\n</code></pre>\n\n<p>Updated pen: <a href=\"https://codepen.io/anon/pen/VqyVjr?editors=0011\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/VqyVjr?editors=0011</a></p>\n\n<p>I'm still not clear why this data flow does not continue, but have something that works.  Anyone who can shed light on why, please do.</p>\n"}, {"tags": [], "owner": {"reputation": 3428, "user_id": 781824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1062e4d646be99243bc14f8dcbc4b1d8?s=128&d=identicon&r=PG", "display_name": "notacouch", "link": "https://stackoverflow.com/users/781824/notacouch"}, "is_accepted": true, "score": 2, "last_activity_date": 1546503323, "creation_date": 1546503323, "answer_id": 54018555, "question_id": 54013053, "link": "https://stackoverflow.com/questions/54013053/how-to-add-series-on-external-event-in-amcharts-v4/54018555#54018555", "title": "How to add series on external event in amCharts v4?", "body": "<p>You were on the right track in your answer:</p>\n\n<blockquote>\n  <p>The series inherit data from the chart, but apparently that ends with the script.</p>\n</blockquote>\n\n<p>As you've witnessed, when <a href=\"https://www.amcharts.com/docs/v4/tutorials/dynamically-adding-and-removing-series/#Adding_series\" rel=\"nofollow noreferrer\">adding a series dynamically</a>, basically the chart doesn't make presumptions whether the asynchronously-added series will have its own data or will use the chart's. To have the chart continue to provide its data to newly-added series, run <code>chart.invalidateData();</code>.</p>\n\n<p>Here's a fork of your demo that adds that to the <code>addSeries()</code> function:</p>\n\n<p><a href=\"https://codepen.io/team/amcharts/pen/bb863c597a46895f87d2b67534c353f6\" rel=\"nofollow noreferrer\">https://codepen.io/team/amcharts/pen/bb863c597a46895f87d2b67534c353f6</a></p>\n\n<p>Now the function works whether synchronously or asynchronously, whether via <code>setTimeout</code> or via the button.</p>\n"}], "owner": {"reputation": 1590, "user_id": 1116812, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/029e67994e7784dd413458f27b68bcac?s=128&d=identicon&r=PG", "display_name": "Alien Technology", "link": "https://stackoverflow.com/users/1116812/alien-technology"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 393, "favorite_count": 0, "accepted_answer_id": 54018555, "answer_count": 2, "score": 1, "last_activity_date": 1546503323, "creation_date": 1546462485, "question_id": 54013053, "link": "https://stackoverflow.com/questions/54013053/how-to-add-series-on-external-event-in-amcharts-v4", "title": "How to add series on external event in amCharts v4?", "body": "<p>I have a simple amCharts v4 chart with a function that adds some series and axes.</p>\n\n<p>If I call the function from the script, the chart is displayed correctly, but if it is called externally from a button click or timeout, the legend displays but the series and axes do not.  Is there something extra that needs to be done if the series is added later?</p>\n\n<pre><code>var chart = am4core.create(\"chartdiv\", am4charts.XYChart);\n\nchart.data = generateChartData();\nchart.legend = new am4charts.Legend();\nchart.cursor = new am4charts.XYCursor();\n\n// Create axes\nvar dateAxis = chart.xAxes.push(new am4charts.DateAxis());\ndateAxis.renderer.minGridDistance = 50;\n\n// Create series\nfunction createAxisAndSeries(field, name, opposite, bullet) {\n  var valueAxis = chart.yAxes.push(new am4charts.ValueAxis());\n  var series = chart.series.push(new am4charts.LineSeries());\n  series.dataFields.valueY = field;\n  series.dataFields.dateX = \"date\";\n  series.strokeWidth = 2;\n  series.yAxis = valueAxis;\n  series.name = name;\n  series.tooltipText = \"{name}: [bold]{valueY}[/]\";\n  var interfaceColors = new am4core.InterfaceColorSet();\n}\n\nvar axisAndSeriesList = [];\nfunction addAxisAndSeries(name) {\n  if (name===\"Visits\") {\n    createAxisAndSeries(\"visits\", \"Visits\", false, \"circle\");  \n  } else if (name===\"Views\") {\n    createAxisAndSeries(\"views\", \"Views\", true, \"triangle\");\n  } else if (name===\"Hits\") {\n    createAxisAndSeries(\"hits\", \"Hits\", true, \"rectangle\");\n  } else {\n    console.warn('what is ' + name +'?');\n  }\n}\n\n// generate some random data, quite different range\nfunction generateChartData() {\n  var chartData = [];\n  var firstDate = new Date();\n  firstDate.setDate(firstDate.getDate() - 100);\n  firstDate.setHours(0, 0, 0, 0);\n\n  var visits = 1600;\n  var hits = 2900;\n  var views = 8700;\n\n  for (var i = 0; i &lt; 15; i++) {\n    var newDate = new Date(firstDate);\n    newDate.setDate(newDate.getDate() + i);\n\n    visits += Math.round((Math.random()&lt;0.5?1:-1)*Math.random()*10);\n    hits += Math.round((Math.random()&lt;0.5?1:-1)*Math.random()*10);\n    views += Math.round((Math.random()&lt;0.5?1:-1)*Math.random()*10);\n\n    chartData.push({date: newDate, visits: visits, hits: hits, views: views });\n  }\n  return chartData;\n}\n\nfunction addSeries() {\n  console.log('Add all 3 in the series');\n  addAxisAndSeries(\"Visits\");\n  addAxisAndSeries(\"Views\");\n  addAxisAndSeries(\"Hits\");\n}\n\n// These work\n// addAxisAndSeries(\"Visits\");\n// addAxisAndSeries(\"Views\");\n// addAxisAndSeries(\"Hits\");\n\n// This works\n// addSeries();  \n\n// This does not work\n// setTimeout(function(){\n//   addSeries();\n// }, 3000);\n\n// Clicking on \"Add series\" button does not work (from HTML)\n// &lt;input type=\"button\" onclick=\"addSeries()\" value=\"Add series\" /&gt;\n</code></pre>\n\n<p>See sample pen: <a href=\"https://codepen.io/anon/pen/YdYJKy?editors=0011\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/YdYJKy?editors=0011</a></p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 2134, "user_id": 1975187, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/368f973331f31762e44690a5a6ede844?s=128&d=identicon&r=PG", "display_name": "aahhaa", "link": "https://stackoverflow.com/users/1975187/aahhaa"}, "edited": false, "score": 0, "creation_date": 1546462547, "post_id": 54013046, "comment_id": 94862973, "body": "first of all ID can&#39;t start with number"}, {"owner": {"reputation": 113, "user_id": 7278073, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e6e4607602e013d9d10c476e840c0950?s=128&d=identicon&r=PG&f=1", "display_name": "User1010", "link": "https://stackoverflow.com/users/7278073/user1010"}, "reply_to_user": {"reputation": 2134, "user_id": 1975187, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/368f973331f31762e44690a5a6ede844?s=128&d=identicon&r=PG", "display_name": "aahhaa", "link": "https://stackoverflow.com/users/1975187/aahhaa"}, "edited": false, "score": 0, "creation_date": 1546678042, "post_id": 54013046, "comment_id": 94935302, "body": "is there no solution?"}, {"owner": {"reputation": 113, "user_id": 7278073, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e6e4607602e013d9d10c476e840c0950?s=128&d=identicon&r=PG&f=1", "display_name": "User1010", "link": "https://stackoverflow.com/users/7278073/user1010"}, "reply_to_user": {"reputation": 2134, "user_id": 1975187, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/368f973331f31762e44690a5a6ede844?s=128&d=identicon&r=PG", "display_name": "aahhaa", "link": "https://stackoverflow.com/users/1975187/aahhaa"}, "edited": false, "score": 0, "creation_date": 1547930274, "post_id": 54013046, "comment_id": 95365151, "body": "yep i guess we found a bug!"}], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 7278073, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e6e4607602e013d9d10c476e840c0950?s=128&d=identicon&r=PG&f=1", "display_name": "User1010", "link": "https://stackoverflow.com/users/7278073/user1010"}, "is_accepted": false, "score": 0, "last_activity_date": 1548582969, "creation_date": 1548582969, "answer_id": 54386899, "question_id": 54013046, "link": "https://stackoverflow.com/questions/54013046/show-hide-div-from-separate-links-multiple-boxes-issue/54386899#54386899", "title": "Show/hide div from separate links _ multiple boxes issue", "body": "<p>it's a official bug of the jquery! We found one guys ! YEEEHAA</p>\n"}], "owner": {"reputation": 113, "user_id": 7278073, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e6e4607602e013d9d10c476e840c0950?s=128&d=identicon&r=PG&f=1", "display_name": "User1010", "link": "https://stackoverflow.com/users/7278073/user1010"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1548582969, "creation_date": 1546462452, "last_edit_date": 1546462814, "question_id": 54013046, "link": "https://stackoverflow.com/questions/54013046/show-hide-div-from-separate-links-multiple-boxes-issue", "title": "Show/hide div from separate links _ multiple boxes issue", "body": "<p>I have managed to toggle a div with different links. But when i'm trying to make more boxes which the same it doesn't work anymore.</p>\n\n<p>Imagine I have like 10 entries - all separated divs 'entry'</p>\n\n<pre><code>  &lt;div class=\"entry\" id=\"1\"&gt;\n</code></pre>\n\n<p>where i want to separately hide and show content with multiple links.</p>\n\n<p>My Question is, I'm trying to fix this since 5 hours, but which one div entry its working, with more than one it is not working.</p>\n\n<p>I tried to use </p>\n\n<pre><code>$(\".entry\").each(function() {\n</code></pre>\n\n<p>Here is my code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $(\".entry\").each(function() {\r\n    var b4c = $('.lower_menu').html(); // content of box 4 so that we cn refer to it later\r\n    $(\".menu1,.menu2,.menu3\").click(function() {\r\n      var active_content = $(\".lower_menu\").data('content');\r\n      var cls = $(this).attr('class');\r\n      if (active_content == '') {\r\n        $(\".lower_menu\").html($(\".\" + cls + '_CONTENT').html())\r\n        $(\".lower_menu\").data('content', cls);\r\n      } else {\r\n        if (active_content == cls) {\r\n          $('.lower_menu').html(b4c).data('content', '');\r\n        } else {\r\n          $(\".lower_menu\").html($(\".\" + cls + '_CONTENT').html())\r\n          $(\".lower_menu\").data('content', cls);\r\n        }\r\n      }\r\n    });\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.menu1 {height:40px; background-color:red;}\r\n.menu2 {height:40px; background-color:green;}\r\n.menu3 {height:40px; background-color:blue;}\r\n\r\n.menu1_CONTENT {display:none; background-color:red;}\r\n.menu2_CONTENT {display:none; background-color:green;}\r\n.menu3_CONTENT {display:none; background-color:blue;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"entry\"&gt;\r\n  &lt;div class=\"menu1\"&gt;\r\n    &lt;span id=\"arrow_prod\" class=\"glyphicon glyphicon-chevron-down arrow\"&gt;&lt;/span&gt; Heading 1\r\n  &lt;/div&gt;\r\n  &lt;div class=\"menu2\"&gt;BOX 2&lt;/div&gt;\r\n  &lt;div class=\"menu3\"&gt;BOX 3&lt;/div&gt;\r\n\r\n  &lt;!-- data-content is to check do we have content or which boxes's content do we hv now --&gt;\r\n  &lt;div class=\"lower_menu\" data-content=\"\"&gt;&lt;/div&gt;\r\n  &lt;div class=\"menu1_CONTENT\"&gt;CONTENT FOR BOX 1&lt;/div&gt;\r\n  &lt;div class=\"menu2_CONTENT\"&gt;CONTENT FOR BOX 2&lt;/div&gt;\r\n  &lt;div class=\"menu3_CONTENT\"&gt;CONTENT FOR BOX 3&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"entry\"&gt;\r\n  &lt;div class=\"menu1\"&gt;BOX 1&lt;/div&gt;\r\n  &lt;div class=\"menu2\"&gt;BOX 2&lt;/div&gt;\r\n  &lt;div class=\"menu3\"&gt;BOX 3&lt;/div&gt;\r\n\r\n  &lt;!-- data-content is to check do we have content or which boxes's content do we hv now --&gt;\r\n  &lt;div class=\"lower_menu\" data-content=\"\"&gt;&lt;/div&gt;\r\n\r\n  &lt;div class=\"menu1_CONTENT\"&gt;CONTENT FOR BOX 1&lt;/div&gt;\r\n  &lt;div class=\"menu2_CONTENT\"&gt;CONTENT FOR BOX 2&lt;/div&gt;\r\n  &lt;div class=\"menu3_CONTENT\"&gt;CONTENT FOR BOX 3&lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>... and a <a href=\"https://jsfiddle.net/8u1wxw01/6/\" rel=\"nofollow noreferrer\">JSFiddle</a></p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 21838, "user_id": 1913729, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dGDss.png?s=128&g=1", "display_name": "blex", "link": "https://stackoverflow.com/users/1913729/blex"}, "edited": false, "score": 2, "creation_date": 1546462451, "post_id": 54012921, "comment_id": 94862940, "body": "Add <code>function</code> in front of <code>myfunction() {</code> to declare it. And change <code>visibility = &quot;visible&quot;</code> to <code>display = &quot;block&quot;</code> <i>(<code>visibility</code> and <code>display</code> are not the same thing)</i>. If that does not work, make sure your script is loaded before the HTML, or, even better, don&#39;t use <code>onclick=...</code> in your HTML, but <code>addEventListener</code> like this: <a href=\"http://jsfiddle.net/vb3fnr2x/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/vb3fnr2x/1</a>"}], "answers": [{"tags": [], "owner": {"reputation": 789, "user_id": 5479593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKVms.png?s=128&g=1", "display_name": "Void Spirit", "link": "https://stackoverflow.com/users/5479593/void-spirit"}, "is_accepted": false, "score": 0, "last_activity_date": 1546462930, "creation_date": 1546462930, "answer_id": 54013141, "question_id": 54012921, "link": "https://stackoverflow.com/questions/54012921/open-div-on-click-of-image/54013141#54013141", "title": "open div on click of image", "body": "<p><code>document.getElementById('Chatbot').style.display = \"block\";</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function myfunction() {\r\n  document.getElementById('Chatbot').style.display = \"block\";\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\r\n  &lt;a href=\"#Chatbot\" id=\"chat\" onclick=\"myfunction()\"&gt;\r\n    Some Image\r\n  &lt;/a&gt;\r\n\r\n  &lt;div id=\"Chatbot\" style=\"display:none\"&gt;\r\n\r\n    &lt;div id=\"header\"&gt;\r\n      Legal Genie\r\n      &lt;div class=\"icons\"&gt;\r\n        &lt;i class=\"fa fa-question-circle\" aria-hidden=\"true\"&gt;&lt;/i&gt;\r\n        &lt;i class=\"fa fa-refresh\" aria-hidden=\"true\"&gt;&lt;/i&gt;\r\n        &lt;i class=\"fa fa-times\" aria-hidden=\"true\"&gt;&lt;/i&gt;\r\n      &lt;/div&gt;\r\n\r\n    &lt;/div&gt;\r\n    &lt;div&gt;&lt;textarea rows=\"3\" cols=\"20\"&gt;Press enter to send your message&lt;/textarea&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 13857, "user_id": 4114907, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/08NXV.jpg?s=128&g=1", "display_name": "AndrewL64", "link": "https://stackoverflow.com/users/4114907/andrewl64"}, "is_accepted": false, "score": 0, "last_activity_date": 1546463253, "creation_date": 1546463253, "answer_id": 54013199, "question_id": 54012921, "link": "https://stackoverflow.com/questions/54012921/open-div-on-click-of-image/54013199#54013199", "title": "open div on click of image", "body": "<p>Avoid using <em>inline scripts</em> and also avoid capitalising the first letter of your ID or class name.</p>\n\n<p>Just add an event listener to your <code>#chat</code> anchor link that loads a function which sets the css <code>display</code> property of your div to <code>block</code> on click like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/* JavaScript */\r\nvar chat = document.getElementById(\"chat\");\r\nvar div = document.getElementById('chatbot');\r\n\r\nfunction showDiv(){\r\n\tdiv.style.display = \"block\";\r\n}\r\n\r\nchat.addEventListener(\"click\", showDiv);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>/* CSS */\r\na {text-decoration: none; padding: 5px; background-color: green; color: white;}\r\n#chatbot {display: none;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- HTML --&gt;\r\n&lt;a type=\"button\" href=\"#Chatbot\" id=\"chat\"&gt;Open Div&lt;/a&gt;\r\n&lt;hr&gt;\r\n&lt;div id=\"chatbot\"&gt;\r\n    &lt;div id=\"header\"&gt;\r\n      Legal Genie\r\n      &lt;div class=\"icons\"&gt;\r\n        &lt;i class=\"fa fa-question-circle\" aria-hidden=\"true\"&gt;&lt;/i&gt;\r\n        &lt;i class=\"fa fa-refresh\" aria-hidden=\"true\"&gt;&lt;/i&gt;\r\n        &lt;i class=\"fa fa-times\" aria-hidden=\"true\"&gt;&lt;/i&gt;\r\n      &lt;/div&gt;\r\n\r\n    &lt;/div&gt;\r\n    &lt;div&gt;&lt;textarea rows=\"3\" cols=\"20\"&gt;Press enter to send your message&lt;/textarea&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 10515075, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-i3dLC8HDSLE/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DVSZoT3eT2YRAnDE-g1YY9L92KClw/mo/photo.jpg?sz=128", "display_name": "Nahid Ul Islam", "link": "https://stackoverflow.com/users/10515075/nahid-ul-islam"}, "is_accepted": false, "score": -1, "last_activity_date": 1546468126, "last_edit_date": 1546468126, "creation_date": 1546467566, "answer_id": 54013917, "question_id": 54012921, "link": "https://stackoverflow.com/questions/54012921/open-div-on-click-of-image/54013917#54013917", "title": "open div on click of image", "body": "<p>It can be a simple way</p>\n\n<pre><code>&lt;script&gt;\n$( document ).ready(function() {\n    $('#chat').click( function(){\n        if ( $('#Chatbot').hasClass('active') ) {\n            $('#Chatbot').removeClass('active');\n        } else {\n            $('#Chatbot').addClass('active');\n        }\n});\n});\n&lt;/script&gt;\n</code></pre>\n\n<p>Add lil css</p>\n\n<pre><code>&lt;style&gt;\n.active {\ndisplay:block!important;\n}\n&lt;/style&gt;\n</code></pre>\n\n<p>Your HTML </p>\n\n<pre><code>&lt;body&gt;\n\n\n&lt;div id=\"chat\"&gt;\n    Some Image\n&lt;/div&gt;\n&lt;div id=\"Chatbot\"  style=\"display:none\"&gt;\n\n    &lt;div id=\"header\"&gt;\n        Legal Genie\n        &lt;div class=\"icons\"&gt;\n            &lt;i class=\"fa fa-question-circle\" aria-hidden=\"true\"&gt;&lt;/i&gt;\n            &lt;i class=\"fa fa-refresh\" aria-hidden=\"true\"&gt;&lt;/i&gt;\n            &lt;i class=\"fa fa-times\" aria-hidden=\"true\"&gt;&lt;/i&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n    &lt;div&gt;&lt;textarea rows=\"3\" cols=\"20\"&gt;Press enter to send your message&lt;/textarea&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 4567004, "user_type": "registered", "profile_image": "https://graph.facebook.com/100005965264574/picture?type=large", "display_name": "Ankita Goyal", "link": "https://stackoverflow.com/users/4567004/ankita-goyal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1546468126, "creation_date": 1546461878, "last_edit_date": 1546462006, "question_id": 54012921, "link": "https://stackoverflow.com/questions/54012921/open-div-on-click-of-image", "title": "open div on click of image", "body": "<p>I have a very simple module to develop. On click of an image I need to open up a div element that I have created.I have attached my HTML and javascript file.When I am loading the page the div wont be coming because I have given <code>style=\"display:none</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>myfunction() {\r\n  document.getElementById('Chatbot').style.visibility = \"visible\";\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\r\n  &lt;a href=\"#Chatbot\" id=\"chat\" onclick=\"myfunction()\"&gt;\r\n    &lt;img src=\"sticky.png\" style=\"width:50px;height:50px\"&gt;\r\n  &lt;/a&gt;\r\n\r\n  &lt;div id=\"Chatbot\" style=\"display:none\"&gt;\r\n\r\n    &lt;div id=\"header\"&gt;\r\n      Legal Genie\r\n      &lt;div class=\"icons\"&gt;\r\n        &lt;i class=\"fa fa-question-circle\" aria-hidden=\"true\"&gt;&lt;/i&gt;\r\n        &lt;i class=\"fa fa-refresh\" aria-hidden=\"true\"&gt;&lt;/i&gt;\r\n        &lt;i class=\"fa fa-times\" aria-hidden=\"true\"&gt;&lt;/i&gt;\r\n      &lt;/div&gt;\r\n\r\n    &lt;/div&gt;\r\n    &lt;div&gt;&lt;textarea rows=\"3\" cols=\"20\"&gt;Press enter to send your message&lt;/textarea&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "mongodb", "date", "mongoose", "momentjs"], "comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1546461851, "post_id": 54012888, "comment_id": 94862698, "body": "Please don&#39;t use bold, and certainly not bold + capitals. Also, not everyone can see images, post text instead."}, {"owner": {"reputation": 40100, "user_id": 6238977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBcTp.png?s=128&g=1", "display_name": "mickl", "link": "https://stackoverflow.com/users/6238977/mickl"}, "edited": false, "score": 1, "creation_date": 1546462654, "post_id": 54012888, "comment_id": 94863021, "body": "Could you paste <code>Post</code> schema and sample documents from that collection (code preferred rather than screenshots - easier to reproduce) ? Thanks"}, {"owner": {"reputation": 1361, "user_id": 8883385, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6263883831ff9f0f5632098295739207?s=128&d=identicon&r=PG&f=1", "display_name": "tilly", "link": "https://stackoverflow.com/users/8883385/tilly"}, "edited": false, "score": 1, "creation_date": 1546462805, "post_id": 54012888, "comment_id": 94863084, "body": "Hey Mickl, I&#39;ve added it to the original post"}, {"owner": {"reputation": 1361, "user_id": 8883385, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6263883831ff9f0f5632098295739207?s=128&d=identicon&r=PG&f=1", "display_name": "tilly", "link": "https://stackoverflow.com/users/8883385/tilly"}, "edited": false, "score": 0, "creation_date": 1546462891, "post_id": 54012888, "comment_id": 94863118, "body": "You mean samples form post or comment collection?"}], "answers": [{"comments": [{"owner": {"reputation": 1361, "user_id": 8883385, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6263883831ff9f0f5632098295739207?s=128&d=identicon&r=PG&f=1", "display_name": "tilly", "link": "https://stackoverflow.com/users/8883385/tilly"}, "edited": false, "score": 0, "creation_date": 1546463807, "post_id": 54013288, "comment_id": 94863489, "body": "You&#39;re an absolute god Mickl. thank you so much. I&#39;ve been stuck on this the entire day"}], "tags": [], "owner": {"reputation": 40100, "user_id": 6238977, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kBcTp.png?s=128&g=1", "display_name": "mickl", "link": "https://stackoverflow.com/users/6238977/mickl"}, "is_accepted": true, "score": 4, "last_activity_date": 1546463693, "creation_date": 1546463693, "answer_id": 54013288, "question_id": 54012888, "link": "https://stackoverflow.com/questions/54012888/cant-compare-moment-dates-in-mongodb/54013288#54013288", "title": "Can&#39;t compare moment dates in MongoDb", "body": "<p>So the problem here is that you have two collections, <code>posts</code> and <code>comments</code>. Based on your <code>Posts</code> schema, <code>comments</code> array contains only ids that reference documents that are stored in second collection. That's why you can check whether that array exists and is not empty but you can't refer directly to these elements.</p>\n\n<p>To fix that you can use <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/lookup/\" rel=\"nofollow noreferrer\">$lookup</a> to get those documents from <code>comments</code> into <code>posts</code> and then you can apply your date condition inside <a href=\"https://docs.mongodb.com/manual/reference/operator/aggregation/match/index.html\" rel=\"nofollow noreferrer\">$match</a>, try:</p>\n\n<pre><code>let posts = await Post.aggregate([\n    { $match: { comments: { $exists: true, $ne: [] }, _postedBy: userId } },\n    { $lookup: { from: \"comments\", localField: \"comments\", foreignField: \"_id\", as: \"comments\" } },\n    { $match: { 'comments.created_date': { $gte: todayForEvent } } }\n])\n</code></pre>\n"}], "owner": {"reputation": 1361, "user_id": 8883385, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6263883831ff9f0f5632098295739207?s=128&d=identicon&r=PG&f=1", "display_name": "tilly", "link": "https://stackoverflow.com/users/8883385/tilly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 54013288, "answer_count": 1, "score": 2, "last_activity_date": 1546463693, "creation_date": 1546461714, "last_edit_date": 1546463279, "question_id": 54012888, "link": "https://stackoverflow.com/questions/54012888/cant-compare-moment-dates-in-mongodb", "title": "Can&#39;t compare moment dates in MongoDb", "body": "<p>So my goal is to retrieve posts with comments that are placed today with Mongoose.</p>\n\n<p><strong>First, I create a start-of-the-day UTC current date object with:</strong></p>\n\n<pre><code>const todayForEvent = moment().startOf('day')\n  .utc().toDate();\n</code></pre>\n\n<p>this results in <code>2019-01-02T06:00:00.000Z</code></p>\n\n<p><strong>then I want to create a DB search with mongoose to fetch the posts where a comment has been placed today</strong></p>\n\n<pre><code>const posts = await Post.find({\n        // From this user...\n        $and: [\n          // Find normal posts that has comments (recent interactions)\n          { _posted_by: userId },\n          { comments: { $exists: true, $ne: [] } },\n          { 'comments.created_date': { $gte: todayForEvent } }\n    ]\n\n})\n</code></pre>\n\n<p><strong>Third, I have mongoose comment documents that have a property created_date</strong></p>\n\n<pre><code>const CommentSchema = new Schema({\n\n  created_date: {\n    type: Date,\n    default: moment().utc().toDate()\n  }\n\n});\n\nconst Comment = mongoose.model('Comment', CommentSchema);\n\nmodule.exports = Comment;\n</code></pre>\n\n<p><strong>This is the result document after placing a comment</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/7HSyZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7HSyZ.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Everything looks OK but for some reason the posts array is still empty after the database search, can someone please tell me what I did wrong</strong></p>\n\n<p><strong>EDIT: added post schema at request</strong></p>\n\n<pre><code>const mongoose = require('mongoose');\n\nconst { Schema } = mongoose;\n\nconst PostSchema = new Schema({\n  content: {\n    type: String,\n    trim: true\n  },\n  _content_mentions: [{\n    type: Schema.Types.ObjectId,\n    ref: 'User'\n  }],\n  type: {\n    type: String,\n    required: true,\n    enum: ['normal', 'event', 'task']\n  },\n  _liked_by: [{\n    type: Schema.Types.ObjectId,\n    ref: 'User'\n  }],\n  comments_count: {\n    type: Number,\n    default: 0\n  },\n  comments: [{\n    type: Schema.Types.ObjectId,\n    ref: 'Comment'\n  }],\n  _group: {\n    type: Schema.Types.ObjectId,\n    ref: 'Group',\n    required: true\n  },\n  _posted_by: {\n    type: Schema.Types.ObjectId,\n    ref: 'User',\n    required: true\n  },\n  task: {\n    due_to: {\n      type: String,\n      default: null\n    },\n    _assigned_to: {\n      type: Schema.Types.ObjectId,\n      ref: 'User'\n    },\n    status: {\n      type: String,\n      enum: ['to do', 'in progress', 'done']\n    }\n  },\n  event: {\n    due_to: {\n      type: Date,\n      default: null\n    },\n    _assigned_to: [{\n      type: Schema.Types.ObjectId,\n      ref: 'User'\n    }]\n  },\n  created_date: {\n    type: Date,\n    default: Date.now\n  },\n  files: [{\n    orignal_name: {\n      type: String,\n      default: null\n    },\n    modified_name: {\n      type: String,\n      default: null\n    }\n  }]\n});\n\nconst Post = mongoose.model('Post', PostSchema);\n\nmodule.exports = Post;\n</code></pre>\n\n<p><strong>EDIT 2: sample post document</strong></p>\n\n<pre><code>{ _id: 5c2d14c30176ac30204809a8,\n    task: { due_to: null },\n    event: { due_to: null, _assigned_to: [] },\n    _content_mentions: [],\n    _liked_by: [],\n    comments_count: 1,\n    comments: [ 5c2d14dc0176ac30204809ab ],\n    content: '&lt;p&gt;poging 5 duust&lt;/p&gt;',\n    type: 'normal',\n    _posted_by:\n     { _id: 5c292e0e63deb43d9434f664,\n       profile_pic: 'default_user.png',\n       first_name: 'Jaspet',\n       last_name: 'Houthoofd' },\n    _group: 5c292db763deb43d9434f660,\n    created_date: 2019-01-02T19:45:07.710Z,\n    files: [],\n    __v: 0,\n    liked_by: [] }\n</code></pre>\n\n<p>**EDIT 3: sample comment **</p>\n\n<pre><code>{ _content_mentions: [],\n  created_date: 2019-01-02T21:10:04.456Z,\n  _id: 5c2d28c251f2bd332cdeaf0a,\n  content: '&lt;p&gt;hehe&lt;/p&gt;',\n  _commented_by: 5c292db763deb43d9434f65f,\n  _post: 5c2d1dd254ca0429b470f000,\n  __v: 0 }\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 15, "user_id": 10830039, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A_5A9eUA91Y/AAAAAAAAAAI/AAAAAAAAAFo/oDUMLfyz9iY/photo.jpg?sz=128", "display_name": "Stuntman 82", "link": "https://stackoverflow.com/users/10830039/stuntman-82"}, "reply_to_user": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1546461888, "post_id": 54012857, "comment_id": 94862713, "body": "The image won&#39;t show up on the canvas"}, {"owner": {"reputation": 15, "user_id": 10830039, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A_5A9eUA91Y/AAAAAAAAAAI/AAAAAAAAAFo/oDUMLfyz9iY/photo.jpg?sz=128", "display_name": "Stuntman 82", "link": "https://stackoverflow.com/users/10830039/stuntman-82"}, "reply_to_user": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1546462271, "post_id": 54012857, "comment_id": 94862868, "body": "I am doing all of this in Dreamweaver and i have one error, which i don;t think means anything. The error is that, the function startGame() is defined but never used. I do not think that is correct"}], "answers": [{"tags": [], "owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "is_accepted": true, "score": 0, "last_activity_date": 1546462832, "creation_date": 1546462832, "answer_id": 54013120, "question_id": 54012857, "link": "https://stackoverflow.com/questions/54012857/why-is-this-image-not-showing-up-on-my-canvas/54013120#54013120", "title": "Why is this image not showing up on My Canvas?", "body": "<p>The problem is that you need an <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLImageElement/Image\" rel=\"nofollow noreferrer\"><code>Image</code></a> object to draw. See the documentation for <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/drawImage\" rel=\"nofollow noreferrer\"><code>drawImage</code></a>.</p>\n\n<p>You are using <code>createElement</code>, but passing it a string of <code>\"myImg\"</code> which isn't a valid tag. You should create the <code>Image</code> object instead and set its source and load events like you were doing:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var c = document.getElementById(\"myCanvas\");\r\nvar ctx = c.getContext(\"2d\");\r\nvar GamePiece;\r\n\r\n\r\nfunction startGame() {\r\n  \"use strict\";\r\n  var grd = ctx.createLinearGradient(0, 200, 0, 0);\r\n  grd.addColorStop(1, \"#85E2FF\");\r\n  grd.addColorStop(0, \"blue\");\r\n\r\n  ctx.fillStyle = grd;\r\n  ctx.fillRect(0, 0, 1300, 600);\r\n\r\n  GamePiece = new Image(175, 175);\r\n\r\n  GamePiece.onload = function() {\r\n    ctx.drawImage(this, 70, 70);\r\n  };\r\n\r\n  GamePiece.src = \"https://via.placeholder.com/175\";\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;center&gt;\r\n  &lt;canvas id=\"myCanvas\" width=\"300\" height=\"300\"&gt;&lt;/canvas&gt;\r\n  &lt;button onClick=\"startGame()\" id=\"Play\"&gt;Play Now&lt;/button&gt;\r\n&lt;/center&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 10830039, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-A_5A9eUA91Y/AAAAAAAAAAI/AAAAAAAAAFo/oDUMLfyz9iY/photo.jpg?sz=128", "display_name": "Stuntman 82", "link": "https://stackoverflow.com/users/10830039/stuntman-82"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 54013120, "answer_count": 1, "score": 0, "last_activity_date": 1546462832, "creation_date": 1546461515, "last_edit_date": 1546462514, "question_id": 54012857, "link": "https://stackoverflow.com/questions/54012857/why-is-this-image-not-showing-up-on-my-canvas", "title": "Why is this image not showing up on My Canvas?", "body": "<p>I am java script and html learner, i still don't know everything yet. The problem i am having is that my image is not showing up on the canvas. (There is a gradient). </p>\n\n<p>I looked online and couldn't find anything of need.\nHere is the HTML and Java Script code i am using</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var c = document.getElementById(\"myCanvas\");\r\nvar ctx = c.getContext(\"2d\");\r\nvar GamePiece;\r\n\r\n\r\nfunction startGame() {\r\n  \"use strict\";\r\n  var grd = ctx.createLinearGradient(0, 200, 0, 0);\r\n  grd.addColorStop(1, \"#85E2FF\");\r\n  grd.addColorStop(0, \"blue\");\r\n\r\n  ctx.fillStyle = grd;\r\n  ctx.fillRect(0, 0, 1300, 600);\r\n\r\n  GamePiece = document.createElement(\"myImg\");\r\n  GamePiece.setAttribute(\"width\", \"175\");\r\n  GamePiece.setAttribute(\"height\", \"175\");\r\n\r\n  GamePiece.onload = function() {\r\n    ctx.drawImage(GamePiece, 70, 70);\r\n  };\r\n\r\n  GamePiece.src = \"GamePiece.png\";\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;meta charset=\"utf-8\"&gt;\r\n  &lt;title&gt;Demo&lt;/title&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"Demo.css\"&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n\r\n  &lt;div&gt;\r\n    &lt;div class=\"Header\" id=\"MyHeader\"&gt;\r\n      &lt;a href=\"MyGame.html\"&gt;Home&lt;/a&gt;\r\n      &lt;a class=\"active\" href=\"Demo.html\"&gt; JavaScript Game &lt;/a&gt;\r\n      &lt;div id=\"Header-right\"&gt;\r\n        &lt;a href=\"About\"&gt; About &lt;/a&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"Title\"&gt;\r\n    &lt;h1&gt; Game Purely Made from JavaScript &lt;/h1&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;center&gt;\r\n    &lt;canvas id=\"myCanvas\"&gt;&lt;/canvas&gt;\r\n    &lt;button onClick=\"startGame()\" id=\"Play\"&gt;Play Now&lt;/button&gt;\r\n  &lt;/center&gt;\r\n\r\n  &lt;script src=\"Demo.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any Help would be appreciated</p>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 3, "creation_date": 1546461633, "post_id": 54012850, "comment_id": 94862592, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2722159/javascript-how-to-filter-object-array-based-on-attributes\">Javascript: How to filter object array based on attributes?</a>"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 1, "creation_date": 1546461635, "post_id": 54012850, "comment_id": 94862593, "body": "please add the wanted result as well. what have you tried?"}, {"owner": {"reputation": 9141, "user_id": 2652759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb993f3435e19380a9ac6c688310a261?s=128&d=identicon&r=PG", "display_name": "quirimmo", "link": "https://stackoverflow.com/users/2652759/quirimmo"}, "edited": false, "score": 1, "creation_date": 1546461745, "post_id": 54012850, "comment_id": 94862652, "body": "what does &quot;text of ild&quot; mean?"}, {"owner": {"reputation": 3407, "user_id": 3220603, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e9d9aa93189d249900811f30b2503d9b?s=128&d=identicon&r=PG&f=1", "display_name": "lucas", "link": "https://stackoverflow.com/users/3220603/lucas"}, "edited": false, "score": 0, "creation_date": 1546461823, "post_id": 54012850, "comment_id": 94862687, "body": "&#39;text&#39; is a property, and &#39;ild&#39; is a text used for searching. As an example &#39;Child node...&#39; contains word &#39;ild&#39;"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1546461835, "post_id": 54012850, "comment_id": 94862692, "body": "<code>1_0</code> is not valid JavaScript. Is that actually a string?"}], "answers": [{"tags": [], "owner": {"reputation": 3019, "user_id": 2267308, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3ccd718e4b5bbc237a6d1c186495d62e?s=128&d=identicon&r=PG", "display_name": "Jakob E", "link": "https://stackoverflow.com/users/2267308/jakob-e"}, "is_accepted": false, "score": 0, "last_activity_date": 1546461887, "creation_date": 1546461887, "answer_id": 54012924, "question_id": 54012850, "link": "https://stackoverflow.com/questions/54012850/parsing-array-of-objects/54012924#54012924", "title": "Parsing array of objects", "body": "<p>Something like:</p>\n\n<pre><code>const elements = data.filter(item =&gt; item.parentId);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 9141, "user_id": 2652759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb993f3435e19380a9ac6c688310a261?s=128&d=identicon&r=PG", "display_name": "quirimmo", "link": "https://stackoverflow.com/users/2652759/quirimmo"}, "is_accepted": true, "score": 3, "last_activity_date": 1546461910, "creation_date": 1546461910, "answer_id": 54012935, "question_id": 54012850, "link": "https://stackoverflow.com/questions/54012850/parsing-array-of-objects/54012935#54012935", "title": "Parsing array of objects", "body": "<p>If you are looking for all the children, you have a better property to get them.</p>\n\n<p>That's the <code>parentId</code>. If the <code>parentId</code> is specified, then they are children. </p>\n\n<p>So filter the data input looking for the ones with <code>parentId</code> property specified.</p>\n\n<p>Below there is also the case looking for 'ild' in text as you asked.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [\r\n  {\r\n    treeViewKey:0,\r\n    id: 1,\r\n    text: 'Root Node 1'\r\n  }, \r\n  {\r\n    treeViewKey:1,\r\n    id: 2,\r\n    text: 'Root Node 2'\r\n  }, \r\n  {\r\n    treeViewKey:'1_0',\r\n    id: 3,\r\n    parentId: 2,\r\n    text: 'Child node of Root Node 2'\r\n  }, {\r\n    treeViewKey:'1_1',\r\n    id: 4,\r\n    parentId: 2,\r\n    text: 'Child node of Root Node 2'\r\n  }, {\r\n    treeViewKey:'1_2_0',\r\n    id: 5,\r\n    parentId: 4,\r\n    text: 'Child node of Root Node 2'\r\n  }\r\n];\r\n\r\n// filter the elements with parentId property\r\nconsole.log(data.filter(el =&gt; el.parentId));\r\n// filter the elements with 'ild' string in text property\r\nconsole.log(data.filter(el =&gt; el.text.includes('ild')));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3407, "user_id": 3220603, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/e9d9aa93189d249900811f30b2503d9b?s=128&d=identicon&r=PG&f=1", "display_name": "lucas", "link": "https://stackoverflow.com/users/3220603/lucas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 54012935, "answer_count": 2, "score": -3, "last_activity_date": 1546461910, "creation_date": 1546461487, "last_edit_date": 1546461762, "question_id": 54012850, "link": "https://stackoverflow.com/questions/54012850/parsing-array-of-objects", "title": "Parsing array of objects", "body": "<p>How to parse an array of objects, so I would end up with an array of all elements containing 'text' of 'ild'.</p>\n\n<p>Here is a sample array:</p>\n\n<pre><code>public data: any[] = [\n  {\n    treeViewKey:0,\n    id: 1,\n    text: 'Root Node 1'\n  }, {\n    treeViewKey:1,\n    id: 2,\n    text: 'Root Node 2'\n  }, {\n    treeViewKey:1_0,\n    id: 3,\n    parentId: 2,\n    text: 'Child node of Root Node 2'\n  }, {\n    treeViewKey:1_1,\n    id: 4,\n    parentId: 2,\n    text: 'Child node of Root Node 2'\n  }, {\n    treeViewKey:1_2_0,\n    id: 5,\n    parentId: 4,\n    text: 'Child node of Root Node 2'\n  }\n];\n</code></pre>\n\n<p>I should end up with 3 elements. What would be the best method to achieve that in javascript or typescript? </p>\n\n<p>The final result should be:</p>\n\n<pre><code>      [\n    {\n    treeViewKey:1_0,\n    id: 3,\n    parentId: 2,\n    text: 'Child node of Root Node 2'\n  }, {\n    treeViewKey:1_1,\n    id: 4,\n    parentId: 2,\n    text: 'Child node of Root Node 2'\n  }, {\n    treeViewKey:1_2_0,\n    id: 5,\n    parentId: 4,\n    text: 'Child node of Root Node 2'\n  }\n]\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "angular", "mongodb", "mongoose"], "comments": [{"owner": {"reputation": 440, "user_id": 9174729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3e7e86f8f318993466f0f8b787aff48?s=128&d=identicon&r=PG&f=1", "display_name": "Mannaroth", "link": "https://stackoverflow.com/users/9174729/mannaroth"}, "edited": false, "score": 0, "creation_date": 1546462018, "post_id": 54012765, "comment_id": 94862759, "body": "so will the data coming from the client side look like this: [{&quot;name&quot;: &quot;google&quot;}, {&quot;name&quot;: &quot;SQL Server&quot;}]"}, {"owner": {"reputation": 31, "user_id": 7228116, "user_type": "registered", "profile_image": "https://graph.facebook.com/722150174606816/picture?type=large", "display_name": "Harish Kumar", "link": "https://stackoverflow.com/users/7228116/harish-kumar"}, "reply_to_user": {"reputation": 440, "user_id": 9174729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3e7e86f8f318993466f0f8b787aff48?s=128&d=identicon&r=PG&f=1", "display_name": "Mannaroth", "link": "https://stackoverflow.com/users/9174729/mannaroth"}, "edited": false, "score": 0, "creation_date": 1546462219, "post_id": 54012765, "comment_id": 94862849, "body": "Just updated code snippet can u pls look into it..."}], "answers": [{"tags": [], "owner": {"reputation": 440, "user_id": 9174729, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b3e7e86f8f318993466f0f8b787aff48?s=128&d=identicon&r=PG&f=1", "display_name": "Mannaroth", "link": "https://stackoverflow.com/users/9174729/mannaroth"}, "is_accepted": false, "score": 1, "last_activity_date": 1546462744, "last_edit_date": 1546462744, "creation_date": 1546462381, "answer_id": 54013034, "question_id": 54012765, "link": "https://stackoverflow.com/questions/54012765/how-can-i-store-dynamic-object-array-in-mongodb-using-mongoose/54013034#54013034", "title": "How can I store dynamic object array in mongodb using Mongoose?", "body": "<p>Make a mongoose model like so:</p>\n\n<pre><code>const certificationSchema = new Schema({\n    name: {\n        type: String,\n        required: true,\n        minlength: 3,\n        maxlength: 255,\n    }\n});\n\nmodule.exports = mongoose.model('certification', certificationSchema);\n</code></pre>\n\n<p>in API route:</p>\n\n<pre><code>// certification.js\n\nconst Certification = require('../models/Certification');\n\n// req.body = [{\"name\": \"google\"}, {\"name\": \"SQL Server\"}]\n\nrouter.post('/', (req, res, next) =&gt; {\n        // Model.insertMany() inserts an array of documents into a MongoDB collection should all of them be validated\n        Certification.insertMany(req.body)\n        .then((certification) =&gt; {\n            if (certification) {\n                   res.json(certification);\n            } else {\n                return next(new Error('Insertion failed'));\n            }\n        }).catch((err) =&gt; {\n            next(err['message']);\n        })\n});\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 7228116, "user_type": "registered", "profile_image": "https://graph.facebook.com/722150174606816/picture?type=large", "display_name": "Harish Kumar", "link": "https://stackoverflow.com/users/7228116/harish-kumar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 293, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546462744, "creation_date": 1546461031, "last_edit_date": 1546462124, "question_id": 54012765, "link": "https://stackoverflow.com/questions/54012765/how-can-i-store-dynamic-object-array-in-mongodb-using-mongoose", "title": "How can I store dynamic object array in mongodb using Mongoose?", "body": "<p>I want to store data object array into mongodb as below format.</p>\n\n<p>'</p>\n\n<pre><code>certifications' = {\n                                  'certification1' = { 'name': ' SQL Server'},\n  'certification2' = { 'name': 'Angular'},\n....\n}\n</code></pre>\n\n<p>Like wise I want to store data into monogodb field array.</p>\n\n<p>Certiftication3, certifications4 it is dynamic it comes from client side.</p>\n\n<p>How to acheive that functionality please help me...</p>\n"}, {"tags": ["javascript", "jquery", "session-cookies", "shopping-cart"], "comments": [{"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 0, "creation_date": 1546461034, "post_id": 54012719, "comment_id": 94862352, "body": "Consider using <code>data</code> properties and a generic function that can use that data via jQuery rather than stamping out a function per entry here that&#39;s 99% the same as the others."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 1, "creation_date": 1546461078, "post_id": 54012719, "comment_id": 94862382, "body": "Also since you&#39;re using jQuery, use jQuery. Don&#39;t mess around with the core JavaScript methods like <code>document.getElementById(&quot;JasMin&quot;).innerHTML</code>, when instead you can do the much more concise <code>$(&#39;#JasMin&#39;).html()</code>"}], "owner": {"reputation": 1, "user_id": 10856339, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JMv3nPGJO4s/AAAAAAAAAAI/AAAAAAAAACI/33EwbWuWJS8/photo.jpg?sz=128", "display_name": "Chasten Musenda", "link": "https://stackoverflow.com/users/10856339/chasten-musenda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546460820, "creation_date": 1546460820, "question_id": 54012719, "link": "https://stackoverflow.com/questions/54012719/variables-in-another-file-wont-display-as-an-li-in-shopping-cart-page", "title": "Variables in another file won&#39;t display as an &lt;li&gt; in shopping cart page", "body": "<p>There are two main problems. First, I'm having trouble displaying the value of the item which should vary depending on the button selected. The innerHTML of the selected h3 element is supposed to enter into sessionStorage when activated from the source file. Then it's value goes to the receiving file as variable \"ai\" which will be appended as an li element into the unordered list of the page. The Second concern is the other function that the button in the source file performs. It's purpose is to alert that the item has been added to the shopping cart, but the function only displays in jsfiddle and not on glitch.com; where I'm creating the website. I believe it has something to do with the version of jquery the function uses or the source code. Any help on either of these is greatly appreciated.</p>\n\n<p>Here is the source file...</p>\n\n<p>Javascript/JQuery:</p>\n\n<pre><code>&lt;script&gt;\n    $(document).ready(function() {\n        var button = \"none\";\n        $(\".button\").click(function() {\n            button = $(this).attr(\"data-name\");\n            alert(button);\n        });\n    });  \n    function setWinHon() {\n      var i = document.getElementById(\"WinHon\").innerHTML;\n      sessionStorage.setItem(\"item\", i);\n    }\n    function setGolRod() {\n      var i = document.getElementById(\"GolRod\").innerHTML;\n      sessionStorage.setItem(\"item\", i);\n    }\n    function setMexPlu() {\n      var i = document.getElementById(\"MexPlu\").innerHTML;\n      sessionStorage.setItem(\"item\", i);\n    }\n    function setJasMin() {\n      var i = document.getElementById(\"JasMin\").innerHTML;\n      sessionStorage.setItem(\"item\", i);\n    }\n    function setCriTru() {\n      var i = document.getElementById(\"CriTru\").innerHTML;\n      sessionStorage.setItem(\"item\", i);\n    }\n&lt;/script&gt;\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;/head&gt;\n  &lt;body&gt;\n    &lt;center&gt;\n      &lt;div id=\"text\"&gt;\n        &lt;div&gt;\n          &lt;div&gt;\n            &lt;h3 id=\"WinHon\"&gt;Winter Honeysuckle $50&lt;/h3&gt;        \n            &lt;ul style=\"list-style-type:none\" class=\"align\" align=\"left\"&gt;\n              &lt;li&gt;Height:&lt;/li&gt;\n              &lt;li&gt;Width:&lt;/li&gt;\n              &lt;li&gt;Maintenance:&lt;/li&gt;\n              &lt;li&gt;Environment:&lt;/li&gt;\n              &lt;li&gt;Nomenclature:&lt;/li&gt;\n            &lt;/ul&gt;\n            &lt;p class=\"div1\"&gt;Lonicera fragrantissima is a species of flowering plant in the honeysuckle family known by the common names winter honeysuckle, fragrant honeysuckle, January jasmine, Chinese honeysuckle, kiss-me-at-the-gate, and sweet breath of spring. \n            &lt;button class=\"button\" type=\"button\" onclick=\"setWinHon()\" data-name=\"Winter Honeysuckle\"&gt;Buy Now!&lt;/button&gt;&lt;/p&gt;\n          &lt;/div&gt;\n          &lt;img src=\"https://cdn.glitch.com/9c36ac94-6707-41ee-a6b7-a39f46cd02e3%2FWinter%20Honeysuckle.jfif?1544561317954\"&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;div&gt;\n            &lt;h3 id=\"GolRod\"&gt;Goldenrod $10&lt;/h3&gt;\n            &lt;ul style=\"list-style-type:none\" class=\"align\" align=\"left\"&gt;\n              &lt;li&gt;Height:&lt;/li&gt;\n              &lt;li&gt;Width:&lt;/li&gt;\n              &lt;li&gt;Maintenance:&lt;/li&gt;\n              &lt;li&gt;Environment:&lt;/li&gt;\n              &lt;li&gt;Nomenclature:&lt;/li&gt;\n            &lt;/ul&gt;\n            &lt;p class=\"div1\"&gt;Solidago, commonly called goldenrods, is a genus of about 100 to 120 species of flowering plants in the aster family, Asteraceae. Most are \n          herbaceous perennial species found in open areas such as meadows, prairies, and savannas.\n        &lt;button class=\"button\" type=\"button\" onclick=\"setGolRod()\" data-name=\"Goldenrod\"&gt;Buy Now!&lt;/button&gt;&lt;/p&gt;\n          &lt;/div&gt;\n          &lt;img src=\"https://cdn.glitch.com/9c36ac94-6707-41ee-a6b7-a39f46cd02e3%2FGoldenrod.jpg?1544630990872\"&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;div&gt;\n            &lt;h3 id=\"MexPlu\"&gt;Mexican Plum $30&lt;/h3&gt;\n            &lt;ul style=\"list-style-type:none\" class=\"align\" align=\"left\"&gt;\n              &lt;li&gt;Height:&lt;/li&gt;\n              &lt;li&gt;Width:&lt;/li&gt;\n              &lt;li&gt;Maintenance:&lt;/li&gt;\n              &lt;li&gt;Environment:&lt;/li&gt;\n              &lt;li&gt;Nomenclature:&lt;/li&gt;\n            &lt;/ul&gt;\n            &lt;p class=\"div1\"&gt;Prunus mexicana, commonly known as the Mexican plum, is a North American species of plum tree that can be found in the central United States and \n          Northern Mexico. Its native range stretches from Coahuila and San Luis Potos\u00ed north as far as Wisconsin and South Dakota, east to Georgia, \n          Kentucky, and Ohio.\n            &lt;button class=\"button\" type=\"button\" onclick=\"setMexPlu()\" data-name=\"Mexican Plum\"&gt;Buy Now!&lt;/button&gt;&lt;/p&gt;\n          &lt;/div&gt;\n          &lt;img src=\"https://cdn.glitch.com/9c36ac94-6707-41ee-a6b7-a39f46cd02e3%2FMexican%20Plum.jfif?1544631101080\"&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;div&gt;\n            &lt;h3 id=\"JasMin\"&gt;Jasmine $20&lt;/h3&gt;\n            &lt;ul style=\"list-style-type:none\" class=\"align\" align=\"left\"&gt;\n              &lt;li&gt;Height:&lt;/li&gt;\n              &lt;li&gt;Width:&lt;/li&gt;\n              &lt;li&gt;Maintenance:&lt;/li&gt;\n              &lt;li&gt;Environment:&lt;/li&gt;\n              &lt;li&gt;Nomenclature:&lt;/li&gt;\n            &lt;/ul&gt;\n            &lt;p class=\"div1\"&gt;Jasmine is a genus of shrubs and vines in the olive family. It contains around 200 species native to tropical and warm temperate regions of \n            Eurasia, Australasia and Oceania. Jasmines are widely cultivated for the characteristic fragrance of their flowers.\n            &lt;button class=\"button\" type=\"button\" onclick=\"setJasMin()\" data-name=\"Jasmine\"&gt;Buy Now!&lt;/button&gt;&lt;/p&gt;\n          &lt;/div&gt;\n          &lt;img src=\"https://cdn.glitch.com/9c36ac94-6707-41ee-a6b7-a39f46cd02e3%2FJasmine.jpg?1544631121391\"&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;div&gt;\n            &lt;h3 id=\"CriTru\"&gt;Crimson Trumpet $15&lt;/h3&gt;\n            &lt;ul style=\"list-style-type:none\" class=\"align\" align=\"left\"&gt;\n              &lt;li&gt;Height:&lt;/li&gt;\n              &lt;li&gt;Width:&lt;/li&gt;\n              &lt;li&gt;Maintenance:&lt;/li&gt;\n              &lt;li&gt;Environment:&lt;/li&gt;\n              &lt;li&gt;Nomenclature:&lt;/li&gt;\n            &lt;/ul&gt;\n            &lt;p class=\"div1\"&gt;Lonicera sempervirens is a species of honeysuckle native to the eastern United States. It can grow in many areas due to its hardiness. It is most\n          often grown as a plant for wildlife. Ruby-throated hummingbirds use it in their natural range as well as other birds, butterflies, and bees.\n            &lt;button class=\"button\" id=\"button5\" type=\"button\" onclick=\"setCriTru()\" data-name=\"Crimson Trumpet\"&gt;Buy Now!&lt;/button&gt;&lt;/p&gt;\n          &lt;/div&gt;\n          &lt;img src=\"https://cdn.glitch.com/9c36ac94-6707-41ee-a6b7-a39f46cd02e3%2FTrumpet%20Honeysuckle.jpg?1545705756174\"&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;  \n    &lt;/center&gt;  \n  &lt;/body&gt;\n</code></pre>\n\n<p>Here is the shopping cart (receiving file)...</p>\n\n<pre><code>&lt;head&gt;\n    &lt;script&gt;\n      function appendItems() {\n          var ai = sessionStorage.getItem(\"item\");\n          ai = $(\"&lt;li&gt;&lt;/li&gt;\").text(\"Text.\");\n          $(\"ul\").append(ai);\n          }\n    &lt;/script&gt;\n    &lt;div style=\"text-align:center;\"&gt;\n      &lt;h1&gt;Shopping list&lt;/h1&gt;\n      &lt;p&gt;So far you have ordered...&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;ul id=\"list\"&gt;\n      &lt;li&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n  &lt;/body&gt;\n</code></pre>\n\n<p>The shopping cart should produce an li element containing the value called by whichever button is selected and the button selected should alert \"plantname\" &amp; \" has now been added to your shopping cart!\". However, nothing currently happens when the button is clicked</p>\n"}, {"tags": ["javascript", "jquery", "360-degrees"], "answers": [{"tags": [], "owner": {"reputation": 90691, "user_id": 51685, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vVhK5.jpg?s=128&g=1", "display_name": "AKX", "link": "https://stackoverflow.com/users/51685/akx"}, "is_accepted": false, "score": 1, "last_activity_date": 1546460813, "creation_date": 1546460813, "answer_id": 54012717, "question_id": 54012689, "link": "https://stackoverflow.com/questions/54012689/javascript-360-spinning-with-obj-file/54012717#54012717", "title": "JavaScript 360 spinning with OBJ file", "body": "<p>Yes.</p>\n\n<p>The most well-known framework is Three.js, which just so happens to <a href=\"https://threejs.org/examples/?q=obj#webgl_loader_obj2\" rel=\"nofollow noreferrer\">come with an .obj loading example</a> with a model you can spin around.</p>\n\n<p>Adding hot spots would involve adding hot spots like in <a href=\"https://threejs.org/examples/#webgl_interactive_cubes\" rel=\"nofollow noreferrer\">some of the interactivity demos</a>.</p>\n"}], "owner": {"reputation": 1382, "user_id": 1504611, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sch20.png?s=128&g=1", "display_name": "Wally Kolcz", "link": "https://stackoverflow.com/users/1504611/wally-kolcz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 277, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1546460813, "creation_date": 1546460654, "question_id": 54012689, "link": "https://stackoverflow.com/questions/54012689/javascript-360-spinning-with-obj-file", "title": "JavaScript 360 spinning with OBJ file", "body": "<p>I know this is a bad place to ask a generic question but i am working on a project where the designer would like a 360 degree rotating image of a vehicle and I am sure they will be giving me a 3D model (probably .obj). I need it to spin front, side, to back and not top to bottom or in the Z-space.</p>\n\n<p>I have looked at a lot of 360 spinners and they like between 72-360 images to create the effect. </p>\n\n<p>Does anyone know if a 360 degree spin can be done with JS using a OBJ and, bonus points, can hot spots be added to it? </p>\n\n<p>Thank you and let know if anyone has had this issue before.</p>\n"}, {"tags": ["javascript", "arrays", "reactjs", "filter"], "answers": [{"comments": [{"owner": {"reputation": 9141, "user_id": 2652759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb993f3435e19380a9ac6c688310a261?s=128&d=identicon&r=PG", "display_name": "quirimmo", "link": "https://stackoverflow.com/users/2652759/quirimmo"}, "edited": false, "score": 0, "creation_date": 1546461120, "post_id": 54012683, "comment_id": 94862403, "body": "I think your field in case of vip should be <code>username</code>"}, {"owner": {"reputation": 137, "user_id": 10286133, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mmyqYZwdqN4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMs5chZ4Qo1Nt9_PdeBcCFqhHO3og/mo/photo.jpg?sz=128", "display_name": "susu watari", "link": "https://stackoverflow.com/users/10286133/susu-watari"}, "edited": false, "score": 0, "creation_date": 1546470713, "post_id": 54012683, "comment_id": 94865867, "body": "how can I get the value of type? after .find"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "reply_to_user": {"reputation": 137, "user_id": 10286133, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mmyqYZwdqN4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMs5chZ4Qo1Nt9_PdeBcCFqhHO3og/mo/photo.jpg?sz=128", "display_name": "susu watari", "link": "https://stackoverflow.com/users/10286133/susu-watari"}, "edited": false, "score": 0, "creation_date": 1546470947, "post_id": 54012683, "comment_id": 94865936, "body": "@susuwatari: I don&#39;t understand the question."}], "tags": [], "owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "is_accepted": false, "score": 2, "last_activity_date": 1546462674, "last_edit_date": 1546462674, "creation_date": 1546460612, "answer_id": 54012683, "question_id": 54012652, "link": "https://stackoverflow.com/questions/54012652/javascript-filter-an-array-of-objects-by-a-property-of-object/54012683#54012683", "title": "Javascript filter an array of objects by a property of object", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\"><code>find</code></a> or <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\" rel=\"nofollow noreferrer\"><code>findIndex</code></a>:</p>\n\n<pre><code>userList.filter(user =&gt; vips.find(vip =&gt; vip.username === user.name));\n</code></pre>\n\n<p><code>find</code> returns <code>undefined</code> if the value cannot be found in the array, so those are filtered out.</p>\n\n<p>If you do this a lot and/or have a large data set, you should build a set of names first:</p>\n\n<pre><code>const vipNames = new Set(vips.map(vip =&gt; vip.username));\n\nuserList.filter(user =&gt; vipNames.has(user.name));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 1, "last_activity_date": 1546460846, "creation_date": 1546460846, "answer_id": 54012726, "question_id": 54012652, "link": "https://stackoverflow.com/questions/54012652/javascript-filter-an-array-of-objects-by-a-property-of-object/54012726#54012726", "title": "Javascript filter an array of objects by a property of object", "body": "<p>You could take a <code>Map</code> and get the wanted objects.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var state = { userList: [{ name: \"Ann\", number: 123456789 }, { name: \"Cathy\", number: 123456789 }, { name: \"Peter\", number: 123456789 }, { name: \"Ben\", number: 123456789 }], vips: [{ username: \"Ann\", years: 2018 }, { username: \"Peter\", years: 2019 }] },\r\n    user = new Map(state.userList.map(o =&gt; [o.name, o])),\r\n    vips = state.vips.map(({ username }) =&gt; user.get(username));\r\n    \r\nconsole.log(vips);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or take a shorter approach with a double mapping</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var state = { userList: [{ name: \"Ann\", number: 123456789 }, { name: \"Cathy\", number: 123456789 }, { name: \"Peter\", number: 123456789 }, { name: \"Ben\", number: 123456789 }], vips: [{ username: \"Ann\", years: 2018 }, { username: \"Peter\", years: 2019 }] },\r\n    vips = state.vips\r\n        .map(({ username }) =&gt; username)\r\n        .map(Map.prototype.get, new Map(state.userList.map(o =&gt; [o.name, o])));\r\n    \r\nconsole.log(vips);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 9141, "user_id": 2652759, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/cb993f3435e19380a9ac6c688310a261?s=128&d=identicon&r=PG", "display_name": "quirimmo", "link": "https://stackoverflow.com/users/2652759/quirimmo"}, "is_accepted": false, "score": 2, "last_activity_date": 1546461477, "creation_date": 1546461477, "answer_id": 54012847, "question_id": 54012652, "link": "https://stackoverflow.com/questions/54012652/javascript-filter-an-array-of-objects-by-a-property-of-object/54012847#54012847", "title": "Javascript filter an array of objects by a property of object", "body": "<p>You can use a <code>reduce</code> and get the users in <code>userList</code> which are also in <code>vips</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = {\r\n    userList: [\r\n        { name:\"Ann\", number:123456789 },\r\n        { name:\"Cathy\", number:123456789 },\r\n        { name:\"Peter\", number:123456789 },\r\n        { name:\"Ben\", number:123456789 },\r\n    ],\r\n    vips: [ \r\n        { username:\"Ann\", years:2018 },\r\n        { username:\"Peter\", years:2019 },\r\n    ]\r\n};\r\n\r\nconsole.log(input.userList.reduce((acc, val) =&gt; { \r\n  if(!!input.vips.find(vip =&gt; vip.username === val.name)) { \r\n    acc.push(val);\r\n  } \r\n  return acc; \r\n}, []));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Considering that the length of <code>vips</code> should be lower than the one of <code>userList</code>, or at max the same (<code>vips</code> should be a subset of <code>userList</code>), maybe a better approach is to map over the vips and get back the corresponding user, like below:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = {\r\n    userList: [\r\n        { name:\"Ann\", number:123456789 },\r\n        { name:\"Cathy\", number:123456789 },\r\n        { name:\"Peter\", number:123456789 },\r\n        { name:\"Ben\", number:123456789 },\r\n    ],\r\n    vips: [ \r\n        { username:\"Ann\", years:2018 },\r\n        { username:\"Peter\", years:2019 },\r\n    ]\r\n};\r\n\r\nconsole.log(input.vips.map(vip =&gt; input.userList.find(user =&gt; user.name === vip.username)));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 137, "user_id": 10286133, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-mmyqYZwdqN4/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaMs5chZ4Qo1Nt9_PdeBcCFqhHO3og/mo/photo.jpg?sz=128", "display_name": "susu watari", "link": "https://stackoverflow.com/users/10286133/susu-watari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 141, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1546462674, "creation_date": 1546460428, "question_id": 54012652, "link": "https://stackoverflow.com/questions/54012652/javascript-filter-an-array-of-objects-by-a-property-of-object", "title": "Javascript filter an array of objects by a property of object", "body": "<p>I have an array of <code>userList</code> which include user basic information. </p>\n\n<pre><code>this.state = {\n    userList: [\n        { name:\"Ann\", number:123456789 },\n        { name:\"Cathy\", number:123456789 },\n        { name:\"Peter\", number:123456789 },\n        { name:\"Ben\", number:123456789 },\n    ],\n    vips: [ \n        { username:\"Ann\", years:2018 },\n        { username:\"Peter\", years:2019 },\n};\n</code></pre>\n\n<p>How I can return of the <code>vips</code> from <code>userList</code>? <code>vips.username</code> equals to <code>userList.name</code></p>\n\n<pre><code>vips_return: [\n        { name:\"Ann\", number:123456789 },\n        { name:\"Peter\", number:123456789 },\n]\n</code></pre>\n\n<p>I tried using .filter and .includes but I am not sure how to deal with objects.</p>\n\n<pre><code>const vips_return = userList.filter((user)=&gt;\n    vips.includes(user.name)\n)\n</code></pre>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 459, "user_id": 8500756, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-aFKcbLRcSEo/AAAAAAAAAAI/AAAAAAAAAAw/VgAuhFrfk3o/photo.jpg?sz=128", "display_name": "theantomc", "link": "https://stackoverflow.com/users/8500756/theantomc"}, "edited": false, "score": 0, "creation_date": 1546460644, "post_id": 54012643, "comment_id": 94862183, "body": "transactions = JSON.parse(transactionsIds);  json[&quot;txid&quot;]);  thy this."}, {"owner": {"reputation": 2316, "user_id": 1934618, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a28aa8783212a8b9e7f05d2deeccc1e5?s=128&d=identicon&r=PG", "display_name": "rjanjic", "link": "https://stackoverflow.com/users/1934618/rjanjic"}, "edited": false, "score": 1, "creation_date": 1546460774, "post_id": 54012643, "comment_id": 94862227, "body": "You need to map it: console.log({ tx: info.transactions.map(x =&gt; x.txid) })"}, {"owner": {"reputation": 17, "user_id": 4104469, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e4c589c449417add45c46a71c8cc8127?s=128&d=identicon&r=PG&f=1", "display_name": "alibag90", "link": "https://stackoverflow.com/users/4104469/alibag90"}, "edited": false, "score": 0, "creation_date": 1546462853, "post_id": 54012643, "comment_id": 94863100, "body": "Thanks to both of you friends. Both answers resolved the problem. Excellent."}], "owner": {"reputation": 17, "user_id": 4104469, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/e4c589c449417add45c46a71c8cc8127?s=128&d=identicon&r=PG&f=1", "display_name": "alibag90", "link": "https://stackoverflow.com/users/4104469/alibag90"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "closed_date": 1546460460, "answer_count": 0, "score": 0, "last_activity_date": 1546460480, "creation_date": 1546460377, "question_id": 54012643, "link": "https://stackoverflow.com/questions/54012643/how-to-parse-some-data-from-json-response", "closed_reason": "Duplicate", "title": "how to parse some data from json response?", "body": "<p>I'm new to nodejs. I now have a code like this.</p>\n\n<pre><code>client.listSinceBlock(hash, function(err, info) {\n    if (err) {\n        console.error('Unable to get block info for: ', hash, ' got error: ', err);\n        return callback(err);\n    }\n\n    var transactionsIds = info;\n\n      console.log('txids ', transactionsIds);\n});\n</code></pre>\n\n<p>which answers the bellow response :</p>\n\n<pre><code>    { transactions:\n   [ { account: '',\n       txid: '925cb1434f64567539896ee370b8dfca7c46d5c0a7482f2ce85d8a9fea976411',\n       abandoned: false },\n     { account: '',\n       txid: 'afda7a1d90310c8fea22dff809062c72754e58e1a1918a55e210c59ad8a9b11c',\n       'bip125-replaceable': 'no' },\n     { account: '',\n       txid: '30053a0b819f03bc37626468ce27b718140ce2db6c054c84899c7db0cb62fa26',\n       'bip125-replaceable': 'no',\n       abandoned: false },\n ],\n  removed: [],\n  lastblock: 'some data' }\n</code></pre>\n\n<p>But i need parse TXIDs from this response like below :</p>\n\n<pre><code>    {\n  \"tx\": [\n\n    \"925cb1434f64567539896ee370b8dfca7c46d5c0a7482f2ce85d8a9fea976411\",\n    \"afda7a1d90310c8fea22dff809062c72754e58e1a1918a55e210c59ad8a9b11c\",\n    \"30053a0b819f03bc37626468ce27b718140ce2db6c054c84899c7db0cb62fa26\"\n  ],\n}\n</code></pre>\n\n<p>Can anyone help me?</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 10054, "user_id": 2734369, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f7e946bedea673c57bb40d2a8c1e6557?s=128&d=identicon&r=PG", "display_name": "pizzarob", "link": "https://stackoverflow.com/users/2734369/pizzarob"}, "edited": false, "score": 0, "creation_date": 1546466838, "post_id": 54012610, "comment_id": 94864663, "body": "Interesting - why did you decide to use backbone AND react? I would recommend against that. There&#39;s ways to manage application state and asynchronous tasks such as api calls with things like Redux and Redux Saga"}, {"owner": {"reputation": 11, "user_id": 10533994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ec0846bbf05fbd790cf76108b91b726?s=128&d=identicon&r=PG", "display_name": "user10533994", "link": "https://stackoverflow.com/users/10533994/user10533994"}, "reply_to_user": {"reputation": 10054, "user_id": 2734369, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f7e946bedea673c57bb40d2a8c1e6557?s=128&d=identicon&r=PG", "display_name": "pizzarob", "link": "https://stackoverflow.com/users/2734369/pizzarob"}, "edited": false, "score": 0, "creation_date": 1546513701, "post_id": 54012610, "comment_id": 94878146, "body": "Yes. Im well aware of it. Just that I do not know how to use Redux for now. I wanted to use React&#39;s local state, but realize that I would definitely need Redux. Since I&#39;ve learned it yet, I have decided to use Backbone Models in place of Reac&#39;t state. But now Im faced with a configuration problem. If you can help. Will be so glad"}], "owner": {"reputation": 11, "user_id": 10533994, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0ec0846bbf05fbd790cf76108b91b726?s=128&d=identicon&r=PG", "display_name": "user10533994", "link": "https://stackoverflow.com/users/10533994/user10533994"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1546460249, "creation_date": 1546460249, "question_id": 54012610, "link": "https://stackoverflow.com/questions/54012610/backbone-react-webpack-only-setup-without-grunt", "title": "Backbone + React +Webpack Only setup without grunt", "body": "<p>I have made a chat app project using React and Backbone. But react components are not appearing in the browser. I know how to setup a webpack project for React. But here Im using Node to serve my app. Please can someone help me figure how to bring in Backbone and React together using Webpack only. I dont want to use Grunt for now. Please??</p>\n"}, {"tags": ["javascript", "ckeditor"], "comments": [{"owner": {"reputation": 21838, "user_id": 1913729, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dGDss.png?s=128&g=1", "display_name": "blex", "link": "https://stackoverflow.com/users/1913729/blex"}, "edited": false, "score": 0, "creation_date": 1546460527, "post_id": 54012606, "comment_id": 94862146, "body": "Can you post more code, just enough so we can reproduce the issue, try to fix it and give you an answer?"}, {"owner": {"reputation": 559, "user_id": 5149051, "user_type": "registered", "profile_image": "https://graph.facebook.com/480167898809181/picture?type=large", "display_name": "Jared Bledsoe", "link": "https://stackoverflow.com/users/5149051/jared-bledsoe"}, "reply_to_user": {"reputation": 21838, "user_id": 1913729, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/dGDss.png?s=128&g=1", "display_name": "blex", "link": "https://stackoverflow.com/users/1913729/blex"}, "edited": false, "score": 0, "creation_date": 1546460715, "post_id": 54012606, "comment_id": 94862207, "body": "@blex This is pretty much the only relevant code for it. With CKEditor, if you make a custom widget and set that as the template you&#39;ll get what I have. If you insert the template, then you&#39;ll get whatever text changingText is set to, but if you change changingText it&#39;ll still be the initial value because it isn&#39;t ever re-running the template code."}], "owner": {"reputation": 559, "user_id": 5149051, "user_type": "registered", "profile_image": "https://graph.facebook.com/480167898809181/picture?type=large", "display_name": "Jared Bledsoe", "link": "https://stackoverflow.com/users/5149051/jared-bledsoe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 142, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546460235, "creation_date": 1546460235, "question_id": 54012606, "link": "https://stackoverflow.com/questions/54012606/ckeditor-widget-use-variable-inside-template", "title": "CKEditor widget - Use variable inside template", "body": "<p>So I've got a custom CKEditor widget, and inside the template I've got a variable that inserts text that differs each time the widget is inserted.</p>\n\n<pre><code>    template:\n        '&lt;div&gt;' +\n            changingText +\n        '&lt;/div&gt;'\n</code></pre>\n\n<p>The first time it is inserted, it does use the correct <em>changingText</em> values. However, since the template is only initialized once the value that it inserts is always the value it was set to on init. Is there a way to potentially re-init the template so it's updated, or any other way that it could use the updated <em>changingText</em> value each time it's inserted?</p>\n"}, {"tags": ["javascript", "node.js", "discord"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 2, "creation_date": 1546460239, "post_id": 54012583, "comment_id": 94862038, "body": "The error means that the value <code>swarmbot</code> resolves to doesn&#39;t have a property <code>commands</code>."}, {"owner": {"reputation": 1941, "user_id": 10671599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nHCw3.png?s=128&g=1", "display_name": "Sagi Rika", "link": "https://stackoverflow.com/users/10671599/sagi-rika"}, "edited": false, "score": 0, "creation_date": 1546460482, "post_id": 54012583, "comment_id": 94862130, "body": "My guess is that the error occurs because when you call this <code>swarmbot.login(&#39;myToken&#39;);</code> you meant to write <code>swarmbot.login(myToken);</code> (without the parentheses)"}, {"owner": {"reputation": 1726, "user_id": 7363404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GoAql.png?s=128&g=1", "display_name": "Axiumin_", "link": "https://stackoverflow.com/users/7363404/axiumin"}, "reply_to_user": {"reputation": 1941, "user_id": 10671599, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nHCw3.png?s=128&g=1", "display_name": "Sagi Rika", "link": "https://stackoverflow.com/users/10671599/sagi-rika"}, "edited": false, "score": 0, "creation_date": 1546460668, "post_id": 54012583, "comment_id": 94862192, "body": "@SagiRika They most likely replaced their real token with myToken to not get their token stolen."}, {"owner": {"reputation": 98775, "user_id": 421195, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/9a9793fdeb3b94e185c8c99c0238372f?s=128&d=identicon&r=PG", "display_name": "paulsm4", "link": "https://stackoverflow.com/users/421195/paulsm4"}, "edited": false, "score": 1, "creation_date": 1546460958, "post_id": 54012583, "comment_id": 94862310, "body": "There are several problems here.  As Axium pointed out, Discord.Client has no &quot;commands&quot; member.  ALSO: I strong suggest using <code>const Discord = require(&#39;discord.js&#39;);</code>, instead of &quot;var&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 1726, "user_id": 7363404, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GoAql.png?s=128&g=1", "display_name": "Axiumin_", "link": "https://stackoverflow.com/users/7363404/axiumin"}, "is_accepted": true, "score": 2, "last_activity_date": 1546460743, "creation_date": 1546460743, "answer_id": 54012702, "question_id": 54012583, "link": "https://stackoverflow.com/questions/54012583/discord-js-cannot-read-property-set-of-undefined/54012702#54012702", "title": "Discord.js: Cannot read property &#39;set&#39; of undefined", "body": "<p>If we look in the documentation for Discord.js, there is no such object called 'commands'.\nLink: <a href=\"https://discord.js.org/#/docs/main/stable/search?q=commands\" rel=\"nofollow noreferrer\">https://discord.js.org/#/docs/main/stable/search?q=commands</a>\nI'm guessing that you're loading them from a file, so you should maybe create a js file that has the commands, and load them to you main file.</p>\n\n<p>Reference for possible solution: <a href=\"https://stackoverflow.com/a/51333277/7363404\">https://stackoverflow.com/a/51333277/7363404</a> (you should also check the question)</p>\n"}], "owner": {"reputation": 13, "user_id": 10859532, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ShmEgdkdXCI/AAAAAAAAAAI/AAAAAAAAAAc/WQGas_W1eW4/photo.jpg?sz=128", "display_name": "Cerebral Agony", "link": "https://stackoverflow.com/users/10859532/cerebral-agony"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3220, "favorite_count": 0, "accepted_answer_id": 54012702, "answer_count": 1, "score": 1, "last_activity_date": 1546460743, "creation_date": 1546460094, "last_edit_date": 1546460657, "question_id": 54012583, "link": "https://stackoverflow.com/questions/54012583/discord-js-cannot-read-property-set-of-undefined", "title": "Discord.js: Cannot read property &#39;set&#39; of undefined", "body": "<p>I'm creating bot with discord.js.\nThis is my code:</p>\n\n<pre><code>var Discord = require('discord.js');\nconst swarmConfig = require('./swarmConfig.json');\n\nvar swarmbot = new Discord.Client();\nswarmbot.login('myToken');\n\nfs.readdir('./commands/', (err, files) =&gt;{\n  if(err) console.log(err);\n  var jsFiles = files.filter(f =&gt; f.split('.').pop() === 'js');\n\n  if(jsFiles.length &lt;=0){\n    console.log('Cant find commands');\n    return;\n  }\n\n  jsFiles.forEach((f, i) =&gt;{\n    let fileGet = require(`./commands/${f}`);\n    console.log(`${f} loaded!`);\n    swarmbot.commands.set(fileGet.help.name, fileGet);\n  });\n});\n\nswarmbot.on(\"message\", async message =&gt;{\n  if (message.author.swarmbot) \n    return;\n  var prefix = swarmConfig.prefix;\n  var command = messageArray[0];\n  var arguments = messageArray.slice(1);\n\n  var commands = swarmbot.commands.get(command.slice(prefix.length));\n  if(commands) \n    commands.run(swarmbot, message, arguments);\n});\n</code></pre>\n\n<p>But if I try to start it, I get this error:</p>\n\n<pre><code>C:\\Users\\purul\\Desktop\\swarm-dsbot\\swarm.js:25\nswarmbot.commands.set(fileGet.help.name, fileGet);\n                  ^\nTypeError: Cannot read property 'set' of undefined\nat jsFiles.forEach (C:\\Users\\purul\\Desktop\\swarm-dsbot\\swarm.js:25:23)\nat Array.forEach (&lt;anonymous&gt;)\nat fs.readdir (C:\\Users\\purul\\Desktop\\swarm-dsbot\\swarm.js:22:11)\nat FSReqWrap.oncomplete (fs.js:141:20)\n</code></pre>\n\n<p>I'm still learning JavaScript, Thanks to everyone who will help with this.</p>\n"}, {"tags": ["javascript", "node.js", "post", "http-post"], "owner": {"reputation": 1887, "user_id": 6510101, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GlJwX.png?s=128&g=1", "display_name": "D3181", "link": "https://stackoverflow.com/users/6510101/d3181"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 224, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546500501, "creation_date": 1546459978, "last_edit_date": 1546500501, "question_id": 54012566, "link": "https://stackoverflow.com/questions/54012566/post-parse-canvas-image-data-from-nodejs", "title": "post/parse canvas image data from nodejs", "body": "<p>I have been trying to submit an image being rendered on a html canvas to a nodejs http server however im having an issue parsing the submitted form on the recieving end:</p>\n\n<pre><code>ipcMain.on('resizeOK', (event, arg) =&gt; {\n  if(currentImage){\n  var formData = {\n    my_field: 'my_value',\n   // my_file: fs.createReadStream(imagepath), - old way using a local path\n    my_file: currentImage, //new way using the data from an image canvas\n    my_width : arg.widthData,\n    my_height : arg.heightData,\n    my_quality : arg.quality\n  };\n\n  request.post({url:'http://localhost:8080/resize', formData: formData}, function optionalCallback(err, httpResponse, body) {\n  if (err) {\n    return console.error('upload failed:', err);\n  }\n  console.log('Upload successful!  Server responded with:', body);\n});\n}\n});\n\n\n// how the image is retrieved from the current canvas\nvar currentImage = canvas.toDataURL(\"image/png\");\n\n\n//HTTP server being posted to\nif (req.url == '/resize') {\n    var form = new formidable.IncomingForm();\n    form.parse(req, function (err, fields, files) {\n      var output = util.inspect({fields: fields, files: files});\n      var newWidth = fields['my_width'];\n      var newHeight = fields['my_height'];\n      var quality = fields['my_quality'];\n      res.write('File uploaded to '+output + \"\");\n      res.end();\n    });\n  }\n</code></pre>\n\n<p>After reading a number of articles it seems many have attempted the same thing however in pure javascript not in nodejs : <a href=\"http://www.nixtu.info/2013/06/how-to-upload-canvas-data-to-server.html\" rel=\"nofollow noreferrer\">http://www.nixtu.info/2013/06/how-to-upload-canvas-data-to-server.html</a></p>\n\n<p>however the example here makes use of BLOB which is unavailable directly in nodejs.</p>\n\n<p>The current error i recieved now is a \"write after end\" server response, which has only occured after swapping out submission of a standard image via a local image path with the uri-data from the canvas element.</p>\n\n<p>Is there a simple way to post my data-uri and parse it back into a usable js object on the http nodejs server?</p>\n"}, {"tags": ["javascript", "chart.js"], "comments": [{"owner": {"reputation": 1152, "user_id": 2535504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lEgJn.jpg?s=128&g=1", "display_name": "Sheng Slogar", "link": "https://stackoverflow.com/users/2535504/sheng-slogar"}, "edited": false, "score": 0, "creation_date": 1546461793, "post_id": 54012560, "comment_id": 94862674, "body": "You need to be saving your chart to a variable. So where <code>new Chart</code> is being called, set it to something like <code>var myChart = new Chart</code>. You can read about class constructors (Chart is the class, constructor is what happens when you call <code>new</code>) <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/new\" rel=\"nofollow noreferrer\">here</a>. After that you&#39;ll be able to perform operations on your variable (like <code>myChart.destroy</code>)."}, {"owner": {"reputation": 1, "user_id": 10859563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50dc979b3de92c3e9c3610bd4c6e313?s=128&d=identicon&r=PG&f=1", "display_name": "ReindeerHorns", "link": "https://stackoverflow.com/users/10859563/reindeerhorns"}, "reply_to_user": {"reputation": 1152, "user_id": 2535504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lEgJn.jpg?s=128&g=1", "display_name": "Sheng Slogar", "link": "https://stackoverflow.com/users/2535504/sheng-slogar"}, "edited": false, "score": 0, "creation_date": 1546462582, "post_id": 54012560, "comment_id": 94862990, "body": "Thanks. Do I set the variable ahead of the existing showChart line or does it need to be set within the showChart function?"}, {"owner": {"reputation": 1152, "user_id": 2535504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lEgJn.jpg?s=128&g=1", "display_name": "Sheng Slogar", "link": "https://stackoverflow.com/users/2535504/sheng-slogar"}, "edited": false, "score": 0, "creation_date": 1546462900, "post_id": 54012560, "comment_id": 94863123, "body": "It needs to bet set wherever you initialize your chart, so in this case it would be inside the <code>showChart</code> function -- <code>showChart = function() { var myChart = new Chart... }</code>. Hope that helps."}, {"owner": {"reputation": 1, "user_id": 10859563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50dc979b3de92c3e9c3610bd4c6e313?s=128&d=identicon&r=PG&f=1", "display_name": "ReindeerHorns", "link": "https://stackoverflow.com/users/10859563/reindeerhorns"}, "reply_to_user": {"reputation": 1152, "user_id": 2535504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lEgJn.jpg?s=128&g=1", "display_name": "Sheng Slogar", "link": "https://stackoverflow.com/users/2535504/sheng-slogar"}, "edited": false, "score": 0, "creation_date": 1546465288, "post_id": 54012560, "comment_id": 94864056, "body": "Thanks. I&#39;ve set the var myChart. Where would it be best to implement the             myChart.destroy(); ?"}, {"owner": {"reputation": 1152, "user_id": 2535504, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lEgJn.jpg?s=128&g=1", "display_name": "Sheng Slogar", "link": "https://stackoverflow.com/users/2535504/sheng-slogar"}, "edited": false, "score": 0, "creation_date": 1546467452, "post_id": 54012560, "comment_id": 94864886, "body": "I can&#39;t exactly determine that without seeing more of your code (CodePen or JSFiddle would be nice) but you&#39;ll probably want to set your variable outside of the function and then clear as needed: <code>var myChart = null; showChart = function(...) { if (myChart !== null) { myChart.destroy(); } myChart = ... }</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1149, "user_id": 4670239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97969e2cb991348179115c57b9061aed?s=128&d=identicon&r=PG&f=1", "display_name": "Kunal Khivensara", "link": "https://stackoverflow.com/users/4670239/kunal-khivensara"}, "edited": false, "score": 0, "creation_date": 1546488202, "post_id": 54016184, "comment_id": 94869133, "body": "Also, this method avoids the overhead of storing a chart in a variable on creation."}, {"owner": {"reputation": 1572, "user_id": 5051731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67b86d77ab793b13ca9de8a29fd0a67a?s=128&d=identicon&r=PG&f=1", "display_name": "YetAnotherBot", "link": "https://stackoverflow.com/users/5051731/yetanotherbot"}, "edited": false, "score": 0, "creation_date": 1546488242, "post_id": 54016184, "comment_id": 94869142, "body": "Not a bad solution but there are other ways to update the chart"}, {"owner": {"reputation": 1149, "user_id": 4670239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97969e2cb991348179115c57b9061aed?s=128&d=identicon&r=PG&f=1", "display_name": "Kunal Khivensara", "link": "https://stackoverflow.com/users/4670239/kunal-khivensara"}, "reply_to_user": {"reputation": 1572, "user_id": 5051731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67b86d77ab793b13ca9de8a29fd0a67a?s=128&d=identicon&r=PG&f=1", "display_name": "YetAnotherBot", "link": "https://stackoverflow.com/users/5051731/yetanotherbot"}, "edited": false, "score": 0, "creation_date": 1546488352, "post_id": 54016184, "comment_id": 94869154, "body": "Yes, we can use the same helper class to update a particular chart or all, very handy."}], "tags": [], "owner": {"reputation": 1149, "user_id": 4670239, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97969e2cb991348179115c57b9061aed?s=128&d=identicon&r=PG&f=1", "display_name": "Kunal Khivensara", "link": "https://stackoverflow.com/users/4670239/kunal-khivensara"}, "is_accepted": false, "score": 1, "last_activity_date": 1546488076, "creation_date": 1546488076, "answer_id": 54016184, "question_id": 54012560, "link": "https://stackoverflow.com/questions/54012560/how-do-i-destroy-update-chart-data-in-this-chart-js-code-example/54016184#54016184", "title": "How do I destroy/update Chart Data in this chart.js code example?", "body": "<p>Chart.js provides a helper class from which you can access all the chart instances on a page. </p>\n\n<p>If you want to destroy all the instances before update/reload use the following code:</p>\n\n<pre><code>Chart.helpers.each(Chart.instances, function (instance) {\n         instance.destroy();\n    });\n</code></pre>\n\n<p>If you want to destroy a particular chart using the canvas id, use the following code:</p>\n\n<pre><code>Chart.helpers.each(Chart.instances, function (instance) {\n        if (instance.chart.canvas.id === \"yourChartId\") {\n            instance.destroy();\n            return;\n        }\n    });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1572, "user_id": 5051731, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/67b86d77ab793b13ca9de8a29fd0a67a?s=128&d=identicon&r=PG&f=1", "display_name": "YetAnotherBot", "link": "https://stackoverflow.com/users/5051731/yetanotherbot"}, "is_accepted": false, "score": 0, "last_activity_date": 1546488602, "creation_date": 1546488602, "answer_id": 54016244, "question_id": 54012560, "link": "https://stackoverflow.com/questions/54012560/how-do-i-destroy-update-chart-data-in-this-chart-js-code-example/54016244#54016244", "title": "How do I destroy/update Chart Data in this chart.js code example?", "body": "<p>You can modify the data used by the chart directly.</p>\n\n<p>From there documentation</p>\n\n<pre><code>function addData(chart, label, data) {\n    chart.data.labels.push(label);\n    chart.data.datasets.forEach((dataset) =&gt; {\n        dataset.data.push(data);\n    });\n    chart.update();\n}\n\nfunction removeData(chart) {\n    chart.data.labels.pop();\n    chart.data.datasets.forEach((dataset) =&gt; {\n        dataset.data.pop();\n    });\n    chart.update();\n}\n</code></pre>\n\n<p>Here you can pass the new data with the reference to the chart object. You can save the reference wwhen you create <code>new Chart(...)</code>.</p>\n\n<p>This is helpful to render the charts faster and in a smooth manner.</p>\n"}], "owner": {"reputation": 1, "user_id": 10859563, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f50dc979b3de92c3e9c3610bd4c6e313?s=128&d=identicon&r=PG&f=1", "display_name": "ReindeerHorns", "link": "https://stackoverflow.com/users/10859563/reindeerhorns"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1546488602, "creation_date": 1546459931, "last_edit_date": 1546461921, "question_id": 54012560, "link": "https://stackoverflow.com/questions/54012560/how-do-i-destroy-update-chart-data-in-this-chart-js-code-example", "title": "How do I destroy/update Chart Data in this chart.js code example?", "body": "<p>Happy New Year! \nI'm tussling with the need to destroy or update chart data, so that on reload of the chart it doesn't show the presence of the previous data on mouseover.</p>\n\n<p>I've seen the example on <a href=\"https://www.chartjs.org/docs/latest/developers/api.html?h=destroy\" rel=\"nofollow noreferrer\">Chart.js's API page</a>, and looked over numerous examples on SO, but none seem to match how my code was written by another developer. Could someone show me how using myLineChart.destroy(); or myLineChart.update(); can be applied?</p>\n\n<p>The code:</p>\n\n<pre><code>// Display the chart\nshowChart = function (data, chartPosition) {\n    console.log(chartPosition)\n    new Chart(document.getElementById(\"line-chart-\" + chartPosition), {\n        type: 'line',    \n        data: data,\n        options: {\n            legend: {\n                position: 'bottom',\n                fillStyle: Color,\n                strokeStyle: Color,\n                labels: {\n                usePointStyle: true,\n                fontSize: 12,\n                boxWidth: 10,\n            }\n            },\n            title: {\n                display: true,\n                text: 'Main Title'\n            },\n            tooltips: {\n                callbacks: {\n                title: function(tooltipItems, data) {\n           return data.datasets[tooltipItems[0].datasetIndex].label;\n                    },\n                label: function(tooltipItem, data) {\n            return \"$\" + Number(tooltipItem.yLabel).toFixed(0).replace(/./g, function(c, i, a) {\n                return i &gt; 0 &amp;&amp; c !== \".\" &amp;&amp; (a.length - i) % 3 === 0 ? \",\" + c : c;\n            });\n            }\n    }\n},\n            scales: {\n  xAxes: [{\n  ticks: {\n         callback: function(value, index, values) {\n         return value + ' years';\n                }\n                }\n  }],\n                yAxes: [{\n                    ticks: {\n                        callback: function (value, index, values) {\n                            return '$' + value.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n                        }\n                    }\n                }]\n            }\n        }\n    });\n};\n</code></pre>\n"}, {"tags": ["javascript", "api", "websocket"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1546459954, "post_id": 54012538, "comment_id": 94861940, "body": "This could be the reason: <a href=\"https://community.c9.io/t/connecting-to-websockets-results-in-502-bad-gateway/229\" rel=\"nofollow noreferrer\">community.c9.io/t/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 10859539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2b97abef43f8dddfd7ab8e50e3adc3a?s=128&d=identicon&r=PG&f=1", "display_name": "John doe", "link": "https://stackoverflow.com/users/10859539/john-doe"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1546499189, "post_id": 54012538, "comment_id": 94871799, "body": "Thanks for the info. Could you please help me to get another Realtime data API for testing purpose with websocket protocol. Cheers !!!"}], "owner": {"reputation": 1, "user_id": 10859539, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2b97abef43f8dddfd7ab8e50e3adc3a?s=128&d=identicon&r=PG&f=1", "display_name": "John doe", "link": "https://stackoverflow.com/users/10859539/john-doe"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 547, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1593699447, "creation_date": 1546459803, "last_edit_date": 1546459877, "question_id": 54012538, "link": "https://stackoverflow.com/questions/54012538/realtime-data-with-websocket", "title": "Realtime data with websocket", "body": "<p>I am trying to get the Real time data from cryptocurrecy API (min-api.cryptocompare.com/data) via using websocket but unfortunately, I am getting below error </p>\n\n<blockquote>\n  <p>: failed: Error during WebSocket handshake: Unexpected response code: 502</p>\n</blockquote>\n\n<p>I am able to get the data from API via axios and render it on UI.</p>\n\n<pre><code> import React, {Component} from 'react';\n import axios from 'axios';\n\n // using websocket to get the live data\n var exampleSocket = new WebSocket('wss://min-api.cryptocompare.com/data/pricemulti?fsyms=ETH,DASH&amp;tsyms=BTC,USD,EUR');\n\n exampleSocket.onmessage = function (event) {\n        console.log('event.data', event.data);\n }\n\n class App extends Component {\n\n  state = {\n    persons: []\n   }    \n     componentDidMount() {\n         console.log('DidMount');\n        axios.get(`https://min-api.cryptocompare.com/data/pricemulti?fsyms=ETH,DASH&amp;tsyms=BTC,USD,EUR`)\n        .then(res =&gt; {\n          const persons = res.data;\n          this.setState({ persons });\n       })\n      .catch(error =&gt; {\n        console.log(error);\n     });\n   }\n render() {\n  return (\n      &lt;div&gt;App &lt;/div&gt;\n      )\n  }\n };\n export default App;\n</code></pre>\n\n<p>I need to render the live data into my UI without any user event. \nJust like share market app.</p>\n\n<p>this is just demo application so can also use different real time \ndata provider API for solution.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "node.js", "express", "express-validator"], "answers": [{"comments": [{"owner": {"reputation": 193, "user_id": 10636625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d9b396395083acb521a6ac9d2c419a7?s=128&d=identicon&r=PG&f=1", "display_name": "ufookoro", "link": "https://stackoverflow.com/users/10636625/ufookoro"}, "edited": false, "score": 0, "creation_date": 1546597706, "post_id": 54031530, "comment_id": 94909427, "body": "Thank you very much. Very helpful"}, {"owner": {"reputation": 38069, "user_id": 2083599, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/92f4cb1afad4672cfde94143ebf3e543?s=128&d=identicon&r=PG", "display_name": "gustavohenke", "link": "https://stackoverflow.com/users/2083599/gustavohenke"}, "reply_to_user": {"reputation": 193, "user_id": 10636625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d9b396395083acb521a6ac9d2c419a7?s=128&d=identicon&r=PG&f=1", "display_name": "ufookoro", "link": "https://stackoverflow.com/users/10636625/ufookoro"}, "edited": false, "score": 0, "creation_date": 1546737641, "post_id": 54031530, "comment_id": 94949596, "body": "Welcome to StackOverflow :) If my answer helped you, please upvote it and mark it as the correct one."}], "tags": [], "owner": {"reputation": 38069, "user_id": 2083599, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/92f4cb1afad4672cfde94143ebf3e543?s=128&d=identicon&r=PG", "display_name": "gustavohenke", "link": "https://stackoverflow.com/users/2083599/gustavohenke"}, "is_accepted": false, "score": 0, "last_activity_date": 1546560570, "creation_date": 1546560570, "answer_id": 54031530, "question_id": 54012533, "link": "https://stackoverflow.com/questions/54012533/express-validator-not-performing-check/54031530#54031530", "title": "Express-Validator not performing check", "body": "<p>As of v5.3.1 (latest version), express-validator doesn't automatically respond to the request for you.</p>\n\n<p>The <code>check()</code> function runs the checks you configure on the fields that match, and stores the errors in the request.<br>\nThen, you have to use <code>validationResult()</code> in order to find out if any of your validations failed, like this:</p>\n\n<pre><code>app.post('/users/add', [\n  check('first_name').isLength({ min: 5 }).withMessage('Name min 5 char')\n], (req, res) =&gt; {\n  // Finds the validation errors in this request and wraps them in an object with handy functions\n  const errors = validationResult(req);\n  if (!errors.isEmpty()) {\n    return res.status(422).json({ errors: errors.array() });\n  }\n\n  // Proceed and create the user\n});\n</code></pre>\n\n<p>More available in <a href=\"https://express-validator.github.io/docs/index.html\" rel=\"nofollow noreferrer\">the Getting Started guide</a> and the <a href=\"https://express-validator.github.io/docs/validation-result-api.html\" rel=\"nofollow noreferrer\">Validation Result API</a>.</p>\n"}], "owner": {"reputation": 193, "user_id": 10636625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d9b396395083acb521a6ac9d2c419a7?s=128&d=identicon&r=PG&f=1", "display_name": "ufookoro", "link": "https://stackoverflow.com/users/10636625/ufookoro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1546560570, "creation_date": 1546459771, "last_edit_date": 1546466720, "question_id": 54012533, "link": "https://stackoverflow.com/questions/54012533/express-validator-not-performing-check", "title": "Express-Validator not performing check", "body": "<p>I am developing a simple program using Express. I have added Express-Validator to carry out checks on an EJS index file</p>\n\n<p>Declaration:</p>\n\n<p><code>const {check, validationResult} = require('express-validator/check');</code></p>\n\n<p>Usage:</p>\n\n<pre><code>//This is to post the added customer\napp.post('/users/add',\ncheck('first_name').isLength({min:5}).withMessage('Name min 5 char'), (req, res) =&gt; {\n\n});\n</code></pre>\n\n<p>Test:\nI am entering a 3 character name in the name field, but this is not being caught.</p>\n"}, {"tags": ["javascript", "html", "css", "arrays", "loops"], "comments": [{"owner": {"reputation": 911, "user_id": 10739689, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cc7f284e9c096066f58d603f1f081eb?s=128&d=identicon&r=PG&f=1", "display_name": "kev", "link": "https://stackoverflow.com/users/10739689/kev"}, "edited": false, "score": 2, "creation_date": 1546459809, "post_id": 54012516, "comment_id": 94861897, "body": "You&#39;ve created a function but I don&#39;t see you calling it."}, {"owner": {"reputation": 1743, "user_id": 2844215, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/X3158.jpg?s=128&g=1", "display_name": "IMParasharG", "link": "https://stackoverflow.com/users/2844215/imparasharg"}, "edited": false, "score": 2, "creation_date": 1546460105, "post_id": 54012516, "comment_id": 94861991, "body": "What the use of div tag inside the function"}, {"owner": {"reputation": 1, "user_id": 10859347, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cquv_ZdTYmc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaHV_qnHCQlvBJrrlxBMasjWti9Zw/mo/photo.jpg?sz=128", "display_name": "rainer duck", "link": "https://stackoverflow.com/users/10859347/rainer-duck"}, "edited": false, "score": 0, "creation_date": 1546460147, "post_id": 54012516, "comment_id": 94862006, "body": "This is a simplified version i already call the funtion by a Onclick but there are more details in the function but there already work"}], "answers": [{"tags": [], "owner": {"reputation": 2304, "user_id": 5264501, "user_type": "registered", "accept_rate": 97, "profile_image": "https://lh5.googleusercontent.com/-ZVUTKavAkNE/AAAAAAAAAAI/AAAAAAAAEKM/Vjq_EgjFw04/photo.jpg?sz=128", "display_name": "Yvonne Aburrow", "link": "https://stackoverflow.com/users/5264501/yvonne-aburrow"}, "is_accepted": true, "score": 2, "last_activity_date": 1546460357, "creation_date": 1546460357, "answer_id": 54012637, "question_id": 54012516, "link": "https://stackoverflow.com/questions/54012516/is-there-another-way-to-loop-a-array-in-spans-with-the-class-tags/54012637#54012637", "title": "Is there another way to loop a array in spans with the class &quot;tags&quot;", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> var ports_dic = [16, 17, 18, 19, 20];\r\n    \r\n    function loop_ports(){   \r\n    \r\n    \tfor (var i = 0; i &lt; ports_dic.length; i++){\r\n    \tvar node = document.createElement(\"LI\");                 // Create a &lt;li&gt; node\r\nvar textnode = document.createTextNode(ports_dic[i]);         // Create a text node\r\nnode.appendChild(textnode);                              // Append the text to &lt;li&gt;\r\ndocument.getElementById(\"onu_tags\").appendChild(node);     // Append &lt;li&gt; to &lt;ul&gt; with id=\"myList\"\r\n\r\n    \t};\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;body onload=\"loop_ports()\"&gt;\r\n      &lt;ul id=\"onu_tags\" class=\"tags\"&gt;\r\n           \r\n      &lt;/ul&gt;\r\n    &lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>You forgot to make your dictionary items into text nodes (also you didn't need the console.log bit).</p>\n"}, {"tags": [], "owner": {"reputation": 373, "user_id": 2092778, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/271848c4467a0c805077ce33ee7eea4a?s=128&d=identicon&r=PG", "display_name": "Karl", "link": "https://stackoverflow.com/users/2092778/karl"}, "is_accepted": false, "score": 0, "last_activity_date": 1546465484, "creation_date": 1546465484, "answer_id": 54013556, "question_id": 54012516, "link": "https://stackoverflow.com/questions/54012516/is-there-another-way-to-loop-a-array-in-spans-with-the-class-tags/54013556#54013556", "title": "Is there another way to loop a array in spans with the class &quot;tags&quot;", "body": "<p>ports_dic is not a dictionary, and you are not creating a span_element, instead, you are assigning \"console.log()\" to the variable span_element. Please double check before posting</p>\n\n<pre><code>&lt;script&gt;\nvar ports_dic = {\"1/1/12\":[16, 17, 18, 19, 20]};\n\nfunction loop_ports(){   \n  var n_list = document.value = ports_dic[\"1/1/12\"] \n  for (var i = 0; i &lt; n_list.length; i++){\n        var span = document.createElement(\"SPAN\");\n        span_element = console.log(n_list[i]);\n        span.appendChild(span_element);\n        document.getElementById(\"onu_tags\").appendChild(span);\n    };\n}\n&lt;/script&gt;\n&lt;body onload=\"loop_ports()\"&gt;\n  &lt;div id=\"onu_tags\" class=\"tags\"&gt;\n\n  &lt;/div&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    var ports_dic = {\"1/1/12\":[16, 17, 18, 19, 20]};\r\n    \r\n    function loop_ports(){   \r\n      var n_list = document.value = ports_dic[\"1/1/12\"] \r\n      for (var i = 0; i &lt; n_list.length; i++){\r\n    \t\tvar span = document.createElement(\"SPAN\");\r\n    \t\tvar span_element = document.createTextNode(n_list[i]);\r\n    \t\tspan.appendChild(span_element);\r\n    \t\tdocument.getElementById(\"onu_tags\").appendChild(span);\r\n    \t};\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;body onload=\"loop_ports()\"&gt;\r\n      &lt;div id=\"onu_tags\" class=\"tags\"&gt;\r\n           \r\n      &lt;/div&gt;\r\n    &lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 10859347, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-cquv_ZdTYmc/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaHV_qnHCQlvBJrrlxBMasjWti9Zw/mo/photo.jpg?sz=128", "display_name": "rainer duck", "link": "https://stackoverflow.com/users/10859347/rainer-duck"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 1, "accepted_answer_id": 54012637, "answer_count": 2, "score": -1, "last_activity_date": 1546465484, "creation_date": 1546459666, "last_edit_date": 1546460439, "question_id": 54012516, "link": "https://stackoverflow.com/questions/54012516/is-there-another-way-to-loop-a-array-in-spans-with-the-class-tags", "title": "Is there another way to loop a array in spans with the class &quot;tags&quot;", "body": "<p>I'm setting up a Local Server and want to create a loop for a dictionary(array) so that results are presented in spans with the class \"tags\". So that there later can used like a button. But the code doesn't loop, my question is if there another way to loop this code</p>\n\n<p>I already writhe code several times but the code doesnt work, even the console of the Browser shows no error</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;script&gt;\r\n    var ports_dic = [16, 17, 18, 19, 20];\r\n    \r\n    function loop_ports(){   \r\n      var n_list = document.value = ports_dic[\"1/1/12\"] \r\n      for (var i = 0; i &lt; n_list.length; i++){\r\n    \t\tvar span = document.createElement(\"SPAN\");\r\n    \t\tspan_element = console.log(ports_dict[i]);\r\n    \t\tspan.appendChild(span_element);\r\n    \t\tdocument.getElementById(\"onu_tags\").appendChild(span);\r\n    \t};\r\n    }\r\n    &lt;/script&gt;\r\n    &lt;body&gt;\r\n      &lt;div id=\"onu_tags\" class=\"tags\"&gt;\r\n           \r\n      &lt;/div&gt;\r\n    &lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I expect the output in \"tags\"\n16\n17\n18\n19\n20\nbut there isn't a output</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1546459821, "post_id": 54012512, "comment_id": 94861902, "body": "You can add properties to the function object with regular notation: <code>FUNC.prop = &quot;value&quot;</code> but that&#39;s not usually very useful. It might help to understand what you are really trying to achieve."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 2, "creation_date": 1546459899, "post_id": 54012512, "comment_id": 94861928, "body": "Property descriptors are associated with, well, properties, not values (a function is value). The function in and of itself doesn&#39;t have a descriptor. So the answer to your question as is is &quot;not possible&quot;. But you may want to clarify your problem, because <i>&quot;I&#39;d like to see if I can assign new properties to function object&quot;</i> is certainly doable and has nothing to do with property descriptors."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1546460235, "post_id": 54012512, "comment_id": 94862035, "body": "@FelixKling -- I read this a little differently to mean the OP was asking how to view something like <code>Object.getOwnPropertyDescriptor(FUNC, &#39;prototype&#39;)</code>, which is possible. Rereading, this is confusing: &quot; I am not accessing properties, but the function object it self&quot;"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1546460308, "post_id": 54012512, "comment_id": 94862061, "body": "@MarkMeyer: Possibly. The <i>&quot;I am not accessing properties, but the function object it self&quot;</i> is confusing me. edit: jinx"}, {"owner": {"reputation": 4133, "user_id": 4071819, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/pw4Ug.gif?s=128&g=1", "display_name": "potato", "link": "https://stackoverflow.com/users/4071819/potato"}, "edited": false, "score": 0, "creation_date": 1546463495, "post_id": 54012512, "comment_id": 94863363, "body": "I am indeed trying to find out if I can assign a property / method to the function object. (even functions are objects in javascript).  I am working in an evironment that uses 3rd edition of ecmascript 262. I was assigning a method to the built in function object and after doing a <code>for(var i in FUNC )</code>, my method was not printed. Still don&#39;t know how they disabled <code>writability</code> of the FUNC"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1546465993, "post_id": 54012512, "comment_id": 94864338, "body": "@potato What environment are you working in exactly? Maybe it&#39;s just buggy. Can you access the method after assigning it, is it only not printed or was it really not assigned?"}], "answers": [{"comments": [{"owner": {"reputation": 4133, "user_id": 4071819, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/pw4Ug.gif?s=128&g=1", "display_name": "potato", "link": "https://stackoverflow.com/users/4071819/potato"}, "edited": false, "score": 0, "creation_date": 1546462913, "post_id": 54012980, "comment_id": 94863129, "body": "Is there a similar method for ECMA-262 3rd edition? I am working in an environment that still uses that version"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 4133, "user_id": 4071819, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/pw4Ug.gif?s=128&g=1", "display_name": "potato", "link": "https://stackoverflow.com/users/4071819/potato"}, "edited": false, "score": 0, "creation_date": 1546467967, "post_id": 54012980, "comment_id": 94865058, "body": "@potato No, there&#39;s not, but objects in ES3 couldn&#39;t be frozen or prevent extensions. Of course ES3 doesn&#39;t offer a proper way to deal with property attributes either, all it had was <code>Object.prototype.propertyIsEnumerable</code>."}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": false, "score": 1, "last_activity_date": 1546462108, "creation_date": 1546462108, "answer_id": 54012980, "question_id": 54012512, "link": "https://stackoverflow.com/questions/54012512/get-descriptor-of-function-object/54012980#54012980", "title": "get descriptor of function object", "body": "<blockquote>\n  <p>I'd like to learn about <code>writable</code> value of a function object</p>\n</blockquote>\n\n<p>An object doesn't have a <code>writable</code> value. Only individual properties are <em>writable</em> or not, <code>writable</code> is a <em>property attribute</em> (part of the <em>property descriptor</em>).</p>\n\n<blockquote>\n  <p>I'd like to see if I can assign new properties to function object</p>\n</blockquote>\n\n<p>You can add new properties on an object when it is <em>extensible</em>. You can check using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/isExtensible\" rel=\"nofollow noreferrer\"><code>Object.isExtensible</code></a>.</p>\n"}, {"tags": [], "owner": {"reputation": 409, "user_id": 10855948, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-h5ldL-HqVng/AAAAAAAAAAI/AAAAAAAAAAc/7XhBYyqux5c/photo.jpg?sz=128", "display_name": "James_F", "link": "https://stackoverflow.com/users/10855948/james-f"}, "is_accepted": false, "score": 0, "last_activity_date": 1546462400, "creation_date": 1546462400, "answer_id": 54013038, "question_id": 54012512, "link": "https://stackoverflow.com/questions/54012512/get-descriptor-of-function-object/54013038#54013038", "title": "get descriptor of function object", "body": "<p>I'm going to assume that the question is: \"how can I get the function object using <code>Object.getOwnPropertyDescriptor(obj,prop)</code> and assign new properties to it?\"\nThere are a couple ways to do this, since <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function\" rel=\"nofollow noreferrer\">functions are objects in javascript</a>.</p>\n\n<p>You can get the function object itself by using it's name - <strong>but not calling it</strong>. i.e the object of <code>function func() { // code }</code> would be accessed through the <code>func</code> variable (the variable the function was assigned when it was declared). As @Mark Meyer commented, you can then assign properties with <code>func.yourProperty = whateverValue</code>.</p>\n\n<p>If you must use <code>Object.getOwnPropertyDescriptor(obj,prop)</code> to get the object, then you can use <code>Object.getOwnPropertyDescriptor(func, \"prototype\")</code>. It will return something like this:</p>\n\n<pre><code>{\n    configurable: false\n    enumerable: false\n    value: Object { \u2026 }\n    writable: true\n    &lt;prototype&gt;: Object { \u2026 }\n}\n</code></pre>\n\n<p>where your function will be under the <code>value</code> and <code>value.constructor</code> property.</p>\n\n<p>Another method of assigning properties (other than the one stated by @Mark Meyer), is <code>Object.assign</code>. You can use it like so to assign new properties to the function:</p>\n\n<pre><code>func = Object.assign(func, { yourProperty: yourValue })\n</code></pre>\n\n<p><strong>NOTE</strong>: you must reassign the function variable for the new properties to remain after you call <code>Object.assign()</code>.</p>\n"}], "owner": {"reputation": 4133, "user_id": 4071819, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/pw4Ug.gif?s=128&g=1", "display_name": "potato", "link": "https://stackoverflow.com/users/4071819/potato"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 184, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1546462400, "creation_date": 1546459633, "question_id": 54012512, "link": "https://stackoverflow.com/questions/54012512/get-descriptor-of-function-object", "title": "get descriptor of function object", "body": "<p>I'd like to learn about <code>writable</code> value of a function object <code>FUNC</code>.</p>\n\n<pre><code>function FUNC(){}\n</code></pre>\n\n<p>When accessing properties, usually <code>Object.getOwnPropertyDescriptor(obj,prop)</code> is used. But in my case, I am not accessing properties, but the function object it self. I'd like to see if I can assign new properties to function object (I am aware of a hackish way, but I am interested if there is something else available).</p>\n\n<p>How can I achieve this? </p>\n\n<p>js:</p>\n\n<pre><code>Object.getOwnPropertyDescriptor(FUNC,\"what do i put here?\");\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "asp.net-mvc", "sweetalert"], "comments": [{"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1546459820, "post_id": 54012473, "comment_id": 94861901, "body": "You do not have any code to call the <code>Edit</code> action method. Why do you expect the data to save ? Also your form does have only a submit button. What data you are expecting to be saved ?"}, {"owner": {"reputation": 67, "user_id": 10859514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zI3PNQuKOJI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbSCgOA8NGDMFkJJ1s_gHh7vzoA3w/mo/photo.jpg?sz=128", "display_name": "Jonathan Padilla", "link": "https://stackoverflow.com/users/10859514/jonathan-padilla"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1546460350, "post_id": 54012473, "comment_id": 94862073, "body": "@Shyju If I comment the code window.location the info save in the database but not redirect me after that."}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1546462693, "post_id": 54012473, "comment_id": 94863038, "body": "because that is doing a normal form submit. So the next line won&#39;t be executed."}, {"owner": {"reputation": 67, "user_id": 10859514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zI3PNQuKOJI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbSCgOA8NGDMFkJJ1s_gHh7vzoA3w/mo/photo.jpg?sz=128", "display_name": "Jonathan Padilla", "link": "https://stackoverflow.com/users/10859514/jonathan-padilla"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1546464728, "post_id": 54012473, "comment_id": 94863853, "body": "@Shyju How can I do to executed the first one(insert into the db) and the redirect me?"}, {"owner": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1546466010, "post_id": 54012473, "comment_id": 94864346, "body": "Your action method should return a Redirect response after saving. <code>return RedirectToAction(&quot;Index&quot;,&quot;Tasks&quot;);</code>"}, {"owner": {"reputation": 67, "user_id": 10859514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zI3PNQuKOJI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbSCgOA8NGDMFkJJ1s_gHh7vzoA3w/mo/photo.jpg?sz=128", "display_name": "Jonathan Padilla", "link": "https://stackoverflow.com/users/10859514/jonathan-padilla"}, "reply_to_user": {"reputation": 196067, "user_id": 40521, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8faa5e8a474933dd207c86fb886a7f28?s=128&d=identicon&r=PG", "display_name": "Shyju", "link": "https://stackoverflow.com/users/40521/shyju"}, "edited": false, "score": 0, "creation_date": 1546517284, "post_id": 54012473, "comment_id": 94879884, "body": "@Shyju Yeah I did! Thanks alot!!!"}], "owner": {"reputation": 67, "user_id": 10859514, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-zI3PNQuKOJI/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbSCgOA8NGDMFkJJ1s_gHh7vzoA3w/mo/photo.jpg?sz=128", "display_name": "Jonathan Padilla", "link": "https://stackoverflow.com/users/10859514/jonathan-padilla"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546633950, "creation_date": 1546459416, "last_edit_date": 1546633950, "question_id": 54012473, "link": "https://stackoverflow.com/questions/54012473/data-not-getting-submitted-to-db-after-posting", "title": "Data not getting submitted to DB after posting", "body": "<p>When I press the submit button the Sweetalert pops up; when I press ok the page redirects me to my index page but the data is not posted in the DB. </p>\n\n<p>This is my controller:</p>\n\n<pre><code>[HttpPost]\n[ValidateAntiForgeryToken]\npublic async Task&lt;ActionResult&gt; Edit([Bind(Include =\"TaskId,Title,Description,CreatedDate,Deadline,StatusId,ProjectId,Comment\")] \n     OGP_PEG_.Models.Task task)\n        {\n           if (ModelState.IsValid)\n           {\n              db.Entry(task).State = EntityState.Modified;\n              await db.SaveChangesAsync();\n           }\n           ViewBag.ProjectId = new SelectList(db.Projects, \"IdProvisional\", \n              \"Title\", task.ProjectId);\n           ViewBag.StatusId = new SelectList(db.ProjectStatus, \"StatusId\", \n              \"StatusType\", task.StatusId);\n           return View(task);\n        }\n</code></pre>\n\n<p>And this is the JQuery code for submission:</p>\n\n<pre><code>$('#taskbtn').click(function (e) {\n    e.preventDefault();\n\n    var data = $(this).closest(\"form\");\n\n    swal({\n        title: \"Gracias!\",\n        text: \"Su comentario a sido grabado.\",\n        icon: \"success\",\n        buttons: {\n            cancel: true,\n            confirm: \"Submit\",\n            closeOnConfirm: false\n        },\n\n    }).then(function () {\n        e.preventDefault();\n        if (data != null) {\n            swal({\n                text: data,\n                icon: \"success\"\n            });\n            data.submit();\n            window.location.href = \"/Tasks/Index\";\n        }\n\n    });\n});\n</code></pre>\n\n<p>My View:</p>\n\n<pre><code> @using (Html.BeginForm(\"Edit\", \"Tasks\"))\n {\n    &lt;div class=\"form-group\"&gt;\n        &lt;div class=\"col-md-offset-2 col-md-10\"&gt;\n            &lt;input id=\"taskbtn\" type=\"submit\" name=\"Comment\" value=\"Save\" class=\"btn btn-default\" /&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n }\n</code></pre>\n\n<p>Edit call:</p>\n\n<pre><code>   &lt;td&gt;\n        @Html.ActionLink(\"Edit\", \"Edit\", new { id = item.TaskId }) |\n        @Html.ActionLink(\"Details\", \"Details\", new { id = item.TaskId }) |\n        @Html.ActionLink(\"Delete\", \"Delete\", new { id = item.TaskId })\n   &lt;/td&gt;\n</code></pre>\n"}, {"tags": ["javascript", "css", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 567, "user_id": 8774491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/152ce55a4583b929248903157b8dcd8e?s=128&d=identicon&r=PG&f=1", "display_name": "tommy123", "link": "https://stackoverflow.com/users/8774491/tommy123"}, "edited": false, "score": 0, "creation_date": 1546460366, "post_id": 54012600, "comment_id": 94862081, "body": "What is HTML child? How will get the position of the parent? The parent is actually the data cell of the table. I need to position the popup box/tooltip/child wrt the parent data cell/row cell"}, {"owner": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "reply_to_user": {"reputation": 567, "user_id": 8774491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/152ce55a4583b929248903157b8dcd8e?s=128&d=identicon&r=PG&f=1", "display_name": "tommy123", "link": "https://stackoverflow.com/users/8774491/tommy123"}, "edited": false, "score": 0, "creation_date": 1546460659, "post_id": 54012600, "comment_id": 94862190, "body": "<code>position:absolute</code> expects its parent element to use <code>position:relative</code> in order to set the parent as the &quot;origin&quot; relative to the child element&#39;s location.  See: <a href=\"https://tomelliott.com/html-css/css-position-child-div-parent\" rel=\"nofollow noreferrer\">tomelliott.com/html-css/css-position-child-div-parent</a>"}], "tags": [], "owner": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "is_accepted": false, "score": 0, "last_activity_date": 1546460215, "creation_date": 1546460215, "answer_id": 54012600, "question_id": 54012458, "link": "https://stackoverflow.com/questions/54012458/how-to-position-a-popup-box-child-page-in-a-react-table-parent-in-a-relative/54012600#54012600", "title": "How to position a popup box (child page) in a React table (parent) in a relative manner - CSS/ReactJS/Javascript", "body": "<p>The popup <code>&lt;Child&gt;</code> needs to be an HTML child of the parent element, in order to inherit its position. So move the child component into the parent's template and conditionally render it based on the state.</p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 7361279, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5bb3fee7a82e92e0dd183354602395a6?s=128&d=identicon&r=PG&f=1", "display_name": "utopia", "link": "https://stackoverflow.com/users/7361279/utopia"}, "is_accepted": false, "score": 0, "last_activity_date": 1553168493, "creation_date": 1553168493, "answer_id": 55279678, "question_id": 54012458, "link": "https://stackoverflow.com/questions/54012458/how-to-position-a-popup-box-child-page-in-a-react-table-parent-in-a-relative/55279678#55279678", "title": "How to position a popup box (child page) in a React table (parent) in a relative manner - CSS/ReactJS/Javascript", "body": "<p>I think a solution could also be that you check the X and Y position on click and store it somewhere in state.</p>\n\n<pre><code> style: {\n    left: 0,\n    top: 0,\n  },\n</code></pre>\n\n<p>After that you just send in the coordinates as style. That way you can display the popup correctly</p>\n\n<pre><code> &lt;div style={this.state.style}&gt;\n</code></pre>\n"}], "owner": {"reputation": 567, "user_id": 8774491, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/152ce55a4583b929248903157b8dcd8e?s=128&d=identicon&r=PG&f=1", "display_name": "tommy123", "link": "https://stackoverflow.com/users/8774491/tommy123"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2043, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1553168493, "creation_date": 1546459376, "last_edit_date": 1546460555, "question_id": 54012458, "link": "https://stackoverflow.com/questions/54012458/how-to-position-a-popup-box-child-page-in-a-react-table-parent-in-a-relative", "title": "How to position a popup box (child page) in a React table (parent) in a relative manner - CSS/ReactJS/Javascript", "body": "<p>I am working on a React Table. I have a columns in which the data cells have an expander icon. If we click on the expander, a popup page/tooltip is opened/displayed. </p>\n\n<p>Now I have two question - 1. How can a display the popup page/tooltip relative wrt to data cell in which the expander was clicked. For example age has 1000s of rows. There is pagination and page size. So suppose the position of the popup box/tooltip when row 4 is clicked will be different from the position of the popup box/tooltip when row 7 is clicked. The small yellow thing you are seeing is my popup page/tooltip</p>\n\n<p><a href=\"https://i.stack.imgur.com/hlaQv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hlaQv.png\" alt=\"Popup 1\"></a></p>\n\n<p>In my Code, the popup is fixed to the same position irrespective of which row cell of that particular column I click.</p>\n\n<p>I want to know how can display the popup page relative wrt to data cell in which the expander was clicked. Basically changing top and left will do the job. But how can I implement. Based on what should I give top and left?</p>\n\n<p>The second question is - 2. How can I close the popup page if I click outside the popup page?</p>\n\n<p>My Complete Code Sample is here - <a href=\"https://codesandbox.io/s/04j6voy0pn\" rel=\"nofollow noreferrer\">Demo/Fiddle</a></p>\n\n<p>This is my Popup Page CSS </p>\n\n<pre><code>.filter-child {\n  width: 30%;\n  position: absolute;\n  z-index: 10;\n  background: #ffffe0;\n  padding: 15px;\n  border: solid 1px #e9eff4;\n  top: 32%;\n  left: 45%;\n}\n</code></pre>\n\n<p>What is the best way to achieve this - CSS/Plain JS/React Props from parent? If i use React Props what should I send as props for this relative styling.</p>\n\n<p>Can this be achieved by CSS/Vanilla JS?</p>\n\n<p>If you can help me in this regard, kindly update my <a href=\"https://codesandbox.io/s/04j6voy0pn\" rel=\"nofollow noreferrer\">Demo/Fiddle</a> and show me how to achieve the desired functionality. </p>\n\n<p>It may seem that parent page/table is the parent but here according to my understanding the data cell/row cell (on which the click was made) is acting as the real parent.</p>\n\n<p>The child popup-box/tooltips will not be in the position of the cell which was clicked. I want to position this child popup-box/tooltips a little below the the position of the cell which was clicked.</p>\n\n<p>Can someone on Stack update/fork my <a href=\"https://codesandbox.io/s/04j6voy0pn\" rel=\"nofollow noreferrer\">Demo/Fiddle</a> and show me how to achieve the desired functionality? </p>\n"}, {"tags": ["javascript", "firebase", "react-native", "firebase-realtime-database", "firebase-storage"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1546460099, "post_id": 54012454, "comment_id": 94861984, "body": "It&#39;s impossible to see what causes this without seeing the <a href=\"http://stackoverflow.com/help/mcve\">minimal code that reproduces the issue</a>. Please also replace the screenshots of your security rules with the actual rules as text, as that makes it easier to find and reuse."}, {"owner": {"reputation": 55, "user_id": 10172076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc5f596e3c55b21a9eed5de778629ff8?s=128&d=identicon&r=PG&f=1", "display_name": "ericm21", "link": "https://stackoverflow.com/users/10172076/ericm21"}, "reply_to_user": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1546461720, "post_id": 54012454, "comment_id": 94862639, "body": "I replaced the security rules screenshots with text. Also, added the code that I provided on the screenshot, however openPicker is one long function and minimal code will be hard to provide since anything I take out would give you incomplete information."}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1546464351, "post_id": 54012454, "comment_id": 94863704, "body": "Please have a look at <a href=\"http://stackoverflow.com/help/mcve\">how to create a minimal, complete, verifiable example</a> for hints on how to isolate the problem."}], "answers": [{"tags": [], "owner": {"reputation": 55, "user_id": 10172076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc5f596e3c55b21a9eed5de778629ff8?s=128&d=identicon&r=PG&f=1", "display_name": "ericm21", "link": "https://stackoverflow.com/users/10172076/ericm21"}, "is_accepted": false, "score": 0, "last_activity_date": 1546540976, "creation_date": 1546540976, "answer_id": 54028031, "question_id": 54012454, "link": "https://stackoverflow.com/questions/54012454/firebase-error-code-403-when-uploading-to-storage-and-database-at-the-same-time/54028031#54028031", "title": "Firebase error code 403 when uploading to storage and database at the same time using React Native and Image Crop Picker", "body": "<p>Upon further review just I suspected, I was calling the addProfilePhotoDatabase() in the wrong place. </p>\n\n<p><strong>Before:</strong></p>\n\n<pre><code>  .then((url) =&gt; {\n    let obj = {}\n    obj[\"profilePhoto\"] = url\n    this.addProfilePhotoDatabase() //at this point state hasn't been set yet and the url was being added to firebase database with the wrong token which gave me a 403 error\n    this.setState(obj)\n  })\n</code></pre>\n\n<p><strong>After:</strong></p>\n\n<pre><code>  .then((url) =&gt; {\n    let obj = {}\n    obj[\"profilePhoto\"] = url\n    this.setState(obj)\n    this.addProfilePhotoDatabase() //at this point state is set and the url gets added correctly\n  })\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 10172076, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc5f596e3c55b21a9eed5de778629ff8?s=128&d=identicon&r=PG&f=1", "display_name": "ericm21", "link": "https://stackoverflow.com/users/10172076/ericm21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1287, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546540976, "creation_date": 1546459344, "last_edit_date": 1546464357, "question_id": 54012454, "link": "https://stackoverflow.com/questions/54012454/firebase-error-code-403-when-uploading-to-storage-and-database-at-the-same-time", "title": "Firebase error code 403 when uploading to storage and database at the same time using React Native and Image Crop Picker", "body": "<p>I'm able to successfully upload images to firebase storage but I'm also trying to upload the image url to my firebase database.</p>\n\n<p>The problem I'm having is that the url that gets uploaded to firebase database has a different token than the successful firebase storage image therefore I get an error message (error code 403, permission denied).</p>\n\n<p>The problem could be because of the placement of my addProfilePhototoDatabase function but I'm not sure where else to put it.</p>\n\n<p>Please see my code in the attached screenshot below. \n<a href=\"https://i.stack.imgur.com/ZDTRD.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZDTRD.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Here's the openPicker function code:\n<br>I'm finding it hard to provide minimal code for this since it is all important and related. Anything I take out could be important.</p>\n\n<pre><code>openPicker() {\n    const { currentUser } = firebase.auth()\n    const Blob = RNFetchBlob.polyfill.Blob\n    const fs = RNFetchBlob.fs\n    window.XMLHttpRequest = RNFetchBlob.polyfill.XMLHttpRequest\n    window.Blob = Blob\n    ImagePicker.openPicker({\n      width: 105,\n      height: 105,\n      compressImageMaxWidth: 400,\n      compressImageMaxHeight: 400,\n      compressImageQuality: 0.8,\n      cropping: true,\n      mediaType: 'photo'\n    }).then(image =&gt; {\n      const imagePath = image.path\n      let uploadBlob = null\n      const imageRef = firebase.storage()\n        .ref(`/users/${currentUser.uid}`)\n        .child('profile.jpg')\n      let mime = 'image/jpg'\n      fs.readFile(imagePath, 'base64')\n        .then((data) =&gt; {\n          return Blob.build(data, { type: `${mime};BASE64` })\n      })\n      .then((blob) =&gt; {\n        uploadBlob = blob\n        return imageRef.put(blob, { contentType: mime })\n      })\n      .then(() =&gt; {\n        uploadBlob.close()\n        return imageRef.getDownloadURL()\n      })\n      .then((url) =&gt; {\n        let obj = {}\n        obj[\"profilePhoto\"] = url\n        this.addProfilePhotoDatabase() // this is where I'm attempting to upload the url to the database and where the problem is\n        this.setState(obj)\n      })\n      .catch((error) =&gt; {\n        Alert.alert(error)\n      })\n  })\n  .catch((error) =&gt; {\n    Alert.alert(error)\n  })\n}\n</code></pre>\n\n<p>Code for the addProfilePhotoDatabase function:</p>\n\n<pre><code>addProfilePhotoDatabase() {\n  const { currentUser } = firebase.auth();\n  firebase\n    .database()\n    .ref(`/users/${currentUser.uid}/profile`)\n    .update({\n      ProfilePhoto: this.state.profilePhoto,\n    })  \n}\n</code></pre>\n\n<p>Here's how I'm calling the openPicker function:</p>\n\n<pre><code>&lt;TouchableOpacity style={[styles.profilePhotoContainer]} onPress={ () =&gt; this.openPicker() }&gt;\n    &lt;Image source={require('../assets/images/icons/today/addProfile.png')} style={styles.profilePhoto}/&gt; \n  &lt;/TouchableOpacity&gt;\n</code></pre>\n\n<p>Here are my firebase storage rules:</p>\n\n<pre><code>service firebase.storage { \n  match /b/{bucket}/o { \n    match /{allPaths=**} { \n      allow read, write: if request.auth != null; \n    } \n  } \n}\n</code></pre>\n\n<p>And my firebase database rules:</p>\n\n<pre><code>{ \n  \"rules\": { \n    \"users\": { \n      \"$uid\": { \n        \".read\": \"$uid === auth.uid\", \n        \".write\": \"$uid === auth.uid\" \n      } \n    } \n  } \n}\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "datatables", "jquery-datatables-editor"], "comments": [{"owner": {"reputation": 1201, "user_id": 4187907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3QDMY.jpg?s=128&g=1", "display_name": "Jeff Breadner", "link": "https://stackoverflow.com/users/4187907/jeff-breadner"}, "edited": false, "score": 0, "creation_date": 1546461804, "post_id": 54012451, "comment_id": 94862682, "body": "What version of node are you using?"}, {"owner": {"reputation": 2406, "user_id": 5236553, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a80513e771783b0579b673abbe5809b2?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp M", "link": "https://stackoverflow.com/users/5236553/philipp-m"}, "reply_to_user": {"reputation": 1201, "user_id": 4187907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3QDMY.jpg?s=128&g=1", "display_name": "Jeff Breadner", "link": "https://stackoverflow.com/users/4187907/jeff-breadner"}, "edited": false, "score": 0, "creation_date": 1546461940, "post_id": 54012451, "comment_id": 94862729, "body": "$ node -v ... v10.15.0"}, {"owner": {"reputation": 1201, "user_id": 4187907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3QDMY.jpg?s=128&g=1", "display_name": "Jeff Breadner", "link": "https://stackoverflow.com/users/4187907/jeff-breadner"}, "edited": false, "score": 0, "creation_date": 1546462152, "post_id": 54012451, "comment_id": 94862822, "body": "Is the code you&#39;ve shown server side or client side?"}, {"owner": {"reputation": 2406, "user_id": 5236553, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a80513e771783b0579b673abbe5809b2?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp M", "link": "https://stackoverflow.com/users/5236553/philipp-m"}, "reply_to_user": {"reputation": 1201, "user_id": 4187907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3QDMY.jpg?s=128&g=1", "display_name": "Jeff Breadner", "link": "https://stackoverflow.com/users/4187907/jeff-breadner"}, "edited": false, "score": 0, "creation_date": 1546462280, "post_id": 54012451, "comment_id": 94862870, "body": "The editor node.js libraries are serverside ... the error message also."}], "answers": [{"comments": [{"owner": {"reputation": 2406, "user_id": 5236553, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a80513e771783b0579b673abbe5809b2?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp M", "link": "https://stackoverflow.com/users/5236553/philipp-m"}, "edited": false, "score": 0, "creation_date": 1547289827, "post_id": 54155802, "comment_id": 95147699, "body": "thanks ... do you happen to know also how to retrieve unique values? <a href=\"https://stackoverflow.com/questions/54154572/datatable-editor-node-js-knex-js-how-to-retrieve-only-unique-values-for-the-op\" title=\"datatable editor node js knex js how to retrieve only unique values for the op\">stackoverflow.com/questions/54154572/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1239, "user_id": 2157548, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/e6c6a5bdbb55ae1a8ca7955c1b7b9778?s=128&d=identicon&r=PG", "display_name": "Paul Okeke", "link": "https://stackoverflow.com/users/2157548/paul-okeke"}, "is_accepted": true, "score": 1, "last_activity_date": 1547253778, "creation_date": 1547253778, "answer_id": 54155802, "question_id": 54012451, "link": "https://stackoverflow.com/questions/54012451/node-js-datatables-editor-filter-select-option-depending-on-a-certain-value/54155802#54155802", "title": "Node.js datatables editor - Filter select option depending on a certain value", "body": "<p><code>this.where</code> is out of the scope where the function <code>where</code> exist, because you are using an arrow function which binds <code>this</code> to the outer/parent scope.</p>\n\n<p>Try this instead:</p>\n\n<pre><code>.options(new Options()\n                .table('portfolios_isin')\n                .value('id')\n                .label('portfolio_name')\n                .where(function(){  \n                    this.where('portfolios_isin.user_id', '=', '1')\n                })\n            ),\n</code></pre>\n"}], "owner": {"reputation": 2406, "user_id": 5236553, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a80513e771783b0579b673abbe5809b2?s=128&d=identicon&r=PG&f=1", "display_name": "Philipp M", "link": "https://stackoverflow.com/users/5236553/philipp-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 211, "favorite_count": 0, "accepted_answer_id": 54155802, "answer_count": 1, "score": 0, "last_activity_date": 1547253778, "creation_date": 1546459331, "last_edit_date": 1546507746, "question_id": 54012451, "link": "https://stackoverflow.com/questions/54012451/node-js-datatables-editor-filter-select-option-depending-on-a-certain-value", "title": "Node.js datatables editor - Filter select option depending on a certain value", "body": "<p>I'm using the node.js datatable editor library. When trying to filter the select options depending on a specific field (user_id) in table 'portfolios_isin' like this:</p>\n\n<p>node.js</p>\n\n<pre><code>let editor = new Editor( db, 'portfolios_isin_mm' )\n    .fields(\n        new Field( 'portfolios_isin_mm.account_id' ),\n        new Field( 'portfolios_isin_mm.user_id' ),\n        new Field( 'portfolios_isin_mm.uid_foreign' )\n            .options(new Options()\n                .table('portfolios_isin')\n                .value('id')\n                .label('portfolio_name')\n                .where(() =&gt; {  \n                    //this.where('user_id', '=', '1')\n                    this.where('portfolios_isin.user_id', '=', '1')\n                })\n            ),\n        new Field( 'securities.issuer_name' )\n    )\n\n    .leftJoin( 'portfolios_isin', 'portfolios_isin.id', '=', 'portfolios_isin_mm.uid_foreign' );\n</code></pre>\n\n<p>I'm getting this Error:</p>\n\n<pre><code>TypeError: this.where is not a function\n    at Builder.Editor.fields.Field.options.Options.table.value.label.where (/home/project/controllers/myproject.js:359:30)\n    at Formatter.compileCallback (/home/project/node_modules/knex/lib/formatter.js:161:14)\n    at Formatter.rawOrFn (/home/project/node_modules/knex/lib/formatter.js:104:36)\n    at QueryCompiler_MySQL.whereWrapped (/home/project/node_modules/knex/lib/query/compiler.js:531:30)\n    at QueryCompiler_MySQL.where (/home/project/node_modules/knex/lib/query/compiler.js:314:32)\n    at /home/project/node_modules/knex/lib/query/compiler.js:147:30\n    at Array.map (&lt;anonymous&gt;)\n    at QueryCompiler_MySQL.select (/home/project/node_modules/knex/lib/query/compiler.js:146:33)\n    at QueryCompiler_MySQL.toSQL (/home/project/node_modules/knex/lib/query/compiler.js:108:27)\n    at Builder.toSQL (/home/project/node_modules/knex/lib/query/builder.js:115:44)\n    at /home/project/node_modules/knex/lib/runner.js:56:32\n    at tryCatcher (/home/project/node_modules/bluebird/js/release/util.js:16:23)\n    at /home/project/node_modules/bluebird/js/release/using.js:185:26\n    at tryCatcher (/home/project/node_modules/bluebird/js/release/util.js:16:23)\n    at Promise._settlePromiseFromHandler (/home/project/node_modules/bluebird/js/release/promise.js:512:31)\n    at Promise._settlePromise (/home/project/node_modules/bluebird/js/release/promise.js:569:18)\n</code></pre>\n\n<p>According to the docs <a href=\"https://editor.datatables.net/manual/nodejs/joins\" rel=\"nofollow noreferrer\">https://editor.datatables.net/manual/nodejs/joins</a> this is the way to do it. I have a similar project where I use the php datatable editor libraries (and all is working just fine) ... there I can filter the options like this:</p>\n\n<p>php:</p>\n\n<pre><code>Editor::inst( $db, 'portfolios_isin_mm' )\n    -&gt;fields(\n        Field::inst( 'portfolios_isin_mm.account_id' ),\n        Field::inst( 'portfolios_isin_mm.user_id' ),\n        Field::inst( 'portfolios_isin_mm.uid_foreign' )\n            -&gt;options( 'portfolios_isin', 'id', 'portfolio_name', function ($q) {\n                $q-&gt;where( 'portfolios_isin.user_id', '1', '=' );\n            }),\n        Field::inst( 'securities.issuer_name' )         \n    )\n\n    -&gt;leftJoin( 'portfolios_isin', 'portfolios_isin.id', '=', 'portfolios_isin_mm.uid_foreign' )    \n</code></pre>\n\n<p>How do I get to filter the option values in editor for node.js?</p>\n"}, {"tags": ["javascript", "node.js", "knex.js", "alasql"], "answers": [{"tags": [], "owner": {"reputation": 14163, "user_id": 360060, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6dd50c8ccb4cc3ed49cd90f84b474010?s=128&d=identicon&r=PG", "display_name": "Mikael Lepist&#246;", "link": "https://stackoverflow.com/users/360060/mikael-lepist%c3%b6"}, "is_accepted": true, "score": 1, "last_activity_date": 1546853771, "creation_date": 1546853771, "answer_id": 54071732, "question_id": 54012450, "link": "https://stackoverflow.com/questions/54012450/how-to-make-knex-use-alasql-as-a-custom-dialect/54071732#54071732", "title": "How to make knex use alasql as a custom dialect", "body": "<p>Some help how to create custom dialect is described in</p>\n\n<p><a href=\"https://github.com/tgriesser/knex/blob/master/CONTRIBUTING.md#i-would-like-to-add-support-for-new-dialect-to-knex-is-it-possible\" rel=\"nofollow noreferrer\">https://github.com/tgriesser/knex/blob/master/CONTRIBUTING.md#i-would-like-to-add-support-for-new-dialect-to-knex-is-it-possible</a></p>\n\n<p>SQlite has inmemory database support if you configure knex like this</p>\n\n<pre><code>const knexSqlite = Knex({\n  client: 'sqlite',\n  connection: ':memory:'\n});\n</code></pre>\n\n<p>However generally I would not recommend using different database for testing and for the actual app for various reasons. Mostly because you will not know if your code will actually work against real database and that you would need to limit to use only those database features, which are supported by test database and real database engine.</p>\n"}], "owner": {"reputation": 516, "user_id": 2565869, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/q363j.jpg?s=128&g=1", "display_name": "WhyAyala", "link": "https://stackoverflow.com/users/2565869/whyayala"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 186, "favorite_count": 0, "accepted_answer_id": 54071732, "answer_count": 1, "score": 0, "last_activity_date": 1546853771, "creation_date": 1546459323, "question_id": 54012450, "link": "https://stackoverflow.com/questions/54012450/how-to-make-knex-use-alasql-as-a-custom-dialect", "title": "How to make knex use alasql as a custom dialect", "body": "<p>I'm trying to configure knex so I can run seeder and migrations against a test database for integration tests. I chose alasql and found some resources <a href=\"https://github.com/tgriesser/knex/blob/master/CONTRIBUTING.md#i-would-like-to-add-support-for-new-dialect-to-knex-is-it-possible\" rel=\"nofollow noreferrer\">here</a> <a href=\"https://github.com/vellotis/knex-alasql#usage\" rel=\"nofollow noreferrer\">and here</a> suggesting this is possible. I'm using the <a href=\"https://github.com/vellotis/knex-alasql\" rel=\"nofollow noreferrer\">knex-alasql</a> module and its setup instructions. Since I'm setting this up for seeding, I'm doing the configuration in the <code>knexfile.js</code> file located in the app root. However I'm consistently running into this error. </p>\n\n<p><a href=\"https://i.stack.imgur.com/c5627.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c5627.png\" alt=\"image of error\"></a></p>\n\n<p>I believe this is related to how knex parses the client key into a useable dialect. My assumption is that this would have worked on an older build of knex but doesn't on the current version I'm on <code>0.15.2</code></p>\n\n<p>Some insight on a workaround or a better in memory db that i can run integration tests on would be acceptable answers.</p>\n"}, {"tags": ["javascript", "html", "dom", "firefox-addon", "frame"], "answers": [{"tags": [], "owner": {"reputation": 1483, "user_id": 6213883, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh6.googleusercontent.com/-Undmv-4m5tk/AAAAAAAAAAI/AAAAAAAAACA/LsFc3HVNVFE/photo.jpg?sz=128", "display_name": "Florian Castelain", "link": "https://stackoverflow.com/users/6213883/florian-castelain"}, "is_accepted": true, "score": 0, "last_activity_date": 1546507345, "creation_date": 1546507345, "answer_id": 54019382, "question_id": 54012430, "link": "https://stackoverflow.com/questions/54012430/get-a-dom-inside-a-frame/54019382#54019382", "title": "Get a dom inside a frame", "body": "<p>Exploring the winfow object, (thank you console.log), I fanally managed to find:</p>\n\n<p><code>window[0].frames</code> returns directly the \"Interface\" frame. I can then access the element with <code>getElementById</code></p>\n\n<pre><code>var frame = window[0].frames;\n\nvar element= frame.document.getElementById(\"element\");\n</code></pre>\n"}], "owner": {"reputation": 1483, "user_id": 6213883, "user_type": "registered", "accept_rate": 69, "profile_image": "https://lh6.googleusercontent.com/-Undmv-4m5tk/AAAAAAAAAAI/AAAAAAAAACA/LsFc3HVNVFE/photo.jpg?sz=128", "display_name": "Florian Castelain", "link": "https://stackoverflow.com/users/6213883/florian-castelain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 54019382, "answer_count": 1, "score": 2, "last_activity_date": 1546507345, "creation_date": 1546459231, "question_id": 54012430, "link": "https://stackoverflow.com/questions/54012430/get-a-dom-inside-a-frame", "title": "Get a dom inside a frame", "body": "<p>For a browser extension, I am trying to access an element that is inside a frame, but it seems like I can't find the frame.</p>\n\n<p>I tried the following</p>\n\n<pre><code>var frame = parent.frames[\"Interface\"];\n\nvar frame = window.frames[\"Interface\"];\n</code></pre>\n\n<p>Both return <code>undefined</code> and I basically just don't understand how (if?) I can access this element, provided the information bellow:</p>\n\n<p>The \"achitecture\" of the document is the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/08tGH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/08tGH.png\" alt=\"enter image description here\"></a></p>\n\n<p>I need to access an element, using its ID, within the frame \"Interface\" that is somewhere in the body outlined in the image.</p>\n\n<p>When I print the <code>window</code> variable, I get the following:</p>\n\n<p><a href=\"https://i.stack.imgur.com/I04zu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I04zu.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "node.js", "visual-studio"], "comments": [{"owner": {"reputation": 1493, "user_id": 1711078, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26fa53eb09e9972bb1179c171a14ac60?s=128&d=identicon&r=PG", "display_name": "dvsoukup", "link": "https://stackoverflow.com/users/1711078/dvsoukup"}, "edited": false, "score": 0, "creation_date": 1546459923, "post_id": 54012417, "comment_id": 94861932, "body": "Are you using Visual Studio, or Visual Studio Code?  They are very different products.  You will get different answers depending on that."}, {"owner": {"reputation": 23, "user_id": 10859498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7847ef4c2c006a5284b4ebde38762e85?s=128&d=identicon&r=PG&f=1", "display_name": "Haley A", "link": "https://stackoverflow.com/users/10859498/haley-a"}, "reply_to_user": {"reputation": 1493, "user_id": 1711078, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26fa53eb09e9972bb1179c171a14ac60?s=128&d=identicon&r=PG", "display_name": "dvsoukup", "link": "https://stackoverflow.com/users/1711078/dvsoukup"}, "edited": false, "score": 0, "creation_date": 1546460390, "post_id": 54012417, "comment_id": 94862092, "body": "@dvsoukup Hi! thank you for responding. I created a new Javascript file inside VS and wrote the code there. Does that make it VS code?"}, {"owner": {"reputation": 4933, "user_id": 2444210, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039aeeb3bbfafb7fc2d8e8d56e04fc14?s=128&d=identicon&r=PG", "display_name": "IceMetalPunk", "link": "https://stackoverflow.com/users/2444210/icemetalpunk"}, "edited": false, "score": 0, "creation_date": 1546463270, "post_id": 54012417, "comment_id": 94863277, "body": "It&#39;s like a modern-day Abbott and Costello sketch... Visual Studio Code is the name of an IDE application, which is different from the application that&#39;s just called Visual Studio. Does your application call itself Visual Studio Code (in the title bar, menu bar, or icon)? Or does it just call itself Visual Studio?"}, {"owner": {"reputation": 23, "user_id": 10859498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7847ef4c2c006a5284b4ebde38762e85?s=128&d=identicon&r=PG&f=1", "display_name": "Haley A", "link": "https://stackoverflow.com/users/10859498/haley-a"}, "reply_to_user": {"reputation": 4933, "user_id": 2444210, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/039aeeb3bbfafb7fc2d8e8d56e04fc14?s=128&d=identicon&r=PG", "display_name": "IceMetalPunk", "link": "https://stackoverflow.com/users/2444210/icemetalpunk"}, "edited": false, "score": 0, "creation_date": 1546463633, "post_id": 54012417, "comment_id": 94863419, "body": "@IceMetalPunk Hi! I doubt it&#39;s Visual Studio Code. I checked and it&#39;s: Microsoft Visual Studio/Visual Studio 2017/Visual Studio Community (&lt;I chose the last title in Microsoft&#39;s download page)."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1546463697, "post_id": 54012417, "comment_id": 94863446, "body": "It doesn\u2019t matter what ide is being used. It\u2019s Node...."}, {"owner": {"reputation": 23, "user_id": 10859498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7847ef4c2c006a5284b4ebde38762e85?s=128&d=identicon&r=PG&f=1", "display_name": "Haley A", "link": "https://stackoverflow.com/users/10859498/haley-a"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1546464210, "post_id": 54012417, "comment_id": 94863655, "body": "@HereticMonkey I agree. I have a quick question regarding that. Is the quickest and best way to run through node to type [node filename] in cmd prompt inside Visual Studio?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10859498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7847ef4c2c006a5284b4ebde38762e85?s=128&d=identicon&r=PG&f=1", "display_name": "Haley A", "link": "https://stackoverflow.com/users/10859498/haley-a"}, "edited": false, "score": 0, "creation_date": 1546463001, "post_id": 54012635, "comment_id": 94863167, "body": "Thanks @dvsoukup for the link. So the callback would be handling the error. I did modify the code following this method, and I got this error: [Error: ENOENT: no such file or directory, unlink &#39;path\\test1.txt&#39;]"}, {"owner": {"reputation": 1493, "user_id": 1711078, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26fa53eb09e9972bb1179c171a14ac60?s=128&d=identicon&r=PG", "display_name": "dvsoukup", "link": "https://stackoverflow.com/users/1711078/dvsoukup"}, "reply_to_user": {"reputation": 23, "user_id": 10859498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7847ef4c2c006a5284b4ebde38762e85?s=128&d=identicon&r=PG&f=1", "display_name": "Haley A", "link": "https://stackoverflow.com/users/10859498/haley-a"}, "edited": false, "score": 0, "creation_date": 1546463473, "post_id": 54012635, "comment_id": 94863353, "body": "Does that path exist on your computer?  I couldn&#39;t tell you.  That error is thrown because the file/directory doesn&#39;t exist (hence the error description...).  Pass in the full path to the file."}, {"owner": {"reputation": 23, "user_id": 10859498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7847ef4c2c006a5284b4ebde38762e85?s=128&d=identicon&r=PG&f=1", "display_name": "Haley A", "link": "https://stackoverflow.com/users/10859498/haley-a"}, "edited": false, "score": 0, "creation_date": 1546463966, "post_id": 54012635, "comment_id": 94863550, "body": "Yes, I pasted it from the folder and checked spaces and file name. Strange!"}, {"owner": {"reputation": 1493, "user_id": 1711078, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26fa53eb09e9972bb1179c171a14ac60?s=128&d=identicon&r=PG", "display_name": "dvsoukup", "link": "https://stackoverflow.com/users/1711078/dvsoukup"}, "reply_to_user": {"reputation": 23, "user_id": 10859498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7847ef4c2c006a5284b4ebde38762e85?s=128&d=identicon&r=PG&f=1", "display_name": "Haley A", "link": "https://stackoverflow.com/users/10859498/haley-a"}, "edited": false, "score": 0, "creation_date": 1546464357, "post_id": 54012635, "comment_id": 94863706, "body": "the &#39;\\&#39; is an escape character.  So you probably need to use double slashes... like so: &#39;path\\\\to\\\\file\\theFile.txt&#39;.  It&#39;s kind of a hassle as you can see, which is why I&#39;d suggest you use that option to supply the __dirname variable, and concat it with path.join."}, {"owner": {"reputation": 23, "user_id": 10859498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7847ef4c2c006a5284b4ebde38762e85?s=128&d=identicon&r=PG&f=1", "display_name": "Haley A", "link": "https://stackoverflow.com/users/10859498/haley-a"}, "edited": false, "score": 0, "creation_date": 1546465218, "post_id": 54012635, "comment_id": 94864028, "body": "Is this how you define a variable: let __dirname = require(&#39;C:\\\\Users\\\\name\\\\Documents\\\\node intro\\\\test1.txt&#39;);"}, {"owner": {"reputation": 1493, "user_id": 1711078, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26fa53eb09e9972bb1179c171a14ac60?s=128&d=identicon&r=PG", "display_name": "dvsoukup", "link": "https://stackoverflow.com/users/1711078/dvsoukup"}, "reply_to_user": {"reputation": 23, "user_id": 10859498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7847ef4c2c006a5284b4ebde38762e85?s=128&d=identicon&r=PG&f=1", "display_name": "Haley A", "link": "https://stackoverflow.com/users/10859498/haley-a"}, "edited": false, "score": 0, "creation_date": 1546466371, "post_id": 54012635, "comment_id": 94864496, "body": "<a href=\"https://nodejs.org/docs/latest/api/modules.html#modules_dirname\" rel=\"nofollow noreferrer\">nodejs.org/docs/latest/api/modules.html#modules_dirname</a>. It&#39;s just a global variable available within nodejs during runtime.  You don&#39;t need to define it anywhere.  Just use it."}, {"owner": {"reputation": 23, "user_id": 10859498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7847ef4c2c006a5284b4ebde38762e85?s=128&d=identicon&r=PG&f=1", "display_name": "Haley A", "link": "https://stackoverflow.com/users/10859498/haley-a"}, "edited": false, "score": 0, "creation_date": 1546467052, "post_id": 54012635, "comment_id": 94864744, "body": "Thank you so much. It works!   [test1.txt was deleted]. I better read more about Node Js docs. Btw I think you&#39;re supposed to close the bracket in  (__dirname, &#39;test1.txt&#39;),  Thanks again!"}, {"owner": {"reputation": 1493, "user_id": 1711078, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26fa53eb09e9972bb1179c171a14ac60?s=128&d=identicon&r=PG", "display_name": "dvsoukup", "link": "https://stackoverflow.com/users/1711078/dvsoukup"}, "reply_to_user": {"reputation": 23, "user_id": 10859498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7847ef4c2c006a5284b4ebde38762e85?s=128&d=identicon&r=PG&f=1", "display_name": "Haley A", "link": "https://stackoverflow.com/users/10859498/haley-a"}, "edited": false, "score": 0, "creation_date": 1546468372, "post_id": 54012635, "comment_id": 94865202, "body": "Yes, you are.  I just wrote all that free hand though, and missed fully closing it.  Glad you caught it."}], "tags": [], "owner": {"reputation": 1493, "user_id": 1711078, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26fa53eb09e9972bb1179c171a14ac60?s=128&d=identicon&r=PG", "display_name": "dvsoukup", "link": "https://stackoverflow.com/users/1711078/dvsoukup"}, "is_accepted": true, "score": 3, "last_activity_date": 1546464405, "last_edit_date": 1546464405, "creation_date": 1546460339, "answer_id": 54012635, "question_id": 54012417, "link": "https://stackoverflow.com/questions/54012417/nodejs-fs-unlink-does-not-delete-file-vs/54012635#54012635", "title": "NodeJs: fs.unlink does not delete file [VS]", "body": "<p>As far as the code goes, you're not invoking <code>fs.unlink</code> properly.  For starters, it's asynchronous.  You will need to provide it a callback.  See example here:</p>\n\n<p><a href=\"https://nodejs.org/api/fs.html#fs_fs_unlink_path_callback\" rel=\"nofollow noreferrer\">https://nodejs.org/api/fs.html#fs_fs_unlink_path_callback</a></p>\n\n<p>Secondly, you need to provide it the full file path, not just the name of the file... ie:</p>\n\n<pre><code>var fs = require('fs');\nfs.unlink('C:\\path\\to\\my\\file\\test1.txt', (err) =&gt; {});\n</code></pre>\n\n<p>You can also supply it with the variable <code>__dirname</code> to utilize your current working directory from wherever you invoke node against the script.  Thus, that would look something like:</p>\n\n<pre><code>let fs = require('fs');\nlet path = require('path');\n\nfs.unlink(path.join(__dirname, 'test1.txt', (err) =&gt; {\n  if (err) throw err;\n  console.log('test1.txt was deleted');\n});\n</code></pre>\n\n<p>Currently, you can also invoke it synchronously using it's single parameter signature... thus you'd provide only the dir path:</p>\n\n<pre><code>fs.unlinkSync('C:\\\\path\\\\to\\\\my\\\\file\\\\test1.txt');\n</code></pre>\n\n<p>But, this is ill-advised as it will be blocking.  I'd only use the \"sync\" variant during some application bootstrapping process, where it'd be invoked only one time or so, at startup.  Try to fight the urge of it being \"easier\" to use and understand, and instead get yourself to understand asynchronous logic.</p>\n"}], "owner": {"reputation": 23, "user_id": 10859498, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7847ef4c2c006a5284b4ebde38762e85?s=128&d=identicon&r=PG&f=1", "display_name": "Haley A", "link": "https://stackoverflow.com/users/10859498/haley-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5700, "favorite_count": 0, "accepted_answer_id": 54012635, "answer_count": 1, "score": 0, "last_activity_date": 1546464405, "creation_date": 1546459189, "last_edit_date": 1546462448, "question_id": 54012417, "link": "https://stackoverflow.com/questions/54012417/nodejs-fs-unlink-does-not-delete-file-vs", "title": "NodeJs: fs.unlink does not delete file [VS]", "body": "<p>I am aware this isn't the first post about fs.unlink not working, but I'm very new to both Visual Studio and Node Js. </p>\n\n<p>I want to delete a file in the working folder, I got an error and the file is not deleted.</p>\n\n<p>Here is what I tried:</p>\n\n<pre><code>var fs = require('fs');\nfs.unlink('test1.txt');\n</code></pre>\n\n<p>PS: I installed the necessary Node Js components in VS. </p>\n"}, {"tags": ["javascript", "angular", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1546461653, "post_id": 54012781, "comment_id": 94862605, "body": "In the ngrx book collection example I was using the AuthGuard to prevent access to the book module prior to the user logging in.  Once they are logged in, they can see their book collection which is stored locally in memory.  So if the <code>canLoad</code> guard could be combined with preloading, then the book module would be available as soon as the user logs in.  Thus overall the app loads faster and we have the book module ready to go post login."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1546461677, "post_id": 54012781, "comment_id": 94862621, "body": "Related Question: <a href=\"https://stackoverflow.com/questions/54009560/canactivate-authguard-ignored\" title=\"canactivate authguard ignored\">stackoverflow.com/questions/54009560/&hellip;</a>"}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 1, "creation_date": 1546461904, "post_id": 54012781, "comment_id": 94862716, "body": "@Ole oh yeah, I&#39;ve had that problem too. You can define an empty parent route above the lazy loaded child route, and apply canActivateChild to the parent. This will prevent the loading of the module just to check if it can activate."}, {"owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "edited": false, "score": 0, "creation_date": 1546462093, "post_id": 54012781, "comment_id": 94862794, "body": "Sweet - I like that solution a LOT!  Thanks and happy new year!"}], "tags": [], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "is_accepted": true, "score": 2, "last_activity_date": 1546461108, "creation_date": 1546461108, "answer_id": 54012781, "question_id": 54012377, "link": "https://stackoverflow.com/questions/54012377/can-modules-using-canload-be-preloaded/54012781#54012781", "title": "Can modules using canLoad be preloaded?", "body": "<p>It doesn't really make sense, because preloading will happen eagerly when the application is started. So how would your <code>AuthGuard</code> know who the user is or what they have access to. It will happen before any services have had a chance to restore a previous session or communicate with anything.</p>\n\n<p><code>canLoad</code> and <code>canActivate</code> are asynchronous operations, and preloading is ineffective if it has to <em>wait</em> before it can preload.</p>\n\n<p>Ask yourself this question. Do I need the application to change routes to the <em>admin</em> section very quickly. If you answer yes, then use <code>canActivate</code> and preload but if latency is fine and you want to save on bandwidth then use <code>canLoad</code> without preload.</p>\n\n<p>With all that said, it is <em>not supported</em> according to the documentation.</p>\n\n<blockquote>\n  <p>The PreloadAllModules strategy does not load feature areas protected by a CanLoad guard. This is by design.</p>\n</blockquote>\n\n<p><a href=\"https://angular.io/guide/router#canload-blocks-preload\" rel=\"nofollow noreferrer\">https://angular.io/guide/router#canload-blocks-preload</a></p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 8083896, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd62d5b0075ef8656a3c24a16b195b18?s=128&d=identicon&r=PG&f=1", "display_name": "jonyeezs", "link": "https://stackoverflow.com/users/8083896/jonyeezs"}, "is_accepted": false, "score": 1, "last_activity_date": 1567557812, "creation_date": 1567557812, "answer_id": 57780164, "question_id": 54012377, "link": "https://stackoverflow.com/questions/54012377/can-modules-using-canload-be-preloaded/57780164#57780164", "title": "Can modules using canLoad be preloaded?", "body": "<p>With Angular 7 and above. It could be possible to preload with a guard through a custom <a href=\"https://angular.io/guide/router#custom-preloading-strategy\" rel=\"nofollow noreferrer\">PreloadStrategy</a></p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 54012781, "answer_count": 2, "score": 2, "last_activity_date": 1567557812, "creation_date": 1546458991, "question_id": 54012377, "link": "https://stackoverflow.com/questions/54012377/can-modules-using-canload-be-preloaded", "title": "Can modules using canLoad be preloaded?", "body": "<p><a href=\"https://stackoverflow.com/questions/42026045/difference-between-angulars-canload-and-canactivate\">This question</a> has this example:</p>\n\n<pre><code>{\n    path: 'admin',\n    loadChildren: \n'app/admin/admin.module#AdminModule',\n    canLoad: [AuthGuard]\n}\n</code></pre>\n\n<p>Can the AdminModule still be preloaded / prefetched with the canLoad guard in place?</p>\n\n<p>If not is the only other option to put the <code>AuthGuard</code> <code>canActivate</code> property on all the routes within the <code>AdminModule</code>?</p>\n"}, {"tags": ["javascript", "html", "dom", "button"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 12, "creation_date": 1546458968, "post_id": 54012357, "comment_id": 94861579, "body": "Should be <code>newQuote.addEventListener(&#39;click&#39;, run);</code> without the <code>()</code> after <code>run</code>. You want to pass a reference to the function, not the result of calling the function."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10859654, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bcab1b4d786410897e6b7a8d6035fb4?s=128&d=identicon&r=PG&f=1", "display_name": "KilgoreTroute07", "link": "https://stackoverflow.com/users/10859654/kilgoretroute07"}, "is_accepted": false, "score": 1, "last_activity_date": 1546461878, "creation_date": 1546461878, "answer_id": 54012920, "question_id": 54012357, "link": "https://stackoverflow.com/questions/54012357/why-is-my-button-not-calling-the-function-again/54012920#54012920", "title": "Why is my button not calling the function again?", "body": "<p>So at least part of the issue is this:</p>\n\n<p><code>newQuote.addEventListener('click', run());</code></p>\n\n<p>Which should just be:</p>\n\n<p><code>newQuote.addEventListener('click', run);</code></p>\n\n<p><strong>addEventListener</strong> expects the second argument you give it to be a function.  That will be the function it executes when <strong>newQuote</strong> is clicked.  But when you say <strong>run()</strong> (with the parenthesis) you're actually <strong>invoking</strong> the run function and giving the result to <strong>addEventListener</strong> which in this case would be <strong>undefined</strong>.</p>\n\n<p>There may be more issues, but I didn't have time to actually create a code pen and go over it thoroughly, but that was the first thing that stood out to me.</p>\n"}], "owner": {"reputation": 95, "user_id": 8455859, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f86dc69883cbf597451b77a56cb35547?s=128&d=identicon&r=PG", "display_name": "Thomas", "link": "https://stackoverflow.com/users/8455859/thomas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546461878, "creation_date": 1546458887, "question_id": 54012357, "link": "https://stackoverflow.com/questions/54012357/why-is-my-button-not-calling-the-function-again", "title": "Why is my button not calling the function again?", "body": "<p>I have been trying to create a button to call a function again in order to display a new HTML paragraph, but it won't do that for some reason.</p>\n\n<p>I tried to put a function call on the button in my JS file, but the button doesn't change anything when I click it.  It all just stays the same.</p>\n\n<p>This is towards the end of the HTML, where I created the button:</p>\n\n<pre><code>&lt;p&gt;&amp;#8220;We labour at our daily work more ardently and thoughtlessly than is necessary to sustain our life because it is even more necessary not to have leisure to stop and think. Haste is universal because everyone is in flight from himself.&amp;#8221;&lt;/p&gt;\n&lt;p&gt;&amp;#8220;One should die proudly when it is no longer possible to live proudly.&amp;#8221;&lt;/p&gt;\n    &lt;/div&gt;\n    &lt;button class=\"button\"&gt;Thus Spoke Nietzsche&lt;/button&gt;\n&lt;script src=\"randomize.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>And this is the JS:</p>\n\n<pre><code>\"use strict\";\nconst quotes = document.querySelectorAll(\"p\");\n\nconst randomize = function() {\n    let num = (Math.floor(Math.random() * Math.floor(quotes.length)) - 1);\n    let quote = quotes.item(num).innerHTML;\n  return quote;\n}\nconst run = function(){\n  let randomQuote = randomize();\n  let passage = document.getElementById('quotes');\n  passage.innerHTML = randomQuote;\n  return console.log(randomQuote);\n}\nconst newQuote = document.querySelector('.button');\nnewQuote.addEventListener('click', run());\n</code></pre>\n\n<p>Thanks for the help.</p>\n"}, {"tags": ["javascript", "papaparse"], "answers": [{"tags": [], "owner": {"reputation": 19482, "user_id": 1048862, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/a0f604322f5a3e0b11aad4c3529f83b5?s=128&d=identicon&r=PG", "display_name": "Matt", "link": "https://stackoverflow.com/users/1048862/matt"}, "is_accepted": true, "score": 1, "last_activity_date": 1546467546, "creation_date": 1546467546, "answer_id": 54013909, "question_id": 54012311, "link": "https://stackoverflow.com/questions/54012311/understanding-papaparse-with-local-file/54013909#54013909", "title": "Understanding Papaparse with local file", "body": "<p>It looks like the first example doesn't really make sense -- they're assigning <code>reader.onload</code> twice, so the first assignment that does the <code>$emit</code> thing isn't even used.</p>\n\n<p>I would say that the first example is a bit sloppy and unnecessary. The only reasons that jump to mind for using your own FileReader are:</p>\n\n<ol>\n<li>A desire to learn how to use the FileReader API,</li>\n<li>A need to customize the FileReader for some reason</li>\n<li>Wanting to time how long it takes to load the file vs. how long it takes Papa to parse the content</li>\n</ol>\n\n<p>I would mostly ignore the first example, and stick to the examples in Papa's documentation which are cleaner and simpler. </p>\n"}], "owner": {"reputation": 2699, "user_id": 4905433, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/26aa1f61f6ce8e5e43472c21d82cde86?s=128&d=identicon&r=PG&f=1", "display_name": "katie hudson", "link": "https://stackoverflow.com/users/4905433/katie-hudson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 487, "favorite_count": 0, "accepted_answer_id": 54013909, "answer_count": 1, "score": 3, "last_activity_date": 1546467546, "creation_date": 1546458611, "question_id": 54012311, "link": "https://stackoverflow.com/questions/54012311/understanding-papaparse-with-local-file", "title": "Understanding Papaparse with local file", "body": "<p>I am trying to understand how to properly implement Papaparse with a local file.  I have looked at a lot of online resources, and the approach they take is this</p>\n\n<pre><code>loadTextFromFile (event) {\n    if (!event.target.files[0]) {\n        alert('Upload a file.')\n    } else {\n        let file = event.target.files[0];\n        if (file) {\n            let reader = new FileReader();\n            let config = {\n                delimiter: \"\",\n                newline: \"\",\n                quoteChar: '\"',\n                escapeChar: '\"',\n                header: true,\n                trimHeaders: false\n            };\n\n            reader.onload = e =&gt; this.$emit('load', Papa.parse(event.target.result, config));\n            reader.onload = function (event) {\n                let results = Papa.parse(event.target.result, config);\n                console.log('PAPA RESULT: ', results.data);\n                console.log('ROWS:', event.target.result);\n            };\n            reader.readAsText(file);\n\n        } else {\n            alert('Please select a file to upload.')\n        }\n    }\n}\n</code></pre>\n\n<p>So they use a FileReader and it doesnt seem to load the file until the end within <code>readAsText</code>.  However, the above example works perfectly, although I still need to fully understand the code.</p>\n\n<p>Then there are other examples, which seem to do it without a FileReader</p>\n\n<pre><code>loadTextFromFile (event) {\n    if (!event.target.files[0]) {\n        alert('Upload a file.')\n    } else {\n        let file = event.target.files[0];\n        if (file) {\n            Papa.parse(file, {\n                header: true,\n                dynamicTyping: true,\n                complete: function(results) {\n                    console.log(results.data)\n                }\n            });\n\n        } else {\n            alert('Please select a file to upload.')\n        }\n    }\n}\n</code></pre>\n\n<p>Once again, this works perfectly.  So what I am trying to understand is why do people sometimes use the FileReader, and perhaps an explanation as to what exactly is happening in the first example.  </p>\n\n<p>What option should I be using?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "html", "css", "responsive-design", "bootstrap-4"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 9158492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ReTs.jpg?s=128&g=1", "display_name": "Himanshu", "link": "https://stackoverflow.com/users/9158492/himanshu"}, "edited": false, "score": 1, "creation_date": 1546459568, "post_id": 54012400, "comment_id": 94861805, "body": "This is it! It worked. I can&#39;t give you a vote becuase of my reputation but thanks a lot man. This was exactly what I was looking for."}, {"owner": {"reputation": 3118, "user_id": 947858, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PVFzy.jpg?s=128&g=1", "display_name": "crazymatt", "link": "https://stackoverflow.com/users/947858/crazymatt"}, "reply_to_user": {"reputation": 31, "user_id": 9158492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ReTs.jpg?s=128&g=1", "display_name": "Himanshu", "link": "https://stackoverflow.com/users/9158492/himanshu"}, "edited": false, "score": 0, "creation_date": 1546459695, "post_id": 54012400, "comment_id": 94861855, "body": "@Himanshu glad to help out and greatful you were able to get it to work"}], "tags": [], "owner": {"reputation": 3118, "user_id": 947858, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PVFzy.jpg?s=128&g=1", "display_name": "crazymatt", "link": "https://stackoverflow.com/users/947858/crazymatt"}, "is_accepted": true, "score": 2, "last_activity_date": 1546459083, "creation_date": 1546459083, "answer_id": 54012400, "question_id": 54012294, "link": "https://stackoverflow.com/questions/54012294/bootstrap-4-masonry-effect-responsiveness/54012400#54012400", "title": "Bootstrap 4 masonry effect responsiveness", "body": "<p>Try adding this code to the <code>&lt;head&gt;</code> of you HTML page:</p>\n\n<p><code>&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;</code></p>\n\n<p>I noticed it works on your CodePen (at least in Chrome emulation) but on your website it started to work when I added the viewport. You can <a href=\"https://www.w3schools.com/css/css_rwd_viewport.asp\" rel=\"nofollow noreferrer\">read more about that here</a> if you are interested. Hope that helps.</p>\n"}, {"tags": [], "owner": {"reputation": 978, "user_id": 3987870, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/085666bc4cd656478bb2f8237be2a457?s=128&d=identicon&r=PG&f=1", "display_name": "Nosajimiki", "link": "https://stackoverflow.com/users/3987870/nosajimiki"}, "is_accepted": false, "score": 0, "last_activity_date": 1546459525, "creation_date": 1546459525, "answer_id": 54012495, "question_id": 54012294, "link": "https://stackoverflow.com/questions/54012294/bootstrap-4-masonry-effect-responsiveness/54012495#54012495", "title": "Bootstrap 4 masonry effect responsiveness", "body": "<p>In addition to crazymatt's answer, The DVGA and WXGA mobile screen resolutions are 640px and 768px wide respectively.  In other words, 600px width does not cover high-end mobile screen widths.  799px is a better breakpoint for mobile devices.  Low-res tablets and laptops normally start at 800px; so, this means that you will get a 3 column layout on pretty much all non-phone devices, but a 1-column layout on pretty much all phones.</p>\n"}], "owner": {"reputation": 31, "user_id": 9158492, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8ReTs.jpg?s=128&g=1", "display_name": "Himanshu", "link": "https://stackoverflow.com/users/9158492/himanshu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "accepted_answer_id": 54012400, "answer_count": 2, "score": 1, "last_activity_date": 1546465416, "creation_date": 1546458528, "last_edit_date": 1546465416, "question_id": 54012294, "link": "https://stackoverflow.com/questions/54012294/bootstrap-4-masonry-effect-responsiveness", "title": "Bootstrap 4 masonry effect responsiveness", "body": "<p>I am trying to use bootstrap 4 masonry effect on my website. However, the cards aren't responsive. It is a basic page with no special effects. </p>\n\n<p>Note that the page works perfectly on resizing browser window but not on a mobile screen. \nI want the cards to stack up on each other on mobile screens as they appear on resizing the browser window.\nHere's the basic HTML code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>@media screen and (max-width: 992px) {\r\n    .card-columns {\r\n        -webkit-column-count: 3;\r\n        -moz-column-count: 3;\r\n        column-count: 3;\r\n    }\r\n}\r\n\r\n@media screen and (max-width: 600px) {\r\n    .card-columns {\r\n        -webkit-column-count: 1;\r\n        -moz-column-count: 1;\r\n        column-count: 1;\r\n    }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"container\"&gt;\r\n    &lt;div class=\"card-columns\"&gt;\r\n\r\n        &lt;div class=\"card\"&gt;\r\n            &lt;img class=\"card-img-top\" src=\"https://upload.wikimedia.org/wikipedia/commons/f/f9/Phoenicopterus_ruber_in_S%C3%A3o_Paulo_Zoo.jpg\" alt=\"Card image cap\"&gt;\r\n            &lt;div class=\"card-body\"&gt;\r\n                &lt;p class=\"card-text\"&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\r\n                tempor incididunt ut labore et dolore magna aliqua.&lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"card\"&gt;\r\n            &lt;img class=\"card-img-top\" src=\"https://upload.wikimedia.org/wikipedia/commons/f/f9/Phoenicopterus_ruber_in_S%C3%A3o_Paulo_Zoo.jpg\" alt=\"Card image cap\"&gt;\r\n            &lt;div class=\"card-body\"&gt;\r\n                &lt;p class=\"card-text\"&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\r\n                tempor incididunt ut labore et dolore magna aliqua.&lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"card\"&gt;\r\n            &lt;img class=\"card-img-top\" src=\"https://upload.wikimedia.org/wikipedia/commons/f/f9/Phoenicopterus_ruber_in_S%C3%A3o_Paulo_Zoo.jpg\" alt=\"Card image cap\"&gt;\r\n            &lt;div class=\"card-body\"&gt;\r\n                &lt;p class=\"card-text\"&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\r\n                tempor incididunt ut labore et dolore magna aliqua.&lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"card\"&gt;\r\n            &lt;img class=\"card-img-top\" src=\"https://upload.wikimedia.org/wikipedia/commons/f/f9/Phoenicopterus_ruber_in_S%C3%A3o_Paulo_Zoo.jpg\" alt=\"Card image cap\"&gt;\r\n            &lt;div class=\"card-body\"&gt;\r\n                &lt;p class=\"card-text\"&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\r\n                tempor incididunt ut labore et dolore magna aliqua.&lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"card\"&gt;\r\n            &lt;img class=\"card-img-top\" src=\"https://upload.wikimedia.org/wikipedia/commons/f/f9/Phoenicopterus_ruber_in_S%C3%A3o_Paulo_Zoo.jpg\" alt=\"Card image cap\"&gt;\r\n            &lt;div class=\"card-body\"&gt;\r\n                &lt;p class=\"card-text\"&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod\r\n                tempor incididunt ut labore et dolore magna aliqua.&lt;/p&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have used the media queries in CSS. Still, the page just appears zoomed out on small screens.</p>\n\n<p>Here's how it looks on mobile screens.</p>\n\n<p><img src=\"https://i.stack.imgur.com/d5wsi.jpg\" alt=\"enter image description here\"></p>\n\n\n\n<p>Here's a link to the website if you want to view it on your mobile: \n<a href=\"https://cocky-hermann-3927c7.netlify.com/\" rel=\"nofollow noreferrer\">https://cocky-hermann-3927c7.netlify.com/</a></p>\n\n\n"}, {"tags": ["javascript", "node.js", "mongodb"], "comments": [{"owner": {"reputation": 9433, "user_id": 6804958, "user_type": "registered", "accept_rate": 27, "profile_image": "https://i.stack.imgur.com/lj3En.jpg?s=128&g=1", "display_name": "Muhammad Usman", "link": "https://stackoverflow.com/users/6804958/muhammad-usman"}, "edited": false, "score": 3, "creation_date": 1546458548, "post_id": 54012256, "comment_id": 94861402, "body": "default port for <code>mongodb</code> is <code>27017</code>"}, {"owner": {"reputation": 3440, "user_id": 2983609, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/MtvUf.jpg?s=128&g=1", "display_name": "Pytth", "link": "https://stackoverflow.com/users/2983609/pytth"}, "edited": false, "score": 0, "creation_date": 1546546486, "post_id": 54012256, "comment_id": 94894649, "body": "Are you starting your Mongo server before trying to connect to it?"}], "answers": [{"comments": [{"owner": {"reputation": 82, "user_id": 9879961, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ashkan haghshenas", "link": "https://stackoverflow.com/users/9879961/ashkan-haghshenas"}, "edited": false, "score": 0, "creation_date": 1546585935, "post_id": 54028790, "comment_id": 94904516, "body": "You can explain more precisely\u061f\u061f"}, {"owner": {"reputation": 82, "user_id": 9879961, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ashkan haghshenas", "link": "https://stackoverflow.com/users/9879961/ashkan-haghshenas"}, "edited": false, "score": 0, "creation_date": 1546587184, "post_id": 54028790, "comment_id": 94904904, "body": "Thank you for your help. The problem has been resolved"}, {"owner": {"reputation": 10585, "user_id": 1548432, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/3eccf815d82c84550fa37f1f77c1c23d?s=128&d=identicon&r=PG", "display_name": "Kay", "link": "https://stackoverflow.com/users/1548432/kay"}, "reply_to_user": {"reputation": 82, "user_id": 9879961, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ashkan haghshenas", "link": "https://stackoverflow.com/users/9879961/ashkan-haghshenas"}, "edited": false, "score": 0, "creation_date": 1607694021, "post_id": 54028790, "comment_id": 115359536, "body": "@Ashkanhaghshenas what is the explanation, what happend here?"}], "tags": [], "owner": {"reputation": 3095, "user_id": 8559, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a1c6df9ee7136c69e576932b8fa06fa?s=128&d=identicon&r=PG", "display_name": "Thevs", "link": "https://stackoverflow.com/users/8559/thevs"}, "is_accepted": true, "score": 2, "last_activity_date": 1546544532, "creation_date": 1546544532, "answer_id": 54028790, "question_id": 54012256, "link": "https://stackoverflow.com/questions/54012256/what-is-this-error-mongonetworkerror-connection-0-to-127-0-0-18080-closed/54028790#54028790", "title": "What is this Error{ MongoNetworkError: connection 0 To 127.0.0.1:8080 closed}?", "body": "<p>Delete <code>mongod.lock</code> and (re)start <code>mongod</code> server.</p>\n"}], "owner": {"reputation": 82, "user_id": 9879961, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Ashkan haghshenas", "link": "https://stackoverflow.com/users/9879961/ashkan-haghshenas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1055, "favorite_count": 0, "accepted_answer_id": 54028790, "answer_count": 1, "score": 2, "last_activity_date": 1546544532, "creation_date": 1546458272, "last_edit_date": 1546459314, "question_id": 54012256, "link": "https://stackoverflow.com/questions/54012256/what-is-this-error-mongonetworkerror-connection-0-to-127-0-0-18080-closed", "title": "What is this Error{ MongoNetworkError: connection 0 To 127.0.0.1:8080 closed}?", "body": "<p>This is my code. I want to connect to Mongodb, but issue the <code>{MongoNetworkError: connection 0 to 127.0.0.1:27017 closed}</code> error.</p>\n\n<pre><code> MongoClinet.connect(\"mongodb://127.0.0.1:27017/demo\",{ useNewUrlParser: true},(err,db)=&gt;{\n        if(err)\n            console.log(err.toString());\n        else{\n            console.log(\"Connected\");\n        }\n    });\n\n\nMongoNetworkError: connection 0 to localhost:27017 closed\nMongoNetworkError: connection 1 to localhost:27017closed\nMongoNetworkError: connection 2 to localhost:27017 closed\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "vuejs2", "datepicker", "vue-component"], "comments": [{"owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "edited": false, "score": 0, "creation_date": 1546458830, "post_id": 54012252, "comment_id": 94861515, "body": "please what&#39;s your specific question?"}, {"owner": {"reputation": 3228, "user_id": 4742088, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AncDQ.jpg?s=128&g=1", "display_name": "Helenesh", "link": "https://stackoverflow.com/users/4742088/helenesh"}, "reply_to_user": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "edited": false, "score": 0, "creation_date": 1546458991, "post_id": 54012252, "comment_id": 94861591, "body": "I wish to change the minNights property based on the month. I edited my question to be clearer. Thank you in advance"}], "answers": [{"comments": [{"owner": {"reputation": 3228, "user_id": 4742088, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AncDQ.jpg?s=128&g=1", "display_name": "Helenesh", "link": "https://stackoverflow.com/users/4742088/helenesh"}, "edited": false, "score": 0, "creation_date": 1546459867, "post_id": 54012501, "comment_id": 94861915, "body": "Thanks, but how do I set minNights to a specific month? The only visible property I can work with, I think, is the one from my second screenshot (the activeMonthIndex which is generated by the HotelDatepicker library). How can I access it / is there a better way? I need to link a month to my minNights."}, {"owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "reply_to_user": {"reputation": 3228, "user_id": 4742088, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AncDQ.jpg?s=128&g=1", "display_name": "Helenesh", "link": "https://stackoverflow.com/users/4742088/helenesh"}, "edited": false, "score": 0, "creation_date": 1546460538, "post_id": 54012501, "comment_id": 94862152, "body": "when i check the <a href=\"https://github.com/krystalcampioni/vue-hotel-datepicker/blob/master/src/components/DatePicker.vue\" rel=\"nofollow noreferrer\"><code>code</code></a> the value of activeMonthIndex is not emitted from that component"}, {"owner": {"reputation": 3228, "user_id": 4742088, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AncDQ.jpg?s=128&g=1", "display_name": "Helenesh", "link": "https://stackoverflow.com/users/4742088/helenesh"}, "edited": false, "score": 0, "creation_date": 1546460822, "post_id": 54012501, "comment_id": 94862249, "body": "Then I wonder where that property comes from. I only see it when I click on the HotelDatePicker component within the Vue dev tools. Any idea how I can access the month in another way then? Thank you."}, {"owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "reply_to_user": {"reputation": 3228, "user_id": 4742088, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AncDQ.jpg?s=128&g=1", "display_name": "Helenesh", "link": "https://stackoverflow.com/users/4742088/helenesh"}, "edited": false, "score": 0, "creation_date": 1546460925, "post_id": 54012501, "comment_id": 94862293, "body": "in this way you couldn&#39;t, did you try to get the month from <code>newCheckIn</code>?"}, {"owner": {"reputation": 3228, "user_id": 4742088, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AncDQ.jpg?s=128&g=1", "display_name": "Helenesh", "link": "https://stackoverflow.com/users/4742088/helenesh"}, "edited": false, "score": 0, "creation_date": 1546461185, "post_id": 54012501, "comment_id": 94862434, "body": "@Brahim, the problem is that I need to set the <code>minNights</code> and need access to a month, before the <code>newCheckin</code> is initialized..."}, {"owner": {"reputation": 3228, "user_id": 4742088, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AncDQ.jpg?s=128&g=1", "display_name": "Helenesh", "link": "https://stackoverflow.com/users/4742088/helenesh"}, "edited": false, "score": 1, "creation_date": 1546461336, "post_id": 54012501, "comment_id": 94862491, "body": "I know, but the problem is that I need to set the <code>minNights</code> BEFORE the <code>newCheckin</code> gets initialized... So I need to set that <code>minNights</code> property before the user starts interacting with my datepicker. Thank you for your help, I hope we&#39;ll find a solution."}, {"owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "reply_to_user": {"reputation": 3228, "user_id": 4742088, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AncDQ.jpg?s=128&g=1", "display_name": "Helenesh", "link": "https://stackoverflow.com/users/4742088/helenesh"}, "edited": false, "score": 0, "creation_date": 1546461732, "post_id": 54012501, "comment_id": 94862645, "body": "please explain me the role of <code>activeMonthIndex</code> maybe i suggest you an alternative solution"}, {"owner": {"reputation": 3228, "user_id": 4742088, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AncDQ.jpg?s=128&g=1", "display_name": "Helenesh", "link": "https://stackoverflow.com/users/4742088/helenesh"}, "edited": false, "score": 0, "creation_date": 1546462003, "post_id": 54012501, "comment_id": 94862750, "body": "the <code>activeMonthIndex</code> gives me 0 when the datepicker shows the January view. It gives me 1 when February comes into view, etc.  You can see how it is set in the library <a href=\"https://github.com/krystalcampioni/vue-hotel-datepicker/blob/master/src/components/Day.vue\" rel=\"nofollow noreferrer\">github.com/krystalcampioni/vue-hotel-datepicker/blob/master/&zwnj;&#8203;src/&hellip;</a>"}, {"owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "reply_to_user": {"reputation": 3228, "user_id": 4742088, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AncDQ.jpg?s=128&g=1", "display_name": "Helenesh", "link": "https://stackoverflow.com/users/4742088/helenesh"}, "edited": false, "score": 0, "creation_date": 1546462104, "post_id": 54012501, "comment_id": 94862799, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/186068/discussion-between-boussadjra-brahim-and-helenesh\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "is_accepted": true, "score": 1, "last_activity_date": 1546468051, "last_edit_date": 1546468051, "creation_date": 1546459555, "answer_id": 54012501, "question_id": 54012252, "link": "https://stackoverflow.com/questions/54012252/vuejs-datepicker-dynamically-change-data-based-on-month/54012501#54012501", "title": "VueJS Datepicker: dynamically change data based on month", "body": "<p>Your <code>minNights</code> prop should be bound to a <code>computed</code> property like :</p>\n\n<pre><code>&lt;datepicker\n:startDate=\"startDate\"\n@check-in-changed=\"setCheckInDate\"\n@check-out-changed=\"setCheckOutDate\"\n:maxNights=\"21\"\n:minNights=\"minNights\" //dynamic based on month\n:checkIn=\"checkIn\"\n:checkOut=\"checkOut\"\n:disabledDates=\"bookedDates\"\n:firstDayOfWeek=\"1\"\n:i18n=\"lang\"\n:showYear=\"true\"\n&gt;\n</code></pre>\n\n<p>script :</p>\n\n<pre><code>  computed:{\n        minNights(){\n\n          let currentMonth=this.$children[0]._data.activeMonthIndex;\n          if(currentMonth==6 || currentMonth==7){\n             return currentMonth;\n           }   \n         }\n     }\n</code></pre>\n"}], "owner": {"reputation": 3228, "user_id": 4742088, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/AncDQ.jpg?s=128&g=1", "display_name": "Helenesh", "link": "https://stackoverflow.com/users/4742088/helenesh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 879, "favorite_count": 1, "accepted_answer_id": 54012501, "answer_count": 1, "score": 1, "last_activity_date": 1568441838, "creation_date": 1546458260, "last_edit_date": 1568441838, "question_id": 54012252, "link": "https://stackoverflow.com/questions/54012252/vuejs-datepicker-dynamically-change-data-based-on-month", "title": "VueJS Datepicker: dynamically change data based on month", "body": "<p>I am new to VueJS and I'm incorporating the <a href=\"https://github.com/krystalcampioni/vue-hotel-datepicker\" rel=\"nofollow noreferrer\"><code>vue-hotel-datepicker</code></a> library into my project.</p>\n\n<p><strong>Goal</strong>: change the <code>minNights</code> data property depending on the month. I was able to simply override that value as described in the <a href=\"https://github.com/krystalcampioni/vue-hotel-datepicker#minnights\" rel=\"nofollow noreferrer\">documentation</a>. </p>\n\n<p><a href=\"https://i.stack.imgur.com/Q3LpU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Q3LpU.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Problem</strong>: <code>minNights</code> should be 8 in August and July. When I use the Vue inspector, I can see that the <code>HotelDatePicker</code> component (imported from the library) has an 'activeMonthIndex', so I believe I should use that. But how can I access this data property from my parent? How can I dynamically change the <code>minNights</code> property based on the month? </p>\n\n<p><a href=\"https://i.stack.imgur.com/sm3TS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sm3TS.png\" alt=\"enter image description here\"></a></p>\n\n<p>My template:</p>\n\n<pre><code>&lt;datepicker\n    :startDate=\"startDate\"\n    @check-in-changed=\"setCheckInDate\"\n    @check-out-changed=\"setCheckOutDate\"\n    :maxNights=\"21\"\n    :minNights=\"minNights\" //dynamic based on month\n    :checkIn=\"checkIn\"\n    :checkOut=\"checkOut\"\n    :disabledDates=\"bookedDates\"\n    :firstDayOfWeek=\"1\"\n    :i18n=\"lang\"\n    :showYear=\"true\"\n &gt;\n</code></pre>\n\n<p></p>\n\n<p>I have made a <a href=\"https://gist.github.com/heleneshaikh/1fa634436826e4225433066e60049544\" rel=\"nofollow noreferrer\"><code>gist</code></a> for those who wish to see my code.\nAny guidance is much appreciated.</p>\n"}, {"tags": ["javascript", "ajax", "asp.net-mvc", "server-sent-events"], "comments": [{"owner": {"reputation": 745, "user_id": 4613828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T9vzI.jpg?s=128&g=1", "display_name": "Abdelrahman M. Allam", "link": "https://stackoverflow.com/users/4613828/abdelrahman-m-allam"}, "edited": false, "score": 1, "creation_date": 1546462892, "post_id": 54012237, "comment_id": 94863119, "body": "Why <code>Response.Close();</code> inside foreach block, since it ends response?"}, {"owner": {"reputation": 189, "user_id": 9975106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0XWVc3EhONs/AAAAAAAAAAI/AAAAAAAAAvU/ik3bclMH_vs/photo.jpg?sz=128", "display_name": "nostalgk", "link": "https://stackoverflow.com/users/9975106/nostalgk"}, "reply_to_user": {"reputation": 745, "user_id": 4613828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T9vzI.jpg?s=128&g=1", "display_name": "Abdelrahman M. Allam", "link": "https://stackoverflow.com/users/4613828/abdelrahman-m-allam"}, "edited": false, "score": 0, "creation_date": 1546462956, "post_id": 54012237, "comment_id": 94863144, "body": "@AbdelrahmanM.Allam Sorry, that has since been removed, but either way it didn&#39;t seem to be affecting behavior. I&#39;ll update the code."}, {"owner": {"reputation": 745, "user_id": 4613828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T9vzI.jpg?s=128&g=1", "display_name": "Abdelrahman M. Allam", "link": "https://stackoverflow.com/users/4613828/abdelrahman-m-allam"}, "edited": false, "score": 0, "creation_date": 1546463943, "post_id": 54012237, "comment_id": 94863541, "body": "Ok, lets moving using <code>Response.Close();</code> within  <code>if(action == &#39;stop&#39;)</code> block only"}, {"owner": {"reputation": 189, "user_id": 9975106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0XWVc3EhONs/AAAAAAAAAAI/AAAAAAAAAvU/ik3bclMH_vs/photo.jpg?sz=128", "display_name": "nostalgk", "link": "https://stackoverflow.com/users/9975106/nostalgk"}, "reply_to_user": {"reputation": 745, "user_id": 4613828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/T9vzI.jpg?s=128&g=1", "display_name": "Abdelrahman M. Allam", "link": "https://stackoverflow.com/users/4613828/abdelrahman-m-allam"}, "edited": false, "score": 0, "creation_date": 1546464019, "post_id": 54012237, "comment_id": 94863574, "body": "Yes, that is the case. No specific reason, just figured it&#39;d be cleaner to close the response (especially during debug sessions) after the work has been done."}], "answers": [{"tags": [], "owner": {"reputation": 189, "user_id": 9975106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0XWVc3EhONs/AAAAAAAAAAI/AAAAAAAAAvU/ik3bclMH_vs/photo.jpg?sz=128", "display_name": "nostalgk", "link": "https://stackoverflow.com/users/9975106/nostalgk"}, "is_accepted": false, "score": 0, "last_activity_date": 1546543177, "creation_date": 1546543177, "answer_id": 54028515, "question_id": 54012237, "link": "https://stackoverflow.com/questions/54012237/server-sent-events-with-ajax-how-to-resolve-sse-get-with-xhr-post/54028515#54028515", "title": "Server Sent Events with AJAX: How to resolve SSE GET with XHR POST?", "body": "<p>I ended up solving this. My original idea was to pass the viewmodel in each of my methods back and forth with a <code>Dictionary&lt;string,string&gt;</code> to key in each event that can be used, but the viewmodel is not persistent. I solved this issue further by implementing the events in a <code>Dictionary</code> saved in <code>Session</code> data, and the usage of Sessions for MVC can be found in the resource here that I used:</p>\n\n<p><a href=\"https://code.msdn.microsoft.com/How-to-create-and-access-447ada98\" rel=\"nofollow noreferrer\">https://code.msdn.microsoft.com/How-to-create-and-access-447ada98</a></p>\n\n<p>My final implementation looks like this:</p>\n\n<pre><code>public void Stop(ProjectViewModel model)\n    {\n        ProjectManager manager = new ProjectManager();\n        if (model.Servers != null &amp;&amp; model.Servers.Count != 0)\n        {\n            string machine = model.Servers[0];\n            foreach (string service in model.Services)\n            {\n                manager.StopService(service, machine);\n                model.events.Add(service, \"stopped\");\n                this.Session[\"Events\"] = model.events;\n            }\n        }\n        //return View(model);\n    }\n\npublic void Message(ProjectViewModel model)\n    {\n        Thread.Sleep(1000);\n        Response.ContentType = \"text/event-stream\";\n        Response.CacheControl = \"no-cache\";\n        Response.AddHeader(\"connection\", \"keep-alive\");\n        var events = this.Session[\"Events\"] as Dictionary&lt;string, string&gt;;\n        Response.Write($\"event: message\\n\");\n        if (events != null &amp;&amp; events.Count != 0)\n        {\n            foreach (KeyValuePair&lt;string, string&gt; message in events)\n            {\n                Response.Write($\"data: {message.Key} has been {message.Value}\\n\\n\");\n            }\n        }\n        Response.Flush();\n        Thread.Sleep(1000);\n        Response.Close();\n\n    }\n</code></pre>\n\n<p>Adding keep-alive as connection attribute in the HTTP Response header was also important to getting the SSEs to send, and the <code>Thread.Sleep(1000)</code>'s are used due to the stop action and message action happening simultaneously. I'm sure there's some optimizations that can go into this, but for now, this is functional and able to be further developed.</p>\n"}], "owner": {"reputation": 189, "user_id": 9975106, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0XWVc3EhONs/AAAAAAAAAAI/AAAAAAAAAvU/ik3bclMH_vs/photo.jpg?sz=128", "display_name": "nostalgk", "link": "https://stackoverflow.com/users/9975106/nostalgk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 897, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546543177, "creation_date": 1546458138, "last_edit_date": 1546528476, "question_id": 54012237, "link": "https://stackoverflow.com/questions/54012237/server-sent-events-with-ajax-how-to-resolve-sse-get-with-xhr-post", "title": "Server Sent Events with AJAX: How to resolve SSE GET with XHR POST?", "body": "<p>I'm trying to resolve an issue between, what I perceive is, AJAX and Server Sent Events. I have an application that does a post with some instructions to the controller, and I would like the controller to send some commentary back as an event to let the user know that the action requested has been performed (can have errors or take a while).</p>\n\n<p>The idea is that the user can send a package of different instructions through the client, and the server will report through SSE when each of these actions are completed. </p>\n\n<p>The problem I see through Fiddler is that when the post is performed, the response that it gets back contains my eventsource message that I would like used. However, the eventsource code also appears to call a GET, in which it appears to want that eventsource message. Because it doesn't get that, the connection repeatedly closes.</p>\n\n<p>I currently have some controller code like so:</p>\n\n<pre><code>    [System.Web.Http.HttpPost]\n    public void Stop(ProjectViewModel model)\n    {\n        ProjectManager manager = new ProjectManager();\n        if (model.Servers != null &amp;&amp; model.Servers.Count != 0)\n        {\n            string machine = model.Servers[0];\n            foreach (string service in model.Services)\n            {\n                manager.StopService(service, machine);\n                Message(\"stop\", service);\n            }\n        }\n    }\n</code></pre>\n\n<p>and in my view, both Ajax/XHR and server sent events set up like so:</p>\n\n<pre><code>var form = document.getElementById(\"submitform\");\n\n    form.onsubmit = function (e) {\n        // stop the regular form submission\n        e.preventDefault();\n\n        // collect the form data while iterating over the inputs\n        var data = {};\n        for (var i = 0, ii = 2; i &lt; ii; ++i) {\n            var input = form[i];\n            if (input.name == \"Servers\") {\n                data[input.name] = document.getElementById(\"ServerSelect\").options[document.getElementById(\"ServerSelect\").selectedIndex].text;\n            }\n            else if (input.name == \"Services\")\n                data[input.name] = document.getElementById(\"ServiceSelect\").options[document.getElementById(\"ServiceSelect\").selectedIndex].text;\n        }\n        if (action) { data[\"action\"] = action };\n\n        // construct an HTTP request\n        var xhr = new XMLHttpRequest();\n        if (action == \"stop\") {\n            xhr.open(form.method, '/tools/project/stop', true);\n        }\n\n        if (action == \"start\") {\n            xhr.open(form.method, '/tools/project/start', true)\n        }\n\n        xhr.setRequestHeader('Content-Type', 'application/json; charset=urf-8');\n\n\n\n        // send the collected data as JSON\n        xhr.send(JSON.stringify(data));\n\n        xhr.onloadend = function () {\n            // done\n        };\n    };\n\n    function events() {\n        if (window.EventSource == undefined) {\n            // If not supported  \n            document.getElementById('eventlog').innerHTML = \"Your browser doesn't support Server Sent Events.\";\n        } else {\n            var source = new EventSource('../tools/project/Stop');\n            source.addEventListener(\"message\", function (message) { console.log(message.data) });\n\n            source.onopen = function (event) {\n                document.getElementById('eventlog').innerHTML += 'Connection Opened.&lt;br&gt;';\n                console.log(\"Open\");\n            };\n\n            source.onerror = function (event) {\n                if (event.eventPhase == EventSource.CLOSED) {\n                    document.getElementById('eventlog').innerHTML += 'Connection Closed.&lt;br&gt;';\n                    console.log(\"Close\");\n                }\n            };\n\n            source.onmessage = function (event) {\n                //document.getElementById('eventlog').innerHTML += event.data + '&lt;br&gt;';\n                var newElement = document.createElement(\"li\");\n                newElement.textContent = \"message: \" + event.data;\n                document.getElementById(\"eventlog\").appendChild(newElement)\n                console.log(\"Message\");\n            };\n        }\n    };\n</code></pre>\n\n<p>I'm somewhat new to web development, and I'm not sure how to resolve this issue. Is there a way I can have the eventsource message read from that POST? Or have it sent to the GET instead of being sent as a response to the POST? Overall, it seems that the most damning issue is that I can't seem to get the event messages sent to the GET that is requested by the eventsource api.</p>\n\n<p>EDIT: Since posting this, I tried creating a new method in the controller that specifically handles eventsource requests, but it appears that the event response still somehow ends up in the POST response body.</p>\n\n<pre><code>        public void Message(string action, string service)\n    {\n        Response.ContentType = \"text/event-stream\";\n        Response.CacheControl = \"no-cache\";\n        //Response.Write($\"event: message\\n\");\n        if (action == \"stop\")\n        {\n            Response.Write($\"data: &lt;li&gt; {service} has stopped &lt;/li&gt;\\n\\n\");\n        }\n        Response.Flush();\n        Thread.Sleep(1000);\n        Response.Close();\n    }\n</code></pre>\n"}, {"tags": ["javascript", "google-chrome", "iframe", "safari", "cross-browser"], "comments": [{"owner": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1546541045, "post_id": 54012223, "comment_id": 94892411, "body": "A new page load requires the user to re-auth the autoplay, even when it&#39;s an iframe."}], "owner": {"reputation": 1007, "user_id": 3946214, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/b9fe2a4005f7867e8a0566ae266f371f?s=128&d=identicon&r=PG", "display_name": "Arya", "link": "https://stackoverflow.com/users/3946214/arya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 67, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546540151, "creation_date": 1546458057, "last_edit_date": 1546540151, "question_id": 54012223, "link": "https://stackoverflow.com/questions/54012223/will-a-video-played-after-a-user-gesture-and-iframe-refresh-be-blocked-by-a-brow", "title": "Will a video played after a user gesture and iframe refresh be blocked by a browser&#39;s autoplay policy?", "body": "<p>Many browsers have policies that block autoplaying videos. See for example: <a href=\"https://developers.google.com/web/updates/2017/09/autoplay-policy-changes\" rel=\"nofollow noreferrer\">https://developers.google.com/web/updates/2017/09/autoplay-policy-changes</a></p>\n\n<p>Let's say there is a workflow similar to the following (I know it seems contrived, but it's the best option at this point, I can go into detail why if anyone is curious):</p>\n\n<ol>\n<li>User clicks on an iframe video to play it.</li>\n<li>The iframe sets a cookie to set it to play after an iframe refresh (window.location.reload())</li>\n<li>On reload, the player reads the cookie, and plays the video.</li>\n</ol>\n\n<p>Would any browsers see this as an autoplay and potentially block the video from playing? Or would they recognize the iframe as having been interacted with, and not block this playback?</p>\n\n<p>I'm mostly curious about Safari, though other browsers like Firefox and Chrome would be of interest as well.</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "jquery", "html", "removechild"], "comments": [{"owner": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 0, "creation_date": 1546458226, "post_id": 54012215, "comment_id": 94861262, "body": "What&#39;s the point of repeating same code 3 times?"}, {"owner": {"reputation": 25, "user_id": 7560197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CeO2Y.jpg?s=128&g=1", "display_name": "Will John", "link": "https://stackoverflow.com/users/7560197/will-john"}, "reply_to_user": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 0, "creation_date": 1546458337, "post_id": 54012215, "comment_id": 94861315, "body": "I tried to implement a system that identifies if you click the first close button, close the first content and the first tab, and so on!"}, {"owner": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 0, "creation_date": 1546458390, "post_id": 54012215, "comment_id": 94861335, "body": "If you click <code>index</code>th button, you close <code>index</code>th tab, isn&#39;t it?"}, {"owner": {"reputation": 25, "user_id": 7560197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CeO2Y.jpg?s=128&g=1", "display_name": "Will John", "link": "https://stackoverflow.com/users/7560197/will-john"}, "reply_to_user": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 0, "creation_date": 1546458536, "post_id": 54012215, "comment_id": 94861395, "body": "The close button is the child of the tab, and the content to be closed is in another div, when clicked on the close button, removes the tab that is the button and the contents of another div"}, {"owner": {"reputation": 51399, "user_id": 1553888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/01ac05cf8db6f338aef3c2f65e348f5d?s=128&d=identicon&r=PG", "display_name": "u_mulder", "link": "https://stackoverflow.com/users/1553888/u-mulder"}, "edited": false, "score": 0, "creation_date": 1546458650, "post_id": 54012215, "comment_id": 94861445, "body": "<code>$(&#39;.&#39; + tabHistory).eq(INDEX).remove();</code> see how you should use <code>index</code>, got it?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1546459022, "post_id": 54012215, "comment_id": 94861598, "body": "You have <i>TONS</i> of duplicate code. If you need a bunch of lines elsewhere, too, <i>do not</i> copy and paste them over. Learn how to use functions, and you will make it much easier for yourself."}], "answers": [{"tags": [], "owner": {"reputation": 2691, "user_id": 4864063, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100259670624966/picture?type=large", "display_name": "jmcgriz", "link": "https://stackoverflow.com/users/4864063/jmcgriz"}, "is_accepted": true, "score": 1, "last_activity_date": 1546458626, "creation_date": 1546458626, "answer_id": 54012317, "question_id": 54012215, "link": "https://stackoverflow.com/questions/54012215/jquery-eq-selects-too-many-elements/54012317#54012317", "title": "jQuery eq() selects too many elements", "body": "<p><code>var index = $(this).index();</code> always returns 0. Replacing that with <code>$('.' + tabHistoryBtn).index(this)</code> will do what you're expecting.</p>\n\n<p><a href=\"http://api.jquery.com/index\" rel=\"nofollow noreferrer\">http://api.jquery.com/index</a> has more information on how to use $.index()</p>\n"}], "owner": {"reputation": 25, "user_id": 7560197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CeO2Y.jpg?s=128&g=1", "display_name": "Will John", "link": "https://stackoverflow.com/users/7560197/will-john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 54012317, "answer_count": 1, "score": 0, "last_activity_date": 1546458875, "creation_date": 1546458028, "last_edit_date": 1546458875, "question_id": 54012215, "link": "https://stackoverflow.com/questions/54012215/jquery-eq-selects-too-many-elements", "title": "jQuery eq() selects too many elements", "body": "<p>I'm removing a div according to which close button the user clicks, so I'm using eq (), the problem is that for example the user clicks on eq (0), the first one says some (as expected), but the second div is also considered eq (0) and some. It is as if for example I close the div eq (0) the other two divs also close, as if they were eq (0), but this all with just a click on the div eq (0) for example that was to close only one, I've already tried using stopImmediatePropagation (), but when I close a div it closes all of the above, and when I do not use it all shuts down! Anyone know what the problem is?</p>\n\n<p>Here is an example of the eq () code:</p>\n\n<pre><code>$('.' + tabHistoryBtn).click(function() { //close button\n            var index = $(this).index();\n            if(index == 0){\n                $('.' + currentDivTabBarContent).eq(0).remove(); //content to remove\n                $('.' + tabHistory).eq(0).remove();\n                if(currentbtn == \"home\"){\n                    countContentHome = countContentHome -1;\n                }if(currentbtn == \"explore\"){\n                    countContentExplore = countContentExplore -1;\n                }\n                alert(\"1\");\n            }\n            if(index == 1){\n                $('.' + currentDivTabBarContent).eq(1).remove();\n                $('.' + tabHistory).eq(1).remove();\n                if(currentbtn == \"home\"){\n                    countContentHome = countContentHome -1;\n                }if(currentbtn == \"explore\"){\n                    countContentExplore = countContentExplore -1;\n                }\n                alert(\"2\");\n            }\n            if(index == 2){\n                $('.' + currentDivTabBarContent).eq(2).remove();\n                $('.' + tabHistory).eq(2).remove();\n                if(currentbtn == \"home\"){\n                    countContentHome = countContentHome -1;\n                }if(currentbtn == \"explore\"){\n                    countContentExplore = countContentExplore -1;\n                }\n                alert(\"3\");\n            }\n});\n</code></pre>\n\n<p>Here is the Jsfiddle with the complete code: <a href=\"http://jsfiddle.net/willianjohns/w5eLs8d4/16/\" rel=\"nofollow noreferrer\">http://jsfiddle.net/willianjohns/w5eLs8d4/16/</a></p>\n"}, {"tags": ["javascript", "c", "express"], "comments": [{"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1546465636, "post_id": 54012209, "comment_id": 94864181, "body": "A <code>Content-length</code> header that specifies the correct size of the request body ought to help."}, {"owner": {"reputation": 103, "user_id": 5942913, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f768a8117cce4903d9f470c70860c888?s=128&d=identicon&r=PG&f=1", "display_name": "rated2016", "link": "https://stackoverflow.com/users/5942913/rated2016"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1546474843, "post_id": 54012209, "comment_id": 94866819, "body": "I am doing a GET request which believe does not require a content-length? Nonetheless, I have tried that approach but did not work."}, {"owner": {"reputation": 103, "user_id": 5942913, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f768a8117cce4903d9f470c70860c888?s=128&d=identicon&r=PG&f=1", "display_name": "rated2016", "link": "https://stackoverflow.com/users/5942913/rated2016"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1546475652, "post_id": 54012209, "comment_id": 94867000, "body": "Found something interesting and seems to be working now. So, if I comment the first getResponse(&amp;a) call both writes go in successfully. Now, the last response call returns a string where the two responses are concatenated. WOW. I will update my post with what my getResponse(&amp;a) looks like. Would be great if someone can explain why it is that."}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 1, "creation_date": 1546478508, "post_id": 54012209, "comment_id": 94867511, "body": "I can explain the behavior when you comment out the first <code>getResponse()</code> call, but to fully answer the question I need a more complete explanation of <i>exactly</i> what you do in the original case, and what result you observe, including any error messages.  I&#39;m not prepared to believe that the description already given is complete.  A hint: your <code>getResponse()</code> function is not suited for use with a persistent connection."}, {"owner": {"reputation": 103, "user_id": 5942913, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f768a8117cce4903d9f470c70860c888?s=128&d=identicon&r=PG&f=1", "display_name": "rated2016", "link": "https://stackoverflow.com/users/5942913/rated2016"}, "reply_to_user": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "edited": false, "score": 0, "creation_date": 1546481037, "post_id": 54012209, "comment_id": 94867967, "body": "I have added the outputs for both scenarios. Here are links to my files containing the whole: <a href=\"https://pastebin.com/u3R4WVMA\" rel=\"nofollow noreferrer\">pastebin.com/u3R4WVMA</a>  <a href=\"https://pastebin.com/J59RRkC0\" rel=\"nofollow noreferrer\">pastebin.com/J59RRkC0</a>. Thanks!"}], "answers": [{"comments": [{"owner": {"reputation": 103, "user_id": 5942913, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f768a8117cce4903d9f470c70860c888?s=128&d=identicon&r=PG&f=1", "display_name": "rated2016", "link": "https://stackoverflow.com/users/5942913/rated2016"}, "edited": false, "score": 0, "creation_date": 1546539039, "post_id": 54015823, "comment_id": 94891547, "body": "Awesome, this helped a lot!"}, {"owner": {"reputation": 103, "user_id": 5942913, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f768a8117cce4903d9f470c70860c888?s=128&d=identicon&r=PG&f=1", "display_name": "rated2016", "link": "https://stackoverflow.com/users/5942913/rated2016"}, "edited": false, "score": 0, "creation_date": 1546540088, "post_id": 54015823, "comment_id": 94892007, "body": "So, it&#39;s the while loop with read that is preventing the attempt of second request. The wait block caused the connection to be lost? Either the connection was active enough to send the second request, but not enough to get a response, or not active enough to send the request in the first place. Similarly, I am confused why an error was not thrown from either write or read calls."}, {"owner": {"reputation": 103, "user_id": 5942913, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f768a8117cce4903d9f470c70860c888?s=128&d=identicon&r=PG&f=1", "display_name": "rated2016", "link": "https://stackoverflow.com/users/5942913/rated2016"}, "edited": false, "score": 0, "creation_date": 1546540917, "post_id": 54015823, "comment_id": 94892354, "body": "The read call returns 0 bytes once the connection has closed from the other end and not the usual end-of-file? With persistent connection, my code for reading the response is waiting too long causing the connection to be lost. So, I can&#39;t have persistent connection where I send 1 request now and another 30 minutes later?"}, {"owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "reply_to_user": {"reputation": 103, "user_id": 5942913, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f768a8117cce4903d9f470c70860c888?s=128&d=identicon&r=PG&f=1", "display_name": "rated2016", "link": "https://stackoverflow.com/users/5942913/rated2016"}, "edited": false, "score": 0, "creation_date": 1546545915, "post_id": 54015823, "comment_id": 94894406, "body": "@rated2016, the connection being closed <i>is</i> the usual end-of-file for a socket.  Until then, the remote side may send more data, so even if there isn&#39;t any data to read <i>now</i>, there may be some later, therefore the end of the file has not been reached (or at least it cannot be recognized)."}], "tags": [], "owner": {"reputation": 120941, "user_id": 2402272, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/1182b1d5518a596d4e8cfe0567a65c4d?s=128&d=identicon&r=PG", "display_name": "John Bollinger", "link": "https://stackoverflow.com/users/2402272/john-bollinger"}, "is_accepted": true, "score": 1, "last_activity_date": 1546484915, "creation_date": 1546484915, "answer_id": 54015823, "question_id": 54012209, "link": "https://stackoverflow.com/questions/54012209/how-to-make-mutiple-socket-writes-with-one-active-socket-connection-to-an-expres/54015823#54015823", "title": "How to make mutiple socket writes with one active socket connection to an express web server?", "body": "<blockquote>\n  <p>I am trying to do multiple write requests with one active socket connection to an express server running on localhost.</p>\n</blockquote>\n\n<p>Your <code>receiveResponse()</code> function is not suited for use with a persistent (a.k.a. keep-alive) connection.  Consider this fragment:</p>\n\n<blockquote>\n<pre><code>int total, bytes, received = 0;\n\nmemset(response, 0, RESPONSE_SIZE);\ntotal = RESPONSE_SIZE - 1;\ndo {\n    bytes = read(*socket_ref, response + received, total - received);\n    if (bytes &lt; 0) {\n        perror(\"ERROR reading response from socket yo\");\n        exit(EXIT_FAILURE);\n    }\n    if (bytes == 0) break;\n    received += bytes;\n} while (received &lt; total);\n</code></pre>\n</blockquote>\n\n<p>Under what conditions does the loop terminate? Well, it terminates</p>\n\n<ul>\n<li><p>if the receive buffer fills.</p></li>\n<li><p>if <code>read()</code> returns a negative number, signaling an error.</p></li>\n<li><p>if <code>read()</code> returns 0, signaling end-of-file.</p></li>\n</ul>\n\n<p>No other in-program condition causes the loop to terminate.  Each of the first two possibilities triggers an error message and program termination, so if one of those were occurring then you would know (right?).  Therefore, you must be seeing the last alternative ... <em>or are you</em>?</p>\n\n<p>What exactly does end-of-file mean for a socket?  As with any other file, it means that no more data can (ever) be obtained from the socket -- for natural reasons, else you would get an error instead.  For a socket specifically, that means the remote peer has closed the connection, or at least has shut down its output side of that connection.  And that's exactly what <em>does not</em> happen with a persistent connection, at least not quickly.  When it eventually does happen, if you wait that long, the connection is gone -- you need to establish a new one to receive another response.</p>\n\n<p>So,</p>\n\n<blockquote>\n  <p>I am expected to get two \"71\" on my express server end, but I am only\n  receiving the first one.</p>\n</blockquote>\n\n<p>This is because the second request is not attempted until after the server closes the connection (the read loop blocks until then), at which point the second request cannot be delivered, or at minimum, no response to it can be received.</p>\n\n<blockquote>\n  <p>The first write request gives a successful\n  response back, but the next one sends no response (http connection is\n  kept alive).</p>\n</blockquote>\n\n<p>The response to the first request is successfully received as expected.  No response to the second is received because the second is not successfully delivered to the server, which is also consistent with what you see on the server side.  I am at a loss to explain why the client does not emit an error message in this case, which is why I pressed you for more information, but it is certain that <code>getResponse()</code> will return successfully at most once for any given connection, and it is improbable that any further requests can successfully be sent over the connection after that.</p>\n\n<p>You commented,</p>\n\n<blockquote>\n  <p>if I comment the first getResponse(&amp;a) call both writes go in successfully. Now, the last response call returns a string where the two responses are concatenated.</p>\n</blockquote>\n\n<p>That's perfectly natural.  You're using a persistent connection, so the response to each successfully delivered request is readable from the same connection.  In this case, you defer reading the data until after both requests have been sent, so the server responds to both.</p>\n\n<p>To handle persistent connections, an HTTP client needs to be able to recognize message boundaries other than at EOF.  The standard way to do this is by parsing the response headers as they come in, finding and parsing the content-length among them, and after reaching the response body, reading the number of bytes given by the content length.</p>\n"}], "owner": {"reputation": 103, "user_id": 5942913, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/f768a8117cce4903d9f470c70860c888?s=128&d=identicon&r=PG&f=1", "display_name": "rated2016", "link": "https://stackoverflow.com/users/5942913/rated2016"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 54015823, "answer_count": 1, "score": 0, "last_activity_date": 1546484915, "creation_date": 1546457964, "last_edit_date": 1546480938, "question_id": 54012209, "link": "https://stackoverflow.com/questions/54012209/how-to-make-mutiple-socket-writes-with-one-active-socket-connection-to-an-expres", "title": "How to make mutiple socket writes with one active socket connection to an express web server?", "body": "<p>I am trying to do multiple write requests with one active socket connection to an express server running on localhost. I am making a http request to a express web server running on localhost. The message is sent like so:</p>\n\n<pre><code>GET /temp?sensorId=1&amp;value=71 HTTP/1.1\nContent-Type: text/html; charset=utf-8\nConnection: keep-alive\n</code></pre>\n\n<p>I made sure to include \"Connection: keep-alive\" header in the message (though, it's not necessary since I am using HTTP/1.1). </p>\n\n<p>Code for sending request</p>\n\n<pre><code>void sendRequest (char** message, int* socket_ref) {\nint total = strlen(*message);\nint bytes, sent = 0;\ndo {\n    bytes = write(*socket_ref, *message + sent, total - sent);\n    if (bytes &lt; 0) {\n        perror(\"ERROR writing message to socket yo\");\n        exit(EXIT_FAILURE);\n    }\n    if (bytes == 0) break;\n    sent += bytes;\n} while (sent &lt; total);\n\n   printf(\"Data sent. %d\\n\\n\", sent);\n}\n</code></pre>\n\n<p>Driver code</p>\n\n<pre><code> char* dummy[80] = {\"GET\", \"localhost\", \"3001\", \"/temp\", \"?sensorId=1&amp;value=71\"};\n        setMessage(a, dummy);\n        makeRequest(a);\n\n        getResponse(&amp;a);\n        sleep(2);\n\n        makeRequest(a);\n        getResponse(&amp;a);\n</code></pre>\n\n<p>I am expected to get two \"71\" on my express server end, but I am only receiving the first one. The first write request gives a successful response back, but the next one sends no response (http connection is kept alive).</p>\n\n<p>The two write commands do return the expected number of bytes written.</p>\n\n<p>The <em>makeRequest(a)</em> is a wrapper to call sendRequest() as shown above.<br>\nThe <em>getRequest(&amp;a)</em> is a wrapper to call read on the socket.</p>\n\n<p><strong>UPDATE</strong>\nThe getResponse(&amp;a) simply makes a call to the following code</p>\n\n<pre><code>#define RESPONSE_SIZE 4096\nchar* receiveResponse(int* socket_ref) {\nchar* response = malloc(RESPONSE_SIZE);\nint total, bytes, received = 0;\n\nmemset(response, 0, RESPONSE_SIZE);\ntotal = RESPONSE_SIZE - 1;\ndo {\n    bytes = read(*socket_ref, response + received, total - received);\n    if (bytes &lt; 0) {\n        perror(\"ERROR reading response from socket yo\");\n        exit(EXIT_FAILURE);\n    }\n    if (bytes == 0) break;\n    received += bytes;\n} while (received &lt; total);\nif (received == total) {\n    perror(\"ERROR storing complete response from socket yo\");\n    exit(EXIT_FAILURE);\n}\nreturn response;\n</code></pre>\n\n<p>}</p>\n\n<p><strong>UPDATE 2</strong>\nHaving called getResponse(&amp;a)after each makeRequest(a) call results in the following response:</p>\n\n<pre><code>Data sent. 125\n\nResponse:\nHTTP/1.1 200 OK\nX-Powered-By: Express\nAccess-Control-Allow-Origin: *\nContent-Type: text/html; charset=utf-8\nContent-Length: 4\nETag: W/\"4-d2PTd7kl/AFtn95E/ir6IzKjD9I\"\nDate: Thu, 03 Jan 2019 01:51:12 GMT\nConnection: keep-alive\n\nGOOD\nData sent. 125\n\nResponse:\n</code></pre>\n\n<p>However, if a getResponse(&amp;a) is called after the two makeRequest(a) then both writes occur successfully, but I get the following for response:</p>\n\n<pre><code>Data sent. 125\n\nData sent. 125\n\nResponse:\nHTTP/1.1 200 OK\nX-Powered-By: Express\nAccess-Control-Allow-Origin: *\nContent-Type: text/html; charset=utf-8\nContent-Length: 4\nETag: W/\"4-d2PTd7kl/AFtn95E/ir6IzKjD9I\"\nDate: Thu, 03 Jan 2019 02:00:43 GMT\nConnection: keep-alive\n\nGOODHTTP/1.1 200 OK\nX-Powered-By: Express\nAccess-Control-Allow-Origin: *\nContent-Type: text/html; charset=utf-8\nContent-Length: 4\nETag: W/\"4-d2PTd7kl/AFtn95E/ir6IzKjD9I\"\nDate: Thu, 03 Jan 2019 02:00:43 GMT\nConnection: keep-alive\n\nGOOD\n</code></pre>\n"}, {"tags": ["javascript", "adobe-illustrator"], "comments": [{"owner": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1546458216, "post_id": 54012191, "comment_id": 94861257, "body": "What happens when it fails?"}, {"owner": {"reputation": 81, "user_id": 5673494, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10208844537412376/picture?type=large", "display_name": "Lady_dragon4", "link": "https://stackoverflow.com/users/5673494/lady-dragon4"}, "reply_to_user": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1546458638, "post_id": 54012191, "comment_id": 94861442, "body": "It only grabs the groups with out any of the colors/swatches"}, {"owner": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1546458910, "post_id": 54012191, "comment_id": 94861552, "body": "console.log(thisSw); and see what it is finding, just after you define it."}, {"owner": {"reputation": 81, "user_id": 5673494, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10208844537412376/picture?type=large", "display_name": "Lady_dragon4", "link": "https://stackoverflow.com/users/5673494/lady-dragon4"}, "reply_to_user": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1546459585, "post_id": 54012191, "comment_id": 94861812, "body": "i know what it is finding. it is finding the group the swatches are grouped in but the what is in side of the group. It does copy the groups but not the swatches"}, {"owner": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1546459650, "post_id": 54012191, "comment_id": 94861840, "body": "You might want to paste-in some of your resulting data."}, {"owner": {"reputation": 81, "user_id": 5673494, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10208844537412376/picture?type=large", "display_name": "Lady_dragon4", "link": "https://stackoverflow.com/users/5673494/lady-dragon4"}, "reply_to_user": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1546460278, "post_id": 54012191, "comment_id": 94862054, "body": "This web page is not best for uploading image. The best i can explain it is that i can move all of the swatches in to groups in adobe illustrator, but with the code above only move the swatches. If i change <code>swatches</code> out for <code>swatchGroups</code> it will only copy the group/folder but not swatches"}, {"owner": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1546460367, "post_id": 54012191, "comment_id": 94862082, "body": "I&#39;m not sure how AI works, but you may need to copy the group first, the loop through and populate the swatches within it."}, {"owner": {"reputation": 81, "user_id": 5673494, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10208844537412376/picture?type=large", "display_name": "Lady_dragon4", "link": "https://stackoverflow.com/users/5673494/lady-dragon4"}, "reply_to_user": {"reputation": 106878, "user_id": 12579, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/969b153010f69ec07458fa1d9e8a413b?s=128&d=identicon&r=PG", "display_name": "Diodeus - James MacFarlane", "link": "https://stackoverflow.com/users/12579/diodeus-james-macfarlane"}, "edited": false, "score": 0, "creation_date": 1546460734, "post_id": 54012191, "comment_id": 94862218, "body": "i figured something like that, but i am not a great coder my self and cant seem to find anything like this on line, so that is why I was asking. I am hoping some one can tell me a code loop or at least point me in the direct of one."}, {"owner": {"reputation": 133386, "user_id": 295783, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/da548667c834109a7059b51060e53dff?s=128&d=identicon&r=PG", "display_name": "mplungjan", "link": "https://stackoverflow.com/users/295783/mplungjan"}, "edited": false, "score": 0, "creation_date": 1546494693, "post_id": 54012191, "comment_id": 94870552, "body": "Click the image in the editor. You can upload images. Or link to an image and I can insert it until you have more rep"}], "owner": {"reputation": 81, "user_id": 5673494, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10208844537412376/picture?type=large", "display_name": "Lady_dragon4", "link": "https://stackoverflow.com/users/5673494/lady-dragon4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546458854, "creation_date": 1546457879, "last_edit_date": 1546458854, "question_id": 54012191, "link": "https://stackoverflow.com/questions/54012191/i-am-trying-to-get-this-code-to-copy-swatch-groups-with-the-colors-too", "title": "I am trying to get this code to copy swatch groups with the colors too", "body": "<p>I found some code that almost works for what i need, but i need it to copy the groups as well. Any ideas?</p>\n\n<pre><code>#target Illustrator  \n\nvar theFile = new \nFile('C:/location/colors.ai');  \n\nopen(theFile,null);  \n\n\n  var doc2 = app.activeDocument, doc = app.documents[1];  \n  var thisSw, newSw;  \n  for(var i=0; i&lt;doc2.swatches.length; i++){  \n    thisSw = doc2.swatches[i];  \n    if(thisSw.name == \"[Registration]\" || thisSw.name == \"[None]\"){  \n      continue;  \n    }  \n    newSw = doc.swatches.add();  \n    newSw.name = thisSw.name;  \n   newSw.color = thisSw.color;  \n  };  \n    doc2.close(SaveOptions.DONOTSAVECHANGES);  \n</code></pre>\n\n<p>Here is the original code for this as well  <a href=\"https://forums.adobe.com/thread/2285302\" rel=\"nofollow noreferrer\">https://forums.adobe.com/thread/2285302</a> \nI have tried changing swatches out for <code>swatchGroups</code>, but it only grabs the groups no colors. It did not understand how to fix that. I am not sure if there is a <code>var</code> i need to add for that or not.</p>\n"}, {"tags": ["javascript", "search", "requirejs", "algolia"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 9871065, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aYV4zLRVcOE/AAAAAAAAAAI/AAAAAAAAAAc/v_tRvitzi4o/photo.jpg?sz=128", "display_name": "Sylvai", "link": "https://stackoverflow.com/users/9871065/sylvai"}, "is_accepted": false, "score": 0, "last_activity_date": 1552922139, "creation_date": 1552922139, "answer_id": 55224544, "question_id": 54012121, "link": "https://stackoverflow.com/questions/54012121/requirejs-algolia-docsearch-throws-mismatched-anonymous-define-error/55224544#55224544", "title": "RequireJS + Algolia Docsearch throws mismatched anonymous define()..error", "body": "<p>I think you should include something like</p>\n\n<pre><code>    &lt;script&gt;\n/* &lt;![CDATA[ */\n\nrequire.config( {\n    paths: {\n        \"docsearchLib\": \"https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min\"\n    }\n}\n\n);\nrequire([\"docsearchLib\"], function(docsearch) {\n    docsearch( {\n        apiKey: '&lt;API_KEY&gt;', indexName: '&lt;INDEX_NAME&gt;', inputSelector: '&lt;YOUR_CSS_SELECTOR&gt;', debug: false,\n    }\n    );\n}\n\n);\n/* ]]&gt; */\n\n&lt;/script&gt;\n</code></pre>\n\n<p>You might want to have a look to <a href=\"https://docs.solace.com/\" rel=\"nofollow noreferrer\">https://docs.solace.com/</a>, they are actually using DocSearch and require.js altogether</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user7612032"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1552922139, "creation_date": 1546457421, "last_edit_date": 1546533716, "question_id": 54012121, "link": "https://stackoverflow.com/questions/54012121/requirejs-algolia-docsearch-throws-mismatched-anonymous-define-error", "title": "RequireJS + Algolia Docsearch throws mismatched anonymous define()..error", "body": "<p>I am trying to implement Algolia Docsearch with MadCap Flare. Flare is a technical documentation tool that generates HTML output. </p>\n\n<p>Docsearch's underlying crawler is configured and works properly in codepen. However, I am having an issue integrating it with Flare. Flare has a number of inbuilt scripts, which I cannot access or change, including <strong>require.js</strong>. I get a bunch of errors, <strong>Uncaught Error: Mismatched anonymous define() module..</strong>, when I run the build. </p>\n\n<p>So to fix this, I gave a stab at loading the Docsearch js using <code>require.js</code>, which I am doing completely wrong. My JS knowledge is limited!</p>\n\n<p>Html search input:</p>\n\n<pre><code>&lt;div class=\"input-group\"&gt;\n    &lt;input id=\"&lt;YOUR_CSS_SELECTOR&gt;\"  type=\"text\" class=\"form-control\" placeholder=\"Search\" aria-label=\"Search Field\" aria-describedby=\"infoSearch\" /&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Original Algolia Docsearch CDN js and snippet is something like this:</p>\n\n<pre><code>&lt;!-- Before the closing &lt;/body&gt; --&gt;\n    &lt;script src=\"https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js\"&gt;\n    &lt;/script&gt;\n    &lt;script&gt;\n    docsearch({\n        apiKey: '&lt;API_KEY&gt;',\n        indexName: '&lt;INDEX_NAME&gt;',\n        inputSelector: '&lt;YOUR_CSS_SELECTOR&gt;',\n        debug: false\n    });\n    &lt;/script&gt;\n</code></pre>\n\n<p>So to load these scripts using <code>require.js</code> I have done the following:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nrequire.config({\n    enforceDefine: true,\n    paths: {\n        \"docSearch\": \"https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js\"\n    },\n    waitSeconds: 40\n});\nrequire(['docSearch']);//This is probably not doing anything.\n&lt;/script&gt;\n&lt;script&gt;\ndocsearch({\n    apiKey: '&lt;API_KEY&gt;',\n    indexName: '&lt;INDEX_NAME&gt;',\n    inputSelector: '&lt;YOUR_CSS_SELECTOR&gt;',\n    debug: false\n}); //This throws \"Uncaught Reference Error docsearch is not defined\" error\n&lt;/script&gt;\n</code></pre>\n\n<p>I looked at other threads/questions and require.js docs as well, but couldn't find something that could figure out. Any help/guidance would be great!</p>\n"}, {"tags": ["javascript", "react-native", "react-native-android", "react-navigation"], "comments": [{"owner": {"reputation": 567, "user_id": 8891686, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/91252099762a15fa09310c6db4e324c7?s=128&d=identicon&r=PG", "display_name": "joshkmartinez", "link": "https://stackoverflow.com/users/8891686/joshkmartinez"}, "edited": false, "score": 1, "creation_date": 1546460847, "post_id": 54012120, "comment_id": 94862258, "body": "Could you add your <code>package.json</code> file to the question? The dependencies will be different from the expo snack"}, {"owner": {"reputation": 1072, "user_id": 1871024, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/7bcef58cb53eba354fe4368fda3251fe?s=128&d=identicon&r=PG", "display_name": "Naz\u0131r Dogan", "link": "https://stackoverflow.com/users/1871024/naz%c4%b1r-dogan"}, "edited": false, "score": 0, "creation_date": 1546461939, "post_id": 54012120, "comment_id": 94862728, "body": "Do you have <code>AppRegistry</code> in your root app ?"}, {"owner": {"reputation": 320, "user_id": 9628054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/977033d3724a9b741be7df62e9589a13?s=128&d=identicon&r=PG&f=1", "display_name": "kpaul", "link": "https://stackoverflow.com/users/9628054/kpaul"}, "edited": false, "score": 0, "creation_date": 1546462580, "post_id": 54012120, "comment_id": 94862988, "body": "joshkmartinez Added. Which dependencies am I missing?"}, {"owner": {"reputation": 320, "user_id": 9628054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/977033d3724a9b741be7df62e9589a13?s=128&d=identicon&r=PG&f=1", "display_name": "kpaul", "link": "https://stackoverflow.com/users/9628054/kpaul"}, "edited": false, "score": 0, "creation_date": 1546462600, "post_id": 54012120, "comment_id": 94862996, "body": "Naz\u0131r Dogan No."}, {"owner": {"reputation": 4574, "user_id": 5838198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cacc39652dd5853658fbc9d2825b02e?s=128&d=identicon&r=PG&f=1", "display_name": "Siavas", "link": "https://stackoverflow.com/users/5838198/siavas"}, "edited": false, "score": 0, "creation_date": 1546466019, "post_id": 54012120, "comment_id": 94864352, "body": "Is that the entire <code>package.json</code> file? If so, which command do you use to start the app?"}, {"owner": {"reputation": 320, "user_id": 9628054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/977033d3724a9b741be7df62e9589a13?s=128&d=identicon&r=PG&f=1", "display_name": "kpaul", "link": "https://stackoverflow.com/users/9628054/kpaul"}, "edited": false, "score": 0, "creation_date": 1546466059, "post_id": 54012120, "comment_id": 94864368, "body": "Siavas <code>expo start</code>"}], "answers": [{"tags": [], "owner": {"reputation": 67, "user_id": 8283671, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-KUtlelAidWk/AAAAAAAAAAI/AAAAAAAAE00/SZA9pUJ1FDc/photo.jpg?sz=128", "display_name": "Fuad Rustamzade", "link": "https://stackoverflow.com/users/8283671/fuad-rustamzade"}, "is_accepted": false, "score": -2, "last_activity_date": 1546462161, "last_edit_date": 1546462161, "creation_date": 1546460897, "answer_id": 54012735, "question_id": 54012120, "link": "https://stackoverflow.com/questions/54012120/cant-get-basic-example-from-react-navigation-to-work-correctly/54012735#54012735", "title": "Can&#39;t get basic example from react-navigation to work correctly", "body": "<p>If everything is the same but you have an error, may be you should run <code>npm install</code>. Or remove node_modules and then <code>npm install</code>. You can try it with yarn too (<code>yarn</code>).</p>\n"}], "owner": {"reputation": 320, "user_id": 9628054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/977033d3724a9b741be7df62e9589a13?s=128&d=identicon&r=PG&f=1", "display_name": "kpaul", "link": "https://stackoverflow.com/users/9628054/kpaul"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 106, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1546462568, "creation_date": 1546457412, "last_edit_date": 1546462568, "question_id": 54012120, "link": "https://stackoverflow.com/questions/54012120/cant-get-basic-example-from-react-navigation-to-work-correctly", "title": "Can&#39;t get basic example from react-navigation to work correctly", "body": "<p>I'm trying to get a basic <code>AppContainer</code> to work in react-navigation but am having some trouble. </p>\n\n<p><a href=\"https://snack.expo.io/@react-navigation/hello-world-v3\" rel=\"nofollow noreferrer\">This example here</a> works perfectly fine on snack.expo.io and even works fine when I run it on my device off of snack. However, when I copy paste the exact code into VSCode and push it to my device, it errors out with:</p>\n\n<pre><code>Invariant Violation: Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: object.\n\nCheck the render method of `NavigationContainer`.\n</code></pre>\n\n<p>The code is the exact same, yet errors out on my Android device. Am I missing a dependency or something?</p>\n\n<p>Thanks!</p>\n\n<p>EDIT: </p>\n\n<p><code>package.json</code> file:</p>\n\n<pre><code>{\n  \"main\": \"node_modules/expo/AppEntry.js\",\n  \"private\": true,\n  \"dependencies\": {\n    \"es6-promise\": \"^4.2.5\",\n    \"expo\": \"^25.0.0\",\n    \"isomorphic-fetch\": \"^2.2.1\",\n    \"react\": \"^16.7.0\",\n    \"react-native\": \"https://github.com/expo/react-native/archive/sdk-25.0.0.tar.gz\",\n    \"react-navigation\": \"^3.0.9\"\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "npm"], "owner": {"reputation": 1237, "user_id": 2498528, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/55d4d094bb5e738bb706d9a4a0dba730?s=128&d=identicon&r=PG", "display_name": "AnKing", "link": "https://stackoverflow.com/users/2498528/anking"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1609393916, "creation_date": 1546457152, "last_edit_date": 1609393916, "question_id": 54012076, "link": "https://stackoverflow.com/questions/54012076/extend-jquery-library-when-it-is-imported-via-npm", "title": "Extend jQuery library when it is imported via NPM", "body": "<p>I'm trying to figure out a way to extend my jQuery library in an NPM (React) project. (I know jQuery is not a good friend of react but in this instance i really need to do so)</p>\n<p>I'm extending my jQuery function like this:</p>\n<pre><code>(function ($) {\n    $.my_function= function (parent, id) {...}\n})(jQuery)\n</code></pre>\n<p>But how would i I call this in my react application flow? Should I create a custom component and execute it somehow from there after the <code>import $ from 'jquery';</code> gets called?</p>\n"}, {"tags": ["javascript", "mongodb", "mongoose", "momentjs"], "comments": [{"owner": {"reputation": 2691, "user_id": 4864063, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100259670624966/picture?type=large", "display_name": "jmcgriz", "link": "https://stackoverflow.com/users/4864063/jmcgriz"}, "edited": false, "score": 1, "creation_date": 1546458228, "post_id": 54012039, "comment_id": 94861263, "body": "It looks like you might need to save your dates in a different format, according to this question: <a href=\"https://stackoverflow.com/questions/2943222/find-objects-between-two-dates-mongodb\" title=\"find objects between two dates mongodb\">stackoverflow.com/questions/2943222/&hellip;</a>"}, {"owner": {"reputation": 36192, "user_id": 7510657, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/jsd77.jpg?s=128&g=1", "display_name": "Ashh", "link": "https://stackoverflow.com/users/7510657/ashh"}, "edited": false, "score": 0, "creation_date": 1546503483, "post_id": 54012039, "comment_id": 94873330, "body": "You can delete the question as I already answered it here <a href=\"https://stackoverflow.com/questions/54015831/mongoose-mongodb-search-where-i-need-values-of-unpopulated-property]\" title=\"mongoose mongodb search where i need values of unpopulated property%5d\">stackoverflow.com/questions/54015831/&hellip;</a>"}], "owner": {"reputation": 1361, "user_id": 8883385, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/6263883831ff9f0f5632098295739207?s=128&d=identicon&r=PG&f=1", "display_name": "tilly", "link": "https://stackoverflow.com/users/8883385/tilly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 64, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546456950, "creation_date": 1546456950, "question_id": 54012039, "link": "https://stackoverflow.com/questions/54012039/moment-js-find-posts-where-someone-commented-today", "title": "Moment.js: find posts where someone commented today", "body": "<p>I'm pretty new with moment.js. I have a notification page and on load I would like to display my posts where someone commented. I only want to see the posts where someone commented today. Can someone tell where I went wrong?</p>\n\n<p>I have the following code:</p>\n\n<p><strong>I want to show all the posts where comments were placed on the local start of the day. Then I want to transform this date to UTC time because the mongoDB comment document got saved in UTC time as well.</strong></p>\n\n<pre><code>// Generate the actual time\n    const todayForEvent = moment().startOf('day')\n      .utc().format();\n\n    console.log('todayForEvent', todayForEvent);\n\n    const posts = await Post.find({\n        // From this user...\n        $and: [\n          // Find normal posts that has comments (recent interactions)\n          { _posted_by: userId },\n          { comments: { $exists: true, $ne: [] } },\n          { 'comments.created_date': { $gte: todayForEvent } }\n        ]\n\n    })\nconsole.log(posts);\n</code></pre>\n\n<p><strong>this is how I save the date of the comment with Mongoose. What I want to do is save it in UTC time</strong></p>\n\n<pre><code>const CommentSchema = new Schema({\n\n  created_date: {\n    type: Date,\n    default: moment.utc().format()\n  }\n\n});\n\nconst Comment = mongoose.model('Comment', CommentSchema);\n\nmodule.exports = Comment;\n</code></pre>\n\n<p><strong>I did two console.logs and I'll add a screenshot of my database document as well</strong></p>\n\n<p><code>console.log(todayForEvent)</code> returns <code>2019-01-02T06:00:00Z</code></p>\n\n<p><code>console.log(posts)</code> returns an empty array, so no matches were found</p>\n\n<p><strong>Database screenshot: as you can see below the format is 2019-01-02 12:26:23.000</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/UIVR3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UIVR3.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "xmlhttprequest", "form-data", "imgur"], "owner": {"reputation": 21, "user_id": 10859381, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/495c414542945c9f8024ed7ae74feadc?s=128&d=identicon&r=PG&f=1", "display_name": "JC Sergent", "link": "https://stackoverflow.com/users/10859381/jc-sergent"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1546456855, "creation_date": 1546456855, "question_id": 54012020, "link": "https://stackoverflow.com/questions/54012020/attempting-to-get-access-token-for-imgur-using-xmlhttpsrequest", "title": "Attempting to get Access Token for Imgur using XMLHttpsrequest", "body": "<p>I am attempting to access the access token for my imgur account using XMLHttpsrequest. The imgur doc states that it requires a post method with a body containing refresh_token, client_id, client_secret, and grant_type(which is just \"refresh_token\"), an example in the  doc shows that you can create a FormData and send that with .send() function for the body, but when I do that in my own code (seen at gen.send(body)) I get the error: throw new TypeError('\"string\" must be a string, Buffer, or ArrayBuffer'). I don't know what I am doing wrong here, or how to go about fixing it, any help would be greatly appreciated.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function generateAT(){\r\n  var gen = new XMLHttpRequest();\r\n  var body = new FormData();\r\n  body.append('refresh_token', refreshToken);\r\n  body.append('client_id', clientID);\r\n  body.append('client_secret', clientSecret);\r\n  body.append('grant_type', \"refresh_token\");\r\n  \r\n  gen.onreadystatechange = function(){\r\n    if (gen.readyState == 4) {\r\n      if(gen.status == 200){\r\n        console.log(\"works\");\r\n      }\r\n      else if(gen.status == 400) {\r\n         console.log('There was an error processing the token.');\r\n      }\r\n      else {\r\n       console.log('something else other than 200 was returned');\r\n      }\r\n    }\r\n    else{\r\n      console.log(\"not working\");\r\n    }\r\n  }\r\n  gen.open(\"POST\", \"https://api.imgur.com/oauth2/token\", true);\r\n  gen.send(body);\r\n\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "asynchronous"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 2, "creation_date": 1546456897, "post_id": 54012006, "comment_id": 94860713, "body": "You forgot to put <code>return</code> before <code>queryContainer(&#39;users&#39;,querySpec)...</code>. <i>&quot;loginValid is a global variable so I am surprised it is undefined.&quot;</i> In your <code>.then</code> callback it refers to the <b>parameter</b> <code>loginValid</code>. And if <code>validateSession</code> doesn&#39;t properly return a value (which it doesn&#39;t since you are missing a <code>return</code>, then that value is <code>undefined</code>."}, {"owner": {"reputation": 20977, "user_id": 2518231, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3ea4d08629a1d5ce591b415bdb5cd365?s=128&d=identicon&r=PG", "display_name": "Matthew Herbst", "link": "https://stackoverflow.com/users/2518231/matthew-herbst"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 1, "creation_date": 1546456975, "post_id": 54012006, "comment_id": 94860746, "body": "In addition to @FelixKling&#39;s comment, you shouldn&#39;t even be using <code>.then</code> if you have access to <code>async</code>/<code>await</code>. <code>const resultString = await queryContainer(&#39;users&#39;,querySpec);</code>"}, {"owner": {"reputation": 45, "user_id": 10740837, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HDY9VIEjpiE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gTg6iwVpj2XdmBi2Bp2F86V03_bQ/mo/photo.jpg?sz=128", "display_name": "pixie", "link": "https://stackoverflow.com/users/10740837/pixie"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1546457489, "post_id": 54012006, "comment_id": 94860951, "body": "@FelixKling I just to put a    return in before    queryContainer(&#39;users&#39;,querySpec) and it still comes back undefined"}, {"owner": {"reputation": 45, "user_id": 10740837, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HDY9VIEjpiE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gTg6iwVpj2XdmBi2Bp2F86V03_bQ/mo/photo.jpg?sz=128", "display_name": "pixie", "link": "https://stackoverflow.com/users/10740837/pixie"}, "reply_to_user": {"reputation": 20977, "user_id": 2518231, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/3ea4d08629a1d5ce591b415bdb5cd365?s=128&d=identicon&r=PG", "display_name": "Matthew Herbst", "link": "https://stackoverflow.com/users/2518231/matthew-herbst"}, "edited": false, "score": 1, "creation_date": 1546457642, "post_id": 54012006, "comment_id": 94861021, "body": "@MatthewHerbst Yes that worked!!! Thank you!!!"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1546457833, "post_id": 54012006, "comment_id": 94861092, "body": "No reason why using <code>return</code> wouldn&#39;t work where <code>await</code> would (<a href=\"https://jsfiddle.net/zety2js8/\" rel=\"nofollow noreferrer\">jsfiddle.net/zety2js8</a>), but as long as it works ;)"}], "owner": {"reputation": 45, "user_id": 10740837, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-HDY9VIEjpiE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-gTg6iwVpj2XdmBi2Bp2F86V03_bQ/mo/photo.jpg?sz=128", "display_name": "pixie", "link": "https://stackoverflow.com/users/10740837/pixie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1546456779, "creation_date": 1546456779, "question_id": 54012006, "link": "https://stackoverflow.com/questions/54012006/node-js-ignoring-thenvariable", "title": "Node.js ignoring .then(variable =&gt; {", "body": "<p>One function calls an async function which then calls another async function. However the master function (the first, non-async one) is not waiting on the .then method and is executing code and not waiting for the async functions to come back</p>\n\n<p>I've tried both await and .then but to no avail</p>\n\n<p>Master function:</p>\n\n<pre><code>validateSession(othersRequests.loginTime, othersRequests.sessionId, othersRequests.emailAddress).then(loginValid =&gt; {\n   console.log('here it equals = ' + loginValid)\n      if (loginValid == \"Y\") {\n        console.log('Yay I am running');\n        db = {};\n        querySpec = 'SELECT VALUE COUNT(1) FROM c WHERE c.requester = \"Tom\"';\n        queryContainer('requests',querySpec).then(resultString =&gt; {\n          if(resultString != null) {\n          db = JSON.parse(resultString);\n          console.log('3: ' + db);\n          res.writeHead(200,{'content-type':'text/plain'});\n          res.end('yeah that worked a treat!');\n        }\n      }\n      )\n    } else {\n        console.log('session valid value: ' + loginValid);\n        console.log('User session Expird!');\n        res.writeHead(403,{'content-type':'text/plain'});\n        res.end('Session no longer valid');\n      };\n      })\n</code></pre>\n\n<p>First async function:</p>\n\n<pre><code>async function validateSession(loginTime,sessionId,emailAddress) {\n  loginValid = \"N\";\n  x = getCurrentDate(1).substr(0,5).replace(':','');\n  loginTime = loginTime.substr(0,5).replace(':','');\n  x = (x - loginTime) - 40;\n  if(x &gt; 30) {\n    console.log('need a session destroy');\n    loginValid = \"N\";\n    return loginValid;\n  } else {\n    querySpec = 'SELECT c.emailAddress, c.sessionId FROM c WHERE c.emailAddress = \"' + emailAddress + '\"';\n    queryContainer('users',querySpec).then(resultString =&gt; {\n      if(resultString != null) {\n      db = JSON.parse(resultString);\n      console.log('db string: ' + db);\n      if(db.sessionId == sessionId) {\n        console.log('session valid')\n        loginValid = \"Y\";\n        console.log('loginValid = ' + loginValid);\n        return loginValid;\n      } else {\n        console.log('need a session destroy1');\n        loginValid = \"N\";\n        return loginValid;\n      }\n    } else {\n      loginValid = \"N\";\n      return loginValid;\n    }\n    });\n  }\n}\n</code></pre>\n\n<p>It is returning \"here it equals = undefined\" in the console for node. loginValid is a global variable so I am surprised it is undefined.</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"tags": [], "owner": {"reputation": 445, "user_id": 7556919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1zOFD.jpg?s=128&g=1", "display_name": "stefanowiczp", "link": "https://stackoverflow.com/users/7556919/stefanowiczp"}, "is_accepted": true, "score": 1, "last_activity_date": 1546457009, "creation_date": 1546457009, "answer_id": 54012049, "question_id": 54011994, "link": "https://stackoverflow.com/questions/54011994/datepicker-changes-dates-when-december-is-reached/54012049#54012049", "title": "datepicker changes dates when december is reached", "body": "<p>Check if thats what you expected. You should set <code>&lt;11</code> condition there, not <code>&lt;12</code>. Since you reached 12th month (11th index) you were able to trigger function one more time and increase index.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\"    \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\r\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\r\n  &lt;head&gt;\r\n    &lt;title&gt;MY DATEPICKER&lt;/title&gt;\r\n    \t&lt;script   src=\"https://code.jquery.com/jquery-3.2.1.js\" type=\"text/javascript\" &gt; &lt;/script&gt;\r\n\r\n    \t&lt;style type=\"text/css\"&gt;\r\n    \t\t\r\n    \t&lt;/style&gt;\r\n    &lt;script type=\"text/javascript\"&gt;\r\n\t\tvar currPage = 0; //month\r\n\t\tvar year ;\r\n\t\tvar day;\r\n\r\n\t\tfunction getVal(e)\r\n\t\t{\r\n\t\t\t //lert(document.getElementById(e.id).value);\r\n\t\t\t day = document.getElementById(e.id).value;\r\n\t\t\t document.getElementById(\"waha\").value = year +\"/\"+  (currPage + 1)  + \"/\" + day ;\r\n\t\t}\r\n\r\n\r\n\t\t$(document).ready(function(){\r\n\t\t\t$(\"#waha\").focus(function()\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\tgetDays(0);\r\n\t\t\t\t\t$(\"#datepicker\").css(\"display\",\" block\");\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t);\r\n\r\n\r\n\t\t\t$(\"#next-month\").click(function(){\r\n\t\t\t\tif(currPage &lt; 11)\r\n\t\t\t\t{\r\n\t\t\t\t\tcurrPage =  currPage+1;\r\n\t\t\t\t\tgetDays(currPage);\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\t$(\"#prev-month\").click(function(){\r\n\r\n\t\t\t\t\tif(currPage &gt; 0)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcurrPage =  currPage-1;\r\n\t\t\t\t\t\tgetDays(currPage);\r\n\t\t\t\t\t}\r\n\t\t\t});\r\n\r\n\r\n\t\t\t$(\"#next-y\").click(function(){\r\n\r\n\t\t\t\t$(\"#year\").text(  parseInt($(\"#year\").text())  + 1   )  ;\r\n\t\t\t\tgetDays(currPage);\r\n\r\n\r\n\t\t\t});\r\n\r\n\r\n\t\t\t$(\"#prev-y\").click(function(){\r\n\r\n\t\t\t$(\"#year\").text(  parseInt($(\"#year\").text())  - 1   )  ;\r\n\t\t\t\t\tgetDays(currPage);\r\n\r\n\t\t\t});\t\t\t\r\n\r\n\t\t\t\r\n\r\n\t\t\tfunction getDays(month)\r\n\t\t\t{\r\n\r\n\t\t\t\t$(\"#dt-able\").empty();\r\n\t\t\t\tvar mos=['January','February','March','April','May','June','July','August','September','October','Novemeber','Decemeber']\r\n\t\t\t\tvar day=['Sun', 'Mon', 'Tue', 'Wed' , 'Thu', 'Fri', 'Sat']\r\n\t\t\t\tyear = parseInt($(\"#year\").text());\r\n\r\n\t\t\t\t$(\"#month-title\").html(mos[month]);\r\n\r\n\t\t\t\t$(\"#dt-able\").append('&lt;tr&gt;');\r\n\t\t\t\tfor(i = 0; i &lt; 7; i++)\r\n\t\t\t\t{\r\n\r\n\t\t\t\t\t$('#dt-able').append(\"&lt;td id='dt-head'&gt;\"  + day[i] + \"&lt;/td&gt;\");\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$(\"#dt-able\").append('&lt;/td&gt;');\r\n\r\n\t\t\t\tvar firstDay = new Date(year,month, 1);\r\n\t\t\t\tvar lastDay = new Date(year, month+1, 0);\r\n\t\t\t\t\r\n\r\n\t\t\r\n\t\t\t\tvar offset = firstDay.getDay();\r\n\r\n\t\t\t\tvar dayCount = 1;\r\n\t\t\t\tfor (i = 0; i &lt; 5; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\t$('#dt-able').append(\"&lt;tr id=row-\"+ i +\"&gt;\");\r\n\t\t\t\t\tfor(rw = 0; rw &lt; 7; rw++ )\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif(offset == 0)\r\n\t\t\t\t\t\t{\r\n\r\n\t\t\t\t\t\t\t$('#' + \"row-\"+ i).append(\"&lt;td  id='\"  + \"cell-\" + dayCount+ \"'&gt;\"\r\n\t\t\t\t\t\t\t +   \"&lt;input type='button' id ='day_val\" +dayCount +\"'\"+   \" onclick='getVal(this)' value= '\" +  dayCount + \"' &gt;\"  + \r\n\t\t\t\t\t\t\t \t\r\n\t\t\t\t\t\t\t '&lt;/td&gt;' );\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\tif(dayCount &gt;= lastDay.getDate())\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tdayCount++;\r\n\t\t\t\t\t\t}else\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t$('#' + \"row-\"+ i).append('&lt;td&gt;' +'&lt;/td&gt;' );\r\n\t\t\t\t\t\t\t offset--;\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\r\n\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$('#dt-able').append('&lt;/tr&gt;');\r\n\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t});\r\n\r\n\t\t\r\n    &lt;/script&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n\r\n&lt;input type=\"text\" id=\"waha\" &gt;\r\n&lt;div id=\"datepicker\" style=\"display:none\"&gt;\r\n&lt;h4 id=\"month-title\"&gt;&lt;/h4&gt;\r\n\t\t&lt;input type=\"button\" name=\"prev-y\" value=\"Prev Year\"  id=\"prev-y\" \"&gt;\r\n\t\t\t&lt;span id=\"year\"&gt;2017&lt;/span&gt;\t\r\n\t\t&lt;input type=\"button\" name=\"next-y\" value=\"Next Year\"  id=\"next-y\" \"&gt;\r\n\t&lt;table id=\"dt-able\" &gt;\r\n\r\n\r\n\r\n\r\n&lt;td class=\"day_val\"&gt; &lt;/td&gt;\r\n\r\n\r\n\t&lt;/table&gt;\r\n\r\n\t&lt;input type=\"button\" name=\"prev\" value=\"Prev Mo\"  id=\"prev-month\" \"&gt;\r\n\t&lt;input type=\"button\" name=\"next\" value=\"Next Mo\"  id=\"next-month\" \"&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 7832, "user_id": 3044737, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/aa082032e8b8fe058630c6fee57d1c42?s=128&d=identicon&r=PG", "display_name": "qadenza", "link": "https://stackoverflow.com/users/3044737/qadenza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 54012049, "answer_count": 1, "score": 1, "last_activity_date": 1546459231, "creation_date": 1546456718, "last_edit_date": 1546459231, "question_id": 54011994, "link": "https://stackoverflow.com/questions/54011994/datepicker-changes-dates-when-december-is-reached", "title": "datepicker changes dates when december is reached", "body": "<p><a href=\"https://www.w3schools.com/code/tryit.asp?filename=FYSPJJOIDNZB\" rel=\"nofollow noreferrer\">here</a> you can see a datepicker I want to use.  </p>\n\n<p>There is an error clicking on <code>next month</code> - if <code>december</code> is reached click still changes dates and title of month keeps unchanged.  </p>\n\n<p>After that click on <code>prev month</code> - first click has the same bug.</p>\n\n<p>I tried with <code>1</code>, <code>11</code> and <code>13</code> inside <code>if(currPage &gt; 0)</code> and <code>if(currPage &lt; 12)</code> - without success.  </p>\n\n<p>Any help?</p>\n"}]