[{"tags": ["javascript", "reactjs", "react-lifecycle"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1538006546, "post_id": 52527513, "comment_id": 91994668, "body": "Why are you storing the random values in the state in the first place? Is there are situation you do not want it to change?"}, {"owner": {"reputation": 915, "user_id": 4945850, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uE3zRdzi-rk/AAAAAAAAAAI/AAAAAAAAAS8/zFjgl1nq4MY/photo.jpg?sz=128", "display_name": "xunux", "link": "https://stackoverflow.com/users/4945850/xunux"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1538006940, "post_id": 52527513, "comment_id": 91994774, "body": "hmm no im used to, in other cases, save it in state from within my function so i can render the state and that way when it changes it will render the change. Thats usually for fetch calls though, so it may not be necessary in this case."}, {"owner": {"reputation": 10793, "user_id": 488784, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7518909259cc80c14d7a9dd36a66a518?s=128&d=identicon&r=PG", "display_name": "bozdoz", "link": "https://stackoverflow.com/users/488784/bozdoz"}, "edited": false, "score": 0, "creation_date": 1538010393, "post_id": 52527513, "comment_id": 91995575, "body": "are you using react-router?  Maybe you could look into <code>withRouter</code> and <code>componentDidUpdate</code>"}, {"owner": {"reputation": 915, "user_id": 4945850, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uE3zRdzi-rk/AAAAAAAAAAI/AAAAAAAAAS8/zFjgl1nq4MY/photo.jpg?sz=128", "display_name": "xunux", "link": "https://stackoverflow.com/users/4945850/xunux"}, "reply_to_user": {"reputation": 10793, "user_id": 488784, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7518909259cc80c14d7a9dd36a66a518?s=128&d=identicon&r=PG", "display_name": "bozdoz", "link": "https://stackoverflow.com/users/488784/bozdoz"}, "edited": false, "score": 0, "creation_date": 1538011439, "post_id": 52527513, "comment_id": 91995785, "body": "hey @bozdoz no im not using react-router or any routing in this particular app since it&#39;s very simple and has only 3 sections that are basically working like tabs"}, {"owner": {"reputation": 10793, "user_id": 488784, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7518909259cc80c14d7a9dd36a66a518?s=128&d=identicon&r=PG", "display_name": "bozdoz", "link": "https://stackoverflow.com/users/488784/bozdoz"}, "edited": false, "score": 1, "creation_date": 1538013935, "post_id": 52527513, "comment_id": 91996269, "body": "@xunux just saying: the component will need to know when you want something to change.  Maybe look into react context api? I wouldn&#39;t think you should use redux.  if the component is a child of the tabs, you could pass a unique prop to alter it... just trying to help you think of a way to achieve this.  Good luck."}, {"owner": {"reputation": 915, "user_id": 4945850, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uE3zRdzi-rk/AAAAAAAAAAI/AAAAAAAAAS8/zFjgl1nq4MY/photo.jpg?sz=128", "display_name": "xunux", "link": "https://stackoverflow.com/users/4945850/xunux"}, "reply_to_user": {"reputation": 10793, "user_id": 488784, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/7518909259cc80c14d7a9dd36a66a518?s=128&d=identicon&r=PG", "display_name": "bozdoz", "link": "https://stackoverflow.com/users/488784/bozdoz"}, "edited": false, "score": 0, "creation_date": 1538014747, "post_id": 52527513, "comment_id": 91996411, "body": "@bozdoz thanks, i appreciate it. It turns out though that the problem is not in the lifecycle method, my original approach was fine because the component IS getting mounted and unmounted between tabs. The real problem turns out is in my randomizing function, that seems to be modifying my data destructively and upon a second call of the function it returns undefined. I might need to make that a new question! But i do appreciate the feedback and suggestions for getting that to work if the componen was always mounted!"}], "answers": [{"comments": [{"owner": {"reputation": 915, "user_id": 4945850, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uE3zRdzi-rk/AAAAAAAAAAI/AAAAAAAAAS8/zFjgl1nq4MY/photo.jpg?sz=128", "display_name": "xunux", "link": "https://stackoverflow.com/users/4945850/xunux"}, "edited": false, "score": 0, "creation_date": 1538011305, "post_id": 52527563, "comment_id": 91995757, "body": "this makes sense and I had tried it, but for some reason it doesnt work. If i makethe function randomizeSponsors() console.log the result befor returning it, the console shows the randomized array in the console, and then it re-prints an empty array. This implies the function is getting called twice and for some reason the second time around the array returns empty"}], "tags": [], "owner": {"reputation": 533, "user_id": 9782979, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9cc7ac53a3d219c982f647b19fa7e27f?s=128&d=identicon&r=PG&f=1", "display_name": "izb", "link": "https://stackoverflow.com/users/9782979/izb"}, "is_accepted": false, "score": 1, "last_activity_date": 1538006402, "creation_date": 1538006402, "answer_id": 52527563, "question_id": 52527513, "link": "https://stackoverflow.com/questions/52527513/calling-a-function-each-time-a-component-is-rendered-since-componentdidmount/52527563#52527563", "title": "Calling a function each time a component is rendered, since componentDidMount() only triggers once", "body": "<p>If you want to have the numbers randomized on each <code>render</code> call, add that logic into your <code>render</code> function:</p>\n\n<pre><code>render() {\n  const randomized = this.randomizeSponsors(); // IMPORTANT: CHANGE THIS TO MAKE IT RETURN ARRAY INSTEAD OF SETSTATE\n  return (\n    &lt;div&gt;\n      {randomized}\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 13002, "user_id": 7376526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gZqtD.png?s=128&g=1", "display_name": "Matt Carlotta", "link": "https://stackoverflow.com/users/7376526/matt-carlotta"}, "is_accepted": false, "score": 2, "last_activity_date": 1538020404, "last_edit_date": 1538020404, "creation_date": 1538009991, "answer_id": 52527947, "question_id": 52527513, "link": "https://stackoverflow.com/questions/52527513/calling-a-function-each-time-a-component-is-rendered-since-componentdidmount/52527947#52527947", "title": "Calling a function each time a component is rendered, since componentDidMount() only triggers once", "body": "<p>Another approach could be to use a<code>setIterval</code> if you want it to change every x amount of <code>milliseconds</code>.</p>\n\n<p>Working example: <a href=\"https://codesandbox.io/s/k9zz9wq9lo\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/k9zz9wq9lo</a></p>\n\n<pre><code>import random from \"lodash/random\";\nimport React, { Component } from \"react\";\n\nexport default class Banner extends Component {\n  state = {\n    randomIndex: 0\n  };\n\n  componentDidMount = () =&gt; this.setTimer();\n\n  componentWillUnmount = () =&gt; this.clearTimer();\n\n  clearTimer = () =&gt; clearInterval(this.timeout);\n\n  timer = () =&gt; this.setState({ randomIndex: random(0, 999) });\n\n  setTimer = () =&gt; (this.timeout = setInterval(this.timer, 3000));\n\n  render = () =&gt; (\n    &lt;img\n      src={`https://loremflickr.com/600/100?lock=${this.state.randomIndex}`}\n    /&gt;\n  );\n}\n</code></pre>\n\n<hr>\n\n<p>Or, if you don't want to use a <code>setIterval</code> and this component is always mounted... and you only want it to change when state changes... then have a <code>HOC</code> component manage state. You can then utilize the <code>HOC</code>'s <code>render</code> method to update a variable.</p>\n\n<p>Working Example: <a href=\"https://codesandbox.io/s/6qvl49vqw\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/6qvl49vqw</a></p>\n\n<pre><code>import random from \"lodash/random\";\nimport React, { Component } from \"react\";\nimport Sample from \"./Sample\";\n\nexport default class Parent extends Component {\n  state = {\n    loadC1: false\n  };\n\n  shouldComponentUpdate = (nextProps, nextState) =&gt;\n    this.state.loadC1 !== nextState.loadC1;\n\n  handleClick = () =&gt;\n    this.setState(prevState =&gt; ({ loadC1: !this.state.loadC1 }));\n\n  render = () =&gt; {\n    const randomIndex = random(0, 999);\n    const { loadC1 } = this.state;\n\n    return (\n      &lt;div style={{ textAlign: \"center\" }}&gt;\n        &lt;button\n          className=\"uk-button uk-button-primary\"\n          onClick={this.handleClick}\n        &gt;\n          {!loadC1 ? \"Show\" : \"Hide\"} Component\n        &lt;/button&gt;\n        &lt;div style={{ marginBottom: 40 }}&gt;\n          {loadC1 &amp;&amp; &lt;Sample /&gt;}\n        &lt;/div&gt;\n        &lt;img src={`https://loremflickr.com/600/100?lock=${randomIndex}`} /&gt;\n      &lt;/div&gt;\n    );\n  };\n}\n</code></pre>\n"}], "owner": {"reputation": 915, "user_id": 4945850, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uE3zRdzi-rk/AAAAAAAAAAI/AAAAAAAAAS8/zFjgl1nq4MY/photo.jpg?sz=128", "display_name": "xunux", "link": "https://stackoverflow.com/users/4945850/xunux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 7159, "favorite_count": 1, "answer_count": 2, "score": 1, "last_activity_date": 1538020489, "creation_date": 1538005956, "last_edit_date": 1538020489, "question_id": 52527513, "link": "https://stackoverflow.com/questions/52527513/calling-a-function-each-time-a-component-is-rendered-since-componentdidmount", "title": "Calling a function each time a component is rendered, since componentDidMount() only triggers once", "body": "<p><strong>EDIT: Upon further testing i realized that componentDidMount IS behaving how i was expecting, but it seems to be a problem with my randomizing function that for some reason returns undefined if it gets run a second time, so on initial mount it gives me results, when i mount it again it returns undefined and hence nothing renders...</strong></p>\n\n<p>I have done research to understand why I am having this issue. I have a component for a webapp, which is just a banner that will render Sponsor names. Everytime this banner gets rendered I want to randomize the order in which sponsors appear. I can get this to work, but it is only happening the first time it gets rendered (on componentDidMount()) and then every time i visit any section where that component gets rendered it no longer calls componentDidMount() so it renders no content.</p>\n\n<p>At first i thought componentDidMount() should be called everytime i enter a section that is calling that component. After reading around, everywhere said that the component is being mounted once and that is why it is only calling the function once. How can I make it so it randomizes everytime I render the component?</p>\n\n<p>Here is sample of the code I'm writing.</p>\n\n<pre><code>class SponsorBanner extends React.Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            randomized: []\n        }\n\n        this.randomizeSponsors = this.randomizeSponsors.bind(this)\n    }\n\n    randomizeSponsors(){\n        let copy = []\n        const array = ['a','b','c','d']\n        let n = array.length\n        let i;\n\n        while(n){\n            i = Math.floor(Math.random() * n--)\n            copy.push(array.splice(i,1)[0])\n        }\n\n        let randomizedArray = copy.map((sponsor,i) =&gt; &lt;div key={i}&gt;{sponsor}&lt;/div&gt;)\n\n        this.setState({randomized:randomizedArray})\n\n    }\n    componentDidMount(){\n        this.randomizeSponsors()\n    }\n\n\n    render(){\n\n        return (\n            &lt;div&gt;\n                {this.state.randomized}\n            &lt;/div&gt;\n        )\n    }\n}\n</code></pre>\n\n<p>This component gets rendered in 2 different sections of the app. It is a very simple app and I am not even adding routing to it. It just works entirely as a SPA. When a user click a section, it renders that component. On first load if I visit a section that renders this component it displays a randomized array. If I navigate to another section and back, it renders an empty banner.</p>\n\n<p>Why is this happening and how could I work around it???</p>\n"}, {"tags": ["javascript", "google-chrome-devtools", "dreamweaver"], "comments": [{"owner": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 1, "creation_date": 1538006318, "post_id": 52527508, "comment_id": 91994622, "body": "You need to show some sample code that is causing the issue. We cannot guess at what you are trying to output to the log to see if it is formatted correctly, etc."}, {"owner": {"reputation": 3, "user_id": 9851642, "user_type": "registered", "profile_image": "https://graph.facebook.com/1956915794333025/picture?type=large", "display_name": "Larry Joyner", "link": "https://stackoverflow.com/users/9851642/larry-joyner"}, "reply_to_user": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 0, "creation_date": 1538006689, "post_id": 52527508, "comment_id": 91994705, "body": "just did  go look"}, {"owner": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 0, "creation_date": 1538006810, "post_id": 52527508, "comment_id": 91994738, "body": "IT worked for me. For example, &quot;console.log(typeof negInteger)&quot; returned &quot;number&quot; on the console."}, {"owner": {"reputation": 3, "user_id": 9851642, "user_type": "registered", "profile_image": "https://graph.facebook.com/1956915794333025/picture?type=large", "display_name": "Larry Joyner", "link": "https://stackoverflow.com/users/9851642/larry-joyner"}, "reply_to_user": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 0, "creation_date": 1538006843, "post_id": 52527508, "comment_id": 91994751, "body": "it didn&#39;t for me"}, {"owner": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 1, "creation_date": 1538006894, "post_id": 52527508, "comment_id": 91994766, "body": "I really cannot think of any way to know what is wrong then. You shouldn&#39;t have to do anything at the console in Chrome to get it to output that information. What do you see instead?"}, {"owner": {"reputation": 3, "user_id": 9851642, "user_type": "registered", "profile_image": "https://graph.facebook.com/1956915794333025/picture?type=large", "display_name": "Larry Joyner", "link": "https://stackoverflow.com/users/9851642/larry-joyner"}, "reply_to_user": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 0, "creation_date": 1538007121, "post_id": 52527508, "comment_id": 91994831, "body": "I get undefined"}, {"owner": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 0, "creation_date": 1538007214, "post_id": 52527508, "comment_id": 91994858, "body": "If you don&#39;t mind, type exactly what you type in the console and exactly what you see."}, {"owner": {"reputation": 3, "user_id": 9851642, "user_type": "registered", "profile_image": "https://graph.facebook.com/1956915794333025/picture?type=large", "display_name": "Larry Joyner", "link": "https://stackoverflow.com/users/9851642/larry-joyner"}, "reply_to_user": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 0, "creation_date": 1538007270, "post_id": 52527508, "comment_id": 91994879, "body": "I did  same exact response.  I don&#39;t see the errors either just the red X!!"}, {"owner": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 0, "creation_date": 1538007355, "post_id": 52527508, "comment_id": 91994907, "body": "Type this in the console exactly as it appears and tell me what you see: var test = &quot;MyTest&quot;;console.log(typeof test);"}, {"owner": {"reputation": 3, "user_id": 9851642, "user_type": "registered", "profile_image": "https://graph.facebook.com/1956915794333025/picture?type=large", "display_name": "Larry Joyner", "link": "https://stackoverflow.com/users/9851642/larry-joyner"}, "reply_to_user": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 0, "creation_date": 1538007616, "post_id": 52527508, "comment_id": 91994965, "body": "same error in  the box"}, {"owner": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 1, "creation_date": 1538007790, "post_id": 52527508, "comment_id": 91995000, "body": "OK, I&#39;m going to stop working with this now. You are not providing helpful information. I have asked twice for exact input and output and I get nothing but vague answers. &quot;Same error in the box&quot; -- what error? What box? I think you&#39;re just trolling me now. If you reply with an actual answer that shows what I&#39;ve asked for, I&#39;ll see what I can to. But if not, I&#39;m done."}, {"owner": {"reputation": 3, "user_id": 9851642, "user_type": "registered", "profile_image": "https://graph.facebook.com/1956915794333025/picture?type=large", "display_name": "Larry Joyner", "link": "https://stackoverflow.com/users/9851642/larry-joyner"}, "reply_to_user": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 0, "creation_date": 1538007972, "post_id": 52527508, "comment_id": 91995043, "body": "here is what it says  var test= &quot;MyTest&quot;;console.log(typeof test) undefined"}, {"owner": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 0, "creation_date": 1538008405, "post_id": 52527508, "comment_id": 91995142, "body": "Thanks for that clear answer. Unfortunately I am out of ideas, then. Your browser/filesystem/profile -- something is corrupt. Or there is something I cannot tell from text messages what is going on -- invalid hidden characters, some browser extension causing an issue, etc. Try a different browser and see if it still happens in that browser&#39;s console. Good luck!"}, {"owner": {"reputation": 3, "user_id": 9851642, "user_type": "registered", "profile_image": "https://graph.facebook.com/1956915794333025/picture?type=large", "display_name": "Larry Joyner", "link": "https://stackoverflow.com/users/9851642/larry-joyner"}, "reply_to_user": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 0, "creation_date": 1538016295, "post_id": 52527508, "comment_id": 91996691, "body": "Are there filters blocking my log ?   If so  , how do i remove them ?"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9851642, "user_type": "registered", "profile_image": "https://graph.facebook.com/1956915794333025/picture?type=large", "display_name": "Larry Joyner", "link": "https://stackoverflow.com/users/9851642/larry-joyner"}, "edited": false, "score": 0, "creation_date": 1538057047, "post_id": 52527736, "comment_id": 92017199, "body": "That didn&#39;t work .  It was suppose to give me the type of string it is .  Like number , string etc ."}, {"owner": {"reputation": 915, "user_id": 2016450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R9IKl.jpg?s=128&g=1", "display_name": "mrunion", "link": "https://stackoverflow.com/users/2016450/mrunion"}, "edited": false, "score": 0, "creation_date": 1538142726, "post_id": 52527736, "comment_id": 92052258, "body": "The you have other problems. If there is noting wrong with the machine itself, you are not formatting something correctly, or you have some extension or plugin in your browser that is malfunctioning. Try another machine."}], "tags": [], "owner": {"reputation": 13, "user_id": 4402827, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-EqXZc8VM1m4/AAAAAAAAAAI/AAAAAAAAAMw/QEVo_kQZd-k/photo.jpg?sz=128", "display_name": "blaise johnny", "link": "https://stackoverflow.com/users/4402827/blaise-johnny"}, "is_accepted": false, "score": 0, "last_activity_date": 1538008074, "creation_date": 1538008074, "answer_id": 52527736, "question_id": 52527508, "link": "https://stackoverflow.com/questions/52527508/chrome-console-log-dosnt-work-i-need-help-for-class/52527736#52527736", "title": "Chrome console log dosn&#39;t work ! I need help for class?", "body": "<p>Console.log should always work. If I were you i'd close chrome and restart it again, then try the same inputs, if the same output persists try and use Firefox and see if you get the same results, if you do the problem is with your formatting, in which case you should be asking a different question. </p>\n"}], "owner": {"reputation": 3, "user_id": 9851642, "user_type": "registered", "profile_image": "https://graph.facebook.com/1956915794333025/picture?type=large", "display_name": "Larry Joyner", "link": "https://stackoverflow.com/users/9851642/larry-joyner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1538008074, "creation_date": 1538005922, "last_edit_date": 1538006607, "question_id": 52527508, "link": "https://stackoverflow.com/questions/52527508/chrome-console-log-dosnt-work-i-need-help-for-class", "title": "Chrome console log dosn&#39;t work ! I need help for class?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var negInteger = -3.14159265359;\r\nvar escQuote = \"Quotes can also be \\\"escaped\\\".\";\r\nvar theSunIsWarm = true;\r\nvar emptyInside = null;\r\nvar justAnotherVariable;\r\n\r\n// Try this in your console:\r\n// console.log(typeof insertVariableName);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I'm having problems with my java script console .  I can't read the errors or run the console.log   what is the problem ?   Do need to  check  my settings .  I'm also using dream weaver and my script doesn't have any arrays , strings or etc. \nCurrently I'm trying to run console.log(typeof .....)  logs for my online class. </p>\n"}, {"tags": ["javascript", "reactjs", "chart.js", "react-chartjs"], "answers": [{"comments": [{"owner": {"reputation": 529, "user_id": 8418842, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-L45mVr7ZiKM/AAAAAAAAAAI/AAAAAAAAAjU/WF1VsOngVtw/photo.jpg?sz=128", "display_name": "Israel Peck", "link": "https://stackoverflow.com/users/8418842/israel-peck"}, "edited": false, "score": 0, "creation_date": 1589922914, "post_id": 54719109, "comment_id": 109485075, "body": "Can you share an example? I&#39;m struggling with the same issue. I tried adding 2 datasets, and it did not work."}], "tags": [], "owner": {"reputation": 317, "user_id": 8930149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3df093c45423efb2bf62a328f01d8fe6?s=128&d=identicon&r=PG&f=1", "display_name": "sunw", "link": "https://stackoverflow.com/users/8930149/sunw"}, "is_accepted": true, "score": 0, "last_activity_date": 1550281527, "creation_date": 1550281527, "answer_id": 54719109, "question_id": 52527448, "link": "https://stackoverflow.com/questions/52527448/chart-js-stacked-line-chart-with-differently-styled-sections/54719109#54719109", "title": "Chart.js stacked line chart with differently styled sections", "body": "<p>I solved it myself by separating the stacked line data into 2 datasets, to plot as separate stacked plots on the same figure/axes (by including the 2 separate datasets in a single chart's data object).</p>\n"}], "owner": {"reputation": 317, "user_id": 8930149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3df093c45423efb2bf62a328f01d8fe6?s=128&d=identicon&r=PG&f=1", "display_name": "sunw", "link": "https://stackoverflow.com/users/8930149/sunw"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 747, "favorite_count": 0, "accepted_answer_id": 54719109, "answer_count": 1, "score": 2, "last_activity_date": 1550281527, "creation_date": 1538005437, "last_edit_date": 1550281476, "question_id": 52527448, "link": "https://stackoverflow.com/questions/52527448/chart-js-stacked-line-chart-with-differently-styled-sections", "title": "Chart.js stacked line chart with differently styled sections", "body": "<p>My React app uses <code>react-chartjs-2</code> (which in turn uses the latest Chart.js 2.7.2). I'm trying to create stacked line charts with a differently styled section between the second-to-last and last x-axis labels, as shown in this example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/r5yJ7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r5yJ7.png\" alt=\"example chart\"></a></p>\n\n<p>How can this be accomplished?</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 5618, "user_id": 2193290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/QSiK2.jpg?s=128&g=1", "display_name": "Danny Delott", "link": "https://stackoverflow.com/users/2193290/danny-delott"}, "is_accepted": false, "score": 1, "last_activity_date": 1538005452, "creation_date": 1538005452, "answer_id": 52527450, "question_id": 52527432, "link": "https://stackoverflow.com/questions/52527432/passing-event-to-nested-function-in-react-and-didnt-get-the-outer-event-value/52527450#52527450", "title": "passing event to nested function in React and didn&#39;t get the outer event value", "body": "<p>I think the issue here is that you are putting the event in a closure scope, and it's changing/getting cleaned up before the asyncronous call to <code>_.debounce</code> executes.</p>\n\n<p>Try doing this:</p>\n\n<pre><code>handleChange = (event) =&gt; {\n  console.log(event);\n  event.persist(); // &lt;--- Add this line\n  _.debounce(() =&gt; {\n      YTSearch({\n          key: API_KEY,\n          term: event ? event.target.value : '\u6881\u9759\u8339'\n      }, (videos) =&gt; {\n          this.setState({ videos });\n          this.props.getNewVideos(videos);\n      });  \n  }, 0)();\n    }\n</code></pre>\n\n<p>Read more on React's Synthetic Events and Event Pooling here, there is a note about async access to events at the bottom: <a href=\"https://reactjs.org/docs/events.html#event-pooling\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/events.html#event-pooling</a></p>\n\n<blockquote>\n  <p>If you want to access the event properties in an asynchronous way, you should call event.persist() on the event, which will remove the synthetic event from the pool and allow references to the event to be retained by user code.</p>\n</blockquote>\n"}], "owner": {"reputation": 2017, "user_id": 2348978, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/uXxzl.jpg?s=128&g=1", "display_name": "Xinrui Ma", "link": "https://stackoverflow.com/users/2348978/xinrui-ma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 241, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1538005452, "creation_date": 1538005280, "question_id": 52527432, "link": "https://stackoverflow.com/questions/52527432/passing-event-to-nested-function-in-react-and-didnt-get-the-outer-event-value", "title": "passing event to nested function in React and didn&#39;t get the outer event value", "body": "<p>I am writing React which will take an value from input box, and pass to _.debounce function. </p>\n\n<p>However, I am not able to read the input value inside the _.debounce function. I tried bind(this) but it didn't work.</p>\n\n<pre><code>import React, { Component } from 'react';\nimport YTSearch from 'youtube-api-search';\nimport _ from 'lodash';\n\nconst API_KEY = 'XXXXXXX.....';\n\nexport default class SearchBar extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            videos: []\n        };\n\n        this.handleChange();\n    }\n\n    handleChange = () =&gt; {\n        console.log(event);\n        _.debounce(() =&gt; {\n            console.log(this, 'inside debounce');\n            YTSearch({\n                key: API_KEY,\n                term: event ? event.target.value : '\u6881\u9759\u8339'\n            }, (videos) =&gt; {\n                this.setState({ videos });\n                this.props.getNewVideos(videos);\n            });  \n        }, 0)();\n    }\n\n    render() {\n\n        return (\n            &lt;input className='search-bar form-control' \n            value={this.state.term}\n            onChange={this.handleChange} /&gt; \n        )\n    }\n}\n</code></pre>\n\n<p>And this is the console output:\n<a href=\"https://i.stack.imgur.com/wt1hC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wt1hC.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 3193, "user_id": 10400050, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c5aecb8122434c05b6b545176abef5b?s=128&d=identicon&r=PG&f=1", "display_name": "Johan", "link": "https://stackoverflow.com/users/10400050/johan"}, "edited": false, "score": 0, "creation_date": 1538005590, "post_id": 52527413, "comment_id": 91994501, "body": "Please provide any code you have specific issues with in your question."}], "answers": [{"tags": [], "owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "is_accepted": false, "score": 0, "last_activity_date": 1538102162, "creation_date": 1538102162, "answer_id": 52547514, "question_id": 52527413, "link": "https://stackoverflow.com/questions/52527413/mobile-menu-clicking-parent-link-reveals-submenu-but-also-goes-to-parent-page-d/52547514#52547514", "title": "Mobile menu: clicking parent link reveals submenu but also goes to parent page directly", "body": "<p>It is hard to say whitout more information, but it will try next changes:</p>\n\n<pre><code>&lt;nav id=\"nav\"&gt;\n&lt;ul id=\"menu-primary-navigation\" class=\"menu\"&gt;\n    &lt;li id=\"menu-item-30\"&gt;&lt;a&gt;Services&lt;/a&gt;\n        &lt;ul class=\"sub-menu\"&gt;\n            &lt;li id=\"menu-item-4216\" class=\"\"&gt;&lt;a href=\"/our-services/service-one\"&gt;Service 1&lt;/a&gt;&lt;/li&gt;\n            &lt;li id=\"menu-item-4215\" class=\"\"&gt;&lt;a href=\"/our-services/service-two\"&gt;Service 2&lt;/a&gt;&lt;/li&gt;\n            &lt;li id=\"menu-item-4217\" class=\"\"&gt;&lt;a href=\"/our-services/service-three\"&gt;Service 3&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n    &lt;li id=\"menu-item-1125\" class=\"\"&gt;&lt;a href=\"/about\"&gt;About&lt;/a&gt;&lt;/li&gt;\n    &lt;li id=\"menu-item-1139\" class=\"\"&gt;&lt;a href=\"/events\"&gt;Events&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;&lt;/nav&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5287966, "user_type": "registered", "profile_image": "https://graph.facebook.com/508657772620065/picture?type=large", "display_name": "Lawyer", "link": "https://stackoverflow.com/users/5287966/lawyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538102162, "creation_date": 1538005092, "last_edit_date": 1538100291, "question_id": 52527413, "link": "https://stackoverflow.com/questions/52527413/mobile-menu-clicking-parent-link-reveals-submenu-but-also-goes-to-parent-page-d", "title": "Mobile menu: clicking parent link reveals submenu but also goes to parent page directly", "body": "<p>Usually, by default, I always saw that on mobile device clicking on the parent menu reveals submenu only and then if you click it again it opens the URL. But not on this site I'm working on, any ideas why it might override the default browser function and opens directly the parent link after the first click?</p>\n\n<pre><code>&lt;nav id=\"nav\"&gt;\n&lt;ul id=\"menu-primary-navigation\" class=\"menu\"&gt;\n    &lt;li id=\"menu-item-30\"&gt;&lt;a href=\"/our-services\"&gt;Services&lt;/a&gt;\n        &lt;ul class=\"sub-menu\"&gt;\n            &lt;li id=\"menu-item-4216\" class=\"\"&gt;&lt;a href=\"/service-one\"&gt;Service 1&lt;/a&gt;&lt;/li&gt;\n            &lt;li id=\"menu-item-4215\" class=\"\"&gt;&lt;a href=\"/service-two\"&gt;Service 2&lt;/a&gt;&lt;/li&gt;\n            &lt;li id=\"menu-item-4217\" class=\"\"&gt;&lt;a href=\"/service-three\"&gt;Service 3&lt;/a&gt;&lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n    &lt;li id=\"menu-item-1125\" class=\"\"&gt;&lt;a href=\"/about\"&gt;About&lt;/a&gt;&lt;/li&gt;\n    &lt;li id=\"menu-item-1139\" class=\"\"&gt;&lt;a href=\"/events\"&gt;Events&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;&lt;/nav&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "actions-on-google"], "comments": [{"owner": {"reputation": 48099, "user_id": 1405634, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/218ed9884ff6fa541a821187836ade50?s=128&d=identicon&r=PG", "display_name": "Prisoner", "link": "https://stackoverflow.com/users/1405634/prisoner"}, "edited": false, "score": 0, "creation_date": 1538009479, "post_id": 52527388, "comment_id": 91995398, "body": "Is the PHP never called? Or is it just called somewhat later than you expect? Are there any logs in Firebase Cloud Functions that show an error or anything unexpected?"}, {"owner": {"reputation": 11, "user_id": 10421166, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QIygVwpwtkY/AAAAAAAAAAI/AAAAAAAAA38/Xp3BKYz0YTQ/photo.jpg?sz=128", "display_name": "Sean Bouchard", "link": "https://stackoverflow.com/users/10421166/sean-bouchard"}, "reply_to_user": {"reputation": 48099, "user_id": 1405634, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/218ed9884ff6fa541a821187836ade50?s=128&d=identicon&r=PG", "display_name": "Prisoner", "link": "https://stackoverflow.com/users/1405634/prisoner"}, "edited": false, "score": 0, "creation_date": 1538070436, "post_id": 52527388, "comment_id": 92024894, "body": "The PHP is never called. The logs in Firebase Cloud Functions don&#39;t show anything unexpected - no errors or anything, and no mention whatsoever of the GET request. I&#39;ll add a snipped from the log to the question."}], "answers": [{"tags": [], "owner": {"reputation": 11, "user_id": 10421166, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QIygVwpwtkY/AAAAAAAAAAI/AAAAAAAAA38/Xp3BKYz0YTQ/photo.jpg?sz=128", "display_name": "Sean Bouchard", "link": "https://stackoverflow.com/users/10421166/sean-bouchard"}, "is_accepted": false, "score": 1, "last_activity_date": 1538080399, "creation_date": 1538080399, "answer_id": 52544731, "question_id": 52527388, "link": "https://stackoverflow.com/questions/52527388/sending-a-get-request-within-a-google-action-intent/52544731#52544731", "title": "Sending a GET request within a Google Action intent", "body": "<p>I think I've discovered why I was running into this problem, and why I couldn't explain it based on research into Actions on Google or Node.js. It looks like the page on my server that I was requesting returns a 301 \"Permanently Moved\" response. When I request the page through a web browser, it ignores(?) this response and serves the page anyway, but when I make the request in my AoG intent fulfillment, it silently recognizes the 301 and doesn't ever hit the PHP on the server. Anyway, it appears this is a problem with my server configuration and not my AoG code.</p>\n\n<p>Hot tip to new AoG programmers: console.log() commands in the fulfillment will appear in the Firebase Cloud Functions log, which is what eventually allowed me to see the 301 code being returned. Thanks to anyone how tried to puzzle this out with me!</p>\n"}], "owner": {"reputation": 11, "user_id": 10421166, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-QIygVwpwtkY/AAAAAAAAAAI/AAAAAAAAA38/Xp3BKYz0YTQ/photo.jpg?sz=128", "display_name": "Sean Bouchard", "link": "https://stackoverflow.com/users/10421166/sean-bouchard"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538080399, "creation_date": 1538004896, "last_edit_date": 1538071168, "question_id": 52527388, "link": "https://stackoverflow.com/questions/52527388/sending-a-get-request-within-a-google-action-intent", "title": "Sending a GET request within a Google Action intent", "body": "<p>I'm new to Actions on Google and Node.js, but this seems like it should be straightforward and I'm not sure why it's not working. I just want to send a GET request within the code that handles a specific intent. At the moment, I'm not even looking for a return value; I just want to fire off the request. I'm using the Blaze tier of Firebase, which is supposed to allow outgoing HTTPS requests. Indeed, I can get the Action to play an audio file from my server in SSML. But when I put in a GET request to a PHP page that increments a value in a database, it isn't being executed successfully.</p>\n\n<p>My code is taken directly from Google's CodeLabs tutorials for Actions. Below is the only function I'm modifying. This code runs, but the GET request is never received.</p>\n\n<pre><code>// Handle the Dialogflow intent named 'favorite color'.\n// The intent collects a parameter named 'color'.\napp.intent('favorite color', (conv, {color}) =&gt; {\n    const luckyNumber = color.length;\n    const audioSound = 'https://my.server.tld/path/to/sound.mp3';\n\n    // These two lines don't seem to do what I'm expecting them to.\n    var https = require(\"https\");\n    https.get('https://my.server.tld/path/to/file.php?value=1');\n\n    conv.ask(`&lt;speak&gt;Your lucky number is ${luckyNumber}.` +\n        `&lt;audio src=\"${audioSound}\"&gt;&lt;/audio&gt;` +\n        `Would you like to hear some fake colors?&lt;/speak&gt;`);\n});\n</code></pre>\n\n<p>There's nothing that jumps out at me as unusual in the Firebase logs (excerpted below). There doesn't seem to be any mention of the GET call I'm trying to make.</p>\n\n<pre><code>4:19:11.631 PM dialogflowFirebaseFulfillment Function execution took 569 ms, finished with status code: 200\n4:19:11.543 PM dialogflowFirebaseFulfillment Response { \"status\": 200, \"headers\": { \"content-type\": \"application/json; charset=utf-8\" }, \"body\": { \"payload\": { \"google\": { \"expectUserResponse\": true, \"richResponse\": { \"items\": [ { \"simpleResponse\": { \"textToSpeech\": \"&lt;speak&gt;Three. Your lucky number is 4.&lt;audio src=\\\"https://actions.google.com/sounds/v1/cartoon/clang_and_wobble.ogg\\\"&gt;&lt;/audio&gt;Would you like to hear some fake colors?&lt;/speak&gt;\" } } ] }, \"userStorage\": \"{\\\"data\\\":{}}\" } }, \"outputContexts\": [ { \"name\": \"projects/actions-rwag/agent/sessions/ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh/contexts/_actions_on_google\", \"lifespanCount\": 99, \"parameters\": { \"data\": \"{}\" } } ] } }\n4:19:11.434 PM dialogflowFirebaseFulfillment Conversation { \"responses\": [], \"expectUserResponse\": true, \"digested\": false, \"noInputs\": [], \"_responded\": false, \"request\": \"[Excluded]\", \"headers\": \"[Excluded]\", \"sandbox\": true, \"input\": { \"raw\": \"blue\", \"type\": \"KEYBOARD\" }, \"surface\": { \"capabilities\": { \"list\": [ { \"name\": \"actions.capability.WEB_BROWSER\" }, { \"name\": \"actions.capability.MEDIA_RESPONSE_AUDIO\" }, { \"name\": \"actions.capability.SCREEN_OUTPUT\" }, { \"name\": \"actions.capability.AUDIO_OUTPUT\" } ] } }, \"available\": { \"surfaces\": { \"list\": [ { \"capabilities\": { \"list\": [ { \"name\": \"actions.capability.WEB_BROWSER\" }, { \"name\": \"actions.capability.SCREEN_OUTPUT\" }, { \"name\": \"actions.capability.AUDIO_OUTPUT\" } ] } } ], \"capabilities\": { \"surfaces\": [ { \"capabilities\": { \"list\": [ { \"name\": \"actions.capability.WEB_BROWSER\" }, { \"name\": \"actions.capability.SCREEN_OUTPUT\" }, { \"name\": \"actions.capability.AUDIO_OUTPUT\" } ] } } ] } } }, \"user\": { \"raw\": { \"userStorage\": \"{\\\"data\\\":{}}\", \"lastSeen\": \"2018-09-26T23:19:06Z\", \"locale\": \"en-US\", \"userId\": \"ABwppHHp5yhn_VrB_SIGG93tCzMx9o0A_W9bIDlbCClkqcV85LrVbJ42vLQ7hWXfe3UOd7pASDIm6v_q\" }, \"storage\": {}, \"_id\": \"ABwppHHp5yhn_VrB_SIGG93tCzMx9o0A_W9bIDlbCClkqcV85LrVbJ42vLQ7hWXfe3UOd7pASDIm6v_q\", \"locale\": \"en-US\", \"permissions\": [], \"last\": { \"seen\": \"2018-09-26T23:19:06.000Z\" }, \"name\": {}, \"entitlements\": [], \"access\": {}, \"profile\": {} }, \"arguments\": { \"parsed\": { \"input\": { \"text\": \"blue\" }, \"list\": [ \"blue\" ] }, \"status\": { \"input\": {}, \"list\": [ null ] }, \"raw\": { \"list\": [ { \"rawText\": \"blue\", \"textValue\": \"blue\", \"name\": \"text\" } ], \"input\": { \"text\": { \"rawText\": \"blue\", \"textValue\": \"blue\", \"name\": \"text\" } } } }, \"device\": {}, \"id\": \"ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh\", \"type\": \"ACTIVE\", \"screen\": true, \"body\": \"[Excluded]\", \"version\": 2, \"action\": \"\", \"intent\": \"favorite color\", \"parameters\": { \"color\": \"blue\" }, \"contexts\": { \"_session\": \"projects/actions-rwag/agent/sessions/ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh\", \"input\": { \"actions_capability_screen_output\": { \"name\": \"projects/actions-rwag/agent/sessions/ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh/contexts/actions_capability_screen_output\", \"parameters\": { \"color\": \"blue\", \"color.original\": \"blue\" } }, \"actions_capability_audio_output\": { \"name\": \"projects/actions-rwag/agent/sessions/ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh/contexts/actions_capability_audio_output\", \"parameters\": { \"color\": \"blue\", \"color.original\": \"blue\" } }, \"google_assistant_input_type_keyboard\": { \"name\": \"projects/actions-rwag/agent/sessions/ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh/contexts/google_assistant_input_type_keyboard\", \"parameters\": { \"color\": \"blue\", \"color.original\": \"blue\" } }, \"actions_capability_web_browser\": { \"name\": \"projects/actions-rwag/agent/sessions/ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh/contexts/actions_capability_web_browser\", \"parameters\": { \"color\": \"blue\", \"color.original\": \"blue\" } }, \"actions_capability_media_response_audio\": { \"name\": \"projects/actions-rwag/agent/sessions/ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh/contexts/actions_capability_media_response_audio\", \"parameters\": { \"color\": \"blue\", \"color.original\": \"blue\" } } }, \"output\": {} }, \"incoming\": { \"parsed\": [ \"\" ] }, \"query\": \"blue\", \"data\": {} }\n4:19:11.346 PM dialogflowFirebaseFulfillment Headers { \"host\": \"us-central1-actions-rwag.cloudfunctions.net\", \"user-agent\": \"Apache-HttpClient/4.5.4 (Java/1.8.0_181)\", \"transfer-encoding\": \"chunked\", \"accept\": \"text/plain, */*\", \"accept-charset\": \"big5, big5-hkscs, cesu-8, euc-jp, euc-kr, gb18030, gb2312, gbk, ibm-thai, ibm00858, ibm01140, ibm01141, ibm01142, ibm01143, ibm01144, ibm01145, ibm01146, ibm01147, ibm01148, ibm01149, ibm037, ibm1026, ibm1047, ibm273, ibm277, ibm278, ibm280, ibm284, ibm285, ibm290, ibm297, ibm420, ibm424, ibm437, ibm500, ibm775, ibm850, ibm852, ibm855, ibm857, ibm860, ibm861, ibm862, ibm863, ibm864, ibm865, ibm866, ibm868, ibm869, ibm870, ibm871, ibm918, iso-2022-cn, iso-2022-jp, iso-2022-jp-2, iso-2022-kr, iso-8859-1, iso-8859-13, iso-8859-15, iso-8859-2, iso-8859-3, iso-8859-4, iso-8859-5, iso-8859-6, iso-8859-7, iso-8859-8, iso-8859-9, jis_x0201, jis_x0212-1990, koi8-r, koi8-u, shift_jis, tis-620, us-ascii, utf-16, utf-16be, utf-16le, utf-32, utf-32be, utf-32le, utf-8, windows-1250, windows-1251, windows-1252, windows-1253, windows-1254, windows-1255, windows-1256, windows-1257, windows-1258, windows-31j, x-big5-hkscs-2001, x-big5-solaris, x-compound_text, x-euc-jp-linux, x-euc-tw, x-eucjp-open, x-ibm1006, x-ibm1025, x-ibm1046, x-ibm1097, x-ibm1098, x-ibm1112, x-ibm1122, x-ibm1123, x-ibm1124, x-ibm1166, x-ibm1364, x-ibm1381, x-ibm1383, x-ibm300, x-ibm33722, x-ibm737, x-ibm833, x-ibm834, x-ibm856, x-ibm874, x-ibm875, x-ibm921, x-ibm922, x-ibm930, x-ibm933, x-ibm935, x-ibm937, x-ibm939, x-ibm942, x-ibm942c, x-ibm943, x-ibm943c, x-ibm948, x-ibm949, x-ibm949c, x-ibm950, x-ibm964, x-ibm970, x-iscii91, x-iso-2022-cn-cns, x-iso-2022-cn-gb, x-iso-8859-11, x-jis0208, x-jisautodetect, x-johab, x-macarabic, x-maccentraleurope, x-maccroatian, x-maccyrillic, x-macdingbat, x-macgreek, x-machebrew, x-maciceland, x-macroman, x-macromania, x-macsymbol, x-macthai, x-macturkish, x-macukraine, x-ms932_0213, x-ms950-hkscs, x-ms950-hkscs-xp, x-mswin-936, x-pck, x-sjis_0213, x-utf-16le-bom, x-utf-32be-bom, x-utf-32le-bom, x-windows-50220, x-windows-50221, x-windows-874, x-windows-949, x-windows-950, x-windows-iso2022jp\", \"content-type\": \"application/json; charset=UTF-8\", \"function-execution-id\": \"gjnwrdpyi1ax\", \"x-appengine-api-ticket\": \"e212b331d87bdb3c\", \"x-appengine-city\": \"?\", \"x-appengine-citylatlong\": \"0.000000,0.000000\", \"x-appengine-country\": \"US\", \"x-appengine-default-version-hostname\": \"l9ec7ba250478215b-tp.appspot.com\", \"x-appengine-https\": \"on\", \"x-appengine-region\": \"?\", \"x-appengine-request-log-id\": \"5bac13ef00ff00ffe3280c8cb3550001737e6c396563376261323530343738323135622d7470000139303866373866633530636138623435363966303164656633393333393136383a3233000100\", \"x-appengine-user-ip\": \"35.239.85.110\", \"x-cloud-trace-context\": \"0109e1b3b7dc8fbbefd2664dbcbd5d0a/2770932151653705781;o=1\", \"x-forwarded-for\": \"35.239.85.110, 35.239.85.110\", \"x-forwarded-proto\": \"https\", \"accept-encoding\": \"gzip\" }\n4:19:11.339 PM dialogflowFirebaseFulfillment Request { \"responseId\": \"c7b55f8a-502d-431a-8056-258dec82268f\", \"queryResult\": { \"queryText\": \"blue\", \"parameters\": { \"color\": \"blue\" }, \"allRequiredParamsPresent\": true, \"fulfillmentMessages\": [ { \"text\": { \"text\": [ \"\" ] } } ], \"outputContexts\": [ { \"name\": \"projects/actions-rwag/agent/sessions/ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh/contexts/actions_capability_screen_output\", \"parameters\": { \"color\": \"blue\", \"color.original\": \"blue\" } }, { \"name\": \"projects/actions-rwag/agent/sessions/ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh/contexts/actions_capability_audio_output\", \"parameters\": { \"color\": \"blue\", \"color.original\": \"blue\" } }, { \"name\": \"projects/actions-rwag/agent/sessions/ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh/contexts/google_assistant_input_type_keyboard\", \"parameters\": { \"color\": \"blue\", \"color.original\": \"blue\" } }, { \"name\": \"projects/actions-rwag/agent/sessions/ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh/contexts/actions_capability_web_browser\", \"parameters\": { \"color\": \"blue\", \"color.original\": \"blue\" } }, { \"name\": \"projects/actions-rwag/agent/sessions/ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh/contexts/actions_capability_media_response_audio\", \"parameters\": { \"color\": \"blue\", \"color.original\": \"blue\" } } ], \"intent\": { \"name\": \"projects/actions-rwag/agent/intents/8524ede6-72a2-467b-9b34-67a8f1d3a121\", \"displayName\": \"favorite color\" }, \"intentDetectionConfidence\": 1, \"languageCode\": \"en-us\" }, \"originalDetectIntentRequest\": { \"source\": \"google\", \"version\": \"2\", \"payload\": { \"isInSandbox\": true, \"surface\": { \"capabilities\": [ { \"name\": \"actions.capability.WEB_BROWSER\" }, { \"name\": \"actions.capability.MEDIA_RESPONSE_AUDIO\" }, { \"name\": \"actions.capability.SCREEN_OUTPUT\" }, { \"name\": \"actions.capability.AUDIO_OUTPUT\" } ] }, \"requestType\": \"SIMULATOR\", \"inputs\": [ { \"rawInputs\": [ { \"query\": \"blue\", \"inputType\": \"KEYBOARD\" } ], \"arguments\": [ { \"rawText\": \"blue\", \"textValue\": \"blue\", \"name\": \"text\" } ], \"intent\": \"actions.intent.TEXT\" } ], \"user\": { \"userStorage\": \"{\\\"data\\\":{}}\", \"lastSeen\": \"2018-09-26T23:19:06Z\", \"locale\": \"en-US\", \"userId\": \"ABwppHHp5yhn_VrB_SIGG93tCzMx9o0A_W9bIDlbCClkqcV85LrVbJ42vLQ7hWXfe3UOd7pASDIm6v_q\" }, \"conversation\": { \"conversationId\": \"ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh\", \"type\": \"ACTIVE\", \"conversationToken\": \"[]\" }, \"availableSurfaces\": [ { \"capabilities\": [ { \"name\": \"actions.capability.WEB_BROWSER\" }, { \"name\": \"actions.capability.SCREEN_OUTPUT\" }, { \"name\": \"actions.capability.AUDIO_OUTPUT\" } ] } ] } }, \"session\": \"projects/actions-rwag/agent/sessions/ABwppHEUBtwbVHv-ECaw2yqSzZwdKjejoN3HrlpD8e0anrJytaT9jX8_zRMrW1-lJtC-W1TUFWKXLqLh\" }\n4:19:11.063 PM dialogflowFirebaseFulfillment Function execution started\n</code></pre>\n"}, {"tags": ["javascript", "callback", "recaptcha"], "answers": [{"comments": [{"owner": {"reputation": 121, "user_id": 1265803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9ffcffe14e711fe58ebf74c4bb74aa0?s=128&d=identicon&r=PG", "display_name": "Moonstone", "link": "https://stackoverflow.com/users/1265803/moonstone"}, "edited": false, "score": 0, "creation_date": 1538005104, "post_id": 52527404, "comment_id": 91994402, "body": "What about calling the api function that calls the callback, does the parent page have access to those functions?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 121, "user_id": 1265803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9ffcffe14e711fe58ebf74c4bb74aa0?s=128&d=identicon&r=PG", "display_name": "Moonstone", "link": "https://stackoverflow.com/users/1265803/moonstone"}, "edited": false, "score": 0, "creation_date": 1538005246, "post_id": 52527404, "comment_id": 91994436, "body": "@moonstone why?!"}, {"owner": {"reputation": 121, "user_id": 1265803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9ffcffe14e711fe58ebf74c4bb74aa0?s=128&d=identicon&r=PG", "display_name": "Moonstone", "link": "https://stackoverflow.com/users/1265803/moonstone"}, "edited": false, "score": 0, "creation_date": 1538005333, "post_id": 52527404, "comment_id": 91994456, "body": "I need a solution that works for any callback function name, because I won&#39;t know what the function name is."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1538005009, "creation_date": 1538005009, "answer_id": 52527404, "question_id": 52527380, "link": "https://stackoverflow.com/questions/52527380/manually-trigger-callback-assigned-to-recaptcha/52527404#52527404", "title": "Manually trigger callback assigned to reCaptcha", "body": "<p>No, if you have to call it, just do:</p>\n\n<pre><code> onloadCallback();\n</code></pre>\n\n<p>That won't generate a captcha token, but the captcha would otherwise be senseless if it could be bypassed in that way.</p>\n"}], "owner": {"reputation": 121, "user_id": 1265803, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9ffcffe14e711fe58ebf74c4bb74aa0?s=128&d=identicon&r=PG", "display_name": "Moonstone", "link": "https://stackoverflow.com/users/1265803/moonstone"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 374, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538005009, "creation_date": 1538004774, "question_id": 52527380, "link": "https://stackoverflow.com/questions/52527380/manually-trigger-callback-assigned-to-recaptcha", "title": "Manually trigger callback assigned to reCaptcha", "body": "<p>When a callback function is defined:</p>\n\n<p><code>src=https://www.google.com/recaptcha/api.js?onload=onloadCallback&amp;render=explicit</code></p>\n\n<p>Is there any way to manually trigger it through the grecaptcha object?</p>\n"}, {"tags": ["javascript", "aws-lambda", "momentjs"], "answers": [{"comments": [{"owner": {"reputation": 53, "user_id": 5250375, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9Vj0f.jpg?s=128&g=1", "display_name": "umeshWeb", "link": "https://stackoverflow.com/users/5250375/umeshweb"}, "edited": false, "score": 0, "creation_date": 1591857773, "post_id": 52527364, "comment_id": 110216070, "body": "So @JonasWilms how to tell lambda to behave in specified timezone ?"}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 1, "last_activity_date": 1591876552, "last_edit_date": 1591876552, "creation_date": 1538004641, "answer_id": 52527364, "question_id": 52527336, "link": "https://stackoverflow.com/questions/52527336/lambda-moment-utc-time-set-hours-and-minutes/52527364#52527364", "title": "Lambda moment utc time set hours and minutes", "body": "<p>Because <code>new Date</code> takes the local timestamp, so it returns <em>the time at the place where you were when it was 19:07 at UTC, which is 15:07</em>. Thats different with AWS as they probably use no timezone offset, so the server behaves as if it was in UTC </p>\n\n<p>You might want to use <code>Date.UTC</code> ... <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/UTC\" rel=\"nofollow noreferrer\">goto</a></p>\n"}], "owner": {"reputation": 2258, "user_id": 909535, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/08b2e0fcd1253e3076845e91eacd30b2?s=128&d=identicon&r=PG", "display_name": "meteor", "link": "https://stackoverflow.com/users/909535/meteor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 409, "favorite_count": 0, "accepted_answer_id": 52527364, "answer_count": 1, "score": 0, "last_activity_date": 1591876552, "creation_date": 1538004425, "last_edit_date": 1538005439, "question_id": 52527336, "link": "https://stackoverflow.com/questions/52527336/lambda-moment-utc-time-set-hours-and-minutes", "title": "Lambda moment utc time set hours and minutes", "body": "<p>When i run the following in a AWS lambda hosted in us-east-1</p>\n\n<pre><code>const currentTime = moment().utc().valueOf();\nconsole.log(new Date( currentTime ));//1538003255995\nPrints: Wed Sep 26 2018 19:07:35 GMT-0400 (Eastern Daylight Time) --- Correct in terms of current time.\n\nconst currentExecution = moment().set({\n  hour: 19,\n  minute: 24,\n  second: 0\n}).utc().valueOf();\nconsole.log(new Date( currentTime ));//1537989840995\nPrints:Wed Sep 26 2018 15:24:00 GMT-0400 (Eastern Daylight Time)\n</code></pre>\n\n<p>Why is it showing 15:24 instead of 19:24?\nBut when i run this code in my local machine located in EST it prints\n<code>Wed Sep 26 2018 19:24:00 GMT-0400 (Eastern Daylight Time)</code></p>\n\n<p>Why is there a 4 hr difference when run in lambda alone?</p>\n"}, {"tags": ["javascript", "arrays", "for-loop"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1538004438, "post_id": 52527317, "comment_id": 91994279, "body": "It is <code>.includes</code> and not <code>.contains</code> ?"}, {"owner": {"reputation": 115, "user_id": 9890573, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9llHjWW8BYI/AAAAAAAAAAI/AAAAAAAAAHY/UR_RT-MVCyg/photo.jpg?sz=128", "display_name": "Hargun Suri", "link": "https://stackoverflow.com/users/9890573/hargun-suri"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1538004713, "post_id": 52527317, "comment_id": 91994344, "body": "@JonasWilms, I did not get your point I have used 2 usages of contains, can you suggest where are you referring to."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1538004790, "post_id": 52527317, "comment_id": 91994352, "body": "both, there is no <code>.contains</code> method in js"}, {"owner": {"reputation": 115, "user_id": 9890573, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9llHjWW8BYI/AAAAAAAAAAI/AAAAAAAAAHY/UR_RT-MVCyg/photo.jpg?sz=128", "display_name": "Hargun Suri", "link": "https://stackoverflow.com/users/9890573/hargun-suri"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1538005285, "post_id": 52527317, "comment_id": 91994447, "body": "Corrected but still having same problem,"}, {"owner": {"reputation": 115, "user_id": 9890573, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9llHjWW8BYI/AAAAAAAAAAI/AAAAAAAAAHY/UR_RT-MVCyg/photo.jpg?sz=128", "display_name": "Hargun Suri", "link": "https://stackoverflow.com/users/9890573/hargun-suri"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1538005412, "post_id": 52527317, "comment_id": 91994475, "body": "Can you suggest how can I replace for with for each here?"}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1538007279, "post_id": 52527317, "comment_id": 91994882, "body": "Your code depends on too many variables that are not present in your example. Whether the functions returns true depends on <code>resultCode</code> a function called <code>INS()</code> and <code>ENVS</code>.  You should post a working example of the problem."}, {"owner": {"reputation": 115, "user_id": 9890573, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9llHjWW8BYI/AAAAAAAAAAI/AAAAAAAAAHY/UR_RT-MVCyg/photo.jpg?sz=128", "display_name": "Hargun Suri", "link": "https://stackoverflow.com/users/9890573/hargun-suri"}, "edited": false, "score": 0, "creation_date": 1538008076, "post_id": 52527317, "comment_id": 91995068, "body": "Hi, as mentioned if I remove the 1st element it will work further, I mean resultCode will have value."}, {"owner": {"reputation": 115, "user_id": 9890573, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9llHjWW8BYI/AAAAAAAAAAI/AAAAAAAAAHY/UR_RT-MVCyg/photo.jpg?sz=128", "display_name": "Hargun Suri", "link": "https://stackoverflow.com/users/9890573/hargun-suri"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1538082409, "post_id": 52527317, "comment_id": 92030158, "body": "@JonasWilms, you were right contains was a custom function implemented but when I used .includes I did not refresh the cache, Thank you for your help."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1538083587, "post_id": 52527317, "comment_id": 92030623, "body": "@hargun Glad to help :)"}], "owner": {"reputation": 115, "user_id": 9890573, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9llHjWW8BYI/AAAAAAAAAAI/AAAAAAAAAHY/UR_RT-MVCyg/photo.jpg?sz=128", "display_name": "Hargun Suri", "link": "https://stackoverflow.com/users/9890573/hargun-suri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538005315, "creation_date": 1538004282, "last_edit_date": 1538005315, "question_id": 52527317, "link": "https://stackoverflow.com/questions/52527317/not-able-to-iterate-over-second-element-in-javascript", "title": "Not able to iterate over second element in Javascript", "body": "<p>Recently I was trying to iterate over javascript array where each element further have  2 elements associated with it, unfortunately when the first iteration is completed \"for loop\" is not iterating the second element it seems.</p>\n\n<p>When I am using 2 elements for variable suppressCases value return is always FALSE but when I remove the 1st element from variable  \"suppressCases\"\nI can achieve result value return is TRUE.</p>\n\n<p>Below is my code</p>\n\n<pre><code>var suppressCases = [{\n    \"action-id\": [\"91471\"],\n    \"checkSupressing\": function() {\n        return [\"Poll\", \"Upload\"].includes(ENV['Operation']);\n    }\n}, {\n    \"action-id\": [\"91470\", \"91469\", \"91486\", \"91476\"],\n    \"checkSupressing\": function() {\n        if (resultCode != \"0\") {\n\n            var ErrorList = INS('/soapenv:Envelope/soapenv:Body/Response/Result/Error/ErrorList/CtlrError');\n\n            if (ErrorList.length &gt; 1) {\n                return false;\n            } else {\n                var Type = String(IN(ErrorList[0], 'Type/text()'));\n                var ErrorCode = String(IN(ErrorList[0], 'ErrorCode/text()'));\n\n                return Type == \"TV\" &amp;&amp; ErrorCode == \"2020\" ? true : false;\n            }\n        }\n        return false;\n    }\n}];\n\nvar suppress = false;\n\n\nfor (var i = 0; i &lt; suppressCases.length; i++) {\n    var suppressCase = suppressCases[i];\n    if (suppressCase['action-id'].includes(ENV['action-id'])) {\n        suppress = suppressCase['checkSupressing']();\n    }\n}\n</code></pre>\n\n<p>ENV[] is value from environment.</p>\n\n<p>Can you suggest where I am doing something wrong,</p>\n"}, {"tags": ["javascript", "angular", "typescript", "google-cloud-firestore", "key-value"], "answers": [{"tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 1, "last_activity_date": 1538004559, "creation_date": 1538004559, "answer_id": 52527357, "question_id": 52527316, "link": "https://stackoverflow.com/questions/52527316/how-to-store-user-input-as-an-object-key-in-typescript/52527357#52527357", "title": "How to store user input as an object key in typescript?", "body": "<p>It's the same as JavaScript:</p>\n\n<pre><code>const property = 'foo'\nconst object = {}\nobject[property] = 'desired value'\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 9604989, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-J2_EcWw-_e8/AAAAAAAAAAI/AAAAAAAAIdY/GAS8VUVFrAk/photo.jpg?sz=128", "display_name": "tobias hassebrock", "link": "https://stackoverflow.com/users/9604989/tobias-hassebrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 549, "favorite_count": 0, "accepted_answer_id": 52527357, "answer_count": 1, "score": 0, "last_activity_date": 1538004559, "creation_date": 1538004271, "question_id": 52527316, "link": "https://stackoverflow.com/questions/52527316/how-to-store-user-input-as-an-object-key-in-typescript", "title": "How to store user input as an object key in typescript?", "body": "<p>Being new to Firestore I learned, that I should model it like this: <a href=\"https://i.stack.imgur.com/mUQrj.png\" rel=\"nofollow noreferrer\">enter link description here</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>members {\r\n          id: xyz\r\n                  {\r\n                    name: Jones;\r\n                    hashtag: {\r\n                              global: true,\r\n                              digital: true\r\n                             }\r\n          ...\r\n         }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Therefore, I would like to store the user input of a \"hashtag\" form field as a key of the hashtag property and automatically assign the value \"true\" to the key using Angular 6 (Typescript). My current approach is this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>submit(newName: string, newHashtag: string) {\r\n    if ( newName !== '' &amp;&amp; newHashtag !== '') {\r\n      this.member.name = newName;\r\n      this.member.hashtag = { newHashtag: true};\r\n      console.log(this.member);\r\n      // this.membersService.addMember(this.member);\r\n    }\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As a result, the program always prints out \"newHashtag\" but not the desired input value. How can I fix this?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export interface Member {\r\n    id?: string;\r\n    name?: string;\r\n    hashtag?: object;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;form&gt;\r\n  &lt;input type=\"text\" placeholder=\"new Name\" #memberName name=\"name\"&gt;\r\n  &lt;input type=\"text\" placeholder=\"new hashtag\" #hashtagName name=\"name\"&gt;\r\n  &lt;button (click)=\"submit(memberName.value, hashtagName.value);\r\n   memberName.value=''\"&gt;Submit&lt;/button&gt;\r\n&lt;/form&gt;&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "class", "constructor", "properties", "this"], "answers": [{"tags": [], "owner": {"reputation": 8101, "user_id": 9199167, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BqdLV.jpg?s=128&g=1", "display_name": "Max Vollmer", "link": "https://stackoverflow.com/users/9199167/max-vollmer"}, "is_accepted": true, "score": 0, "last_activity_date": 1538004544, "creation_date": 1538004544, "answer_id": 52527353, "question_id": 52527314, "link": "https://stackoverflow.com/questions/52527314/how-are-properties-created-and-referenced-at-at-the-same-time-with-this-keyword/52527353#52527353", "title": "How are properties created and referenced at at the same time with this. keyword in constructor? (JavaScript)", "body": "<p>Javascript and Java are different languages. In Javascript you can declare anything anywhere. <code>this.something = ...</code> declares a property <code>something</code> in the object refered to by <code>this</code>. In a way you can imagine Javascript classes like Java maps, where the <code>.</code>-operator acts like <code>put</code> or <code>get</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 9356589, "user_type": "registered", "profile_image": "https://graph.facebook.com/1549323195182305/picture?type=large", "display_name": "Stefan Aleksovski", "link": "https://stackoverflow.com/users/9356589/stefan-aleksovski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17, "favorite_count": 0, "accepted_answer_id": 52527353, "answer_count": 1, "score": 0, "last_activity_date": 1538008664, "creation_date": 1538004268, "last_edit_date": 1538008664, "question_id": 52527314, "link": "https://stackoverflow.com/questions/52527314/how-are-properties-created-and-referenced-at-at-the-same-time-with-this-keyword", "title": "How are properties created and referenced at at the same time with this. keyword in constructor? (JavaScript)", "body": "<p>I don't understand how properties are created in a class constructor with the this. keyword. Shouldn't they be defined before, and then referenced to with the this. keyword? How is this. used to reference property that doesn't already exist? I have some basic knowledge in Java and didn't met this situation before. Thanks.\nHeres an example:</p>\n\n<pre><code>class Dog{\n  constructor(name){\n     this.name = name;\n     this.behavior = 0;\n   }\n}\n</code></pre>\n"}, {"tags": ["javascript", "d3.js"], "answers": [{"comments": [{"owner": {"reputation": 57, "user_id": 5601237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Znegj4jyp5g/AAAAAAAAAAI/AAAAAAAAACQ/6PEjNCeHLZE/photo.jpg?sz=128", "display_name": "Glenn Whiting", "link": "https://stackoverflow.com/users/5601237/glenn-whiting"}, "edited": false, "score": 0, "creation_date": 1538006724, "post_id": 52527332, "comment_id": 91994710, "body": "That worked. Thank you.  Points given but not showing since I am a new user."}, {"owner": {"reputation": 57, "user_id": 5601237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Znegj4jyp5g/AAAAAAAAAAI/AAAAAAAAACQ/6PEjNCeHLZE/photo.jpg?sz=128", "display_name": "Glenn Whiting", "link": "https://stackoverflow.com/users/5601237/glenn-whiting"}, "edited": false, "score": 0, "creation_date": 1538006733, "post_id": 52527332, "comment_id": 91994712, "body": "<code>code</code> var images = node.append(&quot;svg:image&quot;)                   .attr(&quot;xlink:href&quot;, function(d) { return &quot;data:image/jpeg;base64,&quot; + d.img;})                   //.attr(&quot;xlink:href&quot;,  function(d) { return d.imgX;})                   .attr(&quot;x&quot;, function(d) { return -25;})                   .attr(&quot;y&quot;, function(d) { return -25;})                   .attr(&quot;height&quot;, 50)                   .attr(&quot;width&quot;, 50);"}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 0, "last_activity_date": 1538004347, "creation_date": 1538004347, "answer_id": 52527332, "question_id": 52527302, "link": "https://stackoverflow.com/questions/52527302/using-d3-js-fill-node-circle-with-a-base64-jpeg-image-that-is-not-a-url/52527332#52527332", "title": "Using D3.js fill node circle with a base64 jpeg image that is not a URL", "body": "<p>the function must be:</p>\n\n<pre><code> function(d) { return  \"data:image/jpeg;base64,\" + d.img; }\n</code></pre>\n\n<p>otherwise you concatenate a string and a function which results in a string and you therefore losse the function.</p>\n"}], "owner": {"reputation": 57, "user_id": 5601237, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Znegj4jyp5g/AAAAAAAAAAI/AAAAAAAAACQ/6PEjNCeHLZE/photo.jpg?sz=128", "display_name": "Glenn Whiting", "link": "https://stackoverflow.com/users/5601237/glenn-whiting"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 535, "favorite_count": 0, "accepted_answer_id": 52527332, "answer_count": 1, "score": 1, "last_activity_date": 1538006606, "creation_date": 1538004178, "last_edit_date": 1538006606, "question_id": 52527302, "link": "https://stackoverflow.com/questions/52527302/using-d3-js-fill-node-circle-with-a-base64-jpeg-image-that-is-not-a-url", "title": "Using D3.js fill node circle with a base64 jpeg image that is not a URL", "body": "<p>I am trying to use D3.js on an html page and fill in the node circles with a .jpeg image that is in base64 format and is ** not a URL **. I have found lots of examples with URLs and have made a working Network Force Graph with URLs but I need to be able to just pass base64 in my json file.</p>\n\n<p>Can anyone help me?  Thank you.</p>\n\n<p>Here is the relevant snippet. d.img contains the base64 text.:</p>\n\n<pre><code>var images = node.append(\"svg:image\")\n              .attr(\"xlink:href\", \"data:image/jpeg;base64,\" + function(d) { return \"data:image/jpeg;base64,\" + d.img;})\n              //.attr(\"xlink:href\",  function(d) { return \"data:image/jpeg;base64,\" + \"data:image/jpeg;base64,\" + d.img;})\n              .attr(\"x\", function(d) { return -25;})\n              .attr(\"y\", function(d) { return -25;})\n              .attr(\"height\", 50)\n              .attr(\"width\", 50);\n</code></pre>\n\n<p>Here is the full javascript file:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;head&gt;\n&lt;meta charset=\"utf-8\"&gt;\n&lt;meta name=\"description\" content=\"\"&gt;\n&lt;title&gt;8.6 - Node-link diagrams&lt;/title&gt;\n&lt;!-- Bootstrap Core CSS --&gt;\n&lt;link rel=\"stylesheet\" href=\"css/bootstrap.min.css\"&gt;\n&lt;!-- Custom CSS --&gt;\n&lt;link rel=\"stylesheet\" href=\"css/style.css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n\n&lt;nav class=\"navbar navbar-default\"&gt;&lt;/nav&gt;\n&lt;svg width=\"600\" height=\"600\"&gt;&lt;/svg&gt;\n\n&lt;script src=\"https://d3js.org/d3.v4.min.js\"&gt;&lt;/script&gt;\n&lt;script src=\"https://unpkg.com/axios/dist/axios.min.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n\nvar svg = d3.select(\"svg\"),\n    width = +svg.attr(\"width\"),\n    height = +svg.attr(\"height\"),\n    circleRadius = 30,\n    chargeStrength = -5000; // -50\n\nvar color = d3.scaleOrdinal(d3.schemeCategory10);\n\n// Add \"forces\" to the simulation here\nvar simulation = d3.forceSimulation()\n    .force(\"center\", d3.forceCenter(width / 2, height / 2))\n    .force(\"charge\", d3.forceManyBody().strength(chargeStrength))\n    .force(\"collide\", d3.forceCollide(circleRadius).strength(0.9))\n    .force(\"link\", d3.forceLink().id(function(d) { return d.id; }));  \n// For each id.\n\nd3.json(\"data/force2.json\", function(error, graph) {\n    if (error) throw error;\n\n    console.log(graph);\n\n        // Add lines for every link in the dataset\n        var link = svg.append(\"g\")\n            .attr(\"class\", \"links\")\n            .selectAll(\"line\")\n            .data(graph.links)\n            .enter().append(\"line\")\n                .attr(\"stroke-width\", function(d) { return \nMath.sqrt(d.value); });\n\n        // Add circles for every node in the dataset\n        var node = svg.append(\"g\")\n            .attr(\"class\", \"nodes\")\n            .selectAll(\"circle\")\n            .data(graph.nodes)\n            .enter()\n            .append(\"g\")\n            .attr(\"class\", \"node\");\n\n\n        var circles = node.append(\"circle\")\n            .attr(\"r\", circleRadius)\n            .attr(\"fill\", function(d) { return color(d.group); })\n            .call(d3.drag()\n                .on(\"start\", dragstarted)\n                .on(\"drag\", dragged)\n                .on(\"end\", dragended)\n            );\n\n        // Add Supervisory Org Label\n        var text2 = node.append(\"text\")\n            .style(\"text-anchor\", \"middle\")\n            .attr(\"y\", 40)\n            .text(function(d) {return d.org });\n\n        // Add id (name) label\n        var text = node.append(\"text\")\n          .style(\"text-anchor\", \"middle\")\n          .attr(\"y\", 55)\n          .text(function(d) {return d.id });\n\n        var images = node.append(\"svg:image\")\n              .attr(\"xlink:href\", \"data:image/jpeg;base64,\" + \nfunction(d) { return \"data:image/jpeg;base64,\" + d.img;})\n              //.attr(\"xlink:href\",  function(d) { return d.img;})\n              .attr(\"x\", function(d) { return -25;})\n              .attr(\"y\", function(d) { return -25;})\n              .attr(\"height\", 50)\n              .attr(\"width\", 50);\n\n\n        // make the image grow a little on mouse over and add the text \ndetails on click\n        var setEvents = images\n\n              .on( 'mouseenter', function() {\n                // select element in current context\n                d3.select( this )\n                  .transition()\n                  .attr(\"x\", function(d) { return -60;})\n                  .attr(\"y\", function(d) { return -60;})\n                  .attr(\"height\", 100)\n                  .attr(\"width\", 100);\n              })\n              // set back\n              .on( 'mouseleave', function() {\n                d3.select( this )\n                  .transition()\n                  .attr(\"x\", function(d) { return -25;})\n                  .attr(\"y\", function(d) { return -25;})\n                  .attr(\"height\", 50)\n                  .attr(\"width\", 50);\n              });\n\n    // Basic tooltips\n    node.append(\"title\")\n        .text(function(d) { return d.id; });\n\n    // Attach nodes to the simulation, add listener on the \"tick\" event\n    simulation\n        .nodes(graph.nodes)\n        .on(\"tick\", ticked);\n\n    // Associate the lines with the \"link\" force\n    simulation.force(\"link\")\n        .links(graph.links)\n\n\n    // Dynamically update the position of the nodes/links as time passes\n    function ticked() {\n        link\n            .attr(\"x1\", function(d) { return d.source.x; })\n            .attr(\"y1\", function(d) { return d.source.y; })\n            .attr(\"x2\", function(d) { return d.target.x; })\n            .attr(\"y2\", function(d) { return d.target.y; });\n\n        //node\n            //.attr(\"cx\", function(d) { return d.x; })\n          //  .attr(\"cy\", function(d) { return d.y; });\n      node.attr(\"transform\", function(d) {\n          return \"translate(\" + d.x + \",\" + d.y + \")\";\n      });\n    }\n\n    var legend = svg.selectAll(\".legend\")\n          //.data(color.domain())\n          .data([1,2])\n          .enter().append(\"g\")\n          .attr(\"class\", \"legend\")\n          //.attr(\"transform\", function(d, i) { return \"translate(0,\" + i * 20 + \")\"; });\n\n          legend.append(\"rect\")\n              .attr(\"x\", width - 100)\n              .attr(\"y\", height - 90)\n              .attr(\"width\", 18)\n              .attr(\"height\", 18)\n              .style(\"fill\", function(d) { return color(1) });\n\n         legend.append(\"rect\")\n                  .attr(\"x\", width - 100)\n                  .attr(\"y\", height - 113)\n                  .attr(\"width\", 18)\n                  .attr(\"height\", 18)\n                  .style(\"fill\", function(d) { return color(2) });\n\n          legend.append(\"text\")\n              .attr(\"x\", width - 78)\n              .attr(\"y\", height - 80)\n              .attr(\"dy\", \".35em\")\n              .style(\"text-anchor\", \"begin\")\n              .text(\"MatchUP\")\n\n              //.text(\"MatchUPXXXXXXXXXXXXXXXXXXXX\");\n\n              legend.append(\"text\")\n                  .attr(\"x\", width - 78)\n                  .attr(\"y\", height - 103)\n                  .attr(\"dy\", \".35em\")\n                  .style(\"text-anchor\", \"begin\")\n                  .text(\"Connection\")\n\n\n\n\n\n});\n\n// Change the value of alpha, so things move around when we drag a node\nfunction dragstarted(d) {\nif (!d3.event.active) simulation.alphaTarget(0.7).restart();\n    d.fx = d.x;\n    d.fy = d.y;\n}\n\n// Fix the position of the node that we are looking at\nfunction dragged(d) {\n    d.fx = d3.event.x;\n    d.fy = d3.event.y;\n}\n\n// Let the node do what it wants again once we've looked at it\nfunction dragended(d) {\nif (!d3.event.active) simulation.alphaTarget(0);\n    d.fx = null;\n    d.fy = null;\n}\n\n\n&lt;/script&gt;\n&lt;/body&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 1214, "user_id": 8828658, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/amxD0.jpg?s=128&g=1", "display_name": "a stone arachnid", "link": "https://stackoverflow.com/users/8828658/a-stone-arachnid"}, "edited": false, "score": 0, "creation_date": 1538004502, "post_id": 52527288, "comment_id": 91994297, "body": "In your case, you should hide the <code>&lt;div&gt;</code>s using <code>display: none</code>, not <code>visibility: hidden</code>."}, {"owner": {"reputation": 209485, "user_id": 405015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/306d4dd636caaa8c77f6ef1a8017a4f7?s=128&d=identicon&r=PG", "display_name": "thirtydot", "link": "https://stackoverflow.com/users/405015/thirtydot"}, "edited": false, "score": 1, "creation_date": 1538007639, "post_id": 52527288, "comment_id": 91994974, "body": "You should use a <a href=\"https://stackoverflow.com/a/50437867/405015\">routing library</a> to handle this for you. Are you using a particular JavaScript framework? If so, use one for that framework. Otherwise, there are plenty of framework agnostic ones."}], "answers": [{"tags": [], "owner": {"reputation": 13716, "user_id": 4573410, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-tA5l92nXBLQ/AAAAAAAAAAI/AAAAAAAADVM/BTGKZtDduU0/photo.jpg?sz=128", "display_name": "Jon Uleis", "link": "https://stackoverflow.com/users/4573410/jon-uleis"}, "is_accepted": true, "score": 2, "last_activity_date": 1538004560, "creation_date": 1538004560, "answer_id": 52527358, "question_id": 52527288, "link": "https://stackoverflow.com/questions/52527288/how-to-rearrange-divs-for-single-page-application/52527358#52527358", "title": "How to rearrange divs for single page application", "body": "<p>Using <code>visibility: hidden</code> is causing your elements to still take up space, which is why your \"pages\" don't appear to change places.</p>\n\n<p>Switch to <code>display: none</code>, which can be easily toggled with jQuery's <code>.show()</code> and <code>.hide()</code> like so:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"#firstButton\").on(\"click\", function() {\r\n  $(\"#first\").hide();\r\n  $(\"#second\").show();\r\n});\r\n\r\n$(\"#secondButton\").on(\"click\", function() {\r\n  $(\"#first\").show();\r\n  $(\"#second\").hide();\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"first\"&gt;\r\n  &lt;h1&gt;First Page&lt;/h1&gt;\r\n  &lt;button id=\"firstButton\"&gt;Go to second page&lt;/button&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div id=\"second\" style=\"display: none;\"&gt;\r\n  &lt;h1&gt;Second Page&lt;/h1&gt;\r\n  &lt;button id=\"secondButton\"&gt;Go to first page&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1214, "user_id": 8828658, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/amxD0.jpg?s=128&g=1", "display_name": "a stone arachnid", "link": "https://stackoverflow.com/users/8828658/a-stone-arachnid"}, "is_accepted": false, "score": 1, "last_activity_date": 1538008185, "creation_date": 1538008185, "answer_id": 52527755, "question_id": 52527288, "link": "https://stackoverflow.com/questions/52527288/how-to-rearrange-divs-for-single-page-application/52527755#52527755", "title": "How to rearrange divs for single page application", "body": "<p>If you don't want to use jQuery:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById(\"firstButton\").addEventListener(\"click\", () =&gt; {\r\n  document.getElementById(\"first\").style.display=\"none\";\r\n  document.getElementById(\"second\").style.display=\"block\";\r\n}, false);\r\n\r\ndocument.getElementById(\"secondButton\").addEventListener(\"click\", () =&gt; {\r\n  document.getElementById(\"first\").style.display=\"block\";\r\n  document.getElementById(\"second\").style.display=\"none\";\r\n}, false);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"first\"&gt;\r\n  &lt;h1&gt;First Page&lt;/h1&gt;\r\n  &lt;button id=\"firstButton\"&gt;Go to second page&lt;/button&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;div id=\"second\" style=\"display:none\"&gt;\r\n  &lt;h1&gt;Second Page&lt;/h1&gt;\r\n  &lt;button id=\"secondButton\"&gt;Go to first page&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1472, "user_id": 6509816, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/44tMB.jpg?s=128&g=1", "display_name": "yalpsid eman", "link": "https://stackoverflow.com/users/6509816/yalpsid-eman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 52527358, "answer_count": 2, "score": 0, "last_activity_date": 1538008185, "creation_date": 1538004110, "question_id": 52527288, "link": "https://stackoverflow.com/questions/52527288/how-to-rearrange-divs-for-single-page-application", "title": "How to rearrange divs for single page application", "body": "<p>I'm building a single-page web app. In this one file, I want a specific div to be shown on startup. Perhaps the user will then press a button, and a new div will replace it.</p>\n\n<p>Right now, I'm using js to hide one div and show another in this case. The problem is, the new div appears further down the page (as it is written in the html file after the first div). </p>\n\n<p>How can I, using javascript, simply replace one div with another as the user navigates back and forth between the divs? Is this possible and recommended?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/* JS\r\nWhen #firstButton is pressed, replace div #first with div #second\r\nWhen #secondButton is pressed, replace the div #second with div #first\r\n*/</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#second {\r\n  visibility: hidden;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"first\"&gt;\r\n  &lt;h1&gt;First Page&lt;/h1&gt;\r\n  &lt;button id=\"firstButton\"&gt;Go to second page&lt;/button&gt;\r\n&lt;/div&gt;\r\n\r\n\r\n&lt;div id=\"second\"&gt;\r\n  &lt;h1&gt;Second Page&lt;/h1&gt;\r\n  &lt;button id=\"secondButton\"&gt;Go to first page&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1538004004, "post_id": 52527262, "comment_id": 91994174, "body": "Good to know: <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"}], "answers": [{"tags": [], "owner": {"reputation": 889, "user_id": 4719434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQzpA.jpg?s=128&g=1", "display_name": "Aditya Parmar", "link": "https://stackoverflow.com/users/4719434/aditya-parmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1538004711, "creation_date": 1538004711, "answer_id": 52527371, "question_id": 52527262, "link": "https://stackoverflow.com/questions/52527262/how-do-i-get-started-with-reactjs/52527371#52527371", "title": "How do I get started with ReactJS?", "body": "<p><a href=\"https://medium.mybridge.co/learn-react-js-from-top-45-tutorials-for-the-past-year-v-2018-28b7f4d4b2c4\" rel=\"nofollow noreferrer\">https://medium.mybridge.co/learn-react-js-from-top-45-tutorials-for-the-past-year-v-2018-28b7f4d4b2c4</a></p>\n\n<p>React </p>\n\n<p><a href=\"https://medium.freecodecamp.org/all-the-fundamental-react-js-concepts-jammed-into-this-single-medium-article-c83f9b53eac2\" rel=\"nofollow noreferrer\">https://medium.freecodecamp.org/all-the-fundamental-react-js-concepts-jammed-into-this-single-medium-article-c83f9b53eac2</a></p>\n\n<p><a href=\"https://www.youtube.com/playlist?list=PL6gx4Cwl9DGBuKtLgPR_zWYnrwv-JllpA\" rel=\"nofollow noreferrer\">https://www.youtube.com/playlist?list=PL6gx4Cwl9DGBuKtLgPR_zWYnrwv-JllpA</a></p>\n\n<p><a href=\"https://www.youtube.com/watch?v=A71aqufiNtQ&amp;t=1578s\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=A71aqufiNtQ&amp;t=1578s</a></p>\n\n<p><a href=\"https://www.youtube.com/playlist?list=PLoYCgNOIyGABj2GQSlDRjgvXtqfDxKm5b\" rel=\"nofollow noreferrer\">https://www.youtube.com/playlist?list=PLoYCgNOIyGABj2GQSlDRjgvXtqfDxKm5b</a></p>\n\n<p>Redux </p>\n\n<p><a href=\"https://www.youtube.com/playlist?list=PL6gx4Cwl9DGBbSLZjvleMwldX8jGgXV6a\" rel=\"nofollow noreferrer\">https://www.youtube.com/playlist?list=PL6gx4Cwl9DGBbSLZjvleMwldX8jGgXV6a</a></p>\n\n<p><a href=\"https://www.youtube.com/playlist?list=PL55RiY5tL51rrC3sh8qLiYHqUV3twEYU_\" rel=\"nofollow noreferrer\">https://www.youtube.com/playlist?list=PL55RiY5tL51rrC3sh8qLiYHqUV3twEYU_</a></p>\n\n<p><a href=\"https://www.youtube.com/playlist?list=PLoYCgNOIyGADILc3iUJzygCqC8Tt3bRXt\" rel=\"nofollow noreferrer\">https://www.youtube.com/playlist?list=PLoYCgNOIyGADILc3iUJzygCqC8Tt3bRXt</a></p>\n\n<p>React Routing</p>\n\n<p><a href=\"https://medium.freecodecamp.org/beginner-s-guide-to-react-router-53094349669\" rel=\"nofollow noreferrer\">https://medium.freecodecamp.org/beginner-s-guide-to-react-router-53094349669</a></p>\n"}], "owner": {"reputation": 1, "user_id": 3947326, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cb12af38d4976152266772dd777fd02?s=128&d=identicon&r=PG", "display_name": "knowledgeworker", "link": "https://stackoverflow.com/users/3947326/knowledgeworker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "closed_date": 1538006533, "answer_count": 1, "score": -5, "last_activity_date": 1538004711, "creation_date": 1538003925, "question_id": 52527262, "link": "https://stackoverflow.com/questions/52527262/how-do-i-get-started-with-reactjs", "closed_reason": "Not suitable for this site", "title": "How do I get started with ReactJS?", "body": "<p>Need good resources for learning React - tutorials, video series, books, etc.</p>\n\n<p>Some websites just provide the basics of React but I need guidance on how to get started with developing a full-fledged website with multiple react components.</p>\n"}, {"tags": ["javascript", "colors"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1538003880, "post_id": 52527240, "comment_id": 91994151, "body": "<code>if(counter &lt; 0)</code>, change css color property to red, other wise green ..."}, {"owner": {"reputation": 113, "user_id": 10414978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z2j8Q.jpg?s=128&g=1", "display_name": "mind set", "link": "https://stackoverflow.com/users/10414978/mind-set"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1538004016, "post_id": 52527240, "comment_id": 91994178, "body": "@JonasWilms Could you give me more information please?"}], "answers": [{"tags": [], "owner": {"reputation": 1661, "user_id": 2311619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/73RqC.jpg?s=128&g=1", "display_name": "protoproto", "link": "https://stackoverflow.com/users/2311619/protoproto"}, "is_accepted": true, "score": 1, "last_activity_date": 1538004527, "creation_date": 1538004527, "answer_id": 52527352, "question_id": 52527240, "link": "https://stackoverflow.com/questions/52527240/js-onkeyup-counter-how-to-change-the-color-of-the-counter-when-he-turns-negati/52527352#52527352", "title": "JS onKeyup Counter - How to change the color of the counter when he turns negative?", "body": "<p>You can use as follow:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    $(function(){\r\n\r\nfunction limitaCaracteres(input, counter, limit){\r\n  $('.'+counter).text(limit+' restantes');\r\n  var left;\r\n  $('.'+input).on('keyup', function(e){\r\n    var qtdCaracteres = $(this).val().length;\r\n    left = limit-qtdCaracteres;\r\n   \r\n    $('.'+counter).text(left+' restantes');\r\n    if(left&lt;0){\r\n        $('.'+counter).removeClass(\"positive\");\r\n        $('.'+counter).addClass(\"negative\");\r\n    }else{\r\n        $('.'+counter).removeClass(\"negative\");\r\n        $('.'+counter).addClass(\"positive\");\r\n    }\r\n\r\n  });\r\n}\r\nlimitaCaracteres('text1', 'count1', 10);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;head&gt;\r\n    &lt;title&gt;&lt;/title&gt;\r\n    &lt;style&gt;\r\n    .negative{\r\n        color: red;\r\n    }\r\n    .positive{\r\n        color: greenyellow;\r\n    }\r\n    &lt;/style&gt;\r\n  &lt;/head&gt;\r\n  &lt;body style=\"background-color: #EAEAEA;\"&gt;\r\n      &lt;input type=\"text\" name=\"title\" class=\"input100 text1\" autocomplete=\"off\" required&gt;     \r\n      &lt;span class=\"focus-input100\" data-placeholder=\"Title\"&gt;&lt;/span&gt;\r\n      &lt;span class=\"count1 positive\"&gt;&lt;/span&gt;\r\n\r\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n    \r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 113, "user_id": 10414978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/z2j8Q.jpg?s=128&g=1", "display_name": "mind set", "link": "https://stackoverflow.com/users/10414978/mind-set"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 52527352, "answer_count": 1, "score": 1, "last_activity_date": 1538004527, "creation_date": 1538003714, "last_edit_date": 1538004271, "question_id": 52527240, "link": "https://stackoverflow.com/questions/52527240/js-onkeyup-counter-how-to-change-the-color-of-the-counter-when-he-turns-negati", "title": "JS onKeyup Counter - How to change the color of the counter when he turns negative?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function(){\r\n\r\n        function limitaCaracteres(input, counter, limit){\r\n          $('.'+counter).text(limit+' restantes');\r\n          var left;\r\n          $('.'+input).on('keyup', function(e){\r\n            var qtdCaracteres = $(this).val().length;\r\n            left = limit-qtdCaracteres;\r\n            $('.'+counter).text(left+' restantes');\r\n\r\n          });\r\n        }\r\n        limitaCaracteres('text1', 'count1', 10);\r\n      });</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!doctype html&gt;\r\n&lt;html&gt;\r\n  &lt;head&gt;\r\n    &lt;title&gt;&lt;/title&gt;\r\n  &lt;/head&gt;\r\n  &lt;body style=\"background-color: #EAEAEA;\"&gt;\r\n      &lt;input type=\"text\" name=\"title\" class=\"input100 text1\" autocomplete=\"off\" required&gt;     \r\n      &lt;span class=\"focus-input100\" data-placeholder=\"Title\"&gt;&lt;/span&gt;\r\n      &lt;span class=\"count1\"&gt;&lt;/span&gt;\r\n\r\n    &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n    \r\n    &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I want to change the color of the counter, initially the color should be green, and when the counter turns negative, the color should be red.</p>\n\n<p>Example:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6dfbJ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6dfbJ.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/Mh3X3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mh3X3.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "angular", "typescript", "recursion", "tree"], "comments": [{"owner": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 0, "creation_date": 1538014207, "post_id": 52527208, "comment_id": 91996321, "body": "Sounds like you want to implement a <a href=\"https://www.cs.odu.edu/~cs381/cs381content/recursive_alg/rec_alg.html\" rel=\"nofollow noreferrer\">recursive algorithm</a>."}, {"owner": {"reputation": 103, "user_id": 8262174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/355658fd582a2afa510f3c450838a809?s=128&d=identicon&r=PG&f=1", "display_name": "Tee Jay", "link": "https://stackoverflow.com/users/8262174/tee-jay"}, "reply_to_user": {"reputation": 15416, "user_id": 3509591, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/Rshrf.jpg?s=128&g=1", "display_name": "Zze", "link": "https://stackoverflow.com/users/3509591/zze"}, "edited": false, "score": 0, "creation_date": 1538071830, "post_id": 52527208, "comment_id": 92025515, "body": "@Zze - Can you help with the given context?"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538093936, "post_id": 52527208, "comment_id": 92033002, "body": "We&#39;re probably going to have to see the code for <code>TreeNode</code> and <code>BaseTreeComponent</code> to do this correctly."}], "owner": {"reputation": 103, "user_id": 8262174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/355658fd582a2afa510f3c450838a809?s=128&d=identicon&r=PG&f=1", "display_name": "Tee Jay", "link": "https://stackoverflow.com/users/8262174/tee-jay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 166, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538003499, "creation_date": 1538003499, "question_id": 52527208, "link": "https://stackoverflow.com/questions/52527208/angular-perform-recursion-to-traverse-hierarchy-structure", "title": "Angular perform recursion to traverse hierarchy structure", "body": "<p>I have the following code in which the \"currentNode\" is the node which has been selected from the hierarchy level. It is a json having key-value pairs. It has keys like \"children\", \"selected\" etc.</p>\n\n<p>I want to perform recursion so that whenever a node is selected (the selected function has the \"currentNode\" which is selected), check if it has children. If not, just pass the currentNode. If it has children, perform recursion to pass the nodes which have \"Selected=true\" attribute. </p>\n\n<p>In my current code, I am able to get the selected child nodes only up to one level depth. </p>\n\n<p>checkbox-tree.component.ts:</p>\n\n<pre><code>import { Component, EventEmitter, Output } from '@angular/core';\nimport { TreeNode } from './../../dto/TreeNode';\nimport { BaseTreeComponent } from './../base-tree/base-tree.component';\nimport { Subject } from 'rxjs/Subject';\n\nimport html from './checkbox-tree.component.html';\nimport css from '../fortune-select.component.css';\n\n@Component({\n  selector: 'checkbox-tree',\n  template: html,\n  styles: [css],\n})\n\nexport class CheckboxTreeComponent&lt;T&gt; extends BaseTreeComponent&lt;T&gt; {\n\n  //gets called when a node is selected\n  public selected():void {\n\n      if(this.currentNode.children.length !== 0) {\n      this.currentNode.children.forEach(child =&gt; {if(child.selected = true) {\n       this.sliceSelected.emit(child);\n\n      //should ideally check again if child has children and if the child nodes are selected\n\n      }})}\n      else {\n        this.sliceSelected.emit(this.currentNode); \n      }\n\n    if(!this.linked || (this.currentNode.indeterminate &amp;&amp; !this.currentNode.selected)) {\n      this.dataChangedEvent();\n      return;\n    }\n\n    this.currentNode.indeterminate = false;\n    if(this.singleLevelOnly) {\n      this.currentNode.selectChildrenSingleLevel(this.currentNode.selected);\n    } else {\n      this.currentNode.selectChildren(this.currentNode.selected);\n    }\n\n    this.childChanged.emit();\n    this.dataChangedEvent();\n  }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"tags": [], "owner": {"reputation": 564, "user_id": 9911698, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HiA9x.jpg?s=128&g=1", "display_name": "Gabriel", "link": "https://stackoverflow.com/users/9911698/gabriel"}, "is_accepted": false, "score": 3, "last_activity_date": 1538003665, "creation_date": 1538003665, "answer_id": 52527234, "question_id": 52527206, "link": "https://stackoverflow.com/questions/52527206/how-to-get-an-array-of-numbers-from-a-sentence-style-string-in-vanilla-javascrip/52527234#52527234", "title": "How to get an array of numbers from a sentence-style string in vanilla javascript and/or jQuery?", "body": "<p>You can use a regex to handle this.</p>\n\n<pre><code>var num_array = sentence.match(/\\d+/g).map(Number)\n</code></pre>\n"}], "owner": {"reputation": 1343, "user_id": 984415, "user_type": "registered", "accept_rate": 76, "profile_image": "https://i.stack.imgur.com/rMvNp.gif?s=128&g=1", "display_name": "lilHar", "link": "https://stackoverflow.com/users/984415/lilhar"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1538004033, "answer_count": 1, "score": 0, "last_activity_date": 1538004114, "creation_date": 1538003471, "last_edit_date": 1538004114, "question_id": 52527206, "link": "https://stackoverflow.com/questions/52527206/how-to-get-an-array-of-numbers-from-a-sentence-style-string-in-vanilla-javascrip", "closed_reason": "Duplicate", "title": "How to get an array of numbers from a sentence-style string in vanilla javascript and/or jQuery?", "body": "<p>Say I have the following string or one like it: </p>\n\n<pre><code>var sentence = \"Hey, I got 3 apples today from the 2 food stalls I was told about by 4chan. I'll give you one in a minute or 20.\"\n</code></pre>\n\n<p>and I want the following array from it: </p>\n\n<pre><code>var num_array = some_magic_function(sentence); // Contains: {3, 2, 4, 20}\n</code></pre>\n\n<p>I was looking at splitting by spaces, but that won't get numbers blended in. I can't do number by number because if a number has multiple digits, that's a problem.</p>\n"}, {"tags": ["javascript", "regex", "superscript"], "answers": [{"comments": [{"owner": {"reputation": 35, "user_id": 5071610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be1dd90cc81617433c2edfc72ec298f2?s=128&d=identicon&r=PG&f=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/5071610/emma"}, "edited": false, "score": 0, "creation_date": 1538005301, "post_id": 52527343, "comment_id": 91994451, "body": "Thank you so much!  This is amazing and very close to what I need.  The only problem is this seems to fail with longer numbers like 1,000 and up.  Is there any way to fix for that scenario, too?"}, {"owner": {"reputation": 2842, "user_id": 4881192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGqrq.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4881192/adam"}, "reply_to_user": {"reputation": 35, "user_id": 5071610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be1dd90cc81617433c2edfc72ec298f2?s=128&d=identicon&r=PG&f=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/5071610/emma"}, "edited": false, "score": 0, "creation_date": 1538005626, "post_id": 52527343, "comment_id": 91994506, "body": "Ah, completely skipped over longer numbers. Fixed it."}, {"owner": {"reputation": 35, "user_id": 5071610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be1dd90cc81617433c2edfc72ec298f2?s=128&d=identicon&r=PG&f=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/5071610/emma"}, "edited": false, "score": 0, "creation_date": 1538007408, "post_id": 52527343, "comment_id": 91994918, "body": "Sorry, I ran this through <a href=\"https://regexr.com/\" rel=\"nofollow noreferrer\">regexr.com</a> to get a better understanding of how this is working, and it game me a warning that the &quot;positive lookbehind&quot; feature may not be supported in all browsers.  So then I tested the code in Firefox and Safari, and realized the superscripting isn&#39;t working anywhere but Chrome.  Is there any way to get this working across browsers?  Thank you again."}, {"owner": {"user_type": "does_not_exist", "display_name": "user557597"}, "edited": false, "score": 0, "creation_date": 1538007461, "post_id": 52527343, "comment_id": 91994932, "body": "Not only does JS not support lookbehind assertions, it does not support variable width lookbehind assertions either."}, {"owner": {"reputation": 2842, "user_id": 4881192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGqrq.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4881192/adam"}, "edited": false, "score": 0, "creation_date": 1538009133, "post_id": 52527343, "comment_id": 91995321, "body": "JavaScript <a href=\"https://github.com/tc39/proposals/blob/master/finished-proposals.md\" rel=\"nofollow noreferrer\">supports lookbehind assertions</a>, but not all environments support it yet. That&#39;s an oversight on my part."}, {"owner": {"reputation": 2842, "user_id": 4881192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGqrq.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4881192/adam"}, "reply_to_user": {"reputation": 35, "user_id": 5071610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be1dd90cc81617433c2edfc72ec298f2?s=128&d=identicon&r=PG&f=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/5071610/emma"}, "edited": false, "score": 0, "creation_date": 1538010797, "post_id": 52527343, "comment_id": 91995651, "body": "@emma Updated to remove the positive lookbehind."}, {"owner": {"reputation": 35, "user_id": 5071610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be1dd90cc81617433c2edfc72ec298f2?s=128&d=identicon&r=PG&f=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/5071610/emma"}, "edited": false, "score": 0, "creation_date": 1538020304, "post_id": 52527343, "comment_id": 91997617, "body": "Awesome, thank you so much for your help!  This looks great.  Quick question... when replacing the string, would you mind explaining how the &#39;$1&lt;sup&gt;$2&lt;/sup&gt;&#39; part is working?  I just want to be sure I have a complete understanding."}, {"owner": {"reputation": 2842, "user_id": 4881192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGqrq.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4881192/adam"}, "edited": false, "score": 1, "creation_date": 1538020524, "post_id": 52527343, "comment_id": 91997662, "body": "Sure! In the replacement string, you can use <code>$&lt;num&gt;</code> to insert captured characters in the regex. So <code>$1</code> is the captured characters from the <code>(\\d[,.])</code> part and <code>$2</code> is the captured characters from the <code>(\\d{2})</code> part."}], "tags": [], "owner": {"reputation": 2842, "user_id": 4881192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EGqrq.jpg?s=128&g=1", "display_name": "Adam", "link": "https://stackoverflow.com/users/4881192/adam"}, "is_accepted": true, "score": 1, "last_activity_date": 1538010642, "last_edit_date": 1538010642, "creation_date": 1538004480, "answer_id": 52527343, "question_id": 52527196, "link": "https://stackoverflow.com/questions/52527196/superscript-cents-in-dynamic-text-string-using-vanilla-javascript/52527343#52527343", "title": "Superscript cents in dynamic text string using vanilla JavaScript", "body": "<p>This should do it: <code>(\\d[,.])(\\d{2})(?!\\d)</code>. An extra capture group is needed to allow more characters to be matched while not being replaced (a workaround for positive lookbehind).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var regex = /(\\d[,.])(\\d{2})(?!\\d)/g;\r\nvar str = 'Test test test 100,99\u20ac test 2.116.600,99\u20ac test \u20ac 2,50 test.';\r\n\r\nconsole.log(str.replace(regex, '$1&lt;sup&gt;$2&lt;/sup&gt;'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Explanation:</p>\n\n<pre><code>(\\d[,.]) | Capture a digit followed by \",\" or \".\"\n(\\d{2})  | Capture the two cents digits\n(?!\\d)   | Ensure a digit doesn't follow the previous capture\n</code></pre>\n\n<h3><a href=\"https://regex101.com/r/SfEySK/4\" rel=\"nofollow noreferrer\">Try it here</a></h3>\n"}], "owner": {"reputation": 35, "user_id": 5071610, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be1dd90cc81617433c2edfc72ec298f2?s=128&d=identicon&r=PG&f=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/5071610/emma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 161, "favorite_count": 0, "accepted_answer_id": 52527343, "answer_count": 1, "score": 1, "last_activity_date": 1538010642, "creation_date": 1538003398, "last_edit_date": 1538003892, "question_id": 52527196, "link": "https://stackoverflow.com/questions/52527196/superscript-cents-in-dynamic-text-string-using-vanilla-javascript", "title": "Superscript cents in dynamic text string using vanilla JavaScript", "body": "<p>I'm trying to superscript the cents in some prices; the prices are dynamic so I can't manually add the sup tags in the HTML.  </p>\n\n<p>As far as I know, the prices should be formatted like \"3,99 \u20ac\" but I don't want anything to break if they're changed to something like \"\u20ac3.99\" in the future.</p>\n\n<p>I was trying to use a RegEx like </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  var matcher = /(\\.|\\,)\\d{2}(?![\\d])/;\r\n  return price.replace(matcher, '&lt;sup&gt;' + matcher + '&lt;/sup&gt;');</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>but I haven't quite figured out how to get only the cents value wrapped between the superscript tags.  Any suggestions would be much appreciated.</p>\n"}, {"tags": ["javascript", "json", "fetch", "restful-authentication", "fetch-api"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1538081142, "post_id": 52527050, "comment_id": 92029635, "body": "Really, the <code>console.log</code>ged error is just &quot;<i>&quot;[object error]&quot;</i>&quot;?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1538081162, "post_id": 52527050, "comment_id": 92029651, "body": "What does the network panel of the devtools tell you about the request?"}, {"owner": {"reputation": 6794, "user_id": 3290397, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/43e4f19880863474b48dcd8b8a4c48ea?s=128&d=identicon&r=PG&f=1", "display_name": "golopot", "link": "https://stackoverflow.com/users/3290397/golopot"}, "edited": false, "score": 0, "creation_date": 1538146075, "post_id": 52527050, "comment_id": 92054150, "body": "Your question contains too many irrevalant code. You cut off fly out question to a simple form."}], "owner": {"reputation": 75, "user_id": 10410195, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0fb8becd4bdff54b2a82bdc9fa2eddae?s=128&d=identicon&r=PG&f=1", "display_name": "Francis", "link": "https://stackoverflow.com/users/10410195/francis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 181, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538069041, "creation_date": 1538002293, "last_edit_date": 1538069041, "question_id": 52527050, "link": "https://stackoverflow.com/questions/52527050/how-do-i-solve-an-object-error-fetch-api", "title": "How do I solve an Object error Fetch api?", "body": "<p>I am having a hard time fetching and query a JSON file from apptweak.com. \nWhen execute the code, I get a catch Error \"[object error]\"{}. \nI need help to solve this problem. The requests only accept an HTTPS calls. I was having a cors problem at firs but I fixed that with chrome extension.</p>\n\n<pre><code>&lt;h1&gt;Testing&lt;/h1&gt; \n&lt;input type=\"text\" id=\"\" value=\"type something\"&gt;\n&lt;button id=\"submit\" onclick=\"getUsers()\"&gt;Submit&lt;/button&gt;\n&lt;div class=\"output-styling\" id=\"output\"&gt;       \n&lt;/div&gt;\n\nvar url = \"https://api.apptweak.com\";  \nvar OS = \"/ios/\";    \nvar json =  \"searches.json?term=\";    \nvar country = \"&amp;country=\";   \nvar nameofcountry = \"be\";   \nvar device = \"&amp;device=\";    \nvar typeOfDevice =\"ipad\";    \n// var name = \"bingo\";    \nvar name = document.getElementById(\"name\").value;    \nvar headers = {\n  'method': 'GET',              \n  'X-Apptweak-Key': 'Api key fo here',      \n  'Cache-Control': 'no-cache',\n  'mode': 'cors'\n  };      \nfunction getUsers(){ \nfetch(url + OS + json + name + country + nameofcountry + device + typeOfDevice, {headers})       \n  .then((res) =&gt; res.json())       \n  .then((data) =&gt; {          \n      let output = '&lt;h2 class=\"mb-4\"&gt;Free Evaluation&lt;/h2&gt;';      \n      data.forEach(function(searches){     \n      output += `        \n      &lt;table class=\" scroll \"&gt;     \n              &lt;thead&gt;\n                  &lt;th width=\"200\"&gt;ID&lt;/th&gt;\n                  &lt;th width=\"200\"&gt;Title&lt;/th&gt;\n                  &lt;th width=\"200\"&gt;Price&lt;/th&gt;\n                  &lt;th width=\"200\"&gt;Developer&lt;/th&gt;\n                  &lt;th width=\"200\"&gt;Device&lt;/th&gt;\n                  &lt;th width=\"200\"&gt;Rating&lt;/th&gt;\n                  &lt;th width=\"200\"&gt;Slug&lt;/th&gt;\n\n\n              &lt;/thead&gt;\n\n              &lt;tbody&gt;\n\n                  &lt;tr&gt;\n                      &lt;td&gt;${content.id}&lt;/td&gt;\n                      &lt;td&gt; ${content.title}&lt;/td&gt;\n                      &lt;td&gt;${content.price}&lt;/td&gt;\n                      &lt;td&gt;${content.developer}&lt;/td&gt;\n                      &lt;td&gt;${content.devices}&lt;/td&gt;\n                      &lt;td&gt;${content.rating}&lt;/td&gt;\n                      &lt;td&gt;${content.slug}&lt;/td&gt;\n\n\n                  &lt;/tr&gt;\n              &lt;/tbody&gt;\n          &lt;/table&gt;\n      `;\n      });\n      var display = document.getElementById('output');\n     display.innerHTML = output;\n\n  })\n\n  .catch(function(error) {\n  console.log('Looks like there was a problem: \\n', error);\n  });\n  }\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 38258, "user_id": 560593, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/99c93a3c235763708dd7263e197acdc6?s=128&d=identicon&r=PG", "display_name": "Patrick Evans", "link": "https://stackoverflow.com/users/560593/patrick-evans"}, "edited": false, "score": 0, "creation_date": 1538002942, "post_id": 52526986, "comment_id": 91993913, "body": "Note the <code>&lt;script&gt;</code> won&#39;t run when added through <code>innerHTML</code> as it is a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/innerHTML#Security_considerations\" rel=\"nofollow noreferrer\">security implementation</a>."}, {"owner": {"reputation": 492, "user_id": 10408246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PPBqm.jpg?s=128&g=1", "display_name": "Vash72", "link": "https://stackoverflow.com/users/10408246/vash72"}, "edited": false, "score": 0, "creation_date": 1538003757, "post_id": 52526986, "comment_id": 91994124, "body": "And you are missing a source for .onmessage check W3School <a href=\"https://www.w3schools.com/jsref/event_onmessage_sse.asp\" rel=\"nofollow noreferrer\">w3schools.com/jsref/event_onmessage_sse.asp</a>"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 10398807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d82bf3ea8ba92bf3caa9a8fe556b3df6?s=128&d=identicon&r=PG&f=1", "display_name": "mattylight", "link": "https://stackoverflow.com/users/10398807/mattylight"}, "edited": false, "score": 0, "creation_date": 1538014420, "post_id": 52527202, "comment_id": 91996353, "body": "this seems like it would work but I am not getting it to work somehow. can you take a look at this fiddle <a href=\"https://jsfiddle.net/62fdybc0/\" rel=\"nofollow noreferrer\">jsfiddle.net/62fdybc0</a>"}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "reply_to_user": {"reputation": 15, "user_id": 10398807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d82bf3ea8ba92bf3caa9a8fe556b3df6?s=128&d=identicon&r=PG&f=1", "display_name": "mattylight", "link": "https://stackoverflow.com/users/10398807/mattylight"}, "edited": false, "score": 0, "creation_date": 1538014775, "post_id": 52527202, "comment_id": 91996415, "body": "@mattylight in your fiddle, there is no element with the ID of <code>head</code>, so there is nothing to append to."}, {"owner": {"reputation": 15, "user_id": 10398807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d82bf3ea8ba92bf3caa9a8fe556b3df6?s=128&d=identicon&r=PG&f=1", "display_name": "mattylight", "link": "https://stackoverflow.com/users/10398807/mattylight"}, "edited": false, "score": 0, "creation_date": 1538015200, "post_id": 52527202, "comment_id": 91996478, "body": "you are right, sorry. Even with changing that to myDIV. I can tell it creates the div, but the script does not run still. I updated the fiddle to show <a href=\"https://jsfiddle.net/62fdybc0/9/\" rel=\"nofollow noreferrer\">jsfiddle.net/62fdybc0/9</a>"}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "reply_to_user": {"reputation": 15, "user_id": 10398807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d82bf3ea8ba92bf3caa9a8fe556b3df6?s=128&d=identicon&r=PG&f=1", "display_name": "mattylight", "link": "https://stackoverflow.com/users/10398807/mattylight"}, "edited": false, "score": 0, "creation_date": 1538015690, "post_id": 52527202, "comment_id": 91996566, "body": "@mattylight as has been mentioned by myself and others, this might be due to CORS or other Browser related security that is specifically designed to prevent external JavaScript code from being executed in the browser. the <code>&lt;script&gt;</code> element is added to the page yet the page is already loaded, so the current DOM and HTML are already rendered."}, {"owner": {"reputation": 15, "user_id": 10398807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d82bf3ea8ba92bf3caa9a8fe556b3df6?s=128&d=identicon&r=PG&f=1", "display_name": "mattylight", "link": "https://stackoverflow.com/users/10398807/mattylight"}, "edited": false, "score": 0, "creation_date": 1538015943, "post_id": 52527202, "comment_id": 91996617, "body": "got it, thats probably what is going on. I really appreciate your help! Thanks again !"}, {"owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "reply_to_user": {"reputation": 15, "user_id": 10398807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d82bf3ea8ba92bf3caa9a8fe556b3df6?s=128&d=identicon&r=PG&f=1", "display_name": "mattylight", "link": "https://stackoverflow.com/users/10398807/mattylight"}, "edited": false, "score": 0, "creation_date": 1538015979, "post_id": 52527202, "comment_id": 91996628, "body": "@mattylight take a look here too: <a href=\"https://humanwhocodes.com/blog/2009/07/28/the-best-way-to-load-external-javascript/\" rel=\"nofollow noreferrer\">humanwhocodes.com/blog/2009/07/28/&hellip;</a>"}, {"owner": {"reputation": 15, "user_id": 10398807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d82bf3ea8ba92bf3caa9a8fe556b3df6?s=128&d=identicon&r=PG&f=1", "display_name": "mattylight", "link": "https://stackoverflow.com/users/10398807/mattylight"}, "edited": false, "score": 0, "creation_date": 1538056697, "post_id": 52527202, "comment_id": 92016943, "body": "I took a look at that article and realized that I may be approaching this whole thing wrong. The reason I was exploring this is because I want to load a different channel of this chat script each time I load a page so the div attribute of the data channel (yyyy) in this example is <code>&lt;div id=&quot;tlkio&quot; data-channel=&quot;yyyy&quot;</code> is changed to something different each time a page loads. Can even just be a random string. Would you have any knowledge of how to approach that? No worries if not, just thought I would ask.  btw should look like this <a href=\"https://jsfiddle.net/2g71a9pq/1\" rel=\"nofollow noreferrer\">jsfiddle.net/2g71a9pq/1</a>  with random channel up top."}], "tags": [], "owner": {"reputation": 23103, "user_id": 463319, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/PV2Te.jpg?s=128&g=1", "display_name": "Twisty", "link": "https://stackoverflow.com/users/463319/twisty"}, "is_accepted": false, "score": 0, "last_activity_date": 1538015153, "last_edit_date": 1538015153, "creation_date": 1538003440, "answer_id": 52527202, "question_id": 52526986, "link": "https://stackoverflow.com/questions/52526986/change-the-inner-html-with-another-html-code-block-of-a-div-and-a-script/52527202#52527202", "title": "Change the inner HTML with another HTML code block of a div and a script", "body": "<p>You may consider swapping the Quotes used:</p>\n\n<pre><code>function insertMessage(msg) {\n  var myHtml = \"&lt;div id='tlkio' data-channel='regerhtrh' data-theme='theme--night' style='width: 100%; height:400px;'&gt;&lt;/div&gt;&lt;script async src='https://tlk.io/embed.js' type='text/javascript'&gt;&lt;/script&gt;\";\n  document.getElementById('demo').innerHTML = myHtml;\n}\n</code></pre>\n\n<p>This may add it, yet may not render it. You might consider creating the elements and appending them.</p>\n\n<pre><code>function insertMessage(msg) {\n  var tlkio = document.createElement(\"div\");\n  tlkio.style.width = \"100%\";\n  tlkio.style.width = \"400px\";\n  tlkio.setAttribute('data-channel', 'regerhtrh');\n  tlkio.setAttribute('data-theme', 'theme--night');\n\n  var tlkScript = document.createElement(\"script\");\n  tlkScript.src = 'https://tlk.io/embed.js';\n  tlkScript.type = 'text/javascript';\n  tlkScript.async = true;\n\n  document.getElementById('demo').append(tlkio, tlkScript);\n}\n</code></pre>\n\n<p>Based on some research here: <a href=\"https://stackoverflow.com/questions/7718935/load-scripts-asynchronously\">load scripts asynchronously</a>, it may be best to append the script to the <code>&lt;head&gt;</code>.</p>\n\n<p>Hope that helps.</p>\n\n<p><strong>Update 1</strong></p>\n\n<p>Per your fiddle, once updated, it is working as you suggested: <a href=\"https://jsfiddle.net/Twisty/62fdybc0/7/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/Twisty/62fdybc0/7/</a></p>\n\n<p>The following is added to <code>#myDIV</code> element:</p>\n\n<pre><code>&lt;div style=\"width: 100%; height: 400px;\" data-channel=\"regerhtrh\" data-theme=\"theme--night\"&gt;&lt;/div&gt;&lt;script src=\"https://tlk.io/embed.js\" type=\"text/javascript\" async=\"async\"&gt;&lt;/script&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 10398807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d82bf3ea8ba92bf3caa9a8fe556b3df6?s=128&d=identicon&r=PG&f=1", "display_name": "mattylight", "link": "https://stackoverflow.com/users/10398807/mattylight"}, "edited": false, "score": 0, "creation_date": 1538015345, "post_id": 52527238, "comment_id": 91996501, "body": "Thanks for the reply. I am still not getting it to work, can you take a look at this fiddle please? I am using document create but not sure what I am doing wrong <a href=\"https://jsfiddle.net/62fdybc0/9/\" rel=\"nofollow noreferrer\">jsfiddle.net/62fdybc0/9</a>"}, {"owner": {"reputation": 15, "user_id": 10398807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d82bf3ea8ba92bf3caa9a8fe556b3df6?s=128&d=identicon&r=PG&f=1", "display_name": "mattylight", "link": "https://stackoverflow.com/users/10398807/mattylight"}, "edited": false, "score": 0, "creation_date": 1538056283, "post_id": 52527238, "comment_id": 92016622, "body": "thanks for your help! as shown with the other answers on this forum, that solution works, but the script does not load as it should I think due to CORS or other Browser related security. It should show something like this <a href=\"https://jsfiddle.net/2g71a9pq/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/2g71a9pq/1</a> in the end.  The reason I was exploring this is because I want it to load a different channel of this chat script each time I load a page so the parameter in the data channel (x) <code>&lt;div id=&quot;tlkio&quot; data-channel=&quot;x&quot;</code> is something random/different each time it loads. Would you have any insights on how to do that in a more efficient way?"}, {"owner": {"reputation": 314, "user_id": 3491042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a115fbafdcbcf752c3d9df73574236fe?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom Shegeda", "link": "https://stackoverflow.com/users/3491042/artyom-shegeda"}, "reply_to_user": {"reputation": 15, "user_id": 10398807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d82bf3ea8ba92bf3caa9a8fe556b3df6?s=128&d=identicon&r=PG&f=1", "display_name": "mattylight", "link": "https://stackoverflow.com/users/10398807/mattylight"}, "edited": false, "score": 0, "creation_date": 1538059570, "post_id": 52527238, "comment_id": 92018931, "body": "@mattylight, i updated the code. it is not CORS issue. it does not work because of it was designed for page load-time initialization, not interact-time. i made two important changes: (1) i added onload event handler to track script load and in this handler i force &#39;load&#39; event for window, (2) you forgot to use id=&quot;tlkio&quot; attribute for placeholder."}, {"owner": {"reputation": 15, "user_id": 10398807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d82bf3ea8ba92bf3caa9a8fe556b3df6?s=128&d=identicon&r=PG&f=1", "display_name": "mattylight", "link": "https://stackoverflow.com/users/10398807/mattylight"}, "edited": false, "score": 0, "creation_date": 1538059867, "post_id": 52527238, "comment_id": 92019142, "body": "thank you so much! this is exactly what I needed. I really appreciate it!"}], "tags": [], "owner": {"reputation": 314, "user_id": 3491042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a115fbafdcbcf752c3d9df73574236fe?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom Shegeda", "link": "https://stackoverflow.com/users/3491042/artyom-shegeda"}, "is_accepted": true, "score": 0, "last_activity_date": 1538059358, "last_edit_date": 1538059358, "creation_date": 1538003695, "answer_id": 52527238, "question_id": 52526986, "link": "https://stackoverflow.com/questions/52526986/change-the-inner-html-with-another-html-code-block-of-a-div-and-a-script/52527238#52527238", "title": "Change the inner HTML with another HTML code block of a div and a script", "body": "<p>The major issue is the <code>&lt;/script&gt;</code> closing tag in your code. It closes YOUR block, not the block you are inserting.</p>\n\n<p>You have to do so:</p>\n\n<pre><code>var myHtml = \"&lt;div id='tlkio' data-channel='regerhtrh' data-theme='theme--night' style='width: 100%; height:400px;'&gt;&lt;/div&gt;&lt;script async src='https://tlk.io/embed.js' type='text/javascript'&gt;&lt;/scr\"+\"ipt&gt;\";\n</code></pre>\n\n<p>Second, <code>script</code> you insert with innerHTML wont run. Use <code>document.createElement('script')</code> instead</p>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Here is the jsFiddle: <a href=\"https://jsfiddle.net/ArtyomShegeda/62fdybc0/21/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/ArtyomShegeda/62fdybc0/21/</a></p>\n"}], "owner": {"reputation": 15, "user_id": 10398807, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d82bf3ea8ba92bf3caa9a8fe556b3df6?s=128&d=identicon&r=PG&f=1", "display_name": "mattylight", "link": "https://stackoverflow.com/users/10398807/mattylight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 52527238, "answer_count": 2, "score": 0, "last_activity_date": 1538059358, "creation_date": 1538001884, "question_id": 52526986, "link": "https://stackoverflow.com/questions/52526986/change-the-inner-html-with-another-html-code-block-of-a-div-and-a-script", "title": "Change the inner HTML with another HTML code block of a div and a script", "body": "<p>I have been struggling with this so hopefully someone can help!\nSo I am looking to change the inner html of a paragraph to another html element containing a div and script when my frame receives a message from the page code. I have this working only for when the inner html is set to replace with a normal string\nlike this </p>\n\n<pre><code>document.getElementById('demo').innerHTML =   \"testing\" ;\n</code></pre>\n\n<p>the correct replacement shows up here</p>\n\n<pre><code>&lt;p id=\"demo\"&gt;testing&lt;/p&gt;\n</code></pre>\n\n<p>but when I try and pass in the other html to replace that section like this:</p>\n\n<pre><code>document.getElementById('demo').innerHTML =   \n'&lt;div id=\"tlkio\" data-channel=\"regerhtrh\" data-theme=\"theme--night\" style=\"width:100%;height:400px;\"&gt;&lt;/div&gt;&lt;script async src=\"https://tlk.io/embed.js\" type=\"text/javascript\"&gt;&lt;/script&gt;';\n</code></pre>\n\n<p>it does not work. I don't think it is a  quotation issue because I wrapped the outsides of it with single quotes. not sure what else to try. Below is the full html and I would appreciate any help!</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n&lt;head&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n\nfunction init () {\n  // when a message is received from the page code\n  window.onmessage = (event) =&gt; {\n    if (event.data) {\n      console.log(\"HTML Code Element received a message!\");\n      insertMessage(event.data);\n    }\n  }\n}\n\n// display received message\nfunction insertMessage(msg) {\n  document.getElementById('demo').innerHTML =   \n  '&lt;div id=\"tlkio\" data-channel=\"regerhtrh\" data-theme=\"theme--night\" style=\"width:100%;height:400px;\"&gt;&lt;/div&gt;&lt;script async src=\"https://tlk.io/embed.js\" type=\"text/javascript\"&gt;&lt;/script&gt;'\n ;\n\n\n}\n&lt;/script&gt;\n\n&lt;/head&gt;\n\n&lt;body onload=\"init();\" style=\"background-color:lightgray;\"&gt;\n&lt;h1&gt;HTML Component Test&lt;/h1&gt;\n&lt;p id=\"demo\"&gt;\n\n\n\n  should put html here\n&lt;/p&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "fullcalendar"], "answers": [{"tags": [], "owner": {"reputation": 3882, "user_id": 9561918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6kphC.jpg?s=128&g=1", "display_name": "Hikarunomemory", "link": "https://stackoverflow.com/users/9561918/hikarunomemory"}, "is_accepted": true, "score": 10, "last_activity_date": 1538006837, "creation_date": 1538006837, "answer_id": 52527599, "question_id": 52526956, "link": "https://stackoverflow.com/questions/52526956/empty-space-in-full-calendar/52527599#52527599", "title": "Empty space in full calendar", "body": "<p>You can set <a href=\"https://fullcalendar.io/docs/height\" rel=\"noreferrer\"><code>height: \"auto\"</code></a> to get what you want.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n\r\n  $('#calendar').fullCalendar({\r\n    droppable: true,\r\n    editable: true,\r\n\r\n    defaultView: 'agendaWeek',\r\n    header: {\r\n      left: 'prev,next today',\r\n      center: 'title',\r\n      right: 'month,agendaWeek,agendaDay,listWeek'\r\n    },\r\n    slotDuration: '4:00:00',\r\n    minTime: '07:00:00',\r\n    maxTime: '23:00:00',\r\n    timezone: 'local',\r\n    allDaySlot: false,\r\n    \r\n    // this line\r\n    height: \"auto\",\r\n\r\n    header: {\r\n      left: 'prev,next today',\r\n      center: 'title',\r\n      right: 'month,basicWeek,basicDay'\r\n    },\r\n    defaultDate: '2018-03-12',\r\n    navLinks: true, // can click day/week names to navigate views\r\n    editable: true,\r\n    eventLimit: true, // allow \"more\" link when too many events\r\n    events: [{\r\n        title: 'All Day Event',\r\n        start: '2018-03-01'\r\n      },\r\n      {\r\n        title: 'Long Event',\r\n        start: '2018-03-07',\r\n        end: '2018-03-10'\r\n      },\r\n      {\r\n        id: 999,\r\n        title: 'Repeating Event',\r\n        start: '2018-03-09T16:00:00'\r\n      },\r\n      {\r\n        id: 999,\r\n        title: 'Repeating Event',\r\n        start: '2018-03-16T16:00:00'\r\n      },\r\n      {\r\n        title: 'Conference',\r\n        start: '2018-03-11',\r\n        end: '2018-03-13'\r\n      },\r\n      {\r\n        title: 'Meeting',\r\n        start: '2018-03-12T10:30:00',\r\n        end: '2018-03-12T12:30:00'\r\n      },\r\n      {\r\n        title: 'Lunch',\r\n        start: '2018-03-12T12:00:00'\r\n      },\r\n      {\r\n        title: 'Meeting',\r\n        start: '2018-03-12T14:30:00'\r\n      },\r\n      {\r\n        title: 'Happy Hour',\r\n        start: '2018-03-12T17:30:00'\r\n      },\r\n      {\r\n        title: 'Dinner',\r\n        start: '2018-03-12T20:00:00'\r\n      },\r\n      {\r\n        title: 'Birthday Party',\r\n        start: '2018-03-13T07:00:00'\r\n      },\r\n      {\r\n        title: 'Click for Google',\r\n        url: 'http://google.com/',\r\n        start: '2018-03-28'\r\n      }\r\n    ]\r\n  });\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  margin: 40px 10px;\r\n  padding: 0;\r\n  font-family: \"Lucida Grande\", Helvetica, Arial, Verdana, sans-serif;\r\n  font-size: 14px;\r\n}\r\n\r\n#calendar {\r\n  max-width: 900px;\r\n  margin: 0 auto;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.css' rel='stylesheet' /&gt;\r\n&lt;script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js'&gt;&lt;/script&gt;\r\n&lt;script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'&gt;&lt;/script&gt;\r\n&lt;script src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.js'&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;div id='calendar'&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 4014, "user_id": 366038, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/77070c4d3b4c7c5d65d44ba72fec8dbe?s=128&d=identicon&r=PG&f=1", "display_name": "Sam", "link": "https://stackoverflow.com/users/366038/sam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1790, "favorite_count": 1, "accepted_answer_id": 52527599, "answer_count": 1, "score": 5, "last_activity_date": 1549260166, "creation_date": 1538001642, "last_edit_date": 1538006629, "question_id": 52526956, "link": "https://stackoverflow.com/questions/52526956/empty-space-in-full-calendar", "title": "Empty space in full calendar", "body": "<p>I am using Full Calendar and using slots to segment the day. In doing so, I end up with a large amount of empty space at the bottom of the calendar.</p>\n\n<p><a href=\"https://i.stack.imgur.com/TA20v.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/TA20v.png\" alt=\"enter image description here\"></a></p>\n\n<p>I have cut down from my application to reproduce on the basic sample from Full Calendar's website. You'll find the HTML below. You can see the large empty space beneath 7pm between there and the end of the page - that's what I want to remove.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n\r\n  $('#calendar').fullCalendar({\r\n    droppable: true,\r\n    editable: true,\r\n\r\n    defaultView: 'agendaWeek',\r\n    header: {\r\n      left: 'prev,next today',\r\n      center: 'title',\r\n      right: 'month,agendaWeek,agendaDay,listWeek'\r\n    },\r\n    slotDuration: '4:00:00',\r\n    minTime: '07:00:00',\r\n    maxTime: '23:00:00',\r\n    timezone: 'local',\r\n    allDaySlot: false,\r\n\r\n\r\n    header: {\r\n      left: 'prev,next today',\r\n      center: 'title',\r\n      right: 'month,basicWeek,basicDay'\r\n    },\r\n    defaultDate: '2018-03-12',\r\n    navLinks: true, // can click day/week names to navigate views\r\n    editable: true,\r\n    eventLimit: true, // allow \"more\" link when too many events\r\n    events: [{\r\n        title: 'All Day Event',\r\n        start: '2018-03-01'\r\n      },\r\n      {\r\n        title: 'Long Event',\r\n        start: '2018-03-07',\r\n        end: '2018-03-10'\r\n      },\r\n      {\r\n        id: 999,\r\n        title: 'Repeating Event',\r\n        start: '2018-03-09T16:00:00'\r\n      },\r\n      {\r\n        id: 999,\r\n        title: 'Repeating Event',\r\n        start: '2018-03-16T16:00:00'\r\n      },\r\n      {\r\n        title: 'Conference',\r\n        start: '2018-03-11',\r\n        end: '2018-03-13'\r\n      },\r\n      {\r\n        title: 'Meeting',\r\n        start: '2018-03-12T10:30:00',\r\n        end: '2018-03-12T12:30:00'\r\n      },\r\n      {\r\n        title: 'Lunch',\r\n        start: '2018-03-12T12:00:00'\r\n      },\r\n      {\r\n        title: 'Meeting',\r\n        start: '2018-03-12T14:30:00'\r\n      },\r\n      {\r\n        title: 'Happy Hour',\r\n        start: '2018-03-12T17:30:00'\r\n      },\r\n      {\r\n        title: 'Dinner',\r\n        start: '2018-03-12T20:00:00'\r\n      },\r\n      {\r\n        title: 'Birthday Party',\r\n        start: '2018-03-13T07:00:00'\r\n      },\r\n      {\r\n        title: 'Click for Google',\r\n        url: 'http://google.com/',\r\n        start: '2018-03-28'\r\n      }\r\n    ]\r\n  });\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  margin: 40px 10px;\r\n  padding: 0;\r\n  font-family: \"Lucida Grande\", Helvetica, Arial, Verdana, sans-serif;\r\n  font-size: 14px;\r\n}\r\n\r\n#calendar {\r\n  max-width: 900px;\r\n  margin: 0 auto;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.css' rel='stylesheet' /&gt;\r\n&lt;script src='https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js'&gt;&lt;/script&gt;\r\n&lt;script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js'&gt;&lt;/script&gt;\r\n&lt;script src='https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.9.0/fullcalendar.js'&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;div id='calendar'&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "webpack", "babeljs", "babel-loader"], "comments": [{"owner": {"reputation": 2296, "user_id": 4209136, "user_type": "registered", "profile_image": "https://graph.facebook.com/100000376796894/picture?type=large", "display_name": "bigless", "link": "https://stackoverflow.com/users/4209136/bigless"}, "edited": false, "score": 2, "creation_date": 1538004341, "post_id": 52526878, "comment_id": 91994257, "body": "Isnt it <code>@babel&#47;preset-env</code> rather than <code>@babel&#47;env</code>?"}, {"owner": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "edited": false, "score": 0, "creation_date": 1538008299, "post_id": 52526878, "comment_id": 91995122, "body": "In babel they introduced preset shorthand as documented in <a href=\"https://babeljs.io/docs/en/next/presets#preset-shorthand\" rel=\"nofollow noreferrer\">preset-shorthand</a> so @babel/env is @babel/preset-env. I would also reiterate that I have no issues in my source files, the issue only occurs in the dependency files that are imported."}], "answers": [{"comments": [{"owner": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "edited": false, "score": 0, "creation_date": 1538491156, "post_id": 52606770, "comment_id": 92155634, "body": "Well, of course it will work in node where it has support for arrow functions. The issue is that it does not work in Internet Explorer because the arrow functions in superagent are not transpiled(I realize now mentioning IE in the description may have been useful). This can be verified by searching the resulting bundle.js for =&gt;"}], "tags": [], "owner": {"reputation": 3868, "user_id": 942899, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/51a8d56b1b8a854d5986004c208acd6d?s=128&d=identicon&r=PG", "display_name": "leonprou", "link": "https://stackoverflow.com/users/942899/leonprou"}, "is_accepted": false, "score": 0, "last_activity_date": 1538477038, "creation_date": 1538477038, "answer_id": 52606770, "question_id": 52526878, "link": "https://stackoverflow.com/questions/52526878/cant-get-babel-loader-to-apply-to-dependency/52606770#52606770", "title": "Can&#39;t get babel loader to apply to dependency", "body": "<p>I cloned your project and executed <code>npm start</code> - it bundled the source code into <code>dist/bundle.js. then I ran this file with</code>node dist/bundle.js`. Got this:</p>\n\n<pre><code>Using browser-only version of superagent in non-browser environment\nError: Browser-only version of superagent could not find XHR\n</code></pre>\n\n<p>So the babel loaders worked.</p>\n\n<p>If you want to use superagent for nodejs, read this - <a href=\"https://github.com/visionmedia/superagent/wiki/SuperAgent-for-Webpack\" rel=\"nofollow noreferrer\">https://github.com/visionmedia/superagent/wiki/SuperAgent-for-Webpack</a></p>\n"}, {"comments": [{"owner": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "edited": false, "score": 1, "creation_date": 1538581996, "post_id": 52620104, "comment_id": 92195482, "body": "This worked! I can&#39;t say I understand why it did though. Do you have an explanation for why it did not use the project&#39;s .babelrc on the dependencies?"}, {"owner": {"reputation": 1409, "user_id": 5106041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rvy4.jpg?s=128&g=1", "display_name": "Alexandre Borela", "link": "https://stackoverflow.com/users/5106041/alexandre-borela"}, "reply_to_user": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "edited": false, "score": 0, "creation_date": 1538583198, "post_id": 52620104, "comment_id": 92196166, "body": "Updated the answer to explain the reason."}, {"owner": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "edited": false, "score": 0, "creation_date": 1538583745, "post_id": 52620104, "comment_id": 92196436, "body": "Interesting. This sort of makes a .babelrc file useless in a webpack project then if it does not globally apply to all the code involved.  I guess this means its not a bug in babel-loader though but a unexpected babel behavior."}, {"owner": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "edited": false, "score": 2, "creation_date": 1538585149, "post_id": 52620104, "comment_id": 92197132, "body": "For anyone else that runs into this issue. This happened on the babel 6.x-&gt;7.x migration. Global configs should now be configured in babel.config.js instead of .babelrc"}, {"owner": {"reputation": 975, "user_id": 1810519, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1eb74ff8a32ed9c32c99b59c41d82bee?s=128&d=identicon&r=PG", "display_name": "fabiomcosta", "link": "https://stackoverflow.com/users/1810519/fabiomcosta"}, "edited": false, "score": 0, "creation_date": 1547232815, "post_id": 52620104, "comment_id": 95135843, "body": "Just renaming <code>.babelrc</code> to <code>babel.config.js</code> (and making sure an object is exported from that module) worked for me, as pointed on the Babel documentation."}], "tags": [], "owner": {"reputation": 1409, "user_id": 5106041, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9rvy4.jpg?s=128&g=1", "display_name": "Alexandre Borela", "link": "https://stackoverflow.com/users/5106041/alexandre-borela"}, "is_accepted": true, "score": 5, "last_activity_date": 1538583149, "last_edit_date": 1538583149, "creation_date": 1538543805, "answer_id": 52620104, "question_id": 52526878, "link": "https://stackoverflow.com/questions/52526878/cant-get-babel-loader-to-apply-to-dependency/52620104#52620104", "title": "Can&#39;t get babel loader to apply to dependency", "body": "<p>Move the babelrc config directly to babel loader:</p>\n\n<pre><code>const path = require('path');\n\nmodule.exports = {\n    entry: './index.js',\n    mode: 'development',\n    devtool: 'source-map',\n    output: {\n        path: path.resolve(__dirname, 'dist'),\n        filename: 'bundle.js'\n    },\n    module: {\n        rules: [{\n            test: /\\.(jsx?)$/,\n            use: {\n                loader: 'babel-loader',\n                options: {\n                    presets: [\n                        \"@babel/preset-env\",\n                        \"@babel/preset-react\"\n                    ]\n                }\n            },\n        }]\n    }\n};\n</code></pre>\n\n<p>This issue got me by surprise too, but looking at the <a href=\"https://babeljs.io/docs/en/config-files#file-relative-configuration\" rel=\"nofollow noreferrer\">docs</a> you'll see this:</p>\n\n<blockquote>\n  <p>Searching will stop once a directory containing a package.json is found, so a relative config only applies within a single package.</p>\n</blockquote>\n\n<p>And in the case of packages inside <code>node_modules</code>, all of them will have their own <code>package.json</code> file, which will make the <code>.babelrc</code> at the root of your project be ignored when the file being compiled is in a package inside <code>node_modules</code>.</p>\n\n<p>The loader config does not have this limitation.</p>\n"}], "owner": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1160, "favorite_count": 0, "accepted_answer_id": 52620104, "answer_count": 2, "score": 1, "last_activity_date": 1538583149, "creation_date": 1538001051, "last_edit_date": 1538491295, "question_id": 52526878, "link": "https://stackoverflow.com/questions/52526878/cant-get-babel-loader-to-apply-to-dependency", "title": "Can&#39;t get babel loader to apply to dependency", "body": "<p>A dependency of my project is using arrow functions and I cannot seem to get babel-loader to transpile the external dependency.</p>\n\n<p>My module section looks like</p>\n\n<pre><code>module: {\n        rules: [\n            {test: /\\.(js|jsx)$/, loader: 'babel-loader'}\n        ]\n    }\n</code></pre>\n\n<p>I originally had exclude: /node_modules/(?!superagent)/ in the rules object but removed it to make sure it was not a regex issue.</p>\n\n<p>.babelrc</p>\n\n<pre><code>{\n  \"presets\": [\n    \"@babel/env\",\n    \"@babel/react\"\n  ]\n}\n</code></pre>\n\n<p>index.js</p>\n\n<pre><code>import superagent from 'superagent'\n\nsuperagent.get('http://www.google.com')\n    .then(result=&gt;console.log('done'))\n    .catch(e=&gt;console.error(e));\n</code></pre>\n\n<p>The offending dependency in this case is superagent</p>\n\n<p>I created a minimal repo with the config that shows the issue <a href=\"https://github.com/ksmith97/WebpackIssue\" rel=\"nofollow noreferrer\">https://github.com/ksmith97/WebpackIssue</a></p>\n\n<p>I am not sure what else there is to try here</p>\n\n<p>Edit: To be clear this is for IE 11 support.</p>\n"}, {"tags": ["javascript", "architecture"], "comments": [{"owner": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "edited": false, "score": 1, "creation_date": 1538001233, "post_id": 52526869, "comment_id": 91993494, "body": "Do you want to monitor CPU usage from JavaScript?"}, {"owner": {"reputation": 761, "user_id": 9086856, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ge8yg.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/9086856/jacob"}, "reply_to_user": {"reputation": 7206, "user_id": 5741643, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/27485d5a049481e18d6aeb3f18480447?s=128&d=identicon&r=PG&f=1", "display_name": "Poul Bak", "link": "https://stackoverflow.com/users/5741643/poul-bak"}, "edited": false, "score": 0, "creation_date": 1538001448, "post_id": 52526869, "comment_id": 91993547, "body": "That&#39;s a good question. Not really, but If that&#39;s the only way, then so be it. I&#39;m hoping for a built-in / third party solution. Something simple. I&#39;m wondering if it is out there or if I&#39;ll need to build my own."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 2, "creation_date": 1538001909, "post_id": 52526869, "comment_id": 91993644, "body": "I think you are looking for <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame\" rel=\"nofollow noreferrer\"><code>requestAnimationFrame</code></a>, which is provided by the browser (it&#39;s not part of JavaScript, the language)"}, {"owner": {"reputation": 761, "user_id": 9086856, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ge8yg.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/9086856/jacob"}, "edited": false, "score": 0, "creation_date": 1538002442, "post_id": 52526869, "comment_id": 91993782, "body": "I think you might be right. What would happen if a utilized <code>requestAnimationFrame</code> on a function, but that function ran for two frames? Would the browser adjust the framerate automatically?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1538002574, "post_id": 52526869, "comment_id": 91993817, "body": "@jacob no it would skip one render"}], "answers": [{"comments": [{"owner": {"reputation": 761, "user_id": 9086856, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ge8yg.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/9086856/jacob"}, "edited": false, "score": 0, "creation_date": 1538002722, "post_id": 52527086, "comment_id": 91993861, "body": "&quot;Inside JS you could schedule a small task, that runs every few milliseconds and updates the canvas, then the browser will render that for you.&quot; - Just making sure I get this right, you&#39;re saying I calculate my animations outside the DOM, and update them using the requestAnimationFrame?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 761, "user_id": 9086856, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ge8yg.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/9086856/jacob"}, "edited": false, "score": 0, "creation_date": 1538002832, "post_id": 52527086, "comment_id": 91993884, "body": "@jacob basically yes, you could also directly work with the DOM, the updates will then get reflected to the rendered page."}, {"owner": {"reputation": 761, "user_id": 9086856, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ge8yg.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/9086856/jacob"}, "edited": false, "score": 0, "creation_date": 1538002933, "post_id": 52527086, "comment_id": 91993910, "body": "Oh, I see. So the <code>requestAnimationFrame</code> function is there to ensure I don&#39;t fire any redundant code?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 761, "user_id": 9086856, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ge8yg.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/9086856/jacob"}, "edited": false, "score": 0, "creation_date": 1538003041, "post_id": 52527086, "comment_id": 91993938, "body": "@jacob basically its nearly the same as <code>setTimeout</code>"}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 0, "last_activity_date": 1538002766, "last_edit_date": 1538002766, "creation_date": 1538002550, "answer_id": 52527086, "question_id": 52526869, "link": "https://stackoverflow.com/questions/52526869/javascript-capabilities-self-governing-speed/52527086#52527086", "title": "Javascript Capabilities: Self-governing speed?", "body": "<blockquote>\n  <p>Is there a way to give Javascript the ability to govern its own speed?</p>\n</blockquote>\n\n<p>No. Javascript will run as fast as possible and when the browser wants to run it, so you cannot change the way \"how fast it runs\". If JS code gets executed, the browser gets blocked wich means that:</p>\n\n<pre><code>  while(true) {\n    document.body.textContent = new Date();\n  }\n</code></pre>\n\n<p>will crash the browser instead of showing the current time.</p>\n\n<blockquote>\n  <p>It would basically be choosing its frame rate dynamically.</p>\n</blockquote>\n\n<p>Thats a different thing. The browser paints whatever you hand to him (e.g. a canvas), and it rerenders that at roughly 60fps. Inside JS you could shedule a small task, that runs every few milliseconds and updates the canvas, then the browser will render that for you. E.g.:</p>\n\n<pre><code> setInterval(function update() {\n   document.body.textContent = new Date();\n }, 100);\n</code></pre>\n\n<blockquote>\n  <p>It would never fire more than the browser could handle, ideally a little less. Animations would be calculated on the current time, and increment dynamically based on that current time.</p>\n</blockquote>\n\n<p>Thats where <code>requestAnimationFrame</code> comes in. Thats a browser API which will execute the passed callback before the next rerender, so roughly at 60fps, you have to set it recursively:</p>\n\n<pre><code> (function update() {\n    document.body.textContent = new Date();\n    requestAnimationFrame(update);\n })();\n</code></pre>\n\n<p>That way the next update will only happen after the current finished, the browser will only rerender after the update function ender, so if your function takes very long to calculate the update, it will lag / freeze.</p>\n"}], "owner": {"reputation": 761, "user_id": 9086856, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/ge8yg.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/9086856/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21, "favorite_count": 0, "accepted_answer_id": 52527086, "answer_count": 1, "score": 0, "last_activity_date": 1538002766, "creation_date": 1538001019, "question_id": 52526869, "link": "https://stackoverflow.com/questions/52526869/javascript-capabilities-self-governing-speed", "title": "Javascript Capabilities: Self-governing speed?", "body": "<h3>Background</h3>\n\n<p>I can't quite figure out how to ask this question the right way, but here is my best shot.</p>\n\n<p>Is there a way to give Javascript the ability to govern its own speed? It would basically be choosing its frame rate dynamically. It would never fire more than the browser could handle, ideally a little less. Animations would be calculated on the current time, and increment dynamically based on that current time.</p>\n\n<h3>Question</h3>\n\n<ul>\n<li><p>Is there a better way to ask this question? Any vernacular I should have used?</p></li>\n<li><p>Is this question to broad? Are there multiple ways to solve this problem?</p></li>\n<li>If this question isn't too broad, what is(are) the solution(s) if any?</li>\n</ul>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1538002876, "post_id": 52526863, "comment_id": 91993892, "body": "Can you be more specific about what you don&#39;t understand? Most of the lines are really simple."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1538002906, "post_id": 52526863, "comment_id": 91993903, "body": "Are you familiar with the format of <code>document.cookie</code>?"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1538003157, "post_id": 52526863, "comment_id": 91993963, "body": "<code>Why is 2 being added here</code> - because <code>&quot;;&quot; + name + &quot;=&quot;</code> ... <code>;=</code> is two characters"}], "answers": [{"comments": [{"owner": {"reputation": 85, "user_id": 5508786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/846af2ec82b5b8744221aa8acc7fa36a?s=128&d=identicon&r=PG&f=1", "display_name": "manojkarmocha", "link": "https://stackoverflow.com/users/5508786/manojkarmocha"}, "edited": false, "score": 0, "creation_date": 1538004072, "post_id": 52527185, "comment_id": 91994194, "body": "sorry for the typo"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1538003273, "creation_date": 1538003273, "answer_id": 52527185, "question_id": 52526863, "link": "https://stackoverflow.com/questions/52526863/how-does-my-getcookie-function-reads-a-cookie-from-document-cookie-string/52527185#52527185", "title": "How does my Getcookie function reads a cookie from document.cookie string?", "body": "<p>The only real question I see is \"Why is 2 being added here\".</p>\n\n<p>The <code>document.cookie</code> looks like this:</p>\n\n<pre><code>name1=value1;name2=value2;name3=value3...\n</code></pre>\n\n<p>If <code>name = \"name2\"</code>, <code>start</code> will be the index of <code>;name2=</code> in that string, and we want to get <code>value2</code>. To get from the beginning of that string to the end, we add the length of <code>name2</code>, and then an additional <code>2</code> for the <code>;</code> and <code>=</code> characters. Now <code>start</code> points just past the <code>=</code> character, which is the beginning of the <code>value</code>.</p>\n\n<p>After that, we search for the next <code>;</code> character and set <code>end</code> to its index. If it's not found, we set it to <code>dc.length</code> (you have a typo there, <code>dec</code> should be <code>dc</code>). Then the value is everything from <code>start</code> to <code>end</code>.</p>\n"}], "owner": {"reputation": 85, "user_id": 5508786, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/846af2ec82b5b8744221aa8acc7fa36a?s=128&d=identicon&r=PG&f=1", "display_name": "manojkarmocha", "link": "https://stackoverflow.com/users/5508786/manojkarmocha"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 13, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538004054, "creation_date": 1538000978, "last_edit_date": 1538004054, "question_id": 52526863, "link": "https://stackoverflow.com/questions/52526863/how-does-my-getcookie-function-reads-a-cookie-from-document-cookie-string", "title": "How does my Getcookie function reads a cookie from document.cookie string?", "body": "<p>Can somebody please help me understand what is going on in Getcookie function. I am trying to get my in-depth understanding of whats happening in every single line of code.</p>\n\n<pre><code>function Getcookie(name) {\n\nvar dc = \";\" + document.cookie\nvar start = dc.indexOf(\";\" + name + \"=\")\n\nif(start == -1) return false\n\nstart += name.length + 2 // Why is 2 being added here \nvar end = dc.indexOf(\";\", start)\nend = (end == -1) ? dc.length: end\n\nreturn decodeURI(dc.substring(start, end));\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "css", "charts", "google-visualization"], "answers": [{"comments": [{"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "edited": false, "score": 0, "creation_date": 1538074648, "post_id": 52541520, "comment_id": 92026751, "body": "wow this answer is incredibly thorough and super helpful. I made a few changes based on the &quot;error value&quot;, but this got me about 98% of the way there. Thanks for this response."}, {"owner": {"reputation": 177, "user_id": 15099725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/515abbd3b8eee35e9623b9b120f192f1?s=128&d=identicon&r=PG&f=1", "display_name": "ShridharK", "link": "https://stackoverflow.com/users/15099725/shridhark"}, "edited": false, "score": 0, "creation_date": 1614059612, "post_id": 52541520, "comment_id": 117261717, "body": "Is there a way to do change background color when we are using the timeline of google chart inside our React component?"}, {"owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "reply_to_user": {"reputation": 177, "user_id": 15099725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/515abbd3b8eee35e9623b9b120f192f1?s=128&d=identicon&r=PG&f=1", "display_name": "ShridharK", "link": "https://stackoverflow.com/users/15099725/shridhark"}, "edited": false, "score": 0, "creation_date": 1614083142, "post_id": 52541520, "comment_id": 117270867, "body": "@ShridharK -- it would be the exact same. only how you define the ready event would be different."}, {"owner": {"reputation": 177, "user_id": 15099725, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/515abbd3b8eee35e9623b9b120f192f1?s=128&d=identicon&r=PG&f=1", "display_name": "ShridharK", "link": "https://stackoverflow.com/users/15099725/shridhark"}, "edited": false, "score": 0, "creation_date": 1614089225, "post_id": 52541520, "comment_id": 117273751, "body": "I&#39;ve asked a similar question in React. It&#39;s the 2nd recent question that I&#39;ve asked where I&#39;ve also added my code. Please can you write it down over there as I still don&#39;t know how to write the above code inside my React. Should I share the link to my question?"}], "tags": [], "owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "is_accepted": true, "score": 3, "last_activity_date": 1538066130, "creation_date": 1538066130, "answer_id": 52541520, "question_id": 52526808, "link": "https://stackoverflow.com/questions/52526808/how-to-add-a-background-color-to-a-specific-row-in-google-charts/52541520#52541520", "title": "How to add a background color to a specific row in Google Charts", "body": "<p>there are no options for styling a specific bar on the timeline chart.<br>\nand the <a href=\"https://developers.google.com/chart/interactive/docs/gallery/timeline#data-format\" rel=\"nofollow noreferrer\">data format</a> does not support the <code>'style'</code> role, only the <code>'tooltip'</code> role.  </p>\n\n<p>but we can still use the data table column to specify the <em>error</em> rows.<br>\nand we'll need to change their color manually, on the chart's <code>'ready'</code> event.  </p>\n\n<p>the thing that makes this difficult, the chart will combine data table rows onto a single bar,<br>\ndepending on the row label or even possibly the date range.<br>\nso the number of bars in the chart will not always match the number of bars in the data table.<br>\nhowever, they will be drawn in the same order as found in the data table.  </p>\n\n<p>as such, we must first find the corresponding data table row for the label.<br>\nthen check to see if the label's row has an error.<br>\nthen find the bar with the same index as the label and change the color.  </p>\n\n<p>see following working snippet...  </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>google.charts.load('current', {\r\n  packages:['timeline']\r\n}).then(function () {\r\n  var container = document.getElementById('timeline');\r\n  var chart = new google.visualization.Timeline(container);\r\n  var dataTable = new google.visualization.DataTable();\r\n  dataTable.addColumn({ type: 'string', id: 'Platform' });\r\n  dataTable.addColumn({ type: 'string', id: 'Status' });\r\n  dataTable.addColumn({ type: 'string', role: 'style' });\r\n  dataTable.addColumn({ type: 'date', id: 'Start' });\r\n  dataTable.addColumn({ type: 'date', id: 'End' });\r\n  dataTable.addRows([\r\n    ['Magnolia Room', '', null, new Date(0,0,0,12,0,0), new Date(0,0,0,13,30,0)],\r\n    ['Magnolia Room', '', null, new Date(0,0,0,14,0,0), new Date(0,0,0,15,30,0)],\r\n    ['Willow Room', '', 'error', new Date(0,0,0,12,30,0), new Date(0,0,0,14,0,0)],\r\n    ['X Room', '', null, new Date(0,0,0,0,0,0), new Date(0,0,1,0,0,0)]\r\n  ]);\r\n\r\n  var options = {\r\n    timeline: {colorByRowLabel: true},\r\n    backgroundColor: '#ffd',\r\n    height: 180\r\n  };\r\n\r\n  // change bar color for errors\r\n  google.visualization.events.addListener(chart, 'ready', function() {\r\n    var rows;\r\n    var barIndex;\r\n    var labelIndex = 0;\r\n    var labels = container.getElementsByTagName('text');\r\n    Array.prototype.forEach.call(labels, function(label) {\r\n      // process bar labels\r\n      if (label.getAttribute('text-anchor') === 'end') {\r\n        // find data rows for label\r\n        rows = dataTable.getFilteredRows([{\r\n          column: 0,\r\n          test: function (value) {\r\n            var labelFound;\r\n            var labelText;\r\n\r\n            // chart will cutoff label if not enough width\r\n            if (label.textContent.indexOf('\u2026') &gt; -1) {\r\n              labelText = label.textContent.replace('\u2026', '');\r\n              labelFound = (value.indexOf(labelText) &gt; -1);\r\n            } else {\r\n              labelText = label.textContent;\r\n              labelFound = (value === labelText);\r\n            }\r\n            return labelFound;\r\n          }\r\n        }]);\r\n        if (rows.length &gt; 0) {\r\n          // process label rows\r\n          rows.forEach(function (rowIndex) {\r\n            // check if row has error\r\n            if (dataTable.getValue(rowIndex, 2) === 'error') {\r\n              // change color of label\r\n              label.setAttribute('fill', '#c62828');\r\n\r\n              // change color of bar\r\n              barIndex = 0;\r\n              var bars = container.getElementsByTagName('rect');\r\n              Array.prototype.forEach.call(bars, function(bar) {\r\n                if ((bar.getAttribute('x') === '0') &amp;&amp; (bar.getAttribute('stroke-width') === '0')) {\r\n                  if (barIndex === labelIndex) {\r\n                    bar.setAttribute('fill', '#ffcdd2');\r\n                  }\r\n                  barIndex++;\r\n                }\r\n              });\r\n            }\r\n          });\r\n        }\r\n        labelIndex++;\r\n      }\r\n    });\r\n  });\r\n\r\n  chart.draw(dataTable, {\r\n    hAxis: {\r\n      minValue: new Date(0,0,0,0,0,0),\r\n      maxValue: new Date(0,0,0,24,0,0)\r\n    }\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#timeline svg g text {\r\n\tfont-weight: normal !important;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://www.gstatic.com/charts/loader.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"timeline\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1325, "favorite_count": 0, "accepted_answer_id": 52541520, "answer_count": 1, "score": 3, "last_activity_date": 1538066384, "creation_date": 1538000657, "last_edit_date": 1538066384, "question_id": 52526808, "link": "https://stackoverflow.com/questions/52526808/how-to-add-a-background-color-to-a-specific-row-in-google-charts", "title": "How to add a background color to a specific row in Google Charts", "body": "<p>I would like to add a background color to a specific row(s) in my Google Timeline Chart. I know there's a global setting to set the background of the entire chart, but how would I do this for a specific row. Here's an example of what I mean:</p>\n\n<p><a href=\"https://i.stack.imgur.com/hXcNb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hXcNb.png\" alt=\"enter image description here\"></a></p>\n\n<p>I would like the \"Willow Room\" row (and only that row) to have a background as follows:</p>\n\n<p><img src=\"https://i.stack.imgur.com/PMsiR.png\" alt=\"enter image description here\"></p>\n\n<p>Here is a jsfiddle example of the above (without the red background that I'm trying to get): <a href=\"https://jsfiddle.net/0f86vLrg/3/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/0f86vLrg/3/</a>. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>google.charts.load(\"current\", {packages:[\"timeline\"]});\r\ngoogle.charts.setOnLoadCallback(drawChart);\r\nfunction drawChart() {\r\n\r\nvar container = document.getElementById('timeline');\r\nvar chart = new google.visualization.Timeline(container);\r\nvar dataTable = new google.visualization.DataTable();\r\ndataTable.addColumn({ type: 'string', id: 'Platform' });\r\ndataTable.addColumn({ type: 'string', id: 'Status' });\r\ndataTable.addColumn({ type: 'string', role: 'style' });\r\ndataTable.addColumn({ type: 'date', id: 'Start' });\r\ndataTable.addColumn({ type: 'date', id: 'End' });\r\n\r\n// set the background of a missing item\r\n\r\ndataTable.addRows([\r\n  [ 'Magnolia Room',  '',      null, new Date(0,0,0,12,0,0),  new Date(0,0,0,13,30,0) ],\r\n  [ 'Magnolia Room',  '',      null, new Date(0,0,0,14,0,0),  new Date(0,0,0,15,30,0) ],\r\n  [ 'Willow Room',   '',       'error', new Date(0,0,0,12,30,0), new Date(0,0,0,14,0,0) ],\r\n  [ 'X Room',   '',   'opacity: 0', new Date(0,0,0,0,0,0), new Date(0,0,1,0,0,0)]]);\r\n\r\n  var options = {\r\n     timeline: { colorByRowLabel: true },\r\n     backgroundColor: '#ffd'\r\n   };\r\n\r\n   chart.draw(dataTable, {\r\n     hAxis: {\r\n       minValue: new Date(0,0,0,0,0,0),\r\n       maxValue: new Date(0,0,0,24,0,0),\r\n\r\n     }\r\n   });\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"timeline\" style=\"height: 180px;\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How would I add in a background color for a specific row based on the \"style\" setting of that row (or if there's a better way to give it a class or something.) For example in the above code the style is called \"error\" for the \"Willow Room\" item.</p>\n"}, {"tags": ["javascript", "jquery", "google-chrome", "google-chrome-extension", "promise"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1538000628, "post_id": 52526738, "comment_id": 91993349, "body": "First, try whether <code>chrome.storage.sync.get()</code> returns a Promise. Just put <code>return</code> in front of it. If it doesn&#39;t, just create a promise that resolves in the success callback."}, {"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "edited": false, "score": 0, "creation_date": 1538000757, "post_id": 52526738, "comment_id": 91993380, "body": "I would be surprised if that chrome function returned a Promise since it seems it&#39;s already taking a callback function as an argument, but who knows (edit: <a href=\"https://developer.chrome.com/extensions/storage#type-StorageArea\" rel=\"nofollow noreferrer\">developer.chrome.com/extensions/storage#type-StorageArea</a>)"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "reply_to_user": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "edited": false, "score": 0, "creation_date": 1538000805, "post_id": 52526738, "comment_id": 91993389, "body": "@Jeto You&#39;re probably right, the docs don&#39;t mention promises either."}, {"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "edited": false, "score": 0, "creation_date": 1538000953, "post_id": 52526738, "comment_id": 91993429, "body": "Actually deleted my first comment as the proposed solution was wrong. Take a look at <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\"><code>Promises</code></a> and you should find a way (edit: well, check the answer, now, I guess :) )"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10162648"}, "edited": false, "score": 0, "creation_date": 1538001135, "post_id": 52526876, "comment_id": 91993464, "body": "Perfect! Thank you so much!"}], "tags": [], "owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "is_accepted": true, "score": 0, "last_activity_date": 1538001157, "last_edit_date": 1538001157, "creation_date": 1538001048, "answer_id": 52526876, "question_id": 52526738, "link": "https://stackoverflow.com/questions/52526738/jquery-loading-layout-before-adding-change-events/52526876#52526876", "title": "jQuery loading layout before adding change events", "body": "<p><code>loadLayout</code> needs to return a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise\" rel=\"nofollow noreferrer\"><code>Promise</code></a>. Try the following.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function loadLayout() {\n    return new Promise(resolve =&gt; {\n      chrome.storage.sync.get('layout', function(data) {\n          $('#sp_tools').html(data.layout);\n          resolve(data);\n      });\n   });\n}\n</code></pre>\n\n\n"}, {"tags": [], "owner": {"reputation": 27, "user_id": 7072295, "user_type": "registered", "accept_rate": 40, "profile_image": "https://graph.facebook.com/10209175818611465/picture?type=large", "display_name": "Edwin Mhoy Silva", "link": "https://stackoverflow.com/users/7072295/edwin-mhoy-silva"}, "is_accepted": false, "score": -1, "last_activity_date": 1538001124, "creation_date": 1538001124, "answer_id": 52526890, "question_id": 52526738, "link": "https://stackoverflow.com/questions/52526738/jquery-loading-layout-before-adding-change-events/52526890#52526890", "title": "jQuery loading layout before adding change events", "body": "<pre><code>An easy way to fix it would be to set a timeout like this:\n\n\n$(document).ready(function(){\n    loadLayout()\n        .then(function() {\n            $('input, textarea').change(function(){\n                setTimeout(function{\nsaveLayout(); 1000})\n            });\n        });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 18374, "user_id": 3478010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/y4DTM.png?s=128&g=1", "display_name": "Roamer-1888", "link": "https://stackoverflow.com/users/3478010/roamer-1888"}, "is_accepted": false, "score": 0, "last_activity_date": 1538002386, "creation_date": 1538002386, "answer_id": 52527060, "question_id": 52526738, "link": "https://stackoverflow.com/questions/52526738/jquery-loading-layout-before-adding-change-events/52527060#52527060", "title": "jQuery loading layout before adding change events", "body": "<p>Adhering to the principle of promisifying at the lowest level, you might like to consider :</p>\n\n<pre><code>chrome.storage.sync.getAsync = function(identifier) {\n    return new Promise((resolve, reject) =&gt; {\n        try {\n            chrome.storage.sync.get(identifier, resolve);\n        }\n        catch(e) {\n            reject(e); // will only propagate synchronous errors but better than nothing\n        }\n    });\n};\n\nfunction loadLayout() {\n    chrome.storage.sync.getAsync('layout')\n    .then(data =&gt; {\n        $('#sp_tools').html(data.layout);\n        return data; // or maybe `return data.layout`\n    });\n}\n</code></pre>\n\n<p><code>chrome.storage.sync.getAsync()</code> is thus available for reuse elsewhere in your code base.</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10162648"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 52526876, "answer_count": 3, "score": 0, "last_activity_date": 1538002386, "creation_date": 1538000183, "question_id": 52526738, "link": "https://stackoverflow.com/questions/52526738/jquery-loading-layout-before-adding-change-events", "title": "jQuery loading layout before adding change events", "body": "<p>Basically I have two functions, <code>loadLayout</code> and <code>saveLayout</code>.</p>\n\n<p><code>loadLayout</code> needs to load first so that I can apply a <code>.change()</code> event to elements that it loads, so when they are changed <code>saveLayout</code> is fired.</p>\n\n<p>I tried using <code>.then()</code> but I get the error </p>\n\n<blockquote>\n  <p>Uncaught TypeError: Cannot read property 'then' of undefined</p>\n</blockquote>\n\n<p>Here is the code:</p>\n\n<pre><code>$(document).ready(function(){\n    loadLayout()\n        .then(function() {\n            $('input, textarea').change(function(){\n                saveLayout();\n            });\n        });\n});\n\nfunction loadLayout() {\n    console.log('loading layout...');\n    chrome.storage.sync.get('layout', function(data) {\n        $('#sp_tools').html(data.layout);\n        console.log('Loaded Layout: \\n' + data.layout);\n    });\n}\n\nfunction saveLayout() {\n    console.log(\"saving layout...\")\n\n    let $content = $(\"#sp_tools\");\n\n    let $clone = $content.clone()\n    $clone.find('input, textarea').each(function () {\n        let $input = $(this);\n        // start an attribute object later use with attr()\n        let attrs = {\n            value: $input.val()\n        };\n\n        if ($input.is('textarea')) {\n            $input.html($input.val())\n        }\n\n        // add the attributes to element\n        $input.attr(attrs);\n    });\n\n    let html = $clone.html();\n\n    chrome.storage.sync.set({layout: html}, function () {\n        console.log('Saved Layout: \\n' + html);\n    });\n}\n</code></pre>\n"}, {"tags": ["javascript", "utf-8", "substring", "emoji"], "comments": [{"owner": {"reputation": 123667, "user_id": 257182, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/f2c683e7dc0c4d4bcc790f87eaa67301?s=128&d=identicon&r=PG", "display_name": "RobG", "link": "https://stackoverflow.com/users/257182/robg"}, "edited": false, "score": 0, "creation_date": 1538000763, "post_id": 52526719, "comment_id": 91993383, "body": "You might consider looking for emojis, log where they are, then remove them. Then do the substring, then put the emojis into the substrings based on where they were in the original string. The substrings won&#39;t be the same length anymore, but you say that isn&#39;t an issue."}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 2, "creation_date": 1538001145, "post_id": 52526719, "comment_id": 91993468, "body": "Forget about &quot;emoji&quot;, you&#39;re asking about surrogate pair UTF-16, applying to normal languages as much as they do to emoji. There is an elegant solution for this, already answered over on <a href=\"https://stackoverflow.com/questions/21397316/split-javascript-string-into-array-of-codepoints-taking-into-account-surrogat\" title=\"split javascript string into array of codepoints taking into account surrogat\">stackoverflow.com/questions/21397316/&hellip;</a>, consisting of using <code>Array.from(yourstring)</code>, which will split your string into individual unicode characters without breaking them between bytes."}, {"owner": {"reputation": 2508, "user_id": 2875404, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0c76f200eaefa1d2c440db9fcba19348?s=128&d=identicon&r=PG&f=1", "display_name": "user2875404", "link": "https://stackoverflow.com/users/2875404/user2875404"}, "edited": false, "score": 0, "creation_date": 1538001706, "post_id": 52526719, "comment_id": 91993602, "body": "Please check my code. I did try that already and while it made my situation a bit better it still leaves me with 2 parts."}], "answers": [{"comments": [{"owner": {"reputation": 249309, "user_id": 97337, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ed9a0d8cd44b62539b141f6c10405db1?s=128&d=identicon&r=PG", "display_name": "Rob Napier", "link": "https://stackoverflow.com/users/97337/rob-napier"}, "edited": false, "score": 2, "creation_date": 1538054041, "post_id": 52527322, "comment_id": 92015024, "body": "The runes code also is simply-written enough that it makes a very good introduction to the major grapheme cluster splitting problems. I highly recommend reading both the code and the test cases. <a href=\"https://github.com/dotcypress/runes/blob/develop/index.js\" rel=\"nofollow noreferrer\">github.com/dotcypress/runes/blob/develop/index.js</a>"}, {"owner": {"reputation": 2508, "user_id": 2875404, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0c76f200eaefa1d2c440db9fcba19348?s=128&d=identicon&r=PG&f=1", "display_name": "user2875404", "link": "https://stackoverflow.com/users/2875404/user2875404"}, "edited": false, "score": 2, "creation_date": 1538055947, "post_id": 52527322, "comment_id": 92016377, "body": "<code>runes(usaText)</code> -&gt; <code>(3)\u00a0[&quot;A&quot;, &quot;\ud83c\uddfa\ud83c\uddf8&quot;, &quot;Z&quot;]</code>. Perfect, thanks!"}], "tags": [], "owner": {"reputation": 2679, "user_id": 5076023, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BrdnPjt324o/AAAAAAAAAAI/AAAAAAABodc/udkqJYLsCvw/photo.jpg?sz=128", "display_name": "MichaelSolati", "link": "https://stackoverflow.com/users/5076023/michaelsolati"}, "is_accepted": true, "score": 10, "last_activity_date": 1538004303, "creation_date": 1538004303, "answer_id": 52527322, "question_id": 52526719, "link": "https://stackoverflow.com/questions/52526719/javascript-substring-without-splitting-emoji/52527322#52527322", "title": "JavaScript substring without splitting emoji", "body": "<p>So this isn't really an easy thing to do, and I'm inclined to tell you that you shouldn't write this on your own. You should use a library like <a href=\"https://www.npmjs.com/package/runes\" rel=\"noreferrer\">runes</a>.</p>\n\n<p>Just a simple <code>npm i runes</code>, then:</p>\n\n<pre><code>const runes = require('runes');\nconst usaText = \"A\ud83c\uddfa\ud83c\uddf8Z\";\nrunes.substr(usaText, 0, 2); // \"A\ud83c\uddfa\ud83c\uddf8\"\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 829, "user_id": 8874545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c12a02d9db7220f4706846d46e9f36?s=128&d=identicon&r=PG&f=1", "display_name": "E. Villiger", "link": "https://stackoverflow.com/users/8874545/e-villiger"}, "is_accepted": false, "score": 2, "last_activity_date": 1581786350, "creation_date": 1581786350, "answer_id": 60241086, "question_id": 52526719, "link": "https://stackoverflow.com/questions/52526719/javascript-substring-without-splitting-emoji/60241086#60241086", "title": "JavaScript substring without splitting emoji", "body": "<p>Disclaimer: This is just extending the above comment by Mike 'Pomax' Kamermans because to me it is actually a much simpler, applicable answer (for those of us who don't like reading through all the comments):</p>\n\n<p><strong>Array.from(str)</strong> splits your string into individual unicode characters without breaking them between bytes.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/21397316/split-javascript-string-into-array-of-codepoints-taking-into-account-surrogat\">Split JavaScript string into array of codepoints? (taking into account &quot;surrogate pairs&quot; but not &quot;grapheme clusters&quot;)</a> for details.</p>\n"}, {"comments": [{"owner": {"reputation": 2155, "user_id": 1745913, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/ocSXH.jpg?s=128&g=1", "display_name": "jtate", "link": "https://stackoverflow.com/users/1745913/jtate"}, "edited": false, "score": 0, "creation_date": 1587740618, "post_id": 61410928, "comment_id": 108636858, "body": "Welcome to stackoverflow. In addition to the answer you&#39;ve provided, please consider providing a brief explanation of why and how this fixes the issue."}, {"owner": {"reputation": 2508, "user_id": 2875404, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0c76f200eaefa1d2c440db9fcba19348?s=128&d=identicon&r=PG&f=1", "display_name": "user2875404", "link": "https://stackoverflow.com/users/2875404/user2875404"}, "edited": false, "score": 0, "creation_date": 1587830175, "post_id": 61410928, "comment_id": 108665885, "body": "Hey, <code>(0, 2)</code> on your code results in <code>A\ud83c\uddfa</code>. Usually one would either want the emoji included completely or not at all - instead of getting broken fractions"}], "tags": [], "owner": {"reputation": 11, "user_id": 4124789, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WG6k5.png?s=128&g=1", "display_name": "hs_dino", "link": "https://stackoverflow.com/users/4124789/hs-dino"}, "is_accepted": false, "score": 1, "last_activity_date": 1587739189, "creation_date": 1587739189, "answer_id": 61410928, "question_id": 52526719, "link": "https://stackoverflow.com/questions/52526719/javascript-substring-without-splitting-emoji/61410928#61410928", "title": "JavaScript substring without splitting emoji", "body": "<p>This code has worked for me :</p>\n\n<pre><code>splitText = Array.from(usaText).slice(0, 5).join('');\n</code></pre>\n"}], "owner": {"reputation": 2508, "user_id": 2875404, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/0c76f200eaefa1d2c440db9fcba19348?s=128&d=identicon&r=PG&f=1", "display_name": "user2875404", "link": "https://stackoverflow.com/users/2875404/user2875404"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1802, "favorite_count": 3, "accepted_answer_id": 52527322, "answer_count": 3, "score": 10, "last_activity_date": 1587739189, "creation_date": 1538000035, "last_edit_date": 1538001468, "question_id": 52526719, "link": "https://stackoverflow.com/questions/52526719/javascript-substring-without-splitting-emoji", "title": "JavaScript substring without splitting emoji", "body": "<p>in my js I am trying to <code>substring()</code> text which generally works but unfortunately decapitates emojis.</p>\n\n<pre><code>usaText = \"A\ud83c\uddfa\ud83c\uddf8Z\"\nsplitText = usaText.substring(0,2) //\"A\ufffd\"\nsplitText = usaText.substring(0,3) //\"A\ud83c\uddfa\"\nsplitText = usaText.substring(0,4) //\"A\ud83c\uddfa\ufffd\"\nsplitText = usaText.substring(0,5) //\"A\ud83c\uddfa\ud83c\uddf8\"\n</code></pre>\n\n<p>Is there a way to use substring without breaking emoji? In my production code I cut at about 40 characters and I wouldn't mind if it was 35 or 45. I have thought about simply checking whether the 40th character is a number or between a-z but that wouldn't work if you got a text full of emojis. I could check whether the last character is one that \"ends\" an emoji by pattern matching but this also seems a bit weird performance-wise.</p>\n\n<p>Am I missing something? With all the bloat that JavaScript carries, is there no built-in <code>count</code> that sees emoji as one?</p>\n\n<p>To the <a href=\"https://stackoverflow.com/questions/21397316/split-javascript-string-into-array-of-codepoints-taking-into-account-surrogat\">Split JavaScript string into array of codepoints? (taking into account &quot;surrogate pairs&quot; but not &quot;grapheme clusters&quot;)</a> thing:</p>\n\n<pre><code>chrs = Array.from( usaText )\n(4) [\"A\", \"\ud83c\uddfa\", \"\ud83c\uddf8\", \"Z\"]\n0: \"A\"\n1: \"\ud83c\uddfa\"\n2: \"\ud83c\uddf8\"\n3: \"Z\"\nlength: 4\n</code></pre>\n\n<p>That's one too many unfortunately.</p>\n"}, {"tags": ["javascript", "object", "key"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 2, "creation_date": 1538000281, "post_id": 52526712, "comment_id": 91993252, "body": "<code>obj[key].title === val</code>"}], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 2, "last_activity_date": 1538001936, "last_edit_date": 1538001936, "creation_date": 1538000271, "answer_id": 52526756, "question_id": 52526712, "link": "https://stackoverflow.com/questions/52526712/javascript-find-nested-object-key-by-its-value/52526756#52526756", "title": "javascript - find nested object key by its value", "body": "<p>You have to access the subkey of the object:</p>\n\n<pre><code> function obk (obj, prop, val) {\n   return Object.keys(obj).find(key =&gt; obj[key][prop] === val);\n }\n\n console.log(obk(obj, \"title\", \"title2\"));\n</code></pre>\n\n<p>Or you could search all values of the subobject:</p>\n\n<pre><code> function obk (obj, val) {\n   return Object.keys(obj).find(key =&gt; Object.values( obj[key] ).includes(val)); \n }\n\n console.log(obk(obj, \"title2\"))\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1661, "user_id": 2311619, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/73RqC.jpg?s=128&g=1", "display_name": "protoproto", "link": "https://stackoverflow.com/users/2311619/protoproto"}, "is_accepted": false, "score": 0, "last_activity_date": 1538001727, "last_edit_date": 1538001727, "creation_date": 1538001408, "answer_id": 52526922, "question_id": 52526712, "link": "https://stackoverflow.com/questions/52526712/javascript-find-nested-object-key-by-its-value/52526922#52526922", "title": "javascript - find nested object key by its value", "body": "<p>You can use array map:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = {}\r\n\r\nobj[\"post1\"] = {\r\n    \"title\":    \"title1\",\r\n    \"subtitle\": \"subtitle1\"\r\n}\r\n\r\nobj[\"post2\"] = {\r\n    \"title\":    \"title2\",\r\n    \"subtitle\": \"subtitle2\"\r\n}\r\n//console.log(obj);\r\nfunction obk (obj, val) {\r\n    var result = \"\";\r\n    Object.keys(obj).map(key =&gt; {\r\n        if(obj[key].title === val)\r\n            result = key;\r\n    });\r\n    return result;\r\n}\r\n\r\nconsole.log(obk(obj, \"title2\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or use array find to optimize searching function:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = {}\r\n\r\nobj[\"post1\"] = {\r\n    \"title\":    \"title1\",\r\n    \"subtitle\": \"subtitle1\"\r\n}\r\n\r\nobj[\"post2\"] = {\r\n    \"title\":    \"title2\",\r\n    \"subtitle\": \"subtitle2\"\r\n}\r\n//console.log(obj);\r\nfunction obk (obj, val) {\r\n    result = Object.keys(obj).find(key =&gt; {\r\n        if(obj[key].title === val)\r\n            return key;\r\n    });\r\n    return result;\r\n}\r\n\r\nconsole.log(obk(obj, \"title1\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 10980, "user_id": 511795, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/2e1c6c585fc5039192a8aa51cab58c57?s=128&d=identicon&r=PG", "display_name": "Shanimal", "link": "https://stackoverflow.com/users/511795/shanimal"}, "is_accepted": false, "score": 0, "last_activity_date": 1538003215, "creation_date": 1538003215, "answer_id": 52527179, "question_id": 52526712, "link": "https://stackoverflow.com/questions/52526712/javascript-find-nested-object-key-by-its-value/52527179#52527179", "title": "javascript - find nested object key by its value", "body": "<p>You pretty much have it, just add <code>obj[key].title === val</code> as mentioned by Chris G.</p>\n\n<p>Here's an ES6 one liner that returns an array of all matches.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj = {}\r\n\r\nobj[\"post1\"] = {\r\n    \"title\":    \"title1\",\r\n    \"subtitle\": \"subtitle1\"\r\n}\r\n\r\nobj[\"post2\"] = {\r\n    \"title\":    \"title2\",\r\n    \"subtitle\": \"subtitle2\"\r\n}\r\n\r\nconst filterByTitle = (obj, title) =&gt; \r\n  Object.values(obj).filter(o =&gt; o.title === title);\r\n\r\nconsole.log(filterByTitle(obj, 'title1'))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 97, "user_id": 8261184, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-tpaSe522lHo/AAAAAAAAAAI/AAAAAAAAABA/sY34yHdPa0w/photo.jpg?sz=128", "display_name": "KrystianK", "link": "https://stackoverflow.com/users/8261184/krystiank"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1711, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1538003215, "creation_date": 1537999984, "question_id": 52526712, "link": "https://stackoverflow.com/questions/52526712/javascript-find-nested-object-key-by-its-value", "title": "javascript - find nested object key by its value", "body": "<p>I'm trying to find key of object which is containing my value.</p>\n\n<p>There is my object: </p>\n\n<pre><code>var obj = {}\n\nobj[\"post1\"] = {\n    \"title\":    \"title1\",\n    \"subtitle\": \"subtitle1\"\n}\n\nobj[\"post2\"] = {\n    \"title\":    \"title2\",\n    \"subtitle\": \"subtitle2\"\n}\n</code></pre>\n\n<p>And now, I'm trying to get object key of value \"title2\"</p>\n\n<pre><code>function obk (obj, val) {\n  const key = Object.keys(obj).find(key =&gt; obj[key] === val);\n  return key\n}\n\nconsole.log(obk(obj, \"title2\"))\n</code></pre>\n\n<p>Output: </p>\n\n<pre><code>undefined\n</code></pre>\n\n<p>Desired output:</p>\n\n<pre><code>post2\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css", "accordion"], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 5978003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82455c1ada2c8679a49b10697b2da?s=128&d=identicon&r=PG&f=1", "display_name": "Kbeats", "link": "https://stackoverflow.com/users/5978003/kbeats"}, "edited": false, "score": 0, "creation_date": 1538063515, "post_id": 52527903, "comment_id": 92021521, "body": "Thank you! I&#39;m curious if you could explain the line - $(&quot;ul, li&quot;, this); ?? So this is using jquery to call all the &#39;ul&#39; and &#39;li&#39; elements and the &#39;this&#39; is there to specify just the one being currently clicked on?"}], "tags": [], "owner": {"reputation": 3882, "user_id": 9561918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6kphC.jpg?s=128&g=1", "display_name": "Hikarunomemory", "link": "https://stackoverflow.com/users/9561918/hikarunomemory"}, "is_accepted": true, "score": 0, "last_activity_date": 1538093137, "last_edit_date": 1538093137, "creation_date": 1538009501, "answer_id": 52527903, "question_id": 52526665, "link": "https://stackoverflow.com/questions/52526665/accordion-menu-with-multiple-children-panels/52527903#52527903", "title": "Accordion Menu with Multiple Children (panels)", "body": "<p>Here's a working <a href=\"https://codepen.io/anon/pen/oavbgR\" rel=\"nofollow noreferrer\">codepen</a>.</p>\n\n<p>1) You're binding the click event to <code>.tile</code>, the <code>.subTile</code> are <code>.tile</code>'s child nodes not siblings.</p>\n\n<p>2) <code>this.classList != \"active\"</code> would always return <code>true</code> because the classList is <code>title</code>  or <code>title active</code>.</p>\n\n<p>And it's no need to check before toggle class, so simply use <code>this.classList.toggle(\"active\");</code></p>\n\n<p>3) <code>var panel = $('.tile').nextAll();</code></p>\n\n<p><code>panel</code> here is a jQuery object but not a DOM element, you can't change style by using <code>panel.style.display = \"...\";</code>.</p>\n\n<p>Since you're using jQuery here, it can be done by using <code>show()</code> or <code>hide()</code> like the following.</p>\n\n<pre><code>// this here is the element that just being clicked,\n// $(\"ul,li\", this) equals $(this).find(\"ul,li\")\nvar $panel = $(\"ul,li\", this); // add a $ sign to remind it's a jQuery object\nthis.classList.contains(\"active\") ? $panel.show() : $panel.hide();\n</code></pre>\n\n<p>Note that you might need to comment out <code>.tile</code>'s <code>height: 60px;</code> in the CSS.</p>\n"}], "owner": {"reputation": 7, "user_id": 5978003, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1cf82455c1ada2c8679a49b10697b2da?s=128&d=identicon&r=PG&f=1", "display_name": "Kbeats", "link": "https://stackoverflow.com/users/5978003/kbeats"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 191, "favorite_count": 0, "accepted_answer_id": 52527903, "answer_count": 1, "score": 0, "last_activity_date": 1538093137, "creation_date": 1537999680, "question_id": 52526665, "link": "https://stackoverflow.com/questions/52526665/accordion-menu-with-multiple-children-panels", "title": "Accordion Menu with Multiple Children (panels)", "body": "<p>I'm very new to coding. I'm trying to create an accordion menu with multiple 'drop down' children panels. I've followed for the most part this 'how to' from w3schools - <a href=\"https://www.w3schools.com/howto/howto_js_accordion.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/howto/howto_js_accordion.asp</a> </p>\n\n<p>The issue I'm having is this uses 'nextElementSibling' when I want to show all the siblings/children of the top menu item. </p>\n\n<p>Is there some way to easily 'get' all the element siblings? </p>\n\n<p>Here's the codepen I'm working on - <a href=\"https://codepen.io/kbeats/pen/RYzzdW\" rel=\"nofollow noreferrer\">https://codepen.io/kbeats/pen/RYzzdW</a></p>\n\n<p>My html for the menu is - </p>\n\n<pre><code>&lt;ul id=\"moduleOneList\"&gt;\n    &lt;li class=\"tile\" id=\"moduleOneTitle\"&gt; Module One\n        &lt;li class=subTile id=\"oneSlideOne\"&gt; Title Slide&lt;/li&gt; \n        &lt;li class=subTile id=\"oneSlideTwo\"&gt; References &lt;/li&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n&lt;ul id=\"moduleTwolist\"&gt;\n    &lt;li class=tile id=\"moduleTwoTitle\"&gt; Module Two\n        &lt;li class=subTile id=\"twoSlideOne\"&gt; Title Slide &lt;/li&gt;\n        &lt;li class=subTile id=\"twoSlideTwo\"&gt; References &lt;/li&gt; \n        &lt;li class=subTile id=\"twoSlideThree\"&gt; Third Slide &lt;/li&gt;\n    &lt;/li&gt;\n</code></pre>\n\n<p></p>\n\n<p>My CSS </p>\n\n<pre><code>    ul {\n    list-style:none;\n}\n\n\n\nli {\n    position: relative;\n    left: -40px;\n    text-decoration: none;\n    display: block;\n}\n\n\n.tile {\n    background-color: #74A3EB;\n    height: 60px;\n    width: 220px;\n    border-radius: 10px;\n    color: white;\n    font-family: lato;\n    font-weight: 700;\n    font-size: 24px;\n    line-height: 60px;\n    text-align: center;\n    cursor: pointer;\n    margin: 10px 2px 2px 10px;\n    transition: 0.4s ease-in-out;\n}\n\n.active, .tile:hover {\n    background-color: #3C72F0; /* change this color */\n}\n\n.subTile {\n    display: none;\n    background-color:#4337DD;\n    width: 220px;\n    height: 40px;\n    border-radius: 10px;\n    display: none;\n    overflow: hidden;\n    color: white;\n    font-family: lato;\n    text-align: center;\n    line-height: 40px;\n    font-size: 20px;\n    margin: 6px 10px 0px 10px; \n    cursor: default;\n    transition: background-color 0.5s ease-in-out;\n}\n\n\n\n.subTile:hover {\n    background-color: #605DE8;\n}\n</code></pre>\n\n<p>And my javascript concerning the accordion menu </p>\n\n<pre><code>    var acc = document.getElementsByClassName(\"tile\");\nvar i;\n\nfor (i=0;i&lt;acc.length;i++) {\n    acc[i].addEventListener(\"click\", function(){\n        if(this.classList != \"active\") {\n            this.classList.toggle(\"active\");\n        } else {\n            this.removeClass(\"active\");\n        }\n\n\n        var panel = $('.tile').nextAll();\n        if(panel.style.display == \"block\"){\n            panel.style.display = \"none\";\n        } else {\n            panel.style.display = \"block\";\n        }\n\n    });\n}\n</code></pre>\n\n<p>I've tried using</p>\n\n<pre><code> $('.tile').nextAll(); \n</code></pre>\n\n<p>to target all the children, but that doesn't seem to be working. </p>\n"}, {"tags": ["javascript", "php", "ajax", "laravel"], "comments": [{"owner": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1537999737, "post_id": 52526662, "comment_id": 91993085, "body": "Where are you passing <code>$search</code> to the view?"}, {"owner": {"reputation": 79, "user_id": 9795533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ca804c5f25fdf39c82e18ce09567b47?s=128&d=identicon&r=PG&f=1", "display_name": "TheProphet", "link": "https://stackoverflow.com/users/9795533/theprophet"}, "reply_to_user": {"reputation": 35130, "user_id": 1255289, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/5ed02658b2440179f00eeff8beb7aa4c?s=128&d=identicon&r=PG", "display_name": "miken32", "link": "https://stackoverflow.com/users/1255289/miken32"}, "edited": false, "score": 0, "creation_date": 1537999807, "post_id": 52526662, "comment_id": 91993105, "body": "in self::$data."}, {"owner": {"reputation": 375, "user_id": 4971558, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0c0662c98a4fd6df761536c99c2856a1?s=128&d=identicon&r=PG&f=1", "display_name": "jdubu423", "link": "https://stackoverflow.com/users/4971558/jdubu423"}, "edited": false, "score": 1, "creation_date": 1538000468, "post_id": 52526662, "comment_id": 91993306, "body": "It looks like you are not returning $data in your model.  Try return $data; after -&gt;get();"}, {"owner": {"reputation": 79, "user_id": 9795533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ca804c5f25fdf39c82e18ce09567b47?s=128&d=identicon&r=PG&f=1", "display_name": "TheProphet", "link": "https://stackoverflow.com/users/9795533/theprophet"}, "edited": false, "score": 0, "creation_date": 1538051622, "post_id": 52526662, "comment_id": 92013526, "body": "$data runs by reference in the model (notice the parameters of the function). also $data is constructed by the parent controller through magic method __construct"}], "owner": {"reputation": 79, "user_id": 9795533, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ca804c5f25fdf39c82e18ce09567b47?s=128&d=identicon&r=PG&f=1", "display_name": "TheProphet", "link": "https://stackoverflow.com/users/9795533/theprophet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 123, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1538010723, "creation_date": 1537999674, "last_edit_date": 1538010723, "question_id": 52526662, "link": "https://stackoverflow.com/questions/52526662/autocomplete-ajax-call-in-laravel", "title": "Autocomplete Ajax call in Laravel", "body": "<p>HTML file (using Laravel's blade):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>            &lt;div class=\"navbar-collapse collapse\" id=\"bs-example-navbar-collapse-1\"&gt;\r\n                    &lt;div class=\"input-group\" id=\"search-form\"&gt;\r\n                        &lt;span class=\"input-group-text\" id=\"basic-addon1\"&gt;Search:&lt;/span&gt;\r\n                        &lt;input type=\"text\" name=\"search\" size=\"1\" id=\"search-bar\" class=\"form-control\" aria-label=\"Username\" aria-describedby=\"basic-addon1\"&gt;\r\n                        @if ( !empty($search) )\r\n                            &lt;ul&gt;\r\n                                @foreach ($search_query as $item)\r\n                                        &lt;li&gt;&lt;a href=\"{{ url('shop/' . $item-&gt;url . '/' . $item-&gt;purl) }}\"&gt;{{ $item-&gt;ptitle }}&lt;/a&gt;&lt;/li&gt;\r\n                                @endforeach\r\n                            &lt;/ul&gt;\r\n                        @endif\r\n                        &lt;button class=\"btn input-group-text\" id=\"submit-btn\"&gt;Go!&lt;/button&gt;\r\n                    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Method inside the controller:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    public function search(Request $request){\r\n    \r\n        Product::autoComplete($request, self::$data);\r\n        return self::$data;\r\n    \r\n      }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://i.stack.imgur.com/tk13K.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tk13K.png\" alt=\"enter image description here\"></a></p>\n\n<p>The problem I'm having with it is that I cannot get inside the <code>@if (!empty($search))</code> although there is a variable <code>$search</code> containing the information from the Ajax call (as can be seen in the screenshot attached).</p>\n\n<p>The ultimate goal is to show to the user all the terms that matches his/her search in a <code>div</code> below the search input (kinda like the search bar on YouTube).</p>\n\n<p>Here is the rest of the code, although it's working correctly as can be seen from the screenshot of the <code>dd(self::$data)</code>: </p>\n\n<p><strong>Model:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> static public function autoComplete($request, &amp;$data){\r\n        if ( !empty( $request['search'] ) &amp;&amp; is_string($request['search'])) {\r\n  \r\n            $search = trim(filter_var($request['search'], FILTER_SANITIZE_STRING));\r\n            $search = strtoupper($search);\r\n            \r\n           \r\n            \r\n            if ($search) {\r\n              \r\n              $data['search'] = DB::table('products AS p')\r\n              -&gt;join('categories AS c', 'c.id', '=', 'p.categorie_id')\r\n              -&gt;select('ptitle', 'article', 'c.url', 'p.purl')\r\n              -&gt;where('ptitle', 'LIKE', '%' . $search . '%')\r\n              -&gt;orWhere('article', 'LIKE', '%' .$search . '%')\r\n              -&gt;get();\r\n              \r\n            }\r\n            \r\n          }\r\n    }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Web router:</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>Route::get('search', 'PageController@search');</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "logic"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1537999780, "post_id": 52526651, "comment_id": 91993102, "body": "It looks like you always want as many columns as elements in the subarrays and as many rows as elements in the array. This should be possible very easily with CSS grid: <a href=\"https://css-tricks.com/snippets/css/complete-guide-grid/\" rel=\"nofollow noreferrer\">css-tricks.com/snippets/css/complete-guide-grid</a> . Or is the problem generating the arrays?"}, {"owner": {"reputation": 1345, "user_id": 1377176, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/88e41bb3b83c3fe9005e90d9efa78d7a?s=128&d=identicon&r=PG", "display_name": "lucas", "link": "https://stackoverflow.com/users/1377176/lucas"}, "edited": false, "score": 0, "creation_date": 1537999844, "post_id": 52526651, "comment_id": 91993114, "body": "What is the actual question?"}, {"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "edited": false, "score": 0, "creation_date": 1537999845, "post_id": 52526651, "comment_id": 91993115, "body": "I don&#39;t know about the graphical part, but this seems straightforward enough. You have an array of <i>rows</i> (first level), each row being composed of <i>cells</i> (second level). I&#39;m not sure what logic issue you have with that."}, {"owner": {"reputation": 1418, "user_id": 8964160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMXwl.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8964160/jack"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1537999859, "post_id": 52526651, "comment_id": 91993124, "body": "@FelixKling Thanks for the link. But yes, I am having the issue with generating the arrays."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1537999934, "post_id": 52526651, "comment_id": 91993154, "body": "It wasn&#39;t clear from your post that this is part of your question."}, {"owner": {"reputation": 1418, "user_id": 8964160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMXwl.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8964160/jack"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1537999980, "post_id": 52526651, "comment_id": 91993171, "body": "@FelixKling Sorry, edited."}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 1, "creation_date": 1538000051, "post_id": 52526651, "comment_id": 91993194, "body": "A starting point <a href=\"https://stackoverflow.com/questions/8495687/split-array-into-chunks\" title=\"split array into chunks\">stackoverflow.com/questions/8495687/split-array-into-chunks</a>. Choose a chunk size that divides the number of elements evenly. Then change the chunk size to get the right number of rows (which atm I&#39;m not sure how to determine, e.g. should columns be always be larger or equal than rows? If so choose a chunk size where <code>#elements &#47; chunk_size &lt; chunk_size</code>). <i>edit:</i> Maybe choose <code>chunk_size</code> such that <code>chunk_size &gt; Math.sqrt(#elements) &amp;&amp; #elements % chunk_size === 0</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1538000918, "post_id": 52526651, "comment_id": 91993420, "body": "if the number of elements is a prime number you&#39;ll always have to use a single row. Is that OK?"}], "answers": [{"comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1538001728, "post_id": 52526842, "comment_id": 91993608, "body": "Another way to express the problem is: Find the smallest factor of <code>#elements</code> that is <code>&gt; Math.sqrt(#elements)</code>."}, {"owner": {"reputation": 1418, "user_id": 8964160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMXwl.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8964160/jack"}, "edited": false, "score": 0, "creation_date": 1538003618, "post_id": 52526842, "comment_id": 91994084, "body": "Thanks, this worked great. Is there reason for multiple functions?"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "reply_to_user": {"reputation": 1418, "user_id": 8964160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMXwl.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8964160/jack"}, "edited": false, "score": 0, "creation_date": 1538003655, "post_id": 52526842, "comment_id": 91994096, "body": "No. I just copied <code>chunk</code> from the other question."}], "tags": [], "owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "is_accepted": true, "score": 1, "last_activity_date": 1538000869, "creation_date": 1538000869, "answer_id": 52526842, "question_id": 52526651, "link": "https://stackoverflow.com/questions/52526651/get-the-best-square-like-arrangement/52526842#52526842", "title": "Get the best square like arrangement", "body": "<p>You can use a solution from <a href=\"https://stackoverflow.com/questions/8495687/split-array-into-chunks\">Split array into chunks</a>, to split an array of elements. Now we just need to determine the correct chunk size.</p>\n\n<p>It looks like the criteria is:</p>\n\n<ul>\n<li>Each chunk must be the same size. This can be achieved by requiring that the number of elements is evenly divisible by the chunk size (i.e. <code>#elements % chunk_size === 0</code>).</li>\n<li>There should be at most as many rows as columns. In other words, the chunk size must be larger than the number of chunks. We can fulfill that by starting with a chunk size that is at least <code>Math.sqrt(#elements)</code>.</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Implementation\r\n\r\nfunction chunk (arr, len) {\r\n  var chunks = [],\r\n      i = 0,\r\n      n = arr.length;\r\n\r\n  while (i &lt; n) {\r\n    chunks.push(arr.slice(i, i += len));\r\n  }\r\n\r\n  return chunks;\r\n}\r\n\r\nfunction gridify(arr) {\r\n  let size = Math.ceil(Math.sqrt(arr.length));\r\n  while (arr.length % size !== 0) {\r\n    size += 1;\r\n  }\r\n  return chunk(arr, size);\r\n}\r\n\r\n// Helper functions for example\r\n\r\nfunction range(n) {\r\n   return Array.from({length: n}, (_,i) =&gt; i+1);\r\n}\r\n\r\nfunction run(size) {\r\n  console.log(JSON.stringify(gridify(range(size))));\r\n}\r\n\r\n// Create examples\r\n\r\nrun(4);\r\nrun(16);\r\nrun(3);\r\nrun(8);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>There is hopefully a better way to determine the chunk size than just iterating and increasing size, but that's what I came with in this short time.</p>\n"}], "owner": {"reputation": 1418, "user_id": 8964160, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wMXwl.png?s=128&g=1", "display_name": "Jack", "link": "https://stackoverflow.com/users/8964160/jack"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 52526842, "answer_count": 1, "score": 2, "last_activity_date": 1538000869, "creation_date": 1537999630, "last_edit_date": 1592644375, "question_id": 52526651, "link": "https://stackoverflow.com/questions/52526651/get-the-best-square-like-arrangement", "title": "Get the best square like arrangement", "body": "<h2>The Situation</h2>\n<p>I have a certain amount of squares. I want these square to always from a square like grid but it can't have any empty spaces. I'd use JavaScript to do this. The grid would be stored like so</p>\n<pre><code>var gridLayout = [[1, 2], [3, 4]];\n</code></pre>\n<p>This would result in this grid</p>\n<p><a href=\"https://i.stack.imgur.com/xo78E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xo78E.png\" alt=\"2 by 2 grid\" /></a></p>\n<h2>The Problem</h2>\n<p>If I have 16 squares it would result with</p>\n<pre><code>var gridLayout = [[1, 2, 3, 4],[5, 6, 7, 8],[9, 10, 11, 12],[13, 14, 15, 16]];\n</code></pre>\n<p>And the visual</p>\n<p><a href=\"https://i.stack.imgur.com/4m2HL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4m2HL.png\" alt=\"4 by 4 grid\" /></a></p>\n<p>Now all that's easy to do, but what if there's 3 squares? I'd like it to do something like this, favoring the <strong>horizontal over the vertical layout</strong>.</p>\n<pre><code>var gridLayout = [[1, 2, 3]];\n</code></pre>\n<p>with the visual</p>\n<p><a href=\"https://i.stack.imgur.com/QDQJM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QDQJM.png\" alt=\"1 by 3 grid\" /></a></p>\n<p>If I had 8 squares it couldn't make the perfect square so I'd like to be</p>\n<pre><code>var gridLayout = [[1, 2, 3, 4], [5, 6, 7, 8]];\n</code></pre>\n<p>And the visual</p>\n<p><a href=\"https://i.stack.imgur.com/vZWBq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vZWBq.png\" alt=\"2 by 4 grid\" /></a></p>\n<h2>What I've tried</h2>\n<p>I've looked at <a href=\"https://stackoverflow.com/questions/339939/stacking-rectangles-to-into-the-most-square-like-arrangement-possible\">this</a> but it seems to be working with rectangles instead of squares. I also have a very hard time following without the visuals of what they want.</p>\n<p>I have also looked at <a href=\"https://stackoverflow.com/questions/251488/stacking-rectangles-to-take-as-little-space-as-possible?noredirect=1&amp;lq=1\">this</a> which is kinda similar but seem to be a bit irrelevant to my situation.</p>\n<h2>Conclusion</h2>\n<p>How would I create the <code>gridLayout</code> in such a way as what I want? Any help is appreciated.</p>\n"}, {"tags": ["javascript", "reed-solomon", "erasure-code"], "comments": [{"owner": {"reputation": 107, "user_id": 11310931, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYNcG1YoO1I/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcQ7xlQE6OiUcuzaxE4W796VKcjaw/mo/photo.jpg?sz=128", "display_name": "karthik yadav", "link": "https://stackoverflow.com/users/11310931/karthik-yadav"}, "edited": false, "score": 0, "creation_date": 1583122499, "post_id": 52526619, "comment_id": 106997163, "body": "Hello, did you find any solution? please let me know. Thanks in advance"}], "owner": {"reputation": 33, "user_id": 10296743, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32cff0917d2c091a98e48fd39d76166?s=128&d=identicon&r=PG&f=1", "display_name": "N_b26", "link": "https://stackoverflow.com/users/10296743/n-b26"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 158, "favorite_count": 1, "answer_count": 0, "score": 2, "last_activity_date": 1537999433, "creation_date": 1537999433, "question_id": 52526619, "link": "https://stackoverflow.com/questions/52526619/how-to-use-ronomon-reed-solomon-library-to-split-file-in-chunks", "title": "How to use Ronomon Reed-Solomon Library to split file in chunks", "body": "<p>I am trying to use <a href=\"https://github.com/ronomon/reed-solomon\" rel=\"nofollow noreferrer\">Ronomon/Reed-Solomon JavaScript Library</a>, I want to chunk files based on the number of data shards and parity shards. Any example demonstrating the use of ReedSolomon.encode will help me.\nMy code is as below:</p>\n\n<p>Encode.js</p>\n\n<pre><code>var ReedSolomon = require('@ronomon/reed-solomon');\nconst fs = require('fs');\n\n/* rsencode function\n   blob           : file object // Blob object\n   options        : set of options(key, value)\n   {\n    data_shards   : # of data shards(symbols) // integer\n    parity_shards : # of parity shards // integer\n    buffer_offset : # of bytes attached in front of file // integer (optional)\n    header_msg    : non-reedsolomon header (optional)\n    footer_msg    : non-reedsolomon footer (optional)\n   }\n   callback       : to handle encoded buffer\n*/\n\n\nfileinfo = function (file){\n var fsize = fs.statSync(file)\n var st = fsize.size\n console.log(fsize)\n console.log(\"sizeeee\", st)\n};\n\nrsencode = function (file, options, callback){\n    // console.log(\"inside\")\n  var fsize = fs.statSync(file)\n  var fileSize = fsize.size;\n  console.log(fileSize)\n  var dataShards = options.data_shards;\n  var parityShards = options.parity_shards;\n  var bufferOffset = ( options.buffer_offset || 0 );\n  var header = ( options.header_msg || '' );\n  var footer = ( options.footer_msg || '' );\n  var shardOffset = 1; // for index of shards\n\n  // if(!(blob instanceof Blob)) throw new Error('blob must be a Blob object');\n\n  var rs = ReedSolomon.create(dataShards, parityShards); // including assertion\n\n  var totalShards = dataShards + parityShards;\n  var shardLength = Math.floor(fileSize / (dataShards - 1));\n  var remainder = fileSize % (dataShards - 1);\n\n  if(remainder &gt; shardLength){\n    shardLength = shardLength + Math.floor(remainder / shardLength);\n    remainder = remainder % shardLength;\n  }\n\n  var paddingLength = shardLength - remainder;\n  var paddingString = \"\";\n\n  for(i = 0; i &lt; paddingLength; i++){\n    paddingString = paddingString + \"1\";\n  }\n\n  var reader = fs.readFile(file,function(result) {\n    console.log(result);\n})\nconsole.log(reader)\n\nvar bufferSize = (shardLength + shardOffset) * totalShards;\nvar shardSize = shardLength;\n\n      ReedSolomon.encode(\n        rs,\n        bufferOffset,\n        bufferSize,\n        shardLength+shardOffset,\n        shardOffset,\n        shardSize,\n        (error) =&gt; {\n          if(error) throw error;\n          callback(buffer, fileSize, bufferOffset, bufferSize, totalShards, shardLength, shardOffset);\n        },\n      );\n\n};\n</code></pre>\n\n<p>Client.js</p>\n\n<pre><code>var sd = require('./encode')\n\nfile = \"big.txt\"\n// console.log(file)\n\nrsencode(file,{data_shards:4,parity_shards:2}, function(result) {\n    console.log(result);\n})\n</code></pre>\n\n<p>I am a newbie to JavaScript and hence cannot split files, kindly help.</p>\n"}, {"tags": ["javascript", "three.js", "shader"], "comments": [{"owner": {"reputation": 16675, "user_id": 2608515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/N7ZoP.jpg?s=128&g=1", "display_name": "Marquizzo", "link": "https://stackoverflow.com/users/2608515/marquizzo"}, "edited": false, "score": 0, "creation_date": 1538002980, "post_id": 52526600, "comment_id": 91993926, "body": "Let&#39;s see your code. And if you&#39;re having issues with framerate, you should create a JSFiddle with your example so we can see where the performance bottleneck is taking place."}, {"owner": {"reputation": 81, "user_id": 10322453, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mN31scbuhug/AAAAAAAAAAI/AAAAAAAAA3A/IpH_joRCIuk/photo.jpg?sz=128", "display_name": "user10322453", "link": "https://stackoverflow.com/users/10322453/user10322453"}, "reply_to_user": {"reputation": 16675, "user_id": 2608515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/N7ZoP.jpg?s=128&g=1", "display_name": "Marquizzo", "link": "https://stackoverflow.com/users/2608515/marquizzo"}, "edited": false, "score": 0, "creation_date": 1538003087, "post_id": 52526600, "comment_id": 91993948, "body": "Well.. if you so desire.. Edit: I actually want to change my method of using displacements in THREE, this method is no longer suitable for me, but I dont know what to do now."}, {"owner": {"reputation": 12403, "user_id": 4045502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0crws.jpg?s=128&g=1", "display_name": "prisoner849", "link": "https://stackoverflow.com/users/4045502/prisoner849"}, "edited": false, "score": 1, "creation_date": 1538032556, "post_id": 52526600, "comment_id": 92002190, "body": "@user10322453 Have a look at this <a href=\"https://discourse.threejs.org/t/how-to-implement-heatmap/4007?u=prisoner849\" rel=\"nofollow noreferrer\">forum topic</a>."}], "owner": {"reputation": 81, "user_id": 10322453, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-mN31scbuhug/AAAAAAAAAAI/AAAAAAAAA3A/IpH_joRCIuk/photo.jpg?sz=128", "display_name": "user10322453", "link": "https://stackoverflow.com/users/10322453/user10322453"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 233, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538003151, "creation_date": 1537999289, "last_edit_date": 1538003151, "question_id": 52526600, "link": "https://stackoverflow.com/questions/52526600/use-displacement-maps-with-shaders-in-three-js", "title": "Use displacement maps with shaders in three.js", "body": "<p>I am attempting to create displacement maps, but when it comes to large planes with displacements on the rocks in sand, etc, the 1000 segments required for just a 10x10 square plane just to have a quality displacement is ludicrously slow and creates framerate issues. I want this plane to be upwards for 500x500, which would require 50,000 segments, with displacement maps on each and every texture.</p>\n\n<p>This is quite demonstrably awful as a solution to displacements, but I have no idea how to do shaders!</p>\n\n<p>I read up on shaders, I know how they work, but I don't know where to start with THREE.js r96. Specifically r96, because the attributes of a shader belong in the geometry (i think that's how it works, anyways..), and not the material. Every tutorial I have dug up uses a shadermaterial with shader attributes based on GLSL code.</p>\n\n<p>How can I use shaders in THREE.js to solve my problem with displacements? </p>\n\n<p>Code (apologies for eye and/or brain damage):</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html id=\"html\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\"&gt;\n    &lt;title&gt;Home&lt;/title&gt;\n    &lt;script src=\"js/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/scene.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"js/cannon.min.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"three.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"js/THREEx.keyboardstate.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"js/controls.js\"&gt;&lt;/script&gt;\n  &lt;link rel=\"stylesheet\" href=\"codemirror/lib/codemirror.css\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"codemirror\\theme\\tomorrow-night-bright.css\"&gt;\n  &lt;link rel=\"stylesheet\" href=\"codemirror\\theme\\3024-night.css\"&gt;\n  &lt;script src=\"codemirror/lib/codemirror.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"codemirror/mode/javascript/javascript.js\"&gt;&lt;/script&gt;\n  &lt;script type=\"text/plain\" id=\"vertexshader\"&gt;\n    attribute float displacement;\nvarying vec3 vNormal;\n\nvoid main() {\n\n  vNormal = normal;\n\n  // push the displacement into the\n  // three slots of a 3D vector so\n  // it can be used in operations\n  // with other 3D vectors like\n  // positions and normals\n  vec3 newPosition = position +\n    normal * vec3(displacement);\n\n  gl_Position = projectionMatrix *\n                modelViewMatrix *\n                vec4(newPosition, 1.0);\n}\n  &lt;/script&gt;\n  &lt;script type=\"text/plain\" id=\"fragmentshader\"&gt;\n    varying vec3 vNormal;\n\nvoid main() {\n\n  // calc the dot product and clamp\n  // 0 -&gt; 1 rather than -1 -&gt; 1\n  vec3 light = vec3(0.5, 0.2, 1.0);\n\n  // ensure it's normalized\n  light = normalize(light);\n\n  // calculate the dot product of\n  // the light to the vertex normal\n  float dProd = max(0.0,\n                    dot(vNormal, light));\n\n  // feed into our frag colour\n  gl_FragColor = vec4(dProd, // R\n                      dProd, // G\n                      dProd, // B\n                      1.0);  // A\n\n}\n  &lt;/script&gt;\n    &lt;style&gt;\n     @import url('https://fonts.googleapis.com/css?family=Titillium+Web');\n     @import url('https://fonts.googleapis.com/css?family=Quicksand&amp;subset=latin-ext');\n    ::-webkit-scrollbar { \n    display: none; \n    }\n        #container {\n            margin:0;\n      border:none;\n      padding:none;\n      position:fixed;\n      overflow:hidden;\n      height:100%;\n      width:100%;\n        }\n    textarea {\n      background:black;\n      color:white;\n      border:none;\n      outline:none;\n      display:none;\n    }\n        html{\n      -ms-overflow-style: -ms-autohiding-scrollbar;\n      margin:0;\n      border:none;\n      padding:none;\n            overflow:hidden;\n      overflow-x:hidden;\n      height:100%;\n      width:100%;\n        }\n    body {\n      width:100%;\n      height:100%;\n      border:none;\n      margin:0;\n    }\n    form {\n      position:absolute;\n      bottom:100px;\n      position:fixed;\n      display:none;\n    }\n    html {\n      font-family: 'Quicksand', sans-serif;\n    }\n    .error {\n      background-color:red;\n      color:black;\n    }\n    .log {\n      outline: 1px solid black;\n    }\n    .bluetext {\n      color:blue;\n    }\n    #consoleOutputError {\n      display: none;\n    }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div id=\"container\"&gt;&lt;/div&gt;\n  &lt;form id=\"consoleForm\" onsubmit=\"return false;\" style=\"width:30%\"&gt;\n    &lt;textarea rows=\"20\" spellcheck=\"false\" cols=\"70\" type=\"text\" id=\"consoletext\"&gt;&lt;/textarea&gt;\n    &lt;input type=\"button\" onclick=\"evaluateTheConsole()\" value=\"Run code\"&gt;\n    &lt;input type=\"button\" onclick=\"document.getElementById('consoleOutputError').innerHTML=''\" value=\"\ud83d\uddd1\"&gt;\n  &lt;/form&gt;\n  &lt;ul style=\"color:red;position:absolute;right:10px;top:0px;width:10%\" id=\"consoleOutputError\"&gt;&lt;/ul&gt;\n&lt;script&gt;\n  var editor = CodeMirror.fromTextArea(document.getElementById(\"consoletext\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}), {\n    lineNumbers: true,\n    mode: \"text/javascript\",\n    theme: \"3024-night\"\n  });\n  function printColor(message,color,bkgrnd=\"none\"){\n    document.getElementById(\"consoleOutputError\").innerHTML+=\"&lt;li class='log' style='overflow-wrap: break-word;word-wrap:break-word;white-space:pre-line;padding:2px;list-style-type:none;color:\"+color+\";background-color:\"+bkgrnd+\"'&gt;\"+message+\"&lt;/li&gt;\";\n    document.getElementById(\"html\").scrollTop = document.getElementById(\"html\").scrollHeight;\n  }\n  (function(){\n    var oldLog = console.log;\n    console.log = function (message) {\n      printColor(message,\"black\");\n        oldLog.apply(console, arguments);\n    };\n})();\n(function(){\n    var oldErr = console.error;\n    console.error = function (message) {\n      printColor(message,\"red\");\n        oldErr.apply(console, arguments);\n    };\n})();\n(function(){\n    var oldWrn = console.warn;\n    console.warn = function (message) {\n      printColor(message,\"orange\");\n        oldWrn.apply(console, arguments);\n    };\n})();\n  function evaluateTheConsole(){\n    try {\n      eval(editor.getValue());\n} catch(err) {\n  var recent = document.getElementById(\"consoleOutputError\").innerHTML;\n  printColor(err.message,\"red\");\ndocument.getElementById(\"html\").scrollTop = document.getElementById(\"html\").scrollHeight;\n}\n  }\n    // Set the scene size.\n    const WIDTH = window.innerWidth;\n    const HEIGHT = window.innerHeight;\n\n    // Set some camera attributes.\n    const VIEW_ANGLE = 45;\n    const ASPECT = WIDTH / HEIGHT;\n    const NEAR = 0.1;\n    const FAR = 10000;\n\n    // Get the DOM element to attach to\n    const container =\n        document.querySelector('#container');\n\n    // Create a WebGL renderer, camera\n    // and a scene\n    const renderer = new THREE.WebGLRenderer();\n    var camera =\n        new THREE.PerspectiveCamera(\n            VIEW_ANGLE,\n            ASPECT,\n            NEAR,\n            FAR\n        );\n\n    const scene = new THREE.Scene();\n    var stem = \"./\"\n    scene.background = new THREE.CubeTextureLoader().load([\n      stem+\"xpos2.png\",\n      stem+\"xneg2.png\",\n      stem+\"ypos2.png\",\n      stem+\"yneg2.png\",\n      stem+\"zpos2.png\",\n      stem+\"zneg2.png\",\n    ])\n    // Add the camera to the scene.\n    scene.add(camera);\n    controls = new THREE.OrbitControls( camera, renderer.domElement );\n    controls.target = new THREE.Vector3(0, 0, 0);\n        camera.position.set(0,1,0)\n    // Start the renderer.\n    renderer.setSize(WIDTH, HEIGHT);\n\n    // Attach the renderer-supplied\n    // DOM element.\n    container.appendChild(renderer.domElement);\n\n    // create a point light\n    var pointLight =\n      new THREE.PointLight(0xFFFFFF);\n\n    // set its position\n    pointLight.position.x = 100;\n    pointLight.position.y = 100;\n    pointLight.position.z = 100;\n\n     var pointLight2 =\n      new THREE.PointLight(0xFFFFFF);\n\n    // set its position\n    pointLight2.position.x = -100;\n    pointLight2.position.y = 100;\n    pointLight2.position.z = -100;\n    var setUVs = function(mesh,x,y){\n      var uvs = mesh.geometry.attributes.uv;\n      for ( var i = 0; i &lt; uvs.count; i++ ) {\n        uvs.setXY( i, uvs.getX( i ) * x, uvs.getY( i ) * y );\n      }\n      var i = 0;\n    }\n    // add to the scene\n    scene.add(pointLight);\n    // create the sphere's material\n    var attributes = {\n  displacement: {\n    type: 'f', // a float\n    value: [] // an empty array\n  }\n};\n\nvar vShader = $('#vertexshader');\nvar fShader = $('#fragmentshader');\n\n// create the material and now\n// include the attributes property\nvar shaderMesh =\n  new THREE.Mesh(\n    new THREE.BoxBufferGeometry(1,1,1),\n    new THREE.ShaderMaterial({\n      uniforms:     attributes,\n      vertexShader:   vShader.text(),\n      fragmentShader: fShader.text(),\n      wireframe:true\n    })\n  );\n\n// now populate the array of attributes\nvar verts =\n  shaderMesh.geometry.vertices;\n\nvar values =\n  shaderMesh.geometry.vertices;\n\nfor (var v = 0; v &lt; shaderMesh.geometry.vertices; v++) {\n  values.push(Math.random() * 30);\n}\nscene.add(shaderMesh);\nvar tex = new THREE.TextureLoader().load(\"https://threejs.org/examples/textures/UV_Grid_Sm.jpg\");\ntex.wrapS = THREE.RepeatWrapping;\ntex.wrapT = THREE.RepeatWrapping;\n\nvar geo = new THREE.PlaneBufferGeometry(2, 2);\nvar mat = new THREE.ShaderMaterial({\n  uniforms:{\n      time: {value: 0},\n      texture1: {value: tex}\n  },\n  vertexShader:`\n    varying vec2 vUv;\n    void main() {\n      vUv = uv;\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position,2.0);\n    }\n  `,\n  fragmentShader: `\n    uniform float time;\n    uniform sampler2D texture1;\n    varying vec2 vUv;\n    void main() {\n      vec3 c = vec3(texture2D(texture1, vUv));\n      float v = time + (vUv.x*0.5 + vUv.y*0.5);\n      vec2 Uv2 = vec2(c.r + c.b+v, c.g + c.b + v);\n      vec3 outcolor = vec3(texture2D(texture1, Uv2));\n      gl_FragColor = vec4( outcolor, 1.0 );\n    }\n  `\n});\nvar plane = new THREE.Mesh(geo, mat);\nscene.add(plane);\nplane.position.y = 15;\nshaderMesh.position.y = 10;\n    var sphereMaterial =\n      new THREE.MeshPhongMaterial(\n        {\n          envMap: scene.background,\n                    map: new THREE.TextureLoader().load(\"energyrock.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n                    normalMap: new THREE.TextureLoader().load(\"energyrocknormal.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n                    displacementMap: new THREE.TextureLoader().load(\"energyrockbump.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n                    aoMap: new THREE.TextureLoader().load(\"energyrockao.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n                    specularMap: new THREE.TextureLoader().load(\"energyrockspecular.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n                    emissiveMap: new THREE.TextureLoader().load(\"energyrockemissive.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          color:\"#ffffff\",\n          emissive:\"#bb00bb\",\n          specular:\"#000000\",\n          reflectivity:1,\n          displacementScale:0.03\n        });\n        var sphereMaterial2 =\n      new THREE.MeshPhongMaterial(\n        {\n          envMap: scene.background,\n                    map: new THREE.TextureLoader().load(\"cobblestone.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n                    displacementMap: new THREE.TextureLoader().load(\"cobblestonebump.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          specularMap: new THREE.TextureLoader().load(\"cobblestoneSpecular.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          aoMap: new THREE.TextureLoader().load(\"cobblestoneao.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          normalMap: new THREE.TextureLoader().load(\"cobblestoneicenormal.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          alphaMap:new THREE.TextureLoader().load(\"cobblestonealpha.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          //transparent:true,\n          reflectivity:0.6,\n          color: \"#aaaaff\",\n          specular: \"#4444aa\",\n         displacementBias: 0.0,// from original model\n         displacementScale: 0.05,\n        });\n        var brickMaterial =\n      new THREE.MeshPhongMaterial(\n        {\n          envMap: scene.background,\n                    map: new THREE.TextureLoader().load(\"brick.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n                    displacementMap: new THREE.TextureLoader().load(\"brickbump.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          bumpMap: new THREE.TextureLoader().load(\"brickbump.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          normalMap: new THREE.TextureLoader().load(\"bricknormal.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          specularMap: new THREE.TextureLoader().load(\"brickspecular.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          displacementScale:0.03,\n          reflectivity:0.5,\n          color: \"#ffaaaa\",\n          specular: \"#4444aa\"\n        });\n        var rockMaterial =\n      new THREE.MeshPhongMaterial(\n        {\n          envMap: scene.background,\n                    map: new THREE.TextureLoader().load(\"granite.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          normalMap: new THREE.TextureLoader().load(\"granitenormal.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          bumpMap: new THREE.TextureLoader().load(\"granitebump.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          bumpScale:0,\n          reflectivity:0.5,\n          color: \"#aaaaff\",\n          specular: \"#4444aa\"\n        });\n        var mudMaterial =\n      new THREE.MeshPhongMaterial(\n        {\n          envMap: scene.background,\n                    map: new THREE.TextureLoader().load(\"mud.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          normalMap: new THREE.TextureLoader().load(\"mudnormal.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          bumpMap: new THREE.TextureLoader().load(\"mudbump.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          aoMap: new THREE.TextureLoader().load(\"mudao.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          displacementMap: new THREE.TextureLoader().load(\"muddisplacement.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          specularMap: new THREE.TextureLoader().load(\"muddisplacement.jpg\",function ( texture ) {texture.wrapS = texture.wrapT = THREE.RepeatWrapping;texture.offset.set( 0, 0 );texture.repeat.set( 1, 1 )}),\n          displacementScale:0.015,\n          reflectivity:0,\n          color: \"#ddccaa\",\n          specular: \"#000000\",\n          //specular: \"#4444aa\"\n        });\n\n    // Set up the sphere vars\n    const RADIUS = 1;\n    const SEGMENTS = 16;\n    const RINGS = 16;\n\n    // Create a new mesh with\n    // sphere geometry - we will cover\n    // the sphereMaterial next!\n    var sphere = new THREE.Mesh(\n\n      new THREE.PlaneBufferGeometry(\n        1, 1,100,100),\n\n      sphereMaterial2.clone());\n      var plane2 = new THREE.Mesh(\n\nnew THREE.PlaneBufferGeometry(\n  1, 1,10,10),\n\nsphereMaterial2.clone());\n      sphere.rotation.x = Math.PI / -2;\n      plane2.rotation.x = Math.PI / -2;\n    var rocks = new THREE.Mesh(\n\n      new THREE.BoxBufferGeometry(\n        3, 3, 3,300,300),\n\n      rockMaterial.clone());\n\n    // Move the Sphere back in Z so we\n    // can see it.\n    sphere.position.z = 0;\n    rocks.position.y = 3;\n    camera.position.z = -3;\n\n    // Finally, add the sphere to the scene.\n    scene.add(sphere);\n    //scene.add(plane2);\n    plane2.position.y = 0.015\n    scene.add(rocks);\n    setUVs(sphere,1,1);\n    setUVs(rocks,3,3);\n    var g = 0;\n    var b = 0;\n    var vueDifference = 20;\n    var speed = 1;\n    var wow;\n    var hColor = 0;\n    var i=0;\n    var tty = 0;\n    var materialtextures = [];\n    Object.keys(sphere.material).forEach(function(key) {\n          console.log(key, sphere.material[key]);\n          if(key==\"map\"&amp;&amp;sphere.material[key]!=null&amp;&amp;sphere.material[key]!=undefined){\n            //materialtextures[tty]=sphere.materials[key];\n            //materialtextures[tty].wrapS = materialtextures[tty].wrapT = THREE.RepeatWrapping;\n            tty++;\n          }\n      });\n    function announce(expression) {\n      console.log(expression);\n      return expression\n    }\n    var animationsEnabled = true;\n    var colorAnimationEnabled = true;\n    var customAnimationEnabled = true;\n    var clockStopped = false;\n    var i = 0;\n    var iCurrent=0;\n    function setAnimTimer(time) {\n      console.log(\"Paused animation loop at \" + time);\n      i=time;\n      clockStopped=true;\n      iCurrent = time;\n      return time;\n    }\n    var customAnimation = function(time){};\n    var currentColor = 90;\n    function update () {\n      if(clockStopped==false){\n      i++;\n      if(customAnimationEnabled==true){\n        customAnimation(i);\n      }\n      if(animationsEnabled==true){\n  mat.uniforms.time.value = i;\n  renderer.render(scene, camera);\n      hColor = hColor + speed;\n      if(Math.round((Math.sin(i/100)+1)*35)==0){\n       currentColor = Math.floor((Math.random() * 360)+1);\n      }else if(Math.round((Math.sin(i/100)+1)*50)==100){\n        currentColor = Math.floor((Math.random() * 360)+1);\n      };\n      wow2 = String(\"hsl(\" + currentColor + \",\" + 100 + \"%\" + \",\" + Math.round((Math.sin(i/100)+1)*50) + \"%\" + \")\");\n      wow = String(\"hsl(\" + currentColor + \",\" + 100 + \"%\" + \",\" + Math.round((Math.sin(i/100)+1)*50) + \"%\" + \")\");\n      wow3 = String(\"hsl(\" + (Math.sin(i/100)+1)*180 + \",\" + 100 + \"%\" + \",\" + 70 + \"%\" + \")\");\n      // Draw!\n            //sphere.rotateY(0.01);\n      if(colorAnimationEnabled==true){\n        //sphere.material.emissive = new THREE.Color(wow2);\n      }\n      //sphere.rotateX(0.001);\n      //sphere.rotateX(0.001);\n      //sphere.material.specular = new THREE.Color(wow);\n      //\n      // Schedule the next frame.\n      }\n      //sphere.material.displacementScale = (Math.sin(i/100)+1)/60;\n      controls.update;\n      renderer.render(scene, camera);\n      requestAnimationFrame(update);\n      }else{\n        i=iCurrent;\n      }\n    }\n    // Schedule the first frame.\n    requestAnimationFrame(update);\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "charts", "google-visualization"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537999602, "post_id": 52526578, "comment_id": 91993038, "body": "This works for me: <code>#timeline svg g text { font-weight: normal !important }</code>"}, {"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537999673, "post_id": 52526578, "comment_id": 91993065, "body": "@ChrisG ha -- what a great simple answer. That works fine, you can add it as an answer and I&#39;ll accept it."}], "answers": [{"comments": [{"owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "edited": false, "score": 0, "creation_date": 1537999771, "post_id": 52526667, "comment_id": 91993097, "body": "this is very helpful, thanks for providing this with the snippet as well."}], "tags": [], "owner": {"reputation": 53495, "user_id": 5090771, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2EOZG.png?s=128&g=1", "display_name": "WhiteHat", "link": "https://stackoverflow.com/users/5090771/whitehat"}, "is_accepted": true, "score": 2, "last_activity_date": 1537999696, "creation_date": 1537999696, "answer_id": 52526667, "question_id": 52526578, "link": "https://stackoverflow.com/questions/52526578/remove-bold-tick-labels-in-google-timeline-chart/52526667#52526667", "title": "Remove bold tick labels in Google Timeline chart", "body": "<p>as you've found, there are no timeline options for styling the x-axis labels.<br>\nbut you can change them manually, on the chart's <code>'ready'</code> event.</p>\n\n<pre><code>google.visualization.events.addListener(chart, 'ready', function () {\n  var labels = container.getElementsByTagName('text');\n  Array.prototype.forEach.call(labels, function(label) {\n    label.setAttribute('font-weight', 'normal');\n  });\n});\n</code></pre>\n\n<p>see following working snippet...  </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>google.charts.load('current', {\r\n  'packages': ['timeline']\r\n});\r\ngoogle.charts.setOnLoadCallback(drawChart);\r\n\r\nfunction drawChart() {\r\n  var container = document.getElementById('timeline');\r\n  var chart = new google.visualization.Timeline(container);\r\n  var dataTable = new google.visualization.DataTable();\r\n  dataTable.addColumn({\r\n    type: 'string',\r\n    id: 'Room'\r\n  });\r\n  dataTable.addColumn({\r\n    type: 'string',\r\n    id: 'Name'\r\n  });\r\n  dataTable.addColumn({\r\n    type: 'date',\r\n    id: 'Start'\r\n  });\r\n  dataTable.addColumn({\r\n    type: 'date',\r\n    id: 'End'\r\n  });\r\n  dataTable.addRows([\r\n    ['Magnolia Room', 'Google Charts', new Date(0, 0, 0, 14, 0, 0), new Date(0, 0, 0, 15, 0, 0)],\r\n    ['Magnolia Room', 'App Engine', new Date(0, 0, 0, 15, 0, 0), new Date(0, 0, 0, 16, 0, 0)]\r\n  ]);\r\n\r\n  var options = {\r\n    timeline: {\r\n      showRowLabels: false\r\n    },\r\n    avoidOverlappingGridLines: false\r\n  };\r\n\r\n  google.visualization.events.addListener(chart, 'ready', function() {\r\n    var labels = container.getElementsByTagName('text');\r\n    Array.prototype.forEach.call(labels, function(label) {\r\n      label.setAttribute('font-weight', 'normal');\r\n    });\r\n  });\r\n\r\n  chart.draw(dataTable, options);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://www.gstatic.com/charts/loader.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"timeline\" style=\"height: 180px;\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 96308, "user_id": 651174, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2e2d79b9350ef4ebf04ac0ad5816a5c3?s=128&d=identicon&r=PG", "display_name": "David542", "link": "https://stackoverflow.com/users/651174/david542"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 477, "favorite_count": 0, "accepted_answer_id": 52526667, "answer_count": 1, "score": 1, "last_activity_date": 1538000254, "creation_date": 1537999187, "last_edit_date": 1538000254, "question_id": 52526578, "link": "https://stackoverflow.com/questions/52526578/remove-bold-tick-labels-in-google-timeline-chart", "title": "Remove bold tick labels in Google Timeline chart", "body": "<p>In the following image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kEDjR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kEDjR.png\" alt=\"enter image description here\"></a></p>\n\n<p>12 AM / 12 PM / 12 AM is bold for the horizontal label. How do I make all of the labels non-bold? I didn't see an option in their documentation: <a href=\"https://developers.google.com/chart/interactive/docs/gallery/timeline\" rel=\"nofollow noreferrer\">https://developers.google.com/chart/interactive/docs/gallery/timeline</a>. </p>\n\n<p>Here is an example of it in jsfiddle: <a href=\"https://jsfiddle.net/0f86vLrg/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/0f86vLrg/</a>:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"&gt;&lt;/script&gt;\n&lt;div id=\"timeline\" style=\"height: 180px;\"&gt;&lt;/div&gt;\n  google.charts.load('current', {\n    'packages': ['timeline']\n  });\n  google.charts.setOnLoadCallback(drawChart);\n\n  function drawChart() {\n    var container = document.getElementById('timeline');\n    var chart = new google.visualization.Timeline(container);\n    var dataTable = new google.visualization.DataTable();\n    dataTable.addColumn({\n      type: 'string',\n      id: 'Room'\n    });\n    dataTable.addColumn({\n      type: 'string',\n      id: 'Name'\n    });\n    dataTable.addColumn({\n      type: 'date',\n      id: 'Start'\n    });\n    dataTable.addColumn({\n      type: 'date',\n      id: 'End'\n    });\n    dataTable.addRows([\n      ['Magnolia Room', 'Google Charts', new Date(0, 0, 0, 14, 0, 0), new Date(0, 0, 0, 15, 0, 0)],\n      ['Magnolia Room', 'App Engine', new Date(0, 0, 0, 15, 0, 0), new Date(0, 0, 0, 16, 0, 0)]\n    ]);\n\n    var options = {\n      timeline: {\n        showRowLabels: false\n      },\n      avoidOverlappingGridLines: false\n    };\n\n    chart.draw(dataTable, options);\n  }\n</code></pre>\n"}, {"tags": ["javascript", "json", "object", "key"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1537998817, "post_id": 52526460, "comment_id": 91992816, "body": "<a href=\"http://benalman.com/news/2010/03/theres-no-such-thing-as-a-json/\" rel=\"nofollow noreferrer\">There is no such thing as a &quot;JSON Object&quot;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 300, "user_id": 9646936, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-9wJ3MEStnjw/AAAAAAAAAAI/AAAAAAAAAC4/_aggduvRnM0/photo.jpg?sz=128", "display_name": "Ahmed Agiza", "link": "https://stackoverflow.com/users/9646936/ahmed-agiza"}, "is_accepted": false, "score": 1, "last_activity_date": 1537998673, "creation_date": 1537998673, "answer_id": 52526477, "question_id": 52526460, "link": "https://stackoverflow.com/questions/52526460/json-object-change-value-function-based-on-passed-in-key/52526477#52526477", "title": "json object change value function based on passed in key", "body": "<p>Just change <code>users[userName].pName</code> to <code>users[userName][pName]</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 65, "user_id": 5357223, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f8acb78efd9706ef04dd9d38dfe833e3?s=128&d=identicon&r=PG&f=1", "display_name": "Asuu", "link": "https://stackoverflow.com/users/5357223/asuu"}, "edited": false, "score": 0, "creation_date": 1537999267, "post_id": 52526486, "comment_id": 91992955, "body": "This is exactly what i was looking for, Thanks!!"}, {"owner": {"reputation": 417, "user_id": 7760283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6Zsy0NcjRBY/AAAAAAAAAAI/AAAAAAAAAEE/hky3MkzOP7k/photo.jpg?sz=128", "display_name": "Pablo DbSys", "link": "https://stackoverflow.com/users/7760283/pablo-dbsys"}, "reply_to_user": {"reputation": 65, "user_id": 5357223, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f8acb78efd9706ef04dd9d38dfe833e3?s=128&d=identicon&r=PG&f=1", "display_name": "Asuu", "link": "https://stackoverflow.com/users/5357223/asuu"}, "edited": false, "score": 0, "creation_date": 1538002087, "post_id": 52526486, "comment_id": 91993691, "body": "Perfect, Can you mark this answer as accepted, please?"}], "tags": [], "owner": {"reputation": 417, "user_id": 7760283, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-6Zsy0NcjRBY/AAAAAAAAAAI/AAAAAAAAAEE/hky3MkzOP7k/photo.jpg?sz=128", "display_name": "Pablo DbSys", "link": "https://stackoverflow.com/users/7760283/pablo-dbsys"}, "is_accepted": false, "score": 2, "last_activity_date": 1537998694, "creation_date": 1537998694, "answer_id": 52526486, "question_id": 52526460, "link": "https://stackoverflow.com/questions/52526460/json-object-change-value-function-based-on-passed-in-key/52526486#52526486", "title": "json object change value function based on passed in key", "body": "<p>I think you want something like this:</p>\n\n<pre><code>var chgPermission = function (userName, pName, pValue) {\n  if (users[userName]) {\n    users[userName][pName]= pValue;\n  } else {\n    console.log(`Could not find: ${userName}`)\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 65, "user_id": 5357223, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f8acb78efd9706ef04dd9d38dfe833e3?s=128&d=identicon&r=PG&f=1", "display_name": "Asuu", "link": "https://stackoverflow.com/users/5357223/asuu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "closed_date": 1537998847, "answer_count": 2, "score": 0, "last_activity_date": 1537998694, "creation_date": 1537998517, "question_id": 52526460, "link": "https://stackoverflow.com/questions/52526460/json-object-change-value-function-based-on-passed-in-key", "closed_reason": "Duplicate", "title": "json object change value function based on passed in key", "body": "<p>I am wanting to change the value inside a json object using a function that allows you to pass in what key you want to change (pName) </p>\n\n<pre><code>var users = {\n  john: {\n    read: true,\n    write: false\n  },\n  mike: {\n    read: true,\n    write: false\n  }\n}\n\nvar chgPermission = function (userName, pName, pValue) {\n  if (users[userName]) {\n    users[userName].pName = pValue;\n  } else {\n    console.log(`Could not find: ${userName}`)\n  }\n}\n\nchgPermission(\"mike\", \"write\", true)\n</code></pre>\n\n<p>This does not work because it looks for users[username].pName (which does not exist) instead of users[userName].write</p>\n\n<p>what do i need to do to have the function allow me to change the value of the key that is passed in.</p>\n\n<p>thank you</p>\n"}, {"tags": ["javascript", "angular"], "answers": [{"tags": [], "owner": {"reputation": 85, "user_id": 7910488, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tvLeb.jpg?s=128&g=1", "display_name": "Moshe Binieli", "link": "https://stackoverflow.com/users/7910488/moshe-binieli"}, "is_accepted": false, "score": 1, "last_activity_date": 1538031234, "last_edit_date": 1538031234, "creation_date": 1538004995, "answer_id": 52527401, "question_id": 52526458, "link": "https://stackoverflow.com/questions/52526458/angular-2-confirmation-page-after-http-post-to-web-api/52527401#52527401", "title": "Angular 2+ confirmation page after HTTP POST to Web API", "body": "<p><em>The truth is that the question is superfluous, the reason you could not solve it is because you do not know the language, but I will answer it anyway because it can help more people to understand the two approaches that I will explain.</em></p>\n\n<p>As I understand you want to be on one page and change just the view in the following case:</p>\n\n<ol>\n<li>You send HTTP Request and receive data from Web API endpoint.</li>\n<li>You want to change the current view of the page to some new text and inject the data from Web API to specific field in the view.</li>\n</ol>\n\n<hr>\n\n<p>From my experience with Angular, I will suggest two ways to get the job done. The first way will be a bit ugly but the second way will be more elegant but it will require more work to do. (and some advanced Angular tools)</p>\n\n<h1>First approach</h1>\n\n<p>This approach it pretty simple (but not so elegant), you put all your code inside your HTML and TS file. we will use *ngIf to switch the view.\nI will try to write my code as closely as possible to your code.\nI will create variable called 'response' and it will be null, once we receive the data from Web API, we will assign the data to our variable 'response', let's look at some example.</p>\n\n<p>TypeScript:</p>\n\n<pre><code>export class AppComponent {\n  //#region Members\n  public response: any;\n  //#endregion\n\n  //#region Constructor\n  public constructor() {\n    this.response = null;\n  }\n  //#endregion\n\n  //#region Public Methods\n  public postQuestionnaireForm(customerIntake) {\n    console.log('postQuestionnaireForm(customerIntake)', customerIntake);\n\n    this.http.postQuestionnaireForm(customerIntake)\n      .subscribe(\n        data =&gt; this.response = JSON.stringify(data),\n        error =&gt; alert(error),\n        () =&gt; console.log('Finished')\n      );\n  }\n  //#endregion\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div *ngIf=\"response === null\"&gt;\n  &lt;!-- This section will contain the required fields for HTTP Call. --&gt;\n  &lt;form&gt;\n    &lt;!-- More inputs here --&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n\n&lt;div *ngIf=\"response !== null\"&gt;\n  &lt;!-- This section contains the static data --&gt;\n  Some data, static data\n  Some data, static data\n  Some data, static data\n  Some data, static data\n  {{ data }}\n  Some data, static data\n  Some data, static data\n&lt;/div&gt;\n</code></pre>\n\n<p>And by using your function 'postQuestionnaireForm()', when the data will come back from Web API, response variable will be changed and the DOM will respond accordingly.</p>\n\n<hr>\n\n<h1>Second approach</h1>\n\n<p>In this approach we will create 3 components.</p>\n\n<ol>\n<li>Father component, name: AppComponent.</li>\n<li>Child1 component, name: FormComponent.</li>\n<li>Child2 component, name: DataComponent.</li>\n</ol>\n\n<h3>AppComponent</h3>\n\n<p>TypeScript:</p>\n\n<pre><code>export class AppComponent {\n  //#region Members\n  public state: number;\n  @ViewChild(DataComponent) dataComponent: DataComponent;\n  //#endregion\n\n  //#region Constructor\n  public constructor() {\n    this.state = 1;\n  }\n  //#endregion\n\n  //#region Public Methods\n  public emitterFunction(data) {\n    this.state = 2;\n    this.dataComponent.setData(data);\n  }\n  //#endregion\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div [hidden]=\"state !== 1\"&gt;\n  &lt;app-form (emitte)=\"emitterFunction($event)\"&gt;&lt;/app-form&gt;\n&lt;/div&gt;\n\n&lt;div [hidden]=\"state !== 2\"&gt;\n  &lt;app-data&gt;&lt;/app-data&gt;\n&lt;/div&gt;\n</code></pre>\n\n<h3>FormComponent</h3>\n\n<p>TypeScript:</p>\n\n<pre><code>export class FormComponent {\n  //#region Members\n  @Output() emitter: EventEmitter&lt;any&gt; = new EventEmitter();\n  //#endregion\n\n  //#region Constructor\n  constructor() { }\n  //#endregion\n\n  //#region Public Methods\n  public postQuestionnaireForm(customerIntake) {\n    console.log('postQuestionnaireForm(customerIntake)', customerIntake);\n\n    this.http.postQuestionnaireForm(customerIntake)\n      .subscribe(\n        data =&gt; this.emitter.emit(JSON.stringify(data))\n        error =&gt; alert(error),\n        () =&gt; console.log('Finished')\n      );\n  }\n  //#endregion\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;form&gt;\n  &lt;!-- More inputs here --&gt;\n  inputs\n&lt;/form&gt;\n</code></pre>\n\n<h3>DataComponent</h3>\n\n<p>TypeScript:</p>\n\n<pre><code>export class DataComponent {\n  //#region Members\n  public data: any;\n  //#endregion\n\n  //#region Constructor\n  constructor() {\n    this.data = null;\n  }\n  //#endregion\n\n  //#region Public Methods\n  public setData(data: any): void {\n    this.data = data;\n  }\n  //#endregion\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div&gt;\nSome data, static data\nSome data, static data\nSome data, static data\nSome data, static data\n{{ data }}\nSome data, static data\nSome data, static data\n&lt;/div&gt;\n</code></pre>\n\n<hr>\n\n<p>It's important to mention that we divided the view to 2 separate components which can act independently.\nWith this separation it's easier to maintain, easier to understand, but it's more complicated for beginners in Angular framework.</p>\n\n<p>Some things to explain:</p>\n\n<ul>\n<li>@ViewChild - With this we get reference to our child component, we use it to get reference to DataComponent, so we can pass the data from FormComponent.</li>\n<li>EventEmitter - It's class that throws data to parent component, as you can see we added this in FormComponent and we called it when HTTP Request finished.\nAt AppComponent HTML, we added reference to function when the emitter is being activated, it will pass the data from child component to father component in this specific function, and then we take the data and pass it to DataComponent. </li>\n<li>[hidden] - I used this because of important reason, I wanted to use *ngIf, but there is a problem, with *ngIf the HTML doesn't even exist, therefore at the beginning the HTML \" \" doesn't even exist.\nwhen we use [hidden] the HTML exist but it's hidden, so we have reference to DataComponent and we can use \"setData(data)\" function.</li>\n</ul>\n"}], "owner": {"reputation": 1, "user_id": 10421073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5b671de2052110232838fad0a65dd471?s=128&d=identicon&r=PG&f=1", "display_name": "TheRealJavaMan", "link": "https://stackoverflow.com/users/10421073/therealjavaman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 233, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538031234, "creation_date": 1537998495, "last_edit_date": 1538003727, "question_id": 52526458, "link": "https://stackoverflow.com/questions/52526458/angular-2-confirmation-page-after-http-post-to-web-api", "title": "Angular 2+ confirmation page after HTTP POST to Web API", "body": "<p>First question here... I am tasked with enhancing an Angular application and I have started with NO angular experience.  I do have javascript experience, but  usually stick with Java (JSP's, and yes, javascript).  I think I've done reasonably well, considering, but I've run into this issue:</p>\n\n<p>When submitting to the Web API, everything works!  But now comes the enhancement, add a page that has a large amount of text and info on it that is static, except for one or two items, including a confirmation number (the important part).  This page must replace the template/page that data was submitted from as it is the last thing the user should see.</p>\n\n<p>I can return the confirmation number and display it on the page that does the submission, but that's not the mission.  I need to replace that page with a new one.</p>\n\n<p>Because of the previous architecture of the application, we aren't using routing, but are using \"steps\" ... using the mdl-stepper libraries.</p>\n\n<p>I have thought of simply making it another step in the process, but don't want to go to a \"Success\" page/display when the posting may have failed.</p>\n\n<p>Simply typing this out has given me a few additional ideas, but if anyone has a truly simple way of doing this, I would appreciate any input. </p>\n\n<p>Thanks in advance.</p>\n\n<p>Here is the call to the method that actually makes the post:</p>\n\n<pre><code>  this.http.postQuestionnaireForm(this.customerIntake)\n  .subscribe(\n    data =&gt; this.response = JSON.stringify(data),\n    error =&gt; alert(error),\n    () =&gt; console.log(\"Finished\")\n  );\n</code></pre>\n\n<p>And here is the method that the above method calls:</p>\n\n<pre><code>  postQuestionnaireForm(customerIntake: String) {\n    let body = JSON.stringify(customerIntake);\n    let headers = new Headers({ 'Content-Type': 'application/json' });\n    let options = new RequestOptions({ headers: headers, method: \"post\" });\n\n    return this.http.post(this.serviceUrl, body, options)\n      .map(res =&gt; res.json());\n  }\n</code></pre>\n\n<p>Again, my thanks!</p>\n"}, {"tags": ["javascript", "python", "html", "ajax"], "comments": [{"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1538003997, "post_id": 52526442, "comment_id": 91994171, "body": "What&#39;s your python code?"}, {"owner": {"reputation": 1, "user_id": 10396011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011d7e2245018452c7e23cef557d61f2?s=128&d=identicon&r=PG&f=1", "display_name": "adrian0808", "link": "https://stackoverflow.com/users/10396011/adrian0808"}, "reply_to_user": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "edited": false, "score": 0, "creation_date": 1538033838, "post_id": 52526442, "comment_id": 92002861, "body": "I added Python code. It can be run from terminal and everything is ok"}], "owner": {"reputation": 1, "user_id": 10396011, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/011d7e2245018452c7e23cef557d61f2?s=128&d=identicon&r=PG&f=1", "display_name": "adrian0808", "link": "https://stackoverflow.com/users/10396011/adrian0808"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 290, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538033774, "creation_date": 1537998366, "last_edit_date": 1538033774, "question_id": 52526442, "link": "https://stackoverflow.com/questions/52526442/executing-python-script-with-infinite-loop-through-website-button-not-working", "title": "Executing python script with infinite loop through website button not working", "body": "<p>I would like to control a python script that continuously collects data from a sensor (while loop). I would like to be able to start and stop this script by simply clicking a button.</p>\n\n<p>I have tried several solutions that included jQuery.ajax requests, but that sadly did not start the script. What should be noted is that I only want to start the script, I do not want any output/return values from it. </p>\n\n<p>Below is my code, which is not working. Nothing happens when I click a button. I'm not using Python framework to serve the site. I am running my own web server using a Raspberry Pi with PHP, Apache. Below is the code for only start script without stop. At the present moment I'd like to only run the script.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt; \n\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\" &gt;&lt;/script&gt;\n&lt;script&gt;\n    function goPython(){\n        $.ajax({\n         type: \"POST\", \n         url: 'alarmV1.py',\n        }).done(function() {\n         alert('DONE');;\n        });\n    }\n&lt;/script&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;input type=\"button\" id='script' name=\"scriptbutton\" value=\" Run Script \" onclick=\"goPython()\"&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Python code:</p>\n\n<pre><code>#!/usr/bin/python3\n#!/usr/bin/env python\n\nimport smbus\nimport sys\nimport time\nimport MySQLdb\nfrom time import sleep\nfrom datetime import datetime\nimport math\n\n\nfd = 0x20 #outputs\nfd2 = 0x21 #inputs\ndane = 0\n\nstate = \"\"\n\nbus = smbus.SMBus(1)\nbus.write_byte(fd2, 0xff)\n\nwhile True:\n   dane = bus.read_byte(fd2)\n\n   if dane == 0xf8:\n      print \"OK\"\n      bus.write_byte(fd,0x03)\n      time.sleep(0.4)\n      state = 'Jest OK'\n   elif dane == 0xf9:\n       bus.write_byte(fd,0x00) #LED ON\n       print \"Kontaktron nr.1\"\n       time.sleep(0.4)\n       bus.write_byte(fd,0x02) #LED OFF\n       state = 'Kontaktron nr.1'\n       time.sleep(0.4)\n   elif dane == 0xfa:\n       bus.write_byte(fd,0x00) #LED ON\n       print \"PIR\"\n       time.sleep(0.4)\n       bus.write_byte(fd,0x02) #LED OFF\n       state = 'Czujnik PIR nr.1'\n       time.sleep(0.4)\n   elif dane == 0xfc:\n       bus.write_byte(fd,0x00) #LED ON\n       print \"Kontaktron nr.2\"\n       time.sleep(0.4)\n       bus.write_byte(fd,0x02) #LED OFF\n       state = 'Kontaktron nr.2'\n       time.sleep(0.4)\n   else:\n       bus.write_byte(fd,0x00)\n       print \"more sensors\"\n       time.sleep(0.4)\n       bus.write_byte(fd,0x02)\n       state = 'Wiecej czujnikow'\n       time.sleep(0.4)\n\n   db = MySQLdb.connect(\"localhost\", \"adrian\", \"3kr39uvk\", \"AlarmBD\")\n   cursor = db.cursor()\n\n   try:\n       cursor.execute(\"INSERT INTO czujniki (id, nazwa_czujnika, data_czujnika) VALUE (NULL,%s,NOW())\",[state])\n       db.commit()\n   except MySQLdb.Error, e:\n       print \"An error has occurred. %s\" %e\n   finally:\n       cursor.close()\n       db.close()\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 889, "user_id": 4719434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQzpA.jpg?s=128&g=1", "display_name": "Aditya Parmar", "link": "https://stackoverflow.com/users/4719434/aditya-parmar"}, "edited": false, "score": 0, "creation_date": 1538003037, "post_id": 52526432, "comment_id": 91993936, "body": "resolved the issue, check it out."}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 8749560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ef201a13cb0a7a4ec96087f32c8549?s=128&d=identicon&r=PG&f=1", "display_name": "Tcann99", "link": "https://stackoverflow.com/users/8749560/tcann99"}, "edited": false, "score": 0, "creation_date": 1537999016, "post_id": 52526507, "comment_id": 91992873, "body": "So, I added this, and my first script now continues to work, but my webpage does not change, any idea?"}], "tags": [], "owner": {"reputation": 492, "user_id": 10408246, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PPBqm.jpg?s=128&g=1", "display_name": "Vash72", "link": "https://stackoverflow.com/users/10408246/vash72"}, "is_accepted": false, "score": 1, "last_activity_date": 1538000255, "last_edit_date": 1538000255, "creation_date": 1537998801, "answer_id": 52526507, "question_id": 52526432, "link": "https://stackoverflow.com/questions/52526432/move-from-one-html-page-to-the-next-through-javascript-and-keyevent/52526507#52526507", "title": "Move from one html page to the next through javascript and keyevent", "body": "<pre><code>//SEPERATE SCRIPTS\n    window.addEventListener(\"keydown\", checkSpaceBar, false);\n    function checkSpaceBar(e) {\n        if(e.keyCode == \"32\") {\n            window.location.href = \"localhost:1337/mainmenu\";\n        }\n    }\n</code></pre>\n\n<p>ES6 style minified</p>\n\n<pre><code>window.addEventListener(\"keydown\",(e) =&gt; {if(e.keyCode === 32) window.location.href=\"localhost:1337/mainmenu\";}, false);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "is_accepted": false, "score": 0, "last_activity_date": 1537999554, "creation_date": 1537999554, "answer_id": 52526636, "question_id": 52526432, "link": "https://stackoverflow.com/questions/52526432/move-from-one-html-page-to-the-next-through-javascript-and-keyevent/52526636#52526636", "title": "Move from one html page to the next through javascript and keyevent", "body": "<p>You have some mistakes in your <code>JavaScript</code> code, you're passing an undefined variable(in fact a callback function) to the keydown event listener, and you began a string with <code>\"</code> and close it with <code>'</code> and that generates an Unexpected Token error, thus your code will crash, so you should either use <code>\"</code> or <code>'</code> not the two at the same time.</p>\n\n<p>Here's your code with the required modifications:</p>\n\n<pre><code>// your passing an undefined pressToPlay function instead of checkSpacebar\nwindow.addEventListener(\"keydown\", checkSpacebar, false);\n\nfunction checkSpacebar(e) {\n    // use \"32\" or '32' and as of the keyCode attribute is an integer then no need to use 32 as a string, I mean instead of \"32\" write just 32.\n    if(e.keyCode == 32) {\n        window.location.href = \"localhost:1337/mainmenu\";\n    }\n}\n</code></pre>\n\n<p>Hope I pushed you further.</p>\n"}, {"tags": [], "owner": {"reputation": 889, "user_id": 4719434, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lQzpA.jpg?s=128&g=1", "display_name": "Aditya Parmar", "link": "https://stackoverflow.com/users/4719434/aditya-parmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1538003148, "last_edit_date": 1538003148, "creation_date": 1538002759, "answer_id": 52527113, "question_id": 52526432, "link": "https://stackoverflow.com/questions/52526432/move-from-one-html-page-to-the-next-through-javascript-and-keyevent/52527113#52527113", "title": "Move from one html page to the next through javascript and keyevent", "body": "<p>Add Http before URL.</p>\n\n<pre><code>    window.addEventListener(\"keydown\", checkSpaceBar, false);\n        function checkSpaceBar(e) {\n            if(e.keyCode == \"32\") {\n               window.open('http://localhost:1337/mainmenu',\"_self\");\n            }\n        }\n</code></pre>\n"}], "owner": {"reputation": 15, "user_id": 8749560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/13ef201a13cb0a7a4ec96087f32c8549?s=128&d=identicon&r=PG&f=1", "display_name": "Tcann99", "link": "https://stackoverflow.com/users/8749560/tcann99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 32, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1538003148, "creation_date": 1537998311, "last_edit_date": 1537999499, "question_id": 52526432, "link": "https://stackoverflow.com/questions/52526432/move-from-one-html-page-to-the-next-through-javascript-and-keyevent", "title": "Move from one html page to the next through javascript and keyevent", "body": "<p>By only using JS/HTML, I want to detect if the space bar is hit, and when it's hit, I want to change the html to another file. (Note, im just working off localhost, so I want to go from localhost:1337 to localhost:1337/mainmenu)</p>\n\n<p>This is what I have, but there seems to be an underlying issue. I have a index.html file and a index.js file. I have a script in my js file that allows text to fade in and out. That script runs fine. However when I added in the script for my keyboard event, the first script seems to stop working.</p>\n\n<p>Can someone point out if the two scripts are interfering with each other? Also, can someone explain why my keyboard script wont run?</p>\n\n<p>JS:</p>\n\n<pre><code>var speed = 1000; \nvar t = setInterval(function(){\n  var slideSource = document.getElementById('play');\n  slideSource.classList.toggle('fade');\n}, speed);\n\n//SEPERATE SCRIPTS\nwindow.addEventListener(\"keydown\", pressToPlay, false);\nfunction checkSpacebar(e) {\n    if(e.keyCode == \"32\") {\n        window.location.href = \"localhost:1337/mainmenu\";\n    }\n}\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width\"&gt;\n    &lt;div class=\"container\"&gt;\n    &lt;img src=\"images/image.jpg\" alt=\"Loading Image..\" style=\"width:100%;height:100%;\"&gt;\n    &lt;div class=\"title\"&gt;\n    &lt;img src = \"images/redfox.png\" style = \"width:7%\"&gt;\n    Oregon Trail:Marist Edition \n    &lt;div class = \"marist\"&gt;&lt;img src = \"images/marist.png\" style = \"width:15%\"&gt;&lt;/div&gt;\n    &lt;img src = \"images/redfox.png\" style = \"width:7%\"&gt;&lt;/div&gt;\n    &lt;div id =\"play\"&gt;Press Spacebar To Play!&lt;/div&gt;\n    &lt;/div&gt;\n    &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"/css/index.css\"&gt;\n    &lt;script src=\"/JS/index.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n    &lt;/body&gt;\n    &lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "edited": false, "score": 0, "creation_date": 1537999594, "post_id": 52526400, "comment_id": 91993035, "body": "I posted my answer second guessing your problem, but I think it would be beneficial to show how you are loading your data from the JSON file."}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1537999929, "post_id": 52526400, "comment_id": 91993152, "body": "<code>DiskElement</code> does not contain a <code>size</code> property, <code>File</code> does. When you use <code>extends</code>, it is saying that <code>File</code> inherits everything from <code>DiskElement</code>, and <code>DiskElement</code> remains unchanged. I think you are thinking that extends means it will push properties to the parent, which is why it is causing confusion. <a href=\"https://www.typescriptlang.org/docs/handbook/classes.html\" rel=\"nofollow noreferrer\">Here&#39;s a link to the docs with examples of how this works</a>"}, {"owner": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1538001655, "post_id": 52526400, "comment_id": 91993590, "body": "It sounds like what you&#39;re actually trying to do is pull <code>File</code> and <code>Directory</code> into <code>DiskElement</code>, which you can do with <a href=\"https://www.typescriptlang.org/docs/handbook/mixins.html\" rel=\"nofollow noreferrer\">mixins</a>. Although maybe not exactly, since the added properties will be optional depending on the type?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 9503, "user_id": 4987197, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205789938965948/picture?type=large", "display_name": "mhodges", "link": "https://stackoverflow.com/users/4987197/mhodges"}, "edited": false, "score": 0, "creation_date": 1538003275, "post_id": 52526400, "comment_id": 91993994, "body": "@mhodges i&#39;d rather say that the OP is trying to uptype"}], "answers": [{"comments": [{"owner": {"reputation": 851, "user_id": 428815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae32e332054b02373b6da8e9e6877ad2?s=128&d=identicon&r=PG", "display_name": "Jean-Philippe Gire", "link": "https://stackoverflow.com/users/428815/jean-philippe-gire"}, "edited": false, "score": 0, "creation_date": 1538035034, "post_id": 52526639, "comment_id": 92003482, "body": "Your second solution is what I did, but it still doesn&#39;t make sense to me.  File is a DiskElement to begin with. Why can&#39;t I add it to an array of DiskElement is beyond me."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1537999572, "creation_date": 1537999572, "answer_id": 52526639, "question_id": 52526400, "link": "https://stackoverflow.com/questions/52526400/array-of-abstract-type-in-typescript/52526639#52526639", "title": "Array of abstract type in typescript", "body": "<p>You could just make <code>size</code> an optional property:</p>\n\n<pre><code> export abstract class DiskElement{\n    id:string;\n    filename:string;\n    size?: number;\n }\n</code></pre>\n\n<p>Or if there are multiple possible subclasses, e.g. <code>File</code> and <code>Blob</code>:</p>\n\n<pre><code>export abstract class DiskElement{\n   id:string;\n   filename:string;\n}\n\n class File extends DiskElement {\n  size: number;\n }\n\n class Blob extends DiskElement {\n   length: number;\n }\n</code></pre>\n\n<p>then you could use a union type to type something on the disk:</p>\n\n<pre><code> type Data = File | Blob;\n</code></pre>\n\n<p>that way you can use <code>Data</code> everywhere and add new types easily. To then access the size you have to add a typeguard:</p>\n\n<pre><code> var sth: Data = new File();\n\n if(sth instanceof File) { // sth: Data -&gt; File\n   console.log(sth.size); // works\n }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 851, "user_id": 428815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae32e332054b02373b6da8e9e6877ad2?s=128&d=identicon&r=PG", "display_name": "Jean-Philippe Gire", "link": "https://stackoverflow.com/users/428815/jean-philippe-gire"}, "is_accepted": false, "score": 0, "last_activity_date": 1538039059, "creation_date": 1538039059, "answer_id": 52533280, "question_id": 52526400, "link": "https://stackoverflow.com/questions/52526400/array-of-abstract-type-in-typescript/52533280#52533280", "title": "Array of abstract type in typescript", "body": "<p>Ok I figured it out...</p>\n\n<p>In javascript there wasn't a huge difference between : </p>\n\n<pre><code>var users = { prop1:\"zzz\", prop2:\"aaaa\"}; //(json without quotes)\nvar users = JSON.parse(json); \n</code></pre>\n\n<p>Turns out it's obviously not true in typescript.\nSo my example above becomes : </p>\n\n<pre><code>users : User = JSON.parse(`\n{\n    shares: \n    [\n        {\n           id:\"{123-12312312-12312}\",\n           filename:\"test.jpg\",\n           size:123123000\n        },\n        {\n           id:\"{222-2222222-22222}\",\n           filename:\"testFolder\",\n           children:[{...},{...}]\n         }\n    ]\n}`);\n</code></pre>\n\n<p>And this way it works as expected.</p>\n"}], "owner": {"reputation": 851, "user_id": 428815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae32e332054b02373b6da8e9e6877ad2?s=128&d=identicon&r=PG", "display_name": "Jean-Philippe Gire", "link": "https://stackoverflow.com/users/428815/jean-philippe-gire"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 440, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1538039059, "creation_date": 1537998156, "last_edit_date": 1538035551, "question_id": 52526400, "link": "https://stackoverflow.com/questions/52526400/array-of-abstract-type-in-typescript", "title": "Array of abstract type in typescript", "body": "<p>I'm quite new with typescript and I'm facing an issue in the app i'm developping.</p>\n\n<pre><code>export abstract class DiskElement{\n    id:string;\n    filename:string;\n}\n\nexport class File extends DiskElement{\n    size:number;\n}\n\nexport class Directory extends DiskElement{\n    children:DiskElement[];\n}\n\nexport class User{\n    shares:DiskElement[];\n}\n</code></pre>\n\n<p>My issue is when I load my users from a Json file, it says that size property doesn't belong to type DiskElement.</p>\n\n<p>I fixed my issue by declaring shares/children as (File | Directory )[] but I don't feel like this solution is maintenable in the long run. I have multiple arrays of 'parent' classes in my application and having to modify each declaration of collections each time I add a new subType is gonna be exhausting.</p>\n\n<p>I'm pretty sure there's a very simple &amp; nice solution.</p>\n\n<p>How I load it is something like that : </p>\n\n<pre><code>users : User =  {\n    shares: \n    [\n        {\n           id:\"{123-12312312-12312}\",\n           filename:\"test.jpg\",\n           size:123123000\n        },\n        {\n           id:\"{222-2222222-22222}\",\n           filename:\"testFolder\",\n           children:[{...},{...}]\n         }\n   ]};\n</code></pre>\n\n<p>It's in a mock 'dataset' , but it doesn't compile with the error I explained above, size isn't a property of DiskElement.</p>\n\n<p>Changing User to :</p>\n\n<pre><code>export class User{\n    shares:(File|Directory)[];\n}\n</code></pre>\n\n<p>This works, and as @Jonas Wilms pointed out I could define a new union type that is File|Directory and make sure to update that type whenever I subclass DiskElement in the future, but I still feel like I'm missing something.</p>\n"}, {"tags": ["javascript", "jquery", "html", "twitter-bootstrap", "carousel"], "answers": [{"tags": [], "owner": {"reputation": 3882, "user_id": 9561918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6kphC.jpg?s=128&g=1", "display_name": "Hikarunomemory", "link": "https://stackoverflow.com/users/9561918/hikarunomemory"}, "is_accepted": true, "score": 0, "last_activity_date": 1538007624, "creation_date": 1538007624, "answer_id": 52527684, "question_id": 52526392, "link": "https://stackoverflow.com/questions/52526392/multiple-bootstrap-carousels-with-play-pause-buttons/52527684#52527684", "title": "Multiple bootstrap carousels with play/pause buttons", "body": "<p>You can use <code>closest()</code> to find the parent <code>.carousel</code> of the clicked button.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  $('.carousel').carousel({\r\n    interval: 1000,\r\n    pause: \"false\"\r\n  });\r\n  $('.carousel .carousel-controls .play').click(function() {\r\n    $(this).closest('.carousel').carousel('cycle');\r\n  });\r\n  $('.carousel .carousel-controls .pause').click(function() {\r\n    $(this).closest('.carousel').carousel('pause');\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.2/css/bootstrap.min.css\" rel=\"stylesheet\"&gt;\r\n&lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.2.0/css/bootstrap-slider.min.css\" /&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/bootstrap-slider/10.2.0/bootstrap-slider.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"content\"&gt;\r\n  &lt;div class=\"carousel slide\" id=\"carouselExampleControls\"&gt;\r\n    &lt;div class=\"carousel-controls\"&gt;\r\n      &lt;a data-slide=\"prev\" href=\"#carouselExampleControls\" role=\"button\"&gt;Previous&lt;/a&gt; &lt;a class=\"play\" href=\"#\" role=\"button\"&gt;Play&lt;/a&gt; &lt;a class=\"pause\" href=\"#\" role=\"button\"&gt;Pause&lt;/a&gt; &lt;a data-slide=\"next\" href=\"#carouselExampleControls\" role=\"button\"&gt;Next&lt;/a&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"carousel-inner\"&gt;\r\n      &lt;div class=\"carousel-item active\"&gt;&lt;img src=\"https://placeholdit.co//i/900x450?bg=d1e1d1\"&gt;&lt;/div&gt;\r\n      &lt;div class=\"carousel-item\"&gt;&lt;img src=\"https://placeholdit.co//i/900x450?bg=cccccc\"&gt;&lt;/div&gt;\r\n      &lt;div class=\"carousel-item\"&gt;&lt;img src=\"https://placeholdit.co//i/900x450?bg=d1e1d1\"&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"carousel slide\" id=\"carouselExampleControls\"&gt;\r\n    &lt;div class=\"carousel-controls\"&gt;\r\n      &lt;a data-slide=\"prev\" href=\"#carouselExampleControls\" role=\"button\"&gt;Previous&lt;/a&gt; &lt;a class=\"play\" href=\"#\" role=\"button\"&gt;Play&lt;/a&gt; &lt;a class=\"pause\" href=\"#\" role=\"button\"&gt;Pause&lt;/a&gt; &lt;a data-slide=\"next\" href=\"#carouselExampleControls\" role=\"button\"&gt;Next&lt;/a&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"carousel-inner\"&gt;\r\n      &lt;div class=\"carousel-item active\"&gt;&lt;img src=\"https://placeholdit.co//i/900x450?bg=d1e1d1\"&gt;&lt;/div&gt;\r\n      &lt;div class=\"carousel-item\"&gt;&lt;img src=\"https://placeholdit.co//i/900x450?bg=cccccc\"&gt;&lt;/div&gt;\r\n      &lt;div class=\"carousel-item\"&gt;&lt;img src=\"https://placeholdit.co//i/900x450?bg=d1e1d1\"&gt;&lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 443, "user_id": 1738343, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/cd069ec5d6ff51c683b2369cb10b75fc?s=128&d=identicon&r=PG&f=1", "display_name": "univers_", "link": "https://stackoverflow.com/users/1738343/univers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 691, "favorite_count": 0, "accepted_answer_id": 52527684, "answer_count": 1, "score": 2, "last_activity_date": 1560499113, "creation_date": 1537998095, "question_id": 52526392, "link": "https://stackoverflow.com/questions/52526392/multiple-bootstrap-carousels-with-play-pause-buttons", "title": "Multiple bootstrap carousels with play/pause buttons", "body": "<p>How can I modify the below code so that the play/pause buttons apply only to a single carousel? I would like them both be independent. Is there someway to link the click function with the parent container?</p>\n\n<p>JS:</p>\n\n<pre><code>$(function () {\n       $('.carousel').carousel({\n           interval: 1000,\n           pause: \"false\"\n       });\n       $('.carousel .carousel-controls .play').click(function () {\n           $('.carousel').carousel('cycle');\n       });\n       $('.carousel .carousel-controls .pause').click(function () {\n           $('.carousel').carousel('pause');\n       });\n    });\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div id=\"content\"&gt;\n    &lt;div class=\"carousel slide\" id=\"carouselExampleControls\"&gt;\n        &lt;div class=\"carousel-controls\"&gt;\n            &lt;a data-slide=\"prev\" href=\"#carouselExampleControls\" role=\"button\"&gt;Previous&lt;/a&gt; &lt;a class=\"play\" href=\"#\" role=\"button\"&gt;Play&lt;/a&gt; &lt;a class=\"pause\" href=\"#\" role=\"button\"&gt;Pause&lt;/a&gt; &lt;a data-slide=\"next\" href=\"#carouselExampleControls\" role=\"button\"&gt;Next&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"carousel-inner\"&gt;\n            &lt;div class=\"carousel-item active\"&gt;&lt;img src=\"https://placeholdit.co//i/900x450?bg=d1e1d1\"&gt;&lt;/div&gt;\n            &lt;div class=\"carousel-item\"&gt;&lt;img src=\"https://placeholdit.co//i/900x450?bg=cccccc\"&gt;&lt;/div&gt;\n            &lt;div class=\"carousel-item\"&gt;&lt;img src=\"https://placeholdit.co//i/900x450?bg=d1e1d1\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;div class=\"carousel slide\" id=\"carouselExampleControls\"&gt;\n        &lt;div class=\"carousel-controls\"&gt;\n            &lt;a data-slide=\"prev\" href=\"#carouselExampleControls\" role=\"button\"&gt;Previous&lt;/a&gt; &lt;a class=\"play\" href=\"#\" role=\"button\"&gt;Play&lt;/a&gt; &lt;a class=\"pause\" href=\"#\" role=\"button\"&gt;Pause&lt;/a&gt; &lt;a data-slide=\"next\" href=\"#carouselExampleControls\" role=\"button\"&gt;Next&lt;/a&gt;\n        &lt;/div&gt;\n        &lt;div class=\"carousel-inner\"&gt;\n            &lt;div class=\"carousel-item active\"&gt;&lt;img src=\"https://placeholdit.co//i/900x450?bg=d1e1d1\"&gt;&lt;/div&gt;\n            &lt;div class=\"carousel-item\"&gt;&lt;img src=\"https://placeholdit.co//i/900x450?bg=cccccc\"&gt;&lt;/div&gt;\n            &lt;div class=\"carousel-item\"&gt;&lt;img src=\"https://placeholdit.co//i/900x450?bg=d1e1d1\"&gt;&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "typescript", "vue.js", "vuejs2", "es6-modules"], "answers": [{"comments": [{"owner": {"reputation": 3909, "user_id": 2321515, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/4288126d574a1c7aa64045b3ced1f266?s=128&d=identicon&r=PG", "display_name": "Artur Grigio", "link": "https://stackoverflow.com/users/2321515/artur-grigio"}, "edited": false, "score": 2, "creation_date": 1538000374, "post_id": 52526440, "comment_id": 91993281, "body": "I found one gotcha: <code>Foo</code> has to be the <b>default export</b>, otherwise the other components won&#39;t see it."}], "tags": [], "owner": {"reputation": 15831, "user_id": 203371, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/IFBUC.jpg?s=128&g=1", "display_name": "Ben Smith", "link": "https://stackoverflow.com/users/203371/ben-smith"}, "is_accepted": true, "score": 12, "last_activity_date": 1538000962, "last_edit_date": 1538000962, "creation_date": 1537998350, "answer_id": 52526440, "question_id": 52526377, "link": "https://stackoverflow.com/questions/52526377/how-to-export-multiple-objects-from-a-vue-file/52526440#52526440", "title": "How to export multiple objects from a .vue file", "body": "<p>In your vue file write:</p>\n\n<pre><code>class Foo extends Vue {\n    foo: string = \"foo\";\n}\n\nconst Bar = { bar: \"bar\" };\n\nexport { Bar };\nexport default Foo;\n</code></pre>\n\n<p>You will then be able to import these using:</p>\n\n<pre><code>import Foo, { Bar } from 'FooBar.vue';\n</code></pre>\n\n<p>More detailed information on how export works can be found <a href=\"https://developer.mozilla.org/en-US/docs/web/javascript/reference/statements/export\" rel=\"noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 3909, "user_id": 2321515, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/4288126d574a1c7aa64045b3ced1f266?s=128&d=identicon&r=PG", "display_name": "Artur Grigio", "link": "https://stackoverflow.com/users/2321515/artur-grigio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6095, "favorite_count": 1, "accepted_answer_id": 52526440, "answer_count": 1, "score": 8, "last_activity_date": 1538000962, "creation_date": 1537998013, "last_edit_date": 1537998521, "question_id": 52526377, "link": "https://stackoverflow.com/questions/52526377/how-to-export-multiple-objects-from-a-vue-file", "title": "How to export multiple objects from a .vue file", "body": "<p>I'm using <code>typescript</code> with Vue. And for this specific use case, I'd like to export multiple items from my <code>.vue</code> file. Like this:</p>\n\n<p>// FooBar.vue</p>\n\n<pre><code>&lt;template&gt;\n    ...\n&lt;/template&gt;\n\nexport class Foo extends Vue {\n    foo: string = \"foo\";\n}\n\nexport const Bar = {bar: \"bar\"};\n</code></pre>\n\n<p>And then import them like this:</p>\n\n<p>// Baz.vue</p>\n\n<pre><code>import { Foo, Bar } from 'FooBar.vue';\n\n@Components({ components: { Foo }})\n... // rest of the code\n</code></pre>\n\n<p><strong>Is there a way to export multiple objects from a <code>.vue</code> file in Vue?</strong></p>\n"}, {"tags": ["javascript", "swift", "github"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 2, "creation_date": 1537998044, "post_id": 52526307, "comment_id": 91992581, "body": "Don&#39;t use a JavaScript file, use a JSON file. In your Swift app, open the file, parse it and read the keys."}], "answers": [{"tags": [], "owner": {"reputation": 4768, "user_id": 5140471, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db4aee540fe38f3f025abda3fc6c80c5?s=128&d=identicon&r=PG&f=1", "display_name": "RPatel99", "link": "https://stackoverflow.com/users/5140471/rpatel99"}, "is_accepted": true, "score": 0, "last_activity_date": 1540191288, "last_edit_date": 1540191288, "creation_date": 1538017528, "answer_id": 52528813, "question_id": 52526307, "link": "https://stackoverflow.com/questions/52526307/using-a-javascript-file-to-store-an-api-key-needed-in-an-xcode-project/52528813#52528813", "title": "Using a javascript file to store an API key needed in an Xcode project", "body": "<p>I did what Chris G commented and created a JSON file, which I opened and parsed in my App Delegate. It worked.</p>\n\n<p>FYI, don't forget to go to do <code>Project &gt; Build Phases &gt; Copy Bundle Resources &gt; +</code>\nin order to add the JSON file to your bundle so you can access it.</p>\n"}], "owner": {"reputation": 4768, "user_id": 5140471, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/db4aee540fe38f3f025abda3fc6c80c5?s=128&d=identicon&r=PG&f=1", "display_name": "RPatel99", "link": "https://stackoverflow.com/users/5140471/rpatel99"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 80, "favorite_count": 0, "accepted_answer_id": 52528813, "answer_count": 1, "score": 0, "last_activity_date": 1540191288, "creation_date": 1537997576, "last_edit_date": 1540189748, "question_id": 52526307, "link": "https://stackoverflow.com/questions/52526307/using-a-javascript-file-to-store-an-api-key-needed-in-an-xcode-project", "title": "Using a javascript file to store an API key needed in an Xcode project", "body": "<p>I recently made an iOS app I programmed with Swift public on github, and realized that my API key is in the project, and now visible to anyone. I used this <a href=\"https://gist.github.com/derzorngottes/3b57edc1f996dddcab25\" rel=\"nofollow noreferrer\">link</a> to solve my problem, and it says to create a config.js file that contains my API Keys in it, and then access those and store them in variables in the file that needs the key, but it seems that the example is for an HTML file, and I do not know how to do step 4 for my situation (the API key is needed in my app's AppDelegate.swift file). Eventually the config.js file will be placed in a .gitignore file.</p>\n\n<p>If anyone has a better way for me to hide my API key from github without completely removing the AppDelegate.swift file from github, I am open to other suggestions.</p>\n"}, {"tags": ["javascript", "html", "web-worker"], "answers": [{"tags": [], "owner": {"reputation": 3582, "user_id": 2515275, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/d4459ef3a4b5b412f0aaa199bf0798d9?s=128&d=identicon&r=PG", "display_name": "Benny Powers", "link": "https://stackoverflow.com/users/2515275/benny-powers"}, "is_accepted": true, "score": 1, "last_activity_date": 1537998134, "creation_date": 1537998134, "answer_id": 52526396, "question_id": 52526306, "link": "https://stackoverflow.com/questions/52526306/could-worker-postmessage-and-worker-onmessage-be-called-from-inside-different-ja/52526396#52526396", "title": "Could worker.postmessage and worker.onmessage be called from inside different java script files, to use one worker.js?", "body": "<p>You could assign the worker to a global variable and access it from any script</p>\n\n<pre><code>window.myWorker = new Worker('worker.js')\n</code></pre>\n\n<p>Which you would access in some other script with </p>\n\n<pre><code>window.myWorker.postMessage('hi there')\n</code></pre>\n\n<p>Or, even better, you could define the worker in a module</p>\n\n<pre><code>export const worker = new Worker('worker.js')\n</code></pre>\n\n<p>and in modules, import it</p>\n\n<pre><code>&lt;script type=\"module\"&gt;\n  import { worker } from './worker-module.js'\n  worker.postMessage('hi there')\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 60, "user_id": 9028126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5658f52953ee4b03be01ddd1a1e9aab9?s=128&d=identicon&r=PG&f=1", "display_name": "SAG", "link": "https://stackoverflow.com/users/9028126/sag"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 52526396, "answer_count": 1, "score": 0, "last_activity_date": 1537998134, "creation_date": 1537997572, "question_id": 52526306, "link": "https://stackoverflow.com/questions/52526306/could-worker-postmessage-and-worker-onmessage-be-called-from-inside-different-ja", "title": "Could worker.postmessage and worker.onmessage be called from inside different java script files, to use one worker.js?", "body": "<p>I am new in Java script, and have recently learned about Web Workers, which are basically the solution to multi-threading in Java Script. In all the examples I found, they used both posting a message and receiving the response message from a web worker file in the same js file. My question is, could I start the execution of a web worker inside one java script file and then receive the result of it on another location in a separate java script file like the example below:</p>\n\n<pre><code>//start.js\n  function startWebWorker()\n  {  \n    var message = \"execute\";\n    var myWorker = new Worker(\"worker.js\");\n\n     myWorker.postMessage(message);\n }\n\n //worker.js\nthis.onmessage = function(e)\n{\n  if (e.data == \"execute\")\n  var result ;\n   result = doSomething();\n  this.postMessage(result);\n\n}\n\n//receive.js\n\nfunction processResult(){\nvar myWorker = new Worker(\"worker.js\");  \n   myWorker.onmessage = function(e)\n   document.setElementById(\"myresult\") = e.result;\n\n }\n</code></pre>\n"}, {"tags": ["javascript", "session-storage"], "answers": [{"comments": [{"owner": {"reputation": 1370, "user_id": 673846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GqAVW.png?s=128&g=1", "display_name": "Rockin4Life33", "link": "https://stackoverflow.com/users/673846/rockin4life33"}, "reply_to_user": {"reputation": 642, "user_id": 8440759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be909d76ccff1fc7507e34214470f49b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Archer", "link": "https://stackoverflow.com/users/8440759/steve-archer"}, "edited": false, "score": 1, "creation_date": 1537998132, "post_id": 52526364, "comment_id": 91992612, "body": "LOL! Upvoted for beating me by 20 seconds; same as @SteveArcher. This is a good answer and the same as I would have suggested."}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "reply_to_user": {"reputation": 642, "user_id": 8440759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be909d76ccff1fc7507e34214470f49b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Archer", "link": "https://stackoverflow.com/users/8440759/steve-archer"}, "edited": false, "score": 1, "creation_date": 1537998235, "post_id": 52526364, "comment_id": 91992642, "body": "@SteveArcher sorry. Next time, maybe!"}, {"owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "reply_to_user": {"reputation": 1370, "user_id": 673846, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/GqAVW.png?s=128&g=1", "display_name": "Rockin4Life33", "link": "https://stackoverflow.com/users/673846/rockin4life33"}, "edited": false, "score": 0, "creation_date": 1537998277, "post_id": 52526364, "comment_id": 91992654, "body": "@Anovative Ditto."}, {"owner": {"reputation": 753, "user_id": 3847075, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a3eb1bbc668e8b1c8624a851a3968515?s=128&d=identicon&r=PG&f=1", "display_name": "Galactic Ranger", "link": "https://stackoverflow.com/users/3847075/galactic-ranger"}, "edited": false, "score": 0, "creation_date": 1537999153, "post_id": 52526364, "comment_id": 91992920, "body": "Thank you both for you time , makes sense and worked great."}], "tags": [], "owner": {"reputation": 28403, "user_id": 9867451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hqqWe.jpg?s=128&g=1", "display_name": "ibrahim mahrir", "link": "https://stackoverflow.com/users/9867451/ibrahim-mahrir"}, "is_accepted": true, "score": 5, "last_activity_date": 1537998026, "last_edit_date": 1537998026, "creation_date": 1537997937, "answer_id": 52526364, "question_id": 52526292, "link": "https://stackoverflow.com/questions/52526292/setting-nested-object-value-in-session-storage/52526364#52526364", "title": "Setting nested object value in session storage", "body": "<p>You can't do it like that. You have to retrieve the whole object, parse it, change what you want and then put it back into the storage:</p>\n\n<pre><code>var projectInfo = JSON.parse(sessionStorage.getItem('projectInfo'));\nprojectInfo.project1.name = 'Student Fund raiser';\nsessionStorage.setItem('projectInfo', JSON.stringify(projectInfo));\n</code></pre>\n\n<p><strong>Note:</strong> You might as well check if <code>sessionStorage.getItem</code> returns something in case the object is not stored yet.</p>\n"}, {"tags": [], "owner": {"reputation": 642, "user_id": 8440759, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be909d76ccff1fc7507e34214470f49b?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Archer", "link": "https://stackoverflow.com/users/8440759/steve-archer"}, "is_accepted": false, "score": 1, "last_activity_date": 1537997961, "creation_date": 1537997961, "answer_id": 52526371, "question_id": 52526292, "link": "https://stackoverflow.com/questions/52526292/setting-nested-object-value-in-session-storage/52526371#52526371", "title": "Setting nested object value in session storage", "body": "<p>You can't change the value of the nested item while it's stringified (Well, I suppose you theoretically could by parsing the string yourself somehow, but that sounds like a real chore). I think the best approach is to retrieve the string, parse it back to a JS object, set the value, re-stringify it, then store it.</p>\n\n<pre><code>var projectString = sessionStorage.getItem('projectInfo')\nvar projectObject = JSON.parse(projectString)\nprojectObject.project1.name = 'Student Fund raiser'\nsessionStorage.setItem(JSON.stringify(projectObject))\n</code></pre>\n"}], "owner": {"reputation": 753, "user_id": 3847075, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a3eb1bbc668e8b1c8624a851a3968515?s=128&d=identicon&r=PG&f=1", "display_name": "Galactic Ranger", "link": "https://stackoverflow.com/users/3847075/galactic-ranger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1327, "favorite_count": 1, "accepted_answer_id": 52526364, "answer_count": 2, "score": 5, "last_activity_date": 1537998026, "creation_date": 1537997482, "question_id": 52526292, "link": "https://stackoverflow.com/questions/52526292/setting-nested-object-value-in-session-storage", "title": "Setting nested object value in session storage", "body": "<p>Hi everyone having a tough time updating a value that I am storing in sessionstorage. I tried a few ways to target the nested objects values with no luck. Any help would be greatly appreciated.</p>\n\n<p><strong>Object I am creating in JavaScript</strong></p>\n\n<pre><code>   var projectInfo = {\n        project1: {\n            name: 'Unique name',\n            extraCredit: true\n        }\n        project2: {\n            name: 'Unique name',\n            extraCredit: true\n        }\n    }\n</code></pre>\n\n<p><strong>How I am persisting to session</strong></p>\n\n<pre><code>sessionStorage.setItem('projectInfo', JSON.stringify(projectInfo));\n</code></pre>\n\n<p><strong>How do I target the nested project name in project info. For example</strong></p>\n\n<pre><code>sessionStorage.setItem(projectInfo.project1.name, 'Student Fund raiser')\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "drop-down-menu", "submenu"], "comments": [{"owner": {"reputation": 11, "user_id": 5465569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gl3J6.jpg?s=128&g=1", "display_name": "djc", "link": "https://stackoverflow.com/users/5465569/djc"}, "edited": false, "score": 0, "creation_date": 1538011104, "post_id": 52526266, "comment_id": 91995716, "body": "I&#39;ve updated the CSS to simplify the selectors, and added :focus to one of them. It almost works, but the issue is the menus don&#39;t disappear when you hover over other menus (so I guess I could say it works &quot;too well&quot; now lol). On a touch interface I think it would be perfect. But we still need something to hide the open menus when hovering over other menus, when an old one is still in focus (I know it seems I want my cake and eat it too -- but it&#39;s the way the Mac menus work. I&#39;m sure they have active code behind those, though, not just something like declarative CSS)..."}, {"owner": {"reputation": 11, "user_id": 5465569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gl3J6.jpg?s=128&g=1", "display_name": "djc", "link": "https://stackoverflow.com/users/5465569/djc"}, "edited": false, "score": 0, "creation_date": 1538037711, "post_id": 52526266, "comment_id": 92004984, "body": "Added a bit of messy Javascript and now it&#39;s getting closer to what I want. Still a few details to clean up, like if you leave the submenus in a certain way, the parent still disappears... Also made it so you have to click the menu bar in the first place, to make it &quot;hoverable.&quot;"}], "answers": [{"comments": [{"owner": {"reputation": 11, "user_id": 5465569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gl3J6.jpg?s=128&g=1", "display_name": "djc", "link": "https://stackoverflow.com/users/5465569/djc"}, "edited": false, "score": 0, "creation_date": 1538010633, "post_id": 52526478, "comment_id": 91995622, "body": "Thanks for the tip on :focus. I&#39;ve updated the CSS to simplify the selectors, and added :focus to one of them. It almost works, but the issue is the menus don&#39;t disappear when you hover over other menus. On a touch interface I think it would be perfect. But we still need something to hide the open menus when hovering over other menus, when an old one is still in focus (I know it seems I want my cake and eat it too -- but it&#39;s the way the Mac menus work. I&#39;m sure they have active code behind those, though, not just something like declarative CSS)..."}, {"owner": {"reputation": 2232, "user_id": 3538319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a97c1b20d0603f480dc3d86e5db9b717?s=128&d=identicon&r=PG", "display_name": "brianespinosa", "link": "https://stackoverflow.com/users/3538319/brianespinosa"}, "reply_to_user": {"reputation": 11, "user_id": 5465569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gl3J6.jpg?s=128&g=1", "display_name": "djc", "link": "https://stackoverflow.com/users/5465569/djc"}, "edited": false, "score": 0, "creation_date": 1538063563, "post_id": 52526478, "comment_id": 92021550, "body": "Ah, sorry... I did not catch that part. Technically that means you will not be able to achieve this with CSS alone even with sibling selectors.  I&#39;d recommend doing this with an <code>.active</code> class and javascript instead. Adding all of jQuery to your stack JUST for handling hover/click events and adding classes would be overkill.  Start by putting all of your active styles into the .active class that you can add onto the single menu item. That way you can trigger the menu item by adding an active class to a single DOM element."}, {"owner": {"reputation": 2232, "user_id": 3538319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a97c1b20d0603f480dc3d86e5db9b717?s=128&d=identicon&r=PG", "display_name": "brianespinosa", "link": "https://stackoverflow.com/users/3538319/brianespinosa"}, "reply_to_user": {"reputation": 11, "user_id": 5465569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gl3J6.jpg?s=128&g=1", "display_name": "djc", "link": "https://stackoverflow.com/users/5465569/djc"}, "edited": false, "score": 0, "creation_date": 1538063758, "post_id": 52526478, "comment_id": 92021656, "body": "Then you have a single class that controls your expected functionality which is easier to control with your logic in JS. A good resource to help you perform some of the abstracted things jQuery will for you is this: youmightnotneedjquery.com"}], "tags": [], "owner": {"reputation": 2232, "user_id": 3538319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a97c1b20d0603f480dc3d86e5db9b717?s=128&d=identicon&r=PG", "display_name": "brianespinosa", "link": "https://stackoverflow.com/users/3538319/brianespinosa"}, "is_accepted": false, "score": 0, "last_activity_date": 1537998677, "creation_date": 1537998677, "answer_id": 52526478, "question_id": 52526266, "link": "https://stackoverflow.com/questions/52526266/dropdown-menu-with-html-and-css-want-it-to-stay-visible-until-clicking-elsewher/52526478#52526478", "title": "Dropdown menu with html and css, want it to stay visible until clicking elsewhere", "body": "<p>You will likely have to change your markup slightly, but using the <code>:focus</code> pseudo class will probably do what you want. If you extend all of your <code>:hover</code> styles with <code>:focus</code> you will see that when you click a menu item it will stay selected. The issue though is you are clicking and giving the <code>&lt;a&gt;</code> tag focus that is inside of the <code>&lt;li&gt;</code> tag. That means you won't be able to use child selectors the same way.</p>\n\n<p>You could do one of two things to solve this:\n1) Remove the wrapping <code>&lt;li&gt;</code> tag and update your styles accordingly.\n2) Add <code>pointer-events: none</code> to the <code>&lt;a&gt;</code> tag which would effectively pass the click event to the <code>&lt;li&gt;</code> and put focus there which you could then target with styles. This also means though that if you have a <code>href</code> on the <code>&lt;a&gt;</code> tag you will technically not be able to click to navigate to it.</p>\n"}, {"comments": [{"owner": {"reputation": 11, "user_id": 5465569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gl3J6.jpg?s=128&g=1", "display_name": "djc", "link": "https://stackoverflow.com/users/5465569/djc"}, "edited": false, "score": 0, "creation_date": 1538010484, "post_id": 52526657, "comment_id": 91995592, "body": "Thanks for the idea, but the working code is flashing, and the submenus don&#39;t show up."}, {"owner": {"reputation": 652, "user_id": 4821196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZU9x.png?s=128&g=1", "display_name": "Mo&#239;ze", "link": "https://stackoverflow.com/users/4821196/mo%c3%afze"}, "reply_to_user": {"reputation": 11, "user_id": 5465569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gl3J6.jpg?s=128&g=1", "display_name": "djc", "link": "https://stackoverflow.com/users/5465569/djc"}, "edited": false, "score": 0, "creation_date": 1538027211, "post_id": 52526657, "comment_id": 91999569, "body": "You are welcome @djc I rechecked the link above and it\u2019s working correctly. Maybe you opened JSFiddle on a smartphone?"}, {"owner": {"reputation": 652, "user_id": 4821196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZU9x.png?s=128&g=1", "display_name": "Mo&#239;ze", "link": "https://stackoverflow.com/users/4821196/mo%c3%afze"}, "reply_to_user": {"reputation": 11, "user_id": 5465569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gl3J6.jpg?s=128&g=1", "display_name": "djc", "link": "https://stackoverflow.com/users/5465569/djc"}, "edited": false, "score": 0, "creation_date": 1538036475, "post_id": 52526657, "comment_id": 92004290, "body": "@djc The code was corrected, you are right, it flashes when you hove the submenu, and this was corrected by changing $( &quot;#menu li&quot; ) to: $( &quot;#menu &gt; ul &gt; li&quot; )"}, {"owner": {"reputation": 11, "user_id": 5465569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gl3J6.jpg?s=128&g=1", "display_name": "djc", "link": "https://stackoverflow.com/users/5465569/djc"}, "edited": false, "score": 0, "creation_date": 1538038680, "post_id": 52526657, "comment_id": 92005482, "body": "Hmm, still flashing for me (on Chrome/Mac), and submenus still not displaying. I&#39;m also trying to get by w/o JQuery.  I ended up adding a bit more (messy) JS, you can see the updated snippet above. Still needs work (the menu bar items lose their highlighting when you leave a menu, and if you leave a submenu in a certain way the parent disappears), but I daresay it&#39;s working smoothly for what it does so far..."}, {"owner": {"reputation": 652, "user_id": 4821196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZU9x.png?s=128&g=1", "display_name": "Mo&#239;ze", "link": "https://stackoverflow.com/users/4821196/mo%c3%afze"}, "reply_to_user": {"reputation": 11, "user_id": 5465569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gl3J6.jpg?s=128&g=1", "display_name": "djc", "link": "https://stackoverflow.com/users/5465569/djc"}, "edited": false, "score": 0, "creation_date": 1538038853, "post_id": 52526657, "comment_id": 92005575, "body": "Maybe the code was not forked correctly on JSFiddle try now: <a href=\"https://jsfiddle.net/7ysjrcL6/\" rel=\"nofollow noreferrer\">jsfiddle.net/7ysjrcL6</a> (tested on Chome / Mac too)"}, {"owner": {"reputation": 11, "user_id": 5465569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gl3J6.jpg?s=128&g=1", "display_name": "djc", "link": "https://stackoverflow.com/users/5465569/djc"}, "edited": false, "score": 1, "creation_date": 1538083783, "post_id": 52526657, "comment_id": 92030701, "body": "Yep, the flashing is fixed now. Submenus still don&#39;t show up. But I like the apparent simplicity of your approach compared with what I have now. You&#39;re being more surgical with query selectors, and you&#39;re avoiding the old-fashioned :onclick, :onhover etc on HTML elements which I am still using. I might try to retro-fit your approach into what I end up with. I think the JQuery you&#39;re using is just kind of shorthand, looks like the same things can be done with vanilla JS..."}], "tags": [], "owner": {"reputation": 652, "user_id": 4821196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fZU9x.png?s=128&g=1", "display_name": "Mo&#239;ze", "link": "https://stackoverflow.com/users/4821196/mo%c3%afze"}, "is_accepted": false, "score": 1, "last_activity_date": 1537999657, "creation_date": 1537999657, "answer_id": 52526657, "question_id": 52526266, "link": "https://stackoverflow.com/questions/52526266/dropdown-menu-with-html-and-css-want-it-to-stay-visible-until-clicking-elsewher/52526657#52526657", "title": "Dropdown menu with html and css, want it to stay visible until clicking elsewhere", "body": "<p>You can do this using javascript (in this example using jQuery):</p>\n\n<ol>\n<li>Replace your css <code>#menu li:hover&gt;ul</code> </li>\n</ol>\n\n<p>By creating a class named \"visible\":</p>\n\n<pre><code>#menu li&gt;ul.visible {\n  visibility: visible;\n  opacity: 0.95;\n  margin-left: 0px;\n  padding-left: 0px;\n}\n</code></pre>\n\n<ol start=\"2\">\n<li><p>Use JQuery </p></li>\n<li><p>Add <code>.hover()</code> to detect mouse over your menu and <code>addClass()</code> \"visible\" to the current dropdown menu (ul)</p></li>\n<li><p>Add <code>.click()</code> which will remove class \"visible\" from any dropdown menu </p></li>\n</ol>\n\n<p>Full working code at: <a href=\"https://jsfiddle.net/ha1omd2w/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/ha1omd2w/</a> </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 5465569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gl3J6.jpg?s=128&g=1", "display_name": "djc", "link": "https://stackoverflow.com/users/5465569/djc"}, "is_accepted": false, "score": 0, "last_activity_date": 1538204895, "last_edit_date": 1538204895, "creation_date": 1538204227, "answer_id": 52565951, "question_id": 52526266, "link": "https://stackoverflow.com/questions/52526266/dropdown-menu-with-html-and-css-want-it-to-stay-visible-until-clicking-elsewher/52565951#52565951", "title": "Dropdown menu with html and css, want it to stay visible until clicking elsewhere", "body": "<p>Thanks for your feedbacks. I've incorporated some of them into the version below, which I feel is starting to look reasonable. Anyone who's interested, please poke around with it and see where it's still lacking. I know it will break on older browsers [1], and I know I should be assigning the events with JavaScript rather than mixing them in the HTML with various on... tag attributes (will fix later).  But anyone who's interested please feel free to tell me where the logic or styling falls apart or where it's working harder than it needs to be...  </p>\n\n<p>[1] Although I plan to punt on doing any real work to support older browsers with this, maybe I could use one of these \"polyfills\" I hear people speaking of... or at least display a \"Not Supported\" message for non-modern browsers... </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function makeMenuBarHoverable (event)\r\n{\r\n document.querySelector('#menu').classList.add('hoverable');\r\n}\r\n\r\n\r\nfunction hideMenus(event)\r\n{ \r\n  var lis;\r\n  var obj = (event &amp;&amp; event.target);\r\n  var menu = document.querySelector('#menu');\r\n  \r\n  if (obj &amp;&amp; menu.contains(obj))\r\n  {\r\n    while (obj &amp;&amp; (!(obj.tagName == 'LI'))) obj = obj.parentNode;\r\n    var ul = obj.parentNode;\r\n    lis = ul.querySelectorAll('li');\r\n  }\r\n  else\r\n  {\r\n    lis = menu.querySelectorAll('ul li');   \r\n    menu.classList.remove('hoverable');\r\n  }\r\n\r\n  for (var i=0;i&lt;lis.length;i++)\r\n   {\r\n    var li = lis[i];\r\n    if /* ((! (li == obj)) &amp;&amp; (li.classList.contains('visible'))) */ \r\n       (! (li == obj))\r\n       li.classList.remove('visible');\r\n   }\r\n}\r\n\r\nsetTimeout(hideMenus, 10);\r\n\r\ndocument.addEventListener('click', hideMenus);\r\n\r\nfunction addVisible(event, level)\r\n{\r\n  var obj = event.target;\r\n\r\n  while (obj &amp;&amp; (obj.tagName != 'UL')) obj = obj.parentNode;\r\n  if (obj.tagName == 'UL') obj = obj.parentNode;\r\n  if ((obj.tagName == 'LI') &amp;&amp; (! (obj.classList.contains('visible'))))\r\n    obj.classList.add('visible');\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#menu, #menu ul, #menu li, #menu a\r\n{\r\n    z-index: 9;\r\n    font-family: \"Lucida Grande\", Helvetica, Arial, sans-serif;\r\n}\r\n\r\n\r\n#menu &gt;  ul\r\n{\r\n    padding: 0px 10px;\r\n    margin: 0;\r\n}\r\n\r\n#menu ul\r\n{\r\n    list-style: none;    \r\n}\r\n\r\n#menu &gt; ul &gt; li\r\n{\r\n    float: left;\r\n    position: relative;\r\n    padding-left: 3px; \r\n    padding-right: 3px;\r\n    width: auto;\r\n    margin-left: 0px; \r\n}\r\n\r\n#menu ul ul li\r\n{\r\n    padding-left: 15px;\r\n    padding-right: 15px;\r\n    white-space: nowrap;\r\n}\r\n\r\n#menu ul ul li a\r\n{\r\n    display: flex;\r\n    flex-direction: row;\r\n    align-items: center;\r\n}\r\n\r\n#menu  ul li\r\n{\r\n    outline: none;\r\n}\r\n\r\n#menu a\r\n{\r\n    display: block;\r\n    text-decoration: none;\r\n    padding: 5px 5px;\r\n    color: rgb(68, 68, 68);\r\n}\r\n\r\n\r\n#menu &gt;  ul ul\r\n{\r\n    position: absolute;\r\n    background: rgb(240, 240, 240);\r\n    left: 0;\r\n    top: 100%;\r\n    visibility: hidden;\r\n    opacity: 0.95;\r\n    font-size: 15px;\r\n    box-shadow: 0 3px 5px rgba(0,0,0,0.12), 0 3px 5px rgba(0,0,0,0.24); \r\n    border-bottom-left-radius: 5px;\r\n    border-bottom-right-radius: 5px;\r\n    margin-left: 0px;\r\n}\r\n\r\n#menu &gt; ul ul ul\r\n{\r\n    left: 100%;\r\n    top: -3px;\r\n    border-top-left-radius: 5px;\r\n    border-top-right-radius: 5px;\r\n}\r\n\r\n#menu &gt; ul  ul &gt; li:last-child\r\n{\r\n    margin-bottom: 3px;\r\n}\r\n\r\n#menu &gt; ul  ul &gt; li:first-child\r\n{\r\n    margin-top: 3px;\r\n}\r\n\r\n\r\n#menu ul ul hr\r\n{\r\n    border: 1px solid rgb(201, 201, 201); \r\n    margin: 0px -15px;\r\n}\r\n\r\n#menu li &gt; ul\r\n{\r\n    margin-left: 0px;\r\n    padding-left: 0px;\r\n}\r\n\r\n#menu &gt; ul ul li\r\n{\r\n    position: relative;\r\n}\r\n\r\n#menu &gt; ul &gt; li, #menu &gt; ul &gt; li &gt; a\r\n{\r\n    background:  rgb(219, 230, 250); !important;\r\n}\r\n\r\n\r\n#menu ul li ul li &gt; a,\r\n#menu ul li ul li\r\n{\r\n    background: rgb(240, 240, 240);\r\n    color: rgb(68, 68, 68);\r\n}\r\n\r\n#menu  ul li.visible &gt; a,\r\n#menu  ul li.visible, \r\n#menu.hoverable  ul li:hover &gt; a,\r\n#menu.hoverable  ul li:hover\r\n{\r\n    color: rgb(240, 240, 240)  !important;\r\n    background: rgb(0, 144, 248)  !important;\r\n}\r\n\r\n#menu ul li ul .li-selected\r\n{\r\n    color: #407af2;\r\n}\r\n\r\n\r\n#menu.hoverable ul li.visible &gt; ul,\r\n#menu.hoverable ul li:hover &gt; ul\r\n{\r\n    visibility: visible;\r\n}\r\n\r\n.li-heading, #menu.hoverable .li-heading:hover\r\n{\r\n    background: rgb(240, 240, 240);\r\n    color: rgb(68, 68, 68);\r\n    padding: 5px 5px;\r\n    padding-right: 10px;\r\n    font-weight: bold;\r\n}\r\n\r\n.fa-check\r\n{\r\n    padding-right: 5px;\r\n}\r\n\r\n.menu-right-icon\r\n{\r\n    margin-left: auto;\r\n    padding-left: 12px;\r\n    transform: scale(1.8,1.0);\r\n}\r\n\r\n\r\nhtml {\r\n height: 100%;\r\n}\r\n\r\nbody {\r\n height: 100%;\r\n margin: 0;\r\n}\r\n\r\n.grid {\r\n display: grid;\r\n grid-gap: 1px;\r\n height: 100%;\r\n background-color: #aaa;\r\n font-family: \"helvetica Neue\", Helvetica, Arial, sans-serif;\r\n grid-template-columns: 1fr;\r\n grid-template-rows: auto minmax(15px, auto) 1fr 1fr;\r\n grid-template-areas: \"menu\" \"tree\" \"inspector\" \"viewport\";\r\n}\r\n\r\n@media (min-width: 700px) {\r\n .grid {\r\n     /* grid-template-columns: minmax(auto, min-content)  minmax(auto, min-content)  minmax(auto, 100%); */\r\n     /* grid-template-columns: minmax(auto, min-content) minmax(10px, 20px) minmax(auto, 100%); */\r\n /* grid-template-columns: minmax(auto, min-content) minmax(auto, 100%);  */\r\n grid-template-columns: minmax(auto, 20%)  minmax(auto, 100%);  \r\n     grid-template-rows: auto minmax(auto, min-content) minmax(auto, 100%);\r\n     grid-template-areas:     \"menu menu \"\r\n                  \"tree viewport\"\r\n                              \"inspector viewport\";\r\n }\r\n}\r\n\r\n.menu {\r\n grid-area: menu;\r\n background: rgb(219, 230, 250);\r\n z-index: 9;\r\n font-size: 15px;\r\n}\r\n\r\n.menu-image {\r\n width: 16px;\r\n height: 15px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;&lt;html lang=\"en\"&gt;&lt;head&gt;&lt;title&gt;Genworks GDL - assembly&lt;/title&gt;&lt;meta charset=\"UTF-8\" /&gt;&lt;link rel=\"icon\" type=\"image/x-icon\" href=\"/static/gwl/images/favicon.ico\" /&gt;&lt;div id=\"KDpzdGFuZGFyZC1qYXZhc2NyaXB0LXNlY3Rpb24p\"&gt;\r\n&lt;link id=\"fontawesome-css\" rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.3.1/css/all.css\" integrity=\"sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU\" crossorigin=\"anonymous\" /&gt;&lt;/div&gt;&lt;/head&gt;&lt;body&gt;\r\n&lt;div class=\"grid\"&gt;\r\n  &lt;div id=\"menu-cell\" class=\"cell menu\"&gt;&lt;div id=\"KDptZW51KQ\"&gt;\r\n&lt;nav id=\"menu\"&gt;\r\n&lt;ul id=\"menu\"&gt;\r\n&lt;li id=\"(the :logo)\" tabindex=\"0\" onmouseover=\"hideMenus(event);\" onclick=\"makeMenuBarHoverable(event);\"&gt;\r\n  &lt;a href=\"#\" id=\"a (the :logo)\"&gt;&lt;img class=\"menu-image\" src=\"https://genworks.com/static/gwl/images/logo.png\" alt=\"G\" /&gt;\r\n  &lt;/a&gt;\r\n&lt;ul id=\"(the :logo)\" onmouseover=\"addVisible(event, 1);\"&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\" class=\"li-selected\"&gt;&lt;i class=\"fas fa-check\"&gt;&lt;/i&gt; Development&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;li id=\"(the :file)\" tabindex=\"0\" onmouseover=\"hideMenus(event);\" onclick=\"makeMenuBarHoverable(event);\"&gt;\r\n  &lt;a href=\"#\" id=\"a (the :file)\"&gt;File\r\n  &lt;/a&gt;\r\n&lt;ul id=\"(the :file)\" onmouseover=\"addVisible(event, 1);\"&gt;\r\n&lt;li onmouseover=\"hideMenus(event);\"&gt;\r\n  &lt;a href=\"#\"&gt;New\r\n  &lt;/a&gt;\r\n&lt;/li&gt;\r\n&lt;li onmouseover=\"hideMenus(event);\"&gt;\r\n  &lt;a href=\"#\"&gt;Open\r\n  &lt;/a&gt;\r\n&lt;/li&gt;\r\n&lt;li onmouseover=\"hideMenus(event);\"&gt;\r\n  &lt;a href=\"#\"&gt;Save\r\n  &lt;/a&gt;\r\n&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;li id=\"(the :edit)\" tabindex=\"0\" onmouseover=\"hideMenus(event);\" onclick=\"makeMenuBarHoverable(event);\"&gt;\r\n  &lt;a href=\"#\" id=\"a (the :edit)\"&gt;Edit\r\n  &lt;/a&gt;\r\n&lt;ul id=\"(the :edit)\" onmouseover=\"addVisible(event, 1);\"&gt;\r\n&lt;li onmouseover=\"hideMenus(event);\"&gt;\r\n  &lt;a href=\"#\"&gt;Color\r\n  &lt;/a&gt;\r\n&lt;/li&gt;\r\n&lt;li onmouseover=\"hideMenus(event);\"&gt;\r\n  &lt;a href=\"#\"&gt;Line Thickness\r\n  &lt;/a&gt;\r\n&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;li id=\"(the :tree)\" tabindex=\"0\" onmouseover=\"hideMenus(event);\" onclick=\"makeMenuBarHoverable(event);\"&gt;\r\n  &lt;a href=\"#\" id=\"a (the :tree)\"&gt;Tree\r\n  &lt;/a&gt;\r\n&lt;ul id=\"(the :tree)\" onmouseover=\"addVisible(event, 1);\"&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Add Node...&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\" class=\"li-selected\"&gt;&lt;i class=\"fas fa-check\"&gt;&lt;/i&gt; Draw Node...&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Add Leaves...&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Draw Leaves...&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;li id=\"(the :view)\" tabindex=\"0\" onmouseover=\"hideMenus(event);\" onclick=\"makeMenuBarHoverable(event);\"&gt;\r\n  &lt;a href=\"#\" id=\"a (the :view)\"&gt;View\r\n  &lt;/a&gt;\r\n&lt;ul id=\"(the :view)\" onmouseover=\"addVisible(event, 1);\"&gt;\r\n&lt;li id=\"(the :view :camera-point-menu)\" tabindex=\"0\" onmouseover=\"hideMenus(event);\"&gt;\r\n  &lt;a href=\"#\" id=\"a (the :view :camera-point-menu)\"&gt;Camera Point to view from this direction\r\n&lt;span class=\"menu-right-icon\"&gt;\r\n  &lt;i class=\"fas fa-caret-right\"&gt;&lt;/i&gt;\r\n&lt;/span&gt;\r\n  &lt;/a&gt;\r\n&lt;ul id=\"(the :view :camera-point-menu)\" onmouseover=\"addVisible(event, 2);\"&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\" class=\"li-selected\"&gt;&lt;i class=\"fas fa-check\"&gt;&lt;/i&gt; Trimetric&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Top&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Front&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Left&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Bottom&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Rear&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Right&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;hr /&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Fit to View&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Clear!&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;hr /&gt;&lt;/li&gt;\r\n&lt;li id=\"(the :view :graphics-format-menu)\" tabindex=\"0\" onmouseover=\"hideMenus(event);\"&gt;\r\n  &lt;a href=\"#\" id=\"a (the :view :graphics-format-menu)\"&gt;Graphics Format \r\n&lt;span class=\"menu-right-icon\"&gt;\r\n  &lt;i class=\"fas fa-caret-right\"&gt;&lt;/i&gt;\r\n&lt;/span&gt;\r\n  &lt;/a&gt;\r\n&lt;ul id=\"(the :view :graphics-format-menu)\" onmouseover=\"addVisible(event, 2);\"&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\" class=\"li-selected\"&gt;&lt;i class=\"fas fa-check\"&gt;&lt;/i&gt; SVG&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; x3dom&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; png&lt;/a&gt;&lt;/li&gt;\r\n&lt;li id=\"(the :view :graphics-format-menu :tree-menu)\" tabindex=\"0\" onmouseover=\"hideMenus(event);\"&gt;\r\n  &lt;a href=\"#\" id=\"a (the :view :graphics-format-menu :tree-menu)\"&gt;Tree\r\n&lt;span class=\"menu-right-icon\"&gt;\r\n  &lt;i class=\"fas fa-caret-right\"&gt;&lt;/i&gt;\r\n&lt;/span&gt;\r\n  &lt;/a&gt;\r\n&lt;ul id=\"(the :view :graphics-format-menu :tree-menu)\" onmouseover=\"addVisible(event, 3);\"&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Add Node...&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\" class=\"li-selected\"&gt;&lt;i class=\"fas fa-check\"&gt;&lt;/i&gt; Draw Node...&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Add Leaves...&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Draw Leaves...&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; jpeg&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;li id=\"(the :develop)\" tabindex=\"0\" onmouseover=\"hideMenus(event);\" onclick=\"makeMenuBarHoverable(event);\"&gt;\r\n  &lt;a href=\"#\" id=\"a (the :develop)\"&gt;Develop\r\n  &lt;/a&gt;\r\n&lt;ul id=\"(the :develop)\" onmouseover=\"addVisible(event, 1);\"&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Update!&lt;/a&gt;&lt;/li&gt;&lt;li onmouseover=\"hideMenus(event);\"&gt;&lt;a href=\"#\"&gt; Set Self!&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/nav&gt;&lt;/div&gt;\r\n  &lt;/div&gt;  \r\n  &lt;/div&gt;\r\n&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 5465569, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gl3J6.jpg?s=128&g=1", "display_name": "djc", "link": "https://stackoverflow.com/users/5465569/djc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 683, "favorite_count": 1, "answer_count": 3, "score": 1, "last_activity_date": 1538204895, "creation_date": 1537997292, "last_edit_date": 1538037519, "question_id": 52526266, "link": "https://stackoverflow.com/questions/52526266/dropdown-menu-with-html-and-css-want-it-to-stay-visible-until-clicking-elsewher", "title": "Dropdown menu with html and css, want it to stay visible until clicking elsewhere", "body": "<p>I'm trying to make dropdown menus which look something like MacOS menu bar menus (see the code snippet here). They're looking and working ok so far, but the menus really should stay visible until the user clicks (or taps) somewhere on the screen. As it is currently, they become \"hidden\" again as soon as you move out of the menu. </p>\n\n<p>So far it's being done with pure HTML and CSS, but my intuition tells me this will need a sprinkling of JavaScript to achieve the effect I'm after -- but my JavaScript is still a bit lacking.  </p>\n\n<p>I think each <code>ul</code> element needs an <code>onhover</code> event which sets its visibility to <code>\"visible\"</code>, then the root window or document needs an onclick event to set everything below the first level of #menu items to <code>\"hidden\"</code>. Does anyone care to have a go at this? </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#menu {z-index: 9;\r\n       font-family: \"Lucida Grande\", Helvetica, Arial, sans-serif;}\r\n\r\n\r\n#menu &gt;  ul{\r\n    \r\n    padding: 0px 10px;\r\n    margin: 0;\r\n}\r\n\r\n\r\n#menu ul {\r\n\r\n    list-style: none;    \r\n}\r\n\r\n#menu li {\r\n    float: left;\r\n    position: relative;\r\n    padding-left: 3px; \r\n    padding-right: 3px;\r\n    width: auto;\r\n    color: rgb(68, 68, 68);\r\n    margin-left: 0px; \r\n}\r\n\r\n#menu ul ul li {\r\n    width: 150px;\r\n    padding-left: 15px;\r\n}\r\n\r\n\r\n\r\n#menu a {\r\n    display: block;\r\n    text-decoration: none;\r\n    padding: 5px 5px;\r\n    color: rgb(68, 68, 68);\r\n}\r\n\r\n\r\n#menu &gt;  ul ul {\r\n    position: absolute;\r\n    background: rgb(240, 240, 240);\r\n    left: 0;\r\n    top: 100%;\r\n    visibility: hidden;\r\n    opacity: 0.95;\r\n    font-size: 15px;\r\n    box-shadow: 0 3px 5px rgba(0,0,0,0.12), 0 3px 5px rgba(0,0,0,0.24); \r\n    border-bottom-left-radius: 5px;\r\n    border-bottom-right-radius: 5px;\r\n    margin-left: 0px;\r\n}\r\n\r\n#menu &gt; ul ul ul {\r\n    left: 100%;\r\n    top: -3px;\r\n    border-top-left-radius: 5px;\r\n    border-top-right-radius: 5px;\r\n\r\n}\r\n\r\n#menu &gt; ul  ul &gt; li:last-child {\r\n    margin-bottom: 3px;\r\n}\r\n\r\n#menu &gt; ul  ul &gt; li:first-child {\r\n    margin-top: 3px;\r\n}\r\n\r\n\r\n#menu ul ul hr\r\n{\r\n    border: 1px solid rgb(201, 201, 201); \r\n    margin: 0px -15px;\r\n    width: 165px;\r\n}\r\n\r\n\r\n#menu .li-selected\r\n{\r\n    color: #407af2;\r\n}\r\n\r\n\r\n\r\n#menu li &gt; ul {\r\n    margin-left: 0px;\r\n    padding-left: 0px;\r\n}\r\n\r\n\r\n#menu &gt; ul ul ul li, ul ul  ul li a {\r\n    background: rgb(240, 240, 240) !important;\r\n}\r\n\r\n\r\n#menu.hoverable li:hover\r\n{\r\n    background: rgb(0, 144, 248);\r\n}\r\n\r\n\r\n#menu.hoverable ul li:hover &gt; a\r\n{\r\n    color: rgb(240, 240, 240);\r\n}\r\n\r\n\r\n/* \r\n#menu.hoverable ul li:hover &gt; ul, #menu.hoverable ul li &gt; ul.visible,\r\n#menu.hoverable ul li &gt; ul &gt; li &gt; ul.visible\r\n{\r\n    visibility: visible;\r\n}\r\n*/ \r\n\r\n\r\n#menu.hoverable ul li &gt; ul.visible,\r\n#menu.hoverable ul li:hover &gt; ul,\r\nul.visible\r\n{\r\n    visibility: visible;\r\n}\r\n\r\n\r\n\r\n#menu.hoverable ul ul  ul li:hover, #menu.hoverable ul ul ul li:hover a {\r\n    background: rgb(0, 144, 248) !important;\r\n}\r\n\r\n.li-heading, #menu.hoverable .li-heading:hover {\r\n    background: rgb(240, 240, 240);\r\n    color: rgb(68, 68, 68);\r\n    padding: 5px 5px;\r\n    padding-right: 10px;\r\n    font-weight: bohttp://localhost:9000/sessions/102df527a94/index.html#ld;\r\n}\r\n\r\n\r\n.menu-right-icon\r\n{\r\n    position: absolute;\r\n    right: 10px;\r\n    transform: scale(1.8,1.0);\r\n}\r\n\r\n\r\n.nav-caret\r\n{\r\n    transform: scaleX(1.8);\r\n}\r\n\r\n\r\nhtml {\r\n    height: 100%;\r\n}\r\n\r\nbody {\r\n    height: 100%;\r\n    margin: 0;\r\n}\r\n\r\n.grid {\r\n    display: grid;\r\n    grid-gap: 1px;\r\n    height: 100%;\r\n    background-color: #aaa;\r\n    font-family: \"helvetica Neue\", Helvetica, Arial, sans-serif;\r\n    grid-template-columns: 1fr;\r\n    grid-template-rows: auto minmax(15px, auto) 1fr 1fr;\r\n    grid-template-areas: \"menu\" \"tree\" \"inspector\" \"viewport\";\r\n}\r\n\r\n@media (min-width: 700px) {\r\n    .grid {\r\n        /* grid-template-columns: minmax(auto, min-content)  minmax(auto, min-content)  minmax(auto, 100%); */\r\n        /* grid-template-columns: minmax(auto, min-content) minmax(10px, 20px) minmax(auto, 100%); */\r\n\t/* grid-template-columns: minmax(auto, min-content) minmax(auto, 100%);  */\r\n\tgrid-template-columns: minmax(auto, 20%)  minmax(auto, 100%);  \r\n        grid-template-rows: auto minmax(auto, min-content) minmax(auto, 100%);\r\n        grid-template-areas:     \"menu menu \"\r\n\t\t\t\t     \"tree viewport\"\r\n\t                             \"inspector viewport\";\r\n    }\r\n}\r\n\r\n.menu {\r\n    grid-area: menu;\r\n    background: rgb(219, 230, 250);\r\n    z-index: 9;\r\n    font-size: 15px;\r\n}\r\n\r\n.menu-image {\r\n    width: 16px;\r\n    height: 15px;\r\n}\r\n\r\n.tree {\r\n    grid-area: tree;\r\n    background: rgb(209, 209, 209);\r\n    resize: both;\r\n    overflow: auto;\r\n}\r\n\r\n#tree-root {\r\n    padding: 0 15px\r\n}\r\n\r\n.inspector {\r\n    grid-area: inspector;\r\n    font-size: 11px;\r\n    background: #f8f8f8;\r\n/*    resize: horizontal; */\r\n    overflow: auto;\r\n    z-index: 5;\r\n}\r\n\r\n.viewport {\r\n    grid-area: viewport;\r\n    background: #e8e8e8;\r\n    /* resize: both; */ \r\n    overflow: auto;\r\n    z-index: 1;\r\n}\r\n\r\n.viewport div:first-child {\r\n    text-align: center;\r\n}\r\n\r\n.growlr-tree ul {\r\n    list-style: none;\r\n    margin-left: 1em;\r\n    padding-left: 0px;\r\n}\r\n\r\n.growlr-tree li {\r\n    white-space: nowrap;\r\n    list-style: none;\r\n    margin-left: 0px;\r\n    padding-left: 0px;\r\n}\r\n\r\n\r\n\r\n\r\n.expanded,\r\n.directory,\r\n.leaf {\r\n    margin-bottom: 5px;\r\n    margin-right: 5px;\r\n}\r\n\r\n.expanded {\r\n    color: rgb(119, 119, 119);\r\n}\r\n\r\n.directory {\r\n    color: rgb(212, 113, 113);\r\n}\r\n\r\n.leaf {\r\n    color: rgb(100, 190, 104);\r\n}\r\n\r\n.inspector .heading {\r\n    font-size: 15px;\r\n    font-weight: bold;\r\n    color: rgb(82, 82, 82);\r\n}\r\n\r\n\r\n.inspector-table, .inspector-table tr, .inspector-table tr td\r\n{ \r\n    overflow: auto;\r\n    cellpadding: 0;\r\n    cellspacing: 0;\r\n    border-collapse: collapse;\r\n    text-align: left;\r\n}\r\n\r\n.inspector-table td\r\n{\r\n    border: 1px solid rgb(168, 168, 168);\r\n    padding: 3px 2px;\r\n    text-align: left;\r\n}\r\n\r\n\r\n.inspector-table td:first-child\r\n{\r\n   color: rgb(78, 78, 78);\r\n   text-align: center;\r\n}\r\n\r\n.inspector-table tr:nth-child(odd)\r\n{\r\n    background-color: rgb(233, 242, 255);\r\n}\r\n\r\n\r\n\r\n.i-t-m\r\n{\r\n    padding: 0px;\r\n    text-align: left;\r\n}\r\n\r\n.i-t-v\r\n{\r\n    padding: 0px;\r\n    text-align: left;\r\n\r\n}\r\n\r\n.i-t-v-click\r\n{\r\n    color: blue;\r\n    font-style: italic;\r\n    font-family: monospace;\r\n    cursor: pointer;\r\n    white-space: pre;\r\n}\r\n\r\n.i-t-v-unclick\r\n{\r\n    color: black;\r\n    font-family: monospace;\r\n    width: 10px;\r\n    white-space: pre;\r\n}\r\n\r\n\r\n\r\n#svg-1 path {vector-effect: non-scaling-stroke};\r\n\r\n\r\n#x3dom-1 {background: #d3d3d3;}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE HTML&gt;&lt;html lang=\"en\"&gt;&lt;head&gt;&lt;title&gt;Genworks GDL - assembly&lt;/title&gt;&lt;meta charset=\"UTF-8\" /&gt;&lt;link rel=\"icon\" type=\"image/x-icon\" href=\"/static/gwl/images/favicon.ico\" /&gt;&lt;div id=\"KDpzdGFuZGFyZC1qYXZhc2NyaXB0LXNlY3Rpb24p\"&gt;\r\n&lt;link id=\"fontawesome-css\" rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.3.1/css/all.css\" integrity=\"sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU\" crossorigin=\"anonymous\" /&gt;&lt;/div&gt;&lt;/head&gt;&lt;body&gt;\r\n&lt;div class=\"grid\"&gt;\r\n  &lt;div id=\"menu-cell\" class=\"cell menu\"&gt;&lt;div id=\"KDptZW51KQ\"&gt;&lt;script&gt;\r\n\r\n function hideMenus(event)\r\n{\r\n  var related = event.relatedTarget;\r\n  var  isInMenu = ((related) &amp;&amp; (document.querySelector('#menu').contains(related)));\r\n  if (!(isInMenu))\r\n  {\r\n  setTimeout(removeMenuHoverable, 50);\r\n  setTimeout(removeMenuVisible, 50);\r\n  }\r\n}\r\n\r\n function hideTopMenus (event)\r\n{\r\n  var obj = event.target;\r\n  var uls = document.querySelectorAll('#menu &gt; ul &gt; li &gt; ul');\r\n  for (var i = 0; i &lt; uls.length; i++)\r\n      uls[i].classList.remove('visible');\r\n}\r\n\r\n function removeMenuHoverable()\r\n  {\r\n    document.querySelector('#menu').classList.remove('hoverable');\r\n   }\r\n\r\n function removeMenuVisible ()\r\n {\r\n   var uls = document.querySelectorAll('#menu ul ul');\r\n   for (var i=0; i&lt; uls.length; i++) \r\n     uls[i].classList.remove('visible');\r\n }\r\n\r\n function addVisible(event, level)\r\n {\r\n   var obj = event.target;\r\n\r\n   if (obj.tagName == 'A')\r\n    obj = obj.parentNode.parentNode;\r\n \r\n\r\n   if (obj.tagName == 'UL')\r\n   {\r\n      obj.classList.add('visible');\r\n      var par = obj.parentNode.parentNode;\r\n      if (par.tagName == 'UL')\r\n      { par.classList.add('visible');\r\n      }\r\n      event.stopPropagation();\r\n\r\n   }\r\n}\r\n\r\n\r\n&lt;/script&gt;\r\n&lt;nav id=\"menu\"&gt;\r\n&lt;ul onmouseover=\"\r\n  hideTopMenus(event);\r\n\r\n\"&gt;\r\n&lt;li&gt;\r\n  &lt;a href=\"#\" tabindex=\"0\" onfocus=\"\r\n\r\ndocument.querySelector('#menu').classList.add('hoverable');\r\n\r\n\" onblur=\"hideMenus(event);\"&gt;&lt;img class=\"menu-image\" src=\"https://genworks.com/static/gwl/images/logo.png\" alt=\"G\" /&gt;\r\n  &lt;/a&gt;\r\n&lt;ul onmouseover=\"\r\n addVisible(event, 1);\r\n\r\n\"&gt;&lt;li&gt;&lt;a href=\"#\" class=\"li-selected\"&gt;&lt;i class=\"fas fa-check\"&gt;&lt;/i&gt; Development&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;li&gt;\r\n  &lt;a href=\"#\" tabindex=\"0\" onfocus=\"\r\n\r\ndocument.querySelector('#menu').classList.add('hoverable');\r\n\r\n\" onblur=\"hideMenus(event);\"&gt;File\r\n  &lt;/a&gt;\r\n&lt;ul onmouseover=\"\r\n addVisible(event, 1);\r\n\r\n\"&gt;\r\n&lt;li&gt;\r\n  &lt;a href=\"#\"&gt;New\r\n  &lt;/a&gt;\r\n&lt;/li&gt;\r\n&lt;li&gt;\r\n  &lt;a href=\"#\"&gt;Open\r\n  &lt;/a&gt;\r\n&lt;/li&gt;\r\n&lt;li&gt;\r\n  &lt;a href=\"#\"&gt;Save\r\n  &lt;/a&gt;\r\n&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;li&gt;\r\n  &lt;a href=\"#\" tabindex=\"0\" onfocus=\"\r\n\r\ndocument.querySelector('#menu').classList.add('hoverable');\r\n\r\n\" onblur=\"hideMenus(event);\"&gt;Edit\r\n  &lt;/a&gt;\r\n&lt;ul onmouseover=\"\r\n addVisible(event, 1);\r\n\r\n\"&gt;\r\n&lt;li&gt;\r\n  &lt;a href=\"#\"&gt;Color\r\n  &lt;/a&gt;\r\n&lt;/li&gt;\r\n&lt;li&gt;\r\n  &lt;a href=\"#\"&gt;Line Thickness\r\n  &lt;/a&gt;\r\n&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;li&gt;\r\n  &lt;a href=\"#\" tabindex=\"0\" onfocus=\"\r\n\r\ndocument.querySelector('#menu').classList.add('hoverable');\r\n\r\n\" onblur=\"hideMenus(event);\"&gt;Tree\r\n  &lt;/a&gt;\r\n&lt;ul onmouseover=\"\r\n addVisible(event, 1);\r\n\r\n\"&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Add Node...&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Draw Node...&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Add Leaves...&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Draw Leaves...&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;li&gt;\r\n  &lt;a href=\"#\" tabindex=\"0\" onfocus=\"\r\n\r\ndocument.querySelector('#menu').classList.add('hoverable');\r\n\r\n\" onblur=\"hideMenus(event);\"&gt;View\r\n  &lt;/a&gt;\r\n&lt;ul onmouseover=\"\r\n addVisible(event, 1);\r\n\r\n\"&gt;\r\n&lt;li&gt;\r\n  &lt;a href=\"#\" tabindex=\"0\"&gt;Camera Point\r\n&lt;span class=\"menu-right-icon\"&gt;\r\n  &lt;i class=\"fas fa-caret-right\"&gt;&lt;/i&gt;\r\n&lt;/span&gt;\r\n  &lt;/a&gt;\r\n&lt;ul onmouseover=\"\r\n addVisible(event, 2);\r\n\r\n\"&gt;&lt;li&gt;&lt;a href=\"#\" class=\"li-selected\"&gt;&lt;i class=\"fas fa-check\"&gt;&lt;/i&gt; Trimetric&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Top&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Front&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Left&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Bottom&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Rear&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Right&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;&lt;li&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Fit to View&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Clear!&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;/li&gt;\r\n&lt;li&gt;\r\n  &lt;a href=\"#\" tabindex=\"0\"&gt;Graphics Format\r\n&lt;span class=\"menu-right-icon\"&gt;\r\n  &lt;i class=\"fas fa-caret-right\"&gt;&lt;/i&gt;\r\n&lt;/span&gt;\r\n  &lt;/a&gt;\r\n&lt;ul onmouseover=\"\r\n addVisible(event, 2);\r\n\r\n\"&gt;&lt;li&gt;&lt;a href=\"#\"&gt; SVG&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\" class=\"li-selected\"&gt;&lt;i class=\"fas fa-check\"&gt;&lt;/i&gt; Raphael&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; x3dom&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; png&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; jpeg&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;li&gt;\r\n  &lt;a href=\"#\" tabindex=\"0\" onfocus=\"\r\n\r\ndocument.querySelector('#menu').classList.add('hoverable');\r\n\r\n\" onblur=\"hideMenus(event);\"&gt;Develop\r\n  &lt;/a&gt;\r\n&lt;ul onmouseover=\"\r\n addVisible(event, 1);\r\n\r\n\"&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Update!&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=\"#\"&gt; Set Self!&lt;/a&gt;&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/li&gt;\r\n&lt;/ul&gt;\r\n&lt;/nav&gt;&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;&lt;/body&gt;&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "node.js", "loops", "foreach"], "comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 2, "creation_date": 1537997330, "post_id": 52526248, "comment_id": 91992346, "body": "Welcome to SO! I&#39;m a bit confused by this explanation; can you provide concrete input and output, the expected transformation, and <a href=\"https://stackoverflow.com/help/how-to-ask\">what you&#39;ve tried so far</a>?"}], "answers": [{"tags": [], "owner": {"reputation": 1493, "user_id": 1711078, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/26fa53eb09e9972bb1179c171a14ac60?s=128&d=identicon&r=PG", "display_name": "dvsoukup", "link": "https://stackoverflow.com/users/1711078/dvsoukup"}, "is_accepted": false, "score": 0, "last_activity_date": 1537998163, "creation_date": 1537998163, "answer_id": 52526401, "question_id": 52526248, "link": "https://stackoverflow.com/questions/52526248/javascript-compare-int-arrays-and-calculate-difference-for-each/52526401#52526401", "title": "javascript compare int arrays and calculate difference for each", "body": "<p>Kinda confused by your question... but I'll take a stab at it.  Seems as though you're just comparing the index position of one array to another, and providing some output.  Could do something like the following:</p>\n\n<pre><code>const arr1 = [1, 15, 43];\nconst arr2 = [18, 30, 12];\n\nconst compareRanks = (oldArray, newArray) =&gt; {\n  oldArray.forEach((oldRank, index) =&gt; {\n    const newRank = newArray[index];\n    console.log(`Rank: ${newRank}(${oldRank - newRank})`);\n  });\n};\n\ncompareRanks(arr1, arr2);\n</code></pre>\n\n<p>It's worth noting this solution is fragile.  It requires both your arrays to be of equivalent size, as well as all elements are integers.  If you use this, it's best you build in some guard-rails to it otherwise it will throw an error if given incorrectly structured data.</p>\n"}, {"tags": [], "owner": {"reputation": 19, "user_id": 10481636, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ddd8e30d337bfe6d6bdd33efe4d1df97?s=128&d=identicon&r=PG&f=1", "display_name": "risingfire", "link": "https://stackoverflow.com/users/10481636/risingfire"}, "is_accepted": false, "score": 0, "last_activity_date": 1539140229, "creation_date": 1539140229, "answer_id": 52731946, "question_id": 52526248, "link": "https://stackoverflow.com/questions/52526248/javascript-compare-int-arrays-and-calculate-difference-for-each/52731946#52731946", "title": "javascript compare int arrays and calculate difference for each", "body": "<p>If my understanding is correct, you're case is given 2 arrays of integers, you want to the show the difference? </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/* given 2 arrays (of maybe non-equal length) */\r\nconst before = [10,20,30,40,50]\r\nconst after = [5,18,35,42,55,100]\r\n\r\n/* derive the data needed */\r\nconst shorterArray = before.length &lt;= after.length ? before : after\r\nconst pairs = shorterArray.map((ele, idx) =&gt; \r\n    ({\r\n      points: ele,\r\n      diff: ele - after[idx]\r\n    })\r\n  )\r\n  \r\n/* print output */\r\npairs.map(({points, diff}=x) =&gt;             // use object destructuring to separate the elements\r\n  console.log(`Rank: ${points} (${diff})`)) // print output</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 10421033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32badacc6fa61ec04a355779e0352221?s=128&d=identicon&r=PG&f=1", "display_name": "Poki Prife", "link": "https://stackoverflow.com/users/10421033/poki-prife"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1539140229, "creation_date": 1537997205, "question_id": 52526248, "link": "https://stackoverflow.com/questions/52526248/javascript-compare-int-arrays-and-calculate-difference-for-each", "title": "javascript compare int arrays and calculate difference for each", "body": "<p>I have 2 json files that get constantly modified. Their format is like this:</p>\n\n<pre><code>[ \n  { \n    \"rank\": 1,\n    \"points\": 10 \n  },\n  { \n    \"rank\": 15,\n    \"points\": 1601 \n  }\n]\n</code></pre>\n\n<p>so the amount of nested keys can be anything, in the example above there's 2.\nI looped through the files and got the values I wanted from each nested key, and put them in an array.\nso the array is like this <code>const array1 = [ \"1\", \"15\" ]</code> &amp; <code>const array2 = [ \"18\", \"5\" ]</code> etc.\nI now have 2 json files - arrays one showing the previous ranks (before modifying) and one showing the current ones.\nWhat I am trying to do is, loop through the arrays and substract the ints between them, so then I can create a string that's like this: \"Rank: 15 (-10)\" (aka will indicate if it increased or decreased and how much. But since the array can be infinitely big , I have to create a loop that will substract array1[0] with array2[0] etc.</p>\n\n<p>Don't know how, can someone help me?</p>\n"}, {"tags": ["javascript", "google-chrome", "debugging", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 663, "user_id": 2356536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rO4xS.jpg?s=128&g=1", "display_name": "Pablo De Luca", "link": "https://stackoverflow.com/users/2356536/pablo-de-luca"}, "is_accepted": true, "score": 0, "last_activity_date": 1538157192, "creation_date": 1538157192, "answer_id": 52560481, "question_id": 52526198, "link": "https://stackoverflow.com/questions/52526198/allow-extensions-using-debugger-for-chrome/52560481#52560481", "title": "Allow extensions using Debugger for Chrome", "body": "<p>I could not find how to do what I asked. But a workaround that worked for my problem is to attach the debugger to an opened instance of Chrome. </p>\n\n<p>So I can use extensions when debugging on Visual Studio Code.</p>\n\n<p>In the file <code>./.vscode/.launch.json</code> I edited the object that has <code>\"type\": \"chrome\"</code></p>\n\n<p>From:</p>\n\n<pre><code>{\n  \"type\": \"chrome\",\n  \"request\": \"launch\",\n  \"name\": \"Meteor: Chrome\",\n  \"url\": \"http://localhost:3000/\",\n  \"webRoot\": \"${workspaceFolder}\"\n},\n</code></pre>\n\n<p>To:</p>\n\n<pre><code>{\n  \"type\": \"chrome\",\n  \"request\": \"attach\",\n  \"name\": \"Meteor: Chrome\",\n  \"url\": \"http://localhost:3000/*\",\n  \"webRoot\": \"${workspaceFolder}\",\n  \"port\": 9222\n},\n</code></pre>\n\n<p>And add to the Chrome shortcut the <strong>remote-debugging-port</strong> parameter as you can see in the following image:</p>\n\n<p><a href=\"https://i.stack.imgur.com/kNutc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kNutc.png\" alt=\"Chome remote debugging port\"></a></p>\n\n<p>Once this is done, you have to open Chrome from your modified shortcut, go to the URL that you want to debug (The same that is on the URL value) and then attach the debugger on Visual Studio Code clicking on Start Debugging.</p>\n\n<p>Note that: </p>\n\n<ul>\n<li><p>The port of the JSON and the port of the Chrome shortcut must match.</p></li>\n<li><p>I edited the URL value from  <code>\"http://localhost:3000/\"</code> to  <code>\"http://localhost:3000/*\"</code>. The asterisk is because when you open your project, maybe it will redirect you to and URL like <code>\"http://localhost:3000/dashboard\"</code> or something similar. So when you try to attach the debugger it will no match. The asterisk says to the debugger that the last part of the URL could be anything. </p></li>\n</ul>\n"}], "owner": {"reputation": 663, "user_id": 2356536, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rO4xS.jpg?s=128&g=1", "display_name": "Pablo De Luca", "link": "https://stackoverflow.com/users/2356536/pablo-de-luca"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 1, "accepted_answer_id": 52560481, "answer_count": 1, "score": 1, "last_activity_date": 1538157192, "creation_date": 1537996948, "last_edit_date": 1538155090, "question_id": 52526198, "link": "https://stackoverflow.com/questions/52526198/allow-extensions-using-debugger-for-chrome", "title": "Allow extensions using Debugger for Chrome", "body": "<p>I am using the extension <strong>Debugger For Chrome</strong> on <strong>Visual Studio Code</strong> to debug JavaScript client code</p>\n\n<p>As you know, <strong>it starts a new Chrome instance, without any extension.</strong></p>\n\n<p>Is there a way to allow Chrome extensions on that instance? </p>\n"}, {"tags": ["javascript", "html", "forms", "bootstrap-modal", "required-field"], "comments": [{"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1537997542, "post_id": 52526176, "comment_id": 91992414, "body": "only one <code>form</code> tag would suffice, and it should be written like this: <code>required=&quot;required&quot;</code> or just <code>required</code> to make a form element required."}, {"owner": {"reputation": 188, "user_id": 6810435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Trdxs.jpg?s=128&g=1", "display_name": "Kevin H.", "link": "https://stackoverflow.com/users/6810435/kevin-h"}, "reply_to_user": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1537997746, "post_id": 52526176, "comment_id": 91992474, "body": "Thanks, that did seem excessive. I had in earlier instances finished my input tag with the plain <code>required &#47;&gt;</code> but it behaved the same."}], "answers": [{"comments": [{"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1537998008, "post_id": 52526295, "comment_id": 91992564, "body": "the OP didn&#39;t even tag <a href=\"https://stackoverflow.com/questions/tagged/javascript\">javascript</a> and you&#39;re giving an answer based on it ?"}, {"owner": {"reputation": 188, "user_id": 6810435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Trdxs.jpg?s=128&g=1", "display_name": "Kevin H.", "link": "https://stackoverflow.com/users/6810435/kevin-h"}, "edited": false, "score": 0, "creation_date": 1537998263, "post_id": 52526295, "comment_id": 91992649, "body": "Thanks . . . I clipped this out accidentally, but perhaps something is wrong with my submit button too? I placed it in the modal&#39;s footer: <code>&lt;div class=&quot;modal-footer&quot;&gt;                     &lt;button class=&quot;btn btn-primary&quot; id=&quot;submit&quot; type=&quot;submit&quot; value=&quot;submit&quot;&gt;Submit&lt;&#47;button&gt;                   &lt;&#47;div&gt;</code>"}, {"owner": {"reputation": 134, "user_id": 9325010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GluqC.jpg?s=128&g=1", "display_name": "Tanner Eustice", "link": "https://stackoverflow.com/users/9325010/tanner-eustice"}, "reply_to_user": {"reputation": 188, "user_id": 6810435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Trdxs.jpg?s=128&g=1", "display_name": "Kevin H.", "link": "https://stackoverflow.com/users/6810435/kevin-h"}, "edited": false, "score": 0, "creation_date": 1537998396, "post_id": 52526295, "comment_id": 91992687, "body": "@KevinHyde Ah, your right! The submit button needs to be inside the form tag as well. I updated my example \ud83d\udc4d"}], "tags": [], "owner": {"reputation": 134, "user_id": 9325010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GluqC.jpg?s=128&g=1", "display_name": "Tanner Eustice", "link": "https://stackoverflow.com/users/9325010/tanner-eustice"}, "is_accepted": true, "score": 2, "last_activity_date": 1537998359, "last_edit_date": 1537998359, "creation_date": 1537997498, "answer_id": 52526295, "question_id": 52526176, "link": "https://stackoverflow.com/questions/52526176/form-inputs-in-modal-not-showing-as-required/52526295#52526295", "title": "Form inputs in modal not showing as required", "body": "<p>Two things.</p>\n\n<ol>\n<li><p>The <code>required</code> attribute is only triggered when using the <code>submit</code> event listener. It looks like you are currently using <code>click</code>.</p></li>\n<li><p>You are wrapping each <code>input</code> in it's own form tag. You should have a single form tag wrapping all of your inputs</p></li>\n</ol>\n\n<p>Example: </p>\n\n<pre><code>&lt;div class=\"panel-body\"&gt;\n  &lt;form id=\"my-form\"&gt;\n    &lt;div class=\"form-group\"&gt;\n     &lt;label for=\"train_name\"&gt;Train Name:&lt;/label&gt; &lt;input class=\"form-control\" id=\"train_name\" required=\"\" type=\"text\"&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"origin\"&gt;Origin:&lt;/label&gt; &lt;input class=\"form-control\" id=\"origin\" required=\"\" type=\"text\"&gt;\n    &lt;/div&gt;\n    &lt;div class=\"form-group\"&gt;\n      &lt;label for=\"destination\"&gt;Destination:&lt;/label&gt; &lt;input class=\"form-control\" id=\"destination\" required=\"\" type=\"text\"&gt;\n    &lt;/div&gt;\n    &lt;button class=\"btn btn-primary\" id=\"submit\" type=\"submit\"&gt;Submit&lt;/button&gt;\n  &lt;/form&gt;\n&lt;/div&gt;\n\n\n$(\"#my-form\").on(\"submit\", function (e) {\n  //do your form submission logic here\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 188, "user_id": 6810435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Trdxs.jpg?s=128&g=1", "display_name": "Kevin H.", "link": "https://stackoverflow.com/users/6810435/kevin-h"}, "is_accepted": false, "score": 2, "last_activity_date": 1537998870, "creation_date": 1537998870, "answer_id": 52526522, "question_id": 52526176, "link": "https://stackoverflow.com/questions/52526176/form-inputs-in-modal-not-showing-as-required/52526522#52526522", "title": "Form inputs in modal not showing as required", "body": "<p>My error with regard to the <code>required</code> attribute not working was in my handling of the Submit button. \n1. it lay outside of the <code>&lt;form&gt;</code> tags it belonged in, and \n2. my Javascript was also listening for <code>on(\"click\" . . .</code> instead of <code>on(\"submit\" . . .</code></p>\n\n<p>Making those 2 changes fixed the functionality for this concern. Thanks to <a href=\"https://stackoverflow.com/users/9325010/tanner-eustice\">Tanner Eustice</a> for the help!</p>\n"}], "owner": {"reputation": 188, "user_id": 6810435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Trdxs.jpg?s=128&g=1", "display_name": "Kevin H.", "link": "https://stackoverflow.com/users/6810435/kevin-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2941, "favorite_count": 1, "accepted_answer_id": 52526295, "answer_count": 2, "score": 1, "last_activity_date": 1537998870, "creation_date": 1537996808, "last_edit_date": 1537998526, "question_id": 52526176, "link": "https://stackoverflow.com/questions/52526176/form-inputs-in-modal-not-showing-as-required", "title": "Form inputs in modal not showing as required", "body": "<p>I've read through some related articles without any luck of solving my own issue of getting form fields to appear as required. Perhaps the problem lies outside but I wanted to share in case it highlights a unique case.</p>\n\n<p>This is a class assignment viewable in entirety <a href=\"https://futurethang.github.io/Train-Scheduler/\" rel=\"nofollow noreferrer\">here</a>, it allows the user to add new trains to a schedule and update a Firebase DB. For this I used Bootstrap for the styles and also a modal pop-up that contains the form to create the new train. Everything works well, except that I cannot make the input fields required or prevent the 'submit' button.</p>\n\n<p>I've tried wrapping all the fields (within their individual divs) in a  element, as well as wrapping them each in a  (as was recommended in another post) like so: </p>\n\n<pre><code>&lt;div class=\"modal-body\"&gt;\n  &lt;div class=\"panel panel-info\"&gt;\n    &lt;div class=\"panel-body\"&gt;\n      &lt;div class=\"form-group\"&gt;\n        &lt;form&gt;\n          &lt;label for=\"train_name\"&gt;Train Name:&lt;/label&gt; &lt;input class=\"form-control\" id=\"train_name\" required=\"\" type=\"text\"&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n      &lt;div class=\"form-group\"&gt;\n        &lt;form&gt;\n          &lt;label for=\"origin\"&gt;Origin:&lt;/label&gt; &lt;input class=\"form-control\" id=\"origin\" required=\"\" type=\"text\"&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n      &lt;div class=\"form-group\"&gt;\n        &lt;form&gt;\n          &lt;label for=\"destination\"&gt;Destination:&lt;/label&gt; &lt;input class=\"form-control\" id=\"destination\" required=\"\" type=\"text\"&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;div class=\"modal-footer\"&gt;\n  &lt;button class=\"btn btn-primary\" id=\"submit\" type=\"submit\" value=\"submit\"&gt;Submit&lt;/button&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I double-checked the Doctype for HTML5 issues, but it checks out. Is my structure just wack? </p>\n"}, {"tags": ["javascript", "html", "angular", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1537998671, "post_id": 52526153, "comment_id": 91992764, "body": "hey welcome to SO. Can you share you app.module.ts? and also - are you using lazy loading for page/components or not?"}, {"owner": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "reply_to_user": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "edited": false, "score": 0, "creation_date": 1537999444, "post_id": 52526153, "comment_id": 91992995, "body": "I am using a template I found on a website so I am not sure if they did or did not and yes I can"}], "answers": [{"comments": [{"owner": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1537999368, "post_id": 52526537, "comment_id": 91992977, "body": "I get this message when I do that &quot;Error: Type GoogleCardLayout2 is part of the declarations of 2 modules: GoogleCardLayout1Module and GoogleCardLayout2Module! Please consider moving GoogleCardLayout2 to a higher module that imports GoogleCardLayout1Module and GoogleCardLayout2Module. You can also create a new NgModule that exports and includes GoogleCardLayout2 then import that NgModule in GoogleCardLayout1Module and GoogleCardLayout2Module.&quot;"}, {"owner": {"reputation": 1581, "user_id": 4171429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14ba770d2b38ffc567f3087da11353c?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim", "link": "https://stackoverflow.com/users/4171429/joakim"}, "reply_to_user": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1537999678, "post_id": 52526537, "comment_id": 91993067, "body": "ok, I didn&#39;t realize there were another module. Remove it completely from GoogleCardLayout1Module, then make sure to include it in the <code>entryComponents</code> array in GoogleCardLayout2Module (the same way as shown in my answer)."}, {"owner": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538051828, "post_id": 52526537, "comment_id": 92013657, "body": "I am sorry, remove and include what? Can you update your answer so I can view what you mean?"}, {"owner": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538052232, "post_id": 52526537, "comment_id": 92013904, "body": "And here is a screenshoot of my directory just in case you get confused <a href=\"https://gyazo.com/90e1b8795f4e38c14064dc89b4022f79\" rel=\"nofollow noreferrer\">gyazo.com/90e1b8795f4e38c14064dc89b4022f79</a>"}, {"owner": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538057597, "post_id": 52526537, "comment_id": 92017546, "body": "I did that and It&#39;s not working. Can you help me on team viewer?"}, {"owner": {"reputation": 1581, "user_id": 4171429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14ba770d2b38ffc567f3087da11353c?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim", "link": "https://stackoverflow.com/users/4171429/joakim"}, "reply_to_user": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538058971, "post_id": 52526537, "comment_id": 92018529, "body": "sorry, I&#39;m not doing teamviewer. But if you haven&#39;t lost hope yet I&#39;ll still try to help as best I can here :) Can you please update your question with your current GoogleCardLayout2Module? And if you got a different error after your changes, please include that too. Or even better, if you can create a <a href=\"https://stackblitz.com/\" rel=\"nofollow noreferrer\">StackBlitz</a> of your entire project, it would be 100x easier to help."}, {"owner": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538059755, "post_id": 52526537, "comment_id": 92019072, "body": "I add the layout 2 module and I wish I can do stackBlitz but I bought the template app so its a lot of files and I am not sure which to add and which not to"}, {"owner": {"reputation": 1581, "user_id": 4171429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14ba770d2b38ffc567f3087da11353c?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim", "link": "https://stackoverflow.com/users/4171429/joakim"}, "reply_to_user": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538064956, "post_id": 52526537, "comment_id": 92022261, "body": "Try adding GoogleCardLayout2 to the entryComponents array in your GoogleCardLayout2Module like shown in my answer."}], "tags": [], "owner": {"reputation": 1581, "user_id": 4171429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f14ba770d2b38ffc567f3087da11353c?s=128&d=identicon&r=PG&f=1", "display_name": "Joakim", "link": "https://stackoverflow.com/users/4171429/joakim"}, "is_accepted": false, "score": 0, "last_activity_date": 1538057039, "last_edit_date": 1538057039, "creation_date": 1537998947, "answer_id": 52526537, "question_id": 52526153, "link": "https://stackoverflow.com/questions/52526153/error-no-component-factory-found-for-googlecardlayout2/52526537#52526537", "title": "Error: No component factory found for GoogleCardLayout2", "body": "<p>The error means pretty much what it says - you need to add it to entryComponent in your GoogleCardLayout2Module module. Do not make any changes to your GoogleCardLayout1Module. In your GoogleCardLayout2Module, you need to include GoogleCardLayout2 like this:</p>\n\n<pre><code>// import GoogleCardLayout2 above\n@NgModule({\n    declarations: [\n        GoogleCardLayout2\n    ],\n    entryComponents: [\n        GoogleCardLayout2\n    ],\n    ...\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538052179, "post_id": 52529860, "comment_id": 92013884, "body": "I am not sure if this will work because the app.module.ts is not in the same file directory ass my &quot;googlecardlayout.ts&quot;. Here is a screenshoot of my directory and you can see &quot;app.module&quot; is in the app folder and the google card layout is under &quot;components&quot; <a href=\"https://gyazo.com/90e1b8795f4e38c14064dc89b4022f79\" rel=\"nofollow noreferrer\">gyazo.com/90e1b8795f4e38c14064dc89b4022f79</a>"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538057207, "post_id": 52529860, "comment_id": 92017304, "body": "It will work you just need to use proper import path for the layout2. Did you try it? Or do you struggle to understand what this path is?"}, {"owner": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538057743, "post_id": 52529860, "comment_id": 92017649, "body": "Yes I did. The path was correct but I still get an error. I am just giving the path to the .ts correct?"}, {"owner": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538057993, "post_id": 52529860, "comment_id": 92017834, "body": "Message I get &quot;Type GoogleCardLayout2 is part of the declarations of 2 modules: AppModule and GoogleCardLayout1Module! Please consider moving GoogleCardLayout2 to a higher module that imports AppModule and GoogleCardLayout1Module. You can also create a new NgModule that exports and includes GoogleCardLayout2 then import that NgModule in AppModule and GoogleCardLayout1Module&quot;"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538061180, "post_id": 52529860, "comment_id": 92020034, "body": "sorry I forgot to mention - after you did as in my answer you need to remove layout 2 from GoogleCardLayout1Module"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538061847, "post_id": 52529860, "comment_id": 92020502, "body": "You need to go to google-card-layout-1.module.ts and remove reference to GoogleCardLayout2 from it. You didn&#39;t share your full code so I don&#39;t know your project&#39;s structure ;/"}, {"owner": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538062042, "post_id": 52529860, "comment_id": 92020632, "body": "So would add my java-script in the module file?"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538062230, "post_id": 52529860, "comment_id": 92020739, "body": "No you just need to go the the file google-card-layout-1.module.ts and remove import statement and entryComponent for your layout 2"}, {"owner": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538062744, "post_id": 52529860, "comment_id": 92021050, "body": "I did and i get this &quot;Component GoogleCardLayout2 is not part of any NgModule or the module has not been imported into your module.&quot;"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538063699, "post_id": 52529860, "comment_id": 92021621, "body": "OK so now do you have it (GoogleCardLayout2) imported AND added as entryComponent in your app&#39;s app.module.ts. Also I realized you need to add it into &quot;declarations part as well. I will update my answer"}, {"owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "reply_to_user": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "edited": false, "score": 0, "creation_date": 1538167677, "post_id": 52529860, "comment_id": 92063444, "body": "sorry its like searching for something in a dark room. Ideally you shoud upload your code to stackblitz or something"}], "tags": [], "owner": {"reputation": 7431, "user_id": 4005366, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/b42e7e7888cd46f17946f04e8233bc77?s=128&d=identicon&r=PG&f=1", "display_name": "Sergey Rudenko", "link": "https://stackoverflow.com/users/4005366/sergey-rudenko"}, "is_accepted": false, "score": 0, "last_activity_date": 1538063792, "last_edit_date": 1538063792, "creation_date": 1538025419, "answer_id": 52529860, "question_id": 52526153, "link": "https://stackoverflow.com/questions/52526153/error-no-component-factory-found-for-googlecardlayout2/52529860#52529860", "title": "Error: No component factory found for GoogleCardLayout2", "body": "<p>So yes pretty much the issue is that you need to include your GoogleCardLayout2 component into a module. </p>\n\n<p>Looking at your code below I conclude GoogleCardLayout2 is NOT lazy loaded (since otherwise you would use 'string' vs Component in the push method:</p>\n\n<pre><code>openTestpage() {\n\n    this.navCtrl.push(GoogleCardLayout2);\n\n}\n</code></pre>\n\n<p>This means you can import this Component into your app's module and add it into the entryComponents:</p>\n\n<pre><code>import { NgModule, ErrorHandler, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { MyApp } from './app.component';\n\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\n\nimport { AppSettings } from '../services/app-settings'\nimport { ToastService } from '../services/toast-service'\nimport { LoadingService } from '../services/loading-service'\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { HttpClientModule } from '@angular/common/http';\n\n//import your non-lazy loaded module here but check the path!:\nimport { GoogleCardLayout2 } from '../layout-2/google-card-layout-2';\n\n@NgModule({\n  declarations: [\n    MyApp,\n    // also add this:\n    GoogleCardLayout2\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp(AppSettings.FIREBASE_CONFIG),\n    AngularFireDatabaseModule, AngularFireAuthModule, AngularFirestoreModule\n  ],\n  bootstrap: [IonicApp],\n  // now add your component here:\n  entryComponents: [MyApp, GoogleCardLayout2],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  providers: [\n    StatusBar, SplashScreen,\n    ToastService, LoadingService,\n    { provide: ErrorHandler, useClass: IonicErrorHandler }]\n})\nexport class AppModule {\n}\n</code></pre>\n\n<p>If you would decide to turn your GoogleCardLayout2 into a lazy loaded module, the approach will be different. You would need to create a module inside its folder first, then import that created module into GoogleCardLayout1's module. If you could share GoogleCardLayout1's module file I can help add code for that.</p>\n"}], "owner": {"reputation": 49, "user_id": 10398479, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5281b4da21eb132f25797f84290cabd4?s=128&d=identicon&r=PG&f=1", "display_name": "Waskey88", "link": "https://stackoverflow.com/users/10398479/waskey88"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 617, "favorite_count": 0, "answer_count": 2, "score": 2, "last_activity_date": 1538063792, "creation_date": 1537996677, "last_edit_date": 1538059697, "question_id": 52526153, "link": "https://stackoverflow.com/questions/52526153/error-no-component-factory-found-for-googlecardlayout2", "title": "Error: No component factory found for GoogleCardLayout2", "body": "<p>I have an Ionic 3 with Angular 6 template app and I am trying to redirect the user to another page(on click). I keep getting this error message</p>\n\n<pre><code>Uncaught (in promise): Error: No component factory found for GoogleCardLayout2. Did you add it to @NgModule.entryComponents?\nError: No component factory found for GoogleCardLayout2. Did you add it to @NgModule.entryComponents?\n    at noComponentFactoryError \n</code></pre>\n\n<p>and I am not sure what it means. In my \".ts\" file I imported the second page</p>\n\n<pre><code>import { GoogleCardLayout2 } from '../layout-2/google-card-layout-2';\n</code></pre>\n\n<p>and also set a function to push the user to the next page</p>\n\n<pre><code>openTestpage() {\n\n        this.navCtrl.push(GoogleCardLayout2);\n\n    }\n</code></pre>\n\n<p>But I just keep running into the error. Here is my html, ts and module code</p>\n\n<p><strong>HTML</strong></p>\n\n<pre><code>&lt;div watch-now text-center (click)=\"openTestpage()\"&gt;\n                    &lt;button ion-button button-icon icon-start&gt;\n                        &lt;ion-icon icon-small [name]=\"item.icon\"&gt;&lt;/ion-icon&gt;\n                        {{item.iconText}}\n                    &lt;/button&gt;\n\n                &lt;/div&gt;\n</code></pre>\n\n<p><strong>TS file</strong></p>\n\n<pre><code>import { Component, Input, ViewChild } from '@angular/core';\nimport { IonicPage, Content, NavController } from 'ionic-angular';\nimport { GoogleCardLayout2 } from '../layout-2/google-card-layout-2';\n\n@IonicPage()\n@Component({\n    selector: 'google-card-layout-1',\n    templateUrl: 'google-card.html'\n\n})\nexport class GoogleCardLayout1 {\n    @Input() data: any;\n    @Input() events: any;\n    @ViewChild(Content)\n    content: Content;\n    slider = {};\n\n\n    constructor(public navCtrl: NavController) {\n\n\n    }\n\n    openTestpage() {\n\n        this.navCtrl.push(GoogleCardLayout2);\n\n    }\n}\n</code></pre>\n\n<p><strong>Module TS file</strong></p>\n\n<pre><code>import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { GoogleCardLayout1 } from './google-card-layout-1';\n\n@NgModule({\n    declarations: [\n        GoogleCardLayout1,\n\n    ],\n    imports: [\n        IonicPageModule.forChild(GoogleCardLayout1),\n    ],\n    exports: [\n        GoogleCardLayout1\n    ],\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\n\nexport class GoogleCardLayout1Module { }\n</code></pre>\n\n<p><strong>app.module.ts</strong></p>\n\n<pre><code>import { NgModule, ErrorHandler, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { IonicApp, IonicModule, IonicErrorHandler } from 'ionic-angular';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { MyApp } from './app.component';\n\nimport { AngularFireModule } from 'angularfire2';\nimport { AngularFireDatabaseModule } from 'angularfire2/database';\nimport { AngularFirestoreModule } from 'angularfire2/firestore';\nimport { AngularFireAuthModule } from 'angularfire2/auth';\n\nimport { AppSettings } from '../services/app-settings'\nimport { ToastService } from '../services/toast-service'\nimport { LoadingService } from '../services/loading-service'\n\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { HttpClientModule } from '@angular/common/http';\n\n@NgModule({\n  declarations: [\n    MyApp\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    IonicModule.forRoot(MyApp),\n    AngularFireModule.initializeApp(AppSettings.FIREBASE_CONFIG),\n    AngularFireDatabaseModule, AngularFireAuthModule, AngularFirestoreModule\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [MyApp],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n  providers: [\n    StatusBar, SplashScreen,\n    ToastService, LoadingService,\n    { provide: ErrorHandler, useClass: IonicErrorHandler }]\n})\nexport class AppModule {\n}\n</code></pre>\n\n<p><strong>GoogleCardLayout2 Module</strong></p>\n\n<pre><code>import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { GoogleCardLayout2 } from './google-card-layout-2';\n\n@NgModule({\n    declarations: [\n        GoogleCardLayout2,\n    ],\n    imports: [\n        IonicPageModule.forChild(GoogleCardLayout2),\n    ],\n    exports: [\n        GoogleCardLayout2\n    ],\n    schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\n\nexport class GoogleCardLayout2Module { }\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 3, "creation_date": 1537996306, "post_id": 52526056, "comment_id": 91991985, "body": "Instead of using inline events like <code>onclick</code>, consider using <a href=\"https://learn.jquery.com/events/handling-events/\" rel=\"nofollow noreferrer\">event handlers</a>. After implementing them, you can use <code>$(this)</code> to refer specifically to <i>&quot;the clicked element&quot;</i>, or <code>$(&quot;selector&quot;).not(this)</code> to make it an exception."}, {"owner": {"reputation": 2946, "user_id": 2913306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9TWX.jpg?s=128&g=1", "display_name": "wahwahwah", "link": "https://stackoverflow.com/users/2913306/wahwahwah"}, "edited": false, "score": 0, "creation_date": 1537996412, "post_id": 52526056, "comment_id": 91992015, "body": "When you &quot;open&quot; an element, you want <i>only</i> that element to open, but if you click &quot;close&quot; all open elements are closed - is that your intended functionality?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537996499, "post_id": 52526056, "comment_id": 91992042, "body": "@OP you simply haven&#39;t looked at all the available tools in the toolbox. Like closest(), parent(), find(), etc."}, {"owner": {"reputation": 67, "user_id": 10000015, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wlmg_tu1uqU/AAAAAAAAAAI/AAAAAAAACxo/Z1-T2nY-X_c/photo.jpg?sz=128", "display_name": "AlexisVey", "link": "https://stackoverflow.com/users/10000015/alexisvey"}, "reply_to_user": {"reputation": 2946, "user_id": 2913306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9TWX.jpg?s=128&g=1", "display_name": "wahwahwah", "link": "https://stackoverflow.com/users/2913306/wahwahwah"}, "edited": false, "score": 0, "creation_date": 1537996624, "post_id": 52526056, "comment_id": 91992076, "body": "@wahwahwah Yes it is. What is bothering me is when I click on the right red div from #project2, it&#39;s triggering an action on the #project1 children. Do you see me on this one?"}, {"owner": {"reputation": 67, "user_id": 10000015, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wlmg_tu1uqU/AAAAAAAAAAI/AAAAAAAACxo/Z1-T2nY-X_c/photo.jpg?sz=128", "display_name": "AlexisVey", "link": "https://stackoverflow.com/users/10000015/alexisvey"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537996741, "post_id": 52526056, "comment_id": 91992119, "body": "@ChrisG You&#39;re absolutely right. The thing is that I&#39;ve no clue which one I should use to get this going. What would you do?"}, {"owner": {"reputation": 67, "user_id": 10000015, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wlmg_tu1uqU/AAAAAAAAAAI/AAAAAAAACxo/Z1-T2nY-X_c/photo.jpg?sz=128", "display_name": "AlexisVey", "link": "https://stackoverflow.com/users/10000015/alexisvey"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1537996832, "post_id": 52526056, "comment_id": 91992159, "body": "@TylerRoper Thx Tyler. Not sure to perfectly follow though. How would you write it exactly?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537997151, "post_id": 52526056, "comment_id": 91992280, "body": "@AlexisVey I&#39;d probably read the documentation, experiment, do basic debugging and so on."}, {"owner": {"reputation": 67, "user_id": 10000015, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wlmg_tu1uqU/AAAAAAAAAAI/AAAAAAAACxo/Z1-T2nY-X_c/photo.jpg?sz=128", "display_name": "AlexisVey", "link": "https://stackoverflow.com/users/10000015/alexisvey"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1537997320, "post_id": 52526056, "comment_id": 91992342, "body": "@TylerRoper lol thx for this input. Basically: &quot;I wouldn&#39;t show the world my weaknesses because people might laugh and struggle with this few lines of code&quot;. I guess the StackOverflow community is not meant to help people get things done :-)"}, {"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1538011407, "post_id": 52526056, "comment_id": 91995778, "body": "@AlexisVey Not sure what that means, perhaps I was accidentally mentioned. In any case, the resource I&#39;ve linked in my original comment should help you with how to write them."}], "answers": [{"tags": [], "owner": {"reputation": 1096, "user_id": 7090310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qMU4A.jpg?s=128&g=1", "display_name": "Rose Robertson", "link": "https://stackoverflow.com/users/7090310/rose-robertson"}, "is_accepted": false, "score": 0, "last_activity_date": 1538000374, "creation_date": 1538000374, "answer_id": 52526775, "question_id": 52526056, "link": "https://stackoverflow.com/questions/52526056/how-can-i-use-the-same-functions-on-two-separated-but-similar-elements/52526775#52526775", "title": "How can I use the same functions on two separated (but similar) elements?", "body": "<p>One issue in your code is that you have two divs with the id <code>sub_container</code> in HTML, IDs shouldn't be reused on the same page, they are meant to be a unique identifier for a single element.</p>\n\n<p>However, just changing this on its own won't solve your problem :) </p>\n\n<p><code>$(\"#sub_container\")</code> is too generic, it searches the entire DOM for an element with this ID, but what you want to do is search within the group of the div you just clicked. You could do this using <code>siblings</code>. I've updated the demo you posted to do this.</p>\n\n<p>A few changes had to be made.</p>\n\n<p>First we need to know which element was clicked. To do this I updated the link <code>onclick=\"_open()\"</code> to <code>onclick=\"_open(event)\"</code> This passes the click event when it is called and we can use that to figure out which element was clicked. (You could also use <code>this</code> to simply pass the element but since most commonly you see events being passed around I opted to go with this)</p>\n\n<p>Next we need to find the relevant sub container. That is this line:</p>\n\n<p><code>var $subContianer = $(e.currentTarget).siblings(\".sub_container\");</code></p>\n\n<p>I am using the event's currentTarget (eg the element bound on for the click) and then searching for a sibling with the class <code>sub_container</code></p>\n\n<p>To be honest your next bit of code seemed odd to me but I left it in place as-is. I think it could be done much more simply though. However I updated it to use <code>$subcontainer.find</code> to search for the divs to open instead of a generic <code>$(selector)</code> (for the same \"too generic\" reasons as before)</p>\n\n<p>I didn't update the close code, I thought it would be a good exercise for you to try these principles out and figure out that bit on your own :)</p>\n\n<p>Good luck!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function _open(e) {\r\n  var $subContianer = $(e.currentTarget).siblings(\".sub_container\");\r\n  var nextDiv = $subContianer.find(\"[class]\").map(function() {\r\n    return this.className;\r\n  }).get();\r\n  \r\n  $.unique(nextDiv).forEach(function(c) {\r\n     $subContianer.find('.' + c).first().removeClass('close').addClass('open');\r\n  });\r\n}\r\n\r\nfunction _close() {\r\n  $('.open').not('.close').each(function(key, elm) {\r\n    setTimeout(function() {\r\n      $(elm).removeClass('open').addClass('close');\r\n    }, key * 100);\r\n  });\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container {\r\n  float: left;\r\n  display: inline;\r\n}\r\n\r\n.starter {\r\n  display: block;\r\n  width: 300px;\r\n  height: 100px;\r\n  background-color: red;\r\n  margin-right: 10px;\r\n  margin-bottom: 10px;\r\n  color: white;\r\n}\r\n\r\n.open {\r\n  display: block;\r\n  width: 300px;\r\n  height: 100px;\r\n  background-color: blue;\r\n  margin-bottom: 10px;\r\n  color: white;\r\n}\r\n\r\n.close {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"project1\" class=\"container\"&gt;\r\n  &lt;div class=\"starter\" onclick=\"_open(event);\"&gt;Each click will show a new div&lt;/div&gt;\r\n  &lt;div class=\"sub_container\"&gt;\r\n    &lt;div class=\"close\"&gt;1&lt;/div&gt;\r\n    &lt;div class=\"close\"&gt;2&lt;/div&gt;\r\n    &lt;div class=\"close\"&gt;3&lt;br&gt;&lt;br&gt;&lt;button onclick=\"_close();\"&gt;click here to hide all divs&lt;/button&gt;&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div id=\"project2\" class=\"container\"&gt;\r\n  &lt;div class=\"starter\" onclick=\"_open(event);\"&gt;Each click will show a new div&lt;/div&gt;\r\n  &lt;div class=\"sub_container\"&gt;\r\n    &lt;div class=\"close\"&gt;&lt;/div&gt;\r\n    &lt;div class=\"close\"&gt;&lt;/div&gt;\r\n    &lt;div class=\"close\"&gt;&lt;button onclick=\"_close();\"&gt;click here to hide all divs&lt;/button&gt;&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In short:</p>\n\n<ul>\n<li>Pass around <code>event</code> so you can tell where a click originated</li>\n<li>Instead of searching the entire DOM via <code>$('selector here')</code> make it more specific by finding the element you want to search from and then using <code>.find</code></li>\n</ul>\n\n<p>Documentation on some of this stuff:\n<a href=\"http://api.jquery.com/find/\" rel=\"nofollow noreferrer\">http://api.jquery.com/find/</a>\n<a href=\"https://api.jquery.com/siblings/\" rel=\"nofollow noreferrer\">https://api.jquery.com/siblings/</a></p>\n"}], "owner": {"reputation": 67, "user_id": 10000015, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-wlmg_tu1uqU/AAAAAAAAAAI/AAAAAAAACxo/Z1-T2nY-X_c/photo.jpg?sz=128", "display_name": "AlexisVey", "link": "https://stackoverflow.com/users/10000015/alexisvey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1538000374, "creation_date": 1537996152, "last_edit_date": 1537996386, "question_id": 52526056, "link": "https://stackoverflow.com/questions/52526056/how-can-i-use-the-same-functions-on-two-separated-but-similar-elements", "title": "How can I use the same functions on two separated (but similar) elements?", "body": "<p>I wrote jQuery functions that show/hide divs by switching classes. The code below is basically working. What I can't manage to do is to control each div separately. Clicking on the second group of divs will trigger the 1st one. How could I distinguish each of the elements and make the same functions work for both groups independently?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function _open() {\r\n  var nextDiv = $(\"#sub_container\").find(\"[class]\").map(function() {\r\n    return this.className;\r\n  }).get();\r\n  $.unique(nextDiv).forEach(function(c) {\r\n    $('.' + c).first().removeClass('close').addClass('open');\r\n  });\r\n}\r\n\r\nfunction _close() {\r\n  $('.open').not('.close').each(function(key, elm) {\r\n    setTimeout(function() {\r\n      $(elm).removeClass('open').addClass('close');\r\n    }, key * 100);\r\n  });\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container {\r\n  float: left;\r\n  display: inline;\r\n}\r\n\r\n.starter {\r\n  display: block;\r\n  width: 300px;\r\n  height: 100px;\r\n  background-color: red;\r\n  margin-right: 10px;\r\n  margin-bottom: 10px;\r\n  color: white;\r\n}\r\n\r\n.open {\r\n  display: block;\r\n  width: 300px;\r\n  height: 100px;\r\n  background-color: blue;\r\n  margin-bottom: 10px;\r\n  color: white;\r\n}\r\n\r\n.close {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"project1\" class=\"container\"&gt;\r\n  &lt;div class=\"starter\" onclick=\"_open();\"&gt;Each click will show a new div&lt;/div&gt;\r\n  &lt;div id=\"sub_container\"&gt;\r\n    &lt;div class=\"close\"&gt;1&lt;/div&gt;\r\n    &lt;div class=\"close\"&gt;2&lt;/div&gt;\r\n    &lt;div class=\"close\"&gt;3&lt;br&gt;&lt;br&gt;&lt;button onclick=\"_close();\"&gt;click here to hide all divs&lt;/button&gt;&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div id=\"project2\" class=\"container\"&gt;\r\n  &lt;div class=\"starter\" onclick=\"_open();\"&gt;Each click will show a new div&lt;/div&gt;\r\n  &lt;div id=\"sub_container\"&gt;\r\n    &lt;div class=\"close\"&gt;&lt;/div&gt;\r\n    &lt;div class=\"close\"&gt;&lt;/div&gt;\r\n    &lt;div class=\"close\"&gt;&lt;button onclick=\"_close();\"&gt;click here to hide all divs&lt;/button&gt;&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "python", "python-requests", "fetch", "kraken.com"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1537996240, "post_id": 52525982, "comment_id": 91991971, "body": "For one, in-browser JS is subject to CORS. Requesting a resource from another domain requires the server to send header information that allows access. For now I&#39;d try and get the Postman request to work, because that&#39;s going to be easier."}, {"owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537996468, "post_id": 52525982, "comment_id": 91992031, "body": "thanks. Yes that would be easiest. Although of course, the signature and nonce are calculated dynamically so it requires copying from the terminal each time. I&#39;ve updated my question with some strange observations while testing via Postman."}], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 11404823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7nu2.png?s=128&g=1", "display_name": "salanfe", "link": "https://stackoverflow.com/users/11404823/salanfe"}, "edited": false, "score": 0, "creation_date": 1556103358, "post_id": 52532732, "comment_id": 98321376, "body": "hey ! thx for the code sample. I&#39;m trying to used it as a pre-request-script in postman but keep getting the error &quot;EGeneral:Internal error&quot; from kraken. I&#39;m calling your function with var secret = &quot;mySecretKey&quot;; var nonce = Date.now() * 1000; var path = &quot;/0/private/Balance&quot;; var request = {}; any idea ? do you have a full working example by any chance ? I would greatly appreciate :) thx"}, {"owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "reply_to_user": {"reputation": 131, "user_id": 11404823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7nu2.png?s=128&g=1", "display_name": "salanfe", "link": "https://stackoverflow.com/users/11404823/salanfe"}, "edited": false, "score": 0, "creation_date": 1556104481, "post_id": 52532732, "comment_id": 98322092, "body": "Hi @salanfe, sure, I just opensourced the Fitbit app I made. Have a look at my codebase at <a href=\"https://github.com/bluppfisk/fitbit-kraken\" rel=\"nofollow noreferrer\">github.com/bluppfisk/fitbit-kraken</a> under companion/KrakenClient.js."}, {"owner": {"reputation": 131, "user_id": 11404823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7nu2.png?s=128&g=1", "display_name": "salanfe", "link": "https://stackoverflow.com/users/11404823/salanfe"}, "edited": false, "score": 1, "creation_date": 1556112371, "post_id": 52532732, "comment_id": 98327038, "body": "thx ! problem was my nonce in the request body :/ took me a while to figure it out, but it&#39;s working"}, {"owner": {"reputation": 961, "user_id": 4592448, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-_DP3LTfLMXw/AAAAAAAAAAI/AAAAAAAAAHk/dzYHVVdXUnE/photo.jpg?sz=128", "display_name": "Fortran", "link": "https://stackoverflow.com/users/4592448/fortran"}, "reply_to_user": {"reputation": 131, "user_id": 11404823, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7nu2.png?s=128&g=1", "display_name": "salanfe", "link": "https://stackoverflow.com/users/11404823/salanfe"}, "edited": false, "score": 0, "creation_date": 1610525396, "post_id": 52532732, "comment_id": 116158155, "body": "@salanfe can u send sample postman?)"}], "tags": [], "owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "is_accepted": true, "score": 0, "last_activity_date": 1538037259, "creation_date": 1538037259, "answer_id": 52532732, "question_id": 52525982, "link": "https://stackoverflow.com/questions/52525982/invalidkey-at-kraken-api-with-js-not-with-python/52532732#52532732", "title": "InvalidKey at Kraken API with JS, not with Python", "body": "<p>Turns out it was the signature after all and Kraken simply doesn't give very accurate responses (which makes some sense, but is a pain if you're trying to figure something out). Finally I was able to rewrite the code using CryptoJS only:</p>\n\n<pre><code>const getMessageSignature = (path, request, secret, nonce) =&gt; {\n    // API-Sign = Message signature using HMAC-SHA512 of (URI path + SHA256(nonce + POST data)) and base64 decoded secret API key\n    const message = JSON.stringify(request);\n    const hash = CryptoJS.SHA256(nonce + message);\n    const secret_buffer = CryptoJS.enc.Base64.parse(secret);\n    const hmac = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA512, secret_buffer);\n    hmac.update(path, secret_buffer);\n    hmac.update(hash, secret_buffer);\n    return hmac.finalize().toString(CryptoJS.enc.Base64);\n};\n</code></pre>\n\n<p>This yields a correct signature and Kraken no longer complains. Zzah.</p>\n"}], "owner": {"reputation": 1861, "user_id": 1961574, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/184ac1de765a2428c4bbadfbf5beb517?s=128&d=identicon&r=PG&f=1", "display_name": "bluppfisk", "link": "https://stackoverflow.com/users/1961574/bluppfisk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 402, "favorite_count": 0, "accepted_answer_id": 52532732, "answer_count": 1, "score": 1, "last_activity_date": 1538037259, "creation_date": 1537995709, "last_edit_date": 1538023867, "question_id": 52525982, "link": "https://stackoverflow.com/questions/52525982/invalidkey-at-kraken-api-with-js-not-with-python", "title": "InvalidKey at Kraken API with JS, not with Python", "body": "<p>My code to get my Balance from the Kraken API does work in Python (based on the krakenex library), but not in the JS version (based loosely off the kraken-api library, but with the <code>crypto</code> library substituted for <code>crypto-js</code>). The error is always: <strong>Invalid Key</strong>.</p>\n\n<p>Even when I copy the headers and the nonce sent by the Python client into Postman, I get Invalid Key.</p>\n\n<p>I believe the signature and nonce to be valid, because when they are not, Kraken retorts that either the signature or nonce are invalid.</p>\n\n<p>Is there anything else that Javascript's <code>fetch</code> does differently than Python3 <code>requests</code>? Because the body and headers are otherwise identical.</p>\n\n<p>JS code that generates auth data:</p>\n\n<pre><code>const getMessageSignature = (path, request, secret, nonce) =&gt; {\n    // API-Sign = Message signature using HMAC-SHA512 of (URI path + SHA256(nonce + POST data)) and base64 decoded secret API key\n    const message = qs.stringify(request);\n    console.log(message);\n\n    const secret_buffer = btoa(secret);\n    const hash = CryptoJS.algo.SHA256.create();\n    const hmac = CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA512, secret_buffer);\n    const hash_digest = hash.update(nonce + message).finalize().toString(CryptoJS.enc.Hex);\n    const hmac_digest = hmac.update(path + hash_digest).finalize().toString(CryptoJS.enc.Base64);\n\n    // CANNOT USE ORIGINAL LIB CODE (Buffer, got and crypto not supported)\n    // const secret_buffer = new Buffer(secret, 'base64');\n    // const hash = new crypto.createHash('sha256');\n    // const hmac = new crypto.createHmac('sha512', secret_buffer);\n    // const hash_digest = hash.update(nonce + message).digest('binary');\n    // const hmac_digest = hmac.update(path + hash_digest, 'binary').digest('base64');\n\n    return hmac_digest;\n};\n</code></pre>\n\n<p><strong>Update:</strong>\nIn fact, the following observations are weird:</p>\n\n<ul>\n<li>correct key + correct signature = \"incorrect key\"</li>\n<li>incorrect key + correct signature = \"incorrect key\"</li>\n<li>incorrect key + incorrect signature = \"incorrect key\"</li>\n<li>correct key + incorrect signature = \"invalid signature\"</li>\n</ul>\n\n<p>what gives?</p>\n\n<p><strong>Update2</strong>\nSeems the requests are identical (other than the signature and nonce of course, which will and should change with every request).</p>\n\n<p><a href=\"https://i.stack.imgur.com/7snYe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7snYe.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "css", "reactjs"], "comments": [{"owner": {"reputation": 2232, "user_id": 3538319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a97c1b20d0603f480dc3d86e5db9b717?s=128&d=identicon&r=PG", "display_name": "brianespinosa", "link": "https://stackoverflow.com/users/3538319/brianespinosa"}, "edited": false, "score": 1, "creation_date": 1537995963, "post_id": 52525961, "comment_id": 91991876, "body": "It may be because of the content inside of your popup. If there is anything loading on your first click like a font or image, that would potentially give you a different value for offset height the first time. But this is just a guess without seeing the component and content itself."}, {"owner": {"reputation": 457, "user_id": 9778172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4df39a6415bbb6df61a855066f3c40c0?s=128&d=identicon&r=PG&f=1", "display_name": "superdee", "link": "https://stackoverflow.com/users/9778172/superdee"}, "reply_to_user": {"reputation": 2232, "user_id": 3538319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a97c1b20d0603f480dc3d86e5db9b717?s=128&d=identicon&r=PG", "display_name": "brianespinosa", "link": "https://stackoverflow.com/users/3538319/brianespinosa"}, "edited": false, "score": 0, "creation_date": 1537996502, "post_id": 52525961, "comment_id": 91992043, "body": "Added the component. And like I mentioned, I debugged the ReactDOM.findDOMNode(this).innerHTML and the HTML itself is exactly the same in both scenarios"}, {"owner": {"reputation": 92569, "user_id": 400654, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/afc1068910df4dd83c2fc3af0255af11?s=128&d=identicon&r=PG", "display_name": "Kevin B", "link": "https://stackoverflow.com/users/400654/kevin-b"}, "edited": false, "score": 0, "creation_date": 1537996554, "post_id": 52525961, "comment_id": 91992056, "body": "Which height value is correct? Where do the extra 27 pixels come from?"}, {"owner": {"reputation": 457, "user_id": 9778172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4df39a6415bbb6df61a855066f3c40c0?s=128&d=identicon&r=PG&f=1", "display_name": "superdee", "link": "https://stackoverflow.com/users/9778172/superdee"}, "edited": false, "score": 0, "creation_date": 1537996806, "post_id": 52525961, "comment_id": 91992150, "body": "The 277 is correct. But I have no idea why there are two separate numbers if the HTML and styles stay exactly the same"}, {"owner": {"reputation": 2232, "user_id": 3538319, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a97c1b20d0603f480dc3d86e5db9b717?s=128&d=identicon&r=PG", "display_name": "brianespinosa", "link": "https://stackoverflow.com/users/3538319/brianespinosa"}, "edited": false, "score": 1, "creation_date": 1537997434, "post_id": 52525961, "comment_id": 91992378, "body": "That is your JSX. Could you share the entire component, including class methods and lifecycle methods? Something is updating in the component which is causing your componentDidUpdate() lifecycle method to fire. It&#39;s possible that there is an initial state where you do not have any offers yet when the popup opens. That is my guess based on your conditional JSX."}], "owner": {"reputation": 457, "user_id": 9778172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4df39a6415bbb6df61a855066f3c40c0?s=128&d=identicon&r=PG&f=1", "display_name": "superdee", "link": "https://stackoverflow.com/users/9778172/superdee"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537996453, "creation_date": 1537995587, "last_edit_date": 1537996453, "question_id": 52525961, "link": "https://stackoverflow.com/questions/52525961/why-does-react-display-two-different-heights-for-the-same-html-does-componentdi", "title": "Why does react display two different heights for the same HTML? Does componentDidUpdate include CSS?", "body": "<p>Does react take into account CSS when  rendering height?  I have this code:</p>\n\n<pre><code>componentDidUpdate() {\n    let height = ReactDOM.findDOMNode(this).offsetHeight;\n    console.log(height);\n    sendResizePopupMessage();\n}\n</code></pre>\n\n<p>Now the first time I click the button, I get height = 250. The next time I get height 277. In both scenarios ReactDOM.findDOMNode(this).innerHTML was the exact same, what would cause it to display different heights?</p>\n\n<p>Here is my component:</p>\n\n<pre><code>&lt;div className=\"popup-container container-fluid\"&gt;\n    &lt;PopupHeader\n        status={offerStatus}\n        disabled={disabled}\n        onCloseClick={() =&gt; this.handleCloseClick()}\n        onToggleClick={() =&gt; this.handleToggleClick()}\n    /&gt;\n    {offers.length &gt; 0 &amp;&amp; this.state.shouldShowOffers &amp;&amp; (\n        &lt;PopupTable offers={offers}\n                    onClick={() =&gt; this.handleFindCheaperClick()}\n                    disableFindCheaper={this.state.disableFindCheaper}\n                    findCheaperMessage={this.state.findCheaperMessage}\n        /&gt;\n    )}\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1537995756, "post_id": 52525913, "comment_id": 91991802, "body": "Similar to how you do <code>$(window).resize(function() { ... }</code>, you can wrap whatever you want to happen on scroll with <code>$(window).scroll(function() { ... }</code>"}, {"owner": {"reputation": 375, "user_id": 10409976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91acc14383d05b02f61e8deb0fde4c56?s=128&d=identicon&r=PG&f=1", "display_name": "b.herring", "link": "https://stackoverflow.com/users/10409976/b-herring"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1537998110, "post_id": 52525913, "comment_id": 91992599, "body": "thanks that works. but i may have phrased my question wrong, i want the javascript to be activated when it is scrolled to, not just when i scroll, as the feature is far down the page, so if im at the top, by the time ive scrolled to the feature, it has already activated. @tylerRoper"}], "answers": [{"comments": [{"owner": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1537995812, "post_id": 52525966, "comment_id": 91991829, "body": "Personally I don&#39;t see this as any &quot;easier&quot;, not to mention it&#39;s a pretty bad code smell when you start mixing jQuery and vanilla JS for things like event handling."}, {"owner": {"reputation": 423, "user_id": 2381087, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ae1335961a020810431005bc1238398d?s=128&d=identicon&r=PG", "display_name": "alpharomeo", "link": "https://stackoverflow.com/users/2381087/alpharomeo"}, "reply_to_user": {"reputation": 20489, "user_id": 2026606, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/Ksr3L.jpg?s=128&g=1", "display_name": "Tyler Roper", "link": "https://stackoverflow.com/users/2026606/tyler-roper"}, "edited": false, "score": 0, "creation_date": 1537996295, "post_id": 52525966, "comment_id": 91991982, "body": "Hence the reason why I pointed the user towards the jQuery option from another SO question. It is easier in my opinion - thought including the link might put the user on a learning journey. Agree - not a good idea to mix vanilla and jQuery."}], "tags": [], "owner": {"reputation": 423, "user_id": 2381087, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ae1335961a020810431005bc1238398d?s=128&d=identicon&r=PG", "display_name": "alpharomeo", "link": "https://stackoverflow.com/users/2381087/alpharomeo"}, "is_accepted": false, "score": 0, "last_activity_date": 1537995618, "creation_date": 1537995618, "answer_id": 52525966, "question_id": 52525913, "link": "https://stackoverflow.com/questions/52525913/javascript-to-be-activate-on-page-scroll/52525966#52525966", "title": "javascript to be activate on page scroll", "body": "<p>Looks like you are using jquery - it would be easier to do this in vanilla javascript like so: </p>\n\n<pre><code>window.onscroll = function (e) {  \n// called when the window is scrolled.  \n} \n</code></pre>\n\n<p>You may want to have a look at: <a href=\"https://stackoverflow.com/questions/10605197/detect-if-user-is-scrolling\">Detect if user is scrolling</a> for jquery options.</p>\n"}, {"tags": [], "owner": {"reputation": 516, "user_id": 6932243, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/VE4ie.jpg?s=128&g=1", "display_name": "johnchar", "link": "https://stackoverflow.com/users/6932243/johnchar"}, "is_accepted": true, "score": 0, "last_activity_date": 1538001558, "creation_date": 1538001558, "answer_id": 52526943, "question_id": 52525913, "link": "https://stackoverflow.com/questions/52525913/javascript-to-be-activate-on-page-scroll/52526943#52526943", "title": "javascript to be activate on page scroll", "body": "<p>This should work:</p>\n\n<p>Replace <code>#someElement</code> with the Id of the element that when in view fires the function you want.</p>\n\n<p><code>someFunction()</code> is the function that you want to run when the element is in view</p>\n\n<pre><code>$(document).on('scroll', function() {\n    if( $(this).scrollTop() &gt;= $('#someElement').position().top ) {\n        someFunction();\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 10409976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91acc14383d05b02f61e8deb0fde4c56?s=128&d=identicon&r=PG&f=1", "display_name": "b.herring", "link": "https://stackoverflow.com/users/10409976/b-herring"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 52526943, "answer_count": 2, "score": 0, "last_activity_date": 1538001558, "creation_date": 1537995300, "question_id": 52525913, "link": "https://stackoverflow.com/questions/52525913/javascript-to-be-activate-on-page-scroll", "title": "javascript to be activate on page scroll", "body": "<p>i've got some code from codepen where a progress bar fills up depending on a given number out of 100. i want it to activate when it is scrolled to, instead of on reload, which it currently is set to. I cant find anything on here already.\nJavascript is new to me, so trying to get the hang of it, thanks</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.progress-wrap').each(function(){\r\n    percent = $(this);\r\n    bar = $(this).children('.progress-bar');\r\n    moveProgressBar(percent, bar);\r\n});\r\n\r\n  // on browser resize...\r\n  $(window).resize(function() {\r\n    $('.progress-wrap').each(function(){\r\n        percent = $(this);\r\n        bar = $(this).children('.progress-bar');\r\n        moveProgressBar(percent, bar);\r\n    });\r\n  });\r\n\r\n  // SIGNATURE PROGRESS\r\n  function moveProgressBar(percent, bar) {\r\n      var getPercent = (percent.data('progress-percent') / 100);\r\n      var getProgressWrapWidth = percent.width();\r\n      var progressTotal = getPercent * getProgressWrapWidth;\r\n      var animationLength = 1000;\r\n\r\n      // on page load, animate percentage bar to data percentage length\r\n      // .stop() used to prevent animation queueing\r\n      bar.stop().animate({\r\n          left: progressTotal\r\n      }, animationLength);\r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"progress-wrap progress star\" data-progress-percent=\"70\"&gt;\r\n   &lt;div class=\"progress-bar progress\"&gt;&lt;/div&gt;\r\n   &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "json"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 4, "creation_date": 1537995527, "post_id": 52525906, "comment_id": 91991709, "body": "Put your <code>console.log</code> statement <i>before</i> the <code>if</code> statement, not in the <code>else</code> block, to see what values the variables actually have"}, {"owner": {"reputation": 136297, "user_id": 848164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/326ca99123e4d3e9ede5831e7258c319?s=128&d=identicon&r=PG&f=1", "display_name": "undefined", "link": "https://stackoverflow.com/users/848164/undefined"}, "edited": false, "score": 1, "creation_date": 1537995975, "post_id": 52525906, "comment_id": 91991881, "body": "Note that you can also use the <code>Array.prototype.slice</code> method for cloning an array (shallow)."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1537996063, "post_id": 52525906, "comment_id": 91991914, "body": "Your logic is wrong for <code>JSON.stringify(Array4) == (JSON.stringify(Array1)) || suicidal)</code> you probably want <code>(JSON.stringify(Array4) == JSON.stringify(Array1)) || suicidal </code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1537996114, "post_id": 52525906, "comment_id": 91991933, "body": "The condition will be true after the third click."}, {"owner": {"reputation": 21, "user_id": 10420853, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fCiIuR9qjB4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX2x6XMiLPl_mds-hSvzod_X--Byw/mo/photo.jpg?sz=128", "display_name": "NoahS", "link": "https://stackoverflow.com/users/10420853/noahs"}, "edited": false, "score": 0, "creation_date": 1537996785, "post_id": 52525906, "comment_id": 91992142, "body": "console.log() says it&#39;s true the third time because that&#39;s the time it takes to cycle through the arrays by clicking,but if it was true in the if statement, it would not say it is true, but instead draw a line across the gray area because of <code>line(0, 0, width, height);</code>"}], "answers": [{"comments": [{"owner": {"reputation": 21, "user_id": 10420853, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fCiIuR9qjB4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX2x6XMiLPl_mds-hSvzod_X--Byw/mo/photo.jpg?sz=128", "display_name": "NoahS", "link": "https://stackoverflow.com/users/10420853/noahs"}, "edited": false, "score": 0, "creation_date": 1537997334, "post_id": 52526191, "comment_id": 91992347, "body": "That is correct and I changed the location of the console.log() as such, but even in this case, wouldn&#39;t the <code>if</code> branch not go into the <code>else</code>block but instead go into the <code>if(true)</code> block with the next click wich is doesnt do?"}, {"owner": {"reputation": 3019, "user_id": 3439731, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FMgxG.jpg?s=128&g=1", "display_name": "Raghav Garg", "link": "https://stackoverflow.com/users/3439731/raghav-garg"}, "edited": false, "score": 0, "creation_date": 1537997443, "post_id": 52526191, "comment_id": 91992380, "body": "No, It would take 4 clicks to get the value <code>true</code>, at first three clicks, all your array will be initiated."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1537997450, "post_id": 52526191, "comment_id": 91992382, "body": "Please don&#39;t edit the question to remove the error that my answer explains. I spent several minutes on this answer, now it makes no sense."}, {"owner": {"reputation": 21, "user_id": 10420853, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fCiIuR9qjB4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX2x6XMiLPl_mds-hSvzod_X--Byw/mo/photo.jpg?sz=128", "display_name": "NoahS", "link": "https://stackoverflow.com/users/10420853/noahs"}, "edited": false, "score": 0, "creation_date": 1537997545, "post_id": 52526191, "comment_id": 91992415, "body": "I&#39;m sorry, I&#39;ll change it back."}, {"owner": {"reputation": 21, "user_id": 10420853, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fCiIuR9qjB4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX2x6XMiLPl_mds-hSvzod_X--Byw/mo/photo.jpg?sz=128", "display_name": "NoahS", "link": "https://stackoverflow.com/users/10420853/noahs"}, "reply_to_user": {"reputation": 3019, "user_id": 3439731, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/FMgxG.jpg?s=128&g=1", "display_name": "Raghav Garg", "link": "https://stackoverflow.com/users/3439731/raghav-garg"}, "edited": false, "score": 0, "creation_date": 1537997835, "post_id": 52526191, "comment_id": 91992505, "body": "@RaghavGarg I tried to say the same thing but with the fourth click it should go if it&#39;s indeed true at that point go into the block of <code>if(true)</code> wich will not output another message in the console but instead draw a line across the gray area; right?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 21, "user_id": 10420853, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fCiIuR9qjB4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX2x6XMiLPl_mds-hSvzod_X--Byw/mo/photo.jpg?sz=128", "display_name": "NoahS", "link": "https://stackoverflow.com/users/10420853/noahs"}, "edited": false, "score": 0, "creation_date": 1537998144, "post_id": 52526191, "comment_id": 91992616, "body": "@NoahS I set a breakpoint on the <code>line(0, 0, width, height)</code> and it stopped there on the 4th click."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1537998220, "post_id": 52526191, "comment_id": 91992635, "body": "@Bergi Thanks, I&#39;ve corrected it to say that it returns the undefined value."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 21, "user_id": 10420853, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fCiIuR9qjB4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX2x6XMiLPl_mds-hSvzod_X--Byw/mo/photo.jpg?sz=128", "display_name": "NoahS", "link": "https://stackoverflow.com/users/10420853/noahs"}, "edited": false, "score": 0, "creation_date": 1537998380, "post_id": 52526191, "comment_id": 91992680, "body": "@NoahS It&#39;s drawing the line. I think you need to set the color so you can see it."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1537998203, "last_edit_date": 1537998203, "creation_date": 1537996911, "answer_id": 52526191, "question_id": 52525906, "link": "https://stackoverflow.com/questions/52525906/why-does-the-if-statement-claim-its-false-while-console-log-says-its-true/52526191#52526191", "title": "Why does the if statement claim it&#39;s false while console.log() says it&#39;s true", "body": "<p><code>JSON.stringify(Array1) == \"[0, 0, 0]\"</code>.</p>\n\n<p>The first time you click, <code>JSON.stringify(Array4) == undefined</code>, so the condition is false, and you go into the <code>else</code> block. Both <code>Array3 != null</code> and <code>Array2 != null</code> are false, so neither of those <code>if</code> blocks execute. It then executes <code>Array2 = JSON.parse(JSON.stringify(Array1))</code>, so <code>Array2</code> is now set. Then you execute <code>console.log(JSON.stringify(Array4) == (JSON.stringify(Array1)));</code>, which displays <code>false</code>.</p>\n\n<p>The second time you click, <code>Array4</code> hasn't changed, so the first <code>if</code> fails again, and you go into the <code>else</code> block. <code>Array3 != null</code> is false, so that <code>if</code> is skipped as well. But <code>Array2 != null</code> is true, so you assign <code>Array3</code>. Then you assign <code>Array2</code> again. Then you execute <code>console.log(JSON.stringify(Array4) == (JSON.stringify(Array1)));</code>, which displays <code>false</code> again.</p>\n\n<p>The third time you click, the first conditions is still false, so you go into the <code>else</code> block again. This time you assign <code>Array4</code>, <code>Array3</code>, and <code>Array2</code>. Now <code>JSON.stringify(Array4) == \"[0, 0, 0]\"</code>, so <code>console.log(JSON.stringify(Array4) == (JSON.stringify(Array1)));</code> displays <code>true</code>.</p>\n\n<p>The next time you click, the first condition will be true, and you'll go into the <code>if</code> block. This continues for all future clicks.</p>\n\n<p>The problem is that you're logging the result of the comparison <em>after</em> you change the value of <code>Array4</code>. So you're not printing the same thing that was used to decide whether to go into the <code>if</code> or <code>else</code> branch for this click. You're printing what will be used for the <em>next</em> click.</p>\n"}], "owner": {"reputation": 21, "user_id": 10420853, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-fCiIuR9qjB4/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DX2x6XMiLPl_mds-hSvzod_X--Byw/mo/photo.jpg?sz=128", "display_name": "NoahS", "link": "https://stackoverflow.com/users/10420853/noahs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 198, "favorite_count": 0, "accepted_answer_id": 52526191, "answer_count": 1, "score": 0, "last_activity_date": 1537998203, "creation_date": 1537995253, "last_edit_date": 1537997636, "question_id": 52525906, "link": "https://stackoverflow.com/questions/52525906/why-does-the-if-statement-claim-its-false-while-console-log-says-its-true", "title": "Why does the if statement claim it&#39;s false while console.log() says it&#39;s true", "body": "<p>This if statement <code>if(JSON.stringify(Array4) == (JSON.stringify(Array1)) || suicidal){}</code> is not working as I intended it to.</p>\n\n<p>While the variable Suicidal is working correctly, this condition: </p>\n\n<pre><code>JSON.stringify(Array4) == (JSON.stringify(Array1))\n</code></pre>\n\n<p>is not;\nit's always false even tho </p>\n\n<pre><code>console.log(JSON.stringify(Array4) == (JSON.stringify(Array1)))\n</code></pre>\n\n<p>says it's true.</p>\n\n<p>Array4 originated from Array1 and has gone through </p>\n\n<pre><code>ArrayX = JSON.parse(JSON.stringify(Array1));\n</code></pre>\n\n<p>3 times.</p>\n\n<p>this is also the only modification that is made to Array1 to get Array4.</p>\n\n<p>Why does it only say True with <code>console.log()</code>?</p>\n\n<p>Here is a snippet.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    var suicidal = false;\r\n    var Array1 = [0, 0, 0];\r\n    var Array2;\r\n    var Array3;\r\n    var Array4;\r\n\r\n    function setup() {\r\n      createCanvas(400, 400);\r\n    }\r\n\r\n    function draw() {\r\n      background(220);\r\n    }\r\n\r\n    function mouseClicked() {\r\n      if ((JSON.stringify(Array4) == (JSON.stringify(Array1))) || suicidal) { // does not work (suicidal does work)\r\n        line(0, 0, width, height);\r\n      } else {\r\n        if (Array3 != null) {\r\n          Array4 = JSON.parse(JSON.stringify(Array3));\r\n        }\r\n        if (Array2 != null) {\r\n          Array3 = JSON.parse(JSON.stringify(Array2));\r\n        }\r\n        Array2 = JSON.parse(JSON.stringify(Array1));\r\n        console.log(JSON.stringify(Array4) == (JSON.stringify(Array1)));\r\n      }\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;!DOCTYPE html&gt;\r\n    &lt;html&gt;\r\n\r\n    &lt;head&gt;\r\n      &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/p5.min.js\"&gt;&lt;/script&gt;\r\n      &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.dom.min.js\"&gt;&lt;/script&gt;\r\n      &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.2/addons/p5.sound.min.js\"&gt;&lt;/script&gt;\r\n      &lt;link rel=\"stylesheet\" type=\"text/css\" href=\"style.css\"&gt;\r\n      &lt;meta charset=\"utf-8\" /&gt;\r\n\r\n    &lt;/head&gt;\r\n\r\n    &lt;body&gt;\r\n      &lt;script src=\"sketch.js\"&gt;&lt;/script&gt;\r\n    &lt;/body&gt;\r\n\r\n    &lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1537995818, "post_id": 52525880, "comment_id": 91991832, "body": "is onActive called more than once?"}], "answers": [{"comments": [{"owner": {"reputation": 2239, "user_id": 897075, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/321f470cb421a6bf32fefa4b30eeec65?s=128&d=identicon&r=PG&f=1", "display_name": "Alex.Barylski", "link": "https://stackoverflow.com/users/897075/alex-barylski"}, "edited": false, "score": 0, "creation_date": 1538076119, "post_id": 52526014, "comment_id": 92027402, "body": "That was it. &quot;Idle&quot; is indeed being called twice - the console.log having shown two each event fire should have tipped me off - always appreciate a second set of eyes on a frustrating issue :) thanks man!"}], "tags": [], "owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "is_accepted": true, "score": 1, "last_activity_date": 1537995948, "creation_date": 1537995948, "answer_id": 52526014, "question_id": 52525880, "link": "https://stackoverflow.com/questions/52525880/setinterval-with-jquery-idle/52526014#52526014", "title": "setInterval with jquery.idle", "body": "<p>My guess is onActive is called more than once so you get multiple timers running. So detect if you have a interval before running it again. </p>\n\n<pre><code> var intervalId;\n\n    idle({\n        idle: 10000, // NOTE: IDLE notification when\n        onIdle: function () {\n            clearInterval(intervalId);\n            intervalId = false;\n            console.log('Idle');\n        },\n        onActive: function () {\n            if (!intervalId) {\n              intervalId = setInterval(initTaskTimeTracking, 5000);\n            }\n            console.log('Active');\n        }\n    }).start();\n</code></pre>\n"}], "owner": {"reputation": 2239, "user_id": 897075, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/321f470cb421a6bf32fefa4b30eeec65?s=128&d=identicon&r=PG&f=1", "display_name": "Alex.Barylski", "link": "https://stackoverflow.com/users/897075/alex-barylski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 52526014, "answer_count": 1, "score": 0, "last_activity_date": 1537995948, "creation_date": 1537995134, "question_id": 52525880, "link": "https://stackoverflow.com/questions/52525880/setinterval-with-jquery-idle", "title": "setInterval with jquery.idle", "body": "<p>I have no idea what I missing in this script - it should use the jQuery library 'idle' to detect no activity - in which case the time should be stopped and requests to server are not made.</p>\n\n<p>The \"Idle\"  event fires (as does active) but the timer used to call the AJAX request never stops - WTF>?!?!</p>\n\n<p>```</p>\n\n<pre><code>    &lt;script&gt;\n        var minTaskUpdateInterval = 1000 * 30; // 30 second intervals \n\n        function initTaskTimeTracking()\n        {\n            Ext.Ajax.request({\n                url: 'service/application/task/updatetimer',\n                params: {interval: minTaskUpdateInterval}\n            });\n        }\n\n        var intervalId = 0;\n\n        idle({\n            idle: 10000, // NOTE: IDLE notification when\n            onIdle: function () {\n                clearInterval(intervalId);\n                console.log('Idle');\n            },\n            onActive: function () {\n                intervalId = setInterval(initTaskTimeTracking, 5000);\n                console.log('Active');\n            }\n        }).start();\n    &lt;/script&gt;\n</code></pre>\n\n<p>```</p>\n"}, {"tags": ["javascript", "html", "iframe", "html5-canvas"], "answers": [{"tags": [], "owner": {"reputation": 31, "user_id": 8290681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7c6169423551cda3a2cfdd282d6ff2?s=128&d=identicon&r=PG&f=1", "display_name": "jnick", "link": "https://stackoverflow.com/users/8290681/jnick"}, "is_accepted": false, "score": 1, "last_activity_date": 1537997003, "creation_date": 1537997003, "answer_id": 52526210, "question_id": 52525870, "link": "https://stackoverflow.com/questions/52525870/add-keydown-event-to-canvas-in-an-iframe/52526210#52526210", "title": "add keyDown event to canvas in an iframe", "body": "<p>It isn't a good solution, but doing <code>window.focus();</code> when ever the canvas is clicked makes the keys work.</p>\n"}], "owner": {"reputation": 31, "user_id": 8290681, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cb7c6169423551cda3a2cfdd282d6ff2?s=128&d=identicon&r=PG&f=1", "display_name": "jnick", "link": "https://stackoverflow.com/users/8290681/jnick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 65, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537997003, "creation_date": 1537995098, "question_id": 52525870, "link": "https://stackoverflow.com/questions/52525870/add-keydown-event-to-canvas-in-an-iframe", "title": "add keyDown event to canvas in an iframe", "body": "<p>I am trying to upload a game to itch.io, but I coded all the input my self and the key press events won't work when I upload the game.</p>\n\n<p>The html that matters  is </p>\n\n<pre><code>&lt;iframe&gt;\n    #document\n    &lt;canvas id=\"canvasId\"&gt;\n&lt;/iframe\n</code></pre>\n\n<p>My javascript that isn't working is</p>\n\n<pre><code>var canvas = document.getElementById(\"canvasId\");    \ncanvas.addEventListener(\"keydown\",kdown);\n</code></pre>\n\n<p>This is itch.io, so I can't have any code outside the iframe. </p>\n"}, {"tags": ["javascript", "firebase", "firebase-realtime-database", "twilio", "google-cloud-functions"], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 4095949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e52eeabfab79d452ed7390491c421b2?s=128&d=identicon&r=PG&f=1", "display_name": "northsydneybears", "link": "https://stackoverflow.com/users/4095949/northsydneybears"}, "edited": false, "score": 0, "creation_date": 1537999601, "post_id": 52526345, "comment_id": 91993037, "body": "Thank you Renaud, I just edited a few brackets/parentheses you no doubt typed quickly. I appreciate your help."}, {"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "reply_to_user": {"reputation": 31, "user_id": 4095949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e52eeabfab79d452ed7390491c421b2?s=128&d=identicon&r=PG&f=1", "display_name": "northsydneybears", "link": "https://stackoverflow.com/users/4095949/northsydneybears"}, "edited": false, "score": 0, "creation_date": 1538000006, "post_id": 52526345, "comment_id": 91993179, "body": "@northsydneybears Glad I could help. You may consider upvoting my answer if you think it is helpful, see <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>. Thanks!"}, {"owner": {"reputation": 31, "user_id": 4095949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e52eeabfab79d452ed7390491c421b2?s=128&d=identicon&r=PG&f=1", "display_name": "northsydneybears", "link": "https://stackoverflow.com/users/4095949/northsydneybears"}, "edited": false, "score": 0, "creation_date": 1538004321, "post_id": 52526345, "comment_id": 91994249, "body": "considered and done, thank you again. Do you perhaps know what call I would make to print out all the message data thats been sent? (e.g. to, from and messageText/body?) I know it&#39;s console.log but I&#39;ve tried <code>.then((message) =&gt; console.log(message));</code> and it only returns the number of the recipient.."}, {"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "reply_to_user": {"reputation": 31, "user_id": 4095949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e52eeabfab79d452ed7390491c421b2?s=128&d=identicon&r=PG&f=1", "display_name": "northsydneybears", "link": "https://stackoverflow.com/users/4095949/northsydneybears"}, "edited": false, "score": 0, "creation_date": 1538036270, "post_id": 52526345, "comment_id": 92004158, "body": "@northsydneybears Sorry I don&#39;t really know the Twilio SDKs and API. But according to the doc (<a href=\"https://www.twilio.com/docs/libraries/node#testing-your-installation\" rel=\"nofollow noreferrer\">twilio.com/docs/libraries/node#testing-your-installation</a>), the <code>create()</code> method returns a Promise that resolves with a <code>message</code> object. And the API documentation for this kind of object is here: <a href=\"https://www.twilio.com/docs/sms/api/message\" rel=\"nofollow noreferrer\">twilio.com/docs/sms/api/message</a>. There are some <code>from</code> and <code>to</code> properties, among others. The messages returned by <code>Promise.all()</code> will be contained in the <code>results</code> array. This array is ordered in the same order than the <code>promises</code> array. Hope this helps!"}], "tags": [], "owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "is_accepted": true, "score": 4, "last_activity_date": 1538065793, "last_edit_date": 1538065793, "creation_date": 1537997833, "answer_id": 52526345, "question_id": 52525827, "link": "https://stackoverflow.com/questions/52525827/calling-a-firebase-cloud-function-foreach-child-of-a-snapshot/52526345#52526345", "title": "Calling a Firebase Cloud Function &#39;ForEach&#39; child of a Snapshot", "body": "<p>I make the assumption that you are using the <code>twilio-node</code> library that use promises: <a href=\"https://www.npmjs.com/package/twilio\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/twilio</a>.</p>\n\n<p>Since you want to send several messages in parallel, you have to use <code>Promise.all()</code>, as follows:</p>\n\n<pre><code>const functions = require('firebase-functions');\n\n// The Firebase Admin SDK to access the Firebase Realtime Database.\nconst admin = require('firebase-admin');\nadmin.initializeApp();\n\nconst twilio = require('twilio')\n\nconst accountSid = functions.config().twilio.sid;\nconst authToken  = functions.config().twilio.token;\n\nconst client = new twilio(accountSid, authToken);\n\nconst twilioNumber = functions.config().twilio.number;\n\n\n// Start cloud function\nexports.sendSecrets = functions.database\n       .ref('/{uid}/send')\n       .onUpdate((change,context) =&gt; {\n\n    const uid = context.params.uid;\n\n    return admin.database().ref(uid+'/messagesToSend').once('value')\n    .then(snapshot =&gt; {\n\n      const promises = [];\n\n      snapshot.forEach(function(childSnapshot) {\n\n          var key = childSnapshot.key;\n          var messageData = childSnapshot.val();\n          //**if (messageData.sanitized) return true;**\n          var message = messageData.messageText;\n          var phoneNumber = messageData.recipientNumber;\n\n          const textMessage = {\n            body: `From My App - ${message}`,\n            from: twilioNumber, // From Twilio number\n            to: phoneNumber  // Text to this number\n          }\n\n          promises.push(client.messages.create(textMessage));\n      })\n\n      return Promise.all(promises);\n    })\n    // Edits made below to parentheses/brackets\n    .then(results =&gt; {\n      //Do whatever you want !!\n      // e.g. print the results which will be an array of messages\n      // (see https://www.twilio.com/docs/libraries/node#testing-your-installation)\n    })            \n}); \n</code></pre>\n\n<p>You can also simply return <code>Promise.all()</code> as follows:</p>\n\n<pre><code>....\n     return Promise.all(promises);\n   })\n}); \n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 4095949, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e52eeabfab79d452ed7390491c421b2?s=128&d=identicon&r=PG&f=1", "display_name": "northsydneybears", "link": "https://stackoverflow.com/users/4095949/northsydneybears"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1293, "favorite_count": 1, "accepted_answer_id": 52526345, "answer_count": 1, "score": 0, "last_activity_date": 1538065793, "creation_date": 1537994792, "last_edit_date": 1537998073, "question_id": 52525827, "link": "https://stackoverflow.com/questions/52525827/calling-a-firebase-cloud-function-foreach-child-of-a-snapshot", "title": "Calling a Firebase Cloud Function &#39;ForEach&#39; child of a Snapshot", "body": "<p>I'm trying to deploy a Firebase Cloud Function that sends a text message to its associated recipient for x number of text messages. The function is triggered in my iOS app when an update is made to the 'send' Realtime Database reference, indicating that the user has pressed the 'send' button.</p>\n\n<p>My Firebase structure is</p>\n\n<pre><code>  {\n  \"user1uid\": {\n    \"send\": false\n    \"messagesToSend\": {\n      \"messageuid1\": {\n         \"messageText\": \"What's for dinner?\",\n         \"recipientNumber\": \"+18017378888\",\n      }\n      \"messageuid2:\n         \"messageText\": \"Who won the Cowboys game?\",\n         \"recipientNumber\": \"+18017377787\",\n      }\n   }\n   \"user2uid\": {\n    \"send\": false\n    \"messagesToSend\": {\n      \"messageuid1\": {\n         \"messageText\": \"What's for dinner?\",\n         \"recipientNumber\": \"+18017378888\",\n      }\n      \"messageuid2:\n         \"messageText\": \"Who won the Cowboys game?\",\n         \"recipientNumber\": \"+18017377787\",\n      }\n   }\n}\n</code></pre>\n\n<p>My code currently only sends one message, and I'm not sure how I can properly iterate through the <strong>messagesToSend</strong> node for each user and send all the messages in it.</p>\n\n<p>I've been trying to follow the tutorial <a href=\"https://angularfirebase.com/lessons/sms-texting-with-twilio/\" rel=\"nofollow noreferrer\">located here</a>. I have looked at the following Stack Overflow responses but am unable to decipher or derive a solution from them:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/51827392/firebase-cloud-function-promises\">Firebase cloud function promises</a><br>\n<a href=\"https://stackoverflow.com/questions/27181691/am-i-using-foreach-correctly\">Am I using ForEach correctly?</a></p>\n\n<p>My index.js code that sends one message is as follows:</p>\n\n<pre><code>const functions = require('firebase-functions');\n\n// The Firebase Admin SDK to access the Firebase Realtime Database.\nconst admin = require('firebase-admin');\nadmin.initializeApp();\n\nconst twilio = require('twilio')\n\nconst accountSid = functions.config().twilio.sid;\nconst authToken  = functions.config().twilio.token;\n\nconst client = new twilio(accountSid, authToken);\n\nconst twilioNumber = functions.config().twilio.number;\n\n\n// Start cloud function\nexports.sendSecrets = functions.database\n       .ref('/{uid}/send')\n       .onUpdate((change,context) =&gt; {\n\n    const uid = context.params.uid;\n\n    return admin.database().ref(uid+'/messagesToSend').once('value').then(snapshot =&gt; {\n\n      snapshot.forEach(function(childSnapshot) {\n\n          var key = childSnapshot.key;\n          var messageData = childSnapshot.val();\n          **if (messageData.sanitized) return true;**\n          var message = messageData.messageText;\n          var phoneNumber = messageData.recipientNumber;\n\n          const textMessage = {\n            body: `From My App - ${message}`,\n            from: twilioNumber, // From Twilio number\n            to: phoneNumber  // Text to this number\n          }\n          return client.messages.create(textMessage)\n        })\n        **return snapshot.ref.toString();**\n    });\n}); \n</code></pre>\n\n<p>Please note that the lines marked with ** at either end indicate that I know I need to return something based on error messages I received indicating that 'Each then() should return a value or throw'.</p>\n"}, {"tags": ["javascript", "google-apps-script", "blob", "urlfetch"], "comments": [{"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1538541495, "post_id": 52525797, "comment_id": 92173422, "body": "Did my answer show you the result what you want? Would you please tell me about it? That is also useful for me to study. If this works, other people who have the same issue with you can also base your question as a question which can be solved. If you have issues for my answer yet, feel free to tell me. I would like to study to solve your issues."}, {"owner": {"reputation": 357, "user_id": 7484845, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-3zm5vRBHaO8/AAAAAAAAAAI/AAAAAAAAAAs/fnJedL0BAPE/photo.jpg?sz=128", "display_name": "Nathaniel MacIver", "link": "https://stackoverflow.com/users/7484845/nathaniel-maciver"}, "reply_to_user": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1539090529, "post_id": 52525797, "comment_id": 92368874, "body": "Sorry for the delay. I looked at your solution. Unfortunately, your solution only works with files already in Google Drive. I&#39;m trying to pull blob chunks from an Amazon S3 URLFetch Services, so the DriveService byte array can&#39;t be used."}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1539121369, "post_id": 52525797, "comment_id": 92384600, "body": "Thank you for replying. Can I ask you about your situation? You want to download the files from outside to Google Drive. Is my understanding correct?"}], "answers": [{"tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": false, "score": 2, "last_activity_date": 1585165263, "last_edit_date": 1585165263, "creation_date": 1537998902, "answer_id": 52526528, "question_id": 52525797, "link": "https://stackoverflow.com/questions/52525797/gas-internalerror-array-length-exceeds-supported-capacity-limit/52526528#52526528", "title": "GAS: &quot;InternalError: Array length exceeds supported capacity limit.&quot;", "body": "<p>How about this answer? 50 MB is 52,428,800 bytes. At Google Apps Script, there are the limitation of the size of blob. The maxmum size is 52,428,800 bytes. So in your situation, such error occurs. In your situation, you download such large file. When you download it, how about using the following methods?</p>\n\n<ol>\n<li>Use partial download by <code>range</code>.</li>\n<li>Use a library for downloading large files from URL.\n\n<ul>\n<li>This library uses the partial download.</li>\n</ul></li>\n</ol>\n\n<h3>References:</h3>\n\n<ul>\n<li><a href=\"https://developers.google.com/drive/api/v3/manage-downloads#partial_download\" rel=\"nofollow noreferrer\">Partial download</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51032451/workaround-solutions-to-google-app-script-exception-filename-csv-exceeds-the-m/51034708#51034708\">Sample script of partial download</a></li>\n<li><a href=\"https://github.com/tanaikech/DownloadLargeFilesByUrl\" rel=\"nofollow noreferrer\">Library for downloading large files from URL</a></li>\n</ul>\n"}], "owner": {"reputation": 357, "user_id": 7484845, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh5.googleusercontent.com/-3zm5vRBHaO8/AAAAAAAAAAI/AAAAAAAAAAs/fnJedL0BAPE/photo.jpg?sz=128", "display_name": "Nathaniel MacIver", "link": "https://stackoverflow.com/users/7484845/nathaniel-maciver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 279, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1585165263, "creation_date": 1537994671, "question_id": 52525797, "link": "https://stackoverflow.com/questions/52525797/gas-internalerror-array-length-exceeds-supported-capacity-limit", "title": "GAS: &quot;InternalError: Array length exceeds supported capacity limit.&quot;", "body": "<p>I'm running URLFetchApp Requests to an Amazon S3 Server to pull Audio Files and relocate them to Google Drive. The HTTPResponse comes back in XML format.</p>\n\n<p>I run the following code to convert into a workable blob that can be stored in Google Drive:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>/*driveAppFolder, fileName, response are pre-defined variables from earlier in the program*/\r\n\r\nvar responseBlob = response.getBlob();\r\nvar driveAppFile = driveAppFolder.createFile(blob).setName(fileName);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This code works flawlessly up to a certain size. I haven't figured out the limitation yet, but I know a 50MB file (52657324 bytes) will prevent the blob from generating with the error:</p>\n\n<pre><code>InternalError: Array length 52389150 exceeds supported capacity limit. \n</code></pre>\n\n<p>I realize a similar JavaScript error was handled <a href=\"https://stackoverflow.com/questions/44838663/failed-to-construct-blob-array-length-exceeds-supported-limit\">here</a>, but I am locked in the confines of Google Apps Script currently. Is there a way I can work around this sort of limitation and get the blob made?</p>\n"}, {"tags": ["javascript", "node.js", "heroku", "request"], "comments": [{"owner": {"reputation": 91788, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1538046751, "post_id": 52525781, "comment_id": 92010579, "body": "I&#39;m not sure exactly what you mean: &quot;overhead&quot; is certainly the wrong word. Do you mean overheat? That would make a bit more sense, but it&#39;s not the problem here. If Heroku&#39;s dynos stop processing requests it probably isn&#39;t due to overheating."}, {"owner": {"reputation": 91788, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1538046861, "post_id": 52525781, "comment_id": 92010633, "body": "In any case, you&#39;ll probably have to figure this out by trial and error. There&#39;s no magic formula."}, {"owner": {"reputation": 351, "user_id": 10238810, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q2QfBoxEHQU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaO2VUdIH-4fp4nW_LEs8GFTqxXd9w/mo/photo.jpg?sz=128", "display_name": "Ryan Cameron", "link": "https://stackoverflow.com/users/10238810/ryan-cameron"}, "reply_to_user": {"reputation": 91788, "user_id": 354577, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/dI6cA.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/354577/chris"}, "edited": false, "score": 0, "creation_date": 1538074128, "post_id": 52525781, "comment_id": 92026519, "body": "@Chris If you try to do too much at once, the server will first slow down to try and cope with it, if it continues and the amount of work just increases the server will eventually shut down. (That&#39;s what I was told by the costumer support at Heorku)"}], "owner": {"reputation": 351, "user_id": 10238810, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-q2QfBoxEHQU/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaO2VUdIH-4fp4nW_LEs8GFTqxXd9w/mo/photo.jpg?sz=128", "display_name": "Ryan Cameron", "link": "https://stackoverflow.com/users/10238810/ryan-cameron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 22, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538073998, "creation_date": 1537994611, "last_edit_date": 1538073998, "question_id": 52525781, "link": "https://stackoverflow.com/questions/52525781/optimize-heroku-server-code-without-overheating-server", "title": "Optimize Heroku server code without overheating server", "body": "<p>I got a heroku server from which I am sending a lot of requests. </p>\n\n<p>I want to send as many requests as possible in the shortest amount of time.</p>\n\n<p>If I send too many requests at a time, the server will overheat and miss out on some of them. Similarly, if I only send one request at a time, I will find myself spending a lot of precious dyno hours which is not desirable either.</p>\n\n<p>So the question is: \n<strong>How can I send as many requests as possible in the shortest amount of time without overheating the server?</strong></p>\n"}, {"tags": ["javascript", "canvas", "html5-canvas", "webgl", "fabricjs"], "comments": [{"owner": {"reputation": 12642, "user_id": 2655678, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LcrLy.jpg?s=128&g=1", "display_name": "AndreaBogazzi", "link": "https://stackoverflow.com/users/2655678/andreabogazzi"}, "edited": false, "score": 0, "creation_date": 1538005940, "post_id": 52525721, "comment_id": 91994558, "body": "does the filter change the image in some way or it does not change at all?"}, {"owner": {"reputation": 12642, "user_id": 2655678, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LcrLy.jpg?s=128&g=1", "display_name": "AndreaBogazzi", "link": "https://stackoverflow.com/users/2655678/andreabogazzi"}, "edited": false, "score": 0, "creation_date": 1538005986, "post_id": 52525721, "comment_id": 91994566, "body": "I m also sure you can obtain the same effect with some vector math if a vector min exists."}, {"owner": {"reputation": 12642, "user_id": 2655678, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LcrLy.jpg?s=128&g=1", "display_name": "AndreaBogazzi", "link": "https://stackoverflow.com/users/2655678/andreabogazzi"}, "edited": false, "score": 0, "creation_date": 1538053240, "post_id": 52525721, "comment_id": 92014544, "body": "The code looks good, i would expect it to work"}], "answers": [{"comments": [{"owner": {"reputation": 9779, "user_id": 543693, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/48d6aedcb37c184f69aeeb43625b1531?s=128&d=identicon&r=PG", "display_name": "Adam Merrifield", "link": "https://stackoverflow.com/users/543693/adam-merrifield"}, "edited": false, "score": 0, "creation_date": 1538241096, "post_id": 52547646, "comment_id": 92078012, "body": "hi, thanks for taking the time to look into this. i think my problem was the image i was trying to blend a color on. but you are correct, that filter does in fact work."}, {"owner": {"reputation": 12642, "user_id": 2655678, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LcrLy.jpg?s=128&g=1", "display_name": "AndreaBogazzi", "link": "https://stackoverflow.com/users/2655678/andreabogazzi"}, "reply_to_user": {"reputation": 9779, "user_id": 543693, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/48d6aedcb37c184f69aeeb43625b1531?s=128&d=identicon&r=PG", "display_name": "Adam Merrifield", "link": "https://stackoverflow.com/users/543693/adam-merrifield"}, "edited": false, "score": 0, "creation_date": 1538251540, "post_id": 52547646, "comment_id": 92080688, "body": "you should open a small pr to fabricjs contributing the code for webgl and canvas for it."}], "tags": [], "owner": {"reputation": 12642, "user_id": 2655678, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/LcrLy.jpg?s=128&g=1", "display_name": "AndreaBogazzi", "link": "https://stackoverflow.com/users/2655678/andreabogazzi"}, "is_accepted": true, "score": 2, "last_activity_date": 1538136033, "last_edit_date": 1538136033, "creation_date": 1538103292, "answer_id": 52547646, "question_id": 52525721, "link": "https://stackoverflow.com/questions/52525721/adding-color-dodge-divide-blending-mode-in-fabric-js/52547646#52547646", "title": "Adding color-dodge/divide blending mode in fabric.js", "body": "<p>So i added a snippet so that we can understand better.\nThe filter you added IS doing something, if this is what should happen with a photoshop divide/colordodge, we can understand only comparing.\nYour code is correct and is indeed working</p>\n\n<p>Scroll down to compare original image with the filtered one</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function start() {\r\n  var canvas = new fabric.Canvas('c');\r\n  var image = document.getElementById('img');\r\n  var fabricImg = new fabric.Image(image); \r\n\r\n  fabric.Image.filters.BlendColor.prototype.fragmentSource.divide =\r\n  'gl_FragColor.r = min(1.0, gl_FragColor.r / (1.0 - uColor.r));\\n' +\r\n          'gl_FragColor.g = min(1.0, gl_FragColor.g / (1.0 - uColor.g));\\n' +\r\n          'gl_FragColor.b = min(1.0, gl_FragColor.b / (1.0 - uColor.b));\\n';\r\n  fabricImg.filters.push(\r\n      new fabric.Image.filters.BlendColor({\r\n          color: '#0000ff',\r\n          mode: 'divide'\r\n      })\r\n  );\r\n  fabricImg.applyFilters();\r\n  canvas.add(fabricImg);\r\n  canvas.requestRenderAll();\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/fabric.js/2.3.6/fabric.min.js\"&gt;&lt;/script&gt;\r\n&lt;canvas id=\"c\" width=500 height=400 &gt;&lt;/canvas&gt;\r\n&lt;img crossOrigin=\"anonymous\" onload=\"start()\" src=\"https://raw.githubusercontent.com/fabricjs/fabricjs.com/gh-pages/assets/dragon2.jpg\" id=\"img\" /&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 9779, "user_id": 543693, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/48d6aedcb37c184f69aeeb43625b1531?s=128&d=identicon&r=PG", "display_name": "Adam Merrifield", "link": "https://stackoverflow.com/users/543693/adam-merrifield"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 418, "favorite_count": 1, "accepted_answer_id": 52547646, "answer_count": 1, "score": 2, "last_activity_date": 1538136033, "creation_date": 1537994309, "question_id": 52525721, "link": "https://stackoverflow.com/questions/52525721/adding-color-dodge-divide-blending-mode-in-fabric-js", "title": "Adding color-dodge/divide blending mode in fabric.js", "body": "<p>Trying to create a new blending mode option for <code>color-dodge</code> (or <code>divide</code> both are very similar.)</p>\n\n<p>current list of blending modes for webgl:</p>\n\n<pre><code>fragmentSource: {\n  multiply: 'gl_FragColor.rgb *= uColor.rgb;\\n',\n  screen: 'gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\\n',\n  add: 'gl_FragColor.rgb += uColor.rgb;\\n',\n  diff: 'gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\\n',\n  subtract: 'gl_FragColor.rgb -= uColor.rgb;\\n',\n  lighten: 'gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\\n',\n  darken: 'gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\\n',\n  exclusion: 'gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\\n',\n  overlay: 'if (uColor.r &lt; 0.5) {\\n' +\n      'gl_FragColor.r *= 2.0 * uColor.r;\\n' +\n    '} else {\\n' +\n      'gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\\n' +\n    '}\\n' +\n    'if (uColor.g &lt; 0.5) {\\n' +\n      'gl_FragColor.g *= 2.0 * uColor.g;\\n' +\n    '} else {\\n' +\n      'gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\\n' +\n    '}\\n' +\n    'if (uColor.b &lt; 0.5) {\\n' +\n      'gl_FragColor.b *= 2.0 * uColor.b;\\n' +\n    '} else {\\n' +\n      'gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\\n' +\n    '}\\n',\n  tint: 'gl_FragColor.rgb *= (1.0 - uColor.a);\\n' +\n    'gl_FragColor.rgb += uColor.rgb;\\n',\n},\n</code></pre>\n\n<p>according to resources i've read (<a href=\"https://helpx.adobe.com/photoshop/using/blending-modes.html\" rel=\"nofollow noreferrer\">1</a>, <a href=\"https://en.wikipedia.org/wiki/Blend_modes#Divide\" rel=\"nofollow noreferrer\">2</a>, <a href=\"https://mouaif.wordpress.com/2009/01/05/photoshop-math-with-glsl-shaders/\" rel=\"nofollow noreferrer\">3</a>), for <code>color-dodge</code> the math should be per channel and should be <code>min(1.0, baseColor / (1 - blendColor))</code></p>\n\n<p>i've tried to add an option for </p>\n\n<pre><code>divide: 'gl_FragColor.r = min(1.0, gl_FragColor.r / (1 - uColor.r));\\n' +\n        'gl_FragColor.g = min(1.0, gl_FragColor.g / (1 - uColor.g));\\n' +\n        'gl_FragColor.b = min(1.0, gl_FragColor.b / (1 - uColor.b));\\n',\n</code></pre>\n\n<p>but the result image is always a different shade of the same blue no matter what color is passed in to be blended</p>\n\n<p>here is how i'm applying the filter</p>\n\n<pre><code>var fabricImg = new fabric.Image(pageBackgroundImg), // make a fabric.Image object out of the HTMLImageElement\n    blendedCanvas = new fabric.StaticCanvas(null, {\n        width: fabricImg.getScaledWidth(),\n        height: fabricImg.getScaledHeight(),\n        renderOnAddRemove: false\n    }),\n    pageBackgroundPattern;\n\n// add the color filter to the image\nfabricImg.filters.push(\n    new fabric.Image.filters.BlendColor({\n        color: '#' + color,\n        mode: 'divide'\n    })\n);\nfabricImg.applyFilters();\n// add the image to the canvas\nblendedCanvas.add(fabricImg);\n\nblendedCanvas.renderAll();\n</code></pre>\n"}, {"tags": ["javascript", "string", "quotation-marks"], "comments": [{"owner": {"reputation": 2707, "user_id": 2417833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7Rh6.jpg?s=128&g=1", "display_name": "scraaappy", "link": "https://stackoverflow.com/users/2417833/scraaappy"}, "edited": false, "score": 4, "creation_date": 1537994195, "post_id": 52525674, "comment_id": 91991195, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/10055773/double-quote-in-javascript-string\">Double quote in JavaScript string</a>"}, {"owner": {"reputation": 768, "user_id": 9860982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-347jH1tsTwk/AAAAAAAAAAI/AAAAAAAACD0/5C9jreoF5VM/photo.jpg?sz=128", "display_name": "Marvin", "link": "https://stackoverflow.com/users/9860982/marvin"}, "reply_to_user": {"reputation": 2707, "user_id": 2417833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7Rh6.jpg?s=128&g=1", "display_name": "scraaappy", "link": "https://stackoverflow.com/users/2417833/scraaappy"}, "edited": false, "score": 0, "creation_date": 1537994810, "post_id": 52525674, "comment_id": 91991430, "body": "@scraaappy this is not a duplicate of your linked question because that was putting quotes inside quotes. I am doing this one more time - Double nested quotes, if you will."}], "answers": [{"tags": [], "owner": {"reputation": 690, "user_id": 3303276, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/b2WzY.jpg?s=128&g=1", "display_name": "Juan Elfers", "link": "https://stackoverflow.com/users/3303276/juan-elfers"}, "is_accepted": false, "score": 1, "last_activity_date": 1537994206, "creation_date": 1537994206, "answer_id": 52525695, "question_id": 52525674, "link": "https://stackoverflow.com/questions/52525674/double-nested-quotes/52525695#52525695", "title": "Double nested quotes", "body": "<p>The best option here would be to escape the quote chars:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>formsParent.innerHTML = \"&lt;p style=\\\"color: black; font-family: 'Times New Roman' font-size: 2em\\\"&gt; Order submitted. Thank you for ordering!&lt;/p&gt;\";</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1623, "user_id": 4104766, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/67eab5c2a866acc6b12c9b1095c7d4ff?s=128&d=identicon&r=PG&f=1", "display_name": "kemotoe", "link": "https://stackoverflow.com/users/4104766/kemotoe"}, "is_accepted": false, "score": 0, "last_activity_date": 1537994495, "creation_date": 1537994495, "answer_id": 52525760, "question_id": 52525674, "link": "https://stackoverflow.com/questions/52525674/double-nested-quotes/52525760#52525760", "title": "Double nested quotes", "body": "<p>Use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals\" rel=\"nofollow noreferrer\">template literal</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById('formsParent').innerHTML = `&lt;p style = 'color: red; font-family: \"Times New Roman\" font-size: 2em'&gt; Order submitted. Thank you for ordering! &lt;/p&gt;`</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"formsParent\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 768, "user_id": 9860982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-347jH1tsTwk/AAAAAAAAAAI/AAAAAAAACD0/5C9jreoF5VM/photo.jpg?sz=128", "display_name": "Marvin", "link": "https://stackoverflow.com/users/9860982/marvin"}, "edited": false, "score": 0, "creation_date": 1537995068, "post_id": 52525821, "comment_id": 91991544, "body": "Thank @ths. I completely forgot about escaping characters! Can you help me explain why this is not a duplicate of the other question?"}, {"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "reply_to_user": {"reputation": 768, "user_id": 9860982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-347jH1tsTwk/AAAAAAAAAAI/AAAAAAAACD0/5C9jreoF5VM/photo.jpg?sz=128", "display_name": "Marvin", "link": "https://stackoverflow.com/users/9860982/marvin"}, "edited": false, "score": 0, "creation_date": 1537997210, "post_id": 52525821, "comment_id": 91992306, "body": "it may be duplicate of other post, but your issue seems to be pretty basic."}, {"owner": {"reputation": 768, "user_id": 9860982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-347jH1tsTwk/AAAAAAAAAAI/AAAAAAAACD0/5C9jreoF5VM/photo.jpg?sz=128", "display_name": "Marvin", "link": "https://stackoverflow.com/users/9860982/marvin"}, "edited": false, "score": 0, "creation_date": 1537997685, "post_id": 52525821, "comment_id": 91992452, "body": "That post is just two pairs of quotes. Mine involves the need of three pair of quotes."}, {"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "reply_to_user": {"reputation": 768, "user_id": 9860982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-347jH1tsTwk/AAAAAAAAAAI/AAAAAAAACD0/5C9jreoF5VM/photo.jpg?sz=128", "display_name": "Marvin", "link": "https://stackoverflow.com/users/9860982/marvin"}, "edited": false, "score": 0, "creation_date": 1537997787, "post_id": 52525821, "comment_id": 91992484, "body": "In general, knowing how to escape special chars is a basic and a fundamental task for a programmer/developer."}, {"owner": {"reputation": 768, "user_id": 9860982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-347jH1tsTwk/AAAAAAAAAAI/AAAAAAAACD0/5C9jreoF5VM/photo.jpg?sz=128", "display_name": "Marvin", "link": "https://stackoverflow.com/users/9860982/marvin"}, "edited": false, "score": 0, "creation_date": 1537997921, "post_id": 52525821, "comment_id": 91992544, "body": "I forgot about escaping characters because I don&#39;t use them that often. Do you suggest I delete the question?"}], "tags": [], "owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "is_accepted": true, "score": 1, "last_activity_date": 1537994771, "creation_date": 1537994771, "answer_id": 52525821, "question_id": 52525674, "link": "https://stackoverflow.com/questions/52525674/double-nested-quotes/52525821#52525821", "title": "Double nested quotes", "body": "<p>In your case you'd need to escape the <code>quotes</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>formsParent.innerHTML = \"&lt;p style='color: black; font-family: \\\"Times New Roman\\\"; font-size: 2em'&gt; Order submitted. Thank you for ordering! &lt;/p&gt;\";\n</code></pre>\n\n<p>But, in such cases it's better to use the <code>backtick</code> to contain the <code>innerHTML</code> value, thus you'd never need to escape the <code>apostrophes</code> nor the <code>quotes</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>formsParent.innerHTML = `&lt;p style='color: black; font-family: \"Times New Roman\"; font-size: 2em'&gt; Order submitted. Thank you for ordering! &lt;/p&gt;`;\n</code></pre>\n"}], "owner": {"reputation": 768, "user_id": 9860982, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-347jH1tsTwk/AAAAAAAAAAI/AAAAAAAACD0/5C9jreoF5VM/photo.jpg?sz=128", "display_name": "Marvin", "link": "https://stackoverflow.com/users/9860982/marvin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1110, "favorite_count": 1, "accepted_answer_id": 52525821, "answer_count": 3, "score": -3, "last_activity_date": 1537995406, "creation_date": 1537994072, "last_edit_date": 1537995406, "question_id": 52525674, "link": "https://stackoverflow.com/questions/52525674/double-nested-quotes", "title": "Double nested quotes", "body": "<p>I have this line of code</p>\n\n<pre><code>formsParent.innerHTML = \"&lt;p style = 'color: black; font-family: \"Times New Roman\" font-size: 2em'&gt; Order submitted. Thank you for ordering! &lt;/p&gt;\"\n</code></pre>\n\n<p>The first quote is for the <code>innerHTML</code> property. Next is the properties inside the <code>style</code> attribute of the <code>&lt;p&gt;</code> element, and finally I need another quote inside this for the <code>font-family</code> property with a value that has multiple words so it also needs quotation marks. There are only <em>\"\"</em> and <em>''</em>, and using double quotes for the font-family throws an error. How do I use quotes inside quotes inside quotes?</p>\n\n<p><strong>EDIT: This is NOT a duplicate of the <a href=\"https://stackoverflow.com/questions/10055773/double-quote-in-javascript-string\">Double quote in JavaScript string</a>. Stop flagging this!</strong></p>\n\n<p>In the above question, the OP asks for single-nested quotes - single quotes isnide double quotes was the answer or vice versa. </p>\n\n<p>In my question, I ask for double-nested quotes - [quotes] inside [quotes] inside [quotes]. My question is an extra layer of quotes. </p>\n"}, {"tags": ["javascript", "vue.js", "vuejs2", "progressive-web-apps"], "comments": [{"owner": {"reputation": 1033, "user_id": 6149665, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/SgFbu.jpg?s=128&g=1", "display_name": "ArtemSky", "link": "https://stackoverflow.com/users/6149665/artemsky"}, "edited": false, "score": 0, "creation_date": 1537993999, "post_id": 52525638, "comment_id": 91991111, "body": "keep-alive keeps component alive, not a page. Maybe you should use vuex to keep you data alive and timetravel back when needed"}], "answers": [{"tags": [], "owner": {"reputation": 26792, "user_id": 734040, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/p1dqF.jpg?s=128&g=1", "display_name": "Decade Moon", "link": "https://stackoverflow.com/users/734040/decade-moon"}, "is_accepted": true, "score": 2, "last_activity_date": 1538010195, "creation_date": 1538010195, "answer_id": 52527965, "question_id": 52525638, "link": "https://stackoverflow.com/questions/52525638/keep-previous-page-in-vue-alive/52527965#52527965", "title": "Keep previous page in Vue alive", "body": "<p>According to the <a href=\"https://router.vuejs.org/api/#router-view\" rel=\"nofollow noreferrer\">docs</a>, <code>&lt;keep-alive&gt;</code> needs to be inside:</p>\n\n<pre class=\"lang-vue prettyprint-override\"><code>&lt;transition :name=\"transitionName\" mode=\"out-in\"&gt;\n  &lt;keep-alive&gt;\n    &lt;router-view :key=\"$route.fullPath\"&gt;&lt;/router-view&gt;\n  &lt;/keep-alive&gt;\n&lt;/transition&gt;\n</code></pre>\n"}], "owner": {"reputation": 606, "user_id": 3417372, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/100001587977721/picture?type=large", "display_name": "Ruben Aalders", "link": "https://stackoverflow.com/users/3417372/ruben-aalders"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2086, "favorite_count": 0, "accepted_answer_id": 52527965, "answer_count": 1, "score": 3, "last_activity_date": 1538010195, "creation_date": 1537993860, "last_edit_date": 1537996314, "question_id": 52525638, "link": "https://stackoverflow.com/questions/52525638/keep-previous-page-in-vue-alive", "title": "Keep previous page in Vue alive", "body": "<p>I am currently trying to <a href=\"https://bowvie-test.firebaseapp.com\" rel=\"nofollow noreferrer\">build a small PWA</a> to mimic an Android app and have come across Vuejs.</p>\n\n<p>But currently I have ran into an issue that I have not been able to fix. When you scroll one of the lists on one of the homepages (<a href=\"https://bowvie-test.firebaseapp.com/movies\" rel=\"nofollow noreferrer\">movies</a>/<a href=\"https://bowvie-test.firebaseapp.com/tvshows\" rel=\"nofollow noreferrer\">tvshows</a>/<a href=\"https://bowvie-test.firebaseapp.com/news\" rel=\"nofollow noreferrer\">news</a>) and click on an item I would like to retain the position of those lists so when the user navigates back they wouldn't have to scroll again to get to the same item.</p>\n\n<p>I tried a few things with the <code>keep-alive</code> property but fail to understand how it works. My app page currently looks like this. I use the <code>:key=\"$route.fullPath\"</code> to make a detail page reload when you go from movie to movie.</p>\n\n<pre><code>&lt;div id=\"content\"&gt;\n  &lt;keep-alive&gt;\n    &lt;transition :name=\"transitionName\" mode=\"out-in\"&gt;\n      &lt;router-view :key=\"$route.fullPath\"&gt;&lt;/router-view&gt;\n    &lt;/transition&gt;\n  &lt;/keep-alive&gt;\n&lt;/div&gt;\n\n&lt;div class=\"bottom\"&gt;\n  &lt;div class=\"bottom-bar\"&gt;\n    &lt;md-bottom-bar md-type=\"shift\" md-sync-route&gt;\n      &lt;md-bottom-bar-item id=\"bottom-bar-item-movies\" md-label=\"Movies\" to=\"/movies\"\n                          md-icon=\"movie\"&gt;&lt;/md-bottom-bar-item&gt;\n      &lt;md-bottom-bar-item id=\"bottom-bar-item-tvshows\" md-label=\"TV Shows\" to=\"/tvshows\"\n                          md-icon=\"tv\"&gt;&lt;/md-bottom-bar-item&gt;\n      &lt;md-bottom-bar-item id=\"bottom-bar-item-watchlist\" md-label=\"News\" to=\"/news\"\n                          md-icon=\"language\"&gt;&lt;/md-bottom-bar-item&gt;\n    &lt;/md-bottom-bar&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>A detail page has a route with the name of the type and its id like <code>/movies/348350</code>. On a detail page there is a button to navigate back by using <code>this.$router.go(-1)</code>.</p>\n\n<p>Is there an easy way that I have missed till now how to do this?</p>\n"}, {"tags": ["javascript", "getter-setter"], "comments": [{"owner": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 0, "creation_date": 1537993993, "post_id": 52525624, "comment_id": 91991107, "body": "<code>name</code> is being hoisted outside of the loop im guessing, can you try with <code>let</code> instead of <code>var</code>, e.g: <code>for (let name in first) {</code> - also, you shouldn&#39;t need the weird string concatenation, just do: <code>Object.defineProperty(second, name, {</code>"}, {"owner": {"reputation": 16607, "user_id": 829835, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/TteD0.jpg?s=128&g=1", "display_name": "rlemon", "link": "https://stackoverflow.com/users/829835/rlemon"}, "edited": false, "score": 0, "creation_date": 1537994085, "post_id": 52525624, "comment_id": 91991148, "body": "you probably should avoid using &#39;name&#39; with var. window.name is locked to a string. Could bite you in the rear in the future."}, {"owner": {"reputation": 726, "user_id": 10408843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8a23bff04dd3d42e825c07a28d90281?s=128&d=identicon&r=PG&f=1", "display_name": "NicolasB", "link": "https://stackoverflow.com/users/10408843/nicolasb"}, "edited": false, "score": 0, "creation_date": 1537994187, "post_id": 52525624, "comment_id": 91991192, "body": "Isn&#39;t that a scope issue? <code>name</code> is last set as <code>&quot;sue&quot;</code> and then the getters/setters are called, and in their scope, <code>name</code> is still <code>&quot;sue&quot;</code> because of how the non-intuitive way in which JS scopes work. Here&#39;s a blog post explaining the issue and how to fix it: <a href=\"https://robertnyman.com/2008/10/09/explaining-javascript-scope-and-closures/\" rel=\"nofollow noreferrer\">robertnyman.com/2008/10/09/&hellip;</a>"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1537994264, "post_id": 52525624, "comment_id": 91991218, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/750486/javascript-closure-inside-loops-simple-practical-example\">JavaScript closure inside loops \u2013 simple practical example</a>"}, {"owner": {"reputation": 789, "user_id": 5479593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKVms.png?s=128&g=1", "display_name": "Void Spirit", "link": "https://stackoverflow.com/users/5479593/void-spirit"}, "edited": false, "score": 0, "creation_date": 1537994688, "post_id": 52525624, "comment_id": 91991380, "body": "Read about prototypes, that&#39;s more suitable *imo"}, {"owner": {"reputation": 33, "user_id": 5807553, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-p8rLG4u8P8k/AAAAAAAAAAI/AAAAAAAAQpg/3FuQRF234IY/photo.jpg?sz=128", "display_name": "William Bueti", "link": "https://stackoverflow.com/users/5807553/william-bueti"}, "reply_to_user": {"reputation": 99450, "user_id": 1686485, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/g3GW9.png?s=128&g=1", "display_name": "tymeJV", "link": "https://stackoverflow.com/users/1686485/tymejv"}, "edited": false, "score": 0, "creation_date": 1537997255, "post_id": 52525624, "comment_id": 91992320, "body": "@tymeJV That did the trick! :D tyvm Could you reply as an &quot;answer&quot; so I can mark it as such?"}], "answers": [{"tags": [], "owner": {"reputation": 1904, "user_id": 3614478, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/EuojC.jpg?s=128&g=1", "display_name": "ElJackiste", "link": "https://stackoverflow.com/users/3614478/eljackiste"}, "is_accepted": true, "score": 1, "last_activity_date": 1538153746, "last_edit_date": 1538153746, "creation_date": 1538029846, "answer_id": 52530783, "question_id": 52525624, "link": "https://stackoverflow.com/questions/52525624/possible-to-loop-over-properties-to-dynamically-define-getters-setters/52530783#52530783", "title": "Possible to loop over properties to dynamically define getters/setters?", "body": "<p>As mentioned in the comments it is a problem of scope.</p>\n\n<p>Your variable is, indeed, \"hoisted\", but that's not really the problem. This is mainly because the variable <code>name</code> is part of the global scope. In JavaScript, scopes are mainly functions. Control structures as loops, conditions... does not declare new scopes.</p>\n\n<p>If you do that :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var first = {\r\n  bob: 'text',\r\n  jim: 42,\r\n  sue: true\r\n},\r\nsecond = {};\r\n\r\nfor (var name in first) {\r\n  Object.defineProperty(second, name, {\r\n    value: first[name],\r\n    enumerable: true\r\n  });\r\n}\r\n\r\nconsole.log(second.bob); // \"test\"\r\nconsole.log(second.jim); // 42\r\nconsole.log(second.sue); // true</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It will works because first[name] is evaluates at each iteration of the loop.</p>\n\n<p>Now if you do that :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var first = {\r\n  bob: 'text',\r\n  jim: 42,\r\n  sue: true\r\n},\r\nsecond = {};\r\n\r\nfor (var name in first) {\r\n  Object.defineProperty(second, name, {\r\n    get: function() {\r\n      return first[name];\r\n    },\r\n    set: function(value) {\r\n      first[name] = value;\r\n    },\r\n    enumerable: true\r\n  });\r\n}\r\n\r\nconsole.log(second.bob); // true\r\nconsole.log(second.jim); // true\r\nconsole.log(second.sue); // true</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It won't works because first[name] is evaluates only when you call the getter/setter function. If after the loop you do : <code>second.bob</code> the getter function will be call and it won't find name in his own scope. It will then search in the parent scope, which is here the global scope, where name is defined. The loop being finished, name is equal to the last loop iteration. It is the same with the setter if you do <code>second.bob = 'new value';</code>. The setter function scope doesn't have a <code>name</code> variable and will look in the global scope where name is the last loop iteration.</p>\n\n<p>The solution is to define the control structure loop <code>for</code> as a scope for the variable <code>name</code> with the <code>let</code> or <code>const</code> keywords. You could also declare your definedProperty process in a function outside of the loop and only call this function inside the loop by passing the parameter <code>name</code> to her. In this case the value will be copy and 'bound' to the new function scope.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// With 'let'\r\nfor (let name in first) {\r\n  Object.defineProperty(second, name, {\r\n    // ...\r\n  });\r\n}\r\n\r\n// With 'const'\r\nfor (const name in first) {\r\n  Object.defineProperty(second, name, {\r\n    // ...\r\n  });\r\n}\r\n\r\n// With function\r\nvar defineProp = function (name) {\r\n  Object.defineProperty(second, name, {\r\n    // ...\r\n  });\r\n};\r\n\r\nfor (var name in first) {\r\n  defineProp(name);\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 5807553, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-p8rLG4u8P8k/AAAAAAAAAAI/AAAAAAAAQpg/3FuQRF234IY/photo.jpg?sz=128", "display_name": "William Bueti", "link": "https://stackoverflow.com/users/5807553/william-bueti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 687, "favorite_count": 0, "accepted_answer_id": 52530783, "answer_count": 1, "score": 0, "last_activity_date": 1538153746, "creation_date": 1537993806, "question_id": 52525624, "link": "https://stackoverflow.com/questions/52525624/possible-to-loop-over-properties-to-dynamically-define-getters-setters", "title": "Possible to loop over properties to dynamically define getters/setters?", "body": "<p>Assuming the following:</p>\n\n<pre><code>var first = {\n    bob: null,\n    jim: null,\n    sue: null\n},\nsecond = {};\n</code></pre>\n\n<p>I'd like to be able to loop over the properties of <code>first</code> and define getters/setters on <code>second</code> for each; something like the following:</p>\n\n<pre><code>for (var name in first) {\n    Object.defineProperty(second, ('' + name), {\n        get: function() {\n            return first[name];\n        },\n        set: function(value) {\n            first[name] = value;\n        }\n    });\n}\n</code></pre>\n\n<p>The problem is the getters/setters seem to only affect the last property iterated over, in this case <code>sue</code>.</p>\n\n<p>However, the following seems to work just fine:</p>\n\n<pre><code>var second = {\n    get bob() {\n        return first['bob'];\n    },\n    set bob(value) {\n        first['bob'] = value;\n    },\n    get jim() {\n        return first['jim'];\n    },\n    set jim(value) {\n        first['jim'] = value;\n    },\n    get sue() {\n        return first['sue'];\n    },\n    set sue(value) {\n        first['sue'] = value;\n    }\n};\n</code></pre>\n\n<p>I know this has to be something obvious I'm missing, but I couldn't seem to find another question on here that accurately addresses how to accomplish this.</p>\n\n<p>Thanks in advance!</p>\n"}, {"tags": ["javascript", "reactjs", "asynchronous", "promise", "mapping"], "answers": [{"comments": [{"owner": {"reputation": 173, "user_id": 8853662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2SqAH.jpg?s=128&g=1", "display_name": "hypnagogia", "link": "https://stackoverflow.com/users/8853662/hypnagogia"}, "edited": false, "score": 0, "creation_date": 1537998923, "post_id": 52525707, "comment_id": 91992844, "body": "This worked perfectly for what I needed it to do! Thank you!"}], "tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": true, "score": 2, "last_activity_date": 1537994257, "creation_date": 1537994257, "answer_id": 52525707, "question_id": 52525594, "link": "https://stackoverflow.com/questions/52525594/using-promises-in-react-to-wait-for-functions-to-finish-within-javascript-map-fu/52525707#52525707", "title": "Using promises in React to wait for functions to finish within JavaScript map function", "body": "<ul>\n<li>To your main question, you can wait for every promise that your <code>.map</code> call returns by using the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/all\" rel=\"nofollow noreferrer\"><code>Promise.all</code></a> method.</li>\n<li>Second, in order for that to work, your <code>getFileObject</code> function must return the promise it creates.</li>\n</ul>\n\n<p>So incorporating those two changes, your snippet might look like:</p>\n\n<pre><code>documents_fileUploader(formData).then(resp =&gt; {\n  return Promise.all(resp.data.items.map(url =&gt; { // Wrap in Promise.all and return it\n    const key = url.split(\"/\")[4];\n    this.setState({\n      urls: [...this.state.urls, url],\n      keys: [...this.state.keys, key]\n    });\n    return this.getFileObject(key); // Make sure to return this promise as well.\n  }));\n}).then(() =&gt; {\n   // Now this won't happen until every `getFileObject` promise has resolved...\n  this.upload();\n})\n\ngetFileObject = file =&gt; {\n  return file_view(file).then(resp =&gt; { // And return the promise here.\n    this.setState({\n      mimeTypes: [...this.state.mimeTypes, resp.data.item.headers.contentType]\n    })\n  }).catch(err =&gt; {\n    console.log(err);\n  })\n}\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 8853662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2SqAH.jpg?s=128&g=1", "display_name": "hypnagogia", "link": "https://stackoverflow.com/users/8853662/hypnagogia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 185, "favorite_count": 0, "accepted_answer_id": 52525707, "answer_count": 1, "score": 0, "last_activity_date": 1537994325, "creation_date": 1537993673, "last_edit_date": 1537994145, "question_id": 52525594, "link": "https://stackoverflow.com/questions/52525594/using-promises-in-react-to-wait-for-functions-to-finish-within-javascript-map-fu", "title": "Using promises in React to wait for functions to finish within JavaScript map function", "body": "<p>I've been trying to figure out what the proper way would be to write a promise for this function. I have an asynchronous function that makes an HTTP request to the server to retrieve a response, \"documents_fileUploader.\" I am mapping through the \"url\" of each item within the response, and each url will go in to a function that makes another HTTP request and then sets the state. I want to fire the \"upload()\" function only after everything within the \"documents_fileUploader()\" function is complete. I tried doing this without a promise and it went straight to my \"upload()\" function because request was still pending. Any suggestions on how to go about this?</p>\n\n<pre><code>documents_fileUploader(formData).then(resp =&gt; {\n  resp.data.items.map(url =&gt; {\n    const key = url.split(\"/\")[4];\n    this.setState({\n      urls: [...this.state.urls, url],\n      keys: [...this.state.keys, key]\n    });\n    this.getFileObject(key);\n  })\n}).then(() =&gt; {\n  this.upload();\n})\n\ngetFileObject = file =&gt; {\n  file_view(file).then(resp =&gt; {\n    this.setState({\n      mimeTypes: [...this.state.mimeTypes, resp.data.item.headers.contentType]\n    })\n  }).catch(err =&gt; {\n    console.log(err);\n  })\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1537993409, "post_id": 52525515, "comment_id": 91990850, "body": "Why is <code>Chapter</code> a subclass of <code>Book</code>? A book can contain multiple chapters, so a chapter is not a kind of book."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1537993549, "post_id": 52525515, "comment_id": 91990912, "body": "When you call <code>new Chapter()</code> you don&#39;t provide the <code>chapters</code> argument, so it&#39;s undefined. So <code>this.chapters = chapters</code> sets it to <code>undefined</code>. The problem has nothing to do with accessing parent properties."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537993559, "post_id": 52525515, "comment_id": 91990921, "body": "The way you&#39;ve set this up, a Chapter is also a Book , just a special kind of book. There is no parent here to access."}, {"owner": {"reputation": 8549, "user_id": 469201, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/42bf17348e28505f5e6834106d9deee4?s=128&d=identicon&r=PG", "display_name": "davidbuzatto", "link": "https://stackoverflow.com/users/469201/davidbuzatto"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1537993568, "post_id": 52525515, "comment_id": 91990927, "body": "@Barmar sorry, but it&#39;s not the case. The semantic does not matter, and, if you consider a book made by books, a chapter can sure be an book too."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1537993637, "post_id": 52525515, "comment_id": 91990960, "body": "What is <code>${book_object}</code>? That&#39;s not valid syntax for a variable. It looks like the syntax used in template literals."}, {"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 0, "creation_date": 1537994281, "post_id": 52525515, "comment_id": 91991226, "body": "@Michael with your latest code, it&#39;s logging out &#39;lorem Ipsum...&#39;. So is the problem solved?"}, {"owner": {"reputation": 595, "user_id": 8451974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d501dbd6c96e033ca2d09d7bd5f8fd47?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8451974/michael"}, "edited": false, "score": 0, "creation_date": 1537994400, "post_id": 52525515, "comment_id": 91991269, "body": "It&#39;s working for you?? Hmm. I made this question as a dumbed down version of the code I&#39;m actually using. Maybe I dumbed it down so much that I ended up fixing my problem."}, {"owner": {"reputation": 595, "user_id": 8451974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d501dbd6c96e033ca2d09d7bd5f8fd47?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8451974/michael"}, "edited": false, "score": 0, "creation_date": 1537994848, "post_id": 52525515, "comment_id": 91991453, "body": "I just realized that I was calling my function <code>getChapterText</code> in my constructor on my actual code. I updated this question to better reflect that."}, {"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "edited": false, "score": 0, "creation_date": 1537995074, "post_id": 52525515, "comment_id": 91991547, "body": "In your latest code, you&#39;re calling getChapterText before you set this.chapterIndex.  getChapterText relies on this.chapterIndex. Swap the order of those two lines."}, {"owner": {"reputation": 595, "user_id": 8451974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d501dbd6c96e033ca2d09d7bd5f8fd47?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8451974/michael"}, "edited": false, "score": 0, "creation_date": 1537995715, "post_id": 52525515, "comment_id": 91991782, "body": "Okay, I just tried that, and it worked. But it&#39;s not working for my actual code. Therefor my issue must not be in my understanding of how classes work. Thank you for your help."}, {"owner": {"reputation": 595, "user_id": 8451974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d501dbd6c96e033ca2d09d7bd5f8fd47?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8451974/michael"}, "edited": false, "score": 0, "creation_date": 1537996011, "post_id": 52525515, "comment_id": 91991896, "body": "Actually, nevermind. I finally found my issue with my main code. I had the dumbest typo in my parent class constructor. It was missing the &#39;s&#39;. So when I was initializing my class, the parent class constructor wasn&#39;t setting the variables appropriately. Jeez I can&#39;t believe this problem took me a day to solve."}], "answers": [{"comments": [{"owner": {"reputation": 595, "user_id": 8451974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d501dbd6c96e033ca2d09d7bd5f8fd47?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8451974/michael"}, "edited": false, "score": 0, "creation_date": 1537994078, "post_id": 52525564, "comment_id": 91991142, "body": "Maybe using <code>${book_object}</code> made my question too confusing. This javascript is running as JSP (java server page). Therefore it&#39;s being compiled before being served. I updated my question to reduce confusion."}], "tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": false, "score": 1, "last_activity_date": 1537993895, "last_edit_date": 1537993895, "creation_date": 1537993556, "answer_id": 52525564, "question_id": 52525515, "link": "https://stackoverflow.com/questions/52525515/cannot-access-parent-class-variable-from-child-class-in-javascript/52525564#52525564", "title": "Cannot access parent class variable from child class in javascript", "body": "<blockquote>\n  <p>var chapterOne = new Chapter(${book_object}); //book_object is an array of everything the chapter constructor needs</p>\n</blockquote>\n\n<p>The constructor you've defined expects a comma separate sequence of title, author, chapters, numberPages, etc. As long as you pass that in, things will work. But if you're passing in an object or array like you describe, then that's just a single parameter, which will be the \"title\" parameter in the constructor. The remaining parameters are undefined.</p>\n\n<p>So either change your constructor to expect the object you're passing in, or change the way you call the constructor</p>\n\n<pre><code>const chapterOne = new Chapter('some title', 'some author', ['chapter1', 'chapter2'], 42, /*etc*/);\n</code></pre>\n\n<p>If ${book_object} is an actual array, which happens to have the parameters in the right order, you could use the spread operator to turn it into the list of arguments:</p>\n\n<pre><code>const bookArray = [\n  'some title', \n  'some author', \n  ['chapter1', 'chapter'2],\n  42\n  // etc\n]\nconst chapterOne = new Chapter(...bookArray);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 1, "last_activity_date": 1537993937, "creation_date": 1537993937, "answer_id": 52525650, "question_id": 52525515, "link": "https://stackoverflow.com/questions/52525515/cannot-access-parent-class-variable-from-child-class-in-javascript/52525650#52525650", "title": "Cannot access parent class variable from child class in javascript", "body": "<p>If <code>book_object</code> is an array of the parameters needed by the contructor, you need to spread it. The correct syntax is <code>...variable</code>, not <code>${variable}</code>.</p>\n\n<pre><code>var chapterOne = new Chapter(...book_object)\n</code></pre>\n"}], "owner": {"reputation": 595, "user_id": 8451974, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d501dbd6c96e033ca2d09d7bd5f8fd47?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/8451974/michael"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1509, "favorite_count": 1, "answer_count": 2, "score": 0, "last_activity_date": 1537994772, "creation_date": 1537993268, "last_edit_date": 1537994772, "question_id": 52525515, "link": "https://stackoverflow.com/questions/52525515/cannot-access-parent-class-variable-from-child-class-in-javascript", "title": "Cannot access parent class variable from child class in javascript", "body": "<p>I have two classes, a parent class and a child class that inherits from the parent class. When initializing the child class I call the constructor of the parent class with the <code>super()</code> keyword. Then I attempt to access the parent class variable in a child method. However, when I attempt to do this I receive this error: <code>Cannot read property 'undefined'</code>. Why is the variable undefined? Does the constructor not work as I expected it to?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    class Book {\r\n      constructor(title, author, chapters) {\r\n        this.title = title; //string\r\n        this.author = author; //string\r\n        this.chapters = chapters; //array of strings\r\n      }\r\n      getTitle() {\r\n        return this.title;\r\n      }\r\n      getAuthor() {\r\n        return this.author;\r\n      }\r\n    }\r\n    class Chapter extends Book {\r\n      constructor(title, author, chapters, numberPages, subject, time, chapterIndex) {\r\n        super(title, author, chapters);\r\n        this.numberPages = numberPages;\r\n        this.subject = subject;\r\n        this.time = time;\r\n        this.chapterIndex = chapterIndex;\r\n      }\r\n      getChapterText() {\r\n        return this.chapters[this.chapterIndex];\r\n      }\r\n    }\r\n\r\n    var chapterOne = new Chapter(\"title\", \"author\", [\"lorem ipsum...\", \"lorem ipsum...\", \"lorem ipsum...\"], 42, \"about lorem ipsum\", \"3:01\", 0); //book_object is an array of everything the chapter constructor needs\r\n    console.log(chapterOne.getChapterText());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I've also tried using <code>super.chapters</code> to access the parent class variable, but I just got this error: <code>unexpected keyword super</code>.</p>\n\n<p><strong>Update</strong></p>\n\n<p>Maybe using <code>${book_object}</code> made my question too confusing. This javascript is running as JSP (java server page). Therefore it's being compiled before being served. I updated my question to reduce confusion. </p>\n\n<p><strong>Update 2</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    class Book {\r\n      constructor(title, author, chapters) {\r\n        this.title = title; //string\r\n        this.author = author; //string\r\n        this.chapters = chapters; //array of strings\r\n      }\r\n      getTitle() {\r\n        return this.title;\r\n      }\r\n      getAuthor() {\r\n        return this.author;\r\n      }\r\n    }\r\n    class Chapter extends Book {\r\n      constructor(title, author, chapters, numberPages, subject, time, chapterIndex) {\r\n        super(title, author, chapters);\r\n        this.numberPages = numberPages;\r\n        this.subject = subject;\r\n        this.time = time;\r\n        this.currentChapter = this.getChapterText(); //I forgot to include this line in my original question.\r\n        this.chapterIndex = chapterIndex;\r\n      }\r\n      getChapterText() {\r\n        return this.chapters[this.chapterIndex];\r\n      }\r\n    }\r\n\r\n    var chapterOne = new Chapter(\"title\", \"author\", [\"lorem ipsum...\", \"lorem ipsum...\", \"lorem ipsum...\"], 42, \"about lorem ipsum\", \"3:01\", 0); //book_object is an array of everything the chapter constructor needs\r\n    console.log(chapterOne.currentChapter);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I just realized that in my actual code (the code in this question is based on my actual code) I was calling my child class method in my child class constructor, and in that method I was trying to access my parent class variable. Here is a snippet of that. Turns out my issue was this all along. Would someone care to explain why this happens?</p>\n"}, {"tags": ["javascript", "function", "variables", "return"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1537993296, "post_id": 52525468, "comment_id": 91990800, "body": "This question is very unclear. The first and last code blocks should all work. It&#39;s unclear what you expect the <code>$.ajax</code> calls to do, since you&#39;re not passing proper options to <code>$.ajax</code>."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 3, "creation_date": 1537993394, "post_id": 52525468, "comment_id": 91990844, "body": "Both the first and last way give <code>5.33333333333333</code>, exactly what&#39;s expected. What are you asking? What are you trying to accomplish? I cannot make heads or tails of this question. Please also check <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a> just in case."}, {"owner": {"reputation": 789, "user_id": 5479593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKVms.png?s=128&g=1", "display_name": "Void Spirit", "link": "https://stackoverflow.com/users/5479593/void-spirit"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537993514, "post_id": 52525468, "comment_id": 91990892, "body": "As @ChrisG said I have the same result. And don&#39;t get what are you expecting. Also I noticed you are using callbacks(not using) incorrectly. You have to pass function name to a function where you are using ajax then call it when completes."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 3, "creation_date": 1537993746, "post_id": 52525468, "comment_id": 91991008, "body": "Just in case this is about multiple chained API calls, you can indeed chain $.ajax() calls. You cannot chain your functions though because they aren&#39;t returning Promises. Take a step back and tell us what your actual goal is, don&#39;t ask about a perceived solution that might be completely off track."}, {"owner": {"reputation": 10854, "user_id": 986862, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/rFbtP.jpg?s=128&g=1", "display_name": "Andre Figueiredo", "link": "https://stackoverflow.com/users/986862/andre-figueiredo"}, "edited": false, "score": 0, "creation_date": 1537994018, "post_id": 52525468, "comment_id": 91991124, "body": "<code>$.ajax</code> has not anything to do with your problem. You are not using callbacks, hence Promise has also anything to with it. Also, you are not using async code."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1537994186, "post_id": 52525468, "comment_id": 91991189, "body": "Here&#39;s your code, fixed: <a href=\"https://jsfiddle.net/khrismuc/yo2nbwh4/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/yo2nbwh4</a>"}], "answers": [{"tags": [], "owner": {"reputation": 115, "user_id": 8708353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40eb7bf6e897c17e08791f6ea00cdee3?s=128&d=identicon&r=PG&f=1", "display_name": "J.Whit", "link": "https://stackoverflow.com/users/8708353/j-whit"}, "is_accepted": true, "score": 0, "last_activity_date": 1539090820, "creation_date": 1539090820, "answer_id": 52721973, "question_id": 52525468, "link": "https://stackoverflow.com/questions/52525468/javascript-return-function-in-another-function/52721973#52721973", "title": "Javascript return function in another function", "body": "<p>I have actually found a solution to the problem. The modifyData function was the one with the problem. The return was inside another function.\nIntead of the following </p>\n\n<pre><code>function modifyData(details){\n    for(var x=0 ;x&lt;array.length;x++){\n        //this would do a massive loop which would\n        //return a json string that would be inside a function\n    }\n }\n\n\nfunction modifyData(details){\n    for(var x=0 ;x&lt;array.length;x++){\n         return functionName(callback to be done);\n        //this would do a massive loop which would\n        //return a json string that would be \n    }\n }\n</code></pre>\n"}], "owner": {"reputation": 115, "user_id": 8708353, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40eb7bf6e897c17e08791f6ea00cdee3?s=128&d=identicon&r=PG&f=1", "display_name": "J.Whit", "link": "https://stackoverflow.com/users/8708353/j-whit"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1608, "favorite_count": 0, "accepted_answer_id": 52721973, "answer_count": 1, "score": -2, "last_activity_date": 1539090820, "creation_date": 1537993025, "last_edit_date": 1538004730, "question_id": 52525468, "link": "https://stackoverflow.com/questions/52525468/javascript-return-function-in-another-function", "title": "Javascript return function in another function", "body": "<p>I have a javascript which is like this</p>\n\n<pre><code>function one (var1, var2){\n    var var3= var1+var2;\n    return var3;\n}\n\nfunction two( var4, var5){\n    var var6=var4*var5;\n    return var6;\n}\n\nfunction three(var7, var8){\n    var9=var7/var8;\n    return var9;\n}\n\nvar first = one(2, 4);\n\nvar second= two(first, 8);\n\nvar third= three(second, 9);\n</code></pre>\n\n<p>I want all the function to be separate because they each are like module which would handle different operations. So I do not want to use callback, I have tried </p>\n\n<pre><code>$.ajax(first = one(2,4))\n.then({second=two(first, 8)})\n.then(three(second,9))\n</code></pre>\n\n<p>I have also tried this</p>\n\n<pre><code>$.ajax()\n.then(function(first=one(2,4){\n    return first;\n})\n.then(function(second=two(first,4){\n    return second;\n})\n</code></pre>\n\n<p>I have also tried this</p>\n\n<pre><code>$.ajax({\n    first:one(2,4),\n    second:two(first,4),\n    third:three(second,9),\n})\n.then(function(first=one(2,4){\n    return first;\n})\n.then(function(second=two(first,4){\n    return second;\n})\n</code></pre>\n\n<p>this may sound funny but I even tried</p>\n\n<pre><code>var third= three(two(one(2, 4), 8), 9);\n</code></pre>\n\n<p>amongst many others.\nAll of them show operation takes place with the first function and other functions but the it does not give me result from previous function</p>\n\n<hr>\n\n<p><strong>This is an update to the above.\nModification</strong></p>\n\n<p><strong>I do not want to use promise in the other functions as some other functions would also call those functions and they would not be expecting a promise but a valid data</strong></p>\n\n<pre><code>function modifyData(details){\n    for(var x=0 ;x&lt;array.length;x++){\n        //this would do a massive loop which would\n        //return a json string that would be \n    }\n }\n\n\n function tableFunction(url, tableNameVar){\n    //json fields\n var details=[];\n details[0] = 'name'; \n details[1] = 'sex'; \n details[2] = 'eye_color'; \n details[3] = 'height'; \n details[4] = 'body_built'; \n        var jsonData='';\n        var main = \"\";\n    $(document).ready(function(){ \n        $('#'+tableNameVar+'').dataTable({\n            destroy: true,\n            data: JSON.parse(extraFunctionProcess(modifyData(details),details)),\n            columns:[\n                     {title: \"Name\", data:\"name\"} ,\n                     {title: \"Gender\", data:\"sex\"} ,\n                     {title: \"Eye color\", data:\"eye_color\"} ,\n                     {title: \"Height\", data:\"height\"} ,\n                     {title: \"Body built\", data:\"body_built\"} \n            ]\n        });\n    });\n}\n</code></pre>\n\n<p>I want to process the data and put it inside the table. The extraFunctionProcess has worked if the data is passed \nstraight into the data field without putting it inside the modifyData function.\n which is instead of the above it is</p>\n\n<pre><code>data: JSON.parse(extraFunctionProcess(fullData,details))\n</code></pre>\n\n<p>This has worked but due to the modification which I have done, it has brought up an error in my browser console which is \nundefined inside the extraFunctionProcess.</p>\n\n<p>I just shortened the code into I put online now.</p>\n"}, {"tags": ["javascript", "algorithm", "typescript", "d3.js", "tree"], "answers": [{"tags": [], "owner": {"reputation": 852, "user_id": 3393290, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c22cdf2556508c58e15cf12e5f53d3f0?s=128&d=identicon&r=PG&f=1", "display_name": "Aj1", "link": "https://stackoverflow.com/users/3393290/aj1"}, "is_accepted": false, "score": 0, "last_activity_date": 1537994599, "creation_date": 1537994599, "answer_id": 52525778, "question_id": 52525458, "link": "https://stackoverflow.com/questions/52525458/d3-collapsable-tree-collapse-one-level-at-a-time/52525778#52525778", "title": "D3 Collapsable Tree - Collapse one level at a time", "body": "<p>Figured it. Didn't notice d3 provides parent info.</p>\n\n<pre><code> private collpaseOneLevelNodes = (d) =&gt; {\nvar children = (d.children) ? d.children : d._children;\nif (!children || !d.children) {\n  if (!d.parent._children) {\n    d.parent._children = d.parent.children;\n    d.parent.children = null;\n  }\n  return;\n}\nif (d.children) {\n  children.forEach((node) =&gt; {\n    this.collpaseOneLevelNodes(node);\n  });\n}\n</code></pre>\n\n<p>}</p>\n\n<pre><code> public collapseOneLevel() {\n    this.collpaseOneLevelNodes(this.root);\n    this.update(this.root);\n  }\n</code></pre>\n"}], "owner": {"reputation": 852, "user_id": 3393290, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/c22cdf2556508c58e15cf12e5f53d3f0?s=128&d=identicon&r=PG&f=1", "display_name": "Aj1", "link": "https://stackoverflow.com/users/3393290/aj1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 164, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537994599, "creation_date": 1537992987, "last_edit_date": 1537993308, "question_id": 52525458, "link": "https://stackoverflow.com/questions/52525458/d3-collapsable-tree-collapse-one-level-at-a-time", "title": "D3 Collapsable Tree - Collapse one level at a time", "body": "<p>I have d3 collapsable tree. I have external button that controls expansion and collapsing of tree. I can expand all, collapsable all. And also, I can expand one level at a time. I am having trouble collapsing one level at a time.</p>\n\n<p>For any one without prior understanding of d3. <strong>If node is expanded then d.children is not empty &amp; d.<em>children is empty and if node is collapsed d</em>.children is not empty and d.children is empty</strong>.</p>\n\n<p>Here is my logic to expand one level :  </p>\n\n<pre><code>private expandNodeOneLevel(d) {\n    var children = (d.children) ? d.children : d._children;\n    if (!d.children) {\n       if (children) {\n           d.children = d._children;\n           d._children = null;\n       }\n       return;\n     }\n    if (children) {\n       children.forEach((node) =&gt; this.expandNodeOneLevel(node));\n     }\n}\n\n\n\n public expandOneLevelNodes() {\n    this.expandNodeOneLevel(this.root);\n    this.update(this.root);\n  }\n</code></pre>\n\n<p>Here is my logic to collapse one level at a time, which is wrong as it is collapsing all the tree nodes. I am having trouble to break the recursion. </p>\n\n<pre><code>private collpaseOneLevelNodes = (d) =&gt; {\n    var children = (d.children) ? d.children : d._children;\n    if (!children) {\n      return;\n    }\n    children.forEach((node) =&gt; {\n      this.collpaseOneLevelNodes(node);\n    });\n    if (d.children) {\n        d._children = d.children;\n        d.children = null;\n    }\n    return;\n  }\n\n\n\n public collapseOneLevel() {\n    this.collpaseOneLevelNodes(this.root);\n    this.update(this.root);\n  }\n</code></pre>\n\n<p>I would really appreciate if some one points out where my mistake is or any other better approach.</p>\n"}, {"tags": ["javascript", "angular", "html", "typescript", "pdf"], "comments": [{"owner": {"reputation": 2679, "user_id": 5076023, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BrdnPjt324o/AAAAAAAAAAI/AAAAAAABodc/udkqJYLsCvw/photo.jpg?sz=128", "display_name": "MichaelSolati", "link": "https://stackoverflow.com/users/5076023/michaelsolati"}, "edited": false, "score": 0, "creation_date": 1537993008, "post_id": 52525404, "comment_id": 91990696, "body": "Why not try a component library like <a href=\"https://www.npmjs.com/package/ng2-pdf-viewer\" rel=\"nofollow noreferrer\">npmjs.com/package/ng2-pdf-viewer</a>"}, {"owner": {"reputation": 2044, "user_id": 6642614, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C12Ou.png?s=128&g=1", "display_name": "Haijin", "link": "https://stackoverflow.com/users/6642614/haijin"}, "reply_to_user": {"reputation": 2679, "user_id": 5076023, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BrdnPjt324o/AAAAAAAAAAI/AAAAAAABodc/udkqJYLsCvw/photo.jpg?sz=128", "display_name": "MichaelSolati", "link": "https://stackoverflow.com/users/5076023/michaelsolati"}, "edited": false, "score": 0, "creation_date": 1537993248, "post_id": 52525404, "comment_id": 91990782, "body": "I tried once, the display is off place, cause the page slow down considerably, and gave errors that I do not know how to fix.  I will try again if I do not have other options."}, {"owner": {"reputation": 15550, "user_id": 2780943, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fa6d7beb3d67df52775cadf7c0bb4d?s=128&d=identicon&r=PG&f=1", "display_name": "user184994", "link": "https://stackoverflow.com/users/2780943/user184994"}, "edited": false, "score": 0, "creation_date": 1537993474, "post_id": 52525404, "comment_id": 91990879, "body": "You could create a backend that proxies the request and adds the <code>application&#47;pdf</code> content type"}, {"owner": {"reputation": 2044, "user_id": 6642614, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C12Ou.png?s=128&g=1", "display_name": "Haijin", "link": "https://stackoverflow.com/users/6642614/haijin"}, "edited": false, "score": 0, "creation_date": 1537993746, "post_id": 52525404, "comment_id": 91991009, "body": "Thank you, I will consider that. Can it be done in Angular only? Seems too much hassle to maintain a server for that purpose."}, {"owner": {"reputation": 1955, "user_id": 3942974, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/c7a172092b9581304bc6417560ac9eb6?s=128&d=identicon&r=PG&f=1", "display_name": "Hirad Roshandel", "link": "https://stackoverflow.com/users/3942974/hirad-roshandel"}, "edited": false, "score": 0, "creation_date": 1537998864, "post_id": 52525404, "comment_id": 91992827, "body": "Does this work? <a href=\"https://github.com/mozilla/pdf.js\" rel=\"nofollow noreferrer\">github.com/mozilla/pdf.js</a>"}, {"owner": {"reputation": 2044, "user_id": 6642614, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C12Ou.png?s=128&g=1", "display_name": "Haijin", "link": "https://stackoverflow.com/users/6642614/haijin"}, "edited": false, "score": 0, "creation_date": 1537999291, "post_id": 52525404, "comment_id": 91992960, "body": "Thank you I will take a look."}], "owner": {"reputation": 2044, "user_id": 6642614, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/C12Ou.png?s=128&g=1", "display_name": "Haijin", "link": "https://stackoverflow.com/users/6642614/haijin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 503, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1538152680, "creation_date": 1537992714, "last_edit_date": 1538152680, "question_id": 52525404, "link": "https://stackoverflow.com/questions/52525404/embedding-a-pdf-file-in-web-page-content-type-octet-steam", "title": "Embedding a PDF file in web-page: content-type octet-steam", "body": "<p>I am working on a Angular web application and it needs to display PDF files from remote servers inside a web page.</p>\n\n<p>I used <strong>iframe</strong> for this purpose. Here \"path\" being the URL for the pdf in remote server.</p>\n\n<pre><code>&lt;iframe class=\"embed-responsive-item\" [src]=\"path | safe\"&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>With test pdf files it works perfectly fine until I  moved into production environment. The PDFs are get downloaded instead of displayed when the page opens. A little digging shows that the problem is that the response header contains content-type: <strong>application/octet-stream</strong> instead of <strong>application/pdf</strong>.</p>\n\n<p>I've been trying to search for a solution. I find suggestions that change the content-type header will work. But in this case, it is a remote server that I do not have control on.</p>\n\n<p>I also tried other tags like <strong>embed</strong>. It can specify file type.</p>\n\n<pre><code>&lt;embed [src]=\"path | safe\" type=\"application/pdf\" width=\"300\" height=\"200\"&gt;\n</code></pre>\n\n<p>Still it does not work and displays a blank box. </p>\n\n<p>Any help is greatly appreciated.</p>\n\n<p><strong>Update</strong>: I discovered that PDF file server also do not support CORS requests. How Exciting! </p>\n\n<p>I've revisited ng2-pdf-viewer and it seems not that bad, but it requires CORS. Same reason pdf.js does not work. Guess that left me with a proxy server solution. Thanks guys for your help.</p>\n"}, {"tags": ["javascript", "algorithm", "grouping", "subset", "combinations"], "comments": [{"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 4, "creation_date": 1537993669, "post_id": 52525394, "comment_id": 91990971, "body": "I think you&#39;re underestimating the number of combinations you&#39;ll have. If you have 50 items and 10 subsets of size 5, for example, you end up with 49120458506088132224064306071170476903628800 possibilities. I don&#39;t think it&#39;s reasonable to expect enumerating that to complete in 2 or 3 aeons, never mind 2 or 3 minutes. (That&#39;s 50!/(5!**10), in case you&#39;re curious. I computed it with Python, because it has bignum support.)"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1537996017, "post_id": 52525394, "comment_id": 91991898, "body": "it&#39;s called permutation. the grouping is just cosmetically. jou could take this approach for getting the permuation one by one: <a href=\"https://stackoverflow.com/q/40441586/1447675\">stackoverflow.com/q/40441586/1447675</a>"}, {"owner": {"reputation": 6487, "user_id": 635069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1403794582312ddf67657288fa98ab54?s=128&d=identicon&r=PG", "display_name": "Merott", "link": "https://stackoverflow.com/users/635069/merott"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1537996283, "post_id": 52525394, "comment_id": 91991980, "body": "@rici You&#39;re right. I totally have underestimated this. Well, at least now I know! Thanks :)"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1537996904, "post_id": 52525394, "comment_id": 91992184, "body": "What exactly do you need this for?"}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1537997020, "post_id": 52525394, "comment_id": 91992224, "body": "@NinaScholz: It&#39;s not just cosmetic. The individual groups are sets, not lists (which is why OP has their members in ascending order). If it were permutations, then OP would have 304140932017133780436126081660647688443776415689605120000000&zwnj;&#8203;00000 possibilities instead of 49120458506088132224064306071170476903628800. Not that the difference is important in practice :-), although it could be with a smaller problem size. You can generate the partitions using permutations of a multiset, which is easy enough (but different)."}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "edited": false, "score": 0, "creation_date": 1537997278, "post_id": 52525394, "comment_id": 91992327, "body": "@rici, it looks like a view to the data. it does not change the algorithm, just the presentation."}, {"owner": {"reputation": 199706, "user_id": 1566221, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/ce3ea4ffd1023d4382f397312352726d?s=128&d=identicon&r=PG", "display_name": "rici", "link": "https://stackoverflow.com/users/1566221/rici"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1537997551, "post_id": 52525394, "comment_id": 91992417, "body": "@Nina: Look at OP&#39;s example with 7 items. If you generated all the permutations, you&#39;d have 5040 partitions in the output, not 210. That&#39;s not just a view."}, {"owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "edited": false, "score": 0, "creation_date": 1538005152, "post_id": 52525394, "comment_id": 91994414, "body": "This is the type of search space you need a quantum computer for, you are not going to get anywhere asking JavaScript to search such a massive space."}], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 0, "last_activity_date": 1538034023, "creation_date": 1538034023, "answer_id": 52531861, "question_id": 52525394, "link": "https://stackoverflow.com/questions/52525394/generate-all-possible-grouping-subset-combinations-of-a-set-using-up-every-item/52531861#52531861", "title": "Generate all possible grouping/subset combinations of a set, using up every item", "body": "<p><em>Proof of concept ...</em></p>\n\n<p>You could use the factorial of the length of the array as helper for getting the wanted permutation.</p>\n\n<p>Basically this algorithm calculates the indices of the array and reassembles the result upon.</p>\n\n<p>The subsets array is just cosmetically.</p>\n\n<p>This approach is slow, because it generates the n<sup>th</sup> permutaion. A faster approach could be to go on with the last permuatation and go on with the next.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getN(n, array, subsets) {\r\n    var f,\r\n        l = array.length,\r\n        indices = [],\r\n        temp;\r\n\r\n    array = array.slice();\r\n    while (l--) {\r\n        f = factorial(l);\r\n        indices.push(Math.floor(n / f));\r\n        n %= f;\r\n    }\r\n    temp = indices.map(i =&gt; array.splice(i, 1)[0]);\r\n    return subsets\r\n        ? subsets.map((i =&gt; l =&gt; temp.slice(i, i += l))(0))\r\n        : temp;\r\n\r\n\r\n}\r\n\r\nfunction factorial(num) {\r\n    var result = 1;\r\n    while (num) {\r\n        result *= num;\r\n        num--;\r\n    }\r\n    return result;\r\n}\r\n\r\nvar i, l,\r\n    array = ['a', 'b', 'c', 'd', 'e', 'f', 'g'],\r\n    subsets = [3, 2, 2],\r\n    pre = document.getElementById('out');\r\n\r\nfor (i = 0, l = factorial(array.length); i &lt; l; i++) {\r\n    pre.innerHTML += i.toString().padStart(4) +': ' + JSON.stringify(getN(i, array, subsets)) + '\\n';\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;pre id=\"out\"&gt;&lt;/pre&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 681, "user_id": 4425525, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Z9SYs.jpg?s=128&g=1", "display_name": "Jean-S&#233;bastien Gervais", "link": "https://stackoverflow.com/users/4425525/jean-s%c3%a9bastien-gervais"}, "is_accepted": false, "score": 0, "last_activity_date": 1572378336, "creation_date": 1572378336, "answer_id": 58614376, "question_id": 52525394, "link": "https://stackoverflow.com/questions/52525394/generate-all-possible-grouping-subset-combinations-of-a-set-using-up-every-item/58614376#58614376", "title": "Generate all possible grouping/subset combinations of a set, using up every item", "body": "<p>If you're looking to combine all possible combination values (cartesian product), you can use the product() function of the lodash framework : </p>\n\n<pre><code>var allCombinations = _.product(\n       /* RequestState    */[RequestState.Completed, RequestState.Failed, RequestState.PartiallyCompleted, RequestState.Canceled, RequestState.Available, RequestState.InProgress],\n       /* ApprovalState   */[ApprovalState.Denied, ApprovalState.WaitingForApproval],\n       /* hasAccessToCase */[true, false],\n       /* IsRequestOwner  */[true, false],\n       /* categoryId*/      [1, 2, 3],\n    );\n</code></pre>\n\n<p>with the example above, this will result in an array of 6x2x2x2x3 = 144 combinations</p>\n\n<p>You can then iterate over all combination with array forEach : </p>\n\n<pre><code>allCombinations.forEach(([requestState, approvalState, hasAcccesToCase,  isRequestOwner, categoryId]) =&gt; {\n\n     (...)\n\n});\n</code></pre>\n"}], "owner": {"reputation": 6487, "user_id": 635069, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/1403794582312ddf67657288fa98ab54?s=128&d=identicon&r=PG", "display_name": "Merott", "link": "https://stackoverflow.com/users/635069/merott"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 160, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1572378336, "creation_date": 1537992681, "last_edit_date": 1538002718, "question_id": 52525394, "link": "https://stackoverflow.com/questions/52525394/generate-all-possible-grouping-subset-combinations-of-a-set-using-up-every-item", "title": "Generate all possible grouping/subset combinations of a set, using up every item", "body": "<p><strong>UPDATE: I totally underestimated the magnitude of the problem. It's impossible to compute, at least in 2018 and the foreseeable future! \ud83d\ude02</strong></p>\n\n<hr>\n\n<p>Given</p>\n\n<pre><code>SET = ['a', 'b', 'c', 'd', 'e', 'f', 'g']\n</code></pre>\n\n<p>And</p>\n\n<pre><code>SUBSET_SIZES = [3, 2, 2]\n</code></pre>\n\n<p>I want to find all possible grouping/subset combinations of <code>SET</code>, as determined by <code>SUBSET_SIZES</code>, while using up all of the items in the original set.</p>\n\n<p>The result for the above input would look like this:</p>\n\n<pre><code>[['a', 'b', 'c'], ['d', 'e'], ['f', 'g']],\n[['a', 'b', 'c'], ['d', 'f'], ['e', 'g']],\n[['a', 'b', 'c'], ['d', 'g'], ['e', 'f']],\n[['a', 'b', 'c'], ['e', 'f'], ['d', 'g']],\n[['a', 'b', 'c'], ['e', 'g'], ['d', 'f']],\n[['a', 'b', 'c'], ['f', 'g'], ['d', 'e']],\n[['a', 'b', 'd'], ['c', 'e'], ['f', 'g']],\n[['a', 'b', 'd'], ['c', 'f'], ['e', 'g']],\n[['a', 'b', 'd'], ['c', 'g'], ['e', 'f']],\n[['a', 'b', 'd'], ['e', 'f'], ['c', 'g']],\n... and 200 more ...\n</code></pre>\n\n<p>My actual data set will be larger (~ 50 items) and the subset sizes will vary between 4 to 6 items each, so I'm looking for a fairly efficient way to find the combinations. However, I'm okay with it taking 2-3 minutes to complete with larger datasets.</p>\n\n<p>I'd like to implement that in JavaScript, so if you already know of a JavaScript code that can do the job, that'd be amazing. If it's ES6 generator code, even better! I'm running out of Googling power.</p>\n\n<p>Below is a code snippet with a couple of Jasmine tests:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function getPossibleGroupCombinations() {\r\n  return [];\r\n}\r\n\r\ndescribe('getPossibleGroupCombinations', () =&gt; {\r\n  it('works with a tiny set', () =&gt; {\r\n    const possibleCombos = getPossibleGroupCombinations(['a', 'b', 'c'], [2, 1]);\r\n\r\n    expect(possibleCombos).toEqual([\r\n      [['a', 'b'], ['c']],\r\n      [['a', 'c'], ['b']],\r\n      [['b', 'c'], ['a']],\r\n    ]);\r\n  });\r\n  \r\n  it('works with a big set', () =&gt; {\r\n    const possibleCombos = getPossibleGroupCombinations(\r\n      ['a', 'b', 'c', 'd', 'e', 'f', 'g'],\r\n      [3, 2, 2]\r\n    );\r\n\r\n    expect(possibleCombos).toEqual([\r\n      [['a', 'b', 'c'], ['d', 'e'], ['f', 'g']],\r\n      [['a', 'b', 'c'], ['d', 'f'], ['e', 'g']],\r\n      [['a', 'b', 'c'], ['d', 'g'], ['e', 'f']],\r\n      [['a', 'b', 'c'], ['e', 'f'], ['d', 'g']],\r\n      [['a', 'b', 'c'], ['e', 'g'], ['d', 'f']],\r\n      [['a', 'b', 'c'], ['f', 'g'], ['d', 'e']],\r\n      [['a', 'b', 'd'], ['c', 'e'], ['f', 'g']],\r\n      [['a', 'b', 'd'], ['c', 'f'], ['e', 'g']],\r\n      [['a', 'b', 'd'], ['c', 'g'], ['e', 'f']],\r\n      [['a', 'b', 'd'], ['e', 'f'], ['c', 'g']],\r\n      [['a', 'b', 'd'], ['e', 'g'], ['c', 'f']],\r\n      [['a', 'b', 'd'], ['f', 'g'], ['c', 'e']],\r\n      [['a', 'b', 'e'], ['c', 'd'], ['f', 'g']],\r\n      [['a', 'b', 'e'], ['c', 'f'], ['d', 'g']],\r\n      [['a', 'b', 'e'], ['c', 'g'], ['d', 'f']],\r\n      [['a', 'b', 'e'], ['d', 'f'], ['c', 'g']],\r\n      [['a', 'b', 'e'], ['d', 'g'], ['c', 'f']],\r\n      [['a', 'b', 'e'], ['f', 'g'], ['c', 'd']],\r\n      [['a', 'b', 'f'], ['c', 'd'], ['e', 'g']],\r\n      [['a', 'b', 'f'], ['c', 'e'], ['d', 'g']],\r\n      [['a', 'b', 'f'], ['c', 'g'], ['d', 'e']],\r\n      [['a', 'b', 'f'], ['d', 'e'], ['c', 'g']],\r\n      [['a', 'b', 'f'], ['d', 'g'], ['c', 'e']],\r\n      [['a', 'b', 'f'], ['e', 'g'], ['c', 'd']],\r\n      [['a', 'b', 'g'], ['c', 'd'], ['e', 'f']],\r\n      [['a', 'b', 'g'], ['c', 'e'], ['d', 'f']],\r\n      [['a', 'b', 'g'], ['c', 'f'], ['d', 'e']],\r\n      [['a', 'b', 'g'], ['d', 'e'], ['c', 'f']],\r\n      [['a', 'b', 'g'], ['d', 'f'], ['c', 'e']],\r\n      [['a', 'b', 'g'], ['e', 'f'], ['c', 'd']],\r\n      [['a', 'c', 'd'], ['b', 'e'], ['f', 'g']],\r\n      [['a', 'c', 'd'], ['b', 'f'], ['e', 'g']],\r\n      [['a', 'c', 'd'], ['b', 'g'], ['e', 'f']],\r\n      [['a', 'c', 'd'], ['e', 'f'], ['b', 'g']],\r\n      [['a', 'c', 'd'], ['e', 'g'], ['b', 'f']],\r\n      [['a', 'c', 'd'], ['f', 'g'], ['b', 'e']],\r\n      [['a', 'c', 'e'], ['b', 'd'], ['f', 'g']],\r\n      [['a', 'c', 'e'], ['b', 'f'], ['d', 'g']],\r\n      [['a', 'c', 'e'], ['b', 'g'], ['d', 'f']],\r\n      [['a', 'c', 'e'], ['d', 'f'], ['b', 'g']],\r\n      [['a', 'c', 'e'], ['d', 'g'], ['b', 'f']],\r\n      [['a', 'c', 'e'], ['f', 'g'], ['b', 'd']],\r\n      [['a', 'c', 'f'], ['b', 'd'], ['e', 'g']],\r\n      [['a', 'c', 'f'], ['b', 'e'], ['d', 'g']],\r\n      [['a', 'c', 'f'], ['b', 'g'], ['d', 'e']],\r\n      [['a', 'c', 'f'], ['d', 'e'], ['b', 'g']],\r\n      [['a', 'c', 'f'], ['d', 'g'], ['b', 'e']],\r\n      [['a', 'c', 'f'], ['e', 'g'], ['b', 'd']],\r\n      [['a', 'c', 'g'], ['b', 'd'], ['e', 'f']],\r\n      [['a', 'c', 'g'], ['b', 'e'], ['d', 'f']],\r\n      [['a', 'c', 'g'], ['b', 'f'], ['d', 'e']],\r\n      [['a', 'c', 'g'], ['d', 'e'], ['b', 'f']],\r\n      [['a', 'c', 'g'], ['d', 'f'], ['b', 'e']],\r\n      [['a', 'c', 'g'], ['e', 'f'], ['b', 'd']],\r\n      [['a', 'd', 'e'], ['b', 'c'], ['f', 'g']],\r\n      [['a', 'd', 'e'], ['b', 'f'], ['c', 'g']],\r\n      [['a', 'd', 'e'], ['b', 'g'], ['c', 'f']],\r\n      [['a', 'd', 'e'], ['c', 'f'], ['b', 'g']],\r\n      [['a', 'd', 'e'], ['c', 'g'], ['b', 'f']],\r\n      [['a', 'd', 'e'], ['f', 'g'], ['b', 'c']],\r\n      [['a', 'd', 'f'], ['b', 'c'], ['e', 'g']],\r\n      [['a', 'd', 'f'], ['b', 'e'], ['c', 'g']],\r\n      [['a', 'd', 'f'], ['b', 'g'], ['c', 'e']],\r\n      [['a', 'd', 'f'], ['c', 'e'], ['b', 'g']],\r\n      [['a', 'd', 'f'], ['c', 'g'], ['b', 'e']],\r\n      [['a', 'd', 'f'], ['e', 'g'], ['b', 'c']],\r\n      [['a', 'd', 'g'], ['b', 'c'], ['e', 'f']],\r\n      [['a', 'd', 'g'], ['b', 'e'], ['c', 'f']],\r\n      [['a', 'd', 'g'], ['b', 'f'], ['c', 'e']],\r\n      [['a', 'd', 'g'], ['c', 'e'], ['b', 'f']],\r\n      [['a', 'd', 'g'], ['c', 'f'], ['b', 'e']],\r\n      [['a', 'd', 'g'], ['e', 'f'], ['b', 'c']],\r\n      [['a', 'e', 'f'], ['b', 'c'], ['d', 'g']],\r\n      [['a', 'e', 'f'], ['b', 'd'], ['c', 'g']],\r\n      [['a', 'e', 'f'], ['b', 'g'], ['c', 'd']],\r\n      [['a', 'e', 'f'], ['c', 'd'], ['b', 'g']],\r\n      [['a', 'e', 'f'], ['c', 'g'], ['b', 'd']],\r\n      [['a', 'e', 'f'], ['d', 'g'], ['b', 'c']],\r\n      [['a', 'e', 'g'], ['b', 'c'], ['d', 'f']],\r\n      [['a', 'e', 'g'], ['b', 'd'], ['c', 'f']],\r\n      [['a', 'e', 'g'], ['b', 'f'], ['c', 'd']],\r\n      [['a', 'e', 'g'], ['c', 'd'], ['b', 'f']],\r\n      [['a', 'e', 'g'], ['c', 'f'], ['b', 'd']],\r\n      [['a', 'e', 'g'], ['d', 'f'], ['b', 'c']],\r\n      [['a', 'f', 'g'], ['b', 'c'], ['d', 'e']],\r\n      [['a', 'f', 'g'], ['b', 'd'], ['c', 'e']],\r\n      [['a', 'f', 'g'], ['b', 'e'], ['c', 'd']],\r\n      [['a', 'f', 'g'], ['c', 'd'], ['b', 'e']],\r\n      [['a', 'f', 'g'], ['c', 'e'], ['b', 'd']],\r\n      [['a', 'f', 'g'], ['d', 'e'], ['b', 'c']],\r\n      [['b', 'c', 'd'], ['a', 'e'], ['f', 'g']],\r\n      [['b', 'c', 'd'], ['a', 'f'], ['e', 'g']],\r\n      [['b', 'c', 'd'], ['a', 'g'], ['e', 'f']],\r\n      [['b', 'c', 'd'], ['e', 'f'], ['a', 'g']],\r\n      [['b', 'c', 'd'], ['e', 'g'], ['a', 'f']],\r\n      [['b', 'c', 'd'], ['f', 'g'], ['a', 'e']],\r\n      [['b', 'c', 'e'], ['a', 'd'], ['f', 'g']],\r\n      [['b', 'c', 'e'], ['a', 'f'], ['d', 'g']],\r\n      [['b', 'c', 'e'], ['a', 'g'], ['d', 'f']],\r\n      [['b', 'c', 'e'], ['d', 'f'], ['a', 'g']],\r\n      [['b', 'c', 'e'], ['d', 'g'], ['a', 'f']],\r\n      [['b', 'c', 'e'], ['f', 'g'], ['a', 'd']],\r\n      [['b', 'c', 'f'], ['a', 'd'], ['e', 'g']],\r\n      [['b', 'c', 'f'], ['a', 'e'], ['d', 'g']],\r\n      [['b', 'c', 'f'], ['a', 'g'], ['d', 'e']],\r\n      [['b', 'c', 'f'], ['d', 'e'], ['a', 'g']],\r\n      [['b', 'c', 'f'], ['d', 'g'], ['a', 'e']],\r\n      [['b', 'c', 'f'], ['e', 'g'], ['a', 'd']],\r\n      [['b', 'c', 'g'], ['a', 'd'], ['e', 'f']],\r\n      [['b', 'c', 'g'], ['a', 'e'], ['d', 'f']],\r\n      [['b', 'c', 'g'], ['a', 'f'], ['d', 'e']],\r\n      [['b', 'c', 'g'], ['d', 'e'], ['a', 'f']],\r\n      [['b', 'c', 'g'], ['d', 'f'], ['a', 'e']],\r\n      [['b', 'c', 'g'], ['e', 'f'], ['a', 'd']],\r\n      [['b', 'd', 'e'], ['a', 'c'], ['f', 'g']],\r\n      [['b', 'd', 'e'], ['a', 'f'], ['c', 'g']],\r\n      [['b', 'd', 'e'], ['a', 'g'], ['c', 'f']],\r\n      [['b', 'd', 'e'], ['c', 'f'], ['a', 'g']],\r\n      [['b', 'd', 'e'], ['c', 'g'], ['a', 'f']],\r\n      [['b', 'd', 'e'], ['f', 'g'], ['a', 'c']],\r\n      [['b', 'd', 'f'], ['a', 'c'], ['e', 'g']],\r\n      [['b', 'd', 'f'], ['a', 'e'], ['c', 'g']],\r\n      [['b', 'd', 'f'], ['a', 'g'], ['c', 'e']],\r\n      [['b', 'd', 'f'], ['c', 'e'], ['a', 'g']],\r\n      [['b', 'd', 'f'], ['c', 'g'], ['a', 'e']],\r\n      [['b', 'd', 'f'], ['e', 'g'], ['a', 'c']],\r\n      [['b', 'd', 'g'], ['a', 'c'], ['e', 'f']],\r\n      [['b', 'd', 'g'], ['a', 'e'], ['c', 'f']],\r\n      [['b', 'd', 'g'], ['a', 'f'], ['c', 'e']],\r\n      [['b', 'd', 'g'], ['c', 'e'], ['a', 'f']],\r\n      [['b', 'd', 'g'], ['c', 'f'], ['a', 'e']],\r\n      [['b', 'd', 'g'], ['e', 'f'], ['a', 'c']],\r\n      [['b', 'e', 'f'], ['a', 'c'], ['d', 'g']],\r\n      [['b', 'e', 'f'], ['a', 'd'], ['c', 'g']],\r\n      [['b', 'e', 'f'], ['a', 'g'], ['c', 'd']],\r\n      [['b', 'e', 'f'], ['c', 'd'], ['a', 'g']],\r\n      [['b', 'e', 'f'], ['c', 'g'], ['a', 'd']],\r\n      [['b', 'e', 'f'], ['d', 'g'], ['a', 'c']],\r\n      [['b', 'e', 'g'], ['a', 'c'], ['d', 'f']],\r\n      [['b', 'e', 'g'], ['a', 'd'], ['c', 'f']],\r\n      [['b', 'e', 'g'], ['a', 'f'], ['c', 'd']],\r\n      [['b', 'e', 'g'], ['c', 'd'], ['a', 'f']],\r\n      [['b', 'e', 'g'], ['c', 'f'], ['a', 'd']],\r\n      [['b', 'e', 'g'], ['d', 'f'], ['a', 'c']],\r\n      [['b', 'f', 'g'], ['a', 'c'], ['d', 'e']],\r\n      [['b', 'f', 'g'], ['a', 'd'], ['c', 'e']],\r\n      [['b', 'f', 'g'], ['a', 'e'], ['c', 'd']],\r\n      [['b', 'f', 'g'], ['c', 'd'], ['a', 'e']],\r\n      [['b', 'f', 'g'], ['c', 'e'], ['a', 'd']],\r\n      [['b', 'f', 'g'], ['d', 'e'], ['a', 'c']],\r\n      [['c', 'd', 'e'], ['a', 'b'], ['f', 'g']],\r\n      [['c', 'd', 'e'], ['a', 'f'], ['b', 'g']],\r\n      [['c', 'd', 'e'], ['a', 'g'], ['b', 'f']],\r\n      [['c', 'd', 'e'], ['b', 'f'], ['a', 'g']],\r\n      [['c', 'd', 'e'], ['b', 'g'], ['a', 'f']],\r\n      [['c', 'd', 'e'], ['f', 'g'], ['a', 'b']],\r\n      [['c', 'd', 'f'], ['a', 'b'], ['e', 'g']],\r\n      [['c', 'd', 'f'], ['a', 'e'], ['b', 'g']],\r\n      [['c', 'd', 'f'], ['a', 'g'], ['b', 'e']],\r\n      [['c', 'd', 'f'], ['b', 'e'], ['a', 'g']],\r\n      [['c', 'd', 'f'], ['b', 'g'], ['a', 'e']],\r\n      [['c', 'd', 'f'], ['e', 'g'], ['a', 'b']],\r\n      [['c', 'd', 'g'], ['a', 'b'], ['e', 'f']],\r\n      [['c', 'd', 'g'], ['a', 'e'], ['b', 'f']],\r\n      [['c', 'd', 'g'], ['a', 'f'], ['b', 'e']],\r\n      [['c', 'd', 'g'], ['b', 'e'], ['a', 'f']],\r\n      [['c', 'd', 'g'], ['b', 'f'], ['a', 'e']],\r\n      [['c', 'd', 'g'], ['e', 'f'], ['a', 'b']],\r\n      [['c', 'e', 'f'], ['a', 'b'], ['d', 'g']],\r\n      [['c', 'e', 'f'], ['a', 'd'], ['b', 'g']],\r\n      [['c', 'e', 'f'], ['a', 'g'], ['b', 'd']],\r\n      [['c', 'e', 'f'], ['b', 'd'], ['a', 'g']],\r\n      [['c', 'e', 'f'], ['b', 'g'], ['a', 'd']],\r\n      [['c', 'e', 'f'], ['d', 'g'], ['a', 'b']],\r\n      [['c', 'e', 'g'], ['a', 'b'], ['d', 'f']],\r\n      [['c', 'e', 'g'], ['a', 'd'], ['b', 'f']],\r\n      [['c', 'e', 'g'], ['a', 'f'], ['b', 'd']],\r\n      [['c', 'e', 'g'], ['b', 'd'], ['a', 'f']],\r\n      [['c', 'e', 'g'], ['b', 'f'], ['a', 'd']],\r\n      [['c', 'e', 'g'], ['d', 'f'], ['a', 'b']],\r\n      [['c', 'f', 'g'], ['a', 'b'], ['d', 'e']],\r\n      [['c', 'f', 'g'], ['a', 'd'], ['b', 'e']],\r\n      [['c', 'f', 'g'], ['a', 'e'], ['b', 'd']],\r\n      [['c', 'f', 'g'], ['b', 'd'], ['a', 'e']],\r\n      [['c', 'f', 'g'], ['b', 'e'], ['a', 'd']],\r\n      [['c', 'f', 'g'], ['d', 'e'], ['a', 'b']],\r\n      [['d', 'e', 'f'], ['a', 'b'], ['c', 'g']],\r\n      [['d', 'e', 'f'], ['a', 'c'], ['b', 'g']],\r\n      [['d', 'e', 'f'], ['a', 'g'], ['b', 'c']],\r\n      [['d', 'e', 'f'], ['b', 'c'], ['a', 'g']],\r\n      [['d', 'e', 'f'], ['b', 'g'], ['a', 'c']],\r\n      [['d', 'e', 'f'], ['c', 'g'], ['a', 'b']],\r\n      [['d', 'e', 'g'], ['a', 'b'], ['c', 'f']],\r\n      [['d', 'e', 'g'], ['a', 'c'], ['b', 'f']],\r\n      [['d', 'e', 'g'], ['a', 'f'], ['b', 'c']],\r\n      [['d', 'e', 'g'], ['b', 'c'], ['a', 'f']],\r\n      [['d', 'e', 'g'], ['b', 'f'], ['a', 'c']],\r\n      [['d', 'e', 'g'], ['c', 'f'], ['a', 'b']],\r\n      [['d', 'f', 'g'], ['a', 'b'], ['c', 'e']],\r\n      [['d', 'f', 'g'], ['a', 'c'], ['b', 'e']],\r\n      [['d', 'f', 'g'], ['a', 'e'], ['b', 'c']],\r\n      [['d', 'f', 'g'], ['b', 'c'], ['a', 'e']],\r\n      [['d', 'f', 'g'], ['b', 'e'], ['a', 'c']],\r\n      [['d', 'f', 'g'], ['c', 'e'], ['a', 'b']],\r\n      [['e', 'f', 'g'], ['a', 'b'], ['c', 'd']],\r\n      [['e', 'f', 'g'], ['a', 'c'], ['b', 'd']],\r\n      [['e', 'f', 'g'], ['a', 'd'], ['b', 'c']],\r\n      [['e', 'f', 'g'], ['b', 'c'], ['a', 'd']],\r\n      [['e', 'f', 'g'], ['b', 'd'], ['a', 'c']],\r\n      [['e', 'f', 'g'], ['c', 'd'], ['a', 'b']],\r\n    ]);\r\n  });\r\n});\r\n\r\n\r\n// load jasmine htmlReporter\r\n(function() {\r\n  var env = jasmine.getEnv();\r\n  env.addReporter(new jasmine.HtmlReporter());\r\n  env.execute();\r\n}());</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://cdn.jsdelivr.net/jasmine/1.3.1/jasmine.css\" rel=\"stylesheet\"/&gt;\r\n&lt;script src=\"https://cdn.jsdelivr.net/jasmine/1.3.1/jasmine.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdn.jsdelivr.net/jasmine/1.3.1/jasmine-html.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "firebase", "request", "google-cloud-functions"], "comments": [{"owner": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "edited": false, "score": 0, "creation_date": 1537993563, "post_id": 52525371, "comment_id": 91990925, "body": "What does this have to do with firebase? It looks like you are trying to connect to stripe? What http library are you using?"}], "answers": [{"comments": [{"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "reply_to_user": {"reputation": 108, "user_id": 10328954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b26a0c46dce2e2580866a5819f2ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/10328954/ben"}, "edited": false, "score": 0, "creation_date": 1537997100, "post_id": 52525978, "comment_id": 91992259, "body": "What do you get with <code>parsedBody</code>? (when the promise resolves in the then)?"}, {"owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "reply_to_user": {"reputation": 108, "user_id": 10328954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b26a0c46dce2e2580866a5819f2ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/10328954/ben"}, "edited": false, "score": 0, "creation_date": 1537997233, "post_id": 52525978, "comment_id": 91992312, "body": "Don&#39;t forget to install request-promise (<code>npm install --save request-promise</code>)"}, {"owner": {"reputation": 108, "user_id": 10328954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b26a0c46dce2e2580866a5819f2ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/10328954/ben"}, "edited": false, "score": 0, "creation_date": 1538009152, "post_id": 52525978, "comment_id": 91995328, "body": "So it works by removing .then(() =&gt; bc it throws an unexpected token error and manually stopping the website.  If I just let the website run, it continously tries and stripe eventually rejects the token.  To combat that, going to use the Firebase write of the token as an indicator to redirect user to different website.  Imagine there&#39;s a much better way to do it in JS so all ears to suggestions."}], "tags": [], "owner": {"reputation": 51583, "user_id": 3371862, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/DyCE6.png?s=128&g=1", "display_name": "Renaud Tarnec", "link": "https://stackoverflow.com/users/3371862/renaud-tarnec"}, "is_accepted": true, "score": 3, "last_activity_date": 1537995702, "creation_date": 1537995702, "answer_id": 52525978, "question_id": 52525371, "link": "https://stackoverflow.com/questions/52525371/firebase-function-using-request-library-not-firing/52525978#52525978", "title": "Firebase Function using request library not firing", "body": "<p>I understand that you want to POST to <a href=\"https://connect.stripe.com/oauth/token\" rel=\"nofollow noreferrer\">https://connect.stripe.com/oauth/token</a> by using the <code>request</code> library and, on success, you want to write the <code>code</code> value to the database.</p>\n\n<p>You should use promises, in your Cloud Function, to handle asynchronous tasks. By default request does not return promises, so you need to use an interface wrapper for request, like <a href=\"https://github.com/request/request-promise\" rel=\"nofollow noreferrer\">request-promise</a> </p>\n\n<p>Therefore, the following should normally do the trick:</p>\n\n<pre><code>.....\nvar rp = require('request-promise');\n.....\n\nexports.stripeConnect = functions.https.onRequest((req, res) =&gt; {\n    var code = req.query.code;\n    const ref = admin.database().ref('/stripe_advisors/testing');\n    var dataString = `client_secret=sk_test_example&amp;code=${code}&amp;grant_type=authorization_code`;\n    var options = {\n            url: 'https://connect.stripe.com/oauth/token',\n            method: 'POST',\n            body: dataString\n    };\n\n    rp(options)\n    .then(parsedBody =&gt; {\n        return ref.update({ code: code });\n    .then(() =&gt; {\n        res.send('Success');\n    })\n    .catch(err =&gt; {\n        console.log(err);\n        res.status(500).send(err);\n    });\n\n});\n</code></pre>\n"}], "owner": {"reputation": 108, "user_id": 10328954, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/51b26a0c46dce2e2580866a5819f2ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/10328954/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 1, "accepted_answer_id": 52525978, "answer_count": 1, "score": 2, "last_activity_date": 1582162409, "creation_date": 1537992578, "last_edit_date": 1538331710, "question_id": 52525371, "link": "https://stackoverflow.com/questions/52525371/firebase-function-using-request-library-not-firing", "title": "Firebase Function using request library not firing", "body": "<p>Almost there, but for some reason my HTTP post request isn't firing and eventually the function timesout.  Completely beside myself and posting my code to see if anyone picks up on any noob moves that I'm completely missing.  NOTE:  the database write completes so I'm assuming that the HTTP Post request isn't firing, is that a safe assumption?  Or JS is a different beast?  </p>\n\n<pre><code>exports.stripeConnect = functions.https.onRequest((req, res) =&gt; {\n    var code = req.query.code;\n    const ref = admin.database().ref(`/stripe_advisors/testing`);\n    var dataString = `client_secret=sk_test_example&amp;code=${code}&amp;grant_type=authorization_code`;\n    var options = {\n            url: 'https://connect.stripe.com/oauth/token',\n            method: 'POST',\n            body: dataString\n    };\n\n    function callback(error, response, body) {\n            if (!error &amp;&amp; response.statusCode === 200) {\n            console.log(body);\n            }\n    }\n\n    request(options, callback);\n    return ref.update({ code: code });\n});\n</code></pre>\n"}, {"tags": ["javascript", "webpack", "webpack-4", "webpack-dev-middleware", "webpack-hot-middleware"], "comments": [{"owner": {"reputation": 18028, "user_id": 2039244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oyBkc.png?s=128&g=1", "display_name": "sdgluck", "link": "https://stackoverflow.com/users/2039244/sdgluck"}, "edited": false, "score": 0, "creation_date": 1537994628, "post_id": 52525337, "comment_id": 91991353, "body": "Have you installed the package? <code>npm install webpack-hot-middleware</code>"}, {"owner": {"reputation": 31, "user_id": 10420775, "user_type": "registered", "profile_image": "https://graph.facebook.com/2004075909650281/picture?type=large", "display_name": "Ben Lloyd", "link": "https://stackoverflow.com/users/10420775/ben-lloyd"}, "reply_to_user": {"reputation": 18028, "user_id": 2039244, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oyBkc.png?s=128&g=1", "display_name": "sdgluck", "link": "https://stackoverflow.com/users/2039244/sdgluck"}, "edited": false, "score": 0, "creation_date": 1538068747, "post_id": 52525337, "comment_id": 92024100, "body": "I did intstall the package"}, {"owner": {"reputation": 2307, "user_id": 1322204, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/hRcJT.jpg?s=128&g=1", "display_name": "Sujit.Warrier", "link": "https://stackoverflow.com/users/1322204/sujit-warrier"}, "edited": false, "score": 0, "creation_date": 1604595068, "post_id": 52525337, "comment_id": 114401003, "body": "any solution for this?"}, {"owner": {"reputation": 1429, "user_id": 548874, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/81fd1c10c81b1c974aba8402c67f2c4c?s=128&d=identicon&r=PG", "display_name": "wosis", "link": "https://stackoverflow.com/users/548874/wosis"}, "edited": false, "score": 0, "creation_date": 1608201784, "post_id": 52525337, "comment_id": 115513186, "body": "I had a similar problem: deleting and re-installing node_modules fixed it in the end"}], "owner": {"reputation": 31, "user_id": 10420775, "user_type": "registered", "profile_image": "https://graph.facebook.com/2004075909650281/picture?type=large", "display_name": "Ben Lloyd", "link": "https://stackoverflow.com/users/10420775/ben-lloyd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1433, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1537992430, "creation_date": 1537992430, "question_id": 52525337, "link": "https://stackoverflow.com/questions/52525337/module-not-found-error-cant-resolve-webpack-hot-middleware-clientpath-we", "title": "Module not found: Error: Can&#39;t resolve &#39;webpack-hot-middleware/client?path=/__webpack_hmr&amp;timeout=20000&amp;reload=true&#39; when using webpack-hot-middleware", "body": "<p>I am using webpack-hot-middleware for hot module replacement for javascript ui scripts in an express app. Whenever I start the server, I get this error:\nModule not found: Error: Can't resolve 'webpack-hot-middleware/client?path=/__webpack_hmr&amp;timeout=20000&amp;reload=true'.</p>\n\n<p>Here is my webpack config, which I compile in the webserver:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const path = require('path');\r\n\r\nmodule.exports = {\r\n  mode: 'development',\r\n  devtool: 'source-map',\r\n  entry: [ path.join(__dirname, 'ui/lib/utilities/index.js') , 'webpack-hot-middleware/client?path=/__webpack_hmr&amp;timeout=20000&amp;reload=true' ],\r\n  output: {\r\n    path: path.join(__dirname, 'ui/dist'),\r\n    filename: '[name].js',\r\n    publicPath: 'http://localhost:3000'\r\n  },\r\n  resolve: {\r\n    extensions: [\r\n      '.js',\r\n    ],\r\n  },\r\n  module: {\r\n    rules: [\r\n      {\r\n        test: /\\.js$/,\r\n        exclude: /node_modules/, // exclude any and all files in the node_modules folder\r\n        include: path.resolve(__dirname, 'scripts'),\r\n        use: [\r\n          {\r\n            loader: 'babel-loader',\r\n            options: {\r\n              presets: ['env', 'es2015'],\r\n              plugins: [\r\n                // OccurrenceOrderPlugin is needed for webpack 1.x only\r\n                new webpack.optimize.OccurrenceOrderPlugin(),\r\n                new webpack.HotModuleReplacementPlugin(),\r\n                // Use NoErrorsPlugin for webpack 1.x\r\n                new webpack.NoEmitOnErrorsPlugin()\r\n              ],\r\n              camelcase: true,\r\n              emitErrors: false,\r\n              failOnHint: false,\r\n            },\r\n          },\r\n          { loader: 'style-loader' },\r\n          { loader: 'css-loader' },\r\n        ],\r\n      },\r\n    ],\r\n  },\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>And here's the compilation in the server code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  web.use(webpackDevMiddleware(compiler, {\r\n    noInfo: true,\r\n    publicPath: webpackConfig.output.publicPath,\r\n    writeToDisk: true,\r\n    hot: true\r\n  }));\r\n  web.use(require(\"webpack-hot-middleware\")(compiler, {\r\n    log: console.log, path: '/__webpack_hmr', heartbeat: 10 * 1000\r\n  }));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "object", "variables", "assign", "quoting"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 2, "creation_date": 1537992943, "post_id": 52525300, "comment_id": 91990656, "body": "Whether a key is quoted or not matters little <i>in an object literal</i> (aside from stuff like keys with dashes). <code>{a: 1}</code> would produce the exact same object as <code>{&quot;a&quot;: 1}</code> Once initialised, the object representation is completely independent from that - for both objects the <code>a</code> key would be the same. When that representation is being printed, how it&#39;s shown is implementation dependent. In this case, it appears <code>3qti7jkhkjhkjhkjh4</code> is being wrapped because it starts with a number which is not a normally valid way to have that key in an object literal."}, {"owner": {"reputation": 63, "user_id": 6431358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a5de479a6448398f0a8672615947673?s=128&d=identicon&r=PG&f=1", "display_name": "Eken", "link": "https://stackoverflow.com/users/6431358/eken"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1537993392, "post_id": 52525300, "comment_id": 91990843, "body": "Thanks! I just tried some more times, and you&#39;re correct. When the object is first assigned and starts with a number, it&#39;s being quoted. Would never have thought that. I know that the difference is very little, but I think it would &quot;be best&quot; to have it all either quoted, or not quoted. Is this possible or do I have to live with that the object keys will be different depending on it&#39;s value?"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1537993831, "post_id": 52525300, "comment_id": 91991042, "body": "Unless you can override the way this value is being printed (I don&#39;t know if it&#39;s possible, but it might) - then, no it&#39;s not possible to change that. With a little caveat - if you have a plain JS object where the values are only primitives or arrays or objects, then you can turn it to JSON via <code>JSON.stringify</code> - in JSON all keys are always quoted. Printing that string will always be consistent. You can pretty print if you do <code>JSON.stringify(obj, null, 4)</code> - the last parameter causes the string to be properly indented."}, {"owner": {"reputation": 63, "user_id": 6431358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a5de479a6448398f0a8672615947673?s=128&d=identicon&r=PG&f=1", "display_name": "Eken", "link": "https://stackoverflow.com/users/6431358/eken"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1538221109, "post_id": 52525300, "comment_id": 92072953, "body": "Alright, I tried JSON stringifying my objects but since it contains websocket-objects which have circular references it doesn&#39;t work. So I&#39;ll have to live with the quoting differences. Thanks a lot for your help!"}], "owner": {"reputation": 63, "user_id": 6431358, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a5de479a6448398f0a8672615947673?s=128&d=identicon&r=PG&f=1", "display_name": "Eken", "link": "https://stackoverflow.com/users/6431358/eken"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537992604, "creation_date": 1537992262, "last_edit_date": 1537992604, "question_id": 52525300, "link": "https://stackoverflow.com/questions/52525300/unconsistent-quoting-behaviour-javascript-objects", "title": "Unconsistent quoting behaviour javascript objects", "body": "<p>I'm having some issues with getting consistent quoting inside my Javascript objects. For consistency I want to have all keys quoted but it's not working as expected once I use variables as keys.</p>\n\n<p>When I create an entire object and push it to an array like this:</p>\n\n<pre><code>users.push({\n    \"username\": username, \n    \"userid\": userId, \n    \"memberof\":membershipArr, \n    \"sessions\":{\n        [sessionId]:[ws]\n    }\n});\n</code></pre>\n\n<p>The actual sessionId \"key\" is quoted with single quotes automatically, but when I retrieve an object and add new \"child\"objects to the session \"value holder\" they're not quoted. This is the code I'm using for that.</p>\n\n<pre><code>userobj.sessions[sessionId] = [ws];\n</code></pre>\n\n<p>This is how the object looks:</p>\n\n<pre><code>{\n    username: 'DonaldDuck',\n    userid: '1',\n    memberof: [ 1, 2, 3 ],\n    sessions: \n    { \n     '3qti7jkhkjhkjhkjh4': [ [Object] ],\n      j53bnmbmms7689ptlc4: [ [Object], [Object] ],\n      bnbmnbnmb2nme2m2jk2: [ [Object] ] \n    } \n} \n</code></pre>\n\n<p>I'm sure I'm doing something wrong/in a bad way but I can't figure out what.</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "edited": false, "score": 2, "creation_date": 1537992430, "post_id": 52525285, "comment_id": 91990415, "body": "I recommend defining those <code>display</code> settings using a CSS class and then using jQuery&#39;s <a href=\"http://api.jquery.com/toggleclass/\" rel=\"nofollow noreferrer\"><code>toggleClass()</code></a>. Can we see your relevant HTML and CSS, as well?"}, {"owner": {"reputation": 16032, "user_id": 1248177, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce4713378691ec2899a27c845a3748f7?s=128&d=identicon&r=PG", "display_name": "aloisdg", "link": "https://stackoverflow.com/users/1248177/aloisdg"}, "edited": false, "score": 0, "creation_date": 1537992699, "post_id": 52525285, "comment_id": 91990536, "body": "Why #help_box is inline?"}], "answers": [{"tags": [], "owner": {"reputation": 650, "user_id": 7096322, "user_type": "registered", "accept_rate": 45, "profile_image": "https://i.stack.imgur.com/tD2Ou.png?s=128&g=1", "display_name": "zerosand1s", "link": "https://stackoverflow.com/users/7096322/zerosand1s"}, "is_accepted": true, "score": 1, "last_activity_date": 1537992707, "creation_date": 1537992707, "answer_id": 52525403, "question_id": 52525285, "link": "https://stackoverflow.com/questions/52525285/how-to-toggle-between-css-changes/52525403#52525403", "title": "How to toggle between CSS changes", "body": "<p>You could toggle CSS classes as commented by @showdev. Or you could try this</p>\n\n<pre><code>$('#help_btn').click(function() {\n    if($('#help_box').is(':visible')) {\n        $('#help_box').css('display', 'none');\n    } else {\n        $('#help_box').css('display', 'inline');\n    }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 16032, "user_id": 1248177, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/ce4713378691ec2899a27c845a3748f7?s=128&d=identicon&r=PG", "display_name": "aloisdg", "link": "https://stackoverflow.com/users/1248177/aloisdg"}, "is_accepted": false, "score": 0, "last_activity_date": 1537992867, "creation_date": 1537992867, "answer_id": 52525431, "question_id": 52525285, "link": "https://stackoverflow.com/questions/52525285/how-to-toggle-between-css-changes/52525431#52525431", "title": "How to toggle between CSS changes", "body": "<p>You can use <code>toggleClass()</code> to toggle two classes.</p>\n\n<p>ToggleClass logic is that we add the missing class and we remove the previous one.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#help_btn').click(function(){\r\n    $('#help_box').toggleClass(\"hidden shown\");\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.shown { display: inline; }\r\n.hidden { display: none; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n  &lt;button id=\"help_btn\"&gt;Change&lt;/button&gt;\r\n\r\n  &lt;div id=\"help_box\"&gt;&lt;p&gt; Some helpful info!&lt;/p&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 789, "user_id": 5479593, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BKVms.png?s=128&g=1", "display_name": "Void Spirit", "link": "https://stackoverflow.com/users/5479593/void-spirit"}, "is_accepted": false, "score": 0, "last_activity_date": 1537992914, "creation_date": 1537992914, "answer_id": 52525445, "question_id": 52525285, "link": "https://stackoverflow.com/questions/52525285/how-to-toggle-between-css-changes/52525445#52525445", "title": "How to toggle between CSS changes", "body": "<p>Create any class </p>\n\n<p><code>.someclass{ display: inline}</code></p>\n\n<p>Then toggle class</p>\n\n<pre><code>$('#help_btn').click(function(){\n     $('#help_box').toggleClass(\"someClass\");   \n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2707, "user_id": 2417833, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/a7Rh6.jpg?s=128&g=1", "display_name": "scraaappy", "link": "https://stackoverflow.com/users/2417833/scraaappy"}, "is_accepted": false, "score": 1, "last_activity_date": 1537993127, "creation_date": 1537993127, "answer_id": 52525489, "question_id": 52525285, "link": "https://stackoverflow.com/questions/52525285/how-to-toggle-between-css-changes/52525489#52525489", "title": "How to toggle between CSS changes", "body": "<p>Use <a href=\"http://api.jquery.com/toggleclass/\" rel=\"nofollow noreferrer\">toggleClass();</a> as other answers suggest or use <a href=\"http://api.jquery.com/Toggle/\" rel=\"nofollow noreferrer\">toggle();</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#help_btn').click(function(){\r\n    $('#help_box').toggle();\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n\r\n&lt;div id=\"help_box\"&gt;&lt;p&gt; Some helpful info!&lt;/p&gt;&lt;/div&gt;\r\n&lt;button id=\"help_btn\"&gt;help?&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n\nNote that you have typo in your html code, you've got to properly double-quote id of your elements.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 6354948, "user_type": "registered", "profile_image": "https://graph.facebook.com/512524105616482/picture?type=large", "display_name": "Abdullah Ahmed", "link": "https://stackoverflow.com/users/6354948/abdullah-ahmed"}, "is_accepted": false, "score": 0, "last_activity_date": 1537993748, "creation_date": 1537993748, "answer_id": 52525609, "question_id": 52525285, "link": "https://stackoverflow.com/questions/52525285/how-to-toggle-between-css-changes/52525609#52525609", "title": "How to toggle between CSS changes", "body": "<p>There are two common ways:</p>\n\n<p>The first one is by checking the css property and reversing it, something like this:</p>\n\n<pre><code>$(\".something-i-clicked\").on(\"click\", function() {\n\nif($(\".my-class\").css(\"display\") == \"none\") { // if display: none; is set to .my-class\n\n  // reverse it to display: block;\n  $(\".my-class\").css(\"display\", \"block\");\n\n} else { // it has display: block;\n\n  // reverse it to display: none;\n  $(\".my-class\").css(\"display\", \"none\");\n\n}\n})\n</code></pre>\n\n<p>The second way is by toggling a modifier css class, maybe like this:</p>\n\n<pre><code>// my_css_file.css\n.my-class {\n  display: none;\n}\n.d-block {\ndisplay: block;\n}\n\n\n// my_js_file.js\n$(\".something-i-clicked\").on(\"click\", function() {\n// toggle the class\n$(\".my-class\").toggleClass(\"d-block\");\n})\n</code></pre>\n"}], "owner": {"reputation": 2429, "user_id": 5091805, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/e4vgq.png?s=128&g=1", "display_name": "Ari", "link": "https://stackoverflow.com/users/5091805/ari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 110, "favorite_count": 0, "accepted_answer_id": 52525403, "answer_count": 5, "score": 1, "last_activity_date": 1537993748, "creation_date": 1537992183, "last_edit_date": 1537992838, "question_id": 52525285, "link": "https://stackoverflow.com/questions/52525285/how-to-toggle-between-css-changes", "title": "How to toggle between CSS changes", "body": "<p>I have a button that when pressed hides a div using 'Display: None;'.\nHow do I write in jquery to make the css property toggle between Display: None and Display: Block?</p>\n\n<pre><code>$('#help_btn').click(function(){\n    $('#help_box').css('display', 'none');\n});\n</code></pre>\n\n<p>when you click it again</p>\n\n<pre><code>$('#help_box').css('display', 'block');\n</code></pre>\n\n<p>so on and so forth. Thanks!</p>\n\n<p>edit:</p>\n\n<p>My css would look like this</p>\n\n<pre><code>#help_box {\n    display: block;\n}\n</code></pre>\n\n<p>and my html is </p>\n\n<pre><code>&lt;div id='help_box&gt;&lt;p&gt; Some helpful info!&lt;/p&gt;&lt;/div&gt;\n&lt;button id='help_btn&gt;help?&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "edited": false, "score": 1, "creation_date": 1537992477, "post_id": 52525329, "comment_id": 91990437, "body": "Yea i just figured that out by looking closer, jesus that makes me downvote myself, thanks anyway, you saw it faster than me."}], "tags": [], "owner": {"reputation": 2308, "user_id": 9250786, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uDuTWq8eMng/AAAAAAAAAAI/AAAAAAAAAO8/gpKjbrHzO3U/photo.jpg?sz=128", "display_name": "Shubham Gupta", "link": "https://stackoverflow.com/users/9250786/shubham-gupta"}, "is_accepted": true, "score": 2, "last_activity_date": 1537992525, "last_edit_date": 1537992525, "creation_date": 1537992393, "answer_id": 52525329, "question_id": 52525280, "link": "https://stackoverflow.com/questions/52525280/react-component-problem-expected-but-found/52525329#52525329", "title": "React Component problem (&#39;;&#39; expected, but found &#39;,&#39;)", "body": "<p>Move componentDidMount and render function within your component class. They are outside of the class in given code snippet.</p>\n\n<pre><code>import React, {Component} from 'react';\n\nclass ApiPosts extends Component {\n    constructor() {\n        super();\n        this.state = {\n            blogPosts: [],\n        };\n    }\n    componentDidMount() {}\n    render() {}\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "edited": false, "score": 0, "creation_date": 1537992526, "post_id": 52525342, "comment_id": 91990460, "body": "Spot on, saw that too late (been fighting this for 50 minutes and found that error 2 minutes after posting a question)."}], "tags": [], "owner": {"reputation": 1915, "user_id": 3991628, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/j2pFg.png?s=128&g=1", "display_name": "Christopher Bradshaw", "link": "https://stackoverflow.com/users/3991628/christopher-bradshaw"}, "is_accepted": false, "score": 1, "last_activity_date": 1537992457, "creation_date": 1537992457, "answer_id": 52525342, "question_id": 52525280, "link": "https://stackoverflow.com/questions/52525280/react-component-problem-expected-but-found/52525342#52525342", "title": "React Component problem (&#39;;&#39; expected, but found &#39;,&#39;)", "body": "<p>You have <code>componentDidMount</code> and <code>render</code> defined outside of the component itself.</p>\n\n<p>It should look like this:</p>\n\n<pre><code>import React, {Component} from 'react';\n\nclass ApiPosts extends Component {\n    constructor() {\n        super();\n        this.state = {\n            blogPosts: [],\n        };\n    }\n\n    componentDidMount() {\n       fetch('http://localhost:53595/blog/posts')\n        .then(results =&gt; {\n            return results.json();\n        }).then(data =&gt; {\n            let blogPosts = data.results.map((post) =&gt; {\n                return(\n                    &lt;div key={post.results}&gt;\n                        &lt;div&gt;{post.body}&lt;/div&gt;\n                    &lt;/div&gt;\n                )\n            });\n            this.setState({blogPosts: blogPosts});\n            console.log(\"state\", this.state.blogPosts);\n        })\n    }\n\n    render() {\n        return (\n            &lt;div className=\"container2\"&gt;\n                &lt;div className=\"container1\"&gt;\n                    {this.state.blogPosts}\n                &lt;/div&gt;\n            &lt;/div&gt;\n        )\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 732, "user_id": 9282582, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-xALhxEs8d-0/AAAAAAAAAAI/AAAAAAAABLM/8E-eGxKet68/photo.jpg?sz=128", "display_name": "Dante R.", "link": "https://stackoverflow.com/users/9282582/dante-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1521, "favorite_count": 0, "accepted_answer_id": 52525329, "answer_count": 2, "score": -1, "last_activity_date": 1537992525, "creation_date": 1537992164, "question_id": 52525280, "link": "https://stackoverflow.com/questions/52525280/react-component-problem-expected-but-found", "title": "React Component problem (&#39;;&#39; expected, but found &#39;,&#39;)", "body": "<p>This is driving me crazy. I just started playing around with react trying to learn, but i can't even make a simple API call because of a extremely weird error....</p>\n\n<p>This is my code -> </p>\n\n<pre><code>import React, {Component} from 'react';\n\nclass ApiPosts extends Component {\n    constructor() {\n        super();\n        this.state = {\n            blogPosts: [],\n        };\n    }\n}\n\ncomponentDidMount(){\n\n    fetch('http://localhost:53595/blog/posts')\n    .then(results =&gt; {\n        return results.json();\n    }).then(data =&gt; {\n        let blogPosts = data.results.map((post) =&gt; {\n            return(\n                &lt;div key={post.results}&gt;\n                    &lt;div&gt;{post.body}&lt;/div&gt;\n                &lt;/div&gt;\n            )\n        });\n        this.setState({blogPosts: blogPosts});\n        console.log(\"state\", this.state.blogPosts);\n    })\n}\n\nrender(){\n    return (\n        &lt;div className=\"container2\"&gt;\n            &lt;div className=\"container1\"&gt;\n                {this.state.blogPosts}\n            &lt;/div&gt;\n        &lt;/div&gt;\n    )\n}\n</code></pre>\n\n<p>Lines 12 and 30 (\"componentDidMount(){  &amp; render(){\") are throwing me an error showing that i haven't closed them with ';'.</p>\n\n<p>The error shows up in visual studio code &amp; fails to build my app with the following error -> </p>\n\n<pre><code>/react-website/src/ApiPosts.js: Unexpected token, expected ; (12:19)\n</code></pre>\n\n<p>I literally tried to close EVERYTHING in that file just to see where the error is coming from, but no luck.</p>\n\n<p>Any idea?</p>\n"}, {"tags": ["javascript", "jquery", "node.js", "ecmascript-6", "use-strict"], "comments": [{"owner": {"reputation": 16607, "user_id": 829835, "user_type": "registered", "accept_rate": 99, "profile_image": "https://i.stack.imgur.com/TteD0.jpg?s=128&g=1", "display_name": "rlemon", "link": "https://stackoverflow.com/users/829835/rlemon"}, "edited": false, "score": 0, "creation_date": 1537992466, "post_id": 52525249, "comment_id": 91990430, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/25334974/order-dependencies-jquery-is-not-defined-with-browserify\">order dependencies: jQuery is not defined with browserify</a>"}], "answers": [{"comments": [{"owner": {"reputation": 144, "user_id": 1678928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/745d995e12fe0951926552a833913734?s=128&d=identicon&r=PG", "display_name": "Clay Hess", "link": "https://stackoverflow.com/users/1678928/clay-hess"}, "edited": false, "score": 0, "creation_date": 1537994000, "post_id": 52525389, "comment_id": 91991113, "body": "Thanks! That seems to be the issue. I had been playing with that thinking it might be the culprit and I had already tried your suggestion. When I try that, Bootstrap balks saying that it requires jQuery. Do you know of a way to utilize &#39;use strict&#39;, which I like using to protect things, and require jQuery into the code? Perhaps there is a better way to go about this? Let me know if oyu would like to see more code."}, {"owner": {"reputation": 144, "user_id": 1678928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/745d995e12fe0951926552a833913734?s=128&d=identicon&r=PG", "display_name": "Clay Hess", "link": "https://stackoverflow.com/users/1678928/clay-hess"}, "edited": false, "score": 0, "creation_date": 1537994174, "post_id": 52525389, "comment_id": 91991180, "body": "Also, I forgot to ask...I use VS Code and ESLint. Are you aware of a lineter setting that woudl have caught this?"}, {"owner": {"reputation": 2456, "user_id": 8047719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nzqR2.jpg?s=128&g=1", "display_name": "NAVIN", "link": "https://stackoverflow.com/users/8047719/navin"}, "reply_to_user": {"reputation": 144, "user_id": 1678928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/745d995e12fe0951926552a833913734?s=128&d=identicon&r=PG", "display_name": "Clay Hess", "link": "https://stackoverflow.com/users/1678928/clay-hess"}, "edited": false, "score": 0, "creation_date": 1537994396, "post_id": 52525389, "comment_id": 91991268, "body": "can also use jshint with your Visual Studio or Sublime or anyother by installing their plugin for jshint"}, {"owner": {"reputation": 144, "user_id": 1678928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/745d995e12fe0951926552a833913734?s=128&d=identicon&r=PG", "display_name": "Clay Hess", "link": "https://stackoverflow.com/users/1678928/clay-hess"}, "edited": false, "score": 0, "creation_date": 1537994493, "post_id": 52525389, "comment_id": 91991296, "body": "I used to use JSHint, but I moved to ESLint due to using more ECMAScript features."}, {"owner": {"reputation": 2456, "user_id": 8047719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nzqR2.jpg?s=128&g=1", "display_name": "NAVIN", "link": "https://stackoverflow.com/users/8047719/navin"}, "reply_to_user": {"reputation": 144, "user_id": 1678928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/745d995e12fe0951926552a833913734?s=128&d=identicon&r=PG", "display_name": "Clay Hess", "link": "https://stackoverflow.com/users/1678928/clay-hess"}, "edited": false, "score": 0, "creation_date": 1537994632, "post_id": 52525389, "comment_id": 91991355, "body": "JSHint got lots of add on to file to let them know what to check for or not. like add this to top of js file <code>&#47;*jshint multistr: true,node: true, esversion: 6, undef: true, unused: true, varstmt: true*&#47;</code>     for more options see <a href=\"http://jshint.com/docs/options/\" rel=\"nofollow noreferrer\">jshint.com/docs/options</a>"}, {"owner": {"reputation": 3115, "user_id": 864233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/l0YCn.jpg?s=128&g=1", "display_name": "romellem", "link": "https://stackoverflow.com/users/864233/romellem"}, "edited": false, "score": 0, "creation_date": 1538056704, "post_id": 52525389, "comment_id": 92016949, "body": "To expose the imported jQuery library to both <code>$</code> and <code>jQuery</code>, what I&#39;ve done in the past is just set those variables on to the <code>window</code> object after the import:  <code>var jQuery = require(&#39;jquery&#39;); window.$ = window.jQuery = jQuery;</code>"}], "tags": [], "owner": {"reputation": 2456, "user_id": 8047719, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nzqR2.jpg?s=128&g=1", "display_name": "NAVIN", "link": "https://stackoverflow.com/users/8047719/navin"}, "is_accepted": true, "score": 1, "last_activity_date": 1537992641, "creation_date": 1537992641, "answer_id": 52525389, "question_id": 52525249, "link": "https://stackoverflow.com/questions/52525249/how-to-require-jquery-in-node-using-gulp/52525389#52525389", "title": "How to require jQuery in Node using Gulp?", "body": "<p>You are using <code>use strict</code>, which prevents any miss creation of global variable.</p>\n\n<p>Thus when issue is with <code>var $ = jQuery = require('jquery');</code> as accidental variable jQuery which doesn't exist is been created as global variable and assigned to <code>$</code>. <code>use strict</code> prevented this.</p>\n\n<p>Just use</p>\n\n<pre><code>'use strict';\n var $ = require('jquery');\n</code></pre>\n\n<p>Also do read <a href=\"https://stackoverflow.com/questions/1335851\">What does 'use strict' do in JavaScript</a></p>\n"}], "owner": {"reputation": 144, "user_id": 1678928, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/745d995e12fe0951926552a833913734?s=128&d=identicon&r=PG", "display_name": "Clay Hess", "link": "https://stackoverflow.com/users/1678928/clay-hess"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4867, "favorite_count": 0, "accepted_answer_id": 52525389, "answer_count": 1, "score": 2, "last_activity_date": 1537993489, "creation_date": 1537992023, "last_edit_date": 1537993489, "question_id": 52525249, "link": "https://stackoverflow.com/questions/52525249/how-to-require-jquery-in-node-using-gulp", "title": "How to require jQuery in Node using Gulp?", "body": "<p>Building a PWA on top of NodeJS. Utilizing <code>gulp</code> to processes <code>package/bundle</code> for production. Also using <code>jQuery</code>.</p>\n\n<p>Receiving the error:</p>\n\n<blockquote>\n  <p>Uncaught ReferenceError: jQuery is not defined </p>\n</blockquote>\n\n<p><code>package.json</code>:</p>\n\n<pre><code>\"devDependencies\": {\n  \"browserify\": \"^16.2.2\",\n  \"gulp\": \"^3.9.1\",\n  \"gulp-browserify\": \"^0.5.1\",\n  \"gulp-clean-css\": \"^3.10.0\",\n  \"gulp-concat-css\": \"^3.1.0\",\n  \"gulp-if\": \"^2.0.2\",\n  \"gulp-sourcemaps\": \"^2.6.4\",\n  \"gulp-uglify\": \"^3.0.1\",\n  \"gulp-webserver\": \"^0.9.1\",\n  \"jquery\": \"^3.3.1\",\n  \"sw-precache\": \"^5.2.1\"\n}\n</code></pre>\n\n<p>Gulp task is:</p>\n\n<pre><code>gulp.task('js', function () {\nreturn gulp.src(src + '/js/app.js')\n    .pipe(browserify())\n    .pipe(gulpif(environment === 'production', uglify()))\n    .on('error', function (err) {\n        console.error('Error!', err.message);\n    })\n    .pipe(gulp.dest(dest + '/js'));\n});\n</code></pre>\n\n<p><code>app.js</code> is:</p>\n\n<pre><code>(function () {\n  'use strict';\n  var $ = jQuery = require('jquery');\n  require('./bootstrap-3.3.7.min.js');\n  $('.loader').fadeOut(1000);\n\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker\n    .register('./service-worker.js')\n    .then(function (registration) \n      console.log('Service Worker Active', registration.scope);\n    })\n    .catch(function (err) {\n      console.log('Service worker registration failed : ', err);\n    });\n  }\n})(); // Page Ready\n</code></pre>\n\n<p>If my understanding of Node is correct, <code>jQuery</code> gets included from the <code>require</code> call before used the <code>$</code>. So I am confused as to why I am receiving the error.</p>\n\n<p>Note that while other posts have had issues with Browserify and jQUery, I do not believe that is the issue.</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1537992129, "post_id": 52525166, "comment_id": 91990253, "body": "That <code>parseInt</code> is suspicious!"}, {"owner": {"reputation": 329, "user_id": 2031671, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/62c2f2ab2794824bfc796033a86da612?s=128&d=identicon&r=PG", "display_name": "Learner", "link": "https://stackoverflow.com/users/2031671/learner"}, "reply_to_user": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1537992305, "post_id": 52525166, "comment_id": 91990343, "body": "That is working fine when I remove this <code>table-striped</code> I am getting as expected but I would like to know is there way to over ride"}], "answers": [{"comments": [{"owner": {"reputation": 329, "user_id": 2031671, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/62c2f2ab2794824bfc796033a86da612?s=128&d=identicon&r=PG", "display_name": "Learner", "link": "https://stackoverflow.com/users/2031671/learner"}, "edited": false, "score": 0, "creation_date": 1537992064, "post_id": 52525210, "comment_id": 91990220, "body": "Is there a way can I over write this with in my function where I am performing each"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "reply_to_user": {"reputation": 329, "user_id": 2031671, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/62c2f2ab2794824bfc796033a86da612?s=128&d=identicon&r=PG", "display_name": "Learner", "link": "https://stackoverflow.com/users/2031671/learner"}, "edited": false, "score": 0, "creation_date": 1537992343, "post_id": 52525210, "comment_id": 91990362, "body": "Can you just make a selector that has a higher specificity?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "reply_to_user": {"reputation": 329, "user_id": 2031671, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/62c2f2ab2794824bfc796033a86da612?s=128&d=identicon&r=PG", "display_name": "Learner", "link": "https://stackoverflow.com/users/2031671/learner"}, "edited": false, "score": 1, "creation_date": 1537992379, "post_id": 52525210, "comment_id": 91990387, "body": "<code>.table-striped&gt;tbody&gt;tr.alert-success:nth-of-type(odd) { background-color: #dff0d8; }</code>"}, {"owner": {"reputation": 329, "user_id": 2031671, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/62c2f2ab2794824bfc796033a86da612?s=128&d=identicon&r=PG", "display_name": "Learner", "link": "https://stackoverflow.com/users/2031671/learner"}, "edited": false, "score": 0, "creation_date": 1537992485, "post_id": 52525210, "comment_id": 91990441, "body": "Can I specify that in my script?"}], "tags": [], "owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "is_accepted": true, "score": 1, "last_activity_date": 1537991835, "creation_date": 1537991835, "answer_id": 52525210, "question_id": 52525166, "link": "https://stackoverflow.com/questions/52525166/high-lighting-row-is-not-working-as-expected-jquery/52525210#52525210", "title": "High lighting row is not working as expected jquery", "body": "<p>Your CSS rules override it because of <a href=\"https://www.w3.org/TR/selectors-3/#specificity\" rel=\"nofollow noreferrer\">specificity</a></p>\n\n<pre><code>.table-striped&gt;tbody&gt;tr:nth-of-type(odd) {\n    background-color: #f9f9f9;\n}\n\n\n.alert-success {\n  color: #3c763d;\n  background-color: #dff0d8;\n  border-color: #d6e9c6;\n}\n</code></pre>\n\n<p>The specificity is greater so it overrides your one.</p>\n"}], "owner": {"reputation": 329, "user_id": 2031671, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/62c2f2ab2794824bfc796033a86da612?s=128&d=identicon&r=PG", "display_name": "Learner", "link": "https://stackoverflow.com/users/2031671/learner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 52525210, "answer_count": 1, "score": 0, "last_activity_date": 1537991877, "creation_date": 1537991628, "last_edit_date": 1537991877, "question_id": 52525166, "link": "https://stackoverflow.com/questions/52525166/high-lighting-row-is-not-working-as-expected-jquery", "title": "High lighting row is not working as expected jquery", "body": "<p>I have a table which binds master and child data, when there is no data in child I would like to highlight the entire tr in green it is working partially with the code I have written</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"#Main tbody&gt;tr\").each(function() {\r\n  var textval = $(this).find($(\"[id$='_rowCount']\")).text();\r\n\r\n  if (parseInt(textval) === 0) {\r\n    $(this).addClass(\"alert-success\");\r\n  } else {\r\n    $(this).removeClass(\"alert-success\");\r\n  }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;table class=\"table table-striped table-bordered\" cellspacing=\"0\" rules=\"all\" border=\"1\" id=\"Main\" style=\"border-collapse:collapse;\"&gt;\r\n  &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n      &lt;td class=\"search-table-item\"&gt;\r\n        &lt;div class=\"row\"&gt;\r\n          &lt;div class=\"col-md-4\"&gt;\r\n            &lt;strong&gt;\r\n\t\t\t\t&lt;span id=\"Main_ctl02_Label4\" class=\"left-loated\"&gt;Test&lt;/span&gt;\r\n\t\t\t&lt;/strong&gt;\r\n            &lt;span id=\"Main_ctl02_rowCount\" class=\"rowStyle hidden\"&gt;1&lt;/span&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n          &lt;table class=\"table table-bordered\" cellspacing=\"0\" rules=\"all\" border=\"1\" id=\"Main_ctl02_Child\" style=\"border-collapse:collapse;\"&gt;\r\n            &lt;tbody&gt;\r\n              &lt;tr&gt;\r\n                &lt;td class=\"col-md-1\"&gt;Data exists&lt;/td&gt;\r\n\r\n              &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n          &lt;/table&gt;\r\n        &lt;/div&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td class=\"search-table-item\"&gt;\r\n        &lt;div class=\"row\"&gt;\r\n          &lt;div class=\"col-md-4\"&gt;\r\n            &lt;strong&gt;\r\n   \t\t\t\t&lt;span id=\"Main_ctl03_Label4\" class=\"leftfloated\"&gt;Test1&lt;/span&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/strong&gt;\r\n            &lt;span id=\"Main_ctl03_rowCount\" class=\"rowStyle hidden\"&gt;0&lt;/span&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n          &lt;table class=\"table table-bordered\" cellspacing=\"0\" rules=\"all\" border=\"1\" id=\"Main_ctl03_Child\" style=\"border-collapse:collapse;\"&gt;\r\n            &lt;tbody&gt;\r\n              &lt;tr&gt;\r\n                &lt;td colspan=\"6\"&gt;No Data&lt;/td&gt;\r\n              &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n          &lt;/table&gt;\r\n        &lt;/div&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td class=\"search-table-item\"&gt;\r\n        &lt;div class=\"row\"&gt;\r\n          &lt;div class=\"col-md-4\"&gt;\r\n            &lt;strong&gt;\r\n\t\t\t&lt;span id=\"Main_ctl03_Label4\" class=\"left-floated\"&gt;Test2&lt;/span&gt;\r\n\t\t\t\t\t\t\t\t\t\t\t\t&lt;/strong&gt;\r\n            &lt;span id=\"Main_ctl03_rowCount\" class=\"rowStyle hidden\"&gt;0&lt;/span&gt;\r\n          &lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n          &lt;table class=\"table table-bordered\" cellspacing=\"0\" rules=\"all\" border=\"1\" id=\"Main_ctl03_Child\" style=\"border-collapse:collapse;\"&gt;\r\n            &lt;tbody&gt;\r\n              &lt;tr&gt;\r\n                &lt;td colspan=\"6\"&gt;No Data&lt;/td&gt;\r\n              &lt;/tr&gt;\r\n            &lt;/tbody&gt;\r\n          &lt;/table&gt;\r\n        &lt;/div&gt;\r\n      &lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>As you see the second tr is highlighted in green where as the 3rd one is not fully so can some one help me, I am having rowcount where it shows the number based on that I am adding the class.</p>\n\n<p><strong>My guess is due to default class of table <code>table table-striped table-bordered</code></strong> but I would like to keep this and apply the style as required</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "react-native", "higher-order-components"], "comments": [{"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538022054, "post_id": 52525133, "comment_id": 91997993, "body": "<a href=\"https://github.com/Microsoft/TypeScript/issues/27385\" rel=\"nofollow noreferrer\">This bug</a> is part of the problem.  I will write more if I have a chance."}, {"owner": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "reply_to_user": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "edited": false, "score": 0, "creation_date": 1538041990, "post_id": 52525133, "comment_id": 92007566, "body": "Thanks for the effort, Matt McCutchen! I&#39;d love to hear from you soon."}], "answers": [{"comments": [{"owner": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538134358, "post_id": 52544150, "comment_id": 92047409, "body": "Hi Matt, thanks a lot for the thorough explanation. The line <code>instead of declaring a type variable for the inner props type and defining the outer props type by excluding things, declare a type variable for the outer props type and define the inner props type as an intersection</code> in your other answer has removed the error from my code. Sadly, now the <code>onActionClicked</code> prop is usable by the end-user of the HOC. Have I misunderstood something about what you meant? If we return a <code>ComponentType&lt;P&gt;</code>, <code>P</code> will always include the <code>InjectedProps</code>, right? Whether we <code>P extends InjectedProps</code> or <code>&amp;</code>."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538144171, "post_id": 52544150, "comment_id": 92053086, "body": "I don&#39;t know exactly what you tried, but I went ahead and added my version of the solution.  Let me know if you have further issues or questions."}, {"owner": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538403512, "post_id": 52544150, "comment_id": 92120997, "body": "Hi Matt, thanks again for all the effort. In your example, the end-user is still able to do the following: <code>&lt;DialogLoading onActionClicked={(_: any) =&gt; {}}   &#47;&gt;;</code>. I.e. the user of the HOC can still specify <code>onActionClicked</code> on the final HOC component. I remain uncertain as to how to prohibit this."}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538425269, "post_id": 52544150, "comment_id": 92131293, "body": "There were several mistakes in my code; I thought I tested that it type-checked but apparently not.  Sorry.  Please try the updated version."}, {"owner": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538439625, "post_id": 52544150, "comment_id": 92135375, "body": "This seems to work perfectly, thanks Matt! It&#39;s the middle of the night here, and I wont have time to properly test this out until wednesday. If everything works out by then, I&#39;ll mark your answer as accepted. Thanks again for all your diligent work! As a side node, I don&#39;t quite understand the comment on the &quot;fragile&quot; TypeScript rule you mention in your solution. If you could enlighten slightly on that, it would be much appreciated!"}, {"owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "reply_to_user": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538445616, "post_id": 52544150, "comment_id": 92136463, "body": "I realized that a trick I recently added to <a href=\"https://stackoverflow.com/a/52528669\">the other answer</a> to solve a different problem will also solve this &quot;fragility&quot; problem.  I&#39;ve added the trick here, added some explanation to the other answer, and added an example here of how the &quot;fragility&quot; problem can manifest if the trick isn&#39;t used."}, {"owner": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "edited": false, "score": 0, "creation_date": 1538591514, "post_id": 52544150, "comment_id": 92200322, "body": "Your answer seems to be working! Thanks a lot for the help, I&#39;ll mark your answer as accepted!"}], "tags": [], "owner": {"reputation": 22363, "user_id": 4468617, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a09c08e1ae93a83e9102b6715fc75b4c?s=128&d=identicon&r=PG", "display_name": "Matt McCutchen", "link": "https://stackoverflow.com/users/4468617/matt-mccutchen"}, "is_accepted": true, "score": 2, "last_activity_date": 1538445457, "last_edit_date": 1538445457, "creation_date": 1538077667, "answer_id": 52544150, "question_id": 52525133, "link": "https://stackoverflow.com/questions/52525133/react-native-higher-order-component-with-ref-callback-in-typescript-throws-com/52544150#52544150", "title": "React Native - Higher Order Component with ref callback in TypeScript throws compile error", "body": "<blockquote>\n  <p>Am I correct in assuming the ref callback did not work because the <code>Wrapped Component</code> type was <code>React.ComponentType&lt;P&gt;</code> instead of <code>React.ComponentClass&lt;P&gt;</code>?</p>\n</blockquote>\n\n<p>Roughly speaking, yes.  When you make a JSX element from the <code>WrappedComponent</code>, which has a union type (<code>React.ComponentType&lt;P&gt; = React.ComponentClass&lt;P&gt; | React.StatelessComponent&lt;P&gt;</code>), TypeScript finds the props type corresponding to each alternative of the union and then takes the union of the props types using subtype reduction.  From <a href=\"https://raw.githubusercontent.com/Microsoft/TypeScript/0a97663843e11f745d9998d54db0970ee3bfb748/src/compiler/checker.ts\" rel=\"nofollow noreferrer\">checker.ts</a> (which is too big to link to the lines on GitHub):</p>\n\n<pre><code>    function resolveCustomJsxElementAttributesType(openingLikeElement: JsxOpeningLikeElement,\n        shouldIncludeAllStatelessAttributesType: boolean,\n        elementType: Type,\n        elementClassType?: Type): Type {\n\n        if (elementType.flags &amp; TypeFlags.Union) {\n            const types = (elementType as UnionType).types;\n            return getUnionType(types.map(type =&gt; {\n                return resolveCustomJsxElementAttributesType(openingLikeElement, shouldIncludeAllStatelessAttributesType, type, elementClassType);\n            }), UnionReduction.Subtype);\n        }\n</code></pre>\n\n<p>I'm not sure why this is the rule; an intersection would make more sense for ensuring that all required props are present regardless of which alternative of the union the component is.  In our example, the props type for <code>React.ComponentClass&lt;P&gt;</code> includes <code>ref</code> while the props type for <code>React.StatelessComponent&lt;P&gt;</code> does not.  Normally, a property is considered \"known\" for a union type if it is present in at least one constituent of the union.  However, in the example, the subtype reduction throws out the props type for <code>React.ComponentClass&lt;P&gt;</code> since it happens to be a subtype of (have more properties than) the props type for <code>React.StatelessComponent&lt;P&gt;</code>, so we're left with just <code>React.StatelessComponent&lt;P&gt;</code>, which does not have a <code>ref</code> property.  Again, this all seems weird, but it produced an error that pointed to an actual bug in your code, so I'm not inclined to file a bug against TypeScript.</p>\n\n<blockquote>\n  <p>Why does changing the <code>Wrapped Component</code> type to <code>React.ComponentClass&lt;P&gt;</code> result in a compile error on the <code>onActionClicked</code> prop of the <code>Wrapped Component</code>?</p>\n</blockquote>\n\n<p>The root cause of this error is that TypeScript is unable to reason that the combination <code>onActionClicked={this.onActionClicked} {...this.props}</code> of type <code>Readonly&lt;HocProps&lt;C, A, P&gt;&gt; &amp; { onActionClicked: (action: A) =&gt; void; }</code> provides the required props type <code>P</code>.  Your intent is that if you subtract <code>onActionClicked</code> from <code>P</code> and then add it back, you should be left with <code>P</code>, but TypeScript has no built-in rule to verify this.  (There is a potential issue that <code>P</code> could declare an <code>onActionClicked</code> property whose type is a subtype of <code>(action: A) =&gt; void</code>, but your use pattern is common enough that I expect that if TypeScript were to add such a rule, the rule would hack around this issue somehow.)</p>\n\n<p>It's confusing that TypeScript 3.0.3 reports the error on <code>onActionClicked</code> (though this may be due to the issue I mentioned).  I tested and at some point between 3.0.3 and 3.2.0-dev.20180926, the behavior changed to report the error on <code>WrappedComponent</code>, which seems more reasonable, so no further follow-up is needed here.</p>\n\n<p>The reason the error <em>doesn't</em> occur when the <code>WrappedComponent</code> type is <code>React.ComponentType&lt;P&gt;</code> is because for a stateless function component (unlike a component class), TypeScript only checks that you pass enough props to satisfy the constraint of the props type <code>P</code>, i.e., <code>InjectedProps&lt;A&gt;</code>, not actually <code>P</code>.  I believe this is a bug and have <a href=\"https://github.com/Microsoft/TypeScript/issues/27385\" rel=\"nofollow noreferrer\">reported it</a>.</p>\n\n<blockquote>\n  <p>Why does changing the type alias for <code>HocProps</code> remove said error on the <code>onActionClicked</code> prop? Aren't they completely unrelated?</p>\n</blockquote>\n\n<p>Because then <code>{...this.props}</code> by itself satisfies the required <code>P</code>.</p>\n\n<blockquote>\n  <p>Is the <code>Subtract</code> functionality I've cooked up correct? Is that where the errors are coming from?</p>\n</blockquote>\n\n<p>Your <code>Subtract</code> is correct, but as described above, TypeScript has very little support for reasoning about the underlying <code>Pick</code> and <code>Exclude</code>.</p>\n\n<p>To solve your original problem, I recommend using type aliases and intersections instead of subtractions as described in <a href=\"https://stackoverflow.com/a/52528669\">this answer</a>.  In your case, this would look like:</p>\n\n<pre><code>import * as React from \"react\";\n\ninterface InjectedProps&lt;A&gt; \n{   onActionClicked: (action: A) =&gt; void;}\n\ninterface ExternalProps&lt;C, A&gt;\n{   onActionClickListener?: (component: C | null, action: A) =&gt; void;}\n\n// See https://stackoverflow.com/a/52528669 for full explanation.\nconst hocInnerPropsMarker = Symbol();\ntype HocInnerProps&lt;P, A&gt; = P &amp; {[hocInnerPropsMarker]?: undefined} &amp; InjectedProps&lt;A&gt;;\n\ntype HocProps&lt;C, A, P&gt; = P &amp; ExternalProps&lt;C, A&gt;;\n\nconst hoc = &lt;C extends React.Component&lt;HocInnerProps&lt;P, A&gt;&gt;, A, P&gt;\n    (WrappedComponent: {new(props: HocInnerProps&lt;P, A&gt;, context?: any): C}) =&gt;\n{\n    const hoc = class WithActions extends React.Component&lt;HocProps&lt;C, A, P&gt;&gt;\n    {\n        onActionClickedListeners;  // dummy declaration\n\n        private onActionClicked = (action: A) =&gt;\n        {\n            this.onActionClickedListeners.forEach(listener =&gt; \n            {   listener(this.wrapped, action);});\n        }\n\n        private wrapped: C | null;\n\n        render()\n        {\n            // Workaround for https://github.com/Microsoft/TypeScript/issues/27484\n            let passthroughProps: Readonly&lt;P&gt; = this.props;\n            let innerProps: Readonly&lt;HocInnerProps&lt;P, A&gt;&gt; = Object.assign(\n                {} as {[hocInnerPropsMarker]?: undefined},\n                passthroughProps, {onActionClicked: this.onActionClicked});\n            return (\n                &lt;WrappedComponent ref={i =&gt; this.wrapped = i} {...innerProps} /&gt;\n            );\n        }\n    }\n\n    return hoc;\n}\n\ninterface DiagLoadingOwnProps {\n    title: string;\n    section: string;\n}\n\n// Comment out the `{[hocInnerPropsMarker]?: undefined} &amp;` in `HocInnerProps`\n// and uncomment the following two lines to see the inference mysteriously fail.\n\n//type Oops1&lt;T&gt; = DiagLoadingOwnProps &amp; InjectedProps&lt;string&gt;;\n//type Oops2 = Oops1&lt;number&gt;;\n\nclass DiagLoadingOrig extends React.Component&lt;\n    // I believe that the `A` type parameter is foiling the inference rule that\n    // throws out matching constituents from unions or intersections, so we are\n    // left to rely on the rule that matches up unions or intersections that are\n    // tagged as references to the same type alias.\n    HocInnerProps&lt;DiagLoadingOwnProps, string&gt;,\n    {}&gt; {}\nconst DialogLoading = hoc(DiagLoadingOrig);\n\nclass OtherComponent extends React.Component&lt;{}, {}&gt; {\n    onActionClickListener;\n    render() {\n        return &lt;DialogLoading onActionClickListener={this.onActionClickListener} title=\"Loading Data\" section=\"Connecting\" /&gt;;\n    }\n}\n</code></pre>\n\n<p>(Here I've also changed the type of <code>WrappedComponent</code> so that its instance type is <code>C</code> so that the assignment to <code>this.wrapped</code> type-checks.)</p>\n"}], "owner": {"reputation": 872, "user_id": 4119127, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/1537202101/picture?type=large", "display_name": "Teun Kooijman", "link": "https://stackoverflow.com/users/4119127/teun-kooijman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 930, "favorite_count": 0, "accepted_answer_id": 52544150, "answer_count": 1, "score": 1, "last_activity_date": 1538445457, "creation_date": 1537991489, "question_id": 52525133, "link": "https://stackoverflow.com/questions/52525133/react-native-higher-order-component-with-ref-callback-in-typescript-throws-com", "title": "React Native - Higher Order Component with ref callback in TypeScript throws compile error", "body": "<h2>Intro</h2>\n\n<p>I am trying to create a <code>Higher Order Component</code> for a <code>Dialog</code> component in <code>React Native</code>. Sadly, I have some compile errors that I do not understand at all. I have followed <a href=\"https://medium.com/@jrwebdev/react-higher-order-component-patterns-in-typescript-42278f7590fb\" rel=\"nofollow noreferrer\">this tutorial</a> on <code>Higher Order Components</code> in <code>TypeScript</code>, but it does not show an example for getting <code>ref</code> to work.</p>\n\n<h2>Setup</h2>\n\n<p>I have a component called <code>DialogLoading</code>, and I export it through a <code>Higher Order Component</code>  called <code>withActions</code>. The <code>withActions</code>component defines two interfaces, to determine what props it injects and what additional props it takes in. In the following code, the type parameters <code>C</code>, <code>A</code> and <code>P</code> stand for <code>ComponentType</code>, <code>ActionType</code> and <code>PropType</code> respectively. </p>\n\n<p>The interfaces are:</p>\n\n<pre><code>interface InjectedProps&lt;A&gt; \n{   onActionClicked: (action: A) =&gt; void;}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>interface ExternalProps&lt;C, A&gt;\n{   onActionClickListener?: (component: C | null, action: A) =&gt; void;}\n</code></pre>\n\n<p>I also declare a type alias that denotes the final props type for the <code>HOC</code>. This type should have all the props of the wrapped component, all the props of the <code>ExternalProps&lt;C, A&gt;</code> interface, but not the props of the <code>InjectedProps&lt;A&gt;</code> interface. This is declared as follows:</p>\n\n<pre><code>type Omit&lt;T, K&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;\ntype Subtract&lt;T, K&gt; = Omit&lt;T, keyof K&gt;;\n\ntype HocProps&lt;C, A, P extends InjectedProps&lt;A&gt;&gt; = Subtract&lt;P, InjectedProps&lt;A&gt;&gt; &amp; ExternalProps&lt;C, A&gt;;\n</code></pre>\n\n<p>The <code>Higher Order Component</code> is then declared as follows:</p>\n\n<pre><code>export default &lt;C, A, P extends InjectedProps&lt;A&gt;&gt; (WrappedComponent: React.ComponentType&lt;P&gt;) =&gt;\n{\n    const hoc = class WithActions extends React.Component&lt;HocProps&lt;C, A, P&gt;&gt;\n    {\n        ...Contents of class removed for breivity.\n\n        private onActionClicked = (action: A) =&gt;\n        {\n            this.onActionClickedListeners.forEach(listener =&gt; \n            {   listener(this.wrapped, action);});\n        }\n\n        private wrapped: C | null;\n\n        render()\n        {\n            return (\n                &lt;WrappedComponent ref={i =&gt; this.wrapped = i} onActionClicked={this.onActionClicked} {...this.props} /&gt;\n            );\n        }\n    }\n\n    return hoc;\n}\n</code></pre>\n\n<p>and can be used by:</p>\n\n<pre><code>&lt;DialogLoading onActionClickListener={this.onActionClickListener} title=\"Loading Data\" section=\"Connecting\" /&gt;;\n</code></pre>\n\n<h2>The Problem</h2>\n\n<p>On the ref callback inside the render function of the <code>HOC</code>, <code>TypeScript</code> gives me the following error messages:</p>\n\n<pre><code>[ts] Property 'ref' does not exist on type 'IntrinsicAttributes &amp; InjectedProps&lt;A&gt; &amp; { children?: ReactNode; }'.\n[ts] Type 'Component&lt;P, ComponentState, never&gt; | null' is not assignable to type 'C | null'.\n     Type 'Component&lt;P, ComponentState, never&gt;' is not assignable to type 'C'.\n</code></pre>\n\n<p>I suspect this is because the <code>WrappedComponent</code> that is passed in, is of type <code>React.ComponentType&lt;P&gt;</code>, which is a union type of <code>React.ComponentClass&lt;P&gt;</code> and <code>React.SFC&lt;P&gt;</code>. The error is thrown, because the stateless components in React do not accept a ref callback. A possible solution would then be to change it's type to be <strong>just</strong> <code>React.ComponentClass&lt;P&gt;</code>.</p>\n\n<p>This <em>kind of</em> fixes the problem, but strangely enough, a new error is now thrown on the <code>onActionClicked</code> prop of the wrapped component! The error is:</p>\n\n<pre><code>[ts] Type '(action: A) =&gt; void' is not assignable to type '(IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;Component&lt;P, ComponentState, never&gt;&gt; &amp; Readonly&lt;{ children?: ReactNode; }&gt; &amp; Readonly&lt;P&gt;)[\"onActionClicked\"]'.\nWithActions.tsx(7, 5): The expected type comes from property 'onActionClicked' which is declared here on type 'IntrinsicAttributes &amp; IntrinsicClassAttributes&lt;Component&lt;P, ComponentState, never&gt;&gt; &amp; Readonly&lt;{ children?: ReactNode; }&gt; &amp; Readonly&lt;P&gt;'\n</code></pre>\n\n<p>This second error baffles me completely. What makes it <strong>even stranger</strong> is that when I adjust the type alias for the <code>HocProps</code> to the following (i.e. I no longer Subtract <code>InjectedProps&lt;A&gt;</code> from <code>P</code>):</p>\n\n<pre><code>type HocProps&lt;C, A, P extends InjectedProps&lt;A&gt;&gt; = P &amp; ExternalProps&lt;C, A&gt;;\n</code></pre>\n\n<p>The error on <code>onActionClicked</code> is removed! This seems strange to me, because the type definition of <code>HocProps</code> has nothing to do with the prop type of the wrapped component! This \"solution\", however, is undesirable to me, because now the <code>InjectedProps&lt;A&gt;</code> are injectable by the user of the <code>HOC</code> as well.</p>\n\n<h2>The Question</h2>\n\n<p>So where am I going wrong here? </p>\n\n<ul>\n<li><p>Am I correct in assuming the ref callback did not work because the <code>Wrapped Component</code> type was <code>React.ComponentType&lt;P&gt;</code> instead of <code>React.ComponentClass&lt;P&gt;</code>?</p></li>\n<li><p>Why does changing the <code>Wrapped Component</code> type to <code>React.ComponentClass&lt;P&gt;</code> result in a compile error on the <code>onActionClicked</code> prop of the <code>Wrapped Component</code>?</p></li>\n<li><p>Why does changing the type alias for <code>HocProps</code> remove said error on the <code>onActionClicked</code> prop? Aren't they completely unrelated?</p></li>\n<li><p>Is the <code>Subtract</code> functionality I've cooked up correct? Is that where the errors are coming from?</p></li>\n</ul>\n\n<p>Any help would be greatly appreciated, so thanks in advance!</p>\n"}, {"tags": ["javascript", "timer", "countdown"], "owner": {"reputation": 11, "user_id": 10420713, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-8z4b4E5D1Fc/AAAAAAAAAAI/AAAAAAAAAAA/AAN31DWI0pm7OZ8KilZgFPKG1usdjobLww/mo/photo.jpg?sz=128", "display_name": "hanzirto", "link": "https://stackoverflow.com/users/10420713/hanzirto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1537991693, "creation_date": 1537991349, "last_edit_date": 1537991693, "question_id": 52525111, "link": "https://stackoverflow.com/questions/52525111/daily-countdown-timer-with-different-starting-times", "title": "Daily countdown/timer with different starting times", "body": "<p>I'm trying to build a daily countdown for specific time period. Example: Count daily to 3pm, from 3pm to 5pm show a Message, start countdown again till 3pm. For this I found already a nearly perfect solution here. It counts every day to the chosen time. But now I need different end times for specific days, like:</p>\n\n<p>Friday - Tuesday count till 3pm\nWednesday - Thursday count till 5pm</p>\n\n<p>the code so far looks like this:</p>\n\n<pre><code>var countDown = (function() {\n                var startStream;\n                var endStream;\n                var streamingText = 'Streaming';\n                var updateElement;\n\n                // Pad single digit numbers\n                function pad(n) {\n                    return (n &lt; 10 ? '0' : '') + +n;\n                }\n\n                // Format a time difference as hh:mm:ss\n                // d0 and d1 are date objects, d0 &lt; d1\n                function timeDiff(d0, d1) {\n                    var diff = d1 - d0;\n                    return pad(diff / 3.6e6 | 0) + ':' + pad((diff % 3.6e6) / 6e4 | 0) + ':' + pad(diff % 6e4 / 1000 | 0);\n                }\n\n                // start, end are UNIX UTC time values in seconds for the start and end of streaming\n                return function(elementId, start, end) {\n                    var now = new Date();\n                    var returnValue;\n\n                    // By default, run again just after next full second\n                    var delay = 1020 - now.getMilliseconds();\n\n                    // turn start and end times into local Date objects\n                    if (start) startStream = new Date(start * 1000);\n                    if (end) endStream = new Date(end * 1000);\n\n                    // If now is after endStream, add 1 day,\n                    // Use UTC to avoid daylight saving adjustments\n                    if (now &gt; endStream) {\n                        endStream.setUTCHours(endStream.getUTCHours() + 24);\n                        startStream.setUTCHours(startStream.getUTCHours() + 24);\n                    }\n\n                    // Store the element to write the text to\n                    if (elementId) updateElement = document.getElementById(elementId);\n\n                    // If it's streaming time, return streaming text\n                    if (now &gt;= startStream &amp;&amp; now &lt; endStream) {\n                        returnValue = streamingText;\n\n                        // Run again after streaming end time\n                        delay = endStream - now;\n\n                    } else {\n                        // Otherwise, count down to startStream\n                        returnValue = timeDiff(now, startStream);\n                    }\n\n                    // Write the time left or streaming text\n                    updateElement.innerHTML = returnValue;\n\n                    // Call again when appropriate\n                    setTimeout(countDown, delay);\n                };\n            }());\n\n\n            // Create dates for a local time of xx:xx today\n            var myStart = new Date();\n            myStart.setHours(3, 0, 0, 0);\n            var myEnd = new Date()\n            myEnd.setHours(5, 0, 0, 0);\n\n            // Create UNIX time values for same time as UTC\n            var startUTCTimeValue = myStart / 1000 | 0\n            var endUTCTimeValue = myEnd / 1000 | 0\n\n            // Run when page loads\n            window.onload = function() {\n                countDown('foo', startUTCTimeValue, endUTCTimeValue);\n            }\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs", "stackblitz"], "answers": [{"tags": [], "owner": {"reputation": 798, "user_id": 7820990, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c60d2aee016d63cfa414ee2a1fb6a1f?s=128&d=identicon&r=PG&f=1", "display_name": "Ebuall", "link": "https://stackoverflow.com/users/7820990/ebuall"}, "is_accepted": true, "score": 2, "last_activity_date": 1537992354, "creation_date": 1537992354, "answer_id": 52525316, "question_id": 52525096, "link": "https://stackoverflow.com/questions/52525096/replaysubject-behaves-different-on-angular-stackblitz-than-on-typescript-stackbl/52525316#52525316", "title": "ReplaySubject behaves different on Angular Stackblitz than on Typescript Stackblitz?", "body": "<p>You are subscribing in <code>addTodo</code> method. Every time it just adds a new listener. You should subscribe here only once in constructor or init</p>\n"}], "owner": {"reputation": 29171, "user_id": 1684269, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/5adbf1d60d27b9ee3aeee069591ba88b?s=128&d=identicon&r=PG", "display_name": "Ole", "link": "https://stackoverflow.com/users/1684269/ole"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 74, "favorite_count": 0, "accepted_answer_id": 52525316, "answer_count": 1, "score": -1, "last_activity_date": 1537992354, "creation_date": 1537991282, "last_edit_date": 1537991766, "question_id": 52525096, "link": "https://stackoverflow.com/questions/52525096/replaysubject-behaves-different-on-angular-stackblitz-than-on-typescript-stackbl", "title": "ReplaySubject behaves different on Angular Stackblitz than on Typescript Stackblitz?", "body": "<p>I'm developing <a href=\"https://github.com/fireflysemantics/slice\" rel=\"nofollow noreferrer\">this library</a> and when I test it on <a href=\"https://stackblitz.com/edit/slice-test?file=index.ts\" rel=\"nofollow noreferrer\">Stackblitz using pure typescript</a> it works fine.  In the linked demo, if you look at the console log, there's one logging statement generated for each post to the store.</p>\n\n<p>I'm also testing the same thing out in a mini Todo app with Angular, and each time the user enters a new Todo title, the console logs the number of entries in the store.  In other words if there are 10 entries in the store, the array of entries will be logged 10 times, instead of just once.  </p>\n\n<p>I'm trying to figure out if there's something wrong with my App / library or if it's something wrong with Stackblitz ....</p>\n\n<p>This is the Stackblits app:\n<a href=\"https://stackblitz.com/edit/slice-todo?file=src%2Fapp%2Fapp.component.ts\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/slice-todo?file=src%2Fapp%2Fapp.component.ts</a></p>\n\n<p>Thoughts?  </p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 69, "user_id": 9399242, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215393649625074/picture?type=large", "display_name": "Guilherme Reis Araujo", "link": "https://stackoverflow.com/users/9399242/guilherme-reis-araujo"}, "edited": false, "score": 0, "creation_date": 1537994122, "post_id": 52525187, "comment_id": 91991163, "body": "I tried this but I&#39;m getting an error Unhandled Rejection (TypeError): Cannot read property &#39;setState&#39; of undefined"}, {"owner": {"reputation": 2308, "user_id": 9250786, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uDuTWq8eMng/AAAAAAAAAAI/AAAAAAAAAO8/gpKjbrHzO3U/photo.jpg?sz=128", "display_name": "Shubham Gupta", "link": "https://stackoverflow.com/users/9250786/shubham-gupta"}, "reply_to_user": {"reputation": 69, "user_id": 9399242, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215393649625074/picture?type=large", "display_name": "Guilherme Reis Araujo", "link": "https://stackoverflow.com/users/9399242/guilherme-reis-araujo"}, "edited": false, "score": 0, "creation_date": 1538025188, "post_id": 52525187, "comment_id": 91998858, "body": "@GuilhermeReisAraujo that was because you were not using arrow functions. Arrow function keep  this context same."}], "tags": [], "owner": {"reputation": 2308, "user_id": 9250786, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-uDuTWq8eMng/AAAAAAAAAAI/AAAAAAAAAO8/gpKjbrHzO3U/photo.jpg?sz=128", "display_name": "Shubham Gupta", "link": "https://stackoverflow.com/users/9250786/shubham-gupta"}, "is_accepted": false, "score": 0, "last_activity_date": 1537992090, "last_edit_date": 1537992090, "creation_date": 1537991740, "answer_id": 52525187, "question_id": 52525058, "link": "https://stackoverflow.com/questions/52525058/show-loading-for-axios-post-request/52525187#52525187", "title": "Show Loading for axios Post request", "body": "<p>As you might be aware set state is async  and also react batches state updates. So if you set loading true and then false immediately your loader would never be displayed. This is what is happening in this piece of code. You set loading to true and then immediately to false.</p>\n\n<p>Move the following line within your .then and .catch</p>\n\n<pre><code>this.setState({ loadingAtribuiImagens: false })\n</code></pre>\n\n<p>Also when you are setting state to true move it within your if condition.\nSo your final code becomes </p>\n\n<pre><code>if(/* your condition */) {\n    /* set loading to true*/\n    /* set loading to false when your promise get resolved or rejected */\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 69, "user_id": 9399242, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215393649625074/picture?type=large", "display_name": "Guilherme Reis Araujo", "link": "https://stackoverflow.com/users/9399242/guilherme-reis-araujo"}, "edited": false, "score": 0, "creation_date": 1537994108, "post_id": 52525315, "comment_id": 91991156, "body": "now I&#39;m getting Unhandled Rejection (TypeError): Cannot read property &#39;setState&#39; of undefined"}, {"owner": {"reputation": 834, "user_id": 9329642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4ab3bacc395eaebf665abc973bd94e?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Gupta", "link": "https://stackoverflow.com/users/9329642/shivam-gupta"}, "reply_to_user": {"reputation": 69, "user_id": 9399242, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215393649625074/picture?type=large", "display_name": "Guilherme Reis Araujo", "link": "https://stackoverflow.com/users/9399242/guilherme-reis-araujo"}, "edited": false, "score": 0, "creation_date": 1537994395, "post_id": 52525315, "comment_id": 91991267, "body": "@GuilhermeReisAraujo edited the code, made it =&gt; functions."}, {"owner": {"reputation": 69, "user_id": 9399242, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215393649625074/picture?type=large", "display_name": "Guilherme Reis Araujo", "link": "https://stackoverflow.com/users/9399242/guilherme-reis-araujo"}, "edited": false, "score": 0, "creation_date": 1537995622, "post_id": 52525315, "comment_id": 91991746, "body": "worked very well! thank you, I need to know more about =&gt; functions"}, {"owner": {"reputation": 834, "user_id": 9329642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4ab3bacc395eaebf665abc973bd94e?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Gupta", "link": "https://stackoverflow.com/users/9329642/shivam-gupta"}, "reply_to_user": {"reputation": 69, "user_id": 9399242, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215393649625074/picture?type=large", "display_name": "Guilherme Reis Araujo", "link": "https://stackoverflow.com/users/9399242/guilherme-reis-araujo"}, "edited": false, "score": 0, "creation_date": 1537995798, "post_id": 52525315, "comment_id": 91991824, "body": "Sure :  here is a <a href=\"https://medium.freecodecamp.org/when-and-why-you-should-use-es6-arrow-functions-and-when-you-shouldnt-3d851d7f0b26\" rel=\"nofollow noreferrer\">post</a> about it"}], "tags": [], "owner": {"reputation": 834, "user_id": 9329642, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b4ab3bacc395eaebf665abc973bd94e?s=128&d=identicon&r=PG&f=1", "display_name": "Shivam Gupta", "link": "https://stackoverflow.com/users/9329642/shivam-gupta"}, "is_accepted": true, "score": 1, "last_activity_date": 1537994362, "last_edit_date": 1537994362, "creation_date": 1537992352, "answer_id": 52525315, "question_id": 52525058, "link": "https://stackoverflow.com/questions/52525058/show-loading-for-axios-post-request/52525315#52525315", "title": "Show Loading for axios Post request", "body": "<p>Try :</p>\n\n<pre><code>atribuiImagem = () =&gt; {\nconst { atribuiFormState, loadingAtribuiImagens } = this.state;\nconst data = {\n  id_lote: atribuiFormState.values.batch,\n  id_user: atribuiFormState.values.username,\n  tipo: atribuiFormState.values.result\n};\n\nif(data.id_lote !== undefined &amp;&amp; data.id_user !== undefined &amp;&amp; data.tipo !== undefined)\n {\n this.setState({ loadingAtribuiImagens: true });\n axios\n  .post(`${API_URL}/list`, data, getAxiosConfig())\n  .then(data =&gt; {\n    this.setState({ atribuiFormState, loadingAtribuiImagens: false });\n    toast.success(\"Imagem atribuida com sucesso.\", toastConfig);\n  })\n  .catch(error =&gt; {\n    this.setState({ atribuiFormState, loadingAtribuiImagens: false });\n    toast.error(\"Tente outra vez.\", toastConfig);\n  });\n }\nelse{\n  this.setState({ atribuiFormState, loadingAtribuiImagens: false });\n  toast.error(\"Tente outra vez.\", toastConfig);\n }      \n}\n</code></pre>\n"}], "owner": {"reputation": 69, "user_id": 9399242, "user_type": "registered", "profile_image": "https://graph.facebook.com/10215393649625074/picture?type=large", "display_name": "Guilherme Reis Araujo", "link": "https://stackoverflow.com/users/9399242/guilherme-reis-araujo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1553, "favorite_count": 0, "accepted_answer_id": 52525315, "answer_count": 2, "score": 1, "last_activity_date": 1537994362, "creation_date": 1537991075, "last_edit_date": 1537991264, "question_id": 52525058, "link": "https://stackoverflow.com/questions/52525058/show-loading-for-axios-post-request", "title": "Show Loading for axios Post request", "body": "<p>I want to create a Loading for my Axios Request</p>\n\n<p>The code is</p>\n\n<pre><code>atribuiImagem() {\n  const { atribuiFormState, loadingAtribuiImagens } = this.state;\n  const data = {\n    id_lote: atribuiFormState.values.batch,\n    id_user: atribuiFormState.values.username,\n    tipo: atribuiFormState.values.result\n  };\n  this.setState({ loadingAtribuiImagens: true });\n  if (\n    data.id_lote !== undefined &amp;&amp;\n    data.id_user !== undefined &amp;&amp;\n    data.tipo !== undefined\n  ) {\n    axios\n      .post(`${API_URL}/list`, data, getAxiosConfig())\n      .then(function() {\n        toast.success(\"Imagem atribuida com sucesso.\", toastConfig);\n      })\n      .catch(function() {\n        toast.error(\"Tente outra vez.\", toastConfig);\n      });\n  } else {\n    toast.error(\"Tente outra vez.\", toastConfig);\n  }\n  this.setState({ atribuiFormState, loadingAtribuiImagens: false });\n}\n</code></pre>\n\n<p>then I have a component name Loading</p>\n\n<pre><code>const Loading = () =&gt; (\n  &lt;div className=\"loading-style text-center\"&gt;\n    &lt;img src={loader} className=\"loading\" alt=\"Carregando...\" /&gt;\n  &lt;/div&gt;\n);\n</code></pre>\n\n<p>export default Loading;\nI want to make that when the POST request is being send, this Loading component render in the screen for the user, but actually I cant find a way do do that.</p>\n"}, {"tags": ["javascript", "ember.js"], "comments": [{"owner": {"reputation": 5403, "user_id": 3167221, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/b31c6f96f767387878220f918651eee8?s=128&d=identicon&r=PG&f=1", "display_name": "jelhan", "link": "https://stackoverflow.com/users/3167221/jelhan"}, "edited": false, "score": 3, "creation_date": 1537992349, "post_id": 52525038, "comment_id": 91990365, "body": "I don&#39;t think it will work out smoothly if ember and a custom jQuery plugin should manage the classes of the same element. Did you consider using a child element as container for <code>perfect-scrollbar</code>? Another option would be not using <code>classNameBindings</code> at all but using an observer to add / remove the class using plain old JavaScript or jQuery."}], "answers": [{"tags": [], "owner": {"reputation": 11958, "user_id": 255376, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Rbvtb.png?s=128&g=1", "display_name": "Gaurav", "link": "https://stackoverflow.com/users/255376/gaurav"}, "is_accepted": false, "score": 1, "last_activity_date": 1538149263, "creation_date": 1538149263, "answer_id": 52558677, "question_id": 52525038, "link": "https://stackoverflow.com/questions/52525038/ember-js-classnamebindings-is-removing-classes-added-from-outside/52558677#52558677", "title": "Ember.js - classNameBindings is removing classes added from outside", "body": "<p>You need to restore any DOM state manipulated from outside Ember after Ember rerenders your component.</p>\n\n<pre><code>import Ember from 'ember';\n\nexport default Ember.Component.extend({\n  classNames: ['component'],\n  classNameBindings: [\n    'flag:emberClassA:emberClassB'\n  ],\n\n  flag: false,\n\n  didRender() {\n    Ember.run.scheduleOnce('afterRender', this, this.restoreJQueryClass);\n  },\n\n  restoreJQueryClass() {\n    if (this._savedClassState) {\n      this.$().addClass('jQueryClass', this._savedClassValue);\n    }\n  },\n\n  actions: {\n    toggleFlag () {\n      this.toggleProperty('flag');\n    },\n    toggleClassFromOutside() {\n      this.$().toggleClass('jQueryClass');\n      this.set('_savedClassState', this.$().hasClass('jQueryClass'));\n    }\n  }\n});\n</code></pre>\n\n<p>Generally, most Ember apps today have begun to avoid jQuery and other JavaScript libraries that do DOM manipulation and instead write Ember Components in order to avoid some of the difficulties you are experiencing. Ember itself will soon stop including jQuery by default.</p>\n\n<p>Here is an updated Twiddle: <a href=\"https://ember-twiddle.com/86ed63a495dbc010a3e7bfb18e2a839a?openFiles=components.x-example.js%2C\" rel=\"nofollow noreferrer\">https://ember-twiddle.com/86ed63a495dbc010a3e7bfb18e2a839a?openFiles=components.x-example.js%2C</a></p>\n\n<p>This answer is current as of Ember 3.4.</p>\n"}], "owner": {"reputation": 741, "user_id": 1864182, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/80A1W.png?s=128&g=1", "display_name": "Alvaro Castro", "link": "https://stackoverflow.com/users/1864182/alvaro-castro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1538149263, "creation_date": 1537990985, "last_edit_date": 1537992545, "question_id": 52525038, "link": "https://stackoverflow.com/questions/52525038/ember-js-classnamebindings-is-removing-classes-added-from-outside", "title": "Ember.js - classNameBindings is removing classes added from outside", "body": "<p>When Ember recomputes the classes for a component through the <code>classNameBindings</code> attribute, it overwrittes any class added <em>from outside</em>, for example added by jQuery directly to the element.</p>\n\n<p>Refactoring to get the classes added the \"Ember way\" through the <code>classNameBindings</code> is not an option, since I'm using an external jQuery plugin that adds them, <a href=\"https://github.com/utatti/perfect-scrollbar\" rel=\"nofollow noreferrer\">perfect-scrollbar</a>.</p>\n\n<p>I suppose the problem happens because Ember doen't know about the classes added and just ignores them.</p>\n\n<p>Is there a clean way/workaround for this kind of scenarios?</p>\n\n<hr>\n\n<p>I put up a twiddle with a <a href=\"https://ember-twiddle.com/24fe3f55d791e9aa991f68024b90df73?fileTreeShown=false&amp;numColumns=2&amp;openFiles=components.x-example.js%2Ctemplates.components.x-example.hbs\" rel=\"nofollow noreferrer\">minimal working example of the problem here</a> <em>(if there is a way to get a working ember example using the code snippets, let me know and I edit)</em></p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 8568, "user_id": 837722, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/sKLRI.png?s=128&g=1", "display_name": "Si8", "link": "https://stackoverflow.com/users/837722/si8"}, "edited": false, "score": 0, "creation_date": 1537991090, "post_id": 52525014, "comment_id": 91989780, "body": "Are you able to use jQuery or just plain JavaScript?"}, {"owner": {"reputation": 420, "user_id": 7732470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae13088e40ce38747c3bbdfb832f512f?s=128&d=identicon&r=PG&f=1", "display_name": "Lcukerd", "link": "https://stackoverflow.com/users/7732470/lcukerd"}, "reply_to_user": {"reputation": 8568, "user_id": 837722, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/sKLRI.png?s=128&g=1", "display_name": "Si8", "link": "https://stackoverflow.com/users/837722/si8"}, "edited": false, "score": 0, "creation_date": 1537991150, "post_id": 52525014, "comment_id": 91989809, "body": "I have never used it but this might be the time to learn. @Si8"}, {"owner": {"reputation": 1277, "user_id": 2192451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28f287e7c832b18e84a2359250b30161?s=128&d=identicon&r=PG", "display_name": "Doug", "link": "https://stackoverflow.com/users/2192451/doug"}, "edited": false, "score": 0, "creation_date": 1537991155, "post_id": 52525014, "comment_id": 91989812, "body": "I think most often you&#39;ll see a collection of elements and have event listeners applied to them in a loop.  Word of caution though, dynamically added elements may not inherit an event listener."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1537991251, "post_id": 52525014, "comment_id": 91989848, "body": "Could you go into detail about your <i>only once</i> and <i>at once</i> phrasing?"}, {"owner": {"reputation": 1277, "user_id": 2192451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28f287e7c832b18e84a2359250b30161?s=128&d=identicon&r=PG", "display_name": "Doug", "link": "https://stackoverflow.com/users/2192451/doug"}, "edited": false, "score": 1, "creation_date": 1537991342, "post_id": 52525014, "comment_id": 91989903, "body": "This may help: <a href=\"https://stackoverflow.com/questions/34896106/attach-event-to-dynamic-elements-in-javascript\" title=\"attach event to dynamic elements in javascript\">stackoverflow.com/questions/34896106/&hellip;</a> (adding event listeners to dynamic elements)"}, {"owner": {"reputation": 8568, "user_id": 837722, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/sKLRI.png?s=128&g=1", "display_name": "Si8", "link": "https://stackoverflow.com/users/837722/si8"}, "edited": false, "score": 0, "creation_date": 1537991363, "post_id": 52525014, "comment_id": 91989913, "body": "jQuery has a <code>.on()</code> handler which handles static and dynamic content change listener. It also needs to be added once and handles every element that matches the selector defined."}, {"owner": {"reputation": 8568, "user_id": 837722, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/sKLRI.png?s=128&g=1", "display_name": "Si8", "link": "https://stackoverflow.com/users/837722/si8"}, "reply_to_user": {"reputation": 1277, "user_id": 2192451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28f287e7c832b18e84a2359250b30161?s=128&d=identicon&r=PG", "display_name": "Doug", "link": "https://stackoverflow.com/users/2192451/doug"}, "edited": false, "score": 0, "creation_date": 1537991400, "post_id": 52525014, "comment_id": 91989935, "body": "@Doug +1 for beating me to it... :)"}, {"owner": {"reputation": 420, "user_id": 7732470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae13088e40ce38747c3bbdfb832f512f?s=128&d=identicon&r=PG&f=1", "display_name": "Lcukerd", "link": "https://stackoverflow.com/users/7732470/lcukerd"}, "reply_to_user": {"reputation": 1277, "user_id": 2192451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/28f287e7c832b18e84a2359250b30161?s=128&d=identicon&r=PG", "display_name": "Doug", "link": "https://stackoverflow.com/users/2192451/doug"}, "edited": false, "score": 0, "creation_date": 1537991844, "post_id": 52525014, "comment_id": 91990119, "body": "@Doug That does work for click but not for change"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1537992654, "post_id": 52525014, "comment_id": 91990512, "body": "The reason it doesn&#39;t work is because editing a <code>contenteditable</code> element doesn&#39;t fire the <code>change</code> event in the first place. See <a href=\"https://stackoverflow.com/questions/1391278/contenteditable-change-events\" title=\"contenteditable change events\">stackoverflow.com/questions/1391278/&hellip;</a>"}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1537993335, "post_id": 52525014, "comment_id": 91990818, "body": "@Barmar I don&#39;t think this question should be closed as a duplicate of the other question.  This is about JavaScript, that was about jQuery (a specific library).  Now this question is locked to those that want to submit Vanilla JS answers"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1537993711, "post_id": 52525014, "comment_id": 91990989, "body": "@vol7ron Although the question says jQuery, there are vanilla JS answers there as well."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 1, "creation_date": 1537993763, "post_id": 52525014, "comment_id": 91991018, "body": "@vol7ron I&#39;ve added the dupe that Doug mentioned, it&#39;s just plain JS."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1537994394, "post_id": 52525014, "comment_id": 91991266, "body": "@Barmar thank you for the update, the combination should suffice.  It&#39;s of my opinion, which might differe from the community&#39;s, that the answers shouldn&#39;t be used to justify duplicates as they could be orphaned, deleted, or significantly changed by the owners; whereas questions aren&#39;t typically modified as often.  How does one remove their &quot;reopen&quot; vote?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1537994725, "post_id": 52525014, "comment_id": 91991393, "body": "@vol7ron You can&#39;t remove a reopen vote, only a close vote. See <a href=\"https://meta.stackexchange.com/questions/193061/ability-to-retract-reopen-delete-votes\" title=\"ability to retract reopen delete votes\">meta.stackexchange.com/questions/193061/&hellip;</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1537994810, "post_id": 52525014, "comment_id": 91991431, "body": "My dupe-close philosophy is if the questions are similar enough, and &quot;has an answer here&quot; is true, I&#39;ll use it. Trying to find an &quot;exact duplicate&quot; is too narrow a target."}, {"owner": {"reputation": 35763, "user_id": 183181, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/f6642797870d2dd20e4a5c8df347562c?s=128&d=identicon&r=PG", "display_name": "vol7ron", "link": "https://stackoverflow.com/users/183181/vol7ron"}, "edited": false, "score": 0, "creation_date": 1537994894, "post_id": 52525014, "comment_id": 91991475, "body": "That sounds like a safe strategy, since we&#39;ve already invested enough time to adminsitrating this question ;)"}, {"owner": {"reputation": 420, "user_id": 7732470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae13088e40ce38747c3bbdfb832f512f?s=128&d=identicon&r=PG&f=1", "display_name": "Lcukerd", "link": "https://stackoverflow.com/users/7732470/lcukerd"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1537996490, "post_id": 52525014, "comment_id": 91992038, "body": "@Barmar similar enough? The questions you linked are to &quot;add event to dynamically created elements&quot; and mine is to &quot;add a common event to all elements in tag&quot;. It just so happens that same solution works for both cases. Check 3rd para of &quot;when two questions are duplicates&quot; <a href=\"https://meta.stackexchange.com/a/10844\">meta.stackexchange.com/a/10844</a>. Finding &quot;exact duplicate&quot; is too narrow target? Seriously? Also, what&#39;s the point of marking a question after it has been answered (thanks to the active community)?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1537997060, "post_id": 52525014, "comment_id": 91992242, "body": "@Lcukerd You said &quot;I want to do this because I am adding elements dynamically&quot;. That&#39;s the essential part of the problem, and it&#39;s the same as what those other questions are about, and the solutions are the same."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1537997178, "post_id": 52525014, "comment_id": 91992291, "body": "From the meta answer you linked to: <b>Questions may be duplicates if they have the same (potential) answers. This includes not only word-for-word duplicates, but also the same idea expressed in different words.</b>"}, {"owner": {"reputation": 420, "user_id": 7732470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae13088e40ce38747c3bbdfb832f512f?s=128&d=identicon&r=PG&f=1", "display_name": "Lcukerd", "link": "https://stackoverflow.com/users/7732470/lcukerd"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1537997647, "post_id": 52525014, "comment_id": 91992447, "body": "@barmar that was added for support and to prevent comments like &quot;but you can just declare same event functions for each&quot; , not including that does not affect my question. &quot;same idea expressed in different words&quot; I am not sure about the same idea part. Anyway, if you have decided to keep this question closed then I can&#39;t do anything."}], "answers": [{"tags": [], "owner": {"reputation": 385, "user_id": 8729469, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-TrGFi6jpz80/AAAAAAAAAAI/AAAAAAAABNM/JM0OzTD4nMg/photo.jpg?sz=128", "display_name": "Wolgan Ens", "link": "https://stackoverflow.com/users/8729469/wolgan-ens"}, "is_accepted": true, "score": 1, "last_activity_date": 1537992195, "last_edit_date": 1537992195, "creation_date": 1537991139, "answer_id": 52525067, "question_id": 52525014, "link": "https://stackoverflow.com/questions/52525014/how-to-write-event-listener-for-all-elements-in-a-particular-tag-at-once/52525067#52525067", "title": "How to write event listener for all elements in a particular tag at once?", "body": "<p>Take a look at the second answer here: <a href=\"https://stackoverflow.com/questions/6256342/trigger-an-event-when-contenteditable-is-changed/33113756\">trigger an event when contenteditable is changed</a>\nYou can do this for all the contenteditable elements inside your ul</p>\n\n<pre><code>$( \"ul.container\" ).on( \"focus\", \"[contenteditable=true]\", function() {\n  //here you save the content innerhtml/text, etc of the element\n});\n</code></pre>\n\n<p>then with the \"blur\" event, when you leave an element you can test if the old content is the same and then perform some action.\nFor reference on the \"on\" jquery function: <a href=\"http://api.jquery.com/on/\" rel=\"nofollow noreferrer\">http://api.jquery.com/on/</a></p>\n"}], "owner": {"reputation": 420, "user_id": 7732470, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/ae13088e40ce38747c3bbdfb832f512f?s=128&d=identicon&r=PG&f=1", "display_name": "Lcukerd", "link": "https://stackoverflow.com/users/7732470/lcukerd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "closed_date": 1537992725, "accepted_answer_id": 52525067, "answer_count": 1, "score": 1, "last_activity_date": 1537993742, "creation_date": 1537990898, "question_id": 52525014, "link": "https://stackoverflow.com/questions/52525014/how-to-write-event-listener-for-all-elements-in-a-particular-tag-at-once", "closed_reason": "Duplicate", "title": "How to write event listener for all elements in a particular tag at once?", "body": "<p>I want to write an Event listener function that needs to be called when any element in my <code>&lt;ul&gt;</code> tag gets edited.<br>\nFor example for elements in given ul</p>\n\n<pre><code>&lt;ul class=\"container\"&gt;\n  &lt;h4 contenteditable=\"true\"&gt;hi&lt;/h4&gt;\n  &lt;h5 contenteditable=\"true\"&gt;hi&lt;/h5&gt;\n  &lt;label&gt;\n    &lt;input id=\"indeterminate-checkbox\" type=\"checkbox\" /&gt;\n    &lt;span contenteditable=\"true\"&gt;Indeterminate Style&lt;/span&gt;\n  &lt;/label&gt;\n  &lt;p contenteditable=\"true\"&gt;hi&lt;/p&gt;\n  &lt;blockquote contenteditable=\"true\"&gt;sup&lt;/blockquote&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>I want to use <code>element.addEventListener()</code> only once (I cannot just declare contenteditable for <code>ul</code> and add listener for same as that produces undesirable UI changes). Also, if possible I want to declare <code>onchange</code> for all these element at once(like from css).<br></p>\n\n<p>I want to do this because I am adding elements dynamically and want to remove redundant code.</p>\n"}, {"tags": ["javascript", "discord", "discord.js"], "comments": [{"owner": {"reputation": 950, "user_id": 6624953, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Jv5IW.jpg?s=128&g=1", "display_name": "frobinsonj", "link": "https://stackoverflow.com/users/6624953/frobinsonj"}, "edited": false, "score": 1, "creation_date": 1538052382, "post_id": 52524990, "comment_id": 92013995, "body": "Ensure <code>guild.channel</code> is a <a href=\"https://discord.js.org/#/docs/main/stable/class/GuildChannel\" rel=\"nofollow noreferrer\">GuildChannel</a>"}], "answers": [{"tags": [], "owner": {"reputation": 845, "user_id": 11539618, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8gUp3.jpg?s=128&g=1", "display_name": "Caltrop", "link": "https://stackoverflow.com/users/11539618/caltrop"}, "is_accepted": false, "score": 0, "last_activity_date": 1567002246, "creation_date": 1567002246, "answer_id": 57694645, "question_id": 52524990, "link": "https://stackoverflow.com/questions/52524990/deleting-single-channel-all-channels-does-not-work/57694645#57694645", "title": "Deleting single channel/all channels does not work", "body": "<p>If you want your bot to delete every single channel in a guild, do this:</p>\n\n<pre><code>guild.channels.forEach(c =&gt; c.delete());\n</code></pre>\n\n<p>Your attempt failed to work since <code>channel</code> isn't a property of the <a href=\"https://discord.js.org/#/docs/main/stable/class/Guild\" rel=\"nofollow noreferrer\">Guild Class</a>. So what I'm doing is accessing the <code>channels</code> collection of the Guild Class, which contains every single Channel of that Guild. Then we can iterate over each channel and use the <code>delete</code> method, which is part of every <a href=\"https://discord.js.org/#/docs/main/stable/class/GuildChannel\" rel=\"nofollow noreferrer\">GuildChannel Object</a>.</p>\n"}], "owner": {"reputation": 1, "user_id": 10402050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YCdgm.png?s=128&g=1", "display_name": "Pidgey", "link": "https://stackoverflow.com/users/10402050/pidgey"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1021, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567002246, "creation_date": 1537990809, "last_edit_date": 1538235762, "question_id": 52524990, "link": "https://stackoverflow.com/questions/52524990/deleting-single-channel-all-channels-does-not-work", "title": "Deleting single channel/all channels does not work", "body": "<p>I'm creating a bot that manages a server to get used to JavaScript and the Discord.js library. I tried deleting a channel using this code, but it didn't work.</p>\n\n<pre><code>guild.channel.delete('Making room for new channels')\n  .then(deleted =&gt; console.log(`Deleted ${deleted.name} to make room for new channels`))\n  .catch(console.error);\n</code></pre>\n\n<p>I've already tried to replace the first line with <code>channel.delete</code> and <code>channel.guild.delete</code>, but I kind of gave up since I have no clue on how to make it delete every channel in the guild.<br>\nAs bad as this sounds, I'm not trying to destroy any discord server.<br>\nThanks in advance.</p>\n"}, {"tags": ["javascript", "jquery", "asp.net-mvc", "asp.net-core"], "comments": [{"owner": {"reputation": 37911, "user_id": 130387, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/I6FfT.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/130387/tommy"}, "edited": false, "score": 0, "creation_date": 1537990923, "post_id": 52524982, "comment_id": 91989698, "body": "You cannot repeat the div and button IDs over and over in the foreach loop as ids need to be unique.  Apply a class to the repeated div and button instead and use <code>$(&quot;.className&quot;)</code> notation in jQuery rather than <code>$(&quot;#idName&quot;)</code> notation"}, {"owner": {"reputation": 1976, "user_id": 8877860, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/526748fe28a53e1f2227b4c2d35d2624?s=128&d=identicon&r=PG&f=1", "display_name": "topcool", "link": "https://stackoverflow.com/users/8877860/topcool"}, "reply_to_user": {"reputation": 37911, "user_id": 130387, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/I6FfT.jpg?s=128&g=1", "display_name": "Tommy", "link": "https://stackoverflow.com/users/130387/tommy"}, "edited": false, "score": 0, "creation_date": 1537991347, "post_id": 52524982, "comment_id": 91989906, "body": "@Tommy But when i add class to <code>button</code> get first id again. And if i add class to <code>div</code> with <code>@item.Id</code> get all ids in all div"}], "answers": [{"tags": [], "owner": {"reputation": 2900, "user_id": 1173961, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/9aae11a2448fad04ecf1dbe77b722f67?s=128&d=identicon&r=PG", "display_name": "Baral", "link": "https://stackoverflow.com/users/1173961/baral"}, "is_accepted": true, "score": 1, "last_activity_date": 1537991949, "creation_date": 1537991949, "answer_id": 52525232, "question_id": 52524982, "link": "https://stackoverflow.com/questions/52524982/jquery-get-text-of-each-div-created-in-foreach-loop-in-asp-net-core/52525232#52525232", "title": "Jquery, get text of each div created in foreach loop in asp.net core?", "body": "<p>As mentionned above, you cannot duplicate Ids...</p>\n\n<p>Why not give a try to another approach:</p>\n\n<pre><code>@model IEnumerable&lt;jquery.Models.Comment&gt;\n\n&lt;div&gt;\n    @foreach (var item in Model)\n    {\n        &lt;ul style=\"list-style:none;\"&gt;\n            &lt;li&gt;\n                &lt;button class=\"btn btn-success\"  onclick=\"submitPost(@item.Id)\"&gt;\n                @item.LikeCount\n            &lt;/button&gt;\n\n            &lt;div id=\"cmid\"&gt;@item.Id&lt;/div&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n}\n&lt;/div&gt;\n\n\n@section Scripts{\n&lt;script&gt;\n    function submitPost(postId)\n    {\n        $.ajax({\n            type: 'POST',\n            url: '@Url.Action(\"Like\", \"Home\")',\n            data: { cid: postId }\n        });\n    }\n&lt;/script&gt;\n}\n</code></pre>\n"}], "owner": {"reputation": 1976, "user_id": 8877860, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/526748fe28a53e1f2227b4c2d35d2624?s=128&d=identicon&r=PG&f=1", "display_name": "topcool", "link": "https://stackoverflow.com/users/8877860/topcool"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 275, "favorite_count": 0, "accepted_answer_id": 52525232, "answer_count": 1, "score": 0, "last_activity_date": 1537991949, "creation_date": 1537990786, "question_id": 52524982, "link": "https://stackoverflow.com/questions/52524982/jquery-get-text-of-each-div-created-in-foreach-loop-in-asp-net-core", "title": "Jquery, get text of each div created in foreach loop in asp.net core?", "body": "<p>I am working on a <code>Asp.net core</code> project and in my <code>index.cshtml</code> view, i have something like this</p>\n\n<p><strong>index.cshtml</strong></p>\n\n<pre><code>@model IEnumerable&lt;jquery.Models.Comment&gt;\n\n&lt;div&gt;\n    @foreach (var item in Model)\n    {\n        &lt;ul style=\"list-style:none;\"&gt;\n            &lt;li&gt;\n                &lt;button class=\"btn btn-success\"  id=\"btnlike\"&gt;\n                @item.LikeCount\n            &lt;/button&gt;\n\n            &lt;div id=\"cmid\"&gt;@item.Id&lt;/div&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n}\n&lt;/div&gt;\n\n\n@section Scripts{\n&lt;script&gt;\n    $(document).delegate('#btnlike', 'click', function (e) {\n        e.preventDefault();\n        var post_data = $('#cmid').text();\n\n        $.ajax({\n            type: 'POST',\n            url: '@Url.Action(\"Like\", \"Home\")',\n            data: { 'cid': post_data }\n        })\n    });\n&lt;/script&gt;\n}\n</code></pre>\n\n<p>In my <code>index</code> view there is a <code>foreach</code> loop that creates some <code>li</code> and each <code>li</code> contains a <code>button</code>. I want to click on any button to post <code>@item.id</code> exactly the same to the <code>HomeController</code> and <code>Like</code> Action.\nBut now click on any button, only the first <code>id</code> of the <code>div</code> is posted to the <code>controller</code> And <code>cid</code> parameter in <code>Like</code> Action is 1 .</p>\n\n<p><strong>HomeController</strong></p>\n\n<pre><code>public class HomeController : Controller\n{\n    public IActionResult Index()\n    {\n        var model = new List&lt;Comment&gt;\n        {\n            new Comment {Id = 1,LikeCount = 5},\n            new Comment {Id = 2,LikeCount =15},\n            new Comment {Id = 3, LikeCount = 20},\n            new Comment {Id = 4, LikeCount = 14},\n        };\n        return View(model);\n    }\n\n    [HttpPost]\n    public IActionResult Like(int cid)\n    {\n        return View();\n    }\n</code></pre>\n\n<p><strong>Comment Model</strong></p>\n\n<pre><code>public class Comment\n{\n    [Key]\n    public int Id { get; set; }\n\n    public int LikeCount { get; set; }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-native", "react-redux"], "comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1537990767, "post_id": 52524901, "comment_id": 91989624, "body": "<code>sort</code> sorts the array in place and then returns the array. The array in state could be frozen or something. It&#39;s not a good idea to call <code>sort</code> on a part of the state anyway (it mutates the state). I would start with <code>state.inventory.slice().sort</code>."}, {"owner": {"reputation": 69, "user_id": 9184012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6079ed87b853fb1584db2242e5bdd001?s=128&d=identicon&r=PG&f=1", "display_name": "MIkle", "link": "https://stackoverflow.com/users/9184012/mikle"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1537996136, "post_id": 52524901, "comment_id": 91991938, "body": "@Sulthan thank&#39;s a lot!"}], "answers": [{"comments": [{"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1537990841, "post_id": 52524993, "comment_id": 91989664, "body": "<code>sort</code> does return a value. It returns the array."}, {"owner": {"reputation": 637, "user_id": 6337396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f622d7b5782ded22bf191490e9b9945?s=128&d=identicon&r=PG&f=1", "display_name": "R&#233;mi", "link": "https://stackoverflow.com/users/6337396/r%c3%a9mi"}, "reply_to_user": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1537991022, "post_id": 52524993, "comment_id": 91989752, "body": "@Sulthan actually you are right. But still need to copy the array to avoid the error because of the immutability of the state."}, {"owner": {"reputation": 117929, "user_id": 669586, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wxf3D.png?s=128&g=1", "display_name": "Sulthan", "link": "https://stackoverflow.com/users/669586/sulthan"}, "edited": false, "score": 0, "creation_date": 1537991421, "post_id": 52524993, "comment_id": 91989940, "body": "I know that, I have already written that into a comment. However, using <code>slice()</code> would be more efficient."}], "tags": [], "owner": {"reputation": 637, "user_id": 6337396, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8f622d7b5782ded22bf191490e9b9945?s=128&d=identicon&r=PG&f=1", "display_name": "R&#233;mi", "link": "https://stackoverflow.com/users/6337396/r%c3%a9mi"}, "is_accepted": true, "score": 1, "last_activity_date": 1537991046, "last_edit_date": 1537991046, "creation_date": 1537990815, "answer_id": 52524993, "question_id": 52524901, "link": "https://stackoverflow.com/questions/52524901/why-does-sorting-in-redux-causes-to-error/52524993#52524993", "title": "Why does sorting in redux causes to error?", "body": "<p>You need to create a new array then sort that array.</p>\n\n<pre><code>case INVENTORY_FROM_LOW:\n   const inventory = [...state.inventory];\n   inventory.sort((a, b) =&gt; {\n      return (a.price - b.price)\n    });\n\nreturn {\n    ...state,\n    inventory\n  };\n</code></pre>\n\n<p>I guess you are having this error because everything in the state is immutable.</p>\n"}], "owner": {"reputation": 69, "user_id": 9184012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6079ed87b853fb1584db2242e5bdd001?s=128&d=identicon&r=PG&f=1", "display_name": "MIkle", "link": "https://stackoverflow.com/users/9184012/mikle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 36, "favorite_count": 0, "accepted_answer_id": 52524993, "answer_count": 1, "score": 0, "last_activity_date": 1537991046, "creation_date": 1537990426, "last_edit_date": 1537990887, "question_id": 52524901, "link": "https://stackoverflow.com/questions/52524901/why-does-sorting-in-redux-causes-to-error", "title": "Why does sorting in redux causes to error?", "body": "<p>I have sorting script in my Redux file:</p>\n\n<pre><code>case INVENTORY_FROM_LOW:\n  return {\n    ...state,\n    inventory: state.inventory.sort((a, b) =&gt; {\n      return (a.price - b.price)\n    })\n  }\n</code></pre>\n\n<p>And when I'm calling 'INVENTORY_FROM_LOW', I get:\n<a href=\"https://i.stack.imgur.com/tEwIi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tEwIi.png\" alt=\"Error image\"></a></p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 825, "user_id": 7596110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O4cNE.jpg?s=128&g=1", "display_name": "Corina", "link": "https://stackoverflow.com/users/7596110/corina"}, "edited": false, "score": 1, "creation_date": 1537991388, "post_id": 52524892, "comment_id": 91989933, "body": "I recommend also sharing the error you are getting when running this code. Also, the end of your post seems to have a few copy-paste issues. :)"}, {"owner": {"reputation": 1, "user_id": 10420516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d24bcd2ae57a715d02f508f05a7ce5cb?s=128&d=identicon&r=PG&f=1", "display_name": "Gregory", "link": "https://stackoverflow.com/users/10420516/gregory"}, "reply_to_user": {"reputation": 825, "user_id": 7596110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/O4cNE.jpg?s=128&g=1", "display_name": "Corina", "link": "https://stackoverflow.com/users/7596110/corina"}, "edited": false, "score": 0, "creation_date": 1537994166, "post_id": 52524892, "comment_id": 91991175, "body": "The error is &quot;Error\tCS0103\tThe name &#39;openFile&#39; does not exist in the current context&quot;"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1538000713, "post_id": 52524892, "comment_id": 91993367, "body": "Are you asking about Javascript, or Java?"}, {"owner": {"reputation": 314, "user_id": 3491042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a115fbafdcbcf752c3d9df73574236fe?s=128&d=identicon&r=PG&f=1", "display_name": "Artyom Shegeda", "link": "https://stackoverflow.com/users/3491042/artyom-shegeda"}, "edited": false, "score": 0, "creation_date": 1538002256, "post_id": 52524892, "comment_id": 91993729, "body": "read this first: <a href=\"https://docs.microsoft.com/en-us/dotnet/framework/winforms/controls/how-to-open-files-using-the-openfiledialog-component\" rel=\"nofollow noreferrer\">docs.microsoft.com/en-us/dotnet/framework/winforms/controls/&zwnj;&#8203;&hellip;</a> . Change question tags to <code>C#</code> and <code>Winforms</code>. Is you dialog on the form named <code>openFile</code>?"}], "owner": {"reputation": 1, "user_id": 10420516, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d24bcd2ae57a715d02f508f05a7ce5cb?s=128&d=identicon&r=PG&f=1", "display_name": "Gregory", "link": "https://stackoverflow.com/users/10420516/gregory"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537999964, "creation_date": 1537990388, "last_edit_date": 1537999964, "question_id": 52524892, "link": "https://stackoverflow.com/questions/52524892/can-someone-assist-with-the-error-in-this-code-invovling-openfile-showdialog", "title": "Can someone assist with the error in this code invovling openfile showdialog?", "body": "<p>Can someone assist with the error in this code involving openfile showdialog?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>using System;\r\nusing System.Collections.Generic;\r\nusing System.ComponentModel;\r\nusing System.Data;\r\nusing System.Drawing;\r\nusing System.Linq;\r\nusing System.Text;\r\nusing System.Threading.Tasks;\r\nusing System.Windows.Forms;\r\nusing System.IO;\r\n\r\nnamespace North_America\r\n{\r\n    public partial class Form1 : Form\r\n    {\r\n        public Form1()\r\n        {\r\n            InitializeComponent();\r\n        }\r\n\r\n        //The GetFileName method gets a filename from the\r\n        //user and assignes it to the variable passed as\r\n        //an argument.\r\n        private void GetFileName(out string selectedFile)\r\n        {\r\n            if (openFile.ShowDialog() == DialogResult.OK)\r\n            {\r\n                selectedFile = openFile.FileName;\r\n            }\r\n            else\r\n            {\r\n                selectedFile = \"\";\r\n            }\r\n        }\r\n\r\n        //The GetCountries method accpets a filename as an\r\n        //argument.  It opens the specified file and displays\r\n        //its contents in the countriesListBox control.\r\n        private void GetCountries (string filename)\r\n        {\r\n            try\r\n            {\r\n                //Delcare a variable to hold a country name.\r\n                string countryName;\r\n\r\n                //Declare a StreamReader variable\r\n                StreamReader inputFile;\r\n\r\n                //Open the file to get a streamreader object.\r\n                inputFile = File.OpenText(filename);\r\n\r\n                //Clear anything cueerntly in the listbox.\r\n                countriesListBox.Items.Clear();\r\n\r\n                //Read the file's contents.\r\n                while (!inputFile.EndOfStream)\r\n                {\r\n                    //Get a country name.\r\n                    countryName = inputFile.ReadLine();\r\n\r\n                    //Add the counry name to the ListBox.\r\n                    countriesListBox.Items.Add(countryName);\r\n                }\r\n\r\n                //Close the file.\r\n                inputFile.Close();\r\n            }\r\n            catch (Exception ex)\r\n            {\r\n                //Display an error message.\r\n                MessageBox.Show(ex.Message);\r\n            }\r\n\r\n       }\r\n\r\n        private void Form1_Load(object sender, EventArgs e)\r\n        {\r\n\r\n        }\r\n\r\n        private void countriesListBox_SelectedIndexChanged(object sender, EventArgs e)\r\n        {\r\n\r\n        }\r\n\r\n        private void getCountriesButton_Click(object sender, EventArgs e)\r\n        {\r\n            string filename;    //To hold the filename\r\n\r\n            //Get the filename from the user.\r\n            GetFileName(out filename);\r\n\r\n            //Get the countries from the file.\r\n            GetCountries(filename);\r\n        }\r\n\r\n        private void exitButton_Click(object sender, EventArgs e)\r\n        {\r\n            // Close the form.\r\n            this.Close();\r\n        }\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>How can I resolve this issue?</p>\n"}, {"tags": ["javascript", "reactjs", "chart.js", "chartjs-2.6.0", "react-chartjs"], "answers": [{"comments": [{"owner": {"reputation": 1957, "user_id": 2440284, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/doyCa.jpg?s=128&g=1", "display_name": "Fadi", "link": "https://stackoverflow.com/users/2440284/fadi"}, "edited": false, "score": 0, "creation_date": 1537992427, "post_id": 52525304, "comment_id": 91990414, "body": "hi, i don&#39;t want to remove the border i need a white border and around it a black shadow like in the second image"}], "tags": [], "owner": {"reputation": 174, "user_id": 5504122, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f214dfa495f9b35a52de8cabf2eef8c?s=128&d=identicon&r=PG&f=1", "display_name": "mukeshmandiwal", "link": "https://stackoverflow.com/users/5504122/mukeshmandiwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1537992283, "creation_date": 1537992283, "answer_id": 52525304, "question_id": 52524856, "link": "https://stackoverflow.com/questions/52524856/how-to-add-colored-points-with-white-shadow-border-in-chart-js/52525304#52525304", "title": "How to add colored points with white shadow border in chart.js?", "body": "<p>If you just want to remove border from point then you add <code>pointBorderWidth: 0,</code> and just remove <code>pointBorderColor: 'rgba(0,0,0,.2)',</code></p>\n"}], "owner": {"reputation": 1957, "user_id": 2440284, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/doyCa.jpg?s=128&g=1", "display_name": "Fadi", "link": "https://stackoverflow.com/users/2440284/fadi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 409, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537995450, "creation_date": 1537990133, "question_id": 52524856, "link": "https://stackoverflow.com/questions/52524856/how-to-add-colored-points-with-white-shadow-border-in-chart-js", "title": "How to add colored points with white shadow border in chart.js?", "body": "<p>trying to add colored points with white shadow border in React chart.js Version: 2.7.2 but no luck please any help.</p>\n\n<p>what I have now </p>\n\n<p><a href=\"https://i.stack.imgur.com/uOA0a.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uOA0a.png\" alt=\"enter image description here\"></a></p>\n\n<p>my code:</p>\n\n<pre><code>   &lt;div  style={{height: '200px', width: '400px', position: 'relative'}} className={'line-chart'}&gt;\n\n\n                &lt;Line data={{\n                    labels: [\"May 09\", \"May 15\", \"May 29\", \"Jun 03\"],\n                    datasets: [{\n                        data: [\n                            {\n                                x: \"May 09\",\n                                y: 80,\n                            },\n                            {\n                                x: \"May 15\",\n                                y: 98\n                            },\n                            {\n                                x: \"May 29\",\n                                y: 90\n                            },\n                            {\n                                x: \"Jun 03\",\n                                y: 110\n                            },\n                        ],\n                        pointBackgroundColor: [\"#f7aa2e\", \"#05b9af\", \"#ee734e\", \"#ee734e\"],\n                        pointBorderColor: 'rgba(0,0,0,.2)',\n                        pointBorderWidth: 3,\n                        pointRadius: 4,\n                        pointHoverRadius: 5,\n                        lineTension: 0,\n                        borderWidth: 1,\n                        fill: false,\n                    }]\n                }}\n                      options={{\n                          legend: {\n                              display: false\n                          },\n                          responsive: true,\n                          // maintainAspectRatio: false,\n                          scales: {\n                              yAxes: [{\n                                  display: false\n                              }],\n                              xAxes: [{\n                                  type: 'category',\n                                  gridLines: {\n                                      display: false\n                                  }\n                              }]\n                          },\n                          tooltips: {\n                              enabled: false,\n                          }\n\n                      }}\n                /&gt;\n\n            &lt;/div&gt;\n</code></pre>\n\n<p>what I'm trying to do </p>\n\n<p><a href=\"https://i.stack.imgur.com/HocoC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HocoC.png\" alt=\"enter image description here\"></a></p>\n\n<p>this chart with chart.js Version: 2.6.0 is the chart css different between this two versions?</p>\n"}, {"tags": ["javascript", "php", "jquery", "ajax", "wordpress"], "answers": [{"tags": [], "owner": {"reputation": 81, "user_id": 8622795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4f7c631584508e7e03b4a67f18dabaa?s=128&d=identicon&r=PG&f=1", "display_name": "Islam Mohamed", "link": "https://stackoverflow.com/users/8622795/islam-mohamed"}, "is_accepted": false, "score": 0, "last_activity_date": 1537999046, "creation_date": 1537999046, "answer_id": 52526550, "question_id": 52524854, "link": "https://stackoverflow.com/questions/52524854/how-to-echo-a-php-code-into-woocommerce-variation-product/52526550#52526550", "title": "How to echo a PHP code into WooCommerce variation product?", "body": "<p>I solved the issue, what i was missing is to convert the API return to string, here is the code hopefully it helps someone.</p>\n\n<pre><code>&lt;?php\n\nadd_filter( 'woocommerce_available_variation', 'custom_load_variation_settings_products_fields' );\nfunction custom_load_variation_settings_products_fields( $variations ) {    \n    // duplicate the line for each field\n    $variations['wccaf_de_asin_var'] = get_post_meta( $variations[ 'variation_id' ], 'wccaf_de_asin_var', true );   \n    $variations['wccaf_uk_asin_var'] = get_post_meta( $variations[ 'variation_id' ], 'wccaf_uk_asin_var', true );  \n    $amazon = new AmazonAPI(\"GOOGLE-21\", \"JIJIOJEFIOJEIOFEJFIO\", \"DJWIJDIWOJDFIJIOFJDIOWJQFOIJIOIOJWID\");\n    $item = $amazon-&gt;item_lookup($variations['wccaf_de_asin_var'])-&gt;get_item_data(); \n    $variations['amz_price_var_de'] = (string) $item-&gt;price;    \n    return $variations;\n}\n\n    //wccf_after_variation_description is a hook i created into variation.php\n    add_action( 'wccf_after_variation_description', 'wcff_variation_affiliate_button', 10);\n    function wcff_variation_affiliate_button() {\n\n        // IP Geolocation   \n        $country_code = $_SERVER [\"HTTP_CF_IPCOUNTRY\"];\n        $de_asin = '{{{ data.variation.wccaf_de_asin_var }}}';\n        $uk_asin = '{{{ data.variation.wccaf_uk_asin_var }}}';\n\n        if ($country_code==\"DE\") {  \n        $asin = $de_asin;   \n        }\n\n        if ($country_code==\"GB\") {  \n        $asin = $uk_asin;\n        }\n        echo $asin;\n\n\n        ?&gt;\n&lt;div class=\"buy_amz_btn_wrap\" &gt;     \n{{{data.variation.amz_price_var_de}}}\n&lt;/div&gt;\n&lt;?php\n\n    }   \n    ?&gt;  \n</code></pre>\n"}], "owner": {"reputation": 81, "user_id": 8622795, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4f7c631584508e7e03b4a67f18dabaa?s=128&d=identicon&r=PG&f=1", "display_name": "Islam Mohamed", "link": "https://stackoverflow.com/users/8622795/islam-mohamed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 234, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537999046, "creation_date": 1537990128, "question_id": 52524854, "link": "https://stackoverflow.com/questions/52524854/how-to-echo-a-php-code-into-woocommerce-variation-product", "title": "How to echo a PHP code into WooCommerce variation product?", "body": "<p>I have a little complex to explain the problem which I hope someone can understand and help me with.</p>\n\n<p>I have set custom fields on WooCommerce which I use to enter a specific code for each product (something like SKU called \"asin\"), Then i use that code on my backend using Amazon API to get the price from the product page on Amazon (don't worry my question is general and not related to API).</p>\n\n<p>Here is a sample of my code for the simple product type which works perfectly like what i need.</p>\n\n<pre><code>&lt;?php\n    //This is the code i use to get the \"asin\" value from custom fields.\n    $de_asin = get_post_meta(get_post()-&gt;ID, \"wccaf_de_asin\", true );\n\n    $associate_id = \"google-21\";\n    $access_key = \"N22EKJMDWJMDWIJWIJWDIWDW\";\n    $secret_key = \"48UJIFJIJFEIFJF89U8EKFIEJIUJWHUFUEFJFSIJF\";\n    $amazon_domain = \"amazon.de\";\n    $asin = $de_asin;\n\n    // This is the code i use to get the product price from amazon website using it's api\n    include 'amazon-api/amazon_class.php';\n    $amazon = new AmazonAPI($associate_id , $access_key, $secret_key , $amazon_domain);\n    $item = $amazon-&gt;item_lookup($asin)-&gt;get_item_data();\n    echo $item-&gt;price;\n\n?&gt;  \n</code></pre>\n\n<p>My problem is with variation products since I need that custom price to change when I switch between variations.</p>\n\n<p>This is the code I use to get custom product value for variation product type \"asin code\" which works perfectly but I need to add the price similar to what I did with the simple product above and use the current selected variation's asin and use that asin on the amazon API variable above.</p>\n\n<p>I got that custom field for variation products from here\n<a href=\"http://www.remicorson.com/woocommerce-custom-fields-for-variations/\" rel=\"nofollow noreferrer\">http://www.remicorson.com/woocommerce-custom-fields-for-variations/</a></p>\n\n<pre><code>&lt;?php\n\nadd_filter( 'woocommerce_available_variation', 'custom_load_variation_settings_products_fields' );\nfunction custom_load_variation_settings_products_fields( $variations ) {    \n    // duplicate the line for each field\n    $variations['wccaf_de_asin_var'] = get_post_meta( $variations[ 'variation_id' ], 'wccaf_de_asin_var', true );   \n    $variations['wccaf_uk_asin_var'] = get_post_meta( $variations[ 'variation_id' ], 'wccaf_uk_asin_var', true );   \n    return $variations;\n}\n\n    //wccf_after_variation_description is a hook i created into variation.php\n    add_action( 'wccf_after_variation_description', 'wcff_variation_affiliate_button', 10);\n    function wcff_variation_affiliate_button() {\n\n        // IP Geolocation   \n        $country_code = $_SERVER [\"HTTP_CF_IPCOUNTRY\"];\n        $de_asin = '{{{ data.variation.wccaf_de_asin_var }}}';\n        $uk_asin = '{{{ data.variation.wccaf_uk_asin_var }}}';\n\n        if ($country_code==\"DE\") {  \n        $asin = $de_asin;   \n        }\n\n        if ($country_code==\"GB\") {  \n        $asin = $uk_asin;\n        }\n        echo $asin;\n    }   \n    ?&gt;  \n</code></pre>\n\n<p>I guess that the main issue here is that this code gets the selected variation's asin using javascript after the page got rendered and i need to get that selected variation's asin and send it to php so i can send it via amazon API to get the price.\nSo I'm wondering if there is any way to use the price API code shown on the first simple snippet and use it on the second variation snippet?</p>\n\n<p>Thanks so much in advance :)</p>\n"}, {"tags": ["javascript", "flowtype"], "comments": [{"owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 1, "creation_date": 1537990501, "post_id": 52524814, "comment_id": 91989517, "body": "just for information: it seems flow does not understand <code>hasOwnProperty</code> <a href=\"https://github.com/facebook/flow/issues/2008\" rel=\"nofollow noreferrer\">in similar case</a> so it means if will not understand <code>indexOf(key) !== -1</code> as well. <a href=\"https://flow.org/en/docs/lang/refinements/\" rel=\"nofollow noreferrer\">Type Refinements</a> docs article also has not helped :("}, {"owner": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 1, "creation_date": 1537990793, "post_id": 52524814, "comment_id": 91989640, "body": "try answer for <a href=\"https://stackoverflow.com/questions/37897927/what-does-flow-not-like-about-this-code-that-conditionally-accesses-an-objects\" title=\"what does flow not like about this code that conditionally accesses an objects\">stackoverflow.com/questions/37897927/&hellip;</a> it&#39;s strange but there it helped"}, {"owner": {"reputation": 614, "user_id": 3921253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae5446cb7523b6a9abceef2560237cf?s=128&d=identicon&r=PG&f=1", "display_name": "Oleksandr Kovpashko", "link": "https://stackoverflow.com/users/3921253/oleksandr-kovpashko"}, "reply_to_user": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 0, "creation_date": 1537990877, "post_id": 52524814, "comment_id": 91989684, "body": "@JuanMendes I don&#39;t know. Just wrote it mechanically. Your variant indeed more readable and preferable but it doesn&#39;t fix the issue."}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 1, "creation_date": 1537991115, "post_id": 52524814, "comment_id": 91989794, "body": "That&#39;s why it&#39;s a comment, I didn&#39;t really think it would fix it. Though it does seem that simpler check like <code>in</code> could be added eventually"}, {"owner": {"reputation": 614, "user_id": 3921253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae5446cb7523b6a9abceef2560237cf?s=128&d=identicon&r=PG&f=1", "display_name": "Oleksandr Kovpashko", "link": "https://stackoverflow.com/users/3921253/oleksandr-kovpashko"}, "reply_to_user": {"reputation": 14783, "user_id": 2071697, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a7d1ded508aa80214b01298b83562406?s=128&d=identicon&r=PG", "display_name": "skyboyer", "link": "https://stackoverflow.com/users/2071697/skyboyer"}, "edited": false, "score": 1, "creation_date": 1537991282, "post_id": 52524814, "comment_id": 91989863, "body": "@skyboyer thanks a lot for the reference to that question! It&#39;s really strange but the errors disappeared after I&#39;ve added type definition to the <code>key</code> parameter in the callback function."}], "answers": [{"comments": [{"owner": {"reputation": 2862, "user_id": 5801495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vW0bo.jpg?s=128&g=1", "display_name": "Buggy", "link": "https://stackoverflow.com/users/5801495/buggy"}, "edited": false, "score": 1, "creation_date": 1539196804, "post_id": 52525258, "comment_id": 92418134, "body": "<code>const lookupKey = String(key);</code> - this line do the real magic <code>&#47;&#47; Error ({foo:3}[(&#39;bar&#39;)])  &#47;&#47; Magic ({foo:3}[(String(&#39;bar&#39;))]);</code>"}], "tags": [], "owner": {"reputation": 1, "user_id": 7202636, "user_type": "registered", "profile_image": "https://graph.facebook.com/1301848429867515/picture?type=large", "display_name": "Sunny Virk", "link": "https://stackoverflow.com/users/7202636/sunny-virk"}, "is_accepted": false, "score": -1, "last_activity_date": 1537992061, "creation_date": 1537992061, "answer_id": 52525258, "question_id": 52524814, "link": "https://stackoverflow.com/questions/52524814/flowtype-error-when-trying-to-get-object-value-via-dynamic-key/52525258#52525258", "title": "Flowtype error when trying to get object value via dynamic key", "body": "<p>Flow is correct in that your object of type InputObject has three required fields vs multipliers has just one field bar. The key is referring to a key of type InputObject. \nOne way is to cast key as a new string and use that as a reference to lookup. This does however make flow lose reference to key's type which is why <code>$Keys&lt;InputObject&gt;</code> makes sense to ensure stronger typing.</p>\n\n<pre><code>type InputObject = {\n  foo: number,\n  bar: number,\n  baz: number\n}\n\nconst multipliers = {\n  bar: 3,\n}\n\nfunction processData(data: inputObject) {\n  Object.keys(data).forEach(key: $Keys&lt;InputObject&gt; =&gt; {\n    const value = data[key];\n    const lookupKey = String(key);\n    if (multipliers.hasOwnProperty(lookupKey)) {\n      console.log(value * multipliers[lookupKey]);\n    else {\n      console.log(value);\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 614, "user_id": 3921253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ae5446cb7523b6a9abceef2560237cf?s=128&d=identicon&r=PG&f=1", "display_name": "Oleksandr Kovpashko", "link": "https://stackoverflow.com/users/3921253/oleksandr-kovpashko"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 467, "favorite_count": 1, "answer_count": 1, "score": 1, "last_activity_date": 1537992061, "creation_date": 1537989904, "question_id": 52524814, "link": "https://stackoverflow.com/questions/52524814/flowtype-error-when-trying-to-get-object-value-via-dynamic-key", "title": "Flowtype error when trying to get object value via dynamic key", "body": "<p>I have a code that receives an object, iterates its keys and performs different actions based on particular key presence in another config object.</p>\n\n<p>Here's an abstract example:</p>\n\n<pre><code>type InputObject = {\n  foo: number,\n  bar: number,\n  baz: number,\n};\n\nconst multipliers = {\n  bar: 3,\n};\n\nfunction processData(data: InputObject) {\n  Object.keys(data).forEach(key =&gt; {\n    const value = data[key];\n\n    if (Object.keys(multipliers).indexOf(key) !== -1) {\n      console.log(value * multipliers[key]);\n    } else {\n      console.log(value);\n    }\n  });\n}\n</code></pre>\n\n<p>If I check this code with <code>flow check</code> command it gives the following errors:</p>\n\n<blockquote>\n  <p>Cannot get multipliers[key] because:<br>\n  \u2022 property baz is missing in object literal [1].<br>\n  \u2022 property foo is missing in object literal [1].</p>\n</blockquote>\n\n<p>Why Flow doesn't understand that <code>multipliers[key]</code> is executed only if <code>key</code> exists in <code>multipliers</code>?\nIs there any way to fix the errors by changing type annotations without changing the code?</p>\n"}, {"tags": ["javascript", "reactjs", "babeljs", "babel-loader"], "answers": [{"comments": [{"owner": {"reputation": 1093, "user_id": 8602367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e7wP.jpg?s=128&g=1", "display_name": "Dave Kalu", "link": "https://stackoverflow.com/users/8602367/dave-kalu"}, "edited": false, "score": 0, "creation_date": 1538038308, "post_id": 52525679, "comment_id": 92005289, "body": "I&#39;ve done that but now I am greeted with a new error: <code>Error: Couldn&#39;t find preset &quot;@babel&#47;env&quot; relative to directory &quot;C:\\\\Users\\\\dkalu\\\\e-process\\\\Projects\\\\Practive app\\\\Brokers&quot;</code>"}, {"owner": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "reply_to_user": {"reputation": 1093, "user_id": 8602367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e7wP.jpg?s=128&g=1", "display_name": "Dave Kalu", "link": "https://stackoverflow.com/users/8602367/dave-kalu"}, "edited": false, "score": 0, "creation_date": 1538056528, "post_id": 52525679, "comment_id": 92016802, "body": "run <code>npm install</code>"}, {"owner": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "reply_to_user": {"reputation": 1093, "user_id": 8602367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e7wP.jpg?s=128&g=1", "display_name": "Dave Kalu", "link": "https://stackoverflow.com/users/8602367/dave-kalu"}, "edited": false, "score": 0, "creation_date": 1538056813, "post_id": 52525679, "comment_id": 92017048, "body": "try @babel/preset-env and @babel/preset-react in the .babelrc  It should be resolving them with or without the preset prefix but maybe something is funky."}, {"owner": {"reputation": 1093, "user_id": 8602367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e7wP.jpg?s=128&g=1", "display_name": "Dave Kalu", "link": "https://stackoverflow.com/users/8602367/dave-kalu"}, "edited": false, "score": 0, "creation_date": 1538059720, "post_id": 52525679, "comment_id": 92019040, "body": "Exactly how I have it and it still doesn&#39;t work. Funny it was working this morning then as soon as I restarted that app, it broke!"}, {"owner": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "reply_to_user": {"reputation": 1093, "user_id": 8602367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e7wP.jpg?s=128&g=1", "display_name": "Dave Kalu", "link": "https://stackoverflow.com/users/8602367/dave-kalu"}, "edited": false, "score": 0, "creation_date": 1538062762, "post_id": 52525679, "comment_id": 92021069, "body": "Try deleting your node_modules folder and reinstalling."}, {"owner": {"reputation": 1093, "user_id": 8602367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e7wP.jpg?s=128&g=1", "display_name": "Dave Kalu", "link": "https://stackoverflow.com/users/8602367/dave-kalu"}, "edited": false, "score": 0, "creation_date": 1538064798, "post_id": 52525679, "comment_id": 92022166, "body": "Still no luck. I am still getting <code>Error: Couldn&#39;t find preset &quot;@babel&#47;env&quot; relative to directory &quot;C:\\\\Users\\\\dkalu\\\\e-process\\\\Projects\\\\Practive app\\\\Brokers&quot; </code>"}, {"owner": {"reputation": 1093, "user_id": 8602367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e7wP.jpg?s=128&g=1", "display_name": "Dave Kalu", "link": "https://stackoverflow.com/users/8602367/dave-kalu"}, "reply_to_user": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "edited": false, "score": 0, "creation_date": 1538064920, "post_id": 52525679, "comment_id": 92022228, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/180891/discussion-between-dave-kalu-and-deadron\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 4632, "user_id": 1967484, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fYSto.jpg?s=128&g=1", "display_name": "Deadron", "link": "https://stackoverflow.com/users/1967484/deadron"}, "is_accepted": false, "score": 2, "last_activity_date": 1537994098, "creation_date": 1537994098, "answer_id": 52525679, "question_id": 52524797, "link": "https://stackoverflow.com/questions/52524797/unexpected-token-importreactjs-babel/52525679#52525679", "title": "Unexpected token import(ReactJS &amp; Babel)", "body": "<p>Your .babelrc should look like </p>\n\n<pre><code>{\n  \"presets\": [\n    \"@babel/env\",\n    \"@babel/react\"\n  ]\n}\n</code></pre>\n\n<p>Which means you should have </p>\n\n<pre><code>\"@babel/core\": \"^7.0.0\"\n\"@babel/preset-env\": \"^7.0.0\"\n\"@babel/preset-react\": \"^7.0.0\"\n</code></pre>\n\n<p>as dev dependencies.</p>\n\n<p>This all that is necessary to enable the standard features in babel including import and JSX support.  Remove any babel packages that are not these three unless you are also using babel pollyfills.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 7143230, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jkGDDwX5gbQ/AAAAAAAAAAI/AAAAAAAAKiI/luJoYjJQqbo/photo.jpg?sz=128", "display_name": "Shashank Agarwal", "link": "https://stackoverflow.com/users/7143230/shashank-agarwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1538830262, "creation_date": 1538830262, "answer_id": 52679280, "question_id": 52524797, "link": "https://stackoverflow.com/questions/52524797/unexpected-token-importreactjs-babel/52679280#52679280", "title": "Unexpected token import(ReactJS &amp; Babel)", "body": "<p>Your .babelrc should look like</p>\n\n<pre><code>{\n    \"presets\": [\n        \"@babel/preset-env\",\n        \"@babel/preset-react\"\n    ]\n}\n</code></pre>\n\n<p>if you have not already added babel to dev dependencies, run</p>\n\n<p><code>npm i @babel/core babel-loader @babel/preset-env @babel/preset-react --save-dev</code></p>\n\n<p>OR</p>\n\n<p><code>yarn --dev add @babel/core babel-loader @babel/preset-env @babel/preset-react</code></p>\n\n<p>this would ensure you have the latest versions of all the required dependencies.</p>\n"}], "owner": {"reputation": 1093, "user_id": 8602367, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7e7wP.jpg?s=128&g=1", "display_name": "Dave Kalu", "link": "https://stackoverflow.com/users/8602367/dave-kalu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1198, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1538830262, "creation_date": 1537989845, "question_id": 52524797, "link": "https://stackoverflow.com/questions/52524797/unexpected-token-importreactjs-babel", "title": "Unexpected token import(ReactJS &amp; Babel)", "body": "<p>When I try to run my application, I get following error: \n<code>(function (exports, require, module, __filename, __dirname) { import { Row } from '../grid'\nSyntaxError: Unexpected token import</code></p>\n\n<p>I tried a couple of stackoverflow answers that suggested I install <code>babel-plugin-transform-es2015-modules-commonjs babel-plugin-transform-class-properties babel-preset-es2015</code></p>\n\n<p>then configure my <code>babel-rc</code> file as such:</p>\n\n<pre><code>{\n  \"presets\": [\"env\", \"es2015\", \"react\", \"stage-2\"],\n  \"plugins\": [\n    [\"transform-es2015-modules-commonjs\"],\n    [\"transform-class-properties\"],\n    [\n      \"import\",\n      { \"libraryName\": \"antd\", \"libraryDirectory\": \"es\", \"style\": \"css\" }\n    ]\n  ]\n}\n</code></pre>\n\n<p>But none of these has worked.</p>\n\n<p>Here is the snippet of my webpack.config.js that should configure <code>babel-loader</code> to transpile <code>.jsx|.js</code></p>\n\n<pre><code>module: {\n    rules: [\n      {\n        test: /\\.(js|jsx)$/,\n        exclude: /node_modules/,\n        use: ['babel-loader']\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "three.js"], "answers": [{"tags": [], "owner": {"reputation": 601, "user_id": 8467565, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-BimWQkPZH38/AAAAAAAAAAI/AAAAAAAAEZk/gsbytxeYjV8/photo.jpg?sz=128", "display_name": "Halil Irmak", "link": "https://stackoverflow.com/users/8467565/halil-irmak"}, "is_accepted": false, "score": -2, "last_activity_date": 1537989904, "creation_date": 1537989904, "answer_id": 52524812, "question_id": 52524721, "link": "https://stackoverflow.com/questions/52524721/how-to-refresh-javascript-variable-without-page-refresh/52524812#52524812", "title": "How to refresh Javascript variable without page refresh?", "body": "<p>You may try to refresh the values with setInterval method, so you wont need a full page refresh.</p>\n\n<p>Here is more info</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval</a></p>\n"}, {"comments": [{"owner": {"reputation": 371, "user_id": 4585008, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-dJDHYRnOVFQ/AAAAAAAAAAI/AAAAAAAADNs/f-8lR1mh0i0/photo.jpg?sz=128", "display_name": "fonsi", "link": "https://stackoverflow.com/users/4585008/fonsi"}, "edited": false, "score": 0, "creation_date": 1537990429, "post_id": 52524866, "comment_id": 91989486, "body": "Thanks, I understand the implications of the refresh I have implemented. How could I implement it in an offline configuration (non-server location)?"}, {"owner": {"reputation": 16675, "user_id": 2608515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/N7ZoP.jpg?s=128&g=1", "display_name": "Marquizzo", "link": "https://stackoverflow.com/users/2608515/marquizzo"}, "reply_to_user": {"reputation": 371, "user_id": 4585008, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-dJDHYRnOVFQ/AAAAAAAAAAI/AAAAAAAADNs/f-8lR1mh0i0/photo.jpg?sz=128", "display_name": "fonsi", "link": "https://stackoverflow.com/users/4585008/fonsi"}, "edited": false, "score": 0, "creation_date": 1537990654, "post_id": 52524866, "comment_id": 91989571, "body": "You mean you don&#39;t want to run this on the web, and you want to run it just out of your computer?"}, {"owner": {"reputation": 371, "user_id": 4585008, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-dJDHYRnOVFQ/AAAAAAAAAAI/AAAAAAAADNs/f-8lR1mh0i0/photo.jpg?sz=128", "display_name": "fonsi", "link": "https://stackoverflow.com/users/4585008/fonsi"}, "edited": false, "score": 0, "creation_date": 1537990845, "post_id": 52524866, "comment_id": 91989667, "body": "Correct. It is a local application and the end users are not knowledgeable about running servers."}, {"owner": {"reputation": 1904, "user_id": 3614478, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/EuojC.jpg?s=128&g=1", "display_name": "ElJackiste", "link": "https://stackoverflow.com/users/3614478/eljackiste"}, "edited": false, "score": 0, "creation_date": 1537991155, "post_id": 52524866, "comment_id": 91989813, "body": "You are running it in your browser ?"}, {"owner": {"reputation": 371, "user_id": 4585008, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-dJDHYRnOVFQ/AAAAAAAAAAI/AAAAAAAADNs/f-8lR1mh0i0/photo.jpg?sz=128", "display_name": "fonsi", "link": "https://stackoverflow.com/users/4585008/fonsi"}, "edited": false, "score": 0, "creation_date": 1537991376, "post_id": 52524866, "comment_id": 91989924, "body": "Yes, the end users will run it directly on their browsers in local machines."}, {"owner": {"reputation": 16675, "user_id": 2608515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/N7ZoP.jpg?s=128&g=1", "display_name": "Marquizzo", "link": "https://stackoverflow.com/users/2608515/marquizzo"}, "edited": false, "score": 1, "creation_date": 1537991571, "post_id": 52524866, "comment_id": 91990018, "body": "Hmm... fetching data from a different file will be a problem if you don&#39;t want to run a server. Browsers by default prevent you from fetching data from your local hard-drive because it&#39;s a security issue. Could you imagine the security concerns if a website could perform &#39;load(&quot;C:/user/documents/&quot;)? With that being said, do you know what all the colors will be in the future? You could simply declare an array of ALL the colors on initial load, then skip to the next one every 5 seconds, to avoid constant data-fetching from a separate file."}, {"owner": {"reputation": 1904, "user_id": 3614478, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/EuojC.jpg?s=128&g=1", "display_name": "ElJackiste", "link": "https://stackoverflow.com/users/3614478/eljackiste"}, "edited": false, "score": 0, "creation_date": 1537992059, "post_id": 52524866, "comment_id": 91990219, "body": "If they run your application on a browser, they will need to download it from somewhere. Normally, somewhere means a server. So, if you want to grab new values you need to make a new request to this server. In this case, you need to use AJAX as @Marquizzo said (or other techniques as sockets). You can also make your users download your application one time and then run it only in their local browser, but in this case you will need to change colors programatically in your JS without request outer file."}, {"owner": {"reputation": 371, "user_id": 4585008, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-dJDHYRnOVFQ/AAAAAAAAAAI/AAAAAAAADNs/f-8lR1mh0i0/photo.jpg?sz=128", "display_name": "fonsi", "link": "https://stackoverflow.com/users/4585008/fonsi"}, "edited": false, "score": 0, "creation_date": 1537992658, "post_id": 52524866, "comment_id": 91990514, "body": "Thanks for the comments. I think I will have to figure out a way to do a &quot;server&quot; deploy with AJAX"}, {"owner": {"reputation": 1904, "user_id": 3614478, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/EuojC.jpg?s=128&g=1", "display_name": "ElJackiste", "link": "https://stackoverflow.com/users/3614478/eljackiste"}, "edited": false, "score": 0, "creation_date": 1537993264, "post_id": 52524866, "comment_id": 91990786, "body": "AJAX is just an API available in JavaScript which mainly allows you to make request to get data without refresh the page. A server is the endpoint where your users will ask data with an URL ;) Note that your local machine can be set to work as a server. You can find good documentation on MDN : <a href=\"https://developer.mozilla.org/en-US/\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US</a>"}, {"owner": {"reputation": 371, "user_id": 4585008, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-dJDHYRnOVFQ/AAAAAAAAAAI/AAAAAAAADNs/f-8lR1mh0i0/photo.jpg?sz=128", "display_name": "fonsi", "link": "https://stackoverflow.com/users/4585008/fonsi"}, "edited": false, "score": 0, "creation_date": 1538074266, "post_id": 52524866, "comment_id": 92026588, "body": "How would the AJAX request pull the information from the file in the same folder?"}, {"owner": {"reputation": 16675, "user_id": 2608515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/N7ZoP.jpg?s=128&g=1", "display_name": "Marquizzo", "link": "https://stackoverflow.com/users/2608515/marquizzo"}, "reply_to_user": {"reputation": 371, "user_id": 4585008, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-dJDHYRnOVFQ/AAAAAAAAAAI/AAAAAAAADNs/f-8lR1mh0i0/photo.jpg?sz=128", "display_name": "fonsi", "link": "https://stackoverflow.com/users/4585008/fonsi"}, "edited": false, "score": 0, "creation_date": 1538074584, "post_id": 52524866, "comment_id": 92026731, "body": "@fonsi Here&#39;s a simple example on how to perform an AJAX call using XMLHTTPRequest: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/&hellip;</a> but instead of putting an entire domain, you&#39;d replace it with <code>.&#47;colors.json</code>. Notice that <code>.&#47;</code> looks for the file in the same folder."}], "tags": [], "owner": {"reputation": 16675, "user_id": 2608515, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/N7ZoP.jpg?s=128&g=1", "display_name": "Marquizzo", "link": "https://stackoverflow.com/users/2608515/marquizzo"}, "is_accepted": false, "score": 0, "last_activity_date": 1537990189, "creation_date": 1537990189, "answer_id": 52524866, "question_id": 52524721, "link": "https://stackoverflow.com/questions/52524721/how-to-refresh-javascript-variable-without-page-refresh/52524866#52524866", "title": "How to refresh Javascript variable without page refresh?", "body": "<p>When you add <code>&lt;META HTTP-EQUIV=\"refresh\" CONTENT=\"5\"&gt;</code> to your HTML document, you're telling it to refresh ALL of it. HTML, DOM updates, JavaScript, its state, variable values... everything. You shouldn't use this approach if you want to maintain your position in the scene.</p>\n\n<p>Why don't you load the HTML page once, then perform timed calls to a server to retreive JUST the color data without doing a full-page refresh? That's what <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest\" rel=\"nofollow noreferrer\">XMLHTTPRequest</a> is for. This is what they call AJAX (Asynchronous Javascript And XML), and there are <a href=\"https://stackoverflow.com/questions/8567114/how-to-make-an-ajax-call-without-jquery\">plenty of StackOverflow questions</a> outlining how to use it.</p>\n"}], "owner": {"reputation": 371, "user_id": 4585008, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-dJDHYRnOVFQ/AAAAAAAAAAI/AAAAAAAADNs/f-8lR1mh0i0/photo.jpg?sz=128", "display_name": "fonsi", "link": "https://stackoverflow.com/users/4585008/fonsi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 367, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1537990189, "creation_date": 1537989486, "question_id": 52524721, "link": "https://stackoverflow.com/questions/52524721/how-to-refresh-javascript-variable-without-page-refresh", "title": "How to refresh Javascript variable without page refresh?", "body": "<p>I have a Three.JS application that colors the object based on a text file: </p>\n\n<pre><code>let color1 = 0x00ff00;\nlet color2 = 0xFF04F0;\n</code></pre>\n\n<p>In the Three.JS code: </p>\n\n<pre><code>var cubeGeometry = new THREE.BoxGeometry(15, 1, 5);\nvar cubeMaterial = new THREE.MeshLambertMaterial({color:color2});\nvar cube = new THREE.Mesh(cubeGeometry, cubeMaterial);\n\nvar cubeGeometry1 = new THREE.BoxGeometry(15, 1, 5);\nvar cubeMaterial1 = new THREE.MeshLambertMaterial({color:color1});\nvar cube1 = new THREE.Mesh(cubeGeometry1, cubeMaterial1);\n</code></pre>\n\n<p>As the colors in the text file change, the Three.JS application displays them correctly.  If I add <code>&lt;META HTTP-EQUIV=\"refresh\" CONTENT=\"5\"&gt;</code> on the <code>&lt;head&gt;</code> of the html then it refreshes and grabs the color values, but the scene resets (notice that you can move the scene with the mouse). Is there a way to update the Javascript variables without reloading the page and keeping the Three.JS scene? </p>\n\n<p>Full code is here: <a href=\"https://github.com/f0n/threeSocket\" rel=\"nofollow noreferrer\">https://github.com/f0n/threeSocket</a></p>\n\n<p>GitHub pages: <a href=\"https://f0n.github.io/threeSocket/\" rel=\"nofollow noreferrer\">https://f0n.github.io/threeSocket/</a></p>\n"}, {"tags": ["javascript", "html"], "answers": [{"tags": [], "owner": {"reputation": 24238, "user_id": 411918, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/15b96bb27c32fa997301be98e29a9e6f?s=128&d=identicon&r=PG", "display_name": "Ren&#233; H&#246;hle", "link": "https://stackoverflow.com/users/411918/ren%c3%a9-h%c3%b6hle"}, "is_accepted": true, "score": 0, "last_activity_date": 1537989891, "creation_date": 1537989891, "answer_id": 52524810, "question_id": 52524714, "link": "https://stackoverflow.com/questions/52524714/unable-to-move-javascript-from-html-file-into-js-file-and-import-it-into-applica/52524810#52524810", "title": "unable to move javascript from html file into js file and import it into application.js - rails", "body": "<p>It's a bit difficult to give a an exact answer without your complete html file and code. But in some cases the problem is the order. That you use jQuery or other libs for example that are not available at this time. </p>\n\n<p>Normally you should change your script in that way that it's running first if everything else is ready. In you script you use jQuery so you could use </p>\n\n<pre><code>$(document).ready(function());\n</code></pre>\n\n<p>Then you script runs first if your document is ready.</p>\n\n<p><a href=\"http://learn.jquery.com/using-jquery-core/document-ready/\" rel=\"nofollow noreferrer\">http://learn.jquery.com/using-jquery-core/document-ready/</a></p>\n\n<p>You could check all that with your Developer Tools in your browser and check if you can see some errors that something is missing. </p>\n"}], "owner": {"reputation": 375, "user_id": 10409976, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/91acc14383d05b02f61e8deb0fde4c56?s=128&d=identicon&r=PG&f=1", "display_name": "b.herring", "link": "https://stackoverflow.com/users/10409976/b-herring"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 52524810, "answer_count": 1, "score": 1, "last_activity_date": 1537989891, "creation_date": 1537989475, "question_id": 52524714, "link": "https://stackoverflow.com/questions/52524714/unable-to-move-javascript-from-html-file-into-js-file-and-import-it-into-applica", "title": "unable to move javascript from html file into js file and import it into application.js - rails", "body": "<p>I have some javascript (a progress bar) which works fine in script tags in html. however im trying to move it into a .js file and import into application.js but i'm not sure how. ive done it before with another javascript feature where i put the whole thing in a function,(i've added function bar() here)  then exported that, then imported in application.js, however it is not working this time. im quite new to javascript, thanks.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  function bar(){\r\n     $('.progress-wrap').each(function(){\r\n    percent = $(this);\r\n    bar = $(this).children('.progress-bar');\r\n    moveProgressBar(percent, bar);\r\n});\r\n\r\n  // function bar(){\r\n  // on browser resize...\r\n  $(window).resize(function() {\r\n    $('.progress-wrap').each(function(){\r\n        percent = $(this);\r\n        bar = $(this).children('.progress-bar');\r\n        moveProgressBar(percent, bar);\r\n    });\r\n  });\r\n\r\n  // SIGNATURE PROGRESS\r\n  function moveProgressBar(percent, bar) {\r\n      var getPercent = (percent.data('progress-percent') / 100);\r\n      var getProgressWrapWidth = percent.width();\r\n      var progressTotal = getPercent * getProgressWrapWidth;\r\n      var animationLength = 1000;\r\n\r\n      // on page load, animate percentage bar to data percentage length\r\n      // .stop() used to prevent animation queueing\r\n      bar.stop().animate({\r\n          left: progressTotal\r\n      }, animationLength);\r\n  }\r\n}\r\n\r\nexport {bar};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "debugging", "redux", "react-redux"], "answers": [{"comments": [{"owner": {"reputation": 25809, "user_id": 3148807, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sYRik.jpg?s=128&g=1", "display_name": "Sagiv b.g", "link": "https://stackoverflow.com/users/3148807/sagiv-b-g"}, "reply_to_user": {"reputation": 549, "user_id": 9903235, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "sp92", "link": "https://stackoverflow.com/users/9903235/sp92"}, "edited": false, "score": 0, "creation_date": 1537993062, "post_id": 52524732, "comment_id": 91990708, "body": "@sp92 Glad it helped"}], "tags": [], "owner": {"reputation": 25809, "user_id": 3148807, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/sYRik.jpg?s=128&g=1", "display_name": "Sagiv b.g", "link": "https://stackoverflow.com/users/3148807/sagiv-b-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1537989568, "creation_date": 1537989568, "answer_id": 52524732, "question_id": 52524666, "link": "https://stackoverflow.com/questions/52524666/whys-my-input-box-behaving-in-a-weird-way-in-terms-of-user-input/52524732#52524732", "title": "Why&#39;s my input box behaving in a weird way in terms of user input?", "body": "<p>You are updating the local component state with <code>handleArticleId</code> but using <code>this.props.articleIdValue</code> for the value.</p>\n\n<p>Either use a value from the local state or lift the state up and pass the handler to the parent.  </p>\n\n<p>I see you are using <code>redux</code> so you'll need to store the value in the <code>redux</code> store and create the relevant action and reducer for it.</p>\n"}, {"comments": [{"owner": {"reputation": 549, "user_id": 9903235, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "sp92", "link": "https://stackoverflow.com/users/9903235/sp92"}, "edited": false, "score": 0, "creation_date": 1537991226, "post_id": 52524771, "comment_id": 91989838, "body": "Thank you.  Tried out your suggestion and it worked.  But I have 1 question.  Is the use of redux throughout my code efficient?  In other words, is how I&#39;m using redux throughout my code good practice?"}, {"owner": {"reputation": 43, "user_id": 7206447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df73f5d16ce63d4e3606b54006805bb2?s=128&d=identicon&r=PG&f=1", "display_name": "Francisco Di Giandomenico", "link": "https://stackoverflow.com/users/7206447/francisco-di-giandomenico"}, "reply_to_user": {"reputation": 549, "user_id": 9903235, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "sp92", "link": "https://stackoverflow.com/users/9903235/sp92"}, "edited": false, "score": 0, "creation_date": 1537991487, "post_id": 52524771, "comment_id": 91989980, "body": "Personally, for forms, I maintain the state of the form inside the component, and once the submit button is clicked I send the information up to the reducers to do whatever they need to do.  When using a form that can also pre-load the information it contains, I use <code>componentDidMount</code> to map the props passed to it into the state. So the only thing I use in the inputs are the component&#39;s state, which is derived from the props initially passed to it"}, {"owner": {"reputation": 43, "user_id": 7206447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df73f5d16ce63d4e3606b54006805bb2?s=128&d=identicon&r=PG&f=1", "display_name": "Francisco Di Giandomenico", "link": "https://stackoverflow.com/users/7206447/francisco-di-giandomenico"}, "reply_to_user": {"reputation": 549, "user_id": 9903235, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "sp92", "link": "https://stackoverflow.com/users/9903235/sp92"}, "edited": false, "score": 0, "creation_date": 1537991584, "post_id": 52524771, "comment_id": 91990028, "body": "That being said, if your aim is to go for zero state in your components, you did handle it well"}], "tags": [], "owner": {"reputation": 43, "user_id": 7206447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df73f5d16ce63d4e3606b54006805bb2?s=128&d=identicon&r=PG&f=1", "display_name": "Francisco Di Giandomenico", "link": "https://stackoverflow.com/users/7206447/francisco-di-giandomenico"}, "is_accepted": false, "score": 1, "last_activity_date": 1537989734, "creation_date": 1537989734, "answer_id": 52524771, "question_id": 52524666, "link": "https://stackoverflow.com/questions/52524666/whys-my-input-box-behaving-in-a-weird-way-in-terms-of-user-input/52524771#52524771", "title": "Why&#39;s my input box behaving in a weird way in terms of user input?", "body": "<pre><code>handleArticleId = event =&gt; {\n    event.preventDefault();\n    this.setState({idVal: event.target.value});\n    // You should probably be calling your this.props.articleIdValueRedux method here\n}\n</code></pre>\n\n<p>You're not updating your redux state when <code>articleId</code> changes, only the internal component state (and retrieving the value from the redux store state to show in the input, which isn't updated)</p>\n"}], "owner": {"reputation": 549, "user_id": 9903235, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "sp92", "link": "https://stackoverflow.com/users/9903235/sp92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 52524732, "answer_count": 2, "score": 1, "last_activity_date": 1537989734, "creation_date": 1537989313, "question_id": 52524666, "link": "https://stackoverflow.com/questions/52524666/whys-my-input-box-behaving-in-a-weird-way-in-terms-of-user-input", "title": "Why&#39;s my input box behaving in a weird way in terms of user input?", "body": "<p>I'm confused as to why I can't type anything in <code>&lt;input onChange={this.handleArticleId} value={this.props.articleIdValue} placeholder=\"article id\"/&gt;</code>.  If I do type something, and click <code>submit</code>, only then does the letter appear in the input box.  The type of behavior I've never seen before.</p>\n\n<p>What am I doing wrong &amp; how can I fix this?</p>\n\n<p>Here's <code>SearchArticle</code>:</p>\n\n<pre><code>import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport * as actionType from '../../store/actions/actions';\n\nclass SearchArticle extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            flag: false,\n            idVal: '',\n            cityCodeval: ''\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleArticleId = this.handleArticleId.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n    }\n\n    handleSubmit(event) {\n        event.preventDefault();\n        console.log(\"IDValue --&gt; \" + this.state.idVal);\n        this.props.articleIdValueRedux(this.state.idVal);\n    }\n\n    handleChange = event =&gt; {\n        this.setState({value: event.target.value});\n        this.props.CityCodeReducerRedux(event.target.value);\n    }\n\n    handleArticleId = event =&gt; {\n        event.preventDefault();\n        this.setState({idVal: event.target.value});\n    }\n\n    displayName = () =&gt; {\n           console.log(\"this.props.articleIdValue = \" + this.props.articleIdValue);\n           return(\n               &lt;div&gt;\n                   &lt;p&gt;author name: {this.props.authorNameValue}&lt;/p&gt;\n                   &lt;p&gt;article text: {this.props.storyTextValue}&lt;/p&gt;\n               &lt;/div&gt;\n           );\n       }\n\n\n    render() {\n        return(\n            &lt;div&gt;\n                &lt;form onSubmit={this.handleSubmit}&gt;\n                    &lt;input onChange={this.handleChange} value={this.props.cityCodeValue} type=\"text\" placeholder=\"city code\"/&gt;\n                    &lt;input onChange={this.handleArticleId} value={this.props.articleIdValue} placeholder=\"article id\"/&gt;\n                    &lt;button type=\"submit\" value=\"Search\"&gt;Submit&lt;/button&gt;\n                    {this.state.flag ? this.displayName() : null}\n                &lt;/form&gt;\n            &lt;/div&gt;\n        );\n    }\n}\n\nconst mapStateToProps = state =&gt; {\n    return {\n        cityCodeValue: state.cityCodeValue.cityCodeValue,\n        authorNameValue: state.authorNameValue.authorNameValue,\n        articleIdValue: state.articleIdValue.articleIdValue,\n        storyTextValue: state.storyTextValue.storyTextValue\n    };\n};\n\nconst mapDispatchToProps = dispatch =&gt; {\n    return {\n        CityCodeReducerRedux: (value) =&gt; dispatch({type: actionType.CITY_CODE_VALUE, value}),\n        articleIdValueRedux: (value) =&gt; dispatch({type: actionType.ARTICLE_ID_VALUE, value})\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchArticle);\n</code></pre>\n\n<p>Here's <code>ArticleIdReducer</code></p>\n\n<pre><code>import * as actionType from './actions/actions';\n\nconst initialState = {\n    articleIdValue: ''\n};\n\nconst ArticleIdReducer = (state = initialState, action) =&gt; {\n    switch (action.type) {\n        case actionType.ARTICLE_ID_VALUE:\n            return {\n                ...state,\n                articleIdValue: action.value\n            };\n        default:\n            return state;\n    }\n};\n\nexport default ArticleIdReducer;\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "vuejs2"], "comments": [{"owner": {"reputation": 6074, "user_id": 9132049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-s4THmh4Z9p4/AAAAAAAAAAI/AAAAAAAAAJY/MEXx5ikQuWk/photo.jpg?sz=128", "display_name": "Luis felipe De jesus Munoz", "link": "https://stackoverflow.com/users/9132049/luis-felipe-de-jesus-munoz"}, "edited": false, "score": 0, "creation_date": 1537989302, "post_id": 52524628, "comment_id": 91988956, "body": "Try coping it using <code>[...myArrayhere]</code>"}, {"owner": {"reputation": 6074, "user_id": 9132049, "user_type": "registered", "accept_rate": 91, "profile_image": "https://lh4.googleusercontent.com/-s4THmh4Z9p4/AAAAAAAAAAI/AAAAAAAAAJY/MEXx5ikQuWk/photo.jpg?sz=128", "display_name": "Luis felipe De jesus Munoz", "link": "https://stackoverflow.com/users/9132049/luis-felipe-de-jesus-munoz"}, "edited": false, "score": 0, "creation_date": 1537989356, "post_id": 52524628, "comment_id": 91988981, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/47384480/you-may-have-an-infinite-update-loop-in-a-component-render-function-warning-in\">&quot;You may have an infinite update loop in a component render function&quot; warning in Vue component</a>"}], "answers": [{"tags": [], "owner": {"reputation": 940, "user_id": 4907288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/84c8e9891b10493046032055f396e873?s=128&d=identicon&r=PG&f=1", "display_name": "Klick", "link": "https://stackoverflow.com/users/4907288/klick"}, "is_accepted": false, "score": 0, "last_activity_date": 1537989904, "creation_date": 1537989904, "answer_id": 52524813, "question_id": 52524628, "link": "https://stackoverflow.com/questions/52524628/vue-sort-and-slice-table-cause-infinity-loop-error/52524813#52524813", "title": "Vue - sort and slice table cause infinity loop error", "body": "<p>First of all, thank you to refer me to other similar question. It helped me understand where is a error.\nThis is my solution to avoid this problem.</p>\n\n<pre><code>computed: {\n            mostPlayed(){\n                let newArray = this.games.slice(0,this.games.length).sort(function(a, b) {\n                    return b.game_played - a.game_played;\n                });\n                return newArray.slice(0,3);\n            },\n            newGames(){\n               let newArray = this.games.slice(0,this.games.length).sort(function(a, b) {\n                    a = new Date(a.created_at).getTime();\n                    b = new Date(b.created_at).getTime();\n                    return b - a;\n                });\n               return newArray.slice(0,3);\n            }\n        },\n</code></pre>\n"}], "owner": {"reputation": 940, "user_id": 4907288, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/84c8e9891b10493046032055f396e873?s=128&d=identicon&r=PG&f=1", "display_name": "Klick", "link": "https://stackoverflow.com/users/4907288/klick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1114, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1537989904, "creation_date": 1537989157, "question_id": 52524628, "link": "https://stackoverflow.com/questions/52524628/vue-sort-and-slice-table-cause-infinity-loop-error", "title": "Vue - sort and slice table cause infinity loop error", "body": "<p>In my vue project I try to sort array and return only first 3 elements but some reason I get an error.</p>\n\n<blockquote>\n  <p>You may have an infinite update loop in a component render function.</p>\n</blockquote>\n\n<p>In my project I have two divs with <em>v-for</em> instruction. One of them call \"newGames\" computed method, second one call \"mostPlayed\". </p>\n\n<p>If I remove one of that div from my project then everything is fine, but in other case always I have error \"infinity loop\".</p>\n\n<p>So why does it happen? What is wrong with code. Full code bellow.</p>\n\n<pre><code>&lt;template&gt;\n        &lt;div&gt;\n            &lt;div v-for=\"game in newGames\" class=\"col-lg-4\"&gt;\n                &lt;div class=\"icon-box-3\"&gt;\n                    &lt;div class=\"icon-box-icon\"&gt;\n                                        &lt;i class=\"fa fa-bullseye\" aria-hidden=\"true\"&gt;&lt;div&gt;{{formatDate(game.created_at)}}&lt;/div&gt;&lt;/i&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"icon-box-content\"&gt;\n                        &lt;h5 class=\"heading\"&gt;{{game.title}}&lt;/h5&gt;\n                        &lt;span class=\"text-white\"&gt;{{trimText(game.description,120)}}&lt;/span&gt;\n                        &lt;br&gt;\n\n                        &lt;button @click=\"getGame(game.id)\" type=\"button\" class=\"btn btn-warning btn-sm mt-20\"&gt;!Graj&lt;/button&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;div&gt;\n        &lt;div v-for=\"game in mostPlayed\" class=\"col-lg-4\"&gt;\n            &lt;div class=\"card course-card\"&gt;\n                &lt;div class=\"course-head\"&gt;\n                    &lt;a v-on:click.stop=\"getGame(game.id)\" class=\"course-link\"&gt;&lt;i class=\"fa fa-link\" aria-hidden=\"true\"&gt;&lt;/i&gt;&lt;/a&gt;\n                &lt;/div&gt;\n                &lt;div class=\"course-detail\"&gt;\n                    &lt;h4 class=\"heading\"&gt;{{game.title}}&lt;/h4&gt;\n                    &lt;span class=\"brief\"&gt;{{game.description.substr(0,60)}}&lt;/span&gt;\n                    &lt;ul class=\"course-features\"&gt;\n                        &lt;li&gt;&lt;i class=\"fa fa-gamepad\"&gt;&lt;/i&gt; {{game.game_played}}&lt;/li&gt;\n                        &lt;li&gt;&lt;i class=\"fa fa-clock-o\"&gt;&lt;/i&gt; {{game.game_length}}&lt;/li&gt;\n                    &lt;/ul&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/template&gt;\n    &lt;script&gt;\n        import axios from 'axios';\n        import {mapActions,mapGetters} from 'vuex';\n\n        export default {\n            name: 'Main',\n            data: function() {\n                return {\n                    games: [],\n                }\n            },\n            computed: {           \n                mostPlayed(){\n                    let newArray = this.games.sort(function(a, b) {\n                        return b.game_played - a.game_played;\n                    });\n                    return newArray.slice(0,3);\n                },\n                newGames(){\n                   let newArray = this.games.sort(function(a, b) {\n                        a = new Date(a.created_at).getTime();\n                        b = new Date(b.created_at).getTime();\n                        return b - a;\n                    });\n                   return newArray.slice(0,3);\n                }\n            },\n            methods:{\n                ...mapActions(['getGame']),\n\n                loadGames(){\n                    axios.get('/games',{ headers: {\n                        'X-Requested-With': 'XMLHttpRequest',\n                        'X-CSRF-TOKEN': this.getToken,\n                    }}).then(response=&gt;{\n                        this.games = response.data;                    \n                    }).catch(function (error) {\n                        console.log(error);\n                    });\n                },\n                formatDate(date){\n                    return date.substr(2,8)\n                },\n                trimText(text,long){\n                    if(text.length &lt;= long){\n                        return text;\n                    }\n                    return text.substr(0,long)+'...';\n                }\n            },\n             beforeMount(){\n                this.loadGames();\n            }\n        }\n    &lt;/script&gt;\n</code></pre>\n\n<p>Thank you.</p>\n"}, {"tags": ["javascript", "node.js", "multidimensional-array", "ecmascript-6"], "comments": [{"owner": {"reputation": 13387, "user_id": 965834, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/BiCtr.png?s=128&g=1", "display_name": "Jeto", "link": "https://stackoverflow.com/users/965834/jeto"}, "edited": false, "score": 0, "creation_date": 1537989361, "post_id": 52524615, "comment_id": 91988985, "body": "Look into <code>Array.map</code>."}], "answers": [{"tags": [], "owner": {"reputation": 43, "user_id": 7206447, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/df73f5d16ce63d4e3606b54006805bb2?s=128&d=identicon&r=PG&f=1", "display_name": "Francisco Di Giandomenico", "link": "https://stackoverflow.com/users/7206447/francisco-di-giandomenico"}, "is_accepted": false, "score": 0, "last_activity_date": 1537989375, "creation_date": 1537989375, "answer_id": 52524693, "question_id": 52524615, "link": "https://stackoverflow.com/questions/52524615/loop-through-multidimensional-array-in-node-js/52524693#52524693", "title": "Loop through multidimensional array in Node.js", "body": "<p>Seems like you're just trying to get rid of the \"geometry\" prop and get the \"coordinates\" directly?</p>\n\n<pre><code>polygons.map(polygon =&gt; ({ _id: polygon._id, coordinates: polygon.geometry.coordinates }))\n</code></pre>\n\n<p>Should achieve what you're looking for</p>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 7894285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4c147612598f184271ffdf432d51a10?s=128&d=identicon&r=PG&f=1", "display_name": "1989_lea", "link": "https://stackoverflow.com/users/7894285/1989-lea"}, "edited": false, "score": 0, "creation_date": 1537989973, "post_id": 52524702, "comment_id": 91989270, "body": "Thanks for your solution, when I run this code cannot see whats inside the coordinates-array. it only logs this: <code>[ { _id: &#39;12345&#39;, coordinates: [ [Array] ] },   { _id: &#39;67890&#39;, coordinates: [ [Array] ] }]</code> I had this issue before, I still can&#39;t resolve it"}, {"owner": {"reputation": 6922, "user_id": 6514231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7a1c907bbe5a869276a999ca9cda92?s=128&d=identicon&r=PG&f=1", "display_name": "amrender singh", "link": "https://stackoverflow.com/users/6514231/amrender-singh"}, "reply_to_user": {"reputation": 89, "user_id": 7894285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4c147612598f184271ffdf432d51a10?s=128&d=identicon&r=PG&f=1", "display_name": "1989_lea", "link": "https://stackoverflow.com/users/7894285/1989-lea"}, "edited": false, "score": 0, "creation_date": 1538021357, "post_id": 52524702, "comment_id": 91997828, "body": "@LeaHontiveros is there any adjacent to the coordinates, if it is there than please click on the arrow to expand the array. You will be able to see the elements of the array after that. :-) and please mark as accepted if it worked for you."}], "tags": [], "owner": {"reputation": 6922, "user_id": 6514231, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4a7a1c907bbe5a869276a999ca9cda92?s=128&d=identicon&r=PG&f=1", "display_name": "amrender singh", "link": "https://stackoverflow.com/users/6514231/amrender-singh"}, "is_accepted": false, "score": 0, "last_activity_date": 1537989418, "creation_date": 1537989418, "answer_id": 52524702, "question_id": 52524615, "link": "https://stackoverflow.com/questions/52524615/loop-through-multidimensional-array-in-node-js/52524702#52524702", "title": "Loop through multidimensional array in Node.js", "body": "<p>You can simply use <code>Array.map()</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var polygons = [ { \"_id\" : \"12345\", \"geometry\" : { \"coordinates\" : [[ [9.123553, 48.71568], [ 9.119548, 48.71526 ] ]] } }, { \"_id\" : \"67890\", \"geometry\" : { \"coordinates\" : [[ [ 9.090445, 48.715736 ], [ 9.089583, 48.715687 ] ]] } } ];\r\n\r\nlet result = polygons.map(({_id,geometry})=&gt;Object.assign({},{_id, coordinates :geometry.coordinates}));\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 89, "user_id": 7894285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4c147612598f184271ffdf432d51a10?s=128&d=identicon&r=PG&f=1", "display_name": "1989_lea", "link": "https://stackoverflow.com/users/7894285/1989-lea"}, "edited": false, "score": 0, "creation_date": 1538000679, "post_id": 52524718, "comment_id": 91993357, "body": "when I run the code, it gets me this output: <code>{ _id: &#39;12345&#39;, coordinates: [ [Array] ] },   { _id: &#39;67890&#39;, coordinates: [ [Array] ] }</code>"}, {"owner": {"reputation": 356, "user_id": 6892447, "user_type": "registered", "profile_image": "https://graph.facebook.com/1167035223384393/picture?type=large", "display_name": "Eduardo Junior", "link": "https://stackoverflow.com/users/6892447/eduardo-junior"}, "reply_to_user": {"reputation": 89, "user_id": 7894285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4c147612598f184271ffdf432d51a10?s=128&d=identicon&r=PG&f=1", "display_name": "1989_lea", "link": "https://stackoverflow.com/users/7894285/1989-lea"}, "edited": false, "score": 0, "creation_date": 1538002456, "post_id": 52524718, "comment_id": 91993788, "body": "What functionality of polygon.js are you trying to use ?"}, {"owner": {"reputation": 89, "user_id": 7894285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4c147612598f184271ffdf432d51a10?s=128&d=identicon&r=PG&f=1", "display_name": "1989_lea", "link": "https://stackoverflow.com/users/7894285/1989-lea"}, "edited": false, "score": 0, "creation_date": 1538039528, "post_id": 52524718, "comment_id": 92006005, "body": "I want to prepare a rest api endpoint that returns the data like this. polygon.js is a json dump I have to use"}, {"owner": {"reputation": 356, "user_id": 6892447, "user_type": "registered", "profile_image": "https://graph.facebook.com/1167035223384393/picture?type=large", "display_name": "Eduardo Junior", "link": "https://stackoverflow.com/users/6892447/eduardo-junior"}, "reply_to_user": {"reputation": 89, "user_id": 7894285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4c147612598f184271ffdf432d51a10?s=128&d=identicon&r=PG&f=1", "display_name": "1989_lea", "link": "https://stackoverflow.com/users/7894285/1989-lea"}, "edited": false, "score": 0, "creation_date": 1538042702, "post_id": 52524718, "comment_id": 92008011, "body": "Have you tried JSON.stringify( formatted_polygons ) ?"}], "tags": [], "owner": {"reputation": 356, "user_id": 6892447, "user_type": "registered", "profile_image": "https://graph.facebook.com/1167035223384393/picture?type=large", "display_name": "Eduardo Junior", "link": "https://stackoverflow.com/users/6892447/eduardo-junior"}, "is_accepted": false, "score": 1, "last_activity_date": 1537989483, "creation_date": 1537989483, "answer_id": 52524718, "question_id": 52524615, "link": "https://stackoverflow.com/questions/52524615/loop-through-multidimensional-array-in-node-js/52524718#52524718", "title": "Loop through multidimensional array in Node.js", "body": "<p>you can map through the array and make the changes you need </p>\n\n<pre><code>formatted_polygons = polygons.map(function(polygon){\n    return {\n        coordinates : polygon.geometry.coordinates,\n        _id : polygon._id\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 89, "user_id": 7894285, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/c4c147612598f184271ffdf432d51a10?s=128&d=identicon&r=PG&f=1", "display_name": "1989_lea", "link": "https://stackoverflow.com/users/7894285/1989-lea"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1538033817, "creation_date": 1537989116, "last_edit_date": 1538033817, "question_id": 52524615, "link": "https://stackoverflow.com/questions/52524615/loop-through-multidimensional-array-in-node-js", "title": "Loop through multidimensional array in Node.js", "body": "<p>Hey I got this object inside polygons.js:</p>\n\n<pre><code>var polygons = [\n  {\n    \"_id\" : \"12345\",\n    \"geometry\" : {\n       \"coordinates\" : [[\n           [9.123553, 48.71568],\n           [ 9.119548, 48.71526 ]\n       ]]\n    }\n  },\n  {\n    \"_id\" : \"67890\",\n    \"geometry\" : {\n       \"coordinates\" : [[\n           [ 9.090445, 48.715736 ],\n           [ 9.089583, 48.715687 ]\n       ]]\n    }\n  }\n]\n</code></pre>\n\n<p>I want to loop through this array in order to get a <em>result</em> like this:</p>\n\n<pre><code>[\n  { \n    \"_id\" : \"12345\",\n    \"coordinates\" : [[\n      [9.123553, 48.71568],\n      [ 9.119548, 48.71526 ]  \n    ]]\n  },\n  { \n    \"_id\" : \"67890\",\n    \"coordinates\" : [[\n      [ 9.090445, 48.715736 ],\n      [ 9.089583, 48.715687 ]  \n    ]]\n  }\n]\n</code></pre>\n\n<p>Does anyone have an idea how to solve it?\nThank you very much in regard!</p>\n"}, {"tags": ["javascript", "node.js", "puppeteer"], "answers": [{"tags": [], "owner": {"reputation": 12797, "user_id": 6161265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d4cc9f4b0d916aec6e10fa7ee2c18e1?s=128&d=identicon&r=PG", "display_name": "Md. Abu Taher", "link": "https://stackoverflow.com/users/6161265/md-abu-taher"}, "is_accepted": false, "score": 1, "last_activity_date": 1538055961, "creation_date": 1538055961, "answer_id": 52538560, "question_id": 52524612, "link": "https://stackoverflow.com/questions/52524612/puppeteer-exposefunction-which-uses-non-serializable-argument/52538560#52538560", "title": "Puppeteer exposeFunction which uses non-serializable argument", "body": "<p>This method explained below is a bit different so use with caution. </p>\n\n<p>We can take the script to the browser instead of taking the dom to the node context. It is possible with power of webpack or browserify. Also this way, we won't need to serialize any circular variable.</p>\n\n<p>Here is the minimal webpack config.</p>\n\n<pre><code>const path = require(\"path\");\n\nmodule.exports = {\n  entry: \"./browser/src.js\",\n\n  output: {\n    path: path.resolve(\"browser\"),\n    filename: \"dist.js\",\n    libraryTarget: \"global\"\n  },\n\n  module: {\n    rules: [\n      {\n        test: /\\.js$/,\n        use: \"babel-loader\"\n      }\n    ]\n  }\n};\n</code></pre>\n\n<p>We will put the browser script on <code>browser/src.js</code> folder. Then when we run <code>webpack</code>, it will generate <code>browser/dist.js</code> which we can inject on the browser. </p>\n\n<p>Finally I can call it with one of the following,</p>\n\n<pre><code>await page.addScriptTag({path: \"./browser/dist.js\"});\nawait page.evaluate(fs.readFileSync(\"./browser/dist.js\", 'utf8'));\n</code></pre>\n\n<p>It works perfectly as long as we do not use any native binary file which is not possible to be bundled.</p>\n\n<p>For simplicity, here are the other files,</p>\n\n<pre><code>// browser/src.js\nmodule.exports.parse = window =&gt; {\n  return window.location.href;\n};\n\n// index.js\nconst fs = require(\"fs\");\nconst puppeteer = require(\"puppeteer\");\n(async () =&gt; {\n  const browser = await puppeteer.launch();\n  const page = await browser.newPage();\n  await page.evaluate(fs.readFileSync(\"./browser/dist.js\", 'utf8'));\n  const data = await page.evaluate(() =&gt; {\n    return parse(window);\n  });\n\n  console.log({ data });\n})();\n\n// The result:\n{ data: 'about:blank' }\n</code></pre>\n"}], "owner": {"reputation": 18684, "user_id": 1166285, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/94f966645c82cdaa04ff6669d7739457?s=128&d=identicon&r=PG&f=1", "display_name": "d-_-b", "link": "https://stackoverflow.com/users/1166285/d-b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 557, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1538055961, "creation_date": 1537989091, "last_edit_date": 1537990005, "question_id": 52524612, "link": "https://stackoverflow.com/questions/52524612/puppeteer-exposefunction-which-uses-non-serializable-argument", "title": "Puppeteer exposeFunction which uses non-serializable argument", "body": "<p>I'm trying to use a 3rd party library which performs some complex DOM parsing:</p>\n\n<pre><code>/** \n *  // Simplified for this example\n *  module.exports.parse = (document) =&gt; {return document.title; }\n */\n\nconst { parse } = require('./parse.js');\n</code></pre>\n\n<p>When I try and expose and evaluate the function in puppeteer:</p>\n\n<pre><code>const browser = await puppeteer.launch();\nconst page = await browser.newPage();\nawait page.goto('https://stackoverflow.com', { waitUntil: ['domcontentloaded'] });\nawait page.exposeFunction('parse', (document) =&gt; {\n    return parse(document);\n});\n\nawait page.evaluate(() =&gt; {\n    return window.parse(window.document);\n});\n</code></pre>\n\n<p>I get an error:</p>\n\n<blockquote>\n  <p>Evaluation failed: TypeError: Converting circular structure to JSON\\n    at JSON.stringify ()\\n    at window.(anonymous function) (<strong>puppeteer_evaluation_script</strong>:13:22)\\n    at <strong>puppeteer_evaluation_script</strong>:3:31</p>\n</blockquote>\n\n<p>In the documentation's example, it is passing a string (which can be serialized). Is there any known way to evaluate node.js methods which take <code>window</code> or <code>document</code> as its arguments?</p>\n"}, {"tags": ["javascript", "json", "node.js"], "comments": [{"owner": {"reputation": 47633, "user_id": 3889449, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/eb07e0f09deb982a1a0deedca7a5c002?s=128&d=identicon&r=PG", "display_name": "Marco Bonelli", "link": "https://stackoverflow.com/users/3889449/marco-bonelli"}, "edited": false, "score": 0, "creation_date": 1537989169, "post_id": 52524588, "comment_id": 91988889, "body": "<i>&quot;without additional libraries&quot;</i>: you don&#39;t."}, {"owner": {"reputation": 3934, "user_id": 212869, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/376b87d1def88c60fc6a8712eb585354?s=128&d=identicon&r=PG", "display_name": "NickSlash", "link": "https://stackoverflow.com/users/212869/nickslash"}, "edited": false, "score": 0, "creation_date": 1537989698, "post_id": 52524588, "comment_id": 91989146, "body": "Without something to parse the DOM your looking at using regular expressions or just text comparison."}, {"owner": {"reputation": 31, "user_id": 5869495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0a461affe7b412ff1ab18798e09082?s=128&d=identicon&r=PG&f=1", "display_name": "Peter M.", "link": "https://stackoverflow.com/users/5869495/peter-m"}, "edited": false, "score": 0, "creation_date": 1537989906, "post_id": 52524588, "comment_id": 91989237, "body": "Actually it can be with a library that will help parsing that table. The problem is to define which cells are which."}, {"owner": {"reputation": 47633, "user_id": 3889449, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/eb07e0f09deb982a1a0deedca7a5c002?s=128&d=identicon&r=PG", "display_name": "Marco Bonelli", "link": "https://stackoverflow.com/users/3889449/marco-bonelli"}, "edited": false, "score": 0, "creation_date": 1537990024, "post_id": 52524588, "comment_id": 91989295, "body": "@PeterM. it can only be done with external libraries to parse the DOM (something like <a href=\"https://www.npmjs.com/package/jsdom\" rel=\"nofollow noreferrer\">jsdom</a> for example). Once you have that you can start talking, but not without libs."}, {"owner": {"reputation": 31, "user_id": 5869495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0a461affe7b412ff1ab18798e09082?s=128&d=identicon&r=PG&f=1", "display_name": "Peter M.", "link": "https://stackoverflow.com/users/5869495/peter-m"}, "reply_to_user": {"reputation": 47633, "user_id": 3889449, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/eb07e0f09deb982a1a0deedca7a5c002?s=128&d=identicon&r=PG", "display_name": "Marco Bonelli", "link": "https://stackoverflow.com/users/3889449/marco-bonelli"}, "edited": false, "score": 0, "creation_date": 1537990295, "post_id": 52524588, "comment_id": 91989422, "body": "@MarcoBonelli Ok. How to do this?"}], "answers": [{"tags": [], "owner": {"reputation": 1313, "user_id": 3094755, "user_type": "registered", "accept_rate": 25, "profile_image": "https://www.gravatar.com/avatar/51842833ca6182915c3ed24e20a58b0b?s=128&d=identicon&r=PG&f=1", "display_name": "user3094755", "link": "https://stackoverflow.com/users/3094755/user3094755"}, "is_accepted": false, "score": 0, "last_activity_date": 1537990807, "creation_date": 1537990807, "answer_id": 52524988, "question_id": 52524588, "link": "https://stackoverflow.com/questions/52524588/how-to-parse-html-table-to-json-in-nodejs-with-or-without-3rd-party-libraries/52524988#52524988", "title": "How to parse html table to json in nodejs with or without 3rd party libraries", "body": "<p>In Node you can use <code>new DOMParser().parseFromString('&lt;hi&gt;Hello&lt;/hi&gt;','text/html')</code>, this will return a parsable DOM tree with attributes which you can walk to obtain your Object. </p>\n"}, {"comments": [{"owner": {"reputation": 31, "user_id": 5869495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0a461affe7b412ff1ab18798e09082?s=128&d=identicon&r=PG&f=1", "display_name": "Peter M.", "link": "https://stackoverflow.com/users/5869495/peter-m"}, "edited": false, "score": 0, "creation_date": 1537994975, "post_id": 52525671, "comment_id": 91991503, "body": "It&#39;s not from file. It is coming from REST."}, {"owner": {"reputation": 10458, "user_id": 1242389, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/174b77913a44ff5cdf586ca4330ee818?s=128&d=identicon&r=PG", "display_name": "rafaelcastrocouto", "link": "https://stackoverflow.com/users/1242389/rafaelcastrocouto"}, "reply_to_user": {"reputation": 31, "user_id": 5869495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0a461affe7b412ff1ab18798e09082?s=128&d=identicon&r=PG&f=1", "display_name": "Peter M.", "link": "https://stackoverflow.com/users/5869495/peter-m"}, "edited": false, "score": 0, "creation_date": 1537997527, "post_id": 52525671, "comment_id": 91992411, "body": "In that case you can change the code to <code>jsdom.fromURL(&quot;https:&#47;&#47;example.com&#47;&quot;)</code> <a href=\"https://github.com/jsdom/jsdom#fromurl\" rel=\"nofollow noreferrer\">read more</a>"}], "tags": [], "owner": {"reputation": 10458, "user_id": 1242389, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/174b77913a44ff5cdf586ca4330ee818?s=128&d=identicon&r=PG", "display_name": "rafaelcastrocouto", "link": "https://stackoverflow.com/users/1242389/rafaelcastrocouto"}, "is_accepted": true, "score": 1, "last_activity_date": 1537994065, "creation_date": 1537994065, "answer_id": 52525671, "question_id": 52524588, "link": "https://stackoverflow.com/questions/52524588/how-to-parse-html-table-to-json-in-nodejs-with-or-without-3rd-party-libraries/52525671#52525671", "title": "How to parse html table to json in nodejs with or without 3rd party libraries", "body": "<p>Considering that the position of the data in the table won't change you can use this code. Ideally you should have some id or class to identify the data. If you manage to do that, then change the selectors accordingly. </p>\n\n<p><a href=\"https://repl.it/@rafaelcastrocouto/Peter-M-Question\" rel=\"nofollow noreferrer\">https://repl.it/@rafaelcastrocouto/Peter-M-Question</a></p>\n\n<pre><code>var jsdom = require('jsdom').JSDOM;\njsdom.fromFile('table.html').then(function (dom) {\n  var tableRows = dom.window.document.querySelectorAll(\"table tr\");\n  var array = [];\n  for (var i=1; i&lt;tableRows.length; i++) {\n    var name = tableRows[i].querySelector('td:nth-child(2)').textContent;\n    var country = tableRows[i].querySelector('td:nth-child(4)').textContent;\n    var pop = tableRows[i].querySelector('td:nth-child(5)').textContent;\n    var url = tableRows[i].querySelector('td:nth-child(2) a').href;\n    array.push({\n      'name': name,\n      'country': country,\n      'population': pop,\n      'url': url\n    });\n  }\n  var jsonString = JSON.stringify(array)\n  console.log(jsonString);\n});\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 5869495, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1a0a461affe7b412ff1ab18798e09082?s=128&d=identicon&r=PG&f=1", "display_name": "Peter M.", "link": "https://stackoverflow.com/users/5869495/peter-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 848, "favorite_count": 0, "accepted_answer_id": 52525671, "answer_count": 2, "score": 0, "last_activity_date": 1537994065, "creation_date": 1537989018, "last_edit_date": 1537989571, "question_id": 52524588, "link": "https://stackoverflow.com/questions/52524588/how-to-parse-html-table-to-json-in-nodejs-with-or-without-3rd-party-libraries", "title": "How to parse html table to json in nodejs with or without 3rd party libraries", "body": "<p>I've got the following response from the server which needs to be converted to JSON format in NodeJS with or without additional libraries. I know this topic was touched a few times but couldn't find anything that would match good answer. </p>\n\n<pre><code>&lt;table class=\"sortable table\"&gt;\n    &lt;tbody&gt;\n        &lt;tr&gt;\n            &lt;th width=\"5%\"&gt;Rank&lt;/th&gt;\n            &lt;th width=\"20%\"&gt;Name&lt;/th&gt;\n            &lt;th width=\"30%\"&gt;Image&lt;/th&gt;\n            &lt;th width=\"20%\"&gt;Country&lt;/th&gt;\n            &lt;th width=\"10%\"&gt;Population&lt;/th&gt;\n        &lt;/tr&gt;\n        &lt;tr bgcolor=\"#79ff76\"&gt;\n            &lt;td align=\"center\"&gt;&lt;b&gt;1&lt;/b&gt;&lt;/td&gt;\n            &lt;td align=\"center\"&gt;&lt;a href=\"/link/Tokyo\" title=\"Tokyo\"&gt;Tokyo&lt;/a&gt;&lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=\"/img/Skyscrapers_of_Shinjuku_2009_January.jpg\" class=\"image\"&gt;\n                    &lt;img alt=\"Skyscrapers of Shinjuku 2009 January.jpg\" src=\"/img/Skyscrapers_of_Shinjuku_2009_January.jpg\"\n                        width=\"200\" height=\"200\" /&gt;\n                &lt;/a&gt;\n            &lt;/td&gt;\n            &lt;td align=\"center\"&gt;&lt;a href=\"/link/Japan\" title=\"Japan\"&gt;Japan&lt;/a&gt;&lt;/td&gt;\n            &lt;td align=\"center\"&gt;&lt;b&gt;39,800,000&lt;/b&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr bgcolor=\"#abd5f5\"&gt;\n            &lt;td align=\"center\"&gt;2&lt;/td&gt;\n            &lt;td align=\"center\"&gt;&lt;a href=\"/link/Jakarta\" title=\"Jakarta\"&gt;Jakarta&lt;/a&gt;&lt;/td&gt;\n            &lt;td&gt;\n                &lt;a href=\"/img/Jakarta_Car_Free_Day.jpg\" class=\"image\"&gt;\n                    &lt;img alt=\"Jakarta Car Free Day.jpg\" src=\"/img/Jakarta_Car_Free_Day.jpg\" width=\"200\" height=\"200\" /&gt;\n                &lt;/a&gt;\n            &lt;/td&gt;\n            &lt;td align=\"center\"&gt;&lt;a href=\"/link/Indonesia\" title=\"Indonesia\"&gt;Indonesia&lt;/a&gt;&lt;/td&gt;\n            &lt;td align=\"center\"&gt;28,900,000&lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>The output should be like that:</p>\n\n<pre><code>[\n    {\n      \"name\": \"Tokyo\",\n      \"country\": \"Japan\",\n      \"population\": 39800000,\n      \"url\": \"link/Tokyo\"\n    },\n    {\n      \"name\": \"Jakarta\",\n      \"country\": \"Indonesia\",\n      \"population\": 28900000,\n      \"url\": \"link/Jakarta\"\n    }\n]\n</code></pre>\n"}, {"tags": ["javascript", "c#", "asp.net-mvc", "websocket", "signalr"], "answers": [{"tags": [], "owner": {"reputation": 249, "user_id": 7400567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68c6a4a126369dfe3072e3d11e727dc5?s=128&d=identicon&r=PG&f=1", "display_name": "pablobascones", "link": "https://stackoverflow.com/users/7400567/pablobascones"}, "is_accepted": true, "score": 0, "last_activity_date": 1538053165, "creation_date": 1538053165, "answer_id": 52537594, "question_id": 52524572, "link": "https://stackoverflow.com/questions/52524572/signalr-pending-start-connection/52537594#52537594", "title": "SignalR pending start connection", "body": "<p>Well, I figured out that it was a Local IIS limitation, because I changed the configuration to use IIS Express instead of Local, and it's working like a charm!</p>\n\n<p>Hope this helps to anyone with the same issue!</p>\n"}], "owner": {"reputation": 249, "user_id": 7400567, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/68c6a4a126369dfe3072e3d11e727dc5?s=128&d=identicon&r=PG&f=1", "display_name": "pablobascones", "link": "https://stackoverflow.com/users/7400567/pablobascones"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 637, "favorite_count": 0, "accepted_answer_id": 52537594, "answer_count": 1, "score": 0, "last_activity_date": 1538053165, "creation_date": 1537988972, "last_edit_date": 1537994311, "question_id": 52524572, "link": "https://stackoverflow.com/questions/52524572/signalr-pending-start-connection", "title": "SignalR pending start connection", "body": "<p>I'm implementing the SignalR library to use websocket in a kind of 'queue', in a ASP.NET MVC Application.</p>\n\n<p>Everything works as expected when there are only two users. When a third one logs in (I mean, I open a new tab), his SignalR start request is pending, and other users can not use application anymore.</p>\n\n<p>It's happening with all browsers: if I open 3 Chrome tabs, or 3 Firefox, or 2 Chrome or 1 Firefox, or 2 Firefox and 1 Chrome.. it's pending forever.</p>\n\n<p><a href=\"https://i.stack.imgur.com/Bs3ce.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Bs3ce.png\" alt=\"enter image description here\"></a></p>\n\n<p>My code is the same as the one provided for SignalR tutorials: \"Getting Started with SignalR 2 and MVC 5\".</p>\n\n<p>Could anyone solve this? I'm starting to think that is an IIS limitation, but I'm not 100% sure. I'm using the last SignalR version (2.3.0), 4.6.1 ASP version (I already enabled WebSockets in the IIS configuration).</p>\n\n<p>I've found a similar question (<a href=\"https://stackoverflow.com/questions/35042642/signalr-start-pending/\">SignalR start pending</a>) but it doesn't seem to give an answer.</p>\n\n<p>JavaScript (client) code:</p>\n\n<pre><code> var attendHub = $.connection.attendHub;\n\n    // Create a function that the hub can call back\n    attendHub.client.reloadGrid = function (sr) {\n        // Business logic\n        }\n    };\n\n    $.connection.hub.start();\n</code></pre>\n\n<p>Server Hub (C#) code:</p>\n\n<pre><code>public class AttendHub : Hub\n{\n    private static readonly IHubContext hubContext = GlobalHost.ConnectionManager.GetHubContext&lt;AttendHub&gt;();\n\n    public static void RefreshAttendList(int branchId)\n    {\n        // Business logic\n        ///...\n        hubContext.Clients.All.ReloadGrid(sr);\n    }\n}\n</code></pre>\n\n<p>And I'm calling the RefreshAttendList method from a controller, executing this line:</p>\n\n<pre><code>AttendHub.RefreshAttendList(AppInfo.ActiveUser.BranchId);\n</code></pre>\n\n<p>What could I be doing wrong?</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 5192, "user_id": 5246058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/36299274b998e4730d3def882d84f7d6?s=128&d=identicon&r=PG&f=1", "display_name": "ashish singh", "link": "https://stackoverflow.com/users/5246058/ashish-singh"}, "edited": false, "score": 3, "creation_date": 1537988887, "post_id": 52524553, "comment_id": 91988747, "body": "what is the output you expect?"}, {"owner": {"reputation": 105, "user_id": 9916847, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8gVwiVku5CA/AAAAAAAAAAI/AAAAAAAADpY/GhyOkmm0op8/photo.jpg?sz=128", "display_name": "Ozubergs", "link": "https://stackoverflow.com/users/9916847/ozubergs"}, "reply_to_user": {"reputation": 5192, "user_id": 5246058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/36299274b998e4730d3def882d84f7d6?s=128&d=identicon&r=PG&f=1", "display_name": "ashish singh", "link": "https://stackoverflow.com/users/5246058/ashish-singh"}, "edited": false, "score": 0, "creation_date": 1537988965, "post_id": 52524553, "comment_id": 91988792, "body": "[ [ &#39;PENNY&#39;, 1.01 ],   [ &#39;NICKEL&#39;, 2.05 ],   [ &#39;DIME&#39;, 3.1 ],   [ &#39;QUARTER&#39;, 4.25 ],   [ &#39;ONE&#39;, 90 ],   [ &#39;FIVE&#39;, 55 ],   [ &#39;TEN&#39;, 20 ],   [ &#39;TWENTY&#39;, 60 ],   [ &#39;ONE HUNDRED&#39;, 100 ] ] I want the output to look something like this."}, {"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 5, "creation_date": 1537989029, "post_id": 52524553, "comment_id": 91988825, "body": "@Ozubergs your output makes no sense with the above values."}, {"owner": {"reputation": 3115, "user_id": 864233, "user_type": "registered", "accept_rate": 69, "profile_image": "https://i.stack.imgur.com/l0YCn.jpg?s=128&g=1", "display_name": "romellem", "link": "https://stackoverflow.com/users/864233/romellem"}, "edited": false, "score": 2, "creation_date": 1537989073, "post_id": 52524553, "comment_id": 91988844, "body": "Do you mean &quot;see what the total value of each currency type is?&quot; Meaning, at the end, you&#39;d know that the total amount of pennies you have, the total amount of nickels, dimes, etc.?"}, {"owner": {"reputation": 106, "user_id": 3665897, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9b3ddcc1f98c0772bec69e9cb1289f6a?s=128&d=identicon&r=PG&f=1", "display_name": "Tainha", "link": "https://stackoverflow.com/users/3665897/tainha"}, "edited": false, "score": 0, "creation_date": 1537989169, "post_id": 52524553, "comment_id": 91988888, "body": "See <a href=\"https://stackoverflow.com/questions/14446511/what-is-the-most-efficient-method-to-groupby-on-a-javascript-array-of-objects\" title=\"what is the most efficient method to groupby on a javascript array of objects\">stackoverflow.com/questions/14446511/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1537989856, "post_id": 52524599, "comment_id": 91989217, "body": "This doesn&#39;t appear to answer the OP&#39;s question. They were looking for an array in the format of what they had originally posted."}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "reply_to_user": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "edited": false, "score": 0, "creation_date": 1537996777, "post_id": 52524599, "comment_id": 91992139, "body": "You&#39;re right. Requirements seemed unclear at the time. All that needs to change is <code>Object.values()</code> -&gt; <code>Object.entries()</code>."}], "tags": [], "owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "is_accepted": false, "score": 2, "last_activity_date": 1537996785, "last_edit_date": 1537996785, "creation_date": 1537989053, "answer_id": 52524599, "question_id": 52524553, "link": "https://stackoverflow.com/questions/52524553/how-to-combine-multiple-arrays-that-are-the-same/52524599#52524599", "title": "How to combine multiple arrays that are the same?", "body": "<p>You can use <code>reduce</code> to sum totals for unique index <code>0</code> in the input array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [ [ 'TWENTY', 20 ],\r\n  [ 'TWENTY', 20 ],\r\n  [ 'TWENTY', 20 ],\r\n  [ 'TWENTY', 20 ],\r\n  [ 'TEN', 10 ],\r\n  [ 'FIVE', 5 ],\r\n  [ 'ONE', 1 ],\r\n  [ 'QUARTER', 0.25 ],\r\n  [ 'QUARTER', 0.25 ],\r\n  [ 'DIME', 0.1 ],\r\n  [ 'DIME', 0.1 ],\r\n  [ 'PENNY', 0.01 ],\r\n  [ 'PENNY', 0.01 ],\r\n  [ 'PENNY', 0.01 ] ]\r\n;\r\n\r\nconst result = Object.entries(data.reduce((a, e) =&gt; {\r\n  a[e[0]] = e[1] + (a[e[0]] || 0);\r\n  return a;\r\n}, {}));\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 5192, "user_id": 5246058, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/36299274b998e4730d3def882d84f7d6?s=128&d=identicon&r=PG&f=1", "display_name": "ashish singh", "link": "https://stackoverflow.com/users/5246058/ashish-singh"}, "is_accepted": false, "score": 2, "last_activity_date": 1537989355, "creation_date": 1537989355, "answer_id": 52524688, "question_id": 52524553, "link": "https://stackoverflow.com/questions/52524553/how-to-combine-multiple-arrays-that-are-the-same/52524688#52524688", "title": "How to combine multiple arrays that are the same?", "body": "<p>there you go</p>\n\n<pre><code>var a = [\n  [\"TWENTY\", 20],\n  [\"TWENTY\", 20],\n  [\"TWENTY\", 20],\n  [\"TWENTY\", 20],\n  [\"TEN\", 10],\n  [\"FIVE\", 5],\n  [\"ONE\", 1],\n  [\"QUARTER\", 0.25],\n  [\"QUARTER\", 0.25],\n  [\"DIME\", 0.1],\n  [\"DIME\", 0.1],\n  [\"PENNY\", 0.01],\n  [\"PENNY\", 0.01],\n  [\"PENNY\", 0.01]\n];\nvar b = a.reduce((acc, curr) =&gt; {\n  if (acc[curr[0]]) acc[curr[0]] += curr[1];\n  else acc[curr[0]] = curr[1];\n  return acc;\n}, {});\n\nconsole.log(b);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1541, "user_id": 6622781, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mX5Bw.jpg?s=128&g=1", "display_name": "D Lowther", "link": "https://stackoverflow.com/users/6622781/d-lowther"}, "is_accepted": true, "score": 2, "last_activity_date": 1537990699, "last_edit_date": 1537990699, "creation_date": 1537989754, "answer_id": 52524776, "question_id": 52524553, "link": "https://stackoverflow.com/questions/52524553/how-to-combine-multiple-arrays-that-are-the-same/52524776#52524776", "title": "How to combine multiple arrays that are the same?", "body": "<p>Array reduce is what you would want to use to total your amounts while keeping them as key/value arrays although I might personally map them as <code>{ key: value }</code> and then reduce for a simpler end result. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const group = [ \r\n    [ 'TWENTY', 20 ],\r\n    [ 'TWENTY', 20 ],\r\n    [ 'TWENTY', 20 ],\r\n    [ 'TWENTY', 20 ],\r\n    [ 'TEN', 10 ],\r\n    [ 'FIVE', 5 ],\r\n    [ 'ONE', 1 ],\r\n    [ 'QUARTER', 0.25 ],\r\n    [ 'QUARTER', 0.25 ],\r\n    [ 'DIME', 0.1 ],\r\n    [ 'DIME', 0.1 ],\r\n    [ 'PENNY', 0.01 ],\r\n    [ 'PENNY', 0.01 ],\r\n    [ 'PENNY', 0.01 ] \r\n];\r\n\r\nconst totals = group.reduce((accumulator, [key, value]) =&gt; {\r\n  const index = accumulator.findIndex(([k,v]) =&gt; k === key);\r\n  if (index === -1) {\r\n    return [ ...accumulator, [key, value] ];\r\n  }\r\n  const newTotal = [ key, ( accumulator[index][1] + value ) ];\r\n  return [ ...accumulator.slice(0,index), newTotal, ...accumulator.slice(index + 1) ];\r\n},[]);\r\n\r\nconst totalsAsObject = group.reduce((accumulator, [key, value]) =&gt; {\r\n    const objectKeys = Object.keys(accumulator);\r\n    if (objectKeys.includes(key)) {\r\n      return { ...accumulator, [key]: accumulator[key] + value }\r\n    }\r\n    return { ...accumulator, [key]: value }\r\n  },\r\n  {}\r\n);\r\n\r\nconsole.log(totals);\r\nconsole.log(totalsAsObject);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 7703, "user_id": 3700849, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/6q7ai.jpg?s=128&g=1", "display_name": "zfrisch", "link": "https://stackoverflow.com/users/3700849/zfrisch"}, "is_accepted": false, "score": 1, "last_activity_date": 1537989769, "creation_date": 1537989769, "answer_id": 52524778, "question_id": 52524553, "link": "https://stackoverflow.com/questions/52524553/how-to-combine-multiple-arrays-that-are-the-same/52524778#52524778", "title": "How to combine multiple arrays that are the same?", "body": "<p>You can wrap a <code>reduce</code> function with a <code>map</code> accumulator and transform the result back into an array using <code>Array.from</code></p>\n\n<pre><code>  result = Array.from(arr.reduce((a, cv) =&gt; {\n    return ([t, amt] = cv,\n      (a.has(t)) ? a.set(t, a.get(t) + amt) : a.set(t, amt), a)\n  }, new Map()));\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let arr = [\r\n    ['TWENTY', 20],\r\n    ['TWENTY', 20],\r\n    ['TWENTY', 20],\r\n    ['TWENTY', 20],\r\n    ['TEN', 10],\r\n    ['FIVE', 5],\r\n    ['ONE', 1],\r\n    ['QUARTER', 0.25],\r\n    ['QUARTER', 0.25],\r\n    ['DIME', 0.1],\r\n    ['DIME', 0.1],\r\n    ['PENNY', 0.01],\r\n    ['PENNY', 0.01],\r\n    ['PENNY', 0.01]\r\n  ],\r\n\r\n  result = Array.from(arr.reduce((a, cv) =&gt; {\r\n    return ([t, amt] = cv,\r\n      (a.has(t)) ? a.set(t, a.get(t) + amt) : a.set(t, amt), a)\r\n  }, new Map()));\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 19920, "user_id": 1383168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/atB67.png?s=128&g=1", "display_name": "Slai", "link": "https://stackoverflow.com/users/1383168/slai"}, "is_accepted": false, "score": 0, "last_activity_date": 1538003860, "creation_date": 1538003860, "answer_id": 52527259, "question_id": 52524553, "link": "https://stackoverflow.com/questions/52524553/how-to-combine-multiple-arrays-that-are-the-same/52527259#52527259", "title": "How to combine multiple arrays that are the same?", "body": "<p>ES6 alternative :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const  data = [ [ 'TWENTY', 20 ], \r\n                [ 'TWENTY', 20 ],\r\n                [ 'TWENTY', 20 ],\r\n                [ 'TWENTY', 20 ],\r\n                [ 'TEN', 10 ],\r\n                [ 'FIVE', 5 ],\r\n                [ 'ONE', 1 ],\r\n                [ 'QUARTER', 0.25 ],\r\n                [ 'QUARTER', 0.25 ],\r\n                [ 'DIME', 0.1 ],\r\n                [ 'DIME', 0.1 ],\r\n                [ 'PENNY', 0.01 ],\r\n                [ 'PENNY', 0.01 ],\r\n                [ 'PENNY', 0.01 ] ]\r\n\r\nconst result = data.reduce((o, [k, v]) =&gt; (o[k] = v + o[k] || v, o), {})\r\n\r\nconsole.log( result )\r\nconsole.log( Object.entries(result) )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 105, "user_id": 9916847, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-8gVwiVku5CA/AAAAAAAAAAI/AAAAAAAADpY/GhyOkmm0op8/photo.jpg?sz=128", "display_name": "Ozubergs", "link": "https://stackoverflow.com/users/9916847/ozubergs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 81, "favorite_count": 0, "accepted_answer_id": 52524776, "answer_count": 5, "score": -2, "last_activity_date": 1538003860, "creation_date": 1537988848, "last_edit_date": 1537990116, "question_id": 52524553, "link": "https://stackoverflow.com/questions/52524553/how-to-combine-multiple-arrays-that-are-the-same", "title": "How to combine multiple arrays that are the same?", "body": "<pre class=\"lang-js prettyprint-override\"><code>[ \n    [ 'TWENTY', 20 ],\n    [ 'TWENTY', 20 ],\n    [ 'TWENTY', 20 ],\n    [ 'TWENTY', 20 ],\n    [ 'TEN', 10 ],\n    [ 'FIVE', 5 ],\n    [ 'ONE', 1 ],\n    [ 'QUARTER', 0.25 ],\n    [ 'QUARTER', 0.25 ],\n    [ 'DIME', 0.1 ],\n    [ 'DIME', 0.1 ],\n    [ 'PENNY', 0.01 ],\n    [ 'PENNY', 0.01 ],\n    [ 'PENNY', 0.01 ] \n]\n</code></pre>\n\n\n\n<p>My array consists of arrays that are the same. How do I combine the ones that are the same?</p>\n"}, {"tags": ["javascript", "node.js", "environment-variables", "sails.js"], "comments": [{"owner": {"reputation": 389, "user_id": 10166674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2f5R8.png?s=128&g=1", "display_name": "johnabrams7", "link": "https://stackoverflow.com/users/10166674/johnabrams7"}, "edited": false, "score": 0, "creation_date": 1537991539, "post_id": 52524468, "comment_id": 91990002, "body": "Can you post an example of your log.js code so far? If you haven&#39;t seen it already, here&#39;s a helpful Sails doc on <a href=\"https://sailsjs.com/documentation/reference/configuration/sails-config-log#?using-a-custom-logger\" rel=\"nofollow noreferrer\">using custom loggers and their configuration in sails</a>."}, {"owner": {"reputation": 149, "user_id": 1888765, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8c9928a184a34229cbf1c4399506afef?s=128&d=identicon&r=PG", "display_name": "NightMarcher", "link": "https://stackoverflow.com/users/1888765/nightmarcher"}, "reply_to_user": {"reputation": 389, "user_id": 10166674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2f5R8.png?s=128&g=1", "display_name": "johnabrams7", "link": "https://stackoverflow.com/users/10166674/johnabrams7"}, "edited": false, "score": 0, "creation_date": 1537992132, "post_id": 52524468, "comment_id": 91990255, "body": "Yep, I am using those docs. So where you see: <code>module.exports.log = {   &#47;&#47; Pass in our custom logger, and pass all log levels through.   custom: customLogger,   level: &#39;silly&#39;,    &#47;&#47; Disable captain&#39;s log so it doesn&#39;t prefix or stringify our meta data.   inspect: false };</code>  I want to have <code>level: sails.config.logLevel</code>"}, {"owner": {"reputation": 6829, "user_id": 2110294, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/EoD62.jpg?s=128&g=1", "display_name": "Craig van Tonder", "link": "https://stackoverflow.com/users/2110294/craig-van-tonder"}, "edited": false, "score": 0, "creation_date": 1538057853, "post_id": 52524468, "comment_id": 92017729, "body": "Need any help, got a repo? I need this too :-)"}, {"owner": {"reputation": 149, "user_id": 1888765, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8c9928a184a34229cbf1c4399506afef?s=128&d=identicon&r=PG", "display_name": "NightMarcher", "link": "https://stackoverflow.com/users/1888765/nightmarcher"}, "edited": false, "score": 0, "creation_date": 1538058911, "post_id": 52524468, "comment_id": 92018477, "body": "Unfortunately I can&#39;t share the repo. From what I have found so far, I don&#39;t think this is possible. It seems to all be in sails&#39;s hands and that object doesn&#39;t seem to be loaded before the env files are."}, {"owner": {"reputation": 389, "user_id": 10166674, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2f5R8.png?s=128&g=1", "display_name": "johnabrams7", "link": "https://stackoverflow.com/users/10166674/johnabrams7"}, "edited": false, "score": 0, "creation_date": 1540231582, "post_id": 52524468, "comment_id": 92779629, "body": "What version of Sails are you using? Have you tried this variable in your <a href=\"https://sailsjs.com/documentation/reference/configuration/sails-config-globals\" rel=\"nofollow noreferrer\">sails.config.globals</a>? Also, you can test this out in the <a href=\"https://sailsjs.com/documentation/reference/configuration/sails-config-log\" rel=\"nofollow noreferrer\">sails.config.log</a> for log configuration alone."}], "owner": {"reputation": 149, "user_id": 1888765, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/8c9928a184a34229cbf1c4399506afef?s=128&d=identicon&r=PG", "display_name": "NightMarcher", "link": "https://stackoverflow.com/users/1888765/nightmarcher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 105, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1537988501, "creation_date": 1537988501, "question_id": 52524468, "link": "https://stackoverflow.com/questions/52524468/sails-object-not-available-in-log-js", "title": "Sails object not available in log.js", "body": "<p>Im building a custom logger using Winston in Sails. I would like to set a log level variable in all of my various environment configs and reference that variable in the <code>log.js</code> file. This seems to work in my controllers with a reference of <code>sails.config.variableName</code> but the same reference in <code>log.js</code> throws: <code>Details:ReferenceError: sails is not defined</code> Can someone tell me how to reference this variable from the config? Is there some sort of require statement that I can add?</p>\n\n<p>I would rather <strong>not</strong> set the level with some sort of switch/conditional that references the env variable used to start up the application in the <code>log.js</code> (ie. <code>process.env.myEnvironment</code>)</p>\n"}]