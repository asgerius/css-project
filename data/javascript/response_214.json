[{"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "reply_to_user": {"reputation": 2157, "user_id": 5849229, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/d77f7eef721220ff7fa979025e6d31b9?s=128&d=identicon&r=PG&f=1", "display_name": "gdfgdfg", "link": "https://stackoverflow.com/users/5849229/gdfgdfg"}, "edited": false, "score": 0, "creation_date": 1550103303, "post_id": 54681311, "comment_id": 96151716, "body": "@gdfgdfg You&#39;re welcome! That&#39;s right, <code>const</code> is block scoped as well."}], "tags": [], "owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "is_accepted": true, "score": 3, "last_activity_date": 1550102599, "creation_date": 1550102599, "answer_id": 54681311, "question_id": 54681270, "link": "https://stackoverflow.com/questions/54681270/undefined-variable-assigned-inside-if-else-in-render-method-react/54681311#54681311", "title": "Undefined variable, assigned inside if/else in render method React", "body": "<p>Variables defined with <code>let</code> are block scoped, so they will not exist outside of your <code>if</code>/<code>else</code> blocks. You could define them before the <code>if</code>/<code>else</code> and just assign values to them there instead.</p>\n\n<pre><code>class App extends React.Component {\n  render() {\n    const { message } = this.props;\n    let title, message;\n\n    if (message) {\n      title = message.title;\n      text = message.text;\n    } else {\n      title = 56;\n      text = 34;\n    }\n\n    return &lt;&gt;{/* ... */}&lt;/&gt;;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2157, "user_id": 5849229, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/d77f7eef721220ff7fa979025e6d31b9?s=128&d=identicon&r=PG&f=1", "display_name": "gdfgdfg", "link": "https://stackoverflow.com/users/5849229/gdfgdfg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 245, "favorite_count": 0, "accepted_answer_id": 54681311, "answer_count": 1, "score": 1, "last_activity_date": 1550102599, "creation_date": 1550102272, "question_id": 54681270, "link": "https://stackoverflow.com/questions/54681270/undefined-variable-assigned-inside-if-else-in-render-method-react", "title": "Undefined variable, assigned inside if/else in render method React", "body": "<p>I have simple component which gets props from a parent:</p>\n\n<pre><code>render(){\n    const {message} = this.props;\n\n    if(message){\n        let {title, text} = message;\n    } else {\n\n        let title= 56;\n        let text= 34;\n        console.log('inside')\n        console.log(title);\n    }\n\n    console.log('outside');\n    console.log(lat);\n\n    return( // JSX) // The vars are not used\n</code></pre>\n\n<p>When I run it, <code>message</code> is undefined and I see in the console - <code>inside</code> and <code>54</code>.\nRight after that <code>outside</code> and <code>ReferenceError: title is not defined</code>.\nIf I copy/paste <code>let title= 56;</code> outside if/else, everything works. \nFor debugging in all cases <code>message</code> is undefined.\n why is that ?</p>\n"}, {"tags": ["javascript", "node.js", "web-scraping", "puppeteer"], "comments": [{"owner": {"reputation": 7166, "user_id": 2625560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsWVJ.png?s=128&g=1", "display_name": "vsemozhebuty", "link": "https://stackoverflow.com/users/2625560/vsemozhebuty"}, "edited": false, "score": 0, "creation_date": 1550102275, "post_id": 54681229, "comment_id": 96151387, "body": "Can you provide a small but complete script with the URL that reproduces the error?"}, {"owner": {"reputation": 2172, "user_id": 2690257, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e86e04584abf0fd8105b42a9788cd67f?s=128&d=identicon&r=PG&f=1", "display_name": "FabricioG", "link": "https://stackoverflow.com/users/2690257/fabriciog"}, "reply_to_user": {"reputation": 7166, "user_id": 2625560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsWVJ.png?s=128&g=1", "display_name": "vsemozhebuty", "link": "https://stackoverflow.com/users/2625560/vsemozhebuty"}, "edited": false, "score": 1, "creation_date": 1550102926, "post_id": 54681229, "comment_id": 96151595, "body": "added @vsemozhetbyt"}, {"owner": {"reputation": 7166, "user_id": 2625560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsWVJ.png?s=128&g=1", "display_name": "vsemozhebuty", "link": "https://stackoverflow.com/users/2625560/vsemozhebuty"}, "edited": false, "score": 1, "creation_date": 1550104305, "post_id": 54681229, "comment_id": 96151950, "body": "Did you check the selector in exactly the same browser that <code>puppeteer-firefox</code> run? For me, when the error is shown and I run <code>document.querySelector(&quot;.photo-tile&quot;)</code> in the firefox console, I get <code>null</code>. However, I can see an image block, for which the same selector in Chrome returns the element. Could it be that the page has different DOM for different browsers or browser versions?"}, {"owner": {"reputation": 2172, "user_id": 2690257, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e86e04584abf0fd8105b42a9788cd67f?s=128&d=identicon&r=PG&f=1", "display_name": "FabricioG", "link": "https://stackoverflow.com/users/2690257/fabriciog"}, "reply_to_user": {"reputation": 7166, "user_id": 2625560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsWVJ.png?s=128&g=1", "display_name": "vsemozhebuty", "link": "https://stackoverflow.com/users/2625560/vsemozhebuty"}, "edited": false, "score": 0, "creation_date": 1550105832, "post_id": 54681229, "comment_id": 96152325, "body": "The exact selector is appears like so: photo-tile photo-tile-large but I&#39;m only asking for photo-tile.  Can this be the problem? @vsemozhetbyt"}, {"owner": {"reputation": 7166, "user_id": 2625560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsWVJ.png?s=128&g=1", "display_name": "vsemozhebuty", "link": "https://stackoverflow.com/users/2625560/vsemozhebuty"}, "edited": false, "score": 0, "creation_date": 1550106222, "post_id": 54681229, "comment_id": 96152431, "body": "I do not think so: both selectors should give the element if it presents."}, {"owner": {"reputation": 2172, "user_id": 2690257, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e86e04584abf0fd8105b42a9788cd67f?s=128&d=identicon&r=PG&f=1", "display_name": "FabricioG", "link": "https://stackoverflow.com/users/2690257/fabriciog"}, "reply_to_user": {"reputation": 7166, "user_id": 2625560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsWVJ.png?s=128&g=1", "display_name": "vsemozhebuty", "link": "https://stackoverflow.com/users/2625560/vsemozhebuty"}, "edited": false, "score": 1, "creation_date": 1550106419, "post_id": 54681229, "comment_id": 96152468, "body": "Let me check the selector as you are saying @vsemozhetbyt"}, {"owner": {"reputation": 1895, "user_id": 5589964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4yztZ.jpg?s=128&g=1", "display_name": "Chuong Tran", "link": "https://stackoverflow.com/users/5589964/chuong-tran"}, "edited": false, "score": 1, "creation_date": 1550123070, "post_id": 54681229, "comment_id": 96156190, "body": "@FabricioG Changed headless : true and debugging on it with &quot;Inspect&quot;"}, {"owner": {"reputation": 2172, "user_id": 2690257, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e86e04584abf0fd8105b42a9788cd67f?s=128&d=identicon&r=PG&f=1", "display_name": "FabricioG", "link": "https://stackoverflow.com/users/2690257/fabriciog"}, "reply_to_user": {"reputation": 7166, "user_id": 2625560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsWVJ.png?s=128&g=1", "display_name": "vsemozhebuty", "link": "https://stackoverflow.com/users/2625560/vsemozhebuty"}, "edited": false, "score": 1, "creation_date": 1550168124, "post_id": 54681229, "comment_id": 96180692, "body": "I checked it and it does appear for me on the firefox browser.  @vsemozhetbyt"}], "answers": [{"comments": [{"owner": {"reputation": 417, "user_id": 3653251, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5oS7G.png?s=128&g=1", "display_name": "barney765", "link": "https://stackoverflow.com/users/3653251/barney765"}, "edited": false, "score": 2, "creation_date": 1584539540, "post_id": 58298172, "comment_id": 107467405, "body": "There is no use for multiple <code>await navigationPromise;</code>, if it is resolved once, the next time it is already resolved and will return immediately. You probably meant 2x <code>await page.waitForNavigation({waitUntil: &quot;domcontentloaded&quot;})</code>"}], "tags": [], "owner": {"reputation": 121, "user_id": 1817745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ebb732d8ff24aa5b2ccaf57f36a7ca43?s=128&d=identicon&r=PG&f=1", "display_name": "Ram", "link": "https://stackoverflow.com/users/1817745/ram"}, "is_accepted": false, "score": 2, "last_activity_date": 1578090557, "last_edit_date": 1578090557, "creation_date": 1570602363, "answer_id": 58298172, "question_id": 54681229, "link": "https://stackoverflow.com/questions/54681229/puppeteer-error-error-waiting-on-selector-times-out/58298172#58298172", "title": "Puppeteer error Error: waiting on selector times out", "body": "<p>You need to add <code>page.waitForNavigation()</code> every time page content updates.</p>\n\n<pre><code>(async () =&gt; {\n  const browser = await pptrFirefox.launch({headless: false});\n  const page = await browser.newPage();\n  const navigationPromise = page.waitForNavigation({waitUntil: \"domcontentloaded\"});\n  await page.goto('https://zillow.com');\n  await navigationPromise;\n  await page.type('.react-autosuggest__input', '8002 Blandwood Rd. Downey, CA 0240');\n  await page.click('.zsg-search-button_primary');\n  await navigationPromise;\n  await page.waitForSelector('.photo-tile');\n\n  console.log('did I get this far?');\n\n})();\n</code></pre>\n"}], "owner": {"reputation": 2172, "user_id": 2690257, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/e86e04584abf0fd8105b42a9788cd67f?s=128&d=identicon&r=PG&f=1", "display_name": "FabricioG", "link": "https://stackoverflow.com/users/2690257/fabriciog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 8100, "favorite_count": 0, "answer_count": 1, "score": 4, "last_activity_date": 1578090557, "creation_date": 1550101919, "last_edit_date": 1550102889, "question_id": 54681229, "link": "https://stackoverflow.com/questions/54681229/puppeteer-error-error-waiting-on-selector-times-out", "title": "Puppeteer error Error: waiting on selector times out", "body": "<p>Currently I have a site that has this in it's HTML.  I confirmed it from checking the elements in chrome developer tools.</p>\n\n<pre><code>&lt;div class=\"hdp-photo-carousel\" style=\"transform: translateX(0px);\"&gt;\n  &lt;div class=\"photo-tile photo-tile-large\"&gt;\n</code></pre>\n\n<p>I visually watch the page open up and I can see the item is there.  Then I get this error AFTER 30 seconds:</p>\n\n<pre><code>UnhandledPromiseRejectionWarning: TimeoutError: waiting for selector \".photo-tile\" failed: timeout 30000ms exceeded\n</code></pre>\n\n<p>My code in puppeteer js for this is:</p>\n\n<pre><code>await page.waitForSelector('.photo-tile');\n</code></pre>\n\n<p>Can anyone tell me what I'm doing wrong?</p>\n\n<p>EDIT I'm adding entire code:</p>\n\n<pre><code>const pptrFirefox = require('puppeteer-firefox');\n\n(async () =&gt; {\n  const browser = await pptrFirefox.launch({headless: false});\n  const page = await browser.newPage();\n  await page.goto('https://zillow.com');\n  await page.type('.react-autosuggest__input', '8002 Blandwood Rd. Downey, CA 90240');\n  await page.click('.zsg-search-button_primary');\n  await page.waitForSelector('.photo-tile');\n\n        console.log('did I get this far?');\n\n})();\n</code></pre>\n"}, {"tags": ["javascript", "selenium", "js-scrollintoview", "js-scrollby", "js-scrollto"], "comments": [{"owner": {"reputation": 731, "user_id": 9838946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d165a5e66010e93e5a5da7aa3f35129?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy T.", "link": "https://stackoverflow.com/users/9838946/timothy-t"}, "edited": false, "score": 0, "creation_date": 1550113117, "post_id": 54681172, "comment_id": 96153927, "body": "Have you tried googling for the documentations for each method yet?"}, {"owner": {"reputation": 111, "user_id": 11044802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abe5b9e7bedc16bd5e8aa26b01326a?s=128&d=identicon&r=PG&f=1", "display_name": "shlomi", "link": "https://stackoverflow.com/users/11044802/shlomi"}, "reply_to_user": {"reputation": 731, "user_id": 9838946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d165a5e66010e93e5a5da7aa3f35129?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy T.", "link": "https://stackoverflow.com/users/9838946/timothy-t"}, "edited": false, "score": 0, "creation_date": 1550135859, "post_id": 54681172, "comment_id": 96161714, "body": "sure thing, the first and the second are suppose to move to element, - i just don&#39;t know the syntacs differents and why in same case (table) only the first one worked. the third is move by pixels as far as i know, the fourth i didnt understand. also there is more of them?"}, {"owner": {"reputation": 731, "user_id": 9838946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d165a5e66010e93e5a5da7aa3f35129?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy T.", "link": "https://stackoverflow.com/users/9838946/timothy-t"}, "edited": false, "score": 0, "creation_date": 1550138149, "post_id": 54681172, "comment_id": 96163072, "body": "Hmm, how did you get the <code>Element</code> object in the first example? Based on the documentation, the inclusion of <code>true</code> in <code>scrollIntoView(true)</code> shouldn&#39;t make a difference because by default <code>true</code> is used for <code>scrollIntoView()</code>."}, {"owner": {"reputation": 731, "user_id": 9838946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d165a5e66010e93e5a5da7aa3f35129?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy T.", "link": "https://stackoverflow.com/users/9838946/timothy-t"}, "edited": false, "score": 0, "creation_date": 1550138323, "post_id": 54681172, "comment_id": 96163188, "body": "<code>scrollTo(x,y)</code> does what it suggests -- i.e. scrolls to the coordinates you have provided. Meaning <code>.scrollTo(1,1)</code> will cause the pixel position of <code>1,1</code> to be top-left of your viewport."}, {"owner": {"reputation": 111, "user_id": 11044802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abe5b9e7bedc16bd5e8aa26b01326a?s=128&d=identicon&r=PG&f=1", "display_name": "shlomi", "link": "https://stackoverflow.com/users/11044802/shlomi"}, "reply_to_user": {"reputation": 731, "user_id": 9838946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d165a5e66010e93e5a5da7aa3f35129?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy T.", "link": "https://stackoverflow.com/users/9838946/timothy-t"}, "edited": false, "score": 0, "creation_date": 1550138625, "post_id": 54681172, "comment_id": 96163394, "body": "about the first example, you run thes before: <code>WebElement Element = driver.findElement(By.linkText(&quot;blaBla&quot;));</code> and i dont know why it worked but only the first one worked, strange, but real. scrollTo is not listed, so we have five? or what are the total options?"}, {"owner": {"reputation": 731, "user_id": 9838946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d165a5e66010e93e5a5da7aa3f35129?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy T.", "link": "https://stackoverflow.com/users/9838946/timothy-t"}, "edited": false, "score": 0, "creation_date": 1550139069, "post_id": 54681172, "comment_id": 96163659, "body": "First example is <code>By.linkText()</code>, the second example is by <code>By.id()</code>. I won&#39;t be able to tell you why it didn&#39;t work -- it really depends on the element you&#39;re trying to find. By the way to prevent too many comments I have added more thoughts in an answer below. Do look through it and accept it if it helps you!"}, {"owner": {"reputation": 111, "user_id": 11044802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abe5b9e7bedc16bd5e8aa26b01326a?s=128&d=identicon&r=PG&f=1", "display_name": "shlomi", "link": "https://stackoverflow.com/users/11044802/shlomi"}, "reply_to_user": {"reputation": 731, "user_id": 9838946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d165a5e66010e93e5a5da7aa3f35129?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy T.", "link": "https://stackoverflow.com/users/9838946/timothy-t"}, "edited": false, "score": 0, "creation_date": 1550140601, "post_id": 54681172, "comment_id": 96164639, "body": "also i think that the first and the second example are difference in syntacs, so i guess it depends on the locator you send to the scroll syntacs? what about xpath?cssLocator?and all the rest of the locators?"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 11044802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abe5b9e7bedc16bd5e8aa26b01326a?s=128&d=identicon&r=PG&f=1", "display_name": "shlomi", "link": "https://stackoverflow.com/users/11044802/shlomi"}, "edited": false, "score": 0, "creation_date": 1550140542, "post_id": 54687781, "comment_id": 96164607, "body": "and scrollBy? and my fourth example is horizional as far as i understand"}], "tags": [], "owner": {"reputation": 731, "user_id": 9838946, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d165a5e66010e93e5a5da7aa3f35129?s=128&d=identicon&r=PG&f=1", "display_name": "Timothy T.", "link": "https://stackoverflow.com/users/9838946/timothy-t"}, "is_accepted": false, "score": 0, "last_activity_date": 1550138676, "creation_date": 1550138676, "answer_id": 54687781, "question_id": 54681172, "link": "https://stackoverflow.com/questions/54681172/what-is-the-difference-between-the-different-scroll-options/54687781#54687781", "title": "What is the difference between the different scroll options?", "body": "<p>I'll put the relevant documentation below each example so that you can refer to it yourself, and give some of my very humble opinions:</p>\n\n<hr>\n\n<p><strong>.scrollIntoView() vs .scrollIntoView(true)</strong></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView</a></p>\n\n<p>There shouldn't be a difference since the documentation states that by default, <code>.scrollIntoView()</code> actually has a default value of <code>true</code>.</p>\n\n<hr>\n\n<p><strong>.scrollBy()</strong></p>\n\n<p><a href=\"https://www.w3schools.com/jsref/met_win_scrollby.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/jsref/met_win_scrollby.asp</a></p>\n\n<p>Scrolls the document by the indicated pixels. Meaning if your top left viewport is at <code>(10,10)</code>, doing a <code>.scrollby(5,6)</code> means the viewport will, after shifting, be at a pixel coordinate of <code>(15,16)</code>.</p>\n\n<hr>\n\n<p><strong>.scrollToView()</strong></p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollTo\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollTo</a></p>\n\n<p>Does what it suggests -- i.e. scrolls <em>to</em> the coordinates you have provided. This is different to scroll <em>by</em> (i.e. above example). This means that <code>.scrollTo(1,1)</code> will scroll the document so that your top-left viewport is now at a pixel coordinate of <code>(1,1)</code>, regardless of what it was before.</p>\n\n<hr>\n\n<p>To your separate question of what are the total scroll options -- well, there's also <code>window.scroll()</code>, but based on the below SO article there shouldn't be any difference to <code>scrollTo()</code>:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/1925671/javascript-window-scroll-vs-window-scrollto\">JavaScript window.scroll vs. window.scrollTo?</a></p>\n"}, {"comments": [{"owner": {"reputation": 111, "user_id": 11044802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abe5b9e7bedc16bd5e8aa26b01326a?s=128&d=identicon&r=PG&f=1", "display_name": "shlomi", "link": "https://stackoverflow.com/users/11044802/shlomi"}, "edited": false, "score": 1, "creation_date": 1550149574, "post_id": 54689339, "comment_id": 96169639, "body": "so we 3 scrolls, and what are the difference at the syntacs between the first and the second one in terms of JS? the second one have the element and the first one declare first of all on the JS"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 111, "user_id": 11044802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abe5b9e7bedc16bd5e8aa26b01326a?s=128&d=identicon&r=PG&f=1", "display_name": "shlomi", "link": "https://stackoverflow.com/users/11044802/shlomi"}, "edited": false, "score": 0, "creation_date": 1550149762, "post_id": 54689339, "comment_id": 96169767, "body": "<code>executeScript(&quot;arguments[0].scrollIntoView();&quot;, Element)</code> is equivalent to <code>executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element1)</code> as I mentioned in my answer that the later is the <b>default value</b>"}, {"owner": {"reputation": 111, "user_id": 11044802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abe5b9e7bedc16bd5e8aa26b01326a?s=128&d=identicon&r=PG&f=1", "display_name": "shlomi", "link": "https://stackoverflow.com/users/11044802/shlomi"}, "edited": false, "score": 1, "creation_date": 1550151494, "post_id": 54689339, "comment_id": 96170890, "body": "i mean these three: // Scroll vertical 1000 pixels, horizonal 0 pixels  <code>JavascriptExecutor js = (JavascriptExecutor) driver; js.executeScript(&quot;window.scrollBy(0,1000)&quot;);</code>  // Scroll down to element at the browser  <code>JavascriptExecutor js = (JavascriptExecutor) driver; js.executeScript(&quot;arguments[0].scrollIntoView();&quot;, Element);</code>  // Scroll down to the bottom of the page  <code>JavascriptExecutor js = (JavascriptExecutor) driver; js.executeScript(&quot;window.scrollTo(0, document.body.scrollHeight)&quot;)</code>  one question left is why at my second original exm the syntacs is different than the rest?"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 111, "user_id": 11044802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abe5b9e7bedc16bd5e8aa26b01326a?s=128&d=identicon&r=PG&f=1", "display_name": "shlomi", "link": "https://stackoverflow.com/users/11044802/shlomi"}, "edited": false, "score": 0, "creation_date": 1550151746, "post_id": 54689339, "comment_id": 96171043, "body": "Hmmm, <code>executeScript()</code> with <code>arguments[0]</code> works for <b>WebElements</b> where as <code>executeScript()</code> with <code>document.body</code> works for the <b>current browsing context</b> i.e. the <b>current window</b>. Does it answers your question?"}, {"owner": {"reputation": 111, "user_id": 11044802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abe5b9e7bedc16bd5e8aa26b01326a?s=128&d=identicon&r=PG&f=1", "display_name": "shlomi", "link": "https://stackoverflow.com/users/11044802/shlomi"}, "edited": false, "score": 1, "creation_date": 1550153822, "post_id": 54689339, "comment_id": 96172286, "body": "Hmmm, <code>((JavascriptExecutor) driver).executeScript(&quot;arguments[0].scrollIntoView(true);&quot;, element1);</code> will work on WebElement, and <code>js.executeScript(&quot;arguments[0].scrollIntoView();&quot;, Element);</code> will work on window till the gets to the element? i don&#39;t see the high difference here, am i wrong?"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 111, "user_id": 11044802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abe5b9e7bedc16bd5e8aa26b01326a?s=128&d=identicon&r=PG&f=1", "display_name": "shlomi", "link": "https://stackoverflow.com/users/11044802/shlomi"}, "edited": false, "score": 0, "creation_date": 1550153953, "post_id": 54689339, "comment_id": 96172373, "body": "Of-coarse there is a difference between a <i>WebElement</i> and the <i>window object</i> :) but this shouldn&#39;t be a part of this question"}, {"owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "reply_to_user": {"reputation": 111, "user_id": 11044802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abe5b9e7bedc16bd5e8aa26b01326a?s=128&d=identicon&r=PG&f=1", "display_name": "shlomi", "link": "https://stackoverflow.com/users/11044802/shlomi"}, "edited": false, "score": 0, "creation_date": 1550154594, "post_id": 54689339, "comment_id": 96172818, "body": "@shlomi <a href=\"https://stackoverflow.com/help/why-vote\">Upvote</a> the answer if this/any answer is/was helpful to you for the benefit of the future readers."}, {"owner": {"reputation": 111, "user_id": 11044802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abe5b9e7bedc16bd5e8aa26b01326a?s=128&d=identicon&r=PG&f=1", "display_name": "shlomi", "link": "https://stackoverflow.com/users/11044802/shlomi"}, "reply_to_user": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "edited": false, "score": 0, "creation_date": 1550167649, "post_id": 54689339, "comment_id": 96180507, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/188438/discussion-between-shlomi-and-debanjanb\">continue this discussion in chat</a>."}], "tags": [], "owner": {"reputation": 116545, "user_id": 7429447, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/5a25589e600c8ae89717c14e51a6754b?s=128&d=identicon&r=PG&f=1", "display_name": "DebanjanB", "link": "https://stackoverflow.com/users/7429447/debanjanb"}, "is_accepted": true, "score": 9, "last_activity_date": 1550146803, "last_edit_date": 1550146803, "creation_date": 1550143668, "answer_id": 54689339, "question_id": 54681172, "link": "https://stackoverflow.com/questions/54681172/what-is-the-difference-between-the-different-scroll-options/54689339#54689339", "title": "What is the difference between the different scroll options?", "body": "<h2>Element.scrollIntoView()</h2>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView\" rel=\"noreferrer\">Element.scrollIntoView()</a> method scrolls the element on which it's called into the <a href=\"https://www.w3schools.com/css/css_rwd_viewport.asp\" rel=\"noreferrer\">Viewport</a> of the browser window.</p>\n\n<ul>\n<li><p>Syntax:</p>\n\n<ul>\n<li><code>element.scrollIntoView()</code></li>\n<li><code>element.scrollIntoView(alignToTop)</code> // Boolean parameter</li>\n<li><code>element.scrollIntoView(scrollIntoViewOptions)</code> // Object parameter</li>\n</ul></li>\n<li><p>Your usecases:</p>\n\n<ul>\n<li><code>executeScript(\"arguments[0].scrollIntoView();\", Element)</code>: This line of code will scroll the element into the visible area of the browser window.</li>\n<li><code>executeScript(\"arguments[0].scrollIntoView(true);\", element1)</code>: This line of code will scroll the element to be aligned to the top of the <a href=\"https://www.w3schools.com/css/css_rwd_viewport.asp\" rel=\"noreferrer\">Viewport</a> of the scrollable ancestor. This option corresponds to <code>scrollIntoViewOptions: {block: \"start\", inline: \"nearest\"}</code>. Basically, this is the default value.</li>\n<li><code>executeScript(\"arguments[0].scrollIntoView(false)\", element1);</code>: This line of code will scroll the element to be aligned to the bottom of the <a href=\"https://www.w3schools.com/css/css_rwd_viewport.asp\" rel=\"noreferrer\">Viewport</a> of the scrollable ancestor. This option corresponds to <code>scrollIntoViewOptions: {block: \"end\", inline: \"nearest\"}</code>.</li>\n</ul></li>\n</ul>\n\n<hr>\n\n<h2>Window.scrollBy()</h2>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollBy\" rel=\"noreferrer\">window.scrollBy()</a> method scrolls the document in the current window by the given amount.</p>\n\n<ul>\n<li><p>Syntax:</p>\n\n<ul>\n<li><code>window.scrollBy(x-coord, y-coord)</code></li>\n<li><code>window.scrollBy(options)</code></li>\n</ul></li>\n<li><p>Parameters:</p>\n\n<ul>\n<li><code>x-coord</code> is the horizontal pixel value that you want to scroll by.</li>\n<li><code>y-coord</code> is the vertical pixel value that you want to scroll by.</li>\n<li><code>options</code> is a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ScrollToOptions\" rel=\"noreferrer\"><code>ScrollToOptions</code></a> dictionary.</li>\n</ul></li>\n<li><p>Your usecase:</p>\n\n<ul>\n<li><code>executeScript(\"window.scrollBy(0,1000)\")</code>: This line of code will scroll the document in the window <strong>down</strong> by <strong><code>0</code></strong> horizontal pixels and <strong><code>1000</code></strong> vertical pixels that you want to scroll by.</li>\n</ul></li>\n</ul>\n\n<hr>\n\n<h2>Window.scrollTo()</h2>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/scrollTo\" rel=\"noreferrer\">Window.scrollTo()</a> method scrolls to a particular set of coordinates in the document.</p>\n\n<ul>\n<li><p>Syntax:</p>\n\n<ul>\n<li><code>window.scrollTo(x-coord, y-coord)</code></li>\n<li><code>window.scrollTo(options)</code></li>\n</ul></li>\n<li><p>Parameters:</p>\n\n<ul>\n<li><code>x-coord</code> is the pixel along the horizontal axis of the document that you want displayed in the upper left.</li>\n<li><code>y-coord</code> is the pixel along the vertical axis of the document that you want displayed in the upper left.</li>\n<li><code>options</code> is a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ScrollToOptions\" rel=\"noreferrer\"><code>ScrollToOptions</code></a> dictionary.</li>\n</ul></li>\n<li><p>Your usecase:</p>\n\n<ul>\n<li><code>executeScript(\"window.scrollTo(0, document.body.scrollHeight)\")</code>: This line of code will scroll the document in the window <strong>down</strong> to the <strong><code>bottom</code></strong> of the page.</li>\n</ul></li>\n</ul>\n"}], "owner": {"reputation": 111, "user_id": 11044802, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9abe5b9e7bedc16bd5e8aa26b01326a?s=128&d=identicon&r=PG&f=1", "display_name": "shlomi", "link": "https://stackoverflow.com/users/11044802/shlomi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 4571, "favorite_count": 0, "accepted_answer_id": 54689339, "answer_count": 2, "score": 7, "last_activity_date": 1550147348, "creation_date": 1550101532, "last_edit_date": 1550147348, "question_id": 54681172, "link": "https://stackoverflow.com/questions/54681172/what-is-the-difference-between-the-different-scroll-options", "title": "What is the difference between the different scroll options?", "body": "<p>I have tried a few ways of adding scrolling to tables, but just one of them works correctly. What is the different between them?</p>\n\n<h3>First:</h3>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(\"arguments[0].scrollIntoView();\", Element);\n</code></pre>\n\n<h3>Second:</h3>\n\n<pre><code>WebElement element1 = driver.findElement(By.id(\"scrolled_element\"));\n((JavascriptExecutor) driver).executeScript(\"arguments[0].scrollIntoView(true);\", element1);\n</code></pre>\n\n<h3>Third:</h3>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(\"window.scrollBy(0,1000)\");\n</code></pre>\n\n<h3>Fourth:</h3>\n\n<pre><code>JavascriptExecutor js = (JavascriptExecutor) driver;\njs.executeScript(\"window.scrollTo(0, document.body.scrollHeight)\");\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-native", "curl", "rollbar"], "answers": [{"tags": [], "owner": {"reputation": 160, "user_id": 7376169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8800e57af965a4abcb643fec534c6595?s=128&d=identicon&r=PG&f=1", "display_name": "Jesse Gibbs", "link": "https://stackoverflow.com/users/7376169/jesse-gibbs"}, "is_accepted": false, "score": 0, "last_activity_date": 1550166225, "creation_date": 1550166225, "answer_id": 54696236, "question_id": 54681168, "link": "https://stackoverflow.com/questions/54681168/curl-error-when-integrating-rollbar-into-react-native/54696236#54696236", "title": "&#39;curl&#39; error when integrating Rollbar into React Native", "body": "<p>@gkeenley feel free to contact Rollbar support at support@rollbar.com and please include your Rollbar project URL.  I think this may indicate that the sourcemap was successfully uploade</p>\n"}], "owner": {"reputation": 2824, "user_id": 10864356, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/315465d723d17533b95c0615fd7201cc?s=128&d=identicon&r=PG&f=1", "display_name": "gkeenley", "link": "https://stackoverflow.com/users/10864356/gkeenley"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550166225, "creation_date": 1550101515, "question_id": 54681168, "link": "https://stackoverflow.com/questions/54681168/curl-error-when-integrating-rollbar-into-react-native", "title": "&#39;curl&#39; error when integrating Rollbar into React Native", "body": "<p>I'm following this guide (<a href=\"https://rollbar.com/blog/react-native-error-monitoring/\" rel=\"nofollow noreferrer\">https://rollbar.com/blog/react-native-error-monitoring/</a>) and the following command:</p>\n\n<pre><code>curl https://api.rollbar.com/api/1/sourcemap \\\n-F access_token=b2dea1fe24b44c5f86bbadf7a0d33782 \\  -F version=1234566.android \\           \n-F minified_url=http://reactnativehost/index.android.bundle \\\n-F source_map=@sourcemap.android.js \\\n-F index.js=@index.js \\\n-F App/App.tsx=App/@App.tsx\n</code></pre>\n\n<p>if giving me the following error:</p>\n\n<pre><code>{\n  \"err\": 0,\n  \"result\": \"1234566.android\"\n}\n</code></pre>\n\n<p>Note that my use of the command differs from the one in the guide in that I'm using <code>App/App.tsx=App/@App.tsx</code> instead of <code>App.js=@App.js</code></p>\n\n<p>Does anyone know where this error might be coming from?</p>\n"}, {"tags": ["javascript", "html", "css", "google-chrome", "dom"], "answers": [{"comments": [{"owner": {"reputation": 2151, "user_id": 5221346, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4d5d93cbba861bac4b66d3383c74222c?s=128&d=identicon&r=PG&f=1", "display_name": "RaminS", "link": "https://stackoverflow.com/users/5221346/ramins"}, "edited": false, "score": 1, "creation_date": 1550103587, "post_id": 54681411, "comment_id": 96151793, "body": "...unless the child is <code>inline-block</code> or has a <code>position: fixed</code> (and probably some other cases too). Nice find in either case; this is probably a big piece of the puzzle."}, {"owner": {"reputation": 4908, "user_id": 2813263, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa58c516577bcbd4ef082553dedad4a5?s=128&d=identicon&r=PG", "display_name": "Domino", "link": "https://stackoverflow.com/users/2813263/domino"}, "reply_to_user": {"reputation": 2151, "user_id": 5221346, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4d5d93cbba861bac4b66d3383c74222c?s=128&d=identicon&r=PG&f=1", "display_name": "RaminS", "link": "https://stackoverflow.com/users/5221346/ramins"}, "edited": false, "score": 0, "creation_date": 1550105566, "post_id": 54681411, "comment_id": 96152253, "body": "@Gendarme Another fix is to put the opacity and the display styles on different wrappers. That seems to work too."}], "tags": [], "owner": {"reputation": 4908, "user_id": 2813263, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa58c516577bcbd4ef082553dedad4a5?s=128&d=identicon&r=PG", "display_name": "Domino", "link": "https://stackoverflow.com/users/2813263/domino"}, "is_accepted": false, "score": 0, "last_activity_date": 1550109567, "last_edit_date": 1550109567, "creation_date": 1550103291, "answer_id": 54681411, "question_id": 54681162, "link": "https://stackoverflow.com/questions/54681162/why-does-google-chrome-ignore-the-opacity-of-children-of-elements-with-initial-d/54681411#54681411", "title": "Why does Google Chrome ignore the opacity of children of elements with initial display?", "body": "<p>I was able to isolate the issue outside of the animation. For some reason I don't understand, Google Chrome doesn't propagate opacity to children of an element with <code>display: initial</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\r\n  background: red;\r\n  display: initial;\r\n  opacity: 0;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\r\n  text inside div\r\n  &lt;p&gt;text inside paragraph&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>On Firefox you see nothing, on Chrome you see <code>text inside paragraph</code> and nothing else. Very odd.</p>\n"}, {"comments": [{"owner": {"reputation": 625590, "user_id": 106224, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a2d818d801ce38a33807f68fdd92043a?s=128&d=identicon&r=PG", "display_name": "BoltClock", "link": "https://stackoverflow.com/users/106224/boltclock"}, "edited": false, "score": 1, "creation_date": 1550112773, "post_id": 54681936, "comment_id": 96153873, "body": "The HTML in the question is not invalid. MDN&#39;s description there is based on an archaic definition of &quot;inline&quot; and &quot;block&quot; that blurs the line between HTML and CSS. While it is not possible for a block box to be contained within an inline box, 1) <a href=\"https://stackoverflow.com/questions/22290281/what-goes-wrong-when-a-displayinline-custom-element-contains-displayblock-elem/24000067#24000067\">CSS contains provisions for that sort of situation</a> 2) it doesn&#39;t change the nature of the HTML elements and therefore does not affect the validity of the HTML."}, {"owner": {"reputation": 2151, "user_id": 5221346, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4d5d93cbba861bac4b66d3383c74222c?s=128&d=identicon&r=PG&f=1", "display_name": "RaminS", "link": "https://stackoverflow.com/users/5221346/ramins"}, "reply_to_user": {"reputation": 625590, "user_id": 106224, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a2d818d801ce38a33807f68fdd92043a?s=128&d=identicon&r=PG", "display_name": "BoltClock", "link": "https://stackoverflow.com/users/106224/boltclock"}, "edited": false, "score": 0, "creation_date": 1550112971, "post_id": 54681936, "comment_id": 96153899, "body": "So it is a bug in Google Chrome, then? @BoltClock"}, {"owner": {"reputation": 2151, "user_id": 5221346, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4d5d93cbba861bac4b66d3383c74222c?s=128&d=identicon&r=PG&f=1", "display_name": "RaminS", "link": "https://stackoverflow.com/users/5221346/ramins"}, "reply_to_user": {"reputation": 625590, "user_id": 106224, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a2d818d801ce38a33807f68fdd92043a?s=128&d=identicon&r=PG", "display_name": "BoltClock", "link": "https://stackoverflow.com/users/106224/boltclock"}, "edited": false, "score": 0, "creation_date": 1550113119, "post_id": 54681936, "comment_id": 96153929, "body": "I suppose <a href=\"https://stackoverflow.com/questions/23642290/ie-offsetting-and-ignoring-height-width-of-anchor-focus-outlines/23644188#23644188\">this</a> sort of answers the question."}, {"owner": {"reputation": 625590, "user_id": 106224, "user_type": "moderator", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/a2d818d801ce38a33807f68fdd92043a?s=128&d=identicon&r=PG", "display_name": "BoltClock", "link": "https://stackoverflow.com/users/106224/boltclock"}, "edited": false, "score": 1, "creation_date": 1550113382, "post_id": 54681936, "comment_id": 96153988, "body": "<a href=\"https://bugs.chromium.org/p/chromium/issues/detail?id=764011\" rel=\"nofollow noreferrer\">Looks like it.</a> This used to affect Firefox as well <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=660682\" rel=\"nofollow noreferrer\">once upon a time</a>, additional discussion <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1399527\" rel=\"nofollow noreferrer\">here</a>. Not sure if the underlying cause in Chrome is related for both cases."}], "tags": [], "owner": {"reputation": 2151, "user_id": 5221346, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4d5d93cbba861bac4b66d3383c74222c?s=128&d=identicon&r=PG&f=1", "display_name": "RaminS", "link": "https://stackoverflow.com/users/5221346/ramins"}, "is_accepted": false, "score": 0, "last_activity_date": 1550113463, "last_edit_date": 1550113463, "creation_date": 1550107704, "answer_id": 54681936, "question_id": 54681162, "link": "https://stackoverflow.com/questions/54681162/why-does-google-chrome-ignore-the-opacity-of-children-of-elements-with-initial-d/54681936#54681936", "title": "Why does Google Chrome ignore the opacity of children of elements with initial display?", "body": "<p>@jacquegoupil discovered that this is caused by the combination of <code>display: initial</code> and the <code>opacity</code> attribute. </p>\n\n<p>Further research brought me to <a href=\"https://stackoverflow.com/a/18851838/5221346\">this answer</a> which states that <code>initial</code> does not mean <em>\"default\"</em>, meaning that it does not set the value of the attribute to the one that is default for the element. What it does it to set the attribute to the value that it defined as <em>\"initial\"</em> in <a href=\"https://www.w3.org/TR/CSS21/visuren.html#display-prop\" rel=\"nofollow noreferrer\">the spec</a>. In the case of the <code>display</code> attribute, <code>initial</code> means <code>inline</code>. </p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Inline_elements#Conceptual_differences\" rel=\"nofollow noreferrer\">According to MDN</a>, inline elements cannot contain block elements, and since <code>p</code> elements have <code>display: block</code> by default.</p>\n"}], "owner": {"reputation": 2151, "user_id": 5221346, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/4d5d93cbba861bac4b66d3383c74222c?s=128&d=identicon&r=PG&f=1", "display_name": "RaminS", "link": "https://stackoverflow.com/users/5221346/ramins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 205, "favorite_count": 0, "closed_date": 1550113588, "answer_count": 2, "score": 1, "last_activity_date": 1550113463, "creation_date": 1550101481, "last_edit_date": 1550110585, "question_id": 54681162, "link": "https://stackoverflow.com/questions/54681162/why-does-google-chrome-ignore-the-opacity-of-children-of-elements-with-initial-d", "closed_reason": "Duplicate", "title": "Why does Google Chrome ignore the opacity of children of elements with initial display?", "body": "<p>There are <code>div</code> elements with child <code>p</code> elements that repeatedly go from hidden to shown states. Both <code>display</code> and <code>opacity</code> attributes are used for this. The <code>opacity</code> attribute has a 1 second transition time.</p>\n\n<p>The cycle is as follows:</p>\n\n<ol>\n<li>Change <code>display: none</code> to <code>display: initial</code></li>\n<li>Wait 50 milliseconds for <a href=\"https://stackoverflow.com/questions/49269614/why-does-reflow-need-to-be-triggered-for-css-transitions\">document reflow</a> (which <a href=\"https://stackoverflow.com/questions/27637184/what-is-dom-reflow\">should happen</a> on its own) </li>\n<li>Change <code>opacity: 0</code> to <code>opacity: 1</code></li>\n<li>Wait 2 seconds</li>\n<li>Change <code>opacity: 1</code> to <code>opacity: 0</code></li>\n<li>Wait 1 second for transition to finish</li>\n<li>Change <code>display: initial</code> to <code>display: none</code></li>\n<li>Wait 1 second</li>\n<li>Repeat</li>\n</ol>\n\n<p>This works perfectly fine in FireFox, but in Google Chrome it only works in certain cases, demonstrated in the code snippet.</p>\n\n<ul>\n<li>In the simple case it doesn't work.</li>\n<li>If the child <code>p</code> is set to <code>inline-block</code> it works.</li>\n<li>If the <code>inline-block</code> element is a grandchild instead of a child it doesn't work.</li>\n<li>If the position of the child is set to <code>fixed</code> it works.</li>\n</ul>\n\n<p>The curious thing is that the transition in step 5 also fails, which has nothing to do with the <code>display</code> attribute, so this does not seem to be due to reflow failures.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var flag = true;\r\nvar elements;\r\n\r\nwindow.onload = init;\r\n\r\nfunction init() {\r\n    elements = document.getElementsByClassName(\"foo\");\r\n    cycleQuotes();\r\n    setInterval(cycleQuotes, 2000);\r\n}\r\n\r\nfunction cycleQuotes() {\r\n    if(flag) {\r\n        for(var i = 0; i &lt; elements.length; i++) {\r\n            elements[i].style.display = \"initial\";\r\n        }\r\n        setTimeout(function() {\r\n            for(var i = 0; i &lt; elements.length; i++) {\r\n                elements[i].style.opacity = 1;\r\n            }\r\n        },50);\r\n    } else {\r\n        for(var i = 0; i &lt; elements.length; i++) {\r\n            elements[i].style.opacity = 0;\r\n        }\r\n        setTimeout(function() {\r\n            for(var i = 0; i &lt; elements.length; i++) {\r\n                elements[i].style.display = \"none\";\r\n            }\r\n        },1000);\r\n    }\r\n    flag = !flag;\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.foo {\r\n    display: none;\r\n    opacity: 0;\r\n    transition: opacity 1s;\r\n}\r\n\r\n.inline-block {\r\n    display: inline-block;\r\n}\r\n\r\n#fixed {\r\n    position: fixed;\r\n    left: 100px;\r\n    top: 0px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"foo\"&gt;\r\n  &lt;p&gt;normal&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"foo\"&gt;\r\n  &lt;p class=\"inline-block\"&gt;inline-block&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"foo\"&gt;\r\n  &lt;div&gt;\r\n    &lt;p class=\"inline-block\"&gt;inline-block but grandchild&lt;/p&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"foo\"&gt;\r\n  &lt;p id=\"fixed\"&gt;fixed&lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "mongoose"], "comments": [{"owner": {"reputation": 1665, "user_id": 6405175, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lvBwY.png?s=128&g=1", "display_name": "MadWard", "link": "https://stackoverflow.com/users/6405175/madward"}, "edited": false, "score": 1, "creation_date": 1550101485, "post_id": 54681154, "comment_id": 96151165, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/14220321/how-do-i-return-the-response-from-an-asynchronous-call\">How do I return the response from an asynchronous call?</a>"}, {"owner": {"reputation": 1159, "user_id": 3443551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XfkEC.jpg?s=128&g=1", "display_name": "MarkSkayff", "link": "https://stackoverflow.com/users/3443551/markskayff"}, "edited": false, "score": 0, "creation_date": 1550101982, "post_id": 54681154, "comment_id": 96151298, "body": "I see you are returning a function there."}], "answers": [{"tags": [], "owner": {"reputation": 87200, "user_id": 122005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MX2CF.jpg?s=128&g=1", "display_name": "chridam", "link": "https://stackoverflow.com/users/122005/chridam"}, "is_accepted": false, "score": 0, "last_activity_date": 1550131390, "creation_date": 1550131390, "answer_id": 54685651, "question_id": 54681154, "link": "https://stackoverflow.com/questions/54681154/node-js-return-value-from-callback-to-the-main-function/54685651#54685651", "title": "Node.js - return value from callback to the main function", "body": "<p>Use a callback function to return the boolean. For example, you can re-write the static as</p>\n\n<pre><code>// assign a function to the \"statics\" object of your usersSchema\nusersSchema.statics.is_username_used = function(name, cb) {\n    return this.findOne({username: name}, function(error, doc){\n        if (err) return cb(err, null);\n        return cb(null, !is_empty(doc));\n    });\n};\n\nconst User = mongoose.model('User', usersSchema);\nUser.is_username_used('someusername', (err, usernameExists) =&gt; {\n    console.log(usernameExists);\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4260, "user_id": 5581893, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/362f3794da7a74277b3b2fb0b6b5b8ab?s=128&d=identicon&r=PG", "display_name": "datdinhquoc", "link": "https://stackoverflow.com/users/5581893/datdinhquoc"}, "is_accepted": false, "score": 0, "last_activity_date": 1550141979, "creation_date": 1550141979, "answer_id": 54688841, "question_id": 54681154, "link": "https://stackoverflow.com/questions/54681154/node-js-return-value-from-callback-to-the-main-function/54688841#54688841", "title": "Node.js - return value from callback to the main function", "body": "<p>In case you have Node.js 7.6+, you can use the async/await feature to make your function synchronous-like.</p>\n\n<pre><code>users.statics.is_username_used = async function(name) {\n    var doc = await this.findOne({username: name});\n\n    if (is_empty(doc))\n        return false;\n\n    return true;\n};\n</code></pre>\n\n<p>Then the function is_username_used will be call with 'await' to get the boolean result:</p>\n\n<pre><code>var isUsed = await User.is_username_used('someusername');\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 11059272, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/37e5408cdf89d21adec7b5c3dbd1001c?s=128&d=identicon&r=PG&f=1", "display_name": "Mohammed Malhas", "link": "https://stackoverflow.com/users/11059272/mohammed-malhas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 171, "favorite_count": 1, "answer_count": 2, "score": 2, "last_activity_date": 1550341720, "creation_date": 1550101403, "question_id": 54681154, "link": "https://stackoverflow.com/questions/54681154/node-js-return-value-from-callback-to-the-main-function", "title": "Node.js - return value from callback to the main function", "body": "<p>i want to return (true,false) from this function, its returning object..\nwhat i can do to return Boolean value ?\nthis code is make a static method to users Module</p>\n\n<pre><code>users.statics.is_username_used = function(name) {\n    return this.findOne({username: name}, function(error,doc){\n        if(is_empty(doc)){\n            return false;\n        }else{\n            return true;\n        }\n    });\n};\n</code></pre>\n"}, {"tags": ["javascript", "python", "selenium"], "answers": [{"tags": [], "owner": {"reputation": 79, "user_id": 3077225, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d6c0a6bac576919fafd776a264d69ea6?s=128&d=identicon&r=PG", "display_name": "Robin", "link": "https://stackoverflow.com/users/3077225/robin"}, "is_accepted": false, "score": 1, "last_activity_date": 1597644342, "creation_date": 1597644342, "answer_id": 63445385, "question_id": 54681137, "link": "https://stackoverflow.com/questions/54681137/wait-for-network-to-be-idle-with-selenium-webdriver/63445385#63445385", "title": "Wait for network to be idle with selenium webdriver?", "body": "<p>So I see 2 questions in this question:</p>\n<ol>\n<li>Does Selenium have a way to monitor all web based API calls ? I haven't seen that in any of the Selenium implementations till 3.x.x</li>\n<li>Can we implement such a method - Yes. We can increment a counter for every request triggered and decrease it for every request fulfilled, only moving forward with the test script, once the counter is zero. I can envision this being implemented through Chrome Dev protocols (Selenium 4+ ) or a web proxy (browsermob).</li>\n</ol>\n<p>Note 1: Selenium officially recommends using fluent waits or explicit waits for such issues.</p>\n<p>Note 2: I've seen some crude and abstract implementations of waiting for the document ready state as :</p>\n<pre><code>public void waitForPagetoLoad() throws InterruptedException {\n    long millis = 1000;\n    Thread.sleep(millis);\n    do {\n        Thread.sleep(millis);\n        millis = millis + 2000;\n    } while (!(((JavascriptExecutor) driver).executeScript(&quot;return document.readyState&quot;).toString()\n            .equals(&quot;complete&quot;)) || millis &lt;= 10000);\n    Reporter.log(&quot;Web page loading is complete in &quot; + (millis / 1000) + &quot;  Seconds&quot;);\n\n}\n</code></pre>\n"}], "owner": {"reputation": 634, "user_id": 2443145, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/8b12f477331c1729ec9564d319480971?s=128&d=identicon&r=PG", "display_name": "symon", "link": "https://stackoverflow.com/users/2443145/symon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 747, "favorite_count": 1, "answer_count": 1, "score": 5, "last_activity_date": 1597644342, "creation_date": 1550101263, "question_id": 54681137, "link": "https://stackoverflow.com/questions/54681137/wait-for-network-to-be-idle-with-selenium-webdriver", "title": "Wait for network to be idle with selenium webdriver?", "body": "<p>Puppeteer has capabilities to wait for network being completely idle,  is it possible to achieve the same explicit waiting using python selenium web driver or directly using some javascript work arounds by executing some javascript from the driver context?</p>\n\n<p>waiting for jQuery.active / page ready state etc is common practice, but <em>could</em> it be done that we can query the pending requests and wait until the network is completely idle?</p>\n"}, {"tags": ["javascript", "dom", "google-chrome-devtools", "google-chrome-console"], "comments": [{"owner": {"reputation": 477, "user_id": 8586250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIwQK.jpg?s=128&g=1", "display_name": "Ryan Russell", "link": "https://stackoverflow.com/users/8586250/ryan-russell"}, "edited": false, "score": 0, "creation_date": 1550101392, "post_id": 54681130, "comment_id": 96151133, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/2614520/call-a-javascript-function-across-browser-tabs\">Call a JavaScript function across browser tabs</a>"}, {"owner": {"reputation": 33, "user_id": 10497203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3944e7d2d83aa11f6acddec60ceb7808?s=128&d=identicon&r=PG&f=1", "display_name": "Ranger", "link": "https://stackoverflow.com/users/10497203/ranger"}, "reply_to_user": {"reputation": 477, "user_id": 8586250, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIwQK.jpg?s=128&g=1", "display_name": "Ryan Russell", "link": "https://stackoverflow.com/users/8586250/ryan-russell"}, "edited": false, "score": 1, "creation_date": 1550101835, "post_id": 54681130, "comment_id": 96151258, "body": "It is no duplicate in my opinion, as I am asking if I can execute Javascript in the other tab or not. The Post given states that Cross-Tab-Scripting is impossible - but still if I&#39;d be able to manipulate the source-code of the other tab and then call the scripted function, it is what I want."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 10497203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3944e7d2d83aa11f6acddec60ceb7808?s=128&d=identicon&r=PG&f=1", "display_name": "Ranger", "link": "https://stackoverflow.com/users/10497203/ranger"}, "edited": false, "score": 0, "creation_date": 1550103939, "post_id": 54681318, "comment_id": 96151879, "body": "So you would suggest running an extension that injects an event-like script. Is it possible to call them then like: var myPopup = window.open(url, name, features); myPopup.doStuffOnPopup(button);  Giving them the direct button to click on?"}, {"owner": {"reputation": 864, "user_id": 4913642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0OB1F.jpg?s=128&g=1", "display_name": "herodrigues", "link": "https://stackoverflow.com/users/4913642/herodrigues"}, "reply_to_user": {"reputation": 33, "user_id": 10497203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3944e7d2d83aa11f6acddec60ceb7808?s=128&d=identicon&r=PG&f=1", "display_name": "Ranger", "link": "https://stackoverflow.com/users/10497203/ranger"}, "edited": false, "score": 0, "creation_date": 1550104410, "post_id": 54681318, "comment_id": 96151981, "body": "If you know all the button selectors you&#39;re looking for, then you can query the tab by url or id in background and send a message to the content script to execute some function that you can put in a object inside the window object."}], "tags": [], "owner": {"reputation": 864, "user_id": 4913642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0OB1F.jpg?s=128&g=1", "display_name": "herodrigues", "link": "https://stackoverflow.com/users/4913642/herodrigues"}, "is_accepted": true, "score": 0, "last_activity_date": 1550102630, "creation_date": 1550102630, "answer_id": 54681318, "question_id": 54681130, "link": "https://stackoverflow.com/questions/54681130/javascript-performing-click-in-another-chrome-tab-using-developer-console/54681318#54681318", "title": "Javascript performing click() in another Chrome tab using developer console", "body": "<p>This is possible using a browser extension. You could have a content script file injected in all tabs to manipulate the DOM and a background script to query the desired tabs.\nThis option would require querying tabs in background and then sending messages to the content script in order to execute the JS code.</p>\n\n<p>Or you could use <code>chrome.tabs.query</code> and <code>chrome.tabs.executeScript</code>, which are available only in the background context, thus you wouldn't need to use content scripts as injected files.</p>\n"}, {"tags": [], "owner": {"reputation": 33, "user_id": 10497203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3944e7d2d83aa11f6acddec60ceb7808?s=128&d=identicon&r=PG&f=1", "display_name": "Ranger", "link": "https://stackoverflow.com/users/10497203/ranger"}, "is_accepted": false, "score": 0, "last_activity_date": 1550165421, "creation_date": 1550165421, "answer_id": 54696021, "question_id": 54681130, "link": "https://stackoverflow.com/questions/54681130/javascript-performing-click-in-another-chrome-tab-using-developer-console/54696021#54696021", "title": "Javascript performing click() in another Chrome tab using developer console", "body": "<p>I did it using an extension that adds function checkbtn() to the new tab. I then am calling it over console using</p>\n\n<p><code>newwindow.checkbtn(args)</code></p>\n\n<p>However, this seems to be a little too complicated and since I don't need to handle the call over a third party library like Selenium, this seems to be a little overkill and thus, I am working on making the whole script being executed by the extension.</p>\n"}], "owner": {"reputation": 33, "user_id": 10497203, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3944e7d2d83aa11f6acddec60ceb7808?s=128&d=identicon&r=PG&f=1", "display_name": "Ranger", "link": "https://stackoverflow.com/users/10497203/ranger"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 695, "favorite_count": 0, "accepted_answer_id": 54681318, "answer_count": 2, "score": 0, "last_activity_date": 1550165421, "creation_date": 1550101220, "last_edit_date": 1550102035, "question_id": 54681130, "link": "https://stackoverflow.com/questions/54681130/javascript-performing-click-in-another-chrome-tab-using-developer-console", "title": "Javascript performing click() in another Chrome tab using developer console", "body": "<p>I'm using Google Chrome Dev Console to execute this script:</p>\n\n<pre><code>function sleep(ms) {\n  return new Promise(resolve =&gt; setTimeout(resolve, ms));\n}\n\nfunction checkbtn(btn) {\n    if (btn.singleNodeValue != null) {\n        console.log('Success!')\n        btn.singleNodeValue.click();\n        throw new Error();\n    } else {\n        console.log('button not here yet - next button');\n    };\n}\n\nfunction check() {\n    url = window.location.href;\n    var newwindow = window.open(url, 'tab2');\n    //sleep 250ms\n    await sleep(250);\n    var newwindow2 = window.open(url, 'tab3');\n    //sleep 250ms\n    await sleep(250);\n    var newwindow3 = window.open(url, 'tab4');\n    var loginbtn;\n    while (true) {\n        loginbtn = newwindow.document.evaluate(\"//*[text()='5544']/../../td[@class='action']/form/input[@type='submit' and not(@disabled)]\", document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null);\n        console.log('trying button 1');\n        checkbtn(loginbtn);\n        loginbtn = newwindow2.document.evaluate(\"//*[text()='5544']/../../td[@class='action']/form/input[@type='submit' and not(@disabled)]\", document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null);\n        console.log('trying button 2');\n        checkbtn(loginbtn);\n        loginbtn = newwindow3.document.evaluate(\"//*[text()='5544']/../../td[@class='action']/form/input[@type='submit' and not(@disabled)]\", document, null, XPathResult.FIRST_ORDERED_NODE_TYPE, null);\n        console.log('trying button 3');\n        checkbtn(loginbtn);     \n    };\n};\n</code></pre>\n\n<p>However, this leads to nothing but the click being performed in the currently active tab, in which's console I post the code. Is there a way to make the Click happen in e.g. the third tab or is this impossible because of security reasons?</p>\n\n<p>EDIT:\nAs of duplication reasons to this: <a href=\"https://stackoverflow.com/questions/2614520/call-a-javascript-function-across-browser-tabs\">Call a javascript function across browser tabs</a>:\nThe given post doesn't clarify if the code is ran from the browser console. I want to know if there is any way that I could manipulate the other tab (locally) to click a button.\nAlso: if not possible: is it possible with an extension?</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 91, "user_id": 2061192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nDNPs.png?s=128&g=1", "display_name": "Sood", "link": "https://stackoverflow.com/users/2061192/sood"}, "is_accepted": false, "score": 0, "last_activity_date": 1550102640, "creation_date": 1550102640, "answer_id": 54681321, "question_id": 54681099, "link": "https://stackoverflow.com/questions/54681099/how-to-make-element-position-change-smooth-using-inline-style-tag/54681321#54681321", "title": "How to make element position change smooth using inline style tag?", "body": "<p>You could ensure a smoother transition with the adequate css property:</p>\n\n<pre><code>.my-component {\n    transition: all 386ms;\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 606, "user_id": 5972531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-3iXENmp-sQA/AAAAAAAAAAI/AAAAAAAABdo/TH2bQ5v2RlM/photo.jpg?sz=128", "display_name": "Mote Zart", "link": "https://stackoverflow.com/users/5972531/mote-zart"}, "edited": false, "score": 0, "creation_date": 1550103541, "post_id": 54681322, "comment_id": 96151784, "body": "It&#39;s a good idea! But it doesn&#39;t seem to help. It still behaves the same way. One idea I have is to replace the slider with a up/down counter. Click up or down to move, and the func will fire. If this fixes the issue then I know it&#39;s in the way the slider is communicating with the page. If not, them maybe it&#39;s a larger issue. But this would be for debugging only since I want a slider in the end."}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "reply_to_user": {"reputation": 606, "user_id": 5972531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-3iXENmp-sQA/AAAAAAAAAAI/AAAAAAAABdo/TH2bQ5v2RlM/photo.jpg?sz=128", "display_name": "Mote Zart", "link": "https://stackoverflow.com/users/5972531/mote-zart"}, "edited": false, "score": 0, "creation_date": 1550103920, "post_id": 54681322, "comment_id": 96151869, "body": "Ah ok, I must have misunderstood the problem - just to be clear, you&#39;re wanting the slider to move the object directly from one <code>position[]</code> to the next? or are you wanting a smooth transition between the previous position and the next?"}, {"owner": {"reputation": 606, "user_id": 5972531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-3iXENmp-sQA/AAAAAAAAAAI/AAAAAAAABdo/TH2bQ5v2RlM/photo.jpg?sz=128", "display_name": "Mote Zart", "link": "https://stackoverflow.com/users/5972531/mote-zart"}, "edited": false, "score": 0, "creation_date": 1550104334, "post_id": 54681322, "comment_id": 96151961, "body": "The second one. Your example fiddle works well, so I know it&#39;s difficult/impossible to tell what my problem might be since I cannot reproduce it. I thought maybe it was a problem in the pattern or something. This fiddle is what I meant <a href=\"https://jsfiddle.net/drumgod/2c5d1Ly9/6/\" rel=\"nofollow noreferrer\">jsfiddle.net/drumgod/2c5d1Ly9/6</a>. It&#39;s the exact same thing as the slider only I can increment by one only to test. I&#39;ll let you know what happens."}, {"owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "reply_to_user": {"reputation": 606, "user_id": 5972531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-3iXENmp-sQA/AAAAAAAAAAI/AAAAAAAABdo/TH2bQ5v2RlM/photo.jpg?sz=128", "display_name": "Mote Zart", "link": "https://stackoverflow.com/users/5972531/mote-zart"}, "edited": false, "score": 0, "creation_date": 1550104425, "post_id": 54681322, "comment_id": 96151985, "body": "No problems :-)"}], "tags": [], "owner": {"reputation": 26112, "user_id": 8526705, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buwQ5.jpg?s=128&g=1", "display_name": "Dacre Denny", "link": "https://stackoverflow.com/users/8526705/dacre-denny"}, "is_accepted": false, "score": 0, "last_activity_date": 1550102664, "creation_date": 1550102664, "answer_id": 54681322, "question_id": 54681099, "link": "https://stackoverflow.com/questions/54681099/how-to-make-element-position-change-smooth-using-inline-style-tag/54681322#54681322", "title": "How to make element position change smooth using inline style tag?", "body": "<p>If I understand your question correctly, you want the motion to remain stable and repeat regardless of the amount of change detected on the slider input.</p>\n\n<p>Without modifying your current code too much, a solution might be to use the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators#Remainder_()\" rel=\"nofollow noreferrer\">modulo operator</a> to calculate the appropriate <code>objStyle</code> based on an arbitrary slider value like so:</p>\n\n<pre><code>// updated code in moveBox() class method    \nif(diff === 1){\n\n    const styleObjIndex = this.state.currentIndex % this.state.positions.length;\n\n    this.setState({ styleObj:this.state.positions[styleObjIndex] })\n}\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/d1oey37t/1/\" rel=\"nofollow noreferrer\">Here is an updated jsFiddle</a> - hope that helps!</p>\n"}], "owner": {"reputation": 606, "user_id": 5972531, "user_type": "registered", "accept_rate": 88, "profile_image": "https://lh5.googleusercontent.com/-3iXENmp-sQA/AAAAAAAAAAI/AAAAAAAABdo/TH2bQ5v2RlM/photo.jpg?sz=128", "display_name": "Mote Zart", "link": "https://stackoverflow.com/users/5972531/mote-zart"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 125, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1550102923, "creation_date": 1550101067, "last_edit_date": 1550102923, "question_id": 54681099, "link": "https://stackoverflow.com/questions/54681099/how-to-make-element-position-change-smooth-using-inline-style-tag", "title": "How to make element position change smooth using inline style tag?", "body": "<p>I have an component that has an inline style tag and I pass in the array below it, one item at a time. This is to move a cursor from one place to another.</p>\n\n<pre><code>let myStyle =  [{\n       left: \"0\",\n       bottom: \"-20px\",\n    },\n    {\n       left:\"10px\",\n       bottom: \"-30px\",\n    },\n    {\n       left: \"20px\",\n       bottom: \"-40px\"\n   }]\n\n\n\n&lt;div className=\"my-component\" style={myStyle[i]}&gt;&lt;/div&gt;\n</code></pre>\n\n<p>I use a slider to move through the array, but the slider does not always increase only by one. \nDragging even lightly can make it jump two or three points and this screws up the movement.</p>\n\n<p>Currently I think that <code>onChange</code>, if I slide too fast I get the start and end values only, and none in between. What I need is for my function to run on every step of the slider so that it moves incrementally one by one. The built-in <code>step</code> functionality does not seem to be a sufficient solution here.</p>\n\n<pre><code>&lt;div class=\"slidecontainer\"&gt;\n  &lt;input type=\"range\" min=\"1\" max=\"100\" value=\"50\" class=\"slider\" id=\"myRange\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I tried something like this hoping it would be true n-times and run at each <code>true</code>, even if the value were to be increased by multiple. Doesn't work</p>\n\n<pre><code>  handleChange(event) {\n    if(currentStateValue - previousStateValue === 1){\n    this.setState({\n        value: event.target.value,\n        });\n        this.renderStuff() //run my function here\n    }\n   } \n</code></pre>\n\n<p>A for loop idea: if slider increases by 3 then I'd loop three. But it just runs the block so fast the cursor appears at the end position instantly.</p>\n\n<pre><code>       //OR\n      let diff = currentState-previousState\n      for (var i = 0; i &lt; diff; i++) {\n      this.renderStuff() //run my function here\n     }\n</code></pre>\n\n<p>I have a <a href=\"https://jsfiddle.net/drumgod/a8vx0p41/5/\" rel=\"nofollow noreferrer\">fiddle</a> (that works better than my actual project), but is the same idea. I am open to totally new approaches. </p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "is_accepted": true, "score": 1, "last_activity_date": 1550101520, "creation_date": 1550101520, "answer_id": 54681169, "question_id": 54681092, "link": "https://stackoverflow.com/questions/54681092/duplicate-enries-in-state-when-adding-files/54681169#54681169", "title": "Duplicate enries in state when adding files", "body": "<p>You will get all the files in the callback, so you could overwrite the files currently in your state with just the ones you get in the callback.</p>\n\n<pre><code>onupdatefiles={fileItems =&gt; {\n  const fileObjects = [];\n\n  fileItems.forEach((item, i) =&gt; {\n    fileObjects.push({\n      name: item.file.name,\n      data: item.file,\n      extension: item.file.type\n    });\n  });\n\n  this.setState({ fileObjects });\n}}\n</code></pre>\n"}], "owner": {"reputation": 2512, "user_id": 10061438, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WaapE.png?s=128&g=1", "display_name": "Ating", "link": "https://stackoverflow.com/users/10061438/ating"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 31, "favorite_count": 0, "accepted_answer_id": 54681169, "answer_count": 1, "score": 1, "last_activity_date": 1550101975, "creation_date": 1550101029, "last_edit_date": 1550101975, "question_id": 54681092, "link": "https://stackoverflow.com/questions/54681092/duplicate-enries-in-state-when-adding-files", "title": "Duplicate enries in state when adding files", "body": "<p>I'm using the felepond npm package, to display files, and I have a function, that adds a new file as such </p>\n\n<pre><code>onupdatefiles={fileItems =&gt; {\n  fileItems.forEach((item, i) =&gt; {\n    console.log(item.file);\n    const file = {\n      name: item.file.name,\n      data: item.file,\n      extension: item.file.type\n    };\n    this.setState(prevState =&gt; ({\n      fileObjects: [...prevState.fileObjects, file]\n    }));\n  });\n}}\n</code></pre>\n\n<p>the problem here is that the entire state is added every time a new entry to the list is made... </p>\n\n<p>I was wondering if you could make it a set, but that would be a mess to figure out</p>\n\n<p>is there a way that I can make sure there are no duplicate entries in the state?</p>\n"}, {"tags": ["javascript", "php", "variables"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1550101200, "post_id": 54681078, "comment_id": 96151077, "body": "You need to use AJAX from 2.js to get the variable from 3.php."}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1550101673, "post_id": 54681078, "comment_id": 96151224, "body": "Where is <code>2.js</code> included? In <code>1.html</code> or <code>3.php</code>? What is the relationship between <code>1.html</code> and <code>3.php</code> anyway? Please describe how your application is structured"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1550101894, "post_id": 54681078, "comment_id": 96151277, "body": "From the linked question, the top voted answer&#39;s first option is to use AJAX but it doesn&#39;t sound like you&#39;ve tried that at all. That certainly doesn&#39;t require <i>&quot;all the code is on the same page&quot;</i>"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1550102184, "post_id": 54681078, "comment_id": 96151357, "body": "If you disagree with the duplicate vote, please update your question with the any attempts you made based on the other answers"}, {"owner": {"reputation": 1, "user_id": 5592192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e04abe762b02848270ce65851c6a290?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Vanlaer-McCanna", "link": "https://stackoverflow.com/users/5592192/tom-vanlaer-mccanna"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1550102191, "post_id": 54681078, "comment_id": 96151362, "body": "@Phil 2.js is included in 1.html. Basically 1.html is a form that takes an input and sends it to 3.php to query an API. 2.js is a middleman to stop the page redirecting and it updates elements on 1.html  I tried the AJAX answer from the other SO I linked, but I could not get it to work."}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1550102299, "post_id": 54681078, "comment_id": 96151394, "body": "Right, so sounds like you want <code>2.js</code> to make an AJAX request to <code>3.php</code> (triggered by an event in <code>1.html</code>) and then use the response to make changes on <code>1.html</code>. This scenario is detailed in <a href=\"https://stackoverflow.com/a/23740549/283366\">this answer</a>"}], "answers": [{"comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1550101765, "post_id": 54681184, "comment_id": 96151246, "body": "It&#39;s unlikely <code>$title</code> contains quote characters so you&#39;d be better off with <code>&lt;?= json_encode($title) ?&gt;</code>"}, {"owner": {"reputation": 83063, "user_id": 2310830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=128&g=1", "display_name": "RiggsFolly", "link": "https://stackoverflow.com/users/2310830/riggsfolly"}, "edited": false, "score": 0, "creation_date": 1550102010, "post_id": 54681184, "comment_id": 96151306, "body": "As its likely text I would suggest some quotes like <code>var titlePHP = &quot;&lt;?php echo $title; ?&gt;&quot;;</code>"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "reply_to_user": {"reputation": 83063, "user_id": 2310830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=128&g=1", "display_name": "RiggsFolly", "link": "https://stackoverflow.com/users/2310830/riggsfolly"}, "edited": false, "score": 0, "creation_date": 1550102053, "post_id": 54681184, "comment_id": 96151318, "body": "@RiggsFolly the best way to make a PHP variable safe for use in JS is <code>json_encode()</code>"}, {"owner": {"reputation": 1, "user_id": 5592192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e04abe762b02848270ce65851c6a290?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Vanlaer-McCanna", "link": "https://stackoverflow.com/users/5592192/tom-vanlaer-mccanna"}, "edited": false, "score": 0, "creation_date": 1550102749, "post_id": 54681184, "comment_id": 96151535, "body": "This gives me an error of <code>Parse error: syntax error, unexpected &#39;&lt;&#39;, expecting end of file in admin\\php\\apiCall.php on line 59</code>"}], "tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": false, "score": -1, "last_activity_date": 1550101582, "creation_date": 1550101582, "answer_id": 54681184, "question_id": 54681078, "link": "https://stackoverflow.com/questions/54681078/pass-php-variables-to-external-javascript-file/54681184#54681184", "title": "Pass PHP variables to external JavaScript file", "body": "<p>You can't add PHP code into an <strong>external</strong> (<code>.js</code>) JavaScript file, as JavaScript itself has no knowledge of how PHP works. You also can't make use of <code>1.html</code>, as HTML doesn't know how PHP works either.</p>\n\n<p>What you're probably looking to do is make use of <strong>inline</strong> JavaScript on <code>3.php</code> (or another <code>.php</code> page):</p>\n\n<pre><code>&lt;?php\n  $title = \"Title\";\n?&gt;\n&lt;script&gt;\n  var titlePHP = &lt;?php echo $title; ?&gt;\n&lt;script&gt;\n</code></pre>\n\n<p>Unlike with trying to output the PHP directly into the JavaScript file, this <strong>will</strong> work. Your PHP file will see <code>&lt;?php</code>, and swap to PHP to inject its variable on page load, then see <code>?&gt;</code> and swap back to JavaScript:</p>\n\n<pre><code>&lt;script&gt;\n  var titlePHP = \"Title\";\n&lt;script&gt;\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 5592192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e04abe762b02848270ce65851c6a290?s=128&d=identicon&r=PG&f=1", "display_name": "Tom Vanlaer-McCanna", "link": "https://stackoverflow.com/users/5592192/tom-vanlaer-mccanna"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 283, "favorite_count": 0, "closed_date": 1550102002, "answer_count": 1, "score": 0, "last_activity_date": 1550102587, "creation_date": 1550100924, "last_edit_date": 1550102587, "question_id": 54681078, "link": "https://stackoverflow.com/questions/54681078/pass-php-variables-to-external-javascript-file", "closed_reason": "Duplicate", "title": "Pass PHP variables to external JavaScript file", "body": "<p>I have 3 files; 1.html, 2.js, 3.php</p>\n\n<p>I'm trying to get the value of a variable in 3.php to update in an element in 1.html</p>\n\n<p>In 3.php I have a variable <code>$title</code></p>\n\n<p>In 2.js I'm trying:</p>\n\n<pre><code>var titlePHP = &lt;?php echo json_encode ($title); ?&gt;;\n            console.log(titlePHP);\n            $('#productTitle').val(titlePHP);\n</code></pre>\n\n<p>But getting <code>Uncaught SyntaxError: Unexpected token &lt;</code></p>\n\n<p>I've tried the 3 solutions in <a href=\"https://stackoverflow.com/questions/23740548/how-to-pass-variables-and-data-from-php-to-javascript\">How to pass variables and data from PHP to JavaScript?</a> but they only seem to work if all the code is on the same page, but my code has to be seperate because these files are doing extra things.</p>\n\n<p>I can update a single DOM element using <code>echo</code> in php, but I need to pass multiple variables across, so echo is insufficient.</p>\n\n<p>Is there a better solution to my problem? Thanks</p>\n\n<p>edit:</p>\n\n<p>2.js:</p>\n\n<pre><code>$(function() {\n\n    //Get the ASIN input\n    var form = $('#inputASIN');\n\n    //Get the div to update\n    var formReply = $('#formReply'); //status\n\n    //event listener for the contact form.\n    $(form).submit(function(e) {\n        e.preventDefault();\n\n        //serialise the form data.\n        var formData = $(form).serialize();\n        //submit the form using AJAX.\n        $.ajax({\n            type: 'POST',\n            url: $(form).attr('action'),\n            data: formData\n        })\n        .done(function(response) {\n            $(formReply).toggleClass('card-footer bg-success text-white');\n            $(formReply).text(response);\n\n            $('#asinForm').val('');\n        })\n        .fail(function(data) {\n            $(formReply).toggleClass('card-footer bg-danger text-white');\n\n            // Set the message text.\n            if (data.responseText !== '') {\n                $(formReply).text(data.responseText);\n            } else {\n                $(formReply).text('Error: could not load data from API.');\n            }\n        });\n\n    });\n\n});\n</code></pre>\n\n<p>3.php:</p>\n\n<pre><code>    &lt;?php\n\n      if ($_SERVER[\"REQUEST_METHOD\"] == \"POST\") {\n            include(\"amazonApiClass.php\");\n            $obj = new AmazonProductAPI();\n            $asin = $_POST[\"ASIN\"];\n\n            if (empty($asin)) {\n                  echo \"Error: Please enter an ASIN!\";\n                  exit;\n            }\n\n            //fetch product information with the object\n            try {\n                  $result = $obj-&gt;getItemByAsin($asin);\n                  echo \"Success! Move on to step 2.\";\n            }\n            catch(Exception $e)\n            {\n                  echo $e-&gt;getMessage();\n            }\n\n\n\n            $title = $result-&gt;Items-&gt;Item-&gt;ItemAttributes-&gt;Title;\n            $price = $result-&gt;Items-&gt;Item-&gt;OfferSummary-&gt;LowestNewPrice-&gt;FormattedPrice;    \n\n\n            echo \"Title: $title&lt;br /&gt;\";\n            echo \"Price: $price&lt;br /&gt;\";\n\n      } else {\n        echo \"Error: could not load data from API.\";\n    }\n\n?&gt;\n</code></pre>\n"}, {"tags": ["javascript", "backend", "mern"], "comments": [{"owner": {"reputation": 1698, "user_id": 2128414, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/EE8ag.jpg?s=128&g=1", "display_name": "Tsuna", "link": "https://stackoverflow.com/users/2128414/tsuna"}, "edited": false, "score": 0, "creation_date": 1550100848, "post_id": 54681058, "comment_id": 96150989, "body": "so it&#39;s like...everything is working perfectly locally on your computer?"}, {"owner": {"reputation": 1, "user_id": 11059237, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_iaaznjNIG4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNJJ4UlxvHhXD8dqAFJHW3qX6VhIQ/mo/photo.jpg?sz=128", "display_name": "&#193;d&#225;m Szal&#243;czi", "link": "https://stackoverflow.com/users/11059237/%c3%81d%c3%a1m-szal%c3%b3czi"}, "reply_to_user": {"reputation": 1698, "user_id": 2128414, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/EE8ag.jpg?s=128&g=1", "display_name": "Tsuna", "link": "https://stackoverflow.com/users/2128414/tsuna"}, "edited": false, "score": 0, "creation_date": 1550101293, "post_id": 54681058, "comment_id": 96151105, "body": "No, I am not there yet, its under development, but I would add this key feature, and build the app around it."}, {"owner": {"reputation": 1698, "user_id": 2128414, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/EE8ag.jpg?s=128&g=1", "display_name": "Tsuna", "link": "https://stackoverflow.com/users/2128414/tsuna"}, "edited": false, "score": 0, "creation_date": 1550102991, "post_id": 54681058, "comment_id": 96151609, "body": "mind showing the tutorial you are following?"}, {"owner": {"reputation": 1, "user_id": 11059237, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_iaaznjNIG4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNJJ4UlxvHhXD8dqAFJHW3qX6VhIQ/mo/photo.jpg?sz=128", "display_name": "&#193;d&#225;m Szal&#243;czi", "link": "https://stackoverflow.com/users/11059237/%c3%81d%c3%a1m-szal%c3%b3czi"}, "reply_to_user": {"reputation": 1698, "user_id": 2128414, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/EE8ag.jpg?s=128&g=1", "display_name": "Tsuna", "link": "https://stackoverflow.com/users/2128414/tsuna"}, "edited": false, "score": 0, "creation_date": 1550103311, "post_id": 54681058, "comment_id": 96151721, "body": "I&#39;ve done a quite few, React from Wes Bos, GrapQL + React from Netninja, Node.js and the current Full stack is from Brad Traversy. Good stuff, but I am afraid my particular question is not covered, so would be nice to find one for that."}], "owner": {"reputation": 1, "user_id": 11059237, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-_iaaznjNIG4/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNJJ4UlxvHhXD8dqAFJHW3qX6VhIQ/mo/photo.jpg?sz=128", "display_name": "&#193;d&#225;m Szal&#243;czi", "link": "https://stackoverflow.com/users/11059237/%c3%81d%c3%a1m-szal%c3%b3czi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 47, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550100749, "creation_date": 1550100749, "question_id": 54681058, "link": "https://stackoverflow.com/questions/54681058/how-do-i-network-and-connect-people-in-a-node-js-social-app", "title": "How do I network, and connect people in a node.js social app?", "body": "<p>I just started a social web app for fun, using MERN stack (Mongo, Express, React, Node.js) + GraphQL, Apollo. Most of the part is clear, from tutorials, however, I couldn't find anything about, how to build the logic for actual networking, with that said: follow each other, and so doing see each others feed, hiding others and similar features. \nMy question is how do I find something about this topic, and what is your recommendation, and best practices? \n(It's not a production app, but I would make a bigger project to roll up all my knowledge, and experience, show off in my portfolio)</p>\n"}, {"tags": ["javascript", "p5.js"], "comments": [{"owner": {"reputation": 6617, "user_id": 3794660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HlWq1.jpg?s=128&g=1", "display_name": "fabio.sussetto", "link": "https://stackoverflow.com/users/3794660/fabio-sussetto"}, "edited": false, "score": 0, "creation_date": 1550100963, "post_id": 54681035, "comment_id": 96151015, "body": "Hi @Chrissant, could you share the rest of your code please?"}], "answers": [{"tags": [], "owner": {"reputation": 5376, "user_id": 2662028, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/3ffd689c4943e26ae0d0de538a2a37ea?s=128&d=identicon&r=PG", "display_name": "ryanpcmcquen", "link": "https://stackoverflow.com/users/2662028/ryanpcmcquen"}, "is_accepted": true, "score": 0, "last_activity_date": 1550101394, "last_edit_date": 1550101394, "creation_date": 1550101094, "answer_id": 54681101, "question_id": 54681035, "link": "https://stackoverflow.com/questions/54681035/how-to-i-make-my-button-change-a-variable/54681101#54681101", "title": "How to I make my button change a variable?", "body": "<p>You just need to add an event listener to the button (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/EventTarget/addEventListener</a>), then run your code inside of that:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.addEventListener('DOMContentLoaded', function() {\r\n  var supaCoolButton = document.querySelector('.supa_cool_button')\r\n  supaCoolButton.addEventListener('click', function() {\r\n    console.log('Call functions in here!')\r\n    // You would invoke `draw()` here.\r\n  })\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button class=\"supa_cool_button\"&gt;Check me out.&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you're willing to share a larger snippet, we can show you how to better incorporate that function.</p>\n"}, {"tags": [], "owner": {"reputation": 1106, "user_id": 9653121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VqbFe.jpg?s=128&g=1", "display_name": "Julian", "link": "https://stackoverflow.com/users/9653121/julian"}, "is_accepted": false, "score": 0, "last_activity_date": 1550111721, "creation_date": 1550111721, "answer_id": 54682406, "question_id": 54681035, "link": "https://stackoverflow.com/questions/54681035/how-to-i-make-my-button-change-a-variable/54682406#54682406", "title": "How to I make my button change a variable?", "body": "<p>I took some creative liberties and came up with something that might help you. I'll assume that, without any embellishments, you want your project to look something like this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function setup(){\r\n  createCanvas(400, 200);\r\n  background(120);\r\n}\r\nfunction draw() {\r\n    let yel = color(255, 255, 0);\r\n    let red = color(255, 0, 0);\r\n    let black = color(0);\r\n    let green = color(0, 255, 0);\r\n    let blue = color(0, 0, 255);\r\n\r\n    \r\n\r\n    if(mouseIsPressed) {\r\n        noStroke();\r\n\r\n        if(keyIsPressed) {\r\n            if(keyCode === UP_ARROW) {\r\n                fill(red);\r\n            }else if(keyCode === RIGHT_ARROW) {\r\n                fill(green);\r\n            }else if(keyCode === LEFT_ARROW) {\r\n                fill(blue);\r\n            }else {\r\n                fill(black);\r\n            }\r\n        }\r\n\r\n        if(mouseButton === LEFT) {\r\n            ellipse(mouseX, mouseY, size, size);\r\n        }\r\n    }\r\n}\r\n\r\nvar size = 2;\r\nvar increment = 2;\r\n\r\nfunction increaseSize(){\r\n  size += increment;\r\n  strokeWeight(size);\r\n  document.getElementById(\"currentsize\").innerHTML = size;\r\n}\r\n\r\nfunction decreaseSize(){\r\n  if(size &gt; increment) size -= increment;\r\n  strokeWeight(size);\r\n  document.getElementById(\"currentsize\").innerHTML = size;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.3/p5.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"controls\"&gt;\r\n  &lt;button onclick=\"increaseSize()\"&gt;BIGGER&lt;/button&gt;\r\n  &lt;button onclick=\"decreaseSize()\"&gt;SMALLER&lt;/button&gt;\r\n  &lt;label id=\"currentsize\"&gt;2&lt;/label&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The points of note being changing the scope of the <code>size</code> variable, the renaming of your <code>S1()</code> function to something more meaningful and the additional button and label in the HTML. Each function will increase or decrease the current size of the ellipse by the amount noted in the <code>increment</code> variable.</p>\n"}], "owner": {"reputation": 71, "user_id": 5640109, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3JfsR-eAHwc/AAAAAAAAAAI/AAAAAAAAANY/4JNAWo4WdwM/photo.jpg?sz=128", "display_name": "Chrissant", "link": "https://stackoverflow.com/users/5640109/chrissant"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 123, "favorite_count": 0, "accepted_answer_id": 54681101, "answer_count": 2, "score": 2, "last_activity_date": 1550111721, "creation_date": 1550100599, "question_id": 54681035, "link": "https://stackoverflow.com/questions/54681035/how-to-i-make-my-button-change-a-variable", "title": "How to I make my button change a variable?", "body": "<p>How do I make my button change a variable?</p>\n\n<p>I'm very new to programming and even newer to p5.js and had this issue while trying to create a very basic drawing software. I am able to draw just fine as well as change the color with a key on my computer, but now I'm trying to add a feature where you can change the size of the cursor to draw bigger or smaller lines. I have created a button on the screen but cannot figure out how to do the previously mentioned task. I have tried making a function that is called when you click the button and that seems like it will work, but I cannot figure out how to do it or where to put it in the code.</p>\n\n<pre><code>function draw() {\n    let yel = color(255, 255, 0);\n    let red = color(255, 0, 0);\n    let black = color(0);\n    let green = color(0, 255, 0);\n    let blue = color(0, 0, 255);\n\n    var size;\n\n    if(mouseIsPressed) {\n        noStroke();\n\n        if(keyIsPressed) {\n            if(keyCode === UP_ARROW) {\n                fill(red);\n            }else if(keyCode === RIGHT_ARROW) {\n                fill(green);\n            }else if(keyCode === LEFT_ARROW) {\n                fill(blue);\n            }else {\n                fill(black);\n            }\n        }\n\n        if(mouseButton === LEFT) {\n            ellipse(mouseX, mouseY, size, size);\n        }\n    }\n}\n</code></pre>\n\n<p>The function that I mentioned above is not in the code currently. All code shown works just fine. I have a button in the html document with a button with an onclick event to activate function 'S1'.</p>\n"}, {"tags": ["javascript", "r", "json", "highcharts", "r-highcharter"], "comments": [{"owner": {"reputation": 1901, "user_id": 8618934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXsRe.png?s=128&g=1", "display_name": "raf18seb", "link": "https://stackoverflow.com/users/8618934/raf18seb"}, "edited": false, "score": 0, "creation_date": 1550139863, "post_id": 54681026, "comment_id": 96164177, "body": "You have a typo in your code - line 7 events, not event. Your code is working fine. Let me know if this was an issue."}, {"owner": {"reputation": 1, "user_id": 11059116, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BJZ68JFvgxA/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOjVLlbCRjtKxFqMIZqWJiUxETphw/mo/photo.jpg?sz=128", "display_name": "LAZAAR", "link": "https://stackoverflow.com/users/11059116/lazaar"}, "reply_to_user": {"reputation": 1901, "user_id": 8618934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXsRe.png?s=128&g=1", "display_name": "raf18seb", "link": "https://stackoverflow.com/users/8618934/raf18seb"}, "edited": false, "score": 0, "creation_date": 1550265341, "post_id": 54681026, "comment_id": 96220040, "body": "Yes it&#39;s working, but not the way I want..what I want is to select columns through drag selection with the zoom disabled."}, {"owner": {"reputation": 1901, "user_id": 8618934, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/HXsRe.png?s=128&g=1", "display_name": "raf18seb", "link": "https://stackoverflow.com/users/8618934/raf18seb"}, "edited": false, "score": 0, "creation_date": 1550438726, "post_id": 54681026, "comment_id": 96258061, "body": "And your code is just doing it. Am I missing something? I will fire your code tomorrow and double check, but I remember that 3 days ago I was able to select points without zooming. Your function in chart.events.selection is working fine."}], "owner": {"reputation": 1, "user_id": 11059116, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BJZ68JFvgxA/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOjVLlbCRjtKxFqMIZqWJiUxETphw/mo/photo.jpg?sz=128", "display_name": "LAZAAR", "link": "https://stackoverflow.com/users/11059116/lazaar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550100552, "creation_date": 1550100552, "question_id": 54681026, "link": "https://stackoverflow.com/questions/54681026/highcharter-r-package-prevent-zoom-event-on-chart-after-making-drag-selection", "title": "Highcharter R package : prevent zoom event on chart after making drag Selection", "body": "<p>I want to make a drag selection on columns without zooming.\nI know that highcharter package in R uses javascript highcharts wrapper, so I tried to apply javascript highcharts logic in R but it doesn't seem to work.\nI also know that I have to use \"event.preventDefault()\" to prevent the zoom option in highcharts, But I don't know how to use it in R.\nThis is what my code looks like:</p>\n\n<pre><code> library(shiny)\n library(highcharter)\n data(\"citytemp\")\n\n hc &lt;- highchart() %&gt;%\n  hc_chart(type=\"column\",\n           event= list(\n             selection = JS(\n               \"function selectPointsByDrag(e) {\n\n                 // Select points\n                 Highcharts.each(this.series, function (series) {\n                   Highcharts.each(series.points, function (point) {\n                     if (point.x &gt;= e.xAxis[0].min &amp;&amp; point.x &lt;= e.xAxis[0].max &amp;&amp;\n                         point.y &gt;= e.yAxis[0].min &amp;&amp; point.y &lt;= e.yAxis[0].max) {\n                       point.select(true, true);\n                     }\n                   });\n                 });\n\n                 // Fire a custom event\n                 Highcharts.fireEvent(this, 'selectedpoints', { points: this.getSelectedPoints() });\n\n                 return false; // Don't zoom\n               }\"\n             )\n           ),\n           zoomType= \"xy\") %&gt;%\n  hc_xAxis(categories = citytemp$month) %&gt;%\n  hc_plotOptions(\n    series = list(\n      borderWidth=0,\n      dataLabels=list(enabled=TRUE),\n      allowPointSelect= TRUE\n    )\n  ) %&gt;%\n  hc_add_series(name = \"Tokyo\", data = citytemp$tokyo) \nhc\n</code></pre>\n\n<p>Please help me, I've tried everything!</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 1145, "user_id": 164545, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/b3e8be884ca4ff5e8e75030bff50d99c?s=128&d=identicon&r=PG", "display_name": "Seanonymous", "link": "https://stackoverflow.com/users/164545/seanonymous"}, "edited": false, "score": 0, "creation_date": 1550101266, "post_id": 54681014, "comment_id": 96151098, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/35871451/page-break-after-does-not-work-in-chrome\">page-break-after does not work in Chrome</a>"}], "owner": {"reputation": 11, "user_id": 9351423, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-WAL4JiajTNY/AAAAAAAAAAI/AAAAAAAAJCQ/6dvthBJE_us/photo.jpg?sz=128", "display_name": "plouie21", "link": "https://stackoverflow.com/users/9351423/plouie21"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 59, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550100443, "creation_date": 1550100443, "question_id": 54681014, "link": "https://stackoverflow.com/questions/54681014/google-chrome-not-accepting-page-breaks", "title": "Google Chrome not accepting page-breaks", "body": "<p>I 've been stuck on getting print styles to work fine on both browsers with no luck so far. Page-breaks seem to work fine in IE but Chrome is not accepting it. I am using this code within my html to break up the sections:</p>\n\n<p><code>&lt;div style=\"page-break-after: always;\"&gt;&amp;nbsp;&lt;/div&gt;</code></p>\n\n<p>And..in my print styles I am targeting this div id. Both browsers can print the jumbotron with no issue, but its just that Chrome is not taking in the page break.</p>\n\n<pre><code>#jumbotron {\n    background-color: white !important; \n    height: auto !important;\n    width: 100% !important;\n    position: absolute !important;\n    top: 0 !important;\n    left: 0 !important;\n    margin: 0px !important;\n    padding: 0px !important;\n    font-size: 14px !important;\n    line-height: normal !important;\n    box-sizing: content-box !important;\n    display: block !important;\n\n}\n#jumbotron{\n    visibility:visible !important;\n}\n</code></pre>\n\n<p>A couple things I also tried were:</p>\n\n<ul>\n<li>remove the absolute position on the jumbotron(which fixes the issue on Chrome) BUT generates a blank PDF on IE.</li>\n<li>Tried to apply page-break-after: always !important: but this made no difference</li>\n</ul>\n\n<p>Any help would be greatly appreciated and thanks in advance!</p>\n"}, {"tags": ["javascript", "html", "reactjs", "cytoscape.js"], "answers": [{"tags": [], "owner": {"reputation": 16, "user_id": 7838376, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88a0612da8971c6163d6777f3e5b25f4?s=128&d=identicon&r=PG&f=1", "display_name": "Huw", "link": "https://stackoverflow.com/users/7838376/huw"}, "is_accepted": true, "score": 0, "last_activity_date": 1574297056, "creation_date": 1574297056, "answer_id": 58965573, "question_id": 54680989, "link": "https://stackoverflow.com/questions/54680989/cytoscapejs-in-react-run-the-layout/58965573#58965573", "title": "CytoscapeJS in React: run the layout", "body": "<p>You need to import another library. Such that:</p>\n\n<pre><code>// import and register the layouts\nimport Cytoscape from \"cytoscape\";\nimport CytoscapeComponent from \"react-cytoscapejs\";\nimport COSEBilkent from \"cytoscape-cose-bilkent\";\n\nCytoscape.use(COSEBilkent);\n</code></pre>\n\n<p>And then call the React component:</p>\n\n<pre><code>&lt;CytoscapeComponent /&gt; instead of &lt;Cytoscape /&gt; as you have done.\n</code></pre>\n"}], "owner": {"reputation": 21361, "user_id": 3834415, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/pdydZ.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3834415/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 748, "favorite_count": 0, "accepted_answer_id": 58965573, "answer_count": 1, "score": 0, "last_activity_date": 1574297056, "creation_date": 1550100243, "question_id": 54680989, "link": "https://stackoverflow.com/questions/54680989/cytoscapejs-in-react-run-the-layout", "title": "CytoscapeJS in React: run the layout", "body": "<p>I have cytoscape in react using plotly's cytoscape for react, <a href=\"https://github.com/plotly/react-cytoscapejs\" rel=\"nofollow noreferrer\">here</a>. </p>\n\n<p>I have performed the following steps: </p>\n\n<pre><code>// import and register the layouts\nimport Cytoscape from 'cytoscape';  \nimport COSEBilkent from 'cytoscape-cose-bilkent'; \n\nCytoscape.use(COSEBilkent);  \n</code></pre>\n\n<p>And I am rendering my graph inside the component (elements are properly formed):</p>\n\n<pre><code>render() {\n...\nlet elements = ...\nconst layout = {name:'cose-bilkent'}; \n...\n&lt;Cytoscape\nelements={elements} \nstyle={{width:'1635px',height:'1114px'}} \nlayout={layout}\n/&gt;\n</code></pre>\n\n<p>And yet the nodes retain their default positions upon rendering.  I have not yet had much time to work with react.  Is there a simple step that I am missing in order to get this graph to render with a layout?  </p>\n"}, {"tags": ["javascript", "jquery", "css"], "comments": [{"owner": {"reputation": 947, "user_id": 7372897, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/fef45f6e174d50b0fb51c2069653b3c6?s=128&d=identicon&r=PG&f=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/7372897/jake"}, "edited": false, "score": 0, "creation_date": 1550100776, "post_id": 54680988, "comment_id": 96150974, "body": "Good question, I would just add that unless you make this into a working script (by using a code snippet) I would suggest taking out all of the unnecessary code that isn&#39;t directly involved with your question. You can learn more about that <a href=\"https://stackoverflow.com/help/mcve\">here</a>. I hope this helps!"}, {"owner": {"reputation": 671, "user_id": 949258, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b082cd903a6a1957a6d63d1f8e9c8818?s=128&d=identicon&r=PG", "display_name": "sn3p", "link": "https://stackoverflow.com/users/949258/sn3p"}, "edited": false, "score": 0, "creation_date": 1550101032, "post_id": 54680988, "comment_id": 96151033, "body": "I can&#39;t get your code to work, and looks like your CSS is incomplete. Would be helpful if you provide a code snippet like Jake suggested."}, {"owner": {"reputation": 13, "user_id": 11012810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5726febc8fa831389cab271b0f19013?s=128&d=identicon&r=PG&f=1", "display_name": "Desmond ade", "link": "https://stackoverflow.com/users/11012810/desmond-ade"}, "edited": false, "score": 0, "creation_date": 1550102160, "post_id": 54680988, "comment_id": 96151351, "body": "Ok i will take out all unnecessary code as you said"}, {"owner": {"reputation": 13, "user_id": 11012810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5726febc8fa831389cab271b0f19013?s=128&d=identicon&r=PG&f=1", "display_name": "Desmond ade", "link": "https://stackoverflow.com/users/11012810/desmond-ade"}, "edited": false, "score": 0, "creation_date": 1550102201, "post_id": 54680988, "comment_id": 96151363, "body": "So i guess the problem is with my jquery"}, {"owner": {"reputation": 13, "user_id": 11012810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5726febc8fa831389cab271b0f19013?s=128&d=identicon&r=PG&f=1", "display_name": "Desmond ade", "link": "https://stackoverflow.com/users/11012810/desmond-ade"}, "edited": false, "score": 0, "creation_date": 1550102277, "post_id": 54680988, "comment_id": 96151389, "body": "I have changed it to a code snippet"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 11012810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5726febc8fa831389cab271b0f19013?s=128&d=identicon&r=PG&f=1", "display_name": "Desmond ade", "link": "https://stackoverflow.com/users/11012810/desmond-ade"}, "edited": false, "score": 0, "creation_date": 1550103082, "post_id": 54681277, "comment_id": 96151639, "body": "Woow awsome just what i need"}], "tags": [], "owner": {"reputation": 2021, "user_id": 903014, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/bnzFu.jpg?s=128&g=1", "display_name": "Steve0", "link": "https://stackoverflow.com/users/903014/steve0"}, "is_accepted": false, "score": 0, "last_activity_date": 1550158714, "last_edit_date": 1550158714, "creation_date": 1550102336, "answer_id": 54681277, "question_id": 54680988, "link": "https://stackoverflow.com/questions/54680988/jquery-animate-a-div-character-in-a-game/54681277#54681277", "title": "Jquery animate a div character in a game", "body": "<p>Here is a sample that returns the bullet to the player after it reaches the top.  It uses the <code>done</code> option of <a href=\"http://api.jquery.com/animate/\" rel=\"nofollow noreferrer\"><code>animate()</code></a> and <a href=\"https://stackoverflow.com/a/6553745/903014\">this answer</a> to return the bullet.</p>\n\n<p>It is important when the animation is done not to remove the entire style attribute with <code>$(\"#bullet\").removeAttr(\"style\")</code> or similar because that would remove the x-coordinate and place the bullet off to the left until the mouse moves again.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//Control mouse movement and bullet movement\r\n$(document).ready(function() {\r\n  $('body').mousemove(function(event) {\r\n    var msg = 'Handler for mouse called at'\r\n    //moves bullet to current mouse position and player position\r\n    $('#bullet').css({\r\n      'left': event.pageX\r\n    })\r\n    //moves player to the current mouse postion\r\n    $('#player').css({\r\n      'left': event.pageX\r\n    })\r\n  })\r\n})\r\n\r\n//Fires bullet\r\n$('body').click(function() {\r\n  $('#bullet').animate({\r\n    'bottom': '500px'\r\n  }, {\r\n    done: function() {\r\n      $('#bullet').attr('style', function(i, style) {\r\n        return style &amp;&amp; style.replace(/bottom[^;]+;?/g, '');\r\n      });\r\n    }\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#player {\r\n  height: 50px;\r\n  width: 50px;\r\n  background-color: red;\r\n  position: relative;\r\n}\r\n\r\n#bullet {\r\n  margin-top: 550px;\r\n  height: 25px;\r\n  width: 15px;\r\n  position: relative;\r\n  margin-left: 18px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;!--Import Google Icon Font--&gt;\r\n  &lt;link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\" rel=\"stylesheet\"&gt;\r\n  &lt;link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css\"&gt;\r\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" /&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body class=\"blue lighten-4\" id=\"body\"&gt;\r\n  &lt;div class=\"orange darken-1\" id=\"bullet\"&gt;\r\n  &lt;/div&gt;\r\n  &lt;div class=\"\" id=\"player\"&gt;\r\n  &lt;/div&gt;\r\n\r\n\r\n\r\n\r\n  &lt;footer class=\"page-footer green lighten-1\" id=\"footer\"&gt;\r\n    &lt;div class=\"container\"&gt;\r\n      &lt;div class=\"row\"&gt;\r\n        &lt;div class=\"col l6 s12\"&gt;\r\n          &lt;!-- &lt;h5 class=\"green-text lighten-1\"&gt;Footer Content&lt;/h5&gt;\r\n                &lt;p class=\"green-text lighten-1\"&gt;You can use rows and columns here to organize your footer content.&lt;/p&gt; --&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"col l4 offset-l2 s12\"&gt;\r\n          &lt;!-- &lt;h5 class=\"white-text\"&gt;Links&lt;/h5&gt;--&gt;\r\n          &lt;ul&gt;\r\n            &lt;!--  &lt;li&gt;&lt;a class=\"grey-text text-lighten-3\" href=\"#!\"&gt;Link 1&lt;/a&gt;&lt;/li&gt;\r\n                  &lt;li&gt;&lt;a class=\"grey-text text-lighten-3\" href=\"#!\"&gt;Link 2&lt;/a&gt;&lt;/li&gt;\r\n                  &lt;li&gt;&lt;a class=\"grey-text text-lighten-3\" href=\"#!\"&gt;Link 3&lt;/a&gt;&lt;/li&gt;\r\n                  &lt;li&gt;&lt;a class=\"grey-text text-lighten-3\" href=\"#!\"&gt;Link 4&lt;/a&gt;&lt;/li&gt; --&gt;\r\n          &lt;/ul&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;div class=\"footer-copyright\"&gt;\r\n      &lt;div class=\"container\"&gt;\r\n        &lt;!--  \u00a9 2014 Copyright Text\r\n            &lt;a class=\"grey-text text-lighten-4 right\" href=\"#!\"&gt;More Links&lt;/a&gt; --&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/footer&gt;\r\n\r\n  &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js\"&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 11012810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f5726febc8fa831389cab271b0f19013?s=128&d=identicon&r=PG&f=1", "display_name": "Desmond ade", "link": "https://stackoverflow.com/users/11012810/desmond-ade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1550158714, "creation_date": 1550100229, "last_edit_date": 1550102244, "question_id": 54680988, "link": "https://stackoverflow.com/questions/54680988/jquery-animate-a-div-character-in-a-game", "title": "Jquery animate a div character in a game", "body": "<p>I am trying to experiment with Jquery by writing a small game where i am using html div's as game character, so i have this div with id bullet attach to another div with id player, so i have bind on click action to body so that when user click any part of the page body the player fires the button and i am using the Jquery animate method to do that and it works fine except the bullet goes and remain at the top of the page, whereas i want a case where player can fire many bullets at the same time so how can i achieve this. I do not want my bullet div to go and stick at the top.</p>\n\n<p>app.js file </p>\n\n<pre><code>//Control mouse movement and bullet movement\n$(document).ready(function(){\n    $('body').mousemove(function(event){\n        var msg = 'Handler for mouse called at'\n        //moves bullet to current mouse position and player position\n        $('#bullet').css({'left':event.pageX})\n        //moves player to the current mouse postion\n        $('#player').css({'left':event.pageX})\n    })\n})\n\n//Fires bullet\n$('body').click(function(){\n    $('#bullet').animate({'bottom':'500px'})\n\n})\n\n</code></pre>\n"}, {"tags": ["javascript", "mongodb", "mongodb-query", "aggregation-framework"], "comments": [{"owner": {"reputation": 885, "user_id": 7692506, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2ef258b7c5d97d006342fe88b37c4135?s=128&d=identicon&r=PG&f=1", "display_name": "Neil.Work", "link": "https://stackoverflow.com/users/7692506/neil-work"}, "edited": false, "score": 0, "creation_date": 1550111096, "post_id": 54680859, "comment_id": 96153506, "body": "I would fill in blanks on the backend after the mongo query but before the front end."}], "answers": [{"comments": [{"owner": {"reputation": 3331, "user_id": 3312117, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/n2PUO.jpg?s=128&g=1", "display_name": "Kerumen", "link": "https://stackoverflow.com/users/3312117/kerumen"}, "edited": false, "score": 0, "creation_date": 1550164912, "post_id": 54683857, "comment_id": 96179235, "body": "Thanks, that what I initially thought, I need to do it in JavaScript"}], "tags": [], "owner": {"reputation": 36192, "user_id": 7510657, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/jsd77.jpg?s=128&g=1", "display_name": "Ashh", "link": "https://stackoverflow.com/users/7510657/ashh"}, "is_accepted": true, "score": 0, "last_activity_date": 1550122722, "creation_date": 1550122722, "answer_id": 54683857, "question_id": 54680859, "link": "https://stackoverflow.com/questions/54680859/add-empty-buckets-in-mongo-aggregation/54683857#54683857", "title": "Add empty buckets in mongo aggregation", "body": "<p>You can use below aggregation</p>\n\n<pre><code>db.collection.aggregate([\n  { \"$facet\": {\n    \"data\": [\n      { \"$bucket\": {\n        \"groupBy\": \"$ranking\",\n        \"boundaries\": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 11]\n      }}\n    ]\n  }},\n  { \"$addFields\": {\n    \"data\": {\n      \"$map\": {\n        \"input\": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 11],\n        \"as\": \"i\",\n        \"in\": {\n          \"_id\": \"$$i\",\n          \"count\": {\n            \"$cond\": [\n              { \"$eq\": [{ \"$indexOfArray\": [\"$data._id\", \"$$i\"] }, -1] },\n              0,\n              { \"$arrayElemAt\": [\"$data.count\", { \"$indexOfArray\": [\"$data._id\", \"$$i\"] }] }\n            ]\n          }\n        }\n      }\n    }\n  }},\n  { \"$unwind\": \"$data\" },\n  { \"$replaceRoot\": { \"newRoot\": \"$data\" }}\n])\n</code></pre>\n\n<p>But better to do with javascript </p>\n\n<pre><code>const array = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 11]\nconst array2 = [\n  { \"_id\": 3, \"count\": 6 },\n  { \"_id\": 4, \"count\": 98 },\n  { \"_id\": 5, \"count\": 81 },\n  { \"_id\": 6, \"count\": 25 },\n  { \"_id\": 7, \"count\": 4 }\n]\n\narray.map((ar) =&gt; {\n  const index = array2.map((e) =&gt; { return e._id }).indexOf(ar)\n  if (index === -1) {\n    array2.push({ _id: ar, count: 0 })\n  }\n})\n\nconsole.log(array2)\n</code></pre>\n"}], "owner": {"reputation": 3331, "user_id": 3312117, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/n2PUO.jpg?s=128&g=1", "display_name": "Kerumen", "link": "https://stackoverflow.com/users/3312117/kerumen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 443, "favorite_count": 0, "accepted_answer_id": 54683857, "answer_count": 1, "score": 2, "last_activity_date": 1550125949, "creation_date": 1550099466, "last_edit_date": 1550125949, "question_id": 54680859, "link": "https://stackoverflow.com/questions/54680859/add-empty-buckets-in-mongo-aggregation", "title": "Add empty buckets in mongo aggregation", "body": "<p>I have the following aggregation:</p>\n\n<pre><code>const buckets = await StatisticModel.aggregate([\n  {\n    $bucket: {\n      groupBy: '$ranking',\n      boundaries: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 11],\n    },\n  },\n])\n</code></pre>\n\n<p>Which returns the following object:</p>\n\n<pre><code>[\n  {\n    \"_id\": 3,\n    \"count\": 6\n  },\n  {\n    \"_id\": 4,\n    \"count\": 98\n  },\n  {\n    \"_id\": 5,\n    \"count\": 81\n  },\n  {\n    \"_id\": 6,\n    \"count\": 25\n  },\n  {\n    \"_id\": 7,\n    \"count\": 4\n  }\n]\n</code></pre>\n\n<p>How can I add the missing (empty) buckets?</p>\n\n<p>This is a simple example but I have more complexe ones where I generate the boundaries and I want to return to the front-end all the buckets and not only the filled ones.</p>\n"}, {"tags": ["javascript", "vimeo"], "comments": [{"owner": {"reputation": 1175, "user_id": 1175455, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4gpIG.jpg?s=128&g=1", "display_name": "Harry Cutts", "link": "https://stackoverflow.com/users/1175455/harry-cutts"}, "edited": false, "score": 1, "creation_date": 1550100282, "post_id": 54680856, "comment_id": 96150844, "body": "I think &quot;the document&quot; here refers to the document in the <code>&lt;iframe&gt;</code>, not the document containing your play button."}, {"owner": {"reputation": 811, "user_id": 10746956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a98baa62bfb37b28e7ce82086ea79565?s=128&d=identicon&r=PG&f=1", "display_name": "cb64", "link": "https://stackoverflow.com/users/10746956/cb64"}, "edited": false, "score": 0, "creation_date": 1550101603, "post_id": 54680856, "comment_id": 96151202, "body": "Your code doesn&#39;t really make sense, are you trying to change the play button inside the player or your own custom button? The button outside the video player that you&#39;re creating yourself is almost useless. Your code works fine if you change all instance of <code>player</code> to <code>vimeoPlayer</code> as that is the variable you&#39;re initializing. Can you please explain in more detail what you&#39;re trying to do?"}, {"owner": {"reputation": 1219, "user_id": 7771253, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/nOyPX.jpg?s=128&g=1", "display_name": "froggomad", "link": "https://stackoverflow.com/users/7771253/froggomad"}, "reply_to_user": {"reputation": 811, "user_id": 10746956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a98baa62bfb37b28e7ce82086ea79565?s=128&d=identicon&r=PG&f=1", "display_name": "cb64", "link": "https://stackoverflow.com/users/10746956/cb64"}, "edited": false, "score": 2, "creation_date": 1553024866, "post_id": 54680856, "comment_id": 97230517, "body": "@cb64 it&#39;s meant to be an overlay. The CSS here isn&#39;t perfect, but that&#39;s of little consequence. Whether my code &quot;makes sense&quot; to you or you &quot;understand the purpose&quot; is irrelevant to the question of why an autoplay error is being thrown when the document is clearly being interacted with"}], "answers": [{"tags": [], "owner": {"reputation": 1219, "user_id": 7771253, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/nOyPX.jpg?s=128&g=1", "display_name": "froggomad", "link": "https://stackoverflow.com/users/7771253/froggomad"}, "is_accepted": true, "score": 16, "last_activity_date": 1550102209, "creation_date": 1550102209, "answer_id": 54681263, "question_id": 54680856, "link": "https://stackoverflow.com/questions/54680856/play-failed-because-the-user-didnt-interact-with-the-document-first-on-clic/54681263#54681263", "title": "play() failed because the user didn&#39;t interact with the document first - on click event using Vimeo API", "body": "<p>I was missing allow=\"autoplay\" in iframe's attributes</p>\n\n<pre><code>&lt;iframe id=\"video-player\" class=\"video\" width=\"560\" height=\"315\" src=\"https://player.vimeo.com/video/309741585\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen allow=\"autoplay\"&gt;&lt;/iframe&gt;\n</code></pre>\n"}], "owner": {"reputation": 1219, "user_id": 7771253, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/nOyPX.jpg?s=128&g=1", "display_name": "froggomad", "link": "https://stackoverflow.com/users/7771253/froggomad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 21928, "favorite_count": 0, "accepted_answer_id": 54681263, "answer_count": 1, "score": 5, "last_activity_date": 1572441772, "creation_date": 1550099459, "last_edit_date": 1572441772, "question_id": 54680856, "link": "https://stackoverflow.com/questions/54680856/play-failed-because-the-user-didnt-interact-with-the-document-first-on-clic", "title": "play() failed because the user didn&#39;t interact with the document first - on click event using Vimeo API", "body": "<p>I'm assuming an onclick event counts as interacting with the document, so not sure why an autoplay error is being thrown</p>\n\n<blockquote>\n  <p>Uncaught (in promise) NotAllowedError: play() failed because the user didn't interact with the document first.</p>\n</blockquote>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const playbtn = document.getElementById('playbtn');\r\nconst player = document.getElementById('video-player');\r\nconst vimeoPlayer = new Vimeo.Player(player);\r\nplaybtn.onclick = function() {\r\n  playbtn.style.display = \"none\";\r\n  vimeoPlayer.play();\r\n}\r\nvimeoPlayer.on('pause', function() {\r\n  playbtn.style.display = \"block\";\r\n});\r\nvimeoPlayer.on('play', function() {\r\n  playbtn.style.display = \"none\";\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>i {\r\n  position: absolute;\r\n  color: white;\r\n}\r\n.fa-play-circle {\r\n        display: block;\r\n        position: absolute;\r\n        left: 50%;\r\n        top: 50%;\r\n        font-size: 20rem;\r\n        -webkit-transform:  translateX(-50%, -50%);\r\n        -moz-transform:     translate(-50%, -50%);\r\n        -ms-transform:      translate(-50%, -50%);\r\n        -o-transform:       translate(-50%, -50%);\r\n        transform:          translate(-50%, -50%);\r\n        z-index: 2;\r\n        color: white;\r\n        color: rgba(255,255,255,0.75);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.7.2/css/all.css\" integrity=\"sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr\" crossorigin=\"anonymous\"&gt;\r\n&lt;script src=\"https://player.vimeo.com/api/player.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"video-outer-full\"&gt;\r\n  &lt;div id=\"video-inner\"&gt;\r\n    &lt;i class=\"far fa-play-circle\" id=\"playbtn\"&gt;&lt;/i&gt;\r\n    &lt;iframe id=\"video-player\" class=\"video\" width=\"560\" height=\"315\" src=\"https://player.vimeo.com/video/309741585\" frameborder=\"0\" webkitallowfullscreen mozallowfullscreen allowfullscreen&gt;&lt;/iframe&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 5287, "user_id": 1813169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/wTAkF.jpg?s=128&g=1", "display_name": "MTCoster", "link": "https://stackoverflow.com/users/1813169/mtcoster"}, "edited": false, "score": 1, "creation_date": 1550099736, "post_id": 54680795, "comment_id": 96150690, "body": "Your codepen is over 10k lines of code. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> which reproduces your problem."}], "answers": [{"tags": [], "owner": {"reputation": 37962, "user_id": 13198, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/fb8927d5b991779b43ae5e35bf7cb9aa?s=128&d=identicon&r=PG", "display_name": "TheVillageIdiot", "link": "https://stackoverflow.com/users/13198/thevillageidiot"}, "is_accepted": false, "score": 0, "last_activity_date": 1550099808, "creation_date": 1550099808, "answer_id": 54680909, "question_id": 54680795, "link": "https://stackoverflow.com/questions/54680795/how-can-i-exclude-elements-from-the-function-effect/54680909#54680909", "title": "How can I exclude elements from the function effect", "body": "<p>You are finding and then looping over every image on the page to remove it. Instead of <code>var images = document.getElementsByTagName('img');</code> try getting images in the <strong>container</strong> and then replace them.</p>\n\n<pre><code>function display_random_image() {\n    ....\n    var newImage = getRandomInt(0, preBuffer.length - 1);\n\n    //GET THE CONTAINER FIRST\n    var targetContainer = document.getElementsByClassName(\"container\")[0];\n    //FIND THE IMAGES IN CONTAINER ONLY\n    var images = targetContainer.getElementsByTagName('img');\n    var l = images.length;\n    for (var p = 0; p &lt; l; p++) {\n        images[0].remove();\n    }\n    // display the image\n    targetContainer.appendChild(newImage);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 49973, "user_id": 46387, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/f21bda50069eba70879c3204a6788315?s=128&d=identicon&r=PG", "display_name": "Ben Blank", "link": "https://stackoverflow.com/users/46387/ben-blank"}, "is_accepted": true, "score": 0, "last_activity_date": 1550099897, "creation_date": 1550099897, "answer_id": 54680927, "question_id": 54680795, "link": "https://stackoverflow.com/questions/54680795/how-can-i-exclude-elements-from-the-function-effect/54680927#54680927", "title": "How can I exclude elements from the function effect", "body": "<p>If <code>container</code> is the only place where there will be images you want to remove (for example, the previous image), you can iterate over just the images it contains, rather than all images in the document.  For example:</p>\n\n<pre><code>// remove the previous images\nvar targetContainer = document.getElementsByClassName(\"container\")[0];\nvar images = targetContainer.getElementsByTagName('img');\nvar l = images.length;\nfor (var p = 0; p &lt; l; p++) {\n    images[0].parentNode.removeChild(images[0]);\n}\n// display the image\ntargetContainer.appendChild(newImage);\n</code></pre>\n\n<p>Note that <code>var targetContainer</code> was moved to the top, that the <code>[0]</code> was added to it, and that <code>images</code> is now coming from <code>targetContainer.getElementsByTagName</code>.</p>\n\n<p><a href=\"https://codepen.io/anon/pen/pGOoam\" rel=\"nofollow noreferrer\">Codepen</a></p>\n"}], "owner": {"reputation": 39, "user_id": 3047469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14574b19a7b31e6fe0b2f2f4941e42b9?s=128&d=identicon&r=PG&f=1", "display_name": "user3047469", "link": "https://stackoverflow.com/users/3047469/user3047469"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 54680927, "answer_count": 2, "score": 2, "last_activity_date": 1550099897, "creation_date": 1550099142, "question_id": 54680795, "link": "https://stackoverflow.com/questions/54680795/how-can-i-exclude-elements-from-the-function-effect", "title": "How can I exclude elements from the function effect", "body": "<p>In this page when the user click \"Show Image\" button, a random image appear. that's good. I need the script only affect this image.</p>\n\n<p>The problem is the header image disappear too, and I need to keep all other images displayed.\nI need a solution</p>\n\n<p>Code here:\n<a href=\"https://codepen.io/Haitham1000/pen/aXjYzz\" rel=\"nofollow noreferrer\">https://codepen.io/Haitham1000/pen/aXjYzz</a></p>\n\n<pre><code>function display_random_image() \n{\nvar theImages = [{\nsrc: \"http://farm4.staticflickr.com/3691/11268502654_f28f05966c_m.jpg\",\nwidth: \"240\",\nheight: \"160\"\n}, {\nsrc: \"http://farm1.staticflickr.com/33/45336904_1aef569b30_n.jpg\",\nwidth: \"320\",\nheight: \"195\"\n}, {\nsrc: \"http://farm6.staticflickr.com/5211/5384592886_80a512e2c9.jpg\",\nwidth: \"500\",\nheight: \"343\"\n}];\n\nvar preBuffer = [];\nfor (var i = 0, j = theImages.length; i &lt; j; i++) {\npreBuffer[i] = new Image();\npreBuffer[i].src = theImages[i].src;\npreBuffer[i].width = theImages[i].width;\npreBuffer[i].height = theImages[i].height;\n}\n\n// create random image number\nfunction getRandomInt(min,max) \n{\n//  return Math.floor(Math.random() * (max - min + 1)) + min;\n\nimn = Math.floor(Math.random() * (max - min + 1)) + min;\nreturn preBuffer[imn];\n}  \n\n// 0 is first image,   preBuffer.length - 1) is  last image\n\nvar newImage = getRandomInt(0, preBuffer.length - 1);\n\n// remove the previous images\nvar images = document.getElementsByTagName('img');\nvar l = images.length;\nfor (var p = 0; p &lt; l; p++) {\nimages[0].parentNode.removeChild(images[0]);\n}\n// display the image  \nvar targetContainer = document.getElementsByClassName(\"container\");\ntargetContainer[0].appendChild(newImage);\n}\n</code></pre>\n"}, {"tags": ["javascript", "json"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1550098736, "post_id": 54680728, "comment_id": 96150392, "body": "Your JSON is invalid unless those <i>objects</i> are in an array"}, {"owner": {"reputation": 33, "user_id": 6100848, "user_type": "registered", "profile_image": "https://graph.facebook.com/1131206043558133/picture?type=large", "display_name": "Kevin Phillips", "link": "https://stackoverflow.com/users/6100848/kevin-phillips"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1550099876, "post_id": 54680728, "comment_id": 96150727, "body": "They are, I just left out the opening/closing [ ] here."}, {"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1550100369, "post_id": 54680728, "comment_id": 96150864, "body": "<code>readme.filter(item =&gt; item.id === 1)</code>"}, {"owner": {"reputation": 2228, "user_id": 5276055, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-im4m3aaPdVQ/AAAAAAAAAAI/AAAAAAAABl4/b2kMrUWyDQ0/photo.jpg?sz=128", "display_name": "pschild", "link": "https://stackoverflow.com/users/5276055/pschild"}, "edited": false, "score": 0, "creation_date": 1550100381, "post_id": 54680728, "comment_id": 96150868, "body": "Assuming you have loaded your JSON properly, you could retrieve a specific item in your array by using <code>const searchedItem = itemsArray.find(item =&gt; item.id === 1)</code>. This e.g. returns only the item with id 1."}], "owner": {"reputation": 33, "user_id": 6100848, "user_type": "registered", "profile_image": "https://graph.facebook.com/1131206043558133/picture?type=large", "display_name": "Kevin Phillips", "link": "https://stackoverflow.com/users/6100848/kevin-phillips"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "closed_date": 1550098797, "answer_count": 0, "score": 0, "last_activity_date": 1550101679, "creation_date": 1550098673, "question_id": 54680728, "link": "https://stackoverflow.com/questions/54680728/how-can-i-get-the-contents-of-a-specific-object-in-a-json-file", "closed_reason": "Duplicate", "title": "How Can I Get the Contents of A Specific Object in A JSON File?", "body": "<p>I have a json file containing a number of objects. I can get the entire contents of the file back with node fs so far, but I need to get the contents of a specific object. I'm thinking I'd want to set up the javascript to accept a variable like 0 or 1 that indicates which object I want to retrieve. Is that possible?</p>\n\n<p>I have the json file set up and have tried to read it by following a tutorial that seemed close to what I want to accomplish.</p>\n\n<p>Here's the javascript:</p>\n\n<pre><code>var fs = require('fs');\n\nvar readMe = fs.readFileSync('../cards.json','utf8');\nconsole.log(readMe);\n</code></pre>\n\n<p>Here's the first 2 objects in the json file:</p>\n\n<pre><code>{\n\"id\": 0,\n\"name\": \"Das Ungeteilte\",\n\"image\": \"images/undivided72.jpg\",\n\"generation\": 1,\n\"realm\": \"Mystical\",\n\"faction\": \"Magical\",\n\"level\": 9999,\n\"speed\": 9999,\n\"power\": 9999,\n\"agility\": 9999,\n\"durability\": 9999,\n\"wisdom\": 9999,\n\"intuition\": 9999\n},\n{\n\"id\": 1,\n\"name\": \"Purba\",\n\"image\": \"images/purba72.jpg\",\n\"generation\": 1,\n\"realm\": \"Eastern\",\n\"faction\": \"Purba\",\n\"level\": 10,\n\"speed\": 10,\n\"power\": 10,\n\"agility\": 10,\n\"durability\": 10,\n\"wisdom\": 10,\n\"intuition\": 10\n}\n</code></pre>\n\n<p>Right now if I output the javascript to my console I get all the objects in the file. What I want to do is be able to get back the contents of the object with id 1 from the file so I can then do other things with the data.</p>\n"}, {"tags": ["javascript", "reactjs", "redux", "state", "store"], "answers": [{"tags": [], "owner": {"reputation": 927, "user_id": 823922, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/8c2f93fcb646aadee0bba1cfc129e131?s=128&d=identicon&r=PG", "display_name": "Sava B.", "link": "https://stackoverflow.com/users/823922/sava-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1550100212, "last_edit_date": 1550100212, "creation_date": 1550099743, "answer_id": 54680900, "question_id": 54680686, "link": "https://stackoverflow.com/questions/54680686/set-store-as-reducers-state-parameter/54680900#54680900", "title": "Set `store` as reducer&#39;s `state` parameter", "body": "<p>If I remember correctly, when you pass your reducer to combineReducers, that reducer will receive the redux module state (so, what the initialState was, not the entire app's root state object). You don't have access to state from other reducers. </p>\n\n<p>You have a few options. </p>\n\n<p>I think having separate reducers for <code>password</code> and <code>passwordCheck</code> is somewhat overkill. I would go with one reducer for the entire form:</p>\n\n<pre><code>const initialState = {\n    password: '',\n    passwordCheck: '',\n    // ....\n}\n\nexport const signupReducer = (state=initialState, action) =&gt; {\n    const { payload, type } = action;\n\n    switch(type) {\n        case CHANGE_PASSWORD:\n            return { ...state, password: action.password}\n        case CHANGE_PASSWORDCHECK:\n            const passwordCheck = payload;\n            if (state.password != state.passwordCheck) \n                return { ...state, passwordCheck, error: \"...\"}; // or something like this\n\n            return {\n                ...state,\n                passwordCheck\n            };\n        default: \n            return state;\n    }\n};\n\n</code></pre>\n\n<p>If you want to split things up, you can always define reducers, and call them from a parent reducer, passing the whole parent-reducer state. Something like:</p>\n\n<pre><code>import passwordReducer from './passwordReducer'\nimport passwordCheckReducer form './passwordCheckReducer'\n\nexport const signupReducer(state = initialState, action) =&gt; {\n    state = passwordReducer(state, action)\n    state = passwordCheckReducer(state, action)\n    return state\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 495, "user_id": 10244451, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9d-ELsLEUZg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOMNDUq61M_isvrLcKETkeucXM_xA/mo/photo.jpg?sz=128", "display_name": "Jeremy Gottfried", "link": "https://stackoverflow.com/users/10244451/jeremy-gottfried"}, "is_accepted": false, "score": 0, "last_activity_date": 1550100333, "last_edit_date": 1550100333, "creation_date": 1550099800, "answer_id": 54680907, "question_id": 54680686, "link": "https://stackoverflow.com/questions/54680686/set-store-as-reducers-state-parameter/54680907#54680907", "title": "Set `store` as reducer&#39;s `state` parameter", "body": "<p>If you are combining reducers, there is only one store object which stores all of the state from every reducer. </p>\n\n<p>So you can access multiple reducers from one component like this: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const mapStateToProps = state =&gt; ({\r\n  password: state.passwordChange.password,\r\n  passwordCheck: state.passwordCheckChange.passwordCheck,\r\n  passwordsMatch: state.passwordCheckChange.passwordsMatch\r\n})\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SignUp)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Every time you update <code>passwordCheck</code> or <code>password</code>, your component's props will be updated. </p>\n\n<p>So the best solution is actually to handle the passwordsMatch as a custom prop derived from the state of the two separate reducers. Something like: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const mapStateToProps = state =&gt; {\r\n  const passwordsMatch = state.passwordChange.password === state.passwordCheckChange.passwordCheck\r\n  return {\r\n    password: state.passwordChange.password, \r\n    passwordCheck: state.passwordCheckChange.passwordCheck,\r\n    passwordsMatch: passwordsMatch\r\n  }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 163, "user_id": 9436707, "user_type": "registered", "profile_image": "https://graph.facebook.com/1481942451927680/picture?type=large", "display_name": "Henrique Guerra", "link": "https://stackoverflow.com/users/9436707/henrique-guerra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 492, "favorite_count": 0, "accepted_answer_id": 54680900, "answer_count": 2, "score": 1, "last_activity_date": 1550100333, "creation_date": 1550098416, "question_id": 54680686, "link": "https://stackoverflow.com/questions/54680686/set-store-as-reducers-state-parameter", "title": "Set `store` as reducer&#39;s `state` parameter", "body": "<p>I'm new to Redux (and React as well) so this is probably a very elementar question, but I was unable to find a straight answer for it over the Internet.</p>\n\n<p>There is a sign up screen on my app that I call <code>SignUp</code>. It is pretty straightforward and have just three inputs (<code>email</code>, <code>password</code> and <code>passwordCheck</code>) and one button (<code>signup</code>).\nThing is, I want to make my user life as simple as possible, so as <code>passwordCheck</code> is changed, I check it against <code>password</code>. If them match, <code>signup</code> is setted enabled and if them don't, <code>signup</code> goes disabled and a message is show to the user.\nWhen I was using only React things were pretty simple - I simply made a <code>this.state</code>: </p>\n\n<pre><code>this.state: {\n    // ... stuff\n    password: \"\",\n    passwordIsValid: false, //test password against a predicate function\n    passwordMessage: \"\", //if the password is not valid there is a message\n    passwordStyle: \"\", //if password is wrong i put some classes here\n    passwordCheck: \"\",\n    passwordCheckMessage: \"\", //the 'passwords do not match' message goes here\n    passwordCheckStyle: \"\",\n    passwordsMatch: false\n}\n</code></pre>\n\n<p>And then I handled the app's state inside <code>SignUp</code>.\nNow I'm using Redux as well, so I killed <code>this.state</code>, moved everything to <code>store</code> and started using reducers instead of handlers.\nEverything works for <code>password</code>, but <code>passwordCheck</code> is a different story. Since I need to know Store's <code>password</code> to check it against <code>passwordCheck</code> I have been unable (so far?) to do it on <code>passwordCheckReducer</code>. Instead, I removed <code>passwordCheckMessage</code>, <code>passwordCheckStyle</code> and <code>passwordsMatch</code> from <code>passwordCheckReducer</code>, calculating this values on <code>SignUp</code>. It seems to me as a very wrong and ugly way to settle the whole thing down though.</p>\n\n<p>So, instead, I would like a more elegant and Redux-like solution.</p>\n\n<p>If I could get <code>store</code> to be on <code>passwordCheckReducer</code>'s <code>state</code> I would be able to set <code>passwordsMatch</code> and the others in the reducer while keeping it pure. Unfortunately, I have been unable to do it (so far?).\nSo, I would like to know if what I want to do is possible or if there's others, more desirables, ways to do it.</p>\n\n<p>OBS1: Wherever I look on the Internet, I found the Redux official documentation on the subject of initializing state<a href=\"https://redux.js.org/recipes/structuring-reducers/initializing-state\" rel=\"nofollow noreferrer\">1</a>. I do not think <code>preloadedState</code> is the way to resolve my problem, though, since it is used to iniatilize <code>store</code>, not to make it avaiable on my reducers. Instead, I simply need to have <code>store</code> - even when empty - visible to <code>passwordCheckReducer</code>.\nOBS2: I know I could pass <code>store</code> as a key of <code>action</code>, but since the reducer pattern includes a <code>state</code> argument it seems redundant to me to define pass such in <code>action</code>.</p>\n\n<p>Here is my Store:</p>\n\n<pre><code>// store.js\nimport { applyMiddleware, createStore } from 'redux';\nimport { createLogger } from 'redux-logger';\nimport thunkMiddleare from 'redux-thunk';\nimport { Reducers } from '../reducers/reducers';\n\nconst logger = createLogger();\nconst middleware = applyMiddleware(thunkMiddleare, logger);\n\nexport const Store = createStore(Reducers, middleware);\n</code></pre>\n\n<p>I'm using <code>combineReducers</code>:</p>\n\n<pre><code>// reducers.js\nimport { combineReducers } from 'redux';\nimport { emailReducer } from './emailReducer';\nimport { passwordReducer } from './passwordReducer';\nimport { passwordCheckReducer } from './passwordCheckReducer';\n\nexport const Reducers = combineReducers({\n    emailChange: emailReducer,\n    passwordChange: passwordReducer,\n    passwordCheckChange: passwordCheckReducer\n}); \n</code></pre>\n\n<p>And here is <code>passwordCheckReducer</code>: </p>\n\n<pre><code>// passwordCheckReducer.js\nimport { CHANGE_PASSWORDCHECK } from '../actions/actionTypes';\n\nconst initialState = {\n    passwordCheck: \"\"\n};\n\nexport const passwordCheckReducer = (state=initialState, action) =&gt; {\n    const { payload, type } = action;\n\n    switch(type) {\n        case CHANGE_PASSWORDCHECK:\n            const passwordCheck = payload;\n            return {\n                ...state,\n                passwordCheck\n            };\n        default: \n            return state;\n    }\n};\n</code></pre>\n\n<p>Last, this is the implementation of <code>mapDispatchToProps</code>:</p>\n\n<pre><code>// SignUp.js\nconst mapDispatchToProps = dispatch =&gt; ({\n    handleEmailChange: e =&gt; dispatch(updateEmail(e.target.value)),\n    handlePasswordChange: e =&gt; dispatch(updatePassword(e.target.value)),\n    handlePasswordCheckChange: e =&gt; dispatch(updatePasswordCheck(e.target.value))\n});\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 1717, "user_id": 1034924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecedc78563223e4f7742bbfc66992905?s=128&d=identicon&r=PG", "display_name": "nzajt", "link": "https://stackoverflow.com/users/1034924/nzajt"}, "edited": false, "score": 0, "creation_date": 1550098441, "post_id": 54680663, "comment_id": 96150269, "body": "<code>componentDidUpdate</code> fires where it is updated, <code>componentDidMount</code> is what you are looking for."}, {"owner": {"reputation": 378, "user_id": 7106700, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gLlmr.jpg?s=128&g=1", "display_name": "slotdp02", "link": "https://stackoverflow.com/users/7106700/slotdp02"}, "reply_to_user": {"reputation": 1717, "user_id": 1034924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecedc78563223e4f7742bbfc66992905?s=128&d=identicon&r=PG", "display_name": "nzajt", "link": "https://stackoverflow.com/users/1034924/nzajt"}, "edited": false, "score": 0, "creation_date": 1550098668, "post_id": 54680663, "comment_id": 96150363, "body": "@nzajt <code>componentDidMount</code> would fire even before <code>componentDidUpdate</code>, so that would be even less helpful. Need to wait until all of the child components have rendered."}, {"owner": {"reputation": 3421, "user_id": 2805519, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/a3bbbba9019a78dd811890d9a92f682f?s=128&d=identicon&r=PG", "display_name": "Serge Seredenko", "link": "https://stackoverflow.com/users/2805519/serge-seredenko"}, "edited": false, "score": 0, "creation_date": 1550099197, "post_id": 54680663, "comment_id": 96150535, "body": "<code>requestAnimationFrame</code> if for some reason you don&#39;t like timeout?"}, {"owner": {"reputation": 1717, "user_id": 1034924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecedc78563223e4f7742bbfc66992905?s=128&d=identicon&r=PG", "display_name": "nzajt", "link": "https://stackoverflow.com/users/1034924/nzajt"}, "edited": false, "score": 0, "creation_date": 1550099477, "post_id": 54680663, "comment_id": 96150612, "body": "@slotdp02 <code>componentDidUpdate</code> is not called after <code>componentDidMount</code>. If you want to call something on the initial load you need to do it in <code>componentDidMount</code>."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 2, "creation_date": 1550099632, "post_id": 54680663, "comment_id": 96150662, "body": "Do you have async code and the like? Because with basic static elements, the root component&#39;s <code>componentDidMount()</code> fires last, after all children: <a href=\"https://codesandbox.io/s/y2v5nr933z\" rel=\"nofollow noreferrer\">codesandbox.io/s/y2v5nr933z</a>"}, {"owner": {"reputation": 378, "user_id": 7106700, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gLlmr.jpg?s=128&g=1", "display_name": "slotdp02", "link": "https://stackoverflow.com/users/7106700/slotdp02"}, "edited": false, "score": 0, "creation_date": 1550101214, "post_id": 54680663, "comment_id": 96151082, "body": "I trust that you guys are correct. I guess that <code>componentDidMount</code> is even too soon because although in my case the component has mounted, it hasn&#39;t fully rendered in the browsers DOM (by a few milliseconds) which causes an issue."}, {"owner": {"reputation": 378, "user_id": 7106700, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gLlmr.jpg?s=128&g=1", "display_name": "slotdp02", "link": "https://stackoverflow.com/users/7106700/slotdp02"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1550102395, "post_id": 54680663, "comment_id": 96151427, "body": "@ChrisG yes I have asynchronous work going on but the component does not render until that work is finished."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1550129265, "post_id": 54680663, "comment_id": 96158559, "body": "Are you positive about that? The component is usually rendered when it is first mounted, then <code>componentDidMount()</code> is called, which starts some async process, and when that finishes, state is changed and the component is re-rendered. If your component does something different, you need to add it to your question, because that is crucial to answering it."}], "answers": [{"comments": [{"owner": {"reputation": 378, "user_id": 7106700, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gLlmr.jpg?s=128&g=1", "display_name": "slotdp02", "link": "https://stackoverflow.com/users/7106700/slotdp02"}, "edited": false, "score": 0, "creation_date": 1550098705, "post_id": 54680709, "comment_id": 96150380, "body": "<code>componentDidMount</code> would fire even before <code>componentDidUpdate</code>, so that would be even less helpful. Need to wait until all of the child components have rendered"}, {"owner": {"reputation": 1717, "user_id": 1034924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecedc78563223e4f7742bbfc66992905?s=128&d=identicon&r=PG", "display_name": "nzajt", "link": "https://stackoverflow.com/users/1034924/nzajt"}, "reply_to_user": {"reputation": 378, "user_id": 7106700, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gLlmr.jpg?s=128&g=1", "display_name": "slotdp02", "link": "https://stackoverflow.com/users/7106700/slotdp02"}, "edited": false, "score": 0, "creation_date": 1550099359, "post_id": 54680709, "comment_id": 96150573, "body": "When it initially loads <code>componentDidUpdate</code> is not called."}, {"owner": {"reputation": 1717, "user_id": 1034924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecedc78563223e4f7742bbfc66992905?s=128&d=identicon&r=PG", "display_name": "nzajt", "link": "https://stackoverflow.com/users/1034924/nzajt"}, "reply_to_user": {"reputation": 378, "user_id": 7106700, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gLlmr.jpg?s=128&g=1", "display_name": "slotdp02", "link": "https://stackoverflow.com/users/7106700/slotdp02"}, "edited": false, "score": 0, "creation_date": 1550100419, "post_id": 54680709, "comment_id": 96150882, "body": "I wanted to show you this in action. The last react component to load is the parent. <a href=\"https://codepen.io/nzajt_1470347028/pen/RvYwJx\" rel=\"nofollow noreferrer\">codepen.io/nzajt_1470347028/pen/RvYwJx</a>."}], "tags": [], "owner": {"reputation": 1717, "user_id": 1034924, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ecedc78563223e4f7742bbfc66992905?s=128&d=identicon&r=PG", "display_name": "nzajt", "link": "https://stackoverflow.com/users/1034924/nzajt"}, "is_accepted": false, "score": 1, "last_activity_date": 1550098558, "creation_date": 1550098558, "answer_id": 54680709, "question_id": 54680663, "link": "https://stackoverflow.com/questions/54680663/take-action-when-entire-react-dom-tree-has-loaded/54680709#54680709", "title": "Take action when entire React dom tree has loaded", "body": "<p><code>componentDidUpdate</code> only fires on updates.</p>\n\n<p>On the initial load you need <code>componentDidMount</code>.</p>\n\n<p>The docs for a React Component life cycle are here <a href=\"https://reactjs.org/docs/react-component.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/react-component.html</a>.</p>\n"}], "owner": {"reputation": 378, "user_id": 7106700, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/gLlmr.jpg?s=128&g=1", "display_name": "slotdp02", "link": "https://stackoverflow.com/users/7106700/slotdp02"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550098584, "creation_date": 1550098245, "last_edit_date": 1550098584, "question_id": 54680663, "link": "https://stackoverflow.com/questions/54680663/take-action-when-entire-react-dom-tree-has-loaded", "title": "Take action when entire React dom tree has loaded", "body": "<p>How do I fire an action when the entire React DOM tree has loaded? As in knowing when siblings of a child have loaded. I believe <code>componentDidUpdate</code> of a container component is only supposed to fire when it's fully rendered (as in its child components have rendered), but I'm finding that is not the case.</p>\n\n<p>For example:</p>\n\n<pre><code>class ParentContainer extends Component {\n\n  componentDidUpdate() {\n    // all of the children should be rendered by now?\n    const { section } = this.props\n    const scrollToEl = document.getElementById(section)\n    if (scrollToEl) {\n       scrollToEl.scrollIntoView({block: 'start', behavior: 'smooth'})\n    }\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;SiblingWithChildren1 /&gt;\n        &lt;SiblingWithChildren2 /&gt;\n        &lt;Child1&gt;\n          &lt;Child2&gt;\n            array.map(comp =&gt; \n              &lt;Section id={comp.id} /&gt;\n            )\n          &lt;/Child2&gt;\n        &lt;/Child1&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n</code></pre>\n\n<p>In this case the document begins to scroll to the element that might match a <code>Section</code> id. </p>\n\n<p>But, the scroll comes up short because everything hasn't fully rendered in the DOM yet, even if only by milliseconds. If the <code>SiblingWithChildren</code> components have not fully loaded it throws off the height of the document. </p>\n\n<p>Using a <code>setTimeout</code> seems brittle.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1550098410, "post_id": 54680661, "comment_id": 96150258, "body": "The MCVE that was edited in works fine. Please post your actual code so we can see the full picture."}, {"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 1, "creation_date": 1550098418, "post_id": 54680661, "comment_id": 96150262, "body": "The code you&#39;ve provided does work. The issues you are having must be caused by another part of the program. Please provide code for &quot;The startTimer() function is triggered by a keydown event listener and the stop() function is triggered by a keyup event listener.&quot;"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1550098473, "post_id": 54680661, "comment_id": 96150286, "body": "@Olian04 I rolled back your edit because it doesn&#39;t have the problem the OP describes. He must be binding handlers differently, and that&#39;s the cause of the problem."}, {"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1550098518, "post_id": 54680661, "comment_id": 96150306, "body": "@Barmar fair enough."}, {"owner": {"reputation": 6761, "user_id": 4698242, "user_type": "registered", "accept_rate": 53, "profile_image": "https://www.gravatar.com/avatar/6757cccdf8e414d1ee8f833242334cda?s=128&d=identicon&r=PG&f=1", "display_name": "kojow7", "link": "https://stackoverflow.com/users/4698242/kojow7"}, "edited": false, "score": 0, "creation_date": 1550098624, "post_id": 54680661, "comment_id": 96150346, "body": "Do you know how to look at your console log in your browser? Are there any errors showing up there?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 2, "creation_date": 1550098634, "post_id": 54680661, "comment_id": 96150352, "body": "Sounds like it is called more than once.... so call stop() inside of startTimer before creating a new one."}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 1, "creation_date": 1550098895, "post_id": 54680661, "comment_id": 96150444, "body": "What is <code>iTouched</code>? Where is <code>sendData</code>? They are not defined anywhere"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1550098986, "post_id": 54680661, "comment_id": 96150476, "body": "Your new code doesn&#39;t have <code>startTimer</code> or <code>stop</code> functions, they&#39;ve been renamed to <code>startCounter</code> and <code>shoot</code>. It also calls a function <code>sendData()</code> that isn&#39;t defined."}, {"owner": {"reputation": 811, "user_id": 10746956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a98baa62bfb37b28e7ce82086ea79565?s=128&d=identicon&r=PG&f=1", "display_name": "cb64", "link": "https://stackoverflow.com/users/10746956/cb64"}, "edited": false, "score": 0, "creation_date": 1550099013, "post_id": 54680661, "comment_id": 96150483, "body": "Solution was simple before your edit but now <code>sendData()</code> and <code>iTouched</code> are not defined. What are they?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1550099159, "post_id": 54680661, "comment_id": 96150527, "body": "keydown fires more than once... pretty simple to see with a console.log()"}, {"owner": {"reputation": 3, "user_id": 10365287, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sccDAfd7Q_s/AAAAAAAAAAI/AAAAAAAAAgA/neddHXXdz-w/photo.jpg?sz=128", "display_name": "Connor Ashton", "link": "https://stackoverflow.com/users/10365287/connor-ashton"}, "edited": false, "score": 0, "creation_date": 1550099221, "post_id": 54680661, "comment_id": 96150537, "body": "sendData sends data to a firebase realtime Database which works fine and iTouched is a variable that checks if the player has the ball which also works fine. I renamed the functions earlier to make it easier to understand what I was doing. Thanks!"}], "answers": [{"tags": [], "owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "is_accepted": true, "score": 2, "last_activity_date": 1550099409, "creation_date": 1550099409, "answer_id": 54680844, "question_id": 54680661, "link": "https://stackoverflow.com/questions/54680661/clear-interval-not-working-on-javascript-timer/54680844#54680844", "title": "Clear interval not working on javascript timer", "body": "<p>Keydown fires multiple times as you hold down the key. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var bod = document.body;\r\nbod.addEventListener(\"keydown\", () =&gt; console.log('keydown', new Date()))\r\nbod.addEventListener(\"keyup\", () =&gt; console.log('keyup', new Date()))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So you create more than one interval so you overwrite the last one. So you need to clear the interval before you create a new one</p>\n\n<pre><code>if (interval) clearInterval(interval)\ninterval = setInterval(count, 100)\n</code></pre>\n\n<p>or do not create one if it exists</p>\n\n<pre><code>if (!interval) {\n   interval = setInterval(count, 100)\n}\n</code></pre>\n\n<p>and when you clear it</p>\n\n<pre><code>function shoot() {\n  clearInterval(interval)\n  interval = null\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10365287, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sccDAfd7Q_s/AAAAAAAAAAI/AAAAAAAAAgA/neddHXXdz-w/photo.jpg?sz=128", "display_name": "Connor Ashton", "link": "https://stackoverflow.com/users/10365287/connor-ashton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 54680844, "answer_count": 1, "score": -2, "last_activity_date": 1550099409, "creation_date": 1550098217, "last_edit_date": 1550099366, "question_id": 54680661, "link": "https://stackoverflow.com/questions/54680661/clear-interval-not-working-on-javascript-timer", "title": "Clear interval not working on javascript timer", "body": "<p>Here is my code</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.addEventListener(\"keydown\", move);\r\n\r\nfunction move(e) {\r\n  switch (e.keyCode) {\r\n    case 37:\r\n      x = x - speed;\r\n      break;\r\n    case 38:\r\n      // up key pressed\r\n      y = y - speed\r\n      break;\r\n    case 39:\r\n      x = x + speed\r\n      break;\r\n    case 40:\r\n      y = y + speed\r\n      break;\r\n    case 32:\r\n      if (iTouched == true) {\r\n        startCounter();\r\n      }\r\n      break;\r\n  }\r\n  sendData();\r\n}\r\n\r\ndocument.addEventListener(\"keyup\", getStuff);\r\n\r\nfunction getStuff(e) {\r\n  switch (e.keyCode) {\r\n    case 32:\r\n      if (iTouched == true) {\r\n        shoot();\r\n      }\r\n      break;\r\n  }\r\n\r\n}\r\n\r\nfunction startCounter() {\r\n  function count() {\r\n    time += 1\r\n    console.log(time)\r\n  }\r\n  interval = setInterval(count, 100)\r\n}\r\n\r\nfunction shoot() {\r\n  clearInterval(interval)\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The startCounter() function is triggered by a keydown event listener and the shoot() function is triggered by a keyup event listener. For some reason the setInterval will not stop when I lift the key up. The shoot() function works with other commands like an alert() just not the clearInterval(). Am I doing something wrong? Thanks!</p>\n"}, {"tags": ["javascript", "node.js", "discord.js"], "comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1550098832, "post_id": 54680658, "comment_id": 96150422, "body": "Whats preventing you from running the code and seeing for your self?"}, {"owner": {"reputation": 1, "user_id": 11059139, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dCNHyhd9bm0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQM98Lxh59Yz_9Vn2tWaY-dQ-aXLXA/mo/photo.jpg?sz=128", "display_name": "Jonathan Jackson", "link": "https://stackoverflow.com/users/11059139/jonathan-jackson"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1550099550, "post_id": 54680658, "comment_id": 96150637, "body": "Nothing, but that bit of code doesn&#39;t seem to do as I&#39;d expected it. I ran it and I didn&#39;t get the result I&#39;d wanted. Testing with logging indicated that the code wasn&#39;t doing what I needed."}, {"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1550099589, "post_id": 54680658, "comment_id": 96150649, "body": "So what was the code doing?"}, {"owner": {"reputation": 1, "user_id": 11059139, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dCNHyhd9bm0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQM98Lxh59Yz_9Vn2tWaY-dQ-aXLXA/mo/photo.jpg?sz=128", "display_name": "Jonathan Jackson", "link": "https://stackoverflow.com/users/11059139/jonathan-jackson"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1550100998, "post_id": 54680658, "comment_id": 96151022, "body": "It doesn&#39;t seem to return the correct role when filtering by the size, as if r.members.size doesn&#39;t have a value."}, {"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1550101181, "post_id": 54680658, "comment_id": 96151073, "body": "Have you looked at the docs? Should it have a value? (You just need to keep asking your self these kinds of questions. Eventually you will find what you&#39;re doing wrong)"}, {"owner": {"reputation": 3141, "user_id": 5793873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/meUde.jpg?s=128&g=1", "display_name": "T. Dirks", "link": "https://stackoverflow.com/users/5793873/t-dirks"}, "edited": false, "score": 0, "creation_date": 1550135279, "post_id": 54680658, "comment_id": 96161420, "body": "Try logging each value of the roles you get back. What is their <code>members</code> value, what is the <code>.size</code> of said <code>members</code> value, what is the name of each role. Try to pin down where the problem occurs"}], "owner": {"reputation": 1, "user_id": 11059139, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dCNHyhd9bm0/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQM98Lxh59Yz_9Vn2tWaY-dQ-aXLXA/mo/photo.jpg?sz=128", "display_name": "Jonathan Jackson", "link": "https://stackoverflow.com/users/11059139/jonathan-jackson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550098225, "creation_date": 1550098193, "last_edit_date": 1550098225, "question_id": 54680658, "link": "https://stackoverflow.com/questions/54680658/how-do-i-check-to-see-if-there-are-any-roles-that-are-not-assigned-to-any-users", "title": "How do I check to see if there are any roles that are not assigned to any users?", "body": "<p>I've been working on a bot that assigns roles to members based on what game they are playing, so that all members that are currently playing a game can be mentioned. I want to delete any roles that match the criteria and have no members. Can I do something like:</p>\n\n<pre><code>guild.roles.filter(r =&gt; r.members.size === 0 &amp;&amp; r.name.startsWith('playing')); \n</code></pre>\n"}, {"tags": ["javascript", "arrays", "setinterval"], "comments": [{"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 3, "creation_date": 1550098035, "post_id": 54680607, "comment_id": 96150131, "body": "As soon as you write <code>a.c = a.b</code>, both your variables will point to the same array, so <code>a.b != a.c</code> will always fail. Did you mean to make a copy of <code>b</code> instead of having both variables refer to the same array?"}, {"owner": {"reputation": 43, "user_id": 8710745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32cd3eeb0b6c5a34264e33e89860d3ac?s=128&d=identicon&r=PG&f=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/8710745/evan"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1550098131, "post_id": 54680607, "comment_id": 96150162, "body": "Yes that is the intention. Thanks."}, {"owner": {"reputation": 43, "user_id": 8710745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32cd3eeb0b6c5a34264e33e89860d3ac?s=128&d=identicon&r=PG&f=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/8710745/evan"}, "reply_to_user": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1550098414, "post_id": 54680607, "comment_id": 96150261, "body": "Thanks, Carcigenicate. That solves by problem. I didn&#39;t realize the line, <code>a.c = a.b</code>, will make both variables point to the same array. Thanks for the help!"}, {"owner": {"reputation": 35578, "user_id": 3000206, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/BK1fo.jpg?s=128&g=1", "display_name": "Carcigenicate", "link": "https://stackoverflow.com/users/3000206/carcigenicate"}, "edited": false, "score": 0, "creation_date": 1550098525, "post_id": 54680607, "comment_id": 96150311, "body": "Yes, np. And in most languages, that is the sole purpose of <code>=</code>. Any time you do an assignment, you&#39;re having both variables refer to the same object. This behavior just isn&#39;t as apparent when you&#39;re working with immutable data like numbers or Strings, since they can&#39;t be altered."}], "owner": {"reputation": 43, "user_id": 8710745, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/32cd3eeb0b6c5a34264e33e89860d3ac?s=128&d=identicon&r=PG&f=1", "display_name": "Evan", "link": "https://stackoverflow.com/users/8710745/evan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "closed_date": 1550098437, "answer_count": 0, "score": 0, "last_activity_date": 1550098153, "creation_date": 1550097824, "last_edit_date": 1550098153, "question_id": 54680607, "link": "https://stackoverflow.com/questions/54680607/updating-javascript-array-using-setinterval-and-array-push", "closed_reason": "Duplicate", "title": "Updating JavaScript array using setInterval and array.push()", "body": "<p>I'm seeing odd behavior when updating a JavaScript array using <code>setInterval()</code>. Running the following code results in <code>console.log()</code> only running once. However, if you inspect the variable <code>a</code>, the it continues to get updated each interval. Why is <code>console.log()</code> only executed once, despite the fact that <code>a</code> is indeed getting updated by <code>a.c = a.b</code> each interval?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var a = {\r\n  b: [],\r\n  c: [],\r\n  d: function() {\r\n    if (a.b != a.c) {\r\n      console.log('Changing', a.b, a.c);\r\n      a.c = a.b;\r\n    }\r\n  },\r\n  start: function() {\r\n    setInterval(function() {\r\n      a.b.push('e');\r\n      a.d();\r\n    }, 1000);\r\n  }\r\n}\r\n\r\na.start();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "css"], "comments": [{"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 3, "creation_date": 1550097666, "post_id": 54680560, "comment_id": 96149997, "body": "use animation with forwards?"}, {"owner": {"reputation": 1026, "user_id": 3130625, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6dad57e4d583215bb8fabd1164fb809d?s=128&d=identicon&r=PG", "display_name": "gtramontina", "link": "https://stackoverflow.com/users/3130625/gtramontina"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1550098009, "post_id": 54680560, "comment_id": 96150116, "body": "Maybe what you want is an animation instead of a transition, as @TemaniAfif suggested? You can also add a small delay to this animation if you feel like: <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/animation-delay\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/CSS/animation-delay</a>"}, {"owner": {"reputation": 499, "user_id": 7223184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf114d17904e480e5e74448d2cf4faf2?s=128&d=identicon&r=PG", "display_name": "Aness", "link": "https://stackoverflow.com/users/7223184/aness"}, "reply_to_user": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1550128900, "post_id": 54680560, "comment_id": 96158383, "body": "Thanks for the info about the delay, @ Andy Hoffman answer worked like a charm for me and @Temani Afif was right when he said &quot;use animation with forwards&quot; now I get what he was talking about :)."}], "answers": [{"tags": [], "owner": {"reputation": 15219, "user_id": 949217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8eeb8af3bd72e2f6dbc9badee4a97c80?s=128&d=identicon&r=PG", "display_name": "Andy Hoffman", "link": "https://stackoverflow.com/users/949217/andy-hoffman"}, "is_accepted": true, "score": 3, "last_activity_date": 1550098241, "last_edit_date": 1550098241, "creation_date": 1550097901, "answer_id": 54680615, "question_id": 54680560, "link": "https://stackoverflow.com/questions/54680560/can-i-start-this-simple-css-transition-without-using-javascript/54680615#54680615", "title": "Can I start this simple CSS transition without using javascript", "body": "<p>I changed your class name to match the new behavior (animation, not a transition). We're animating from <code>100px</code> to the full width of the viewport.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html, body { margin: 0; } /* Prevent scrollbar */\r\n\r\ndiv.simple_animation {\r\n  width: 100px;\r\n  height: 100px;\r\n  background: red;\r\n  animation: 5s loading forwards;\r\n}\r\n\r\n@keyframes loading {\r\n  to {\r\n    width: 100vw;\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"simple_animation\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><a href=\"https://jsfiddle.net/q5gm3fs4/2/\" rel=\"nofollow noreferrer\">jsFiddle</a></p>\n"}, {"tags": [], "owner": {"reputation": 833, "user_id": 6641514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e63ac2c87607df47fa364ad179f1ffe?s=128&d=identicon&r=PG", "display_name": "brad", "link": "https://stackoverflow.com/users/6641514/brad"}, "is_accepted": false, "score": 0, "last_activity_date": 1550098022, "creation_date": 1550098022, "answer_id": 54680631, "question_id": 54680560, "link": "https://stackoverflow.com/questions/54680560/can-i-start-this-simple-css-transition-without-using-javascript/54680631#54680631", "title": "Can I start this simple CSS transition without using javascript", "body": "<p>css</p>\n\n<pre><code>.js-loading *,\n.js-loading *:before,\n.js-loading *:after {\n  animation-play-state: paused !important;\n}\n</code></pre>\n\n<p>I have been out of web development a bit, but I think this works on most modern browsers</p>\n"}], "owner": {"reputation": 499, "user_id": 7223184, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf114d17904e480e5e74448d2cf4faf2?s=128&d=identicon&r=PG", "display_name": "Aness", "link": "https://stackoverflow.com/users/7223184/aness"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 102, "favorite_count": 0, "closed_date": 1550098158, "accepted_answer_id": 54680615, "answer_count": 2, "score": 0, "last_activity_date": 1550174508, "creation_date": 1550097566, "last_edit_date": 1550174508, "question_id": 54680560, "link": "https://stackoverflow.com/questions/54680560/can-i-start-this-simple-css-transition-without-using-javascript", "closed_reason": "Duplicate", "title": "Can I start this simple CSS transition without using javascript", "body": "<p>This is a simple CSS transition.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div.simple_transition {\r\n  width: 100px;\r\n  height: 100px;\r\n  background: red;\r\n  -webkit-transition: width 5s;\r\n  /* For Safari 3.1 to 6.0 */\r\n  transition: width 5s;\r\n  &amp;:hover {\r\n    width: 100%;\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h1&gt;Simple Transition&lt;/h1&gt;\r\n&lt;p&gt;NoJS Animation starts when hovering the element&lt;/p&gt;\r\n&lt;div class=\"simple_transition\"&gt;&lt;/div&gt;\r\n&lt;p&gt;\r\n  &lt;b&gt;Note:&lt;/b&gt; This example does not work in Internet Explorer 9 and earlier versions.&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So I want it to start the transition programmatically for example right after the browser loads the page without using the mouse hover css selector. I know that I can do this with javascript and I managed to do this with a simple  code.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//Based on https://www.w3schools.com/css/tryit.asp?filename=trycss3_transition1\r\n$(document).ready(function() {\r\n  var elm = $('div.simple_transition');\r\n  elm.attr('class', 'should-be-likethis');\r\n  console.log('working on it');\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div.simple_transition {\r\n  width: 100px;\r\n  height: 100px;\r\n  background: red;\r\n  -webkit-transition: width 5s;\r\n  /* For Safari 3.1 to 6.0 */\r\n  transition: width 5s;\r\n  &amp;:hover {\r\n    width: 100%;\r\n  }\r\n}\r\n\r\n.should-be-likethis {\r\n  -webkit-transition: width 5s;\r\n  /* For Safari 3.1 to 6.0 */\r\n  transition: width 5s;\r\n  width: 100%;\r\n  height: 100px;\r\n  background: red;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;h1&gt;Simple Transition&lt;/h1&gt;\r\n\r\n&lt;p id='text'&gt;With jQuery animation starts without hovering the element&lt;/p&gt;\r\n&lt;div class=\"simple_transition\"&gt;&lt;/div&gt;\r\n&lt;p&gt;&lt;b&gt;Note:&lt;/b&gt; This example does not work in Internet Explorer 9 and earlier versions.&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Can I do this without using javascript only with CSS?</strong>\nIn fact in my current project I am already using javascript (ajax) for handling some data-related queries and I am also using a sass compiler so I would prefer that to write everything that is related to the styles in a CSS.</p>\n"}, {"tags": ["javascript", "error-handling", "exception-handling"], "comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1550097987, "post_id": 54680547, "comment_id": 96150102, "body": "<code>error instance of ExchangeError</code> should be <code>error instanceof ExchangeError</code>"}, {"owner": {"reputation": 1657, "user_id": 513449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/20Eb7.png?s=128&g=1", "display_name": "mbilyanov", "link": "https://stackoverflow.com/users/513449/mbilyanov"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1550098460, "post_id": 54680547, "comment_id": 96150280, "body": "Yes, in my code it is <code>instanceof</code>, so I miss-typed it here in my question. Still, when I do <code>console.log(error.constructor.name)</code> I get <code>ExchangeError</code> But I can&#39;t get this to work <code>if (error instanceof ExchangeError) { console.log(&#39;it is an ExchangeError.&#39;) }</code>"}, {"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1550098732, "post_id": 54680547, "comment_id": 96150391, "body": "I think the error is elsewhere in your code. Because the code you&#39;ve provided should work: <a href=\"https://jsfiddle.net/yquax3tp/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/yquax3tp/1</a>"}, {"owner": {"reputation": 1657, "user_id": 513449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/20Eb7.png?s=128&g=1", "display_name": "mbilyanov", "link": "https://stackoverflow.com/users/513449/mbilyanov"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1550099083, "post_id": 54680547, "comment_id": 96150505, "body": "Yes. But, by injecting my own <code>ExchangeError</code> I actually was doing something really really bad, I was blinding the <code>instanceof</code> check with my own <code>ExchangeError</code>, where as the <code>ExchangeError</code> that was coming from the module, was NOT an instance of my own <code>ExchangeError</code>. I have solved it and will post my answer now. Thanks to @FrankerZ."}], "answers": [{"tags": [], "owner": {"reputation": 1657, "user_id": 513449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/20Eb7.png?s=128&g=1", "display_name": "mbilyanov", "link": "https://stackoverflow.com/users/513449/mbilyanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1550099286, "creation_date": 1550099286, "answer_id": 54680815, "question_id": 54680547, "link": "https://stackoverflow.com/questions/54680547/intercepting-and-interracting-with-a-custom-error-object-in-javascript/54680815#54680815", "title": "Intercepting and interracting with a custom Error object in javascript", "body": "<p>By actually implementing my own <code>ExchangeError</code> I actually was doing something really really bad, I was blinding the <code>instanceof</code> check with my own <code>ExchangeError</code>, whereas the <code>ExchangeError</code> instance that was coming from the module, was NOT an instance of my own ExchangeError. That is why my <code>if</code> check was falling silent.</p>\n\n<p>The solution is simply doing this:</p>\n\n<pre><code>     const { ExchangeError } = require ('ccxt/js/base/errors');\n\n</code></pre>\n\n<p>Importing the error from within the module. Now the <code>instanceof</code> look up is working. I did not know that one can import bits and pieces from a module like that.</p>\n\n<p>Thanks to @FrankerZ for pointing that out.</p>\n"}], "owner": {"reputation": 1657, "user_id": 513449, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/20Eb7.png?s=128&g=1", "display_name": "mbilyanov", "link": "https://stackoverflow.com/users/513449/mbilyanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550099286, "creation_date": 1550097503, "last_edit_date": 1550098162, "question_id": 54680547, "link": "https://stackoverflow.com/questions/54680547/intercepting-and-interracting-with-a-custom-error-object-in-javascript", "title": "Intercepting and interracting with a custom Error object in javascript", "body": "<p>I am using a custom javascript modulue which has it's own <code>Error</code> objects. I would like to intercept those custom Error objects and take the appropriate path in my <code>try{} catch{}</code> block, distinguishing them from Javascript's built in Error objects such as <code>ReferenceError</code>, <code>TypeError</code> etc.</p>\n\n<p>So a bit like this.</p>\n\n<pre><code>try {\n    // Some code that might produce a traditional javascript error\n    // or one of the errors raised by the module I am using.\n}catch (error){\n    if(error instanceof ExchangeError){\n        // Handle this in a way.\n    }else{\n        // Probably one of the built in Javascript errors,\n        // So do this other thing.\n    }\n}\n</code></pre>\n\n<p>So, in the example above, <code>ExchangeError</code> is a custom error belonging to that specific module, however, I am not able to run the <code>instanceof</code> on my error, despite the fact that when I do <code>error.constructor.name</code> I get <code>ExchangeError</code>.</p>\n\n<p>My javascript scope simply does not know about that <code>ExchangeError</code>. So the question is, how can I intercept those kind of Error objects? I'm sure I can do it with string matching, but just wanted to check if there is a more elegant way.</p>\n\n<p>One thing I tried, I have my own <code>errors</code> module, that has some custom errors in there, I tried to mimic the module's Error object:</p>\n\n<pre><code>    class ExchangeError extends Error {\n        constructor (message) {\n            super (message);\n            this.constructor = ExchangeError;\n            this.__proto__   = ExchangeError.prototype;\n            this.message     = message;\n         }\n     }\n</code></pre>\n\n<p>and import that through my <code>errors</code> module, but that did not work obviously.</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 1209, "user_id": 6938822, "user_type": "registered", "profile_image": "https://graph.facebook.com/10105418757997339/picture?type=large", "display_name": "Max", "link": "https://stackoverflow.com/users/6938822/max"}, "edited": false, "score": 1, "creation_date": 1550097968, "post_id": 54680531, "comment_id": 96150093, "body": "Can you reproduce this in a codesandbox or post your code?"}, {"owner": {"reputation": 704, "user_id": 5330103, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a1b9518a1b9591ae9e3b322dd644d2f?s=128&d=identicon&r=PG", "display_name": "Amir Rezvani", "link": "https://stackoverflow.com/users/5330103/amir-rezvani"}, "reply_to_user": {"reputation": 1209, "user_id": 6938822, "user_type": "registered", "profile_image": "https://graph.facebook.com/10105418757997339/picture?type=large", "display_name": "Max", "link": "https://stackoverflow.com/users/6938822/max"}, "edited": false, "score": 0, "creation_date": 1550098345, "post_id": 54680531, "comment_id": 96150228, "body": "no, but I put some part of the code."}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 2061192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nDNPs.png?s=128&g=1", "display_name": "Sood", "link": "https://stackoverflow.com/users/2061192/sood"}, "reply_to_user": {"reputation": 704, "user_id": 5330103, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a1b9518a1b9591ae9e3b322dd644d2f?s=128&d=identicon&r=PG", "display_name": "Amir Rezvani", "link": "https://stackoverflow.com/users/5330103/amir-rezvani"}, "edited": false, "score": 0, "creation_date": 1550100488, "post_id": 54680734, "comment_id": 96150904, "body": "You are doing it component by component inside <code>fetchingComponentData(OBJ)</code>, which is not what I suggest"}, {"owner": {"reputation": 704, "user_id": 5330103, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a1b9518a1b9591ae9e3b322dd644d2f?s=128&d=identicon&r=PG", "display_name": "Amir Rezvani", "link": "https://stackoverflow.com/users/5330103/amir-rezvani"}, "edited": false, "score": 0, "creation_date": 1550101265, "post_id": 54680734, "comment_id": 96151096, "body": "I am sorry I don&#39;t get u. each component return a value and unique_key  to parent component by &quot;getUpdated&quot; and I save the value based on unique_key inside of the fetchingComponentData if I store the uniqe_key and value into the &quot;this.Answer&quot;  there would be no LAG but if I just use setState then I see LAG. that&#39;s all."}, {"owner": {"reputation": 91, "user_id": 2061192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nDNPs.png?s=128&g=1", "display_name": "Sood", "link": "https://stackoverflow.com/users/2061192/sood"}, "reply_to_user": {"reputation": 704, "user_id": 5330103, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a1b9518a1b9591ae9e3b322dd644d2f?s=128&d=identicon&r=PG", "display_name": "Amir Rezvani", "link": "https://stackoverflow.com/users/5330103/amir-rezvani"}, "edited": false, "score": 0, "creation_date": 1550101467, "post_id": 54680734, "comment_id": 96151160, "body": "I updated my answer. Indeed it&#39;s lagging when you call setState, because you call it in every iteration in the item.attributes array, making the parent refresh again and again"}], "tags": [], "owner": {"reputation": 91, "user_id": 2061192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nDNPs.png?s=128&g=1", "display_name": "Sood", "link": "https://stackoverflow.com/users/2061192/sood"}, "is_accepted": false, "score": 0, "last_activity_date": 1550102018, "last_edit_date": 1550102018, "creation_date": 1550098714, "answer_id": 54680734, "question_id": 54680531, "link": "https://stackoverflow.com/questions/54680531/how-to-handle-a-generated-big-form-in-react-js/54680734#54680734", "title": "How to handle a generated big form in React Js", "body": "<p>Have you tried to make an object out of your components and pass it to setState at once?</p>\n\n<pre><code>const nextState = componentList.map(component =&gt; {\n    return {[component]: value};\n});\n\nthis.setState({...nextState});\n</code></pre>\n\n<p><strong>Edit:</strong> Okay i got another part you could do better.</p>\n\n<p>You should build an array with you components in <code>componentWillMount</code> function instead of fetching all the data inside the render. Like you said, it's updating everytime any state changes, and all the components are also updating with the parent.</p>\n\n<p>This is to be made in addition with what I suggested before, but it is of far more importance because of the impact on the ressource.</p>\n"}], "owner": {"reputation": 704, "user_id": 5330103, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/7a1b9518a1b9591ae9e3b322dd644d2f?s=128&d=identicon&r=PG", "display_name": "Amir Rezvani", "link": "https://stackoverflow.com/users/5330103/amir-rezvani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550102018, "creation_date": 1550097389, "last_edit_date": 1550098287, "question_id": 54680531, "link": "https://stackoverflow.com/questions/54680531/how-to-handle-a-generated-big-form-in-react-js", "title": "How to handle a generated big form in React Js", "body": "<p>I trying to generate a big form based on what I get from the server.\nsometimes I generate 32 elements sometimes 57 or 4 I don't know. \nI try to create a component for each type of element like select, text, number, textarea and so on.\neach component passes the value to the parent component and setState the value to the parent.</p>\n\n<p>imagine I have 20 inputs and custom select-option elements.\nwhen I type something in one of the inputs characters show up after 2seconeds and there is a huge lag in my component.\nI know because of the setState method my hole component (I mean my parent component or my single source of truth) re-renders and causes the problem.</p>\n\n<p>in fact, I don't know other ways.\nI try to use a \"this.VARIABLE\" and instead of setState, I update the \"this.VARIABLE\" and problem solved. but I need my state.</p>\n\n<p>any help or solution?</p>\n\n<p>my code (parent Component, source of truth ):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// ---&gt; find my component based on the type that I get from server\r\nfindComponent ( item , index) {\r\n\r\n        if ( item.type === 'text' || item.type === 'number') {\r\n            return (&lt;Text data={item} getUpdated={this.fetchingComponentData} /&gt;);\r\n\r\n        } else if ( item.type === 'longtext') {\r\n            return (&lt;Textarea data={item} getUpdated={this.fetchingComponentData} /&gt;);\r\n\r\n        } else if ( item.type === 'select' ) {\r\n            return (&lt;SelectOption data={item} getUpdated={this.fetchingComponentData} /&gt;);\r\n\r\n        } else if ( item.type === 'autocomplete') {\r\n            return (&lt;AutoTag data={item} url={URL1} getUpdated={this.fetchingComponentData} /&gt;);\r\n\r\n        } else if ( item.type === 'checkbox_comment' ) {\r\n            return (&lt;CheckboxComment data={item} getUpdated={this.fetchingComponentData} /&gt;);\r\n\r\n        } else if ( item.type === 'multiselect' ) {\r\n            return (&lt;Multiselect data={item}  getUpdated={this.fetchingComponentData} /&gt;);\r\n\r\n        } else {\r\n            return (&lt;p&gt;THERE IS NO TYPE OF =&gt; {item.type}&lt;/p&gt;);\r\n        }\r\n    }\r\n\r\n\r\n// ----&gt; if i setState here ==&gt; big lag\r\nfetchingComponentData(OBJ) {\r\n\r\n        let index = null;\r\n        // let Answer = [...this.state.Answer];\r\n\r\n            index = Helper.find_item(this.Answer , OBJ , 'unique_key');\r\n\r\n            if ( index === -1 ) {\r\n                this.Answer.push(OBJ);\r\n            } else {\r\n                this.Answer[index].value = OBJ.value;\r\n            }\r\n    }\r\n\r\n\r\n// ----&gt; in my render method\r\n\r\nrender () {\r\nreturn (\r\n                &lt;React.Fragment&gt;\r\n    \r\n                    &lt;div className=\"row Technical section\" data-info=\"Technical\"&gt;\r\n                        &lt;div className=\"col-6\"&gt;\r\n                            \r\n                            {data.map( (item,index) =&gt; {\r\n                                return (\r\n                                    &lt;React.Fragment key={index}&gt;\r\n                            \r\n                                        &lt;div className=\"rowi\"&gt;\r\n                                            {item.attributes.map( (item, index)=&gt; {\r\n                                                return &lt;React.Fragment key={index}&gt;{this.findComponent(item, index)}&lt;/React.Fragment&gt;;\r\n                                            })}\r\n                                        &lt;/div&gt;\r\n                                    &lt;/React.Fragment&gt;\r\n                                )\r\n                            })}\r\n                        &lt;/div&gt;\r\n                        &lt;div className=\"col-6\"&gt;&lt;/div&gt;\r\n                    &lt;/div&gt;\r\n    \r\n                &lt;/React.Fragment&gt;\r\n            );\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "windows-7", "jscript", "wsh", "sendkeys"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1550097253, "post_id": 54680503, "comment_id": 96149861, "body": "What do you mean by &quot;send&quot;? Where is the code?"}, {"owner": {"reputation": 23176, "user_id": 18149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f5e10278b9b6a518d5835f658704d85f?s=128&d=identicon&r=PG", "display_name": "leeand00", "link": "https://stackoverflow.com/users/18149/leeand00"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1550097280, "post_id": 54680503, "comment_id": 96149873, "body": "Just a moment, I&#39;ll post it."}, {"owner": {"reputation": 23176, "user_id": 18149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f5e10278b9b6a518d5835f658704d85f?s=128&d=identicon&r=PG", "display_name": "leeand00", "link": "https://stackoverflow.com/users/18149/leeand00"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1550097719, "post_id": 54680503, "comment_id": 96150010, "body": "@Pointy Okay..."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1550101396, "post_id": 54680503, "comment_id": 96151135, "body": "Ah ok Thanks. Well I know nothing about what that thing does but the error sure would make me suspect that the &quot;shell&quot; parser takes the string delivered by that <code>.SendKeys()</code> thing to be a complete expression (of some sort) to be parsed."}, {"owner": {"reputation": 23176, "user_id": 18149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f5e10278b9b6a518d5835f658704d85f?s=128&d=identicon&r=PG", "display_name": "leeand00", "link": "https://stackoverflow.com/users/18149/leeand00"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1550106230, "post_id": 54680503, "comment_id": 96152433, "body": "I figured it out.  You have to wrap the character in <code>{</code> and <code>}</code> when it&#39;s passed."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1550107670, "post_id": 54680503, "comment_id": 96152751, "body": "I would never have guessed that in a million years :)"}], "owner": {"reputation": 23176, "user_id": 18149, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f5e10278b9b6a518d5835f658704d85f?s=128&d=identicon&r=PG", "display_name": "leeand00", "link": "https://stackoverflow.com/users/18149/leeand00"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 120, "favorite_count": 0, "closed_date": 1550242160, "answer_count": 0, "score": 0, "last_activity_date": 1550097673, "creation_date": 1550097215, "last_edit_date": 1550097673, "question_id": 54680503, "link": "https://stackoverflow.com/questions/54680503/why-cant-i-send-a-to-sendkeys-in-jscript", "closed_reason": "Duplicate", "title": "Why can&#39;t I send a ( to SendKeys in JScript?", "body": "<p>Why when I send a <code>(</code> to <code>WScript.CreateObject(\"WScript.Shell\").SendKeys()</code> in Microsoft JScript do I get the following error?</p>\n\n<pre><code>C:\\js\\test.js(7, 9) Microsoft JScript runtime error: Invalid procedure call or argument\n</code></pre>\n\n<p>I've tried escaping it, googling it etc...and it still gives me the error.</p>\n\n<p>I am running it with <code>cscript.exe</code></p>\n\n<pre><code>(function () {\n\nvar WshSh = WScript.CreateObject(\"WScript.Shell\");\n\nWshSh.SendKeys(\"(\");\n})();\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "google-api", "async-await"], "comments": [{"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 1, "creation_date": 1550097251, "post_id": 54680481, "comment_id": 96149858, "body": "You should only try to <code>await</code> promises. <code>list</code> looks callback-based, not Promise-based. It also doesn&#39;t make sense to <code>await</code> a <code>.map</code> call, arrays aren&#39;t promises either. Also, better to check <code>err</code> <i>first</i>, not last"}, {"owner": {"reputation": 85, "user_id": 10633319, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Legolas", "link": "https://stackoverflow.com/users/10633319/legolas"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1550099669, "post_id": 54680481, "comment_id": 96150673, "body": "Then what would be the correct way to return <code>tasklists</code> here? Is there no way to do this using async-await?"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1550099830, "post_id": 54680481, "comment_id": 96150715, "body": "You just have to convert the callback to a <code>Promise</code> so that you can then <code>await</code> that <code>Promise</code>, see the linked question"}, {"owner": {"reputation": 85, "user_id": 10633319, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Legolas", "link": "https://stackoverflow.com/users/10633319/legolas"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1550123599, "post_id": 54680481, "comment_id": 96156318, "body": "I checked it out, and wrapping the thing in a promise with <code>resolve(tasklists)</code> does the trick, but still, why do I have to do this? Doesn&#39;t declaring it as an async function mean it&#39;s going to return a promise by default?"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1550123982, "post_id": 54680481, "comment_id": 96156449, "body": "Yes, async functions return Promises, but that doesn&#39;t mean that the returned Promise is necessarily chained properly with the asynchronous operation you want to perform."}, {"owner": {"reputation": 85, "user_id": 10633319, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Legolas", "link": "https://stackoverflow.com/users/10633319/legolas"}, "reply_to_user": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1550125405, "post_id": 54680481, "comment_id": 96156931, "body": "If a promise is being returned and I do <code>await</code> it then what&#39;s wrong there?"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1550126433, "post_id": 54680481, "comment_id": 96157311, "body": "<code>.map</code> does not return a Promise, so <code>await</code>ing it doesn&#39;t make any sense. <code>tasklists</code> currently resolves to an array of Promises, not an array of values"}], "owner": {"reputation": 85, "user_id": 10633319, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Legolas", "link": "https://stackoverflow.com/users/10633319/legolas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "closed_date": 1550097270, "answer_count": 0, "score": 0, "last_activity_date": 1550097281, "creation_date": 1550097143, "question_id": 54680481, "link": "https://stackoverflow.com/questions/54680481/why-would-the-following-be-an-incorrect-usage-of-async-await", "closed_reason": "Duplicate", "title": "Why would the following be an incorrect usage of async-await?", "body": "<p>This is a function using a google tasks api to fetch the list of tasklists and return their titles as an array. For some reason the following leads to me getting undefined.</p>\n\n<p>I don't get why this would be undefined since I am awaiting before returning.</p>\n\n<pre><code>async function getTaskLists(service) {\n  var tasklists;\n  await service.tasklists.list(async(err, res) =&gt; {\n    tasklists = await res.data.items;\n        tasklists = await tasklists.map(tasklist =&gt; tasklist.title);\n    if (err)\n        console.error('The API returned an errors: ' + err);\n  });\n  return tasklists;\n}\n\ntasklists = await getTaskLists(service);\nconsole.log(tasklists);\n</code></pre>\n"}, {"tags": ["javascript", "dom"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1550096814, "post_id": 54680402, "comment_id": 96149717, "body": "Use <code>localStorage</code> to store the location instead."}, {"owner": {"reputation": 3411, "user_id": 8223070, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/134e13a8a7e72bfa0d5b7498c7b09722?s=128&d=identicon&r=PG&f=1", "display_name": "Cat", "link": "https://stackoverflow.com/users/8223070/cat"}, "edited": false, "score": 0, "creation_date": 1550098020, "post_id": 54680402, "comment_id": 96150120, "body": "There&#39;s a history object you  could use (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/History_API\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/History_API</a>). It&#39;s probably an array-like object, so you might want to make a proper array from it (like by pushing each of its element to a new array). Then you could check whether the current page matches the most recent page in the history."}, {"owner": {"reputation": 1835, "user_id": 2597273, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/798ef49b72c04c1b5858d53bad787ddd?s=128&d=identicon&r=PG", "display_name": "idmadj", "link": "https://stackoverflow.com/users/2597273/idmadj"}, "edited": false, "score": 0, "creation_date": 1550098839, "post_id": 54680402, "comment_id": 96150424, "body": "Trying to watch refreshes smells like an antipattern. Keeping pages stateless is usually better practice and will reduce future headaches. Maybe you could share the higher motives so people can try and help find a better solution?"}], "answers": [{"tags": [], "owner": {"reputation": 17145, "user_id": 5093961, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3736a281ed5cdc18e41f6d3100d76dcc?s=128&d=identicon&r=PG", "display_name": "Steven Spungin", "link": "https://stackoverflow.com/users/5093961/steven-spungin"}, "is_accepted": true, "score": 0, "last_activity_date": 1550099432, "creation_date": 1550099432, "answer_id": 54680848, "question_id": 54680402, "link": "https://stackoverflow.com/questions/54680402/detect-that-page-is-a-result-of-a-refresh/54680848#54680848", "title": "detect that page is a result of a refresh", "body": "<p>Before you refresh via javascript, set a timestamp or such in local storage. When the page loads, read the local storage;  If it is set and is close to the current timestamp, you have a refresh.</p>\n"}], "owner": {"reputation": 914, "user_id": 439160, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24c0bd6d7d7bb0d9528006d95ea1480d?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/439160/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "accepted_answer_id": 54680848, "answer_count": 1, "score": 0, "last_activity_date": 1550099432, "creation_date": 1550096703, "question_id": 54680402, "link": "https://stackoverflow.com/questions/54680402/detect-that-page-is-a-result-of-a-refresh", "title": "detect that page is a result of a refresh", "body": "<p>Hoping for some help trying to figure out how to detect that the current page was loaded as a result of a refresh.  </p>\n\n<p>In chrome, I can detect this with <code>document.referrer == document.location.href</code>.  (NOTE: I realize that this is not entirely reliable, but it is good enough for my purposes;  I don't care about bad behaviors here, just the positive path)</p>\n\n<p>Unfortunately other Firefox (for example) still gives a document.referrer of '' after a refresh (assuming referrer was '' before refresh).  </p>\n\n<p>Does anyone know of a reasonable modern-browser-compatible way of detecting that the current page is the result of a refresh via javascript?</p>\n"}, {"tags": ["javascript", "flowtype"], "comments": [{"owner": {"reputation": 832, "user_id": 4213708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gY4DL.jpg?s=128&g=1", "display_name": "frontendgirl", "link": "https://stackoverflow.com/users/4213708/frontendgirl"}, "edited": false, "score": 0, "creation_date": 1550151876, "post_id": 54680375, "comment_id": 96171120, "body": "Flow playground with code above -&gt; <a href=\"https://flow.org/try/#0C4TwDgpgBAksEFsoF4oG8BQUrAJYIgGdgBDBMALigDsBXBAIwgCcAaLKYk4WwqtKAGMA9uQA2EeABMqDYcIklqUAL7tsU7iSrFmuagHN2KjBlCQoAMVxj4zFOg54CXclTqMW6zqR590QqJgEtKy8orKahgmGCLUxFY2dpbx-BwA2gDWECBUACQA0jmEADzWtiwAfAC6VAAUeQBqJGK0RGVJVaxQuPAIVHCIAJQolVByChBK0Q6Y2M5EpG5QdQuuYN29w6M4+ItkYCjIqFsIAHRrSxscXH71t7ybfSPIY+YQwgBmPty8R6gAcmEDAAVhBBMAAVAAGTQn5+M4icSSCBSf49PpnB6ERFBEKo4xAA\" rel=\"nofollow noreferrer\">flow.org/try/&hellip;</a>"}], "answers": [{"tags": [], "owner": {"reputation": 832, "user_id": 4213708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gY4DL.jpg?s=128&g=1", "display_name": "frontendgirl", "link": "https://stackoverflow.com/users/4213708/frontendgirl"}, "is_accepted": false, "score": 1, "last_activity_date": 1550151829, "creation_date": 1550151829, "answer_id": 54691860, "question_id": 54680375, "link": "https://stackoverflow.com/questions/54680375/flow-object-value-based-on-key/54691860#54691860", "title": "Flow object value based on key", "body": "<p>Not the general solution for the problem with object keys, but a particular case can be solved in next one way</p>\n\n<pre><code>type Item = {\n  timestamp: number,\n  status: { completed: boolean },\n  data: string,\n}\n\ntype Filter = {\n  timestamp: number,\n  status: { completed: boolean },\n}\n\nconst FilterFns: {\n  [key: $Keys&lt;Filter&gt;]: ($Values&lt;Filter&gt;, item: Item) =&gt; boolean\n} = {\n  timestamp: (timestamp, item) =&gt; timestamp === item.timestamp,\n  status: (status, item) =&gt; typeof status === 'object' &amp;&amp; status.completed === item.status.completed,\n}\n</code></pre>\n\n<p>adding additional condition <code>typeof status === 'object'</code> will allow flow to identify on what exactly value it is right now, otherwise flow do not get pairs keys - values right, unfortunately</p>\n"}], "owner": {"reputation": 1488, "user_id": 4527337, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/cqeb1.jpg?s=128&g=1", "display_name": "Ben", "link": "https://stackoverflow.com/users/4527337/ben"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550164512, "creation_date": 1550096543, "last_edit_date": 1550164512, "question_id": 54680375, "link": "https://stackoverflow.com/questions/54680375/flow-object-value-based-on-key", "title": "Flow object value based on key", "body": "<p>When using flow, I've been wanting to type something like this:</p>\n\n<pre><code>type Item = {\n  timestamp: number,\n  status: { completed: boolean },\n  data: string,\n}\n\ntype Filter = {\n  timestamp: number,\n  status: { completed: boolean },\n}\n\nconst FilterFns: {\n  [key: $Keys&lt;Filter&gt;]: ($ElementType&lt;Filter, key&gt;, item: Item) =&gt; boolean\n} = {\n  timestamp: (timestamp, item) =&gt; timestamp === item.timestamp,\n  status: (status, item) =&gt; status.completed === item.status.completed,\n}\n</code></pre>\n\n<p>But I get the error:</p>\n\n<pre><code>13:   [key: $Keys&lt;Filter&gt;]: ($ElementType&lt;Filter, key&gt;, item: Item) =&gt; boolean\n                                                  ^ Cannot resolve name `key`.\n</code></pre>\n\n<p>If instead I define <code>FilterFns</code> as:</p>\n\n<pre><code>const FilterFns: {\n  [key: $Keys&lt;Filter&gt;]: ($Values&lt;Filter&gt;, item: Item) =&gt; boolean\n} = {\n  timestamp: (timestamp, item) =&gt; timestamp === item.timestamp,\n  status: (status, item) =&gt; status.completed === item.status.completed,\n}\n</code></pre>\n\n<p>I get the error:</p>\n\n<pre><code>16:   status: (status, item) =&gt; status.completed === item.status.completed,\n                                       ^ Cannot get `status.completed` because property `completed` is missing in `Number` [1].\nReferences:\n8:   timestamp: number,\n                ^ [1]\n</code></pre>\n\n<p>What's the correct way to ensure that the first argument passed into the function in the value of <code>FilterFns</code> is the corresponding type in <code>Filter</code>?</p>\n"}, {"tags": ["javascript", "google-chrome-extension", "notifications", "onclick"], "answers": [{"tags": [], "owner": {"reputation": 2443, "user_id": 3676373, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/HF3ws.jpg?s=128&g=1", "display_name": "Marvin Fischer", "link": "https://stackoverflow.com/users/3676373/marvin-fischer"}, "is_accepted": true, "score": 0, "last_activity_date": 1550096851, "creation_date": 1550096851, "answer_id": 54680421, "question_id": 54680349, "link": "https://stackoverflow.com/questions/54680349/how-do-i-make-my-chrome-notification-clickable/54680421#54680421", "title": "How do I make my chrome notification clickable?", "body": "<p>You can do it like this:</p>\n\n<pre><code>function show() {\n  var streamer = 'Streamer';\n  var quote = 'Quote';\n  var test = new Notification(quote, {\n    icon: 'assets/600x600.png',\n    body: streamer + ' is live!',\n    url: 'www.youtube.com'\n  });\n  test.onclick = function(){\n      window.open('http://example.com');\n      window.focus();\n  };\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 4110402, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b7b036a9f69ec207692b205bdc1d96ee?s=128&d=identicon&r=PG&f=1", "display_name": "Corphix", "link": "https://stackoverflow.com/users/4110402/corphix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 54680421, "answer_count": 1, "score": 0, "last_activity_date": 1550096851, "creation_date": 1550096448, "question_id": 54680349, "link": "https://stackoverflow.com/questions/54680349/how-do-i-make-my-chrome-notification-clickable", "title": "How do I make my chrome notification clickable?", "body": "<p>I am trying to implement clickable functionality into my chrome notification, allowing it to open a url in a new tab, but nothing seems to working. </p>\n\n<p>Tried adding multiple different variants of listeners, none of which seem to take.</p>\n\n<pre><code>function show() {\n  var streamer = 'Streamer';\n  var quote = 'Quote';\n  new Notification(quote, {\n    icon: 'assets/600x600.png',\n    body: streamer + ' is live!',\n    url: 'www.youtube.com'\n  });\n};\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1550096525, "post_id": 54680335, "comment_id": 96149606, "body": "<code>prompt()</code> always returns a string. Use <code>var someNumber = Number(prompt(&quot;...&quot;));</code> (also note that the code doesn&#39;t provide an answer if my birthday is in the current month but not today)"}], "answers": [{"comments": [{"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "edited": false, "score": 0, "creation_date": 1550096864, "post_id": 54680354, "comment_id": 96149735, "body": "I would recommend to use number parsing instead of double equals, it kinda encourages to write code in the wonderful javascript pitfalls :)"}], "tags": [], "owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "is_accepted": false, "score": 2, "last_activity_date": 1550096467, "creation_date": 1550096467, "answer_id": 54680354, "question_id": 54680335, "link": "https://stackoverflow.com/questions/54680335/what-i-am-i-missing-so-that-my-logic-operator-works-properly-for-my-if-else-stat/54680354#54680354", "title": "What I am I missing so that my Logic operator works properly for my if-else statement?", "body": "<p>Don't use strict equals (<code>===</code>). Standard <code>==</code> should work here, as your datatypes are incompatible: <code>birthMonth</code> is a string, and <code>currentMonth</code> is an integer, so strict equality will fail. Alternatively, you can convert the string to a number (or vise-versa) before comparing.</p>\n\n<p>You can try the newly updated code below (Enter todays date to show \"Today is your Birthday! in the prompts)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//declare variables the prompts the user to state their birthdate in \r\n//month, day and year\r\nvar birthYear = prompt('What year were you born in?');\r\nvar birthMonth = prompt('What month were you born in? In numerals please!');\r\nvar birthDay = prompt('What day of the month were you born on? In numerals please!');\r\n\r\n//declare variables to get current date\r\nvar now = new Date();\r\nvar currentYear = now.getFullYear();\r\nvar currentMonth = now.getMonth() + 1; //so now January = 1\r\nvar currentDay = now.getDate();\r\n//declare variable for age will turn this year\r\nvar age = currentYear - birthYear;\r\n//declare variable for text output\r\nvar text = \"\";\r\n\r\n//create if/else loop for three different scenarios\r\nif (birthMonth &lt; currentMonth) {\r\n    text += \"You have turned \" + age + \" years old already this year.\";\r\n} else if (birthMonth &gt; currentMonth) {\r\n    text += \"You will be turning \" + age + \" years old later this year.\";\r\n} else if (birthMonth == currentMonth &amp;&amp; birthDay == currentDay) {\r\n    text += \"Today is your Birthday! Happy Birthday!\";\r\n}\r\n\r\nconsole.log(text);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "reply_to_user": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1550112103, "post_id": 54680507, "comment_id": 96153741, "body": "added small explanation and link to a loose equality article"}], "tags": [], "owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "is_accepted": false, "score": 1, "last_activity_date": 1550112086, "last_edit_date": 1550112086, "creation_date": 1550097227, "answer_id": 54680507, "question_id": 54680335, "link": "https://stackoverflow.com/questions/54680335/what-i-am-i-missing-so-that-my-logic-operator-works-properly-for-my-if-else-stat/54680507#54680507", "title": "What I am I missing so that my Logic operator works properly for my if-else statement?", "body": "<p>Building upon FrankerZ answer, the <code>prompt</code> function returns a string and not a number, however I discourage the use of <code>==</code> since it is one of javascript awful random behaviors, in any other (sane) language trying to compare strings and numbers would not compile or throw an error, but javascript has hidden behaviors with loose equality, you can read more about it <a href=\"https://codeburst.io/javascript-double-equals-vs-triple-equals-61d4ce5a121a\" rel=\"nofollow noreferrer\">here</a></p>\n\n<p>I encourage you to use number parsing and <code>===</code> instead (also handling missing case):</p>\n\n<pre><code>//declare variables the prompts the user to state their birthdate in \n//month, day and year\nvar birthYear = Number(prompt('What year were you born in?'));\nvar birthMonth = Number(prompt('What month were you born in? In numerals please!'));\nvar birthDay = Number(prompt('What day of the month were you born on? In numerals please!'));\n\n//declare variables to get current date\nvar now = new Date();\nvar currentYear = now.getFullYear();\nvar currentMonth = now.getMonth() + 1; //so now January = 1\nvar currentDay = now.getDate();\n//declare variable for age will turn this year\nvar age = currentYear - birthYear;\n//declare variable for text output\nvar text = \"\";\n\n//create if/else loop for three different scenarios\nif (birthMonth &lt; currentMonth) {\n    text += \"You have turned \" + age + \" years old already this year.\";\n} else if (birthMonth &gt; currentMonth) {\n    text += \"You will be turning \" + age + \" years old later this year.\";\n} else if (birthMonth === currentMonth &amp;&amp; birthDay === currentDay) {\n    text += \"Today is your Birthday! Happy Birthday!\";\n} else (birthMonth === currentMonth &amp;&amp; birthDay !== currentDay) {\n    text += \"Your birthday is this month! Lucky you!\";\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 11059057, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kiQAK2VRiU0/AAAAAAAAAAI/AAAAAAAAP7o/y8p3amel_uc/photo.jpg?sz=128", "display_name": "Caioco", "link": "https://stackoverflow.com/users/11059057/caioco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550112086, "creation_date": 1550096318, "last_edit_date": 1550096623, "question_id": 54680335, "link": "https://stackoverflow.com/questions/54680335/what-i-am-i-missing-so-that-my-logic-operator-works-properly-for-my-if-else-stat", "title": "What I am I missing so that my Logic operator works properly for my if-else statement?", "body": "<p>My if-else code block is running well except for the last condition where I use an AND logic operator. I'm new to JavaScript and I can't figure out where I am going wrong! Ideas?</p>\n\n<p>I've tried adding brackets, taking away brackets, and rejigging the statement.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//declare variables the prompts the user to state their birthdate in \r\n//month, day and year\r\nvar birthYear = prompt('What year were you born in?');\r\nvar birthMonth = prompt('What month were you born in? In numerals please!');\r\nvar birthDay = prompt('What day of the month were you born on? In numerals please!');\r\n\r\n//declare variables to get current date\r\nvar now = new Date();\r\nvar currentYear = now.getFullYear();\r\nvar currentMonth = now.getMonth() + 1; //so now January = 1\r\nvar currentDay = now.getDate();\r\n//declare variable for age will turn this year\r\nvar age = currentYear - birthYear;\r\n//declare variable for text output\r\nvar text = \"\";\r\n//create if/else loop for three different scenarios\r\nif (birthMonth &lt; currentMonth) {\r\n  text += \"You have turned \" + age + \" years old already this year.\";\r\n} else if (birthMonth &gt; currentMonth) {\r\n  text += \"You will be turning \" + age + \" years old later this year.\";\r\n} else if (birthMonth === currentMonth &amp;&amp; birthDay === currentDay) {\r\n  text += \"Today is your Birthday! Happy Birthday!\";\r\n}\r\n\r\ndocument.getElementById('agestate').innerHTML = text;</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p id=\"agestate\"&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I should be able to input the current month and date when prompted to get the statement back \"Today is your birthday. Happy Birthday!\"</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 4, "creation_date": 1550096235, "post_id": 54680289, "comment_id": 96149503, "body": "Weird that you would want to do that."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1550096282, "post_id": 54680289, "comment_id": 96149519, "body": "@Phil not so fast.... ;)"}], "answers": [{"comments": [{"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1550096352, "post_id": 54680336, "comment_id": 96149539, "body": "Need to support IE11"}, {"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "edited": false, "score": 1, "creation_date": 1550096428, "post_id": 54680336, "comment_id": 96149563, "body": "use babel then, the question is kinda non-sensical anyways"}, {"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "reply_to_user": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "edited": false, "score": 0, "creation_date": 1550096623, "post_id": 54680336, "comment_id": 96149647, "body": "@ospfranco I&#39;m sure if op was using Babel, the need to specify up to which browser to support is irrelevant."}, {"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "edited": false, "score": 0, "creation_date": 1550096717, "post_id": 54680336, "comment_id": 96149676, "body": "ah, sorry, I missed the IE11 part."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1550097696, "post_id": 54680336, "comment_id": 96150003, "body": "If you are going to copy the bind like the others, you should at least remove the fat arrow.... lol"}, {"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1550097857, "post_id": 54680336, "comment_id": 96150052, "body": "@epascarello to be fair i was in a fiddle trying to figure out other ways of doing it, so i didn&#39;t know there were other answers until after i added mine. But yes. I was i bit to quick when i copied my arrow function example."}, {"owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "edited": false, "score": 0, "creation_date": 1550133438, "post_id": 54680336, "comment_id": 96160511, "body": "Yes, lambda like syntax is what I was looking for.  Unfortunately it doesn&#39;t look like IE supports it."}], "tags": [], "owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "is_accepted": true, "score": 1, "last_activity_date": 1550133496, "last_edit_date": 1550133496, "creation_date": 1550096328, "answer_id": 54680336, "question_id": 54680289, "link": "https://stackoverflow.com/questions/54680289/how-to-shorthand-a-callback-wtih-a-single-line/54680336#54680336", "title": "How to shorthand a callback wtih a single line?", "body": "<p>I don't know why you would want to make it even shorten, but i guess you could drop the function name. </p>\n\n<pre><code>$('#btnDoStuff').on('click', function() { return $('#modalBasicInfo').modal('show') });\n</code></pre>\n\n<p>Or you could bind the function with all of its arguments:</p>\n\n<pre><code>$('#btnDoStuff').on('click', $('#modalBasicInfo').modal.bind($('#modalBasicInfo'), 'show'));\n</code></pre>\n\n<p>Or if you intend to use babel you could use an arrow function.</p>\n\n<pre><code>$('#btnDoStuff').on('click', () =&gt; $('#modalBasicInfo').modal('show'));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "is_accepted": false, "score": 1, "last_activity_date": 1550097535, "last_edit_date": 1550097535, "creation_date": 1550097072, "answer_id": 54680464, "question_id": 54680289, "link": "https://stackoverflow.com/questions/54680289/how-to-shorthand-a-callback-wtih-a-single-line/54680464#54680464", "title": "How to shorthand a callback wtih a single line?", "body": "<p>You can <code>bind</code> the <code>modal</code> call for the eventhandler</p>\n\n<pre><code>$('#btnDoStuff').on('click', $('#modalBasicInfo').modal.bind($('#modalBasicInfo'),'show'));\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "is_accepted": false, "score": 1, "last_activity_date": 1550097206, "creation_date": 1550097206, "answer_id": 54680500, "question_id": 54680289, "link": "https://stackoverflow.com/questions/54680289/how-to-shorthand-a-callback-wtih-a-single-line/54680500#54680500", "title": "How to shorthand a callback wtih a single line?", "body": "<p>No clue why you would want to do it, but you can use .bind(), but makes no sense. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"button\").on(\"click\", $(\".modal\").modal.bind($(\".modal\"), \"show\"))</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.bundle.min.js\"&gt;&lt;/script&gt;\r\n&lt;link href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;button&gt;Foo&lt;/button&gt;\r\n&lt;div class=\"modal\"&gt;Bar&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 54181, "user_id": 9382, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/bc7b9ac824e43ce9d62bf7dfb37b6393?s=128&d=identicon&r=PG", "display_name": "AngryHacker", "link": "https://stackoverflow.com/users/9382/angryhacker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 99, "favorite_count": 0, "accepted_answer_id": 54680336, "answer_count": 3, "score": 0, "last_activity_date": 1550133496, "creation_date": 1550096089, "question_id": 54680289, "link": "https://stackoverflow.com/questions/54680289/how-to-shorthand-a-callback-wtih-a-single-line", "title": "How to shorthand a callback wtih a single line?", "body": "<p>Consider the following callback:</p>\n\n<pre><code>$('#btnDoStuff').on('click', function processBasicInfo() {    \n  $('#modalBasicInfo').modal('show');\n});\n</code></pre>\n\n<p>Since the function contains only a single line, is there a way to shorten it, like this?</p>\n\n<pre><code>$('#btnDoStuff').on('click', $('#modalBasicInfo').modal('show'));\n</code></pre>\n\n<p>or a variation thereof?</p>\n\n<p>P.S. Needs to support browsers all the way down to IE11.</p>\n"}, {"tags": ["javascript", "reactjs", "testing", "jestjs"], "answers": [{"comments": [{"owner": {"reputation": 362, "user_id": 9739023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vCrP4.jpg?s=128&g=1", "display_name": "Wollzy", "link": "https://stackoverflow.com/users/9739023/wollzy"}, "edited": false, "score": 0, "creation_date": 1550097664, "post_id": 54680504, "comment_id": 96149995, "body": "Awesome! I&#39;m testing someones code and was questioning if it was even necessary having it.  However your solution worked!"}, {"owner": {"reputation": 13002, "user_id": 7376526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gZqtD.png?s=128&g=1", "display_name": "Matt Carlotta", "link": "https://stackoverflow.com/users/7376526/matt-carlotta"}, "reply_to_user": {"reputation": 362, "user_id": 9739023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vCrP4.jpg?s=128&g=1", "display_name": "Wollzy", "link": "https://stackoverflow.com/users/9739023/wollzy"}, "edited": false, "score": 1, "creation_date": 1550100336, "post_id": 54680504, "comment_id": 96150857, "body": "You bet. Also see updated answer for a better <code>handleClick</code> callback."}], "tags": [], "owner": {"reputation": 13002, "user_id": 7376526, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gZqtD.png?s=128&g=1", "display_name": "Matt Carlotta", "link": "https://stackoverflow.com/users/7376526/matt-carlotta"}, "is_accepted": true, "score": 2, "last_activity_date": 1550101165, "last_edit_date": 1550101165, "creation_date": 1550097221, "answer_id": 54680504, "question_id": 54680279, "link": "https://stackoverflow.com/questions/54680279/mocking-syntheticevent-handler-for-onclick/54680504#54680504", "title": "Mocking SyntheticEvent handler for onClick", "body": "<p>I'm pretty sure you don't need <code>e.preventDefault()</code> in the <code>handleClick</code> method (in this case). You can remove it and be fine.</p>\n\n<p>However, in case you run into this issue where it's required (like <code>form</code> submissions or where you find that the page auto refreshes or you want to prevent a default action event), then just add a mocked <code>preventDefault</code> in the simulated <code>click</code> event:</p>\n\n<pre><code>wrapper.find(\"Icon\").at(0).simulate(\"click\", { preventDefault: () =&gt; null });\n</code></pre>\n\n<p>To ensure proper state changes, change your handleClick method to one of the below (since <code>setState</code> is asynchronous, utilizing its <a href=\"https://stackoverflow.com/questions/42038590/when-to-use-react-setstate-callback\">callback</a> ensures values are accurate upon comparison):</p>\n\n<p>Option 1 -- handleClick method:</p>\n\n<pre><code>handleClick() {\n  this.setState(prevState =&gt; {\n     const nextPage =  prevState.currentPage - 1; // subtract 1 from current page\n\n     return nextPage &gt; 0 // if next page is greater than 0\n       ? { currentPage: nextPage } // subtract 1\n       : { null } // else do nothing\n\n  })\n}\n</code></pre>\n\n<p>Option 2 -- handleClick method:</p>\n\n<pre><code>handleClick() {\n  this.setState(prevState =&gt; ({\n     currentPage: prevState.currentPage &gt; 0 ? prevState.currentPage - 1 : 0 // if current page is greater than 0, subtract 1, else set it 0\n  }))\n}\n</code></pre>\n"}], "owner": {"reputation": 362, "user_id": 9739023, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vCrP4.jpg?s=128&g=1", "display_name": "Wollzy", "link": "https://stackoverflow.com/users/9739023/wollzy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 897, "favorite_count": 0, "accepted_answer_id": 54680504, "answer_count": 1, "score": 2, "last_activity_date": 1550101165, "creation_date": 1550096035, "last_edit_date": 1550096981, "question_id": 54680279, "link": "https://stackoverflow.com/questions/54680279/mocking-syntheticevent-handler-for-onclick", "title": "Mocking SyntheticEvent handler for onClick", "body": "<p>I need to write a test to simulate the click on a chevron for changing pages.  The function called when onClick occurs has a synthetic event handler as a parameter and I need some way to mock this event handler (or rewrite the code with the same functionality) . I currently get the error </p>\n\n<p>TypeError: Cannot read property 'preventDefault' of undefined </p>\n\n<p>Edit:  Everything is contained in setTimeout because the buttons won't render until several promises have been resolved </p>\n\n<p>Here is the function code </p>\n\n<pre><code>handleClick(e) {\n  e.preventDefault();\n  if (this.state.currentPage &gt; 0) {\n    this.setState({\n      currentPage: this.state.currentPage - 1\n    });\n  }\n};\n</code></pre>\n\n<p>here is the code inside the render function</p>\n\n<pre><code>&lt;Icon\n  link\n  href=\"#\"\n  onClick={this.handleClick}\n &gt;\n   chevron_left\n &lt;/Icon&gt;\n</code></pre>\n\n<p>And finally my test code thus far</p>\n\n<pre><code> test(\"Chevron left\", done=&gt;{\n  Enzyme.configure({ adapter: new Adapter() });\n  const wrapper = shallow(\n      &lt;App/&gt;\n  );\n  expect(wrapper.exists()).toBe(true);\n\n  setTimeout(()=&gt;{\n      wrapper.instance().state.currentPage = 1;\n      wrapper.find(\"Icon\").at(0).simulate(\"click\");\n      expect(wrapper.instance().state.currentPage).toEqual(0);\n      done();\n  },0)\n});\n</code></pre>\n"}, {"tags": ["javascript", "svg"], "comments": [{"owner": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 1, "creation_date": 1550096198, "post_id": 54680258, "comment_id": 96149485, "body": "Please add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to the question. The code you have currently added is not complete, we cannot run it and see what you see."}, {"owner": {"reputation": 1, "user_id": 11058901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78539abded7058b75840c1639d348ce6?s=128&d=identicon&r=PG&f=1", "display_name": "DustyRoads", "link": "https://stackoverflow.com/users/11058901/dustyroads"}, "reply_to_user": {"reputation": 101196, "user_id": 1038015, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c5d912dac5c74b47bbaff7164f5f8bb8?s=128&d=identicon&r=PG", "display_name": "Robert Longson", "link": "https://stackoverflow.com/users/1038015/robert-longson"}, "edited": false, "score": 0, "creation_date": 1550099546, "post_id": 54680258, "comment_id": 96150635, "body": "Robert thank you so much! While stripping out code to get to the relevant code to post, the problem went away... there was nothing wrong with the code I originally posted. I haven&#39;t found the problem yet but at least I know where to look. Thanks again!"}], "owner": {"reputation": 1, "user_id": 11058901, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78539abded7058b75840c1639d348ce6?s=128&d=identicon&r=PG&f=1", "display_name": "DustyRoads", "link": "https://stackoverflow.com/users/11058901/dustyroads"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550100514, "creation_date": 1550095936, "last_edit_date": 1550100514, "question_id": 54680258, "link": "https://stackoverflow.com/questions/54680258/get-mouse-cooridinates-relative-to-svg-element", "title": "Get mouse cooridinates relative to svg element", "body": "<p>I'm using <code>GSAP</code> to tween an svg circle <code>x-position</code> to the mouse clientX.</p>\n\n<p>Circle is on the left side of the page, and everything works fine when I click near the circles origin. But as I click more to the right of the circle, the circle tween ends up farther and farther to the right of where the mouse was clicked.  </p>\n\n<p>This is the code I'm using for the final position of the circle after the tween.</p>\n\n<pre><code>var offSet = sliderLine.getBoundingClientRect().x;\nvar newx = e.clientX - offSet;\nTweenMax.to(sliderKnob, 0, {x:newx})\n</code></pre>\n"}, {"tags": ["javascript", "php", "jquery", "html"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 5, "creation_date": 1550095960, "post_id": 54680242, "comment_id": 96149390, "body": "Are the query results cacheable? If so, save them to a cache and update the cache every three minutes. This way you only run the query once no matter how many people view the page."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1550096159, "post_id": 54680242, "comment_id": 96149468, "body": "So you cache the result somewhere with a timestamp. If the time is less than the limit, that use the data, if it is greater than make a call and than cache it again."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 1, "creation_date": 1550096243, "post_id": 54680242, "comment_id": 96149505, "body": "You could also put them in to a <code>cache table</code> in your database, then do a <code>select * from cache_table</code> which will return results almost instantly."}, {"owner": {"reputation": 83063, "user_id": 2310830, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/P6rM1.png?s=128&g=1", "display_name": "RiggsFolly", "link": "https://stackoverflow.com/users/2310830/riggsfolly"}, "edited": false, "score": 1, "creation_date": 1550097758, "post_id": 54680242, "comment_id": 96150020, "body": "Did you consider fetching the result of each query using AJAX and just refreshing the relevant part of the page as each result is returned"}, {"owner": {"reputation": 73, "user_id": 7409283, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b4e084b9e7686239a7e91526254d30f0?s=128&d=identicon&r=PG&f=1", "display_name": "senjizu", "link": "https://stackoverflow.com/users/7409283/senjizu"}, "edited": false, "score": 0, "creation_date": 1550098526, "post_id": 54680242, "comment_id": 96150312, "body": "thank you all. &quot;Cache table&quot; had come to my mind but there was no &quot;insert into authority&quot; in the same database. I&#39;ll do a cache table by creating a cronjob in the background on a different db. So the problem will be solved."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1550099286, "post_id": 54680242, "comment_id": 96150556, "body": "Instead of a cron job, I would recommend using a <code>mysql event</code>."}, {"owner": {"reputation": 73, "user_id": 7409283, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b4e084b9e7686239a7e91526254d30f0?s=128&d=identicon&r=PG&f=1", "display_name": "senjizu", "link": "https://stackoverflow.com/users/7409283/senjizu"}, "edited": false, "score": 0, "creation_date": 1550102039, "post_id": 54680242, "comment_id": 96151311, "body": "I&#39;ll create the php file that makes inserting into the cache table as a different page. The user does not even need to have that page open. The page that is open to the user will only be the page that selects from the cache table. Thus, the user will never feel slowness.Don&#39;t you think that&#39;s more right? In the background, the cronjob will update the cache table every 3 minutes."}, {"owner": {"reputation": 73, "user_id": 7409283, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b4e084b9e7686239a7e91526254d30f0?s=128&d=identicon&r=PG&f=1", "display_name": "senjizu", "link": "https://stackoverflow.com/users/7409283/senjizu"}, "edited": false, "score": 0, "creation_date": 1550102188, "post_id": 54680242, "comment_id": 96151360, "body": "otherwise, the user will still feel the slowness of the select and insert if it is on the same page."}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1550157775, "post_id": 54680242, "comment_id": 96174968, "body": "When I say a <code>MySQL event</code>, that is a MySQL version of a cron job. You set when it runs and how often just like a cron job."}, {"owner": {"reputation": 73, "user_id": 7409283, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b4e084b9e7686239a7e91526254d30f0?s=128&d=identicon&r=PG&f=1", "display_name": "senjizu", "link": "https://stackoverflow.com/users/7409283/senjizu"}, "edited": false, "score": 0, "creation_date": 1550231158, "post_id": 54680242, "comment_id": 96202744, "body": "Ahh, okay. I&#39;ve already used the Mysql event. And the problem is solved. Thanks again to all of you. The page returns response in 2 seconds :))"}], "owner": {"reputation": 73, "user_id": 7409283, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b4e084b9e7686239a7e91526254d30f0?s=128&d=identicon&r=PG&f=1", "display_name": "senjizu", "link": "https://stackoverflow.com/users/7409283/senjizu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 133, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1550095860, "creation_date": 1550095860, "question_id": 54680242, "link": "https://stackoverflow.com/questions/54680242/refresh-page-once-for-all-users", "title": "Refresh page once for all users", "body": "<p>I have about 10 sql queries on a php page. The page responds in about 30 seconds because there are complex queries.</p>\n\n<p>I want to refresh the page every three minutes.</p>\n\n<p>I used a code for this as follows.</p>\n\n<pre><code>$page = $_SERVER['PHP_SELF'];\n$sec = \"240\";\n&lt;meta http-equiv=\"refresh\" content=\"&lt;?php echo $sec?&gt;;URL='&lt;?php echo $page?&gt;'\"&gt;\n</code></pre>\n\n<p>but if the page is open at 10 users at the same time, it means that it calls sql queries 10 times every three minutes.</p>\n\n<p>what I want is:\nIf page is only open for one person or 50 people, the page will only run once every three minutes for the sql query. so I want the database to go less.</p>\n\n<p>if the page isn't open in anyone, I don't want it to work at all.</p>\n\n<p>The purpose of this page: to show specific information to the user in the database. The reason I refresh the page is: If the new data comes up when the page is open, the user can see it.</p>\n\n<p>Would you please help with this topic?</p>\n"}, {"tags": ["javascript", "node.js", "discord"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 2, "creation_date": 1550095724, "post_id": 54680181, "comment_id": 96149307, "body": "<code>.catch()</code> \ud83d\udc48 you are intentionally hiding any possible errors with this. I suggest you add something like <code>.catch(err =&gt; { console.error(err) })</code>"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1550095765, "post_id": 54680181, "comment_id": 96149320, "body": "<code>client.on=(&#39;ready&#39;, () =&gt; {     console.log(&quot;Music Bot is Ready&quot;);  });</code>  &lt;-- error"}, {"owner": {"reputation": 140, "user_id": 2193533, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/l9cTV.jpg?s=128&g=1", "display_name": "Rob B.", "link": "https://stackoverflow.com/users/2193533/rob-b"}, "edited": false, "score": 1, "creation_date": 1550095785, "post_id": 54680181, "comment_id": 96149328, "body": "Could you please also add any error messages you get in regards to the output?"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1550096043, "post_id": 54680181, "comment_id": 96149429, "body": "As @epascarello points out, <code>client.on=...</code> is wrong but it won&#39;t trigger any errors. What you&#39;re effectively doing there is <b>replacing</b> <code>client.on</code> with a function that logs <i>&quot;Music Bot is Ready&quot;</i> and does nothing else. Your next call to <code>client.on(&#39;message&#39;, ...</code> will execute that function you assigned. Long store short, remove the <code>=</code> and make it <code>client.on(&#39;ready&#39;, ...</code>"}, {"owner": {"reputation": 11, "user_id": 10825907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eIMpd.png?s=128&g=1", "display_name": "Itz_Faded", "link": "https://stackoverflow.com/users/10825907/itz-faded"}, "edited": false, "score": 0, "creation_date": 1550096616, "post_id": 54680181, "comment_id": 96149642, "body": "I&#39;m have to back to you guys have to get some sleep. But thx in advance"}], "owner": {"reputation": 11, "user_id": 10825907, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eIMpd.png?s=128&g=1", "display_name": "Itz_Faded", "link": "https://stackoverflow.com/users/10825907/itz-faded"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1550175077, "creation_date": 1550095509, "last_edit_date": 1550175077, "question_id": 54680181, "link": "https://stackoverflow.com/questions/54680181/my-bot-wont-play-music-is-something-wrong-in-my-code", "title": "My bot won&#39;t play music. Is something wrong in my code", "body": "<p>I have done everything correctly according to the video and it doesn't seem to work.</p>\n\n<p>I've correcting my mistakes but nothing seems to help </p>\n\n<p>This is my code</p>\n\n<pre><code>const Discord = require('discord.js');\n\nconst client = new Discord.Client();\n\nconst token = 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX';\n\nclient.login(token);\n\nconst ytdl = require('ytdl-core');\nconst streamOptions = { seek: 0, volume: 1 };\n\nclient.on=('ready', () =&gt; {\n    console.log(\"Music Bot is Ready\");\n\n});\n\nclient.on('message', Message =&gt; {\n    if(Message.author.bot)\n        return;\n    if(Message.content.toLowerCase().startsWith(\"?play\"))\n    {\n\n        let VoiceChannnel = message.guild.channels.find(channel =&gt; channel.id === 'XXXXXXXXXXXXXXXXX');\n        if(VoiceChannnel != null)\n        {\n            console.log(VoiceChannnel.name + \" Was found and is a \" + VoiceChannnel.type + \" channel.\");\n            VoiceChannnel.join()\n            .then(connection =&gt;{\n                console.log(\"Bot joined the channel!\");\n                const stream = ytdl('https://www.youtube.com/watch?v=XXXXXXXXXX', { filter :'audioonly' });\n                const dispatcher = connection.playStream(stream, streamOptions);\n            })\n            .catch();\n        };\n\n    }\n});\n</code></pre>\n\n<p>Music bot was found and is in a voice channel</p>\n"}, {"tags": ["javascript", "closures"], "comments": [{"owner": {"reputation": 5287, "user_id": 1813169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/wTAkF.jpg?s=128&g=1", "display_name": "MTCoster", "link": "https://stackoverflow.com/users/1813169/mtcoster"}, "edited": false, "score": 3, "creation_date": 1550095432, "post_id": 54680147, "comment_id": 96149198, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/111102/how-do-javascript-closures-work\">How do JavaScript closures work?</a>"}, {"owner": {"reputation": 179, "user_id": 3927582, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/0b521a3b44a8489e92a0022766dcf2d4?s=128&d=identicon&r=PG&f=1", "display_name": "user3927582", "link": "https://stackoverflow.com/users/3927582/user3927582"}, "edited": false, "score": 0, "creation_date": 1550225891, "post_id": 54680147, "comment_id": 96199864, "body": "As another resource I&#39;ve written an article explaining closures - <a href=\"https://medium.com/@r.henry1989/javascript-what-is-closure-81c0d2b74916\" rel=\"nofollow noreferrer\">medium.com/@r.henry1989/javascript-what-is-closure-81c0d2b74&zwnj;&#8203;916</a>"}], "answers": [{"comments": [{"owner": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "edited": false, "score": 0, "creation_date": 1550098128, "post_id": 54680584, "comment_id": 96150159, "body": "&quot;But in general, you need to close over a <b>mutable</b> variable&quot; - I suppose that&#39;s your personal preference. Closures over immutables are fine and I see them a lot."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "edited": false, "score": 0, "creation_date": 1550098282, "post_id": 54680584, "comment_id": 96150205, "body": "@AlexYu Sorry for the incomprehensible phrasing, edited. It was never my intention to advise using mutable variables..."}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": true, "score": 2, "last_activity_date": 1550098190, "last_edit_date": 1550098190, "creation_date": 1550097721, "answer_id": 54680584, "question_id": 54680147, "link": "https://stackoverflow.com/questions/54680147/a-little-help-understanding-closures/54680584#54680584", "title": "A little help understanding closures?", "body": "<p>No, this is too simple. Sure, in many cases the closed-over variable is a constant, and might as well be filled in. But in general, you need to consider that it is closing over a <em>mutable</em> variable:</p>\n\n<pre><code>var count = 0;\nfunction increment() { // yes, this is a closure as well - `count` is in its scope\n  count++;\n}\n\nconsole.log(count);\nincrement();\nconsole.log(count);\nincrement();\nconsole.log(count);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2301, "user_id": 1168212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oayHK.jpg?s=128&g=1", "display_name": "Alex Yu", "link": "https://stackoverflow.com/users/1168212/alex-yu"}, "is_accepted": false, "score": 0, "last_activity_date": 1550100354, "last_edit_date": 1550100354, "creation_date": 1550099851, "answer_id": 54680917, "question_id": 54680147, "link": "https://stackoverflow.com/questions/54680147/a-little-help-understanding-closures/54680917#54680917", "title": "A little help understanding closures?", "body": "<p>Closures are in fact very simple concept with powerful consequences.</p>\n\n<p>I'm not an historian of programming languages and cannot provide comparative analysis in different languages but I suppose they are everywhere almost the same as was defined in Scheme specification in 1975 by Sussman and Steel.</p>\n\n<p>So how do we can describe closure in most simple way?</p>\n\n<h1>Very simple explanation from interpreter point (although maybe not \"mathemathically\" correct)</h1>\n\n<p>It's just a trick that allows to \"break the rules\" of variable lifecycle.</p>\n\n<p>Let's look at your example:</p>\n\n<pre><code>/* 1. Each function have an own \"namespace\" where variables lives\n   2. After `return` from a function it's namespace *must* be destroyed in \"normal\" cases \n      and every value *must* be deallocated */\nfunction retailPriceMaker(manufacturePrice) { \n    /* 3. manufacturePrice - *must* be deallocated \n     after return from retailPriceMaker */\n    return function(marketMultiplier) { \n    /* 4. But closures allows to \"break\" this rule \n          and languages that supports closures \n          do not deallocate \"closed\" values */\n      return marketMultiplier * manufacturePrice; \n    };\n    /* 5. manufacturePrice value here remains closed \n         and not deallocated after return */\n}\n</code></pre>\n\n<p>Everything becames much more simpler if you think about allocations and deallocations. </p>\n\n<p>Just note that: </p>\n\n<ol>\n<li>Without closures interpreter <strong>must</strong> destroy value after return from function</li>\n<li>Closures allows to \"break\" this rule. \"Closed\" values are not destroyed after return</li>\n<li>This \"trick\" is very simple itself but very powerful</li>\n</ol>\n"}], "owner": {"reputation": 6375, "user_id": 6826164, "user_type": "registered", "accept_rate": 39, "profile_image": "https://lh6.googleusercontent.com/-CKThqFqe5Eo/AAAAAAAAAAI/AAAAAAAAP10/ih0uh1YgT_I/photo.jpg?sz=128", "display_name": "Jonathan Tuzman", "link": "https://stackoverflow.com/users/6826164/jonathan-tuzman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 54680584, "answer_count": 2, "score": 0, "last_activity_date": 1550100354, "creation_date": 1550095357, "question_id": 54680147, "link": "https://stackoverflow.com/questions/54680147/a-little-help-understanding-closures", "title": "A little help understanding closures?", "body": "<p>In the Flatiron lesson I'm doing on closures, there is the following example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function retailPriceMaker(manufacturePrice) {\n  return function(marketMultiplier) {\n    return marketMultiplier * manufacturePrice;\n  };\n}\n\nconst retailPriceForNine = retailPriceMaker(9);\n\nretailPriceForNine(2);\n// 18\n</code></pre>\n\n<p>The lesson of course talks about how when the function inside <code>retailPriceMaker</code> is declared, the closure has access to (closure over) the variables in its scope, i.e., <code>manufacturePrice</code>, and retains it even when it's called, later.</p>\n\n<p>I do understand this, as much as it makes my brain hurt.</p>\n\n<p>One way that makes it a lot simpler for me is to think of it this way:</p>\n\n<hr>\n\n<p><strong><code>retailPriceMaker(9)</code> returns the following function:</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function(marketMultiplier) {\n    return marketMultiplier * 9; \n  };\n</code></pre>\n\n<hr>\n\n<p>Where the fact that there was ever a variable called <code>manufacturePrice</code> <em>does not matter</em> and might as well be erased from the returned function's history books.</p>\n\n<p>The idea that a closure \"writes in\" the values that are passed to it, rather than thinking of the variables/arguments being referenced in seeming absentia, is a LOT easier to wrap my head around.</p>\n\n<p>So <strong>my question is</strong>: is this a valid way to think of closures, or am I missing something? It does seem a little too simple, and I would assume that if my explanation were completely valid:</p>\n\n<ol>\n<li>Closures would indeed be taught this way</li>\n<li>The JavaScript console would show the \"filled in\" function when you call the returned function:</li>\n</ol>\n\n<pre class=\"lang-js prettyprint-override\"><code>function retailPriceMaker(manufacturePrice) {\n  return function(marketMultiplier) {\n    return marketMultiplier * manufacturePrice;\n  };\n}\n\nconst retailPriceForNine = retailPriceMaker(9);\n\nretailPriceForNine;\n// \u0192 (marketMultiplier) {\n//    return marketMultiplier * 9;\n//  }\n</code></pre>\n\n<p>So, what, if anything, am I missing? Or have I just turned everyone's world upside down? (highly, completely unlikely)</p>\n"}, {"tags": ["javascript", "node.js", "hash", "keccak"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 1, "creation_date": 1550130663, "post_id": 54680119, "comment_id": 96159160, "body": "Something to do with using <code>&#39;hello&#39;</code> instead of the contents of the file?"}, {"owner": {"reputation": 1244, "user_id": 3901849, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f2b21e08044017619910f115f8f6533c?s=128&d=identicon&r=PG", "display_name": "shogitai", "link": "https://stackoverflow.com/users/3901849/shogitai"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1550132260, "post_id": 54680119, "comment_id": 96159912, "body": "\ud83d\ude48 I corrected, but I get <code>&#47;node_modules&#47;keccak256&#47;dist&#47;index.js:34       throw new Error(&#39;invalid type&#39;); Error: invalid type     at toBuffer</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1244, "user_id": 3901849, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f2b21e08044017619910f115f8f6533c?s=128&d=identicon&r=PG", "display_name": "shogitai", "link": "https://stackoverflow.com/users/3901849/shogitai"}, "is_accepted": false, "score": 0, "last_activity_date": 1550130492, "creation_date": 1550130492, "answer_id": 54685455, "question_id": 54680119, "link": "https://stackoverflow.com/questions/54680119/get-correct-kekkak256-of-an-uploaded-file-in-nodejs/54685455#54685455", "title": "Get correct Kekkak256 of an uploaded file in NodeJS", "body": "<p>Solved by using <a href=\"https://www.npmjs.com/package/sha3\" rel=\"nofollow noreferrer\">NPM <code>sha-3</code></a>:</p>\n\n<pre><code>const express = require('express');\nconst fs = require('fs');\nconst formidable = require('formidable'),\n    http = require('http'),\n    util = require('util');\nconst { Keccak } = require('sha3');\nconst hash = new Keccak(256);\n\nconst router = express.Router();\n\nrouter.get('/', (req, res) =&gt; {\n  res.sendFile('index.html', {root: __dirname })\n});\n\n\nrouter.post('/upload', (req, res) =&gt; {\n  var form = new formidable.IncomingForm();\n\n    form.parse(req, function(err, fields, files) {\n      res.writeHead(200, {'content-type': 'text/plain'});\n      res.write('received upload saved in: ' + files.upload.path + '\\n\\n');\n      var file = fs.readFileSync(files.upload.path);\n      hash.update(file);\n      console.log(hash.digest('hex'));\n      res.end(\"\");\n\n    });\n\n    return;\n});\n</code></pre>\n\n<p>Now it works fine.</p>\n"}], "owner": {"reputation": 1244, "user_id": 3901849, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/f2b21e08044017619910f115f8f6533c?s=128&d=identicon&r=PG", "display_name": "shogitai", "link": "https://stackoverflow.com/users/3901849/shogitai"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 275, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550132209, "creation_date": 1550095238, "last_edit_date": 1550132209, "question_id": 54680119, "link": "https://stackoverflow.com/questions/54680119/get-correct-kekkak256-of-an-uploaded-file-in-nodejs", "title": "Get correct Kekkak256 of an uploaded file in NodeJS", "body": "<p>I am using keccak256 npm module to calculate the hash of an uploaded file. I verify the correctness and I see that the given hash does not correspond to the ones compared on some online hash calculators (such as: <a href=\"https://www.browserling.com/tools/sha3-hash\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://keccak-256.cloxy.net\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://emn178.github.io/online-tools/keccak_256.html\" rel=\"nofollow noreferrer\">this</a> ).</p>\n\n<p>The code I run is:</p>\n\n<pre><code>const express = require('express');\nconst fs = require('fs');\nconst keccak256 = require('keccak256');\nconst formidable = require('formidable'),\n    http = require('http'),\n    util = require('util');\n\nconst router = express.Router();\n\nrouter.get('/', (req, res) =&gt; {\n  res.sendFile('index.html', {root: __dirname })\n});\n\n\nrouter.post('/upload', (req, res) =&gt; {\n  var form = new formidable.IncomingForm();\n\n    form.parse(req, function(err, fields, files) {\n      res.writeHead(200, {'content-type': 'text/plain'});\n      res.write('received upload saved in: ' + files.upload.path + '\\n\\n');\n      var readStream = fs.createReadStream(files.upload.path);\n      //res.write(readStream);\n      console.log(keccak256(readStream).toString('hex'))\n      res.end(\"\");\n\n    });\n\n    return;\n});\n</code></pre>\n\n<p>Can anyone kindly explain to me where I am wrong and how I can correct it?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 6, "creation_date": 1550095291, "post_id": 54680109, "comment_id": 96149136, "body": "You can&#39;t. <code>const</code> is a value that is set once declared, and it never can be reassigned thereafter."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 3, "creation_date": 1550095300, "post_id": 54680109, "comment_id": 96149138, "body": "<a href=\"https://stackoverflow.com/q/21237105/215552\">Const in javascript? When to use it and is it necessary</a>"}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1550095349, "post_id": 54680109, "comment_id": 96149161, "body": "<i>The value of a constant cannot change through reassignment, and it can&#39;t be redeclared</i>"}, {"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "reply_to_user": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 4, "creation_date": 1550095377, "post_id": 54680109, "comment_id": 96149173, "body": "@GetOffMyLawn <code>const</code> values can change, they just can&#39;t get reassigned."}, {"owner": {"reputation": 53905, "user_id": 2864740, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/e7a05a144f218bde07b659bc98e1ca7d?s=128&d=identicon&r=PG&f=1", "display_name": "user2864740", "link": "https://stackoverflow.com/users/2864740/user2864740"}, "edited": false, "score": 1, "creation_date": 1550095381, "post_id": 54680109, "comment_id": 96149176, "body": "More to the point, unlike readonly in say C# or Java (which allow deferred assignment in certain contexts), const requires the expression at the declaration site - this is part of the syntax."}, {"owner": {"reputation": 867, "user_id": 4538529, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/661c8c2d040934ba90bf74749ed88636?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/4538529/andreas"}, "edited": false, "score": 0, "creation_date": 1550095498, "post_id": 54680109, "comment_id": 96149223, "body": "I see, then I understand. Then I need to declare the const as it is in one go. Thank you for pointing that out!"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1550097871, "post_id": 54680109, "comment_id": 96150059, "body": "Why not just write the usual <code>const exch = new ccxt.kortux ({ enableRateLimit: true })</code>? What do you mean by &quot;<i>I need that variable to be global for a loop function</i>&quot;, can you show an example?"}], "owner": {"reputation": 867, "user_id": 4538529, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/661c8c2d040934ba90bf74749ed88636?s=128&d=identicon&r=PG&f=1", "display_name": "Andreas", "link": "https://stackoverflow.com/users/4538529/andreas"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 384, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550095199, "creation_date": 1550095199, "question_id": 54680109, "link": "https://stackoverflow.com/questions/54680109/how-to-declare-const-as-an-empty-variable", "title": "How to declare &#39;const&#39; as an empty variable", "body": "<p>I wonder if it is possible to declare 'const exch' as empty first since I need that variable to be global for a loop function?</p>\n\n<p>The below does not seem to work?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const exch;\r\nexch = new ccxt.kortux ({ enableRateLimit: true })</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "firebase", "vue.js"], "answers": [{"comments": [{"owner": {"reputation": 423, "user_id": 8277430, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/183ebb07c8c979e64a021f19aeefe80c?s=128&d=identicon&r=PG", "display_name": "foliwe83", "link": "https://stackoverflow.com/users/8277430/foliwe83"}, "edited": false, "score": 0, "creation_date": 1550097990, "post_id": 54680583, "comment_id": 96150107, "body": "there are multiple documents with different timestamps"}], "tags": [], "owner": {"reputation": 16872, "user_id": 3412322, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6MPf7.jpg?s=128&g=1", "display_name": "Daniel Beck", "link": "https://stackoverflow.com/users/3412322/daniel-beck"}, "is_accepted": true, "score": 8, "last_activity_date": 1550097720, "creation_date": 1550097720, "answer_id": 54680583, "question_id": 54680103, "link": "https://stackoverflow.com/questions/54680103/how-to-convert-firestore-timestamps-to-full-dates-with-vue-js/54680583#54680583", "title": "how to convert firestore TIMESTAMPS to full dates with vue Js", "body": "<p>Take the <code>seconds</code> value from the timestamp, multiply by 1000 to get the ms value, and use <code>Date()</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  let timestamp = { seconds: 1549843200, nanoseconds: 0 } // firebase data     \r\n  let myDate = new Date(timestamp.seconds * 1000) // date object\r\n  \r\n  console.log(myDate)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>From there,  you can extract the month/day/year or otherwise format the date <a href=\"https://stackoverflow.com/questions/1056728/where-can-i-find-documentation-on-formatting-a-date-in-javascript\">exactly as you would any other javascript Date object</a>.</p>\n"}, {"tags": [], "owner": {"reputation": 98, "user_id": 5797227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c71eef882352cdddd8fbbab1023d609b?s=128&d=identicon&r=PG&f=1", "display_name": "ggootz", "link": "https://stackoverflow.com/users/5797227/ggootz"}, "is_accepted": false, "score": 0, "last_activity_date": 1580502252, "creation_date": 1580502252, "answer_id": 60010765, "question_id": 54680103, "link": "https://stackoverflow.com/questions/54680103/how-to-convert-firestore-timestamps-to-full-dates-with-vue-js/60010765#60010765", "title": "how to convert firestore TIMESTAMPS to full dates with vue Js", "body": "<p>Just to add to Daniel's answer above...there are several date libraries out there...I find <a href=\"https://momentjs.com/\" rel=\"nofollow noreferrer\">momentjs</a> very useful.</p>\n\n<p>Example:</p>\n\n<pre><code>import moment from \"moment\"\n\nlet myDate = created_on.seconds * 1000 // Unix ms timestamp\n\nlet myDay = moment(myDate, 'x').format('dddd') // Monday\nlet myMonth = moment(myDate, 'x').format('MMM') // January\n\n</code></pre>\n\n<p><a href=\"https://momentjs.com/docs/\" rel=\"nofollow noreferrer\">Full Documentation</a> here</p>\n"}, {"tags": [], "owner": {"reputation": 582, "user_id": 9396266, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-_EErDST1848/AAAAAAAAAAI/AAAAAAAAACM/ayO4YgM8Jwo/photo.jpg?sz=128", "display_name": "Thomas Kuhlmann", "link": "https://stackoverflow.com/users/9396266/thomas-kuhlmann"}, "is_accepted": false, "score": 3, "last_activity_date": 1599918209, "last_edit_date": 1599918209, "creation_date": 1599909450, "answer_id": 63859756, "question_id": 54680103, "link": "https://stackoverflow.com/questions/54680103/how-to-convert-firestore-timestamps-to-full-dates-with-vue-js/63859756#63859756", "title": "how to convert firestore TIMESTAMPS to full dates with vue Js", "body": "<p>I don't think you'll need any external libraries for your use case. Firestore timestamps have a method that returns a date object, so what you could do is:</p>\n<ol>\n<li><p>convert timestamp to date object:</p>\n<pre><code> const query = {\n  id: doc.id,\n  content: doc.data().content,\n  date: doc.data().created_on.toDate()\n};\n</code></pre>\n</li>\n</ol>\n<p><a href=\"https://firebase.google.com/docs/reference/js/firebase.firestore.Timestamp#todate\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/reference/js/firebase.firestore.Timestamp#todate</a></p>\n<ol start=\"2\">\n<li>Use built-in Date methods to get the numerical day and month:</li>\n</ol>\n<p><code>{{ date.getDate() }}</code>  and\n<code>{{ date.getMonth() + 1 }}</code></p>\n<p><em>Months start counting from 0, so december is 11</em></p>\n<p>If you want to format the date differently, I'd first try if you can use Intl.DateTimeFormat. If that doesn't offer what you need I'd pick something from date-fns that meets your needs.</p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat</a></p>\n<p><a href=\"https://date-fns.org/\" rel=\"nofollow noreferrer\">https://date-fns.org/</a></p>\n"}], "owner": {"reputation": 423, "user_id": 8277430, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/183ebb07c8c979e64a021f19aeefe80c?s=128&d=identicon&r=PG", "display_name": "foliwe83", "link": "https://stackoverflow.com/users/8277430/foliwe83"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5989, "favorite_count": 0, "accepted_answer_id": 54680583, "answer_count": 3, "score": 3, "last_activity_date": 1599918209, "creation_date": 1550095178, "last_edit_date": 1550097397, "question_id": 54680103, "link": "https://stackoverflow.com/questions/54680103/how-to-convert-firestore-timestamps-to-full-dates-with-vue-js", "title": "how to convert firestore TIMESTAMPS to full dates with vue Js", "body": "<p>I want to convert the timestamp I get from the Google firestore to days and months in my vueApp.</p>\n\n<p>I get an object like this <code>Object { seconds: 1549843200, nanoseconds: 0 }</code></p>\n\n<pre><code>&lt;template&gt;\n   &lt;div v-for=\"note in notes\" :key=\"note.id\" class=\"note\"&gt;\n     &lt;div class=\"note_dates\"&gt;\n       &lt;span class=\"day\"&gt;{{note.day}}&lt;/span&gt;\n       &lt;span class=\"month\"&gt;{{note.month}}&lt;/span&gt;\n       .........\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  data() {\n    return {\n      notes: []\n    };\n  },\n\n  methods: {},\n  created() {\n    notesCollection.get().then(querySnapshot =&gt; {\n      querySnapshot.forEach(doc =&gt; {\n        const query = {\n          id: doc.id,\n          content: doc.data().content,\n          day: doc.data().created_on,\n          month: doc.data().created_on\n        };\n\n        this.notes.push(query);\n      });\n    });\n  }\n</code></pre>\n\n<p>the value <code>created_on</code> is a timestamp in the firestore collection </p>\n\n<p>So, in my view component, I want to echo just the day and the month from the timestamp.</p>\n"}, {"tags": ["javascript", "google-sheets"], "comments": [{"owner": {"reputation": 1807, "user_id": 1691677, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/dxodi.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/1691677/chris"}, "edited": false, "score": 0, "creation_date": 1550095041, "post_id": 54679982, "comment_id": 96149031, "body": "This is not really a Google Apps Script question. Apps Script is a language based on Javascript that is used to create addons within Google Drive. I have proposed changes to your tags."}, {"owner": {"reputation": 1, "user_id": 10681864, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jx7wMokWqME/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-h29q0gw-pp1LUR39N4m-dFXvgN8w/mo/photo.jpg?sz=128", "display_name": "Jacob Ruleaux", "link": "https://stackoverflow.com/users/10681864/jacob-ruleaux"}, "reply_to_user": {"reputation": 1807, "user_id": 1691677, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/dxodi.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/1691677/chris"}, "edited": false, "score": 0, "creation_date": 1550097055, "post_id": 54679982, "comment_id": 96149802, "body": "Thanks. First post..."}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1550099525, "post_id": 54679982, "comment_id": 96150628, "body": "@Jacob Ruleaux Before I answer, I would like to confirm about your situation, because I would like to correctly understand it. 1. You can use Sheets API. 2. You want to create new Spreadsheet including 2 sheets. 3. Your issue is the request body and you want the correct request body for it. Is my understanding correct?"}, {"owner": {"reputation": 1, "user_id": 10681864, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jx7wMokWqME/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-h29q0gw-pp1LUR39N4m-dFXvgN8w/mo/photo.jpg?sz=128", "display_name": "Jacob Ruleaux", "link": "https://stackoverflow.com/users/10681864/jacob-ruleaux"}, "reply_to_user": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1550100314, "post_id": 54679982, "comment_id": 96150851, "body": "@Tanaike That is correct. I can create a spreadsheet using the API via javascript but can only seem to create a spreadsheet with one sheet. I would like two. The request body does not seem to work in the above format. I have tried different variations."}, {"owner": {"reputation": 1, "user_id": 10681864, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jx7wMokWqME/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-h29q0gw-pp1LUR39N4m-dFXvgN8w/mo/photo.jpg?sz=128", "display_name": "Jacob Ruleaux", "link": "https://stackoverflow.com/users/10681864/jacob-ruleaux"}, "edited": false, "score": 0, "creation_date": 1550100396, "post_id": 54679982, "comment_id": 96150872, "body": "I use this:   $.ajax({                     url: &#39;<a href=\"https://sheets.googleapis.com/v4/spreadsheets/?alt=json&amp;access_token=\" rel=\"nofollow noreferrer\">sheets.googleapis.com/v4/spreadsheets/&hellip;</a>&#39; + googleAPICreds.access_token,                     type: &quot;POST&quot;,                     data: JSON.stringify(data),                     dataType: &#39;json&#39;,                     contentType: &quot;application/json; charset=utf-8&quot;,                     success: function (response) {                         googleAPIHandler.saveSpreadsheetId(response);                     }                 });                 console.log(googleAPICreds.access_token);"}, {"owner": {"reputation": 1, "user_id": 10681864, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jx7wMokWqME/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-h29q0gw-pp1LUR39N4m-dFXvgN8w/mo/photo.jpg?sz=128", "display_name": "Jacob Ruleaux", "link": "https://stackoverflow.com/users/10681864/jacob-ruleaux"}, "edited": false, "score": 0, "creation_date": 1550100979, "post_id": 54679982, "comment_id": 96151018, "body": "I resolved this. Stupid mistake on my part. Thank you."}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "edited": false, "score": 0, "creation_date": 1550101259, "post_id": 54679982, "comment_id": 96151095, "body": "@Jacob Ruleaux Thank you for replying. I&#39;m glad your issue was resolved. When your issue was resolved, can you post it as an answer and accept it? By this, your question and answer will help other users who have the same issue."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10681864, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jx7wMokWqME/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-h29q0gw-pp1LUR39N4m-dFXvgN8w/mo/photo.jpg?sz=128", "display_name": "Jacob Ruleaux", "link": "https://stackoverflow.com/users/10681864/jacob-ruleaux"}, "is_accepted": true, "score": 0, "last_activity_date": 1550101597, "creation_date": 1550101597, "answer_id": 54681186, "question_id": 54679982, "link": "https://stackoverflow.com/questions/54679982/how-can-i-create-a-google-spreadsheet-with-two-sheets-in-javascript-using-google/54681186#54681186", "title": "How Can I create a Google spreadsheet with two sheets in javascript using Google sheets API?", "body": "<p>I was missing additional brackets around my data. Simple mistake:</p>\n\n<p>var data =\n                    {\n                        properties: {\n                            title: 'Data Sheet'\n                        },</p>\n\n<pre><code>                    sheets : [\n                        {\n                            properties: {\n                                title: 'data A',\n                            }\n                        },\n                        {\n                            properties: {\n                                title: 'data B',\n                            }\n                        }\n                    ]\n                };\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10681864, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Jx7wMokWqME/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-h29q0gw-pp1LUR39N4m-dFXvgN8w/mo/photo.jpg?sz=128", "display_name": "Jacob Ruleaux", "link": "https://stackoverflow.com/users/10681864/jacob-ruleaux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 54681186, "answer_count": 1, "score": 0, "last_activity_date": 1550101597, "creation_date": 1550094560, "last_edit_date": 1550096067, "question_id": 54679982, "link": "https://stackoverflow.com/questions/54679982/how-can-i-create-a-google-spreadsheet-with-two-sheets-in-javascript-using-google", "title": "How Can I create a Google spreadsheet with two sheets in javascript using Google sheets API?", "body": "<p>I'm trying to create a Google Spreadsheet with two sheets or 'tabs' Using javascript. I can Create a sheet and add a title to a tab, but I can only create one tab. I have tried to use the <a href=\"https://developers.google.com/sheets/api/samples/sheet\" rel=\"nofollow noreferrer\">addSheet</a> property as well and it simply over-writes existing sheet. This is the data I'm trying to send as an example:</p>\n\n<pre><code>var data = {\n  properties: {\n    title: 'Data Sheet'\n  },\n\n  sheets: [{\n    properties: {\n      title: 'data A',\n    },\n    properties: {\n      title: 'data B',\n    }\n\n  }]\n};\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "algorithm", "for-loop"], "comments": [{"owner": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1550094723, "post_id": 54679981, "comment_id": 96148892, "body": "This is probably more appropriate on <a href=\"https://codereview.stackexchange.com/\">Code Review</a>"}, {"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "edited": false, "score": 0, "creation_date": 1550094728, "post_id": 54679981, "comment_id": 96148895, "body": "can you add more information on which items are you comparing, without more information you cannot get farther from generic comparisson"}, {"owner": {"reputation": 143310, "user_id": 5157454, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-QPadFFLbBGA/AAAAAAAAAAI/AAAAAAAADB8/FkNCMP_vkAc/photo.jpg?sz=128", "display_name": "Ori Drori", "link": "https://stackoverflow.com/users/5157454/ori-drori"}, "edited": false, "score": 0, "creation_date": 1550094822, "post_id": 54679981, "comment_id": 96148935, "body": "If you&#39;re comparison is symmetric - ie doSomeComparision(a, b) === doSomeComparision(b, a), you can save some work by setting j = i + 1 -  <code>for (let j = i + 1; j &lt; myArray.length; j++) {</code> `"}, {"owner": {"reputation": 7441, "user_id": 1575353, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/rvz3i.png?s=128&g=1", "display_name": "S\u1d00\u1d0d On\u1d07\u1d0c\u1d00", "link": "https://stackoverflow.com/users/1575353/s%e1%b4%80%e1%b4%8d-on%e1%b4%87%e1%b4%8c%e1%b4%80"}, "reply_to_user": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1550094865, "post_id": 54679981, "comment_id": 96148947, "body": "@devlincarnate this code might be <a href=\"https://codereview.stackexchange.com/help/on-topic\">on-topic</a> on CR except <code>myArray</code> would need to be properly defined so the code could be run and a better explanation of what this code does would need to be added"}], "answers": [{"comments": [{"owner": {"reputation": 333, "user_id": 7335467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Nb6A.jpg?s=128&g=1", "display_name": "ma-ee-ku", "link": "https://stackoverflow.com/users/7335467/ma-ee-ku"}, "edited": false, "score": 0, "creation_date": 1550096064, "post_id": 54680049, "comment_id": 96149440, "body": "Thank you for the response! As commented on the other response below, the j = 0 was a typo on my part. I am essentially comparing two 3D vectors at the end of the day, do you think I should still do some kind of sorting?"}, {"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "reply_to_user": {"reputation": 333, "user_id": 7335467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Nb6A.jpg?s=128&g=1", "display_name": "ma-ee-ku", "link": "https://stackoverflow.com/users/7335467/ma-ee-ku"}, "edited": false, "score": 0, "creation_date": 1550096183, "post_id": 54680049, "comment_id": 96149481, "body": "what do you mean by 3d vectors? can you provide an example?"}], "tags": [], "owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "is_accepted": false, "score": 1, "last_activity_date": 1550096133, "last_edit_date": 1550096133, "creation_date": 1550094927, "answer_id": 54680049, "question_id": 54679981, "link": "https://stackoverflow.com/questions/54679981/fastest-way-to-compare-each-item-in-array-with-rest-of-array/54680049#54680049", "title": "Fastest way to compare each item in array with rest of array?", "body": "<p>Without knowing more information about the type of items</p>\n\n<p>1) You should first sort your array, aftewards the comparisson can be done forward only, it should then give you a complexity of o(log n) + n^2, this could be useful depending on the type of your items and could lead to more improvements.</p>\n\n<p>2) Starting the internal loop from i + 1 should reduce it further to o(log n + n)</p>\n\n<pre><code>const myArray = [ ...some stuff ].sort((a,b) =&gt; sortingComparison(a,b)); // sorting comparison must return a number\n\nlet currentItem;\nlet nextItem;\nfor (let i = 0; i &lt; myArray.length; i++) {\n  currentItem = myArray[i];\n  for (let j = i + 1; j &lt; myArray.length; j++) {\n    nextItem = myArray[j];\n    doSomeComparision(currentItem, nextItem);\n  }\n}\n</code></pre>\n\n<p>Bonus:\nHere is some fancy functional code (if you are aiming for raw performance the for loops versions are faster)</p>\n\n<pre><code>function compare(value, array) {\n  array.forEach((nextValue) =&gt; {\n    // Do your coparisson here\n    // nextValue === value\n  }\n}\n\nconst myArray = [items]\nmyArray\n  .sort((a,b) =&gt; (a-b))\n  .forEach((v, idx) =&gt; compare(v, myArray.slice(idx, myArray.length))\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "edited": false, "score": 1, "creation_date": 1550095560, "post_id": 54680073, "comment_id": 96149246, "body": "myArray.length is not computed right? it is a property, so performance wise it shouldn&#39;t have much of an impact"}, {"owner": {"reputation": 333, "user_id": 7335467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Nb6A.jpg?s=128&g=1", "display_name": "ma-ee-ku", "link": "https://stackoverflow.com/users/7335467/ma-ee-ku"}, "edited": false, "score": 0, "creation_date": 1550095652, "post_id": 54680073, "comment_id": 96149277, "body": "Thank you for the response! I am actually already starting j with j + 1. My bad for totally missing that out in my code example. Regarding sorting the array first, do you think I should still sort my array when I am basically comparing two 3D vectors?"}], "tags": [], "owner": {"reputation": 273, "user_id": 8893637, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7b1148e19a6ae1eb8c9b45e91bbab0b?s=128&d=identicon&r=PG&f=1", "display_name": "Erik Reder", "link": "https://stackoverflow.com/users/8893637/erik-reder"}, "is_accepted": false, "score": 1, "last_activity_date": 1550095840, "last_edit_date": 1550095840, "creation_date": 1550095009, "answer_id": 54680073, "question_id": 54679981, "link": "https://stackoverflow.com/questions/54679981/fastest-way-to-compare-each-item-in-array-with-rest-of-array/54680073#54680073", "title": "Fastest way to compare each item in array with rest of array?", "body": "<p>I don't know whether there's any kind of specific algorithm that is more efficient, but the following optimizations come to my mind immediately:</p>\n\n<ul>\n<li>Let j start with i+1 - otherwise you are comparing all items twice\nagainst each other<br>\n<strike>- Initialize a variable with myArray.length outside\nthe loops as the same operation is done twice. </strike></li>\n<li>If the comparison\nis any kind of direct 'equal / larger' then it could help to sort the\narray first</li>\n</ul>\n\n<p><strong>Update on Edit 1</strong><br />\nI think the optimization depends on the number of expected matches. I.e., if all HalfEdge objects have a twin, then I think you're current approach with the changes above is already pretty optimal.\nHowever, if the percentage of expected twins is rather low, then I would suggest the following:\n- Extract a list of all heads and a list of all tails, sort them, and compare against each other. Remember which heads have found a twin tail.\nThen, do you original loops again, but only enter the inner loop for the heads which found a match.\nNot sure this is optimal, but I hope you get my approach.</p>\n"}, {"tags": [], "owner": {"reputation": 9427, "user_id": 1470092, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/0eeda48676f683d04c1431b2542954af?s=128&d=identicon&r=PG", "display_name": "huseyin tugrul buyukisik", "link": "https://stackoverflow.com/users/1470092/huseyin-tugrul-buyukisik"}, "is_accepted": false, "score": 0, "last_activity_date": 1550100203, "last_edit_date": 1550100203, "creation_date": 1550096743, "answer_id": 54680410, "question_id": 54679981, "link": "https://stackoverflow.com/questions/54679981/fastest-way-to-compare-each-item-in-array-with-rest-of-array/54680410#54680410", "title": "Fastest way to compare each item in array with rest of array?", "body": "<p>Since values are 3D coordinates, build an octree ( O(N) ) and add items on their HEAD values. Then from each of them, follow them to their TAIL values using already built octree ( O(N<em>k</em>log(N)) ) with its nodes containing maximum of k edges which means only k comparisons at the lowest level nodes of each TAIL. Also finding each TAIL may need traveling up to log(N) levels of octree from top to bottom.</p>\n\n<p>O(N) with constant of building octree + O(N * k * log(N)) with low enough k edges per node(and logN levels of octree).</p>\n\n<p>When you follow a TAIL in octree, any HEAD with same value would be in same node with maximum k elements or any  \"close enough\" HEAD value would be inside that lowest level node and its closest neighbors.</p>\n\n<p>Are you looking for an exact HEAD==TAIL or some tolerance is used? Tolerance could need \"loose octree\" imo.</p>\n\n<p>If each edge has a length defined, then you can constrain the search radius by this value, if edges are both ways symmetric.</p>\n\n<p>For up to 5k - 10k edges, there may be only 5-10 levels in octree depending on edges per node limit and if this limit is picked to be around 2-4 then each HEAD would need to do only 10-40 operations to find its twin edge with same TAIL value.</p>\n"}, {"comments": [{"owner": {"reputation": 333, "user_id": 7335467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Nb6A.jpg?s=128&g=1", "display_name": "ma-ee-ku", "link": "https://stackoverflow.com/users/7335467/ma-ee-ku"}, "edited": false, "score": 0, "creation_date": 1550158527, "post_id": 54680640, "comment_id": 96175433, "body": "I tried this approach and it worked like a charm! Thank you."}], "tags": [], "owner": {"reputation": 3898, "user_id": 6221024, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-JHtD0ON5o_w/AAAAAAAAAAI/AAAAAAAAABw/1B5Y7p2C-g4/photo.jpg?sz=128", "display_name": "Dillon Davis", "link": "https://stackoverflow.com/users/6221024/dillon-davis"}, "is_accepted": true, "score": 1, "last_activity_date": 1550098088, "creation_date": 1550098088, "answer_id": 54680640, "question_id": 54679981, "link": "https://stackoverflow.com/questions/54679981/fastest-way-to-compare-each-item-in-array-with-rest-of-array/54680640#54680640", "title": "Fastest way to compare each item in array with rest of array?", "body": "<p>Here is a linear-time solution to your problem. I am not that familiar with javascript, so I'll feel more comfortable about giving you the algorithm correctly in psuedo-code.</p>\n\n<pre><code>lookup := hashtable()\nfor i .. myArray.length\n  twin_id := lookup[myArray[i].tail, myArray[i].head]\n  if twin_id != null\n    myArray[i].twin := twin_id\n    myArray[twin_id].twin := i\n  else\n    lookup[myArray[i].head, myArray[i].tail] = i\n</code></pre>\n\n<p>The idea is to construct a hash table of <code>(head, tail)</code> pairs, and to check if a <code>(tail, head)</code> pair already exists that matches the current node's. If so, they are twins, and mark them as such, otherwise update the hash table with a new entry. Every element is looped over exactly once, and insertion / retrieval from the hash table is done in constant time.</p>\n"}], "owner": {"reputation": 333, "user_id": 7335467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Nb6A.jpg?s=128&g=1", "display_name": "ma-ee-ku", "link": "https://stackoverflow.com/users/7335467/ma-ee-ku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 113, "favorite_count": 0, "accepted_answer_id": 54680640, "answer_count": 4, "score": 1, "last_activity_date": 1550100203, "creation_date": 1550094555, "last_edit_date": 1550095719, "question_id": 54679981, "link": "https://stackoverflow.com/questions/54679981/fastest-way-to-compare-each-item-in-array-with-rest-of-array", "title": "Fastest way to compare each item in array with rest of array?", "body": "<p>I have an array of items, and for each of the item in the array, I need to do some check against the rest of the items in the same array.</p>\n\n<p>Here is the code I am using:</p>\n\n<pre><code>const myArray = [ ...some stuff ];\n\nlet currentItem;\nlet nextItem;\nfor (let i = 0; i &lt; myArray.length; i++) {\n  currentItem = myArray[i];\n  for (let j = i + 1; j &lt; myArray.length; j++) {\n    nextItem = myArray[j];\n    doSomeComparision(currentItem, nextItem);\n  }\n}\n</code></pre>\n\n<p>While this works, I need to find a more efficient algorithm because it slows down significantly if the array is very big.</p>\n\n<p>Can someone provide some advice on how to make this algorithm better?</p>\n\n<h3>Edit 1</h3>\n\n<p>I apologize.</p>\n\n<p>I should have provided more context around what I am trying to do here.\nI am using the loop above with a <code>HalfEdge</code> data structure, a.k.a. DCEL.</p>\n\n<p>Basically, a HalfEdge is an object with 3 properties:</p>\n\n<pre><code>class HalfEdge = {\n  head: // some (x,y,z) coords\n  tail: // some (x,y,z) coords\n  twin: // reference to another HalfEdge\n}\n</code></pre>\n\n<p>A <code>twin</code> of a given <code>HalfEdge</code> is defined like so:</p>\n\n<pre><code>/**\n  * if two Half-Edges are twins:\n  * Edge A   TAIL ----&gt; HEAD\n  *           =          =\n  * Edge B   HEAD &lt;---- TAIL\n  */\n</code></pre>\n\n<p>My array contains many <code>HalfEdges</code>, and for each <code>HalfEdge</code> in the array, I want to find its twin (i.e., one that satisfies the condition above).</p>\n\n<p>Basically, I am comparing two 3D vectors (one from <code>currentItem</code>, the other from <code>nextItem</code>).</p>\n\n<h3>Edit 2</h3>\n\n<p>Fixed typo in code example (i.e., from <code>let j = 0</code> to <code>let j = i + 1</code>)</p>\n"}, {"tags": ["javascript", "php", "mysql"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1550095305, "post_id": 54679950, "comment_id": 96149140, "body": "Why do you do <code>$quantity = $quantity</code>?"}, {"owner": {"reputation": 73199, "user_id": 2844319, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WYfls.png?s=128&g=1", "display_name": "AbraCadaver", "link": "https://stackoverflow.com/users/2844319/abracadaver"}, "edited": false, "score": 0, "creation_date": 1550095321, "post_id": 54679950, "comment_id": 96149146, "body": "Not sure what you mean but <code>INSERT INTO test (Series) VALUES (1),(2),(3),(4),(5)</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1550095324, "post_id": 54679950, "comment_id": 96149147, "body": "IDs are supposed to be unique, you shouldn&#39;t use <code>id=&quot;Series&quot;</code> in a loop."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1550095382, "post_id": 54679950, "comment_id": 96149177, "body": "Is the user supposed to change the values in the input? Do you want to save the original values or the updated elements?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1550095432, "post_id": 54679950, "comment_id": 96149197, "body": "You should use <code>name=&quot;Series[]&quot;</code>. Then when the form is submitted, <code>$_POST[&#39;Series&#39;]</code> will be an array of all the inputs. You can use a loop to insert these into the DB."}, {"owner": {"reputation": 47, "user_id": 8748661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ufdB.jpg?s=128&g=1", "display_name": "sheila.ar", "link": "https://stackoverflow.com/users/8748661/sheila-ar"}, "edited": false, "score": 0, "creation_date": 1550096932, "post_id": 54679950, "comment_id": 96149760, "body": "What I want si to enter the initial number and final number. Example initial number =1 Final number = 5. It is printed 1 2 3 4 5. These number (1 2 3 4 5 ) are the ones that I want to be inserted in the Database."}], "answers": [{"tags": [], "owner": {"reputation": 116, "user_id": 4310665, "user_type": "registered", "profile_image": "https://graph.facebook.com/100003058732460/picture?type=large", "display_name": "ateoa", "link": "https://stackoverflow.com/users/4310665/ateoa"}, "is_accepted": false, "score": 1, "last_activity_date": 1550138321, "creation_date": 1550138321, "answer_id": 54687649, "question_id": 54679950, "link": "https://stackoverflow.com/questions/54679950/save-array-with-for-cycle/54687649#54687649", "title": "Save Array with FOR cycle", "body": "<p>It's better to separate php and html code.</p>\n\n<p>In html:</p>\n\n<blockquote>\n  <ol>\n  <li>input ninitial and nend</li>\n  <li>(if need show numbers before insert) use javascript FOR cycle generate and show result numbers.</li>\n  <li>send http request, post ninitial and nend to php</li>\n  <li>(if need show numbers after insert) check the response, and show the result.</li>\n  </ol>\n</blockquote>\n\n<p>In php:</p>\n\n<blockquote>\n  <ol>\n  <li>get ninitial and nend by $_POST.</li>\n  <li>use php For cycle generate result numbers.</li>\n  <li>insert numbers in DB.</li>\n  <li>response inserted info to FrontEnd.</li>\n  </ol>\n</blockquote>\n\n<p>PHP code:</p>\n\n<pre><code>include(\"Connection.php\");\n\n$numbers = array();\n\n$startNumber = $_POST[\"ninitial\"];\n$endNumber = $_POST[\"nend\"];\n\nfor($i = $startNumber; $i &lt;= $endNumber; $i++){\n    if(insertNumber($mysqli, $i)){\n        $numbers[$mysqli-&gt;insert_id] = $i;\n    }\n}\n//response $numbers if need\n\n\nfunction insertData($mysqli, $number){\n    $query = \"INSERT INTO test (`Series`) VALUES ($number)\";\n    return $mysqli-&gt;query($query);\n}\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 8748661, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6ufdB.jpg?s=128&g=1", "display_name": "sheila.ar", "link": "https://stackoverflow.com/users/8748661/sheila-ar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550138321, "creation_date": 1550094381, "question_id": 54679950, "link": "https://stackoverflow.com/questions/54679950/save-array-with-for-cycle", "title": "Save Array with FOR cycle", "body": "<p>Good morning, I am trying to save the quantities generated by the FOR cycle.\nWe enter the initial number and the final number and the result is the range of numbers that we select.\nExample:\nInitial Number Final Number\nfifteen</p>\n\n<pre><code>Result: 1 2 3 4 5.\n</code></pre>\n\n<p>My question is how do I save my result [1 2 3 4 5] in the database.\nIn such a way that when you enter the initial and final number the numbers 12345 are saved in BD.</p>\n\n<p>BD:</p>\n\n<pre><code>Id Series\n1     1\n2     2\n3     3\n4     4\n5     5\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>&lt;?php\n\n//Start of the connection\ninclude(\"Connection.php\");\n\n/*******************************************************************************\n* INSERT DATA\n*******************************************************************************/\nif(isset($_POST['Submit'])){\n  $Series = $_POST['Series'];\n\n  $query = \"INSERT INTO test (`Series`)\n    VALUES('$Series' )\";\n      $mysqli-&gt;query($query);\n\n      printf (\"New record with the id %d.\\n\", $mysqli-&gt;insert_id);\n    }\n    ?&gt;\n    &lt;div class=\"container\"&gt;\n      &lt;div class=\"modal fade modal-mini modal-primary\" id=\"modal_combu_bitagas\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\"&gt;\n        &lt;div class=\"modal-dialog modal-lg\" role=\"document\"&gt;\n          &lt;div class=\"modal-content\"&gt;\n            &lt;div class=\"modal-header\"&gt;\n            &lt;/div&gt;\n\n            &lt;div class=\"modal-body\"&gt;\n              &lt;div class=\"col-md-12\"&gt;\n                &lt;div class=\"card\"&gt;\n                  &lt;div class=\"card-body\"&gt;\n                    &lt;form method=\"POST\"  class=\"form-horizontal\"&gt;\n                      &lt;div class=\"row\"&gt;\n                        &lt;input type=\"text\" name=\"ninitial\" id=\"ninitial\" placeholder=\"initial value\"/&gt;\n                        &lt;input type=\"text\" name=\"nend\" placeholder=\"final value\" /&gt;\n                          &lt;?php\n                          $quantity = (int)$_POST['ninitial'];\n                          $quantityfinal = (int)$_POST['nend'];\n                          for($quantity=$quantity; $quantity &lt;= $quantityfinal; $quantity++)\n                          {\n                          ?&gt;\n                          &lt;input type=\"text\" name=\"Series\" id=\"Series\" value=\"&lt;?php echo $quantity ?&gt;\" &gt;\n                          &lt;?php\n                          }\n                           ?&gt;\n                        &lt;input type=\"submit\" name=\"Submit\" vale=\"Submit\" /&gt;\n                      &lt;/div&gt;\n                    &lt;/form&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-hooks"], "answers": [{"comments": [{"owner": {"reputation": 1072, "user_id": 2907978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3eEpB.jpg?s=128&g=1", "display_name": "Shaik Mahaboob Basha", "link": "https://stackoverflow.com/users/2907978/shaik-mahaboob-basha"}, "edited": false, "score": 0, "creation_date": 1565202522, "post_id": 54680019, "comment_id": 101282226, "body": "Would not we lose fine-grain control if we group every state key in a single object? Of course, that was how it was done prior to hooks"}, {"owner": {"reputation": 560, "user_id": 5091533, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/da49f4aa7b7579ded93983b49bd9ad09?s=128&d=identicon&r=PG&f=1", "display_name": "DORRITO", "link": "https://stackoverflow.com/users/5091533/dorrito"}, "edited": false, "score": 0, "creation_date": 1614702637, "post_id": 54680019, "comment_id": 117463182, "body": "After hours of trying to make a more &#39;physical&#39; conditional state work,  this &#39;invisible&#39; case worked for me.  My use case was trying to make handlers for checkboxes that would exists or not exist at any time and in any amount, so if anyone is doing that (or similar), This led me to the right place."}], "tags": [], "owner": {"reputation": 81718, "user_id": 3617886, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/y26OT.jpg?s=128&g=1", "display_name": "Tholle", "link": "https://stackoverflow.com/users/3617886/tholle"}, "is_accepted": true, "score": 35, "last_activity_date": 1550094779, "creation_date": 1550094779, "answer_id": 54680019, "question_id": 54679928, "link": "https://stackoverflow.com/questions/54679928/using-dynamic-var-with-set-state-in-react-hooks/54680019#54680019", "title": "Using Dynamic Var with `Set` State in React Hooks?", "body": "<p>You could use a single <code>useState</code> with a default value of an object that contains all your input values and update that like you are used to with class components.</p>\n\n<p><strong>Example</strong></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { useState } = React;\r\n\r\nfunction App() {\r\n  const [state, setState] = useState({ email: \"\", password: \"\" });\r\n  function onChange(event) {\r\n    const { name, value } = event.target;\r\n    setState(prevState =&gt; ({ ...prevState, [name]: value }));\r\n  }\r\n\r\n  return (\r\n    &lt;div&gt;\r\n      &lt;input value={state.email} name=\"email\" onChange={onChange} /&gt;\r\n      &lt;input value={state.password} name=\"password\" onChange={onChange} /&gt;\r\n    &lt;/div&gt;\r\n  );\r\n}\r\n\r\nReactDOM.render(&lt;App /&gt;, document.getElementById(\"root\"));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://unpkg.com/react@16/umd/react.development.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"root\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 96, "user_id": 6305055, "user_type": "registered", "profile_image": "https://graph.facebook.com/10209315018302634/picture?type=large", "display_name": "SeanRamzan", "link": "https://stackoverflow.com/users/6305055/seanramzan"}, "edited": false, "score": 0, "creation_date": 1586819207, "post_id": 54680290, "comment_id": 108263563, "body": "Great answer. The transformation from class -&gt; hook is very useful."}], "tags": [], "owner": {"reputation": 175, "user_id": 11056324, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nWyFC.jpg?s=128&g=1", "display_name": "Bonjov", "link": "https://stackoverflow.com/users/11056324/bonjov"}, "is_accepted": false, "score": 7, "last_activity_date": 1550096090, "creation_date": 1550096090, "answer_id": 54680290, "question_id": 54679928, "link": "https://stackoverflow.com/questions/54679928/using-dynamic-var-with-set-state-in-react-hooks/54680290#54680290", "title": "Using Dynamic Var with `Set` State in React Hooks?", "body": "<pre><code>class Yup extends React.Component {\n  state = {\n    first: \"\",\n    second: \"\"\n  };\n\n  handleTextFieldChange = ({ target: { name, value } }) =&gt;\n    this.setState({ [name]: value });\n\n  render() {\n    const { first, second } = this.state;\n    return (\n      &lt;div&gt;\n        &lt;p&gt;{first}&lt;/p&gt;\n        &lt;p&gt;{second}&lt;/p&gt;\n        &lt;input type=\"text\" name=\"first\" onChange={this.handleTextFieldChange} /&gt;\n        &lt;input\n          type=\"text\"\n          name=\"second\"\n          onChange={this.handleTextFieldChange}\n        /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>same with hook</p>\n\n<pre><code>function Yup() {\n  const [{ first, second }, setState] = useState({ first: \"\", second: \"\" });\n\n  function handleTextFieldChange({ target: { name, value } }) {\n    setState(prevState =&gt; ({ ...prevState, [name]: value }));\n  }\n\n  return (\n    &lt;div&gt;\n      &lt;p&gt;{first}&lt;/p&gt;\n      &lt;p&gt;{second}&lt;/p&gt;\n      &lt;input type=\"text\" name=\"first\" onChange={handleTextFieldChange} /&gt;\n      &lt;input type=\"text\" name=\"second\" onChange={handleTextFieldChange} /&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1072, "user_id": 2907978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3eEpB.jpg?s=128&g=1", "display_name": "Shaik Mahaboob Basha", "link": "https://stackoverflow.com/users/2907978/shaik-mahaboob-basha"}, "edited": false, "score": 0, "creation_date": 1565202363, "post_id": 54699319, "comment_id": 101282151, "body": "I was hesitated to do this, as there is an overhead of adding extra code, but for now, this seems to be the only way of doing it with hooks"}], "tags": [], "owner": {"reputation": 3431, "user_id": 364966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1ea2b8fe02ce7ee34472972214a3bef9?s=128&d=identicon&r=PG", "display_name": "VikR", "link": "https://stackoverflow.com/users/364966/vikr"}, "is_accepted": false, "score": 14, "last_activity_date": 1550179677, "creation_date": 1550179677, "answer_id": 54699319, "question_id": 54679928, "link": "https://stackoverflow.com/questions/54679928/using-dynamic-var-with-set-state-in-react-hooks/54699319#54699319", "title": "Using Dynamic Var with `Set` State in React Hooks?", "body": "<p>How about something like this?</p>\n\n<pre><code>function handleTextFieldChange(mySetFunction, event) {\n    const value = event.currentTarget.value;\n    mySetFunction(value);\n}\n\n&lt;TextField\n    placeholder=\"Email\"\n    name=\"passwordResetEmailAddress\"\n    onChange={(e) =&gt; handleTextFieldChange(setPasswordResetEmailAddress, e)}\n&gt;\n    {passwordResetEmailAddress}\n&lt;/TextField&gt;\n</code></pre>\n\n<p>I've tested it and it works. </p>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 13709695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b51c84924537e083bc764a8b6f9bd215?s=128&d=identicon&r=PG&f=1", "display_name": "flyingcircle", "link": "https://stackoverflow.com/users/13709695/flyingcircle"}, "is_accepted": false, "score": 1, "last_activity_date": 1591656538, "creation_date": 1591656538, "answer_id": 62272391, "question_id": 54679928, "link": "https://stackoverflow.com/questions/54679928/using-dynamic-var-with-set-state-in-react-hooks/62272391#62272391", "title": "Using Dynamic Var with `Set` State in React Hooks?", "body": "<p>I recently tackled this same problem while converting my components from classes to functions. I ended up creating an object that could then point to the separate state hooks:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const textStates = {};\nconst setTextStates= {};\nfor (var name of names) {\n  let [textState, setTextState] = useState(\"\");\n  textStates[name] = textState;\n  setTextStates[name] = setTextState;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 13973283, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-3-murDBV8wA/AAAAAAAAAAI/AAAAAAAAAAA/AMZuuclDGwDBAhbkPY6tHhCHDf8bTxXQqQ/photo.jpg?sz=128", "display_name": "khalid", "link": "https://stackoverflow.com/users/13973283/khalid"}, "is_accepted": false, "score": 3, "last_activity_date": 1595387804, "creation_date": 1595387804, "answer_id": 63026272, "question_id": 54679928, "link": "https://stackoverflow.com/questions/54679928/using-dynamic-var-with-set-state-in-react-hooks/63026272#63026272", "title": "Using Dynamic Var with `Set` State in React Hooks?", "body": "<p>You can dynamically update a state for the target field by receiving an update state function as an argument in onChange function.</p>\n<p><strong>Example</strong></p>\n<pre><code>import React, { useState } from &quot;react&quot;;\n\nconst App = () =&gt; {\n  const [email, setEmail] = useState(&quot;&quot;);\n  const [password, setPassword] = useState(&quot;&quot;);\n\n  const onChangeHandler = (setIdentifierState, event) =&gt; {\n    setIdentifierState(event.target.value);\n  };\n\n  return (\n    &lt;div&gt;\n      &lt;p&gt;{&quot;Email: &quot; + email}&lt;/p&gt;\n      &lt;p&gt;{&quot;Password: &quot; + password}&lt;/p&gt;\n      &lt;input\n        type=&quot;text&quot;\n        placeholder=&quot;email&quot;\n        onChange={onChangeHandler.bind(this, setEmail)}\n      /&gt;\n      &lt;input\n        type=&quot;text&quot;\n        placeholder=&quot;password&quot;\n        onChange={onChangeHandler.bind(this, setPassword)}\n      /&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default App;\n\n\n\n</code></pre>\n"}], "owner": {"reputation": 3431, "user_id": 364966, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1ea2b8fe02ce7ee34472972214a3bef9?s=128&d=identicon&r=PG", "display_name": "VikR", "link": "https://stackoverflow.com/users/364966/vikr"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 13317, "favorite_count": 3, "accepted_answer_id": 54680019, "answer_count": 5, "score": 26, "last_activity_date": 1595387804, "creation_date": 1550094291, "last_edit_date": 1550097136, "question_id": 54679928, "link": "https://stackoverflow.com/questions/54679928/using-dynamic-var-with-set-state-in-react-hooks", "title": "Using Dynamic Var with `Set` State in React Hooks?", "body": "<p>This is a pretty common pattern in React components:</p>\n\n<pre><code>handleTextFieldChange(event)\n{\n    const name = event.currentTarget.name;\n    this.setState({[name]: event.currentTarget.value})\n}\n</code></pre>\n\n<p>What Javascript syntax could be used to do the same with React hooks?</p>\n\n<p>i.e. something possibly along the lines of:</p>\n\n<pre><code>handleTextFieldChange(event)\n{\n    const name = event.currentTarget.name;\n    this.set[name](event.currentTarget.value);\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1550094399, "post_id": 54679916, "comment_id": 96148773, "body": "<code>forEach()</code> is not <code>async</code> aware. You need to use <code>reduce()</code> to pass the promise chain through, or use a normal <code>for</code> loop with one or more <code>await</code> statements in the block."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1550094962, "post_id": 54679916, "comment_id": 96148999, "body": "Also, calling <code>resolve(listelement)</code> on one line and then <code>reject(listelement)</code> on the next line of code makes absolutely no sense at all."}], "answers": [{"comments": [{"owner": {"reputation": 7166, "user_id": 2625560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsWVJ.png?s=128&g=1", "display_name": "vsemozhebuty", "link": "https://stackoverflow.com/users/2625560/vsemozhebuty"}, "edited": false, "score": 0, "creation_date": 1550098005, "post_id": 54680337, "comment_id": 96150115, "body": "If I understand correctly, you can export <code>async</code> function and then <code>await</code> it in the importing module."}, {"owner": {"reputation": 7166, "user_id": 2625560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsWVJ.png?s=128&g=1", "display_name": "vsemozhebuty", "link": "https://stackoverflow.com/users/2625560/vsemozhebuty"}, "edited": false, "score": 0, "creation_date": 1550098608, "post_id": 54680337, "comment_id": 96150340, "body": "@RohitShetty I&#39;ve updated the example to illustrate the function usage."}, {"owner": {"reputation": 3, "user_id": 11058855, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qELgWfyp9ik/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMbexpw_QYwvcpo9Rog5GZia9Tdgw/mo/photo.jpg?sz=128", "display_name": "workLifeBalance", "link": "https://stackoverflow.com/users/11058855/worklifebalance"}, "edited": false, "score": 1, "creation_date": 1550099073, "post_id": 54680337, "comment_id": 96150503, "body": "Your solution worked for me. It is a great starting point and I am able to resolve my error. Thanks!"}], "tags": [], "owner": {"reputation": 7166, "user_id": 2625560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lsWVJ.png?s=128&g=1", "display_name": "vsemozhebuty", "link": "https://stackoverflow.com/users/2625560/vsemozhebuty"}, "is_accepted": true, "score": 0, "last_activity_date": 1550098435, "last_edit_date": 1550098435, "creation_date": 1550096337, "answer_id": 54680337, "question_id": 54679916, "link": "https://stackoverflow.com/questions/54679916/make-an-api-call-in-foreach-loop-and-push-the-result-in-another-array/54680337#54680337", "title": "make an api call in foreach loop and push the result in another array", "body": "<p>Does this variant with <code>for-of</code> loop and <code>await</code> work for you?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>'use strict';\n\nasync function separate(list) {\n  const a = [];\n  const b = [];\n\n  for (const listelement of list) {\n    try {\n      await callApiFunction(options);\n      a.push(listelement);\n    } catch (err) {\n      b.push(listelement);\n    }\n  }\n\n  return [a, b];\n}\n\nseparate([1, 2, 3]).then(([good, bad]) =&gt; {\n  console.log(`Success:\\n${good.join('\\n')}\\n\\nErrors:\\n${bad.join('\\n')}\\n`);\n});\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11058855, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qELgWfyp9ik/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMbexpw_QYwvcpo9Rog5GZia9Tdgw/mo/photo.jpg?sz=128", "display_name": "workLifeBalance", "link": "https://stackoverflow.com/users/11058855/worklifebalance"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 69, "favorite_count": 0, "accepted_answer_id": 54680337, "answer_count": 1, "score": -2, "last_activity_date": 1550101541, "creation_date": 1550094225, "last_edit_date": 1550101541, "question_id": 54679916, "link": "https://stackoverflow.com/questions/54679916/make-an-api-call-in-foreach-loop-and-push-the-result-in-another-array", "title": "make an api call in foreach loop and push the result in another array", "body": "<p>I am trying to make an api call in a for each loop. When I make an api call, the function returns the Promise. I want use that return response and check if the promise is resolved (then do something) and if rejected (then do something). But, everytime in the foreach loop, first the api makes both the calls and then goes to the then() part. \nWhat I want is in foreach loop, make an api call -> check if resolved or rejected -> do something -> make an api call -> check if resolved or rejected -> do something and so on.</p>\n\n<p>//cannot change the below implementation. I need to use this already created function</p>\n\n<pre><code>    const callApiFunction = options =&gt; {\n      const callback = (resolve, reject) =&gt; {\n      something.call(options, resolve, reject)\n    };\n      return new Promise(callback);         \n     }\n</code></pre>\n\n<p>//First attempt</p>\n\n<pre><code>const a =[];\nconst b =[];\nlist.forEach(listelement =&gt; {\n    callApiFunction(options)\n     .then(() =&gt; {\n         a.push(listelement);\n       })\n     .catch(() =&gt; {\n        b.push(listelement);\n     });\n});\n</code></pre>\n\n<p>//Second attempt</p>\n\n<pre><code>    const a =[];\n    const b =[];\n   list.forEach(listelement =&gt; {\n    let promise = new Promise((resolve, reject) =&gt; {\n      callApiFunction(options);\n      resolve(listelement);\n      reject(listelement);\n    });\n    promise.then((listelement) =&gt; {\n      a.push(listelement);\n    })\n    .catch((listelement) =&gt; {\n      b.push(listelement);\n    });\n  });\n</code></pre>\n\n<p>What happens in my second code block is, callApiFunction is first executed twice if list.length = 2 and then, <code>then</code> is executed twice.\nI want the callApiFunction is executed and list[0] -> then or catch executes accordingly\ncallApiFunction is executed and list[1] -> then or catch executes accordingly</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 20897, "user_id": 1169519, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/j4Iyy.png?s=128&g=1", "display_name": "Teemu", "link": "https://stackoverflow.com/users/1169519/teemu"}, "edited": false, "score": 3, "creation_date": 1550094218, "post_id": 54679896, "comment_id": 96148695, "body": "Post-increment operator does exactly what its name says."}, {"owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "edited": false, "score": 0, "creation_date": 1550094330, "post_id": 54679896, "comment_id": 96148752, "body": "take a look to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Arithmetic_Operators\" rel=\"nofollow noreferrer\">Arithmetic_Operators</a>"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1550094403, "post_id": 54679896, "comment_id": 96148775, "body": "now do  <code>console.log(++i)</code>"}, {"owner": {"reputation": 63, "user_id": 10776497, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5m7sEBATxBA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iMfDcSLeF0oO_230UC6GDGDd4N0A/mo/photo.jpg?sz=128", "display_name": "Tommmm", "link": "https://stackoverflow.com/users/10776497/tommmm"}, "edited": false, "score": 0, "creation_date": 1550094701, "post_id": 54679896, "comment_id": 96148884, "body": "Thank you very much all!"}], "owner": {"reputation": 63, "user_id": 10776497, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5m7sEBATxBA/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-iMfDcSLeF0oO_230UC6GDGDd4N0A/mo/photo.jpg?sz=128", "display_name": "Tommmm", "link": "https://stackoverflow.com/users/10776497/tommmm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "closed_date": 1550094289, "answer_count": 0, "score": 0, "last_activity_date": 1550094154, "creation_date": 1550094154, "question_id": 54679896, "link": "https://stackoverflow.com/questions/54679896/if-i-0-why-does-i-0", "closed_reason": "Duplicate", "title": "If i = 0, why does i++ = 0?", "body": "<p>Please can someone explain to me why if i = 0, i++ returns 0 and not 1:</p>\n\n<pre><code>let i = 0;\n\nconsole.log(i++); // returns 0\nconsole.log(i++); // returns 1\nconsole.log(i++); // returns 2\nconsole.log(i++); // returns 3\n</code></pre>\n\n<p>Sorry in advance if this seems like a dumb question!</p>\n"}, {"tags": ["javascript", "api", "promise", "paging", "request-promise"], "comments": [{"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 1, "creation_date": 1550093885, "post_id": 54679820, "comment_id": 96148551, "body": "You can spot potential errors if you properly indent your code."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1550095225, "post_id": 54679820, "comment_id": 96149106, "body": "<code>cacheIT[options.playlist_id].concat(data.items);</code> doesn&#39;t do anything but create a new array that will then be discarded. Use <code>push</code> or assign the result of <code>concat</code> to something."}], "answers": [{"tags": [], "owner": {"reputation": 1353, "user_id": 9323517, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-BYFc8clJrK4/AAAAAAAAAAI/AAAAAAAAC6w/U3YApEzoCq8/photo.jpg?sz=128", "display_name": "varun agarwal", "link": "https://stackoverflow.com/users/9323517/varun-agarwal"}, "is_accepted": false, "score": 0, "last_activity_date": 1550128510, "creation_date": 1550128510, "answer_id": 54684983, "question_id": 54679820, "link": "https://stackoverflow.com/questions/54679820/trouble-paging-an-api-with-promise-all-works-only-once/54684983#54684983", "title": "Trouble paging an API with promise.all (works only once)", "body": "<p><code>getPages</code> returns a promise in the form of <code>rp(options)</code> and your <code>promise.all</code> will be resolved at that level only. If you want chaining of requests, I suggest you use <code>async/await</code>.</p>\n\n<pre><code>async function getPages(options) {\n    console.log(options.uri);\n    let data = await rp(options);\n    cacheIT[options.playlist_id].concat(data.items);\n\n    console.log(\"data\",data.items.length);\n    console.log(\"cacheIT\",cacheIT[options.playlist_id].length);\n\n    if (data.items.length !== 50)\n        return options.store;\n    else {\n        options.offset = options.offset + offset_base ;\n        options.uri =  options.url +\n            \"?fields=items.track(id,name,artists)&amp;limit=\"+ options.limit +\n            \"&amp;offset=\" + options.offset;\n        return await getPages(options);\n    }\n}\n</code></pre>\n\n<p>This way <code>getPages()</code> will only get resolved once all the awaits have been resolved which will be when <code>data.items.length !== 50</code></p>\n"}], "owner": {"reputation": 1, "user_id": 11058890, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-VEOhC8R7auY/AAAAAAAAAAI/AAAAAAAADBo/64IMPaJR3J0/photo.jpg?sz=128", "display_name": "Franky Begue", "link": "https://stackoverflow.com/users/11058890/franky-begue"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550128510, "creation_date": 1550093775, "last_edit_date": 1550094284, "question_id": 54679820, "link": "https://stackoverflow.com/questions/54679820/trouble-paging-an-api-with-promise-all-works-only-once", "title": "Trouble paging an API with promise.all (works only once)", "body": "<p>So I'm asking Spotify for data about some playlists, where the max return payload size is 50. So I'd like to call <code>getPages</code>, and keep calling it recursively <code>while !payload.length === 50</code>. FYI rp = request-promise which does what it sounds like - makes a request and returns a promise for that request.</p>\n\n<p>My code works well if I execute it once, but when I add more than one promise to the chain, the data storage gets messed up. Out of frustration I pointed the caches to separate keys in <code>cacheIT</code> (each key is a playlist id, stored at the key is an array of every track I fetched for said key) thinking that I just had some bad references, but that didn't help. Feels like I'm missing something basic here...</p>\n\n<pre><code>let req = {}; req.body = {}; req.body.playlists = [];\nreq.body.playlists.push({id:\"0fEQxXtJS7aTK4qrxznjAJ\"});\nreq.body.playlists.push({id:\"0sJK4pWqr7bnQ0fgxGmJrh\"});\n\nlet cacheIT = {};\n\nfunction getPages(options) {\n    console.log(options.uri);\n    return rp(options).then(data =&gt; {\n        cacheIT[options.playlist_id].concat(data.items);\n        console.log(\"data\",data.items.length);\n        console.log(\"cacheIT\",cacheIT[options.playlist_id].length);\n\n        if (!(data.items.length === 50))\n            return options.store;\n        else\n            options.offset = options.offset + offset_base ;\n        options.uri =  options.url +\n            \"?fields=items.track(id,name,artists)&amp;limit=\"+ options.limit +\n            \"&amp;offset=\" + options.offset;\n        return getPages(options);\n    });\n}\n\nreq.body.playlists.forEach(function(playlist){\n    options.url =  url1 + playlist.id + url2;\n    options.uri = options.url + \"?fields=items.track(id,name,artists)&amp;limit=\" +             options.limit + \"&amp;offset=\" + options.offset;\n    options.offset = 0;options.limit = 50;\n    options.playlist_id = playlist.id;\n\n    cacheIT[options.playlist_id] = [];\n    options.store = cacheIT[options.playlist_id];\n    promises.push(getPages(options));\n});\n\nPromise.all(promises)\n    .then(function(results) {\n        console.log(\"results\",results.length);\n        //one of them has 38 records, and the other 148\n        //so here I would expect there to be two arrays in results\n        //one would have length 38, the other 148\n        results.forEach(function(r){\n            console.log(r.length);\n        });\n        //res.send(cacheIT);\n    })  .catch(function(err) {\n        console.log(\"err\");\n        console.log(err);\n    });\n</code></pre>\n"}, {"tags": ["javascript", "html", "vue.js", "outerhtml"], "comments": [{"owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "edited": false, "score": 0, "creation_date": 1550093772, "post_id": 54679799, "comment_id": 96148496, "body": "use arrow function like <code>setTimeout(()=&gt;{</code> in order to access this"}], "answers": [{"comments": [{"owner": {"reputation": 10336, "user_id": 10990737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lYeEB.jpg?s=128&g=1", "display_name": "Ifaruki", "link": "https://stackoverflow.com/users/10990737/ifaruki"}, "edited": false, "score": 0, "creation_date": 1550093869, "post_id": 54679818, "comment_id": 96148548, "body": "perfekt! thank u works exactly how i wanted it :)"}], "tags": [], "owner": {"reputation": 165027, "user_id": 1902010, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/a19f9308334d07d4be19c8f6d11151ff?s=128&d=identicon&r=PG", "display_name": "ceejayoz", "link": "https://stackoverflow.com/users/1902010/ceejayoz"}, "is_accepted": true, "score": 2, "last_activity_date": 1550093764, "creation_date": 1550093764, "answer_id": 54679818, "question_id": 54679799, "link": "https://stackoverflow.com/questions/54679799/i-can-display-an-p-tag-with-vue-js-but-i-cant-remove-it-after-2-sec/54679818#54679818", "title": "i can display an &lt;p&gt; tag with vue js but i cant remove it after 2 sec", "body": "<p>You have a scope issue - <code>this</code> within your setTimeout function is not what it is outside of that function. You can use <code>.bind(this)</code> to solve this:</p>\n\n<pre><code>setTimeout(function(){\n    this.gespeichert = false;\n}.bind(this), 2000);\n</code></pre>\n"}], "owner": {"reputation": 10336, "user_id": 10990737, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lYeEB.jpg?s=128&g=1", "display_name": "Ifaruki", "link": "https://stackoverflow.com/users/10990737/ifaruki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "closed_date": 1550093791, "accepted_answer_id": 54679818, "answer_count": 1, "score": 0, "last_activity_date": 1550093764, "creation_date": 1550093680, "question_id": 54679799, "link": "https://stackoverflow.com/questions/54679799/i-can-display-an-p-tag-with-vue-js-but-i-cant-remove-it-after-2-sec", "closed_reason": "Duplicate", "title": "i can display an &lt;p&gt; tag with vue js but i cant remove it after 2 sec", "body": "<p>i have an input field where i can write in something, now if i press enter a value called \"gespeichert\" gets true. i also have an p tag that is binded with v-if. now i want it to hide / remove it after 2 or 3 seconds.\nthis is maded with vue.js</p>\n\n<p>i already tried with</p>\n\n<pre><code>                    methods: {\n\n        speichern: function() {\n            this.gespeichert = true;\n            setTimeout(function(){\n\n                    this.gespeichert = false;\n\n            }, 2000);\n                             ....\n</code></pre>\n\n<p>now i want that gespeichert gets the value false after 2 seconds, why does this not work?</p>\n"}, {"tags": ["javascript", "indexof", "backslash"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1550093700, "post_id": 54679789, "comment_id": 96148463, "body": "because it would have to be &#39;aaaaa\\\\bb&#39; <code>\\b</code> is a backspace"}, {"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1550093733, "post_id": 54679789, "comment_id": 96148486, "body": "becasue \\b escaped b."}], "answers": [{"tags": [], "owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "is_accepted": true, "score": 6, "last_activity_date": 1550093645, "creation_date": 1550093645, "answer_id": 54679793, "question_id": 54679789, "link": "https://stackoverflow.com/questions/54679789/indexof-backslash-returns-1-javascript/54679793#54679793", "title": "indexOf() backslash returns -1 javascript", "body": "<p>The backslash in the search string (<code>'aaaaa\\bb'</code>) disappears when the string constant is parsed; the JavaScript parser <em>always</em> reads a single backslash in a string constant as an escape. You have to double it, just like you do in the string you pass to <code>.indexOf()</code>.</p>\n\n<p>In your case, <code>\\b</code> is an escape for the backspace control character. Even in the case of something like <code>\\q</code>, which is not a \"special\" character, the backslash is basically ignored.</p>\n"}, {"tags": [], "owner": {"reputation": 439, "user_id": 5639677, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d704deb9a29aacca63cb68d3344cd37f?s=128&d=identicon&r=PG&f=1", "display_name": "Alberti Buonarroti", "link": "https://stackoverflow.com/users/5639677/alberti-buonarroti"}, "is_accepted": false, "score": 0, "last_activity_date": 1550095074, "last_edit_date": 1550095074, "creation_date": 1550094521, "answer_id": 54679976, "question_id": 54679789, "link": "https://stackoverflow.com/questions/54679789/indexof-backslash-returns-1-javascript/54679976#54679976", "title": "indexOf() backslash returns -1 javascript", "body": "<p>As already said it is interpreted a control character by the Javascript parser.\nIf you use the spread syntax to create an array you will get a <code>\\b</code> as a single element instead of two elements <code>\\</code> and <code>b</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code> str = 'aaaaa\\bb';\r\n console.log([...str]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "is_accepted": false, "score": 0, "last_activity_date": 1550095644, "creation_date": 1550095644, "answer_id": 54680205, "question_id": 54679789, "link": "https://stackoverflow.com/questions/54679789/indexof-backslash-returns-1-javascript/54680205#54680205", "title": "indexOf() backslash returns -1 javascript", "body": "<p>This is because <code>\\b</code> represents the backspace control character and is ignored when you <code>console.log</code> your string. \n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const str = '1234\\bb';\r\nconsole.log(str);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So there is no backslash in your string, and <code>indexOf</code> returns -1.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const str = 'aaaaa\\bb';\r\nconsole.log(str.indexOf('\\\\'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you want to encode a backslash, you will have to escape it, using <code>\\</code> itself:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const str = 'aaaaa\\\\bb';\r\nconsole.log(str);\r\nconsole.log(str.indexOf('\\\\'));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 654, "user_id": 5246617, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/5aefb28050370cd93bff5a317117a9db?s=128&d=identicon&r=PG&f=1", "display_name": "Pavol Travnik", "link": "https://stackoverflow.com/users/5246617/pavol-travnik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 250, "favorite_count": 0, "accepted_answer_id": 54679793, "answer_count": 3, "score": 3, "last_activity_date": 1550095644, "creation_date": 1550093605, "last_edit_date": 1550093668, "question_id": 54679789, "link": "https://stackoverflow.com/questions/54679789/indexof-backslash-returns-1-javascript", "title": "indexOf() backslash returns -1 javascript", "body": "<p>Why javascript for</p>\n\n<p><code>'aaaaa\\bb'.indexOf('\\\\')</code> </p>\n\n<p>returns</p>\n\n<p><code>-1</code>?</p>\n\n<p>I would expect 5, but b i getting that. It really doesn't read backslash as a symbol but it reads it as an escaped character?</p>\n"}, {"tags": ["javascript", "prototype", "primitive"], "comments": [{"owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "edited": false, "score": 1, "creation_date": 1550093956, "post_id": 54679783, "comment_id": 96148586, "body": "What happens when the next library you load <i>also</i> wants to add a helper function called &quot;last&quot; to Arrays and their function signature doesn&#39;t match your own?"}, {"owner": {"reputation": 1037, "user_id": 7658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71a003e0fdec71b6f784eccdfbc2e457?s=128&d=identicon&r=PG&f=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/7658042/pavlo"}, "edited": false, "score": 0, "creation_date": 1550094306, "post_id": 54679783, "comment_id": 96148735, "body": "It is fine to add it if you do it in an application and not a library, also do it like polyfills, first check if <code>array.prototype.last</code> exists, then add it if it doesn&#39;t. If another library that you depend on is overriding core functionality, then you should probably not use it, unless the library literally focused on overriding certain parts, because it cam create side effects for other libraries as well as your application."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 1037, "user_id": 7658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71a003e0fdec71b6f784eccdfbc2e457?s=128&d=identicon&r=PG&f=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/7658042/pavlo"}, "edited": false, "score": 0, "creation_date": 1550094811, "post_id": 54679783, "comment_id": 96148931, "body": "@Pavlo Until some future ES standard specifies a native <code>Array.prototype.last</code> and libraries that you want to use begin to depend on it. And no, you should <i>not</i> check if it exists, you should always install your own version as that&#39;s the functionality your code will expect."}], "answers": [{"comments": [{"owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "edited": false, "score": 0, "creation_date": 1550095210, "post_id": 54679972, "comment_id": 96149099, "body": "Not sure why anyone would downvote this. But since everyone knows you shouldn&#39;t mutate the prototype, &quot;you will inevitably collide with another library&quot; isn&#39;t necessarily true. Which means it&#39;s ok to do now... right? /s"}], "tags": [], "owner": {"reputation": 20114, "user_id": 691711, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/bf26891a2ec4eca6dd1962a6804f5a40?s=128&d=identicon&r=PG", "display_name": "zero298", "link": "https://stackoverflow.com/users/691711/zero298"}, "is_accepted": false, "score": 0, "last_activity_date": 1550094938, "last_edit_date": 1550094938, "creation_date": 1550094512, "answer_id": 54679972, "question_id": 54679783, "link": "https://stackoverflow.com/questions/54679783/what-are-some-reasons-not-to-alter-js-prototypes/54679972#54679972", "title": "What are some reasons not to alter js prototypes?", "body": "<p>Yes, there are reasons to not do this, one that immediately jumps out is that you will inevitably collide with another library that <strong>also</strong> thinks it is easier to adjust built-in prototypes.</p>\n\n<p>Consider the following:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// my-cool-library.js\n\n// Returns the last value in an array\nArray.prototype.last = function() {\n    return this[this.length - 1];\n}\n\n// some-other-cool-library.js\n\n// Returns the last possible index of the array\nArray.prototype.last = function() {\n    return this.length - 1;\n}\n\n// some-consumer.js\n\nimport \"my-cool-library.js\";\nimport \"some-other-cool-library.js\";\n\nconst a = [\"a\", \"b\", \"c\"];\n\n// You would probably expect it to print \"c\", but it prints 2\nconsole.log(a.last());\n</code></pre>\n\n<p>You might think that this is unlikely, but what if you utilize really big frameworks?  Let's say you use both Angular and lodash.  It isn't all the unlikely that a huge framework like Angular would want to make life easier by adding some helper functions to certain Object prototypes.  However, lodash is a very broad scoped library that also adds helper functions for just about every operation you might want to perform on a collection.</p>\n\n<p>It is very likely that both of those libraries would want to use the same, terse helper function names but might not have the same function signature.  Suddenly it becomes non-apparent how you should call and use <code>Array.prototype.last</code>.</p>\n\n<p>Instead, it is more appreciated when you leverage dependency injection and write functions that take all the arguments needed to perform the calculation and don't pollute the prototype.  In that way, you get to decide exactly which <code>last</code> function is used and when.</p>\n\n<p>You can potentially also leverage the benefits of <a href=\"https://webpack.js.org/guides/tree-shaking/\" rel=\"nofollow noreferrer\">tree shaking</a>.</p>\n\n<p>Consider the non-polluting example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// my-cool-library.js\n\n// Returns the last value in an array\nexport function last(arr) {\n    return arr[arr.length - 1];\n}\n\n// some-other-cool-library.js\n\n// Returns the last possible index of the array\nexport function last(arr) {\n    return arr.length - 1;\n}\n\n// some-consumer.js\n\nimport {last as myLast} from \"my-cool-library.js\";\nimport {last} from \"some-other-cool-library.js\";\n\nconst a = [\"a\", \"b\", \"c\"];\n\n// You know that you're going to use myLast \n// and how it is going to act\nconsole.log(myLast(a));\n</code></pre>\n"}], "owner": {"reputation": 495, "user_id": 10244451, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9d-ELsLEUZg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOMNDUq61M_isvrLcKETkeucXM_xA/mo/photo.jpg?sz=128", "display_name": "Jeremy Gottfried", "link": "https://stackoverflow.com/users/10244451/jeremy-gottfried"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 43, "favorite_count": 0, "closed_date": 1550094681, "answer_count": 1, "score": -1, "last_activity_date": 1550094938, "creation_date": 1550093579, "question_id": 54679783, "link": "https://stackoverflow.com/questions/54679783/what-are-some-reasons-not-to-alter-js-prototypes", "closed_reason": "Duplicate", "title": "What are some reasons not to alter js prototypes?", "body": "<p>I use certain algorithms so often that I am considering adding them to prototypes in my app. For example, the last value in an array. <code>array.last()</code> is so convenient compared to writing <code>arr[arr.length -1]</code> every time I want the last value in the array. </p>\n\n<p>I would do this when my app first loads.</p>\n\n<pre><code>Object.defineProperty(Array.prototype, 'last', {\n   value: function(){return this[this.length -1]} })\n</code></pre>\n\n<p>Are there functional reasons not to do this? </p>\n"}, {"tags": ["javascript", "angular", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1550093534, "post_id": 54679742, "comment_id": 96148372, "body": "Related <a href=\"https://stackoverflow.com/q/34114593/387194\">AngularJS vs Angular</a>"}, {"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 1, "creation_date": 1550093594, "post_id": 54679742, "comment_id": 96148411, "body": "did you try to import <code>mergeMap</code> from operators?"}, {"owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "reply_to_user": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1550093713, "post_id": 54679742, "comment_id": 96148470, "body": "@jcubic yes, doesn&#39;t work"}, {"owner": {"reputation": 4686, "user_id": 6736888, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b2f70e865bb04192d8afa5fb27e88c3d?s=128&d=identicon&r=PG&f=1", "display_name": "penleychan", "link": "https://stackoverflow.com/users/6736888/penleychan"}, "edited": false, "score": 0, "creation_date": 1550093734, "post_id": 54679742, "comment_id": 96148487, "body": "Aside from import, yes you would put it inside the <code>pipe()</code>"}], "answers": [{"comments": [{"owner": {"reputation": 15262, "user_id": 2131286, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/9f0db34a996e06c4e4cd149fec17688d?s=128&d=identicon&r=PG", "display_name": "Lazar Ljubenovi\u0107", "link": "https://stackoverflow.com/users/2131286/lazar-ljubenovi%c4%87"}, "edited": false, "score": 1, "creation_date": 1550093913, "post_id": 54679811, "comment_id": 96148565, "body": "Might be worth mentioning where to import the pipable operators from."}, {"owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "edited": false, "score": 1, "creation_date": 1550094297, "post_id": 54679811, "comment_id": 96148732, "body": "Thank you for this answer!"}], "tags": [], "owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "is_accepted": true, "score": 3, "last_activity_date": 1550093945, "last_edit_date": 1550093945, "creation_date": 1550093731, "answer_id": 54679811, "question_id": 54679742, "link": "https://stackoverflow.com/questions/54679742/property-mergemap-does-not-exist-on-type-observableany/54679811#54679811", "title": "Property &#39;mergeMap&#39; does not exist on type &#39;Observable&lt;any&gt;&#39;", "body": "<p>You are using the syntax of the old RxJS API:</p>\n\n<pre><code>import 'rxjs/operators/mergeMap';\nmyObs$.mergeMap(anotherObs$);\n</code></pre>\n\n<p>Since the RxJS API changed (version 5.5+), <code>mergeMap</code> is no longer a method on <code>Observable</code> but a function and you have to use it in the <code>pipe</code> operator, like this:</p>\n\n<pre><code>import { mergeMap } from 'rxjs/operators';\nmyObs$.pipe(mergeMap(anotherObs$));\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "edited": false, "score": 0, "creation_date": 1550094281, "post_id": 54679853, "comment_id": 96148726, "body": "Thank you for this answer. However, I will accept another one."}], "tags": [], "owner": {"reputation": 15130, "user_id": 1679126, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/82c8608808b8c4c719e9d0c71fb5c366?s=128&d=identicon&r=PG", "display_name": "Adrian Brand", "link": "https://stackoverflow.com/users/1679126/adrian-brand"}, "is_accepted": false, "score": 0, "last_activity_date": 1550093936, "creation_date": 1550093936, "answer_id": 54679853, "question_id": 54679742, "link": "https://stackoverflow.com/questions/54679742/property-mergemap-does-not-exist-on-type-observableany/54679853#54679853", "title": "Property &#39;mergeMap&#39; does not exist on type &#39;Observable&lt;any&gt;&#39;", "body": "<p>Update your imports</p>\n\n<pre><code>import { map, catchError, mergeMap } from 'rxjs/operators';\n</code></pre>\n\n<p>Then you can use mergeMap in a pipe.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const { of } = rxjs; // Using destructuring over import because of snippets\r\nconst { mergeMap } = rxjs.operators;\r\n\r\nof(4).pipe(\r\n  mergeMap(val =&gt; of(val * 2))\r\n).subscribe(result =&gt; {\r\n  console.log(result);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.4.0/rxjs.umd.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1522, "favorite_count": 0, "accepted_answer_id": 54679811, "answer_count": 2, "score": 1, "last_activity_date": 1550093945, "creation_date": 1550093387, "last_edit_date": 1550093593, "question_id": 54679742, "link": "https://stackoverflow.com/questions/54679742/property-mergemap-does-not-exist-on-type-observableany", "title": "Property &#39;mergeMap&#39; does not exist on type &#39;Observable&lt;any&gt;&#39;", "body": "<p>I'm creating an HttpInterceptor in an <strong>Ionic 4</strong> app. I would like to read the Bearer Authorization token from <a href=\"https://ionicframework.com/docs/building/storage\" rel=\"nofollow noreferrer\">local storage</a>.</p>\n\n<p>I try to use mergeMap but it always return an error:</p>\n\n<pre><code>Property 'mergeMap' does not exist on type 'Observable&lt;any&gt;'\n</code></pre>\n\n<p>Here is the complete code from <em>token.interceptor.ts</em></p>\n\n<pre><code>import { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor, HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, throwError, from  } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { Storage } from '@ionic/storage';\n\n@Injectable()\nexport class TokenInterceptor implements HttpInterceptor {\n\n    token: any;\n\n    constructor(private router: Router, private storage: Storage) {}\n\n    intercept(request: HttpRequest &lt; any &gt; , next: HttpHandler): Observable &lt; HttpEvent &lt; any &gt;&gt; {\n\n        return from(this.storage.get('User')).mergeMap((val) =&gt; {\n            if (this.token) {\n                request = request.clone({\n                    setHeaders: {\n                        'Authorization': this.token\n                    }\n                });\n            }\n\n            if (!request.headers.has('Content-Type')) {\n                request = request.clone({\n                    setHeaders: {\n                        'content-type': 'application/json'\n                    }\n                });\n            }\n\n            request = request.clone({\n                headers: request.headers.set('Accept', 'application/json')\n            });\n\n            return next.handle(request).pipe(\n                map((event: HttpEvent &lt; any &gt; ) =&gt; {\n                    if (event instanceof HttpResponse) {\n                        console.log('event---&gt;&gt;&gt;', event);\n                    }\n                    return event;\n                }),\n                catchError((error: HttpErrorResponse) =&gt; {\n                    if (error.status === 401) {\n                        if (error.error.success === false) {\n                            // this.presentToast('Login failed');\n                        } else {\n                            this.router.navigate(['/']);\n                        }\n                    }\n                    return throwError(error);\n                }));\n        })\n\n    }\n\n}\n</code></pre>\n\n<p>According to <a href=\"https://stackoverflow.com/questions/50138201/mergemap-does-not-exist-on-type-observable\">this question</a>, I tried this format:</p>\n\n<pre><code>return from(...).pipe(mergeMap(...));\n</code></pre>\n\n<p>but it doesn't work.</p>\n\n<p>What should I try?</p>\n"}, {"tags": ["javascript", "reactjs", "webpack"], "comments": [{"owner": {"reputation": 433, "user_id": 10655640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VUhiR.jpg?s=128&g=1", "display_name": "Ahm.", "link": "https://stackoverflow.com/users/10655640/ahm"}, "edited": false, "score": 0, "creation_date": 1550133104, "post_id": 54679716, "comment_id": 96160334, "body": "can you please add the section concerning <code>entry</code> in your <code>webpack.config.js</code> ??"}, {"owner": {"reputation": 5, "user_id": 9720611, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alfaneo", "link": "https://stackoverflow.com/users/9720611/alfaneo"}, "reply_to_user": {"reputation": 433, "user_id": 10655640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VUhiR.jpg?s=128&g=1", "display_name": "Ahm.", "link": "https://stackoverflow.com/users/10655640/ahm"}, "edited": false, "score": 0, "creation_date": 1550133910, "post_id": 54679716, "comment_id": 96160751, "body": "added the entry from the webpack.config.js :)"}], "answers": [{"tags": [], "owner": {"reputation": 5, "user_id": 9720611, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alfaneo", "link": "https://stackoverflow.com/users/9720611/alfaneo"}, "is_accepted": true, "score": 0, "last_activity_date": 1550329873, "creation_date": 1550329873, "answer_id": 54724476, "question_id": 54679716, "link": "https://stackoverflow.com/questions/54679716/can-i-use-require-with-webpack-for-external-files/54724476#54724476", "title": "Can I use require with webpack for external files?", "body": "<p>Because I didn't find a way with webpack, I modified the files from JS extension to JSON and I used fetch to get the JSON data.</p>\n\n<p>See this for more details:</p>\n\n<p><a href=\"https://stackoverflow.com/questions/54685597/read-exported-variable-from-remote-js-file\">HERE</a></p>\n"}], "owner": {"reputation": 5, "user_id": 9720611, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "alfaneo", "link": "https://stackoverflow.com/users/9720611/alfaneo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 746, "favorite_count": 0, "accepted_answer_id": 54724476, "answer_count": 1, "score": 0, "last_activity_date": 1550329873, "creation_date": 1550093281, "last_edit_date": 1550133891, "question_id": 54679716, "link": "https://stackoverflow.com/questions/54679716/can-i-use-require-with-webpack-for-external-files", "title": "Can I use require with webpack for external files?", "body": "<p>I want to import some static files that may not exist. I want to modify these external static files and to load them in my app, but Webpack gives 'module not found'</p>\n\n<p>My folder structure looks like this in dev:</p>\n\n<ul>\n<li>src\n\n<ul>\n<li>static\n\n<ul>\n<li>config\n\n<ul>\n<li>cfg.json</li>\n<li>folder1\n\n<ul>\n<li>file1.js</li>\n</ul></li>\n<li>folder2\n\n<ul>\n<li>file2.js</li>\n</ul></li>\n</ul></li>\n</ul></li>\n<li>component\n\n<ul>\n<li>Main.js</li>\n</ul></li>\n</ul></li>\n</ul>\n\n<p>and in production webpack build everything and then it copies the static assets, making the folder structure like this:</p>\n\n<ul>\n<li>config (with the same files and folders inside, but they may get deleted or changed afterwards)</li>\n<li>app.js</li>\n<li>styles, etc.</li>\n</ul>\n\n<p>What I want to do is to require from the Main.js, the files from the config folder in the static assets.</p>\n\n<p>The static assets may, or may not exist. So what I tried was to put 'require' in a try/catch block, in this case if the required files are not found, then I use another flow in the catch.</p>\n\n<p>I can use require with this path in Main.js ('../static/config/cfg.json'), but then, Webpack bundles all this, so if I modify the files in the config folder in production, the changes are not seen in the app.</p>\n\n<p>In production and in development I can access the static files at <a href=\"http://localhost:3000/config/cfg.json\" rel=\"nofollow noreferrer\">http://localhost:3000/config/cfg.json</a> or <a href=\"http://localhost:3000/config/folder1/file1.js\" rel=\"nofollow noreferrer\">http://localhost:3000/config/folder1/file1.js</a></p>\n\n<p>I can use fetch but I don't know how to read the variable that is exported default in file1.js, I can read only the entire file as a string using a FileReader.</p>\n\n<p>And with fetch the code seems really messy.\nIs there any way to do this with require and choose the according path, without  Webpack throwing 'module not found'?</p>\n\n<p>Example code</p>\n\n<pre><code>try {\n    let config = require('../static/config/cfg.json'); // if the cfg.json doesn't exist go straight to catch\n\n    if (!config.active) {\n        // throw error\n    }\n\n    // continue flow and read the js files\n    // if the js files don't exist go straight to catch\n}\ncatch(e =&gt; {\n    // follow another flow\n})\n</code></pre>\n\n<p>As I said, this code works, but if I modify anything in production in the static files, the changes are not seen, as Webpack requires the files that it bundled.</p>\n\n<p>I expected to see the changes made to my external files, but instead Webpack requires the static files that it build.</p>\n\n<p>Thank you in advance!</p>\n\n<p>Edit: ---added webpack config entry ---</p>\n\n<pre><code>// ------------------------------------\n// Entry Points\n// ------------------------------------\n\n\n// config.clientDir is the 'src' folder\n// main.js is a file located in the 'src' folder, where React.DOM is called.\n// so APP_ENTRY_PATH = 'src/main.js'\n\n// config.compiler.publicPath = /app-name/ui // in this format...\n\nconst APP_ENTRY_PATH = paths.base(config.clientDir) + '/main.js';\n\nwebpackConfig.entry = {\n  app: __DEV__ ?\n    [APP_ENTRY_PATH, `webpack-hot-middleware/client?path=${config.compiler.publicPath}__webpack_hmr`] :\n    [APP_ENTRY_PATH],\n  vendor: config.compiler.vendor\n};\n</code></pre>\n"}, {"tags": ["javascript", "html", "reactjs"], "comments": [{"owner": {"reputation": 3725, "user_id": 803518, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/KHKfF.jpg?s=128&g=1", "display_name": "JConstantine", "link": "https://stackoverflow.com/users/803518/jconstantine"}, "edited": false, "score": 0, "creation_date": 1550093422, "post_id": 54679691, "comment_id": 96148323, "body": "It looks like you want to trigger a click event on the file input element in order to show the file selector. onChange will only fire when you actually select a file"}, {"owner": {"reputation": 3320, "user_id": 3397552, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Jn2QT.jpg?s=128&g=1", "display_name": "Jose Rojas", "link": "https://stackoverflow.com/users/3397552/jose-rojas"}, "edited": false, "score": 0, "creation_date": 1550093448, "post_id": 54679691, "comment_id": 96148341, "body": "How are you showing it up, the first line of code?"}, {"owner": {"reputation": 6930, "user_id": 1287643, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/58fbf4309ed8205b568a28342105f31f?s=128&d=identicon&r=PG", "display_name": "rishat", "link": "https://stackoverflow.com/users/1287643/rishat"}, "edited": false, "score": 0, "creation_date": 1550093598, "post_id": 54679691, "comment_id": 96148414, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6021526/programmatically-set-the-value-of-a-type-file-input-html-element\">Programmatically set the value of a type=&quot;file&quot; input HTML element?</a>"}, {"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "edited": false, "score": 0, "creation_date": 1550096276, "post_id": 54679691, "comment_id": 96149516, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/8595389/programmatically-trigger-select-file-dialog-box\">Programmatically trigger &quot;select file&quot; dialog box</a>"}], "answers": [{"comments": [{"owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "edited": false, "score": 0, "creation_date": 1550096300, "post_id": 54679786, "comment_id": 96149523, "body": "Why the down vote? at the very least this is a duplicate of the question I linked."}], "tags": [], "owner": {"reputation": 4025, "user_id": 3107926, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/ONSDS.jpg?s=128&g=1", "display_name": "Oscar", "link": "https://stackoverflow.com/users/3107926/oscar"}, "is_accepted": false, "score": -1, "last_activity_date": 1550093586, "creation_date": 1550093586, "answer_id": 54679786, "question_id": 54679691, "link": "https://stackoverflow.com/questions/54679691/onchange-is-not-a-function-trigger-onchange-manually/54679786#54679786", "title": "onChange() is not a function. Trigger onChange() manually", "body": "<p>The onChange function is a callback AFTER a file has been selected.</p>\n\n<p>If what you want is to show the file selector with another button, you can take a look into this <a href=\"https://stackoverflow.com/questions/8595389/programmatically-trigger-select-file-dialog-box\">answer</a></p>\n\n<p>Bear in mind, because of security reasons you need to trigger the selector on the onClick function, user input IS NECESSARY.</p>\n"}, {"tags": [], "owner": {"reputation": 711, "user_id": 3143003, "user_type": "registered", "accept_rate": 30, "profile_image": "https://www.gravatar.com/avatar/c15a6b6041b8029e83a5bf41a7ef1238?s=128&d=identicon&r=PG&f=1", "display_name": "Diogo Aleixo", "link": "https://stackoverflow.com/users/3143003/diogo-aleixo"}, "is_accepted": true, "score": 4, "last_activity_date": 1550093793, "creation_date": 1550093793, "answer_id": 54679825, "question_id": 54679691, "link": "https://stackoverflow.com/questions/54679691/onchange-is-not-a-function-trigger-onchange-manually/54679825#54679825", "title": "onChange() is not a function. Trigger onChange() manually", "body": "<p>If that is react you should not access the Dom for those kind of stuff. They have one Api to give you what you need.</p>\n\n<p>You want one uncontroller component. In order to do that you can use one reference.</p>\n\n<p>I havent tried but i think you can do this.</p>\n\n<p>Create the ref on the constructor</p>\n\n<pre><code>this.inputRef = React.createRef();\n</code></pre>\n\n<p>Then assign the input ref prop to this.inputRef </p>\n\n<pre><code>&lt;input ref={this.inputRef} id='example' type=\"file\" accept=\"image/*\" onChange={this.onImageChange} /&gt;\n\n</code></pre>\n\n<p>And lately dispatch the click.</p>\n\n<pre><code>this.inputRef.current.click();\n</code></pre>\n\n<p>Hope it works</p>\n"}, {"tags": [], "owner": {"reputation": 495, "user_id": 10244451, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-9d-ELsLEUZg/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOMNDUq61M_isvrLcKETkeucXM_xA/mo/photo.jpg?sz=128", "display_name": "Jeremy Gottfried", "link": "https://stackoverflow.com/users/10244451/jeremy-gottfried"}, "is_accepted": false, "score": 0, "last_activity_date": 1550098707, "creation_date": 1550098707, "answer_id": 54680733, "question_id": 54679691, "link": "https://stackoverflow.com/questions/54679691/onchange-is-not-a-function-trigger-onchange-manually/54680733#54680733", "title": "onChange() is not a function. Trigger onChange() manually", "body": "<p><code>element.onChange</code> is not a method because your onChange function is stored in your react Component class and delegated via React's synthetic event emitter. It is a property of <code>React.createElement('input')</code>, but is not a property of an actual DOM element.</p>\n\n<p>To call your React element's onChange method, you can call it directly, like \n<code>this.onChange(event)</code>.</p>\n\n<p>The problem with that methodology is your event will not have a target attached to it. </p>\n\n<p>The change method is meant to provide an interface for controlling the value of inputs, so if you want to change the file attached to the input, you should simply change its value in state. </p>\n\n<pre><code>this.setState({file: this.alternateFile}) \n</code></pre>\n"}], "owner": {"reputation": 600, "user_id": 4451066, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/67a65c9c8e713913a59888a98bcbee99?s=128&d=identicon&r=PG&f=1", "display_name": "lucahuy", "link": "https://stackoverflow.com/users/4451066/lucahuy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5730, "favorite_count": 0, "accepted_answer_id": 54679825, "answer_count": 3, "score": 2, "last_activity_date": 1550098707, "creation_date": 1550093178, "question_id": 54679691, "link": "https://stackoverflow.com/questions/54679691/onchange-is-not-a-function-trigger-onchange-manually", "title": "onChange() is not a function. Trigger onChange() manually", "body": "<p>I've got a file selector, when clicking the button, the file selector shows up:</p>\n\n<pre><code>&lt;input id='example' type=\"file\" accept=\"image/*\" onChange={this.onImageChange} /&gt;\n</code></pre>\n\n<p>Now I want to use another button to do that, trigger the input above :</p>\n\n<pre><code>&lt;button onClick={() =&gt; {\n    var element = document.getElementById('example');\n\n    console.log(element) // This shows &lt;input id=\"example\" type=\"file\" accept=\"image/*\"&gt;\n\n    // element.onChange() // Error: onChange() is not a function\n\n    // Above doesn't work, so I try to trigger the onChange event manually,\n    // but below doesn't do anything\n    var event = new Event('change');\n    element.dispatchEvent(event);\n}}&gt;&lt;/button&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "gulp", "pug"], "comments": [{"owner": {"reputation": 9602, "user_id": 836277, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/STgnX.jpg?s=128&g=1", "display_name": "Chris Hawkes", "link": "https://stackoverflow.com/users/836277/chris-hawkes"}, "edited": false, "score": 0, "creation_date": 1550093431, "post_id": 54679588, "comment_id": 96148327, "body": "Pug is a server side templating language.  I would just use JavaScript and bind the data to the view.  I suppose your AJAX calls could return static HTML generated via Pug, but I&#39;m not sure I would want to go down that road."}, {"owner": {"reputation": 4870, "user_id": 348092, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/af46cce081cef1c1bd3b77ab8f9f2305?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/348092/bill"}, "reply_to_user": {"reputation": 9602, "user_id": 836277, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/STgnX.jpg?s=128&g=1", "display_name": "Chris Hawkes", "link": "https://stackoverflow.com/users/836277/chris-hawkes"}, "edited": false, "score": 0, "creation_date": 1550093506, "post_id": 54679588, "comment_id": 96148360, "body": "Yes, Pug is server side, but I know there is a way to use gulp to precompile the views as js templates and then inject them into the app. Just not totally sure how"}], "owner": {"reputation": 4870, "user_id": 348092, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/af46cce081cef1c1bd3b77ab8f9f2305?s=128&d=identicon&r=PG", "display_name": "Bill", "link": "https://stackoverflow.com/users/348092/bill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550092798, "creation_date": 1550092798, "question_id": 54679588, "link": "https://stackoverflow.com/questions/54679588/use-pug-jade-as-front-end-templates-with-express-js", "title": "Use Pug (jade) as front end templates with express js", "body": "<p>I have an express app that loads my pug (jade) templates to do server side rendering. There are a few points in my site where I want to render a view client side. For example, most of a page loads server side with the proper pug (jade) template, but then I make an ajax call to my API that returns JSON. Then I want to take the JSON and load in a template based on the results. Rather than use another templating language like Vue.js, I would like to use Pug (jade) on the front end. This would allow me to reuse some code and also pass in things like moment.js etc. </p>\n\n<p>I found this SO question / answer but it seems like this converts all the jade templates. <a href=\"https://stackoverflow.com/questions/16183126/how-to-render-precompiled-jade-pug-templates-in-a-node-js-express-app\">How to render precompiled Jade (Pug) templates in a Node.js Express app?</a></p>\n\n<p>How can I set up gulp (or something) to create front end templates for api calls that I can use in express? </p>\n"}, {"tags": ["javascript", "regex"], "answers": [{"tags": [], "owner": {"reputation": 13816, "user_id": 921563, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/527002381/picture?type=large", "display_name": "OptimusCrime", "link": "https://stackoverflow.com/users/921563/optimuscrime"}, "is_accepted": false, "score": 0, "last_activity_date": 1550092694, "creation_date": 1550092694, "answer_id": 54679572, "question_id": 54679546, "link": "https://stackoverflow.com/questions/54679546/regex-that-will-capture-group-with-exceptions-in-javascript/54679572#54679572", "title": "Regex that will capture group with exceptions in Javascript", "body": "<p>Not entirely sure if I understand the question, but could this work?</p>\n\n<pre><code>([a-zA-Z]+-[a-zA-Z]+)\n</code></pre>\n\n<p>It matches one or more letters, then a hyphen, then one or more letters again.</p>\n\n<pre><code>foo  (not matched)\n-foo  (not matched)\nfoo-bar  (matched)\n</code></pre>\n\n<p>Try it live here: <a href=\"https://regex101.com/r/qIknsi/1\" rel=\"nofollow noreferrer\">https://regex101.com/r/qIknsi/1</a></p>\n\n<p>Edit, if it needs to match <em>only</em> docs or refs, then a hyphen, then a word, then this should work:</p>\n\n<pre><code>((?:docs|refs)-[a-zA-Z]+)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 0, "last_activity_date": 1550092800, "creation_date": 1550092800, "answer_id": 54679589, "question_id": 54679546, "link": "https://stackoverflow.com/questions/54679546/regex-that-will-capture-group-with-exceptions-in-javascript/54679589#54679589", "title": "Regex that will capture group with exceptions in Javascript", "body": "<p>Just take a positive lookahead.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(\r\n    ['docs-world', 'docs-foo', 'docs-hello', 'docs']\r\n        .map(RegExp.prototype.test, /docs(?=-)/)\r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 779, "user_id": 1210051, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/cdc659e24d77bbbf374eac5ea660235b?s=128&d=identicon&r=PG&f=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/1210051/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 1, "is_answered": false, "view_count": 87, "favorite_count": 0, "answer_count": 2, "score": -3, "last_activity_date": 1550094332, "creation_date": 1550092575, "last_edit_date": 1550094332, "question_id": 54679546, "link": "https://stackoverflow.com/questions/54679546/regex-that-will-capture-group-with-exceptions-in-javascript", "title": "Regex that will capture group with exceptions in Javascript", "body": "<p>I am trying to match a group that contains the word, but only in the condition that the word is prefixed with a hyphen and another word.</p>\n\n<p>Take this example for instance:</p>\n\n<p><strong>Passing Examples</strong></p>\n\n<pre><code>docs-world\ndocs-foo\ndocs-hello\nhello-world\nhello\n</code></pre>\n\n<p><strong>Failing Examples</strong></p>\n\n<pre><code>docs\n</code></pre>\n\n<p>The word in question is \"docs\". If the word is appended by a hyphen, I want to correctly match it into a group.</p>\n\n<p><em>Bonus points</em>: if you can do the same for \"refs\".</p>\n\n<p>Here is an <a href=\"https://regexr.com/48b3q\" rel=\"nofollow noreferrer\">example</a></p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1550092409, "post_id": 54679426, "comment_id": 96147881, "body": "where is <code>getDetails</code> defined? it&#39;s arrow function so it don&#39;t have <code>this</code>."}, {"owner": {"reputation": 3, "user_id": 9570695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce233af99c1a80e8feda01801f7484b5?s=128&d=identicon&r=PG&f=1", "display_name": "FrenchyRomain", "link": "https://stackoverflow.com/users/9570695/frenchyromain"}, "reply_to_user": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1550092539, "post_id": 54679426, "comment_id": 96147943, "body": "it is defined in the constructor where i bind it"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1550092561, "post_id": 54679426, "comment_id": 96147950, "body": "Have you looked at <a href=\"https://stackoverflow.com/search?q=%22TypeError%3A+Cannot+read+property+%270%27+of+undefined%22\">any of the other questions with that error</a>?"}, {"owner": {"reputation": 3, "user_id": 9570695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce233af99c1a80e8feda01801f7484b5?s=128&d=identicon&r=PG&f=1", "display_name": "FrenchyRomain", "link": "https://stackoverflow.com/users/9570695/frenchyromain"}, "edited": false, "score": 0, "creation_date": 1550092735, "post_id": 54679426, "comment_id": 96148033, "body": "yes i have and it wasn&#39;t much help"}, {"owner": {"reputation": 4184, "user_id": 7484766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b51b5dab8aebf8aa404ef48acee400c?s=128&d=identicon&r=PG", "display_name": "JohanP", "link": "https://stackoverflow.com/users/7484766/johanp"}, "edited": false, "score": 0, "creation_date": 1550092853, "post_id": 54679426, "comment_id": 96148086, "body": "The <code>fetch</code>es are all async, maybe when you try and access the data the call hasn&#39;t completed yet"}, {"owner": {"reputation": 3, "user_id": 9570695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce233af99c1a80e8feda01801f7484b5?s=128&d=identicon&r=PG&f=1", "display_name": "FrenchyRomain", "link": "https://stackoverflow.com/users/9570695/frenchyromain"}, "edited": false, "score": 0, "creation_date": 1550093122, "post_id": 54679426, "comment_id": 96148181, "body": "no i just had a typo in the GetDetails BUT now that i don&#39;t have the error anymore, i don&#39;t print anything"}, {"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1550093279, "post_id": 54679426, "comment_id": 96148245, "body": "You don&#39;t need to bind arrow function, it take no effect since arrow function don&#39;t have this, but in this case it don&#39;t change anything."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 9570695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce233af99c1a80e8feda01801f7484b5?s=128&d=identicon&r=PG&f=1", "display_name": "FrenchyRomain", "link": "https://stackoverflow.com/users/9570695/frenchyromain"}, "edited": false, "score": 0, "creation_date": 1550092891, "post_id": 54679539, "comment_id": 96148091, "body": "omg I&#39;m a retard..... thank you .... I don&#39;t have the error BUT i don&#39;t print anything"}, {"owner": {"reputation": 969, "user_id": 6044946, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2sT1TrfO1zM/AAAAAAAAAAI/AAAAAAAAAKI/hpVwEkmxWf4/photo.jpg?sz=128", "display_name": "Eddie Cooro", "link": "https://stackoverflow.com/users/6044946/eddie-cooro"}, "reply_to_user": {"reputation": 3, "user_id": 9570695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce233af99c1a80e8feda01801f7484b5?s=128&d=identicon&r=PG&f=1", "display_name": "FrenchyRomain", "link": "https://stackoverflow.com/users/9570695/frenchyromain"}, "edited": false, "score": 0, "creation_date": 1550093255, "post_id": 54679539, "comment_id": 96148233, "body": "would you put a log inside the then function, where you are setting the description state, to see if the response json is what you think it is"}, {"owner": {"reputation": 3, "user_id": 9570695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce233af99c1a80e8feda01801f7484b5?s=128&d=identicon&r=PG&f=1", "display_name": "FrenchyRomain", "link": "https://stackoverflow.com/users/9570695/frenchyromain"}, "edited": false, "score": 0, "creation_date": 1550093651, "post_id": 54679539, "comment_id": 96148445, "body": "added a console.log(&quot;json= &quot; + json) and it says &quot;json = [object Promise]&quot; in the logs"}, {"owner": {"reputation": 969, "user_id": 6044946, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2sT1TrfO1zM/AAAAAAAAAAI/AAAAAAAAAKI/hpVwEkmxWf4/photo.jpg?sz=128", "display_name": "Eddie Cooro", "link": "https://stackoverflow.com/users/6044946/eddie-cooro"}, "reply_to_user": {"reputation": 3, "user_id": 9570695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce233af99c1a80e8feda01801f7484b5?s=128&d=identicon&r=PG&f=1", "display_name": "FrenchyRomain", "link": "https://stackoverflow.com/users/9570695/frenchyromain"}, "edited": false, "score": 0, "creation_date": 1550094432, "post_id": 54679539, "comment_id": 96148789, "body": "No, please log the data inside the next then function after returning JSON (the promise returned from the previous then will resolve before entering the next then and the resolved value will provided)"}, {"owner": {"reputation": 3, "user_id": 9570695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce233af99c1a80e8feda01801f7484b5?s=128&d=identicon&r=PG&f=1", "display_name": "FrenchyRomain", "link": "https://stackoverflow.com/users/9570695/frenchyromain"}, "edited": false, "score": 0, "creation_date": 1550095970, "post_id": 54679539, "comment_id": 96149395, "body": "solved the problem i just didn&#39;t print the data in the GetData... i set it as a key but don&#39;t print it in between the opening div tag and closing div tag"}], "tags": [], "owner": {"reputation": 969, "user_id": 6044946, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2sT1TrfO1zM/AAAAAAAAAAI/AAAAAAAAAKI/hpVwEkmxWf4/photo.jpg?sz=128", "display_name": "Eddie Cooro", "link": "https://stackoverflow.com/users/6044946/eddie-cooro"}, "is_accepted": false, "score": 2, "last_activity_date": 1550092534, "creation_date": 1550092534, "answer_id": 54679539, "question_id": 54679426, "link": "https://stackoverflow.com/questions/54679426/do-not-understand-uncaught-typerror-cannot-read-property-of-0-undefinded/54679539#54679539", "title": "Do not understand Uncaught Typerror Cannot Read Property of 0 Undefinded?", "body": "<p>There is a typo in the inner loop inside the getDetails function<br>\nYou should write <code>this.state.description</code> not <code>this.state.descripton</code></p>\n\n<p>Hope this solves your problem :)</p>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 11058065, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g75oXxRwsRk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNvdI3UJarsam1eYnTmIqsViq7Jaw/mo/photo.jpg?sz=128", "display_name": "Gregory Friedman", "link": "https://stackoverflow.com/users/11058065/gregory-friedman"}, "is_accepted": false, "score": 0, "last_activity_date": 1550092931, "creation_date": 1550092931, "answer_id": 54679621, "question_id": 54679426, "link": "https://stackoverflow.com/questions/54679426/do-not-understand-uncaught-typerror-cannot-read-property-of-0-undefinded/54679621#54679621", "title": "Do not understand Uncaught Typerror Cannot Read Property of 0 Undefinded?", "body": "<p>So with the React render lifecycle system, the <code>componentDidMount</code> will actually happen <em>after</em> the first render. During that first render, you're trying to access the first element of an empty array, which is the error you are seeing.</p>\n\n<p>In order to solve this problem, in your render method, you should have a fallback <em>something</em> to render while we wait for the <code>fetchDetails</code> to return a value from the server. If you want it to render nothing, you can just <code>return null</code>. </p>\n\n<p>ie.</p>\n\n<pre><code>const { description = [] } = this.state;\nif (description.length === 0) {\n    return null;\n}\nreturn this.getDetails();\n</code></pre>\n\n<p>As a side note, in order to avoid having all of those (which gets pretty unmaintainable):</p>\n\n<pre><code>this.getNames = this.getNames.bind(this);\nthis.getPictures = this.getPictures.bind(this);\nthis.getMails = this.getMails.bind(this);\nthis.getDetails = this.getDetails.bind(this);\n</code></pre>\n\n<p>You can just define them as class properties like so:</p>\n\n<pre><code>getNames = () =&gt; {\n   // do stuff\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9570695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ce233af99c1a80e8feda01801f7484b5?s=128&d=identicon&r=PG&f=1", "display_name": "FrenchyRomain", "link": "https://stackoverflow.com/users/9570695/frenchyromain"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550092931, "creation_date": 1550092028, "question_id": 54679426, "link": "https://stackoverflow.com/questions/54679426/do-not-understand-uncaught-typerror-cannot-read-property-of-0-undefinded", "title": "Do not understand Uncaught Typerror Cannot Read Property of 0 Undefinded?", "body": "<p>Creating my first ReactJS Website and using Node in the back-end, currently in the code that follows I fetch data that I then print on the page. I manage to print the names of the people in a project, their picture and their email from the server BUT the description of the project i get the error :</p>\n\n<blockquote>\n  <p>TypeError: Cannot read property '0' of undefined</p>\n</blockquote>\n\n<p>Which I do not understand.</p>\n\n<p>Here is the code :</p>\n\n<pre><code>class ProjectPage extends Component {\nconstructor(props) {\n    super(props);\n    this.state = {\n        user: [],\n        description: [],\n        mail: [],\n        name: [],\n    };\n    this.getNames = this.getNames.bind(this);\n    this.getPictures = this.getPictures.bind(this);\n    this.getMails = this.getMails.bind(this);\n    this.getDetails = this.getDetails.bind(this);\n}\n</code></pre>\n\n<p>I create the class and all the elements that are required</p>\n\n<pre><code>componentDidMount() {\n    console.log(\"BEGIN componentDidMount\");\n    this.fetchDetails();\n    this.fetchNames();\n    this.fetchMails();\n    console.log(\"END componentDidMount\");\n}\n</code></pre>\n\n<p>Call all the function in my componentDidMount() </p>\n\n<pre><code>fetchDetails() {\n    console.log(\"BEGIN fetchDetails()\");\n\n    let url = 'http://192.168.1.33:8080/getprojectdetails/Aprite';\n    console.log(\"url details = \" + url);\n\n    fetch(url)\n        .then(results =&gt; {\n            var json = results.json();\n            return json;\n        })\n\n        .then(data =&gt; {\n            this.setState({ description: data });\n        })\n\n    console.log(\"END fetchData()\");\n}\n</code></pre>\n\n<p>Here is the fetch of the project description</p>\n\n<pre><code>getDetails = () =&gt; {\n    let lines = [];\n    let nbr = this.state.description.length;\n    console.log(\"nbr = \" + nbr);\n    if (nbr){\n        console.log(\"lines = \" + this.state.description[0].P_Description);\n        for (let i = 0; i &lt; nbr; i++)\n            lines.push(&lt;div key={this.state.descripton[i].P_Description}&gt;&lt;/div&gt;);\n    }\n    return (lines);\n}\n</code></pre>\n\n<p>And the function to print the data in the Render() function</p>\n\n<p>But when i try to print this data, the value of nbr passes from 0 to 1 then to 0 again... in the console log I can see the description but it doesn't appear on the website and I don't get it.</p>\n\n<p>Please help me ?</p>\n"}, {"tags": ["javascript", "node.js", "sinon-chai", "fetch-mock"], "answers": [{"tags": [], "owner": {"reputation": 903, "user_id": 882799, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/90230f79d50837772c87e90323c83b04?s=128&d=identicon&r=PG", "display_name": "Pajdziu", "link": "https://stackoverflow.com/users/882799/pajdziu"}, "is_accepted": false, "score": 0, "last_activity_date": 1558660642, "creation_date": 1558660642, "answer_id": 56284712, "question_id": 54679421, "link": "https://stackoverflow.com/questions/54679421/unable-to-mock-node-fetch-using-fetch-mock/56284712#56284712", "title": "Unable to mock node-fetch using fetch-mock", "body": "<p>If you use <code>node-fetch</code> package, it's not available at the global scope in Node.js. In order to make <code>fetch-mock</code> work you either have to assign fetch to <code>global</code> object (e.g. by <code>import \"node-fetch\";</code> instead of <code>import fetch from \"node-fetch\";</code>) or make fetch injectable to your tested method. </p>\n\n<p>From <a href=\"http://www.wheresrhys.co.uk/fetch-mock/#usageglobal-non-global\" rel=\"nofollow noreferrer\">http://www.wheresrhys.co.uk/fetch-mock/#usageglobal-non-global</a>:</p>\n\n<blockquote>\n  <p><strong>Global or non-global</strong></p>\n  \n  <p>fetch can be used by your code globally or locally. It\u2019s important to\n  determine which one applies to your codebase as it will impact how you\n  use fetch-mock</p>\n  \n  <p><strong>Global fetch</strong></p>\n  \n  <p>In the following scenarios fetch will be a global</p>\n  \n  <ul>\n  <li>When using native fetch (or a polyfill) in the browser</li>\n  <li>When node-fetch has been assigned to global in your Node.js process (a pattern sometimes used in isomorphic codebases)</li>\n  </ul>\n  \n  <p>By default fetch-mock assumes fetch is a global so no more setup is\n  required once you\u2019ve required fetch-mock. Non-global fetch library</p>\n  \n  <p>In the following scenarios fetch will not be a global</p>\n  \n  <ul>\n  <li>Using node-fetch in Node.js without assigning to global</li>\n  <li>Using fetch-ponyfill in the browser</li>\n  <li>Using libraries which use fetch-ponyfill internally</li>\n  <li>Some build setups result in a non-global fetch, though it may not always be obvious that this is the case</li>\n  </ul>\n  \n  <p>The sandbox() method returns a function that can be used as a drop-in\n  replacement for fetch. Pass this into your mocking library of choice.\n  The function returned by sandbox() has all the methods of fetch-mock\n  exposed on it, e.g.</p>\n\n<pre><code>const fetchMock = require('fetch-mock'); const myMock =\nfetchMock.sandbox().mock('/home', 200); // pass myMock in to your\napplication code, instead of fetch, run it, then...\nexpect(myMock.called('/home')).to.be.true;\n</code></pre>\n</blockquote>\n"}], "owner": {"reputation": 71, "user_id": 2786238, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/56be54646fcf5ad90e729b5c52ae8cfb?s=128&d=identicon&r=PG&f=1", "display_name": "Abhijeet Kharkar", "link": "https://stackoverflow.com/users/2786238/abhijeet-kharkar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2326, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1558660642, "creation_date": 1550091997, "question_id": 54679421, "link": "https://stackoverflow.com/questions/54679421/unable-to-mock-node-fetch-using-fetch-mock", "title": "Unable to mock node-fetch using fetch-mock", "body": "<p>I am trying to do unit testing for a simple function which sends a get request, receives a response and then returns a promise object with the success or the failure message. Following is the function:</p>\n\n<pre><code>module.exports.hello = async (event, context) =&gt; {\n  return new Promise((resolve, reject) =&gt; {\n    fetch(\"https://httpstat.us/429\", { headers: { 'Content-Type': 'application/json' } }).then(response =&gt; {\n      console.log(response);\n      if (response.status == 200) {\n        return response;\n      } else {\n        throw Error(response.status + \": \" + response.statusText);\n      }\n    }).then(tokenData =&gt; {\n      resolve({ status: 200, body: JSON.stringify({ statusText: 'Success' }) });\n    }).catch(error =&gt; {\n      reject(error.message);\n    });\n  });\n};\n</code></pre>\n\n<p>While unit testing, I am using fetch-mock to mock the call to the api and have a custom response. Following is the code:</p>\n\n<pre><code>it('hello returns failure message', (done) =&gt; {\n    fetchMock.get('*',  {\n        status: 429,\n        statusText: \"Too Many Nothings\",\n        headers: { 'Content-type': 'application/json' }\n     });\n\n    edx.hello(null, null).catch(error =&gt; {\n        expect(error).to.equal('429: Too Many Requests');\n    }).then(() =&gt; {\n        done();\n    }).catch(error =&gt; {\n        done(error);\n    });\n});\n</code></pre>\n\n<p>But this code is not mocking the fetch request as when I print the response text it is \"Too Many Requests\" which is being sent as a response by the API and not \"Too Many Nothings\" which is being mocked. I am new to NodeJS. Please tell me what am I doing wrong.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 1, "creation_date": 1550091889, "post_id": 54679346, "comment_id": 96147655, "body": "you could use JavaScript to read the parameter from the querystring (hint: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URLSearchParams\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/URLSearchParams</a>), and then write script which itself creates the new script tag, and concatenate the parameter value into the src string. Hint: <a href=\"https://cleverbeagle.com/blog/articles/tutorial-how-to-load-third-party-scripts-dynamically-in-javascript\" rel=\"nofollow noreferrer\">cleverbeagle.com/blog/articles/&hellip;</a> . Did you do any research into this yourself? Or make any attempt at all? We mostly like to help people fix their code, not do all their research and coding for them."}, {"owner": {"reputation": 811, "user_id": 10746956, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a98baa62bfb37b28e7ce82086ea79565?s=128&d=identicon&r=PG&f=1", "display_name": "cb64", "link": "https://stackoverflow.com/users/10746956/cb64"}, "edited": false, "score": 0, "creation_date": 1550092104, "post_id": 54679346, "comment_id": 96147733, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/11150409/use-js-variable-to-set-the-src-attribute-for-script-tag\">Use JS variable to set the src attribute for &lt;script&gt; tag</a> use javascript to get the current url parameter and then execute something like <code>document.write(&quot;&lt;script type=&#39;text&#47;javascript&#39; src=&#39;http:&#47;&#47;www.example&#47;hrm.js?p&quot;+ x + &quot;&#39;&gt;&lt;\\&#47;scr&quot; + &quot;ipt&gt;&quot;);</code>on page load.  Another option is to use <a href=\"http://api.jquery.com/jQuery.getScript/\" rel=\"nofollow noreferrer\">getScript</a> if you have jquery"}, {"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 1, "creation_date": 1550092260, "post_id": 54679346, "comment_id": 96147803, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/11150409/use-js-variable-to-set-the-src-attribute-for-script-tag\">Use JS variable to set the src attribute for &lt;script&gt; tag</a>"}], "answers": [{"tags": [], "owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "is_accepted": false, "score": 0, "last_activity_date": 1550092929, "creation_date": 1550092929, "answer_id": 54679620, "question_id": 54679346, "link": "https://stackoverflow.com/questions/54679346/how-to-pass-a-parameter-in-the-script-tag-in-the-head/54679620#54679620", "title": "how to pass a parameter in the script tag in the head", "body": "<p>You can use this:</p>\n\n<pre><code>var pId = new URL(document.currentScript.getAttribute('src')).searchParams.get(\"pId\");\n</code></pre>\n\n<p>references:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/q/403967/387194\">How may I reference the script tag that loaded the currently-executing script?</a></p></li>\n<li><p><a href=\"https://developer.mozilla.org/en-US/docs/Web/API/URL\" rel=\"nofollow noreferrer\">MDN docs about URL</a></p></li>\n</ul>\n\n<p>Note: according to MDN URL is not supported by IE, see the link to see the browsers that support it, probably there is polyfill. <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Document/currentScript\" rel=\"nofollow noreferrer\">currentScript</a> is also not supported by IE.</p>\n"}], "owner": {"reputation": 583, "user_id": 1618882, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/4c2e6f9fd46aa52f5031cf668297799e?s=128&d=identicon&r=PG", "display_name": "Bigjo", "link": "https://stackoverflow.com/users/1618882/bigjo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1550094583, "creation_date": 1550091667, "last_edit_date": 1550094583, "question_id": 54679346, "link": "https://stackoverflow.com/questions/54679346/how-to-pass-a-parameter-in-the-script-tag-in-the-head", "title": "how to pass a parameter in the script tag in the head", "body": "<p>I have a html page <code>index.html</code>. In the <code>head tag</code> of that page I want to define a script src:</p>\n\n<pre><code>&lt;script src=\"http://www.example/hrm.js?pId=5\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I want the pId number to be filled in by the parameter I give to my html file. \nfor example if I open <code>.../index.html?pId=6</code>, I want in the script tag of that page</p>\n\n<pre><code>&lt;script src=\"http://www.example/hrm.js?pId=6\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>How can I do that?\nI tried this: <a href=\"https://stackoverflow.com/questions/11150409/use-js-variable-to-set-the-src-attribute-for-script-tag\">Use JS variable to set the src attribute for &lt;script&gt; tag</a>\nbut the problem is that I have multiple script to load ! and nothting work anymore when I put that piece of code. </p>\n"}, {"tags": ["javascript", "reactjs", "react-select"], "comments": [{"owner": {"reputation": 4858, "user_id": 9592844, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yVajS0f1x_w/AAAAAAAAAAI/AAAAAAAACrc/_wNG1zqzl6Y/photo.jpg?sz=128", "display_name": "Laura", "link": "https://stackoverflow.com/users/9592844/laura"}, "edited": false, "score": 0, "creation_date": 1550094923, "post_id": 54679345, "comment_id": 96148981, "body": "Hi, just to sum up your goal, you want the menu option to be opened when the component is mounted ?"}, {"owner": {"reputation": 21, "user_id": 2407459, "user_type": "registered", "profile_image": "https://graph.facebook.com/767471741/picture?type=large", "display_name": "Brian Behrens", "link": "https://stackoverflow.com/users/2407459/brian-behrens"}, "reply_to_user": {"reputation": 4858, "user_id": 9592844, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yVajS0f1x_w/AAAAAAAAAAI/AAAAAAAACrc/_wNG1zqzl6Y/photo.jpg?sz=128", "display_name": "Laura", "link": "https://stackoverflow.com/users/9592844/laura"}, "edited": false, "score": 0, "creation_date": 1550097491, "post_id": 54679345, "comment_id": 96149932, "body": "Yes, basically when mounted the component should already have the select menu exposed. I&#39;m also working to hide the controller component."}, {"owner": {"reputation": 21, "user_id": 2407459, "user_type": "registered", "profile_image": "https://graph.facebook.com/767471741/picture?type=large", "display_name": "Brian Behrens", "link": "https://stackoverflow.com/users/2407459/brian-behrens"}, "reply_to_user": {"reputation": 4858, "user_id": 9592844, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yVajS0f1x_w/AAAAAAAAAAI/AAAAAAAACrc/_wNG1zqzl6Y/photo.jpg?sz=128", "display_name": "Laura", "link": "https://stackoverflow.com/users/9592844/laura"}, "edited": false, "score": 0, "creation_date": 1550097916, "post_id": 54679345, "comment_id": 96150071, "body": "I did find doing something like this works, but there has to be a better way to properly set focus and init keyboard events correctly. <code>componentDidMount(): void { setTimeout(() =&gt; { const clickEvent: MouseEvent = document.createEvent(&#39;MouseEvents&#39;); clickEvent.initEvent(&#39;mousedown&#39;, true, true); this.selectRef.controlRef.dispatchEvent(clickEvent); }, 0); }</code>"}, {"owner": {"reputation": 4858, "user_id": 9592844, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yVajS0f1x_w/AAAAAAAAAAI/AAAAAAAACrc/_wNG1zqzl6Y/photo.jpg?sz=128", "display_name": "Laura", "link": "https://stackoverflow.com/users/9592844/laura"}, "edited": false, "score": 0, "creation_date": 1550098758, "post_id": 54679345, "comment_id": 96150396, "body": "About opening the menu option I recommend you to take a look at this other question <a href=\"https://stackoverflow.com/questions/54266127/is-it-possible-to-open-react-select-component-as-it-mounts/54296299#54296299\" title=\"is it possible to open react select component as it mounts\">stackoverflow.com/questions/54266127/&hellip;</a>"}, {"owner": {"reputation": 21, "user_id": 2407459, "user_type": "registered", "profile_image": "https://graph.facebook.com/767471741/picture?type=large", "display_name": "Brian Behrens", "link": "https://stackoverflow.com/users/2407459/brian-behrens"}, "reply_to_user": {"reputation": 4858, "user_id": 9592844, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yVajS0f1x_w/AAAAAAAAAAI/AAAAAAAACrc/_wNG1zqzl6Y/photo.jpg?sz=128", "display_name": "Laura", "link": "https://stackoverflow.com/users/9592844/laura"}, "edited": false, "score": 0, "creation_date": 1550099195, "post_id": 54679345, "comment_id": 96150534, "body": "Yes, that covers the basics, but how do you set focus on the first option in the select?"}, {"owner": {"reputation": 4858, "user_id": 9592844, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yVajS0f1x_w/AAAAAAAAAAI/AAAAAAAACrc/_wNG1zqzl6Y/photo.jpg?sz=128", "display_name": "Laura", "link": "https://stackoverflow.com/users/9592844/laura"}, "edited": false, "score": 0, "creation_date": 1550099523, "post_id": 54679345, "comment_id": 96150627, "body": "Can you explain me what you mean by \u201cfocus\u201d ? Is it something just visual ? Or is it an option to set first option as default value ?"}], "answers": [{"comments": [{"owner": {"reputation": 363, "user_id": 11275829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6vHHU.jpg?s=128&g=1", "display_name": "tkamath99", "link": "https://stackoverflow.com/users/11275829/tkamath99"}, "edited": false, "score": 0, "creation_date": 1609347234, "post_id": 54700056, "comment_id": 115820236, "body": "Any solution if we dont want any value to be focus ?"}, {"owner": {"reputation": 4858, "user_id": 9592844, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yVajS0f1x_w/AAAAAAAAAAI/AAAAAAAACrc/_wNG1zqzl6Y/photo.jpg?sz=128", "display_name": "Laura", "link": "https://stackoverflow.com/users/9592844/laura"}, "reply_to_user": {"reputation": 363, "user_id": 11275829, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6vHHU.jpg?s=128&g=1", "display_name": "tkamath99", "link": "https://stackoverflow.com/users/11275829/tkamath99"}, "edited": false, "score": 0, "creation_date": 1609711770, "post_id": 54700056, "comment_id": 115902130, "body": "@tkamath99 please create your own question in order to solve very specific problems. Thank you"}], "tags": [], "owner": {"reputation": 4858, "user_id": 9592844, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-yVajS0f1x_w/AAAAAAAAAAI/AAAAAAAACrc/_wNG1zqzl6Y/photo.jpg?sz=128", "display_name": "Laura", "link": "https://stackoverflow.com/users/9592844/laura"}, "is_accepted": false, "score": 0, "last_activity_date": 1550183301, "creation_date": 1550183301, "answer_id": 54700056, "question_id": 54679345, "link": "https://stackoverflow.com/questions/54679345/issues-using-react-select-and-its-menuisopen-property/54700056#54700056", "title": "Issues using react-select and it&#39;s menuIsOpen property", "body": "<p>To fit all your requests I would try a solution like the following one:</p>\n\n<ol>\n<li>use <code>menuIsOpen</code> props to manage the state of the menu option</li>\n<li>use custom components to remove the control element</li>\n<li>set a <code>defaultValue</code> to focus the desired option</li>\n</ol>\n\n<p>Here the code:</p>\n\n<pre><code>const options = [\n  {\n    label: \"1\",\n    value: 1\n  },\n  {\n    label: \"2\",\n    value: 2\n  },\n  ,\n  {\n    label: \"3\",\n    value: 3\n  },\n  {\n    label: \"4\",\n    value: 4\n  }\n];\n\nconst Control = props =&gt; (\n  &lt;components.Menu {...props}&gt;{props.children}&lt;/components.Menu&gt;\n);\n\nfunction App() {\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;Select\n        defaultValue={{ label: \"1\", value: 1 }}\n        components={{ Control }}\n        menuIsOpen={true}\n        options={options}\n      /&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n\n<p>Live example available <a href=\"https://codesandbox.io/s/pmpvr65zlj\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 21, "user_id": 2407459, "user_type": "registered", "profile_image": "https://graph.facebook.com/767471741/picture?type=large", "display_name": "Brian Behrens", "link": "https://stackoverflow.com/users/2407459/brian-behrens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 3050, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1550183301, "creation_date": 1550091655, "question_id": 54679345, "link": "https://stackoverflow.com/questions/54679345/issues-using-react-select-and-its-menuisopen-property", "title": "Issues using react-select and it&#39;s menuIsOpen property", "body": "<p>I'm working through a complex component that calls for use of an options list. I'm already using react-select throughout my app so it make sense to reuse this in this instance. I'm trying to embed react-select inline with the select list exposed but hide the controller/input/indicators. Basically, I just want the list. I can get this to work and it's all fine and dandy with the mouse, but when I get into focus issues regarding the select options I'm having issues.</p>\n\n<p>Is there a correct way to initialize focus on the menu list/first option? </p>\n\n<p>Here is a basic example of what I'm trying to do... I want to set focus when the component has completed mounting.</p>\n\n<p>On mount, I've tried a bunch of things. Setting focus to refs within the select. Using query selectors to focus on options themselves... I've also had to play with customizing components, but it appears certain components need to still be active for focus states to work correctly. For instance, the value containers. If I return them as null the component doesn't operate correctly regarding focus.</p>\n\n<pre><code>// tried setting focus on the option directly\nconst option: any = this.selectRef.menuListRef.querySelector(\n  '.va-select__option'\n);\noption.click(); // does work\noption.focus(); // appears to do nothing, but I believe react select manages this all behind the scenes\n\n// tried setting focus on the input or triggering a click\nthis.selectRef.inputRef.focus();\nthis.selectRef.inputRef.click();\n\n// Attempted using all of these refs and setting focus:\ncontrolRef\ninputRef\nmenuListRef\n</code></pre>\n\n<p>Example component: </p>\n\n<pre><code>interface DropdownProps {\n    isLoading?: boolean;\n}\n\nfunction EmptyComponent(): React.ReactElement&lt;any&gt; {\n    return &lt;&gt;&lt;/&gt;;\n}\n\nexport class Dropdown extends React.Component&lt;DropdownProps&gt; {\n    selectRef: any;\n\n    componentDidMount(): void {\n        this.selectRef.menuListRef.focus();\n    }\n\n    setSelectRef = (element: any): void =&gt; {\n        if (element) {\n            this.selectRef = element.select.select;\n        }\n    };\n\n    render(): React.ReactNode {\n        const { isLoading } = this.props;\n        const customComponents: SelectComponentsConfig&lt;any&gt; = {\n            IndicatorsContainer: EmptyComponent,\n            Input: EmptyComponent,\n            Placeholder: EmptyComponent\n        };\n\n        return (\n            &lt;div&gt;\n                &lt;Select\n                    components={customComponents}\n                    isLoading={isLoading}\n                    menuIsOpen={true}\n                    options={[\n                        {\n                            label: 'Group 1',\n                            value: 'Value 1'\n                        },\n                        {\n                            label: 'Group 2',\n                            value: 'Value 2'\n                        },\n                        {\n                            label: 'Group 3',\n                            value: 'Value 3'\n                        },\n                        {\n                            label: 'Group 4',\n                            value: 'Value 4'\n                        }\n                    ]}\n                    reference={this.setSelectRef}\n                /&gt;\n                {isLoading &amp;&amp; &lt;div&gt;Loading&lt;/div&gt;}\n            &lt;/div&gt;\n        );\n    }\n}\n</code></pre>\n\n<p>I can't seem to get focus states to work correctly and feel like I'm hacking this together a bit much.</p>\n\n<p>Has anyone used <code>react-select</code> this way in the past and have advice? Is there something I need to set or trigger to get the focus working correctly on options? I assume react select does a bit behind the scenes when a user triggers the select to expand and those are not being set in this instance.</p>\n"}, {"tags": ["javascript", "angular", "ag-grid"], "answers": [{"tags": [], "owner": {"reputation": 963, "user_id": 5931805, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ccfdd5147be94d217e457651282aeffc?s=128&d=identicon&r=PG&f=1", "display_name": "DicBrus", "link": "https://stackoverflow.com/users/5931805/dicbrus"}, "is_accepted": false, "score": 0, "last_activity_date": 1551621656, "creation_date": 1551621656, "answer_id": 54969586, "question_id": 54679311, "link": "https://stackoverflow.com/questions/54679311/ag-grid-server-side-pagination-set-last-row-independently/54969586#54969586", "title": "ag-grid Server Side pagination set last row independently", "body": "<p>Method </p>\n\n<pre><code>// datasource calls this method when the total row count changes. \n// This in turn sets the height of the grids vertical scroll.\nsetRowCount: (count:number) =&gt; void;\n</code></pre>\n\n<p>available in View Port Row Model.</p>\n\n<p>If you can switch to it, you could set total count before your retrieve data.</p>\n\n<p>more here <a href=\"https://www.ag-grid.com/javascript-grid-viewport/\" rel=\"nofollow noreferrer\">https://www.ag-grid.com/javascript-grid-viewport/</a></p>\n"}, {"tags": [], "owner": {"reputation": 246, "user_id": 9791028, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-HE2UR8YYEy8/AAAAAAAAAAI/AAAAAAAAALM/qrm8xv7W7Kc/photo.jpg?sz=128", "display_name": "Niall Crosby", "link": "https://stackoverflow.com/users/9791028/niall-crosby"}, "is_accepted": true, "score": 1, "last_activity_date": 1551651277, "creation_date": 1551651277, "answer_id": 54974292, "question_id": 54679311, "link": "https://stackoverflow.com/questions/54679311/ag-grid-server-side-pagination-set-last-row-independently/54974292#54974292", "title": "ag-grid Server Side pagination set last row independently", "body": "<p>Your analysis is correct, there is now way to set the number of rows other than setting it <code>successCallback()</code> method. Please don't use Viewport RowModel as suggested in another response here, it's not a good reason to jump row models!, just keep the row count stored in your app, and pass it to <code>successCallback()</code> when you do call it.</p>\n"}], "owner": {"reputation": 2745, "user_id": 4320099, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/YJqNZ.jpg?s=128&g=1", "display_name": "Scaraux", "link": "https://stackoverflow.com/users/4320099/scaraux"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 844, "favorite_count": 0, "accepted_answer_id": 54974292, "answer_count": 2, "score": 0, "last_activity_date": 1551651277, "creation_date": 1550091496, "last_edit_date": 1550091804, "question_id": 54679311, "link": "https://stackoverflow.com/questions/54679311/ag-grid-server-side-pagination-set-last-row-independently", "title": "ag-grid Server Side pagination set last row independently", "body": "<p>I am using <code>ag-grid</code>, <code>Angular 7</code> and the <strong>server-side</strong> datasource with pagination.</p>\n\n<p>The way my api works is that I fire two requests, the first one gives me the total table item count, and the second retrieves the desire page data.</p>\n\n<p>For now, I am waiting for the count request response, and  setting up the datasource, firing the request that gets the data.</p>\n\n<p>The only way I know to tell the grid the total items count is through\n<code>params.successCallback(data, lastRow)</code></p>\n\n<p>Is it possible to set the last row independently ? For example with a <code>setLastRow()</code> method ?</p>\n"}, {"tags": ["javascript", "reactjs", "redux"], "comments": [{"owner": {"reputation": 9953, "user_id": 8012206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z0Yl9.jpg?s=128&g=1", "display_name": "Joseph D.", "link": "https://stackoverflow.com/users/8012206/joseph-d"}, "edited": false, "score": 0, "creation_date": 1550154330, "post_id": 54679305, "comment_id": 96172633, "body": "could you share your <code>rootReducer</code> file?"}, {"owner": {"reputation": 503, "user_id": 2259080, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b9630126afbff209bb068195307a5e4c?s=128&d=identicon&r=PG", "display_name": "PotatoBox", "link": "https://stackoverflow.com/users/2259080/potatobox"}, "reply_to_user": {"reputation": 9953, "user_id": 8012206, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/z0Yl9.jpg?s=128&g=1", "display_name": "Joseph D.", "link": "https://stackoverflow.com/users/8012206/joseph-d"}, "edited": false, "score": 0, "creation_date": 1550250743, "post_id": 54679305, "comment_id": 96213786, "body": "Sure, added it at the end (reducers/index.js)."}], "answers": [{"comments": [{"owner": {"reputation": 503, "user_id": 2259080, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b9630126afbff209bb068195307a5e4c?s=128&d=identicon&r=PG", "display_name": "PotatoBox", "link": "https://stackoverflow.com/users/2259080/potatobox"}, "edited": false, "score": 0, "creation_date": 1550093199, "post_id": 54679405, "comment_id": 96148207, "body": "If i remove export, it prints <code>&quot;export &#39;Categories&#39; was not found in &#39;.&#47;Categories&#39;</code> in npm server"}, {"owner": {"reputation": 66, "user_id": 11058065, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g75oXxRwsRk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNvdI3UJarsam1eYnTmIqsViq7Jaw/mo/photo.jpg?sz=128", "display_name": "Gregory Friedman", "link": "https://stackoverflow.com/users/11058065/gregory-friedman"}, "reply_to_user": {"reputation": 503, "user_id": 2259080, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b9630126afbff209bb068195307a5e4c?s=128&d=identicon&r=PG", "display_name": "PotatoBox", "link": "https://stackoverflow.com/users/2259080/potatobox"}, "edited": false, "score": 0, "creation_date": 1550096099, "post_id": 54679405, "comment_id": 96149450, "body": "You&#39;ll need to import it differently since it&#39;s actually using a <code>default</code>.  You would   <code>import Categories from &quot;.&#47;Categories&quot;</code> instead of <code>import { Categories } from &quot;.&#47;Categories&quot;</code>"}, {"owner": {"reputation": 503, "user_id": 2259080, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b9630126afbff209bb068195307a5e4c?s=128&d=identicon&r=PG", "display_name": "PotatoBox", "link": "https://stackoverflow.com/users/2259080/potatobox"}, "edited": false, "score": 0, "creation_date": 1550098773, "post_id": 54679405, "comment_id": 96150400, "body": "Yes, you&#39;re right and it solves majority of issues I had - no more <code>this.props.getCategories is not a function</code> and now I can display <code>this.props.categories</code> content by looping (If I can call it that) in Categories.js, but there is still one last thing - Redux state is still empty. My guess is that I configured it inproperly, since everything else works just fine."}, {"owner": {"reputation": 66, "user_id": 11058065, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g75oXxRwsRk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNvdI3UJarsam1eYnTmIqsViq7Jaw/mo/photo.jpg?sz=128", "display_name": "Gregory Friedman", "link": "https://stackoverflow.com/users/11058065/gregory-friedman"}, "reply_to_user": {"reputation": 503, "user_id": 2259080, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b9630126afbff209bb068195307a5e4c?s=128&d=identicon&r=PG", "display_name": "PotatoBox", "link": "https://stackoverflow.com/users/2259080/potatobox"}, "edited": false, "score": 0, "creation_date": 1550102509, "post_id": 54679405, "comment_id": 96151463, "body": "Can you confirm that the API you&#39;re hitting is actually giving you the response you expect? You can just console.log the <code>res</code> in <code>getCategories</code>. to double check."}, {"owner": {"reputation": 503, "user_id": 2259080, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b9630126afbff209bb068195307a5e4c?s=128&d=identicon&r=PG", "display_name": "PotatoBox", "link": "https://stackoverflow.com/users/2259080/potatobox"}, "edited": false, "score": 0, "creation_date": 1550250784, "post_id": 54679405, "comment_id": 96213809, "body": "Yes, I&#39;m retrieving from api what is expected - I printed it one of the components and was able to compare."}], "tags": [], "owner": {"reputation": 66, "user_id": 11058065, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g75oXxRwsRk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNvdI3UJarsam1eYnTmIqsViq7Jaw/mo/photo.jpg?sz=128", "display_name": "Gregory Friedman", "link": "https://stackoverflow.com/users/11058065/gregory-friedman"}, "is_accepted": false, "score": 2, "last_activity_date": 1550091944, "creation_date": 1550091944, "answer_id": 54679405, "question_id": 54679305, "link": "https://stackoverflow.com/questions/54679305/reactjs-redux-state-is-not-changing/54679405#54679405", "title": "ReactJS: Redux state is not changing", "body": "<p>I believe your issue is that you're exporting your <code>Categories</code> class twice, once connected, the other not.</p>\n\n<p>If you remove <strong>export</strong> from <code>export class Categories extends Component</code>, does it work as expected?</p>\n"}, {"comments": [{"owner": {"reputation": 503, "user_id": 2259080, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b9630126afbff209bb068195307a5e4c?s=128&d=identicon&r=PG", "display_name": "PotatoBox", "link": "https://stackoverflow.com/users/2259080/potatobox"}, "edited": false, "score": 0, "creation_date": 1550093755, "post_id": 54679647, "comment_id": 96148492, "body": "Yes, you&#39;re right, it should be done as you say. Changed this line, but unfortunately, no luck. It does not enter<code>CATEGORIES_GET</code> in reducer (checked it with logging to console)."}], "tags": [], "owner": {"reputation": 833, "user_id": 4178613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/83nz0.jpg?s=128&g=1", "display_name": "tomrlh", "link": "https://stackoverflow.com/users/4178613/tomrlh"}, "is_accepted": false, "score": 0, "last_activity_date": 1550093032, "creation_date": 1550093032, "answer_id": 54679647, "question_id": 54679305, "link": "https://stackoverflow.com/questions/54679305/reactjs-redux-state-is-not-changing/54679647#54679647", "title": "ReactJS: Redux state is not changing", "body": "<p>When you're mapping the state in a component, you must access the desired variable through a reducer.</p>\n\n<p>So instead of:</p>\n\n<pre><code>const mapStateToProps = state =&gt; ({\n    categories: state.categories\n});\n</code></pre>\n\n<p>You must use:</p>\n\n<pre><code>const mapStateToProps = state =&gt; ({\n    categories: state.categories.categories\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 864, "user_id": 4913642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0OB1F.jpg?s=128&g=1", "display_name": "herodrigues", "link": "https://stackoverflow.com/users/4913642/herodrigues"}, "is_accepted": false, "score": 0, "last_activity_date": 1550094377, "last_edit_date": 1550094377, "creation_date": 1550094057, "answer_id": 54679878, "question_id": 54679305, "link": "https://stackoverflow.com/questions/54679305/reactjs-redux-state-is-not-changing/54679878#54679878", "title": "ReactJS: Redux state is not changing", "body": "<p>Your props don't have getCategories method, because you didn't pass it as a function to <code>connect</code>.</p>\n\n<p>A better approach is to define only the action code in your actions file and then use <code>mapDispatchToProps</code>.</p>\n\n<p>../../actions/categories.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import axios from \"axios\";\n\nexport const getCategories = () =&gt; {\n  axios\n    .get(\"/api/notes/categories/\")\n    .then(res =&gt; res.data);\n    })\n    .catch(err =&gt; console.log(err));\n};\n</code></pre>\n\n<p>Categories.js</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import { getCategories } from '../../actions/categories'\nimport { CATEGORIES_GET } from \"./types\";\n\nconst mapDispatchToProps = dispatch =&gt; {\n  return {\n     getCategories: () =&gt; dispatch(() =&gt; { type: CATEGORIES_GET, payload: getCategories() }),\n  }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Categories);\n</code></pre>\n"}], "owner": {"reputation": 503, "user_id": 2259080, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/b9630126afbff209bb068195307a5e4c?s=128&d=identicon&r=PG", "display_name": "PotatoBox", "link": "https://stackoverflow.com/users/2259080/potatobox"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1550250720, "creation_date": 1550091479, "last_edit_date": 1550250720, "question_id": 54679305, "link": "https://stackoverflow.com/questions/54679305/reactjs-redux-state-is-not-changing", "title": "ReactJS: Redux state is not changing", "body": "<p>I'm just starting with React and Redux and stumbled upon something I can't figure out by myself - I <em>think</em> that Redux state is not changing and it's causing (some of) errors. I'm checking state with use of remote-redux-devtools@0.5.0.\nMy code:</p>\n\n<p>Categories.js:</p>\n\n<pre><code>import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { getCategories } from '../../actions/categories';\n\nexport class Categories extends Component {\n    static propTypes  = {\n        categories: PropTypes.array.isRequired\n    };\n\n    componentDidMount() {\n        this.props.getCategories();\n    }\n\n    render() {\n        return (\n            &lt;div&gt;\n                Placeholder for categories.\n            &lt;/div&gt;\n        )\n    }\n}\n\nconst mapStateToProps = state =&gt; ({\n    categories: state.categories.categories\n});\n\nexport default connect(mapStateToProps, { getCategories })(Categories);\n</code></pre>\n\n<p>../../actions/categories.js:</p>\n\n<pre><code>import axios from \"axios\";\n\nimport { CATEGORIES_GET } from \"./types\";\n\nexport const getCategories = () =&gt; dispatch =&gt; {\n  return axios\n    .get(\"/api/notes/categories/\")\n    .then(res =&gt; {\n      dispatch({\n        type: CATEGORIES_GET,\n        payload: res.data\n      });\n    })\n    .catch(err =&gt; console.log(err));\n};\n</code></pre>\n\n<p>reducers/categories.js:</p>\n\n<pre><code>import { CATEGORIES_GET } from '../actions/types.js';\n\nconst initialState = {\n    categories: []\n};\n\nexport default function (state = initialState, action) {\n    switch (action.type) {\n        case CATEGORIES_GET:\n            return {\n                ...state,\n                categories: action.payload\n            };\n        default:\n            return state;\n    }\n}\n</code></pre>\n\n<p>store.js:</p>\n\n<pre><code>import { createStore, applyMiddleware } from 'redux';\nimport { composeWithDevTools } from 'remote-redux-devtools';\nimport thunk from 'redux-thunk';\nimport rootReducer from './reducers';\n\nconst initialState = {};\nconst middleware = [thunk];\n\nconst store = createStore(\n    rootReducer,\n    initialState,\n    composeWithDevTools(applyMiddleware(...middleware)));\n\nexport default store;\n</code></pre>\n\n<p>reducers/index.js</p>\n\n<pre><code>import { combineReducers } from \"redux\";\nimport categories from './categories';\n\nexport default combineReducers({\n    categories,\n</code></pre>\n\n<p>});</p>\n\n<p>Using remote-redux-devtools, I've never seen anything in my state. Currently this code above gives me 3 errors, two of them being</p>\n\n<blockquote>\n  <p>this.props.getCategories is not a function</p>\n</blockquote>\n\n<p>My guess is that because there is some issue with <code>Categories</code> class, it's not passing anything to state and it could be root cause of errors. I had one more error, connected to <code>Categories</code> not being called with attributes, but for debug purposes I put empty array there - one error dissapeared, but that's it. I've also tried adding constructor to <code>Categories</code> and called <code>super()</code>, but did not help also.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1550091649, "post_id": 54679297, "comment_id": 96147548, "body": "You changed the title just now.. Is your goal still to hide the key? You don&#39;t really have to."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1550091854, "post_id": 54679297, "comment_id": 96147636, "body": "Is there a reason you&#39;re using XSL? You don&#39;t have that in your tags, so it&#39;s a bit confusing to see it in the question. As far as getting a parameter from a url, there&#39;s <a href=\"https://stackoverflow.com/q/21424880/215552\">get javascript url parameter from script source file in HTML</a>."}, {"owner": {"reputation": 14046, "user_id": 1438397, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6e3228138ce26ccdee42c4d80ff65463?s=128&d=identicon&r=PG", "display_name": "SaiyanGirl", "link": "https://stackoverflow.com/users/1438397/saiyangirl"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1550092354, "post_id": 54679297, "comment_id": 96147859, "body": "@HereticMonkey no real reason as to why I am using XSL. Just something I was trying, willing to try anything else."}, {"owner": {"reputation": 14046, "user_id": 1438397, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6e3228138ce26ccdee42c4d80ff65463?s=128&d=identicon&r=PG", "display_name": "SaiyanGirl", "link": "https://stackoverflow.com/users/1438397/saiyangirl"}, "reply_to_user": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1550092376, "post_id": 54679297, "comment_id": 96147868, "body": "@LucaKiebel Yes, my goal is to hide the key, but thought that I can get a more generic title"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1550092391, "post_id": 54679297, "comment_id": 96147876, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/21424880/get-javascript-url-parameter-from-script-source-file-in-html\">get javascript url parameter from script source file in HTML</a>"}, {"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1550092471, "post_id": 54679297, "comment_id": 96147909, "body": "<a href=\"https://stackoverflow.com/questions/8729976/does-google-maps-javascript-api-key-v3-need-to-be-kept-secret-in-html-checked\" title=\"does google maps javascript api key v3 need to be kept secret in html checked\">stackoverflow.com/questions/8729976/&hellip;</a> &lt;- not really a dupe though"}], "answers": [{"tags": [], "owner": {"reputation": 109, "user_id": 11058773, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZJmlFfchFaY/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOpRF_6YdJ30ZIIzilQuyy-G_L4Lg/mo/photo.jpg?sz=128", "display_name": "Steinar", "link": "https://stackoverflow.com/users/11058773/steinar"}, "is_accepted": false, "score": 1, "last_activity_date": 1550093104, "creation_date": 1550093104, "answer_id": 54679669, "question_id": 54679297, "link": "https://stackoverflow.com/questions/54679297/how-to-import-src-for-a-script-in-index-html-file/54679669#54679669", "title": "How to import src for a script in index.html file", "body": "<p>Hope this is the answer you are looking for, by simply using JQuery you could add the <code>src</code> attribute dynamically</p>\n\n<p><strong>HTML</strong></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script id=\"googleAPI\"&gt;\n</code></pre>\n\n<p><em>Notice we set an id on the script element</em></p>\n\n<p><strong>Javascript</strong></p>\n\n<pre><code>let url = \"https://maps.googleapis.com/maps/api/js?key=MY_KEY&amp;libraries=places\"\n$(\"#googleAPI\").attr(\"src\", url)\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3976, "user_id": 9410412, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v7cIX.jpg?s=128&g=1", "display_name": "ibrahim tanyalcin", "link": "https://stackoverflow.com/users/9410412/ibrahim-tanyalcin"}, "is_accepted": false, "score": 1, "last_activity_date": 1550093543, "creation_date": 1550093543, "answer_id": 54679775, "question_id": 54679297, "link": "https://stackoverflow.com/questions/54679297/how-to-import-src-for-a-script-in-index-html-file/54679775#54679775", "title": "How to import src for a script in index.html file", "body": "<p>You cannot hide something client side, only obfustucate it (make it harder to see). If you use the xsl file, I can make a request and see that, if you set the dynamically create the script, I can open the network tab see where the request is going. If you want to hide the key:</p>\n\n<ul>\n<li>make a request from your own server to <code>\"https://maps.googleapis.com/maps/api/js?key=MY_KEY&amp;libraries=places\"</code></li>\n<li>get the content as <code>text/plain</code> or convert it to <code>dataURl</code> and then send it to client side where you create a <code>script</code> tag and set the <code>textContent</code>, <code>innerHTML</code>, or create an object url from <code>Blob</code> (having the server response as <code>Blob</code> part) and set src etc.</li>\n</ul>\n"}], "owner": {"reputation": 14046, "user_id": 1438397, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6e3228138ce26ccdee42c4d80ff65463?s=128&d=identicon&r=PG", "display_name": "SaiyanGirl", "link": "https://stackoverflow.com/users/1438397/saiyangirl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 533, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550093543, "creation_date": 1550091453, "question_id": 54679297, "link": "https://stackoverflow.com/questions/54679297/how-to-import-src-for-a-script-in-index-html-file", "title": "How to import src for a script in index.html file", "body": "<p>Currently in my <code>index.html</code> file I have the following script line:</p>\n\n<pre><code>&lt;script src=\"https://maps.googleapis.com/maps/api/js?key=MY_KEY&amp;libraries=places\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Is it possible to extract the <code>src</code> variable and import it in the script as a variable? I tried using <code>xsl:variable</code> located in an external <code>variable.xsl</code> file such as this: </p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\" version=\"1.0\"&gt;\n\n&lt;xsl:variable name=\"google\" select=\"API_KEY\"&gt;&lt;/xsl:variable&gt;\n\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n\n<p>And then trying to import it into my script, </p>\n\n<pre><code>&lt;xsl:include href=\"variable.xsl\"/&gt;\n&lt;script src=\"{$google}\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>But even when the <code>xls:variable</code> is in the same file, the script source doesn't work. </p>\n\n<p>I would like to push my code to a public repo, which is why I'd like to hide the key. </p>\n"}, {"tags": ["javascript", "jquery", "css"], "comments": [{"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 2, "creation_date": 1550091735, "post_id": 54679273, "comment_id": 96147581, "body": "Check this answer to question <a href=\"https://stackoverflow.com/a/16779702/387194\">Get a CSS value from external style sheet with Javascript/jQuery</a> but it will only work in some cases, it&#39;s not ideal."}, {"owner": {"reputation": 4908, "user_id": 2813263, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/fa58c516577bcbd4ef082553dedad4a5?s=128&d=identicon&r=PG", "display_name": "Domino", "link": "https://stackoverflow.com/users/2813263/domino"}, "edited": false, "score": 2, "creation_date": 1550093480, "post_id": 54679273, "comment_id": 96148353, "body": "The short answer is you shouldn&#39;t try to do it, even if you might be able to in some roundabout way. Can you share the reason why you&#39;re trying to do this?"}, {"owner": {"reputation": 81, "user_id": 851853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee42aa21c8f40f7fc0c4df26b006d140?s=128&d=identicon&r=PG", "display_name": "fatbatman", "link": "https://stackoverflow.com/users/851853/fatbatman"}, "edited": false, "score": 0, "creation_date": 1550096493, "post_id": 54679273, "comment_id": 96149593, "body": "I want to do this because I have a large number of pages that are sized by setting the font-size of a top level element in e.g. 10vh.  This is fine on desktop devices but on Android the vh isn&#39;t always the full visible area if the address bar is present.  So in that case I plan to add some javascript that will obtain actual visible height, then set the font-size of the top level element in px based on calculating a &quot;real&quot; vh."}], "owner": {"reputation": 81, "user_id": 851853, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee42aa21c8f40f7fc0c4df26b006d140?s=128&d=identicon&r=PG", "display_name": "fatbatman", "link": "https://stackoverflow.com/users/851853/fatbatman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1550093533, "creation_date": 1550091366, "last_edit_date": 1550093533, "question_id": 54679273, "link": "https://stackoverflow.com/questions/54679273/how-to-get-the-currently-active-non-computed-css-property-of-an-element", "title": "How to get the currently active NON COMPUTED CSS property of an element", "body": "<p>How do I get the currently active NON computed CSS property active on an element.  For example;</p>\n\n<pre><code>$(\"#someElement\").css(\"font-size\");\n</code></pre>\n\n<p>Should return something like \"15vh\" not 55px or similar as that is the computed style.</p>\n\n<p>If using Chrome Web Tool, this would be the top most CSS property under the Elements / Styles tab.</p>\n\n<p>Using jQuery or not is fine.</p>\n"}, {"tags": ["javascript", "reactjs", "list", "frontend"], "comments": [{"owner": {"reputation": 1110, "user_id": 5715550, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/QtbcF.jpg?s=128&g=1", "display_name": "Dellirium", "link": "https://stackoverflow.com/users/5715550/dellirium"}, "edited": false, "score": 0, "creation_date": 1550091663, "post_id": 54679236, "comment_id": 96147555, "body": "If you can point out more precisely what is it that you do not understand I am very bored and willing to help, I read it all, it is all pretty clear to me."}, {"owner": {"reputation": 95, "user_id": 10852624, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-97o5gzqfYvw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbDQsOFjlHjbwhWw02qS849HGEeBw/mo/photo.jpg?sz=128", "display_name": "Kenny Quach", "link": "https://stackoverflow.com/users/10852624/kenny-quach"}, "reply_to_user": {"reputation": 1110, "user_id": 5715550, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/QtbcF.jpg?s=128&g=1", "display_name": "Dellirium", "link": "https://stackoverflow.com/users/5715550/dellirium"}, "edited": false, "score": 0, "creation_date": 1550092329, "post_id": 54679236, "comment_id": 96147842, "body": "Could you breifly explain to me the reasoning behind the lines of code written in the nameChangeHandler? And where the values are coming from? If its not too much work for you. Thanks!"}, {"owner": {"reputation": 1110, "user_id": 5715550, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/QtbcF.jpg?s=128&g=1", "display_name": "Dellirium", "link": "https://stackoverflow.com/users/5715550/dellirium"}, "edited": false, "score": 0, "creation_date": 1550226276, "post_id": 54679236, "comment_id": 96200096, "body": "There you go, added an answer."}], "answers": [{"tags": [], "owner": {"reputation": 5618, "user_id": 2193290, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/QSiK2.jpg?s=128&g=1", "display_name": "Danny Delott", "link": "https://stackoverflow.com/users/2193290/danny-delott"}, "is_accepted": false, "score": 0, "last_activity_date": 1550092278, "last_edit_date": 1550092278, "creation_date": 1550091901, "answer_id": 54679394, "question_id": 54679236, "link": "https://stackoverflow.com/questions/54679236/anyone-know-of-an-easier-way-to-write-this-code-in-reactjs/54679394#54679394", "title": "Anyone know of an easier way to write this code in ReactJS", "body": "<p>When updating local state based off of current local state, you should be using the setState callback pattern, because of the way calls to <code>this.setState</code> are batched by React.</p>\n\n<p>Also, shallow-copy and update is perfectly fine, however you could also use the standard <code>Array.prototype.map</code> method to perform the update:</p>\n\n<pre><code>nameChangedHandler = (e, id ) =&gt; {\n  this.setState((prevState) =&gt; {\n     const persons = prevState.persons.map(person, i =&gt; {\n       return i === id ? { ...person, name: e.target.name } : person;\n     });\n\n    return {\n      persons: persons,\n    };\n  });     \n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1110, "user_id": 5715550, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/QtbcF.jpg?s=128&g=1", "display_name": "Dellirium", "link": "https://stackoverflow.com/users/5715550/dellirium"}, "is_accepted": false, "score": 1, "last_activity_date": 1550226786, "last_edit_date": 1550226786, "creation_date": 1550226261, "answer_id": 54707232, "question_id": 54679236, "link": "https://stackoverflow.com/questions/54679236/anyone-know-of-an-easier-way-to-write-this-code-in-reactjs/54707232#54707232", "title": "Anyone know of an easier way to write this code in ReactJS", "body": "<p>As per your request in the comments here is a brief explenation of this code:</p>\n\n<pre><code>nameChangedHandler = (e, id ) =&gt; {\n  const personIndex = this.state.persons.findIndex(p=&gt; {\n    return p.id === id;\n  })\n</code></pre>\n\n<p>What you see is an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">arrow function</a>. For the purpose of this entire answer, treat them as normal function (it is not the same, however it could be done with regular functions as well). Semantically speaking, arrow functions or regular functions does not change what the code is doing/its intention so I will not go into details, you should just be aware of what you are seeing. If you are unfamiliar with them though, you should read up on it, they are very useful. The signature for an arrow function is either <code>(a,b) =&gt; {}</code>, <code>a =&gt; {}</code> or <code>a =&gt; &lt;expression&gt;</code>. So roughly speaking the above can be logically interpreted as <code>function(e,id){}</code> and <code>function(p){}</code> just to clear that up before I proceed (it would not work if written that way, but that is the message it conveys).</p>\n\n<p>The code itself extracts the index of the person that matches the <code>id</code> parameter that you passed to the nameChangeHandler. This is done using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/findIndex\" rel=\"nofollow noreferrer\">findIndex</a>, a function that iterates through the array (<code>.persons</code> array of your state in this case), and returns the index of the first element that passes the test function given. This index is then stored inside a variable for usage later in the code.</p>\n\n<h2>The values</h2>\n\n<p><code>e</code> and <code>id</code> are coming from invocation of the function itself, I cannot give you more detail, since I do not see what the <code>&lt;Person&gt;</code> class is, but it is safe to assume that this handler is being attached to an input field. Once a change happens via the <code>onChange</code> handler on an input field, react will trigger a handler and pass an <code>event</code> containing the event data to it. Your handler is actually not the <code>nameChangeHandler</code> function, it is an arrow function which takes an <code>event e</code>, and then calls the <code>nameChangeHandler</code> passing both the <code>event e</code> as well as the <code>id</code> for the person, you can see that here <code>changed={(e)=&gt;this.nameChangedHandler(e, person.id)}</code>. Rest of the values are read from your <code>state</code>.</p>\n\n<p>Let's continue with the code:</p>\n\n<pre><code>const person = {\n  ...this.state.persons[personIndex]\n};\n</code></pre>\n\n<p>What we have here is called a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">spread</a>. It essentially \"unpacks and repacks\" the object or an array, you can read more about it on the MDN link given. This is a powerful new feature of ES6 that makes life a lot easier. </p>\n\n<p>So the above code is used to cleverly <strong>shallow copy</strong> a person object from the array into a new local variable (or rather a <code>const</code>, since variable would imply a possibility of change).We do this because in javascript, object data is stored by reference, so we cannot simply change the person object inside the initial array, that would mutate the state. We do not want to mutate the state. Immutable is the key here.</p>\n\n<pre><code>person.name= e.target.value;\n</code></pre>\n\n<p>Following that we have a simple asignment. The new <code>person</code> object we just created is an exact (sort of) copy of what the person inside the state's <code>.persons</code> array was, and that is no good, we want to change the name, so we do exactly that. We access the <code>event e</code> and read the <code>value</code> of the <code>target</code> that triggered it, assign the new value to our <code>person</code> object, and now we have a \"changed man\" (pun intended).</p>\n\n<p>What is left for us to do is, push these changes into the state so that a new render can show them, so we do:</p>\n\n<pre><code>const persons = [...this.state.persons];\npersons[personIndex] = person;\n</code></pre>\n\n<p>This code again uses the <strong>spread</strong> to clone/copy an old array from the state into a new local array persons. It is equvivalent to using <code>const persons = this.state.persons.slice()</code>. You can read more about <code>.slice()</code> on the <a href=\"https://developer.mozilla.org/en-US/\" rel=\"nofollow noreferrer\">MDN</a> (intentionally not leaving a direct link for you so that you search for it and learn that part as well, MDN is really a great source for documentation of all sorts and getting to know your way around that website is a lifesaver.). Lastly, after the array is cloned, we find the original person and replace it with out local person object, that has a changed name.</p>\n\n<pre><code>this.setState({\n  persons: persons\n})\n</code></pre>\n\n<p>Lastly we use the <code>.setState</code> method that react provides (see <a href=\"https://reactjs.org/docs/react-component.html#setstate\" rel=\"nofollow noreferrer\">documentation</a>) to immutably change the state. This change will trigger a new <code>render()</code> and you will be able to see the changes in the UI. The <code>.setState()</code> itself operates by doing a <strong>shallow merge</strong>. This means that only the properties that you pass to the method itself will be changed/added to the state, rest of the properties will be kept, as-is. Since the only thing we pass is a different array of <code>persons</code> which is our local array, with the changed person, that is the only thing that changes.</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 14017969, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AOh14Ghz_QC08Ry_to0_DyGaKTDpAsmfjWghPtb7y-LESA=k-s128", "display_name": "khileshwar prasad", "link": "https://stackoverflow.com/users/14017969/khileshwar-prasad"}, "is_accepted": false, "score": 0, "last_activity_date": 1603471708, "creation_date": 1603471708, "answer_id": 64504163, "question_id": 54679236, "link": "https://stackoverflow.com/questions/54679236/anyone-know-of-an-easier-way-to-write-this-code-in-reactjs/64504163#64504163", "title": "Anyone know of an easier way to write this code in ReactJS", "body": "<pre><code>import React, { Component} from 'react';\nimport './App.css';\nimport Person from './Person/Person';\n\n\nclass App  extends Component{\n  state = {\n    persons : [\n      {id:1, name : 'sohan',    age : 28},\n      {id:2, name : 'Rohan',    age : 29},\n      {id:3, name : 'Stephani', age : 21}\n    ],\n    otherState : 'hiii',\n    showPersons : false\n  }\n\n \n\n nameChangeHandler = (event, id)=&gt;{\nconst personInedex = this.state.persons.find(p =&gt; {\n  return p.id === id;\n})\n\npersonInedex.name = event.target.value;\n\n\n\n  this.setState({persons:this.state.persons})\n }\n\n  toglePerson = ()=&gt;{\n    this.setState({showPersons:!this.state.showPersons})\n  }\n\n  delete = (item) =&gt;{\n  const persons = [...this.state.persons];\n  persons.splice(item, 1);\n  this.setState({persons: persons});\n  }\n \n render(){\n   const style = {\n     backgroundColor: '#88dc707d',\n     margin: 0,\n     font: 'inherit',\n     padding : '15px',\n     cursor: 'pointer',\n     color: 'white',\n     boxShadow: '15px 10px 12px grey',\n     borderRadius: '22px 5px 22px 5px'\n   }\n   let persons = null\n if(this.state.showPersons){\n   persons = (\n      &lt;div&gt;\n        {this.state.persons.map((item, index) =&gt; {\n          return   &lt;Person key={item.id} \n                         name={item.name} \n                         age={item.age}\n                onchange={(event) =&gt; this.nameChangeHandler(event, item.id)}\n          deleteName={()=&gt; this.delete(index)} /&gt;\n          })}\n        \n      &lt;/div&gt; \n   )\n }\n return (\n    &lt;div className=&quot;App&quot;&gt;\n     &lt;h1&gt; hii i am React App&lt;/h1&gt;\n     &lt;button \n      style={style}\n       onClick={this.toglePerson}&gt;Togle Name&lt;/button&gt;\n      {persons}\n    &lt;/div&gt;\n  );\n }\n}\n\nexport default App;\n\n// state = {\n//   persons : [\n//     {name : 'sohan', age : 28},\n//     {name : 'Rohan', age : 29},\n//     {name : 'Stephani', age : 21}\n//   ],\n//   otherState : 'hiii'\n// }\n\n//  switchNameHandler = () =&gt; {\n//    console.log(this.state)\n//    this.setState({\n//     persons : [\n//       {name : 'Sudan Lal', age : 28},\n//       {name : 'Rohan', age : 29},\n//       {name : 'Stephani', age : 25}`enter code here`\n//     ]\n//   })\n// }\n</code></pre>\n"}], "owner": {"reputation": 95, "user_id": 10852624, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-97o5gzqfYvw/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcbDQsOFjlHjbwhWw02qS849HGEeBw/mo/photo.jpg?sz=128", "display_name": "Kenny Quach", "link": "https://stackoverflow.com/users/10852624/kenny-quach"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 165, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1603471708, "creation_date": 1550091174, "question_id": 54679236, "link": "https://stackoverflow.com/questions/54679236/anyone-know-of-an-easier-way-to-write-this-code-in-reactjs", "title": "Anyone know of an easier way to write this code in ReactJS", "body": "<p>I was watching an React Tutorial and the instructor did not explain a part very well for me to understand. He was basically trying teach how to render the list dynamically in three different input boxes. Whatever is typed in each input box will render to the according div element above it. And the instructor told us we should not touch the state directly which was where this code got more complicated. Any easier way to write this code? Not understanding him. The code that instructor instructed is in the <strong><em>nameChangeHandler</em></strong> function. Please see code below. Thanks!</p>\n\n<pre><code>import React, { Component } from 'react';\nimport './App.css';\nimport Person from \"./Person/Person\"\n\nclass App extends React.Component {\n\n  state={\n    persons: [\n      {id: 1,name: \"Max\", age:28 },\n      {id:2,name: \"Manu\", age: 29},\n      {id:3, name: \"Stephanie\", age: 26 }\n    ],\n    showPersons: false\n  }\n\n  deletePersonHandler=(index)=&gt; {\n   const persons = [...this.state.persons];\n   persons.splice(index, 1)\n   this.setState({ persons: persons});\n   console.log(persons)\n  }\n\n  nameChangedHandler = (e, id ) =&gt; {\n    const personIndex = this.state.persons.findIndex(p=&gt; {\n      return p.id === id;\n    })\n\n    const person = {\n      ...this.state.persons[personIndex]\n    };\n\n    person.name= e.target.value;\n\n    const persons = [...this.state.persons];\n    persons[personIndex] = person;\n\n    this.setState({\n      persons: persons\n    })\n\n  }\n\n  togglePersonsHandler=()=&gt; {\n    const showing = this.state.showPersons;\n    this.setState({ showPersons: !showing })\n  }\n\n\n  render() {\n\n    const style={\n      backgroundColor: \"white\",\n      font:\"inherit\",\n      border:\"1px solid blue\",\n      padding:\"8px\",\n      cursor:\"pointer\"\n    }\n\n    let persons=null;\n    if(this.state.showPersons) {\n      persons=(\n      &lt;div&gt;\n        {this.state.persons.map((person, index)=&gt; {\n          return(\n            &lt;Person \n              key={person.id}\n              changed={(e)=&gt;this.nameChangedHandler(e, person.id)}\n              click={()=&gt;this.deletePersonHandler(index)}\n              name={person.name} \n              age={person.age}/&gt;\n          )\n        })}\n      &lt;/div&gt;)\n    }\n    return (\n      &lt;div className=\"App\"&gt;\n        &lt;h1&gt;Hi, Im a React App&lt;/h1&gt;\n        &lt;p&gt;This is really working!!!&lt;/p&gt;\n        &lt;button style={style} onClick={this.togglePersonsHandler}&gt;Toggle Persons&lt;/button&gt;\n        {persons}\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default App;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/J9Ftf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/J9Ftf.png\" alt=\"Image of my app\"></a></p>\n"}, {"tags": ["javascript", "json", "algorithm"], "comments": [{"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1550091625, "post_id": 54679234, "comment_id": 96147535, "body": "Are <code>columnIDs</code> related to the keys of the object? For example, is column id <code>12</code> related to the key <code>FY</code>?"}, {"owner": {"reputation": 441, "user_id": 2763557, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e3232d8417c9490e113c7d4ba62ab24?s=128&d=identicon&r=PG&f=1", "display_name": "user2763557", "link": "https://stackoverflow.com/users/2763557/user2763557"}, "reply_to_user": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1550091904, "post_id": 54679234, "comment_id": 96147661, "body": "@Shidersz columnID are NOT related to keys of the object. They are set values which must be same for all objects. There are 7 unique columnIDs and they need to be in this order. does that help?"}, {"owner": {"reputation": 441, "user_id": 2763557, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e3232d8417c9490e113c7d4ba62ab24?s=128&d=identicon&r=PG&f=1", "display_name": "user2763557", "link": "https://stackoverflow.com/users/2763557/user2763557"}, "reply_to_user": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1550091959, "post_id": 54679234, "comment_id": 96147681, "body": "@Shidersz sorry to add to my last, yes 12 is related to key FY"}], "answers": [{"comments": [{"owner": {"reputation": 441, "user_id": 2763557, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e3232d8417c9490e113c7d4ba62ab24?s=128&d=identicon&r=PG&f=1", "display_name": "user2763557", "link": "https://stackoverflow.com/users/2763557/user2763557"}, "edited": false, "score": 0, "creation_date": 1550092533, "post_id": 54679461, "comment_id": 96147939, "body": "this is good, but what if I keys are not consistent? i.e what its not always &quot;account&quot; or &quot;desc&quot;? The ids will always be consistent but the keys might not be that might break the colIDs[key] part, how can i tweak that?"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 441, "user_id": 2763557, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e3232d8417c9490e113c7d4ba62ab24?s=128&d=identicon&r=PG&f=1", "display_name": "user2763557", "link": "https://stackoverflow.com/users/2763557/user2763557"}, "edited": false, "score": 0, "creation_date": 1550092657, "post_id": 54679461, "comment_id": 96147990, "body": "Could you have key clashes ? account or desc leading to the same number ? if not, just add the appropriate property names in the object if you want to add more properties"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 441, "user_id": 2763557, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e3232d8417c9490e113c7d4ba62ab24?s=128&d=identicon&r=PG&f=1", "display_name": "user2763557", "link": "https://stackoverflow.com/users/2763557/user2763557"}, "edited": false, "score": 0, "creation_date": 1550092926, "post_id": 54679461, "comment_id": 96148101, "body": "I added an example for lowercase/uppercase problems, as well as additional keys"}, {"owner": {"reputation": 441, "user_id": 2763557, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e3232d8417c9490e113c7d4ba62ab24?s=128&d=identicon&r=PG&f=1", "display_name": "user2763557", "link": "https://stackoverflow.com/users/2763557/user2763557"}, "edited": false, "score": 0, "creation_date": 1550094469, "post_id": 54679461, "comment_id": 96148807, "body": "gridinsert has an array outside and it itself is inside an object, I want gridinsert to be the main array and everything else inside that. I am looking at the object.entries/map but can&#39;t figure what is actually creating the array and object outside of gridinsert?"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 441, "user_id": 2763557, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e3232d8417c9490e113c7d4ba62ab24?s=128&d=identicon&r=PG&f=1", "display_name": "user2763557", "link": "https://stackoverflow.com/users/2763557/user2763557"}, "edited": false, "score": 0, "creation_date": 1550094610, "post_id": 54679461, "comment_id": 96148852, "body": "You want a single big array with all entries in it?"}, {"owner": {"reputation": 441, "user_id": 2763557, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e3232d8417c9490e113c7d4ba62ab24?s=128&d=identicon&r=PG&f=1", "display_name": "user2763557", "link": "https://stackoverflow.com/users/2763557/user2763557"}, "edited": false, "score": 0, "creation_date": 1550158142, "post_id": 54679461, "comment_id": 96175172, "body": "columnid objects 17 to 23 needs to be in own array. then the next set in own array and so forth"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "reply_to_user": {"reputation": 441, "user_id": 2763557, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e3232d8417c9490e113c7d4ba62ab24?s=128&d=identicon&r=PG&f=1", "display_name": "user2763557", "link": "https://stackoverflow.com/users/2763557/user2763557"}, "edited": false, "score": 0, "creation_date": 1550161811, "post_id": 54679461, "comment_id": 96177432, "body": "@user2763557, I updated the first code snippet to ouput an array of arrays. If this answers your question, please consider marking the answer accepted."}, {"owner": {"reputation": 441, "user_id": 2763557, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e3232d8417c9490e113c7d4ba62ab24?s=128&d=identicon&r=PG&f=1", "display_name": "user2763557", "link": "https://stackoverflow.com/users/2763557/user2763557"}, "edited": false, "score": 0, "creation_date": 1550170849, "post_id": 54679461, "comment_id": 96181817, "body": "thanks for your help. Just a quick question, in terms of algorithm, what kind would this be? Or in terms of time complexity"}], "tags": [], "owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "is_accepted": true, "score": 2, "last_activity_date": 1550161774, "last_edit_date": 1550161774, "creation_date": 1550092188, "answer_id": 54679461, "question_id": 54679234, "link": "https://stackoverflow.com/questions/54679234/how-to-use-constructor-to-create-array-of-objects/54679461#54679461", "title": "How to use constructor to create array of objects?", "body": "<p>Is it something like this you are looking for ?</p>\n\n<p>Each input object gets mapped to an output object with a property <code>gridinsert</code> which is an array of objects built from each property in the input object.</p>\n\n<p>The column IDs are mapped to the property names using an object:</p>\n\n<pre><code>const colIDs = {\n  Account: 17,\n  Desc: 18,\n  Amount: 19,\n  Partner: 20,\n  FY: 12,\n  PD: 21,\n  VNO: 23\n};\n</code></pre>\n\n<p>If the keys are not consistent, for example, if you have a mix of uppercase or lowercase keys and possibly errors in some keys, turn all of the keys to lowercase and add entries for common errors or synonym keys. Before accessing the map by key, make sure to lowercase the key.</p>\n\n<pre><code>const colIDs = {\n  account: 17,\n  desc: 18,\n  description: 18, // this could be used instead of desc\n  amount: 19,\n  quantity: 19, // and this instead of amount\n  partner: 20,\n  fy: 12,\n  pd: 21,\n  vno: 23\n};\n</code></pre>\n\n<p>The mapping is done using <code>Object.entries</code> and <code>map</code>:</p>\n\n<pre><code>const result = data.map(elem =&gt; ({\n    gridinsert: Object.entries(elem).map(([key, value]) =&gt; ({\n       value,\n       command: 'setGridValue',\n       columnID: colIDs[key.toLocaleLowerCase()]\n     }))\n}));\n</code></pre>\n\n<p>Here is an example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [{\r\n    \"account\": \"1111-000\", // lowercase\r\n    \"Desc\": \"Accrued - Payroll &amp; Payroll Tax\",\r\n    \"amount\": \"-8,459.88\",  //lowercase\r\n    \"Partner\": \"RAP\",\r\n    \"FY\": \"2018\",\r\n    \"PD\": \"10\",\r\n    \"VNO\": \"abc\"\r\n}, {\r\n    \"Account\": \"2222-000\",\r\n    \"Description\": \"Accrued - Management Fee\", // synonym key\r\n    \"Amount\": \"-9,228.33\",\r\n    \"Partner\": \"RAP\",\r\n    \"FY\": \"2018\",\r\n    \"PD\": \"10\",\r\n    \"VNO\": \"dfe\"\r\n}, {\r\n    \"Account\": \"3333-000\",\r\n    \"Desc\": \"Current Year Earnings\",\r\n    \"Amount\": \"0\",\r\n    \"Partner\": \"RAP\",\r\n    \"FY\": \"2018\",\r\n    \"PD\": \"10\",\r\n    \"VNO\": \"bcd\"\r\n}];\r\n\r\nconst colIDs = {\r\n  account: 17,\r\n  desc: 18,\r\n  description: 18,\r\n  amount: 19,\r\n  quantity: 19,\r\n  partner: 20,\r\n  fy: 12,\r\n  pd: 21,\r\n  vno: 23\r\n};\r\n\r\nconst result = data.map(elem =&gt; \r\n    Object.entries(elem).map(([key, value]) =&gt; ({\r\n       value,\r\n       command: 'setGridValue',\r\n       columnID: colIDs[key.toLocaleLowerCase()]\r\n    })\r\n));\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If instead you want all the transformed properties of your input items in a single array, you can do this:</p>\n\n<pre><code>const result = data.reduce((acc, elem) =&gt; {\n    const entries = Object.entries(elem).map(([key, value]) =&gt; ({\n       value,\n       command: 'setGridValue',\n       columnID: colIDs[key.toLocaleLowerCase()]\n     }));\n    acc = [...acc, ...entries];\n    return acc;\n}, []);\n</code></pre>\n\n<p>Doing this however will result in clashes between properties having the same value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [{\r\n    \"account\": \"1111-000\", // lowercase\r\n    \"Desc\": \"Accrued - Payroll &amp; Payroll Tax\",\r\n    \"amount\": \"-8,459.88\",  //lowercase\r\n    \"Partner\": \"RAP\",\r\n    \"FY\": \"2018\",\r\n    \"PD\": \"10\",\r\n    \"VNO\": \"abc\"\r\n}, {\r\n    \"Account\": \"2222-000\",\r\n    \"Description\": \"Accrued - Management Fee\", // synonym key\r\n    \"Amount\": \"-9,228.33\",\r\n    \"Partner\": \"RAP\",\r\n    \"FY\": \"2018\",\r\n    \"PD\": \"10\",\r\n    \"VNO\": \"dfe\"\r\n}, {\r\n    \"Account\": \"3333-000\",\r\n    \"Desc\": \"Current Year Earnings\",\r\n    \"Amount\": \"0\",\r\n    \"Partner\": \"RAP\",\r\n    \"FY\": \"2018\",\r\n    \"PD\": \"10\",\r\n    \"VNO\": \"bcd\"\r\n}];\r\n\r\nconst colIDs = {\r\n  account: 17,\r\n  desc: 18,\r\n  description: 18,\r\n  amount: 19,\r\n  quantity: 19,\r\n  partner: 20,\r\n  fy: 12,\r\n  pd: 21,\r\n  vno: 23\r\n};\r\n\r\nconst result = data.reduce((acc, elem) =&gt; {\r\n  const entries = Object.entries(elem).map(([key, value]) =&gt; ({\r\n     value,\r\n     command: 'setGridValue',\r\n     columnID: colIDs[key.toLocaleLowerCase()]\r\n   }));\r\n  acc = [...acc, ...entries];\r\n  return acc;\r\n}, []);\r\n\r\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "is_accepted": false, "score": 1, "last_activity_date": 1550092651, "last_edit_date": 1550092651, "creation_date": 1550092249, "answer_id": 54679470, "question_id": 54679234, "link": "https://stackoverflow.com/questions/54679234/how-to-use-constructor-to-create-array-of-objects/54679470#54679470", "title": "How to use constructor to create array of objects?", "body": "<p>One solution could be first generate a map between object <code>keys</code> and the columns <code>ids</code>, like this:</p>\n\n<pre><code>const mapKeyCol = {\n    \"Account\": \"17\",\n    \"Desc\": \"18\",\n    \"Amount\": \"19\",\n    \"Partner\": \"20\",\n    \"FY\": \"12\",\n    \"PD\": \"21\",\n    \"VNO\": \"23\"\n}\n</code></pre>\n\n<p>Then you can use <code>reduce()</code> on your array to generate the desired result:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const input = [\r\n    {\r\n        \"Account\": \"1111-000\",\r\n        \"Desc\": \"Accrued - Payroll &amp; Payroll Tax\",\r\n        \"Amount\": \"-8,459.88\",\r\n        \"Partner\": \"RAP\",\r\n        \"FY\": \"2018\",\r\n        \"PD\": \"10\",\r\n        \"VNO\": \"abc\"\r\n    },\r\n    {\r\n        \"Account\": \"2222-000\",\r\n        \"Desc\": \"Accrued - Management Fee\",\r\n        \"Amount\": \"-9,228.33\",\r\n        \"Partner\": \"RAP\",\r\n        \"FY\": \"2018\",\r\n        \"PD\": \"10\",\r\n        \"VNO\": \"dfe\"\r\n    },\r\n    {\r\n        \"Account\": \"3333-000\",\r\n        \"Desc\": \"Current Year Earnings\",\r\n        \"Amount\": \"0\",\r\n        \"Partner\": \"RAP\",\r\n        \"FY\": \"2018\",\r\n        \"PD\": \"10\",\r\n        \"VNO\": \"bcd\"\r\n    }\r\n];\r\n\r\nconst mapKeyCol = {\r\n    \"Account\": \"17\",\r\n    \"Desc\": \"18\",\r\n    \"Amount\": \"19\",\r\n    \"Partner\": \"20\",\r\n    \"FY\": \"12\",\r\n    \"PD\": \"21\",\r\n    \"VNO\": \"23\"\r\n}\r\n\r\nlet arrayOfGridInserts = input.reduce((acc, obj) =&gt;\r\n{\r\n    let gridInsert = [];\r\n\r\n    Object.keys(obj).forEach(\r\n        k =&gt; gridInsert.push({\r\n            value: obj[k],\r\n            command: \"setGridValue\",\r\n            columnID: mapKeyCol[k]\r\n        })\r\n    );    \r\n\r\n    return [...acc, gridInsert];\r\n}, []);\r\n\r\nconsole.log(arrayOfGridInserts);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 441, "user_id": 2763557, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/2e3232d8417c9490e113c7d4ba62ab24?s=128&d=identicon&r=PG&f=1", "display_name": "user2763557", "link": "https://stackoverflow.com/users/2763557/user2763557"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 54679461, "answer_count": 2, "score": 0, "last_activity_date": 1550161774, "creation_date": 1550091166, "last_edit_date": 1550093072, "question_id": 54679234, "link": "https://stackoverflow.com/questions/54679234/how-to-use-constructor-to-create-array-of-objects", "title": "How to use constructor to create array of objects?", "body": "<p>a) I have an array of objects that look something like this:</p>\n\n<pre><code>[\n    {\n        \"Account\": \"1111-000\",\n        \"Desc\": \"Accrued - Payroll &amp; Payroll Tax\",\n        \"Amount\": \"-8,459.88\",\n        \"Partner\": \"RAP\",\n        \"FY\": \"2018\",\n        \"PD\": \"10\",\n        \"VNO\": \"abc\"\n    },\n    {\n        \"Account\": \"2222-000\",\n        \"Desc\": \"Accrued - Management Fee\",\n        \"Amount\": \"-9,228.33\",\n        \"Partner\": \"RAP\",\n        \"FY\": \"2018\",\n        \"PD\": \"10\",\n        \"VNO\": \"dfe\"\n    },\n    {\n        \"Account\": \"3333-000\",\n        \"Desc\": \"Current Year Earnings\",\n        \"Amount\": \"0\",\n        \"Partner\": \"RAP\",\n        \"FY\": \"2018\",\n        \"PD\": \"10\",\n        \"VNO\": \"bcd\"\n    },\n]\n</code></pre>\n\n<p>b) I want to loop through each object and use a constructor to create an output like below:</p>\n\n<pre><code>gridinsert: [{\n  value: \"1111-000\",\n  command: \"setGridValue\",\n  columnID: \"17\"\n}, {\n  value: \"Accrued-Payroll &amp; payroll tax\",\n  command: \"setGridValue\",\n  columnID: \"18\"\n}, {\n  value: \"-8,459.88\",\n  command: \"setGridValue\",\n  columnID: \"19\"\n}, {\n  value: \"RAP\",\n  command: \"setGridValue\",\n  columnID: \"20\"\n}, {\n  value: \"2018\",\n  command: \"setGridValue\",\n  columnID: \"12\"\n}, {\n  value: \"10\",\n  command: \"setGridValue\",\n  columnID: \"21\"\n}, {\n  value: \"abc\",\n  command: \"setGridValue\",\n  columnID: \"23\"\n}]\n</code></pre>\n\n<p>The JSON will always be in the same order as shown. So in the output, I basically have to extract the values and create an object for each value. I would need to create the <code>gridinsert:[]</code> for each object in the initial array of objects.</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 11471, "user_id": 6766919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bxq3H.jpg?s=128&g=1", "display_name": "ellipsis", "link": "https://stackoverflow.com/users/6766919/ellipsis"}, "is_accepted": true, "score": -1, "last_activity_date": 1550091761, "creation_date": 1550091761, "answer_id": 54679367, "question_id": 54679216, "link": "https://stackoverflow.com/questions/54679216/building-loading-div-by-js/54679367#54679367", "title": "Building loading div by js", "body": "<p>Try this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const btn = document.querySelector('button');\r\nconst div = document.querySelector('div');\r\ndiv.style.width = \"0%\";\r\nvar divWidth = 0;\r\n\r\nfunction a() {\r\n  divWidth++;\r\n  // console.log(divWidth)\r\n  div.style.width = `${divWidth}%`;\r\n  if (divWidth &lt;= 100) {\r\n    setTimeout(a, 100);\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div {\r\n  border: 1px solid yellow;\r\n  background-color:purple;\r\n  color:white;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;loading....&lt;/div&gt;\r\n&lt;button onclick=\"a()\"&gt;click&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1870, "user_id": 6301806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AfP7H.png?s=128&g=1", "display_name": "WilliamNHarvey", "link": "https://stackoverflow.com/users/6301806/williamnharvey"}, "is_accepted": false, "score": 0, "last_activity_date": 1550091828, "creation_date": 1550091828, "answer_id": 54679381, "question_id": 54679216, "link": "https://stackoverflow.com/questions/54679216/building-loading-div-by-js/54679381#54679381", "title": "Building loading div by js", "body": "<p>Use setInterval instead of setTimeout</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const btn = document.querySelector('button');\r\nconst div = document.querySelector('div');\r\ndiv.style.width = `0%`;\r\n\r\n\r\nconst loading = () =&gt; {\r\n  let divWidth = 0;\r\n\r\n  function load() {\r\n      divWidth++;\r\n      div.style.width = `${divWidth}%`;\r\n      if(divWidth &gt;= 100) clearInterval(loader);\r\n  }\r\n\r\n  const loader = setInterval(load, 100);\r\n};\r\n\r\nbtn.addEventListener('click', loading);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.growing-div {\r\n  height: 100px;\r\n  background: blue;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button&gt;Button&lt;/button&gt;\r\n&lt;div class=\"growing-div\"&gt;Div&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 47, "user_id": 10900030, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b424c87b4c36ab092a8d2122c9b64cf?s=128&d=identicon&r=PG&f=1", "display_name": "Alchemisz", "link": "https://stackoverflow.com/users/10900030/alchemisz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 1, "accepted_answer_id": 54679367, "answer_count": 2, "score": -1, "last_activity_date": 1550091828, "creation_date": 1550091069, "last_edit_date": 1550091610, "question_id": 54679216, "link": "https://stackoverflow.com/questions/54679216/building-loading-div-by-js", "title": "Building loading div by js", "body": "<p>I want to build a loading div. Its width should grow in 0,01s of 1% his width.</p>\n\n<p>My code:</p>\n\n<pre><code>const btn = document.querySelector('button');\nconst div = document.querySelector('div');\ndiv.style.width = `0%`;\n\n\nconst loading = () =&gt; {\n\nlet divWidth = 0;\n\nfunction load() {\n    divWidth++;\n    div.style.width = `${divWidth}%`;\n}\n\nif (divWidth &lt;= 100) {\n    setTimeout(load, 100);\n}\n\n};\n\nbtn.addEventListener('click', loading);\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "redux"], "comments": [{"owner": {"reputation": 5287, "user_id": 1813169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/wTAkF.jpg?s=128&g=1", "display_name": "MTCoster", "link": "https://stackoverflow.com/users/1813169/mtcoster"}, "edited": false, "score": 0, "creation_date": 1550091090, "post_id": 54679113, "comment_id": 96147322, "body": "The <code>import</code>/<code>export</code> syntax <a href=\"https://stackoverflow.com/a/38702635/1813169\">isn\u2019t really supported in browsers yet</a>. You\u2019ll need to use some sort of module bundler to prepare your scripts for use in a browser. My preference is usually <a href=\"https://rollupjs.org/guide/en\" rel=\"nofollow noreferrer\">Rollup</a>, but there are plenty of options out there."}, {"owner": {"reputation": 681, "user_id": 1978448, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hqmVU.png?s=128&g=1", "display_name": "NULL pointer", "link": "https://stackoverflow.com/users/1978448/null-pointer"}, "reply_to_user": {"reputation": 5287, "user_id": 1813169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/wTAkF.jpg?s=128&g=1", "display_name": "MTCoster", "link": "https://stackoverflow.com/users/1813169/mtcoster"}, "edited": false, "score": 0, "creation_date": 1550094057, "post_id": 54679113, "comment_id": 96148621, "body": "@MTCoaster - I see - I will put the import {store} thorugh web pack and update my question with the result!"}, {"owner": {"reputation": 5287, "user_id": 1813169, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/wTAkF.jpg?s=128&g=1", "display_name": "MTCoster", "link": "https://stackoverflow.com/users/1813169/mtcoster"}, "edited": false, "score": 0, "creation_date": 1550094147, "post_id": 54679113, "comment_id": 96148661, "body": "A) It\u2019s not just that line, you\u2019ve got to pass your <i>entire</i> collection of scripts through. B) That\u2019s not how you spell my name ;)"}], "answers": [{"tags": [], "owner": {"reputation": 681, "user_id": 1978448, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hqmVU.png?s=128&g=1", "display_name": "NULL pointer", "link": "https://stackoverflow.com/users/1978448/null-pointer"}, "is_accepted": false, "score": 0, "last_activity_date": 1550364801, "last_edit_date": 1550364801, "creation_date": 1550361481, "answer_id": 54728849, "question_id": 54679113, "link": "https://stackoverflow.com/questions/54679113/calling-store-dispatch-from-html-button-external-to-components/54728849#54728849", "title": "calling store.dispatch from html button external to components", "body": "<p>I ended up using the global window object. In my html:</p>\n\n<pre><code>&lt;div class='row transactionRow' onClick=\"window.storeGlobal.dispatch({type:'foo',payload:'bar'});\"\n\n</code></pre>\n\n<p>and define window.storeGlobal in storeAccess.js:</p>\n\n<p>storeAccess.js:</p>\n\n<pre><code>import { createStore } from 'redux';\nwindow.storeGlobal = createStore(reducer);\n</code></pre>\n\n<p>storeAccess gets webpacked via laravel mix \nwebpack.mix.js:</p>\n\n<p>webpack.mix.js:</p>\n\n<pre><code>mix.react('resources/js/money.js', 'public/js')\n   .react('resources/js/footer.js','public/js')\n   .react('resources/js/storeAccess.js','public/js')\n   .sass('resources/sass/money.scss', 'public/css');\n</code></pre>\n\n<p>I messed around for a while trying to export the <code>var store</code> variable with a statement like <code>export store;</code> in the stroeAccess.js but I could not work out how to import it in a way that would work across browsers. The above worked so I ran with it.</p>\n"}], "owner": {"reputation": 681, "user_id": 1978448, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/hqmVU.png?s=128&g=1", "display_name": "NULL pointer", "link": "https://stackoverflow.com/users/1978448/null-pointer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 168, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550364801, "creation_date": 1550090676, "last_edit_date": 1550094554, "question_id": 54679113, "link": "https://stackoverflow.com/questions/54679113/calling-store-dispatch-from-html-button-external-to-components", "title": "calling store.dispatch from html button external to components", "body": "<p>On my screen I have two columns, the left hand column is a list of transations, the right hand column shows details of the last transaction you clicked on in the list on the left.</p>\n\n<p>The details are populated in response to a redux action ONE_TRANS_LOAD_DETAILS</p>\n\n<p>I generate the list on the left using html, without using React. I want to add an onClick event to dispatch an action with type='ONE_TRANS_LOAD_DETAILS'.</p>\n\n<p>I could do this IF the left hand list was also a rect component, but am having trouble getting access to the store to call the store.dispatch({type:'ONE_TRANS_LOAD_DETAILS', transId: 55});</p>\n\n<p>In my html list on the left, I have <code>&lt;div class='row' onClick=\"store.dispatch({ type: 'ONE_TRANS_LOAD_DETAILS',transId: {{ $trans-&gt;id }} }))\"&gt;</code> (I am using laravel with a blade template to generate this html)</p>\n\n<p>I have set the store as an export in my application root code (footer.js):</p>\n\n<pre><code>import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport reducer from './reducer';\nimport TransDetails from \"./components/TransDetails\";\nexport const store = createStore(reducer);\nrequire('./components/Allocations.js');\n\nif (document.getElementById('allocations')) {\n    render(\n        &lt;Provider store={store}&gt;\n            &lt;TransDetails /&gt;\n        &lt;/Provider&gt;,\n        document.getElementById('allocations')\n    );\n}\n</code></pre>\n\n<p>So how to ensure <code>store</code> is set to the redux store available to the html list on the left?</p>\n\n<p>I have tried:</p>\n\n<p>1) putting the export in the javascript file named 'money.js' that webpack builds for me and I import in the html header thus: <code>&lt;script src=\"js/money.js\"&gt;&lt;/script&gt;</code>\nmoney.js:</p>\n\n<pre><code>require('./bootstrap');\nimport { store } from './footer.js';\n</code></pre>\n\n<p>but I get 'store is not defined' when I try and use it in the html list</p>\n\n<p>2) SO I tried a script tag in the body:</p>\n\n<pre><code>&lt;/head&gt;\n&lt;body&gt;\n&lt;script&gt;\nimport { store } from './footer.js';\n&lt;/script&gt;\n...\n</code></pre>\n\n<p>but I get 'SyntaxError: Unexpected token {' at the import { store } line</p>\n\n<p>3) I have tried putting the import in the head:</p>\n\n<pre><code>&lt;script&gt;\nimport { store } from './footer.js';\n&lt;/script&gt;\n</code></pre>\n\n<p>But I also get unexpected token error.</p>\n\n<p>4) (Thanks @MTCoatser) I made accessStore be processed by webpack to ensure compatibility:\nNew javascript file storeAccess:</p>\n\n<pre><code>import reducer from './reducer';\nimport { createStore } from 'redux';\nvar store = createStore(reducer);\n</code></pre>\n\n<p>And new line in laravel mix (webpack wrapper) <code>.react('resources/js/storeAccess.js','public/js')</code></p>\n\n<p>and added \n<code>&lt;script src=\"js/storeAccess.js\"&gt;&lt;/script&gt;</code>\nto head of html</p>\n\n<p>Removed store definition from footer.js:</p>\n\n<pre><code>import React from 'react';\nimport { render } from 'react-dom';\nimport { Provider } from 'react-redux';\nimport Allocations from \"./components/Allocations\";\n\nrequire('./components/Allocations.js');\n\nif (document.getElementById('allocations')) {\n    render(\n        &lt;Provider store={store}&gt;\n            &lt;Allocations /&gt;\n        &lt;/Provider&gt;,\n        document.getElementById('allocations')\n    );\n}\n</code></pre>\n\n<p>and as this is loaded after storeAccess.js, the store should be available to that code anyway.</p>\n\n<p>and get store is not defined at onClick=\"store.dispatch in the html body.</p>\n\n<p>BUT Still get \"store is not defined\" at the store.dispatch line.</p>\n\n<p>In fact If I console.log(store) in the head, it is also undefined:</p>\n\n<pre><code>...\n&lt;script src=\"js/storeAccess.js\"&gt;&lt;/script&gt;\n&lt;script&gt;console.log(\"In head\",store)&lt;/script&gt; &lt;-- throws store is not defined\n&lt;/head&gt;\n</code></pre>\n\n<p>I hope this is just a javascript scope or formatting question! Help!</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 4, "creation_date": 1550090496, "post_id": 54679055, "comment_id": 96147028, "body": "<a href=\"http://idownvotedbecau.se/nomcve/\" rel=\"nofollow noreferrer\">Without a Minimal, Complete, Verifiable Example, it is hard to know what is wrong</a>"}, {"owner": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "reply_to_user": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "edited": false, "score": 0, "creation_date": 1550090717, "post_id": 54679055, "comment_id": 96147149, "body": "Added the snippet."}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 2, "creation_date": 1550090743, "post_id": 54679055, "comment_id": 96147157, "body": "You&#39;ll probably want some sort of <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for\" rel=\"nofollow noreferrer\"><code>for</code></a> <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Loops_and_iteration\" rel=\"nofollow noreferrer\">loop</a>. If your code is working as is and you&#39;re looking at tips for improving readability, you might consider posting it over at <a href=\"https://codereview.stackexchange.com/\">codereview</a>."}, {"owner": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "reply_to_user": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "edited": false, "score": 0, "creation_date": 1550091004, "post_id": 54679055, "comment_id": 96147284, "body": "@p.s.w.g - I&#39;m stuck here, not looking for an improved readability. I do not think all those <code>if</code> will work."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "edited": false, "score": 0, "creation_date": 1550095254, "post_id": 54679403, "comment_id": 96149121, "body": "The N/A answers do not rest 0.5. So if I create another array for the incorrect ones and add another <code>else if</code> it should work, right?"}, {"owner": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "edited": false, "score": 0, "creation_date": 1550095668, "post_id": 54679403, "comment_id": 96149283, "body": "And another question, what&#39;s the effect of  <code>!</code> in <code>else if (!RespostesNA[i])</code>?"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "edited": false, "score": 0, "creation_date": 1550096380, "post_id": 54679403, "comment_id": 96149545, "body": "@ArnauJim&#233;nezBuxad&#233; <code>!</code> is the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Logical_Operators\" rel=\"nofollow noreferrer\">logical not</a> operator. <code>if (x == true)</code> is roughly equivalent to <code>if (x)</code> and <code>if (x == false)</code> is roughly equivalent to <code>if (!x)</code> (there are a few cases where these are different but they&#39;re not particularly relevant here). In other words, I don&#39;t believe you need another array for incorrect answer; <code>if (!RespostesNA[i])</code> basically means <code>if user didn&#39;t select the n&#47;a answer</code>."}, {"owner": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "edited": false, "score": 0, "creation_date": 1550096821, "post_id": 54679403, "comment_id": 96149720, "body": "Now that I know what ! means, yes. I don&#39;t need another array. That works then, thanks a lot!"}, {"owner": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "edited": false, "score": 0, "creation_date": 1550097917, "post_id": 54679403, "comment_id": 96150072, "body": "Another thing I noticed is that if all the answers are blank, the mark is a -5. Why&#39;s that? Shouldn&#39;t it be 0? And how do I make it for the mark not to be able to be above 0?"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "edited": false, "score": 0, "creation_date": 1550099265, "post_id": 54679403, "comment_id": 96150550, "body": "@ArnauJim&#233;nez My code assumes that the user had selected some answer in every question. Of course, if you want to allow the user to leave some questions blank and calculate the score of the other answers, you will need to account for that. You could go back to the idea having an array of incorrect answers, but note again that loops can help you out quite a bit in this regard."}, {"owner": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "edited": false, "score": 0, "creation_date": 1550139718, "post_id": 54679403, "comment_id": 96164089, "body": "Thanks. Last thing, how can I add to the alert a list of the 10 questions followed with <code>:</code> and display if they are correct or incorrect?"}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "edited": false, "score": 0, "creation_date": 1550159690, "post_id": 54679403, "comment_id": 96176148, "body": "@ArnauJim&#233;nez Read MDN <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String\" rel=\"nofollow noreferrer\"><code>String</code></a> for information about formatting and concatenating strings, but again, take some time to think about how a loop can help you. I&#39;d suggest constructing an array of answer results (<code>&quot;correct&quot;</code>, <code>&quot;incorrect&quot;</code>, or <code>&quot;skipped&quot;</code>), then you can loop through this array to compute the final score as well as format the result message."}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 1, "last_activity_date": 1550091938, "creation_date": 1550091938, "answer_id": 54679403, "question_id": 54679055, "link": "https://stackoverflow.com/questions/54679055/javascript-different-conditions-for-each-element-in-an-array/54679403#54679403", "title": "Javascript - Different conditions for each element in an array", "body": "<p>As I hinted at in my comment, you can use a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for\" rel=\"nofollow noreferrer\"><code>for</code></a> loop. You already have the correct answers and 'N/A' answers in arrays so you can easily loop over them. The pseudo code would be something like:</p>\n\n<pre><code>score &lt;- 0\nfor each question\n   if correct answer selected then\n       score &lt;- score + 1\n   else if n/a answer not selected then\n       score &lt;- score - 0.5\n   end\nnext question\n</code></pre>\n\n<p>Translating this to javascript, you'd have something like this:</p>\n\n<pre><code>var nota = 0;\nfor (var i = 0; i &lt; RespostesCorrectes.length; i++) {\n  if (RespostesCorrectes[i]) {\n    nota += 1;\n  } else if (!RespostesNA[i]) {\n    nota -= 0.5;\n  }\n}\n</code></pre>\n\n<p>Finally, you need to display the result score to the user. For this simple example, <code>alert</code> will be good enough.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//P1-2, P2-2, P3-3, P4-2, P5-4, P6-3, P7-4, P8-3, P9-2, P10-2\r\nfunction calcul(){\r\n  //Respostes correctes\r\n  var p1c=document.getElementById(\"p1r2\").checked;\r\n  var p2c=document.getElementById(\"p2r2\").checked;\r\n  var p3c=document.getElementById(\"p3r3\").checked;\r\n  var p4c=document.getElementById(\"p4r2\").checked;\r\n  var p5c=document.getElementById(\"p5r4\").checked;\r\n  var p6c=document.getElementById(\"p6r3\").checked;\r\n  var p7c=document.getElementById(\"p7r4\").checked;\r\n  var p8c=document.getElementById(\"p8r3\").checked;\r\n  var p9c=document.getElementById(\"p9r2\").checked;\r\n  var p10c=document.getElementById(\"p10r2\").checked;\r\n  var RespostesCorrectes=[p1c,p2c,p3c,p4c,p5c,p6c,p7c,p8c,p9c,p10c];\r\n  //No contestades\r\n  var p1n=document.getElementById(\"p1r0\").checked;\r\n  var p2n=document.getElementById(\"p2r0\").checked;\r\n  var p3n=document.getElementById(\"p3r0\").checked;\r\n  var p4n=document.getElementById(\"p4r0\").checked;\r\n  var p5n=document.getElementById(\"p5r0\").checked;\r\n  var p6n=document.getElementById(\"p6r0\").checked;\r\n  var p7n=document.getElementById(\"p7r0\").checked;\r\n  var p8n=document.getElementById(\"p8r0\").checked;\r\n  var p9n=document.getElementById(\"p9r0\").checked;\r\n  var p10n=document.getElementById(\"p10r0\").checked;\r\n  var RespostesNA=[p1n,p2n,p3n,p4n,p5n,p6n,p7n,p8n,p9n,p10n];\r\n  //Calcular nota i pregs correctes/incorrectes\r\n  var nota = 0;\r\n  for (var i = 0; i &lt; RespostesCorrectes.length; i++) {\r\n    if (RespostesCorrectes[i]) {\r\n      nota += 1;\r\n    } else if (!RespostesNA[i]) {\r\n      nota -= 0.5;\r\n    }\r\n  }\r\n\r\n  alert(nota);\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.codiPrograma{\r\n  font-family:\"Courier\", Courier, sans-serif;\r\n  font-size: 17px;\r\n}\r\n.codi{\r\n  font-family:\"Courier\", Courier, sans-serif;\r\n  font-size: 15px;\r\n}\r\n.boto{\r\n  width:150px;\r\n  height:30px;\r\n  font-size:15px;\r\n  margin:0 auto;\r\n  display: block;\r\n}\r\n#test{\r\n  /*display:none;*/\r\n  width:1000px;\r\n  margin: 0 auto;\r\n}\r\n#resultats{\r\n  width: 250px;\r\n  height:400px;\r\n  border: 5px solid black;\r\n  padding: 25px;\r\n  margin: 0 auto;\r\n  margin-top:30px;\r\n  display:none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"test\"&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 1&lt;/legend&gt;\r\n &lt;h3&gt;Quin \u00e9s el valor de l'expressi\u00f3 seg\u00fcent? &lt;br&gt;\r\n   &lt;span class=\"codiPrograma\"&gt;&lt;p&gt; &amp;quot;23&amp;quot;+12&lt;/p&gt;&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta1\" id=\"p1r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p1r1\"&gt;35&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta1\" id=\"p1r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p1r2\"&gt;&amp;quot;2312&amp;quot;&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta1\" id=\"p1r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p1r3\"&gt;&amp;quot;35&amp;quot;&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta1\" id=\"p1r4\"&gt;\r\n &lt;label for=\"p1r4\"&gt;No es pot avaluar perqu\u00e8 \u00e9s sint\u00e0cticament incorrecte.&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta1\" id=\"p1r0\"&gt;\r\n &lt;label for=\"p1r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 2&lt;/legend&gt;\r\n &lt;h3&gt;Quin \u00e9s el valor de l'expressi\u00f3 seg\u00fcent? &lt;br&gt;\r\n   &lt;span class=\"codiPrograma\"&gt;&lt;p&gt;\"23\"&amp;gt;12 &amp;amp;&amp;amp; !(parseInt(\"12px\")&amp;lt;13)&lt;/p&gt;&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta2\" id=\"p2r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p2r1\"&gt;true&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta2\" id=\"p2r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p2r2\"&gt;false&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta2\" id=\"p2r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p2r3\"&gt;undefined&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta2\" id=\"p2r4\"&gt;\r\n &lt;label for=\"p2r4\"&gt;No es pot avaluar perqu\u00e8 \u00e9s sint\u00e0cticament incorrecte.&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta2\" id=\"p2r0\"&gt;\r\n &lt;label for=\"p2r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 3&lt;/legend&gt;\r\n &lt;h3&gt;Quina \u00e9s la condici\u00f3 per saber que el valor de la variable x \u00e9s un n\u00famero parell i no m\u00faltiple de 3?&lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta3\" id=\"p3r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p3r1\"&gt;x%2==0 &amp;&amp; !x%3==0&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta3\" id=\"p3r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p3r2\"&gt;x/2=0 &amp;&amp; !(x/3=0)&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta3\" id=\"p3r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p3r3\"&gt;x%2==0 &amp;&amp; !(x%3==0)&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta3\" id=\"p3r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p3r4\"&gt;x%2=0 &amp;&amp; !(x%3=0)&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta3\" id=\"p3r0\"&gt;\r\n &lt;label for=\"p3r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 4&lt;/legend&gt;\r\n &lt;h3&gt;Quina \u00e9s la instrucci\u00f3 adequada per llegir el valor entrat per l'usuari a trav\u00e9s del seg\u00fcent element HTML? &lt;br&gt;\r\n &lt;span class=\"codiPrograma\"&gt;&lt;p&gt;&amp;lt;input type=\"text\" id=\"a\"&amp;gt;&lt;/p&gt;&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta4\" id=\"p4r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p4r1\"&gt;var x = document.getElementById('a').value;&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta4\" id=\"p4r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p4r2\"&gt;var a = document.getElementById(\"a\").value;&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta4\" id=\"p4r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p4r3\"&gt;var a = document.getElementById(\"a\").value();&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta4\" id=\"p4r4\"&gt;\r\n &lt;label for=\"p4r4\"&gt;No es pot llegir perqu\u00e8 falta l'atribut size en l'element HTML&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta4\" id=\"p4r0\"&gt;\r\n &lt;label for=\"p4r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 5&lt;/legend&gt;\r\n &lt;h3&gt;Quin \u00e9s el resultat d'executar la seg\u00fcent funci\u00f3? &lt;br&gt;\r\n   &lt;span class=\"codiPrograma\"&gt;&lt;p&gt;function pregunta5(){&lt;/br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;const A=5, B=10;&lt;/br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return B%2 - A*B/2;&lt;br&gt;}&lt;/p&gt;&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta5\" id=\"p5r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p5r1\"&gt;25&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta5\" id=\"p5r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p5r2\"&gt;-20&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta5\" id=\"p5r3\"&gt;\r\n &lt;label for=\"p5r3\"&gt;No es pot executar perqu\u00e8 t\u00e9 errors sint\u00e0ctics&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta5\" id=\"p5r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p5r4\"&gt;-25&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta5\" id=\"p5r0\"&gt;\r\n &lt;label for=\"p5r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 6&lt;/legend&gt;\r\n &lt;h3&gt;Quin \u00e9s el resultat d'executar la funci\u00f3 programa()?&lt;br&gt;\r\n   &lt;span class=\"codiPrograma\"&gt;&lt;p&gt;function programa(){&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var x=2, y=5;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;y=pregunta6(x,y);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;alert(\"El resultat \u00e9s \" + x);&lt;br&gt;}&lt;br&gt;function pregunta6(x,y){&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;x=x+y;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return x;&lt;br&gt;}&lt;/p&gt;&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta6\" id=\"p6r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p6r1\"&gt;El resultat \u00e9s 5&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta6\" id=\"p6r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p6r2\"&gt;El resultat \u00e9s 7&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta6\" id=\"p6r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p6r3\"&gt;El resultat \u00e9s 2&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta6\" id=\"p6r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p6r4\"&gt;El resultat \u00e9s 6&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta6\" id=\"p6r0\"&gt;\r\n &lt;label for=\"p6r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 7&lt;/legend&gt;\r\n &lt;h3&gt;Quina d'aquestes funcions NO calcula correctament la suma de tots els nombres imparells que hi ha entre 5 i 186, ambd\u00f3s inclosos? &lt;br&gt;\r\n &lt;span class=\"codiPrograma\"&gt; &lt;br&gt;function funcioA() {&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var resultat=0;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for (i=186; i&gt;5; i--)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(i%2==1) resultat=resultat+i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return resultat;&lt;br&gt;}&lt;br&gt;function funcioB(){&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var resultat=0;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for(i=5; i&amp;lt;=186; i++)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(i%2==1) resultat=resultat+i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return resultat;&lt;br&gt;}&lt;br&gt;function funcioC(){&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var resultat=0;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for(i=5; i&amp;lt;=186; i=i+2)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;resultat=resultat+i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return resultat;&lt;br&gt;}&lt;br&gt;function funcioD(){&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var resultat=0;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for(i=5; i&amp;lt;=186; i++)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(i%2=1) resultat=resultat+i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return resultat;&lt;br&gt;}&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta7\" id=\"p7r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p7r1\"&gt;funcioA&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta7\" id=\"p7r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p7r2\"&gt;funcioB&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta7\" id=\"p7r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p7r3\"&gt;funcioC&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta7\" id=\"p7r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p7r4\"&gt;funcioD&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta7\" id=\"p7r0\"&gt;\r\n &lt;label for=\"p7r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 8&lt;/legend&gt;\r\n &lt;h3&gt;Donat l'objecte &lt;span class=\"codiPrograma\"&gt;var rectangle={posicio: {x:\"3\", y:\"5\"}, amplada:\"10\", al\u00e7ada:\"20\"}&lt;/span&gt; quina expressi\u00f3 calcula correctament l'\u00e0rea del mateix?\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta8\" id=\"p8r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p8r1\"&gt;amplada*al\u00e7ada&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta8\" id=\"p8r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p8r2\"&gt;amplada.rectangle*al\u00e7ada.rectangle&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta8\" id=\"p8r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p8r3\"&gt;rectangle.amplada*rectangle.al\u00e7ada&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta8\" id=\"p8r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p8r4\"&gt;parseInt(\"rectangle.amplada\")*parseInt(\"rectangle.al\u00e7ada\")&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta8\" id=\"p8r0\"&gt;\r\n &lt;label for=\"p8r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 9&lt;/legend&gt;\r\n &lt;h3&gt;Amb el mateix rectangle de la pregunta anterior, quina instrucci\u00f3 el mouria a la nova posici\u00f3&lt;span class=\"codiPrograma\"&gt; x=\"7\"&lt;/span&gt; i &lt;span class=\"codiPrograma\"&gt;y=\"9\"&lt;/span&gt;?\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta9\" id=\"p9r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p9r1\"&gt;rectangle.posiciox=\"7\"; rectangle.posicioy=\"9\";&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta9\" id=\"p9r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p9r2\"&gt;rectangle.posicio.y=\"9\"; rectangle.posicio.x=\"7\";&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta9\" id=\"p9r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p9r3\"&gt;posicio.x=\"7\"; posicio.y=\"9\";&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta9\" id=\"p9r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p9r4\"&gt;posicio.x=\"7\" &amp;&amp; posicio.y=\"9\";&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta9\" id=\"p9r0\"&gt;\r\n &lt;label for=\"p9r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 10&lt;/legend&gt;\r\n &lt;h3&gt;Quina cadena de car\u00e0cters avalua la seg\u00fcent expressi\u00f3? &lt;br&gt;\r\n &lt;span class=\"codiPrograma\"&gt;\"Hola. \".charAt(2)+\"Que tal?\".toLowerCase()&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta10\" id=\"p10r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p10r1\"&gt;\"Hola. Que tal?\"&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta10\" id=\"p10r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p10r2\"&gt;\"lque tal=\"&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta10\" id=\"p10r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p10r3\"&gt;\"oque tal??\"&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta10\" id=\"p10r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p10r4\"&gt;\"hola. que tal?\"&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta10\" id=\"p10r0\"&gt;\r\n &lt;label for=\"p10r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;br&gt;\r\n&lt;button id=\"boto\" class=\"boto\" type=\"button\" onClick=\"calcul()\"&gt;Calcular Nota&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Once you're comfortable with loops, there are quite a few other ways to improve this further. I encourage you to look at several of the places where nearly identical code is repeated many times and see if you can reduce it to a simpler loop.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "edited": false, "score": 0, "creation_date": 1550095326, "post_id": 54679414, "comment_id": 96149148, "body": "Our teacher hasn&#39;t explained JQuery yet, so I have to use JS. Anyway, thanks for the advice and the tips :)"}, {"owner": {"reputation": 109, "user_id": 11058773, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZJmlFfchFaY/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOpRF_6YdJ30ZIIzilQuyy-G_L4Lg/mo/photo.jpg?sz=128", "display_name": "Steinar", "link": "https://stackoverflow.com/users/11058773/steinar"}, "reply_to_user": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "edited": false, "score": 0, "creation_date": 1550095527, "post_id": 54679414, "comment_id": 96149231, "body": "I&#39;m self thought, and i highly recommend leaning JQuery, it is not difficult to learn and will increase your efficiency + almost every webpage use it"}], "tags": [], "owner": {"reputation": 109, "user_id": 11058773, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZJmlFfchFaY/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOpRF_6YdJ30ZIIzilQuyy-G_L4Lg/mo/photo.jpg?sz=128", "display_name": "Steinar", "link": "https://stackoverflow.com/users/11058773/steinar"}, "is_accepted": false, "score": 0, "last_activity_date": 1550092341, "last_edit_date": 1550092341, "creation_date": 1550091978, "answer_id": 54679414, "question_id": 54679055, "link": "https://stackoverflow.com/questions/54679055/javascript-different-conditions-for-each-element-in-an-array/54679414#54679414", "title": "Javascript - Different conditions for each element in an array", "body": "<p>I would strongly recommend to use JQuery, then you could use something like this to check the users awnser</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var awnsers = {1,2,4,2...} //Correct awnsers\nvar userAwnsers = {}\n\n$(\".pregunta\").each((i, elm)=&gt;{\n    $.each(elm,(i,r)=&gt;{\n        if(r.checked) \n        {\n            userAwnser.push(i);\n        }\n    })\n})\n</code></pre>\n\n<p>or in plain JS</p>\n\n<pre><code>var awnsers = {1,2,4,2...} //Correct awnsers\nvar userAwnsers = {}\n\nvar questions = document.querySelectorAll(\".pregunta\");\n\n    questions.forEach((elm)=&gt;{\n        var userq = elm.querySelectorAll(\"[type='ratio']\");\n        userq.forEach((e,i)=&gt;{\n            if(e.checked) userAwnser.push(i)\n        })\n    });\n});\n</code></pre>\n\n<p>and then lastly you could compare the awnser array with the userAwnser to check if the user gained a point</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var score = 0;\n\nawnsers.forEach((e,i)=&gt; if(e == userAwnsers[i]) score++)\n</code></pre>\n\n<p>btw if you did not know the <code>()=&gt;{}</code> is simply a shorthand for <code>function(){}</code> and when you are writing a function inline such as the last <code>forEach</code> loop you don't have to use the brackets, that includes if statements </p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "edited": false, "score": 0, "creation_date": 1550095175, "post_id": 54679510, "comment_id": 96149089, "body": "That&#39;s clever. Would it be possible to use js instead of query? Our teacher hasn&#39;t explained query yet."}, {"owner": {"reputation": 2377, "user_id": 690141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4839c9cedda452fcd85a78978044b45c?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Smith", "link": "https://stackoverflow.com/users/690141/jimmy-smith"}, "reply_to_user": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "edited": false, "score": 0, "creation_date": 1550108876, "post_id": 54679510, "comment_id": 96153037, "body": "This is js but more recent.  Better to accomplish it by the book&#39;s examples I would say.  jQuery has functions to make this even shorter.  Good luck!"}, {"owner": {"reputation": 2377, "user_id": 690141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4839c9cedda452fcd85a78978044b45c?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Smith", "link": "https://stackoverflow.com/users/690141/jimmy-smith"}, "reply_to_user": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "edited": false, "score": 0, "creation_date": 1550153765, "post_id": 54679510, "comment_id": 96172254, "body": "I made an update utilizing getElementsByName() function.  I believe the teacher is showing how much easier it is to use Name than Id when you have a series of radio buttons grouped into pregunta1, pregunta2, etc"}], "tags": [], "owner": {"reputation": 2377, "user_id": 690141, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4839c9cedda452fcd85a78978044b45c?s=128&d=identicon&r=PG&f=1", "display_name": "Jimmy Smith", "link": "https://stackoverflow.com/users/690141/jimmy-smith"}, "is_accepted": false, "score": 0, "last_activity_date": 1550153636, "last_edit_date": 1550153636, "creation_date": 1550092410, "answer_id": 54679510, "question_id": 54679055, "link": "https://stackoverflow.com/questions/54679055/javascript-different-conditions-for-each-element-in-an-array/54679510#54679510", "title": "Javascript - Different conditions for each element in an array", "body": "<p>You need to make use of the value of these radio buttons.</p>\n\n<pre><code>&lt;input type=\"radio\" name=\"pregunta1\" id=\"p1r1\" value=\"-0.5\"&gt;\n&lt;input type=\"radio\" name=\"pregunta1\" id=\"p1r2\" value=\"1\"&gt;\n&lt;!-- continue adding the correct values! --&gt;\n</code></pre>\n\n<p>And then your function becomes as simple as,</p>\n\n<pre><code>function calcul(){\n   var val1 = parseFloat(getRadioVal(\"pregunta1\"));\n   var val2 = parseFloat(getRadioVal(\"pregunta2\"));\n  //etc\n  result = val1 + val2;  // +val3, etc\n}\n\n//UPDATE added this function to avoid querySelector\nfunction getRadioVal(name) {\n            var val;\n            // get list of radio buttons with specified name\n            var radios = document.getElementsByName(name);\n\n            // loop through list of radio buttons\n            for (var i=0, len=radios.length; i&lt;len; i++) {\n                if ( radios[i].checked ) { // radio checked?\n                    val = radios[i].value; // if so, hold its value in val\n                    break; // and break out of for loop\n                }\n            }\n            return val; // return value of checked radio or undefined if none checked\n        }\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11058709, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ofHI6a4kuFE/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQMB0fPylGQJa7BKHWe2iakrtln6GA/mo/photo.jpg?sz=128", "display_name": "Arnau Jim&#233;nez", "link": "https://stackoverflow.com/users/11058709/arnau-jim%c3%a9nez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 54679403, "answer_count": 3, "score": -2, "last_activity_date": 1550153636, "creation_date": 1550090434, "last_edit_date": 1550090705, "question_id": 54679055, "link": "https://stackoverflow.com/questions/54679055/javascript-different-conditions-for-each-element-in-an-array", "title": "Javascript - Different conditions for each element in an array", "body": "<p>I am building a simple quiz where 10 questions are asked with <code>radio</code> inputs. The maximum mark you can get is 10. Each incorrect answer is -0.5p and you have the option of not answering by choosing \"I don't want to answer this question\".</p>\n\n<p>I'm struggling to calculate the total mark because there are lots of <code>if</code> for each correct/incorrect/NA answer, so what I thought was to create an array: <code>var CorrectAnswers=[\"Question 1\",\"Question 2\",...]</code> and apply conditions like for example: <code>if(\"CorrectAnswers[0]==true])mark=mark+1;</code>.</p>\n\n<p>But the list of <code>if</code> would be too long.\nIs there any way to simplify this and tell the program to check which answers where correct/incorrect/NA and add 1/-0.5/0 to the mark? </p>\n\n<p>It is not in english but hope you can understand it.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//P1-2, P2-2, P3-3, P4-2, P5-4, P6-3, P7-4, P8-3, P9-2, P10-2\r\nfunction calcul(){\r\n  //Respostes correctes\r\n  var p1c=document.getElementById(\"p1r2\").checked;\r\n  var p2c=document.getElementById(\"p2r2\").checked;\r\n  var p3c=document.getElementById(\"p3r3\").checked;\r\n  var p4c=document.getElementById(\"p4r2\").checked;\r\n  var p5c=document.getElementById(\"p5r4\").checked;\r\n  var p6c=document.getElementById(\"p6r3\").checked;\r\n  var p7c=document.getElementById(\"p7r4\").checked;\r\n  var p8c=document.getElementById(\"p8r3\").checked;\r\n  var p9c=document.getElementById(\"p9r2\").checked;\r\n  var p10c=document.getElementById(\"p10r2\").checked;\r\n  var RespostesCorrectes=[p1c,p2c,p3c,p4c,p5c,p6c,p7c,p8c,p9c,p10c];\r\n  //No contestades\r\n  var p1n=document.getElementById(\"p1r0\").checked;\r\n  var p2n=document.getElementById(\"p2r0\").checked;\r\n  var p3n=document.getElementById(\"p3r0\").checked;\r\n  var p4n=document.getElementById(\"p4r0\").checked;\r\n  var p5n=document.getElementById(\"p5r0\").checked;\r\n  var p6n=document.getElementById(\"p6r0\").checked;\r\n  var p7n=document.getElementById(\"p7r0\").checked;\r\n  var p8n=document.getElementById(\"p8r0\").checked;\r\n  var p9n=document.getElementById(\"p9r0\").checked;\r\n  var p10n=document.getElementById(\"p10r0\").checked;\r\n  var RespostesNA=[p1n,p2n,p3n,p4n,p5n,p6n,p7n,p8n,p9n,p10n];\r\n  //Calcular nota i pregs correctes/incorrectes\r\n  nota=0;\r\n  if(p1c==true)nota=nota+1;\r\n  if(p2c==true)nota=nota+1;\r\n  if(p3c==true)nota=nota+1;\r\n  if(p4c==true)nota=nota+1;\r\n  if(p5c==true)nota=nota+1;\r\n  if(p6c==true)nota=nota+1;\r\n  if(p7c==true)nota=nota+1;\r\n  if(p8c==true)nota=nota+1;\r\n  if(p9c==true)nota=nota+1;\r\n  if(p10c==true)nota=nota+1;\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.codiPrograma{\r\n  font-family:\"Courier\", Courier, sans-serif;\r\n  font-size: 17px;\r\n}\r\n.codi{\r\n  font-family:\"Courier\", Courier, sans-serif;\r\n  font-size: 15px;\r\n}\r\n.boto{\r\n  width:150px;\r\n  height:30px;\r\n  font-size:15px;\r\n  margin:0 auto;\r\n  display: block;\r\n}\r\n#test{\r\n  /*display:none;*/\r\n  width:1000px;\r\n  margin: 0 auto;\r\n}\r\n#resultats{\r\n  width: 250px;\r\n  height:400px;\r\n  border: 5px solid black;\r\n  padding: 25px;\r\n  margin: 0 auto;\r\n  margin-top:30px;\r\n  display:none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"test\"&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 1&lt;/legend&gt;\r\n &lt;h3&gt;Quin \u00e9s el valor de l'expressi\u00f3 seg\u00fcent? &lt;br&gt;\r\n   &lt;span class=\"codiPrograma\"&gt;&lt;p&gt; &amp;quot;23&amp;quot;+12&lt;/p&gt;&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta1\" id=\"p1r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p1r1\"&gt;35&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta1\" id=\"p1r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p1r2\"&gt;&amp;quot;2312&amp;quot;&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta1\" id=\"p1r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p1r3\"&gt;&amp;quot;35&amp;quot;&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta1\" id=\"p1r4\"&gt;\r\n &lt;label for=\"p1r4\"&gt;No es pot avaluar perqu\u00e8 \u00e9s sint\u00e0cticament incorrecte.&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta1\" id=\"p1r0\"&gt;\r\n &lt;label for=\"p1r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 2&lt;/legend&gt;\r\n &lt;h3&gt;Quin \u00e9s el valor de l'expressi\u00f3 seg\u00fcent? &lt;br&gt;\r\n   &lt;span class=\"codiPrograma\"&gt;&lt;p&gt;\"23\"&amp;gt;12 &amp;amp;&amp;amp; !(parseInt(\"12px\")&amp;lt;13)&lt;/p&gt;&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta2\" id=\"p2r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p2r1\"&gt;true&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta2\" id=\"p2r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p2r2\"&gt;false&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta2\" id=\"p2r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p2r3\"&gt;undefined&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta2\" id=\"p2r4\"&gt;\r\n &lt;label for=\"p2r4\"&gt;No es pot avaluar perqu\u00e8 \u00e9s sint\u00e0cticament incorrecte.&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta2\" id=\"p2r0\"&gt;\r\n &lt;label for=\"p2r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 3&lt;/legend&gt;\r\n &lt;h3&gt;Quina \u00e9s la condici\u00f3 per saber que el valor de la variable x \u00e9s un n\u00famero parell i no m\u00faltiple de 3?&lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta3\" id=\"p3r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p3r1\"&gt;x%2==0 &amp;&amp; !x%3==0&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta3\" id=\"p3r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p3r2\"&gt;x/2=0 &amp;&amp; !(x/3=0)&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta3\" id=\"p3r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p3r3\"&gt;x%2==0 &amp;&amp; !(x%3==0)&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta3\" id=\"p3r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p3r4\"&gt;x%2=0 &amp;&amp; !(x%3=0)&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta3\" id=\"p3r0\"&gt;\r\n &lt;label for=\"p3r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 4&lt;/legend&gt;\r\n &lt;h3&gt;Quina \u00e9s la instrucci\u00f3 adequada per llegir el valor entrat per l'usuari a trav\u00e9s del seg\u00fcent element HTML? &lt;br&gt;\r\n &lt;span class=\"codiPrograma\"&gt;&lt;p&gt;&amp;lt;input type=\"text\" id=\"a\"&amp;gt;&lt;/p&gt;&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta4\" id=\"p4r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p4r1\"&gt;var x = document.getElementById('a').value;&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta4\" id=\"p4r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p4r2\"&gt;var a = document.getElementById(\"a\").value;&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta4\" id=\"p4r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p4r3\"&gt;var a = document.getElementById(\"a\").value();&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta4\" id=\"p4r4\"&gt;\r\n &lt;label for=\"p4r4\"&gt;No es pot llegir perqu\u00e8 falta l'atribut size en l'element HTML&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta4\" id=\"p4r0\"&gt;\r\n &lt;label for=\"p4r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 5&lt;/legend&gt;\r\n &lt;h3&gt;Quin \u00e9s el resultat d'executar la seg\u00fcent funci\u00f3? &lt;br&gt;\r\n   &lt;span class=\"codiPrograma\"&gt;&lt;p&gt;function pregunta5(){&lt;/br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;const A=5, B=10;&lt;/br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return B%2 - A*B/2;&lt;br&gt;}&lt;/p&gt;&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta5\" id=\"p5r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p5r1\"&gt;25&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta5\" id=\"p5r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p5r2\"&gt;-20&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta5\" id=\"p5r3\"&gt;\r\n &lt;label for=\"p5r3\"&gt;No es pot executar perqu\u00e8 t\u00e9 errors sint\u00e0ctics&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta5\" id=\"p5r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p5r4\"&gt;-25&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta5\" id=\"p5r0\"&gt;\r\n &lt;label for=\"p5r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 6&lt;/legend&gt;\r\n &lt;h3&gt;Quin \u00e9s el resultat d'executar la funci\u00f3 programa()?&lt;br&gt;\r\n   &lt;span class=\"codiPrograma\"&gt;&lt;p&gt;function programa(){&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var x=2, y=5;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;y=pregunta6(x,y);&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;alert(\"El resultat \u00e9s \" + x);&lt;br&gt;}&lt;br&gt;function pregunta6(x,y){&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;x=x+y;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return x;&lt;br&gt;}&lt;/p&gt;&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta6\" id=\"p6r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p6r1\"&gt;El resultat \u00e9s 5&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta6\" id=\"p6r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p6r2\"&gt;El resultat \u00e9s 7&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta6\" id=\"p6r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p6r3\"&gt;El resultat \u00e9s 2&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta6\" id=\"p6r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p6r4\"&gt;El resultat \u00e9s 6&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta6\" id=\"p6r0\"&gt;\r\n &lt;label for=\"p6r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 7&lt;/legend&gt;\r\n &lt;h3&gt;Quina d'aquestes funcions NO calcula correctament la suma de tots els nombres imparells que hi ha entre 5 i 186, ambd\u00f3s inclosos? &lt;br&gt;\r\n &lt;span class=\"codiPrograma\"&gt; &lt;br&gt;function funcioA() {&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var resultat=0;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for (i=186; i&gt;5; i--)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(i%2==1) resultat=resultat+i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return resultat;&lt;br&gt;}&lt;br&gt;function funcioB(){&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var resultat=0;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for(i=5; i&amp;lt;=186; i++)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(i%2==1) resultat=resultat+i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return resultat;&lt;br&gt;}&lt;br&gt;function funcioC(){&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var resultat=0;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for(i=5; i&amp;lt;=186; i=i+2)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;resultat=resultat+i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return resultat;&lt;br&gt;}&lt;br&gt;function funcioD(){&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var resultat=0;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;var i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;for(i=5; i&amp;lt;=186; i++)&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;if(i%2=1) resultat=resultat+i;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;return resultat;&lt;br&gt;}&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta7\" id=\"p7r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p7r1\"&gt;funcioA&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta7\" id=\"p7r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p7r2\"&gt;funcioB&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta7\" id=\"p7r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p7r3\"&gt;funcioC&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta7\" id=\"p7r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p7r4\"&gt;funcioD&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta7\" id=\"p7r0\"&gt;\r\n &lt;label for=\"p7r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 8&lt;/legend&gt;\r\n &lt;h3&gt;Donat l'objecte &lt;span class=\"codiPrograma\"&gt;var rectangle={posicio: {x:\"3\", y:\"5\"}, amplada:\"10\", al\u00e7ada:\"20\"}&lt;/span&gt; quina expressi\u00f3 calcula correctament l'\u00e0rea del mateix?\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta8\" id=\"p8r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p8r1\"&gt;amplada*al\u00e7ada&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta8\" id=\"p8r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p8r2\"&gt;amplada.rectangle*al\u00e7ada.rectangle&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta8\" id=\"p8r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p8r3\"&gt;rectangle.amplada*rectangle.al\u00e7ada&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta8\" id=\"p8r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p8r4\"&gt;parseInt(\"rectangle.amplada\")*parseInt(\"rectangle.al\u00e7ada\")&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta8\" id=\"p8r0\"&gt;\r\n &lt;label for=\"p8r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 9&lt;/legend&gt;\r\n &lt;h3&gt;Amb el mateix rectangle de la pregunta anterior, quina instrucci\u00f3 el mouria a la nova posici\u00f3&lt;span class=\"codiPrograma\"&gt; x=\"7\"&lt;/span&gt; i &lt;span class=\"codiPrograma\"&gt;y=\"9\"&lt;/span&gt;?\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta9\" id=\"p9r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p9r1\"&gt;rectangle.posiciox=\"7\"; rectangle.posicioy=\"9\";&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta9\" id=\"p9r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p9r2\"&gt;rectangle.posicio.y=\"9\"; rectangle.posicio.x=\"7\";&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta9\" id=\"p9r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p9r3\"&gt;posicio.x=\"7\"; posicio.y=\"9\";&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta9\" id=\"p9r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p9r4\"&gt;posicio.x=\"7\" &amp;&amp; posicio.y=\"9\";&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta9\" id=\"p9r0\"&gt;\r\n &lt;label for=\"p9r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;fieldset class=\"pregunta\"&gt;\r\n&lt;legend&gt;Pregunta 10&lt;/legend&gt;\r\n &lt;h3&gt;Quina cadena de car\u00e0cters avalua la seg\u00fcent expressi\u00f3? &lt;br&gt;\r\n &lt;span class=\"codiPrograma\"&gt;\"Hola. \".charAt(2)+\"Que tal?\".toLowerCase()&lt;/span&gt;\r\n &lt;/h3&gt;\r\n &lt;div class=\"respostes\"&gt;\r\n &lt;input type=\"radio\" name=\"pregunta10\" id=\"p10r1\"&gt;\r\n &lt;label class=\"codi\" for=\"p10r1\"&gt;\"Hola. Que tal?\"&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta10\" id=\"p10r2\"&gt;\r\n &lt;label class=\"codi\" for=\"p10r2\"&gt;\"lque tal=\"&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta10\" id=\"p10r3\"&gt;\r\n &lt;label class=\"codi\" for=\"p10r3\"&gt;\"oque tal??\"&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta10\" id=\"p10r4\"&gt;\r\n &lt;label class=\"codi\" for=\"p10r4\"&gt;\"hola. que tal?\"&lt;/label&gt;&lt;br&gt;\r\n &lt;input type=\"radio\" name=\"pregunta10\" id=\"p10r0\"&gt;\r\n &lt;label for=\"p10r0\"&gt;No contesto&lt;/label&gt;&lt;br&gt;\r\n &lt;/div&gt;\r\n&lt;/fieldset&gt;\r\n&lt;br&gt;\r\n&lt;button id=\"boto\" class=\"boto\" type=\"button\" onClick=\"calcul()\"&gt;Calcular Nota&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1550090525, "post_id": 54679036, "comment_id": 96147043, "body": "Is this interview question? Not quite understand what you&#39;re asking."}, {"owner": {"reputation": 9, "user_id": 9439727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "john", "link": "https://stackoverflow.com/users/9439727/john"}, "reply_to_user": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1550090571, "post_id": 54679036, "comment_id": 96147074, "body": "here are the instructions <a href=\"https://jsfiddle.net/hxuedt91/\" rel=\"nofollow noreferrer\">jsfiddle.net/hxuedt91</a>"}, {"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1550091011, "post_id": 54679036, "comment_id": 96147289, "body": "This is way to broad to answer with code, I can only give you hints, you can use 3 approaches, first use content editable on some div, second use hidden input and fake caret, and third is to use visible input and div before if user type @ and you find the word you add text before @ and tag to div before the input and clear the input ready for next value. I think that the most robust version is hidden input or textarea where you can handle the input. You can even use existing library for fake caret, but I&#39;m not sure if there is one in React, maybe you will need to use JS or jQuery lib."}], "answers": [{"comments": [{"owner": {"reputation": 51440, "user_id": 387194, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/dc10501a6e08f9efcb42bf7b434bf1b1?s=128&d=identicon&r=PG", "display_name": "jcubic", "link": "https://stackoverflow.com/users/387194/jcubic"}, "edited": false, "score": 0, "creation_date": 1550091301, "post_id": 54679247, "comment_id": 96147403, "body": "This is not the answer, if you&#39;ve look at the jsfiddle in comment, the question is how to show dropdown when user write @ and insert color tag instead of selected name."}], "tags": [], "owner": {"reputation": 51, "user_id": 2614584, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-bVciTcrwQhY/AAAAAAAAAAI/AAAAAAABFdk/4hDmYGM7Cs8/photo.jpg?sz=128", "display_name": "Cleber Gasparoto", "link": "https://stackoverflow.com/users/2614584/cleber-gasparoto"}, "is_accepted": false, "score": 0, "last_activity_date": 1550091213, "creation_date": 1550091213, "answer_id": 54679247, "question_id": 54679036, "link": "https://stackoverflow.com/questions/54679036/how-do-you-implement-a-text-field-control-in-react-js/54679247#54679247", "title": "how do you implement a text field control in React.js", "body": "<p>You'll have to implement a controlled component to do it. You need to attach the component state to the input's value and create a method to handle every char the user enters on it.</p>\n\n<p>More details here: <a href=\"https://reactjs.org/docs/forms.html#controlled-components\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/forms.html#controlled-components</a></p>\n\n<pre><code>class NameForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: ''};\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  handleSubmit(event) {\n    alert('A name was submitted: ' + this.state.value);\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      &lt;form onSubmit={this.handleSubmit}&gt;\n        &lt;label&gt;\n          Name:\n          &lt;input type=\"text\" value={this.state.value} onChange={this.handleChange} /&gt;\n        &lt;/label&gt;\n        &lt;input type=\"submit\" value=\"Submit\" /&gt;\n      &lt;/form&gt;\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 9439727, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "john", "link": "https://stackoverflow.com/users/9439727/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 601, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550091213, "creation_date": 1550090366, "question_id": 54679036, "link": "https://stackoverflow.com/questions/54679036/how-do-you-implement-a-text-field-control-in-react-js", "title": "how do you implement a text field control in React.js", "body": "<p>how do you implement a text field control in React.js\nusing one of the two functions below to get the label list by keyword. Do not modify the provided functions. </p>\n\n<pre><code>function getLabels(keyword) {\n    const allLabels = ['NextActions', 'Someday_Actions', 'Costco', 'Alexa'];\n  const result = allLabels\n    .filter(function(x) {\n      return x.toLowerCase().indexOf(keyword.toLowerCase()) &gt; -1;\n    });\n  return result;\n}\n\n// or this synchronous api\nfunction getLabelsAsync(keyword) {\n    const result = getLabels(keyword);\n  const delay = Math.random() * 800 + 200; // delay 200~1000ms\n  return new Promise(function(resolve, reject) {\n    setTimeout(resolve, delay, result);\n  });\n}\n</code></pre>\n"}, {"tags": ["javascript", "scroll"], "comments": [{"owner": {"reputation": 12072, "user_id": 1630963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c2d181ef6bbb9eee0c4033561c3891?s=128&d=identicon&r=PG", "display_name": "enhzflep", "link": "https://stackoverflow.com/users/1630963/enhzflep"}, "edited": false, "score": 0, "creation_date": 1550090932, "post_id": 54679023, "comment_id": 96147244, "body": "When copied from this page and pasted into the console, your code actually printed 341 to the console over and over again. It seems perfectly obvious that the problem lies in the way that scrollDist is calculated. If the requested dest is too large, you alter it to be the offsetHeight of the document - clearly, this appears to be the wrong value to use....."}, {"owner": {"reputation": 4000, "user_id": 6649786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p2OKB.jpg?s=128&g=1", "display_name": "Wais Kamal", "link": "https://stackoverflow.com/users/6649786/wais-kamal"}, "reply_to_user": {"reputation": 12072, "user_id": 1630963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c2d181ef6bbb9eee0c4033561c3891?s=128&d=identicon&r=PG", "display_name": "enhzflep", "link": "https://stackoverflow.com/users/1630963/enhzflep"}, "edited": false, "score": 0, "creation_date": 1550091145, "post_id": 54679023, "comment_id": 96147341, "body": "If this is the wrong value (which I can&#39;t understand why), what is the correct one?"}], "answers": [{"tags": [], "owner": {"reputation": 195, "user_id": 8513480, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-gSZbXhkBp6s/AAAAAAAAAAI/AAAAAAAACkM/gP7aJ35QRUY/photo.jpg?sz=128", "display_name": "AlpacaFur", "link": "https://stackoverflow.com/users/8513480/alpacafur"}, "is_accepted": true, "score": 4, "last_activity_date": 1550533449, "last_edit_date": 1550533449, "creation_date": 1550091470, "answer_id": 54679302, "question_id": 54679023, "link": "https://stackoverflow.com/questions/54679023/smooth-scroll-function-glitches-when-a-large-parameter-is-used/54679302#54679302", "title": "Smooth scroll function glitches when a large parameter is used", "body": "<h1>Subtract the page height from the dest variable</h1>\n\n<p>As your code stands, the code calculates the position to scroll from with <code>window.scrollY</code> which is the height that the top of the window is at. This means that if you try it with a value greater than the page height, it tries to reach 0 scroll distance from the bottom of the page but it doesn't take into account the height of the window. The value that it can't scroll past, which in your case is 410 px, is the window height.</p>\n\n<p>You can fix your code by subtracting <code>window.innerHeight</code> from the body's offset height if the scroll distance is too long.</p>\n\n<p>The block in question should be changed from this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (dest &gt; document.body.offsetHeight) {  \n  dest = document.body.offsetHeight;  \n}\n</code></pre>\n\n<p>To this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (dest &gt; document.body.offsetHeight) {  \n  dest = document.body.offsetHeight - window.innerHeight;  \n}\n</code></pre>\n"}], "owner": {"reputation": 4000, "user_id": 6649786, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/p2OKB.jpg?s=128&g=1", "display_name": "Wais Kamal", "link": "https://stackoverflow.com/users/6649786/wais-kamal"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 54679302, "answer_count": 1, "score": 0, "last_activity_date": 1550533449, "creation_date": 1550090285, "question_id": 54679023, "link": "https://stackoverflow.com/questions/54679023/smooth-scroll-function-glitches-when-a-large-parameter-is-used", "title": "Smooth scroll function glitches when a large parameter is used", "body": "<p>I wrote a function that will smoothly scroll the screen to the point <code>dest</code> pixels.  The problem is that whenever a scroll destination (dest) greater than the total height of the <code>&lt;body&gt;</code> is selected, the scrolling never stops, even upon reaching the end of the <code>&lt;body&gt;</code> (try scrolling up after the scrolling 'stops').</p>\n\n<pre><code>function scroll(dest) {\n  var x, scrollDist;\n  if(dest &gt; document.body.offsetHeight) {\n    dest = document.body.offsetHeight;\n  }\n  console.log(document.body.offsetHeight);\n  console.log(dest);\n  x = setInterval(function() {\n    // Calculate the scroll distance\n    scrollDist = dest - window.scrollY;\n    // Log the scroll distance at each iteration\n    console.log(scrollDist);\n\n    // If the scroll distance is greater than 10, scroll down 10px, otherwise\n    // scroll down by an amount equal to scrollDist then stop scrolling\n    if(Math.abs(scrollDist) &gt;= 10) {\n      // If the scroll distance is positive scroll down, otherwise scroll up\n      if(scrollDist &gt; 0) {\n        window.scrollBy(0,2);\n      } else {\n        window.scrollBy(0,-2);\n      }\n    } else {\n      window.scrollBy(0,scrollDist);\n      clearInterval(x);\n    }\n  },1);\n}\nscroll(10000);\n</code></pre>\n\n<p>Try it on this webpage or any other webpage with a body height less than 10000px. By looking into the console you can notice that after the end of the body is reached, scrollDist keeps on being logged as 410, which is the weirdest part. Why though? I can't see anything wrong with the algorithm.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1550090468, "post_id": 54679021, "comment_id": 96147017, "body": "I assume <code>if(nr[i] = input[j]){</code> should be <code>if(nr[i] == input[j]){</code> ..."}, {"owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "edited": false, "score": 1, "creation_date": 1550090555, "post_id": 54679021, "comment_id": 96147065, "body": "Isn&#39;t 2 the second highest digit? Since 3 === 3 would make both of the 3s the greatest digits?"}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1550090561, "post_id": 54679021, "comment_id": 96147070, "body": "@JonasWilms it should be <code>nr[i] === input[j]</code>. <code>==</code> shouldn&#39;t be used anymore either you know exactly what you are doing"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1550090584, "post_id": 54679021, "comment_id": 96147093, "body": "It already returns 3. Are you seeing something different?"}, {"owner": {"reputation": 175722, "user_id": 328193, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/FnwU5.jpg?s=128&g=1", "display_name": "David", "link": "https://stackoverflow.com/users/328193/david"}, "edited": false, "score": 0, "creation_date": 1550090595, "post_id": 54679021, "comment_id": 96147101, "body": "<i>&quot;should return 3&quot;</i> - According to the code snippet in your question, it <i>does</i> return 3.  So... What are you asking?"}, {"owner": {"reputation": 25, "user_id": 6589010, "user_type": "registered", "profile_image": "https://graph.facebook.com/934790623298309/picture?type=large", "display_name": "Vladut Maican", "link": "https://stackoverflow.com/users/6589010/vladut-maican"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1550090688, "post_id": 54679021, "comment_id": 96147135, "body": "I didn&#39;t pay attention and used <code>=</code> instead of <code>==</code>. Thank you @JonasWilms!"}, {"owner": {"reputation": 1661, "user_id": 1978785, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e08f5c90566378fb14da4ced95c9f022?s=128&d=identicon&r=PG", "display_name": "Charlie Wallace", "link": "https://stackoverflow.com/users/1978785/charlie-wallace"}, "edited": false, "score": 1, "creation_date": 1550091169, "post_id": 54679021, "comment_id": 96147350, "body": "There are several issues with the code that really don&#39;t (to me) directly relate to the question. Assignment instead of an equality check, blindly assuming that there are elements in arrays.. Is there a better place for this kind of question? How about <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> ? I like to help people who are learning to code but I don&#39;t think questions like this help build a good repository of coding knowledge.. and thus I suspect the down votes.. the down votes are not mine and I would really like to help.."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "edited": false, "score": 0, "creation_date": 1550091762, "post_id": 54679021, "comment_id": 96147599, "body": "@thomas I know what I&#39;m doing and <code>===</code> won&#39;t work here."}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "edited": false, "score": 0, "creation_date": 1550138152, "post_id": 54679021, "comment_id": 96163074, "body": "If <code>===</code> won&#39;t work you should change the logic of your code. <code>==</code> does implicit casting. Use <code>explicit</code> casting with <code>===</code> to avoid surprises. In your case <code>nr[i] == input[j]</code> has the same result as <code>nr[i] === parseInt(input[j], 10)</code> but everyone sees the cast."}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "edited": false, "score": 0, "creation_date": 1550139475, "post_id": 54679021, "comment_id": 96163920, "body": "<code>&quot;&quot; == 0</code>, <code>false == &quot;&quot;</code>, <code>false == &quot;0&quot;</code>, ... are all true but <code>&quot;&quot; === 0</code>, <code>false === &quot;&quot;</code>, <code>false === &quot;0&quot;</code>, ... are false."}, {"owner": {"reputation": 14893, "user_id": 4645334, "user_type": "registered", "accept_rate": 87, "profile_image": "https://lh6.googleusercontent.com/-hoIJVId9WIY/AAAAAAAAAAI/AAAAAAAAGQw/r7Es0WqE4rs/photo.jpg?sz=128", "display_name": "Thomas Sablik", "link": "https://stackoverflow.com/users/4645334/thomas-sablik"}, "edited": false, "score": 0, "creation_date": 1550144977, "post_id": 54679021, "comment_id": 96167025, "body": "I don&#39;t understand, why you use an array of digits and why you loop over this array. Is it, to check, if a character is a digit?"}], "answers": [{"tags": [], "owner": {"reputation": 17500, "user_id": 3113477, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/TWIEk.jpg?s=128&g=1", "display_name": "A.J. Uppal", "link": "https://stackoverflow.com/users/3113477/a-j-uppal"}, "is_accepted": false, "score": 1, "last_activity_date": 1550090646, "creation_date": 1550090646, "answer_id": 54679105, "question_id": 54679021, "link": "https://stackoverflow.com/questions/54679021/a-function-that-accepts-a-string-and-returns-the-second-highest-numerical-digit/54679105#54679105", "title": "a function that accepts a string and returns the second highest numerical digit in the input as an integer", "body": "<p>Try the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>secondHighestDigit = function(input){\r\n\r\n    var nums = [];\r\n    for(var i = 0; i &lt; input.length; i++){\r\n        nums.push(parseInt(input[i]));\r\n    }\r\n    nums.sort();\r\n    return nums[nums.length-2];\r\n\r\n};\r\n\r\nconsole.log(secondHighestDigit(\"123123\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 2214, "user_id": 4680236, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a95fff42d2abe2d69d29a592226e166a?s=128&d=identicon&r=PG", "display_name": "Rikard Askel&#246;f", "link": "https://stackoverflow.com/users/4680236/rikard-askel%c3%b6f"}, "is_accepted": false, "score": 0, "last_activity_date": 1550091019, "creation_date": 1550091019, "answer_id": 54679200, "question_id": 54679021, "link": "https://stackoverflow.com/questions/54679021/a-function-that-accepts-a-string-and-returns-the-second-highest-numerical-digit/54679200#54679200", "title": "a function that accepts a string and returns the second highest numerical digit in the input as an integer", "body": "<p>I assume you mean the function should return 2 as that is the <strong>second</strong> highest number in your list and NOT 3?</p>\n\n<p>A small adjustment to @A.J Uppal's code snippet would then be this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>secondHighestDigit = function(input){\r\n\r\n    var nums = [];\r\n    for(var i = 0; i &lt; input.length; i++){\r\n        if(nums.indexOf(parseInt(input[i])) === -1)\r\n          nums.push(parseInt(input[i]));\r\n    }\r\n    nums.sort();\r\n    return nums[nums.length-2];\r\n\r\n};\r\n\r\nconsole.log(secondHighestDigit(\"123123\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 124, "user_id": 8722564, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Y_MeMj2lt-g/AAAAAAAAAAI/AAAAAAAAACE/OSSBObnQvqY/photo.jpg?sz=128", "display_name": "Joost Luijben", "link": "https://stackoverflow.com/users/8722564/joost-luijben"}, "is_accepted": false, "score": 1, "last_activity_date": 1550476270, "last_edit_date": 1550476270, "creation_date": 1550091793, "answer_id": 54679374, "question_id": 54679021, "link": "https://stackoverflow.com/questions/54679021/a-function-that-accepts-a-string-and-returns-the-second-highest-numerical-digit/54679374#54679374", "title": "a function that accepts a string and returns the second highest numerical digit in the input as an integer", "body": "<p>I had this answer:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>secondHighestDigit = function(input) {\r\n    // Your code goes here\r\n    let newArray = [];\r\n\r\n    for (let char of input) {\r\n        if (!isNaN(char)) {\r\n            if (!(char in newArray)) {\r\n                newArray.push(parseInt(char));\r\n            }\r\n        }\r\n    }\r\n    return newArray.sort()[newArray.length - 2]\r\n};\r\nconsole.log(secondHighestDigit(\"123123adsb\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I create a new array. I loop trough every character. If the character is a number, go on. (isNaN checks if it's not a number. I want the opposite so I use a !)</p>\n\n<p>If the value is not in the newarray yet, push (add) it to the array</p>\n\n<p>Sort the array, take the index of the array where the length of the array - 2 is.</p>\n\n<p>The let is the ES6 JavaScript variable name. It is easier to use than var. You should use it if you develop for newer browsers (so not IE).</p>\n"}], "owner": {"reputation": 25, "user_id": 6589010, "user_type": "registered", "profile_image": "https://graph.facebook.com/934790623298309/picture?type=large", "display_name": "Vladut Maican", "link": "https://stackoverflow.com/users/6589010/vladut-maican"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 989, "favorite_count": 0, "answer_count": 3, "score": -3, "last_activity_date": 1550476270, "creation_date": 1550090279, "last_edit_date": 1550090524, "question_id": 54679021, "link": "https://stackoverflow.com/questions/54679021/a-function-that-accepts-a-string-and-returns-the-second-highest-numerical-digit", "title": "a function that accepts a string and returns the second highest numerical digit in the input as an integer", "body": "<p>I need to write a function that accepts a string and returns the second highest numerical digit in the input as an integer and also follow some more rules but I can not get it to work. This is what I have until now:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>secondHighestDigit = function(input) {\r\n  // Your code goes here\r\n  var nr = [1, 2, 3, 4, 5, 6, 7, 8, 9, 0];\r\n  var found_nr = [];\r\n  var max = 0;\r\n  var bmax = 0;\r\n\r\n  for (var i = 0; i &lt; 10; i++)\r\n    for (var j = 0; j &lt; input.length; j++) {\r\n      if (nr[i] = input[j]) {\r\n        found_nr.push(nr[i]);\r\n      }\r\n    }\r\n\r\n  found_nr.sort();\r\n  k = found_nr.length;\r\n  return found_nr[k - 2];\r\n};\r\n\r\nconsole.log(secondHighestDigit(\"123123\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>secondHighestDigit(\"123123\") should return <i>3</i></p>\n"}, {"tags": ["javascript", "for-loop", "multiple-conditions"], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 2, "last_activity_date": 1550090084, "creation_date": 1550090084, "answer_id": 54678976, "question_id": 54678944, "link": "https://stackoverflow.com/questions/54678944/for-loop-with-multiple-conditions-not-working-js/54678976#54678976", "title": "for loop with multiple conditions not working (JS)", "body": "<p>You could move the calculation into the conditional part.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var multiploCincoArray = [];\r\nfor (var i = 1, r; r = i * 5, r &lt; 1000; i++) {\r\n    multiploCincoArray.push(r);\r\n}\r\n\r\nconsole.log(multiploCincoArray);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 25, "user_id": 10287246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/356a5b669c3eb99ab97772a7a4d17095?s=128&d=identicon&r=PG&f=1", "display_name": "sk8mumy", "link": "https://stackoverflow.com/users/10287246/sk8mumy"}, "edited": false, "score": 0, "creation_date": 1550092177, "post_id": 54678984, "comment_id": 96147761, "body": "thanks a lot, i couldn&#39;t see why <code>r</code> wasn&#39;t changing!."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 1, "last_activity_date": 1550090308, "last_edit_date": 1550090308, "creation_date": 1550090116, "answer_id": 54678984, "question_id": 54678944, "link": "https://stackoverflow.com/questions/54678944/for-loop-with-multiple-conditions-not-working-js/54678984#54678984", "title": "for loop with multiple conditions not working (JS)", "body": "<pre><code> for(i = 1, r = i * 5; r &lt; 1000; i++){\n</code></pre>\n\n<p>Is the same as:</p>\n\n<pre><code> i = 1, r = i * 5\n\n while(r &lt; 1000) i++;\n</code></pre>\n\n<p>So actually you set <code>r</code> just once (to 5), then you increase <code>i</code> as long as <code>r</code> is smaller than 1000, but as <code>r</code> doesn't change the loop is infinite and crashes your browser.</p>\n\n<p>You might just do:</p>\n\n<pre><code> for(let i = 5; i &lt; 1000; i += 5)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1550090246, "post_id": 54678997, "comment_id": 96146923, "body": "This will be five times slower than the approach the OP is trying (if it would be fixed)"}, {"owner": {"reputation": 1852, "user_id": 8318088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OBXoU.jpg?s=128&g=1", "display_name": "Danyal Imran", "link": "https://stackoverflow.com/users/8318088/danyal-imran"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1550090775, "post_id": 54678997, "comment_id": 96147174, "body": "Just showing how to approach the question, you don&#39;t even need the loop to test values, you can simply start with the min possible multiplier and keep adding the multiplier. @JonasWilms"}], "tags": [], "owner": {"reputation": 1852, "user_id": 8318088, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OBXoU.jpg?s=128&g=1", "display_name": "Danyal Imran", "link": "https://stackoverflow.com/users/8318088/danyal-imran"}, "is_accepted": false, "score": 1, "last_activity_date": 1550090175, "creation_date": 1550090175, "answer_id": 54678997, "question_id": 54678944, "link": "https://stackoverflow.com/questions/54678944/for-loop-with-multiple-conditions-not-working-js/54678997#54678997", "title": "for loop with multiple conditions not working (JS)", "body": "<p>Your approach doesn't seem right imo.</p>\n\n<p>Firstly start with a single variable <code>i</code>, and iterate till 1000.</p>\n\n<pre><code>for (var i=1; i&lt;1000; i++)\n</code></pre>\n\n<p>check if the i is a multiple of 5 via <code>i%5</code>, if it is then push the value in an array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var array = [];\r\n\r\nfor (var i=1; i&lt;1000; i++) {\r\n  if (i%5 === 0) {\r\n    array.push(i);\r\n  }\r\n}\r\n\r\nconsole.log(array);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 21, "user_id": 11057334, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/07fcd57053a501572eb8168f1515c974?s=128&d=identicon&r=PG&f=1", "display_name": "B. Bach", "link": "https://stackoverflow.com/users/11057334/b-bach"}, "is_accepted": false, "score": 2, "last_activity_date": 1550090486, "last_edit_date": 1550090486, "creation_date": 1550090284, "answer_id": 54679022, "question_id": 54678944, "link": "https://stackoverflow.com/questions/54678944/for-loop-with-multiple-conditions-not-working-js/54679022#54679022", "title": "for loop with multiple conditions not working (JS)", "body": "<p>Try that : </p>\n\n<pre><code>var multiploCincoArray = []; \n\nfor(i = 5; i &lt;= 1000; i = i + 5) { \n\n    multiploCincoArray.push(i);\n}\nconsole.log(multiploCincoArray);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 11, "user_id": 10964042, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/noCVi.jpg?s=128&g=1", "display_name": "Michel S", "link": "https://stackoverflow.com/users/10964042/michel-s"}, "is_accepted": false, "score": 0, "last_activity_date": 1550093316, "creation_date": 1550093316, "answer_id": 54679724, "question_id": 54678944, "link": "https://stackoverflow.com/questions/54678944/for-loop-with-multiple-conditions-not-working-js/54679724#54679724", "title": "for loop with multiple conditions not working (JS)", "body": "<p>On the right track but condition in the wrong place.  Change <code>for(i = 1, r = i * 5; r &lt; 1000; i++)</code> to <code>for(i = 1, r=5; r &lt; 1000; r=i*5,i++)</code></p>\n\n<p>Should use <code>let i</code> and <code>let r</code> for scope but I left it out for clarity.</p>\n"}], "owner": {"reputation": 25, "user_id": 10287246, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/356a5b669c3eb99ab97772a7a4d17095?s=128&d=identicon&r=PG&f=1", "display_name": "sk8mumy", "link": "https://stackoverflow.com/users/10287246/sk8mumy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 54678976, "answer_count": 5, "score": 1, "last_activity_date": 1550093316, "creation_date": 1550089949, "last_edit_date": 1550090057, "question_id": 54678944, "link": "https://stackoverflow.com/questions/54678944/for-loop-with-multiple-conditions-not-working-js", "title": "for loop with multiple conditions not working (JS)", "body": "<p>I'm trying to make this loop work in order to get the multiples of 5 that are below 1000 in an array (yeah, just getting started with euler), but it keeps crashing my console: </p>\n\n<pre><code>var multiploCincoArray = []; \n\nfor(i = 1, r = i * 5; r &lt; 1000; i++) {\n    multiploCincoArray.push(r);\n}\nconsole.log(multiploCincoArray);\n</code></pre>\n\n<p>I know there's something wrong with the stopping condition but i can't seem to find it.</p>\n\n<p>I know i can do this too:</p>\n\n<pre><code>var multiploCincoArray = []; \n\nfor(i = 1; i &lt;= 199 ; i++) { \n    multiploCincoArray.push(5 * i);\n}\nconsole.log(multiploCincoArray);\n</code></pre>\n\n<p>but i want to follow the path shown in the first script (if possible)...</p>\n"}, {"tags": ["javascript", "angular", "form-submit", "angular-reactive-forms"], "answers": [{"comments": [{"owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "edited": false, "score": 0, "creation_date": 1550091639, "post_id": 54679275, "comment_id": 96147543, "body": "Thanks for your answer @Sergio. What is the best way to access that event in my new component? I suppose I could add another input and update it manually but it seems that I should have access to it since I&#39;m subscribed to the form object."}], "tags": [], "owner": {"reputation": 534, "user_id": 5280365, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-ikbPwlAIu4s/AAAAAAAAAAI/AAAAAAAAADo/aQxx8nHlM3I/photo.jpg?sz=128", "display_name": "Sergio Contreras Sustaita", "link": "https://stackoverflow.com/users/5280365/sergio-contreras-sustaita"}, "is_accepted": false, "score": 0, "last_activity_date": 1550091370, "creation_date": 1550091370, "answer_id": 54679275, "question_id": 54678936, "link": "https://stackoverflow.com/questions/54678936/angular-reactive-form-submission-event/54679275#54679275", "title": "Angular Reactive Form Submission Event", "body": "<p>I don't know any submission event directly from the FormGroup class, what I know is that you should listen it from the form template.</p>\n\n<pre><code>&lt;form [formGroup]=\"formGroup\" (ngSubmit)=\"submit()\"&gt;\n  &lt;!-- Your controls here--&gt;\n  &lt;button&gt;Submit&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>In your component code you should listen the submit event creating the submit() method</p>\n"}], "owner": {"reputation": 4046, "user_id": 1440240, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/079c35c4cdab398fc94f466961445fa8?s=128&d=identicon&r=PG", "display_name": "Ben Racicot", "link": "https://stackoverflow.com/users/1440240/ben-racicot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1872, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1550193224, "creation_date": 1550089923, "last_edit_date": 1550193224, "question_id": 54678936, "link": "https://stackoverflow.com/questions/54678936/angular-reactive-form-submission-event", "title": "Angular Reactive Form Submission Event", "body": "<p>I've built a validation component that works great. However, I'd like to extend it by adding success messages when a form is submitted successfully. </p>\n\n<p>In the component I pass in the form, watch for changes, and act on the error:</p>\n\n<pre><code>this.formGroup.valueChanges.pipe(takeUntil(this.ngUnsubscribe)).subscribe(data =&gt; {\n    if (this.formGroup.invalid) {\n        this.validation = { message: `Check for errors in the form`, valid: false };\n    } else {\n        this.validation = { message: '', valid: true };\n    }\n});\n</code></pre>\n\n<p>However I can't see a direct way to get a submission event into my component so that I can show success in the ui. </p>\n\n<ol>\n<li>Can I use the <a href=\"https://angular.io/guide/reactive-forms#saving-form-data\" rel=\"nofollow noreferrer\">(ngSubmit)</a> <a href=\"https://angular.io/api/forms/NgForm#onsubmit\" rel=\"nofollow noreferrer\">event</a> somehow?</li>\n<li>what would you do to get it?</li>\n</ol>\n\n<p>UPDATE:</p>\n\n<ol>\n<li><p>After significant time invested into this my <a href=\"https://github.com/angular/angular/issues/28743\" rel=\"nofollow noreferrer\">feature request is here</a></p></li>\n<li><p>Wrote about <a href=\"https://medium.com/@BenRacicot/success-handling-is-everyones-responsibility-40d844e6cc42\" rel=\"nofollow noreferrer\">\"success handling\" on Medium</a></p></li>\n</ol>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 775, "user_id": 5487267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaa496fb0bd458808f2b7ca38fe0340?s=128&d=identicon&r=PG&f=1", "display_name": "ehutchllew", "link": "https://stackoverflow.com/users/5487267/ehutchllew"}, "is_accepted": false, "score": 1, "last_activity_date": 1550090180, "creation_date": 1550090180, "answer_id": 54678998, "question_id": 54678911, "link": "https://stackoverflow.com/questions/54678911/conditional-rendering-inside-form-in-react-not-working/54678998#54678998", "title": "Conditional rendering inside form in React not working", "body": "<p>Your <code>display</code> is set to 'none'.</p>\n"}, {"comments": [{"owner": {"reputation": 935, "user_id": 6668414, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/18fc44e0b87d29245cf62fe472e1b162?s=128&d=identicon&r=PG&f=1", "display_name": "Max T", "link": "https://stackoverflow.com/users/6668414/max-t"}, "edited": false, "score": 0, "creation_date": 1550090414, "post_id": 54679016, "comment_id": 96146994, "body": "That&#39;s not solving it - I currently have Cannot read property &#39;setState&#39; of undefined"}, {"owner": {"reputation": 32611, "user_id": 9819146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ioXmnWNrB_w/AAAAAAAAAAI/AAAAAAAAADs/Q47JYDWDFyo/photo.jpg?sz=128", "display_name": "Maheer Ali", "link": "https://stackoverflow.com/users/9819146/maheer-ali"}, "reply_to_user": {"reputation": 935, "user_id": 6668414, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/18fc44e0b87d29245cf62fe472e1b162?s=128&d=identicon&r=PG&f=1", "display_name": "Max T", "link": "https://stackoverflow.com/users/6668414/max-t"}, "edited": false, "score": 0, "creation_date": 1550090560, "post_id": 54679016, "comment_id": 96147069, "body": "@MaxT use arrow functions to fix that."}], "tags": [], "owner": {"reputation": 32611, "user_id": 9819146, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ioXmnWNrB_w/AAAAAAAAAAI/AAAAAAAAADs/Q47JYDWDFyo/photo.jpg?sz=128", "display_name": "Maheer Ali", "link": "https://stackoverflow.com/users/9819146/maheer-ali"}, "is_accepted": false, "score": 0, "last_activity_date": 1550090259, "creation_date": 1550090259, "answer_id": 54679016, "question_id": 54678911, "link": "https://stackoverflow.com/questions/54678911/conditional-rendering-inside-form-in-react-not-working/54679016#54679016", "title": "Conditional rendering inside form in React not working", "body": "<p>You need to wrap  inside <code>()</code>. Like below </p>\n\n<pre><code>switch(param) {\n     case 'form_name1':\n     return (&lt;form name=\"form_name1\" id=\"form_name1\" style={formStyle}&gt;\n     form 1\n     &lt;/form&gt;);                        \n     ...\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 66, "user_id": 11058065, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-g75oXxRwsRk/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNvdI3UJarsam1eYnTmIqsViq7Jaw/mo/photo.jpg?sz=128", "display_name": "Gregory Friedman", "link": "https://stackoverflow.com/users/11058065/gregory-friedman"}, "is_accepted": false, "score": 1, "last_activity_date": 1550090481, "creation_date": 1550090481, "answer_id": 54679069, "question_id": 54678911, "link": "https://stackoverflow.com/questions/54678911/conditional-rendering-inside-form-in-react-not-working/54679069#54679069", "title": "Conditional rendering inside form in React not working", "body": "<pre><code>handleChange = (event) =&gt; {\n    this.setState({ selectedValue: event.target.value   });\n}\n</code></pre>\n\n<p>You either need to make a constructor that binds <code>this</code> for the <code>handleChange</code> function or just declare it in the way above, which auto-binds.</p>\n\n<pre><code>constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 864, "user_id": 4913642, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0OB1F.jpg?s=128&g=1", "display_name": "herodrigues", "link": "https://stackoverflow.com/users/4913642/herodrigues"}, "is_accepted": true, "score": 0, "last_activity_date": 1558376450, "last_edit_date": 1558376450, "creation_date": 1550091821, "answer_id": 54679378, "question_id": 54678911, "link": "https://stackoverflow.com/questions/54678911/conditional-rendering-inside-form-in-react-not-working/54679378#54679378", "title": "Conditional rendering inside form in React not working", "body": "<p>Set a default value in your state for the first form to be shown, such as <code>form_name1</code>. Or add an option like 'Select a form' to your select element. </p>\n\n<p>If you're doing conditional rendering, you don't really need to set <code>display: none</code> in your elements. Each element will be rendered according to your current state and <code>null</code>  is returned for unmounting the component.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Form extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      selectedValue: 'form_name1'\n    }\n    this.handleChange = this.handleChange.bind(this)\n  }\n\n  handleChange(event) { \n    this.setState({selectedValue: event.target.value}); \n  }\n\n  renderSelectedForm (param) {\n    switch(param) {\n      case 'form_name1':\n        return (\n          &lt;form name=\"form_name1\" id=\"form_name1\"&gt;\n            form 1\n          &lt;/form&gt;\n         )\n      case 'form_name2':\n        return (\n          &lt;form name=\"form_name1\" id=\"form_name2\"&gt;\n            form 2\n          &lt;/form&gt;\n        )\n      case 'form_name3':\n        return (\n          &lt;form name=\"form_name1\" id=\"form_name3\"&gt;\n            form 3\n          &lt;/form&gt;\n        )\n      default: return null;\n     }\n   }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;form&gt;\n          &lt;select value={this.state.selectedValue} onChange={this.handleChange}&gt;\n            &lt;option value=\"form_name1\"&gt;Form 1&lt;/option&gt;\n            &lt;option value=\"form_name2\"&gt;Form 2&lt;/option&gt;\n            &lt;option value=\"form_name3\"&gt;Form 3&lt;/option&gt;\n          &lt;/select&gt;\n        &lt;/form&gt;\n        {this.renderSelectedForm(this.state.selectedValue)}\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>Here's in action: <a href=\"https://codepen.io/herodrigues/pen/XOBLVb\" rel=\"nofollow noreferrer\">https://codepen.io/herodrigues/pen/XOBLVb</a></p>\n"}], "owner": {"reputation": 935, "user_id": 6668414, "user_type": "registered", "accept_rate": 42, "profile_image": "https://www.gravatar.com/avatar/18fc44e0b87d29245cf62fe472e1b162?s=128&d=identicon&r=PG&f=1", "display_name": "Max T", "link": "https://stackoverflow.com/users/6668414/max-t"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 129, "favorite_count": 0, "accepted_answer_id": 54679378, "answer_count": 4, "score": 0, "last_activity_date": 1558376450, "creation_date": 1550089809, "question_id": 54678911, "link": "https://stackoverflow.com/questions/54678911/conditional-rendering-inside-form-in-react-not-working", "title": "Conditional rendering inside form in React not working", "body": "<p>I'm trying for this component to show the specific form based upon the option select. I'm using the switch statement for conditional rendering. But at the moment it's not working, what am I missing?</p>\n\n<pre><code>class Form extends Component {\n    state = {\n            selectedValue: ''\n        };\n    handleChange(event) { \n        this.setState({selectedValue: event.target.value}); \n        }\n    renderSelectedForm = (param) =&gt; {\n        const formStyle = {\n            display: 'none'\n        }\n        switch(param) {\n            case 'form_name1':\n            return &lt;form name=\"form_name1\" id=\"form_name1\" style={formStyle}&gt;\n                    form 1\n                    &lt;/form&gt;;\n            case 'form_name2':\n            return &lt;form name=\"form_name1\" id=\"form_name2\" style={formStyle}&gt;\n                    form 2\n                    &lt;/form&gt;;\n            case 'form_name3':\n            return &lt;form name=\"form_name1\" id=\"form_name3\" style={formStyle}&gt;\n                    form 3\n                    &lt;/form&gt;;\n            default:\n            return null;\n        }\n    }\n\n    render() {\n\n        return (\n             &lt;div&gt;\n      &lt;div className={styles.ContactUs}&gt;\n              &lt;form &gt;\n                &lt;select value={this.state.selectedValue} onChange={this.handleChange}&gt;\n                    &lt;option value=\"form_name1\"&gt;Form 1&lt;/option&gt;\n                    &lt;option value=\"form_name2\"&gt;Form 2&lt;/option&gt;\n                    &lt;option value=\"form_name3\"&gt;Form 3&lt;/option&gt;\n                &lt;/select&gt;\n             &lt;/form&gt;\n      {this.renderSelectedForm(this.state.selectedValue)}\n    &lt;/div&gt;\n    &lt;/div&gt;\n        );\n    }\n}\n\nexport default Form;\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 167, "user_id": 3594118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2bebe1fd398b3eb940e08691da2862?s=128&d=identicon&r=PG&f=1", "display_name": "user3594118", "link": "https://stackoverflow.com/users/3594118/user3594118"}, "edited": false, "score": 0, "creation_date": 1550090658, "post_id": 54678893, "comment_id": 96147123, "body": "I did this. but stopPropagation is not working. Its calling the next method."}], "tags": [], "owner": {"reputation": 775, "user_id": 5487267, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfaa496fb0bd458808f2b7ca38fe0340?s=128&d=identicon&r=PG&f=1", "display_name": "ehutchllew", "link": "https://stackoverflow.com/users/5487267/ehutchllew"}, "is_accepted": false, "score": 0, "last_activity_date": 1550092263, "last_edit_date": 1550092263, "creation_date": 1550089728, "answer_id": 54678893, "question_id": 54678866, "link": "https://stackoverflow.com/questions/54678866/propagation-doesnt-stop-after-post-api-call/54678893#54678893", "title": "Propagation doesnt stop after post api call", "body": "<p>Try:</p>\n\n<pre><code>onClick={() =&gt; !(col.status ===\"RUNNING\") &amp;&amp; !(col.name.toLowerCase() === 'xyz') &amp;&amp; this.onClickRun(col.name)}&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 642, "user_id": 1836175, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/850682335854c003a2d72e56fd4ebdda?s=128&d=identicon&r=PG", "display_name": "BenoitVasseur", "link": "https://stackoverflow.com/users/1836175/benoitvasseur"}, "is_accepted": false, "score": 0, "last_activity_date": 1550099024, "creation_date": 1550099024, "answer_id": 54680778, "question_id": 54678866, "link": "https://stackoverflow.com/questions/54678866/propagation-doesnt-stop-after-post-api-call/54680778#54680778", "title": "Propagation doesnt stop after post api call", "body": "<p>You should pass the event variable. I do not understand why you call your <code>onClickRun</code> function with <code>col.name</code> as first argument , because the onClickRun function ask an event as its first parameters.</p>\n\n<p>So you have to pass the event of your click, like this : </p>\n\n<pre><code>onClick={(event) =&gt; !(col.status ===\"RUNNING\") &amp;&amp; !(col.name.toLowerCase() === 'xyz') &amp;&amp; this.onClickRun(event, col.name)}&gt;\n</code></pre>\n"}], "owner": {"reputation": 167, "user_id": 3594118, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e2bebe1fd398b3eb940e08691da2862?s=128&d=identicon&r=PG&f=1", "display_name": "user3594118", "link": "https://stackoverflow.com/users/3594118/user3594118"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550099024, "creation_date": 1550089615, "last_edit_date": 1550094645, "question_id": 54678866, "link": "https://stackoverflow.com/questions/54678866/propagation-doesnt-stop-after-post-api-call", "title": "Propagation doesnt stop after post api call", "body": "<p>I am trying to make a post call when the button is clicked. The API call takes a parameter which I am trying to pass in the onclick method.</p>\n\n<p><strong>If the column name is xyz or the column status is running the function will not be called.</strong> </p>\n\n<p>Its going to the next method even after stop propagation. What am I doing wrong. \nI need to stop after this post call and refresh the page like in the post call.</p>\n\n<pre><code>onClick={() =&gt; !(col.status ===\"RUNNING\") &amp;&amp; !(col.name.toLowerCase() === 'xyz') &amp;&amp; this.onClickRun(col.name)}&gt;\n\n\nonClickRun(e,params){\n\n    fetch(`/api/s/${params}/run`, {\n        method: 'POST'\n    });\n    if (!e) e = window.event;\n    e.cancelBubble = true;\n    if (e.stopPropagation) e.stopPropagation();\n}\n</code></pre>\n\n<p>Please help..</p>\n"}, {"tags": ["javascript", "c#", "jquery", "ajax", "asp.net-core"], "comments": [{"owner": {"reputation": 10669, "user_id": 3684265, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/4f365ab1670c41f5e966ef9abecf9903?s=128&d=identicon&r=PG", "display_name": "imvain2", "link": "https://stackoverflow.com/users/3684265/imvain2"}, "edited": false, "score": 0, "creation_date": 1550091150, "post_id": 54678854, "comment_id": 96147342, "body": "Since this is a front end issue, I would remove the unnecessary ASP.net code and add the code for the jQuery including where and how is &quot;road&quot; defined is the most obvious."}, {"owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "edited": false, "score": 0, "creation_date": 1550127311, "post_id": 54678854, "comment_id": 96157643, "body": "<code>data</code> needs to have the format like <code>var data = { &quot;RoadID&quot; :&quot;hello&quot; };</code> How do you use your AjaxPost?"}, {"owner": {"reputation": 421, "user_id": 8751443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4xrC.jpg?s=128&g=1", "display_name": "Mark Dibeh", "link": "https://stackoverflow.com/users/8751443/mark-dibeh"}, "reply_to_user": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "edited": false, "score": 0, "creation_date": 1550127434, "post_id": 54678854, "comment_id": 96157688, "body": "@xing zou i have tried also the one you have mentioned, it doesnt work"}, {"owner": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "edited": false, "score": 0, "creation_date": 1550128117, "post_id": 54678854, "comment_id": 96158021, "body": "How do you try that?What is your <code>road</code> of <code>AjaxPost(&quot;&#47;Road&#47;DeleteRoad&quot;, road);</code>?Could you update the thread to tell us how to reproduce the problem?"}, {"owner": {"reputation": 421, "user_id": 8751443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4xrC.jpg?s=128&g=1", "display_name": "Mark Dibeh", "link": "https://stackoverflow.com/users/8751443/mark-dibeh"}, "reply_to_user": {"reputation": 14390, "user_id": 10158551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/45RCc.jpg?s=128&g=1", "display_name": "Ryan", "link": "https://stackoverflow.com/users/10158551/ryan"}, "edited": false, "score": 0, "creation_date": 1550221273, "post_id": 54678854, "comment_id": 96197101, "body": "@XingZou Done My friend"}], "answers": [{"comments": [{"owner": {"reputation": 421, "user_id": 8751443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4xrC.jpg?s=128&g=1", "display_name": "Mark Dibeh", "link": "https://stackoverflow.com/users/8751443/mark-dibeh"}, "edited": false, "score": 0, "creation_date": 1550226286, "post_id": 54706720, "comment_id": 96200101, "body": "I will reply after 4 hours from now . the project im working on is not with me here ,and for sure i will make some screen shot"}], "tags": [], "owner": {"reputation": 506, "user_id": 4952299, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/e4LRv.jpg?s=128&g=1", "display_name": "Alex Domenici", "link": "https://stackoverflow.com/users/4952299/alex-domenici"}, "is_accepted": true, "score": 1, "last_activity_date": 1550224509, "creation_date": 1550224509, "answer_id": 54706720, "question_id": 54678854, "link": "https://stackoverflow.com/questions/54678854/ajax-post-global-function-vs-repeat-the-same-function-for-each-request/54706720#54706720", "title": "ajax post global function vs repeat the same function for each request", "body": "<p>Maybe you are not passing the road parameter correctly?</p>\n\n<p>The following code works, sending two calls to the server. The server correctly retrieves the <em>RoadID</em> value. Here's the javascript:</p>\n\n<pre><code>\"use strict\";\n\n$(document).ready(() =&gt; {\n    var road = { RoadID: 4 };\n\n    // First call\n    $.ajax({\n        type: \"post\",\n        url: \"/home/DeleteRoad\",\n        contentType: \"application/json;charset=utf-8\",\n        dataType: \"json\",\n        data: JSON.stringify(road)\n    });\n\n    // Second call\n    ajaxPost(\"/home/DeleteRoad\", road);\n}\n\nfunction ajaxPost(url, data) {\n    return $.ajax({\n        type: \"post\",\n        url: url,\n        contentType: \"application/json;charset=utf-8\",\n        dataType: \"json\",\n        data: JSON.stringify(data)\n    });\n}\n</code></pre>\n\n<p>The C# code is:</p>\n\n<pre><code>public class Road\n{\n    public string RoadID { get; set; }\n}\n\n[HttpPost]\npublic async Task&lt;ActionResult&gt; DeleteRoad([System.Web.Http.FromBody]Road road)\n{\n    Debug.WriteLine($\"Road ID = { road.RoadID }\");\n    return RedirectToAction(\"Index\");\n}\n</code></pre>\n\n<p>The server's output is:</p>\n\n<pre><code>Road ID = 4\nRoad ID = 4\n</code></pre>\n\n<p>Hope this helps :)</p>\n"}], "owner": {"reputation": 421, "user_id": 8751443, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/v4xrC.jpg?s=128&g=1", "display_name": "Mark Dibeh", "link": "https://stackoverflow.com/users/8751443/mark-dibeh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 61, "favorite_count": 0, "accepted_answer_id": 54706720, "answer_count": 1, "score": 1, "last_activity_date": 1550224509, "creation_date": 1550089544, "last_edit_date": 1550221233, "question_id": 54678854, "link": "https://stackoverflow.com/questions/54678854/ajax-post-global-function-vs-repeat-the-same-function-for-each-request", "title": "ajax post global function vs repeat the same function for each request", "body": "<p>I have something that i do not understand . \nI do  have a global function AjaxPost() \nthat take url and data than send them to backend .\nit calls the function but the parameters are always null . </p>\n\n<p>So i take the same content of the function and used it directly in the request , it works perfectly . \nthis One Doesn't work  //example : AjaxPost(\"/Road/DeleteRoad\", road);</p>\n\n<pre><code>function AjaxPost(url, data) {\n    return $.ajax({\n        type: \"post\",\n        url: url,\n        contentType: \"application/json;charset=utf-8\",\n        dataType: \"json\",\n        data: JSON.stringify(data)\n    });\n}\n</code></pre>\n\n<p>this one works perfectly   </p>\n\n<pre><code> $.ajax({\n        type: \"post\",\n        url: \"/Road/DeleteRoad\",\n        contentType: \"application/json;charset=utf-8\",\n        dataType: \"json\",\n        data: JSON.stringify(road)\n    });\n</code></pre>\n\n<p>Here the action method </p>\n\n<pre><code> [HttpPost]\n    public async Task&lt;IActionResult&gt; DeleteRoad([FromBody]r road)\n    {\n        int.TryParse(road.RoadID, out int RoadID);\n        if (RoadID &gt; 0)\n        {\n            await _road.DeleteRoad(RoadID);\n        }\n        return RedirectToAction(\"Index\");\n    }\n</code></pre>\n\n<p>Here is the class r</p>\n\n<pre><code>  public class r\n    {\n        public string RoadID { get; set; }\n    }\n</code></pre>\n\n<p>Here Is The Road object \n//for example : </p>\n\n<pre><code>  var road ={\n    RoadID :4,\n    }\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "webpage"], "answers": [{"tags": [], "owner": {"reputation": 11471, "user_id": 6766919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bxq3H.jpg?s=128&g=1", "display_name": "ellipsis", "link": "https://stackoverflow.com/users/6766919/ellipsis"}, "is_accepted": false, "score": 4, "last_activity_date": 1550089677, "creation_date": 1550089677, "answer_id": 54678885, "question_id": 54678822, "link": "https://stackoverflow.com/questions/54678822/dynamically-added-class-cannot-be-referenced-for-some-reason/54678885#54678885", "title": "Dynamically added class cannot be referenced for some reason", "body": "<p>You were giving class name with a <code>.</code> while adding the class. Just give the name and access using <code>.</code> and to get data write the function inside a handler, outside it, it will be accessed before even the link will get new class and you will always get <code>undefined</code>.</p>\n\n<p>Use  <code>$(this).addClass(\"js-category-selected\");</code> instead of using  <code>$(this).addClass(\".js-category-selected\");</code></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".js-link\").click(function(e) {\r\n  e.preventDefault();\r\n\r\n  $(this).addClass(\"js-category-selected\");\r\n  var selectedCategory = $(\".js-category-selected\").data(\"category\");\r\n\r\n  console.log('selectedCategory:' + selectedCategory);\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;a class=\"js-link\" data-category=\"cat123\" href=\"#\"&gt;some category&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 1, "last_activity_date": 1550089777, "creation_date": 1550089777, "answer_id": 54678903, "question_id": 54678822, "link": "https://stackoverflow.com/questions/54678822/dynamically-added-class-cannot-be-referenced-for-some-reason/54678903#54678903", "title": "Dynamically added class cannot be referenced for some reason", "body": "<p>You need to remove the <code>.</code> at the start of the class you're adding:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".js-link\").click(function(e) {\r\n  e.preventDefault();\r\n  $(this).addClass(\"js-category-selected\");\r\n  var selectedCategory = $(\".js-category-selected\").data(\"category\");\r\n  console.log('selectedCategory:' + selectedCategory);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://code.jquery.com/jquery-3.3.1.js\"&gt;&lt;/script&gt;\r\n&lt;a class=\"js-link\" data-category=\"cat123\" href=\"#\"&gt;some category&lt;/a&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3699, "user_id": 4816175, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/697df6176ef55a7ea25f159e0fcdec38?s=128&d=identicon&r=PG", "display_name": "cool breeze", "link": "https://stackoverflow.com/users/4816175/cool-breeze"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1550090343, "creation_date": 1550089426, "last_edit_date": 1550090343, "question_id": 54678822, "link": "https://stackoverflow.com/questions/54678822/dynamically-added-class-cannot-be-referenced-for-some-reason", "title": "Dynamically added class cannot be referenced for some reason", "body": "<p>When I use clicks on a link, I add a class to the element:</p>\n\n<pre><code>&lt;a class=\"js-link\" data-category=\"cat123\" href=\"#\"&gt;some category&lt;/a&gt;\n</code></pre>\n\n<p>The javascript is:</p>\n\n<pre><code>$(\".js-link\").click(function (e) {\n        e.preventDefault();\n\n        $(this).addClass(\".js-category-selected\");\n\n    });\n</code></pre>\n\n<p>When the user submits a search form, I am trying to get the link that was clicked:    </p>\n\n<pre><code>var selectedCategory = $(\".js-category-selected\").data(\"category\");\n\nconsole.log('selectedCategory:' + selectedCategory);\n</code></pre>\n\n<p>This always returns undefined.</p>\n\n<p>I can't seem to find the element.  Is something wrong with this approach?\nIs it because this class is added dynamically?  But I'm not binding anything, just trying to located the element.</p>\n"}, {"tags": ["javascript", "vue.js", "http", "vuejs2", "axios"], "comments": [{"owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "edited": false, "score": 0, "creation_date": 1550089400, "post_id": 54678801, "comment_id": 96146535, "body": "try using a watch property"}], "answers": [{"comments": [{"owner": {"reputation": 1112, "user_id": 7355088, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wmLlW.png?s=128&g=1", "display_name": "Jquestions", "link": "https://stackoverflow.com/users/7355088/jquestions"}, "edited": false, "score": 0, "creation_date": 1550089923, "post_id": 54678846, "comment_id": 96146773, "body": "Ah Of course!  Thanks.  How to watch the nested properties though with this approach?"}, {"owner": {"reputation": 1112, "user_id": 7355088, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wmLlW.png?s=128&g=1", "display_name": "Jquestions", "link": "https://stackoverflow.com/users/7355088/jquestions"}, "edited": false, "score": 0, "creation_date": 1550090619, "post_id": 54678846, "comment_id": 96147110, "body": "Awesome, cheers!  Is it possible to watch just <code>foo</code> from a top level without declaring each property individually?"}, {"owner": {"reputation": 18774, "user_id": 1763929, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/jLvbN.jpg?s=128&g=1", "display_name": "Vucko", "link": "https://stackoverflow.com/users/1763929/vucko"}, "reply_to_user": {"reputation": 1112, "user_id": 7355088, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wmLlW.png?s=128&g=1", "display_name": "Jquestions", "link": "https://stackoverflow.com/users/7355088/jquestions"}, "edited": false, "score": 0, "creation_date": 1550091174, "post_id": 54678846, "comment_id": 96147354, "body": "@Jquestions as @BoussadjraBrahim mentioned, you can use a <a href=\"https://vuejs.org/v2/api/#watch\" rel=\"nofollow noreferrer\"><code>deep watcher</code></a>"}], "tags": [], "owner": {"reputation": 18774, "user_id": 1763929, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/jLvbN.jpg?s=128&g=1", "display_name": "Vucko", "link": "https://stackoverflow.com/users/1763929/vucko"}, "is_accepted": true, "score": 2, "last_activity_date": 1550090302, "last_edit_date": 1550090302, "creation_date": 1550089522, "answer_id": 54678846, "question_id": 54678801, "link": "https://stackoverflow.com/questions/54678801/how-to-send-a-axios-http-put-request-only-if-there-is-a-change-on-the-object-in/54678846#54678846", "title": "How to send a axios http put request only if there is a change on the object in Vue JS?", "body": "<p>You can always use a <a href=\"https://vuejs.org/v2/guide/computed.html#Watchers\" rel=\"nofollow noreferrer\">watcher</a>, example: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Vue({\r\n  el: '#app',\r\n  data: {\r\n    message: 'Hello Vue.js!',\r\n    foo: {\r\n      bar: {\r\n        baz: 'foo bar baz'\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    message(newValue, oldValue) {\r\n      if (newValue != oldValue) alert('change 1')\r\n    },\r\n    'foo.bar.baz'(newValue, oldValue) {\r\n      if (newValue != oldValue) alert('change 2')\r\n    }\r\n  }\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://unpkg.com/vue\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"app\"&gt;\r\n  &lt;p&gt;{{ message }}&lt;/p&gt;\r\n\r\n  &lt;input v-model=\"message\"&gt;\r\n  &lt;input v-model=\"foo.bar.baz\"&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 40556, "user_id": 8172857, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1BNQ.png?s=128&g=1", "display_name": "Boussadjra Brahim", "link": "https://stackoverflow.com/users/8172857/boussadjra-brahim"}, "is_accepted": false, "score": 1, "last_activity_date": 1550090207, "creation_date": 1550090207, "answer_id": 54679004, "question_id": 54678801, "link": "https://stackoverflow.com/questions/54678801/how-to-send-a-axios-http-put-request-only-if-there-is-a-change-on-the-object-in/54679004#54679004", "title": "How to send a axios http put request only if there is a change on the object in Vue JS?", "body": "<p>You could watch deeply your property as follows :</p>\n\n<pre><code>watch: {\n    person: {\n        handler: (newValue,oldValue) {\n\n        },\n        deep: true\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1112, "user_id": 7355088, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/wmLlW.png?s=128&g=1", "display_name": "Jquestions", "link": "https://stackoverflow.com/users/7355088/jquestions"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 143, "favorite_count": 0, "accepted_answer_id": 54678846, "answer_count": 2, "score": 0, "last_activity_date": 1595010084, "creation_date": 1550089338, "last_edit_date": 1595010084, "question_id": 54678801, "link": "https://stackoverflow.com/questions/54678801/how-to-send-a-axios-http-put-request-only-if-there-is-a-change-on-the-object-in", "title": "How to send a axios http put request only if there is a change on the object in Vue JS?", "body": "<p>What is the logical way to send an <em>axios http put</em> request only if there is a <strong>change</strong> on the object and its properties?</p>\n\n<p>I'm finding that I am firing unnecessary http requests which is a waste on the server power.  I would like to limit to only firing if the object I am sending has been updated or changed from the original version when the page loaded.</p>\n\n<p>My main reason for this is that I am using automatic saving on input via @blur and therefore there is a lot of action happening on the http front!</p>\n\n<p><code>&lt;input @blur=\"editInput()\"&gt;&lt;/input&gt;</code></p>\n\n<p>The method <code>editInput()</code> fires axios put http request every time.  Needs a method to check for change?</p>\n\n<p>Do you clone the object on the <code>created()</code> hook perhaps?  And then use some method to compare... was what I attempted but failed.</p>\n"}, {"tags": ["javascript", "typescript", "function"], "answers": [{"tags": [], "owner": {"reputation": 119938, "user_id": 2887218, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WL57j.png?s=128&g=1", "display_name": "jcalz", "link": "https://stackoverflow.com/users/2887218/jcalz"}, "is_accepted": true, "score": 2, "last_activity_date": 1550189690, "last_edit_date": 1550189690, "creation_date": 1550090528, "answer_id": 54679082, "question_id": 54678790, "link": "https://stackoverflow.com/questions/54678790/typescript-error-how-to-correct-this-element-implicitly-has-an-any-type-beca/54679082#54679082", "title": "Typescript error, how to correct this: Element implicitly has an &#39;any&#39; type because type", "body": "<p>The compiler has no idea that <code>currency.toLowerCase()</code> will be a valid index into the <code>styles</code> object.  So you have to assure it of that fact.  The easiest way is just to be very strict about what <code>setStyle()</code> will accept:</p>\n\n<pre><code>export const setStyle = (currency: keyof typeof styles): ICoinStyle =&gt; styles[currency]; // okay\n</code></pre>\n\n<p>The above will <em>only</em> accept <code>currency</code> values that are the keys of <code>styles</code> and are already the right case (so no <code>.toLowerCase()</code>).  </p>\n\n<hr>\n\n<p>If you'd like to be able to accept <em>any string</em> as <code>currency</code> and throw a purely runtime error if it isn't one of the valid values, you could use a <a href=\"https://www.typescriptlang.org/docs/handbook/advanced-types.html#user-defined-type-guards\" rel=\"nofollow noreferrer\">type guard</a> to help you:</p>\n\n<pre><code>// check if k is a key of obj\nfunction isKeyof&lt;T&gt;(k: keyof any, obj: T): k is keyof T {\n  return k in obj;\n}\n\nexport const setStyle = (currency: string): ICoinStyle =&gt; {\n  const currencyLowerCase = currency.toLowerCase();\n  if (isKeyof(currencyLowerCase, styles)) {\n    return styles[currencyLowerCase]; // okay\n  } else {\n    throw new Error(\"YOU LIED TO ME ABOUT \" + currency);\n  }\n}\n</code></pre>\n\n<p>Here you explicitly check that taking <code>currency.toLowerCase()</code> is a valid key of <code>styles</code> and throw an error if not.  The only other reasonable option is to return <code>ICoinStyle | undefined</code> like this:</p>\n\n<pre><code>export const setStyle = (currency: string): ICoinStyle | undefined =&gt; {\n  const currencyLowerCase = currency.toLocaleLowerCase();\n  if (isKeyof(currencyLowerCase, styles)) {\n    return styles[currencyLowerCase];\n  } else {\n    return undefined;\n  }\n}\n</code></pre>\n\n<p>Hope one of those helps you.  Good luck!</p>\n"}], "owner": {"reputation": 27465, "user_id": 168738, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MMeLF.png?s=128&g=1", "display_name": "Leon Gaban", "link": "https://stackoverflow.com/users/168738/leon-gaban"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 195, "favorite_count": 1, "accepted_answer_id": 54679082, "answer_count": 1, "score": 0, "last_activity_date": 1550189690, "creation_date": 1550089296, "last_edit_date": 1550089856, "question_id": 54678790, "link": "https://stackoverflow.com/questions/54678790/typescript-error-how-to-correct-this-element-implicitly-has-an-any-type-beca", "title": "Typescript error, how to correct this: Element implicitly has an &#39;any&#39; type because type", "body": "<blockquote>\n  <p>Element implicitly has an 'any' type because type '{ \"ada\": { \"color\": string; \"backgroundColor\": string; }; \"ae\": { \"color\": string; \"backgroundColor\": string; }; \"aion\": { \"color\": string; \"backgroundColor\": string; }; \"ant\": { \"color\": string; \"backgroundColor\": string; }; \"ark\": { ...; }; ... 81 more ...; \"zrx\": { ...; }; }' has no index signature.ts(7017)</p>\n</blockquote>\n\n<p>I have a coinStyles.json file which contains cryptocurrency brand colors for each asset.</p>\n\n<p>The following function plucks out the correct style object based on the asset's id (symbol).</p>\n\n<pre><code>import styles from '../../coinStyles.json'\nimport { ICoinStyle } from '../types'\n\n// Add style to coin square.\nexport const setStyle = (currency: string): ICoinStyle =&gt; styles[currency.toLowerCase()];\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/OHsb3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OHsb3.png\" alt=\"enter image description here\"></a></p>\n\n<p>I thought I was missing a type for the returned style, so I added <code>: ICoinStyle</code> but that didn't help, now it seems that it actually wants me to type the <code>styles</code> object which is the JSON. I couldn't find the syntax for that. Or how to do that in this case.</p>\n\n<p><strong>ICoinStyle</strong></p>\n\n<pre><code>export interface ICoinStyle {\n  color: string;\n  background: string;\n  lightBg?: boolean;\n}\n</code></pre>\n\n<p><strong>coinStyles.json</strong></p>\n\n<pre><code>{\n  \"ada\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#6297DF\"\n  },\n  \"ae\": {\n    \"color\": \"#F35C8E\",\n    \"backgroundColor\": \"#000\"\n  },\n  \"aion\": {\n    \"color\": \"#47BEEB\",\n    \"backgroundColor\": \"#131944\"\n  },\n  \"ant\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#26B9DD\"\n  },\n  \"ark\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#EF3A40\"\n  },\n  \"elf\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#2e60b7\"\n  },\n  \"bat\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#FC511F\"\n  },\n  \"bch\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#61BE42\"\n  },\n  \"bcn\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#EE4486\"\n  },\n  \"blt\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#555CEF\"\n  },\n  \"bnb\": {\n    \"color\": \"#F2B940\",\n    \"backgroundColor\": \"#3E3E3E\"\n  },\n  \"bnt\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#3B3B3B\"\n  },\n  \"brd\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#FA7B52\"\n  },\n  \"btc\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#F5922F\"\n  },\n  \"btg\": {\n    \"color\": \"#FBBE2D\",\n    \"backgroundColor\": \"#222423\"\n  },\n  \"bts\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#3EBBE9\"\n  },\n  \"cvc\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#359F74\"\n  },\n  \"dai\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#f7B04A\"\n  },\n  \"dash\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#1175B4\"\n  },\n  \"dcr\": {\n    \"color\": \"#3AD6A3\",\n    \"backgroundColor\": \"#2F76FB\"\n  },\n  \"dgb\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#022552\"\n  },\n  \"dgd\": {\n    \"color\": \"#F0C838\",\n    \"backgroundColor\": \"#212429\"\n  },\n  \"doge\": {\n    \"color\": \"#333333\",\n    \"backgroundColor\": \"#B99E3D\"\n  },\n  \"dnt\": {\n    \"color\": \"#71F7F9\",\n    \"backgroundColor\": \"#273284\"\n  },\n  \"gbyte\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#2D3E4F\"\n  },\n  \"eos\": {\n    \"color\": \"#F0F5F8\",\n    \"backgroundColor\": \"#443F53\"\n  },\n  \"enj\": {\n    \"color\": \"#26D1CC\",\n    \"backgroundColor\": \"#36245E\"\n  },\n  \"etc\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#678F74\"\n  },\n  \"eth\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#5C607F\"\n  },\n  \"fct\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#578299\"\n  },\n  \"fuel\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#093156\"\n  },\n  \"fun\": {\n    \"color\": \"#9E235C\",\n    \"backgroundColor\": \"#FFF\"\n  },\n  \"gas\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#719361\"\n  },\n  \"gno\": {\n    \"color\": \"#009CBC\",\n    \"backgroundColor\": \"#FFF\"\n  },\n  \"gnt\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#083F6C\"\n  },\n  \"lend\": {\n    \"color\": \"#0DA2C2\",\n    \"backgroundColor\": \"#FFF\"\n  },\n  \"icn\": {\n    \"color\": \"#4D6F8B\",\n    \"backgroundColor\": \"#829AAE\"\n  },\n  \"icx\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#3CA8B9\"\n  },\n  \"iot\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#333\"\n  },\n  \"lsk\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#0D468F\"\n  },\n  \"ltc\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#CDCDCD\"\n  },\n  \"lun\": {\n    \"color\": \"#F04725\",\n    \"backgroundColor\": \"#191B22\"\n  },\n  \"kmd\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#3C6363\"\n  },\n  \"maid\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#5C91C9\"\n  },\n  \"mana\": {\n    \"color\": \"#F57028\",\n    \"backgroundColor\": \"#D1C7BE\"\n  },\n  \"mco\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#111A32\"\n  },\n  \"mkr\": {\n    \"color\": \"#F0F2F3\",\n    \"backgroundColor\": \"#2ABB9C\"\n  },\n  \"mona\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#B6A170\"\n  },\n  \"nano\": {\n    \"color\": \"#4E92DF\",\n    \"backgroundColor\": \"#FFF\",\n    \"lightBg\": true\n  },\n  \"nem\": {\n    \"color\": \"#212033\",\n    \"backgroundColor\": \"#2DB5AB\"\n  },\n  \"neo\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#4EB704\"\n  },\n  \"nmr\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#000\"\n  },\n  \"omg\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#2159EC\"\n  },\n  \"ont\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#39A4BC\"\n  },\n  \"pay\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#353437\"\n  },\n  \"pivx\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#7C68A4\"\n  },\n  \"poe\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#292929\"\n  },\n  \"poly\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#4C5995\"\n  },\n  \"powr\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#1FBBA9\"\n  },\n  \"qash\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#1F4BB4\"\n  },\n  \"qtum\": {\n    \"color\": \"#359bce\",\n    \"backgroundColor\": \"#FFF\",\n    \"lightBg\": true\n  },\n  \"rep\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#412766\"\n  },\n  \"salt\": {\n    \"color\": \"#22272f\",\n    \"backgroundColor\": \"#FFF\",\n    \"lightBg\": true\n  },\n  \"sia\": {\n    \"color\": \"#34EC86\",\n    \"backgroundColor\": \"#7F8C8D\"\n  },\n  \"spank\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#FF6195\"\n  },\n  \"snm\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#131822\"\n  },\n  \"snt\": {\n    \"color\": \"#0BD09F\",\n    \"backgroundColor\": \"#FFF\"\n  },\n  \"steem\": {\n    \"color\": \"#0BD09F\",\n    \"backgroundColor\": \"#FFF\",\n    \"lightBg\": true\n  },\n  \"strat\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#1f88c7\"\n  },\n  \"storj\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#2E86FB\"\n  },\n  \"theta\": {\n    \"color\": \"#20D7C2\",\n    \"backgroundColor\": \"#1A1D25\"\n  },\n  \"trx\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#222423\"\n  },\n  \"tusd\": {\n    \"color\": \"#62C6FF\",\n    \"backgroundColor\": \"#1D294F\"\n  },\n  \"usdt\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#2EA07C\"\n  },\n  \"usd\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#CACCB7\"\n  },\n  \"usdc\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#2775C9\"\n  },\n  \"waves\": {\n    \"color\": \"#000\",\n    \"backgroundColor\": \"#105CFB\"\n  },\n  \"wtc\": {\n    \"color\": \"#8125FB\",\n    \"backgroundColor\": \"#59EFDC\"\n  },\n  \"vet\": {\n    \"color\": \"#AA77CE\",\n    \"backgroundColor\": \"#B4E8FF\",\n    \"lightBg\": true\n  },\n  \"xmr\": {\n    \"color\": \"#4C4C4C\",\n    \"backgroundColor\": \"#FC6621\"\n  },\n  \"xlm\": {\n    \"color\": \"#07A2CC\",\n    \"backgroundColor\": \"#CEEBF6\",\n    \"lightBg\": true\n  },\n  \"xrp\": {\n    \"color\": \"#23292F\",\n    \"backgroundColor\": \"#1B84E6\"\n  },\n  \"xvg\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#3BA3CA\"\n  },\n  \"zec\": {\n    \"color\": \"#000\",\n    \"backgroundColor\": \"#EBB451\"\n  },\n  \"zen\": {\n    \"color\": \"#5EFFB5\",\n    \"backgroundColor\": \"#1C3871\"\n  },\n  \"zil\": {\n    \"color\": \"#50C0BE\",\n    \"backgroundColor\": \"#46494B\"\n  },\n  \"zrx\": {\n    \"color\": \"#FFF\",\n    \"backgroundColor\": \"#383838\"\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "dictionary", "closures"], "comments": [{"owner": {"reputation": 275, "user_id": 2215448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8563535ce72cfa698f3040b397ec11c0?s=128&d=identicon&r=PG", "display_name": "Treble Snake", "link": "https://stackoverflow.com/users/2215448/treble-snake"}, "edited": false, "score": 0, "creation_date": 1550089646, "post_id": 54678782, "comment_id": 96146640, "body": "Maybe I&#39;m missing something, but <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object#Methods_of_the_Object_constructor\" rel=\"nofollow noreferrer\">Object constructor</a> does not have <code>map()</code> method.. Could you give more context on what are you trying to do?"}, {"owner": {"reputation": 27, "user_id": 10660157, "user_type": "registered", "profile_image": "https://graph.facebook.com/2100776409967817/picture?type=large", "display_name": "Svyatoslav Ivanov", "link": "https://stackoverflow.com/users/10660157/svyatoslav-ivanov"}, "reply_to_user": {"reputation": 275, "user_id": 2215448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8563535ce72cfa698f3040b397ec11c0?s=128&d=identicon&r=PG", "display_name": "Treble Snake", "link": "https://stackoverflow.com/users/2215448/treble-snake"}, "edited": false, "score": 0, "creation_date": 1550089986, "post_id": 54678782, "comment_id": 96146808, "body": "updated the post"}, {"owner": {"reputation": 11709, "user_id": 9325419, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JBsmO.jpg?s=128&g=1", "display_name": "jo_va", "link": "https://stackoverflow.com/users/9325419/jo-va"}, "edited": false, "score": 1, "creation_date": 1550090359, "post_id": 54678782, "comment_id": 96146975, "body": "Could you show us SberData ? Also, you should replace map by <code>forEach</code> since you don&#39;t care about what the <code>map</code> returns, and you don&#39;t need to return this.setState"}, {"owner": {"reputation": 275, "user_id": 2215448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8563535ce72cfa698f3040b397ec11c0?s=128&d=identicon&r=PG", "display_name": "Treble Snake", "link": "https://stackoverflow.com/users/2215448/treble-snake"}, "edited": false, "score": 0, "creation_date": 1550090366, "post_id": 54678782, "comment_id": 96146977, "body": "OK, thanks, and now what&#39;s in this <code>data</code> constant? Could you print it out? Maybe elements of the array (I assume it&#39;s an array) don&#39;t have <code>value</code> property? Also, it may be better to prepare required data and then call <code>setState()</code> just one time."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1550090418, "post_id": 54678782, "comment_id": 96146996, "body": "You should not use <code>map</code> if you don&#39;t do anything with the result. Use a plain <code>for of</code> loop instead."}, {"owner": {"reputation": 27, "user_id": 10660157, "user_type": "registered", "profile_image": "https://graph.facebook.com/2100776409967817/picture?type=large", "display_name": "Svyatoslav Ivanov", "link": "https://stackoverflow.com/users/10660157/svyatoslav-ivanov"}, "edited": false, "score": 0, "creation_date": 1550090897, "post_id": 54678782, "comment_id": 96147226, "body": "Thank you guys! ur right, they doesn&#39;t gave value property"}, {"owner": {"reputation": 275, "user_id": 2215448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8563535ce72cfa698f3040b397ec11c0?s=128&d=identicon&r=PG", "display_name": "Treble Snake", "link": "https://stackoverflow.com/users/2215448/treble-snake"}, "edited": false, "score": 0, "creation_date": 1550091140, "post_id": 54678782, "comment_id": 96147339, "body": "Glad you solved it :) But still, consider one of the advises above - either use <code>.map()</code> to prepare the data and call <code>setState()</code> once or use <code>.forEach()</code> or <code>for of</code> loop. :)"}], "answers": [{"tags": [], "owner": {"reputation": 275, "user_id": 2215448, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8563535ce72cfa698f3040b397ec11c0?s=128&d=identicon&r=PG", "display_name": "Treble Snake", "link": "https://stackoverflow.com/users/2215448/treble-snake"}, "is_accepted": true, "score": 0, "last_activity_date": 1550091631, "creation_date": 1550091631, "answer_id": 54679340, "question_id": 54678782, "link": "https://stackoverflow.com/questions/54678782/loosing-context-on-map-function/54679340#54679340", "title": "Loosing context on map function", "body": "<p>We found out in the comments that elements just didn't have <code>value</code> property, but still, I suggest improving the code a bit, prepare the data and then call <code>setState()</code> once, for example:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>componentDidMount() {\n  const newColumns = data.map(element =&gt; ({Header: element.value}));\n  this.setState(state =&gt; ({\n    columns: [...state.columns, newColumns]\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 10660157, "user_type": "registered", "profile_image": "https://graph.facebook.com/2100776409967817/picture?type=large", "display_name": "Svyatoslav Ivanov", "link": "https://stackoverflow.com/users/10660157/svyatoslav-ivanov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 54679340, "answer_count": 1, "score": 0, "last_activity_date": 1550091631, "creation_date": 1550089264, "last_edit_date": 1550089961, "question_id": 54678782, "link": "https://stackoverflow.com/questions/54678782/loosing-context-on-map-function", "title": "Loosing context on map function", "body": "<p>Im trying to add new columns to my component state array. But I get undefined value. I can't understand how to bind this</p>\n\n<pre><code>const data = SberData;\n\nclass App extends Component {\n\nconstructor(props) {\n    super(props);\n\n    this.state = {\n        data: [],\n        columns: [\n            {Header: 'value1'},\n            {Header: 'value2'}\n        ]\n    }\n}\n\ncomponentDidMount() {\n    data.map((element) =&gt; {\n            return this.setState(state =&gt; ({\n                        columns: [...state.columns, {Header: element.value}]\n                    }\n                )\n            )\n        }\n    )\n}\n</code></pre>\n\n<p>and what I get:</p>\n\n<pre><code>0: {Header: \"value1\"}\n1: {Header: \"value2\"}\n2: {Header: undefined}\n3: {Header: undefined}\n</code></pre>\n"}, {"tags": ["javascript", "extjs", "grid"], "comments": [{"owner": {"reputation": 154, "user_id": 6548530, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f6342076e792ea094d711e14f00c2008?s=128&d=identicon&r=PG", "display_name": "dh117", "link": "https://stackoverflow.com/users/6548530/dh117"}, "edited": false, "score": 0, "creation_date": 1550173510, "post_id": 54678770, "comment_id": 96182952, "body": "Millions of records is not much? If another approach is possible, it might be interesting to use <b>infinite scroll</b> (<a href=\"https://fiddle.sencha.com/#fiddle/d9t&amp;view/editor\" rel=\"nofollow noreferrer\">fiddle</a>) or <b>pagination</b> (<a href=\"https://fiddle.sencha.com/#fiddle/pim&amp;view/editor\" rel=\"nofollow noreferrer\">fiddle</a>)."}], "answers": [{"comments": [{"owner": {"reputation": 93, "user_id": 7161110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad8908ff842e5fc47a21f46afa60dc78?s=128&d=identicon&r=PG&f=1", "display_name": "SEBASTIANNICOLAE BURCHIDRAGOMI", "link": "https://stackoverflow.com/users/7161110/sebastiannicolae-burchidragomi"}, "edited": false, "score": 0, "creation_date": 1550131970, "post_id": 54680626, "comment_id": 96159780, "body": "is there any possibility to pass beyond this limitation?"}, {"owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "reply_to_user": {"reputation": 93, "user_id": 7161110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad8908ff842e5fc47a21f46afa60dc78?s=128&d=identicon&r=PG&f=1", "display_name": "SEBASTIANNICOLAE BURCHIDRAGOMI", "link": "https://stackoverflow.com/users/7161110/sebastiannicolae-burchidragomi"}, "edited": false, "score": 0, "creation_date": 1550139887, "post_id": 54680626, "comment_id": 96164201, "body": "Not easily, no."}], "tags": [], "owner": {"reputation": 29068, "user_id": 149436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc4c5aa5126e36603eabdfdc57c46583?s=128&d=identicon&r=PG", "display_name": "Evan Trimboli", "link": "https://stackoverflow.com/users/149436/evan-trimboli"}, "is_accepted": false, "score": 0, "last_activity_date": 1550139869, "last_edit_date": 1550139869, "creation_date": 1550097995, "answer_id": 54680626, "question_id": 54678770, "link": "https://stackoverflow.com/questions/54678770/unable-to-scroll-the-grid-until-the-end-of-the-records/54680626#54680626", "title": "Unable to scroll the grid until the end of the records", "body": "<p>I think what you're running into is the natural element height limits of the browser. In 6.7.0, a virtual scroller was introduced, however it's not integrated into any of the components in classic, only modern. The reason why you see different results between themes is due to the row size. The smaller the rows, the more content you can fit before reaching the limit.</p>\n"}], "owner": {"reputation": 93, "user_id": 7161110, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad8908ff842e5fc47a21f46afa60dc78?s=128&d=identicon&r=PG&f=1", "display_name": "SEBASTIANNICOLAE BURCHIDRAGOMI", "link": "https://stackoverflow.com/users/7161110/sebastiannicolae-burchidragomi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 60, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550139869, "creation_date": 1550089197, "question_id": 54678770, "link": "https://stackoverflow.com/questions/54678770/unable-to-scroll-the-grid-until-the-end-of-the-records", "title": "Unable to scroll the grid until the end of the records", "body": "<p>I implemented a grid having behind a store with millions of records, for example 2.500.000.\nThe problem is that i am not able to scroll beyond the row 1597829.\nIf i change the theme from Gray to Triton, the last record is 1016800.</p>\n\n<p>Below is my fiddle example:\n<a href=\"https://fiddle.sencha.com/#view/editor&amp;fiddle/2pnu\" rel=\"nofollow noreferrer\">https://fiddle.sencha.com/#view/editor&amp;fiddle/2pnu</a></p>\n"}, {"tags": ["javascript", "node.js", "promise"], "answers": [{"tags": [], "owner": {"reputation": 1844, "user_id": 4844024, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a9de342e1ce408f4874eac3f019efb33?s=128&d=identicon&r=PG&f=1", "display_name": "mad.meesh", "link": "https://stackoverflow.com/users/4844024/mad-meesh"}, "is_accepted": false, "score": 1, "last_activity_date": 1550089449, "creation_date": 1550089449, "answer_id": 54678830, "question_id": 54678720, "link": "https://stackoverflow.com/questions/54678720/why-do-the-last-two-functions-work-but-not-the-first/54678830#54678830", "title": "Why do the last two functions work, but not the first?", "body": "<p>you\u2019re pushing  <code>someFn</code> but you want <code>someFn()</code>. note we\u2019re calling the function.</p>\n"}, {"comments": [{"owner": {"reputation": 218, "user_id": 3412942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6SyK3.jpg?s=128&g=1", "display_name": "unwosu", "link": "https://stackoverflow.com/users/3412942/unwosu"}, "edited": false, "score": 1, "creation_date": 1550089849, "post_id": 54678832, "comment_id": 96146738, "body": "it is very confusing how promises works in javascript land haha, Thank you"}, {"owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "reply_to_user": {"reputation": 218, "user_id": 3412942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6SyK3.jpg?s=128&g=1", "display_name": "unwosu", "link": "https://stackoverflow.com/users/3412942/unwosu"}, "edited": false, "score": 0, "creation_date": 1550089887, "post_id": 54678832, "comment_id": 96146757, "body": "Yep, it can feel like that sometimes ;-)"}], "tags": [], "owner": {"reputation": 8252, "user_id": 6634591, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eHVdG.jpg?s=128&g=1", "display_name": "Luca Kiebel", "link": "https://stackoverflow.com/users/6634591/luca-kiebel"}, "is_accepted": false, "score": 5, "last_activity_date": 1550089950, "last_edit_date": 1550089950, "creation_date": 1550089456, "answer_id": 54678832, "question_id": 54678720, "link": "https://stackoverflow.com/questions/54678720/why-do-the-last-two-functions-work-but-not-the-first/54678832#54678832", "title": "Why do the last two functions work, but not the first?", "body": "<p>That's because in the first example, <code>someFn</code> is never executed:</p>\n\n<pre><code>for (let i = 0; i &lt; 10; i++) {\n    arr.push(someFn);\n}\nawait Promise.all(arr);\n</code></pre>\n\n<p>This part just pushes functions into the <code>arr</code> variable, it doesn't run them, thus not creating Promises and never filling the <code>items</code> array.</p>\n\n<p>On the other hand, the other examples run the function <code>someFn</code>:</p>\n\n<pre><code>const arr = [...Array(10).keys()].map(someFn)\n</code></pre>\n\n<p>This fills the <code>arr</code> array with 10 executions of <code>someFn</code> (<code>map</code> executes them with the current value (0-9), the index (also 0-9) and the array itself).</p>\n\n<pre><code>for (let i = 0; i &lt; 10; i++) {\n    await someFn();\n}\n</code></pre>\n\n<p>And this obviously runs <code>someFn</code> in a loop.</p>\n\n<p>To make the first example work, push the result of the function into the array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(async () =&gt; {\r\n    const items = [];\r\n    const someFn = async () =&gt; {\r\n        const v = await Promise.resolve(10);\r\n        items.push(Math.random());\r\n        return Promise.resolve(v * 10);\r\n    }\r\n    const arr = [];\r\n    for (let i = 0; i &lt; 10; i++) {\r\n        arr.push(someFn()); // &lt;-- () added\r\n    }\r\n    await Promise.all(arr);\r\n    console.log(\"item 1\", items);\r\n})();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 218, "user_id": 3412942, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6SyK3.jpg?s=128&g=1", "display_name": "unwosu", "link": "https://stackoverflow.com/users/3412942/unwosu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 83, "favorite_count": 1, "answer_count": 2, "score": 3, "last_activity_date": 1559929151, "creation_date": 1550088927, "last_edit_date": 1559929151, "question_id": 54678720, "link": "https://stackoverflow.com/questions/54678720/why-do-the-last-two-functions-work-but-not-the-first", "title": "Why do the last two functions work, but not the first?", "body": "<p>I have three different functions that should do the same thing, populate an array with resolved Promises, but it's not working for the first example.</p>\n\n<p>Here's my code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>(async() =&gt; {\r\n  const items = [];\r\n  const someFn = async() =&gt; {\r\n    const v = await Promise.resolve(10);\r\n    items.push(Math.random());\r\n    return Promise.resolve(v * 10);\r\n  }\r\n  const arr = [];\r\n  for (let i = 0; i &lt; 10; i++) {\r\n    arr.push(someFn);\r\n  }\r\n  await Promise.all(arr);\r\n  console.log(\"item 1\", items);\r\n})();\r\n\r\n(async() =&gt; {\r\n  const items = [];\r\n  const someFn = async() =&gt; {\r\n    const v = await Promise.resolve(10);\r\n    items.push(Math.random());\r\n    return Promise.resolve(v * 10);\r\n  }\r\n  const arr = [...Array(10).keys()].map(someFn)\r\n  await Promise.all(arr);\r\n  console.log(\"items 2\", items);\r\n})();\r\n\r\n(async() =&gt; {\r\n  const items = [];\r\n  const someFn = async() =&gt; {\r\n    const v = await Promise.resolve(10);\r\n    items.push(Math.random());\r\n    return Promise.resolve(v * 10);\r\n  }\r\n  for (let i = 0; i &lt; 10; i++) {\r\n    await someFn();\r\n  }\r\n  console.log(\"items 3\", items);\r\n})()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This is the output:</p>\n\n<pre><code>item 1 []\n\nitems 2 [ 0.7450904427103939,\n  0.37106667256699555,\n  0.12035280341441346,\n  0.265221052932904,\n  0.7775494303685422,\n  0.4872532010723445,\n  0.6497680191919464,\n  0.2570485072009576,\n  0.5613137531648884,\n  0.95109416178435 ]\n\nitems 3 [ 0.25328649499657585,\n  0.5452758396760038,\n  0.7274346878509064,\n  0.9306670111476503,\n  0.22942578229725785,\n  0.32547900377461625,\n  0.9722902638678983,\n  0.9964743517593542,\n  0.2828162584401659,\n  0.7672256760378469 ]\n</code></pre>\n\n<p>Notice how <code>item 1</code> is an empty array.</p>\n"}, {"tags": ["javascript", "algorithm", "three.js"], "answers": [{"tags": [], "owner": {"reputation": 550, "user_id": 1136235, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f2ab1413a4f550c0643f944d98d86a8f?s=128&d=identicon&r=PG", "display_name": "Maciek Wawro", "link": "https://stackoverflow.com/users/1136235/maciek-wawro"}, "is_accepted": true, "score": 2, "last_activity_date": 1550099584, "creation_date": 1550099584, "answer_id": 54680875, "question_id": 54678710, "link": "https://stackoverflow.com/questions/54678710/efficiently-find-twin-edges-in-half-edge-dcel-data-structure/54680875#54680875", "title": "Efficiently find twin edges in Half-Edge (DCEL) data structure?", "body": "<p>I'd try to hash and look up the edges, e.g. like that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function hash(p1, p2) {\n  return JSON.stringify(p1)+JSON.stringify(p2);\n}\nconst lookup = {}\nfor (let j = 0; j &lt; edges.length; j++) {\n  lookup[hash(edge.head(), edge.tail())] = edge;\n}\nfor (let j = 0; j &lt; edges.length; j++) {\n  const twin = lookup[hash(edge.tail(), edge.head())];\n  !edge.twin &amp;&amp; twin &amp;&amp; !twin.twin &amp;&amp; edge.setTwin(twin);\n}\n\n</code></pre>\n"}], "owner": {"reputation": 333, "user_id": 7335467, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Nb6A.jpg?s=128&g=1", "display_name": "ma-ee-ku", "link": "https://stackoverflow.com/users/7335467/ma-ee-ku"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 450, "favorite_count": 0, "accepted_answer_id": 54680875, "answer_count": 1, "score": 1, "last_activity_date": 1550099584, "creation_date": 1550088892, "last_edit_date": 1592644375, "question_id": 54678710, "link": "https://stackoverflow.com/questions/54678710/efficiently-find-twin-edges-in-half-edge-dcel-data-structure", "title": "Efficiently find twin edges in Half-Edge (DCEL) data structure?", "body": "<p>I am using a HalfEdge data structure to represent the connectivity between the faces on my mesh.</p>\n<p>I am importing an external model, and I am constructing the HalfEdge structure during the import process. However, with meshes with many triangles, the construction process takes up too much time.</p>\n<p>Specifically, it appears that the process of linking the half-edges take up the most time.\nI would like to get some advice on how to improve my algorithm.</p>\n<p>Below is the code I am using to initialize my data structure. The first for-loop creates a <code>Face</code> with the vertices data, while pushing the HalfEdges that compose the <code>Face</code> into a separate array to be used momentarily after.</p>\n<p>The second for-loop is reponsible for looking into the array of all HalfEdges, and finding matching pairs (i.e., the two that are twins of one another).</p>\n<p>I logged out the time before and after each process, and noticed that the second loop is what slows everything down.</p>\n<p>Here are the time stamps</p>\n<blockquote>\n<p>start constructing DCEL 14:55:22</p>\n<p>start making faces 14:55:22</p>\n<p>end making faces 14:55:22</p>\n<p>/*  this is where it takes long.. almost 6 seconds on a mesh with 13000 triangles */</p>\n<p>start linking halfEdges 14:55:22</p>\n<p>end linking halfEdges 14:55:28</p>\n<p>end constructing DCEL 14:55:28</p>\n</blockquote>\n<p>And here is the actual code</p>\n<pre><code>console.log('start constructing DCEL', new Date().toTimeString());\n\n// initialize Half-Edge data structure (DCEL)\nconst initialFaceColor = new THREE.Color(1, 1, 1);\nconst { position } = geometry.attributes;\nconst faces = [];\nconst edges = [];\nlet newFace;\n\nconsole.log('start making faces', new Date().toTimeString());\nfor (let faceIndex = 0; faceIndex &lt; (position.count / 3); faceIndex++) {\n  newFace = new Face().create(\n    new THREE.Vector3().fromBufferAttribute(position, faceIndex * 3 + 0),\n    new THREE.Vector3().fromBufferAttribute(position, faceIndex * 3 + 1),\n    new THREE.Vector3().fromBufferAttribute(position, faceIndex * 3 + 2),\n    faceIndex);\n  edges.push(newFace.edge);\n  edges.push(newFace.edge.next);\n  edges.push(newFace.edge.prev);\n  newFace.color = initialFaceColor;\n  faces.push(newFace);\n}\n\nconsole.log('end making faces', new Date().toTimeString());\nconsole.log('start linking halfEdges', new Date().toTimeString());\n\n/**\n  * Find and connect twin Half-Edges\n  * \n  * if two Half-Edges are twins:\n  * Edge A   TAIL ----&gt; HEAD\n  *           =          =\n  * Edge B   HEAD &lt;---- TAIL\n  */\nlet currentEdge;\nlet nextEdge;\nfor (let j = 0; j &lt; edges.length; j++) {\n  currentEdge = edges[j];\n\n  // this edge has a twin already; skip to next one\n  if (currentEdge.twin !== null) continue;\n\n  for (let k = j + 1; k &lt; edges.length; k++) {\n    nextEdge = edges[k];\n\n    // this edge has a twin already; skip to next one\n    if (nextEdge.twin !== null) continue;\n\n    if (currentEdge.head().equals(nextEdge.tail()) \n      &amp;&amp; currentEdge.tail().equals(nextEdge.head())) {\n          currentEdge.setTwin(nextEdge);\n    }\n  }\n}\n\nconsole.log('end linking halfEdges', new Date().toTimeString());\nconsole.log('end constructing DCEL', new Date().toTimeString());\n</code></pre>\n<p>How can I optimize the process of searching for twin edges?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 4, "creation_date": 1550088938, "post_id": 54678694, "comment_id": 96146325, "body": "Please <a href=\"http://idownvotedbecau.se/noattempt/\" rel=\"nofollow noreferrer\">include your attempt to solve this yourself</a>. It will help answerers judge if you need just a little coaching, or that they need to explain more."}, {"owner": {"reputation": 28101, "user_id": 3082296, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/5eac8c095f63cb9fe29a9af3cb97eb0e?s=128&d=identicon&r=PG&f=1", "display_name": "adiga", "link": "https://stackoverflow.com/users/3082296/adiga"}, "edited": false, "score": 0, "creation_date": 1550088942, "post_id": 54678694, "comment_id": 96146327, "body": "You can create a variable without <code>var</code> keyord"}], "answers": [{"comments": [{"owner": {"reputation": 4588, "user_id": 1642344, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WPOjB.jpg?s=128&g=1", "display_name": "Unknown developer", "link": "https://stackoverflow.com/users/1642344/unknown-developer"}, "edited": false, "score": 0, "creation_date": 1550089274, "post_id": 54678767, "comment_id": 96146487, "body": "Without global variables please!"}, {"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "reply_to_user": {"reputation": 4588, "user_id": 1642344, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WPOjB.jpg?s=128&g=1", "display_name": "Unknown developer", "link": "https://stackoverflow.com/users/1642344/unknown-developer"}, "edited": false, "score": 2, "creation_date": 1550089390, "post_id": 54678767, "comment_id": 96146527, "body": "@Unknowndeveloper state has to be kept somewhere. In your question you seem to not want to use a closure. In this you seem to not want to use global state. Where do you want the state to live?"}, {"owner": {"reputation": 4588, "user_id": 1642344, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WPOjB.jpg?s=128&g=1", "display_name": "Unknown developer", "link": "https://stackoverflow.com/users/1642344/unknown-developer"}, "edited": false, "score": 0, "creation_date": 1550089669, "post_id": 54678767, "comment_id": 96146655, "body": "No, no. I do want the closure."}, {"owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "reply_to_user": {"reputation": 4588, "user_id": 1642344, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WPOjB.jpg?s=128&g=1", "display_name": "Unknown developer", "link": "https://stackoverflow.com/users/1642344/unknown-developer"}, "edited": false, "score": 1, "creation_date": 1550089817, "post_id": 54678767, "comment_id": 96146712, "body": "@Unknowndeveloper but a closure is when the function <i>is</i> contained in another function, and the most straightforward way to interpret &quot; I do not want to add code outside of the function&#39;s body.&quot; is that you don&#39;t want it to be defined inside of another, enclosing, function."}, {"owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "reply_to_user": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "edited": false, "score": 0, "creation_date": 1550089906, "post_id": 54678767, "comment_id": 96146767, "body": "@JohnColeman I think that OP doesn&#39;t fully understand what is a closure, but I also think that Nina Sholz has solved what had been asked with a closure (maybe in a totally different way that OP imagined)."}], "tags": [], "owner": {"reputation": 11799, "user_id": 9259778, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R157q.jpg?s=128&g=1", "display_name": "Nurbol Alpysbayev", "link": "https://stackoverflow.com/users/9259778/nurbol-alpysbayev"}, "is_accepted": false, "score": 0, "last_activity_date": 1550091195, "last_edit_date": 1550091195, "creation_date": 1550089176, "answer_id": 54678767, "question_id": 54678694, "link": "https://stackoverflow.com/questions/54678694/use-closures-in-javascript/54678767#54678767", "title": "Use closures in Javascript", "body": "<p>If you can't put some code around a function, then you might use global namespace (window/global):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function test(restart = false) {\r\n  // replace window with global for Node.JS\r\n  if(!window.myCounter)\r\n  {\r\n    window.myCounter = 10\r\n  }\r\n\r\n  if (restart) {\r\n    window.myCounter = 10\r\n  } else {\r\n    window.myCounter+=5\r\n  }\r\n  \r\n  console.log(window.myCounter)\r\n}\r\n\r\ntest(); //returns 10\r\ntest(); //returns 15\r\ntest(); //returns 20;\r\ntest(true); //returns 10;\r\ntest(); //returns 15\r\ntest(); //returns 20</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 3, "last_activity_date": 1550089577, "last_edit_date": 1550089577, "creation_date": 1550089211, "answer_id": 54678774, "question_id": 54678694, "link": "https://stackoverflow.com/questions/54678694/use-closures-in-javascript/54678774#54678774", "title": "Use closures in Javascript", "body": "<p>You could take a closure over the start value and take a conditional statement  for either reseting the value or for incrementing the value.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var test = (v =&gt; restart =&gt; v = restart ? 10 : v + 5)(5);\r\n\r\nconsole.log(test());     // 10\r\nconsole.log(test());     // 15\r\nconsole.log(test());     // 20\r\nconsole.log(test(true)); // 10\r\nconsole.log(test());     // 15\r\nconsole.log(test());     // 20</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 32973, "user_id": 3903374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f154c343ddbc43f16a09e2098ddf4965?s=128&d=identicon&r=PG&f=1", "display_name": "Rick Hitchcock", "link": "https://stackoverflow.com/users/3903374/rick-hitchcock"}, "is_accepted": true, "score": 3, "last_activity_date": 1550089570, "creation_date": 1550089570, "answer_id": 54678857, "question_id": 54678694, "link": "https://stackoverflow.com/questions/54678694/use-closures-in-javascript/54678857#54678857", "title": "Use closures in Javascript", "body": "<p>Because functions in JavaScript are objects, you could avoid creating a closure by assigning a property to the function:</p>\n\n<pre><code>function test(restart) {\n  if (!test.value || restart) {\n    test.value = 10;\n  } else {\n    test.value += 5;\n  }\n  return test.value;\n};\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function test(restart) {\r\n  if (!test.value || restart) {\r\n    test.value = 10;\r\n  } else {\r\n    test.value += 5;\r\n  }\r\n  return test.value;\r\n};\r\n\r\nconsole.log(test()) //returns 10\r\nconsole.log(test()); //returns 15\r\nconsole.log(test()); //returns 20;\r\nconsole.log(test(true)); //returns 10;\r\nconsole.log(test()); //returns 15\r\nconsole.log(test()); //returns 20</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3320, "user_id": 3397552, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/Jn2QT.jpg?s=128&g=1", "display_name": "Jose Rojas", "link": "https://stackoverflow.com/users/3397552/jose-rojas"}, "is_accepted": false, "score": 1, "last_activity_date": 1550090242, "creation_date": 1550090242, "answer_id": 54679013, "question_id": 54678694, "link": "https://stackoverflow.com/questions/54678694/use-closures-in-javascript/54679013#54679013", "title": "Use closures in Javascript", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let test = (restart) =&gt; {\r\n  let v = 5;\r\n  return (restart) =&gt; {\r\n    if(restart){\r\n      return v = 10;\r\n    }else{\r\n      return v += 5; \r\n    }\r\n  }\r\n}\r\n\r\nlet executeTest = test(); \r\nconsole.log(executeTest()); //10\r\nconsole.log(executeTest()); //15\r\nconsole.log(executeTest()); //20\r\nconsole.log(executeTest(true)); //10\r\nconsole.log(executeTest()); //15\r\nconsole.log(executeTest()); //20</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 45920, "user_id": 4996248, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/IUaWZ.jpg?s=128&g=1", "display_name": "John Coleman", "link": "https://stackoverflow.com/users/4996248/john-coleman"}, "is_accepted": false, "score": 1, "last_activity_date": 1550091087, "last_edit_date": 1550091087, "creation_date": 1550090778, "answer_id": 54679140, "question_id": 54678694, "link": "https://stackoverflow.com/questions/54678694/use-closures-in-javascript/54679140#54679140", "title": "Use closures in Javascript", "body": "<p>Here is a fairly standard way to create a closure, albeit one which is more verbose than the elegant solution of Nina Scholz:</p>\n\n<pre><code>function countMaker(start = 10, step = 5){\n    let count = start - step;\n    function test(restart = false){\n        if(restart){\n            count = start\n        } else {\n            count += step;\n        }\n        return count;\n     }\n     return test;\n}\n\nconst test = countMaker();\nconsole.log(test()); //10\nconsole.log(test()); //15\nconsole.log(test(true)); //10\nconsole.log(test()); //15\nconsole.log(test()); //20\n</code></pre>\n\n<p>The parent scope of the inner function <code>test()</code> is the scope of <code>countMaker()</code>. This scope is the context in which <code>test</code> lives, and is what you mean by a closure. The state between calls to <code>test()</code> is maintained in this enclosing scope.</p>\n"}], "owner": {"reputation": 4588, "user_id": 1642344, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/WPOjB.jpg?s=128&g=1", "display_name": "Unknown developer", "link": "https://stackoverflow.com/users/1642344/unknown-developer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 1, "accepted_answer_id": 54678857, "answer_count": 5, "score": -4, "last_activity_date": 1550091195, "creation_date": 1550088815, "question_id": 54678694, "link": "https://stackoverflow.com/questions/54678694/use-closures-in-javascript", "title": "Use closures in Javascript", "body": "<p>I want to create a JS function:</p>\n\n<pre><code>function test(restart){\n  ...\n}\n</code></pre>\n\n<p>which will be called like that:</p>\n\n<pre><code>test(); //returns 10\ntest(); //returns 15\ntest(); //returns 20;\ntest(true); //returns 10;\ntest(); //returns 15\ntest(); //returns 20\n</code></pre>\n\n<p>How can I achieve the above? I do not want to add code outside of the function's body. How to use closures correctly in that special case?</p>\n"}, {"tags": ["javascript", "node.js", "buffer"], "comments": [{"owner": {"reputation": 2687, "user_id": 1269732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BrHDr.png?s=128&g=1", "display_name": "Stock Overflaw", "link": "https://stackoverflow.com/users/1269732/stock-overflaw"}, "edited": false, "score": 0, "creation_date": 1550100730, "post_id": 54678668, "comment_id": 96150962, "body": "(What )have you tried? The documentation is quite clear about <code>.outputStream</code> being a standard readable stream... (As a side note, as you probably have noticed at the very beginning of the NPM page: <i>Keep memory usage under control. Don&#39;t attempt to buffer entire files in RAM at once.</i>)"}, {"owner": {"reputation": 851, "user_id": 5995696, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b52f678fd65a2bbd1b73ad883f028db7?s=128&d=identicon&r=PG&f=1", "display_name": "John Glabb", "link": "https://stackoverflow.com/users/5995696/john-glabb"}, "reply_to_user": {"reputation": 2687, "user_id": 1269732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BrHDr.png?s=128&g=1", "display_name": "Stock Overflaw", "link": "https://stackoverflow.com/users/1269732/stock-overflaw"}, "edited": false, "score": 0, "creation_date": 1550103277, "post_id": 54678668, "comment_id": 96151710, "body": "This is what I&#39;m stuck with. The buffer I&#39;m trying to compress won&#39;t be larger than e.g. 3Mb. How do I get just compressed buffer without storing it as a ZIP in file system?"}], "answers": [{"comments": [{"owner": {"reputation": 851, "user_id": 5995696, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b52f678fd65a2bbd1b73ad883f028db7?s=128&d=identicon&r=PG&f=1", "display_name": "John Glabb", "link": "https://stackoverflow.com/users/5995696/john-glabb"}, "edited": false, "score": 0, "creation_date": 1550104495, "post_id": 54681518, "comment_id": 96152001, "body": "Thank you, but OK, I get the buffer from a file: var buf = fs.readFileSync(__dirname + &#39;/testArchive.txt&#39;). Now how do I compress it using yazl either addBuffer or addOutputStream? I want just to compress it in memory (not a zip file) then do console.log(ocompressedFile.length).  Whatever I do with this compressed buffer how do I inflate it then?"}], "tags": [], "owner": {"reputation": 2687, "user_id": 1269732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BrHDr.png?s=128&g=1", "display_name": "Stock Overflaw", "link": "https://stackoverflow.com/users/1269732/stock-overflaw"}, "is_accepted": true, "score": 1, "last_activity_date": 1550108068, "last_edit_date": 1550108068, "creation_date": 1550104138, "answer_id": 54681518, "question_id": 54678668, "link": "https://stackoverflow.com/questions/54678668/how-to-compress-a-buffer-with-yazl/54681518#54681518", "title": "How to compress a buffer with yazl?", "body": "<p>This kind of function should help, manually retrieving the stream's packets, then concatenating them into one single <code>Buffer</code>:</p>\n\n<pre><code>function stream2buffer(readableStream) {\n  return new Promise((resolve, reject) =&gt; {\n    const chunks = [];\n    readableStream.on('data', (chunk) =&gt; {\n      chunks.push(chunk);\n    }).on('end', () =&gt; {\n      resolve(Buffer.concat(chunks));\n    }).on('error', (err) =&gt; {\n      reject(err);\n    });\n  });\n}\n</code></pre>\n\n<p>Then you can use it on <code>yazl.ZipFile.outputStream</code>, and on the other side on the readable stream provided by <code>yauzl.ZipFile.openReadStream</code>'s callback.</p>\n\n<h3>Edit</h3>\n\n<p>What I meant is more like using this function <em>on</em> <code>yazl</code>'s <code>outputStream</code>, not on the source files you want to compress. More like this:</p>\n\n<pre><code>function zipper(mapping) { // mapping is expected to be a Map here\n  const handler = new yazl.ZipFile(); // yazl = require('yazl');\n  for (mapItem of mapping) {\n    if (typeof mapItem[1] === 'string' || mapItem[1] instanceof String) {\n      handler.addFile(mapItem[1], mapItem[0]);\n    } else if (mapItem[1] instanceof Buffer) {\n      handler.addBuffer(mapItem[1], mapItem[0]);\n    } else if (mapItem[1] instanceof stream.Readable) { // stream = require('stream');\n      handler.addReadStream(mapItem[1], mapItem[0]);\n    } else throw new Error('unsupported type');\n  }\n  handler.end();\n  return stream2buffer(handler.outputStream);\n}\n</code></pre>\n\n<p>And it's alike for the unzipping:</p>\n\n<pre><code>function unzipper(buffer) {\n  return new Promise((resolve, reject) =&gt; {\n    unzippedContents = {};\n    yauzl.fromBuffer(buffer, {lazyEntries: true}, (err, zip) =&gt; { // yauzl = require('yauzl')\n      if (err) return reject(err);\n      zip.on('entry', (entry) =&gt; {\n        if (/\\/$/.test(entry.fileName)) return zip.readEntry(); // no directories\n        zip.openReadStream(entry, async (err, rs) =&gt; {\n          try {\n            if (err) throw err;\n            unzippedContents[entry.fileName] = await stream2buffer(rs);\n          } catch (err) {\n            zip.close();\n            return reject(err);\n          }\n          zip.readEntry();\n        });\n      }).on('end', () =&gt; {\n        zip.close();\n        resolve(unzippedContents);\n      });\n      zip.readEntry(); // start the process\n    });\n  });\n}\n</code></pre>\n"}], "owner": {"reputation": 851, "user_id": 5995696, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/b52f678fd65a2bbd1b73ad883f028db7?s=128&d=identicon&r=PG&f=1", "display_name": "John Glabb", "link": "https://stackoverflow.com/users/5995696/john-glabb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 339, "favorite_count": 0, "accepted_answer_id": 54681518, "answer_count": 1, "score": 0, "last_activity_date": 1550108068, "creation_date": 1550088697, "last_edit_date": 1550106446, "question_id": 54678668, "link": "https://stackoverflow.com/questions/54678668/how-to-compress-a-buffer-with-yazl", "title": "How to compress a buffer with yazl?", "body": "<p>How can I compress/decompress a buffer via yazl?\n<a href=\"https://www.npmjs.com/package/yazl\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/yazl</a></p>\n\n<p>I don't want to create/save a zip file but just compress a buffer and forward it to another service. Any sample code would be helpful</p>\n\n<pre><code>var yazl = require(\"yazl\");\n\nvar buf = fs.readFileSync(__dirname + '/testArchive.txt');\nvar zipfile = new yazl.ZipFile();\nzipfile.addBuffer(buf, \"TEMPENTRY\");\nzipfile.end();\n</code></pre>\n\n<p>So has it been archived at this point?\nHow to I inflate that buffer by using yauzl then?</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 102, "user_id": 9359053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf9707d4c2403bf8419cb00e3120492?s=128&d=identicon&r=PG", "display_name": "teevik", "link": "https://stackoverflow.com/users/9359053/teevik"}, "is_accepted": true, "score": 0, "last_activity_date": 1550094208, "creation_date": 1550094208, "answer_id": 54679911, "question_id": 54678618, "link": "https://stackoverflow.com/questions/54678618/react-suspended-component-doesnt-run-the-useeffect-hook/54679911#54679911", "title": "React: Suspended component doesn&#39;t run the useEffect hook", "body": "<p>Just found this: <a href=\"https://github.com/facebook/react/issues/14563#issuecomment-453184356\" rel=\"nofollow noreferrer\">https://github.com/facebook/react/issues/14563#issuecomment-453184356</a>\nSo looks like there's no way around this except for keeping all the state in an external store</p>\n"}, {"comments": [{"owner": {"reputation": 102, "user_id": 9359053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf9707d4c2403bf8419cb00e3120492?s=128&d=identicon&r=PG", "display_name": "teevik", "link": "https://stackoverflow.com/users/9359053/teevik"}, "edited": false, "score": 0, "creation_date": 1559287301, "post_id": 56372434, "comment_id": 99379925, "body": "Yeah, I found out everything you do with hooks gets thrown away when suspending, so you need to keep any state in an external store"}], "tags": [], "owner": {"reputation": 1000, "user_id": 7620733, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-yUUYCvAxgik/AAAAAAAAAAI/AAAAAAAAABU/PxmuI8XsFh0/photo.jpg?sz=128", "display_name": "Hariharan L", "link": "https://stackoverflow.com/users/7620733/hariharan-l"}, "is_accepted": false, "score": 2, "last_activity_date": 1559195893, "creation_date": 1559195893, "answer_id": 56372434, "question_id": 54678618, "link": "https://stackoverflow.com/questions/54678618/react-suspended-component-doesnt-run-the-useeffect-hook/56372434#56372434", "title": "React: Suspended component doesn&#39;t run the useEffect hook", "body": "<p>The <code>useEffect</code> doesn't run because you are throwing a promise before the actual function returns, so the promise is never resolved.</p>\n\n<p>The problem is in the line</p>\n\n<p><code>if (!data) throw promsieResolver.promise;</code> </p>\n\n<p>Initial <code>data</code> is undefined and thus <code>!data = true</code>. It throws a promise and thus the function is never returned but short-circuited. Removing this line actually runs the <code>useEffect</code> hook</p>\n\n<p><strong>Solution 2:</strong>\nOr you could set an initial state for data other than <code>undefined</code> as below\n<code>const [data, setData] = useState('initial data');</code></p>\n"}], "owner": {"reputation": 102, "user_id": 9359053, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7cf9707d4c2403bf8419cb00e3120492?s=128&d=identicon&r=PG", "display_name": "teevik", "link": "https://stackoverflow.com/users/9359053/teevik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 410, "favorite_count": 0, "accepted_answer_id": 54679911, "answer_count": 2, "score": 1, "last_activity_date": 1559195893, "creation_date": 1550088488, "question_id": 54678618, "link": "https://stackoverflow.com/questions/54678618/react-suspended-component-doesnt-run-the-useeffect-hook", "title": "React: Suspended component doesn&#39;t run the useEffect hook", "body": "<p>currently trying out react hooks &amp; react suspense. I'm trying to make a hook <code>useApolloQuery</code> which would fetch some data and throw a promise to wait till the data loads.</p>\n\n<p>I'm putting the logic to fetch the data in a <code>useEffect</code>, but it seems like the effect never gets run if you instantly throw a promise in the component (and thus suspend it).</p>\n\n<p>Here's my code: (Or codesandbox link: <a href=\"https://codesandbox.io/s/x73pwj164q\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/x73pwj164q</a> )</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function createPromiseResolver() {\n  let resolve;\n  const promise = new Promise(newResolver =&gt; {\n    resolve = newResolver;\n  });\n\n  return { resolve, promise };\n}\n\nfunction useApolloQuery() {\n  const [data, setData] = useState();\n  const promsieResolver = createPromiseResolver();\n\n  console.log(\"this runs\");\n  useEffect(() =&gt; {\n    console.log(\"this doesn't run\");\n\n    const timeoutId = setTimeout(() =&gt; {\n      setData(\"Some fake data\");\n      promsieResolver.resolve();\n    }, 500);\n\n    return () =&gt; clearTimeout(timeoutId);\n  });\n\n  if (!data) throw promsieResolver.promise;\n\n  return data;\n}\n\nfunction App() {\n  const data = useApolloQuery();\n\n  return (\n    &lt;div className=\"App\"&gt;\n      &lt;h1&gt;Hello CodeSandbox&lt;/h1&gt;\n      &lt;h2&gt;{data}&lt;/h2&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n\n<p>So in that code only the first console.log runs, since the useEffect hook never runs</p>\n\n<p>Is suspense supposed to work like this? Any way to make it work?</p>\n"}, {"tags": ["javascript", "angular", "typescript", "ionic-framework", "ionic4"], "comments": [{"owner": {"reputation": 1178, "user_id": 2793683, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b0c2a34cfc412a982c6ea3d988c9336c?s=128&d=identicon&r=PG", "display_name": "dmoore1181", "link": "https://stackoverflow.com/users/2793683/dmoore1181"}, "edited": false, "score": 0, "creation_date": 1550088834, "post_id": 54678614, "comment_id": 96146280, "body": "I am curious, if you put a console.log(&#39;{CODE_LOCATION}&#39; + this.token) in both the constructor and the intercept function, does that return your token?"}, {"owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "reply_to_user": {"reputation": 1178, "user_id": 2793683, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/b0c2a34cfc412a982c6ea3d988c9336c?s=128&d=identicon&r=PG", "display_name": "dmoore1181", "link": "https://stackoverflow.com/users/2793683/dmoore1181"}, "edited": false, "score": 0, "creation_date": 1550088994, "post_id": 54678614, "comment_id": 96146351, "body": "@dmoore1181 It returns it for the constructor but it&#39;s undefined in the intercept function. I updated the question."}, {"owner": {"reputation": 592, "user_id": 8264405, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/80b18f65189e49abfdc98416f08ec990?s=128&d=identicon&r=PG&f=1", "display_name": "Mustafa Lokhandwala", "link": "https://stackoverflow.com/users/8264405/mustafa-lokhandwala"}, "edited": false, "score": 0, "creation_date": 1550126956, "post_id": 54678614, "comment_id": 96157510, "body": "I just simply suggest advanced http plugin use for all http requests.  <a href=\"https://ionicframework.com/docs/native/http/\" rel=\"nofollow noreferrer\">ionicframework.com/docs/native/http</a>"}], "answers": [{"comments": [{"owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "edited": false, "score": 0, "creation_date": 1550092066, "post_id": 54679191, "comment_id": 96147719, "body": "I get Object(...)(...).mergeMap is not a function and Property mergeMap does not exists on type Observable&lt;any&gt;"}, {"owner": {"reputation": 2835, "user_id": 3719922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KjMLK.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3719922/chris"}, "reply_to_user": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "edited": false, "score": 0, "creation_date": 1550151751, "post_id": 54679191, "comment_id": 96171045, "body": "@LucienDubois sorry that was for an older rxjs version. I updated the answer for rxjs 6. You have to use .pipe(mergeMap(...)) in this case"}], "tags": [], "owner": {"reputation": 2835, "user_id": 3719922, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/KjMLK.png?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/3719922/chris"}, "is_accepted": true, "score": 4, "last_activity_date": 1550151649, "last_edit_date": 1550151649, "creation_date": 1550090996, "answer_id": 54679191, "question_id": 54678614, "link": "https://stackoverflow.com/questions/54678614/how-to-get-the-bearer-auth-token-before-sending-the-request-using-httpintercepto/54679191#54679191", "title": "How to get the Bearer Auth token before sending the request using HttpInterceptor in Ionic 4", "body": "<p>Calls to the storage return a Promise and are therefore async. Get the token inside the intercept function. Since the intercept function wants an Observable, convert the storage call with RxJS:</p>\n\n<pre><code>import { from } from 'rxjs';\nimport { mergeMap } from \"rxjs/operators\";\n\nintercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n\n\n    return from(this.storage.get('User')).pipe(\n        mergeMap((val) =&gt; {\n            // clone and modify the request\n            request = request.clone({\n                setHeaders: {\n                    Authorization: val\n                }\n            });\n            [...more stuff you want]\n            return next.handle(request);\n        });\n     )\n}\n</code></pre>\n\n<p>I did not test this function but I hope you get the idea. Maybe add an if else statement and the token as local variable to not read it from the storage every call.</p>\n\n<pre><code>token:string;\nintercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n\n    if(!this.token)\n    return from(this.storage.get('User')).pipe(\n        mergeMap((val) =&gt; {\n            this.token = val\n            [... modify and return request headers like above]\n        })\n    )\n    else{ \n        [... use this.token for headers ]\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1400, "user_id": 3267535, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/QcOl2.jpg?s=128&g=1", "display_name": "Lucien Dubois", "link": "https://stackoverflow.com/users/3267535/lucien-dubois"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 525, "favorite_count": 1, "accepted_answer_id": 54679191, "answer_count": 1, "score": 1, "last_activity_date": 1550151649, "creation_date": 1550088469, "last_edit_date": 1550089029, "question_id": 54678614, "link": "https://stackoverflow.com/questions/54678614/how-to-get-the-bearer-auth-token-before-sending-the-request-using-httpintercepto", "title": "How to get the Bearer Auth token before sending the request using HttpInterceptor in Ionic 4", "body": "<p>I use Ionic 4 to create an app. I try to implement an HttpInterceptor to add the Bearer Authorization token to requests.</p>\n\n<p><strong>Problem</strong>: the request is sent before the token is read</p>\n\n<p>More details: </p>\n\n<ol>\n<li>I try to read the token from local storage</li>\n<li>The <em>console.log</em> below prints outs the token</li>\n</ol>\n\n<p>What is wrong ?</p>\n\n<pre><code>import {HttpRequest,HttpHandler,HttpEvent,HttpInterceptor,HttpResponse,HttpErrorResponse} from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Observable, throwError } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { Router } from '@angular/router';\nimport { Storage } from '@ionic/storage';\n\n@Injectable()\nexport class TokenInterceptor implements HttpInterceptor {\n\n    token:any;\n\n    constructor(private router: Router,private storage: Storage) {\n        this.storage.get('User').then((val) =&gt; {\n            this.token = val;\n            console.log(val); // Returns the token\n        });\n    }\n\n    intercept(request: HttpRequest&lt;any&gt;, next: HttpHandler): Observable&lt;HttpEvent&lt;any&gt;&gt; {\n\n      console.log(this.token); // Returns undefined\n      if (this.token) {\n        request = request.clone({\n          setHeaders: {\n            'Authorization': this.token\n          }\n        });\n      }\n\n      if (!request.headers.has('Content-Type')) {\n        request = request.clone({\n          setHeaders: {\n            'content-type': 'application/json'\n          }\n        });\n      }\n\n      request = request.clone({\n        headers: request.headers.set('Accept', 'application/json')\n      });\n\n      return next.handle(request).pipe(\n        map((event: HttpEvent&lt;any&gt;) =&gt; {\n          if (event instanceof HttpResponse) {\n            console.log('event---&gt;&gt;&gt;', event);\n          }\n          return event;\n        }),\n        catchError((error: HttpErrorResponse) =&gt; {\n          if (error.status === 401) {\n            if (error.error.success === false) {\n              // this.presentToast('Login failed');\n            } else {\n              this.router.navigate(['/']);\n            }\n          }\n          return throwError(error);\n        }));\n    }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "service-worker", "progressive-web-apps", "sw-precache"], "comments": [{"owner": {"reputation": 3042, "user_id": 8342742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EMVCJ.jpg?s=128&g=1", "display_name": "M\u03b1\u03c0\u03bcQ\u03bc\u03b1\u03c0k\u03b3V\u03c0.0", "link": "https://stackoverflow.com/users/8342742/m%ce%b1%cf%80%ce%bcq%ce%bc%ce%b1%cf%80k%ce%b3v%cf%80-0"}, "edited": false, "score": 0, "creation_date": 1550141084, "post_id": 54678610, "comment_id": 96164922, "body": "Have you checked the official documentation for <a href=\"https://developers.google.com/web/ilt/pwa/caching-files-with-service-worker#top_of_page\" rel=\"nofollow noreferrer\">Caching Files with Service Worker</a>?"}, {"owner": {"reputation": 667, "user_id": 8977748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cd9ae17d7b5a0c45312e1aaa5faf7fe?s=128&d=identicon&r=PG&f=1", "display_name": "OscarDev", "link": "https://stackoverflow.com/users/8977748/oscardev"}, "reply_to_user": {"reputation": 3042, "user_id": 8342742, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/EMVCJ.jpg?s=128&g=1", "display_name": "M\u03b1\u03c0\u03bcQ\u03bc\u03b1\u03c0k\u03b3V\u03c0.0", "link": "https://stackoverflow.com/users/8342742/m%ce%b1%cf%80%ce%bcq%ce%bc%ce%b1%cf%80k%ce%b3v%cf%80-0"}, "edited": false, "score": 0, "creation_date": 1550182131, "post_id": 54678610, "comment_id": 96186582, "body": "@M\u03b1\u03c0\u03bcQ\u03bc\u03b1\u03c0k\u03b3V\u03c0.0 Of course, but the plugin I am working with does not have to write the entire code of the caching form. Did you read and check the plugin I&#39;m using? <a href=\"https://github.com/GoogleChromeLabs/sw-precache\" rel=\"nofollow noreferrer\">github.com/GoogleChromeLabs/sw-precache</a>"}], "answers": [{"tags": [], "owner": {"reputation": 44839, "user_id": 385997, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ae069fa789b2adf500cf33d1cb680730?s=128&d=identicon&r=PG", "display_name": "Jeff Posnick", "link": "https://stackoverflow.com/users/385997/jeff-posnick"}, "is_accepted": false, "score": 0, "last_activity_date": 1550683713, "creation_date": 1550683713, "answer_id": 54792155, "question_id": 54678610, "link": "https://stackoverflow.com/questions/54678610/how-can-i-configure-cache-then-network-with-sw-precache/54792155#54792155", "title": "How can I configure Cache then network with SW Precache?", "body": "<p><code>handler: 'fastest'</code> will give you the behavior that you want. That corresponds to the <code>fastest</code> handler in <code>sw-toolbox</code>: <a href=\"https://googlechromelabs.github.io/sw-toolbox/api.html#toolboxfastest\" rel=\"nofollow noreferrer\">https://googlechromelabs.github.io/sw-toolbox/api.html#toolboxfastest</a></p>\n"}], "owner": {"reputation": 667, "user_id": 8977748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6cd9ae17d7b5a0c45312e1aaa5faf7fe?s=128&d=identicon&r=PG&f=1", "display_name": "OscarDev", "link": "https://stackoverflow.com/users/8977748/oscardev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550683713, "creation_date": 1550088430, "question_id": 54678610, "link": "https://stackoverflow.com/questions/54678610/how-can-i-configure-cache-then-network-with-sw-precache", "title": "How can I configure Cache then network with SW Precache?", "body": "<p>I have only found two options that accept this plugin that are cacheFirst and networkFirst but I can not find the option for Cache then network to get updates.</p>\n\n<pre><code>    { \n      urlPattern: /^https:\\/\\/mlm-s2-p\\.mlstatic\\.com/,\n      handler: 'cacheFirst',\n    options: {\n        cache: {\n            maxEntries: 1000,\n            name: 'mercadolibre-images-cache-s2c'\n          }\n      }\n    },\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 14263, "user_id": 1255873, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/dZChN.jpg?s=128&g=1", "display_name": "Abion47", "link": "https://stackoverflow.com/users/1255873/abion47"}, "edited": false, "score": 0, "creation_date": 1550088682, "post_id": 54678600, "comment_id": 96146206, "body": "A <code>&lt;p&gt;</code>&#39;s inner HTML will never be an empty string. It will always contain at least a newline character. (This might be browser-dependent.)"}], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 1, "last_activity_date": 1550088549, "creation_date": 1550088549, "answer_id": 54678631, "question_id": 54678600, "link": "https://stackoverflow.com/questions/54678600/how-do-i-loop-a-condition-that-checks-if-p-element-is-empty/54678631#54678631", "title": "How do i loop a condition that checks if p element is empty?", "body": "<p>You cannot break out of a <code>.forEach</code>, use a <code>for..of</code>:</p>\n\n<pre><code>for(const para of paras) {\n  if(para.innerHTML === '') {\n     para.innerHTML = partnumber;\n     break;\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 11019252, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-BrFlFrq1AvI/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNahy6k9c5UyTWru5OwaoAwSzW7Aw/mo/photo.jpg?sz=128", "display_name": "Shi", "link": "https://stackoverflow.com/users/11019252/shi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 26, "favorite_count": 0, "accepted_answer_id": 54678631, "answer_count": 1, "score": 0, "last_activity_date": 1550089299, "creation_date": 1550088386, "last_edit_date": 1550089299, "question_id": 54678600, "link": "https://stackoverflow.com/questions/54678600/how-do-i-loop-a-condition-that-checks-if-p-element-is-empty", "title": "How do i loop a condition that checks if p element is empty?", "body": "<p>I'm struggling on trying to loop my code.\nWhat i am trying to do is to check if p element is empty, if it is, then the variable \"part number\" will be inserted. If not, then repeatedly check all p element from machine 1 to 3, until an empty p element is found.</p>\n\n<p>Code below just checks if p element is empty and replaces with a variable if it is.</p>\n\n<p>More info is shown in the Flow Chart.\n<a href=\"https://i.stack.imgur.com/Acr6G.png\" rel=\"nofollow noreferrer\">Flow Chart</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let paras = Array.from(document.querySelectorAll('.working'));\r\nparas.forEach((para,n) =&gt; {\r\n    if (para.innerHTML === '') {\r\n       para.innerHTML = partnumber;\r\n    }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;p id=\"machine1\" class=\"working\"&gt;\r\n&lt;p id=\"machine2\" class=\"working\"&gt;\r\n&lt;p id=\"machine3\" class=\"working\"&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "object", "undefined", "cleartimeout"], "comments": [{"owner": {"reputation": 5522, "user_id": 4341456, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/AHKwe.jpg?s=128&g=1", "display_name": "Daniel", "link": "https://stackoverflow.com/users/4341456/daniel"}, "edited": false, "score": 0, "creation_date": 1550088399, "post_id": 54678536, "comment_id": 96146064, "body": "In the constructor, add <code>this.remove = this.remove.bind(this)</code>"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1550088439, "post_id": 54678536, "comment_id": 96146088, "body": "Or <code>this.elem.addEventListener(&#39;click&#39;, () =&gt; this.remove); </code>"}, {"owner": {"reputation": 11, "user_id": 9742947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa084151ca5f08a10ffb6af927a37b9e?s=128&d=identicon&r=PG&f=1", "display_name": "Isoware", "link": "https://stackoverflow.com/users/9742947/isoware"}, "edited": false, "score": 0, "creation_date": 1550089120, "post_id": 54678536, "comment_id": 96146414, "body": "None of these 2 solutions work :/. And by the way, I don&#39;t know if it really is a duplicated post but I can&#39;t find any answer for this"}, {"owner": {"reputation": 11, "user_id": 9742947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa084151ca5f08a10ffb6af927a37b9e?s=128&d=identicon&r=PG&f=1", "display_name": "Isoware", "link": "https://stackoverflow.com/users/9742947/isoware"}, "edited": false, "score": 0, "creation_date": 1550089412, "post_id": 54678536, "comment_id": 96146542, "body": "Okay nevermind, I went for the &quot;self&quot; solution in this topic: <a href=\"https://stackoverflow.com/questions/20279484/how-to-access-the-correct-this-inside-a-callback\" title=\"how to access the correct this inside a callback\">stackoverflow.com/questions/20279484/&hellip;</a> . Thanks !"}, {"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1550090528, "post_id": 54678536, "comment_id": 96147046, "body": "See <i>&quot;Common problem: Using object methods as callbacks/event handlers&quot;</i> in the accepted answer."}], "owner": {"reputation": 11, "user_id": 9742947, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa084151ca5f08a10ffb6af927a37b9e?s=128&d=identicon&r=PG&f=1", "display_name": "Isoware", "link": "https://stackoverflow.com/users/9742947/isoware"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 21, "favorite_count": 0, "closed_date": 1550088415, "answer_count": 0, "score": 0, "last_activity_date": 1550088189, "creation_date": 1550088189, "question_id": 54678536, "link": "https://stackoverflow.com/questions/54678536/how-to-clear-a-timeout-from-an-object-in-js", "closed_reason": "Duplicate", "title": "How to clear a timeout from an object in JS?", "body": "<p>I have a problem with my timeout, I declare them in an object and I can't clear it, and it just tells me that it is undefined when I try to log it in the console. Is there a special way to do that ?</p>\n\n<p>I've tried to declare it like this: \nthis.disapear = window.setTimeout(this.endgame, this.timer);\nBut it doesn't help.</p>\n\n<pre><code>constructor() {\n    this.elem.addEventListener('click', this.remove); \n    this.disappear = setTimeout(this.endgame, this.timer); \n}\n\nremove() {\n    clearTimeout(this.disappear); \n}\n</code></pre>\n\n<p>Here is the idea: I click on the element (it shows up it the navigator), the element disappears with its timeout. The element actually disappears, but the timeout is still there.</p>\n\n<p>Thanks for your time !</p>\n"}, {"tags": ["javascript", "arrays", "object"], "comments": [{"owner": {"reputation": 31533, "user_id": 2813224, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/602e78d7da7bd6353c8ee51a17826037?s=128&d=identicon&r=PG", "display_name": "zer00ne", "link": "https://stackoverflow.com/users/2813224/zer00ne"}, "edited": false, "score": 0, "creation_date": 1550092136, "post_id": 54678526, "comment_id": 96147745, "body": "All four <code>timerTask.statusTask</code> must be done? Or just groups of two?"}], "answers": [{"comments": [{"owner": {"reputation": 99, "user_id": 9653988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jane ", "link": "https://stackoverflow.com/users/9653988/jane"}, "edited": false, "score": 0, "creation_date": 1550088989, "post_id": 54678608, "comment_id": 96146348, "body": "Thanks for your comment, then my object has another object inside. I couldn&#39;t adjust the code you provided. Could you give me more idea about that? Thanks in advanced."}, {"owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "reply_to_user": {"reputation": 99, "user_id": 9653988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jane ", "link": "https://stackoverflow.com/users/9653988/jane"}, "edited": false, "score": 0, "creation_date": 1550089266, "post_id": 54678608, "comment_id": 96146481, "body": "Updated with an object inside another object"}, {"owner": {"reputation": 99, "user_id": 9653988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jane ", "link": "https://stackoverflow.com/users/9653988/jane"}, "edited": false, "score": 0, "creation_date": 1550089628, "post_id": 54678608, "comment_id": 96146634, "body": "I am sorry to bother you again, In my case, I need to update object.name once all address.number changed specific value for example 8022"}, {"owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "reply_to_user": {"reputation": 99, "user_id": 9653988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jane ", "link": "https://stackoverflow.com/users/9653988/jane"}, "edited": false, "score": 0, "creation_date": 1550090280, "post_id": 54678608, "comment_id": 96146942, "body": "sorry i didn&#39;t get what you want i ll delete my answer"}], "tags": [], "owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "is_accepted": false, "score": 1, "last_activity_date": 1550089244, "last_edit_date": 1550089244, "creation_date": 1550088420, "answer_id": 54678608, "question_id": 54678526, "link": "https://stackoverflow.com/questions/54678526/how-to-update-value-inside-object-in-object-in-javascript/54678608#54678608", "title": "How to update value inside object in object in javascript?", "body": "<p>this is  how you can update an object:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var object = {\r\n  \"name\": \"aziz\",\r\n  \"address\": {\r\n    \"ville\": \"MTL\",\r\n    \"street\": {\r\n      \"name\": \"Bonnier\",\r\n      \"number\": 8012\r\n    }\r\n  }\r\n}\r\n\r\n\r\nobject = { ...object,\r\n  address: { ...object.address,\r\n    street: {\r\n      ...object.address.street,\r\n      number: 9000\r\n    }\r\n  }\r\n}\r\n\r\nconsole.log(object);\r\n\r\nvar object2 = {\r\n  \"name\": \"aziz\",\r\n  \"address\": {\r\n    \"ville\": \"MTL\",\r\n    \"street\": {\r\n      \"name\": \"Bonnier\",\r\n      \"number\": 8012\r\n    }\r\n  }\r\n}\r\n\r\n\r\n/* 2 method */\r\nobject2.address.street.number = 10000;\r\n\r\nconsole.log(object2);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 99, "user_id": 9653988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jane ", "link": "https://stackoverflow.com/users/9653988/jane"}, "edited": false, "score": 1, "creation_date": 1550095612, "post_id": 54679284, "comment_id": 96149266, "body": "Thanks a lot. I think it is almost what I want. Then, is it possible to update the statusRec as &quot;done&quot;  when all statusTask are done. In the example, if one of the value is done the statusRec updated &quot;done&quot;. I would like to update once all statusTask are &quot;done&quot;.  I will try to update the value based on your code. Thanks a lot"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11042502"}, "reply_to_user": {"reputation": 99, "user_id": 9653988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jane ", "link": "https://stackoverflow.com/users/9653988/jane"}, "edited": false, "score": 1, "creation_date": 1550096456, "post_id": 54679284, "comment_id": 96149578, "body": "no problem happy to help , you can use the same filter method and to return the desired object and do some extra operations to reach your goal"}, {"owner": {"reputation": 99, "user_id": 9653988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jane ", "link": "https://stackoverflow.com/users/9653988/jane"}, "edited": false, "score": 1, "creation_date": 1550097952, "post_id": 54679284, "comment_id": 96150084, "body": "I am in lost while I tried to create the operation. Would you add the code if possible? Thanks in advanced.  I tried to do, but I cannot get the  statusTasks  of each object.   function isBelowThreshold(currentValue) {   return currentValue === &quot;done&quot;; }  var array1 =  [&quot;done&quot;,&quot;done&quot;] // get statusTasks   array.filter(data =&gt; {   data[&quot;timerTask&quot;].filter(result =&gt; {      var result1 = result.statusTask;          //if(result.statusTask === &quot;done&quot;){     if(array1.every(isBelowThreshold)){       return data.statusRec = &quot;Done&quot; ;     }   }); });     //console.log(array)"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11042502"}, "reply_to_user": {"reputation": 99, "user_id": 9653988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jane ", "link": "https://stackoverflow.com/users/9653988/jane"}, "edited": false, "score": 1, "creation_date": 1550101574, "post_id": 54679284, "comment_id": 96151193, "body": "@Jane i have updated my answer to answer your question"}, {"owner": {"reputation": 99, "user_id": 9653988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jane ", "link": "https://stackoverflow.com/users/9653988/jane"}, "edited": false, "score": 1, "creation_date": 1550103921, "post_id": 54679284, "comment_id": 96151870, "body": "Thanks a lot!!! This works perfectly. The code looks still difficult for me, however, I will try to understand. I appreciate your help. Regards, :)"}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11042502"}, "is_accepted": true, "score": 1, "last_activity_date": 1550101541, "last_edit_date": 1550101541, "creation_date": 1550091404, "answer_id": 54679284, "question_id": 54678526, "link": "https://stackoverflow.com/questions/54678526/how-to-update-value-inside-object-in-object-in-javascript/54679284#54679284", "title": "How to update value inside object in object in javascript?", "body": "<p>This is a good question actually , if i understood the question correctly , you're looking for if timerTask.statusTask has value of 'done' of both 2 objects it changes statusRec to 'done' of the same object so you can reach that approach by using filter array method in JavaScript here is an example: </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    let array = [\r\n  {\r\n    \"persistenceId\": 322,\r\n     \"persistenceId_string\": \"322\",\r\n     \"persistenceVersion\": 0,\r\n     \"persistenceVersion_string\": \"0\",\r\n     \"recommandation\": \"Recommandation  1\",\r\n     \"timerTask\": [\r\n        {\r\n          \"persistenceId\": 508,\r\n          \"persistenceId_string\": \"508\",\r\n          \"persistenceVersion\": 0,\r\n          \"persistenceVersion_string\": \"0\",\r\n          \"title\": \"Task1\",\r\n          \"startdate\": \"2019-02-13\",\r\n          \"enddate\": \"2019-02-13\",\r\n          \"statusTask\": \"decline\",\r\n          \"declineReason\": \"\"\r\n        },\r\n        {\r\n          \"persistenceId\": 511,\r\n          \"persistenceId_string\": \"508\",\r\n          \"persistenceVersion\": 0,\r\n          \"persistenceVersion_string\": \"0\",\r\n          \"title\": \"Task1\",\r\n          \"startdate\": \"2019-02-13\",\r\n          \"enddate\": \"2019-02-13\",\r\n          \"statusTask\": \"decline\",\r\n          \"declineReason\": \"\"\r\n        }\r\n      ],\r\n      \"statusRec\": \"In process\"\r\n    },\r\n    {\r\n      \"persistenceId\": 323,\r\n      \"persistenceId_string\": \"323\",\r\n      \"persistenceVersion\": 0,\r\n      \"persistenceVersion_string\": \"0\",\r\n      \"recommandation\": \"Recommandation 2\",\r\n      \"timerTask\": [\r\n        {\r\n          \"persistenceId\": 509,\r\n          \"persistenceId_string\": \"509\",\r\n          \"persistenceVersion\": 0,\r\n          \"persistenceVersion_string\": \"0\",\r\n          \"title\": \"Task2\",\r\n          \"startdate\": \"2019-02-13\",\r\n          \"enddate\": \"2019-03-02\",\r\n          \"statusTask\": \"decline\",\r\n          \"declineReason\": \"\"\r\n        },\r\n        {\r\n          \"persistenceId\": 509,\r\n          \"persistenceId_string\": \"509\",\r\n          \"persistenceVersion\": 0,\r\n          \"persistenceVersion_string\": \"0\",\r\n          \"title\": \"Task2\",\r\n          \"startdate\": \"2019-02-13\",\r\n          \"enddate\": \"2019-03-02\",\r\n          \"statusTask\": \"done\",\r\n          \"declineReason\": \"\"\r\n        }\r\n      ],\r\n      \"statusRec\": \"In process\"\r\n    }\r\n]\r\n\r\n\r\nfunction TheSameInAllObjects(status) {\r\n  if (!(status &amp;&amp; status.length)) return true; // If there is no status, or if it is empty, they are all the same, aren't they?\r\n  let compare = status[0].statusTask;\r\n  return status.every( item =&gt; item.statusTask === compare);\r\n}\r\n\r\narray.filter(data =&gt; {\r\n   let obj = {}\r\n   data['timerTask'].filter(result =&gt; {\r\n    if(result.statusTask === 'done'){\r\n      obj = data\r\n      if(TheSameInAllObjects(obj['timerTask']) === true){\r\n        return data.statusRec = 'done'\r\n      }\r\n    }\r\n  })\r\n})\r\n\r\nconsole.log(array)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>and you can check here for both has the same value of 'done'</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let array = [\r\n  {\r\n    \"persistenceId\": 322,\r\n     \"persistenceId_string\": \"322\",\r\n     \"persistenceVersion\": 0,\r\n     \"persistenceVersion_string\": \"0\",\r\n     \"recommandation\": \"Recommandation  1\",\r\n     \"timerTask\": [\r\n        {\r\n          \"persistenceId\": 508,\r\n          \"persistenceId_string\": \"508\",\r\n          \"persistenceVersion\": 0,\r\n          \"persistenceVersion_string\": \"0\",\r\n          \"title\": \"Task1\",\r\n          \"startdate\": \"2019-02-13\",\r\n          \"enddate\": \"2019-02-13\",\r\n          \"statusTask\": \"decline\",\r\n          \"declineReason\": \"\"\r\n        },\r\n        {\r\n          \"persistenceId\": 511,\r\n          \"persistenceId_string\": \"508\",\r\n          \"persistenceVersion\": 0,\r\n          \"persistenceVersion_string\": \"0\",\r\n          \"title\": \"Task1\",\r\n          \"startdate\": \"2019-02-13\",\r\n          \"enddate\": \"2019-02-13\",\r\n          \"statusTask\": \"decline\",\r\n          \"declineReason\": \"\"\r\n        }\r\n      ],\r\n      \"statusRec\": \"In process\"\r\n    },\r\n    {\r\n      \"persistenceId\": 323,\r\n      \"persistenceId_string\": \"323\",\r\n      \"persistenceVersion\": 0,\r\n      \"persistenceVersion_string\": \"0\",\r\n      \"recommandation\": \"Recommandation 2\",\r\n      \"timerTask\": [\r\n        {\r\n          \"persistenceId\": 509,\r\n          \"persistenceId_string\": \"509\",\r\n          \"persistenceVersion\": 0,\r\n          \"persistenceVersion_string\": \"0\",\r\n          \"title\": \"Task2\",\r\n          \"startdate\": \"2019-02-13\",\r\n          \"enddate\": \"2019-03-02\",\r\n          \"statusTask\": \"done\",\r\n          \"declineReason\": \"\"\r\n        },\r\n        {\r\n          \"persistenceId\": 509,\r\n          \"persistenceId_string\": \"509\",\r\n          \"persistenceVersion\": 0,\r\n          \"persistenceVersion_string\": \"0\",\r\n          \"title\": \"Task2\",\r\n          \"startdate\": \"2019-02-13\",\r\n          \"enddate\": \"2019-03-02\",\r\n          \"statusTask\": \"done\",\r\n          \"declineReason\": \"\"\r\n        }\r\n      ],\r\n      \"statusRec\": \"In process\"\r\n    }\r\n]\r\n\r\n\r\nfunction TheSameInAllObjects(status) {\r\n  if (!(status &amp;&amp; status.length)) return true; // If there is no status, or if it is empty, they are all the same, aren't they?\r\n  let compare = status[0].statusTask;\r\n  return status.every( item =&gt; item.statusTask === compare);\r\n}\r\n\r\narray.filter(data =&gt; {\r\n   let obj = {}\r\n   data['timerTask'].filter(result =&gt; {\r\n    if(result.statusTask === 'done'){\r\n      obj = data\r\n      if(TheSameInAllObjects(obj['timerTask']) === true){\r\n        return data.statusRec = 'done'\r\n      }\r\n    }\r\n  })\r\n})\r\n\r\nconsole.log(array)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>i have updated my answer to achieve your goal </p>\n"}], "owner": {"reputation": 99, "user_id": 9653988, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Jane ", "link": "https://stackoverflow.com/users/9653988/jane"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 103, "favorite_count": 0, "accepted_answer_id": 54679284, "answer_count": 2, "score": 0, "last_activity_date": 1591901252, "creation_date": 1550088154, "last_edit_date": 1591901252, "question_id": 54678526, "link": "https://stackoverflow.com/questions/54678526/how-to-update-value-inside-object-in-object-in-javascript", "title": "How to update value inside object in object in javascript?", "body": "<p>I have an Object with composition BDM.\nIt includes an object inside an object.</p>\n\n<p>I would like to update a value once the object has a specific string.</p>\n\n<p>I can update the Object with the same value, however, I couldn't get the dynamic value with child object.</p>\n\n<p>This is the Object I have.</p>\n\n<pre><code>    $data.timerObjJson; \n\n        [\n          {\n            \"persistenceId\": 322,\n             \"persistenceId_string\": \"322\",\n             \"persistenceVersion\": 0,\n             \"persistenceVersion_string\": \"0\",\n             \"recommandation\": \"Recommandation  1\",\n                     \"timerTask\": [\n                            {\n                              \"persistenceId\": 508,\n                              \"persistenceId_string\": \"508\",\n                              \"persistenceVersion\": 0,\n                              \"persistenceVersion_string\": \"0\",\n                              \"title\": \"Task1\",\n                              \"startdate\": \"2019-02-13\",\n                              \"enddate\": \"2019-02-13\",\n                              \"statusTask\": \"decline\",\n                              \"declineReason\": \"\"\n                            },\n                            {\n                              \"persistenceId\": 511,\n                              \"persistenceId_string\": \"508\",\n                              \"persistenceVersion\": 0,\n                              \"persistenceVersion_string\": \"0\",\n                              \"title\": \"Task1\",\n                              \"startdate\": \"2019-02-13\",\n                              \"enddate\": \"2019-02-13\",\n                              \"statusTask\": \"decline\",\n                              \"declineReason\": \"\"\n                            }\n                          ],\n                          \"statusRec\": \"In process\"\n                        },\n                        {\n                          \"persistenceId\": 323,\n                          \"persistenceId_string\": \"323\",\n                          \"persistenceVersion\": 0,\n                          \"persistenceVersion_string\": \"0\",\n                          \"recommandation\": \"Recommandation 2\",\n                          \"timerTask\": [\n                            {\n                              \"persistenceId\": 509,\n                              \"persistenceId_string\": \"509\",\n                              \"persistenceVersion\": 0,\n                              \"persistenceVersion_string\": \"0\",\n                              \"title\": \"Task2\",\n                              \"startdate\": \"2019-02-13\",\n                              \"enddate\": \"2019-03-02\",\n                              \"statusTask\": \"decline\",\n                              \"declineReason\": \"\"\n                            },\n                            {\n                              \"persistenceId\": 509,\n                              \"persistenceId_string\": \"509\",\n                              \"persistenceVersion\": 0,\n                              \"persistenceVersion_string\": \"0\",\n                              \"title\": \"Task2\",\n                              \"startdate\": \"2019-02-13\",\n                              \"enddate\": \"2019-03-02\",\n                              \"statusTask\": \"decline\",\n                              \"declineReason\": \"\"\n                            }\n                          ],\n                          \"statusRec\": \"In process\"\n                        }\n                      ] \n</code></pre>\n\n<p>This is what I tried to get return the <code>statusTask</code> and </p>\n\n<pre><code>    $data.getDone:\n    var obj = [];\n    for(var i in $data.timerObjJson){\n        for(var j in $data.timerObjJson[i].timerTask){\n\n            var thisObj = {};\n            thisObj = $data.timerObjJson[i].timerTask[j]; \n            obj.push(thisObj);\n        }\n    } \n\n    var objArray=[];\n            for (var i = 0; i &lt; obj.length; i++) {    \n             objArray.push(obj[i].statusTask); \n    }\n\n   function isBelowThreshold(currentValue) {\n      return currentValue == \"done\";\n   }\n   return objArray.every(isBelowThreshold)\n</code></pre>\n\n<p>And I tried to update the <code>statusRec</code> using by let as belows</p>\n\n<pre><code>      var data = $data.timerObjJson; \n      var done = $data.getDone; //true or false \n\n      let arr = data;\n\n      const status = \"In process\";\n      if (done == true){\n           arr.find(v =&gt; v.statusRec == status).statusRec = \"DONE\";\n       }\n      return data;\n</code></pre>\n\n<p>But what I need to update is each <code>statusRec</code> depends on <code>timerTask.statusTask</code>'s status.</p>\n\n<p>For example, once all <code>timerTask.statusTask</code> changed \"done\"\nthe <code>statusRec</code> should update to \"Done\".</p>\n"}, {"tags": ["javascript", "html", "vue.js"], "comments": [{"owner": {"reputation": 2946, "user_id": 2913306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9TWX.jpg?s=128&g=1", "display_name": "wahwahwah", "link": "https://stackoverflow.com/users/2913306/wahwahwah"}, "edited": false, "score": 1, "creation_date": 1550094244, "post_id": 54678519, "comment_id": 96148708, "body": "Would you please pare down your code to provide a <a href=\"https://stackoverflow.com/help/mcve\">MVCE</a>, that <i>just</i> illustrates the issue you&#39;re having? You&#39;ve said you are able to load/store images, audio, text... but not a hyperlink? Why not? Is there an error? Are you having issues dynamically generating the html for the hyperlink? Please be more specific."}, {"owner": {"reputation": 9, "user_id": 11058545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e5a5471c87b2948d8741db9e3345965?s=128&d=identicon&r=PG&f=1", "display_name": "jeanpegg", "link": "https://stackoverflow.com/users/11058545/jeanpegg"}, "reply_to_user": {"reputation": 2946, "user_id": 2913306, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/N9TWX.jpg?s=128&g=1", "display_name": "wahwahwah", "link": "https://stackoverflow.com/users/2913306/wahwahwah"}, "edited": false, "score": 0, "creation_date": 1550146672, "post_id": 54678519, "comment_id": 96167926, "body": "I have edited it to hopefully be more clear. I think I need a script to get the button link to follow the url from &quot;license_url&quot; for example  the &quot;License&quot; button on song one will take the user to Google, but the same button on song 2 will take the user to Gumroad."}], "answers": [{"tags": [], "owner": {"reputation": 1159, "user_id": 8383919, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aRJwN.png?s=128&g=1", "display_name": "Auskennfuchs", "link": "https://stackoverflow.com/users/8383919/auskennfuchs"}, "is_accepted": false, "score": 0, "last_activity_date": 1550145697, "creation_date": 1550145697, "answer_id": 54689963, "question_id": 54678519, "link": "https://stackoverflow.com/questions/54678519/how-to-store-links-inside-js-and-open-it-via-html-dynamically/54689963#54689963", "title": "How to store links inside JS and open it via html dynamically?", "body": "<p>I think it's easier to use a normal anchor-element instead of a button.\nSo just replace <code>button</code> with <code>&lt;a href={{song.song.license_url}}/&gt;</code> and it should work.</p>\n"}, {"tags": [], "owner": {"reputation": 433, "user_id": 10655640, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VUhiR.jpg?s=128&g=1", "display_name": "Ahm.", "link": "https://stackoverflow.com/users/10655640/ahm"}, "is_accepted": true, "score": 0, "last_activity_date": 1550146975, "last_edit_date": 1550146975, "creation_date": 1550146634, "answer_id": 54690218, "question_id": 54678519, "link": "https://stackoverflow.com/questions/54678519/how-to-store-links-inside-js-and-open-it-via-html-dynamically/54690218#54690218", "title": "How to store links inside JS and open it via html dynamically?", "body": "<p><a href=\"https://jsfiddle.net/6mc4szv7/\" rel=\"nofollow noreferrer\">JSFiddel Demo</a> </p>\n\n<p>You Just need to add to your <code>&lt;button&gt;</code> a click event and pass through it the <code>song.license_url</code> that you rendered from the <code>v-for</code> loop...like this</p>\n\n<p><code>&lt;button class=\"button_2\" @click='openLicense(song.license_url)'&gt;License&lt;/button&gt;</code></p>\n\n<p>and in your <code>&lt;script&gt;</code> </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>new Vue({\n  el: \"#app\",\n  data:{//your data is here\n  },\n  methods:{\n   //Pass the songs license url value \n    openLicense(e){\n      //will open the url into a new tab  \n      window.open(e)\n    }\n  }\n})\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 11058545, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6e5a5471c87b2948d8741db9e3345965?s=128&d=identicon&r=PG&f=1", "display_name": "jeanpegg", "link": "https://stackoverflow.com/users/11058545/jeanpegg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 118, "favorite_count": 0, "accepted_answer_id": 54690218, "answer_count": 2, "score": 0, "last_activity_date": 1550146975, "creation_date": 1550088119, "last_edit_date": 1550145748, "question_id": 54678519, "link": "https://stackoverflow.com/questions/54678519/how-to-store-links-inside-js-and-open-it-via-html-dynamically", "title": "How to store links inside JS and open it via html dynamically?", "body": "<p>Sorry, I am completely new to all of this...</p>\n\n<p>I am trying to create a music library for my own music. I have all of the song data in \"songs\" and I can load multiple tracks with audio, image, description name etc. What I can't work out is how to get a button to load for each track which will open a link from each of the \"songs\" (license_url) - </p>\n\n<p>This is what I've got in the div.\n&lt; button class=\"button_2\" @click='window.location.href = \"song.license_url\"'>License.....</p>\n\n<p>Below is the html, js files. Any help would be greatly appreciated!!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    songs: [\r\n\r\n\r\n\r\n      {\r\n        id: 7,\r\n        title: \"Song 1\",\r\n        artist: \"Apex Music PRS\",\r\n        description: \"Description Description Description Description Description Description Description Description Description \",\r\n        url:\r\n          \"./mp3/song1.mp3\",\r\n        cover_art_url:\r\n          \"https://www.bensound.com/bensound-img/november.jpg\",\r\n        license_url: \"https://google.com\"\r\n      },\r\n\r\n      {\r\n        id: 1,\r\n        title: \"Song 2\",\r\n        artist: \"Apex Music PRS\",\r\n        description: \"Description Description Description Description Description Description Description Description Description \",\r\n        url:\r\n          \"./mp3/song2.mp3\",\r\n        cover_art_url:\r\n          \"https://www.bensound.com/bensound-img/november.jpg\",\r\n        license_url: \"https://gumroad.com\"\r\n      },\r\n      {\r\n        id: 3,\r\n        title: \"Song 3\",\r\n        artist: \"Apex Music PRS\",\r\n        description: \"Description Description Description Description Description Description Description Description Description \",\r\n        url:\r\n          \"./mp3/song3.mp3\",\r\n        cover_art_url:\r\n          \"https://www.bensound.com/bensound-img/november.jpg\",\r\n        license_url: \"https://facebook.com\"\r\n      },\r\n\r\n      {\r\n        id: 6,\r\n        title: \"song 4\",\r\n        artist: \"Apex Music PRS\",\r\n        description: \"Description Description Description Description Description Description Description Description Description \",\r\n        url:\r\n          \"./mp3/song4.mp3\",\r\n        cover_art_url:\r\n          \"https://www.bensound.com/bensound-img/november.jpg\",\r\n        license_url: \"https://twitter.com\"\r\n      },\r\n      {\r\n        id: 5,\r\n        title: \"song5\",\r\n        artist: \"Apex Music PRS\",\r\n        description: \"Description Description Description Description Description Description Description Description Description \",\r\n        url:\r\n          \"./mp3/song5.mp3\",\r\n        cover_art_url:\r\n          \"https://www.bensound.com/bensound-img/november.jpg\",\r\n        license_url: \"https://google.com\"\r\n      },\r\n      {\r\n        id: 2,\r\n        title: \"song 6\",\r\n        artist: \"Apex Music PRS\",\r\n        description: \"Description Description Description Description Description Description Description Description Description \",\r\n        url:\r\n          \"./mp3/song6.mp3\",\r\n        cover_art_url:\r\n          \"https://www.bensound.com/bensound-img/november.jpg\",\r\n        license_url: \"https://google.com\"\r\n      },\r\n\r\n      {\r\n        id: 4,\r\n        title: \"song 7\",\r\n        artist: \"Apex Music PRS\",\r\n        description: \"Description Description Description Description Description Description Description Description Description \",\r\n        url:\r\n          \"./mp3/song7.mp3\",\r\n        cover_art_url:\r\n          \"https://www.bensound.com/bensound-img/november.jpg\",\r\n        license_url: \"https://google.com\"\r\n      },\r\n\r\n\r\n    ],</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>  &lt;div id=\"app\"&gt;\r\n\r\n  &lt;div class=\"container\"&gt;\r\n    &lt;div class='row'&gt;\r\n\r\n      &lt;template v-for='song in songs'&gt;\r\n         &lt;div class=\"col-4 col-md-3 col-lg-2 song\" &gt;\r\n\r\n           &lt;div class='wrapper'&gt;\r\n\r\n\r\n            &lt;div class=\"overlay-play text-center\" v-if=\"isPlaying &amp;&amp; (currentSong.id === song.id )\" @click='pause'&gt;\r\n               &lt;i class=\"icon ion-ios-pause\"&gt;&lt;/i&gt;\r\n           &lt;/div&gt;\r\n\r\n            &lt;div class=\"overlay-play text-center\" @click='play(song)'v-else&gt;\r\n\r\n              &lt;i class=\"icon ion-ios-play\"&gt;&lt;/i&gt;\r\n\r\n\r\n           &lt;/div&gt;\r\n\r\n              &lt;img :src=\"song.cover_art_url\" alt=\"\" class='img-fluid rounded'&gt;\r\n\r\n\r\n           &lt;/div&gt;\r\n\r\n           &lt;button class=\"button_2\" @click='window.location.href = \"song.license_url\"'&gt;License&lt;/button&gt;\r\n           &lt;h1 class='song-title mt-2'&gt;{{song.title}}&lt;/h1&gt;\r\n           &lt;p class='song-artiste' &gt;{{song.artist}}&lt;/p&gt;\r\n           &lt;p class=\"song-description\" &gt;{{song.description}}&lt;/p&gt;\r\n\r\n\r\n         &lt;/div&gt;\r\n\r\n       &lt;/template&gt;\r\n\r\n    &lt;/div&gt;\r\n\r\n  &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "express", "express-validator", "validator.js"], "answers": [{"tags": [], "owner": {"reputation": 2173, "user_id": 6827918, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OiHTl.jpg?s=128&g=1", "display_name": "dimitris tseggenes", "link": "https://stackoverflow.com/users/6827918/dimitris-tseggenes"}, "is_accepted": false, "score": 0, "last_activity_date": 1554646577, "creation_date": 1554646577, "answer_id": 55559908, "question_id": 54678499, "link": "https://stackoverflow.com/questions/54678499/express-validator-isafter-is-always-false/55559908#55559908", "title": "express-validator isAfter is always false", "body": "<p>Here is a simple example:<br>\nDefine <code>startDate</code>,  for example </p>\n\n<pre><code>var startDate = new Date(2019, 11, 22); // or var startDate = new Date();\n</code></pre>\n\n<p>Then you can check the dates you want </p>\n\n<pre><code>check('endDate').isAfter(new Date(startDate).toDateString()).withMessage('End date of lab must be valid and after start date')\n</code></pre>\n\n<p><br>\nIf <code>startDate</code> is an input field too, you can use a custom validator:</p>\n\n<pre><code>check('endDate').custom((value, { req }) =&gt; {\n    if(new Date(value) &lt;= new Date(req.body.startDate)) {\n        throw new Error ('End date of lab must be valid and after start date');\n    }\n    return true;\n})\n</code></pre>\n"}], "owner": {"reputation": 353, "user_id": 5974603, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e389ca3415dbede93870b458093217fa?s=128&d=identicon&r=PG&f=1", "display_name": "DreamsInHD", "link": "https://stackoverflow.com/users/5974603/dreamsinhd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 834, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1554646577, "creation_date": 1550088058, "last_edit_date": 1550088884, "question_id": 54678499, "link": "https://stackoverflow.com/questions/54678499/express-validator-isafter-is-always-false", "title": "express-validator isAfter is always false", "body": "<p>I'm trying to validate that a certain endDate is after a startDate. I've tried everything I found and could think of but nothing works. Some examples of what I've tried:</p>\n\n<pre><code>check('endDate').isAfter(new Date('startDate')).withMessage('End date of lab must be valid and after start date')\ncheck('endDate').isAfter(new Date('startDate').toDateString()).withMessage('End date of lab must be valid and after start date')\ncheck('endDate').isAfter('startDate').withMessage('End date of lab must be valid and after start date')\ncheck('endDate').isAfter(new Date('' + 'startDate').toDateString()).withMessage('End date of lab must be valid and after start date')\n</code></pre>\n\n<p>The docs say that isAfter() expects a string.</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 10398, "user_id": 4398966, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Md0LP.jpg?s=128&g=1", "display_name": "DCR", "link": "https://stackoverflow.com/users/4398966/dcr"}, "is_accepted": false, "score": 1, "last_activity_date": 1550094653, "last_edit_date": 1550094653, "creation_date": 1550094311, "answer_id": 54679936, "question_id": 54678480, "link": "https://stackoverflow.com/questions/54678480/how-write-a-specific-format-of-todays-day-in-external-js/54679936#54679936", "title": "how write a specific format of todays day in external JS", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function formatDate(date) {\r\n  var monthNames = [\r\n    \"January\", \"February\", \"March\",\r\n    \"April\", \"May\", \"June\", \"July\",\r\n    \"August\", \"September\", \"October\",\r\n    \"November\", \"December\"\r\n  ];\r\n  \r\n  var dayofweek=[\r\n     \"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\r\n     \"Thursday\",\"Friday\",\"Saturday\"];\r\n\r\n  var day = date.getDate();  \r\n  var monthIndex = date.getMonth();\r\n  var year = date.getFullYear();  \r\n  var dowIdx = date.getDay();\r\n \r\n  return( dayofweek[dowIdx] + ', ' + monthNames[monthIndex] + ' ' +day + \" \" + year);\r\n}\r\n\r\nconsole.log(formatDate(new Date()));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1314, "user_id": 4111862, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-cOlXPBpekeM/AAAAAAAAAAI/AAAAAAAAANw/1umku9E38X4/photo.jpg?sz=128", "display_name": "seantunwin", "link": "https://stackoverflow.com/users/4111862/seantunwin"}, "is_accepted": false, "score": 0, "last_activity_date": 1550096272, "creation_date": 1550096272, "answer_id": 54680326, "question_id": 54678480, "link": "https://stackoverflow.com/questions/54678480/how-write-a-specific-format-of-todays-day-in-external-js/54680326#54680326", "title": "how write a specific format of todays day in external JS", "body": "<p>This solution uses <code>Intl.DateTimeFormat()</code> so that we can utilize the <code>FormatToParts()</code> function then apply a custom <code>map()</code> then finally <code>reduce()</code> to get the desired output.</p>\n\n<p>Within the <code>map()</code> function we replace the value of the <code>literal</code> after the day value to remove the comma (there by default).</p>\n\n<p><em>References at MDN:</em></p>\n\n<ul>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat\" rel=\"nofollow noreferrer\">DateTimeFormat</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleDateString#Parameters\" rel=\"nofollow noreferrer\">Date Format Options</a></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl#locales_argument\" rel=\"nofollow noreferrer\">Locales Argument</a> -- <em>We are using <code>undefined</code> in order to use the user's default</em></li>\n<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/DateTimeFormat/formatToParts\" rel=\"nofollow noreferrer\">FormatToParts</a></li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const d = new Date();\r\n\r\nconst formatOptions = {\r\n    weekday: 'long',\r\n    month: 'long',\r\n    day: 'numeric',\r\n    year: 'numeric',\r\n    hour12: true\r\n};\r\n\r\n// Using Intl.DateTimeFormat so we have access to\r\n//     formatToParts function which produces\r\n//     an Array of objects containing the formatted date in parts\r\nconst dateFormat = new Intl.DateTimeFormat(undefined, formatOptions);\r\n\r\n// Keep track of 'literal' key counts (`literal` is the separator)\r\nlet separatorIndex = 0;\r\n\r\n// Where the magic happens using map() and reduce()\r\nconst dateString = dateFormat.formatToParts(d).map(({type, value}) =&gt; {\r\n  switch (type) {\r\n    case 'literal' :\r\n      separatorIndex++;\r\n      \r\n      switch (separatorIndex) {\r\n        case 3 : // Day separator\r\n          return ' ';\r\n        default: return value;\r\n      }\r\n      break;\r\n  \tdefault: return value;\r\n  }\r\n})\r\n.reduce((string, part) =&gt; {\r\n  return string.concat(part)\r\n});\r\n\r\n// Not part of answer; only for output result\r\ndocument.write(dateString);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 11058602, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-304MOGwTsW0/AAAAAAAAAAI/AAAAAAAAACQ/URcUa0050MY/photo.jpg?sz=128", "display_name": "Chelsi Jenson", "link": "https://stackoverflow.com/users/11058602/chelsi-jenson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "answer_count": 2, "score": -4, "last_activity_date": 1550104948, "creation_date": 1550087977, "last_edit_date": 1550104948, "question_id": 54678480, "link": "https://stackoverflow.com/questions/54678480/how-write-a-specific-format-of-todays-day-in-external-js", "title": "how write a specific format of todays day in external JS", "body": "<p>How do I write a a date like this Wednesday, February 13 2019 in a external java script file?</p>\n"}, {"tags": ["javascript", "node.js", "indexing", "amazon-dynamodb"], "answers": [{"comments": [{"owner": {"reputation": 13490, "user_id": 2561452, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b4607e40ce354aa670c9a924845529ef?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Oschler", "link": "https://stackoverflow.com/users/2561452/robert-oschler"}, "edited": false, "score": 0, "creation_date": 1550092008, "post_id": 54678750, "comment_id": 96147697, "body": "I used this guide when building my code: <a href=\"https://www.dynamodbguide.com/local-secondary-indexes/\" rel=\"nofollow noreferrer\">dynamodbguide.com/local-secondary-indexes</a> . That example has a hash key/sort key for the main KeySchema, and a hash key/sort key for the LSI.  Or am I not understanding the terminology?  I want the main key for direct access to a unique quiz, but the secondary index so I can find out all the available quizzes for a particular &quot;author_id/quiz_name/language_code&quot; triple.  In other words, given a unique quiz name authored by a particular user, scan for all the quizzes available in the different language versions available."}, {"owner": {"reputation": 5511, "user_id": 5563569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77f4ceeaf2fba395d7c1e2029ef1a901?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Pope", "link": "https://stackoverflow.com/users/5563569/matthew-pope"}, "edited": false, "score": 1, "creation_date": 1550093432, "post_id": 54678750, "comment_id": 96148329, "body": "You need to create an attribute in your data model which is a single string containing your tuple. Ie. create a new attribute where the data looks like this: \u201cauthor12335/mycoolquiz/en-us\u201d. You can use the <code>begins_with</code> operation to query for a specific author or author/quiz."}, {"owner": {"reputation": 13490, "user_id": 2561452, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b4607e40ce354aa670c9a924845529ef?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Oschler", "link": "https://stackoverflow.com/users/2561452/robert-oschler"}, "reply_to_user": {"reputation": 5511, "user_id": 5563569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77f4ceeaf2fba395d7c1e2029ef1a901?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Pope", "link": "https://stackoverflow.com/users/5563569/matthew-pope"}, "edited": false, "score": 0, "creation_date": 1550096752, "post_id": 54678750, "comment_id": 96149694, "body": "@MatthewPope I get the gist of what you are saying but not how to code it.  Could you promote your comment to an answer with a Javascript code snippet showing the table definition?"}], "tags": [], "owner": {"reputation": 16176, "user_id": 2933177, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/LRuRW.jpg?s=128&g=1", "display_name": "Charles", "link": "https://stackoverflow.com/users/2933177/charles"}, "is_accepted": false, "score": 1, "last_activity_date": 1550089076, "creation_date": 1550089076, "answer_id": 54678750, "question_id": 54678479, "link": "https://stackoverflow.com/questions/54678479/getting-key-schema-too-big-error-with-localsecondaryindexes-wth-dynamodb/54678750#54678750", "title": "Getting &quot;key schema too big&quot; error with LocalSecondaryIndexes wth DynamoDB?", "body": "<p>You can only have 1 hash key and 1 sort key...per table,  local secondary indexes (LSI), or global secondary indexes (GSI).</p>\n\n<p>You either need to concatenate quiz_name, language_code, and quiz_id into a single string, or create multiple LSIs.</p>\n\n<p>The choice depends on how you need to query the LSI.</p>\n"}, {"tags": [], "owner": {"reputation": 5511, "user_id": 5563569, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/77f4ceeaf2fba395d7c1e2029ef1a901?s=128&d=identicon&r=PG&f=1", "display_name": "Matthew Pope", "link": "https://stackoverflow.com/users/5563569/matthew-pope"}, "is_accepted": true, "score": 2, "last_activity_date": 1550098286, "creation_date": 1550098286, "answer_id": 54680671, "question_id": 54678479, "link": "https://stackoverflow.com/questions/54678479/getting-key-schema-too-big-error-with-localsecondaryindexes-wth-dynamodb/54680671#54680671", "title": "Getting &quot;key schema too big&quot; error with LocalSecondaryIndexes wth DynamoDB?", "body": "<p>Each table/index must have 1 hash key and 0 or 1 range keys. If you need to query using multiple attributes, you can create multiple indexes or, if the data is hierarchical as yours is, you can combine multiple pieces of data into your sort key. (See this <a href=\"https://aws.amazon.com/blogs/database/using-sort-keys-to-organize-data-in-amazon-dynamodb/\" rel=\"nofollow noreferrer\">AWS blog post</a> for an official example. See also the <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/bp-sort-keys.html\" rel=\"nofollow noreferrer\">Best Practices for Using Sort Keys to Organize Data</a>.)</p>\n\n<h2>How do I create the table?</h2>\n\n<p>You can create the index you need like this:</p>\n\n<pre><code>// Create the quizzes table in DynamoDB.\nvar AWS = require('aws-sdk');\n\nAWS.config.update({\n  region: process.env.AWS_REGION,\n  endpoint: process.env.AWS_ENDPOINT\n});\n\nvar dynamodb = new AWS.DynamoDB();\n\nvar params = {\n    TableName : \"Quizzes\",\n    KeySchema: [\n        { AttributeName: \"author_id\", KeyType: \"HASH\"},  //Partition key\n        { AttributeName: \"quiz_id\", KeyType: \"RANGE\" }  //Sort key\n    ],\n    // Secondary key allows us to get all the different versions of a\n    //  a particular quiz, referenced by quiz name, for all the available\n    //  languages the quiz supports.\n    LocalSecondaryIndexes: [\n        {\n            IndexName: \"ForeignLanguageSupportIndex\",\n            KeySchema: [\n                { AttributeName: \"author_id\", KeyType: \"HASH\"},  //Partition key\n                { AttributeName: \"quiz_name_language\", KeyType: \"RANGE\" },  //Sort key\n\n            ],\n            Projection: {\n                ProjectionType: \"ALL\"\n            }\n        }\n    ],\n    AttributeDefinitions: [\n        { AttributeName: \"author_id\", AttributeType: \"S\" },\n        { AttributeName: \"quiz_name_language\", AttributeType: \"S\" },\n        { AttributeName: \"quiz_id\", AttributeType: \"S\" }\n    ],\n    // Using on-demand provisioning (pay as you go, no pre-allocation).\n    BillingMode: \"PAY_PER_REQUEST\"\n};\n\ndynamodb.createTable(params, function(err, data) {\n    if (err) {\n        console.error(\"Unable to create table. Error JSON:\", JSON.stringify(err, null, 2));\n    } else {\n        console.log(\"Created table. Table description JSON:\", JSON.stringify(data, null, 2));\n    }\n});\n</code></pre>\n\n<h2>So what does my data look like?</h2>\n\n<p>Your object that you read/write would look something like this:</p>\n\n<pre><code>{\n    author_id: \"author1234\",\n    quiz_name: \"DynamoDBExperienceSurvey\",\n    language_code: \"en-us\",\n    quiz_name_language: \"DynamoDBExperienceSurvey/en-us\",\n    quiz_id: \"55dc0736-2fdf-11e9-b210-d663bd873d93\",\n    quiz_data: {\n        ...\n    }\n}\n</code></pre>\n\n<h2>How do I perform my queries?</h2>\n\n<p>Here are the <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/Query.html#Query.KeyConditionExpressions\" rel=\"nofollow noreferrer\">key condition expressions</a> to get the data you need.</p>\n\n<p>To get all surveys by a certain author, you can query your table or the LSI using only the hash key.</p>\n\n<pre><code>author_id = \"theAuthorId\" \n</code></pre>\n\n<p>To get all the language variants of a quiz based on the name, your key condition would be</p>\n\n<pre><code>author_id = \"theAuthorId\" AND begins_with(quiz_name_language, \"theQuizName/\")\n</code></pre>\n\n<p>In this case, it's important that you include the <code>/</code> (or whatever delimiter you use) at the end of the quiz name, or else \"theQuizName\" will also return results for \"theQuizName2\", \"theQuizName3\", etc.</p>\n\n<p>Bonus: you can also query for all of the regionalized variants of a specific language by using the first part of the language code.</p>\n\n<pre><code>author_id = \"theAuthorId\" AND begins_with(quiz_name_language, \"theQuizName/en-\")\n</code></pre>\n"}], "owner": {"reputation": 13490, "user_id": 2561452, "user_type": "registered", "accept_rate": 63, "profile_image": "https://www.gravatar.com/avatar/b4607e40ce354aa670c9a924845529ef?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Oschler", "link": "https://stackoverflow.com/users/2561452/robert-oschler"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2331, "favorite_count": 0, "accepted_answer_id": 54680671, "answer_count": 2, "score": 0, "last_activity_date": 1550098286, "creation_date": 1550087975, "question_id": 54678479, "link": "https://stackoverflow.com/questions/54678479/getting-key-schema-too-big-error-with-localsecondaryindexes-wth-dynamodb", "title": "Getting &quot;key schema too big&quot; error with LocalSecondaryIndexes wth DynamoDB?", "body": "<p>I am trying to create a DynamoDB table using the Node.js script shown below.  If I remove the <em>LocalSecondaryIndexes</em> block and delete the two attributes definitions that are no longer necessary after that removal, the code works fine and creates the table successfully.  But with that block as shown in the code below, I get the following error back from DynamoDB:</p>\n\n<pre><code>Unable to create table. Error JSON: {\n  \"message\": \"Key Schema too big.  Key Schema must at most consist of the hash and range key of a table\",\n  \"code\": \"ValidationException\",\n  \"time\": \"2019-02-13T19:45:34.482Z\",\n  \"statusCode\": 400,\n  \"retryable\": false,\n  \"retryDelay\": 29.475438988642534\n}\n</code></pre>\n\n<p><strong>How can I fix this problem?</strong></p>\n\n<p>Here's the code:</p>\n\n<pre><code>// Create the quizzes table in DynamoDB.\nvar AWS = require('aws-sdk');\n\nAWS.config.update({\n  region: process.env.AWS_REGION,\n  endpoint: process.env.AWS_ENDPOINT\n});\n\nvar dynamodb = new AWS.DynamoDB();\n\nvar params = {\n    TableName : \"Quizzes\",\n    KeySchema: [\n        { AttributeName: \"author_id\", KeyType: \"HASH\"},  //Partition key\n        { AttributeName: \"quiz_id\", KeyType: \"RANGE\" }  //Sort key\n    ],\n    // Secondary key allows us to get all the different versions of a\n    //  a particular quiz, referenced by quiz name, for all the available\n    //  languages the quiz supports.\n    LocalSecondaryIndexes: [\n        {\n            IndexName: \"ForeignLanguageSupportIndex\",\n            KeySchema: [\n                { AttributeName: \"author_id\", KeyType: \"HASH\"},  //Partition key\n                { AttributeName: \"quiz_name\", KeyType: \"RANGE\" },  //Sort key\n                { AttributeName: \"language_code\", KeyType: \"RANGE\" },  //Sort key\n                { AttributeName: \"quiz_id\", KeyType: \"RANGE\" }  //Sort key\n            ],\n            Projection: {\n                ProjectionType: \"ALL\"\n            }\n        }\n    ],\n    AttributeDefinitions: [\n        { AttributeName: \"author_id\", AttributeType: \"S\" },\n        { AttributeName: \"quiz_name\", AttributeType: \"S\" },\n        { AttributeName: \"language_code\", AttributeType: \"S\" },\n        { AttributeName: \"quiz_id\", AttributeType: \"S\" }\n    ],\n    // Using on-demand provisioning (pay as you go, no pre-allocation).\n    BillingMode: \"PAY_PER_REQUEST\"\n};\n\ndynamodb.createTable(params, function(err, data) {\n    if (err) {\n        console.error(\"Unable to create table. Error JSON:\", JSON.stringify(err, null, 2));\n    } else {\n        console.log(\"Created table. Table description JSON:\", JSON.stringify(data, null, 2));\n    }\n});\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "bootstrap-modal"], "comments": [{"owner": {"reputation": 833, "user_id": 4178613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/83nz0.jpg?s=128&g=1", "display_name": "tomrlh", "link": "https://stackoverflow.com/users/4178613/tomrlh"}, "edited": false, "score": 1, "creation_date": 1550088190, "post_id": 54678462, "comment_id": 96145978, "body": "Can you show your Login component? But anyways, your Login component is not listening to <code>show</code> property."}, {"owner": {"reputation": 21589, "user_id": 4875631, "user_type": "registered", "accept_rate": 74, "profile_image": "https://i.stack.imgur.com/fGuXb.png?s=128&g=1", "display_name": "Goodbye StackExchange", "link": "https://stackoverflow.com/users/4875631/goodbye-stackexchange"}, "edited": false, "score": 0, "creation_date": 1550088198, "post_id": 54678462, "comment_id": 96145981, "body": "You don&#39;t actually do anything with <code>this.state.show</code>? You should add a conditional statement, or better yet, hide the modal from the parent component. See: <a href=\"https://www.npmjs.com/package/react-modal\" rel=\"nofollow noreferrer\">npmjs.com/package/react-modal</a>"}], "answers": [{"tags": [], "owner": {"reputation": 833, "user_id": 4178613, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/83nz0.jpg?s=128&g=1", "display_name": "tomrlh", "link": "https://stackoverflow.com/users/4178613/tomrlh"}, "is_accepted": false, "score": 0, "last_activity_date": 1550088446, "creation_date": 1550088446, "answer_id": 54678612, "question_id": 54678462, "link": "https://stackoverflow.com/questions/54678462/how-to-display-modal-component-on-page-load/54678612#54678612", "title": "How to display Modal component on page load?", "body": "<p>You can use something like:</p>\n\n<pre><code>render() {\n    return (\n        &lt;div className=\"modal\"&gt;\n            &lt;section className=\"modal-main\"&gt;\n                {this.state.show &amp;&amp;\n                    &lt;Login username={this.props.username} email={this.props.email} password={this.props.password} /&gt;\n                }\n                &lt;button onClick={this.hideModal}&gt;close&lt;/button&gt;\n            &lt;/section&gt;\n        &lt;/div&gt;\n    );\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 10377873, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c3b19381eaa0e7d7db06d65cd1ef24ff?s=128&d=identicon&r=PG&f=1", "display_name": "Calum R", "link": "https://stackoverflow.com/users/10377873/calum-r"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1121, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1550094039, "creation_date": 1550087911, "question_id": 54678462, "link": "https://stackoverflow.com/questions/54678462/how-to-display-modal-component-on-page-load", "title": "How to display Modal component on page load?", "body": "<p>I'm making an HTML5 game page and wanted to have my login form be a modal when the user loads the page. I have set the state to true and tried moving the state to app.js but neither works</p>\n\n<pre><code>export default class Modal extends Component {\n  state = { show: true };\n\n  showModal = () =&gt; {\n    this.setState({ show: true });\n  };\n\n  hideModal = () =&gt; {\n    this.setState({ show: false });\n  };\n\n  render() {\n    return (\n      &lt;div className=\"modal\"&gt;\n        &lt;section className=\"modal-main\"&gt;\n          &lt;Login username={this.props.username} email={this.props.email} password={this.props.password} /&gt;\n          &lt;button onClick={this.hideModal}&gt;close&lt;/button&gt;\n        &lt;/section&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>I have the modal imported into app.js but it still is not loading.</p>\n"}]