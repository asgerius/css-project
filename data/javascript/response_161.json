[{"tags": ["javascript", "reactjs", "redux", "react-redux"], "answers": [{"tags": [], "owner": {"reputation": 4774, "user_id": 1514572, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8e44332313cc7335e98748739977ea5d?s=128&d=identicon&r=PG", "display_name": "monners", "link": "https://stackoverflow.com/users/1514572/monners"}, "is_accepted": false, "score": 0, "last_activity_date": 1518050268, "last_edit_date": 1518050268, "creation_date": 1518049948, "answer_id": 48675606, "question_id": 48675297, "link": "https://stackoverflow.com/questions/48675297/redux-is-using-getstate-not-elegant-or-inefficient/48675606#48675606", "title": "Redux - Is using getState not elegant or inefficient?", "body": "<p>I'd strongly argue for example #1.</p>\n\n<p>This function is pure, descriptive, and doesn't rely on outside knowledge.  Assuming you've already got access to state, it's almost <em>always</em> better to derive the values you're after rather than directly requesting state.</p>\n\n<p>If that's not possible, then factor out the data retrieval to a second function, then pass your values into the first.  That way you've got a clear separation of concerns, your methods are easy to understand, you're not relying on side-effects (the presence of state values), and both methods should be easily testable.</p>\n\n<p>Hell, you could go one further and refactor function 1 to be a generic utility for comparing/combining the prices of <em>whatever</em>, not just Apples and Juice.</p>\n\n<pre><code>const stateObject = getState() // At top of whatever scope\n\n// Generic, no side-effects\nfunction processPrice (x, y) {\n  return x * y; // Whatever processing\n}\n\n// Specific, injected dependency on state\nfunction getAppleJuicePrice (state) {\n  const { apples, juice } = state;\n  return processPrice(apples, juice);\n}\n\n// Explicit value assignment\nconst appleJuicePrice = getAppleJuicePrice(stateObject)\n</code></pre>\n\n<p>Just a quick comment on store architecture: Always aim to keep it as simple, flat, and data-related as possible.  Avoid compromising the data structure of your store simply for convenience of value computation.  Anything you can derive locally (and easily) you should do so.  The store isn't the place for complex value mutations.</p>\n\n<p>(*preemptive <em>this is not a hard rule, just a guideline</em>)</p>\n"}], "owner": {"reputation": 633, "user_id": 6540869, "user_type": "registered", "accept_rate": 33, "profile_image": "https://graph.facebook.com/1041194359305348/picture?type=large", "display_name": "Oskar Wo\u017aniak", "link": "https://stackoverflow.com/users/6540869/oskar-wo%c5%baniak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 61, "favorite_count": 1, "answer_count": 1, "score": 3, "last_activity_date": 1518050268, "creation_date": 1518047788, "last_edit_date": 1518048582, "question_id": 48675297, "link": "https://stackoverflow.com/questions/48675297/redux-is-using-getstate-not-elegant-or-inefficient", "title": "Redux - Is using getState not elegant or inefficient?", "body": "<p>Lets say I have a lot of entities in global store</p>\n\n<ul>\n<li>Apples</li>\n<li>Shops</li>\n<li>Juices</li>\n</ul>\n\n<p>If I would like to have function getAppleJuicePrice, I can do it in 2-3 ways</p>\n\n<ol>\n<li><p>Via parameters</p>\n\n<pre><code>function getAppleJuicePrice(apples, juices) {\n    return apples * juices; // Some computing\n}\n</code></pre></li>\n<li><p>Via getState, no parameters</p>\n\n<pre><code>function getAppleJuicePrice() {\n    return (dispatch, getState) =&gt; {\n        const {apples, juices} = getState();\n\n        return apples * juices; // Some computing\n    }\n}\n</code></pre></li>\n<li><p>Via getState and parameters</p>\n\n<pre><code>function getAppleJuicePrice(applesParam, juicesParam){\n    return (dispatch, getState) =&gt; {\n        const apples = applesParam || getState().apples;\n        const juices = juicesParam || getState().juices;\n\n        return apples * juices; // Some computing\n    }\n}\n</code></pre></li>\n</ol>\n\n<p>*In case 2,3 I need to dispatch the function</p>\n\n<p>Could you please give me your advise about</p>\n\n<p>A) Functions 1,2,3 - Is it ok to do it in this way? Or some of them are better?</p>\n\n<p>B) Architecture (I mean about fact that we are having a lot entities in the global store so we can even create functions which depend on them)</p>\n\n\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 3967, "user_id": 934966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qYv6e.jpg?s=128&g=1", "display_name": "Jonnix", "link": "https://stackoverflow.com/users/934966/jonnix"}, "edited": false, "score": 0, "creation_date": 1518047807, "post_id": 48675281, "comment_id": 84349087, "body": "Should <code>on(&#39;change input&#39;,</code> not be <code>on(&#39;change&#39;, &#39;input&#39;,</code>?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9107942"}, "reply_to_user": {"reputation": 3967, "user_id": 934966, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qYv6e.jpg?s=128&g=1", "display_name": "Jonnix", "link": "https://stackoverflow.com/users/934966/jonnix"}, "edited": false, "score": 0, "creation_date": 1518047920, "post_id": 48675281, "comment_id": 84349119, "body": "I tried this too but it didn&#39;t work.My code is working fine except for input type file, for all the other input types it is working perfectly."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1518047967, "post_id": 48675281, "comment_id": 84349127, "body": "You can&#39;t serialize a <code>file</code> input."}, {"owner": {"user_type": "does_not_exist", "display_name": "user9107942"}, "edited": false, "score": 0, "creation_date": 1518048023, "post_id": 48675281, "comment_id": 84349147, "body": "Then what&#39;s the solution? My code is above, can you please modify that? I am not that good with Jquery or Javascript"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user9107942"}, "edited": false, "score": 0, "creation_date": 1518048495, "post_id": 48675363, "comment_id": 84349271, "body": "But how do I enable the button if the user selects the file?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user9107942"}, "edited": false, "score": 0, "creation_date": 1518048674, "post_id": 48675363, "comment_id": 84349325, "body": "What I am looking for is, if the user enters anything in input type or selects any file then the button will get enabled. My code is running fine for all the input types except file I just want to check if user selects any image then the button will get enabled. That&#39;s it."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1518048843, "post_id": 48675363, "comment_id": 84349372, "body": "I thought you&#39;re trying to detect if he changed the value from the previous value. If you just want to detect if an input is filled in, you don&#39;t need any of the <code>.data()</code> stuff."}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 0, "last_activity_date": 1518048337, "creation_date": 1518048337, "answer_id": 48675363, "question_id": 48675281, "link": "https://stackoverflow.com/questions/48675281/enable-the-submit-button-if-form-values-changed/48675363#48675363", "title": "Enable the Submit button if form values changed", "body": "<p><code>.serialize()</code> doesn't work for file inputs. You can get the input's filename and save that instead.</p>\n\n<pre><code>function mySerialize(obj) {\n    if (obj.type == 'file') {\n        return obj.files[0] ? obj.files[0].name : '';\n    } else {\n        return $(obj).serialize();\n    }\n}\n\n$('form')\n    .each(function(){\n        $(this).data('serialized', mySerialize(this));\n    })\n        .on('change input', function(){\n            $(this)\n                .find('input:submit, button:submit')\n                .attr('disabled', mySerialize(this) == $(this).data('serialized'))\n            ;\n        })\n    .find('input:submit, button:submit')\n    .attr('disabled', true)\n;\n</code></pre>\n\n<p>This assumes single file inputs. If you have multi-file inputs you'll need to loop over all the files in <code>mySerialize()</code> and concatenate them instead of just using <code>files[0]</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 96, "user_id": 9330361, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Obxoa.png?s=128&g=1", "display_name": "Denis Kovzelyuk", "link": "https://stackoverflow.com/users/9330361/denis-kovzelyuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1518111509, "creation_date": 1518111509, "answer_id": 48691588, "question_id": 48675281, "link": "https://stackoverflow.com/questions/48675281/enable-the-submit-button-if-form-values-changed/48691588#48691588", "title": "Enable the Submit button if form values changed", "body": "<p>Quick and dirty:</p>\n\n<pre><code>   $('form')\n    .each(function(){\n        $(this).data('serialized', $(this).serialize())\n    })\n    .on('change input', function(){ \n\n        var changed = false;\n        var fInputs = $(\":file\");\n\n        for (var i=0; i&lt;fInputs.length; i++) {\n            changed = (fInputs[i].files.length) ? true : changed;\n        }\n\n        changed = ($(this).serialize() !== $(this).data('serialized')) ? true : changed;\n\n        $(this)\n            .find('input:submit, button:submit')\n            .attr('disabled', !changed)\n        ;\n    })\n    .find('input:submit, button:submit')\n    .attr('disabled', true);\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9107942"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1518111509, "creation_date": 1518047682, "last_edit_date": 1518047705, "question_id": 48675281, "link": "https://stackoverflow.com/questions/48675281/enable-the-submit-button-if-form-values-changed", "title": "Enable the Submit button if form values changed", "body": "<p>I got a piece of jquery code which checks if input fields changed in the form and then unable the submit button, However, it is not working on Input type=File, If I select the file, the button remains disabled. Any Help would be appreciated?\nHere is the jquery code</p>\n\n<pre><code> $('form')\n        .each(function(){\n            $(this).data('serialized', $(this).serialize())\n        })\n        .on('change input', function(){\n            $(this)\n                .find('input:submit, button:submit')\n                .attr('disabled', $(this).serialize() == $(this).data('serialized'))\n            ;\n        })\n        .find('input:submit, button:submit')\n        .attr('disabled', true)\n    ;\n</code></pre>\n"}, {"tags": ["javascript", "css", "reactjs", "webpack", "react-boilerplate"], "comments": [{"owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1518047652, "post_id": 48675263, "comment_id": 84349051, "body": "How are you using the <code>css-loader</code> inside webpack?"}, {"owner": {"reputation": 752, "user_id": 3814557, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f3240009169c86f952ae51b5905b198e?s=128&d=identicon&r=PG&f=1", "display_name": "johnwick0831", "link": "https://stackoverflow.com/users/3814557/johnwick0831"}, "reply_to_user": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1518047707, "post_id": 48675263, "comment_id": 84349064, "body": "I&#39;m using the react-boiler-plate project, this is what I have in the webpack-base.babel.js  <code>{         &#47;&#47; Preprocess our own .css files         &#47;&#47; This is the place to add your own loaders (e.g. sass&#47;less etc.)         &#47;&#47; for a list of loaders, see https:&#47;&#47;webpack.js.org&#47;loaders&#47;#styling         test: &#47;\\.(s*)css$&#47;,         exclude: &#47;node_modules&#47;,         use: [&#39;style-loader&#39;, &#39;css-loader&#39;, &#39;sass-loader&#39;],       },</code>  Not sure if this helps, can you be more specific?"}, {"owner": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 0, "creation_date": 1518051929, "post_id": 48675263, "comment_id": 84350222, "body": "Importing css or sass files does not actually import any javascript object that you can use inside your js files as css files do not export anything. It just  tells your module bundler (webpack) to include the css file in your bundle if it uses your component somewhere. Just import the file with <code>import &#39;.&#47;style.scss&#39;</code> and then use your classes as strings: <code>&lt;div className=&quot;bunny&quot;&gt;</code>. Of course your html file will need to link the css file too. It&#39;s more like tellling webpack: &quot;Hey webpack, this component uses classes from this sass file so include it in my bundle.&quot;"}, {"owner": {"reputation": 752, "user_id": 3814557, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f3240009169c86f952ae51b5905b198e?s=128&d=identicon&r=PG&f=1", "display_name": "johnwick0831", "link": "https://stackoverflow.com/users/3814557/johnwick0831"}, "edited": false, "score": 0, "creation_date": 1518064734, "post_id": 48675263, "comment_id": 84353157, "body": "Hi Trixn, this is not desired as I do not want to hard code classnames in js files. I have seen this working before but I&#39;m not sure what I have configured wrong myself."}, {"owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "reply_to_user": {"reputation": 12017, "user_id": 5005177, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/24654adb38f30006fb2d3bd07dd6242b?s=128&d=identicon&r=PG&f=1", "display_name": "trixn", "link": "https://stackoverflow.com/users/5005177/trixn"}, "edited": false, "score": 0, "creation_date": 1518099281, "post_id": 48675263, "comment_id": 84372856, "body": "@trixn that is simply not true."}, {"owner": {"reputation": 5789, "user_id": 2679750, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/W8CvF.jpg?s=128&g=1", "display_name": "Mark C.", "link": "https://stackoverflow.com/users/2679750/mark-c"}, "edited": false, "score": 0, "creation_date": 1518100049, "post_id": 48675263, "comment_id": 84373381, "body": "@calpang You do not appear to be using the <code>modules</code> property offered by webpack&#39;s <code>css-loader</code> in order to used modularized css where you can import the style sheet and reference the classes like object properties"}], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 5126267, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-E0Lr8M0eR2o/AAAAAAAAAAI/AAAAAAAAAEk/qftM9GHkcXg/photo.jpg?sz=128", "display_name": "Bing Nguyen", "link": "https://stackoverflow.com/users/5126267/bing-nguyen"}, "is_accepted": false, "score": 2, "last_activity_date": 1518077547, "creation_date": 1518077547, "answer_id": 48680583, "question_id": 48675263, "link": "https://stackoverflow.com/questions/48675263/css-classname-not-applied-to-react-component/48680583#48680583", "title": "Css classname not applied to react component", "body": "<p>Firstly, you need to guarantee it's defined with: <code>console.log(styles)</code>\nIm' not sure you import style.scss correctly.</p>\n"}, {"tags": [], "owner": {"reputation": 1654, "user_id": 4276710, "user_type": "registered", "accept_rate": 83, "profile_image": "https://graph.facebook.com/631185694/picture?type=large", "display_name": "Luke Flournoy", "link": "https://stackoverflow.com/users/4276710/luke-flournoy"}, "is_accepted": false, "score": 0, "last_activity_date": 1550727554, "creation_date": 1550727554, "answer_id": 54799964, "question_id": 48675263, "link": "https://stackoverflow.com/questions/48675263/css-classname-not-applied-to-react-component/54799964#54799964", "title": "Css classname not applied to react component", "body": "<p>You need to import your scss like...\n<code>import './styles.scss';</code></p>\n\n<p>Webpack will take care of bundling your styles so you can add the className as a string on your component.</p>\n\n<pre><code>&lt;div className=\"bunny\"&gt;Hello World&lt;/div&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1221, "user_id": 1916816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1uJci.jpg?s=128&g=1", "display_name": "Chris HG", "link": "https://stackoverflow.com/users/1916816/chris-hg"}, "is_accepted": false, "score": 0, "last_activity_date": 1611855312, "creation_date": 1611855312, "answer_id": 65942349, "question_id": 48675263, "link": "https://stackoverflow.com/questions/48675263/css-classname-not-applied-to-react-component/65942349#65942349", "title": "Css classname not applied to react component", "body": "<p>What fixed this for me was to change the name of my scss file from <code>style.scss</code> to <code>style.module.scss</code></p>\n"}], "owner": {"reputation": 752, "user_id": 3814557, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/f3240009169c86f952ae51b5905b198e?s=128&d=identicon&r=PG&f=1", "display_name": "johnwick0831", "link": "https://stackoverflow.com/users/3814557/johnwick0831"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5669, "favorite_count": 1, "answer_count": 3, "score": 7, "last_activity_date": 1611855312, "creation_date": 1518047506, "last_edit_date": 1518047771, "question_id": 48675263, "link": "https://stackoverflow.com/questions/48675263/css-classname-not-applied-to-react-component", "title": "Css classname not applied to react component", "body": "<p>I appreciate your time and help. I spent hours trying to figure this out can't seem to get to the bottom of it.</p>\n\n<p>I have this react component:</p>\n\n<pre><code>import styles from './style.scss';\n\nclass ButtonComponent extends React.Component { \n  render() {\n    return (\n      &lt;div className={styles.bunny}&gt;\n        hello world\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n\n<p>and scss file:</p>\n\n<pre><code>.bunny {\n  display: block;\n  margin-top:50px;\n  margin-bottom:55px;\n  background-color: blue;\n}\n</code></pre>\n\n<p>When I load up my html, the div has no classname when I expect it to be <code>&lt;div class=\"bunny\"&gt;</code></p>\n\n<p>When I put the class name in the react component literally like this:</p>\n\n<pre><code>&lt;div className=\"bunny\"&gt; \n</code></pre>\n\n<p>then I can see the className in the browser.</p>\n\n<p>What am I doing wrong?</p>\n\n<p>Thank you so much in advance.</p>\n"}, {"tags": ["javascript", "google-apps-script", "google-forms"], "answers": [{"comments": [{"owner": {"reputation": 1807, "user_id": 1691677, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/dxodi.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/1691677/chris"}, "edited": false, "score": 0, "creation_date": 1518050804, "post_id": 48675480, "comment_id": 84349912, "body": "Haha. Thank you so much! To be honest I had been working on this for at least 3 hours! I guess I can chalk it up to inexperience with Javascript? Bleh... Thanks again!!"}, {"owner": {"reputation": 1807, "user_id": 1691677, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/dxodi.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/1691677/chris"}, "edited": false, "score": 0, "creation_date": 1518066280, "post_id": 48675480, "comment_id": 84353540, "body": "setProperties() takes an object so shouldn&#39;t it work without stringify-ing the inner properties?"}, {"owner": {"reputation": 4569, "user_id": 7586528, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mMLrf353xDE/AAAAAAAAAAI/AAAAAAAAAGQ/qP9z84xqOgM/photo.jpg?sz=128", "display_name": "Anton Dementiev", "link": "https://stackoverflow.com/users/7586528/anton-dementiev"}, "reply_to_user": {"reputation": 1807, "user_id": 1691677, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/dxodi.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/1691677/chris"}, "edited": false, "score": 0, "creation_date": 1518079722, "post_id": 48675480, "comment_id": 84359328, "body": "@ChrisWood Agreed - it should. For some reason, though, it works only if the object doesn\u2019t contain any properties that themselves are objects."}], "tags": [], "owner": {"reputation": 4569, "user_id": 7586528, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-mMLrf353xDE/AAAAAAAAAAI/AAAAAAAAAGQ/qP9z84xqOgM/photo.jpg?sz=128", "display_name": "Anton Dementiev", "link": "https://stackoverflow.com/users/7586528/anton-dementiev"}, "is_accepted": true, "score": 3, "last_activity_date": 1518049103, "creation_date": 1518049103, "answer_id": 48675480, "question_id": 48675245, "link": "https://stackoverflow.com/questions/48675245/google-apps-script-propertiesservice-unexpected-token-in-obj-literal/48675480#48675480", "title": "Google Apps Script PropertiesService Unexpected Token in Obj Literal", "body": "<p>It seems that the issue has something to do with multiple nested objects. Apparently, the JSON parser can only go down one level. </p>\n\n<p>Calling JSON.stringify() on each of the nested objects solved the problem for me:</p>\n\n<pre><code> var def = {config: {isSetup: false}, test: {page: true}};\n\n  for (var prop in def) {\n\n    def[prop] = JSON.stringify(def[prop]);\n\n  }\n\nvar docServ = PropertiesService.getDocumentProperties();\ndocServ.setProperties(def, true);\n\nvar config  = JSON.parse(docServ.getProperty(\"config\"));\n\nLogger.log(config.isSetup); //logs 'false'\n</code></pre>\n"}], "owner": {"reputation": 1807, "user_id": 1691677, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/dxodi.jpg?s=128&g=1", "display_name": "Chris", "link": "https://stackoverflow.com/users/1691677/chris"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2402, "favorite_count": 1, "accepted_answer_id": 48675480, "answer_count": 1, "score": 3, "last_activity_date": 1518049103, "creation_date": 1518047299, "question_id": 48675245, "link": "https://stackoverflow.com/questions/48675245/google-apps-script-propertiesservice-unexpected-token-in-obj-literal", "title": "Google Apps Script PropertiesService Unexpected Token in Obj Literal", "body": "<p>I am using Google Apps PropertyService to store some settings variables. When I use the setProperties() function and give it an object (just like they do in the <a href=\"https://developers.google.com/apps-script/reference/properties/properties#setProperties(Object)\" rel=\"nofollow noreferrer\">documentation</a>) and then try to get a property and parse it I am getting a <code>SyntaxError: Unexpected Token in Object Literal</code>.</p>\n\n<p>The PropertiesService is emptied before I run this code. As far as I understand I am getting a string back that I should be able to parse into an object.</p>\n\n<pre><code>function setDefaults(){\n  var def = {\n    config: {\n      isSetup: false\n    },\n    test: {\n      page: true\n    }\n}\n\nvar docServ = PropertiesService.getDocumentProperties();\ndocServ.setProperties(def, true);\n\nlog(typeof docServ.getProperty(\"config\")); //string\nlog(docServ.getProperty(\"config\")); //{isSetup=false}\nlog(JSON.parse(docSer.getProperty(\"config\"))); //SyntaxError\n}\n</code></pre>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1518047525, "post_id": 48675222, "comment_id": 84349034, "body": "Can you describe in more detail what the function is supposed to do? I\u2019m not seeing it."}, {"owner": {"reputation": 730, "user_id": 1778412, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/76a9945c1af9c59cdf137b18240c2a40?s=128&d=identicon&r=PG", "display_name": "Fullhdpixel", "link": "https://stackoverflow.com/users/1778412/fullhdpixel"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1518048121, "post_id": 48675222, "comment_id": 84349170, "body": "@Ryan say you have a pie with predefined sizes. In this case 20, 10, 5, 5 and 10. Now I want to take 1/50th of the total pie, which reshapes the pie in 1, 19, 10, 5, 5 and 10."}], "answers": [{"comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1518048330, "post_id": 48675335, "comment_id": 84349232, "body": "Have you checked the output?"}, {"owner": {"reputation": 730, "user_id": 1778412, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/76a9945c1af9c59cdf137b18240c2a40?s=128&d=identicon&r=PG", "display_name": "Fullhdpixel", "link": "https://stackoverflow.com/users/1778412/fullhdpixel"}, "edited": false, "score": 0, "creation_date": 1518048465, "post_id": 48675335, "comment_id": 84349263, "body": "It works for all except 0 and 50. But thats not a big deal. Do you also have a way to get the index?"}, {"owner": {"reputation": 1037, "user_id": 7658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71a003e0fdec71b6f784eccdfbc2e457?s=128&d=identicon&r=PG&f=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/7658042/pavlo"}, "edited": false, "score": 0, "creation_date": 1518048605, "post_id": 48675335, "comment_id": 84349306, "body": "Updated it with index, yeah its just to check if the input is 0, then you do <code>return [0].concat(inputArray)</code> while the other is to check if we never inputted the value, then you need to remove the hacky solution"}, {"owner": {"reputation": 1037, "user_id": 7658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71a003e0fdec71b6f784eccdfbc2e457?s=128&d=identicon&r=PG&f=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/7658042/pavlo"}, "edited": false, "score": 0, "creation_date": 1518048984, "post_id": 48675335, "comment_id": 84349412, "body": "Actually you can just check if the input is not equal to <code>Number.MAX_VALUE</code>, that would make max value fail, but do you really need it?"}], "tags": [], "owner": {"reputation": 1037, "user_id": 7658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71a003e0fdec71b6f784eccdfbc2e457?s=128&d=identicon&r=PG&f=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/7658042/pavlo"}, "is_accepted": true, "score": 1, "last_activity_date": 1518048536, "last_edit_date": 1518048536, "creation_date": 1518048149, "answer_id": 48675335, "question_id": 48675222, "link": "https://stackoverflow.com/questions/48675222/refactoring-javascript-function-array-transformation/48675335#48675335", "title": "Refactoring Javascript Function: Array transformation", "body": "<p>This is super overkill</p>\n\n<p>You can just iterate through the array and \"eat\" the index value and continue</p>\n\n<pre><code>function pieArray(inputArray, value){\n   let copyOfValue = value;\n   return inputArray.reduce((sum, input, index) =&gt; { // &lt;-- index here\n     copyOfValue -= input;\n     if(copyOfValue &gt; 0){\n        sum.push(input);\n     }else{\n        sum.push(input+copyOfValue);\n        sum.push(Math.abs(copyOfValue));\n        copyOfValue = Number.MAX_VALUE; //Hacky solution, just change value to max value\n     }\n     return sum;\n   }, []);\n}\n</code></pre>\n\n<p>Tests</p>\n\n<p><code>pieArray([20,10,5,5,10], 5) =&gt; [5, 15, 10, 5, 5, 10]</code></p>\n\n<p><code>pieArray([20,10,5,5,10], 21) =&gt; [20, 1, 9, 5, 5, 10]</code></p>\n\n<p><code>pieArray([20,10,5,5,10], 31) =&gt; [20, 10, 1, 4, 5, 10]</code></p>\n"}, {"tags": [], "owner": {"reputation": 989, "user_id": 2534346, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/PnMP0.jpg?s=128&g=1", "display_name": "Kamil Solecki", "link": "https://stackoverflow.com/users/2534346/kamil-solecki"}, "is_accepted": false, "score": 1, "last_activity_date": 1518048602, "creation_date": 1518048602, "answer_id": 48675402, "question_id": 48675222, "link": "https://stackoverflow.com/questions/48675222/refactoring-javascript-function-array-transformation/48675402#48675402", "title": "Refactoring Javascript Function: Array transformation", "body": "<p>This is my approach. We iterate over our array, keeping track of our current value - and substracting from it as we push out each element to the output array. </p>\n\n<p>There is 3 cases: </p>\n\n<ol>\n<li>either our current count is >= input, so we just push and move on,</li>\n<li>current count is 0, so we just push everything left</li>\n<li>current count is &lt; input, but more than 0 - in this case we split.</li>\n</ol>\n\n<p>Here is the code:</p>\n\n<pre><code>function transform(input, array) {\n    const total = array.reduce((previous, current) =&gt; previous + current);\n    // It wasn't specified what should happen when the input &gt; total, so we will just throw an error.\n    if (input &gt; total) {\n        throw new Error('Input cannot be bigger than the sum of elements in the array.');\n    }\n\n    let current = input;\n    let result = [];\n\n    for (let i = 0; i &lt; array.length; i++) {\n        if (current &gt;= array[i]) {\n            result.push(array[i]);\n            current -= array[i];\n        } else if (current === 0) {\n            result.push(array[i]);\n        } else {\n            result.push(current, array[i] - current);\n            current = 0;\n        }\n    }\n\n    return result;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": 0, "last_activity_date": 1518051621, "last_edit_date": 1518051621, "creation_date": 1518048846, "answer_id": 48675444, "question_id": 48675222, "link": "https://stackoverflow.com/questions/48675222/refactoring-javascript-function-array-transformation/48675444#48675444", "title": "Refactoring Javascript Function: Array transformation", "body": "<p>Using vanilla Javascript <code>for-loop</code></p>\n\n<h1>Look at this code snippet</h1>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const pie_values = [20, 10, 5, 5, 10];\r\n\r\nvar fn = (input) =&gt; {\r\n  let array = [];\r\n  for (var i = 0; i &lt; pie_values.length; i++) {\r\n    var n = pie_values[i];\r\n    let calc = n - input;\r\n    if (calc &gt; 0) {\r\n      array.push(n - calc); // Push how many used, i.e n = 20, input = 10.\r\n      array.push(calc); // Push the remaining after subtraction.\r\n      array = array.concat(pie_values.slice(i + 1)); // Add the remaining values from 'pie_values'\r\n      return array;\r\n    } else {\r\n      array.push(n); // Push all this number because was insufficient, i.e n = 20, input = 30\r\n      input = Math.abs(calc); // Remaining for the next iteration.\r\n    }\r\n  }\r\n\r\n  return array;\r\n};\r\n\r\nconsole.log(fn(5));\r\nconsole.log(fn(21));\r\nconsole.log(fn(31));\r\nconsole.log(fn(0));\r\nconsole.log(fn(50));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 9330359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f595a2124a557018f5269e36691e6e02?s=128&d=identicon&r=PG&f=1", "display_name": "GuiBret", "link": "https://stackoverflow.com/users/9330359/guibret"}, "is_accepted": false, "score": 0, "last_activity_date": 1518050252, "last_edit_date": 1518050252, "creation_date": 1518049194, "answer_id": 48675493, "question_id": 48675222, "link": "https://stackoverflow.com/questions/48675222/refactoring-javascript-function-array-transformation/48675493#48675493", "title": "Refactoring Javascript Function: Array transformation", "body": "<p>You want something like that ? (Works with the examples you've given)</p>\n\n<pre><code>    function getPieValues(integer_input) {\n        \"use strict\";\n        let final_arr = pie_values,\n            array_sum = pie_values.reduce((pv, cv) =&gt;  pv + cv , 0);\n\n        if(integer_input !== 0 &amp;&amp; integer_input !== array_sum) { // For the cases 50 and 0, the array won't be modified\n            for(let i = 0; i &lt; pie_values.length; i++) {\n                if(pie_values[i] &lt; integer_input) { // if the prompted number is bigger than the current value, we keep up\n                    integer_input -= pie_values[i];\n\n                } else { // When it becomes smaller, we add the remainder at the front of the current value, then we modify the next value, and finally we break it so that it doesn't happen next\n                    final_arr.splice(i, 0, integer_input);\n                    final_arr[i+1] -= integer_input;\n                    break;\n                }\n            }\n\n        }\n        return final_arr;\n    }\n</code></pre>\n\n<p>Edit : Made it a function, and made it work with 0 and 50 (sorry, first post ;-) )</p>\n"}, {"tags": [], "owner": {"reputation": 22049, "user_id": 6293409, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f518a7b20445607bcf0b09f4c26ce1?s=128&d=identicon&r=PG&f=1", "display_name": "CRice", "link": "https://stackoverflow.com/users/6293409/crice"}, "is_accepted": false, "score": 1, "last_activity_date": 1518052546, "last_edit_date": 1518052546, "creation_date": 1518049759, "answer_id": 48675584, "question_id": 48675222, "link": "https://stackoverflow.com/questions/48675222/refactoring-javascript-function-array-transformation/48675584#48675584", "title": "Refactoring Javascript Function: Array transformation", "body": "<p>Some of these answers are a bit overcomplicated. If you use a recursive function, you can do this in just <strong>two lines of code</strong>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const pie_values = [20,10,5,5,10];\r\n\r\n// The challenge is to transform the above array based on integer input.\r\n// (5) =&gt; [5, 15, 10, 5, 5, 10]\r\n// (21) =&gt; [20, 1, 9, 5, 5, 10]\r\n// (31) =&gt; [20, 10, 1, 4, 5, 10]\r\n\r\nfunction reshape(num, vals) {\r\n    if (num &lt; vals[0]) return [num, vals[0] - num, ...vals.slice(1)];\r\n    return [vals[0], ...reshape(num - vals[0], vals.slice(1))];\r\n}\r\n\r\nconsole.log(reshape(5, pie_values))\r\nconsole.log(reshape(21, pie_values))\r\nconsole.log(reshape(31, pie_values))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>The key is realizing that if the amount you need to take is less than the next value, then you can take it from that next value and the remainder of the array will stay the same.</p>\n\n<p>But if you need to take more than what's available, take as much as you can get from the first value, and then take that much less from the remainder of the array.</p>\n\n<p><em>EDIT: Note that if the number you give is larger than the sum of all the pie values, this will recurse infinitely (leading to a stack overflow). To be totally safe, you should ensure that the value is less than the total sum before calling <code>reshape</code>.</em></p>\n"}, {"tags": [], "owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "is_accepted": false, "score": 0, "last_activity_date": 1518050844, "creation_date": 1518050844, "answer_id": 48675734, "question_id": 48675222, "link": "https://stackoverflow.com/questions/48675222/refactoring-javascript-function-array-transformation/48675734#48675734", "title": "Refactoring Javascript Function: Array transformation", "body": "<p>This one's pretty simple and efficient.  It doesn't iterate the whole array, only up to the point it needs to.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const pie_values = [20,10,5,5,10];\r\n\r\nfunction pied(n) {\r\n  var i = 0;\r\n  var total = pie_values[0];\r\n\r\n  while (total &lt; n &amp;&amp; i &lt; pie_values.length) {\r\n    i++;\r\n    total += pie_values[i];\r\n  }\r\n\r\n  if (i &lt; pie_values.length) {\r\n    var diff = total - n;\r\n    if (diff &gt; 0 &amp;&amp; n &gt; 0) { \r\n      return [].concat(\r\n      \tpie_values.slice(0, i), // the part of the array up to i\r\n        pie_values[i] - diff, // the amount we used of the last element we needed\r\n        diff, // the amount left over\r\n        pie_values.slice(i + 1) // the rest of the array after i\r\n      );\r\n    } else {\r\n      // just return a copy of the original array\r\n      return pie_values.slice();\r\n    }\r\n  } else {\r\n    // n was greater than the total of all elements of the array\r\n    return \"went over\";\r\n  }\r\n}\r\n\r\nconsole.log(pied(5));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 382, "user_id": 8232814, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a644ae2e1b9e8825951d3a5275abb608?s=128&d=identicon&r=PG&f=1", "display_name": "jasmin_makasana", "link": "https://stackoverflow.com/users/8232814/jasmin-makasana"}, "is_accepted": false, "score": 0, "last_activity_date": 1518066214, "creation_date": 1518066214, "answer_id": 48677911, "question_id": 48675222, "link": "https://stackoverflow.com/questions/48675222/refactoring-javascript-function-array-transformation/48677911#48677911", "title": "Refactoring Javascript Function: Array transformation", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const pie_values = [20,10,5,5,10];\r\n\r\nfunction rebaseArr(input){\r\n  var retArr = [];\r\n  var total = 0;\r\n  let isDone = false;\r\n  for(var i in pie_values){\r\n    let currentVal = pie_values[i];\r\n    total += currentVal;\r\n    if(total &gt; input &amp;&amp; !isDone){\r\n      let rem = total - input;\r\n      let rem1 = currentVal - rem;\r\n      rem1 !== 0 ? retArr.push(rem1) : 0;\r\n      retArr.push(rem);\r\n      isDone = true;\r\n    } else {\r\n      retArr.push(currentVal);\r\n    }\r\n  }\r\n  return retArr;\r\n}\r\n\r\nconsole.log(rebaseArr(31));\r\nconsole.log(rebaseArr(1));\r\nconsole.log(rebaseArr(10));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Can you please try with above code.\nHope it helps :)</p>\n"}, {"tags": [], "owner": {"reputation": 18798, "user_id": 4543207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ed6f11c827fa7cef811f141a84cc14b?s=128&d=identicon&r=PG&f=1", "display_name": "Redu", "link": "https://stackoverflow.com/users/4543207/redu"}, "is_accepted": false, "score": 0, "last_activity_date": 1518190633, "last_edit_date": 1518190633, "creation_date": 1518178078, "answer_id": 48705498, "question_id": 48675222, "link": "https://stackoverflow.com/questions/48675222/refactoring-javascript-function-array-transformation/48705498#48705498", "title": "Refactoring Javascript Function: Array transformation", "body": "<p>I wouldn't normally advise recursion in JS however just for fun you may implement an Haskellesque pattern matching by using spread and rest operators through destructuring and may come up with something like below;</p>\n\n<p>It wasn't clear to me what to do when the difference is zero so being a remarkably lazy person i choose to do nothing. (Last test won't return <code>[20,10,5,0,5,10]</code>)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var extend = ([x,...xs],n) =&gt; n &amp;&amp; x ? x &gt; n ? [n, x-n, ...xs]\r\n                                             : [x, ...extend(xs, n-x)]\r\n                                     : [x,...xs],\r\n    pvs    = [20,10,5,5,10];\r\n\r\nconsole.log(extend(pvs,5));\r\nconsole.log(extend(pvs,21));\r\nconsole.log(extend(pvs,31));\r\nconsole.log(extend(pvs,35));</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper {\r\nmax-height : 100% !important\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 730, "user_id": 1778412, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/76a9945c1af9c59cdf137b18240c2a40?s=128&d=identicon&r=PG", "display_name": "Fullhdpixel", "link": "https://stackoverflow.com/users/1778412/fullhdpixel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 162, "favorite_count": 0, "accepted_answer_id": 48675335, "answer_count": 8, "score": 3, "last_activity_date": 1518190633, "creation_date": 1518047111, "question_id": 48675222, "link": "https://stackoverflow.com/questions/48675222/refactoring-javascript-function-array-transformation", "title": "Refactoring Javascript Function: Array transformation", "body": "<p>I have a constant array like this:</p>\n\n<pre><code>const pie_values = [20,10,5,5,10];\n</code></pre>\n\n<p>The challenge is to transform the above array based on integer input.</p>\n\n<pre><code>(5) =&gt; [5, 15, 10, 5, 5, 10]\n(21) =&gt; [20, 1, 9, 5, 5, 10]\n(31) =&gt; [20, 10, 1, 4, 5, 10]\n</code></pre>\n\n<p>An input of 5 takes 5 from the first index of pie_values. But it still leaves 15.</p>\n\n<p>An input of 21 can take 20 from index 0 and 1 from index 2, leaving 9</p>\n\n<p>I think you can see how this is going. So (0) and (50) will return the original pie_values.</p>\n\n<p>Now the challenge is to create a function that does this in a few lines of code, which is build on loops rather than on 5 if statements. In case pie_values is extended upon, the function should still work.</p>\n\n<p>I have an approach working with if statements, however the latter is undoable. What would be a good approach to these kind of problems?</p>\n\n<p>First I defined a helper function:</p>\n\n<pre><code>//Returns summation of pie value\n// totalPieValues(1) = 20\n// totalPieValues(2) = 30\n// totalPieValues(3) = 35\n// totalPieValues(4) = 40\n// totalPieValues(5) = 50\nfunction totalPieValues(max) {\n  let result = 0;\n  for (let i = 0; i &lt; max; i++) {\n    result += PIE_VALUES[i];\n  }\n  return result;\n}\n</code></pre>\n\n<p>Then I worked on a function getPieArray which utilizes the helper function. This is where I am stuck</p>\n\n<pre><code>function getPieArray(wp) {\n  for (let i = 0; i &lt; PIE_VALUES.length; i++) {\n    if (wp == 0 || wp == totalPieValues(i)) {\n      return PIE_VALUES;\n    }\n  }\n\n  let result = [];\n  for (let i = 1; i &lt;= PIE_VALUES.length; i++) {\n    if (wp &gt; totalPieValues(PIE_VALUES.length - i)) {\n      result.push(PIE_VALUES[i]);\n    } else if () {\n      result.push(wp - totalPieValues(3));\n    } else {\n      result.push(PIE_VALUES[i] - (value - totalPieValues(3)));\n    }\n  }\n  return result;\n}\n</code></pre>\n\n<p>The code that I have written and works is here:</p>\n\n<pre><code>//Returns array of exact values needed to show in pie chart\nexport function getPieValues(wp) {\n  //1 =&gt; [1, 19, 10, 5, 5, 10]\n  //24 =&gt; [20, 4, 1, 5, 5, 10]\n  //31 =&gt; [20, 10, 1, 5, 5, 5, 10]\n  let result;\n  if (wp == 0) {\n    result = PIE_VALUES;\n  } else if (wp &lt; totalPieValues(1)) {\n    result = [wp - totalPieValues(0), PIE_VALUES[0] - wp, PIE_VALUES[1], PIE_VALUES[2], PIE_VALUES[3], PIE_VALUES[4]];\n\n  } else if (wp == totalPieValues(1)) {\n    result = PIE_VALUES;\n  } else if (wp &lt; totalPieValues(2)) {\n    result = [PIE_VALUES[0], wp - totalPieValues(1), PIE_VALUES[1] - (wp - PIE_VALUES[0]), PIE_VALUES[2], PIE_VALUES[3], PIE_VALUES[4]];\n\n  } else if (wp == totalPieValues(2)) {\n    result = PIE_VALUES;\n  } else if (wp &lt; totalPieValues(3)) {\n\n    result = [PIE_VALUES[0], PIE_VALUES[1], wp - totalPieValues(2), PIE_VALUES[2] - (wp - totalPieValues(2)), PIE_VALUES[3], PIE_VALUES[4]];\n\n  } else if (wp == totalPieValues(3)) {\n    result = PIE_VALUES;\n\n  } else if (wp &lt; totalPieValues(4)) {\n\n    result = [PIE_VALUES[0], PIE_VALUES[1], PIE_VALUES[2], wp - totalPieValues(3), PIE_VALUES[3] - (wp - totalPieValues(3)), PIE_VALUES[4]];\n\n  } else if (wp == totalPieValues(4)) {\n    result = PIE_VALUES;\n\n  } else if (wp &lt; totalPieValues(5)) {\n\n    result = [PIE_VALUES[0], PIE_VALUES[1], PIE_VALUES[2], PIE_VALUES[3], wp - totalPieValues(4), PIE_VALUES[4] - (wp - totalPieValues(4))];\n\n  } else if (wp == totalPieValues(5)) {\n    result = PIE_VALUES;\n  }\n\n  return result;\n}\n</code></pre>\n"}, {"tags": ["javascript", "class", "properties", "immutability"], "answers": [{"tags": [], "owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "is_accepted": true, "score": 7, "last_activity_date": 1518047050, "creation_date": 1518047050, "answer_id": 48675207, "question_id": 48675166, "link": "https://stackoverflow.com/questions/48675166/how-do-you-create-a-javascript-class-with-immutable-properties/48675207#48675207", "title": "How do you create a javascript class with immutable properties", "body": "<p>You can <code>Object.seal(this)</code> at the end of the constructor to prevent new properties from being added:</p>\n\n<pre><code>function Animal() {\n    this.name = \"\";\n    this.type = \"\";\n    // 20 other properties\n    Object.seal(this);\n}\n</code></pre>\n\n<p>and you can take an object with initial values in the constructor:</p>\n\n<pre><code>function Animal(initial) {\n    this.name = \"\";\n    this.type = \"\";\n    // 20 other properties\n    Object.seal(this);\n    Object.assign(this, initial);\n}\n</code></pre>\n\n<p>used like so:</p>\n\n<pre><code>myAnimal = new Animal({\n    name: \"fluffy\",\n    type: \"cat\",\n    typo: \"cat\",\n});\n</code></pre>\n\n<p>with the downside that the error doesn\u2019t point directly at <code>typo</code> like it would if you used multiple assignment statements.</p>\n"}, {"comments": [{"owner": {"reputation": 1081, "user_id": 742503, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/3JP2P.jpg?s=128&g=1", "display_name": "techdog", "link": "https://stackoverflow.com/users/742503/techdog"}, "edited": false, "score": 0, "creation_date": 1518064181, "post_id": 48675254, "comment_id": 84353052, "body": "This is a very useful example of how to check for a property. Thank you."}, {"owner": {"reputation": 1034, "user_id": 3422060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6d3ace9b2191a8ad947704e06982fe0c?s=128&d=identicon&r=PG&f=1", "display_name": "webelo", "link": "https://stackoverflow.com/users/3422060/webelo"}, "edited": false, "score": 0, "creation_date": 1541076075, "post_id": 48675254, "comment_id": 93098337, "body": "+1 for pointing out an object I wasn&#39;t even aware of. <a href=\"http://thecodebarbarian.com/thoughts-on-es6-proxies-performance\" rel=\"nofollow noreferrer\">This post</a> suggests that proxies are quite slow but concludes that &quot;odds are you won&#39;t feel the performance implications unless you&#39;ve ever found yourself changing promise libraries...for performance reasons&quot;."}], "tags": [], "owner": {"reputation": 1556, "user_id": 6126033, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/183fcfeb21349bea904dfe711bd2c177?s=128&d=identicon&r=PG&f=1", "display_name": "Peter", "link": "https://stackoverflow.com/users/6126033/peter"}, "is_accepted": false, "score": 3, "last_activity_date": 1518047817, "last_edit_date": 1518047817, "creation_date": 1518047446, "answer_id": 48675254, "question_id": 48675166, "link": "https://stackoverflow.com/questions/48675166/how-do-you-create-a-javascript-class-with-immutable-properties/48675254#48675254", "title": "How do you create a javascript class with immutable properties", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy\" rel=\"nofollow noreferrer\">Proxy</a> For this.\nYou can set custom setter, what throw an Error when obj does not has the property.\nYou can do the same with <code>get</code> too in that case no more <code>undefined</code> cause of typo.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function Animal() {\r\n    this.name = \"\";\r\n    this.type = \"\";\r\n    \r\n    return new Proxy(this, {\r\n        set: function(obj, prop, value) {\r\n            if (!obj.hasOwnProperty(prop))\r\n            {\r\n                throw Error(\"I don`t have this property: \" + prop);\r\n            }\r\n            obj[prop] = value;\r\n        }\r\n    });\r\n}\r\n\r\nvar cat = new Animal();\r\nconsole.log(cat);\r\ncat.name = \"Rita\";\r\nconsole.log(cat);\r\ncat.nama = \"Rata\";\r\nconsole.log(cat);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1081, "user_id": 742503, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/3JP2P.jpg?s=128&g=1", "display_name": "techdog", "link": "https://stackoverflow.com/users/742503/techdog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2607, "favorite_count": 1, "accepted_answer_id": 48675207, "answer_count": 2, "score": 3, "last_activity_date": 1518047817, "creation_date": 1518046804, "question_id": 48675166, "link": "https://stackoverflow.com/questions/48675166/how-do-you-create-a-javascript-class-with-immutable-properties", "title": "How do you create a javascript class with immutable properties", "body": "<p>This question is specifically about preventing unwanted properties from being added to a javascript \"class\". I have a class called Animal.</p>\n\n<pre><code>function Animal(){\nthis.name=\"\";\nthis.type=\"\";\n//20 other properties\n}\n</code></pre>\n\n<p>What would be the easiest way for a user to create their own Animal and add 20 properties. I want to also prevent the user from accidentally adding incorrect properties.</p>\n\n<p>my current method:</p>\n\n<pre><code>    var myAnimal= new Animal();\n    myAnimal.name=\"fluffy\";\n    myAnimal.type=\"cat\";\n    myAnimal.typo=\"cat\";\n</code></pre>\n\n<p>//adding 20 more properties would require typing myAnimal 20 more times \nPlus if a user makes a typo it would add it as a new property.</p>\n\n<p>I was hoping there would be something like this:</p>\n\n<pre><code>myAnimal=new Animal{\nname:\"fluffy\",\ntype:\"cat\";\ntypo:\"cat\" //would throw an error\n}\n</code></pre>\n\n<p>I've looked into Object.freeze Object.seal, Object.preventExtensions but not sure how they apply to classes.</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 1, "creation_date": 1518046620, "post_id": 48675111, "comment_id": 84348760, "body": "It is impossible to have a hidden element with visible content inside of it ...But why would you want to hide your <code>&lt;body&gt;</code> tag in the first place?"}, {"owner": {"reputation": 18794, "user_id": 1220550, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/G1osH.jpg?s=128&g=1", "display_name": "Peter B", "link": "https://stackoverflow.com/users/1220550/peter-b"}, "edited": false, "score": 1, "creation_date": 1518046937, "post_id": 48675111, "comment_id": 84348868, "body": "If you do a web search for <code>media query print example</code> then you will find many examples of how this can be accomplished, without having to add Javascript code to decide what is shown when printing, because CSS will then do that automatically when the output is being generated for printing."}], "answers": [{"tags": [], "owner": {"reputation": 258, "user_id": 3038885, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/7d46832217e94c1a759645f89d279042?s=128&d=identicon&r=PG", "display_name": "nblackburn", "link": "https://stackoverflow.com/users/3038885/nblackburn"}, "is_accepted": false, "score": 0, "last_activity_date": 1518046929, "creation_date": 1518046929, "answer_id": 48675185, "question_id": 48675111, "link": "https://stackoverflow.com/questions/48675111/hide-body-tag-but-still-show-a-div/48675185#48675185", "title": "hide body tag but still show a div", "body": "<p>I would structure your application differently as you can't show something contained within the element you have hidden.</p>\n\n<pre><code>&lt;body&gt;\n    &lt;div id=\"hide-me\"&gt;&lt;/div&gt;\n    &lt;p id=\"show-me\"&gt;THIS SHOULD BE PRINTED&lt;/p&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>and change your logic to something like this...</p>\n\n<pre><code>$(document).ready(function(){\n    $(\"#print\").click(function(){\n        $(\"#hide-me\").hide();\n        $(\"#show-me\").show();\n        window.print();\n        $(\"#hide-me\").show();            \n    });\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 46, "user_id": 7437726, "user_type": "registered", "profile_image": "https://graph.facebook.com/10210012820254460/picture?type=large", "display_name": "Muhammad Mustafa", "link": "https://stackoverflow.com/users/7437726/muhammad-mustafa"}, "is_accepted": true, "score": 3, "last_activity_date": 1518047834, "creation_date": 1518047834, "answer_id": 48675301, "question_id": 48675111, "link": "https://stackoverflow.com/questions/48675111/hide-body-tag-but-still-show-a-div/48675301#48675301", "title": "hide body tag but still show a div", "body": "<p>Use below given function to first hide all child of body tag and then show the required child</p>\n\n<pre><code>$(\"body\").find(\"*\").hide();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 32677, "user_id": 146656, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/67de62b6f38aeddc4b57f0a32bed5681?s=128&d=identicon&r=PG", "display_name": "Meligy", "link": "https://stackoverflow.com/users/146656/meligy"}, "is_accepted": false, "score": 0, "last_activity_date": 1518048539, "creation_date": 1518048539, "answer_id": 48675394, "question_id": 48675111, "link": "https://stackoverflow.com/questions/48675111/hide-body-tag-but-still-show-a-div/48675394#48675394", "title": "hide body tag but still show a div", "body": "<p>It can be risky to hide everything in the page. Also, the approach makes you ahve to add the content after hiding the body.</p>\n\n<p>A better approach is to make the content you want come to the front, fill up the whole screen, and hide everything else behind it without deleting.</p>\n\n<p>And it's very simply to do so.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  $('.show-print').on('click', function() {\r\n    $('.print-container').addClass('active-print');\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.print-container {\r\n  position: fixed;\r\n  background: white;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n}\r\n\r\n.print-container:not(.active-print) {\r\n  display: none;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n    &lt;p&gt;\r\n          Normal body content\r\n    &lt;/p&gt;\r\n    &lt;button class=\"show-print\"&gt;Print&lt;/button&gt;\r\n    \r\n    &lt;div class=\"print-container\"&gt;\r\n      &lt;div class=\"print-content\"&gt;\r\n        I'm Print. I'm stronger than BODY!\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 395, "user_id": 9283210, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/BT8yW.jpg?s=128&g=1", "display_name": "Khan M", "link": "https://stackoverflow.com/users/9283210/khan-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 262, "favorite_count": 0, "accepted_answer_id": 48675301, "answer_count": 3, "score": 0, "last_activity_date": 1518048539, "creation_date": 1518046474, "question_id": 48675111, "link": "https://stackoverflow.com/questions/48675111/hide-body-tag-but-still-show-a-div", "title": "hide body tag but still show a div", "body": "<pre><code>    &lt;script&gt;\n    $(document).ready(function(){\n\n    $(\"#print\").click(function(){\n        $(\"body\").hide();\n        $(\"p\").show();\n        window.print();\n        $(\"body\").show();            \n    });        \n});\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;p&gt;THIS SHOULD BE PRINTED &lt;/p&gt;\n\n&lt;button &gt;Hide&lt;/button&gt;\n&lt;button &gt;Show&lt;/button&gt;\n&lt;button id=\"print\"&gt;print&lt;/button&gt;    \n&lt;/body&gt;\n</code></pre>\n\n<p>given is a sample code. Clicking on print button should hide body of page except the values inside \"p\" tags. need help as to how to achieve this ?\nis there some way of making \"p\" tag or \"div\" tag act as body temporarily ?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 4774, "user_id": 1514572, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/8e44332313cc7335e98748739977ea5d?s=128&d=identicon&r=PG", "display_name": "monners", "link": "https://stackoverflow.com/users/1514572/monners"}, "edited": false, "score": 1, "creation_date": 1518062753, "post_id": 48675088, "comment_id": 84352755, "body": "You need to distill your problem down to its root, and post a code example (not a repo link) that demonstrates the behaviour you&#39;re experiencing."}, {"owner": {"reputation": 2140, "user_id": 1049128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/87e53685cdb36dce6d94050cea867810?s=128&d=identicon&r=PG", "display_name": "ddri", "link": "https://stackoverflow.com/users/1049128/ddri"}, "edited": false, "score": 0, "creation_date": 1518097937, "post_id": 48675088, "comment_id": 84371834, "body": "A little more context will help here. For reference, we&#39;ve used React for <a href=\"http://www.corilla.com\" rel=\"nofollow noreferrer\">Corilla</a>, which contains a Markdown editor in the manner you mention. I&#39;d love to help but you can improve your question by simplifying the difference between expected and observed behaviour without someone parsing your entire code block there."}], "owner": {"reputation": 11, "user_id": 2618945, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7a417374ca5dae83b492ae4950662813?s=128&d=identicon&r=PG", "display_name": "may_cat", "link": "https://stackoverflow.com/users/2618945/may-cat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 37, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518046712, "creation_date": 1518046373, "last_edit_date": 1518046712, "question_id": 48675088, "link": "https://stackoverflow.com/questions/48675088/react-lifts-up-states-on-his-own-sometimes", "title": "React lifts up states on his own... sometimes", "body": "<p>I've just started working with react.js and have a strange problem, which conflicts react's documentation.</p>\n\n<p>The goal is to make markdown file editor with editing file's attributes.</p>\n\n<p>I've created an App and put some components in it, for example IntegerField. Here's the code:</p>\n\n<p><a href=\"https://github.com/may-cat/markdown-editor/blob/master/slate/examples/index.js\" rel=\"nofollow noreferrer\">https://github.com/may-cat/markdown-editor/blob/master/slate/examples/index.js</a></p>\n\n<p>And here's data, which react tryes to deal with:</p>\n\n<p><a href=\"https://github.com/may-cat/markdown-editor/blob/master/slate/examples/PRJ-RQ12.json\" rel=\"nofollow noreferrer\">https://github.com/may-cat/markdown-editor/blob/master/slate/examples/PRJ-RQ12.json</a></p>\n\n<p>On changing integer value it calls IntegerField's callback</p>\n\n<p><a href=\"https://github.com/may-cat/markdown-editor/blob/master/slate/examples/index.js#L318\" rel=\"nofollow noreferrer\">https://github.com/may-cat/markdown-editor/blob/master/slate/examples/index.js#L318</a></p>\n\n<p>(in fact, not IntegerField's, but it's parent), method onFieldChange() here it is:</p>\n\n<p><a href=\"https://github.com/may-cat/markdown-editor/blob/master/slate/examples/index.js#L110\" rel=\"nofollow noreferrer\">https://github.com/may-cat/markdown-editor/blob/master/slate/examples/index.js#L110</a></p>\n\n<p>And onFieldChange() on his own <em>only makes setState for child component</em>, IntegerField. App should know nothing about this change (according to React documentation).</p>\n\n<p>On form submit in App </p>\n\n<p><a href=\"https://github.com/may-cat/markdown-editor/blob/master/slate/examples/index.js#L378\" rel=\"nofollow noreferrer\">https://github.com/may-cat/markdown-editor/blob/master/slate/examples/index.js#L378</a></p>\n\n<p>I check values in App's state. And here strange things begin.\n<strong>For IntegerField with \"multiple\" attribute</strong>, value lifts up and appears in App's state. For example, for \"businessvalue\" field.\n<strong>For IntegerField without \"multiple\" attribute</strong>, value doesn't lift up and don't appear in App's state. For \"numbers\" field in my example.</p>\n\n<p>Why is that happening? What's so wrong?</p>\n"}, {"tags": ["javascript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 747, "user_id": 812355, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d0f8735d2938df658f1d1cd3d2b7144a?s=128&d=identicon&r=PG", "display_name": "sayayin", "link": "https://stackoverflow.com/users/812355/sayayin"}, "edited": false, "score": 0, "creation_date": 1518050129, "post_id": 48675348, "comment_id": 84349726, "body": "That was it!! Thank you very much!!"}], "tags": [], "owner": {"reputation": 16636, "user_id": 4716245, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/665fa1fbba5eba2c56cc572a12b2723f?s=128&d=identicon&r=PG&f=1", "display_name": "Richard Matsen", "link": "https://stackoverflow.com/users/4716245/richard-matsen"}, "is_accepted": true, "score": 0, "last_activity_date": 1518048202, "creation_date": 1518048202, "answer_id": 48675348, "question_id": 48675086, "link": "https://stackoverflow.com/questions/48675086/error-with-using-ngu-carousel-with-angular-4/48675348#48675348", "title": "Error with using Ngu Carousel with Angular 4", "body": "<p>Try adding these two buttons,</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button NguCarouselPrev class='leftRs'&gt;&amp;lt;&lt;/button&gt;\n&lt;button NguCarouselNext class='rightRs'&gt;&amp;gt;&lt;/button&gt;\n</code></pre>\n\n<p>Looking through the source code for <a href=\"https://github.com/sheikalthaf/ngu-carousel/blob/master/src/ngu-carousel/ngu-carousel.component.ts\" rel=\"nofollow noreferrer\">ngu-carousel.component.ts</a> there are several references to <code>nativeElement</code> in ngOnInit(). I'd say the following are most likely the cause the problem</p>\n\n<ul>\n<li>this.rightBtn = this.next.nativeElement;</li>\n<li>this.leftBtn = this.prev.nativeElement;</li>\n</ul>\n\n<p>where <code>this.next</code> and <code>this.prev</code> are set by</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>@ContentChild(NguCarouselNextDirective, { read: ElementRef })\nprivate next: ElementRef;\n@ContentChild(NguCarouselPrevDirective, { read: ElementRef })\nprivate prev: ElementRef;\n</code></pre>\n"}], "owner": {"reputation": 747, "user_id": 812355, "user_type": "registered", "accept_rate": 52, "profile_image": "https://www.gravatar.com/avatar/d0f8735d2938df658f1d1cd3d2b7144a?s=128&d=identicon&r=PG", "display_name": "sayayin", "link": "https://stackoverflow.com/users/812355/sayayin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2340, "favorite_count": 0, "accepted_answer_id": 48675348, "answer_count": 1, "score": 1, "last_activity_date": 1518048202, "creation_date": 1518046347, "last_edit_date": 1518046922, "question_id": 48675086, "link": "https://stackoverflow.com/questions/48675086/error-with-using-ngu-carousel-with-angular-4", "title": "Error with using Ngu Carousel with Angular 4", "body": "<p>I am trying to use this carousel (<a href=\"https://github.com/sheikalthaf/ngu-carousel\" rel=\"nofollow noreferrer\">https://github.com/sheikalthaf/ngu-carousel</a>) with Angular 4 but I keep getting this error.</p>\n\n<p><a href=\"https://i.stack.imgur.com/0zihb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0zihb.png\" alt=\"enter image description here\"></a></p>\n\n<p>After having all imports in the App module and in the component, I have simplified the the code in the template to this and still error does not go away. Any ideas?</p>\n\n<pre><code>&lt;ngu-carousel [inputs]=\"carouselOne\" (carouselLoad)=\"myfunc($event)\"&gt;\n    &lt;ngu-item NguCarouselItem&gt;\n      &lt;div&gt;--1--&lt;/div&gt;\n    &lt;/ngu-item&gt;\n    &lt;ngu-item NguCarouselItem&gt;\n      &lt;div&gt;--2--&lt;/div&gt;\n    &lt;/ngu-item&gt;\n&lt;/ngu-carousel&gt;\n</code></pre>\n\n<p>Below is the code in the component:</p>\n\n<pre><code>import { Component, OnInit } from '@angular/core';\nimport { NguCarousel, NguCarouselStore } from '@ngu/carousel';\nimport { Http } from '@angular/http';\nimport { FormGroup, FormBuilder } from '@angular/forms'\n\n@Component({\n  selector: 'app-new-squad',\n  templateUrl: './new-squad.component.html',\n  styleUrls: ['./new-squad.component.css']\n})\n\nexport class NewSquadComponent implements OnInit {\n\n  public carouselOne: NguCarousel;\n  public positions: Array&lt;string&gt; = [];\n  public players: Array&lt;string&gt; = [];\n  private form: FormGroup;\n\n  ngOnInit() {\n    console.log(\"here.........\");\n    this.carouselOne = {\n      grid: {xs: 1, sm: 1, md: 1, lg: 1, all: 0},\n      slide: 1,\n      speed: 400,\n      interval: 4000,\n      point: {\n        visible: true\n      },\n      load: 2,\n      touch: true,\n      loop: true,\n      custom: 'banner'\n    }\n  }\n\n onmoveFn(data: NguCarouselStore) {\n    console.log(data);\n  }\n\n  public myfunc(event: Event) {\n     // carouselLoad will trigger this funnction when your load value reaches\n     // it is helps to load the data by parts to increase the performance of the app\n     // must use feature to all carousel\n  }\n\n  public saveSquad(f) {\n    console.log(f.value);\n    this.http.post('http://localhost:8080/squads', f.value)\n    .subscribe(response =&gt; {\n      console.log(response);\n    })\n  }\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "firebase", "create-react-app"], "answers": [{"tags": [], "owner": {"reputation": 13, "user_id": 8773839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/977d704fdf49060e5692b969e5f4b60e?s=128&d=identicon&r=PG&f=1", "display_name": "ColorCutClarity", "link": "https://stackoverflow.com/users/8773839/colorcutclarity"}, "is_accepted": false, "score": 0, "last_activity_date": 1518107195, "creation_date": 1518107195, "answer_id": 48690217, "question_id": 48675056, "link": "https://stackoverflow.com/questions/48675056/react-firebase-sign-in-provider-disabled-despite-it-being-enabled/48690217#48690217", "title": "React + Firebase &quot;sign-in provider disabled&quot; despite it being enabled", "body": "<p>I fixed this by removing the environment variable and using the raw API string.</p>\n"}], "owner": {"reputation": 13, "user_id": 8773839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/977d704fdf49060e5692b969e5f4b60e?s=128&d=identicon&r=PG&f=1", "display_name": "ColorCutClarity", "link": "https://stackoverflow.com/users/8773839/colorcutclarity"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 499, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1559561839, "creation_date": 1518046215, "last_edit_date": 1518107158, "question_id": 48675056, "link": "https://stackoverflow.com/questions/48675056/react-firebase-sign-in-provider-disabled-despite-it-being-enabled", "title": "React + Firebase &quot;sign-in provider disabled&quot; despite it being enabled", "body": "<p>In my Authentication -> Sign-in Method - it's Email &amp; Password set to 'Enabled'.</p>\n\n<p>I have a handler for an onSubmit calling this:</p>\n\n<pre><code>createUser(e){\n    e.preventDefault();\n    const email = this.createEmail.value\n    const password = this.createPassword.value\n    const confirm = this.confirmPassword.value\n    if(password === confirm) {\n        firebase.auth()\n            .createUserWithEmailAndPassword(email, password)\n            .then((res) =&gt; {\n                this.showCreate(e)\n            })\n            .catch((error) =&gt; {\n                alert(error.message)\n            })\n    }\n    else {\n        alert('Passwords must match')\n    }\n}\n</code></pre>\n\n<p>And it shoots this error \"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.\" </p>\n\n<p>I'm using the firebase npm package. It's a note-taking application and it's successfully communicating with the database.</p>\n\n<p>But I have it Enabled. Is anyone aware of how to fix this, or if there's a setting I seem to be missing?</p>\n\n<p>SOLUTION: I fixed this by removing the environment variable and using the raw API string. Weird.</p>\n"}, {"tags": ["javascript", "xmlhttprequest"], "comments": [{"owner": {"reputation": 3970, "user_id": 9147721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZXCE2.jpg?s=128&g=1", "display_name": "xianshenglu", "link": "https://stackoverflow.com/users/9147721/xianshenglu"}, "edited": false, "score": 0, "creation_date": 1518046676, "post_id": 48675046, "comment_id": 84348786, "body": "xhttp.readyStat is undefined?"}, {"owner": {"reputation": 1337, "user_id": 5790134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vlJjm.jpg?s=128&g=1", "display_name": "Phillip Thomas", "link": "https://stackoverflow.com/users/5790134/phillip-thomas"}, "edited": false, "score": 0, "creation_date": 1518047411, "post_id": 48675046, "comment_id": 84349008, "body": "What is the output of your <code>console.log(xhttp.responseText);</code>?"}, {"owner": {"reputation": 91, "user_id": 6913348, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a90bdae9ea0583a4c75a29b555469ee8?s=128&d=identicon&r=PG&f=1", "display_name": "PoorProgrammer", "link": "https://stackoverflow.com/users/6913348/poorprogrammer"}, "edited": false, "score": 0, "creation_date": 1518047591, "post_id": 48675046, "comment_id": 84349045, "body": "console.log(xhttp.responseText);  {&quot;success&quot;:true,&quot;message&quot;:&quot;&quot;,&quot;result&quot;:{&quot;Bid&quot;:7605.26000000,&quot;&zwnj;&#8203;Ask&quot;:7609.99999999,&quot;&zwnj;&#8203;Last&quot;:7610.00000000}&zwnj;&#8203;}"}, {"owner": {"reputation": 1337, "user_id": 5790134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vlJjm.jpg?s=128&g=1", "display_name": "Phillip Thomas", "link": "https://stackoverflow.com/users/5790134/phillip-thomas"}, "edited": false, "score": 0, "creation_date": 1518047834, "post_id": 48675046, "comment_id": 84349095, "body": "So you must be talking about the <code>this.success = success;</code> not being set? These won&#39;t be set correctly as they are run before the <code>onreadystatechange</code> event. What are you attempting to do after this web request?"}], "answers": [{"comments": [{"owner": {"reputation": 91, "user_id": 6913348, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a90bdae9ea0583a4c75a29b555469ee8?s=128&d=identicon&r=PG&f=1", "display_name": "PoorProgrammer", "link": "https://stackoverflow.com/users/6913348/poorprogrammer"}, "edited": false, "score": 0, "creation_date": 1518046941, "post_id": 48675136, "comment_id": 84348870, "body": "I&#39;m talking about properties of bittrexBTC object (Last: undefined message: undefined success: undefined)"}, {"owner": {"reputation": 3970, "user_id": 9147721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZXCE2.jpg?s=128&g=1", "display_name": "xianshenglu", "link": "https://stackoverflow.com/users/9147721/xianshenglu"}, "reply_to_user": {"reputation": 91, "user_id": 6913348, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a90bdae9ea0583a4c75a29b555469ee8?s=128&d=identicon&r=PG&f=1", "display_name": "PoorProgrammer", "link": "https://stackoverflow.com/users/6913348/poorprogrammer"}, "edited": false, "score": 0, "creation_date": 1518047165, "post_id": 48675136, "comment_id": 84348939, "body": "@PoorProgrammer Last:7594.17177079 ,,message:&#39;&#39;,success:true"}, {"owner": {"reputation": 3970, "user_id": 9147721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZXCE2.jpg?s=128&g=1", "display_name": "xianshenglu", "link": "https://stackoverflow.com/users/9147721/xianshenglu"}, "reply_to_user": {"reputation": 91, "user_id": 6913348, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a90bdae9ea0583a4c75a29b555469ee8?s=128&d=identicon&r=PG&f=1", "display_name": "PoorProgrammer", "link": "https://stackoverflow.com/users/6913348/poorprogrammer"}, "edited": false, "score": 0, "creation_date": 1518047943, "post_id": 48675136, "comment_id": 84349124, "body": "@PoorProgrammer updated,now works for me ,test again.i will add explainsion"}, {"owner": {"reputation": 1337, "user_id": 5790134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vlJjm.jpg?s=128&g=1", "display_name": "Phillip Thomas", "link": "https://stackoverflow.com/users/5790134/phillip-thomas"}, "edited": false, "score": 1, "creation_date": 1518048152, "post_id": 48675136, "comment_id": 84349181, "body": "This will work to set these properties, but I fear you are going to miss a huge concept depending on how you anticipate using your <code>bittrexBTC</code> object in later code. The reason your original code is not working as intended is due to this <code>XMLHttpRequest</code> running asynchronously."}, {"owner": {"reputation": 91, "user_id": 6913348, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a90bdae9ea0583a4c75a29b555469ee8?s=128&d=identicon&r=PG&f=1", "display_name": "PoorProgrammer", "link": "https://stackoverflow.com/users/6913348/poorprogrammer"}, "edited": false, "score": 0, "creation_date": 1518048517, "post_id": 48675136, "comment_id": 84349282, "body": "Works for me now as well. Thanks a lot, @xianshenglu."}, {"owner": {"reputation": 91, "user_id": 6913348, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a90bdae9ea0583a4c75a29b555469ee8?s=128&d=identicon&r=PG&f=1", "display_name": "PoorProgrammer", "link": "https://stackoverflow.com/users/6913348/poorprogrammer"}, "reply_to_user": {"reputation": 1337, "user_id": 5790134, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/vlJjm.jpg?s=128&g=1", "display_name": "Phillip Thomas", "link": "https://stackoverflow.com/users/5790134/phillip-thomas"}, "edited": false, "score": 0, "creation_date": 1518048523, "post_id": 48675136, "comment_id": 84349286, "body": "@PhillipThomas I&#39;m going to change content of some html tag using innerHTML property, and use bittrexBTC.Last property for some calculations later."}, {"owner": {"reputation": 3970, "user_id": 9147721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZXCE2.jpg?s=128&g=1", "display_name": "xianshenglu", "link": "https://stackoverflow.com/users/9147721/xianshenglu"}, "edited": false, "score": 0, "creation_date": 1518048624, "post_id": 48675136, "comment_id": 84349311, "body": "yes,you are right,he has to put the other callback in the readystatechange callback or change the true argument in  xhttp.open to false.He can&#39;t use the obj immediately"}, {"owner": {"reputation": 3970, "user_id": 9147721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZXCE2.jpg?s=128&g=1", "display_name": "xianshenglu", "link": "https://stackoverflow.com/users/9147721/xianshenglu"}, "reply_to_user": {"reputation": 91, "user_id": 6913348, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a90bdae9ea0583a4c75a29b555469ee8?s=128&d=identicon&r=PG&f=1", "display_name": "PoorProgrammer", "link": "https://stackoverflow.com/users/6913348/poorprogrammer"}, "edited": false, "score": 1, "creation_date": 1518048786, "post_id": 48675136, "comment_id": 84349353, "body": "@PoorProgrammer notice that ,you can&#39;t use the obj immediately because the xhr needs time to get result and set those three attributes.If you want to ,you could put the other callback in the readystatechange callback,put it at the bottom or change the true argument in xhttp.open to false."}], "tags": [], "owner": {"reputation": 3970, "user_id": 9147721, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ZXCE2.jpg?s=128&g=1", "display_name": "xianshenglu", "link": "https://stackoverflow.com/users/9147721/xianshenglu"}, "is_accepted": true, "score": 1, "last_activity_date": 1518048354, "last_edit_date": 1518048354, "creation_date": 1518046644, "answer_id": 48675136, "question_id": 48675046, "link": "https://stackoverflow.com/questions/48675046/how-to-make-sure-that-property-will-get-its-value-after-response/48675136#48675136", "title": "How to make sure that property will get its value after response?", "body": "<p>this should work:</p>\n\n<pre><code>    var tickerBittrex = function(tickerName) {\n        this.tickerName = tickerName;\n        this.requestURL = \"https://bittrex.com/api/v1.1/public/getticker?market=\" + tickerName;\n        /* Properties */\n        this.success = false;\n        this.message = \"\";\n        this.Last = 0;\n        var self = this;\n\n        this.sendRequest = function() { /* temp variables */\n\n\n            var xhttp = new XMLHttpRequest();\n\n            xhttp.onreadystatechange = function(success, message, Last) {\n                var success;\n                var message;\n                var Last;\n                if (this.readyState == 4 &amp;&amp; this.status == 200) {\n                    console.log(xhttp.responseText); // test\n\n                    var response = JSON.parse(xhttp.responseText); // parsed response\n\n                    console.log(response); // test\n\n                    success = response.success;\n                    message = response.message;\n\n                    Last = response.result.Last;\n\n                    console.log(Last, success, message); // test\n                    self.success = success;\n                    self.message = message;\n                    self.Last = Last;\n                    console.log(self);\n                    console.log(\"xhttp.status: \" + xhttp.status + \" readyState:\" + xhttp.readyState); // test                   \n\n                }\n            };\n            xhttp.open(\"GET\", this.requestURL, true);\n            xhttp.send();\n\n        }\n\n\n    }\n\n\n    var bittrexBTC = new tickerBittrex(\"usdt-btc\");\n    bittrexBTC.sendRequest();\n</code></pre>\n\n<p>Explanation:</p>\n\n<p>first,put code below  in the onreadystatechange callback because before the callback executed the value of success,message,Last will be undefined.</p>\n\n<pre><code>       this.success = success;\n        this.message = message;\n        this.Last = Last;\n</code></pre>\n\n<p>second:change this to self which defined in the tickerBittrex function,so can get the right this object.</p>\n\n<pre><code>        var self = this;\n</code></pre>\n\n<p>so comes:</p>\n\n<pre><code>       self.success = success;\n        self.message = message;\n        self.Last = Last;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/rNSvu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/rNSvu.png\" alt=\"result\"></a></p>\n"}], "owner": {"reputation": 91, "user_id": 6913348, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a90bdae9ea0583a4c75a29b555469ee8?s=128&d=identicon&r=PG&f=1", "display_name": "PoorProgrammer", "link": "https://stackoverflow.com/users/6913348/poorprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 29, "favorite_count": 0, "accepted_answer_id": 48675136, "answer_count": 1, "score": 0, "last_activity_date": 1518048354, "creation_date": 1518046175, "question_id": 48675046, "link": "https://stackoverflow.com/questions/48675046/how-to-make-sure-that-property-will-get-its-value-after-response", "title": "How to make sure that property will get its value after response?", "body": "<p>Response is received without any problems, but properties which must be changed after response by received data are undefined. Probably they getting values from the temp variables way too fast. How to fix this?\nBy the way, is there an option to avoid those temp variables and use properties of the object inside if statement? It would be so much better. Tried different ways, but it didn't work =(  </p>\n\n<pre><code>  var tickerBittrex = function(tickerName)\n    {\n        this.tickerName = tickerName;\n        this.requestURL = \"https://bittrex.com/api/v1.1/public/getticker?market=\" + tickerName;\n        /* Properties */\n        this.success = false;\n        this.message = \"\";\n        this.Last = 0;\n\n\n        this.sendRequest = function()\n        {   /* temp variables */\n            var success;\n            var message;\n            var Last;\n\n            var xhttp = new XMLHttpRequest();\n\n            xhttp.onreadystatechange = function(success, message, Last)\n            {\n                if (this.readyState == 4 &amp;&amp; this.status == 200)\n                {\n                   console.log(xhttp.responseText); // test\n\n                   var response = JSON.parse(xhttp.responseText); // parsed response\n\n                   console.log(response); // test\n\n                   success = response.success;\n                   message = response.message;\n\n                   Last = response.result.Last;\n\n                   console.log(Last); // test\n\n                   console.log(\"xhttp.status: \" + xhttp.status + \" readyStat:\" + xhttp.readyStat); // test\n\n                }\n            };\n            xhttp.open(\"GET\", this.requestURL, true);\n            xhttp.send();\n\n            this.success = success;\n            this.message = message;\n            this.Last = Last;\n        }\n\n    }\n\n\n    var bittrexBTC = new tickerBittrex(\"usdt-btc\");\n    bittrexBTC.sendRequest();\n</code></pre>\n"}, {"tags": ["javascript", "google-maps", "google-maps-api-3", "autocomplete", "google-maps-autocomplete"], "comments": [{"owner": {"reputation": 19805, "user_id": 1238965, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9tqVh.jpg?s=128&g=1", "display_name": "MrUpsidown", "link": "https://stackoverflow.com/users/1238965/mrupsidown"}, "edited": false, "score": 0, "creation_date": 1518080795, "post_id": 48675040, "comment_id": 84360008, "body": "What about reading the <a href=\"https://developers.google.com/places/supported_types#table3\" rel=\"nofollow noreferrer\">documentation</a>? <code>geocode</code>, <code>address</code>, <code>establishment</code>, <code>(regions)</code>, <code>(cities)</code>, are the supported types."}, {"owner": {"reputation": 23, "user_id": 8333128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a988ee08ad845fb0428e4787b3039f?s=128&d=identicon&r=PG&f=1", "display_name": "Connor Lloyd Moore", "link": "https://stackoverflow.com/users/8333128/connor-lloyd-moore"}, "reply_to_user": {"reputation": 19805, "user_id": 1238965, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9tqVh.jpg?s=128&g=1", "display_name": "MrUpsidown", "link": "https://stackoverflow.com/users/1238965/mrupsidown"}, "edited": false, "score": 2, "creation_date": 1518088328, "post_id": 48675040, "comment_id": 84365321, "body": "I did read the documentation. That is why I wrote &quot;Looking at the &#39;documentation&#39; I can see that regions type will return all results containing the following types;  * locality  * sublocality  * postal_code  * country  * administrative_area1  * administrative_area2 for region type &quot;"}, {"owner": {"reputation": 2951, "user_id": 337710, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/2xLEb.jpg?s=128&g=1", "display_name": "Lloyd Moore", "link": "https://stackoverflow.com/users/337710/lloyd-moore"}, "reply_to_user": {"reputation": 19805, "user_id": 1238965, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9tqVh.jpg?s=128&g=1", "display_name": "MrUpsidown", "link": "https://stackoverflow.com/users/1238965/mrupsidown"}, "edited": false, "score": 0, "creation_date": 1518124664, "post_id": 48675040, "comment_id": 84388408, "body": "@MrUpsidown clearly it didn&#39;t and your own use of the word &#39;should&#39;, should, have been a self monitoring tool of how to respond,  or indeed whether to. Let&#39;s make ourselves more accessible to the community and at least be mindful of different perspectives and levels of experience.  Telling someone to RTFM is not helpful. The question clearly contains the following &quot;Looking at the documentation I can see that regions type will return all results containing the following types&quot;."}], "answers": [{"tags": [], "owner": {"reputation": 19805, "user_id": 1238965, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/9tqVh.jpg?s=128&g=1", "display_name": "MrUpsidown", "link": "https://stackoverflow.com/users/1238965/mrupsidown"}, "is_accepted": true, "score": 0, "last_activity_date": 1518127199, "last_edit_date": 1518127199, "creation_date": 1518099049, "answer_id": 48687506, "question_id": 48675040, "link": "https://stackoverflow.com/questions/48675040/google-api-autocomplete-only-one-region-type/48687506#48687506", "title": "Google API Autocomplete, Only one region type", "body": "<p>You <em>could</em> filter your query predictions results to only display (or do whatever you like with it, as we don't know what you are trying to do) a prediction if it has a type of <code>sublocality</code> as each result comes with an array of <code>types</code>.</p>\n\n<p>Something like that:</p>\n\n<pre><code>// Build output for each prediction\nfor (var i = 0, prediction; prediction = predictions[i]; i++) {\n\n  if (prediction['types'].includes('sublocality')) {\n\n    // Display it or do what you need to do here\n  }\n}\n</code></pre>\n\n<p>Bare in mind though that query predictions only return a maximum of 5 results, so it <em>might</em> be confusing for the end-user as nothing at all might show until you enter quite a few letters...</p>\n"}], "owner": {"reputation": 23, "user_id": 8333128, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40a988ee08ad845fb0428e4787b3039f?s=128&d=identicon&r=PG&f=1", "display_name": "Connor Lloyd Moore", "link": "https://stackoverflow.com/users/8333128/connor-lloyd-moore"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2214, "favorite_count": 0, "accepted_answer_id": 48687506, "answer_count": 1, "score": 0, "last_activity_date": 1518127199, "creation_date": 1518046135, "last_edit_date": 1518099140, "question_id": 48675040, "link": "https://stackoverflow.com/questions/48675040/google-api-autocomplete-only-one-region-type", "title": "Google API Autocomplete, Only one region type", "body": "<p>I am currently using the google apis API to autocomplete locations. I can set it to only return the regions type with \"autocomplete.setTypes(['regions'])\" . Looking at the documentation I can see that regions type will return all results containing the following types; \n<br />\n* locality <br />\n* sublocality <br />\n* postal_code <br />\n* country <br />\n* administrative_area1 <br />\n* administrative_area2</p>\n\n<p>What I want to achieve though, is to only return autocomplete predictions with the region type \"sublocality\". Is this possible? If not has anybody had a similar issue and have an alternative solution they would recommend? Thank you. </p>\n\n<pre><code>var autocomplete = new google.maps.places.Autocomplete(input);\n\nvar types = ['(regions)'];\n\nvar options = {\n    componentRestrictions: {country: 'uk'}\n};\n\nautocomplete.setTypes(types);\nautocomplete.setOptions(options);\n</code></pre>\n\n<p>\n   </p>\n"}, {"tags": ["javascript", "python", "gojs"], "answers": [{"tags": [], "owner": {"reputation": 3593, "user_id": 5082978, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1t9s6.png?s=128&g=1", "display_name": "Walter Northwoods", "link": "https://stackoverflow.com/users/5082978/walter-northwoods"}, "is_accepted": true, "score": 1, "last_activity_date": 1519244386, "creation_date": 1519244386, "answer_id": 48914766, "question_id": 48675033, "link": "https://stackoverflow.com/questions/48675033/gojs-dinamical-dropdown-choices-for-node-and-link-text/48914766#48914766", "title": "gojs dinamical dropdown choices for node and link text", "body": "<p>I seem to have missed this before.  Here's some code that answers your question by implementing it:</p>\n\n<pre><code>function init() {\n  var $ = go.GraphObject.make;\n\n  myDiagram =\n    $(go.Diagram, \"myDiagramDiv\",\n      {\n        initialContentAlignment: go.Spot.Center,\n        \"undoManager.isEnabled\": true,\n        \"ModelChanged\": function(e) {     // just for demonstration purposes,\n          if (e.isTransactionFinished) {  // show the model data in the page's TextArea\n            document.getElementById(\"mySavedModel\").textContent = e.model.toJson();\n          }\n          if (e.change === go.ChangedEvent.Remove) {\n            if (e.modelChange === \"linkDataArray\") {\n              var linkdata = e.oldValue;\n              var oldstr = linkdata.text;\n              if (!oldstr) return;\n              var linkchoices = e.model.modelData.linkchoices;\n              var idx = linkchoices.indexOf(oldstr);\n              if (idx &lt; 0) {\n                console.log(\"deletion adding link choice: \" + oldstr);\n                var newlinkchoices = Array.prototype.slice.call(linkchoices);\n                newlinkchoices.push(oldstr);\n                e.model.set(e.model.modelData, \"linkchoices\", newlinkchoices);\n              }\n            } else if (e.modelChange === \"nodeDataArray\") {\n              var nodedata = e.oldValue;\n              var oldstr = nodedata.text;\n              if (!oldstr) return;\n              var nodechoices = e.model.modelData.nodechoices;\n              var idx = nodechoices.indexOf(oldstr);\n              if (idx &lt; 0) {\n                console.log(\"deletion adding node choice: \" + oldstr);\n                var newnodechoices = Array.prototype.slice.call(nodechoices);\n                newnodechoices.push(oldstr);\n                e.model.set(e.model.modelData, \"nodechoices\", newnodechoices);\n              }\n            }\n          }\n        }\n      });\n\n  myDiagram.nodeTemplate =\n    $(go.Node, \"Auto\",\n      $(go.Shape,\n        { fill: \"white\", portId: \"\", fromLinkable: true, toLinkable: true, cursor: \"pointer\" },\n        new go.Binding(\"fill\", \"color\")),\n      $(go.TextBlock,\n        {\n          margin: 8,\n          editable: true,\n          textEditor: window.TextEditorSelectBox, // defined in extensions/textEditorSelectBox.js\n          textEdited: function(tb, oldstr, newstr) {\n            if (oldstr !== newstr) {\n              console.log(\"changing from \" + oldstr + \" to \" + newstr);\n              var model = tb.diagram.model;\n              var nodechoices = model.modelData.nodechoices;\n              if (!nodechoices) {\n                nodechoices = [];\n                model.set(model.modelData, \"nodechoices\", nodechoices);\n              }\n              var idx = nodechoices.indexOf(newstr);\n              if (idx &gt;= 0) {\n                console.log(\"removing node choice \" + idx + \": \" + newstr);\n                model.removeArrayItem(nodechoices, idx);\n              }\n              if (oldstr) {\n                console.log(\"  adding node choice \" + oldstr);\n                model.addArrayItem(nodechoices, oldstr);\n              }\n            }\n          }\n        },\n        new go.Binding(\"text\").makeTwoWay(),\n        new go.Binding(\"choices\", \"nodechoices\").ofModel())\n    );\n\n  myDiagram.linkTemplate =\n    $(go.Link,\n      $(go.Shape),\n      $(go.Shape, { toArrow: \"OpenTriangle\" }),\n      $(go.TextBlock,\n        {\n          background: \"white\",\n          editable: true,\n          textEditor: window.TextEditorSelectBox, // defined in extensions/textEditorSelectBox.js\n          textEdited: function(tb, oldstr, newstr) {\n            if (oldstr !== newstr) {\n              console.log(\"changing from \" + oldstr + \" to \" + newstr);\n              var model = tb.diagram.model;\n              var linkchoices = model.modelData.linkchoices;\n              if (!linkchoices) {\n                linkchoices = [];\n                model.set(model.modelData, \"linkchoices\", linkchoices);\n              }\n              var idx = linkchoices.indexOf(newstr);\n              if (idx &gt;= 0) {\n                console.log(\"removing link choice \" + idx + \": \" + newstr);\n                model.removeArrayItem(linkchoices, idx);\n              }\n              if (oldstr) {\n                console.log(\"  adding link choice \" + oldstr);\n                model.addArrayItem(linkchoices, oldstr);\n              }\n            }\n          }\n        },\n        new go.Binding(\"text\").makeTwoWay(),\n        new go.Binding(\"choices\", \"linkchoices\").ofModel())\n    );\n\n  myDiagram.model = new go.GraphLinksModel(\n  [\n    { key: 1, text: \"Alpha\", color: \"lightblue\" },\n    { key: 2, text: \"Beta\", color: \"orange\" },\n    { key: 3, text: \"Gamma\", color: \"lightgreen\" },\n    { key: 4, text: \"Delta\", color: \"pink\" }\n  ],\n  [\n    { from: 1, to: 2, text: \"one\" },\n    { from: 1, to: 3, text: \"two\" },\n    { from: 3, to: 4, text: \"three\" }\n  ]);\n  myDiagram.model.set(myDiagram.model.modelData, \"nodechoices\", [\"Epsilon\"]);\n  myDiagram.model.set(myDiagram.model.modelData, \"linkchoices\", [\"four\"]);\n}\n</code></pre>\n"}], "owner": {"reputation": 369, "user_id": 5674883, "user_type": "registered", "accept_rate": 76, "profile_image": "https://www.gravatar.com/avatar/277dc074ac3e89420003b4185f8e06f5?s=128&d=identicon&r=PG&f=1", "display_name": "Teemo", "link": "https://stackoverflow.com/users/5674883/teemo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 665, "favorite_count": 0, "accepted_answer_id": 48914766, "answer_count": 1, "score": 0, "last_activity_date": 1519244386, "creation_date": 1518046072, "question_id": 48675033, "link": "https://stackoverflow.com/questions/48675033/gojs-dinamical-dropdown-choices-for-node-and-link-text", "title": "gojs dinamical dropdown choices for node and link text", "body": "<p>I want to make custom choices dropdown for users to edit node and link text. </p>\n\n<p><a href=\"https://i.stack.imgur.com/r4ZEr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r4ZEr.png\" alt=\"enter image description here\"></a></p>\n\n<p>So far, I used this code to make user select nodes and links text selectable in dropdown list:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n&lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n&lt;title&gt;State Chart&lt;/title&gt;\n&lt;meta name=\"description\" content=\"A finite state machine chart with editable and interactive features.\" /&gt;\n&lt;meta charset=\"UTF-8\"&gt;\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js\"&gt;&lt;/script&gt;\n&lt;link href=\"http://getbootstrap.com/dist/css/bootstrap.min.css\" rel=\"stylesheet\"&gt;\n\n&lt;script src=\"{{url_for('static', filename='go.js')}}\"&gt;&lt;/script&gt;\n\n&lt;!-- custom text editors --&gt;\n&lt;script src=\"{{url_for('static', filename='TextEditorSelectBox.js')}}\"&gt;&lt;/script&gt;\n&lt;script src=\"{{url_for('static', filename='TextEditorRadioButtons.js')}}\"&gt;&lt;/script&gt;\n&lt;script src=\"{{url_for('static', filename='TextEditorSelectBox.js')}}\"&gt;&lt;/script&gt;\n\n\n&lt;script src=\"{{url_for('static', filename='DataInspector.js')}}\"&gt;&lt;/script&gt;\n\n&lt;link href=\"https://gojs.net/latest/extensions/DataInspector.css\" rel=\"stylesheet\"&gt;\n&lt;link href=\"{{url_for('static', filename='DataInspector.css')}}\" rel=\"stylesheet\"&gt;\n\n\n&lt;link href=\"https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\" rel=\"stylesheet\"&gt; \n&lt;style&gt;\n\nbody {\n  overflow-x: hidden;\n}\n\n#wrapper {\n  padding-left: 0;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n\n#wrapper.toggled {\n  padding-left: 250px;\n}\n\n#sidebar-wrapper {\n  z-index: 1000;\n  position: fixed;\n  left: 250px;\n  width: 0;\n  height: 100%;\n  margin-left: -250px;\n  overflow-y: auto;\n  background: #000;\n  -webkit-transition: all 0.5s ease;\n  -moz-transition: all 0.5s ease;\n  -o-transition: all 0.5s ease;\n  transition: all 0.5s ease;\n}\n\n#wrapper.toggled #sidebar-wrapper {\n  width: 250px;\n}\n\n#page-content-wrapper {\n  width: 100%;\n  position: absolute;\n  padding: 15px;\n}\n\n#wrapper.toggled #page-content-wrapper {\n  position: absolute;\n  margin-right: -250px;\n}\n\n\n/* Sidebar Styles */\n\n.sidebar-nav {\n  position: absolute;\n  top: 0;\n  width: 250px;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n}\n\n.sidebar-nav li {\n  text-indent: 20px;\n  line-height: 40px;\n}\n\n.sidebar-nav li a {\n  display: block;\n  text-decoration: none;\n  color: #999999;\n}\n\n.sidebar-nav li a:hover {\n  text-decoration: none;\n  color: #fff;\n  background: rgba(255, 255, 255, 0.2);\n}\n\n.sidebar-nav li a:active, .sidebar-nav li a:focus {\n  text-decoration: none;\n}\n\n.sidebar-nav&gt;.sidebar-brand {\n  height: 65px;\n  font-size: 18px;\n  line-height: 60px;\n}\n\n.sidebar-nav&gt;.sidebar-brand a {\n  color: #999999;\n}\n\n.sidebar-nav&gt;.sidebar-brand a:hover {\n  color: #fff;\n  background: none;\n}\n\n@media(min-width:768px) {\n  #wrapper {\n    padding-left: 0;\n  }\n  #wrapper.toggled {\n    padding-left: 250px;\n  }\n  #sidebar-wrapper {\n    width: 0;\n  }\n  #wrapper.toggled #sidebar-wrapper {\n    width: 250px;\n  }\n  #page-content-wrapper {\n    padding: 20px;\n    position: relative;\n  }\n  #wrapper.toggled #page-content-wrapper {\n    position: relative;\n    margin-right: 0;\n  }\n}\n\n&lt;/style&gt;\n&lt;script id=\"code\"&gt;\n\n    var nodeChoices = ['choice 1', 'choice 2', 'choice 3', 'choice 4', 'choice 5'];\n    const originalNodeChoices = ['choice 1', 'choice 2', 'choice 3', 'choice 4', 'choice 5'];\n    var linkChoices = ['link choice 1', 'link choice 2', 'link choice 3', 'link choice 4', 'link choice 5'];\n    const originalLinkChoices = ['link choice 1', 'link choice 2', 'link choice 3', 'link choice 4', 'link choice 5'];\n\n    function init() {\n\n        var $ = go.GraphObject.make;\n        myDiagram =\n        $(go.Diagram, \"myDiagramDiv\",  // must name or refer to the DIV HTML element\n        {\n            // start everything in the middle of the viewport\n            initialContentAlignment: go.Spot.Center,\n            // have mouse wheel events zoom in and out instead of scroll up and down\n            \"toolManager.mouseWheelBehavior\": go.ToolManager.WheelZoom,\n            // support double-click in background creating a new node\n            \"clickCreatingTool.archetypeNodeData\": { text: \"new node\" },\n            // enable undo &amp; redo\n            \"textEditingTool.defaultTextEditor\": window.TextEditorSelectBox,\n            \"undoManager.isEnabled\": true,\n            \"layout\": new go.ForceDirectedLayout(),\n            \"ModelChanged\": function(e) {\n                //console.log(\"Diagram model changed!\");\n\n              if (e.change === go.ChangedEvent.Remove &amp;&amp; e.modelChange === \"linkDataArray\") {\n                console.log(\"eee its linkDataArray\");\n                console.log(e);\n                var linkdata = e.oldValue;\n                console.log(\"linkdata\");\n                console.log(linkdata);\n                var oldstr = linkdata.text;\n                console.log(\"oldstr\");\n                console.log(oldstr);\n\n                if (!oldstr) return;\n                var customModelData = e.model.modelData.choices;\n                var choices = e.model.modelData.choices.linkChoices;\n                console.log(\"choices\");\n                console.log(choices);\n                var idx = choices.indexOf(oldstr);\n                if (idx &lt; 0) {\n                  console.log(\"adding choice: \" + oldstr);\n                  var newchoices = Array.prototype.slice.call(choices);\n                  newchoices.push(oldstr);\n                  e.model.set(e.model.modelData, \"choices\", newchoices);\n                }\n              }else if(e.change === go.ChangedEvent.Remove &amp;&amp; e.modelChange === \"nodeDataArray\"){\n                    console.log(\"eee its nodeDataArray\");\n              }\n              /*\n              else{\n                console.log(\"elseeeeeee111!\");\n                console.log(\"e.change\");\n                console.log(e.change);\n                console.log(\"e.modelChange\");\n                console.log(e.modelChange);\n              }*/\n            }\n        });\n\n        //myDiagram.model.set(myDiagram.model.modelData, \"choices\", JSON.parse('{{ link_choices | tojson | safe}}'));\n        //myDiagram.model.set(myDiagram.model.modelData, \"choices\", [\"one\", \"two\", \"three\"]);\n        console.log(\"myDiagram.model.modelData\");\n        console.log(myDiagram.model.modelData);\n        console.log(\"myDiagram.model.modelData.choices\");\n        console.log(myDiagram.model.modelData.choices);\n\n\n        // when the document is modified, add a \"*\" to the title and enable the \"Save\" button\n        myDiagram.addDiagramListener(\"Modified\", function(e) {\n            var button = document.getElementById(\"SaveButton\");\n            if (button) button.disabled = !myDiagram.isModified;\n            var idx = document.title.indexOf(\"*\");\n            if (myDiagram.isModified) {\n                if (idx &lt; 0) document.title += \"*\";\n            } \n            else {\n                if (idx &gt;= 0) document.title = document.title.substr(0, idx);\n            }\n        });\n\n        myDiagram.addDiagramListener(\"textEdited\", function(e) {\n            console.log(\"Text is edited\");\n            console.log(e);\n\n            //CHECK IF LINK,\n            //IF YES REMOVE THAT OPTION FROM LIST\n\n        });\n\n        myDiagram.addDiagramListener(\"SelectionDeleting\", function(e) {\n            console.log(\"inside SelectionDeleting\");\n            console.log(e);\n\n            //CHECK IF LINK,\n            //IF YES PUT THAT OPTION BACK IN OPTION LIST\n\n        });\n\n            // define the Node template\n        myDiagram.nodeTemplate =\n          $(go.Node, \"Auto\",\n            new go.Binding(\"location\", \"loc\", go.Point.parse).makeTwoWay(go.Point.stringify),\n            // define the node's outer shape, which will surround the TextBlock\n            $(go.Shape, \"RoundedRectangle\",\n              {\n                parameter1: 20,  // the corner has a large radius\n                fill: $(go.Brush, \"Linear\", { 0: \"rgb(254, 201, 0)\", 1: \"rgb(254, 162, 0)\" }),\n                stroke: null,\n                portId: \"\",  // this Shape is the Node's port, not the whole Node\n                fromLinkable: true, fromLinkableDuplicates: true,\n                toLinkable: true, toLinkableDuplicates: true,\n                cursor: \"pointer\"\n              }),\n            $(go.TextBlock,\n              {\n                font: \"bold 11pt helvetica, bold arial, sans-serif\",\n                editable: true,  // editing the text automatically updates the model data\n                //textEditor: window.TextEditorRadioButtons, // defined in textEditorRadioButtons.js\n                // this specific TextBlock has its own choices:\n\n                textEditor: window.TextEditorRadioButtons,\n                textEdited: function(tb, oldstr, newstr) {\n                    console.log(\"textEdited nodeeeeeeeeeeeeeeeeeeeeeeeee!!!\");\n                  var choices = tb.diagram.model.modelData.choices.nodeChoices;\n                  console.log(\"choices\");\n                  console.log(choices);\n                  console.log(\"newstr\");\n                  console.log(newstr);\n                  console.log(\"oldstr\");\n                  console.log(oldstr);\n                  var idx = choices.indexOf(newstr);\n                  if (idx &gt;= 0 &amp;&amp; oldstr !== newstr ) {\n                    console.log(choices);\n                    console.log(\"choices\");\n                    console.log(choices);\n                    console.log(\"removing choice \" + idx + \": \" + newstr);\n                    var newchoices = Array.prototype.slice.call(choices);\n\n                    newchoices.splice(idx, 1);\n                    console.log(\"after remove\");\n                    console.log(newchoices);\n                    var currentChoicesFromModel = tb.diagram.model.modelData.choices;\n                    console.log(\"currentChoicesFromModel\");\n                    console.log(currentChoicesFromModel);\n                    currentChoicesFromModel.nodeChoices = newchoices;\n                    console.log(\"currentChoicesFromModel after update: \");\n                    console.log(currentChoicesFromModel);\n                    tb.diagram.model.set(tb.diagram.model.modelData, \"choices\", currentChoicesFromModel);\n                    //tb.editable = false;  // don't allow choice again\n                  }else{\n                        console.log(\"elseeeeee\");\n                  }\n                },\n                //choices: JSON.parse('{{ choices | tojson | safe}}')\n                choices: nodeChoices\n              },\n            new go.Binding(\"text\").makeTwoWay())\n        );\n\n        myDiagram.nodeTemplate.selectionAdornmentTemplate =\n        $(go.Adornment, \"Spot\",\n            $(go.Panel, \"Auto\",\n            $(go.Shape, { stroke: \"dodgerblue\", strokeWidth: 2, fill: null }),\n            $(go.Placeholder)\n        ),\n        $(go.Panel, \"Horizontal\",\n            { alignment: go.Spot.Top, alignmentFocus: go.Spot.Bottom },\n            $(\"Button\",\n                { click: editText },  // defined below, to support editing the text of the node\n                $(go.TextBlock, \"t\",\n                { font: \"bold 10pt sans-serif\", desiredSize: new go.Size(15, 15), textAlign: \"center\" })\n            ),\n            $(\"Button\",\n            { // drawLink is defined below, to support interactively drawing new links\n                click: drawLink,  // click on Button and then click on target node\n                actionMove: drawLink  // drag from Button to the target node\n            },\n            $(go.Shape,\n                { geometryString: \"M0 0 L8 0 8 12 14 12 M12 10 L14 12 12 14\" })\n            ),\n            $(\"Button\",\n            {\n                actionMove: dragNewNode,  // defined below, to support dragging from the button\n                _dragData: { text: \"?????\", color: \"lightgray\" },  // node data to copy\n                click: clickNewNode  // defined below, to support a click on the button\n            },\n            $(go.Shape,\n                { geometryString: \"M0 0 L3 0 3 10 6 10 x F1 M6 6 L14 6 14 14 6 14z\", fill: \"gray\" })\n          )\n        )\n      );\n\n    //myDiagram.model.set(myDiagram.model.modelData, \"choices\", JSON.parse('{{ link_choices | tojson | safe}}'));\n    //myDiagram.model.set(myDiagram.model.modelData, \"choices\", [\"one\", \"two\", \"three\"]);\n    console.log(\"myDiagram.model.modelData\");\n    console.log(myDiagram.model.modelData);\n    console.log(myDiagram.model.modelData.choices);\n\n    function editText(e, button) {\n        //console.log(e);\n\n      var node = button.part.adornedPart;\n      console.log(\"node\");\n      //console.log(node);\n      e.diagram.commandHandler.editTextBlock(node.findObject(\"TEXTBLOCK\"));\n      //$(\"#nodeText\").val(node.findObject(\"TEXTBLOCK\"));\n    }\n\n    function drawLink(e, button) {\n      var node = button.part.adornedPart;\n      var tool = e.diagram.toolManager.linkingTool;\n      tool.startObject = node.port;\n      e.diagram.currentTool = tool;\n      tool.doActivate();\n    }\n\n   // used by both clickNewNode and dragNewNode to create a node and a link\n    // from a given node to the new node\n    function createNodeAndLink(data, fromnode) {\n        var diagram = fromnode.diagram;\n        var model = diagram.model;\n        var nodedata = model.copyNodeData(data);\n        model.addNodeData(nodedata);\n        var newnode = diagram.findNodeForData(nodedata);\n        var linkdata = model.copyLinkData({});\n        model.setFromKeyForLinkData(linkdata, model.getKeyForNodeData(fromnode.data));\n        model.setToKeyForLinkData(linkdata, model.getKeyForNodeData(newnode.data));\n        model.addLinkData(linkdata);\n        diagram.select(newnode);\n        return newnode;\n    }\n\n    // the Button.click event handler, called when the user clicks the \"N\" button\n    function clickNewNode(e, button) {\n        var data = button._dragData;\n        if (!data) return;\n        e.diagram.startTransaction(\"Create Node and Link\");\n        var fromnode = button.part.adornedPart;\n        var newnode = createNodeAndLink(button._dragData, fromnode);\n        newnode.location = new go.Point(fromnode.location.x + 200, fromnode.location.y);\n        e.diagram.commitTransaction(\"Create Node and Link\");\n    }\n\n    // the Button.actionMove event handler, called when the user drags within the \"N\" button\n    function dragNewNode(e, button) {\n        var tool = e.diagram.toolManager.draggingTool;\n        if (tool.isBeyondDragSize()) {\n            var data = button._dragData;\n            if (!data) return;\n            e.diagram.startTransaction(\"button drag\");  // see doDeactivate, below\n            var newnode = createNodeAndLink(data, button.part.adornedPart);\n            newnode.location = e.diagram.lastInput.documentPoint;\n            // don't commitTransaction here, but in tool.doDeactivate, after drag operation finished\n            // set tool.currentPart to a selected movable Part and then activate the DraggingTool\n            tool.currentPart = newnode;\n            e.diagram.currentTool = tool;\n            tool.doActivate();\n        }\n    }\n\n    // using dragNewNode also requires modifying the standard DraggingTool so that it\n    // only calls commitTransaction when dragNewNode started a \"button drag\" transaction;\n    // do this by overriding DraggingTool.doDeactivate:\n    var tool = myDiagram.toolManager.draggingTool;\n    tool.doDeactivate = function() {\n        // commit \"button drag\" transaction, if it is ongoing; see dragNewNode, above\n        if (tool.diagram.undoManager.nestedTransactionNames.elt(0) === \"button drag\") {\n            tool.diagram.commitTransaction();\n        }\n        go.DraggingTool.prototype.doDeactivate.call(tool);  // call the base method\n    };\n\n    // replace the default Link template in the linkTemplateMap\n    myDiagram.linkTemplate =\n        $(go.Link,  // the whole link panel\n        {\n            curve: go.Link.Bezier, \n            adjusting: go.Link.Stretch,\n            reshapable: true, \n            relinkableFrom: true, \n            relinkableTo: true,\n            toShortLength: 3\n        },\n        new go.Binding(\"points\").makeTwoWay(),\n        new go.Binding(\"curviness\"),\n        $(go.Shape,  // the link shape\n            { strokeWidth: 1.5 }),\n        $(go.Shape,  // the arrowhead\n            { toArrow: \"standard\", stroke: null }),\n        $(go.Panel, \"Auto\",\n            $(go.Shape,  // the label background, which becomes transparent around the edges\n            {\n                fill: $(go.Brush, \"Radial\", { 0: \"rgb(240, 240, 240)\", 0.3: \"rgb(240, 240, 240)\", 1: \"rgba(240, 240, 240, 0)\" }),\n                stroke: null\n            }),\n            $(go.TextBlock,\n              {\n                background: \"white\",\n                editable: true,\n                textEditor: window.TextEditorSelectBox, // defined in extensions/textEditorSelectBox.js\n                textEdited: function(tb, oldstr, newstr) {\n                  var choices = tb.diagram.model.modelData.choices.linkChoices;\n                  console.log(\"choices\");\n                  console.log(choices);\n                  console.log(\"newstr\");\n                  console.log(newstr);\n                  console.log(\"oldstr\");\n                  console.log(oldstr);\n                  var idx = choices.indexOf(newstr);\n                  if (idx &gt;= 0 &amp;&amp; oldstr !== newstr ) {\n                    console.log(choices);\n                    console.log(\"choices\");\n                    console.log(choices);\n                    console.log(\"removing choice \" + idx + \": \" + newstr);\n                    var newchoices = Array.prototype.slice.call(choices);\n                    newchoices.splice(idx, 1);\n                    tb.diagram.model.set(tb.diagram.model.modelData.choices.linkChoices, \"choices\", newchoices);\n                    //tb.editable = false;  // don't allow choice again\n                  }else{\n                        console.log(\"elseeeeee\");\n                  }\n                }\n              },\n            // editing the text automatically updates the model data\n            //new go.Binding(\"text\"),\n            new go.Binding(\"text\").makeTwoWay(),\n            new go.Binding(\"choices\").ofModel())\n        )\n    );\n\n\n    var inspector = new Inspector('myInspectorDiv', myDiagram,\n    {\n        // uncomment this line to only inspect the named properties below instead of all properties on each object:\n        // includesOwnProperties: false,\n        properties: {\n            \"text\": { },\n            // an example of specifying the type\n            \"password\": { show: Inspector.showIfPresent, type: 'password' },\n            // key would be automatically added for nodes, but we want to declare it read-only also:\n            \"key\": { readOnly: true, show: Inspector.showIfPresent },\n            // color would be automatically added for nodes, but we want to declare it a color also:\n            \"color\": { show: Inspector.showIfPresent, type: 'color' },\n            // Comments and LinkComments are not in any node or link data (yet), so we add them here:\n            \"Comments\": { show: Inspector.showIfNode  },\n            \"flag\": { show: Inspector.showIfNode, type: 'checkbox' },\n            \"LinkComments\": { show: Inspector.showIfLink },\n            \"isGroup\": { readOnly: true, show: Inspector.showIfPresent }\n        }\n    });\n\n    // read in the JSON data from flask\n    loadGraphData();\n\n    }\n\n    function loadGraphData() {\n        var graphDataString = JSON.parse('{{ diagramData | tojson | safe}}');\n        //console.log(\"graphDataString\");\n        //console.log(graphDataString);\n\n        var allChoices = JSON.parse('{{ allChoices | tojson | safe}}');\n        console.log(\"allChoices\");\n        console.log(allChoices);\n\n        myDiagram.model = go.Model.fromJson(graphDataString);\n        //myDiagram.model.set(myDiagram.model.modelData, \"choices\", [\"one\", \"two\", \"three\"]);\n\n        var customModelData = {\n            \"linkChoices\": linkChoices, \"nodeChoices\": nodeChoices\n        };\n\n        myDiagram.model.set(myDiagram.model.modelData, \"choices\", allChoices);\n        //myDiagram.model.set(myDiagram.model.modelData, \"choices\", JSON.parse('{{ link_choices | tojson | safe}}'));\n        //myDiagram.model.set(myDiagram.model.modelData, \"choices\", customModelData);\n        console.log(\"whole model modelData\");\n        console.log(myDiagram.model.modelData);\n    }\n\n    function saveGraphData(form, event) {\n        console.log(\"inside saveGraphData\");\n        event.preventDefault();\n\n        document.getElementById(\"mySavedModel\").value = myDiagram.model.toJson();\n        form.submit();\n    }\n\n    function zoomToFit(){\n        console.log(\"inside zoomToFit\");\n        myDiagram.zoomToRect(myDiagram.documentBounds);\n    }\n\n    function zoomIn(){\n        console.log(\"inside zoomIn\");\n        myDiagram.commandHandler.increaseZoom();\n    }\n    function zoomOut(){\n        console.log(\"inside zoomOut\");\n        myDiagram.commandHandler.decreaseZoom();\n    }\n\n&lt;/script&gt;\n&lt;/head&gt;\n&lt;body onload=\"init()\"&gt;\n\n\n\n    &lt;div id=\"wrapper\"&gt;\n\n        &lt;!-- Sidebar --&gt;\n        &lt;div id=\"sidebar-wrapper\"&gt;\n            &lt;ul class=\"sidebar-nav\"&gt;\n                &lt;li class=\"sidebar-brand\"&gt; &lt;a href=\"#\"&gt; CUSTOM CHOICES MODE &lt;/a&gt;  &lt;/li&gt;\n\n\n                &lt;li&gt; &lt;a href=\"{{ url_for('main') }}\"&gt;Free editing mode&lt;/a&gt; &lt;/li&gt;\n                &lt;li&gt; &lt;a href=\"{{ url_for('graphMode1') }}\"&gt;Fill mode&lt;/a&gt; &lt;/li&gt;\n                &lt;li&gt; &lt;a href=\"{{ url_for('graphMode2') }}\"&gt;Custom choices mode&lt;/a&gt; &lt;/li&gt;\n                &lt;li&gt; &lt;a href=\"{{ url_for('graphMode3') }}\"&gt;Locked choices mode&lt;/a&gt; &lt;/li&gt;\n\n            &lt;/ul&gt;\n        &lt;/div&gt;\n        &lt;!-- /#sidebar-wrapper --&gt;\n\n        &lt;!-- Page Content --&gt;\n        &lt;div id=\"page-content-wrapper\"&gt;\n            &lt;div class=\"container-fluid\"&gt;\n\n\n                &lt;div id=formWrapper style=\"padding: 30px;\"&gt;\n\n                    &lt;a href=\"#menu-toggle\" class=\"btn btn-secondary\" id=\"menu-toggle\" style=\"margin-bottom: 15px;\"&gt;Toggle Menu&lt;/a&gt;\n\n                    &lt;form method=\"POST\" action=\"http://localhost:5000/updateResultFile\" name=\"updateResultFileForm\" \n                    id=\"updateResultFileForm\" \n                    onsubmit=\"saveGraphData(this, event);\"&gt;\n\n                        &lt;div id=\"graphWrapper\" style=\"margin-bottom: 15px;\"&gt;\n                            &lt;div id=\"myDiagramDiv\" style=\"border: solid 1px black; width: 100%; height: 800px;margin-bottom: 15px;\"&gt;&lt;/div&gt;\n                            &lt;div style=\"display: none;\"&gt;&lt;input id=\"mySavedModel\" name=\"mySavedModel\"&gt;&lt;/div&gt;\n\n                            &lt;button class=\"btn btn-default\" type=\"submit\"&gt; Save &lt;i class=\"fa fa-save\"&gt; &lt;/i&gt; &lt;/button&gt;\n\n                        &lt;/div&gt;\n\n                    &lt;/form&gt;\n\n                    &lt;div id=\"myInspectorDiv\"&gt;\n                    &lt;/div&gt;\n\n                    &lt;div&gt;\n                        &lt;button class=\"btn btn-default\" onclick=\"zoomToFit()\"&gt; Zoom to fit  &lt;i class=\"fa fa-search\"&gt; &lt;/i&gt; &lt;/button&gt;\n                        &lt;button class=\"btn btn-default\" onclick=\"zoomIn()\"&gt; Zoom in  &lt;i class=\"fa fa-search-plus\"&gt; &lt;/i&gt; &lt;/button&gt;\n                        &lt;button class=\"btn btn-default\" onclick=\"zoomOut()\"&gt; Zoom out  &lt;i class=\"fa fa-search-minus\"&gt; &lt;/i&gt; &lt;/button&gt;\n                    &lt;/div&gt;\n\n\n                &lt;/div&gt;\n\n            &lt;/div&gt;\n        &lt;/div&gt;\n\n    &lt;/div&gt;\n\n    &lt;script src=\"{{url_for('static', filename='jquery.min.js')}}\"&gt;&lt;/script&gt;\n    &lt;script src=\"{{url_for('static', filename='bootstrap.bundle.min.js')}}\"&gt;&lt;/script&gt;\n\n    &lt;!-- Menu Toggle Script --&gt;\n    &lt;script&gt;\n        var menuOpen = false;\n        $(\"#menu-toggle\").click(function(e) {\n            e.preventDefault();\n            $(\"#wrapper\").toggleClass(\"toggled\");\n\n            if(menuOpen){\n                menuOpen = false;\n                $(\"#myDiagramDiv\").css({border: \"solid 1px black\"});\n            }else{\n                menuOpen = true;\n                $(\"#myDiagramDiv\").css({border: \"\"});\n            }\n        });\n\n    &lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>So basicly I have made custom choices for nodes and links. For example, for node I have these choices:</p>\n\n<ul>\n<li>node choice 1  </li>\n<li>node choice 2  </li>\n<li>node choice 3</li>\n</ul>\n\n<p>and for links I have these choices:</p>\n\n<ul>\n<li>link choice 1</li>\n<li>link choice 2</li>\n<li>link choice 3</li>\n</ul>\n\n<p>What I want to accomplish is that when I select \"node choice 1\" from dropdown list on one node, that that option \"node choice 1\" can not be selected again for another node. But if user deletes node, or sets empty selection on node text, \"node choice 1\" must be available again. </p>\n\n<p>Same thing goes for links.  </p>\n\n<p>I think my code works fine for links, but I have problems with detecting node text changes and updating dataModel content.</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1518049244, "post_id": 48675002, "comment_id": 84349473, "body": "<i>&quot;no i can not just overwrite the properties in CSS, i HAVE to remove them&quot;</i> &lt;- why? Sounds like you&#39;re making assumptions that are limiting you&#39;re potential solution. How about you explain clearly what it is you want to achieve through this?"}], "answers": [{"comments": [{"owner": {"reputation": 19, "user_id": 7929036, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ab1f8463b84db8c86c62ca9e0c1afc9b?s=128&d=identicon&r=PG&f=1", "display_name": "KeyBasher", "link": "https://stackoverflow.com/users/7929036/keybasher"}, "edited": false, "score": 0, "creation_date": 1518046294, "post_id": 48675035, "comment_id": 84348633, "body": "Because they conflict with other properties... I abused the !important rule and dont have much time to rework the code... I wrote this 2 years ago and im revisiting it because its for a competition in my school..."}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "reply_to_user": {"reputation": 19, "user_id": 7929036, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ab1f8463b84db8c86c62ca9e0c1afc9b?s=128&d=identicon&r=PG&f=1", "display_name": "KeyBasher", "link": "https://stackoverflow.com/users/7929036/keybasher"}, "edited": false, "score": 1, "creation_date": 1518046495, "post_id": 48675035, "comment_id": 84348702, "body": "@KeyBasher your questions mentions nothing of this. What are the conflicts? Surely you could create CSS rules that are more specific"}, {"owner": {"reputation": 500, "user_id": 9248481, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pAup7ft_QkI/AAAAAAAAAAI/AAAAAAAAAAA/3dhAj4J9fYk/photo.jpg?sz=128", "display_name": "codeth", "link": "https://stackoverflow.com/users/9248481/codeth"}, "edited": false, "score": 0, "creation_date": 1518050362, "post_id": 48675035, "comment_id": 84349790, "body": "Do as @Phil suggests and make your CSS selector more specific. e.g. <code>li.disblck</code> will override <code>li</code> or <code>disblck</code> as long as you include <code>!important</code> where needed. Add another class to all <code>&lt;li&gt;</code> if necessary."}], "tags": [], "owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "is_accepted": false, "score": 4, "last_activity_date": 1518046079, "creation_date": 1518046079, "answer_id": 48675035, "question_id": 48675002, "link": "https://stackoverflow.com/questions/48675002/how-to-remove-a-class-from-an-object-after-a-certien-window-width-has-passed/48675035#48675035", "title": "How to remove a class from an object after a certien window width has passed", "body": "<p>Why not apply the styles associated with that class within a media query so they only come into effect under 1050px?</p>\n\n<pre><code>@media screen and (max-width: 1050px) {\n  .disblck {\n    /* styles */\n  }\n\n  .disnone {\n    /* styles */\n  }\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3500, "user_id": 1799146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3bbccca45f62c1a3d419c7a64f52406?s=128&d=identicon&r=PG", "display_name": "Julian Soro", "link": "https://stackoverflow.com/users/1799146/julian-soro"}, "edited": false, "score": 0, "creation_date": 1518060864, "post_id": 48675577, "comment_id": 84352353, "body": "@KeyBasher - this work for you? did you check out the jsfiddle link?"}], "tags": [], "owner": {"reputation": 3500, "user_id": 1799146, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/f3bbccca45f62c1a3d419c7a64f52406?s=128&d=identicon&r=PG", "display_name": "Julian Soro", "link": "https://stackoverflow.com/users/1799146/julian-soro"}, "is_accepted": false, "score": 1, "last_activity_date": 1518051532, "last_edit_date": 1518051532, "creation_date": 1518049716, "answer_id": 48675577, "question_id": 48675002, "link": "https://stackoverflow.com/questions/48675002/how-to-remove-a-class-from-an-object-after-a-certien-window-width-has-passed/48675577#48675577", "title": "How to remove a class from an object after a certien window width has passed", "body": "<p>Despite best practice, it looks like you still want to remove those CSS classes when the window is above 1050px (I mean, to the haters, his handle is \"KeyBasher\" lolz). </p>\n\n<p>You can add a resize event handler to the window object</p>\n\n<pre><code>function handleAbove1050px(){\n  const isAbove1050px = window.innerWidth &gt; 1050\n\n  if(isAbove1050px) {\n    // remove the classes\n    itemsArray.forEach(item =&gt; {\n      item.classList.remove('disblck')\n      item.classList.remove('disnone')\n    })\n  }\n  else {\n    // add them back\n    itemsArray.forEach(item =&gt; {\n      item.classList.add('disblck')\n      item.classList.add('disnone')\n    })\n  }\n}\n\nwindow.addEventListener('resize', handleAbove1050px)\n</code></pre>\n\n<p>Here is a fiddle: <a href=\"https://jsfiddle.net/o8p3wrcg/1/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/o8p3wrcg/1/</a></p>\n"}], "owner": {"reputation": 19, "user_id": 7929036, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ab1f8463b84db8c86c62ca9e0c1afc9b?s=128&d=identicon&r=PG&f=1", "display_name": "KeyBasher", "link": "https://stackoverflow.com/users/7929036/keybasher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1518051532, "creation_date": 1518045867, "last_edit_date": 1518048893, "question_id": 48675002, "link": "https://stackoverflow.com/questions/48675002/how-to-remove-a-class-from-an-object-after-a-certien-window-width-has-passed", "title": "How to remove a class from an object after a certien window width has passed", "body": "<p>So i have a bunch of LI elements and each of them have classes. So due to responsiveness, i want to remove those classes after 1050px. I havent tried writing it in jQuery yet, but if you think it makes it work by any chance then feel free to use jQuery. \nPS: no i can not just overwrite the properties in CSS, i HAVE to remove them. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var itemsArray = [].slice.call(document.querySelectorAll(\".list li\"));\r\nvar i = 0;\r\nfunction check(){\r\nif(this.innerWidth &lt;= 1050){\r\n    for(i = 0; i&lt;itemsArray.length;i++){\r\n        itemsArray[i].classList.remove('disblck');\r\n        itemsArray[i].classList.remove('disnone');\r\n    }\r\n}\r\n}\r\nwindow.onload = check();\r\nwindow.onresize = check();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;ul class='list'&gt;\r\n            &lt;li class='disblck first2'&gt;\r\n                &lt;img src=\"../images2/c++.png\" /&gt;\r\n                &lt;h2&gt;C++ for absolute begginers&lt;/h2&gt;\r\n\r\n                &lt;h3&gt;John Purcell&lt;/h3&gt;\r\n            &lt;/li&gt;\r\n            &lt;li class='disblck first2'&gt;\r\n                &lt;img src=\"../images2/JS.jpg\" /&gt;\r\n                &lt;h2&gt;JavaScript From Scratch&lt;/h2&gt;\r\n\r\n                &lt;h3&gt;Derek Banas&lt;/h3&gt;\r\n            &lt;/li&gt;\r\n            &lt;li class='disblck second2'&gt;\r\n                &lt;img src=\"../images2/cSharp.png\" /&gt;\r\n                &lt;h2&gt;C# From Begginer To Advanced&lt;/h2&gt;\r\n\r\n                &lt;h3&gt;Derek Banas&lt;/h3&gt;\r\n            &lt;/li&gt;\r\n            &lt;li class='disblck second2'&gt;\r\n                &lt;img src=\"../images2/PHP.png\" /&gt;\r\n                &lt;h2&gt;PhP and MySQL For Beginners&lt;/h2&gt;\r\n\r\n                &lt;h3&gt;Derek Banas&lt;/h3&gt;\r\n            &lt;/li&gt;\r\n            &lt;li class='disnone third2'&gt;\r\n                &lt;img src=\"../images2/PHP.png\" /&gt;\r\n                &lt;h2&gt;PhP and MySQL For Beginners&lt;/h2&gt;\r\n\r\n                &lt;h3&gt;Derek Banas&lt;/h3&gt;\r\n            &lt;/li&gt;\r\n            &lt;li class='disnone  third2'&gt;\r\n                &lt;img src=\"../images2/c++.png\" /&gt;\r\n                &lt;h2&gt;C++ for absolute begginers&lt;/h2&gt;\r\n\r\n                &lt;h3&gt;John Purcell&lt;/h3&gt;\r\n            &lt;/li&gt;\r\n            &lt;li class='disnone fourth2'&gt;\r\n                &lt;img src=\"../images2/JS.jpg\" /&gt;\r\n                &lt;h2&gt;JavaScript From Scratch&lt;/h2&gt;\r\n\r\n                &lt;h3&gt;Derek Banas&lt;/h3&gt;\r\n            &lt;/li&gt;\r\n            &lt;li class='disnone fourth2'&gt;\r\n                &lt;img src=\"../images2/cSharp.png\" /&gt;\r\n                &lt;h2&gt;C# From Begginer To Advanced&lt;/h2&gt;\r\n\r\n                &lt;h3&gt;Derek Banas&lt;/h3&gt;\r\n            &lt;/li&gt;\r\n        &lt;/ul&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "api", "http", "vue.js", "axios"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1518045763, "post_id": 48674961, "comment_id": 84348440, "body": "Simple; your API is not set up for CORS access"}, {"owner": {"reputation": 5852, "user_id": 6361314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WknC7.jpg?s=128&g=1", "display_name": "Jeffrey Westerkamp", "link": "https://stackoverflow.com/users/6361314/jeffrey-westerkamp"}, "edited": false, "score": 0, "creation_date": 1518046035, "post_id": 48674961, "comment_id": 84348546, "body": "Your API should be able to handle <code>OPTIONS</code> requests, <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Preflight_request\" rel=\"nofollow noreferrer\">a.k.a. preflight requests</a> for cross-origin communication."}, {"owner": {"reputation": 3, "user_id": 3452421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jN41P.jpg?s=128&g=1", "display_name": "L&#243;s", "link": "https://stackoverflow.com/users/3452421/l%c3%b3s"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1518046075, "post_id": 48674961, "comment_id": 84348561, "body": "@Phil, it was using CORS and returning me CORS error, but, I disabled it for remote development propourse. Do you think it still disabling my remote consuming from api?"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1518046191, "post_id": 48674961, "comment_id": 84348600, "body": "I have no idea what that means. You can limit CORS access to specific hosts via the <code>Access-Control-Allow-Origin</code> response header"}], "owner": {"reputation": 3, "user_id": 3452421, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jN41P.jpg?s=128&g=1", "display_name": "L&#243;s", "link": "https://stackoverflow.com/users/3452421/l%c3%b3s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "closed_date": 1518045889, "answer_count": 0, "score": 0, "last_activity_date": 1518045626, "creation_date": 1518045626, "question_id": 48674961, "link": "https://stackoverflow.com/questions/48674961/failed-posting-data-with-axios", "closed_reason": "Duplicate", "title": "Failed posting data with axios", "body": "<p>I'm trying to create a new user on my forums (Flarum) from a external script using VueJS + Axios, but, I keep getting 405 error.</p>\n\n<p>Log:</p>\n\n<pre><code>/api/users 405 (Method Not Allowed)\n#:1 Failed to load /api/users: Response for preflight has invalid HTTP status code 405.\n</code></pre>\n\n<p>Code i'm using </p>\n\n<pre><code>axios.post(forumAPI, {\n    data: {\n        attributes: {\n            username: this.data.attributes.username,\n            password: this.data.attributes.password,\n            email: this.data.attributes.email,\n        }\n    },\n    headers: {\n        'Authorization': 'Token XXXXX',\n        'Content-Type': 'application/vnd.api+json'\n    },\n})\n.then(function (response) {\n    store.dispatch('login', this.data.attributes).then(() =&gt; {\n        this.$router.push(this.$route.query.redirect || '/dev');\n        this.loading = false;\n        this.hideModal();\n    })\n})\n.catch(function (error) {\n    console.log(error);\n    _this.loading = false;\n})\n</code></pre>\n\n<p>I need post a json like this one:</p>\n\n<pre><code>{\"data\":\n     { \"attributes\":\n          {\n              \"username\":\"mickey\",\n              \"email\":\"mickey@disney.com\", \n              \"password\":\"hellokitty\"\n          }\n      }\n}\n</code></pre>\n\n<p>I know theres something wrong with my sintax, but, I can't figure it out.</p>\n\n<p>Any solutions around here?</p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 3238, "user_id": 7486612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc85993039d8b9241a72ca5ceb4c4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Sidney", "link": "https://stackoverflow.com/users/7486612/sidney"}, "is_accepted": true, "score": 5, "last_activity_date": 1518046164, "creation_date": 1518046164, "answer_id": 48675045, "question_id": 48674956, "link": "https://stackoverflow.com/questions/48674956/using-scripts-in-react-without-bundling/48675045#48675045", "title": "Using scripts in React without bundling", "body": "<p>That <code>new Rellax('.relax')</code> constructor is called as soon as that file is loaded (ie, imported by another component). But when the file is loaded, obviously the component hasn't been rendered yet, so the <code>.rellax</code> elements aren't in the DOM.</p>\n\n<p>Instead, you need to call the Rellax constructor when you <em>know</em> the component has rendered. That's what React's componentDidMount is used for. It gets called when the component has been rendered in the DOM (so libraries that use DOM elements can find the element they need).</p>\n\n<pre><code>import React from 'react';\nimport Rellax from 'rellax';\nimport 'sample.css';\n\nclass SampleComponent extends React.Component {\n  componentDidMount() {\n    // We can keep a reference to Rellax in case we need it later\n    this.rellax = new Rellax('.rellax')\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;div className=\"rellax square\"&gt;&lt;/div&gt;\n        &lt;div className=\"rellax rectangle\"&gt;&lt;/div&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n\nexport default SampleComponent\n</code></pre>\n"}], "owner": {"reputation": 906, "user_id": 6245572, "user_type": "registered", "accept_rate": 62, "profile_image": "https://i.stack.imgur.com/yFtc9.jpg?s=128&g=1", "display_name": "Adam White", "link": "https://stackoverflow.com/users/6245572/adam-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 486, "favorite_count": 1, "accepted_answer_id": 48675045, "answer_count": 1, "score": 2, "last_activity_date": 1518048820, "creation_date": 1518045577, "last_edit_date": 1518048820, "question_id": 48674956, "link": "https://stackoverflow.com/questions/48674956/using-scripts-in-react-without-bundling", "title": "Using scripts in React without bundling", "body": "<p>I'm trying to use Rellax, a JS parallax library, in my React app.</p>\n\n<p>I've downloaded Rellax through npm and imported Rellax into a React component. Rellax's docs then require assigning a rellax variable to the new Rellax constructor, which takes as an argument the query selector. </p>\n\n<p>Like so:</p>\n\n<pre><code>var rellax = new Rellax('.rellax'); \n</code></pre>\n\n<p>However, when I call the component, I receive this error:</p>\n\n<pre><code>Error: The elements you're trying to select don't exist.\n</code></pre>\n\n<p>However, I do use this class in the component itself. </p>\n\n<p>Below is the full component:</p>\n\n<pre><code>import React from 'react';\nimport Rellax from 'rellax';\nimport 'sample.css';\n\nvar rellax = new Rellax('.rellax');\n\nconst SampleComponent = () =&gt; {\n\n  return (&lt;div&gt;\n        &lt;div className=\"rellax square\"&gt;&lt;/div&gt;\n        &lt;div className=\"rellax rectangle\"&gt;&lt;/div&gt;\n      &lt;/div&gt;);\n}\n\nexport default SampleComponent;\n</code></pre>\n\n<p>Does anyone have any idea why this isn't working?</p>\n\n<p>Below is a link to Rellax docs: <a href=\"https://github.com/dixonandmoe/rellax\" rel=\"nofollow noreferrer\">https://github.com/dixonandmoe/rellax</a></p>\n\n<p>Thanks!</p>\n"}, {"tags": ["javascript", "angularjs", "angular", "typescript", "restangular"], "comments": [{"owner": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1518046331, "post_id": 48674941, "comment_id": 84348644, "body": "You definitely can&#39;t add it as a script tag because it needs the  module loader to work because you import it later. Is it registered in the system JS configuration file? You can put it under map or packages"}, {"owner": {"reputation": 21113, "user_id": 1549918, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/wAHqV.png?s=128&g=1", "display_name": "Chris Halcrow", "link": "https://stackoverflow.com/users/1549918/chris-halcrow"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 1, "creation_date": 1518046701, "post_id": 48674941, "comment_id": 84348798, "body": "That was it! I added it under map. Please add this as an answer Aluan so I can award it."}, {"owner": {"reputation": 21113, "user_id": 1549918, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/wAHqV.png?s=128&g=1", "display_name": "Chris Halcrow", "link": "https://stackoverflow.com/users/1549918/chris-halcrow"}, "reply_to_user": {"reputation": 22898, "user_id": 1915893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/580b31b0be7173bbc477ca1d6967d87c?s=128&d=identicon&r=PG", "display_name": "Aluan Haddad", "link": "https://stackoverflow.com/users/1915893/aluan-haddad"}, "edited": false, "score": 0, "creation_date": 1518059752, "post_id": 48674941, "comment_id": 84352115, "body": "Aluan sorry to bug you again but I have a different, related issue now with another question. If you&#39;re able to advise that would again be greatly appreciated! <a href=\"https://stackoverflow.com/questions/48676950/error-when-loading-ngx-restangular-systemjs-module-not-already-loaded-loading\" title=\"error when loading ngx restangular systemjs module not already loaded loading\">stackoverflow.com/questions/48676950/&hellip;</a>"}], "owner": {"reputation": 21113, "user_id": 1549918, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/wAHqV.png?s=128&g=1", "display_name": "Chris Halcrow", "link": "https://stackoverflow.com/users/1549918/chris-halcrow"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 251, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518045498, "creation_date": 1518045498, "question_id": 48674941, "link": "https://stackoverflow.com/questions/48674941/ngx-restangular-installed-in-node-modules-folder-404-when-importing-from-angul", "title": "ngx-restangular installed in node_modules folder - 404 when importing from Angular service", "body": "<p>I'm upgrading an AngularJS solution to Angular 4 and I need to upgrade the 'restangular' library to use ngx-restangular instead, because I have an existing AngularJS service that uses restangular, and I need to convert it to Angular 4. I've installed ngx-restangular using:</p>\n\n<pre><code>npm install --save ngx-restangular@1.0.13\n</code></pre>\n\n<p>This is the correct way to install ngx-restangular for Angular 4 (see <a href=\"https://www.npmjs.com/package/ngx-restangular#how-do-i-add-this-to-my-project-in-angular-4\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/ngx-restangular#how-do-i-add-this-to-my-project-in-angular-4</a>)</p>\n\n<p>I now have ngx-restangular successfully installed under node_modules/ngx-restangular. I'm trying to import this at the top of my new Angular 4 service, which is using TypeScript like this:</p>\n\n<p><strong>MyService.ts</strong></p>\n\n<pre><code>import { Injectable } from '@angular/core';\nimport { RestangularModule, Restangular } from 'ngx-restangular';\n\n@Injectable()\nexport class MyService {\n   ... service code\n</code></pre>\n\n<p>Now this should work correctly, since the way that imports work is that when referencing a module by using an absolute path, like I'm doing here with ngx-restangular, TypeScript will look for an external module. See <a href=\"https://stackoverflow.com/questions/35159872/angular2-typescript-importing-of-node-modules\">Angular2 &amp; TypeScript importing of node_modules</a> for an excellent explanation of how this works.</p>\n\n<p>My app is loading @angular/core fine and this is referenced in the same way as ngx-restangular, from the same file. With ngx-restangular though, I'm getting the following stack trace in the console though when I run the app:</p>\n\n<pre><code>    Failed to load resource: the server responded with a status of 404 (Not Found)\nsign-in-redirect:420 Error: (SystemJS) XHR error (404 Not Found) loading http://localhost/ngx-restangular\n    Error: XHR error (404 Not Found) loading http://localhost/ngx-restangular\n        at XMLHttpRequest.wrapFn (http://localhost/node_modules/zone.js/dist/zone.js:1166:39)\n        at ZoneDelegate.invokeTask (http://localhost/node_modules/zone.js/dist/zone.js:421:31)\n        at Zone.runTask (http://localhost/node_modules/zone.js/dist/zone.js:188:47)\n        at ZoneTask.invokeTask [as invoke] (http://localhost/node_modules/zone.js/dist/zone.js:496:34)\n        at invokeTask (http://localhost/node_modules/zone.js/dist/zone.js:1517:14)\n        at XMLHttpRequest.globalZoneAwareCallback (http://localhost/node_modules/zone.js/dist/zone.js:1543:17)\n    Error loading http://localhost/ngx-restangular as \"ngx-restangular\" from http://localhost/assets/js/app/MyService.js\n        at XMLHttpRequest.wrapFn (http://localhost/node_modules/zone.js/dist/zone.js:1166:39)\n        at ZoneDelegate.invokeTask (http://localhost/node_modules/zone.js/dist/zone.js:421:31)\n        at Zone.runTask (http://localhost/node_modules/zone.js/dist/zone.js:188:47)\n        at ZoneTask.invokeTask [as invoke] (http://localhost/node_modules/zone.js/dist/zone.js:496:34)\n        at invokeTask (http://localhost/node_modules/zone.js/dist/zone.js:1517:14)\n        at XMLHttpRequest.globalZoneAwareCallback (http://localhost/node_modules/zone.js/dist/zone.js:1543:17)\n    Error loading http://localhost/ngx-restangular as \"ngx-restangular\" from http://localhost/assets/js/app/MyService.js\n</code></pre>\n\n<p>So, looking at the following line it seems that SystemJS may be looking for ngx-restangular in the root of my app:</p>\n\n<pre><code>(SystemJS) XHR error (404 Not Found) loading http://localhost/ngx-restangular\n</code></pre>\n\n<p>Why is this happening, and how do I need to import ngx-restangular? I tried adding this as a script tag, but it doesn't help:</p>\n\n<pre><code>&lt;script src=\"/node_modules/ngx-restangular/dist/umd/ngx-restangular.js\"&gt;&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "json", "ajax", "local-storage"], "comments": [{"owner": {"reputation": 84649, "user_id": 670396, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/545da9c5299e131c632f0914de5bd6d5?s=128&d=identicon&r=PG", "display_name": "elclanrs", "link": "https://stackoverflow.com/users/670396/elclanrs"}, "edited": false, "score": 4, "creation_date": 1518045398, "post_id": 48674885, "comment_id": 84348307, "body": "If you give it a name, then it is not an array, it&#39;s an object of key-value pairs."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 2, "creation_date": 1518045623, "post_id": 48674885, "comment_id": 84348389, "body": "by the way, <code>mySession</code> is a javascript object, and <code>obj</code> is a string - there is no JSON array, as there is no such thing as a JSON array - unless of course you mean an array of JSON strings - which is nothing to do with the code you&#39;ve presented"}, {"owner": {"reputation": 14180, "user_id": 1636522, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/SH1Jr.png?s=128&g=1", "display_name": "leaf", "link": "https://stackoverflow.com/users/1636522/leaf"}, "edited": false, "score": 0, "creation_date": 1518045756, "post_id": 48674885, "comment_id": 84348437, "body": "Arrays and objects are not really different : <a href=\"https://stackoverflow.com/a/47441358/1636522\">stackoverflow.com/a/47441358/1636522</a>."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "reply_to_user": {"reputation": 14180, "user_id": 1636522, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/SH1Jr.png?s=128&g=1", "display_name": "leaf", "link": "https://stackoverflow.com/users/1636522/leaf"}, "edited": false, "score": 0, "creation_date": 1518046311, "post_id": 48674885, "comment_id": 84348636, "body": "@leaf Well, an array is an object, sure. That answer says &quot;Except for the differences between them, they are not different at all!&quot;, which is somewhat tautologous."}, {"owner": {"reputation": 14180, "user_id": 1636522, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/SH1Jr.png?s=128&g=1", "display_name": "leaf", "link": "https://stackoverflow.com/users/1636522/leaf"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1518073119, "post_id": 48674885, "comment_id": 84355962, "body": "@MikeMcCaughan You twist the reality a little bit, but I admit that this post might be hard to read for persnickety people that can&#39;t read between the lines. StackOverflow is not famous for its scientific papers right ? That being said, to clarify, with this post I just wanted to mitigate elclanrs statement."}], "answers": [{"comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1518045733, "post_id": 48674943, "comment_id": 84348431, "body": "This actually adds the property <code>session_0</code> to the <code>sessions</code> array object. It will not be an element in the array (<code>objectFinal.sessions.length === 0</code>)."}, {"owner": {"reputation": 1678, "user_id": 2510939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NesRS.jpg?s=128&g=1", "display_name": "admcfajn", "link": "https://stackoverflow.com/users/2510939/admcfajn"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1518046185, "post_id": 48674943, "comment_id": 84348597, "body": "That&#39;s right. To name the keys we need an object, not an array. As far as I know there&#39;s no way to name an array-key in javaScript."}], "tags": [], "owner": {"reputation": 1678, "user_id": 2510939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NesRS.jpg?s=128&g=1", "display_name": "admcfajn", "link": "https://stackoverflow.com/users/2510939/admcfajn"}, "is_accepted": false, "score": 0, "last_activity_date": 1518045504, "creation_date": 1518045504, "answer_id": 48674943, "question_id": 48674885, "link": "https://stackoverflow.com/questions/48674885/put-name-in-the-position-of-a-json-array/48674943#48674943", "title": "Put name in the position of a json array", "body": "<p>You can name the key using <code>[]</code></p>\n\n<pre><code>var objectFinal = {\"student\":[],\"sessions\":[]};\nvar mySession = {\"answers\":[]}\nobjectFinal.sessions['session_0'] = mySession; // &lt;- here\nvar obj = JSON.stringify(objectFinal);\nlocalStorage.setItem(\"\",obj);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5852, "user_id": 6361314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WknC7.jpg?s=128&g=1", "display_name": "Jeffrey Westerkamp", "link": "https://stackoverflow.com/users/6361314/jeffrey-westerkamp"}, "is_accepted": false, "score": 0, "last_activity_date": 1518045508, "creation_date": 1518045508, "answer_id": 48674944, "question_id": 48674885, "link": "https://stackoverflow.com/questions/48674885/put-name-in-the-position-of-a-json-array/48674944#48674944", "title": "Put name in the position of a json array", "body": "<p>You'll have to create an object to have custom keys. You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce\" rel=\"nofollow noreferrer\"><code>Array.prototype.reduce</code></a> on <code>objectFinal.sessions</code>, starting with an empty object <code>{}</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var result = objectFinal.sessions.reduce(function(acc, current, i) {\n    acc['session_' + i] = current;\n    return acc;\n}, {});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": true, "score": 0, "last_activity_date": 1518045899, "creation_date": 1518045899, "answer_id": 48675006, "question_id": 48674885, "link": "https://stackoverflow.com/questions/48674885/put-name-in-the-position-of-a-json-array/48675006#48675006", "title": "Put name in the position of a json array", "body": "<p>Use the <code>forEach(item, index)</code> function to build the desired structure.</p>\n\n<h1>Look at this code snippet</h1>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = [{\r\n    'datahora': '7758585',\r\n    'nomeaplicador': 'Ele',\r\n    'tempo': 000\r\n  },\r\n  {\r\n    'datahora': '989887',\r\n    'nomeaplicador': 'Enr',\r\n    'tempo': 111\r\n  }\r\n\r\n];\r\n\r\ndata.forEach((e, index) =&gt; { \r\n    data[index] = { [`session_${index}`]: e };\r\n});\r\n\r\nconsole.log(data)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 252, "user_id": 6425710, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh3.googleusercontent.com/-M7C020zjz04/AAAAAAAAAAI/AAAAAAAAI-8/cSg4_T7RtoA/photo.jpg?sz=128", "display_name": "Dr.G", "link": "https://stackoverflow.com/users/6425710/dr-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 48675006, "answer_count": 3, "score": 0, "last_activity_date": 1573673343, "creation_date": 1518045200, "last_edit_date": 1573673343, "question_id": 48674885, "link": "https://stackoverflow.com/questions/48674885/put-name-in-the-position-of-a-json-array", "title": "Put name in the position of a json array", "body": "<p>Follow the example of my json in storage object:\n(sorry for the language)<a href=\"https://i.stack.imgur.com/33C7E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/33C7E.png\" alt=\"enter image description here\"></a></p>\n\n<p>How can I put a name for the indexes \"0:\" and \"1:\" ?\nExample: Replace \"0\" for \"session_0\"</p>\n\n<p>Below I show in a more abstract example how I create this array in code</p>\n\n<pre><code>var objectFinal = {\"student\":[],\"sessions\":[]};\nvar mySession = {\"answers\":[]}\nobjectFinal.sessions.push(mySession);\nvar obj = JSON.stringify(objectFinal);\nlocalStorage.setItem(\"\",obj);\n</code></pre>\n\n<p>I hope it has been clear, sorry for my bad english or any desorganization.</p>\n"}, {"tags": ["javascript", "angularjs", "multidimensional-array", "angularjs-ng-repeat"], "answers": [{"comments": [{"owner": {"reputation": 2607, "user_id": 1159590, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NWpFc.jpg?s=128&g=1", "display_name": "Edgar Quintero", "link": "https://stackoverflow.com/users/1159590/edgar-quintero"}, "edited": false, "score": 0, "creation_date": 1518049269, "post_id": 48674897, "comment_id": 84349481, "body": "Thanks, but you could please provide an example! Pretty pls."}, {"owner": {"reputation": 2607, "user_id": 1159590, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NWpFc.jpg?s=128&g=1", "display_name": "Edgar Quintero", "link": "https://stackoverflow.com/users/1159590/edgar-quintero"}, "edited": false, "score": 1, "creation_date": 1518739858, "post_id": 48674897, "comment_id": 84640508, "body": "Hey, I ended up doing this... thanks for the tip. Better to use the data you need from where the data comes from rather than complicate your life in the view."}, {"owner": {"reputation": 46, "user_id": 2930828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1FtWU.jpg?s=128&g=1", "display_name": "Bazmo", "link": "https://stackoverflow.com/users/2930828/bazmo"}, "reply_to_user": {"reputation": 2607, "user_id": 1159590, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NWpFc.jpg?s=128&g=1", "display_name": "Edgar Quintero", "link": "https://stackoverflow.com/users/1159590/edgar-quintero"}, "edited": false, "score": 0, "creation_date": 1518858861, "post_id": 48674897, "comment_id": 84683564, "body": "Glad this worked out for you. Check out some MVC principles. It&#39;s a good rule of thumb to not have any computation happening in your view. There are always exceptions to any rule though."}], "tags": [], "owner": {"reputation": 46, "user_id": 2930828, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1FtWU.jpg?s=128&g=1", "display_name": "Bazmo", "link": "https://stackoverflow.com/users/2930828/bazmo"}, "is_accepted": true, "score": 0, "last_activity_date": 1518045266, "creation_date": 1518045266, "answer_id": 48674897, "question_id": 48674861, "link": "https://stackoverflow.com/questions/48674861/exclude-elements-in-a-nested-array-from-ng-repeat-without-ng-if/48674897#48674897", "title": "Exclude elements in a nested array from ng-repeat without ng-if", "body": "<p>Quick suggestion: Perform your business logic back where ever you are generating the array, not in your ng-repeat</p>\n\n<p>Something like here, but instead of changing the data source, make your comparison: <a href=\"https://stackoverflow.com/questions/23088523/angular-js-ng-repeat-check-if-conditional-is-true-then-use-another-collection\">angular.js ng-repeat - check if conditional is true then use another collection</a></p>\n"}, {"comments": [{"owner": {"reputation": 2607, "user_id": 1159590, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NWpFc.jpg?s=128&g=1", "display_name": "Edgar Quintero", "link": "https://stackoverflow.com/users/1159590/edgar-quintero"}, "edited": false, "score": 0, "creation_date": 1518048052, "post_id": 48675093, "comment_id": 84349157, "body": "Thanks for your suggestion, but whatever isn&#39;t shown is still taking up an index, I don&#39;t want it to ever to be evaluated in the ng-repeat."}, {"owner": {"reputation": 76942, "user_id": 1407478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mDZaj.png?s=128&g=1", "display_name": "davidkonrad", "link": "https://stackoverflow.com/users/1407478/davidkonrad"}, "reply_to_user": {"reputation": 2607, "user_id": 1159590, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NWpFc.jpg?s=128&g=1", "display_name": "Edgar Quintero", "link": "https://stackoverflow.com/users/1159590/edgar-quintero"}, "edited": false, "score": 1, "creation_date": 1518054696, "post_id": 48675093, "comment_id": 84350866, "body": "hey @EdgarQuintero, I thought you wanted to preserve the <code>$index</code>? Guess I misunderstood, but you can skip unwanted elements completely by using a <code>filter</code> instead. Have updated the answer. Here is a demo -&gt; <b><a href=\"http://plnkr.co/edit/HIMkYDD859fiyZ6a7iiv?p=preview\" rel=\"nofollow noreferrer\">plnkr.co/edit/HIMkYDD859fiyZ6a7iiv?p=preview</a></b>"}], "tags": [], "owner": {"reputation": 76942, "user_id": 1407478, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/mDZaj.png?s=128&g=1", "display_name": "davidkonrad", "link": "https://stackoverflow.com/users/1407478/davidkonrad"}, "is_accepted": false, "score": 1, "last_activity_date": 1518054574, "last_edit_date": 1518054574, "creation_date": 1518046398, "answer_id": 48675093, "question_id": 48674861, "link": "https://stackoverflow.com/questions/48674861/exclude-elements-in-a-nested-array-from-ng-repeat-without-ng-if/48675093#48675093", "title": "Exclude elements in a nested array from ng-repeat without ng-if", "body": "<p>You could use <code>ng-show</code> and evaluate in a method; that would preserve the  <code>$index</code>'es :</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$scope.showRow = function(row) {\n  return row.value[0] !== 0 || row.value[1]!== 0\n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;tr ng-repeat=\"row in chart.values track by $index\" ng-show=\"showRow(row)\"&gt;\n</code></pre>\n\n<hr>\n\n<p><strong>Update</strong>. If you not want to preserve the <code>$index</code>'es you could modify the above <code>showRow</code> to : </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$scope.showRow = function(row) {\n  return !(row.value[0] == 0 || row.value[1] == 0)\n}\n</code></pre>\n\n<p>and then use it as a <code>filter</code> instead :</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;tr ng-repeat=\"row in chart.values | filter:showRow track by $index\"&gt;\n</code></pre>\n\n<p>By that the tracked <code>$index</code>'es will be 0,1,2,3,4...etc regardless of whatever there is filtered out.</p>\n"}], "owner": {"reputation": 2607, "user_id": 1159590, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/NWpFc.jpg?s=128&g=1", "display_name": "Edgar Quintero", "link": "https://stackoverflow.com/users/1159590/edgar-quintero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 476, "favorite_count": 0, "accepted_answer_id": 48674897, "answer_count": 2, "score": 2, "last_activity_date": 1518054574, "creation_date": 1518045072, "question_id": 48674861, "link": "https://stackoverflow.com/questions/48674861/exclude-elements-in-a-nested-array-from-ng-repeat-without-ng-if", "title": "Exclude elements in a nested array from ng-repeat without ng-if", "body": "<p>Given a nested array, how can I filter these values in an ng-repeat without having to use ng-if.</p>\n\n<p>The reason not to use an ng-if, is that I need zero values to not take up an $index, because I need to match that index with something else that is happening in this view. So for example this doesn't work for me atm:</p>\n\n<pre><code>&lt;tr ng-if=\"row.value[0] !== 0 || row.value[1] !== 0\" ng-repeat=\"row in chart.values track by $index\"&gt;\n</code></pre>\n\n<p>In the image below, for example if value[0] or value[1] were zero under Asian/Indian, then they shouldn't appear in the ng-repeat. The data looks as follows:</p>\n\n<p><a href=\"https://i.stack.imgur.com/gRKRe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gRKRe.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "css", "reactjs", "react-native", "react-native-android"], "comments": [{"owner": {"reputation": 5881, "user_id": 2763250, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/789e54e86c54a04b78dbb818b3f82794?s=128&d=identicon&r=PG&f=1", "display_name": "Anthony", "link": "https://stackoverflow.com/users/2763250/anthony"}, "edited": false, "score": 0, "creation_date": 1518045564, "post_id": 48674848, "comment_id": 84348366, "body": "have you tried rendering a simple &lt;View&gt; with some text from your data list to see if your &lt;CardItem&gt; component is causing some issues?"}, {"owner": {"reputation": 698, "user_id": 4054434, "user_type": "registered", "accept_rate": 62, "profile_image": "https://lh6.googleusercontent.com/-23pEC2ej6Fk/AAAAAAAAAAI/AAAAAAAAACo/t9ozxYQH8fM/photo.jpg?sz=128", "display_name": "Ernest Okot", "link": "https://stackoverflow.com/users/4054434/ernest-okot"}, "edited": false, "score": 0, "creation_date": 1524191560, "post_id": 48674848, "comment_id": 86881792, "body": "side note: does the style prop on ActivityList do anything?"}], "answers": [{"comments": [{"owner": {"reputation": 698, "user_id": 1398874, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/8bce8a9cc102d0f8a27408846a24c487?s=128&d=identicon&r=PG", "display_name": "SamWise", "link": "https://stackoverflow.com/users/1398874/samwise"}, "edited": false, "score": 1, "creation_date": 1541660547, "post_id": 48676015, "comment_id": 93293856, "body": "This fixed my problem. I have a flatlist inside of s scrollview and the scrollview had a flex:1 . As soon as I removed that they scroll together now. Thank you!"}, {"owner": {"reputation": 325, "user_id": 5427239, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/10205174633831157/picture?type=large", "display_name": "Yakov Kemer", "link": "https://stackoverflow.com/users/5427239/yakov-kemer"}, "edited": false, "score": 0, "creation_date": 1592239845, "post_id": 48676015, "comment_id": 110348202, "body": "God bless you, man. The problem was in style of flatlist. I spent one week to solve it, until I found your comment."}], "tags": [], "owner": {"reputation": 869, "user_id": 8100237, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5f61ff8acc3755787b942adea2e902ef?s=128&d=identicon&r=PG&f=1", "display_name": "swimisbell", "link": "https://stackoverflow.com/users/8100237/swimisbell"}, "is_accepted": true, "score": 52, "last_activity_date": 1518053030, "creation_date": 1518053030, "answer_id": 48676015, "question_id": 48674848, "link": "https://stackoverflow.com/questions/48674848/flatlist-not-scrolling/48676015#48676015", "title": "FlatList not scrolling", "body": "<p>Take out the <code>flex: 1</code> in your <code>styles.cardcontainer</code>, that should let you scroll. The FlatList/ScrollView <code>contentContainerStyle</code> prop wraps all the child components\u2014what's \"inside\" the FlatList if you will\u2014and should never have a defined height or flex value. If you need to set a <code>flex: 1</code> for the FlatList itself use <code>style={{flex: 1}}</code> instead. Cheers!</p>\n"}, {"comments": [{"owner": {"reputation": 1241, "user_id": 2205465, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/c6316e9c3d42224d9c6c5af53ac2f776?s=128&d=identicon&r=PG", "display_name": "avriis", "link": "https://stackoverflow.com/users/2205465/avriis"}, "edited": false, "score": 1, "creation_date": 1573482056, "post_id": 51553375, "comment_id": 103886167, "body": "Also worked for me. Had some Views that responded fine to scrolling gestures, but the Text component did not. However, wrapping the whole item in renderItem in TouchableWithoutFeedback did the trick, thanks!"}, {"owner": {"reputation": 183, "user_id": 7158381, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wiw6k.jpg?s=128&g=1", "display_name": "Enoch", "link": "https://stackoverflow.com/users/7158381/enoch"}, "edited": false, "score": 0, "creation_date": 1574349552, "post_id": 51553375, "comment_id": 104209508, "body": "This is the only way I could get it to work on iOS. Android was fine already."}, {"owner": {"reputation": 1625, "user_id": 10398005, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-MHza7a22Bow/AAAAAAAAAAI/AAAAAAAAdO0/S2R2Af-o3qc/photo.jpg?sz=128", "display_name": "Pratap Sharma", "link": "https://stackoverflow.com/users/10398005/pratap-sharma"}, "edited": false, "score": 0, "creation_date": 1598458339, "post_id": 51553375, "comment_id": 112467839, "body": "For some reason, wrapping my item with <code>TouchableWithoutFeedback</code> worked. But I don&#39;t understand why it worked."}, {"owner": {"reputation": 361, "user_id": 697979, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/274f4903c4408c946b3ef1706cc1d82a?s=128&d=identicon&r=PG", "display_name": "Nick Chan Abdullah", "link": "https://stackoverflow.com/users/697979/nick-chan-abdullah"}, "edited": false, "score": 0, "creation_date": 1614013778, "post_id": 51553375, "comment_id": 117248586, "body": "not all hero wear capes"}], "tags": [], "owner": {"reputation": 1477, "user_id": 7891350, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-sYSmRaE8UXw/AAAAAAAAAAI/AAAAAAAAAGE/8nKLnXc18pE/photo.jpg?sz=128", "display_name": "Kyo Kurosagi", "link": "https://stackoverflow.com/users/7891350/kyo-kurosagi"}, "is_accepted": false, "score": 21, "last_activity_date": 1532678229, "creation_date": 1532678229, "answer_id": 51553375, "question_id": 48674848, "link": "https://stackoverflow.com/questions/48674848/flatlist-not-scrolling/51553375#51553375", "title": "FlatList not scrolling", "body": "<p>I also meet this issue when I'm adding image tool in my chatting app, and found a trick solution.</p>\n\n<p>By simply add TouchableWithoutFeedback to cover every element in flatlist. Strange but it works.</p>\n\n<pre><code>_renderCardItem = ({ item }) =&gt; (\n&lt;TouchableWithoutFeedback onPress={()=&gt;{}}&gt;\n&lt;CardItem\n  image={item.image}\n  title={item.title}\n  date={item.date}\n  hour={item.hour}\n/&gt;\n&lt;/TouchableWithoutFeedback&gt;\n);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1686, "user_id": 1282430, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dyC3G.png?s=128&g=1", "display_name": "mcottingham", "link": "https://stackoverflow.com/users/1282430/mcottingham"}, "edited": false, "score": 0, "creation_date": 1606947241, "post_id": 58278153, "comment_id": 115121571, "body": "This probably saved me hours of troubleshooting.  Thank you!"}], "tags": [], "owner": {"reputation": 417, "user_id": 3273806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/yhSFf.jpg?s=128&g=1", "display_name": "raphaelrk", "link": "https://stackoverflow.com/users/3273806/raphaelrk"}, "is_accepted": false, "score": 5, "last_activity_date": 1570489116, "creation_date": 1570489116, "answer_id": 58278153, "question_id": 48674848, "link": "https://stackoverflow.com/questions/48674848/flatlist-not-scrolling/58278153#58278153", "title": "FlatList not scrolling", "body": "<p>For others coming to this question: My FlatList was inside a TouchableWithoutFeedback. I changed that to a View and was able to scroll again.</p>\n"}, {"tags": [], "owner": {"reputation": 71, "user_id": 11582956, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-QAN9N70yQd8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcnxhAidrNyB5PTL0sldP5G_1FbuQ/mo/photo.jpg?sz=128", "display_name": "tech js", "link": "https://stackoverflow.com/users/11582956/tech-js"}, "is_accepted": false, "score": 7, "last_activity_date": 1576041239, "creation_date": 1576041239, "answer_id": 59279254, "question_id": 48674848, "link": "https://stackoverflow.com/questions/48674848/flatlist-not-scrolling/59279254#59279254", "title": "FlatList not scrolling", "body": "<p>Simply do following steps to get FlatList scroll.</p>\n\n<pre><code>&lt;View style={{flex:1}}&gt;\n  &lt;FlatList\n    data={this.state.data}\n    renderItem={({item}) =&gt; this.renderData(item)}\n    keyExtractor={item =&gt; item._id}\n    contentContainerStyle={{\n    flexGrow: 1,\n    }}\n  /&gt;\n&lt;/View&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 884, "user_id": 10539792, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rUNhI.jpg?s=128&g=1", "display_name": "Ehsan sarshar", "link": "https://stackoverflow.com/users/10539792/ehsan-sarshar"}, "is_accepted": false, "score": 2, "last_activity_date": 1587126066, "last_edit_date": 1587126066, "creation_date": 1587119509, "answer_id": 61269469, "question_id": 48674848, "link": "https://stackoverflow.com/questions/48674848/flatlist-not-scrolling/61269469#61269469", "title": "FlatList not scrolling", "body": "<p>for me the problem was the size of an image inside the flatlist item.\nI just set it's height by percentage which was a mistake.</p>\n\n<p>here are some tips.</p>\n\n<p>1: don't put a fixed height for FlatList contentContainer</p>\n\n<p>2: childs inside Flatlist must not have a height of percentage eg: 50% otherwise it take the half of list and don't let other childs to render</p>\n\n<p>3: if you want to have a fixed size FlatList put it's height inside style property not contentContainerStyle</p>\n"}, {"tags": [], "owner": {"reputation": 129, "user_id": 7536816, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5Uir9.png?s=128&g=1", "display_name": "Mayowa Daniel", "link": "https://stackoverflow.com/users/7536816/mayowa-daniel"}, "is_accepted": false, "score": 0, "last_activity_date": 1614190667, "creation_date": 1614190667, "answer_id": 66356636, "question_id": 48674848, "link": "https://stackoverflow.com/questions/48674848/flatlist-not-scrolling/66356636#66356636", "title": "FlatList not scrolling", "body": "<p>For me, I had an absolutely positioned transparent view on top of my list!</p>\n<p>For whatever reason, it only affected my android version.</p>\n<p>I think the absolute position made it so the inspector didn't see it when I looked.</p>\n"}], "owner": {"reputation": 283, "user_id": 7888429, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f9e24a300aa0c4bbb0f126ec9d97fe6?s=128&d=identicon&r=PG&f=1", "display_name": "matthiasgoossens", "link": "https://stackoverflow.com/users/7888429/matthiasgoossens"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39446, "favorite_count": 6, "accepted_answer_id": 48676015, "answer_count": 6, "score": 21, "last_activity_date": 1614190667, "creation_date": 1518045002, "question_id": 48674848, "link": "https://stackoverflow.com/questions/48674848/flatlist-not-scrolling", "title": "FlatList not scrolling", "body": "<p>i have created a screen where I display a component that contains a FlatList. For some reason I can't scroll through the list. Someone who can spot my mistake and point me in the right direction?</p>\n\n<p><strong>render-function and style from my screen file:</strong></p>\n\n<pre><code>render() {\nreturn (\n  &lt;View style={styles.container}&gt;\n    &lt;SearchBar /&gt;\n    &lt;ActivityList style={styles.list} data={this.state.data} /&gt;\n  &lt;/View&gt;\n);\n}\n}\n\nconst styles = StyleSheet.create({\n container: {\n  flex: 1,\n  overflow: 'hidden',\n  backgroundColor: '#fff',\n  alignItems: 'center',\n  justifyContent: 'flex-start',\n },\n list: {\n  flex: 1,\n  overflow: 'hidden',\n },\n});\n</code></pre>\n\n<p><strong>render function and style from my listitem component:</strong></p>\n\n<pre><code>export default class CardItem extends React.PureComponent {\nrender() {\nreturn (\n  &lt;View style={styles.cardview}&gt;\n    &lt;View style={styles.imagecontainer}&gt;\n      &lt;Image\n        resizeMode=\"cover\"\n        style={styles.cardimage}\n        source={{\n          uri: this.props.image,\n        }}\n      /&gt;\n    &lt;/View&gt;\n    &lt;View style={styles.cardinfo}&gt;\n      &lt;Text style={styles.cardtitle}&gt;{this.props.title}&lt;/Text&gt;\n      &lt;View style={styles.cardtext}&gt;\n        &lt;Text style={styles.textdate}&gt;{this.props.date}&lt;/Text&gt;\n        &lt;Text style={styles.texthour}&gt;{this.props.hour}&lt;/Text&gt;\n      &lt;/View&gt;\n    &lt;/View&gt;\n  &lt;/View&gt;\n);\n}\n}\n\nconst styles = StyleSheet.create({\n cardview: {\n  flex: 1,\n  justifyContent: 'flex-start',\n  backgroundColor: 'white',\n  elevation: 3,\n  maxHeight: 200,\n  width: Dimensions.get('window').width - 20,\n  margin: 1,\n  marginTop: 10,\n  borderRadius: 4,\n},\nimagecontainer: {\n flex: 7,\n height: 140,\n borderRadius: 4,\n},\ncardimage: {\n flex: 1,\n opacity: 0.8,\n height: 140,\n borderTopLeftRadius: 4,\n borderTopRightRadius: 4,\n},\ncardinfo: {\n flex: 2,\n flexDirection: 'row',\n justifyContent: 'space-between',\n alignItems: 'center',\n padding: 10,\n},\ncardtitle: {\n flex: 1,\n fontSize: 16,\n fontWeight: 'bold',\n},\ncardtext: {\n flex: 1,\n justifyContent: 'center',\n alignItems: 'flex-end',\n},\ntextdate: {\n color: '#5e5e71',\n},\ntexthour: {\n color: '#5e5e71',\n},\n});\n</code></pre>\n\n<p><strong>render function and style from my list component:</strong></p>\n\n<pre><code>export default class ActivityList extends React.Component {\n_renderCardItem = ({ item }) =&gt; (\n&lt;CardItem\n  image={item.image}\n  title={item.title}\n  date={item.date}\n  hour={item.hour}\n/&gt;\n);\n\n_keyExtractor = item =&gt; item.id;\n\nrender() {\nreturn (\n  &lt;FlatList\n    data={this.props.data}\n    renderItem={this._renderCardItem}\n    contentContainerStyle={styles.cardcontainer}\n    keyExtractor={this._keyExtractor}\n  /&gt;\n);\n}\n}\n\nconst styles = StyleSheet.create({\n cardcontainer: {\n  flex: 1,\n  overflow: 'hidden',\n  backgroundColor: 'white',\n  alignItems: 'center',\n  width: Dimensions.get('window').width,\n  borderWidth: 0,\n },\n});\n</code></pre>\n\n<p>my data items have all a unique id, title, date, hour.</p>\n\n<p>Read through all available guides and docs and found no solution.</p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "express", "create-react-app"], "comments": [{"owner": {"reputation": 6930, "user_id": 1287643, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/58fbf4309ed8205b568a28342105f31f?s=128&d=identicon&r=PG", "display_name": "rishat", "link": "https://stackoverflow.com/users/1287643/rishat"}, "edited": false, "score": 0, "creation_date": 1518045159, "post_id": 48674836, "comment_id": 84348224, "body": "What exactly is the problem with having one package.json file in your case?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8679481"}, "reply_to_user": {"reputation": 6930, "user_id": 1287643, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/58fbf4309ed8205b568a28342105f31f?s=128&d=identicon&r=PG", "display_name": "rishat", "link": "https://stackoverflow.com/users/1287643/rishat"}, "edited": false, "score": 0, "creation_date": 1518045768, "post_id": 48674836, "comment_id": 84348446, "body": "@Rishat Well, having only one package.json is my goal. If you meant <i>more</i> than one, then I guess it is personal preference. I&#39;ve also heard it is good practice to have only one. If it turns out there is no better solution I&#39;ll be fine to go with something like the article I linked I guess. Just preference :)"}, {"owner": {"reputation": 1388, "user_id": 5178406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2eOqY.jpg?s=128&g=1", "display_name": "Matthew Moran", "link": "https://stackoverflow.com/users/5178406/matthew-moran"}, "edited": false, "score": 0, "creation_date": 1518047056, "post_id": 48674836, "comment_id": 84348897, "body": "From my understanding it&#39;s more common to only have one package.json and one node_modules folder.  I have a react app with an express server set up that way.  I also use a proxy for the express server and still only have one package.json file.  Maybe there is confusion somewhere with this setup?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8679481"}, "reply_to_user": {"reputation": 1388, "user_id": 5178406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2eOqY.jpg?s=128&g=1", "display_name": "Matthew Moran", "link": "https://stackoverflow.com/users/5178406/matthew-moran"}, "edited": false, "score": 0, "creation_date": 1518047684, "post_id": 48674836, "comment_id": 84349057, "body": "@mtmoran I&#39;d love to know what you did to accomplish this. Maybe you could write an answer with details or hit me with a link?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8679481"}, "edited": false, "score": 0, "creation_date": 1518051308, "post_id": 48675655, "comment_id": 84350054, "body": "This is great, thanks! I guess I was looking or a perfect scenario where I could use create-react-app with express and have only 1 package.json but it seems that isn&#39;t possible. Thanks again for your sample :)"}], "tags": [], "owner": {"reputation": 4702, "user_id": 1108098, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/9201c501532256286e60080ce8739045?s=128&d=identicon&r=PG", "display_name": "jordiburgos", "link": "https://stackoverflow.com/users/1108098/jordiburgos"}, "is_accepted": false, "score": 0, "last_activity_date": 1518050243, "creation_date": 1518050243, "answer_id": 48675655, "question_id": 48674836, "link": "https://stackoverflow.com/questions/48674836/better-solution-to-development-with-react-and-express/48675655#48675655", "title": "Better solution to development with React and Express", "body": "<p>I have a sample project in github: <a href=\"https://github.com/jmaister/babel-express-webpack-starter\" rel=\"nofollow noreferrer\">https://github.com/jmaister/babel-express-webpack-starter</a></p>\n\n<p>It only has one package.json to download client and server dependencies.</p>\n\n<p>Also, it has a build for the client:</p>\n\n<pre><code>npm run webpack\n</code></pre>\n\n<p>and start for the server:</p>\n\n<pre><code>npm run start\n</code></pre>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user8679481"}, "edited": false, "score": 1, "creation_date": 1518059442, "post_id": 48676609, "comment_id": 84352034, "body": "Thanks for the example, I think this is probably as close as I&#39;m gonna get. Initially I was hoping for something as simple as using create-react-app, slapping an express server next to it and somehow being able to live off one package.json. It seems to have that kind of configuration I would need to manually setup webpack, babel, etc., as you did with glossa."}, {"owner": {"reputation": 1388, "user_id": 5178406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2eOqY.jpg?s=128&g=1", "display_name": "Matthew Moran", "link": "https://stackoverflow.com/users/5178406/matthew-moran"}, "edited": false, "score": 0, "creation_date": 1518059596, "post_id": 48676609, "comment_id": 84352069, "body": "Well, I did not manually setup webpack, though I did with babel so I could write the express server in es6.  All the files you see with webpack is what you&#39;d see if you <code>eject</code> your create-react-app.  It&#39;s running &#39;under the hood&#39; when you run you create-react-app  So if you eject your app you&#39;d see the same thing. But I&#39;m also not sure where you are seeing multiple packagae.json files?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user8679481"}, "edited": false, "score": 0, "creation_date": 1518060927, "post_id": 48676609, "comment_id": 84352364, "body": "Without ejecting create-react-app, I&#39;m fairly certain you can&#39;t move node_modules or package.json without running into issues with react-scripts (correct me if I&#39;m wrong). Assuming that is the case, I have a package.json in client for the client dependencies, proxy, scripts, etc. and a package.json in server for server dependencies, scripts, etc. I also have a top level package.json for running both client and server concurrently, running them seperately, etc. these are the scripts I actually interact with."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8679481"}, "edited": false, "score": 0, "creation_date": 1518060974, "post_id": 48676609, "comment_id": 84352376, "body": "I just spun up an example of what I&#39;m trying to explain <a href=\"https://github.com/jolaleye/react-express\" rel=\"nofollow noreferrer\">here</a>. Little to no substance but you should be able to see the structure."}, {"owner": {"reputation": 1388, "user_id": 5178406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2eOqY.jpg?s=128&g=1", "display_name": "Matthew Moran", "link": "https://stackoverflow.com/users/5178406/matthew-moran"}, "edited": false, "score": 0, "creation_date": 1518061561, "post_id": 48676609, "comment_id": 84352508, "body": "Hmmm. I see it I guess i just don&#39;t understand fully why you believe you&#39;re limited to creating all three package.json files.  Maybe I&#39;m missing something, but what issues are running into when you install all the dependencies in the root directory? In your scripts I dont think you need to cd into those directories, I believe you can provide the relative file path <code>&quot;server&quot;: &quot;nodemon .&#47;src&#47;server&#47;express&#47; .&quot;</code> for example."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8679481"}, "edited": false, "score": 0, "creation_date": 1518062451, "post_id": 48676609, "comment_id": 84352696, "body": "The top level package.json could be removed but it is useful for controlling the client and server from outside. As for removing the client package.json, are you suggesting I do something like create a server folder in the app generated by create-react-app? If so, that is a possibility I haven&#39;t considered, but then my client and server code will be a little more integrated and I won&#39;t have distinct &quot;client&quot; and &quot;server&quot; folders. It sounds super petty but it&#39;s a separation of concerns and preference issue."}, {"owner": {"reputation": 1388, "user_id": 5178406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2eOqY.jpg?s=128&g=1", "display_name": "Matthew Moran", "link": "https://stackoverflow.com/users/5178406/matthew-moran"}, "edited": false, "score": 1, "creation_date": 1518062875, "post_id": 48676609, "comment_id": 84352786, "body": "Conceivably, you could have your server outside of your client directory, however, you WOULD have to eject your create-react-app and modify the webpack.config file (or create a symlink).  Or you&#39;d need to have your express app in your <code>src</code> directory as the limitations on create-react-app inherently have defined."}, {"owner": {"reputation": 1388, "user_id": 5178406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2eOqY.jpg?s=128&g=1", "display_name": "Matthew Moran", "link": "https://stackoverflow.com/users/5178406/matthew-moran"}, "edited": false, "score": 1, "creation_date": 1518062963, "post_id": 48676609, "comment_id": 84352799, "body": "My decision to was to move my express server into <code>src</code> as that would assist me in using es6 and would not require modification of the webpack configuration.  Ideally, I would have them more distinct, but in either way, you&#39;d still only need one package.json file."}, {"owner": {"user_type": "does_not_exist", "display_name": "user8679481"}, "edited": false, "score": 0, "creation_date": 1518063201, "post_id": 48676609, "comment_id": 84352848, "body": "Alright, I think I understand what you&#39;re saying now. I was overlooking some things in your glossa example because I was too focused on naming. Thanks for all your help in this :)"}, {"owner": {"reputation": 1388, "user_id": 5178406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2eOqY.jpg?s=128&g=1", "display_name": "Matthew Moran", "link": "https://stackoverflow.com/users/5178406/matthew-moran"}, "edited": false, "score": 0, "creation_date": 1518063598, "post_id": 48676609, "comment_id": 84352928, "body": "You&#39;re welcome. Let me know if you need anything else."}], "tags": [], "owner": {"reputation": 1388, "user_id": 5178406, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/2eOqY.jpg?s=128&g=1", "display_name": "Matthew Moran", "link": "https://stackoverflow.com/users/5178406/matthew-moran"}, "is_accepted": true, "score": 0, "last_activity_date": 1518057379, "creation_date": 1518057379, "answer_id": 48676609, "question_id": 48674836, "link": "https://stackoverflow.com/questions/48674836/better-solution-to-development-with-react-and-express/48676609#48676609", "title": "Better solution to development with React and Express", "body": "<p>Here is <a href=\"https://github.com/matthewtmoran/glossa-react\" rel=\"nofollow noreferrer\">glossa</a>, a project that utilizes the setup you are looking for.</p>\n\n<p>In <code>src</code> I have my create-react-app. (now I have ejected my projects but don't let that confuse you.)  In that same directory I have my express server.  </p>\n\n<p>If you don't want to have the in the same directory, the options are to create a symlink or eject your create-react-app and remove <code>ModuleScopePlugin</code> from your webpack config.  This <a href=\"https://stackoverflow.com/questions/44114436/the-create-react-app-imports-restriction-outside-of-src-directory\">answer</a> has more details for that scenario.</p>\n\n<p>You will have to add a proxy in your <code>package.json</code>.  Currently mine is set up like this on the master branch.</p>\n\n<pre><code>\"proxy\": \"http://localhost:8080\",\n</code></pre>\n\n<p>My express server runs on 8080</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user8679481"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 127, "favorite_count": 0, "accepted_answer_id": 48676609, "answer_count": 2, "score": 0, "last_activity_date": 1518057379, "creation_date": 1518044943, "question_id": 48674836, "link": "https://stackoverflow.com/questions/48674836/better-solution-to-development-with-react-and-express", "title": "Better solution to development with React and Express", "body": "<p><strong>tl;dr:</strong> How can I create a project with React on the front-end and Express on the back-end and have only one package.json and node_modules folder?</p>\n\n<p>When creating an application with a React front-end and Express back-end, I'd like to have a structure like this:</p>\n\n<ul>\n<li>client\n\n<ul>\n<li><em>client stuff</em></li>\n</ul></li>\n<li>server\n\n<ul>\n<li><em>server stuff</em></li>\n</ul></li>\n<li>.gitignore</li>\n<li>package.json</li>\n<li><em>etc...</em></li>\n</ul>\n\n<p><em>Note that the React front-end is built with create-react-app</em></p>\n\n<p>Where \"client stuff\" and \"server stuff\" is purely front- and back-end code. However the best solution(only solution?) I have been able to find is something like <a href=\"https://medium.freecodecamp.org/how-to-make-create-react-app-work-with-a-node-backend-api-7c5c48acb1b0\" rel=\"nofollow noreferrer\">this</a>. Where the client and server are running on two separate servers and client requests are proxied to the server. This solution is fine except for the fact that it requires 2 if not 3 <code>package.json</code>. I'd like to keep the client and server code separated as they should be, but still within the same project and repo with a <strong>single package.json and node_modules folder</strong>.</p>\n\n<p>I understand the separation of concerns between client and server and I think what I'm shooting for satisfies that but if not please let me know. </p>\n"}, {"tags": ["javascript", "jquery", "html"], "answers": [{"comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 2287, "user_id": 43035, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/95ac3676439ca898dfb84721a44fe50e?s=128&d=identicon&r=PG", "display_name": "pg.", "link": "https://stackoverflow.com/users/43035/pg"}, "edited": false, "score": 0, "creation_date": 1518046425, "post_id": 48674900, "comment_id": 84348680, "body": "Fixed the typo."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "edited": false, "score": 1, "creation_date": 1518048744, "post_id": 48674900, "comment_id": 84349342, "body": "@RokoC.Buljan 1, 6) fixed; 2-4, 7) That&#39;s a problem with the problem specification, I assume his HTML is consistent; 5) I&#39;ve never heard of this, I expect jQuery to deal with such compatibility issues"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": false, "score": 3, "last_activity_date": 1518048584, "last_edit_date": 1518048584, "creation_date": 1518045282, "answer_id": 48674900, "question_id": 48674817, "link": "https://stackoverflow.com/questions/48674817/using-jquery-to-append-an-attribute-of-a-parent-tag/48674900#48674900", "title": "Using jquery to append an attribute of a parent tag", "body": "<p>Use <code>.each()</code> to loop over all the spans, get the attribute of the parent, and then append to the DIV.</p>\n\n<pre><code>$(\"span:contains('string')\").each(function() {\n    var href=$(this).parent().attr(\"href\");\n    var link = href.match(/&amp;link=([^&amp;]+)/)[1];\n    $(this).closest(\"div\").append($(\"&lt;a&gt;\", {\n        \"class\": \"details\",\n        id: link + \"_details\",\n        text: \"Show Details\"\n    }));\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2287, "user_id": 43035, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/95ac3676439ca898dfb84721a44fe50e?s=128&d=identicon&r=PG", "display_name": "pg.", "link": "https://stackoverflow.com/users/43035/pg"}, "edited": false, "score": 0, "creation_date": 1518046412, "post_id": 48675017, "comment_id": 84348677, "body": "This works for me, so you&#39;re setting {id} here and then if it exists, passing it to the append?"}, {"owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "reply_to_user": {"reputation": 2287, "user_id": 43035, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/95ac3676439ca898dfb84721a44fe50e?s=128&d=identicon&r=PG", "display_name": "pg.", "link": "https://stackoverflow.com/users/43035/pg"}, "edited": false, "score": 0, "creation_date": 1518046938, "post_id": 48675017, "comment_id": 84348869, "body": "@pg. exactly. Extra precaution. <i>if the <code>.match</code> fails, than don&#39;t do the append stuff.</i>"}], "tags": [], "owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "is_accepted": true, "score": 1, "last_activity_date": 1518046522, "last_edit_date": 1518046522, "creation_date": 1518045949, "answer_id": 48675017, "question_id": 48674817, "link": "https://stackoverflow.com/questions/48674817/using-jquery-to-append-an-attribute-of-a-parent-tag/48675017#48675017", "title": "Using jquery to append an attribute of a parent tag", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\"a[href*='link=']\").each(function() {\r\n  if( $(this).text() !== \"string\" ) return; // Do nothing.\r\n  var id = $(this).attr(\"href\").match(/[?&amp;]link=([^&amp;]+)/)[1];\r\n  if( id ) $(this).closest(\"div\").append(`&lt;a class=\"details\" id=\"${id}_details\"&gt;Show Details +&lt;/a&gt;`);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;\r\n   &lt;a href=\"link.php?category=1&amp;link=apple\"&gt;&lt;span&gt;&lt;b&gt;string&lt;/b&gt;&lt;/span&gt;&lt;/a&gt;\r\n&lt;/div&gt;\r\n&lt;div&gt;\r\n   &lt;a href=\"link.php?category=2&amp;link=banana\"&gt;&lt;span&gt;&lt;b&gt;string&lt;/b&gt;&lt;/span&gt;&lt;/a&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script src=\"//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2287, "user_id": 43035, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/95ac3676439ca898dfb84721a44fe50e?s=128&d=identicon&r=PG", "display_name": "pg.", "link": "https://stackoverflow.com/users/43035/pg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 56, "favorite_count": 0, "accepted_answer_id": 48675017, "answer_count": 2, "score": 1, "last_activity_date": 1518048584, "creation_date": 1518044861, "question_id": 48674817, "link": "https://stackoverflow.com/questions/48674817/using-jquery-to-append-an-attribute-of-a-parent-tag", "title": "Using jquery to append an attribute of a parent tag", "body": "<p>I have some HTML that looks like this:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;strong&gt;\n        &lt;a href=\"link.php?category=1&amp;link=apple\"&gt;\n            &lt;span&gt;string&lt;/span&gt;\n        &lt;/a&gt;\n    &lt;/strong&gt;\n&lt;/div&gt;\n\n&lt;div&gt;\n    &lt;strong&gt;\n        &lt;a href=\"link.php?category=2&amp;link=banana\"&gt;\n            &lt;span&gt;string&lt;/span&gt;\n        &lt;/a&gt;\n    &lt;/strong&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I want to append a link inside of each div that contains a span with \"string\". That link will have as its id the link parameter of the href attribute of the link that contains the span so for example:</p>\n\n<pre><code>&lt;div&gt;\n    &lt;strong&gt;\n        &lt;a href=\"link.php?category=1&amp;link=apple\"&gt;\n            &lt;span&gt;string&lt;/span&gt;\n        &lt;/a&gt;\n    &lt;/strong&gt;\n    &lt;a class=\"details\" id=\"apple_details\"&gt;Show Details +&lt;/a&gt;\n&lt;/div&gt;\n\n&lt;div&gt;\n    &lt;strong&gt;\n        &lt;a href=\"link.php?category=2&amp;link=banana\"&gt;\n            &lt;span&gt;string&lt;/span&gt;\n        &lt;/a&gt;\n    &lt;/strong&gt;\n    &lt;a class=\"details\" id=\"banana_details\"&gt;Show Details +&lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>What I have so far is this:</p>\n\n<pre><code>$(\"span:contains('string')\").parent().parent().parent().append('&lt;a class=\"details\" id=\"details\"&gt;Show Details +&lt;/a&gt;');\n</code></pre>\n\n<p>How do I get the href attribute of the links?</p>\n"}, {"tags": ["javascript", "microsoft-edge"], "comments": [{"owner": {"reputation": 1037, "user_id": 7658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71a003e0fdec71b6f784eccdfbc2e457?s=128&d=identicon&r=PG&f=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/7658042/pavlo"}, "edited": false, "score": 0, "creation_date": 1518046406, "post_id": 48674800, "comment_id": 84348675, "body": "<a href=\"https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/runtime/onMessage\" rel=\"nofollow noreferrer\">sendResponse</a> A function to call, at most once, to send a response to the message. The function takes a single argument, which may be any <code>JSON-ifiable</code> object. This argument is passed back to the message sender. Have you tried with a simple object?"}, {"owner": {"reputation": 553, "user_id": 200160, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92fcce013c0b32b3fdff824af8df2027?s=128&d=identicon&r=PG", "display_name": "Ralfeus", "link": "https://stackoverflow.com/users/200160/ralfeus"}, "reply_to_user": {"reputation": 1037, "user_id": 7658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71a003e0fdec71b6f784eccdfbc2e457?s=128&d=identicon&r=PG&f=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/7658042/pavlo"}, "edited": false, "score": 0, "creation_date": 1518071120, "post_id": 48674800, "comment_id": 84355074, "body": "I tried to send nearly empty object. So done function looks like this: .done(function(element) { sendResponse({&#39;card&#39;: &quot;&quot;}); }); Still callback isn&#39;t called"}, {"owner": {"reputation": 1037, "user_id": 7658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71a003e0fdec71b6f784eccdfbc2e457?s=128&d=identicon&r=PG&f=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/7658042/pavlo"}, "edited": false, "score": 0, "creation_date": 1518086164, "post_id": 48674800, "comment_id": 84363793, "body": "How does get card for website look like?"}, {"owner": {"reputation": 553, "user_id": 200160, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92fcce013c0b32b3fdff824af8df2027?s=128&d=identicon&r=PG", "display_name": "Ralfeus", "link": "https://stackoverflow.com/users/200160/ralfeus"}, "reply_to_user": {"reputation": 1037, "user_id": 7658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71a003e0fdec71b6f784eccdfbc2e457?s=128&d=identicon&r=PG&f=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/7658042/pavlo"}, "edited": false, "score": 0, "creation_date": 1518171577, "post_id": 48674800, "comment_id": 84405476, "body": "{ card: &quot;&quot; } It&#39;s just empty. But still it doesn&#39;t work"}, {"owner": {"reputation": 1037, "user_id": 7658042, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71a003e0fdec71b6f784eccdfbc2e457?s=128&d=identicon&r=PG&f=1", "display_name": "Pavlo", "link": "https://stackoverflow.com/users/7658042/pavlo"}, "edited": false, "score": 0, "creation_date": 1518176389, "post_id": 48674800, "comment_id": 84408266, "body": "How does your manifest look like, specifically for content script"}], "answers": [{"tags": [], "owner": {"reputation": 553, "user_id": 200160, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92fcce013c0b32b3fdff824af8df2027?s=128&d=identicon&r=PG", "display_name": "Ralfeus", "link": "https://stackoverflow.com/users/200160/ralfeus"}, "is_accepted": true, "score": 0, "last_activity_date": 1518176831, "creation_date": 1518176831, "answer_id": 48705134, "question_id": 48674800, "link": "https://stackoverflow.com/questions/48674800/edge-extension-runtime-sendmessage-doesnt-receive-response/48705134#48705134", "title": "Edge extension: runtime.sendMessage doesn&#39;t receive response", "body": "<p>Ok, I figured out the reason of the problem. sendResponse() was called in .done() function, which is called asynchronously. And according to manual:</p>\n\n<blockquote>\n  <p>The <strong>sendResponse</strong> callback is only valid if used synchronously, or if\n  the event handler returns <strong>true</strong> to indicate that it will respond\n  asynchronously.</p>\n</blockquote>\n\n<p>So I've modified my background script's function this way:</p>\n\n<pre><code>if (request.name == 'get_card_for_website') {\n    get_card_for_website(request.url)\n        .done(function(element) {\n            if (element.cards &amp;&amp; element.cards.length != 0) {\n                if (element.cards.length == 1) {\n                    sendResponse({'card': element.cards[0]});\n                }\n                else {\n                    get_one_card_for_site(element);\n                    sendResponse({'card': \"\"});\n                }\n            }\n         });\n    return true; // &lt;----- this part I've added\n}\n</code></pre>\n\n<p>And now it's working like a charm.</p>\n"}], "owner": {"reputation": 553, "user_id": 200160, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/92fcce013c0b32b3fdff824af8df2027?s=128&d=identicon&r=PG", "display_name": "Ralfeus", "link": "https://stackoverflow.com/users/200160/ralfeus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 312, "favorite_count": 0, "accepted_answer_id": 48705134, "answer_count": 1, "score": 0, "last_activity_date": 1518176831, "creation_date": 1518044735, "last_edit_date": 1518171774, "question_id": 48674800, "link": "https://stackoverflow.com/questions/48674800/edge-extension-runtime-sendmessage-doesnt-receive-response", "title": "Edge extension: runtime.sendMessage doesn&#39;t receive response", "body": "<p>I'm writing an Edge extension and struggling with communication between content script and background script.\nI'm sending a message from content script to background one:</p>\n\n<pre><code>browser.runtime.sendMessage({ name: \"get_card_for_website\", url: document.URL }, function(response) {\n    console.log(\"Got card for the website:\");\n    console.log(response);\n    if (response != undefined) {\n        if (response.card) {\n            g_card = response.card;\n            callback(response.card);\n        }\n    }\n});\n</code></pre>\n\n<p>Listener in background script is implemented like this:</p>\n\n<pre><code>browser.runtime.onMessage.addListener(function (request, sender, sendResponse) {\n    if (request.name == 'get_card_for_website') {\n        get_card_for_website(request.url)\n            .done(function(element) {\n                if (element.cards &amp;&amp; element.cards.length != 0) {\n                    if (element.cards.length == 1) {\n                        sendResponse({'card': element.cards[0]});\n                    }\n                    else {\n                        get_one_card_for_site(element);\n                        sendResponse({'card': \"\"});\n                    }\n                }\n             });\n    }\n}\n</code></pre>\n\n<p>Debugger shows message is sent to background script and corresponding code is executed up to sendResponse. But back in content script this callback function is never executed. Console shows no errors.\nWhat could I miss?</p>\n\n<p>Update: I've found out that some tabs receive responses and some don't. I don't really understand difference between first and second ones.</p>\n"}, {"tags": ["javascript", "jquery", "html"], "answers": [{"comments": [{"owner": {"reputation": 899, "user_id": 4103909, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/100000068758592/picture?type=large", "display_name": "Tree Nguyen", "link": "https://stackoverflow.com/users/4103909/tree-nguyen"}, "edited": false, "score": 0, "creation_date": 1518045550, "post_id": 48674852, "comment_id": 84348359, "body": "Is there a reason why you are using vanilla javascript with jQuery together?"}, {"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "reply_to_user": {"reputation": 899, "user_id": 4103909, "user_type": "registered", "accept_rate": 90, "profile_image": "https://graph.facebook.com/100000068758592/picture?type=large", "display_name": "Tree Nguyen", "link": "https://stackoverflow.com/users/4103909/tree-nguyen"}, "edited": false, "score": 0, "creation_date": 1518045900, "post_id": 48674852, "comment_id": 84348499, "body": "For the button selector? It really doesn&#39;t matter. I&#39;ve just gone with personal preference."}, {"owner": {"reputation": 39, "user_id": 2052537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2aabd8b4f905778bcdbe6d92571b31b?s=128&d=identicon&r=PG", "display_name": "User1", "link": "https://stackoverflow.com/users/2052537/user1"}, "edited": false, "score": 0, "creation_date": 1518046211, "post_id": 48674852, "comment_id": 84348606, "body": "@obsidian Age, Thanks for the tip. I&quot;m getting an error though:  TypeError: Cannot read property &#39;addEventListener&#39; of undefined.  Any thoughts on how to fix?"}, {"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "reply_to_user": {"reputation": 39, "user_id": 2052537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2aabd8b4f905778bcdbe6d92571b31b?s=128&d=identicon&r=PG", "display_name": "User1", "link": "https://stackoverflow.com/users/2052537/user1"}, "edited": false, "score": 0, "creation_date": 1518046469, "post_id": 48674852, "comment_id": 84348695, "body": "@Smith -- That&#39;s because you don&#39;t have a <code>&lt;button&gt;</code> element on your page. I&#39;m not sure how you&#39;re actually <b>triggering</b> your function, but don&#39;t worry about that -- it&#39;s only used for my example. You may want a <code>getElementById</code> instead, for example. The <code>var raq1</code> is the only line you&#39;re interested in :)"}, {"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1518046526, "post_id": 48674852, "comment_id": 84348712, "body": "Awesome; glad to help! Once you&#39;ve confirmed that this solves your problem, please don&#39;t forget to <a href=\"https://stackoverflow.com/help/someone-answers\"><b>mark it as accepted</b></a> by clicking on the grey check below the vote buttons -- this removes it from the &#39;Unanswered Questions&#39; queue, and awards reputation to both the question asker and question answerer. You&#39;ll be able to do that 15 minutes after asking any question. Of course, in saying that, you are under no obligation to mark my answer (or anyone else&#39;s) as correct, though marking a question as resolved helps keep things flowing smoothly :)"}, {"owner": {"reputation": 39, "user_id": 2052537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2aabd8b4f905778bcdbe6d92571b31b?s=128&d=identicon&r=PG", "display_name": "User1", "link": "https://stackoverflow.com/users/2052537/user1"}, "edited": false, "score": 0, "creation_date": 1518047155, "post_id": 48674852, "comment_id": 84348934, "body": "Just validated that everything is working as expected. Thanks!"}], "tags": [], "owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "is_accepted": true, "score": 0, "last_activity_date": 1518045033, "creation_date": 1518045033, "answer_id": 48674852, "question_id": 48674789, "link": "https://stackoverflow.com/questions/48674789/jquery-radio-button-check-issue/48674852#48674852", "title": "Jquery Radio Button Check Issue", "body": "<p>What you want to do is check whether <code>$('input[type=radio][name=q1]:checked').val()</code> exists. If it exists, set that value to <code>raq1</code>. If it doesn't, you simply set <code>raq1</code> to be an empty string.</p>\n\n<p>This can be done with the following <strong><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Conditional_Operator\" rel=\"nofollow noreferrer\">ternary</a></strong>:</p>\n\n<pre><code>$('input[type=radio][name=q1]:checked').val() ? $('input[type=radio][name=q1]:checked').val() : ''\n</code></pre>\n\n<p>And can be seen in the following:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementsByTagName('button')[0].addEventListener(\"click\", function() {\r\n  var raq1 = $('input[type=radio][name=q1]:checked').val() ? $('input[type=radio][name=q1]:checked').val() : '';\r\n  console.log(raq1);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;input type=\"radio\" name=\"q1\" id=\"qn1i5\" value=\"5\"&gt;\r\n&lt;input type=\"radio\" name=\"q1\" id=\"qn1i4\" value=\"4\"&gt;\r\n&lt;input type=\"radio\" name=\"q1\" id=\"qn1i3\" value=\"3\"&gt;\r\n&lt;input type=\"radio\" name=\"q1\" id=\"qn1i2\" value=\"2\"&gt;\r\n&lt;input type=\"radio\" name=\"q1\" id=\"qn1i1\" value=\"1\"&gt;\r\n\r\n&lt;button&gt;Get Values&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Hope this helps!</p>\n"}], "owner": {"reputation": 39, "user_id": 2052537, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c2aabd8b4f905778bcdbe6d92571b31b?s=128&d=identicon&r=PG", "display_name": "User1", "link": "https://stackoverflow.com/users/2052537/user1"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 48674852, "answer_count": 1, "score": 0, "last_activity_date": 1518045033, "creation_date": 1518044682, "question_id": 48674789, "link": "https://stackoverflow.com/questions/48674789/jquery-radio-button-check-issue", "title": "Jquery Radio Button Check Issue", "body": "<p>I'm using Jquery to store the value of a checked set of radio buttons into a variable and it works fine, but the issue I'm having is when someone decides to skip the question (skip the set of radio buttons -i.e. don't select an option) the value that is returned in the variable is 'undefined'. I would like to have the value returned as blank (no value) if someone decides to skip a set of radio buttons. Is there an easy method to do this in Jquery?</p>\n\n<p><strong>Jquery:</strong></p>\n\n<pre><code>`var raq1= $('input[type=radio][name=q1]:checked').val();`\n</code></pre>\n\n<p><strong>HTML:</strong></p>\n\n<pre><code>`&lt;input type=\"radio\"  name=\"q1\" id=\"qn1i5\" value=\"5\"&gt;\n &lt;input type=\"radio\"  name=\"q1\" id=\"qn1i4\" value=\"4\"&gt;\n &lt;input type=\"radio\"  name=\"q1\" id=\"qn1i3\" value=\"3\"&gt;\n &lt;input type=\"radio\" name=\"q1\" id=\"qn1i2\" value=\"2\"&gt;\n &lt;input type=\"radio\" name=\"q1\" id=\"qn1i1\" value=\"1\"&gt;`\n</code></pre>\n"}, {"tags": ["javascript", "function", "events"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1518044735, "post_id": 48674788, "comment_id": 84348068, "body": "If it&#39;s a global variable don&#39;t put <code>this.</code> before it."}, {"owner": {"reputation": 825, "user_id": 6334709, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ACXqM.jpg?s=128&g=1", "display_name": "Walter White", "link": "https://stackoverflow.com/users/6334709/walter-white"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1518044797, "post_id": 48674788, "comment_id": 84348092, "body": "Barmar when i use without this i have error Canot find name imageStringBase64"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1518044841, "post_id": 48674788, "comment_id": 84348106, "body": "Then it&#39;s not really a global variable, it&#39;s a property of an object."}], "owner": {"reputation": 825, "user_id": 6334709, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/ACXqM.jpg?s=128&g=1", "display_name": "Walter White", "link": "https://stackoverflow.com/users/6334709/walter-white"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 13, "favorite_count": 0, "closed_date": 1518044765, "answer_count": 0, "score": 0, "last_activity_date": 1518044679, "creation_date": 1518044679, "question_id": 48674788, "link": "https://stackoverflow.com/questions/48674788/using-global-variable-in-anonymous-function", "closed_reason": "Duplicate", "title": "Using global variable in anonymous function", "body": "<p>In html</p>\n\n<pre><code>&lt;input type=\"file\" multiple=\"multiple\" (change)=\"getFileSizeandName($event)\"/&gt;\n</code></pre>\n\n<p>in file.ts</p>\n\n<p>I have global variable</p>\n\n<pre><code>imageStringBase64: Array&lt;string&gt;;\n</code></pre>\n\n<p>and function call when event change trigger  </p>\n\n<pre><code>getFileSizeandName(args) {\n    let files = args.target.files;\n\n    for (let i = 0; i &lt; files.length; i++) {\n      let reader = new FileReader();\n      reader.onload = (function (f) {\n        return function(e) {\n          console.log(e.target.result);\n          this.imageStringBase64 = e.target.result;\n        }\n      })(files[i]);\n      reader.readAsDataURL(files[i]);\n    }\n  }\n}\n</code></pre>\n\n<p>When i use conole.log(e.target.result) in console printed stringBase64\nAssign this.imageStringBase64 = e.target.result and have unexpected result, \n<strong>this.imageStringBase64</strong> is undefined. How use global var in anonymous function?</p>\n"}, {"tags": ["javascript", "angular", "redux", "jasmine"], "comments": [{"owner": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "edited": false, "score": 0, "creation_date": 1542723679, "post_id": 48674779, "comment_id": 93665439, "body": "Hi, have you had any luck with this? I have just hit this problem myself and have no idea what to do sadly."}, {"owner": {"reputation": 1360, "user_id": 2928256, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7279053e16cbc9acbc94a42ae4ae91c4?s=128&d=identicon&r=PG&f=1", "display_name": "Jean-Baptiste", "link": "https://stackoverflow.com/users/2928256/jean-baptiste"}, "reply_to_user": {"reputation": 5631, "user_id": 10064334, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cl7s7.png?s=128&g=1", "display_name": "SebastianG", "link": "https://stackoverflow.com/users/10064334/sebastiang"}, "edited": false, "score": 0, "creation_date": 1543343795, "post_id": 48674779, "comment_id": 93881822, "body": "hi @SebastianG, I removed NgRedux from my providers in my TestBed.configureTestingModule, and added an import for NgReduxTestingModule instead. I added an answer to my own question with the code."}], "answers": [{"tags": [], "owner": {"reputation": 1360, "user_id": 2928256, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7279053e16cbc9acbc94a42ae4ae91c4?s=128&d=identicon&r=PG&f=1", "display_name": "Jean-Baptiste", "link": "https://stackoverflow.com/users/2928256/jean-baptiste"}, "is_accepted": false, "score": 0, "last_activity_date": 1543343904, "creation_date": 1543343904, "answer_id": 53506128, "question_id": 48674779, "link": "https://stackoverflow.com/questions/48674779/jasmine-error-while-testing-redux-dispatch/53506128#53506128", "title": "Jasmine error while testing redux dispatch", "body": "<p>In order to fix it, I modified my test to use an import of NgReduxTestingModule instead of a providers of NgRedux:</p>\n\n<pre><code>import { NgReduxTestingModule } from '@angular-redux/store/testing';\n\n\n\nTestBed.configureTestingModule({\n      imports: [NgReduxTestingModule, ...],\n      providers: [\n        ...\n</code></pre>\n"}], "owner": {"reputation": 1360, "user_id": 2928256, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/7279053e16cbc9acbc94a42ae4ae91c4?s=128&d=identicon&r=PG&f=1", "display_name": "Jean-Baptiste", "link": "https://stackoverflow.com/users/2928256/jean-baptiste"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 180, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1543343904, "creation_date": 1518044626, "question_id": 48674779, "link": "https://stackoverflow.com/questions/48674779/jasmine-error-while-testing-redux-dispatch", "title": "Jasmine error while testing redux dispatch", "body": "<p>I'm throwing a coin in the ocean after spending a couple hours trying to fix an ngRedux testing error.</p>\n\n<p>Here is the component itself, as you can see, it's calling the ModuleActions:</p>\n\n<pre><code>@Component\nclass TestedClass {\n  constructor(private actions: ModuleActions) {}\n\n  restoreDefault() {\n    this.action.reloadPageModule(true);\n  }  \n}\n</code></pre>\n\n<p>Here is the module action class, I'm using an if to dispatch the action or not, because I also call it from an epic:</p>\n\n<pre><code>@Injectable()\nexport class ModuleActions {\n  constructor(private ngRedux: NgRedux&lt;PageModules&gt;) {}\n\n  ...\n\n  reloadPageModule(dispatch?: boolean) {\n    if(dispatch) {\n      this.ngRedux.dispatch({\n        type: ModuleActions.RELOAD_PAGE_MODULES,\n        meta: { status: 'success' }\n      });\n    } else {\n      return {\n        type: ModuleActions.RELOAD_PAGE_MODULES,\n        meta: { status: 'success' }\n      };\n    }\n  }\n}\n</code></pre>\n\n<p>And this is my testedClass component test:</p>\n\n<pre><code>it('should fire the reload page module action', () =&gt; {\n  const executeActionSpy = spyOn(component['action'], 'loadSucceeded');\n  component.restoreDefault();\n\n  expect(executeActionSpy).toHaveBeenCalled()\n})\n\n...\nconst compileAndCreate = () =&gt; {\n    TestBed.configureTestingModule({\n      declarations: [\n       ...\n      ],\n      providers: [\n        ModuleActions,\n        NgRedux\n      ]\n    }).compileComponents().then(() =&gt; {\n      fixture = TestBed.createComponent(EditorComponent);\n      component = fixture.componentInstance;\n    })\n...\n</code></pre>\n\n<p>This is giving me a <code>this.ngRedux.dispatch() is not a function</code> error when called from the </p>\n"}, {"tags": ["javascript", "php"], "comments": [{"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 2, "creation_date": 1518044709, "post_id": 48674771, "comment_id": 84348063, "body": "This is a very basic PHP task; have you tried anything so far? StackOverflow expects you to <a href=\"http://meta.stackoverflow.com/questions/261592\"><b>try to solve your own problem first</b></a>. Please update your question to show what you have already tried, showcasing a <b>specific</b> problem you are facing in a <a href=\"http://stackoverflow.com/help/mcve\"><b>minimal, complete, and verifiable example</b></a>. For further information, please see <a href=\"http://stackoverflow.com/help/how-to-ask\"><b>how to ask good questions</b></a>, and take the <a href=\"http://stackoverflow.com/tour\"><b>tour of the site</b></a>."}, {"owner": {"reputation": 13, "user_id": 9326446, "user_type": "registered", "profile_image": "https://graph.facebook.com/1228448113953830/picture?type=large", "display_name": "Sa\u012bd Benm\u016bmen", "link": "https://stackoverflow.com/users/9326446/sa%c4%abd-benm%c5%abmen"}, "reply_to_user": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1518046087, "post_id": 48674771, "comment_id": 84348569, "body": "i updated the question please take a look at it :))"}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9326446, "user_type": "registered", "profile_image": "https://graph.facebook.com/1228448113953830/picture?type=large", "display_name": "Sa\u012bd Benm\u016bmen", "link": "https://stackoverflow.com/users/9326446/sa%c4%abd-benm%c5%abmen"}, "edited": false, "score": 0, "creation_date": 1518078318, "post_id": 48675556, "comment_id": 84358504, "body": "thanks! that worked  but i have a small problem cause i have make an.htaccess file to rewrite posts url from post?id=1 tp post/1 and linked the .htaccess with a php file named router.php the name of the post page became router.php  <code>&lt;?php $segments=explode(&#39;&#47;&#39;,trim($_SERVER[&#39;REQUEST_URI&#39;],&#39;&#47;&#39;),3); switch($segments[1]){     case &#39;post&#39;:         $_REQUEST[&#39;id&#39;]=(string)$segments[2];         $_GET[&#39;id&#39;]=(string)$segments[2];         &#47;&#47;$slug=$segments[3];         require_once(&#39;post.php&#39;);         break; } ?&gt;</code>"}, {"owner": {"reputation": 84, "user_id": 2421191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf4eb6fe02b37e2cb09989f690a6e0e6?s=128&d=identicon&r=PG", "display_name": "Bob Smith", "link": "https://stackoverflow.com/users/2421191/bob-smith"}, "reply_to_user": {"reputation": 13, "user_id": 9326446, "user_type": "registered", "profile_image": "https://graph.facebook.com/1228448113953830/picture?type=large", "display_name": "Sa\u012bd Benm\u016bmen", "link": "https://stackoverflow.com/users/9326446/sa%c4%abd-benm%c5%abmen"}, "edited": false, "score": 0, "creation_date": 1518120580, "post_id": 48675556, "comment_id": 84386354, "body": "Found this article on PHP pretty URL rewrites. <a href=\"https://code.tutsplus.com/tutorials/using-htaccess-files-for-pretty-urls--net-6049\" rel=\"nofollow noreferrer\">code.tutsplus.com/tutorials/&hellip;</a>"}], "tags": [], "owner": {"reputation": 84, "user_id": 2421191, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cf4eb6fe02b37e2cb09989f690a6e0e6?s=128&d=identicon&r=PG", "display_name": "Bob Smith", "link": "https://stackoverflow.com/users/2421191/bob-smith"}, "is_accepted": true, "score": 0, "last_activity_date": 1518049589, "creation_date": 1518049589, "answer_id": 48675556, "question_id": 48674771, "link": "https://stackoverflow.com/questions/48674771/add-class-to-body-based-on-browsed-page-with-php/48675556#48675556", "title": "add class to body based on browsed page with PHP?", "body": "<p>Kind of a vague question, but I think I understand what is being asked.\nThe page name has be extracted from the request and ran through a lookup table to get the desired class name for the body.</p>\n\n<p>The page file names can be found in the $_SERVER array using the PHP_SELF index, so with the <code>pathinfo</code> function, the name can be easily extracted.</p>\n\n<pre><code>$page_name = pathinfo($_SERVER['PHP_SELF'], PATHINFO_FILENAME);\n</code></pre>\n\n<p>Next, a lookup table is required, to translate the <code>$page_name</code> into a css class name.  I strongly discourage this practice as it can lead to confusion.  Best to keep the class and page names consistent with each other for better maintainability and a less brittle product.</p>\n\n<p>If you have new PHP (>=5.4)(which you should be using a newer version):</p>\n\n<pre><code>$class_lookup_table = [\n  'index' =&gt; 'homepage',\n  'posts' =&gt; 'single-post'\n];\n</code></pre>\n\n<p>If you have old PHP (&lt;5.4)</p>\n\n<pre><code>$class_lookup_table = array(\n  'index' =&gt; 'homepage',\n  'posts' =&gt; 'single-post'\n);\n</code></pre>\n\n<p>Now you can reference the class name in the HTML</p>\n\n<pre><code>&lt;body class=\"&lt;?php $class_lookup_table[$page_name] ?&gt;\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 9326446, "user_type": "registered", "profile_image": "https://graph.facebook.com/1228448113953830/picture?type=large", "display_name": "Sa\u012bd Benm\u016bmen", "link": "https://stackoverflow.com/users/9326446/sa%c4%abd-benm%c5%abmen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 48675556, "answer_count": 1, "score": -2, "last_activity_date": 1518049589, "creation_date": 1518044585, "last_edit_date": 1518046013, "question_id": 48674771, "link": "https://stackoverflow.com/questions/48674771/add-class-to-body-based-on-browsed-page-with-php", "title": "add class to body based on browsed page with PHP?", "body": "<p>i'm working on my own php project ad learning php and i was trying to get the body to add class by the page name like:</p>\n\n<pre><code>&lt;body class='homepage'&gt;&lt;!-- for index.php --&gt;\n&lt;body class='single-post'&gt;&lt;!-- for posts.php --&gt;\n</code></pre>\n\n<p>my code:</p>\n\n<pre><code>&lt;?php include \"header.php\";?&gt;\n&lt;?php include \"post.php\";?&gt;\n&lt;?php include \"footer.php\";?&gt;\n</code></pre>\n\n<p>UPDATE</p>\n\n<p>i tried and make it work myself by </p>\n\n<pre><code>&lt;?php \n    $classone = $_SERVER['REQUEST_URI'];\n    if(strpos($classone, 'index') != false){\n        echo \"&lt;body class='homepage'&gt;\";\n    }else{\n        echo \"&lt;body&gt;\";\n    }\n?&gt;\n</code></pre>\n\n<p>but i'm hoping if there's any function on php can do the work or a better way to do it </p>\n"}, {"tags": ["javascript", "object", "setinterval", "clearinterval"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1518044702, "post_id": 48674757, "comment_id": 84348060, "body": "so store it was part of clock <code>clock.interval = setInterval...</code>"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1518044746, "post_id": 48674757, "comment_id": 84348073, "body": "If you change <code>function ()</code> to <code>() =&gt;</code> you can use <code>this.timer</code> instead of <code>clock.timer</code>, but I don&#39;t see any problems right now.. did you get an error or something?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1518044842, "post_id": 48674757, "comment_id": 84348107, "body": "Is there a reason you don&#39;t just <code>return interval;</code> at the end of <code>countdown</code>?"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1518044890, "post_id": 48674757, "comment_id": 84348126, "body": "<i>&quot; it means that the code inside the interval function is never run&quot;</i> &lt;- which is precisely why one would call <code>clearInterval</code>"}, {"owner": {"reputation": 1, "user_id": 9330192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b06794dd94cd30f6547086b7079956fc?s=128&d=identicon&r=PG&f=1", "display_name": "msweeneydev", "link": "https://stackoverflow.com/users/9330192/msweeneydev"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1518045265, "post_id": 48674757, "comment_id": 84348262, "body": "@Phil that is correct, however, I do want the code to run, up until the point the user is ready to move on. It is entirely possible it runs all the way to 0 but I&#39;d like to give the user the option of moving on earlier."}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1518045375, "post_id": 48674757, "comment_id": 84348300, "body": "I&#39;m not understanding the problem. If you return the <code>interval</code> as suggested by @MikeMcCaughan, you can call <code>clearInterval</code> at any point in time afterwards and the interval will run every second until you do so"}, {"owner": {"reputation": 1, "user_id": 9330192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b06794dd94cd30f6547086b7079956fc?s=128&d=identicon&r=PG&f=1", "display_name": "msweeneydev", "link": "https://stackoverflow.com/users/9330192/msweeneydev"}, "reply_to_user": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1518046090, "post_id": 48674757, "comment_id": 84348570, "body": "@Phil I tried returning <code>interval</code> at the end of the function but if I use <code>window.clearInterval(interval)</code> it is undefined. I was able to make this work by returning the first line of the function but then the code never runs."}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1518046290, "post_id": 48674757, "comment_id": 84348630, "body": "You&#39;d have to have something like <code>let interval = clock.countdown()</code>. Then you&#39;d be able to clear it via <code>interval</code> later on. How about you start adding your code attempts to your question so we can stop this guessing game?"}], "answers": [{"tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": true, "score": 2, "last_activity_date": 1525448952, "last_edit_date": 1525448952, "creation_date": 1518045183, "answer_id": 48674880, "question_id": 48674757, "link": "https://stackoverflow.com/questions/48674757/clear-interval-inside-object-method/48674880#48674880", "title": "Clear interval inside object method", "body": "<ul>\n<li>You can use Arrow functions to leverage the context of <code>this</code> from your object <code>clock</code></li>\n<li>Add a method i.e <code>clear</code>.</li>\n<li>Use <code>this</code> context to reference your inner attributes.</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const clock = {\r\n\r\n    timer: 3,\r\n    interval: 0,\r\n    \r\n    reset() {\r\n      this.timer = 3;\r\n      this.interval = 0;\r\n    },\r\n    \r\n    clear() {      \r\n      clearInterval(this.interval);\r\n      this.reset();\r\n    },\r\n    \r\n    countdown() {\r\n        this.interval = setInterval(() =&gt; {\r\n            //selectors.timerDisplay.textContent = clock.timer\r\n            this.timer--;\r\n            console.log(this.timer)\r\n            if (this.timer &lt; 0) {                \r\n                clearInterval(this.interval)\r\n                //selectors.wordSubmit.click();\r\n            }\r\n        }, 1000);\r\n    },\r\n}\r\n\r\nclock.countdown();\r\nsetTimeout(function() {\r\n  clock.clear();\r\n}, 1500)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>See? the interval function ends after 1.5secs</p>\n"}, {"tags": [], "owner": {"reputation": 31, "user_id": 9302168, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yHCfo.gif?s=128&g=1", "display_name": "msorce", "link": "https://stackoverflow.com/users/9302168/msorce"}, "is_accepted": false, "score": 0, "last_activity_date": 1518045940, "creation_date": 1518045940, "answer_id": 48675013, "question_id": 48674757, "link": "https://stackoverflow.com/questions/48674757/clear-interval-inside-object-method/48675013#48675013", "title": "Clear interval inside object method", "body": "<p>You can expose a method to clear the interval</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const selectors = document.querySelector('div');\r\nconst clearTimer = document.querySelector('button');\r\nconst clock = {\r\n    timer: 5,\r\n    // Initiate the interval\r\n    int: null,\r\n    // This exposes a way to clear the interval outside of the object\r\n    clearTimer() {\r\n      clearInterval(this.int);\r\n    },\r\n    countdown() {\r\n        // This is where you define this.int\r\n        this.int = setInterval(() =&gt; {\r\n            //selectors.timerDisplay.textContent = clock.timer\r\n            selectors.innerText = clock.timer.toString();\r\n            clock.timer--\r\n            console.log(clock.timer);\r\n            if (clock.timer &lt; 0) {\r\n                this.clearTimer();\r\n                //selectors.wordSubmit.click();\r\n            }\r\n        }, 1000)\r\n    },\r\n}\r\n\r\nclock.countdown();\r\nclearTimer.addEventListener('click', () =&gt; {\r\n  clock.clearTimer();\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;clock.timer&lt;/div&gt; \r\n&lt;button&gt;clear timer&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 9330192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b06794dd94cd30f6547086b7079956fc?s=128&d=identicon&r=PG&f=1", "display_name": "msweeneydev", "link": "https://stackoverflow.com/users/9330192/msweeneydev"}, "edited": false, "score": 0, "creation_date": 1518047917, "post_id": 48675102, "comment_id": 84349116, "body": "Thanks, @Phil, apologies it took me a while to grasp this. I didn&#39;t understand you needed to assign a variable to it and was just trying <code>clearInterval(clock.countdown())</code> with no luck - this makes much more sense now and unsurprisingly works."}], "tags": [], "owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "is_accepted": false, "score": 0, "last_activity_date": 1518046424, "creation_date": 1518046424, "answer_id": 48675102, "question_id": 48674757, "link": "https://stackoverflow.com/questions/48674757/clear-interval-inside-object-method/48675102#48675102", "title": "Clear interval inside object method", "body": "<p>As has been <a href=\"https://stackoverflow.com/questions/48674757/clear-interval-inside-object-method?noredirect=1#comment84348107_48674757\">suggested in the comments</a>, simply return the <code>interval</code> so it can be stopped later. For example</p>\n\n<pre><code>countdown() {\n    let interval = setInterval(function () {\n        selectors.timerDisplay.textContent = clock.timer\n        clock.timer--\n        if (clock.timer &lt; 0) {\n            clearInterval(interval)\n            selectors.wordSubmit.click();\n        }\n    }, 1000)\n    return interval // added this line\n},\n</code></pre>\n\n<p>Then, consumers can cancel the interval when they want</p>\n\n<pre><code>const interval = clock.countdown()\n\n// and later...\n\nclearInterval(interval)\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9330192, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b06794dd94cd30f6547086b7079956fc?s=128&d=identicon&r=PG&f=1", "display_name": "msweeneydev", "link": "https://stackoverflow.com/users/9330192/msweeneydev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 883, "favorite_count": 0, "accepted_answer_id": 48674880, "answer_count": 3, "score": -1, "last_activity_date": 1525448952, "creation_date": 1518044506, "question_id": 48674757, "link": "https://stackoverflow.com/questions/48674757/clear-interval-inside-object-method", "title": "Clear interval inside object method", "body": "<p>This code is part of a game where the user has a certain amount of time to input an answer.</p>\n\n<p>I want to be able to clear the interval from outside of the object if the user decides to submit an answer before the allotted time has elapsed.</p>\n\n<p>I have tried returning the interval with an ID so that I can call it later and whilst this does allow me to clear it from outside the outside the object, it means that the code inside the interval function is never run.</p>\n\n<pre><code>const clock = {\n    timer: 30,\n    countdown() {\n        let interval = setInterval(function () {\n            selectors.timerDisplay.textContent = clock.timer\n            clock.timer--\n            if (clock.timer &lt; 0) {\n                clearInterval(interval)\n                selectors.wordSubmit.click();\n            }\n        }, 1000)\n    },\n}\n</code></pre>\n\n<p>I appreciate I may have simply set myself up badly to clear this interval, therefore any suggestions on how I could improve it would be appreciated.</p>\n\n<p>Thanks in advance.</p>\n"}, {"tags": ["javascript", "angular"], "answers": [{"comments": [{"owner": {"reputation": 2437, "user_id": 196037, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aa00d15b2bb79e7f9985f999921011e8?s=128&d=identicon&r=PG", "display_name": "chulian", "link": "https://stackoverflow.com/users/196037/chulian"}, "edited": false, "score": 0, "creation_date": 1518128029, "post_id": 48674932, "comment_id": 84390011, "body": "Thanks waite,in the example the &quot;6.chunk.js&quot; files is just a static file generated by the build tool? or created on the fly by a backend? <a href=\"https://angular.io/generated/images/guide/lazy-loading-ngmodules/chunk-arrow.png\" rel=\"nofollow noreferrer\">angular.io/generated/images/guide/lazy-loading-ngmodules/&hellip;</a>"}, {"owner": {"reputation": 2437, "user_id": 196037, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aa00d15b2bb79e7f9985f999921011e8?s=128&d=identicon&r=PG", "display_name": "chulian", "link": "https://stackoverflow.com/users/196037/chulian"}, "edited": false, "score": 0, "creation_date": 1518155075, "post_id": 48674932, "comment_id": 84397373, "body": "Follow up, with the <i>build</i> option (instead of ng serve) and  <a href=\"https://angular.io/guide/lazy-loading-ngmodules\" rel=\"nofollow noreferrer\">angular.io/guide/lazy-loading-ngmodules</a>  managed to get it working"}, {"owner": {"reputation": 1316, "user_id": 7232102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcbca5cced9da400c6da0e1463ecbd41?s=128&d=identicon&r=PG&f=1", "display_name": "K. Waite", "link": "https://stackoverflow.com/users/7232102/k-waite"}, "reply_to_user": {"reputation": 2437, "user_id": 196037, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aa00d15b2bb79e7f9985f999921011e8?s=128&d=identicon&r=PG", "display_name": "chulian", "link": "https://stackoverflow.com/users/196037/chulian"}, "edited": false, "score": 0, "creation_date": 1518214461, "post_id": 48674932, "comment_id": 84428918, "body": "Awesome, good to hear. If you want faster initial load times you can use the --prod flag with the &quot;build&quot; option as well, I believe that enables AOT compiling."}], "tags": [], "owner": {"reputation": 1316, "user_id": 7232102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bcbca5cced9da400c6da0e1463ecbd41?s=128&d=identicon&r=PG&f=1", "display_name": "K. Waite", "link": "https://stackoverflow.com/users/7232102/k-waite"}, "is_accepted": true, "score": 0, "last_activity_date": 1518045427, "creation_date": 1518045427, "answer_id": 48674932, "question_id": 48674755, "link": "https://stackoverflow.com/questions/48674755/angular-4-how-to-lazy-load-controller-module-js-files-from-s3/48674932#48674932", "title": "Angular 4 how to lazy load controller/module js files from S3?", "body": "<p>Angular 4+ has a lazy loading option built into the routes. The Angular.io docs help explain how to accomplish that here.</p>\n\n<p><a href=\"https://angular.io/guide/lazy-loading-ngmodules\" rel=\"nofollow noreferrer\">https://angular.io/guide/lazy-loading-ngmodules</a></p>\n\n<p>Keep in mind, Angular 4+ talks about \"preloading\", which may be the solution you are showing above. That would mean that after the initial load, all of the other modules will be queued up to load as well. You can read up on that here. </p>\n\n<p><a href=\"https://angular.io/guide/router#preloading-background-loading-of-feature-areas\" rel=\"nofollow noreferrer\">https://angular.io/guide/router#preloading-background-loading-of-feature-areas</a></p>\n\n<p>As far as serving it from an AWS s3 bucket - You can create an angular app using the Angular CLI, then use \"ng build --prod\" to build dist files, and throw them in the bucket. Then whenever your index file is called it will bootstrap the rest of the Angular 4+ app with lazy loading.</p>\n\n<p>The getting started guide can be found here.</p>\n\n<p><a href=\"https://angular.io/guide/quickstart\" rel=\"nofollow noreferrer\">https://angular.io/guide/quickstart</a></p>\n"}], "owner": {"reputation": 2437, "user_id": 196037, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/aa00d15b2bb79e7f9985f999921011e8?s=128&d=identicon&r=PG", "display_name": "chulian", "link": "https://stackoverflow.com/users/196037/chulian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 361, "favorite_count": 0, "accepted_answer_id": 48674932, "answer_count": 1, "score": 0, "last_activity_date": 1518047537, "creation_date": 1518044495, "last_edit_date": 1518047537, "question_id": 48674755, "link": "https://stackoverflow.com/questions/48674755/angular-4-how-to-lazy-load-controller-module-js-files-from-s3", "title": "Angular 4 how to lazy load controller/module js files from S3?", "body": "<p>I don't have a backend to run angular, just static js/html files in S3, how to lazy load controllers/modules that are stored as static files inside S3?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;&lt;/title&gt;\r\n        &lt;script src=\"https://code.jquery.com/jquery-1.11.2.js\"&gt;&lt;/script&gt;\r\n        &lt;script src=\"https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.js\"&gt;&lt;/script&gt;\r\n        &lt;script src=\"https://raw.githubusercontent.com/ocombe/ocLazyLoad/master/dist/ocLazyLoad.js\"&gt;&lt;/script&gt;\r\n\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n        &lt;h3&gt;Lazy load succeded if you can see 'Hello world' below&lt;/h3&gt;\r\n        &lt;div id=\"example\" ng-app=\"LazyLoadTest\" ng-controller=\"TestController\"&gt;&lt;/div&gt;\r\n        &lt;script&gt;\r\n            angular.module(\"LazyLoadTest\", [\"oc.lazyLoad\"])\r\n                .controller(\"TestController\", function($scope, $ocLazyLoad, $compile) {\r\n                    $ocLazyLoad.load(\"https://github.com/ocombe/ocLazyLoad/raw/master/examples/simpleExample/js/testApp.js\").then(function() {\r\n                        console.log('loaded!!');\r\n                        var el, elToAppend;\r\n                        elToAppend = $compile('&lt;say-hello to=\"world\"&gt;&lt;/say-hello&gt;')($scope);\r\n                        el = angular.element('#example');\r\n                        el.append(elToAppend);\r\n                    }, function(e) {\r\n                        console.log('errr');\r\n                        console.error(e);\r\n                    })\r\n                });\r\n        &lt;/script&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I know about <a href=\"https://github.com/ocombe/ocLazyLoad\" rel=\"nofollow noreferrer\">ocLazyLoad</a> but only works for angular 1</p>\n"}, {"tags": ["javascript", "node.js", "request", "http-headers", "axios"], "answers": [{"tags": [], "owner": {"reputation": 1066, "user_id": 1351281, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c4f74f7bb612b0e8eec769ac2ec4aee?s=128&d=identicon&r=PG", "display_name": "nauti", "link": "https://stackoverflow.com/users/1351281/nauti"}, "is_accepted": false, "score": 0, "last_activity_date": 1518123696, "creation_date": 1518123696, "answer_id": 48694723, "question_id": 48674747, "link": "https://stackoverflow.com/questions/48674747/why-do-axios-calls-via-nodejs-scripts-include-content-length-header-while-browse/48694723#48694723", "title": "Why do axios calls via nodejs scripts include Content-Length Header while browser requests don&#39;t?", "body": "<p>Adding the response header <code>Access-Control-Expose-Headers:Content-Length</code> on the server side did the trick.</p>\n\n<p>The browser actually stripped away that header, that is the reason why a node.js script worked, while frontend javascript didn't. Also, this issue is not related to axios or any other request library.</p>\n"}], "owner": {"reputation": 1066, "user_id": 1351281, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/6c4f74f7bb612b0e8eec769ac2ec4aee?s=128&d=identicon&r=PG", "display_name": "nauti", "link": "https://stackoverflow.com/users/1351281/nauti"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 520, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518123696, "creation_date": 1518044457, "question_id": 48674747, "link": "https://stackoverflow.com/questions/48674747/why-do-axios-calls-via-nodejs-scripts-include-content-length-header-while-browse", "title": "Why do axios calls via nodejs scripts include Content-Length Header while browser requests don&#39;t?", "body": "<p>I am sending both a HEAD and GET to a resource to find out the size (compressed and uncompressed gzip).</p>\n\n<p>I found that when running axios through a nodejs script like this:</p>\n\n<pre><code>var axios = require('axios');\n\naxios.head('&lt;URL_TO_RESOURCE&gt;')\n  .then(function (response) {\n    console.log(response.headers['content-length']);\n  })\n  .catch(function (error) {\n    console.log(error.request.res.statusCode);\n    console.log(error.request.res.headers['content-length']);\n  });\n</code></pre>\n\n<p>I receive the Content-Length Headers (also with a axios.get).</p>\n\n<p>However, when running a similar call on the browser (through axios CDN script import), this header is missing.</p>\n\n<p>Why is that and is there a way to get that header in the browser?</p>\n\n<p>I noticed this problem as well with <code>request</code> and other libraries.</p>\n"}, {"tags": ["javascript", "firebase", "firebase-realtime-database"], "comments": [{"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 0, "creation_date": 1518051253, "post_id": 48674720, "comment_id": 84350035, "body": "The screenshot you show doesn&#39;t have a <code>projects</code>, which would explain. I&#39;d also recommend using <code>snapshot.exists()</code>, but expect the result to be the same."}], "answers": [{"comments": [{"owner": {"reputation": 501, "user_id": 9307045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XwWJc.jpg?s=128&g=1", "display_name": "Anthony Sette", "link": "https://stackoverflow.com/users/9307045/anthony-sette"}, "edited": false, "score": 0, "creation_date": 1518047414, "post_id": 48675005, "comment_id": 84349009, "body": "what do I put in place of blogRef? firebase.database().ref().child(projectRef + &#39;projects/&#39;) or somthing else?"}, {"owner": {"reputation": 433, "user_id": 7011672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JWvDO.jpg?s=128&g=1", "display_name": "Kingsley Solomon", "link": "https://stackoverflow.com/users/7011672/kingsley-solomon"}, "reply_to_user": {"reputation": 501, "user_id": 9307045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XwWJc.jpg?s=128&g=1", "display_name": "Anthony Sette", "link": "https://stackoverflow.com/users/9307045/anthony-sette"}, "edited": false, "score": 1, "creation_date": 1518050647, "post_id": 48675005, "comment_id": 84349867, "body": "try referencing the node directly <code>firebase.database().ref(projectRef + &#39;projects&#47;&#39;)</code> without the <code>.child()</code> and also ensure the <code>projectRef+&#47;projects&#47;</code> is targetting the right node. Use this as a guide <a href=\"https://firebase.google.com/docs/reference/js/firebase.database.DataSnapshot\" rel=\"nofollow noreferrer\">firebase.database.DataSnapshot</a>"}], "tags": [], "owner": {"reputation": 433, "user_id": 7011672, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/JWvDO.jpg?s=128&g=1", "display_name": "Kingsley Solomon", "link": "https://stackoverflow.com/users/7011672/kingsley-solomon"}, "is_accepted": true, "score": 1, "last_activity_date": 1518122374, "last_edit_date": 1518122374, "creation_date": 1518045881, "answer_id": 48675005, "question_id": 48674720, "link": "https://stackoverflow.com/questions/48674720/how-do-you-see-if-directory-exists-in-firebase-database-using-javascript-as-to-n/48675005#48675005", "title": "How do you see if directory exists in Firebase Database using Javascript as to not overwrite data?", "body": "<p>You can use DataSnapshot.hasChild to determine if a certain child exists.</p>\n\n<pre><code>firebase.database().ref(projectRef + 'projects/').once('value', function(snapshot) {\n    if (snapshot.hasChild(slug)) {\n        alert('exists');\n    }\n });\n</code></pre>\n\n<p>Note: slug is the blog title you are trying to check</p>\n"}], "owner": {"reputation": 501, "user_id": 9307045, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XwWJc.jpg?s=128&g=1", "display_name": "Anthony Sette", "link": "https://stackoverflow.com/users/9307045/anthony-sette"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 70, "favorite_count": 0, "accepted_answer_id": 48675005, "answer_count": 1, "score": 1, "last_activity_date": 1518122374, "creation_date": 1518044283, "last_edit_date": 1518045040, "question_id": 48674720, "link": "https://stackoverflow.com/questions/48674720/how-do-you-see-if-directory-exists-in-firebase-database-using-javascript-as-to-n", "title": "How do you see if directory exists in Firebase Database using Javascript as to not overwrite data?", "body": "<p>I am building a blog to further my Firebase skills but want to be able to see if a blog with the same slug (title with only letters, and spaces replaced with hyphens) exists in the database. Here is the structure of my Database where all of the slugs will fall under the category \"projects\".\n<a href=\"https://i.stack.imgur.com/c2t5t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/c2t5t.png\" alt=\"Database Structure\"></a></p>\n\n<p>This is the code I have but it will always return false regardless of slug:</p>\n\n<pre><code>firebase.database().ref().child(projectRef + 'projects/').child(slug).once('value', function(snapshot) {\n    var exists = (snapshot.val() !== null);\n    alert(exists);\n});\n</code></pre>\n\n<p>Any help is very appreciated, and if there is an easier way I am always eager to learn! </p>\n"}, {"tags": ["javascript", "node.js", "markdown", "eslint"], "comments": [{"owner": {"reputation": 21700, "user_id": 244727, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/8mRNV.jpg?s=128&g=1", "display_name": "mingos", "link": "https://stackoverflow.com/users/244727/mingos"}, "edited": false, "score": 0, "creation_date": 1518044542, "post_id": 48674633, "comment_id": 84347984, "body": "Have you tried putting newlines between the ` chars and the code?"}, {"owner": {"reputation": 6134, "user_id": 7428622, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/d305c2f87bc59f9e564e92253a8a41f1?s=128&d=identicon&r=PG", "display_name": "Saeed Heidarizarei", "link": "https://stackoverflow.com/users/7428622/saeed-heidarizarei"}, "reply_to_user": {"reputation": 21700, "user_id": 244727, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/8mRNV.jpg?s=128&g=1", "display_name": "mingos", "link": "https://stackoverflow.com/users/244727/mingos"}, "edited": false, "score": 0, "creation_date": 1518044640, "post_id": 48674633, "comment_id": 84348033, "body": "I got Parsing error: Unexpected token, expected &quot;,&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 21700, "user_id": 244727, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/8mRNV.jpg?s=128&g=1", "display_name": "mingos", "link": "https://stackoverflow.com/users/244727/mingos"}, "is_accepted": true, "score": 2, "last_activity_date": 1518045495, "creation_date": 1518045495, "answer_id": 48674940, "question_id": 48674633, "link": "https://stackoverflow.com/questions/48674633/markdown-preformatted-fixed-width-code-block-language-for-variables/48674940#48674940", "title": "Markdown preformatted fixed-width code block language for variables", "body": "<p>If I understand correctly, your problem boils down to escaping the backticks.</p>\n\n<p>In JavaScript, when you need to use the backtick character inside a template string, you must escape it:</p>\n\n<pre><code>const stringWithBacktick = `\\``;\n</code></pre>\n\n<p>Hence, your template string might look like this:</p>\n\n<pre><code>const preformatted = `\\`\\`\\`${variable}\\`\\`\\``;\nconsole.log(marked(preformatted));\n</code></pre>\n\n<p>Alternatively, you could just join the template string with the triple backticks like this:</p>\n\n<pre><code>const preformatted = `${variable}`;\nconsole.log(marked(\"```\\n\" + preformatted + \"\\n```\"));\n</code></pre>\n\n<p>Or, in a more reusable way:</p>\n\n<pre><code>const preOpen = \"```\\n\";\nconst preClose = \"\\n```\";\nconst preformatted = `${preOpen}${variable}${preClose}`;\nconsole.log(marked(preformatted));\n</code></pre>\n"}], "owner": {"reputation": 6134, "user_id": 7428622, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/d305c2f87bc59f9e564e92253a8a41f1?s=128&d=identicon&r=PG", "display_name": "Saeed Heidarizarei", "link": "https://stackoverflow.com/users/7428622/saeed-heidarizarei"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 500, "favorite_count": 1, "accepted_answer_id": 48674940, "answer_count": 1, "score": 1, "last_activity_date": 1518045495, "creation_date": 1518043777, "last_edit_date": 1518045397, "question_id": 48674633, "link": "https://stackoverflow.com/questions/48674633/markdown-preformatted-fixed-width-code-block-language-for-variables", "title": "Markdown preformatted fixed-width code block language for variables", "body": "<p>How to make a Markdown preformatted fixed-width code block for variables?<br>\n<strong>I mean code block language</strong></p>\n\n<p><strong>Examples:</strong></p>\n\n<pre><code>`*${variable}*`      // *bold text*        ok\n`_${variable}_`      // _italic text_      ok\n````${variable}````  // ```pre-formatted fixed-width code block```   not work\n</code></pre>\n"}, {"tags": ["javascript", "angularjs"], "comments": [{"owner": {"reputation": 5860, "user_id": 548997, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JJ1gz.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/548997/lex"}, "edited": false, "score": 1, "creation_date": 1518044185, "post_id": 48674632, "comment_id": 84347844, "body": "Could you not just pass <code>$index</code> as a second parameter on your <code>updateRedScore()</code> method? This is all inside an <code>ng-repeat</code>, right?"}, {"owner": {"reputation": 85, "user_id": 9297879, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0556ec416bb1b57fb9c975a712658a8?s=128&d=identicon&r=PG&f=1", "display_name": "fubar92", "link": "https://stackoverflow.com/users/9297879/fubar92"}, "reply_to_user": {"reputation": 5860, "user_id": 548997, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JJ1gz.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/548997/lex"}, "edited": false, "score": 0, "creation_date": 1518044270, "post_id": 48674632, "comment_id": 84347874, "body": "Yes! Sorry I am brand new to angular / js and was just trying to pass index before instead of $index. I will try that and report back"}, {"owner": {"reputation": 85, "user_id": 9297879, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0556ec416bb1b57fb9c975a712658a8?s=128&d=identicon&r=PG&f=1", "display_name": "fubar92", "link": "https://stackoverflow.com/users/9297879/fubar92"}, "reply_to_user": {"reputation": 5860, "user_id": 548997, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JJ1gz.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/548997/lex"}, "edited": false, "score": 0, "creation_date": 1518044387, "post_id": 48674632, "comment_id": 84347915, "body": "@Lex Yes indeed that works, so simple :/ Thanks"}], "answers": [{"tags": [], "owner": {"reputation": 5860, "user_id": 548997, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JJ1gz.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/548997/lex"}, "is_accepted": false, "score": 1, "last_activity_date": 1518107635, "creation_date": 1518107635, "answer_id": 48690390, "question_id": 48674632, "link": "https://stackoverflow.com/questions/48674632/angularjs-pass-index-of-repeater-to-function/48690390#48690390", "title": "AngularJS pass index of repeater to function", "body": "<p>In the interest of completing this question/answer that may help others in the future, adding <code>$index</code> as a parameter to the method should work. Also, the <code>$scope.inputValue = null;</code> is not needed since the <code>inputValue</code> variable only exists on the scope that is created for the <code>ng-repeat</code>.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;td id=\"{{'redScore'+($index+1)}}\"&gt;\n    &lt;input required \n           ng-change=\"updateRedScore(inputValue, $index)\" \n           ng-model=\"inputValue\" \n           type=\"number\" \n           step=\"1\" \n           name=\"rate\" \n           min=\"1\" \n           max=\"10\"&gt;\n&lt;/td&gt;\n</code></pre>\n\n<p>JS:</p>\n\n<pre><code>$scope.redRoundScore = [];\n$scope.updateRedScore = function(passedscore, index) {\n    $scope.redRoundScore[index] = passedscore\n}\n</code></pre>\n"}], "owner": {"reputation": 85, "user_id": 9297879, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/f0556ec416bb1b57fb9c975a712658a8?s=128&d=identicon&r=PG&f=1", "display_name": "fubar92", "link": "https://stackoverflow.com/users/9297879/fubar92"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518107635, "creation_date": 1518043775, "question_id": 48674632, "link": "https://stackoverflow.com/questions/48674632/angularjs-pass-index-of-repeater-to-function", "title": "AngularJS pass index of repeater to function", "body": "<p>I have a dynamic table that creates the amount of rows based on the user selection. Each row in the table then has input boxes for numbers. If I have a table with 7 rows for example, I want to store those 7 different inputs into an array. So far I am trying to pass the input of the textbox to a function which updates declared blank arrays. So something like this </p>\n\n<p>HTML</p>\n\n<pre><code> &lt;td id=\"{{'redScore'+($index+1)}}\"&gt;\n &lt;input required=\"\" ng-change=\"updateRedScore(inputValue)\" ng-model=\"inputValue\" type=\"number\" step=\"1\" name=\"rate\" min=\"1\" max=\"10\"&gt; &lt;/td&gt;\n</code></pre>\n\n<p>Script</p>\n\n<pre><code>$scope.redRoundScore = [];    \n$scope.inputValue = null;\n\n$scope.updateRedScore = function(passedscore){\n   $scope.redRoundScore[index] = passedscore\n }\n</code></pre>\n\n<p>Is there a way I can pass the index alongside the inputValue to updateRedScore?</p>\n"}, {"tags": ["javascript", "css", "reactjs", "styled-components"], "answers": [{"comments": [{"owner": {"reputation": 4120, "user_id": 1099314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jKm3r.png?s=128&g=1", "display_name": "Ninh Pham", "link": "https://stackoverflow.com/users/1099314/ninh-pham"}, "edited": false, "score": 1, "creation_date": 1553096025, "post_id": 48674661, "comment_id": 97260524, "body": "This is discouraged as with v4 <code>.extend</code> was removed."}, {"owner": {"reputation": 27303, "user_id": 675065, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/zluaR.jpg?s=128&g=1", "display_name": "Alp", "link": "https://stackoverflow.com/users/675065/alp"}, "edited": false, "score": 0, "creation_date": 1575627406, "post_id": 48674661, "comment_id": 104638781, "body": "You can use <code>styled(Button)`...`</code> instead to extend existing styled components"}], "tags": [], "owner": {"reputation": 12919, "user_id": 5535040, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pcrdYg3eoyo/AAAAAAAAAAI/AAAAAAAAAGY/NXQ5lVKswiU/photo.jpg?sz=128", "display_name": "Chase DeAnda", "link": "https://stackoverflow.com/users/5535040/chase-deanda"}, "is_accepted": false, "score": 3, "last_activity_date": 1576707290, "last_edit_date": 1576707290, "creation_date": 1518043956, "answer_id": 48674661, "question_id": 48674607, "link": "https://stackoverflow.com/questions/48674607/adding-two-classes-active-class-using-styled-components/48674661#48674661", "title": "adding two classes (active class) using styled-components", "body": "<p>You can <a href=\"https://www.styled-components.com/docs/basics#extending-styles\" rel=\"nofollow noreferrer\">extend the style</a> to overwrite certain properties and keep the others untouched:</p>\n\n<pre><code>render() {\n    // The main Button styles\n    const Button = styled.button`\n        height: 60px;\n        width: 60px;\n    `;\n\n    // We're extending Button with some extra styles\n    const ActiveButton = styled(Button)`\n        animation-duration: 0.5s;\n        animation-name: highlightButton;\n    `;\n\n    const MyButton = this.state.active ? ActiveButton : Button;\n    return (\n        &lt;MyButton onClick={this.pressNumber}&gt;\n            &lt;Number&gt;{ this.props.number }&lt;/Number&gt;\n        &lt;/MyButton&gt;\n    )\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 3884, "user_id": 5495358, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/T6IEr.jpg?s=128&g=1", "display_name": "treyhakanson", "link": "https://stackoverflow.com/users/5495358/treyhakanson"}, "is_accepted": false, "score": 11, "last_activity_date": 1518046073, "last_edit_date": 1518046073, "creation_date": 1518044489, "answer_id": 48674754, "question_id": 48674607, "link": "https://stackoverflow.com/questions/48674607/adding-two-classes-active-class-using-styled-components/48674754#48674754", "title": "adding two classes (active class) using styled-components", "body": "<p>The template literals in styled components can access props:</p>\n\n<pre><code>const Button = styled.button`\n  height: 60px;\n  width: 60px;\n  animation: ${\n      props =&gt; props.active ?\n          `${activeAnim} 0.5s linear` :\n          \"none\"\n  };\n`;\n\n ...\n &lt;Button active={this.state.active} /&gt;\n ...\n</code></pre>\n\n<p>Reference <a href=\"https://www.styled-components.com/docs/basics#adapting-based-on-props\" rel=\"noreferrer\">here</a></p>\n\n<p>And to add the keyframes animation, you'll need to use the <code>keyframes</code> import:</p>\n\n<pre><code>import { keyframes } from \"styled-components\";\n\nconst activeAnim = keyframes`\n    0%   {\n        background-color: transparent;\n    }\n    50%  {\n        background-color: #fff;\n    }\n    100%  {\n        background-color: transparent;\n    }\n`;\n</code></pre>\n\n<p>Reference <a href=\"https://www.styled-components.com/docs/basics#animations\" rel=\"noreferrer\">here</a></p>\n"}, {"tags": [], "owner": {"reputation": 13717, "user_id": 4742733, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/bGGhh.jpg?s=128&g=1", "display_name": "Aakash", "link": "https://stackoverflow.com/users/4742733/aakash"}, "is_accepted": false, "score": 2, "last_activity_date": 1576821879, "creation_date": 1576821879, "answer_id": 59420545, "question_id": 48674607, "link": "https://stackoverflow.com/questions/48674607/adding-two-classes-active-class-using-styled-components/59420545#59420545", "title": "adding two classes (active class) using styled-components", "body": "<p>You need to pass additional <code>className</code> from props:</p>\n\n<p><a href=\"https://www.styled-components.com/docs/advanced#styling-normal-react-components\" rel=\"nofollow noreferrer\">Documentation for Styling Normal React Components</a></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const StyledDiv = sytled.div`\n  &amp;.active {\n    border: blue;\n  }\n`\n\nclass Example extends React.Component {\n  constructor(props) {\n    super(props)\n  }\n\n  render() {\n    const isActive = true; // you can dynamically switch isActive between true and false\n    return (\n      &lt;StyledDiv \n        className={`button ${isActive ? 'active': ''} ${this.props.className}`}\n        onClick={ this.pressNumber }\n       &gt;\n          &lt;Number&gt;{ this.props.number }&lt;/Number&gt;\n      &lt;/StyledDiv&gt;\n    )\n  }\n}\n\nconst Number = styled.div`\n  color: #fff;\n  font-size: 26px;\n  font-weight: 300;\n`;\n</code></pre>\n\n<p>Good Luck...</p>\n"}], "owner": {"reputation": 5940, "user_id": 4756106, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/c6fb8e412e1f802fde077ee236379829?s=128&d=identicon&r=PG&f=1", "display_name": "peter flanagan", "link": "https://stackoverflow.com/users/4756106/peter-flanagan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18253, "favorite_count": 1, "answer_count": 3, "score": 14, "last_activity_date": 1576821879, "creation_date": 1518043647, "question_id": 48674607, "link": "https://stackoverflow.com/questions/48674607/adding-two-classes-active-class-using-styled-components", "title": "adding two classes (active class) using styled-components", "body": "<p>I am migrating from css to <a href=\"https://www.styled-components.com\" rel=\"noreferrer\"><code>styled-components</code></a>.</p>\n\n<p>My react component looks like the following:</p>\n\n<pre><code>class Example extends React.Component {\n\n  ........code here\n\n  render() {\n    return (\n      &lt;div \n        className={ this.state.active ? \"button active\" : \"button\" }\n        onClick={ this.pressNumber }\n       &gt;\n          &lt;Number&gt;{ this.props.number }&lt;/Number&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n\nconst Number = styled.div`\n  color: #fff;\n  font-size: 26px;\n  font-weight: 300;\n`;\n</code></pre>\n\n<p>and my css looks like this:</p>\n\n<pre><code>.button {\n  height: 60px;\n  width: 60px;\n}\n\n.active {\n  animation-duration: 0.5s;\n  animation-name: highlightButton;\n}\n\n\n@keyframes highlightButton {\n  0%   {\n    background-color: transparent;\n  }\n  50%  {\n    background-color: #fff;\n  }\n  100%  {\n    background-color: transparent;\n  }\n}\n</code></pre>\n\n<p>Does anyone know how I can add the active class/add two classes to an element using <code>styled-components</code>? Nothing is jumping out at me from the docs.</p>\n\n<p>If anything is unclear or further information is required please let me know.</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 2437, "user_id": 2887022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf621e48f20f06ecf5fe0562d8713647?s=128&d=identicon&r=PG", "display_name": "Bsalex", "link": "https://stackoverflow.com/users/2887022/bsalex"}, "edited": false, "score": 0, "creation_date": 1518043699, "post_id": 48674561, "comment_id": 84347674, "body": "What is your attempt?"}, {"owner": {"reputation": 155, "user_id": 9305131, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dde8399976376ffbcebd354096581387?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno ", "link": "https://stackoverflow.com/users/9305131/bruno"}, "reply_to_user": {"reputation": 2437, "user_id": 2887022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf621e48f20f06ecf5fe0562d8713647?s=128&d=identicon&r=PG", "display_name": "Bsalex", "link": "https://stackoverflow.com/users/2887022/bsalex"}, "edited": false, "score": 0, "creation_date": 1518043833, "post_id": 48674561, "comment_id": 84347724, "body": "Should not clicking an alert (&#39;?&#39;) Be clicked on the row?"}], "answers": [{"comments": [{"owner": {"reputation": 155, "user_id": 9305131, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dde8399976376ffbcebd354096581387?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno ", "link": "https://stackoverflow.com/users/9305131/bruno"}, "edited": false, "score": 0, "creation_date": 1518086515, "post_id": 48674718, "comment_id": 84364051, "body": "Thank you for your help.  I just made a change in the function call to work dynamically $(document).on(&quot;click&quot;, &quot;#tabClientes tbody tr&quot;, function(e)"}], "tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": true, "score": 2, "last_activity_date": 1518044267, "creation_date": 1518044267, "answer_id": 48674718, "question_id": 48674561, "link": "https://stackoverflow.com/questions/48674561/retrieving-column-values-from-a-table-by-clicking-row-with-jquery-and-html/48674718#48674718", "title": "Retrieving column values from a table by clicking row with jquery and html", "body": "<ul>\n<li><p>How can I recover the table data by clicking the ROW?</p>\n\n<blockquote>\n  <p>You can bind the click event to your <code>TR</code> elements and get the information.</p>\n</blockquote></li>\n<li><p>Should I always use the data-name, id for example as in the first line?</p>\n\n<blockquote>\n  <p>Yes, because you don't want the parsed HTML to manipulate data.  The data attributes are a better approach to keep related data (no HTML) to DOM elements.</p>\n</blockquote></li>\n</ul>\n\n<h1>Look at this code snippet</h1>\n\n<p><em>This approach binds the <code>click</code> event to <code>TR</code> elements</em></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('#TabClientesAdicionados tbody tr').click(function() {\r\n  var data = { name: '', id: '' };\r\n  \r\n  $(this).children('td').each(function() {\r\n    var name = $(this).data('nome');\r\n    if (name) {\r\n      data.name = name;\r\n    }\r\n    \r\n    var id = $(this).data('id');\r\n    if (id) {\r\n      data.id = id;\r\n    }      \r\n  });\r\n  \r\n  console.log(data);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\" /&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;hr&gt;\r\n&lt;table id=\"TabClientesAdicionados\" class=\"table table-hover\"&gt;\r\n  &lt;thead&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt; ID &lt;/th&gt;\r\n      &lt;th&gt; Name &lt;/th&gt;\r\n      &lt;th&gt; Actions &lt;/th&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/thead&gt;\r\n  &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n      &lt;td data-id=\"Bruno_1\"&gt;1&lt;/td&gt;\r\n      &lt;td data-nome=\"Bruno\"&gt;Bruno&lt;/td&gt;\r\n      &lt;td&gt;&lt;a href=\"#\"&gt;Details&lt;/a&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;2&lt;/td&gt;\r\n      &lt;td&gt;Josep&lt;/td&gt;\r\n      &lt;td&gt;&lt;a href=\"#\"&gt; Details \t&lt;/a&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 881, "user_id": 4722859, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/20hZ5.jpg?s=128&g=1", "display_name": "Omar Yafer", "link": "https://stackoverflow.com/users/4722859/omar-yafer"}, "is_accepted": false, "score": 2, "last_activity_date": 1518046024, "last_edit_date": 1518046024, "creation_date": 1518045476, "answer_id": 48674935, "question_id": 48674561, "link": "https://stackoverflow.com/questions/48674561/retrieving-column-values-from-a-table-by-clicking-row-with-jquery-and-html/48674935#48674935", "title": "Retrieving column values from a table by clicking row with jquery and html", "body": "<p>I would do as the following snippet.  </p>\n\n<p>You need to bind the event to the row <code>tr</code> ant then get each of its children. </p>\n\n<p>By adding a data attribute you could set a column name. This could also help if you eventually needed to extract the value of an specific cell. </p>\n\n<p>Incidentally you could also add a second data attribute named like <code>data-value</code> or something similar- This in case you are worried that your parsed html content might cause you trouble with the values.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n\r\n  $(\"#mytable\").on('click', 'tr', onCellClick);\r\n  //Bind the event to the table row\r\n\r\n  function onCellClick() {\r\n    let row = $(this); //get the jquery Object for the row\r\n    let rowValues = {}; //An empty object to hold your data\r\n    let temp;\r\n\r\n    //extract the value of every cell in the row\r\n    //Doing it this way gives you flexibility on the amount of colums you have\r\n    row.find('td').each(function(item) {\r\n      temp = $(this);\r\n      rowValues[temp.data('column')] = temp.text();\r\n      //this could be changed to  \r\n      //rowValues[temp.data('column')] = temp.data('value);\r\n      //if you desire to use a separate data-value property\r\n    });\r\n\r\n    console.log(rowValues);\r\n  }\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;table style=\"width:100%\" id=\"mytable\"&gt;\r\n  &lt;tr&gt;\r\n    &lt;th&gt;Firstname&lt;/th&gt;\r\n    &lt;th&gt;Lastname&lt;/th&gt;\r\n    &lt;th&gt;Age&lt;/th&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td data-column=\"name\" data-value=\"Jill\"&gt;Jill&lt;/td&gt; &lt;!-Adding value property--&gt;\r\n    &lt;td data-column=\"lastname\"&gt;Smith&lt;/td&gt;\r\n    &lt;td data-column=\"age\"&gt;50&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n  &lt;tr&gt;\r\n    &lt;td data-column=\"name\"&gt;Eve&lt;/td&gt;\r\n    &lt;td data-column=\"lastname\"&gt;Jackson&lt;/td&gt;\r\n    &lt;td data-column=\"age\"&gt;94&lt;/td&gt;\r\n  &lt;/tr&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 155, "user_id": 9305131, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/dde8399976376ffbcebd354096581387?s=128&d=identicon&r=PG&f=1", "display_name": "Bruno ", "link": "https://stackoverflow.com/users/9305131/bruno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2355, "favorite_count": 0, "accepted_answer_id": 48674718, "answer_count": 2, "score": 1, "last_activity_date": 1518046024, "creation_date": 1518043405, "question_id": 48674561, "link": "https://stackoverflow.com/questions/48674561/retrieving-column-values-from-a-table-by-clicking-row-with-jquery-and-html", "title": "Retrieving column values from a table by clicking row with jquery and html", "body": "<p>I'm using html5 and jquery to set up a dynamic table, until then I can add the elements to the table without problems, but I can not retrieve the value of its columns. so I have the following questions:</p>\n\n<ul>\n<li>How can I recover the table data by clicking the <strong>ROW</strong>?</li>\n<li>Should I always use the data-name, id for example as in the first\nline ?</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).on(\"change\", \"#TabClientesAdicionados\", function(e) {\r\n  alert('?');\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css\" rel=\"stylesheet\" /&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;hr&gt;\r\n&lt;table id=\"TabClientesAdicionados\" class=\"table table-hover\"&gt;\r\n  &lt;thead&gt;\r\n    &lt;tr&gt;\r\n      &lt;th&gt; ID &lt;/th&gt;\r\n      &lt;th&gt; Name &lt;/th&gt;\r\n      &lt;th&gt; Actions &lt;/th&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/thead&gt;\r\n  &lt;tbody&gt;\r\n    &lt;tr&gt;\r\n      &lt;td data-id=\"Bruno\"&gt;1&lt;/td&gt;\r\n      &lt;td data-nome=\"Bruno\"&gt;Bruno&lt;/td&gt;\r\n      &lt;td&gt;&lt;a href=\"#\"&gt;Details&lt;/a&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;2&lt;/td&gt;\r\n      &lt;td&gt;Josep&lt;/td&gt;\r\n      &lt;td&gt;&lt;a href=\"#\"&gt; Details \t&lt;/a&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n  &lt;/tbody&gt;\r\n&lt;/table&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "mongoose"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1518043517, "post_id": 48674536, "comment_id": 84347602, "body": "Use array spread? <code>chapters: [...previousChaptersArray, req.body.chapter]</code>"}, {"owner": {"reputation": 213, "user_id": 7489459, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4ac0d6f5ae3f52dd24df375c93482fe3?s=128&d=identicon&r=PG&f=1", "display_name": "ipid", "link": "https://stackoverflow.com/users/7489459/ipid"}, "reply_to_user": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1518043915, "post_id": 48674536, "comment_id": 84347756, "body": "@Li357 I don&#39;t quite follow on <code>...previousChaptersArray</code>. What am I suppose to write there?"}, {"owner": {"reputation": 180, "user_id": 5865347, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83f7d0d502e49258c446cc8159b66c2b?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewL", "link": "https://stackoverflow.com/users/5865347/andrewl"}, "edited": false, "score": 0, "creation_date": 1518044342, "post_id": 48674536, "comment_id": 84347897, "body": "That is if you want to include previous chapters that you had stored as a variable. Such as you looked up the book, and you are adding chapters. It is better to an &quot;addToSet&quot; if you are just updating, because it stops issues if 2 people are updating it at once."}, {"owner": {"reputation": 213, "user_id": 7489459, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4ac0d6f5ae3f52dd24df375c93482fe3?s=128&d=identicon&r=PG&f=1", "display_name": "ipid", "link": "https://stackoverflow.com/users/7489459/ipid"}, "reply_to_user": {"reputation": 180, "user_id": 5865347, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83f7d0d502e49258c446cc8159b66c2b?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewL", "link": "https://stackoverflow.com/users/5865347/andrewl"}, "edited": false, "score": 0, "creation_date": 1518044809, "post_id": 48674536, "comment_id": 84348096, "body": "@AndrewL Meaning I&#39;ll override/delete the previous stored chapters if I don&#39;t include, lets say,  <code>previousChaptersArray</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 213, "user_id": 7489459, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4ac0d6f5ae3f52dd24df375c93482fe3?s=128&d=identicon&r=PG&f=1", "display_name": "ipid", "link": "https://stackoverflow.com/users/7489459/ipid"}, "edited": false, "score": 0, "creation_date": 1518046462, "post_id": 48674576, "comment_id": 84348693, "body": "Worked, thanks. But how can I can I pass a checkbox value? Checked = true, unchecked = false?"}], "tags": [], "owner": {"reputation": 180, "user_id": 5865347, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83f7d0d502e49258c446cc8159b66c2b?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewL", "link": "https://stackoverflow.com/users/5865347/andrewl"}, "is_accepted": true, "score": 0, "last_activity_date": 1518043753, "last_edit_date": 1518043753, "creation_date": 1518043503, "answer_id": 48674576, "question_id": 48674536, "link": "https://stackoverflow.com/questions/48674536/how-to-add-values-into-json-array-node-js-mongoose/48674576#48674576", "title": "How to add values into JSON-array (node.js/mongoose)", "body": "<p>So if the data looks like this, you can just put it in:</p>\n\n<pre><code>req.body.chapters = [\"1\", \"3\"];\n</code></pre>\n\n<p>Route:</p>\n\n<pre><code>const newBook = {\n   book: req.body.book,\n   summary: req.body.summary,\n   chapters: req.body.chapters\n }\n</code></pre>\n\n<p>If you just want to add the chapters to existing data, then have a look at <a href=\"https://stackoverflow.com/questions/33576223/using-mongoose-mongodb-addtoset-functionality-on-array-of-objects\">Using Mongoose / MongoDB $addToSet functionality on array of objects\n</a></p>\n"}], "owner": {"reputation": 213, "user_id": 7489459, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/4ac0d6f5ae3f52dd24df375c93482fe3?s=128&d=identicon&r=PG&f=1", "display_name": "ipid", "link": "https://stackoverflow.com/users/7489459/ipid"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 48674576, "answer_count": 1, "score": 0, "last_activity_date": 1518043753, "creation_date": 1518043295, "question_id": 48674536, "link": "https://stackoverflow.com/questions/48674536/how-to-add-values-into-json-array-node-js-mongoose", "title": "How to add values into JSON-array (node.js/mongoose)", "body": "<p>I'm using mongoose, adding values from HTML and saving to db with help of mongoose. I'm having issue adding value from <code>req.body.chapter</code> into array from HTML.</p>\n\n<p>Route:</p>\n\n<pre><code>  const newBook = {\n      book: req.body.book,\n      summary: req.body.summary,\n      chapters: //how to add value into chapter-array?\n    }\n</code></pre>\n\n<p>Book-model:</p>\n\n<pre><code>const BookSchema = new Schema({\n Title: {\n    type: String,\n    required: true\n  },\n  Summary: {\n    type: String,\n    required: true\n  },\n  chapters : [{\n    chapter: {\n      type: String,\n      required: true\n  }]   \n});\n</code></pre>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n      &lt;label for=\"book\"&gt;Title:&lt;/label&gt;\n      &lt;input type=\"text\" class=\"form-control\" name=\"book\" required&gt;\n&lt;/div&gt;\n&lt;div class=\"form-group\"&gt;\n      &lt;label for=\"Summary\"&gt;Summary:&lt;/label&gt;\n      &lt;input type=\"text\" class=\"form-control\" name=\"Summary\" required&gt;\n&lt;/div&gt;\n&lt;div class=\"form-group\"&gt;\n      &lt;label for=\"chapter\"&gt;chapter:&lt;/label&gt;\n      &lt;input type=\"text\" class=\"form-control\" name=\"chapter\" required&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript", "ruby-on-rails", "angularjs"], "comments": [{"owner": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "edited": false, "score": 0, "creation_date": 1518043361, "post_id": 48674508, "comment_id": 84347543, "body": "what do you get when you log <code>$scope</code> ?"}, {"owner": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "edited": false, "score": 0, "creation_date": 1518044172, "post_id": 48674508, "comment_id": 84347841, "body": "can you change your <code>console.log(test)</code> line to <code>console.log($scope)</code> and update the question with the output you get"}, {"owner": {"reputation": 141, "user_id": 5956611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JyC9N.jpg?s=128&g=1", "display_name": "Jos&#233; Antonio Camus Godoy", "link": "https://stackoverflow.com/users/5956611/jos%c3%a9-antonio-camus-godoy"}, "reply_to_user": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "edited": false, "score": 0, "creation_date": 1518044353, "post_id": 48674508, "comment_id": 84347900, "body": "@Subash ok! Edited!"}, {"owner": {"reputation": 141, "user_id": 5956611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JyC9N.jpg?s=128&g=1", "display_name": "Jos&#233; Antonio Camus Godoy", "link": "https://stackoverflow.com/users/5956611/jos%c3%a9-antonio-camus-godoy"}, "reply_to_user": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "edited": false, "score": 0, "creation_date": 1518044413, "post_id": 48674508, "comment_id": 84347929, "body": "@Subash PD: The negative number is correct"}, {"owner": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "edited": false, "score": 0, "creation_date": 1518044542, "post_id": 48674508, "comment_id": 84347985, "body": "try <code>console.log($scope.formCtrl.remainingTime)</code>"}, {"owner": {"reputation": 141, "user_id": 5956611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JyC9N.jpg?s=128&g=1", "display_name": "Jos&#233; Antonio Camus Godoy", "link": "https://stackoverflow.com/users/5956611/jos%c3%a9-antonio-camus-godoy"}, "reply_to_user": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "edited": false, "score": 0, "creation_date": 1518044636, "post_id": 48674508, "comment_id": 84348030, "body": "@Subash i get Undefined too :("}, {"owner": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "edited": false, "score": 0, "creation_date": 1518046075, "post_id": 48674508, "comment_id": 84348562, "body": "can you post your whole controller?"}, {"owner": {"reputation": 141, "user_id": 5956611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JyC9N.jpg?s=128&g=1", "display_name": "Jos&#233; Antonio Camus Godoy", "link": "https://stackoverflow.com/users/5956611/jos%c3%a9-antonio-camus-godoy"}, "reply_to_user": {"reputation": 2946, "user_id": 1430057, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/Tbizp.jpg?s=128&g=1", "display_name": "Subash", "link": "https://stackoverflow.com/users/1430057/subash"}, "edited": false, "score": 0, "creation_date": 1518046526, "post_id": 48674508, "comment_id": 84348714, "body": "@Subash Ready!!"}], "answers": [{"comments": [{"owner": {"reputation": 141, "user_id": 5956611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JyC9N.jpg?s=128&g=1", "display_name": "Jos&#233; Antonio Camus Godoy", "link": "https://stackoverflow.com/users/5956611/jos%c3%a9-antonio-camus-godoy"}, "edited": false, "score": 0, "creation_date": 1518053442, "post_id": 48675513, "comment_id": 84350574, "body": "Thanks for answering!. I edited the question with your clarifications. The problem is almost the same :( any ideas?"}], "tags": [], "owner": {"reputation": 997, "user_id": 5813873, "user_type": "registered", "profile_image": "https://graph.facebook.com/10208657883787433/picture?type=large", "display_name": "GaryL", "link": "https://stackoverflow.com/users/5813873/garyl"}, "is_accepted": false, "score": 0, "last_activity_date": 1518050484, "last_edit_date": 1518050484, "creation_date": 1518049348, "answer_id": 48675513, "question_id": 48674508, "link": "https://stackoverflow.com/questions/48674508/angularjs-with-rails-doesnt-recognize-scope/48675513#48675513", "title": "AngularJS with Rails doesn&#39;t recognize $scope", "body": "<p>I think what is happening is:</p>\n\n<ol>\n<li>Your controller initializes the empty value. </li>\n<li>You have connected your <code>div</code> to the variable, which it can\u2019t have.</li>\n<li>You have assigned a value to the <code>&lt;input&gt;</code> field, which is not connected to\nthe <code>$scope.remainingTime</code> variable.</li>\n</ol>\n\n<p>Try using the change below which should do the following:</p>\n\n<ol>\n<li>At html page init (which completes after the controller init) use <code>&lt;input ng-init=</code>... to set the value of <code>remainingTime</code>.</li>\n<li><p>Attach the <code>&lt;input&gt;</code> field to the <code>remainingTime</code> scope variable.</p>\n\n<pre><code>&lt;input style=\"display:none\" ng-init=\"remainingTime = &lt;%= (resource.available_until.to_f - DateTime.now.to_f).to_i %&gt;)\" /&gt;\n&lt;div &gt;\n   &lt;input ng-model=\"remainingTime\"&gt; \n&lt;/div&gt;\n</code></pre></li>\n</ol>\n\n<p>You may be able to (should be able to?) use both <code>ng-init</code> and <code>ng-model</code> together on the real <code>&lt;input&gt;</code> field, but I've had uncertain results doing that.</p>\n\n<p>Cheers, Gary.</p>\n"}, {"comments": [{"owner": {"reputation": 141, "user_id": 5956611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JyC9N.jpg?s=128&g=1", "display_name": "Jos&#233; Antonio Camus Godoy", "link": "https://stackoverflow.com/users/5956611/jos%c3%a9-antonio-camus-godoy"}, "edited": false, "score": 0, "creation_date": 1518055192, "post_id": 48676216, "comment_id": 84350981, "body": "It&#39;s true, the alert shows the correct time remaining but how can I use the variable in a function? Really $scope.remainingTime contains the time? When passed as an argument of the countdown function the variable does not exist (undefined)"}, {"owner": {"reputation": 141, "user_id": 5956611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JyC9N.jpg?s=128&g=1", "display_name": "Jos&#233; Antonio Camus Godoy", "link": "https://stackoverflow.com/users/5956611/jos%c3%a9-antonio-camus-godoy"}, "edited": false, "score": 0, "creation_date": 1518055523, "post_id": 48676216, "comment_id": 84351065, "body": "I made it! I called the function instead of the alert! Thank you very much!"}], "tags": [], "owner": {"reputation": 753, "user_id": 3390844, "user_type": "registered", "profile_image": "https://graph.facebook.com/100001262076672/picture?type=large", "display_name": "Phan Vi\u1ec7t", "link": "https://stackoverflow.com/users/3390844/phan-vi%e1%bb%87t"}, "is_accepted": true, "score": 1, "last_activity_date": 1518054630, "creation_date": 1518054630, "answer_id": 48676216, "question_id": 48674508, "link": "https://stackoverflow.com/questions/48674508/angularjs-with-rails-doesnt-recognize-scope/48676216#48676216", "title": "AngularJS with Rails doesn&#39;t recognize $scope", "body": "<p>Reason: The controller is being created before the <code>remainingTime</code> variable is added to the $scope object. Don't trust your <code>console.log</code> with object.</p>\n\n<p>Solution:</p>\n\n<ol>\n<li><p>Use $watch</p>\n\n<p><code>$scope.$watch('remainingTime', function() {\n  alert($scope.remainingTime);\n});</code></p></li>\n<li><p>or Use $timeout</p>\n\n<p><code>$timeout(function () {\n  alert($scope.remainingTime);\n});</code></p></li>\n</ol>\n"}], "owner": {"reputation": 141, "user_id": 5956611, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/JyC9N.jpg?s=128&g=1", "display_name": "Jos&#233; Antonio Camus Godoy", "link": "https://stackoverflow.com/users/5956611/jos%c3%a9-antonio-camus-godoy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 48676216, "answer_count": 2, "score": 0, "last_activity_date": 1518054630, "creation_date": 1518043160, "last_edit_date": 1518053965, "question_id": 48674508, "link": "https://stackoverflow.com/questions/48674508/angularjs-with-rails-doesnt-recognize-scope", "title": "AngularJS with Rails doesn&#39;t recognize $scope", "body": "<p>I'm working on a project in Rails that also uses AngularJS.\nFirst of all, I have a variable called @resource that contains an end time</p>\n\n<pre><code>&lt;input style=\"display:none\" ng-model=\"remainingTime\" ng-init=\"remainingTime = &lt;%= (resource.available_until.to_f - DateTime.now.to_f).to_i %&gt;\"&gt;\n</code></pre>\n\n<p>This obtains the remaining time for an X task and is displayed as follows (without display none).</p>\n\n<p><a href=\"https://i.stack.imgur.com/au9OI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/au9OI.png\" alt=\"A input with a remaining time\"></a></p>\n\n<p>That value obtained I must access it from the controller.</p>\n\n<p>In the controller I have the following:</p>\n\n<pre><code> function UserEvaluationsNewCtrl ($log, $scope) {\n    console.log($scope.remainingTime)\n}\n</code></pre>\n\n<p>When I want to access from the controller, the variable show \"undefined\" :/</p>\n\n<p>Any help is useful. Thank you!!!</p>\n\n<p>Edited:</p>\n\n<p>console.log($scope):\n<a href=\"https://i.stack.imgur.com/h5tDu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h5tDu.png\" alt=\"enter image description here\"></a></p>\n\n<p>remainingTime=-39698</p>\n\n<p>-The negative number is correct-</p>\n\n<p>Edited 2:\nComplete controller:</p>\n\n<pre><code>;(function () {\n  'use strict';\n\n  // Define controller\n  function UserEvaluationsNewCtrl ($log, $scope) {\n    $log.debug('UserEvaluationsNewCtrl: Hi')\n    var vm = this\n\n    vm.data = angular.extend({}, rails_data || {})\n    vm.evaluationData = vm.data.resource\n    vm.evaluationDataStringified = ''\n\n    $scope.$watch(function(){\n      return vm.evaluationData\n    }, function(newValue, oldValue){\n      vm.evaluationDataStringified = angular.toJson(newValue)\n      $log.debug('ResourcesNewCtrl: $watch vm.evaluationDataStringified: to JSON output:', vm.evaluationDataStringified)\n    }, true)\n\n    console.log($scope)\n  }\n\n  // Inject dependencies\n  UserEvaluationsNewCtrl.$inject = ['$log', '$scope']\n\n  // Register controller\n  angular\n    .module('app.controllers.user_evaluations.new', [])\n    .controller('UserEvaluationsNewCtrl', UserEvaluationsNewCtrl)\n})();\n</code></pre>\n"}, {"tags": ["javascript", "redux", "redux-thunk"], "answers": [{"comments": [{"owner": {"reputation": 531, "user_id": 8198606, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/6c6e30dba2e959d49af1312ce26a69a5?s=128&d=identicon&r=PG&f=1", "display_name": "PurplePanda", "link": "https://stackoverflow.com/users/8198606/purplepanda"}, "edited": false, "score": 0, "creation_date": 1518043956, "post_id": 48674545, "comment_id": 84347765, "body": "This worked! The only problem now is that my return in the if statement in validateEmail doesn&#39;t force the emailField function to return as well. so the last dispatch get&#39;s executed when it shouldn&#39;t because the function should have already returned."}], "tags": [], "owner": {"reputation": 2437, "user_id": 2887022, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf621e48f20f06ecf5fe0562d8713647?s=128&d=identicon&r=PG", "display_name": "Bsalex", "link": "https://stackoverflow.com/users/2887022/bsalex"}, "is_accepted": false, "score": 1, "last_activity_date": 1518044382, "last_edit_date": 1518044382, "creation_date": 1518043337, "answer_id": 48674545, "question_id": 48674497, "link": "https://stackoverflow.com/questions/48674497/why-cant-i-put-some-of-my-code-in-another-function-and-then-call-it/48674545#48674545", "title": "Why can&#39;t I put some of my code in another function and then call it?", "body": "<p>That's because <code>validateEmail</code> returns redux-thunk function, it does not execute it.<br>\nJust call it this way:</p>\n\n<pre><code>dispatch(validateEmail(email));\n</code></pre>\n\n<p><code>dispatch</code> also passes up the return value of the wrapped function, so if you want to know that an email is valid or not in <code>emailField</code> you might do the following:  </p>\n\n<pre><code>const validateEmail = (email) =&gt; {\n  return dispatch =&gt; {\n    // If email field is empty report alert\n    if (email === '') {\n      dispatch(addAlert('field1', 'This field is empty'));\n      return false;\n    }\n\n    return true;\n  };\n}\n\nexport const emailField = (email) =&gt; {\n  return dispatch =&gt; {\n\n    // Update Input\n    dispatch(updateInput('field1', email));\n\n    //Email validator\n    const isEmailValid = dispatch(validateEmail(email));\n    if (!isEmailValid) {\n      return;\n    }\n\n    // If all validators pass clear the alert\n    dispatch(deleteAlert('field1'))\n\n  };\n}\n</code></pre>\n"}], "owner": {"reputation": 531, "user_id": 8198606, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/6c6e30dba2e959d49af1312ce26a69a5?s=128&d=identicon&r=PG&f=1", "display_name": "PurplePanda", "link": "https://stackoverflow.com/users/8198606/purplepanda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518044382, "creation_date": 1518043118, "last_edit_date": 1518043278, "question_id": 48674497, "link": "https://stackoverflow.com/questions/48674497/why-cant-i-put-some-of-my-code-in-another-function-and-then-call-it", "title": "Why can&#39;t I put some of my code in another function and then call it?", "body": "<p>I have this Redux Thunk action creator:</p>\n\n<pre><code>const addAlert = (pos, msg) =&gt; ({\n  type: 'ADD_ALERT',\n  pos,\n  msg\n})\n\n// Login Email Field\nexport const emailField = (email) =&gt; {\n  return dispatch =&gt; {\n\n    // Update Input\n    dispatch(updateInput('field1', email));\n\n    //Email validator\n    if (email === '') {\n      dispatch(addAlert('field1', 'This field is empty'));\n      return;\n    }\n\n    // If all validators pass clear the alert\n    dispatch(deleteAlert('field1'))\n\n  };\n}\n</code></pre>\n\n<p>I want to move the Email Validator part out into its own function and then call it in the same spot where that code is now. however, when I do so the code doesn't dispatch like I want it to. Here is the function I made in the same file:</p>\n\n<pre><code>const validateEmail = (email) =&gt; {\n  return dispatch =&gt; {\n    // If email field is empty report alert\n    if (email === '') {\n      dispatch(addAlert('field1', 'This field is empty'));\n      return;\n    }\n  };\n}\n</code></pre>\n\n<p>Then In my emailField function, I just call:</p>\n\n<pre><code> validateEmail(email);\n</code></pre>\n\n<p>and it doesn't behave the same as it did before. I simply want to do a basic move of that code to a js function then execute it in another place.</p>\n"}, {"tags": ["javascript", "jquery", "html", "parent-child"], "comments": [{"owner": {"reputation": 530, "user_id": 4017803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4017803/sagar"}, "edited": false, "score": 1, "creation_date": 1518043033, "post_id": 48674449, "comment_id": 84347392, "body": "add space <code>&#39; #text&#39;</code>"}], "answers": [{"comments": [{"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1518043400, "post_id": 48674501, "comment_id": 84347556, "body": "Since it&#39;s an input field in a form that&#39;s being submitted, I think changing <code>id</code> to <code>name</code> would be more appropriate than <code>class</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1518043647, "post_id": 48674501, "comment_id": 84347654, "body": "@PatrickRoberts Since it&#39;s not being submitted normally, the name is not significant. And name selectors are more verbose."}, {"owner": {"reputation": 33, "user_id": 8689115, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1916277095306519/picture?type=large", "display_name": "mam8", "link": "https://stackoverflow.com/users/8689115/mam8"}, "edited": false, "score": 0, "creation_date": 1518043900, "post_id": 48674501, "comment_id": 84347751, "body": "still Undefined"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 33, "user_id": 8689115, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1916277095306519/picture?type=large", "display_name": "mam8", "link": "https://stackoverflow.com/users/8689115/mam8"}, "edited": false, "score": 0, "creation_date": 1518044129, "post_id": 48674501, "comment_id": 84347823, "body": "@MedAmine I&#39;ve added an executable snippet, it works."}, {"owner": {"reputation": 33, "user_id": 8689115, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1916277095306519/picture?type=large", "display_name": "mam8", "link": "https://stackoverflow.com/users/8689115/mam8"}, "edited": false, "score": 0, "creation_date": 1518044592, "post_id": 48674501, "comment_id": 84348006, "body": "TY i see it but didnt work on my code i will try again and again until work, thank u for help"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 2, "last_activity_date": 1518044115, "last_edit_date": 1518044115, "creation_date": 1518043129, "answer_id": 48674501, "question_id": 48674449, "link": "https://stackoverflow.com/questions/48674449/jquery-select-child-of-child-of-an-element/48674501#48674501", "title": "jQuery: Select child of child of an element", "body": "<p>You need a space between the parts of the selector:</p>\n\n<pre><code>var text = $(\"#\" + id + \" #text\").val();\n</code></pre>\n\n<p>But there's no need to use the ID at all:</p>\n\n<pre><code>var text = $(this).find(\"#text\").val();\n</code></pre>\n\n<p>Also, IDs are supposed to be unique, you can't have <code>id=\"text\"</code> multiple times. You should use <code>class=\"text\"</code>, and then it would be:</p>\n\n<pre><code>var text = $(this).find(\".text\").val();\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('form').submit(function(){\r\n  var text=$(this).find(\".text\").val();\r\n  console.log(text);\r\n  return false;\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;form id=f1&gt;\r\n  &lt;div&gt;\r\n    &lt;input class=text&gt;\r\n  &lt;/div&gt;\r\n&lt;/form&gt;\r\n\r\n&lt;form id=f2&gt;\r\n  &lt;div&gt;\r\n    &lt;input class=text&gt;\r\n  &lt;/div&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 91, "user_id": 9324270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/faea7229dc0a26a866e47f45ec0662dd?s=128&d=identicon&r=PG&f=1", "display_name": "mitch", "link": "https://stackoverflow.com/users/9324270/mitch"}, "is_accepted": false, "score": 0, "last_activity_date": 1518043229, "creation_date": 1518043229, "answer_id": 48674521, "question_id": 48674449, "link": "https://stackoverflow.com/questions/48674449/jquery-select-child-of-child-of-an-element/48674521#48674521", "title": "jQuery: Select child of child of an element", "body": "<p>First of all you shouldn't use multiple id's! ID should be unique.</p>\n\n<p>In your example, you pass wrong selector to jQuery function, it should be:\n<code>var text = $('#' + id + ' #text');</code> (missing space between selectors)</p>\n"}], "owner": {"reputation": 33, "user_id": 8689115, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/1916277095306519/picture?type=large", "display_name": "mam8", "link": "https://stackoverflow.com/users/8689115/mam8"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 48674501, "answer_count": 2, "score": -1, "last_activity_date": 1534582228, "creation_date": 1518042956, "last_edit_date": 1534582228, "question_id": 48674449, "link": "https://stackoverflow.com/questions/48674449/jquery-select-child-of-child-of-an-element", "title": "jQuery: Select child of child of an element", "body": "<p><strong>HTML:</strong></p>\n\n<pre><code>&lt;form id=f1&gt;\n  &lt;div&gt;\n    &lt;input id=text&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n\n&lt;form id=f2&gt;\n  &lt;div&gt;\n    &lt;input id=text&gt;\n  &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p><strong>jQuery:</strong></p>\n\n<pre><code>$('form').submit(function(){\n  var id=$(this).attr('id');\n  var text=$('#'+id+'#text').val();\n  alert(text);\n});\n</code></pre>\n\n<p><strong>Result:</strong></p>\n\n<blockquote>\n  <p>Undefined</p>\n</blockquote>\n\n<p>I need to select the input but I dont know how,</p>\n\n<p>This question is Corrected</p>\n"}, {"tags": ["javascript", "sql", "postgresql", "sequelize.js"], "comments": [{"owner": {"reputation": 783, "user_id": 8775309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MZJse.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8775309/rahul"}, "edited": false, "score": 0, "creation_date": 1518069138, "post_id": 48674407, "comment_id": 84354392, "body": "Please explain the relationship between tag and activity, is it 1:1 or 1:N?"}, {"owner": {"reputation": 4045, "user_id": 2043204, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/L0BPx.jpg?s=128&g=1", "display_name": "Ankh", "link": "https://stackoverflow.com/users/2043204/ankh"}, "reply_to_user": {"reputation": 783, "user_id": 8775309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MZJse.jpg?s=128&g=1", "display_name": "Rahul", "link": "https://stackoverflow.com/users/8775309/rahul"}, "edited": false, "score": 0, "creation_date": 1518076210, "post_id": 48674407, "comment_id": 84357434, "body": "@Rahul It&#39;s N:M, note the join table."}, {"owner": {"reputation": 3720, "user_id": 1264156, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/d2f4a0c8351b09e7158cb3ac0ccf8fa8?s=128&d=identicon&r=PG", "display_name": "mcranston18", "link": "https://stackoverflow.com/users/1264156/mcranston18"}, "edited": false, "score": 0, "creation_date": 1518124328, "post_id": 48674407, "comment_id": 84388253, "body": "have you written your migrations? does the <code>associate</code> class method get called in your application code? your syntax is Sequelize v3 so you should also ensure you&#39;re not using Sequelize v4"}], "owner": {"reputation": 21, "user_id": 9330129, "user_type": "registered", "profile_image": "https://graph.facebook.com/1722198901153219/picture?type=large", "display_name": "Dan Hook", "link": "https://stackoverflow.com/users/9330129/dan-hook"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518042769, "creation_date": 1518042769, "question_id": 48674407, "link": "https://stackoverflow.com/questions/48674407/associations-in-sequelize", "title": "Associations in sequelize", "body": "<p>I've read through all the documentation and googled it a ton and I still can't figure this out. I'm trying to setup a database that allows users to be able to create an event/activity and assign multiple tags to it (indoors, food, breakfast) to categorize the events. I'm using postgres and sequelize. I'm also unsure of how I would query these events. Would I use app.get?</p>\n\n<p>Currently I have an activities table and a tags table and a 3rd join table.</p>\n\n<p>Tags table:</p>\n\n<pre><code>'use strict';\nmodule.exports = (sequelize, DataTypes) =&gt; {\n  var Tag = sequelize.define('Tag', {\n    title: DataTypes.STRING\n  }, {\n    classMethods: {\n      associate: function(models) {\n        Tag.hasMany(models.Activity, { through: models.ActivityTag, foreignKey: 'tag_id' });\n      }\n    }\n  });\n  return Tag;\n};\n</code></pre>\n\n<p>Activities table:</p>\n\n<pre><code>'use strict';\nmodule.exports = (sequelize, DataTypes) =&gt; {\n  var Activity = sequelize.define('Activity', {\n    description: DataTypes.STRING,\n    location: DataTypes.STRING,\n    title: DataTypes.STRING,\n    cost: DataTypes.INTEGER\n  }, {\n    classMethods: {\n      associate: function(models) {\n        console.log(models);\n        Activity.belongsToMany(models.Tag, {as: 'activity' through: models.ActivityTag, foreignKey: 'activity_id' });\n\n      }\n    }\n  });\n  return Activity;\n};\n</code></pre>\n\n<p>Join table:</p>\n\n<pre><code>'use strict';\nmodule.exports = (sequelize, DataTypes) =&gt; {\n  var ActivityTag = sequelize.define('ActivityTag', {\n    activity_id: DataTypes.INTEGER,\n    tag_id: DataTypes.INTEGER\n  }, {\n    classMethods: {\n      associate: function(models) {\n\n      }\n    }\n  });\n  return ActivityTag;\n};\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "discord.js"], "comments": [{"owner": {"reputation": 6306, "user_id": 1457231, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/KYv7P.jpg?s=128&g=1", "display_name": "Pop-A-Stash", "link": "https://stackoverflow.com/users/1457231/pop-a-stash"}, "edited": false, "score": 0, "creation_date": 1518044363, "post_id": 48674405, "comment_id": 84347903, "body": "That error means that the JSON it tried to read is not valid. You might have a missing semicolon or quotes or something."}, {"owner": {"reputation": 139, "user_id": 7077877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a4947abbcc223a616b9fd3b59acd58e4?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Myers", "link": "https://stackoverflow.com/users/7077877/jeremy-myers"}, "edited": false, "score": 1, "creation_date": 1518044447, "post_id": 48674405, "comment_id": 84347944, "body": "It seems like calling <code>fs.readFileSync(&#39;Storage&#47;userData.json&#39;, &#39;utf8&#39;)</code> produces an incorrectly formatted JSON string. Can you perhaps share what is stored in file &#39;Storage/userData.json&#39;?"}, {"owner": {"reputation": 33, "user_id": 9279843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9774a7522d45bc66d41576ff52afe989?s=128&d=identicon&r=PG", "display_name": "Erkaloth", "link": "https://stackoverflow.com/users/9279843/erkaloth"}, "edited": false, "score": 0, "creation_date": 1518045035, "post_id": 48674405, "comment_id": 84348181, "body": "There&#39;s literally nothing stored at the moment in userData.json the bot was supposed to write something when you type something in chat."}, {"owner": {"reputation": 5106, "user_id": 2430414, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/s2BPf.jpg?s=128&g=1", "display_name": "Blundering Philosopher", "link": "https://stackoverflow.com/users/2430414/blundering-philosopher"}, "edited": false, "score": 0, "creation_date": 1518076626, "post_id": 48674405, "comment_id": 84357643, "body": "Maybe you can add some dummy text in <code>userData.json</code>, and see if your code gets past line 7, where that error is coming from"}, {"owner": {"reputation": 33, "user_id": 9279843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9774a7522d45bc66d41576ff52afe989?s=128&d=identicon&r=PG", "display_name": "Erkaloth", "link": "https://stackoverflow.com/users/9279843/erkaloth"}, "reply_to_user": {"reputation": 5106, "user_id": 2430414, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/s2BPf.jpg?s=128&g=1", "display_name": "Blundering Philosopher", "link": "https://stackoverflow.com/users/2430414/blundering-philosopher"}, "edited": false, "score": 0, "creation_date": 1518091184, "post_id": 48674405, "comment_id": 84367119, "body": "Thanks, @BlunderingPhilosopher, that was the problem, I tried adding manually what was supposed to be in the JSON file and it worked."}], "answers": [{"tags": [], "owner": {"reputation": 33, "user_id": 9279843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9774a7522d45bc66d41576ff52afe989?s=128&d=identicon&r=PG", "display_name": "Erkaloth", "link": "https://stackoverflow.com/users/9279843/erkaloth"}, "is_accepted": true, "score": 1, "last_activity_date": 1518611474, "creation_date": 1518611474, "answer_id": 48787303, "question_id": 48674405, "link": "https://stackoverflow.com/questions/48674405/error-when-running-js-discord-bot/48787303#48787303", "title": "Error when running js discord bot", "body": "<p>Solution: I added some dummy text in userData.json and it worked.</p>\n"}], "owner": {"reputation": 33, "user_id": 9279843, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9774a7522d45bc66d41576ff52afe989?s=128&d=identicon&r=PG", "display_name": "Erkaloth", "link": "https://stackoverflow.com/users/9279843/erkaloth"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 855, "favorite_count": 0, "accepted_answer_id": 48787303, "answer_count": 1, "score": 1, "last_activity_date": 1518611474, "creation_date": 1518042747, "question_id": 48674405, "link": "https://stackoverflow.com/questions/48674405/error-when-running-js-discord-bot", "title": "Error when running js discord bot", "body": "<p>I tried making a discord bot in js. I had help but I still done something wrong.<br>\nWhen running it I get the next error in console:  </p>\n\n<pre><code>undefined:1\nSyntaxError: Unexpected end of JSON input\n    at JSON.parse (&lt;anonymous&gt;)\n    at Object.&lt;anonymous&gt; (C:\\Users\\Erkaloth\\Dropbox\\Novel Notifier Bot\\app.js:7:21)\n    at Module._compile (module.js:643:30)\n    at Object.Module._extensions..js (module.js:654:10)\n    at Module.load (module.js:556:32)\n    at tryModuleLoad (module.js:499:12)\n    at Function.Module._load (module.js:491:3)\n    at Function.Module.runMain (module.js:684:10)\n    at startup (bootstrap_node.js:187:16)\n    at bootstrap_node.js:608:3\n</code></pre>\n\n<p>The complete code without token is:  </p>\n\n<pre><code>// Calling the package\nvar Discord = require(\"discord.js\");\nvar bot = new Discord.Client();\nvar fs = require('fs');\n\n//This calls the file named userData.json from the folder Storage.\nvar userData = JSON.parse(fs.readFileSync('Storage/userData.json', 'utf8'));\n\n\n// Listener Event: Message Received (This will run everytime a message is received)\nbot.on('message', message =&gt; {\n\n    // Variables\n    var sender = message.author; // The person who sent the Message\n    var msg = message.content.toUpperCase();\n    var prefix = '~' // The prefix used when writing commands in chat.\n\n    // It checks to make sure the sender is not the bot.\n    if (sender.id === '410841116175368193') { // Checks if the ID of the sender is the same ID as the bot.\n      return; // Cancels the rest of the Listener Event.\n    }\n\n    // Ping / Pong command.\n    if (msg === prefix+ 'PING') {\n      message.channel.send('Pong!') // Sends a message to the channel, with the contents: \"Pong!\"\n    }\n\n    // This will ban specified words.\n    if (msg.includes('FUCK')) { // Checks if the word Fuck is included in the message.\n        message.delete()\n        message.channel.send('Word used not allowed.')\n    }\n\n    if (msg === prefix + 'USERSTATS') {\n      message.channel.send('You have sent **' + userData[sender.id].messagesSent + '** messages!')\n    }\n\n    //Makes sure the username is in userData before writing to the file.\n    if (!userData[sender.id]) userData[sender.id] = {\n      messagesSent: 0\n    }\n\n    userData[sender.id].messagesSent++; //This adds one to 'messagesSent', under the user.\n\n    //This one saves the file that was wrote in.\n    fs.writeFile('Storage/userData.json', JSON.stringify(userData), (err) =&gt; {\n      if (err) console.error(err); //This one sends a messages with the error to the console if there is one.\n    });\n\n  });\n\n  // Listener Event: Bot Launched\n  bot.on('ready', () =&gt; {\n    console.log(\"Loading...\");\n    setTimeout(function(){\n      console.log(\"Bot has been loaded completely.\");\n    }, 1000);\n    setTimeout(function(){\n      console.log(\"Welcome, Master!\");\n    }, 2000);\n\n    // Status\n    bot.user.setStatus('Online') // You status goes here; It can be 'Online', 'idle', 'invisible', &amp; 'dnd'\n\n    // Game &amp; Streaming\n    bot.user.setGame('~help') // You can change the string to whatever you want it to say.\n\n    //To set a stream, add another option like this:\n    //bot.user.setGame('~help', 'https://twitch.tv/user');\n    //It has to be a twitch stream link.\n\n    // Any code can be placed here. It will automatically run when the bot starts.\n  });\n\n// Listener Event: User joining the discord server.\nbot.on('guildMemberAdd', member =&gt; {\n    console.log('User ' + member.user.username + ' has joined the server!') // Sends a message in the console that someone joined the discord server.\n\n    var role = member.guild.roles.find('name', 'Member [Commoner]'); // This looks for the role in the server(guild), it searches by name, meaning you can change 'Member [Commoner]' to the role you want.\n\n    // Secondly, we will add the role.\n    member.addRole(role)\n\n    // Sending a message to a channel when a user joins discord.\n    member.guild.channels.get('399321101663993856').send('**' + member.user.username + '**, has joined the server!') // The first part gets the channel, the seconds sends a messages in the respective channel.\n});\n\n// Listener Event: User leaving the discord server.\nbot.on('guildMemberRemove', member =&gt; {\n\n    member.guild.channels.get('399321101663993856').send('**' + member.user.username + '**, has left the server!') // The first part gets the channel, the seconds sends a messages in the respective channel.\n});\n\n  // Login\n  bot.login('TOKEN FOR BOT HERE')\n</code></pre>\n\n<p>Then again, sorry if I wasn't supposed to post here but I don't know where to search anymore. I have spent a few hours just trying to find a solution and I couldn't find anything. Either that or I am just straight dumb enough not to find it.</p>\n"}, {"tags": ["javascript", "d3.js"], "answers": [{"comments": [{"owner": {"reputation": 2093, "user_id": 5357758, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/266d83febb1a6e98f03837ea1ad3c411?s=128&d=identicon&r=PG&f=1", "display_name": "yavg", "link": "https://stackoverflow.com/users/5357758/yavg"}, "edited": false, "score": 0, "creation_date": 1518065880, "post_id": 48674906, "comment_id": 84353432, "body": "thanks for answering. The problem is that I receive the categories of a web service. the chart is already created and then I receive the categories (web service), do you understand?"}, {"owner": {"reputation": 101125, "user_id": 16363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xv8q9.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/16363/mark"}, "reply_to_user": {"reputation": 2093, "user_id": 5357758, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/266d83febb1a6e98f03837ea1ad3c411?s=128&d=identicon&r=PG&f=1", "display_name": "yavg", "link": "https://stackoverflow.com/users/5357758/yavg"}, "edited": false, "score": 0, "creation_date": 1518108383, "post_id": 48674906, "comment_id": 84379314, "body": "@yavg, see edits above.  Looks like <a href=\"http://c3js.org/reference.html#api-load\" rel=\"nofollow noreferrer\">chart.load</a> will do what you want."}, {"owner": {"reputation": 2093, "user_id": 5357758, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/266d83febb1a6e98f03837ea1ad3c411?s=128&d=identicon&r=PG&f=1", "display_name": "yavg", "link": "https://stackoverflow.com/users/5357758/yavg"}, "edited": false, "score": 0, "creation_date": 1518121805, "post_id": 48674906, "comment_id": 84387037, "body": "I think there is an error with c3.js, I tried to update the names in the way char.data.names ({&quot;category1&quot;: &quot;new value}), but it seems to make an infinite cycle."}], "tags": [], "owner": {"reputation": 101125, "user_id": 16363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/xv8q9.png?s=128&g=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/16363/mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1518108351, "last_edit_date": 1518108351, "creation_date": 1518045302, "answer_id": 48674906, "question_id": 48674400, "link": "https://stackoverflow.com/questions/48674400/how-can-i-modify-the-width-of-the-texts-in-the-legend/48674906#48674906", "title": "how can I modify the width of the texts in the legend?", "body": "<p>Why are you updating the text after the drawing? If you properly prepare your data your problem goes away.</p>\n\n<p>If you must call it after generating your chart use <code>chart.load</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;link data-require=\"c3.js@0.4.11\" data-semver=\"0.4.11\" rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.css\" /&gt;\r\n  &lt;script data-require=\"c3.js@0.4.11\" data-semver=\"0.4.11\" src=\"https://cdnjs.cloudflare.com/ajax/libs/c3/0.4.11/c3.js\"&gt;&lt;/script&gt;\r\n  &lt;script data-require=\"d3@3.5.17\" data-semver=\"3.5.17\" src=\"https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.js\"&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div id=\"chart\"&gt;&lt;/div&gt;\r\n  &lt;script&gt;\r\n    var chart = c3.generate({\r\n      data: {\r\n        xs: {\r\n          category1: 'category1_x',\r\n          category2: 'category2_x',\r\n          category3: 'category3_x',\r\n          category4: 'category4_x',\r\n          category5: 'category5_x',\r\n          category6: 'category6_x',\r\n          category7: 'category7_x',\r\n          category8: 'category8_x',\r\n\r\n        },\r\n        // iris data from R\r\n        columns: [\r\n          [\"category1_x\", 3.5],\r\n          [\"category2_x\", 3.2],\r\n          [\"category3_x\", 3.2],\r\n          [\"category4_x\", 3.2],\r\n          [\"category5_x\", 3.2],\r\n          [\"category6_x\", 3.2],\r\n          [\"category7_x\", 3.2],\r\n          [\"category8_x\", 3.2],\r\n\r\n          [\"category1\", 0.2],\r\n          [\"category2\", 1.4],\r\n          [\"category3\", 1.4],\r\n          [\"category4\", 1.4],\r\n          [\"category5\", 1.4],\r\n          [\"category6\", 1.4],\r\n          [\"category7\", 1.4],\r\n          [\"category8\", 1.4]\r\n\r\n        ],\r\n        type: 'scatter'\r\n      },\r\n      axis: {\r\n        x: {\r\n          label: 'Sepal.Width',\r\n          tick: {\r\n            fit: false\r\n          }\r\n        },\r\n        y: {\r\n          label: 'Petal.Width'\r\n        }\r\n      }\r\n    });\r\n\r\n    setTimeout(() =&gt; {\r\n      chart.load({\r\n        names: {\r\n          category1: 'la categoria 1',\r\n          category2: 'es muy diveritda',\r\n          category3: 'vamos',\r\n          category4: 'sera que',\r\n          category5: 'funciona',\r\n          category6: 'la',\r\n          category7: 'pendejada',\r\n          category8: 'es'\r\n        }\r\n      })\r\n    }, 500);\r\n  &lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2093, "user_id": 5357758, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/266d83febb1a6e98f03837ea1ad3c411?s=128&d=identicon&r=PG&f=1", "display_name": "yavg", "link": "https://stackoverflow.com/users/5357758/yavg"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518108351, "creation_date": 1518042710, "question_id": 48674400, "link": "https://stackoverflow.com/questions/48674400/how-can-i-modify-the-width-of-the-texts-in-the-legend", "title": "how can I modify the width of the texts in the legend?", "body": "<p>I have a chart that is made in c3.js. and I'm trying to change the text of the categories with d3.js. These texts in my real example are dynamic texts that come from a web service. When I update the texts, you can not read the texts well because the width of the texts is still of the previous ones. How can I modify the width of the texts so that they adapt to the new text and facilitate its reading?</p>\n\n<p><a href=\"https://i.stack.imgur.com/4GQ2H.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4GQ2H.jpg\" alt=\"enter image description here\"></a></p>\n\n<pre><code>var chart = c3.generate({\n    data: {\n        xs: {\n            category1: 'category1_x',\n            category2: 'category2_x',\n            category3: 'category3_x',\n            category4: 'category4_x',\n            category5: 'category5_x',\n            category6: 'category6_x',\n            category7: 'category7_x',\n            category8: 'category8_x',\n\n        },\n        // iris data from R\n        columns: [\n            [\"category1_x\", 3.5],\n            [\"category2_x\", 3.2],\n            [\"category3_x\", 3.2],\n            [\"category4_x\", 3.2],\n            [\"category5_x\", 3.2],\n            [\"category6_x\", 3.2],\n            [\"category7_x\", 3.2],\n            [\"category8_x\", 3.2],\n\n            [\"category1\", 0.2],\n            [\"category2\", 1.4],\n            [\"category3\", 1.4],\n            [\"category4\", 1.4],\n            [\"category5\", 1.4],\n            [\"category6\", 1.4],\n            [\"category7\", 1.4],\n            [\"category8\", 1.4]\n\n        ],\n        type: 'scatter'\n    },\n    axis: {\n        x: {\n            label: 'Sepal.Width',\n            tick: {\n                fit: false\n            }\n        },\n        y: {\n            label: 'Petal.Width'\n        }\n    }\n});\n\n\n var array=\n [\"la categoria 1\",\"es muy diveritda\",\"vamos \",\"sera que\",\"funciona\", \"la \",\"pendejada \",\"es\",\"ojala si\",\"dsadada\"\n ]\n\nd3.selectAll(\".c3-legend-item text\").each(function(d,i){\n\n      d3.select(this).text(array[i]);\n\n})\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/zvdruskg/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/zvdruskg/</a></p>\n"}, {"tags": ["javascript", "angularjs", "service", "module", "inject"], "comments": [{"owner": {"reputation": 5860, "user_id": 548997, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/JJ1gz.jpg?s=128&g=1", "display_name": "Lex", "link": "https://stackoverflow.com/users/548997/lex"}, "edited": false, "score": 0, "creation_date": 1518043745, "post_id": 48674399, "comment_id": 84347691, "body": "You need to show the code where you are defining <code>bookService</code>, but S&#233;bastien&#39;s answer is likely the correct one."}], "answers": [{"comments": [{"owner": {"reputation": 229, "user_id": 8140044, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1967603720136266/picture?type=large", "display_name": "Alonso Contreras", "link": "https://stackoverflow.com/users/8140044/alonso-contreras"}, "edited": false, "score": 0, "creation_date": 1518043830, "post_id": 48674550, "comment_id": 84347722, "body": "thanks you!! I had defined the module within my service and in the controller!  now its work"}], "tags": [], "owner": {"reputation": 10593, "user_id": 1347953, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/315f975f0f6f3b02f09ba70a366f05d7?s=128&d=identicon&r=PG", "display_name": "S&#233;bastien", "link": "https://stackoverflow.com/users/1347953/s%c3%a9bastien"}, "is_accepted": true, "score": 1, "last_activity_date": 1518045862, "last_edit_date": 1518045862, "creation_date": 1518043357, "answer_id": 48674550, "question_id": 48674399, "link": "https://stackoverflow.com/questions/48674399/why-i-dont-inject-service-in-a-angular-controller/48674550#48674550", "title": "Why i dont inject service in a angular controller?", "body": "<p>It seems like you are defining your application module in your <code>book.controller.js</code> script</p>\n\n<p>The following part creates a new module:</p>\n\n<pre><code>angular.module('myApp', []); // Creates and returns the \"myApp\" module\n</code></pre>\n\n<p>So I doubt that your <code>bookService</code> is declared in the same module.</p>\n\n<p>If you already have a module named \"myApp\", then simply attach your controller to it:</p>\n\n<pre><code>angular.module('myApp'); // Returns a previously created module named \"myApp\"\n</code></pre>\n"}], "owner": {"reputation": 229, "user_id": 8140044, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1967603720136266/picture?type=large", "display_name": "Alonso Contreras", "link": "https://stackoverflow.com/users/8140044/alonso-contreras"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 48674550, "answer_count": 1, "score": 0, "last_activity_date": 1518045862, "creation_date": 1518042698, "last_edit_date": 1518043390, "question_id": 48674399, "link": "https://stackoverflow.com/questions/48674399/why-i-dont-inject-service-in-a-angular-controller", "title": "Why i dont inject service in a angular controller?", "body": "<p>i tried inject my service in mi controller, but not work and the chrome console show this error: </p>\n\n<blockquote>\n  <p>angular.min.js:124 Error: [$injector:unpr] <a href=\"http://errors.angularjs.org/1.6.6/\" rel=\"nofollow noreferrer\">http://errors.angularjs.org/1.6.6/</a>$injector/unpr?p0=bookServiceProvider%20%3C-%20bookService%20%3C-%20bookController</p>\n</blockquote>\n\n<p>my html:</p>\n\n<pre><code>&lt;html ng-app=\"myApp\"&gt;\n &lt;head&gt;\n  &lt;script src=\"resources/jquery/jquery.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"resources/angular/angular.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"services/book.service.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"controllers/book.controller.js\"&gt;&lt;/script&gt;\n &lt;/head&gt;\n&lt;body ng-controller=\"bookController\"&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p></p>\n\n<p>my controller:</p>\n\n<pre><code>(function () {\n'use strict';\n\nangular\n    .module('myApp', [])\n    .controller('bookController', bookController);\n\nbookController.$inject = ['$location', '$rootScope', '$scope', 'bookService'];\n\nfunction bookController($location, $rootScope, $scope, bookService) {\n    var vm = this;\n\n\n}\n})();\n</code></pre>\n\n<p>its to happen when i tried inject some library like toastr, other services etc...</p>\n"}, {"tags": ["javascript", "python", "django", "django-models", "hyperlink"], "comments": [{"owner": {"reputation": 3517, "user_id": 8069748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g9ZD9.png?s=128&g=1", "display_name": "Navid Zarepak", "link": "https://stackoverflow.com/users/8069748/navid-zarepak"}, "edited": false, "score": 0, "creation_date": 1518085383, "post_id": 48674396, "comment_id": 84363201, "body": "So you have a text field in a model that contains bunch of texts which there is some medical terms including in the text? if that&#39;s correct then i guess you can try this: search for your medical terms in the text field and replace them with a link. like: &quot;Item X&quot; to <code>&lt;a href=&#39;&#47;itemx&#39;&gt;Item X&lt;&#47;a&gt;</code>. and then use autoscape tag in your template: <a href=\"https://docs.djangoproject.com/en/2.0/ref/templates/builtins/#autoescape\" rel=\"nofollow noreferrer\">docs.djangoproject.com/en/2.0/ref/templates/builtins/&hellip;</a>"}, {"owner": {"reputation": 47, "user_id": 9328940, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/--Z-N-7Iy2Q8/AAAAAAAAAAI/AAAAAAAAAbs/KPgPovvgz4I/photo.jpg?sz=128", "display_name": "Raghav Suri", "link": "https://stackoverflow.com/users/9328940/raghav-suri"}, "reply_to_user": {"reputation": 3517, "user_id": 8069748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g9ZD9.png?s=128&g=1", "display_name": "Navid Zarepak", "link": "https://stackoverflow.com/users/8069748/navid-zarepak"}, "edited": false, "score": 0, "creation_date": 1518114277, "post_id": 48674396, "comment_id": 84382880, "body": "Thanks. What I am trying to do is to automatize the search and hyperlinking of the medical terms, that are all stored in a separate model. Manual hyperlinking is needlessly repetitive and messy, leaving a lot of room for human error."}, {"owner": {"reputation": 3517, "user_id": 8069748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g9ZD9.png?s=128&g=1", "display_name": "Navid Zarepak", "link": "https://stackoverflow.com/users/8069748/navid-zarepak"}, "edited": false, "score": 0, "creation_date": 1518123463, "post_id": 48674396, "comment_id": 84387816, "body": "Well, i don&#39;t think you have any option but to go for messy stuff here. I prefer to scan the text before saving it and make a relation for that row to the items on medical terms mode. then you will know which terms has been used in this text. and if you don&#39;t wan&#39;t to search and replace the text, you can add a JavaScript file to your template to that for you. those relations will help you to find those terms faster because you don&#39;t need to search for all of them but just the ones you know they&#39;ve been used in the text. This is a cleaner way but browser will do it not your server so ..."}, {"owner": {"reputation": 3517, "user_id": 8069748, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/g9ZD9.png?s=128&g=1", "display_name": "Navid Zarepak", "link": "https://stackoverflow.com/users/8069748/navid-zarepak"}, "edited": false, "score": 0, "creation_date": 1518123611, "post_id": 48674396, "comment_id": 84387898, "body": "Also you can make a template tag to replace those tags so you won&#39;t need the js codes and your server will handle it too. If you don&#39;t want you text to be filled with bunch of html &lt;a&gt; tags then go for option 2 or 3. if it&#39;s okay for you to have bunch of html codes in your text then the first option is the fastest."}], "owner": {"reputation": 47, "user_id": 9328940, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh3.googleusercontent.com/--Z-N-7Iy2Q8/AAAAAAAAAAI/AAAAAAAAAbs/KPgPovvgz4I/photo.jpg?sz=128", "display_name": "Raghav Suri", "link": "https://stackoverflow.com/users/9328940/raghav-suri"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 127, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1518733121, "creation_date": 1518042686, "last_edit_date": 1518733121, "question_id": 48674396, "link": "https://stackoverflow.com/questions/48674396/searching-for-keywords-and-creating-links-automatically-in-python-and-django", "title": "Searching for keywords and creating links automatically in Python and Django", "body": "<p>I am creating an information web application (in Django) that often uses some medical terms. The medical terms and their explanations are stored in a separate model/database. As of now, I am manually creating links to description pages for each medical term.</p>\n\n<p>I was wondering if there is a way to get the code automatically search a page contents for medical terms, and automatically create links (or popovers) to their description pages. All the pages are dynamic, and the medical terms are stored in their own separate model. So far, the medical terms model does not have a relationship with any other models</p>\n\n<p>Any thoughts if this can be done (maybe through JS or Python), and if so, how to go about it?</p>\n"}, {"tags": ["javascript", "reactjs", "graphql", "gatsby"], "comments": [{"owner": {"reputation": 2446, "user_id": 1010943, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/yS8jR.jpg?s=128&g=1", "display_name": "mu_sa", "link": "https://stackoverflow.com/users/1010943/mu-sa"}, "edited": false, "score": 0, "creation_date": 1518044386, "post_id": 48674376, "comment_id": 84347913, "body": "<a href=\"https://github.com/gatsbyjs/gatsby/blob/master/docs/docs/adding-markdown-pages.md\" rel=\"nofollow noreferrer\">github.com/gatsbyjs/gatsby/blob/master/docs/docs/&hellip;</a>"}, {"owner": {"reputation": 2615, "user_id": 3955607, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f910ee6eecd417530ea3493a01caf6bc?s=128&d=identicon&r=PG&f=1", "display_name": "ST80", "link": "https://stackoverflow.com/users/3955607/st80"}, "reply_to_user": {"reputation": 2446, "user_id": 1010943, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/yS8jR.jpg?s=128&g=1", "display_name": "mu_sa", "link": "https://stackoverflow.com/users/1010943/mu-sa"}, "edited": false, "score": 0, "creation_date": 1518045075, "post_id": 48674376, "comment_id": 84348191, "body": "@LivingThing thanks for the tip! :-) Hmm but should I then give every markdown file inside my about folder the attribute <code>path: &#39;&#47;about&#39;</code> ??"}, {"owner": {"reputation": 2446, "user_id": 1010943, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/yS8jR.jpg?s=128&g=1", "display_name": "mu_sa", "link": "https://stackoverflow.com/users/1010943/mu-sa"}, "edited": false, "score": 1, "creation_date": 1518045325, "post_id": 48674376, "comment_id": 84348284, "body": "I think that the path should be unique. Name it according to what information the page is suppose to display"}], "answers": [{"tags": [], "owner": {"reputation": 3045, "user_id": 112050, "user_type": "registered", "accept_rate": 31, "profile_image": "https://www.gravatar.com/avatar/b894552b92ec87cecfb0d1d91e89e27b?s=128&d=identicon&r=PG", "display_name": "Sandeep", "link": "https://stackoverflow.com/users/112050/sandeep"}, "is_accepted": false, "score": 1, "last_activity_date": 1518109933, "creation_date": 1518109933, "answer_id": 48691132, "question_id": 48674376, "link": "https://stackoverflow.com/questions/48674376/gatsbyjs-how-to-use-graphql-to-fetch-markdown-files-and-display-data-on-specific/48691132#48691132", "title": "GatsbyJS How to use GraphQL to fetch markdown files and display data on specific page", "body": "<p>Gatsby-source-filesystem plugin will allow you to get files within a directory</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11535695, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ag7zGfQTPOc/AAAAAAAAAAI/AAAAAAAAH8s/0UHaErSA-lI/photo.jpg?sz=128", "display_name": "iamwill", "link": "https://stackoverflow.com/users/11535695/iamwill"}, "is_accepted": false, "score": 0, "last_activity_date": 1543936902, "creation_date": 1543936902, "answer_id": 53616127, "question_id": 48674376, "link": "https://stackoverflow.com/questions/48674376/gatsbyjs-how-to-use-graphql-to-fetch-markdown-files-and-display-data-on-specific/53616127#53616127", "title": "GatsbyJS How to use GraphQL to fetch markdown files and display data on specific page", "body": "<p>I'm not sure if you already resolved this but I came across something similar. You can add a filter to the frontmatter:</p>\n\n<pre><code>{\n  allMarkdownRemark(\n    filter: {\n      frontmatter: {\n        title: { eq:\"Intro\" }\n      }\n    }\n  ) {\n    edges {\n      node {\n        fileAbsolutePath\n        id\n        frontmatter {\n          title\n          path\n          date(formatString: \"DD MMMM, YYYY\")\n          imgSrc\n        }\n        html\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Output:\n<a href=\"https://i.stack.imgur.com/D2kSk.png\" rel=\"nofollow noreferrer\">Result from GraphiQL</a></p>\n\n<p>Hope that helps.</p>\n"}], "owner": {"reputation": 2615, "user_id": 3955607, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/f910ee6eecd417530ea3493a01caf6bc?s=128&d=identicon&r=PG&f=1", "display_name": "ST80", "link": "https://stackoverflow.com/users/3955607/st80"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1221, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1543936902, "creation_date": 1518042615, "question_id": 48674376, "link": "https://stackoverflow.com/questions/48674376/gatsbyjs-how-to-use-graphql-to-fetch-markdown-files-and-display-data-on-specific", "title": "GatsbyJS How to use GraphQL to fetch markdown files and display data on specific page", "body": "<p>I'm building a <code>gatsby</code>-site where I want to display some <code>markdown</code>-files on specific pages by using <code>graphql</code>.</p>\n\n<p>my structure is like this:</p>\n\n<pre><code>src\n  content\n     about\n       file1.md\n       file2.md\n     services\n       somefile.md\n       another.md\n  pages\n     about\n       index.js\n\n// etc.\n</code></pre>\n\n<p>an example of a markdown-file is:</p>\n\n<pre><code>---\nkey: about\ntitle: some title\n---\n## this is some section header\n\nthis is some dummy text\n</code></pre>\n\n<p>then I have my react file e.g. for example the about page, where I want to display all the <code>markdown</code>-files which are located in the <code>content/about</code>-folder..</p>\n\n<pre><code>import React from \"react\"\n\nconst AboutPage = ({data}) =&gt; {\n\n   return(\n       &lt;div&gt;\n        // here the markdown data should be displayed\n      &lt;/div&gt;\n   ) \n}\n</code></pre>\n\n<p>Can I do a <code>graphql</code>-query specific for this page only? Could I fetch the data by querying the key or should I set a path value?</p>\n\n<p>Any suggestions are welcome...</p>\n"}, {"tags": ["javascript", "document", "byte-order-mark"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1518044858, "post_id": 48674346, "comment_id": 84348115, "body": "I am guessing you probably can, but we can&#39;t with the information provided."}, {"owner": {"reputation": 99, "user_id": 9324573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54bd259b574ee178756b5cf4bc4e5324?s=128&d=identicon&r=PG&f=1", "display_name": "subzero", "link": "https://stackoverflow.com/users/9324573/subzero"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1518044955, "post_id": 48674346, "comment_id": 84348150, "body": "What you mean ?  I tried something like :  var Reg = /0xFEFF/i;  \t\t\tconsole.log(Reg.test(document.body.innerHTML)); \t\t\tdocument.body.innerHTML.replace(Reg, &#39;&#39;);  Test() return true, but replace() didn&#39;t replace anything."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1518045147, "post_id": 48674346, "comment_id": 84348219, "body": "and replacing the whole innerHTML is a bad idea if you have event handlers and such attached to it. Is the character in a certain location of the document?"}, {"owner": {"reputation": 99, "user_id": 9324573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54bd259b574ee178756b5cf4bc4e5324?s=128&d=identicon&r=PG&f=1", "display_name": "subzero", "link": "https://stackoverflow.com/users/9324573/subzero"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1518045240, "post_id": 48674346, "comment_id": 84348254, "body": "At least one of them is a big issue. Right after the body tag."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1518045298, "post_id": 48674346, "comment_id": 84348274, "body": "So it is after the opening tag? Like can you actually show us a snipplet of code?"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1518045698, "post_id": 48674346, "comment_id": 84348413, "body": "<code>document.body.innerHTML = document.body.innerHTML.replace(String.fromCharCode(65279), &quot;&quot; )</code> would work, but it is not a good solution."}, {"owner": {"reputation": 99, "user_id": 9324573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54bd259b574ee178756b5cf4bc4e5324?s=128&d=identicon&r=PG&f=1", "display_name": "subzero", "link": "https://stackoverflow.com/users/9324573/subzero"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1518045841, "post_id": 48674346, "comment_id": 84348474, "body": "What would be a good solution ?"}], "answers": [{"tags": [], "owner": {"reputation": 127, "user_id": 10533962, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4FcZ3.jpg?s=128&g=1", "display_name": "Ahmed El-Atab", "link": "https://stackoverflow.com/users/10533962/ahmed-el-atab"}, "is_accepted": false, "score": 0, "last_activity_date": 1611523711, "creation_date": 1611523711, "answer_id": 65876161, "question_id": 48674346, "link": "https://stackoverflow.com/questions/48674346/javascript-remove-bom-from-document/65876161#65876161", "title": "Javascript remove bom from document", "body": "<p>I had faced a similar issue.</p>\n<p>The default solution is to save the document with UTF without BOM.</p>\n<p>But unexpectedly, I had pasted my JS code in the console and the red bullet had been shown. So I deleted them and copied the code from the console.\n<a href=\"https://i.stack.imgur.com/CtkbT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CtkbT.png\" alt=\"enter image description here\" /></a></p>\n"}], "owner": {"reputation": 99, "user_id": 9324573, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54bd259b574ee178756b5cf4bc4e5324?s=128&d=identicon&r=PG&f=1", "display_name": "subzero", "link": "https://stackoverflow.com/users/9324573/subzero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 835, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1611523711, "creation_date": 1518042476, "last_edit_date": 1518045452, "question_id": 48674346, "link": "https://stackoverflow.com/questions/48674346/javascript-remove-bom-from-document", "title": "Javascript remove bom from document", "body": "<p>I'm wondering if I can remove bom character like </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> &amp;#65279;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>from my document using javascript?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body style=\"background: rgb(48, 48, 48);\"&gt;&amp;#65279;\r\n\r\n\r\n\r\n\r\n&lt;script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angularjs", "angular", "hybrid"], "comments": [{"owner": {"reputation": 23126, "user_id": 64279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5xdjT.png?s=128&g=1", "display_name": "adam0101", "link": "https://stackoverflow.com/users/64279/adam0101"}, "edited": false, "score": 0, "creation_date": 1518043379, "post_id": 48674313, "comment_id": 84347547, "body": "Why the downvotes? Please explain so I can improve the question."}, {"owner": {"reputation": 23126, "user_id": 64279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5xdjT.png?s=128&g=1", "display_name": "adam0101", "link": "https://stackoverflow.com/users/64279/adam0101"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1518044061, "post_id": 48674313, "comment_id": 84347793, "body": "@MikeMcCaughan, That&#39;s not true, I did research. I found that the two frameworks can be ran side-by-side, but could not find any mention as to whether components could be ran on both sides concurrently."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1518044283, "post_id": 48674313, "comment_id": 84347879, "body": "Well, there is no evidence of that research in the question. Votes (or at least my votes) are based on the question as presented, not on guesses or speculation about what the asker may or may not have done."}, {"owner": {"reputation": 23126, "user_id": 64279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5xdjT.png?s=128&g=1", "display_name": "adam0101", "link": "https://stackoverflow.com/users/64279/adam0101"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1518044477, "post_id": 48674313, "comment_id": 84347962, "body": "@MikeMcCaughan, well now you know. I also updated the question."}], "answers": [{"tags": [], "owner": {"reputation": 1009, "user_id": 4606706, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad0a0b065d343a734ea5d87d7c2cd66f?s=128&d=identicon&r=PG&f=1", "display_name": "Tyler", "link": "https://stackoverflow.com/users/4606706/tyler"}, "is_accepted": false, "score": 0, "last_activity_date": 1518043633, "creation_date": 1518043633, "answer_id": 48674605, "question_id": 48674313, "link": "https://stackoverflow.com/questions/48674313/can-components-or-directives-be-used-in-both-angularjs-and-angular-for-a-hybrid/48674605#48674605", "title": "Can components or directives be used in both AngularJS and Angular for a hybrid app?", "body": "<p>Yes, you can run both of these side by side. Angular has a really nice <a href=\"https://angular.io/guide/upgrade\" rel=\"nofollow noreferrer\">document</a> for upgrading from AngularJS(1.x) to Angular. The key point to answer your question is</p>\n\n<blockquote>\n  <p>One of the keys to a successful upgrade is to do it incrementally, by running the two frameworks side by side in the same application, and porting AngularJS components to Angular one by one. This makes it possible to upgrade even large and complex applications without disrupting other business, because the work can be done collaboratively and spread over a period of time. The upgrade module in Angular has been designed to make incremental upgrading seamless.</p>\n</blockquote>\n\n<p>Reading through this documentation should help you achieve what you are trying to do.</p>\n"}], "owner": {"reputation": 23126, "user_id": 64279, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/5xdjT.png?s=128&g=1", "display_name": "adam0101", "link": "https://stackoverflow.com/users/64279/adam0101"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 109, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1518044466, "creation_date": 1518042358, "last_edit_date": 1518044466, "question_id": 48674313, "link": "https://stackoverflow.com/questions/48674313/can-components-or-directives-be-used-in-both-angularjs-and-angular-for-a-hybrid", "title": "Can components or directives be used in both AngularJS and Angular for a hybrid app?", "body": "<p>If I create a hybrid app using ngUpgrade for migrating AngularJS to Angular, can AngularJS directives/services that are \"upgraded\" still be used on the AngularJS side? Likewise, can Angular components that are \"downgraded\" still be used on the Angular side?</p>\n\n<p>Reading through the documentation, I found that the two frameworks can be ran side-by-side, but could not find any mention as to whether components could be ran on both sides concurrently.</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 9254073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38a3f026c124204a93129c95e99fcfd?s=128&d=identicon&r=PG&f=1", "display_name": "Roberta", "link": "https://stackoverflow.com/users/9254073/roberta"}, "edited": false, "score": 0, "creation_date": 1518053067, "post_id": 48674512, "comment_id": 84350479, "body": "This works but the errors (I need them for my older clients) dont apply - yes you havnt added them - so I added mine to your snippet, but it broke - bummer"}, {"owner": {"reputation": 1193, "user_id": 8194867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t9NIL.png?s=128&g=1", "display_name": "RyanDay", "link": "https://stackoverflow.com/users/8194867/ryanday"}, "reply_to_user": {"reputation": 1, "user_id": 9254073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38a3f026c124204a93129c95e99fcfd?s=128&d=identicon&r=PG&f=1", "display_name": "Roberta", "link": "https://stackoverflow.com/users/9254073/roberta"}, "edited": false, "score": 0, "creation_date": 1518107521, "post_id": 48674512, "comment_id": 84378734, "body": "The only way I know of to check if a page exists using JS is by using AJAX, but the page you&#39;re checking would need to be on the same domain as yours or it&#39;ll return an error every time (<a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/HTTP/CORS</a>)."}, {"owner": {"reputation": 1193, "user_id": 8194867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t9NIL.png?s=128&g=1", "display_name": "RyanDay", "link": "https://stackoverflow.com/users/8194867/ryanday"}, "reply_to_user": {"reputation": 1, "user_id": 9254073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38a3f026c124204a93129c95e99fcfd?s=128&d=identicon&r=PG&f=1", "display_name": "Roberta", "link": "https://stackoverflow.com/users/9254073/roberta"}, "edited": false, "score": 0, "creation_date": 1518108292, "post_id": 48674512, "comment_id": 84379255, "body": "Check edits for how you could do it from the same domain."}, {"owner": {"reputation": 1, "user_id": 9254073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38a3f026c124204a93129c95e99fcfd?s=128&d=identicon&r=PG&f=1", "display_name": "Roberta", "link": "https://stackoverflow.com/users/9254073/roberta"}, "edited": false, "score": 0, "creation_date": 1518128060, "post_id": 48674512, "comment_id": 84390025, "body": "Yes this field is going to be on the same domain as part of the landing/info page. The user (in this case clients) will go to their respective subdomains, provided they type in the right subdomain name."}, {"owner": {"reputation": 1193, "user_id": 8194867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t9NIL.png?s=128&g=1", "display_name": "RyanDay", "link": "https://stackoverflow.com/users/8194867/ryanday"}, "reply_to_user": {"reputation": 1, "user_id": 9254073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38a3f026c124204a93129c95e99fcfd?s=128&d=identicon&r=PG&f=1", "display_name": "Roberta", "link": "https://stackoverflow.com/users/9254073/roberta"}, "edited": false, "score": 0, "creation_date": 1518128400, "post_id": 48674512, "comment_id": 84390160, "body": "Try out that code and let me know if it works. What it\u2019s doing is sending an asynchronous call to the potential page. If it can\u2019t find it, the call will fail which is handled with the <code>.fail</code> method. If it finds it, it will runs the <code>.done</code> method and load the page."}, {"owner": {"reputation": 1, "user_id": 9254073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38a3f026c124204a93129c95e99fcfd?s=128&d=identicon&r=PG&f=1", "display_name": "Roberta", "link": "https://stackoverflow.com/users/9254073/roberta"}, "edited": false, "score": 0, "creation_date": 1518152929, "post_id": 48674512, "comment_id": 84396729, "body": "I put that page in the public_html area and ran it as you said - it does not work - it simply resets itself and the url shows as thus: <a href=\"https://demothewebsite.com/goto.html?proceed=delmarviewdental\" rel=\"nofollow noreferrer\">demothewebsite.com/goto.html?proceed=delmarviewdental</a>"}], "tags": [], "owner": {"reputation": 1193, "user_id": 8194867, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t9NIL.png?s=128&g=1", "display_name": "RyanDay", "link": "https://stackoverflow.com/users/8194867/ryanday"}, "is_accepted": false, "score": 0, "last_activity_date": 1518128451, "last_edit_date": 1518128451, "creation_date": 1518043187, "answer_id": 48674512, "question_id": 48674308, "link": "https://stackoverflow.com/questions/48674308/push-input-text-into-jquery-and-go-to-url/48674512#48674512", "title": "Push input text into jQuery and go to URL", "body": "<p>You've just gotta create a new URL using the value you grabbed.</p>\n\n<pre><code>    &lt;script src=\"http://code.jquery.com/jquery-latest.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n&lt;div&gt;\n&lt;form method=\"get\" id=\"proceed\"&gt;\n    &lt;label&gt;Please enter the site name&lt;br&gt;&lt;sup&gt;[dot] names invalid&lt;/sup&gt;&lt;/label&gt;&lt;br&gt;\n    &lt;input type=\"text\" name=\"proceed\" id=\"proceed_texto\"  placeholder=\"Proceed to site\"/&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n\n$(\"#proceed\").on(\"submit\", function(event){     \n\n    // prevent form from being submitted\n    event.preventDefault();\n\n    // get value of text box using .val()\n    const name = $(\"#proceed_texto\").val().toLowerCase();\n    const url = 'https://' + name + '.nameofsitearea.com';\n\n    $.ajax(url)\n        .fail(() =&gt; {\n        alert('error message...')\n    })\n        .done(() =&gt; {\n        window.location.href = 'https://' + name + '.nameofsitearea.com';\n    })\n\n});\n\n&lt;/script&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 9254073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38a3f026c124204a93129c95e99fcfd?s=128&d=identicon&r=PG&f=1", "display_name": "Roberta", "link": "https://stackoverflow.com/users/9254073/roberta"}, "edited": false, "score": 0, "creation_date": 1518053154, "post_id": 48674520, "comment_id": 84350508, "body": "I wanted to get away from an array (as I mentioned earlier) that way its totally dependant upon what sub-domains are actually in place - all others throw the error msg. This means I would be constantly having to edit the file as new or disabled areas are created."}, {"owner": {"reputation": 180, "user_id": 5865347, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83f7d0d502e49258c446cc8159b66c2b?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewL", "link": "https://stackoverflow.com/users/5865347/andrewl"}, "reply_to_user": {"reputation": 1, "user_id": 9254073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38a3f026c124204a93129c95e99fcfd?s=128&d=identicon&r=PG&f=1", "display_name": "Roberta", "link": "https://stackoverflow.com/users/9254073/roberta"}, "edited": false, "score": 0, "creation_date": 1518056556, "post_id": 48674520, "comment_id": 84351295, "body": "How do you want to verify it as a real domain? Some options are, DNS lookup, database, just regex bad characters out and give it a go."}, {"owner": {"reputation": 1, "user_id": 9254073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38a3f026c124204a93129c95e99fcfd?s=128&d=identicon&r=PG&f=1", "display_name": "Roberta", "link": "https://stackoverflow.com/users/9254073/roberta"}, "edited": false, "score": 0, "creation_date": 1518127899, "post_id": 48674520, "comment_id": 84389948, "body": "I wasn&#39;t trying to verify if it&#39;s real or not - all I was trying to do is, if its there, go to it if not - show the error. I didn&#39;t want to overcomplicate it with too much stuff."}, {"owner": {"reputation": 1, "user_id": 9254073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38a3f026c124204a93129c95e99fcfd?s=128&d=identicon&r=PG&f=1", "display_name": "Roberta", "link": "https://stackoverflow.com/users/9254073/roberta"}, "edited": false, "score": 0, "creation_date": 1518156590, "post_id": 48674520, "comment_id": 84397962, "body": "I got this working using the array ( which I really don&#39;t want to use - but it looks like I have no other choice )    I added this after the error codes :    // alert(&quot;Site unavailable..(entered: &quot; + name + &quot;)&quot;);         alert(&quot;\\u2297 Sorry, demo site unavailable..\\nSubmitted \\u2666 &quot; + name + &quot; &quot;);         location.reload();         window.location.reload(true);"}, {"owner": {"reputation": 1, "user_id": 9254073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38a3f026c124204a93129c95e99fcfd?s=128&d=identicon&r=PG&f=1", "display_name": "Roberta", "link": "https://stackoverflow.com/users/9254073/roberta"}, "edited": false, "score": 0, "creation_date": 1518157250, "post_id": 48674520, "comment_id": 84398208, "body": "I realize now I may have to use the array method as it has to check the domain to see if the area exists and then return the result - and that takes way toooo long. Whereas with the array (my not seeing the trees for the forest) simply executes to the domain if the array compares to the entry *name then applied... it does show the error - I added a refresh window after the click to make sure the field does not retain previous entry. All I need to do now is add it to the page and make it look &quot;pretty&quot;"}], "tags": [], "owner": {"reputation": 180, "user_id": 5865347, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/83f7d0d502e49258c446cc8159b66c2b?s=128&d=identicon&r=PG&f=1", "display_name": "AndrewL", "link": "https://stackoverflow.com/users/5865347/andrewl"}, "is_accepted": false, "score": 0, "last_activity_date": 1518043228, "creation_date": 1518043228, "answer_id": 48674520, "question_id": 48674308, "link": "https://stackoverflow.com/questions/48674308/push-input-text-into-jquery-and-go-to-url/48674520#48674520", "title": "Push input text into jQuery and go to URL", "body": "<p>Are you trying to do something like this? I added the part of looking to see if it is in an array.</p>\n\n<pre><code>// get value of text box using .val()\nname = $(\"#proceed_texto\").val();\nnames = [\"apple\", \"other\"]\n// compare lower case, as you don't know what they will enter into the field\nif (names.indexOf(name.toLowerCase()) !== -1)\n{\n    // redirect the user.. \n    window.location.href = \"https://\" + name.toLowerCase() + \".com\";\n    // need to redirect to subdomain based on name\n}\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 9254073, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a38a3f026c124204a93129c95e99fcfd?s=128&d=identicon&r=PG&f=1", "display_name": "Roberta", "link": "https://stackoverflow.com/users/9254073/roberta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 349, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1518128451, "creation_date": 1518042346, "question_id": 48674308, "link": "https://stackoverflow.com/questions/48674308/push-input-text-into-jquery-and-go-to-url", "title": "Push input text into jQuery and go to URL", "body": "<p>I have a demonstration area where I can show clients what their mockups (in sub domains) will look like.</p>\n\n<p>The area where the demos will be, will always be the same.</p>\n\n<p>The demos sites names correspond to the actual name of the site being redeveloped.</p>\n\n<p>I am putting together a form where a user can type in their site name and the page will redirect to the subdomain where the demo site is.</p>\n\n<p>I have it mostly done, however, my jquery skills are not the best and I am in a quandary at the moment. If you look at my code I have apple as the name (keyword) and it goes to apple.com. However the idea is to \"push\" the name from the field, into the address, like:</p>\n\n<pre><code>window.location.href = \"https://insertedname.nameofsitearea.com/\";\n</code></pre>\n\n<p>Inserted name will come from the input and, the (I changed the name of the domain) nameofsitearea is where the subdomains are.</p>\n\n<p>That way I dont need an array of names, the only thing needed is an actual subdomain and that will dynamically be always current; obviously dependent on the subdomain being active.</p>\n\n<p>Here is the code I have right right now (I tried to add arrays but it errored out, probably because of the way I was writing it, but as I said my skills... :( )</p>\n\n<p>This would probably be much nicer with a jquery modal but I can only implement what I know how to do, sorry.</p>\n\n<p>Code I'm using;</p>\n\n<pre><code>&lt;script src=\"http://code.jquery.com/jquery-latest.min.js\" type=\"text/javascript\"&gt;&lt;/script&gt;\n\n&lt;div&gt;\n&lt;form method=\"get\" id=\"proceed\"&gt;\n    &lt;label&gt;Please enter the site name&lt;br&gt;&lt;sup&gt;[dot] names invalid&lt;/sup&gt;&lt;/label&gt;&lt;br&gt;\n    &lt;input type=\"text\" name=\"proceed\" id=\"proceed_texto\"  placeholder=\"Proceed to site\"/&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n\n&lt;script&gt;\n\n$(\"#proceed\").on(\"submit\", function(event){     \n\n// prevent form from being submitted\nevent.preventDefault();\n\n// get value of text box using .val()\nname = $(\"#proceed_texto\").val();\n\n// compare lower case, as you don't know what they will enter into the field\nif (name.toLowerCase() == \"apple\")\n{\n    // redirect the user.. \n    window.location.href = \"https://apple.com\";\n    // need to redirect to subdomain based on name\n}\nelse\n{\n    alert(\"\\u2297 Sorry, demo site unavailable.. \\n--------------------------------------\\nError variables:\\n\\u2022 Any [dot] addition not valid.\\n   EG: ( .com  .net  .org )\\n--------------------------------------\\n\\t\\u2022 Name entered was incorrect\\n\\t\\u2022 Name entered was misspelled\\n\\t\\u2022 The site does not exist\\n\\t\\u2022 The site is now live\\n--------------------------------------\\nSubmitted \\u2666 \" + name + \" \");\n}\n});\n\n&lt;/script&gt;\n</code></pre>\n\n<p>Hope this makes sense....</p>\n"}, {"tags": ["javascript", "relative-path", "absolute-path", "es6-modules"], "comments": [{"owner": {"reputation": 469, "user_id": 4276832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54e4c0ba83e8159ea9b62bf133d44308?s=128&d=identicon&r=PG", "display_name": "bsinky", "link": "https://stackoverflow.com/users/4276832/bsinky"}, "edited": false, "score": 0, "creation_date": 1518042586, "post_id": 48674303, "comment_id": 84347188, "body": "Is the intention to run this code in a browser or NodeJS environment?"}, {"owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "reply_to_user": {"reputation": 469, "user_id": 4276832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/54e4c0ba83e8159ea9b62bf133d44308?s=128&d=identicon&r=PG", "display_name": "bsinky", "link": "https://stackoverflow.com/users/4276832/bsinky"}, "edited": false, "score": 0, "creation_date": 1518042824, "post_id": 48674303, "comment_id": 84347300, "body": "@bsinky In a browser. =)"}, {"owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1518045998, "post_id": 48674303, "comment_id": 84348532, "body": "@PatrickRoberts Quotes? ...?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1518046212, "post_id": 48674303, "comment_id": 84348607, "body": "@jfriend00 that&#39;s not a duplicate, your link assumes there is an explicit reference to an absolute path to start from, that is not the case here."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1518046342, "post_id": 48674303, "comment_id": 84348649, "body": "@PatrickRoberts - In a browser, the absolute reference is the path of the page.  There is no file access from Javascript so if you&#39;re really asking about browser, you must be talking about relative URLs, right?  If not, then please clarify your question.  And, for URLs in a browser, look at the 2nd answer and the <code>URL()</code> object.  The question, btw, seems identical to yours.  You may be reacting to the accepted answer which asks you to pass a base path (which was not part of the question), but there are other answers that don&#39;t require you to pass a base path.  Looks like a pure dup to me."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1518046518, "post_id": 48674303, "comment_id": 84348708, "body": "@jfriend00 this question is about resolving a URL relative to the path of the experimental module that calls the function. I suspect there might be a solution involving <code>document.currentScript.src</code>, though I cannot confirm this as I don&#39;t have an easy way to test. But it&#39;s definitely not a duplicate."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1518046652, "post_id": 48674303, "comment_id": 84348775, "body": "@PatrickRoberts - The question sure isn&#39;t very clear to me in that regard.  Anyway, I reopened."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1518047630, "post_id": 48674303, "comment_id": 84349047, "body": "@Yairopro I tried to make a test but I can&#39;t because of CORS. I think a more promising approach involves a hack creating an error object within <code>ResolveUrl()</code> and inspecting its <code>stack</code> property for a reference to the base URL of the calling module. I hope that helps."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1518047931, "post_id": 48674303, "comment_id": 84349120, "body": "I also found <a href=\"https://www.npmjs.com/package/error-polyfill\" rel=\"nofollow noreferrer\">this</a> which might make this approach more robust by using <code>Error.captureStackTrace()</code>."}, {"owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1518049506, "post_id": 48674303, "comment_id": 84349548, "body": "@PatrickRoberts Thanks a lot for helping me keeping this question opened.   Using <code>document.currentScript.src</code> doesn&#39;t help because when executing from module js files, <code>document.currentScript</code> is <code>undefined</code> (known from test).  Furthermore I really like your approach user the call stack. Concerning the <code>error-polyfill</code> library, I didn&#39;t find any way to execute it in a browser. It says it&#39;s possible in the read-me, but I didn&#39;t manage to, since it uses <code>require</code> function.."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1518051576, "post_id": 48674303, "comment_id": 84350124, "body": "@Yairopro you need to transform it using something like webpack or browserify. It&#39;s very involved, but far from impossible."}, {"owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "reply_to_user": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1518100546, "post_id": 48674303, "comment_id": 84373728, "body": "@PatrickRoberts solved. Thanks for your advice. I prefered to use <a href=\"https://www.stacktracejs.com/\" rel=\"nofollow noreferrer\">stacktrace.js</a> since it&#39;s <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error/Stack#See_also\" rel=\"nofollow noreferrer\">the recomended library from MDN</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "is_accepted": true, "score": 1, "last_activity_date": 1610223600, "last_edit_date": 1610223600, "creation_date": 1518099999, "answer_id": 48687798, "question_id": 48674303, "link": "https://stackoverflow.com/questions/48674303/resolve-relative-path-to-absolute-url-from-es6-module-in-browser/48687798#48687798", "title": "Resolve relative path to absolute url from ES6 module (in browser)", "body": "<h1>\ud83c\udf89 You can now use <a href=\"https://www.npmjs.com/package/to-absolute-url\" rel=\"nofollow noreferrer\">to-absolute-url</a>.</h1>\n<p>It uses <a href=\"https://www.stacktracejs.com/\" rel=\"nofollow noreferrer\">stacktrace.js</a> under the hoods to get the caller function's absolute path file:</p>\n<p>Thanks to <a href=\"https://stackoverflow.com/users/1541563/patrick-roberts\">@PatrickRoberts</a> for his idea to use stacktrace, and <a href=\"https://stackoverflow.com/users/816620/jfriend00\">@jfriend00</a> for his tip to use <code>URL</code> object.</p>\n"}], "owner": {"reputation": 5759, "user_id": 4170935, "user_type": "registered", "accept_rate": 52, "profile_image": "https://i.stack.imgur.com/J9I6b.png?s=128&g=1", "display_name": "Yairopro", "link": "https://stackoverflow.com/users/4170935/yairopro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1089, "favorite_count": 0, "accepted_answer_id": 48687798, "answer_count": 1, "score": 3, "last_activity_date": 1610223600, "creation_date": 1518042336, "last_edit_date": 1518110583, "question_id": 48674303, "link": "https://stackoverflow.com/questions/48674303/resolve-relative-path-to-absolute-url-from-es6-module-in-browser", "title": "Resolve relative path to absolute url from ES6 module (in browser)", "body": "<p><strong>How to resolve relative path to absolute url in ES6 module (in browser)?</strong></p>\n\n<p>For example :</p>\n\n<pre><code>base-url.com/\n    |-resolve\n    |   |-resolveUrl.js\n    |-dir\n        |-dir1\n            |-module1.js\n        |-dir2\n            |-module2.js\n</code></pre>\n\n<p>module1.js</p>\n\n<pre><code>import resolveUrl from \"../../../resolve/resolveUrl.js\"\nresolveUrl(\"../dir2/module2.js\") // return 'base-url.com/dir/dir2/module2.js'\n</code></pre>\n\n<p>What would be the <code>resolveUrl</code> implementation?</p>\n\n<p><code>base-url.com/</code> may not be the web-site's domain. It can be a repo where only sources are stored.</p>\n"}, {"tags": ["javascript", "html", "css", "flexbox"], "answers": [{"tags": [], "owner": {"reputation": 62744, "user_id": 483779, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/iA9bc.png?s=128&g=1", "display_name": "Stickers", "link": "https://stackoverflow.com/users/483779/stickers"}, "is_accepted": false, "score": 2, "last_activity_date": 1518139277, "last_edit_date": 1518139277, "creation_date": 1518042840, "answer_id": 48674422, "question_id": 48674300, "link": "https://stackoverflow.com/questions/48674300/how-to-prevent-a-textarea-that-resizes-from-overflowing-the-page/48674422#48674422", "title": "How to prevent a TextArea that resizes from overflowing the page?", "body": "<p>I think you can use  <code>max-width</code> and <code>max-height</code>:</p>\n\n<pre><code>textarea {\n  ...\n  max-width: 100%;\n  max-height: 100%;\n}\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>I simplified both HTML and CSS, snippet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>autosize(document.getElementById(\"note\"));\r\n$(\".textAreaClickCapturer\").mouseup(function() {\r\n  $(\"#note\").focus();\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html, body, form {\r\n  height: 100%;\r\n}\r\n\r\nbody {\r\n  background: #efefef;\r\n  margin: 0;\r\n}\r\n\r\nform {\r\n  display: flex;\r\n  align-items: center; /*center vertically*/\r\n  padding: 24px;\r\n  box-sizing: border-box;\r\n}\r\n\r\ntextarea {\r\n  font-size: 20px;\r\n  text-align: center;\r\n  width: 100%;\r\n  max-width: 100%;\r\n  max-height: 100%;\r\n  box-sizing: border-box;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://rawgit.com/jackmoore/autosize/master/dist/autosize.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;form class=\"textAreaClickCapturer\" action=\"/\"&gt;\r\n  &lt;textarea id=\"note\" placeholder=\"Say something...\" rows=\"3\"&gt;&lt;/textarea&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 306, "user_id": 8067748, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213784748239561/picture?type=large", "display_name": "Michael Goetti", "link": "https://stackoverflow.com/users/8067748/michael-goetti"}, "is_accepted": false, "score": 0, "last_activity_date": 1518043096, "creation_date": 1518043096, "answer_id": 48674486, "question_id": 48674300, "link": "https://stackoverflow.com/questions/48674300/how-to-prevent-a-textarea-that-resizes-from-overflowing-the-page/48674486#48674486", "title": "How to prevent a TextArea that resizes from overflowing the page?", "body": "<p>I tried the following in your pen:</p>\n\n<p>In the textarea selector in CSS, add:</p>\n\n<p><code>max-height: 90%;\n overflow: auto;</code></p>\n\n<p>This gives you a scrollbar if the content entered exceeds the max height, and the max-height is controlled by the containing div's size.</p>\n"}, {"tags": [], "owner": {"reputation": 65, "user_id": 6735626, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K5KHH.jpg?s=128&g=1", "display_name": "Jake", "link": "https://stackoverflow.com/users/6735626/jake"}, "is_accepted": false, "score": 0, "last_activity_date": 1518043181, "creation_date": 1518043181, "answer_id": 48674511, "question_id": 48674300, "link": "https://stackoverflow.com/questions/48674300/how-to-prevent-a-textarea-that-resizes-from-overflowing-the-page/48674511#48674511", "title": "How to prevent a TextArea that resizes from overflowing the page?", "body": "<p>Add a max height, like the others have said, me personally I prefer to use vh when relating to height in your situation. So in your pen it would just be:</p>\n\n<pre><code>textarea {\n  border: none;\n  border-radius: 0;\n  font-size: 21px;\n  line-height: 28px;\n  padding: 0;\n  vertical-align: top;\n  width: 100%;\n  text-align: center;\n  max-height:50vh;\n}\n</code></pre>\n\n<p>and you're squared away. Your vertical overflow is scrolling by default so there really isn't any more you have to do.</p>\n"}, {"tags": [], "owner": {"reputation": 78750, "user_id": 2827823, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/1pdiw.png?s=128&g=1", "display_name": "Ason", "link": "https://stackoverflow.com/users/2827823/ason"}, "is_accepted": true, "score": 3, "last_activity_date": 1518262625, "last_edit_date": 1518262625, "creation_date": 1518043426, "answer_id": 48674565, "question_id": 48674300, "link": "https://stackoverflow.com/questions/48674300/how-to-prevent-a-textarea-that-resizes-from-overflowing-the-page/48674565#48674565", "title": "How to prevent a TextArea that resizes from overflowing the page?", "body": "<p>The main reason is that when using <code>align-items: center</code> and/or <code>justify-content: center</code>, the element overflow its parent both at, in this case, top/bottom.</p>\n\n<p>To solve that, one need to use auto margin's instead, and with that be able to control the alignment both vertical and horizontal, top/bottom, left/right, etc.</p>\n\n<p>You also had a lot of <code>height: 100%</code> in your code (which I cleaned up), and combined with Flexbox, that cause more issues, so instead use Flexbox's own properties, e.g. here <code>flex: 1</code> on flex column items, that will fill the parent's height.</p>\n\n<p><em>Also added <code>min-height: 0</code> so Firefox play along.</em></p>\n\n<p><a href=\"https://codepen.io/anon/pen/KQNePy\" rel=\"nofollow noreferrer\">Updated codepen</a></p>\n\n<p>Stack snippet </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>autosize(document.getElementById(\"note\"));\r\n\r\n$( \".textAreaClickCapturer\" ).mouseup(function() {\r\n  $( \"#note\" ).focus();\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html,\r\nbody {\r\n  margin: 0;\r\n  height: 100%;\r\n}\r\nbody {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n.page-body.fullScreen {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  background: #efefef;\r\n  min-height: 0;\r\n}\r\n\r\nform {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 0;\r\n}\r\n\r\nform .textAreaClickCapturer {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 0;\r\n}\r\n\r\nform .field {\r\n  flex: 1;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 0;\r\n  padding: 24px;\r\n}\r\n\r\ntextarea {\r\n  border: none;\r\n  border-radius: 0;\r\n  font-size: 21px;\r\n  padding: 0;\r\n  width: 90%;\r\n  text-align: center;\r\n  overflow: auto;\r\n  margin: auto;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://rawgit.com/jackmoore/autosize/master/dist/autosize.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"page-body fullScreen \"&gt;\r\n  &lt;form action=\"/\"&gt;\r\n    &lt;div class=\"textAreaClickCapturer\" role=\"presentation\"&gt;\r\n      &lt;div class=\"field\"&gt;\r\n        &lt;textarea id=\"note\" placeholder=\"Say something...\" rows=\"3\"&gt;&lt;/textarea&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/form&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 97172, "user_id": 149080, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/685eca46bfebf9233cc276b415a74ddb?s=128&d=identicon&r=PG", "display_name": "AnApprentice", "link": "https://stackoverflow.com/users/149080/anapprentice"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 0, "accepted_answer_id": 48674565, "answer_count": 4, "score": 0, "last_activity_date": 1518262625, "creation_date": 1518042328, "question_id": 48674300, "link": "https://stackoverflow.com/questions/48674300/how-to-prevent-a-textarea-that-resizes-from-overflowing-the-page", "title": "How to prevent a TextArea that resizes from overflowing the page?", "body": "<p>I'm working to create a TextArea that is horizontally and vertically centered in the page. Given that I need the TextArea to be vertically centered, I can't have the textarea be 100w and 100h, I need it to start with a small height and then grow as the user types. I also need a click capturer so if the user clicks the area surrounding the textarea, the textarea focuses. (the gray bkg is just for debugging purposes)</p>\n\n<p>I have a demo on CodePen here: <a href=\"https://codepen.io/anon/pen/OQbvxa\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/OQbvxa</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>autosize(document.getElementById(\"note\"));\r\n\r\n$( \".textAreaClickCapturer\" ).mouseup(function() {\r\n  $( \"#note\" ).focus();\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>html, body {\r\n    margin: 0;\r\n    padding: 0;\r\n    display: flex;\r\n    flex-direction: column;\r\n    height: 100%;\r\n    width: 100%;\r\n}\r\n.page-body.fullScreen {\r\n  display: flex;\r\n  flex: 1 1;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  width: 100%;\r\n  background: #EFEFEF;\r\n  text-align: left;\r\n  padding: 0!important;\r\n  align-items: normal;\r\n  justify-content: normal;\r\n}\r\n\r\nform {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\nform .textAreaClickCapturer {\r\n  width: 100%;\r\n  height: 100%;\r\n  display: flex;\r\n  overflow: hidden;\r\n  align-items: center\r\n}\r\n\r\nform .field {\r\n  width: 100%;\r\n  margin: 0;\r\n  padding: 24px;\r\n  clear: both;\r\n  max-height: max-content;\r\n  height: 100%;\r\n  align-items: center;\r\n}\r\n\r\ntextarea {\r\n  border: none;\r\n  border-radius: 0;\r\n  font-size: 21px;\r\n  line-height: 28px;\r\n  padding: 0;\r\n  vertical-align: top;\r\n  width: 100%;\r\n  text-align: center;\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://rawgit.com/jackmoore/autosize/master/dist/autosize.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"page-body fullScreen \"&gt;\r\n  &lt;form action=\"/\"&gt;\r\n    &lt;div class=\"textAreaClickCapturer\" role=\"presentation\"&gt;\r\n      &lt;div class=\"field\"&gt;\r\n        &lt;textarea id=\"note\" placeholder=\"Say something...\" rows=\"3\"&gt;&lt;/textarea&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/form&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>When you type in multiple lines, the TextArea does grow nicely but eventually, the TextArea grows pasts the size of the screen causing it to break.</p>\n\n<p>How can I get the TextArea are to grow where the TextArea doesn't go behind the page and break but has a working overflow to handle lots of text?</p>\n\n<p>Desired Initial Experience\n<a href=\"https://i.stack.imgur.com/iDSKm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iDSKm.png\" alt=\"Desired Initial Experience\"></a></p>\n\n<p>Broken UI, when the textarea grows past the surrounding div.\n<a href=\"https://i.stack.imgur.com/htbVY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/htbVY.png\" alt=\"bad broken ui\"></a></p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "node.js", "loops", "if-statement", "console.log"], "answers": [{"tags": [], "owner": {"reputation": 91104, "user_id": 613198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0a8a4fb43f9c19b3391a7b1066d491f?s=128&d=identicon&r=PG", "display_name": "rsp", "link": "https://stackoverflow.com/users/613198/rsp"}, "is_accepted": true, "score": 0, "last_activity_date": 1519695155, "last_edit_date": 1519695155, "creation_date": 1518042925, "answer_id": 48674443, "question_id": 48674289, "link": "https://stackoverflow.com/questions/48674289/javascript-nodejs-give-a-string-not-found-messege-on-console-log/48674443#48674443", "title": "Javascript,nodejs: give a &quot;string not found&quot; messege on console.log", "body": "<p>Change:</p>\n\n<pre><code>if (!regex.test(fileContent)) {\n        console.log(`Noting found`);\n        // ...\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>if (!printed &amp;&amp; !regex.test(fileContent)) {\n        console.log(`Noting found`);\n        printed = true;\n        // ...\n</code></pre>\n\n<p>and make sure that you have a variable called <code>printed</code> defined in outer scope, originally falsy.</p>\n"}], "owner": {"reputation": 324, "user_id": 9297088, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/rdnqV.jpg?s=128&g=1", "display_name": "Anatsu", "link": "https://stackoverflow.com/users/9297088/anatsu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 42, "favorite_count": 0, "accepted_answer_id": 48674443, "answer_count": 1, "score": 1, "last_activity_date": 1519695155, "creation_date": 1518042294, "question_id": 48674289, "link": "https://stackoverflow.com/questions/48674289/javascript-nodejs-give-a-string-not-found-messege-on-console-log", "title": "Javascript,nodejs: give a &quot;string not found&quot; messege on console.log", "body": "<p>The code listed below searches for files that\ncontains a specified string under it's directory/subdirectories.</p>\n\n<p>to activate it, you type <em>node [jsfilename] [folder] [filename] [ext]</em>\ni would also like it to announce: <em>Nothing found</em> in a console.log every time that\na word wasn't found.</p>\n\n<p>ive tried </p>\n\n<pre><code>if (!regex.test(fileContent)) {\n        console.log(`Noting found`);\n</code></pre>\n\n<p>it works only if you have one file without your word, but if not ,it loops.\nfor example if you have 4 files and one of them has the string it wil show\n<em>Your word was found in directory: [file]</em>\n<em>Noting found</em>\n<em>Noting found</em>\n<em>Noting found</em>.</p>\n\n<p>So, how can i stop the loop after one <code>!found</code> console.log and how can i prevent it from showing in case of something has found?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const path = require('path');\r\nconst fs = require('fs');\r\n\r\nfunction searchFilesInDirectory(dir, filter, ext) {\r\n    if (!fs.existsSync(dir)) {\r\n        console.log(`Specified directory: ${dir} does not exist`);\r\n        return;\r\n    }\r\n\r\n    const files = fs.readdirSync(dir);\r\n    const found = getFilesInDirectory(dir, ext);\r\n\r\n    found.forEach(file =&gt; {\r\n        const fileContent = fs.readFileSync(file);\r\n\r\n\r\n        const regex = new RegExp('\\\\b' + filter + '\\\\b');\r\n        if (regex.test(fileContent)) {\r\n            console.log(`Your word was found in directory: ${file}`);\r\n        }\r\n    });\r\n}\r\n\r\n\r\n\r\nfunction getFilesInDirectory(dir, ext) {\r\n    if (!fs.existsSync(dir)) {\r\n        console.log(`Specified directory: ${dir} does not exist`);\r\n        return;\r\n    }\r\n\r\n    let files = [];\r\n    fs.readdirSync(dir).forEach(file =&gt; {\r\n        const filePath = path.join(dir, file);\r\n        const stat = fs.lstatSync(filePath);\r\n\r\n  \r\n        if (stat.isDirectory()) {\r\n            const nestedFiles = getFilesInDirectory(filePath, ext);\r\n            files = files.concat(nestedFiles);\r\n        } else {\r\n            if (path.extname(file) === ext) {\r\n                files.push(filePath);\r\n            }\r\n        }\r\n    });\r\n\r\n    return files;\r\n}\r\n\r\nsearchFilesInDirectory(process.argv[2], process.argv[3], process.argv[4]);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "video", "mobile", "aframe"], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 9193632, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/28b8c9fee719d1aac9b440063c2f70e7?s=128&d=identicon&r=PG&f=1", "display_name": "C. West", "link": "https://stackoverflow.com/users/9193632/c-west"}, "edited": false, "score": 0, "creation_date": 1518105114, "post_id": 48674682, "comment_id": 84377088, "body": "You&#39;re all over it man. Thanks again. I&#39;ll try it out and let you know how it goes. I guess that makes sense. I would have never guessed that there&#39;s so many hoops to jump through to get it to work. It seems like there just has to be deliberate loading of the scene in its entirety to get other features to work on mobile. I&#39;ll keep this in mind when dealing with other features!"}, {"owner": {"reputation": 27, "user_id": 9193632, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/28b8c9fee719d1aac9b440063c2f70e7?s=128&d=identicon&r=PG&f=1", "display_name": "C. West", "link": "https://stackoverflow.com/users/9193632/c-west"}, "edited": false, "score": 0, "creation_date": 1518105605, "post_id": 48674682, "comment_id": 84377432, "body": "Worked like a charm on both Android and iOS! Man, I&#39;ve been battling this issue for days! Thanks again!"}], "tags": [], "owner": {"reputation": 806, "user_id": 8005106, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fgj1y.png?s=128&g=1", "display_name": "Noam Almosnino", "link": "https://stackoverflow.com/users/8005106/noam-almosnino"}, "is_accepted": true, "score": 0, "last_activity_date": 1518044092, "creation_date": 1518044092, "answer_id": 48674682, "question_id": 48674269, "link": "https://stackoverflow.com/questions/48674269/a-frame-how-do-i-add-a-button-inside-of-the-a-scene-tags-that-plays-video-on-mo/48674682#48674682", "title": "A-Frame: How do I add a button INSIDE of the a-scene tags that plays video on mobile?", "body": "<p>You'll still need the splash screen to init the video on mobile, then once it's triggered (activated via user gesture) you can apply an a-frame event to play it. The reason is that WebGL events are not considered user actions and are treated like JS triggered events instead.</p>\n\n<p>Dom's description from this issue:</p>\n\n<p><a href=\"https://github.com/aframevr/aframe/issues/1463#issuecomment-308138947\" rel=\"nofollow noreferrer\">https://github.com/aframevr/aframe/issues/1463#issuecomment-308138947</a></p>\n\n<blockquote>\n  <p>The problem is that interaction within an A-Frame scene doesn't count. The browser can't tell what's going on inside WebGL, so it has to assume those events are just generated by arbitrary JS. You need an old-fashioned physical touchstart or click event, triggered by the user's finger (or Cardboard button) and not by a fuse or gaze cursor. Gamepad buttons might also count. I don't know of a live example of this though.</p>\n</blockquote>\n\n<p>Here's the modified example from the last one that might be of help:\nWhen the start button in the splash screen is clicked, it will play, then pause the video right away to satisfy the user gesture requirement.</p>\n\n<p>Then I added a click handler to the play button (inside the VR scene) that should allow you to play the video. Like before, your milage may vary with the different browsers.</p>\n\n<p><a href=\"https://glitch.com/edit/#!/a-frame-video-click-play-inside-scene\" rel=\"nofollow noreferrer\">https://glitch.com/edit/#!/a-frame-video-click-play-inside-scene</a></p>\n\n<pre><code>  document.addEventListener(\"DOMContentLoaded\", function(event) {\n    var scene = document.querySelector(\"a-scene\");\n    var vid = document.getElementById(\"video\");\n    var videoShere = document.getElementById(\"videoShere\");\n    var playButton = document.getElementById(\"playButton\");\n\n    if (scene.hasLoaded) {\n      run();\n    } else {\n      scene.addEventListener(\"loaded\", run);\n    }\n\n    playButton.addEventListener('click', function() {\n      playVideo();\n    });\n\n    function run () {\n      if(AFRAME.utils.device.isMobile()) {\n        document.querySelector('#splash').style.display = 'flex';\n        document.querySelector('#splash').addEventListener('click', function () {\n          initVideo();\n          this.style.display = 'none';\n        })\n      } else {\n          initVideo();\n      }\n    }\n\n    function initVideo () {\n      vid.play();\n      vid.pause();\n      videoShere.components.material.material.map.image.play();\n      videoShere.components.material.material.map.image.pause();\n    }\n\n    function playVideo () {\n      vid.play();\n      videoShere.components.material.material.map.image.play();\n    }\n   })\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 27, "user_id": 9193632, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/28b8c9fee719d1aac9b440063c2f70e7?s=128&d=identicon&r=PG&f=1", "display_name": "C. West", "link": "https://stackoverflow.com/users/9193632/c-west"}, "edited": false, "score": 0, "creation_date": 1518105704, "post_id": 48678240, "comment_id": 84377498, "body": "That&#39;s interesting. I didn&#39;t know there was an npm option for this. I&#39;ll keep this mind because I use buttons throughout every project I use. Thanks!"}, {"owner": {"reputation": 63, "user_id": 9018568, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-Y_UmMvXKj7Y/AAAAAAAAAAI/AAAAAAAAATA/3PViOLC9W18/photo.jpg?sz=128", "display_name": "Falak Sabbir", "link": "https://stackoverflow.com/users/9018568/falak-sabbir"}, "reply_to_user": {"reputation": 27, "user_id": 9193632, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/28b8c9fee719d1aac9b440063c2f70e7?s=128&d=identicon&r=PG&f=1", "display_name": "C. West", "link": "https://stackoverflow.com/users/9193632/c-west"}, "edited": false, "score": 0, "creation_date": 1518152620, "post_id": 48678240, "comment_id": 84396663, "body": "You are welcome. Yes that&#39;s interesting and I used that."}], "tags": [], "owner": {"reputation": 63, "user_id": 9018568, "user_type": "registered", "accept_rate": 50, "profile_image": "https://lh6.googleusercontent.com/-Y_UmMvXKj7Y/AAAAAAAAAAI/AAAAAAAAATA/3PViOLC9W18/photo.jpg?sz=128", "display_name": "Falak Sabbir", "link": "https://stackoverflow.com/users/9018568/falak-sabbir"}, "is_accepted": false, "score": 0, "last_activity_date": 1518067799, "creation_date": 1518067799, "answer_id": 48678240, "question_id": 48674269, "link": "https://stackoverflow.com/questions/48674269/a-frame-how-do-i-add-a-button-inside-of-the-a-scene-tags-that-plays-video-on-mo/48678240#48678240", "title": "A-Frame: How do I add a button INSIDE of the a-scene tags that plays video on mobile?", "body": "<p><a href=\"https://www.npmjs.com/package/aframe-gui\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/aframe-gui</a> </p>\n\n<p>Use this npm. This is for creating button in a scene using a-frame. You can add button using this npm. </p>\n"}], "owner": {"reputation": 27, "user_id": 9193632, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/28b8c9fee719d1aac9b440063c2f70e7?s=128&d=identicon&r=PG&f=1", "display_name": "C. West", "link": "https://stackoverflow.com/users/9193632/c-west"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1496, "favorite_count": 0, "accepted_answer_id": 48674682, "answer_count": 2, "score": 0, "last_activity_date": 1518067799, "creation_date": 1518042214, "question_id": 48674269, "link": "https://stackoverflow.com/questions/48674269/a-frame-how-do-i-add-a-button-inside-of-the-a-scene-tags-that-plays-video-on-mo", "title": "A-Frame: How do I add a button INSIDE of the a-scene tags that plays video on mobile?", "body": "<p>I've created an A-Frame project that has a video inside of the scene. The video works as intended while in both desktop and mobile. The issue I'm having is that only the desktop version will allow me to have a button within the a-scene tags that plays the video, whereas the mobile version only allows me to use a button if it's OUTSIDE of the a-scene tags, like in a div wrapper. The logic to load and play the video and work the button works on both desktop and mobile, the only difference is when I target the logic to a button inside of the a-scene tags. As grateful as I am that the video is playing on mobile, I would really like to have a \"VR\" like button inside of the scene. As of now, the button that works on mobile acts more like a VR toggle button that initiates the scene and starts the video. That's not really the desired behavior I'm going for. FYI, I'm using the same type of a-image buttons throughout the scene to toggle actual images and static content and they work very well. It just seems to be having issues with video playback. This question is a follow up to another issue I had (resolved), found <a href=\"https://stackoverflow.com/questions/48669965/videosphere-not-playing-video-in-a-frame-even-after-following-other-guidance/48670859?noredirect=1#comment84342699_48670859\">here</a>.</p>\n\n<p>This works on desktop, but not mobile:</p>\n\n<pre><code>&lt;body&gt;\n\n &lt;a-scene&gt;\n\n  &lt;a-assets&gt;\n   &lt;img id=\"buttonImg\" src=\"button.png\"&gt;\n   &lt;video id=\"video\" src=\"video.mp4\" webkit-playsinline&gt;&lt;/video&gt;\n  &lt;/a-assets&gt;\n\n  &lt;a-image id=\"playButton\" src=\"#buttonImg\"&gt;&lt;/a-image&gt;\n\n  &lt;a-videosphere id=\"videoShere\" loop=\"true\" src=\"#video\"&gt;&lt;/a-videoshpere&gt;\n\n &lt;/a-scene&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p>This works on both desktop and mobile:</p>\n\n<pre><code>&lt;body&gt;\n\n &lt;div id=\"canvas\"&gt;\n  &lt;div id=\"startButton\"&gt;Play&lt;/div&gt;\n &lt;/div&gt;\n\n &lt;a-scene&gt;\n\n  &lt;a-assets&gt;\n   &lt;img id=\"buttonImg\" src=\"button.png\"&gt;\n   &lt;video id=\"video\" src=\"video.mp4\" webkit-playsinline&gt;&lt;/video&gt;\n  &lt;/a-assets&gt;\n\n  &lt;!--&lt;a-image id=\"playButton\" src=\"#buttonImg\"&gt;&lt;/a-image&gt;--&gt;\n\n  &lt;a-videosphere id=\"videoShere\" loop=\"true\" src=\"#video\"&gt;&lt;/a-videoshpere&gt;\n\n &lt;/a-scene&gt;\n\n&lt;/body&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 5, "creation_date": 1518042206, "post_id": 48674253, "comment_id": 84347028, "body": "<code>console.log(this)</code>?"}, {"owner": {"reputation": 4733, "user_id": 922445, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a469120d35647d9aa50646cb4d778c71?s=128&d=identicon&r=PG&f=1", "display_name": "Nulik", "link": "https://stackoverflow.com/users/922445/nulik"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1518042266, "post_id": 48674253, "comment_id": 84347052, "body": "@MikeMcCaughan, makes sense. but would that be all of it?"}, {"owner": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 2, "creation_date": 1518042419, "post_id": 48674253, "comment_id": 84347103, "body": "are you looking for this: <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Global_object\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Glossary/Global_object</a>?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1518042513, "post_id": 48674253, "comment_id": 84347147, "body": "That would show all properties of the global object. It really depends on what you mean by &quot;objects ... declared&quot;. Do you mean constructors?"}, {"owner": {"reputation": 4733, "user_id": 922445, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a469120d35647d9aa50646cb4d778c71?s=128&d=identicon&r=PG&f=1", "display_name": "Nulik", "link": "https://stackoverflow.com/users/922445/nulik"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1518042668, "post_id": 48674253, "comment_id": 84347218, "body": "@MikeMcCaughan, well, I typed &quot;this&quot;, pressed ENTER, and got this output: <code>&quot;&lt;environment [object environment]&gt;&quot;</code> . Further attempts to show <code>this.environment</code>  produced <code>undefined</code> output. I am using javascript console of <code>geth</code>, Ethereum client,it uses an <code>otto</code> virtual machine"}, {"owner": {"reputation": 6173, "user_id": 1906362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f752a2278b5eeab5abb7e162482c9b9?s=128&d=identicon&r=PG", "display_name": "Woody", "link": "https://stackoverflow.com/users/1906362/woody"}, "edited": false, "score": 1, "creation_date": 1518042733, "post_id": 48674253, "comment_id": 84347258, "body": "Agree this would be the easiest way.  if you are overwhelmed, you could always do something like Object.getOwnPropertyNames(this).map(n =&gt; this[n]).filter(o =&gt; typeof o === &quot;object&quot; &amp;&amp; o); to trim the list a little."}, {"owner": {"reputation": 4733, "user_id": 922445, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a469120d35647d9aa50646cb4d778c71?s=128&d=identicon&r=PG&f=1", "display_name": "Nulik", "link": "https://stackoverflow.com/users/922445/nulik"}, "reply_to_user": {"reputation": 6173, "user_id": 1906362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f752a2278b5eeab5abb7e162482c9b9?s=128&d=identicon&r=PG", "display_name": "Woody", "link": "https://stackoverflow.com/users/1906362/woody"}, "edited": false, "score": 0, "creation_date": 1518042923, "post_id": 48674253, "comment_id": 84347337, "body": "@Woody,<code>Object.getOwnPropertyNames(this)</code> is better. This is what I got in my environement: <code>[&quot;eval&quot;, &quot;parseInt&quot;, &quot;parseFloat&quot;, &quot;isNaN&quot;, &quot;isFinite&quot;, &quot;decodeURI&quot;, &quot;decodeURIComponent&quot;, &quot;encodeURI&quot;, &quot;encodeURIComponent&quot;, &quot;escape&quot;, &quot;unescape&quot;, &quot;Object&quot;, &quot;Function&quot;, &quot;Array&quot;, &quot;String&quot;, &quot;Error&quot;, &quot;JSON&quot;, &quot;undefined&quot;, &quot;NaN&quot;, &quot;Infinity&quot;, &quot;console&quot;, &quot;_setTimeout&quot;, &quot;_setInterval&quot;, &quot;setTimeout&quot;, &quot;setInterval&quot;, &quot;clearTimeout&quot;, &quot;clearInterval&quot;, &quot;loadScript&quot;, &quot;inspect&quot;, &quot;jeth&quot;, &quot;BigNumber&quot;, &quot;XMLHttpRequest&quot;, &quot;require&quot;, &quot;Web3&quot;, &quot;web3&quot;, &quot;eth&quot;, &quot;personal&quot;, &quot;rpc&quot;, &quot;txpool&quot;, &quot;admin&quot;, &quot;debug&quot;, &quot;miner&quot;, &quot;net&quot;]</code>"}, {"owner": {"reputation": 6173, "user_id": 1906362, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/6f752a2278b5eeab5abb7e162482c9b9?s=128&d=identicon&r=PG", "display_name": "Woody", "link": "https://stackoverflow.com/users/1906362/woody"}, "edited": false, "score": 0, "creation_date": 1518043029, "post_id": 48674253, "comment_id": 84347391, "body": "That looks about right, if you want to figure out if those things are objects or functions etc, you would need to do a little more digging, but looks like you are on the right track."}, {"owner": {"reputation": 4733, "user_id": 922445, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a469120d35647d9aa50646cb4d778c71?s=128&d=identicon&r=PG&f=1", "display_name": "Nulik", "link": "https://stackoverflow.com/users/922445/nulik"}, "reply_to_user": {"reputation": 192865, "user_id": 989121, "user_type": "registered", "accept_rate": 93, "profile_image": "https://i.stack.imgur.com/1Cvf7.png?s=128&g=1", "display_name": "georg", "link": "https://stackoverflow.com/users/989121/georg"}, "edited": false, "score": 0, "creation_date": 1518043261, "post_id": 48674253, "comment_id": 84347504, "body": "@georg , yes, that&#39;s what I am looking for, but in my javascript environment there is no <code>global</code> , <code>Window</code>, <code>Worker</code> or <code>WorkerGlobalScope</code> , so I don&#39;t know how is it called, but it should exist."}], "owner": {"reputation": 4733, "user_id": 922445, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/a469120d35647d9aa50646cb4d778c71?s=128&d=identicon&r=PG&f=1", "display_name": "Nulik", "link": "https://stackoverflow.com/users/922445/nulik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518042126, "creation_date": 1518042126, "question_id": 48674253, "link": "https://stackoverflow.com/questions/48674253/how-can-i-see-what-objects-are-declared-at-the-root-level-in-a-javascript-vm", "title": "How can I see what objects are declared at the root level in a Javascript VM", "body": "<p>How can I see what objects are declared at root level in a Javascript VM, say, in Firefox browser, node.js or otto ? What command should I type to show this info?</p>\n"}, {"tags": ["javascript", "reactjs", "components"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1518042271, "post_id": 48674246, "comment_id": 84347053, "body": "<a href=\"https://stackoverflow.com/questions/32553158/detect-click-outside-react-component\" title=\"detect click outside react component\">stackoverflow.com/questions/32553158/&hellip;</a>"}, {"owner": {"reputation": 2446, "user_id": 1010943, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/yS8jR.jpg?s=128&g=1", "display_name": "mu_sa", "link": "https://stackoverflow.com/users/1010943/mu-sa"}, "edited": false, "score": 1, "creation_date": 1518042696, "post_id": 48674246, "comment_id": 84347238, "body": "<a href=\"https://github.com/Pomax/react-onclickoutside\" rel=\"nofollow noreferrer\">github.com/Pomax/react-onclickoutside</a>"}, {"owner": {"reputation": 12919, "user_id": 5535040, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pcrdYg3eoyo/AAAAAAAAAAI/AAAAAAAAAGY/NXQ5lVKswiU/photo.jpg?sz=128", "display_name": "Chase DeAnda", "link": "https://stackoverflow.com/users/5535040/chase-deanda"}, "edited": false, "score": 0, "creation_date": 1518042705, "post_id": 48674246, "comment_id": 84347242, "body": "I have used this package in multiple projects and it works flawlessly: <a href=\"https://www.npmjs.com/package/react-onclickoutside\" rel=\"nofollow noreferrer\">npmjs.com/package/react-onclickoutside</a>"}, {"owner": {"reputation": 2919, "user_id": 4061006, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RJCWk.jpg?s=128&g=1", "display_name": "Jayavel", "link": "https://stackoverflow.com/users/4061006/jayavel"}, "edited": false, "score": 0, "creation_date": 1518161703, "post_id": 48674246, "comment_id": 84400014, "body": "Hope this helps <a href=\"https://stackblitz.com/edit/react-vzhmj7\" rel=\"nofollow noreferrer\">stackblitz.com/edit/react-vzhmj7</a> I did for popover, use like this in your scenario"}], "answers": [{"comments": [{"owner": {"reputation": 1157, "user_id": 7724099, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-GEcCwc0Ei6k/AAAAAAAAAAI/AAAAAAAACts/FznT3I-R1vA/photo.jpg?sz=128", "display_name": "Liz Parody", "link": "https://stackoverflow.com/users/7724099/liz-parody"}, "edited": false, "score": 2, "creation_date": 1518043275, "post_id": 48674330, "comment_id": 84347511, "body": "Thanks for your answer! it didn&#39;t work I don&#39;t know why :("}], "tags": [], "owner": {"reputation": 4647, "user_id": 5566355, "user_type": "registered", "profile_image": "https://graph.facebook.com/135238653504461/picture?type=large", "display_name": "Arman Charan", "link": "https://stackoverflow.com/users/5566355/arman-charan"}, "is_accepted": true, "score": 5, "last_activity_date": 1518042430, "creation_date": 1518042430, "answer_id": 48674330, "question_id": 48674246, "link": "https://stackoverflow.com/questions/48674246/change-the-state-when-clicking-outside-a-component-in-react/48674330#48674330", "title": "Change the state when clicking outside a component in React", "body": "<p>You could try leveraging <code>onBlur</code>:</p>\n\n<pre><code>&lt;i onClick={...} onBlur={() =&gt; this.setState({showingProjectSelector: false})}/&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 842, "user_id": 7681229, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/URQbZ.jpg?s=128&g=1", "display_name": "smartworld-dm", "link": "https://stackoverflow.com/users/7681229/smartworld-dm"}, "is_accepted": false, "score": 1, "last_activity_date": 1518598885, "creation_date": 1518598885, "answer_id": 48783175, "question_id": 48674246, "link": "https://stackoverflow.com/questions/48674246/change-the-state-when-clicking-outside-a-component-in-react/48783175#48783175", "title": "Change the state when clicking outside a component in React", "body": "<p>I faced same issue with you. Solved after reading this:\n<a href=\"https://stackoverflow.com/questions/32553158/detect-click-outside-react-component\">Detect click outside React component</a>\nPlease try:</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 9978249, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/VTubl.jpg?s=128&g=1", "display_name": "Higor Lorenzon", "link": "https://stackoverflow.com/users/9978249/higor-lorenzon"}, "is_accepted": false, "score": 0, "last_activity_date": 1560049081, "creation_date": 1560049081, "answer_id": 56511652, "question_id": 48674246, "link": "https://stackoverflow.com/questions/48674246/change-the-state-when-clicking-outside-a-component-in-react/56511652#56511652", "title": "Change the state when clicking outside a component in React", "body": "<p>You should use a High Order Component to wrap the component that you would like to listen for clicks outside it.</p>\n\n<p>This component example has only one prop: \"onClickedOutside\" that receives a function.</p>\n\n<pre><code>ClickedOutside.js\n</code></pre>\n\n<pre><code>import React, { Component } from \"react\";\n\nexport default class ClickedOutside extends Component {\n  componentDidMount() {\n    document.addEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener(\"mousedown\", this.handleClickOutside);\n  }\n\n  handleClickOutside = event =&gt; {\n    // IF exists the Ref of the wrapped component AND his dom children doesnt have the clicked component \n    if (this.wrapperRef &amp;&amp; !this.wrapperRef.contains(event.target)) {\n      // A props callback for the ClikedClickedOutside\n      this.props.onClickedOutside();\n    }\n  };\n\n  render() {\n    // In this piece of code I'm trying to get to the first not functional component\n    // Because it wouldn't work if use a functional component (like &lt;Fade/&gt; from react-reveal)\n    let firstNotFunctionalComponent = this.props.children;\n    while (typeof firstNotFunctionalComponent.type === \"function\") {\n      firstNotFunctionalComponent = firstNotFunctionalComponent.props.children;\n    }\n\n    // Here I'm cloning the element because I have to pass a new prop, the \"reference\" \n    const children = React.cloneElement(firstNotFunctionalComponent, {\n      ref: node =&gt; {\n        this.wrapperRef = node;\n      },\n      // Keeping all the old props with the new element\n      ...firstNotFunctionalComponent.props\n    });\n\n    return &lt;React.Fragment&gt;{children}&lt;/React.Fragment&gt;;\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 174, "user_id": 5548800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98f5161c0bc3b178b5c4bbdfe1d08c0f?s=128&d=identicon&r=PG", "display_name": "Tushar Sharma", "link": "https://stackoverflow.com/users/5548800/tushar-sharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1581106308, "creation_date": 1581106308, "answer_id": 60120414, "question_id": 48674246, "link": "https://stackoverflow.com/questions/48674246/change-the-state-when-clicking-outside-a-component-in-react/60120414#60120414", "title": "Change the state when clicking outside a component in React", "body": "<p>If you want to use a tiny component (466 Byte gzipped) that already exists for this functionality then you can check out this library <a href=\"https://www.npmjs.com/package/react-outclick\" rel=\"nofollow noreferrer\">react-outclick</a>.</p>\n\n<p>The good thing about the library is that it also lets you detect clicks outside of a component and inside of another. It also supports detecting other types of events.</p>\n\n<p>Using the library you can have something like this inside your component.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import OnOutsiceClick from 'react-outclick';\n\nclass MyComp extends Component { \n\n  render() {\n    return (\n      &lt;OnOutsiceClick\n        onOutsideClick={() =&gt; this.setState({showingProjectSelector: false})}&gt;\n        &lt;Dropdown /&gt;\n      &lt;/OnOutsiceClick&gt;\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1157, "user_id": 7724099, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh6.googleusercontent.com/-GEcCwc0Ei6k/AAAAAAAAAAI/AAAAAAAACts/FznT3I-R1vA/photo.jpg?sz=128", "display_name": "Liz Parody", "link": "https://stackoverflow.com/users/7724099/liz-parody"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12239, "favorite_count": 2, "accepted_answer_id": 48674330, "answer_count": 4, "score": 5, "last_activity_date": 1581106308, "creation_date": 1518042103, "last_edit_date": 1518043213, "question_id": 48674246, "link": "https://stackoverflow.com/questions/48674246/change-the-state-when-clicking-outside-a-component-in-react", "title": "Change the state when clicking outside a component in React", "body": "<p>I have a dropdown as is shown in the following image:\n<a href=\"https://i.stack.imgur.com/JnwZc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/JnwZc.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I click the folder icon it opens and closes because <code>showingProjectSelector</code> property in the state that is set to false.</p>\n\n<pre><code>  constructor (props) {\n    super(props)\n    const { organization, owner, ownerAvatar } = props\n    this.state = {\n      owner,\n      ownerAvatar,\n      showingProjectSelector: false\n    }\n  }\n</code></pre>\n\n<p>When I click the icon, it opens and closes properly. </p>\n\n<pre><code>&lt;i\n  onClick={() =&gt; this.setState({ showingProjectSelector: !this.state.showingProjectSelector })}\n  className='fa fa-folder-open'&gt;\n&lt;/i&gt;\n</code></pre>\n\n<p>But what I'm trying to do is to close the dropdown when I click outside it. How can I do this without using any library?</p>\n\n<p>This is the entire component: <a href=\"https://jsbin.com/cunakejufa/edit?js,output\" rel=\"noreferrer\">https://jsbin.com/cunakejufa/edit?js,output</a></p>\n"}, {"tags": ["javascript", "node.js", "sockets", "socket.io"], "answers": [{"tags": [], "owner": {"reputation": 180, "user_id": 2829758, "user_type": "registered", "profile_image": "https://graph.facebook.com/696939691/picture?type=large", "display_name": "Junji Shimagaki", "link": "https://stackoverflow.com/users/2829758/junji-shimagaki"}, "is_accepted": true, "score": 0, "last_activity_date": 1518042959, "creation_date": 1518042959, "answer_id": 48674450, "question_id": 48674205, "link": "https://stackoverflow.com/questions/48674205/client-not-receiving-message-from-server/48674450#48674450", "title": "Client not receiving message from server", "body": "<p>Since the connection is proven to be established, I suspect this is an issue of a way you emit the data. Your second parameter <code>hi</code> may not be taken as a data to be transmitted, according to</p>\n\n<p><a href=\"https://socket.io/docs/server-api/#socket-emit-eventname-args-ack\" rel=\"nofollow noreferrer\">https://socket.io/docs/server-api/#socket-emit-eventname-args-ack</a></p>\n\n<p>In my understanding, <code>socket.io</code> emit <code>Object</code> instead of <code>String</code> so can you try this?</p>\n\n<pre><code>io.on(\"connection\", function(socket) {\n    console.log(\"A player has connected - sending maze data...\");\n    socket.emit(\"hi\", {data: \"hi\"});        \n});\n</code></pre>\n"}], "owner": {"reputation": 906, "user_id": 6141880, "user_type": "registered", "accept_rate": 62, "profile_image": "https://graph.facebook.com/1678541972412107/picture?type=large", "display_name": "Rachel Dockter", "link": "https://stackoverflow.com/users/6141880/rachel-dockter"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "accepted_answer_id": 48674450, "answer_count": 1, "score": 0, "last_activity_date": 1518042959, "creation_date": 1518041872, "last_edit_date": 1518042350, "question_id": 48674205, "link": "https://stackoverflow.com/questions/48674205/client-not-receiving-message-from-server", "title": "Client not receiving message from server", "body": "<p>Hi i have a node js server and im using sockets to communicate.</p>\n\n<p>Index: </p>\n\n<pre><code>&lt;script src=\"socket.io/socket.io.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>Client JS:</p>\n\n<pre><code>var socket = io.connect(\"http://localhost:8081\");\n\nsocket.on('hi', function(data){\n    console.log(\"g\");\n    console.log(data);\n});\n</code></pre>\n\n<p>So it seems to connect just fine to the server. I have a socket called 'hi' waiting for any incoming messages. I added 2 console logs incase data was null, it would still print something to the console.</p>\n\n<p>Server:</p>\n\n<pre><code>var express = require(\"express\");\nvar app = express();\nvar server = require(\"http\").Server(app);\nvar io = require(\"socket.io\")(server);\nvar mazeGenerator = require(\"generate-maze\");\n\napp.use(express.static(\"public\"));\n\nio.on(\"connection\", function(socket) { // EDITED\n    console.log(\"A player has connected - sending maze data...\");\n    socket.emit(\"hi\", \"hi\");        \n});\n</code></pre>\n\n<p>So when i refresh the page, the client connects and in my CMD i see the \"A player has connected...\" console log. From then on, its blank from the server or client, I can keep refreshing and it will keep saying a player has connected by the clients console stays blank</p>\n"}, {"tags": ["javascript", "html", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 12919, "user_id": 5535040, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-pcrdYg3eoyo/AAAAAAAAAAI/AAAAAAAAAGY/NXQ5lVKswiU/photo.jpg?sz=128", "display_name": "Chase DeAnda", "link": "https://stackoverflow.com/users/5535040/chase-deanda"}, "is_accepted": true, "score": 2, "last_activity_date": 1518042338, "creation_date": 1518042338, "answer_id": 48674305, "question_id": 48674204, "link": "https://stackoverflow.com/questions/48674204/how-can-i-change-this-url-to-a-link-in-that-code-when-using-reacttable/48674305#48674305", "title": "How can I change this url to a link in that code when using ReactTable?", "body": "<p>Looks like you might be able to use the <a href=\"https://react-table.js.org/#/story/readme\" rel=\"nofollow noreferrer\"><code>Cell</code> property</a> to display custom markup:</p>\n\n<pre><code>{\n    Header: 'Link',\n    id: 'link',\n    accessor: d =&gt; d.html_url, // https://github.com/Michaelcj10/ReactJS-GitHub-User-Finder-App\n    Cell: props =&gt; &lt;a href={props.value}&gt;{props.value}&lt;/a&gt;\n},\n</code></pre>\n"}], "owner": {"reputation": 422, "user_id": 8604111, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/4oSZ0.jpg?s=128&g=1", "display_name": "MountainConqueror", "link": "https://stackoverflow.com/users/8604111/mountainconqueror"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 787, "favorite_count": 0, "accepted_answer_id": 48674305, "answer_count": 1, "score": 1, "last_activity_date": 1518042338, "creation_date": 1518041867, "question_id": 48674204, "link": "https://stackoverflow.com/questions/48674204/how-can-i-change-this-url-to-a-link-in-that-code-when-using-reacttable", "title": "How can I change this url to a link in that code when using ReactTable?", "body": "<p>Here is React code:</p>\n\n<pre><code>import React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport ReactTable from 'react-table';\nimport _ from 'lodash';\nimport './style.css';\n\nclass GithubDataTable extends Component {\n  render() {\n    const { showData, savedData } = this.props;\n    let data = null;\n\n    if (showData === 'last') {\n      data = _.last(savedData);\n    } else {\n      data = savedData[showData];\n    }\n\n    console.log(data);\n\n    return (\n      &lt;div&gt;\n        {data &amp;&amp; (\n          &lt;ReactTable\n            data={data.items}\n            columns={[\n              {\n                Header: 'Data from GitHub',\n                columns: [\n                  {\n                    Header: 'Id',\n                    id: 'id',\n                    accessor: d =&gt; d.id,\n                  },\n                  {\n                    Header: 'Repo Title',\n                    id: 'repoTitle',\n                    accessor: d =&gt; d.name,\n                  },\n                  {\n                    Header: 'Owner',\n                    id: 'owner',\n                    accessor: d =&gt; d.owner.login,\n                  },\n                  {\n                    Header: 'Link',\n                    id: 'link',\n                    accessor: d =&gt; d.html_url, // example data string \"https://github.com/Michaelcj10/ReactJS-GitHub-User-Finder-App\"\n                  },\n                  {\n                    Header: 'Created at',\n                    id: 'createdAt',\n                    accessor: d =&gt; d.created_at.slice(0, 10),\n                  },\n                  {\n                    Header: 'Updated at',\n                    id: 'updatedAt',\n                    accessor: d =&gt; d.updated_at.slice(0, 10),\n                  },\n                  {\n                    Header: 'Stars',\n                    id: 'stars',\n                    accessor: d =&gt; d.stargazers_count,\n                  },\n                  {\n                    Header: 'Forks',\n                    id: 'forks',\n                    accessor: d =&gt; d.forks_count,\n                  },\n                ],\n              },\n            ]}\n            defaultPageSize={10}\n            pageSizeOptions={[5, 10, 15, 20]}\n            className=\"-striped -highlight\"\n          /&gt;\n        )}\n      &lt;/div&gt;\n    );\n  }\n}\n\nfunction mapStateToProps(state) {\n  return {\n    savedData: state.savedData,\n    showData: state.showData,\n  };\n}\nexport default connect(mapStateToProps, null)(GithubDataTable);\n</code></pre>\n\n<p>And I have problem with that particular element:</p>\n\n<pre><code>{\n                    Header: 'Link',\n                    id: 'link',\n                    accessor: d =&gt; d.html_url, // https://github.com/Michaelcj10/ReactJS-GitHub-User-Finder-App\n                  },\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/9zLw2.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9zLw2.png\" alt=\"enter image description here\"></a></p>\n\n<p>Data is shown as text, but how can I add html in that particular situation to this JSX to obtain <strong><em>a link</em></strong></p>\n\n<p>Not enought text hack: </p>\n\n<hr>\n\n<p>It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. The point of using Lorem Ipsum is that it has a more-or-less normal distribution of letters...</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1518042170, "post_id": 48674197, "comment_id": 84347014, "body": "We can&#39;t possibly know how your widget <i>should</i> be positioned without you telling us, or showing the supporting code that is causing the problem. Please update your question so that it shows your <b>relevant code</b> in a <a href=\"http://stackoverflow.com/help/mcve\"><b>minimal, complete, and verifiable example</b></a>, clearly showing the problem. What I can say is that a fixed <code>margin</code> that high won&#39;t work on any sort of mobile device, and that the problem is going to be in where you are inserting the <code>&lt;div class=&quot;chart&quot;&gt;</code> element onto the page. If it&#39;s inside a container, you&#39;ll need different styling."}, {"owner": {"reputation": 306, "user_id": 9165615, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9887ef62522a1ec3b8bfb9a79930559?s=128&d=identicon&r=PG&f=1", "display_name": "husharoonie", "link": "https://stackoverflow.com/users/9165615/husharoonie"}, "reply_to_user": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1518042310, "post_id": 48674197, "comment_id": 84347067, "body": "I dont care about the position i just want to be able to move it. Nothing is working."}, {"owner": {"reputation": 306, "user_id": 9165615, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9887ef62522a1ec3b8bfb9a79930559?s=128&d=identicon&r=PG&f=1", "display_name": "husharoonie", "link": "https://stackoverflow.com/users/9165615/husharoonie"}, "reply_to_user": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1518042407, "post_id": 48674197, "comment_id": 84347101, "body": "what styling would i need?"}, {"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1518042452, "post_id": 48674197, "comment_id": 84347117, "body": "I just said; we can&#39;t possibly know unless you showcase your HTML that surrounds the <code>&lt;div class=&quot;chart&quot;&gt;</code> element, along with the CSS that supports it... and also state <b>how</b> you want to position it."}, {"owner": {"reputation": 306, "user_id": 9165615, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9887ef62522a1ec3b8bfb9a79930559?s=128&d=identicon&r=PG&f=1", "display_name": "husharoonie", "link": "https://stackoverflow.com/users/9165615/husharoonie"}, "reply_to_user": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1518042635, "post_id": 48674197, "comment_id": 84347208, "body": "What look at the link and how im getting the widget."}, {"owner": {"reputation": 306, "user_id": 9165615, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9887ef62522a1ec3b8bfb9a79930559?s=128&d=identicon&r=PG&f=1", "display_name": "husharoonie", "link": "https://stackoverflow.com/users/9165615/husharoonie"}, "reply_to_user": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1518044036, "post_id": 48674197, "comment_id": 84347787, "body": "the position i want is in the css code. The widget is displaying in the top left corner and wont move."}], "answers": [{"tags": [], "owner": {"reputation": 793, "user_id": 8292104, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e7bf82895083bbe21dea322bd6894488?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/8292104/anonymous"}, "is_accepted": false, "score": 0, "last_activity_date": 1518049760, "creation_date": 1518049760, "answer_id": 48675585, "question_id": 48674197, "link": "https://stackoverflow.com/questions/48674197/positioning-trending-view-widget-css/48675585#48675585", "title": "Positioning Trending View Widget CSS", "body": "<p>To be able to move the container you have to move the right container, but you are moving the wrong one. Just analyse the output code with the debugging console to understand what I mean. See this example for positioning the container to a different position:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.chart + div {\r\n  position: absolute;\r\n  left: 100px;\r\n  top: 300px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"chart\"&gt;\r\n    &lt;!-- TradingView Widget BEGIN --&gt;\r\n    &lt;span  id=\"tradingview-copyright\"&gt;&lt;a ref=\"nofollow noopener\" target=\"_blank\" href=\"http://www.tradingview.com\" style=\"color: rgb(173, 174, 176); font-family: &amp;quot;Trebuchet MS&amp;quot;, Tahoma, Arial, sans-serif; font-size: 13px;\"&gt;Market Movers by &lt;span style=\"color: #3BB3E4\"&gt;TradingView&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n&lt;script src=\"https://s3.tradingview.com/external-embedding/embed-widget-hotlists.js\"&gt;\r\n    {\r\n        \"exchange\": \"US\",\r\n        \"showChart\": true,\r\n        \"locale\": \"en\",\r\n        \"width\": \"400\",\r\n        \"height\": \"600\",\r\n        \"plotLineColorGrowing\": \"rgba(60, 188, 152, 1)\",\r\n        \"plotLineColorFalling\": \"rgba(255, 74, 104, 1)\",\r\n        \"gridLineColor\": \"rgba(242, 242, 242, 1)\",\r\n        \"scaleFontColor\": \"rgba(218, 221, 224, 1)\",\r\n        \"belowLineFillColorGrowing\": \"rgba(60, 188, 152, 0.05)\",\r\n        \"belowLineFillColorFalling\": \"rgba(255, 74, 104, 0.05)\",\r\n        \"symbolActiveColor\": \"rgba(242, 250, 254, 1)\"\r\n    }\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 306, "user_id": 9165615, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/f9887ef62522a1ec3b8bfb9a79930559?s=128&d=identicon&r=PG&f=1", "display_name": "husharoonie", "link": "https://stackoverflow.com/users/9165615/husharoonie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 280, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518049760, "creation_date": 1518041829, "last_edit_date": 1518042282, "question_id": 48674197, "link": "https://stackoverflow.com/questions/48674197/positioning-trending-view-widget-css", "title": "Positioning Trending View Widget CSS", "body": "<p>I am trying to position my widget. It positions correctly on local host. However, when I upload to file server the position is over rided and not using my position.</p>\n\n<p>I just want to be able to move the widget. Any styling is not working</p>\n\n<p><a href=\"https://www.tradingview.com/widget/\" rel=\"nofollow noreferrer\">https://www.tradingview.com/widget/</a></p>\n\n<p>code</p>\n\n<pre><code>&lt;div class=\"chart\"&gt;\n    &lt;!-- TradingView Widget BEGIN --&gt;\n    &lt;span  id=\"tradingview-copyright\"&gt;&lt;a ref=\"nofollow noopener\" target=\"_blank\" href=\"http://www.tradingview.com\" style=\"color: rgb(173, 174, 176); font-family: &amp;quot;Trebuchet MS&amp;quot;, Tahoma, Arial, sans-serif; font-size: 13px;\"&gt;Market Movers by &lt;span style=\"color: #3BB3E4\"&gt;TradingView&lt;/span&gt;&lt;/a&gt;&lt;/span&gt;\n\n    &lt;/div&gt;\n\n    &lt;script type=\"text/javascript\" src=\"https://s3.tradingview.com/external-embedding/embed-widget-hotlists.js\"&gt;\n        {\n            \"exchange\": \"US\",\n            \"showChart\": true,\n            \"locale\": \"en\",\n            \"width\": \"400\",\n            \"height\": \"600\",\n            \"plotLineColorGrowing\": \"rgba(60, 188, 152, 1)\",\n            \"plotLineColorFalling\": \"rgba(255, 74, 104, 1)\",\n            \"gridLineColor\": \"rgba(242, 242, 242, 1)\",\n            \"scaleFontColor\": \"rgba(218, 221, 224, 1)\",\n            \"belowLineFillColorGrowing\": \"rgba(60, 188, 152, 0.05)\",\n            \"belowLineFillColorFalling\": \"rgba(255, 74, 104, 0.05)\",\n            \"symbolActiveColor\": \"rgba(242, 250, 254, 1)\"\n        }\n    &lt;/script&gt;\n</code></pre>\n\n<p>css</p>\n\n<pre><code>.chart {\n  position: absolute;\n  margin: 700px 450px 0 0;\n  top: 0px;\n  right: 0px;\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "class", "object-literal", "shorthand"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 2, "creation_date": 1518041869, "post_id": 48674179, "comment_id": 84346875, "body": "Pass them in the <i>constructor</i>, ie <code>function Car(make, model) {... }</code>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1518042015, "post_id": 48674179, "comment_id": 84346944, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/1168807/how-can-i-add-a-key-value-pair-to-a-javascript-object\">How can I add a key/value pair to a JavaScript object?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": false, "score": 1, "last_activity_date": 1518041875, "creation_date": 1518041875, "answer_id": 48674206, "question_id": 48674179, "link": "https://stackoverflow.com/questions/48674179/javascript-class-instance-object-literal/48674206#48674206", "title": "javascript class instance object literal", "body": "<p>You should use the constructor's parameters:</p>\n\n<pre><code>function Car(make, model) {\n  this.make = make;\n  this.model = model;\n}\nvar mycar = new Car(\"honda\", \"civic\");\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1518042053, "post_id": 48674218, "comment_id": 84346962, "body": "This has been asked and answered many times. I notice your name coming up a lot as I vote to close duplicates. Are you checking for duplicates before answering?"}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1518042380, "post_id": 48674218, "comment_id": 84347090, "body": "A) This is more code bytes-wise and B) this makes no sense! Why would you set them to empty strings then change them if you could <i>use the constructor pattern correctly and pass them in as arguments</i>??"}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "reply_to_user": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1518042598, "post_id": 48674218, "comment_id": 84347191, "body": "@Li357 My answer <i>provides a shorthand way</i>."}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1518042713, "post_id": 48674218, "comment_id": 84347245, "body": "@Ele How is this shorter then passing the values into the constructor? That would be better practice, more readable and shorter opposed to using Object.assign"}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "reply_to_user": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1518042877, "post_id": 48674218, "comment_id": 84347322, "body": "@Li357 I agree, however, I&#39;m using the approach from the OP.  Nobody has information about the context of his/her code.  Nobody knows why he/she has written the constructor with empty values for initialization. Further, with this approach, the OP will know another way to assign properties to objects."}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1518043085, "post_id": 48674218, "comment_id": 84347426, "body": "@Ele IMO the fact they explicitly show their constructor with the same properties as the ones they assign to lines later gives enough context."}], "tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": -1, "last_activity_date": 1518042147, "last_edit_date": 1518042147, "creation_date": 1518041925, "answer_id": 48674218, "question_id": 48674179, "link": "https://stackoverflow.com/questions/48674179/javascript-class-instance-object-literal/48674218#48674218", "title": "javascript class instance object literal", "body": "<p>You can use <code>Object.assign</code> function.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function Car() {\r\n  this.make = \"\";\r\n  this.model = \"\";\r\n}\r\n\r\nvar mycar = new Car();\r\nObject.assign(mycar, { make: \"honda\", model: \"civic\" });\r\n\r\nconsole.log(mycar);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1518042455, "post_id": 48674319, "comment_id": 84347118, "body": "Why complicate things when you can just pass them in as arguments like the constructor pattern is used for?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1518042579, "post_id": 48674319, "comment_id": 84347181, "body": "@Li357 I tried to make it clear that wasn&#39;t my main recommendation, I was just pointing out it was possible to create an instance of <code>Car</code> without explicitly invoking the constructor. If you want I can try to make it more clear that my last two approaches are my actual recommendation."}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1518042658, "post_id": 48674319, "comment_id": 84347213, "body": "I was just wondering, since OP has shown that their constructor sets two instance variables, then resets them immediately, that you can just pass them as separate arguments as opposed to an object with keys."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1518042717, "post_id": 48674319, "comment_id": 84347247, "body": "If you have only two keys, that is fine, but what if your class has several properties? Surely you don&#39;t want to assign each one at a time."}, {"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 0, "creation_date": 1518042879, "post_id": 48674319, "comment_id": 84347323, "body": "I agree, but in this case OP shows only two properties. Nevermind me then."}, {"owner": {"reputation": 1081, "user_id": 742503, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/3JP2P.jpg?s=128&g=1", "display_name": "techdog", "link": "https://stackoverflow.com/users/742503/techdog"}, "edited": false, "score": 2, "creation_date": 1518043698, "post_id": 48674319, "comment_id": 84347673, "body": "I think the third example would be easy for a user to type in 10-20 properties without getting confused. It looks like though the user can assign any properties they want. If they make a spelling mistake it would add the property.  How do I preset them so that only the properties I specify can be added?"}], "tags": [], "owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "is_accepted": true, "score": 3, "last_activity_date": 1518043907, "last_edit_date": 1518043907, "creation_date": 1518042389, "answer_id": 48674319, "question_id": 48674179, "link": "https://stackoverflow.com/questions/48674179/javascript-class-instance-object-literal/48674319#48674319", "title": "javascript class instance object literal", "body": "<p>If your constructor doesn't do anything important, you can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/create\" rel=\"nofollow noreferrer\"><code>Object.create()</code></a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function Car() {\r\n  //...\r\n}\r\n\r\nconsole.log(\r\n  Object.create(\r\n    Car.prototype,\r\n    Object.getOwnPropertyDescriptors(\r\n      { make: 'honda', model: 'civic' }\r\n    )\r\n  )\r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I wouldn't exactly call this \"shorthand\", but it <em>is</em> a single statement, and it omits invoking <code>Car()</code> if your constructor's body is redundant.</p>\n\n<p>I'd personally recommend using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\" rel=\"nofollow noreferrer\"><code>Object.assign()</code></a> within the body of your <code>constructor</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function Car(props) {\r\n  /* to formally mimic behavior of default parameters specification */\r\n  // props = arguments.length &lt; 1 || props === undefined ? {} : props;\r\n  /* commonly used \"good-enough\" ES5 equivalent */\r\n  props = props || {};\r\n  Object.assign(this, props);\r\n}\r\n\r\nconsole.log(\r\n  new Car({ make: 'honda', model: 'civic' })\r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or ES6:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Car {\r\n  constructor (props = {}) {\r\n    Object.assign(this, props);\r\n  }\r\n}\r\n\r\nconsole.log(\r\n  new Car({ make: 'honda', model: 'civic' })\r\n);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1081, "user_id": 742503, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/3JP2P.jpg?s=128&g=1", "display_name": "techdog", "link": "https://stackoverflow.com/users/742503/techdog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 424, "favorite_count": 0, "accepted_answer_id": 48674319, "answer_count": 3, "score": -1, "last_activity_date": 1518043920, "creation_date": 1518041746, "last_edit_date": 1518043920, "question_id": 48674179, "link": "https://stackoverflow.com/questions/48674179/javascript-class-instance-object-literal", "title": "javascript class instance object literal", "body": "<p>Is there a shorthand way to add properties to an instance of a class in javascript? </p>\n\n<p>Edit: The duplicate answers are about adding properties to an object not a class. I'm trying to make it easy for the user to add about 10-20 properties. I'm also trying to make sure they can't add their own properties but can only add values to the predefined properties. I don't know how to do that.</p>\n\n<p>I have a javascript \"class\":</p>\n\n<pre><code>function Car(){\nthis.make=\"\";\nthis.model=\"\";\n//...\n}\n</code></pre>\n\n<p>To create an instance and add properties I would use:</p>\n\n<pre><code>var mycar = new Car();\n    mycar.make=\"honda\";\n    mycar.model=\"civic\";\n    //...\n</code></pre>\n\n<p>Is there a shorthand way to create an instance and add the properties so I don't have to type \"mycar.\" each time?</p>\n"}, {"tags": ["javascript", "google-maps"], "comments": [{"owner": {"reputation": 147337, "user_id": 1210329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d432c94998d9fb0a28f6bf2af22cdf96?s=128&d=identicon&r=PG", "display_name": "geocodezip", "link": "https://stackoverflow.com/users/1210329/geocodezip"}, "edited": false, "score": 0, "creation_date": 1518042545, "post_id": 48674146, "comment_id": 84347159, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/28179773/issue-on-clearing-removing-google-maps-infobox-custom-infowindow\">Issue on Clearing/ Removing Google Maps Infobox (Custom InfoWindow)</a>"}, {"owner": {"reputation": 147337, "user_id": 1210329, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d432c94998d9fb0a28f6bf2af22cdf96?s=128&d=identicon&r=PG", "display_name": "geocodezip", "link": "https://stackoverflow.com/users/1210329/geocodezip"}, "edited": false, "score": 1, "creation_date": 1518042683, "post_id": 48674146, "comment_id": 84347228, "body": "possible duplicate of <a href=\"https://stackoverflow.com/questions/10908132/google-map-v3-allow-only-one-infobox-to-be-displayed-at-a-time\">Google Map V3 - Allow only one infobox to be displayed at a time</a>"}], "answers": [{"tags": [], "owner": {"reputation": 1629, "user_id": 4481169, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/7eec4d70f2e6263d2369da59c22eea87?s=128&d=identicon&r=PG", "display_name": "Iavor", "link": "https://stackoverflow.com/users/4481169/iavor"}, "is_accepted": false, "score": 0, "last_activity_date": 1518113873, "creation_date": 1518113873, "answer_id": 48692238, "question_id": 48674146, "link": "https://stackoverflow.com/questions/48674146/zoom-out-when-infobox-is-closed-and-only-one-info-box-open-at-a-time-google-map/48692238#48692238", "title": "zoom out when infoBox is closed and only one info box open at a time Google Map", "body": "<h2>Answer to question 1</h2>\n\n<p>If you want the map to zoom out when the user closes an info window, you can listen for the <code>closeclick</code> event on the info window object.</p>\n\n<pre><code>infoWindow.addListener('closeclick', function() {\n  map.setZoom(3); // Set the desired zoom level\n});\n</code></pre>\n\n<p>I couldn't get your code to work so I created a <a href=\"http://jsbin.com/favuxuq/4/edit?js,output\" rel=\"nofollow noreferrer\">basic example</a> of the above functionality in action. Clicking on the marker opens an info window and zooms the map in. Closing the info window, zooms the map back out.</p>\n\n<h2>Answer to question 2</h2>\n\n<p>Check out geocodezip's comments to your question. He provides <a href=\"https://stackoverflow.com/questions/28179773/issue-on-clearing-removing-google-maps-infobox-custom-infowindow\">links</a> to <a href=\"https://stackoverflow.com/questions/10908132/google-map-v3-allow-only-one-infobox-to-be-displayed-at-a-time\">previous questions</a> that could help you figure out how to have only one info window open at a time.</p>\n"}], "owner": {"reputation": 85, "user_id": 3117370, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/e7WUY.jpg?s=128&g=1", "display_name": "DigitalOutcast", "link": "https://stackoverflow.com/users/3117370/digitaloutcast"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1518113873, "creation_date": 1518041545, "last_edit_date": 1518060259, "question_id": 48674146, "link": "https://stackoverflow.com/questions/48674146/zoom-out-when-infobox-is-closed-and-only-one-info-box-open-at-a-time-google-map", "title": "zoom out when infoBox is closed and only one info box open at a time Google Map", "body": "<ul>\n<li><p>Question One: When closing an \"infobox\" how can I make it maps zoom back out?</p></li>\n<li><p>Question Two: How would I make it so that only one \"infobox\" is open at a time?</p></li>\n</ul>\n\n<p>I have tried adding:</p>\n\n<pre><code>google.maps.event.addListener(map, 'zoom_changed', function(){\n    if (! markers.length) { return; }\n    for (i in markers) {\n       markers[i].infoBox.close();\n    }\n});\n</code></pre>\n\n<p>However the code dose not seem to work. Any thoughts?</p>\n\n<pre><code>function InfoBox(opts) {\n    google.maps.OverlayView.call(this);\n    this.latlng_ = opts.latlng;\n    this.map_ = opts.map;\n    this.content = opts.content;\n    this.offsetVertical_ = -195;\n    this.offsetHorizontal_ = 5;\n    this.height_ = 165;\n    this.width_ = 266;\n    var me = this;\n    this.boundsChangedListener_ =\n        google.maps.event.addListener(this.map_, \"bounds_changed\", function () {\n            return me.panMap.apply(me);\n\n        });\n\n    this.setMap(this.map_);\n}\n\nInfoBox.prototype = new google.maps.OverlayView();\n\nInfoBox.prototype.remove = function () {\n    if (this.div_) {\n        this.div_.parentNode.removeChild(this.div_);\n        this.div_ = null;\n    }\n};\n\n\n    this.createElement();\n    if (!this.div_) return;\n\n    var pixPosition = this.getProjection().fromLatLngToDivPixel(this.latlng_);\n    if (!pixPosition) return;\n\n    this.div_.style.width = this.width_ + \"px\";\n    this.div_.style.left = (pixPosition.x + this.offsetHorizontal_) + \"px\";\n    this.div_.style.height = this.height_ + \"px\";\n    this.div_.style.top = (pixPosition.y + this.offsetVertical_) + \"px\";\n    this.div_.style.display = 'block';\n};\n\nInfoBox.prototype.createElement = function () {\n    var panes = this.getPanes();\n    var div = this.div_;\n    if (!div) {\n\n        div = this.div_ = document.createElement(\"div\");\n            div.className = \"infobox\"\n        var contentDiv = document.createElement(\"div\");\n            contentDiv.className = \"content\"\n            contentDiv.innerHTML = this.content;\n        var closeBox = document.createElement(\"div\");\n            closeBox.className = \"close\";\n            closeBox.innerHTML = \"x\";\n        div.appendChild(closeBox);\n\n        function removeInfoBox(ib) {\n            return function () {\n                ib.setMap(null);\n            };\n        }\n        google.maps.event.addDomListener(closeBox, 'click', removeInfoBox(this));\n        div.appendChild(contentDiv);\n        div.style.display = 'none';\n        panes.floatPane.appendChild(div);\n        this.panMap();\n    } else if (div.parentNode != panes.floatPane) {\n\n        div.parentNode.removeChild(div);\n        panes.floatPane.appendChild(div);\n    } else {\n\n       .\n    }\n}\n\nInfoBox.prototype.panMap = function () {\n\n    var map = this.map_;\n    var bounds = map.getBounds();\n    if (!bounds) return;\n\n    var position = this.latlng_;\n\n    var iwWidth = this.width_;\n    var iwHeight = this.height_;\n\n    var iwOffsetX = this.offsetHorizontal_;\n    var iwOffsetY = this.offsetVertical_;\n\n    var padX = 40;\n    var padY = 40;\n\n    var mapDiv = map.getDiv();\n    var mapWidth = mapDiv.offsetWidth;\n    var mapHeight = mapDiv.offsetHeight;\n    var boundsSpan = bounds.toSpan();\n    var longSpan = boundsSpan.lng();\n    var latSpan = boundsSpan.lat();\n    var degPixelX = longSpan / mapWidth;\n    var degPixelY = latSpan / mapHeight;\n\n    var mapWestLng = bounds.getSouthWest().lng();\n    var mapEastLng = bounds.getNorthEast().lng();\n    var mapNorthLat = bounds.getNorthEast().lat();\n    var mapSouthLat = bounds.getSouthWest().lat();\n\n    var iwWestLng = position.lng() + (iwOffsetX - padX) * degPixelX;\n    var iwEastLng = position.lng() + (iwOffsetX + iwWidth + padX) * degPixelX;\n    var iwNorthLat = position.lat() - (iwOffsetY - padY) * degPixelY;\n    var iwSouthLat = position.lat() - (iwOffsetY + iwHeight + padY) * degPixelY;\n\n    var shiftLng =\n        (iwWestLng &lt; mapWestLng ? mapWestLng - iwWestLng : 0) +\n        (iwEastLng &gt; mapEastLng ? mapEastLng - iwEastLng : 0);\n    var shiftLat =\n        (iwNorthLat &gt; mapNorthLat ? mapNorthLat - iwNorthLat : 0) +\n        (iwSouthLat &lt; mapSouthLat ? mapSouthLat - iwSouthLat : 0);\n\n    var center = map.getCenter();\n\n    var centerX = center.lng() - shiftLng;\n    var centerY = center.lat() - shiftLat;\n\n    map.setCenter(new google.maps.LatLng(centerY, centerX));\n\n    google.maps.event.removeListener(this.boundsChangedListener_);\n    this.boundsChangedListener_ = null;\n};\n\nfunction initialize() {\n    var markers = []; \n\n    var myOptions = { \n        zoom: 3,\n        center: new google.maps.LatLng(-5.646, 20.0611),\n        mapTypeId: google.maps.MapTypeId.ROADMAP,\n        sensor: 'true'\n    }\n    var map = new google.maps.Map(document.getElementById(\"canvas-map\"), myOptions);\n\n    var data = [ \n      {\n        'id':1,\n        'content':'Hello my name is marker, I\\'m from Google',\n        'position': {\n          'lat':-33,\n          'lng':150\n         }\n      },\n      {\n        'id':2,\n        'content':'I am the content of this infobox. Wow, what a text.&lt;br&gt;&lt;br&gt;&lt;a href=\"#\"&gt;The good thing is: Tags are also possible&lt;/a&gt;',\n        'position': {\n          'lat':-34,\n          'lng':150\n         }\n      },\n    ]\n\n    for (var i = 0; i &lt; data.length; i++) {\n      var current = data[i];\n\n      var marker = new google.maps.Marker({\n        position: new google.maps.LatLng(current.position.lat, current.position.lng),\n        map: map,\n        content: current.content\n      });\n\n      markers.push(marker);\n  marker.addListener('click', function() {\n          map.setZoom(8);\n          map.setCenter(marker.getPosition());\n\n        });\n\n      google.maps.event.addListener(markers[i], \"click\", function (e) {       \n           map.zoomOut(); \n           map.setCenter(this.getPosition()); \n        var infoBox = new InfoBox({\n            latlng: this.getPosition(),\n            map: map,\n            content: this.content           \n        });\n\n      });\n\n    }\n\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "email", "google-apps-script", "html-email"], "comments": [{"owner": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1518054488, "post_id": 48674117, "comment_id": 84350821, "body": "What do you mean by &quot;but it just seems to ignore it&quot;? What email client are you using to read the email message sent?"}, {"owner": {"reputation": 27, "user_id": 5667528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a65b17f13d172c84e899d2dee5fcf5e?s=128&d=identicon&r=PG&f=1", "display_name": "Cjgeno", "link": "https://stackoverflow.com/users/5667528/cjgeno"}, "reply_to_user": {"reputation": 23873, "user_id": 1595451, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/08TCi.jpg?s=128&g=1", "display_name": "Rub&#233;n", "link": "https://stackoverflow.com/users/1595451/rub%c3%a9n"}, "edited": false, "score": 0, "creation_date": 1518058261, "post_id": 48674117, "comment_id": 84351706, "body": "I\u2019m sending it through gmail. What I mean by \u201cignore it\u201d is that the table is plain and doesn\u2019t follow the styling that I set. However, Tanaike\u2019s suggestion worked. I must have been doing something wrong because I tried the way he suggested and couldn\u2019t get it to work. Must have had it off slightly. Thanks for the input Tanaike. Any idea on an easy way to set the numbers as currency?"}], "answers": [{"tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": true, "score": 1, "last_activity_date": 1518051203, "creation_date": 1518051203, "answer_id": 48675784, "question_id": 48674117, "link": "https://stackoverflow.com/questions/48674117/google-app-script-html-table-styling/48675784#48675784", "title": "Google App Script HTML table styling", "body": "<p>It seems that <code>&lt;style&gt;</code> doesn't work at <code>htmlBody</code> of Gmail. I think that it might be removed. So please use the table tag with the style.</p>\n\n<p>In your case, <code>&lt;style&gt;table {border-collapse:collapse} table,td,th{border:1px solid black}&lt;/style&gt;</code> and <code>&lt;table style=\"width:100.0%\"&gt;</code> can be converted to <code>&lt;table style=\"width: 100%;border-collapse: collapse;border: 1px solid black\"&gt;</code>.</p>\n\n<p>The modified script is as follows.</p>\n\n<h3>From :</h3>\n\n<pre><code>var TABLEFORMAT = '&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;style&gt;table {border-collapse:collapse} table,td,th{border:1px solid black}&lt;/style&gt;'\nvar pre_html = '&lt;p&gt;Dear '+firstName+',&lt;/p&gt;&lt;p&gt;Your new balance is &lt;b&gt;'+cashGoalPosition+'&lt;/b&gt;. Below is a list of the invoices past due or due in the current month.&lt;/p&gt;&lt;table style=\"width:100.0%\"&gt;&lt;tbody&gt;'\n</code></pre>\n\n<h3>To :</h3>\n\n<pre><code>var TABLEFORMAT = '&lt;!DOCTYPE html&gt;&lt;html&gt;'\nvar pre_html = '&lt;p&gt;Dear '+firstName+',&lt;/p&gt;&lt;p&gt;Your new balance is &lt;b&gt;'+cashGoalPosition+'&lt;/b&gt;. Below is a list of the invoices past due or due in the current month.&lt;/p&gt;&lt;table style=\"width: 100%;border-collapse: collapse;border: 1px solid black\"&gt;&lt;tbody&gt;'\n</code></pre>\n\n<p>If I misunderstand your question, I'm sorry.</p>\n"}], "owner": {"reputation": 27, "user_id": 5667528, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0a65b17f13d172c84e899d2dee5fcf5e?s=128&d=identicon&r=PG&f=1", "display_name": "Cjgeno", "link": "https://stackoverflow.com/users/5667528/cjgeno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2463, "favorite_count": 0, "accepted_answer_id": 48675784, "answer_count": 1, "score": 1, "last_activity_date": 1518054558, "creation_date": 1518041402, "last_edit_date": 1518054558, "question_id": 48674117, "link": "https://stackoverflow.com/questions/48674117/google-app-script-html-table-styling", "title": "Google App Script HTML table styling", "body": "<p>I've created a function within GAS that takes data from google sheets and sends out individual emails based on a specific person; the function then loops to the next person and continues through the data.</p>\n\n<p>What I am having issue with now is formatting the HTML table that I've created by looping through the data.  When I run this the data shows up in a table format but I am unable to add borders, color, ect.  I currently have the styling under the TABLEFORMAT variable but I've also tried putting the style tags within the table, th, td, tr tags, but it just seems to ignore it.  However, I put the output into an HTML simulator and it comes out the way I want it.</p>\n\n<p>Does anyone know why this wouldnt work with a gs file?  Also, I'm trying to get cashGoalPosition to be in dollar format.  Thanks in advance for the help; I've been racking my brain with this and can't seem to figure it out.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function Auto_Email(){\n  var ss = SpreadsheetApp.getActiveSpreadsheet();\n  var shData = ss.getSheetByName(\"E-mail Data\");\n  var shEmail = ss.getSheetByName(\"E-mail List\");\n  var dataRange = shData.getDataRange(); // Fetch values for each row in the Range.\n  var emailRange = shEmail.getDataRange(); //fetch values for email list\n  var data = dataRange.getValues();\n  var nameData = emailRange.getValues();\n  var lastCol = dataRange.getLastColumn();\n\n   for (var i = 1; i &lt; nameData.length; i++) {\n      var rows = nameData[i];\n      var emailAddress = rows[2];//position of email header -1\n      var fullName = rows[1]; //position of name header -1\n      var firstName = rows[3]// the first name only\n      var cashGoalPosition = rows[0].toString(); //position of billing goal -1\n      var subject = firstName+\"'s Cash Goal\";\n      var htmltable = '';\n      var htmlmessage = \"\";\n     var TABLEFORMAT = '&lt;!DOCTYPE html&gt;&lt;html&gt;&lt;style&gt;table {border-collapse:collapse} table,td,th{border:1px solid black}&lt;/style&gt;'\n      var pre_html = '&lt;p&gt;Dear '+firstName+',&lt;/p&gt;&lt;p&gt;Your new balance is &lt;b&gt;'+cashGoalPosition+'&lt;/b&gt;. Below is a list of the invoices past due or due in the current month.&lt;/p&gt;&lt;table style=\"width:100.0%\"&gt;&lt;tbody&gt;'\n      var post_html = '&lt;p&gt;Regards,&lt;br&gt;John&lt;/p&gt;&lt;/html&gt;'\n\n      for (row = 0; row&lt;data.length; row++)\n      { \n        for (col = 0 ;col&lt;data[row].length; col++){\n          if (row == 0 &amp;&amp; col == 0) {htmltable += '&lt;tr&gt;&lt;th&gt;' + data[row][col] + '&lt;/th&gt;';}\n          else\n            if (row == 0 &amp;&amp; col == lastCol - 1) {htmltable+= '&lt;th&gt;' + data[row][col] + '&lt;/th&gt;&lt;/tr&gt;';}\n          else\n            if (row == 0) {htmltable+= '&lt;th&gt;' + data[row][col] + '&lt;/th&gt;';}\n          else\n            if (data[row][0] == fullName &amp;&amp; col == 0) {htmltable += '&lt;tr&gt;&lt;td&gt;' + data[row][col] + '&lt;/td&gt;';}\n          else\n            if (data[row][0] == fullName &amp;&amp; col == lastCol -1) {htmltable += '&lt;td&gt;' + data[row][col] + '&lt;/td&gt;&lt;/tr&gt;';}\n          else\n            if (data[row][0] == fullName) {htmltable += \"&lt;td&gt;\" + data[row][col] + \"&lt;/td&gt;\";}\n}\n\n      }\n\n     htmltable += '&lt;/tbody&gt;&lt;/table&gt;';\n     htmlmessage = TABLEFORMAT + pre_html + htmltable + post_html;\n\n\n     Logger.log(htmlmessage)\nMailApp.sendEmail(Session.getActiveUser().getEmail(), subject,'' ,{htmlBody: htmlmessage})\n      }(i);\n   }\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "css", "twitter-bootstrap", "bootstrap-4"], "comments": [{"owner": {"reputation": 29, "user_id": 8605121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ecf846bd4562dfbfde2acd048845f8?s=128&d=identicon&r=PG&f=1", "display_name": "dgfx", "link": "https://stackoverflow.com/users/8605121/dgfx"}, "edited": false, "score": 0, "creation_date": 1518041368, "post_id": 48674081, "comment_id": 84346634, "body": "Also noticing why is there an empty style attribute that gets inserted for no reason by bootstrap. That seems buggy."}, {"owner": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 1, "creation_date": 1518041500, "post_id": 48674081, "comment_id": 84346688, "body": "Welcome to StackOverflow! In order for us to help you better, can you please update your question so that it shows your <b>relevant code</b> in a <a href=\"http://stackoverflow.com/help/mcve\"><b>minimal, complete, and verifiable example</b></a>. It would also be helpful if you could let us know what you have <a href=\"http://meta.stackoverflow.com/questions/261592\"><b>tried so far</b></a> to solve your problem. For further information, please refer to the help article regarding <a href=\"http://stackoverflow.com/help/how-to-ask\"><b>how to ask good questions</b></a>, and take the <a href=\"http://stackoverflow.com/tour\"><b>tour of the site</b></a> :)"}, {"owner": {"reputation": 29, "user_id": 8605121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ecf846bd4562dfbfde2acd048845f8?s=128&d=identicon&r=PG&f=1", "display_name": "dgfx", "link": "https://stackoverflow.com/users/8605121/dgfx"}, "reply_to_user": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1518041987, "post_id": 48674081, "comment_id": 84346927, "body": "The images do that very well - clearly showing the page and the html. So far I have tried doing it the way its supposed to be done, and the results are bad. I also tried wrapping the row in a plain div with no luck."}, {"owner": {"reputation": 29, "user_id": 8605121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ecf846bd4562dfbfde2acd048845f8?s=128&d=identicon&r=PG&f=1", "display_name": "dgfx", "link": "https://stackoverflow.com/users/8605121/dgfx"}, "reply_to_user": {"reputation": 36576, "user_id": 2341603, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/ZTHIr.jpg?s=128&g=1", "display_name": "Obsidian Age", "link": "https://stackoverflow.com/users/2341603/obsidian-age"}, "edited": false, "score": 0, "creation_date": 1518042143, "post_id": 48674081, "comment_id": 84347006, "body": "I think this is as minimal and complete as can be. Does adding the bootstrap &quot;collapse&quot; class cause changes to elements within the target?"}, {"owner": {"reputation": 293125, "user_id": 171456, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/B1qTo.jpg?s=128&g=1", "display_name": "Zim", "link": "https://stackoverflow.com/users/171456/zim"}, "edited": false, "score": 0, "creation_date": 1518043147, "post_id": 48674081, "comment_id": 84347457, "body": "Where is the code?"}, {"owner": {"reputation": 258, "user_id": 6797108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9218118c61f816644d9d3a07d5e9ccff?s=128&d=identicon&r=PG", "display_name": "drtechno", "link": "https://stackoverflow.com/users/6797108/drtechno"}, "edited": false, "score": 0, "creation_date": 1518044126, "post_id": 48674081, "comment_id": 84347821, "body": "adding the collapse class doesn&#39;t, it just changes the height and width properties from fixed to fluid. when that happens since there is not a  container div between the collapse, the col-md divs adjust to the closes parent fixed container. in your example you linked, putting an extra div in and collapsing that instead of the row tag that should be inside of that div tag. Also, you might need to assign class=container in the added div"}, {"owner": {"reputation": 258, "user_id": 6797108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9218118c61f816644d9d3a07d5e9ccff?s=128&d=identicon&r=PG", "display_name": "drtechno", "link": "https://stackoverflow.com/users/6797108/drtechno"}, "edited": false, "score": 0, "creation_date": 1518044302, "post_id": 48674081, "comment_id": 84347884, "body": "I also suggest to post your code instead of linking it. Only some have zoom that will see your screen shot clearly."}, {"owner": {"reputation": 29, "user_id": 8605121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ecf846bd4562dfbfde2acd048845f8?s=128&d=identicon&r=PG&f=1", "display_name": "dgfx", "link": "https://stackoverflow.com/users/8605121/dgfx"}, "edited": false, "score": 0, "creation_date": 1518044566, "post_id": 48674081, "comment_id": 84347998, "body": "I found this: <a href=\"https://github.com/twbs/bootstrap/issues/22600\" rel=\"nofollow noreferrer\">github.com/twbs/bootstrap/issues/22600</a> which seems to be the same issue, somethign about collapse disabling flexbox. I adde the css snippet and it worked. .collapse {   display: none;   &amp;.show {     display: block;   }   &amp;.row.show {     display: flex;   } }"}], "answers": [{"tags": [], "owner": {"reputation": 258, "user_id": 6797108, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9218118c61f816644d9d3a07d5e9ccff?s=128&d=identicon&r=PG", "display_name": "drtechno", "link": "https://stackoverflow.com/users/6797108/drtechno"}, "is_accepted": false, "score": 0, "last_activity_date": 1518042981, "creation_date": 1518042981, "answer_id": 48674461, "question_id": 48674081, "link": "https://stackoverflow.com/questions/48674081/bootstrap-collapse-stacking-elements/48674461#48674461", "title": "bootstrap collapse stacking elements", "body": "<p>well the col-<em>-</em> css is a flexible container, that has padding and margin settings that change with screen size. There will be some elements that will be blank depending on screen size. When I build a menu I use fixed elements inside the collapse using ul and li tags like you would a nav bar. I have used the navbar code, then override colors inline by setting style attributes in the html tag. Also, you can dynamically insert display:none in an element via jquery or java might give you a better effect (which I use from time to time instead of the collapse routine bootstrap has set up.. ). You can also play with inserting offset-md-*  class in if you just need to offset a div container. But I use that for centering a responsive div like a login screen. </p>\n"}], "owner": {"reputation": 29, "user_id": 8605121, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1ecf846bd4562dfbfde2acd048845f8?s=128&d=identicon&r=PG&f=1", "display_name": "dgfx", "link": "https://stackoverflow.com/users/8605121/dgfx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518042981, "creation_date": 1518041272, "question_id": 48674081, "link": "https://stackoverflow.com/questions/48674081/bootstrap-collapse-stacking-elements", "title": "bootstrap collapse stacking elements", "body": "<p>I am using bootstrap 4.0.0 collapse to hide and reveal a bootstrap \"row\". The row contains four columns - \"col-md-3\" - of buttons. This row is laying out just as I want it too until I add the \"collapse\" class, which then causes all the cols inside the row to stack like block elements.</p>\n\n<p>Is this a known thing, that you can't put a row, or complex elements to be collapsed?</p>\n\n<p>Below are two screenshots of before and after - with the element html visible on the :<a href=\"https://i.stack.imgur.com/aoaBL.jpg\" rel=\"nofollow noreferrer\">Before</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/kp495.jpg\" rel=\"nofollow noreferrer\">After:bad</a></p>\n"}, {"tags": ["javascript", "html", "node.js", "asynchronous", "ejs"], "comments": [{"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1518041318, "post_id": 48674059, "comment_id": 84346619, "body": "if you want to use promisified &quot;requests&quot;: easily, then use <a href=\"https://www.npmjs.com/package/request-promise\" rel=\"nofollow noreferrer\">request-promise</a> - of course, you&#39;ll need to know how to use promises too - as it is, you are creating the promise in the asynchronous callback - which is too late"}, {"owner": {"reputation": 645, "user_id": 5250032, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/7b4a45157071e00347760e3eae663e17?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Berry", "link": "https://stackoverflow.com/users/5250032/christopher-berry"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1518041480, "post_id": 48674059, "comment_id": 84346677, "body": "Would I need to change a lot if i use request-promise?"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1518041659, "post_id": 48674059, "comment_id": 84346774, "body": "Not really, but hang on, will post an answer without request-promise"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1518042689, "post_id": 48674059, "comment_id": 84347231, "body": "Actually, request-promise is possibly overkill anyway for the code shown"}], "answers": [{"comments": [{"owner": {"reputation": 645, "user_id": 5250032, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/7b4a45157071e00347760e3eae663e17?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Berry", "link": "https://stackoverflow.com/users/5250032/christopher-berry"}, "edited": false, "score": 0, "creation_date": 1518042876, "post_id": 48674176, "comment_id": 84347321, "body": "Thank you this worked. I knew it had to be an organization thing. There is one problem with the apod_img_urls; for some reason the final url is undefined. Is there a common solution to this? EDIT: Turns out the url is actually undefined so I&#39;m guessing it&#39;s a problem with the API&gt;"}], "tags": [], "owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "is_accepted": true, "score": 2, "last_activity_date": 1518042963, "last_edit_date": 1518042963, "creation_date": 1518041736, "answer_id": 48674176, "question_id": 48674059, "link": "https://stackoverflow.com/questions/48674059/how-do-you-get-javascript-promises-to-work-with-node-express-and-display-on-an/48674176#48674176", "title": "How do you get javascript promises to work with node + express and display on an EJS file?", "body": "<p>You are creating the promise too late, inside the asynchronous callback to reequest - fairly simple reorganisation of code required</p>\n\n<p>Once all the promises are in an array, you then need to wait for them to complete, using Promise.all</p>\n\n<pre><code>app.get(\"/index\", function(req, res) {\n    /**Requesting NASA's Astronomy Picture of the Day**/\n    var apod_url = \"https://api.nasa.gov/planetary/apod?api_key=[My Key]\"\n    var promises = [];\n    var curr_moment = moment();\n    for(var i = 0; i &lt; 10; i++) {\n        var appended_url = apod_url + \"&amp;date=\" + curr_moment.subtract(i, \"days\").format(\"YYYY-MM-DD\");\n        promises.push(new Promise((resolve, reject) =&gt; {\n            request(appended_url, function(error, reponse, body) {\n                if(!error &amp;&amp; reponse.statusCode == 200) {\n                    var img_json = JSON.parse(body);\n                    resolve(img_json.hdurl);\n                } else {\n                    reject(error);\n                    console.log(error);\n                }\n            });\n        }));\n    }\n    Promise.all(promises).then(apod_img_urls =&gt; {\n        var url = \"https://launchlibrary.net/1.3/launch?next=20&amp;mode=verbose\";\n        request(url, function(error, response, body) {\n           if(!error &amp;&amp; response.statusCode == 200) {\n               var data = JSON.parse(body);\n               res.render(\"index\", {data, apod_img_urls});\n           } else {\n               console.log(error);\n           }\n        });\n    });\n});\n</code></pre>\n\n<p>Rather than using request-promise and all the cruft it requires, you can always make your own promisified <code>request</code> function, and in this case, it rejects if status is anything other than <code>200</code></p>\n\n<pre><code>const requestP = url =&gt; new Promise((resolve, reject) =&gt; request(url, (error, response, body) =&gt; {\n    if (error) {\n        reject({error, response, body});\n    } else if (resonse.statusCode != 200) {\n        reject(resonse.statusCode);\n    } else {\n        resolve({response, body});\n    }\n}));\n</code></pre>\n\n<p>now, your code can be written as:</p>\n\n<pre><code>app.get(\"/index\", function(req, res) {\n    /**Requesting NASA's Astronomy Picture of the Day**/\n    const apod_url = \"https://api.nasa.gov/planetary/apod?api_key=[My Key]\"\n    const curr_moment = moment();\n    Promise.all(Array.from({length:10}, (_, i) =&gt; {\n        const appended_url = apod_url + \"&amp;date=\" + curr_moment.subtract(i, \"days\").format(\"YYYY-MM-DD\");\n        return requestP(appended_url).then(({response, body}) =&gt; JSON.parse(body).hdurl);\n    })).then(apod_img_urls =&gt; {\n        const url = \"https://launchlibrary.net/1.3/launch?next=20&amp;mode=verbose\";\n        return requestP(url).then(({response, body}) =&gt; {\n            const data = JSON.parse(body);\n            return res.render(\"index\", {data, apod_img_urls});\n        });\n    });\n});   \n</code></pre>\n\n<p>Note: there's a lot of ES2015+ going on in there</p>\n"}, {"tags": [], "owner": {"reputation": 91104, "user_id": 613198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c0a8a4fb43f9c19b3391a7b1066d491f?s=128&d=identicon&r=PG", "display_name": "rsp", "link": "https://stackoverflow.com/users/613198/rsp"}, "is_accepted": false, "score": 1, "last_activity_date": 1518042624, "last_edit_date": 1518042624, "creation_date": 1518041912, "answer_id": 48674214, "question_id": 48674059, "link": "https://stackoverflow.com/questions/48674059/how-do-you-get-javascript-promises-to-work-with-node-express-and-display-on-an/48674214#48674214", "title": "How do you get javascript promises to work with node + express and display on an EJS file?", "body": "<p>If you use a promise-returning request library like <code>request-promise</code> then you can do something like:</p>\n\n<pre><code>app.get(\"/index\", function(req, res) {\n    var apod_url = \"https://api.nasa.gov/planetary/apod?api_key=[My Key]\"\n    var curr_moment = moment();\n    var urls = [];\n    for(var i = 0; i &lt; 10; i++) {\n        urls[i] = apod_url + \"&amp;date=\" + curr_moment.subtract(i, \"days\").format(\"YYYY-MM-DD\");\n    }\n    Promise.all(urls.map(url =&gt; rp({ url, json: true})).then((results) =&gt; {\n      // here you have all results with JSON already parsed for you\n      // ...\n    }).catch((err) =&gt; {\n      // handle error\n      // make sure to return response to client\n      // ...\n    });\n    // ...\n});\n</code></pre>\n\n<p>If you want to work with promises then use a promise-returning module like <code>request-promise</code> or <code>axios</code> instead of the standard <code>request</code>, see:</p>\n\n<ul>\n<li><a href=\"https://www.npmjs.com/package/request-promise\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/request-promise</a></li>\n<li><a href=\"https://www.npmjs.com/package/axios\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/axios</a></li>\n</ul>\n\n<p>Or, alternatively, use <code>bluebird.promisify</code> or built-in <code>util.primisify</code> (since 8.0) to promisify the <code>request</code> module, see:</p>\n\n<ul>\n<li><a href=\"http://bluebirdjs.com/docs/api/promise.promisify.html\" rel=\"nofollow noreferrer\">http://bluebirdjs.com/docs/api/promise.promisify.html</a></li>\n<li><a href=\"https://nodejs.org/dist/latest-v8.x/docs/api/util.html\" rel=\"nofollow noreferrer\">https://nodejs.org/dist/latest-v8.x/docs/api/util.html</a></li>\n</ul>\n\n<p>For more options of promisifying <code>request</code> see:</p>\n\n<ul>\n<li><a href=\"https://www.npmjs.com/package/request#promises--asyncawait\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/request#promises--asyncawait</a></li>\n</ul>\n\n<p>Then, when you have a promise-returning request library, make an array of URLs however you want, then map that array with the request functions, like this:</p>\n\n<pre><code>let rp = require('request-promise');\nlet urls = ['http://...', 'http://...'];\nlet promises = urls.map(rp);\n</code></pre>\n\n<p>and then use <code>Promise.all</code> to wait for all of them to finish, while being done concurrently:</p>\n\n<pre><code>Promise.all(promises)\n  .then(...)\n  .catch(...);\n</code></pre>\n\n<p>or, if you're using async/await, then:</p>\n\n<pre><code>try {\n  let x = await Promise.all(promises);\n  ...\n} catch (err) {\n  ...\n}\n</code></pre>\n\n<p>Many of modules like <code>axios</code> or <code>request-promise-json</code> or <code>request-promise</code> will parse JSON for you if you run it correctly, see:</p>\n\n<ul>\n<li><a href=\"https://github.com/request/request-promise#get-something-from-a-json-rest-api\" rel=\"nofollow noreferrer\">https://github.com/request/request-promise#get-something-from-a-json-rest-api</a></li>\n</ul>\n\n<p>Avoid parsing JSON yourself but if you do then <strong>always</strong> put <code>JSON.parse()</code> inside of <code>try/catch</code> (or use my little <a href=\"https://www.npmjs.com/package/tryjson\" rel=\"nofollow noreferrer\"><code>tryjson</code></a> module) - see those answers to know why:</p>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/11826384/calling-a-json-api-with-node-js/39612292#39612292\">Calling a JSON API with Node.js</a></li>\n<li><a href=\"https://stackoverflow.com/questions/44394650/reading-requests-body-nodejs/44394849#44394849\">Reading requests body Nodejs</a></li>\n<li><a href=\"https://stackoverflow.com/questions/40912653/node-js-ignores-undefined-check/40912917#40912917\">Node JS ignores undefined check</a></li>\n</ul>\n"}], "owner": {"reputation": 645, "user_id": 5250032, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/7b4a45157071e00347760e3eae663e17?s=128&d=identicon&r=PG&f=1", "display_name": "Christopher Berry", "link": "https://stackoverflow.com/users/5250032/christopher-berry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 551, "favorite_count": 0, "accepted_answer_id": 48674176, "answer_count": 2, "score": 1, "last_activity_date": 1518042963, "creation_date": 1518041151, "last_edit_date": 1518042492, "question_id": 48674059, "link": "https://stackoverflow.com/questions/48674059/how-do-you-get-javascript-promises-to-work-with-node-express-and-display-on-an", "title": "How do you get javascript promises to work with node + express and display on an EJS file?", "body": "<p>Before saying to look at the docs, I have and they were not helpful in the slightest.</p>\n\n<p>I have an web page with node as the backbone. On one page I need to request the past 10 images from NASA's Astronomy Picture of the Day (APOD) API and then after that, I need to request the next 5 upcoming launches from the Launch Library API (<a href=\"https://launchlibrary.net/docs/1.3/api.html\" rel=\"nofollow noreferrer\">https://launchlibrary.net/docs/1.3/api.html</a>). My problem is that not all the APODs will load (which I understand because of the nature of asynchronous requests).</p>\n\n<p>Here is my concise app.js file for the Node backend:</p>\n\n<pre><code>app.get(\"/index\", function(req, res) {\n    /**Requesting NASA's Astronomy Picture of the Day**/\n    var apod_url = \"https://api.nasa.gov/planetary/apod?api_key=[My Key]\"\n    var apod_img_urls = [];\n    var curr_moment = moment();\n    for(var i = 0; i &lt; 10; i++) {\n        var appended_url = apod_url + \"&amp;date=\" + curr_moment.subtract(i, \"days\").format(\"YYYY-MM-DD\");\n        request(appended_url, function(error, reponse, body) {\n            if(!error &amp;&amp; reponse.statusCode == 200) {\n                var img_json = JSON.parse(body);\n                if(img_json.media_type == \"image\") {\n                    var apod_promise = new Promise(function(resolve, reject){\n                        resolve(img_json.hdurl);\n                    });\n                    apod_img_urls.push(apod_promise);\n                }\n            } else {\n                console.log(error);\n            }\n        });\n    }\n    /**************************************************/\n\n    var url = \"https://launchlibrary.net/1.3/launch?next=20&amp;mode=verbose\";\n    request(url, function(error, response, body) {\n       if(!error &amp;&amp; response.statusCode == 200) {\n           var data = JSON.parse(body);\n           res.render(\"index\", {data: data, apod_img_urls: apod_img_urls});\n       } else {\n           console.log(error);\n       }\n    });\n});\n</code></pre>\n\n<p>Here is an EJS snippet</p>\n\n<pre><code>&lt;% apod_img_urls.forEach(function(promise, index) { %&gt;\n    &lt;div class=\"carousel-item &lt;%= (index == 0 ? 'active' : '') %&gt;\"&gt;\n        &lt;div class=\"w-100 home-image\" style=\"background-image: url('&lt;%= promise.then(function(url) {return url}); %&gt;')\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n&lt;% }); %&gt;\n</code></pre>\n\n<p>When I check in the source it shows that the background image urls for the divs are [object Promise]. The way I have it, no images show up. Also the number of divs displayed (i.e. the number of images I should have) is variable; sometimes it's 5, sometimes it's 3, and other times it's none. Could my problem be that I'm rendering the page inside of another request? Also how can I get the actual image URL to show up in the EJS file?</p>\n"}, {"tags": ["javascript", "html", "object", "scope", "global-variables"], "comments": [{"owner": {"reputation": 13, "user_id": 9310722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2054fdb8de4c551a6ce5cabb04e74388?s=128&d=identicon&r=PG&f=1", "display_name": "innerHTML", "link": "https://stackoverflow.com/users/9310722/innerhtml"}, "edited": false, "score": 0, "creation_date": 1518041247, "post_id": 48674045, "comment_id": 84346592, "body": "I hope the title of my question isn&#39;t too vague; the fact that I&#39;m not sure how to succinctly word my question is probably telling of the nature of my problem."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1518041601, "post_id": 48674045, "comment_id": 84346742, "body": "Don&#39;t use dynamic variable names, use an object to hold all the messages."}], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 9310722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2054fdb8de4c551a6ce5cabb04e74388?s=128&d=identicon&r=PG&f=1", "display_name": "innerHTML", "link": "https://stackoverflow.com/users/9310722/innerhtml"}, "edited": false, "score": 0, "creation_date": 1518043593, "post_id": 48674281, "comment_id": 84347637, "body": "This is excellent, thank you. I thought my error was in using <code>window[currentMsg]</code>.  The missing <code>msgName</code> stems from an earlier attempt to find a solution using properties (clearly I should have kept trying from that angle). I tried to purge all extraneous code for the sample, I guessed I missed those <code>msgName</code> properties in the first four objects. Good thing I did!"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1518042271, "creation_date": 1518042271, "answer_id": 48674281, "question_id": 48674045, "link": "https://stackoverflow.com/questions/48674045/the-object-referred-to-by-string-isnt-being-displayed/48674281#48674281", "title": "The object referred to by string isn&#39;t being displayed", "body": "<p>When <code>setMessage()</code> does <code>window[currentMsg] = msg;</code>, it replaces the value of the variable holding a message. E.g. if the current message is <code>msg_000</code>, and you do <code>setMessage(msg_002)</code>, it's equivalent to writing <code>msg_000 = msg_002;</code>.</p>\n\n<p>What you really want to do is change the value of <code>currentMsg</code> to be the name of the new message. So you should do: <code>currentMsg = msg.msgName;</code>.</p>\n\n<p>You were also missing the <code>msgName</code> property in <code>msg_003</code>.</p>\n\n<p>As a best practice, you shouldn't use global variables for all this. Create your own object <code>messages</code>, and use <code>messages[currentMsg]</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//messages\r\nvar msg_000 = { //Starts with this one, I want to be able to go back to it\r\n  msgName: \"msg_000\",\r\n  msgText: \"Sup! Choose an option!\",\r\n  choices: [\r\n    ans_000 = {\r\n      ansText: \"Climb a hill!\",\r\n      ansGoto: \"msg_001\" //this works\r\n    },\r\n    ans_001 = {\r\n      ansText: \"Skin a cat!\",\r\n      ansGoto: \"msg_002\" //this works\r\n    },\r\n    ans_002 = {\r\n      ansText: \"Build a birdhouse!\",\r\n      ansGoto: \"msg_003\" //this works\r\n    }\r\n  ]\r\n};\r\nvar msg_001 = {\r\n  msgName: \"msg_001\",\r\n  msgText: \"You summit the great snowy peaks!\",\r\n  choices: [\r\n    ans_000 = {\r\n      ansText: \"Talk to the Recursion Guru!\",\r\n      ansGoto: \"msg_000\" //this doesn't work\r\n    }\r\n  ]\r\n};\r\nvar msg_002 = {\r\n  msgName: \"msg_002\",\r\n  msgText: \"You suffer severe lacerations to the face!\",\r\n  choices: [\r\n    ans_000 = {\r\n      ansText: \"Start Over\",\r\n      ansGoto: \"msg_000\" //this doesn't work\r\n    }\r\n  ]\r\n};\r\nvar msg_003 = {\r\n  msgName: \"msg_003\",\r\n  msgText: \"You build a pretty average looking birdhouse. Some grackles have moved in nonetheless, placing their various knicknacks, bedding materials, and chrono-gateways within their new abode.\",\r\n  choices: [\r\n    ans_000 = {\r\n      ansText: \"Step through the chrono-gateway!\",\r\n      ansGoto: \"msg_000\" //this doesn't work\r\n    },\r\n    ans_001 = {\r\n      ansText: \"I think I wanna climb that mountain over there.\",\r\n      ansGoto: \"msg_001\" //this works\r\n    }\r\n  ]\r\n}\r\n\r\nvar currentMsg = \"msg_000\"; //the first message is \"msg_000\"\r\n\r\nprintCurrentMsg = function() {\r\n  document.getElementById(\"message\").innerHTML =\r\n    window[currentMsg].msgText;\r\n  //sets the message (the div with the id of \"message\")\r\n  //based on the \"currentMsg\" variable. \"currentMsg.msgText\" \r\n  //doesn't seem to work.\r\n  var choices = \"\";\r\n  for (var i = 0, l = window[currentMsg].choices.length; i &lt; l; i++) {\r\n    choices += \"&lt;p&gt;&lt;button onclick='setMessage(\" +\r\n      window[currentMsg].choices[i].ansGoto + \")'&gt;\" +\r\n      window[currentMsg].choices[i].ansText + \"&lt;br&gt;Goto \" +\r\n      window[currentMsg].choices[i].ansGoto + \"&lt;/button&gt;&lt;/p&gt;\";\r\n    //make the buttons, sets the button's onclick \r\n    //\"setMessage\" function's parameter to the the value of \r\n    //the \"ansGoto\" property -&gt; in the answers object at the \r\n    //i/th index of the choices property array -&gt; in the \r\n    //\"msg_(number)\" object.\"\r\n  };\r\n  document.getElementById(\"choices\").innerHTML = choices;\r\n  //takes the value of the \"choices\" [local?] variable and puts \r\n  //it in the \"choices\" div.\r\n};\r\n\r\nsetMessage = function(msg) {\r\n  currentMsg = msg.msgName;\r\n  printCurrentMsg(); //runs that function, seems to display the \r\n  //messages except the ones from object \"msg_000\".\r\n};\r\n\r\nprintCurrentMsg(); //Displays the initial message and choices \r\n//from \"msg_000\", but after a new message is chosen it won't \r\n//display \"msg_000\" if it's pointed to from an \"ansGoto\" \r\n//property.</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;body&gt;\r\n\r\n  &lt;div id=\"message\"&gt;&lt;/div&gt;\r\n  &lt;!-- \"msgText\" goes here --&gt;\r\n  &lt;div id=\"choices\"&gt;&lt;/div&gt;\r\n  &lt;!-- \"choices\" go here --&gt;\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 9310722, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2054fdb8de4c551a6ce5cabb04e74388?s=128&d=identicon&r=PG&f=1", "display_name": "innerHTML", "link": "https://stackoverflow.com/users/9310722/innerhtml"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 48674281, "answer_count": 1, "score": 1, "last_activity_date": 1518042271, "creation_date": 1518041087, "last_edit_date": 1518041741, "question_id": 48674045, "link": "https://stackoverflow.com/questions/48674045/the-object-referred-to-by-string-isnt-being-displayed", "title": "The object referred to by string isn&#39;t being displayed", "body": "<h2>My Intent: Making a CYOA Using Objects</h2>\n\n<p>I'm quite new to Javascript and have been trying to make a simple CYOA game, using <a href=\"http://jsfiddle.net/F2es9/\" rel=\"nofollow noreferrer\" title=\"Credit goes to u/bronkula, who I believe is also a user of SO\">this code</a> from <a href=\"https://www.reddit.com/r/javascript/comments/1wi2ue/making_a_text_adventure_game/cf28wt1/\" rel=\"nofollow noreferrer\">this Reddit comment</a> as a template. However, I want to use objects (whose values are intended to be constant) to store the various string values for the messages and the object each choice points to, as opposed to having all the objects in arrays and having to point to them using using their index in the array. My reasoning is that it'd be (theoretically) simpler for me to organize using strings like \"msg_001\" or \"story5_28\" rather than having to change a bunch of numbers in the event I inserted some new set of messages in the middle of an array.</p>\n\n<h2>My Problem: The First Message Isn't Displayed Again</h2>\n\n<p>Basically, I want to loop back to the first message and its set of answers, but it won't.</p>\n\n<p>The initial <code>printCurrentMsg()</code> works (changing the content of the \"message\" divs to the values of <code>msgText</code>, and looping through the object's <code>choices</code> array to set the buttons in the \"choices\" div, based on the object specified in <code>currentMsg</code>) and the buttons' respective <code>onlick</code> attributes seem to work, until they're set to show <code>msg_000</code>.</p>\n\n<p>It appears to be that whatever the value of <code>currentMsg</code> is, <code>printCurrentMsg</code> won't show the object the string refers to, other than when it does initially. Additionally, after using <code>console.log</code> at various points in the script, I noticed that <code>currentMsg</code> isn't changed, and using <code>console.log(typeof)</code> for both <code>currentMsg</code> and <code>window[currentMsg]</code> shows that the former is a string and the latter is an object. Am I unintentionally creating two separate variables?</p>\n\n<h2>I've tried...</h2>\n\n<ul>\n<li>...using parameters in <code>printCurrentMessage</code>.</li>\n<li>...using <code>currentMsg</code> in the functions instead of <code>window[currentMsg]</code>.</li>\n<li>...using dot notation instead of bracket notation.</li>\n<li>...using <code>this[]</code> instead of <code>window[]</code>.</li>\n</ul>\n\n<p>I'm not sure whether this has to do with <a href=\"https://stackoverflow.com/questions/23667086/why-is-my-variable-unaltered-after-i-modify-it-inside-of-a-function-asynchron\">asynchronicity</a>, I'm <a href=\"https://stackoverflow.com/questions/11922383/access-process-nested-objects-arrays-or-json\">accessing object properties</a> incorrectly, my comprehension of <a href=\"https://stackoverflow.com/questions/500431/what-is-the-scope-of-variables-in-javascript\">scope</a> is flawed, or if I'm erroneously using global variables. Should I be using some sort of callback?</p>\n\n<p>Using a \"dummy\" <code>msg_000</code>\u2014making another object with a different name but the same properties\u2014serves as a stopgap solution, but I still wouldn't understand what the problem is. Having all the <code>msg_***</code> objects in an array and referring to them by index number instead of string would also work, but I'm hesitant to rely on that for both the aforementioned tediousness and the fact that I still don't understand why the value of <code>currentMsg</code> remains unchanged.</p>\n\n<p>In order to better articulate my problem, <a href=\"https://jsfiddle.net/mdb39jwa/\" rel=\"nofollow noreferrer\">here is a jsfiddle with my code</a>, and I shall post it below as well.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//messages\r\nvar msg_000 = { //Starts with this one, I want to be able to go back to it\r\n  msgName: \"msg_000\",\r\n  msgText: \"Sup! Choose an option!\",\r\n  choices: [\r\n    ans_000 = {\r\n      ansText: \"Climb a hill!\",\r\n      ansGoto: \"msg_001\" //this works\r\n    },\r\n    ans_001 = {\r\n      ansText: \"Skin a cat!\",\r\n      ansGoto: \"msg_002\" //this works\r\n    },\r\n    ans_002 = {\r\n      ansText: \"Build a birdhouse!\",\r\n      ansGoto: \"msg_003\" //this works\r\n    }\r\n  ]\r\n};\r\nvar msg_001 = {\r\n  msgName: \"msg_001\",\r\n  msgText: \"You summit the great snowy peaks!\",\r\n  choices: [\r\n    ans_000 = {\r\n      ansText: \"Talk to the Recursion Guru!\",\r\n      ansGoto: \"msg_000\" //this doesn't work\r\n    }\r\n  ]\r\n};\r\nvar msg_002 = {\r\n  msgName: \"msg_002\",\r\n  msgText: \"You suffer severe lacerations to the face!\",\r\n  choices: [\r\n    ans_000 = {\r\n      ansText: \"Start Over\",\r\n      ansGoto: \"msg_000\" //this doesn't work\r\n    }\r\n  ]\r\n};\r\nvar msg_003 = {\r\n  msgText: \"You build a pretty average looking birdhouse. Some grackles have moved in nonetheless, placing their various knicknacks, bedding materials, and chrono-gateways within their new abode.\",\r\n  choices: [\r\n    ans_000 = {\r\n      ansText: \"Step through the chrono-gateway!\",\r\n      ansGoto: \"msg_000\" //this doesn't work\r\n    },\r\n    ans_001 = {\r\n      ansText: \"I think I wanna climb that mountain over there.\",\r\n      ansGoto: \"msg_001\" //this works\r\n    }\r\n  ]\r\n}\r\n\r\nvar currentMsg = \"msg_000\"; //the first message is \"msg_000\"\r\n\r\nprintCurrentMsg = function() {\r\n  document.getElementById(\"message\").innerHTML =\r\n    window[currentMsg].msgText;\r\n  //sets the message (the div with the id of \"message\")\r\n  //based on the \"currentMsg\" variable. \"currentMsg.msgText\" \r\n  //doesn't seem to work.\r\n  var choices = \"\";\r\n  for (var i = 0, l = window[currentMsg].choices.length; i &lt; l; i++) {\r\n    choices += \"&lt;p&gt;&lt;button onclick='setMessage(\" +\r\n      window[currentMsg].choices[i].ansGoto + \")'&gt;\" +\r\n      window[currentMsg].choices[i].ansText + \"&lt;br&gt;Goto \" +\r\n      window[currentMsg].choices[i].ansGoto + \"&lt;/button&gt;&lt;/p&gt;\";\r\n    //make the buttons, sets the button's onclick \r\n    //\"setMessage\" function's parameter to the the value of \r\n    //the \"ansGoto\" property -&gt; in the answers object at the \r\n    //i/th index of the choices property array -&gt; in the \r\n    //\"msg_(number)\" object.\"\r\n  };\r\n  document.getElementById(\"choices\").innerHTML = choices;\r\n  //takes the value of the \"choices\" [local?] variable and puts \r\n  //it in the \"choices\" div.\r\n};\r\n\r\nsetMessage = function(msg) {\r\n  window[currentMsg] = msg; //I think this is the source of all \r\n  //my problems, it's supposed to set \"currentMsg\" to the value \r\n  //of the \"msg\" parameter, but when I check it with \r\n  //console.log(currentMsg) it hasn't been changed (i.e., still \r\n  //it's initial value of \"msg_000\") and when I use \r\n  //console.log(window[currentMsg]) it returns \"[Object \r\n  //object]\"; using typeof shows me that \"currentMsg\" is a \r\n  //string and \"window[currentMsg]\" is an object. I thought \r\n  //they both were the same object, am I unintentionally \r\n  //creating two different objects?\r\n  printCurrentMsg(); //runs that function, seems to display the \r\n  //messages except the ones from object \"msg_000\".\r\n};\r\n\r\nprintCurrentMsg(); //Displays the initial message and choices \r\n//from \"msg_000\", but after a new message is chosen it won't \r\n//display \"msg_000\" if it's pointed to from an \"ansGoto\" \r\n//property.</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;body&gt;\r\n\r\n  &lt;div id=\"message\"&gt;&lt;/div&gt;\r\n  &lt;!-- \"msgText\" goes here --&gt;\r\n  &lt;div id=\"choices\"&gt;&lt;/div&gt;\r\n  &lt;!-- \"choices\" go here --&gt;\r\n\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Thank you for your time.</p>\n"}, {"tags": ["javascript", "jquery", "typescript", "npm"], "comments": [{"owner": {"reputation": 891, "user_id": 6749481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e30962b980293ffaff05455b7c013e?s=128&d=identicon&r=PG&f=1", "display_name": "An0num0us", "link": "https://stackoverflow.com/users/6749481/an0num0us"}, "edited": false, "score": 0, "creation_date": 1518041024, "post_id": 48673975, "comment_id": 84346493, "body": "<a href=\"http://prntscr.com/iblrdv\" rel=\"nofollow noreferrer\">prntscr.com/iblrdv</a> so there&#39;s something wrong with your jquery"}, {"owner": {"reputation": 1495, "user_id": 6246107, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/139889820052d02ab40c3a3db5aa3f33?s=128&d=identicon&r=PG&f=1", "display_name": "Kenry Sanchez", "link": "https://stackoverflow.com/users/6246107/kenry-sanchez"}, "edited": false, "score": 0, "creation_date": 1518041032, "post_id": 48673975, "comment_id": 84346496, "body": "is <code>jquery</code> the path of your JQuery Library?? you have to type the path of your JQuery library"}, {"owner": {"reputation": 891, "user_id": 6749481, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38e30962b980293ffaff05455b7c013e?s=128&d=identicon&r=PG&f=1", "display_name": "An0num0us", "link": "https://stackoverflow.com/users/6749481/an0num0us"}, "edited": false, "score": 0, "creation_date": 1518041218, "post_id": 48673975, "comment_id": 84346577, "body": "<a href=\"https://stackoverflow.com/questions/28969861/managing-jquery-plugin-dependency-in-webpack\" title=\"managing jquery plugin dependency in webpack\">stackoverflow.com/questions/28969861/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8576, "user_id": 802138, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/024ca42cf79ed90cd18eec585986629c?s=128&d=identicon&r=PG", "display_name": "Matthias", "link": "https://stackoverflow.com/users/802138/matthias"}, "edited": false, "score": 1, "creation_date": 1566424685, "post_id": 48677731, "comment_id": 101656489, "body": "No -- he is having a runtime error. Type declarations don&#39;t affect runtime code."}], "tags": [], "owner": {"reputation": 975, "user_id": 140747, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17dbde5a358c09cd7d40ca1f567b3ee1?s=128&d=identicon&r=PG", "display_name": "Pradeep Kumar", "link": "https://stackoverflow.com/users/140747/pradeep-kumar"}, "is_accepted": false, "score": 0, "last_activity_date": 1518065204, "creation_date": 1518065204, "answer_id": 48677731, "question_id": 48673975, "link": "https://stackoverflow.com/questions/48673975/typescript-and-jquery-import-is-not-a-function/48677731#48677731", "title": "Typescript and Jquery import - $ is not a function", "body": "<p>Seems like you are missing jQuery type definitions which are needed by typescript compiler. You need to install both jQuery and jQuery type definitions. If you are using <code>npm</code> to install packages, the below steps will work. (Otherwise make sure you have both the packages installed in your environment)</p>\n\n<p>1.Install jQUery</p>\n\n<pre><code>npm install --save jquery\n</code></pre>\n\n<p>2.Install jQuery type definitions</p>\n\n<pre><code>npm install -D @types/jquery\n</code></pre>\n\n<p>Now, you can import jQuery in your code as below</p>\n\n<pre><code>import * as $ from 'jquery';\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 4248, "user_id": 2333663, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/1ea215872ccae10c90c25905859debe5?s=128&d=identicon&r=PG", "display_name": "Muflix", "link": "https://stackoverflow.com/users/2333663/muflix"}, "edited": false, "score": 0, "creation_date": 1603620519, "post_id": 48686482, "comment_id": 114089215, "body": "With this approach I get the <code>Uncaught SyntaxError: The requested module &#39;..&#47;lib&#47;jquery&#47;dist&#47;jquery.js&#39; does not provide an export named &#39;default&#39;</code> * But I did not install jquery via <code>npm</code>, that might be the reason."}], "tags": [], "owner": {"reputation": 2623, "user_id": 463469, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d3a4da01a384dd4b5f2d33da2b2cc41b?s=128&d=identicon&r=PG", "display_name": "Anish", "link": "https://stackoverflow.com/users/463469/anish"}, "is_accepted": true, "score": 6, "last_activity_date": 1519666723, "last_edit_date": 1519666723, "creation_date": 1518096062, "answer_id": 48686482, "question_id": 48673975, "link": "https://stackoverflow.com/questions/48673975/typescript-and-jquery-import-is-not-a-function/48686482#48686482", "title": "Typescript and Jquery import - $ is not a function", "body": "<p>Found the solution.  To use $ as a function, I had to import the default from the the jquery npm module.  With this import statement, it works.</p>\n\n<pre><code>import $ from \"jquery\";\n</code></pre>\n\n<p>I also had to turn this on in tsconfig.json</p>\n\n<pre><code>\"allowSyntheticDefaultImports\":  true\n</code></pre>\n"}], "owner": {"reputation": 2623, "user_id": 463469, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/d3a4da01a384dd4b5f2d33da2b2cc41b?s=128&d=identicon&r=PG", "display_name": "Anish", "link": "https://stackoverflow.com/users/463469/anish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2800, "favorite_count": 0, "accepted_answer_id": 48686482, "answer_count": 2, "score": 2, "last_activity_date": 1519666723, "creation_date": 1518040771, "question_id": 48673975, "link": "https://stackoverflow.com/questions/48673975/typescript-and-jquery-import-is-not-a-function", "title": "Typescript and Jquery import - $ is not a function", "body": "<p>I'm using typescript with jquery, but I keep getting </p>\n\n<blockquote>\n  <p>Uncaught TypeError: $ is not a function</p>\n</blockquote>\n\n<p>Has anybody seen this before?</p>\n\n<p>I'm compiling typescript to ES2017, then transpiling to ES5 using webpack.</p>\n\n<pre><code>//tsconfig\n{\n      \"compileOnSave\": true,\n      \"compilerOptions\": {\n        \"module\": \"es2015\",\n\n        \"removeComments\": true,\n        \"preserveConstEnums\": true,\n        \"sourceMap\": true,\n        \"target\": \"es2017\",\n        \"noImplicitAny\": false,\n        \"outDir\": \"Output\",\n        \"esModuleInterop\": true\n\n      }\n    }\n</code></pre>\n\n<p>How jquery is being used</p>\n\n<pre><code>import * as $ from \"jquery\";\n var form = $(document.createElement('form'));\n</code></pre>\n\n<p>The browser sees jquery ($)\n<a href=\"https://i.stack.imgur.com/2LH8q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2LH8q.png\" alt=\"enter image description here\"></a></p>\n\n<p>But then I get this</p>\n\n<p><a href=\"https://i.stack.imgur.com/UttzF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UttzF.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 4, "creation_date": 1518040822, "post_id": 48673945, "comment_id": 84346395, "body": "Can you share input data and output data? (No images)"}, {"owner": {"reputation": 6460, "user_id": 6320039, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/U4QjP.jpg?s=128&g=1", "display_name": "Ulysse BN", "link": "https://stackoverflow.com/users/6320039/ulysse-bn"}, "edited": false, "score": 1, "creation_date": 1518041053, "post_id": 48673945, "comment_id": 84346500, "body": "It looks like your input data is not an array of arrays, but an array of objects (here <i>Resources</i>)"}], "answers": [{"comments": [{"owner": {"reputation": 6460, "user_id": 6320039, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/U4QjP.jpg?s=128&g=1", "display_name": "Ulysse BN", "link": "https://stackoverflow.com/users/6320039/ulysse-bn"}, "edited": false, "score": 0, "creation_date": 1518041256, "post_id": 48674054, "comment_id": 84346596, "body": "Then his <i>itemCount</i> variable would have a wrong value. Maybe it is important for OP"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1518041497, "last_edit_date": 1518041497, "creation_date": 1518041128, "answer_id": 48674054, "question_id": 48673945, "link": "https://stackoverflow.com/questions/48673945/delete-object-from-array-of-arrays/48674054#48674054", "title": "Delete object from array of arrays", "body": "<p>The input is an array of objects, but you're returning an array rather than an object from the <code>.map()</code> call. You need to return a copy of the original object, with the new array of items.</p>\n\n<pre><code>function specTplItemDropped(index, item, external, type, area1) {\n    let newArray = this.areas.map(areaV =&gt; {\n        let a = areaV.items.filter(itemV =&gt; {\n            let b = itemV.id !== item.id;\n            return b;\n        });\n        return Object.assign({items: a, itemCount: a.length}, areaV);\n    });\n\n    console.log(newArray);\n}\n</code></pre>\n"}], "owner": {"reputation": 9160, "user_id": 3935156, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/G8QuQ.jpg?s=128&g=1", "display_name": "BeniaminoBaggins", "link": "https://stackoverflow.com/users/3935156/beniaminobaggins"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 48674054, "answer_count": 1, "score": -2, "last_activity_date": 1518041497, "creation_date": 1518040637, "question_id": 48673945, "link": "https://stackoverflow.com/questions/48673945/delete-object-from-array-of-arrays", "title": "Delete object from array of arrays", "body": "<p>I just want to delete the <code>specTplItemDropped()</code> function parameter <code>item</code> from this data structure:</p>\n\n<pre><code>this.areas:\n      items:\n          item:\n</code></pre>\n\n<p>code:</p>\n\n<pre><code>public specTplItemDropped(index, item, external, type, area1) {\n    let newArray = this.areas.map(areaV =&gt; {\n        let a = areaV.items.filter(itemV =&gt; {\n            let b = itemV.id !== item.id;\n            return b;\n        });\n        return a;\n    });\n\n    console.log(newArray);\n</code></pre>\n\n<p>The new array should be the same as the old array, minus one item. But it is very different:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Opcai.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Opcai.png\" alt=\"enter image description here\"></a></p>\n\n<p>What am I doing wrong?</p>\n"}, {"tags": ["javascript", "d3.js", "hierarchy"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1518040681, "post_id": 48673942, "comment_id": 84346323, "body": "Can you share the &quot;hierarchical data&quot;?"}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1518041190, "post_id": 48673942, "comment_id": 84346563, "body": "&quot;but I am sure there must be a better way.&quot;  Why are you so sure?"}, {"owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1518041273, "post_id": 48673942, "comment_id": 84346604, "body": "Is <code>deepest</code> a typo for <code>longest</code>?  If not, where does it come from?"}, {"owner": {"reputation": 1091, "user_id": 6794075, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/985cc729b2714b948c183ec9d71853ba?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6794075/andrew"}, "reply_to_user": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1518041866, "post_id": 48673942, "comment_id": 84346873, "body": "@ScottSauyet It is, I wrote it as deepest for deepest level before I realized I needed to go both ways so changed it to something that made more sense in both directions, longest."}, {"owner": {"reputation": 1091, "user_id": 6794075, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/985cc729b2714b948c183ec9d71853ba?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6794075/andrew"}, "reply_to_user": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "edited": false, "score": 0, "creation_date": 1518042510, "post_id": 48673942, "comment_id": 84347145, "body": "@ScottSauyet I figure there must be functions intended for this, honestly I am a back end developer needing to handle some things in our system&#39;s front end, the duplicate question tells me that no there really isn&#39;t a much better way to do this."}, {"owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "edited": false, "score": 1, "creation_date": 1518051494, "post_id": 48673942, "comment_id": 84350098, "body": "I reopened this question because this is not exactly a duplicate: the question has the <a href=\"https://stackoverflow.com/questions/tagged/d3.js\">d3.js</a> tag and D3 has specific methods for that."}, {"owner": {"reputation": 1091, "user_id": 6794075, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/985cc729b2714b948c183ec9d71853ba?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6794075/andrew"}, "reply_to_user": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "edited": false, "score": 0, "creation_date": 1518051595, "post_id": 48673942, "comment_id": 84350129, "body": "@GerardoFurtado then there are specific answers. The heirarchy is put into d3 systems after this."}, {"owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "edited": false, "score": 0, "creation_date": 1518051719, "post_id": 48673942, "comment_id": 84350160, "body": "I am writing an answer right now but I didn&#39;t understand what you said above: you don&#39;t want a D3 solution, is that correct?"}, {"owner": {"reputation": 1091, "user_id": 6794075, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/985cc729b2714b948c183ec9d71853ba?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6794075/andrew"}, "reply_to_user": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "edited": false, "score": 0, "creation_date": 1518051763, "post_id": 48673942, "comment_id": 84350172, "body": "@GerardoFurtado d3 solution is fine."}], "answers": [{"comments": [{"owner": {"reputation": 1091, "user_id": 6794075, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/985cc729b2714b948c183ec9d71853ba?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6794075/andrew"}, "edited": false, "score": 0, "creation_date": 1518055345, "post_id": 48675888, "comment_id": 84351025, "body": "This definitely looks like it would solve half my issue, the issue is the datasource goes two ways, I may have <code>_children</code> and/or <code>_parents</code> from the &#39;root&#39; of my datasource, is there any way to handle both?"}, {"owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "reply_to_user": {"reputation": 1091, "user_id": 6794075, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/985cc729b2714b948c183ec9d71853ba?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6794075/andrew"}, "edited": false, "score": 2, "creation_date": 1518055378, "post_id": 48675888, "comment_id": 84351035, "body": "A root has no parent. If your root has parents, it&#39;s not a root!"}, {"owner": {"reputation": 1091, "user_id": 6794075, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/985cc729b2714b948c183ec9d71853ba?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6794075/andrew"}, "edited": false, "score": 0, "creation_date": 1518065793, "post_id": 48675888, "comment_id": 84353407, "body": "Technically the data is two trees goein either direction from the selected base object..."}, {"owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "reply_to_user": {"reputation": 1091, "user_id": 6794075, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/985cc729b2714b948c183ec9d71853ba?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6794075/andrew"}, "edited": false, "score": 0, "creation_date": 1518100347, "post_id": 48675888, "comment_id": 84373582, "body": "@Andrew in that case you have to share the data. Instead of editing this question, I suggest you post a new question, with the data (the two trees) and a clear description of the problem. If the data is too big, create two simple trees to work as examples."}, {"owner": {"reputation": 1091, "user_id": 6794075, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/985cc729b2714b948c183ec9d71853ba?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6794075/andrew"}, "edited": false, "score": 0, "creation_date": 1518134466, "post_id": 48675888, "comment_id": 84392318, "body": "I added to this question with a short example of the data, in three different possible configurations, which configuration depends on where the user starts (if the open from the &#39;order&#39; they get option 2)"}], "tags": [], "owner": {"reputation": 90540, "user_id": 5768908, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/wf0PS.jpg?s=128&g=1", "display_name": "Gerardo Furtado", "link": "https://stackoverflow.com/users/5768908/gerardo-furtado"}, "is_accepted": false, "score": 2, "last_activity_date": 1518051910, "creation_date": 1518051910, "answer_id": 48675888, "question_id": 48673942, "link": "https://stackoverflow.com/questions/48673942/find-the-length-of-the-longest-chain-in-a-hierarchy/48675888#48675888", "title": "Find the length of the longest chain in a hierarchy", "body": "<p>You said that you...</p>\n\n<blockquote>\n  <p>need to find the length of the longest chain in that datasource.</p>\n</blockquote>\n\n<p>That is the length going to the root to the deepest leaf in the data structure. There are convenient D3 methods to quickly find the deepest leaf.</p>\n\n<p>So, suppose we have a hierarchical data like <a href=\"https://github.com/d3/d3-hierarchy\" rel=\"nofollow noreferrer\">this</a>:</p>\n\n<pre><code>{\n    \"name\": \"Eve\",\n    \"children\": [{\n        \"name\": \"Cain\"\n    }, {\n        \"name\": \"Seth\",\n        \"children\": [{\n            \"name\": \"Enos\"\n        }, {\n            \"name\": \"Noam\"\n        }]\n    }, {\n        \"name\": \"Abel\"\n    }, {\n        \"name\": \"Awan\",\n        \"children\": [{\n            \"name\": \"Enoch\"\n        }]\n    }, {\n        \"name\": \"Azura\"\n    }]\n}\n</code></pre>\n\n<p>When you pass it to <code>d3.hierarchy()</code>...</p>\n\n<pre><code>var hierarchy = d3.hierarchy(data);\n</code></pre>\n\n<p>... it automatically creates a property named <code>depth</code> in each node:</p>\n\n<blockquote>\n  <p>node.depth - zero for the root node, and increasing by one for each descendant generation.</p>\n</blockquote>\n\n<p>So, we just need a simple function to get the biggest <code>depth</code> value. For instance:</p>\n\n<pre><code>var longest = d3.max(hierarchy.descendants().map(function(d) {\n    return d.depth\n}));\n</code></pre>\n\n<p>Here is a demo:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var data = {\r\n  \"name\": \"Eve\",\r\n  \"children\": [{\r\n    \"name\": \"Cain\"\r\n  }, {\r\n    \"name\": \"Seth\",\r\n    \"children\": [{\r\n      \"name\": \"Enos\"\r\n    }, {\r\n      \"name\": \"Noam\"\r\n    }]\r\n  }, {\r\n    \"name\": \"Abel\"\r\n  }, {\r\n    \"name\": \"Awan\",\r\n    \"children\": [{\r\n      \"name\": \"Enoch\"\r\n    }]\r\n  }, {\r\n    \"name\": \"Azura\"\r\n  }]\r\n};\r\n\r\nvar hierarchy = d3.hierarchy(data);\r\nvar longest = d3.max(hierarchy.descendants().map(function(d) {\r\n  return d.depth\r\n}));\r\nconsole.log(\"The longest chain has \" + (longest + 1) + \" levels.\")</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://d3js.org/d3.v4.min.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1091, "user_id": 6794075, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/985cc729b2714b948c183ec9d71853ba?s=128&d=identicon&r=PG&f=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/6794075/andrew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 163, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1518134365, "creation_date": 1518040617, "last_edit_date": 1518134365, "question_id": 48673942, "link": "https://stackoverflow.com/questions/48673942/find-the-length-of-the-longest-chain-in-a-hierarchy", "title": "Find the length of the longest chain in a hierarchy", "body": "<p>I have hierarchical data being used to create an svg in my application. I need to find the length of the longest chain in that datasource. I could go through the datasource level by level, recursively going deeper into it to read _children, calling a recursive function to count the levels, but I am sure there must be a better way. This is further complicates because the datasource can go both directions from the node it starts on with _children and _parents.</p>\n\n<pre><code>var findChildren = function (ds, level) {\n    if (!ds._children || ds._children.length == 0) {\n        return level;\n    }\n\n    var longest = level + 1;\n    ds._children.forEach(function (item) {\n        var result = findChildren(item, level + 1);\n        if (result &gt; longest) {\n            longest = result;\n        }\n    });\n    return longest;\n}\n</code></pre>\n\n<p>This is the function I am currently using, with an identical one that checks <code>ds._parents</code> to go the other way, passing the result of one as the starting level of the other. I am just sure there must be a better way...</p>\n\n<p>For example, the same data could be in three ways, depending where the user opened the tree from.</p>\n\n<ol>\n<li><p><code>{\"number\":1,\"type\":\"Delivery\",\"_parents\":[{\"number\":1,\"type\":\"Order\",\"_parents\":[{\"number\":1,\"type\":\"Quote\"}]}]}</code></p></li>\n<li><p><code>{\"number\":1,\"type\":\"Order\",\"_parents\":[{\"number\":1,\"type\":\"Quote\"}],\n\"_children\":[{\"number\":1,\"type\":\"Delivery\"}]}</code></p></li>\n<li><p><code>{\"number\":1,\"type\":\"Quote\",\"_children\":[{\"number\":1,\"type\":\"Order\",\"_children\":[{\"number\":1,\"type\":\"Delivery\"}]}]}</code></p></li>\n</ol>\n"}, {"tags": ["javascript", "node.js", "google-chrome-devtools", "puppeteer", "headless-browser"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1518040528, "post_id": 48673906, "comment_id": 84346259, "body": "Actually with jQuery you can call <code>$(&quot;a.showGoals&quot;).toArray()</code>"}, {"owner": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "reply_to_user": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1518040636, "post_id": 48673906, "comment_id": 84346306, "body": "Thanks for the jQuery tip :-) I&#39;ve updated it on my question...Any ideas with puppeteer ? thanks"}, {"owner": {"reputation": 1568, "user_id": 3395829, "user_type": "registered", "accept_rate": 54, "profile_image": "https://i.stack.imgur.com/54mex.jpg?s=128&g=1", "display_name": "Thinkerer", "link": "https://stackoverflow.com/users/3395829/thinkerer"}, "edited": false, "score": 0, "creation_date": 1555818778, "post_id": 48673906, "comment_id": 98230844, "body": "Possible duplicate of this question below. Check out the reply on it.    <a href=\"https://stackoverflow.com/questions/51782734/puppeteer-find-array-elements-in-page-and-then-click\" title=\"puppeteer find array elements in page and then click\">stackoverflow.com/questions/51782734/&hellip;</a>"}, {"owner": {"reputation": 3493, "user_id": 11263560, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8qB1s.jpg?s=128&g=1", "display_name": "recnac", "link": "https://stackoverflow.com/users/11263560/recnac"}, "edited": false, "score": 0, "creation_date": 1556153121, "post_id": 48673906, "comment_id": 98344073, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/51782734/puppeteer-find-array-elements-in-page-and-then-click\">Puppeteer find array elements in page and then click</a>"}], "answers": [{"comments": [{"owner": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "edited": false, "score": 0, "creation_date": 1518085281, "post_id": 48674086, "comment_id": 84363131, "body": "so trying this out this morning and the click events do not seem to be firing...."}, {"owner": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "edited": false, "score": 0, "creation_date": 1518085760, "post_id": 48674086, "comment_id": 84363480, "body": "see my updated question with what i did to get it working, though your answer should have done the same thing right ?"}, {"owner": {"reputation": 87200, "user_id": 122005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MX2CF.jpg?s=128&g=1", "display_name": "chridam", "link": "https://stackoverflow.com/users/122005/chridam"}, "reply_to_user": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "edited": false, "score": 0, "creation_date": 1518086249, "post_id": 48674086, "comment_id": 84363842, "body": "If you stick in a <code>console.log(element)</code> within the loop, do you actually get the element logged?"}], "tags": [], "owner": {"reputation": 87200, "user_id": 122005, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/MX2CF.jpg?s=128&g=1", "display_name": "chridam", "link": "https://stackoverflow.com/users/122005/chridam"}, "is_accepted": false, "score": 21, "last_activity_date": 1539470198, "last_edit_date": 1539470198, "creation_date": 1518041304, "answer_id": 48674086, "question_id": 48673906, "link": "https://stackoverflow.com/questions/48673906/collect-elements-by-class-name-and-then-click-each-one-puppeteer/48674086#48674086", "title": "Collect elements by class name and then click each one - Puppeteer", "body": "<p>Use <strong><a href=\"https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#pageevaluatepagefunction-args\" rel=\"noreferrer\"><code>page.evaluate</code></a></strong> to execute JS:</p>\n\n<pre><code>const puppeteer = require('puppeteer');\n\npuppeteer.launch().then(async browser =&gt; {\n    const page = await browser.newPage();\n    await page.evaluate(() =&gt; {\n        let elements = document.getElementsByClassName('showGoals');\n        for (let element of elements)\n            element.click();\n    });\n    // browser.close();\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 3174, "user_id": 12412595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RhbKC.png?s=128&g=1", "display_name": "theDavidBarton", "link": "https://stackoverflow.com/users/12412595/thedavidbarton"}, "edited": false, "score": 1, "creation_date": 1592742834, "post_id": 54712599, "comment_id": 110527525, "body": "The first solution isn&#39;t correct and won&#39;t work because the outer arrow function should be an <i>async</i> function so the <i>await</i> is allowed inside. Also the <code>link.click()</code> should be awaited too. While in the second (clickThemAll) solution also lacks the <code>await</code> before the <code>link.click()</code>. I would say fix these in the answer, but the main problem is that it suggests a bad practice: <b>such cases shouldn&#39;t be done by an <code>array.map</code>!</b> (I) A <i>map</i> returns another array with the same length, in case of clicks we don&#39;t need it. (II) Inside the map we can&#39;t perform async events in order..."}, {"owner": {"reputation": 3174, "user_id": 12412595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RhbKC.png?s=128&g=1", "display_name": "theDavidBarton", "link": "https://stackoverflow.com/users/12412595/thedavidbarton"}, "edited": false, "score": 0, "creation_date": 1592743053, "post_id": 54712599, "comment_id": 110527591, "body": "... That can cause many issues if the squence is important and you want <code>await</code> to work as expected. Either use a <code>for...of</code> or a regular <code>for</code> loop (even a <code>forEach</code> can cause the same issues)."}, {"owner": {"reputation": 2361, "user_id": 926740, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/444ad5f7295003ac83ce72fe033fae3c?s=128&d=identicon&r=PG", "display_name": "Rafael &#39;BSIDES&#39; Pereira", "link": "https://stackoverflow.com/users/926740/rafael-bsides-pereira"}, "reply_to_user": {"reputation": 3174, "user_id": 12412595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RhbKC.png?s=128&g=1", "display_name": "theDavidBarton", "link": "https://stackoverflow.com/users/12412595/thedavidbarton"}, "edited": false, "score": 0, "creation_date": 1592786316, "post_id": 54712599, "comment_id": 110540562, "body": "Fixed using [].forEach instead of [].map. I agree map is unnecessary as we don&#39;t need to return anything. Also, why are we worried about the order of events? It&#39;s not in OP&#39;s question."}, {"owner": {"reputation": 3174, "user_id": 12412595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RhbKC.png?s=128&g=1", "display_name": "theDavidBarton", "link": "https://stackoverflow.com/users/12412595/thedavidbarton"}, "edited": false, "score": 0, "creation_date": 1592818574, "post_id": 54712599, "comment_id": 110550429, "body": "Sorry, I made the wrong wording about the order of events. I meant: the order of the <code>forEach</code> and the next async events order does matter. And it matters in all cases when we deal with puppeteer. The polyfill of forEach looks like this: <code>arr.forEach(callback(currentValue [, index [, array]])[, thisArg])</code> : the callback is called but it does not wait to be done before going to the next element of the array. If you run the code above you will see it throws: <code>UnhandledPromiseRejectionWarning: Error: Node is either not visible or not an HTMLElement</code>. While it does work in a for or for...of loop."}, {"owner": {"reputation": 3174, "user_id": 12412595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RhbKC.png?s=128&g=1", "display_name": "theDavidBarton", "link": "https://stackoverflow.com/users/12412595/thedavidbarton"}, "edited": false, "score": 0, "creation_date": 1592818656, "post_id": 54712599, "comment_id": 110550476, "body": "I will explain it in detail and compare the various options in a separate answer soon."}, {"owner": {"reputation": 2361, "user_id": 926740, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/444ad5f7295003ac83ce72fe033fae3c?s=128&d=identicon&r=PG", "display_name": "Rafael &#39;BSIDES&#39; Pereira", "link": "https://stackoverflow.com/users/926740/rafael-bsides-pereira"}, "reply_to_user": {"reputation": 3174, "user_id": 12412595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RhbKC.png?s=128&g=1", "display_name": "theDavidBarton", "link": "https://stackoverflow.com/users/12412595/thedavidbarton"}, "edited": false, "score": 1, "creation_date": 1592919547, "post_id": 54712599, "comment_id": 110592853, "body": "I see! Good to know, thank you! Also, I think your answer would be super helpful not only here but as a puppeteer example, as I constantly find different examples like my post everywhere."}, {"owner": {"reputation": 3174, "user_id": 12412595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RhbKC.png?s=128&g=1", "display_name": "theDavidBarton", "link": "https://stackoverflow.com/users/12412595/thedavidbarton"}, "edited": false, "score": 0, "creation_date": 1593273698, "post_id": 54712599, "comment_id": 110724514, "body": "hi @bsides, I&#39;ve just posted the mentioned comparison. Not that strong in technical explanations, but I think I made a thorough work with testing and benchmarking them out. I&#39;ve referenced some reading material at the bottom of the answer from better authors than me \ud83d\ude05. A slightly modified version of your <code>page.$$eval</code> + <code>Array.forEach</code> solution turned out to be the best performing one, so nice job! ;) I just use it without declaring it as a <code>const</code> (as it is not a reusable returned value). One syntax thing: you missed the closing parenthesis of the $$eval."}, {"owner": {"reputation": 2361, "user_id": 926740, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/444ad5f7295003ac83ce72fe033fae3c?s=128&d=identicon&r=PG", "display_name": "Rafael &#39;BSIDES&#39; Pereira", "link": "https://stackoverflow.com/users/926740/rafael-bsides-pereira"}, "reply_to_user": {"reputation": 3174, "user_id": 12412595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RhbKC.png?s=128&g=1", "display_name": "theDavidBarton", "link": "https://stackoverflow.com/users/12412595/thedavidbarton"}, "edited": false, "score": 1, "creation_date": 1593394053, "post_id": 54712599, "comment_id": 110756376, "body": "Oh, your post is a big one! I&#39;m going to read it this week. Already took care of your comments too, thank you!"}, {"owner": {"reputation": 3946, "user_id": 65706, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/6e0652a12b8a5b2577f91f0e192ea3f9?s=128&d=identicon&r=PG", "display_name": "Yordan Georgiev", "link": "https://stackoverflow.com/users/65706/yordan-georgiev"}, "edited": false, "score": 0, "creation_date": 1594542210, "post_id": 54712599, "comment_id": 111157529, "body": "<code>await page.$$eval(&#39;a.cls-context-menu-link&#39;, links =&gt; links.forEach(link =&gt; link.click()))</code> - the only one working snippet ..."}], "tags": [], "owner": {"reputation": 2361, "user_id": 926740, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/444ad5f7295003ac83ce72fe033fae3c?s=128&d=identicon&r=PG", "display_name": "Rafael &#39;BSIDES&#39; Pereira", "link": "https://stackoverflow.com/users/926740/rafael-bsides-pereira"}, "is_accepted": false, "score": 15, "last_activity_date": 1593393966, "last_edit_date": 1593393966, "creation_date": 1550245195, "answer_id": 54712599, "question_id": 48673906, "link": "https://stackoverflow.com/questions/48673906/collect-elements-by-class-name-and-then-click-each-one-puppeteer/54712599#54712599", "title": "Collect elements by class name and then click each one - Puppeteer", "body": "<p>To get all elements, you should use <a href=\"https://pptr.dev/#?product=Puppeteer&amp;version=v1.12.2&amp;show=api-pageselector-1\" rel=\"noreferrer\"><code>page.$$</code></a> method, which is the same as <code>[...document.querySelectorAll]</code> (spread inside an array) from reqular browser API.</p>\n<p>Then you could loop through it (map, for, whatever you like) and evaluate each link:</p>\n<pre><code>const getThemAll = await page.$$('a.showGoals')\ngetThemAll.forEach(async link =&gt; {\n  await page.evaluate(() =&gt; link.click())\n})\n</code></pre>\n<p>Since you also want to do actions with the things you got, I'd recommend using <a href=\"https://pptr.dev/#?product=Puppeteer&amp;version=v1.12.2&amp;show=api-pageevalselector-pagefunction-args\" rel=\"noreferrer\"><code>page.$$eval</code></a> which will do the same as above and run an evaluation function afterwards with each of the elements in the array in one line. For example:</p>\n<pre><code>await page.$$eval('a.showGoals', links =&gt; links.forEach(link =&gt; link.click()))\n</code></pre>\n<p>To explain the line above better, <code>$$eval</code> returns an array of links, then it executes a callback function with the <code>links</code> as argument then it runs through every link via <code>forEach</code> method and finally execute the <code>click</code> function in each one.</p>\n<p>Check the <a href=\"https://pptr.dev/#?product=Puppeteer&amp;version=v1.12.2&amp;show=api-class-page\" rel=\"noreferrer\">official documentation</a> too, they have good examples there.</p>\n"}, {"tags": [], "owner": {"reputation": 18880, "user_id": 4283581, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/a6JjK.jpg?s=128&g=1", "display_name": "Grant Miller", "link": "https://stackoverflow.com/users/4283581/grant-miller"}, "is_accepted": false, "score": 4, "last_activity_date": 1584482233, "creation_date": 1584482233, "answer_id": 60730815, "question_id": 48673906, "link": "https://stackoverflow.com/questions/48673906/collect-elements-by-class-name-and-then-click-each-one-puppeteer/60730815#60730815", "title": "Collect elements by class name and then click each one - Puppeteer", "body": "<h3>page.$$() / elementHandle.click()</h3>\n\n<p>You can use <a href=\"https://github.com/puppeteer/puppeteer/blob/master/docs/api.md#pageselector-1\" rel=\"nofollow noreferrer\"><code>page.$$()</code></a> to create an <a href=\"https://github.com/puppeteer/puppeteer/blob/master/docs/api.md#class-elementhandle\" rel=\"nofollow noreferrer\"><code>ElementHandle</code></a> array based on the given selector, and then you can use <a href=\"https://github.com/puppeteer/puppeteer/blob/master/docs/api.md#elementhandleclickoptions\" rel=\"nofollow noreferrer\"><code>elementHandle.click()</code></a> to click each element:</p>\n\n<pre><code>const elements = await page.$$('a.showGoals');\n\nelements.forEach(async element =&gt; {\n  await element.click();\n});\n</code></pre>\n\n<blockquote>\n  <p><strong>Note:</strong> Remember to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/await\" rel=\"nofollow noreferrer\"><code>await</code></a> the click in an <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\"><code>async</code></a> function. Otherwise, you will receive the following error:</p>\n  \n  <p>SyntaxError: await is only valid in async function</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 3174, "user_id": 12412595, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RhbKC.png?s=128&g=1", "display_name": "theDavidBarton", "link": "https://stackoverflow.com/users/12412595/thedavidbarton"}, "is_accepted": false, "score": 16, "last_activity_date": 1593273061, "last_edit_date": 1593273061, "creation_date": 1593272636, "answer_id": 62612102, "question_id": 48673906, "link": "https://stackoverflow.com/questions/48673906/collect-elements-by-class-name-and-then-click-each-one-puppeteer/62612102#62612102", "title": "Collect elements by class name and then click each one - Puppeteer", "body": "<h1>Iterating puppeteer async methods in <code>for</code> loop vs. <code>Array.map()/Array.forEach()</code></h1>\n<p>As all puppeteer methods are asynchronous it doesn't matter how we iterate over them. I've made a comparison and a rating of the most commonly recommended and used options.</p>\n<p>For this purpose, I have created a React.Js example page with a lot of React buttons <a href=\"https://thedavidbarton.github.io/react-examples/#/lot-of-react-buttons\" rel=\"noreferrer\">here</a> (I just call it <em>Lot Of React Buttons</em>). Here <strong>(1)</strong> we are able set how many buttons to be rendered on the page; <strong>(2)</strong> we can activate the black buttons to turn green by clicking on them. I consider it an identical use case as the OP's, and it is also a general case of browser automation (we expect something to happen if we do something on the page).\nLet's say our use case is:</p>\n<pre><code>Scenario outline: click all the buttons with the same selector\n  Given I have &lt;no.&gt; black buttons on the page\n  When I click on all of them\n  Then I should have &lt;no.&gt; green buttons on the page\n</code></pre>\n<p>There is a conservative and a rather extreme scenario. To click <strong><code>no. = 132</code></strong> buttons is not a huge CPU task, <strong><code>no. = 1320</code></strong> can take a bit of time.</p>\n<hr />\n<h2>I. Array.map</h2>\n<p>In general, if we only want to perform async methods like <a href=\"https://pptr.dev/#?product=Puppeteer&amp;version=v4.0.1&amp;show=api-elementhandleclickoptions\" rel=\"noreferrer\"><code>elementHandle.click</code></a> in iteration, but we don't want to return a new array: it is a bad practice to use <code>Array.map</code>. Map method execution is going to finish before all the iteratees are executed completely because Array iteration methods execute the iteratees synchronously, but the puppeteer methods, the iteratees are: asynchronous.</p>\n<h3>Code example</h3>\n<pre class=\"lang-js prettyprint-override\"><code>const elHandleArray = await page.$$('button')\n\nelHandleArray.map(async el =&gt; {\n  await el.click()\n})\n\nawait page.screenshot({ path: 'clicks_map.png' })\nawait browser.close()\n</code></pre>\n<h3>Specialties</h3>\n<ul>\n<li>returns another array</li>\n<li>parallel execution inside the .map method</li>\n<li>fast</li>\n</ul>\n<h3>132 buttons scenario result: \u274c</h3>\n<p>Duration: 891 ms</p>\n<p>By watching the browser in headful mode it looks like it works, but if we check when the <code>page.screenshot</code> happened: we can see the clicks were still in progress. It is due to the fact the <code>Array.map</code> cannot be awaited by default. It is only luck that the script had enough time to resolve all clicks on all elements until the browser was not closed.</p>\n<p><img src=\"https://raw.githubusercontent.com/theDavidBarton/react-examples/master/posts/img/clicks_map_02.gif\" width=\"329\"/><img src=\"https://raw.githubusercontent.com/theDavidBarton/react-examples/master/posts/img/clicks_map_02.png\" width=\"329\"/></p>\n<h3>1320 buttons scenario result: \u274c</h3>\n<p>Duration: 6868 ms</p>\n<p>If we increase the number of elements of the same selector we will run into the following error:\n<code>UnhandledPromiseRejectionWarning: Error: Node is either not visible or not an HTMLElement</code>, because we already reached <code>await page.screenshot()</code> and <code>await browser.close()</code>: the async clicks are still in progress while the browser is already closed.</p>\n<hr />\n<h2>II. Array.forEach</h2>\n<p>All the iteratees will be executed, but forEach is going to return before all of them finish execution, which is not the desirable behavior in many cases with async functions. In terms of puppeteer it is a very similar case to <code>Array.map</code>, except: for <code>Array.forEach</code> does not return a new array.</p>\n<h3>Code example</h3>\n<pre class=\"lang-js prettyprint-override\"><code>const elHandleArray = await page.$$('button')\n\nelHandleArray.forEach(async el =&gt; {\n  await element.click()\n})\n\nawait page.screenshot({ path: 'clicks_foreach.png' })\nawait browser.close()\n</code></pre>\n<h3>Specialties</h3>\n<ul>\n<li>parallel execution inside the .forEach method</li>\n<li>fast</li>\n</ul>\n<h3>132 buttons scenario result: \u274c</h3>\n<p>Duration: 1058 ms</p>\n<p>By watching the browser in headful mode it looks like it works, but if we check when the <code>page.screenshot</code> happened: we can see the clicks were still in progress.</p>\n<p><img src=\"https://raw.githubusercontent.com/theDavidBarton/react-examples/master/posts/img/clicks_foreach_02.gif\" width=\"329\"/><img src=\"https://raw.githubusercontent.com/theDavidBarton/react-examples/master/posts/img/clicks_foreach_02.png\" width=\"329\"/></p>\n<h3>1320 buttons scenario result: \u274c</h3>\n<p>Duration: 5111 ms</p>\n<p>If we increase the number of elements with the same selector we will run into the following error:\n<code>UnhandledPromiseRejectionWarning: Error: Node is either not visible or not an HTMLElement</code>, because we already reached <code>await page.screenshot()</code> and <code>await browser.close()</code>: the async clicks are still in progress while the browser is already closed.</p>\n<hr />\n<h2>III. page.$$eval + forEach</h2>\n<p>The best performing solution is a slightly modified version of <em>bside</em>'s <a href=\"https://stackoverflow.com/a/54712599/12412595\">answer</a>. The <strong>page.$$eval</strong> (<a href=\"https://pptr.dev/#?product=Puppeteer&amp;version=v4.0.1&amp;show=api-pageevalselector-pagefunction-args\" rel=\"noreferrer\"><code>page.$$eval(selector, pageFunction[, ...args])</code></a>) runs <code>Array.from(document.querySelectorAll(selector))</code> within the page and passes it as the first argument to <code>pageFunction</code>. It functions as a wrapper over forEach hence it can be awaited perfectly.</p>\n<h3>Code example</h3>\n<pre class=\"lang-js prettyprint-override\"><code>await page.$$eval('button', elHandles =&gt; elHandles.forEach(el =&gt; el.click()))\n\nawait page.screenshot({ path: 'clicks_eval_foreach.png' })\nawait browser.close()\n</code></pre>\n<h3>Specialties</h3>\n<ul>\n<li>no side-effects of using async puppeteer method inside a .forEach method</li>\n<li>parallel execution inside the .forEach method</li>\n<li>extremely fast</li>\n</ul>\n<h3>132 buttons scenario result: \u2705</h3>\n<p>Duration: 711 ms</p>\n<p>By watching the browser in headful mode we see the effect is immediate, also the screenshot is taken only after every element has been clicked, every promise has been resolved.</p>\n<p><img src=\"https://raw.githubusercontent.com/theDavidBarton/react-examples/master/posts/img/clicks_eval_foreach.gif\" width=\"329\"/><img src=\"https://raw.githubusercontent.com/theDavidBarton/react-examples/master/posts/img/clicks_eval_foreach.png\" width=\"329\"/></p>\n<h3>1320 buttons scenario result: \u2705</h3>\n<p>Duration: 3445 ms</p>\n<p>Works just like in case of 132 buttons, extremely fast.</p>\n<hr />\n<h2>IV. for...of loop</h2>\n<p>The simplest option, not that fast and executed in sequence. The script won't go to <code>page.screenshot</code> until the loop is not finished.</p>\n<h3>Code example</h3>\n<pre class=\"lang-js prettyprint-override\"><code>const elHandleArray = await page.$$('button')\n\nfor (const el of elHandleArray) {\n  await el.click()\n}\n\nawait page.screenshot({ path: 'clicks_for_of.png' })\nawait browser.close()\n</code></pre>\n<h3>Specialties</h3>\n<ul>\n<li>async behavior works as expected by the first sight</li>\n<li>execution in sequence inside the loop</li>\n<li>slow</li>\n</ul>\n<h3>132 buttons scenario result: \u2705</h3>\n<p>Duration: 2957 ms</p>\n<p>By watching the browser in headful mode we can see the page clicks are happening in strict order, also the screenshot is taken only after every element has been clicked.</p>\n<p><img src=\"https://raw.githubusercontent.com/theDavidBarton/react-examples/master/posts/img/clicks_for_of.gif\" width=\"329\"/><img src=\"https://raw.githubusercontent.com/theDavidBarton/react-examples/master/posts/img/clicks_for_of.png\" width=\"329\"/></p>\n<h3>1320 buttons scenario result: \u2705</h3>\n<p>Duration: 25 396 ms</p>\n<p>Works just like in case of 132 buttons (but it takes more time).</p>\n<hr />\n<h1>Summary</h1>\n<ul>\n<li>Avoid using <code>Array.map</code> if you only want to perform async events and you aren't using the returned array, use forEach or for-of instead. \u274c</li>\n<li><code>Array.forEach</code> is an option, but you need to wrap it so the next async method only starts after all promises are resolved inside the forEach. \u274c</li>\n<li>Combine <code>Array.forEach</code> with <code>$$eval</code> for best performance if the order of async events doesn't matter inside the iteration. \u2705</li>\n<li>Use a <code>for</code>/<code>for...of</code> loop if speed is not vital and if the order of the async events does matter inside the iteration. \u2705</li>\n</ul>\n<hr />\n<h1>Sources / Recommended materials</h1>\n<ul>\n<li><a href=\"https://codeburst.io/javascript-async-await-with-foreach-b6ba62bbf404\" rel=\"noreferrer\">Sebastien Chopin: <em>JavaScript: async/await with forEach()</em> (codeburst.io)</a></li>\n<li><a href=\"https://medium.com/@antonioval/making-array-iteration-easy-when-using-async-await-6315c3225838\" rel=\"noreferrer\">Antonio Val: <em>Making array iteration easy when using async/await</em> (Medium)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/37576685/using-async-await-with-a-foreach-loop\"><em>Using async/await with a forEach loop</em> (Stackoverflow)</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51738684/await-with-array-foreach-containing-async-await\"><em>Await with array foreach containing async await</em> (Stackoverflow)</a></li>\n</ul>\n"}], "owner": {"reputation": 13886, "user_id": 1150534, "user_type": "registered", "accept_rate": 66, "profile_image": "https://www.gravatar.com/avatar/043af7a7ebf89595bebc3364f933d648?s=128&d=identicon&r=PG", "display_name": "Richlewis", "link": "https://stackoverflow.com/users/1150534/richlewis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45657, "favorite_count": 10, "answer_count": 4, "score": 31, "last_activity_date": 1593393966, "creation_date": 1518040455, "last_edit_date": 1584483283, "question_id": 48673906, "link": "https://stackoverflow.com/questions/48673906/collect-elements-by-class-name-and-then-click-each-one-puppeteer", "title": "Collect elements by class name and then click each one - Puppeteer", "body": "<p>Using Puppeteer, I would like to get all the elements on a page with a particular class name and then loop through and click each one.</p>\n\n<p>Using jQuery, I can achieve this with:</p>\n\n<pre><code>var elements = $(\"a.showGoals\").toArray();\n\nfor (i = 0; i &lt; elements.length; i++) {\n  $(elements[i]).click();\n}\n</code></pre>\n\n<p>How would I achieve this using Puppeteer?</p>\n\n<h2>Update</h2>\n\n<p>Tried out Chridam's answer below, but I couldn't get it to work (though the answer was helpful, so thanks due there), so I tried the following and this works:</p>\n\n<pre><code> await page.evaluate(() =&gt; {\n   let elements = $('a.showGoals').toArray();\n   for (i = 0; i &lt; elements.length; i++) {\n     $(elements[i]).click();\n   }\n});\n</code></pre>\n"}, {"tags": ["javascript", "python", "json"], "comments": [{"owner": {"reputation": 530, "user_id": 4017803, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "Sagar", "link": "https://stackoverflow.com/users/4017803/sagar"}, "edited": false, "score": 0, "creation_date": 1518040727, "post_id": 48673900, "comment_id": 84346343, "body": "url also have query_hash -- you don&#39;t have that. It might also be protected to not allow cross domain"}], "answers": [{"comments": [{"owner": {"reputation": 325, "user_id": 7595201, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7b0d47b066eebc4a352551e2e346c643?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick.H", "link": "https://stackoverflow.com/users/7595201/patrick-h"}, "edited": false, "score": 0, "creation_date": 1518041230, "post_id": 48674009, "comment_id": 84346582, "body": "I didn&#39;t know that was possible, and which website do I type in as redirect url? I mean I don&#39;t own any"}, {"owner": {"reputation": 109, "user_id": 7563498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-kFX2qThpLTc/AAAAAAAAAAI/AAAAAAAAAEw/N_QiNp8atSY/photo.jpg?sz=128", "display_name": "Yusof Bandar", "link": "https://stackoverflow.com/users/7563498/yusof-bandar"}, "reply_to_user": {"reputation": 325, "user_id": 7595201, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7b0d47b066eebc4a352551e2e346c643?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick.H", "link": "https://stackoverflow.com/users/7595201/patrick-h"}, "edited": false, "score": 0, "creation_date": 1518098736, "post_id": 48674009, "comment_id": 84372468, "body": "Here is a link to a <a href=\"https://stackoverflow.com/questions/21681090/instagram-api-redirect-url\">Stack Overflow answer</a> which should help."}, {"owner": {"reputation": 1225, "user_id": 164374, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cec55858d5bfcd26a5e37dbe74a62bd9?s=128&d=identicon&r=PG", "display_name": "Vlax", "link": "https://stackoverflow.com/users/164374/vlax"}, "edited": false, "score": 0, "creation_date": 1564568574, "post_id": 48674009, "comment_id": 101071745, "body": "This is not more possible and heavily restricted"}], "tags": [], "owner": {"reputation": 109, "user_id": 7563498, "user_type": "registered", "accept_rate": 0, "profile_image": "https://lh3.googleusercontent.com/-kFX2qThpLTc/AAAAAAAAAAI/AAAAAAAAAEw/N_QiNp8atSY/photo.jpg?sz=128", "display_name": "Yusof Bandar", "link": "https://stackoverflow.com/users/7563498/yusof-bandar"}, "is_accepted": false, "score": 1, "last_activity_date": 1518040922, "creation_date": 1518040922, "answer_id": 48674009, "question_id": 48673900, "link": "https://stackoverflow.com/questions/48673900/get-json-from-website-instagram/48674009#48674009", "title": "Get JSON from website (instagram)", "body": "<p>Trying to get the Json loaded in the background is too much work for a simple problem. </p>\n\n<p>You should use the Instagram Api. Just put your name as a company. </p>\n"}, {"comments": [{"owner": {"reputation": 306, "user_id": 8067748, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213784748239561/picture?type=large", "display_name": "Michael Goetti", "link": "https://stackoverflow.com/users/8067748/michael-goetti"}, "edited": false, "score": 0, "creation_date": 1518041492, "post_id": 48674091, "comment_id": 84346682, "body": "The &#39;=1&#39; at the end of the GET URL appears to be critical.  As the OP stated, without it, it just returns HTML.  With it, you get just JSON."}, {"owner": {"reputation": 413, "user_id": 6119009, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/0LRA8.jpg?s=128&g=1", "display_name": "Fernando Torres", "link": "https://stackoverflow.com/users/6119009/fernando-torres"}, "edited": false, "score": 0, "creation_date": 1564117007, "post_id": 48674091, "comment_id": 100932078, "body": "how can i get more thumbnail resources from this url? thanks"}, {"owner": {"reputation": 1225, "user_id": 164374, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/cec55858d5bfcd26a5e37dbe74a62bd9?s=128&d=identicon&r=PG", "display_name": "Vlax", "link": "https://stackoverflow.com/users/164374/vlax"}, "edited": false, "score": 1, "creation_date": 1564566831, "post_id": 48674091, "comment_id": 101070676, "body": "How do you do pagination with this approach?"}, {"owner": {"reputation": 486, "user_id": 7027615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9WNHb.jpg?s=128&g=1", "display_name": "Haseeb Burki", "link": "https://stackoverflow.com/users/7027615/haseeb-burki"}, "edited": false, "score": 0, "creation_date": 1581597081, "post_id": 48674091, "comment_id": 106493723, "body": "This just saved my day :D How did you figure this out?!?!"}, {"owner": {"reputation": 388, "user_id": 1874449, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gjhnP.jpg?s=128&g=1", "display_name": "Habib Karbasian", "link": "https://stackoverflow.com/users/1874449/habib-karbasian"}, "edited": false, "score": 0, "creation_date": 1585064877, "post_id": 48674091, "comment_id": 107631927, "body": "Check out <a href=\"https://stackoverflow.com/a/49341049/1874449\">stackoverflow.com/a/49341049/1874449</a> for pagination of post for a given user_id. It uses a unique <code>query_hash</code> given by instagram website available in the post."}], "tags": [], "owner": {"reputation": 306, "user_id": 8067748, "user_type": "registered", "profile_image": "https://graph.facebook.com/10213784748239561/picture?type=large", "display_name": "Michael Goetti", "link": "https://stackoverflow.com/users/8067748/michael-goetti"}, "is_accepted": true, "score": 17, "last_activity_date": 1518041314, "creation_date": 1518041314, "answer_id": 48674091, "question_id": 48673900, "link": "https://stackoverflow.com/questions/48673900/get-json-from-website-instagram/48674091#48674091", "title": "Get JSON from website (instagram)", "body": "<p>I ran into a problem trying to get the API to do what I wanted, and really just needed JSON data including urls and captions for images for a specific account.  </p>\n\n<p>Use the following GET request:</p>\n\n<p><a href=\"https://www.instagram.com/account_name/?__a=1\" rel=\"noreferrer\">https://www.instagram.com/account_name/?__a=1</a></p>\n\n<p>where account_name is the profile I'm scraping.</p>\n\n<p>It returns all JSON I needed for my task.</p>\n"}], "owner": {"reputation": 325, "user_id": 7595201, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/7b0d47b066eebc4a352551e2e346c643?s=128&d=identicon&r=PG&f=1", "display_name": "Patrick.H", "link": "https://stackoverflow.com/users/7595201/patrick-h"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 15944, "favorite_count": 2, "accepted_answer_id": 48674091, "answer_count": 2, "score": 4, "last_activity_date": 1518041314, "creation_date": 1518040409, "last_edit_date": 1518040582, "question_id": 48673900, "link": "https://stackoverflow.com/questions/48673900/get-json-from-website-instagram", "title": "Get JSON from website (instagram)", "body": "<p>I recently got the idea to scrape information from instagram accounts and their posts, like the amount of comments or amount of likes. I got so far that I figured out while debugging in chrome that for example the link <strong><a href=\"https://www.instagram.com/instagram/?__a\" rel=\"nofollow noreferrer\">https://www.instagram.com/instagram/?__a</a></strong> under the network tab returns a JSON with the wanted information, but what is actually loaded is still the normal website html code.</p>\n\n<p><a href=\"https://i.stack.imgur.com/dvXQ9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dvXQ9.png\" alt=\"json data\"></a></p>\n\n<p>so far I tried in python with this code: </p>\n\n<pre><code>import urllib.request\nr = urllib.request.urlopen(url)\nprint(r.read())\n</code></pre>\n\n<p>or in javascript :</p>\n\n<pre><code>window.onload = function () {\n    res = fetch(\"https://www.instagram.com/instagram/?__a\", {\n        method: 'get'\n    }).then(function (data) {\n        return data.json();\n    }).catch(function (error) {\n        console.log(\"ERROR\".concat(error.toString()));\n    });\n    console.log(res.user);\n};\n</code></pre>\n\n<p>So the problem I have, is that when using these functions I only get the website code (<strong>html</strong>), is there a way to only get the JSON which is loaded in the background? I know people will recommend me using the instagram api, but I have no website nor a company to register.</p>\n"}, {"tags": ["javascript", "firebase", "google-cloud-functions", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 473, "user_id": 9259211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e8890f07697e6b35e386bd6b040ecd?s=128&d=identicon&r=PG&f=1", "display_name": "TikTak", "link": "https://stackoverflow.com/users/9259211/tiktak"}, "edited": false, "score": 0, "creation_date": 1518102792, "post_id": 48673859, "comment_id": 84375383, "body": "Thank you very much"}], "tags": [], "owner": {"reputation": 233128, "user_id": 807126, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xpNqK.jpg?s=128&g=1", "display_name": "Doug Stevenson", "link": "https://stackoverflow.com/users/807126/doug-stevenson"}, "is_accepted": true, "score": 2, "last_activity_date": 1518040268, "creation_date": 1518040268, "answer_id": 48673859, "question_id": 48673812, "link": "https://stackoverflow.com/questions/48673812/i-can-not-write-data-from-the-firebase-cloud-functions-in-firebase-firestore/48673859#48673859", "title": "I can not write data from the Firebase Cloud Functions in Firebase Firestore", "body": "<p>Please <a href=\"https://firebase.google.com/docs/functions/terminate-functions\" rel=\"nofollow noreferrer\">see the documentation</a> to understand how Cloud Functions works with async code.</p>\n\n<p>You're not returning a promise from your function.  If your function performs any async work that yields a promise, you have to indicate to Cloud Functions wait for that work to complete by returning a promise that resolves when the work is complete:</p>\n\n<pre><code>exports.userCreated = functions.auth.user().onCreate(event =&gt; {\n    let userId = event.data.uid;\n    let userName = event.data.displayName;\n\n    return admin.firestore()\n    .collection(\"users\")\n    .doc(userId)\n    .set({\n        name: userName,\n        city: \"\",\n        rating: 0\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 473, "user_id": 9259211, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/71e8890f07697e6b35e386bd6b040ecd?s=128&d=identicon&r=PG&f=1", "display_name": "TikTak", "link": "https://stackoverflow.com/users/9259211/tiktak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1332, "favorite_count": 1, "accepted_answer_id": 48673859, "answer_count": 1, "score": 1, "last_activity_date": 1518040530, "creation_date": 1518040089, "last_edit_date": 1518040530, "question_id": 48673812, "link": "https://stackoverflow.com/questions/48673812/i-can-not-write-data-from-the-firebase-cloud-functions-in-firebase-firestore", "title": "I can not write data from the Firebase Cloud Functions in Firebase Firestore", "body": "<p>How several days ago I started using Firebase Cloud Functions and I can not write data to the database.\nCould you help me.\nThanks in advance.</p>\n\n<pre><code>const functions = require('firebase-functions');\nconst admin = require('firebase-admin');\n\nadmin.initializeApp(functions.config().firebase);\n\nexports.userCreated = functions.auth.user().onCreate(event =&gt; {\n    let userId = event.data.uid;\n    let userName = event.data.displayName;\n\n    admin.firestore()\n    .collection(\"users\")\n    .doc(userId)\n    .set({\n        name: userName,\n        city: \"\",\n        rating: 0\n    });\n});\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "plugins"], "answers": [{"tags": [], "owner": {"reputation": 7609, "user_id": 2835541, "user_type": "registered", "accept_rate": 68, "profile_image": "https://i.stack.imgur.com/RUaqD.jpg?s=128&g=1", "display_name": "Chris Pickford", "link": "https://stackoverflow.com/users/2835541/chris-pickford"}, "is_accepted": false, "score": 0, "last_activity_date": 1533654675, "creation_date": 1533654675, "answer_id": 51730109, "question_id": 48673803, "link": "https://stackoverflow.com/questions/48673803/custom-uppy-plugin/51730109#51730109", "title": "Custom Uppy Plugin", "body": "<p>I've successfully created a plugin using the following import statement:</p>\n\n<pre><code>import { Uppy, Plugin, PluginOptions, UppyFile } from \"@uppy/core\";\n</code></pre>\n\n<p>It's not clear from your question whether you're using the npm package or have downloaded manually, but in my case I installed Uppy using:</p>\n\n<pre><code>npm i @uppy/core\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4376, "user_id": 1069189, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bc96e8509d6c77ab442f5693881f898?s=128&d=identicon&r=PG", "display_name": "Leon", "link": "https://stackoverflow.com/users/1069189/leon"}, "is_accepted": false, "score": 0, "last_activity_date": 1536055215, "creation_date": 1536055215, "answer_id": 52163687, "question_id": 48673803, "link": "https://stackoverflow.com/questions/48673803/custom-uppy-plugin/52163687#52163687", "title": "Custom Uppy Plugin", "body": "<p>First of all, in your \"DropZone\" plugin, you'll need to implement at least the install() and uninstall() methods (those get called by uppy).</p>\n\n<p>Second, if you want to tell uppy to use your plugin, you need to do something like:\n<code>\nconst uppy = \n   new Uppy({ debug: true })\n   .use(DropZone)\n   .run();\n</code></p>\n\n<p>I suggest simply <a href=\"https://github.com/transloadit/uppy/blob/master/packages/%40uppy/form/src/index.js\" rel=\"nofollow noreferrer\">looking at the source code for other plugins</a> to understand how they work, there are different kinds of Plugins - Providers for files management, GUI plugins for display in the Dashboard, etc...</p>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 1747, "user_id": 405230, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/1e2404641f6e5c48dcf24739f8616651?s=128&d=identicon&r=PG", "display_name": "There is no spoon", "link": "https://stackoverflow.com/users/405230/there-is-no-spoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 609, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1536055215, "creation_date": 1518040059, "question_id": 48673803, "link": "https://stackoverflow.com/questions/48673803/custom-uppy-plugin", "title": "Custom Uppy Plugin", "body": "<p>I'm trying to make a custom Uppy React plugin but I'm getting the following error</p>\n\n<p>'TypeError: Cannot call a class as a function'</p>\n\n<pre><code>import Plugin from 'uppy/src/core/Plugin';\n\nexport default class DropZone extends Plugin {\n}\n</code></pre>\n\n<p>I am then consuming the component as follows:</p>\n\n<pre><code>import React from 'react';\nimport Uppy from 'uppy/lib/core/Core';\nimport DropZone from '../DropZone';\n\nconst uppy = new Uppy({ debug: true });\nuppy.run();\n\nexport default class FileManager extends React.Component {\n  render() {\n    return (&lt;DropZone uppy={uppy} /&gt;);\n  }\n}\n</code></pre>\n\n<p>I've cut down the code for simplicity.  I looked at the implementation of the uppy DragDrop plugin and followed its implement but still get the same error.</p>\n\n<p>Has anyone had experience writing a react plugin for Uppy? as I'm lost as to how I can resolve this error.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "this", "scopes"], "comments": [{"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1518040059, "post_id": 48673771, "comment_id": 84346015, "body": "<code>this</code> and variable scope are pretty much unrelated. <code>Function#bind</code> returns a new function that calls its target function with a specific <code>this</code> value, but doesn\u2019t affect scope at all, like <code>call</code> and <code>apply</code>."}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1518040308, "post_id": 48673771, "comment_id": 84346152, "body": "You called <code>secondx2()</code> without providing it a <code>this</code>. Do <code>secondx2.call(this);</code> NB: Consider using arrow functions, the way it uses the <i>lexical</i> <code>this</code> is probably more suitable for your case."}, {"owner": {"reputation": 783, "user_id": 3676224, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/edd5040700956b3cc749720f967c67bf?s=128&d=identicon&r=PG&f=1", "display_name": "user3676224", "link": "https://stackoverflow.com/users/3676224/user3676224"}, "reply_to_user": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1518041667, "post_id": 48673771, "comment_id": 84346777, "body": "@Ryan ya, but why can&#39;t i run this.first() i the second snippet?"}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1518042170, "post_id": 48673771, "comment_id": 84347012, "body": "@user3676224: Explained by trincot\u2019s comment and the duplicate."}], "answers": [{"tags": [], "owner": {"reputation": 16219, "user_id": 8011544, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh3.googleusercontent.com/-YtCjSKj6bBY/AAAAAAAAAAI/AAAAAAAAAAs/xLARQPguzJs/photo.jpg?sz=128", "display_name": "Melchia", "link": "https://stackoverflow.com/users/8011544/melchia"}, "is_accepted": false, "score": 0, "last_activity_date": 1518040684, "creation_date": 1518040684, "answer_id": 48673957, "question_id": 48673771, "link": "https://stackoverflow.com/questions/48673771/javascript-error-this-first-is-not-a-function/48673957#48673957", "title": "JavaScript - error this.first() is not a function", "body": "<p>Consider using arrows or try to store this in a global variable to access your functions\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>myObject = {\r\n    first: function(){ console.log(\"myObject's first()\")},\r\n    second: function(){ \r\n        var scope = this;\r\n        function first(){ console.log(\"second's first()\")};\r\n        function secondx2(){\r\n            function first(){ console.log(\"secondx2's first()\")};\r\n            let run1 = function(){ scope.first()} //myObject's first()\r\n\r\n            let run2 = function(){ first()}//secondx2's first()\r\n\r\n            run1();\r\n            run2();\r\n        }\r\n        secondx2();\r\n    },\r\n}\r\n\r\nmyObject.second()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 783, "user_id": 3676224, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/edd5040700956b3cc749720f967c67bf?s=128&d=identicon&r=PG&f=1", "display_name": "user3676224", "link": "https://stackoverflow.com/users/3676224/user3676224"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 107, "favorite_count": 0, "closed_date": 1518040237, "answer_count": 1, "score": -1, "last_activity_date": 1529662271, "creation_date": 1518039888, "last_edit_date": 1529662271, "question_id": 48673771, "link": "https://stackoverflow.com/questions/48673771/javascript-error-this-first-is-not-a-function", "closed_reason": "Duplicate", "title": "JavaScript - error this.first() is not a function", "body": "<p>I'm just playing around and trying to figure out how the <strong>this</strong> object works and how do I pass scopes context with the <strong>bind</strong> function.<br>\nSo far I got to this point (check code below), and found out that I can use bind with an object function in order to pass the scope of <strong>myObject</strong> to the object function <strong>run</strong>.</p>\n\n<p>first question: </p>\n\n<blockquote>\n  <p>why do I need to use this.first() instead of first()?</p>\n</blockquote>\n\n<p>Because otherwise its still using <strong>second's</strong> context.</p>\n\n<pre><code>    myObject = {\n    first: function(){ console.log(\"myObject's first()\")},\n    second: function(){ \n        function first(){ console.log(\"second's first()\")};\n        let run = function(){ this.first()}.bind(this);\n        run();\n\n    },\n}\n\nmyObject.second()\n</code></pre>\n\n<p>Next, I wanted to take it to the next level and I nested another function within <strong>second</strong> (check code).\nSecond question: </p>\n\n<blockquote>\n  <p>From the code below i get the error <strong>Error: this.first is not a\n  function</strong>, and whether i invoke <strong>.bind(this)</strong> or not it gives the\n  same error, any clue why does this happen?</p>\n</blockquote>\n\n<pre><code>myObject = {\n    first: function(){ console.log(\"myObject's first()\")},\n    second: function(){ \n        function first(){ console.log(\"second's first()\")};\n        function secondx2(){\n            function first(){ console.log(\"secondx2's first()\")};\n            let run = function(){ this.first()}\n            run();\n        }\n        secondx2();\n    },\n}\n\nmyObject.second()\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "edited": false, "score": 1, "creation_date": 1518040059, "post_id": 48673733, "comment_id": 84346016, "body": "Where&#39;s the definition of <code>smoothScroll()</code>..? Did you mean to make <code>$(&quot;.btn&quot;).click(function() { });</code> into <code>smoothScroll()</code>? Other then that, have you tried to enter in info into <code>.seperador</code>? It scrolls fine on Chrome."}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1518040288, "post_id": 48673733, "comment_id": 84346140, "body": "Separating the fact of your missing <code>smoothScroll</code> function, the scroll animation is working well."}], "answers": [{"tags": [], "owner": {"reputation": 206, "user_id": 9017156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf7b35ea2c4c6636f11e20998872e38e?s=128&d=identicon&r=PG&f=1", "display_name": "Ian Craddock", "link": "https://stackoverflow.com/users/9017156/ian-craddock"}, "is_accepted": false, "score": 0, "last_activity_date": 1518040346, "last_edit_date": 1518040346, "creation_date": 1518040285, "answer_id": 48673866, "question_id": 48673733, "link": "https://stackoverflow.com/questions/48673733/scroll-down-with-javascript-or-jquery-when-click-on-button/48673866#48673866", "title": "Scroll down with JavaScript or JQuery when click on button", "body": "<p>On the  element you are setting a onclick event for a undefined function, remove it so it looks like below.</p>\n\n<pre><code>&lt;button type=\"button\" class=\"btn\"&gt;Click Me!&lt;/button&gt;\n</code></pre>\n\n<p>And update your .btn click function to</p>\n\n<pre><code> $(\".btn\").click(function() {\n $('html, body').animate({\n     scrollTop: $(\".separador\").offset().top\n     }, 2000);\n });\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2811, "user_id": 8417363, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/hO0vR.png?s=128&g=1", "display_name": "Jimenemex", "link": "https://stackoverflow.com/users/8417363/jimenemex"}, "is_accepted": true, "score": 0, "last_activity_date": 1518040438, "creation_date": 1518040438, "answer_id": 48673904, "question_id": 48673733, "link": "https://stackoverflow.com/questions/48673733/scroll-down-with-javascript-or-jquery-when-click-on-button/48673904#48673904", "title": "Scroll down with JavaScript or JQuery when click on button", "body": "<p>It looks like you missed updates method names. I've taken the liberty of replacing your <code>$(\".btn\").click(function() {});</code> into <code>smoothScroll()</code>. I also removed the parameters passed into <code>smoothScroll()</code> on the html <code>&lt;button&gt;</code></p>\n\n<p>I also replaced <code>$('html, body, article').animate({});</code> with <code>$('html').animate({});</code> because you only need to specify the top level element.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var smoothScroll = function() {\r\n    $('html').animate({\r\n        scrollTop: $(\".separador\").offset().top // You can add padding by adding/subtracting from this value\r\n    }, 2000);\r\n};</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>*, html{\r\n\tmargin: 0 auto;\r\n\tfont-family: 'Josefin Slab', serif;\r\n}\r\n\r\nbody{\r\n\tbackground-image: url(\"fotos/principal.png\");\r\n\tbackground-repeat: no-repeat;\r\n\r\n}\r\n\r\nheader{\r\n\twidth: 100%;\r\n\theight: 7%;\r\n\tpadding-top: 15px;\r\n\tpadding-bottom: 15px;\r\n\tbackground: -moz-linear-gradient(-45deg, rgba(112,112,112,0.65) 0%, rgba(112,112,112,0) 52%); /* FF3.6-15 */\r\n\tbackground: -webkit-linear-gradient(-45deg, rgba(112,112,112,0.65) 0%,rgba(112,112,112,0) 52%); /* Chrome10-25,Safari5.1-6 */\r\n\tbackground: linear-gradient(135deg, rgba(112,112,112,0.65) 0%,rgba(112,112,112,0) 52%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\r\n\tfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#a6707070', endColorstr='#00707070',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\r\n\tcopy\r\n\tfloat: left;\r\n\ttext-align: left;\r\n}\r\n\r\nul li{\r\n\tdisplay: inline;\r\n\tpadding-right: 15px;\r\n\tfont-weight: bold;\r\n\r\n}\r\n\r\nul li a:link{\r\n\tcolor: black;\r\n\ttext-decoration: none;\r\n\r\n}\r\n\r\nul li a:visited{\r\n\tcolor: black;\r\n\ttext-decoration: none;\r\n}\r\n\r\nul li a:hover{\r\n\tcolor:white;\r\n\ttext-decoration: none;\r\n}\r\n\r\nul li a:active{\r\n\tcolor: white;\r\n}\r\n\r\n\r\n\r\narticle{\r\n\tfloat: left;\r\n\tposition: relative; left: 20%; top: 200px;\r\n}\r\n\r\n#MBOLD{\r\n\t font-weight: bold;\r\n\t font-size: 60px;\r\n}\r\n\r\n#MTHIN{\r\n\tfont-size:45px;\r\n}\r\n\r\narticle div button.btn {\r\n  background: #808080;\r\n  background-image: -webkit-linear-gradient(top, #808080, #4a4a4a);\r\n  background-image: -moz-linear-gradient(top, #808080, #4a4a4a);\r\n  background-image: -ms-linear-gradient(top, #808080, #4a4a4a);\r\n  background-image: -o-linear-gradient(top, #808080, #4a4a4a);\r\n  background-image: linear-gradient(to bottom, #808080, #4a4a4a);\r\n  -webkit-border-radius: 10;\r\n  -moz-border-radius: 10;\r\n  border-radius: 10px;\r\n  text-shadow: 1px 1px 3px #666666;\r\n  color: #ffffff;\r\n  font-size: 20px;\r\n  padding: 10px 20px 10px 20px;\r\n  text-decoration: none;\r\n  margin-top: 45px;\r\n  margin-left: 100px;\r\n}\r\n\r\narticle div button.btn:hover {\r\n  background: #666666;\r\n  background-image: -webkit-linear-gradient(top, #666666, #000000);\r\n  background-image: -moz-linear-gradient(top, #666666, #000000);\r\n  background-image: -ms-linear-gradient(top, #666666, #000000);\r\n  background-image: -o-linear-gradient(top, #666666, #000000);\r\n  background-image: linear-gradient(to bottom, #666666, #000000);\r\n  text-decoration: none;\r\n}\r\n\r\narticle div.separador{\r\n\twidth: 100%;\r\n    height: 1000px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\r\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\r\n&lt;head&gt;\r\n\t&lt;title&gt;VR EXPERIENCE&lt;/title&gt;\r\n\t&lt;meta charset=\"utf-8\"/&gt;\r\n\t&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"stylesheet.css\"/&gt;\r\n\t&lt;script src=\"jQuery.js\"&gt;&lt;/script&gt;\r\n\t&lt;style&gt;\r\n\t\t@import url('https://fonts.googleapis.com/css?family=Josefin+Slab');\r\n\t&lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;header&gt;\r\n\t\t&lt;ul&gt;\r\n\t\t\t&lt;li&gt;&lt;a href=\"index.xhtml\"&gt;Inicio&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;li&gt;&lt;a href=\"Mercado.xhtml\"&gt;Mercado&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;li&gt;&lt;a href=\"Estadisticas.xhtml\"&gt;Estad\u00edsticas&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;li&gt;&lt;a href=\"Con\u00f3cenos.xhtml\"&gt;Con\u00f3cenos&lt;/a&gt;&lt;/li&gt;\r\n\t\t&lt;/ul&gt;\r\n\t&lt;/header&gt;\r\n\t&lt;nav&gt;&lt;/nav&gt;\r\n\t&lt;article&gt;\r\n\t\t&lt;div id=\"MBOLD\"&gt;VR Experience&lt;/div&gt;\r\n\t\t&lt;div id=\"MTHIN\"&gt;Supera los l\u00edmites&lt;/div&gt;\r\n\r\n\t\t&lt;div&gt;\r\n\t\t\t&lt;button type=\"button\" onclick=\"smoothScroll()\" class=\"btn\"&gt;Click Me!&lt;/button&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;div class=\"separador\"&gt;\r\n\t\t\tdet\u00e9ngase aqu\u00ed (Stop here)\r\n\t\t&lt;/div&gt;\r\n\t&lt;/article&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 9329978, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/880dc9348306cbac1d7e15cc61e3d99c?s=128&d=identicon&r=PG&f=1", "display_name": "Juan Antonio Redondo Centeno", "link": "https://stackoverflow.com/users/9329978/juan-antonio-redondo-centeno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 708, "favorite_count": 0, "accepted_answer_id": 48673904, "answer_count": 2, "score": 1, "last_activity_date": 1518042451, "creation_date": 1518039733, "last_edit_date": 1518040065, "question_id": 48673733, "link": "https://stackoverflow.com/questions/48673733/scroll-down-with-javascript-or-jquery-when-click-on-button", "title": "Scroll down with JavaScript or JQuery when click on button", "body": "<p>I've been trying to fix it by myself looking for it here, and I found a lot of answers, but I just can't figure it out how to implement that code into my page.</p>\n\n<p>I know that I might have things that shouldn't be like that, but im learning and right know what I want to solve is that.</p>\n\n<p>The only thing I wanna do is to scroll down to the class \".separador\" when I click the button.</p>\n\n<p>this is the HTML, CSS and JQuery code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(\".btn\").click(function() {\r\n    $('html, body, article').animate({\r\n        scrollTop: $(\".separador\").offset().top\r\n    }, 2000);\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>*, html{\r\n\tmargin: 0 auto;\r\n\tfont-family: 'Josefin Slab', serif;\r\n}\r\n\r\nbody{\r\n\tbackground-image: url(\"fotos/principal.png\");\r\n\tbackground-repeat: no-repeat;\r\n\r\n}\r\n\r\nheader{\r\n\twidth: 100%;\r\n\theight: 7%;\r\n\tpadding-top: 15px;\r\n\tpadding-bottom: 15px;\r\n\tbackground: -moz-linear-gradient(-45deg, rgba(112,112,112,0.65) 0%, rgba(112,112,112,0) 52%); /* FF3.6-15 */\r\n\tbackground: -webkit-linear-gradient(-45deg, rgba(112,112,112,0.65) 0%,rgba(112,112,112,0) 52%); /* Chrome10-25,Safari5.1-6 */\r\n\tbackground: linear-gradient(135deg, rgba(112,112,112,0.65) 0%,rgba(112,112,112,0) 52%); /* W3C, IE10+, FF16+, Chrome26+, Opera12+, Safari7+ */\r\n\tfilter: progid:DXImageTransform.Microsoft.gradient( startColorstr='#a6707070', endColorstr='#00707070',GradientType=1 ); /* IE6-9 fallback on horizontal gradient */\r\n\tcopy\r\n\tfloat: left;\r\n\ttext-align: left;\r\n}\r\n\r\nul li{\r\n\tdisplay: inline;\r\n\tpadding-right: 15px;\r\n\tfont-weight: bold;\r\n\r\n}\r\n\r\nul li a:link{\r\n\tcolor: black;\r\n\ttext-decoration: none;\r\n\r\n}\r\n\r\nul li a:visited{\r\n\tcolor: black;\r\n\ttext-decoration: none;\r\n}\r\n\r\nul li a:hover{\r\n\tcolor:white;\r\n\ttext-decoration: none;\r\n}\r\n\r\nul li a:active{\r\n\tcolor: white;\r\n}\r\n\r\n\r\n\r\narticle{\r\n\tfloat: left;\r\n\tposition: relative; left: 20%; top: 200px;\r\n}\r\n\r\n#MBOLD{\r\n\t font-weight: bold;\r\n\t font-size: 60px;\r\n}\r\n\r\n#MTHIN{\r\n\tfont-size:45px;\r\n}\r\n\r\narticle div button.btn {\r\n  background: #808080;\r\n  background-image: -webkit-linear-gradient(top, #808080, #4a4a4a);\r\n  background-image: -moz-linear-gradient(top, #808080, #4a4a4a);\r\n  background-image: -ms-linear-gradient(top, #808080, #4a4a4a);\r\n  background-image: -o-linear-gradient(top, #808080, #4a4a4a);\r\n  background-image: linear-gradient(to bottom, #808080, #4a4a4a);\r\n  -webkit-border-radius: 10;\r\n  -moz-border-radius: 10;\r\n  border-radius: 10px;\r\n  text-shadow: 1px 1px 3px #666666;\r\n  color: #ffffff;\r\n  font-size: 20px;\r\n  padding: 10px 20px 10px 20px;\r\n  text-decoration: none;\r\n  margin-top: 45px;\r\n  margin-left: 100px;\r\n}\r\n\r\narticle div button.btn:hover {\r\n  background: #666666;\r\n  background-image: -webkit-linear-gradient(top, #666666, #000000);\r\n  background-image: -moz-linear-gradient(top, #666666, #000000);\r\n  background-image: -ms-linear-gradient(top, #666666, #000000);\r\n  background-image: -o-linear-gradient(top, #666666, #000000);\r\n  background-image: linear-gradient(to bottom, #666666, #000000);\r\n  text-decoration: none;\r\n}\r\n\r\narticle div.separador{\r\n\twidth: 100%;\r\n    height: 1000px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;!DOCTYPE html PUBLIC \"-//W3C//DTD XHTML 1.0 Strict//EN\" \"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd\"&gt;\r\n&lt;html xmlns=\"http://www.w3.org/1999/xhtml\"&gt;\r\n&lt;head&gt;\r\n\t&lt;title&gt;VR EXPERIENCE&lt;/title&gt;\r\n\t&lt;meta charset=\"utf-8\"/&gt;\r\n\t&lt;link rel=\"stylesheet\" type=\"text/css\" href=\"stylesheet.css\"/&gt;\r\n\t&lt;script src=\"jQuery.js\"&gt;&lt;/script&gt;\r\n\t&lt;style&gt;\r\n\t\t@import url('https://fonts.googleapis.com/css?family=Josefin+Slab');\r\n\t&lt;/style&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\t&lt;header&gt;\r\n\t\t&lt;ul&gt;\r\n\t\t\t&lt;li&gt;&lt;a href=\"index.xhtml\"&gt;Inicio&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;li&gt;&lt;a href=\"Mercado.xhtml\"&gt;Mercado&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;li&gt;&lt;a href=\"Estadisticas.xhtml\"&gt;Estad\u00edsticas&lt;/a&gt;&lt;/li&gt;\r\n\t\t\t&lt;li&gt;&lt;a href=\"Con\u00f3cenos.xhtml\"&gt;Con\u00f3cenos&lt;/a&gt;&lt;/li&gt;\r\n\t\t&lt;/ul&gt;\r\n\t&lt;/header&gt;\r\n\t&lt;nav&gt;&lt;/nav&gt;\r\n\t&lt;article&gt;\r\n\t\t&lt;div id=\"MBOLD\"&gt;VR Experience&lt;/div&gt;\r\n\t\t&lt;div id=\"MTHIN\"&gt;Supera los l\u00edmites&lt;/div&gt;\r\n\r\n\t\t&lt;div&gt;\r\n\t\t\t&lt;button type=\"button\" onclick=\"smoothScroll(document.getElementById('second'))\" class=\"btn\"&gt;Click Me!&lt;/button&gt;\r\n\t\t&lt;/div&gt;\r\n\t\t&lt;div class=\"separador\"&gt;\r\n\t\t\t\r\n\t\t&lt;/div&gt;\r\n\t&lt;/article&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1518039736, "post_id": 48673719, "comment_id": 84345893, "body": "Please share a <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a>"}, {"owner": {"reputation": 2958, "user_id": 3597730, "user_type": "registered", "accept_rate": 48, "profile_image": "https://www.gravatar.com/avatar/d76b8f632aeb1d920d79d7dd5ab63097?s=128&d=identicon&r=PG", "display_name": "ruby_newbie", "link": "https://stackoverflow.com/users/3597730/ruby-newbie"}, "edited": false, "score": 0, "creation_date": 1518039898, "post_id": 48673719, "comment_id": 84345950, "body": "Can you elaborate more than &quot;it doesn&#39;t work&quot;"}, {"owner": {"reputation": 63, "user_id": 9258557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93163f9aa18acfbeabc715138532b3bd?s=128&d=identicon&r=PG&f=1", "display_name": "jhap", "link": "https://stackoverflow.com/users/9258557/jhap"}, "edited": false, "score": 0, "creation_date": 1518040293, "post_id": 48673719, "comment_id": 84346142, "body": "I&#39;m sorry, the sorting works, so it detects when clicking, but doesn&#39;t change the image that is an up or down arrow, it&#39;s the one that must change when clicking."}], "answers": [{"tags": [], "owner": {"reputation": 205, "user_id": 9068490, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cd5a890a1ec995cd2e5a6524eca7b1d5?s=128&d=identicon&r=PG&f=1", "display_name": "Echtniet", "link": "https://stackoverflow.com/users/9068490/echtniet"}, "is_accepted": true, "score": 0, "last_activity_date": 1518041758, "creation_date": 1518041758, "answer_id": 48674181, "question_id": 48673719, "link": "https://stackoverflow.com/questions/48673719/change-class-with-javascript-and-css/48674181#48674181", "title": "Change class with javascript and css", "body": "<p>Use jQuery toggleClass for this. </p>\n\n<pre><code>&lt;script&gt;\n    $(document).ready(function){\n        $(\"th\").click(function(){\n            $(\"#elementid\").toggleClass(\"up\");\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 63, "user_id": 9258557, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93163f9aa18acfbeabc715138532b3bd?s=128&d=identicon&r=PG&f=1", "display_name": "jhap", "link": "https://stackoverflow.com/users/9258557/jhap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 48674181, "answer_count": 1, "score": 0, "last_activity_date": 1518041758, "creation_date": 1518039662, "question_id": 48673719, "link": "https://stackoverflow.com/questions/48673719/change-class-with-javascript-and-css", "title": "Change class with javascript and css", "body": "<p>I want to add or remove classes when the user click on a th, that should change the image that is on css...</p>\n\n<p>So, i have this html:</p>\n\n<pre><code>&lt;th class=\"etiqueta_grid\" onclick=\"client.orderMethod('Name',this.cellIndex);\"&gt;Name&lt;/th&gt;\n</code></pre>\n\n<p>and this is the javascript method:</p>\n\n<pre><code>sort : \"ASC\",\norder : \"Client\",\norderMethod : function(field,object){\n            $(client.domroot_nav + \" #grid-head2 th\").removeClass('down').removeClass('up');\n\n        if(field == client.order){\n            if(client.sort == \"ASC\"){\n                client.sort = \"DESC\";\n                $(client.domroot_nav + \" #grid-head2 th:eq(\"+object+\")\").addClass('up');\n            }else{\n                client.sort = \"ASC\";\n                $(client.domroot_nav + \" #grid-head2 th:eq(\"+object+\")\").addClass('down');\n            }\n        }else{\n            client.sort = \"ASC\";\n            client.order = field;\n            $(client.domroot_nav + \" #grid-head2 th:eq(\"+object+\")\").addClass('down');\n        }\n        client.show();\n\n        return false;\n    }\n</code></pre>\n\n<p>and i put this on css:</p>\n\n<pre><code>.down:before{\n   background-image: url(images/down.png);\n    background-size: 10px 15px;\n    display: inline-block;\n    width: 10px; \n    height: 15px;\n    margin-right: 2px;\n    content:\"\";  \n }\n .etiqueta_grid{\n     content: \"\";\n }\n .up{\n    background-image: url(images/up.png);\n    background-size: 10px 15px;\n    display: inline-block;\n    width: 10px; \n    height: 15px;\n    margin-right: 2px;\n    content:\"\"; \n }\n</code></pre>\n\n<p>but it doesn't work :( </p>\n"}, {"tags": ["javascript", "typescript", "importerror"], "comments": [{"owner": {"reputation": 1347, "user_id": 890624, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/a355e7d29b580cc1fbb9c70bff46e87d?s=128&d=identicon&r=PG", "display_name": "ecraig12345", "link": "https://stackoverflow.com/users/890624/ecraig12345"}, "edited": false, "score": 0, "creation_date": 1518043317, "post_id": 48673714, "comment_id": 84347523, "body": "Not directly related to the question, just something I noticed reading over your code: you may run into bugs later with the default <code>achats</code> value in the <code>Inventaire</code> constructor. When you use an array as a default value, the <i>same array instance</i> will be used every time--so if you construct multiple <code>Inventaire</code> instances using the default value, modifying <code>this._achats</code> will modify all those instances. An easy way around that is to provide the default value inside the constructor: <code>this._achats = achats || [&#47;*default values*&#47;]</code>."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 7142488, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1b865ec92436edc40ada2169b6afb98f?s=128&d=identicon&r=PG", "display_name": "Jo&#235;l", "link": "https://stackoverflow.com/users/7142488/jo%c3%abl"}, "edited": false, "score": 1, "creation_date": 1518041279, "post_id": 48673743, "comment_id": 84346608, "body": "that&#39;s what I tried, and it still give me an error. I don&#39;t know why, because Webpack compiles everything fine. here is the detail of the error if it helps :       TypeError: Modele_1.default is not a constructor  <code>&quot;use strict&quot;; Object.defineProperty(exports, &quot;__esModule&quot;, { value: true }); &#47;&#47; import View from &quot;.&#47;View&#47;View&quot;; var Controller_1 = require(&quot;.&#47;Controller&#47;Controller&quot;); var Modele_1 = require(&quot;.&#47;Modele&#47;Modele&quot;); function main() {     var model = new Modele_1.default();     var controller = new Controller_1.default(model);     &#47;&#47;let view = new View(controller); } main();</code>"}], "tags": [], "owner": {"reputation": 204459, "user_id": 390330, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/1400be56ff17549b926dd3260da4a494?s=128&d=identicon&r=PG", "display_name": "basarat", "link": "https://stackoverflow.com/users/390330/basarat"}, "is_accepted": false, "score": 0, "last_activity_date": 1518039776, "creation_date": 1518039776, "answer_id": 48673743, "question_id": 48673714, "link": "https://stackoverflow.com/questions/48673714/typeerror-modele-1-default-is-not-a-constructor/48673743#48673743", "title": "TypeError: Modele_1.default is not a constructor", "body": "<p>The following will definitely work: </p>\n\n<pre><code>export default class Inventaire {\n</code></pre>\n\n<p>And assuming the path <code>./Modele/Modele</code> is correct the following will definitely work: </p>\n\n<pre><code>import Inventaire from \"./Modele/Modele\";\n</code></pre>\n"}], "owner": {"reputation": 105, "user_id": 7142488, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/1b865ec92436edc40ada2169b6afb98f?s=128&d=identicon&r=PG", "display_name": "Jo&#235;l", "link": "https://stackoverflow.com/users/7142488/jo%c3%abl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 679, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518039776, "creation_date": 1518039652, "question_id": 48673714, "link": "https://stackoverflow.com/questions/48673714/typeerror-modele-1-default-is-not-a-constructor", "title": "TypeError: Modele_1.default is not a constructor", "body": "<p>I'm new to Webpack and typescrypt, so it may be a simple error, but I'm not capable to find it. </p>\n\n<p>I import my model from the main.ts file :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>import View from \"./View/View\";\r\nimport Controller from \"./Controller/Controller\";\r\nimport Inventaire from \"./Modele/Modele\";\r\n\r\nrequire(\"tether\");\r\nrequire(\"bootstrap\");\r\n\r\nfunction main(): void {\r\n    let model = new Inventaire();\r\n    let controller = new Controller(model);\r\n    let view = new View(controller);\r\n}\r\n\r\nmain();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>but when I run it I have an error in the console : </p>\n\n<pre><code>TypeError: Modele_1.default is not a constructor\n</code></pre>\n\n<p>model.ts : \n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export default class Inventaire {\r\n\r\n    private _achats: Achat[];\r\n\r\n    constructor(achats: Achat[] = [/*default values*/]) {\r\n        this._achats = achats;\r\n    };\r\n    /*...*/\r\n\r\n}\r\n\r\nclass Achat {\r\n    Nom: string;\r\n    private _Quantite: number;\r\n    Prix: number;\r\n    Description: string;\r\n    Poids: number;\r\n    Photo?: string[]; //path of the image\r\n\r\n    constructor(nom: string, prix: number, description: string, poids: number = 0, photo?: string[]) {\r\n        this.Nom = nom;\r\n        this.Prix = prix;\r\n        this.Description = description;\r\n        this.Poids = poids;\r\n        if (photo) this.Photo = photo;\r\n    }\r\n\r\n}\r\n\r\nclass ModelePanier {\r\n    Contenu: Achat[];\r\n    Quantite: number = this.Contenu.length;\r\n\r\n    PrixTotal(): number {\r\n        let prix: number = 0;\r\n        for (let achat of  this.Contenu) {\r\n            prix += achat.Prix;\r\n        }\r\n        return prix;\r\n    }\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I tried to use the import with and without default, but both don't work.</p>\n"}, {"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 46515, "user_id": 5647260, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/oByMV.jpg?s=128&g=1", "display_name": "Andrew Li", "link": "https://stackoverflow.com/users/5647260/andrew-li"}, "edited": false, "score": 1, "creation_date": 1518039557, "post_id": 48673659, "comment_id": 84345804, "body": "Use a \\: <code>`const func = x =&gt; \\`I am ${x}\\` `</code>"}, {"owner": {"reputation": 7005, "user_id": 954852, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/CkbtJ.png?s=128&g=1", "display_name": "Daniel Conde Marin", "link": "https://stackoverflow.com/users/954852/daniel-conde-marin"}, "edited": false, "score": 0, "creation_date": 1518039604, "post_id": 48673659, "comment_id": 84345828, "body": "<a href=\"https://stackoverflow.com/questions/38043686/escape-dollar-sign-in-es6-string-literal\" title=\"escape dollar sign in es6 string literal\">stackoverflow.com/questions/38043686/&hellip;</a>"}, {"owner": {"reputation": 57, "user_id": 4551888, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4293dc43ed58cd221fcfcdbb542d29b?s=128&d=identicon&r=PG&f=1", "display_name": "armando", "link": "https://stackoverflow.com/users/4551888/armando"}, "edited": false, "score": 0, "creation_date": 1518040741, "post_id": 48673659, "comment_id": 84346350, "body": "thanks, but then the ${x} is still active, I want that as a string, to save&amp;write a JS script, not actual execute a JS script. I guess I could write it as a JS file, and not have node write the js file"}, {"owner": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "edited": false, "score": 0, "creation_date": 1518041993, "post_id": 48673659, "comment_id": 84346930, "body": "Just escape the <code>$</code> too."}, {"owner": {"reputation": 130214, "user_id": 772035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/jAEqI.jpg?s=128&g=1", "display_name": "Paul", "link": "https://stackoverflow.com/users/772035/paul"}, "edited": false, "score": 0, "creation_date": 1518042036, "post_id": 48673659, "comment_id": 84346954, "body": "<code>`const func = x =&gt; \\`I am \\${x}\\` `</code>"}, {"owner": {"reputation": 57, "user_id": 4551888, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4293dc43ed58cd221fcfcdbb542d29b?s=128&d=identicon&r=PG&f=1", "display_name": "armando", "link": "https://stackoverflow.com/users/4551888/armando"}, "edited": false, "score": 0, "creation_date": 1520271678, "post_id": 48673659, "comment_id": 85237972, "body": "wow thats pretty neat, I didn&#39;t think templates could be nested like that"}], "owner": {"reputation": 57, "user_id": 4551888, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/f4293dc43ed58cd221fcfcdbb542d29b?s=128&d=identicon&r=PG&f=1", "display_name": "armando", "link": "https://stackoverflow.com/users/4551888/armando"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 65, "favorite_count": 0, "closed_date": 1518039938, "answer_count": 0, "score": 0, "last_activity_date": 1518041517, "creation_date": 1518039419, "last_edit_date": 1518041517, "question_id": 48673659, "link": "https://stackoverflow.com/questions/48673659/how-to-escape-js-template-literals-ecma-6", "closed_reason": "Duplicate", "title": "How To escape JS template Literals ECMA 6", "body": "<p>Say I am making a HTML Template generator, and I am using the backticks to return HTML, to generate a static HTML File.</p>\n\n<p>I want the generated file to have the use of using template literals\nI have tried escaping the middle two ticks which works but how would I escape ${x}?</p>\n\n<p><strong><em>A user has marked this as a duplicate, and it has absolutely nothing to do with the duplicate question, the other question is about escaping back ticks, I want to know how to escape the variables inside the backticks</em></strong></p>\n\n<pre><code>    return `const func = x =&gt; `I am ${x}` `\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "if-statement", "popup", "conditional-statements"], "comments": [{"owner": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1518039771, "post_id": 48673602, "comment_id": 84345906, "body": "create a minimal example to get an answer no one can guess why your modal is jumpy without seeing it jumping <b>&#175;\\_(\u30c4)_/&#175;</b>"}, {"owner": {"reputation": 79, "user_id": 7281868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/90e46bcc0a48480b31878e6dbaec4a8f?s=128&d=identicon&r=PG&f=1", "display_name": "skyeyl", "link": "https://stackoverflow.com/users/7281868/skyeyl"}, "reply_to_user": {"reputation": 19508, "user_id": 3731614, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/PAIKr.jpg?s=128&g=1", "display_name": "Reborn", "link": "https://stackoverflow.com/users/3731614/reborn"}, "edited": false, "score": 0, "creation_date": 1518040262, "post_id": 48673602, "comment_id": 84346130, "body": "well that is all I have for the jquery popup back the rest are html and css for the popup and I thought it wasn&#39;t necessary to show css and html portion of it."}], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 7281868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/90e46bcc0a48480b31878e6dbaec4a8f?s=128&d=identicon&r=PG&f=1", "display_name": "skyeyl", "link": "https://stackoverflow.com/users/7281868/skyeyl"}, "edited": false, "score": 0, "creation_date": 1518040848, "post_id": 48673876, "comment_id": 84346407, "body": "This is super cool Roko but it for an email subscribe so I can have the popup to appear on click, it need to appear on scrolling but I will look through your code and see if there is anything I can pick apart. Thank you."}, {"owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "reply_to_user": {"reputation": 79, "user_id": 7281868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/90e46bcc0a48480b31878e6dbaec4a8f?s=128&d=identicon&r=PG&f=1", "display_name": "skyeyl", "link": "https://stackoverflow.com/users/7281868/skyeyl"}, "edited": false, "score": 0, "creation_date": 1518041134, "post_id": 48673876, "comment_id": 84346538, "body": "@skyeyl I&#39;ll show you now an example with scroll with just a bit of JS with the same above&#39;s markup and CSS"}, {"owner": {"reputation": 79, "user_id": 7281868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/90e46bcc0a48480b31878e6dbaec4a8f?s=128&d=identicon&r=PG&f=1", "display_name": "skyeyl", "link": "https://stackoverflow.com/users/7281868/skyeyl"}, "edited": false, "score": 0, "creation_date": 1518041683, "post_id": 48673876, "comment_id": 84346783, "body": "This is awesome, thank you so much. I am gonna implement my html with it and see if it work. I appreciate it."}], "tags": [], "owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "is_accepted": false, "score": 0, "last_activity_date": 1518042122, "last_edit_date": 1518042122, "creation_date": 1518040326, "answer_id": 48673876, "question_id": 48673602, "link": "https://stackoverflow.com/questions/48673602/popup-modal-to-not-be-jumpy/48673876#48673876", "title": "Popup modal to not be jumpy", "body": "<p>What about 0 JS and all the features you need?<br>\nUse basically <code>checkboxes</code> and <code>label</code> elements.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.modalToggler, \r\n.modalOuter,\r\n.modal {\r\n  position: absolute;\r\n  visibility: hidden;\r\n  opacity: 0;\r\n  transition: 0.4s;\r\n}\r\n.modalToggler:checked + .modalOuter,\r\n.modalToggler:checked + .modalOuter + .modal{\r\n  visibility: visible;\r\n  opacity: 1;\r\n}\r\n.modalOuter {\r\n  position: fixed;\r\n  top:0; right:0; bottom:0; left:0; \r\n  background: rgba(0,0,0,0.6);\r\n}\r\n.modal {\r\n  top: 50%; left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: 24px;\r\n  background: #fff;\r\n  max-width: 300px;  /* as needed */\r\n}\r\n.modalClose {\r\n  position: absolute;\r\n  padding: 4px 8px;\r\n  top: 0; right: 0;\r\n  cursor: pointer;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- MY MODALS --&gt;\r\n\r\n&lt;input id=\"modal1\" class=\"modalToggler\" type=\"checkbox\"&gt;\r\n&lt;label for=\"modal1\" class=\"modalOuter\"&gt;&lt;/label&gt;\r\n&lt;div class=\"modal\"&gt;\r\n  &lt;label for=\"modal1\" class=\"modalClose\"&gt;&amp;#x2716;&lt;/label&gt;\r\n  Hello, World\r\n&lt;/div&gt;\r\n\r\n&lt;input id=\"modal2\" class=\"modalToggler\" type=\"checkbox\"&gt;\r\n&lt;label for=\"modal2\" class=\"modalOuter\"&gt;&lt;/label&gt;\r\n&lt;div class=\"modal\"&gt;\r\n  &lt;label for=\"modal2\" class=\"modalClose\"&gt;&amp;#x2716;&lt;/label&gt;\r\n  How cool is that?\r\n&lt;/div&gt;\r\n\r\n&lt;!-- !MY MODALS --&gt;\r\n\r\n\r\n&lt;label for=\"modal1\"&gt;&lt;a&gt;SHOW-MODAL1&lt;/a&gt;&lt;/label&gt;\r\n\r\n&lt;label for=\"modal2\"&gt;&lt;a&gt;SHOW-MODAL2&lt;/a&gt;&lt;/label&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h1>JS for the scroll!</h1>\n\n<p>Now let's add the scrolling part by just adding a tiny bit of jQuery, nothing more:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(window).on(\"scroll\", function(){\r\n    var st = $(this).scrollTop();\r\n    if (st &gt; 500) {\r\n        $(\"#modal1\").attr(\"checked\", true);\r\n    }\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.modalToggler, \r\n.modalOuter,\r\n.modal {\r\n  position: fixed;\r\n  visibility: hidden;\r\n  opacity: 0;\r\n  transition: 0.4s;\r\n}\r\n.modalToggler:checked + .modalOuter,\r\n.modalToggler:checked + .modalOuter + .modal{\r\n  visibility: visible;\r\n  opacity: 1;\r\n}\r\n.modalOuter {\r\n  top:0; right:0; bottom:0; left:0; \r\n  background: rgba(0,0,0,0.6);\r\n}\r\n.modal {\r\n  top: 50%; left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  padding: 24px;\r\n  background: #fff;\r\n  max-width: 300px;  /* as needed */\r\n}\r\n.modalClose {\r\n  position: absolute;\r\n  padding: 4px 8px;\r\n  top: 0; right: 0;\r\n  cursor: pointer;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- MY MODALS --&gt;\r\n\r\n&lt;input id=\"modal1\" class=\"modalToggler\" type=\"checkbox\"&gt;\r\n&lt;label for=\"modal1\" class=\"modalOuter\"&gt;&lt;/label&gt;\r\n&lt;div class=\"modal\"&gt;\r\n  &lt;label for=\"modal1\" class=\"modalClose\"&gt;&amp;#x2716;&lt;/label&gt;\r\n  &lt;h3&gt;Get 30%&lt;/h3&gt;\r\n  &lt;p&gt;On every book from our shelf&lt;/p&gt;\r\n  &lt;p&gt;&lt;button&gt;APPLY NOW!&lt;/button&gt;&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;!-- !MY MODALS --&gt;\r\n\r\n&lt;div style=\"border:4px dashed #000; height: 300vh\"&gt; &lt;!--Demo sytles! Don't ever inline CSS--&gt;\r\n   &lt;label for=\"modal1\"&gt;&lt;a&gt;SHOW-MODAL1&lt;/a&gt;&lt;/label&gt;\r\n   \r\n   &lt;p&gt;Scroll down.......&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script src=\"//code.jquery.com/jquery-3.1.0.js\"&gt;&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 79, "user_id": 7281868, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/90e46bcc0a48480b31878e6dbaec4a8f?s=128&d=identicon&r=PG&f=1", "display_name": "skyeyl", "link": "https://stackoverflow.com/users/7281868/skyeyl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1518042122, "creation_date": 1518039138, "question_id": 48673602, "link": "https://stackoverflow.com/questions/48673602/popup-modal-to-not-be-jumpy", "title": "Popup modal to not be jumpy", "body": "<p>I created a popup modal with Jquery and I have three questions about it.</p>\n\n<ol>\n<li><p>Right now I have the popup to close on click with the button but I also want it to close when clicking outside of the popup. </p></li>\n<li><p>When the user close the popup in the middle of the page, I want the page to stay where it is and not jump back to the top.</p></li>\n<li><p>Once the user click close to the popup, it won't appear again. I'm guessing I might need to write another condition statement.</p></li>\n</ol>\n\n<p>Do you guys have any hint or documentation I can look over? So sorry for asking a lot of questions. I am still new to web development.</p>\n\n<p>Thank you and below are my code.</p>\n\n<pre><code>    $(document).scroll(function(){\n    var a = $(this).scrollTop();\n    if (a &gt; 500) {\n        $(\"#mc_embed_signup\").fadeIn();\n    } else \n\n    $(\".popup-close\").click(function(e){\n            closeSPopup();\n        });\n});\n\nfunction closeSPopup(){\n    $(\"#mc_embed_signup\").fadeTo(0);\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 2354, "user_id": 1743283, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/o2IQ9.jpg?s=128&g=1", "display_name": "NoobishPro", "link": "https://stackoverflow.com/users/1743283/noobishpro"}, "edited": false, "score": 0, "creation_date": 1518039067, "post_id": 48673543, "comment_id": 84345597, "body": "<a href=\"https://stackoverflow.com/questions/985272/selecting-text-in-an-element-akin-to-highlighting-with-your-mouse\" title=\"selecting text in an element akin to highlighting with your mouse\">stackoverflow.com/questions/985272/&hellip;</a> - might you mean something like this?"}, {"owner": {"reputation": 53, "user_id": 5284998, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-SD3I1bkh_S8/AAAAAAAAAAI/AAAAAAAAKb0/ve3_bAx88Js/photo.jpg?sz=128", "display_name": "Andi M", "link": "https://stackoverflow.com/users/5284998/andi-m"}, "reply_to_user": {"reputation": 2354, "user_id": 1743283, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/o2IQ9.jpg?s=128&g=1", "display_name": "NoobishPro", "link": "https://stackoverflow.com/users/1743283/noobishpro"}, "edited": false, "score": 0, "creation_date": 1518040424, "post_id": 48673543, "comment_id": 84346209, "body": "@Babydead not really because I want to select a specific string inside any div."}, {"owner": {"reputation": 2354, "user_id": 1743283, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/o2IQ9.jpg?s=128&g=1", "display_name": "NoobishPro", "link": "https://stackoverflow.com/users/1743283/noobishpro"}, "edited": false, "score": 1, "creation_date": 1518048762, "post_id": 48673543, "comment_id": 84349348, "body": "Can&#39;t you just wrap that saved selection in a span on render and then select said span? Otherwise, this answer might help as well; <a href=\"https://stackoverflow.com/questions/3771824/select-range-in-contenteditable-div\" title=\"select range in contenteditable div\">stackoverflow.com/questions/3771824/&hellip;</a> either way, you&#39;ll want your research to focus on &quot;Select range&quot; as keywords, I believe. I created a function myself to select things through selecting ranges once, but it wasn&#39;t this specific, unfortunately."}], "owner": {"reputation": 53, "user_id": 5284998, "user_type": "registered", "accept_rate": 83, "profile_image": "https://lh4.googleusercontent.com/-SD3I1bkh_S8/AAAAAAAAAAI/AAAAAAAAKb0/ve3_bAx88Js/photo.jpg?sz=128", "display_name": "Andi M", "link": "https://stackoverflow.com/users/5284998/andi-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 70, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518039540, "creation_date": 1518038883, "last_edit_date": 1518039540, "question_id": 48673543, "link": "https://stackoverflow.com/questions/48673543/how-to-programmatically-select-text-from-string-value", "title": "How to programmatically select text from string value?", "body": "<p>I have trouble restoring selected text with javascript \nWhen the user selects some text from page A with the mouse. That selection is saved in localStorage. </p>\n\n<p>I was able to store the selected string. I intend to restore the selection using </p>\n\n<pre><code>$(window).on(\"load\", function () {\n    restoreSelection();\n});\n</code></pre>\n\n<p>However, I cannot restore that string. Here is my code. Any help would be appreciated. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>    $(\".main\").mouseup(function () {\r\n\r\n\r\n        var range, sel;\r\n        var colour = 'yellow';\r\n\r\n        if (window.getSelection) {\r\n            // IE9 and non-IE\r\n            try {\r\n                if (!document.execCommand(\"BackColor\", false, colour)) {\r\n                    makeEditableAndHighlight();\r\n                }\r\n            } catch (ex) {\r\n                makeEditableAndHighlight()\r\n            }\r\n\r\n        }\r\n    });\r\n    \r\n    \r\nfunction makeEditableAndHighlight() {\r\n    var colour = 'yellow';\r\n    var range, sel = window.getSelection();\r\n    if (sel.rangeCount &amp;&amp; sel.getRangeAt) {\r\n        range = sel.getRangeAt(0);\r\n    }\r\n    document.designMode = \"on\";\r\n    if (range) {\r\n        sel.removeAllRanges();\r\n        sel.addRange(range);\r\n    }\r\n    // Use HiliteColor since some browsers apply BackColor to the whole block\r\n    if (!document.execCommand(\"HiliteColor\", false, colour)) {\r\n        document.execCommand(\"BackColor\", false, colour);\r\n    }\r\n    document.designMode = \"off\";\r\n\r\n    saveSelections(sel);\r\n}\r\n\r\n\r\nfunction saveSelections(selection) {\r\n\r\n    if(selection){\r\n        var highlight = selection.toString();\r\n        // localStorage.setItem('textSelection', highlight);\r\n\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction restoreSelection() {\r\n//var highlight = localStorage.getItem('textSelection');\r\n\r\n    \r\nif (highlight) {\r\n \r\n     //I am stumped here I have tried \r\n       //CreateRange() but nothing works\r\n    }\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>div.storyText * ::selection {\r\n    background: #FFFF00; /* WebKit/Blink Browsers */\r\n  }\r\n  div.storyText * ::-moz-selection {\r\n    background: #FFFF00; /* Gecko Browsers */\r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"main \"&gt;\r\n\r\n&lt;p&gt;Blalalalalalalalalalalalalala lorem ipsum text textstsetew &lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p><strong>Does anyone have any idea? Thanks</strong></p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1032, "user_id": 7919890, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1hAL5.png?s=128&g=1", "display_name": "wha7ever", "link": "https://stackoverflow.com/users/7919890/wha7ever"}, "edited": false, "score": 5, "creation_date": 1518038830, "post_id": 48673512, "comment_id": 84345466, "body": "post code please"}, {"owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "edited": false, "score": 0, "creation_date": 1518039365, "post_id": 48673512, "comment_id": 84345723, "body": "Can you at least share an example output?"}], "answers": [{"tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": false, "score": 1, "last_activity_date": 1518039990, "creation_date": 1518039990, "answer_id": 48673790, "question_id": 48673512, "link": "https://stackoverflow.com/questions/48673512/javascript-find-numbers-near-from-string/48673790#48673790", "title": "Javascript Find Numbers Near From String", "body": "<p>Your data is not in a good format. You would need an array of arrays of numbers, not an array of strings. So the first task is to make that conversion.</p>\n\n<p>Then you could use the distance formula to calculate the distance to the given coordinates, and store that as an extra information with each point in the list.</p>\n\n<p>Then sort by that additional distance. Sorting it is not the most efficient method, as you could retrieve the minimum distance first, then retrieve the minimum after removing the first, and finally retrieve the minimum again after removing the first minima found. But if you are interested in such optimisation, have a try yourself.</p>\n\n<p>After sorting, slice the first three elements out of the resulting array and return that. You may want to convert those three items back to the original format, i.e. an array of three strings.</p>\n\n<p>Here is a snippet:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function closestThree(data, px, py) {\r\n    return data\r\n        .map( s =&gt; s.split(',').map(Number) ) // Convert to pairs of numbers\r\n        .map( ([x,y]) =&gt; [x,y,(x-px)*(x-px)+(y-py)*(y-py)] ) // Add squared distance\r\n        .sort( (a, b) =&gt; a[2] - b[2] ) // Sort by distance\r\n        .slice(0, 3) // Get three first results\r\n        .map( ([x, y]) =&gt; x + ',' + y ); // Convert back to strings\r\n}\r\n\r\n// Sample\r\nconst points = ['123,5432', '432,325', '735,1045', '583,564'];\r\nconst res = closestThree(points, 405, 630);\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 49, "user_id": 9161146, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/5e4f2d21b0bdebde7b8f5a1382467d91?s=128&d=identicon&r=PG&f=1", "display_name": "Robert Westbury", "link": "https://stackoverflow.com/users/9161146/robert-westbury"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "closed_date": 1518040129, "answer_count": 1, "score": 0, "last_activity_date": 1518039990, "creation_date": 1518038768, "question_id": 48673512, "link": "https://stackoverflow.com/questions/48673512/javascript-find-numbers-near-from-string", "closed_reason": "Not suitable for this site", "title": "Javascript Find Numbers Near From String", "body": "<p>Ok, so I have a list like this:</p>\n\n<p><a href=\"https://haxified.is-a-me.me/0a94f61d.png\" rel=\"nofollow noreferrer\">https://haxified.is-a-me.me/0a94f61d.png</a></p>\n\n<p>and I want to find the three closest one, so for instance if I run\n<code>1539, 4502</code>\nit would find the three closest values to it, by closest I mean most similar for the first and second values of the string (separated by the comma)</p>\n\n<p>I have tried doing a for loop, and working out the distance between all of them, but it didnt work.</p>\n"}, {"tags": ["javascript", "html", "css", "menu", "accordion"], "answers": [{"comments": [{"owner": {"reputation": 84, "user_id": 8544346, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10214660951226309/picture?type=large", "display_name": "\u0412\u0443\u043a\u0430\u0448\u0438\u043d \u041f\u043e\u043f\u043e\u0432\u0438\u045b", "link": "https://stackoverflow.com/users/8544346/%d0%92%d1%83%d0%ba%d0%b0%d1%88%d0%b8%d0%bd-%d0%9f%d0%be%d0%bf%d0%be%d0%b2%d0%b8%d1%9b"}, "edited": false, "score": 0, "creation_date": 1518125344, "post_id": 48673552, "comment_id": 84388753, "body": "Thanks for your feed back :)  Good idea!"}], "tags": [], "owner": {"reputation": 2205, "user_id": 5705462, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c0821d8458f0143b6b37046fa2e58c9?s=128&d=identicon&r=PG", "display_name": "sliptype", "link": "https://stackoverflow.com/users/5705462/sliptype"}, "is_accepted": false, "score": 2, "last_activity_date": 1518038930, "creation_date": 1518038930, "answer_id": 48673552, "question_id": 48673434, "link": "https://stackoverflow.com/questions/48673434/accordion-menu-wondering/48673552#48673552", "title": "Accordion menu wondering", "body": "<p>You can iterate over all the accordions and remove the <code>is-open</code> class when any accordion is clicked: </p>\n\n<pre><code>var accordions = document.getElementsByClassName(\"accordion\");\n\nfor (var i = 0; i &lt; accordions.length; i++) {\n  accordions[i].onclick = function() {\n\n    for (var j = 0; j &lt; accordions.length; j++) {\n      accordions[j].classList.remove('is-open');\n    }\n    accordions[i].classList.toggle('is-open');\n  }\n}\n</code></pre>\n\n<p>Then hide the accordions using CSS:</p>\n\n<pre><code>.accordion:not(.is-open) {\n  display: none;\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 793, "user_id": 8292104, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/e7bf82895083bbe21dea322bd6894488?s=128&d=identicon&r=PG&f=1", "display_name": "Anonymous", "link": "https://stackoverflow.com/users/8292104/anonymous"}, "is_accepted": true, "score": 1, "last_activity_date": 1518039709, "last_edit_date": 1518039709, "creation_date": 1518039380, "answer_id": 48673644, "question_id": 48673434, "link": "https://stackoverflow.com/questions/48673434/accordion-menu-wondering/48673644#48673644", "title": "Accordion menu wondering", "body": "<p>You do not have to iterate through all accordions since you can save the last opened one. See my solution below.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var accordions = document.getElementsByClassName(\"accordion\");\r\nvar openAccordion = null;\r\n\r\nfor (var i = 0; i &lt; accordions.length; i++) {\r\n  accordions[i].onclick = function() {\r\n    if (openAccordion != null &amp;&amp; openAccordion != this) {\r\n      openAccordion.classList.toggle('is-open');\r\n      var content = openAccordion.nextElementSibling;\r\n      content.style.maxHeight = null;\r\n    }\r\n    \r\n    this.classList.toggle('is-open');\r\n\r\n    var content = this.nextElementSibling;\r\n    if (content.style.maxHeight) {\r\n      // accordion is currently open, so close it\r\n      content.style.maxHeight = null;\r\n    } else {\r\n      // accordion is currently closed, so open it\r\n      content.style.maxHeight = content.scrollHeight + \"px\";\r\n    }\r\n    \r\n    openAccordion = this;\r\n  };\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.accordion-content {\r\n  max-height: 0;\r\n  overflow: hidden;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button class=\"accordion\"&gt;Accordion #1&lt;/button&gt;\r\n&lt;div class=\"accordion-content open\"&gt;\r\n  &lt;p&gt;\r\n    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quas deleniti molestias necessitatibus quaerat quos incidunt! Quas officiis repellat dolore omnis nihil quo, ratione cupiditate! Sed, deleniti, recusandae! Animi, sapiente, nostrum?\r\n  &lt;/p&gt;\r\n  &lt;p&gt;\r\n    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quas deleniti molestias necessitatibus quaerat quos incidunt! Quas officiis repellat dolore omnis nihil quo, ratione cupiditate! Sed, deleniti, recusandae! Animi, sapiente, nostrum?\r\n  &lt;/p&gt;\r\n  &lt;p&gt;\r\n    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quas deleniti molestias necessitatibus quaerat quos incidunt! Quas officiis repellat dolore omnis nihil quo, ratione cupiditate! Sed, deleniti, recusandae! Animi, sapiente, nostrum?\r\n  &lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;button class=\"accordion\"&gt;Accordion #2&lt;/button&gt;\r\n&lt;div class=\"accordion-content\"&gt;\r\n  &lt;p&gt;\r\n    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quas deleniti molestias necessitatibus quaerat quos incidunt! Quas officiis repellat dolore omnis nihil quo, ratione cupiditate! Sed, deleniti, recusandae! Animi, sapiente, nostrum?\r\n  &lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;button class=\"accordion\"&gt;Accordion #3&lt;/button&gt;\r\n&lt;div class=\"accordion-content\"&gt;\r\n  &lt;p&gt;\r\n    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quas deleniti molestias necessitatibus quaerat quos incidunt! Quas officiis repellat dolore omnis nihil quo, ratione cupiditate! Sed, deleniti, recusandae! Animi, sapiente, nostrum?\r\n  &lt;/p&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 84, "user_id": 8544346, "user_type": "registered", "accept_rate": 80, "profile_image": "https://graph.facebook.com/10214660951226309/picture?type=large", "display_name": "\u0412\u0443\u043a\u0430\u0448\u0438\u043d \u041f\u043e\u043f\u043e\u0432\u0438\u045b", "link": "https://stackoverflow.com/users/8544346/%d0%92%d1%83%d0%ba%d0%b0%d1%88%d0%b8%d0%bd-%d0%9f%d0%be%d0%bf%d0%be%d0%b2%d0%b8%d1%9b"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 48673644, "answer_count": 2, "score": 0, "last_activity_date": 1518048993, "creation_date": 1518038437, "last_edit_date": 1518048993, "question_id": 48673434, "link": "https://stackoverflow.com/questions/48673434/accordion-menu-wondering", "title": "Accordion menu wondering", "body": "<p>I was wondering. I have this simple accordion menu: </p>\n\n<p>THe problem is, I want to, when I have one opened menu, when I click on another one, to close the previous one automatically. In other words, only one should be opened at a time... </p>\n\n<p>What do you think, what would be the best solution to this?\nNo jQuery, I want vanilla JS :) </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var accordions = document.getElementsByClassName(\"accordion\");\r\n    \r\n    for (var i = 0; i &lt; accordions.length; i++) {\r\n      accordions[i].onclick = function() {\r\n        this.classList.toggle('is-open');\r\n    \r\n        var content = this.nextElementSibling;\r\n        if (content.style.maxHeight) {\r\n          // accordion is currently open, so close it\r\n          content.style.maxHeight = null;\r\n        } else {\r\n          // accordion is currently closed, so open it\r\n          content.style.maxHeight = content.scrollHeight + \"px\";\r\n        }\r\n      }\r\n    }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button class=\"accordion\"&gt;Accordian #1&lt;/button&gt;\r\n        &lt;div class=\"accordion-content open\"&gt;\r\n          &lt;p&gt;\r\n            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quas deleniti molestias necessitatibus quaerat quos incidunt! Quas officiis repellat dolore omnis nihil quo, ratione cupiditate! Sed, deleniti, recusandae! Animi, sapiente, nostrum?\r\n          &lt;/p&gt;\r\n          &lt;p&gt;\r\n            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quas deleniti molestias necessitatibus quaerat quos incidunt! Quas officiis repellat dolore omnis nihil quo, ratione cupiditate! Sed, deleniti, recusandae! Animi, sapiente, nostrum?\r\n          &lt;/p&gt;\r\n          &lt;p&gt;\r\n            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quas deleniti molestias necessitatibus quaerat quos incidunt! Quas officiis repellat dolore omnis nihil quo, ratione cupiditate! Sed, deleniti, recusandae! Animi, sapiente, nostrum?\r\n          &lt;/p&gt;\r\n        &lt;/div&gt;\r\n    \r\n    \r\n        &lt;button class=\"accordion\"&gt;Accordian #2&lt;/button&gt;\r\n        &lt;div class=\"accordion-content\"&gt;\r\n          &lt;p&gt;\r\n            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quas deleniti molestias necessitatibus quaerat quos incidunt! Quas officiis repellat dolore omnis nihil quo, ratione cupiditate! Sed, deleniti, recusandae! Animi, sapiente, nostrum?\r\n          &lt;/p&gt;\r\n        &lt;/div&gt;\r\n    \r\n    \r\n        &lt;button class=\"accordion\"&gt;Accordian #3&lt;/button&gt;\r\n        &lt;div class=\"accordion-content\"&gt;\r\n          &lt;p&gt;\r\n            Lorem ipsum dolor sit amet, consectetur adipisicing elit. Quas deleniti molestias necessitatibus quaerat quos incidunt! Quas officiis repellat dolore omnis nihil quo, ratione cupiditate! Sed, deleniti, recusandae! Animi, sapiente, nostrum?\r\n          &lt;/p&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n\r\n    </code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "npm"], "comments": [{"owner": {"reputation": 13181, "user_id": 17300, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a6913044c5e536029098ce2d5c9b841e?s=128&d=identicon&r=PG", "display_name": "Stephen P", "link": "https://stackoverflow.com/users/17300/stephen-p"}, "edited": false, "score": 1, "creation_date": 1518038629, "post_id": 48673408, "comment_id": 84345359, "body": "I think this comes down to a matter of opinion, since there is no &quot;correct&quot; answer (and voted to close for that reason) \u2014 but if I were releasing packages I would make both available ... minified for improved performance and un-minified for debuggability."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1518038725, "post_id": 48673408, "comment_id": 84345413, "body": "Minifying Javascript is usually for the benefit of web browsers on slow connections. Since node.js usually runs on the server, and the file is saved on the server, you&#39;re not downloading the script when you execute it."}, {"owner": {"reputation": 1673, "user_id": 91359, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/9Gn9l.jpg?s=128&g=1", "display_name": "Zander", "link": "https://stackoverflow.com/users/91359/zander"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1518039158, "post_id": 48673408, "comment_id": 84345639, "body": "@Barmar Perhaps I should make it more explicit that in most cases (I may be wrong in generalising this) developers will be bundling and minifying all their code anyway, so is there really a need to minify at the package level?"}, {"owner": {"reputation": 1982, "user_id": 7228427, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/KSpEd.png?s=128&g=1", "display_name": "Herman Starikov", "link": "https://stackoverflow.com/users/7228427/herman-starikov"}, "edited": false, "score": 2, "creation_date": 1518040576, "post_id": 48673408, "comment_id": 84346285, "body": "if you minify, then it&#39;s very easy to use the package from browser through cdn, such as <code>&lt;script src=&quot;https:&#47;&#47;unpkg.com&#47;underscore@1.8.3&#47;underscore-min.js&quot; charset=&quot;utf-8&quot;&gt;&lt;&#47;script&gt;</code>"}, {"owner": {"reputation": 62810, "user_id": 777186, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/ef170cdb4e468f86c79ba477352a5f53?s=128&d=identicon&r=PG", "display_name": "jogojapan", "link": "https://stackoverflow.com/users/777186/jogojapan"}, "edited": false, "score": 3, "creation_date": 1594605556, "post_id": 48673408, "comment_id": 111174215, "body": "This question should be re-opened. As the highest-voted answer shows, a great many objective and useful points can be made that help people make better decisions about whether or not to minify. Closing such a question as &quot;opinion-based&quot; makes no sense."}], "answers": [{"comments": [{"owner": {"reputation": 5832, "user_id": 3019105, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/efrpY.png?s=128&g=1", "display_name": "tonix", "link": "https://stackoverflow.com/users/3019105/tonix"}, "edited": false, "score": 0, "creation_date": 1574288332, "post_id": 48673965, "comment_id": 104183571, "body": "Does it relate to the JS files we have to specify in the <code>package.json</code> of the library? Which file would you choose for the <code>main</code> and <code>module</code> field, respectively? E.g., if I use Webpack as a bundler of my library: <code>&quot;main&quot;: &quot;dist&#47;non-minified-umd-version-of-library.js&quot;</code> (non-minified UMD version of the library, having the <code>dist&#47;</code> directory in <code>.gitignore</code>, users will have to run <code>npm run build</code> to generate <code>dist&#47;non-minified-umd-version-of-library.js</code>) and <code>&quot;module&quot;: &quot;src&#47;es6-modules-version-of-library.js&quot;</code> (direct ES6 source entry point)? Correct?"}], "tags": [], "owner": {"reputation": 5852, "user_id": 6361314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WknC7.jpg?s=128&g=1", "display_name": "Jeffrey Westerkamp", "link": "https://stackoverflow.com/users/6361314/jeffrey-westerkamp"}, "is_accepted": true, "score": 36, "last_activity_date": 1541870887, "last_edit_date": 1541870887, "creation_date": 1518040717, "answer_id": 48673965, "question_id": 48673408, "link": "https://stackoverflow.com/questions/48673408/should-javascript-npm-packages-be-minified/48673965#48673965", "title": "Should JavaScript npm packages be minified?", "body": "<p><strong>It all depends on the environment of your package consumers</strong></p>\n\n<hr>\n\n<h2>NodeJS</h2>\n\n<p>For a NodeJS audience your package does not have to be minified, since node runtimes normally have <em>direct file access</em> to the <code>node_modules</code> folder. No network transfers are required, and no additional code transformations are performed prior to running the code.</p>\n\n<hr>\n\n<h2>Bundlers / build pipelines</h2>\n\n<p>For consumption through a dev environment that uses a bundler in its build pipeline your package <strong>is best not</strong> minified. In most cases package consumers do implement their own minification process as part of their builds. Moreover, when providing your package in a module format for example:</p>\n\n<ul>\n<li>the dependency tree of implementing codebases can be analyzed more accurately, which might lead to better tree-shaking performance. </li>\n<li>Common dependencies across packages are actually <strong>the same symbols</strong> for all such packages (modules are 'singletons'). This helps with code splitting as well as with keeping bundles small. </li>\n</ul>\n\n<p><em>The above statement relies on the assumption that, if multiple source files are included, minification is preceded by a bundling process. Minifying separate modules is uncommon. If you do provide separate modules, e.g. for a RequireJS runtime in the browser, minification is still relevant, since these files are mostly fetched over the network.</em></p>\n\n<hr>\n\n<p>If you decide not to supply minified code, it's still advisable to run your own tests to see if a standard minification process - e.g. with UglifyJS - does not break the software.</p>\n\n<p>Despite that it is for many consumers unnecessary to minify your code, it's still advisable to supply a minified bundle <em>in addition to</em> your regular distribution, just in case somebody could benefit from it.</p>\n\n<blockquote>\n  <p>For plugins / extensions for frameworks like Angular, Vue, Ember etc. it's usually unnecessary to minify your code, since they all implement their own build pipeline, often through a <em>cli</em>.</p>\n</blockquote>\n\n<hr>\n\n<h2>Script tags / CDN</h2>\n\n<p>These are the cases towards which minification is primarily targeted. If you're hosting a file on a CDN, or otherwise provide it over the web for direct <code>&lt;script&gt;</code> tag usage, what you see is what you get. In both cases the file will have to go over the network. Minification saves bytes.</p>\n\n<hr>\n\n<h2>Minification v.s. transpilation</h2>\n\n<p>A very important distinction is to be made between these two. Although minification is not always necessary, it <strong>is</strong> usually your responsibility to transpile any code that is unlikely to be 100% compatible with the target environments of your package audience. This includes:</p>\n\n<ul>\n<li>Transpiling new <code>ES20XX</code> syntax to - probably - ES5</li>\n<li>Polyfilling any <code>ES20XX</code> API implementations</li>\n</ul>\n\n<hr>\n\n<h2>Minification and bundling</h2>\n\n<p>If your package consists of a <strong>single bundle</strong> instead of a bunch of separate modules, minification is always a safe bet. Since a bundler will never try anything funny with a single module/entity (like tree-shaking), it's likely your code will technically not change at all by any build process.</p>\n\n<hr>\n\n<h2>Debugging</h2>\n\n<p>If you're going to distribute a minified bundle of your software, it would be nice to also ship a non-minified version for debugging purposes.</p>\n"}], "owner": {"reputation": 1673, "user_id": 91359, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/9Gn9l.jpg?s=128&g=1", "display_name": "Zander", "link": "https://stackoverflow.com/users/91359/zander"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 5689, "favorite_count": 4, "accepted_answer_id": 48673965, "answer_count": 1, "score": 29, "last_activity_date": 1594612429, "creation_date": 1518038303, "question_id": 48673408, "link": "https://stackoverflow.com/questions/48673408/should-javascript-npm-packages-be-minified", "title": "Should JavaScript npm packages be minified?", "body": "<p>I have created <a href=\"https://www.npmjs.com/~mrmartineau\" rel=\"noreferrer\">quite a few npm packages</a>, but I still don't know the right answer to this question: \"Should JavaScript npm packages be minified?\"</p>\n\n<p>I have always understood that minifying minified code is a bad idea so have not done that in my npm packages. However, I see that some npm packages <a href=\"https://github.com/axios/axios\" rel=\"noreferrer\">axios</a>, <a href=\"https://github.com/styled-components/styled-components\" rel=\"noreferrer\">styled-components</a> provide minified versions of their \"dist\" files alongside unminified versions, while <a href=\"https://lodash.com\" rel=\"noreferrer\">Lodash</a> does not. </p>\n\n<p>Which are right? Who would consume the minified versions?</p>\n"}, {"tags": ["javascript", "jquery", "arrays", "object"], "comments": [{"owner": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1518038311, "post_id": 48673383, "comment_id": 84345205, "body": "Would you please update your post and clarify your question?"}, {"owner": {"reputation": 1008, "user_id": 8604465, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5f4ff41ec61421ef2f45bee26d922ccc?s=128&d=identicon&r=PG&f=1", "display_name": "J.G.Sable", "link": "https://stackoverflow.com/users/8604465/j-g-sable"}, "reply_to_user": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1518038440, "post_id": 48673383, "comment_id": 84345274, "body": "Okay. I did that."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 3, "creation_date": 1518038491, "post_id": 48673383, "comment_id": 84345292, "body": "Why would the <code>chosenChar</code> array have a property named <code>isAttacker</code>?"}, {"owner": {"reputation": 1008, "user_id": 8604465, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5f4ff41ec61421ef2f45bee26d922ccc?s=128&d=identicon&r=PG&f=1", "display_name": "J.G.Sable", "link": "https://stackoverflow.com/users/8604465/j-g-sable"}, "edited": false, "score": 0, "creation_date": 1518038557, "post_id": 48673383, "comment_id": 84345325, "body": "the objects within chosenChar array each have a property of isAttacker. I felt it may be simpler to use a boolean than to push each object into two distinct arrays"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1518038845, "post_id": 48673383, "comment_id": 84345476, "body": "So, are you asking how to set the elements in the array to false? Or something else? That&#39;s what needs clarification: what is your question?"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "edited": false, "score": 0, "creation_date": 1518038900, "post_id": 48673383, "comment_id": 84345509, "body": "<i>&quot;the objects within ... have a property&quot;</i>: yes, but in the <code>if</code> you are using the property on the array itself, not the objects within."}, {"owner": {"reputation": 1008, "user_id": 8604465, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5f4ff41ec61421ef2f45bee26d922ccc?s=128&d=identicon&r=PG&f=1", "display_name": "J.G.Sable", "link": "https://stackoverflow.com/users/8604465/j-g-sable"}, "edited": false, "score": 0, "creation_date": 1518039036, "post_id": 48673383, "comment_id": 84345581, "body": "yes. It&#39;s supposed to be a game. A user chooses two characters to duel. Those two characters are put into the chosenChar array. On each button click, they fight, and attacks and damages are called at random. But I need to know which is the random attacker and which is the defender to calculate their health adjustments. I thought putting a boolean isAttacker as a property and have it set to false at the start then switching it to true would work."}, {"owner": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1518040617, "post_id": 48673383, "comment_id": 84346295, "body": "@J.G.Sable : but you are checking if <code>chosenChar.isAttacker</code> is false, but setting <code>attackChar.isAttacker</code> to true.  We&#39;re confused as to why <code>chosenChar</code> has a <code>isAttacker</code> property when it appears to be the &quot;container&quot; holding the characters.  Shouldn&#39;t you be looking at <code>attackChar.isAttacker</code> ?  And if so, it will always be true at that point in your code because you set it to true just a few lines above the if condition."}, {"owner": {"reputation": 1008, "user_id": 8604465, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5f4ff41ec61421ef2f45bee26d922ccc?s=128&d=identicon&r=PG&f=1", "display_name": "J.G.Sable", "link": "https://stackoverflow.com/users/8604465/j-g-sable"}, "reply_to_user": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1518040911, "post_id": 48673383, "comment_id": 84346436, "body": "@devlincarnate yes, I see your point. I updated my post with some new codde that is closer, but the for-loop isn&#39;t returning the correct values every time."}, {"owner": {"reputation": 13112, "user_id": 749622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NicQS.jpg?s=128&g=1", "display_name": "Cory Danielson", "link": "https://stackoverflow.com/users/749622/cory-danielson"}, "edited": false, "score": 0, "creation_date": 1518041518, "post_id": 48673383, "comment_id": 84346697, "body": "When you decide on who is the attacker, you need to set all of the other <code>isAttacker</code> values to false."}], "answers": [{"tags": [], "owner": {"reputation": 13112, "user_id": 749622, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/NicQS.jpg?s=128&g=1", "display_name": "Cory Danielson", "link": "https://stackoverflow.com/users/749622/cory-danielson"}, "is_accepted": true, "score": 0, "last_activity_date": 1596657459, "last_edit_date": 1596657459, "creation_date": 1518041471, "answer_id": 48674131, "question_id": 48673383, "link": "https://stackoverflow.com/questions/48673383/setting-booleans-in-an-array-upon-an-event/48674131#48674131", "title": "Setting booleans in an Array upon an event", "body": "<p>Once you've selected the <code>attackChar</code>, you can loop over all of the characters and set the <code>isAttacker</code> flag to false for all of them except the new attacker.</p>\n<pre><code>attackChar = chosenChar[Math.floor(Math.random()*chosenChar.length)];\nvar attackCharName = attackChar.name;\n\n// set isAttacker to true/false based on the attackChar\nchosenChar.forEach(function(char) {\n    char.isAttacker = char === attackChar;\n});\n\nfor (var i = 0; i &lt; chosenChar.length; i++) {\n    if(chosenChar[i].isAttacker === true) {\n       console.log(chosenChar[i].name + &quot; is the attacker&quot;);\n    } else {\n       console.log(chosenChar[i].name + &quot; is not the attacker&quot;);\n    }\n}\n</code></pre>\n<p>Another way of doing this is to have a separate value that holds the attacker, instead of updating an <code>isAttacker</code> value on each character.</p>\n<p>You've actually already done this (<code>chosenChar</code>), so the <code>isAttacker</code> value isn't technically necessary, but you may find it more convenient than depending on a separate variable floating around.</p>\n<pre><code>attackChar = chosenChar[Math.floor(Math.random()*chosenChar.length)];\nfor (var i = 0; i &lt; chosenChar.length; i++) {\n    if(chosenChar[i] === attackChar) {\n       console.log(chosenChar[i].name + &quot; is the attacker&quot;);\n    } else {\n       console.log(chosenChar[i].name + &quot; is not the attacker&quot;);\n    }\n}\n</code></pre>\n"}], "owner": {"reputation": 1008, "user_id": 8604465, "user_type": "registered", "accept_rate": 61, "profile_image": "https://www.gravatar.com/avatar/5f4ff41ec61421ef2f45bee26d922ccc?s=128&d=identicon&r=PG&f=1", "display_name": "J.G.Sable", "link": "https://stackoverflow.com/users/8604465/j-g-sable"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 48674131, "answer_count": 1, "score": 0, "last_activity_date": 1596657459, "creation_date": 1518038192, "last_edit_date": 1518040762, "question_id": 48673383, "link": "https://stackoverflow.com/questions/48673383/setting-booleans-in-an-array-upon-an-event", "title": "Setting booleans in an Array upon an event", "body": "<p>I have a function which is triggered on a click event.</p>\n\n<p>Basically, I have two elements which are objects inside an array called <code>chosenChar</code>. Both of the objects begin with a boolean property called <code>isAttacker</code> as false.</p>\n\n<p>When an \"attack\" button is clicked, the idea is to choose one of the objects in the array at random and change its <code>isAttacker</code> boolean to true. Also, we dive into that attacker object, grab an attack from an array within the object, get the attack value, and print that to the screen.</p>\n\n<p>My object here is if I set the attacker boolean to true, the remaining element in the original array must be set to false (as it is originally) and I need to calculate the damage done to the defending object (character).</p>\n\n<p>Everything is console logging \"true\" right now and it's not going into the if statement to find out if there is a defender and calculating the character's health based off the attack.</p>\n\n<pre><code>var attackChar = [];\nvar defendingChar = [];\n\n// get a random character to attack\nattackChar = chosenChar[Math.floor(Math.random()*chosenChar.length)];\nvar attackCharName = attackChar.name;\nattackChar.isAttacker = true;\nconsole.log(\"the attacker is \" + attackChar.name + \" and isAttacker is \" + attackChar.isAttacker);\n\nfor (var i = 0; i &lt; chosenChar.length; i++) {\n    if(chosenChar[i].isAttacker === true) {\n       console.log(chosenChar[i].name + \" is the attacker\");\n    } else {\n       console.log(chosenChar[i].name + \" is not the attacker\");\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/Wi9AI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Wi9AI.jpg\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "c#", "angularjs", "asp.net-web-api"], "comments": [{"owner": {"reputation": 820, "user_id": 2640997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2a9912ef7ee024bc346f81758e5c5d1?s=128&d=identicon&r=PG", "display_name": "Pedram", "link": "https://stackoverflow.com/users/2640997/pedram"}, "edited": false, "score": 0, "creation_date": 1518070106, "post_id": 48673374, "comment_id": 84354715, "body": "Ok, I will check it soon."}, {"owner": {"reputation": 820, "user_id": 2640997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2a9912ef7ee024bc346f81758e5c5d1?s=128&d=identicon&r=PG", "display_name": "Pedram", "link": "https://stackoverflow.com/users/2640997/pedram"}, "edited": false, "score": 0, "creation_date": 1518071329, "post_id": 48673374, "comment_id": 84355154, "body": "could you check this : <code>$http({     url: &#39;url&#39;,     dataType: &#39;json&#39;,     method: &#39;POST&#39;,     data: jsonData,     headers: {         &quot;Content-Type&quot;: &quot;application&#47;json&quot;     } }).success(function(response){     $scope.response = response; }).error(function(error){     $scope.error = error; });</code> ?"}], "answers": [{"comments": [{"owner": {"reputation": 5657, "user_id": 3188761, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fe029285b3168ae61f354eccd5b562?s=128&d=identicon&r=PG&f=1", "display_name": "90abyss", "link": "https://stackoverflow.com/users/3188761/90abyss"}, "edited": false, "score": 0, "creation_date": 1518048251, "post_id": 48673707, "comment_id": 84349203, "body": "This isn&#39;t working with JObject as parameter type. Getting this error: &quot;Cannot create an abstract class&quot; when I hit CreateCustomers endpoint"}], "tags": [], "owner": {"reputation": 820, "user_id": 2640997, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/d2a9912ef7ee024bc346f81758e5c5d1?s=128&d=identicon&r=PG", "display_name": "Pedram", "link": "https://stackoverflow.com/users/2640997/pedram"}, "is_accepted": false, "score": 0, "last_activity_date": 1518106254, "last_edit_date": 1518106254, "creation_date": 1518039617, "answer_id": 48673707, "question_id": 48673374, "link": "https://stackoverflow.com/questions/48673374/how-to-httppost-a-list-of-objects/48673707#48673707", "title": "How to httppost a list of objects?", "body": "<p>Your post data is not matched with the parameter <code>List&lt;Customer&gt;</code>.\nChange your server side method to something like:</p>\n\n<pre><code>[HttpPost]\npublic async Task&lt;JsonResult&gt; CreateCustomers(JObject queryParam)\n{\n    // populate your list here\n    // for eaxample : var customers = queryParam[\"customers\"].ToString();\n}\n</code></pre>\n\n<p>And also you can use this code to send data to the server:</p>\n\n<pre><code>$http({\n    url: 'url',\n    dataType: 'json',\n    method: 'POST',\n    data: jsonData,\n    headers: { \"Content-Type\": \"application/json\" }\n}).success(function(response){ $scope.response = response;\n}).error(function(error){ $scope.error = error; });\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 5657, "user_id": 3188761, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fe029285b3168ae61f354eccd5b562?s=128&d=identicon&r=PG&f=1", "display_name": "90abyss", "link": "https://stackoverflow.com/users/3188761/90abyss"}, "edited": false, "score": 0, "creation_date": 1518048591, "post_id": 48673715, "comment_id": 84349303, "body": "still not working :( i have posted all the related code. can you please look again?"}], "tags": [], "owner": {"reputation": 2471, "user_id": 1481690, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/0f0c254614dbc3ea9542407643e35c87?s=128&d=identicon&r=PG", "display_name": "Peru", "link": "https://stackoverflow.com/users/1481690/peru"}, "is_accepted": false, "score": 0, "last_activity_date": 1518039653, "creation_date": 1518039653, "answer_id": 48673715, "question_id": 48673374, "link": "https://stackoverflow.com/questions/48673374/how-to-httppost-a-list-of-objects/48673715#48673715", "title": "How to httppost a list of objects?", "body": "<p>Are you sending JSON  ( Include dataType: 'json')</p>\n\n<pre><code>$http({  \n            url: \"url\",  \n            dataType: 'json',  \n            method: 'POST',  \n            data: dataToSend,  \n            headers: {  \n               contentType: \"application/json; charset=utf-8\",\n            }  \n         })\n</code></pre>\n\n<p>In C#  add FromBody in parameter</p>\n\n<pre><code>[HttpPost]\n        public async Task&lt;JsonResult&gt; CreateCustomers([FromBody]]List&lt;Customer&gt; customers)\n        {\n              // customers is always null\n        }\n</code></pre>\n\n<p>More on Ajax parameters</p>\n\n<p><strong>contentType</strong> is the type of data you're sending, so application/json; charset=utf-8 is a common one, as is application/x-www-form-urlencoded; charset=UTF-8, which is the default.</p>\n\n<p><strong>dataType</strong> is what you're expecting back from the server: json, html, text, etc. </p>\n\n<p>This should work. post full code if you face issue</p>\n"}, {"tags": [], "owner": {"reputation": 406, "user_id": 2552168, "user_type": "registered", "accept_rate": 75, "profile_image": "https://graph.facebook.com/100000231072328/picture?type=large", "display_name": "Josue Martinez", "link": "https://stackoverflow.com/users/2552168/josue-martinez"}, "is_accepted": false, "score": 0, "last_activity_date": 1518058051, "creation_date": 1518058051, "answer_id": 48676703, "question_id": 48673374, "link": "https://stackoverflow.com/questions/48673374/how-to-httppost-a-list-of-objects/48676703#48676703", "title": "How to httppost a list of objects?", "body": "<p>use <code>[ModelBinder]</code> in front of your param.</p>\n\n<pre><code>    [HttpPost]\n    public async Task&lt;JsonResult&gt; CreateCustomers([ModelBinder]List&lt;Customer&gt; customers)\n    {\n          // customers is always null\n    }\n</code></pre>\n\n<p>Web API only uses model binding for simple types, falling back on formatters for everything else. Adding [ModelBinder] forces the complex types to use model binding anyway.</p>\n"}], "owner": {"reputation": 5657, "user_id": 3188761, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/28fe029285b3168ae61f354eccd5b562?s=128&d=identicon&r=PG&f=1", "display_name": "90abyss", "link": "https://stackoverflow.com/users/3188761/90abyss"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1175, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1518106254, "creation_date": 1518038157, "last_edit_date": 1518055093, "question_id": 48673374, "link": "https://stackoverflow.com/questions/48673374/how-to-httppost-a-list-of-objects", "title": "How to httppost a list of objects?", "body": "<p>I have this list of objects which I need to send from my angularjs javascript code:</p>\n\n<pre><code>var dataToSend = [{\n                    SubId: \"c9cb1d3e-8c32-4a9e-8f0d-0008196776de\",\n                    CustomerName: \"Blah\"\n                }, {\n                    SubId: \"aaaa1d3e-8c32-4a9e-8f0d-0008196776de\",\n                    CustomerName: \"Blah2\"\n                }]\n</code></pre>\n\n<p>I've tried these different variations but none of them are working:</p>\n\n<p>1.</p>\n\n<pre><code>$http.post(\"url\",\n                {\n                    dataType: 'json',\n                    headers: {\n                       contentType: \"application/json; charset=utf-8\",\n                    },\n                    method: \"POST\",\n                    data: dataToSend,\n                }).then...\n</code></pre>\n\n<p>2.</p>\n\n<pre><code>$http.post(\"url\",\n                    {\n                        data: $.param(dataToSend),\n                    }).then...\n</code></pre>\n\n<p>3 </p>\n\n<pre><code>$http.post(\"url\",\n                        {\n                            data: angular.toJson(dataToSend),\n                        }).then...\n</code></pre>\n\n<p>4 </p>\n\n<pre><code>$http.post(\"url\",\n                        {\n                            data: { customers: dataToSend },\n                        }).then...\n</code></pre>\n\n<p>5 </p>\n\n<pre><code>$http.post(\"url\",\n                        {\n                            data: JSON.stringify({ customers: dataToSend }),\n                        }).then...\n</code></pre>\n\n<p>My API side code is (I have tried with [FromBody] attribute but no luck there):</p>\n\n<pre><code>        [HttpPost]\n        public async Task&lt;JsonResult&gt; CreateCustomers(List&lt;Customer&gt; customers)\n        {\n              // customers is always null\n        }\n</code></pre>\n\n<p>And this is my Customer.cs:</p>\n\n<pre><code>public partial class Customer\n    {\n        public System.Guid SubId { get; set; }\n        public string CustomerName { get; set; }\n    }\n</code></pre>\n\n<p>Can you please help me? I have tried posting to CreateCustomers(Customer c) without using a list and its working as expected. But when I use a list, its always coming as null on the other side.</p>\n\n<p>EDIT:\n$.ajax is working but $http.post isn't. Any idea why?</p>\n\n<pre><code>var request = $.ajax({\n                dataType: \"json\",\n                url: \"url\",\n                method: \"POST\",\n                data: { '': dataToSend }});\n</code></pre>\n"}, {"tags": ["javascript", "numeral.js"], "answers": [{"comments": [{"owner": {"reputation": 4517, "user_id": 1970497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OzVV8.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/1970497/shawn"}, "edited": false, "score": 0, "creation_date": 1518046896, "post_id": 48675147, "comment_id": 84348855, "body": "Also note that comments on numeral.js point to it being abandoned. <a href=\"https://github.com/adamwdraper/Numeral-js\" rel=\"nofollow noreferrer\">github.com/adamwdraper/Numeral-js</a>"}, {"owner": {"reputation": 4517, "user_id": 1970497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OzVV8.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/1970497/shawn"}, "reply_to_user": {"reputation": 3719, "user_id": 1704772, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/df2bfc9fc3a605d2c9f7efbee53cfb47?s=128&d=identicon&r=PG", "display_name": "Kirk Ross", "link": "https://stackoverflow.com/users/1704772/kirk-ross"}, "edited": false, "score": 0, "creation_date": 1518063369, "post_id": 48675147, "comment_id": 84352889, "body": "In the Issues, someone asks if the project was abandoned with no response from the maintainer. <a href=\"https://github.com/adamwdraper/Numeral-js/issues/566\" rel=\"nofollow noreferrer\">github.com/adamwdraper/Numeral-js/issues/566</a> Plus there are 91 pull requests and the last update was 11 months ago. It might be worthwhile to fork the project, merge in the pull requests, and see if any of them fix the issue. But again, if you aren&#39;t using numeric.js for anything else, I&#39;d say get rid of the dependency and use vanilla js."}, {"owner": {"reputation": 4517, "user_id": 1970497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OzVV8.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/1970497/shawn"}, "reply_to_user": {"reputation": 3719, "user_id": 1704772, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/df2bfc9fc3a605d2c9f7efbee53cfb47?s=128&d=identicon&r=PG", "display_name": "Kirk Ross", "link": "https://stackoverflow.com/users/1704772/kirk-ross"}, "edited": false, "score": 0, "creation_date": 1518063684, "post_id": 48675147, "comment_id": 84352952, "body": "One other note: in Javascript, +0 and -0 are different (rounding of -0.002 to -0.00). I believe this is dealt with in <code>Math.round(x*100)&#47;100</code>, in that it turns -0 into just 0. This gives you $0.00 instead of -$0.00."}], "tags": [], "owner": {"reputation": 4517, "user_id": 1970497, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OzVV8.jpg?s=128&g=1", "display_name": "Shawn", "link": "https://stackoverflow.com/users/1970497/shawn"}, "is_accepted": true, "score": 2, "last_activity_date": 1518046716, "creation_date": 1518046716, "answer_id": 48675147, "question_id": 48673348, "link": "https://stackoverflow.com/questions/48673348/numeral-js-negative-number-rounding-formatting-issue/48675147#48675147", "title": "numeral.js - negative number rounding/formatting issue", "body": "<p>Could be a bug in numeral.js. Regardless, if this is what you are attempting to do, you can drop your dependency for numeral.js and just use plain Javascript <code>Math</code> and <code>toLocaleString()</code> to deal with this. </p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/toLocaleString</a></p>\n\n<p><a href=\"https://jsfiddle.net/qL41jg1x/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/qL41jg1x/</a></p>\n\n<pre><code>function toUSCurrency(x) {\n   var n = Math.round(x*100)/100\n   return n.toLocaleString(\n            'en-US' , \n            { \n                style: 'currency' , \n                currency: 'USD' ,\n                minimumFractionDigits: 2 ,\n                maximumFractionDigits: 2 \n             }\n        ) ;\n}\n\ndocument.getElementById(\"num1\").innerHTML = toUSCurrency(-0.006);\ndocument.getElementById(\"num2\").innerHTML = toUSCurrency(-0.002);\ndocument.getElementById(\"num3\").innerHTML = toUSCurrency(-10000000.002);\ndocument.getElementById(\"num4\").innerHTML = toUSCurrency(10000000.002);\n</code></pre>\n\n<p>NOTES: \n1) <code>Math.round()</code> can get into the floating point nature of numbers if you have to deal with very large decimals.</p>\n\n<p>2) <code>toLocaleString()</code> seems to be supported by all current major browsers. <a href=\"https://caniuse.com/#feat=internationalization\" rel=\"nofollow noreferrer\">https://caniuse.com/#feat=internationalization</a></p>\n"}], "owner": {"reputation": 3719, "user_id": 1704772, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/df2bfc9fc3a605d2c9f7efbee53cfb47?s=128&d=identicon&r=PG", "display_name": "Kirk Ross", "link": "https://stackoverflow.com/users/1704772/kirk-ross"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1022, "favorite_count": 0, "accepted_answer_id": 48675147, "answer_count": 1, "score": 3, "last_activity_date": 1518048907, "creation_date": 1518038011, "last_edit_date": 1518048907, "question_id": 48673348, "link": "https://stackoverflow.com/questions/48673348/numeral-js-negative-number-rounding-formatting-issue", "title": "numeral.js - negative number rounding/formatting issue", "body": "<p>I'm getting formatting issues with numeral.js when rounding to the nearest negative 100th.</p>\n\n<p>Thoughts on why it's putting the zero before the dollar sign for the zero value?</p>\n\n<p><a href=\"https://jsfiddle.net/kirkbross/4x127527/\" rel=\"nofollow noreferrer\">FIDDLE</a></p>\n\n<pre><code>var num1 = numeral(-0.006).format('$0,0.00');\nvar num2 = numeral(-0.002).format('$0,0.00');\n\ndocument.getElementById(\"num1\").innerHTML = num1;\ndocument.getElementById(\"num2\").innerHTML = num2;\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1518037728, "post_id": 48673272, "comment_id": 84344925, "body": "man that line is so unreadable"}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1518037797, "post_id": 48673272, "comment_id": 84344955, "body": "So you are executing the function and assigning what it returns to the timeout."}], "answers": [{"tags": [], "owner": {"reputation": 13597, "user_id": 2513722, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/idsXg.jpg?s=128&g=1", "display_name": "mehulmpt", "link": "https://stackoverflow.com/users/2513722/mehulmpt"}, "is_accepted": true, "score": 1, "last_activity_date": 1518037884, "creation_date": 1518037884, "answer_id": 48673316, "question_id": 48673272, "link": "https://stackoverflow.com/questions/48673272/passing-parameters-to-the-function-in-settimeout/48673316#48673316", "title": "Passing parameters to the function in setTimeout", "body": "<p>You can use <code>let</code> here if you want to bind different values of <code>i</code> to the setTimeout function</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function timed1() {\r\n    for (let i=1; i&lt;4; i++){\r\n      setTimeout(function() { \r\n          alert(i) \r\n      }, 1000*i)\r\n    }\r\n}\r\ntimed1()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 6826, "user_id": 1707278, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e50f86ec040c7ca80f9a594cab22a07a?s=128&d=identicon&r=PG", "display_name": "Vasily A", "link": "https://stackoverflow.com/users/1707278/vasily-a"}, "edited": false, "score": 0, "creation_date": 1518038421, "post_id": 48673352, "comment_id": 84345266, "body": "thank you @Jeffrey! (in my case, I&#39;ll take mehulmpt&#39;s solution for its easier readability, but I learned important piece from yours)"}, {"owner": {"reputation": 5852, "user_id": 6361314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WknC7.jpg?s=128&g=1", "display_name": "Jeffrey Westerkamp", "link": "https://stackoverflow.com/users/6361314/jeffrey-westerkamp"}, "reply_to_user": {"reputation": 6826, "user_id": 1707278, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e50f86ec040c7ca80f9a594cab22a07a?s=128&d=identicon&r=PG", "display_name": "Vasily A", "link": "https://stackoverflow.com/users/1707278/vasily-a"}, "edited": false, "score": 1, "creation_date": 1518038632, "post_id": 48673352, "comment_id": 84345361, "body": "That&#39;s fine :) I have added a more readable equivalent, just for fun."}, {"owner": {"reputation": 6826, "user_id": 1707278, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e50f86ec040c7ca80f9a594cab22a07a?s=128&d=identicon&r=PG", "display_name": "Vasily A", "link": "https://stackoverflow.com/users/1707278/vasily-a"}, "edited": false, "score": 0, "creation_date": 1518038710, "post_id": 48673352, "comment_id": 84345401, "body": "awesome, thanks! I&#39;m only starting to learn arrow functions :)"}], "tags": [], "owner": {"reputation": 5852, "user_id": 6361314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WknC7.jpg?s=128&g=1", "display_name": "Jeffrey Westerkamp", "link": "https://stackoverflow.com/users/6361314/jeffrey-westerkamp"}, "is_accepted": false, "score": 1, "last_activity_date": 1518082767, "last_edit_date": 1518082767, "creation_date": 1518038030, "answer_id": 48673352, "question_id": 48673272, "link": "https://stackoverflow.com/questions/48673272/passing-parameters-to-the-function-in-settimeout/48673352#48673352", "title": "Passing parameters to the function in setTimeout", "body": "<p>The expression <code>(function(i){ alert(i) })(i)</code> does not return a function for <code>setTimeout</code> to call. If you're going the <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/IIFE\" rel=\"nofollow noreferrer\">IIFE</a> way, make sure to return a new function from it:</p>\n\n<pre><code>setTimeout((function(i) {\n    return function() {\n        alert(i);\n    };\n})(i), 1000 * i);\n</code></pre>\n\n<hr>\n\n<p>With ES2015+ a far better readable equivalent can be realized:</p>\n\n<pre><code>for (let i = 1; i &lt; 4; i++) {\n    setTimeout(() =&gt; alert(i), 1000 * i);\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 6826, "user_id": 1707278, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e50f86ec040c7ca80f9a594cab22a07a?s=128&d=identicon&r=PG", "display_name": "Vasily A", "link": "https://stackoverflow.com/users/1707278/vasily-a"}, "edited": false, "score": 0, "creation_date": 1518038917, "post_id": 48673391, "comment_id": 84345520, "body": "thank you for the detailed explanation, I appreciate it!"}], "tags": [], "owner": {"reputation": 31092, "user_id": 1715121, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/6nEEr.jpg?s=128&g=1", "display_name": "Ele", "link": "https://stackoverflow.com/users/1715121/ele"}, "is_accepted": false, "score": 1, "last_activity_date": 1518038209, "creation_date": 1518038209, "answer_id": 48673391, "question_id": 48673272, "link": "https://stackoverflow.com/questions/48673272/passing-parameters-to-the-function-in-settimeout/48673391#48673391", "title": "Passing parameters to the function in setTimeout", "body": "<p>You're swimming on <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/IIFE\" rel=\"nofollow noreferrer\">IIFE</a> (Immediately Invoked Function Expression).</p>\n\n<p>You're calling your function immediately.</p>\n\n<pre><code>setTimeout(\n   (function(i){ alert(i) })(i), 1000*i\n);                           ^\n</code></pre>\n\n<p>The scope of your variable <code>i</code> is open, you need to use <code>let</code> keyword.</p>\n\n<pre><code>for (i = 1; i &lt; 4; i++) {\n     ^\n</code></pre>\n\n<h1>Look at this code snippet</h1>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function timed1() {\r\n  for (let i = 1; i &lt; 4; i++) {\r\n    setTimeout(\r\n      function() {\r\n        alert(i)\r\n      }, 1000 * i);\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button onclick=\"timed1()\"&gt;Display alerts&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 6826, "user_id": 1707278, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e50f86ec040c7ca80f9a594cab22a07a?s=128&d=identicon&r=PG", "display_name": "Vasily A", "link": "https://stackoverflow.com/users/1707278/vasily-a"}, "edited": false, "score": 0, "creation_date": 1518038834, "post_id": 48673392, "comment_id": 84345472, "body": "ah, that&#39;s very neat! didn&#39;t think about passing the arguments that way, thank you!"}], "tags": [], "owner": {"reputation": 3238, "user_id": 7486612, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bc85993039d8b9241a72ca5ceb4c4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Sidney", "link": "https://stackoverflow.com/users/7486612/sidney"}, "is_accepted": false, "score": 1, "last_activity_date": 1518038214, "creation_date": 1518038214, "answer_id": 48673392, "question_id": 48673272, "link": "https://stackoverflow.com/questions/48673272/passing-parameters-to-the-function-in-settimeout/48673392#48673392", "title": "Passing parameters to the function in setTimeout", "body": "<p>The <code>setTimeout</code> function allows you to pass arguments to the callback function, like so:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function timed1() {\r\n  for (i=1; i&lt;4; i++){\r\n    setTimeout(alert, 1000 * i, i);\r\n  }\r\n}\r\n\r\ntimed1()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any arguments after the time are passed along to the callback.</p>\n"}], "owner": {"reputation": 6826, "user_id": 1707278, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/e50f86ec040c7ca80f9a594cab22a07a?s=128&d=identicon&r=PG", "display_name": "Vasily A", "link": "https://stackoverflow.com/users/1707278/vasily-a"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 48673316, "answer_count": 4, "score": 0, "last_activity_date": 1518082767, "creation_date": 1518037691, "last_edit_date": 1518037901, "question_id": 48673272, "link": "https://stackoverflow.com/questions/48673272/passing-parameters-to-the-function-in-settimeout", "title": "Passing parameters to the function in setTimeout", "body": "<p>I want to call a function in a cycle with <code>setTimeout()</code>, and also pass the counter as a parameter. Here's what I tried:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;&lt;body&gt;\n\n&lt;button onclick=\"timed1()\"&gt;Display alerts&lt;/button&gt;\n\n&lt;script&gt;\nfunction timed1() {\n for (i=1; i&lt;4; i++){\n  setTimeout(\n     (function(i){ alert(i) })(i), 1000*i\n   );\n }\n}\n&lt;/script&gt;\n\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>Function calls are done with correct values, but immediately instead of the intervals I wanted. I have read <a href=\"https://stackoverflow.com/questions/1190642/how-can-i-pass-a-parameter-to-a-settimeout-callback\">this</a> and <a href=\"https://stackoverflow.com/questions/32195140/function-in-settimeout-doesnt-work\">this</a> SO questions but unfortunately don't see yet what should I change in my case.</p>\n"}, {"tags": ["javascript", "reactjs", "ecmascript-6", "babeljs", "jsx"], "answers": [{"comments": [{"owner": {"reputation": 13687, "user_id": 1136527, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/LpVhn.jpg?s=128&g=1", "display_name": "Alex McMillan", "link": "https://stackoverflow.com/users/1136527/alex-mcmillan"}, "edited": false, "score": 0, "creation_date": 1518039942, "post_id": 48673506, "comment_id": 84345961, "body": "so how do you do this with standard dom nodes, eg <code>span</code>?  <code>const Component = ReactDom.span</code> doesn&#39;t work, neither does <code>const Component = &lt;span&gt;</code> (of course)."}, {"owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "reply_to_user": {"reputation": 13687, "user_id": 1136527, "user_type": "registered", "accept_rate": 65, "profile_image": "https://i.stack.imgur.com/LpVhn.jpg?s=128&g=1", "display_name": "Alex McMillan", "link": "https://stackoverflow.com/users/1136527/alex-mcmillan"}, "edited": false, "score": 0, "creation_date": 1518040505, "post_id": 48673506, "comment_id": 84346249, "body": "It&#39;s supposed to be a component, and DOM node is an object, not a component. You can pass custom component, <code>&lt;Bar component={() =&gt; &lt;h1&#47;&gt;} &#47;&gt;</code>. Or even better, built-in component string (which supported HTML elements basically are), <code>&lt;Bar component={&#39;h1&#39;} &#47;&gt;</code>"}], "tags": [], "owner": {"reputation": 147776, "user_id": 3731501, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/e4783dfa8ec98c884e61d29f2192ac97?s=128&d=identicon&r=PG&f=1", "display_name": "Estus Flask", "link": "https://stackoverflow.com/users/3731501/estus-flask"}, "is_accepted": true, "score": 2, "last_activity_date": 1518038747, "creation_date": 1518038747, "answer_id": 48673506, "question_id": 48673268, "link": "https://stackoverflow.com/questions/48673268/how-to-pass-a-class-extending-react-component-as-a-property-to-render-it-using/48673506#48673506", "title": "How to pass a class extending React.Component as a property to render it (using babel)?", "body": "<p>A component can be either a function or a class. And ES6 classes cannot be called without <code>new</code>, at least the ones that are spec-compliant (this includes native and Babel classes).</p>\n\n<p>This is not a problem since components shouldn't be instantiated manually. Both function and class components will be properly handled by <code>ReactDOM.render</code>:</p>\n\n<pre><code>class Bar extends React.Component {\n  render() {\n    const Component = this.props.component;\n    return &lt;Component/&gt;;\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 5158, "user_id": 272770, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/1fcf047ac767d54ae1b1525f0b8f7224?s=128&d=identicon&r=PG", "display_name": "Roman", "link": "https://stackoverflow.com/users/272770/roman"}, "is_accepted": false, "score": 1, "last_activity_date": 1518039717, "creation_date": 1518039717, "answer_id": 48673731, "question_id": 48673268, "link": "https://stackoverflow.com/questions/48673268/how-to-pass-a-class-extending-react-component-as-a-property-to-render-it-using/48673731#48673731", "title": "How to pass a class extending React.Component as a property to render it (using babel)?", "body": "<p>Try using <code>React.createElement(this.props.component, props)</code> instead.</p>\n\n<p>Here's a working example:</p>\n\n<pre><code>class Foo extends React.Component {\n  render() { return \"Foo\" }\n}\n\nclass Bar extends React.Component {\n  render() {\n    return React.createElement(this.props.component, {})\n  }\n}\n\nReactDOM.render(\n  &lt;Bar component={Foo} /&gt;,\n  document.getElementById('root')\n);\n</code></pre>\n\n<p><em><a href=\"https://codepen.io/anon/pen/QQGQYZ\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/QQGQYZ</a></em></p>\n"}], "owner": {"reputation": 560, "user_id": 2084865, "user_type": "registered", "accept_rate": 64, "profile_image": "https://www.gravatar.com/avatar/c20593d1e83dd761c1b83509e6fa4dbb?s=128&d=identicon&r=PG", "display_name": "user2084865", "link": "https://stackoverflow.com/users/2084865/user2084865"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 218, "favorite_count": 0, "accepted_answer_id": 48673506, "answer_count": 2, "score": 2, "last_activity_date": 1518039717, "creation_date": 1518037671, "question_id": 48673268, "link": "https://stackoverflow.com/questions/48673268/how-to-pass-a-class-extending-react-component-as-a-property-to-render-it-using", "title": "How to pass a class extending React.Component as a property to render it (using babel)?", "body": "<p>This issue is only reproducable in babel (using babel-runtime-6.26.0).</p>\n\n<p>Having the following structure</p>\n\n<pre><code>class Foo extends React.Component {\n// ...\n}\n\nclass Bar extends React.Component {\n  render() {\n    return this.props.component();\n  }\n}\n\n// somewhere:\n&lt;Bar component={Foo} /&gt;\n</code></pre>\n\n<p>worked and works for me in general, but when switching to babel I get the error message:\n<code>TypeError: Cannot call a class as a function</code> in <code>(classCallCheck.js:7)</code>. I've read that this is spec compliant behavior, but it does work outside of the babel environment.</p>\n\n<p>Btw, if I use functional stateless components it works, of course. But I can't guarantee that the consumer of my lib is providing such a component and not a class based one.</p>\n\n<ul>\n<li>How can I approach this using babel?</li>\n<li>Is there a different pattern to use to pass components via properties? I believe it's common practice to pass in classes/class constructors via props to components.</li>\n</ul>\n"}, {"tags": ["javascript", "node.js", "plugins", "webpack-dev-server", "vue-loader"], "answers": [{"tags": [], "owner": {"reputation": 101, "user_id": 9329856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/666deef3b22d975f6bd396d0a8d1af7b?s=128&d=identicon&r=PG&f=1", "display_name": "PhD Rookie", "link": "https://stackoverflow.com/users/9329856/phd-rookie"}, "is_accepted": false, "score": 0, "last_activity_date": 1518106472, "creation_date": 1518106472, "answer_id": 48689990, "question_id": 48673266, "link": "https://stackoverflow.com/questions/48673266/relative-module-error-while-running-webpack-vue-loader/48689990#48689990", "title": "Relative Module Error while running webpack/vue-loader", "body": "<p>Figured out the problem. The gitignore file was ignoring some packages. In the plugins folder, there were three files that end in .esm.js. I converted those to .js and the file ran smoothly</p>\n"}], "owner": {"reputation": 101, "user_id": 9329856, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/666deef3b22d975f6bd396d0a8d1af7b?s=128&d=identicon&r=PG&f=1", "display_name": "PhD Rookie", "link": "https://stackoverflow.com/users/9329856/phd-rookie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518106472, "creation_date": 1518037664, "question_id": 48673266, "link": "https://stackoverflow.com/questions/48673266/relative-module-error-while-running-webpack-vue-loader", "title": "Relative Module Error while running webpack/vue-loader", "body": "<p>I'm basically trying to run this open source code on my local server:\n<a href=\"https://github.com/darosh/oax\" rel=\"nofollow noreferrer\">https://github.com/darosh/oax</a></p>\n\n<p>I've managed to get to <code>run node build/dev-server.js</code> (alias is <code>npm run webpack:dev</code>), and got these errors:</p>\n\n<p>build [==                  ] 10%> Starting dev server...\nbuild [==================  ] 91%</p>\n\n<p>ERROR  Failed to compile with 5 errors                                                                                                                                                                                               15:58:00</p>\n\n<p>These relative modules were not found:</p>\n\n<ul>\n<li>../../../plugins/dagre.js in ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&amp;index=0!./components/elements/api/PathChart.vue</li>\n<li>../../../plugins/graphlib in ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib/selector.js?type=script&amp;index=0!./components/elements/api/PathChart.vue</li>\n<li>./icons-bundle in ./plugins/icons.js</li>\n<li>./plugins/dagre.js in multi ./build/dev-client ./plugins/lodash.js ./plugins/d3.js ./plugins/dagre.js ./plugins/graphlib.js axios</li>\n<li>./plugins/graphlib.js in multi ./build/dev-client ./plugins/lodash.js ./plugins/d3.js ./plugins/dagre.js ./plugins/graphlib.js axios\nBuild completed in 15.348s</li>\n</ul>\n\n<p>Does anyone have any idea what's wrong?</p>\n"}, {"tags": ["javascript", "android", "meteor"], "owner": {"reputation": 21, "user_id": 5428808, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69f82bb86386199995616040c94b8bf6?s=128&d=identicon&r=PG&f=1", "display_name": "GeekBoy", "link": "https://stackoverflow.com/users/5428808/geekboy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1518058137, "creation_date": 1518037648, "last_edit_date": 1518058137, "question_id": 48673259, "link": "https://stackoverflow.com/questions/48673259/how-to-work-innozoom-meteor-js", "title": "How to work inno:zoom Meteor js", "body": "<p>How does this package work on mobile? \nI have added the package with Meteor add \"inno-zoom\"</p>\n\n<p>and my HTML is as follows:- </p>\n\n<pre><code>{{#HammerTouchArea gestureMap=templateGestures}}\n&lt;img class=\"blue\" src=\"{{img}}\" data-action=\"zoom\"/&gt;\n    {{/HammerTouchArea}}\n</code></pre>\n\n<p>Does anyone know why this works in the browser but not on android testing device?</p>\n"}, {"tags": ["javascript", "recaptcha"], "answers": [{"tags": [], "owner": {"reputation": 969, "user_id": 126978, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RPq8n.jpg?s=128&g=1", "display_name": "blackbird", "link": "https://stackoverflow.com/users/126978/blackbird"}, "is_accepted": true, "score": 0, "last_activity_date": 1521128817, "creation_date": 1521128817, "answer_id": 49303792, "question_id": 48673234, "link": "https://stackoverflow.com/questions/48673234/recaptcha-not-showing/49303792#49303792", "title": "reCAPTCHA not showing", "body": "<p>The only explanation I got from Google's side was that too many requests were failing. We happened to be doing user tests on our side around that time so I can only assume that messed up our stats with them. </p>\n\n<p>There was nothing I could do on our end (changing keys, updating domain, choosing higher security) to get it to show again, it was only a matter of waiting, a few days later the reCAPTCHA started showing again on our site.</p>\n"}], "owner": {"reputation": 969, "user_id": 126978, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/RPq8n.jpg?s=128&g=1", "display_name": "blackbird", "link": "https://stackoverflow.com/users/126978/blackbird"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2142, "favorite_count": 0, "accepted_answer_id": 49303792, "answer_count": 1, "score": 1, "last_activity_date": 1521128817, "creation_date": 1518037567, "question_id": 48673234, "link": "https://stackoverflow.com/questions/48673234/recaptcha-not-showing", "title": "reCAPTCHA not showing", "body": "<p>I have a key pair for reCAPTCHA v2 on our staging server but today the block suddenly stopped rendering. I see the <code>div</code> with a <code>display:none</code>, no errors in the  console.<br>\nIn the reCAPTCHA admin console I found this message </p>\n\n<blockquote>\n  <p>We detected that your site is verifying reCAPTCHA passed solutions\n  less than 50% of the time</p>\n</blockquote>\n\n<p>I don't have enough stats for this domain to see what the problem is, it's been working since we implemented it a few months ago and the code hasn't changed recently. Searching around, I tried using <code>async defer</code> with explicit render, I tried moving around the script tag after the div, I tried disabling all plugins, tried different browsers on different machines, tried generating a new key pair: none of it works.  </p>\n\n<p>How do we solve this problem and get our captcha working again?</p>\n"}, {"tags": ["javascript", "date", "hide", "show"], "comments": [{"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1518037812, "post_id": 48673231, "comment_id": 84344963, "body": "Keep in mind that new Date comes from the user&#39;s computer.  Setting my local computer date to Sunday and visiting your page would show me the form, in that case."}, {"owner": {"reputation": 105, "user_id": 8799135, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-l1C_iBgEC8s/AAAAAAAAAAI/AAAAAAAAADU/RBhd2Lmz39c/photo.jpg?sz=128", "display_name": "Nathan Boaldin", "link": "https://stackoverflow.com/users/8799135/nathan-boaldin"}, "reply_to_user": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1518038549, "post_id": 48673231, "comment_id": 84345321, "body": "That is a good point James. The form is just to log about how many viewers are watching a live stream. I would like to know a more accurate way to write a function with say a servers date or google&#39;s date. I did not know that Javascript&#39;s date function got its data from the local computer."}], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 8799135, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-l1C_iBgEC8s/AAAAAAAAAAI/AAAAAAAAADU/RBhd2Lmz39c/photo.jpg?sz=128", "display_name": "Nathan Boaldin", "link": "https://stackoverflow.com/users/8799135/nathan-boaldin"}, "edited": false, "score": 0, "creation_date": 1518039332, "post_id": 48673356, "comment_id": 84345713, "body": "Interesting. I&#39;ve never used localStorage. So, since there is &quot;no expiration&quot; on local storage items. I would store the value of the submit locally then write something like if(day == 0) { storage.removeItem(submit.value)}, and theoretically that would work?"}, {"owner": {"reputation": 105, "user_id": 8799135, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-l1C_iBgEC8s/AAAAAAAAAAI/AAAAAAAAADU/RBhd2Lmz39c/photo.jpg?sz=128", "display_name": "Nathan Boaldin", "link": "https://stackoverflow.com/users/8799135/nathan-boaldin"}, "edited": false, "score": 0, "creation_date": 1518105235, "post_id": 48673356, "comment_id": 84377166, "body": "Just wanted to say thanks. Using localStorage was exactly what I needed to do, and my script works. Woohoo."}], "tags": [], "owner": {"reputation": 61, "user_id": 2791896, "user_type": "registered", "profile_image": "https://graph.facebook.com/1489074490/picture?type=large", "display_name": "Piotr Gr\u0119dowski", "link": "https://stackoverflow.com/users/2791896/piotr-gr%c4%99dowski"}, "is_accepted": true, "score": 0, "last_activity_date": 1518038058, "creation_date": 1518038058, "answer_id": 48673356, "question_id": 48673231, "link": "https://stackoverflow.com/questions/48673231/hide-form-for-certain-amount-of-days-after-it-has-been-submitted-once/48673356#48673356", "title": "Hide form for certain amount of days after it has been submitted once?", "body": "<p>You can use <code>localStorage</code> to store there some information about button being pushed.\n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage</a></p>\n\n<p>Then you can get item from <code>localStorage</code> and check if there is your value stored. So you will be able to know if somebody clicked this button or not.\nBut this information would be reliable only until <code>localStorage</code> would be cleaned.</p>\n"}, {"comments": [{"owner": {"reputation": 105, "user_id": 8799135, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-l1C_iBgEC8s/AAAAAAAAAAI/AAAAAAAAADU/RBhd2Lmz39c/photo.jpg?sz=128", "display_name": "Nathan Boaldin", "link": "https://stackoverflow.com/users/8799135/nathan-boaldin"}, "edited": false, "score": 0, "creation_date": 1518039522, "post_id": 48673579, "comment_id": 84345790, "body": "From the information I have received there is no user database. Anybody can go to this site on Sunday morning and watch a live stream. Though, this is a much more straightforward solution."}], "tags": [], "owner": {"reputation": 21, "user_id": 7447126, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6714083009199b158febf805acacb2fe?s=128&d=identicon&r=PG", "display_name": "Kenton Hansen", "link": "https://stackoverflow.com/users/7447126/kenton-hansen"}, "is_accepted": false, "score": 0, "last_activity_date": 1518039036, "creation_date": 1518039036, "answer_id": 48673579, "question_id": 48673231, "link": "https://stackoverflow.com/questions/48673231/hide-form-for-certain-amount-of-days-after-it-has-been-submitted-once/48673579#48673579", "title": "Hide form for certain amount of days after it has been submitted once?", "body": "<p>It looks like you're trying to do this completely in the DOM, but I think a better solution would be by storing the information in the User's database record. (That's an assumption that you have a database storing User information)</p>\n\n<p>Add a boolean in the Users table for \"Button Click.\" When the user clicks the button, change the status to <code>TRUE</code> and reset it to <code>FALSE</code> every week.</p>\n\n<p>If the <code>TRUE</code>, don't show the modal.</p>\n"}], "owner": {"reputation": 105, "user_id": 8799135, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-l1C_iBgEC8s/AAAAAAAAAAI/AAAAAAAAADU/RBhd2Lmz39c/photo.jpg?sz=128", "display_name": "Nathan Boaldin", "link": "https://stackoverflow.com/users/8799135/nathan-boaldin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 48673356, "answer_count": 2, "score": 0, "last_activity_date": 1518039036, "creation_date": 1518037561, "question_id": 48673231, "link": "https://stackoverflow.com/questions/48673231/hide-form-for-certain-amount-of-days-after-it-has-been-submitted-once", "title": "Hide form for certain amount of days after it has been submitted once?", "body": "<p>I am trying to only show a modal on Sundays. Then I am trying to only let the user submit the form once until the next Sunday. So I have this to only show the element on Sunday:</p>\n\n<pre><code>    function test(){\n     var rightNow = new Date();\n     var day = rightNow.getDay();\n     var Sunday = (day == 0);\n     if(Sunday){\n       document.querySelector('.modal-wrapper').style.display = 'block';\n     } else {\n       document.querySelector('.modal-wrapper').style.display = 'none';\n     }\n   }\n</code></pre>\n\n<p>But, I am curious if there is some code I can write to not let the modal show if the \"Submit\" button has been pushed on the form inside the modal. Something like:</p>\n\n<pre><code>if(submit === pushed) {\n //hide modal again until next Sunday\n}\n</code></pre>\n\n<p>I'm sure this is a stupid question to most stackoverflow dev overlords, but some help would be greatly appreciated. Even being pointed to the right resources or technology to study would be great, too. Thanks.</p>\n"}, {"tags": ["javascript", "html", "canvas", "save"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 8479272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5CmEk.jpg?s=128&g=1", "display_name": "nameless noob", "link": "https://stackoverflow.com/users/8479272/nameless-noob"}, "edited": false, "score": 0, "creation_date": 1518042199, "post_id": 48673877, "comment_id": 84347025, "body": "I clarified the question. There is not too much of a new code, I put here everything I have."}], "tags": [], "owner": {"reputation": 86, "user_id": 467082, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9aBYd.png?s=128&g=1", "display_name": "blackbox", "link": "https://stackoverflow.com/users/467082/blackbox"}, "is_accepted": false, "score": 0, "last_activity_date": 1518040331, "creation_date": 1518040331, "answer_id": 48673877, "question_id": 48673215, "link": "https://stackoverflow.com/questions/48673215/cannot-save-big-canvas-as-image/48673877#48673877", "title": "Cannot save big canvas as image", "body": "<p>Can you post more of your code? It works for me in this snippet.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var size = 2000;\r\n\r\nconst canvas = document.getElementById('c');\r\nvar c = canvas.getContext('2d');\r\ncanvas.width = size;\r\ncanvas.height = size;\r\ncanvas.style.width  = size+'px';\r\ncanvas.style.height = size+'px';\r\n\r\n// fill canvas with color\r\nc.fillStyle = '#123456';\r\nc.fillRect(0, 0, size, size);\r\n\r\nconst save = document.getElementById('save');\r\nsave.onclick = saveCanvas;\r\nfunction saveCanvas() {\r\n  try {\r\n    var date = new Date();\r\n    const a = document.createElement('a');\r\n    const bitmap = canvas.toDataURL(\"image/png\");\r\n    a.href = bitmap.replace(\"image/png\", \"image/octet-stream\");\r\n    a.download = \"canvas \" + date.valueOf() + '.png';\r\n    a.click();\r\n  } catch (ex) {\r\n    alert(ex);\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;a id=\"save\" href=\"#\"&gt;save&lt;/a&gt;\r\n&lt;canvas id=\"c\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 8479272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5CmEk.jpg?s=128&g=1", "display_name": "nameless noob", "link": "https://stackoverflow.com/users/8479272/nameless-noob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 792, "favorite_count": 0, "closed_date": 1518043565, "answer_count": 1, "score": 0, "last_activity_date": 1518043622, "creation_date": 1518037465, "last_edit_date": 1518042154, "question_id": 48673215, "link": "https://stackoverflow.com/questions/48673215/cannot-save-big-canvas-as-image", "closed_reason": "Duplicate", "title": "Cannot save big canvas as image", "body": "<p>Good day. I use the following code to save canvas to local image file.</p>\n\n<pre><code>let canvas = document.createElement('canvas');\ncanvas.width = \"1056\";\ncanvas.height = \"1248\"; \ndocument.body.appendChild(canvas);//in case of debug\nrasterizeHTML.drawHTML(document.getElementById(\"canvas\").outerHTML, canvas).then(function() {\n    date = new Date();\n    let a = document.createElement('a');\n    let bitmap = canvas.toDataURL(\"image/png\");\n    a.href = bitmap.replace(\"image/png\", \"image/octet-stream\");\n    a.download = \"canvas \" + date.valueOf()+'.png';\n    a.click();\n});\n</code></pre>\n\n<p>It works well until canvas height reaches 1k, right after that the resulting file stops loading with error, the file name also corrupts. What could possibly go wrong? Note that save works fine with small images (like 500x500 or 700x900). The canvas rendering works with whatever resolution I set, I can see it by appended image.</p>\n"}, {"tags": ["javascript", "velocity.js"], "answers": [{"comments": [{"owner": {"reputation": 1483, "user_id": 325626, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f3921cda4b7d72c4661e29e65f266d5b?s=128&d=identicon&r=PG", "display_name": "LeeR", "link": "https://stackoverflow.com/users/325626/leer"}, "edited": false, "score": 0, "creation_date": 1521580874, "post_id": 48733781, "comment_id": 85790304, "body": "Just wondering if the &quot;slideUp&quot;, &quot;slideDown&quot; sequences are implemented yet?"}, {"owner": {"reputation": 2690, "user_id": 3328079, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b06c12e72953e0edd3054a8645d76791?s=128&d=identicon&r=PG", "display_name": "Rycochet", "link": "https://stackoverflow.com/users/3328079/rycochet"}, "reply_to_user": {"reputation": 1483, "user_id": 325626, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/f3921cda4b7d72c4661e29e65f266d5b?s=128&d=identicon&r=PG", "display_name": "LeeR", "link": "https://stackoverflow.com/users/325626/leer"}, "edited": false, "score": 1, "creation_date": 1521612712, "post_id": 48733781, "comment_id": 85799902, "body": "All of the css sequences from animate.css are now in there - <a href=\"https://github.com/daneden/animate.css/\" rel=\"nofollow noreferrer\">github.com/daneden/animate.css</a> - but not documented or with full tests yet - that gives &quot;slideOutUp&quot; and &quot;slideInDown&quot; which I think are what you&#39;re looking for - the next release is likely to be this weekend when they&#39;ll get documented and put on NPM etc"}], "tags": [], "owner": {"reputation": 2690, "user_id": 3328079, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b06c12e72953e0edd3054a8645d76791?s=128&d=identicon&r=PG", "display_name": "Rycochet", "link": "https://stackoverflow.com/users/3328079/rycochet"}, "is_accepted": false, "score": 0, "last_activity_date": 1518366956, "creation_date": 1518366956, "answer_id": 48733781, "question_id": 48673172, "link": "https://stackoverflow.com/questions/48673172/velocity-js-version-2-0-not-animating/48733781#48733781", "title": "Velocity.js version 2.0 not animating", "body": "<p>Velocity V2 is open beta - this isn't supported yet. I'm working on the sequences right now, and this will be back in within the next week or two (along with an improved API for it).</p>\n\n<p>Please note - supported commands are in the wiki on GitHub.</p>\n"}], "owner": {"reputation": 3177, "user_id": 3375847, "user_type": "registered", "accept_rate": 51, "profile_image": "https://i.stack.imgur.com/QHIcL.png?s=128&g=1", "display_name": "Glen Pierce", "link": "https://stackoverflow.com/users/3375847/glen-pierce"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 529, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518366956, "creation_date": 1518037314, "last_edit_date": 1518076939, "question_id": 48673172, "link": "https://stackoverflow.com/questions/48673172/velocity-js-version-2-0-not-animating", "title": "Velocity.js version 2.0 not animating", "body": "<p>Using Velocity version 2.0, the element is being removed from the DOM after about 1500ms, but there is no animation. It just pops in and out of view.</p>\n\n<pre><code>var jQueryObject = document.jQuery(element);\n    jQueryObject.velocity(\"slideDown\", {duration: 1500})\n        .velocity(\"slideUp\", {duration: 4000})\n        .then(function(){element.remove()});\n</code></pre>\n\n<p>Link to the docs: <a href=\"http://velocityjs.org/#fade\" rel=\"nofollow noreferrer\">http://velocityjs.org/#fade</a></p>\n"}, {"tags": ["javascript", "sapui5"], "answers": [{"tags": [], "owner": {"reputation": 5138, "user_id": 977177, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3125dba150fead422c75e5455d12d57e?s=128&d=identicon&r=PG", "display_name": "slkorolev", "link": "https://stackoverflow.com/users/977177/slkorolev"}, "is_accepted": false, "score": 1, "last_activity_date": 1518072939, "creation_date": 1518072939, "answer_id": 48679360, "question_id": 48673167, "link": "https://stackoverflow.com/questions/48673167/loading-dynamic-content-in-icontab/48679360#48679360", "title": "Loading dynamic content in icontab", "body": "<p>Instead of <strong>id</strong> in IconTabFilter you should use <strong><em>key</em></strong> property, like this:</p>\n\n<pre><code>&lt;IconTabBar selectedKey=\"iContact\" id=\"idMenu\" expandable=\"false\"&gt;\n     &lt;items&gt;\n        &lt;IconTabFilter text=\"Data\" key=\"iData\" visible=\"false\"&gt;\n            &lt;mvc:XMLView viewName=\"APP.view.TabData\"/&gt;\n        &lt;/IconTabFilter&gt;\n        &lt;IconTabFilter text=\"Contact\" key=\"iContact\" visible=\"false\"&gt;\n            &lt;mvc:XMLView viewName=\"APP.view.TabContact\"/&gt;\n        &lt;/IconTabFilter&gt;\n     &lt;/items&gt;\n &lt;/IconTabBar&gt;\n</code></pre>\n\n<p>IconTabFilter is an extension of <a href=\"https://sapui5.netweaver.ondemand.com/#/api/sap.ui.core.Item\" rel=\"nofollow noreferrer\">sap.ui.core.Item</a> and it has <strong>key</strong> property as an identifier.</p>\n"}, {"tags": [], "owner": {"reputation": 4071, "user_id": 3808826, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ES3hJ.jpg?s=128&g=1", "display_name": "D. Seah", "link": "https://stackoverflow.com/users/3808826/d-seah"}, "is_accepted": false, "score": -1, "last_activity_date": 1518328034, "last_edit_date": 1518328034, "creation_date": 1518327090, "answer_id": 48728625, "question_id": 48673167, "link": "https://stackoverflow.com/questions/48673167/loading-dynamic-content-in-icontab/48728625#48728625", "title": "Loading dynamic content in icontab", "body": "<p>IMO, this can be done via proper MVC, where we have a model to control what to show and what to be selected. here is an example\n<a href=\"http://jsbin.com/piwepuv/edit?html,js,output\" rel=\"nofollow noreferrer\">http://jsbin.com/piwepuv/edit?html,js,output</a></p>\n\n<pre><code>sap.ui.define(['sap/m/IconTabBar', 'sap/m/IconTabFilter',\n              'sap/ui/model/json/JSONModel'],\n              function(IconTabBar, IconTabFilter, JSONModel) {\n  var oBar = new IconTabBar({\n    selectedKey: '{/selected}',\n    items: {\n      path: '/visible',\n      template: new IconTabFilter({\n        text: \"{text}\",\n        key: \"{id}\"\n      })\n    }\n  });\n  oBar.placeAt('content');\n\n  oBar.setModel(new JSONModel({\n    selected: 'iContact',\n    visible: [\n      {id: \"iData\", text: \"Data\"},\n      {id: \"iContact\", text: \"Contact\"}\n    ]\n  }));\n});\n</code></pre>\n\n<p><a href=\"http://jsbin.com/yuxicej/edit?html,js,output\" rel=\"nofollow noreferrer\">http://jsbin.com/yuxicej/edit?html,js,output</a></p>\n\n<pre><code>&lt;!DOCTYPE HTML&gt;\n&lt;html&gt;\n\n  &lt;head&gt;\n    &lt;meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\" /&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;MVC&lt;/title&gt;\n    &lt;script id=\"sap-ui-bootstrap\" type=\"text/javascript\"\n            src=\"https://sapui5.hana.ondemand.com/resources/sap-ui-core.js\"\n            data-sap-ui-theme=\"sap_bluecrystal\"\n            data-sap-ui-libs=\"sap.m\"\n            data-sap-ui-xx-bindingSyntax=\"complex\"&gt;\n    &lt;/script&gt;\n\n    &lt;script id=\"oView\" type=\"sapui5/xmlview\"&gt;\n    &lt;mvc:View height=\"100%\" controllerName=\"myView.Template\"\n      xmlns=\"sap.m\" \n      xmlns:core=\"sap.ui.core\"\n      xmlns:mvc=\"sap.ui.core.mvc\"&gt;\n      &lt;IconTabBar selectedKey=\"{/selected}\" items=\"{/visible}\"&gt;\n        &lt;items&gt;\n          &lt;IconTabFilter text=\"{text}\" key=\"{id}\" /&gt;\n        &lt;/items&gt;\n      &lt;/IconTabBar&gt;\n  &lt;/mvc:View&gt;\n    &lt;/script&gt;\n\n  &lt;/head&gt;\n\n  &lt;body class=\"sapUiBody sapUiSizeCompact\" role=\"application\"&gt;\n    &lt;div id=\"content\"&gt;&lt;/div&gt;\n  &lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p>view</p>\n\n<pre><code>sap.ui.define([\n  'sap/ui/core/mvc/Controller',\n  'sap/ui/model/json/JSONModel'\n], function(Controller, JSONModel) {\n  \"use strict\";\n\n  var oController = Controller.extend(\"myView.Template\", {\n    onInit: function(oEvent) {\n      this.getView().setModel(new JSONModel({\n        selected: 'iContact',\n        visible: [\n          {id: \"iData\", text: \"Data\"},\n          {id: \"iContact\", text: \"Contact\"}\n        ]\n      }));\n    }\n  });\n\n  return oController;\n});\n\nvar oView = sap.ui.xmlview({\n  viewContent: jQuery('#oView').html()\n});\n\noView.placeAt('content');\n</code></pre>\n"}], "owner": {"reputation": 2174, "user_id": 1579883, "user_type": "registered", "accept_rate": 24, "profile_image": "https://www.gravatar.com/avatar/5d54ceb42e783c4155faaedd4581b4be?s=128&d=identicon&r=PG", "display_name": "jesicadev18", "link": "https://stackoverflow.com/users/1579883/jesicadev18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1060, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1518439865, "creation_date": 1518037299, "last_edit_date": 1518439865, "question_id": 48673167, "link": "https://stackoverflow.com/questions/48673167/loading-dynamic-content-in-icontab", "title": "Loading dynamic content in icontab", "body": "<p>I have an IconTabBar with ui5, and each tab has its content as a view and loads content from Json datasets. </p>\n\n<p>I need to redirect to an specific tab and I'm doing that by setting the selectedKey. However the content doesn't load. The tab gets selected but the content shown is from the previous tab. I guess maybe has to do with DOM events.</p>\n\n<p>My use case</p>\n\n<p>Initially all tabs are hidden. On an event I set visible only iContact Tab ( by setting visible=true) , then on another event (on a button pressed) I need to redirect to iData Tab.</p>\n\n<p>My xml view</p>\n\n<pre><code> &lt;IconTabBar selectedKey=\"iContact\" id=\"idMenu\" expandable=\"false\"&gt;\n     &lt;items&gt;\n        &lt;IconTabFilter text=\"Data\" id=\"iData\" visible=\"false\"&gt;\n            &lt;mvc:XMLView viewName=\"APP.view.TabData\"/&gt;\n        &lt;/IconTabFilter&gt;\n        &lt;IconTabFilter text=\"Contact\" id=\"iContact\" visible=\"false\"&gt;\n            &lt;mvc:XMLView viewName=\"APP.view.TabContact\"/&gt;\n        &lt;/IconTabFilter&gt;\n     &lt;/items&gt;\n &lt;/IconTabBar&gt;\n</code></pre>\n\n<p>In my controller of button pressed to load iData Tab. \nI'm setting the tab visible, the tab gets marked as selected but the content shown is from icontact Tab instead.</p>\n\n<pre><code> sap.ui.getCore().getElementById('idMenu').setSelectedKey(\"iData\");\n</code></pre>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "jquery", "html", "events", "event-handling"], "comments": [{"owner": {"reputation": 1423, "user_id": 4179073, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/nI4GY.jpg?s=128&g=1", "display_name": "takinola", "link": "https://stackoverflow.com/users/4179073/takinola"}, "reply_to_user": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1518037693, "post_id": 48673160, "comment_id": 84344905, "body": "Not really.  The answers to that question only pertain to elements that are bound by jQuery.  In my case, there could be vanilla javascript code responsible for the changes"}, {"owner": {"reputation": 7325, "user_id": 2359687, "user_type": "registered", "accept_rate": 96, "profile_image": "https://www.gravatar.com/avatar/b567febb6032c881398226a28bedc09c?s=128&d=identicon&r=PG", "display_name": "devlin carnate", "link": "https://stackoverflow.com/users/2359687/devlin-carnate"}, "edited": false, "score": 0, "creation_date": 1518037938, "post_id": 48673160, "comment_id": 84345034, "body": "There are answers to that question that do not rely on jQuery.  For example, see the second answer in the link I referred to above."}], "owner": {"reputation": 1423, "user_id": 4179073, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/nI4GY.jpg?s=128&g=1", "display_name": "takinola", "link": "https://stackoverflow.com/users/4179073/takinola"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "closed_date": 1518039512, "answer_count": 0, "score": 0, "last_activity_date": 1518037271, "creation_date": 1518037271, "question_id": 48673160, "link": "https://stackoverflow.com/questions/48673160/how-to-identify-all-events-affecting-an-element", "closed_reason": "Duplicate", "title": "How to identify all events affecting an element", "body": "<p>I have an input field</p>\n\n<pre><code>&lt;input id='target' type='text'&gt;\n</code></pre>\n\n<p>and I would like to modify its value with javascript.  Normally, this would be as easy as doing</p>\n\n<pre><code>document.getElementById('target').value = 'new value';\n</code></pre>\n\n<p>However, this input field is embedded into a page that loads other scripts that could potentially interact with this field and make changes as well.  </p>\n\n<p>How can I find out all the scripts that change the value of this input without spelunking through all the code.  Is there some way to set a listener on the input field that logs all attempts to modify it?</p>\n"}, {"tags": ["javascript", "google-chrome", "google-chrome-extension", "proxy", "http-proxy"], "comments": [{"owner": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 1, "creation_date": 1518037320, "post_id": 48673119, "comment_id": 84344682, "body": "Does <code>chrome:&#47;&#47;net-internals&#47;#proxy</code> show anything?"}, {"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1518038966, "post_id": 48673119, "comment_id": 84345536, "body": "Check the background page console for errors."}, {"owner": {"reputation": 21, "user_id": 9237599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b55d6b657ce4f67e589d4c9064d24072?s=128&d=identicon&r=PG&f=1", "display_name": "Xenz LSD", "link": "https://stackoverflow.com/users/9237599/xenz-lsd"}, "reply_to_user": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 0, "creation_date": 1518042375, "post_id": 48673119, "comment_id": 84347089, "body": "@wOxxOm No errors."}, {"owner": {"reputation": 21, "user_id": 9237599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b55d6b657ce4f67e589d4c9064d24072?s=128&d=identicon&r=PG&f=1", "display_name": "Xenz LSD", "link": "https://stackoverflow.com/users/9237599/xenz-lsd"}, "reply_to_user": {"reputation": 148712, "user_id": 19750, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/13b41b2620da0b1e630715e0c91a0b03?s=128&d=identicon&r=PG", "display_name": "Josh Lee", "link": "https://stackoverflow.com/users/19750/josh-lee"}, "edited": false, "score": 0, "creation_date": 1518042405, "post_id": 48673119, "comment_id": 84347099, "body": "@JoshLee It shows: &quot;Proxy server for HTTP: <i>my proxy IP</i>&quot;. So it should work, but when I check my IP, it&#39;s still mine."}], "owner": {"reputation": 21, "user_id": 9237599, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b55d6b657ce4f67e589d4c9064d24072?s=128&d=identicon&r=PG&f=1", "display_name": "Xenz LSD", "link": "https://stackoverflow.com/users/9237599/xenz-lsd"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 477, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1518117398, "creation_date": 1518037109, "last_edit_date": 1518117369, "question_id": 48673119, "link": "https://stackoverflow.com/questions/48673119/chrome-proxy-api-not-working", "title": "Chrome proxy API not working", "body": "<p>I want to set my Chrome proxy using an extension. This is my background.js file:</p>\n\n<pre><code>var config = {\n    mode: \"fixed_servers\",\n    rules: {\n        proxyForHttp: {\n            scheme: \"http\",\n            host: \"My IP\",\n            port: // My port as INT\n        }\n    }\n};\n\nchrome.proxy.settings.set(\n{\n    value: config,\n    scope: \"regular\"\n}, function() {});\n</code></pre>\n\n<p>It doesn't change my IP, what am I doing wrong?</p>\n\n<p>And also, how can I set the proxy for just one website and how can I turn it off?</p>\n"}, {"tags": ["javascript", "html", "innerhtml"], "answers": [{"comments": [{"owner": {"reputation": 303, "user_id": 4171551, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4d2f49ca6137cfb532a711fdb0025f01?s=128&d=identicon&r=PG&f=1", "display_name": "AmericanMade", "link": "https://stackoverflow.com/users/4171551/americanmade"}, "edited": false, "score": 0, "creation_date": 1518038030, "post_id": 48673116, "comment_id": 84345065, "body": "Thanks! That did it.  I&#39;m going to look this up to try to understand more why that works, but if you have a second to explain I&#39;d also really appreciate it."}, {"owner": {"reputation": 1129, "user_id": 4671263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d9Bbz.jpg?s=128&g=1", "display_name": "Aymen", "link": "https://stackoverflow.com/users/4671263/aymen"}, "edited": false, "score": 1, "creation_date": 1518038492, "post_id": 48673116, "comment_id": 84345293, "body": "check the variable &#39;buttonValue&#39; and change it , set value in innerHtml"}], "tags": [], "owner": {"reputation": 26888, "user_id": 973651, "user_type": "registered", "accept_rate": 90, "profile_image": "https://www.gravatar.com/avatar/dd66c6ce85ae84cb0e0c39654f5028ba?s=128&d=identicon&r=PG", "display_name": "Mathew Berg", "link": "https://stackoverflow.com/users/973651/mathew-berg"}, "is_accepted": true, "score": 3, "last_activity_date": 1518037102, "creation_date": 1518037102, "answer_id": 48673116, "question_id": 48673075, "link": "https://stackoverflow.com/questions/48673075/change-text-on-button-when-clicked-with-javascript/48673116#48673116", "title": "Change text on button when clicked with JavaScript", "body": "<p>It's not a reference, you'll have to set it directly at the end:</p>\n\n<pre><code>document.getElementById('elementTEST').innerHTML = buttonValue\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1129, "user_id": 4671263, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d9Bbz.jpg?s=128&g=1", "display_name": "Aymen", "link": "https://stackoverflow.com/users/4671263/aymen"}, "is_accepted": false, "score": 1, "last_activity_date": 1518037665, "creation_date": 1518037665, "answer_id": 48673267, "question_id": 48673075, "link": "https://stackoverflow.com/questions/48673075/change-text-on-button-when-clicked-with-javascript/48673267#48673267", "title": "Change text on button when clicked with JavaScript", "body": "<p>try this:</p>\n\n<pre><code> var buttonValue = document.getElementById('elementTEST');  \n    function changeInnerHTML(){\n        if (buttonValue.innerHTML == \"Online\")\n            buttonValue.innerHTML= \"Offline\";                  \n        else if (buttonValue.innerHTML == \"Offline\") \n            buttonValue.innerHTML = \"Online\";\n    }\n</code></pre>\n\n<p>codepen: <a href=\"https://codepen.io/aymen94/pen/QQGQNa\" rel=\"nofollow noreferrer\">example</a></p>\n"}, {"tags": [], "owner": {"reputation": 163228, "user_id": 383904, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/qCWYU.jpg?s=128&g=1", "display_name": "Roko C. Buljan", "link": "https://stackoverflow.com/users/383904/roko-c-buljan"}, "is_accepted": false, "score": 1, "last_activity_date": 1518038823, "last_edit_date": 1518038823, "creation_date": 1518038263, "answer_id": 48673399, "question_id": 48673075, "link": "https://stackoverflow.com/questions/48673075/change-text-on-button-when-clicked-with-javascript/48673399#48673399", "title": "Change text on button when clicked with JavaScript", "body": "<ul>\n<li>There's absolutely no reason to change the HTML. Change only the <code>textContent</code></li>\n<li>(Use <code>Element.innerHTML = \"bla\"</code> to set a new inner HTML)</li>\n<li>Use <code>Element.textContent = \"bla\"</code> to set a new text content</li>\n<li>Don't use inline JS <code>onclick</code> - it's discouraged for code maintainability reasons</li>\n<li>Use a <code>&lt;button&gt;</code> for semantic reasons and accessibility</li>\n</ul>\n\n<p>Here's a simpler version</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>[...document.querySelectorAll(\".toggleOnline\")].forEach( el =&gt; \r\n  el.addEventListener(\"click\", () =&gt; {\r\n     el.textContent = /online/i.test(el.textContent) ? \"Offline\" : \"Online\";\r\n  })\r\n);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.toggleOnline {\r\n  border: none;\r\n  border-radius: 0;\r\n  background: #ddd;\r\n  padding: 8px 16px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button class=\"toggleOnline\" type=\"button\" aria-live=\"assertive\" aria-atomic=\"true\"&gt;\r\n  Online\r\n&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now you can also tab your element and use <kbd>Spacebar</kbd> or <kbd>Enter</kbd> to toggle your button.</p>\n"}], "owner": {"reputation": 303, "user_id": 4171551, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4d2f49ca6137cfb532a711fdb0025f01?s=128&d=identicon&r=PG&f=1", "display_name": "AmericanMade", "link": "https://stackoverflow.com/users/4171551/americanmade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 48673116, "answer_count": 3, "score": 0, "last_activity_date": 1518038823, "creation_date": 1518036975, "last_edit_date": 1518037604, "question_id": 48673075, "link": "https://stackoverflow.com/questions/48673075/change-text-on-button-when-clicked-with-javascript", "title": "Change text on button when clicked with JavaScript", "body": "<p>I'm trying to change the text of a button when it's pressed with JavaScript.  Should be very straightforward, however, it's not working.  Can anyone explain? Here's my code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function changeInnerHTML() {\r\n  var buttonValue = document.getElementById('elementTEST').innerHTML;\r\n  var buttonValueInnerHTMLBegin = '&lt;p id=\"elementTEST\"&gt;';\r\n  var buttonValueInnerHTMLEnd = '&lt;/p&gt;';\r\n  alert(\"buttonValue = \" + typeof(buttonValue)); // -&gt; \"string\"\r\n  if (buttonValue == \"Online\") {\r\n    alert(\"turn off\"); // -&gt; \"turn off\"\r\n    buttonValue = buttonValueInnerHTMLBegin + \"Offline\" + buttonValueInnerHTMLEnd; // -&gt; DOESN'T CHANGE ANYTHING\r\n    alert(\"turned off\"); // -&gt; \"turned off\"\r\n  } else if (buttonValue == \"Offline\") {\r\n    buttonValue = \"Online\";\r\n  } else {\r\n    alert(\"There's a problem\");\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"containerTEST\"&gt;\r\n  &lt;div class=\"divTEST\" onclick=\"changeInnerHTML()\"&gt;\r\n    &lt;p id=\"elementTEST\"&gt;Online&lt;/p&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I have run this both with and without the \"buttonValueInnerHTMLBegin/End\" variables being included, and I get the same result.</p>\n\n<p>I get the alerts (shown as comments in the code), but the text/innerHTML doesn't change.</p>\n\n<p>Thanks for any help!</p>\n"}, {"tags": ["javascript", "optimization", "google-analytics", "google-optimize"], "comments": [{"owner": {"reputation": 1109, "user_id": 7125925, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-koYfigssJBw/AAAAAAAAAAI/AAAAAAAAAC0/naTVX_rR2oM/photo.jpg?sz=128", "display_name": "Geige V", "link": "https://stackoverflow.com/users/7125925/geige-v"}, "edited": false, "score": 0, "creation_date": 1534882383, "post_id": 48673048, "comment_id": 90862609, "body": "any updates on this?"}, {"owner": {"reputation": 1825, "user_id": 58175, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6dea6626db49caa77af956be99a3b6fa?s=128&d=identicon&r=PG", "display_name": "Ish", "link": "https://stackoverflow.com/users/58175/ish"}, "reply_to_user": {"reputation": 1109, "user_id": 7125925, "user_type": "registered", "accept_rate": 60, "profile_image": "https://lh4.googleusercontent.com/-koYfigssJBw/AAAAAAAAAAI/AAAAAAAAAC0/naTVX_rR2oM/photo.jpg?sz=128", "display_name": "Geige V", "link": "https://stackoverflow.com/users/7125925/geige-v"}, "edited": false, "score": 0, "creation_date": 1541020075, "post_id": 48673048, "comment_id": 93080716, "body": "see my answer below. best bet is to start with a completely fresh setup on both google analytics and optimize to troubleshoot."}], "answers": [{"tags": [], "owner": {"reputation": 1825, "user_id": 58175, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6dea6626db49caa77af956be99a3b6fa?s=128&d=identicon&r=PG", "display_name": "Ish", "link": "https://stackoverflow.com/users/58175/ish"}, "is_accepted": false, "score": 1, "last_activity_date": 1541020067, "creation_date": 1541020067, "answer_id": 53091981, "question_id": 48673048, "link": "https://stackoverflow.com/questions/48673048/google-optimize-not-working-with-activation-event-page-location-not-set/53091981#53091981", "title": "Google Optimize not working with Activation Event (Page Location not set)", "body": "<p>Just wanted to say we finally got this working. It turns out the problem was our Google Analytics setup. We were using a filtered view so a lot of events weren't showing up. Make sure to not use any filters on your view when using with Optimize.</p>\n"}], "owner": {"reputation": 1825, "user_id": 58175, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/6dea6626db49caa77af956be99a3b6fa?s=128&d=identicon&r=PG", "display_name": "Ish", "link": "https://stackoverflow.com/users/58175/ish"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1871, "favorite_count": 1, "answer_count": 1, "score": 4, "last_activity_date": 1541020067, "creation_date": 1518036833, "question_id": 48673048, "link": "https://stackoverflow.com/questions/48673048/google-optimize-not-working-with-activation-event-page-location-not-set", "title": "Google Optimize not working with Activation Event (Page Location not set)", "body": "<p>I've implemented a Google Optimize experiment as suggested with this article:</p>\n\n<p><a href=\"https://support.google.com/360suite/optimize/answer/6262084?hl=en&amp;ref_topic=6197443\" rel=\"nofollow noreferrer\">https://support.google.com/360suite/optimize/answer/6262084?hl=en&amp;ref_topic=6197443</a></p>\n\n<p>The experiment is set to run and I have targeted to the activation event and URL.</p>\n\n<p>After I get to the correct state where I want to run the experiment I call</p>\n\n<p>dataLayer.push({'event': 'optimize.activate.welcomeScreen'});</p>\n\n<p>The experiment runs, I have tested on incognito Chrome browser and have seen the variant fire so I know that the push is sending the correct event to Optimize and modifying the DOM as expected.</p>\n\n<p>However, I do not see the active user on the Experiment page as registered, and after letting the experiment run after a full day with a thousand users I see no active users shown.</p>\n\n<p>I decided to troubleshoot so I used the Network tab in my developer console and I looked at the data non-interaction event being fired after the dataLayer call. I copied that to PostMan and I added a google analytics param \"dl\" and set it to my page location. Voila, the active user immediately shows up on my Optimize Experiment page. </p>\n\n<p>Any clue why the \"dl\" param is not getting added? I've tried all kinds of things including doing a ga('set','location','<a href=\"http://myurl\" rel=\"nofollow noreferrer\">http://myurl</a>\") and still no luck. I have wrapped the dataLayer call inside of setTimeOut to make sure DOM is properly loaded and that doesn't work either.</p>\n\n<p>For completeness My analytics/optimize set up as follows</p>\n\n<p>In the  I have</p>\n\n<pre><code>// Optimize snippet to prevent flashing\n&lt;script&gt;(function(a,s,y,n,c,h,i,d,e){s.className+=' '+y;h.start=1*new Date;\n    h.end=i=function(){s.className=s.className.replace(RegExp(' ?'+y),'')};\n    (a[n]=a[n]||[]).hide=h;setTimeout(function(){i();h.end=null},c);h.timeout=c;\n})(window,document.documentElement,'async-hide','dataLayer',4000,\n{'GTM-XXXXXX':true});&lt;/script&gt;\n\n// Google Analytics snippet\n&lt;script&gt;\n    (function (i, s, o, g, r, a, m) {\n        i['GoogleAnalyticsObject'] = r;\n        i[r] = i[r] || function () {\n                    (i[r].q = i[r].q || []).push(arguments)\n                }, i[r].l = 1 * new Date();\n        a = s.createElement(o),\n                m = s.getElementsByTagName(o)[0];\n        a.async = 1;\n        a.src = g;\n        m.parentNode.insertBefore(a, m)\n    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');\n\n        ga('create', 'UA-XXXXXX-X', 'auto');\n\n        // For Google Optimize Tracking\n        ga('require', 'GTM-XXXXXX');\n\n        ga('send', 'pageview', {\n            hitCallback: function () {\n                console.log(\"sendGAPageView: successfully sent initial pageView for location:\" + location);\n            }});\n\n\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "express", "encryption", "multer"], "comments": [{"owner": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 0, "creation_date": 1518037184, "post_id": 48673042, "comment_id": 84344614, "body": "Is it producing any error messages?"}, {"owner": {"reputation": 111, "user_id": 6044657, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4e712cc52349c8092412907df4c49280?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Shah", "link": "https://stackoverflow.com/users/6044657/gaurav-shah"}, "reply_to_user": {"reputation": 3870, "user_id": 1769777, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/06763dd36a45c8966c7171ba3697847d?s=128&d=identicon&r=PG", "display_name": "Adam", "link": "https://stackoverflow.com/users/1769777/adam"}, "edited": false, "score": 0, "creation_date": 1518037271, "post_id": 48673042, "comment_id": 84344656, "body": "No there are no error messages."}], "answers": [{"tags": [], "owner": {"reputation": 166, "user_id": 4742425, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-0jy0HRAiVmE/AAAAAAAAAAI/AAAAAAAAACU/oqq-RKhNtLg/photo.jpg?sz=128", "display_name": "akhil krishna", "link": "https://stackoverflow.com/users/4742425/akhil-krishna"}, "is_accepted": false, "score": 0, "last_activity_date": 1529646127, "creation_date": 1529646127, "answer_id": 50981349, "question_id": 48673042, "link": "https://stackoverflow.com/questions/48673042/encrypt-the-uploaded-file-before-saving-to-disk-using-node-js/50981349#50981349", "title": "Encrypt the uploaded file before saving to disk using Node.js", "body": "<p>Can you try this</p>\n\n<pre><code>app.post('/upload', function(req, res) {\n    upload(req, res, function(err) {\n        var fileName = req.file.destination +\"\\\\\"+ req.file.filename\n        var input = fs.createReadStream(fileName);\n        var output = fs.createWriteStream(fileName + \".enc\");\n        input.pipe(cipher).pipe(output);\n        output.on('finish', function() {\n            fs.unlink(fileName, (err) =&gt; {\n                if (err) throw err;\n                console.log('Encrypted  file written to disk!');\n                res.end('Encrypted  file written to disk!')\n            });\n\n        });\n    })\n})\n</code></pre>\n"}], "owner": {"reputation": 111, "user_id": 6044657, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/4e712cc52349c8092412907df4c49280?s=128&d=identicon&r=PG&f=1", "display_name": "Gaurav Shah", "link": "https://stackoverflow.com/users/6044657/gaurav-shah"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1279, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1529646127, "creation_date": 1518036787, "last_edit_date": 1518037919, "question_id": 48673042, "link": "https://stackoverflow.com/questions/48673042/encrypt-the-uploaded-file-before-saving-to-disk-using-node-js", "title": "Encrypt the uploaded file before saving to disk using Node.js", "body": "<p>Currently, I am using <strong>multer</strong> library to save files on File system. This application is using <strong>Node</strong> and <strong>Express</strong>.</p>\n\n<p>I can save the file first on server and then encrypt it. Later on delete the unencrypted file. However, I do not want to add unencrypted file on server directly. So, I am looking for a way to encrypt the incoming file from the front end and then save it to disk.</p>\n\n<pre><code>const defaultFolder = 'upload';\nconst filePath = resolveHome(process.env.FILE_STORAGE_LOCATION || defaultFolder);\nconst key = 'test';\nconst cipher = crypto.createCipher('aes-256-cbc', key);\nconst decipher = crypto.createDecipher('aes-256-cbc', key);\n\nconst upload = multer({\n    storage: multer.diskStorage({\n        destination: filePath,\n        filename: (req, file, cb) =&gt; {\n            const parts = file.originalname.split('.');\n            const ext = parts.pop();\n            const name = parts.join('.');\n            cb(null, name + '-' + Date.now() + '.' + ext);\n        },\n    }),\n}).single('file');\n\napp.post('/upload', (req, res) =&gt; {\n    upload(req, res, err =&gt; {\n        if (err) {\n            return res.status(400).send({\n                error: 'The request was invalid',\n                fileName: req.file.originalname,\n            });\n        }\n        return res.status(200).send({\n            fileName: req.file.filename,\n        });\n    });\n});\n</code></pre>\n\n<p>I tried to use <strong>crypto</strong> library to encrypt the file but it's not working. I believe the <strong>req.cipher</strong> is invalid as I would normally use <strong>req.file</strong> to get reference to the file.</p>\n\n<pre><code>app.post('/upload', (req, res) =&gt; {\n    upload(req, res, err =&gt; {\n        output = fs.createWriteStream(filePath + '/' + req.file.originalname);\n        req.pipe(cipher).pipe(output).on('finish', () =&gt; console.log('Encrypted file written on disk'));\n        if (err) {\n            return res.status(400).send({\n                error: 'The request was invalid',\n                fileName: req.file.originalname,\n            });\n        }\n        return res.status(200).send({\n            fileName: req.file.originalname,\n        });\n    });\n});\n</code></pre>\n\n<p>I had tried to just write file without using cipher and file was empty. Adding this information in case it helps.</p>\n\n<pre><code>req.pipe(output).on('finish', () =&gt; console.log('Encrypted file written on disk'));\n</code></pre>\n"}, {"tags": ["javascript", "d3.js"], "answers": [{"comments": [{"owner": {"reputation": 392, "user_id": 8098748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UiU4k.jpg?s=128&g=1", "display_name": "mrbrahman", "link": "https://stackoverflow.com/users/8098748/mrbrahman"}, "edited": false, "score": 0, "creation_date": 1518113078, "post_id": 48674767, "comment_id": 84382235, "body": "Thanks for your suggestion. While the solution provided doesn&#39;t work due to multiple reasons (<code>split()</code> is incorrect, <code>cx</code> is not applicable for the <code>rect</code>), I did borrow the concept. Hence I will up-vote your answer, but not mark it solved. Thanks again."}, {"owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "reply_to_user": {"reputation": 392, "user_id": 8098748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UiU4k.jpg?s=128&g=1", "display_name": "mrbrahman", "link": "https://stackoverflow.com/users/8098748/mrbrahman"}, "edited": false, "score": 0, "creation_date": 1518113987, "post_id": 48674767, "comment_id": 84382724, "body": "Ya I gave it a test and it didn&#39;t quite work for everything but the idea is there. Thanks!"}], "tags": [], "owner": {"reputation": 2292, "user_id": 8412352, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YzHvQ.jpg?s=128&g=1", "display_name": "pmkro", "link": "https://stackoverflow.com/users/8412352/pmkro"}, "is_accepted": false, "score": 1, "last_activity_date": 1518044557, "creation_date": 1518044557, "answer_id": 48674767, "question_id": 48672972, "link": "https://stackoverflow.com/questions/48672972/d3-dragging-multiple-elements-across-groups/48674767#48674767", "title": "D3 - dragging multiple elements across groups", "body": "<p>It looks like you give each row a class so instead of:</p>\n\n<p><code>function dragged(d){d3.select(this).attr(\"cx\", d.x = d3.event.x);}</code></p>\n\n<p>get the class of that row (from the looks of your code it should be the second class) with:<code>var thisRow = d3.select(this).attr(\"class\").split()[1];</code></p>\n\n<p>.split() will split on spaces which is how getting the class list will spit out its result.</p>\n\n<p>After getting the class move all of that class:</p>\n\n<p><code>d3.selectAll(\".\" + thisRow).attr(\"cx\", d.x = d3.event.x);</code></p>\n"}, {"tags": [], "owner": {"reputation": 392, "user_id": 8098748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UiU4k.jpg?s=128&g=1", "display_name": "mrbrahman", "link": "https://stackoverflow.com/users/8098748/mrbrahman"}, "is_accepted": true, "score": 1, "last_activity_date": 1518114293, "last_edit_date": 1518114293, "creation_date": 1518113288, "answer_id": 48692066, "question_id": 48672972, "link": "https://stackoverflow.com/questions/48672972/d3-dragging-multiple-elements-across-groups/48692066#48692066", "title": "D3 - dragging multiple elements across groups", "body": "<p>I'm not really sure if there's a better way of finding the <code>row</code>, but here's how I solved it using the concept from @pmkroeker</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  function dragged(d){\n    var deltaX = d3.event.x - d3.select(this).attr(\"cx\");\n    d3.select(this).attr(\"cx\", d.x = d3.event.x); // move the circle\n\n    // find the row\n    var row = d3.select(this).attr(\"class\").split(/\\s+/).filter(s=&gt;s.startsWith(\"row_\"))[0];\n\n    // grab other elements of the row and move them as well\n    d3.selectAll(\".\"+row).filter(\".rectGroup\").attr(\"x\", d=&gt;d.x = d.x+deltaX);\n    d3.selectAll(\".\"+row).filter(\".ellipseGroup\").attr(\"cx\", d=&gt;d.cx = d.cx+deltaX);\n  }\n</code></pre>\n"}], "owner": {"reputation": 392, "user_id": 8098748, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/UiU4k.jpg?s=128&g=1", "display_name": "mrbrahman", "link": "https://stackoverflow.com/users/8098748/mrbrahman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 520, "favorite_count": 1, "accepted_answer_id": 48692066, "answer_count": 2, "score": 1, "last_activity_date": 1518114293, "creation_date": 1518036495, "question_id": 48672972, "link": "https://stackoverflow.com/questions/48672972/d3-dragging-multiple-elements-across-groups", "title": "D3 - dragging multiple elements across groups", "body": "<p>I'm trying to achieve a D3 drag behavior, for which I'm not finding an example.</p>\n\n<p>The below code creates a couple of rows with a rectangle, circle and ellipse each, and the drag feature is enabled for the circle.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n  &lt;head&gt;\r\n    &lt;meta charset=\"utf-8\"&gt;\r\n    &lt;title&gt;Drag many&lt;/title&gt;\r\n    &lt;style media=\"screen\"&gt;\r\n    .active {\r\n      stroke: #000;\r\n      stroke-width: 2px;\r\n    }\r\n    &lt;/style&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;svg width=1000 height=500&gt;&lt;/svg&gt;\r\n\r\n    &lt;script src=\"https://d3js.org/d3.v4.min.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\r\n    &lt;script type=\"text/javascript\"&gt;\r\n      var svg=d3.select(\"svg\"),\r\n        mainGroup = svg.append(\"g\");\r\n\r\n      var squareData = [\r\n        {x:25, y:23, width:15, height:15},\r\n        {x:25, y:63, width:15, height:15}\r\n      ];\r\n\r\n      var circleData = [\r\n       {cx:60, cy:30, r:10},\r\n       {cx:60, cy:70, r:10}\r\n      ];\r\n\r\n      var ellipseData = [\r\n       {cx:90, cy:30, rx:10, ry:15},\r\n       {cx:90, cy:70, rx:10, ry:15}\r\n      ];\r\n\r\n      var squareGroup = mainGroup.append(\"g\");\r\n      squareGroup.selectAll(null)\r\n      .data(squareData)\r\n        .enter().append(\"rect\")\r\n        .attr(\"class\", (d,i)=&gt;`rectGroup row_${i+1}`)\r\n        .attr(\"x\", d=&gt;d.x)\r\n        .attr(\"y\", d=&gt;d.y)\r\n        .attr(\"width\", d=&gt;d.width)\r\n        .attr(\"height\", d=&gt;d.height)\r\n        .attr(\"fill\", \"blue\");\r\n\r\n      circleGroup = mainGroup.append(\"g\");\r\n      circleGroup.selectAll(null)\r\n      .data(circleData)\r\n        .enter().append(\"circle\")\r\n        .attr(\"class\", (d,i)=&gt;`circleGroup row_${i+1}`)\r\n        .attr(\"cx\", d=&gt;d.cx)\r\n        .attr(\"cy\", d=&gt;d.cy)\r\n        .attr(\"r\", d=&gt;d.r)\r\n        .attr(\"fill\", \"red\")\r\n        .call(d3.drag()\r\n          .on(\"start\", dragstarted)\r\n          .on(\"drag\", dragged)\r\n          .on(\"end\", dragended));\r\n\r\n      ellipseGroup = mainGroup.append(\"g\");\r\n      ellipseGroup.selectAll(null)\r\n      .data(ellipseData)\r\n        .enter().append(\"ellipse\")\r\n        .attr(\"class\", (d,i)=&gt;`ellipseGroup row_${i+1}`)\r\n        .attr(\"cx\", d=&gt;d.cx)\r\n        .attr(\"cy\", d=&gt;d.cy)\r\n        .attr(\"rx\", d=&gt;d.rx)\r\n        .attr(\"ry\", d=&gt;d.ry)\r\n        .attr(\"fill\", \"green\");\r\n\r\n      function dragstarted(d){\r\n        d3.select(this).classed(\"active\", true);\r\n      }\r\n\r\n      function dragended(d){\r\n        d3.select(this).classed(\"active\", false);\r\n      }\r\n\r\n      function dragged(d){\r\n        //var dx = d3.event.x - d3.select(this).attr(\"cx\")\r\n        d3.select(this).attr(\"cx\", d.x = d3.event.x);\r\n        // I really need to move all the elements in this row here, \r\n        // with the circle being the pivot...\r\n      }\r\n\r\n\r\n    &lt;/script&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I would like to modify the drag behavior of the circle to pull the entire row with it rather than move alone.</p>\n\n<p>How can I achieve this?</p>\n"}, {"tags": ["javascript", "prestashop", "prestashop-1.7"], "answers": [{"comments": [{"owner": {"reputation": 61, "user_id": 5201976, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0KaUHaZDgog/AAAAAAAAAAI/AAAAAAAAAjY/QOhwKcT8NUw/photo.jpg?sz=128", "display_name": "Jonas Littau", "link": "https://stackoverflow.com/users/5201976/jonas-littau"}, "edited": false, "score": 0, "creation_date": 1518101393, "post_id": 48683838, "comment_id": 84374330, "body": "But there is no prestashop element available like that, so i&#39;m afraid that won&#39;t work :/ i don&#39;t know how to refer to this prestashop element."}, {"owner": {"reputation": 1241, "user_id": 898714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YYeHS.jpg?s=128&g=1", "display_name": "Matt Loye", "link": "https://stackoverflow.com/users/898714/matt-loye"}, "reply_to_user": {"reputation": 61, "user_id": 5201976, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0KaUHaZDgog/AAAAAAAAAAI/AAAAAAAAAjY/QOhwKcT8NUw/photo.jpg?sz=128", "display_name": "Jonas Littau", "link": "https://stackoverflow.com/users/5201976/jonas-littau"}, "edited": false, "score": 0, "creation_date": 1518102832, "post_id": 48683838, "comment_id": 84375420, "body": "Do you know how to use developper console ? Just try inside it and you will be fixed, but i&#39;m pretty comfident it will work :)"}, {"owner": {"reputation": 61, "user_id": 5201976, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0KaUHaZDgog/AAAAAAAAAAI/AAAAAAAAAjY/QOhwKcT8NUw/photo.jpg?sz=128", "display_name": "Jonas Littau", "link": "https://stackoverflow.com/users/5201976/jonas-littau"}, "edited": false, "score": 0, "creation_date": 1518122713, "post_id": 48683838, "comment_id": 84387469, "body": "Okay it seems to work nicely through the console, but it doesn&#39;t with the exact same code placed in custom.js. Am i missing something? :)"}, {"owner": {"reputation": 61, "user_id": 5201976, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0KaUHaZDgog/AAAAAAAAAAI/AAAAAAAAAjY/QOhwKcT8NUw/photo.jpg?sz=128", "display_name": "Jonas Littau", "link": "https://stackoverflow.com/users/5201976/jonas-littau"}, "edited": false, "score": 0, "creation_date": 1518176979, "post_id": 48683838, "comment_id": 84408623, "body": "It works! I forgot i recently enabled CCC, so it needed a cache reset doh... Thank you so much!"}], "tags": [], "owner": {"reputation": 1241, "user_id": 898714, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YYeHS.jpg?s=128&g=1", "display_name": "Matt Loye", "link": "https://stackoverflow.com/users/898714/matt-loye"}, "is_accepted": true, "score": 3, "last_activity_date": 1518087455, "creation_date": 1518087455, "answer_id": 48683838, "question_id": 48672951, "link": "https://stackoverflow.com/questions/48672951/how-can-i-listen-to-prestashop-events-in-custom-js/48683838#48683838", "title": "How can i listen to Prestashop events in custom.js?", "body": "<p>Here is a bulletproof answer :</p>\n\n<pre><code>         $(document).ready(function () {\n\n            if(typeof prestashop !== 'undefined') {\n                prestashop.on(\n                  'updateCart',\n                  function (event) {\n                    if(typeof event.reason.linkAction !== \"undefined\" &amp;&amp; event.reason.linkAction == \"add-to-cart\") {\n                        if (typeof event.reason.idProduct == \"undefined\" || event.reason.idProduct == \"undefined\") {\n                            // Bulletproofed action\n                        }\n                    }\n                  }\n                );\n            }\n\n         });\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 5201976, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-0KaUHaZDgog/AAAAAAAAAAI/AAAAAAAAAjY/QOhwKcT8NUw/photo.jpg?sz=128", "display_name": "Jonas Littau", "link": "https://stackoverflow.com/users/5201976/jonas-littau"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1933, "favorite_count": 0, "accepted_answer_id": 48683838, "answer_count": 1, "score": 1, "last_activity_date": 1518087455, "creation_date": 1518036375, "question_id": 48672951, "link": "https://stackoverflow.com/questions/48672951/how-can-i-listen-to-prestashop-events-in-custom-js", "title": "How can i listen to Prestashop events in custom.js?", "body": "<p>In the compiled theme.js i can find event listeners like <code>prestashop.on(\"updatedProduct\")</code> and <code>prestashop.on(\"clickQuickView\")</code>.\nMore about those <a href=\"http://developers.prestashop.com/themes/javascript/index.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>I cannot get the web pack to work, so i would like to just add a listener in the custom.js (i know this is bad practice, i just need a quick solution).</p>\n\n<p>How do i refer to this <code>prestashop</code> in custom.js, so i can listen for an event like <code>updateProductList</code>?</p>\n"}, {"tags": ["javascript", "jquery", "html", "css"], "comments": [{"owner": {"reputation": 13039, "user_id": 8270343, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/2d2db77e80ad405e70798962f7f89d67?s=128&d=identicon&r=PG&f=1", "display_name": "WebDevBooster", "link": "https://stackoverflow.com/users/8270343/webdevbooster"}, "edited": false, "score": 3, "creation_date": 1518036390, "post_id": 48672921, "comment_id": 84344186, "body": "You need to post all your code here. As code, not as pictures. <a href=\"https://stackoverflow.com/posts/48672921/edit\">Edit</a> your question and post your <b>complete</b> current <code>code snippet</code> there at the bottom by clicking the <i>&quot;JavaScript/HTML/CSS snippet&quot;</i> icon."}, {"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1518036583, "post_id": 48672921, "comment_id": 84344288, "body": "<code>$(&quot;title&quot;).attr(&quot;.admins&quot;);</code> &lt;--- makes no sense, not sure what you are expecting it to do. My guesss is you want <a href=\"https://api.jquery.com/attribute-equals-selector/\" rel=\"nofollow noreferrer\">api.jquery.com/attribute-equals-selector</a>"}, {"owner": {"reputation": 22747, "user_id": 3385827, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7r8VX.png?s=128&g=1", "display_name": "Mohamed-Yousef", "link": "https://stackoverflow.com/users/3385827/mohamed-yousef"}, "edited": false, "score": 0, "creation_date": 1518036679, "post_id": 48672921, "comment_id": 84344331, "body": "I don&#39;t know what <code>&lt;br&gt;</code> do in this code .. And <code>.addClass(&quot;.admins&quot;)</code> should be the class without dot .. <code>.addClass(&quot;admins&quot;)</code>"}, {"owner": {"reputation": 1101, "user_id": 3130549, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/t9iRE.jpg?s=128&g=1", "display_name": "rawnewdlz", "link": "https://stackoverflow.com/users/3130549/rawnewdlz"}, "edited": false, "score": 0, "creation_date": 1518037315, "post_id": 48672921, "comment_id": 84344677, "body": "Can you please share an example here or on jsfiddle? Using images of code rather than a starting point of a code example is difficult to help troubleshoot."}, {"owner": {"reputation": 3, "user_id": 9313210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52298ad7e4a38ccaafc2647e156ce76d?s=128&d=identicon&r=PG&f=1", "display_name": "shastings", "link": "https://stackoverflow.com/users/9313210/shastings"}, "edited": false, "score": 0, "creation_date": 1518038994, "post_id": 48672921, "comment_id": 84345559, "body": "okay I re-edited it so now my code is entirely there. si this enough or do you guys still need jsfiddle?"}, {"owner": {"reputation": 1880, "user_id": 1683402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ixpmt.jpg?s=128&g=1", "display_name": "tmdesigned", "link": "https://stackoverflow.com/users/1683402/tmdesigned"}, "edited": false, "score": 0, "creation_date": 1518039042, "post_id": 48672921, "comment_id": 84345583, "body": "$(&quot;title&quot;).attr(&quot;.admins&quot;);  -&gt; this does nothing     $(&quot;.actualmember&quot;).addClass(&quot;.admins&quot;);  --&gt; adds class &quot;admins&quot; to all elements that have class &quot;actualmember&#39;. The dot before admins should be removed  You need a way to distinguish between the regular users and admin, and then you can target that. How are they distinguished when you look at the code of the page? Do admins have a different class?"}, {"owner": {"reputation": 3, "user_id": 9313210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52298ad7e4a38ccaafc2647e156ce76d?s=128&d=identicon&r=PG&f=1", "display_name": "shastings", "link": "https://stackoverflow.com/users/9313210/shastings"}, "reply_to_user": {"reputation": 1880, "user_id": 1683402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ixpmt.jpg?s=128&g=1", "display_name": "tmdesigned", "link": "https://stackoverflow.com/users/1683402/tmdesigned"}, "edited": false, "score": 0, "creation_date": 1518039466, "post_id": 48672921, "comment_id": 84345760, "body": "@the_hobbes that&#39;s where I&#39;m really stuck. I don&#39;t know how tumblr identifies it in an actual theme. usually you can only go to the blog members page (only viewable by blog members as seen in this screenshot) <a href=\"https://i.imgur.com/pfVxGZp.png\" rel=\"nofollow noreferrer\">i.imgur.com/pfVxGZp.png</a> . I know it can be done though because I&#39;ve literally seen thememakers able to do it. I asked one and she told me I just have to .addClass() for the admins and then style it was css."}, {"owner": {"reputation": 1880, "user_id": 1683402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ixpmt.jpg?s=128&g=1", "display_name": "tmdesigned", "link": "https://stackoverflow.com/users/1683402/tmdesigned"}, "edited": false, "score": 0, "creation_date": 1518040786, "post_id": 48672921, "comment_id": 84346369, "body": "Can you provide an example URL that is doing what you are looking for?"}, {"owner": {"reputation": 3, "user_id": 9313210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52298ad7e4a38ccaafc2647e156ce76d?s=128&d=identicon&r=PG&f=1", "display_name": "shastings", "link": "https://stackoverflow.com/users/9313210/shastings"}, "reply_to_user": {"reputation": 1880, "user_id": 1683402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ixpmt.jpg?s=128&g=1", "display_name": "tmdesigned", "link": "https://stackoverflow.com/users/1683402/tmdesigned"}, "edited": false, "score": 0, "creation_date": 1518041266, "post_id": 48672921, "comment_id": 84346601, "body": "@the_hobbes it&#39;s not nearly finished so just focus on the members bar please <a href=\"https://designsbysarah.tumblr.com/\" rel=\"nofollow noreferrer\">designsbysarah.tumblr.com</a>"}], "answers": [{"tags": [], "owner": {"reputation": 742, "user_id": 6826342, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-IrsYX1O4No0/AAAAAAAAAAI/AAAAAAAAAKg/UQlwakOCMoA/photo.jpg?sz=128", "display_name": "Derek Nolan", "link": "https://stackoverflow.com/users/6826342/derek-nolan"}, "is_accepted": false, "score": 0, "last_activity_date": 1518042911, "last_edit_date": 1518042911, "creation_date": 1518041344, "answer_id": 48674099, "question_id": 48672921, "link": "https://stackoverflow.com/questions/48672921/jquery-to-distinguish-one-element-from-a-class-of-elements/48674099#48674099", "title": "JQuery to distinguish one element from a class of elements", "body": "<p>I targeted the element using the title attribute and added the class fa-star. Hope it helps!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function() {\r\n  $(\"[title='admins']\").addClass(\"fa-star\");\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.actualmember {\r\n  display: block;\r\n  margin-top: 15px;\r\n  text-transform: uppercase;\r\n  font-weight: bold;\r\n  margin-left: 50px;\r\n}\r\n\r\n.admins {\r\n  position: relative;\r\n}\r\n\r\n.admins:before {\r\n  content: \"\\f005\";\r\n  font-family: FontAwesome;\r\n  font-style: normal;\r\n  font-weight: normal;\r\n  text-decoration: inherit;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://use.fontawesome.com/releases/v5.0.6/css/all.css\" rel=\"stylesheet\" /&gt;\r\n\r\n&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;h2&gt;Mesmbers&lt;/h2&gt;\r\n\r\n&lt;div class=\"members\"&gt;\r\n  &lt;img src=\"https://lh6.googleusercontent.com/-IrsYX1O4No0/AAAAAAAAAAI/AAAAAAAAAKg/UQlwakOCMoA/photo.jpg?sz=64\"&gt;\r\n  &lt;a class=\"actualmember\" href=\"{GroupMemberURL}\" title=\"{GroupMemberTitle}\"&gt;\r\n    &lt;i class=\"fas\"&gt;&lt;/i&gt;&lt;/a&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"members\"&gt;\r\n  &lt;img src=\"https://lh6.googleusercontent.com/-IrsYX1O4No0/AAAAAAAAAAI/AAAAAAAAAKg/UQlwakOCMoA/photo.jpg?sz=64\"&gt;\r\n  &lt;a class=\"actualmember\" href=\"{GroupMemberURL}\" title=\"{GroupMemberTitle}\"&gt;\r\n    &lt;i class=\"fas\" title=\"admins\"&gt;&lt;/i&gt;&lt;/a&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 3, "user_id": 9313210, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/52298ad7e4a38ccaafc2647e156ce76d?s=128&d=identicon&r=PG&f=1", "display_name": "shastings", "link": "https://stackoverflow.com/users/9313210/shastings"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1518042911, "creation_date": 1518036233, "last_edit_date": 1518038847, "question_id": 48672921, "link": "https://stackoverflow.com/questions/48672921/jquery-to-distinguish-one-element-from-a-class-of-elements", "title": "JQuery to distinguish one element from a class of elements", "body": "<p>so I'm relatively new to jquery, and I'm trying <a href=\"http://astronautweb.co/snippet/font-awesome/\" rel=\"nofollow noreferrer\">to attribute a font awesome icon star</a> (fa-star) to distinguish admins from regular members under the group members bar. I blurred out the usernames, but ideally I want jquery to be able to put the font awesome star icon next to the admin blogs. of the two blogs, only the bottom one (with the blue tumblr icon) is an admin of the blog. \n<a href=\"https://i.stack.imgur.com/89Ca0.png\" rel=\"nofollow noreferrer\">photo of the member bar here</a>.</p>\n\n<p>I attempted to code at first, but I'm a bit lost. I know it can be done, I've seen it on other tumblr themes, and it's through jQuery class and then using css. I'm just trying to figure out how to actually make it work, because so far, it's showing nothing.</p>\n\n<p>(my somewhat) attempt at the jquery script:</p>\n\n<pre><code>&lt;script&gt;\n$(document).ready(function(){\n    $(\"title\").attr(\".admins\");\n    $(\".actualmember\").addClass(\".admins\");\n});\n&lt;/script&gt; \n</code></pre>\n\n<p>the css:</p>\n\n<pre><code>&lt;style type=\"text/css\"&gt;\n.actualmember {\ndisplay:block;\nmargin-top:15px;\ntext-transform:uppercase;\nfont-weight:bold;\nmargin-left:50px;\n\n}\n\n.admins {\nposition:relative;\n}\n\n.admins:before {\ncontent: \"\\f005\";\nfont-family: FontAwesome;\nfont-style: normal;\nfont-weight: normal;\ntext-decoration: inherit;\n}\n&lt;/style&gt;\n</code></pre>\n\n<p>the html:\n     {block:GroupMembers}\n    </p>\n\n<pre><code>&lt;h2&gt;Mesmbers&lt;/h2&gt;\n\n{block:GroupMember}&lt;div class=\"members\"&gt;\n&lt;img src=\"{GroupMemberPortraitURL-40}\"&gt;  \n&lt;a class=\"actualmember\" href=\"{GroupMemberURL}\" title=\"{GroupMemberTitle}\"&gt;\n{GroupMemberName}&lt;i class=\"fas fa-star\" title=\"admins\"&gt;&lt;/i&gt;&lt;/a&gt;\n&lt;/div&gt;\n\n{/block:GroupMember}\n&lt;/div&gt;\n{/block:GroupMembers}\n</code></pre>\n"}]