[{"tags": ["javascript", "typescript", "spread-syntax"], "answers": [{"comments": [{"owner": {"reputation": 759, "user_id": 8869589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8daf30a15ce5e9a83c0b348bad3d2f?s=128&d=identicon&r=PG&f=1", "display_name": "shn", "link": "https://stackoverflow.com/users/8869589/shn"}, "edited": false, "score": 1, "creation_date": 1560384453, "post_id": 56571772, "comment_id": 99722233, "body": "I&#39;m interested in the hack, because with each extra depth of an object another line of code is needed to put it back together."}], "tags": [], "owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "is_accepted": true, "score": 4, "last_activity_date": 1600301080, "last_edit_date": 1600301080, "creation_date": 1560384148, "answer_id": 56571772, "question_id": 56571741, "link": "https://stackoverflow.com/questions/56571741/removing-targeted-parameter-from-object-in-es6-using-spread-operator/56571772#56571772", "title": "Removing targeted parameter from Object in ES6 using spread operator", "body": "<p>Do it in two steps - first destructure the <code>prop3</code> out, then create a new object, combining the rest of the outer object with the prop2 with the prop3 removed from it:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const original_object = {\n    prop1: 'string1',\n    prop2: {\n        prop3: 'string3',\n        prop4: 'string4'\n    }\n};\nconst { prop2: { prop3, ...restProp2 }, ...restOrig} = original_object;\nconst newObj = { ...restOrig, prop2: restProp2 };\nconsole.log(prop3); // =&gt; 'string3';\nconsole.log(newObj);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>While you <em>could</em> do this in just one statement with a hack, I wouldn't recommend it.</p>\n<p>If you find yourself doing this often with deeply nested properties, and don't like the extra line, maybe consider a helper function along the lines of:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const getNestedFrom = (obj, propStr) =&gt; {\n  // make a copy, don't mutate the original object\n  const newObj = JSON.parse(JSON.stringify(obj));\n  const props = propStr.split('.');\n  const lastProp = props.pop();\n  const lastObj = props.reduce((a, prop) =&gt; a[prop], newObj);\n  const val = lastObj[lastProp];\n  delete lastObj[lastProp];\n  return [newObj, val];\n};\n\n\nconst original_object = {\n    prop1: 'string1',\n    prop2: {\n        prop3: 'string3',\n        prop4: 'string4'\n    }\n};\nconst [newObj, prop3] = getNestedFrom(original_object, 'prop2.prop3');\nconsole.log(prop3); // =&gt; 'string3';\nconsole.log(newObj);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Just for curiosity's sake (please don't do this), the hack would be to use a default property which definitely won't exist:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const original_object = {\n    prop1: 'string1',\n    prop2: {\n        prop3: 'string3',\n        prop4: 'string4'\n    }\n};\nconst [\n  { prop2: { prop3, ...restProp2 }, ...restOrig},\n  newObj = { ...restOrig, prop2: restProp2 }\n] = [original_object]\nconsole.log(prop3); // =&gt; 'string3';\nconsole.log(newObj);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>But that would be significantly (and needlessly) confusing.</p>\n"}], "owner": {"reputation": 759, "user_id": 8869589, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ac8daf30a15ce5e9a83c0b348bad3d2f?s=128&d=identicon&r=PG&f=1", "display_name": "shn", "link": "https://stackoverflow.com/users/8869589/shn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 151, "favorite_count": 1, "accepted_answer_id": 56571772, "answer_count": 1, "score": 5, "last_activity_date": 1600301080, "creation_date": 1560383881, "question_id": 56571741, "link": "https://stackoverflow.com/questions/56571741/removing-targeted-parameter-from-object-in-es6-using-spread-operator", "title": "Removing targeted parameter from Object in ES6 using spread operator", "body": "<p>I am trying to remove a property from an object <strong>using the spread operator</strong>. Traditionally I have done this: </p>\n\n<pre><code>const original_object = { prop1 : 'string1', prop2: 'string2' };\nconst { prop1, ...rest } = original_object;\n</code></pre>\n\n<p>In the above situation, the removed property(prop1) will no longer exist within the rest object.</p>\n\n<p>Suppose there is a more <strong>intricate</strong> property that I would like to remove, such as an object within the object.</p>\n\n<pre><code>const original_object = {\n    prop1: 'string1'\n    prop2: {\n        prop3: 'string3',\n        prop4: 'string4'\n    }\n}\nconst { *remove prop3 of prop2 only here*, ...rest} = original_object;\nconsole.log(prop3); // =&gt; 'string3';\n</code></pre>\n\n<p>What is the most elegant/easiest solution to do this? I want everything but the one <code>prop3</code> of <code>prop2</code> to be included in the object, in the exact same structure. </p>\n"}, {"tags": ["javascript", "mysql", "node.js", "ajax"], "answers": [{"comments": [{"owner": {"reputation": 59, "user_id": 10134242, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CIiFQNAyxT0/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rGxK-8jn5W_58_XqJ8bdL5LHSpbw/mo/photo.jpg?sz=128", "display_name": "Eman Emad", "link": "https://stackoverflow.com/users/10134242/eman-emad"}, "edited": false, "score": 0, "creation_date": 1560385248, "post_id": 56571822, "comment_id": 99722374, "body": "I got an empty array in the console!"}, {"owner": {"reputation": 280, "user_id": 6569071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bkNeE.jpg?s=128&g=1", "display_name": "Franklin&#39;j Gil&#39;z", "link": "https://stackoverflow.com/users/6569071/franklinj-gilz"}, "reply_to_user": {"reputation": 59, "user_id": 10134242, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CIiFQNAyxT0/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rGxK-8jn5W_58_XqJ8bdL5LHSpbw/mo/photo.jpg?sz=128", "display_name": "Eman Emad", "link": "https://stackoverflow.com/users/10134242/eman-emad"}, "edited": false, "score": 0, "creation_date": 1560385539, "post_id": 56571822, "comment_id": 99722414, "body": "Use a console.log( orderProduct  ) before send it. to check the data is available"}, {"owner": {"reputation": 59, "user_id": 10134242, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CIiFQNAyxT0/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rGxK-8jn5W_58_XqJ8bdL5LHSpbw/mo/photo.jpg?sz=128", "display_name": "Eman Emad", "link": "https://stackoverflow.com/users/10134242/eman-emad"}, "edited": false, "score": 0, "creation_date": 1560459088, "post_id": 56571822, "comment_id": 99754542, "body": "I got the data when I click save &amp; move to the add order page but I want to insert it in the same time when I move to the order page"}], "tags": [], "owner": {"reputation": 280, "user_id": 6569071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bkNeE.jpg?s=128&g=1", "display_name": "Franklin&#39;j Gil&#39;z", "link": "https://stackoverflow.com/users/6569071/franklinj-gilz"}, "is_accepted": false, "score": 0, "last_activity_date": 1560384712, "creation_date": 1560384712, "answer_id": 56571822, "question_id": 56571713, "link": "https://stackoverflow.com/questions/56571713/how-to-pass-an-array-from-app-get-to-app-post/56571822#56571822", "title": "How to pass an array from app.get() to app.post()", "body": "<p>Try using <a href=\"https://www.npmjs.com/package/body-parser\" rel=\"nofollow noreferrer\">body-parser</a></p>\n\n<pre><code>var bodyParser = require('body-parser')\n... \napp.use(bodyParser )\n\n// then\ngetProduct: (req , res ) =&gt; {\n  console.log(req.body);\n}\n</code></pre>\n\n<p>also change</p>\n\n<pre><code>$.ajax({\n    type: 'POST',\n    ...\n})\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 10134242, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CIiFQNAyxT0/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rGxK-8jn5W_58_XqJ8bdL5LHSpbw/mo/photo.jpg?sz=128", "display_name": "Eman Emad", "link": "https://stackoverflow.com/users/10134242/eman-emad"}, "is_accepted": false, "score": 0, "last_activity_date": 1560713239, "creation_date": 1560713239, "answer_id": 56621981, "question_id": 56571713, "link": "https://stackoverflow.com/questions/56571713/how-to-pass-an-array-from-app-get-to-app-post/56621981#56621981", "title": "How to pass an array from app.get() to app.post()", "body": "<p>I used global variables to use same variable in both get &amp; post functions</p>\n"}], "owner": {"reputation": 59, "user_id": 10134242, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-CIiFQNAyxT0/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7rGxK-8jn5W_58_XqJ8bdL5LHSpbw/mo/photo.jpg?sz=128", "display_name": "Eman Emad", "link": "https://stackoverflow.com/users/10134242/eman-emad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 149, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1560713239, "creation_date": 1560383609, "question_id": 56571713, "link": "https://stackoverflow.com/questions/56571713/how-to-pass-an-array-from-app-get-to-app-post", "title": "How to pass an array from app.get() to app.post()", "body": "<p>I'm getting an array from ajax file which contain an array of products which I want to add it in the order..I want to link the table of orderProducts &amp; the order table with each other in column called orderId..but I get the array in a app.get() and can't get it in app.post() to post the data..the products is selected in page and the order data is selected in another one.</p>\n\n<p>my ajax code</p>\n\n<pre><code>\n    $('#save').click(function () {\n        var orderProduct = new Array();\n        $(\"#review-products input[type=checkbox]:checked\").each(function () {\n                      var row = $(this).closest(\"tr\");\n                      var message0 = row.find('#check').val();\n                      var message1 = row.find('.name').text().trim();\n                      var message2 =  row.find('.currency').text().trim();\n                      var message3 =  row.find(\".foo\").val();\n                      const result =  {check: message0,name: message1,p: message2,q:  message3 ,total: message2 * message3}\n                      var hh = orderProduct.push(result);\n                });\n              $.ajax({\n                type: 'GET',\n                data: {selectedProduct: orderProduct },\n                url: '/order/product',\n                success: function (data) {\n                  console.log(data);\n                }\n              })\n               })\n\n</code></pre>\n\n<p>the routes</p>\n\n<pre><code>\n    app.get('/order/product' , getProduct)\n    app.post('/postOrder' , postOrder);\n    getProduct: (req , res ) =&gt; {\n      var products = req.query.selectedProduct;\n      console.log(products);\n    },\n    postOrder: (req ,res) =&gt; {\n      res.redirect('/')\n    }\n\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "firebase", "jestjs", "create-react-app"], "comments": [{"owner": {"reputation": 3166, "user_id": 607477, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/ZmZ72.jpg?s=128&g=1", "display_name": "andresmijares", "link": "https://stackoverflow.com/users/607477/andresmijares"}, "edited": false, "score": 0, "creation_date": 1560383761, "post_id": 56571696, "comment_id": 99722101, "body": "why would u want to do that?"}, {"owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "edited": false, "score": 1, "creation_date": 1560387499, "post_id": 56571696, "comment_id": 99722712, "body": "There is an <a href=\"https://firebase.google.com/docs/firestore/security/test-rules-emulator\" rel=\"nofollow noreferrer\">emulator</a> for Cloud Firestore (including security rules), and Cloud Functions, but unfortunately it doesn&#39;t support web clients yet."}], "owner": {"reputation": 73, "user_id": 6840529, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-1JV8gOzpfhs/AAAAAAAAAAI/AAAAAAAANhY/GUgjrr9z_mE/photo.jpg?sz=128", "display_name": "Chris McAnally", "link": "https://stackoverflow.com/users/6840529/chris-mcanally"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 29, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560446202, "creation_date": 1560383338, "last_edit_date": 1560446202, "question_id": 56571696, "link": "https://stackoverflow.com/questions/56571696/testing-a-create-react-app-using-firebase", "title": "Testing a create-react-app using Firebase", "body": "<p>I'm building a React app using create-react-app and Firebase (Cloud Firestore).  I'll be using some context providers which pull data from Firebase. </p>\n\n<p>I'm looking for recommendations on resources to look at how to test these components without pinging Firebase each time.</p>\n\n<p>I've looked at the <a href=\"https://github.com/soumak77/firebase-mock/blob/HEAD/tutorials/client/firestore.md\" rel=\"nofollow noreferrer\" title=\"mock-firebase repository\">firebase-mock</a> repository, but I'm unsure if this is the right strategy going forward.  </p>\n\n<p>Does anyone have experience or a code sample with something</p>\n"}, {"tags": ["javascript", "php", "ajax"], "comments": [{"owner": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 0, "creation_date": 1560383566, "post_id": 56571695, "comment_id": 99722073, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/4261133/notice-undefined-variable-notice-undefined-index-and-notice-undefined\">&quot;Notice: Undefined variable&quot;, &quot;Notice: Undefined index&quot;, and &quot;Notice: Undefined offset&quot; using PHP</a>"}, {"owner": {"reputation": 902, "user_id": 8937578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1470369a805f478ae1f50854c80c530?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit Kumar", "link": "https://stackoverflow.com/users/8937578/mohit-kumar"}, "edited": false, "score": 0, "creation_date": 1560383771, "post_id": 56571695, "comment_id": 99722105, "body": "why you changing GET with POST?"}, {"owner": {"reputation": 13, "user_id": 11639541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f39aa672f830a5d730115fb030b75d?s=128&d=identicon&r=PG&f=1", "display_name": "Mitsos", "link": "https://stackoverflow.com/users/11639541/mitsos"}, "reply_to_user": {"reputation": 902, "user_id": 8937578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1470369a805f478ae1f50854c80c530?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit Kumar", "link": "https://stackoverflow.com/users/8937578/mohit-kumar"}, "edited": false, "score": 0, "creation_date": 1560383832, "post_id": 56571695, "comment_id": 99722117, "body": "@MohitKumar I always think that POST is safer than GET.."}, {"owner": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 0, "creation_date": 1560384935, "post_id": 56571695, "comment_id": 99722318, "body": "My duplicate might not help you because, you simple have the problem with your AJAX, not your PHP per se. Check out how to POST data with AJAX: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/send#Example_POST\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/&hellip;</a>"}, {"owner": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 0, "creation_date": 1560385036, "post_id": 56571695, "comment_id": 99722327, "body": "Better duplicate: <a href=\"https://stackoverflow.com/questions/9713058/send-post-data-using-xmlhttprequest\">Send POST data using XMLHttpRequest</a>"}], "answers": [{"comments": [{"owner": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 0, "creation_date": 1560384631, "post_id": 56571804, "comment_id": 99722267, "body": "Don&#39;t tell the user to change code to your liking, especially if the OP&#39;s code is better than yours."}, {"owner": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 0, "creation_date": 1560451714, "post_id": 56571804, "comment_id": 99751615, "body": "I see an improvement in your answer, however there are still problems with it. e.g. <code>&#39;id=string&#39;</code>. You really need to explain your answer and the changes which you are suggesting."}, {"owner": {"reputation": 902, "user_id": 8937578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1470369a805f478ae1f50854c80c530?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit Kumar", "link": "https://stackoverflow.com/users/8937578/mohit-kumar"}, "reply_to_user": {"reputation": 21453, "user_id": 1839439, "user_type": "registered", "accept_rate": 98, "profile_image": "https://i.stack.imgur.com/agMKZ.png?s=128&g=1", "display_name": "Dharman", "link": "https://stackoverflow.com/users/1839439/dharman"}, "edited": false, "score": 0, "creation_date": 1560731236, "post_id": 56571804, "comment_id": 99819813, "body": "@mitsos can you achieve with this answer?"}, {"owner": {"reputation": 13, "user_id": 11639541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f39aa672f830a5d730115fb030b75d?s=128&d=identicon&r=PG&f=1", "display_name": "Mitsos", "link": "https://stackoverflow.com/users/11639541/mitsos"}, "edited": false, "score": 0, "creation_date": 1560894138, "post_id": 56571804, "comment_id": 99884716, "body": "@MohitKumar I did something similar a few days ago (before I check out here) but it is pretty much the same with your answer :) So thank you!"}], "tags": [], "owner": {"reputation": 902, "user_id": 8937578, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f1470369a805f478ae1f50854c80c530?s=128&d=identicon&r=PG&f=1", "display_name": "Mohit Kumar", "link": "https://stackoverflow.com/users/8937578/mohit-kumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1560473160, "last_edit_date": 1560473160, "creation_date": 1560384491, "answer_id": 56571804, "question_id": 56571695, "link": "https://stackoverflow.com/questions/56571695/retrieving-data-from-database-undefined-index-problem-ajax-related-problem/56571804#56571804", "title": "Retrieving data from database - undefined index problem (ajax related problem)", "body": "<pre><code>function UserInfo(str) {    //method starts with str as an argument\n  var string = str;         //str is assigned to string.   \n var http = new XMLHttpRequest();  // create new HttpRequest instance \n var url = \"testing.php\";          //the script to call to post data\n var params = 'id=string';          \n\n http.open(\"POST\", url, true);\n\n //Send the proper header information along with the request\nhttp.setRequestHeader('Content-type', 'application/x-www-form-urlencoded');\n\n // Call a function when the state changes.\n http.onreadystatechange = function() {\n    if(http.readyState == 4 &amp;&amp; http.status == 200) {\n        alert(http.responseText);\n    }\n }\n http.send(params);\n }\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 11639541, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/40f39aa672f830a5d730115fb030b75d?s=128&d=identicon&r=PG&f=1", "display_name": "Mitsos", "link": "https://stackoverflow.com/users/11639541/mitsos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 52, "favorite_count": 0, "accepted_answer_id": 56571804, "answer_count": 1, "score": 1, "last_activity_date": 1560473160, "creation_date": 1560383336, "last_edit_date": 1560385068, "question_id": 56571695, "link": "https://stackoverflow.com/questions/56571695/retrieving-data-from-database-undefined-index-problem-ajax-related-problem", "title": "Retrieving data from database - undefined index problem (ajax related problem)", "body": "<p>I followed the guide on w3schools but I can't manage to make the script return the data I want when I choose a user from the dropdown menu. I just get undefined index: userdrop\nHere is the script (changed the GET with POST, maybe that's what I messed up)</p>\n\n<pre><code>&lt;script&gt;\nfunction UserInfo(str) {\n    if (str == \"\") {\n        document.getElementById(\"txtHint\").innerHTML = \"\";\n        return;\n    } else {\n        if (window.XMLHttpRequest) {\n            // code for IE7+, Firefox, Chrome, Opera, Safari\n            xmlhttp = new XMLHttpRequest();\n        } else {\n            // code for IE6, IE5\n            xmlhttp = new ActiveXObject(\"Microsoft.XMLHTTP\");\n        }\n        xmlhttp.onreadystatechange = function() {\n            if (this.readyState == 4 &amp;&amp; this.status == 200) {\n                document.getElementById(\"txtHint\").innerHTML = this.responseText;\n            }\n        };\n        xmlhttp.open(\"POST\",\"testing.php\",true);\n        xmlhttp.send();\n    }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>The dropdown menu:</p>\n\n<pre><code>&lt;form&gt;\n&lt;select name=\"userdrop\" onchange=\"UserInfo(this.value)\"&gt;\n  &lt;option value=\"\"&gt;Select a person:&lt;/option&gt;\n  &lt;option value=\"1\"&gt;Peter Griffin&lt;/option&gt;\n  &lt;option value=\"2\"&gt;Lois Griffin&lt;/option&gt;\n  &lt;option value=\"3\"&gt;Joseph Swanson&lt;/option&gt;\n  &lt;option value=\"4\"&gt;Glenn Quagmire&lt;/option&gt;\n  &lt;/select&gt;\n&lt;/form&gt;\n&lt;br&gt;\n&lt;div id=\"txtHint\"&gt;&lt;b&gt;Person info will be listed here...&lt;/b&gt;&lt;/div&gt;\n</code></pre>\n\n<p>And the php code which doesn't provide me with any results due to undefined index</p>\n\n<pre><code>$row = $MMM-&gt;Users(intval($_POST['userdrop']));\n\necho \"&lt;table&gt;\n&lt;tr&gt;\n&lt;th&gt;ID&lt;/th&gt;\n&lt;th&gt;Name&lt;/th&gt;\n&lt;th&gt;City&lt;/th&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n&lt;td&gt;\".$row['user_id'].\"&lt;/td&gt;\n&lt;td&gt;\".$row['user_name'].\"&lt;/td&gt;\n&lt;td&gt;\".$row['user_city'].\"&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/table&gt;\n\";\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "serverside-javascript"], "comments": [{"owner": {"reputation": 6672, "user_id": 2446254, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4SJnD.png?s=128&g=1", "display_name": "Cody \uff27", "link": "https://stackoverflow.com/users/2446254/cody-%ef%bc%a7"}, "edited": false, "score": 0, "creation_date": 1560382570, "post_id": 56571593, "comment_id": 99721919, "body": "1. you can pause running scripts, in a CLI idk how probably dependent on what you use. 2. every object gets a copy ... 3. new lang feature or use getter and setters   Unfortunately this isn&#39;t the place for this kind of question (don&#39;t ask multiple questions). Voting to close"}, {"owner": {"reputation": 253903, "user_id": 9515207, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/34932d3e923ffad9a4a1423e30b1d9fc?s=128&d=identicon&r=PG&f=1", "display_name": "CertainPerformance", "link": "https://stackoverflow.com/users/9515207/certainperformance"}, "edited": false, "score": 0, "creation_date": 1560382880, "post_id": 56571593, "comment_id": 99721976, "body": "Silly, but you could put in a <code>while(true)</code> to block forever.. poof, unresponsive server"}, {"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1560383658, "post_id": 56571593, "comment_id": 99722084, "body": "There are many ways to achieve this behavior. The interviewer was likely trying to assess your problem-solving skills, not looking for a rote answer."}, {"owner": {"reputation": 9914, "user_id": 2463948, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/7910cce4e4104e1db9b42e54381ebd62?s=128&d=identicon&r=PG", "display_name": "Flash Thunder", "link": "https://stackoverflow.com/users/2463948/flash-thunder"}, "edited": false, "score": 0, "creation_date": 1560383852, "post_id": 56571593, "comment_id": 99722124, "body": "I wouldn&#39;t downvote that tho&#39;, this is the right place to ask, in my opinion. What were the other questions? Or that was the first and the final one? (And please don&#39;t post rules link or anything to prove that it should be downvoted, we are a community that should be wanting to help others; I for example didn&#39;t ask a question since years ago (?))"}, {"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1560384183, "post_id": 56571593, "comment_id": 99722186, "body": "I didn&#39;t downvote, but I don&#39;t agree with you. This is an open-ended question, which is not the format for StackOverflow."}, {"owner": {"reputation": 9914, "user_id": 2463948, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/7910cce4e4104e1db9b42e54381ebd62?s=128&d=identicon&r=PG", "display_name": "Flash Thunder", "link": "https://stackoverflow.com/users/2463948/flash-thunder"}, "edited": false, "score": 0, "creation_date": 1560384259, "post_id": 56571593, "comment_id": 99722197, "body": "It&#39;s hard to ask about something that you have no idea about. And yes, I asked a question 2 moths ago (and answered it myself), you don&#39;t have to check that out. I checked that for ya:)"}, {"owner": {"reputation": 6672, "user_id": 2446254, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/4SJnD.png?s=128&g=1", "display_name": "Cody \uff27", "link": "https://stackoverflow.com/users/2446254/cody-%ef%bc%a7"}, "edited": false, "score": 0, "creation_date": 1560384375, "post_id": 56571593, "comment_id": 99722214, "body": "I retracted my close vote because the question was edited to a single question. I disagree that the question is too &quot;open ended&quot;. (Although it could use some clarification on some of the portions)"}, {"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "edited": false, "score": 0, "creation_date": 1560384868, "post_id": 56571593, "comment_id": 99722308, "body": "This question invites discussion, not answers. Only the interviewer knows what they were expecting to hear during the interview. &quot;How to interrupt NodeJS process via process signals?&quot; would be a more appropriate question. The only answer here assumes that this is about Unix knowledge, what about Windows? What if the interviewer wanted to hear about iptables and network configurations? We don&#39;t know. This question is very open ended."}], "answers": [{"comments": [{"owner": {"reputation": 219, "user_id": 9239020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yo3pL5iqbcA/AAAAAAAAAAI/AAAAAAAAAAw/sU_twCb_d_0/photo.jpg?sz=128", "display_name": "aaKhan", "link": "https://stackoverflow.com/users/9239020/aakhan"}, "edited": false, "score": 0, "creation_date": 1560498288, "post_id": 56571641, "comment_id": 99764110, "body": "Thanks, I appreciate it."}], "tags": [], "owner": {"reputation": 9914, "user_id": 2463948, "user_type": "registered", "accept_rate": 36, "profile_image": "https://www.gravatar.com/avatar/7910cce4e4104e1db9b42e54381ebd62?s=128&d=identicon&r=PG", "display_name": "Flash Thunder", "link": "https://stackoverflow.com/users/2463948/flash-thunder"}, "is_accepted": false, "score": 0, "last_activity_date": 1560382855, "creation_date": 1560382855, "answer_id": 56571641, "question_id": 56571593, "link": "https://stackoverflow.com/questions/56571593/pause-the-execution-of-nodejs-server-from-command-line/56571641#56571641", "title": "Pause the execution of Nodejs Server from command line", "body": "<p>Was downvoted a lot, but still... I guess that what your interviewer was asking about, was a basic unix knowledge. For example you could run:</p>\n\n<p><code>kill -STOP pid</code> or <code>KILL -TSTP pid</code> to suspend the process</p>\n\n<p><code>kill -CONT pid</code> to resume the process</p>\n"}], "owner": {"reputation": 219, "user_id": 9239020, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Yo3pL5iqbcA/AAAAAAAAAAI/AAAAAAAAAAw/sU_twCb_d_0/photo.jpg?sz=128", "display_name": "aaKhan", "link": "https://stackoverflow.com/users/9239020/aakhan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 213, "favorite_count": 0, "answer_count": 1, "score": -4, "last_activity_date": 1560382855, "creation_date": 1560382334, "question_id": 56571593, "link": "https://stackoverflow.com/questions/56571593/pause-the-execution-of-nodejs-server-from-command-line", "title": "Pause the execution of Nodejs Server from command line", "body": "<p>I'm quite new to JavaScript, I've been working with Nodejs, express and React for about 4 months now, so apologies in advance if my question sounds stupid. \nI was in an interview and the interviewer asked me the following:</p>\n\n<ol>\n<li>You have a server written in Nodejs. What you wanna do is enter something in the command line and the server stops responding to the requests. It's running but does not respond to requests anymore. How can you achieve this behavior?</li>\n</ol>\n"}, {"tags": ["javascript", "google-chrome", "google-chrome-devtools"], "comments": [{"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 1, "creation_date": 1560382431, "post_id": 56571587, "comment_id": 99721894, "body": "<i>&quot;Paused in debugger&quot;</i> means you have set a breakpoint or the code has <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/debugger\" rel=\"nofollow noreferrer\"><code>debugger;</code></a> in it somewhere. See also <a href=\"https://developers.google.com/web/tools/chrome-devtools/javascript/\" rel=\"nofollow noreferrer\">developers.google.com/web/tools/chrome-devtools/javascript</a>"}], "answers": [{"comments": [{"owner": {"reputation": 115, "user_id": 9698767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/605fccd77f01f30a122bba3136a7cffe?s=128&d=identicon&r=PG&f=1", "display_name": "PatrickJLatman", "link": "https://stackoverflow.com/users/9698767/patrickjlatman"}, "edited": false, "score": 0, "creation_date": 1560385106, "post_id": 56571788, "comment_id": 99722344, "body": "Sorry I&#39;m a noob, I&#39;m pretty familiar with dev tools and JS, but I&#39;ve never seen a website have that code before. Is there a way to get around it?"}, {"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "reply_to_user": {"reputation": 115, "user_id": 9698767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/605fccd77f01f30a122bba3136a7cffe?s=128&d=identicon&r=PG&f=1", "display_name": "PatrickJLatman", "link": "https://stackoverflow.com/users/9698767/patrickjlatman"}, "edited": false, "score": 1, "creation_date": 1560386719, "post_id": 56571788, "comment_id": 99722593, "body": "Sure, click the debugger\u2019s play button."}], "tags": [], "owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "is_accepted": false, "score": 1, "last_activity_date": 1560384350, "creation_date": 1560384350, "answer_id": 56571788, "question_id": 56571587, "link": "https://stackoverflow.com/questions/56571587/is-this-notorious-website-blocking-chrome-dev-tools/56571788#56571788", "title": "Is This Notorious Website Blocking Chrome Dev Tools?", "body": "<p>It's because within the code for the site this exists:</p>\n\n<pre><code>(function anonymous(\n) {\ndebugger\n})\n</code></pre>\n\n<p>Simply looking at where it pauses shows this clearly. You don't even have to look for it, when the code pauses, the dev tools take you straight to it.</p>\n"}], "owner": {"reputation": 115, "user_id": 9698767, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/605fccd77f01f30a122bba3136a7cffe?s=128&d=identicon&r=PG&f=1", "display_name": "PatrickJLatman", "link": "https://stackoverflow.com/users/9698767/patrickjlatman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 249, "favorite_count": 0, "answer_count": 1, "score": -2, "last_activity_date": 1560394159, "creation_date": 1560382292, "last_edit_date": 1560394159, "question_id": 56571587, "link": "https://stackoverflow.com/questions/56571587/is-this-notorious-website-blocking-chrome-dev-tools", "title": "Is This Notorious Website Blocking Chrome Dev Tools?", "body": "<p>Whenever I try to load up this website I get a \"Paused in Debugger\" message in Chrome.</p>\n"}, {"tags": ["javascript", "codemirror"], "answers": [{"tags": [], "owner": {"reputation": 1516, "user_id": 11461177, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cpz9d.png?s=128&g=1", "display_name": "Souleste", "link": "https://stackoverflow.com/users/11461177/souleste"}, "is_accepted": false, "score": 1, "last_activity_date": 1565799900, "creation_date": 1565799900, "answer_id": 57498610, "question_id": 56571567, "link": "https://stackoverflow.com/questions/56571567/codemirror-initialization-value-not-working/57498610#57498610", "title": "CodeMirror Initialization Value Not Working", "body": "<p>You need to get the value from the textarea, like so:</p>\n\n<pre><code>var textarea = document.getElementById('jsTxtArea');\nvar myCodeMirror = CodeMirror.fromTextArea(textarea , {\n    value: textarea.innerHtml,\n    lineNumbers: true,\n    mode: 'javascript'\n});\n</code></pre>\n\n<p>Or, if you want to set the value within the JavaScript:</p>\n\n<pre><code>var textarea = document.getElementById('jsTxtArea');\nvar myCodeMirror = CodeMirror.fromTextArea(textarea , {\n    lineNumbers: true,\n    mode: 'javascript'\n});\n\n// set the value\nmyCodeMirror.setValue('Some Code');\n</code></pre>\n"}], "owner": {"reputation": 9103, "user_id": 284560, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/f67a83a5750894a3a2b29a853a9ced5e?s=128&d=identicon&r=PG", "display_name": "ChiliYago", "link": "https://stackoverflow.com/users/284560/chiliyago"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 167, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1565799900, "creation_date": 1560382132, "last_edit_date": 1560521250, "question_id": 56571567, "link": "https://stackoverflow.com/questions/56571567/codemirror-initialization-value-not-working", "title": "CodeMirror Initialization Value Not Working", "body": "<p>Why does the value property \"some code\" not showing up when I load this page?  </p>\n\n<pre><code>    &lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"UTF-8\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n  &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\n\n  &lt;link rel=\"stylesheet\" href=\"lib/codemirror-5.47.0/lib/codemirror.css\"&gt;\n  &lt;script src=\"lib/codemirror-5.47.0/lib/codemirror.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"lib/codemirror-5.47.0/mode/javascript/javascript.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"lib/codemirror-5.47.0/mode/powershell//powershell.js\"&gt;&lt;/script&gt;\n\n  &lt;title&gt;Code Mirror&lt;/title&gt;\n\n&lt;/head&gt;\n\n\n&lt;body&gt;\n  &lt;h1&gt;Hello Code Mirror&lt;/h1&gt;\n\n  Code Mirror &lt;a href=\"https://codemirror.net/doc/manual.html\"&gt;Documenation&lt;/a&gt;\n\n  &lt;/br&gt;\n\n  &lt;textarea id='jsTxtArea'&gt;&lt;/textarea&gt;\n\n&lt;/body&gt;\n\n\n\n&lt;script&gt;\n  var myCodeMirror = CodeMirror.fromTextArea(document.getElementById('jsTxtArea'), {\n    value: \"some code\",\n    lineNumbers:true,\n    mode:\"javascript\"\n\n});\n&lt;/script&gt;\n\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 5440, "user_id": 417866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958d07f426a20a9bc1bb7db75086f9d5?s=128&d=identicon&r=PG", "display_name": "Arash Motamedi", "link": "https://stackoverflow.com/users/417866/arash-motamedi"}, "edited": false, "score": 0, "creation_date": 1560382183, "post_id": 56571540, "comment_id": 99721855, "body": "I&#39;m not sure this is doable, not within the same frame anyway. I&#39;d suggest putting the input in an iframe and see if that works."}], "answers": [{"tags": [], "owner": {"reputation": 5440, "user_id": 417866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958d07f426a20a9bc1bb7db75086f9d5?s=128&d=identicon&r=PG", "display_name": "Arash Motamedi", "link": "https://stackoverflow.com/users/417866/arash-motamedi"}, "is_accepted": false, "score": 1, "last_activity_date": 1560382462, "creation_date": 1560382462, "answer_id": 56571604, "question_id": 56571540, "link": "https://stackoverflow.com/questions/56571540/allow-typing-input-into-text-field-while-selecting-text/56571604#56571604", "title": "Allow typing input into text field while selecting text", "body": "<p>There can be only one active selection/cursor in any given frame. </p>\n\n<p>In order to keep the old selection and still type in an input box, your selection and your input box need to be in different frames. </p>\n\n<p>So do something like</p>\n\n<blockquote>\n  <p><code>main.html</code></p>\n</blockquote>\n\n<pre><code>&lt;html&gt;&lt;body&gt;\n   &lt;div&gt;Some test&lt;/div&gt;\n   &lt;iframe src=\"otherdoc.html\"&gt;&lt;/iframe&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<blockquote>\n  <p><code>otherdoc.html</code></p>\n</blockquote>\n\n<pre><code>&lt;html&gt;&lt;body&gt;\n   &lt;input&gt;&lt;/input&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n\n<p>You can use <code>iframe</code>'s <code>srcdoc</code> attribute to avoid having a second document. </p>\n\n<p><a href=\"https://jsfiddle.net/p4ar85sg/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/p4ar85sg/</a></p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user9467747"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560382462, "creation_date": 1560381898, "question_id": 56571540, "link": "https://stackoverflow.com/questions/56571540/allow-typing-input-into-text-field-while-selecting-text", "title": "Allow typing input into text field while selecting text", "body": "<p>Given a block of text in a <code>div</code> and an <code>input</code> field:</p>\n\n<p><a href=\"https://i.stack.imgur.com/cp9eg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cp9eg.png\" alt=\"enter image description here\"></a></p>\n\n<p>I want to be able to select some text in the div (drag across it with my cursor):</p>\n\n<p><a href=\"https://i.stack.imgur.com/VN26g.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VN26g.png\" alt=\"enter image description here\"></a></p>\n\n<p>Then click on the input field and enter some text while <em>\"ome rand\"</em> remains selected (unlike in the following image / JSFiddle):</p>\n\n<p><a href=\"https://i.stack.imgur.com/dQhwS.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dQhwS.png\" alt=\"enter image description here\"></a></p>\n\n<p>JSFiddle: <a href=\"https://jsfiddle.net/moa9xf2j/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/moa9xf2j/</a></p>\n\n<p>My attempt at this so far has been to get the <code>startIndex</code> and <code>endIndex</code> of the selected text, then use <code>setSelectionRange</code> when the <code>input</code> field is clicked on. However, this didn't let me enter text in the field.</p>\n"}, {"tags": ["javascript", "jquery", "wordpress", "google-analytics", "event-handling"], "comments": [{"owner": {"reputation": 4425, "user_id": 9424962, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ef4571da81567610b151ee8af7c4b795?s=128&d=identicon&r=PG&f=1", "display_name": "XTOTHEL", "link": "https://stackoverflow.com/users/9424962/xtothel"}, "edited": false, "score": 0, "creation_date": 1560400123, "post_id": 56571536, "comment_id": 99724907, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/56146458/manually-generated-events-now-showing-up-in-analytics\">manually generated events now showing up in analytics</a>"}, {"owner": {"reputation": 546, "user_id": 8230441, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e764f3d1008b7ef950e472710f720818?s=128&d=identicon&r=PG&f=1", "display_name": "F. Leone", "link": "https://stackoverflow.com/users/8230441/f-leone"}, "edited": false, "score": 0, "creation_date": 1560418941, "post_id": 56571536, "comment_id": 99733134, "body": "Is the 2nd <code>gtag(&#39;event&#39;, click)</code> really like this? If so change it to <code>gtag(&#39;event&#39;, &#39;click&#39; ....)</code>."}, {"owner": {"reputation": 1760, "user_id": 11447682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/63632054e8c0b2dbf12d84627607ef56?s=128&d=identicon&r=PG&f=1", "display_name": "Joshua T", "link": "https://stackoverflow.com/users/11447682/joshua-t"}, "edited": false, "score": 0, "creation_date": 1560630591, "post_id": 56571536, "comment_id": 99802364, "body": "If you leave the first GA code up, which uses <code>analytics.js</code>, your first onclick attempt should work (although it should be <code>onclick</code>, not <code>onClick</code>). I tested it on your site, and saw the event fire as a <code>&#47;collect</code> GET request, as well as in the Google Tag Assistant. Are you sure you don&#39;t have any view filters set up that might be accidentally filtering out users? Other things to check is that any ad-blocking you might have installed is off when checking yourself, making sure the UA ID in the code matches the account you are looking at, and make sure you are looking at the real time report."}], "owner": {"reputation": 21, "user_id": 10561056, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-MjT5Z8S4P3U/AAAAAAAAAAI/AAAAAAAAAIQ/Tj2mcuzoLow/photo.jpg?sz=128", "display_name": "Stephen Popovich", "link": "https://stackoverflow.com/users/10561056/stephen-popovich"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2171, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560420939, "creation_date": 1560381887, "last_edit_date": 1560420939, "question_id": 56571536, "link": "https://stackoverflow.com/questions/56571536/event-click-tracking-for-google-analytics-is-not-working", "title": "Event click tracking for Google Analytics is not working", "body": "<p>I have three links that I want to track the clicking off on my WordPress site (<a href=\"http://baytrail.org/thirty/\" rel=\"nofollow noreferrer\">http://baytrail.org/thirty/</a>). I had to add an additional Google Analytics Tracking code, due to not having access to the second one. I can't remove either one. When I try to add code to track the links, nothing is reported back to the Google Analytics portal. Please help me resolved this issue</p>\n\n<p>Notes:\nThere are two google analytics tracking codes</p>\n\n<p>The first GA code (I purposely added the XXXs for privacy ID)</p>\n\n<pre><code>&lt;script&gt;\n  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n  ga('create', 'UA-XXXXXX-1', 'auto');\n  ga('send', 'pageview');\n\n&lt;/script&gt;\n</code></pre>\n\n<p>The newly added GA code</p>\n\n<pre><code>&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;\n&lt;script async src=\"https://www.googletagmanager.com/gtag/js?id=UA-XXXXX-1\"&gt;&lt;/script&gt;\n&lt;script&gt;\n  window.dataLayer = window.dataLayer || [];\n  function gtag(){dataLayer.push(arguments);}\n  gtag('js', new Date());\n\n  gtag('config', 'UA-XXXXX-1');\n&lt;/script&gt;\n</code></pre>\n\n<p>The three tracking code options I have tried, none seem to work:</p>\n\n<ol>\n<li><p>onClick=\"ga('send', 'event', 'PDF Downloads', 'Click', 'Map Download Button');\"</p></li>\n<li><p>gtag('event', click, {\n'event_category': links,\n'event_label': Contest Rules,\n'value': 1\n});</p></li>\n<li><p>ga('link', 'click', 'CTA Map Download Link');</p></li>\n</ol>\n\n<p>When I look into GA real-time events, nothing is showing. Can't seem to connect/trigger the event link handlers.</p>\n"}, {"tags": ["javascript", "datetime"], "comments": [{"owner": {"reputation": 12321, "user_id": 9958942, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cbfa5b660283a00f1c8b9a6ce8d67e1d?s=128&d=identicon&r=PG&f=1", "display_name": "benvc", "link": "https://stackoverflow.com/users/9958942/benvc"}, "edited": false, "score": 0, "creation_date": 1560382143, "post_id": 56571480, "comment_id": 99721846, "body": "Not exactly the same but this may help: <a href=\"https://stackoverflow.com/questions/53707902/working-with-different-timezones-in-javascript\" title=\"working with different timezones in javascript\">stackoverflow.com/questions/53707902/&hellip;</a>"}, {"owner": {"reputation": 5357, "user_id": 1030169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b40f413b34463de22c81d35b4c1930?s=128&d=identicon&r=PG", "display_name": "jmoerdyk", "link": "https://stackoverflow.com/users/1030169/jmoerdyk"}, "edited": false, "score": 2, "creation_date": 1560382281, "post_id": 56571480, "comment_id": 99721873, "body": "<a href=\"http://momentjs.com/\" rel=\"nofollow noreferrer\">momentjs.com</a>  <a href=\"http://momentjs.com/timezone/\" rel=\"nofollow noreferrer\">momentjs.com/timezone</a>"}, {"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "reply_to_user": {"reputation": 5357, "user_id": 1030169, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/93b40f413b34463de22c81d35b4c1930?s=128&d=identicon&r=PG", "display_name": "jmoerdyk", "link": "https://stackoverflow.com/users/1030169/jmoerdyk"}, "edited": false, "score": 0, "creation_date": 1560382373, "post_id": 56571480, "comment_id": 99721886, "body": "@jmoerdyk can you advice more on this ? how i can get a consistent Date() using those libraries?"}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1560383492, "post_id": 56571480, "comment_id": 99722059, "body": "Use ISO 8601 formatted date / time strings so there&#39;s zero ambiguity, eg <code>2019-06-11T00:00:00+01:00</code>"}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "edited": false, "score": 0, "creation_date": 1560386208, "post_id": 56571770, "comment_id": 99722503, "body": "ok thanks for the reply. so this will work regardless of the user&#39; PCs regional settings and date/time format such as <code>dd&#47;mm&#47;yyyy</code> or <code>mm&#47;dd&#47;yyyy</code>?"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "edited": false, "score": 0, "creation_date": 1560387021, "post_id": 56571770, "comment_id": 99722627, "body": "It should, I am nowhere near that location, and for me it displays the time of <b>Guernsey</b> as <code>01:49:21</code>"}], "tags": [], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "is_accepted": false, "score": 1, "last_activity_date": 1560386970, "last_edit_date": 1560386970, "creation_date": 1560384132, "answer_id": 56571770, "question_id": 56571480, "link": "https://stackoverflow.com/questions/56571480/is-there-an-external-api-to-get-the-current-date-time-in-british-summer-time-for/56571770#56571770", "title": "Is there an external api to get the current date/time in British Summer Time format", "body": "<p>I think I understand what you are looking for, and if so, you will want to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toLocaleString\" rel=\"nofollow noreferrer\"><code>toLocaleString()</code></a>, and tell it what format you would like the result to be in.</p>\n\n<p>The following will result in british time format in the UTC timezone.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let date = new Date()\r\n\r\nconsole.log('UTC:', date.toLocaleString('en-GB', { timeZone: 'UTC' }))\r\nconsole.log('Guernsey:', date.toLocaleString('en-GB', { timeZone: 'Europe/Guernsey' }))\r\nconsole.log('Guernsey Time:', date.toLocaleTimeString('en-GB', { timeZone: 'Europe/Guernsey' }))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 91, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560386970, "creation_date": 1560381411, "question_id": 56571480, "link": "https://stackoverflow.com/questions/56571480/is-there-an-external-api-to-get-the-current-date-time-in-british-summer-time-for", "title": "Is there an external api to get the current date/time in British Summer Time format", "body": "<p>I have the following javascript function, where i am getting 2 variables from our system (<code>expireddate</code> + <code>modifieddate</code>)+ i am getting the current Date, as follow:-</p>\n\n<pre><code>function(){ \n\n  var expirydate = item.get_item('ExpireDate');             \n  var modifieddate = item.get_item('Modified');\n  var currentdate = new Date();\n</code></pre>\n\n<p>now in my case all the variables will be in this format <code>Tue Jun 11 2019 00:00:00 GMT+0100 (British Summer Time)</code>.. and i am not facing any issue since my pc is also using the <code>(British Summer Time)</code> date, so the <code>var currentdate = new Date();</code> will be compatible with other formats... but my question is how i can guarantee that <code>var currentdate = new Date();</code> will always be in the <code>(British Summer Time)</code> date regardless of the users' PCs settings? so if the user is using another date format, to have the <code>var currentdate = new Date();</code> in <code>(British Summer Time)</code> date format ? can i for example get the current date from external source?</p>\n"}, {"tags": ["javascript", "jquery", "css"], "comments": [{"owner": {"reputation": 45, "user_id": 9396624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ABGxueTGxn8/AAAAAAAAAAI/AAAAAAAACsA/OimRiI4GsuI/photo.jpg?sz=128", "display_name": "Muhammed", "link": "https://stackoverflow.com/users/9396624/muhammed"}, "edited": false, "score": 0, "creation_date": 1560381562, "post_id": 56571472, "comment_id": 99721740, "body": "and sorry for my bad english :("}, {"owner": {"reputation": 127336, "user_id": 283366, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9ad213d8adabe4b64c2d53c5e0e3cab4?s=128&d=identicon&r=PG", "display_name": "Phil", "link": "https://stackoverflow.com/users/283366/phil"}, "edited": false, "score": 0, "creation_date": 1560382053, "post_id": 56571472, "comment_id": 99721835, "body": "Looks like you want to catch the click events on the menu items and prevent them from propagating up to your accordion elements"}, {"owner": {"user_type": "does_not_exist", "display_name": "user241244"}, "edited": false, "score": 0, "creation_date": 1560382853, "post_id": 56571472, "comment_id": 99721973, "body": "What&#39;s your HTML?"}, {"owner": {"reputation": 45, "user_id": 9396624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ABGxueTGxn8/AAAAAAAAAAI/AAAAAAAACsA/OimRiI4GsuI/photo.jpg?sz=128", "display_name": "Muhammed", "link": "https://stackoverflow.com/users/9396624/muhammed"}, "edited": false, "score": 0, "creation_date": 1560383208, "post_id": 56571472, "comment_id": 99722027, "body": "@D_N I addded..."}], "answers": [{"tags": [], "owner": {"reputation": 12072, "user_id": 1630963, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/97c2d181ef6bbb9eee0c4033561c3891?s=128&d=identicon&r=PG", "display_name": "enhzflep", "link": "https://stackoverflow.com/users/1630963/enhzflep"}, "is_accepted": false, "score": 1, "last_activity_date": 1560383970, "creation_date": 1560383970, "answer_id": 56571751, "question_id": 56571472, "link": "https://stackoverflow.com/questions/56571472/why-does-the-dom-remove-my-classes-automatically-when-the-page-is-changed/56571751#56571751", "title": "Why does the DOM remove my classes automatically when the page is changed?", "body": "<p>Simply put, the page <strong>doesn't</strong> <em>automatically</em> remove the classes you've applied.</p>\n\n<p>Clearly, you deliberately apply them when a closed element is clicked, before removing them and setting the max-height of the children to 0.</p>\n\n<p>You're setting the max-height attribute for the children, yet they appear slowly. That appears to indicate there's a transition being used when the \"mine-trigger-open\" class is applied. The max-height is set instantly, but the actual height changes over a period of time.</p>\n\n<p>When you go the other way though, you instantly set the max-height attribute to 0. Even if there's a transition happening on the height attribute, you wont see the elements, since they've been hidden. Instead of applying the <code>max-height</code> attribute at this point, I'd suggest that it appear in the rule that governs the transition when \"mine-trigger-open\" is added or removed.</p>\n"}, {"tags": [], "owner": {"reputation": 1906, "user_id": 60669, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/9466bfa57f525f6c6ace971bc51b6aee?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/60669/steve"}, "is_accepted": true, "score": 2, "last_activity_date": 1560385586, "creation_date": 1560385586, "answer_id": 56571900, "question_id": 56571472, "link": "https://stackoverflow.com/questions/56571472/why-does-the-dom-remove-my-classes-automatically-when-the-page-is-changed/56571900#56571900", "title": "Why does the DOM remove my classes automatically when the page is changed?", "body": "<p>The event is triggered from the LI so \"this\" will always be .mine-trigger and clicking on any child elements will toggle the close.  inspect the event.target to determine if the click was within a navigation link to determine if you should close the accordion. </p>\n\n<pre><code>$('.mine-trigger').click(function(e){\n    var is_open = $(this).hasClass('mine-trigger-open');\n    var from_link = is_open &amp;&amp; $(e.target).closest('.mine-content__link').length == 1;\n\n    if (!is_open) {\n        // open accordion    \n    } else if (is_open &amp;&amp; !from_link) {\n        // close accordion\n    }\n</code></pre>\n\n<p>You could also get/set a cookie value or localStorage to re-open the accordion on the page you are navigating to. </p>\n"}], "owner": {"reputation": 45, "user_id": 9396624, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ABGxueTGxn8/AAAAAAAAAAI/AAAAAAAACsA/OimRiI4GsuI/photo.jpg?sz=128", "display_name": "Muhammed", "link": "https://stackoverflow.com/users/9396624/muhammed"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 124, "favorite_count": 0, "accepted_answer_id": 56571900, "answer_count": 2, "score": -1, "last_activity_date": 1560385586, "creation_date": 1560381357, "last_edit_date": 1560383183, "question_id": 56571472, "link": "https://stackoverflow.com/questions/56571472/why-does-the-dom-remove-my-classes-automatically-when-the-page-is-changed", "title": "Why does the DOM remove my classes automatically when the page is changed?", "body": "<p>I have a custom written accordion for my \"sidenav\", it's very simple, Just adding class on click event to trigger and menu items collapse but the problem is when I click on a link in the collapsed <code>&lt;li&gt;</code> the page starts to <strong>redirect</strong>; all the classes which I added with javascript click handler are <strong>automatically removed</strong> and it looks very ugly:</p>\n\n<p><a href=\"https://media.giphy.com/media/JrjXa3bj4S2afSZ7jj/source.gif\" rel=\"nofollow noreferrer\"><img src=\"https://media.giphy.com/media/JrjXa3bj4S2afSZ7jj/source.gif\" alt=\"Thats a gif\"></a></p>\n\n<p>... and how can I fix it? \nIt's my javascript(jquery) and html code:</p>\n\n<pre><code>$('.mine-trigger').click(function(){\n\n        var \n        control_click       = $(this).hasClass('mine-trigger-open'),\n        howmuchchildrens    = $(this).children('.mine-content').children('.mine-content__link').length,\n        calcPixels          = (howmuchchildrens * 48) + 'px';\n\n        if (control_click == false){\n            $(this).addClass('mine-trigger-open');\n            $(this).children('.mine-content').css('max-height', calcPixels);\n        }\n        if (control_click == true) {\n            $(this).removeClass('mine-trigger-open');\n            $(this).children('.mine-content').css('max-height', 0);\n        }\n    });\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>        &lt;li class=\"mine-trigger\"&gt;\n            &lt;a class=\"sidenav__link\"&gt;\n                &lt;span class=\"sidenav__icon ico-person\"&gt;&lt;/span&gt;\n                Cariler\n            &lt;/a&gt;\n            &lt;div class=\"mine-content\"&gt;\n                &lt;a class=\"sidenav__link mine-content__link\" href='&lt;?php echo site_url('yonetim/cari')?&gt;'&gt;\n                    &lt;span class=\"sidenav__icon ico-person\"&gt;&lt;/span&gt;\n                    Cari\n                &lt;/a&gt;    \n                &lt;a class=\"sidenav__link mine-content__link\" href='&lt;?php echo site_url('yonetim/personel')?&gt;'&gt;\n                    &lt;span class=\"sidenav__icon ico-assignment_ind\"&gt;&lt;/span&gt;\n                    Personel\n                &lt;/a&gt;    \n            &lt;/div&gt;\n        &lt;/li&gt;\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "sorting"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1560381309, "post_id": 56571451, "comment_id": 99721690, "body": "Your notation is not syntactically correct, but it&#39;s pretty clear what you mean."}, {"owner": {"reputation": 198293, "user_id": 707111, "user_type": "moderator", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/oXZkh.jpg?s=128&g=1", "display_name": "Ry-", "link": "https://stackoverflow.com/users/707111/ry"}, "edited": false, "score": 0, "creation_date": 1560381363, "post_id": 56571451, "comment_id": 99721699, "body": "Step 1: create a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\"><code>Map</code></a> from <code>array1</code> mapping ids to objects."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1560381572, "post_id": 56571451, "comment_id": 99721742, "body": "Also your <code>array2</code> does not include all the id values from array 1."}], "answers": [{"comments": [{"owner": {"reputation": 47, "user_id": 10369214, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_BI1_nbjfmQ/AAAAAAAAAAI/AAAAAAAAAME/BH7NsM5DmXQ/photo.jpg?sz=128", "display_name": "Program232323", "link": "https://stackoverflow.com/users/10369214/program232323"}, "edited": false, "score": 0, "creation_date": 1560382363, "post_id": 56571482, "comment_id": 99721882, "body": "Ill give a more through response when I am able to dive deeper into your solution, I appreciate the help. If I understand you correctly though, I do clarify in my question what should be done when array2 does not include an id value from array 1? In my question it says &quot;remove any element within array1 that does not have a corresponding id within array2&quot;."}], "tags": [], "owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "is_accepted": false, "score": 0, "last_activity_date": 1560381447, "creation_date": 1560381447, "answer_id": 56571482, "question_id": 56571451, "link": "https://stackoverflow.com/questions/56571451/sort-array-1-by-id-of-array-2-while-removing-and-adding-elements-from-array-1-d/56571482#56571482", "title": "Sort Array 1 by ID of Array 2. While removing and adding elements from Array 1 depending on Array 2", "body": "<p>Build an array from <code>array2</code> that gives the index for each id value:</p>\n\n<pre><code>var indexes = array2.reduce(function(map, entry, index) {\n  map[entry.id] = index;\n  return map;\n}, {});\n</code></pre>\n\n<p>Now you can create a new array from <code>array1</code>:</p>\n\n<pre><code>var newArray1 = array1.reduce(function(a, entry) {\n  a[indexes[entry.id]] = entry;\n  return a;\n}, []);\n</code></pre>\n\n<p>Now, in your example data, your <code>array2</code> does not include all the id values that are present in <code>array1</code>.  It's not clear from your question what should be done in such cases.</p>\n\n<p>One approach would be to create a lookup table from all the id values in <code>array2</code>, and then add to it the missing id values from <code>array1</code> with some larger index values.</p>\n"}, {"tags": [], "owner": {"reputation": 280, "user_id": 6569071, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bkNeE.jpg?s=128&g=1", "display_name": "Franklin&#39;j Gil&#39;z", "link": "https://stackoverflow.com/users/6569071/franklinj-gilz"}, "is_accepted": false, "score": 0, "last_activity_date": 1560383888, "last_edit_date": 1560383888, "creation_date": 1560382703, "answer_id": 56571623, "question_id": 56571451, "link": "https://stackoverflow.com/questions/56571451/sort-array-1-by-id-of-array-2-while-removing-and-adding-elements-from-array-1-d/56571623#56571623", "title": "Sort Array 1 by ID of Array 2. While removing and adding elements from Array 1 depending on Array 2", "body": "<ul>\n<li>It'll order array2 like array1:</li>\n<li>It'll delete items of array2 if doesn't exist in array 1</li>\n</ul>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>array1 = [ {\"name\":\"sos\", \"id\":112},{\"name\":\"apa\", \"id\":671},{\"name\":\"dos\", \"id\":003}]\r\narray2 = [ {\"name\":\"sqe\", \"id\":671},{\"name\":\"pep\", \"id\":003},{\"name\":\"try\", \"id\":163}]\r\n\r\narray2 = array2.filter((item2, i) =&gt; {\r\n   let match = false;\r\n   array1.forEach((item1, j) =&gt; {\r\n       if(item1.id == item2.id) return match = true;\r\n   })\r\n   return  match\r\n})\r\n\r\nconsole.log(array1)\r\nconsole.log(array2)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 5440, "user_id": 417866, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/958d07f426a20a9bc1bb7db75086f9d5?s=128&d=identicon&r=PG", "display_name": "Arash Motamedi", "link": "https://stackoverflow.com/users/417866/arash-motamedi"}, "is_accepted": false, "score": 0, "last_activity_date": 1560384029, "last_edit_date": 1560384029, "creation_date": 1560383237, "answer_id": 56571678, "question_id": 56571451, "link": "https://stackoverflow.com/questions/56571451/sort-array-1-by-id-of-array-2-while-removing-and-adding-elements-from-array-1-d/56571678#56571678", "title": "Sort Array 1 by ID of Array 2. While removing and adding elements from Array 1 depending on Array 2", "body": "<p>Build a map from your <code>array1</code>:</p>\n\n<pre><code>let map1 = new Map(array1.map(e =&gt; [e.id, e]))\n</code></pre>\n\n<p>Then iterate over your <code>array2</code> and map each item to its corresponding item in <code>array1</code>.</p>\n\n<pre><code>let newArray1 = array2.map(e =&gt; map1.get(e.id));\n</code></pre>\n"}], "owner": {"reputation": 47, "user_id": 10369214, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_BI1_nbjfmQ/AAAAAAAAAAI/AAAAAAAAAME/BH7NsM5DmXQ/photo.jpg?sz=128", "display_name": "Program232323", "link": "https://stackoverflow.com/users/10369214/program232323"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1560384029, "creation_date": 1560381152, "last_edit_date": 1560381449, "question_id": 56571451, "link": "https://stackoverflow.com/questions/56571451/sort-array-1-by-id-of-array-2-while-removing-and-adding-elements-from-array-1-d", "title": "Sort Array 1 by ID of Array 2. While removing and adding elements from Array 1 depending on Array 2", "body": "<p>I have 2 arrays. Each filled with unique identification numbers. I want to take the first Array</p>\n\n<pre><code>array1 = [ \n    {\"name\":\"sos\", \"id\":112},\n    {\"name\":\"apa\", \"id\":671},\n    {\"name\":\"dos\", \"id\":003},\n]\n</code></pre>\n\n<p>And have its order match the order of array2 depending on each ones ID value. So that every id of array1 equals array2 and vice versa. In other words array1[x].id == array2[x].id for every value of x less than or equal to the length of the array.</p>\n\n<pre><code>array2 = [ \n    {\"name\":\"sqe\", \"id\":671},\n    {\"name\":\"pep\", \"id\":003},\n    {\"name\":\"try\", \"id\":163},\n]\n</code></pre>\n\n<p>I also want to remove any element within array1 that does not have a corresponding id within array2. And add any element into array1 that has an id value that is not in array1 but is in array2, while again sorting it depending on its ID number.\nArray1 must preserve its names that are associated with each id value, but when a new element is added its name can be set to the name of the id it is correlated with in array2. </p>\n\n<p>I cant seem to wrap my mind on how to achieve this without running into special cases where it could mess up my order.</p>\n"}, {"tags": ["javascript", "safari-extension", "safari-content-script"], "answers": [{"tags": [], "owner": {"reputation": 278, "user_id": 1103265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/47f1bdddd41b9cd4562de684c7d5983e?s=128&d=identicon&r=PG", "display_name": "max9xs", "link": "https://stackoverflow.com/users/1103265/max9xs"}, "is_accepted": false, "score": 0, "last_activity_date": 1562254871, "creation_date": 1562254871, "answer_id": 56891145, "question_id": 56571447, "link": "https://stackoverflow.com/questions/56571447/how-to-prevent-multiple-injection-of-content-script-when-disabling-re-enabling-s/56891145#56891145", "title": "How to prevent multiple injection of content script when disabling/re-enabling safari extension?", "body": "<p>It's a default behaviour.\nif web-page has child frames, script will be injected to all the frames. </p>\n\n<p>But you can prevent multiple calls by checking if its main-frame. </p>\n\n<pre><code>        //sample function\n        function foo() \n        {\n           if (window.top === window)  //main-frame only\n           { \n            //place code here.\n           }\n        }\n</code></pre>\n"}], "owner": {"reputation": 61, "user_id": 6368863, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/92476d856d4ec81595d30142d3aada7b?s=128&d=identicon&r=PG&f=1", "display_name": "Christine", "link": "https://stackoverflow.com/users/6368863/christine"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 140, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1562254871, "creation_date": 1560381123, "last_edit_date": 1560385301, "question_id": 56571447, "link": "https://stackoverflow.com/questions/56571447/how-to-prevent-multiple-injection-of-content-script-when-disabling-re-enabling-s", "title": "How to prevent multiple injection of content script when disabling/re-enabling safari extension?", "body": "<p>If Safari, I end up with multiple copies of the content script being injected if I disable and then re-enable the extension in the same session. </p>\n\n<p>After page refresh, things return to normal. Chrome has a concept of an \"invalidated extension context\" that Safari seems to lack.</p>\n\n<p>The content script(script.js) is registered by adding it in Safari extension app in xcode under key <em>SFSafariContentScript</em>. According to <a href=\"https://developer.apple.com/documentation/safariservices/safari_app_extensions/injecting_a_script_into_a_webpage?language=objc\" rel=\"nofollow noreferrer\">https://developer.apple.com/documentation/safariservices/safari_app_extensions/injecting_a_script_into_a_webpage?language=objc</a>, content script is always injected when extension is loaded. Is there a work around to prevent it from being injected again if it is already injected the first time?</p>\n\n<p>I did quite some research online but can't find a solution. Any suggestion are greatly appreciated!</p>\n"}, {"tags": ["javascript", "jquery", "jquery-ui-sortable", "sortablejs"], "comments": [{"owner": {"reputation": 319, "user_id": 8939149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ec1951843b9be48c771b77cb999ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Basti G.", "link": "https://stackoverflow.com/users/8939149/basti-g"}, "edited": false, "score": 0, "creation_date": 1560439021, "post_id": 56571434, "comment_id": 99745426, "body": "I edit my question because i have a partially solution but in my solution missing the most important thing, the hierarchical nested structure."}], "answers": [{"comments": [{"owner": {"reputation": 319, "user_id": 8939149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ec1951843b9be48c771b77cb999ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Basti G.", "link": "https://stackoverflow.com/users/8939149/basti-g"}, "edited": false, "score": 0, "creation_date": 1560411660, "post_id": 56572278, "comment_id": 99729214, "body": "If i get all items with this <code>var nestedSortables = $(&quot;#nestedDemo .list-group-item&quot;);</code> and loop than with the same logic <code>for (var i = 0; i &lt; nestedSortables.length; i++) { ... $(&#39;#standard_order&#39;).val(result);                     console.log(result);</code> only the sublists and not the single list items can be move :/"}, {"owner": {"reputation": 319, "user_id": 8939149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ec1951843b9be48c771b77cb999ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Basti G.", "link": "https://stackoverflow.com/users/8939149/basti-g"}, "edited": false, "score": 0, "creation_date": 1560414353, "post_id": 56572278, "comment_id": 99730631, "body": "Or is there a better plugin/solution for my plan than <a href=\"https://github.com/SortableJS/Sortable\" rel=\"nofollow noreferrer\">SortableJS</a> ?"}], "tags": [], "owner": {"reputation": 1906, "user_id": 60669, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/9466bfa57f525f6c6ace971bc51b6aee?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/60669/steve"}, "is_accepted": false, "score": 0, "last_activity_date": 1560389855, "creation_date": 1560389855, "answer_id": 56572278, "question_id": 56571434, "link": "https://stackoverflow.com/questions/56571434/sortablejs-get-order-from-nested-list/56572278#56572278", "title": "SortableJS get order from nested list", "body": "<p>You end up with 3 separate sortable lists and any sort may be triggering the other onSort events and because they are all writing to the same #standard_order field, it will only contain the elements of the last list that wrote to the standard_order field.\nJust add a console.log to see when and what is visible in the event.</p>\n\n<pre><code>$(\"#standard_order\").val(result);\nconsole.log(result);\n</code></pre>\n\n<p>if you want to get all items you will have to grab them</p>\n\n<pre><code>var items = $(\"#nestedDemo .list-group-item\"); \n.. same loop logic\n$(\"#standard_order\").val(result);\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2134, "user_id": 6088312, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cff344bfbdf43912b3daf19c4b4ddb57?s=128&d=identicon&r=PG", "display_name": "Owen M", "link": "https://stackoverflow.com/users/6088312/owen-m"}, "reply_to_user": {"reputation": 319, "user_id": 8939149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ec1951843b9be48c771b77cb999ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Basti G.", "link": "https://stackoverflow.com/users/8939149/basti-g"}, "edited": false, "score": 0, "creation_date": 1560512344, "post_id": 56589385, "comment_id": 99770823, "body": "@BastiG. I updated the JSBin and code example, you change <code>identifier</code> to whatever property you want to use from the element to identify the item. I added a <code>data-sortable-id</code> attribute to all the items in the JSBin, and identified them in the code using that."}, {"owner": {"reputation": 319, "user_id": 8939149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ec1951843b9be48c771b77cb999ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Basti G.", "link": "https://stackoverflow.com/users/8939149/basti-g"}, "edited": false, "score": 0, "creation_date": 1560515105, "post_id": 56589385, "comment_id": 99772195, "body": "I think i do something wrong... i copy your example code above and add the attribute <code>sortableId</code> to all my list items like this: <code>&lt;div class=&quot;list-group-item&quot; sortableId=&quot;Titel 1&quot;&gt;Titel 1&lt;&#47;div&gt;</code> but the console still get <code>id: undefined</code>"}, {"owner": {"reputation": 2134, "user_id": 6088312, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cff344bfbdf43912b3daf19c4b4ddb57?s=128&d=identicon&r=PG", "display_name": "Owen M", "link": "https://stackoverflow.com/users/6088312/owen-m"}, "reply_to_user": {"reputation": 319, "user_id": 8939149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ec1951843b9be48c771b77cb999ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Basti G.", "link": "https://stackoverflow.com/users/8939149/basti-g"}, "edited": false, "score": 0, "creation_date": 1560515856, "post_id": 56589385, "comment_id": 99772598, "body": "@BastiG. <code>sortableId</code> is just the way of accessing it in javascript. In the HTML is it set as <code>data-sortable-id</code>. Look at the JSBin to see."}, {"owner": {"reputation": 66, "user_id": 3745871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c04695781b14a160ae387a8b8ef4a499?s=128&d=identicon&r=PG", "display_name": "lflier", "link": "https://stackoverflow.com/users/3745871/lflier"}, "edited": false, "score": 0, "creation_date": 1604336754, "post_id": 56589385, "comment_id": 114310711, "body": "The jsbin demo above no longer works because SortableJS no longer supports GitHub as a CDN. In the HTML &lt;script&gt; tag, substitute the unpkg URL: <a href=\"https://unpkg.com/sortablejs-make/Sortable.min.js\" rel=\"nofollow noreferrer\">unpkg.com/sortablejs-make/Sortable.min.js</a>"}], "tags": [], "owner": {"reputation": 2134, "user_id": 6088312, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cff344bfbdf43912b3daf19c4b4ddb57?s=128&d=identicon&r=PG", "display_name": "Owen M", "link": "https://stackoverflow.com/users/6088312/owen-m"}, "is_accepted": true, "score": 9, "last_activity_date": 1560696359, "last_edit_date": 1560696359, "creation_date": 1560465755, "answer_id": 56589385, "question_id": 56571434, "link": "https://stackoverflow.com/questions/56571434/sortablejs-get-order-from-nested-list/56589385#56589385", "title": "SortableJS get order from nested list", "body": "<p>I have made a demo showing how to do this very easily: <a href=\"https://jsbin.com/reyecop/edit?js,output\" rel=\"noreferrer\">https://jsbin.com/reyecop/edit?js,output</a></p>\n\n<p>The important part (applied to the <a href=\"https://sortablejs.github.io/Sortable/#nested\" rel=\"noreferrer\">Nested Demo</a> on the SortableJS homepage):</p>\n\n<pre><code>const nestedQuery = '.nested-sortable';\nconst identifier = 'sortableId';\nconst root = document.getElementById('nestedDemo');\nfunction serialize(sortable) {\n  var serialized = [];\n  var children = [].slice.call(sortable.children);\n  for (var i in children) {\n    var nested = children[i].querySelector(nestedQuery);\n    serialized.push({\n      id: children[i].dataset[identifier],\n      children: nested ? serialize(nested) : []\n    });\n  }\n  return serialized\n}\n\nconsole.log(serialize(root))\n</code></pre>\n"}], "owner": {"reputation": 319, "user_id": 8939149, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b6ec1951843b9be48c771b77cb999ce8?s=128&d=identicon&r=PG&f=1", "display_name": "Basti G.", "link": "https://stackoverflow.com/users/8939149/basti-g"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3602, "favorite_count": 1, "accepted_answer_id": 56589385, "answer_count": 2, "score": 2, "last_activity_date": 1560696359, "creation_date": 1560380998, "last_edit_date": 1560438722, "question_id": 56571434, "link": "https://stackoverflow.com/questions/56571434/sortablejs-get-order-from-nested-list", "title": "SortableJS get order from nested list", "body": "<p>i try to get the order of a nested list that can be ordered with <a href=\"https://github.com/SortableJS/Sortable\" rel=\"nofollow noreferrer\">SortableJS</a>.\nMy list looks like this:</p>\n\n<pre><code>&lt;div id=\"nestedDemo\" class=\"list-group col nested-sortable\"&gt;\n    &lt;div class=\"list-group-item\" data-id=\"1\"&gt;Titel 1&lt;/div&gt;\n    &lt;div class=\"list-group-item\" data-id=\"2\"&gt;Titel 2&lt;/div&gt;\n    &lt;div class=\"list-group-item\" data-id=\"3\"&gt;Titel3\n        &lt;div class=\"list-group nested-sortable\"&gt;\n            &lt;div class=\"list-group-item\" data-id=\"4\"&gt;Titel 4&lt;/div&gt;\n            &lt;div class=\"list-group-item\" data-id=\"5\"&gt;Titel 5&lt;/div&gt;\n            &lt;div class=\"list-group-item\" data-id=\"6\"&gt;Titel 6&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n    &lt;div class=\"list-group-item\" data-id=\"7\"&gt;Titel 7&lt;/div&gt;\n    &lt;div class=\"list-group-item\" data-id=\"8\"&gt;Titel 8&lt;/div&gt;\n    &lt;div class=\"list-group-item\" data-id=\"9\"&gt;Titel 9&lt;/div&gt;\n    &lt;div class=\"list-group-item\" data-id=\"10\"&gt;Titel10\n        &lt;div class=\"list-group nested-sortable\"&gt;\n            &lt;div class=\"list-group-item\" data-id=\"11\"&gt;Titel 11&lt;/div&gt;\n            &lt;div class=\"list-group-item\" data-id=\"12\"&gt;Titel 12&lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>and my javascript code:</p>\n\n<pre><code>&lt;script&gt;\n    $(document).ready(function() {\n        var nestedSortables = $(\".nested-sortable\");\n\n        // Loop through each nested sortable element\n        for (var i = 0; i &lt; nestedSortables.length; i++) {\n            new Sortable(nestedSortables[i], {\n                group: 'nested',\n                animation: 150,\n                fallbackOnBody: true,\n                swapThreshold: 0.65,\n                onSort: function (e) {\n                    var items = e.to.children;\n                    var result = [];\n                    for (var i = 0; i &lt; items.length; i++) {\n                        result.push($(items[i]).data('id'));\n                    }\n\n                    $('#standard_order').val(result);\n                }\n            });\n        }\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>My aim is to get the order by every change of the list and store the order in an input field with the id <code>standard_order</code>. I do this because i have an submit button to store the order in a database.\nMy problem is when i change the order not the complete list is stored in my input field but rather only the sublist in that i dropped the current element.</p>\n\n<p>I have try to use one list but than the nested list not work..</p>\n\n<p>Can you help me to handle my problem?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I think i have a general solution.</p>\n\n<pre><code>var nestedSortables = [].slice.call(document.querySelectorAll('.nested-sortable'));\n\n        var sortables = [];\n\n        // Loop through each nested sortable element\n        for (var i = 0; i &lt; nestedSortables.length; i++) {\n            sortables[i] = new Sortable(nestedSortables[i], {\n                group: 'nested',\n                animation: 150,\n                fallbackOnBody: true,\n                swapThreshold: 0.65\n            });\n        }\n\n        $('#sendButton').click(function () {\n            for(var y = 0; y &lt; sortables.length; y++) {\n                var order = sortables[y].toArray();\n                console.log(order);\n            }\n        });\n</code></pre>\n\n<p>This give me the order of every <code>div</code> with the class <code>nested-sortable</code> when i click the button with the id <code>sendButton</code>.\nFor example the console output looks like this:</p>\n\n<pre><code>(7)\u00a0[\"Titel 1\", \"Titel 2\", \"Titel 3\", \"Titel 7\", \"Titel 8\", \"Titel 8\", \"Titel 10\"]\n(3)\u00a0[\"Titel 4\", \"Titel 5\", \"Titel 6\"]\n(2)\u00a0[\"Titel 11\", \"Titel 12\"]\n</code></pre>\n\n<p>But i don't know how can i get the the hierarchical nested structure... I can not see what the parent of the div is.</p>\n"}, {"tags": ["javascript", "php", "html", "wordpress"], "answers": [{"tags": [], "owner": {"reputation": 53, "user_id": 2851909, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/9hEzb.jpg?s=128&g=1", "display_name": "Declan Conway", "link": "https://stackoverflow.com/users/2851909/declan-conway"}, "is_accepted": false, "score": 0, "last_activity_date": 1560382705, "creation_date": 1560382705, "answer_id": 56571624, "question_id": 56571430, "link": "https://stackoverflow.com/questions/56571430/why-wont-this-html-segment-recognice-my-javascript-function/56571624#56571624", "title": "Why won&#39;t this html segment recognice my javascript function", "body": "<p>The syntax in the line of code from which you're calling the function is correct. </p>\n\n<pre><code>&lt;button id ='simulate' onclick= 'updateChart()' &gt;Simulate&lt;/button&gt;\n</code></pre>\n\n<p>When issues like these arise for me I usually add in some <code>console.log()</code> 's into the code to see what is actually executing.</p>\n\n<p>Firstly, you say that the JS file is being called properly but just to make sure add in a <code>console.log</code> into the JS file and see if it shows in the console window.</p>\n\n<p>Secondly, create a very simple function like..</p>\n\n<pre><code>function myFunction() {\n  console.log(\"Hello\");\n}\n</code></pre>\n\n<p>then call this function in your view like..</p>\n\n<pre><code>&lt;button id ='simulate' onclick= 'myFunction()' &gt;Simulate&lt;/button&gt;\n</code></pre>\n\n<p>If 'Hello' appears in the console window then the issue is with the <code>updateChart()</code> function and not the implementation. </p>\n"}], "owner": {"reputation": 21, "user_id": 7412544, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a3040b2cf2cad7b6e40aaa223769c23e?s=128&d=identicon&r=PG&f=1", "display_name": "Amin Hakem", "link": "https://stackoverflow.com/users/7412544/amin-hakem"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1025, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560382705, "creation_date": 1560380945, "question_id": 56571430, "link": "https://stackoverflow.com/questions/56571430/why-wont-this-html-segment-recognice-my-javascript-function", "title": "Why won&#39;t this html segment recognice my javascript function", "body": "<p>I am rendering a graph with a couple of input fields using a function in WordPress. The js file is definitely available to this section of the html because the graph is rendering. It is included through the enqueue_script function in wp. However, when I try to set the onclick function (updateChart()), I get an error saying my function isn't defined. Been at it for a while... Any ideas?</p>\n\n<p>I have tried importing the script directl into the head above the tags I am trying to call it in.</p>\n\n<pre><code>        ob_start();?&gt;\n\n    &lt;head&gt;\n            &lt;!\u2013\u2013\u00a0All styling should take place below\u00a0\u2013\u2013&gt;\n                &lt;!\u2013\u2013\u00a0First div id must match the first argument of Chart Object in js file\u00a0\u2013\u2013&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n        &lt;div id='chartContainer' style='height: 300px; width: 100%;'&gt;&lt;/div&gt;\n        &lt;input type='number' id='voltage' placeholder='Voltage' step='0.01' /&gt;\n        &lt;input type='number' id='amperage' placeholder='Amperage' step='0.01' /&gt;\n        &lt;button id ='simulate' onclick= 'updateChart()' &gt;Simulate&lt;/button&gt;\n    &lt;/body&gt;\n\n&lt;?php\n        $content = ob_get_clean();\n        echo($content);\n    }\n</code></pre>\n\n<p>The js code should get the input fields and update the chart using them.</p>\n"}, {"tags": ["javascript", "typescript", "rxjs"], "comments": [{"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 8, "creation_date": 1560383700, "post_id": 56571406, "comment_id": 99722093, "body": "No. <a href=\"https://github.com/ReactiveX/rxjs/issues/4772\" rel=\"nofollow noreferrer\">github.com/ReactiveX/rxjs/issues/4772</a>"}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1560384365, "post_id": 56571406, "comment_id": 99722211, "body": "@cartant ah. I see now. That should be answer if you want."}, {"owner": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 1, "creation_date": 1560387018, "post_id": 56571406, "comment_id": 99722625, "body": "Pressed for time. If you could self answer your question, I&#39;d appreciate it. I&#39;ve added a note to my TODO list to improve the deprecation messages. And there&#39;s this issue, too: <a href=\"https://github.com/ReactiveX/rxjs/issues/4776\" rel=\"nofollow noreferrer\">github.com/ReactiveX/rxjs/issues/4776</a>"}, {"owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "reply_to_user": {"reputation": 50474, "user_id": 6680611, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRJqu.png?s=128&g=1", "display_name": "cartant", "link": "https://stackoverflow.com/users/6680611/cartant"}, "edited": false, "score": 0, "creation_date": 1560431299, "post_id": 56571406, "comment_id": 99740227, "body": "@cartant no problem. thanks for all the great work on rxjs."}], "answers": [{"comments": [{"owner": {"reputation": 9889, "user_id": 268742, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/95020479b1970d66e0d5ce522545802b?s=128&d=identicon&r=PG", "display_name": "ntziolis", "link": "https://stackoverflow.com/users/268742/ntziolis"}, "edited": false, "score": 7, "creation_date": 1596519101, "post_id": 61834849, "comment_id": 111828684, "body": "For others finding this when using <code>null</code> as start value the typescript compiler thinks you might be using the overload <code>startWith&lt;T&gt;(scheduler: SchedulerLike)</code> which is why there is a warning."}, {"owner": {"reputation": 539, "user_id": 1102049, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/a6c65526723007d05d54138ad41f0ada?s=128&d=identicon&r=PG", "display_name": "BruneX", "link": "https://stackoverflow.com/users/1102049/brunex"}, "edited": false, "score": 2, "creation_date": 1600798371, "post_id": 61834849, "comment_id": 113200008, "body": "I&#39;ve found that error using startWith(null) should I remove startWith in that case?"}, {"owner": {"reputation": 8174, "user_id": 13112018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11b1f10ce685d50cfb06a45c0905738?s=128&d=identicon&r=PG", "display_name": "satanTime", "link": "https://stackoverflow.com/users/13112018/satantime"}, "edited": false, "score": 1, "creation_date": 1600802818, "post_id": 61834849, "comment_id": 113201886, "body": "No. That\u2019s totally fine."}], "tags": [], "owner": {"reputation": 8174, "user_id": 13112018, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f11b1f10ce685d50cfb06a45c0905738?s=128&d=identicon&r=PG", "display_name": "satanTime", "link": "https://stackoverflow.com/users/13112018/satantime"}, "is_accepted": true, "score": 27, "last_activity_date": 1613298151, "last_edit_date": 1613298151, "creation_date": 1589622451, "answer_id": 61834849, "question_id": 56571406, "link": "https://stackoverflow.com/questions/56571406/is-the-startwith-operator-in-rxjs-really-deprecated/61834849#61834849", "title": "Is the startWith operator in RXJS really deprecated?", "body": "<p>No, it is not.</p>\n<p>Currently there is only one active signature: <a href=\"https://github.com/ReactiveX/rxjs/blob/dfa239d/src/internal/operators/startWith.ts#L22\" rel=\"noreferrer\">startWith(...values)</a></p>\n<p>Apart from this signature, it has several overloads which accept <code>scheduler: SchedulerLike</code> as the latest parameter: <a href=\"https://github.com/ReactiveX/rxjs/blob/dfa239d/src/internal/operators/startWith.ts#L6-L20\" rel=\"noreferrer\">startWith(...values, scheduler)</a> and this functionality has been deprecated.</p>\n<p><strong>If you don't use <code>scheduler</code> with <code>startWith</code> you are fine.</strong></p>\n<p>If you do, then you need rewrite your code using <code>scheduled</code> function like they suggest in the comment beside depreciation annotation: <code>scheduled([[a, b, c], source], scheduler).pipe(concatAll())</code>.</p>\n<hr />\n<p>Highly likely, you are using <code>startWith(null)</code> or <code>startWith(undefined)</code>, they are not deprecated despite the notice, but IDE detects a wrong function signature, which is deprecated, and shows the warning.</p>\n<p>Or, you are using <code>formControl.valueChanges</code> which emits <code>any</code> type, or any other observable stream with <code>any</code>. Because <code>any</code> matches the <code>SchedulerLike</code>, you see the notice.</p>\n<p>Therefore, try to avoid <code>any</code> via adding <code>filter((v): v is number =&gt; typeof === 'number')</code> or any other possible way.</p>\n"}, {"tags": [], "owner": {"reputation": 628, "user_id": 1385425, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1be160cf4015c144d4deb3ff7a691c51?s=128&d=identicon&r=PG", "display_name": "Natan Braslavski", "link": "https://stackoverflow.com/users/1385425/natan-braslavski"}, "is_accepted": false, "score": 0, "last_activity_date": 1606954585, "creation_date": 1606954585, "answer_id": 65118062, "question_id": 56571406, "link": "https://stackoverflow.com/questions/56571406/is-the-startwith-operator-in-rxjs-really-deprecated/65118062#65118062", "title": "Is the startWith operator in RXJS really deprecated?", "body": "<p>I also got a deprecated message when I was trying to <code>startWith(undefined)</code>\nThe reason is it's defaulting to\n<code>export declare function startWith&lt;T&gt;(scheduler: SchedulerLike): MonoTypeOperatorFunction&lt;T&gt;;</code> the deprecated API</p>\n<p>The fix is specifying the return type <code>D</code>(of the undefined):\n<code>export declare function startWith&lt;T, D&gt;(v1: D): OperatorFunction&lt;T, T | D&gt;;</code></p>\n<p>For example let's say I have Interface <code>MyType1</code> and my observable maps it to <code>myType2</code>:\n<code>startWith&lt;MyType1, MyType1&gt;(undefined)</code></p>\n"}, {"tags": [], "owner": {"reputation": 6570, "user_id": 740813, "user_type": "registered", "accept_rate": 29, "profile_image": "https://www.gravatar.com/avatar/3281d2498cd3abc86f9f10a83daac593?s=128&d=identicon&r=PG", "display_name": "Sygmoral", "link": "https://stackoverflow.com/users/740813/sygmoral"}, "is_accepted": false, "score": 2, "last_activity_date": 1610022723, "last_edit_date": 1610022723, "creation_date": 1608220244, "answer_id": 65343986, "question_id": 56571406, "link": "https://stackoverflow.com/questions/56571406/is-the-startwith-operator-in-rxjs-really-deprecated/65343986#65343986", "title": "Is the startWith operator in RXJS really deprecated?", "body": "<p>One way to avoid the deprecation notice is by typecasting whatever you're passing into <code>startWith</code>. For example <code>startwith(x as boolean)</code> in the OP's example.</p>\n<p>This way, you're reassuring your IDE that you're not using a deprecated signature.</p>\n"}, {"tags": [], "owner": {"reputation": 453, "user_id": 1323473, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/myXAl.png?s=128&g=1", "display_name": "Anh-Thi DINH", "link": "https://stackoverflow.com/users/1323473/anh-thi-dinh"}, "is_accepted": false, "score": 0, "last_activity_date": 1617722445, "creation_date": 1617722445, "answer_id": 66971544, "question_id": 56571406, "link": "https://stackoverflow.com/questions/56571406/is-the-startwith-operator-in-rxjs-really-deprecated/66971544#66971544", "title": "Is the startWith operator in RXJS really deprecated?", "body": "<p>For ones who see the deprecated warning in VSCode when you are using <code>startWith(null)</code>, just replace it with <code>startWith(&lt;string&gt;null)</code> in order to resolve the warning message.</p>\n<p>More information is <a href=\"https://github.com/ReactiveX/rxjs/issues/4772\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}], "owner": {"reputation": 42740, "user_id": 1031569, "user_type": "registered", "accept_rate": 85, "profile_image": "https://i.stack.imgur.com/MTZr2.png?s=128&g=1", "display_name": "Reactgular", "link": "https://stackoverflow.com/users/1031569/reactgular"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12090, "favorite_count": 1, "accepted_answer_id": 61834849, "answer_count": 4, "score": 28, "last_activity_date": 1617722445, "creation_date": 1560380762, "last_edit_date": 1560380984, "question_id": 56571406, "link": "https://stackoverflow.com/questions/56571406/is-the-startwith-operator-in-rxjs-really-deprecated", "title": "Is the startWith operator in RXJS really deprecated?", "body": "<p>Since updating to RXJS version 6 my WebStorm editor has been complaining on <em>some</em> usages of <a href=\"https://www.learnrxjs.io/operators/combination/startwith.html\" rel=\"noreferrer\">startWith()</a> that the operator is marked as <em>deprecated</em>.</p>\n\n<p>You can see in the source code that the methods are marked deprecated:</p>\n\n<ul>\n<li><a href=\"https://github.com/ReactiveX/rxjs/blame/master/src/internal/operators/startWith.ts#L7\" rel=\"noreferrer\">Link to master</a> (<a href=\"https://github.com/ReactiveX/rxjs/blame/b24d3ea85d33b893e4c020fb4fa9f6fa4d05dc0b/src/internal/operators/startWith.ts#L7\" rel=\"noreferrer\">Harder link for future</a>)</li>\n</ul>\n\n<p>The problem for me is that the deprecated warning is not consistent. Sometimes it reports the method deprecated and other times it does not. While I can reproduce the warning in the below code examples. It seems to happen in my own source code randomly.</p>\n\n<p>Not deprecated:</p>\n\n<pre><code>  of(false).pipe(startWith(true));\n</code></pre>\n\n<p>Is marked deprecated:</p>\n\n<pre><code>  const x: any = true;\n  of(false).pipe(startWith(x));\n</code></pre>\n\n<p>So I am worried about these deprecated warnings. The deprecation message says to use <code>scheduled()</code> and <code>concat()</code> operators instead, but that feels like a more complicate alternative to an already handy operator like <code>startWith()</code>.</p>\n\n<p>So I'm kind of confused as to why it's deprecated, but also why it's only deprecated sometimes.</p>\n"}, {"tags": ["javascript", "angular", "architecture"], "answers": [{"comments": [{"owner": {"reputation": 186, "user_id": 546407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JdyB.jpg?s=128&g=1", "display_name": "Lyczos", "link": "https://stackoverflow.com/users/546407/lyczos"}, "edited": false, "score": 0, "creation_date": 1560387008, "post_id": 56571815, "comment_id": 99722621, "body": "Actually, you are right. Maybe it will be better to get a few steps back and include the second app into the main app, I already using lazy loading but I considering to use also this concept: <a href=\"https://www.youtube.com/watch?v=nX_HhiqmFAI\" rel=\"nofollow noreferrer\">youtube.com/watch?v=nX_HhiqmFAI</a>"}, {"owner": {"reputation": 441, "user_id": 10783165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wetfn.jpg?s=128&g=1", "display_name": "Tony M", "link": "https://stackoverflow.com/users/10783165/tony-m"}, "reply_to_user": {"reputation": 186, "user_id": 546407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JdyB.jpg?s=128&g=1", "display_name": "Lyczos", "link": "https://stackoverflow.com/users/546407/lyczos"}, "edited": false, "score": 1, "creation_date": 1560387263, "post_id": 56571815, "comment_id": 99722670, "body": "@Lyczos Best of luck with everything! And yeah I mean every project is different, but in a lot of cases you can help yourself out the most by simplifying a lot of things. That video seems cool I&#39;ll have to watch it later, thanks!"}], "tags": [], "owner": {"reputation": 441, "user_id": 10783165, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Wetfn.jpg?s=128&g=1", "display_name": "Tony M", "link": "https://stackoverflow.com/users/10783165/tony-m"}, "is_accepted": false, "score": 1, "last_activity_date": 1560384588, "creation_date": 1560384588, "answer_id": 56571815, "question_id": 56571391, "link": "https://stackoverflow.com/questions/56571391/inetgrate-and-communicate-multiple-angular-applications-on-same-page-spa/56571815#56571815", "title": "Inetgrate and Communicate multiple Angular applications on same page (SPA)", "body": "<p>It sounds like you have a really fun problem to solve. There are a number of different ways to go about this, and I'm not sure how your website architecture is setup and what constraint's you have, but I can at least provide some suggestions.</p>\n\n<h3>Possible Solutions</h3>\n\n<ol>\n<li>Look into separating separate functionality into lazy loaded Angular modules, and treat them as separate websites altogether.</li>\n</ol>\n\n<p>I've done this for a few applications and it gives you some of the flexibility you're looking for. For this to work with your application communication constraints, there are a number of different ways to approach it.</p>\n\n<p>If you can get away with a single application, then you're going to want to look into state management solutions like <a href=\"https://www.ngsx.org/\" rel=\"nofollow noreferrer\">NgXS</a>, <a href=\"https://ngrx.io/\" rel=\"nofollow noreferrer\">NgRX</a>, <a href=\"https://netbasal.gitbook.io/akita/\" rel=\"nofollow noreferrer\">Akita</a>, or <a href=\"https://dev.to/avatsaev/simple-state-management-in-angular-with-only-services-and-rxjs-41p8\" rel=\"nofollow noreferrer\">roll your own statemanagement</a>. I personally roll my own for these things because I rarely need to overhead of the bigger frameworkss, but to each their own.</p>\n\n<p>If you can't get away with a single application, then you're going to want to separate your state into something like FireBase, or a custom websocket app. This would give you better persistence of state, and also allow you to connect completely independent web applications to one another.</p>\n\n<ol start=\"2\">\n<li>Another promising solution to things like this is the tool <a href=\"https://single-spa.js.org/\" rel=\"nofollow noreferrer\">SingleSpa</a>.</li>\n</ol>\n\n<p>Single spa is a meta web framework that can help navigate and orchestrate multiple SPA's written in different libraries/frameworks into a single application. This would allow you to re-use the existing website that you're using the <code>&lt;iframe&gt;</code> for, but have it bundled within the same parent application. I'm not too familiar with this framework in practice, but I have some coworkers and peers who use it, and it seems promising.</p>\n\n<ol start=\"3\">\n<li>Take a step back and identify the core problem you're trying to solve</li>\n</ol>\n\n<p>This one isn't trying to troll or anything, just helping to take a step back and look over your application from a 10,000 foot overview. Look over how the data is being passed in the solution, are you solving the problem directly? Or is this solution a hack to make due with the constraints that you had at the beginning. Don't be afraid to rebuild parts of the application, or service. Theres a reason people talk about the <a href=\"https://www.ybrikman.com/writing/2018/08/12/the-10-to-1-rule-of-writing-and-programming/\" rel=\"nofollow noreferrer\">10 to 1 rule of writing code</a>. </p>\n\n<p>I understand time and complexity constraints, you have deadlines and other things to deal with. Just make sure you're solving the right problem and thinking about the different edge cases you can leverage to your advantage. </p>\n\n<hr>\n\n<p>I recognize after writing this out that its not a direct <code>answer</code> per say, but I hope it helped. Message me if you have any questions on this stuff.</p>\n"}], "owner": {"reputation": 186, "user_id": 546407, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3JdyB.jpg?s=128&g=1", "display_name": "Lyczos", "link": "https://stackoverflow.com/users/546407/lyczos"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 607, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560390325, "creation_date": 1560380669, "last_edit_date": 1560390325, "question_id": 56571391, "link": "https://stackoverflow.com/questions/56571391/inetgrate-and-communicate-multiple-angular-applications-on-same-page-spa", "title": "Inetgrate and Communicate multiple Angular applications on same page (SPA)", "body": "<p>I just start thinking about communication between two angular (or others framework) applications - what is the best way to do that.  </p>\n\n<p>For now, in my application, I used <code>iframe</code> to include the second app and then thanks to <code>postMessage</code> (<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage\" rel=\"nofollow noreferrer\">docs</a>) I can handle actions between apps.</p>\n\n<p>But this solution is getting <strong>really hard</strong> to maintain because I didn't expect at the begging that I will have to handle soo much type of events.</p>\n\n<p><strong>Let's give you an example:</strong>\nOn Facebook when you go to someone profile you can click \"Send message\" and it will open a new window on chat application. In other way you can also click on some button in their chat and it will send some action to \"main\" application.</p>\n\n<p><img src=\"https://i.ibb.co/km43d62/On-Paste-20190612-155034.png\" alt=\"facebook open chat screenshot\"></p>\n\n<p>I just read few articles and start thinking about using <code>WebSockets</code>, using firebase etc but I want to make some more research and ask more expired developers (yes, you! :) ) what they thinking.</p>\n\n<p>So, my question is:</p>\n\n<ol>\n<li>What is the best approach to include two (or more) angular apps?</li>\n<li>What is the best approach to handle communication between these apps?</li>\n</ol>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 19939, "user_id": 325727, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e098b1ade159310d7a4d6405eebd930a?s=128&d=identicon&r=PG&f=1", "display_name": "JK.", "link": "https://stackoverflow.com/users/325727/jk"}, "edited": false, "score": 0, "creation_date": 1560390407, "post_id": 56571386, "comment_id": 99723169, "body": "Your code is very far from being usable and doesn&#39;t make any sense whatseover.  You&#39;ve read a file but then not even used the file&#39;s content.  You&#39;ve declared a number and then written it with JSON.stringify.  It&#39;s not JSON, it&#39;s a number.  Start out with code that is more basic and fits your skill level better."}, {"owner": {"reputation": 807, "user_id": 6158463, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/de265c4e1414331e01ab28eefdc9ed87?s=128&d=identicon&r=PG&f=1", "display_name": "nikotromus", "link": "https://stackoverflow.com/users/6158463/nikotromus"}, "reply_to_user": {"reputation": 19939, "user_id": 325727, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/e098b1ade159310d7a4d6405eebd930a?s=128&d=identicon&r=PG&f=1", "display_name": "JK.", "link": "https://stackoverflow.com/users/325727/jk"}, "edited": false, "score": 1, "creation_date": 1560390941, "post_id": 56571386, "comment_id": 99723256, "body": "I&#39;m just doing a proof of concept.  Lighten up."}, {"owner": {"reputation": 23519, "user_id": 1177814, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/4Kl3d.jpg?s=128&g=1", "display_name": "Dipen Shah", "link": "https://stackoverflow.com/users/1177814/dipen-shah"}, "edited": false, "score": 0, "creation_date": 1561307478, "post_id": 56571386, "comment_id": 100011641, "body": "@nikotromus Why don&#39;t you write value inside an html element with some specific id and query it afterwards. ie <code>resp.write(`&lt;p id=&quot;myData&quot;&gt;${sum}&lt;&#47;p&gt;`);</code> and then just query element with with <code>#myData</code>."}], "answers": [{"comments": [{"owner": {"reputation": 807, "user_id": 6158463, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/de265c4e1414331e01ab28eefdc9ed87?s=128&d=identicon&r=PG&f=1", "display_name": "nikotromus", "link": "https://stackoverflow.com/users/6158463/nikotromus"}, "edited": false, "score": 0, "creation_date": 1560381656, "post_id": 56571478, "comment_id": 99721760, "body": "I&#39;ve get the following:  TypeError: data.replace is not a function"}, {"owner": {"reputation": 28, "user_id": 11639049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jd4hx.jpg?s=128&g=1", "display_name": "draven", "link": "https://stackoverflow.com/users/11639049/draven"}, "reply_to_user": {"reputation": 807, "user_id": 6158463, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/de265c4e1414331e01ab28eefdc9ed87?s=128&d=identicon&r=PG&f=1", "display_name": "nikotromus", "link": "https://stackoverflow.com/users/6158463/nikotromus"}, "edited": false, "score": 0, "creation_date": 1560382307, "post_id": 56571478, "comment_id": 99721876, "body": "What does <code>typeof(data)</code> return?"}, {"owner": {"reputation": 807, "user_id": 6158463, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/de265c4e1414331e01ab28eefdc9ed87?s=128&d=identicon&r=PG&f=1", "display_name": "nikotromus", "link": "https://stackoverflow.com/users/6158463/nikotromus"}, "edited": false, "score": 0, "creation_date": 1560388029, "post_id": 56571478, "comment_id": 99722793, "body": "console.log(typeof(data));     -&gt; object"}, {"owner": {"reputation": 28, "user_id": 11639049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jd4hx.jpg?s=128&g=1", "display_name": "draven", "link": "https://stackoverflow.com/users/11639049/draven"}, "reply_to_user": {"reputation": 807, "user_id": 6158463, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/de265c4e1414331e01ab28eefdc9ed87?s=128&d=identicon&r=PG&f=1", "display_name": "nikotromus", "link": "https://stackoverflow.com/users/6158463/nikotromus"}, "edited": false, "score": 0, "creation_date": 1560406730, "post_id": 56571478, "comment_id": 99726838, "body": "Try casting <code>data</code> to a string before doing the replacement."}, {"owner": {"reputation": 18926, "user_id": 3297291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2d0d7237254b7a62c94e8e97cf1e0e29?s=128&d=identicon&r=PG&f=1", "display_name": "user3297291", "link": "https://stackoverflow.com/users/3297291/user3297291"}, "edited": false, "score": 0, "creation_date": 1561118728, "post_id": 56571478, "comment_id": 99969491, "body": "<a href=\"https://stackoverflow.com/a/6457004/3297291\">When no encoding is specified, <code>readFile</code> returns a buffer rather than a string</a>. This solution should work, if you include an argument for the HTML file&#39;s encoding."}], "tags": [], "owner": {"reputation": 28, "user_id": 11639049, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jd4hx.jpg?s=128&g=1", "display_name": "draven", "link": "https://stackoverflow.com/users/11639049/draven"}, "is_accepted": false, "score": -2, "last_activity_date": 1560381405, "creation_date": 1560381405, "answer_id": 56571478, "question_id": 56571386, "link": "https://stackoverflow.com/questions/56571386/how-to-consume-data-from-response-write/56571478#56571478", "title": "how to consume data from response.write", "body": "<p>Instead of writing the number at the top of the page, you can write placeholders that will be replaced with your data. For example, you could use <code>{{sum}}</code> as a placeholder and replace <code>{{sum}}</code> with your sum:</p>\n\n<pre><code>fs.readFile('./calc.html', function(error, data){\n   if(error){\n       //do nothing for now              \n   } else if (data){\n       resp.writeHead(200, {'Content-Type':'text/html'});\n       var sum = 9;\n       resp.end(data.replace(\"{{sum}}\", sum);\n   }\n});\n</code></pre>\n\n<p>and in your html..</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script type=\"text/javascript\"&gt;\n    var number = 0;\n    function fetchData() {\n        number = {{sum}};\n    }\n    window.onload = fetchData;        \n&lt;/script&gt;\n</code></pre>\n\n<p>If you are planning to include more logic from the serverside into your webpage, I would recommend you look into a template engine such as <a href=\"https://ejs.co/\" rel=\"nofollow noreferrer\">EJS</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 5617, "user_id": 4992594, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/nU16L.png?s=128&g=1", "display_name": "Titulum", "link": "https://stackoverflow.com/users/4992594/titulum"}, "edited": false, "score": 0, "creation_date": 1561384996, "post_id": 56711219, "comment_id": 100035226, "body": "This is the answer that the OP is looking for, but it is indeed pretty bad practice. What OP is looking for is a <a href=\"https://www.developerdrive.com/best-javascript-templating-engines/\" rel=\"nofollow noreferrer\">templating language in JS</a>."}], "tags": [], "owner": {"reputation": 251, "user_id": 11661484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c45dffe46136f885ff286640c81d3acb?s=128&d=identicon&r=PG&f=1", "display_name": "Miltios", "link": "https://stackoverflow.com/users/11661484/miltios"}, "is_accepted": true, "score": 4, "last_activity_date": 1561157381, "creation_date": 1561157381, "answer_id": 56711219, "question_id": 56571386, "link": "https://stackoverflow.com/questions/56571386/how-to-consume-data-from-response-write/56711219#56711219", "title": "how to consume data from response.write", "body": "<p>What you're writing here gets received as an HTML page (in this case), which is why it just displays the number \"9\" in the browser.  If you package it inside a <code>&lt;script&gt;</code> tag it will be available as JS:</p>\n\n<pre><code>resp.writeHead(200, {'Content-Type':'text/html'});\nvar sum = 9;\nresp.write('&lt;script type=\"text/javascript\"&gt;var mySumVar = ' + sum + ';&lt;/script&gt;');\nreturn resp.end(data); //the \"return\" doesn't change anything,\n                       //but it's good practice to make sure the function ends here\n</code></pre>\n\n<p>...And you can then access <code>mySumVar</code> from your other clientside scripts.  Note that this will go in the global scope, which makes it easier to access but also bad practice.  You may want to package it inside some other object to avoid polluting the scope.</p>\n"}], "owner": {"reputation": 807, "user_id": 6158463, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/de265c4e1414331e01ab28eefdc9ed87?s=128&d=identicon&r=PG&f=1", "display_name": "nikotromus", "link": "https://stackoverflow.com/users/6158463/nikotromus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 346, "favorite_count": 0, "accepted_answer_id": 56711219, "answer_count": 2, "score": 2, "last_activity_date": 1561385075, "creation_date": 1560380634, "last_edit_date": 1560396334, "question_id": 56571386, "link": "https://stackoverflow.com/questions/56571386/how-to-consume-data-from-response-write", "title": "how to consume data from response.write", "body": "<p>I am opening an html page with the code below.  I am also sending is data to that page with the response.write() function:</p>\n\n<pre><code>fs.readFile('./calc.html', function(error, data){\n   if(error){\n       //do nothing for now              \n   } else if (data){\n       resp.writeHead(200, {'Content-Type':'text/html'});\n       var sum = 9;\n       resp.write(sum);\n       resp.end(data);\n   }\n});        \n</code></pre>\n\n<p>How do I consume the value from 'sum' in calc.html when the page opens?  In the script tag in the , I'm utilizing the Window.onload method to perform an action when the page loads.  The number 9 appears in the top left hand corner of the web page when it loads, so I konw it's there, I just dont know how to consume it and use it.</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n    var htmlSum = 0;\n    function fetchData() {\n        htmlSum = //How to I scrape the 'sum' variable sent into the page?????\n    }\n    window.onload = fetchData;        \n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "php", "json"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560383957, "post_id": 56571307, "comment_id": 99722147, "body": "Where do the image URLs come from if not from the JSON?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560384026, "post_id": 56571307, "comment_id": 99722159, "body": "BTW, I think you&#39;ll find working with arrays easier if you use <code>foreach</code> instead of <code>for</code>. You won&#39;t have to keep repeating <code>$obj[&#39;cartelera&#39;][$i]</code>."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560384203, "post_id": 56571307, "comment_id": 99722191, "body": "<code>case ($obj[&#39;cartelera&#39;][$i][&#39;serie_clave&#39;] == &#39;182&#39;)</code> should be <code>case &#39;182&#39;:</code>. You already specified the variable to compare with in the <code>switch()</code> statement, the <code>case</code> should only contain the value."}, {"owner": {"reputation": 1, "user_id": 11639365, "user_type": "registered", "profile_image": "https://graph.facebook.com/2758890310794622/picture?type=large", "display_name": "Cluvera", "link": "https://stackoverflow.com/users/11639365/cluvera"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560452133, "post_id": 56571307, "comment_id": 99751800, "body": "That&#39;s the thing, i have no access to the json file, it doesn&#39;t have images sources, i have to write the image src &quot;by hand&quot; in each case. And i don&#39;t know the syntax to do that. Thank you so much for your advise."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1560452225, "post_id": 56571307, "comment_id": 99751846, "body": "It&#39;s still not clear. Where are the image files, is there some way to determine which image to display depending on the information that&#39;s in the JSON?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1560452284, "post_id": 56571307, "comment_id": 99751875, "body": "What do you mean by &quot;write the image src by hand&quot;? Are you talking about a <code>data:</code> URL where the image data is in base64 format, instead of getting the image from a file on the server?"}], "owner": {"reputation": 1, "user_id": 11639365, "user_type": "registered", "profile_image": "https://graph.facebook.com/2758890310794622/picture?type=large", "display_name": "Cluvera", "link": "https://stackoverflow.com/users/11639365/cluvera"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560452223, "creation_date": 1560379964, "last_edit_date": 1560452223, "question_id": 56571307, "link": "https://stackoverflow.com/questions/56571307/how-do-i-include-and-declare-an-image-source-variable", "title": "How do i include and declare an image source variable", "body": "<p>I'm trying to switch some \"key numbers\" provided by a json string, to some specific words, it's working by now, but i also need to print a different image for each case. How do i include a variable that prints an image source (not provided by the json string) or is there any other way to print (echo) a different image for each \"key number\"?  </p>\n\n<p><strong>I have no access to the json file, it doesn't have images sources, i have to write the image src \"by hand\" in each case. And i don't know the syntax to do that.</strong></p>\n\n<pre><code>&lt;?PHP\n$date = date(\"Y-m-d\");\n$json = file_get_contents('http://example.20.22.8/cartelera/M');\n$obj = json_decode($json, TRUE);\n$dias = array(\"Domingo\",\"Lunes\",\"Martes\",\"Mi\u00e9rcoles\",\"Jueves\",\"Viernes\",\"S\u00e1bado\");\n$img =\n    $sesiondia = date('w', strtotime($date));\n//var_dump($obj-&gt;cartelera);\nfor($i=0; $i&lt;count($obj['cartelera']); $i++) {\n    switch($obj['cartelera'][$i]['serie_clave'])\n    {   \n    case ($obj['cartelera'][$i]['serie_clave'] == '182') :\n        $obj['cartelera'][$i]['serie_clave'] = 'Contrase\u00f1a verde';\n        break;\n\n    case ($obj['cartelera'][$i]['serie_clave'] == '183') :\n        $obj['cartelera'][$i]['serie_clave'] = 'La tierra vista por Alban';\n        break;\n    }\n\n    if ($obj['cartelera'][$i]['barra_clave'] == '13')\n    {\n        if ($date == substr($obj['cartelera'][$i]['fecha'], 0, 10 ))\n        {\n            if($obj['cartelera'][$i]['hora_inicio'] &lt; '12:00')\n            {\n                if ($dias[$sesiondia] == 'Domingo' &amp;&amp; $obj['cartelera'][$i]['hora_inicio'] == '07:00')\n                {\n                    echo \"&lt;li&gt;&lt;span class='hora'&gt;\".$obj['cartelera'][$i]['hora_inicio'].\"&lt;/span&gt;\".$obj['cartelera'][$i]['titulo'].\"&lt;/li&gt;\";\n                }\n                else\n                {\n                    echo \"&lt;li&gt;&lt;span class='hora'&gt;\".$obj['cartelera'][$i]['hora_inicio'].\"&lt;/span&gt;\".$obj['cartelera'][$i]['serie_clave'].\"&lt;/li&gt;\";\n                }\n            }\n        }\n        else {}\n    }\n    else {}\n}\n?&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>By now my code looks like this, but i need to add an image for each line\n<a href=\"https://i.stack.imgur.com/0txmx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0txmx.png\" alt=\"\"></a></p>\n"}, {"tags": ["javascript", "asynchronous"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1560380142, "post_id": 56571269, "comment_id": 99721454, "body": "Reopened as the OP seems to be aware of asynchrony, he is just unable to work with multiple promises."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 2, "creation_date": 1560380387, "post_id": 56571269, "comment_id": 99721505, "body": "<code>readdir</code> is asynchronous, therefore it&#39;s callback will be called AFTER you <code>resolve(postArray)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1560380561, "creation_date": 1560380561, "answer_id": 56571375, "question_id": 56571269, "link": "https://stackoverflow.com/questions/56571269/cant-get-array-from-a-nested-promise-functions/56571375#56571375", "title": "Can&#39;t get array from a nested promise functions", "body": "<p>Promise were invented to tackle the so called callback hell: Multiple asynchronous callbacks firing at different times, making it hard to keep things in order. While you tried to utilize promises you ised them at the wrong level: You still have various asynchronous things going on <em>inside</em> the promise, and that makes things complicated (and they go wrong). Instead, try to wrap the smallest asynchronous tasks into promises, in your case that would be (1) reading a folder, (2) getFiles (which you already did):</p>\n\n<pre><code>  function readFiles(path) {\n    return new Promise((resolve, reject) =&gt; {\n     fs.readdir(path, (err, files) =&gt; {\n       if(err) reject(err) else resolve(files);\n     });\n   });\n }\n</code></pre>\n\n<p>Now getPosts can be written as a chain of promising tasks, and you can use <code>Promise.all</code> to turn an array of promises into one promise:</p>\n\n<pre><code>  function getPosts(accountFilePath) {\n    return readFiles(accountFilePath).then(posts =&gt; { // \u00b9\n     return Promise.all(posts.map(postId =&gt; { // \u00b2\n       var postFilePath = accountFilePath + '/' + postId;\n       return getFiles(postId, postFilePath); // \u00b3\n    }));\n   });      \n  }\n</code></pre>\n\n<p>\u00b9: First the files are read, and <em>then</em> the next task is done. If you return a Promise from a .then callback (like in this case) that promise will also be chained.</p>\n\n<p>\u00b2: Every post can then be mapped to a Promise (\u00b3) that resolves to the desired result, by using <code>Promise.all</code> on that the promise chain results in an array of results.</p>\n\n<hr>\n\n<p>The newer <code>async</code> / <code>await</code> syntax makes that way easier (although the logic stays exactly the same):</p>\n\n<pre><code> async function getPosts(accountFilePath) {\n  const posts = await readFiles(accountFilePath);\n  const result = await Promise.all(posts.map(postId =&gt; {\n    const postFilePath = accountFilePath + '/' + postId;\n    return getFiles(postId, postFilePath);\n  }));\n  return result;\n}    \n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 2748447, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/OmcBr.jpg?s=128&g=1", "display_name": "Michael Harding", "link": "https://stackoverflow.com/users/2748447/michael-harding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560380561, "creation_date": 1560379567, "question_id": 56571269, "link": "https://stackoverflow.com/questions/56571269/cant-get-array-from-a-nested-promise-functions", "title": "Can&#39;t get array from a nested promise functions", "body": "<p>Trying to return a list of disk folder, then for each folder get the files in it. I want the result set to be a single array of objects.  The final output from the function call to getPosts() is a promise with an empty array. </p>\n\n<pre><code>Promise { [] }\n</code></pre>\n\n<pre><code>  var accountId = req.body.accountId;\n\n  var accountFilePath = 'accountFiles/' + accountId;\n\n  function getPosts(accountFilePath) {\n    return new Promise((resolve, reject) =&gt; {\n      let postArray = [];\n      fs.readdir(accountFilePath, (err, posts) =&gt; {\n        for (let i = 0; i &lt; posts.length; i++) {\n          var postId = posts[i];\n          var postFilePath = accountFilePath + '/' + postId;\n          var postObject = getFiles(postId, postFilePath)\n          postObject.then((response) =&gt; {\n            postArray.push(response)\n          })\n        }\n      });\n      resolve(postArray)\n    })\n  }\n\n  function getFiles(postId, postFilePath) {\n    return new Promise((resolve, reject) =&gt; {\n      fs.readdir(postFilePath, function (err, files) {\n        postObject = {\n          [postId]: files\n        }\n        resolve(postObject)\n      });\n    })\n  }\n\n  var fullPostArray = getPosts(accountFilePath)\n  console.log(fullPostArray);\n\n</code></pre>\n\n<p>Desired Result:</p>\n\n<pre><code>[\n  {\n    'folder1': [\n      'DSC0366.jpg',\n      'DSC8874.jpg',\n      'DSC8878.jpg',\n      'DSC8951.jpg'\n    ]\n  },\n  {\n    folder2: [\n      'nikki.jpg',\n      'richard.jpg',\n      'billy.jpg'\n    ]\n  }\n]\n</code></pre>\n"}, {"tags": ["javascript", "json", "fetch"], "answers": [{"tags": [], "owner": {"reputation": 415, "user_id": 7568271, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/531faeac7fa42bbb2d488dbd548c25dc?s=128&d=identicon&r=PG&f=1", "display_name": "macphilips", "link": "https://stackoverflow.com/users/7568271/macphilips"}, "is_accepted": false, "score": 0, "last_activity_date": 1560384599, "last_edit_date": 1560384599, "creation_date": 1560383870, "answer_id": 56571740, "question_id": 56571268, "link": "https://stackoverflow.com/questions/56571268/create-a-simulated-javascript-response-from-json-data/56571740#56571740", "title": "Create a simulated JavaScript Response from JSON data", "body": "<pre><code>  function fetchPlus() {\n    ...\n\n    let promise;\n    if (fetchCacheGet === null) { // The data is not cached\n      promise = fetch(...arguments)\n        .then(data =&gt; {\n          return data.json()\n            .then(content =&gt; {\n              // read the response and cache\n              fetchCache.setCache(content);\n              const init = {\n                'status': 200,\n                'statusText': 'SuperSmashingGreat!'\n              };\n              return new Response(JSON.stringify(content), init); &lt;-- recreate the response and it.\n            });\n        }); // Store the result in the cache\n    } else {\n      let dataHeaders = {\n        'status': 200,\n        'statusText': 'SuperSmashingGreat!'\n      };\n      promise = new Response(JSON.stringify(fetchCacheGet), dataHeaders); // Programatically create a Response\n    }\n\n    return promise;\n  }\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 2550, "user_id": 3624336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc9366ca85d42ef14145d5b386969ad5?s=128&d=identicon&r=PG", "display_name": "chriskirknielsen", "link": "https://stackoverflow.com/users/3624336/chriskirknielsen"}, "edited": false, "score": 0, "creation_date": 1560437592, "post_id": 56571784, "comment_id": 99744458, "body": "Thanks @AuxTaco, that makes a lot more sense. I got it to work with some tweaks (had to wrap the <code>Response</code> in a <code>Promise</code>), and indeed, no need to parse JSON to stringify right after. :) 25ms is a bit short, so I bumped it up to 1000 \u2014 I make a lot of requests with the database so the results can differ in a short amount of time. Thank you for your help!"}], "tags": [], "owner": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "is_accepted": true, "score": 2, "last_activity_date": 1560384744, "last_edit_date": 1560384744, "creation_date": 1560384264, "answer_id": 56571784, "question_id": 56571268, "link": "https://stackoverflow.com/questions/56571268/create-a-simulated-javascript-response-from-json-data/56571784#56571784", "title": "Create a simulated JavaScript Response from JSON data", "body": "<p><sup>I assume <code>data.close.json().then</code> is a typo of <code>data.clone().json().then</code>.</sup></p>\n\n<p><code>new Response()</code> expects (among other options) a string, but you're passing it an object. The response body ends up being set to <code>\"[object Object]\"</code>, which <code>.json()</code> chokes on.</p>\n\n<p>You can patch the problem by stringifying your object before passing it to the Response constructor, but a better solution would be to work with strings for as long as possible. Your Response bodies are strings, and Storage objects store strings, so store the result of <code>response.text()</code> in your cache instead of <code>response.json()</code>.</p>\n\n<p>Also, you're only caching the result for <em>25 milliseconds</em>, so <code>sessionStorage</code>'s advantage of keeping data across page refreshes doesn't seem useful. Just use a plain object as your cache. And <code>dataHeaders</code> should be <code>{ \"status\": 200, headers: { \"Content-Type\": \"application/json\" } }</code>.</p>\n"}], "owner": {"reputation": 2550, "user_id": 3624336, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fc9366ca85d42ef14145d5b386969ad5?s=128&d=identicon&r=PG", "display_name": "chriskirknielsen", "link": "https://stackoverflow.com/users/3624336/chriskirknielsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 987, "favorite_count": 1, "accepted_answer_id": 56571784, "answer_count": 2, "score": 0, "last_activity_date": 1560453172, "creation_date": 1560379551, "last_edit_date": 1560453172, "question_id": 56571268, "link": "https://stackoverflow.com/questions/56571268/create-a-simulated-javascript-response-from-json-data", "title": "Create a simulated JavaScript Response from JSON data", "body": "<p>I have an app that makes a lot of asynchronous <code>fetch</code> calls, some of which are identical.</p>\n\n<p>I have a function that supersets <code>fetch</code> (say <code>fetchPlus</code>), by creating a pseudo-unique identifier per request based on the arguments. That way, I can store the result in <code>sessionStorage</code> and access it.</p>\n\n<pre><code>function fetchCacheStore(hash) {\n    const storeItem = 'fetch_' + hash;\n    return {\n        getCache: function () {\n            return JSON.parse(sessionStorage.getItem(storeItem));\n        },\n\n        setCache: function (data) {\n            sessionStorage.setItem(storeItem, JSON.stringify(data));\n            setTimeout(function () { sessionStorage.removeItem(storeItem); }, 25); // Clear the cache item shortly after\n        },\n    };\n}\n\nfunction fetchPlus() {\n    const stringHasher = function (s) { // Adapted from https://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript/22429679#comment94234739_7616484\n        for (var i = h = 0; i &lt; s.length; i++) {\n            h = Math.imul(31, h) + s.charCodeAt(i) | 0;\n        }\n        return btoa(h);\n    }\n\n    let thisCallDetails = JSON.stringify(Array.prototype.slice.call(arguments).sort());\n    let fetchCallHash = stringHasher(thisCallDetails);\n    let fetchCache = fetchCacheStore(fetchCallHash);\n    let fetchCacheGet = fetchCache.getCache();\n\n    let promise;\n\n    if (fetchCacheGet === null) { // The data is not cached\n        promise = fetch(...arguments); // Create the fetch call\n        promise.then(data =&gt; {\n            data.close.json().then(content =&gt; {\n                fetchCache.setCache(content);\n            });\n        }); // Store the result in the cache\n    } else {\n        let dataHeaders = { \"status\": 200, \"Content-Type\": \"application/json\" };\n        promise = new Response(fetchCacheGet, dataHeaders); // Programatically create a Response\n    }\n\n    return promise;\n}\n</code></pre>\n\n<p>Everything works well aside from the fact that when the data exists in <code>sessionStorage</code>, I am returning a JSON object directly, and not a <code>Response</code>, so in my code, when I do a call like so:</p>\n\n<pre><code>fetchPlus(url, params)\n    .then(response =&gt; response.json())\n    .then(data =&gt; \u2026)\n</code></pre>\n\n<p>I end up with an error letting me know that I can't run <code>json()</code> on <code>response</code>.</p>\n\n<p>The line <code>promise = new Response(fetchCacheGet, dataHeaders);</code> is probably incorrect, but I am not sure how to \"reverse\" the data into being the data spit out from the original <code>fetch</code> call. Maybe I'm missing something obvious. Or maybe this is all wrong.</p>\n\n<p>I'm open to suggestions but this app is already set up so removing all the <code>.then(response =&gt; response.json())</code> from the codebase is not an option.</p>\n\n<p>Also, I am aware my code isn't the best in class, so do forgive me. Once again, open to suggestions as long as it's constructive.</p>\n\n<p>I'd love help to make this work if anyone has a few minutes to spare.</p>\n\n<h2>UPDATE: Functioning code</h2>\n\n<p>Thanks to <a href=\"https://stackoverflow.com/a/56571784/3624336\">@AuxTaxo's answer</a> below, I've solved my issue. For anyone interested, here is the updated code:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function fetchCacheStore(hash) {\r\nconst storeItem = 'fetch_' + hash;\r\nreturn {\r\n    getCache: function () {\r\n        return sessionStorage.getItem(storeItem);\r\n    },\r\n\r\n    setCache: function (data) {\r\n        sessionStorage.setItem(storeItem, data);\r\n        setTimeout(function () { sessionStorage.removeItem(storeItem); }, 1000); // Clear the cache item after a short while\r\n    },\r\n};\r\n}\r\n\r\nfunction fetchPlus() {\r\nconst stringHasher = function (s) { // Adapted from https://stackoverflow.com/questions/7616461/generate-a-hash-from-string-in-javascript/22429679#comment94234739_7616484\r\n    for (var i = h = 0; i &lt; s.length; i++) {\r\n        h = Math.imul(31, h) + s.charCodeAt(i) | 0;\r\n    }\r\n    return btoa(h);\r\n}\r\n\r\nlet thisCallDetails = JSON.stringify(Array.prototype.slice.call(arguments).sort());\r\nlet fetchCallHash = stringHasher(thisCallDetails);\r\nlet fetchCache = fetchCacheStore(fetchCallHash);\r\nlet fetchCacheGet = fetchCache.getCache();\r\n\r\nlet promise;\r\n\r\nif (fetchCacheGet === null) { // The data is not cached\r\n    promise = fetch(...arguments); // Create the fetch call\r\n    promise.then(data =&gt; {\r\n        data.clone().text().then(content =&gt; {\r\n            fetchCache.setCache(content) // Store the result in the cache\r\n        });\r\n    });\r\n} else {\r\n    let dataHeaders = { \"status\": 200, headers: { \"Content-Type\": \"application/json\" } };\r\n    // Programatically create a Response object, which works as a Promise\r\n    promise = Promise.race([new Response(fetchCacheGet, dataHeaders)]);\r\n}\r\n\r\nreturn promise;\r\n}\r\n\r\n// Used as: `fetchPlus(url, params).then(response =&gt; response.json()).then(data =&gt; { /* \u2026 */ })`*</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 9911061, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aH4AmHJBcpU/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1fGPq7ap_f3e5TZpb_Kv3y6JnYvQ/mo/photo.jpg?sz=128", "display_name": "Yan Mak", "link": "https://stackoverflow.com/users/9911061/yan-mak"}, "edited": false, "score": 0, "creation_date": 1560404719, "post_id": 56571578, "comment_id": 99726149, "body": "still don&#39;t get it :("}], "tags": [], "owner": {"reputation": 36, "user_id": 11611827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1f65fda772790fe933c2f9b001130224?s=128&d=identicon&r=PG&f=1", "display_name": "Graeme", "link": "https://stackoverflow.com/users/11611827/graeme"}, "is_accepted": false, "score": 0, "last_activity_date": 1560382549, "last_edit_date": 1560382549, "creation_date": 1560382197, "answer_id": 56571578, "question_id": 56571233, "link": "https://stackoverflow.com/questions/56571233/carousel-slideshow-with-autoplay-and-control/56571578#56571578", "title": "Carousel Slideshow with autoplay and control", "body": "<p>The selector you are using in the click handler for <code>.next()</code> and <code>.prev()</code> appears too broad.</p>\n\n<p>In general, for such components, it can be advisable to track the current &amp; max slide positions as array indexes, or positions, within your element collection.</p>\n\n<p>Eventually your logic will need to account for the first/last slides &amp; whether there is indeed a next or previous slide available to be shown.</p>\n\n<p>Hopefully this can give you an indication for the approach:</p>\n\n<pre><code>const slides = $(\u201c.slider-inner .item\u201d);\nconst max = slides.length;\nlet current = 0;\n\nslides.eq(current).addClass(\u201cactive\u201d);\n</code></pre>\n\n<p>Around this principle you should be able increment/decrement the <code>current</code> integer and then add/remove your <code>active</code> class to elements as required.</p>\n\n<p>Hope it helps.</p>\n"}], "owner": {"reputation": 123, "user_id": 9911061, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-aH4AmHJBcpU/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq1fGPq7ap_f3e5TZpb_Kv3y6JnYvQ/mo/photo.jpg?sz=128", "display_name": "Yan Mak", "link": "https://stackoverflow.com/users/9911061/yan-mak"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 308, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560391925, "creation_date": 1560379249, "last_edit_date": 1560391925, "question_id": 56571233, "link": "https://stackoverflow.com/questions/56571233/carousel-slideshow-with-autoplay-and-control", "title": "Carousel Slideshow with autoplay and control", "body": "<p>Trying my best to build my own Carousel/Slideshow with simple js.</p>\n\n<ol>\n<li>Trying to remove the <strong>active</strong> class on the current <code>view div</code>, then add the <strong>active</strong> class on the next/prev one. But somehow right now it does on the next two div or prev div, why?</li>\n<li>How to loop the slide? <em>(what I mean is when on the #1 div, click prev, go to #3 div)</em></li>\n<li>I also want to add some controls dot under, how to make it related to the autoplay and click control?</li>\n</ol>\n\n<p>Thank you!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function(){\r\n  $('.next').on('click', function(){\r\n    $('.slider-inner &gt; div.active').removeClass('active').css('z-index', -10);\r\n    $('.slider-inner &gt; div').next().addClass('active').css('z-index', 10);\r\n  });\r\n\r\n  $('.prev').on('click', function(){\r\n    $('.slider-inner &gt; div.active').removeClass('active').css('z-index', -10);\r\n    $('.slider-inner &gt; div').prev().addClass('active').css('z-index', 10);\r\n  });\r\n\r\n  setInterval(function() {\r\n    $('.slider-inner &gt; div:first')\r\n    /*Set fadeout time here. Unite is millisecond.*/\r\n      .fadeOut(1000)\r\n      .next()\r\n    /*Set fadein time here. Unite is millisecond.*/\r\n      .fadeIn(1000)\r\n      .end()\r\n      .appendTo('.slider-inner');\r\n    /*Set the fixed frame duration here. Unite is millisecond.*/\r\n  },  3000);\r\n\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.slider-outer{\r\n\twidth:230px;\r\n\tmargin:40px auto;\r\n\toverflow:auto;\r\n}\r\n\r\n.slider-inner{\r\n\twidth:200px;\r\n\theight:200px;\r\n\tposition:relative;\r\n\toverflow:hidden;\r\n\tfloat:left;\r\n\tpadding:3px;\r\n    background:#333;\r\n    color:#fff;\r\n}\r\n\r\n.slider-inner &gt; div{\r\n\tdisplay:none;\r\n\twidth:200px;\r\n\theight:200px;\r\n}\r\n\r\n.slider-inner .active{\r\n\tdisplay:inline-block;\r\n}\r\n\r\n.prev,.next{\r\n\tfloat:left;\r\n\tmargin-left:50px;\r\n\tcursor: pointer;\r\n}\r\n\r\n.carousel-dot &gt; div{\r\n    float: left;\r\n    width: 30px;\r\n    height: 8px;\r\n    background-color: #D8D8D8;\r\n    margin-right: 30px;\r\n    margin-top: 50px;\r\n}\r\n\r\n.carousel-dot .active{\r\n    background-color: #FF6600;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"slider-outer\"&gt;\r\n&lt;div class=\"slider-inner\"&gt;\r\n&lt;div id=\"item\" class=\"active\"&gt;&lt;p&gt;#1&lt;/p&gt;&lt;/div&gt;\r\n&lt;div id=\"item\" &gt;&lt;p&gt;#2&lt;/p&gt;&lt;/div&gt;\r\n&lt;div id=\"item\" &gt;&lt;p&gt;#3&lt;/p&gt;&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"carousel-controls\"&gt;\r\n&lt;a class=\"prev\" &gt;prev&lt;/a&gt;\r\n&lt;a class=\"next\" &gt;next&lt;/a&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div class=\"carousel-dot\"&gt;\r\n          &lt;div class=\"active\"&gt;&lt;/div&gt;\r\n          &lt;div&gt;&lt;/div&gt;\r\n          &lt;div&gt;&lt;/div&gt;\r\n        &lt;/div&gt;\r\n        &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "html", "file", "github", "upload"], "comments": [{"owner": {"reputation": 62, "user_id": 7890255, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j3d1gnde8nU/AAAAAAAAAAI/AAAAAAAAADQ/V1iGWKEiaqQ/photo.jpg?sz=128", "display_name": "Hamouda Arfaoui", "link": "https://stackoverflow.com/users/7890255/hamouda-arfaoui"}, "edited": false, "score": 0, "creation_date": 1560381581, "post_id": 56571225, "comment_id": 99721745, "body": "Github pages can only host Static web pages , but you can use external Ajax Calls to upload those files on Different Service. anyway i don&#39;t recommand that as of Github isn&#39;t meant for this use ."}], "answers": [{"tags": [], "owner": {"reputation": 30613, "user_id": 8705432, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/14e0f95975d80525786e419222821ff4?s=128&d=identicon&r=PG&f=1", "display_name": "bk2204", "link": "https://stackoverflow.com/users/8705432/bk2204"}, "is_accepted": false, "score": 1, "last_activity_date": 1560379422, "creation_date": 1560379422, "answer_id": 56571247, "question_id": 56571225, "link": "https://stackoverflow.com/questions/56571225/can-you-upload-files-to-github-pages-via-browser/56571247#56571247", "title": "Can you upload files to github pages via browser?", "body": "<p>GitHub Pages is designed to handle only static sites. While it is possible to use JavaScript, in order to make your concept work securely, you'd need some sort of server-side code to upload the files, which isn't possible on GitHub Pages.</p>\n\n<p>In addition, GitHub and Git aren't a good fit for storing things like user uploads which don't generally need versioning. Some sort of file or object storage would be a better fit and perform much better.</p>\n"}], "owner": {"reputation": 73, "user_id": 2780363, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/5dc3953287cbb4d148edfb8699c27cd0?s=128&d=identicon&r=PG&f=1", "display_name": "Noob", "link": "https://stackoverflow.com/users/2780363/noob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 790, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560379422, "creation_date": 1560379199, "question_id": 56571225, "link": "https://stackoverflow.com/questions/56571225/can-you-upload-files-to-github-pages-via-browser", "title": "Can you upload files to github pages via browser?", "body": "<p>I'm trying to design a music website that involves users uploading mp3 files and sharing them. Is it possible to do this with Github Pages or would I need a different hosting service? Like if I created a submit button with javascript, could the files be stored in the github repo? </p>\n\n<p>Thanks.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1560379274, "post_id": 56571215, "comment_id": 99721271, "body": "I don&#39;t think you&#39;ve posted enough code for anybody to be able to help. JavaScript date comparisons done properly do in fact work, so there must be something going on that only you can see currently."}, {"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1560379323, "post_id": 56571215, "comment_id": 99721285, "body": "@Pointy i posted the javascript code + the results of the code + the if statement which failed.. not sure what i need to provide?"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1560379451, "post_id": 56571215, "comment_id": 99721304, "body": "<a href=\"https://jsfiddle.net/tbh96s7v/\" rel=\"nofollow noreferrer\">jsfiddle.net/tbh96s7v</a> - your code (hard coded the dates) produces the result you expect - so, not sure why you are not getting the result you are getting"}, {"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1560379480, "post_id": 56571215, "comment_id": 99721310, "body": "@Pointy i provided the full javascript code"}, {"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1560379491, "post_id": 56571215, "comment_id": 99721312, "body": "@JaromandaX same happened to me.."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1560379503, "post_id": 56571215, "comment_id": 99721314, "body": "@testtest - try providing executable code that behaves the way you claim"}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 2, "creation_date": 1560379621, "post_id": 56571215, "comment_id": 99721341, "body": "Your code can not result with &quot;expired period&quot; and &quot;expiry date&quot; having different values - so your output is misleading you"}, {"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "reply_to_user": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "edited": false, "score": 0, "creation_date": 1560380094, "post_id": 56571215, "comment_id": 99721446, "body": "@Jaromanda X you are correct, i provided another variable named <code>expirydate2 </code> but did nit fix the issue.. can you check my updated code?"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1560380180, "post_id": 56571215, "comment_id": 99721461, "body": "Have you verified that the two &quot;copies&quot; of that date are actually distinct? <code>console.log()</code> is a much more useful tool than <code>alert()</code> to track what&#39;s going on in your code."}], "answers": [{"comments": [{"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "edited": false, "score": 0, "creation_date": 1560379735, "post_id": 56571266, "comment_id": 99721360, "body": "but the results inside the popups are valid and consistent .. is this correct?"}, {"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "edited": false, "score": 0, "creation_date": 1560380963, "post_id": 56571266, "comment_id": 99721621, "body": "can i ask you to remove the &quot;TDM&quot; from your code.. thanks @ <code>var expirydate = new Date (item.get_item(&#39;TDMExpireDate&#39;));</code>"}], "tags": [], "owner": {"reputation": 23640, "user_id": 1595669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IFn9l.png?s=128&g=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/1595669/pavel"}, "is_accepted": false, "score": 1, "last_activity_date": 1560381586, "last_edit_date": 1560381586, "creation_date": 1560379521, "answer_id": 56571266, "question_id": 56571215, "link": "https://stackoverflow.com/questions/56571215/date-comparision-in-javascript-is-not-working/56571266#56571266", "title": "Date comparision in javascript is not working", "body": "<p>I mean you try to compare invalid date formats, aren't you? Try to add <code>new Date</code> around <code>item.getItem(...)</code>.</p>\n\n<pre><code>var expirydate = new Date (item.get_item('ExpireDate'));\nalert(\"expirydate = \"+ expirydate);\n\nvar modifieddate = new Date(item.get_item('Modified'));\nalert(\"modifieddate = \"+ modifieddate);\n\nvar currentdate = new Date();\nalert(\"currentdate = \"+currentdate);\n\nexpirydate.setDate(expirydate.getDate() + 1);\nvar expiredperiod = expirydate;\nalert(\"expired period = \" + expiredperiod );\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "edited": false, "score": 0, "creation_date": 1560380026, "post_id": 56571279, "comment_id": 99721426, "body": "yes you are correct, now i added another variable to store the expiry date, but this did not fix the issue.. i updated my original question with the new code.."}, {"owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "reply_to_user": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "edited": false, "score": 0, "creation_date": 1560380267, "post_id": 56571279, "comment_id": 99721480, "body": "I&#39;ve already addressed your new code ... if <code>get_item</code> returns the SAME Date object, then changing <code>expirydate</code> will also change <code>expirydate</code> - that&#39;s how objects work in javascript - see the very end of the answer for a probable solution"}, {"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "edited": false, "score": 0, "creation_date": 1560380377, "post_id": 56571279, "comment_id": 99721501, "body": "you are 100% correct as i moved all the  alerts to be after the variable settings and i can see that <code>expirydate </code> &amp; <code>expirydate2 </code>&amp; &quot;expiredperiod&quot; will be the same !!"}, {"owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "edited": false, "score": 0, "creation_date": 1560380905, "post_id": 56571279, "comment_id": 99721610, "body": "did not know about if 2 variables reference the same <code>item.get_item(&#39;ExpireDate&#39;)</code> then modifying one variable will modify the other.. your code worked for me thanks a lot.."}], "tags": [], "owner": {"reputation": 47165, "user_id": 5053002, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab6a9edfd2614014563162586c1b0697?s=128&d=identicon&r=PG", "display_name": "Jaromanda X", "link": "https://stackoverflow.com/users/5053002/jaromanda-x"}, "is_accepted": true, "score": 2, "last_activity_date": 1560380198, "last_edit_date": 1560380198, "creation_date": 1560379711, "answer_id": 56571279, "question_id": 56571215, "link": "https://stackoverflow.com/questions/56571215/date-comparision-in-javascript-is-not-working/56571279#56571279", "title": "Date comparision in javascript is not working", "body": "<p>You output <code>expirydate</code> here</p>\n\n<pre><code>var expirydate = item.get_item('ExpireDate');\nalert(\"expirydate = \"+ expirydate);\n</code></pre>\n\n<p>but then, before using it in the comparison, you alter <code>expirydate</code> here</p>\n\n<pre><code>expirydate.setDate(expirydate.getDate() + 1);\n</code></pre>\n\n<p>So your \"alert\" outputs are misleading you</p>\n\n<p>What you think you are doing</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>expirydate = new Date('Mon Jun 10 2019 00:00:00 GMT+0100');\r\nmodifieddate = new Date('Mon Jun 10 2019 22:12:59 GMT+0100');\r\ncurrentdate = new Date('Wed Jun 12 2019 23:33:07 GMT+0100');\r\nexpiredperiod = new Date('Tue Jun 11 2019 00:00:00 GMT+0100');\r\nconsole.log(expirydate != null &amp;&amp; modifieddate  &lt; expirydate &amp;&amp; currentdate &gt; expiredperiod )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What your code is actually doing</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>//expirydate = new Date('Mon Jun 10 2019 00:00:00 GMT+0100');\r\nmodifieddate = new Date('Mon Jun 10 2019 22:12:59 GMT+0100');\r\ncurrentdate = new Date('Wed Jun 12 2019 23:33:07 GMT+0100');\r\nexpiredperiod = new Date('Tue Jun 11 2019 00:00:00 GMT+0100');\r\nexpirydate = expiredperiod // &lt;==== this is the key to your issue\r\nconsole.log(expirydate != null &amp;&amp; modifieddate  &lt; expirydate &amp;&amp; currentdate &gt; expiredperiod )</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>now, regarding your late edit</p>\n\n<p>does </p>\n\n<pre><code>item.get_item('ExpireDate')\n</code></pre>\n\n<p>return a Date object?</p>\n\n<p>if so, then</p>\n\n<pre><code>        var expirydate = item.get_item('ExpireDate');\n        var expirydate2 = item.get_item('ExpireDate');\n</code></pre>\n\n<p>will result in both of those variables referring to the same object</p>\n\n<p>change one, you change the other ... </p>\n\n<p>try</p>\n\n<pre><code>var expirydate = item.get_item('ExpireDate');\nvar expiredperiod = new Date(expiryDate);\nexpiredperiod.setDate(expiredperiod.getDate()+1);\n</code></pre>\n"}], "owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 56571279, "answer_count": 2, "score": -1, "last_activity_date": 1560381586, "creation_date": 1560379132, "last_edit_date": 1560379961, "question_id": 56571215, "link": "https://stackoverflow.com/questions/56571215/date-comparision-in-javascript-is-not-working", "title": "Date comparision in javascript is not working", "body": "<p>I am facing this weird behavoure inside my javascript code:-</p>\n\n<pre><code>var expirydate = item.get_item('ExpireDate');\nalert(\"expirydate = \"+ expirydate);\n\nvar modifieddate = item.get_item('Modified');\nalert(\"modifieddate = \"+ modifieddate);\n\nvar currentdate = new Date();\nalert(\"currentdate = \"+currentdate);\n\nexpirydate.setDate(expirydate.getDate() + 1);\nvar expiredperiod = expirydate;\nalert(\"expired period = \" + expiredperiod );\n</code></pre>\n\n<p>where the above returned the following:-</p>\n\n<pre><code>expirydate = Mon Jun 10 2019 00:00:00 GMT+0100 (British Summer Time)\n\nmodifieddate = Mon Jun 10 2019 22:12:59 GMT+0100 (British Summer Time)\n\ncurrentdate = Wed Jun 12 2019 23:33:07 GMT+0100 (British Summer Time)\n\nexpired period = Tue Jun 11 2019 00:00:00 GMT+0100 (British Summer Time)\n</code></pre>\n\n<p>but i have this comparison </p>\n\n<pre><code>if (expirydate != null &amp;&amp; modifieddate  &lt; expirydate &amp;&amp; currentdate &gt; expiredperiod )\n</code></pre>\n\n<p>and in my above case the if statment passed .. although i can see that in my case the <code>modifieddate</code> which is <code>Mon Jun 10 2019 22:12:59 GMT+0100 (British Summer Time)</code> is greater than <code>expirydate</code> which is <code>Mon Jun 10 2019 00:00:00 GMT+0100 (British Summer Time)</code> which should cause the <code>if</code> statement to fail.. so not sure why my <code>if</code> statement passed?</p>\n\n<p>here is the full code</p>\n\n<pre><code>function showexpiry(){\n\n    var ctx = SP.ClientContext.get_current();\n    var web = ctx.get_web();\n    var list = web.get_lists().getById(_spPageContextInfo.pageListId);\n    var item = list.getItemById(_spPageContextInfo.pageItemId);\n\n    ctx.load(list);\n    ctx.load(item);\n\n    ctx.executeQueryAsync( \n          function(){ \n\n            var expirydate = item.get_item('ExpireDate');\n            alert(\"expirydate = \"+ expirydate);\n\n            var modifieddate = item.get_item('Modified');\n            alert(\"modifieddate = \"+ modifieddate);\n\n             var currentdate = new Date();\n            alert(\"currentdate = \"+currentdate);\n\n            var tempdate = new Date();\n\n            tempdate.setDate(tempdate.getDate() + 1);\n            //alert(tempdate);\n\n            expirydate.setDate(expirydate.getDate() + 1);\n            var expiredperiod = expirydate;\n            alert(\"expired period = \" + expiredperiod );\n\nif (expirydate != null &amp;&amp; modifieddate  &lt; expirydate &amp;&amp; currentdate &gt; expiredperiod )\n\n{\nstatusDesc2 = SP.UI.Status.addStatus(\"Warning, this page has expired and exceed the expired period of 1 day\");\n                SP.UI.Status.setStatusPriColor(statusDesc2, 'red');\n\n}\n\n\n          }\n        , function(err){ \n        alert(err);\n        });\n}\n</code></pre>\n\n<p>i added another variable for the expiry date as follow:-</p>\n\n<pre><code>function showexpiry(){\n\n    var ctx = SP.ClientContext.get_current();\n    var web = ctx.get_web();\n    var list = web.get_lists().getById(_spPageContextInfo.pageListId);\n    var item = list.getItemById(_spPageContextInfo.pageItemId);\n\n    ctx.load(list);\n    ctx.load(item);\n\n    ctx.executeQueryAsync( \n          function(){ \n\n            var expirydate = item.get_item('ExpireDate');\n            var expirydate2 = item.get_item('ExpireDate');\n\n            alert(\"expirydate = \"+ expirydate);\n\n            var modifieddate = item.get_item('Modified');\n            alert(\"modifieddate = \"+ modifieddate);\n\n             var currentdate = new Date();\n            alert(\"currentdate = \"+currentdate);\n\n            var tempdate = new Date();\n\n            tempdate.setDate(tempdate.getDate() + 1);\n            //alert(tempdate);\n\n            expirydate2.setDate(expirydate2.getDate() + 1);\n            var expiredperiod = expirydate2;\n            alert(\"expired period = \" + expiredperiod );\n\nif (expirydate != null &amp;&amp; modifieddate  &lt; expirydate &amp;&amp; currentdate &gt; expiredperiod )\n\n{\nstatusDesc2 = SP.UI.Status.addStatus(\"Warning, this page has expired and exceed the expired period of 1 day\");\n                SP.UI.Status.setStatusPriColor(statusDesc2, 'red');\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "json", "django", "google-chrome-devtools"], "comments": [{"owner": {"reputation": 614, "user_id": 11421611, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mZsyN1_dr9A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re6kssGO5O-NOwekExXKrRgGcLvWw/mo/photo.jpg?sz=128", "display_name": "chirag soni", "link": "https://stackoverflow.com/users/11421611/chirag-soni"}, "edited": false, "score": 0, "creation_date": 1560397977, "post_id": 56571198, "comment_id": 99724500, "body": "If you wrote any JavaScript for it then please show it. Also, show how you are making request i.e. using Ajax or not to the view to get the response. It is very simple but before answering I want to see how you are going about this so accordingly I can post the answer that will fulfil your requirement.."}, {"owner": {"reputation": 1752, "user_id": 864097, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OLdiH.png?s=128&g=1", "display_name": "curtisp", "link": "https://stackoverflow.com/users/864097/curtisp"}, "reply_to_user": {"reputation": 614, "user_id": 11421611, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mZsyN1_dr9A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re6kssGO5O-NOwekExXKrRgGcLvWw/mo/photo.jpg?sz=128", "display_name": "chirag soni", "link": "https://stackoverflow.com/users/11421611/chirag-soni"}, "edited": false, "score": 0, "creation_date": 1560465357, "post_id": 56571198, "comment_id": 99756282, "body": "Are you able to answer first part of question before jumping to second? <i>Does being able to see the response here mean that it is also accessible in the template using JavaScript?</i>"}, {"owner": {"reputation": 614, "user_id": 11421611, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mZsyN1_dr9A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re6kssGO5O-NOwekExXKrRgGcLvWw/mo/photo.jpg?sz=128", "display_name": "chirag soni", "link": "https://stackoverflow.com/users/11421611/chirag-soni"}, "edited": false, "score": 0, "creation_date": 1560491906, "post_id": 56571198, "comment_id": 99761386, "body": "Of course, it is accessible in the template using JavaScript without page refresh if you are getting the response:<code>{&quot;photo_id&quot;: 104}</code> in the console withou refresing the page."}, {"owner": {"reputation": 1752, "user_id": 864097, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OLdiH.png?s=128&g=1", "display_name": "curtisp", "link": "https://stackoverflow.com/users/864097/curtisp"}, "reply_to_user": {"reputation": 614, "user_id": 11421611, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mZsyN1_dr9A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re6kssGO5O-NOwekExXKrRgGcLvWw/mo/photo.jpg?sz=128", "display_name": "chirag soni", "link": "https://stackoverflow.com/users/11421611/chirag-soni"}, "edited": false, "score": 0, "creation_date": 1560559958, "post_id": 56571198, "comment_id": 99788990, "body": "No I am only saying it is appears in  Chrome Developer Tools - Network - Response panel, not the console. Perhaps this is a Chrome developer tools question and you may not have that knowledge (i just added chrome devtools tag to question). I have no idea if it is available by Javascript in template (that is my second part of my question)."}, {"owner": {"reputation": 614, "user_id": 11421611, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mZsyN1_dr9A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re6kssGO5O-NOwekExXKrRgGcLvWw/mo/photo.jpg?sz=128", "display_name": "chirag soni", "link": "https://stackoverflow.com/users/11421611/chirag-soni"}, "edited": false, "score": 0, "creation_date": 1560579733, "post_id": 56571198, "comment_id": 99791239, "body": "If it is coming in the Network - Response panel then it should come in the console as well check it by printing via <code>console.log(response)</code> in the template where the response is directing from backend view function."}, {"owner": {"reputation": 1752, "user_id": 864097, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OLdiH.png?s=128&g=1", "display_name": "curtisp", "link": "https://stackoverflow.com/users/864097/curtisp"}, "reply_to_user": {"reputation": 614, "user_id": 11421611, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-mZsyN1_dr9A/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3re6kssGO5O-NOwekExXKrRgGcLvWw/mo/photo.jpg?sz=128", "display_name": "chirag soni", "link": "https://stackoverflow.com/users/11421611/chirag-soni"}, "edited": false, "score": 0, "creation_date": 1560613285, "post_id": 56571198, "comment_id": 99798499, "body": "Thanks but I am still looking for definitive confirmation of exactly what I am seeing in <i>Chrome Developer Tools - Network - Response panel</i>.  Your comment is not definitive and then goes back to second part of question eg accessing it in template by using <code>console.log(response)</code>."}], "answers": [{"tags": [], "owner": {"reputation": 1752, "user_id": 864097, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OLdiH.png?s=128&g=1", "display_name": "curtisp", "link": "https://stackoverflow.com/users/864097/curtisp"}, "is_accepted": false, "score": 0, "last_activity_date": 1560893662, "creation_date": 1560893662, "answer_id": 56657357, "question_id": 56571198, "link": "https://stackoverflow.com/questions/56571198/django-jsonresponse-display-in-template-using-javascript-without-refreshing-page/56657357#56657357", "title": "Django JsonResponse display in template using JavaScript without refreshing page", "body": "<p>The answer is: Yes. If the <em>Chrome Developer Tools - Network - Response</em> panel shows the expected view response <code>{\"photo_id\": 104}</code> then that response can be obtained in template.</p>\n"}], "owner": {"reputation": 1752, "user_id": 864097, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/OLdiH.png?s=128&g=1", "display_name": "curtisp", "link": "https://stackoverflow.com/users/864097/curtisp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560893662, "creation_date": 1560378952, "last_edit_date": 1560613422, "question_id": 56571198, "link": "https://stackoverflow.com/questions/56571198/django-jsonresponse-display-in-template-using-javascript-without-refreshing-page", "title": "Django JsonResponse display in template using JavaScript without refreshing page", "body": "<p>I have Django view that is using <code>return JsonResponse(photoData)</code> to send response to template without refreshing the template web page.</p>\n\n<p>I can see the response in the Chrome <em>Developer Tools - Network - Response</em> panel. It appears in format: <code>{\"photo_id\": 104}</code>.</p>\n\n<p>Does being able to see the response here mean that it is also accessible in the template using JavaScript?</p>\n"}, {"tags": ["javascript", "json"], "answers": [{"tags": [], "owner": {"reputation": 4919, "user_id": 1174628, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42bd9365785a954f2919d6803359658f?s=128&d=identicon&r=PG", "display_name": "Matt Koskela", "link": "https://stackoverflow.com/users/1174628/matt-koskela"}, "is_accepted": false, "score": 1, "last_activity_date": 1560379170, "creation_date": 1560379170, "answer_id": 56571221, "question_id": 56571172, "link": "https://stackoverflow.com/questions/56571172/check-json-response-for-undefined-type/56571221#56571221", "title": "Check JSON response for Undefined type", "body": "<p>You could check if the array exists before accessing the \"Count\" property:</p>\n\n<pre><code>const catOne = (2 in response.data &amp;&amp; 0 in response.data[2]) ? response.data[2][0]['Count'] : None;\n</code></pre>\n\n<p>But you should probably also be iterating through response.data[2] instead of hard coding the categories like that as well...</p>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 11564138, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bc781cf5f2d8436163ffd31aa1d5822d?s=128&d=identicon&r=PG&f=1", "display_name": "Bl00D4NGEL", "link": "https://stackoverflow.com/users/11564138/bl00d4ngel"}, "is_accepted": false, "score": 1, "last_activity_date": 1560379336, "creation_date": 1560379336, "answer_id": 56571239, "question_id": 56571172, "link": "https://stackoverflow.com/questions/56571172/check-json-response-for-undefined-type/56571239#56571239", "title": "Check JSON response for Undefined type", "body": "<p>I'd take the following path to this:\nCreate a category array and then iterate over it for the count, since you didn't specify your use case I'm not sure if this is applicable for you.</p>\n\n<p>But what you'd do with this is something along these lines:</p>\n\n<pre><code>const categories = [];\nfor ( let i = 0; i &lt; response.data[2].length; i++) {\n    let response_data = response.data[2][i];\n    if (response_data !== undefined) {\n         categories.push(response_data); // You could also be pushing the count in here\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 795, "user_id": 8860764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/200f6aae2f4c00e977284b8a6758114e?s=128&d=identicon&r=PG&f=1", "display_name": "Darkov", "link": "https://stackoverflow.com/users/8860764/darkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1560379373, "creation_date": 1560379373, "answer_id": 56571242, "question_id": 56571172, "link": "https://stackoverflow.com/questions/56571172/check-json-response-for-undefined-type/56571242#56571242", "title": "Check JSON response for Undefined type", "body": "<p>The length of the arrays should not be hardcoded. Simply use a for loop and check the array length each time. </p>\n"}], "owner": {"reputation": 2699, "user_id": 4905433, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/26aa1f61f6ce8e5e43472c21d82cde86?s=128&d=identicon&r=PG&f=1", "display_name": "katie hudson", "link": "https://stackoverflow.com/users/4905433/katie-hudson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1560379373, "creation_date": 1560378738, "question_id": 56571172, "link": "https://stackoverflow.com/questions/56571172/check-json-response-for-undefined-type", "title": "Check JSON response for Undefined type", "body": "<p>I asked a similar question a little while ago but realised I was way off topic. I am making a call to my backend which reads a JSON file and returns the response</p>\n\n<pre><code>public function getData()\n{\n    return json_decode(file_get_contents($file_path, true));\n}\n</code></pre>\n\n<p>The file that is being returned from the backend takes the following form</p>\n\n<pre><code>[\n  [\n    //Some data\n  ],\n  [\n    //Some data\n  ],\n  [\n    {\n      \"Category\": \"basketball\",\n      \"Count\": 12\n    },\n    {\n      \"Category\": \"football\",\n      \"Count\": 34\n    },\n    {\n      \"Category\": \"baseball\",\n      \"Count\": 244\n    },\n    {\n      \"Category\": \"softball\",\n      \"Count\": 11\n    }\n  ]\n]\n</code></pre>\n\n<p>So it is a mixture of arrays and an array of objects.  The above array of objects is what I am interested in.  On the frontend, I am trying to handle this data.  At the moment I do something like</p>\n\n<pre><code>const catOne = response.data[2][0]['Count'];\nconst catTwo = response.data[2][1]['Count'];\nconst catThree = response.data[2][2]['Count'];\nconst catFour = response.data[2][3]['Count'];\n</code></pre>\n\n<p>What I have noticed however is that sometimes the file that is being passed back does not have 4 categories. As such, I am getting the error </p>\n\n<pre><code>TypeError: Cannot read property 'Count' of undefined\n</code></pre>\n\n<p>I was wondering what the best way to handle this would be?  I do not really want a load of if/else statements as this will look messy.  Can I do some type of ternary check to see if the value is undefined?</p>\n\n<p>Thanks  </p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 1305, "user_id": 11330560, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-G2oSz0UFlh8/AAAAAAAAAAI/AAAAAAAAAHQ/xRxW87nHt2o/photo.jpg?sz=128", "display_name": "Matin Sasan", "link": "https://stackoverflow.com/users/11330560/matin-sasan"}, "edited": false, "score": 0, "creation_date": 1560380769, "post_id": 56571171, "comment_id": 99721585, "body": "Check out these: <a href=\"https://stackoverflow.com/questions/27176838/reactjs-setstate-is-slow\" title=\"reactjs setstate is slow\">stackoverflow.com/questions/27176838/reactjs-setstate-is-slo&zwnj;&#8203;w</a> and <a href=\"https://stackoverflow.com/questions/47833126/react-setstate-slow\">stackoverflow.com/questions/47833126/react-setstate-slow</a>"}], "answers": [{"tags": [], "owner": {"reputation": 5378, "user_id": 4535495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BINOP.jpg?s=128&g=1", "display_name": "FurkanO", "link": "https://stackoverflow.com/users/4535495/furkano"}, "is_accepted": false, "score": 0, "last_activity_date": 1560379581, "last_edit_date": 1560379581, "creation_date": 1560379155, "answer_id": 56571217, "question_id": 56571171, "link": "https://stackoverflow.com/questions/56571171/set-state-in-react/56571217#56571217", "title": "set state in React", "body": "<p>Here is a cleaner solution. Plus, this is a very common pattern of updating array items. About the performance, there is nothing you can do about it from this part of the code. It should not be about this part. </p>\n\n<pre><code>handleChangeInstitution(event,indexInstitution){\n    this.setState(prevState =&gt; ({\n        ...prevState,\n        application: {\n            ...prevState.application,\n            institutions: [\n                ...institutions.slice(0, indexInstitution),\n                {\n                  ...institutions[indexInstitution],\n                  [event.target.name]: event.target.value\n                },\n                ...institutions.slice(indexInstitution + 1),\n            ]\n        }\n    }))\n\n}\n</code></pre>\n"}], "owner": {"reputation": 113, "user_id": 10625015, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-Cok2MEEI910/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbD61eEr2ldP11V3-FfGEOf-Yre84g/mo/photo.jpg?sz=128", "display_name": "pedro almeida", "link": "https://stackoverflow.com/users/10625015/pedro-almeida"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1560379581, "creation_date": 1560378727, "last_edit_date": 1560379081, "question_id": 56571171, "link": "https://stackoverflow.com/questions/56571171/set-state-in-react", "title": "set state in React", "body": "<p>I have this state variable on my react component:</p>\n\n<pre><code>this.state = {\n  application: {\n    institutions: [{\n     \"name\":null\n    }]\n  }\n}\n</code></pre>\n\n<p>I want to set the state of the variable name and what I did was this:</p>\n\n<pre><code>handleChangeInstitution(event,indexInstitution){\n\n    const institutions = [...this.state.application.institutions]\n\n    institutions[indexInstitution] = {\n        ...institutions[indexInstitution],\n        [event.target.name]: event.target.value\n    }\n\n    this.setState(prevState =&gt; ({\n        ...prevState,\n        application: {\n            ...prevState.application,\n            institutions: [\n                ...institutions,\n            ]\n        }\n    }))\n\n}\n</code></pre>\n\n<p>This works just fine but it is really slow when I am typing something on my input box.\nIs there any way to optimize it?</p>\n"}, {"tags": ["javascript", "css"], "comments": [{"owner": {"reputation": 177576, "user_id": 8620333, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WSmLn.png?s=128&g=1", "display_name": "Temani Afif", "link": "https://stackoverflow.com/users/8620333/temani-afif"}, "edited": false, "score": 0, "creation_date": 1560378560, "post_id": 56571139, "comment_id": 99721106, "body": "CSS variable probably, ex: <a href=\"https://stackoverflow.com/a/49618941/8620333\">stackoverflow.com/a/49618941/8620333</a>"}], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 11615909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QonJb.png?s=128&g=1", "display_name": "The Programming M16A4", "link": "https://stackoverflow.com/users/11615909/the-programming-m16a4"}, "edited": false, "score": 0, "creation_date": 1560379760, "post_id": 56571159, "comment_id": 99721364, "body": "So, the first .someclass is the one that controls the x-axis and the .someclass.indented is the variable that controls the y-axis (Correct me if wrong there) and for the js function, where it says var elems = document.getElementsByClassName(&#39;someclass&#39;); , what role would that play in?  Haven&#39;t really gotten into JS yet"}, {"owner": {"reputation": 23640, "user_id": 1595669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IFn9l.png?s=128&g=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/1595669/pavel"}, "reply_to_user": {"reputation": 375, "user_id": 11615909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QonJb.png?s=128&g=1", "display_name": "The Programming M16A4", "link": "https://stackoverflow.com/users/11615909/the-programming-m16a4"}, "edited": false, "score": 0, "creation_date": 1560380023, "post_id": 56571159, "comment_id": 99721423, "body": "@MDHossain: No, there are two approaches how to change CSS using JS (first is to set inline styles to elements, the second change/add just class and you can set styles in CSS file). <code>elems = document.get...</code> in JS is almost the same as <code>.someclass</code> - selection of elements/classes to work with. JS/CSS basics, try to understand the code... it&#39;s just a few lines."}, {"owner": {"reputation": 375, "user_id": 11615909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QonJb.png?s=128&g=1", "display_name": "The Programming M16A4", "link": "https://stackoverflow.com/users/11615909/the-programming-m16a4"}, "edited": false, "score": 0, "creation_date": 1560381913, "post_id": 56571159, "comment_id": 99721819, "body": "I tried to implement the code that you have provided and some testing for both codes, I can&#39;t seem to find the problem for why the image will not move. Believe me, I&#39;ve tried to understand the code to the best of my ability."}], "tags": [], "owner": {"reputation": 23640, "user_id": 1595669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IFn9l.png?s=128&g=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/1595669/pavel"}, "is_accepted": false, "score": 1, "last_activity_date": 1560378956, "last_edit_date": 1560378956, "creation_date": 1560378644, "answer_id": 56571159, "question_id": 56571139, "link": "https://stackoverflow.com/questions/56571139/how-can-i-put-javascript-variables-into-html-and-css-code/56571159#56571159", "title": "How can I put JavaScript variables into HTML and CSS code", "body": "<p>You can't mix css/js/html by this way. </p>\n\n<p>If you want to change CSS properties using JS, use <code>.style</code>.</p>\n\n<pre><code>var x = 20;\nvar y = 100;\n\nvar elems = document.getElementsByClassName('someclass');\nfor (var i = 0; i &lt; elems.length; i++) {\n    elems[i].style.top = x + 'px';\n    elems[i].style.left = y + 'px';\n}\n</code></pre>\n\n<p>The better approach then setting CSS by JS is just change <code>className</code> on element and set styles in your CSS file.</p>\n\n<pre><code>.someclass {color: red; left: 10px;}\n.someclass.indented {left: 100px;}\n</code></pre>\n\n<p>And JS</p>\n\n<pre><code>var elems = document.getElementsByClassName('someclass');\nfor (var i = 0; i &lt; elems.length; i++) {\n    elems[i].className += ' indented'; // now elements will be moved to left: 100px\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 10320, "user_id": 818326, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/ace3174f4519bdd2a622e1f14b2ebbae?s=128&d=identicon&r=PG", "display_name": "symlink", "link": "https://stackoverflow.com/users/818326/symlink"}, "is_accepted": false, "score": -1, "last_activity_date": 1560378763, "creation_date": 1560378763, "answer_id": 56571175, "question_id": 56571139, "link": "https://stackoverflow.com/questions/56571139/how-can-i-put-javascript-variables-into-html-and-css-code/56571175#56571175", "title": "How can I put JavaScript variables into HTML and CSS code", "body": "<p>You can't put JavaScript into CSS, but you can change CSS styles via JavaScript:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var div = document.getElementById('div1');\r\n\r\ndiv.style.height = '100px';\r\ndiv.style.width = '100px';\r\ndiv.style.backgroundColor = 'red';</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"div1\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 375, "user_id": 11615909, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QonJb.png?s=128&g=1", "display_name": "The Programming M16A4", "link": "https://stackoverflow.com/users/11615909/the-programming-m16a4"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1560378956, "creation_date": 1560378456, "last_edit_date": 1560378541, "question_id": 56571139, "link": "https://stackoverflow.com/questions/56571139/how-can-i-put-javascript-variables-into-html-and-css-code", "title": "How can I put JavaScript variables into HTML and CSS code", "body": "<p>I've been looking to see if you could put JS code inside of CSS code, but with no luck, couldn't find an answer.</p>\n\n<p>What I'm trying to do is make three pictures have variables in JS and put them in top: ; and left: ; code in CSS so that when completed, whatever variable value that they are, they will all move in unison.</p>\n\n<pre><code>//CSS Code//\n.someclass {\n    top: x;\n    left: y;\n}\n\n//JS Code//\nvar x = #;\nvar y = #;\n\n&lt;!--Someplace that a variable can go here--&gt;\n&lt;abbr title=\"Click For More Information About C#\"&gt;&lt;img src=\"https://img.icons8.com/color/500/000000/c-sharp-logo.png\" alt=\"C# Programming Image\"&gt;&lt;/abbr&gt;\n</code></pre>\n\n<p>If made, the three pictures (Code not shown) will move in unison with other pictures that have the necessary values to do so.</p>\n"}, {"tags": ["javascript", "node.js", "model", "sequelize.js"], "answers": [{"tags": [], "owner": {"reputation": 1689, "user_id": 4053069, "user_type": "registered", "accept_rate": 28, "profile_image": "https://lh4.googleusercontent.com/-L1Djab5EGD4/AAAAAAAAAAI/AAAAAAAAABM/AaAr9ytORb0/photo.jpg?sz=128", "display_name": "Ellebkey", "link": "https://stackoverflow.com/users/4053069/ellebkey"}, "is_accepted": true, "score": 3, "last_activity_date": 1560408181, "last_edit_date": 1560408181, "creation_date": 1560388920, "answer_id": 56572205, "question_id": 56571134, "link": "https://stackoverflow.com/questions/56571134/sequelize-map-fields-to-field-alias-in-model-definition/56572205#56572205", "title": "Sequelize - map fields to field alias in model definition", "body": "<p>Exactly as you did but the name of the attribute is just <code>field</code>. It will be the same for all columns including foreign keys.</p>\n\n<pre><code>// Developer-friendly field names\nmodule.exports = (sequelize, DataTypes) =&gt;\n  sequelize.define('Transaction', {\n    amount: {\n      type: DataTypes.DECIMAL,\n      field: 'f_curr_finaccount__amount'\n    },\n    type: {\n      type: DataTypes.STRING,\n      field: 'f_curr_finaccount__tx_type'\n    },\n    currency: {\n      type: DataTypes.STRING,\n      field: 'f_finaccount__currency_iso_id'\n    },\n    status: {\n      type: DataTypes.STRING,\n      field: 'f_lex_finaccount__tx_atomic_status'\n    }\n  }, {\n    schema: 'fins',\n    tableName: 'fins_financialaccounttransaction',\n    timestamps: false\n  })\n</code></pre>\n"}], "owner": {"reputation": 7932, "user_id": 413872, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/3a8f651ef4951f36dd381af92b820b60?s=128&d=identicon&r=PG", "display_name": "travega", "link": "https://stackoverflow.com/users/413872/travega"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1552, "favorite_count": 0, "accepted_answer_id": 56572205, "answer_count": 1, "score": 3, "last_activity_date": 1560408181, "creation_date": 1560378395, "question_id": 56571134, "link": "https://stackoverflow.com/questions/56571134/sequelize-map-fields-to-field-alias-in-model-definition", "title": "Sequelize - map fields to field alias in model definition", "body": "<p>I am defining a Sequelize model to map fields from existing tables in my database. However, the field names in the table are long and not developer-friendly. </p>\n\n<p>Is it possible to map the database field names to aliases in the model definition so that my service has more developer-friendly model property names to work with?</p>\n\n<p><strong>Example:</strong></p>\n\n<p>This...</p>\n\n<pre><code>// Horrible field names\nmodule.exports = (sequelize, DataTypes) =&gt;\n  sequelize.define('Transaction', {\n    f_curr_finaccount__amount: DataTypes.DECIMAL,\n    f_curr_finaccount__tx_type: DataTypes.STRING,\n    f_finaccount__currency_iso_id: DataTypes.STRING,\n    f_lex_finaccount__tx_atomic_status: DataTypes.STRING\n  }, {\n    schema: 'fins',\n    tableName: 'fins_financialaccounttransaction',\n    timestamps: false\n  })\n</code></pre>\n\n<p>...becomes...</p>\n\n<pre><code>// Developer-friendly field names\nmodule.exports = (sequelize, DataTypes) =&gt;\n  sequelize.define('Transaction', {\n    amount: {\n      type: DataTypes.DECIMAL,\n      fieldName: 'f_curr_finaccount__amount'\n    },\n    type: {\n      type: DataTypes.STRING,\n      fieldName: 'f_curr_finaccount__tx_type'\n    },\n    currency: {\n      type: DataTypes.STRING,\n      fieldName: 'f_finaccount__currency_iso_id'\n    },\n    status: {\n      type: DataTypes.STRING,\n      fieldName: 'f_lex_finaccount__tx_atomic_status'\n    }\n  }, {\n    schema: 'fins',\n    tableName: 'fins_financialaccounttransaction',\n    timestamps: false\n  })\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 1541, "user_id": 5650007, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0b71374df55bf1e20cbd1e1fed53075a?s=128&d=identicon&r=PG", "display_name": "LuisPinto", "link": "https://stackoverflow.com/users/5650007/luispinto"}, "edited": false, "score": 0, "creation_date": 1560379001, "post_id": 56571182, "comment_id": 99721217, "body": "Hmmm _ is only to represent that they are different. I should have specified that."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "reply_to_user": {"reputation": 1541, "user_id": 5650007, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0b71374df55bf1e20cbd1e1fed53075a?s=128&d=identicon&r=PG", "display_name": "LuisPinto", "link": "https://stackoverflow.com/users/5650007/luispinto"}, "edited": false, "score": 2, "creation_date": 1560379222, "post_id": 56571182, "comment_id": 99721259, "body": "@LuisPinto yes, you should have. This answer was correct before you edited your question."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 1, "creation_date": 1560379423, "post_id": 56571182, "comment_id": 99721299, "body": "By the way, thanks for bringing my attention to <code>Object.fromEntries()</code>. That will be very handy for lots of common object manipulations"}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 4, "last_activity_date": 1560379686, "last_edit_date": 1560379686, "creation_date": 1560378808, "answer_id": 56571182, "question_id": 56571133, "link": "https://stackoverflow.com/questions/56571133/how-can-i-map-an-object-into-another-one/56571182#56571182", "title": "How can I map an Object into another one?", "body": "<pre><code> const result = Object.fromEntries(\n   Object.entries(foo).map(([k, v]) =&gt; ([\"_\" + k, v]))\n );\n</code></pre>\n\n<p>Objects can be iterated as key value pairs. </p>\n\n<p>Or if you want to replace property by property, use Object.assign:</p>\n\n<pre><code> const result = Object.assign({},\n   foo.original &amp;&amp; { renamed: foo.original },\n   foo.original2 &amp;&amp; { renamed2: foo.original2 }\n });\n</code></pre>\n\n<p>For sure that can be moved into a helper function:</p>\n\n<pre><code> const rename = mapper =&gt; obj =&gt; Object.assign(...Object.entries(mapper).map(([o, n]) =&gt; obj[o] &amp;&amp; { [n]: obj[o] }));\n\n/* Or more pragmatic:\nconst rename = mapper =&gt; obj =&gt; {\n  const result = {};\n  for(const [o, n] of Object.entries(mapper)) if(o in obj) result[n] = obj[o];\n  return result;\n};\n*/\n\n const result = rename({original: \"renamed\", original2: \"renamed2\" })(foo);\n</code></pre>\n"}], "owner": {"reputation": 1541, "user_id": 5650007, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/0b71374df55bf1e20cbd1e1fed53075a?s=128&d=identicon&r=PG", "display_name": "LuisPinto", "link": "https://stackoverflow.com/users/5650007/luispinto"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 1, "accepted_answer_id": 56571182, "answer_count": 1, "score": 1, "last_activity_date": 1560399178, "creation_date": 1560378392, "last_edit_date": 1560399178, "question_id": 56571133, "link": "https://stackoverflow.com/questions/56571133/how-can-i-map-an-object-into-another-one", "title": "How can I map an Object into another one?", "body": "<p>So let's imagine I have an Object like </p>\n\n<pre><code>const foo = {\n name: 'Name',\n age: 23\n}\n</code></pre>\n\n<p>So I want to map those values in the following structure. </p>\n\n<pre><code>const var = {\n _name?\n _age?\n _location?\n}\n</code></pre>\n\n<p>_ only reflect that they can have a different name they are not only _+ foo key name</p>\n\n<p>Is there a way I can do that instead of doing: </p>\n\n<pre><code>var._name = foo.name\nvar._age = foo.age\n</code></pre>\n\n<p>Is there another way I could do this? As I'll have some keys in the var structure which won't be present in the foo structure. So If I do as I proposed, then I'll end up with some undefined values in the new structure.</p>\n"}, {"tags": ["javascript", "html", "openlayers", "kml"], "answers": [{"comments": [{"owner": {"reputation": 131, "user_id": 11107110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uLecR.jpg?s=128&g=1", "display_name": "Ali Hosein pour", "link": "https://stackoverflow.com/users/11107110/ali-hosein-pour"}, "edited": false, "score": 0, "creation_date": 1560422952, "post_id": 56571665, "comment_id": 99735387, "body": "Thanks. This was useful and worked. But when adding a layer to the map it does not zoom in. I used the following code: map.getView().fit(vector.source.getExtent()); But did not work. May you guide me."}, {"owner": {"reputation": 10351, "user_id": 10118270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d02f5140e2c09fe0425854f39a6596?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/10118270/mike"}, "reply_to_user": {"reputation": 131, "user_id": 11107110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uLecR.jpg?s=128&g=1", "display_name": "Ali Hosein pour", "link": "https://stackoverflow.com/users/11107110/ali-hosein-pour"}, "edited": false, "score": 1, "creation_date": 1560428021, "post_id": 56571665, "comment_id": 99738185, "body": "That should be <code>map.getView().fit(vector.getSource().getExtent());</code> but because the source is processed asynchronously you would need a timeout or you could fit as each new feature is added <code>vector.getSource().on(&#39;addfeature&#39;, function() { map.getView().fit(vector.getSource().getExtent()); });</code>"}], "tags": [], "owner": {"reputation": 10351, "user_id": 10118270, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4d02f5140e2c09fe0425854f39a6596?s=128&d=identicon&r=PG", "display_name": "Mike", "link": "https://stackoverflow.com/users/10118270/mike"}, "is_accepted": true, "score": 6, "last_activity_date": 1560383071, "creation_date": 1560383071, "answer_id": 56571665, "question_id": 56571122, "link": "https://stackoverflow.com/questions/56571122/how-to-upload-and-show-kml-file-on-map-from-user-memory/56571665#56571665", "title": "How to upload and show kml file on map from user memory", "body": "<p>You can use an HTML Input and javascript FileReader</p>\n\n<pre><code>&lt;div id=\"map\" class=\"map\"&gt;&lt;/div&gt;\n&lt;input id=\"selectfile\" type=\"file\" accept=\".kml\" onchange=\"addKML()\"&gt;\n&lt;div id=\"info\"&gt;&amp;nbsp;&lt;/div&gt;\n&lt;script&gt;\n\n  function addKML() {\n\n    var file = document.getElementById(\"selectfile\").files[0];\n    if (file) {\n\n      var reader = new FileReader();\n      reader.onload = function () {\n\n        var vector = new ol.layer.Vector({\n          source: new ol.source.Vector({\n            url: reader.result,\n            format: new ol.format.KML()\n          })\n        });\n        map.addLayer(vector);\n\n      }\n      reader.readAsDataURL(file);\n\n    }\n\n  }\n</code></pre>\n"}], "owner": {"reputation": 131, "user_id": 11107110, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uLecR.jpg?s=128&g=1", "display_name": "Ali Hosein pour", "link": "https://stackoverflow.com/users/11107110/ali-hosein-pour"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 910, "favorite_count": 1, "accepted_answer_id": 56571665, "answer_count": 1, "score": 0, "last_activity_date": 1560383071, "creation_date": 1560378295, "question_id": 56571122, "link": "https://stackoverflow.com/questions/56571122/how-to-upload-and-show-kml-file-on-map-from-user-memory", "title": "How to upload and show kml file on map from user memory", "body": "<p>I have a code showing maps and doing geocoding using a openlayers library.You can also display a kml file by dragging it on the map.\nNow I want the user to select this file from the device memory and insert it into the map. For example, use the search button and select the file to do this. Can the openlayers library be used? I could not find anything.How should I do this? please guide me.\nThanks\nThis is my code:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;title&gt;KML&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"https://openlayers.org/en/v5.3.0/css/ol.css\" type=\"text/css\"&gt;\n    &lt;!-- The line below is only needed for old environments like Internet Explorer and Android 4.x --&gt;\n    &lt;script src=\"https://cdn.polyfill.io/v2/polyfill.min.js?features=requestAnimationFrame,Element.prototype.classList,URL\"&gt;&lt;/script&gt;\n&lt;script src=\"https://openlayers.org/en/v4.6.5/build/ol.js\"&gt;&lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;div id=\"map\" class=\"map\"&gt;&lt;/div&gt;\n    &lt;div id=\"info\"&gt;&amp;nbsp;&lt;/div&gt;\n    &lt;script&gt;\n\n\n      var raster = new ol.layer.Tile({\n        source: new ol.source.BingMaps({\n          imagerySet: 'Aerial',\n          key: 'Ar3HbeAWJ2BNWw49Jnce_gbrbyqiPSBFuci9N4942gLNyBZgfzFPYn0d4QvpH06G'\n        })\n      });\n\n      var vector = new ol.layer.Vector({\n        source: new ol.source.Vector({\n          url: 'Data/earth.kml',\n          format: new ol.format.KML()\n        })\n      });\n\n      var map = new ol.Map({\n        layers: [raster, vector],\n        target: document.getElementById('map'),\n        view: new ol.View({\n          center: [58.3005,37.0554],\n          projection: 'EPSG:4326',\n          zoom: 13\n        })\n      });\n\n      var displayFeatureInfo = function(pixel) {\n        var features = [];\n        map.forEachFeatureAtPixel(pixel, function(feature) {\n          features.push(feature);\n        });\n        if (features.length &gt; 0) {\n          var info = [];\n          var i, ii;\n          for (i = 0, ii = features.length; i &lt; ii; ++i) {\n            info.push(features[i].get('name'));\n          }\n          document.getElementById('info').innerHTML = info.join(', ') || '(unknown)';\n          map.getTarget().style.cursor = 'pointer';\n        } else {\n          document.getElementById('info').innerHTML = '&amp;nbsp;';\n          map.getTarget().style.cursor = '';\n        }\n      };\n\n      map.on('pointermove', function(evt) {\n        if (evt.dragging) {\n          return;\n        }\n        var pixel = map.getEventPixel(evt.originalEvent);\n        displayFeatureInfo(pixel);\n      });\n\n      map.on('click', function(evt) {\n        displayFeatureInfo(evt.pixel);\n      });\n    &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "forms", "vue.js", "html-validation"], "comments": [{"owner": {"reputation": 10532, "user_id": 1845869, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/idvMf.png?s=128&g=1", "display_name": "James A Mohler", "link": "https://stackoverflow.com/users/1845869/james-a-mohler"}, "edited": false, "score": 1, "creation_date": 1560441044, "post_id": 56571115, "comment_id": 99746615, "body": "Are you using Vue.js?"}, {"owner": {"reputation": 141, "user_id": 1986289, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a9286c99f40bcb6cd7e9b99223b2bac9?s=128&d=identicon&r=PG", "display_name": "Rasim AVCI", "link": "https://stackoverflow.com/users/1986289/rasim-avci"}, "reply_to_user": {"reputation": 10532, "user_id": 1845869, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/idvMf.png?s=128&g=1", "display_name": "James A Mohler", "link": "https://stackoverflow.com/users/1845869/james-a-mohler"}, "edited": false, "score": 0, "creation_date": 1560441160, "post_id": 56571115, "comment_id": 99746679, "body": "yes, I forgat to mention that."}], "owner": {"reputation": 141, "user_id": 1986289, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/a9286c99f40bcb6cd7e9b99223b2bac9?s=128&d=identicon&r=PG", "display_name": "Rasim AVCI", "link": "https://stackoverflow.com/users/1986289/rasim-avci"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560447005, "creation_date": 1560378234, "last_edit_date": 1560447005, "question_id": 56571115, "link": "https://stackoverflow.com/questions/56571115/calling-button-with-type-submit-does-not-trigger-validation", "title": "Calling button with type submit does not trigger validation", "body": "<p>I am developing a vuejs application and I have a form which I want it give validation error messages when left empty and click submit.  I want to see all validation errors for all empty html elements, without need to clicking on them.</p>\n\n<p>This is very common on website but I couldnt do it , I am confused.\nI use a component for button, I addec prevent submit in the native button.</p>\n\n<p>I found some Stack Overflow pages and some\n other pages, but they only deal with getting validation status however I it act as I click inside input elements so that it will show error messages under input boxes.</p>\n\n<p>I tried solutions in bellow link but didnt work, it only deals valite and report.\n<a href=\"https://itnext.io/https-medium-com-joshstudley-form-field-validation-with-html-and-a-little-javascript-1bda6a4a4c8c\" rel=\"nofollow noreferrer\">https://itnext.io/https-medium-com-joshstudley-form-field-validation-with-html-and-a-little-javascript-1bda6a4a4c8c</a></p>\n\n<pre class=\"lang-html prettyprint-override\"><code>             &lt;form ref=\"myMessageForm\"&gt;\n             &lt;v-input ref=\"myInput\" placeholder=\"Ad Soyad\" v-model=\"messageForm.name\" required/&gt;\n             &lt;v-input action=\"javascript:myFunction()\" placeholder=\"\u00dcniversite\" v-model=\"messageForm.university\" required/&gt;\n             &lt;v-input placeholder=\"Fak\u00fclte\" v-model=\"messageForm.faculty\"/&gt;\n</code></pre>\n\n<p>I have tried these</p>\n\n<pre><code>      this.$refs.myMessageform.checkValidity()\n      this.$refs.myMessageform.reportValidity()\n</code></pre>\n\n<p>I do not see any red colored error messages under my form elements.</p>\n\n<p>I also tried to trigger form by adding and calling a temporary button</p>\n\n<pre><code>      var tmpSubmit = document.createElement('button')\n    this.$refs.myMessageform.appendChild(tmpSubmit)\n    tmpSubmit.click()\n    this.$refs.myMessageform.removeChild(tmpSubmit)\n</code></pre>\n"}, {"tags": ["javascript", "event-loop"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1560378128, "post_id": 56571074, "comment_id": 99720997, "body": "The first condition implies the second (if I understand you correctly) ? What do you mean with &quot;global execution context&quot;?"}, {"owner": {"reputation": 362, "user_id": 5597242, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b063f86faf11c5f771894ac716865b3f?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/5597242/jacob"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1560378200, "post_id": 56571074, "comment_id": 99721020, "body": "That&#39;s correct. I added both conditions for the sake of completeness. By global execution context, I mean code that is not running inside a function (i.e. the frame that never gets popped off)."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1560378636, "post_id": 56571074, "comment_id": 99721131, "body": "oh well, it kind of gets popped of. That &quot;global execution context&quot; execution is just a task on a queue, if that is done the event loop continues."}], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 1, "last_activity_date": 1560378426, "creation_date": 1560378426, "answer_id": 56571137, "question_id": 56571074, "link": "https://stackoverflow.com/questions/56571074/why-does-the-javascript-event-loop-require-the-global-execution-context-to-be-fi/56571137#56571137", "title": "Why does the Javascript event loop require the global execution context to be finished running before executing functions in the callback queue", "body": "<p>I think the main missunderstanding lies in the \"callstack\" here: Lets take this:</p>\n\n<pre><code>  (function A() {\n    (function B() {\n      setTimeout(function C() {\n         (function D() { })();\n      });\n    })();\n })();\n</code></pre>\n\n<p>First of all, the code gets initialized, A will be called, and B will be called, the callstack looks like this:</p>\n\n<pre><code>  [init] -&gt; A -&gt; B\n</code></pre>\n\n<p>now then the timeout gets set. As no code is left, the callstack unwinds, and is empty then.</p>\n\n<p>Now <em>some time later</em>, the timer will trigger the callback:</p>\n\n<pre><code> [timer] -&gt;\n</code></pre>\n\n<p>And that will then call C:</p>\n\n<pre><code> [timer] -&gt; C\n</code></pre>\n\n<p>inside of C, D will be called:</p>\n\n<pre><code> [timer] -&gt; C -&gt; D \n</code></pre>\n\n<p>as no code is left the callstack unwinds again. As you can see, A and B are not on the callstack anymore, they left it <em>a long time ago</em>. Therefore</p>\n\n<blockquote>\n  <p>setTimeout was called in a local execution context. Shouldn't we only need to wait until all frames above the local execution context where the setTimeout was called are popped off?</p>\n</blockquote>\n\n<p>Makes little sense, because \"the context were the setTimeout\" was executed in <em>is</em> the upmost execution context. </p>\n\n<p>Note that execution contexts do have a parent execution context, which will live as long as its childrens live (closure), however that has little to do with the callstack.</p>\n"}], "owner": {"reputation": 362, "user_id": 5597242, "user_type": "registered", "accept_rate": 20, "profile_image": "https://www.gravatar.com/avatar/b063f86faf11c5f771894ac716865b3f?s=128&d=identicon&r=PG&f=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/5597242/jacob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 86, "favorite_count": 0, "accepted_answer_id": 56571137, "answer_count": 1, "score": 0, "last_activity_date": 1560378426, "creation_date": 1560377901, "question_id": 56571074, "link": "https://stackoverflow.com/questions/56571074/why-does-the-javascript-event-loop-require-the-global-execution-context-to-be-fi", "title": "Why does the Javascript event loop require the global execution context to be finished running before executing functions in the callback queue", "body": "<p>It's my understanding that two conditions need to be met before an item in the callback queue can be executed:</p>\n\n<ol>\n<li>All frames in the call stack need to be popped off</li>\n<li>All code in the global execution context needs to be finished running</li>\n</ol>\n\n<p>I understand the reasoning behind this if, for example a <code>setTimeout</code> was called in the global execution context, but why is the second condition necessary if a <code>setTimeout</code> was called in a local execution context. Shouldn't we only need to wait until all frames <strong>above</strong> the local execution context where the <code>setTimeout</code> was called are popped off?</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "is_accepted": false, "score": 1, "last_activity_date": 1560378836, "creation_date": 1560378836, "answer_id": 56571185, "question_id": 56571069, "link": "https://stackoverflow.com/questions/56571069/why-child-components-render-is-called-when-props-did-not-change/56571185#56571185", "title": "Why child component&#39;s render is called when props did not change?", "body": "<blockquote>\n  <p>If a parent component is updated, does React always update all the direct children within that component?</p>\n  \n  <p>No. React will only re-render a component if shouldComponentUpdate()\n  returns true. By default, that method always returns true to avoid any\n  subtle bugs for newcomers (and as William B pointed out, the DOM won't\n  actually update unless something changed, lowering the impact).\n  <a href=\"https://stackoverflow.com/questions/40819992/react-parent-component-re-renders-all-children-even-those-that-havent-changed\">Font</a></p>\n</blockquote>\n\n<p>Actually, by default the child components will always re render unless you explicitly tell then not to. <code>shouldComponentUpdate</code> should be implemented here to prevent the unecessary render unless the props value change. Or use <code>PureComponent</code></p>\n"}, {"tags": [], "owner": {"reputation": 28986, "user_id": 1633510, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3eb69ab26faa444ae470ee107bd7e2ab?s=128&d=identicon&r=PG", "display_name": "Austin Greco", "link": "https://stackoverflow.com/users/1633510/austin-greco"}, "is_accepted": true, "score": 2, "last_activity_date": 1560378879, "creation_date": 1560378879, "answer_id": 56571189, "question_id": 56571069, "link": "https://stackoverflow.com/questions/56571069/why-child-components-render-is-called-when-props-did-not-change/56571189#56571189", "title": "Why child component&#39;s render is called when props did not change?", "body": "<p>Use <a href=\"https://reactjs.org/docs/react-api.html#reactpurecomponent\" rel=\"nofollow noreferrer\"><code>PureComponent</code></a> if you want to avoid unneeded renders:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Child component\r\n class Button extends React.PureComponent {\r\n    render() {\r\n      console.log(\"Render of Button called\");\r\n      return (\r\n        &lt;button onClick={this.props.handleClick}&gt;\r\n          {this.props.children}\r\n        &lt;/button&gt;\r\n      );\r\n    }\r\n  }\r\n\r\n // Parent component\r\n  class ButtonRenderer extends React.Component {\r\n    state = {\r\n      count: 0\r\n    };\r\n    increment = () =&gt; {\r\n      this.setState({\r\n        count: this.state.count + 1\r\n      });\r\n    }\r\n    render() {\r\n      console.log(\"Render of ButtonRenderer called.\");\r\n      return (\r\n        &lt;div&gt;\r\n          &lt;Button handleClick={this.increment}&gt;Click me&lt;/Button&gt;\r\n          &lt;div&gt;Count: {this.state.count}&lt;/div&gt;\r\n        &lt;/div&gt;\r\n      );\r\n    }\r\n  }\r\n\r\n  function init() {\r\n    var rootElement = document.getElementById(\"root\");\r\n    const childElement = &lt;ButtonRenderer /&gt;;\r\n    ReactDOM.render(childElement, rootElement);\r\n  }\r\n  init();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.6.3/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.6.3/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"root\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3297, "user_id": 9507402, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/nxthu.jpg?s=128&g=1", "display_name": "Malkhazi Dartsmelidze", "link": "https://stackoverflow.com/users/9507402/malkhazi-dartsmelidze"}, "is_accepted": false, "score": 0, "last_activity_date": 1560379439, "creation_date": 1560379439, "answer_id": 56571248, "question_id": 56571069, "link": "https://stackoverflow.com/questions/56571069/why-child-components-render-is-called-when-props-did-not-change/56571248#56571248", "title": "Why child component&#39;s render is called when props did not change?", "body": "<p>Solution # 1.</p>\n\n<pre><code>    // Parent component\n    class ButtonRenderer extends React.Component {\n      state = {\n        count: 0\n      };\n      increment = () =&gt; {\n        this.setState({\n          count: ++this.state.count\n        });\n      }\n      render() {\n        console.log(\"Render of ButtonRenderer called.\");\n        return (\n          &lt;div&gt;\n            &lt;Button handleClick={this.increment}&gt;Click me&lt;/Button&gt;\n            &lt;div&gt;Count: {this.state.count}&lt;/div&gt;\n          &lt;/div&gt;\n        );\n      }\n    }\n</code></pre>\n\n<p>You Can Avoid Updates by returning false in <code>shouldComponentUpdate</code> method. Also you can write business login in it and return <code>false</code> or <code>true</code> depending on it.</p>\n\n<p>Solution #2.</p>\n\n<pre><code>        // Child component\n    class Button extends React.PureComponent {\n      constructor (props) {\n        super(props)\n      }\n      render() {\n        console.log(\"Render of Button called\");\n        return (\n          &lt;button onClick={this.props.handleClick}&gt;\n            {this.props.children}\n          &lt;/button&gt;\n        );\n      }\n    }\n\n    // Parent component\n    class ButtonRenderer extends React.Component {\n      state = {\n        count: 0\n      };\n      increment = () =&gt; {\n        this.setState({\n          count: ++this.state.count\n        });\n      }\n      render() {\n        console.log(\"Render of ButtonRenderer called.\");\n        return (\n          &lt;div&gt;\n            &lt;Button handleClick={this.increment}&gt;Click me&lt;/Button&gt;\n            &lt;div&gt;Count: {this.state.count}&lt;/div&gt;\n          &lt;/div&gt;\n        );\n      }\n    }\n</code></pre>\n\n<p>When you extend to <code>React.PureComponent</code> instead of <code>React.Component</code> some lifecycle methods. In this Case this Works.</p>\n\n<p>if you help my answer please consider to upvote</p>\n"}], "owner": {"reputation": 585, "user_id": 318116, "user_type": "registered", "accept_rate": 12, "profile_image": "https://www.gravatar.com/avatar/572515c68e11c51e5dac3001c1134ca9?s=128&d=identicon&r=PG", "display_name": "Arun Kandregula", "link": "https://stackoverflow.com/users/318116/arun-kandregula"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 104, "favorite_count": 0, "accepted_answer_id": 56571189, "answer_count": 3, "score": 2, "last_activity_date": 1560381710, "creation_date": 1560377858, "last_edit_date": 1560381710, "question_id": 56571069, "link": "https://stackoverflow.com/questions/56571069/why-child-components-render-is-called-when-props-did-not-change", "title": "Why child component&#39;s render is called when props did not change?", "body": "<pre><code> // Child component\n class Button extends React.Component {\n    render() {\n      console.log(\"Render of Button called\");\n      return (\n        &lt;button onClick={this.props.handleClick}&gt;\n          {this.props.children}\n        &lt;/button&gt;\n      );\n    }\n  }\n\n // Parent component\n  class ButtonRenderer extends React.Component {\n    state = {\n      count: 0\n    };\n    increment() {\n      this.setState({\n        count: this.state.count + 1\n      });\n    }\n    render() {\n      console.log(\"Render of ButtonRenderer called.\");\n      return (\n        &lt;div&gt;\n          &lt;Button handleClick={this.increment.bind(this)}&gt;Click me&lt;/Button&gt;\n          &lt;div&gt;Count: {this.state.count}&lt;/div&gt;\n        &lt;/div&gt;\n      );\n    }\n  }\n\n  function init() {\n    var rootElement = document.getElementById(\"root\");\n    const childElement = &lt;ButtonRenderer /&gt;;\n    ReactDOM.render(childElement, rootElement);\n  }\n</code></pre>\n\n<blockquote>\n  <p>For every click of the button, state changes in parent component and hence ButtonRenderer.render will be called along with the child component, Button.render. \n  Why?</p>\n  \n  <p>I tried all 3 approaches for calling event handlers:</p>\n  \n  <ol>\n  <li><p>Using inline bind(). As in the above code.</p></li>\n  <li><p>Class property:</p></li>\n  </ol>\n</blockquote>\n\n<pre><code>... \nincrement = () =&gt; {\n  this.setState({\n    count: ++this.state.count\n  });\n}\n...\n &lt;Button handleClick={this.increment}&gt;Click me&lt;/Button&gt;\n...\n</code></pre>\n\n<blockquote>\n  <ol start=\"3\">\n  <li>Inline arrow function.</li>\n  </ol>\n</blockquote>\n\n<pre><code>... \nincrement(){\n  this.setState({\n    count: ++this.state.count\n  });\n}\n...\n&lt;Button handleClick={() =&gt; {this.increment();}}&gt;Click me&lt;/Button&gt;\n...\n</code></pre>\n\n<blockquote>\n  <p>For every click all 3 approaches exected both the render methods.</p>\n</blockquote>\n\n<p>I expected approach1 and approach2 not to call Button's render method for every click as nothing changed. I expected approach3 to call Button's render method for every click as I am using inline arrow function which will create a new function for every render for ButtonRendered class.</p>\n\n<p>Browser console output for every click of the button:</p>\n\n<pre><code>Render of ButtonRenderer called.\nRender of Button called\n</code></pre>\n\n<p>My question: Why even approach1 (using bind) and approach2(using class properties) are calling render() method of child component Button when no pros have changed to Button comp?</p>\n"}, {"tags": ["javascript", "node.js", "ecmascript-6", "destructuring"], "comments": [{"owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 2, "creation_date": 1560379254, "post_id": 56571064, "comment_id": 99721266, "body": "JavaScript uses assign/copy <b>by value</b>. <code>const { methodFoo } = obj;</code> assigns a copy of the value that <code>obj.methodFoo</code> has to <code>methodFoo</code>, which is a reference to a function. After that, any changes to <code>obj.methodFoo</code> won&#39;t affect the variable <code>methodFoo</code>. This is not specific to destructuring though. That&#39;s how assignment, variables and values work in JS. Here is a sightly simpler example: <code>var obj = {foo() { console.log(&#39;foo&#39;); }; var method = obj.foo; obj.foo = () =&gt; console.log(&#39;bar&#39;); method();</code>"}, {"owner": {"reputation": 2890, "user_id": 6548980, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/caade3ef19a80055e33ce9c2ac8c41b8?s=128&d=identicon&r=PG&f=1", "display_name": "Slim", "link": "https://stackoverflow.com/users/6548980/slim"}, "reply_to_user": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "edited": false, "score": 0, "creation_date": 1560380046, "post_id": 56571064, "comment_id": 99721433, "body": "@FelixKling Thanks a lot."}], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 2, "last_activity_date": 1560379127, "creation_date": 1560379127, "answer_id": 56571214, "question_id": 56571064, "link": "https://stackoverflow.com/questions/56571064/why-the-stubbed-functions-does-not-works-when-using-destructor-with-sinon-js/56571214#56571214", "title": "why the stubbed functions does not works when using destructor with sinon js?", "body": "<p>Stubbing overrides the methods property. If you take this contrived example:</p>\n\n<pre><code> const obj = { prop: \"value\" };\n\n const prop = obj.prop; // or { prop } = obj;\n\n obj.prop = \"new value\"; // stub()\n\n console.log(prop); // \"value\"\n</code></pre>\n\n<p>then it might become clearer. Think of methods as values that can be copied (actually a reference to them gets copied).</p>\n"}], "owner": {"reputation": 2890, "user_id": 6548980, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/caade3ef19a80055e33ce9c2ac8c41b8?s=128&d=identicon&r=PG&f=1", "display_name": "Slim", "link": "https://stackoverflow.com/users/6548980/slim"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 87, "favorite_count": 0, "accepted_answer_id": 56571214, "answer_count": 1, "score": 0, "last_activity_date": 1560379127, "creation_date": 1560377824, "question_id": 56571064, "link": "https://stackoverflow.com/questions/56571064/why-the-stubbed-functions-does-not-works-when-using-destructor-with-sinon-js", "title": "why the stubbed functions does not works when using destructor with sinon js?", "body": "<p>There are a lot of people face the problem of stubing functions with sinon.js doesn't work when using <code>destructor</code>and there is a great explantion mentioned on <a href=\"https://stackoverflow.com/questions/52587999/sinon-stub-function-used-with-destructuring/52591287#52591287\">Sinon stub function used with destructuring</a>.\nAnd as mentioned in the answer, when using the destructor we call always the original function:</p>\n\n<pre><code>const stub = (o, method) =&gt; (o[method] = () =&gt; \"I am a stub\");\n\nconst obj = {\n  methodFoo() {\n    return \"I am foo\";\n  }\n};\n\n// same as doing `const methodFoo = obj.methodFoo;`\nconst { methodFoo } = obj; // \"import\" using destructuring\n\nconsole.log(\"obj.methodFoo(): \", obj.methodFoo());\nconsole.log(\"methodFoo()\", methodFoo());\n\nconsole.log(\"Stubbing out method!\");\nstub(obj, \"methodFoo\");\n\nconsole.log(\"obj.methodFoo: \", obj.methodFoo());\nconsole.log(\"methodFoo()\", methodFoo());\n</code></pre>\n\n<p>I searched for an answer why the <code>destructor</code> overrides the <code>stub</code> or how it works under the hood to understand how to manipulate data but I didn't get any solution. Is there any details about this issue ?</p>\n"}, {"tags": ["javascript", "html", "node.js", "express"], "answers": [{"comments": [{"owner": {"reputation": 549, "user_id": 10765164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe9fd5687903dcdba4bf9563bf4048c?s=128&d=identicon&r=PG&f=1", "display_name": "BillNathan", "link": "https://stackoverflow.com/users/10765164/billnathan"}, "edited": false, "score": 0, "creation_date": 1560379821, "post_id": 56571211, "comment_id": 99721379, "body": "Should I just create robots.txt and add it to the public/ directory? I&#39;ve read that Express doesn&#39;t automatically serve static files from /public, does it? I read that you need to configure it to do so?"}, {"owner": {"reputation": 1073, "user_id": 5027899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jzcNe.jpg?s=128&g=1", "display_name": "Fatih Akta\u015f", "link": "https://stackoverflow.com/users/5027899/fatih-akta%c5%9f"}, "reply_to_user": {"reputation": 549, "user_id": 10765164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe9fd5687903dcdba4bf9563bf4048c?s=128&d=identicon&r=PG&f=1", "display_name": "BillNathan", "link": "https://stackoverflow.com/users/10765164/billnathan"}, "edited": false, "score": 0, "creation_date": 1560379990, "post_id": 56571211, "comment_id": 99721417, "body": "Yea, look up for short tutorials about creating a server with express. They explain it so well. Then, learn about how to serve static files. Robot.txt is just another file that you can serve as static."}], "tags": [], "owner": {"reputation": 1073, "user_id": 5027899, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jzcNe.jpg?s=128&g=1", "display_name": "Fatih Akta\u015f", "link": "https://stackoverflow.com/users/5027899/fatih-akta%c5%9f"}, "is_accepted": false, "score": 1, "last_activity_date": 1560379102, "creation_date": 1560379102, "answer_id": 56571211, "question_id": 56571050, "link": "https://stackoverflow.com/questions/56571050/how-to-add-robots-txt-to-a-node-application/56571211#56571211", "title": "How to add robots.txt to a node application?", "body": "<p>Use a middleware function. This way, you can handle different robots.txt files for different environments such as production and development.</p>\n\n<pre><code>app.use('/robots.txt', function (req, res, next) {\n    res.type('text/plain')\n    res.send(\"User-agent: *\\nDisallow: /\");\n});\n</code></pre>\n\n<p>You can also serve the files in the folders of the environments that they belong to.</p>\n\n<pre><code>if (app.settings.env === 'production') {\n  app.use(express['static'](__dirname + '/production')); // Uses the robots.txt from production folder\n} else {\n  app.use(express['static'](__dirname + '/development')); // Uses the robots.txt from development folder\n}\n</code></pre>\n\n<p>Related post: <a href=\"https://stackoverflow.com/questions/15119760/what-is-the-smartest-way-to-handle-robots-txt-in-express\">What is the smartest way to handle robots.txt in Express?</a></p>\n"}], "owner": {"reputation": 549, "user_id": 10765164, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9fe9fd5687903dcdba4bf9563bf4048c?s=128&d=identicon&r=PG&f=1", "display_name": "BillNathan", "link": "https://stackoverflow.com/users/10765164/billnathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 775, "favorite_count": 2, "answer_count": 1, "score": 2, "last_activity_date": 1560379102, "creation_date": 1560377732, "last_edit_date": 1560378047, "question_id": 56571050, "link": "https://stackoverflow.com/questions/56571050/how-to-add-robots-txt-to-a-node-application", "title": "How to add robots.txt to a node application?", "body": "<p>What is the best possible and most advanced and up-to-date way to add robots.txt to a node application?</p>\n\n<p>Can this be handled better at the web server level?</p>\n\n<p>P.S: I'm using Mongo as DB, and Nginx as a web server.</p>\n"}, {"tags": ["javascript", "eslint"], "answers": [{"tags": [], "owner": {"reputation": 41792, "user_id": 196921, "user_type": "registered", "accept_rate": 97, "profile_image": "https://www.gravatar.com/avatar/9567cb7675da92a7c372a3116345d96a?s=128&d=identicon&r=PG", "display_name": "Hristo", "link": "https://stackoverflow.com/users/196921/hristo"}, "is_accepted": true, "score": 0, "last_activity_date": 1562889746, "creation_date": 1562889746, "answer_id": 56998705, "question_id": 56571033, "link": "https://stackoverflow.com/questions/56571033/eslint-cant-override-env-after-updating/56998705#56998705", "title": "Eslint: can&#39;t override env after updating", "body": "<p>I randomly stumbled upon this answer:</p>\n\n<p><a href=\"https://github.com/benmosher/eslint-plugin-import/issues/1396#issuecomment-509384041\" rel=\"nofollow noreferrer\">https://github.com/benmosher/eslint-plugin-import/issues/1396#issuecomment-509384041</a></p>\n\n<p>Adding <code>\"node\": {}</code> fixes it for me.</p>\n\n<pre><code>\"import/resolver\": {\n  \"node\": {},\n  \"webpack\": {\n    \"config\": \"config/webpack/webpack.config.js\"\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 18601, "user_id": 599184, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/tjsXC.jpg?s=128&g=1", "display_name": "Leo Jiang", "link": "https://stackoverflow.com/users/599184/leo-jiang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 112, "favorite_count": 0, "accepted_answer_id": 56998705, "answer_count": 1, "score": 0, "last_activity_date": 1562889746, "creation_date": 1560377587, "last_edit_date": 1560378727, "question_id": 56571033, "link": "https://stackoverflow.com/questions/56571033/eslint-cant-override-env-after-updating", "title": "Eslint: can&#39;t override env after updating", "body": "<p>I updated Eslint to the latest version, but I get <code>error  'path' should be listed in the project's dependencies. Run 'npm i -S path' to add it  import/no-extraneous-dependencies</code>. I already have <code>env: { node: true }</code>. I tried removing <code>extends: ['airbnb']</code> and the error no longer appears. This suggests that the <code>env</code> field isn't being overridden.</p>\n\n<p>Why can't I override the <code>env</code> field?</p>\n\n<p>Edit: looks like it works if I remove <code>'import/resolver': 'webpack'</code>, but I need that line for other stuff to work. It used to work before updating, no idea what changed.</p>\n"}, {"tags": ["javascript", "jquery", "elfinder"], "answers": [{"tags": [], "owner": {"reputation": 173, "user_id": 8853662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2SqAH.jpg?s=128&g=1", "display_name": "hypnagogia", "link": "https://stackoverflow.com/users/8853662/hypnagogia"}, "is_accepted": true, "score": 0, "last_activity_date": 1566238806, "creation_date": 1566238806, "answer_id": 57562049, "question_id": 56571031, "link": "https://stackoverflow.com/questions/56571031/how-to-check-for-specific-folder-with-elfinder/57562049#57562049", "title": "How to check for specific folder with Elfinder", "body": "<p>I was able to find the answer a while back, here was my solution:\nIn the select handler, I was able to get the folder name by decoding the base64url that was converted from the hashstring of the elfinder item.</p>\n\n<pre><code>    var options = {\n            url: '../connector.ashx',\n            uiOptions: {\n                toolbar: [\n                    ['mkdir', 'mkfile', 'upload'],\n                    ['open', 'download'],\n                    ['copy', 'cut', 'paste'],\n                    ['duplicate', 'rename', 'edit'],\n                    ['search']\n                ]\n            },\n            handlers: {\n                select: function (event, elfinderInstance) {\n                    if (event.data.selected.length == 1) {\n                        var item = $('#' + event.data.selected[0]);\n                        var hashString = item.selector;\n                        var folderPath = parseToken(hashString);\n                        var folderName = folderPath.split(\"\\\\\")[1];\n                        if (folderName.toUpperCase() == \"DIRECTOR\") {\n                            $('#submitDataBtn').show();\n                        }\n                    }\n                }\n            }\n        };\n        var elfinder = $('#elfinder').elfinder(options).elfinder('instance');\n\n        function parseToken (token) {\n            var base64Url = token.split('_')[1];\n            var folderPathDecoded = decodeBase64Url(base64Url);\n            return folderPathDecoded;\n        };\n\n        function decodeBase64Url(s) {\n            var e = {}, i, b = 0, c, x, l = 0, a, r = '', w = String.fromCharCode, L = s.length;\n            var A = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n            for (i = 0; i &lt; 64; i++) { e[A.charAt(i)] = i; }\n            for (x = 0; x &lt; L; x++) {\n                c = e[s.charAt(x)]; b = (b &lt;&lt; 6) + c; l += 6;\n                while (l &gt;= 8) { ((a = (b &gt;&gt;&gt; (l -= 8)) &amp; 0xff) || (x &lt; (L - 2))) &amp;&amp; (r += w(a)); }\n            }\n            return r;\n        };\n</code></pre>\n"}], "owner": {"reputation": 173, "user_id": 8853662, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2SqAH.jpg?s=128&g=1", "display_name": "hypnagogia", "link": "https://stackoverflow.com/users/8853662/hypnagogia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 268, "favorite_count": 0, "accepted_answer_id": 57562049, "answer_count": 1, "score": 0, "last_activity_date": 1566238806, "creation_date": 1560377584, "question_id": 56571031, "link": "https://stackoverflow.com/questions/56571031/how-to-check-for-specific-folder-with-elfinder", "title": "How to check for specific folder with Elfinder", "body": "<p>I have an application that is using Elfinder. Upon uploading, I need to check if files are being uploaded to a specific folder, for example \"DIRECTOR\" folder, also to open that folder when a button is clicked. </p>\n\n<p><strong>Get folder name when:</strong><br>\n1. File is being uploaded<br>\n2. Button is clicked</p>\n\n<p>I have tried adding the commandsOptions, setting folders to true, but I only get the folder information when I select one file. I need to know the folder name every time a file gets uploaded into that folder. I also used getFileCallback in the bind('upload'), but I don't get the path property. I only get the \"path\" property when I double-click. Does anybody know the correct function to use or how I can get the folder name?</p>\n\n<pre><code>&lt;div id=\"openFolderDiv\"&gt;\n    &lt;button type=\"button\" id=\"openFolderBtn\"/&gt;\n    &lt;label id=\"lblOpenFolderBtn\"&gt;Open Director Folder&lt;/label&gt;\n&lt;/div&gt;\n\n$('#openFolderBtn').click(function () {\n    // open \"DIRECTOR\" folder      \n});\n\nvar options = {\n    commands: myCommands,\n    commandsOptions: {\n        getfile: {\n            folders: true\n        }\n    },\n    getFileCallback: function (file) {\n        if (file.path.includes(\"DIRECTOR\")) {\n            return file.path;\n        }\n    },\n};\n\nelfinder.bind('upload', function (event, instance) {\n    var path = options.getFileCallback(event, instance);\n});\n</code></pre>\n\n<p>Another problem I'm getting is when I double-click to open a folder, the getFileCallback function gets fired but the folder doesn't open.</p>\n"}, {"tags": ["javascript", "nginx", "vue.js", "vue-component", "vue-router"], "answers": [{"tags": [], "owner": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "is_accepted": true, "score": 0, "last_activity_date": 1560848962, "creation_date": 1560848962, "answer_id": 56645547, "question_id": 56571010, "link": "https://stackoverflow.com/questions/56571010/glitch-in-vue-in-production/56645547#56645547", "title": "Glitch in Vue in production", "body": "<p>I don't know why, but I managed to get it working by changing:</p>\n\n<pre><code>function toRoutes(routes, {pageUrl, platforms: {0: {isExternal}}}) {\n  if (!isExternal) {\n    routes.push({\n      path: `/${pageUrl}`,\n      name: pageUrl,\n      component: () =&gt; import(`./components/products/${pageUrl}`),\n    });\n  }\n  return routes;\n}\n</code></pre>\n\n<p>to:</p>\n\n<pre><code>function toRoutes(routes, {pageUrl, platforms: {0: {isExternal}}}) {\n  if (!isExternal) {\n    // Extracted the directory to a variable\n    const dir = `./components/products`;\n    routes.push({\n      path: `/${pageUrl}`,\n      name: pageUrl,\n      component: () =&gt; import(`${dir}/${pageUrl}`),\n    });\n  }\n  return routes;\n}\n</code></pre>\n"}], "owner": {"reputation": 1525, "user_id": 8309806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/dP8rf.png?s=128&g=1", "display_name": "avi12", "link": "https://stackoverflow.com/users/8309806/avi12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 236, "favorite_count": 0, "accepted_answer_id": 56645547, "answer_count": 1, "score": 0, "last_activity_date": 1560848962, "creation_date": 1560377465, "last_edit_date": 1560417640, "question_id": 56571010, "link": "https://stackoverflow.com/questions/56571010/glitch-in-vue-in-production", "title": "Glitch in Vue in production", "body": "<p>When I'm running locally using <code>yarn serve</code>, the website is working perfectly fine.<br>\nHowever, when I try running <code>yarn build</code> and open the production version locally (using an Nginx server, if it matters) and then opening a certain globally-registered component via Vue Router, I keep getting an error:</p>\n\n<pre><code>TypeError: undefined is not a function\n</code></pre>\n\n<p>After a little trial and error, it seems there's a problem with globally registering components.<br>\nNote that I have a non-global component as well, yet it is possible to open it.</p>\n\n<p>This is how I currently register them:</p>\n\n<pre><code>function registerComponentsGlobally() {\n  const requireComponent = require.context(\"./components/products\", false, /\\.vue/);\n  const keys = requireComponent.keys();\n  for (let i = 0; i &lt; keys.length; i++) {\n    const fileName = keys[i];\n    const componentConfig = requireComponent(fileName);\n    const componentName = fileName.split(\"/\").pop().replace(/\\.\\w+$/, \"\");\n    Vue.component(componentName, componentConfig.default || componentConfig);\n  }\n}\n</code></pre>\n\n<p>Alternatively, I could wrongly register them in Vue Router:</p>\n\n<pre><code>async function initializeVue() {\n  const products = await fetch(\"products.json\").then(data =&gt; data.json());\n\n  function toRoutes(routes, {pageUrl, platforms: {0: {isExternal}}}) {\n    if (!isExternal) {\n      routes.push({\n        path: `/${pageUrl}`,\n        name: pageUrl,\n        component: () =&gt; import(`./components/products/${pageUrl}`),\n      });\n    }\n    return routes;\n  }\n\n  new Vue({\n    router: new Router({\n      mode: \"history\",\n      routes: [...defaultRoutes, ...products.reduce(toRoutes, [])],\n    }),\n    ...\n</code></pre>\n\n<p>In the <a href=\"https://router.vuejs.org/guide/essentials/history-mode.html#example-server-configurations\" rel=\"nofollow noreferrer\">Vue Router's History Mode documentation</a>, I copied the Nginx code to my configuration file, plus the assets load correctly, so it seems there isn't a problem.</p>\n\n<p>What am I missing?<br>\nThank you for helping!</p>\n\n<p><strong>EDIT</strong>: Here's the stack trace if it's relevant:</p>\n\n<pre><code>vue-router.esm.js:1921 TypeError: undefined is not a function\n    at Array.map (&lt;anonymous&gt;)\n    at a (.*$ namespace object:90)\n    at component (main.js:27)\n    at vue-router.esm.js:1790\n    at vue-router.esm.js:1817\n    at Array.map (&lt;anonymous&gt;)\n    at vue-router.esm.js:1817\n    at Array.map (&lt;anonymous&gt;)\n    at Rt (vue-router.esm.js:1816)\n    at vue-router.esm.js:1752\n    at h (vue-router.esm.js:1959)\n    at r (vue-router.esm.js:1733)\n    at r (vue-router.esm.js:1737)\n    at r (vue-router.esm.js:1737)\n    at Pt (vue-router.esm.js:1741)\n    at e.zt.confirmTransition (vue-router.esm.js:1988)\n    at e.zt.transitionTo (vue-router.esm.js:1890)\n    at e.replace (vue-router.esm.js:2212)\n    at ue.replace (vue-router.esm.js:2585)\n    at a.routeToProduct (product-links.vue:44)\n    at ne (vue.runtime.esm.js:1854)\n    at HTMLButtonElement.n (vue.runtime.esm.js:2179)\n    at HTMLButtonElement.Zi.o._wrapper (vue.runtime.esm.js:6911)\n</code></pre>\n"}, {"tags": ["javascript", "react-native", "cryptojs"], "comments": [{"owner": {"reputation": 905, "user_id": 7868630, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/52a181d7dcac404020bcf8ab3e9ee3d4?s=128&d=identicon&r=PG&f=1", "display_name": "Thiago Nascimento", "link": "https://stackoverflow.com/users/7868630/thiago-nascimento"}, "edited": false, "score": 1, "creation_date": 1564572843, "post_id": 56571009, "comment_id": 101074111, "body": "Were you able to solve it? I&#39;m having the same problem"}, {"owner": {"reputation": 305, "user_id": 2004118, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0xPuZ.png?s=128&g=1", "display_name": "Dave Wong", "link": "https://stackoverflow.com/users/2004118/dave-wong"}, "edited": false, "score": 1, "creation_date": 1599708826, "post_id": 56571009, "comment_id": 112858649, "body": "i also have the same problem..."}, {"owner": {"reputation": 3006, "user_id": 9810040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8UxVT.jpg?s=128&g=1", "display_name": "Rishav Kumar", "link": "https://stackoverflow.com/users/9810040/rishav-kumar"}, "edited": false, "score": 0, "creation_date": 1601230830, "post_id": 56571009, "comment_id": 113335359, "body": "Having the same issue!!"}], "owner": {"reputation": 21, "user_id": 5721670, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/804d618935d6e29d7076651241193271?s=128&d=identicon&r=PG&f=1", "display_name": "vad.", "link": "https://stackoverflow.com/users/5721670/vad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 438, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1560379329, "creation_date": 1560377459, "last_edit_date": 1560379329, "question_id": 56571009, "link": "https://stackoverflow.com/questions/56571009/react-native-in-production-cryptojs-aes-error-malformed-utf-8-data", "title": "React native in production: Cryptojs AES Error: Malformed UTF-8 data", "body": "<p>I used same code for aes encrypt (in <a href=\"https://github.com/imchintan/react-native-crypto-js#readme\" rel=\"nofollow noreferrer\">https://github.com/imchintan/react-native-crypto-js#readme</a>) for my react-native android app and nodejs server,</p>\n\n<pre><code>let data = [{id: 1}, {id: 2}]\n// Encrypt in react-native android app\nlet ciphertext = CryptoJS.AES.encrypt(JSON.stringify(data), 'secret key 123').toString();\n\n// Decrypt in the nodejs server\nlet bytes = CryptoJS.AES.decrypt(ciphertext, 'secret key 123');\nlet decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n</code></pre>\n\n<p>when my react-native app is in \"JS Dev Mode\" activated and \"JS Minify\" desactivated the decryption in the server works fine, but when i configure my app as \"JS Dev Mode\" desactivated and \"JS Minify\" activated i cant decrypt the data in the server,</p>\n\n<p>Error: Malformed UTF-8 data\nat Object.stringify</p>\n\n<p>the error throw in the server only when the app is in production mode, the error happend exactly when execute: bytes.toString(CryptoJS.enc.Utf8)</p>\n\n<p>Can someone explain to me what I am doing wrong or how to solve the problem?</p>\n"}, {"tags": ["javascript", "php", "html"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1560377540, "post_id": 56570984, "comment_id": 99720864, "body": "JavaScript cannot call PHP functions. You need to send a request to the php via ajax or a new http request. The request can then send the email."}, {"owner": {"reputation": 62, "user_id": 7890255, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-j3d1gnde8nU/AAAAAAAAAAI/AAAAAAAAADQ/V1iGWKEiaqQ/photo.jpg?sz=128", "display_name": "Hamouda Arfaoui", "link": "https://stackoverflow.com/users/7890255/hamouda-arfaoui"}, "edited": false, "score": 0, "creation_date": 1560381153, "post_id": 56570984, "comment_id": 99721658, "body": "inside you javascript function try to make Ajax Call and send data through it!"}], "answers": [{"tags": [], "owner": {"reputation": 2417, "user_id": 609862, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/124382dae2895c057e94dca4455b464a?s=128&d=identicon&r=PG", "display_name": "asiby", "link": "https://stackoverflow.com/users/609862/asiby"}, "is_accepted": false, "score": 0, "last_activity_date": 1560389185, "creation_date": 1560389185, "answer_id": 56572217, "question_id": 56570984, "link": "https://stackoverflow.com/questions/56570984/how-to-get-php-variable-from-js-function/56572217#56572217", "title": "How to get php variable from js function", "body": "<p>Sending a variable from an backend scripting language to a front-end scripting language is quite simple. There are many different ways to do this.</p>\n\n<p><strong>Method 1:</strong></p>\n\n<p>Using PHP, create a javascript block that you will insert early in your page. Early enough that the variables will be available in the other scripts where they are needed. And simple way could be to insert it in the  section of the page before loading the other scripts.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html&gt;\n&lt;head&gt;\n  &lt;title&gt;My awesome page&lt;/title&gt;\n  &lt;script&gt;\n      var myJsVar1 = &lt;?= $somePhpVar1 ?&gt;;\n      var myJsVar2 = &lt;?= $somePhpVar2 ?&gt;;\n      var myJsVar3 = &lt;?= $somePhpVar3 ?&gt;;\n  &lt;/script&gt;\n  &lt;script src=\"someAmazingScript.js\"&gt;&lt;/script&gt;\n  &lt;script&gt;\n    console.log(\"My variable 1 value is \", myJsVar1);\n  &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;script&gt;\n    console.log(\"My variable 2 value is \", myJsVar2);\n    alert(myJsVar3);\n  &lt;/script&gt;\n&lt;body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p><strong>Method 2</strong></p>\n\n<p>If you have a lot of stuff to send from the backend to Javascript, you can store the values in a JSON object directly in the head tag to make it available everywhere when the page is loaded. Then you access it by parsing JSON content. In the following example, the script tag with the id appData must be generated entirely from PHP and printed in the head section of the page. If you use json_encode with an associative array, it will give you a string that is a valid JSON object with the nested keys inside of it.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;script id=\"appData\" type=\"application/json\"&gt;\n { \n   myVar1: 'value1',\n   myVar2: 'value2',\n   myVar3: 'value3'\n }\n&lt;/script&gt;\n\n&lt;script type=\"text/javascript\"&gt;\n    $(function() {\n        var appData = JSON.parse($('#appData').html());\n        console.log(\"Values received from php\", appData);\n        console.log(\"myVar1 = \", appData.myVar1);\n     });\n&lt;/script&gt;\n</code></pre>\n\n<p>Based on how your HTML is being generated, I am sure you can figure out the easiest way to add a script tag in the page's head tag.</p>\n"}, {"tags": [], "owner": {"reputation": 7, "user_id": 6656351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7731e90d53a898a7b86599739cc072dc?s=128&d=identicon&r=PG&f=1", "display_name": "paultheprogrammer", "link": "https://stackoverflow.com/users/6656351/paultheprogrammer"}, "is_accepted": false, "score": 0, "last_activity_date": 1560451859, "creation_date": 1560451859, "answer_id": 56586903, "question_id": 56570984, "link": "https://stackoverflow.com/questions/56570984/how-to-get-php-variable-from-js-function/56586903#56586903", "title": "How to get php variable from js function", "body": "<p>Solution:</p>\n\n<pre><code>function myFunction(str) {\ndocument.getElementById(\"demo\").innerHTML = str; //now I get the correct data inside str from $dname\n</code></pre>\n\n<p>I passed the php variables like this:</p>\n\n<pre><code>echo '&lt;td&gt;&lt;button onclick=\"myFunction(' . $dname . ')\"&gt;Request&lt;/button&gt;&lt;/td&gt;';\n</code></pre>\n\n<p>and this way you can start using all the correct data on whatever you need to do with it in the function.</p>\n"}], "owner": {"reputation": 7, "user_id": 6656351, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7731e90d53a898a7b86599739cc072dc?s=128&d=identicon&r=PG&f=1", "display_name": "paultheprogrammer", "link": "https://stackoverflow.com/users/6656351/paultheprogrammer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 32, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1560451859, "creation_date": 1560377303, "last_edit_date": 1560384360, "question_id": 56570984, "link": "https://stackoverflow.com/questions/56570984/how-to-get-php-variable-from-js-function", "title": "How to get php variable from js function", "body": "<p>I'm trying to figure out how to use these php variables that come from mysql database and send an email. when the user hits the Request button it goes to myFunction()</p>\n\n<p>test.php file:</p>\n\n<pre><code>    $x = db_query('SELECT * FROM test_site_database.names');\n\n    foreach($xx as $item) {\n      if($item) {\n        if ($item-&gt;name == \"Paul\"){\n        $dname = $item-&gt;name; \n        $state = $item-&gt;state;\n        $city = $item-&gt;city;\n    }\n      }\n    echo '&lt;tr&gt;';\n         echo '&lt;td&gt;' . $dname . '&lt;/td&gt;'; //prints Paul\n         echo '&lt;td&gt;' . $state . '&lt;/td&gt;'; //prints CA\n         echo '&lt;td&gt;' . $city . ' &lt;/td&gt;'; //prints LA\n         echo '&lt;td&gt;&lt;button onclick=\"myFunction()\"&gt;Request&lt;/button&gt;&lt;/td&gt;';\n         global $y; \n         $y=dname; \n\n\n\n         &lt;script&gt;\n         function myFunction() {\n         &lt;?php\n         global $user;\n         $to = \"myemail@gmail.com\";\n         $subject = $user-&gt;name;\n         $txt = $y; //\n         $headers = \"From: test@email.com\";\n         mail($to,$subject,$txt,$headers);\n         ?&gt;\n         }\n         &lt;/script&gt;\n</code></pre>\n\n<p>So in the email I receive after I hit request is the user name and $dname(full name of that person) HOWEVER there are 10 Paul's in my database I only get the info from the last inserted from the database but it's a table with 10 Paul's and I hit request on lets say row 3 I want to get that data emailed instead of the last Paul in the db.</p>\n\n<p>any ideas or other approaches?\nThanks!</p>\n"}, {"tags": ["javascript", "reactjs", "typescript", "styled-components"], "comments": [{"owner": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560377375, "post_id": 56570937, "comment_id": 99720821, "body": "What <code>styled</code> library are you using? Could you please provide a link to its docs or NPM package."}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "reply_to_user": {"reputation": 106152, "user_id": 1108891, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/zUoEd.jpg?s=128&g=1", "display_name": "Shaun Luttin", "link": "https://stackoverflow.com/users/1108891/shaun-luttin"}, "edited": false, "score": 0, "creation_date": 1560377505, "post_id": 56570937, "comment_id": 99720856, "body": "Oops sorry. Added now."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1560377635, "post_id": 56570937, "comment_id": 99720884, "body": "And again some ts types are not accurate ..."}, {"owner": {"reputation": 16662, "user_id": 9119186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFjFW.png?s=128&g=1", "display_name": "Vencovsky", "link": "https://stackoverflow.com/users/9119186/vencovsky"}, "edited": false, "score": 0, "creation_date": 1560379267, "post_id": 56570937, "comment_id": 99721268, "body": "Why you are using a template string if there is no variable inside? Why not just normal string? Or that was just an example?"}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 1, "creation_date": 1560379456, "post_id": 56570937, "comment_id": 99721306, "body": "If you mean in the <code>Container</code>, it shouldn&#39;t make a difference. I prefer backticks to single quotes. Also it&#39;s just an example :)"}], "answers": [{"comments": [{"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 0, "creation_date": 1560377529, "post_id": 56570994, "comment_id": 99720862, "body": "Thanks for the suggestion but I&#39;m not a fan of that syntax since I can&#39;t just merge style objects in, which is annoying."}, {"owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1560377692, "post_id": 56570994, "comment_id": 99720896, "body": "@JonasWilms Thanks. I&#39;ll see if I can work that into my answer."}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 0, "creation_date": 1560379425, "post_id": 56570994, "comment_id": 99721300, "body": "Very cool, thanks for the comprehensive answer. And thanks to @Vincent too!"}], "tags": [], "owner": {"reputation": 135520, "user_id": 1715579, "user_type": "registered", "accept_rate": 81, "profile_image": "https://i.stack.imgur.com/4B4y1.png?s=128&g=1", "display_name": "p.s.w.g", "link": "https://stackoverflow.com/users/1715579/p-s-w-g"}, "is_accepted": true, "score": 5, "last_activity_date": 1560379477, "last_edit_date": 1560379477, "creation_date": 1560377388, "answer_id": 56570994, "question_id": 56570937, "link": "https://stackoverflow.com/questions/56570937/styled-components-typescript/56570994#56570994", "title": "Styled Components TypeScript", "body": "<p><strong>Update:</strong> On further investigation, it appears that @Vincent was on the right track before I figured out what was actually going on.</p>\n\n<pre><code>import styled, { CSSObject } from \"styled-components\";\n\nconst Container = styled.div({\n  userSelect: \"none !important\"\n} as CSSObject);\n</code></pre>\n\n<p>Will generate the following error:</p>\n\n<pre><code>Conversion of type '{ userSelect: \"none !important\"; }' to type 'CSSObject' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.\n  Type '{ userSelect: \"none !important\"; }' is not comparable to type 'Properties&lt;string | number&gt;'.\n    Types of property 'userSelect' are incompatible.\n      Type '\"none !important\"' is not comparable to type '\"contain\" | \"all\" | \"-moz-initial\" | \"inherit\" | \"initial\" | \"revert\" | \"unset\" | \"auto\" | \"none\" | \"text\" | \"-moz-none\" | \"element\" | undefined'.ts(2352)\n</code></pre>\n\n<p>So yes, styled components does indeed support this syntax even in TypeScript, it just doesn't understand the <code>!important</code> suffix. Here's a slightly modified solution you might prefer:</p>\n\n<pre><code>const important = &lt;T extends string&gt;(s: T): T =&gt; `${s} !important` as T;\n\nconst Container = styled.div({\n  userSelect: important(\"none\"),\n});\n</code></pre>\n\n<p>It's a little hacky (casting <code>\"none !important\"</code> as <code>\"none\"</code> when it clearly isn't), but it keeps your styled CSS props clean and passes the type-checks.</p>\n\n<hr>\n\n<p><strong>Original Answer:</strong> I'm not familiar with that syntax for styled components (it looks a bit like JSS, but not exactly).</p>\n\n<p>I'd recommend using the standard syntax. Styled components are usually written like this:</p>\n\n<pre><code>const Container = styled.div`\n  user-select: none !important;\n`;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 1, "creation_date": 1560378075, "post_id": 56571051, "comment_id": 99720987, "body": "Probably Typescript will need some string literal type compose syntax ... :)"}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 0, "creation_date": 1560379388, "post_id": 56571051, "comment_id": 99721296, "body": "Huh, this actually fixes the error. Can you explain what&#39;s going on here please?"}, {"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "reply_to_user": {"reputation": 16662, "user_id": 9119186, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/RFjFW.png?s=128&g=1", "display_name": "Vencovsky", "link": "https://stackoverflow.com/users/9119186/vencovsky"}, "edited": false, "score": 0, "creation_date": 1560379865, "post_id": 56571051, "comment_id": 99721391, "body": "@Vencovsky the same error happens with &quot;normal&quot; strings."}], "tags": [], "owner": {"reputation": 1323, "user_id": 7929314, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/43913876923af1b1ed1161c775860bd0?s=128&d=identicon&r=PG&f=1", "display_name": "Vincent", "link": "https://stackoverflow.com/users/7929314/vincent"}, "is_accepted": false, "score": 4, "last_activity_date": 1560379828, "last_edit_date": 1560379828, "creation_date": 1560377745, "answer_id": 56571051, "question_id": 56570937, "link": "https://stackoverflow.com/questions/56570937/styled-components-typescript/56571051#56571051", "title": "Styled Components TypeScript", "body": "<p>it doesn't recognize the <code>!important</code> so just cast it to any to quiet typescript.</p>\n\n<pre><code>styled.div({\n  userSelect: 'none !important'  as any\n});\n</code></pre>\n\n<h3>EDIT - explanation of why this works</h3>\n\n<p>its very simple. if you use an ide like atom you can \"go to\" the type for the userSelect property. The type is <code>UserSelectProperty</code> and its value must be one of these exactly. </p>\n\n<pre><code>export type Globals = \"-moz-initial\" | \"inherit\" | \"initial\" | \"revert\" | \"unset\";\nexport type UserSelectProperty = Globals | \"-moz-none\" | \"all\" | \"auto\" | \"contain\" | \"element\" | \"none\" | \"text\";\n</code></pre>\n\n<p>Since <code>none !important</code> is not an option, you have to cast it to any.</p>\n"}, {"comments": [{"owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "edited": false, "score": 0, "creation_date": 1581768836, "post_id": 60217761, "comment_id": 106551315, "body": "Thanks for the comment -- I know, I prefer the object notation for two reasons. 1.) I find it much easier to create mix-ins for commonly-used combinations, and 2.) Because you can merge style objects together."}], "tags": [], "owner": {"reputation": 1796, "user_id": 2553600, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/9069d697c8919a40fd2fd075ec6bd01f?s=128&d=identicon&r=PG", "display_name": "Brad Adams", "link": "https://stackoverflow.com/users/2553600/brad-adams"}, "is_accepted": false, "score": 0, "last_activity_date": 1581634959, "creation_date": 1581634959, "answer_id": 60217761, "question_id": 56570937, "link": "https://stackoverflow.com/questions/56570937/styled-components-typescript/60217761#60217761", "title": "Styled Components TypeScript", "body": "<p>I've just come across this question while looking for something slightly related. I know it's resolved but I've used styled-components for quite a while and never have happened to see the object syntax you refer to, I presume this is included to allow adoption from other css-in-js options.</p>\n\n<p>However, the reason for me commenting is your flex example, you could achieve a very similar effect with tagged template literals:</p>\n\n<pre><code>const flex = {\n  flex: 'display: flex',\n  col: 'flex-direction: column'\n}\n\nconst FlexRow = styled.div`\n  ${flex.flex};\n`\n\nconst FlexCol = styled.div`\n  ${flex.flex};\n  ${flex.col};\n`\n</code></pre>\n\n<p>Happy styled-componenting \ud83d\ude42</p>\n"}], "owner": {"reputation": 12437, "user_id": 5587552, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/bI4wm.jpg?s=128&g=1", "display_name": "Colin Ricardo", "link": "https://stackoverflow.com/users/5587552/colin-ricardo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1824, "favorite_count": 0, "accepted_answer_id": 56570994, "answer_count": 3, "score": 4, "last_activity_date": 1581634959, "creation_date": 1560376982, "last_edit_date": 1560380076, "question_id": 56570937, "link": "https://stackoverflow.com/questions/56570937/styled-components-typescript", "title": "Styled Components TypeScript", "body": "<p>Using <code>styled-components</code>, with normal React.js I can do like: </p>\n\n<pre><code>const Container = styled.div({\n  userSelect: `none !important`,\n})\n</code></pre>\n\n<p>however with TypeScript I get the error: </p>\n\n<pre><code>Argument of type '{ userSelect: string; }' is not assignable to parameter of type 'TemplateStringsArray'.\n  Object literal may only specify known properties, and 'userSelect' does not exist in type 'TemplateStringsArray'.ts(2345)\n\n</code></pre>\n\n<p>What's the best way to fix this? </p>\n\n<p>I don't want to use the <code>styled.div</code> template strings approach as I find it a lot less flexible. </p>\n\n<p>For example with template strings we can't do things like: </p>\n\n<pre><code>const flex = {\n  flex: display: flex,\n  col: flexDirection: `column`\n}\n\nconst FlexRow = styled.div({\n  ...flex.flex,\n})\n\nconst FlexCol = styled.div({\n   ...flex.flex,\n   ...flex.col,\n})\n</code></pre>\n"}, {"tags": ["javascript", "react-native", "jestjs", "enzyme", "uiactionsheet"], "owner": {"reputation": 253, "user_id": 10067204, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc9c819d9988ae216d38935e3f10a4f9?s=128&d=identicon&r=PG&f=1", "display_name": "HTB", "link": "https://stackoverflow.com/users/10067204/htb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 532, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1560380046, "creation_date": 1560376928, "last_edit_date": 1560380046, "question_id": 56570932, "link": "https://stackoverflow.com/questions/56570932/how-to-test-actionsheet-for-react-native-in-jest", "title": "How to test actionsheet for react native in jest?", "body": "<p>I am using <code>ActionSheetProvider</code> from <a href=\"https://github.com/expo/react-native-action-sheet\" rel=\"nofollow noreferrer\">https://github.com/expo/react-native-action-sheet</a> for my react native project.</p>\n\n<p>This is how I use it in my code:</p>\n\n<pre><code>import { connectActionSheet } from '@expo/react-native-action-sheet';\n\nexport default\n@connectActionSheet\nclass MyComponent extends React.Component {\n\n...\n\n&lt;MyCustomIcon onPress={() =&gt; this.showMenu(item)}/&gt;\n\n...\n\nshowMenu = targetItem =&gt; {\n\n  this.props.showActionSheetWithOptions(\n  {\n    options: ['cancel','rename','hide','delete'],\n    cancelButtonIndex: 0,\n    destructiveButtonIndex: 3,\n  },\n  index =&gt; {\n     if (index === 3) { //delete item }\n    }\n   }\n  );\n};\n</code></pre>\n\n<p>This is what I've done so far, but I don't know how to trigger index === 3 in my test:</p>\n\n<pre><code>const showActionSheetWithOptions = jest.fn();\n\nconst renderComponent = overrides =&gt; {\nprops = {\n  showActionSheetWithOptions,\n  ...overrides,\n};\n\nreturn shallow(&lt;MyComponent.wrappedComponent {...props} /&gt;);\n};\n\n\n  it('should check if delete option is selected', () =&gt; {\n  const wrapper = renderComponent();\n  const instance = wrapper.instance();\n  const myIcon = wrapper.find({ testID: 'my-icon' });\n\n  const spyShowMenu = jest.spyOn(instance, 'showMenu');\n  myIcon.props.onPress();\n  expect(spyShowMenu).toHaveBeenCalled(); // this test passes\n  // Now that the action sheet has been displayed, how to select delete option?\n  });\n});\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 543, "user_id": 11036008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5cZ_qGRMQ-w/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNWIEDApwBWqw1ytg1MxRigNCWPJw/mo/photo.jpg?sz=128", "display_name": "marcos souza", "link": "https://stackoverflow.com/users/11036008/marcos-souza"}, "edited": false, "score": 0, "creation_date": 1560377948, "post_id": 56570953, "comment_id": 99720957, "body": "this works, you can read my comments in the code and explain how this works? <a href=\"https://pastebin.com/GwpQimXZ\" rel=\"nofollow noreferrer\">pastebin.com/GwpQimXZ</a>. I&#39;m new in the JS/React. I have a maximum of 3 months of study (I started a long time ago, but I always stopped by hating JS and spent time rereading the things I already learned). If possible, send me some article that explains this well, I do not know what to look for."}, {"owner": {"reputation": 5378, "user_id": 4535495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BINOP.jpg?s=128&g=1", "display_name": "FurkanO", "link": "https://stackoverflow.com/users/4535495/furkano"}, "reply_to_user": {"reputation": 543, "user_id": 11036008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5cZ_qGRMQ-w/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNWIEDApwBWqw1ytg1MxRigNCWPJw/mo/photo.jpg?sz=128", "display_name": "marcos souza", "link": "https://stackoverflow.com/users/11036008/marcos-souza"}, "edited": false, "score": 0, "creation_date": 1560378127, "post_id": 56570953, "comment_id": 99720996, "body": "I did not introduce anything new that doesn&#39;t exist in your code. Array.map, Array.filter and spread syntax (...). So, if you try harder, you can understand how my solution works. Being able to write this code yourself requires some practice of these methods. I would recommend practicing on hackerrank, for instance."}, {"owner": {"reputation": 543, "user_id": 11036008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5cZ_qGRMQ-w/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNWIEDApwBWqw1ytg1MxRigNCWPJw/mo/photo.jpg?sz=128", "display_name": "marcos souza", "link": "https://stackoverflow.com/users/11036008/marcos-souza"}, "edited": false, "score": 0, "creation_date": 1560378178, "post_id": 56570953, "comment_id": 99721012, "body": "From what I understand, you are creating an object by getting all the fields in the collection, but you are applying the filter to the repos property."}, {"owner": {"reputation": 5378, "user_id": 4535495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BINOP.jpg?s=128&g=1", "display_name": "FurkanO", "link": "https://stackoverflow.com/users/4535495/furkano"}, "reply_to_user": {"reputation": 543, "user_id": 11036008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5cZ_qGRMQ-w/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNWIEDApwBWqw1ytg1MxRigNCWPJw/mo/photo.jpg?sz=128", "display_name": "marcos souza", "link": "https://stackoverflow.com/users/11036008/marcos-souza"}, "edited": false, "score": 0, "creation_date": 1560378211, "post_id": 56570953, "comment_id": 99721022, "body": "Let me write some comments, np."}, {"owner": {"reputation": 543, "user_id": 11036008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5cZ_qGRMQ-w/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNWIEDApwBWqw1ytg1MxRigNCWPJw/mo/photo.jpg?sz=128", "display_name": "marcos souza", "link": "https://stackoverflow.com/users/11036008/marcos-souza"}, "edited": false, "score": 0, "creation_date": 1560378566, "post_id": 56570953, "comment_id": 99721109, "body": "I think I get it. I&#39;ve seen something like: {...&lt; return old object properties&gt;, &lt;new properties to replace&gt;}"}, {"owner": {"reputation": 543, "user_id": 11036008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5cZ_qGRMQ-w/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNWIEDApwBWqw1ytg1MxRigNCWPJw/mo/photo.jpg?sz=128", "display_name": "marcos souza", "link": "https://stackoverflow.com/users/11036008/marcos-souza"}, "edited": false, "score": 0, "creation_date": 1560378693, "post_id": 56570953, "comment_id": 99721148, "body": "And about the use of map. Should I use it when I want to change something inside it, and use filter on the objects / arrays that I want to change? I&#39;ll try hackerrank later, I&#39;ve seen about but I gave up because it involved a lot of math in some exercises, and I do not remember anything I studied at school"}, {"owner": {"reputation": 5378, "user_id": 4535495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BINOP.jpg?s=128&g=1", "display_name": "FurkanO", "link": "https://stackoverflow.com/users/4535495/furkano"}, "reply_to_user": {"reputation": 543, "user_id": 11036008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5cZ_qGRMQ-w/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNWIEDApwBWqw1ytg1MxRigNCWPJw/mo/photo.jpg?sz=128", "display_name": "marcos souza", "link": "https://stackoverflow.com/users/11036008/marcos-souza"}, "edited": false, "score": 0, "creation_date": 1560378734, "post_id": 56570953, "comment_id": 99721160, "body": "Map when you want to update some items of an array, filter when you want to remove any item."}, {"owner": {"reputation": 5378, "user_id": 4535495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BINOP.jpg?s=128&g=1", "display_name": "FurkanO", "link": "https://stackoverflow.com/users/4535495/furkano"}, "reply_to_user": {"reputation": 543, "user_id": 11036008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5cZ_qGRMQ-w/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNWIEDApwBWqw1ytg1MxRigNCWPJw/mo/photo.jpg?sz=128", "display_name": "marcos souza", "link": "https://stackoverflow.com/users/11036008/marcos-souza"}, "edited": false, "score": 0, "creation_date": 1560378816, "post_id": 56570953, "comment_id": 99721179, "body": "Both are handy because they don t mutate the original array. Which is important about react data management. Or even for redux."}, {"owner": {"reputation": 543, "user_id": 11036008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5cZ_qGRMQ-w/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNWIEDApwBWqw1ytg1MxRigNCWPJw/mo/photo.jpg?sz=128", "display_name": "marcos souza", "link": "https://stackoverflow.com/users/11036008/marcos-souza"}, "edited": false, "score": 0, "creation_date": 1560379320, "post_id": 56570953, "comment_id": 99721283, "body": "One last thing, how does this work? const {id, repos} = collection. and {id} in the filter method. about this I researched a bit but could not find the answer"}, {"owner": {"reputation": 5378, "user_id": 4535495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BINOP.jpg?s=128&g=1", "display_name": "FurkanO", "link": "https://stackoverflow.com/users/4535495/furkano"}, "reply_to_user": {"reputation": 543, "user_id": 11036008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5cZ_qGRMQ-w/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNWIEDApwBWqw1ytg1MxRigNCWPJw/mo/photo.jpg?sz=128", "display_name": "marcos souza", "link": "https://stackoverflow.com/users/11036008/marcos-souza"}, "edited": false, "score": 0, "creation_date": 1560379680, "post_id": 56570953, "comment_id": 99721352, "body": "Object destructing. So it takes id and repos of collection object."}, {"owner": {"reputation": 5378, "user_id": 4535495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BINOP.jpg?s=128&g=1", "display_name": "FurkanO", "link": "https://stackoverflow.com/users/4535495/furkano"}, "reply_to_user": {"reputation": 543, "user_id": 11036008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5cZ_qGRMQ-w/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNWIEDApwBWqw1ytg1MxRigNCWPJw/mo/photo.jpg?sz=128", "display_name": "marcos souza", "link": "https://stackoverflow.com/users/11036008/marcos-souza"}, "edited": false, "score": 0, "creation_date": 1560379701, "post_id": 56570953, "comment_id": 99721356, "body": "Same as const id = collection.id, repos = collection.repos"}, {"owner": {"reputation": 543, "user_id": 11036008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5cZ_qGRMQ-w/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNWIEDApwBWqw1ytg1MxRigNCWPJw/mo/photo.jpg?sz=128", "display_name": "marcos souza", "link": "https://stackoverflow.com/users/11036008/marcos-souza"}, "edited": false, "score": 0, "creation_date": 1560387185, "post_id": 56570953, "comment_id": 99722656, "body": "I understood when I searched. The only one that does not make sense is {id} in filter. Since you&#39;re not doing something like const {id} = repos;  I looked quickly at the article and did not find out about it."}], "tags": [], "owner": {"reputation": 5378, "user_id": 4535495, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/BINOP.jpg?s=128&g=1", "display_name": "FurkanO", "link": "https://stackoverflow.com/users/4535495/furkano"}, "is_accepted": true, "score": 1, "last_activity_date": 1560378380, "last_edit_date": 1560378380, "creation_date": 1560377131, "answer_id": 56570953, "question_id": 56570920, "link": "https://stackoverflow.com/questions/56570920/deleting-an-object-inside-another-object-in-react/56570953#56570953", "title": "Deleting an object inside another object in React", "body": "<p>Here is a possible solution.</p>\n\n<pre><code>const handleRepoDelete = (collectionId, repoId) =&gt; {\n  // we will map each item of the collections array\n  // will only change the collection with collectionId\n  // meaning, if not, we will return the original collection\n  const newCollections = collections.map(\n    (collection) =&gt; {\n      const {\n        id, repos\n      } = collection\n      // if the id doesn't match, just return it\n      if (id !== collectionId) {\n        return collection\n      }\n      // otherwise here we return a new object\n      // only changing repos prop of it\n      // using spread syntax, we filter repos\n      // at the end, we returned the collection\n      // with the changes we want\n      return {\n        ...collection,\n        repos: repos.filter( ({ id }) =&gt; id !== repoId )\n      }\n    }\n  )\n  setCollections(newCollections);\n}\n</code></pre>\n"}], "owner": {"reputation": 543, "user_id": 11036008, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-5cZ_qGRMQ-w/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQNWIEDApwBWqw1ytg1MxRigNCWPJw/mo/photo.jpg?sz=128", "display_name": "marcos souza", "link": "https://stackoverflow.com/users/11036008/marcos-souza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 56570953, "answer_count": 1, "score": 0, "last_activity_date": 1560378380, "creation_date": 1560376836, "last_edit_date": 1560377369, "question_id": 56570920, "link": "https://stackoverflow.com/questions/56570920/deleting-an-object-inside-another-object-in-react", "title": "Deleting an object inside another object in React", "body": "<p>First, I know that React is javascript, but that's not why I can do it anyway. And following the philosophy of \"pure functions\", I'm using filter to remove things.</p>\n\n<p>The problem is this: I have a collection, where each one has a title and an array with other objects, and what I want to do is remove a specific object inside the array of the main object.</p>\n\n<p>Example:</p>\n\n<pre><code>// the state is like this\nconst collections = [ \n{\n    id: 3,\n    title: 'Machine Learning repos',\n    coll_type: 'r',\n    url: 'http://127.0.0.1:8000/api/collections/3/',\n    repos: [\n      {\n        id: 68,\n        name: 'tensorflow',\n        owner: 'tensorflow',\n        collection: 3\n      },\n      {\n        id: 76,\n        name: 'requests',\n        owner: 'kennethreitz',\n        collection: 3\n      }\n    ]\n  }\n]\n</code></pre>\n\n<p>When I click on a button to delete, it calls this function, passing the id of the collection and the repo:</p>\n\n<pre><code>const handleRepoDelete = (collectionId, repoId) =&gt; {\n    // get the collections state\n    const _newCollections = [...collections];\n    // get the collection by id\n    const collection = _newCollections.filter(\n        _collection =&gt; {\n            return _collection.id === collectionId\n        }\n    )[0]\n\n    // remove repo by id\n    collection.repos.filter(\n        repo =&gt; {\n            // here is not works\n            // is returning even when the ids are different\n            return repo.id !== repoId\n        }\n    )\n\n    // remove old collection with repo to delete\n    _newCollections.filter(\n        _collection =&gt; {\n            // here alse is not works\n            // is returning even when the ids are different, and the new and old collection\n            return _collection.id !== collection.id\n        }\n    )\n    // iterate in array with old collection deleted\n    // and add new collection with repo deleted\n    const newCollections = [..._newCollections, collection];\n    setCollections(newCollections);\n}\n</code></pre>\n\n<p>The problem is that I do not know the cleanest way to resolve this, and as you can see, the repository clicked is not being removed in the filter method.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 3, "creation_date": 1560376842, "post_id": 56570884, "comment_id": 99720672, "body": "Could you please add an example of the data that you are using for <code>items</code>?"}, {"owner": {"reputation": 10486, "user_id": 778975, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c7abe746a44ed3de463049b924005871?s=128&d=identicon&r=PG", "display_name": "Useless Code", "link": "https://stackoverflow.com/users/778975/useless-code"}, "edited": false, "score": 0, "creation_date": 1560377464, "post_id": 56570884, "comment_id": 99720845, "body": "Knowing what your expected output for the given input would be helpful too."}], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1560376919, "creation_date": 1560376919, "answer_id": 56570931, "question_id": 56570884, "link": "https://stackoverflow.com/questions/56570884/why-is-my-js-array-foreach-function-behaving-asynchronously/56570931#56570931", "title": "Why is my JS array.forEach() function behaving asynchronously?", "body": "<p>This has nothing todo with asynchrony. Don't use arrays as objects. When serializing an array, all non numeric properties get removed, thats why they don't occur in your first log. Generally arrays are meant to be used with numeric keys, so an object is a better choice here (as your keys are non numeric).</p>\n"}], "owner": {"reputation": 1, "user_id": 11639290, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-JIpejmk_YjQ/AAAAAAAAAAI/AAAAAAAAAIA/Wr7gpBVqTdA/photo.jpg?sz=128", "display_name": "Kirk Lundblade", "link": "https://stackoverflow.com/users/11639290/kirk-lundblade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 0, "closed_date": 1560376988, "answer_count": 1, "score": -1, "last_activity_date": 1560378029, "creation_date": 1560376573, "last_edit_date": 1560378029, "question_id": 56570884, "link": "https://stackoverflow.com/questions/56570884/why-is-my-js-array-foreach-function-behaving-asynchronously", "closed_reason": "Duplicate", "title": "Why is my JS array.forEach() function behaving asynchronously?", "body": "<p>I've got what seems to be a fairly simple JavaScript function that I'm implementing in my vuex store, but the function seems to be behaving asynchronously; using <code>console.log()</code> [in chrome] gets me the full array, but trying <code>console.log(JSON.parse(JSON.stringify(array)))</code> gives me an empty array. From what little I know, this suggests that some part of my code is behaving asynchronously, and I'd really like to figure out how to alter this behavior to be synchronous.</p>\n\n<p>My code:</p>\n\n<pre><code>function groupBy(array, key){\n    let list = [];\n    array.forEach(element =&gt;{\n        if(!list[element[key]]){\n            list[element[key]] = [element];\n        }else{\n            list[element[key]].push(element);\n        }\n    });\n    return list;\n}\n</code></pre>\n\n<p>I'm testing the output with this:</p>\n\n<pre><code>    let list = groupBy(items, 'grpstr');\n    console.log(JSON.parse(JSON.stringify(list)));\n    console.log(list);\n    return list;\n</code></pre>\n\n<p>Again, in the chrome console the first log() is returning an empty array, while the second is returning the proper array. What's my mistake here?</p>\n\n<p>I've tried changing the accumulated array to an object, which works (strangely), but I need to pass this array into the vuejs app to be iterated over and vue doesn't iterate over object keys in a useful fashion (for my app, at least).</p>\n\n<p>EDIT:\nthe data being passed to the function is an array of objects of the form:</p>\n\n<pre><code>[{grpstr: \"01-31-2017\" ...}, {grpstr: \"01-31-2017\" ...}, {grpstr: \"01-31-2017\" ...} ]\n</code></pre>\n"}, {"tags": ["javascript", "angular", "typescript", "ecmascript-6", "single-page-application"], "comments": [{"owner": {"reputation": 4450, "user_id": 11270840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/um2Zv.jpg?s=128&g=1", "display_name": "Ghoul Ahmed", "link": "https://stackoverflow.com/users/11270840/ghoul-ahmed"}, "edited": false, "score": 0, "creation_date": 1560377526, "post_id": 56570864, "comment_id": 99720860, "body": "Try this [routerLink]=&quot;[ &#39;/about-me&#39; ]&quot;"}], "answers": [{"tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 1, "last_activity_date": 1560396553, "creation_date": 1560396553, "answer_id": 56572984, "question_id": 56570864, "link": "https://stackoverflow.com/questions/56570864/cannot-navigate-to-route-when-default-route-has-a-parameter-in-angular/56572984#56572984", "title": "Cannot navigate to route when default route has a parameter in Angular", "body": "<p>You must change your route like this</p>\n\n<pre><code>&lt;li&gt;&lt;a [routerLink]=\"['/about-me']\"&gt;ABOUT ME&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>Then add some route before the pageNumber params. I'm not sure your route defenition for HomeComponent is correct</p>\n\n<pre><code>{\n   path: 'something/:pageNumber',\n   component: HomeComponent\n},\n</code></pre>\n"}], "owner": {"reputation": 3521, "user_id": 4300608, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/YSsa5.png?s=128&g=1", "display_name": "ViqMontana", "link": "https://stackoverflow.com/users/4300608/viqmontana"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 60, "favorite_count": 0, "accepted_answer_id": 56572984, "answer_count": 1, "score": 0, "last_activity_date": 1576223399, "creation_date": 1560376415, "last_edit_date": 1576223399, "question_id": 56570864, "link": "https://stackoverflow.com/questions/56570864/cannot-navigate-to-route-when-default-route-has-a-parameter-in-angular", "title": "Cannot navigate to route when default route has a parameter in Angular", "body": "<p>I have the following routes:</p>\n\n<pre><code>const routes: Routes = [\n  {\n    path: '',\n    component: BlogLayoutComponent,\n    children: [\n      {\n        path: ':pageNumber',\n        component: HomeComponent\n      },\n      {\n        path: '',\n        component: HomeComponent\n      },\n      {\n        path: 'article/:id',\n        component: ArticleComponent\n      },\n      {\n        path: 'articles-by-hashtag/:id',\n        component: ArticlesByHashComponent\n      },\n      {\n        path: 'articles-by-category/:id',\n        component: ArticlesByCatComponent\n      },\n      {\n        path: 'about-me',\n        component: AboutMeComponent\n      }\n    ]\n  }\n];\n</code></pre>\n\n<p>All the routes work fine, but I cannot navigate to the <code>about-me</code> page using <code>routerLink</code> like so:</p>\n\n<pre><code>&lt;li&gt;&lt;a [routerLink]=\"[ 'about-me' ]\"&gt;ABOUT ME&lt;/a&gt;&lt;/li&gt;\n</code></pre>\n\n<p>If I remove the default parameter <code>:pageNumber</code> then the navigation works, else the <code>about-me</code> link take me to the default route.</p>\n\n<p>How can I make the <code>about-me</code> route work? I'd rather not use <code>router.navigate(...</code> to be honest.</p>\n"}, {"tags": ["javascript", "jquery", "filter", "datatable"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11639267, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--l1dCL5PIew/AAAAAAAAAAI/AAAAAAAAAAQ/B2DQU4zTO6w/photo.jpg?sz=128", "display_name": "Sida Zhang", "link": "https://stackoverflow.com/users/11639267/sida-zhang"}, "edited": false, "score": 0, "creation_date": 1560438407, "post_id": 56574349, "comment_id": 99745038, "body": "Hi TwoCents, I have tried the code above before I post the question, but it was not drawing the table. &quot;$(&#39;#selectByDate&#39;).on(&#39;change&#39;, function () &quot; did change the value of mixInput and minInput, but it did not redraw the table."}, {"owner": {"reputation": 5963, "user_id": 3625215, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/e6b47147e1088f99481252061f033fec?s=128&d=identicon&r=PG&f=1", "display_name": "MyTwoCents", "link": "https://stackoverflow.com/users/3625215/mytwocents"}, "reply_to_user": {"reputation": 1, "user_id": 11639267, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--l1dCL5PIew/AAAAAAAAAAI/AAAAAAAAAAQ/B2DQU4zTO6w/photo.jpg?sz=128", "display_name": "Sida Zhang", "link": "https://stackoverflow.com/users/11639267/sida-zhang"}, "edited": false, "score": 0, "creation_date": 1560444122, "post_id": 56574349, "comment_id": 99748123, "body": "I don&#39;t know how you have defined the table in table.draw();  It has to be a Datatable Object.  2.  check your logic for search.push function   3. check if Datatable version you are using supports search.push extension."}], "tags": [], "owner": {"reputation": 5963, "user_id": 3625215, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/e6b47147e1088f99481252061f033fec?s=128&d=identicon&r=PG&f=1", "display_name": "MyTwoCents", "link": "https://stackoverflow.com/users/3625215/mytwocents"}, "is_accepted": false, "score": 0, "last_activity_date": 1560406507, "creation_date": 1560406507, "answer_id": 56574349, "question_id": 56570852, "link": "https://stackoverflow.com/questions/56570852/fn-datatable-ext-search-push-not-working-inside-of-onchange-jquery/56574349#56574349", "title": "$.fn.dataTable.ext.search.push not working inside of on(change) jquery", "body": "<p>First of all your code has lot of duplicate data which can be avoided.</p>\n\n<p><code>$.fn.dataTable.ext.search.push</code> need to be defined only once.</p>\n\n<p>Here is shorter version from 150 lines to just 50.</p>\n\n<pre><code>$(document).ready(function () {\n\n     $.fn.dataTable.ext.search.push(\n        function (settings, data, dataIndex) {\n            var date1 = data[0].split(\" \");\n            var date2 = date1[0].split(\"-\");\n            var min = $('#minInput').datepicker(\"getDate\");\n            var max = $('#maxInput').datepicker(\"getDate\");\n            var startDate = new Date(date2[0], date2[1], date2[2]);\n            startDate.setMonth(startDate.getMonth() - 1);\n            if (min == null &amp;&amp; max == null) { return true; }\n            else if (min == null &amp;&amp; startDate &lt;= max) { return true; }\n            else if (max == null &amp;&amp; startDate &gt;= min) { return true; }\n            else if (startDate &lt;= max &amp;&amp; startDate &gt;= min) { return true; }\n            else { return false; }\n        });\n\n\n    $('#selectByDate').on('change', function () {\n        var minDate = new Date();\n        $(\"#minInput\").datepicker(\"setDate\", minDate);\n        if (document.getElementById(\"selectByDate\").value == \"Today\") {\n            $(\"#maxInput\").datepicker(\"setDate\", minDate);\n        } else if (document.getElementById(\"selectByDate\").value == \"Yesterday\") {\n            $(\"#maxInput\").datepicker(\"setDate\", minDate.setDate(minDate.getDate() - 1));\n        } else if (document.getElementById(\"selectByDate\").value == \"Last 7 Days\") {\n            $(\"#maxInput\").datepicker(\"setDate\", minDate.setDate(minDate.getDate() - 7));\n        } else if (document.getElementById(\"selectByDate\").value == \"Last 30 Days\") {\n            $(\"#maxInput\").datepicker(\"setDate\", minDate.setDate(minDate.getDate() - 30));\n        } else if (document.getElementById(\"selectByDate\").value == \"Last 60 Days\") {\n            $(\"#maxInput\").datepicker(\"setDate\", minDate.setDate(minDate.getDate() - 60));\n        } else if (document.getElementById(\"selectByDate\").value == \"Last 90 Days\") {\n            $(\"#maxInput\").datepicker(\"setDate\", minDate.setDate(minDate.getDate() - 90));\n        }\n\n\n    });\n\n    $('#minInput, #maxInput').change(function () {\n        table.draw();\n    });\n\n    $(\"#minInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n\n    $(\"#maxInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n\n\n\n});\n</code></pre>\n\n<p>Try this code if still you have issue refer <a href=\"https://datatables.net/examples/plug-ins/range_filtering.html\" rel=\"nofollow noreferrer\">this link with demo</a></p>\n"}], "owner": {"reputation": 1, "user_id": 11639267, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/--l1dCL5PIew/AAAAAAAAAAI/AAAAAAAAAAQ/B2DQU4zTO6w/photo.jpg?sz=128", "display_name": "Sida Zhang", "link": "https://stackoverflow.com/users/11639267/sida-zhang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1209, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560406507, "creation_date": 1560376372, "question_id": 56570852, "link": "https://stackoverflow.com/questions/56570852/fn-datatable-ext-search-push-not-working-inside-of-onchange-jquery", "title": "$.fn.dataTable.ext.search.push not working inside of on(change) jquery", "body": "<p>I am having trouble to generate a date filter (selection box in HTML) that shows selected date option from the table(Today, Yesterday, Last 7 Days, Last 30 Days, Last 60 Days, and Last 90 Days).</p>\n\n<p>Somehow the code in $.fn.dataTable.ext.search.push does not fire up. Please help me out!</p>\n\n<p><a href=\"https://i.stack.imgur.com/Hyk6g.png\" rel=\"nofollow noreferrer\">Search Filter Image</a></p>\n\n<pre><code>$(document).ready(function () {\n    $('#selectByDate').on('change', function () {\n        var minDate = new Date();\n        if (document.getElementById(\"selectByDate\").value == \"Today\") {\n            $(\"#maxInput\").datepicker(\"setDate\", minDate);\n            $(\"#minInput\").datepicker(\"setDate\", minDate);\n            $.fn.dataTable.ext.search.push(\n                function (settings, data, dataIndex) {\n                    var date1 = data[0].split(\" \");\n                    var date2 = date1[0].split(\"-\");\n                    var min = $('#minInput').datepicker(\"getDate\");\n                    var max = $('#maxInput').datepicker(\"getDate\");\n                    var startDate = new Date(date2[0], date2[1], date2[2]);\n                    startDate.setMonth(startDate.getMonth() - 1);\n                    if (min == null &amp;&amp; max == null) { return true; }\n                    else if (min == null &amp;&amp; startDate &lt;= max) { return true; }\n                    else if (max == null &amp;&amp; startDate &gt;= min) { return true; }\n                    else if (startDate &lt;= max &amp;&amp; startDate &gt;= min) { return true; }\n                    else { return false; }\n                });\n            $(\"#minInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n            $(\"#maxInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n\n            $('#minInput, #maxInput').change(function () {\n                table.draw();\n            });\n\n        } else if (document.getElementById(\"selectByDate\").value == \"Yesterday\") {\n            $(\"#maxInput\").datepicker(\"setDate\", minDate.setDate(minDate.getDate() - 1));\n            $(\"#minInput\").datepicker(\"setDate\", minDate);\n            $.fn.dataTable.ext.search.push(\n                function (settings, data, dataIndex) {\n                    var date1 = data[0].split(\" \");\n                    var date2 = date1[0].split(\"-\");\n                    var min = $('#minInput').datepicker(\"getDate\");\n                    var max = $('#maxInput').datepicker(\"getDate\");\n                    var startDate = new Date(date2[0], date2[1], date2[2]);\n                    startDate.setMonth(startDate.getMonth() - 1);\n                    if (min == null &amp;&amp; max == null) { return true; }\n                    else if (min == null &amp;&amp; startDate &lt;= max) { return true; }\n                    else if (max == null &amp;&amp; startDate &gt;= min) { return true; }\n                    else if (startDate &lt;= max &amp;&amp; startDate &gt;= min) { return true; }\n                    else { return false; }\n                });\n            $(\"#minInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n            $(\"#maxInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n\n            $('#minInput, #maxInput').change(function () {\n                table.draw();\n            });\n\n        } else if (document.getElementById(\"selectByDate\").value == \"Last 7 Days\") {\n            $(\"#maxInput\").datepicker(\"setDate\", minDate.setDate(minDate.getDate() - 7));\n            $(\"#minInput\").datepicker(\"setDate\", minDate);\n            $.fn.dataTable.ext.search.push(\n                function (settings, data, dataIndex) {\n                    var date1 = data[0].split(\" \");\n                    var date2 = date1[0].split(\"-\");\n                    var min = $('#minInput').datepicker(\"getDate\");\n                    var max = $('#maxInput').datepicker(\"getDate\");\n                    var startDate = new Date(date2[0], date2[1], date2[2]);\n                    startDate.setMonth(startDate.getMonth() - 1);\n                    if (min == null &amp;&amp; max == null) { return true; }\n                    else if (min == null &amp;&amp; startDate &lt;= max) { return true; }\n                    else if (max == null &amp;&amp; startDate &gt;= min) { return true; }\n                    else if (startDate &lt;= max &amp;&amp; startDate &gt;= min) { return true; }\n                    else { return false; }\n                });\n            $(\"#minInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n            $(\"#maxInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n\n            $('#minInput, #maxInput').change(function () {\n                table.draw();\n            });\n\n        } else if (document.getElementById(\"selectByDate\").value == \"Last 30 Days\") {\n            $(\"#maxInput\").datepicker(\"setDate\", minDate.setDate(minDate.getDate() - 30));\n            $(\"#minInput\").datepicker(\"setDate\", minDate);\n            $.fn.dataTable.ext.search.push(\n                function (settings, data, dataIndex) {\n                    var date1 = data[0].split(\" \");\n                    var date2 = date1[0].split(\"-\");\n                    var min = $('#minInput').datepicker(\"getDate\");\n                    var max = $('#maxInput').datepicker(\"getDate\");\n                    var startDate = new Date(date2[0], date2[1], date2[2]);\n                    startDate.setMonth(startDate.getMonth() - 1);\n                    if (min == null &amp;&amp; max == null) { return true; }\n                    else if (min == null &amp;&amp; startDate &lt;= max) { return true; }\n                    else if (max == null &amp;&amp; startDate &gt;= min) { return true; }\n                    else if (startDate &lt;= max &amp;&amp; startDate &gt;= min) { return true; }\n                    else { return false; }\n                });\n            $(\"#minInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n            $(\"#maxInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n\n            $('#minInput, #maxInput').change(function () {\n                table.draw();\n            });\n\n        } else if (document.getElementById(\"selectByDate\").value == \"Last 60 Days\") {\n            $(\"#maxInput\").datepicker(\"setDate\", minDate.setDate(minDate.getDate() - 60));\n            $(\"#minInput\").datepicker(\"setDate\", minDate);\n            $.fn.dataTable.ext.search.push(\n                function (settings, data, dataIndex) {\n                    var date1 = data[0].split(\" \");\n                    var date2 = date1[0].split(\"-\");\n                    var min = $('#minInput').datepicker(\"getDate\");\n                    var max = $('#maxInput').datepicker(\"getDate\");\n                    var startDate = new Date(date2[0], date2[1], date2[2]);\n                    startDate.setMonth(startDate.getMonth() - 1);\n                    if (min == null &amp;&amp; max == null) { return true; }\n                    else if (min == null &amp;&amp; startDate &lt;= max) { return true; }\n                    else if (max == null &amp;&amp; startDate &gt;= min) { return true; }\n                    else if (startDate &lt;= max &amp;&amp; startDate &gt;= min) { return true; }\n                    else { return false; }\n                });\n            $(\"#minInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n            $(\"#maxInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n\n            $('#minInput, #maxInput').change(function () {\n                table.draw();\n            });\n\n        } else if (document.getElementById(\"selectByDate\").value == \"Last 90 Days\") {\n            $(\"#maxInput\").datepicker(\"setDate\", minDate.setDate(minDate.getDate() - 90));\n            $(\"#minInput\").datepicker(\"setDate\", minDate);\n            $.fn.dataTable.ext.search.push(\n                function (settings, data, dataIndex) {\n                    var date1 = data[0].split(\" \");\n                    var date2 = date1[0].split(\"-\");\n                    var min = $('#minInput').datepicker(\"getDate\");\n                    var max = $('#maxInput').datepicker(\"getDate\");\n                    var startDate = new Date(date2[0], date2[1], date2[2]);\n                    startDate.setMonth(startDate.getMonth() - 1);\n                    if (min == null &amp;&amp; max == null) { return true; }\n                    else if (min == null &amp;&amp; startDate &lt;= max) { return true; }\n                    else if (max == null &amp;&amp; startDate &gt;= min) { return true; }\n                    else if (startDate &lt;= max &amp;&amp; startDate &gt;= min) { return true; }\n                    else { return false; }\n                });\n            $(\"#minInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n            $(\"#maxInput\").datepicker({ onSelect: function () { table.draw(); }, changeMonth: true, changeYear: true });\n\n            $('#minInput, #maxInput').change(function () {\n                table.draw();\n            });\n        }\n    });\n});\n</code></pre>\n"}, {"tags": ["javascript", "d3.js", "charts", "c3.js", "scatter"], "answers": [{"tags": [], "owner": {"reputation": 5707, "user_id": 368214, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/bDcql.png?s=128&g=1", "display_name": "mgraham", "link": "https://stackoverflow.com/users/368214/mgraham"}, "is_accepted": false, "score": 0, "last_activity_date": 1560505163, "creation_date": 1560505163, "answer_id": 56595453, "question_id": 56570842, "link": "https://stackoverflow.com/questions/56570842/c3-scatter-plot-show-all-tcks/56595453#56595453", "title": "C3 scatter plot show all tcks", "body": "<p>Try 'null' instead of '0'</p>\n\n<p>Here, 'gnu' still shows up as a category</p>\n\n<pre><code>var chart = c3.generate({\n    data: {\n        xs: {\n            setosa: 'setosa_x',\n            versicolor: 'versicolor_x',\n        },\n        // iris data from R\n        columns: [\n            [\"setosa_x\", \"ant\", \"bat\", \"cat\", \"dog\"],\n            [\"versicolor_x\", \"eel\", \"fox\", \"gnu\", \"hen\"],\n            [\"setosa\", \"0.2, 0.2, 0.2, 0.2\"],\n            [\"versicolor\", 1.3, 1.3, null, 1.3],\n        ],\n        type: 'scatter'\n    },\n    axis: {\n        x: {\n            label: 'Sepal.Width',\n            tick: {\n                fit: false\n            },\n            type: \"category\"\n        },\n        y: {\n            label: 'Petal.Width',\n            type: \"category\"\n        }\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 566, "user_id": 1921234, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/8c08c15ecaeeaa0727230c5918f9f8cb?s=128&d=identicon&r=PG", "display_name": "migpok35", "link": "https://stackoverflow.com/users/1921234/migpok35"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 56, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560505163, "creation_date": 1560376337, "question_id": 56570842, "link": "https://stackoverflow.com/questions/56570842/c3-scatter-plot-show-all-tcks", "title": "C3 scatter plot show all tcks", "body": "<p>My Y axis is four categories.<br>\nMy X Axis is 6 categories.</p>\n\n<p>I won't always have data for each, but I need to show the tick marks all the times.<br>\nI've gone with inserting <code>0</code> counts for points that I don't want to show. But that still triggers mouseover events for hovering (which seems to be unacceptable). When I filter our the non-data all my tick marks go away.</p>\n\n<p>Any suggestions?</p>\n"}, {"tags": ["javascript", "jquery", "dom"], "comments": [{"owner": {"reputation": 299695, "user_id": 507674, "user_type": "registered", "accept_rate": 74, "profile_image": "https://www.gravatar.com/avatar/6801bf30e40c9f7972987d67e2d5e4f2?s=128&d=identicon&r=PG", "display_name": "Niet the Dark Absol", "link": "https://stackoverflow.com/users/507674/niet-the-dark-absol"}, "edited": false, "score": 0, "creation_date": 1560376365, "post_id": 56570817, "comment_id": 99720560, "body": "<code>$(&#39;.row-timelot&#39;, this)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 1732, "user_id": 2719598, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/l9oGS.jpg?s=128&g=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/2719598/kenny"}, "edited": false, "score": 0, "creation_date": 1560392946, "post_id": 56570831, "comment_id": 99723631, "body": "Oh, awesome, I didn&#39;t know that <code>.each()</code> could chain to <code>.find()</code>. Thanks!"}], "tags": [], "owner": {"reputation": 23640, "user_id": 1595669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IFn9l.png?s=128&g=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/1595669/pavel"}, "is_accepted": true, "score": 3, "last_activity_date": 1560376272, "creation_date": 1560376272, "answer_id": 56570831, "question_id": 56570817, "link": "https://stackoverflow.com/questions/56570817/jquery-this-selector-each/56570831#56570831", "title": "jQuery - $(this) + Selector - .each()", "body": "<p><code>$(this)('.row-timeslot')</code> is invalid JS construct.</p>\n\n<p>In <code>.row-timeslot</code> is a child of <code>.row-day</code>, you're looking for <code>.find()</code>.</p>\n\n<pre><code>$('.row-day').each(function() {\n    let dayFlag = false; \n\n    // here $(this) contains one of .row-days\n\n    $(this).find('.row-timeslot').each(function() {\n        // here $(this) contains one of .row-timeslots\n    });\n});\n</code></pre>\n"}], "owner": {"reputation": 1732, "user_id": 2719598, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/l9oGS.jpg?s=128&g=1", "display_name": "Kenny", "link": "https://stackoverflow.com/users/2719598/kenny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 56570831, "answer_count": 1, "score": 0, "last_activity_date": 1560376272, "creation_date": 1560376148, "question_id": 56570817, "link": "https://stackoverflow.com/questions/56570817/jquery-this-selector-each", "title": "jQuery - $(this) + Selector - .each()", "body": "<p>I'm trying to do a nested <code>.each()</code> so that I only target descendants of the current iteration of the parent. </p>\n\n<p>For example: </p>\n\n<pre><code>$('.row-day').each(function() {\n    let dayFlag = false; \n\n    $(this)('.row-timeslot').each(function() {\n\n    });\n});\n</code></pre>\n\n<p>Except I know the above won't work, but should do for describing what I'd like to do. There will be many children for <code>.row-timeslot</code> so I need to use a <code>.each</code>. I've read maybe a <code>.find()</code> but I don't know if that will iterate over all of the children. Thanks for any help!</p>\n"}, {"tags": ["javascript", "discord.js", "commando"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11639242, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KassgLdDZfw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdta4Qo9Vff2WO1RGXXcuKb-FY6pQ/mo/photo.jpg?sz=128", "display_name": "Rapha&#235;l Scellier", "link": "https://stackoverflow.com/users/11639242/rapha%c3%abl-scellier"}, "edited": false, "score": 0, "creation_date": 1560387933, "post_id": 56572046, "comment_id": 99722778, "body": "Oh my god, thank you so much ! I&#39;m new to the javascript environment, i didn&#39;t know that the for(..of..) existed. Thank you !!!"}, {"owner": {"reputation": 5000, "user_id": 11321804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VOIwjh_teGk/AAAAAAAAAAI/AAAAAAAAIjY/X51qzoN8QLM/photo.jpg?sz=128", "display_name": "slothiful", "link": "https://stackoverflow.com/users/11321804/slothiful"}, "reply_to_user": {"reputation": 3, "user_id": 11639242, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KassgLdDZfw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdta4Qo9Vff2WO1RGXXcuKb-FY6pQ/mo/photo.jpg?sz=128", "display_name": "Rapha&#235;l Scellier", "link": "https://stackoverflow.com/users/11639242/rapha%c3%abl-scellier"}, "edited": false, "score": 0, "creation_date": 1560388058, "post_id": 56572046, "comment_id": 99722797, "body": "Glad I could help! Feel free to accept this answer with the checkmark on the left if it solves your problem."}], "tags": [], "owner": {"reputation": 5000, "user_id": 11321804, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-VOIwjh_teGk/AAAAAAAAAAI/AAAAAAAAIjY/X51qzoN8QLM/photo.jpg?sz=128", "display_name": "slothiful", "link": "https://stackoverflow.com/users/11321804/slothiful"}, "is_accepted": true, "score": 1, "last_activity_date": 1560387143, "creation_date": 1560387143, "answer_id": 56572046, "question_id": 56570791, "link": "https://stackoverflow.com/questions/56570791/discord-js-how-do-i-get-all-the-members-connected-to-the-voice-channels-of-a-c/56572046#56572046", "title": "(Discord.js) How do i get all the members connected to the voice channels of a category?", "body": "<ul>\n<li><p>When you declare <code>connected_members</code>, you should use a <em>single</em> function in <a href=\"https://discord.js.org/#/docs/main/stable/class/Collection?scrollTo=filter\" rel=\"nofollow noreferrer\"><code>Collection.filter()</code></a>.</p></li>\n<li><p><code>Collection.filter()</code> returns another Collection, of which <code>members</code> is not a property. You'll have to iterate through <em>each channel</em> to get its members.</p></li>\n<li><p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...in\" rel=\"nofollow noreferrer\"><code>for...in</code></a> \"iterates over all non-Symbol, enumerable <em>properties of an object</em>\" (MDN). In a Collection (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map\" rel=\"nofollow noreferrer\">Map</a>), the elements aren't properties, but key-value pairs. You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/for...of\" rel=\"nofollow noreferrer\"><code>for...of</code></a> instead in this context.</p></li>\n</ul>\n\n<pre class=\"lang-js prettyprint-override\"><code>if (message.member.permissions.missing('ADMINISTRATOR')) return;\n\nconst channels = message.guild.channels.filter(c =&gt; c.parentID === '497908108803440653' &amp;&amp; c.type === 'voice');\n\nfor (const [channelID, channel] of channels) {\n  for (const [memberID, member] of channel.members) {\n    member.setVoiceChannel('497910775512563742')\n      .then(() =&gt; console.log(`Moved ${member.user.tag}.`))\n      .catch(console.error);\n  }\n}\n</code></pre>\n\n<p><em>Side note: Use <code>Map.get()</code> for finding a value from a Collection by its ID.</em></p>\n"}], "owner": {"reputation": 3, "user_id": 11639242, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-KassgLdDZfw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdta4Qo9Vff2WO1RGXXcuKb-FY6pQ/mo/photo.jpg?sz=128", "display_name": "Rapha&#235;l Scellier", "link": "https://stackoverflow.com/users/11639242/rapha%c3%abl-scellier"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 12161, "favorite_count": 0, "accepted_answer_id": 56572046, "answer_count": 1, "score": 0, "last_activity_date": 1560387143, "creation_date": 1560376003, "last_edit_date": 1560377371, "question_id": 56570791, "link": "https://stackoverflow.com/questions/56570791/discord-js-how-do-i-get-all-the-members-connected-to-the-voice-channels-of-a-c", "title": "(Discord.js) How do i get all the members connected to the voice channels of a category?", "body": "<p>So, i'm making a command called \"movedebat\" to move all the members connected to the voice channels of a channel category to a channel dedicated to debates.</p>\n\n<p>To achieve my goal, I am trying to get the list of all the connected members, to then use a for(member in members) loop and move each one of the members.</p>\n\n<pre><code>    let debate_channel = message.guild.channels.find(c =&gt; c.id === '497910775512563742');\n    let group_of_channels = message.guild.channels.find(c =&gt; c.id === '497908108803440653');\n    let connected_members = message.guild.channels.filter((c =&gt; parentID === group_of_channels.id)&amp;&amp;(c =&gt; c.type == 2)).members;\n    if(message.member.permissions.has('ADMINISTRATOR')){\n        for(connected_member in connected_members){\n            console.log(connected_member.id); \n            connected_member.setVoiceChannel(debate_channel)\n                .then(() =&gt; console.log(`Moved ${connected_member.displayName}`))\n                .catch(console.error);\n        }\n    }\n</code></pre>\n\n<p>The problem is that it doesn't work at all. I do not get any error, neither by the bot itself in discord or in the console.\nThe only thing I get is a warning <code>DeprecationWarning: Collection#filterArray: use Collection#filter instead</code>, but I Googled it and people seemed to say it was not important.\ni think that the problematic line is the 'let connected_members(...)members;' one.\nI should mention that i expect to see at least 1 member id in my console, but i don't get any, that means that the for loop is not 'executed'.</p>\n\n<p>Thank you for reading me, I hope someone can help ! ^^</p>\n"}, {"tags": ["javascript", "php", "html", "css", "vuejs2"], "comments": [{"owner": {"reputation": 23640, "user_id": 1595669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IFn9l.png?s=128&g=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/1595669/pavel"}, "edited": false, "score": 1, "creation_date": 1560376215, "post_id": 56570779, "comment_id": 99720517, "body": "Sometimes yes, sometimes no... depends on any filled values/fields in form? Are you checked spam in the recipient mailbox?"}, {"owner": {"reputation": 11, "user_id": 11639218, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aHg5zFYUsag/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rerGzBBu_pc3F8N4m-T8NVg5AjFdw/mo/photo.jpg?sz=128", "display_name": "Tiago Silva", "link": "https://stackoverflow.com/users/11639218/tiago-silva"}, "reply_to_user": {"reputation": 23640, "user_id": 1595669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IFn9l.png?s=128&g=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/1595669/pavel"}, "edited": false, "score": 0, "creation_date": 1560376789, "post_id": 56570779, "comment_id": 99720660, "body": "yeh i check spam and is nothing there. yeh i think when i put more than 8 or 9 idk the correct values switch on it dont pass the email"}, {"owner": {"reputation": 23640, "user_id": 1595669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IFn9l.png?s=128&g=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/1595669/pavel"}, "edited": false, "score": 0, "creation_date": 1560377331, "post_id": 56570779, "comment_id": 99720809, "body": "How looks <code>$mail-&gt;Body</code> of any failed message (for example I see unsanitized variables, when in any field is <code>&#39;</code> it can cause any problems)? Please upload somewhere whole &#39;incorrect&#39; html. What smtpDebug says?"}, {"owner": {"reputation": 23640, "user_id": 1595669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IFn9l.png?s=128&g=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/1595669/pavel"}, "edited": false, "score": 0, "creation_date": 1560377670, "post_id": 56570779, "comment_id": 99720891, "body": "This PHP code looks good, so you need to simulate situation when mail doesn&#39;t arrive to recipient and then work with that. With the same filled form, with generated HTML in mail body, ..."}, {"owner": {"reputation": 11, "user_id": 11639218, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aHg5zFYUsag/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rerGzBBu_pc3F8N4m-T8NVg5AjFdw/mo/photo.jpg?sz=128", "display_name": "Tiago Silva", "link": "https://stackoverflow.com/users/11639218/tiago-silva"}, "reply_to_user": {"reputation": 23640, "user_id": 1595669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IFn9l.png?s=128&g=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/1595669/pavel"}, "edited": false, "score": 0, "creation_date": 1560378998, "post_id": 56570779, "comment_id": 99721216, "body": "Ok i will test more this, i have problems with server supplier because It Block my acc if i try the email send too much times (support guy said is to prevent spam blocks). But i will try more tomorrow and put here some news. Thanks"}, {"owner": {"reputation": 23640, "user_id": 1595669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IFn9l.png?s=128&g=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/1595669/pavel"}, "edited": false, "score": 0, "creation_date": 1560379076, "post_id": 56570779, "comment_id": 99721237, "body": "10, 20, 30 emails per hour can&#39;t be problem with correctly setting of mail server. Now I can&#39;t help you more... And change your pass to email account, I&#39;ve changed it here, but edits are public here (never paste your credentials to internet)."}, {"owner": {"reputation": 11, "user_id": 11639218, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aHg5zFYUsag/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rerGzBBu_pc3F8N4m-T8NVg5AjFdw/mo/photo.jpg?sz=128", "display_name": "Tiago Silva", "link": "https://stackoverflow.com/users/11639218/tiago-silva"}, "reply_to_user": {"reputation": 23640, "user_id": 1595669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IFn9l.png?s=128&g=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/1595669/pavel"}, "edited": false, "score": 0, "creation_date": 1560379991, "post_id": 56570779, "comment_id": 99721418, "body": "No problem with password is generated and i will change now. I will test and try to see where is the problem. Thank you."}, {"owner": {"reputation": 11, "user_id": 11639218, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aHg5zFYUsag/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rerGzBBu_pc3F8N4m-T8NVg5AjFdw/mo/photo.jpg?sz=128", "display_name": "Tiago Silva", "link": "https://stackoverflow.com/users/11639218/tiago-silva"}, "reply_to_user": {"reputation": 23640, "user_id": 1595669, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/IFn9l.png?s=128&g=1", "display_name": "pavel", "link": "https://stackoverflow.com/users/1595669/pavel"}, "edited": false, "score": 0, "creation_date": 1560525839, "post_id": 56570779, "comment_id": 99778152, "body": "I&#39;m trying with all my knowladge but i can&#39;t figure out what&#39;s happend with this. I can put here the SMTPDebug if you think that can help. But idk what&#39;s happend the email e out from the server but i dont receive it on email recipent. gratz"}, {"owner": {"reputation": 193, "user_id": 7772871, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ad83b3449bb945ae2874e1e3bfadf832?s=128&d=identicon&r=PG&f=1", "display_name": "Sascha Grindau", "link": "https://stackoverflow.com/users/7772871/sascha-grindau"}, "edited": false, "score": 0, "creation_date": 1564245010, "post_id": 56570779, "comment_id": 100970553, "body": "you should read into how you can simply write some variables to a log file and then wait for the error and read it. You also use those post variables unfiltered, that can result in unexpectated behaviour."}], "owner": {"reputation": 11, "user_id": 11639218, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-aHg5zFYUsag/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rerGzBBu_pc3F8N4m-T8NVg5AjFdw/mo/photo.jpg?sz=128", "display_name": "Tiago Silva", "link": "https://stackoverflow.com/users/11639218/tiago-silva"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560376052, "creation_date": 1560375925, "last_edit_date": 1560376052, "question_id": 56570779, "link": "https://stackoverflow.com/questions/56570779/webpage-sometimes-work-other-times-dont-work", "title": "Webpage sometimes work other times don&#39;t work", "body": "<p>Good night,</p>\n\n<p>It's not easy to explain (my english not the best too) what's happend but i will try my best.</p>\n\n<p>The problem is, i have a big \"contact form\" with some inputs like name, age, and email adress and 95 switch inputs. The objective is to do some calculations and return an email with 2 tables. 1 table with the switch's seleted's and other table with calculations, sometimes the code work well and do all the stuff but other times code don't work, don't send the email and dont do nothing.\nI can check in server side (cpanel) the email track delivery and is all ok the server was accepted the email.</p>\n\n<p>I can't understand what is happening, and i'm thankful if you can help me.</p>\n\n<p>I will put all code here so you guys can check and help me found what i'm doing wrong.</p>\n\n<p>i will put here the php if you need some other stuff i will post later</p>\n\n<pre><code>...\n\n\n$array = $_POST['role'];\n//print_r ($array);\n\n$mail = new PHPMailer;\n\n//$mail-&gt;SMTPDebug = 2;                               // Enable verbose debug output\n$mail-&gt;isSMTP();                                      // Set mailer to use SMTP\n$mail-&gt;Host = 'mail.jobzone.pt';  // Specify main and backup SMTP servers\n$mail-&gt;SMTPAuth = true;                               // Enable SMTP authentication\n$mail-&gt;Username = 'questionario@jobzone.pt';                 // SMTP username\n$mail-&gt;Password = 'xxxxxx';                           // SMTP password\n$mail-&gt;SMTPSecure = 'tls';                            // Enable TLS encryption, `ssl` also accepted\n$mail-&gt;Port = 587;                                    // TCP port to connect to\n\n$mail-&gt;setFrom('questionario@jobzone.pt');\n$mail-&gt;addAddress($_POST['EA_mail']);     // Add a recipient \n\n$mail-&gt;isHTML(true);                                  // Set email format to HTML\n\n$mail-&gt;Subject = 'Questionario Vitamina-te do(a) ' . $_POST['name'];\n$mail-&gt;Body    = '\n\n\n\n&lt;table style=\"text-align: center; border-spacing: 5px; border: 1px solid black;\n  border-collapse: collapse;\"&gt;\n  &lt;th style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt; Sintomas Selecionados &lt;/th&gt;';\n                    foreach($array as $item) { \n                         $mail-&gt;Body .= '&lt;tr&gt;\n                            &lt;td style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;' . $item . '&lt;/td&gt;\n                        &lt;/tr&gt;';\n                     } \n$mail-&gt;Body .= '&lt;/table&gt;\n\n\n\n&lt;br&gt;&lt;br&gt;&lt;br&gt; \n\n\n\n\n\n&lt;table style=\"text-align: center; border-spacing: 5px; border: 1px solid black;\n  border-collapse: collapse;\"&gt;\n                        &lt;tr&gt;\n                            &lt;th style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;Nutriente&lt;/th&gt;\n                            &lt;th style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;Sintomas Calculados&lt;/th&gt; \n                            &lt;th style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;Max Sintomas&lt;/th&gt;\n                            &lt;th style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;Racio % Calculado&lt;/th&gt;\n                            &lt;th style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;Necessidade&lt;/th&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;Vitamina A&lt;/td&gt;\n                            &lt;td style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;' . $_POST['vitamA'] . '&lt;/td&gt;\n                            &lt;td style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;9&lt;/td&gt;\n                            &lt;td style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;'.$ratio_vitA.'&lt;/td&gt;\n                            &lt;td style=\"border: 1px solid black; border-collapse: collapse; padding: 5px; background-color:'. $color_vitA . ';\"&gt;'.$necessidade_vitA.'&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n                            &lt;td style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;Vitamina B1&lt;/td&gt;\n                            &lt;td style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;' . $_POST['vitamB1'] . '&lt;/td&gt;\n                            &lt;td style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;18&lt;/td&gt;\n                            &lt;td style=\"border: 1px solid black; border-collapse: collapse; padding: 5px;\"&gt;'.$ratio_vitB1.'&lt;/td&gt;\n                            &lt;td style=\"border: 1px solid black; border-collapse: collapse; padding: 5px; background-color:'. $color_vitB1 . ';\"&gt;'.$necessidade_vitB1.'&lt;/td&gt;\n                        &lt;/tr&gt;\n                        &lt;tr&gt;\n\n\n\n...\n\n&lt;/table&gt;';\n\nif(!$mail-&gt;send()) {\n    echo 'Message could not be sent.';\n    echo 'Mailer Error: ' . $mail-&gt;ErrorInfo;\n} else {\n  header(\"Location: https://jobzone.pt/thanks.html\");\n}\n?&gt;\n</code></pre>\n"}, {"tags": ["javascript", "three.js", "geometry"], "comments": [{"owner": {"reputation": 12403, "user_id": 4045502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0crws.jpg?s=128&g=1", "display_name": "prisoner849", "link": "https://stackoverflow.com/users/4045502/prisoner849"}, "edited": false, "score": 1, "creation_date": 1560376063, "post_id": 56570775, "comment_id": 99720476, "body": "Take a look a the <a href=\"https://threejs.org/docs/index.html#api/en/math/Vector3.setFromSphericalCoords\" rel=\"nofollow noreferrer\"><code>.setFromSphericalCoords()</code></a> method of <code>THREE.Vector3()</code>"}, {"owner": {"reputation": 11, "user_id": 5161138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W4Kt1.png?s=128&g=1", "display_name": "orel32", "link": "https://stackoverflow.com/users/5161138/orel32"}, "reply_to_user": {"reputation": 12403, "user_id": 4045502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0crws.jpg?s=128&g=1", "display_name": "prisoner849", "link": "https://stackoverflow.com/users/4045502/prisoner849"}, "edited": false, "score": 0, "creation_date": 1560532076, "post_id": 56570775, "comment_id": 99781013, "body": "Yeah that&#39;s it, you rocks, thank you :)"}], "owner": {"reputation": 11, "user_id": 5161138, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/W4Kt1.png?s=128&g=1", "display_name": "orel32", "link": "https://stackoverflow.com/users/5161138/orel32"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560375908, "creation_date": 1560375908, "question_id": 56570775, "link": "https://stackoverflow.com/questions/56570775/threejs-coordinates-of-a-destination-from-an-origin-a-direction-and-distance", "title": "Threejs coordinates of a destination, from an origin, a direction and distance", "body": "<p>Following the building of a simple Lidar 3D scanner, I now plan to build a 3D representation with Threejs.</p>\n\n<p>As the generated data is a simple list of distance, horizontal angle, and vertical angle, I try to figure out how to calculate the coordinates  [x,y,z] of the points with these data...</p>\n\n<p>Thanks for your help !</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "edited": false, "score": 1, "creation_date": 1560376208, "post_id": 56570770, "comment_id": 99720513, "body": "Can you post a working example of your code? I didn&#39;t really get what&#39;s going wrong."}, {"owner": {"reputation": 1556, "user_id": 2963031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gxibZ.png?s=128&g=1", "display_name": "tcj", "link": "https://stackoverflow.com/users/2963031/tcj"}, "edited": false, "score": 0, "creation_date": 1560376282, "post_id": 56570770, "comment_id": 99720537, "body": "This is normal since <code>toDataURL</code> returns a data URI containing a representation of the image in the format specified by the type parameter, see here : <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toDataURL\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/&hellip;</a>"}, {"owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "edited": false, "score": 0, "creation_date": 1560376347, "post_id": 56570770, "comment_id": 99720556, "body": "@tjc I understand this, but if I update the canvas and draw a brand new image like I have in the code above then why would it be null?"}, {"owner": {"reputation": 1556, "user_id": 2963031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gxibZ.png?s=128&g=1", "display_name": "tcj", "link": "https://stackoverflow.com/users/2963031/tcj"}, "edited": false, "score": 0, "creation_date": 1560376459, "post_id": 56570770, "comment_id": 99720584, "body": "One should have a working snippet of your code (HTML + JS) to have a better idea of your issue."}, {"owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "reply_to_user": {"reputation": 1556, "user_id": 2963031, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gxibZ.png?s=128&g=1", "display_name": "tcj", "link": "https://stackoverflow.com/users/2963031/tcj"}, "edited": false, "score": 0, "creation_date": 1560380244, "post_id": 56570770, "comment_id": 99721474, "body": "@tcj I&#39;ve updated the question to include a Codepen."}], "answers": [{"tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": true, "score": 0, "last_activity_date": 1560418940, "last_edit_date": 1560418940, "creation_date": 1560381329, "answer_id": 56571468, "question_id": 56570770, "link": "https://stackoverflow.com/questions/56570770/cannot-resize-image-in-canvas-javascript/56571468#56571468", "title": "Cannot Resize Image in Canvas - Javascript", "body": "<p>The only problem I could spot in your codepen is this line</p>\n\n<pre><code>context.drawImage(img,200,150);\n</code></pre>\n\n<p>The values 200 and 150 specify the position on the canvas where the image should be drawn. This essentially draws it ouside the visible area.</p>\n\n<p>If you change it to</p>\n\n<pre><code>context.drawImage(img, 0, 0, img.width, img.height);\n</code></pre>\n\n<p>it works as the second pair of numbers is the clipping area.</p>\n\n<p>Here's an example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var canvas = document.getElementById(\"can\");\r\nvar context = canvas.getContext('2d');\r\nvar img = new Image();\r\n\r\nimg.onload = function() {\r\n  canvas.width = 200;\r\n  canvas.height = 150;\r\n  img.width = 200;\r\n  img.height = 150;\r\n  context.drawImage(img, 0, 0, img.width, img.height);\r\n}\r\nimg.src = document.getElementById(\"theImg\").src;</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>canvas {\r\n  background: orange;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;img id=\"theImg\" src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAEsCAYAAAAfPc2WAAAgAElEQVR4Xu2dC/h21Zj/v1NmmkoKUTHFX8M/qUxKKjk0UlRDOQzV0J805DQjx3QwKmUcaoQOCn+HDkbI6KBkEimnFIouYTqM1FAkJJK5vt57X+/u9/4Oz36etfdea+/Puq59Pb+39l77Xp97Pfv57rXuda8/EwUCEIAABCAAAQhAICmBP0taG5VBAAIQgAAEIAABCAiBRSeAAAQgAAEIQAACiQkgsBIDpToIQAACEIAABCCAwKIPQAACEIAABCAAgcQEEFiJgVIdBCAAAQhAAAIQQGDRByAAAQhAAAIQgEBiAgisxECpDgIQgAAEIAABCCCw6AMQgAAEIAABCEAgMQEEVmKgVAcBCEAAAhCAAAQQWPQBCEAAAhCAAAQgkJgAAisxUKqDAAQgAAEIQAACCCz6AAQgAAEIQAACEEhMAIGVGCjVQQACEIAABCAAAQQWfQACEIAABCAAAQgkJoDASgyU6iAAAQhAAAIQgAACiz4AAQhAAAIQgAAEEhNAYCUGSnUQgAAEIAABCEAAgUUfgAAEIAABCEAAAokJILASA6U6CEAAAhCAAAQggMCiD0AAAhCAAAQgAIHEBBBYiYFSHQQgAAEIQAACEEBg0QcgAAEIQAACEIBAYgIIrMRAqQ4CEIAABCAAAQggsOgDEIAABCAAAQhAIDEBBFZioFQHAQhAAAIQgAAEEFj0AQhAAAIQgAAEIJCYAAIrMVCqgwAEIAABCEAAAggs+gAEIAABCEAAAhBITACBlRgo1UEAAhCAAAQgAAEEFn0AAhCAAAQgAAEIJCaAwEoMlOogAAEIQAACEIAAAos+AAEIQAACEIAABBITQGAlBkp1EIAABCAAAQhAAIFFH4AABCAAAQhAAAKJCSCwEgOlOghAAAIQgAAEIIDAog9AAAIQgAAEIACBxAQQWImBUh0EIAABCEAAAhBAYNEHIAABCEAAAhCAQGICCKzEQKkOAhCAAAQgAAEIILDoAxCAAAQgAAEIQCAxAQRWYqBUBwEIQAACEIAABBBY9AEIQAACEIAABCCQmAACKzFQqoMABCAAAQhAAAIILPoABCAAAQhAAAIQSEwAgZUYKNVBAAIQgAAEIAABBBZ9AAIQgAAEIAABCCQmgMBKDJTqIAABCEAAAhCAAAKLPgABCEAAAhCAAAQSE0BgJQZKdRCAAAQgAAEIQACBRR+AAAQgAAEIQAACiQkgsBIDpToIQAACEIAABCCAwKIPQAACEIAABCAAgcQEEFiJgVIdBCAAAQhAAAIQQGDRByAAAQhAAAIQgEBiAgisxECpDgIQgAAEIAABCCCw6AMQgAAEIAABCEAgMQEEVmKgVAcBCEAAAhCAAAQQWOX1gXUkPVXSg6cw/VZJ10u6Lo4bp6iDSyAAAQhAAAIQWIIAAquMLvJISTuHsNpc0tmSfirpZw3M/0tJq0jaoHasWRNblejyZ12E3d7gHpwKAQhAAAIQgIAkBFa+3eApIag8WuVyTgircxOavGpNbK0/R3xVQsyjXnXxdZWkD0tCeCV0BFVBAAIQgMCwCCCw8vLnfpKeGKNVl4WgsrD6Vo9mrlsTXltL+uuw73RJPj7Zo23cGgJLEVgp+qz77UMl3XupCxL8f7+UXBPHtZJuSVAnVUAAAoURQGDl4zD/AFwi6WRJR0q6KR/TVrBkbUnPlPQsSVtK+kSIrc9mbDOmDZfAyjUR5en09Wr/9vfqB7XjNw1GX/8YyJo8Jz0V78Mxkj4eFHVYcFls1T+rvxFgw+2btGzEBJo8OEaMqZOmf0nSpyW9o5O7pbuJpxIttCy4/INSjWy5PRQIpCawhqTnSXr4IiLqhhj1rYTVXamNaFjffUJo1UXXXAFWiS+LLo9Yf7DhPTgdAhDIjAACKw+HnBhm7JuHOVNbsVGILQuu1WojW5dOXSMXQmAZgVfG9Pnukj4VI1IX1kam/lAwKAuwarRrB0kbS7q/pGMlHSepb4FYMFpMh0B/BBBY/bGv7vwaSU+X9Lj+TUlqwRa1kS1Py3hky1OJ30t6FyobOgFPt71T0k6SPiPpEEm3Db3RkraXVMVkVkIr57CBEbiEJkKgGQEEVjNeqc/eNaYCtok38dT151KfxaNHtXx4CqSK2fLqRAoEFiLwtBBX50naX9IdI0S1SQitl9ZGtK4YIQeaDIHiCCCw+nNZFdT+Akln9mdG53d2+okqZusbtZGtJjm9OjeaG/ZC4F8k/V9Je/Ry97xu6gTDHtGy0PLUqEe1LsjLRKyBAATqBBBY/fWHUoPaUxJ7Rm1ky8lTvyLprSlvQF1FE7DA2kzS3iOZFpzEWU47UQktJxv2d+bozFcdT9IuzoHA4AggsPpx6VCC2lPRc8LTN0qq8my9X5KPn6S6AfUUScApFyyydpN0RkyjX1xLdzD29AaeNn1MZnnziuxoGA2BNgggsNqgunidQw1qT0XSebX2kfSiyAlmoUXKh1R0y6zHqRn2kuRVqoulN3CCT4vyX8Thf1d/+3PIuw90sfNDmb0HqyHQEwEEVrfgD5f0YklDD2pPQXWtEFoWWx6psNAiN1AKssOpo55fyjGN95XkflMd3muz/m+3vC645gqwOyX5KL1494Uqc73/vjqmEC/vYKrVyVnn+12Z779XGe+rHGBjH5Esvd/1bb9Hu12qz77tYS/Cjj3wnUgmelDH9y39dk5jYaG1VQgti60fld4o7O+cgKeiFxNgTgmRqtSzwFd/u26Lj0psLCRGlrKhSd2rS/IG8Q6S31DSzyX9MA4Lm77KQhnv6wlX5/6NAOvLW2Xc18LKfdyJiLMojGB15waLqkewImom4OZnoeXD2/JYaHkJPwUCEJiMwOMl7RiHf4z8/fEUvFcl9l0Wynjv7YY8NexSF10ejfzvGOG2+KqOmwc+Hdy3n3K9v1enOy5x21wMRGB14wlvMvv92GzW23dQZiOwSk1ouaYqKH6MeZJmI8nVYybwQEmvk7SLpHMlvVrSbzMGUhdgfqZ6Stj/rTrq/3YzLLgsturiy397JuGjGbcT06Yn4EUwR0X6n+lrSXQlAisRyCWqOU2SkwM6BouSloDfxj2i5SDfSmhdmfYW1AaBQRPwC4t/lPxdssj6jwG01tPBcwWYhdijY7HEvWPU7vgBtJUmLCeQ1SgWAqv9rukl5odJ2rT9W436Dg+pjWp9LcSWN8+mQAACkxFw5nwLLY9mDT1zvvd8fFkIrveG2HLQPaV8Ah7FcgjJoX03BYHVvgc8HH1w5PFp/27cwQScHd+jWn5jrUa1HK9BgQAEFidQ3/vx1Hh2DZnZo0JoebcACy0f3s6LUi6Bt8RK/b/tuwkIrHY9QGB7u3yXqt17IFpoOYfSSSG2vD0PBQIQWJyAR9393TlB0ptHAMtB9B7R8mFhaaH1zRG0e6hNvErSvn3nUERgtde9nIfG+WccjElge3ucJ6l5vdr0oX3xBUl+y6FAAAILE3hACCynhXiJpBtGAOteNaH19RBa54+g3UNr4qskbSHpH/psGAKrPfoEtrfHdpaavdfh9pJ+LeltMVc/S31cC4GhE3B+oX+MRL8HDr2xtfY5KbRHtJw77BL2fCzK817kcFPkgHPet14KAqsd7B5S90bGBLa3wzdFrU5G9/qIt/jXvoeSUzSIOiDQIgGP+DoI3quhHVM6plH5uXs+niPJm9N/q0XeVD07gbdHFa+dvarpakBgTcdtqau8iuGiyDGz1Ln8/34JeOrDQssrDy20iLvo1x/cPW8Cjit1fJZF1hjTzuwUm2s/NdxkseXDq9YoeRFwIt3LYheDXvYhRWCl7xBZ5eFI37zB1uj8P066eFZMHTpIkgIBCKxIwPGlFlmbxOpoi60xlkdKstDaOaaiPKr1ZUnHjBFGpm12QtlLY3q3cxMRWOmRZ5VJNn3zBl2jEy56NMtCyxtLO0br+kG3mMZBYHoCFlke0do1Xkymr6n8K73Xo+PTvHLZ2/k4BxOj4f371f44MZLLdm4NAistckav0vLsqzbnz7LIstiyyPLUIRvN9uUN7pszAW+zcyYi624u8gq2QyR9KIQWz45+e/B/SvJK0CO6NgOBlZY4o1dpefZd2/ohtJy4tBJa7HfYt1e4f24EEFkresQvaW+S9PwQWUfn5rQR2eOR1s3jJaDTZiOw0uFm9Cody9xq2qi2Ka6F1jtzMxB7INAzAUTW/A5wpniPZj0oplE9pUrplsBKMQPhmDlP33ZWEFjpUDN6lY5lrjX5Yelpw61i2pCNYnP1FHb1QQCRtTB1p7lwLrFtRpbioo9+ON89j5N0naQjuzQIgZWGNqNXaTiWUosDJy20vL2G47M+Uorh2AmBlglUIsujNp6aoSwn8BpJT49AeLh0S8DPbG9/tFmXt0VgpaHN6FUajqXV8pSYOlw9gijHlOW6NF9hb3cEHEz8REnbdnfLYu7kFW0u3ieP0i2Bb0dm/i91dVsE1uykGb2anWHpNXj4/8mSbotg+HNLbxD2Q2BGArx0LgzQP/CflvSOGRlzeTMCB0jaQNJ+zS6b/mwE1vTsqit5kMzOcCg17B1Th95GxFOHTjpIgcAYCfDiubDXnajVext6dbJTXFC6IeCFBt7eyCs87+rilgis2Sh7I9C9GAqfDeIAr3a/cIyWt0uy0GLPsgE6mSYtSYCXz4URnSLp+5K8kTalOwIWtKdKOrmLWyKwZqP8YUk3S3JiOQoE5hKossJ/IoRWb7u64xoI9ECAUayFoVfCCoHVbcd8n6QbuhK2CKzZnHuNpB3jTWS2mrh6qATuWdt+x6tYPKJ101AbS7sgMIcAo1jzdwkEVj9flU65I7Cmd/LDJJ0XS/Wnr4Urx0Jg3Vhx6OlDiywnLP3VWBpPO0dLgFEsBFZOnR+BlZM3FrHlRZIeH1shFGIyZmZAYMMY0XpmTWhlYBYmQKA1Ah7FOk3SMa3dobyKO/2hLw9PaxZ3yp0RrOn96PirL0o6afoquHLEBLxtg2O0tguh5elDCgSGSOAoSR7B3XOIjZuyTZ3+0E9p4xAv65Q7Amv6LkT81fTsuHI5gceG0PLSbU8dfgg4EBgYAe948FVJ6wysXbM0p9Mf+lkMHdi1nXJHYE3Xe4i/mo4bVy1MYKeI0VpD0jmS3gQsCAyIgLNoO6ziawNq0yxNeZekn3e1mm0WQwd2LQKrAIcSf1WAkwo10ZuRPleSUzt47zIKBIZA4GhJ/9P1ZrsZgyPEpB/nILD64d7ornw5GuHi5IYE1oyA4I0lvTKyPjesgtMhkBWBXSX9s6QdsrKqP2MIMemHPQKrH+6N7sqXoxEuTp6SwAtDaB0W8VlTVsNlEOidwKqSfiNpNUm3925NvwYQYtIffwRWf+wnujNfjokwcVIiAg5+r5a3ezTL+xxSIFAigfMl/Rv77/3p+7wWKX566cIIrF6wT35T4q8mZ8WZ6Qg4pcPBMWX4gXTVUhMEOiNwgKT7j3xrsV1CYPp35P2dkedGFQEEVuZ9gfirzB00YPO2lvRuSd8NoXXrgNtK04ZHYKvIG7jZ8Jo2UYsqceV4tLMmuoKTUhNAYKUmmrg+4q8SA6W6xgTeIcmZ4L0r/BsbX80FEOiPgPfhfIwkP0fHVA6XdKAkxFW/Xkdg9ct/0bsTf5Wxc0ZmmgPfd5Z0oyQ/vC8ZWftpbpkETpH0ZUlj2bnAMZT+rm4i6dOSDirTbYOxGoGVsSuJv8rYOSM17aXx0D47hNbYRgZG6vZim+3dClYeSY43iymLK8dO+iWI0j+BkyVd3VWCVzK5N3M48VfNeHF2NwRWCZHlB7of5D7u6ObW3AUCjQg8T9KOkvw5xOKdGPz9+1tJV4S4YuVvHp7uPAYOgdXM8cRfNePF2d0S8J5vFlmeOnzLiKZhuqXM3WYhYHHlHQr8OZRiUbWbpN3j+JSkL0ZKiqG0sfR2dC6uDAyBNXm3If5qclac2S+BbUJorSvpsxFc269F3B0Cywg8UpJnAvxZcrGo+idJj6qJqjMkWVzdVnLDBmh7L+IKgdWsJ71W0qYkh2sGjbN7JfBWSX64MFXRqxu4eY2ARf/lkvxZWplvpOrSSASMqMrTm72JKwRWsw5xoqTrImix2ZWcDYF+CRBs2y9/7r6cgGdN7pK0kqQ/FgBmPlHFSFX+jnP/8oIKT0f3lhqDKcLJO4rfVLxi66uTX8KZEMiGQH25+DmSXpeNZRgyNgJOLfI3kWIk17Z7xsJT7Y6r8rQfoipXT93drsdJ2lPSHpIukvR5SUf3ZToCazLyfy7pd5L+QtLvJ7uEsyCQJQHngakCjH8oycfc4inF07O0HqOGQOBbkvaOqcKc2uNRj/3iRfqnki6WdCQxVTm5aF5bHlQTVT7BCZidb+3avi1HYE3mAWcePlbSFpOdzlkQyJ7AsyL54VxDN5Tkw8UB8odm3xIMLI3AeZLeKencTAxfpyasLoxn/QWZ2IYZ8xO4hyTvbenf5u1qoupLOQFDYE3mDb/VeLXIvpOdzlkQKJ6A39xfEnl83lN8a2hATgQ+IulzsZqwT7ucXd1hH36+HxfCyqO3lHwJePT9OXFYBDtk54iI68vOagTWZC5xgPs340s42RWcBYHyCTxCkn8M/SB7dfnNoQWZEPBemt6T8O092bN9CKsnhKiyuLI9lDwJOF6vElWeuj1N0sck3ZCnucutQmBN5iEC3CfjxFnDI7CapI/Gii9n3/7N8JpIizom4CS4jmWt9oXr4vZOwuvRqq0k3a8mrLyikZIfgQdIem4IK/vLgsqHU3wUUxBYS7uKAPelGXHG8Ak4ZsZv/hZZVw6/ubSwRQJdbLi7qqQn1Q7HWXlFmaeU3tVi26h6egKOq3pDxFX5WVOJKsfsFVkQWEu7jQD3pRlxxjgIvDzywL1b0iHjaDKtbIFAWwLLo1N1UWVB5eN8SV9voR1UmYbAfHFVTpJ8Z5rq+6sFgbU0ewLcl2bEGeMh4FWFHsX6RCTxG0/LaWkqAikF1qskPTqEleOoKlHlz9tTGUw9yQkUG1fVhAQCa2laBLgvzYgzxkVgzdgeZGNJr5R0ybiaT2tnJDCrwFpf0gsl7SPpKkmOkT1B0jUz2sXl7RIYRFxVE0QIrKVpEeC+NCPOGCcB/8gdE9OG3paCAoFJCEwrsHYIYfV0SR+I47JJbsg5vRLwrhHOsD6IuKomJBFYi9MiwL1Jb+LcMRLwFjwWWS4ezfrBGCHQ5kYEmggsr2K1kPfhUgkrVrM2Qt7LyU5mvH/c2QlADxxCXFUTkgisxWkR4N6kN3HumAm8PpKSWmT5R5ACgYUITCKwNq8Jq/+IPuXkpJT8CdSF1VFj3nYLgbV4ZyXAPf8vMxbmQ2BrSV5h+N0Yzbo1H9OwJCMCCwmsNWITcr/YblQbrbouI9sxZWECCKs5bBBYi39dCHDncQKB5gScqfuZkk6WdFDzy7li4ATqAsuiandJu8XnpyJXFTF95XQChNUCvkJgLd6JCXAv50uOpXkRODwyMXtDX2+z89u8zMOaHgl47ziPULlYXFlU+ThD0m092sWtmxFAWC3BC4G1MCAC3Jt92TgbAnMJ/KUkZ4B3IkGLLMfSUMZJwCNV1SiVRZXTK3hDcQsrRFVZfQJhNaG/EFgLgyLAfcJOxGkQWILA0yQ52JXRrPF0Fb+gPkrS30lyvrRqpMqjVFtKur7HzZ7H44W0LUVYNeSJwFoYmFdFeQn6vg2ZcjoEILAigWo0a6dYus1o1nB6SSWmLKjqxzcl+bgiAtarkaqPSPL+cv6k5E/gsMiUb0tHvSqwqasQWAsTOz7esrzze9fFb32f6fqm3A8CHRBgNKsDyC3eYikxVYkqf/5+ATssrrwQothNfFvkm1PVfhlyklBP7zpFhvNYURoQQGAtDOui6FAXNuCZ4lSLq+rtHv+kIEoduRFgNCs3j6xoz8oxgu9RfE/p/VVtdKouoqq/FxJT87X0W5KeL8mflPwIPFZSNYPj1Zwfys/EMiziB3xhP/1C0kMk3dKDK/8Y98Q/PcDnlp0RYDSrM9Tz3mglSQ+tCSmLqfrhrPzVca0kZ+NebGRq0tbcKMmb/fqTkg+BR4awssCysDo2H9PKtIQf8Pn9ZmH1BUkb9OhWj2L5YVbljOnRFG4NgdYIMJrVGlrdS5I32F0vDouptRcRUXVBdbWku1owzb85rtfirnqRbOE2VNmAwIYhrJy7zsLqbQ2u5dRFCCCw5ofjN+sXS9qlx97jB+M3JJ0k6ZAe7eDWEOiCAKNZk1OeK5zqIqr+t2v8SRw3xOdNkq6sjUz9YfLbJjlzXUmXS/InpV8C9oFjrF4Wwsri6tf9mjSsuyOw5vfnGyWtGaq+T48fKukVkraLh2KftnBvCLRNoD6addpIs8B7ZKeapttU0v1j9KkSTv70yI+FUyWaFvr7l207bIr6PTXomB5PR1H6IXDP+G2zuHpviCsLb0piAgis+YGeIulsSR9NzHua6l4em55aZLGD/DQEuaY0Al65+2xJF0h6raQchcIsTOsiymJqbhxUfarupzHaVB+JKpmHV6Y56ayTz1K6J+DgdQurT4Sw+mH3Joznjgis+X39HUnPi6HsHHqDs2H/H0nPyMEYbIBABwTuEYkoLbQssk7t4J5t3MIjNk+S9OCeY5/aaNs0dXr14JPj+TrN9VwzHQFPA1pceXW8pwJZwTkdx0ZXIbBWxOUHu5ccO9/LnY1otnuy3ziuibe/du9E7RDIh8AOIbQcN2Sh5ZGcXIsDyL0DxNbx6b9/LOkrkq6T9PUeY59yYXaMpN9Jek0uBg3cjr1DWHnRgoPXvzzw9mbVPATWiu7wG6czDDv+IaeyWrx9fEDSe3IyDFsg0AEBbx7tt3CLLC/8yKV4Ct/Zyy2qHijpqyGo/OnjZ7kYmokdDr04PTK7Z2LSIM3w98XTsM6eb2HlbaooHRNAYK0I3FODT5W0Z8e+mOR2jwiR5bfAN01yAedAYEAEtonRLMclWWg5VqmPcj9JL4pttH4k6TJJJ2cUUtAHk0nu6XQAFp0e6aO0Q2CzSO3jVEMWVZ4WpPREAIG1InjPT98q6YiefLLUbd8s6Z8jUPGEpU7m/0NggAQOkOTvgUXWuzps31Y1YeVRtBMlfa3h/esZ0h3gfu+G16c8/beSfr7IkTpPlV8K7yPpn1I2grr+RGD1EFYviU/H7VJ6JoDAWtEBZ0mycMl5M1pPY/qN+ZOSDu65D3F7CPRBwG/q3s/OIsBC69stGuEVvE4tYHFwaSQAnnRF76qSPL2/UIb023taHexYU8eZWuDNd6w1j/Dy7haVIHM86Oclfb8Bd8cB7TWFKG1wi1GeWokq/x44MfX/jJJCho1GYK3oFAejPkHSf2Xor7pJHmZ3Oon/jjQOmZuLeRBohYBHQ94eU+ZHtnKHZZU6buiKKeu3KLG4qNIvtJEhfUrTFrzMvw0LiS9P9TlJ5ePj6i9Kqo6FBNdT4sffsWqUNAS8GtOC6lfxeUmaaqklFQEE1t1J+g3VMRV+eyulOOjdG7E6ZoyA2lK8hp0pCXh0yCLLsVEezeKHJiXdxet6WAgti63FBJdzCno1JQt0ZveN46ssrLaNzxzyNc7eqgHWgMC6u1M9cuUkh54SKKkcFjmyPPzubSgoEBgjAQeeW2g5O/VBYwSQQZvnE1wWVs+JvV2vz8DGkk1wHJvFlQ/HIVIyJoDAurtzvOLCCT09p11a8d6JXo57NBtEl+Y67E1IwBsbW2R5xa1Hs85PWDdVNSdgweWFCPbH+pI+JemM+HQKAcpkBP4hnusXx6dnWiiZE0Bg3d1BHr52IkOPYpVY/FbjN5xdJTlYnwKBsRLYI4TWx0No5ZQ0eGw+8QiWn01Ocrl7HLuFyKoEF2Jr/l7h1CRm5/0D/fm5sXWektuLwLq799x5/fZ7XsFO3UXSmYisgj2I6akI3Cu+z9tL+gy7IKTC2qgep7ZwjJBHsuplDcTWohy9ybcFlbdH8+fxjahzchYEEFh3d4NXEDpQ00uQSy6IrJK9h+2pCXhbFu8HuEXs0uCdGohVTE15/vo8PXjLEvFCldjyqJZHuDyqNeaRLW+GXYkqf/66G1dxl9QEEFjLifpLflPkrEnNuY/6EFl9UOeeORPwKIp3avBxbU1s3ZGz0YXbdrMkj2L9cMJ2jFlseXsbh3c4vsrCqs3cbhO6g9NmIYDAWk5vy8jMvPksQDO7thJZh7K1TmaewZy+CXi0xEJrp5jC8qgWG+Gm9YoX3Wwiaecpq51PbF3Ycfb+KU1vfJlHWb3I6n2SDmx8NRdkSQCBtdwtziP1NEnPzdJT0xvlpbz7SrKAvGH6argSAoMk4Bxy1aiWp2IstHw4OShlegIWVV5os3+sbJ6+pmVXWmw5HY0TlloIv0GS96QcQvGWSxtJekGP+2sOgWN2bUBgLXdJlVNkiJsou00WWH+XXQ/EIAjkQ8CZsSuxVQktVm01908lrtpazez9Yl8YIuv9zc3L5gonyP2gpKviJTgbwzAkDQEE1nKOp8X+g95+ZojFeyt+kxxZQ3QtbUpMwDs6WGg595A30a3ElreloixOoG1xVd39sZIstBzj5ak1i5SSisWnxZXb4D01KQMkgMBa7tTLJDkTtDdzHWJ5gKRvSHqrpGOG2EDaBIEWCPiHvBrVOifE1qdbuM8QquxKXNVZvS5EikWWY75KKFW8lacEnVKHMlACCKzljv2NpHUkDTnh3VGSHhy5VQbapWkWBFohsEpNaD2oNqq10ObGrRiRcaV9iKsKh+OX/OLovSgtuHJerEC8VcadOLVpCKxlRC06vBv8BqkBZ1afA0V/KckJGIcsJDPDjjkDI+CVxp4+9MiWR7w9MnzciBeR9Cmu6l1rnxBannqz0MqpEG+Vkzc6sgWBtQy0l2p72NZBrkMvVRK/Dw+9obQPAh0Q8H6HTmDq1W3fk3SupM9K8vYwYyi5iKuKtUexPJrlqV1n77d/+i7EW/XtgZ7uj8izyRUAABGqSURBVMBaBt6r7PzFfHlPfujytn7TdkJVJ7KjQAAC6Qg4W7xf1nysHWLLgsvHL9LdJpuachNXdTDOJWV/OPb0hNhq5vYeyBFv1QP0XG6JwFrmCS/1/a6kd+bimBbtqIQVAqtFyFQ9egKeErLQ8siWP78UI1sWW0PI0F3KxvKPk/TiyHFYCa1Js8rP2omJt5qVYOHXI7CWOfA7kvaONAaFu3RJ8xFYSyLiBAgkJfDnNaFlseVSjWx5OvH3Se/WfmX7STpS0r8VNBK+oaSXhNhyyhqLLYveNgrxVm1QLbBOBNaygO8bB7QH4VLdEIG1FCH+PwTaJbBZTXB5hKWK2/LnD9q99cy1W1h5C6694sV05go7rmDVmtDyzhbnRcxWKjO8LZkFKPmtUhEtuB4ElrSDpIMlPaFgPzYxHYHVhBbnQqBdAmvV4rY8uvWzmuD6z3Zv3ah2/1Z8VNKasYJyCDFlFkH/KGk7SVc2ojH/yY7l9XTkSZIOSVAfVRROAIElHSDJmZtzWG3SRXdCYHVBmXtAYDoCW9dGtx4ecVtenejVv33Fbjnvl8WVQyleOl2zsr3KC5u87Y5FlnMhTlMcSH+8JP+eWrD9ZJpKuGZ4BBBYyx5cp0r69+G5d94WIbBG4miaWTwB/3B7Km5jSRZeToTs9A+X1D5/1XIrLTxOjjxfTn8wxOLFTc6F+MwpGuf9XS2uHNDOwqEpAA75EgSW5P3F/BC5ZsiOrrUNgTUSR9PMwRGwwNomxFb16VGluuhKuUJuzxBXFnlD3aO16iSflPRfkl7doNf4WeoRKx9sedMA3FhOHbvA8lvLRZL+aiwOr71l8bY1IqfT1EES8PPbI1t10eWG1ke4LL7+OEXr3xDB2hZXfkYOvawW7fyApPcs0dgqt5a5emWig+UpEFiBwNgF1t9L2kPS7iPqG4xgjcjZNHV0BB4SgqsSXZvOM63oRMOLlWMl+TpvB3TtiAg+IkSWt0BaaETKU4JO8eDjzSNiQ1OnIDB2gfV2ST+XdMQU7Eq9BIFVquewGwLNCdyzNspViS4LLI9s/UjS5yVdHgHeXtHoYPZbQ1xNM/LV3MK8rvBUqDfwnm+E3/9t31gpyJRgXn7L0pqxC6wvSDpc0vlZeqcdoxBY7XClVgiUQsB5uJ4qyck3/yaO6yTdV9Jlkt4SouvmUhqU0M75no9MCSYEPKaqxi6wvCx3vXhjG4vf3xZvq8RgjcXjtBMCixPws8DB3V5RfUtNdFlgeXSrflw/cJhzBRZTggN3eJvNG7PAepSkD0WsQZuMc6v73ZEt+l25GYY9EIBA5wSeH2kG/OI196XrYSG2Nq+JLhtYCS6PdvlvT6kNpRwnyVOoZsGU4FC82lM7xiywnHF3K0n79MS+r9ueI8ki6+y+DOC+EIBAFgReJWl/Sc+OmKxJjFq/Jraq6UVPLc4d6fK/SyxO1+DQkSfH6ktWCZboxUxsHrPA8tuJt33wQ2ZM5erYS2xIb51j8h9thUAKAo493TXElZ8JsxQLLIut+kiXR78q0eWpRu/3+us4nBy1+nu+z1lsmeXaNST9Mmx18lBWCc5Ck2v/lNp/rGWMwd4rSfqDpJUl3TVWx9NuCIycgKfBLIA8cuWYqzaK80pZdG0haV1Jq8fhVY3V3wt9Lia+5ooz/9tTehZx3sex+vTfkxQ/C/9a0jMkvUKSN4M+RpL3FaRAYCYCCKxxbW/gh+pZkh46U6/hYghAoFQC1ZZgzgGYa5lPeM0nzJxWwud6BG3teT7rgqsSXl7YdI/YGsfCyodFml8+nbrCo1ZfzBUMdpVFAIE1LoG1c7yleYk2BQIQGA8Bb2j/8QhI328kzbbomk943RFTgTtK2knSkZKcE5ECgaQEEFjjElieGrgzRFbSjkRlEIBAtgQ8Ym1x5eSYB2VrZTeGOc7qgDgsrHzc1s2tucvYCCCwxiWwLo5d3z84to5OeyEwUgLeq9Di6ihJR4+UQdXs14aw+pikt45sG6CRu76f5iOwxiOwnhVLsrftp6txVwhAoGMCjieyqHCqgQ93fO+cbveiEFbfiBGrUlNI5MQUWyYggMAaj8Dy6JXfYk+foF9wCgQgUDYBr4Jzrr8TR7wizlv+OM7K+816KvCCsl2K9aURQGCNQ2AxelXaNxN7ITAdAe+b5xxOfrZbYN0wXTVFX7V9jFjdW9J5kg4sujUYXywBBNY4BBajV8V+RTEcAhMTcOLQE2LUaox7jTrvlgPYt4wRq5MmJseJEGiBAAJr+ALLwZyPl0TsVQtfIKqEQCYEqilBj1p9JhObujLjQZLeIOk5pFzoCjn3mYQAAmvYAsu5b7wh6/slHTpJh+AcCECgKALrSXpfWDy2KUFSLhTVVcdnLAJr2ALrFEnXS3r9+Lo2LYbA4AkcIen/hcAa25QgKRcG373LbyACa7gC62WS9pC0XfndlBZAAAI1AttEwlDv8Xe2pINHRIeUCyNydulNRWANU2A52NNTg97dnpwvpX9LsR8Cywg8OISVt7w6XNKxIwLj9npbG1IujMjppTcVgTVMgXWRpFMlvbf0Dor9EICAVglh5W1uLDR8eD+9MRRvxnyYpE1io3oHs1MgUAQBBNbwBNa/Slpf0p5F9ECMhAAEFiPgqX7ncfJUoIXVNSPCZUFpceUpULedAoGiCCCwhiWwvDWGg149NXhLUT0RYyEAgToBCwtPBd4Y4uKSEeHZLYTVlTFy94MRtZ2mDogAAms4AmsLSV+I7XCcE4cCAQiUSeA1sfLX6RfGlIW8Ph3oUaszynQfVkNgGQEE1jAE1gNDXDmpqHNeUSAAgTIJeO/AjSS9QNKYRm6YDiyzv2L1IgQQWOULrJVDXH1Wkjc3pUAAAuUR8OjNByVdJWnf8syf2mKmA6dGx4W5E0BglS+wPh5xGq/IvbNhHwQgMC8Bx06+VJIXqLxjJIyYDhyJo8fcTARW2QLr3ZKcbPDZY+7EtB0CBRPYRdKZsZXVWGInmQ4suMNi+uQEEFjlCiwHvz5F0hMl/WFyl3MmBCCQCYFKXO0aOZ4yMasVM/4iRuh2kHRFpF4YU4xZK1CpNG8CCKwyBdY+sXu8xdWP8+5iWAcBCMxDwKvkvAH70MWVReTfx/G52kpnOgUEBk8AgVWewPJD+VUxcnXp4HsoDYTAMAlcHGLjjQNs3rYRtmBh9SNJ/y6pihUdYHNpEgTmJ4DAKktgOQj2uZL+v6SxxGvw3YXA0Ag8S9L+kixEhlIeXhNVblMlqr43lAbSDgg0JYDAKkNgefPm90i6TtLLydLetJtzPgSyIuDRq6MknZ6VVc2NWac2/feQGKWysHL7KBAYPQEEVv4Cy3uRWVxZWLF58+i/sgAonMAQRq9eL+mxkp4cI1UWVWcV7hfMh0ByAgisfAXWfUJYbRDi6vLk3qdCCECgawL/ImlDSc/r+sYz3m8lSftFvq6fSvqyJOfv+t2M9XI5BAZLAIGVp8Dyljd7SDot9iQbbAekYRAYGQELLJfqM/fmexqwElYXSjpW0gW5G419EMiBAAIrrwddNX3gvuGtb7xikAIBCAyHQCkCa5MYrbK4Oi6ElfNXUSAAgQkJILDyEFh1YTWE4NcJux+nQWB0BHIXWNuHsHpCiCqLq5tG5yUaDIEEBBBY/QoshFWCTkwVECiIQI4Ca1NJe0vaUtL9asLqroK4YioEsiOAwOpHYCGssvsqYBAEOiHQt8BaRdI2tcO5uG6WdImkr7NSuZM+wE1GQgCB1a3AOkzSk6JvMRU4ki8ZzYRAjUDXAusBc8SUxZXFlHNV+dPHDXgIAhBITwCB1Y3Aqo9YfT42Ok3vTWqEAARyJ9C2wLqHJOfO2zyE1X3niCkLqjtyh4R9EBgCAQRWuwKLqcAhfEtoAwTSEWhLYO0o6TlxOI3CtyPNy3fSmU5NEIBAEwIIrHYEFsKqSS/kXAiMh0BKgeUttCpR5eSfzpv3Mab8xtOZaGneBMYusB4qaa9ELvLD7gWSHh31EWOVCCzVQGBABGYVWI6p8obvFlZe8WdB5YOdHgbUSWjKMAiMWWDtIulMSbtOsY/W2pIeE8fW8fljSV+R9DVJxw+je9AKCEAgMYGmAms9SRtL2knSwyU5T1Ulqs5LbBvVQQACCQmMWWAZYyWyTpF09RJc7yVpLUkWVA+U9NU4LKr8988S+oWqIACBYRKwwHIST287M19ZXZIPiyofLt+Nw/FUJ0q6c5hoaBUEhkVg7AKrElnVtN5S3v1JiCmG45cixf+HAAQWIrDUPoTOS1WJKj9zKBCAQIEEEFgFOg2TIQABCEAAAhDImwACK2//YB0EIAABCEAAAgUSQGAV6DRMhgAEIAABCEAgbwIIrLz9g3UQgAAEIAABCBRIAIFVoNMwGQIQgAAEIACBvAkgsPL2D9ZBAAIQgAAEIFAgAQRWgU7DZAhAAAIQgAAE8iaAwMrbP1gHAQhAAAIQgECBBBBYBToNkyEAAQhAAAIQyJsAAitv/2AdBCAAAQhAAAIFEkBgFeg0TIYABCAAAQhAIG8CCKy8/YN1EIAABCAAAQgUSACBVaDTMBkCEIAABCAAgbwJILDy9g/WQQACEIAABCBQIAEEVoFOw2QIQAACEIAABPImgMDK2z9YBwEIQAACEIBAgQQQWAU6DZMhAAEIQAACEMibAAIrb/9gHQQgAAEIQAACBRJAYBXoNEyGAAQgAAEIQCBvAgisvP2DdRCAAAQgAAEIFEgAgVWg0zAZAhCAAAQgAIG8CSCw8vYP1kEAAhCAAAQgUCABBFaBTsNkCEAAAhCAAATyJoDAyts/WAcBCEAAAhCAQIEEEFgFOg2TIQABCEAAAhDImwACK2//YB0EIAABCEAAAgUSQGAV6DRMhgAEIAABCEAgbwIIrLz9g3UQgAAEIAABCBRIAIFVoNMwGQIQgAAEIACBvAkgsPL2D9ZBAAIQgAAEIFAgAQRWgU7DZAhAAAIQgAAE8iaAwMrbP1gHAQhAAAIQgECBBBBYBToNkyEAAQhAAAIQyJsAAitv/2AdBCAAAQhAAAIFEkBgFeg0TIYABCAAAQhAIG8CCKy8/YN1EIAABCAAAQgUSACBVaDTMBkCEIAABCAAgbwJILDy9g/WQQACEIAABCBQIAEEVoFOw2QIQAACEIAABPImgMDK2z9YBwEIQAACEIBAgQQQWAU6DZMhAAEIQAACEMibAAIrb/9gHQQgAAEIQAACBRJAYBXoNEyGAAQgAAEIQCBvAgisvP2DdRCAAAQgAAEIFEgAgVWg0zAZAhCAAAQgAIG8CSCw8vYP1kEAAhCAAAQgUCABBFaBTsNkCEAAAhCAAATyJoDAyts/WAcBCEAAAhCAQIEEEFgFOg2TIQABCEAAAhDImwACK2//YB0EIAABCEAAAgUSQGAV6DRMhgAEIAABCEAgbwIIrLz9g3UQgAAEIAABCBRIAIFVoNMwGQIQgAAEIACBvAkgsPL2D9ZBAAIQgAAEIFAgAQRWgU7DZAhAAAIQgAAE8iaAwMrbP1gHAQhAAAIQgECBBBBYBToNkyEAAQhAAAIQyJsAAitv/2AdBCAAAQhAAAIFEkBgFeg0TIYABCAAAQhAIG8CCKy8/YN1EIAABCAAAQgUSACBVaDTMBkCEIAABCAAgbwJILDy9g/WQQACEIAABCBQIAEEVoFOw2QIQAACEIAABPImgMDK2z9YBwEIQAACEIBAgQQQWAU6DZMhAAEIQAACEMibAAIrb/9gHQQgAAEIQAACBRJAYBXoNEyGAAQgAAEIQCBvAgisvP2DdRCAAAQgAAEIFEgAgVWg0zAZAhCAAAQgAIG8CSCw8vYP1kEAAhCAAAQgUCABBFaBTsNkCEAAAhCAAATyJoDAyts/WAcBCEAAAhCAQIEEEFgFOg2TIQABCEAAAhDImwACK2//YB0EIAABCEAAAgUSQGAV6DRMhgAEIAABCEAgbwIIrLz9g3UQgAAEIAABCBRIAIFVoNMwGQIQgAAEIACBvAkgsPL2D9ZBAAIQgAAEIFAgAQRWgU7DZAhAAAIQgAAE8ibwv0aAYJbD5RUWAAAAAElFTkSuQmCC\"&gt;\r\n&lt;canvas id=\"can\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2960, "user_id": 7426461, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/Ldwxy.jpg?s=128&g=1", "display_name": "Cannon Moyer", "link": "https://stackoverflow.com/users/7426461/cannon-moyer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 101, "favorite_count": 0, "accepted_answer_id": 56571468, "answer_count": 1, "score": 0, "last_activity_date": 1560418940, "creation_date": 1560375869, "last_edit_date": 1560380101, "question_id": 56570770, "link": "https://stackoverflow.com/questions/56570770/cannot-resize-image-in-canvas-javascript", "title": "Cannot Resize Image in Canvas - Javascript", "body": "<p>First of all I've looked through all the similar questions and tried multiple times to get this to work but have had no luck. I'm trying to take a signature that I capture via a canvas element on either a desktop or mobile device and resize it. Because the device sizes are different, so is my canvas for each device. Before I save the signature image, I want to resize it so that all my saved images are the same size. </p>\n\n<p>Here is the code I currently have.</p>\n\n<pre><code>resize(){\n    var image = new Image();\n    var t = this;\n    image.onload = function(){\n\n        image.width = '100px';\n        image.height = 'auto';\n\n        t.canvas.width = image.width;\n        t.canvas.height = image.height;\n\n        t.ctx.drawImage(image, 0,0);    \n        console.log(t.canvas.toDataURL());\n        return t.canvas.toDataURL();\n    }\n    image.src = this.canvas.toDataURL(\"image/png\");  \n}\n</code></pre>\n\n<p>This code doesn't produce any errors, however after I \"resize\" the image, <code>canvas.toDataURL();</code> returns \"data:,\" rather than the image. Before I attempt the resize, I am able to grab a valid png image from <code>this.canvas.toDataURL();</code>.</p>\n\n<p>I also tried changing the style width and height but this causes my canvas to reset which causes my image to disappear. </p>\n\n<pre><code>this.canvas.style.width = 100;\nthis.canvas.style.height = 100;\n</code></pre>\n\n<p>Any help would be appreciated. </p>\n\n<p>UPDATE </p>\n\n<p>I've put together a Codepen here that shows the original image on the left and on the right you will see that same image that I have attempted to resize with JavaScript. I added an orange background for readability purposes only. </p>\n\n<p><a href=\"https://codepen.io/cannonmoyer/pen/JQdWWG\" rel=\"nofollow noreferrer\">Codepen</a></p>\n"}, {"tags": ["javascript", "css", "nativescript"], "comments": [{"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1560378859, "post_id": 56570684, "comment_id": 99721191, "body": "Of course it&#39;s not an exported member, it&#39;s just a private method of View instance, why you would import that?"}, {"owner": {"reputation": 11, "user_id": 11010484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f371cd94f4e48cc19e5e60781c968d50?s=128&d=identicon&r=PG&f=1", "display_name": "eleventh", "link": "https://stackoverflow.com/users/11010484/eleventh"}, "reply_to_user": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1560381093, "post_id": 56570684, "comment_id": 99721647, "body": "@Manoj I am trying anything at this point.  That still doesn&#39;t answer my question, why would that method stop working?"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1560381593, "post_id": 56570684, "comment_id": 99721748, "body": "I&#39;m sorry, I was not trying to answer but to understand why you would import a method that doesn&#39;t exists which might just introduce a TS error. <code>addCssFile</code> should work, if you have issues please share a Playground sample where the issue can be reproduced."}, {"owner": {"reputation": 11, "user_id": 11010484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f371cd94f4e48cc19e5e60781c968d50?s=128&d=identicon&r=PG&f=1", "display_name": "eleventh", "link": "https://stackoverflow.com/users/11010484/eleventh"}, "reply_to_user": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1560446491, "post_id": 56570684, "comment_id": 99749227, "body": "how do i set up a playground, and furthermore how do i do it without giving you the code for the entire app? @Manoj"}, {"owner": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1560446556, "post_id": 56570684, "comment_id": 99749255, "body": "You don&#39;t have to share anything apart from the required sample code to reproduce the issue, use <a href=\"https://play.nativescript.org/\" rel=\"nofollow noreferrer\">play.nativescript.org</a>"}, {"owner": {"reputation": 11, "user_id": 11010484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f371cd94f4e48cc19e5e60781c968d50?s=128&d=identicon&r=PG&f=1", "display_name": "eleventh", "link": "https://stackoverflow.com/users/11010484/eleventh"}, "reply_to_user": {"reputation": 20508, "user_id": 1060423, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2c1f09d7393502c0d396adfc3fcf16c3?s=128&d=identicon&r=PG", "display_name": "Manoj", "link": "https://stackoverflow.com/users/1060423/manoj"}, "edited": false, "score": 0, "creation_date": 1560540964, "post_id": 56570684, "comment_id": 99784620, "body": "here is a playground.  let me know if you need more things <a href=\"https://play.nativescript.org/?template=play-tsc&amp;id=McYE7q\" rel=\"nofollow noreferrer\">play.nativescript.org/?template=play-tsc&amp;id=McYE7q</a>"}], "answers": [{"tags": [], "owner": {"reputation": 4254, "user_id": 3840213, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/634292034686babc667bc3b9b43c33a2?s=128&d=identicon&r=PG&f=1", "display_name": "Narendra", "link": "https://stackoverflow.com/users/3840213/narendra"}, "is_accepted": false, "score": 0, "last_activity_date": 1560381166, "creation_date": 1560381166, "answer_id": 56571456, "question_id": 56570684, "link": "https://stackoverflow.com/questions/56570684/addcssfile-no-longer-functions-in-our-app-is-not-called-and-does-nothing/56571456#56571456", "title": "addCssFile() no longer functions in our app. Is not called and does nothing", "body": "<p>You can use application.<a href=\"https://docs.nativescript.org/api-reference/modules/_application_#addcss\" rel=\"nofollow noreferrer\">addCss</a> as below by using <code>file-system</code>.</p>\n\n<pre><code>import * as application from 'tns-core-modules/application/application';\nconst fs = require('tns-core-modules/file-system');\n\n    if (button.text === localize('ColorSchemeMenu.ob')) {\n      //Orange\n       pageCss = fs.path.join(fs.knownFolders.currentApp().path, 'themes/orange.css');\n       fs.File.fromPath(pageCss).readText().then((res) =&gt; {\n                application.addCss(res);\n            });\n      applicationSettings.setString('theme', 'orange');\n    } else if (button.text === localize('ColorSchemeMenu.bw')) {\n      // Blue\n\n      applicationSettings.setString('theme', 'blue');\n    } else if (button.text === localize('ColorSchemeMenu.rw')) {\n      // Red\n\n      applicationSettings.setString('theme', 'red');\n    } else if (button.text === localize('ColorSchemeMenu.py')) {\n\n      applicationSettings.setString('theme', 'purple');\n    }\n</code></pre>\n"}], "owner": {"reputation": 11, "user_id": 11010484, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f371cd94f4e48cc19e5e60781c968d50?s=128&d=identicon&r=PG&f=1", "display_name": "eleventh", "link": "https://stackoverflow.com/users/11010484/eleventh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 113, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560381166, "creation_date": 1560375351, "question_id": 56570684, "link": "https://stackoverflow.com/questions/56570684/addcssfile-no-longer-functions-in-our-app-is-not-called-and-does-nothing", "title": "addCssFile() no longer functions in our app. Is not called and does nothing", "body": "<p>Our app is no longer able to use the tns core function addCssFile().  The function is not called at all.  </p>\n\n<p>I tried altering one of the addCssFile() calls by calling a made up filename.  It does not trigger any errors and the code seems to skip right over it.  We made no changes to this script but suddenly this function does absolutely nothing.</p>\n\n<p>I added the import addCssFile portion to the code just now, and it says \"module has no exported member\"</p>\n\n<pre><code>  import * as applicationSettings from 'tns-core-modules/application-settings';\n  import { localize } from 'nativescript-localize';\n  import { ToastDuration, Toasty } from 'nativescript-toasty';\n  import { fromObject } from 'tns-core-modules/data/observable';\n  import { Page, topmost } from 'tns-core-modules/ui/frame';\n  import {addCssFile} from 'tns-core-modules/ui/core/view';\n\n  const source = fromObject({});\n\n  source.set('settingsItems', [\n    { name: localize('ColorSchemeMenu.ob'), enabled: true },\n    { name: localize('ColorSchemeMenu.bw'), enabled: true },\n    { name: localize('ColorSchemeMenu.rw'), enabled: true },\n    { name: localize('ColorSchemeMenu.py'), enabled: true }\n  ]);\n\n  export function onNavigatingTo(args: any) {\n    const page = args.object;\n    page.bindingContext = source;\n  }\n\n  export function settingsItemTapped(args: any) {\n    const button = args.object;\n    const homePage = button.page.navigationContext.homePage as Page;\n    const currentTheme = applicationSettings.getString('theme', 'blue');\n\n    if (button.text === localize('ColorSchemeMenu.ob')) {\n      //Orange\n      homePage.addCssFile('themes/orange.css');\n      applicationSettings.setString('theme', 'orange');\n    } else if (button.text === localize('ColorSchemeMenu.bw')) {\n      // Blue\n      homePage.addCssFile('themes/blue.css');\n      applicationSettings.setString('theme', 'blue');\n    } else if (button.text === localize('ColorSchemeMenu.rw')) {\n      // Red\n      homePage.addCssFile('themes/red.css');\n      applicationSettings.setString('theme', 'red');\n    } else if (button.text === localize('ColorSchemeMenu.py')) {\n      // Purple\n      //homePage.addCssFile('themes/purple.css');\n      homePage.addCssFile('themes/needstofail.css');\n      applicationSettings.setString('theme', 'purple');\n    }\n\n    console.log('\\n\\ncolor scheme has been set to: ', applicationSettings.getString('theme'), '\\n\\n');\n    new Toasty(\n      `${localize('ColorSchemeMenu.changedMsg')} ${button.text}`,\n      ToastDuration.SHORT\n    ).show();\n\n    //transition back to settings page after selecting color scheme\n    topmost().navigate({\n      moduleName: 'home/home-page',\n      animated: true,\n      transition: {\n        name: 'slideRight'\n      }\n    });\n\n  }\n\n\n  export function homeBtnTapped(args: any) {\n    topmost().navigate({\n      moduleName: 'home/home-page',\n      animated: true,\n      transition: {\n        name: 'slideRight'\n      }\n    });\n  }\n</code></pre>\n\n<p>Clicking any of the buttons on the settings page should add the css info to the home page and alter the object colors.  The app recognizes that the buttons are pressed, but no css changes occur.  Manually changing the css file of the home page does alter the appearance of the page.</p>\n"}, {"tags": ["javascript", "c#", "mvvm", "asp.net-mvc-5"], "comments": [{"owner": {"reputation": 855, "user_id": 4744568, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/125cdb7d43927756913b920de016f420?s=128&d=identicon&r=PG", "display_name": "pcalkins", "link": "https://stackoverflow.com/users/4744568/pcalkins"}, "edited": false, "score": 0, "creation_date": 1560377742, "post_id": 56570658, "comment_id": 99720909, "body": "The model can&#39;t be changed dynamically, so you probably want to create your own validation methods.  (Client and server-side.)"}], "answers": [{"tags": [], "owner": {"reputation": 567, "user_id": 5067973, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ngy7L.jpg?s=128&g=1", "display_name": "Mohammad Reza Rahimi", "link": "https://stackoverflow.com/users/5067973/mohammad-reza-rahimi"}, "is_accepted": true, "score": 0, "last_activity_date": 1560377001, "last_edit_date": 1560377001, "creation_date": 1560376033, "answer_id": 56570797, "question_id": 56570658, "link": "https://stackoverflow.com/questions/56570658/mvc-5-if-dropdownlist-selected-option-than-required-different-model-property/56570797#56570797", "title": "mvc 5 if dropdownlist selected option than required different model property", "body": "<p>It seems that you definitely need to use client-side code(obviously javascript) although might you can do it completely server-side but it's crossing the stream where it is shallowest. </p>\n\n<p>You can use some thing like this:</p>\n\n<pre><code>@Html.DropDownList(\"Usage\", new SelectListItem[] \n{ \n new SelectListItem() { Text = \"one\", Value = \"0\" }, \n new SelectListItem() { Text = \"two\", Value = \"1\" }},\n new { @onchange=\"handler(this.value)\" \n});\n\n&lt;script&gt;\nfunction handler(val){\n    //option1 : refresh current page based on Usage and make Quantity and Unit desabled in your Razor Page.\n    window.location.href = \"/Controller/CurrentAction?Usage=\" + val;\n    // option2 : make Quantity and Unit desabled by javascrip code without refresh page.\n    var form = document.forms[0];\n    form.querySelector('input[name=\"Quantity\"]').disabled = true;\n    form.querySelector('input[name=\"Unit\"]').disabled = true;\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>I hope this will help you</p>\n"}], "owner": {"reputation": 343, "user_id": 11039749, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/yyqOA.jpg?s=128&g=1", "display_name": "Bigbear", "link": "https://stackoverflow.com/users/11039749/bigbear"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 43, "favorite_count": 0, "accepted_answer_id": 56570797, "answer_count": 1, "score": 1, "last_activity_date": 1560377001, "creation_date": 1560375206, "question_id": 56570658, "link": "https://stackoverflow.com/questions/56570658/mvc-5-if-dropdownlist-selected-option-than-required-different-model-property", "title": "mvc 5 if dropdownlist selected option than required different model property", "body": "<p>I have a view with multiple controls in it. What I want is when 1 of my dropdownlists have a specific value selected IF that value is selected then I want a different control property to be required. This property usually isn\u2019t required normally. I only want it to be a requirement if this value is selected in my dropdownlist. In my model I usually can just Add required to a property but how can I do this like I asked above. If \u2018usuage=value1\u2019 then Quantity + Units required.  Is there a way to do this in the controller action? Or only possible via JavaScript. Here is my code for this situation.</p>\n\n<pre><code>&lt;div class=\"form-group row\"&gt;\n&lt;div class=\"col-md-4 col-lg-4\"&gt;\n@Html.LabelFor(x =&gt; x.Usage,\nhtmlAttributes: new { @class = \"control-label\" })\n&lt;/div&gt;\n&lt;div class=\"col-md-8 col-lg-8\"&gt;\n@Html.DropDownListFor(x =&gt; x.Usage,\n(IEnumerable&lt;SelectListItem&gt;) ViewBag.UsageDDL,\n\"\", new { @class = \"form-control\" })\n@Html.ValidationMessageFor(x =&gt; x.Usage, \"\",\nnew { @class = \"text-danger\" })\n&lt;/div&gt;\n&lt;/div&gt; &lt;div class=\"form-group row\"&gt;\n&lt;div class=\"col-md-4 col-lg-4\"&gt;\n@Html.LabelFor(x =&gt; x.Quantity,\nhtmlAttributes: new { @class = \"control-label\" })\n&lt;/div&gt;\n&lt;div class=\"col-md-8 col-lg-8\"&gt;\n@Html.EditorFor(x =&gt; x.Quantity, new { htmlAttributes =\nnew { @class = \"form-control\", @type = \"number\" }})\n@Html.ValidationMessageFor(x =&gt; x.Quantity, \"\",\nnew { @class = \"text-danger\" })\n&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;div class=\"form-group row\"&gt;\n&lt;div class=\"col-md-4 col-lg-4\"&gt;\n@Html.LabelFor(x =&gt; x.Units,\nhtmlAttributes: new { @class = \"control-label\" })\n&lt;/div&gt;\n&lt;div class=\"col-md-8 col-lg-8\"&gt;\n@Html.DropDownListFor(x =&gt; x.Units,\n(IEnumerable&lt;SelectListItem&gt;) ViewBag.UnitsDDL,\n\"\", new { @class=\"form-control\" })\n@Html.ValidationMessageFor(x =&gt; x.Units, \"\",\nnew { @class = \"text-danger\" })\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1560375291, "post_id": 56570595, "comment_id": 99720236, "body": "I think this will help you with this one (<a href=\"https://stackoverflow.com/questions/33240409/how-to-submit-checkboxes-from-all-pages-with-jquery-datatables\" title=\"how to submit checkboxes from all pages with jquery datatables\">stackoverflow.com/questions/33240409/&hellip;</a>), the answer by user <code>Gyrocode.com</code> explains how to get all checked checkboxes from Datatables and send it to the server. Datatables removes rows from the DOM as you navigate the pages, so you need to use hidden inputs to store the hidden pages if submitting via a form or you can use Ajax to send it to the server without the hidden inputs."}, {"owner": {"reputation": 4626, "user_id": 3541320, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/tO4gK.png?s=128&g=1", "display_name": "pmiranda", "link": "https://stackoverflow.com/users/3541320/pmiranda"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1560375528, "post_id": 56570595, "comment_id": 99720318, "body": "Thanks mate. I read it some hours ago, actually datatables have some plugins to do the work but I don&#39;t want to add more plugins, but I will try again."}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1560375716, "post_id": 56570595, "comment_id": 99720379, "body": "Anytime. The answer in the post I gave you doesnt need any plugins so I think it should help."}, {"owner": {"reputation": 4626, "user_id": 3541320, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/tO4gK.png?s=128&g=1", "display_name": "pmiranda", "link": "https://stackoverflow.com/users/3541320/pmiranda"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1560375821, "post_id": 56570595, "comment_id": 99720410, "body": "I think I love you again, it seems   <code>oTable.$(&#39;input[type=&quot;checkbox&quot;]&#39;).serializeArray();</code> is doping all the job that I need (that post use it)"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 1, "creation_date": 1560375896, "post_id": 56570595, "comment_id": 99720434, "body": "Glad that helped. I&#39;m voting to close this as it could be considered a duplicate, but it&#39;s nothing against you, just trying to follow the rules of Stack Overflow."}], "owner": {"reputation": 4626, "user_id": 3541320, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/tO4gK.png?s=128&g=1", "display_name": "pmiranda", "link": "https://stackoverflow.com/users/3541320/pmiranda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 30, "favorite_count": 0, "closed_date": 1560376591, "answer_count": 0, "score": 2, "last_activity_date": 1560374851, "creation_date": 1560374851, "question_id": 56570595, "link": "https://stackoverflow.com/questions/56570595/javascript-checked-checkboxes-from-whole-table", "closed_reason": "Duplicate", "title": "JavaScript, checked checkboxes from whole table", "body": "<p>I was trying here:</p>\n\n<p><a href=\"https://codepen.io/anon/pen/GbJrGq?editors=1111\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/GbJrGq?editors=1111</a></p>\n\n<pre><code>$('#save').on('click', function(){\n alert($('#myTable').find('input[type=\"checkbox\"]:checked').length + ' checked');\n});\n</code></pre>\n\n<p>What I need is to capture the data from every checkbox cheked in all the pages.</p>\n\n<p>I was trying to \"delegate\" but I can't get it. My code only capture the checked cheeckbox of the current page.</p>\n"}, {"tags": ["javascript", "html", "ecmascript-6", "speech-recognition"], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 11639124, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5BwGaKaqIuA/AAAAAAAAAAI/AAAAAAAAAEg/zfGbjnrq2uQ/photo.jpg?sz=128", "display_name": "Mr.Pierrot", "link": "https://stackoverflow.com/users/11639124/mr-pierrot"}, "edited": false, "score": 0, "creation_date": 1560375357, "post_id": 56570619, "comment_id": 99720259, "body": "@JackBashford Thanks alot bro. It worked well. It was a little error lol."}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1577260995, "post_id": 56570619, "comment_id": 105130327, "body": "Pretty sure it should be <code>window.SpeechRecognition || window.webkitSpeechRecognition</code> when official support is available. I doubt a constructor would be camel-case without the vendor prefix. The <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/SpeechRecognition#Examples\" rel=\"nofollow noreferrer\">examples</a> on MDN seem to agree."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": false, "score": 1, "last_activity_date": 1560374991, "creation_date": 1560374991, "answer_id": 56570619, "question_id": 56570581, "link": "https://stackoverflow.com/questions/56570581/uncaught-typeerror-speechrecognition-is-not-a-constructor-at-app-js5/56570619#56570619", "title": "Uncaught TypeError: SpeechRecognition is not a constructor at app.js:5", "body": "<p>You need to make sure you keep the correct capitaliazation - it's <code>webkitSpeechRecognition</code> (uppercased <code>R</code>).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const SpeechRecognition = window.speechRecognition || window.webkitSpeechRecognition;\r\nconsole.log(new SpeechRecognition());</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 10299702, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-xcPluKhV7Vo/AAAAAAAAAAI/AAAAAAAAAjg/QVMuVweWfBo/photo.jpg?sz=128", "display_name": "Garbalau", "link": "https://stackoverflow.com/users/10299702/garbalau"}, "is_accepted": false, "score": 0, "last_activity_date": 1565255918, "last_edit_date": 1565255918, "creation_date": 1565254279, "answer_id": 57408682, "question_id": 56570581, "link": "https://stackoverflow.com/questions/56570581/uncaught-typeerror-speechrecognition-is-not-a-constructor-at-app-js5/57408682#57408682", "title": "Uncaught TypeError: SpeechRecognition is not a constructor at app.js:5", "body": "<p>Found a solution, let the variable be webkitSpeechRecognition, without || operator. Because Google actually uses this constructor with a prefix <code>WebKit</code>.</p>\n"}, {"comments": [{"owner": {"reputation": 1278, "user_id": 4521119, "user_type": "registered", "accept_rate": 55, "profile_image": "https://lh3.googleusercontent.com/-d5MalwUTJx0/AAAAAAAAAAI/AAAAAAAALvs/IcVyHG71750/photo.jpg?sz=128", "display_name": "Ansjovis86", "link": "https://stackoverflow.com/users/4521119/ansjovis86"}, "edited": false, "score": 0, "creation_date": 1569709703, "post_id": 58150702, "comment_id": 102685341, "body": "Hi All in one, thanks for contributing. The poster of this question wrote that this issue was for Google Chrome and seemingly also the right solution has been given. Please also properly format your answers with the proper punctuation and capitalization next time."}], "tags": [], "owner": {"reputation": 1, "user_id": 12133400, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBST_WrMiaVUfTpzS98lwd_LKd8REGsu0zFSnbi=k-s128", "display_name": "All in one 123456", "link": "https://stackoverflow.com/users/12133400/all-in-one-123456"}, "is_accepted": false, "score": -2, "last_activity_date": 1569708834, "creation_date": 1569708834, "answer_id": 58150702, "question_id": 56570581, "link": "https://stackoverflow.com/questions/56570581/uncaught-typeerror-speechrecognition-is-not-a-constructor-at-app-js5/58150702#58150702", "title": "Uncaught TypeError: SpeechRecognition is not a constructor at app.js:5", "body": "<p>if you are running in firefox so speechRecognition not supported on </p>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 8828564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4126b9a7346ee5eb690b2085a4209cc9?s=128&d=identicon&r=PG&f=1", "display_name": "ugene1100", "link": "https://stackoverflow.com/users/8828564/ugene1100"}, "edited": false, "score": 1, "creation_date": 1577260489, "post_id": 59476333, "comment_id": 105130229, "body": "this is for chrome browser clients"}], "tags": [], "owner": {"reputation": 1, "user_id": 8828564, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4126b9a7346ee5eb690b2085a4209cc9?s=128&d=identicon&r=PG&f=1", "display_name": "ugene1100", "link": "https://stackoverflow.com/users/8828564/ugene1100"}, "is_accepted": false, "score": 0, "last_activity_date": 1577261362, "last_edit_date": 1577261362, "creation_date": 1577260427, "answer_id": 59476333, "question_id": 56570581, "link": "https://stackoverflow.com/questions/56570581/uncaught-typeerror-speechrecognition-is-not-a-constructor-at-app-js5/59476333#59476333", "title": "Uncaught TypeError: SpeechRecognition is not a constructor at app.js:5", "body": "<p><code>SpeechRecognition</code> does not exist.</p>\n\n<p>Try using <code>webkitSpeechRecognition</code>.It worked for me.</p>\n\n<p><em>This is for Chrome browser clients</em></p>\n"}], "owner": {"reputation": 41, "user_id": 11639124, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5BwGaKaqIuA/AAAAAAAAAAI/AAAAAAAAAEg/zfGbjnrq2uQ/photo.jpg?sz=128", "display_name": "Mr.Pierrot", "link": "https://stackoverflow.com/users/11639124/mr-pierrot"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 3697, "favorite_count": 0, "answer_count": 4, "score": 4, "last_activity_date": 1577261362, "creation_date": 1560374797, "last_edit_date": 1560375038, "question_id": 56570581, "link": "https://stackoverflow.com/questions/56570581/uncaught-typeerror-speechrecognition-is-not-a-constructor-at-app-js5", "title": "Uncaught TypeError: SpeechRecognition is not a constructor at app.js:5", "body": "<p>I'm coding a voice reconition assitant to make it work in my web page but I got this error: Uncaught TypeError: SpeechRecognition is not a constructor     at app.js:5(I'm using Google Chrome browser).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const btn = document.querySelector('.talk');\r\nconst content = document.querySelector('.content');\r\n\r\nconst SpeechRecognition = window.SpeechRecognition || window.webkitSpeechrecognition;\r\nconst recognition = new SpeechRecognition(); \r\n\r\nrecognition.onstart = function() {\r\n   console.log('Voice Is Activated, You Can Speak');\r\n};\r\n\r\nrecognition.onresult = function(event) {\r\n   console.log(event);\r\n};\r\n\r\nbtn.addEventListener('click', () =&gt; {\r\n   recognition.start();\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n   &lt;head&gt;\r\n      &lt;meta charset=\"UTF-8\"&gt;\r\n      &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\r\n      &lt;meta http-equiv=\"X-UA-Compatible\" content=\"ie=edge\"&gt;\r\n      &lt;title&gt;MY ASSISTANT&lt;/title&gt;\r\n   &lt;/head&gt;\r\n   &lt;body&gt;\r\n      &lt;h1&gt;Hello World&lt;/h1&gt;\r\n      &lt;img src=\"#\" alt=\"\"&gt;&lt;/img&gt;\r\n      &lt;button class=\"talk\"&gt;Talk&lt;/button&gt;\r\n      &lt;h1 class=\"content\"&gt;&lt;/h1&gt;\r\n\r\n      &lt;script src=\"app.js\"&gt;&lt;/script&gt;\r\n   &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "typescript", "functional-programming", "ramda.js"], "comments": [{"owner": {"reputation": 384463, "user_id": 1126841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fa05233b2357f8d11c22ef4cfc7bb85c?s=128&d=identicon&r=PG", "display_name": "chepner", "link": "https://stackoverflow.com/users/1126841/chepner"}, "edited": false, "score": 3, "creation_date": 1560375030, "post_id": 56570555, "comment_id": 99720147, "body": "Why does this have the &quot;haskel&quot; tag?"}, {"owner": {"reputation": 39159, "user_id": 1541563, "user_type": "registered", "accept_rate": 96, "profile_image": "https://i.stack.imgur.com/U4EOh.png?s=128&g=1", "display_name": "Patrick Roberts", "link": "https://stackoverflow.com/users/1541563/patrick-roberts"}, "edited": false, "score": 0, "creation_date": 1560376554, "post_id": 56570555, "comment_id": 99720603, "body": "Your example implementation throws an error: <code>Uncaught TypeError: Cannot read property &#39;z&#39; of undefined</code> when iterating over <code>{ i: 2, x: &#39;A&#39; }</code>"}], "answers": [{"tags": [], "owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "is_accepted": false, "score": 3, "last_activity_date": 1560378259, "creation_date": 1560378259, "answer_id": 56571117, "question_id": 56570555, "link": "https://stackoverflow.com/questions/56570555/point-free-group-by-multiple-properties/56571117#56571117", "title": "Point-free group by multiple properties", "body": "<p>I'll get you started -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const reduce = (f, init, xs) =&gt;\r\n  xs .reduce (f, init)\r\n\r\nconst upsert = (m, k, v) =&gt;\r\n  m .has (k)\r\n    ? m .get (k) .push (v)\r\n    : m .set (k, [ v ])\r\n\r\nconst groupByMany = (f, xs) =&gt;\r\n  reduce\r\n    ( (m, x) =&gt;\r\n        ( f (x) .forEach (k =&gt; k &amp;&amp; upsert (m, k, x))\r\n        , m\r\n        )\r\n    , new Map\r\n    , xs\r\n    )\r\n    \r\nconst items =\r\n  [ { i: 1, x: 'A', y: { z: 'B' } }\r\n  , { i: 2, x: 'A' }\r\n  , { i: 3, x: 'B', y: { z: 'B' } }\r\n  ]\r\n\r\nconst result =\r\n  groupByMany\r\n    ( item =&gt; [ item.x, item.y &amp;&amp; item.y.z ]\r\n    , items\r\n    )\r\n    \r\nconsole.log(Object.fromEntries(result.entries()))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Notice how the last item has a <code>B</code> for <code>.x</code> <em>and</em> <code>.y.z</code> so it get's inserted into the <code>B</code> group <em>twice</em>. We change <code>upsert</code> so it will not insert a duplicate value -</p>\n\n<pre><code>const upsert = (m, k, v) =&gt;\n  m .has (k)\n    ? m .get (k) .includes (v)\n      ? m\n      : m .get (k) .push (v)\n    : m .set (k, [ v ])\n</code></pre>\n\n<p>Expand the snippet below to see the final result in your own browser -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const reduce = (f, init, xs) =&gt;\r\n  xs .reduce (f, init)\r\n\r\nconst upsert = (m, k, v) =&gt;\r\n  m .has (k)\r\n    ? m .get (k) .includes (v)\r\n      ? m\r\n      : m .get (k) .push (v)\r\n    : m .set (k, [ v ])\r\n\r\nconst groupByMany = (f, xs) =&gt;\r\n  reduce\r\n    ( (m, x) =&gt;\r\n        ( f (x) .forEach (k =&gt; k &amp;&amp; upsert (m, k, x))\r\n        , m\r\n        )\r\n    , new Map\r\n    , xs\r\n    )\r\n    \r\nconst items =\r\n  [ { i: 1, x: 'A', y: { z: 'B' } }\r\n  , { i: 2, x: 'A' }\r\n  , { i: 3, x: 'B', y: { z: 'B' } }\r\n  ]\r\n\r\nconst result =\r\n  groupByMany\r\n    ( item =&gt; [ item.x, item.y &amp;&amp; item.y.z ]\r\n    , items\r\n    )\r\n    \r\nconsole.log(Object.fromEntries(result.entries()))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<hr>\n\n<p>A note on SO's peculiar output: SO will not display the same object twice, instead it will give an object a reference, and print that reference where the duplicate object would appear. For example <code>/**id:3**/</code> in the program's output -</p>\n\n<pre><code>{\n  \"A\": [\n    {\n      /**id:3**/\n      \"i\": 1,\n      \"x\": \"A\",\n      \"y\": {\n        \"z\": \"B\"\n      }\n    },\n    {\n      \"i\": 2,\n      \"x\": \"A\"\n    }\n  ],\n  \"B\": [\n    /**ref:3**/,\n    {\n      \"i\": 3,\n      \"x\": \"B\",\n      \"y\": {\n        \"z\": \"B\"\n      }\n    }\n  ]\n}\n</code></pre>\n\n<p>Which matches your expected output -</p>\n\n<pre><code>const expectedOutput = {\n  A: [ { i: 1, ... }, { i: 2, ... }],\n  B: [ { i: 1, ... }, { i: 3, ... }],\n};\n</code></pre>\n\n<p>It's not point-free like you asked for, but I only said I'd get you started ...</p>\n"}, {"tags": [], "owner": {"reputation": 36858, "user_id": 1243641, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a70aa9d494bf438c8b56aced999e897f?s=128&d=identicon&r=PG", "display_name": "Scott Sauyet", "link": "https://stackoverflow.com/users/1243641/scott-sauyet"}, "is_accepted": false, "score": 0, "last_activity_date": 1560394223, "creation_date": 1560394223, "answer_id": 56572740, "question_id": 56570555, "link": "https://stackoverflow.com/questions/56570555/point-free-group-by-multiple-properties/56572740#56572740", "title": "Point-free group by multiple properties", "body": "<p>I couldn't tell from the question whether you wanted something that made it easy for you to code point-free or if for some reason you were looking for an actual point-free implementation.  If it's the latter, then I'm afraid this will be no help.  But it's a fairly simple</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const groupByMany = (fn) =&gt; (xs) =&gt; \r\n  xs .reduce \r\n    ( (a, x) =&gt; [...new Set ( fn(x) )] . reduce \r\n      ( (a, k) =&gt; k ? {...a, [k]: [... (a [k] || []), x ] } : a \r\n      , a\r\n      )\r\n    , {}\r\n    )\r\n\r\n// const getProperties = (item) =&gt; [path(['x'], item), path(['y', 'z'], item)]\r\nconst getProperties = juxt ( [path (['x']), path (['y', 'z']) ] )\r\n\r\nconst items = [{ i: 1, x: 'A', y: { z: 'B' } }, { i: 2, x: 'A'}, { i: 3, x: 'B', y: { z: 'B' } }]\r\n\r\nconsole .log \r\n  ( groupByMany (getProperties) (items)\r\n  )</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://bundle.run/ramda@0.26.1\"&gt;&lt;/script&gt;&lt;/script&gt;\r\n&lt;script&gt;const { juxt, path } = ramda                   &lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Running the keys through <code>[... new Set ( fn(x) ) ]</code> is just a quick way to eliminate duplicates from the array returned by <code>fn (x)</code>.  The rest of the function should be pretty clear.</p>\n"}], "owner": {"reputation": 301, "user_id": 1509976, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/1f42d1232cc96c53491640c53a0c0c98?s=128&d=identicon&r=PG", "display_name": "TeoTN", "link": "https://stackoverflow.com/users/1509976/teotn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 95, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1560394223, "creation_date": 1560374664, "last_edit_date": 1560375723, "question_id": 56570555, "link": "https://stackoverflow.com/questions/56570555/point-free-group-by-multiple-properties", "title": "Point-free group by multiple properties", "body": "<p>I'm struggling a bit with implementing a variant <code>groupBy</code> that would allow grouping by multiple properties in a <strong>point-free</strong> style. (I'm using typescript &amp; ramda).</p>\n\n<p>I want to group some elements say of type <code>A</code> by properties returned from function <code>getProperties :: A a -&gt; [b]</code>. In imperative paradigm the implementation could look like that:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const getProperties = (item: Item): Array&lt;keyof Item&gt; =&gt; [item.x, item.y.z];\n\nconst groupByMany = (items: Item[]): Dictionary&lt;Item[]&gt; =&gt; {\n  let groupped: Dictionary&lt;Item[]&gt; = {};\n  for (let item of items) {\n    for (let key of getProperties(item)) {\n      if (groupped[key]) {\n        groupped[key].push(item);\n      } else {\n        groupped[key] = [item];\n      }\n    }\n  }\n}\n</code></pre>\n\n<p>Example:</p>\n\n<pre><code>const items = [\n  { i: 1, x: 'A', y: { z: 'B' } },\n  { i: 2, x: 'A' },\n  { i: 3, x: 'B', y: { z: 'B' } },\n];\nconst expectedOutput = {\n  A: [ { i: 1, ... }, { i: 2, ... }],\n  B: [ { i: 1, ... }, { i: 3, ... }],\n};\n</code></pre>\n"}, {"tags": ["javascript", "gulp", "polymer", "bower", "bower-install"], "comments": [{"owner": {"reputation": 41325, "user_id": 26406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc268557922ae6f5464a8cb337ceac2?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/26406/abraham"}, "edited": false, "score": 0, "creation_date": 1560431927, "post_id": 56570524, "comment_id": 99740634, "body": "Polymer 1 is old and relies on a number of deprecated/removed web APIs. I would recommend trying Polymer 3. It no longer uses bower."}, {"owner": {"reputation": 1, "user_id": 10708758, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qJ826FVbgHA/AAAAAAAAAAI/AAAAAAAAAAc/lF9KoXlpc60/photo.jpg?sz=128", "display_name": "Andrew Sultan", "link": "https://stackoverflow.com/users/10708758/andrew-sultan"}, "reply_to_user": {"reputation": 41325, "user_id": 26406, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cfc268557922ae6f5464a8cb337ceac2?s=128&d=identicon&r=PG", "display_name": "abraham", "link": "https://stackoverflow.com/users/26406/abraham"}, "edited": false, "score": 0, "creation_date": 1560541689, "post_id": 56570524, "comment_id": 99784895, "body": "it gives me an error: failed to connect to port 443, what do you suggest, can you contact me privately if you are experienced with this !! i am really stuck"}], "owner": {"reputation": 1, "user_id": 10708758, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-qJ826FVbgHA/AAAAAAAAAAI/AAAAAAAAAAc/lF9KoXlpc60/photo.jpg?sz=128", "display_name": "Andrew Sultan", "link": "https://stackoverflow.com/users/10708758/andrew-sultan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 5335, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560392876, "creation_date": 1560374475, "last_edit_date": 1560392876, "question_id": 56570524, "link": "https://stackoverflow.com/questions/56570524/cant-get-bower-install-polymer-bower-components-folder-is-missing", "title": "Can&#39;t get bower install polymer &#39;bower-components&#39; folder is missing?", "body": "<p>I am trying to install bower and polymer as part of a project for Udacity\nI am provided with a repo to clone and install bower and gulp within it\nAt the end of the installation, I get Error 'Polymer is not defined'</p>\n\n<p>Here is the list of commands I used:</p>\n\n<ol>\n<li><code>git clone https://github.com/udacity/exoplanet-explorer.git</code></li>\n<li><code>cd exoplanet-explorer</code></li>\n<li><code>npm install -g gulp bower</code></li>\n<li><code>npm install &amp;&amp; bower install -f polymer-starter-kit</code></li>\n<li><code>gulp serve</code></li>\n</ol>\n\n<p>Here is my bower.json file</p>\n\n<pre><code>{\n  \"name\": \"polymer-starter-kit\",\n  \"private\": true,\n  \"dependencies\": {\n    \"polymer\": \"Polymer/polymer#^1.1.0\",\n    \"iron-elements\": \"PolymerElements/iron-elements#^1.0.0\",\n    \"paper-elements\": \"PolymerElements/paper-elements#^1.0.1\",\n    \"platinum-elements\": \"PolymerElements/platinum-elements#^1.1.0\",\n    \"neon-elements\": \"PolymerElements/neon-elements#^1.0.0\",\n    \"page\": \"visionmedia/page.js#~1.6.3\"\n  },\n  \"devDependencies\": {\n    \"web-component-tester\": \"*\",\n    \"test-fixture\": \"PolymerElements/test-fixture#^1.0.0\"\n  }\n}\n</code></pre>\n\n<p>I have a screenshot for every single command I used and how my project folder looks like\nIf anyone is interested to help please contact me, I would appreciate any help <a href=\"https://www.facebook.com/andrew.rsb\" rel=\"nofollow noreferrer\">https://www.facebook.com/andrew.rsb</a> !!\nHere is a link for the problem I uploaded on Udacity if anyone has access to it:<a href=\"https://knowledge.udacity.com/questions/46863\" rel=\"nofollow noreferrer\">https://knowledge.udacity.com/questions/46863</a>\nI have been stuck for 4 days and I have nothing else to try!!</p>\n"}, {"tags": ["javascript", "css", "selenium"], "answers": [{"comments": [{"owner": {"reputation": 79, "user_id": 10659764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb773f5230f2b658d7360e68ca408b5?s=128&d=identicon&r=PG&f=1", "display_name": "nickel", "link": "https://stackoverflow.com/users/10659764/nickel"}, "edited": false, "score": 0, "creation_date": 1560375271, "post_id": 56570645, "comment_id": 99720226, "body": "&#39;no such element: Unable to locate element&#39; is the error i got from your code and have kept getting. It doesnt have to be by value though, i just assumed that would be the easiest way"}, {"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "reply_to_user": {"reputation": 79, "user_id": 10659764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb773f5230f2b658d7360e68ca408b5?s=128&d=identicon&r=PG&f=1", "display_name": "nickel", "link": "https://stackoverflow.com/users/10659764/nickel"}, "edited": false, "score": 0, "creation_date": 1560375379, "post_id": 56570645, "comment_id": 99720264, "body": "Try <code>driver.findElement(By.xpath(&quot;(&#47;&#47;tr[contains(@class,&#39;MuiTable&zwnj;&#8203;Row-root&#39;)])[1]&quot;)).c&zwnj;&#8203;lick()</code> to make sure the row is located."}], "tags": [], "owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "is_accepted": false, "score": 0, "last_activity_date": 1560375105, "creation_date": 1560375105, "answer_id": 56570645, "question_id": 56570519, "link": "https://stackoverflow.com/questions/56570519/clicking-an-item-in-selenium-by-type/56570645#56570645", "title": "Clicking an item in selenium by type", "body": "<p>If you are trying to click on td based on the value then you have to use the below xpath.</p>\n\n<pre><code>driver.findElement(By.xpath(\"(//tr[contains(@class,'MuiTableRow-root')])[1]//td[.='4']\")).click()\n</code></pre>\n\n<p>The reason why did not work with the <code>value</code> in your xpath is, there is not value property associated with the <code>tr</code>. </p>\n"}, {"comments": [{"owner": {"reputation": 79, "user_id": 10659764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb773f5230f2b658d7360e68ca408b5?s=128&d=identicon&r=PG&f=1", "display_name": "nickel", "link": "https://stackoverflow.com/users/10659764/nickel"}, "edited": false, "score": 0, "creation_date": 1560449166, "post_id": 56578777, "comment_id": 99750406, "body": "tried driver.findElement(By.css(&quot;//tr[@val=&#39;4&#39;]&quot;)).click() and got &#39;invalid selector: An invalid or illegal selector was specified&#39;"}, {"owner": {"reputation": 79, "user_id": 10659764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb773f5230f2b658d7360e68ca408b5?s=128&d=identicon&r=PG&f=1", "display_name": "nickel", "link": "https://stackoverflow.com/users/10659764/nickel"}, "edited": false, "score": 0, "creation_date": 1560450268, "post_id": 56578777, "comment_id": 99750932, "body": "sorry, I did it with xpath instead of by css and got unable to locate element."}, {"owner": {"reputation": 79, "user_id": 10659764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb773f5230f2b658d7360e68ca408b5?s=128&d=identicon&r=PG&f=1", "display_name": "nickel", "link": "https://stackoverflow.com/users/10659764/nickel"}, "edited": false, "score": 0, "creation_date": 1560451551, "post_id": 56578777, "comment_id": 99751531, "body": "This ended up working when i made selenium wait for the webpage to load, thank you!"}], "tags": [], "owner": {"reputation": 116880, "user_id": 2897748, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d278f6ada8828c902a13ee8a5e523cce?s=128&d=identicon&r=PG&f=1", "display_name": "Dmitri T", "link": "https://stackoverflow.com/users/2897748/dmitri-t"}, "is_accepted": true, "score": 1, "last_activity_date": 1560422807, "creation_date": 1560422807, "answer_id": 56578777, "question_id": 56570519, "link": "https://stackoverflow.com/questions/56570519/clicking-an-item-in-selenium-by-type/56578777#56578777", "title": "Clicking an item in selenium by type", "body": "<p>You were almost there, in <a href=\"https://docs.experitest.com/pages/viewpage.action?pageId=40044727\" rel=\"nofollow noreferrer\">XPath</a> you can select <a href=\"https://www.w3schools.com/html/html_attributes.asp\" rel=\"nofollow noreferrer\">attributes</a> by using <code>@</code> as the prefix for the attribute name:</p>\n\n<pre><code>//tr[@val='4']\n</code></pre>\n\n<p>Demo:</p>\n\n<p><a href=\"https://i.stack.imgur.com/JuJHm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JuJHm.png\" alt=\"enter image description here\"></a></p>\n\n<p>More information: <a href=\"http://www.tizag.com/xmlTutorial/xpathattribute.php\" rel=\"nofollow noreferrer\">xpath - attribute</a></p>\n"}, {"tags": [], "owner": {"reputation": 101, "user_id": 11635996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/587b4aa206e71e530755d09950be2ab8?s=128&d=identicon&r=PG&f=1", "display_name": "Saurabh", "link": "https://stackoverflow.com/users/11635996/saurabh"}, "is_accepted": false, "score": 0, "last_activity_date": 1560494096, "creation_date": 1560494096, "answer_id": 56592688, "question_id": 56570519, "link": "https://stackoverflow.com/questions/56570519/clicking-an-item-in-selenium-by-type/56592688#56592688", "title": "Clicking an item in selenium by type", "body": "<p>Try below code:</p>\n\n<pre><code>WebElement element = driver.findElement(By.xpath(\"//tr[starts-with(@class,'MuiTableRow')][@val='4']\"));\n    element.click();\n</code></pre>\n"}], "owner": {"reputation": 79, "user_id": 10659764, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2bb773f5230f2b658d7360e68ca408b5?s=128&d=identicon&r=PG&f=1", "display_name": "nickel", "link": "https://stackoverflow.com/users/10659764/nickel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 56578777, "answer_count": 3, "score": 0, "last_activity_date": 1560494096, "creation_date": 1560374449, "last_edit_date": 1560374610, "question_id": 56570519, "link": "https://stackoverflow.com/questions/56570519/clicking-an-item-in-selenium-by-type", "title": "Clicking an item in selenium by type", "body": "<p>The element I'm trying to click doesn't have a name or an ID and the class changes each time you refresh the page. The only thing that's consistent in the css is the value. How you do have selenium click the element by the value? It doesnt HAVE to be by value specifically, i just want to click the element.</p>\n\n<p>CSS: </p>\n\n<pre><code>&lt;tr class=\"MuiTableRow-root-799 MuiTableRow-hover-801 _Table-cursor-794\" val=\"4\"&gt;\n\n&lt;tr class=\"MuiTableRow-root-799 MuiTableRow-hover-801 _Table-cursor-794\" val=\"4\"&gt;\n\ndriver.findElement(By.xpath(\"//option[@val='4']\")).click()\n\n\ndriver.findElement(By.css('tr[val=\"4\"]')).click()\n</code></pre>\n\n<p>Changing the wording of val to value wont do anything.</p>\n\n<p>not enough rep to post picture:\n<a href=\"https://i.imgur.com/dlDM57E.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/dlDM57E.png</a></p>\n"}, {"tags": ["javascript", "google-apps-script"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1560374884, "post_id": 56570515, "comment_id": 99720104, "body": "From your use of UrlFetchApp, I&#39;m guessing you&#39;re using Google Apps Script. Please do <a href=\"https://stackoverflow.com/posts/56570515/edit\">edit</a> your question if that is not the case."}, {"owner": {"reputation": 1, "user_id": 11639026, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7E2mRaRGguI/AAAAAAAAAAI/AAAAAAAAAKw/cFjy2MduZZM/photo.jpg?sz=128", "display_name": "Mirco Ragni", "link": "https://stackoverflow.com/users/11639026/mirco-ragni"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1560375787, "post_id": 56570515, "comment_id": 99720401, "body": "Yes, I am using using Google Apps Script. I forgot to specify that"}, {"owner": {"reputation": 698, "user_id": 10996625, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kA2VT.jpg?s=128&g=1", "display_name": "sinaraheneba", "link": "https://stackoverflow.com/users/10996625/sinaraheneba"}, "edited": false, "score": 0, "creation_date": 1560388894, "post_id": 56570515, "comment_id": 99722952, "body": "If the page is not http, what is it? ftp? <a href=\"https://developers.google.com/apps-script/reference/url-fetch/url-fetch-app\" rel=\"nofollow noreferrer\">UrlFetchApp works over HTTP or HTTPS</a>"}, {"owner": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "edited": false, "score": 0, "creation_date": 1560399992, "post_id": 56570515, "comment_id": 99724877, "body": "You can&#39;t access local pages from the internet."}, {"owner": {"reputation": 1, "user_id": 11639026, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7E2mRaRGguI/AAAAAAAAAAI/AAAAAAAAAKw/cFjy2MduZZM/photo.jpg?sz=128", "display_name": "Mirco Ragni", "link": "https://stackoverflow.com/users/11639026/mirco-ragni"}, "edited": false, "score": 0, "creation_date": 1560420163, "post_id": 56570515, "comment_id": 99733847, "body": "I think that I was wrong. I assumed that the url <a href=\"http://xxxx.xxx.xx\" rel=\"nofollow noreferrer\">xxxx.xxx.xx</a> doesn&#39;t exist due to exception &quot;Address unavailable: <a href=\"http://xxxx.xxx.xx\" rel=\"nofollow noreferrer\">xxxx.xxx.xx</a> obtained using the fetch method. But using curl <a href=\"http://xxxx.xxx.xx\" rel=\"nofollow noreferrer\">xxxx.xxx.xx</a> on my terminal I obtain the expected result. Probably the administrator of the server blocked IP addresses of Google. Thank you very match with the help."}], "owner": {"reputation": 1, "user_id": 11639026, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-7E2mRaRGguI/AAAAAAAAAAI/AAAAAAAAAKw/cFjy2MduZZM/photo.jpg?sz=128", "display_name": "Mirco Ragni", "link": "https://stackoverflow.com/users/11639026/mirco-ragni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 68, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560375846, "creation_date": 1560374423, "last_edit_date": 1560375846, "question_id": 56570515, "link": "https://stackoverflow.com/questions/56570515/google-apps-script-class-urlfetchapp-to-fetch-a-web-page-which-url-doest-start", "title": "Google Apps Script Class UrlFetchApp to fetch a web page which url does&#39;t start with &quot;http://&quot;", "body": "<p>I'm using the Class UrlFetchApp of Google Apps Script to fetch a web page which URL does't start with \"http://\", but I have no success. The purpose is automatize some processes.</p>\n\n<p>When I open the link in a Web browser, it works perfectly. But, when I use the fetch(url) function, I get the exception:</p>\n\n<p>Address unavailable: <a href=\"http://xxxx.xxx.xx\" rel=\"nofollow noreferrer\">http://xxxx.xxx.xx</a></p>\n\n<p>Apparently the request inserts \"http://\" before \"xxxx.xxx.xx\", but this link does not exist. The code I use is:</p>\n\n<pre><code>var Page_Link = \"xxxx.xxx.xx\"  // The URL Doesn't start with \n\nfunction UrlFetchApp(){\n  try{\n    Logger.log(UrlFetchApp.fetch(Page_Link));\n  }catch(e){\n    Logger.log(e)\n  }\n}\n</code></pre>\n\n<p>Is there a way to perform the fetch with the correct link?</p>\n"}, {"tags": ["javascript", "jquery", "modal-dialog"], "comments": [{"owner": {"reputation": 834, "user_id": 2437138, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/cdd3eccd1a0e07eedfbad287a06b3ebe?s=128&d=identicon&r=PG", "display_name": "Santosh", "link": "https://stackoverflow.com/users/2437138/santosh"}, "edited": false, "score": 1, "creation_date": 1560374644, "post_id": 56570506, "comment_id": 99720051, "body": "Refer to the documentation - <a href=\"https://github.com/kylefox/jquery-modal#opening\" rel=\"nofollow noreferrer\">github.com/kylefox/jquery-modal#opening</a>"}, {"owner": {"reputation": 148, "user_id": 10463498, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-4T7ztYAE_kI/AAAAAAAAAAI/AAAAAAAAAA4/LZJmXnqQzTQ/photo.jpg?sz=128", "display_name": "Kamran KB", "link": "https://stackoverflow.com/users/10463498/kamran-kb"}, "edited": false, "score": 0, "creation_date": 1560375080, "post_id": 56570506, "comment_id": 99720162, "body": "Anchor id will call the modal you don&#39;t need to write jQuery code until and unless you required some extra property. You may check out this <a href=\"https://codepen.io/anon/pen/YoXNJy\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/YoXNJy</a> and read the document <a href=\"https://github.com/kylefox/jquery-modal\" rel=\"nofollow noreferrer\">Documentation</a>"}], "answers": [{"tags": [], "owner": {"reputation": 862, "user_id": 4409834, "user_type": "registered", "accept_rate": 80, "profile_image": "https://lh3.googleusercontent.com/-G015Bz1NxeA/AAAAAAAAAAI/AAAAAAAAAEc/3QFP2KQPfyQ/photo.jpg?sz=128", "display_name": "Vishnu", "link": "https://stackoverflow.com/users/4409834/vishnu"}, "is_accepted": false, "score": 0, "last_activity_date": 1560375874, "creation_date": 1560375874, "answer_id": 56570771, "question_id": 56570506, "link": "https://stackoverflow.com/questions/56570506/how-to-change-click-button-to-window-load/56570771#56570771", "title": "How to change click button to window load", "body": "<p>You can  do like:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(window).on('load', function() {\r\n        $('#tour-virtual').modal('show');\r\n  \r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery-modal/0.9.1/jquery.modal.min.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;div id=\"tour-virtual\" class=\"modal\"&gt;\r\n  &lt;p&gt;Thanks for clicking. That felt good.&lt;/p&gt;  \r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 2073, "user_id": 3230164, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/u9G7R.jpg?s=128&g=1", "display_name": "cfranco", "link": "https://stackoverflow.com/users/3230164/cfranco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560375874, "creation_date": 1560374398, "question_id": 56570506, "link": "https://stackoverflow.com/questions/56570506/how-to-change-click-button-to-window-load", "title": "How to change click button to window load", "body": "<p>I am using <a href=\"https://jquerymodal.com\" rel=\"nofollow noreferrer\">https://jquerymodal.com</a> to show a modal dialog in my home page. But I read in documentation:</p>\n\n<blockquote>\n  <p>Create a link with <strong>rel=\"modal:open\"</strong> and set the href attribute to the modal's DOM id.</p>\n</blockquote>\n\n<p>I\u00b4ve try  change the interaction from click button to window load with: </p>\n\n<pre><code>&lt;script&gt;\n    $(window).on('load', function() {\n        $('#tour-virtual').modal('show');\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>I am new with javascript and I don\u00b4t know how to make this change. \nCould you help me please?</p>\n"}, {"tags": ["javascript"], "answers": [{"tags": [], "owner": {"reputation": 32973, "user_id": 3903374, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/f154c343ddbc43f16a09e2098ddf4965?s=128&d=identicon&r=PG&f=1", "display_name": "Rick Hitchcock", "link": "https://stackoverflow.com/users/3903374/rick-hitchcock"}, "is_accepted": true, "score": 3, "last_activity_date": 1560374538, "creation_date": 1560374538, "answer_id": 56570533, "question_id": 56570497, "link": "https://stackoverflow.com/questions/56570497/weired-number-when-i-used-currentddate-setdatecurrentddate-getdate-30-to-a/56570533#56570533", "title": "Weired number when i used currentddate.setDate(currentddate.getDate() + 30) to add 30 days from today", "body": "<p>Even though <code>setDate</code> changes the date, its return value is:</p>\n\n<blockquote>\n  <p>The number of milliseconds between 1 January 1970 00:00:00 UTC and the\n  given date (the Date object is also changed in place)</p>\n</blockquote>\n\n<p>See <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/setDate\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/setDate</a></p>\n\n<p>If you <code>alert(currentddate2)</code> again, you'll see that it was changed correctly.</p>\n"}, {"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 2, "last_activity_date": 1560374570, "last_edit_date": 1592644375, "creation_date": 1560374570, "answer_id": 56570541, "question_id": 56570497, "link": "https://stackoverflow.com/questions/56570497/weired-number-when-i-used-currentddate-setdatecurrentddate-getdate-30-to-a/56570541#56570541", "title": "Weired number when i used currentddate.setDate(currentddate.getDate() + 30) to add 30 days from today", "body": "<p>If some API returns an unexpected result, first of all, look into the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/setDate#Return_value\" rel=\"nofollow noreferrer\">docs!</a></p>\n<blockquote>\n<p><strong>Return value</strong></p>\n<p>The number of milliseconds between 1 January 1970 00:00:00 UTC and the given date (the Date object is also changed in place).</p>\n</blockquote>\n"}], "owner": {"reputation": 195, "user_id": 1103028, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2cff9aeefbd4804af87c9b64ee3b9d2b?s=128&d=identicon&r=PG", "display_name": "John John", "link": "https://stackoverflow.com/users/1103028/john-john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 18, "favorite_count": 0, "accepted_answer_id": 56570533, "answer_count": 2, "score": 1, "last_activity_date": 1560374570, "creation_date": 1560374345, "question_id": 56570497, "link": "https://stackoverflow.com/questions/56570497/weired-number-when-i-used-currentddate-setdatecurrentddate-getdate-30-to-a", "title": "Weired number when i used currentddate.setDate(currentddate.getDate() + 30) to add 30 days from today", "body": "<p>I have the following code to add 30 days to the current date:-</p>\n\n<pre><code>var currentddate = new Date();\nalert(currentddate);\nvar currentddate2 = new Date();\nalert(currentddate2.setDate(currentddate2.getDate() + 30));\n</code></pre>\n\n<p>now the first alert will return the current date as follow <code>Wed Jun 12 2019 22:15:49 GMT+0100 (British Summer Time)</code> but the second alert will return this weird number <code>1562966157303</code> ? so can anyone advice on this?</p>\n"}, {"tags": ["javascript", "multidimensional-array", "indexof"], "comments": [{"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1560374360, "post_id": 56570444, "comment_id": 99719963, "body": "<code>indexOf()</code> compares <code>searchElement</code> to elements of the Array using strict equality (the same method used by the <code>===</code> or triple-equals operator). And that won&#39;t work for comparing arrays. Note the <code>this.data</code> holds arrays with a pair of values."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 2, "creation_date": 1560374464, "post_id": 56570444, "comment_id": 99719999, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/24943200/javascript-2d-array-indexof\">Javascript 2d array indexOf</a>"}], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1560377453, "last_edit_date": 1560377453, "creation_date": 1560374350, "answer_id": 56570500, "question_id": 56570444, "link": "https://stackoverflow.com/questions/56570444/unexpected-indexof-behavior-with-multidimensional-array/56570500#56570500", "title": "Unexpected indexOf behavior with multidimensional array", "body": "<p><code>indexOf</code> uses an equality check to find the index, and</p>\n\n<pre><code>  [0, 0] === [0, 0]\n</code></pre>\n\n<p>is <em>false</em>, as objects (and arrays are objects), are compared  by reference (and you do have two different arrays). To compare them by their inner values you have to manually check the x and ys against each other:</p>\n\n<pre><code>  const collides = this.data.some(coords =&gt; coords[0] === this.x &amp;&amp; coords[1] === this.y);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 48727, "user_id": 1366033, "user_type": "registered", "accept_rate": 87, "profile_image": "https://i.stack.imgur.com/DU0SY.jpg?s=128&g=1", "display_name": "KyleMit", "link": "https://stackoverflow.com/users/1366033/kylemit"}, "is_accepted": false, "score": 0, "last_activity_date": 1560374431, "creation_date": 1560374431, "answer_id": 56570517, "question_id": 56570444, "link": "https://stackoverflow.com/questions/56570444/unexpected-indexof-behavior-with-multidimensional-array/56570517#56570517", "title": "Unexpected indexOf behavior with multidimensional array", "body": "<p>Essentially, you have the following data and you want to see if the data in <code>head</code> is equal to any of the elements in <code>points</code></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var points = [[1,1],[1,2],[1,3]]\nvar head = [1,2]\n</code></pre>\n\n<p>You can check for any matches in an array using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\"><code>Array.some()</code></a> like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var overlap = points.some(p =&gt; p[0] === head[0] &amp;&amp; p[1] === head[1])\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var points = [[1,1],[1,2],[1,3]]\r\nvar head = [1,2]\r\n\r\nvar overlap = points.some(p =&gt; p[0] === head[0] &amp;&amp; p[1] === head[1])\r\n\r\nconsole.log(overlap)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 55, "user_id": 7742608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/18ca58d6d981986a11335c94a21dfcc4?s=128&d=identicon&r=PG&f=1", "display_name": "Phillip Brandel", "link": "https://stackoverflow.com/users/7742608/phillip-brandel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560377453, "creation_date": 1560374071, "question_id": 56570444, "link": "https://stackoverflow.com/questions/56570444/unexpected-indexof-behavior-with-multidimensional-array", "title": "Unexpected indexOf behavior with multidimensional array", "body": "<p>I am attempting to make the classic snake game in p5.js. I have a snake object and I'm storing the locations of its body in a 2d array, this.data, where each element stores an x value and a y value (at index 0 and 1 respectively). As the snake moves, I push new positions into the array.</p>\n\n<p>I ran into a problem when I tried to detect whether or not the snake had run into itself. What I tried to do was test whether its current position was already in the array using indexOf, reasoning that if the new location was open, it would only occur once in the array, at index one less than the array's length. Otherwise, if the location already existed elsewhere in the array (indicating the snake had run into itself), it would return a value less than the length minus one. </p>\n\n<p>However, this doesn't seem to be happening.</p>\n\n<pre><code>function Snake()\n{\n    this.x; //x-coordinate of head\n    this.y; //y-coordinate of head\n    this.dx; //velocity in x-direction\n    this.dy; //velocity in y-direction\n    this.length; //length of snake\n    this.data; //stores all locations snake occupies\n    this.alive = 1; //is the snake alive?\n\n    this.update = function(board)\n    {\n        if (this.alive)//update head position\n        {\n            this.x += this.dx;\n            this.y += this.dy;\n\n            let tempCoords = [this.x,this.y];\n            this.data.push(tempCoords);\n\n            while (this.data.length &gt; this.length) //janky\n            {\n                this.data = this.data.slice(1);\n            }\n\n            if (this.data.indexOf(tempCoords) + 1 != this.data.length) //make sure snake hasn't hit itself\n            {\n                this.alive = 0;\n            }\n        }\n\n    }\n}\n</code></pre>\n\n<p>The final if statement always evaluates false even when the snake intersects itself. From the testing I've done, this seems to be an issue with using indexOf on multidimensional arrays. What solutions are there to this problem?</p>\n"}, {"tags": ["javascript", "iframe", "postmessage", "angular-dom-sanitizer"], "comments": [{"owner": {"reputation": 3872, "user_id": 2448430, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1360801af6e9e8dec4e4fb03056d1a61?s=128&d=identicon&r=PG", "display_name": "geoidesic", "link": "https://stackoverflow.com/users/2448430/geoidesic"}, "edited": false, "score": 0, "creation_date": 1560382158, "post_id": 56570406, "comment_id": 99721850, "body": "How do you know it is returning null? Do you also get a null return if you select the container (i.e. <code>iframe-container</code>)? Also try changing the id so that it doesn&#39;t contain an underscore character: <a href=\"https://developer.mozilla.org/en-US/docs/Archive/Beginner_tutorials/Underscores_in_class_and_ID_Names\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Archive/Beginner_tutorials/&zwnj;&#8203;&hellip;</a>. Or try grab it by its class instead of its ID&gt;"}, {"owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "reply_to_user": {"reputation": 3872, "user_id": 2448430, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1360801af6e9e8dec4e4fb03056d1a61?s=128&d=identicon&r=PG", "display_name": "geoidesic", "link": "https://stackoverflow.com/users/2448430/geoidesic"}, "edited": false, "score": 0, "creation_date": 1560385416, "post_id": 56570406, "comment_id": 99722399, "body": "@geoidesic Thanks. I am using DevTools in chrome looking at console and it shows null. When I try getting by class, I get error: &quot;Argument of type HTMLCollectionOf&lt;Element&gt; is not assignable to parameter of type HTMLElement&quot; <i>and</i> &quot;Property contentWindow does not exist on type HTMLCollectionOf&lt;Element&gt;&quot;"}, {"owner": {"reputation": 1906, "user_id": 60669, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/9466bfa57f525f6c6ace971bc51b6aee?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/60669/steve"}, "edited": false, "score": 0, "creation_date": 1560388404, "post_id": 56570406, "comment_id": 99722862, "body": "Can you select the iframe thought the F12 console?  is so you could try to defer it with window.setTimeout to also check when its inner content becomes available to use.  if (null) return window.setTimeout(arguments.callee, 10);   or else try document.querySelector(&#39;#iframe_chatui&#39;)"}, {"owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "edited": false, "score": 0, "creation_date": 1560437222, "post_id": 56570406, "comment_id": 99744223, "body": "It&#39;s strange that even though the iFrame is in an ngIf=isLoaded , I tried not getting the variable until isLoaded was true, but its still null."}, {"owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "reply_to_user": {"reputation": 1906, "user_id": 60669, "user_type": "registered", "accept_rate": 38, "profile_image": "https://www.gravatar.com/avatar/9466bfa57f525f6c6ace971bc51b6aee?s=128&d=identicon&r=PG", "display_name": "Steve", "link": "https://stackoverflow.com/users/60669/steve"}, "edited": false, "score": 0, "creation_date": 1560437236, "post_id": 56570406, "comment_id": 99744228, "body": "@Steve isn&#39;t setTimeout considered bad practice?"}, {"owner": {"reputation": 3872, "user_id": 2448430, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1360801af6e9e8dec4e4fb03056d1a61?s=128&d=identicon&r=PG", "display_name": "geoidesic", "link": "https://stackoverflow.com/users/2448430/geoidesic"}, "edited": false, "score": 0, "creation_date": 1560501085, "post_id": 56570406, "comment_id": 99765309, "body": "Did you try remove the underscore in the ID name?"}, {"owner": {"reputation": 3872, "user_id": 2448430, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1360801af6e9e8dec4e4fb03056d1a61?s=128&d=identicon&r=PG", "display_name": "geoidesic", "link": "https://stackoverflow.com/users/2448430/geoidesic"}, "edited": false, "score": 0, "creation_date": 1560501169, "post_id": 56570406, "comment_id": 99765338, "body": "When you get by class you will receive an array, so you should console.log that array and see whether the iframe is contained within.. of course your code which is not expecting an array will fail.. but if the iframe is within then you can easily pop the array."}, {"owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "reply_to_user": {"reputation": 3872, "user_id": 2448430, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1360801af6e9e8dec4e4fb03056d1a61?s=128&d=identicon&r=PG", "display_name": "geoidesic", "link": "https://stackoverflow.com/users/2448430/geoidesic"}, "edited": false, "score": 0, "creation_date": 1560521779, "post_id": 56570406, "comment_id": 99775834, "body": "@geoidesic yes, I was getting the same error for other ID&#39;s that did not have an underscore. I also tried it on the surrounding div with &quot;iframecontainerId&quot; no underscore and it still failed"}, {"owner": {"reputation": 3872, "user_id": 2448430, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1360801af6e9e8dec4e4fb03056d1a61?s=128&d=identicon&r=PG", "display_name": "geoidesic", "link": "https://stackoverflow.com/users/2448430/geoidesic"}, "edited": false, "score": 0, "creation_date": 1560521894, "post_id": 56570406, "comment_id": 99775900, "body": "I suggest you create a jsFiddle or similar to show the problem with more specificity."}, {"owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "reply_to_user": {"reputation": 3872, "user_id": 2448430, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1360801af6e9e8dec4e4fb03056d1a61?s=128&d=identicon&r=PG", "display_name": "geoidesic", "link": "https://stackoverflow.com/users/2448430/geoidesic"}, "edited": false, "score": 0, "creation_date": 1560523609, "post_id": 56570406, "comment_id": 99776852, "body": "@geoidesic the surrounding div by class has length 0 but the iframe has length 1. It&#39;s HTMLCollection. You are saying to pop that first item from the array to be able to grab it?"}, {"owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "edited": false, "score": 0, "creation_date": 1560524676, "post_id": 56570406, "comment_id": 99777506, "body": "If I pop it, it&#39;s my understanding that it will no longer exist in the DOM, and thus I won&#39;t be able to postMessage to it"}, {"owner": {"reputation": 3872, "user_id": 2448430, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/1360801af6e9e8dec4e4fb03056d1a61?s=128&d=identicon&r=PG", "display_name": "geoidesic", "link": "https://stackoverflow.com/users/2448430/geoidesic"}, "edited": false, "score": 0, "creation_date": 1560553848, "post_id": 56570406, "comment_id": 99788217, "body": "Well you don&#39;t have to literally pop it. You can just reference it by index. E.g. <code>my_array[0]</code>"}], "owner": {"reputation": 207, "user_id": 11187561, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8564e6c3f51ec9ad8643c7a84d5b6b0b?s=128&d=identicon&r=PG&f=1", "display_name": "angleUr", "link": "https://stackoverflow.com/users/11187561/angleur"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 162, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560381357, "creation_date": 1560373823, "last_edit_date": 1560381357, "question_id": 56570406, "link": "https://stackoverflow.com/questions/56570406/why-is-document-getelementbyid-returning-null", "title": "Why is document.getElementByID returning null?", "body": "<p><strong>Goal</strong>: Send variable from Angular application to iFrame on that page but living on another server</p>\n\n<p><strong>Question</strong>: Why is document.getElementById returning null? Am I using DomSanitizer incorrectly or postMessage incorrectly?</p>\n\n<p><strong>(What I've tried)</strong></p>\n\n<ul>\n<li><p>I placed it inside ngAfterViewInit so It should be accessing it at\nthe correct time</p></li>\n<li><p>DevConsole <strong>error</strong> shows: Error: unsafe value used in a resource\nURL context (see <a href=\"http://g.co/ng/security#xss\" rel=\"nofollow noreferrer\">http://g.co/ng/security#xss</a>)</p>\n\n<ul>\n<li>I read the article it mentioned (<a href=\"http://g.co/ng/security#xss\" rel=\"nofollow noreferrer\">http://g.co/ng/security#xss</a>) and\napplied DomSanitization   SafeScript returns a value, which makes me\nthink I am using DomSanitizer correctly.</li>\n</ul></li>\n<li><p>I then read\n(<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage#Security_concerns\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/Window/postMessage#Security_concerns</a>)\nand made sure to do a check on event.origin</p></li>\n</ul>\n\n<p><strong>Angular</strong>(localhost:4200)</p>\n\n<p><strong>chat.component.html</strong>:</p>\n\n<pre><code>&lt;div class=\"iframe-container\"&gt; \n    &lt;iframe id=\"iframe_chatui\" src=\"{{ chatURL }}/loading.html\" class=\"chatiframe\" allow=\"microphone; camera\"&gt;&lt;/iframe&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>chat.component.ts</strong>:</p>\n\n<pre><code>const isIFrame = (input: HTMLElement | null): input is HTMLIFrameElement =&gt;\n    input !== null &amp;&amp; input.tagName === 'IFRAME';\n\nngAfterViewInit() {        \n        this.safeScript = this.domSanitizer.bypassSecurityTrustScript(this.localeId);\n        let frame = document.getElementById('iframe_chatui');\n        if (isIFrame(frame) &amp;&amp; frame.contentWindow) {\n                frame.contentWindow.postMessage(this.localeId, 'http://localhost:4200');\n            }\n    }\n</code></pre>\n\n<p><strong>chatbox.aspx</strong>(localhost:7078):</p>\n\n<pre><code>&lt;html&gt;\n    &lt;body onload=\"onLoad()\" onresize=\"onResize()\" style=\"overflow-x: hidden;\"&gt;   \n        &lt;div id=\"ChatPanel\" class=\"patient-chat\" &gt;\n            &lt;div id=\"LiveChatLog\" class=\"ChatLogBox\"&gt;&lt;/div&gt;\n            &lt;div id=\"UserEntryBar\" class=\"UserEntryBar\"&gt;            \n                &lt;div id=\"divFileUpload\"&gt; \n                    &lt;button id=\"btnAddImage\" onclick=\"ShowImageSourceDialog()\" title=\"Add Image\"&gt;&lt;i class=\"icon-camera\"&gt;&lt;/i&gt;&lt;/button&gt;               \n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div id=\"divEndVisit\" style=\"display:none;\" &gt;\n                &lt;button id=\"btnEndVisit\" class=\"EndVisitButton btn\" onclick=\"ConfirmEndVisitRequest();\" &gt;End Visit&lt;/button&gt;\n            &lt;/div&gt;\n            &lt;div class=\"clearfix\"&gt;&lt;/div&gt; \n        &lt;/div&gt;\n\n\n        &lt;script type=\"text/javascript\"&gt;\n            function receiveMessage(event) \n                    {\n                        try \n                        {\n                            if (event.origin === \"[ROOT_SITE_URL]\" ||\n                                event.origin === \"[ROOT_CHAT_SITE_URL]\" ||\n                                event.origin === \"http://localhost:4200\") \n                            {\n                            }                       \n            var receiveChatMsg = function (message) \n            {\n                if(randomCondition) {}\n                else if(desiredCondition) { window.addEventListener(\"message\", receiveMessage, false); }\n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "mongodb", "bson"], "answers": [{"tags": [], "owner": {"reputation": 113, "user_id": 3640680, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96f5a0bb1186890f19aba06dda103fc0?s=128&d=identicon&r=PG", "display_name": "loonytoons", "link": "https://stackoverflow.com/users/3640680/loonytoons"}, "is_accepted": true, "score": 0, "last_activity_date": 1560379947, "creation_date": 1560379947, "answer_id": 56571304, "question_id": 56570360, "link": "https://stackoverflow.com/questions/56570360/how-can-i-construct-this-mongodb-sort-query-properly/56571304#56571304", "title": "How can I construct this MongoDB sort query properly?", "body": "<p>The replacement syntax is fine, you can see in the error message that you get <code>name</code> and <code>1</code>. The issue is that you're creating <code>sort</code> as a string by using the back-ticks <code>` `</code>.</p>\n\n<p><code>`{${req.query.so}: ${req.query.sd}}`</code> => <code>\"{name: 1}\"</code></p>\n\n<p>But if you create it as an object <code>var sort = {}</code> \nand add the params it should work</p>\n\n<p><code>sort[`${one}`] = `${two}`</code> => <code>{name: \"1\"}</code></p>\n"}], "owner": {"reputation": 325, "user_id": 9926982, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-hThPQFWvW64/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq2M39oUr3VN9Cnef5hb22LQcdIXdw/mo/photo.jpg?sz=128", "display_name": "Brian", "link": "https://stackoverflow.com/users/9926982/brian"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 148, "favorite_count": 0, "accepted_answer_id": 56571304, "answer_count": 1, "score": 0, "last_activity_date": 1560379947, "creation_date": 1560373587, "question_id": 56570360, "link": "https://stackoverflow.com/questions/56570360/how-can-i-construct-this-mongodb-sort-query-properly", "title": "How can I construct this MongoDB sort query properly?", "body": "<p>I'm trying to construct a mongo sort query in the backed end before passing the data to Mongo. In the code, req.query.so is the sort type (like name or id) and req.query.sd is the sort direction (1 for ascending and -1 for descending)</p>\n\n<p>This is the code that is raising an error:</p>\n\n<pre><code>exports.indexWithStatus = function (req, res) {\n  // sort\n  let sort = null\n  if (req.query.so &amp;&amp; req.query.sd) {\n    sort = `{${req.query.so}: ${req.query.sd}}` // not being constructed \ncorrectly\n  }\n</code></pre>\n\n<p>The error that I'm getting is:</p>\n\n<pre><code>name: 'MongoError',\nmessage:\n'Failed to parse: sort: \"{name: 1}\". \\'sort\\' field must be of BSON type object.',\nok: 0,\nerrmsg:\n'Failed to parse: sort: \"{name: 1}\". \\'sort\\' field must be of BSON type \nobject.',\n code: 9,\n codeName: 'FailedToParse' }\n</code></pre>\n\n<p>I'm not very familiar with Mongo, and most of the questions I found online about this error are from people who tried to pass an array not an object to .sort().</p>\n\n<p>I think the problem is that by using the replacement syntax ${req.query.so} I am creating a string, and not an object, but I am not certain of this.  Please advise me on how to fix this.</p>\n"}, {"tags": ["javascript", "php", "jquery", "html", "css"], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 9842436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22bf680f854559a830d8a71fa8569bf5?s=128&d=identicon&r=PG&f=1", "display_name": "softwaredeveloper", "link": "https://stackoverflow.com/users/9842436/softwaredeveloper"}, "edited": false, "score": 0, "creation_date": 1560526344, "post_id": 56571297, "comment_id": 99778397, "body": "Thanks for your reply Anton. I actually found an PHP file called &quot;config.php&quot; beside the Template folder. In this file, I simply changed the http to https."}], "tags": [], "owner": {"reputation": 86, "user_id": 11639309, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-qGxJ7rxTrg0/AAAAAAAAAAI/AAAAAAAAABQ/2auJriqfwek/photo.jpg?sz=128", "display_name": "Anton", "link": "https://stackoverflow.com/users/11639309/anton"}, "is_accepted": false, "score": 1, "last_activity_date": 1560381779, "last_edit_date": 1560381779, "creation_date": 1560379839, "answer_id": 56571297, "question_id": 56570328, "link": "https://stackoverflow.com/questions/56570328/cannot-find-where-to-change-superglobal-variables-in-this-php-site/56571297#56571297", "title": "Cannot find where to change superglobal variables in this PHP site", "body": "<p>1) Try to search in the project by occurrences like $GLOBALS['site_url'] = and $site_url =</p>\n\n<p>After additional investigation it looks like that you project can use smart job board software. You can check an official documentation if you really use it, but I think in this case \"site_url\" is saved in a database, and the easiest way will be to update the link at the smart job board settings page, of course if you have an access to the web site GUI.</p>\n"}], "owner": {"reputation": 33, "user_id": 9842436, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/22bf680f854559a830d8a71fa8569bf5?s=128&d=identicon&r=PG&f=1", "display_name": "softwaredeveloper", "link": "https://stackoverflow.com/users/9842436/softwaredeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560526060, "creation_date": 1560373408, "last_edit_date": 1560526060, "question_id": 56570328, "link": "https://stackoverflow.com/questions/56570328/cannot-find-where-to-change-superglobal-variables-in-this-php-site", "title": "Cannot find where to change superglobal variables in this PHP site", "body": "<p>SSL has been applied to an PHP site but I'm getting \"Mixed Content\" errors on the console. To remove these error, I think I need to change the values inside the superglobal variable: $GLOBALS.site_url</p>\n\n<p>I'm using FileZilla to access the site's files, and when I look at the index.tpl file, I find lines of code like these:</p>\n\n<pre><code>&lt;link rel=\"StyleSheet\" type=\"text/css\" href=\"{$GLOBALS.site_url}/templates/_system/main/images/css/form.css\" /&gt;\n&lt;link rel=\"StyleSheet\" type=\"text/css\" href=\"{image src=\"design.css\"}\" /&gt;\n\n&lt;script language=\"JavaScript\" type=\"text/javascript\" src=\"{$GLOBALS.site_url}/system/ext/jquery/jquery.js\"&gt;&lt;/script&gt;\n&lt;script language=\"JavaScript\" type=\"text/javascript\" src=\"{$GLOBALS.site_url}/system/ext/jquery/jquery-ui.js\"&gt;&lt;/script&gt;\n&lt;script language=\"JavaScript\" type=\"text/javascript\" src=\"{$GLOBALS.site_url}/system/ext/jquery/jquery.form.js\"&gt;&lt;/script&gt;\n&lt;script language=\"JavaScript\" type=\"text/javascript\" src=\"{$GLOBALS.site_url}/system/ext/jquery/jquery.validate.min.js\"&gt;&lt;/script&gt;\n&lt;script language=\"JavaScript\" type=\"text/javascript\" src=\"{$GLOBALS.site_url}/system/ext/jquery/jquery.autocomplete.pack.js\"&gt;&lt;/script&gt;\n\n</code></pre>\n\n<p>referencing $GLOBALS.site_url which it's probably set to HTTP without the security.</p>\n\n<p>Could someone please suggest where I could find and change the value of this superglobal?</p>\n\n<p>UPDATE:\nSolution: I found an PHP file called \"config.php\" beside the Template folder. In this file, I simply changed the http to https.</p>\n"}, {"tags": ["javascript", "html", "laravel", "vue.js", "semantic-ui"], "comments": [{"owner": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1560375112, "post_id": 56570297, "comment_id": 99720171, "body": "I am not sure if i understand what you want - but you can toggle on events with v-if"}, {"owner": {"reputation": 405, "user_id": 8024978, "user_type": "registered", "profile_image": "https://graph.facebook.com/1483722685263360/picture?type=large", "display_name": "Kareem Elsharkawy", "link": "https://stackoverflow.com/users/8024978/kareem-elsharkawy"}, "reply_to_user": {"reputation": 2933, "user_id": 11204469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/16b1be34bb82f28e14b12665d4b5df53?s=128&d=identicon&r=PG&f=1", "display_name": "Estradiaz", "link": "https://stackoverflow.com/users/11204469/estradiaz"}, "edited": false, "score": 0, "creation_date": 1560375228, "post_id": 56570297, "comment_id": 99720213, "body": "@Estradiaz  i need my select here to generate dev with different classes and content foreach value in select"}, {"owner": {"reputation": 780, "user_id": 1152102, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e0937a2b33451006bd0ea3c12c761180?s=128&d=identicon&r=PG", "display_name": "blackening", "link": "https://stackoverflow.com/users/1152102/blackening"}, "edited": false, "score": 0, "creation_date": 1560387879, "post_id": 56570297, "comment_id": 99722765, "body": "@Kareem you misunderstand vue. Vue is declarative/functional reactive. You declare everything you want in the template then choose which to show. E.g. Using v-if or otherwise. This is not JQuery where you add things when an event triggers. (or <a href=\"https://www.npmjs.com/package/v-switch-case\" rel=\"nofollow noreferrer\">npmjs.com/package/v-switch-case</a>)"}], "owner": {"reputation": 405, "user_id": 8024978, "user_type": "registered", "profile_image": "https://graph.facebook.com/1483722685263360/picture?type=large", "display_name": "Kareem Elsharkawy", "link": "https://stackoverflow.com/users/8024978/kareem-elsharkawy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560383479, "creation_date": 1560373220, "last_edit_date": 1560383479, "question_id": 56570297, "link": "https://stackoverflow.com/questions/56570297/how-to-create-div-with-content", "title": "How to create div with content?", "body": "<p>I have select menu using semantic UI. When I click the menu, I need to add div with content and class of the selected menu is being created.</p>\n\n<pre><code>&lt;div class=\"required field\"&gt;\n    &lt;h4 class=\"ui dividing header\"&gt;Soluation Body&lt;/h4&gt;\n    &lt;div class=\"ui dropdown ui selection dropdown\" style=\"max-width: 300px; margin-right: 17px;\"&gt;\n        &lt;i class=\"dropdown icon\"&gt;&lt;/i&gt;\n        &lt;div class=\"default text\"&gt;Soluation Body&lt;/div&gt;\n        &lt;dev class=\"menu\" &gt;\n            &lt;div class=\"item\" value=\"file\"&gt;File Upload &lt;span style=\"color: gray;\"&gt;( zip )&lt;/span&gt;&lt;/div&gt;\n            &lt;div class=\"item\" value=\"repository\"&gt;Repository &lt;span style=\"color: gray;\"&gt;( github , gitlap ,...)&lt;/span&gt;&lt;/div&gt;\n            &lt;div class=\"item\" value=\"list\"&gt;List &lt;span style=\"color: gray;\"&gt;( futuers , basics )&lt;/span&gt;&lt;/div&gt;\n            &lt;div class=\"item\" value=\"code\"&gt;Code Editor &lt;span style=\"color: gray;\"&gt;( Code )&lt;/span&gt;&lt;/div&gt;\n            &lt;div class=\"item\" value=\"image\"&gt;Image &lt;span style=\"color: gray;\"&gt;( analysis || flow chart )&lt;/span&gt;&lt;/div&gt;\n        &lt;/dev&gt;\n    &lt;/div&gt;\n    &lt;div class=\"ui button\"&gt;Add&lt;/div&gt;\n\n&lt;/div&gt;\n</code></pre>\n\n<p>So if I choose the element with value=\"file\"  </p>\n\n<pre><code> &lt;div class=\"required field\"&gt;\n     &lt;input type=\"file\" name=\"file-upload\"&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>and if clicked again and the same file is selected</p>\n\n<pre><code> &lt;div class=\"required field\"&gt;\n     &lt;input type=\"file\" name=\"file-upload-2\"&gt;\n &lt;/div&gt;\n</code></pre>\n\n<p>So is this possible?</p>\n"}, {"tags": ["javascript", "google-chrome-extension", "axios", "content-script"], "comments": [{"owner": {"reputation": 42546, "user_id": 3959875, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wJdGu.png?s=128&g=1", "display_name": "wOxxOm", "link": "https://stackoverflow.com/users/3959875/woxxom"}, "edited": false, "score": 3, "creation_date": 1560397371, "post_id": 56570095, "comment_id": 99724384, "body": "Chrome disallows cross-origin fetches in content scripts now. Do it in your background script as shown in the <a href=\"https://www.chromium.org/Home/chromium-security/extension-content-script-fetches\" rel=\"nofollow noreferrer\">official CORB explainer</a>."}], "owner": {"reputation": 677, "user_id": 1968035, "user_type": "registered", "accept_rate": 95, "profile_image": "https://www.gravatar.com/avatar/dbae7dd3567a5f0e0613afe5886b1500?s=128&d=identicon&r=PG", "display_name": "1dolinski", "link": "https://stackoverflow.com/users/1968035/1dolinski"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1001, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560374960, "creation_date": 1560372211, "last_edit_date": 1560374960, "question_id": 56570095, "link": "https://stackoverflow.com/questions/56570095/content-script-empty-response-from-regular-axios-call-in-chrome-extension", "title": "Content Script - Empty Response from Regular Axios Call in Chrome Extension", "body": "<p>When making an axios call in my google content script that's being executed on <a href=\"http://example.com\" rel=\"nofollow noreferrer\">http://example.com</a>, the response status is a 200 and I'd expect a json response but instead the data is an empty string like this:</p>\n\n<pre><code>response = {data: \"\", status: 200, statusText: \"\", headers: {\u2026}, config: {\u2026}, \u2026}\n</code></pre>\n\n<p>content.bundle.js</p>\n\n<pre><code>const url = \"https://jsonplaceholder.typicode.com/todos/1\";\nvar config = {\n    headers: {\n        'Content-Type': 'application/json',\n        'X-Requested-With': 'XMLHttpRequest',\n    },\n}\naxios.get(url, config).then((response) =&gt; {\n    debugger;\n    console.log(response);\n});\n</code></pre>\n\n<p>manifest.json</p>\n\n<pre><code>  \"content_scripts\": [\n    {\n      \"matches\": [\"&lt;all_urls&gt;\"],\n      \"js\": [\"content.bundle.js\"],\n      \"css\": [\"content-styles.css\"]\n\n    }\n  ],\n</code></pre>\n\n<p>If you're interested in the headers</p>\n\n<pre><code>Request URL: https://jsonplaceholder.typicode.com/todos/1\nRequest Method: GET\nStatus Code: 200 \nRemote Address: 104.24.99.239:443\nReferrer Policy: no-referrer-when-downgrade\naccess-control-allow-credentials: true\nProvisional headers are shown\nAccept: application/json, text/plain, */*\nReferer: http://example.com/\nUser-Agent: Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.80 Safari/537.36\nX-Requested-With: XMLHttpRequest\n</code></pre>\n\n<p>I'm able to get around the issue by sending a message to the background script, ideally could avoid this extra step. </p>\n\n<p>Thoughts? Happy to provide more info if needed.</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "eslint"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 3, "creation_date": 1560372249, "post_id": 56570085, "comment_id": 99719256, "body": "Did you read the docs? <a href=\"https://eslint.org/docs/rules/prefer-rest-params\" rel=\"nofollow noreferrer\">eslint.org/docs/rules/prefer-rest-params</a>"}, {"owner": {"reputation": 336, "user_id": 8514226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6e50310ff15a5699d80244ba1b413e?s=128&d=identicon&r=PG", "display_name": "Jimmy Sorza", "link": "https://stackoverflow.com/users/8514226/jimmy-sorza"}, "reply_to_user": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 0, "creation_date": 1560373053, "post_id": 56570085, "comment_id": 99719568, "body": "yes @epascarello but i don&#39;t know how apply it in this case"}], "answers": [{"tags": [], "owner": {"reputation": 2607, "user_id": 11417877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1930e387dc37d52d55d2dc084d8ed1d5?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick K", "link": "https://stackoverflow.com/users/11417877/yannick-k"}, "is_accepted": true, "score": 1, "last_activity_date": 1560374325, "last_edit_date": 1560374325, "creation_date": 1560373685, "answer_id": 56570388, "question_id": 56570085, "link": "https://stackoverflow.com/questions/56570085/defining-a-const-with-error-eslint-use-the-rest-parameters-instead-of-argument/56570388#56570388", "title": "Defining a const with error ESLint: Use the rest parameters instead of &#39;arguments&#39;. (prefer-rest-params)", "body": "<p>I don't know what your function looks like where this is happening, but I'll give you an example of the <code>rest params</code> ESLint is talking about with the tiny snippet of code you provided:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function foo( ...args ) {\r\n  console.log( args );\r\n  const params =\r\n          args.length &gt; 3 &amp;&amp; args[3] !== undefined\r\n            ? args[3]\r\n            : null;\r\n\r\n  console.log( params );\r\n}\r\n\r\nfoo( 1, 2, 3, 4 );</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>So <code>...args</code> is an array of all arguments passed on in the function call that you have not set as a parameter. Any parameter you do have, goes in front of <code>...args</code>. (Note that you can call this anything you want, such as <code>...rest</code>.) The reason this might be preferred over <strong>arguments</strong> is because you cannot use any Array methods on it, while on the rest params you can.</p>\n"}], "owner": {"reputation": 336, "user_id": 8514226, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5c6e50310ff15a5699d80244ba1b413e?s=128&d=identicon&r=PG", "display_name": "Jimmy Sorza", "link": "https://stackoverflow.com/users/8514226/jimmy-sorza"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 654, "favorite_count": 0, "accepted_answer_id": 56570388, "answer_count": 1, "score": 0, "last_activity_date": 1560374325, "creation_date": 1560372176, "question_id": 56570085, "link": "https://stackoverflow.com/questions/56570085/defining-a-const-with-error-eslint-use-the-rest-parameters-instead-of-argument", "title": "Defining a const with error ESLint: Use the rest parameters instead of &#39;arguments&#39;. (prefer-rest-params)", "body": "<p>I can't resolve this, please help me.</p>\n\n<pre><code> const params =\n        arguments.length &gt; 3 &amp;&amp; arguments[3] !== undefined\n          ? arguments[3]\n          : null;\n</code></pre>\n\n<p>The problem is with arguments[3] \nESLint says: Use the rest parameters instead of 'arguments'. (prefer-rest-params)</p>\n"}, {"tags": ["javascript", "angular", "typescript"], "comments": [{"owner": {"reputation": 32538, "user_id": 906113, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccce05f2ea328d45afe24843e009d25?s=128&d=identicon&r=PG", "display_name": "str", "link": "https://stackoverflow.com/users/906113/str"}, "edited": false, "score": 0, "creation_date": 1560372728, "post_id": 56570084, "comment_id": 99719443, "body": "Use an arrow function instead."}, {"owner": {"reputation": 32538, "user_id": 906113, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccce05f2ea328d45afe24843e009d25?s=128&d=identicon&r=PG", "display_name": "str", "link": "https://stackoverflow.com/users/906113/str"}, "edited": false, "score": 1, "creation_date": 1560372796, "post_id": 56570084, "comment_id": 99719472, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/9644044/javascript-this-pointer-within-nested-function\">Javascript &quot;this&quot; pointer within nested function</a>"}, {"owner": {"reputation": 8418, "user_id": 380317, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/EPsqh.png?s=128&g=1", "display_name": "webdad3", "link": "https://stackoverflow.com/users/380317/webdad3"}, "reply_to_user": {"reputation": 32538, "user_id": 906113, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccce05f2ea328d45afe24843e009d25?s=128&d=identicon&r=PG", "display_name": "str", "link": "https://stackoverflow.com/users/906113/str"}, "edited": false, "score": 0, "creation_date": 1560375884, "post_id": 56570084, "comment_id": 99720427, "body": "@str - is it because of this answer (in the code that was commented): // In an arrow function, the &#39;this&#39; pointer is interpreted lexically,  If so, what does &quot;lexically&quot; mean?"}, {"owner": {"reputation": 32538, "user_id": 906113, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/eccce05f2ea328d45afe24843e009d25?s=128&d=identicon&r=PG", "display_name": "str", "link": "https://stackoverflow.com/users/906113/str"}, "edited": false, "score": 0, "creation_date": 1560409067, "post_id": 56570084, "comment_id": 99727870, "body": "<a href=\"https://stackoverflow.com/questions/1047454/what-is-lexical-scope\" title=\"what is lexical scope\">stackoverflow.com/questions/1047454/what-is-lexical-scope</a>"}], "answers": [{"comments": [{"owner": {"reputation": 8418, "user_id": 380317, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/EPsqh.png?s=128&g=1", "display_name": "webdad3", "link": "https://stackoverflow.com/users/380317/webdad3"}, "edited": false, "score": 0, "creation_date": 1560373224, "post_id": 56570225, "comment_id": 99719631, "body": "That worked.  Can you tell me why?  What was I doing incorrectly?  Or if you could point me to a reference to read up on, that would be great!"}, {"owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "reply_to_user": {"reputation": 8418, "user_id": 380317, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/EPsqh.png?s=128&g=1", "display_name": "webdad3", "link": "https://stackoverflow.com/users/380317/webdad3"}, "edited": false, "score": 0, "creation_date": 1560391580, "post_id": 56570225, "comment_id": 99723374, "body": "@webdad3 it&#39;s about interpreting <code>this</code> , when using function style <code>this</code> refers to scope of function"}], "tags": [], "owner": {"reputation": 15073, "user_id": 2279488, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/c41VI.jpg?s=128&g=1", "display_name": "Reza", "link": "https://stackoverflow.com/users/2279488/reza"}, "is_accepted": true, "score": 1, "last_activity_date": 1560372876, "creation_date": 1560372876, "answer_id": 56570225, "question_id": 56570084, "link": "https://stackoverflow.com/questions/56570084/properties-are-undefined-inside-of-promises/56570225#56570225", "title": "properties are undefined inside of promises", "body": "<p>change </p>\n\n<pre><code>let originalEditSubmit = function(result: any) {\n</code></pre>\n\n<p>to </p>\n\n<pre><code>let originalEditSubmit = (result: any) =&gt; {\n</code></pre>\n"}], "owner": {"reputation": 8418, "user_id": 380317, "user_type": "registered", "accept_rate": 91, "profile_image": "https://i.stack.imgur.com/EPsqh.png?s=128&g=1", "display_name": "webdad3", "link": "https://stackoverflow.com/users/380317/webdad3"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 628, "favorite_count": 0, "accepted_answer_id": 56570225, "answer_count": 1, "score": 0, "last_activity_date": 1560372876, "creation_date": 1560372168, "last_edit_date": 1560372550, "question_id": 56570084, "link": "https://stackoverflow.com/questions/56570084/properties-are-undefined-inside-of-promises", "title": "properties are undefined inside of promises", "body": "<p>This is my typescript function where I'm trying to use a promise:</p>\n\n<pre><code>public onEditSubmit() {\n    const model = this._sharedService.createUpdateModel(\n        null,\n        this.editForm\n    ) as LOG;\n\n    model.fileId = this.fileId;\n    model.startEffectiveDate = Shared.toISODate(model.startEffectiveDate);\n    model.endEffectiveDate = Shared.toISODate(model.endEffectiveDate);\n\n\n\n    let deferredExecutionCheck = new Promise((resolve, reject) =&gt; {\n        this._updateService\n            .getAllById(this.selectedItem.LogId)\n            .subscribe(\n                r =&gt; {\n                    this.records = r;\n\n                    this.records.forEach(element =&gt; {\n                        if (\n                            element.StatusId === 1 ||\n                            element.StatusId === 2 ||\n                            element.StatusId === 4 ||\n                            element.StatusId === 5\n                        ) {\n                            this._notificationService.showErrorMessage(\n                                `MESSAGE GOES HERE`,\n                                \"IN PROGRESS\"\n                            );\n\n                            reject(\"In Progress\");\n                        }\n                    });\n                    resolve(\"Not In Progress\");\n                },\n                e =&gt; {\n                    throw e;\n                }\n            );\n        console.log(\"finished\");\n    });\n\n    let originalEditSubmit = function(result: any) {\n        if (this.editMode === \"Add\") {\n            this.add(model);\n        } else {\n            if (\n                (model.wfStatusId === Status.Review ||\n                    model.wfStatusId === Status.LoadFailed ||\n                    model.wfStatusId === Status.Completed) &amp;&amp;\n                model.eventStatusId === eStatus.Cancelled\n            ) {\n                this._confirmDlg.closable = false;\n                this._confSvc.confirm({\n                    accept: () =&gt; {\n                        model.cancelRcdb = true;\n                        this.update(model);\n                    },\n                    message: \"Cancel RCdB Dataset?\",\n                    reject: () =&gt; {\n                        model.cancelRcdb = false;\n                        this.update(model);\n                    }\n                });\n            } else {\n                this.update(model);\n            }\n        }\n    };\n\n    deferredExecutionCheck.then(\n        result =&gt; originalEditSubmit(result),\n        error =&gt; console.log(\"error\", error)\n    );\n}\n</code></pre>\n\n<blockquote>\n  <p>Error: Uncaught (in promise): TypeError: Cannot read property\n  'editMode' of undefined TypeError: Cannot read property 'editMode' of\n  undefined at originalEditSubmit</p>\n</blockquote>\n\n<p>I moved the <code>this.fileId</code> property outside of the originalEditSumbmit method and it now is being read.  But now it seems like <code>this.editMode</code> is now having the same issue.</p>\n\n<p>Can I not have these properties inside of my promises like this?</p>\n"}, {"tags": ["javascript", "regex", "aurelia"], "comments": [{"owner": {"reputation": 359, "user_id": 6709129, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dz6wY.png?s=128&g=1", "display_name": "Naresh Seepana", "link": "https://stackoverflow.com/users/6709129/naresh-seepana"}, "edited": false, "score": 1, "creation_date": 1560374338, "post_id": 56570048, "comment_id": 99719956, "body": "Use &quot;toView&quot; method. refer: <a href=\"https://aurelia.io/docs/binding/value-converters#simple-converters\" rel=\"nofollow noreferrer\">aurelia.io/docs/binding/value-converters#simple-converters</a>"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1560374661, "post_id": 56570048, "comment_id": 99720058, "body": "Try to set your <i>clean-string.ts</i> with this content: <code>export class CleanStringValueConverter {   toView(dirtyString) {     return dirtyString.replace(&#47;[^a-z 0-9]+&#47;gi, &quot;&quot;);   } }</code> and <i>app.ts</i> to <code>export class Color {   dirtyString=&quot;&quot;; } </code>"}, {"owner": {"reputation": 633, "user_id": 11493447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wIRkU.jpg?s=128&g=1", "display_name": "Cristi&#225;n Ormaz&#225;bal", "link": "https://stackoverflow.com/users/11493447/cristi%c3%a1n-ormaz%c3%a1bal"}, "edited": false, "score": 0, "creation_date": 1560381778, "post_id": 56570048, "comment_id": 99721784, "body": "Maybe this is already answered in this link <a href=\"https://stackoverflow.com/questions/36507344/control-value-of-input-in-aurelia\" title=\"control value of input in aurelia\">stackoverflow.com/questions/36507344/&hellip;</a>. To prevent each key you should use key events with a validation expression. Here&#39;s a modified version of your sandbox: <a href=\"https://codesandbox.io/s/bi-directional-value-converters-gkwvk?fontsize=14\" rel=\"nofollow noreferrer\">codesandbox.io/s/&hellip;</a>"}, {"owner": {"reputation": 483, "user_id": 7926472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c586cdeb579bd8c0d0aff18a56ff05cc?s=128&d=identicon&r=PG&f=1", "display_name": "chethan", "link": "https://stackoverflow.com/users/7926472/chethan"}, "reply_to_user": {"reputation": 633, "user_id": 11493447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wIRkU.jpg?s=128&g=1", "display_name": "Cristi&#225;n Ormaz&#225;bal", "link": "https://stackoverflow.com/users/11493447/cristi%c3%a1n-ormaz%c3%a1bal"}, "edited": false, "score": 0, "creation_date": 1560432056, "post_id": 56570048, "comment_id": 99740727, "body": "@Cristi&#225;nOrmaz&#225;bal your solution worked fine even though I was trying to figure out to make it work using value converters. Could you please explain me how the below keypress return statement work..      keypress(event) {           return !/[|!\\/&amp;*:;$%@#`&#39;_&quot;^&lt;&gt;()+-.,\\&#93;/.test(event.key);      }"}, {"owner": {"reputation": 483, "user_id": 7926472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c586cdeb579bd8c0d0aff18a56ff05cc?s=128&d=identicon&r=PG&f=1", "display_name": "chethan", "link": "https://stackoverflow.com/users/7926472/chethan"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1560432535, "post_id": 56570048, "comment_id": 99741040, "body": "@WiktorStribi\u017cew I tried your suggestion, it seems trying to enter an illegal character works but at some edge cases the value appear in the input field. For instance try entering same illegal character continuously, the character appears and disappears. so thought Cristi&#225;nOrmaz&#225;ba solution solved it. But as per my question, it would have been interesting to know if this could be cracked completely by using value converter"}, {"owner": {"reputation": 483, "user_id": 7926472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c586cdeb579bd8c0d0aff18a56ff05cc?s=128&d=identicon&r=PG&f=1", "display_name": "chethan", "link": "https://stackoverflow.com/users/7926472/chethan"}, "reply_to_user": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 0, "creation_date": 1560456138, "post_id": 56570048, "comment_id": 99753511, "body": "@WiktorStribi\u017cew kindly request you to remove the tag of duplicate as I haven&#39;t still found a solution. Solution of Cristi&#225;nOrmaz&#225;ba works great unless if nothing pasted on to the input field. What if we paste a string with illegal characters? Is there a work around for that. Thank you in advance."}, {"owner": {"reputation": 483, "user_id": 7926472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c586cdeb579bd8c0d0aff18a56ff05cc?s=128&d=identicon&r=PG&f=1", "display_name": "chethan", "link": "https://stackoverflow.com/users/7926472/chethan"}, "reply_to_user": {"reputation": 633, "user_id": 11493447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wIRkU.jpg?s=128&g=1", "display_name": "Cristi&#225;n Ormaz&#225;bal", "link": "https://stackoverflow.com/users/11493447/cristi%c3%a1n-ormaz%c3%a1bal"}, "edited": false, "score": 0, "creation_date": 1560456271, "post_id": 56570048, "comment_id": 99753562, "body": "@Cristi&#225;nOrmaz&#225;bal your solution works great when we type.. what if a user copy pastes something on to the field and it contains all those characters which we were trying to prevent for them enter? any suggestion on that. Really appreciate your time a and effort."}, {"owner": {"reputation": 633, "user_id": 11493447, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wIRkU.jpg?s=128&g=1", "display_name": "Cristi&#225;n Ormaz&#225;bal", "link": "https://stackoverflow.com/users/11493447/cristi%c3%a1n-ormaz%c3%a1bal"}, "edited": false, "score": 0, "creation_date": 1560464734, "post_id": 56570048, "comment_id": 99756151, "body": "Hi, I was trying to improve the sandbox to prevent pasting and here&#39;s what I found: tried first to activate the valueConverter associating the updateTrigger binding behavior to the &#39;paste&#39; parameter. This worked sometimes, not always. Tried adding the debounce binding behavior, but without noticeable improvement. What I&#39;d do if there wasn&#39;t another solution, would be to prevent pasting operations of that input field, or try to intercept the &#39;onpaste&#39; event and do something similar to the keypress event."}], "answers": [{"tags": [], "owner": {"reputation": 483, "user_id": 7926472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c586cdeb579bd8c0d0aff18a56ff05cc?s=128&d=identicon&r=PG&f=1", "display_name": "chethan", "link": "https://stackoverflow.com/users/7926472/chethan"}, "is_accepted": true, "score": 0, "last_activity_date": 1560534483, "last_edit_date": 1560534483, "creation_date": 1560526169, "answer_id": 56601240, "question_id": 56570048, "link": "https://stackoverflow.com/questions/56570048/how-to-bind-and-show-the-value-bound-while-using-aurelia-either-using-value-conv/56601240#56601240", "title": "How to bind and show the value bound while using aurelia either using value converters or any other method", "body": "<p>I feel this is what I was looking for and I feel I found the solution. I had to use the concept of value converter, keypress event and updateTrigger binding rule to make this work without any much hassle. Let me know if you find a better solution :)</p>\n\n<p>Thanks a lot for all your inputs so far  :)</p>\n\n<p>This is what I did:</p>\n\n<p><em>app.html</em></p>\n\n<pre><code>  &lt;template&gt;\n    &lt;require from=\"./clean-string\"&gt;&lt;/require&gt;\n\n    &lt;h3&gt;Enter text with illegal charaters&lt;/h3&gt;\n    &lt;input\n         type=\"text\"\n         value.bind=\"dirtyString | cleanString &amp; updateTrigger:'blur'\"\n         keypress.delegate=\"keypress($event)\"\n    /&gt;\n    &lt;p&gt;${dirtyString}&lt;/p&gt;\n  &lt;/template&gt; \n</code></pre>\n\n<p><em>clean-string.ts</em></p>\n\n<pre><code>export class CleanStringValueConverter {\n  fromView(val) {\n    val = val\n      .replace(/([|!/&amp;*:;$%@#`'_\"^&lt;&gt;()+-.,\\\\])+/g, \"\")\n      .replace(/([^a-z 0-9]+)/gi, \"\")\n      .trim();\n    return val;\n  }\n\n  toView(dirtyString) {\n    dirtyString = dirtyString\n      .replace(/([|!/&amp;*:;$%@#`'_\"^&lt;&gt;()+-.,\\\\])+/g, \"\")\n      .replace(/([^a-z 0-9]+)/gi, \"\")\n      .trim();\n    return dirtyString;\n  }\n}\n</code></pre>\n\n<p><em>app.ts</em></p>\n\n<pre><code>export class Color {\n  dirtyString = \"\";\n\n  keypress(event) {\n    return /([a-z 0-9]+)/gi.test(event.key);\n    // return !/[|!/&amp;*:;$%@#`'_\"^&lt;&gt;()+-.,\\\\]/.test(event.key);\n  }\n}\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/bi-directional-value-converters-d0cps?fontsize=14\" rel=\"nofollow noreferrer\">link to working code</a></p>\n\n<p>Also discussion can be found on aurelia website:\n<a href=\"https://discourse.aurelia.io/t/how-to-prevent-users-typing-pasting-in-illegal-characters-onto-input-fields/2640?u=chethandb\" rel=\"nofollow noreferrer\">discussion link</a></p>\n"}], "owner": {"reputation": 483, "user_id": 7926472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c586cdeb579bd8c0d0aff18a56ff05cc?s=128&d=identicon&r=PG&f=1", "display_name": "chethan", "link": "https://stackoverflow.com/users/7926472/chethan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 235, "favorite_count": 1, "accepted_answer_id": 56601240, "answer_count": 1, "score": 1, "last_activity_date": 1560534483, "creation_date": 1560371949, "last_edit_date": 1560456293, "question_id": 56570048, "link": "https://stackoverflow.com/questions/56570048/how-to-bind-and-show-the-value-bound-while-using-aurelia-either-using-value-conv", "title": "How to bind and show the value bound while using aurelia either using value converters or any other method", "body": "<p>I am trying to use aurelia value converter to parse the values entered by a user by removing all the illegal characters entered in the input field and displaying the parsed text. But there are few edge cases, where I am unable to display the parsed text to the user, instead the entered text with the illegal characters are shown. As a matter of fact the entered text is actually parsed, so I am wondering what could be changed to show the parsed text.</p>\n\n<p>I tried including two replace regex statements and nothing seem to correct this.</p>\n\n<p>value converter clean-string.ts:</p>\n\n<pre><code> export class CleanStringValueConverter {\n   fromView(val) {\n     val = val\n           .replace(/([|!/&amp;*:;$%@#`'_\"^&lt;&gt;()+-.,\\\\])+/g, \"\")\n           .replace(/([^a-z 0-9]+)/gi, \"\")\n           .trim();\n     console.log(val);\n     return val;\n   }\n }\n</code></pre>\n\n<p>app.html:</p>\n\n<pre><code> &lt;template&gt;\n      &lt;require from=\"./clean-string\"&gt;&lt;/require&gt;\n\n      &lt;h3&gt;Enter text with illegal charaters&lt;/h3&gt;\n      &lt;input type=\"text\" value.bind=\"dirtyString | cleanString\" /&gt;\n &lt;/template&gt;\n</code></pre>\n\n<p>app.ts:</p>\n\n<pre><code>  export class DCString{\n    dirtyString: string;\n  }\n</code></pre>\n\n<p>For instance:\nI type in 'random####' \nI expect  'random' to be shown in the input field as I type the last character, because I am parsing out the illegal characters.</p>\n\n<p>But I just see 'random####' on the text field, unless I type an extra character which then triggers the parsing.</p>\n\n<p>So is there a way to resolve this issue?\nWhat changes will I need to make for this to work?\nThanks in advance for your inputs!!</p>\n\n<p>Here is the snippet of what's happening:</p>\n\n<p><a href=\"https://i.stack.imgur.com/ptefQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ptefQ.png\" alt=\"enter image description here\"></a></p>\n\n<p>From console we can see actually the entered text is parsed as I need but that's NOT being shown as parsed text on the input field, even though that is the value bound to the input.</p>\n\n<p>Below is the link for the codesandbox for the above code:\n<a href=\"https://codesandbox.io/s/bi-directional-value-converters-d0cps?fontsize=14\" rel=\"nofollow noreferrer\">sandbox link</a></p>\n\n<p><strong><em>Update</em></strong>:</p>\n\n<p>I tried one of the suggestion from the comments by using keypress event. It works like a charm until you paste a string with all illegal characters. Is there a way to get around that as well? </p>\n"}, {"tags": ["javascript", "html", "asynchronous"], "comments": [{"owner": {"reputation": 1034911, "user_id": 6309, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/7aa22372b695ed2b26052c340f9097eb?s=128&d=identicon&r=PG", "display_name": "VonC", "link": "https://stackoverflow.com/users/6309/vonc"}, "edited": false, "score": 0, "creation_date": 1566667910, "post_id": 56570046, "comment_id": 101732055, "body": "Don&#39;t forget to read <a href=\"https://stackoverflow.com/help/someone-answers\">stackoverflow.com/help/someone-answers</a>"}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11632841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v7VMCsd76UE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZvtzA5GwRu5IxnTSHYZYFHeqolw/mo/photo.jpg?sz=128", "display_name": "carl teunen", "link": "https://stackoverflow.com/users/11632841/carl-teunen"}, "edited": false, "score": 1, "creation_date": 1560373652, "post_id": 56570215, "comment_id": 99719759, "body": "You are my hero everyone else has just been mean to me nut you&#39;ve actually provided me with helpful info. Thank you very much i appreciate the help"}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 33, "user_id": 11632841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v7VMCsd76UE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZvtzA5GwRu5IxnTSHYZYFHeqolw/mo/photo.jpg?sz=128", "display_name": "carl teunen", "link": "https://stackoverflow.com/users/11632841/carl-teunen"}, "edited": false, "score": 0, "creation_date": 1560374110, "post_id": 56570215, "comment_id": 99719888, "body": "No problem - glad I could help! =)"}], "tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": false, "score": 1, "last_activity_date": 1560372810, "creation_date": 1560372810, "answer_id": 56570215, "question_id": 56570046, "link": "https://stackoverflow.com/questions/56570046/need-help-using-await-or-promises-with-two-functions/56570215#56570215", "title": "Need help using await or promises with two functions", "body": "<p>First I'd recommend merging these two functions into one and prefix it with the <strong>async</strong> keyword. This way you can use a <strong>promise</strong> inside, which actually tries to get the data via ajax. Such a promise can either be rejected or resolved. If it's resolved - in your case if it successfully loaded the fileslist - instead of returning the data you can resolve the promise with the data.</p>\n\n<p>Here's some code:</p>\n\n<pre><code>async function readinfiles() {\n\n  var options = \"&lt;option value ='0'&gt;select&lt;/option&gt;\";\n  alert(\"hi\");\n  var promise = new Promise(function(resolve, reject) {\n\n    $.ajax({\n      url: 'fileslist.txt',\n      success: function(data) {\n        resolve(data.split('\\n'));\n\n      }\n    });\n  });\n\n  var values = await promise;\n  alert(values);\n}\nreadinfiles();\n</code></pre>\n\n<p>To clarify, the magic is happening here:</p>\n\n<pre><code>  var values = await promise;\n  alert(values);\n</code></pre>\n\n<p>As you can see we're creating a new variable called values and assigning it the result of the promise indicated by the <strong>await</strong> keyword. That means it won't execute the next function - alert() - before the promise either is resolved or rejected.</p>\n"}], "owner": {"reputation": 33, "user_id": 11632841, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-v7VMCsd76UE/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfZvtzA5GwRu5IxnTSHYZYFHeqolw/mo/photo.jpg?sz=128", "display_name": "carl teunen", "link": "https://stackoverflow.com/users/11632841/carl-teunen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 33, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560372810, "creation_date": 1560371945, "question_id": 56570046, "link": "https://stackoverflow.com/questions/56570046/need-help-using-await-or-promises-with-two-functions", "title": "Need help using await or promises with two functions", "body": "<p>Hi have created two functions one for reading in words from a file and another for putting those words into a select component. The problem i believe is that the one is executing asynchronously but i have no idea where to put my promises or my awaits. </p>\n\n<p>I have read articles on these concepts but none of them seem to apply to my example so any assistance would be much appreciated. </p>\n\n<p>My first function that calls the async function. </p>\n\n<pre><code>  &lt;script&gt;\n\n                            function readinfiles()\n                            {\n\n                                    var options = \"&lt;option value ='0'&gt;select&lt;/option&gt;\";\n                                    alert(\"hi\");\n                                    var values= getTxt();\n                                    alert(values);\n\n\n                            }\n\n                    &lt;/script&gt;\n</code></pre>\n\n<p>my second functio0n that fetches the info </p>\n\n<pre><code> &lt;script src=\"jquery.js\"&gt;&lt;/script&gt;\n                    &lt;script&gt;\n                    getTxt =  function (){\n\n                      $.ajax({\n                            url:'fileslist.txt',\n                            success: function (data){\n                            return data.split('\\n');\n                            }\n                      });\n                    }\n                    &lt;/script&gt;\n</code></pre>\n\n<p>At the moment the values array is undefined and any help in restructuring these functions would be greatly appreciated</p>\n"}, {"tags": ["javascript", "reactjs", "pdf", "import"], "answers": [{"tags": [], "owner": {"reputation": 76, "user_id": 10134980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/de7da7464113afc1f29fe67843ada743?s=128&d=identicon&r=PG&f=1", "display_name": "cwiswell3", "link": "https://stackoverflow.com/users/10134980/cwiswell3"}, "is_accepted": false, "score": 0, "last_activity_date": 1560372035, "creation_date": 1560372035, "answer_id": 56570066, "question_id": 56570005, "link": "https://stackoverflow.com/questions/56570005/console-log-returns-3-values-when-only-one-object-in-state/56570066#56570066", "title": "Console log returns 3 values when only one object in state", "body": "<p>It has to do with how react calls the render method.</p>\n\n<p>The render method is run before componentDidMount.</p>\n\n<p>refer to this answer:\n<a href=\"https://stackoverflow.com/a/45343644/10134980\">React render() is being called before componentDidMount()</a></p>\n"}, {"tags": [], "owner": {"reputation": 161, "user_id": 9726521, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/42d1ea853a54ad0321d69e9d955aca81?s=128&d=identicon&r=PG&f=1", "display_name": "lehmanad1", "link": "https://stackoverflow.com/users/9726521/lehmanad1"}, "is_accepted": false, "score": 1, "last_activity_date": 1560372060, "creation_date": 1560372060, "answer_id": 56570073, "question_id": 56570005, "link": "https://stackoverflow.com/questions/56570005/console-log-returns-3-values-when-only-one-object-in-state/56570073#56570073", "title": "Console log returns 3 values when only one object in state", "body": "<p>Generally with cases like these the log statement gets called more than once. \nThis would be supported in your case by the fact that <code>Render()</code> actually gets called before <code>ComponentDidMount()</code> (see: <a href=\"http://busypeoples.github.io/post/react-component-lifecycle/\" rel=\"nofollow noreferrer\">http://busypeoples.github.io/post/react-component-lifecycle/</a>). </p>\n\n<p>Render then gets called twice after ComponentDidMount (and other state updates), having the right solution after the ComponentDidMount call.</p>\n"}, {"tags": [], "owner": {"reputation": 1558, "user_id": 11265949, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/x7xqr.png?s=128&g=1", "display_name": "filipe", "link": "https://stackoverflow.com/users/11265949/filipe"}, "is_accepted": false, "score": 0, "last_activity_date": 1560372672, "last_edit_date": 1560372672, "creation_date": 1560372186, "answer_id": 56570089, "question_id": 56570005, "link": "https://stackoverflow.com/questions/56570005/console-log-returns-3-values-when-only-one-object-in-state/56570089#56570089", "title": "Console log returns 3 values when only one object in state", "body": "<p>Because render is called before componentDidMount() 1 time, where the state is still <code>{wine: {}}</code>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/GgY2a.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GgY2a.jpg\" alt=\"React lifecycle\"></a></p>\n"}], "owner": {"reputation": 59, "user_id": 10181282, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MTBHM.jpg?s=128&g=1", "display_name": "elainecadman", "link": "https://stackoverflow.com/users/10181282/elainecadman"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 171, "favorite_count": 0, "answer_count": 3, "score": -1, "last_activity_date": 1560372672, "creation_date": 1560371741, "question_id": 56570005, "link": "https://stackoverflow.com/questions/56570005/console-log-returns-3-values-when-only-one-object-in-state", "title": "Console log returns 3 values when only one object in state", "body": "<p>I'm trying to conditionally import a pdf file which I call <code>const techSheet</code> below, but for some reason when I <code>console.log(wine.Code)</code> it returns 3 things: undefined, correct result, correct result. </p>\n\n<p>(result of console.log):</p>\n\n<pre><code>onewine.js:64 Code: undefined\nonewine.js:64 Code: FGA-CHA17\nonewine.js:64 Code: FGA-CHA17\n</code></pre>\n\n<p>Everything looks fine in state, there's only one object in this.state.wine so I can't figure out why, #1 It's returning 3 values #2 why the first one is undefined.</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport API from \"../utils/API\";\nimport { Grid} from \"semantic-ui-react\";\nimport { Link } from \"react-router-dom\";\n\n\nclass OneWine extends Component {\n  state = {\n    wine: {}\n  };\n\n componentDidMount() {\n\n    API.getWine(this.props.match.params.id)\n      .then(res =&gt; this.setState({ wine: res.data }))\n      .catch(err =&gt; console.log(err));\n  }\n\nrender() {\n    const { wine } = this.state;\n    const techSheet = require(`../TechSheets/Tech_${wine.Code}.pdf`);\n    console.log(\"Code:\", wine.Code)\n\n\n    return (\n\n     &lt;a href = {techSheet} target = \"_blank\" rel=\"noopener noreferrer\"&gt;\n          &lt;Button basic color=\"brown\" target=\"_blank\" rel=\"noopener noreferrer\"&gt; Tech Sheet\n          &lt;/Button&gt;\n     &lt;/a&gt;\n\n    );\n  }\n}\n\nexport default OneWine;\n</code></pre>\n\n<p>I don't have any other console.logs or anything. Why is this coming up as undefined for the first one?</p>\n"}, {"tags": ["javascript", "node.js", "asynchronous", "async-await"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "edited": false, "score": 1, "creation_date": 1560372040, "post_id": 56570001, "comment_id": 99719177, "body": "@mark <code>resolve</code> is in scope in both cases."}, {"owner": {"reputation": 73287, "user_id": 3874623, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/6df0aa136ee42f4ea24ef08b7c348e7a?s=128&d=identicon&r=PG&f=1", "display_name": "Mark", "link": "https://stackoverflow.com/users/3874623/mark"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1560372126, "post_id": 56570001, "comment_id": 99719206, "body": "Thanks @JonasWilms -- my mistake. Edited the indent to make this a little clearer."}], "answers": [{"tags": [], "owner": {"reputation": 718999, "user_id": 5445, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/932fb89b9d4049cec5cba357bf0ae388?s=128&d=identicon&r=PG", "display_name": "Christian C. Salvad&#243;", "link": "https://stackoverflow.com/users/5445/christian-c-salvad%c3%b3"}, "is_accepted": false, "score": 0, "last_activity_date": 1560373250, "last_edit_date": 1560373250, "creation_date": 1560372350, "answer_id": 56570121, "question_id": 56570001, "link": "https://stackoverflow.com/questions/56570001/i-wish-to-understand-the-behavior-of-promise-inside-and-outside-callback-functio/56570121#56570121", "title": "I wish to understand the behavior of promise inside and outside callback function", "body": "<p>The problem in the second code block is that you are resolving the promise immediately. You are not waiting for the <code>con.query</code> method to finish.</p>\n\n<p>Since you want to use async/await and you seem to be working with <code>util.promisify</code> I would recommend the following:</p>\n\n<pre><code>async function findLikes(q, req, res) {\n  const likes_q = `SELECT * FROM PublicStoryLike WHERE authorId =  ${\n    req.body.token_id\n  }`;\n\n  const query = util.promisify(con.query).bind(con);\n  const likes = await query(likes_q);\n\n  // ....\n}\n</code></pre>\n\n<p>You can see you don't need to manually create a Promise. That's what <code>util.promisify</code> will do for you. You can simply just <code>await</code> for it.</p>\n\n<p><strong>EDIT:</strong> By further looking at your code, I see that <code>findLikes</code> looks like an express route. Generally, I don't recommend coupling your web-request logic with your data access layer.</p>\n\n<p>I would suggest you separate them, by making <code>findLikes</code> a standalone async function:</p>\n\n<pre><code>async function findLikes(authorId) {\n  const likes_q = `SELECT * FROM PublicStoryLike WHERE authorId =  ${\n    authorId\n  }`;\n\n  const query = util.promisify(con.query).bind(con);\n\n  return await query(likes_q);\n}\n</code></pre>\n\n<p>And later on in your route:</p>\n\n<pre><code>async function findLikesRoute(q, req, res){\n  const likes = await findLikes(req.body.token_id);\n  //... work with the data\n}\n</code></pre>\n\n<p>This will give you the benefits of separation of concerns. For example, what would you do if let's say you would want to change the way you expose data?. Instead of exposing it through this express route, you now want now to expose it through GraphQL?</p>\n\n<p>If you have your data access logic separated, it would be really easy. </p>\n"}, {"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 0, "last_activity_date": 1560372705, "last_edit_date": 1560372705, "creation_date": 1560372365, "answer_id": 56570123, "question_id": 56570001, "link": "https://stackoverflow.com/questions/56570001/i-wish-to-understand-the-behavior-of-promise-inside-and-outside-callback-functio/56570123#56570123", "title": "I wish to understand the behavior of promise inside and outside callback function", "body": "<p>Let's forget about promises. The missunderstanding is rather about callbacks here: Your case can be illustrated as:</p>\n\n<pre><code>  function works(callback) {\n     setTimeout(function() {\n        console.log(\"inside timeout\");\n        callback(\"result\");\n     }, 1000);\n  }\n\n  function doesnt(callback) {\n    setTimeout(function() {\n      console.log(\"inside timeout\");\n    }, 1000);\n    callback();\n  }\n\n  works(function(result) { console.log(\"called back\"); });\n</code></pre>\n\n<p>In the working version, you call back the outer callback when the inner callback was called, meaning the result arrived from the db in your case.</p>\n\n<p>In the non working version you call back the callback directly, yet the timer (or the database call) did not finish, therefore the results are not there yet.</p>\n\n<hr>\n\n<p>You should usually not use global variables, especially when asynchrony is involved. Your <code>likes</code> variable will cause you (and does already) cause you headaches, just remove it completely. Instead, <em>resolve</em> the promise (or call the callback back) with the value needed. That way you can easily detect errors:</p>\n\n<pre><code>  getResult(function(result) {\n    callback(result); // works, result is ready\n  });\n\n  callback(result); // does not work, throws an error\n</code></pre>\n\n<p>In your case, that'll be:</p>\n\n<pre><code> async function findLikes(q, req, res){\n\n   const query = `SELECT * FROM PublicStoryLike WHERE authorId = ${req.body.token_id}`;\n\n\n\n   return new Promise((resolve, reject) =&gt; {\n    con.query(query, (err, result) =&gt; {\n       if(err) reject(err) else resolve(result);\n    });\n   });\n }\n\n findLikes(/*...*/)\n   .then(likes =&gt; {\n     // Work with likes here!\n   });\n</code></pre>\n"}], "owner": {"reputation": 27, "user_id": 10306469, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153741100772598/picture?type=large", "display_name": "Gian Luca Spadafora", "link": "https://stackoverflow.com/users/10306469/gian-luca-spadafora"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 90, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560373250, "creation_date": 1560371728, "last_edit_date": 1560372209, "question_id": 56570001, "link": "https://stackoverflow.com/questions/56570001/i-wish-to-understand-the-behavior-of-promise-inside-and-outside-callback-functio", "title": "I wish to understand the behavior of promise inside and outside callback function", "body": "<p>I'm fairly new to NodeJS and am trying to understand async, await, and promises. The likes variable is undefined if I take resolve() outside of the callback scope of 'con.query' (still inside the new Promise scope). It is only populated if resolve() is inside the callback. Why does this happen? Examples: </p>\n\n<pre><code>//WORKS\nasync function findLikes(q, req, res){\n\n  var likes_q = `SELECT * FROM PublicStoryLike WHERE authorId = \n${req.body.token_id}`;\n  var likes;\n  var lookup = {};\n\n  //const query = util.promisify(con.query).bind(con);\n\n  const query = new Promise((resolve, reject) =&gt; {\n    con.query(likes_q, (err, result) =&gt; {\n    likes = JSON.stringify(result);\n    resolve();    //INSIDE con.query\n  });\n\n  })\n\n//DOESN'T WORK\nasync function findLikes(q, req, res){\n\n  var likes_q = `SELECT * FROM PublicStoryLike WHERE authorId = \n${req.body.token_id}`;\n  var likes;\n  var lookup = {};\n\n  //const query = util.promisify(con.query).bind(con);\n\n  const query = new Promise((resolve, reject) =&gt; {\n    con.query(likes_q, (err, result) =&gt; {\n        likes = JSON.stringify(result);\n\n     });\n     resolve(); //OUTSIDE con.query \n  })\n</code></pre>\n"}, {"tags": ["javascript", "geolocation", "revoke"], "answers": [{"comments": [{"owner": {"reputation": 71, "user_id": 11222725, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XovmpQb3_EE/AAAAAAAAAAI/AAAAAAAALCw/dVtsvDlRkqA/photo.jpg?sz=128", "display_name": "Topher Sikorra", "link": "https://stackoverflow.com/users/11222725/topher-sikorra"}, "edited": false, "score": 0, "creation_date": 1560459065, "post_id": 56570311, "comment_id": 99754532, "body": "As I stated before, this feature isn&#39;t supported by most browsers.  <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Permissions/revoke#Browser_compatibility\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Permissions/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1, "user_id": 9160655, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ad4aad220d441ae623cb5026fecf03a?s=128&d=identicon&r=PG", "display_name": "user9160655", "link": "https://stackoverflow.com/users/9160655/user9160655"}, "is_accepted": false, "score": 0, "last_activity_date": 1560373287, "creation_date": 1560373287, "answer_id": 56570311, "question_id": 56569997, "link": "https://stackoverflow.com/questions/56569997/how-do-i-clear-geolocation-permissions/56570311#56570311", "title": "How do I clear geolocation permissions", "body": "<pre><code>function revokePermission({ \n    navigator.permissions.revoke({\n        name:'geolocation'\n    }).then(function(result) { \n        report(result.state); \n    }); \n}\n</code></pre>\n\n<p>Here is what u looking for...</p>\n"}, {"tags": [], "owner": {"reputation": 13, "user_id": 12377730, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mDhfBIa2g2jol0Bs9iouLsWomusbCmaENKJN8t4=k-s128", "display_name": "Hiten Gal", "link": "https://stackoverflow.com/users/12377730/hiten-gal"}, "is_accepted": false, "score": 0, "last_activity_date": 1580122815, "last_edit_date": 1580122815, "creation_date": 1580120664, "answer_id": 59929197, "question_id": 56569997, "link": "https://stackoverflow.com/questions/56569997/how-do-i-clear-geolocation-permissions/59929197#59929197", "title": "How do I clear geolocation permissions", "body": "<p>You can't change permissions of <code>geolocation</code>, but u check what was clicked by the user and allow or deny it:</p>\n\n<pre><code> navigator.permissions.query({name:'geolocation'}).then(function(result) {\n    if (result.state === 'granted') {\n\n    } else if (result.state === 'prompt') {\n\n    } else if(result.state === 'denied'){\n\n    }\n    report(result.state);\n  });\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 11222725, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-XovmpQb3_EE/AAAAAAAAAAI/AAAAAAAALCw/dVtsvDlRkqA/photo.jpg?sz=128", "display_name": "Topher Sikorra", "link": "https://stackoverflow.com/users/11222725/topher-sikorra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 338, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1580122815, "creation_date": 1560371704, "question_id": 56569997, "link": "https://stackoverflow.com/questions/56569997/how-do-i-clear-geolocation-permissions", "title": "How do I clear geolocation permissions", "body": "<p>I want to enable geolocation permissions only one time per visit.  e.g. if a user leaves my site, and then returns, they will be prompted for geolocation permission again.</p>\n\n<p>the Permissions.revoke() method isn't widely supported, and MDN states that it's being deprecated.</p>\n"}, {"tags": ["javascript", "reactjs", "react-select"], "comments": [{"owner": {"reputation": 4446, "user_id": 6079412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e5e6c2756113d7289e80bed137251db?s=128&d=identicon&r=PG&f=1", "display_name": "larz", "link": "https://stackoverflow.com/users/6079412/larz"}, "edited": false, "score": 0, "creation_date": 1560371911, "post_id": 56569974, "comment_id": 99719139, "body": "Inside <code>handleMoviesFilter</code>, <code>currentMovie</code> is just a string (e.g. <code>GoodFellas</code>).  What are you expecting to happen when you&#39;re filtering <code>this.state.movies</code>?"}, {"owner": {"reputation": 1199, "user_id": 6367080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TxA6y.png?s=128&g=1", "display_name": "codeherk", "link": "https://stackoverflow.com/users/6367080/codeherk"}, "edited": false, "score": 0, "creation_date": 1560422295, "post_id": 56569974, "comment_id": 99735042, "body": "when a <code>&lt;option&gt;</code> is selected, what are you trying to do with the contents inside <code>&lt;select&gt;</code>?"}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10408806"}, "edited": false, "score": 0, "creation_date": 1560411775, "post_id": 56570223, "comment_id": 99729263, "body": "This works but it destroys my original array from 28 items after filtering i get 10.. and i am not able to revert back to the original state. How can i keep the original array?"}, {"owner": {"reputation": 46, "user_id": 11599472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d669fc1b3c04b8e382f00d70979ea5b?s=128&d=identicon&r=PG&f=1", "display_name": "bitznbytez", "link": "https://stackoverflow.com/users/11599472/bitznbytez"}, "edited": false, "score": 0, "creation_date": 1560429780, "post_id": 56570223, "comment_id": 99739250, "body": "@Galanthus, Something that I would do is have an array that is responsible for showing the filtered items, and one array that contains all of the items. This is often a pattern that I use."}], "tags": [], "owner": {"reputation": 46, "user_id": 11599472, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d669fc1b3c04b8e382f00d70979ea5b?s=128&d=identicon&r=PG&f=1", "display_name": "bitznbytez", "link": "https://stackoverflow.com/users/11599472/bitznbytez"}, "is_accepted": true, "score": 0, "last_activity_date": 1560429918, "last_edit_date": 1560429918, "creation_date": 1560372853, "answer_id": 56570223, "question_id": 56569974, "link": "https://stackoverflow.com/questions/56569974/how-to-filter-array-from-state-onchange-based-on-category-and-revert-to-default/56570223#56570223", "title": "How to Filter array from state onChange based on category and revert to default?", "body": "<p>If what you are trying to accomplish is based upon the selected option, filter the state.movies and return those in which match, then you would want to do something like the following...</p>\n\n<pre><code>state = {\n    movies: [\n        {\n            name: 'Goodfellas',\n            category: 'crime'\n        },\n\n        {\n            name: 'Saving private ryan',\n            category: 'war'\n        },\n        {\n            name: 'The Shawshank Redemption',\n            category: 'drama'\n        }\n    ]\n}\n\nhandleMoviesFilter = e =&gt; {\n    let currentMovie = e.target.value;\n\n    const updateMoviesState = this.state.movies.filter(movie =&gt; movie.name.toLowerCase() === currentMovie.toLowerCase());\n\n    this.setState({\n        movies: updateMoviesState,\n        isResetButtonActive: true,\n    });\n}\n\n&lt;select id=\"lang\" onChange={this.handleMoviesFilter}&gt;\n    &lt;option value=\"select\"&gt;Select&lt;/option&gt;\n    &lt;option value=\"Goodfellas\"&gt;Goodfellas&lt;/option&gt;\n    &lt;option value=\"Saving private ryan\"&gt;Saving private ryan&lt;/option&gt;\n    &lt;option value=\"The Shawshank Redemption\"&gt;The Shawshank Redemption&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1199, "user_id": 6367080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TxA6y.png?s=128&g=1", "display_name": "codeherk", "link": "https://stackoverflow.com/users/6367080/codeherk"}, "is_accepted": false, "score": 0, "last_activity_date": 1560375008, "creation_date": 1560375008, "answer_id": 56570623, "question_id": 56569974, "link": "https://stackoverflow.com/questions/56569974/how-to-filter-array-from-state-onchange-based-on-category-and-revert-to-default/56570623#56570623", "title": "How to Filter array from state onChange based on category and revert to default?", "body": "<p>You would want to </p>\n\n<ul>\n<li>get the selected value</li>\n<li><strong>uppercase</strong> all of it's characters with <code>toUpperCase()</code></li>\n<li><strong>filter</strong> <code>state</code> to get the movies that <strong>includes</strong> the selected value in it's <strong>name</strong>\n\n<ul>\n<li>filter &amp; includes method used</li>\n</ul></li>\n</ul>\n\n<pre><code>state = {\n    movies: [\n        {\n            name: 'Goodfellas',\n            category: 'crime'\n        },\n\n        {\n            name: 'Saving private ryan',\n            category: 'war'\n        },\n        {\n            name: 'The Shawshank Redemption',\n            category: 'drama'\n        },\n        {\n            name: 'Good Riddance',\n            category: 'drama'\n        }\n    ]\n}\n\nhandleMoviesFilter = e =&gt; {\n    let currentMovie = e.target.value.toUpperCase();\n\n\n    //const updateMoviesState = this.state.movies.filter(movie =&gt; movie.name.toUpperCase() === currentMovie);\n\n    const updateMoviesState = this.state.movies.filter(movie =&gt; movie.name.toUpperCase().includes(currentMovie));\n    this.setState({\n        movies: updateMoviesState,\n        isResetButtonActive: true,\n    });\n}\n\n&lt;select id=\"lang\" onChange={this.handleMoviesFilter}&gt;\n    &lt;option value=\"select\"&gt;Select&lt;/option&gt;\n    &lt;option value=\"Goodfellas\"&gt;Goodfellas&lt;/option&gt;\n    &lt;option value=\"Saving private ryan\"&gt;Saving private ryan&lt;/option&gt;\n    &lt;option value=\"The Shawshank Redemption\"&gt;The Shawshank Redemption&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<h1>Test It Out</h1>\n\n<p><em>This snippet was made so you can test it out. <strong>This does NOT include react-js framework of course</em></strong>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const state = {\r\n    movies: [\r\n        {\r\n            name: 'Goodfellas',\r\n            category: 'crime'\r\n        },\r\n\r\n        {\r\n            name: 'Saving private ryan',\r\n            category: 'war'\r\n        },\r\n        {\r\n            name: 'The Shawshank Redemption',\r\n            category: 'drama'\r\n        },\r\n        {\r\n            name: 'Good Riddance',\r\n            category: 'drama'\r\n        }\r\n    ]\r\n}\r\n\r\nhandleMoviesFilter = e =&gt; {\r\n    // get requested movie\r\n    let currentMovie = document.getElementById('textField').value.toUpperCase(); // t\r\n    console.log(\"Requested Movie:\", currentMovie);\r\n    \r\n    // array has a movie that equals selected movie\r\n    //const updateMoviesState = state.movies.filter(movie =&gt; movie.name.toUpperCase() === currentMovie);\r\n\r\n    // array has a movie whose name contain the phrase \r\n    const updateMoviesState = state.movies.filter(movie =&gt; movie.name.toUpperCase().includes(currentMovie));\r\n\r\n    console.log(\"Filter Result:\", updateMoviesState);\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input id=\"textField\"&gt;&lt;/input&gt;\r\n&lt;button onclick=\"handleMoviesFilter(event)\"&gt;Filter&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10408806"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 950, "favorite_count": 1, "accepted_answer_id": 56570223, "answer_count": 2, "score": 1, "last_activity_date": 1560429918, "creation_date": 1560371527, "last_edit_date": 1560406734, "question_id": 56569974, "link": "https://stackoverflow.com/questions/56569974/how-to-filter-array-from-state-onchange-based-on-category-and-revert-to-default", "title": "How to Filter array from state onChange based on category and revert to default?", "body": "<p>For my class based component, I have a <code>state</code> <strong>object</strong> that contains a defined array named <code>movies</code>. I also have a <code>handleMoviesFilter</code> function, that is called <code>onChange</code> on the <code>select</code> tag.</p>\n\n<p>How can I filter the options dynamically from my array, filter them onChange.. and revert when I pick another movie?</p>\n\n<pre><code>state = {\n    movies: [\n        {\n            name: 'Goodfellas',\n            category: 'crime'\n        },\n\n        {\n            name: 'Saving private ryan',\n            category: 'war'\n        },\n        {\n            name: 'The Shawshank Redemption',\n            category: 'drama'\n        }\n    ]\n}\n\nhandleMoviesFilter = e =&gt; {\n    let currentMovie = e.target.value;\n\n    const updateMoviesState = this.state.movies.filter(({ category }) =&gt;\n        currentMovie.includes(category)\n    );\n\n    this.setState({\n        opleidingen: updateMoviesState,\n        isResetButtonActive: true,\n    });\n}\n\n&lt;select id=\"lang\" onChange={this.handleMoviesFilter}&gt;\n    &lt;option value=\"select\"&gt;Select&lt;/option&gt;\n    &lt;option value=\"Goodfellas\"&gt;Goodfellas&lt;/option&gt;\n    &lt;option value=\"Saving private ryan\"&gt;Saving private ryan&lt;/option&gt;\n    &lt;option value=\"The Shawshank Redemption\"&gt;The Shawshank Redemption&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n"}, {"tags": ["javascript", "html", "rest"], "answers": [{"comments": [{"owner": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "reply_to_user": {"reputation": 33, "user_id": 11526980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b68542559b42bad7a885a0d90fc3fa64?s=128&d=identicon&r=PG&f=1", "display_name": "raicobi", "link": "https://stackoverflow.com/users/11526980/raicobi"}, "edited": false, "score": 0, "creation_date": 1560372699, "post_id": 56569971, "comment_id": 99719429, "body": "Great. Please accept the answer if you deem it to have solved your problem."}], "tags": [], "owner": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "is_accepted": true, "score": 1, "last_activity_date": 1560371512, "creation_date": 1560371512, "answer_id": 56569971, "question_id": 56569942, "link": "https://stackoverflow.com/questions/56569942/how-do-i-place-a-placeholder-inside-a-select-type-input/56569971#56569971", "title": "How do I place a placeholder inside a select type input?", "body": "<p>Just have one <code>option</code> in the <code>select</code>, acting as the placeholder:</p>\n\n<pre><code>&lt;select id=country&gt;\n    &lt;option value=''&gt;Select...&lt;/option&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>Then have the JavaScript append the generated HTML, rather than replace the current HTML.</p>\n\n<pre><code>countriesList.innerHTML += options;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 554, "user_id": 9076314, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9a78812141b5e6ba6c8c1f0d7c8d99e0?s=128&d=identicon&r=PG&f=1", "display_name": "Neskews", "link": "https://stackoverflow.com/users/9076314/neskews"}, "is_accepted": false, "score": 0, "last_activity_date": 1560372329, "creation_date": 1560372329, "answer_id": 56570116, "question_id": 56569942, "link": "https://stackoverflow.com/questions/56569942/how-do-i-place-a-placeholder-inside-a-select-type-input/56570116#56570116", "title": "How do I place a placeholder inside a select type input?", "body": "<p>I refactored a smaller setup that may help, too:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const createElements = async () =&gt; {\r\n  const response = await fetch(\"https://restcountries.eu/rest/v2/all\");\r\n  const countries = await response.json();\r\n\r\n  return countries.map(({ name }) =&gt; `&lt;option value=${name}&gt;${name}&lt;/option&gt;`);\r\n};\r\n\r\n(async () =&gt; {\r\n  document.getElementById(\"app\").innerHTML = `\r\n    &lt;select&gt;\r\n      &lt;option&gt;select&lt;/option&gt;\r\n      ${await createElements()}\r\n    &lt;/select&gt;\r\n  `;\r\n})();</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"app\"/&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 11526980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b68542559b42bad7a885a0d90fc3fa64?s=128&d=identicon&r=PG&f=1", "display_name": "raicobi", "link": "https://stackoverflow.com/users/11526980/raicobi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 56569971, "answer_count": 2, "score": 1, "last_activity_date": 1560372329, "creation_date": 1560371368, "question_id": 56569942, "link": "https://stackoverflow.com/questions/56569942/how-do-i-place-a-placeholder-inside-a-select-type-input", "title": "How do I place a placeholder inside a select type input?", "body": "<p>I'm having a rather weird issue and I just can't seem to figure it out. So I have a form where the user selects which country they're from and I'd like to code in a placeholder to make it look better. I've connected a REST api to fetch all the countries in the world and display them as options.</p>\n\n<p>I've tried the <code>html &lt;option value=\"\" disabled selected&gt;Choose Country...&lt;/option&gt;</code> and few other similar ones. I believe it has something to do with the way I coded the javascript to fetch the API but since I'm a novice I'm not too sure.</p>\n\n<pre><code>// set up global variables\nconst countriesList = document.getElementById(\"country\");\nlet countries; //contains fetched data list\n\n//establish connection with API\nfetch(\"https://restcountries.eu/rest/v2/all\")\n.then(res =&gt; res.json())\n.then(data =&gt; initialize(data))\n.catch(err =&gt; console.log(\"Error: \" + err));\n\n\nfunction initialize(countriesData) {\ncountries = countriesData;\nlet options = \"\"; //assign option vriable empty string\n\n// loop each country and assign it to options variable\nfor(let i=0; i&lt;countries.length; i++){\n  options += `&lt;option value= \"${countries[i].name}\"&gt; ${countries[i].name} &lt;/option&gt;`;\n}\ncountriesList.innerHTML = options;\n}\n\n</code></pre>\n\n<p>Above is the javascript I used in order to fetch the api and display it in the drop down select menu, and the issue is that the api replaces every option tag I manually input in the html code. Any suggestions? Cheers!</p>\n"}, {"tags": ["javascript", "jquery", "regex"], "comments": [{"owner": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "edited": false, "score": 1, "creation_date": 1560371382, "post_id": 56569905, "comment_id": 99718961, "body": "Well, why not try something?"}, {"owner": {"reputation": 3580, "user_id": 10515503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71X2K.png?s=128&g=1", "display_name": "Mr. Jo", "link": "https://stackoverflow.com/users/10515503/mr-jo"}, "reply_to_user": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "edited": false, "score": 0, "creation_date": 1560371479, "post_id": 56569905, "comment_id": 99719000, "body": "Because I don&#39;t know how to work with RegEx and if this is even possible"}, {"owner": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "edited": false, "score": 0, "creation_date": 1560371540, "post_id": 56569905, "comment_id": 99719022, "body": "Of course it&#39;s possible. RegExp is pattern matching, precisely for cases such as this. So the first thing is to do a RegExp tutorial."}, {"owner": {"reputation": 3580, "user_id": 10515503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71X2K.png?s=128&g=1", "display_name": "Mr. Jo", "link": "https://stackoverflow.com/users/10515503/mr-jo"}, "reply_to_user": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "edited": false, "score": 0, "creation_date": 1560372008, "post_id": 56569905, "comment_id": 99719166, "body": "([a-zA-Z]+;) This is what I&#39;ve got but how can I get the ; out of it?"}], "answers": [{"comments": [{"owner": {"reputation": 3580, "user_id": 10515503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71X2K.png?s=128&g=1", "display_name": "Mr. Jo", "link": "https://stackoverflow.com/users/10515503/mr-jo"}, "edited": false, "score": 0, "creation_date": 1560372449, "post_id": 56570104, "comment_id": 99719337, "body": "This returns everything before ; but I just need Macintosh so maybe there is an error but I&#39;ll try it with your answer. Thanks for your help."}, {"owner": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "reply_to_user": {"reputation": 3580, "user_id": 10515503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71X2K.png?s=128&g=1", "display_name": "Mr. Jo", "link": "https://stackoverflow.com/users/10515503/mr-jo"}, "edited": false, "score": 0, "creation_date": 1560372741, "post_id": 56570104, "comment_id": 99719448, "body": "The first element of the match will always return the whole match, but the second element ([1]) will be just Macintosh."}, {"owner": {"reputation": 3580, "user_id": 10515503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71X2K.png?s=128&g=1", "display_name": "Mr. Jo", "link": "https://stackoverflow.com/users/10515503/mr-jo"}, "edited": false, "score": 0, "creation_date": 1560372813, "post_id": 56570104, "comment_id": 99719479, "body": "Oh okay, I understand. And how can I access now the last element?"}, {"owner": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "reply_to_user": {"reputation": 3580, "user_id": 10515503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71X2K.png?s=128&g=1", "display_name": "Mr. Jo", "link": "https://stackoverflow.com/users/10515503/mr-jo"}, "edited": false, "score": 1, "creation_date": 1560372829, "post_id": 56570104, "comment_id": 99719484, "body": "Well <code>match()</code> returns an array, as is surely evident. <a href=\"https://jsfiddle.net/2h6o3cfb/1/\" rel=\"nofollow noreferrer\">jsfiddle.net/2h6o3cfb/1</a>"}], "tags": [], "owner": {"reputation": 30330, "user_id": 1352288, "user_type": "registered", "accept_rate": 61, "profile_image": "https://i.stack.imgur.com/Ra8hE.png?s=128&g=1", "display_name": "Mitya", "link": "https://stackoverflow.com/users/1352288/mitya"}, "is_accepted": true, "score": 3, "last_activity_date": 1614421534, "last_edit_date": 1614421534, "creation_date": 1560372269, "answer_id": 56570104, "question_id": 56569905, "link": "https://stackoverflow.com/questions/56569905/get-device-name-from-user-agent-infos-within-javascript/56570104#56570104", "title": "Get device name from user agent infos within JavaScript", "body": "<p>RegExp is all about defining the logic of your pattern. This means you need to be sure about the string format for it to work.</p>\n<p>So for example, in the example you posted, perhaps we define the bit you want to match as:</p>\n<ul>\n<li>&quot;the first word after the first opening bracket&quot;</li>\n</ul>\n<p>In which case:</p>\n<pre><code>navigator.userAgent.match(/^[^\\(]+\\((\\w+)/);\n</code></pre>\n"}], "owner": {"reputation": 3580, "user_id": 10515503, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/71X2K.png?s=128&g=1", "display_name": "Mr. Jo", "link": "https://stackoverflow.com/users/10515503/mr-jo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 325, "favorite_count": 0, "accepted_answer_id": 56570104, "answer_count": 1, "score": -1, "last_activity_date": 1614421534, "creation_date": 1560371224, "question_id": 56569905, "link": "https://stackoverflow.com/questions/56569905/get-device-name-from-user-agent-infos-within-javascript", "title": "Get device name from user agent infos within JavaScript", "body": "<p>I know that there are a lot questions about this topic but none of them are helpful for me. I know, that I can't get the device via JavaScript like iPhone or so. </p>\n\n<p>So when I run this command:</p>\n\n<pre><code>navigator.userAgent\n</code></pre>\n\n<p>I'm getting this result:</p>\n\n<pre><code>\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_14_3) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36\"\n</code></pre>\n\n<p>Now I want to extract the first word <code>Macintosh</code> after the opening bracket and store it in a variable. How can I do this for example with RegEx?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 4446, "user_id": 6079412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e5e6c2756113d7289e80bed137251db?s=128&d=identicon&r=PG&f=1", "display_name": "larz", "link": "https://stackoverflow.com/users/6079412/larz"}, "edited": false, "score": 0, "creation_date": 1560372205, "post_id": 56569901, "comment_id": 99719244, "body": "Where is <code>newState</code> defined? And why are you <code>push</code>ing to it inside a map instead of either using the return from <code>map</code> or using <code>forEach</code>?  Can you also show us what <code>this.state.selectedOption</code> and <code>this.state.filteredhosts</code> are please?"}, {"owner": {"reputation": 15, "user_id": 7064601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be9714708d8faa43ed02cc291414c5c1?s=128&d=identicon&r=PG&f=1", "display_name": "rrboz", "link": "https://stackoverflow.com/users/7064601/rrboz"}, "reply_to_user": {"reputation": 4446, "user_id": 6079412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e5e6c2756113d7289e80bed137251db?s=128&d=identicon&r=PG&f=1", "display_name": "larz", "link": "https://stackoverflow.com/users/6079412/larz"}, "edited": false, "score": 0, "creation_date": 1560372943, "post_id": 56569901, "comment_id": 99719523, "body": "The function is updated. this.state.filteredhosts returns the data from the api call(json) correctly. this.state.selectedOption can be several things from the falling menu. These two things are working ok. When I replace newState.push(sub.name) (so is working)   with newState.push(sub.selectedOption) everything is undefined in the array.Must I show something more ?"}], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 7064601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be9714708d8faa43ed02cc291414c5c1?s=128&d=identicon&r=PG&f=1", "display_name": "rrboz", "link": "https://stackoverflow.com/users/7064601/rrboz"}, "edited": false, "score": 0, "creation_date": 1560373285, "post_id": 56570271, "comment_id": 99719651, "body": "Perfekt! Thanks a lot. The thing I needed"}], "tags": [], "owner": {"reputation": 4446, "user_id": 6079412, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3e5e6c2756113d7289e80bed137251db?s=128&d=identicon&r=PG&f=1", "display_name": "larz", "link": "https://stackoverflow.com/users/6079412/larz"}, "is_accepted": true, "score": 0, "last_activity_date": 1560373084, "creation_date": 1560373084, "answer_id": 56570271, "question_id": 56569901, "link": "https://stackoverflow.com/questions/56569901/how-to-use-a-constant-in-map-return-function-reactjs/56570271#56570271", "title": "How to use a constant in map return function ReactJS", "body": "<p>Oh I see.</p>\n\n<pre><code>sub.name\n</code></pre>\n\n<p>is the same as</p>\n\n<pre><code>sub[\"name\"]\n</code></pre>\n\n<p>which is also the same as</p>\n\n<pre><code>sub[selectedOption]\n</code></pre>\n\n<p>IF selectedOption is <code>\"name\"</code>.  So just use <code>newState.push(sub[selectedOption])</code> and I think that should work for you.</p>\n"}], "owner": {"reputation": 15, "user_id": 7064601, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/be9714708d8faa43ed02cc291414c5c1?s=128&d=identicon&r=PG&f=1", "display_name": "rrboz", "link": "https://stackoverflow.com/users/7064601/rrboz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 37, "favorite_count": 0, "accepted_answer_id": 56570271, "answer_count": 1, "score": 0, "last_activity_date": 1560376669, "creation_date": 1560371219, "last_edit_date": 1560376669, "question_id": 56569901, "link": "https://stackoverflow.com/questions/56569901/how-to-use-a-constant-in-map-return-function-reactjs", "title": "How to use a constant in map return function ReactJS", "body": "<p>I am wondering how can I use a constant in the map function, basically meaning: I have saved correctly the option I want from my falling menu regarding the constant (I checked it with console.log), for instance I have a name chosen and then I want to use it in the map function but unfortunately I get all the elements undefined when I use the constant; when I replace the constant with a directly written \"name\", I get all the elements correctly with their names. </p>\n\n<pre><code>      Filterhosts=() =&gt;{\n\n      var newState = this.state.array.slice(); // in the state array is empty\n      const selectedOption = this.state.selectedOption;\n      const writtenOption = this.state.writtenOption;\n      console.log(selectedOption) //ok\n\n      const namearray= this.state.filteredhosts.map(host=&gt; {\n        return (\n           host.software.map((sub, subindex) =&gt; { \n\n          if(selectedOption==\"name\" || selectedOption==\"vendor\") {\n          newState.push(sub.selectedOption) //when I write sub.selectedOption , I receive empty array with all elements as undefined otherwise I become the names of all elements\n         }\n          else { \n            if(sub.vulnerable==true){\n            newState.push(sub.vulnerability.cve)}\n          }\n        })\n        )\n      })\n const  filteredarray = newState.filter( function(item){\n        return item === writtenOption  // here I become properly the searched name//vendor\n      }\n      // how to show the whole info for the searched name/vendor(cpe, cve, cvss etc.)\n      )\n      console.log(newState); //ok\n      console.log(filteredarray); //ok \n\n    }\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 1306, "user_id": 8246359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7ded1395c3373006d4c404d47f12847?s=128&d=identicon&r=PG", "display_name": "LMulvey", "link": "https://stackoverflow.com/users/8246359/lmulvey"}, "edited": false, "score": 0, "creation_date": 1560371230, "post_id": 56569885, "comment_id": 99718888, "body": "What have you tried so far?"}, {"owner": {"reputation": 74, "user_id": 6866774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/198c84154931e7786278ab7f4d318b2c?s=128&d=identicon&r=PG&f=1", "display_name": "Manivel Gopi", "link": "https://stackoverflow.com/users/6866774/manivel-gopi"}, "reply_to_user": {"reputation": 1306, "user_id": 8246359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7ded1395c3373006d4c404d47f12847?s=128&d=identicon&r=PG", "display_name": "LMulvey", "link": "https://stackoverflow.com/users/8246359/lmulvey"}, "edited": false, "score": 0, "creation_date": 1560371549, "post_id": 56569885, "comment_id": 99719025, "body": "Just added @LMulvey"}], "answers": [{"tags": [], "owner": {"reputation": 834, "user_id": 8310496, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/D1Nja.jpg?s=128&g=1", "display_name": "Lakshitha Ruwan", "link": "https://stackoverflow.com/users/8310496/lakshitha-ruwan"}, "is_accepted": false, "score": 0, "last_activity_date": 1560374281, "creation_date": 1560374281, "answer_id": 56570486, "question_id": 56569885, "link": "https://stackoverflow.com/questions/56569885/how-could-achieve-this-jquery-code-in-reactjs/56570486#56570486", "title": "How could achieve this jquery code in Reactjs", "body": "<p>You need to add </p>\n\n<pre><code>shouldComponentUpdate(){\nreturn false;\n}\n</code></pre>\n\n<p>It'll stop re-rendering the component and let JQuery to takeover the control. \nBut if you need to use react functionality after the first mount, you'll have to force re-render (\"this.forceUpdate()\" which will skip \"shouldComponentUpdate()\")\nThen you can add your code inside componentDidMount.</p>\n"}], "owner": {"reputation": 74, "user_id": 6866774, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/198c84154931e7786278ab7f4d318b2c?s=128&d=identicon&r=PG&f=1", "display_name": "Manivel Gopi", "link": "https://stackoverflow.com/users/6866774/manivel-gopi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 36, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1560427036, "creation_date": 1560371136, "last_edit_date": 1560427036, "question_id": 56569885, "link": "https://stackoverflow.com/questions/56569885/how-could-achieve-this-jquery-code-in-reactjs", "title": "How could achieve this jquery code in Reactjs", "body": "<p>I have coded in jquery to find the class and its children to create timelime. same thing i want to do it React. The jquery code is below .. Thanks in advance </p>\n\n<p>the below are the working code from jquery.. how to do the same in React.</p>\n\n<pre><code>jQuery(document).ready(function($){\nvar timelines = $('#trip-timeline0'),\n      eventsMinDistance = 120;\n      //alert(timelines);\n    (timelines.length &gt; 0) &amp;&amp; initTimeline(timelines);\n\n    function initTimeline(timelines) {\n      timelines.each(function(){\n        var timeline = $(this),\n          timelineComponents = {};\n\n        //cache timeline components \n        timelineComponents['timelineWrapper'] = timeline.find('.events-wrapper');\n        timelineComponents['eventsWrapper'] = timelineComponents['timelineWrapper'].children('.events');\n        timelineComponents['fillingLine'] = timelineComponents['eventsWrapper'].children('.filling-line');\n        timelineComponents['timelineEvents'] = timelineComponents['eventsWrapper'].find('a');\n        timelineComponents['timelineDates'] = parseDate(timelineComponents['timelineEvents']);\n        timelineComponents['eventsMinLapse'] = minLapse(timelineComponents['timelineDates']);\n        timelineComponents['timelineNavigation'] = timeline.find('.cd-timeline-navigation');\n        timelineComponents['eventsContent'] = timeline.children('.events-content');\n\n        //assign a left postion to the single events along the timeline\n        setDatePosition(timelineComponents, eventsMinDistance);\n        //assign a width to the timeline\n        var timelineTotWidth = setTimelineWidth(timelineComponents, eventsMinDistance);\n        //the timeline has been initialize - show it\n        timeline.addClass('loaded');\n\n      });\n    }\n});\n\n</code></pre>\n\n<p>and what i have now in React so far</p>\n\n<pre><code>componentDidMount() {\n  var tripline = 'document.getElementById(\"trip-timeline1\")';\n  var eventsMinDistance = 50;\n  //alert(tripline.length);\n  //console.log(\"Not k\",tripline.length,\"--\",tripline);\n\n  if(tripline.length  &gt; 0){\n    iniTripline(tripline, eventsMinDistance); \n    }\n\n\n  function iniTripline(tripline, eventsMinDistance){\n\n      var triplineComponents = {};\n      //cache tripline components \n      triplineComponents['triplineWrapper'] = document.querySelector('.events-wrapper');\n      triplineComponents['eventsWrapper'] = document.querySelector('.events');\n\n}\n}\n\n</code></pre>\n\n<p>how to convert the same in React...</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1560371287, "post_id": 56569874, "comment_id": 99718916, "body": "When should the score be increased? Can you describe your overall game?"}, {"owner": {"reputation": 417, "user_id": 11521157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CarZh.png?s=128&g=1", "display_name": "CodingChap", "link": "https://stackoverflow.com/users/11521157/codingchap"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1560371327, "post_id": 56569874, "comment_id": 99718933, "body": "The score should be increased for each collision that occurs. I would like it to increase by 1 for each collision. Please help. Thanks."}, {"owner": {"reputation": 417, "user_id": 11521157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CarZh.png?s=128&g=1", "display_name": "CodingChap", "link": "https://stackoverflow.com/users/11521157/codingchap"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1560371399, "post_id": 56569874, "comment_id": 99718970, "body": "My overall game is when the player contacts with the gem, the score should be increased by 1 for each collision that occurs and the gem will reposition. Only problem is that the score increasing isn&#39;t working"}], "answers": [{"comments": [{"owner": {"reputation": 417, "user_id": 11521157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CarZh.png?s=128&g=1", "display_name": "CodingChap", "link": "https://stackoverflow.com/users/11521157/codingchap"}, "edited": false, "score": 0, "creation_date": 1560373147, "post_id": 56570027, "comment_id": 99719599, "body": "Ok, well I found out the problem. It was the set timeout and I got rid of it and it started working"}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 0, "last_activity_date": 1560371824, "creation_date": 1560371824, "answer_id": 56570027, "question_id": 56569874, "link": "https://stackoverflow.com/questions/56569874/after-collision-my-score-is-being-added-more-then-1-per-each-collision/56570027#56570027", "title": "After Collision My Score is being added more then 1 per each collision", "body": "<p>Your current logic is <em>on every update, if the player collides, increase the score</em>. Instead you want your logic to be <em>on every update, if the player collides and did not collide before, increase the score</em>. For that, you need to store the previous state somewhere:</p>\n\n<pre><code>  let didCollide = false;\n</code></pre>\n\n<p>Then on every check:</p>\n\n<pre><code>  let collides = \n     this.x &gt; player.x - 75 &amp;&amp; this.x &lt; player.x + 75 &amp;&amp; \n     this.y &gt; player.y - 75 &amp;&amp; this.y &lt; player.y + 75;\n\n  if(collides &amp;&amp; !didCollide) {\n    score += 1;\n  }\n\n  didCollide = collides;\n</code></pre>\n"}], "owner": {"reputation": 417, "user_id": 11521157, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CarZh.png?s=128&g=1", "display_name": "CodingChap", "link": "https://stackoverflow.com/users/11521157/codingchap"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 56570027, "answer_count": 1, "score": 1, "last_activity_date": 1560373115, "creation_date": 1560371078, "last_edit_date": 1560373115, "question_id": 56569874, "link": "https://stackoverflow.com/questions/56569874/after-collision-my-score-is-being-added-more-then-1-per-each-collision", "title": "After Collision My Score is being added more then 1 per each collision", "body": "<p>When my player collides with the gem I would like the score to go up 1 each time this happens. Yet, each time it happens my score increases by more then 1. Please help.</p>\n\n<p>I've tried using a boolean but then it doesn't work since 1 is added to my score only ONCE.</p>\n\n<pre><code>var score = 0;\ngemG.prototype.update = function(){\n    if ((this.x &gt; player.x - 75 &amp;&amp; this.x &lt; player.x + 75) &amp;&amp; (this.y &gt; player.y - 75 &amp;&amp; this.y &lt; player.y + 75)) {\n        setTimeout(()=&gt;{\n            document.getElementById(\"scoreNum\").innerHTML = score += 1;\n\n            this.y= Math.floor(Math.random() * 150) + 50;\n            this.x=Math.floor(Math.random() * 100)+100\n            player.y = 400;\n            player.x = 200;\n        },200);\n    }\n};\n</code></pre>\n\n<p>UPDATE: Works now problem was the set timeout. Once I got rid of it it worked.</p>\n"}, {"tags": ["javascript", "arrays", "firefox"], "comments": [{"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 1, "creation_date": 1560371278, "post_id": 56569867, "comment_id": 99718911, "body": "It&#39;s because the reference to the array is only expanded when you click on it on the console. If you use JSON.stringify, you will see its current state.  Should be marked as a dupe but I couldn&#39;t find it"}, {"owner": {"reputation": 101365, "user_id": 4620771, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/BuWrj.jpg?s=128&g=1", "display_name": "Nenad Vracar", "link": "https://stackoverflow.com/users/4620771/nenad-vracar"}, "edited": false, "score": 1, "creation_date": 1560371305, "post_id": 56569867, "comment_id": 99718923, "body": "I think this is related <a href=\"https://stackoverflow.com/questions/23392111/console-log-async-or-sync\" title=\"console log async or sync\">stackoverflow.com/questions/23392111/console-log-async-or-sy&zwnj;&#8203;nc</a>"}, {"owner": {"reputation": 1152, "user_id": 7316502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Lfx3LHRINPk/AAAAAAAAAAI/AAAAAAAAJOk/h36pbP54ZPU/photo.jpg?sz=128", "display_name": "thmsdnnr", "link": "https://stackoverflow.com/users/7316502/thmsdnnr"}, "edited": false, "score": 0, "creation_date": 1560371344, "post_id": 56569867, "comment_id": 99718943, "body": "<code>console.log</code> is a type of I/O, and hence asynchronous. <a href=\"https://github.com/getify/You-Dont-Know-JS/blob/master/async%20%26%20performance/ch1.md#async-console\" rel=\"nofollow noreferrer\">github.com/getify/You-Dont-Know-JS/blob/master/&hellip;</a> plus the linked answers above have more in-depth explanation."}, {"owner": {"reputation": 80516, "user_id": 227299, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/6483c2f0fcf64b578c55ca0df7e01096?s=128&d=identicon&r=PG", "display_name": "Juan Mendes", "link": "https://stackoverflow.com/users/227299/juan-mendes"}, "edited": false, "score": 0, "creation_date": 1560371385, "post_id": 56569867, "comment_id": 99718963, "body": "<a href=\"https://stackoverflow.com/questions/4057440/is-chromes-javascript-console-lazy-about-evaluating-arrays\" title=\"is chromes javascript console lazy about evaluating arrays\">stackoverflow.com/questions/4057440/&hellip;</a> It is not related to the console being sync/async, it&#39;s just that the object is lazily evaluated when you expand it"}], "owner": {"reputation": 645, "user_id": 4809031, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/89362ff1bcef4e3e95d1263b98e40e26?s=128&d=identicon&r=PG", "display_name": "Robert", "link": "https://stackoverflow.com/users/4809031/robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "closed_date": 1560371362, "answer_count": 0, "score": 0, "last_activity_date": 1560371049, "creation_date": 1560371049, "question_id": 56569867, "link": "https://stackoverflow.com/questions/56569867/javascript-concurrency-in-updating-arrays", "closed_reason": "Duplicate", "title": "JavaScript concurrency in updating arrays", "body": "<p>This is probably a vary noob question, but I cannot figure out what is happening. I have a simple function that I run:</p>\n\n<pre><code>function f() {\n  var x = [{a:1, b: 2}, {a: 3, b: 4}];\n  console.log(x);\n  x.push({a: 5, b: 6});\n  console.log(x);\nf();\n</code></pre>\n\n<p>The two console.log outputs show the same thing with all three elements which I cannot understand. If I change function so that the array only contains numbers:</p>\n\n<pre><code>function f() {\n  var x = [1, 2];\n  console.log(x);\n  x.push(3);\n  console.log(x);\nf();\n</code></pre>\n\n<p>then the outputs looks as I would have expected with the first one showing a list with items 1,2 and the second showing a list with 1,2,3.</p>\n\n<p>This all runs in Firefox.</p>\n"}, {"tags": ["javascript", "xmlhttprequest", "microsoft-edge"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560373932, "post_id": 56569863, "comment_id": 99719834, "body": "MDN says <code>XHMLHttpRequest.upload</code> should work on Edge 12. But maybe use <code>xhr.onprogress</code> instead of <code>xhr.upload.onprogress</code>?"}, {"owner": {"reputation": 10400, "user_id": 7062291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ca0ff9016cfdb9352adaf4435737d6?s=128&d=identicon&r=PG&f=1", "display_name": "Zhi Lv", "link": "https://stackoverflow.com/users/7062291/zhi-lv"}, "edited": false, "score": 0, "creation_date": 1560395620, "post_id": 56569863, "comment_id": 99724111, "body": "Which version of Edge browser are you using (I have tested <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest/progress_event\" rel=\"nofollow noreferrer\">this sample</a>, the progress works well on Microsoft Edge 44.18362.1.0 version)? how to display the rate of progress? Try to log process information in the on progress function, then, using F12 Console tools to check whether you could load the rate of progress, if it could log the rate of progress, the issue is related to the progress display part of the code."}, {"owner": {"reputation": 47, "user_id": 9492156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e6c37007b69870bf27ac0fc6851aec7?s=128&d=identicon&r=PG&f=1", "display_name": "Madan", "link": "https://stackoverflow.com/users/9492156/madan"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560440119, "post_id": 56569863, "comment_id": 99746074, "body": "@Barmar xhr.onprogress is only for downloading, not uploading"}, {"owner": {"reputation": 47, "user_id": 9492156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e6c37007b69870bf27ac0fc6851aec7?s=128&d=identicon&r=PG&f=1", "display_name": "Madan", "link": "https://stackoverflow.com/users/9492156/madan"}, "reply_to_user": {"reputation": 10400, "user_id": 7062291, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/17ca0ff9016cfdb9352adaf4435737d6?s=128&d=identicon&r=PG&f=1", "display_name": "Zhi Lv", "link": "https://stackoverflow.com/users/7062291/zhi-lv"}, "edited": false, "score": 0, "creation_date": 1560440306, "post_id": 56569863, "comment_id": 99746183, "body": "@ZhiLv-MSFT I&#39;m using 42.17143.1.0. Looking into whether the Edge version is a problem, I came across this <a href=\"https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\" rel=\"nofollow noreferrer\">developer.microsoft.com/en-us/microsoft-edge/platform/issues&zwnj;&#8203;/&hellip;</a>. Looks like the functionality broke in certain versions of Edge"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1560441853, "post_id": 56569863, "comment_id": 99747014, "body": "I was worried that might be the case."}], "answers": [{"tags": [], "owner": {"reputation": 47, "user_id": 9492156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e6c37007b69870bf27ac0fc6851aec7?s=128&d=identicon&r=PG&f=1", "display_name": "Madan", "link": "https://stackoverflow.com/users/9492156/madan"}, "is_accepted": true, "score": 0, "last_activity_date": 1560447605, "last_edit_date": 1560447605, "creation_date": 1560440339, "answer_id": 56584076, "question_id": 56569863, "link": "https://stackoverflow.com/questions/56569863/xmlhttprequest-event-listeners-not-working-on-edge/56584076#56584076", "title": "XMLHttpRequest Event Listeners not Working on Edge", "body": "<p>Looks like it's just a problem with some versions of Edge, according to this <a href=\"https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/\" rel=\"nofollow noreferrer\">https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/12224510/</a>. The issue was fixed in EdgeHTML version 18.17763.</p>\n"}], "owner": {"reputation": 47, "user_id": 9492156, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2e6c37007b69870bf27ac0fc6851aec7?s=128&d=identicon&r=PG&f=1", "display_name": "Madan", "link": "https://stackoverflow.com/users/9492156/madan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 304, "favorite_count": 0, "accepted_answer_id": 56584076, "answer_count": 1, "score": 0, "last_activity_date": 1560447605, "creation_date": 1560371027, "question_id": 56569863, "link": "https://stackoverflow.com/questions/56569863/xmlhttprequest-event-listeners-not-working-on-edge", "title": "XMLHttpRequest Event Listeners not Working on Edge", "body": "<pre><code>S3Upload.prototype.uploadToS3 = function(file, url, public_url, opts) {\n      var this_s3upload, type, xhr;\n      this_s3upload = this;\n      type = opts &amp;&amp; opts.type || file.type;\n      xhr = this.createCORSRequest('PUT', url);\n      if (!xhr) {\n        this.onError('CORS not supported');\n      } else {\n        xhr.onload = function() {\n          if (xhr.status === 200) {\n            this_s3upload.onProgress(100, 'Upload completed.', public_url, file);\n            return this_s3upload.onFinishS3Put(public_url, file);\n          } else {\n            return this_s3upload.onError('Upload error: ' + xhr.status, file);\n          }\n        };\n        xhr.onerror = function() {\n          return this_s3upload.onError('XHR error.', file);\n        };\n        xhr.upload.onprogress = function(e) {\n          var percentLoaded;\n          if (e.lengthComputable) {\n            percentLoaded = Math.round((e.loaded / e.total) * 100);\n            return this_s3upload.onProgress(percentLoaded, (percentLoaded === 100 ? 'Finalizing.' : 'Uploading.'), public_url, file);\n          }\n        };\n      }\n      xhr.setRequestHeader('Content-Type', type);\n      xhr.setRequestHeader('x-amz-acl', 'public-read');\n      return xhr.send(file);\n    };\n</code></pre>\n\n<p>I'm using this script to upload a file to S3, which is part of <a href=\"https://github.com/tadruj/s3upload-coffee-javascript\" rel=\"nofollow noreferrer\">https://github.com/tadruj/s3upload-coffee-javascript</a>. Some function parameters have been changed slightly, but otherwise it is the same script. The upload itself works fine, however the progress does not update as the file is uploaded in Edge. When I upload the file, it stays at 0%, and then jumps to 100% once it is finished, with nothing in between. This is not a problem in Chrome or Firefox.</p>\n\n<p>From what I can tell, the problem seems to be in the code</p>\n\n<pre><code>        xhr.upload.onprogress = function(e) {\n          var percentLoaded;\n          if (e.lengthComputable) {\n            percentLoaded = Math.round((e.loaded / e.total) * 100);\n            return this_s3upload.onProgress(percentLoaded, (percentLoaded === 100 ? 'Finalizing.' : 'Uploading.'), public_url, file);\n</code></pre>\n\n<p>The event listener for for the file upload progress isn't firing, and the debugger seems to confirm this. What could be the issue here?</p>\n"}, {"tags": ["javascript", "webpack", "webpack-4", "webpack-style-loader", "css-loader"], "comments": [{"owner": {"reputation": 4380, "user_id": 2548153, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Wc3vv.jpg?s=128&g=1", "display_name": "pailhead", "link": "https://stackoverflow.com/users/2548153/pailhead"}, "edited": false, "score": 0, "creation_date": 1579917635, "post_id": 56569808, "comment_id": 105938121, "body": "Have you ever been able to solve this?"}], "owner": {"reputation": 41, "user_id": 9425484, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-GIQ03fD1oQE/AAAAAAAAAAI/AAAAAAAAANM/nabr8U2AIHY/photo.jpg?sz=128", "display_name": "Anthony Sarno", "link": "https://stackoverflow.com/users/9425484/anthony-sarno"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 232, "favorite_count": 0, "protected_date": 1584693021, "answer_count": 0, "score": 4, "last_activity_date": 1584692955, "creation_date": 1560370809, "question_id": 56569808, "link": "https://stackoverflow.com/questions/56569808/react-webpack-build-error-range-out-of-order-in-character-class-component-pac", "title": "react webpack build error: Range out of order in character class - component package breaks build due to styles", "body": "<p>I can't load imported css / scss styles from 3rd party packages or cdn links. The styles load fine locally, but when I run a build <code>webpack -p --mode production</code> the entire app breaks and I get an indistinguishable error. It's trying to load a private component project that was built with create-react-app. </p>\n\n<pre><code>Uncaught SyntaxError: Invalid regular expression: /[A-Za-z\u00c2\u00aa\u00c2\u00b5\u00c2\u00ba\u00c3\u20ac-\u00c3\u2013\u00c3\u02dc-\u00c3\u00b6\u00c3\u00b8-\u00cb\u00cb\u2020-\u00cb\u2018\u00cb\u00a0-\u00cb\u00a4\u00cb\u00ac\u00cb\u00ae\u00cd\u00b0-\u00cd\u00b4\u00cd\u00b6\u00cd\u00b7\u00cd\u00ba-\u00cd\u00bd\u00ce\u2020\u00ce\u02c6-\u00ce\u0160\u00ce\u0152\u00ce\u017d-\u00ce\u00a1\u00ce\u00a3-\u00cf\u00b5\u00cf\u00b7-\u00d2\u00d2\u0160-\u00d4\u00a7\u00d4\u00b1-\u00d5\u2013\u00d5\u2122\u00d5\u00a1-\u00d6\u2021\u00d7-\u00d7\u00aa\u00d7\u00b0-\u00d7\u00b2\u00d8\u00a0-\u00d9\u0160\u00d9\u00ae\u00d9\u00af\u00d9\u00b1-\u00db\u201c\u00db\u2022\u00db\u00a5\u00db\u00a6\u00db\u00ae\u00db\u00af\u00db\u00ba-\u00db\u00bc\u00db\u00bf\u00dc\u00dc\u2019-\u00dc\u00af\u00dd-\u00de\u00a5\u00de\u00b1\u00df\u0160-\u00df\u00aa\u00df\u00b4\u00df\u00b5\u00df\u00ba\u00e0\u00a0\u20ac-\u00e0\u00a0\u2022\u00e0\u00a0\u0161\u00e0\u00a0\u00a4\u00e0\u00a0\u00a8\u00e0\u00a1\u20ac-\u00e0\u00a1\u02dc\u00e0\u00a2\u00a0\u00e0\u00a2\u00a2-\u00e0\u00a2\u00ac\u00e0\u00a4\u201e-\u00e0\u00a4\u00b9\u00e0\u00a4\u00bd\u00e0\u00a5\u00e0\u00a5\u02dc-\u00e0\u00a5\u00a1\u00e0\u00a5\u00b1-\u00e0\u00a5\u00b7\u00e0\u00a5\u00b9-\u00e0\u00a5\u00bf\u00e0\u00a6\u2026-\u00e0\u00a6\u0152\u00e0\u00a6\u00e0\u00a6\u00e0\u00a6\u201c-\u00e0\u00a6\u00a8\u00e0\u00a6\u00aa-\u00e0\u00a6\u00b0\u00e0\u00a6\u00b2\u00e0\u00a6\u00b6-\u00e0\u00a6\u00b9\u00e0\u00a6\u00bd\u00e0\u00a7\u017d\u00e0\u00a7\u0153\u00e0\u00a7\u00e0\u00a7\u0178-\u00e0\u00a7\u00a1\u00e0\u00a7\u00b0\u00e0\u00a7\u00b1\u00e0\u00a8\u2026-\u00e0\u00a8\u0160\u00e0\u00a8\u00e0\u00a8\u00e0\u00a8\u201c-\u00e0\u00a8\u00a8\u00e0\u00a8\u00aa-\u00e0\u00a8\u00b0\u00e0\u00a8\u00b2\u00e0\u00a8\u00b3\u00e0\u00a8\u00b5\u00e0\u00a8\u00b6\u00e0\u00a8\u00b8\u00e0\u00a8\u00b9\u00e0\u00a9\u2122-\u00e0\u00a9\u0153\u00e0\u00a9\u017e\u00e0\u00a9\u00b2-\u00e0\u00a9\u00b4\u00e0\u00aa\u2026-\u00e0\u00aa\u00e0\u00aa-\u00e0\u00aa\u2018\u00e0\u00aa\u201c-\u00e0\u00aa\u00a8\u00e0\u00aa\u00aa-\u00e0\u00aa\u00b0\u00e0\u00aa\u00b2\u00e0\u00aa\u00b3\u00e0\u00aa\u00b5-\u00e0\u00aa\u00b9\u00e0\u00aa\u00bd\u00e0\u00ab\u00e0\u00ab\u00a0\u00e0\u00ab\u00a1\u00e0\u00ac\u2026-\u00e0\u00ac\u0152\u00e0\u00ac\u00e0\u00ac\u00e0\u00ac\u201c-\u00e0\u00ac\u00a8\u00e0\u00ac\u00aa-\u00e0\u00ac\u00b0\u00e0\u00ac\u00b2\u00e0\u00ac\u00b3\u00e0\u00ac\u00b5-\u00e0\u00ac\u00b9\u00e0\u00ac\u00bd\u00e0\u00ad\u0153\u00e0\u00ad\u00e0\u00ad\u0178-\u00e0\u00ad\u00a1\u00e0\u00ad\u00b1\u00e0\u00ae\u0192\u00e0\u00ae\u2026-\u00e0\u00ae\u0160\u00e0\u00ae\u017d-\u00e0\u00ae\u00e0\u00ae\u2019-\u00e0\u00ae\u2022\u00e0\u00ae\u2122\u00e0\u00ae\u0161\u00e0\u00ae\u0153\u00e0\u00ae\u017e\u00e0\u00ae\u0178\u00e0\u00ae\u00a3\u00e0\u00ae\u00a4\u00e0\u00ae\u00a8-\u00e0\u00ae\u00aa\u00e0\u00ae\u00ae-\u00e0\u00ae\u00b9\u00e0\u00af\u00e0\u00b0\u2026-\u00e0\u00b0\u0152\u00e0\u00b0\u017d-\u00e0\u00b0\u00e0\u00b0\u2019-\u00e0\u00b0\u00a8\u00e0\u00b0\u00aa-\u00e0\u00b0\u00b3\u00e0\u00b0\u00b5-\u00e0\u00b0\u00b9\u00e0\u00b0\u00bd\u00e0\u00b1\u02dc\u00e0\u00b1\u2122\u00e0\u00b1\u00a0\u00e0\u00b1\u00a1\u00e0\u00b2\u2026-\u00e0\u00b2\u0152\u00e0\u00b2\u017d-\u00e0\u00b2\u00e0\u00b2\u2019-\u00e0\u00b2\u00a8\u00e0\u00b2\u00aa-\u00e0\u00b2\u00b3\u00e0\u00b2\u00b5-\u00e0\u00b2\u00b9\u00e0\u00b2\u00bd\u00e0\u00b3\u017e\u00e0\u00b3\u00a0\u00e0\u00b3\u00a1\u00e0\u00b3\u00b1\u00e0\u00b3\u00b2\u00e0\u00b4\u2026-\u00e0\u00b4\u0152\u00e0\u00b4\u017d-\u00e0\u00b4\u00e0\u00b4\u2019-\u00e0\u00b4\u00ba\u00e0\u00b4\u00bd\u00e0\u00b5\u017d\u00e0\u00b5\u00a0\u00e0\u00b5\u00a1\u00e0\u00b5\u00ba-\u00e0\u00b5\u00bf\u00e0\u00b6\u2026-\u00e0\u00b6\u2013\u00e0\u00b6\u0161-\u00e0\u00b6\u00b1\u00e0\u00b6\u00b3-\u00e0\u00b6\u00bb\u00e0\u00b6\u00bd\u00e0\u00b7\u20ac-\u00e0\u00b7\u2020\u00e0\u00b8-\u00e0\u00b8\u00b0\u00e0\u00b8\u00b2\u00e0\u00b8\u00b3\u00e0\u00b9\u20ac-\u00e0\u00b9\u2020\u00e0\u00ba\u00e0\u00ba\u201a\u00e0\u00ba\u201e\u00e0\u00ba\u2021\u00e0\u00ba\u02c6\u00e0\u00ba\u0160\u00e0\u00ba\u00e0\u00ba\u201d-\u00e0\u00ba\u2014\u00e0\u00ba\u2122-\u00e0\u00ba\u0178\u00e0\u00ba\u00a1-\u00e0\u00ba\u00a3\u00e0\u00ba\u00a5\u00e0\u00ba\u00a7\u00e0\u00ba\u00aa\u00e0\u00ba\u00ab\u00e0\u00ba\u00ad-\u00e0\u00ba\u00b0\u00e0\u00ba\u00b2\u00e0\u00ba\u00b3\u00e0\u00ba\u00bd\u00e0\u00bb\u20ac-\u00e0\u00bb\u201e\u00e0\u00bb\u2020\u00e0\u00bb\u0153-\u00e0\u00bb\u0178\u00e0\u00bc\u20ac\u00e0\u00bd\u20ac-\u00e0\u00bd\u2021\u00e0\u00bd\u2030-\u00e0\u00bd\u00ac\u00e0\u00be\u02c6-\u00e0\u00be\u0152\u00e1\u20ac\u20ac-\u00e1\u20ac\u00aa\u00e1\u20ac\u00bf\u00e1-\u00e1\u2022\u00e1\u0161-\u00e1\u00e1\u00a1\u00e1\u00a5\u00e1\u00a6\u00e1\u00ae-\u00e1\u00b0\u00e1\u00b5-\u00e1\u201a\u00e1\u201a\u017d\u00e1\u201a\u00a0-\u00e1\u0192\u2026\u00e1\u0192\u2021\u00e1\u0192\u00e1\u0192-\u00e1\u0192\u00ba\u00e1\u0192\u00bc-\u00e1\u2030\u02c6\u00e1\u2030\u0160-\u00e1\u2030\u00e1\u2030-\u00e1\u2030\u2013\u00e1\u2030\u02dc\u00e1\u2030\u0161-\u00e1\u2030\u00e1\u2030\u00a0-\u00e1\u0160\u02c6\u00e1\u0160\u0160-\u00e1\u0160\u00e1\u0160-\u00e1\u0160\u00b0\u00e1\u0160\u00b2-\u00e1\u0160\u00b5\u00e1\u0160\u00b8-\u00e1\u0160\u00be\u00e1\u2039\u20ac\u00e1\u2039\u201a-\u00e1\u2039\u2026\u00e1\u2039\u02c6-\u00e1\u2039\u2013\u00e1\u2039\u02dc-\u00e1\u0152\u00e1\u0152\u2019-\u00e1\u0152\u2022\u00e1\u0152\u02dc-\u00e1\u0161\u00e1\u017d\u20ac-\u00e1\u017d\u00e1\u017d\u00a0-\u00e1\u00b4\u00e1-\u00e1\u2122\u00ac\u00e1\u2122\u00af-\u00e1\u2122\u00bf\u00e1\u0161-\u00e1\u0161\u0161\u00e1\u0161\u00a0-\u00e1\u203a\u00aa\u00e1\u0153\u20ac-\u00e1\u0153\u0152\u00e1\u0153\u017d-\u00e1\u0153\u2018\u00e1\u0153\u00a0-\u00e1\u0153\u00b1\u00e1\u20ac-\u00e1\u2018\u00e1\u00a0-\u00e1\u00ac\u00e1\u00ae-\u00e1\u00b0\u00e1\u017e\u20ac-\u00e1\u017e\u00b3\u00e1\u0178\u2014\u00e1\u0178\u0153\u00e1\u00a0\u00a0-\u00e1\u00a1\u00b7\u00e1\u00a2\u20ac-\u00e1\u00a2\u00a8\u00e1\u00a2\u00aa\u00e1\u00a2\u00b0-\u00e1\u00a3\u00b5\u00e1\u00a4\u20ac-\u00e1\u00a4\u0153\u00e1\u00a5-\u00e1\u00a5\u00ad\u00e1\u00a5\u00b0-\u00e1\u00a5\u00b4\u00e1\u00a6\u20ac-\u00e1\u00a6\u00ab\u00e1\u00a7-\u00e1\u00a7\u2021\u00e1\u00a8\u20ac-\u00e1\u00a8\u2013\u00e1\u00a8\u00a0-\u00e1\u00a9\u201d\u00e1\u00aa\u00a7\u00e1\u00ac\u2026-\u00e1\u00ac\u00b3\u00e1\u00ad\u2026-\u00e1\u00ad\u2039\u00e1\u00ae\u0192-\u00e1\u00ae\u00a0\u00e1\u00ae\u00ae\u00e1\u00ae\u00af\u00e1\u00ae\u00ba-\u00e1\u00af\u00a5\u00e1\u00b0\u20ac-\u00e1\u00b0\u00a3\u00e1\u00b1-\u00e1\u00b1\u00e1\u00b1\u0161-\u00e1\u00b1\u00bd\u00e1\u00b3\u00a9-\u00e1\u00b3\u00ac\u00e1\u00b3\u00ae-\u00e1\u00b3\u00b1\u00e1\u00b3\u00b5\u00e1\u00b3\u00b6\u00e1\u00b4\u20ac-\u00e1\u00b6\u00bf\u00e1\u00b8\u20ac-\u00e1\u00bc\u2022\u00e1\u00bc\u02dc-\u00e1\u00bc\u00e1\u00bc\u00a0-\u00e1\u00bd\u2026\u00e1\u00bd\u02c6-\u00e1\u00bd\u00e1\u00bd-\u00e1\u00bd\u2014\u00e1\u00bd\u2122\u00e1\u00bd\u203a\u00e1\u00bd\u00e1\u00bd\u0178-\u00e1\u00bd\u00bd\u00e1\u00be\u20ac-\u00e1\u00be\u00b4\u00e1\u00be\u00b6-\u00e1\u00be\u00bc\u00e1\u00be\u00be\u00e1\u00bf\u201a-\u00e1\u00bf\u201e\u00e1\u00bf\u2020-\u00e1\u00bf\u0152\u00e1\u00bf-\u00e1\u00bf\u201c\u00e1\u00bf\u2013-\u00e1\u00bf\u203a\u00e1\u00bf\u00a0-\u00e1\u00bf\u00ac\u00e1\u00bf\u00b2-\u00e1\u00bf\u00b4\u00e1\u00bf\u00b6-\u00e1\u00bf\u00bc\u00e2\u00b1\u00e2\u00bf\u00e2\u201a-\u00e2\u201a\u0153\u00e2\u201e\u201a\u00e2\u201e\u2021\u00e2\u201e\u0160-\u00e2\u201e\u201c\u00e2\u201e\u2022\u00e2\u201e\u2122-\u00e2\u201e\u00e2\u201e\u00a4\u00e2\u201e\u00a6\u00e2\u201e\u00a8\u00e2\u201e\u00aa-\u00e2\u201e\u00ad\u00e2\u201e\u00af-\u00e2\u201e\u00b9\u00e2\u201e\u00bc-\u00e2\u201e\u00bf\u00e2\u2026\u2026-\u00e2\u2026\u2030\u00e2\u2026\u017d\u00e2\u2020\u0192\u00e2\u2020\u201e\u00e2\u00b0\u20ac-\u00e2\u00b0\u00ae\u00e2\u00b0\u00b0-\u00e2\u00b1\u017e\u00e2\u00b1\u00a0-\u00e2\u00b3\u00a4\u00e2\u00b3\u00ab-\u00e2\u00b3\u00ae\u00e2\u00b3\u00b2\u00e2\u00b3\u00b3\u00e2\u00b4\u20ac-\u00e2\u00b4\u00a5\u00e2\u00b4\u00a7\u00e2\u00b4\u00ad\u00e2\u00b4\u00b0-\u00e2\u00b5\u00a7\u00e2\u00b5\u00af\u00e2\u00b6\u20ac-\u00e2\u00b6\u2013\u00e2\u00b6\u00a0-\u00e2\u00b6\u00a6\u00e2\u00b6\u00a8-\u00e2\u00b6\u00ae\u00e2\u00b6\u00b0-\u00e2\u00b6\u00b6\u00e2\u00b6\u00b8-\u00e2\u00b6\u00be\u00e2\u00b7\u20ac-\u00e2\u00b7\u2020\u00e2\u00b7\u02c6-\u00e2\u00b7\u017d\u00e2\u00b7-\u00e2\u00b7\u2013\u00e2\u00b7\u02dc-\u00e2\u00b7\u017e\u00e2\u00b8\u00af\u00e3\u20ac\u2026\u00e3\u20ac\u2020\u00e3\u20ac\u00b1-\u00e3\u20ac\u00b5\u00e3\u20ac\u00bb\u00e3\u20ac\u00bc\u00e3-\u00e3\u201a\u2013\u00e3\u201a-\u00e3\u201a\u0178\u00e3\u201a\u00a1-\u00e3\u0192\u00ba\u00e3\u0192\u00bc-\u00e3\u0192\u00bf\u00e3\u201e\u2026-\u00e3\u201e\u00ad\u00e3\u201e\u00b1-\u00e3\u2020\u017d\u00e3\u2020\u00a0-\u00e3\u2020\u00ba\u00e3\u2021\u00b0-\u00e3\u2021\u00bf\u00e3\u20ac-\u00e4\u00b6\u00b5\u00e4\u00b8\u20ac-\u00e9\u00bf\u0152\u00ea\u20ac\u20ac-\u00ea\u2019\u0152\u00ea\u201c-\u00ea\u201c\u00bd\u00ea\u201d\u20ac-\u00ea\u02dc\u0152\u00ea\u02dc-\u00ea\u02dc\u0178\u00ea\u02dc\u00aa\u00ea\u02dc\u00ab\u00ea\u2122\u20ac-\u00ea\u2122\u00ae\u00ea\u2122\u00bf-\u00ea\u0161\u2014\u00ea\u0161\u00a0-\u00ea\u203a\u00a5\u00ea\u0153\u2014-\u00ea\u0153\u0178\u00ea\u0153\u00a2-\u00ea\u017e\u02c6\u00ea\u017e\u2039-\u00ea\u017e\u017d\u00ea\u017e-\u00ea\u017e\u201c\u00ea\u017e\u00a0-\u00ea\u017e\u00aa\u00ea\u0178\u00b8-\u00ea\u00a0\u00ea\u00a0\u0192-\u00ea\u00a0\u2026\u00ea\u00a0\u2021-\u00ea\u00a0\u0160\u00ea\u00a0\u0152-\u00ea\u00a0\u00a2\u00ea\u00a1\u20ac-\u00ea\u00a1\u00b3\u00ea\u00a2\u201a-\u00ea\u00a2\u00b3\u00ea\u00a3\u00b2-\u00ea\u00a3\u00b7\u00ea\u00a3\u00bb\u00ea\u00a4\u0160-\u00ea\u00a4\u00a5\u00ea\u00a4\u00b0-\u00ea\u00a5\u2020\u00ea\u00a5\u00a0-\u00ea\u00a5\u00bc\u00ea\u00a6\u201e-\u00ea\u00a6\u00b2\u00ea\u00a7\u00ea\u00a8\u20ac-\u00ea\u00a8\u00a8\u00ea\u00a9\u20ac-\u00ea\u00a9\u201a\u00ea\u00a9\u201e-\u00ea\u00a9\u2039\u00ea\u00a9\u00a0-\u00ea\u00a9\u00b6\u00ea\u00a9\u00ba\u00ea\u00aa\u20ac-\u00ea\u00aa\u00af\u00ea\u00aa\u00b1\u00ea\u00aa\u00b5\u00ea\u00aa\u00b6\u00ea\u00aa\u00b9-\u00ea\u00aa\u00bd\u00ea\u00ab\u20ac\u00ea\u00ab\u201a\u00ea\u00ab\u203a-\u00ea\u00ab\u00ea\u00ab\u00a0-\u00ea\u00ab\u00aa\u00ea\u00ab\u00b2-\u00ea\u00ab\u00b4\u00ea\u00ac-\u00ea\u00ac\u2020\u00ea\u00ac\u2030-\u00ea\u00ac\u017d\u00ea\u00ac\u2018-\u00ea\u00ac\u2013\u00ea\u00ac\u00a0-\u00ea\u00ac\u00a6\u00ea\u00ac\u00a8-\u00ea\u00ac\u00ae\u00ea\u00af\u20ac-\u00ea\u00af\u00a2\u00ea\u00b0\u20ac-\u00ed\u017e\u00a3\u00ed\u017e\u00b0-\u00ed\u0178\u2020\u00ed\u0178\u2039-\u00ed\u0178\u00bb\u00ef\u00a4\u20ac-\u00ef\u00a9\u00ad\u00ef\u00a9\u00b0-\u00ef\u00ab\u2122\u00ef\u00ac\u20ac-\u00ef\u00ac\u2020\u00ef\u00ac\u201c-\u00ef\u00ac\u2014\u00ef\u00ac\u00ef\u00ac\u0178-\u00ef\u00ac\u00a8\u00ef\u00ac\u00aa-\u00ef\u00ac\u00b6\u00ef\u00ac\u00b8-\u00ef\u00ac\u00bc\u00ef\u00ac\u00be\u00ef\u00ad\u20ac\u00ef\u00ad\u00ef\u00ad\u0192\u00ef\u00ad\u201e\u00ef\u00ad\u2020-\u00ef\u00ae\u00b1\u00ef\u00af\u201c-\u00ef\u00b4\u00bd\u00ef\u00b5-\u00ef\u00b6\u00ef\u00b6\u2019-\u00ef\u00b7\u2021\u00ef\u00b7\u00b0-\u00ef\u00b7\u00bb\u00ef\u00b9\u00b0-\u00ef\u00b9\u00b4\u00ef\u00b9\u00b6-\u00ef\u00bb\u00bc\u00ef\u00bc\u00a1-\u00ef\u00bc\u00ba\u00ef\u00bd-\u00ef\u00bd\u0161\u00ef\u00bd\u00a6-\u00ef\u00be\u00be\u00ef\u00bf\u201a-\u00ef\u00bf\u2021\u00ef\u00bf\u0160-\u00ef\u00bf\u00ef\u00bf\u2019-\u00ef\u00bf\u2014\u00ef\u00bf\u0161-\u00ef\u00bf\u0153]/: Range out of order in character class\n    at new RegExp (&lt;anonymous&gt;)\n    at Object.&lt;anonymous&gt; (parsePhoneNumber.js:23)\n    at r (bootstrap:63)\n    at Object.&lt;anonymous&gt; (Leniency.js:246)\n    at r (bootstrap:63)\n    at Object.&lt;anonymous&gt; (findNumbers.js:5)\n    at r (bootstrap:63)\n    at Module.&lt;anonymous&gt; (index.js:1)\n    at r (bootstrap:63)\n    at Object.&lt;anonymous&gt; (main.scss:3)\n</code></pre>\n\n<p>Here is my webpack config:</p>\n\n<pre><code>const CopyWebpackPlugin = require(\"copy-webpack-plugin\");\nconst AssetsPlugin = require(\"assets-webpack-plugin\");\nconst webpack = require(\"webpack\");\n\nmodule.exports = {\n    output: {\n        path: __dirname + \"/dist/\",\n        filename: \"index.js\",\n    },\n    devtool: \"source-map\",\n    module: {\n        rules: [\n            {\n                test: /\\.(js)$/,\n                exclude: /node_modules/,\n                use: {\n                    loader: \"babel-loader\"\n                }\n            },\n            {\n                test: /(\\.png|\\.svg|\\.jpg)$/,\n                loader: \"url-loader\"\n            },\n            {\n                test: /\\.css$/,\n                use: [\n                    { loader: 'style-loader' },\n                    {\n                        loader: \"css-loader\",\n                        options: {\n                            modules: true,\n                            // sourceMap: true,\n                            // importLoaders: 1\n                        }\n                    }\n                ],\n            },\n            {\n                test: /\\.scss$/,\n                use: [\n                    { loader: 'style-loader' },\n                    {\n                        loader: \"css-loader\",\n                        options: {\n                            modules: true,\n                            sourceMap: true,\n                            importLoaders: 1\n                        }\n                    },\n                    { loader: 'sass-loader' }\n                ]\n            }\n        ]\n    },\n    plugins: [\n        new CopyWebpackPlugin([\n            { context: \"src\", from: \"**/*\" }\n        ], {\n                ignore: [\"*.js\", \"*.scss\", \"*.css\"]\n            }),\n        new AssetsPlugin({\n            filename: \"assets.json\",\n            useCompilerPath: true,\n            keepInMemory: true,\n            metadata: {\n                buildDate: Date.now(),\n                buildVersion: require(\"./package.json\").version,\n                exclude: [\n                    \"flags/\"\n                ]\n            }\n        }),\n        new webpack.LoaderOptionsPlugin({\n            toolboxTheme: 'theme.scss'\n        })\n    ]\n};\n</code></pre>\n"}, {"tags": ["javascript", "jestjs", "jest-mock-axios"], "answers": [{"comments": [{"owner": {"reputation": 1467, "user_id": 9335205, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ea423e163268f02a8a87d4163a8d0b7?s=128&d=identicon&r=PG&f=1", "display_name": "JGleason", "link": "https://stackoverflow.com/users/9335205/jgleason"}, "edited": false, "score": 0, "creation_date": 1560373857, "post_id": 56570345, "comment_id": 99719811, "body": "I actually just came up with it right before I saw your post :-). Same answer here"}], "tags": [], "owner": {"reputation": 1284, "user_id": 6780833, "user_type": "registered", "profile_image": "https://graph.facebook.com/160755614347493/picture?type=large", "display_name": "Lidor Avitan", "link": "https://stackoverflow.com/users/6780833/lidor-avitan"}, "is_accepted": true, "score": 4, "last_activity_date": 1560373506, "creation_date": 1560373506, "answer_id": 56570345, "question_id": 56569791, "link": "https://stackoverflow.com/questions/56569791/how-do-i-use-a-var-as-the-return-value-in-a-mocked-jest-function/56570345#56570345", "title": "How do I use a var as the return value in a mocked Jest function?", "body": "<p>That happens because of jest use <a href=\"https://www.npmjs.com/package/babel-plugin-jest-hoist\" rel=\"nofollow noreferrer\">babel-plugin-jest-hoist</a>, what it means, all of your mocks hoisted to the top. so you can't access variables inside mocks.</p>\n\n<p>Because we mocked axios, when we import 'axios' we get the mock version so we can use \"mockImplementation\" method of <a href=\"https://jestjs.io/docs/en/mock-functions\" rel=\"nofollow noreferrer\">jest.fn()</a>.</p>\n\n<pre><code>import axios from 'axios'\n\njest.mock('axios', () =&gt; ({\n  defaults: {\n    withCredentials: true\n  },\n  post: jest.fn()\n}))\n\ntest('should...', () =&gt; {\n  // mock post for your case\n  axios.post.mockImplementation(() =&gt; {\n    return true\n  })\n  expect(axios.post()).toBe(true)\n})\n</code></pre>\n"}], "owner": {"reputation": 1467, "user_id": 9335205, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/2ea423e163268f02a8a87d4163a8d0b7?s=128&d=identicon&r=PG&f=1", "display_name": "JGleason", "link": "https://stackoverflow.com/users/9335205/jgleason"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 172, "favorite_count": 0, "accepted_answer_id": 56570345, "answer_count": 1, "score": 1, "last_activity_date": 1560446120, "creation_date": 1560370715, "last_edit_date": 1560446120, "question_id": 56569791, "link": "https://stackoverflow.com/questions/56569791/how-do-i-use-a-var-as-the-return-value-in-a-mocked-jest-function", "title": "How do I use a var as the return value in a mocked Jest function?", "body": "<p>I currently have this code...</p>\n\n<pre><code>const context = {};\ncontext.response = {};\njest.mock('axios', () =&gt; ({\n    defaults: {\n        withCredentials: true\n    },\n    post: () =&gt; Promise.resolve(context.response)\n}));\n</code></pre>\n\n<p>When I try to run I get...</p>\n\n<blockquote>\n  <p>babel-plugin-jest-hoist: The module factory of <code>jest.mock()</code> is not allowed to reference any out-of-scope variables.</p>\n</blockquote>\n\n<p>I want to be able to easily change the response object without resetting and remocking. Is there a good way to do this?</p>\n"}, {"tags": ["javascript", "c#", "ios", "xamarin", "wkwebview"], "comments": [{"owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1560405727, "post_id": 56569727, "comment_id": 99726480, "body": "Does the html string works in UIWebView? When I use a UIWebview to load the string, I can see nothing on the screen. Am I doing something wrong?"}, {"owner": {"reputation": 365, "user_id": 2002457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SERru.png?s=128&g=1", "display_name": "benpva16", "link": "https://stackoverflow.com/users/2002457/benpva16"}, "reply_to_user": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1560427633, "post_id": 56569727, "comment_id": 99737943, "body": "@JackHua-MSFT The html above doesn&#39;t show anything until the javascript is evaluated that sets the content in <code>&lt;div id=&#39;wc-power-page&#39;&gt;&lt;&#47;div&gt;</code>. I&#39;ve updated the code above."}, {"owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1560496859, "post_id": 56569727, "comment_id": 99763428, "body": "What is the sku there? I still can&#39;t make it work, can you provide a sample?"}, {"owner": {"reputation": 365, "user_id": 2002457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SERru.png?s=128&g=1", "display_name": "benpva16", "link": "https://stackoverflow.com/users/2002457/benpva16"}, "reply_to_user": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1560514904, "post_id": 56569727, "comment_id": 99772092, "body": "@JackHua-MSFT Sorry, here&#39;s an example sku: 7300039843"}, {"owner": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1560765065, "post_id": 56569727, "comment_id": 99829576, "body": "Still can&#39;t get it work and I get a null exception. If you can provide a sample would better."}, {"owner": {"reputation": 365, "user_id": 2002457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SERru.png?s=128&g=1", "display_name": "benpva16", "link": "https://stackoverflow.com/users/2002457/benpva16"}, "reply_to_user": {"reputation": 14091, "user_id": 10539446, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7VK28.jpg?s=128&g=1", "display_name": "Jack Hua", "link": "https://stackoverflow.com/users/10539446/jack-hua"}, "edited": false, "score": 0, "creation_date": 1562165713, "post_id": 56569727, "comment_id": 100294410, "body": "@JackHua-MSFT I&#39;ve updated the code above."}], "owner": {"reputation": 365, "user_id": 2002457, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/SERru.png?s=128&g=1", "display_name": "benpva16", "link": "https://stackoverflow.com/users/2002457/benpva16"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 249, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560519329, "creation_date": 1560370421, "last_edit_date": 1560519329, "question_id": 56569727, "link": "https://stackoverflow.com/questions/56569727/i-converted-a-uiwebview-to-a-wkwebview-now-evaluatejavascript-doesnt-work", "title": "I converted a UIWebView to a WKWebView, now EvaluateJavascript doesn&#39;t work", "body": "<p>There is a UIWebView in my app that evaluated some javascript to load the webview with some HTML content. I converted the UIWebView to a WKWebView and now that javascript is not evaluating.</p>\n\n<p>I have tried evaluating some much simpler javascript (e.g., setting a div to say \"Hello, World!\") and that worked. But when I switch to the javascript that was working in the UIWebView, nothing shows up.</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>        private void InitializeWebView()\n        {\n            webView = new WKWebView(UIScreen.MainScreen.Bounds, new WKWebViewConfiguration());\n            View = webView;\n            webView.LoadHtmlString(WebCollageHtml(), null);\n        }\n\n        private string WebCollageHtml()\n        {\n            return\n            @\"\n                &lt;!DOCTYPE html&gt;\n                &lt;html&gt;\n                    &lt;head&gt;\n                        &lt;script src='https://scontent.webcollage.net/api/v2/product-content'&gt;&lt;/script&gt;\n                    &lt;/head&gt;\n                    &lt;body&gt;\n                        &lt;div id='wc-power-page'&gt;&lt;/div&gt;\n                    &lt;/body&gt;\n                &lt;/html&gt;\n            \";\n        }\n\n        private void LoadWebViewContent(string sku)\n        {\n            if (string.IsNullOrEmpty(sku))\n            {\n                return;\n            }\n\n            string script = @\"Webcollage.loadProductContent('elevatemarketplace', '7300039843', {'power-page': {autoPlayAndStop: true}});\";\n\n            webView.EvaluateJavaScript(script,null);\n        }\n</code></pre>\n\n<p>I would expect that if evaluating some javascript worked in a UIWebView, it should also work in a WKWebView.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1306, "user_id": 8246359, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a7ded1395c3373006d4c404d47f12847?s=128&d=identicon&r=PG", "display_name": "LMulvey", "link": "https://stackoverflow.com/users/8246359/lmulvey"}, "edited": false, "score": 0, "creation_date": 1560371366, "post_id": 56569681, "comment_id": 99718954, "body": "<code>audio = new Audio(&#39;URL of AUDIO-FILE&#39;); </code> - did you redact the URL or is this what your code says? Easy way to debug is to check your Network Tab in your dev tools and see if your browser is making a request for the audio file. If it&#39;s returning a 404/500, that&#39;ll point you in the right direction."}], "answers": [{"tags": [], "owner": {"reputation": 2607, "user_id": 11417877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1930e387dc37d52d55d2dc084d8ed1d5?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick K", "link": "https://stackoverflow.com/users/11417877/yannick-k"}, "is_accepted": false, "score": 0, "last_activity_date": 1560370651, "creation_date": 1560370651, "answer_id": 56569777, "question_id": 56569681, "link": "https://stackoverflow.com/questions/56569681/why-is-my-javascript-code-not-playing-music/56569777#56569777", "title": "Why is my JavaScript Code not playing Music?", "body": "<p>You're using <code>audio.play.play()</code>, which should be: <code>audio.play()</code>. However, you also haven't provided any actual proper URL/relative filepath as the audio source and at the moment your <code>audio</code> variable is never actually assigned as a <code>new Audio</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": false, "score": 0, "last_activity_date": 1560371757, "creation_date": 1560371757, "answer_id": 56570012, "question_id": 56569681, "link": "https://stackoverflow.com/questions/56569681/why-is-my-javascript-code-not-playing-music/56570012#56570012", "title": "Why is my JavaScript Code not playing Music?", "body": "<p>It's not too clear why you're using <strong>window.onmessage</strong> to obtain the url of the audio file but it won't work no matter what because <strong>event.data.data</strong> is simply wrong. To obtain the data of a posted message you have to use <strong>event.data</strong>.</p>\n\n<p>Furthermore here you're assigning the data to a variable called <strong>audioLink</strong></p>\n\n<pre><code>audioLink = event.data.data;\n</code></pre>\n\n<p>but don't actually use it for the instantiation of your HtmlAudioElement <strong>audio</strong>.</p>\n\n<p>Lastly, <strong>audio.play.play();</strong> is wrong. To start playback you simply use the play() method on the audio object - audio.play().</p>\n\n<p>Here's a working example:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var audio;\r\nvar audioLink;\r\n\r\nfunction playAudio() {\r\n  audio.play();\r\n}\r\n\r\nwindow.onmessage = function(event) {\r\n  if (event.data) {\r\n    audioLink = event.data;\r\n    audio = new Audio(audioLink);\r\n  }\r\n};\r\n\r\nwindow.postMessage(\"https://www.w3schools.com/tags/horse.ogg\", \"*\");</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button class=\"button\" onclick=\"playAudio()\"&gt;Play&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 11525047, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/968db6bf14762b641a777f54d143e668?s=128&d=identicon&r=PG&f=1", "display_name": "forexlegend", "link": "https://stackoverflow.com/users/11525047/forexlegend"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 23, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1560371757, "creation_date": 1560370141, "question_id": 56569681, "link": "https://stackoverflow.com/questions/56569681/why-is-my-javascript-code-not-playing-music", "title": "Why is my JavaScript Code not playing Music?", "body": "<p>I want that my buttons ( Home, About, Blog ) on my website plays some sound or music when someone is clicking on them. Now I tried and tried, but cant find out the error in the javascript code. </p>\n\n<pre><code>&lt;body onload=\"htmlIsReady()\"&gt;\n&lt;script type=\"text/javascript\"&gt;\n\n\nvar audio;\n\nvar audioLink;\n\n\nwindow.onmessage = function(event)  {\nif (event.data.data) {\n//Passes the audio url to the new variable\n    audioLink = event.data.data;\n//Created a new audio object with the received audio url        \naudio = new Audio('URL of AUDIO-FILE');         \n                }\n            };\n\n\nfunction htmlIsReady() {\nwindow.parent.postMessage(\"html_is_ready\", \"*\");  \n }  \n\n//Funcion that plays the audio\nfunction playAudio() {\n audio.play.play();   \n }\n\n&lt;/script&gt;\n\n // Button that executes the function that plays the audio everytime it's \n clicked \n &lt;button class=\"button\" onclick=\"playAudio()\"&gt;Play&lt;/button&gt;\n\n &lt;/body&gt;\n</code></pre>\n"}, {"tags": ["javascript", "angular", "sorting"], "comments": [{"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1560370534, "post_id": 56569675, "comment_id": 99718614, "body": "What isn&#39;t working exactly?"}, {"owner": {"reputation": 327, "user_id": 6533823, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dbc592a5bea0c3b39da3c91906bf0706?s=128&d=identicon&r=PG&f=1", "display_name": "paulotarcio", "link": "https://stackoverflow.com/users/6533823/paulotarcio"}, "reply_to_user": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1560371775, "post_id": 56569675, "comment_id": 99719103, "body": "It isn&#39;t working because If I have two equal StartDates the sorting is not working. The data with no Final Date must be at the first place. I&#39;m gonna editing the question to be more understandable."}], "answers": [{"tags": [], "owner": {"reputation": 6613, "user_id": 6433166, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh5.googleusercontent.com/-a-2vAH16fII/AAAAAAAAAAI/AAAAAAAAILw/RY3o0Eie6eo/photo.jpg?sz=128", "display_name": "julianobrasil", "link": "https://stackoverflow.com/users/6433166/julianobrasil"}, "is_accepted": false, "score": -1, "last_activity_date": 1560524289, "last_edit_date": 1560524289, "creation_date": 1560374820, "answer_id": 56570587, "question_id": 56569675, "link": "https://stackoverflow.com/questions/56569675/how-to-sort-an-response-from-my-api-with-two-date-condition-and-if-i-dont-have/56570587#56570587", "title": "How to sort an response from my API with two date condition and If I don&#39;t have one condition, the data must be at the first index", "body": "<p>It depends on the format of the dates you have. Even though your question shows string-formatted dates, I'll start with the <code>Javascript Date</code> object assumption. So, supposing your dates are <code>Javascript Date</code> objects, you can use the <code>Date:getTime()</code> function to do the comparison. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Depending on the origin of your array, your previously Date objects\n// now can be JSON Date strings, so you need to convert them back to \n// Dates (for example, you maybe is receiving the array from a rest API)\nb.StartDate = new Date(b.StartDate);\na.StartDate = new Date(a.StartDate);\n\n// To get the array in descending order, the comparison should be\n// (just switch a and b with each other to get ascending order)\nb.StartDate.getTime() - a.StartDate.getTime()\n\n// first of all, make sure that both FinalDate dates are falsy or truthy \n// at the same time... in this case, you should do a regular comparison of \n// StartDate. After that, when you know that one of them isn't a falsy,\n// you can return -1 or 1, depending on what you want (nulls at the end or\n// a the start of the array):\n!!a.FinalDate === !!b.FinalDate // =&gt; assure that both FinalDates are falsy or both are truthy\n  ? b.StartDate.getTime() - a.StartDate.getTime() \n  : !a.FinalDate \n    ? -1\n    : 1 // b.FinalDate is null, so it should come First\n</code></pre>\n\n<p>So, if you're using regular <code>Javascript Date</code> objects coming from a server (the coercing-to-Date-objects part can be skipped if you're sure the dates are objects instead of strings):</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.servidorService.getDesignacoes(this.nomeacaoId).subscribe((response) =&gt; {\n  if (response.length &gt; 0) {\n    this.movimentos = response.sort((a, b) =&gt; {\n      b.StartDate = new Date(b.StartDate);\n      a.StartDate = new Date(a.StartDate);\n      return !!a.FinalDate === !!b.FinalDate\n          ? b.StartDate.getTime() - a.StartDate.getTime() \n          : !a.FinalDate ? -1 : 1;\n    });\n    this.setMovimento();\n  }\n});\n</code></pre>\n\n<h3>Using Date string comparison</h3>\n\n<p>If you're sure the dates you have are ISO strings or something like that, you\ncan use <code>localeCompare()</code> instead of <code>getTime()</code>:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>this.servidorService.getDesignacoes(this.nomeacaoId).subscribe((response) =&gt; {\n  if (response.length &gt; 0) {\n    this.movimentos = response.sort((a, b) =&gt;\n      !!a.FinalDate === !!b.FinalDate\n          ? b.StartDate.localeCompare(a.StartDate)\n          : !a.FinalDate ? -1 : 1);\n    this.setMovimento();\n  }\n});\n</code></pre>\n\n<h3>Using 3rd party Date libraries</h3>\n\n<p>If you're using 3rd party libraries, like <code>momentjs</code> or <code>date-fns</code> you can also use their date comparison provided functions instead of the above string's <code>localeCompare</code>.</p>\n"}], "owner": {"reputation": 327, "user_id": 6533823, "user_type": "registered", "accept_rate": 55, "profile_image": "https://www.gravatar.com/avatar/dbc592a5bea0c3b39da3c91906bf0706?s=128&d=identicon&r=PG&f=1", "display_name": "paulotarcio", "link": "https://stackoverflow.com/users/6533823/paulotarcio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 80, "favorite_count": 0, "answer_count": 1, "score": -1, "last_activity_date": 1560524289, "creation_date": 1560370109, "last_edit_date": 1560373681, "question_id": 56569675, "link": "https://stackoverflow.com/questions/56569675/how-to-sort-an-response-from-my-api-with-two-date-condition-and-if-i-dont-have", "title": "How to sort an response from my API with two date condition and If I don&#39;t have one condition, the data must be at the first index", "body": "<p>I need to sort a return from my API according to my StartDate, but I have to create a validation if I don't have FinalDate, the data must appears at my first index.</p>\n\n<blockquote>\n  <ol>\n  <li><p>StartDate: \"2004-06-04\"     FinalDate: \"2004-12-17\"</p></li>\n  <li><p>StartDate: \"1997-08-21\"     FinalDate: \"1998-02-26\"</p></li>\n  <li><p>StartDate: \"1997-08-21\"\n      FinalDate: undefined</p></li>\n  </ol>\n</blockquote>\n\n<p>I tried to sort the StartDate. It's works, but what I do with Final Date</p>\n\n<pre><code> this.servidorService.getDesignacoes(this.nomeacaoId).subscribe(\n          (response) =&gt; {\n            if (response.length &gt; 0) {\n              this.movimentos = response.sort((a, b) =&gt; (b.StartDate&lt; a.StartDate? -1 : b.StartDate&gt; a.StartDate? 1 : 0));\n              this.setMovimento();\n            }\n          },\n</code></pre>\n\n<p>The problem is, the sort of StartDate works, but If I have two equal StartDate, one with FinalDate and other without FinalDate, the data without Final Date must be in the first place.</p>\n"}, {"tags": ["javascript", "html", "local-storage", "pie-chart"], "comments": [{"owner": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1560370352, "post_id": 56569666, "comment_id": 99718542, "body": "What is a <i>localstorage project</i> ? You mean you have a web app that stores data in the browser&#39;s local storage? Are you asking how to make a pie chart? Are you asking how to get data out of local storage? Are you asking how to store data in local storage? You gotta be way more specific than that. What have you tried? What isn&#39;t working?"}, {"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "edited": false, "score": 0, "creation_date": 1560370423, "post_id": 56569666, "comment_id": 99718568, "body": "Welcome to StackOverflow! Unfortunately that&#39;s a very broad question and I can&#39;t see the connection to localStorage. It sounds like you&#39;re in need of a tutorial on pie charts. How does the array of objects look like?"}, {"owner": {"reputation": 1, "user_id": 11541172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ztdXM.jpg?s=128&g=1", "display_name": "Himanshu Damani", "link": "https://stackoverflow.com/users/11541172/himanshu-damani"}, "reply_to_user": {"reputation": 1313, "user_id": 8167494, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/tE1Ek.jpg?s=128&g=1", "display_name": "Isaac Vidrine", "link": "https://stackoverflow.com/users/8167494/isaac-vidrine"}, "edited": false, "score": 0, "creation_date": 1560414684, "post_id": 56569666, "comment_id": 99730806, "body": "@IsaacVidrine I am Editing the question . Thanks for letting me know how to question"}, {"owner": {"reputation": 1861, "user_id": 6517783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ttxkp.jpg?s=128&g=1", "display_name": "Hardik Leuwa", "link": "https://stackoverflow.com/users/6517783/hardik-leuwa"}, "edited": false, "score": 0, "creation_date": 1560416963, "post_id": 56569666, "comment_id": 99732025, "body": "This may help you <a href=\"https://stackoverflow.com/questions/42219531/how-to-retrieve-data-from-local-storage?rq=1\" title=\"how to retrieve data from local storage\">stackoverflow.com/questions/42219531/&hellip;</a>"}, {"owner": {"reputation": 1, "user_id": 11541172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ztdXM.jpg?s=128&g=1", "display_name": "Himanshu Damani", "link": "https://stackoverflow.com/users/11541172/himanshu-damani"}, "reply_to_user": {"reputation": 1861, "user_id": 6517783, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Ttxkp.jpg?s=128&g=1", "display_name": "Hardik Leuwa", "link": "https://stackoverflow.com/users/6517783/hardik-leuwa"}, "edited": false, "score": 0, "creation_date": 1560421137, "post_id": 56569666, "comment_id": 99734430, "body": "@HardikLeuwa Thanks for this but I know how to retrive and update localstorage, what i want is how to function pie chart in way to get my localstorage object attributes."}], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11541172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ztdXM.jpg?s=128&g=1", "display_name": "Himanshu Damani", "link": "https://stackoverflow.com/users/11541172/himanshu-damani"}, "edited": false, "score": 0, "creation_date": 1560415592, "post_id": 56572750, "comment_id": 99731295, "body": "Thanks Amrit for the help. But I know this, I want to know is how to edit those predefined functions of google pie chart to perform the function I want! I have edited the question please look into it"}], "tags": [], "owner": {"reputation": 1, "user_id": 8572212, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/K4JM2.jpg?s=128&g=1", "display_name": "Amrit", "link": "https://stackoverflow.com/users/8572212/amrit"}, "is_accepted": false, "score": 0, "last_activity_date": 1560394328, "creation_date": 1560394328, "answer_id": 56572750, "question_id": 56569666, "link": "https://stackoverflow.com/questions/56569666/how-to-use-localstorage-data-to-make-pie-charts/56572750#56572750", "title": "How to use localstorage data to make pie charts?", "body": "<p>For this you need any javascript library to create a chart, there are many options available. Let's, for example, you selected <a href=\"https://developers.google.com/chart/interactive/docs/quick_start\" rel=\"nofollow noreferrer\">Google Charts</a>.</p>\n\n<p>Steps: </p>\n\n<ol>\n<li>Retrieve data from your local storage. </li>\n<li>And then you have the predefined functions of Google Charts or any other library that you are using. </li>\n<li>Pass your data in those functions and render your chart in HTML. </li>\n</ol>\n"}], "owner": {"reputation": 1, "user_id": 11541172, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ztdXM.jpg?s=128&g=1", "display_name": "Himanshu Damani", "link": "https://stackoverflow.com/users/11541172/himanshu-damani"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 382, "favorite_count": 1, "answer_count": 1, "score": -2, "last_activity_date": 1560415354, "creation_date": 1560370067, "last_edit_date": 1560415354, "question_id": 56569666, "link": "https://stackoverflow.com/questions/56569666/how-to-use-localstorage-data-to-make-pie-charts", "title": "How to use localstorage data to make pie charts?", "body": "<p>I have a webapp for project management which is using localstorage for storing array of objects.\nAnd Now on the dashboard , I want to show a google pie chart.</p>\n\n<p>An object in the localstorage looks like this.</p>\n\n<pre><code>assignedTo: \"Laxman\"\nclosingdate: \"2019-06-15\"\ndescription: \"Some what desc\"\nid: 1560281058591\nname: \"Project1\"\npostdate: \"2019-06-11\"\nstatus: \"Open\"\n</code></pre>\n\n<p>Now I want to make a pie chart showing project.assignedTo and number of projects assigned to that employee.</p>\n\n<p>Now I want know is hoe to function to set the variable getPro to map project.assignedTo and number of projects assigned to that.\nHere's the code for google pie.</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://www.gstatic.com/charts/loader.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text/javascript\"&gt;\n      google.charts.load(\"current\", {packages:[\"corechart\"]});\n      google.charts.setOnLoadCallback(drawChart);\n      function drawChart() {\n        var getPro = JSON.parse(localStorage.projects).map(\n            project =&gt;\n            ['Employee', 'Number Of Project'],\n            [$(project.assignedTo), &lt;HERE I AM GETTING STUCK&gt;]\n        );\n\n        var data = google.visualization.arrayToDataTable(getPro);\n\n        var options = {\n          title: 'Number of Projects Assigned',\n          is3D: true,\n        };\n\n        var chart = new google.visualization.PieChart(document.getElementById('piechart_3d'));\n        chart.draw(data, options);\n      }\n&lt;/script&gt;\n</code></pre>\n\n<p>Please help me out in it.</p>\n"}, {"tags": ["javascript", "node.js", "dialogflow-es", "actions-on-google", "google-home"], "comments": [{"owner": {"reputation": 1488, "user_id": 1698346, "user_type": "registered", "accept_rate": 38, "profile_image": "https://i.stack.imgur.com/cQykZ.jpg?s=128&g=1", "display_name": "MoMo", "link": "https://stackoverflow.com/users/1698346/momo"}, "edited": false, "score": 1, "creation_date": 1560371921, "post_id": 56569646, "comment_id": 99719140, "body": "Welcome to stack overflow! I suggest you add a pertinent code snippet to assist others assist you."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 10693833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f5efc44b796b8703bb1cf194e938bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Wahuu", "link": "https://stackoverflow.com/users/10693833/wahuu"}, "edited": false, "score": 0, "creation_date": 1560458765, "post_id": 56587365, "comment_id": 99754442, "body": "It really does seem like a hiccup as some other production apps on the store also occasionally went unresponsive.  The issue also seems to have stopped out of the blue the very next day. I&#39;m really curious to find out what caused a request for something called &quot;canvasContext.&quot; I&#39;m also a little paranoid that the issue will surface again."}], "tags": [], "owner": {"reputation": 89, "user_id": 5816620, "user_type": "registered", "profile_image": "https://graph.facebook.com/1134139879929637/picture?type=large", "display_name": "Alexander K&#246;hn", "link": "https://stackoverflow.com/users/5816620/alexander-k%c3%b6hn"}, "is_accepted": true, "score": 0, "last_activity_date": 1560454036, "creation_date": 1560454036, "answer_id": 56587365, "question_id": 56569646, "link": "https://stackoverflow.com/questions/56569646/how-to-fix-cannot-find-field-canvascontext-in-message-google-actions-v2-input/56587365#56587365", "title": "How to fix: &quot;Cannot find field: canvasContext in message google.actions.v2.Input&quot; in Google Actions", "body": "<p>I see exactly the same error in some of our customer projects. For me it looks like a Google hiccup because our AoGs with that error in the logs does not even use Canvas.</p>\n"}], "owner": {"reputation": 3, "user_id": 10693833, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f5efc44b796b8703bb1cf194e938bb5?s=128&d=identicon&r=PG&f=1", "display_name": "Wahuu", "link": "https://stackoverflow.com/users/10693833/wahuu"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 51, "favorite_count": 0, "accepted_answer_id": 56587365, "answer_count": 1, "score": 0, "last_activity_date": 1560454036, "creation_date": 1560369972, "last_edit_date": 1560371530, "question_id": 56569646, "link": "https://stackoverflow.com/questions/56569646/how-to-fix-cannot-find-field-canvascontext-in-message-google-actions-v2-input", "title": "How to fix: &quot;Cannot find field: canvasContext in message google.actions.v2.Input&quot; in Google Actions", "body": "<p>Invoking my Google action produces inconsistent results. Sometimes it'll work normally, and sometimes it'll just say \"app isn't responding right now. Try again later.\"</p>\n\n<p>When it doesn't respond, the error in Stackdriver logs states: </p>\n\n<p><code>MalformedResponse: ErrorId: 9d77f434-ed3c-485b-9531-05449ee83c29. Failed to parse json into AppRequest proto. com.google.protobuf.InvalidProtocolBufferException: Cannot find field: canvasContext in message google.actions.v2.Input</code></p>\n\n<p>This error has happened on the google home, google home mini, and the Lenovo smart display. It happens most on the smart display. And it hasn't happened yet on a mobile device.</p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 135, "user_id": 1658870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc53ef7a91ca255cd9c8ed25a3e1442c?s=128&d=identicon&r=PG", "display_name": "Pablo Hern&#225;ndez - OtakuPahp", "link": "https://stackoverflow.com/users/1658870/pablo-hern%c3%a1ndez-otakupahp"}, "reply_to_user": {"reputation": 1635, "user_id": 5480147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7a4c467c7c34e0e9162535a801ae21a?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/5480147/tom"}, "edited": false, "score": 0, "creation_date": 1560372090, "post_id": 56569645, "comment_id": 99719189, "body": "both of them requires that the user is on page A until the process is finished, what I want is to let the user plays for the whole site while the file is uploading."}, {"owner": {"reputation": 967, "user_id": 6135153, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/aGmzt.jpg?s=128&g=1", "display_name": "Buffalo", "link": "https://stackoverflow.com/users/6135153/buffalo"}, "edited": false, "score": 0, "creation_date": 1560372293, "post_id": 56569645, "comment_id": 99719275, "body": "Saving data to the local storage will avoid having to reload. Using a Single Page Application will also eliminate the need to re-download the image."}, {"owner": {"reputation": 135, "user_id": 1658870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc53ef7a91ca255cd9c8ed25a3e1442c?s=128&d=identicon&r=PG", "display_name": "Pablo Hern&#225;ndez - OtakuPahp", "link": "https://stackoverflow.com/users/1658870/pablo-hern%c3%a1ndez-otakupahp"}, "edited": false, "score": 0, "creation_date": 1560372396, "post_id": 56569645, "comment_id": 99719318, "body": "Local Storages has the limit of 10MB (5MB in most browsers). The site is WordPress so it is impossible to use a Single Page App"}, {"owner": {"reputation": 1635, "user_id": 5480147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7a4c467c7c34e0e9162535a801ae21a?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/5480147/tom"}, "edited": false, "score": 0, "creation_date": 1560373085, "post_id": 56569645, "comment_id": 99719577, "body": "Frameset&#39;s main or frame page and reload main page in different frame ? Also Geasmonkey browser extension may help, but quite complicated to install by all users, but quite handy tool. And would tell in case you open window and reload page, it is hard to keep handle to that popup - opening another of same name may help, but CORS block may occur then. So can end-up as a orphan - this is reason why I love HTA, Cordova or node.js concepts..."}, {"owner": {"reputation": 1635, "user_id": 5480147, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f7a4c467c7c34e0e9162535a801ae21a?s=128&d=identicon&r=PG", "display_name": "Tom", "link": "https://stackoverflow.com/users/5480147/tom"}, "edited": false, "score": 0, "creation_date": 1560373580, "post_id": 56569645, "comment_id": 99719744, "body": "Or you can open that next user page by script - Ajax load and display in/change an element ?"}, {"owner": {"reputation": 135, "user_id": 1658870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc53ef7a91ca255cd9c8ed25a3e1442c?s=128&d=identicon&r=PG", "display_name": "Pablo Hern&#225;ndez - OtakuPahp", "link": "https://stackoverflow.com/users/1658870/pablo-hern%c3%a1ndez-otakupahp"}, "edited": false, "score": 0, "creation_date": 1560379845, "post_id": 56569645, "comment_id": 99721386, "body": "Loading the whole page over this one needs extra work. But I get your point about the orphan popup. Perhaps I can let the popup to take care of the uploading and notify the user via email when the file is ready"}], "owner": {"reputation": 135, "user_id": 1658870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dc53ef7a91ca255cd9c8ed25a3e1442c?s=128&d=identicon&r=PG", "display_name": "Pablo Hern&#225;ndez - OtakuPahp", "link": "https://stackoverflow.com/users/1658870/pablo-hern%c3%a1ndez-otakupahp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 51, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1560371223, "creation_date": 1560369972, "last_edit_date": 1560371223, "question_id": 56569645, "link": "https://stackoverflow.com/questions/56569645/what-is-the-best-option-to-upload-a-big-image-file-about-70mb-from-one-page-to", "title": "What is the best option to upload a big image file (about 70MB) from one page to another?", "body": "<p>A client asked me to create a cropper and I used the great plugin from <a href=\"https://fengyuanchen.github.io/cropperjs/\" rel=\"nofollow noreferrer\">https://fengyuanchen.github.io/cropperjs/</a></p>\n\n<p>Once the image is uploaded and cropped the user can see a preview in the actual page (the image data is stored in a hidden as base64 encoded text), then send the form and wait for the images to be uploaded (up to 5 minutes depending on your connection speed).</p>\n\n<p>My client asked me a way to \"defer the load\" so the user could finish the buying process while the image is loading.</p>\n\n<p>My unique idea is to open a pop-up window and send there the text to upload while the user finishes the process.</p>\n\n<p>Is there a better option to do that? It is possible to do what I want?</p>\n"}, {"tags": ["javascript", "jquery", "datatables"], "answers": [{"comments": [{"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "reply_to_user": {"reputation": 4626, "user_id": 3541320, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/tO4gK.png?s=128&g=1", "display_name": "pmiranda", "link": "https://stackoverflow.com/users/3541320/pmiranda"}, "edited": false, "score": 1, "creation_date": 1560373090, "post_id": 56569742, "comment_id": 99719579, "body": "@pmirnd Glad to help. Have a good day. Also, this article explains what I used in my answer with more detail (<a href=\"https://learn.jquery.com/events/event-delegation/\" rel=\"nofollow noreferrer\">learn.jquery.com/events/event-delegation</a>)"}, {"owner": {"reputation": 4626, "user_id": 3541320, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/tO4gK.png?s=128&g=1", "display_name": "pmiranda", "link": "https://stackoverflow.com/users/3541320/pmiranda"}, "edited": false, "score": 0, "creation_date": 1560373384, "post_id": 56569742, "comment_id": 99719678, "body": "Thanks. Can I do the same with <code>each</code>? I&#39;m trying something like: <code>$(&#39;#yourTable&#39;).each(&#39;click&#39;, &#39;.checkbox-class:checkbox&#39;, function(){</code>"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "reply_to_user": {"reputation": 4626, "user_id": 3541320, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/tO4gK.png?s=128&g=1", "display_name": "pmiranda", "link": "https://stackoverflow.com/users/3541320/pmiranda"}, "edited": false, "score": 0, "creation_date": 1560374881, "post_id": 56569742, "comment_id": 99720103, "body": "@pmirnd I don&#39;t believe that works with <code>.each</code>, <code>.each</code> is for iterating a set of elements. But if I&#39;m wrong on that, feel free to let me know. From what I see in the documentation here (<a href=\"http://api.jquery.com/jquery.each/\" rel=\"nofollow noreferrer\">api.jquery.com/jquery.each</a>), that isn&#39;t valid code in your example."}, {"owner": {"reputation": 4626, "user_id": 3541320, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/tO4gK.png?s=128&g=1", "display_name": "pmiranda", "link": "https://stackoverflow.com/users/3541320/pmiranda"}, "edited": false, "score": 0, "creation_date": 1560374990, "post_id": 56569742, "comment_id": 99720140, "body": "Thanks mate. I&#39;ve just asked it here: <a href=\"https://stackoverflow.com/questions/56570595/javascript-checked-checkboxes-from-whole-table\" title=\"javascript checked checkboxes from whole table\">stackoverflow.com/questions/56570595/&hellip;</a>"}], "tags": [], "owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "is_accepted": true, "score": 1, "last_activity_date": 1560370489, "creation_date": 1560370489, "answer_id": 56569742, "question_id": 56569608, "link": "https://stackoverflow.com/questions/56569608/datatables-with-pagination-on-click-doesnt-work/56569742#56569742", "title": "datatables, with pagination on click doesn&#39;t work", "body": "<p>You can use delegation for the event by attaching it to the table itself and only firing on the specific class type, I take it you are using JQuery as you have it in your example above, so this should serve your needs, notice how the 2nd parameter of <code>.on</code> is the className of the checkbox items in the table, this will then fire anytime a checkbox with that className inside the parent table is clicked:</p>\n\n<pre><code>$('#yourTable').on('click', '.checkbox-class:checkbox', function(){\n    alert($(this).val());\n});\n</code></pre>\n"}], "owner": {"reputation": 4626, "user_id": 3541320, "user_type": "registered", "accept_rate": 55, "profile_image": "https://i.stack.imgur.com/tO4gK.png?s=128&g=1", "display_name": "pmiranda", "link": "https://stackoverflow.com/users/3541320/pmiranda"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 1, "accepted_answer_id": 56569742, "answer_count": 1, "score": 0, "last_activity_date": 1560370524, "creation_date": 1560369781, "last_edit_date": 1560370524, "question_id": 56569608, "link": "https://stackoverflow.com/questions/56569608/datatables-with-pagination-on-click-doesnt-work", "title": "datatables, with pagination on click doesn&#39;t work", "body": "<p>I have this code in the bottom of the page:</p>\n\n<pre><code>$('.checkbox-class:checkbox').on('click', function () {\n    alert($(this).val());\n});\n</code></pre>\n\n<p>I have a datatable with a td with this input:</p>\n\n<pre><code>&lt;input class=\"checkbox-class\" type=\"checkbox\" name=\"compartir[]\" value=\"{{$row-&gt;id}}\"&gt;\n</code></pre>\n\n<p>I can see the alert on each click of the checkbox of the first page, but when I move to the 2nd page, the script is not listening this clicks. But, if I reload the page, and move first to the 2nd page, then I do my first clicks, javascript can catch them well, but if I move to the 1st page, javascript doesn't listen them (on that, the 1st page)</p>\n\n<p>I don't get it whay is happening this.</p>\n\n<p>EDIT: A fiddle about it:</p>\n\n<p><a href=\"https://codepen.io/anon/pen/EBjNPW\" rel=\"nofollow noreferrer\">https://codepen.io/anon/pen/EBjNPW</a></p>\n"}, {"tags": ["javascript", "php", "twig"], "answers": [{"tags": [], "owner": {"reputation": 265, "user_id": 4570202, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/PapD1.jpg?s=128&g=1", "display_name": "maswerdna", "link": "https://stackoverflow.com/users/4570202/maswerdna"}, "is_accepted": true, "score": 1, "last_activity_date": 1560371124, "last_edit_date": 1560371124, "creation_date": 1560370321, "answer_id": 56569716, "question_id": 56569591, "link": "https://stackoverflow.com/questions/56569591/execute-javascript-every-time-i-call-its-twig-template/56569716#56569716", "title": "execute javascript every time I call its twig template", "body": "<p>To have your string logged twice or as many times as the script was called, move the statement into the <code>ExportPdf() function</code></p>\n\n<p>calling it from <code>window.inload</code> will only run once, and that's the first time window was loaded.</p>\n\n<pre><code>window.onload = function() {\n  kendo.pdf.defineFont({\n      \"Comfortaa\": \"/doc/fonts/Comfortaa-Regular.ttf\",\n      \"Comfortaa|Bold\": \"/doc/fonts/Comfortaa-Bold.ttf\",\n  });\n\n  var inv_num = document.querySelector('#inv_num').dataset.id;\n  var company = document.querySelector('#company').dataset.id;\n\n  function ExportPdf(){ \n      kendo.drawing\n      .drawDOM(\"#myCanvas\", \n      {\n      paperSize: \"A4\",\n      margin: { top: \"0.5cm\", bottom: \"0.5cm\", left: \"0.5cm\", right: \"0.5cm\" \n      },\n      scale: 0.8,\n      height: 500\n      })\n      .then(function(group){\n      kendo.drawing.pdf.saveAs(group,company + \" | Invoice #\" + inv_num + \".pdf\")\n      });\n      //Moved here\n      console.log('It ran');\n  }\n\n  ExportPdf();\n}\n</code></pre>\n\n<p>EDITED:\nwindow.onload will only fire once and never except there was a browser refresh. The get the desired result, I'll suggest you place the function outside of <code>window.onload</code>. In that case, in your HTML/JavaScript code, you'll need to wrap the main function that calls the template in your <code>.onload</code>.</p>\n"}], "owner": {"reputation": 147, "user_id": 9303718, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8f2e2cf4750d97db2ff51f695741380?s=128&d=identicon&r=PG&f=1", "display_name": "dydx", "link": "https://stackoverflow.com/users/9303718/dydx"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 56569716, "answer_count": 1, "score": 0, "last_activity_date": 1560371124, "creation_date": 1560369683, "last_edit_date": 1560370258, "question_id": 56569591, "link": "https://stackoverflow.com/questions/56569591/execute-javascript-every-time-i-call-its-twig-template", "title": "execute javascript every time I call its twig template", "body": "<p>I have a php script that calls another script through a for loop. The script that is called then echos a twig template that has a javascript attached to it which exports a pdf. The issue is that the javascript only executes once. Here's the flow:</p>\n\n<p>generate-invoice.php -> invoice.php -> twig template that has a script tag ->\nthe code of that javascript is:</p>\n\n<pre><code>window.onload = function() {\n  kendo.pdf.defineFont({\n      \"Comfortaa\": \"/doc/fonts/Comfortaa-Regular.ttf\",\n      \"Comfortaa|Bold\": \"/doc/fonts/Comfortaa-Bold.ttf\",\n  });\n\n  var inv_num = document.querySelector('#inv_num').dataset.id;\n  var company = document.querySelector('#company').dataset.id;\n\n  function ExportPdf(){ \n      kendo.drawing\n      .drawDOM(\"#myCanvas\", \n      {\n      paperSize: \"A4\",\n      margin: { top: \"0.5cm\", bottom: \"0.5cm\", left: \"0.5cm\", right: \"0.5cm\" \n},\n      scale: 0.8,\n      height: 500\n      })\n      .then(function(group){\n      kendo.drawing.pdf.saveAs(group,company + \" | Invoice #\" + inv_num + \n\".pdf\")\n      });\n  }\n\n  ExportPdf();\n  console.log('It ran');\n}\n</code></pre>\n\n<p>And when I look in the console, 'it ran' is only posted once where as it should be posted twice because the twig template was called 2 times.</p>\n\n<p>EDIT: Just wanted to let you know that I'm calling the invoice.php script by <code>include</code>ing it in a for loop.. maybe that's what's causing this issue?</p>\n"}, {"tags": ["javascript", "react-native", "react-redux"], "comments": [{"owner": {"reputation": 3059, "user_id": 5437272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJzjX.jpg?s=128&g=1", "display_name": "makenova", "link": "https://stackoverflow.com/users/5437272/makenova"}, "edited": false, "score": 0, "creation_date": 1560370715, "post_id": 56569552, "comment_id": 99718685, "body": "Can you share your actual code? I do not believe what you shared will run.  You will need to absolutely position your search bar within the container view and animate it with the <code>onScroll</code> event of the list view you are using."}, {"owner": {"reputation": 39, "user_id": 10827601, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-95e9xs1pc0c/AAAAAAAAAAI/AAAAAAAABj0/b7X4zeP0pHs/photo.jpg?sz=128", "display_name": "valentinrz 11", "link": "https://stackoverflow.com/users/10827601/valentinrz-11"}, "reply_to_user": {"reputation": 3059, "user_id": 5437272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJzjX.jpg?s=128&g=1", "display_name": "makenova", "link": "https://stackoverflow.com/users/5437272/makenova"}, "edited": false, "score": 0, "creation_date": 1560438702, "post_id": 56569552, "comment_id": 99745223, "body": "for security reasons I can not share my code but if you show me an example of how to do the displacement I am looking for I would appreciate it"}, {"owner": {"reputation": 39, "user_id": 10827601, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-95e9xs1pc0c/AAAAAAAAAAI/AAAAAAAABj0/b7X4zeP0pHs/photo.jpg?sz=128", "display_name": "valentinrz 11", "link": "https://stackoverflow.com/users/10827601/valentinrz-11"}, "reply_to_user": {"reputation": 3059, "user_id": 5437272, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cJzjX.jpg?s=128&g=1", "display_name": "makenova", "link": "https://stackoverflow.com/users/5437272/makenova"}, "edited": false, "score": 0, "creation_date": 1560438906, "post_id": 56569552, "comment_id": 99745354, "body": "so you understand a little better I&#39;m looking to do this in react-native. <a href=\"https://codesandbox.io/s/peaceful-gould-lh4rw\" rel=\"nofollow noreferrer\">codesandbox.io/s/peaceful-gould-lh4rw</a>"}], "answers": [{"tags": [], "owner": {"reputation": 617, "user_id": 3881855, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/b56269108d40ee758ea3dc012f8c9e9a?s=128&d=identicon&r=PG&f=1", "display_name": "Akhi", "link": "https://stackoverflow.com/users/3881855/akhi"}, "is_accepted": false, "score": 0, "last_activity_date": 1560370607, "creation_date": 1560370607, "answer_id": 56569768, "question_id": 56569552, "link": "https://stackoverflow.com/questions/56569552/how-to-hide-a-search-bar-when-scrolling-down-and-how-to-show-it-when-scrolling-u/56569768#56569768", "title": "How to hide a search bar when scrolling down and how to show it when scrolling up with react-native?", "body": "<p>Please find the following medium blog that will help you to create the view like search bar hide/show on scroll up/down:</p>\n\n<p><a href=\"https://blog.expo.io/implementation-complex-animation-in-react-native-by-example-search-bar-with-tab-view-and-collapsing-68bb43be2dcb\" rel=\"nofollow noreferrer\">https://blog.expo.io/implementation-complex-animation-in-react-native-by-example-search-bar-with-tab-view-and-collapsing-68bb43be2dcb</a></p>\n"}, {"comments": [{"owner": {"reputation": 1226, "user_id": 4840165, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100751284367619/picture?type=large", "display_name": "Mark", "link": "https://stackoverflow.com/users/4840165/mark"}, "reply_to_user": {"reputation": 39, "user_id": 10827601, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-95e9xs1pc0c/AAAAAAAAAAI/AAAAAAAABj0/b7X4zeP0pHs/photo.jpg?sz=128", "display_name": "valentinrz 11", "link": "https://stackoverflow.com/users/10827601/valentinrz-11"}, "edited": false, "score": 0, "creation_date": 1560444618, "post_id": 56569775, "comment_id": 99748346, "body": "This is extremely basic.  What wasn&#39;t clear to you?"}], "tags": [], "owner": {"reputation": 1226, "user_id": 4840165, "user_type": "registered", "profile_image": "https://graph.facebook.com/10100751284367619/picture?type=large", "display_name": "Mark", "link": "https://stackoverflow.com/users/4840165/mark"}, "is_accepted": false, "score": 0, "last_activity_date": 1560444727, "last_edit_date": 1560444727, "creation_date": 1560370630, "answer_id": 56569775, "question_id": 56569552, "link": "https://stackoverflow.com/questions/56569552/how-to-hide-a-search-bar-when-scrolling-down-and-how-to-show-it-when-scrolling-u/56569775#56569775", "title": "How to hide a search bar when scrolling down and how to show it when scrolling up with react-native?", "body": "<p>Something similar to this maybe?</p>\n\n<pre><code>componentDidMount(){\n    this.prev = window.scrollY;\n    this.show = false;\n    window.addEventListener('scroll', e =&gt; this.handleNavigation(e);\n}\n\nhandleNavigation = (e) =&gt;{\n    const window = e.currentTarget;\n\n    if(this.prev &gt; window.scrollY){\n        this.show = true;\n    }\n    else if(this.prev &lt; window.scrollY){\n        this.show = false;\n    }\n    this.prev = window.scrollY;\n};\n\nrender () {\n  return (\n    &lt;Fragment&gt;\n      { this.show &amp;&amp; &lt;SearchBar /&gt; }\n    &lt;Fragment/&gt;\n  )\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 39, "user_id": 10827601, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-95e9xs1pc0c/AAAAAAAAAAI/AAAAAAAABj0/b7X4zeP0pHs/photo.jpg?sz=128", "display_name": "valentinrz 11", "link": "https://stackoverflow.com/users/10827601/valentinrz-11"}, "edited": false, "score": 0, "creation_date": 1560437472, "post_id": 56569829, "comment_id": 99744375, "body": "great looking for something like that only when it returns to down disappear"}, {"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "reply_to_user": {"reputation": 39, "user_id": 10827601, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-95e9xs1pc0c/AAAAAAAAAAI/AAAAAAAABj0/b7X4zeP0pHs/photo.jpg?sz=128", "display_name": "valentinrz 11", "link": "https://stackoverflow.com/users/10827601/valentinrz-11"}, "edited": false, "score": 0, "creation_date": 1560439866, "post_id": 56569829, "comment_id": 99745908, "body": "I&#39;m sorry, I didn&#39;t undestood. Could you explain it better?"}, {"owner": {"reputation": 39, "user_id": 10827601, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-95e9xs1pc0c/AAAAAAAAAAI/AAAAAAAABj0/b7X4zeP0pHs/photo.jpg?sz=128", "display_name": "valentinrz 11", "link": "https://stackoverflow.com/users/10827601/valentinrz-11"}, "edited": false, "score": 0, "creation_date": 1560449246, "post_id": 56569829, "comment_id": 99750451, "body": "I&#39;m looking to do the same thing you did but implemented in react-native since you implemented it in react js and it&#39;s not the same"}, {"owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "reply_to_user": {"reputation": 39, "user_id": 10827601, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-95e9xs1pc0c/AAAAAAAAAAI/AAAAAAAABj0/b7X4zeP0pHs/photo.jpg?sz=128", "display_name": "valentinrz 11", "link": "https://stackoverflow.com/users/10827601/valentinrz-11"}, "edited": false, "score": 0, "creation_date": 1560450756, "post_id": 56569829, "comment_id": 99751172, "body": "The gist here is the logic. In RN you don&#39;t even have to remove the listener. Just listen to the <code>onScroll</code> event on a <code>View</code> component instead of a div. And access the <code>window.scrollY</code> at <code>event.nativeEvent.contentOffset.y</code>."}], "tags": [], "owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "is_accepted": false, "score": 2, "last_activity_date": 1560370894, "creation_date": 1560370894, "answer_id": 56569829, "question_id": 56569552, "link": "https://stackoverflow.com/questions/56569552/how-to-hide-a-search-bar-when-scrolling-down-and-how-to-show-it-when-scrolling-u/56569829#56569829", "title": "How to hide a search bar when scrolling down and how to show it when scrolling up with react-native?", "body": "<p>Here is a <a href=\"https://codesandbox.io/s/elated-tree-x3jxz\" rel=\"nofollow noreferrer\">sandbox</a>. Basically this is it:</p>\n\n<pre><code>    const HideOnScroll = () =&gt; {\n    const [scroll, setScroll] = React.useState(window.scrollY);\n    const [visible, setVisible] = React.useState(false)\n    React.useEffect(() =&gt; {\n        const onScroll = () =&gt; {\n            setVisible(window.scrollY &gt; scroll)\n            setScroll(window.scrollY)\n        }\n        window.addEventListener(\"scroll\", onScroll);\n        return () =&gt; window.removeEventListener(\"scroll\", onScroll);\n    });\n\n    return (\n        &lt;div style={{ height: \"200vh\" }}&gt;\n            {visible &amp;&amp; (\n                &lt;div style={{ position: \"fixed\" }}&gt;Only show scrolling down&lt;/div&gt;\n            )}\n        &lt;/div&gt;\n    );\n}\n</code></pre>\n"}], "owner": {"reputation": 39, "user_id": 10827601, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-95e9xs1pc0c/AAAAAAAAAAI/AAAAAAAABj0/b7X4zeP0pHs/photo.jpg?sz=128", "display_name": "valentinrz 11", "link": "https://stackoverflow.com/users/10827601/valentinrz-11"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2180, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1560444727, "creation_date": 1560369462, "question_id": 56569552, "link": "https://stackoverflow.com/questions/56569552/how-to-hide-a-search-bar-when-scrolling-down-and-how-to-show-it-when-scrolling-u", "title": "How to hide a search bar when scrolling down and how to show it when scrolling up with react-native?", "body": "<p>I have a Search Bar, I only need the functionality that when it scrolls down it disappears and when it scrolls up it appears but I do not know how, if someone can show me a concrete example of how to do that functionality, I would be deluxe until then I show my code :)</p>\n\n<pre><code>showSearchBarIOS = () =&gt; {\n    return (\n      &lt;View style={styles.containerSearchBarIOS}&gt;\n        &lt;Icon name=\"search\" size={20} style={{ marginLeft: 5 }} /&gt;\n        &lt;TextInput\n          style={styles.textInputIos}\n          value={this.state.text}\n          autoCorrect={false}\n          returnKeyType=\"done\"\n          onChangeText={this.submitText}\n          placeholder=\"Buscar...\"\n          placeholderTextColor={GRIS_DEFAULT}\n        /&gt;\n        &lt;Text&gt;{this.props.texto}&lt;/Text&gt;\n      &lt;/View&gt;\n    );\n  };\n\n  showSearchBarAndroid = () =&gt; {\n    return (\n      &lt;View style={styles.containerSearchBarAndroid}&gt;\n        &lt;Icon\n          name=\"search\"\n          size={25}\n          style={{ marginLeft: 5, marginBottom: 3 }}\n        /&gt;\n        &lt;TextInput\n          style={styles.textInputAndroid}\n          value={this.state.text}\n          autoCorrect={false}\n          returnKeyType=\"done\"\n          onChangeText={text =&gt; this.setState({ text: text })}\n          placeholder=\"Buscar Diputados...\"\n          placeholderTextColor={GRIS_DEFAULT}\n        /&gt;\n      &lt;/View&gt;\n    );\n  };\n\nshowList = () =&gt; {\n    return (\n      &lt;View style={{ flex: 1 }}&gt;\n        {Platform.OS === \"ios\"\n          ? this.showSearchBarIOS()\n          : this.showSearchBarAndroid()}\n        &lt;RecyclerListView\n          layoutProvider={this._layoutProvider}\n          dataProvider={this.props.dataProvider}\n          rowRenderer={this._rowRenderer}\n          scrollViewProps={{\n            refreshControl: (\n              &lt;RefreshControl\n                refreshing={this.props.diputadosNomina.isFetching}\n                onRefresh={this.props.fetchDiputadosNomina}\n                colors={[REFRESH_CONTROL_COLOR]}\n                tintColor={REFRESH_CONTROL_COLOR}\n              /&gt;\n            )\n          }}\n        /&gt;\n      &lt;/View&gt;\n    );\n  };\n\ncontainer: {\n    flex: 1,\n    backgroundColor: PAGE_BACKGROUND_COLOR\n  },\n  containerSearchBarIOS: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 30,\n    padding: 0,\n    marginLeft: 6,\n    marginRight: 6,\n    marginTop: 5,\n    backgroundColor: BACKGROUND_SEARCH_BAR,\n    borderWidth: 1,\n    borderColor: GRIS_DEFAULT,\n    borderRadius: 60\n  },\n  containerSearchBarAndroid: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    height: 40,\n    padding: 0,\n    marginLeft: 2,\n    marginRight: 2,\n    marginBottom: 5,\n    marginTop: 5,\n    backgroundColor: BACKGROUND_SEARCH_BAR,\n    borderWidth: 1,\n    borderColor: GRIS_DEFAULT,\n    borderRadius: 60\n  },\n  textInputIos: {\n    fontSize: 14,\n    fontFamily: Roboto_Regular,\n    width: \"90%\",\n    padding: 2\n  },\n</code></pre>\n\n<p>textInputAndroid: {\n    fontSize: 13,\n    fontFamily: Roboto_Regular,\n    width: \"90%\"\n  }</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 692, "user_id": 4163336, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EjKKmMwll_s/AAAAAAAAAAI/AAAAAAAAABc/GM7-J8UP3pg/photo.jpg?sz=128", "display_name": "Sachin Singh", "link": "https://stackoverflow.com/users/4163336/sachin-singh"}, "edited": false, "score": 0, "creation_date": 1560369495, "post_id": 56569516, "comment_id": 99718179, "body": "Change the if condition to (x &lt; images.length)"}], "answers": [{"tags": [], "owner": {"reputation": 69, "user_id": 4212190, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b74a58620a0e744ebe976b9ed48ddfc9?s=128&d=identicon&r=PG&f=1", "display_name": "wodwin", "link": "https://stackoverflow.com/users/4212190/wodwin"}, "is_accepted": true, "score": -1, "last_activity_date": 1560369845, "creation_date": 1560369845, "answer_id": 56569624, "question_id": 56569516, "link": "https://stackoverflow.com/questions/56569516/how-to-fix-image-path-for-slider-function/56569624#56569624", "title": "How to fix image path for slider function", "body": "<p>Your x variable will always be equal to 1 since the code will never get inside the if statement. if(x > images.length) will never become true.</p>\n\n<p>try if( x &lt; images.length );</p>\n\n<p>in image src, you are decrementing by 1 which results to show the zero index always. nothing wrong with your path.</p>\n"}], "owner": {"reputation": 17, "user_id": 10056252, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-khcuccE2lpU/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7pLm32j6uJHXUH6BVX1IhKVI-tALQ/mo/photo.jpg?sz=128", "display_name": "Alex Udose", "link": "https://stackoverflow.com/users/10056252/alex-udose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 25, "favorite_count": 0, "accepted_answer_id": 56569624, "answer_count": 1, "score": -2, "last_activity_date": 1560372643, "creation_date": 1560369259, "last_edit_date": 1560372643, "question_id": 56569516, "link": "https://stackoverflow.com/questions/56569516/how-to-fix-image-path-for-slider-function", "title": "How to fix image path for slider function", "body": "<p>Function to slide banner not working and my image path not working too</p>\n\n<pre><code>var img = document.getElementById('img-banner');\n\nvar images = [\n    '../banners/banner.png', \n    '../banners/banner1.png',\n    '../banners/banner2.png'\n];\n\nvar x = 0;\n\nfunction slide() {\n\n    if (x &gt; images.length) {\n        x++\n    } else {\n        x = 1;\n    }\n\n    img.innerHTML = \"&lt;img src =\"+images[x-1]+\"&gt;\";\n}\n\nsetInterval(slide, 5000);\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "react-native", "wavesplatform"], "owner": {"reputation": 59, "user_id": 10565272, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-ICUmgMD5Td8/AAAAAAAAAAI/AAAAAAAAAAA/ABtNlbDummAxqTWtZe9FP0CZzBUpwrQjUg/mo/photo.jpg?sz=128", "display_name": "Jimmy Hendrix", "link": "https://stackoverflow.com/users/10565272/jimmy-hendrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 246, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560369226, "creation_date": 1560369226, "question_id": 56569509, "link": "https://stackoverflow.com/questions/56569509/error-cannot-resolve-module-crypto-when-creating-wallet-address", "title": "Error cannot resolve module &quot;crypto&quot; when creating wallet address", "body": "<p>I am trying to create a wallet to hold a newly created coin on the waves platform.</p>\n\n<p>Metro Bundler has encountered an internal error, please check your terminal error output for more details\nWhile trying to resolve module <code>crypto</code> from file <code>C:\\Users\\El\\.expo\\bandzWallet\\node_modules\\@waves\\waves-crypto\\random.js</code>, the package <code>C:\\Users\\El\\.expo\\bandzWallet\\node_modules\\crypto\\package.json</code> was successfully found. However, this package itself specifies a <code>main</code> module field that could not be resolved (<code>C:\\Users\\El\\.expo\\bandzWallet\\node_modules\\crypto\\index.js</code>. Indeed, none of these files exist:</p>\n\n<ul>\n<li><code>C:\\Users\\El\\.expo\\bandzWallet\\node_modules\\crypto\\index.js(.native||.ios.js|.native.js|.js|.ios.json|.native.json|.json|.ios.ts|.native.ts|.ts|.ios.tsx|.native.tsx|.tsx)</code></li>\n<li><p><code>C:\\Users\\El\\.expo\\bandzWallet\\node_modules\\crypto\\index.js\\index(.native||.ios.js|.native.js|.js|.ios.json|.native.json|.json|.ios.ts|.native.ts|.ts|.ios.tsx|.native.tsx|.tsx)</code>\nFailed building JavaScript bundle.\nCannot read property 'status' of undefined</p>\n\n<p>\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst random = (count) => {\n    if (isBrowser) {\n        const arr = new Uint8Array(count);\n        const crypto = (global.crypto || global.msCrypto);\n        crypto.getRandomValues(arr);\n        return arr;\n    }\n    const crypto = require('crypto');\n    return Uint8Array.from(crypto.randomBytes(count));\n};\nconst ensureBuffer = () => {\n    try {\n        const b = new Buffer(1);\n    }\n    catch (e) {\n        throw new Error('Buffer not supported in this environment. Use Node.js or Browserify for browser support.');\n    }\n};\nconst isBrowser = typeof window !== 'undefined' &amp;&amp; ({}).toString.call(window) === '[object Window]';\nexports.secureRandom = (count, type) => {\n    switch (type) {\n        case 'Array8':\n            return Array.from(random(count));\n        case 'Array16':\n            return Array.from(exports.secureRandom(count, 'Uint16Array'));\n        case 'Array32':\n            return Array.from(exports.secureRandom(count, 'Uint32Array'));\n        case 'Buffer':\n            ensureBuffer();\n            return Buffer.from(random(count));\n        case 'Uint8Array':\n            return random(count);\n        case 'Uint16Array':\n            return new Uint16Array(count)\n                .map(_ => random(2).reduce((a, b, i) => a | b &lt;&lt; 8 * (1 - i), 0));\n        case 'Uint32Array':\n            return new Uint32Array(count)\n                .map(_ => random(4).reduce((a, b, i) => a | b &lt;&lt; 8 * (1 - i), 0));\n        default:\n            throw new Error(type + ' is unsupported.');\n    }\n};\n//# sourceMappingURL=random.js.map</p></li>\n</ul>\n\n<p>i am trying to use @waves/waves-crypto to create a wallet adderss and seed on the testnet.</p>\n\n<p>I am using React Native and Expo cli</p>\n"}, {"tags": ["javascript", "automated-tests", "cucumber", "gherkin", "testcafe"], "comments": [{"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "edited": false, "score": 0, "creation_date": 1560370819, "post_id": 56569494, "comment_id": 99718730, "body": "have you named the webdriver as <code>driver</code> or <code>browser</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 7566197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SpC8U.jpg?s=128&g=1", "display_name": "Lucy", "link": "https://stackoverflow.com/users/7566197/lucy"}, "edited": false, "score": 0, "creation_date": 1560438120, "post_id": 56572629, "comment_id": 99744830, "body": "Thats correct, but my concern is where the driver variable is geted. Do i need to install something, like a webdriver?"}, {"owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "reply_to_user": {"reputation": 23, "user_id": 7566197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SpC8U.jpg?s=128&g=1", "display_name": "Lucy", "link": "https://stackoverflow.com/users/7566197/lucy"}, "edited": false, "score": 0, "creation_date": 1560441499, "post_id": 56572629, "comment_id": 99746856, "body": "Do you see the browser opened when you run the test? If yes, then you have to use the WebDriver instance name from that step."}], "tags": [], "owner": {"reputation": 12118, "user_id": 4714829, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fd1b66c22707be26afda19fe995e17ea?s=128&d=identicon&r=PG&f=1", "display_name": "supputuri", "link": "https://stackoverflow.com/users/4714829/supputuri"}, "is_accepted": false, "score": 1, "last_activity_date": 1560393236, "creation_date": 1560393236, "answer_id": 56572629, "question_id": 56569494, "link": "https://stackoverflow.com/questions/56569494/how-to-take-screenshot-in-gherkin-cucumber-using-testace-as-a-framework/56572629#56572629", "title": "How to take screenShot in gherkin-cucumber using testace as a framework?", "body": "<p>Try the below. Make sure to match the webdriver var name matched as per your usage.</p>\n\n<pre><code>var {After, Status} = require('cucumber');\n\nAfter(function (testCase) {\n  var world = this;\n  if (testCase.result.status === Status.FAILED) {\n    // driver- update this with the correct webDriver variable\n    return driver.takeScreenshot().then(function(screenShot) {\n      // screenShot is a base-64 encoded PNG\n      world.attach(screenShot, 'image/png');\n    });\n  }\n});\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 7566197, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SpC8U.jpg?s=128&g=1", "display_name": "Lucy", "link": "https://stackoverflow.com/users/7566197/lucy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 77, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1563286181, "creation_date": 1560369159, "last_edit_date": 1563286181, "question_id": 56569494, "link": "https://stackoverflow.com/questions/56569494/how-to-take-screenshot-in-gherkin-cucumber-using-testace-as-a-framework", "title": "How to take screenShot in gherkin-cucumber using testace as a framework?", "body": "<p>I\u00b4m trying to take a screenshot after a step failed:</p>\n\n<pre><code>const { After } = require('cucumber');\n\nAfter(function (scenario) {\n    if (scenario.result.status ==='failed') {\n        var world = this;\n        return browser.takeScreenshot().then(function(screenShot, error) {\n            if (!error) {\n                world.attach(screenShot, \"image/png\");\n            }\n        });\n    }\n  });\n</code></pre>\n\n<p>It shows me an error with the browser:\nReferenceError: browser is not defined</p>\n"}, {"tags": ["javascript", "jquery", "dom"], "owner": {"reputation": 369, "user_id": 5882805, "user_type": "registered", "accept_rate": 39, "profile_image": "https://www.gravatar.com/avatar/88addb5bdb1f56d011011faa14d13dc2?s=128&d=identicon&r=PG&f=1", "display_name": "mheonyae", "link": "https://stackoverflow.com/users/5882805/mheonyae"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1560370841, "creation_date": 1560369052, "last_edit_date": 1560370841, "question_id": 56569475, "link": "https://stackoverflow.com/questions/56569475/merge-children-of-elements-if-they-have-same-content", "title": "Merge children of elements if they have same content", "body": "<p>I have a list that is nested, each level has some text and a list nested inside of it. I have to check on each level if the text is the same - if so, i want to merge elements together, so text wont repeat.</p>\n\n<p>my HTML:</p>\n\n<pre><code>&lt;ul class=\"ordered-cat\"&gt;\n    &lt;li class=\"item-0 level-0-0\"&gt;\n        &lt;span class=\"text\"&gt;dom&lt;/span&gt;\n        &lt;ul class=\"inner\"&gt;\n            &lt;li class=\"item-1 level-1-1\"&gt;\n                &lt;span class=\"text\"&gt;kuh&lt;/span&gt;\n                &lt;ul class=\"inner\"&gt;\n                    &lt;li class=\"item-2 level-2-2\"&gt;\n                        &lt;span class=\"text\"&gt;nap&lt;/span&gt;\n                    &lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n    &lt;li class=\"item-0 level-1-0\"&gt;\n        &lt;span class=\"text\"&gt;dom&lt;/span&gt;\n        &lt;ul class=\"inner\"&gt;\n            &lt;li class=\"item-2 level-2-1\"&gt;\n                &lt;span class=\"text\"&gt;kuh&lt;/span&gt;\n                &lt;ul class=\"inner\"&gt;\n                    &lt;li class=\"item-3 level-3-2\"&gt;\n                        &lt;span class=\"text\"&gt;pri&lt;/span&gt;\n                    &lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n    &lt;li class=\"item-0 level-2-0\"&gt;\n        &lt;span class=\"text\"&gt;dom&lt;/span&gt;\n        &lt;ul class=\"inner\"&gt;\n            &lt;li class=\"item-3 level-3-1\"&gt;\n                &lt;span class=\"text\"&gt;kuh&lt;/span&gt;\n                &lt;ul class=\"inner\"&gt;\n                    &lt;li class=\"item-4 level-4-2\"&gt;\n                        &lt;span class=\"text\"&gt;pripi&lt;/span&gt;\n                    &lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>expected result:</p>\n\n<pre><code>&lt;ul class=\"ordered-cat\"&gt;\n    &lt;li class=\"item-0 level-0-0\"&gt;\n        &lt;span class=\"text\"&gt;dom&lt;/span&gt;\n        &lt;ul class=\"inner\"&gt;\n            &lt;li class=\"item-1 level-1-1\"&gt;\n                &lt;span class=\"text\"&gt;kuh&lt;/span&gt;\n                &lt;ul class=\"inner\"&gt;\n                    &lt;li class=\"item-2 level-2-2\"&gt;\n                        &lt;span class=\"text\"&gt;nap&lt;/span&gt;\n                    &lt;/li&gt;\n                    &lt;li class=\"item-3 level-3-2\"&gt;\n                        &lt;span class=\"text\"&gt;pri&lt;/span&gt;\n                    &lt;/li&gt;\n                    &lt;li class=\"item-4 level-4-2\"&gt;\n                        &lt;span class=\"text\"&gt;pripi&lt;/span&gt;\n                    &lt;/li&gt;\n                &lt;/ul&gt;\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/li&gt;\n&lt;/ul&gt;\n</code></pre>\n\n<p>my jquery attempt:</p>\n\n<pre><code>function cleanMore() {\n    for (i = 0; i &lt; 7; i++) {\n        var myarray = [];\n        $('.item-' + i + '').each(function () {\n            var beseda = $(this).children('.text').text();\n            if (jQuery.inArray(beseda, myarray) !== -1) {\n                myarray.push(beseda);\n            }\n        });\n        for (j = 0; j &lt; myarray.length; j++) {\n            $('.item-' + i + '').each(function () {\n                if () { }\n            });\n        }\n    }\n}\n</code></pre>\n\n<p>I attempted by going through each level sepparatelly and check their content, but i got stuck at the part where i had to check for duplicated and merge them together into 1 element.</p>\n"}, {"tags": ["javascript", "reactjs", "redux", "promise"], "answers": [{"comments": [{"owner": {"reputation": 2277, "user_id": 1269907, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1cd634e0f6590886de9c295374622358?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/1269907/afshin"}, "edited": false, "score": 0, "creation_date": 1560370555, "post_id": 56569623, "comment_id": 99718624, "body": "I don&#39;t want to polute my component. Do I have to do that?"}, {"owner": {"reputation": 7454, "user_id": 93812, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/T5fjc.jpg?s=128&g=1", "display_name": "Will Jenkins", "link": "https://stackoverflow.com/users/93812/will-jenkins"}, "reply_to_user": {"reputation": 2277, "user_id": 1269907, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1cd634e0f6590886de9c295374622358?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/1269907/afshin"}, "edited": false, "score": 0, "creation_date": 1560370871, "post_id": 56569623, "comment_id": 99718750, "body": "No, not if you&#39;re using redux. You can trigger the channel fetching wherever you like and dispatch an action to pop it in the store and then get it in your Component via <code>connect()</code>"}, {"owner": {"reputation": 2277, "user_id": 1269907, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1cd634e0f6590886de9c295374622358?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/1269907/afshin"}, "edited": false, "score": 0, "creation_date": 1560371320, "post_id": 56569623, "comment_id": 99718928, "body": "I&#39;m doing it right now. Re-check my component part in code"}, {"owner": {"reputation": 7454, "user_id": 93812, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/T5fjc.jpg?s=128&g=1", "display_name": "Will Jenkins", "link": "https://stackoverflow.com/users/93812/will-jenkins"}, "reply_to_user": {"reputation": 2277, "user_id": 1269907, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1cd634e0f6590886de9c295374622358?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/1269907/afshin"}, "edited": false, "score": 0, "creation_date": 1560371424, "post_id": 56569623, "comment_id": 99718979, "body": "ah cool, well in that case you&#39;re free to trigger your api call wherever you like (but you&#39;ll need access to the store via dispatch, so somewhere inside your <code>&lt;Provider&gt;</code>"}, {"owner": {"reputation": 14231, "user_id": 1218980, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/75c6b54df38abce7b1c35f499a1d4a67?s=128&d=identicon&r=PG", "display_name": "Emile Bergeron", "link": "https://stackoverflow.com/users/1218980/emile-bergeron"}, "reply_to_user": {"reputation": 2277, "user_id": 1269907, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1cd634e0f6590886de9c295374622358?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/1269907/afshin"}, "edited": false, "score": 0, "creation_date": 1560373223, "post_id": 56569623, "comment_id": 99719629, "body": "@Afshin The way to do it would be in your action, and I see that you&#39;re already using thunk-actions so it would be a matter of calling the <code>getChannels</code> function from your <code>channelService</code> file inside your <code>getChannels</code> action. So your action stays super simple, isolating the fetching logic to your service file like you already do right now."}, {"owner": {"reputation": 7454, "user_id": 93812, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/T5fjc.jpg?s=128&g=1", "display_name": "Will Jenkins", "link": "https://stackoverflow.com/users/93812/will-jenkins"}, "edited": false, "score": 0, "creation_date": 1560374842, "post_id": 56569623, "comment_id": 99720093, "body": "Good shout, have added it as an option"}], "tags": [], "owner": {"reputation": 7454, "user_id": 93812, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/T5fjc.jpg?s=128&g=1", "display_name": "Will Jenkins", "link": "https://stackoverflow.com/users/93812/will-jenkins"}, "is_accepted": false, "score": 1, "last_activity_date": 1560374599, "last_edit_date": 1560374599, "creation_date": 1560369843, "answer_id": 56569623, "question_id": 56569474, "link": "https://stackoverflow.com/questions/56569474/cant-resolve-axios-promise-in-redux-reducer-function/56569623#56569623", "title": "Can&#39;t resolve axios promise in redux reducer function", "body": "<p>You can't call <code>getChannels()</code> in your reducer because it is an async function and your reducer is synchronous. However, you can dispatch your action after your api response comes back</p>\n\n<pre><code>export const getChannels = (dispatch) =&gt; {\n    const token = \"token\";\n    axios\n        .get(`https://slack.com/api/conversations.list?token=${token}`)\n        .then(response =&gt; {\n            dispatch(//your action here... )\n        });\n};\n</code></pre>\n\n<p>Call this from within your component and pass in dispatch.</p>\n\n<p>You could alternatively modify your existing action as suggested by Emile:</p>\n\n<pre><code>  export const getChannels = () =&gt; dispatch =&gt; {\n     const token = \"token\";\n     axios\n        .get(`https://slack.com/api/conversations.list?token=${token}`)\n        .then(response =&gt; {\n            dispatch({\n                 type: actionTypes.GET_CHANNELS, \n                 payload: response.data\n               })\n        });\n    };    \n };\n</code></pre>\n"}], "owner": {"reputation": 2277, "user_id": 1269907, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/1cd634e0f6590886de9c295374622358?s=128&d=identicon&r=PG&f=1", "display_name": "Afshin", "link": "https://stackoverflow.com/users/1269907/afshin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1560374599, "creation_date": 1560369050, "last_edit_date": 1560373260, "question_id": 56569474, "link": "https://stackoverflow.com/questions/56569474/cant-resolve-axios-promise-in-redux-reducer-function", "title": "Can&#39;t resolve axios promise in redux reducer function", "body": "<p>I am trying to get channels list from slack api and store them in redux store and react.</p>\n\n<p>axios is getting a [[PromiseValue]] which I can not get the objects in it:</p>\n\n<p>reducer file:</p>\n\n<pre><code>import * as actionTypes from \"../actions/types\";\nimport { getChannels } from \"./../services/channelService\";\n\nconst channelsReducer = (state = getChannels(), action) =&gt; {\n    switch (action.type) {\n        case actionTypes.GET_CHANNELS:\n            return state;\n\n        default:\n            return state;\n    }\n};\n</code></pre>\n\n<p>channelService.js file:</p>\n\n<pre><code>import axios from \"axios\";\n\nexport const getChannels = async () =&gt; {\n    const token =\n        \"token\";\n    return await axios\n        .get(`https://slack.com/api/conversations.list?token=${token}`)\n        .then(response =&gt; {\n            return response.data;\n        });\n};\n</code></pre>\n\n<p>action.js file:</p>\n\n<pre><code>import * as actionTypes from \"./types\";\n\nexport const getChannels = () =&gt; async dispatch =&gt; {\n    dispatch({\n        type: actionTypes.GET_CHANNELS\n    });\n};\n</code></pre>\n\n<p>and my component file:</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport * as actions from \"./../actions/channelsActions\";\n\nclass Navbar extends Component {\n    state = {};\n    componentDidMount() {}\n    render() {\n        console.log(this.props.channels);\n    }\n}\n\nconst mapStateToProps = state =&gt; {\n    return {\n        channels: state.channels\n    };\n};\n\nconst mapDispatchToProps = dispatch =&gt; {\n    return bindActionCreators(actions, dispatch);\n};\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Navbar);\n</code></pre>\n\n<p>How can I access objects inside this promise from axios?</p>\n"}]