[{"tags": ["javascript", "prebid.js"], "comments": [{"owner": {"reputation": 464, "user_id": 2162522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/LPDX4.jpg?s=128&g=1", "display_name": "gcfabri", "link": "https://stackoverflow.com/users/2162522/gcfabri"}, "edited": false, "score": 1, "creation_date": 1568246582, "post_id": 57898114, "comment_id": 102217119, "body": "It could be helpful: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Using_promises\" rel=\"nofollow noreferrer\">Using Promises</a>"}, {"owner": {"reputation": 262, "user_id": 11178615, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2d6ys.png?s=128&g=1", "display_name": "codedawi", "link": "https://stackoverflow.com/users/11178615/codedawi"}, "edited": false, "score": 0, "creation_date": 1568247588, "post_id": 57898114, "comment_id": 102217318, "body": "Yes I agree using a Promise would work. You can still use callbacks in this situation but you need to structure your currently callback/implementation differently. You might find yourself in callback hell as you add features to this code."}], "owner": {"reputation": 491, "user_id": 10686893, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GBzPa4nDcjY/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hIpyhONoCQuNmzRYwzuV6JonF2Fw/mo/photo.jpg?sz=128", "display_name": "schoenbl", "link": "https://stackoverflow.com/users/10686893/schoenbl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 27, "favorite_count": 0, "closed_date": 1568265301, "answer_count": 0, "score": 1, "last_activity_date": 1568246393, "creation_date": 1568246393, "question_id": 57898114, "link": "https://stackoverflow.com/questions/57898114/wait-to-return-function-until-operation-is-complete", "closed_reason": "Duplicate", "title": "Wait to return function until operation is complete", "body": "<p>I need to have currentFunction wait to return its request until baseUrl has executed.</p>\n\n<p>The issue that I have is that adsRequest returns in currentFunction before baseUrl executes.</p>\n\n<pre><code>currentFunction function(){\n...\n     let base = []     \n\n     function baseUrl(url){\n        base.push(url)\n      };\n\n        pbjs.requestBids({\n          timeout: 2000,\n          //callback that executes when all the bid responses are back or the timeout hits\n          //the callback receives two parameters\n          bidsBackHandler : function(bids, timeout) {\n            console.log(bids)\n            console.log(timeout)\n            var videoUrl = pbjs.adServers.dfp.buildVideoUrl({\n              adUnit: videoAdUnit,\n              params: {\n                iu: '/188641797/video/test'\n              }\n            });\n            baseUrl(videoUrl)\n          }\n        });\n      });\n\n     adsRequest.adTagUrl = `${base[0]}${targetingQueryParams}`;\n\n     return adsRequest;\n}\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1568246658, "post_id": 57898092, "comment_id": 102217129, "body": "Code works perfectly fine since you edited it: <a href=\"https://jsfiddle.net/khrismuc/qr5fegLj/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/qr5fegLj</a>"}, {"owner": {"reputation": 1461, "user_id": 11700321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REacU.jpg?s=128&g=1", "display_name": "EGC", "link": "https://stackoverflow.com/users/11700321/egc"}, "edited": false, "score": 1, "creation_date": 1568247109, "post_id": 57898092, "comment_id": 102217223, "body": "Are you able to post your entire code? If you&#39;re having weird errors it may be better to analyse the whole thing. + theres no chance you&#39;re missing a closing &#39;;&#39; right ? ;)"}], "answers": [{"comments": [{"owner": {"reputation": 375, "user_id": 4609277, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/10203526150460020/picture?type=large", "display_name": "Drew Peer", "link": "https://stackoverflow.com/users/4609277/drew-peer"}, "edited": false, "score": 0, "creation_date": 1568246487, "post_id": 57898109, "comment_id": 102217094, "body": "It still doesn&#39;t work  with string = string.replace(&#39; &#39;, &#39;, &#39;);  -strange"}, {"owner": {"reputation": 2336, "user_id": 7389264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160900497f0373247800b2ad89798e32?s=128&d=identicon&r=PG&f=1", "display_name": "jirassimok", "link": "https://stackoverflow.com/users/7389264/jirassimok"}, "reply_to_user": {"reputation": 375, "user_id": 4609277, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/10203526150460020/picture?type=large", "display_name": "Drew Peer", "link": "https://stackoverflow.com/users/4609277/drew-peer"}, "edited": false, "score": 0, "creation_date": 1568246560, "post_id": 57898109, "comment_id": 102217108, "body": "Then it sounds like you have some other problem going on. Is there an extra comma somewhere else in your code?"}, {"owner": {"reputation": 683, "user_id": 6923695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf910dfedaffbb54ee21ef3b3ad4224?s=128&d=identicon&r=PG&f=1", "display_name": "Glen K", "link": "https://stackoverflow.com/users/6923695/glen-k"}, "edited": false, "score": 4, "creation_date": 1568246628, "post_id": 57898109, "comment_id": 102217124, "body": "using string replace will only replace the first instance.. you have to use regex /g to replace all instances, look at Rob&#39;s answers"}, {"owner": {"reputation": 2336, "user_id": 7389264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160900497f0373247800b2ad89798e32?s=128&d=identicon&r=PG&f=1", "display_name": "jirassimok", "link": "https://stackoverflow.com/users/7389264/jirassimok"}, "reply_to_user": {"reputation": 683, "user_id": 6923695, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0cf910dfedaffbb54ee21ef3b3ad4224?s=128&d=identicon&r=PG&f=1", "display_name": "Glen K", "link": "https://stackoverflow.com/users/6923695/glen-k"}, "edited": false, "score": 0, "creation_date": 1568308262, "post_id": 57898109, "comment_id": 102242554, "body": "@GlenK Noted; I&#39;ve removed the second line."}], "tags": [], "owner": {"reputation": 2336, "user_id": 7389264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160900497f0373247800b2ad89798e32?s=128&d=identicon&r=PG&f=1", "display_name": "jirassimok", "link": "https://stackoverflow.com/users/7389264/jirassimok"}, "is_accepted": true, "score": 3, "last_activity_date": 1568308137, "last_edit_date": 1568308137, "creation_date": 1568246337, "answer_id": 57898109, "question_id": 57898092, "link": "https://stackoverflow.com/questions/57898092/how-do-i-replace-spaces-with-a-comma-and-then-a-space-in-jquery/57898109#57898109", "title": "How do I replace spaces with a comma and then a space in jquery?", "body": "<p>If you don't include <code>let</code> in front of the second expression, it should work as-is. You can't declare a variable with <code>let</code> (or <code>var</code>) twice.</p>\n"}, {"tags": [], "owner": {"reputation": 9082, "user_id": 491950, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/iMzU9.jpg?s=128&g=1", "display_name": "Rob", "link": "https://stackoverflow.com/users/491950/rob"}, "is_accepted": false, "score": 1, "last_activity_date": 1568246543, "creation_date": 1568246543, "answer_id": 57898121, "question_id": 57898092, "link": "https://stackoverflow.com/questions/57898092/how-do-i-replace-spaces-with-a-comma-and-then-a-space-in-jquery/57898121#57898121", "title": "How do I replace spaces with a comma and then a space in jquery?", "body": "<p>Try:</p>\n\n<pre><code>string = string.replace(/\\s/g, ', ');\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1568246827, "post_id": 57898142, "comment_id": 102217168, "body": "Why include script tags, jQuery and reference HTML elements that aren&#39;t actually present?"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1568247000, "post_id": 57898142, "comment_id": 102217202, "body": "While you&#39;re at it, why not turn it into an actual working snippet? And you don&#39;t need jQuery at all here. Keep it simple. The question is moot anyway, since OP&#39;s code works fine."}, {"owner": {"reputation": 375, "user_id": 4609277, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/10203526150460020/picture?type=large", "display_name": "Drew Peer", "link": "https://stackoverflow.com/users/4609277/drew-peer"}, "edited": false, "score": 0, "creation_date": 1568247015, "post_id": 57898142, "comment_id": 102217204, "body": "yeah it works, on there. I&#39;m not sure what&#39;s going on. I may have to update my code."}, {"owner": {"reputation": 1461, "user_id": 11700321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REacU.jpg?s=128&g=1", "display_name": "EGC", "link": "https://stackoverflow.com/users/11700321/egc"}, "edited": false, "score": 0, "creation_date": 1568247068, "post_id": 57898142, "comment_id": 102217212, "body": "I&#39;ve just punched it in as pure JQuery, now you can copy pasta it into <a href=\"https://jsfiddle.net/\" rel=\"nofollow noreferrer\">jsfiddle.net</a> with an alert for formattedString to see the result if you like"}], "tags": [], "owner": {"reputation": 1461, "user_id": 11700321, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/REacU.jpg?s=128&g=1", "display_name": "EGC", "link": "https://stackoverflow.com/users/11700321/egc"}, "is_accepted": false, "score": 0, "last_activity_date": 1568247030, "last_edit_date": 1568247030, "creation_date": 1568246711, "answer_id": 57898142, "question_id": 57898092, "link": "https://stackoverflow.com/questions/57898092/how-do-i-replace-spaces-with-a-comma-and-then-a-space-in-jquery/57898142#57898142", "title": "How do I replace spaces with a comma and then a space in jquery?", "body": "<p>I tested this code and it appears to work perfectly fine! </p>\n\n<pre><code>var string = \"blah blah blah\";\nvar formattedString = string.replace(/ /g, ', ');\n</code></pre>\n"}], "owner": {"reputation": 375, "user_id": 4609277, "user_type": "registered", "accept_rate": 88, "profile_image": "https://graph.facebook.com/10203526150460020/picture?type=large", "display_name": "Drew Peer", "link": "https://stackoverflow.com/users/4609277/drew-peer"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 45, "favorite_count": 0, "accepted_answer_id": 57898109, "answer_count": 3, "score": -1, "last_activity_date": 1568308137, "creation_date": 1568246169, "last_edit_date": 1568248074, "question_id": 57898092, "link": "https://stackoverflow.com/questions/57898092/how-do-i-replace-spaces-with-a-comma-and-then-a-space-in-jquery", "title": "How do I replace spaces with a comma and then a space in jquery?", "body": "<p>I'm copying some html into a textarea and trying to format the current textarea from having a div h3, and h3, <code>&lt;ul&gt; and &lt;li&gt;</code> tags.</p>\n\n<pre><code>// the part being copied and outputs in the textarea like this\n&lt;div class=\"comment\" id=\"comment-11\"&gt;\n     &lt;h3&gt;Comments:&lt;/h3&gt;\n      &lt;ul&gt;\n        &lt;li&gt;comment1&lt;/li&gt;\n         &lt;li&gt;comment2&lt;/li&gt;\n      &lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>My code:</p>\n\n<pre><code>   $(\".approve-group\").click(function(){\n       let id = this.id;\n       let num = id.replace(/[^\\d]+/, ''); // get the number only\n       let comment = $(\"#comment-\"+num).html();\n       comment = comment.trim();\n\n       // I'm trying to strip out all the html and make the comment read comment 1, comment 2 and this is the worst part of my code probably where the bug lies.\n       comment = comment.replace('Comments:','');\n       comment = comment.replace(\"&lt;h3&gt;&lt;/h3&gt;\",\"\");\n       comment = comment.replace(\"&lt;ul&gt;\",\"\");\n       comment = comment.replace(\"&lt;/ul&gt;\",\"\");\n       comment = comment.replace(\"&lt;/li&gt;\",\",\");\n       comment = comment.replace(\"&lt;li&gt;\",\"\");\n       comment = comment.replace(/ /g, ', '); // this is where the error is.\n\n       $(\"#loc-comment\").val(comment); //copies to my textarea\n\n\n\n    }); \n</code></pre>\n\n<p>I'm trying to get it to read</p>\n\n<pre><code>output: comment1, comment2\n</code></pre>\n\n<p>I've tried this but it doesn't work.</p>\n\n<pre><code>string = string.replace(/ /g,', ');\n</code></pre>\n\n<p>Error Uncaught Error: Syntax error, unrecognized expression: , </p>\n\n<p>Thanks guys</p>\n"}, {"tags": ["javascript", "html", "css", "angular"], "comments": [{"owner": {"reputation": 227, "user_id": 8549551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c6Lpw.jpg?s=128&g=1", "display_name": "Saranya Garimella", "link": "https://stackoverflow.com/users/8549551/saranya-garimella"}, "edited": false, "score": 0, "creation_date": 1568246441, "post_id": 57898085, "comment_id": 102217090, "body": "Can you explain a little more about your requirement? you want to see search bar even after which screen is minimized?"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11767946"}, "reply_to_user": {"reputation": 227, "user_id": 8549551, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/c6Lpw.jpg?s=128&g=1", "display_name": "Saranya Garimella", "link": "https://stackoverflow.com/users/8549551/saranya-garimella"}, "edited": false, "score": 0, "creation_date": 1568247508, "post_id": 57898085, "comment_id": 102217301, "body": "no i would like to see the search icon. Please click on the link, you will see the search icon"}], "answers": [{"tags": [], "owner": {"reputation": 814, "user_id": 7796081, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ac85ac0afd6ce58dc528f70c500101d?s=128&d=identicon&r=PG&f=1", "display_name": "stayingcool", "link": "https://stackoverflow.com/users/7796081/stayingcool"}, "is_accepted": false, "score": 0, "last_activity_date": 1568249817, "last_edit_date": 1568249817, "creation_date": 1568248651, "answer_id": 57898319, "question_id": 57898085, "link": "https://stackoverflow.com/questions/57898085/how-to-make-button-show-when-minimizing-screen/57898319#57898319", "title": "How to make button show when minimizing screen?", "body": "<p>You can use flex box and use wrap functionality:\n<a href=\"https://css-tricks.com/almanac/properties/f/flex-wrap/\" rel=\"nofollow noreferrer\">https://css-tricks.com/almanac/properties/f/flex-wrap/</a></p>\n\n<p><strong>flex-wrap:</strong> nowrap | wrap | wrap-reverse</p>\n\n<p><strong>CSS</strong></p>\n\n<pre><code>.flex-container {\n  flex-wrap: wrap;\n}\n</code></pre>\n\n<p>Look at their code pen that demonstrates how the wrap works when the screen size reduces (I think you mentioned it as minimized) the search will jump to the next line (wrap):\n<a href=\"https://codepen.io/team/css-tricks/pen/1ea1ef35d942d0041b0467b4d39888d3\" rel=\"nofollow noreferrer\">https://codepen.io/team/css-tricks/pen/1ea1ef35d942d0041b0467b4d39888d3</a></p>\n\n<p>From <strong>mat-toolbar</strong> perspective on how to Positioning toolbar content:\nThe toolbar does not perform any positioning of its content. This gives the user full power to position the content as it suits their application.</p>\n\n<p>A common pattern is to position a title on the left with some actions on the right. This can be easily accomplished with display: flex:</p>\n\n<p>CSS &amp; HTML</p>\n\n<pre><code>.example-fill-remaining-space {\n  /* This fills the remaining space, by using flexbox. \n     Every toolbar row uses a flexbox row layout. */\n  flex: 1 1 auto;\n}\n\n\n&lt;mat-toolbar color=\"primary\"&gt;\n  &lt;span&gt;Application Title&lt;/span&gt;\n  &lt;!-- This fills the remaining space of the current row --&gt;\n  &lt;span class=\"example-fill-remaining-space\"&gt;&lt;/span&gt;\n  &lt;span&gt;Right Aligned Text&lt;/span&gt;\n&lt;/mat-toolbar&gt;\n</code></pre>\n\n<p><a href=\"https://material.angular.io/components/toolbar/overview#positioning-toolbar-content\" rel=\"nofollow noreferrer\">https://material.angular.io/components/toolbar/overview#positioning-toolbar-content</a></p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11767946"}, "edited": false, "score": 0, "creation_date": 1568306470, "post_id": 57899590, "comment_id": 102241813, "body": "Thank you; this helped! The key was setting the display."}], "tags": [], "owner": {"reputation": 187, "user_id": 6852803, "user_type": "registered", "profile_image": "https://graph.facebook.com/858456917623114/picture?type=large", "display_name": "9841pratik", "link": "https://stackoverflow.com/users/6852803/9841pratik"}, "is_accepted": true, "score": 0, "last_activity_date": 1568261175, "creation_date": 1568261175, "answer_id": 57899590, "question_id": 57898085, "link": "https://stackoverflow.com/questions/57898085/how-to-make-button-show-when-minimizing-screen/57899590#57899590", "title": "How to make button show when minimizing screen?", "body": "<p>Try adding flex-wrap property to the parent as like:</p>\n\n<pre><code>nav {\n    display: flex;\n    flex-wrap: wrap;\n}\n</code></pre>\n\n<p>Also,remove fixed height to navbar :</p>\n\n<pre><code>@media (max-width: 599px){\n    .mat-toolbar-row, .mat-toolbar-single-row {\n        height: auto !important; \n    }\n}\n</code></pre>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11767946"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 105, "favorite_count": 0, "accepted_answer_id": 57899590, "answer_count": 2, "score": 0, "last_activity_date": 1568261175, "creation_date": 1568246123, "question_id": 57898085, "link": "https://stackoverflow.com/questions/57898085/how-to-make-button-show-when-minimizing-screen", "title": "How to make button show when minimizing screen?", "body": "<p>I would like the search icon to show all the time even when the screen is minimized. \nAs you can see, when you minimize the screen, the search icon hides. </p>\n\n<p>How can I make it show using CSS?</p>\n\n<p>Please see example:\n<a href=\"https://stackblitz.com/edit/navbar-stackoverflow?file=app%2Fapp.component.html\" rel=\"nofollow noreferrer\">Stackblitz</a></p>\n"}, {"tags": ["javascript", "jquery", "bootstrap-4"], "comments": [{"owner": {"reputation": 7287, "user_id": 3824283, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5l7OG.jpg?s=128&g=1", "display_name": "EternalHour", "link": "https://stackoverflow.com/users/3824283/eternalhour"}, "edited": false, "score": 0, "creation_date": 1568245946, "post_id": 57898060, "comment_id": 102216996, "body": "You are not sending anything to the server. You either need to prepend a query string to the url (?item1=1&amp;item2=2) or you need to specify <code>data</code> when you send the ajax call. We will need your php script also."}, {"owner": {"reputation": 6091, "user_id": 933198, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/25a22103fd3210fdfa142843c7777ff1?s=128&d=identicon&r=PG", "display_name": "Lee Taylor", "link": "https://stackoverflow.com/users/933198/lee-taylor"}, "edited": false, "score": 0, "creation_date": 1568246190, "post_id": 57898060, "comment_id": 102217045, "body": "If you run <code>getAllAddresses.php</code> in your browser what result do you get? Please add to your question."}, {"owner": {"reputation": 29, "user_id": 480911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db3b5b031eeef8bac0a6413d6fd6a1e?s=128&d=identicon&r=PG", "display_name": "new2code", "link": "https://stackoverflow.com/users/480911/new2code"}, "edited": false, "score": 1, "creation_date": 1568246535, "post_id": 57898060, "comment_id": 102217104, "body": "It adds all the addresses as JSON.  It works in other places."}], "answers": [{"comments": [{"owner": {"reputation": 29, "user_id": 480911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db3b5b031eeef8bac0a6413d6fd6a1e?s=128&d=identicon&r=PG", "display_name": "new2code", "link": "https://stackoverflow.com/users/480911/new2code"}, "edited": false, "score": 0, "creation_date": 1568246802, "post_id": 57898108, "comment_id": 102217161, "body": "Yea, I improved your answer.  $(&#39;#addressEditSelector&#39;).append($(&#39;&lt;option&gt;&#39;).text(message)&zwnj;&#8203;.val(address.id)); \t\t\t\t\t$(&#39;#addAddressSelector&#39;).append($(&#39;&lt;option&gt;&#39;).text(mess&zwnj;&#8203;age).val(address.id)&zwnj;&#8203;);"}], "tags": [], "owner": {"reputation": 339, "user_id": 11481911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d4ffd66240439bb9e97191fda1f42ab4?s=128&d=identicon&r=PG&f=1", "display_name": "Ezphares", "link": "https://stackoverflow.com/users/11481911/ezphares"}, "is_accepted": true, "score": 0, "last_activity_date": 1568246334, "creation_date": 1568246334, "answer_id": 57898108, "question_id": 57898060, "link": "https://stackoverflow.com/questions/57898060/jquery-function-seems-to-update-selector-but-no-items-are-displayed/57898108#57898108", "title": "JQuery function seems to update selector, but no items are displayed", "body": "<p>For text to be rendered inside a <code>&lt;select&gt;</code> you should put in an <code>&lt;option&gt;</code> tag.</p>\n\n<p>Append the data using:</p>\n\n<pre><code>$('#addressEditSelector').append($('&lt;option&gt;').text(message));\n$('#addAddressSelector').append($('&lt;option&gt;').text(message));\n</code></pre>\n\n<p><a href=\"https://www.w3schools.com/tags/tag_select.asp\" rel=\"nofollow noreferrer\">This</a> w3schools entry has more info about the <code>&lt;select&gt;</code> tag</p>\n"}], "owner": {"reputation": 29, "user_id": 480911, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1db3b5b031eeef8bac0a6413d6fd6a1e?s=128&d=identicon&r=PG", "display_name": "new2code", "link": "https://stackoverflow.com/users/480911/new2code"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 22, "favorite_count": 0, "accepted_answer_id": 57898108, "answer_count": 1, "score": 0, "last_activity_date": 1568246334, "creation_date": 1568245709, "question_id": 57898060, "link": "https://stackoverflow.com/questions/57898060/jquery-function-seems-to-update-selector-but-no-items-are-displayed", "title": "JQuery function seems to update selector, but no items are displayed", "body": "<p>I have a function within document that appears to be called and retrieval from the database appears to work (At this moment I only have 1 item in the database so I can't fully say it works).  I have it append to these selectors on the html page, but I see no updates.  </p>\n\n<p>Here is the following javascript:</p>\n\n<pre><code>function loadAddresses() {\n$.ajax({\n    url: \"getAllAddresses.php\",\n    type: \"get\",\n    datatype: \"json\",\n        success: function(data) {\n    if (data != null) {\n        $('#addressEditSelector').empty();\n        $('#addAddressSelector').empty();\n        data.forEach(function(address) {\n            var message = address.address1;\n            if (address.address2 != null) message += \" \" + address.address2;\n            message += \" \" + address.city + \", \" + address.state;\n            message += \" \" + address.zipcode;\n            $('#addressEditSelector').append(message);\n            $('#addAddressSelector').append(message);\n        });\n        }\n    }   \n});\n}\n$(document).ready(function() {\n\n// load addresses ahead of time\n\nloadAddresses();\n    ...\n}\n</code></pre>\n\n<p>I have the following selectors in the html file:</p>\n\n<pre><code>&lt;div class=\"row\"&gt;\n    &lt;div class=\"col-sm-6 text-right\"&gt;Billing Address&lt;/div&gt;\n    &lt;div class=\"col-sm-6\"&gt;\n    &lt;select class=\"browser-default custom-select\" id=\"addAddressSelector\"&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n...\n\n&lt;div class=\"row\"&gt;\n&lt;div class=\"col-sm-6 text-right\"&gt;Billing Address&lt;/div&gt;\n&lt;div class=\"col-sm-6\"&gt;\n    &lt;select class=\"browser-default custom-select\" id=\"addressEditSelector\"&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>When using the javascript console I see the data from the database at the state: $('#addressEditSelector').append(message);</p>\n\n<p>I've looked all over the webpage to find any conflicting IDs for either of them, but have had no luck.  Any ideas?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 1787, "user_id": 41060, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1b164a615a3f17a7c1c9f9f965c5026a?s=128&d=identicon&r=PG", "display_name": "audiodude", "link": "https://stackoverflow.com/users/41060/audiodude"}, "edited": false, "score": 1, "creation_date": 1568245566, "post_id": 57898029, "comment_id": 102216936, "body": "It looks like you might have a stray <code>&gt;</code> in your window.open call, that could be messing things up. Not sure what you mean by &quot;adds a line&quot;, can you clarify?"}], "answers": [{"comments": [{"owner": {"reputation": 31, "user_id": 12055624, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBaQYmoqS4ScaBB33oXwKpMeAXUUQfYENXBd0PUgWo=k-s128", "display_name": "Brian Baldner", "link": "https://stackoverflow.com/users/12055624/brian-baldner"}, "edited": false, "score": 0, "creation_date": 1568246202, "post_id": 57898079, "comment_id": 102217050, "body": "I need the string to go into a HTML onclick attribute"}], "tags": [], "owner": {"reputation": 604, "user_id": 11728928, "user_type": "registered", "profile_image": "https://graph.facebook.com/2397435613656409/picture?type=large", "display_name": "Fabio Assuncao", "link": "https://stackoverflow.com/users/11728928/fabio-assuncao"}, "is_accepted": false, "score": 0, "last_activity_date": 1568246410, "last_edit_date": 1568246410, "creation_date": 1568246033, "answer_id": 57898079, "question_id": 57898029, "link": "https://stackoverflow.com/questions/57898029/how-to-make-the-variable-not-start-new-line/57898079#57898079", "title": "How to make the variable not start new line", "body": "<p>I think what you want to do is something like that</p>\n\n<pre><code>var url = prompt(\"Enter the link you want the app to go to.\");\nif(url){\n    document.getElementById(\"xxxx\").onclick=function(){\n    window.open(url, '_blank');\n  }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 464, "user_id": 2162522, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/LPDX4.jpg?s=128&g=1", "display_name": "gcfabri", "link": "https://stackoverflow.com/users/2162522/gcfabri"}, "is_accepted": false, "score": 0, "last_activity_date": 1568246274, "creation_date": 1568246274, "answer_id": 57898101, "question_id": 57898029, "link": "https://stackoverflow.com/questions/57898029/how-to-make-the-variable-not-start-new-line/57898101#57898101", "title": "How to make the variable not start new line", "body": "<p>You just dont need to use these strings to set url variable in window.open method.</p>\n\n<p>You could try this:</p>\n\n<pre><code> var url = prompt(\"Enter the link you want the app to go to.\");\n\n document.getElementById(2).onclick = () =&gt; window.open(url, '_blank');\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 471, "user_id": 6368143, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/045726b23de4c33f07f77b6ea19d0739?s=128&d=identicon&r=PG", "display_name": "mccallofthewild", "link": "https://stackoverflow.com/users/6368143/mccallofthewild"}, "is_accepted": false, "score": 0, "last_activity_date": 1568249926, "creation_date": 1568249926, "answer_id": 57898433, "question_id": 57898029, "link": "https://stackoverflow.com/questions/57898029/how-to-make-the-variable-not-start-new-line/57898433#57898433", "title": "How to make the variable not start new line", "body": "<p>Quickest fix: First remove that stray <code>&lt;</code>, as @audiodude said. Then use the function constructor.</p>\n\n<pre><code>var url = prompt(\"Enter the link you want the app to go to.\");\n\ndocument.getElementById(2).onclick = new Function(\"window.open('\" + url + \"', '_blank');\")\n</code></pre>\n"}], "owner": {"reputation": 31, "user_id": 12055624, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBaQYmoqS4ScaBB33oXwKpMeAXUUQfYENXBd0PUgWo=k-s128", "display_name": "Brian Baldner", "link": "https://stackoverflow.com/users/12055624/brian-baldner"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 52, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1568249926, "creation_date": 1568245399, "question_id": 57898029, "link": "https://stackoverflow.com/questions/57898029/how-to-make-the-variable-not-start-new-line", "title": "How to make the variable not start new line", "body": "<p>I am making a website where you have to input a link, and it makes javascript, but after imputing the variable, it adds a line so it doesn't work.</p>\n\n<p>This is the code I am using </p>\n\n<pre><code>    var url = prompt(\"Enter the link you want the app to go to.\");\n    document.getElementById(2).onclick = \"window.open('\" + url + \"', '_blank');'&gt;\";\n</code></pre>\n\n<p>Anyone got suggestions?</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "authentication", "jwt", "next.js"], "comments": [{"owner": {"reputation": 23444, "user_id": 414413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6de2113f01432aa844dc85070ff33e89?s=128&d=identicon&r=PG", "display_name": "Cirdec", "link": "https://stackoverflow.com/users/414413/cirdec"}, "edited": false, "score": 0, "creation_date": 1568247434, "post_id": 57898011, "comment_id": 102217283, "body": "Is the next.js server-side app served by the same domain as the <code>jwt-sessions</code> gem? If not, the <code>jwt-sessions</code> gem can&#39;t set cookies that the next.js server side rendering can see."}, {"owner": {"reputation": 23444, "user_id": 414413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6de2113f01432aa844dc85070ff33e89?s=128&d=identicon&r=PG", "display_name": "Cirdec", "link": "https://stackoverflow.com/users/414413/cirdec"}, "edited": false, "score": 0, "creation_date": 1568248866, "post_id": 57898011, "comment_id": 102217550, "body": "The <code>csrf</code> can only be sent via header, and is required for all non-GET or HEAD requests <i>to the rail backend</i>, so it needs to be passed to the next.js server side any time the server side might make a non-GET or HEAD request to the backend?"}], "answers": [{"tags": [], "owner": {"reputation": 23444, "user_id": 414413, "user_type": "registered", "accept_rate": 79, "profile_image": "https://www.gravatar.com/avatar/6de2113f01432aa844dc85070ff33e89?s=128&d=identicon&r=PG", "display_name": "Cirdec", "link": "https://stackoverflow.com/users/414413/cirdec"}, "is_accepted": false, "score": 1, "last_activity_date": 1568253245, "last_edit_date": 1568253245, "creation_date": 1568252486, "answer_id": 57898714, "question_id": 57898011, "link": "https://stackoverflow.com/questions/57898011/how-do-i-securely-store-jwts-with-next-js-and-a-rails-backend/57898714#57898714", "title": "How do I securely store JWTs with Next.js and a Rails backend?", "body": "<p>Lets examine each of the tokens and where it will be used. Cookies can only be presented to the server that set them, so any cookie will need to be set by the server that uses it.</p>\n\n<h3><code>refresh</code> token</h3>\n\n<p>The refresh token will be presented to the <code>jwt-sessions</code> authentication server to get a new <code>access</code> and <code>csrf</code> token if the access token expires. Since the refresh token both comes from the authentication server, and is used on the authentication server, it can be set as an <code>HttpOnly</code> cookie by the authentication server</p>\n\n<pre><code>Set-Cookie: refresh-token=...; domain=rails-backend.example.com; secure; HttpOnly\n</code></pre>\n\n<h3><code>access</code> token</h3>\n\n<p>The access token will be used in two ways, it will be presented to the rails backend by the next.js client side, and it will be used by the next.js server side to make calls to the rails backend to server-side render pages via <code>getInitialProps</code>.</p>\n\n<p>Presenting the access token to the rails backend from the client side is easy. The <code>jwt-sessions</code> authentication server runs on the same server as the rails backend, so the authentication server can set an <code>HttpOnly</code> cookie.</p>\n\n<pre><code>Set-Cookie: access-token=...; domain=rails-backend.example.com; secure; HttpOnly\n</code></pre>\n\n<p>Presenting it from the next.js server-side is more difficult, to get it there the client needs to send the access token to the next.js server-side. A header would be the appropriate way to present it initially. And to send it to the next.js server side, the client side needs the access token included in the json response from the authentication server.</p>\n\n<pre><code>{\n    'access': \"...\"\n}\n</code></pre>\n\n<pre><code>Host: next-js-server-side.example.com\nX-Rails-Backend-Access-Token: ...\n</code></pre>\n\n<p>Once the next.js server-side has the access token, it can set an <code>HttpOnly</code> cookie to have the access token available for future requests.</p>\n\n<pre><code>Set-Cookie: rails-backend-access-token=...; domain=next-js-server-side.example.com; secure; HttpOnly\n</code></pre>\n\n<h3><code>csrf</code> token</h3>\n\n<p>The csrf token is used to protect requests <em>to the rails backend</em> from cross-site forged requests. It needs to be presented by anything that will make a request to the rails backend, both the client-side and server-side.</p>\n\n<p>The client will get the csrf from the authentication server as part of the json payload, because that's the only safe way to get it to the client.</p>\n\n<pre><code>{\n    'csrf': \"...\"\n}\n</code></pre>\n\n<p>The client can use it right now to make requests to the rails backend, but it won't be stored durably.</p>\n\n<p>To get the csrf token to the next.js server side, the client will send it as a header</p>\n\n<pre><code>Host: next-js-server-side.example.com\nX-Rails-Backend-CSRF-Token: ...\n</code></pre>\n\n<p>The next.js server side has the luxury of turning around and setting an <code>HttpOnly</code> cookie to have the csrf token available for future requests.</p>\n\n<pre><code>Set-Cookie: rails-backend-csrf-token=...; domain=next-js-server-side.example.com; secure; HttpOnly\n</code></pre>\n\n<p>This cookie is useless for cross-site forging requests to the rails backend, because it's only presented to the next-js server-side, and isn't presented to the rails backend at all.</p>\n\n<p>The next.js server side can give this token back to the client, as long as it does it in a way that it can't be hijacked by a site mounting a cross-site forgery attack.</p>\n\n<pre><code>&lt;input type=\"hidden\" id=\"rails-backend-csrf-token\" value=\"...\"&gt;\n</code></pre>\n\n<h3>Cross-site request forgery for next.js</h3>\n\n<p>The next.js server side will need to provide it's own cross-site forgery protection. It can't rely on the <code>HttpOnly</code> cookie it set above, because that will be presented in cross-site requests.</p>\n"}], "owner": {"reputation": 91, "user_id": 6833084, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-zDEFTHaImsg/AAAAAAAAAAI/AAAAAAAAAUk/ZVueBHTmAik/photo.jpg?sz=128", "display_name": "Nathan Taylor", "link": "https://stackoverflow.com/users/6833084/nathan-taylor"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2275, "favorite_count": 1, "answer_count": 1, "score": 9, "last_activity_date": 1568253245, "creation_date": 1568245226, "last_edit_date": 1568245460, "question_id": 57898011, "link": "https://stackoverflow.com/questions/57898011/how-do-i-securely-store-jwts-with-next-js-and-a-rails-backend", "title": "How do I securely store JWTs with Next.js and a Rails backend?", "body": "<p>I'm trying to implement auth between a Next.js frontend and a Rails API backend, and I'm having difficulty understanding the how to properly do this <em>securely</em>.</p>\n\n<p>I'm using the <a href=\"https://github.com/tuwukee/jwt_sessions\" rel=\"noreferrer\">jwt-sessions</a> gem on the rails side, which upon login returns an <code>access_token</code>, a <code>refresh_token</code> and a <code>csrf</code> token. The <code>csrf</code> can only be sent via header, and is required for all non-GET or HEAD requests. The <code>access</code> and <code>refresh</code> can be given via header <em>or</em> by cookies.</p>\n\n<p>I can implement the backend to either return all the tokens in a JSON response, or set cookies, or a mix of both.</p>\n\n<p>The problem is that, client-side I see no real way to store these tokens that is:</p>\n\n<ol>\n<li>Secure</li>\n<li>Available during SSR as well as in the browser</li>\n</ol>\n\n<p>Here are the options I see</p>\n\n<h3>Option 1: Server-Set httpOnly Cookies</h3>\n\n<p>This is what the <code>jwt-sessions</code> gem recommends. Keep CSRF in localStorage, but the other tokens in httpOnly cookies set by the server.</p>\n\n<p>This seems the most secure, but then SSR via <code>getInitialProps</code> won't work at all, because it can't send the cookies via <code>fetch</code>. I can't even manually send them because I can't see them in JS.</p>\n\n<h3>Option 2: non httpOnly Cookies</h3>\n\n<p>This is what the <a href=\"https://github.com/zeit/next.js/tree/master/examples/with-cookie-auth\" rel=\"noreferrer\">official next example</a> seems to do (albeit with a single, probably stateless token)</p>\n\n<p>Either have the server or the browser set the cookie <em>without</em> httpOnly.</p>\n\n<p>I can access it via SSR, but doesn't this open me up to XSS?</p>\n\n<h3>Option 3: Use Browser Storage</h3>\n\n<p>Just put all the tokens in <code>localStorage</code> and/or <code>sessionStorage</code>. This seems to be the worst option, as it won't work in SSR, and to my knowledge is not secure.</p>\n\n<h3>????</h3>\n\n<p>Am I missing something? Is non-httpOnly, like in the official example, OK? Is there a better approach? Or will I have to ignore SSR (and thus one of Next.js's killer features)?</p>\n"}, {"tags": ["javascript", "html", "css", "canvas", "html5-canvas"], "answers": [{"tags": [], "owner": {"reputation": 12410, "user_id": 5217142, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/57daeb5f96b7a591e3447d41e59bbc94?s=128&d=identicon&r=PG&f=1", "display_name": "traktor", "link": "https://stackoverflow.com/users/5217142/traktor"}, "is_accepted": true, "score": 2, "last_activity_date": 1568255882, "last_edit_date": 1568255882, "creation_date": 1568248428, "answer_id": 57898301, "question_id": 57898008, "link": "https://stackoverflow.com/questions/57898008/does-using-percentages-instead-of-pixels-change-an-html-5-canvas-change-its-prop/57898301#57898301", "title": "Does using percentages instead of pixels change an html 5 canvas change its properties?", "body": "<p>It makes a difference if canvas size is set in CSS or using element attributes.</p>\n\n<p>The canvas element size is set by its <code>width</code> and <code>height</code> attributes (as numbers). This sets the number of addressable pixels used to store the canvas drawing in memory. In the absence of width and height attributes, canvas element dimensions are set to 300 by 150 (pixels) by <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/canvas\" rel=\"nofollow noreferrer\">default</a>.</p>\n\n<p>CSS applied to the canvas can scale its dimensions using software interpolation of the canvas treated as an image. Just as a small image looks bigger when scaled to full screen, both the 300 by 150 pixel canvas and objects drawn within it (using canvas pixel coordinates) appear larger when blown up. </p>\n\n<p>To make canvas coordinates match the screen size in pixels, set its <code>width</code> and <code>height</code> attributes to pixel number values. E.G.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  var canvas = document.getElementById(\"canvas\")\r\n  var c = canvas.getContext(\"2d\")\r\n\r\n  c.fillStyle = \"#FFFF00\"\r\n  c.fillRect(50,50,50,50)\r\n  console.log( canvas.width, canvas.height);\r\n  alert( \"fix?\" )\r\n  canvas.style=\"\";  // remove CSS scaling\r\n  canvas.width = document.body.clientWidth;\r\n  canvas.height = document.body.clientHeight;\r\n  c.fillStyle = \"#FFFF00\"\r\n  c.fillRect(50,50,50,50)</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>  body {\r\n    width: 100%; \r\n    margin: 0;\r\n    height: 100%;\r\n    background-color: honeydew;\r\n    overflow: hidden;\r\n    position:fixed;\r\n  }\r\n  canvas {\r\n    background-color: silver;\r\n  }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;canvas id=\"canvas\" style=\"height: 100%; width:100%;\"&gt;&lt;/canvas&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 12039065, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/gVvdk.jpg?s=128&g=1", "display_name": "nbobito12", "link": "https://stackoverflow.com/users/12039065/nbobito12"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 93, "favorite_count": 0, "accepted_answer_id": 57898301, "answer_count": 1, "score": 3, "last_activity_date": 1568255882, "creation_date": 1568245206, "question_id": 57898008, "link": "https://stackoverflow.com/questions/57898008/does-using-percentages-instead-of-pixels-change-an-html-5-canvas-change-its-prop", "title": "Does using percentages instead of pixels change an html 5 canvas change its properties?", "body": "<p>I am practicing javascript and I am trying to make a game. I want the canvas element to be fullscreen, so I used percentages for the height and width attribute, but when I do, it doesn't behave like it normally does. When I run my debug code, it is supposed to make a box that is 50px by 50px, but the graphics look bigger than normal.</p>\n\n<p>I've tried getting the canvas height and width in pixels, but that did not work. It does not report any error messages, but it is still too big.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;&lt;/head&gt;\n  &lt;body&gt;\n    &lt;canvas id=\"canvas\" style=\"height: 100%; width:100%;\"&gt;&lt;/canvas&gt;\n  &lt;/body&gt;\n&lt;style&gt;\n    html, body {width: 100%; \n    margin: 0;\n    height: 100%;\n    overflow: hidden;\n    position:fixed;}\n&lt;/style&gt;\n&lt;script&gt;\n  var canvas = document.getElementById(\"canvas\")\n  var c = canvas.getContext(\"2d\")\n\n  c.fillStyle = \"#FFFF00\"\n  c.fillRect(50,50,50,50)\n&lt;/script&gt;\n</code></pre>\n\n<p>There are no error messages none appearing, but it is not sized correctly, and I can't figure out why it's not working.</p>\n"}, {"tags": ["javascript", "google-maps", "google-places-api"], "answers": [{"tags": [], "owner": {"reputation": 4385, "user_id": 11742502, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/krquL.jpg?s=128&g=1", "display_name": "evan", "link": "https://stackoverflow.com/users/11742502/evan"}, "is_accepted": true, "score": 1, "last_activity_date": 1568449821, "creation_date": 1568449821, "answer_id": 57933798, "question_id": 57897982, "link": "https://stackoverflow.com/questions/57897982/how-to-restrict-google-places-autocomplete-api-by-a-radius-within-a-certain-long/57933798#57933798", "title": "How to restrict Google Places autocomplete API by a radius within a certain longitude and latitude?", "body": "<p>Google's code example is biasing Autocomplete results to the user's geographical location using <code>setBounds()</code>:</p>\n\n<pre><code>function geolocate() {\n  if (navigator.geolocation) {\n    navigator.geolocation.getCurrentPosition(function(position) {\n      var geolocation = {\n        lat: position.coords.latitude,\n        lng: position.coords.longitude\n      };\n      var circle = new google.maps.Circle({center: geolocation, radius: position.coords.accuracy});\n      autocomplete.setBounds(circle.getBounds());\n    });\n  }\n}\n</code></pre>\n\n<p>To actually <strong>restrict</strong> Autocomplete results to the given bounds, use <a href=\"https://developers.google.com/maps/documentation/javascript/places-autocomplete#set_search_area\" rel=\"nofollow noreferrer\"><code>strictBounds</code></a>:</p>\n\n<pre><code>autocomplete.setOptions({strictBounds: true})\n</code></pre>\n\n<p>Hope this helps you.</p>\n"}], "owner": {"reputation": 13, "user_id": 8914265, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d5ad20f887e4fed3bc516be446c822dd?s=128&d=identicon&r=PG&f=1", "display_name": "Shivansh Shekhar", "link": "https://stackoverflow.com/users/8914265/shivansh-shekhar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 474, "favorite_count": 0, "accepted_answer_id": 57933798, "answer_count": 1, "score": 1, "last_activity_date": 1568456109, "creation_date": 1568244823, "last_edit_date": 1568456109, "question_id": 57897982, "link": "https://stackoverflow.com/questions/57897982/how-to-restrict-google-places-autocomplete-api-by-a-radius-within-a-certain-long", "title": "How to restrict Google Places autocomplete API by a radius within a certain longitude and latitude?", "body": "<p>I am using this code mentioned in docs\n<a href=\"https://developers.google.com/maps/documentation/javascript/examples/places-autocomplete-addressform\" rel=\"nofollow noreferrer\">https://developers.google.com/maps/documentation/javascript/examples/places-autocomplete-addressform</a> </p>\n\n<p>How should I strictly restrict results by a certain radius about a coordinate? </p>\n"}, {"tags": ["javascript", "html", "ajax", "replace", "element"], "comments": [{"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1568244768, "post_id": 57897961, "comment_id": 102216796, "body": "i see no jQuery here so I removed that tag"}, {"owner": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "reply_to_user": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1568244903, "post_id": 57897961, "comment_id": 102216813, "body": "alright, i might of mixed the terms up, in burst of the moment"}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1568244962, "post_id": 57897961, "comment_id": 102216829, "body": "You need to have the server save and send it back? so do that with whatever you server is.  localStorage is in the browser so that is not server side, I believe you need to clarify a lot"}, {"owner": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "reply_to_user": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1568245090, "post_id": 57897961, "comment_id": 102216850, "body": "I meant client sided, or you can call it browser sided. So localStorage or sessionStorage would be a solution for it."}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1568245240, "post_id": 57897961, "comment_id": 102216874, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/24956525/how-to-convert-an-element-to-a-string-that-can-be-stored-and-restored-from-local\">How to convert an element to a string that can be stored and restored from localStorage</a>"}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1568245384, "post_id": 57897961, "comment_id": 102216903, "body": "Or maybe <a href=\"https://stackoverflow.com/q/48239869/125981\">stackoverflow.com/q/48239869/125981</a>"}], "answers": [{"comments": [{"owner": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "edited": false, "score": 0, "creation_date": 1568477064, "post_id": 57898805, "comment_id": 102290116, "body": "I updated the post with the newest code you suggested, I should fix. And the code still doesn&#39;t seem to work for some reason. There may be a specific way to make webserver remember the change for XMLHttpRequest."}, {"owner": {"reputation": 3588, "user_id": 10273906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec3e58e44234a96198566948b3409d0?s=128&d=identicon&r=PG&f=1", "display_name": "Ritesh Khandekar", "link": "https://stackoverflow.com/users/10273906/ritesh-khandekar"}, "reply_to_user": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "edited": false, "score": 0, "creation_date": 1568479916, "post_id": 57898805, "comment_id": 102290821, "body": "@NateVang I think this is cross-domain <code>XMLHttpRequest</code> request &amp; this is blocked by <code>https:&#47;&#47;natevanghacks.com</code> read more about <a href=\"http://www.ajax-cross-origin.com/how.html\" rel=\"nofollow noreferrer\">here</a>"}, {"owner": {"reputation": 3588, "user_id": 10273906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec3e58e44234a96198566948b3409d0?s=128&d=identicon&r=PG&f=1", "display_name": "Ritesh Khandekar", "link": "https://stackoverflow.com/users/10273906/ritesh-khandekar"}, "reply_to_user": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "edited": false, "score": 0, "creation_date": 1568484200, "post_id": 57898805, "comment_id": 102291789, "body": "Your code will work fine when you send request to your server&#39;s files like <code>xhttp.open(&quot;GET&quot;, &quot;yourfilename.php&quot;, true);</code>"}, {"owner": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "edited": false, "score": 0, "creation_date": 1568500199, "post_id": 57898805, "comment_id": 102294699, "body": "the element won&#39;t show up now, it outputs &quot;undefined&quot;"}, {"owner": {"reputation": 3588, "user_id": 10273906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec3e58e44234a96198566948b3409d0?s=128&d=identicon&r=PG&f=1", "display_name": "Ritesh Khandekar", "link": "https://stackoverflow.com/users/10273906/ritesh-khandekar"}, "reply_to_user": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "edited": false, "score": 0, "creation_date": 1568522514, "post_id": 57898805, "comment_id": 102297313, "body": "Put your filename in <code>xhttp.open</code>, and reload the page"}, {"owner": {"reputation": 3588, "user_id": 10273906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec3e58e44234a96198566948b3409d0?s=128&d=identicon&r=PG&f=1", "display_name": "Ritesh Khandekar", "link": "https://stackoverflow.com/users/10273906/ritesh-khandekar"}, "reply_to_user": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "edited": false, "score": 0, "creation_date": 1568525147, "post_id": 57898805, "comment_id": 102297634, "body": "Ok I edited my answer, try with my code it is working fine"}, {"owner": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "edited": false, "score": 0, "creation_date": 1568553769, "post_id": 57898805, "comment_id": 102302797, "body": "thats all great thanks for helping, but the problem is when, I refresh the element returns back to its default state again. Unchanged not replaced."}], "tags": [], "owner": {"reputation": 3588, "user_id": 10273906, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bec3e58e44234a96198566948b3409d0?s=128&d=identicon&r=PG&f=1", "display_name": "Ritesh Khandekar", "link": "https://stackoverflow.com/users/10273906/ritesh-khandekar"}, "is_accepted": false, "score": 0, "last_activity_date": 1568524866, "last_edit_date": 1568524866, "creation_date": 1568253502, "answer_id": 57898805, "question_id": 57897961, "link": "https://stackoverflow.com/questions/57897961/replace-innerhtml-with-cookie-logging/57898805#57898805", "title": "Replace InnerHTML With Cookie Logging", "body": "<p>Try something like this in AJAX:</p>\n\n<pre><code>localStorage.setItem(\"replace1\",this.responseText);\n</code></pre>\n\n<p>And after body onload:</p>\n\n<pre><code>document.getElementById(\"replace1\").innerHTML = localStorage.getItem(\"replace1\");\n</code></pre>\n\n<p><strong>Edit</strong>:</p>\n\n\n\n<pre class=\"lang-js prettyprint-override\"><code>  function loadSavedData(){\n    var data=localStorage.getItem(\"replace1\");\n    document.getElementById(\"replace1\").innerHTML = data?data:'No Data found';\n  }\n  function deleteData(){\n    localStorage.removeItem(\"replace1\");\n  }\n  function loadDoc() {\n    var xhttp = new XMLHttpRequest();\n    xhttp.onreadystatechange = function() {\n      if (this.readyState == 4 &amp;&amp; this.status == 200) {\n        localStorage.setItem(\"replace1\",this.responseText);\n        document.getElementById(\"replace1\").innerHTML =this.responseText;\n        console.log(this.responseText);\n      }\n    };\n    xhttp.open(\"GET\", \"filename.html\", true); //put your filename here...\n    xhttp.send();\n  }\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button onclick=\"loadDoc()\"&gt;Send request and load Data\n&lt;/button&gt;\n&lt;button onclick=\"loadSavedData()\"&gt;load Saved Data\n&lt;/button&gt;\n&lt;button onclick=\"deleteData()\"&gt;Delete saved Data\n&lt;/button&gt;\n&lt;br&gt;\n&lt;div id=\"replace1\"&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>\n<strong>Note</strong>: You should run this file on <code>http://</code> or <code>https://</code> protocols only</p>\n"}], "owner": {"reputation": 51, "user_id": 11858864, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-pL5zQp49JvE/AAAAAAAAAAI/AAAAAAAABGY/WLbLGOetw-w/photo.jpg?sz=128", "display_name": "NateVang", "link": "https://stackoverflow.com/users/11858864/natevang"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 76, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568524866, "creation_date": 1568244680, "last_edit_date": 1568476955, "question_id": 57897961, "link": "https://stackoverflow.com/questions/57897961/replace-innerhtml-with-cookie-logging", "title": "Replace InnerHTML With Cookie Logging", "body": "<p>I've got some javascript code for replacing innerHTML of a element when clicked. Now i've got the code for that and it does work great! But one small issue is that, I want the webserver to remember the change when innerHTML of an element was replaced. So the webserver remembers the change and doesn't return to its default state. Whether with database or in Cookie, sessionStorage, localStorage.</p>\n\n<pre><code>document.getElementById(\"replace1\").innerHTML = localStorage.getItem(\"replace1\");\n\nfunction loadDoc() {\n  var xhttp = new XMLHttpRequest();\n  xhttp.onreadystatechange = function() {\n    if (this.readyState == 4 &amp;&amp; this.status == 200) {\n     localStorage.setItem(\"replace1\",this.responseText);   \n    }\n  };\n  xhttp.open(\"GET\", \"https://natevanghacks.com/replacements/yoinkexecutor2.html\", true);\n  xhttp.send();\n}\n</code></pre>\n"}, {"tags": ["javascript", "sql", "google-bigquery", "user-defined-functions", "webassembly"], "answers": [{"comments": [{"owner": {"reputation": 1376, "user_id": 5368759, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EUB19ZQqehM/AAAAAAAAAAI/AAAAAAAAAkQ/t8XfIKGPO34/photo.jpg?sz=128", "display_name": "Fuyang Liu", "link": "https://stackoverflow.com/users/5368759/fuyang-liu"}, "edited": false, "score": 0, "creation_date": 1580925593, "post_id": 57897906, "comment_id": 106261388, "body": "Is there any simpler way to load a wasm file into a user defined function on bigquery?"}, {"owner": {"reputation": 39100, "user_id": 132438, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/QJxe1.jpg?s=128&g=1", "display_name": "Felipe Hoffa", "link": "https://stackoverflow.com/users/132438/felipe-hoffa"}, "reply_to_user": {"reputation": 1376, "user_id": 5368759, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EUB19ZQqehM/AAAAAAAAAAI/AAAAAAAAAkQ/t8XfIKGPO34/photo.jpg?sz=128", "display_name": "Fuyang Liu", "link": "https://stackoverflow.com/users/5368759/fuyang-liu"}, "edited": false, "score": 0, "creation_date": 1580929407, "post_id": 57897906, "comment_id": 106263176, "body": "Yes, would you like to ask a new question? (for space reasons)"}, {"owner": {"reputation": 1376, "user_id": 5368759, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EUB19ZQqehM/AAAAAAAAAAI/AAAAAAAAAkQ/t8XfIKGPO34/photo.jpg?sz=128", "display_name": "Fuyang Liu", "link": "https://stackoverflow.com/users/5368759/fuyang-liu"}, "edited": false, "score": 0, "creation_date": 1580990151, "post_id": 57897906, "comment_id": 106284067, "body": "Sure, I will dot that, also I have the question of why TextEncoder is not included in the Bigqeury UDF environment? I seem to need that to conveniently passing String values between Rust code and Javascript code."}, {"owner": {"reputation": 1376, "user_id": 5368759, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EUB19ZQqehM/AAAAAAAAAAI/AAAAAAAAAkQ/t8XfIKGPO34/photo.jpg?sz=128", "display_name": "Fuyang Liu", "link": "https://stackoverflow.com/users/5368759/fuyang-liu"}, "edited": false, "score": 0, "creation_date": 1580991159, "post_id": 57897906, "comment_id": 106284642, "body": "I have asked here <a href=\"https://stackoverflow.com/questions/60094731/can-i-use-textencoder-in-bigquery-js-udf\" title=\"can i use textencoder in bigquery js udf\">stackoverflow.com/questions/60094731/&hellip;</a> And here <a href=\"https://stackoverflow.com/questions/60094498/for-bigquery-js-udf-is-there-any-simpler-way-to-load-a-wasm-file-into-a-user-de\" title=\"for bigquery js udf is there any simpler way to load a wasm file into a user de\">stackoverflow.com/questions/60094498/&hellip;</a>"}, {"owner": {"reputation": 1376, "user_id": 5368759, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EUB19ZQqehM/AAAAAAAAAAI/AAAAAAAAAkQ/t8XfIKGPO34/photo.jpg?sz=128", "display_name": "Fuyang Liu", "link": "https://stackoverflow.com/users/5368759/fuyang-liu"}, "edited": false, "score": 0, "creation_date": 1581760062, "post_id": 57897906, "comment_id": 106549599, "body": "Also, does this <a href=\"https://stackoverflow.com/questions/59430104/bigquery-javascript-udf-process-per-row-or-per-processing-node/59430591#59430591\" title=\"bigquery javascript udf process per row or per processing node\">stackoverflow.com/questions/59430104/&hellip;</a> mean that the grouping operation are outdated and not really needed in the above answer to speed things up? :)"}, {"owner": {"reputation": 357, "user_id": 456710, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7936349c7fa108fc32ebd480d5eed82?s=128&d=identicon&r=PG&f=1", "display_name": "thstart", "link": "https://stackoverflow.com/users/456710/thstart"}, "edited": false, "score": 0, "creation_date": 1601437149, "post_id": 57897906, "comment_id": 113404536, "body": "I would like to use Golang for that purpose. The only examples I see related to Golang is with main(). I would like to create same function add(x) and use it is wbeassebly in BigQuery."}], "tags": [], "owner": {"reputation": 39100, "user_id": 132438, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/QJxe1.jpg?s=128&g=1", "display_name": "Felipe Hoffa", "link": "https://stackoverflow.com/users/132438/felipe-hoffa"}, "is_accepted": true, "score": 5, "last_activity_date": 1568243985, "creation_date": 1568243985, "answer_id": 57897906, "question_id": 57897905, "link": "https://stackoverflow.com/questions/57897905/running-async-js-functions-on-bigquery-with-standardsql/57897906#57897906", "title": "running async JS functions on BigQuery with #standardSQL", "body": "<p>Now you can create an <code>async function x()</code> and then return <code>x()</code>.</p>\n\n<p>Instead of being able to <code>emit()</code> multiple times, you'll have to nest the results into array.</p>\n\n<p>Working example:</p>\n\n<pre><code>CREATE TEMP FUNCTION `magic_function`(x ARRAY&lt;INT64&gt;) RETURNS ARRAY&lt;INT64&gt; LANGUAGE js AS '''\nconst memory = new WebAssembly.Memory({ initial: 256, maximum: 256 });\n\nconst env = {\n    'abortStackOverflow': _ =&gt; { throw new Error('overflow'); },\n    'table': new WebAssembly.Table({ initial: 0, maximum: 0, element: 'anyfunc' }),\n    'tableBase': 0,\n    'memory': memory,\n    'memoryBase': 1024,\n    'STACKTOP': 0,\n    'STACK_MAX': memory.buffer.byteLength,\n};\n\nconst imports = { env };\n\nconst bytes = new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 139, 128, 128, 128, 0, 2, 96, 1, 127, 0, 96, 2, 127, 127, 1, 127, 2, 254, 128, 128, 128, 0, 7, 3, 101, 110, 118, 8, 83, 84, 65, 67, 75, 84, 79, 80, 3, 127, 0, 3, 101, 110, 118, 9, 83, 84, 65, 67, 75, 95, 77, 65, 88, 3, 127, 0, 3, 101, 110, 118, 18, 97, 98, 111, 114, 116, 83, 116, 97, 99, 107, 79, 118, 101, 114, 102, 108, 111, 119, 0, 0, 3, 101, 110, 118, 6, 109, 101, 109, 111, 114, 121, 2, 1, 128, 2, 128, 2, 3, 101, 110, 118, 5, 116, 97, 98, 108, 101, 1, 112, 1, 0, 0, 3, 101, 110, 118, 10, 109, 101, 109, 111, 114, 121, 66, 97, 115, 101, 3, 127, 0, 3, 101, 110, 118, 9, 116, 97, 98, 108, 101, 66, 97, 115, 101, 3, 127, 0, 3, 130, 128, 128, 128, 0, 1, 1, 6, 147, 128, 128, 128, 0, 3, 127, 1, 35, 0, 11, 127, 1, 35, 1, 11, 125, 1, 67, 0, 0, 0, 0, 11, 7, 136, 128, 128, 128, 0, 1, 4, 95, 115, 117, 109, 0, 1, 9, 129, 128, 128, 128, 0, 0, 10, 196, 128, 128, 128, 0, 1, 190, 128, 128, 128, 0, 1, 7, 127, 2, 64, 35, 4, 33, 8, 35, 4, 65, 16, 106, 36, 4, 35, 4, 35, 5, 78, 4, 64, 65, 16, 16, 0, 11, 32, 0, 33, 2, 32, 1, 33, 3, 32, 2, 33, 4, 32, 3, 33, 5, 32, 4, 32, 5, 106, 33, 6, 32, 8, 36, 4, 32, 6, 15, 0, 11, 0, 11]);\n\nasync function main() {\n  const wa = await WebAssembly.instantiate(bytes, imports);\n  const exports = wa.instance.exports;\n  const magic_sum = exports._sum;\n  return x.map((val) =&gt; {\n    return magic_sum(val, val);\n  });\n}\n\nreturn main();\n\n''';\n\nSELECT SUM(s) sum_s\nFROM (\n  SELECT FLOOR(RAND()*100000) grp, magic_function(ARRAY_AGG(views)) s\n  FROM `fh-bigquery.wikipedia_v3.pageviews_2019` \n  WHERE DATE(datehour) = '2019-01-01' AND wiki='pt'\n  GROUP BY grp\n), UNNEST(s) s\n</code></pre>\n\n<p>(<a href=\"https://issuetracker.google.com/issues/138430827#comment9\" rel=\"noreferrer\">https://issuetracker.google.com/issues/138430827#comment9</a>)\n(h/t <a href=\"https://twitter.com/mylesborins\" rel=\"noreferrer\">https://twitter.com/mylesborins</a>)</p>\n"}], "owner": {"reputation": 39100, "user_id": 132438, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/QJxe1.jpg?s=128&g=1", "display_name": "Felipe Hoffa", "link": "https://stackoverflow.com/users/132438/felipe-hoffa"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 659, "favorite_count": 0, "accepted_answer_id": 57897906, "answer_count": 1, "score": 4, "last_activity_date": 1568243985, "creation_date": 1568243985, "question_id": 57897905, "link": "https://stackoverflow.com/questions/57897905/running-async-js-functions-on-bigquery-with-standardsql", "title": "running async JS functions on BigQuery with #standardSQL", "body": "<p>Now that BigQuery supports async on #standardSQL, how can I convert this #legacySQL function to run on #standardSQL?</p>\n\n<pre><code>#legacySQL\nSELECT SUM(s)\nFROM\njs((\n  SELECT FLOOR(RAND()*100000) group, NEST(requests) as x\n  FROM (\n    SELECT requests, content_size\n    FROM [fh-bigquery:wikipedia.pagecounts_201205]\n  )\n  GROUP BY group)\n  , group, x\n  , \"[{name:'s', type: 'float'}]\",\n\"function (row, emit) {\n  const memory = new WebAssembly.Memory({ initial: 256, maximum: 256 });\n  const env = {\n      'abortStackOverflow': _ =&gt; { throw new Error('overflow'); },\n      'table': new WebAssembly.Table({ initial: 0, maximum: 0, element: 'anyfunc' }),\n      'tableBase': 0,\n      'memory': memory,\n      'memoryBase': 1024,\n      'STACKTOP': 0,\n      'STACK_MAX': memory.buffer.byteLength,\n  };\n  const imports = { env };\n  const bytes = new Uint8Array([0, 97, 115, 109, 1, 0, 0, 0, 1, 139, 128, 128, 128, 0, 2, 96, 1, 127, 0, 96, 2, 127, 127, 1, 127, 2, 254, 128, 128, 128, 0, 7, 3, 101, 110, 118, 8, 83, 84, 65, 67, 75, 84, 79, 80, 3, 127, 0, 3, 101, 110, 118, 9, 83, 84, 65, 67, 75, 95, 77, 65, 88, 3, 127, 0, 3, 101, 110, 118, 18, 97, 98, 111, 114, 116, 83, 116, 97, 99, 107, 79, 118, 101, 114, 102, 108, 111, 119, 0, 0, 3, 101, 110, 118, 6, 109, 101, 109, 111, 114, 121, 2, 1, 128, 2, 128, 2, 3, 101, 110, 118, 5, 116, 97, 98, 108, 101, 1, 112, 1, 0, 0, 3, 101, 110, 118, 10, 109, 101, 109, 111, 114, 121, 66, 97, 115, 101, 3, 127, 0, 3, 101, 110, 118, 9, 116, 97, 98, 108, 101, 66, 97, 115, 101, 3, 127, 0, 3, 130, 128, 128, 128, 0, 1, 1, 6, 147, 128, 128, 128, 0, 3, 127, 1, 35, 0, 11, 127, 1, 35, 1, 11, 125, 1, 67, 0, 0, 0, 0, 11, 7, 136, 128, 128, 128, 0, 1, 4, 95, 115, 117, 109, 0, 1, 9, 129, 128, 128, 128, 0, 0, 10, 196, 128, 128, 128, 0, 1, 190, 128, 128, 128, 0, 1, 7, 127, 2, 64, 35, 4, 33, 8, 35, 4, 65, 16, 106, 36, 4, 35, 4, 35, 5, 78, 4, 64, 65, 16, 16, 0, 11, 32, 0, 33, 2, 32, 1, 33, 3, 32, 2, 33, 4, 32, 3, 33, 5, 32, 4, 32, 5, 106, 33, 6, 32, 8, 36, 4, 32, 6, 15, 0, 11, 0, 11]);\nWebAssembly.instantiate(bytes, imports).then(wa =&gt; {\n      const exports = wa.instance.exports;\n      const sum = exports._sum;\n      for (var i = 0, len = row.x.length; i &lt; len; i++) {\n        emit({s: sum(row.x[i], row.x[i])});\n      }\n  });\n}\"\n)\n</code></pre>\n\n<p>(from <a href=\"https://medium.com/@hoffa/bigquery-beyond-sql-and-js-running-c-and-rust-code-at-scale-33021763ee1f\" rel=\"nofollow noreferrer\">https://medium.com/@hoffa/bigquery-beyond-sql-and-js-running-c-and-rust-code-at-scale-33021763ee1f</a>)</p>\n"}, {"tags": ["javascript", "free-jqgrid"], "comments": [{"owner": {"reputation": 1678, "user_id": 2510939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NesRS.jpg?s=128&g=1", "display_name": "admcfajn", "link": "https://stackoverflow.com/users/2510939/admcfajn"}, "edited": false, "score": 0, "creation_date": 1568244125, "post_id": 57897899, "comment_id": 102216667, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/10911526/how-do-i-change-an-html-selected-option-using-javascript\">How do I change an HTML selected option using JavaScript?</a>"}, {"owner": {"reputation": 1678, "user_id": 2510939, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NesRS.jpg?s=128&g=1", "display_name": "admcfajn", "link": "https://stackoverflow.com/users/2510939/admcfajn"}, "edited": false, "score": 0, "creation_date": 1568244222, "post_id": 57897899, "comment_id": 102216678, "body": "Set the value of the select element to the value of the option which is to be selected."}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1568244477, "post_id": 57897899, "comment_id": 102216725, "body": "&quot;element in select list&quot; so <code>&lt;select&gt;&lt;option &gt;one&lt;&#47;option&gt;</code> ? some HTML and real code would help here"}, {"owner": {"reputation": 133, "user_id": 2337872, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fa903bbdc3a8365bab7b95f18944e40a?s=128&d=identicon&r=PG", "display_name": "Steve Dyke", "link": "https://stackoverflow.com/users/2337872/steve-dyke"}, "edited": false, "score": 0, "creation_date": 1568244656, "post_id": 57897899, "comment_id": 102216774, "body": "I am doing this on the server side cushionplacardtypeselectlist = cushionplacardtypeselectlist + &quot;&lt;option value=&#39;&quot; + cssNameplateTypeV8.getLabelname() + &quot;&#39; selected&gt;&quot; + cssNameplateTypeV8.getDescription() + &quot;&lt;/option&gt;&quot;; and as I stated all is well until after the edit form finishes displaying."}, {"owner": {"reputation": 133, "user_id": 2337872, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fa903bbdc3a8365bab7b95f18944e40a?s=128&d=identicon&r=PG", "display_name": "Steve Dyke", "link": "https://stackoverflow.com/users/2337872/steve-dyke"}, "edited": false, "score": 0, "creation_date": 1568244813, "post_id": 57897899, "comment_id": 102216802, "body": "Is there a way to display screen shots here? Sorry for my lack of knowledge here."}, {"owner": {"reputation": 133, "user_id": 2337872, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fa903bbdc3a8365bab7b95f18944e40a?s=128&d=identicon&r=PG", "display_name": "Steve Dyke", "link": "https://stackoverflow.com/users/2337872/steve-dyke"}, "edited": false, "score": 0, "creation_date": 1568298114, "post_id": 57897899, "comment_id": 102237462, "body": "It seems like that after the AfterShowForm fires the dropdown gets refreshed."}], "answers": [{"tags": [], "owner": {"reputation": 133, "user_id": 2337872, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fa903bbdc3a8365bab7b95f18944e40a?s=128&d=identicon&r=PG", "display_name": "Steve Dyke", "link": "https://stackoverflow.com/users/2337872/steve-dyke"}, "is_accepted": true, "score": 0, "last_activity_date": 1568317919, "creation_date": 1568317919, "answer_id": 57913654, "question_id": 57897899, "link": "https://stackoverflow.com/questions/57897899/using-jqgrid-how-to-programmatically-select-an-element-in-a-select-list/57913654#57913654", "title": "Using jQgrid How to Programmatically Select an Element in a Select List", "body": "<p>Set the option values to numeric and the programmatic selection works.</p>\n"}], "owner": {"reputation": 133, "user_id": 2337872, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/fa903bbdc3a8365bab7b95f18944e40a?s=128&d=identicon&r=PG", "display_name": "Steve Dyke", "link": "https://stackoverflow.com/users/2337872/steve-dyke"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 57913654, "answer_count": 1, "score": 0, "last_activity_date": 1568317919, "creation_date": 1568243931, "last_edit_date": 1568244421, "question_id": 57897899, "link": "https://stackoverflow.com/questions/57897899/using-jqgrid-how-to-programmatically-select-an-element-in-a-select-list", "title": "Using jQgrid How to Programmatically Select an Element in a Select List", "body": "<p>I want to display the Edit form with an element already selected(highlighted) in a dropdown list. The list is populated using AJAX with one of the options set to selected.  </p>\n\n<p>If I inspect the process the correct option is set in the BeforeShowForm and AfterShowForm but then reverts back to the empty default value.</p>\n\n<pre><code>colNames:['Index','File Name'],\n    colModel:[\n        {name:'id', index:'id', width:100, hidden: true, editable: true, editrules:{edithidden:true}, formoptions:{rowpos:1, colpos:1,label:\"Index:\"}},\n        {name:'filename', index:'filename', width:400, hidden: false, editable: true, editrules:{edithidden:true}, formoptions:{rowpos:8, colpos:1,label:\"Template Name:\"} , edittype: \"select\", editoptions: { size: 1}},\n\n\n    ],....\n\nfunction oSelect(id,status,e){\n        $(\"#aclCushionPlacardlistV8\").setColProp('filename', { editoptions: { dataUrl: '/QMSWebApp/AssyComponentListV8SupportControllerServlet?lifecycle=cushionplacardtypeoptions'}});     \n\n    }\n\n    function bsForm(formId){\n\n    }\n    function asForm(formId){\n    alert(\"Stop - The desired list element is seleced in the list\");\n    }\n</code></pre>\n\n<p>No error messages and list is populated correctly. I just cannot get the programmatic selected portion to work. In the code I show an alert and up to this point all is working. However, when the alert is closed the select list defaults back to the top element 0.</p>\n"}, {"tags": ["javascript", "python", "node.js"], "comments": [{"owner": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1568244433, "post_id": 57897894, "comment_id": 102216717, "body": "your pseudo code is very high level. Have you looked at basic socket tutorials and documentation for python and node?"}, {"owner": {"reputation": 3, "user_id": 11938145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28d29f1191e72c21bdb5ce1dc8e2b44e?s=128&d=identicon&r=PG&f=1", "display_name": "thepronoobkq", "link": "https://stackoverflow.com/users/11938145/thepronoobkq"}, "reply_to_user": {"reputation": 17298, "user_id": 1540468, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/2f7d0c7668a2f3b53cf22c01ae63f32b?s=128&d=identicon&r=PG", "display_name": "Paul Rooney", "link": "https://stackoverflow.com/users/1540468/paul-rooney"}, "edited": false, "score": 0, "creation_date": 1568244482, "post_id": 57897894, "comment_id": 102216726, "body": "I know how to do it in python, I can&#39;t figure out the node.js"}], "answers": [{"tags": [], "owner": {"reputation": 2020, "user_id": 3279603, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/9zp3k.jpg?s=128&g=1", "display_name": "aminrd", "link": "https://stackoverflow.com/users/3279603/aminrd"}, "is_accepted": true, "score": 1, "last_activity_date": 1568244599, "creation_date": 1568244599, "answer_id": 57897950, "question_id": 57897894, "link": "https://stackoverflow.com/questions/57897894/how-to-use-sockets-to-send-information-from-javascript-to-python/57897950#57897950", "title": "How to use sockets to send information from javascript to python", "body": "<p>You should determine which code is the server and which one is the client. I assume your Python code is your server. \nYou can run a server in python using: </p>\n\n<pre><code>import socket\n\nHOST = '0.0.0.0'\nPORT = 9999    \n\nwith socket.socket(socket.AF_INET, socket.SOCK_STREAM) as s:\n    s.bind((HOST, PORT))\n    s.listen()\n    conn, addr = s.accept()\n    with conn:\n        print('Connected by', addr)\n        while True:\n            data = conn.recv(1024)\n            if not data:\n                break\n            conn.sendall(data)\n</code></pre>\n\n<p>And then you can connect your Nodejs client code to the server: </p>\n\n<pre><code>var net = require('net');\n\nvar HOST = '127.0.0.1';\nvar PORT = 9999;\n\nvar client = new net.Socket();\nclient.connect(PORT, HOST, function() {\n  console.log('CONNECTED TO: ' + HOST + ':' + PORT);\n  // Write a message to the socket as soon as the client is connected, the server will receive it as message from the client\n client.write('Message from client');\n\n});\n\n// Add a 'data' event handler for the client socket\n// data is what the server sent to this socket\nclient.on('data', function(data) {\n  console.log('DATA: ' + data);\n  // Close the client socket completely\n  client.destroy();\n});\n\n// Add a 'close' event handler for the client socket\nclient.on('close', function() {\n  console.log('Connection closed');\n});\n\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11938145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/28d29f1191e72c21bdb5ce1dc8e2b44e?s=128&d=identicon&r=PG&f=1", "display_name": "thepronoobkq", "link": "https://stackoverflow.com/users/11938145/thepronoobkq"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 604, "favorite_count": 0, "accepted_answer_id": 57897950, "answer_count": 1, "score": 0, "last_activity_date": 1568244599, "creation_date": 1568243902, "question_id": 57897894, "link": "https://stackoverflow.com/questions/57897894/how-to-use-sockets-to-send-information-from-javascript-to-python", "title": "How to use sockets to send information from javascript to python", "body": "<p>I want to send information from my Node.js code to Python using sockets. How can I achieve that?</p>\n\n<p>In pseudo-code, what I want is this:</p>\n\n<p>js:</p>\n\n<pre><code>sendInformation(information)\n</code></pre>\n\n<p>python:</p>\n\n<pre><code>recieveInformation()\nsendNewInformation()\n</code></pre>\n\n<p>js:</p>\n\n<pre><code>recievNewInformation()\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 4584, "user_id": 554436, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Ze2jS.jpg?s=128&g=1", "display_name": "Saswat Padhi", "link": "https://stackoverflow.com/users/554436/saswat-padhi"}, "edited": false, "score": 0, "creation_date": 1568243868, "post_id": 57897863, "comment_id": 102216614, "body": "What do you mean &quot;each array value&quot;? Do you mean each digit of the number?"}, {"owner": {"reputation": 464, "user_id": 6199444, "user_type": "registered", "accept_rate": 53, "profile_image": "https://i.stack.imgur.com/zsRac.jpg?s=128&g=1", "display_name": "Aditya", "link": "https://stackoverflow.com/users/6199444/aditya"}, "edited": false, "score": 0, "creation_date": 1568243873, "post_id": 57897863, "comment_id": 102216618, "body": "You should assign the returned value to x"}], "answers": [{"tags": [], "owner": {"reputation": 2336, "user_id": 7389264, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/160900497f0373247800b2ad89798e32?s=128&d=identicon&r=PG&f=1", "display_name": "jirassimok", "link": "https://stackoverflow.com/users/7389264/jirassimok"}, "is_accepted": true, "score": 1, "last_activity_date": 1568243945, "creation_date": 1568243945, "answer_id": 57897902, "question_id": 57897863, "link": "https://stackoverflow.com/questions/57897863/javascript-x-split-is-not-a-function-error/57897902#57897902", "title": "JavaScript: x.split is not a function error", "body": "<p>Each of the functions you are calling returns a new value\u2014they do not modify the value in place, so when you call <code>split</code>, <code>x</code> is still a number, and you can't split a number.</p>\n\n<p>Try running this in a console to see what I mean:</p>\n\n<pre><code>x = 13\nconsole.log(x.toString()) # output: \"13\"\nconsole.log(x, typeof x) # output: 13 \"string\"\n</code></pre>\n\n<p>Instead, you need to re-assign <code>x</code> or create new variables.</p>\n\n<pre><code>x = 13\nx = x.toString() # now x is the string \"13\"\ny = x.split(\"\") # y is [\"1\", \"3\"]\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 734, "user_id": 9999417, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_D9-v2Bi8D8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0yXnSaIoK7oO_ZNBFBPiw0SKjpsw/mo/photo.jpg?sz=128", "display_name": "Joven28", "link": "https://stackoverflow.com/users/9999417/joven28"}, "is_accepted": false, "score": 0, "last_activity_date": 1568244632, "creation_date": 1568244632, "answer_id": 57897955, "question_id": 57897863, "link": "https://stackoverflow.com/questions/57897863/javascript-x-split-is-not-a-function-error/57897955#57897955", "title": "JavaScript: x.split is not a function error", "body": "<p>You can use a composition function approach.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function compose(...fns) {\r\n    return function(arg) {\r\n      return fns.reduce((acc, fn) =&gt; fn(acc), arg);\r\n    }\r\n}\r\n\r\nfunction str(x) {\r\n    return x + '';\r\n}\r\nfunction arr(x) {\r\n    return x.split(\"\");\r\n}\r\nfunction int(x) {\r\n    return parseFloat(x);\r\n}\r\n\r\nconst compositionFn = compose(str, arr, int);\r\n\r\nconsole.log(compositionFn(22));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5, "user_id": 12055565, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mAOhqhAUMxab7L9qlB7_OYEz9e2nCrXP-U5-0m7tA=k-s128", "display_name": "BoomDev", "link": "https://stackoverflow.com/users/12055565/boomdev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 57897902, "answer_count": 2, "score": 0, "last_activity_date": 1568244632, "creation_date": 1568243636, "last_edit_date": 1568243927, "question_id": 57897863, "link": "https://stackoverflow.com/questions/57897863/javascript-x-split-is-not-a-function-error", "title": "JavaScript: x.split is not a function error", "body": "<p>I have been working on converting a number to a string, then to an array and adding each array value together. I am running into an error where it says, \"x.split is not a function in arr\". Any solutions?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function quan(x) {\r\n    str(x);\r\n    arr(x);\r\n    int(x);\r\n    return x;\r\n}\r\n\r\nfunction str(x) {\r\n    return x.toString();\r\n}\r\nfunction arr(x) {\r\n    return x.split(\"\");\r\n}\r\nfunction int(x) {\r\n    return parseFloat(x);\r\n}\r\n\r\nconsole.log(quan(13));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "immutability"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 2, "creation_date": 1568243605, "post_id": 57897841, "comment_id": 102216543, "body": "What do you mean by &quot;immutably insert&quot;? Inserting is a mutation. Sounds like you just need to make a copy of the array, insert into the copy, and return that."}], "answers": [{"tags": [], "owner": {"reputation": 734, "user_id": 9999417, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-_D9-v2Bi8D8/AAAAAAAAAAI/AAAAAAAAAAA/AB6qoq0yXnSaIoK7oO_ZNBFBPiw0SKjpsw/mo/photo.jpg?sz=128", "display_name": "Joven28", "link": "https://stackoverflow.com/users/9999417/joven28"}, "is_accepted": true, "score": 1, "last_activity_date": 1568243829, "creation_date": 1568243829, "answer_id": 57897886, "question_id": 57897841, "link": "https://stackoverflow.com/questions/57897841/how-to-immutably-insert-into-a-sorted-array/57897886#57897886", "title": "How to immutably insert into a sorted array?", "body": "<p>Try this one.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let sortedArr = [1,2,5,9,12];\r\n\r\nconst newItem = 7;\r\n\r\nfor (let i = 0; i &lt; sortedArr.length; i++) {\r\n  if (newItem &lt;= sortedArr[i]) {\r\n    sortedArr = [...sortedArr.slice(0, i), newItem, ...sortedArr.slice(i)];\r\n    break;\r\n  }\r\n}\r\nconsole.log(sortedArr);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 513, "user_id": 1930938, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/235746eabbfd07a9774e6eba400f447d?s=128&d=identicon&r=PG", "display_name": "Cog", "link": "https://stackoverflow.com/users/1930938/cog"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "closed_date": 1568243678, "accepted_answer_id": 57897886, "answer_count": 1, "score": 0, "last_activity_date": 1568243829, "creation_date": 1568243376, "question_id": 57897841, "link": "https://stackoverflow.com/questions/57897841/how-to-immutably-insert-into-a-sorted-array", "closed_reason": "Duplicate", "title": "How to immutably insert into a sorted array?", "body": "<p>How do I immutably insert an element into a sorted array? (Let's assume an array of integers for simplicity)</p>\n\n<p>The reason for this question: I'm writing a reducer for a React app, where the order of elements in my particular array is important.</p>\n\n<p>The closest solution I've found is this <a href=\"https://daveceddia.com/react-redux-immutability-guide/#redux-insert-an-item-in-the-middle-of-an-array\" rel=\"nofollow noreferrer\">one here</a>, but it doesn't cover insertions into a sorted array.</p>\n"}, {"tags": ["javascript", "events", "template-literals"], "comments": [{"owner": {"reputation": 4584, "user_id": 554436, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Ze2jS.jpg?s=128&g=1", "display_name": "Saswat Padhi", "link": "https://stackoverflow.com/users/554436/saswat-padhi"}, "edited": false, "score": 1, "creation_date": 1568243312, "post_id": 57897817, "comment_id": 102216492, "body": "The JSFiddle link is missing"}, {"owner": {"reputation": 117, "user_id": 11996130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/659ec7986db1b12de34416282ac2cc62?s=128&d=identicon&r=PG&f=1", "display_name": "Bob ", "link": "https://stackoverflow.com/users/11996130/bob"}, "reply_to_user": {"reputation": 4584, "user_id": 554436, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Ze2jS.jpg?s=128&g=1", "display_name": "Saswat Padhi", "link": "https://stackoverflow.com/users/554436/saswat-padhi"}, "edited": false, "score": 0, "creation_date": 1568243441, "post_id": 57897817, "comment_id": 102216518, "body": "@Saswat Padhi My bad I fixed it now!"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 2, "creation_date": 1568243636, "post_id": 57897817, "comment_id": 102216552, "body": "sounds like maybe a duplicate of <a href=\"https://stackoverflow.com/q/3469885/1048572\">++someVariable vs. someVariable++ in JavaScript</a>?"}, {"owner": {"reputation": 28707, "user_id": 125981, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/f2077dbed28ae040719cbe698800ec29?s=128&d=identicon&r=PG", "display_name": "Mark Schultheiss", "link": "https://stackoverflow.com/users/125981/mark-schultheiss"}, "edited": false, "score": 0, "creation_date": 1568243699, "post_id": 57897817, "comment_id": 102216569, "body": "&quot;Uncaught ReferenceError: rockPaper is not defined&quot;,"}, {"owner": {"reputation": 4584, "user_id": 554436, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/Ze2jS.jpg?s=128&g=1", "display_name": "Saswat Padhi", "link": "https://stackoverflow.com/users/554436/saswat-padhi"}, "edited": false, "score": 1, "creation_date": 1568243708, "post_id": 57897817, "comment_id": 102216572, "body": "Exactly. Changing all <code>score[...]++</code> to <code>++score[...]</code> fixes the issue"}, {"owner": {"reputation": 117, "user_id": 11996130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/659ec7986db1b12de34416282ac2cc62?s=128&d=identicon&r=PG&f=1", "display_name": "Bob ", "link": "https://stackoverflow.com/users/11996130/bob"}, "edited": false, "score": 0, "creation_date": 1568243877, "post_id": 57897817, "comment_id": 102216620, "body": "Wait why does the position of the plus sign have an effect here? Never ran into this issue before.."}, {"owner": {"reputation": 4469, "user_id": 479156, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x9N3C.jpg?s=128&g=1", "display_name": "Ivar", "link": "https://stackoverflow.com/users/479156/ivar"}, "edited": false, "score": 2, "creation_date": 1568243964, "post_id": 57897817, "comment_id": 102216637, "body": "@Bob See the duplicates. (Links are above your question.)"}], "owner": {"reputation": 117, "user_id": 11996130, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/659ec7986db1b12de34416282ac2cc62?s=128&d=identicon&r=PG&f=1", "display_name": "Bob ", "link": "https://stackoverflow.com/users/11996130/bob"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "closed_date": 1568243866, "answer_count": 0, "score": 0, "last_activity_date": 1568244141, "creation_date": 1568243167, "last_edit_date": 1568244141, "question_id": 57897817, "link": "https://stackoverflow.com/questions/57897817/why-doesnt-my-score-update-the-first-time-rock-paper-scissors", "closed_reason": "Duplicate", "title": "Why doesn&#39;t my score update the first time? (rock, paper scissors)", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const div=document.querySelector('div');\r\nconst buttons=document.querySelector('.buttons')\r\nlet score=[0,0]\r\n\r\n\r\nbuttons.addEventListener('click', (e)=&gt; {\r\n  if (e.target.tagName===\"BUTTON\") {\r\n    let playerRes=e.target.innerHTML\r\n    let compRes=rockPaper()\r\n    let number=compareValues(playerRes, compRes)\r\n    console.log(number)\r\n    if (number===0) {\r\n      div.innerHTML=`\r\n      &lt;p&gt;Player[${score[0]}] Computer[${score[1]}]&lt;/p&gt;\r\n      &lt;p&gt;${playerRes} vs ${compRes}&lt;/p&gt;\r\n      &lt;p&gt;It's a tie!&lt;/p&gt;\r\n      `\r\n    } else if (number&gt;0) {\r\n      div.innerHTML=`\r\n      &lt;p&gt;Player[${score[0]++}] Computer[${score[1]}]&lt;/p&gt;\r\n      &lt;p&gt;${playerRes} vs ${compRes}&lt;/p&gt;\r\n      &lt;p&gt;Player wins!&lt;/p&gt;\r\n      `\r\n    } else if (number&lt;0) {\r\n      div.innerHTML=`\r\n      &lt;p&gt;Player[${score[0]}] Computer[${score[1]++}]&lt;/p&gt;\r\n      &lt;p&gt;${playerRes} vs ${compRes}&lt;/p&gt;\r\n      &lt;p&gt;Computer wins!&lt;/p&gt;\r\n      `\r\n    }\r\n  }\r\n  \r\n});\r\n\r\n\r\nconst rockPaper=()=&gt; {\r\n  const items=[\"Rock\", \"Paper\", \"Scissors\"]\r\n  let item = items[Math.floor(Math.random()*items.length)];\r\n  return item\r\n}\r\n\r\nconst compareValues=(player,comp)=&gt; {\r\n  if (player===\"Rock\" &amp;&amp; comp===\"Scissors\" || player===\"Scissors\" &amp;&amp; comp===\"Paper\"|| player===\"Paper\" &amp;&amp; comp===\"Rock\" ) {\r\n    return 1\r\n  } else if (player===comp) {\r\n    return 0\r\n  } else {\r\n    return -1\r\n  }\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div&gt;&lt;/div&gt;\r\n&lt;div class=\"buttons\"&gt;\r\n  &lt;button&gt;Rock&lt;/button&gt;\r\n  &lt;button&gt;Paper&lt;/button&gt;\r\n  &lt;button&gt;Scissors&lt;/button&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here is my JS code:</p>\n\n<pre><code>const div=document.querySelector('div');\nconst buttons=document.querySelector('.buttons')\nlet score=[0,0]\n\n\nbuttons.addEventListener('click', (e)=&gt; {\n  if (e.target.tagName===\"BUTTON\") {\n    let playerRes=e.target.innerHTML\n    let compRes=rockPaper()\n    let number=compareValues(playerRes, compRes)\n    console.log(number)\n    if (number===0) {\n      div.innerHTML=`\n      &lt;p&gt;Player[${score[0]}] Computer[${score[1]}]&lt;/p&gt;\n      &lt;p&gt;${playerRes} vs ${compRes}&lt;/p&gt;\n      &lt;p&gt;It's a tie!&lt;/p&gt;\n      `\n    } else if (number&gt;0) {\n      div.innerHTML=`\n      &lt;p&gt;Player[${score[0]++}] Computer[${score[1]}]&lt;/p&gt;\n      &lt;p&gt;${playerRes} vs ${compRes}&lt;/p&gt;\n      &lt;p&gt;Player wins!&lt;/p&gt;\n      `\n    } else if (number&lt;0) {\n      div.innerHTML=`\n      &lt;p&gt;Player[${score[0]}] Computer[${score[1]++}]&lt;/p&gt;\n      &lt;p&gt;${playerRes} vs ${compRes}&lt;/p&gt;\n      &lt;p&gt;Computer wins!&lt;/p&gt;\n      `\n    }\n  }\n\n});\n\n\nconst rockPaper=()=&gt; {\n  const items=[\"Rock\", \"Paper\", \"Scissors\"]\n  let item = items[Math.floor(Math.random()*items.length)];\n  return item\n}\n\nconst compareValues=(player,comp)=&gt; {\n  if (player===\"Rock\" &amp;&amp; comp===\"Scissors\" || player===\"Scissors\" &amp;&amp; comp===\"Paper\"|| player===\"Paper\" &amp;&amp; comp===\"Rock\" ) {\n    return 1\n  } else if (player===comp) {\n    return 0\n  } else {\n    return -1\n  }\n}\n</code></pre>\n\n<p>Here is a link to my JS fiddle: <a href=\"https://jsfiddle.net/apasric4/b1Lgr5xu/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/apasric4/b1Lgr5xu/</a></p>\n\n<p>The score for both players only updates properly after the first time one of the three buttons is clicked? Why is this happening? Even when its a win for either the player or computer on the first time, both scores remain at 0. The conditionals, as well as the compareValues function seem to be right. I can't figure out what's wrong. </p>\n"}, {"tags": ["javascript", "google-apps-script", "google-sheets", "google-sheets-api"], "answers": [{"comments": [{"owner": {"reputation": 55, "user_id": 11991650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kvYGRR45pyg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfujugo1YtYxnKiJFAcpvUaEP2c0A/photo.jpg?sz=128", "display_name": "apfick", "link": "https://stackoverflow.com/users/11991650/apfick"}, "edited": false, "score": 0, "creation_date": 1568248218, "post_id": 57898033, "comment_id": 102217433, "body": "Yes! Thank you this works great, sorry I didnt know how to clearly explain what I wanted but you got it."}, {"owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "reply_to_user": {"reputation": 55, "user_id": 11991650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kvYGRR45pyg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfujugo1YtYxnKiJFAcpvUaEP2c0A/photo.jpg?sz=128", "display_name": "apfick", "link": "https://stackoverflow.com/users/11991650/apfick"}, "edited": false, "score": 0, "creation_date": 1568248582, "post_id": 57898033, "comment_id": 102217502, "body": "@apfick Thank you for replying. No problem. I&#39;m glad your issue was resolved. Thank you, too."}], "tags": [], "owner": {"reputation": 100534, "user_id": 7108653, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LH2EI.png?s=128&g=1", "display_name": "Tanaike", "link": "https://stackoverflow.com/users/7108653/tanaike"}, "is_accepted": true, "score": 1, "last_activity_date": 1568245418, "creation_date": 1568245418, "answer_id": 57898033, "question_id": 57897805, "link": "https://stackoverflow.com/questions/57897805/how-to-count-from-a-looped-range/57898033#57898033", "title": "How to count from a looped range", "body": "<ul>\n<li>You want to count up the value of the cell of \"D17\" (<code>getRange(17,4)</code>) when <code>month == 1</code> and <code>tiers == 1</code>.</li>\n</ul>\n\n<p>If my understanding is correct, how about this modification? Please think of this as just one of several answers</p>\n\n<h3>Modified script:</h3>\n\n<p>Please modify your script as follows.</p>\n\nFrom:\n\n<pre><code>for(var i =8;i&lt;=j;i++) {\n    var dates = oppwon.getRange(i,22).getValue();\n    var tiers = oppwon.getRange(i,14).getValue();\n\n\n  var month = new Date(dates).getMonth();\n\n\n\n  switch (true){\n      case((month==1)):\n          if(tiers==1)\n    {summary.getRange(17,4).setValue()+1;}\n\n        break;\n</code></pre>\n\nTo:\n\n<pre><code>var range = summary.getRange(17,4);  // Added\nvar currentValue = range.getValue();  // Added\nfor (var i = 8; i &lt;= j; i++) {\n  var dates = oppwon.getRange(i,22).getValue();\n  var tiers = oppwon.getRange(i,14).getValue();\n  var month = new Date(dates).getMonth();\n  switch (true) {\n    case (month == 1):\n    if (tiers == 1) {\n      range.setValue(++currentValue);  // Modified\n    }\n    break;\n</code></pre>\n\n<ul>\n<li>At first, the current value from the cell of \"D17\" is retrieved. Then, new value is put to the cell by adding the number of <code>1</code>.</li>\n</ul>\n\n<h3>Note:</h3>\n\n<ul>\n<li>To use <code>getValue()</code> in the for loop leads to the high process cost. But I'm not sure about your whole script. So I couldn't propose about this.</li>\n</ul>\n\n<h3>References:</h3>\n\n<ul>\n<li><a href=\"https://developers.google.com/apps-script/reference/spreadsheet/range#getvalue\" rel=\"nofollow noreferrer\">getValue()</a></li>\n<li><a href=\"https://developers.google.com/apps-script/reference/spreadsheet/range#setvaluevalue\" rel=\"nofollow noreferrer\">setValue(value)</a></li>\n</ul>\n\n<p>If I misunderstood your question and this was not the result you want, I apologize. At that time, can you provide the sample Spreadsheet and your script for replicating your issue. By this, I would like to confirm it.</p>\n"}], "owner": {"reputation": 55, "user_id": 11991650, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-kvYGRR45pyg/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfujugo1YtYxnKiJFAcpvUaEP2c0A/photo.jpg?sz=128", "display_name": "apfick", "link": "https://stackoverflow.com/users/11991650/apfick"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 57898033, "answer_count": 1, "score": 0, "last_activity_date": 1568245418, "creation_date": 1568242975, "question_id": 57897805, "link": "https://stackoverflow.com/questions/57897805/how-to-count-from-a-looped-range", "title": "How to count from a looped range", "body": "<p>So here is a bit of the code that retrieves data from a list where dates may or may not be inputted. If there is a date, the month will be extracted, and based on what month it is, I want the cell (17,4 in this case) to count how many dates of that month. The loop goes through the page to pull out all the dates but I do not know how to count or add more than one to (17,4).</p>\n\n<pre><code>for(var i =8;i&lt;=j;i++) {\n    var dates = oppwon.getRange(i,22).getValue();\n    var tiers = oppwon.getRange(i,14).getValue();\n\n\n  var month = new Date(dates).getMonth();\n\n\n\n  switch (true){\n      case((month==1)):\n          if(tiers==1)\n    {summary.getRange(17,4).setValue()+1;}\n\n        break;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "next.js", "static-site"], "answers": [{"tags": [], "owner": {"reputation": 436, "user_id": 6817437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uK4Td.png?s=128&g=1", "display_name": "brettinternet", "link": "https://stackoverflow.com/users/6817437/brettinternet"}, "is_accepted": false, "score": 1, "last_activity_date": 1615243684, "last_edit_date": 1615243684, "creation_date": 1568304672, "answer_id": 57910755, "question_id": 57897785, "link": "https://stackoverflow.com/questions/57897785/how-can-i-use-getinitialprops-only-during-the-nextjs-site-build/57910755#57910755", "title": "How can I use getInitialProps only during the NextJS site build?", "body": "<p>For version <strong>9.3 or newer</strong>, <a href=\"https://nextjs.org/docs/api-reference/data-fetching/getInitialProps\" rel=\"nofollow noreferrer\">it's recommended</a> that you use <a href=\"https://nextjs.org/docs/basic-features/data-fetching#getstaticprops-static-generation\" rel=\"nofollow noreferrer\"><code>getStaticProps</code></a> for providing static build props.</p>\n<pre><code>export async function getStaticProps(context) {\n  return {\n    props: {}, // will be passed to the page component as props\n  }\n}\n</code></pre>\n<hr />\n<h1>Old answer</h1>\n<p>There <s>are two ways</s> is one way that I've found to prevent code in <code>getInitialProps</code> from running on a page component load.</p>\n<h3>1. Use a regular anchor tag without <code>next/link</code> to that page.</h3>\n<p><code>getInitialProps</code> only runs when the page is linked from a <code>next/link</code> component. If a regular JSX anchor <code>&lt;a href=&quot;/my-page&quot;&gt;click me&lt;/a&gt;</code> is used instead, the component's <code>getInitialProps</code> will <strong>not</strong> be invoked. Direct page loads to NextJS static site pages will not invoke <code>getInitialProps</code>.</p>\n<p>Note that using a standard anchor instead of the <code>next/link</code> component will cause a full page refresh.</p>\n<p>Because this is a poor solution, <a href=\"https://github.com/zeit/next.js/issues/8774\" rel=\"nofollow noreferrer\">I've submitted a feature request</a>.</p>\n<hr />\n<h3><s>2. Use <code>req</code> in the <code>context</code> argument to conditionally make the API call in <code>getInitialProps</code>.</h3>\n<p>I believe what @evgenifotia wanted to convey is that <code>req</code> is undefined in a site that's been exported.</p>\n<pre class=\"lang-js prettyprint-override\"><code>// example usage of API call in getInitialProps\nimport fetch from 'isomorphic-unfetch'\n\nfunction Page({ stars }) {\n  return &lt;div&gt;Next stars: {stars}&lt;/div&gt;\n}\n\nPage.getInitialProps = async (ctx) =&gt; {\n  const { req } = ctx // context object: { req, res, pathname, query, asPath }\n  if (req) { // will only run during the build (next export)\n    const res = await fetch('https://api.github.com/repos/zeit/next.js')\n    const json = await res.json()\n    return { stars: json.stargazers_count }\n  }\n\n  return {}\n}\n\nexport default Page\n</code></pre>\n<p>For more information about <code>getInitialProps</code>, see the <a href=\"https://nextjs.org/docs#fetching-data-and-component-lifecycle\" rel=\"nofollow noreferrer\">documentation</a>. One example there confirms that <code>req</code> is expected to only be defined on the server (or during the exporting build):</p>\n<pre class=\"lang-js prettyprint-override\"><code>const userAgent = req ? req.headers['user-agent'] : navigator.userAgent`\n</code></pre>\n</s>\n<p>This second option may work for some scenarios, but not mine where returning an empty result from <code>getInitialProps</code> will affect the component's <code>this.props</code>.</p>\n<hr />\n<p><strong>Note:</strong></p>\n<p>Shallow routing is not the answer. <a href=\"https://nextjs.org/docs/#shallow-routing\" rel=\"nofollow noreferrer\">According to the documentation</a> (see under &quot;Notes&quot; section):</p>\n<blockquote>\n<p>Shallow routing works only for same page URL changes.</p>\n</blockquote>\n"}, {"comments": [{"owner": {"reputation": 339, "user_id": 10094956, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-vxlRZU9fOzs/AAAAAAAAAAI/AAAAAAAAAAA/AAnnY7ogbNesrlUqkCSpZywK6EJte3Z69w/mo/photo.jpg?sz=128", "display_name": "oygen", "link": "https://stackoverflow.com/users/10094956/oygen"}, "edited": false, "score": 0, "creation_date": 1572267773, "post_id": 58196267, "comment_id": 103495852, "body": "hours of debugging later i found the answer here, thank you!"}, {"owner": {"user_type": "does_not_exist", "display_name": "user7885981"}, "edited": false, "score": 0, "creation_date": 1582754647, "post_id": 58196267, "comment_id": 106890776, "body": "Thanks so much! I&#39;m surprised Next.js doesn&#39;t explain this in their docs."}], "tags": [], "owner": {"reputation": 126, "user_id": 1064947, "user_type": "registered", "profile_image": "https://graph.facebook.com/1152686158/picture?type=large", "display_name": "dmks", "link": "https://stackoverflow.com/users/1064947/dmks"}, "is_accepted": true, "score": 11, "last_activity_date": 1569997948, "creation_date": 1569997948, "answer_id": 58196267, "question_id": 57897785, "link": "https://stackoverflow.com/questions/57897785/how-can-i-use-getinitialprops-only-during-the-nextjs-site-build/58196267#58196267", "title": "How can I use getInitialProps only during the NextJS site build?", "body": "<p>I found the workaround with NextJs 9.0.3 (other versions may also work, I didn't test that)</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>// XXXPage is your page\r\n\r\nXXXPage.getInitialProps = async (req) =&gt; {\r\n  if (process.browser) {\r\n    return __NEXT_DATA__.props.pageProps;\r\n  }\r\n  // original logic\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 436, "user_id": 6817437, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uK4Td.png?s=128&g=1", "display_name": "brettinternet", "link": "https://stackoverflow.com/users/6817437/brettinternet"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 6400, "favorite_count": 5, "accepted_answer_id": 58196267, "answer_count": 2, "score": 9, "last_activity_date": 1615243684, "creation_date": 1568242822, "question_id": 57897785, "link": "https://stackoverflow.com/questions/57897785/how-can-i-use-getinitialprops-only-during-the-nextjs-site-build", "title": "How can I use getInitialProps only during the NextJS site build?", "body": "<p>When using NextJS to build a static site, I would like the <code>getInitialProps</code> method to fire only during the build step and not on the client.</p>\n\n<p>In the build step, NextJS runs the <a href=\"https://nextjs.org/docs#fetching-data-and-component-lifecycle\" rel=\"noreferrer\">getInitialProps method</a> before each component's rendered HTML is used to generate the page's static HTML. On the client, NextJS also runs this method before the page component is rendered in order to return the necessary props for the component. Thus, large requests can delay the client's first paint as this is a blocking request.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// example usage of API call in getInitialProps\nimport fetch from 'isomorphic-unfetch'\n\nfunction Page({ stars }) {\n  return &lt;div&gt;Next stars: {stars}&lt;/div&gt;\n}\n\nPage.getInitialProps = async ({ req }) =&gt; {\n  const res = await fetch('https://api.github.com/repos/zeit/next.js')\n  const json = await res.json()\n  return { stars: json.stargazers_count }\n}\n\nexport default Page\n</code></pre>\n\n<p>I'm unwilling to move my slow API request to <code>componentDidMount</code> in order to avoid the blocking request because I want to use the data returned during the build step to populate the static HTML, and this particular request doesn't need to be dynamic or updated after the build.</p>\n\n<p>Is there a way I can make <code>getInitialProps</code> run <em>only</em> when <code>next export</code> builds and <em>not</em> as the client loads the page?</p>\n\n<p>Is this good practice?</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "edited": false, "score": 0, "creation_date": 1568243061, "post_id": 57897729, "comment_id": 102216436, "body": "Your question is incomplete, what do you see in <code>dev-tools</code>? How do you serve the application (<code>npm start</code> or <code>npm build</code> and running the build)?"}, {"owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "edited": false, "score": 0, "creation_date": 1568243121, "post_id": 57897729, "comment_id": 102216444, "body": "Also with <code>react</code>, why would you edit your <code>html</code> and not using the defaults of <code>CRA</code>"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1568243452, "post_id": 57897729, "comment_id": 102216524, "body": "The script needs to be <code>type=&quot;text&#47;babel&quot;</code>, with a forward slash. Fix that, and <code>app.js</code> will appear in the sources and React will run fine."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "reply_to_user": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "edited": false, "score": 0, "creation_date": 1568243519, "post_id": 57897729, "comment_id": 102216534, "body": "@DennisVash OP isn&#39;t using CRA."}, {"owner": {"reputation": 21, "user_id": 9948395, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2ookKQkmcdY/AAAAAAAAAAI/AAAAAAAAL20/oxhZffHxHyg/photo.jpg?sz=128", "display_name": "gilad postovsky", "link": "https://stackoverflow.com/users/9948395/gilad-postovsky"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1568244647, "post_id": 57897729, "comment_id": 102216772, "body": "Thanks, guys! @ChrisG WAS RIGHT sorry for not being more specific."}], "answers": [{"tags": [], "owner": {"reputation": 1741, "user_id": 12005425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5NfIi.png?s=128&g=1", "display_name": "winwiz1", "link": "https://stackoverflow.com/users/12005425/winwiz1"}, "is_accepted": false, "score": 0, "last_activity_date": 1568248775, "creation_date": 1568248775, "answer_id": 57898326, "question_id": 57897729, "link": "https://stackoverflow.com/questions/57897729/chrome-developer-tools-sources-not-showing-source-files/57898326#57898326", "title": "Chrome developer tools sources not showing source files", "body": "<blockquote>\n  <p>I know that the \"Sources\u201d tab in chrome dev tools is supposed to let me look at my JavaScript files in the browser but they aren't.</p>\n</blockquote>\n\n<p>You add a directory, typically <code>your-project/src</code> via a dialog shown by Chrome. Then Chrome displays a narrow horizontal bar at the top of browser's window asking you to confirm Chrome's access to the chosen disk directory. The bar is easy to overlook.</p>\n\n<p>Once you added a directory, it's not of much use if you cannot set breakpoints. Chrome needs source maps for that. If source maps are loaded then Chrome superimposes a green dot on the icon of each source file indicating the breakpoints inside this file can be set.</p>\n\n<p>Looks like you are using semantic-ui with react. If you would like to have a boilerplate project with all that set up and detailed debugging instructions related to Chrome and its 'Sources' tab, then have a look at <a href=\"https://github.com/winwiz1/crisp-react\" rel=\"nofollow noreferrer\">crisp-react</a></p>\n"}], "owner": {"reputation": 21, "user_id": 9948395, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-2ookKQkmcdY/AAAAAAAAAAI/AAAAAAAAL20/oxhZffHxHyg/photo.jpg?sz=128", "display_name": "gilad postovsky", "link": "https://stackoverflow.com/users/9948395/gilad-postovsky"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1160, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1568248775, "creation_date": 1568242255, "question_id": 57897729, "link": "https://stackoverflow.com/questions/57897729/chrome-developer-tools-sources-not-showing-source-files", "title": "Chrome developer tools sources not showing source files", "body": "<p>I'm very new to JavaScript and React,  I know that the \"Sources\u201d tab in chrome dev tools is supposed to let me look at my JavaScript files in the browser but they aren't.\nAnd I think this is why the program is not doing what it meant to.</p>\n\n<p>index.html-</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n\n  &lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Project One&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"./semantic-dist/semantic.css\" /&gt;\n    &lt;link rel=\"stylesheet\" href=\"./style.css\" /&gt;\n    &lt;script src=\"vendor/babel-standalone.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"vendor/react.js\"&gt;&lt;/script&gt;\n    &lt;script src=\"vendor/react-dom.js\"&gt;&lt;/script&gt;\n\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;div class=\"main ui text container\"&gt;\n      &lt;h1 class=\"ui dividing centered header\"&gt;Popular Products&lt;/h1&gt;\n      &lt;div id=\"content\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n\n    &lt;script src=\"./js/seed.js\"&gt;&lt;/script&gt;\n    &lt;script type=\"text\\babel\" data-plugins= \"transform-class-properties\" src=\"./js/app.js\"&gt;&lt;/script&gt;\n    &lt;!-- Delete the script tag below to get started. --&gt;\n  &lt;/body&gt;\n\n&lt;/html&gt;\n\napp.js-\n\nclass ProductList extends React.Component {\n  render() {\n    return(\n      &lt;div className = 'ui unstackable items'&gt;\n      Hello Friend!, I am a basic React Component\n      &lt;/div&gt;\n    );\n  }`enter code here`\n}\nReactDOM.render(\n        &lt;ProductList /&gt;,\n        document.getElementById('content')\n);\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "pdf"], "owner": {"reputation": 21, "user_id": 12055494, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mCtYfcwsuT9dP7UQcwcai-cOs-dFdTchyXanW8Bi1s=k-s128", "display_name": "Rafa Quintero", "link": "https://stackoverflow.com/users/12055494/rafa-quintero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1568242120, "creation_date": 1568242120, "question_id": 57897712, "link": "https://stackoverflow.com/questions/57897712/download-pdf-files-from-a-ftp-and-join-them", "title": "Download PDF files from a FTP and join them", "body": "<p>I'm building a web-app where a list of buildings come up, each building has a flyer.pdf storaged on an FTP. I already figured out how to download the PDF but the users need to select each one and join it on a single one.</p>\n\n<p>I already tried using a foreach function but all the dependencies I find to join PDFs require a route rather than a blob, the code below is what I use for a single one, I'm just using a query to pass an array with all the buildings IDs (inmbID).</p>\n\n<pre><code> uploadRouter.route(\"/downloadPDF\").get((req, res) =&gt; {\n  console.log(\"TCL: req.params\", req.query.InmbIDs)\n\n  req.query.InmbIDs.forEach(inmbID =&gt; {\n    Ftp.ls(`/${inmbID}/flyerPdf`, (err, res1) =&gt; {\n      if (!res1[0]) {\n        return res.send(\"No hay nada para bajar\");\n      } else {\n        let check = res1.sort().reverse()[0];\n\n        Ftp.get(`${inmbID}/${fileType}/${check.name}`, (err, socket) =&gt; {\n          let opts = {};\n          if (err) {\n            return;\n          }\n\n          let data = [];\n          socket.on(\"data\", d =&gt; {\n            data.push(d);\n          });\n\n          socket.on(\"end\", hadErr =&gt; {\n            if (hadErr) {\n              console.log(\"There was an error retrieving the file.\");\n            }\n            data = Buffer.concat(data);\n            const ext = check.name.split(\".\")[1];\n            res.writeHead(200, {\n              \"Content-Type\": `.${ext}`,\n              \"Content-disposition\": \"attachment; filename=\" + `\"${check.name}\"`,\n              \"Content-Length\": data.length\n            });\n\n            res.end( data );\n          });\n\n          socket.resume();\n        });\n      }\n    });\n  });\n\n\n});\n</code></pre>\n\n<p>I expect the browser to handle a single PDF file with all the flyer.pdf joined</p>\n"}, {"tags": ["javascript", "html", "d3.js"], "comments": [{"owner": {"reputation": 7125, "user_id": 3975309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r5v7W.jpg?s=128&g=1", "display_name": "Mikkel", "link": "https://stackoverflow.com/users/3975309/mikkel"}, "edited": false, "score": 0, "creation_date": 1568242499, "post_id": 57897688, "comment_id": 102216306, "body": "Welcome to Stack Overflow. Have you looked at the browser console, are there any errors that might help you?"}, {"owner": {"reputation": 3, "user_id": 3444996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4664bcae219eba3b2eb66c5d58d46cdb?s=128&d=identicon&r=PG&f=1", "display_name": "HelpMeImDumb", "link": "https://stackoverflow.com/users/3444996/helpmeimdumb"}, "reply_to_user": {"reputation": 7125, "user_id": 3975309, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r5v7W.jpg?s=128&g=1", "display_name": "Mikkel", "link": "https://stackoverflow.com/users/3975309/mikkel"}, "edited": false, "score": 0, "creation_date": 1568242695, "post_id": 57897688, "comment_id": 102216363, "body": "nothing in the console unfortunately aside from the couple console.log values i had it output"}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 3444996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4664bcae219eba3b2eb66c5d58d46cdb?s=128&d=identicon&r=PG&f=1", "display_name": "HelpMeImDumb", "link": "https://stackoverflow.com/users/3444996/helpmeimdumb"}, "edited": false, "score": 0, "creation_date": 1568401340, "post_id": 57899437, "comment_id": 102275639, "body": "Thanks so much man, never would have known about the jsfiddle d3 v5 bug. I resolved my spacing issues too. You rock"}], "tags": [], "owner": {"reputation": 3884, "user_id": 5579644, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf8d186a62c24429d398982ec94f4490?s=128&d=identicon&r=PG&f=1", "display_name": "Marcelo", "link": "https://stackoverflow.com/users/5579644/marcelo"}, "is_accepted": true, "score": 0, "last_activity_date": 1568259849, "creation_date": 1568259849, "answer_id": 57899437, "question_id": 57897688, "link": "https://stackoverflow.com/questions/57897688/d3-js-line-chart-not-displaying-on-screen/57899437#57899437", "title": "D3.js line chart not displaying on screen", "body": "<p>There were 2 major issues. First, it seems there is a bug on jsfiddle when using d3v5. I decide to use plain js and load d3v5 using script tags. After that I start seeing the elements inside the <code>&lt;svg&gt;</code> when using the browser tools. I had to adjust the size of the <code>&lt;svg&gt;</code> element to see the axis.\nThe second major issue is the <code>data</code> function is for the <a href=\"https://bl.ocks.org/mbostock/3808234\" rel=\"nofollow noreferrer\">Enter-Update-Exit pattern</a>. In your case you should use the datum method.</p>\n\n<p>Here is the updated jsfiddle:\n<a href=\"https://jsfiddle.net/75uh2La0/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/75uh2La0/</a></p>\n"}], "owner": {"reputation": 3, "user_id": 3444996, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4664bcae219eba3b2eb66c5d58d46cdb?s=128&d=identicon&r=PG&f=1", "display_name": "HelpMeImDumb", "link": "https://stackoverflow.com/users/3444996/helpmeimdumb"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 76, "favorite_count": 0, "accepted_answer_id": 57899437, "answer_count": 1, "score": 0, "last_activity_date": 1568259849, "creation_date": 1568241908, "question_id": 57897688, "link": "https://stackoverflow.com/questions/57897688/d3-js-line-chart-not-displaying-on-screen", "title": "D3.js line chart not displaying on screen", "body": "<p>D3.js line chart not displaying in window</p>\n\n<p>Hi I'm fairly new to javascript and going by a few examples I mocked up this implementation of a d3.js linechart. For some reason it is not drawing the graph on the window, instead giving me a blank screen.</p>\n\n<pre><code>var chartdata = [{\n    time: \"1-May-12\",\n    emissionrate: \"58.13\"\n}, {\n    time: \"30-Apr-12\",\n    emissionrate: \"53.98\"\n}, {\n    time: \"27-Apr-12\",\n    emissionrate: \"67.00\"\n}, {\n    time: \"26-Apr-12\",\n    emissionrate: \"89.70\"\n}, {\n    time: \"25-Apr-12\",\n    emissionrate: \"99.00\"\n}];\n//regular single compound chart\nfunction chart (width,height,data) {\n    var margin = {\n    top: 30,\n    right: 20,\n    bottom: 30,\n    left: 50\n    },vis = d3.select('#chartvis');\n\n  var w = width - margin.left - margin.right;\n  var h = height - margin.top - margin.bottom;\n\n\n  var parseDate = d3.timeParse(\"%d-%b-%y\");\n\n    data.forEach(function (d){\n    d.time=parseDate(d.time);\n    d.emissionrate=+d.emissionrate;\n  });\n\n  var xmin = d3.min(data,function(d){\n    return d.time;\n  });\n  console.log(xmin);\n  var xmax = d3.max(data,function(d){\n    return d.time;\n  });\n\n  var ymax = d3.max(data,function(d){\n    return d.emissionrate;\n  });\n  console.log(ymax);\n\n  var xLine =  d3.scaleTime().domain([xmin, xmax]).range([0, w]);\n  var yLine = d3.scaleLinear().domain([0, ymax]).range([h, 0]);\n\n  var lineFunc =  d3.line()\n                                    .x(function(d) {\n                                    return xLine(d.time);\n                    })\n                    .y(function (d) {\n                    return yLine(d.emissionrate);\n                    });\n\n    vis.append('g')\n            .attr(\"width\", w + margin.left + margin.right)\n            .attr(\"height\", h + margin.top + margin.bottom)\n            .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top +     \")\");\n\n     vis.append('g')\n            .attr(\"id\", \"xAxis\")\n            .attr(\"transform\", \"translate(0,\" + h + \")\")\n            .call(d3.axisBottom(xLine));\n\n     vis.append('g')\n            .attr(\"id\", \"yAxis\")\n            .attr(\"transform\", \"translate(\" + w + \", 0)\")\n            .call(d3.axisLeft(yLine));\n\n     vis.append(\"path\")\n            .data(data)\n            .style(\"fill\", \"none\")\n            .attr(\"stroke\", \"steelblue\")\n            .attr(\"stroke-width\",\"1.5\")\n            .attr(\"d\", lineFunc);\n\n\n}\n\nchart(400,500,chartdata);\n</code></pre>\n\n<p>I expect any kind of graphical output, but instead am getting a blank screen. Inspecting in the dev tools is not giving me any errors either.\nI have attached the JsFiddle here as well </p>\n\n<p><a href=\"https://jsfiddle.net/Lwbogd94/2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/Lwbogd94/2/</a></p>\n"}, {"tags": ["javascript", "oop", "inheritance", "types"], "comments": [{"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1568241362, "post_id": 57897606, "comment_id": 102216065, "body": "Why not directly perform the <code>typeof</code> test with the more specific type? The way the operator works makes sense given the typical meaning of inheritance; a <code>NonmaskableInterrupt</code> instance <i>is</i> an <code>Interrupt</code> instance."}, {"owner": {"reputation": 1988, "user_id": 1953537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/33572e26daf9332df748776cdb2e2065?s=128&d=identicon&r=PG", "display_name": "Melab", "link": "https://stackoverflow.com/users/1953537/melab"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1568243010, "post_id": 57897606, "comment_id": 102216421, "body": "@Pointy <code>typeof</code> would not tell me what an object was instantiated from (e.g., <code>typeof []</code> does not return <code>Array</code>). I already acknowledged that <code>instanceof</code> works the way it&#39;s supposed to."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568243447, "post_id": 57897606, "comment_id": 102216522, "body": "Does <code>Object.getPrototypeOf()</code> help?"}], "answers": [{"comments": [{"owner": {"reputation": 1988, "user_id": 1953537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/33572e26daf9332df748776cdb2e2065?s=128&d=identicon&r=PG", "display_name": "Melab", "link": "https://stackoverflow.com/users/1953537/melab"}, "edited": false, "score": 0, "creation_date": 1568244604, "post_id": 57897922, "comment_id": 102216763, "body": "The stuff about interrupts was an example. Using a method like <code>isNeitherHardwareNorSoftwareInterrupt</code> is unworkable if I&#39;m looking for a way to check this for any given pair of object and prototype/class. Also, I do not think that your answer to the first question you quoted is actually an answer to that question."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 1988, "user_id": 1953537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/33572e26daf9332df748776cdb2e2065?s=128&d=identicon&r=PG", "display_name": "Melab", "link": "https://stackoverflow.com/users/1953537/melab"}, "edited": false, "score": 1, "creation_date": 1568245117, "post_id": 57897922, "comment_id": 102216852, "body": "@Melab Then what is your actual use case? Modeling the interrupts with inheritance is indeed not a good example, it hardly makes sense to check for an interrupt that&#39;s neither a <code>HardwareInterrupt</code> nor a <code>SoftwareInterrupt</code> since there&#39;s not a third category of interrupts. But my advice stands, use a descriptive method for the property that you&#39;re trying to check - following the open-closed principle."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "reply_to_user": {"reputation": 1988, "user_id": 1953537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/33572e26daf9332df748776cdb2e2065?s=128&d=identicon&r=PG", "display_name": "Melab", "link": "https://stackoverflow.com/users/1953537/melab"}, "edited": false, "score": 0, "creation_date": 1568245165, "post_id": 57897922, "comment_id": 102216860, "body": "@Melab I think the answer to your question about a replacement for &quot;prototype/class&quot; is to use the term &quot;class&quot; in the broad sense."}], "tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": false, "score": 1, "last_activity_date": 1568245590, "last_edit_date": 1568245590, "creation_date": 1568244172, "answer_id": 57897922, "question_id": 57897606, "link": "https://stackoverflow.com/questions/57897606/check-if-an-objects-immediately-inherits-from-constructor/57897922#57897922", "title": "Check if an object&#39;s immediately inherits from constructor", "body": "<blockquote>\n  <p>Since there are prototypes and classes in JavaScript, is there a word that can be swapped in for writing \"prototype/class\"?</p>\n</blockquote>\n\n<p>The term prototype refers to the prototype object. The term class refers to either the js object that represents the class, i.e. the constructor function, or it refers to the whole thing consisting of the constructor, the prototype, and the methods. So you can just use the word \"class\" in the broad sense.</p>\n\n<blockquote>\n  <p>What way will only check an object's immediate ancestor prototype/class against a given prototype/class?</p>\n</blockquote>\n\n<p>You can either check for the constructor, assuming that your prototype objects are properly set up:</p>\n\n<pre><code> interruptObject.constructor == Interrupt\n</code></pre>\n\n<p>or you can check for the prototype object directly:</p>\n\n<pre><code> Object.getPrototypeOf(interruptObject) == Interrupt.prototype\n</code></pre>\n\n<p>I would however avoid both of these, and rather have a method <code>isNeitherHardwareNorSoftwareInterrupt</code> (or whatever exactly you are looking for) that returns a boolean, and implement it accordingly on <code>Interrupt</code> and its subclasses.</p>\n"}], "owner": {"reputation": 1988, "user_id": 1953537, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/33572e26daf9332df748776cdb2e2065?s=128&d=identicon&r=PG", "display_name": "Melab", "link": "https://stackoverflow.com/users/1953537/melab"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 30, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568245590, "creation_date": 1568241214, "question_id": 57897606, "link": "https://stackoverflow.com/questions/57897606/check-if-an-objects-immediately-inherits-from-constructor", "title": "Check if an object&#39;s immediately inherits from constructor", "body": "<p>The <code>instanceof</code> operator is not suitable for purposes that require only a value's parent in the inheritance chain to be checked.</p>\n\n<p>Here is an instance where using <code>instanceof</code> to check an object's type returns positives that are false for the above:</p>\n\n<pre><code>{} instanceof Object; // returns true, the desired result\n[] instanceof Object; // returns true, not the desired result\n</code></pre>\n\n<p><code>instanceof</code> checks if whatever is on the right-hand side exists anywhere in the prototype chain of whatever is on the left-hand side. That is as intended, but if I want to know if a value is a plain object, for example. If I have:</p>\n\n<ul>\n<li>a prototype/class <code>Interrupt</code>,</li>\n<li>a prototype/class <code>HardwareInterrupt</code> that inherits from <code>Interrupt</code>,</li>\n<li>a prototype/class <code>SoftwareInterrupt</code> that inherits from <code>Interrupt</code>,</li>\n<li>a prototype/class <code>MaskableInterrupt</code> that inherits from <code>HardwareInterrupt</code>,</li>\n<li>and a prototype/class <code>NonmaskableInterrupt</code> that inherits from <code>HardwareInterrupt</code>,</li>\n</ul>\n\n<p>then if I want to know whether or not an object is immediately below <code>Interrupt</code> in the hierarchy, <code>instanceof</code> can return an inaccurate result like <code>Nonmaskable instanceof Interrupt</code> evaluating to <code>true</code>. What way will only check an object's immediate ancestor prototype/class against a given prototype/class?</p>\n\n<p>What's the right terminology to use to speak of what an object was instantiated from, anyway? While writing this question I wanted to say \"type\", but I realized that it's also valid to say, as an example, a maskable interrupt is a type of hardware interrupt (though I can think of examples where using \"type\" like this would be incorrect). And since there are prototypes and classes in JavaScript, is there a word that can be swapped in for writing \"prototype/class\"?</p>\n"}, {"tags": ["javascript", "reactjs", "typeahead.js", "bootstrap-typeahead"], "comments": [{"owner": {"reputation": 1060, "user_id": 10706983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EX6B_1JgvYE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jO_NgG7HOv661KQL-v7OAl983E4w/mo/photo.jpg?sz=128", "display_name": "Maksym Bezruchko", "link": "https://stackoverflow.com/users/10706983/maksym-bezruchko"}, "edited": false, "score": 0, "creation_date": 1568243956, "post_id": 57897574, "comment_id": 102216632, "body": "Why do you need todo2 property? Edited your code without todo2 property. Check this out please: <a href=\"https://stackblitz.com/edit/react-xgnjn2\" rel=\"nofollow noreferrer\">stackblitz.com/edit/react-xgnjn2</a>"}, {"owner": {"reputation": 97, "user_id": 11580724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0831ad790f63c1c3201f23479f46de6a?s=128&d=identicon&r=PG&f=1", "display_name": "Mario", "link": "https://stackoverflow.com/users/11580724/mario"}, "reply_to_user": {"reputation": 1060, "user_id": 10706983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EX6B_1JgvYE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jO_NgG7HOv661KQL-v7OAl983E4w/mo/photo.jpg?sz=128", "display_name": "Maksym Bezruchko", "link": "https://stackoverflow.com/users/10706983/maksym-bezruchko"}, "edited": false, "score": 0, "creation_date": 1568269680, "post_id": 57897574, "comment_id": 102222230, "body": "@MaksymBezruchko <code>if(todo.length) {       this.setState({         selected: newArray       })      } else {         todo2: &#39;c&#39;     }</code>"}], "owner": {"reputation": 97, "user_id": 11580724, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0831ad790f63c1c3201f23479f46de6a?s=128&d=identicon&r=PG&f=1", "display_name": "Mario", "link": "https://stackoverflow.com/users/11580724/mario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 549, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568240995, "creation_date": 1568240995, "question_id": 57897574, "link": "https://stackoverflow.com/questions/57897574/cannot-delete-input-content-in-typeahead-react-bootstrap", "title": "Cannot delete input content in Typeahead react-bootstrap", "body": "<p>Trying to delete the contents of the input field by pressing backspace. However, nothing can be deleted. When I delete <code>onChange = {this.handleSelectContractor}</code> the field can be cleared, but after adding <code>onChange = {this.handleSelectContractor}</code> nothing can be done.\nPass selected <code>todo</code> to the handleSelect and assign it to the variable <code>selected</code>. The variable <code>selected</code> should appear in the input field</p>\n\n<p>Demo here: <a href=\"https://stackblitz.com/edit/react-agfvwn?file=index.js\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/react-agfvwn?file=index.js</a></p>\n\n<pre><code>class App extends Component {\n  constructor() {\n    super();\n    this.state = {\n      todos: [],\n      selected: [],\n      todo: {},\n      todo2: 'ddd'\n    };\n  }\n\n  componentDidMount() {\n    this.getTodos().then(() =&gt; {\n      const todo = this.state.todos.find(todo =&gt; todo.id === 4);\n      this.setState({\n        selected: todo ? [todo] : []\n      })\n    })\n\n  }\n\n  getTodos = () =&gt; {\n    return axios({\n      url: 'https://jsonplaceholder.typicode.com/todos',\n      method: \"GET\"\n    })\n    .then(res =&gt; { \n      this.setState({\n        todos: res.data\n      });\n    })\n    .catch(error =&gt; {\n      console.log(error);\n    }) \n  }\n\n  handleSelect = (todo) =&gt; {\n    let newArray = [...this.state.selected];\n    newArray.push(todo)\n    if(todo) {\n      this.setState({\n        todo: newArray\n      }) \n    } else {\n      this.setState({\n        todo2: ''\n      })\n    }\n  }\n\n  render() {\n    console.log(this.state.todo)\n    return (\n      &lt;div&gt;\n        &lt;Typeahead\n          id={'sasas'}\n          selected={this.state.selected}\n          labelKey=\"title\"\n          onChange={this.handleSelect}\n          options={this.state.todos}\n          ref={(ref) =&gt; this._typeahead = ref}\n        /&gt;\n      &lt;/div&gt;\n    );\n  }\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "offset", "cursor-position"], "answers": [{"tags": [], "owner": {"reputation": 310, "user_id": 9014690, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7f6995c14e97dea8255e8237dfa203d8?s=128&d=identicon&r=PG&f=1", "display_name": "shannon", "link": "https://stackoverflow.com/users/9014690/shannon"}, "is_accepted": false, "score": 0, "last_activity_date": 1589221284, "creation_date": 1589221284, "answer_id": 61736567, "question_id": 57897561, "link": "https://stackoverflow.com/questions/57897561/offset-is-returning-previous-position-before-being-sorted-jquery-ui/61736567#61736567", "title": "Offset is returning previous position (before being sorted) - JQuery UI", "body": "<p>This isn't a problem with the offset. It's not working as you expect because <code>order[i] !== c</code> isn't ruling out that the cursor is over the final position of the element you just moved, it's ruling out that the cursor is over the starting (previous) position of the element you just moved.</p>\n"}], "owner": {"reputation": 37, "user_id": 8340815, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/73ee1791406287d24f325d82c29e960b?s=128&d=identicon&r=PG&f=1", "display_name": "user8340815", "link": "https://stackoverflow.com/users/8340815/user8340815"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 38, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1589221284, "creation_date": 1568240857, "last_edit_date": 1568241344, "question_id": 57897561, "link": "https://stackoverflow.com/questions/57897561/offset-is-returning-previous-position-before-being-sorted-jquery-ui", "title": "Offset is returning previous position (before being sorted) - JQuery UI", "body": "<p>See:\n<a href=\"https://simplexshotz.github.io/Sorting-Dropping/\" rel=\"nofollow noreferrer\">https://simplexshotz.github.io/Sorting-Dropping/</a></p>\n\n<p>When you drag a sortable past another (so that they swap positions), the \noffset positions (element.offsetTop, element.offsetLeft) don't update.</p>\n\n<p>How the above example should work is as follows: if you drop a sortable over another, an alert will be displayed telling you which sortable you dropped it over. If the cursor is not over another sortable when you drop it, no alert should be displayed.</p>\n\n<p>The only issue with it is that when you drop it, whether or not is is over a sortable is based off of the sortable's original position. If you drag a sortable past another (so that they swap positions) and drop it where the sortable was before they swapped positions, the alert still appears. This leads me to believe that the offset is using the previous position.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var order = [];\r\n\r\nfunction setup() {\r\n  // Add the sortables:\r\n  for (var i = 0; i &lt; 5; i++) {\r\n    document.getElementById(\"container\").innerHTML += \"&lt;div class='sortable' id='sortable-\" + i + \"'&gt;Sortable \" + i + \"&lt;/div&gt;\";\r\n    order.push(i);\r\n  }\r\n  // Make them actually sortable:\r\n  $(\"#container\").sortable({\r\n    stop: function(e, ui) {\r\n      // Detect drop over another sortable:\r\n      var s = document.getElementById(\"container\").childNodes;\r\n      var c = Number(ui.item[0].id.split(\"-\")[1]); // this is the index of the sortable that was being moved\r\n      for (var i = 0; i &lt; s.length; i++) {\r\n        if (order[i] !== c) { // Make sure it's not checking if the cursor is over itself\r\n          // Basic pixel -&gt; rectangle collisions:\r\n          if (e.clientX &gt;= s[i].offsetLeft &amp;&amp; e.clientY &gt;= s[i].offsetTop &amp;&amp; e.clientX &lt;= s[i].offsetLeft + s[i].offsetWidth &amp;&amp; e.clientY &lt;= s[i].offsetTop + s[i].offsetHeight) {\r\n            console.log(\"Sortable dropped over sortable \" + order[i]);\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      // Re-order them:\r\n      for (var i = 0; i &lt; s.length; i++) {\r\n        order[i] = Number(s[i].id.split(\"-\")[1]);\r\n      }\r\n    }\r\n  });\r\n}\r\nsetup();</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>* {\r\n  font-family: Helvetica;\r\n}\r\n\r\nbody {\r\n  background-color: rgb(255, 255, 255);\r\n  padding: 0px;\r\n  margin: 0px;\r\n}\r\n\r\n#container {\r\n  border: 1px solid rgb(200, 200, 200);\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  margin: 50px 25% 0px 25%;\r\n}\r\n\r\n.sortable {\r\n  border-radius: 10px;\r\n  background-color: rgb(50, 50, 50);\r\n  color: rgb(255, 255, 255);\r\n  padding: 10px;\r\n  width: calc(100% - 20px);\r\n  margin-bottom: 10px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n\r\n&lt;head&gt;\r\n  &lt;title&gt;Example&lt;/title&gt;\r\n  &lt;!-- JQuery --&gt;\r\n  &lt;script src=\"https://code.jquery.com/jquery-1.12.4.js\"&gt;&lt;/script&gt;\r\n  &lt;script src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;/head&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div id=\"content\"&gt;\r\n    &lt;div id=\"container\"&gt;&lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Sorry if that's a bit complicated, I'm not sure how else to explain it.</p>\n\n<p>Any help is appreciated. Thanks in advance.</p>\n"}, {"tags": ["javascript", "html", "css", "vue.js", "materialize"], "answers": [{"tags": [], "owner": {"reputation": 35, "user_id": 9002827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f504066dc90b21883447252eaa46aa07?s=128&d=identicon&r=PG", "display_name": "b3nThomas", "link": "https://stackoverflow.com/users/9002827/b3nthomas"}, "is_accepted": false, "score": 0, "last_activity_date": 1568242715, "last_edit_date": 1568242715, "creation_date": 1568242076, "answer_id": 57897706, "question_id": 57897537, "link": "https://stackoverflow.com/questions/57897537/how-to-get-navbar-dropdown-option-to-work-without-jquery/57897706#57897706", "title": "How to get Navbar dropdown option to work without JQuery", "body": "<p>I think your HTML could firstly do with a little work. Something like this would be more semantically correct:</p>\n\n<pre><code>    &lt;nav&gt;\n        &lt;a href=\"/\" class=\"brand-logo\"&gt;Logo&lt;/a&gt;\n        &lt;ul class=\"right hide-on-med-and-down\"&gt;\n          &lt;li&gt;&lt;a href=\"sass.html\"&gt;Sass&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"badges.html\"&gt;Components&lt;/a&gt;&lt;/li&gt;\n          &lt;li class=\"dropdown-button\"&gt;\n              Dropdown\n              &lt;i class=\"material-icons right\"&gt;arrow_drop_down&lt;/i&gt;\n              &lt;ul class=\"dropdown-content hide\"&gt;\n                &lt;li&gt;&lt;a href=\"/one\"&gt;one&lt;/a&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"/two\"&gt;two&lt;/a&gt;&lt;/li&gt;\n                &lt;li class=\"divider\"&gt;&lt;/li&gt;\n                &lt;li&gt;&lt;a href=\"/three\"&gt;three&lt;/a&gt;&lt;/li&gt;\n             &lt;/ul&gt;\n          &lt;/li&gt;\n        &lt;/ul&gt;\n    &lt;/nav&gt;\n</code></pre>\n\n<p>Note the <code>hide</code> CSS class on the dropdown-content ul.</p>\n\n<pre><code>.hide {\n  display: none;\n}\n</code></pre>\n\n<p>Then using your your JS:</p>\n\n<pre><code>const trigger = document.querySelector('.dropdown-button');\nconst content = document.querySelector('.dropdown-content');\n\ntrigger.addEventListener('click', () =&gt; {\n   if (content.classList.contains('hide')) {\n       content.classList.remove('hide'); // Show the content\n   } else {\n       content.classList.add('hide'); // Hide the content\n   }\n});\n</code></pre>\n"}], "owner": {"reputation": 1, "user_id": 12055463, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBrVyvGzdyWUmOTLUsX-dVzpdiTtt8xUxf6Qwbf=k-s128", "display_name": "Tiffany Tychewicz", "link": "https://stackoverflow.com/users/12055463/tiffany-tychewicz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 259, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568242715, "creation_date": 1568240627, "question_id": 57897537, "link": "https://stackoverflow.com/questions/57897537/how-to-get-navbar-dropdown-option-to-work-without-jquery", "title": "How to get Navbar dropdown option to work without JQuery", "body": "<p>I am currently trying to create a navbar with a dropdown item in my App.vue file. I read that you can do it without JQuery, so I was hoping someone could assist me with that. I'm getting a bit lost once I get to the point of creating javascript for it.</p>\n\n<p>This is for a front end only website.</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>   &lt;ul id=\"dropdown1\" class=\"dropdown-content\"&gt;\n      &lt;li&gt;&lt;a href=\"#!\"&gt;one&lt;/a&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"#!\"&gt;two&lt;/a&gt;&lt;/li&gt;\n      &lt;li class=\"divider\"&gt;&lt;/li&gt;\n      &lt;li&gt;&lt;a href=\"#!\"&gt;three&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;nav&gt;\n      &lt;div class=\"nav-wrapper\"&gt;\n        &lt;a href=\"#!\" class=\"brand-logo\"&gt;Logo&lt;/a&gt;\n        &lt;ul class=\"right hide-on-med-and-down\"&gt;\n          &lt;li&gt;&lt;a href=\"sass.html\"&gt;Sass&lt;/a&gt;&lt;/li&gt;\n          &lt;li&gt;&lt;a href=\"badges.html\"&gt;Components&lt;/a&gt;&lt;/li&gt;\n          &lt;!-- Dropdown Trigger --&gt;\n          &lt;li&gt;\n            &lt;a class=\"dropdown-button\" href=\"#!\" data-activates=\"dropdown1\"&gt;\n              Dropdown\n              &lt;i class=\"material-icons right\"&gt;arrow_drop_down&lt;/i&gt;\n            &lt;/a&gt;\n          &lt;/li&gt;\n        &lt;/ul&gt;\n      &lt;/div&gt;\n    &lt;/nav&gt;\n</code></pre>\n\n<p>Expected result: Navbar with functional dropdown item.\nActual result: Dropdown is currently disabled because I have not implemented any JQuery or JavaScript</p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 176, "user_id": 1575824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb2efbdf8b1052e776b1e65808fbf3ed?s=128&d=identicon&r=PG", "display_name": "Imran Ariffin", "link": "https://stackoverflow.com/users/1575824/imran-ariffin"}, "edited": false, "score": 2, "creation_date": 1568248131, "post_id": 57897520, "comment_id": 102217414, "body": "I think it would help if you can also share how you are using the component <code>SearchPage</code>. That code you share should help you and other people answer the following questions: 1) Did you provide <code>calls</code> as props to the component; 2) If you did, did you check that it was not <code>undefined</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "is_accepted": false, "score": 1, "last_activity_date": 1568240684, "creation_date": 1568240684, "answer_id": 57897543, "question_id": 57897520, "link": "https://stackoverflow.com/questions/57897520/typeerror-cannot-read-property-map-of-undefined-on-react-js/57897543#57897543", "title": "TypeError: Cannot read property &#39;map&#39; of undefined on React.js", "body": "<p>You should add <code>props</code> when calling <code>super</code>, also you not showing the whole application logic, are <code>props.calls</code> are even defined?</p>\n\n<pre><code>class SearchPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      search: \"Level Up\"\n    };\n  }\n...\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 119, "user_id": 6727459, "user_type": "registered", "profile_image": "https://graph.facebook.com/1089839184397406/picture?type=large", "display_name": "Sooraj Jose", "link": "https://stackoverflow.com/users/6727459/sooraj-jose"}, "is_accepted": false, "score": 2, "last_activity_date": 1568276194, "last_edit_date": 1568276194, "creation_date": 1568271025, "answer_id": 57901166, "question_id": 57897520, "link": "https://stackoverflow.com/questions/57897520/typeerror-cannot-read-property-map-of-undefined-on-react-js/57901166#57901166", "title": "TypeError: Cannot read property &#39;map&#39; of undefined on React.js", "body": "<p>It seems that the call prop undefined.</p>\n\n<p>Before map the prop value, check if it is undefined or not.</p>\n\n<p>Please refer below code:</p>\n\n<pre><code>&lt;ul&gt;\n    {(this.props.calls || []).map(call =&gt; (\n        &lt;CallRow call={call} key={call.id} /&gt;\n    ))}\n&lt;/ul&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 810, "user_id": 11819308, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/0ZMPY.jpg?s=128&g=1", "display_name": "Mohammed_Alreai", "link": "https://stackoverflow.com/users/11819308/mohammed-alreai"}, "is_accepted": false, "score": 0, "last_activity_date": 1568277573, "creation_date": 1568277573, "answer_id": 57902902, "question_id": 57897520, "link": "https://stackoverflow.com/questions/57897520/typeerror-cannot-read-property-map-of-undefined-on-react-js/57902902#57902902", "title": "TypeError: Cannot read property &#39;map&#39; of undefined on React.js", "body": "<p>1 check  if you add the props into the component SearchPage as</p>\n\n<pre><code>&lt;SearchPage calls ={arry}/&gt;\n</code></pre>\n\n<p>and cleck if this array or not 2add in </p>\n\n<pre><code>constructor(props) {\n    super(props);\n</code></pre>\n\n<p>after the make destructer for props by this <code>const {calls}=this.props;</code> \nthen check the value of the calls if it pass as props by used <code>console.log(calls)</code></p>\n"}], "owner": {"reputation": 51, "user_id": 12048958, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/db74c2a23123387b31b2fc5fa95c3a48?s=128&d=identicon&r=PG&f=1", "display_name": "mszp", "link": "https://stackoverflow.com/users/12048958/mszp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 209, "favorite_count": 0, "answer_count": 3, "score": 2, "last_activity_date": 1568277573, "creation_date": 1568240537, "last_edit_date": 1568240745, "question_id": 57897520, "link": "https://stackoverflow.com/questions/57897520/typeerror-cannot-read-property-map-of-undefined-on-react-js", "title": "TypeError: Cannot read property &#39;map&#39; of undefined on React.js", "body": "<p>I'm following a tutorial online for React.js on controlled inputs and I am repeatedly  getting the error</p>\n\n<blockquote>\n  <p>TypeError: Cannot read property 'map' of undefined </p>\n</blockquote>\n\n<pre><code>import CallRow from \"./CallRow\";\nimport React from \"react\";\n\nclass SearchPage extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      search: \"Level Up\"\n    };\n  }\n\n  updateSearch(event) {\n    this.setState({ search: event.target.value.substr(0, 20) });\n  }\n\n  render() {\n    return (\n      &lt;div&gt;\n        &lt;ul&gt;\n          {this.props.calls.map(call =&gt; (\n            &lt;CallRow call={call} key={call.id} /&gt;\n          ))}\n        &lt;/ul&gt;\n        &lt;input\n          type=\"text\"\n          value={this.state.search}\n          onChange={this.updateSearch.bind(this)}\n        /&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nexport default SearchPage;\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "vue-router"], "answers": [{"tags": [], "owner": {"reputation": 940, "user_id": 4434777, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f1cecb24a7873768a2b22a08a42f10f5?s=128&d=identicon&r=PG&f=1", "display_name": "Paulie", "link": "https://stackoverflow.com/users/4434777/paulie"}, "is_accepted": false, "score": 0, "last_activity_date": 1570477337, "creation_date": 1570477337, "answer_id": 58276159, "question_id": 57897511, "link": "https://stackoverflow.com/questions/57897511/in-vue-router-why-would-this-happen-this1-pending-route/58276159#58276159", "title": "In Vue router, why would this happen? this$1.pending !== route", "body": "<p>This isn't exactly an answer, but here's a discussion of other people who have run into the same thing: <a href=\"https://github.com/vuejs/vue-router/issues/2932\" rel=\"nofollow noreferrer\">https://github.com/vuejs/vue-router/issues/2932</a></p>\n\n<p>It doesn't sound like there is a resolution, but since it appears harmless, (except for the message in the console), I'm going to not worry about it at the moment.</p>\n"}], "owner": {"reputation": 940, "user_id": 4434777, "user_type": "registered", "accept_rate": 78, "profile_image": "https://www.gravatar.com/avatar/f1cecb24a7873768a2b22a08a42f10f5?s=128&d=identicon&r=PG&f=1", "display_name": "Paulie", "link": "https://stackoverflow.com/users/4434777/paulie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 321, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1570477337, "creation_date": 1568240448, "question_id": 57897511, "link": "https://stackoverflow.com/questions/57897511/in-vue-router-why-would-this-happen-this1-pending-route", "title": "In Vue router, why would this happen? this$1.pending !== route", "body": "<p>In most cases, when I use <code>this.$router.push()</code> everything works fine. However, there is one case where I'm doing that that throws an exception. The page changes just fine - it is just that the message <code>vue-router.esm.js?8c4f:2007 Uncaught (in promise)</code> appears in the console.</p>\n\n<p>I don't see anything different in the way I call this particular route than any other.</p>\n\n<p>The code below is where it fails in the router. <code>this$1.pending1</code> and <code>route</code> are both objects. I put a breakpoint there and checked the following: <code>JSON.stringify(this$1.pending) === JSON.stringify(route)</code> and that returns true, so they have identical data.</p>\n\n<p>In javascript, objects are not considered equal unless they are the same, but I don't know why, in this case, the object is a clone instead of being identical.</p>\n\n<pre><code>  runQueue(queue, iterator, function () {\n    var postEnterCbs = [];\n    var isValid = function () { return this$1.current === route; };\n    // wait until async components are resolved before\n    // extracting in-component enter guards\n    var enterGuards = extractEnterGuards(activated, postEnterCbs, isValid);\n    var queue = enterGuards.concat(this$1.router.resolveHooks);\n    runQueue(queue, iterator, function () {\n      if (this$1.pending !== route) { // EXCEPTION ON THIS LINE\n        return abort()\n      }\n      this$1.pending = null;\n      onComplete(route);\n      if (this$1.router.app) {\n        this$1.router.app.$nextTick(function () {\n          postEnterCbs.forEach(function (cb) {\n            cb();\n          });\n        });\n      }\n    });\n  });\n</code></pre>\n"}, {"tags": ["javascript", "arrays", "random", "shuffle", "non-repetitive"], "answers": [{"tags": [], "owner": {"reputation": 329, "user_id": 11836766, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dfc50dfe1e30cd1076ac6ae722193e24?s=128&d=identicon&r=PG&f=1", "display_name": "Ian", "link": "https://stackoverflow.com/users/11836766/ian"}, "is_accepted": false, "score": 0, "last_activity_date": 1568242945, "creation_date": 1568242945, "answer_id": 57897799, "question_id": 57897497, "link": "https://stackoverflow.com/questions/57897497/trying-to-generate-display-non-repeating-random-values-for-a-bingo-game/57897799#57897799", "title": "Trying to generate &amp; display non-repeating random values for a BINGO game", "body": "<p>You could create an array in which you store all numbers which have already been selected. Then, when randomly selecting a <em>new</em> number, continue to randomize until a number has been selected which is not within that array of already-chosen numbers.</p>\n\n<p>Here's a code example which illustrates this idea, picking numbers between 0 and 9, not allowing repeat numbers. The process is broken down below.</p>\n\n<pre><code>var alreadyPicked = [];\nvar max = 10;\n\nfunction random() {\n  let unique = false;\n\n  while (!unique &amp;&amp; alreadyPicked.length &lt; max) {\n    let randNumber = Math.floor(Math.random() * max);\n\n    if (alreadyPicked.includes(randNumber) == false) {\n      unique = true;\n      alreadyPicked.push(randNumber);\n    }\n\n  }\n}\n</code></pre>\n\n<ol>\n<li><p>An array, <code>alreadyPicked</code>, is declared. It serves to keep track of which numbers have already been selected, so that they won't be selected twice.</p></li>\n<li><p>The number <code>max</code> is declared. It is used to prevent an infinite loop when there are no more random numbers to choose.</p></li>\n<li><p>Random numbers are chosen in the <code>while</code> loop, which loops either until the <code>unique</code> boolean is set to <code>true</code> or until the length of the <code>alreadyPicked</code> array has reached the <code>max</code> length, which happens when there are no more unique numbers to select. </p></li>\n<li><p>Once a number is obtained, the statement <code>alreadyPicked.includes(randNumber)</code> checks to see whether the <code>randNumber</code> is among those numbers already selected and stored in <code>alreadyPicked</code>. </p></li>\n<li><p>If this is false, this means a unique number has been selected. <code>unique</code> is then set to true to break the loop, and the number is pushed to <code>alreadyPicked</code> so that it won't be selected again.</p></li>\n</ol>\n"}, {"comments": [{"owner": {"reputation": 17, "user_id": 11986135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9bc7c4d5c0690634e8d3d07104f3de?s=128&d=identicon&r=PG&f=1", "display_name": "p4yner56", "link": "https://stackoverflow.com/users/11986135/p4yner56"}, "edited": false, "score": 0, "creation_date": 1568326943, "post_id": 57897854, "comment_id": 102248994, "body": "wow man, thank you so much. you&#39;ve given me the most useful answer I could find so far, and I&#39;ve been at this for about 2 weeks now, so I really appreciate it. There&#39;s one little hiccup though, it seems that every time I run the function, the last element generates as &quot;undefined&quot; instead of its value. Any idea what may be causing that?"}, {"owner": {"reputation": 11, "user_id": 12055372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d899b0f5250b7aad11168aa16977d6c1?s=128&d=identicon&r=PG&f=1", "display_name": "pkay14", "link": "https://stackoverflow.com/users/12055372/pkay14"}, "reply_to_user": {"reputation": 17, "user_id": 11986135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9bc7c4d5c0690634e8d3d07104f3de?s=128&d=identicon&r=PG&f=1", "display_name": "p4yner56", "link": "https://stackoverflow.com/users/11986135/p4yner56"}, "edited": false, "score": 0, "creation_date": 1568381265, "post_id": 57897854, "comment_id": 102266595, "body": "oh yeah sorry... My fault.. Just instead of:  if (numbers.length === 0) {                             return message = &quot;There is no more numbers&quot; put:  if (numbers.length &lt; 0) {                             return   and   let index;                 if (numbers.length === 0) {                     index = &quot;No more numbers&quot;  I edited all code"}, {"owner": {"reputation": 11, "user_id": 12055372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d899b0f5250b7aad11168aa16977d6c1?s=128&d=identicon&r=PG&f=1", "display_name": "pkay14", "link": "https://stackoverflow.com/users/12055372/pkay14"}, "reply_to_user": {"reputation": 17, "user_id": 11986135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9bc7c4d5c0690634e8d3d07104f3de?s=128&d=identicon&r=PG&f=1", "display_name": "p4yner56", "link": "https://stackoverflow.com/users/11986135/p4yner56"}, "edited": false, "score": 0, "creation_date": 1568381501, "post_id": 57897854, "comment_id": 102266705, "body": "Of course now you can try to show only once the numbers that are called and don&#39;t repeat all of them. If you will stuck just ask and I&#39;ll try to help."}, {"owner": {"reputation": 17, "user_id": 11986135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9bc7c4d5c0690634e8d3d07104f3de?s=128&d=identicon&r=PG&f=1", "display_name": "p4yner56", "link": "https://stackoverflow.com/users/11986135/p4yner56"}, "edited": false, "score": 0, "creation_date": 1568417216, "post_id": 57897854, "comment_id": 102279899, "body": "sounds good. I did try this code, but I seem to be running into the same issue of getting &quot;undefined&quot; instead of the element value when there is only one element left in the original array. I have exactly what I&#39;ve been working with posted here: <a href=\"https://stackoverflow.com/questions/57931318/trying-to-shuffle-to-generate-a-random-number-from-an-array-and-splice-but-keep\">link</a>"}, {"owner": {"reputation": 11, "user_id": 12055372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d899b0f5250b7aad11168aa16977d6c1?s=128&d=identicon&r=PG&f=1", "display_name": "pkay14", "link": "https://stackoverflow.com/users/12055372/pkay14"}, "reply_to_user": {"reputation": 17, "user_id": 11986135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9bc7c4d5c0690634e8d3d07104f3de?s=128&d=identicon&r=PG&f=1", "display_name": "p4yner56", "link": "https://stackoverflow.com/users/11986135/p4yner56"}, "edited": false, "score": 0, "creation_date": 1568447911, "post_id": 57897854, "comment_id": 102283743, "body": "Oh yeah I see somebody answered it already. Your for loop isn&#39;t right"}], "tags": [], "owner": {"reputation": 11, "user_id": 12055372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d899b0f5250b7aad11168aa16977d6c1?s=128&d=identicon&r=PG&f=1", "display_name": "pkay14", "link": "https://stackoverflow.com/users/12055372/pkay14"}, "is_accepted": false, "score": 0, "last_activity_date": 1568381319, "last_edit_date": 1568381319, "creation_date": 1568243520, "answer_id": 57897854, "question_id": 57897497, "link": "https://stackoverflow.com/questions/57897497/trying-to-generate-display-non-repeating-random-values-for-a-bingo-game/57897854#57897854", "title": "Trying to generate &amp; display non-repeating random values for a BINGO game", "body": "<pre class=\"lang-html prettyprint-override\"><code> &lt;head&gt;\n        &lt;title&gt;BINGO&lt;/title&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;div id=\"bingo\"&gt;\n            &lt;script&gt;\n\nlet numbers = [\"B1\", \"B2\", \"B3\", \"B4\", \"B5\", \"B6\", \"B7\", \"B8\", \"B9\", \"B10\"]\n            let display = [];\n\n            function getRandomNum() {\n\n                function rando() {\n\n                    for (var i = 0; i &lt; numbers.length; i++) {\n                        const j = Math.floor(Math.random() * numbers.length);\n                        const number = numbers[j];\n\n                        if (number) {\n                            numbers.splice(j, 1);\n                        }\n                        if (numbers.length &lt; 0) {\n                            return\n                        } else {\n\n                            return number;\n                        }\n                    }\n                }\n\n                let index;\n                if (numbers.length === 0) {\n                    index = \"No more numbers\"\n                } else {\n                    index = rando();\n                    display.push(index);\n                }\n                document.getElementById('bingo').innerHTML = index;\n            }\n\n\n                function show()\n                {\n                    for(let n = 0; n &lt; display.length; n++)\n                    {\n                        document.getElementById('reveal').innerHTML += \"&lt;br/&gt;\" + display[n] + \"&lt;br/&gt;\";\n                    }\n                } \n\n\n\n            &lt;/script&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"button\"&gt;\n\n            &lt;button onclick=\"getRandomNum()\"&gt;Random Number&lt;/button&gt;\n\n        &lt;/div&gt;\n\n        &lt;br/&gt;\n        &lt;br/&gt;\n        &lt;br/&gt;\n\n        &lt;div id=\"reveal\"&gt;\n\n            &lt;button onclick=\"show()\"&gt;Numbers Called&lt;/button&gt;\n        &lt;/div&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Here is the example with splice.</p>\n"}], "owner": {"reputation": 17, "user_id": 11986135, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4e9bc7c4d5c0690634e8d3d07104f3de?s=128&d=identicon&r=PG&f=1", "display_name": "p4yner56", "link": "https://stackoverflow.com/users/11986135/p4yner56"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 174, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1568381319, "creation_date": 1568240324, "question_id": 57897497, "link": "https://stackoverflow.com/questions/57897497/trying-to-generate-display-non-repeating-random-values-for-a-bingo-game", "title": "Trying to generate &amp; display non-repeating random values for a BINGO game", "body": "<p>I am working on making a bingo game. I've gotten as far as being able to get a random number generated and displayed at the click of a button. My only issue is that some values will end up being generated more than once. THAT IS THE PART I'M POSTING THIS QUESTION FOR. EVERY VALUE SHOULD ONLY BE GENERATED &amp; DISPLAYED ONCE UNTIL THE GAME IS RESET. Does anybody have any example code, preferably for how to use something like the splice() method that I keep hearing brought up?</p>\n\n<p>I CAN ALREADY GENERATE THE RANDOM NUMBER FROM THE SET AND DISPLAY IT. I'M ONLY LOOKING TO MAKE SURE THAT NUMBERS THAT ARE GENERATED ARE NOT REPEATED.</p>\n\n<p>\n    </p>\n\n<pre><code>    &lt;head&gt;\n        &lt;title&gt;BINGO&lt;/title&gt;\n    &lt;/head&gt;\n\n    &lt;body&gt;\n        &lt;div id=\"bingo\"&gt;\n            &lt;script&gt;\n\n                let numbers = new Set()\n                        .add(\"B1\")\n                        .add(\"B2\")\n                        .add(\"B3\")\n                        .add(\"B4\")\n                        .add(\"B5\")\n                        .add(\"B6\")\n                        .add(\"B7\")\n                        .add(\"B8\")\n                        .add(\"B9\")\n                        .add(\"B10\");\n\n                let called = Array.from(numbers);\n\n                let display = new Array();\n\n\n                function getRandomNum()\n                {\n                    function rando()\n                    {\n                        for (let i = called.length - 1; i &gt; 0; i++) \n                        {\n                            const j = Math.floor(Math.random() * called.length);\n                            const number = called[i];\n                            called[i] = called[j];\n                            called[j] = number;\n                            return number;\n\n                            //let show = called[Math.floor(Math.random() * called.length)];\n                            //return show;\n                        }\n                        //document.getElementById('bingo').innerHTML = display[0];\n                    }\n                    let index = rando();\n                    document.getElementById('bingo').innerHTML = index;\n                        display.push(index);\n\n\n                }\n\n\n                function show()\n                {\n                    for(let n = 0; n &lt; display.length; n++)\n                    {\n                        document.getElementById('reveal').innerHTML += \"&lt;br/&gt;\" + display[n] + \"&lt;br/&gt;\";\n                    }\n                } \n\n\n\n            &lt;/script&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"button\"&gt;\n\n            &lt;button onclick=\"getRandomNum()\"&gt;Random Number&lt;/button&gt;\n\n        &lt;/div&gt;\n\n        &lt;br/&gt;\n        &lt;br/&gt;\n        &lt;br/&gt;\n\n        &lt;div id=\"reveal\"&gt;\n\n            &lt;button onclick=\"show()\"&gt;Numbers Called&lt;/button&gt;\n        &lt;/div&gt;\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Looking for some help to prevent number generated from being repeated (EXAMPLE CODE PREFERRED)</p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "expo"], "comments": [{"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1568240625, "post_id": 57897462, "comment_id": 102215882, "body": "Have you looked into packages/libraries like moment.js or day.js?"}, {"owner": {"reputation": 1327, "user_id": 1563005, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aaf671d33dab502f9c7961bde458ff48?s=128&d=identicon&r=PG", "display_name": "codeteq", "link": "https://stackoverflow.com/users/1563005/codeteq"}, "edited": false, "score": 1, "creation_date": 1568241612, "post_id": 57897462, "comment_id": 102216123, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/6312993/javascript-seconds-to-time-string-with-format-hhmmss\">JavaScript seconds to time string with format hh:mm:ss</a>"}, {"owner": {"reputation": 2860, "user_id": 12046148, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/039c7e7445eb52d65ba41f7ecdf27e04?s=128&d=identicon&r=PG&f=1", "display_name": "Oleg", "link": "https://stackoverflow.com/users/12046148/oleg"}, "edited": false, "score": 0, "creation_date": 1568279843, "post_id": 57897462, "comment_id": 102227037, "body": "<a href=\"https://stackoverflow.com/questions/36035598/how-to-convert-minutes-to-hours-using-moment-js\" title=\"how to convert minutes to hours using moment js\">stackoverflow.com/questions/36035598/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 429, "user_id": 2854514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbd110077796c07f40fe6e1919c1d8a?s=128&d=identicon&r=PG&f=1", "display_name": "vincent O", "link": "https://stackoverflow.com/users/2854514/vincent-o"}, "edited": false, "score": 0, "creation_date": 1568285956, "post_id": 57897613, "comment_id": 102230388, "body": "many thanks, exactly what I needed, gracias. but I do not want the 0h:20mins if its less than 60, I just want 20mins"}, {"owner": {"reputation": 1060, "user_id": 10706983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EX6B_1JgvYE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jO_NgG7HOv661KQL-v7OAl983E4w/mo/photo.jpg?sz=128", "display_name": "Maksym Bezruchko", "link": "https://stackoverflow.com/users/10706983/maksym-bezruchko"}, "reply_to_user": {"reputation": 429, "user_id": 2854514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbd110077796c07f40fe6e1919c1d8a?s=128&d=identicon&r=PG&f=1", "display_name": "vincent O", "link": "https://stackoverflow.com/users/2854514/vincent-o"}, "edited": false, "score": 0, "creation_date": 1568287277, "post_id": 57897613, "comment_id": 102231114, "body": "change return to: <code>`${hours ? `${hours}hrs:` : &#39;&#39;}${minutes}mins`</code>;"}], "tags": [], "owner": {"reputation": 1060, "user_id": 10706983, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-EX6B_1JgvYE/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-jO_NgG7HOv661KQL-v7OAl983E4w/mo/photo.jpg?sz=128", "display_name": "Maksym Bezruchko", "link": "https://stackoverflow.com/users/10706983/maksym-bezruchko"}, "is_accepted": true, "score": 1, "last_activity_date": 1568241266, "creation_date": 1568241266, "answer_id": 57897613, "question_id": 57897462, "link": "https://stackoverflow.com/questions/57897462/converting-minutes-to-hours-react-native/57897613#57897613", "title": "converting minutes to hours react native", "body": "<p>Here it is:</p>\n\n<pre><code>const convertMinsToTime = (mins) =&gt; {\n  let hours = Math.floor(mins / 60);\n  let minutes = mins % 60;\n  minutes = minutes &lt; 10 ? '0' + minutes : minutes;\n  return `${hours}hrs:${minutes}mins`;\n}\n</code></pre>\n"}], "owner": {"reputation": 429, "user_id": 2854514, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fbd110077796c07f40fe6e1919c1d8a?s=128&d=identicon&r=PG&f=1", "display_name": "vincent O", "link": "https://stackoverflow.com/users/2854514/vincent-o"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 841, "favorite_count": 0, "accepted_answer_id": 57897613, "answer_count": 1, "score": -2, "last_activity_date": 1568241266, "creation_date": 1568240032, "question_id": 57897462, "link": "https://stackoverflow.com/questions/57897462/converting-minutes-to-hours-react-native", "title": "converting minutes to hours react native", "body": "<p>can someone help me out to write a function in react native to convert 234mins to 3hrs:54mins, and when it is less than 1hr, it shows just 59mins instead of 0hrs:59mins. Kindly indicate if I should give an example code.</p>\n"}, {"tags": ["javascript", "jquery", "css", "font-awesome"], "comments": [{"owner": {"reputation": 883, "user_id": 6200550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5704d47716fd7133b22d8ebb3be5068?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/6200550/kyle"}, "edited": false, "score": 0, "creation_date": 1568240560, "post_id": 57897402, "comment_id": 102215869, "body": "what you are doing is all that FontAwesome does behind the scenes. To achieve what you are looking for you would have to combine the CSS into a single file and reference to FA classes from your, this is made easier with LESS or SASS. Otherwise you would have to do this in JS. What is your concern with using unicode?"}, {"owner": {"reputation": 883, "user_id": 6200550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5704d47716fd7133b22d8ebb3be5068?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/6200550/kyle"}, "edited": false, "score": 0, "creation_date": 1568240933, "post_id": 57897402, "comment_id": 102215952, "body": "Then you will probably have to go the JS route like in the answer provided below. If you want to do in pure CSS then stick what what you have and add the rest of the styling for the particular weight etc of FA you want to use."}, {"owner": {"user_type": "does_not_exist", "display_name": "user11959553"}, "reply_to_user": {"reputation": 883, "user_id": 6200550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5704d47716fd7133b22d8ebb3be5068?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/6200550/kyle"}, "edited": false, "score": 0, "creation_date": 1568240962, "post_id": 57897402, "comment_id": 102215958, "body": "The problem with using unicode is that, the unicode is the same for Solid and PRO icons . For example:  Solid plus: <a href=\"https://fontawesome.com/icons/plus?style=solid\" rel=\"nofollow noreferrer\">fontawesome.com/icons/plus?style=solid</a>  Regular plus : <a href=\"https://fontawesome.com/icons/plus?style=regular\" rel=\"nofollow noreferrer\">fontawesome.com/icons/plus?style=regular</a> Both of these have the same unicode ( f067), but I want to use Regular PRO but I am getting Solid icon instead."}, {"owner": {"reputation": 1332, "user_id": 2240253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e00ffe411f21d93bce58e239d59ce4?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/2240253/mischa"}, "edited": false, "score": 0, "creation_date": 1568241163, "post_id": 57897402, "comment_id": 102216009, "body": "@Cliff look here: <a href=\"https://stackoverflow.com/questions/49766325/fontawesome-5-unicode\" title=\"fontawesome 5 unicode\">stackoverflow.com/questions/49766325/fontawesome-5-unicode</a>"}, {"owner": {"user_type": "does_not_exist", "display_name": "user11959553"}, "reply_to_user": {"reputation": 1332, "user_id": 2240253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e00ffe411f21d93bce58e239d59ce4?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/2240253/mischa"}, "edited": false, "score": 0, "creation_date": 1568241555, "post_id": 57897402, "comment_id": 102216111, "body": "Thank you @Mischa for pointing me to that. I think I have tried modifying the font weight, but it didn&#39;t work. I will try it again."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user11959553"}, "edited": false, "score": 0, "creation_date": 1568255977, "post_id": 57897551, "comment_id": 102218870, "body": "I ran your code snippet and noticed that when collapsing an accordion the icons don&#39;t toggle correctly. For example, If I expand accordion 1, and then I expand accordion 2, accordion 1 get collapsed but the icon remains as minus."}, {"owner": {"reputation": 1332, "user_id": 2240253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e00ffe411f21d93bce58e239d59ce4?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/2240253/mischa"}, "edited": false, "score": 0, "creation_date": 1568276080, "post_id": 57897551, "comment_id": 102225110, "body": "Aah ok .... yes i didnt really read your code in detail .... i just searched the points where collapsed is toggled and added toggle &quot;fa-plus&quot; &lt;-&gt; &quot;fa-minus&quot; but i think you can figure out the rest for yourself from here on .... and btw. you dont need to reinvent the wheel here there are many good solutions for collapsible/accordion components out there. I think the most popular is bootstrap: <a href=\"https://getbootstrap.com/\" rel=\"nofollow noreferrer\">getbootstrap.com</a>"}], "tags": [], "owner": {"reputation": 1332, "user_id": 2240253, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/09e00ffe411f21d93bce58e239d59ce4?s=128&d=identicon&r=PG", "display_name": "Mischa", "link": "https://stackoverflow.com/users/2240253/mischa"}, "is_accepted": false, "score": 0, "last_activity_date": 1568240729, "creation_date": 1568240729, "answer_id": 57897551, "question_id": 57897402, "link": "https://stackoverflow.com/questions/57897402/instead-of-using-fontawesome-unicode-how-can-we-use-fontawesome-classes-to-crea/57897551#57897551", "title": "Instead of using Fontawesome Unicode, how can we use Fontawesome classes to create Accordions with icons?", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var coll = document.getElementsByClassName(\"accordion-toggle\");\r\nfor (var i = 0; i &lt; coll.length; i++) {\r\n  coll[i].addEventListener(\"click\", function(evnt) {\r\n  \t\r\n    const currClassList = evnt.target.classList;\r\n    if (currClassList.contains('collapsed')) {\r\n        evnt.target.classList.remove(\"collapsed\");\r\n        evnt.target.querySelector('.fa').classList.remove(\"fa-minus\");\r\n        evnt.target.querySelector('.fa').classList.add(\"fa-plus\");\r\n        var content = evnt.target.nextElementSibling;\r\n        content.style.maxHeight = null;\r\n    } else {\r\n      for (var j = 0; j &lt; coll.length; j++) {\r\n           coll[j].classList.remove(\"collapsed\")\r\n           coll[j].nextElementSibling.style.maxHeight = null;\r\n      }\r\n      this.classList.toggle(\"collapsed\");\r\n              evnt.target.querySelector('.fa').classList.remove(\"fa-plus\");\r\n        evnt.target.querySelector('.fa').classList.add(\"fa-minus\");\r\n      var content = this.nextElementSibling;\r\n      if (content.style.maxHeight){\r\n        content.style.maxHeight = null;\r\n      } else {\r\n        content.style.maxHeight = content.scrollHeight + \"px\";\r\n      }\r\n    }\r\n  });\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.accordion-toggle {\r\n  background-color: #777;\r\n  color: white;\r\n  cursor: pointer;\r\n  padding: 18px;\r\n  width: calc(100% - 18px);\r\n  border: none;\r\n  text-align: left;\r\n  outline: none;\r\n  font-size: 15px;\r\n}\r\n\r\n.collapsed, .accordion-toggle:hover {\r\n  background-color: #555;\r\n}\r\n\r\n\r\n.collapse {\r\n  padding: 0 18px;\r\n  max-height: 0;\r\n  overflow: hidden;\r\n  transition: max-height 0.2s ease-out;\r\n  background-color: #f1f1f1;\r\n}\r\n\r\n.container {\r\n  max-width:100%;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;div class=\"container\"&gt;\r\n\r\n\r\n&lt;h2 class=\"accordion-toggle\"&gt;Open Collapsible&lt;i class=\"fa fa-plus pull-right\"&gt;&lt;/i&gt;&lt;/h2&gt;\r\n&lt;div id=\"anyId\" class=\"collapse\"&gt;\r\n  &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;h2 class=\"accordion-toggle\"&gt;Open Section 1&lt;i class=\"fa fa-plus pull-right\"&gt;&lt;/i&gt;&lt;/h2&gt;\r\n&lt;div class=\"collapse\"&gt;\r\n  &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.&lt;/p&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11959553"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 84, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568240729, "creation_date": 1568239634, "last_edit_date": 1568239971, "question_id": 57897402, "link": "https://stackoverflow.com/questions/57897402/instead-of-using-fontawesome-unicode-how-can-we-use-fontawesome-classes-to-crea", "title": "Instead of using Fontawesome Unicode, how can we use Fontawesome classes to create Accordions with icons?", "body": "<p>Currently I have this accordion that expands and collapses: <a href=\"https://jsfiddle.net/cliffeee/a5uxgkmt/15/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/cliffeee/a5uxgkmt/15/</a> . </p>\n\n<p>I want to use fontawesome to create the icons for the accordion. Right now, I am using Fontawesome unicodes(f067 , \\f068). However, I want to use Fontawesome classes instead such as this: \n    <a href=\"https://fontawesome.com/icons/plus?style=solid\" rel=\"nofollow noreferrer\">https://fontawesome.com/icons/plus?style=solid</a><br>\n    <a href=\"https://fontawesome.com/icons/minus?style=solid\" rel=\"nofollow noreferrer\">https://fontawesome.com/icons/minus?style=solid</a></p>\n\n<p>I am wondering where in my jquery or cshtml can I add the fontawesome classes?</p>\n\n<pre><code>&lt;i class=\"fas fa-plus\" /i&gt;\n&lt;i class=\"fas fa-minus\" /i&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "regex"], "comments": [{"owner": {"reputation": 1152, "user_id": 7316502, "user_type": "registered", "accept_rate": 100, "profile_image": "https://lh5.googleusercontent.com/-Lfx3LHRINPk/AAAAAAAAAAI/AAAAAAAAJOk/h36pbP54ZPU/photo.jpg?sz=128", "display_name": "thmsdnnr", "link": "https://stackoverflow.com/users/7316502/thmsdnnr"}, "edited": false, "score": 1, "creation_date": 1568239735, "post_id": 57897388, "comment_id": 102215669, "body": "Regex is one way. What have you tried so far?"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 6553328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/omcAX.jpg?s=128&g=1", "display_name": "Emma", "link": "https://stackoverflow.com/users/6553328/emma"}, "is_accepted": true, "score": 0, "last_activity_date": 1568256731, "last_edit_date": 1592644375, "creation_date": 1568256731, "answer_id": 57899095, "question_id": 57897388, "link": "https://stackoverflow.com/questions/57897388/how-extract-parts-of-string-based-on-pattern-using-javascript-nodejs/57899095#57899095", "title": "How extract parts of string, based on pattern using javascript/nodejs?", "body": "<p>Maybe,</p>\n<pre><code>(Hi, my name is )[^\\r\\n]*( and I live in )[^.\\r\\n]*.\n</code></pre>\n<p>replaced with,</p>\n<pre><code>$1%name%$2%country%.\n</code></pre>\n<p>might be somehow close to what might be desired here, not sure though.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const regex = /(Hi, my name is )[^\\r\\n]*( and I live in )[^.\\r\\n]*./g;\nconst str = `Hi, my name is Rafael and I live in Brazil.`;\nconst subst = `$1%name%$2%country%.`;\nconst result = str.replace(regex, subst);\nconsole.log(result);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h3><a href=\"https://regex101.com/r/TPOiAI/1/\" rel=\"nofollow noreferrer\">Demo</a></h3>\n"}], "owner": {"reputation": 415, "user_id": 1783819, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/fb48c21806878f10bd3a12576423a0e9?s=128&d=identicon&r=PG", "display_name": "Rafael F.", "link": "https://stackoverflow.com/users/1783819/rafael-f"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "closed_date": 1568355342, "accepted_answer_id": 57899095, "answer_count": 1, "score": -1, "last_activity_date": 1568256731, "creation_date": 1568239553, "question_id": 57897388, "link": "https://stackoverflow.com/questions/57897388/how-extract-parts-of-string-based-on-pattern-using-javascript-nodejs", "closed_reason": "Needs more focus", "title": "How extract parts of string, based on pattern using javascript/nodejs?", "body": "<p>Ex:</p>\n\n<pre><code>\"Hi, my name is Rafael and I live in Brazil.\"\n</code></pre>\n\n<p>I need to get, the name of person and the your country, using approach of <strong>express</strong>, for example:</p>\n\n<pre><code>\"Hi, my name is %name% and i live in %country%\"\n</code></pre>\n\n<p>Exists, some tool, to do this? </p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "redux", "polling"], "comments": [{"owner": {"reputation": 499, "user_id": 5553368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1238bdb437e73ac753cde9510f17c970?s=128&d=identicon&r=PG&f=1", "display_name": "StuffedPoblano", "link": "https://stackoverflow.com/users/5553368/stuffedpoblano"}, "edited": false, "score": 0, "creation_date": 1568239753, "post_id": 57897378, "comment_id": 102215674, "body": "I have also tried making each result a different constant, but when I do that, the promise fails."}, {"owner": {"reputation": 4819, "user_id": 11847125, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4be47a50b0a0c3b973a8602b84821db9?s=128&d=identicon&r=PG&f=1", "display_name": "azundo", "link": "https://stackoverflow.com/users/11847125/azundo"}, "edited": false, "score": 2, "creation_date": 1568246780, "post_id": 57897378, "comment_id": 102217157, "body": "you are not updating the value of <code>timelineStatus</code> anywhere - in fact it is currently declared as a <code>const</code>. After the <code>res = await ...</code> in the loop you need to get the new value from <code>res.payload.headers</code> to test in your <code>if</code>."}], "answers": [{"tags": [], "owner": {"reputation": 176, "user_id": 1575824, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fb2efbdf8b1052e776b1e65808fbf3ed?s=128&d=identicon&r=PG", "display_name": "Imran Ariffin", "link": "https://stackoverflow.com/users/1575824/imran-ariffin"}, "is_accepted": true, "score": 1, "last_activity_date": 1568248740, "creation_date": 1568248740, "answer_id": 57898325, "question_id": 57897378, "link": "https://stackoverflow.com/questions/57897378/polling-in-redux-action/57898325#57898325", "title": "Polling in Redux Action", "body": "<p>Translating @azundo's comment into an answer:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export const getVisitSummary = () =&gt; async (dispatch: Function) =&gt; {\r\n  let res = await dispatch({\r\n    type: GET_VISIT_SUMMARY,\r\n    payload: {\r\n      client: 'visitSummary',\r\n      request: {\r\n        method: 'get',\r\n        url: '/visit-summaries'\r\n      }\r\n    }\r\n  });\r\n\r\n  /***************************************/\r\n  /*** 1: Change from `const` to `let` ***/\r\n  /***************************************/\r\n  let timelineStatus = res.payload.headers['x-timeline-status'];\r\n  const wait = (ms: number) =&gt; new Promise(r =&gt; setTimeout(r, ms));\r\n\r\n  // Not currently updating\r\n  if (timelineStatus !== 'updating') {\r\n    return res;\r\n  }\r\n\r\n  // Start polling\r\n  dispatch({ type: START_POLLING });\r\n\r\n  while (true) {\r\n    // wait 10 seconds\r\n    await wait(10000);\r\n\r\n    res = await dispatch({\r\n      type: GET_VISIT_SUMMARY,\r\n      payload: {\r\n        client: 'visitSummary',\r\n        request: {\r\n          method: 'get',\r\n          url: '/visit-summaries'\r\n        }\r\n      }\r\n    });\r\n    /*********************************************************/\r\n    /*** 2: Use updated `timelineStatus` in if conditional ***/\r\n    /*********************************************************/\r\n    timelineStatus = res.payload.headers['x-timeline-status'];\r\n    if (timelineStatus !== 'updating') {\r\n      break;\r\n    }\r\n  }\r\n\r\n  dispatch({ type: STOP_POLLING });\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 499, "user_id": 5553368, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/1238bdb437e73ac753cde9510f17c970?s=128&d=identicon&r=PG&f=1", "display_name": "StuffedPoblano", "link": "https://stackoverflow.com/users/5553368/stuffedpoblano"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 338, "favorite_count": 0, "accepted_answer_id": 57898325, "answer_count": 1, "score": 0, "last_activity_date": 1568248740, "creation_date": 1568239461, "question_id": 57897378, "link": "https://stackoverflow.com/questions/57897378/polling-in-redux-action", "title": "Polling in Redux Action", "body": "<p>I am trying to pull of polling in one of my redux actions. The following is my action function. It seems to be working, but when the status is no longer \"updating\" and the data appears, it still runs the loop. Not sure why the stop isn't working.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>export const getVisitSummary = () =&gt; async (dispatch: Function) =&gt; {\r\n  let res = await dispatch({\r\n    type: GET_VISIT_SUMMARY,\r\n    payload: {\r\n      client: 'visitSummary',\r\n      request: {\r\n        method: 'get',\r\n        url: '/visit-summaries'\r\n      }\r\n    }\r\n  });\r\n\r\n  const timelineStatus = res.payload.headers['x-timeline-status'];\r\n  const wait = (ms: number) =&gt; new Promise(r =&gt; setTimeout(r, ms));\r\n\r\n  // Not currently updating\r\n  if (timelineStatus !== 'updating') {\r\n    return res;\r\n  }\r\n\r\n  // Start polling\r\n  dispatch({ type: START_POLLING });\r\n\r\n  while (true) {\r\n    // wait 10 seconds\r\n    await wait(10000);\r\n\r\n    res = await dispatch({\r\n      type: GET_VISIT_SUMMARY,\r\n      payload: {\r\n        client: 'visitSummary',\r\n        request: {\r\n          method: 'get',\r\n          url: '/visit-summaries'\r\n        }\r\n      }\r\n    });\r\n\r\n    if (timelineStatus !== 'updating') {\r\n      break;\r\n    }\r\n  }\r\n\r\n  dispatch({ type: STOP_POLLING });\r\n};</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Any help would be useful!</p>\n"}, {"tags": ["javascript", "arrays", "vue.js", "google-cloud-firestore"], "comments": [{"owner": {"reputation": 59704, "user_id": 635981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51763ff4e4c531c68326064bc13b84a6?s=128&d=identicon&r=PG", "display_name": "David Weldon", "link": "https://stackoverflow.com/users/635981/david-weldon"}, "edited": false, "score": 0, "creation_date": 1568239933, "post_id": 57897376, "comment_id": 102215727, "body": "What does <code>doc.data()</code> look like? It&#39;s helpful to know the structure of the thing you are traversing. And <code>payload</code> is an array of id strings?"}, {"owner": {"reputation": 421, "user_id": 5274540, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-pKplZJlgRpA/AAAAAAAAAAI/AAAAAAAAACM/UdfDJx0ddOI/photo.jpg?sz=128", "display_name": "Greg Fielding", "link": "https://stackoverflow.com/users/5274540/greg-fielding"}, "reply_to_user": {"reputation": 59704, "user_id": 635981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51763ff4e4c531c68326064bc13b84a6?s=128&d=identicon&r=PG", "display_name": "David Weldon", "link": "https://stackoverflow.com/users/635981/david-weldon"}, "edited": false, "score": 0, "creation_date": 1568240367, "post_id": 57897376, "comment_id": 102215823, "body": "David, I updated the question to include the console.log for doc.data()"}], "answers": [{"tags": [], "owner": {"reputation": 3545, "user_id": 9477038, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-boqZcfx9flg/AAAAAAAAAAI/AAAAAAAAABM/RuS5QrvFjbQ/photo.jpg?sz=128", "display_name": "Jackkobec", "link": "https://stackoverflow.com/users/9477038/jackkobec"}, "is_accepted": true, "score": 2, "last_activity_date": 1568240691, "creation_date": 1568240691, "answer_id": 57897544, "question_id": 57897376, "link": "https://stackoverflow.com/questions/57897376/how-to-filter-an-array-by-items-from-another-array/57897544#57897544", "title": "How to filter an array by items from another array", "body": "<p>The simplest solution to filter array by items from another array is to use includes() fucntion:</p>\n\n<pre><code>const venues = [\n{venue:1, title: 'Shoreline'},\n{venue:2, title: 'Bill Graham'},\n{venue:3, title: 'Golden Gate'},\n{venue:4, title: 'Orphium'}\n];\n\nconst following = [1, 3];\n\nconst tittles = venues\n  .filter(item =&gt; following.includes(item.venue))\n  .map(item =&gt; item.title);\n\nconsole.log(tittles);\n</code></pre>\n\n<p>Out:</p>\n\n<blockquote>\n  <p>[ 'Shoreline', 'Golden Gate' ]</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 59704, "user_id": 635981, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/51763ff4e4c531c68326064bc13b84a6?s=128&d=identicon&r=PG", "display_name": "David Weldon", "link": "https://stackoverflow.com/users/635981/david-weldon"}, "is_accepted": false, "score": 2, "last_activity_date": 1568241445, "last_edit_date": 1568241445, "creation_date": 1568241137, "answer_id": 57897594, "question_id": 57897376, "link": "https://stackoverflow.com/questions/57897376/how-to-filter-an-array-by-items-from-another-array/57897594#57897594", "title": "How to filter an array by items from another array", "body": "<p>I <em>think</em> what you want is something like this:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>getUserVenues({ commit }, payload) {\n  fb.venuesCollection.onSnapshot(querySnapshot =&gt; {\n    const venuesArray = [];\n    querySnapshot.forEach(doc =&gt; {\n      const venue = doc.data();\n      if (payload.includes(venue.venue)) {\n        venuesArray.push(venue);\n      }\n    });\n    commit('setUserVenues', venuesArray);\n  });\n},\n</code></pre>\n\n<p>The variables are a bit confusing because your <code>venue</code> object has a <code>venue</code> field, instead of an <code>id</code> (at least that's how I interpret your question). So if <code>venue.venue</code> is the id you want to match in <code>payload</code>, then <code>payload.includes</code> is what you needed.</p>\n\n<p>If you want to commit something other than the whole venue object you could do something like:</p>\n\n<p><strong>commit just the names</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>commit('setUserVenues', venuesArray.map(v =&gt; v.venueName));\n</code></pre>\n\n<p><strong>commit just the names and ids</strong></p>\n\n<pre class=\"lang-js prettyprint-override\"><code>commit('setUserVenues', venuesArray.map(v =&gt; ({ id: v.venue, title: v.venueName})));\n</code></pre>\n"}], "owner": {"reputation": 421, "user_id": 5274540, "user_type": "registered", "accept_rate": 33, "profile_image": "https://lh5.googleusercontent.com/-pKplZJlgRpA/AAAAAAAAAAI/AAAAAAAAACM/UdfDJx0ddOI/photo.jpg?sz=128", "display_name": "Greg Fielding", "link": "https://stackoverflow.com/users/5274540/greg-fielding"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 66, "favorite_count": 0, "accepted_answer_id": 57897544, "answer_count": 2, "score": 2, "last_activity_date": 1568241445, "creation_date": 1568239436, "last_edit_date": 1568240142, "question_id": 57897376, "link": "https://stackoverflow.com/questions/57897376/how-to-filter-an-array-by-items-from-another-array", "title": "How to filter an array by items from another array", "body": "<p>We are creating an application using vue and vuex. We have an array of venue id's for venues that a user is following. We want each user to see a list of the all of TITLES of venues they are following.</p>\n\n<p>For example:</p>\n\n<pre><code>venues: [\n{venue:1, title: Shoreline}\n{venue:2, title: Bill Graham}\n{venue:3, title: Golden Gate}\n{venue:4, title: Orphium}\n]\n</code></pre>\n\n<p>I'm following: [1, 3]</p>\n\n<p>But I don't want to show results 1 and 3. I want the results on the page to show that I'm following \"Shoreline\" and \"Golden Gate\"</p>\n\n<p>I've been trying to use map and filter functions but can't get it to work.</p>\n\n<pre><code>getFollowingState({ commit, state }) {\n  fb.venueFollowersCollection.where(\"user\", \"==\", state.currentUser.uid).onSnapshot(querySnapshot =&gt; {\n    let followingArray = []\n    querySnapshot.forEach(doc =&gt; {\n      console.log(doc.data())\n      let followed = doc.data().venue\n      followingArray.push(followed)\n    })\n    store.dispatch('getUserVenues', followingArray)\n    commit('setFollowedVenues', followingArray)\n  })\n},\n</code></pre>\n\n<p>This gives me an array of all of the ids for the venues that I am following. Here is what doc.data() looks like:</p>\n\n<pre><code>email: \"greg@...\"\nname: \"Gre...\"\nphone: \"925...\"\nuser: \"jxckuJwXxRdgfKmEduYlLbfxd1g1\"\nvenue: \"S2XWn8tG0tIMyoOyAcuc\"\nvenueName: \"California Memorial Stadium\"\n</code></pre>\n\n<p>Next, I want to get each venue object where the id is in the array of ids of venues I'm following (payload).</p>\n\n<pre><code>getUserVenues({ commit }, payload) {\n  fb.venuesCollection.onSnapshot(querySnapshot =&gt; {\n    let venuesArray = []\n    querySnapshot.forEach(doc =&gt; {        \n      if ((doc.data()).includes(payload)) {\n        let venue = doc.data()\n        venuesArray.push(venue)\n        console.log(doc.data())\n      }\n    })\n    console.log(venuesArray)\n    commit(\"setUserVenues\", venuesArray)\n  })\n},\n</code></pre>\n\n<p>This part doesn't work because \"payload\" isn't a string. What do I need to be doing differently?</p>\n"}, {"tags": ["javascript", "reactjs", "forms", "ecmascript-6", "ecmascript-5"], "comments": [{"owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "edited": false, "score": 0, "creation_date": 1568239554, "post_id": 57897366, "comment_id": 102215618, "body": "Ok, so what is the problem?"}, {"owner": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "reply_to_user": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "edited": false, "score": 0, "creation_date": 1568239621, "post_id": 57897366, "comment_id": 102215634, "body": "I&#39;m not sure how to do this? surely an if else statement with 26 conditions isn&#39;t the way to go about this.."}, {"owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "edited": false, "score": 0, "creation_date": 1568239661, "post_id": 57897366, "comment_id": 102215648, "body": "If else is equalling to object with 26 keys and values"}], "answers": [{"comments": [{"owner": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "edited": false, "score": 0, "creation_date": 1568240032, "post_id": 57897438, "comment_id": 102215742, "body": "Thanks! this is what I was looking for"}], "tags": [], "owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "is_accepted": true, "score": 1, "last_activity_date": 1568240057, "last_edit_date": 1568240057, "creation_date": 1568239850, "answer_id": 57897438, "question_id": 57897366, "link": "https://stackoverflow.com/questions/57897366/return-value-from-array-index-value-based-on-input/57897438#57897438", "title": "return value from array index value based on input", "body": "<p>One way is using a dictionary to map <code>userInput</code> to <code>available</code> value, something like:</p>\n\n<pre><code>const USER_MAPPING = {\n  \"0\": \"926\",\n  \"3\": \"5412\",\n  \"2\": \"2321\"\n  // ... rest values\n};\n\n// usage\nreturn USER_MAPPING[object.userInput];\n</code></pre>\n\n<p>Such mapping is hard-coded and opens opportunities for bugs, so if there is any logic behind <code>userInput</code> and the values, you should generate some function for it:</p>\n\n<pre><code>return generateAvailable(object.userInput)\n</code></pre>\n"}], "owner": {"reputation": 597, "user_id": 8525056, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5895d0e70d946fbe5ab7c9aaf6b8aee3?s=128&d=identicon&r=PG&f=1", "display_name": "invrt", "link": "https://stackoverflow.com/users/8525056/invrt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 34, "favorite_count": 0, "accepted_answer_id": 57897438, "answer_count": 1, "score": 0, "last_activity_date": 1568240211, "creation_date": 1568239380, "last_edit_date": 1568240211, "question_id": 57897366, "link": "https://stackoverflow.com/questions/57897366/return-value-from-array-index-value-based-on-input", "title": "return value from array index value based on input", "body": "<p>I'm working on a reporting tool that I'm not sure how to build -</p>\n\n<p>Basically, I am using a form, that takes the users input and converts it.</p>\n\n<p>The overall structure of the object will look something like this...</p>\n\n<pre><code>object {\n userInput: ' ',\n available: ' ',\n}\n</code></pre>\n\n<p>once the user has input some data, it should take the input and change into a different number.</p>\n\n<pre><code>silo_1Lookup = userInput =&gt; {\n  silo_1DepthsFilling = [926, 893, 860, 827, 794, 761];\n};\n</code></pre>\n\n<p>Conversion will be done in 1 function, and then updates the object.</p>\n\n<p>pseudo code: </p>\n\n<pre><code>if (object.userInput === \"0\") {\n  object.available = \"926\";\n}\n</code></pre>\n\n<p>Each value will correspond with an index in that array, so if <code>object.userInput === '2.5'</code> then object.avaible will be 761 (<code>arrayIndex: 6</code>)</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 5, "user_id": 12055398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56eca781d80f104518bf3b5fae262c31?s=128&d=identicon&r=PG&f=1", "display_name": "PaulAsmon", "link": "https://stackoverflow.com/users/12055398/paulasmon"}, "edited": false, "score": 0, "creation_date": 1568239808, "post_id": 57897383, "comment_id": 102215701, "body": "This didn&#39;t really answer my question, I guess what I&#39;m trying to get at is do I have to <code>await</code> the <code>userApi.getUserIds()</code> inside the <code>useEffect</code> even though I&#39;ve already made the function itself async? Because if not I could just use the <code>useEffect</code> and do <code>usersApi.getUserIds().then(data =&gt; setUserIds(data));</code> could I not?"}, {"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "reply_to_user": {"reputation": 5, "user_id": 12055398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56eca781d80f104518bf3b5fae262c31?s=128&d=identicon&r=PG&f=1", "display_name": "PaulAsmon", "link": "https://stackoverflow.com/users/12055398/paulasmon"}, "edited": false, "score": 0, "creation_date": 1568239998, "post_id": 57897383, "comment_id": 102215736, "body": "No, you do not need to stick an await in addition to doing a .then. Do one or the other, not both."}, {"owner": {"reputation": 5, "user_id": 12055398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56eca781d80f104518bf3b5fae262c31?s=128&d=identicon&r=PG&f=1", "display_name": "PaulAsmon", "link": "https://stackoverflow.com/users/12055398/paulasmon"}, "edited": false, "score": 0, "creation_date": 1568240171, "post_id": 57897383, "comment_id": 102215781, "body": "Thanks Nicholas, this is what I was looking for: If you aren&#39;t using promises, you don&#39;t need async/await. Seeing as though the <code>getUsersIds</code> returns data and not a promise, there&#39;s no need for async in my useEffect, can you confirm this?"}, {"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "reply_to_user": {"reputation": 5, "user_id": 12055398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56eca781d80f104518bf3b5fae262c31?s=128&d=identicon&r=PG&f=1", "display_name": "PaulAsmon", "link": "https://stackoverflow.com/users/12055398/paulasmon"}, "edited": false, "score": 0, "creation_date": 1568240260, "post_id": 57897383, "comment_id": 102215798, "body": "<code>Seeing as though the getUsersIds returns data and not a promise</code> That&#39;s incorrect. getUsersIds returns a promise. <b>All</b> <code>async</code> functions return promises. <code>async</code> functions make the syntax for promises easier, they do not eliminate the fact that promises are involved. Since getUsersIds returns a promise, you either need to call <code>.then</code> on that promise, or you need to use <code>async</code>/<code>await</code> on that promise. (and as i said, i strongly encourage you to pick just one style and not mix them -- I only mention both for completeness)."}, {"owner": {"reputation": 5, "user_id": 12055398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56eca781d80f104518bf3b5fae262c31?s=128&d=identicon&r=PG&f=1", "display_name": "PaulAsmon", "link": "https://stackoverflow.com/users/12055398/paulasmon"}, "edited": false, "score": 0, "creation_date": 1568240461, "post_id": 57897383, "comment_id": 102215845, "body": "Ahh I see what you&#39;re saying, the async function <i>always</i> returns a promise, so doing <code>userApi.getUserIds.then(data =&gt; setUserIds(data));</code> is the same but just a different style, and this will still be async because when it gets resolved, it ticks back onto the event loop and cleared, right?"}, {"owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "reply_to_user": {"reputation": 5, "user_id": 12055398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56eca781d80f104518bf3b5fae262c31?s=128&d=identicon&r=PG&f=1", "display_name": "PaulAsmon", "link": "https://stackoverflow.com/users/12055398/paulasmon"}, "edited": false, "score": 0, "creation_date": 1568240792, "post_id": 57897383, "comment_id": 102215923, "body": "getUserIds() returns a promise. If you call <code>.then(data =&gt; setUserIds(data))</code>, you&#39;re telling the promise what function you want to be called once that promise resolves. Or if you go with the async/await approach, then <code>const data = await </code> and the rest of the function specifies what to run when the promise resolves. Some time later the http request completes, the promise resolves, and then your code gets put into the event loop and runs the next chance it gets. Either way, your code to call setUserIds will have to wait to run."}, {"owner": {"reputation": 5, "user_id": 12055398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56eca781d80f104518bf3b5fae262c31?s=128&d=identicon&r=PG&f=1", "display_name": "PaulAsmon", "link": "https://stackoverflow.com/users/12055398/paulasmon"}, "edited": false, "score": 0, "creation_date": 1568240870, "post_id": 57897383, "comment_id": 102215937, "body": "That&#39;s a great way to explain it Nicholas, thank you very much."}], "tags": [], "owner": {"reputation": 35558, "user_id": 3794812, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7e0edf514cf8b70557fab4557205a956?s=128&d=identicon&r=PG&f=1", "display_name": "Nicholas Tower", "link": "https://stackoverflow.com/users/3794812/nicholas-tower"}, "is_accepted": true, "score": 1, "last_activity_date": 1568239799, "last_edit_date": 1568239799, "creation_date": 1568239498, "answer_id": 57897383, "question_id": 57897316, "link": "https://stackoverflow.com/questions/57897316/do-i-have-to-await-an-async-function-in-useeffect-that-is-already-async/57897383#57897383", "title": "Do I have to await an async function in useEffect that is already async?", "body": "<blockquote>\n  <p>1) Do I have to use async/await on a function that is already async/await</p>\n</blockquote>\n\n<p>It's up to you what syntax you want to use. You could either use async/await, or you could use the older <code>.then</code> style. Personally i find the async await style easier to understand so i personally prefer it. I would however recommend <strong>against</strong> mixing the two syntaxes. It's almost never necessary to do so, and it just ends up making the code harder to understand. Either write:</p>\n\n<pre><code>const fetchData = async () =&gt; {\n  const data = await userApi.getUserIds();\n  setUserIds(data);\n}\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>const fetchData = () =&gt; {\n  userApi.getUserIds.then(data =&gt; setUserIds(data));\n}\n</code></pre>\n\n<blockquote>\n  <p>2) The difference between using await &amp; return on a function that already returns data, not promises.</p>\n</blockquote>\n\n<p>Async/await exists to simplify the syntax for working with promises. If you aren't using promises, you don't need async/await.</p>\n"}], "owner": {"reputation": 5, "user_id": 12055398, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/56eca781d80f104518bf3b5fae262c31?s=128&d=identicon&r=PG&f=1", "display_name": "PaulAsmon", "link": "https://stackoverflow.com/users/12055398/paulasmon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 57897383, "answer_count": 1, "score": 0, "last_activity_date": 1568239799, "creation_date": 1568239012, "question_id": 57897316, "link": "https://stackoverflow.com/questions/57897316/do-i-have-to-await-an-async-function-in-useeffect-that-is-already-async", "title": "Do I have to await an async function in useEffect that is already async?", "body": "<p>Let's say I have the following code below, and I call my function <code>usersaApi.getUsersId</code> it in a <code>useEffect</code> function, do I have to make the response (as it returns the values, not the Promise) an async function?</p>\n\n<pre><code>const usersApi = {\n  getUserIds: async storyId =&gt; {\n    const result = await axios\n      .get(`${users + userId}.json`)\n      .then(({ data }) =&gt; data);\n\n    return result;\n  },\n}\n\nuseEffect(() =&gt; {\n    const fetchData = async () =&gt; {\n      await usersApi.getUserIds().then(data =&gt; setUserIds(data));\n    };\n\n    fetchData();\n}, []);\n</code></pre>\n\n<p>What's the difference also between using:</p>\n\n<pre><code>const fetchData = async () =&gt; {\n    await usersApi.getUserIds().then(data =&gt; setUserIds(data));\n};\n</code></pre>\n\n<p>vs.</p>\n\n<pre><code>const fetchData = async () =&gt; {\n     const result = await usersApi.getUserIds().then(data =&gt; setUserIds(data));\n\n     return result;\n};\n</code></pre>\n\n<p>I presume I can just await the response and not return the result right? It's kind of two questions here:</p>\n\n<p>1) Do I have to use async/await on a function that is already async/await\n2) The difference between using await &amp; return on a function that already returns data, not promises.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "edited": false, "score": 1, "creation_date": 1568239116, "post_id": 57897309, "comment_id": 102215528, "body": "Read it out loud <code>if variable b is not the string H</code> Well when you type &quot;B&quot; it is not H so it is true...."}, {"owner": {"reputation": 3180, "user_id": 5754797, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/469b1fada1dd163114d4bc471d312fb3?s=128&d=identicon&r=PG&f=1", "display_name": "sal", "link": "https://stackoverflow.com/users/5754797/sal"}, "edited": false, "score": 0, "creation_date": 1568239288, "post_id": 57897309, "comment_id": 102215566, "body": "You probably wanted an <code>and</code> condition in the first statement."}], "answers": [{"tags": [], "owner": {"reputation": 184244, "user_id": 14104, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/otetW.jpg?s=128&g=1", "display_name": "epascarello", "link": "https://stackoverflow.com/users/14104/epascarello"}, "is_accepted": false, "score": 1, "last_activity_date": 1568239278, "creation_date": 1568239278, "answer_id": 57897352, "question_id": 57897309, "link": "https://stackoverflow.com/questions/57897309/check-if-the-input-is-wrong/57897352#57897352", "title": "Check if the input is wrong", "body": "<p>Your logic is wrong. In order for it to not go into that first if statement, B would need to be three values. Since a variable can not be three things it fails. Your logic should be using an AND, not an OR. </p>\n\n<p>But that logic still does not make sense. You should just have that be the else.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function myFunction() {\r\n  var b, r4;\r\n  b = document.getElementById(\"tipping\").value.toUpperCase();\r\n  if (b === \"H\") {\r\n    r4 = \"Hjemme\";\r\n  } else if (b === \"U\") {\r\n    r4 = \"Uavgjort\";\r\n  } else if (b === \"B\") {\r\n    r4 = \"Borte\";\r\n  } else {\r\n    r4 = \"Du har ikke brukt stort bokstav eller tastet ugyldig tegn\";\r\n  }\r\n  document.getElementById(\"demo\").innerHTML = r4;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input id=\"tipping\" value=\"H\" type=\"text\" /&gt;\r\n\r\n&lt;button onclick=\"myFunction()\"&gt;Try it&lt;/button&gt;\r\n\r\n&lt;p id=\"demo\"&gt;&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 172, "user_id": 12039592, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4ab6adc2629c1e4c37f39b5d13b590d3?s=128&d=identicon&r=PG&f=1", "display_name": "Heera", "link": "https://stackoverflow.com/users/12039592/heera"}, "is_accepted": false, "score": 1, "last_activity_date": 1568239407, "creation_date": 1568239407, "answer_id": 57897370, "question_id": 57897309, "link": "https://stackoverflow.com/questions/57897309/check-if-the-input-is-wrong/57897370#57897370", "title": "Check if the input is wrong", "body": "<p>this works</p>\n\n<p>you also want to make sure it works if user types lowercase h,u,b</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;p&gt;Type H/B/U:&lt;/p&gt;\n\n&lt;input id=\"tipping\" value=\"H\" type=\"text\"/&gt;\n\n&lt;button onclick=\"myFunction()\"&gt;Try it&lt;/button&gt;\n\n&lt;p id=\"demo\"&gt;&lt;/p&gt;\n\n&lt;script&gt;\nfunction myFunction() {\n  var b,r4;\n  b= document.getElementById(\"tipping\").value;\n\n  if(b === \"B\" || b === \"b\"){\n    r4=\"Borte\";\n  } else if( b === \"U\" || b === \"u\"){\n    r4=\"Uavgjort\";\n  } else if( b  === \"H\" || b  === \"h\"){\n    r4=\"Hjemme\";\n  } else {\n    r4=\"Du har ikke brukt stort bokstav eller tastet ugyldig tegn\";\n  }\n   document.getElementById(\"demo\").innerHTML = r4;\n}\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>or use modern if else</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;p&gt;Type H/B/U:&lt;/p&gt;\n\n&lt;input id=\"tipping\" value=\"H\" type=\"text\"/&gt;\n\n&lt;button onclick=\"myFunction()\"&gt;Try it&lt;/button&gt;\n\n&lt;p id=\"demo\"&gt;&lt;/p&gt;\n\n&lt;script&gt;\nfunction myFunction() {\n  var b,r4;\n  b= document.getElementById(\"tipping\").value;\n\n  b === \"H\" || b === \"h\" ? r4 = \"Hjemme\" :\n  b === \"U\" || b === \"u\" ? r4 = \"Uavgjort\" :\n  b === \"B\" || b === \"b\" ? r4 = \"Borte\" :\n  r4 = \"Du har ikke brukt stort bokstav eller tastet ugyldig tegn\" \n\n\n   document.getElementById(\"demo\").innerHTML = r4;\n}\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 7287, "user_id": 3824283, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5l7OG.jpg?s=128&g=1", "display_name": "EternalHour", "link": "https://stackoverflow.com/users/3824283/eternalhour"}, "is_accepted": false, "score": 0, "last_activity_date": 1568242169, "last_edit_date": 1568242169, "creation_date": 1568240949, "answer_id": 57897570, "question_id": 57897309, "link": "https://stackoverflow.com/questions/57897309/check-if-the-input-is-wrong/57897570#57897570", "title": "Check if the input is wrong", "body": "<p>A <code>switch()</code> would be much more appropriate here. If the input doesn't match \"H\", \"U\", or \"B\" display the default text.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;html&gt;\r\n  &lt;head&gt;\r\n    &lt;script&gt;\r\n      function myFunction() {\r\n        b = document.getElementById(\"tipping\").value;\r\n        switch (b) {\r\n          case \"H\":\r\n            r4 = \"Hjemme\";\r\n            break;\r\n          case \"U\":\r\n            r4 = \"Uavgjort\";\r\n            break;\r\n          case \"B\":\r\n            r4 = \"Borte\";\r\n            break;\r\n          default:\r\n            r4 = \"Du har ikke brukt stort bokstav eller tastet ugyldig tegn\";\r\n        }\r\n        document.getElementById(\"demo\").innerHTML = r4;\r\n      }\r\n    &lt;/script&gt;\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n    &lt;p&gt;Type H/B/U:&lt;/p&gt;\r\n    &lt;input id=\"tipping\" value=\"H\" type=\"text\" /&gt;\r\n    &lt;button onclick=\"myFunction()\"&gt;Try it&lt;/button&gt;\r\n    &lt;p id=\"demo\"&gt;&lt;/p&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 35, "user_id": 12008895, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4acd29a222f55865ac6cb354cfa59f07?s=128&d=identicon&r=PG&f=1", "display_name": "Dimarco", "link": "https://stackoverflow.com/users/12008895/dimarco"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 46, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1568242169, "creation_date": 1568238988, "question_id": 57897309, "link": "https://stackoverflow.com/questions/57897309/check-if-the-input-is-wrong", "title": "Check if the input is wrong", "body": "<p>I am asking to input a letter. Then I should check if the letter is one of the letters in the prelist and then it is supposed to display some words</p>\n\n<p>!== is not working for the letters </p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;body&gt;\n&lt;p&gt;Type H/B/U:&lt;/p&gt;\n\n&lt;input id=\"tipping\" value=\"H\" type=\"text\"/&gt;\n\n&lt;button onclick=\"myFunction()\"&gt;Try it&lt;/button&gt;\n\n&lt;p id=\"demo\"&gt;&lt;/p&gt;\n\n&lt;script&gt;\nfunction myFunction() {\n  var b,r4;\n  b= document.getElementById(\"tipping\").value;\n if (b !==\"H\"||b !==\"U\" ||b !==\"B\") {\n   r4=\"Du har ikke brukt stort bokstav eller tastet ugyldig tegn\";\n } else if (b===\"H\"){\n   r4=\"Hjemme\";\n } else if (b===\"U\"){\n   r4=\"Uavgjort\";\n } else if(b===\"B\") {\n   r4=\"Borte\";\n }\n   document.getElementById(\"demo\").innerHTML = r4;\n}\n&lt;/script&gt;\n\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>One is supposed to only type B,H,U. If B is typed then the message Borte is displayed and so on.. .</p>\n"}, {"tags": ["javascript", "local-storage"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1568241026, "post_id": 57897293, "comment_id": 102215975, "body": "<a href=\"https://stackoverflow.com/questions/22001112/is-localstorage-thread-safe\">this question</a> seems relevant. There&#39;s no specification for <code>++</code> that says it works any differently from <code>localStorage.generator = localStorage.generator + 1</code>, so there&#39;s no locking between reading and writing."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568241084, "post_id": 57897293, "comment_id": 102215991, "body": "it uses a mutex internally just to ensure that localStorage stays consistent."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1568244581, "post_id": 57897293, "comment_id": 102216758, "body": "No, <code>++</code> is indeed not atomic. It&#39;s the same as writing <code>localStorage.generator = 1 + Number(localStorage.generator);</code>"}, {"owner": {"reputation": 504, "user_id": 206494, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/181e930f6b274b4a4014e5618677416a?s=128&d=identicon&r=PG", "display_name": "AlexV", "link": "https://stackoverflow.com/users/206494/alexv"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568248753, "post_id": 57897293, "comment_id": 102217530, "body": "@Barmar thank you for pointing to the other SO question, which references the mutex implementation [requirement] (<a href=\"https://www.w3.org/TR/webstorage/#threads\" rel=\"nofollow noreferrer\">w3.org/TR/webstorage/#threads</a>).  It seems that the mutex protects the entire event processing routine until the next one is taken from the event loop. This effectively gives me exclusive access to the entire localStorage for the duration of execution block. On the down side, other tabs would be frozen until this script finishes execution and returns to the browser&#39;s event loop.  Please correct me if I understand it wrong."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568249867, "post_id": 57897293, "comment_id": 102217707, "body": "That does sound right. Although there&#39;s a link in that paragraph to a nonexistent location in the official spec."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568250089, "post_id": 57897293, "comment_id": 102217737, "body": "But I wasn&#39;t able to reproduce that in our application that uses localStorage. I opened two windows, and each one was able to update a localStorage variable without causing the other to hang."}, {"owner": {"reputation": 504, "user_id": 206494, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/181e930f6b274b4a4014e5618677416a?s=128&d=identicon&r=PG", "display_name": "AlexV", "link": "https://stackoverflow.com/users/206494/alexv"}, "edited": false, "score": 0, "creation_date": 1568250243, "post_id": 57897293, "comment_id": 102217761, "body": "Hmm, strange, I am using chrome on macOS and can confirm that I cannot run a script on two tabs simultaneously trying to access <i>the same</i> localStorage."}], "answers": [{"comments": [{"owner": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 0, "creation_date": 1593395740, "post_id": 58192440, "comment_id": 110756691, "body": "As it&#39;s only a recommendation, that seems to imply some need to detect when the browser doesn&#39;t follow the recommendation so code making assumptions about this doesn&#39;t break later..."}, {"owner": {"reputation": 504, "user_id": 206494, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/181e930f6b274b4a4014e5618677416a?s=128&d=identicon&r=PG", "display_name": "AlexV", "link": "https://stackoverflow.com/users/206494/alexv"}, "reply_to_user": {"reputation": 7884, "user_id": 543873, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/55576366e4295fb7840a319399d53f57?s=128&d=identicon&r=PG&f=1", "display_name": "Michael", "link": "https://stackoverflow.com/users/543873/michael"}, "edited": false, "score": 1, "creation_date": 1593403153, "post_id": 58192440, "comment_id": 110758143, "body": "@Michael, In most cases, it&#39;s a good strategy to develop assuming that the browser complies with W3C Recommendations, and if the testing reveals that there is a problem with a particular browser, make a decision on it separately. Perhaps you would find acceptable workaround, or maybe you would ban that browser all together. The browser developers should aim at making their browsers conformant to all W3C recommendations, really."}], "tags": [], "owner": {"reputation": 504, "user_id": 206494, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/181e930f6b274b4a4014e5618677416a?s=128&d=identicon&r=PG", "display_name": "AlexV", "link": "https://stackoverflow.com/users/206494/alexv"}, "is_accepted": false, "score": 3, "last_activity_date": 1569965082, "creation_date": 1569965082, "answer_id": 58192440, "question_id": 57897293, "link": "https://stackoverflow.com/questions/57897293/is-browsers-localstorage-generator-operator-atomic/58192440#58192440", "title": "Is browser&#39;s &quot;localStorage.generator++&quot; operator atomic?", "body": "<p>According to W3C Web Storage Recommendation (see <a href=\"http://w3.org/TR/webstorage/#threads\" rel=\"nofollow noreferrer\">here</a>), \u00a74.5 \"Threads\":</p>\n\n<blockquote>\n  <p>Because of the use of the storage mutex, multiple browsing contexts will be able to access the local storage areas simultaneously in such a manner that scripts cannot detect any concurrent script execution.</p>\n  \n  <p>Thus, the length attribute of a Storage object, and the value of the various properties of that object, cannot change while a script is executing, other than in a way that is predictable by the script itself.</p>\n</blockquote>\n\n<p>Which means to me is that the mutex is placed on first access (read or write) of the script to <code>localStorage</code> and kept until this event loop entry execution returns. <strong>Effectively, we have exclusive access to the <code>localStorage</code> for the duration of the execution chain</strong>.</p>\n\n<p>I would imagine, if <code>await/async</code> are used, it would break the execution chain, and make the code executed across multiple event loop entries, thus breaking this contract. Even though the source code block looks monolithic. Beware.</p>\n\n<p>The answer to the question is: Yes, the code in question would behave correctly, providing the browser keeps to the W3C recommendation. This is despite the fact that the \"test\" <code>if(!localStorage.generator)</code> and the \"increment\" <code>localStorage.generator++</code> are in the different lines and in most other execution environments are not guaranteed to execute atomically.</p>\n"}], "owner": {"reputation": 504, "user_id": 206494, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/181e930f6b274b4a4014e5618677416a?s=128&d=identicon&r=PG", "display_name": "AlexV", "link": "https://stackoverflow.com/users/206494/alexv"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569965082, "creation_date": 1568238921, "question_id": 57897293, "link": "https://stackoverflow.com/questions/57897293/is-browsers-localstorage-generator-operator-atomic", "title": "Is browser&#39;s &quot;localStorage.generator++&quot; operator atomic?", "body": "<p>I would like to implement a unique ID generator backed by browser's local storage. My concern is that the ++ operator for the storage DOM object is not implemented to run atomically.</p>\n\n<p>Consider:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function generateUniqueID() {\n  if(!localStorage.generator) {\n    localStorage.generator = 0;\n  }\n  return localStorage.generator++;\n}\n</code></pre>\n\n<p>Could people please comment if this code would run without any concurrency issues and generate unique IDs across multiple browser tabs hammering this <code>generateUniqueID</code> function?</p>\n"}, {"tags": ["javascript", "firebase-realtime-database", "firebase-security"], "answers": [{"tags": [], "owner": {"reputation": 411025, "user_id": 209103, "user_type": "registered", "accept_rate": 73, "profile_image": "https://www.gravatar.com/avatar/12d378e6a9788ab9c94bbafe242b82b4?s=128&d=identicon&r=PG", "display_name": "Frank van Puffelen", "link": "https://stackoverflow.com/users/209103/frank-van-puffelen"}, "is_accepted": true, "score": 1, "last_activity_date": 1568238654, "creation_date": 1568238654, "answer_id": 57897246, "question_id": 57897216, "link": "https://stackoverflow.com/questions/57897216/will-child-added-still-work-if-some-entries-are-restricted-by-the-security-rules/57897246#57897246", "title": "Will child_added still work if some entries are restricted by the security rules?", "body": "<p>In your code, a listener on <code>messagesRef</code> will be rejected unless the user has full read access to <code>messagesRef</code>.</p>\n\n<p>The important thing to realize that <a href=\"https://firebase.google.com/docs/database/security/securing-data#rules_are_not_filters\" rel=\"nofollow noreferrer\">security rules don't filter data</a> on their own. They merely ensure that all access is authorized. And in your scenario, the access would only be authorized if the user has read access to all of <code>messagesRef</code>.</p>\n\n<p>If you want a user to be able to read only a subset of the data, you'll need two things:</p>\n\n<ol>\n<li>A query to read only that data.</li>\n<li>Security rules that only allow data query.</li>\n</ol>\n\n<p>This is described in the documentation on <a href=\"https://firebase.google.com/docs/database/security/securing-data#query-based_rules\" rel=\"nofollow noreferrer\">query based rules</a>, which includes a useful example too including both the code and the rules.</p>\n"}], "owner": {"reputation": 522, "user_id": 2498993, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/8f881d06776cfe34de58faa0a1e8181d?s=128&d=identicon&r=PG", "display_name": "damingzi", "link": "https://stackoverflow.com/users/2498993/damingzi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 17, "favorite_count": 0, "accepted_answer_id": 57897246, "answer_count": 1, "score": 0, "last_activity_date": 1568238654, "creation_date": 1568238454, "last_edit_date": 1568238583, "question_id": 57897216, "link": "https://stackoverflow.com/questions/57897216/will-child-added-still-work-if-some-entries-are-restricted-by-the-security-rules", "title": "Will child_added still work if some entries are restricted by the security rules?", "body": "<p>I have a ref pointing to privateMessages like below:</p>\n\n<p><code>messagesRef: firebase.database().ref(\"privateMessages\")</code></p>\n\n<p>Below is a listener function for any <code>child_added</code> event in <code>/privateMessages</code>:</p>\n\n<pre><code>this.state.messagesRef.on(\"child_added\", snap =&gt; {\n...\n})\n</code></pre>\n\n<p>For security rules, not all records in /privacyMessages are accessible to a certain logged-in user. So in this case, will the listener function still work? I've tried but seems the listener function not getting executed. Please kindly let me know where went wrong and how to fix. Thanks!</p>\n"}, {"tags": ["javascript", "typescript"], "answers": [{"comments": [{"owner": {"reputation": 142, "user_id": 8285939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q9yhfygm2J4/AAAAAAAAAAI/AAAAAAAAA1Y/lcxShwgti94/photo.jpg?sz=128", "display_name": "Azim Sadikov", "link": "https://stackoverflow.com/users/8285939/azim-sadikov"}, "edited": false, "score": 0, "creation_date": 1568256033, "post_id": 57898091, "comment_id": 102218879, "body": "Thanks for the answer, but its missing category info, actions could be different based on the category. Like, there are n number of categories for each page."}, {"owner": {"reputation": 3545, "user_id": 9477038, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-boqZcfx9flg/AAAAAAAAAAI/AAAAAAAAABM/RuS5QrvFjbQ/photo.jpg?sz=128", "display_name": "Jackkobec", "link": "https://stackoverflow.com/users/9477038/jackkobec"}, "reply_to_user": {"reputation": 142, "user_id": 8285939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q9yhfygm2J4/AAAAAAAAAAI/AAAAAAAAA1Y/lcxShwgti94/photo.jpg?sz=128", "display_name": "Azim Sadikov", "link": "https://stackoverflow.com/users/8285939/azim-sadikov"}, "edited": false, "score": 0, "creation_date": 1568274417, "post_id": 57898091, "comment_id": 102224319, "body": "Just add one more mapping for categories and actions."}, {"owner": {"reputation": 142, "user_id": 8285939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q9yhfygm2J4/AAAAAAAAAAI/AAAAAAAAA1Y/lcxShwgti94/photo.jpg?sz=128", "display_name": "Azim Sadikov", "link": "https://stackoverflow.com/users/8285939/azim-sadikov"}, "edited": false, "score": 0, "creation_date": 1568295926, "post_id": 57898091, "comment_id": 102236078, "body": "You could do that, but that would mean a lot of code duplication, action object I have has 15 properties, I would think there is a better way to solve this problem"}, {"owner": {"reputation": 3545, "user_id": 9477038, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-boqZcfx9flg/AAAAAAAAAAI/AAAAAAAAABM/RuS5QrvFjbQ/photo.jpg?sz=128", "display_name": "Jackkobec", "link": "https://stackoverflow.com/users/9477038/jackkobec"}, "reply_to_user": {"reputation": 142, "user_id": 8285939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q9yhfygm2J4/AAAAAAAAAAI/AAAAAAAAA1Y/lcxShwgti94/photo.jpg?sz=128", "display_name": "Azim Sadikov", "link": "https://stackoverflow.com/users/8285939/azim-sadikov"}, "edited": false, "score": 0, "creation_date": 1568300618, "post_id": 57898091, "comment_id": 102238947, "body": "Code duplication is a little problem on your case. I propose you to do simple mapping and all will be ok."}], "tags": [], "owner": {"reputation": 3545, "user_id": 9477038, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-boqZcfx9flg/AAAAAAAAAAI/AAAAAAAAABM/RuS5QrvFjbQ/photo.jpg?sz=128", "display_name": "Jackkobec", "link": "https://stackoverflow.com/users/9477038/jackkobec"}, "is_accepted": false, "score": 1, "last_activity_date": 1568246146, "creation_date": 1568246146, "answer_id": 57898091, "question_id": 57897206, "link": "https://stackoverflow.com/questions/57897206/i-have-a-collection-of-items-based-on-the-two-data-points-i-need-to-query-that/57898091#57898091", "title": "I have a collection of items. Based on the two data points, I need to query that items", "body": "<p>The simplest solution is to create mapping of pages and allowed actions for this page.\nExample:</p>\n\n<pre><code>const actions = [{name: 'Detail'}, {name: 'Spec'}];\n\nconst pages = [\n   { \n     name: 'A',\n     allowedActions: [{name: 'Detail'}]\n   },\n   { \n     name: 'B',\n     allowedActions: [{name: 'Spec'}]\n   }\n]\n\nconst getAllowedActions = pageName =&gt; {\n  return pages.find(page =&gt; page.name == pageName).allowedActions;\n}\n\nconsole.log(getAllowedActions('A'));\n</code></pre>\n\n<p>Out:</p>\n\n<blockquote>\n  <p>[ { name: 'Detail' } ]</p>\n</blockquote>\n"}], "owner": {"reputation": 142, "user_id": 8285939, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Q9yhfygm2J4/AAAAAAAAAAI/AAAAAAAAA1Y/lcxShwgti94/photo.jpg?sz=128", "display_name": "Azim Sadikov", "link": "https://stackoverflow.com/users/8285939/azim-sadikov"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1568246146, "creation_date": 1568238386, "question_id": 57897206, "link": "https://stackoverflow.com/questions/57897206/i-have-a-collection-of-items-based-on-the-two-data-points-i-need-to-query-that", "title": "I have a collection of items. Based on the two data points, I need to query that items", "body": "<p>I have a collection of items. Based on the two data points, I need to filter out that items. As an example: I have a collection of action objects [{name: Detail}, {name: Spec}...] and I have two data points like I am category 'G' and in page 'A' would use only Detail action but I am category 'G' but in page 'B' only use Spec action and etc. What is the best OOP approach for this problem to scale to 100 of actions and base that on 10 of category and pages? I have tried to solved with Factory pattern but it did not work out.</p>\n"}, {"tags": ["javascript", "php", "jquery", "mysql", "ajax"], "comments": [{"owner": {"reputation": 347, "user_id": 8193658, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/29278e949100f87cb9080049e7ef1a76?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcF87", "link": "https://stackoverflow.com/users/8193658/paulmcf87"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568276432, "post_id": 57897120, "comment_id": 102225269, "body": "@RyanWilson you will see that my code already did what that question is asking. The select input autopopulates with data from the database.... What I want is for a newly added option from my <code>add company form</code> to populate immediately without a page refresh... essentially refreshing only the select input"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568290639, "post_id": 57897120, "comment_id": 102232988, "body": "Exactly, after you successfully post the item to the database via <code>ajax</code>, add it to the drop down with <code>javascript</code> (append the new option)."}, {"owner": {"reputation": 347, "user_id": 8193658, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/29278e949100f87cb9080049e7ef1a76?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcF87", "link": "https://stackoverflow.com/users/8193658/paulmcf87"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568292452, "post_id": 57897120, "comment_id": 102233997, "body": "@RyanWilson yes, that is what is currently happening... the issue is tha tI need to refresh the full page in order for it to update and become accessible in the drop down... my question is how to make it immediately accessible without the need to refresh the page, there is nothing about that in the &quot;duplicate&quot; question"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568292649, "post_id": 57897120, "comment_id": 102234097, "body": "You don&#39;t need to refresh the page, that&#39;s what I&#39;m trying to tell you, your <code>ajax</code> is sending the form data <code>async</code>, this gets placed into your database, then on the <code>success</code> callback of your <code>ajax</code> post, you append the new option into the drop down, I don&#39;t understand why this is not making sense. <code>success:function(strMessage) {                     $(&quot;#message&quot;).text(strMessage); &#47;&#47;Append the new option into the dropdown here                 }</code> It then becomes available immediately with no page refresh."}, {"owner": {"reputation": 347, "user_id": 8193658, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/29278e949100f87cb9080049e7ef1a76?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcF87", "link": "https://stackoverflow.com/users/8193658/paulmcf87"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568293096, "post_id": 57897120, "comment_id": 102234353, "body": "@RyanWilson It is making sence... But the drop down selects the details and then links them back to that specific entry in the database... so rather than appending the field, I need the dropdown to be refreshed to pull the all the data including the newly entered data to the dropdown... I will also be using the same solution to automatically update a datatable on the website which again pulls the information from the database... without sounding cheeky, if I wanted to know how to append I would have asked that but i know how to do it, it is essentially similar to a <code>&lt;div&gt;</code> refresh i need"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568293207, "post_id": 57897120, "comment_id": 102234422, "body": "Look at this piece of code: <code>while($result = mysqli_fetch_assoc($query)) {                 $company_name = $result[&#39;company&#39;];                 echo &quot;&lt;option value=&#39;$company_name&#39;&gt;$company_name&lt;&#47;option&gt;&quot;;             }</code> You are doing nothing but placing each company_name which is pulled from the database into the select using the company name as the value and text of each option. If you do this with the newly added company which is posted as ajax what&#39;s the difference?"}, {"owner": {"reputation": 347, "user_id": 8193658, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/29278e949100f87cb9080049e7ef1a76?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcF87", "link": "https://stackoverflow.com/users/8193658/paulmcf87"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568293419, "post_id": 57897120, "comment_id": 102234537, "body": "@RyanWilson The difference is that at the moment my code is basic but going forward I will be improving on it to offer more functionality... Im not here to argue.. I have asked a question looking for a specific answer. I am assuming that based on your replies you are not sure how to do what I am after. and thats fine. but if i use the append optin now, in the not to distant future I will be back asking the same question"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568293500, "post_id": 57897120, "comment_id": 102234595, "body": "This is your exact post text: &quot;What I want is: If someone adds a a new company via the add company form... for the new company to be automatically added to the select drop down without having to refresh the page.&quot; If this is not what you want, then update your post."}, {"owner": {"reputation": 347, "user_id": 8193658, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/29278e949100f87cb9080049e7ef1a76?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcF87", "link": "https://stackoverflow.com/users/8193658/paulmcf87"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568293809, "post_id": 57897120, "comment_id": 102234787, "body": "@RyanWilson I am sorry for any confusion caused. I have updated my question slightly. I am hoping that makes it slightly clearer. I struggle sometimes with wording questions, quite new to the who coding scene"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568293863, "post_id": 57897120, "comment_id": 102234821, "body": "I think what you are looking for is a way to refresh the table element with your database data which was loaded on the page load, is that correct? If so, perhaps this will help you (<a href=\"https://stackoverflow.com/questions/39764230/reloading-a-datatable-without-refreshing-with-ajax\" title=\"reloading a datatable without refreshing with ajax\">stackoverflow.com/questions/39764230/&hellip;</a>). You can rebuild your HTML table via ajax as well and pull down everything from the DB."}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568294225, "post_id": 57897120, "comment_id": 102235037, "body": "You would just make this ajax call inside of your <code>success</code> callback of your form post."}, {"owner": {"reputation": 347, "user_id": 8193658, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/29278e949100f87cb9080049e7ef1a76?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcF87", "link": "https://stackoverflow.com/users/8193658/paulmcf87"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568294241, "post_id": 57897120, "comment_id": 102235048, "body": "@RyanWilson Sorry if IVe seemed like a tough customer. not intended. So the answer given in that would then mean that in my form,  I would need to run 2 ajax functions one after the other"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568294323, "post_id": 57897120, "comment_id": 102235094, "body": "Correct. On <code>success</code> of your form post ajax, call another <code>ajax</code> to repull your database data for populating the datatable tab. This would then prevent any page refresh and get your desired result, at least I think. :) There are also things called <code>promises</code> which can be used to chain <code>async</code> calls together (<a href=\"https://stackoverflow.com/questions/16026942/how-do-i-chain-three-asynchronous-calls-using-jquery-promises\" title=\"how do i chain three asynchronous calls using jquery promises\">stackoverflow.com/questions/16026942/&hellip;</a>)"}, {"owner": {"reputation": 347, "user_id": 8193658, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/29278e949100f87cb9080049e7ef1a76?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcF87", "link": "https://stackoverflow.com/users/8193658/paulmcf87"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568295308, "post_id": 57897120, "comment_id": 102235691, "body": "@RyanWilson one last question... can this be repeated a number of times in one function to update multiple tables? ie. <code>ajax{....success{ajax{.... success{ajax{...}}}}}</code>"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568295406, "post_id": 57897120, "comment_id": 102235745, "body": "Yes. You can chain as many together as you like. I gave you a link to <code>promises</code> which are something you might want to learn about, its a nice way of chaining asynchronous calls together."}, {"owner": {"reputation": 347, "user_id": 8193658, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/29278e949100f87cb9080049e7ef1a76?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcF87", "link": "https://stackoverflow.com/users/8193658/paulmcf87"}, "reply_to_user": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568295455, "post_id": 57897120, "comment_id": 102235784, "body": "@RyanWilson thank you for your help, and sorry again for the rocky start lol"}, {"owner": {"reputation": 7330, "user_id": 4830196, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/xcatD.jpg?s=128&g=1", "display_name": "Ryan Wilson", "link": "https://stackoverflow.com/users/4830196/ryan-wilson"}, "edited": false, "score": 0, "creation_date": 1568295534, "post_id": 57897120, "comment_id": 102235837, "body": "No worries. I misunderstood what your post was about initially. Hope that I was able to help. I can&#39;t remove my vote to close this post myself, so I&#39;ll see if I can get a moderator to remove it."}], "owner": {"reputation": 347, "user_id": 8193658, "user_type": "registered", "accept_rate": 44, "profile_image": "https://www.gravatar.com/avatar/29278e949100f87cb9080049e7ef1a76?s=128&d=identicon&r=PG&f=1", "display_name": "PaulMcF87", "link": "https://stackoverflow.com/users/8193658/paulmcf87"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 208, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568293745, "creation_date": 1568237842, "last_edit_date": 1568293745, "question_id": 57897120, "link": "https://stackoverflow.com/questions/57897120/refreshing-datatable-tab-without-refresh-on-submit", "title": "refreshing datatable tab without refresh on submit", "body": "<p>I have a tabbed menu on my page, the first tab is a data input form and the rest are datatables which colate the information.</p>\n\n<pre><code>&lt;div class=\"tile\" id=\"tile-1\"&gt;\n    &lt;!-- Nav tabs --&gt;\n    &lt;ul class=\"nav nav-tabs nav-justified\" role=\"tablist\"&gt;\n        &lt;div class=\"slider\"&gt;&lt;/div&gt;\n        &lt;li class=\"nav-item adddetails-button\"&gt;\n            &lt;a class=\"nav-link active\" id=\"home-tab\" data-toggle=\"tab\" href=\"#home\" role=\"tab\" aria-controls=\"home\" aria-selected=\"true\"&gt;&lt;i class=\"fas fa-plus-square\"&gt;&lt;/i&gt; Add details&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li class=\"nav-item Datatablea-button\"&gt;\n            &lt;a class=\"nav-link\" id=\"profile-tab\" data-toggle=\"tab\" href=\"#profile\" role=\"tab\" aria-controls=\"profile\" aria-selected=\"false\"&gt;&lt;i class=\"fas fa-folder\"&gt;&lt;/i&gt; Datatable A&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li class=\"nav-item Datatableb-button\"&gt;\n            &lt;a class=\"nav-link\" id=\"contact-tab\" data-toggle=\"tab\" href=\"#contact\" role=\"tab\" aria-controls=\"contact\" aria-selected=\"false\"&gt;&lt;i class=\"fas fa-truck-moving\"&gt;&lt;/i&gt; Datatable B&lt;/a&gt;\n        &lt;/li&gt;\n        &lt;li class=\"nav-item Datatablec-button\"&gt;\n            &lt;a class=\"nav-link\" id=\"setting-tab\" data-toggle=\"tab\" href=\"#setting\" role=\"tab\" aria-controls=\"setting\" aria-selected=\"false\"&gt;&lt;i class=\"fas fa-address-card\"&gt;&lt;/i&gt; Datatable C&lt;/a&gt;\n        &lt;/li&gt;\n    &lt;/ul&gt;\n    &lt;!-- Tab panes --&gt;\n    &lt;div class=\"tab-content\"&gt;\n        &lt;div class=\"adddetails tab-pane show active\" id=\"home\" role=\"tabpanel\" aria-labelledby=\"home-tab\"&gt;\n            &lt;h2&gt;Add Job&lt;/h2&gt;\n            &lt;form id=\"dataForm\" name=\"dataform\" method=\"POST\" action=\"/\"&gt;\n                /**form details**/\n            &lt;/form&gt;\n        &lt;/div&gt;\n        &lt;div class=\"Datatablea tab-pane\" id=\"profile\" role=\"tabpanel\" aria-labelledby=\"profile-tab\"&gt;\n            &lt;table&gt;\n                /**Datatable A**/\n            &lt;/table&gt;\n        &lt;/div&gt;\n        &lt;div class=\"Datatableb tab-pane\" id=\"profile\" role=\"tabpanel\" aria-labelledby=\"profile-tab\"&gt;\n            &lt;table&gt;\n                /**Datatable B**/\n            &lt;/table&gt;\n        &lt;/div&gt;\n        &lt;div class=\"Datatablec tab-pane\" id=\"profile\" role=\"tabpanel\" aria-labelledby=\"profile-tab\"&gt;\n            &lt;table&gt;\n                /**Datatable C**/\n            &lt;/table&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>I have a dropdown menu in my <code>add details</code> input form which allows me to select a company from the companies table (to prevent duplicate entries)</p>\n\n<pre><code>&lt;select id='clients' name='clients' class='limitedNumbChosen add-company' multiple='false'&gt;\n    &lt;?php\n        $sql = \"SELECT * FROM `datatbasea`\";\n        $query = mysqli_query($conn, $sql);\n        if (mysqli_num_rows($query) &gt; 0) {\n            // output data of each row\n            while($result = mysqli_fetch_assoc($query)) {\n                $company_name = $result['company'];\n                echo \"&lt;option value='$company_name'&gt;$company_name&lt;/option&gt;\";\n            }\n        } else { \n            echo \"0 results\";\n        }\n        mysqli_close($conn);\n    ?&gt;\n&lt;/select&gt;\n&lt;div id=\"add-company\" class=\"fas fa-plus\"&gt; Add Company &lt;/div&gt;\n</code></pre>\n\n<p>Also, at the bottom there is an option to add company.</p>\n\n<p>What I want is:</p>\n\n<p>If someone adds a a new company to the databse via the add company form... for the new company to then be pulled from the database table and automatically added to the <code>select drop down</code> without having to refresh the page.</p>\n\n<p>I will be looking to use a similar solution to the one given to also update datatables on the page without refresh</p>\n\n<p>The add company code is:</p>\n\n<p>JS</p>\n\n<pre><code>    jQuery(document).ready(function () {\n    $(\"#sbmt\").click(function(e) {\n        e.preventDefault();\n        e.stopPropagation();\n\n        var company_name = document.getElementById(\"addcompany_name\").value;\n        var contact_one = document.getElementById(\"addcontact_one\").value;\n        var contact_two = document.getElementById(\"addcontact_two\").value;\n        var company_phone = document.getElementById(\"addcompany_phone\").value;\n        var company_email = document.getElementById(\"addcompany_email\").value;\n        var company_street = document.getElementById(\"companystreet\").value;\n        var company_town = document.getElementById(\"companytown\").value;\n        var company_postcode = document.getElementById(\"companypostcode\").value;\n\n        // Returns successful data submission message when the entered information is stored in database.\n        var DataForm = 'company_name1=' + company_name + '&amp;contact_one1=' + contact_one + '&amp;contact_two1=' + contact_two + '&amp;company_phone1=' + company_phone + '&amp;company_email1=' + company_email + '&amp;company_street1=' + company_street + '&amp;company_town1=' + company_town + '&amp;company_postcode1=' + company_postcode;\n        if (company_name == '' || contact_one == '' || company_phone == '' || company_email == '' || company_street == '' || company_town == '' || company_postcode == '') {\n        alert(\"Please Fill All Fields\");\n        } \n        else {\n        // AJAX code to submit form.\n            jQuery.ajax({\n                type: \"POST\",\n                url: 'wp-content/themes/EazyFreight/databasecompany.php',\n                data: DataForm,\n                dataType:\"json\", \n                success:function(strMessage) {\n                    $(\"#message\").text(strMessage);\n                }\n            });\n            return false;  \n        }\n    });\n});\n</code></pre>\n\n<p>Then the PHP to add to the mysql database which the select menu pulls the information from:</p>\n\n<pre><code>&lt;?php\n\n    //Register variables\n    $company_name = $_POST['company_name1'];\n    $contact_one = $_POST['contact_one1'];\n    $contact_two = $_POST['contact_two1'];\n    $company_phone = $_POST['company_phone1'];\n    $company_email = $_POST['company_email1'];\n    $company_street = $_POST['company_street1'];\n    $company_town = $_POST['company_town1'];\n    $company_postcode = $_POST['company_postcode1'];\n\n    $sql = \"INSERT INTO `Company`(`id`, `company`, `contact1`, `contact2`, `phone`, `billingemail`, `street`, `town`, `postcode`)\n    VALUES (NULL, '$company_name', '$contact_one', '$contact_two', '$company_phone', '$company_email', '$company_street', '$company_town', '$company_postcode')\";\n\n    if (mysqli_query($conn, $sql)) {\n        echo \"New record created successfully\";\n    } \n    else {\n        echo \"Error: \" . $sql . \"&lt;br&gt;\" . mysqli_error($conn);\n    }\n    mysqli_close($conn);\n    die();\n</code></pre>\n\n<p>essentially, I think I need the <code>select dropdown</code> to be refreshed when the form is submitted without refreshing the full page</p>\n"}, {"tags": ["javascript", "ruby-on-rails", "stripe-checkout"], "answers": [{"tags": [], "owner": {"reputation": 394, "user_id": 11408460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcfb19f2cc40b062d21f893ded77cefc?s=128&d=identicon&r=PG&f=1", "display_name": "projectmind", "link": "https://stackoverflow.com/users/11408460/projectmind"}, "is_accepted": false, "score": 0, "last_activity_date": 1568239707, "creation_date": 1568239707, "answer_id": 57897414, "question_id": 57897089, "link": "https://stackoverflow.com/questions/57897089/how-to-call-stripe-checkout-from-a-rails-controller/57897414#57897414", "title": "How to Call Stripe Checkout from a rails controller", "body": "<p>found a fix based on <a href=\"https://signalvnoise.com/posts/3697-server-generated-javascript-responses\" rel=\"nofollow noreferrer\">https://signalvnoise.com/posts/3697-server-generated-javascript-responses</a></p>\n\n<p>The key was having remote: true on the form as well as naming the javascript file the same as the controller action. change the javascript in the file to contain the body of the function. </p>\n\n<p>javascript </p>\n\n<pre><code>var stripe = Stripe(\"&lt;%=ENV[\"STRIPE_PUB_KEY\"]%&gt;\");\n\nstripe.redirectToCheckout({\n  sessionId: \"&lt;%= @stripe_session_id %&gt;\"\n}).then(function (result) {\n  console.log(\"hitting the then with result of \", result);\n});\n</code></pre>\n\n<p>rails controller</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code>@stripe_session_id = create_stripe_session(@cart)\nrespond_to do |format|\n  format.html\n  format.js\nend\n</code></pre>\n"}], "owner": {"reputation": 394, "user_id": 11408460, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/dcfb19f2cc40b062d21f893ded77cefc?s=128&d=identicon&r=PG&f=1", "display_name": "projectmind", "link": "https://stackoverflow.com/users/11408460/projectmind"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 403, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1568239707, "creation_date": 1568237649, "question_id": 57897089, "link": "https://stackoverflow.com/questions/57897089/how-to-call-stripe-checkout-from-a-rails-controller", "title": "How to Call Stripe Checkout from a rails controller", "body": "<p>I'm using the stripe checkout api with a rails app. I want to redirect to the checkout page when a user submits a form. The issue I'm running into is that Stripe checkout requires a button to be clicked which will trigger a javascript function, that takes the session id and redirects to the checkout page. </p>\n\n<p>My problem is that when the user submits the form I want to use their submitted email to create the checkout session and link their stripe customer account to their checkout. So on the form submit I am able to create the session fine, I'm just not able to also trigger the frontend javascript function once the session has been created. </p>\n\n<p>I've tried to call a javascript function directly from the rails controller and pass it the session id, I was not able to get this working but feel it's likely close to the solution. How specifically can I trigger the javascript function once the controller has created the session</p>\n\n<p>This is the Javascript function I want to call in my controller </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>function go_to_stripe(sessionId) {\n  var stripe = Stripe(\"&lt;%=ENV[\"STRIPE_PUB_KEY\"]%&gt;\");\n\n  stripe.redirectToCheckout({\n    sessionId: sessionId\n  }).then(function (result) {\n    console.log(\"hitting the then with result of \", result);\n  });\n}\n</code></pre>\n\n<p>I've tried this in the controller (and a few variations of it) but it doesn't call the javascript function.</p>\n\n<pre class=\"lang-rb prettyprint-override\"><code># this returns the session id \n@stripe_session_id = create_stripe_session(@cart)\nrespond_to do |format|\n   format.html \n   format.js { render :js =&gt; \"go_to_stripe(\"+@stripe_session_id+\");\" }\nend\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 2, "creation_date": 1568237891, "post_id": 57897069, "comment_id": 102215247, "body": "You can either have an array of bools in the <code>state</code> of the <code>AllMessages</code> component and change the appropriate element using the <code>i</code> index from the map function, or you create a separate component for a single message box that manages its own open/close state. Regarding your code, why do you have tons of components like that? And why is your code rendering multiple <code>AllMessagesContainer</code> instances? The name sounds like there should only be one."}], "answers": [{"tags": [], "owner": {"reputation": 843, "user_id": 7644199, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-jduliVbLPXM/AAAAAAAAAAI/AAAAAAAAAL8/ppXNXXAGXMg/photo.jpg?sz=128", "display_name": "joseluismurillorios", "link": "https://stackoverflow.com/users/7644199/joseluismurillorios"}, "is_accepted": false, "score": 0, "last_activity_date": 1568245023, "creation_date": 1568245023, "answer_id": 57897995, "question_id": 57897069, "link": "https://stackoverflow.com/questions/57897069/how-to-dynamically-have-buttons-that-render-different-information-depending-on-t/57897995#57897995", "title": "How to dynamically have buttons that render different information depending on the buttons id", "body": "<p>I think you should pass an id prop to the box button, and add it to the clickable component:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;BoxButton\n    id={item.id}\n    onClick={(event) =&gt; { event.target.id === item.id ? this.handleBoxOpen() : ''; }}\n&gt;\n    &lt;i class=\"far fa-plus-square\"&gt;&lt;/i&gt;\n&lt;/BoxButton&gt;\n</code></pre>\n\n<p>But I would prefer to manage your items with a state:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;BoxButton\n    id={item.id}\n    onClick={() =&gt; { this.handleBoxOpen(item.id); }}\n&gt;\n    {\n        this.state[item.id] ? (\n            &lt;i class=\"far fa-plus-square\"&gt;&lt;/i&gt;\n        ) : (\n            &lt;i class=\"far fa-minus-square\"&gt;&lt;/i&gt;\n        )\n    }\n&lt;/BoxButton&gt;\n\nhandleBoxOpen(id) {\n    alert(id);\n    // Do something with the id for example\n    this.setState({ [id]: !this.state[id] });\n    // Or\n    this.setState({ selected: id });\n}\n</code></pre>\n"}], "owner": {"reputation": 9, "user_id": 7835333, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9d27bb5438988aee1e0041c25110966e?s=128&d=identicon&r=PG&f=1", "display_name": "stephp", "link": "https://stackoverflow.com/users/7835333/stephp"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 40, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568245023, "creation_date": 1568237556, "question_id": 57897069, "link": "https://stackoverflow.com/questions/57897069/how-to-dynamically-have-buttons-that-render-different-information-depending-on-t", "title": "How to dynamically have buttons that render different information depending on the buttons id", "body": "<p>I have a list of messages that I display by mapping through them. Each of these messages has its own + box that when pressed I want to show more information about that specific message. I am having issues with being able to target that messages specific box so that each plus box when pressed only show the info related to it. </p>\n\n<p>Ive tried putting an event on the onClick function and if the event.target.id matches the message id, then it runs a function.</p>\n\n<pre><code>class AllMessages extends Component {\n    handleBoxOpen () {\n        alert('hi')\n    }\n\n        Messages = () =&gt; {\n        return messages.map((item, i) =&gt; {\n            return (\n                &lt;AllMessagesContainer&gt;\n                    &lt;MainMessagesContainer&gt;\n                        &lt;BoxButtonContainer key={i} dataId={item.id}&gt;\n                            &lt;BoxButton onClick={(event) =&gt; event.target.id === item.id ? this.handleBoxOpen() : '' }&gt;\n                                &lt;i class=\"far fa-plus-square\"&gt;&lt;/i&gt;\n                            &lt;/BoxButton&gt;\n                        &lt;/BoxButtonContainer&gt;\n                        &lt;SenderContainer&gt;\n                            &lt;Sender&gt;{item.sender}&lt;/Sender&gt;\n                        &lt;/SenderContainer&gt;\n                        &lt;BodyContainer&gt;\n                            &lt;Body&gt;{item.body}&lt;/Body&gt;\n                        &lt;/BodyContainer&gt;\n                        &lt;TypeContainer&gt;\n                            &lt;Type&gt;{item.type}&lt;/Type&gt;\n                        &lt;/TypeContainer&gt;\n                        &lt;DateContainer&gt;\n                            &lt;Date&gt;{item.sentDate}&lt;/Date&gt;\n                        &lt;/DateContainer&gt;\n                    &lt;/MainMessagesContainer&gt;\n                &lt;/AllMessagesContainer&gt;\n            )  \n        })\n   }\n</code></pre>\n\n<p>I expect the alert to be displayed when one of the boxes is clicked but nothing is happening because the conditions are obviously not being met.</p>\n"}, {"tags": ["javascript", "arrays", "reactjs", "foreach", "javascript-objects"], "answers": [{"tags": [], "owner": {"reputation": 451, "user_id": 8683706, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wRKVX.jpg?s=128&g=1", "display_name": "Oleksandr Tyshchenko", "link": "https://stackoverflow.com/users/8683706/oleksandr-tyshchenko"}, "is_accepted": true, "score": 0, "last_activity_date": 1568292542, "creation_date": 1568292542, "answer_id": 57907107, "question_id": 57897029, "link": "https://stackoverflow.com/questions/57897029/creating-an-object-from-api-data-and-adding-it-to-an-array-dynamically/57907107#57907107", "title": "Creating an object from API data and adding it to an array dynamically", "body": "<p>Using associative array (dictionary) to segregate you data itmes by categories will do the job.\nI've drafted some POC code that illustrates the idea. The key element there is <code>buildAssociativeArray</code> function</p>\n\n<pre><code>const raw_data = [\n    {item_name: \"first\", section_name: \"Funds\"}, \n    {item_name: \"second\", section_name: \"Funds\"}, \n    {item_name: \"third\", section_name: \"Funds\"}, \n    {item_name: \"fourth\", section_name: \"Literature\"}, \n    {item_name: \"fifth\", section_name: \"Literature\"}, \n    {item_name: \"sixth\", section_name: \"Literature\"}, \n    {item_name: \"seventh\", section_name: \"Literature\"}, \n    {item_name: \"eighth\", section_name: \"DueDilligence\"}, \n]\n\nfunction buildAssociativeArray(data) {\n    const dictionary = {};\n    for (var i = 0; i &lt; data.length; i++) {\n        const item = data[i];\n        const section = item.section_name;\n        var dictEntry = dictionary[section];\n        if (!dictEntry) {\n            dictEntry = [];\n            dictionary[section] = dictEntry;\n        }\n        dictEntry.push({\n            name: item.item_name,\n            //    other fields like sku: item_sku or url: item_url may follow here\n        });\n    }\n    return dictionary;\n}\n\nconst dictionary = buildAssociativeArray(raw_data);\nconsole.log(dictionary);\n/*\nAt this point\ndictionary == {\n  \"Funds\": [\n    {\n      \"name\": \"first\"\n    },\n    {\n      \"name\": \"second\"\n    },\n    {\n      \"name\": \"third\"\n    }\n  ],\n  \"Literature\": [\n    {\n      \"name\": \"fourth\"\n    },\n    {\n      \"name\": \"fifth\"\n    },\n    {\n      \"name\": \"sixth\"\n    },\n    {\n      \"name\": \"seventh\"\n    }\n  ],\n  \"DueDilligence\": [\n    {\n      \"name\": \"eighth\"\n    }\n  ]\n}\n*/\n\n//    Associcative array dictionary itself allows to further solve you task using for (var key in dictionary) {...} operator\n//    If however you need to obtain the data structure looking exactly like the one in your question you may go further with following function\n\nfunction transformAssociativeArray(dictionary) {\n    const array = [];\n    for (var key in dictionary) {\n        const items = dictionary[key];\n        const newEntry = {\n            section_name: key,\n            items: items,\n        }\n        array.push(newEntry);\n    }\n    return array;\n}\n\nconst array = transformAssociativeArray(dictionary);\nconsole.log(array);\n/*\n\nAt this point\narray == [\n  {\n    \"section_name\": \"Funds\",\n    \"items\": [\n      {\n        \"name\": \"first\"\n      },\n      {\n        \"name\": \"second\"\n      },\n      {\n        \"name\": \"third\"\n      }\n    ]\n  },\n  {\n    \"section_name\": \"Literature\",\n    \"items\": [\n      {\n        \"name\": \"fourth\"\n      },\n      {\n        \"name\": \"fifth\"\n      },\n      {\n        \"name\": \"sixth\"\n      },\n      {\n        \"name\": \"seventh\"\n      }\n    ]\n  },\n  {\n    \"section_name\": \"DueDilligence\",\n    \"items\": [\n      {\n        \"name\": \"eighth\"\n      }\n    ]\n  }\n]\n*/\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 9162552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3098a1a396d4c7a30425a737c48c7f64?s=128&d=identicon&r=PG&f=1", "display_name": "AndyRoush", "link": "https://stackoverflow.com/users/9162552/andyroush"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "accepted_answer_id": 57907107, "answer_count": 1, "score": 0, "last_activity_date": 1568292542, "creation_date": 1568237204, "question_id": 57897029, "link": "https://stackoverflow.com/questions/57897029/creating-an-object-from-api-data-and-adding-it-to-an-array-dynamically", "title": "Creating an object from API data and adding it to an array dynamically", "body": "<p>I have a data set that I'm pulling in from a database. It's one dimensional and I basically need to make it more structured. I refer to it as \"flat\".</p>\n\n<p>I need to display a heading, and items under that heading that are related to the heading.</p>\n\n<p>The data comes in as having and section_name (the heading) and item_name (items) and other data unique to each item like download URLs etc.</p>\n\n<ol>\n<li>item_name(item)_______section_name(header)</li>\n<li>first_________________Funds</li>\n<li>second________________Funds</li>\n<li>third_________________Funds</li>\n<li>fourth________________Literature</li>\n<li>fifth_________________Literature</li>\n<li>sixth_________________Literature</li>\n<li>seventh_______________Literature</li>\n<li>eighth________________DueDilligence</li>\n</ol>\n\n<p>I don't know what any of the names will be for the items or sections, or how many items, sections, or items per section. As I said, it's very flat. This needs to be fully dynamic which is why this is complicating things for me.</p>\n\n<p>Here is what I've done.</p>\n\n<ol>\n<li>API call to retrieve data. Store data in a state as an array (it comes in as an array of objects).</li>\n<li>I create an empty array to store my newly structured data.</li>\n<li>I loop through the data with a foreach.</li>\n<li>I create a new object for my new data to add to the new array so I can loop over it later.</li>\n<li>I first check to make sure the data exists. </li>\n<li>To create the headers I check to see if my new empty array is actually empty OR my section_name is not the same as the last one.(in the original data array I got from the API call)</li>\n<li>I store the section_names as an object in the new array (newArray.push(newObject)</li>\n</ol>\n\n<p>I've gotten this far. Now I need to take the item_names that correlates to the section_names and store them in the object under each header name, or at least in the same index. </p>\n\n<pre><code> _generateInfo() { \n\n        let dataArray = this.state.stepTwoData\n        let newArray =[]\n\n        dataArray.forEach(function(item, index) {\n            let newObject = {}\n            if (index &gt; 0) {\n                if (newArray.length === 0 || item.investor_portal_section_name !== dataArray[index -1].investor_portal_section_name) {\n                    newObject[\"name\"] = item.investor_portal_section_name\n                    newObject[\"items\"] = []\n                    newArray.push(newObject)\n            } \n\n        })\n        console.log(newArray)\n    }\n</code></pre>\n\n<p>I tried pushing the items to the \"number\" array on my new object and that doesn't seem to work properly. Sometimes it will duplicate my newObject.name</p>\n\n<p>Checking if the newObject.name === the section_names in the array and push it to the \"number\" array in my new object just creates new key-value pairs so it's still not correlating. </p>\n\n<p>I tried looping through again in the if statement and if section_name === newObject.name then create a newObject and push it, but it would only push one of the items repeatedly instead of going through all of them. </p>\n\n<p>I need to loop through and create a header (one header per different section_name). Then add each item that corresponds to the section_name to it. like this</p>\n\n<pre><code>[\n{section_name(header): \"Funds\",\nitems: [\n {\n  name: item_name,\n  sku: item_sku,\n  url: item_url\n},\n{\n name: item_name,\n sku: item_sku,\n url: item_url\n}]\n},\n{section_name(header):\"Literature\",\nitems: [\n {name: item_name,\n  sku: item_sku,\n  url: item_url\n},\n{\n name: item_name,\n sku: item_sku,\n url: item_url\n}]}\n]\n</code></pre>\n"}, {"tags": ["javascript", "jquery", "fullcalendar", "fullcalendar-4"], "comments": [{"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1568278144, "post_id": 57897021, "comment_id": 102226166, "body": "<code>$(&quot;#calendar&quot;).fullCalendar(&quot;refetchEvents&quot;);</code> is the old syntax for fullCalendar version 3 (when it was a jQuery plugin), so you can forget about that"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 1, "creation_date": 1568278230, "post_id": 57897021, "comment_id": 102226202, "body": "As per the <a href=\"https://fullcalendar.io/docs/Calendar-refetchEvents\" rel=\"nofollow noreferrer\">documentation</a> the correct syntax is <code>calendar.refetchEvents()</code>. So neither of the things you&#39;ve tried are correct."}, {"owner": {"reputation": 1935, "user_id": 2034048, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/aDv88.jpg?s=128&g=1", "display_name": "7 Reeds", "link": "https://stackoverflow.com/users/2034048/7-reeds"}, "reply_to_user": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "edited": false, "score": 0, "creation_date": 1568296835, "post_id": 57897021, "comment_id": 102236668, "body": "Thanks, I kept only seeing the old docs.  Cheers"}], "answers": [{"tags": [], "owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "is_accepted": true, "score": 1, "last_activity_date": 1568301423, "creation_date": 1568301423, "answer_id": 57909830, "question_id": 57897021, "link": "https://stackoverflow.com/questions/57897021/fullcalendar-4-1-and-calling-refreshevents/57909830#57909830", "title": "FullCalendar 4.1 and calling refreshevents", "body": "<p>As per the <a href=\"https://fullcalendar.io/docs/Calendar-refetchEvents\" rel=\"nofollow noreferrer\">documentation</a> the correct syntax to call the method is </p>\n\n<pre><code>calendar.refetchEvents()\n</code></pre>\n"}], "owner": {"reputation": 1935, "user_id": 2034048, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/aDv88.jpg?s=128&g=1", "display_name": "7 Reeds", "link": "https://stackoverflow.com/users/2034048/7-reeds"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 109, "favorite_count": 0, "accepted_answer_id": 57909830, "answer_count": 1, "score": 0, "last_activity_date": 1568301443, "creation_date": 1568237178, "last_edit_date": 1568301443, "question_id": 57897021, "link": "https://stackoverflow.com/questions/57897021/fullcalendar-4-1-and-calling-refreshevents", "title": "FullCalendar 4.1 and calling refreshevents", "body": "<p>FullCalendar 4.1.0, Windows 10, VisualStudio 2019</p>\n\n<p>I have the following, lightly edited, code that works:</p>\n\n<pre><code>var calendar = undefined;\n\n$(function() {\n    calendarInit();\n});\n\nfunction calendarInit() {\n    try {\n        calendar = new FullCalendar.Calendar(\n            document.getElementById(\"calendar\"), {\n                'plugins': [\n                    \"interaction\",\n                    \"dayGrid\",\n                    \"timeGrid\",\n                    \"bootstrap\",\n                    \"list\",\n                    \"moment\",\n                    \"momentTimezone\"\n                ],\n                'themeSystem': \"bootstrap4\",\n                'titleFormat': \"MMM D, YYYY\",\n                ...\n                'events': function(info, successCallback, failureCallback) {\n                    $.get({\n                        'url': `/Thing/GetEvents`,\n                        'data': {\n                            'device': machine,\n                            'start': myStart,\n                            'end': myEnd\n                        },\n                        'dataType': \"json\",\n                        'traditional': true\n                    }).done(function(ajaxData, textStatus, jqXhr) {\n                        successCallback(ajaxData.events);\n                    }).fail(function(jqXHR, textStatus, errorThrown) {\n                        ...\n                    });\n                }\n            });\n\n        calendar.render();\n\n        $(\"body\").on(\"fullCalendar.refetchEvents\", function(e) {\n            calendar.fullCalendar(\"refetchEvents\");\n        });\n\n    } catch (e) {\n        throw `calendarInit: ${e.message}`;\n    }\n}\n</code></pre>\n\n<p>The calendar appears, events are shown.  I have a homegrown module that handles a popup form for entering new event data when a range is selected in a <code>dayView</code>.  If the module succeeds then it \"triggers\" a custom <code>jquery</code> event <code>fullCalendar.refetchEvents</code>.  </p>\n\n<p>The last little bit in the <code>try</code> block catches the custom event but barfs on the <code>calendar.fullCalendar(\"refetchEvents\");</code> line.  I am told that <code>calendar</code> is not a function.</p>\n\n<p>I have tried what is above as well as:</p>\n\n<pre><code>$(\"#calendar\").fullCalendar(\"refetchEvents\");\n</code></pre>\n\n<p>with the same results.  The <code>calendar.render();</code> works just above it and <code>calendar</code> should be global.</p>\n\n<p>What am I missing?</p>\n"}, {"tags": ["javascript", "html", "menu", "include"], "comments": [{"owner": {"reputation": 161, "user_id": 2853466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25b570d7f27fa1865dcc86d44f0abbef?s=128&d=identicon&r=PG", "display_name": "Leo Gasparrini", "link": "https://stackoverflow.com/users/2853466/leo-gasparrini"}, "edited": false, "score": 0, "creation_date": 1568559769, "post_id": 57896907, "comment_id": 102304264, "body": "I&#39;d the same problem, I refactor my code to get it working. I didn&#39;t find another way to solve this."}, {"owner": {"reputation": 53, "user_id": 7239061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zPA4x.jpg?s=128&g=1", "display_name": "Ramon D Marin", "link": "https://stackoverflow.com/users/7239061/ramon-d-marin"}, "reply_to_user": {"reputation": 161, "user_id": 2853466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25b570d7f27fa1865dcc86d44f0abbef?s=128&d=identicon&r=PG", "display_name": "Leo Gasparrini", "link": "https://stackoverflow.com/users/2853466/leo-gasparrini"}, "edited": false, "score": 0, "creation_date": 1568687753, "post_id": 57896907, "comment_id": 102343930, "body": "Somebody gave me this solution (<a href=\"https://webdesign.tutsplus.com/tutorials/how-to-hide-reveal-a-sticky-header-on-scroll-with-javascript--cms-33756\" rel=\"nofollow noreferrer\">webdesign.tutsplus.com/tutorials/&hellip;</a>), which I&#39;m trying to implement"}, {"owner": {"reputation": 53, "user_id": 7239061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zPA4x.jpg?s=128&g=1", "display_name": "Ramon D Marin", "link": "https://stackoverflow.com/users/7239061/ramon-d-marin"}, "reply_to_user": {"reputation": 161, "user_id": 2853466, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/25b570d7f27fa1865dcc86d44f0abbef?s=128&d=identicon&r=PG", "display_name": "Leo Gasparrini", "link": "https://stackoverflow.com/users/2853466/leo-gasparrini"}, "edited": false, "score": 0, "creation_date": 1569098215, "post_id": 57896907, "comment_id": 102488072, "body": "@LeoGasparrini, your solution might seem to be the only one I have as of now, but I&#39;d really wouln&#39;t know how to do that. Any suggestions, please?"}], "owner": {"reputation": 53, "user_id": 7239061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zPA4x.jpg?s=128&g=1", "display_name": "Ramon D Marin", "link": "https://stackoverflow.com/users/7239061/ramon-d-marin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 73, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568246803, "creation_date": 1568236578, "last_edit_date": 1568246803, "question_id": 57896907, "link": "https://stackoverflow.com/questions/57896907/rule-transform-translatey-in-menu-doesn-t-work-properly-when-menu-is-loaded-i", "title": "Rule `transform: translateY` in menu doesn\u2019t work properly when menu is loaded in multiple pages through JS", "body": "<p>A menu included in multiple pages with a small JS (following advice from this Stackoverflow post: <a href=\"https://stackoverflow.com/questions/8988855/include-another-html-file-in-a-html-file\">Include another HTML file in a HTML file</a>) has the following rule: <code>.header_area.navbar_fixed .main_menu {transform: translateY(70px);}</code>. It works perfectly when the menu is put direcly on the page (not through JS). But when loaded through JS, the <code>transform: translate</code> rule of the menu doesn\u2019t work. Here is the demo: <a href=\"https://guardian-angels.glitch.me/\" rel=\"nofollow noreferrer\">https://guardian-angels.glitch.me/</a>. And this is how the menu behaves when menu is directly on the page (not through JS): <a href=\"https://guardian-angels.glitch.me/en/projects-for-future-humanity.html\" rel=\"nofollow noreferrer\">https://guardian-angels.glitch.me/en/projects-for-future-humanity.html</a>. Can anybody help me please?</p>\n\n<p>I have tried changing the following rule: <code>.header_area {position:absolute;}</code> to <code>position: fixed</code>; but it didn\u2019t do the trick. I have searched in Google but haven\u2019t found anything that can help me. I also tried changing <code>.header_area.navbar_fixed .main_menu {position: fixed;}</code> to <code>position: absolute</code> (following some advice I found in Google) and it didn't do the trick either.</p>\n\n<p>This is the html for the menu:</p>\n\n<pre><code>    &lt;header class=\"header_area\"&gt;\n        &lt;div class=\"main_menu\"&gt;\n            &lt;div class=\"container\"&gt;\n                &lt;nav class=\"navbar navbar-expand-lg navbar-light\"&gt;\n                    &lt;div class=\"container\"&gt;\n\n\n                    &lt;!-- Collect the nav links, forms, and other content for toggling --&gt;\n                        &lt;div class=\"collapse navbar-collapse offset\" id=\"navbarSupportedContent\"&gt;\n                            &lt;ul class=\"nav navbar-nav menu_nav ml-auto\"&gt;\n                                &lt;li class=\"nav-item\"&gt;&lt;a class=\"nav-link mn_home\" href=\"\"&gt;Home&lt;/a&gt;&lt;/li&gt;\n                                &lt;li class=\"nav-item\"&gt;&lt;a class=\"nav-link mn_projects\" href=\"\"&gt;Projects&lt;/a&gt;&lt;/li&gt;\n                                &lt;li class=\"nav-item\"&gt;&lt;a class=\"nav-link mn_about\" href=\"\"&gt;About&lt;/a&gt;&lt;/li&gt;\n                                &lt;li class=\"nav-item\"&gt;&lt;a class=\"nav-link mn_communiques\" href=\"\"&gt;Communiqu&amp;eacute;s&lt;/a&gt;&lt;/li&gt;\n                                &lt;li class=\"nav-item\"&gt;&lt;a class=\"nav-link mn_donate\" href=\"\"&gt;Donate&lt;/a&gt;&lt;/li&gt;\n                                &lt;li class=\"nav-item submenu dropdown\"&gt;\n                                    &lt;a href=\"\" class=\"nav-link dropdown-toggle\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\"&gt;Languages&lt;/a&gt;\n                                    &lt;ul class=\"dropdown-menu\"&gt;\n                                        &lt;li class=\"nav-item  mn_english\"&gt;&lt;a class=\"nav-link\" href=\"\"&gt;English&lt;/a&gt;&lt;/li&gt;\n                                        &lt;li class=\"nav-item\"&gt;&lt;a class=\"nav-link\" href=\"\"&gt;Spanish&lt;/a&gt;&lt;/li&gt;\n                                    &lt;/ul&gt;\n                                &lt;/li&gt;\n                                &lt;li class=\"nav-item\"&gt;&lt;a class=\"nav-link mn_contact\" href=\"\"&gt;Contact&lt;/a&gt;&lt;/li&gt;\n                            &lt;/ul&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/nav&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/header&gt;\n</code></pre>\n\n<p>Menu is loaded through an include with small JS:</p>\n\n<pre><code>&lt;!doctype html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n        &lt;meta charset=\"utf-8\"&gt;\n        &lt;title&gt;Some Title Here&lt;/title&gt;\n        &lt;script src=\"js/jquery-3.2.1.min.js\"&gt;&lt;/script&gt;\n        &lt;script&gt;\n  $(function(){\n    var includes = $('[data-include]');\n    jQuery.each(includes, function(){\n      var file = '/en/inc/' + $(this).data('include') + '.html';\n      $(this).load(file);\n    });\n  });\n        &lt;/script&gt;\n  &lt;/head&gt;\n\n  &lt;body&gt;\n    &lt;div data-include=\"menu\"&gt;&lt;/div&gt;&lt;!-- Include code to load navigation menu - - - - - - - - - - - - - - - - - - - - - - - --&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>And this is the css that doesn't work when menu is loaded through small JS (the <code>transform: translate</code> rule:</p>\n\n<pre><code>.header_area.navbar_fixed .main_menu {\n    position: fixed;\n    width: 100%;\n    top: -70px;\n    left: 0;\n    right: 0;\n    background: #222222;\n    transform: translateY(70px);\n    transition: transform 500ms ease, background 500ms ease;\n    -webkit-transition: transform 500ms ease, background 500ms ease;\n    box-shadow: 0px 3px 16px 0px rgba(0, 0, 0, 0.1); \n    }\n</code></pre>\n\n<p>The expected behavior is that the menu should go up with the page (as shown in: <a href=\"https://guardian-angels.glitch.me/en/projects-for-future-humanity.html\" rel=\"nofollow noreferrer\">https://guardian-angels.glitch.me/en/projects-for-future-humanity.html</a>) and then come back as <code>position: fixed</code>; to the top of the page, but it just goes up and doesn't come back.</p>\n"}, {"tags": ["javascript", "html", "d3.js", "svg"], "comments": [{"owner": {"reputation": 10568, "user_id": 2951933, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6HrRg.png?s=128&g=1", "display_name": "Eugen Sunic", "link": "https://stackoverflow.com/users/2951933/eugen-sunic"}, "edited": false, "score": 0, "creation_date": 1568236683, "post_id": 57896897, "comment_id": 102214908, "body": "Can you post an example online?"}, {"owner": {"reputation": 415, "user_id": 2829177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dc192e645f6ed45be09dd5c08eae3c49?s=128&d=identicon&r=PG&f=1", "display_name": "user300", "link": "https://stackoverflow.com/users/2829177/user300"}, "reply_to_user": {"reputation": 10568, "user_id": 2951933, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6HrRg.png?s=128&g=1", "display_name": "Eugen Sunic", "link": "https://stackoverflow.com/users/2951933/eugen-sunic"}, "edited": false, "score": 0, "creation_date": 1568236785, "post_id": 57896897, "comment_id": 102214930, "body": "of how I want it to look like or how it looks like right now?"}, {"owner": {"reputation": 10568, "user_id": 2951933, "user_type": "registered", "accept_rate": 88, "profile_image": "https://i.stack.imgur.com/6HrRg.png?s=128&g=1", "display_name": "Eugen Sunic", "link": "https://stackoverflow.com/users/2951933/eugen-sunic"}, "edited": false, "score": 0, "creation_date": 1568236822, "post_id": 57896897, "comment_id": 102214946, "body": "obviously how it looks now since you aren&#39;t able to get it to flip..."}, {"owner": {"reputation": 30153, "user_id": 7106086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7fFc.png?s=128&g=1", "display_name": "Andrew Reid", "link": "https://stackoverflow.com/users/7106086/andrew-reid"}, "edited": false, "score": 0, "creation_date": 1568238477, "post_id": 57896897, "comment_id": 102215394, "body": "You want the bottom of the bars to be equal to <code>height</code>, right now you are setting the <i>top</i> of the bars to this value: <code>.attr(&#39;y&#39;, height)</code>. Instead subtract the bar&#39;s length from <code>height</code> to get the top value (/the y attribute) of the bar: <code>.attr(&#39;y&#39;, function(d) { return height-yValue(d))</code>."}, {"owner": {"reputation": 415, "user_id": 2829177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dc192e645f6ed45be09dd5c08eae3c49?s=128&d=identicon&r=PG&f=1", "display_name": "user300", "link": "https://stackoverflow.com/users/2829177/user300"}, "reply_to_user": {"reputation": 30153, "user_id": 7106086, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/V7fFc.png?s=128&g=1", "display_name": "Andrew Reid", "link": "https://stackoverflow.com/users/7106086/andrew-reid"}, "edited": false, "score": 0, "creation_date": 1568239725, "post_id": 57896897, "comment_id": 102215663, "body": "@AndrewReid when I do that, it seems like my bars are truncated and  the position of each bar moves according to the value I gave the x coordinate. I&#39;ve updated the post to show how it looks like after the changes."}, {"owner": {"reputation": 415, "user_id": 2829177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dc192e645f6ed45be09dd5c08eae3c49?s=128&d=identicon&r=PG&f=1", "display_name": "user300", "link": "https://stackoverflow.com/users/2829177/user300"}, "edited": false, "score": 0, "creation_date": 1568241484, "post_id": 57896897, "comment_id": 102216094, "body": "Actually...I was able to get it to work! thanks! now I just have to figure out the spacing"}], "owner": {"reputation": 415, "user_id": 2829177, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dc192e645f6ed45be09dd5c08eae3c49?s=128&d=identicon&r=PG&f=1", "display_name": "user300", "link": "https://stackoverflow.com/users/2829177/user300"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 55, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568275684, "creation_date": 1568236545, "last_edit_date": 1568275684, "question_id": 57896897, "link": "https://stackoverflow.com/questions/57896897/how-to-flip-bars-in-d3", "title": "How to flip bars in d3", "body": "<p>I'm having trouble flipping my bars. It seems like they're 'growing\" but under the x axis. I know that in SVG, the (0,0) coordinates are at the top left and I managed to bring them to the bottom of my SVG but how do I change the direction of my bars from under the x-axis to over the axis?</p>\n\n<pre><code>\nvar formatYear = d3.timeFormat(\"%Y\");\n\nvar svg = d3.select(\"svg\"); // calling svg \nconst width = +svg.attr('width'); // width of svg container\nconst height = +svg.attr('height'); // height of svg container\n\nvar padding = 30\n// create d3 data join\n\n// load csv file \nd3.csv(\"q3.csv\").then(data =&gt; {\ndata.forEach(d =&gt; {\n  d.year = d.year; // need to format year\n  d.running_total = +d.running_total // format to number\n});\nrender(data);\n});\n\n\nconst render = data =&gt; {\nconst yValue = d =&gt; d.running_total;\nconst xValue = d =&gt; d.year;\nconst margin = {\n  top: 20,\n  right: 20,\n  bottom: 20,\n  left: 20\n};\n\nconst xScale = d3.scaleBand()\n  .domain([0, data.map(xValue)])\n  .range([0, width])\n// Line 38\nconst yScale = d3.scaleLinear()\n  .domain([0, d3.max(data, yValue)])\n  .range([0, height])\nconsole.log(yScale.domain())\n\n\n//      const g = svg.append('g')\n//          .attr('transform','translate(${margin.left},${margin.top})'\n// );\n\nsvg.selectAll('rect').data(data)\n  .enter().append('rect') // Line 47\n  .attr('x', d =&gt; yValue(d))\n  .attr('y', height) // Line 48\n  .attr('height', d =&gt; yValue(d)) // Line 49\n  .attr('width', 5);\n\n\n};\n\n</code></pre>\n\n<p>How it looks after Andrew's suggestion:\n<a href=\"https://i.stack.imgur.com/F8orR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F8orR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "function", "class", "parameters"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568236787, "post_id": 57896894, "comment_id": 102214932, "body": "If you need to make multiple, put them all in an array."}, {"owner": {"reputation": 217, "user_id": 10679993, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-B3uLzWRv8vE/AAAAAAAAAAI/AAAAAAAAABg/nLRVFo720s4/photo.jpg?sz=128", "display_name": "Malmadork", "link": "https://stackoverflow.com/users/10679993/malmadork"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568237234, "post_id": 57896894, "comment_id": 102215081, "body": "I mean passing them through a for loop in order to create multiple, and for what I am doing an array would not be as efficient."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568237289, "post_id": 57896894, "comment_id": 102215091, "body": "Either an array or an object is the way to hold dynamically created objects."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1568250627, "post_id": 57896894, "comment_id": 102217838, "body": "You really should just <code>return</code> the new cube value, and use  <code>const customName = createCube(cubeGeometry, cubeMaterial, &#47;*position*&#47;, threeScene);</code>. Please show us the loop that you are having trouble with."}], "answers": [{"tags": [], "owner": {"reputation": 6413, "user_id": 5555803, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/4823cf23548ba1e4634ad67e78468e67?s=128&d=identicon&r=PG&f=1", "display_name": "Orkhan Alikhanov", "link": "https://stackoverflow.com/users/5555803/orkhan-alikhanov"}, "is_accepted": false, "score": 0, "last_activity_date": 1568237033, "creation_date": 1568237033, "answer_id": 57896980, "question_id": 57896894, "link": "https://stackoverflow.com/questions/57896894/how-to-pass-a-parameter-to-create-a-variable-in-js/57896980#57896980", "title": "How to pass a parameter to create a variable in js?", "body": "<p>You can't do that, JS does not allow passing references as method arguments.\nWhat you want to eventually achieve is unclear to me, here is my attempt to have custom named cubes on a <code>cubesObject</code>.</p>\n\n<pre><code>const cubesObject = {};\nfor (const name of ['a', 'b', 'c']) {\n  cubesObject[name] = new Cube(geometry, material, /* position */, scene);\n}\nconsole.log(cubesObject.a, cubesObject.b, cubesObject.c)\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 217, "user_id": 10679993, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-B3uLzWRv8vE/AAAAAAAAAAI/AAAAAAAAABg/nLRVFo720s4/photo.jpg?sz=128", "display_name": "Malmadork", "link": "https://stackoverflow.com/users/10679993/malmadork"}, "edited": false, "score": 0, "creation_date": 1568292313, "post_id": 57897483, "comment_id": 102233930, "body": "This is a better way of doing what I need to do as well! Thanks!"}], "tags": [], "owner": {"reputation": 4778, "user_id": 12031739, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mBL53wM9WHYa9QeNIq3MJ4scErCBV3t3egXL6NI5w=k-s128", "display_name": "Soc", "link": "https://stackoverflow.com/users/12031739/soc"}, "is_accepted": false, "score": 1, "last_activity_date": 1568240218, "creation_date": 1568240218, "answer_id": 57897483, "question_id": 57896894, "link": "https://stackoverflow.com/questions/57896894/how-to-pass-a-parameter-to-create-a-variable-in-js/57897483#57897483", "title": "How to pass a parameter to create a variable in js?", "body": "<p>I'm not entirely sure I understand the problem here. I might be missing something.</p>\n\n<p>If a <code>Cube</code> needs to be identified by <code>name</code>, could you add it as a property of the <code>Cube</code>?</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Cube {\n  constructor(name, /* other properties */) {\n    this.name = name;\n    /* other properties */\n  }\n  createMesh() {\n  }\n  addToScene() {\n  }\n}\n\nconst names = ['cube1', 'cube2', 'cube3'];\nconst cubes = names.map(name =&gt; new Cube(name, geometry, material, /*position*/, scene));\n\ncubes.forEach(cube =&gt; {\n  console.log(`cube: ${cube.name}`);\n  cube.createMesh();\n  cube.addToScene();\n});\n\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 217, "user_id": 10679993, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-B3uLzWRv8vE/AAAAAAAAAAI/AAAAAAAAABg/nLRVFo720s4/photo.jpg?sz=128", "display_name": "Malmadork", "link": "https://stackoverflow.com/users/10679993/malmadork"}, "is_accepted": true, "score": 0, "last_activity_date": 1576863848, "creation_date": 1576863848, "answer_id": 59429391, "question_id": 57896894, "link": "https://stackoverflow.com/questions/57896894/how-to-pass-a-parameter-to-create-a-variable-in-js/59429391#59429391", "title": "How to pass a parameter to create a variable in js?", "body": "<p>A better way to do this dynamically is to create an array and push an object to it. I got a similar output when working with node applications. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var cubesArray = []\n\nfunction createCube(name, geometry, material, /*position*/, scene) {\nlet thisCube = new Cube(geometry, material, /*position*/, scene);\ncubesArray[name] = thisCube;\n}\n</code></pre>\n\n<p>Now we can do all the functions and access properties with: cubesArray[<em>name</em>].<em>property</em> or cubesArray[<em>name</em>].<em>function</em>()</p>\n"}], "owner": {"reputation": 217, "user_id": 10679993, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-B3uLzWRv8vE/AAAAAAAAAAI/AAAAAAAAABg/nLRVFo720s4/photo.jpg?sz=128", "display_name": "Malmadork", "link": "https://stackoverflow.com/users/10679993/malmadork"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "accepted_answer_id": 59429391, "answer_count": 3, "score": -1, "last_activity_date": 1576863848, "creation_date": 1568236526, "last_edit_date": 1568250439, "question_id": 57896894, "link": "https://stackoverflow.com/questions/57896894/how-to-pass-a-parameter-to-create-a-variable-in-js", "title": "How to pass a parameter to create a variable in js?", "body": "<p>I am trying to work with javascript, classes, and threejs to make a project. I have an idea to have a singular function create a new threejs object, but not sure how to implement it.</p>\n\n<p>Let me go a bit more in detail. I have a class that creates a cube using threejs: </p>\n\n<pre><code>class Cube {\n  constructor(geometry, material, /*position variables*/, scene) {\n    this.geometry = geometry;\n    this.material = material;\n    /* this.positions */\n  }\n  createMesh() {\n    //creates a mesh for the cube\n    this.mesh = new THREE.Mesh( this.geometry, this.materials );\n  }\n  addToScene() {\n      this.scene.add( this.mesh );\n\n      /* changes position with variables */\n  }\n\n}\n</code></pre>\n\n<p>This class works nicely, but I am wanting to create a new function that makes a unique cube, and with a custom variable. <strong>I want to create something like this:</strong> </p>\n\n<pre><code>var createCube = function ( name, geometry, material, /*position*/, scene) {\n    name = new Cube(geometry, material, /*position*/, scene;\n}\n</code></pre>\n\n<p>Then after I use this function, I can use the name in the parameter as such: </p>\n\n<pre><code>createCube( customName, cubeGeometry, cubeMaterial, /*position*/, threeScene);\ncustomName.createMesh();\ncustomName.addToScene();\n</code></pre>\n\n<p>I realize I can always hard code the name for the cube, however, I will be passing it through loops to create multiple. \nI gave a lot of explanation for a likely simple solution, but I hope this helps give a picture of what I am trying to do. If you need more explanation, I am open to do so. </p>\n"}, {"tags": ["javascript", "graphql"], "comments": [{"owner": {"reputation": 56993, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "edited": false, "score": 0, "creation_date": 1568247060, "post_id": 57896873, "comment_id": 102217210, "body": "That is an issue with the query you&#39;re sending, not with your schema."}, {"owner": {"reputation": 1, "user_id": 12055301, "user_type": "registered", "profile_image": "https://graph.facebook.com/10220393583855911/picture?type=large", "display_name": "Thiago Corr&#234;a Lanza Guimar&#227;es", "link": "https://stackoverflow.com/users/12055301/thiago-corr%c3%aaa-lanza-guimar%c3%a3es"}, "reply_to_user": {"reputation": 56993, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "edited": false, "score": 0, "creation_date": 1568642106, "post_id": 57896873, "comment_id": 102328581, "body": "But what to do to solve it?"}, {"owner": {"reputation": 56993, "user_id": 6024220, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-6s3nUiQ9-fI/AAAAAAAAAAI/AAAAAAAAA0E/3zpg3zXHu4I/photo.jpg?sz=128", "display_name": "Daniel Rearden", "link": "https://stackoverflow.com/users/6024220/daniel-rearden"}, "edited": false, "score": 0, "creation_date": 1568642370, "post_id": 57896873, "comment_id": 102328739, "body": "You can edit your question with the actual query being sent and any relevant client code. Otherwise, there&#39;s no way to tell what the actual issue is."}], "owner": {"reputation": 1, "user_id": 12055301, "user_type": "registered", "profile_image": "https://graph.facebook.com/10220393583855911/picture?type=large", "display_name": "Thiago Corr&#234;a Lanza Guimar&#227;es", "link": "https://stackoverflow.com/users/12055301/thiago-corr%c3%aaa-lanza-guimar%c3%a3es"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 255, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568236570, "creation_date": 1568236411, "last_edit_date": 1568236570, "question_id": 57896873, "link": "https://stackoverflow.com/questions/57896873/problems-with-query-in-graphql-unexpected-eof-error", "title": "Problems with query in Graphql - Unexpected EOF Error", "body": "<p>I've set a Schema to make a GraphQL Query, and now I run the server, go to GraphQL Client, and I get the following error:</p>\n\n<p>\"Syntax Error: Unexpected \"</p>\n\n<p>line: 32.</p>\n\n<p>My code is the following:</p>\n\n<pre><code>const graphql = require('graphql') const _ = require('lodash') const {\n  GraphQLObjectType,\n  GraphQLString,\n  GraphQLInt,\n  GraphQLSchema\n} = graphql;\nconst users = [{\n  id: '23',\n  firstName: 'Thiago',\n  age: 36\n}, {\n  id: '47',\n  firstName: 'Caroline',\n  age: 29\n}];\n\nconst UserType = new GraphQLObjectType({\n  name: 'User',\n  fields: {\n    id: {\n      type: GraphQLString\n    },\n    firstName: {\n      type: GraphQLString\n    },\n    age: {\n      type: GraphQLInt\n    }\n  }\n})\n\nconst RootQuery = new GraphQLObjectType({\n  name: 'RootQueryType',\n  fields: {\n    user: {\n      type: UserType,\n      args: {\n        id: {\n          type: GraphQLString\n        }\n      },\n      resolve(parentValue, args) {\n        return _.find(users, {\n          id: args.id\n        })\n      }\n    }\n  }\n}) module.exports = new GraphQLSchema({\n  query: RootQuery\n})\n</code></pre>\n\n<p>Thanks in advance for your help.</p>\n"}, {"tags": ["javascript", "jquery", "css", "local-storage"], "comments": [{"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 0, "creation_date": 1568237709, "post_id": 57896856, "comment_id": 102215205, "body": "Where are you defining the regular colors? I see night mode being turned off on click of the button but what happens or show until someone clicks the button for the first time."}, {"owner": {"reputation": 11, "user_id": 5179355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b43b78c4226d10eaa57b69ead4bb5d?s=128&d=identicon&r=PG&f=1", "display_name": "Billy86", "link": "https://stackoverflow.com/users/5179355/billy86"}, "reply_to_user": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 0, "creation_date": 1568240924, "post_id": 57896856, "comment_id": 102215951, "body": "This is a worpdress site and i am adding a custom javascript code and css. The regular colors are in the theme&#39;s css file. The first time someone clicks the button, for example the .headerNightmode is added to the &lt;header&gt;, but the class .header which i am targeting is missing. And when i click the button again the .headerNightmode is deleted. After that when i refresh the page all the missing classes that i am targeting appear again on the html."}], "owner": {"reputation": 11, "user_id": 5179355, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/38b43b78c4226d10eaa57b69ead4bb5d?s=128&d=identicon&r=PG&f=1", "display_name": "Billy86", "link": "https://stackoverflow.com/users/5179355/billy86"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568236311, "creation_date": 1568236311, "question_id": 57896856, "link": "https://stackoverflow.com/questions/57896856/toggleclass-localstorage-deletes-all-the-classes-from-certain-elements-when-pa", "title": "toggleClass - localStorage deletes all the classes from certain elements when page is loaded for the first time. How to fix it?", "body": "<p>I have added some jquery code on my website that when a user clicks the \"Dark Mode\" link the elements of the page change colors and are stored on local storage. I found a piece of code here on Stackoverflow <a href=\"https://stackoverflow.com/questions/37421008/html5-local-storage-save-toggleclass\">HTML5 local storage save .toggleClass</a> and it works fine but when a user visits the website for the first time for some reason the elements that i target with my code lose all the original stying. I checked it and all the classes were deleted. When i clicked the \"Dark Mode\" button and refreshed the page all the classes were back and the website worked perfectly. Can anyone tell me how to fix it? I don't know why this is happening.</p>\n\n<p>css</p>\n\n<pre><code>.nightmode {\n    background: black;\n}\n\n.headerNightmode {\n    background: #6456A3;\n}\n\n\n</code></pre>\n\n<p>jquery</p>\n\n<pre><code>\njQuery(document).ready(function($){\n    /* Write your Public custom_public jQuery here! */\n    var button = $('.menu-item-178 a');\n     var container = $('#body.page-template-default').toggleClass(window.localStorage.toggled);\n     var containerProfile = $('#body.page-template.page-template-page-tpl-profile').toggleClass(window.localStorage.toggled);\n     var containerBlog = $('#body.blog').toggleClass(window.localStorage.toggled);\n     var containerHeader = $('.header').toggleClass(window.localStorage.toggledHeader);\n\n    //button click\n  button.click(function() {\n\n\n      if (window.localStorage.toggled != \"nightmode\" &amp;&amp; window.localStorage.toggledHeader != \"headerNightmode\" ) {\n      container.toggleClass(\"nightmode\", true );\n      containerProfile.toggleClass(\"nightmode\", true );\n      containerBlog.toggleClass(\"nightmode\", true );\n          containerHeader.toggleClass(\"headerNightmode\", true );\n        window.localStorage.toggledHeader = \"headerNightmode\";\n      window.localStorage.toggled = \"nightmode\";\n   } else {\n      container.toggleClass(\"nightmode\", false );\n        containerProfile.toggleClass(\"nightmode\", false );\n        containerBlog.toggleClass(\"nightmode\", false );\n       containerHeader.toggleClass(\"headerNightmode\", false );\n        window.localStorage.toggledHeader = \"\";\n      window.localStorage.toggled = \"\";\n   }\n\n\n\n  });\n\n});\n</code></pre>\n"}, {"tags": ["javascript", "html", "ios", "css", "iphone"], "answers": [{"tags": [], "owner": {"reputation": 476, "user_id": 8815924, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WIyUu.jpg?s=128&g=1", "display_name": "Dinty", "link": "https://stackoverflow.com/users/8815924/dinty"}, "is_accepted": false, "score": 0, "last_activity_date": 1568478323, "last_edit_date": 1568478323, "creation_date": 1568238100, "answer_id": 57897161, "question_id": 57896848, "link": "https://stackoverflow.com/questions/57896848/how-to-disable-the-background-attatchment-fixed-when-it-will-cause-an-error/57897161#57897161", "title": "How to disable the &quot;background-attatchment: fixed&quot; when it will cause an error", "body": "<p>As far as I know there isn't a way to detect a glitch like that.</p>\n"}, {"tags": [], "owner": {"reputation": 41, "user_id": 12055224, "user_type": "registered", "profile_image": "https://graph.facebook.com/1159235150936171/picture?type=large", "display_name": "stuhops", "link": "https://stackoverflow.com/users/12055224/stuhops"}, "is_accepted": false, "score": 1, "last_activity_date": 1570208688, "creation_date": 1570208688, "answer_id": 58240562, "question_id": 57896848, "link": "https://stackoverflow.com/questions/57896848/how-to-disable-the-background-attatchment-fixed-when-it-will-cause-an-error/58240562#58240562", "title": "How to disable the &quot;background-attatchment: fixed&quot; when it will cause an error", "body": "<p>I finally found a good answer! The only browsers (that I know of) that do not use this feature are mobile devices. Because of this we can use a media query.</p>\n\n<pre><code>@media (hover: none) {\n    .sectionHeader{\n        background-attachment: scroll;\n    }\n}\n</code></pre>\n\n<p>Using this, we can set the background-attachment property to fixed except when there is no hover enabled on the device. </p>\n"}], "owner": {"reputation": 41, "user_id": 12055224, "user_type": "registered", "profile_image": "https://graph.facebook.com/1159235150936171/picture?type=large", "display_name": "stuhops", "link": "https://stackoverflow.com/users/12055224/stuhops"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "answer_count": 2, "score": 3, "last_activity_date": 1570208688, "creation_date": 1568236269, "question_id": 57896848, "link": "https://stackoverflow.com/questions/57896848/how-to-disable-the-background-attatchment-fixed-when-it-will-cause-an-error", "title": "How to disable the &quot;background-attatchment: fixed&quot; when it will cause an error", "body": "<p>I have looked all over stack overflow about this question and have found various answers, but none of them fit my needs. I have my background-attatchment set as 'fixed' but as most know this bugs out on ios devices. Is there a way that I can just set the property to 'scroll' when it won't work? If the property is set to 'scroll' from the beginning the picture doesn't resize and do funky things. </p>\n\n<p>I have tried various solutions including '@supports', using web-kits, and other stackOverflow suggested solutions... none of them have worked. I would love either a workaround or even just to have the feature work when it can and be disabled when it can't.</p>\n\n<p>Here's my CSS</p>\n\n<pre><code>.sectionHeader{\n    background-size: cover;\n    background-position: center top;\n    background-attachment: fixed;\n    max-width: 100%;\n    height: 100vh;\n    padding: 0px !important;\n    margin: 0px !important;\n}\n</code></pre>\n\n<p>And here is one of the div's that this is being applied to:</p>\n\n<pre><code>    &lt;div id=\"welcome\"&gt;\n        &lt;div id=jumboName class=\"jumbotron jumbotron-fluid sectionHeader d-flex align-items-center\" style=\"background-image: url('data/welcome.JPG');\"&gt;\n            &lt;div class=\"row mx-auto my-auto align-items-center\"&gt;\n                &lt;p class=\"display-3\" style=\"color:WHITESMOKE; text-shadow: 0px 0px 5px black;\"&gt;Name&lt;/p&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n</code></pre>\n\n<p>Again, the goal for this is either to find a work around, or simply to not have the code break on phones while still haveing the effect on computers. This already happens on most web browsers where it defaults the background style to 'scroll' (brave, opera, and a few others) when it cannot handle the property. Just stupid ios devices aren't smart enough to do that.</p>\n"}, {"tags": ["javascript", "typeerror"], "comments": [{"owner": {"reputation": 3341, "user_id": 4668136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SsYJF.png?s=128&g=1", "display_name": "Dimitri L.", "link": "https://stackoverflow.com/users/4668136/dimitri-l"}, "edited": false, "score": 3, "creation_date": 1568236327, "post_id": 57896837, "comment_id": 102214794, "body": "<code>i</code> must be smaller than the array length: <code>for (i = 0; i &lt; arrayObject.length; i++){</code> You are iterating over the size of the array and the last element in your for loop is undefined"}, {"owner": {"reputation": 81, "user_id": 7128481, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211073600014854/picture?type=large", "display_name": "Katie", "link": "https://stackoverflow.com/users/7128481/katie"}, "reply_to_user": {"reputation": 3341, "user_id": 4668136, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SsYJF.png?s=128&g=1", "display_name": "Dimitri L.", "link": "https://stackoverflow.com/users/4668136/dimitri-l"}, "edited": false, "score": 0, "creation_date": 1568236486, "post_id": 57896837, "comment_id": 102214842, "body": "Thank you! This was all it was. Always something simple it seems."}], "owner": {"reputation": 81, "user_id": 7128481, "user_type": "registered", "profile_image": "https://graph.facebook.com/10211073600014854/picture?type=large", "display_name": "Katie", "link": "https://stackoverflow.com/users/7128481/katie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 63, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568236347, "creation_date": 1568236206, "question_id": 57896837, "link": "https://stackoverflow.com/questions/57896837/why-am-i-receiving-a-typeerror-of-cannot-read-property-move-of-undefined-for-a", "title": "Why am I receiving a TypeError of Cannot read property &#39;move&#39; of undefined for an array and object I have defined?", "body": "<p>Receiving TypeError: Cannot read property 'move' of undefined\n    at fitnessTest.</p>\n\n<pre><code>function fitnessTest(arrayObject){\n  let turnsArray = [];\n  for (i = 0; i &lt;= arrayObject.length; i++){\n    let steps = 0;\n    let turns = 0;\n    while (steps &lt;= 20){\n      steps += arrayObject[i].move();\n      turns++;\n    } turnsArray.push(`${arrayObject[i].name} took ${turns} turns to take 20 steps.` );\n  }      return turnsArray;\n}\n</code></pre>\n\n<p>the .move property is defined inside an object as</p>\n\n<pre><code>    move: function(){\n      return Math.round(Math.random()*10);\n</code></pre>\n\n<p>and that object is placed inside of an array passed to the fitnessTest function</p>\n"}, {"tags": ["javascript", "jquery", "html", "event-handling"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568236503, "post_id": 57896821, "comment_id": 102214848, "body": "Do you mean <code>btnId</code> is always <code>0</code>?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568236538, "post_id": 57896821, "comment_id": 102214860, "body": "You should not create custom attributes, use <code>data-btn-box</code> instead of <code>btn-box</code>. But that shouldn&#39;t cause this problem."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1568236606, "post_id": 57896821, "comment_id": 102214884, "body": "You have invalid HTML here: <code>&lt;div class=&quot;scenario-list&quot; id=&quot;scenario-list-0&quot; &lt;div=&quot;&quot; name=&quot;0&quot;&gt;Egypt&lt;&#47;div&gt;</code>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568236711, "post_id": 57896821, "comment_id": 102214913, "body": "Is the related scenario list always the previous DIV? You can use <code>$(this).closest(&quot;.scenario-options-box&quot;).prev().text()</code>."}, {"owner": {"reputation": 195, "user_id": 10289339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5-vzV-0w_ps/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPJV6in3rb7olDbimKlGylsvs16Lw/mo/photo.jpg?sz=128", "display_name": "Ajay Ubhi", "link": "https://stackoverflow.com/users/10289339/ajay-ubhi"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568236842, "post_id": 57896821, "comment_id": 102214952, "body": "Thanks for the invalid HTML flag, just noticed it myself. Yes btnID always returns 0."}, {"owner": {"reputation": 195, "user_id": 10289339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5-vzV-0w_ps/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPJV6in3rb7olDbimKlGylsvs16Lw/mo/photo.jpg?sz=128", "display_name": "Ajay Ubhi", "link": "https://stackoverflow.com/users/10289339/ajay-ubhi"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568236957, "post_id": 57896821, "comment_id": 102214992, "body": "Sorry, not sure I understand your question about the related scenario list. The entire HTML from &#39;.scenario-group&#39; is dynamic. So there is no &#39;.scenario-list&#39; until it is created."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568237201, "post_id": 57896821, "comment_id": 102215070, "body": "But you&#39;re creating both the scenario list and scenario options box dynamically at the same time, aren&#39;t you? Are they always created next to each other, or could the related <code>scenario-list-X</code> be anywhere?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568237238, "post_id": 57896821, "comment_id": 102215083, "body": "Could you please edit the question to fix the typo and HTML?"}, {"owner": {"reputation": 195, "user_id": 10289339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5-vzV-0w_ps/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPJV6in3rb7olDbimKlGylsvs16Lw/mo/photo.jpg?sz=128", "display_name": "Ajay Ubhi", "link": "https://stackoverflow.com/users/10289339/ajay-ubhi"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568237265, "post_id": 57896821, "comment_id": 102215087, "body": "Yes they&#39;re created at the same time and next to each other."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568237330, "post_id": 57896821, "comment_id": 102215096, "body": "Then why wouldn&#39;t my suggestion work, instead of needing to use an attribute?"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568237367, "post_id": 57896821, "comment_id": 102215105, "body": "Can you create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem? It looks like your code should work."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568237533, "post_id": 57896821, "comment_id": 102215155, "body": "Your <code>&lt;div&gt;</code> and <code>&lt;&#47;div&gt;</code> tags don&#39;t balance properly. You&#39;re missing the <code>&lt;&#47;div&gt;</code> for the <code>scenario-group</code> DIVs."}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568237818, "post_id": 57896821, "comment_id": 102215227, "body": "When I fixed the HTML, your code worked for me: <a href=\"https://jsfiddle.net/barmar/ge871ypf/5/\" rel=\"nofollow noreferrer\">jsfiddle.net/barmar/ge871ypf/5</a>"}, {"owner": {"reputation": 195, "user_id": 10289339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5-vzV-0w_ps/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPJV6in3rb7olDbimKlGylsvs16Lw/mo/photo.jpg?sz=128", "display_name": "Ajay Ubhi", "link": "https://stackoverflow.com/users/10289339/ajay-ubhi"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568238460, "post_id": 57896821, "comment_id": 102215391, "body": "Thanks. I fixed the HTML but am still getting the same problem"}, {"owner": {"reputation": 195, "user_id": 10289339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5-vzV-0w_ps/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPJV6in3rb7olDbimKlGylsvs16Lw/mo/photo.jpg?sz=128", "display_name": "Ajay Ubhi", "link": "https://stackoverflow.com/users/10289339/ajay-ubhi"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568238547, "post_id": 57896821, "comment_id": 102215411, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/199337/discussion-between-ajay-ubhi-and-barmar\">continue this discussion in chat</a>."}], "owner": {"reputation": 195, "user_id": 10289339, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-5-vzV-0w_ps/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPJV6in3rb7olDbimKlGylsvs16Lw/mo/photo.jpg?sz=128", "display_name": "Ajay Ubhi", "link": "https://stackoverflow.com/users/10289339/ajay-ubhi"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 45, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568277728, "creation_date": 1568236117, "last_edit_date": 1568277728, "question_id": 57896821, "link": "https://stackoverflow.com/questions/57896821/how-to-use-jquery-on-method-on-multiple-dynamic-elements", "title": "How to use Jquery .on() method on multiple dynamic elements?", "body": "<p>I am trying to attach an .on() click method to elements that I create dynamically. These elements each have a Bootstrap popover in them which acts as a menu with options for each element. The popovers are also created dynamically. </p>\n\n<p>To make the menu work, I assign a unique number to each element and when an option from the menu is clicked, that unique number is extracted as a way to match the menu and it's options to the element. That way when I click the 'delete' option, it knows which element to delete.</p>\n\n<p>However when I create multiple elements and try to extract the unique number, I only get the number of the first element. </p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;div class=\"scenario-group\" id=\"scenario-group-0\"&gt;\n&lt;div class=\"scenario-list\" id=\"scenario-list-0\"&gt;Egypt&lt;/div&gt;\n&lt;div style=\"display:none;\" name=\"0\" id=\"scenario-options-box-0\" class=\"scenario-options-box\" scn-box=\"0\"&gt;\n    &lt;button type=\"button\" id=\"show-btn\" class=\"scenario-option-btn btn-light\" btn-box=\"0\"&gt;Show&lt;/button&gt;\n    &lt;button type=\"button\" id=\"rename-btn\" class=\"scenario-option-btn btn-light\" btn-box=\"0\"&gt;Rename&lt;/button&gt;\n    &lt;button type=\"button\" id=\"delete-btn\" class=\"scenario-option-btn btn-light\" btn-box=\"0\"&gt;Delete&lt;/button&gt;\n&lt;/div&gt;\n&lt;div&gt;\n  &lt;a tabindex=\"0\" role=\"button\" style=\"left:22px; top:2px;\" name=\"0\" class=\"scenario-btn\" id=\"scenario-options-btn-0\" scn-box-btn=\"0\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" data-original-title=\"\" title=\"\"&gt;\n  &lt;i style=\"color:#444444;\" class=\"fas fa-caret-down\" aria-hidden=\"true\"&gt;&lt;/i&gt;\n  &lt;/a&gt;\n&lt;/div&gt;\n\n&lt;div class=\"scenario-group\" id=\"scenario-group-1\"&gt;\n&lt;div class=\"scenario-list\" id=\"scenario-list-1\"&gt;Nigeria&lt;/div&gt;\n&lt;div style=\"display:none;\" name=\"1\" id=\"scenario-options-box-1\" class=\"scenario-options-box\" scn-box=\"1\"&gt;\n    &lt;button type=\"button\" id=\"show-btn\" class=\"scenario-option-btn btn-light\" btn-box=\"1\"&gt;Show&lt;/button&gt;\n    &lt;button type=\"button\" id=\"rename-btn\" class=\"scenario-option-btn btn-light\" btn-box=\"1\"&gt;Rename&lt;/button&gt;\n    &lt;button type=\"button\" id=\"delete-btn\" class=\"scenario-option-btn btn-light\" btn-box=\"1\"&gt;Delete&lt;/button&gt;\n&lt;/div&gt;\n&lt;div&gt;\n  &lt;a tabindex=\"0\" role=\"button\" style=\"left:22px; top:2px;\" name=\"1\" class=\"scenario-btn\" id=\"scenario-options-btn-1\" scn-box-btn=\"1\" data-toggle=\"popover\" data-placement=\"left\" data-trigger=\"focus\" data-original-title=\"\" title=\"\"&gt;\n  &lt;i style=\"color:#444444;\" class=\"fas fa-caret-down\" aria-hidden=\"true\"&gt;&lt;/i&gt;\n  &lt;/a&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>JQuery:</p>\n\n<pre><code>    $(document).on('click',\".scenario-option-btn\", function() {\n\n    var btnVal = $(this).text();\n    var btnID = $(this).attr(\"btn-box\")\n    var scnID = $(\"#scenario-list-\" + btnID + \"\").text();\n    })\n</code></pre>\n\n<p>The return values for btnVal are correct, however the value for btnID will always return 0 and I am struggling to see why. </p>\n\n<p>Is this the correct way to assign event handlers to multiple dynamically created elements?</p>\n\n<p>Any help would be appreciated. Thanks!</p>\n"}, {"tags": ["javascript", "flowtype"], "answers": [{"tags": [], "owner": {"reputation": 738, "user_id": 11308639, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f7eec43804701c198e03d8b4cfc790d?s=128&d=identicon&r=PG&f=1", "display_name": "user11307804", "link": "https://stackoverflow.com/users/11308639/user11307804"}, "is_accepted": true, "score": 1, "last_activity_date": 1568238539, "creation_date": 1568238539, "answer_id": 57897228, "question_id": 57896797, "link": "https://stackoverflow.com/questions/57896797/how-can-i-have-flowconfig-read-types-from-a-folder/57897228#57897228", "title": "How can I have .flowconfig read types from a folder?", "body": "<blockquote>\n  <p>Each line in the <code>[libs]</code> section is a path to the library file or directory which you would like to include. These paths can be relative to the project root directory or absolute. Including a directory recursively includes all the files under that directory as library files.</p>\n</blockquote>\n\n<p><a href=\"https://flow.org/en/docs/config/libs/\" rel=\"nofollow noreferrer\">https://flow.org/en/docs/config/libs/</a></p>\n\n<p>So, I think you can just write</p>\n\n<pre><code>[libs]\ninterfaces\n</code></pre>\n"}], "owner": {"reputation": 33403, "user_id": 239879, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b9e2d7ef70e61ce1c509e556c453626d?s=128&d=identicon&r=PG", "display_name": "Shamoon", "link": "https://stackoverflow.com/users/239879/shamoon"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 55, "favorite_count": 0, "accepted_answer_id": 57897228, "answer_count": 1, "score": 0, "last_activity_date": 1568238539, "creation_date": 1568235950, "question_id": 57896797, "link": "https://stackoverflow.com/questions/57896797/how-can-i-have-flowconfig-read-types-from-a-folder", "title": "How can I have .flowconfig read types from a folder?", "body": "<p>I have a folder called <code>interfaces</code>:</p>\n\n<p><a href=\"https://i.stack.imgur.com/8Yxlo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8Yxlo.png\" alt=\"enter image description here\"></a></p>\n\n<p>In <code>finale.js</code>, I have:</p>\n\n<pre><code>// @flow \ntype finaleContext = {\n    instance: string\n}\n\nexport type { finaleContext }\n</code></pre>\n\n<p>I want this to be picked up by flow. In <code>.flowconfig</code>, I tried:</p>\n\n<pre><code>[libs]\n./interfaces/*.js\n</code></pre>\n\n<p>And it still complains: <code>Cannot resolve name finaleContext.</code></p>\n\n<p>So how can I include all of these interfaces as definitions?</p>\n"}, {"tags": ["javascript", "html", "css", "performance", "animation"], "owner": {"reputation": 101, "user_id": 10722187, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/931ef7ce2010335ce363bc01237c5534?s=128&d=identicon&r=PG&f=1", "display_name": "nnuttertools", "link": "https://stackoverflow.com/users/10722187/nnuttertools"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 34, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568235721, "creation_date": 1568235331, "last_edit_date": 1568235721, "question_id": 57896689, "link": "https://stackoverflow.com/questions/57896689/uniform-page-load", "title": "Uniform page load", "body": "<p>I have two problems:</p>\n\n<ol>\n<li><p>Animation issue(moving while scrolling):</p>\n\n<p>My HTML:</p>\n\n<pre><code>&lt;body&gt;\n    &lt;header class=\"stable\"&gt;\n        &lt;div id=\"object\"&gt;\n                &lt;img src=\"img/object.png\"&gt;\n        &lt;/div&gt;\n    &lt;/header&gt;\n&lt;/body&gt;\n</code></pre>\n\n<p>My CSS:</p>\n\n<pre><code>#object{\n    position: absolute;\n    left: 0;\n    right: 0;\n    margin:auto;\n    bottom: 0%;\n    width: 45.9%;\n    height: auto;\n    animation: animation 1s ease-out;\n    z-index: 99;\n}\n\n@keyframes animation{\n    from{\n        left: -200%;\n    }\n}\n</code></pre>\n\n<p>My JS:</p>\n\n<pre><code>var object = document.querySelector('#object');\nwindow.addEventListener('scroll', function() {\n\n    var s = $(document).scrollTop();\n    var percent_from_top = s/this.innerHeight;        \n\n    if(0 &lt;= percent_from_top &lt;= 1){\n       object.style.left = 150*(percent_from_top)+'%';\n       object.style.transition = \"0.75s linear\";\n    }\n  });\n</code></pre></li>\n<li><p>Problem with strip:</p>\n\n<p>My HTML:</p>\n\n<pre><code>&lt;section id=\"first_section\"&gt;\n    &lt;div class=\"strip\"&gt;&lt;/div&gt;\n&lt;/section&gt;\n</code></pre>\n\n<p>My CSS:</p>\n\n<pre><code>#first_section &gt; .strip{\n    left: 0%;\n    right:0;\n    margin: auto;\n    margin-top:-30%;\n    width: 40%;\n    height: 130%;\n    transform: rotate(70deg);\n    background: rgba(0,0,0, 0.9);\n }\n</code></pre></li>\n</ol>\n\n<p>It all works...<br>\nbut it doesn't seem effective enough, because </p>\n\n<ol>\n<li>it slows down, and</li>\n<li>it partially appears</li>\n</ol>\n\n<p>I tried to use clip-path for example, but it works the same way.<br>\nIs there a way to create a page more \"evenly\"?</p>\n"}, {"tags": ["javascript", "node.js", "mongodb", "express", "vue.js"], "comments": [{"owner": {"reputation": 1770, "user_id": 3667121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3N0g8.jpg?s=128&g=1", "display_name": "DedaDev", "link": "https://stackoverflow.com/users/3667121/dedadev"}, "edited": false, "score": 0, "creation_date": 1568235899, "post_id": 57896679, "comment_id": 102214664, "body": "Write one <code>console.log(posts)</code> inside <code>Post.find({}, &#39;title description&#39;...</code> and see what do you get."}, {"owner": {"reputation": 849, "user_id": 9388426, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JS_is_awesome18", "link": "https://stackoverflow.com/users/9388426/js-is-awesome18"}, "reply_to_user": {"reputation": 1770, "user_id": 3667121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3N0g8.jpg?s=128&g=1", "display_name": "DedaDev", "link": "https://stackoverflow.com/users/3667121/dedadev"}, "edited": false, "score": 0, "creation_date": 1568236219, "post_id": 57896679, "comment_id": 102214756, "body": "<code>console.log(posts)</code> returns only the id and message(this.description), but not name(this.name), even though I clearly see this.name added in the MongoDB database."}], "answers": [{"comments": [{"owner": {"reputation": 849, "user_id": 9388426, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JS_is_awesome18", "link": "https://stackoverflow.com/users/9388426/js-is-awesome18"}, "edited": false, "score": 0, "creation_date": 1574460135, "post_id": 57896896, "comment_id": 104254972, "body": "thanks for this feedback. Question, do you have any experience using MongoDB and Express with AWS services? Would you be willing to take a look at another MEVN stack issue? : <a href=\"https://stackoverflow.com/questions/59001855/how-to-retrieve-currentuser-data-with-vue-js-aws-amplify-and-mongodb\" title=\"how to retrieve currentuser data with vue js aws amplify and mongodb\">stackoverflow.com/questions/59001855/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1770, "user_id": 3667121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3N0g8.jpg?s=128&g=1", "display_name": "DedaDev", "link": "https://stackoverflow.com/users/3667121/dedadev"}, "is_accepted": true, "score": 1, "last_activity_date": 1568236543, "creation_date": 1568236543, "answer_id": 57896896, "question_id": 57896679, "link": "https://stackoverflow.com/questions/57896679/how-to-pass-props-in-a-vue-js-express-mongodb-app/57896896#57896896", "title": "How to pass props in a Vue.js Express MongoDB app", "body": "<p>Actually you are not returning <code>name</code> from the database at all, see the second parameter of <code>Post.find</code>. </p>\n\n<p>Just add a <code>name</code>:</p>\n\n<pre><code>  Post.find({}, 'title description name', function (error, posts) {\n    if (error) { console.error(error); }\n    res.send({\n      posts: posts\n    })\n  }).sort({_id: -1})\n</code></pre>\n"}], "owner": {"reputation": 849, "user_id": 9388426, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XdUIqdMkCWA/AAAAAAAAAAI/AAAAAAAAAAA/4252rscbv5M/photo.jpg?sz=128", "display_name": "JS_is_awesome18", "link": "https://stackoverflow.com/users/9388426/js-is-awesome18"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 194, "favorite_count": 0, "accepted_answer_id": 57896896, "answer_count": 1, "score": 0, "last_activity_date": 1568236543, "creation_date": 1568235265, "question_id": 57896679, "link": "https://stackoverflow.com/questions/57896679/how-to-pass-props-in-a-vue-js-express-mongodb-app", "title": "How to pass props in a Vue.js Express MongoDB app", "body": "<p>I am attempting to build a basic chat app with Vue.js Node, Express, and MongoDB. My chat app has a welcome page that enables the user to enter his/her name into the welcome screen. (see: <code>Welcome.vue</code>). The user name is then re-routed to <code>Posts.vue</code>, and the user's name is passed to that component as a <code>prop</code>. On <code>Posts.vue</code>, the user can create a message, which is then added to a log of chat messages, arranged by name and message. So far, I have been successful in enabling the name (<code>this.name</code>) and message (<code>this.description</code>) to be posted to mongoDB via Express in <code>app.js</code>. However, only the message (<code>post.description</code>) gets returned to the screen. The name of the user (<code>post.name</code>) of a given message does not return at all to the screen. Could this have something to do with passing name from <code>Welcome.vue</code> as a prop to <code>Posts.vue</code>? Any recommendations on how to fix this? My code is below. Thanks!</p>\n\n<p>Welcome.vue</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div class=\"welcome container\"&gt;\n    &lt;div class=\"card\"&gt;\n      &lt;div class=\"card-content center-align\"&gt;\n        &lt;h2 class=\"teal-text\"&gt;Welcome&lt;/h2&gt;\n        &lt;form @submit.prevent=\"enterChat\"&gt;\n          &lt;label for=\"name\"&gt;Enter your name:&lt;/label&gt;\n          &lt;input type=\"text\" name=\"name\" v-model=\"name\"&gt;\n          &lt;p v-if=\"feedback\" class=\"red-text\"&gt;{{ feedback }}&lt;/p&gt;\n          &lt;button class=\"btn teal\"&gt;Enter Chat&lt;/button&gt;\n        &lt;/form&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  name: 'Welcome',\n  data () {\n    return {\n      name: null,\n      feedback: null\n    }\n  },\n  methods: {\n    enterChat(){\n      if(this.name){\n        this.$router.push({ name: 'Posts', params: { name: this.name } })\n      } else {\n        this.feedback = 'You must enter a name to join'\n      }\n    }\n  }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>Posts.vue</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div class=\"posts\"&gt;\n    &lt;h2&gt;{{ name }}'s Chat Feed&lt;/h2&gt;\n    &lt;div class=\"table-wrap\"&gt;\n      &lt;div class=\"form\"&gt;\n        &lt;div&gt;\n          &lt;textarea rows=\"15\" cols=\"15\" placeholder=\"DESCRIPTION\" v-model=\"description\"&gt;&lt;/textarea&gt;\n        &lt;/div&gt;\n        &lt;div&gt;\n          &lt;button class=\"app_post_btn\" @click=\"addPost\"&gt;Add&lt;/button&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n      &lt;table&gt;\n        &lt;tr&gt;\n          &lt;td&gt;name&lt;/td&gt;\n          &lt;td width=\"550\"&gt;Message&lt;/td&gt;\n          &lt;td width=\"100\" align=\"center\"&gt;Action&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr v-for=\"post in posts\" :key=\"post._id\"&gt;\n          &lt;td&gt;{{ post.name }}&lt;/td&gt;\n          &lt;td&gt;{{ post.description }}&lt;/td&gt;\n          &lt;td align=\"center\"&gt;\n            &lt;a href=\"#\" @click=\"deletePost(post._id)\"&gt;Delete&lt;/a&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/table&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nimport PostsService from '@/services/PostsService'\nexport default {\n  name: 'posts',\n  props: ['name'],\n  data () {\n    return {\n      posts: [],\n      description: ''\n    }\n  },\n  mounted () {\n    this.getPosts()\n  },\n  methods: {\n    async getPosts () {\n      const response = await PostsService.fetchPosts()\n      this.posts = response.data.posts\n      console.log(this.posts)\n    },\n    async addPost () {\n      await PostsService.addPost({\n        name: this.name,\n        description: this.description\n      })\n      this.getPosts()\n    },\n    async deletePost (id) {\n      await PostsService.deletePost(id)\n      this.getPosts()\n    }\n  }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>app.js</p>\n\n<pre><code>const express = require('express')\nconst bodyParser = require('body-parser')\nconst cors = require('cors')\nconst morgan = require('morgan')\nvar Post = require(\"../models/post\");\n\nvar mongoose = require('mongoose');\nmongoose.connect('CONNECTION STRING');\nvar db = mongoose.connection;\ndb.on(\"error\", console.error.bind(console, \"connection error\"));\ndb.once(\"open\", function(callback){\n  console.log(\"Connection Succeeded\");\n});\n\nconst app = express()\napp.use(morgan('combined'))\napp.use(bodyParser.json())\napp.use(cors())\n\napp.get('/posts', (req, res) =&gt; {\n  Post.find({}, 'title description', function (error, posts) {\n    if (error) { console.error(error); }\n    res.send({\n      posts: posts\n    })\n  }).sort({_id: -1})\n})\n\napp.post('/posts', (req, res) =&gt; {\n  var db = req.db\n  var name = req.body.name\n  var description = req.body.description\n  var new_post = new Post({\n    name: name,\n    description: description\n  })\n\n  new_post.save(function (error) {\n    if (error) {\n      console.log(error)\n    }\n    res.send({\n      success: true,\n      message: 'Post saved successfully'\n    })\n  })\n})\n\napp.delete('/posts/:id', (req,res) =&gt; {\n  var db = req.db;\n  Post.remove({\n    _id: req.params.id\n  }, function(err, post){\n    if (err)\n      res.send(err)\n    res.send({\n      success: true\n    })\n  })\n})\n\napp.listen(process.env.PORT || 8081)\n\n</code></pre>\n\n<p>post.js (Mongoose Schema)</p>\n\n<pre><code>var mongoose = require(\"mongoose\");\nvar Schema = mongoose.Schema;\n\nvar PostSchema = new Schema({\n  name: String,\n  title: String,\n  description: String\n});\n\nvar Post = mongoose.model(\"Post\", PostSchema);\nmodule.exports = Post;\n</code></pre>\n"}, {"tags": ["javascript", "google-chrome", "webusb"], "comments": [{"owner": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 1, "creation_date": 1568235903, "post_id": 57896667, "comment_id": 102214667, "body": "The device you&#39;re showing is a USB hub, not a microphone.  In any case, why not use the Media Device API instead?  That&#39;s a much better abstraction if you&#39;re trying to record audio."}, {"owner": {"reputation": 338, "user_id": 5648159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23552327e828eac8294c858fb6eb35f7?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Parker", "link": "https://stackoverflow.com/users/5648159/jeremy-parker"}, "reply_to_user": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 0, "creation_date": 1568236503, "post_id": 57896667, "comment_id": 102214849, "body": "Sure, I will take a look. I tried to find vendorID and providerID in Device Manager under Audio inputs and outputs category, but only found &quot;MMDEVAPI\\AudioEndpoints&quot;, I observed that if I plugged in my mic, then this USB hub showed up and once unplugged, then it disappeared, so I was assuming it could work."}, {"owner": {"reputation": 338, "user_id": 5648159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23552327e828eac8294c858fb6eb35f7?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Parker", "link": "https://stackoverflow.com/users/5648159/jeremy-parker"}, "reply_to_user": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 1, "creation_date": 1568403609, "post_id": 57896667, "comment_id": 102276477, "body": "@Brad Thanks, Media Device API works!"}], "owner": {"reputation": 338, "user_id": 5648159, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/23552327e828eac8294c858fb6eb35f7?s=128&d=identicon&r=PG&f=1", "display_name": "Jeremy Parker", "link": "https://stackoverflow.com/users/5648159/jeremy-parker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 675, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568235546, "creation_date": 1568235186, "last_edit_date": 1568235546, "question_id": 57896667, "link": "https://stackoverflow.com/questions/57896667/web-usb-api-not-working-properly-when-calling-usb-device-microphone", "title": "Web USB API not working properly when calling USB device microphone", "body": "<p>I'm trying to trigger Microphone using Web USB API on Chrome, the below is my HTML code:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;index.html&lt;/title&gt;\n        &lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;\n        &lt;script src=\"./lib/webusb.js\" &gt;&lt;/script&gt;\n    &lt;/head&gt;\n    &lt;body&gt;\n\n        &lt;button id=\"btn\"&gt;CLick me&lt;/button&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>and my js file:</p>\n\n<pre><code>  $(function() {\n      console.log(\"ready!\");\n      $(\"#btn\").click(function()\n      {\n          myFunction();\n      });   \n  });\n\n  function myFunction()\n  {\n\n    let device;\n    try \n    {\n        device = navigator.usb.requestDevice\n        ({ filters: [{vendorId: 0x0451, providerId:0x2036}]});\n        console.log('Clicked');\n        navigator.usb.getDevices()\n        .then(devices =&gt; {\n            console.log(\"devices: \" + devices);\n    });\n    } \n    catch (error) \n    {\n        debugger;\n        console.log(error.message); \n    };\n    if (device !== undefined) {\n    }\n}\n</code></pre>\n\n<p>I found the providerId and vendorId from Device Manager:\n<a href=\"https://i.stack.imgur.com/RgI48.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RgI48.png\" alt=\"providerId &amp; vendorId\"></a>\nI was expecting a microphone permission allowance pop-up window but only get the below result, which shows No Compatible devices found. So how to achieve it?\n<a href=\"https://i.stack.imgur.com/10s0W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/10s0W.png\" alt=\"result\"></a></p>\n"}, {"tags": ["javascript", "typescript", "ecmascript-6"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1568235442, "post_id": 57896660, "comment_id": 102214519, "body": "Well what <i>is</i> it going to get and receive? It looks like it gets the result of normalizeCallback and returns void, based on its usage and the overall signature."}, {"owner": {"reputation": 7629, "user_id": 4371033, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-qmPW-NvFpV4/AAAAAAAAAAI/AAAAAAAAABM/lSGlag6WF30/photo.jpg?sz=128", "display_name": "Non", "link": "https://stackoverflow.com/users/4371033/non"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1568235766, "post_id": 57896660, "comment_id": 102214619, "body": "Hi @jonrsharpe I placed the whole method with its calls and how it is used. It receives arrays and objects as it is."}], "answers": [{"comments": [{"owner": {"reputation": 7629, "user_id": 4371033, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-qmPW-NvFpV4/AAAAAAAAAAI/AAAAAAAAABM/lSGlag6WF30/photo.jpg?sz=128", "display_name": "Non", "link": "https://stackoverflow.com/users/4371033/non"}, "edited": false, "score": 0, "creation_date": 1568236296, "post_id": 57896824, "comment_id": 102214781, "body": "Where <code>T</code> comes from?"}, {"owner": {"reputation": 7629, "user_id": 4371033, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-qmPW-NvFpV4/AAAAAAAAAAI/AAAAAAAAABM/lSGlag6WF30/photo.jpg?sz=128", "display_name": "Non", "link": "https://stackoverflow.com/users/4371033/non"}, "edited": false, "score": 0, "creation_date": 1568236546, "post_id": 57896824, "comment_id": 102214862, "body": "First, on <code>function</code> declaration: <code>Unexpected token. A constructor, method, accessor, or property was expected.ts(1068)</code> then on <code>callback(normalizeCallback(res.data));</code> =&gt; <code>Argument of type &#39;T | null&#39; is not assignable to parameter of type &#39;T&#39;.</code>"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 7629, "user_id": 4371033, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-qmPW-NvFpV4/AAAAAAAAAAI/AAAAAAAAABM/lSGlag6WF30/photo.jpg?sz=128", "display_name": "Non", "link": "https://stackoverflow.com/users/4371033/non"}, "edited": false, "score": 0, "creation_date": 1568237030, "post_id": 57896824, "comment_id": 102215015, "body": "Ah, the second was a wrong type. I think you should be able to resplve the first one on your own if you reread the answer ..."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 1, "last_activity_date": 1568236993, "last_edit_date": 1568236993, "creation_date": 1568236128, "answer_id": 57896824, "question_id": 57896660, "link": "https://stackoverflow.com/questions/57896660/how-to-add-properly-to-typescript-a-callback-type-with-parameters/57896824#57896824", "title": "How to add properly to TypeScript a callback type with parameters?", "body": "<p>I'd write it as:</p>\n\n<pre><code>function makeApi&lt;T&gt;(url: string, normalizeCallback: (d: ResponseData) =&gt; T | null) {\n  return function(callback: (data: T | null) =&gt; any) {\n    return ApiClient.get(url)\n      .then(res =&gt; {\n        callback(normalizeCallback(res.data));\n      })\n      .catch(error =&gt; {\n        console.error(`ApiClient ${url}`, error);\n      });\n  };\n}\n\n// in the class\nstatic getArticles = makeApi&lt;Article[]&gt;(\"articles\", ApiNormalizer.normalizeArticles)\n</code></pre>\n\n<p>That way, you ...</p>\n\n<p>1) correctly type the data type as a generic.</p>\n\n<p>2) eliminate a lot of boilerplate.</p>\n\n<p>3) enclose <code>makeApi</code> into the module, I don't think it should be exposed through the class.</p>\n"}], "owner": {"reputation": 7629, "user_id": 4371033, "user_type": "registered", "accept_rate": 73, "profile_image": "https://lh4.googleusercontent.com/-qmPW-NvFpV4/AAAAAAAAAAI/AAAAAAAAABM/lSGlag6WF30/photo.jpg?sz=128", "display_name": "Non", "link": "https://stackoverflow.com/users/4371033/non"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "accepted_answer_id": 57896824, "answer_count": 1, "score": 0, "last_activity_date": 1568236993, "creation_date": 1568235165, "question_id": 57896660, "link": "https://stackoverflow.com/questions/57896660/how-to-add-properly-to-typescript-a-callback-type-with-parameters", "title": "How to add properly to TypeScript a callback type with parameters?", "body": "<p>I have this method:</p>\n\n<pre><code>export default class ApiService {\n  static makeApiCall = (\n    url: string,\n    normalizeCallback: (d: ResponseData) =&gt; ResponseData | null,\n    callback: (d: any) =&gt; any\n  ): Promise&lt;void&gt; =&gt; (\n    ApiClient.get(url)\n      .then(res =&gt; {\n        callback(normalizeCallback(res.data));\n      })\n      .catch(error =&gt; {\n        console.error(`ApiClient ${url}`, error);\n      })\n  )\n\n  static getArticles = (callback: (a: Article[]) =&gt; void): Promise&lt;void&gt; =&gt; (\n    ApiService.makeApiCall(\n      'articles',\n      ApiNormalizer.normalizeArticles,\n      callback\n    )\n  )\n}\n</code></pre>\n\n<p>On this line <code>callback: (d: any) =&gt; any</code> typescript yells</p>\n\n<blockquote>\n  <p>warning  Unexpected any. Specify a different type</p>\n</blockquote>\n\n<p>To show you more context, here is where I am calling the method <code>getArticles</code></p>\n\n<pre><code>export const fetchArticles = (): ThunkAction&lt;Promise&lt;void&gt;,{},{},AnyAction&gt; =&gt; {\n  return async (dispatch: ThunkDispatch&lt;{}, {}, AnyAction&gt;): Promise&lt;void&gt; =&gt; {\n    dispatch(() =&gt; ({ type: FETCH_ARTICLES }));\n             // HERE: getArticles\n    return ApiService.getArticles(articles =&gt; dispatch(loadArticles(articles)));\n  };\n};\n</code></pre>\n\n<p>So how can i type that callback function properly?</p>\n"}, {"tags": ["javascript", "django", "python-3.x"], "comments": [{"owner": {"reputation": 1958, "user_id": 6246128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1jHu.jpg?s=128&g=1", "display_name": "wcarhart", "link": "https://stackoverflow.com/users/6246128/wcarhart"}, "edited": false, "score": 0, "creation_date": 1568235208, "post_id": 57896655, "comment_id": 102214421, "body": "How are you serving your static files in production? <a href=\"http://whitenoise.evans.io/en/stable/\" rel=\"nofollow noreferrer\">Whitenoise</a>?"}, {"owner": {"reputation": 1480, "user_id": 3927509, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/078194551f43a33f5110051a3faf3643?s=128&d=identicon&r=PG", "display_name": "exsnake", "link": "https://stackoverflow.com/users/3927509/exsnake"}, "reply_to_user": {"reputation": 1958, "user_id": 6246128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1jHu.jpg?s=128&g=1", "display_name": "wcarhart", "link": "https://stackoverflow.com/users/6246128/wcarhart"}, "edited": false, "score": 0, "creation_date": 1568235286, "post_id": 57896655, "comment_id": 102214456, "body": "@wcarhart Whitenoise, was the only way to get it working"}, {"owner": {"reputation": 1958, "user_id": 6246128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1jHu.jpg?s=128&g=1", "display_name": "wcarhart", "link": "https://stackoverflow.com/users/6246128/wcarhart"}, "edited": false, "score": 0, "creation_date": 1568235467, "post_id": 57896655, "comment_id": 102214527, "body": "Does the image work as expected locally? If so, is your image file in <code>staticfiles&#47;</code>, or just in <code>app_name&#47;static&#47;</code> (on the production server)?"}, {"owner": {"reputation": 1480, "user_id": 3927509, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/078194551f43a33f5110051a3faf3643?s=128&d=identicon&r=PG", "display_name": "exsnake", "link": "https://stackoverflow.com/users/3927509/exsnake"}, "reply_to_user": {"reputation": 1958, "user_id": 6246128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1jHu.jpg?s=128&g=1", "display_name": "wcarhart", "link": "https://stackoverflow.com/users/6246128/wcarhart"}, "edited": false, "score": 0, "creation_date": 1568235541, "post_id": 57896655, "comment_id": 102214546, "body": "@wcarhart works perfectly, is app_name/static/"}, {"owner": {"reputation": 1958, "user_id": 6246128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1jHu.jpg?s=128&g=1", "display_name": "wcarhart", "link": "https://stackoverflow.com/users/6246128/wcarhart"}, "edited": false, "score": 0, "creation_date": 1568235629, "post_id": 57896655, "comment_id": 102214578, "body": "Hmm, so when you run in production, you need to move all of your static files to a specified location. The default for Django is <code>staticfiles&#47;</code>. There&#39;s a helpful Django command to do this: <code>python manage.py collectstatic</code>"}, {"owner": {"reputation": 1958, "user_id": 6246128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1jHu.jpg?s=128&g=1", "display_name": "wcarhart", "link": "https://stackoverflow.com/users/6246128/wcarhart"}, "edited": false, "score": 0, "creation_date": 1568235652, "post_id": 57896655, "comment_id": 102214589, "body": "You&#39;ll have to do that on the production server location, via <code>ssh</code> or whatever is appropriate"}, {"owner": {"reputation": 1480, "user_id": 3927509, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/078194551f43a33f5110051a3faf3643?s=128&d=identicon&r=PG", "display_name": "exsnake", "link": "https://stackoverflow.com/users/3927509/exsnake"}, "reply_to_user": {"reputation": 1958, "user_id": 6246128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1jHu.jpg?s=128&g=1", "display_name": "wcarhart", "link": "https://stackoverflow.com/users/6246128/wcarhart"}, "edited": false, "score": 0, "creation_date": 1568235767, "post_id": 57896655, "comment_id": 102214620, "body": "@wcarhart That&#39;s done, and everything works fine, the problem is with the new images that I need to download and display"}, {"owner": {"reputation": 1958, "user_id": 6246128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1jHu.jpg?s=128&g=1", "display_name": "wcarhart", "link": "https://stackoverflow.com/users/6246128/wcarhart"}, "reply_to_user": {"reputation": 1480, "user_id": 3927509, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/078194551f43a33f5110051a3faf3643?s=128&d=identicon&r=PG", "display_name": "exsnake", "link": "https://stackoverflow.com/users/3927509/exsnake"}, "edited": false, "score": 0, "creation_date": 1568235963, "post_id": 57896655, "comment_id": 102214682, "body": "Let us <a href=\"https://chat.stackoverflow.com/rooms/199333/discussion-between-wcarhart-and-exsnake\">continue this discussion in chat</a>."}], "answers": [{"tags": [], "owner": {"reputation": 1958, "user_id": 6246128, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/s1jHu.jpg?s=128&g=1", "display_name": "wcarhart", "link": "https://stackoverflow.com/users/6246128/wcarhart"}, "is_accepted": false, "score": 0, "last_activity_date": 1568237016, "creation_date": 1568237016, "answer_id": 57896977, "question_id": 57896655, "link": "https://stackoverflow.com/questions/57896655/use-a-image-from-a-server-in-django-template/57896977#57896977", "title": "Use a image from a server in Django template", "body": "<p>Rather than downloading a static file from another website, you can just access the image via HTML in your template file:</p>\n\n<pre><code>&lt;img src=\"https://media.giphy.com/media/rl0FOxdz7CcxO/giphy.gif\" alt=\"gif of someone celebrating, with text 'It's happening'\"&gt;\n</code></pre>\n\n<p>If, for whatever reason, you don't want to access the image file in your template and you still want to download it, you'll need to move the downloaded file to <code>staticfiles/</code> or to wherever you've configured your static files to be served from in <code>settings.py</code>. Putting the static file in <code>app_name/static/</code> will not work in production.</p>\n"}, {"tags": [], "owner": {"reputation": 9, "user_id": 11326119, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jxTd4.jpg?s=128&g=1", "display_name": "Harouna Diallo", "link": "https://stackoverflow.com/users/11326119/harouna-diallo"}, "is_accepted": false, "score": 0, "last_activity_date": 1592062824, "last_edit_date": 1592062824, "creation_date": 1568633763, "answer_id": 57955996, "question_id": 57896655, "link": "https://stackoverflow.com/questions/57896655/use-a-image-from-a-server-in-django-template/57955996#57955996", "title": "Use a image from a server in Django template", "body": "<p>If your image is part of a model's fields (ie ImageField) or uploaded, django sets up an url attribute to get the url of the image.</p>\n\n<pre><code>class ModelName(models.Model):\n     image = models.ImageField(upload_to='folder_name/')\n     ...\n</code></pre>\n\n<p>Pass data with your views.\nIn your template:</p>\n\n<pre><code>let img = '&lt;img  src=\"{{data.image.url}}\"/&gt;';\n</code></pre>\n\n<p>And Do not forget to add this i settings.py</p>\n\n<pre><code>MEDIA_ROOT = os.path.join(BASE_DIR, 'media')\nMEDIA_URL = '/media/'\n</code></pre>\n"}], "owner": {"reputation": 1480, "user_id": 3927509, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/078194551f43a33f5110051a3faf3643?s=128&d=identicon&r=PG", "display_name": "exsnake", "link": "https://stackoverflow.com/users/3927509/exsnake"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1592062824, "creation_date": 1568235124, "question_id": 57896655, "link": "https://stackoverflow.com/questions/57896655/use-a-image-from-a-server-in-django-template", "title": "Use a image from a server in Django template", "body": "<p>Right now I'm storing the image in the static folder, but this is not working in production.</p>\n\n<p><strong>View</strong></p>\n\n<pre><code>local_path = \"checkimage/static/{}\".format(image_file_name)\ndownload_blob(server_path, path + '/' + image_file_name, local_path)\n</code></pre>\n\n<p><strong>javascript</strong></p>\n\n<pre><code>let img = '&lt;img  src=\"/static/' + image_file_name + '/&gt;';\n</code></pre>\n\n<p>Which is the correct approach to do this? They are several images and very heavy.</p>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 3023, "user_id": 5587393, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d83bf6603c6c7a002ab8e18e418e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Luzzara", "link": "https://stackoverflow.com/users/5587393/marco-luzzara"}, "edited": false, "score": 0, "creation_date": 1568235781, "post_id": 57896643, "comment_id": 102214623, "body": "Have you tried this <code>RegExp(&#39;^(\\\\d+\\\\.?\\\\d{0,9}|\\\\.\\\\d{1,9})$&#39;)</code>?"}, {"owner": {"reputation": 8548, "user_id": 414408, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d7034a6973e42673643f7aad9868ad98?s=128&d=identicon&r=PG", "display_name": "bluedevil2k", "link": "https://stackoverflow.com/users/414408/bluedevil2k"}, "reply_to_user": {"reputation": 3023, "user_id": 5587393, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/1d83bf6603c6c7a002ab8e18e418e2e5?s=128&d=identicon&r=PG&f=1", "display_name": "Marco Luzzara", "link": "https://stackoverflow.com/users/5587393/marco-luzzara"}, "edited": false, "score": 0, "creation_date": 1568236007, "post_id": 57896643, "comment_id": 102214696, "body": "That regex doesn&#39;t allow any text to pass"}, {"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 1, "creation_date": 1568236252, "post_id": 57896643, "comment_id": 102214770, "body": "Are you sure it does not? See <a href=\"https://regex101.com/r/KOs9G7/1\" rel=\"nofollow noreferrer\">regex101.com/r/KOs9G7/1</a>. I&#39;d write your regex as <code>&#47;^(?:\\d+(?:\\.\\d{0,9})?|\\.\\d{1,9})$&#47;</code> though"}, {"owner": {"reputation": 8548, "user_id": 414408, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d7034a6973e42673643f7aad9868ad98?s=128&d=identicon&r=PG", "display_name": "bluedevil2k", "link": "https://stackoverflow.com/users/414408/bluedevil2k"}, "edited": false, "score": 0, "creation_date": 1568236759, "post_id": 57896643, "comment_id": 102214922, "body": "Double-checking...maybe my React component is filtering out 0 values"}, {"owner": {"reputation": 8548, "user_id": 414408, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d7034a6973e42673643f7aad9868ad98?s=128&d=identicon&r=PG", "display_name": "bluedevil2k", "link": "https://stackoverflow.com/users/414408/bluedevil2k"}, "edited": false, "score": 0, "creation_date": 1568237118, "post_id": 57896643, "comment_id": 102215047, "body": "Yeah, my React component was filtering out zero values, which &quot;.&quot; evaluates to.  I&#39;ve adjusted your regex to /^(?:\\d+(?:\\.\\d{0,2})?|\\.\\d{1,9})$/   (replaced the 9 with the 2) to limit the decimals to 2 spots, but it doesn&#39;t work if the first character is a &quot;.&quot;.  It does work if the first character is a digit."}, {"owner": {"reputation": 8548, "user_id": 414408, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d7034a6973e42673643f7aad9868ad98?s=128&d=identicon&r=PG", "display_name": "bluedevil2k", "link": "https://stackoverflow.com/users/414408/bluedevil2k"}, "edited": false, "score": 1, "creation_date": 1568237715, "post_id": 57896643, "comment_id": 102215206, "body": "And to the person who gave this question a down vote, if questions like this don&#39;t belong on Stack Overflow, what does??"}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "edited": false, "score": 0, "creation_date": 1568254215, "post_id": 57896643, "comment_id": 102218569, "body": "@bluedevil2k do you want to allow integers or just float only"}], "answers": [{"tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": false, "score": 0, "last_activity_date": 1568254183, "creation_date": 1568254183, "answer_id": 57898860, "question_id": 57896643, "link": "https://stackoverflow.com/questions/57896643/regex-in-javascript-need-to-allow-decimal-as-first-character/57898860#57898860", "title": "Regex in Javascript - Need to allow decimal as first character", "body": "<p>You can use </p>\n\n<pre><code>/^\\d*(?:\\.\\d+)?$/\n</code></pre>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const testFunc = (str) =&gt;{\r\n  return str.length &gt; 0 &amp;&amp; /^\\d*(?:\\.\\d+)?$/.test(str)\r\n}\r\n\r\nconsole.log(testFunc(''))\r\nconsole.log(testFunc('.123'))\r\nconsole.log(testFunc('1'))\r\nconsole.log(testFunc('1.123'))\r\nconsole.log(testFunc('123.123.123'))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 8548, "user_id": 414408, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/d7034a6973e42673643f7aad9868ad98?s=128&d=identicon&r=PG", "display_name": "bluedevil2k", "link": "https://stackoverflow.com/users/414408/bluedevil2k"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568254183, "creation_date": 1568235061, "question_id": 57896643, "link": "https://stackoverflow.com/questions/57896643/regex-in-javascript-need-to-allow-decimal-as-first-character", "title": "Regex in Javascript - Need to allow decimal as first character", "body": "<p>I have a React widget that lets you type in a price.  I put the typed-in text through a regex.test() to ensure only numbers and 1 decimal are allowed in the number.  However, the regex I'm using doesn't allow a decimal point as the first character (e.g. -> .05).  My current regex is </p>\n\n<pre><code>`/^(\\d+\\.?\\d{0,9}|\\.\\d{1,9})$/`\n</code></pre>\n\n<p>I tried adding an optional <code>\\.?</code> in the front of this, but it didn't work.  Thanks for your help!</p>\n"}, {"tags": ["javascript", "vuejs2", "modal-dialog", "bootstrap-vue"], "answers": [{"tags": [], "owner": {"reputation": 5143, "user_id": 8397974, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-uFiEfDv9HOs/AAAAAAAAAAI/AAAAAAAAADo/pq_hWrYNCWQ/photo.jpg?sz=128", "display_name": "Hiws", "link": "https://stackoverflow.com/users/8397974/hiws"}, "is_accepted": true, "score": 2, "last_activity_date": 1568275223, "creation_date": 1568275223, "answer_id": 57902258, "question_id": 57896630, "link": "https://stackoverflow.com/questions/57896630/get-event-click-on-backdrop-using-modal-bootstrap-vue/57902258#57902258", "title": "Get event click on backdrop using modal Bootstrap-vue", "body": "<p>There's no <code>backdrop</code> event on the modal, that's why you aren't seeing anything happening.</p>\n\n<p>What you can do instead is watch the <code>hide</code> event which contains a <code>trigger</code> property.\nThis trigger property will contain what triggered the hide event, including <code>backdrop</code> if that was clicked.</p>\n\n<p><a href=\"https://bootstrap-vue.js.org/docs/components/modal/#prevent-closing\" rel=\"nofollow noreferrer\">https://bootstrap-vue.js.org/docs/components/modal/#prevent-closing</a></p>\n\n<pre><code>&lt;template&gt;\n  &lt;b-modal id=\"modal\" @hide=\"onHide\"&gt;&lt;/b-modal&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\n\nnew Vue({\n  el: '#app',\n  methods: {\n    onHide(evt) {\n      if(evt.trigger === \"backdrop\"){\n        evt.preventDefault();\n        this.handleBackdrop();\n      }\n    },\n    handleBackdrop() {\n      console.log('Backdrop clicked')\n    }\n  }\n})\n&lt;/script&gt;\n</code></pre>\n\n<p>If you simply want to prevent the modal closing if the backdrop is clicked you can add the <code>no-close-on-backdrop</code> to the modal to prevent this behavior.</p>\n"}], "owner": {"reputation": 15, "user_id": 11584160, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-3g1UeYUtk54/AAAAAAAAAAI/AAAAAAAAAd8/URt8mczd5mU/photo.jpg?sz=128", "display_name": "Renato Andrade", "link": "https://stackoverflow.com/users/11584160/renato-andrade"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1590, "favorite_count": 0, "accepted_answer_id": 57902258, "answer_count": 1, "score": 1, "last_activity_date": 1568275223, "creation_date": 1568234968, "question_id": 57896630, "link": "https://stackoverflow.com/questions/57896630/get-event-click-on-backdrop-using-modal-bootstrap-vue", "title": "Get event click on backdrop using modal Bootstrap-vue", "body": "<p>Im using Vue2 and Boostrap-vue to make an modal component here's the code </p>\n\n<p>I passed the following props <code>@backdrop=\"handleBackdrop\"</code></p>\n\n<pre><code>&lt;template&gt;\n&lt;b-modal\n    v-model=\"showModal\"\n    id=\"modal\"\n    @backdrop=\"handleBackdrop\"\n    @ok=\"handleBackdrop\"\n  &gt;\n...\n&lt;/template&gt;\n\n&lt;script&gt;\ndata() {\n    return {\n      showModal: false\n     }\n},\n  methods: {\n    show() {\n      this.showModal = true;\n    },\n    hide() {\n      this.showModal = false;\n    },\n    handleBackdrop(ev) {\n      ev.preventDefault();\n      console.log(\"Click backdrop\");\n    }\n}\n&lt;/script&gt;\n</code></pre>\n\n<p>i'm using this @ok to test the function handleBackdrop and it works but i cannot active this click on backdrop</p>\n"}, {"tags": ["javascript", "html", "animation", "three.js", "3d"], "comments": [{"owner": {"reputation": 16915, "user_id": 5250847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zezra.jpg?s=128&g=1", "display_name": "Mugen87", "link": "https://stackoverflow.com/users/5250847/mugen87"}, "edited": false, "score": 0, "creation_date": 1568277330, "post_id": 57896611, "comment_id": 102225745, "body": "Why do you convert the loaded geometry to <code>THREE.Geometry</code>? Besides, it should not be necessary to create a custom mesh (if anything, you would have to create an instance of <code>THREE.SkinnedMesh</code>). Anyway, it&#39;s best to stick to the official example. Please write your code similar to <a href=\"https://threejs.org/examples/webgl_loader_fbx\" rel=\"nofollow noreferrer\">threejs.org/examples/webgl_loader_fbx</a>"}, {"owner": {"reputation": 6403, "user_id": 3781199, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/1NpEm.png?s=128&g=1", "display_name": "skyguy", "link": "https://stackoverflow.com/users/3781199/skyguy"}, "reply_to_user": {"reputation": 16915, "user_id": 5250847, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zezra.jpg?s=128&g=1", "display_name": "Mugen87", "link": "https://stackoverflow.com/users/5250847/mugen87"}, "edited": false, "score": 0, "creation_date": 1568591121, "post_id": 57896611, "comment_id": 102310806, "body": "@Mugen87 ok, Ive copied the example code verbatim AND am using their model - still no animations. Ive updated my question"}], "answers": [{"comments": [{"owner": {"reputation": 6403, "user_id": 3781199, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/1NpEm.png?s=128&g=1", "display_name": "skyguy", "link": "https://stackoverflow.com/users/3781199/skyguy"}, "edited": false, "score": 0, "creation_date": 1569359826, "post_id": 58084349, "comment_id": 102569881, "body": "Thanks - I just installed the new loader (see my code above) but still no animations. Are you using a different animation mixer? Can you post example code?"}], "tags": [], "owner": {"reputation": 11, "user_id": 8098708, "user_type": "registered", "profile_image": "https://graph.facebook.com/10107808238569190/picture?type=large", "display_name": "Alex Ray Dotte", "link": "https://stackoverflow.com/users/8098708/alex-ray-dotte"}, "is_accepted": false, "score": 0, "last_activity_date": 1569342321, "last_edit_date": 1569342321, "creation_date": 1569341413, "answer_id": 58084349, "question_id": 57896611, "link": "https://stackoverflow.com/questions/57896611/three-js-animation-mixer-not-playing/58084349#58084349", "title": "Three.js animation mixer not playing?", "body": "<p>I had the same problem using the NPM package three-fbx-loader, which hasn't been updated in a couple years. If you examine any of the AnimationClip objects in object.animations after loading your FBX, you'll notice the duration of all the clips is 0 and the tracks are empty arrays.</p>\n\n<p>I finally got the animations to load &amp; play properly by using <a href=\"https://www.npmjs.com/package/wge-three-fbx-loader\" rel=\"nofollow noreferrer\">wge-three-fbx-loader</a> instead.</p>\n"}], "owner": {"reputation": 6403, "user_id": 3781199, "user_type": "registered", "accept_rate": 48, "profile_image": "https://i.stack.imgur.com/1NpEm.png?s=128&g=1", "display_name": "skyguy", "link": "https://stackoverflow.com/users/3781199/skyguy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 1088, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1569359852, "creation_date": 1568234877, "last_edit_date": 1569359852, "question_id": 57896611, "link": "https://stackoverflow.com/questions/57896611/three-js-animation-mixer-not-playing", "title": "Three.js animation mixer not playing?", "body": "<p>Ok I have an fbx successfully loaded into Three.js exported from blender with all animation boxes checked. Ive tried all export settings from blender so that's not it. </p>\n\n<p>This is how I bring the model in, and I am able to accurately determine whether the fbx has animations or not:</p>\n\n<pre><code>var geoFromScene = new THREE.Geometry();\nvar FBXLoader = require('three-fbx-loader');\nvar loader = new FBXLoader();\n                loader.load(string, function ( object ) {\n\n                    object.traverse( function ( child ) {\n                        if ( child.isMesh ) {\n                            child.castShadow = true;\n                            child.receiveShadow = true;\n\n              geoFromScene = (new THREE.Geometry()).fromBufferGeometry(child.geometry);\n\n                        }\n\n\n                    } );\n\n          var theModel = new THREE.Mesh();\n          theModel.geometry = geoFromScene;\n          theModel.material = material;\n          theModel.position.set(5,5,-8);\n          //theModel.rotation.set(new THREE.Vector3( 0, MATH.pi/2, 0));\n          theModel.scale.set(0.1, 0.1, 0.1);\n                    localThis.scene.add(theModel);\n\n          localThis.mixer = new THREE.AnimationMixer(theModel);\n\n          if(theModel.animations[0])\n          {\n            var action = localThis.mixer.clipAction(theModel.animations[0]);\n                    action.play();\n          } else {\n            console.log(\"No animations\");\n          }\n\n                } );\n</code></pre>\n\n<p>In update (which does work, because I can print the animation.time):</p>\n\n<pre><code>this.mixer.update(this.clock.getDelta());\n</code></pre>\n\n<p>And yet the model is just static. Whats wrong here?</p>\n\n<p>UPDATE:</p>\n\n<p>code from example copy pasted-</p>\n\n<pre><code>var geoFromScene = new THREE.Geometry();\nvar FBXLoader = require('three-fbx-loader');\nvar loader = new FBXLoader();\nloader.load( string, function ( object ) {\n                    localThis.mixer = new THREE.AnimationMixer( object );\n                    var action = localThis.mixer.clipAction( object.animations[ 0 ] );\n                    action.play();\n\n                    object.traverse( function ( child ) {\n                        if ( child.isMesh ) {\n                            child.castShadow = true;\n                            child.receiveShadow = true;\n                        }\n                    } );\n\n          object.position.set(5,5,-8)\n          object.scale.set(0.1, 0.1, 0.1);\n                    localThis.scene.add( object );\n\n\n                } );\n</code></pre>\n\n<p>in animate-</p>\n\n<pre><code>this.mixer.update(this.clock.getDelta());\n</code></pre>\n\n<p>All I get is the model armature it seems -</p>\n\n<p><a href=\"https://i.stack.imgur.com/JkQbp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JkQbp.png\" alt=\"enter image description here\"></a></p>\n\n<p>New approach:</p>\n\n<pre><code>var FBXLoader = require('wge-three-fbx-loader'); //https://www.npmjs.com/package/wge-three-fbx-loader\nvar loader = new FBXLoader();\nloader.load( string, function ( object ) {\n</code></pre>\n"}, {"tags": ["javascript", "sharepoint-2013", "jslink"], "answers": [{"comments": [{"owner": {"reputation": 83, "user_id": 9069013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636aeff8078b3ab7da62acf4141c3d93?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Harvancik", "link": "https://stackoverflow.com/users/9069013/steve-harvancik"}, "edited": false, "score": 0, "creation_date": 1568300169, "post_id": 57898600, "comment_id": 102238684, "body": "Not following.  Putting this code directly into a script editor will not work.  In addition, not certain what your mean by using the correct [&quot;].  I&#39;m beginning to think that the code I have hear does not work for 2013 on-prem, but not certain.  Lastly, I&#39;d like to figure out how to use js-link.  I can add javascript to a page directly or by reference, but how do use the power of js-link.  Thank you."}], "tags": [], "owner": {"reputation": 4884, "user_id": 8867311, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/211a7f414a3441006d1dd418596447a9?s=128&d=identicon&r=PG&f=1", "display_name": "Lee_MSFT", "link": "https://stackoverflow.com/users/8867311/lee-msft"}, "is_accepted": false, "score": 0, "last_activity_date": 1568340927, "last_edit_date": 1568340927, "creation_date": 1568251498, "answer_id": 57898600, "question_id": 57896598, "link": "https://stackoverflow.com/questions/57896598/i-am-not-able-to-get-any-of-my-jslink-working-what-am-i-doing-wrong/57898600#57898600", "title": "I am not able to get any of my JSLink working. What am I doing wrong", "body": "<p>Insert script editor webpart into the page and insert the script into script editor webpart(use correct \u3010\"\u3011).</p>\n\n<pre><code>(function () {\nvar overrideContext = {};\noverrideContext.Templates = {};\noverrideContext.Templates.Header = overrideCustomHeader;\noverrideContext.Templates.Footer = overrideCustomFooter;\nSPClientTemplates.TemplateManager.RegisterTemplateOverrides(overrideContext);\n})();\n\nfunction overrideCustomHeader() {\nreturn \"&lt;h3&gt;Our Custom Header&lt;/h3&gt;\";\n}\n\nfunction overrideCustomFooter() {\nreturn \"&lt;h3&gt;Our Custom Footer&lt;/h3&gt;\";\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/tzmwA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tzmwA.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/GZDoD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GZDoD.png\" alt=\"enter image description here\"></a></p>\n\n<p>Update:</p>\n\n<p>Have you enabled Minimal Download Strategy?</p>\n\n<p><a href=\"https://i.stack.imgur.com/AOeHB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AOeHB.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/yix7L.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yix7L.png\" alt=\"enter image description here\"></a></p>\n\n<p>JSLink won't work if url like <code>/_layouts/15/start.aspx#</code> , you could disable the feature.</p>\n"}], "owner": {"reputation": 83, "user_id": 9069013, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/636aeff8078b3ab7da62acf4141c3d93?s=128&d=identicon&r=PG&f=1", "display_name": "Steve Harvancik", "link": "https://stackoverflow.com/users/9069013/steve-harvancik"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 79, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568340927, "creation_date": 1568234814, "question_id": 57896598, "link": "https://stackoverflow.com/questions/57896598/i-am-not-able-to-get-any-of-my-jslink-working-what-am-i-doing-wrong", "title": "I am not able to get any of my JSLink working. What am I doing wrong", "body": "<p>We have SharePoint 2013 on Prem and I am trying to do some customizations using JS Link.  Even the most simple exercises are not working.  I don't understand what I'm doing wrong.</p>\n\n<p>New page - List added and jS Link = ~site/SiteAssets/js-test/OverRideCustomHeader.js</p>\n\n<pre><code>(function () {\nvar overrideContext = {};\noverrideContext.Templates = {};\noverrideContext.Templates.Header = overrideCustomHeader;\noverrideContext.Templates.Footer = overrideCustomFooter;\nSPClientTemplates.TemplateManager.RegisterTemplateOverrides(overrideContext);\n})();\n\nfunction overrideCustomHeader() {\nreturn \u201c&lt;h3&gt;Our Custom Header&lt;/h3&gt;\u201d;\n}\n\nfunction overrideCustomFooter() {\nreturn \u201c&lt;h3&gt;Our Custom Footer&lt;/h3&gt;\u201d;\n}\n</code></pre>\n\n<p>I expect to see a header and a footer display and they are not.</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"comments": [{"owner": {"reputation": 13611, "user_id": 7060441, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/kKetn.jpg?s=128&g=1", "display_name": "devserkan", "link": "https://stackoverflow.com/users/7060441/devserkan"}, "edited": false, "score": 0, "creation_date": 1568236299, "post_id": 57896812, "comment_id": 102214782, "body": "I was going to suggest the same thing then I saw your answer. Since OP has a <code>saveTodo</code> method, maybe it can be used here but it is not necessary to have a separate method actually."}, {"owner": {"reputation": 3, "user_id": 10053615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c50fb063c6b21c8f9b3856f387eb781?s=128&d=identicon&r=PG", "display_name": "Bay", "link": "https://stackoverflow.com/users/10053615/bay"}, "edited": false, "score": 0, "creation_date": 1568367235, "post_id": 57896812, "comment_id": 102259698, "body": "i do that, but make localStorage always only empty array, i thing the problem at <code>fillTodo</code> on <code>&lt;form onSubmit={fillTodo}&gt; .... &lt;&#47;form&gt;</code> , i must hit button to make it save to <code>todo</code> array state."}], "tags": [], "owner": {"reputation": 2570, "user_id": 2958452, "user_type": "registered", "accept_rate": 78, "profile_image": "https://graph.facebook.com/100001234907405/picture?type=large", "display_name": "AngelSalazar", "link": "https://stackoverflow.com/users/2958452/angelsalazar"}, "is_accepted": true, "score": 1, "last_activity_date": 1568236037, "creation_date": 1568236037, "answer_id": 57896812, "question_id": 57896563, "link": "https://stackoverflow.com/questions/57896563/why-todo-item-only-save-to-localstorage-when-hit-submit-button-two-times/57896812#57896812", "title": "Why Todo Item only save to localStorage when hit submit button two times?", "body": "<p>wouldn't it be better if you think that storing in local storage is a side<strong>Effect</strong></p>\n\n<pre><code>// syncs localStorage with the current todo value\nReact.useEffect(() =&gt; {\n  localStorage.setItem(\"todo\", JSON.stringify(todo));\n}, [todo])\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 10053615, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c50fb063c6b21c8f9b3856f387eb781?s=128&d=identicon&r=PG", "display_name": "Bay", "link": "https://stackoverflow.com/users/10053615/bay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 57896812, "answer_count": 1, "score": 0, "last_activity_date": 1568236037, "creation_date": 1568234635, "question_id": 57896563, "link": "https://stackoverflow.com/questions/57896563/why-todo-item-only-save-to-localstorage-when-hit-submit-button-two-times", "title": "Why Todo Item only save to localStorage when hit submit button two times?", "body": "<p>I make simple Todo Apps with react and can save item on localStorage, but I must hit submit button two times to make saved to localStorage. So if we submit input 'Hello', then submit 'World', and will saved to localStorage is text 'Hello', how to make only hit 1 time the button?</p>\n\n<p><a href=\"https://i.stack.imgur.com/MfZL0.jpg\" rel=\"nofollow noreferrer\">When We Submit, Before Reload</a>,\n<a href=\"https://i.stack.imgur.com/Jil3s.jpg\" rel=\"nofollow noreferrer\">After Reload Page</a></p>\n\n<pre><code>import React, { useState, useEffect } from \"react\";\nimport \"./Todo.css\";\n\nconst Todo = () =&gt; {\n  const [text, setText] = useState(\"\");\n  const [check, setCheck] = useState(false);\n  const [todo, setTodo] = useState([]);\n\n  useEffect(() =&gt; {\n    getTodo();\n  }, []);\n\n  const updateText = e =&gt; {\n    setText(e.target.value);\n    console.log(text);\n  };\n\n  const getTodo = () =&gt; {\n    let todoLocal = JSON.parse(localStorage.getItem(\"todo\")) || [];\n    setTodo(todoLocal);\n  };\n\n  const saveTodo = (todo = {}) =&gt; {\n    localStorage.setItem(\"todo\", JSON.stringify(todo));\n  };\n\n  const fillTodo = e =&gt; {\n    e.preventDefault();\n\n        setTodo(prevTodo =&gt; [\n            ...prevTodo,\n            {\n              text: text\n            }\n        ]); \n    //localStorage.removeItem('todo');\n    console.log(todo);\n    saveTodo(todo);\n  };\n\n  return (\n    &lt;div className=\"box\"&gt;\n      &lt;div className=\"title row\"&gt;To-Do List&lt;/div&gt;\n      &lt;div className=\"list\"&gt;\n        {todo.map((todoItem, index) =&gt; (\n          &lt;div className=\"row\" key={index}&gt;\n            &lt;input type=\"checkbox\" data-index={index} /&gt;\n            &lt;p&gt;{todoItem.text}&lt;/p&gt;\n          &lt;/div&gt;\n        ))}\n      &lt;/div&gt;\n      &lt;form className=\"title row\" onSubmit={fillTodo}&gt;\n        &lt;input\n          id=\"todo-input\"\n          type=\"text\"\n          value={text}\n          placeholder=\"New Todo\"\n          onChange={updateText}\n        /&gt;\n        &lt;button className=\"todo-submit\"&gt;+ Todo&lt;/button&gt;\n      &lt;/form&gt;\n    &lt;/div&gt;\n  );\n};\n\nexport default Todo;\n\n</code></pre>\n"}, {"tags": ["javascript", "async-await"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568234773, "post_id": 57896499, "comment_id": 102214275, "body": "@JonasWilms that&#39;s why I deleted my comment."}], "answers": [{"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 2, "last_activity_date": 1568234407, "creation_date": 1568234407, "answer_id": 57896522, "question_id": 57896499, "link": "https://stackoverflow.com/questions/57896499/whats-the-difference-between-using-await-keyword-versus-omitting-it-in-an-async/57896522#57896522", "title": "What&#39;s the difference between using await keyword versus omitting it in an async function?", "body": "<p>It just doesn't <code>await</code> the result then. It will just <em>fire &amp; forget</em> the asynchronous task. Thats not what you want in most cases, as code runs <em>out of order</em> and <em>errors aren't handled</em>.</p>\n\n<pre><code> await writeFile(); // If an error occurs in writeFile, the promise returned by this function will reject too\n await writeFile(); // this will definetly run after the previous call completed.\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 3, "creation_date": 1568234620, "post_id": 57896549, "comment_id": 102214219, "body": "&quot;stops main thread execution&quot; ... *of the enclosing <code>async function</code> only ... Also its questionable wether there is a &quot;main thread&quot; in JS"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 4, "creation_date": 1568234720, "post_id": 57896549, "comment_id": 102214254, "body": "It doesn&#39;t actually stop the thread, but it makes it seem like it does, since the code after <code>await</code> doesn&#39;t run until the function completes. That&#39;s the point of async/await, it provides this illusion of sequentiality."}, {"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568234809, "post_id": 57896549, "comment_id": 102214281, "body": "@JonasWilms Can&#39;t help but derail a little bit, but what makes you say that there is no main thread? JS is single threaded"}, {"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1568234839, "post_id": 57896549, "comment_id": 102214287, "body": "@Barmar <code>async</code> functions are fundamentally different entities <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1568234874, "post_id": 57896549, "comment_id": 102214297, "body": "@Andrew I know that, but it simplifies coding because you can ignore the difference to a limited extent."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1568234942, "post_id": 57896549, "comment_id": 102214326, "body": "@Andrew no, JS has an <i>observably synchronous execution model</i>. There are no threads in JS. (There are agents (commonly known as WebWorkers / processes in NodeJS) though)"}, {"owner": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568235099, "post_id": 57896549, "comment_id": 102214377, "body": "@JonasWilms Can you share some type of reference material for this? I am now curious"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 0, "creation_date": 1568235239, "post_id": 57896549, "comment_id": 102214435, "body": "@Andrew ES262 spec, somewhere in the first part (search for &quot;Agent&quot;)"}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "reply_to_user": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 1, "creation_date": 1568235271, "post_id": 57896549, "comment_id": 102214450, "body": "@Andrew <code>await</code> doesn&#39;t &quot;pause&quot; the execution - it works a lot more like <code>yield</code> - it will save the function state, and when the promise that is <code>await</code>-ed resolves, restores the function and continues execution after the keyword."}, {"owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "edited": false, "score": 0, "creation_date": 1568235305, "post_id": 57896549, "comment_id": 102214464, "body": "JavaScript is single threaded. At least in browser. By main thread I meant thread of the async function in which await is used. And in reality it just freezes this execution and returns back to it when await gets returned."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1568235378, "post_id": 57896549, "comment_id": 102214498, "body": "@vlaz it does pause <i>the functions</i> execution. Thats what the spec says."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568235545, "post_id": 57896549, "comment_id": 102214552, "body": "@AlexVovchuk no, JS is not single threaded. It can, and does have multiple execution threads (e.g. WebWorkers). The term &quot;Main thread&quot; is coined differently. &quot;it freezes the execution&quot; yes, of the function, not of the thread"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 5819, "user_id": 4385889, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/V0hjo.png?s=128&g=1", "display_name": "Andrew", "link": "https://stackoverflow.com/users/4385889/andrew"}, "edited": false, "score": 1, "creation_date": 1568235668, "post_id": 57896549, "comment_id": 102214591, "body": "In case someonne wants to read the <a href=\"https://www.ecma-international.org/ecma-262/10.0/index.html#sec-agents\" rel=\"nofollow noreferrer\">relevant spec</a> (e.g. @Andrew)"}, {"owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568235891, "post_id": 57896549, "comment_id": 102214660, "body": "@JonasWilms therefore I&#39;ve written &#39;At least in browser&#39;, because WebWorkers generate new thread beyond the browser window. Aside of WebWorkers we have only one thread for JS and just jump between asynchronous operations. And freeze in function - is stopping execution of code in it and proceeding in code above."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568263745, "post_id": 57896549, "comment_id": 102220435, "body": "@JonasWilms indeed. I wasn&#39;t clear there - there was the notion that it paused the <i>thread</i> which is not what happens. Indeed, it pauses the function execution. So, <code>await</code> doesn&#39;t sit and wait halting everything else."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1568263962, "post_id": 57896549, "comment_id": 102220495, "body": "@AlexVovchuk again that&#39;s not quite correct. The &quot;JavaScript is single threaded&quot; is an oversimplification that does more harm than good in the long run. Even without WebWorkers code from different pages in the browser would run on different threads. Well, depends on the browser and it depends on the number of tabs, etc., as a browser might lump few tabs on one thread and not keep a thread per tab. Still, not <i>all</i> JS executes on the same thread. Indeed, the browser might also be running JS internally and it would be a separate thread, too."}, {"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1568264136, "post_id": 57896549, "comment_id": 102220521, "body": "@AlexVovchuk if we generalise &quot;JavaScript&quot; has no concept of threads - it&#39;s a language that you write instructions for the computer in. It&#39;s the environment that decides how to run these. So, a more accurate statement is that <i>your code</i> will run on one thread - the main UI one, yet there are exceptions to that, too."}], "tags": [], "owner": {"reputation": 1518, "user_id": 10816461, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-6XNsrfhxp_c/AAAAAAAAAAI/AAAAAAAAAAA/AGDgw-hhVp73I4eIN1MbnU6G4TmjkKpozA/mo/photo.jpg?sz=128", "display_name": "Alex Vovchuk", "link": "https://stackoverflow.com/users/10816461/alex-vovchuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1568234539, "creation_date": 1568234539, "answer_id": 57896549, "question_id": 57896499, "link": "https://stackoverflow.com/questions/57896499/whats-the-difference-between-using-await-keyword-versus-omitting-it-in-an-async/57896549#57896549", "title": "What&#39;s the difference between using await keyword versus omitting it in an async function?", "body": "<p><code>await</code> is required in this case if you are using result value OR if you have to wait until function under <code>await</code> being executed.</p>\n\n<p><code>await</code> stops main thread execution till function under <code>await</code> returns.</p>\n"}, {"comments": [{"owner": {"reputation": 35, "user_id": 2726454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c692c0a6e5285b511104fdbf590fffc9?s=128&d=identicon&r=PG&f=1", "display_name": "user2263572", "link": "https://stackoverflow.com/users/2726454/user2263572"}, "edited": false, "score": 0, "creation_date": 1577326161, "post_id": 57898553, "comment_id": 105142487, "body": "Fantastic answer."}], "tags": [], "owner": {"reputation": 72435, "user_id": 119549, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/3KYsB.jpg?s=128&g=1", "display_name": "Jacob", "link": "https://stackoverflow.com/users/119549/jacob"}, "is_accepted": true, "score": 1, "last_activity_date": 1568252424, "last_edit_date": 1568252424, "creation_date": 1568251135, "answer_id": 57898553, "question_id": 57896499, "link": "https://stackoverflow.com/questions/57896499/whats-the-difference-between-using-await-keyword-versus-omitting-it-in-an-async/57898553#57898553", "title": "What&#39;s the difference between using await keyword versus omitting it in an async function?", "body": "<p>In this sample code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>writeFile('a.txt', 'foo');\nawait writeFile('a.txt', 'bar');\nconst content = await readFile('a.txt', 'utf8');\nconsole.log(content);\n</code></pre>\n\n<p>The first <code>writeFile</code> may complete at any time since it's not being awaited. It doesn't matter if you're waiting for <code>bar</code> to be written; that just means your read completes after the second write. The first write may complete after that still. That's why <code>readFile</code> could be either <code>foo</code> or <code>bar</code>.</p>\n\n<p>Maybe it'd help to visualize by showing the equivalent code not expressed as an async function:</p>\n\n<pre><code>function doTheThing() {\n  writeFile('a.txt', 'foo');\n  return writeFile('a.txt', 'bar')\n    .then(() =&gt; {\n      // This happened after writing 'bar', but 'foo' may/may not have finished\n      return readFile('a.txt', 'utf8');\n    })\n    .then(content =&gt; {\n      console.log(content);\n    });\n}\n</code></pre>\n\n<p>This is a so-called race-condition. Think of parallel running tracks:</p>\n\n<pre><code>                  File state\n\nwriteFile 'foo'               writeFile 'bar'\n      |--- A --&gt;                    |\n      |              bar &lt;----------|\n      |--- B --&gt;                    v\n      |--- C --&gt;                readFile\n      |                             |\n      |               ?  ----------&gt;|\n      |                             v\n      |                       console.log()\n      |--- D --&gt;\n</code></pre>\n\n<p>Because we're not waiting for that first write, it may complete at points A, B, C, D, or never (if it fails or takes forever).</p>\n\n<ul>\n<li>If it completes at point A, then 'bar' will overwrite 'foo'</li>\n<li>If it completes at point B, then 'foo' will overwrite 'bar'</li>\n<li>If it completes in the middle of the read at point C, you may even read a partial write!</li>\n</ul>\n\n<p>The only way to guarantee a write order is to <code>await</code> to keep them in order:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>await writeFile('a.txt', 'foo');\nawait writeFile('a.txt', 'bar');\nconst content = await readFile('a.txt', 'utf8');\nconsole.log(content); // Always 'bar'\n</code></pre>\n\n<p>For this block of code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>writeFile('a.txt', 'foo');\n[...Array(40000).fill('hello')].join('\\n')\nwriteFile('a.txt', 'b');\nconst content = await readFile('a.txt', 'utf8');\nconsole.log(content);\n</code></pre>\n\n<p>...you are correct that since you are not awaiting <code>writeFile</code> in any case, <code>readFile</code> may be reading the file in the middle of it being written.</p>\n"}], "owner": {"reputation": 35, "user_id": 2726454, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c692c0a6e5285b511104fdbf590fffc9?s=128&d=identicon&r=PG&f=1", "display_name": "user2263572", "link": "https://stackoverflow.com/users/2726454/user2263572"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 79, "favorite_count": 1, "accepted_answer_id": 57898553, "answer_count": 3, "score": 0, "last_activity_date": 1568252424, "creation_date": 1568234282, "last_edit_date": 1568249418, "question_id": 57896499, "link": "https://stackoverflow.com/questions/57896499/whats-the-difference-between-using-await-keyword-versus-omitting-it-in-an-async", "title": "What&#39;s the difference between using await keyword versus omitting it in an async function?", "body": "<p>How is using <code>await</code> keyword is different than omitting it when you don't capture the return value of the <code>await</code> call?</p>\n\n<p>For example, are there any differences in the way these 4 files are created? because if I run this, all 4 of them are created, so I wonder.</p>\n\n<pre><code>const fs = require('fs');\nconst { promisify } = require('util');\nconst writeFile = promisify(fs.writeFile);\n\n(async function () {\n    await writeFile('a.txt', 'aaa');\n    await writeFile('b.txt', 'bbb');\n    writeFile('c.txt', 'ccc');\n    writeFile('d.txt', 'ddd');\n})()\n</code></pre>\n\n<h1>Update:</h1>\n\n<p><strong>I tried some tests and it looks like it behaves as answered, but in the end, things got weird.</strong></p>\n\n<p>So if you run the following,</p>\n\n<pre><code>writeFile('a.txt', 'foo');\nwriteFile('a.txt', 'bar');\nconst content = await readFile('a.txt', 'utf8');\nconsole.log(content);\n</code></pre>\n\n<p>output is sometimes <code>foo</code> and sometimes <code>bar</code>, which seems like both <code>writeFile</code> calls are fired at the same time and who finishes last depends on luck.</p>\n\n<p>so I changed it to:</p>\n\n<pre><code>writeFile('a.txt', 'foo');\nawait writeFile('a.txt', 'bar');\nconst content = await readFile('a.txt', 'utf8');\nconsole.log(content);\n</code></pre>\n\n<p>and I thought (based on the answers) that this would always output <code>bar</code>, but output again is sometimes <code>foo</code> and sometimes <code>bar</code>.<br>\nI'm not sure I understand, because I thought I awaited the call that writes <code>bar</code>, so the only explanation would be that the first <code>writeFile</code> call somehow gets its turn after the awaited call.<br></p>\n\n<p>then I tied to put a delay between the calls:</p>\n\n<pre><code>writeFile('a.txt', 'foo');\n[...Array(400000).fill('hello')].join('\\n')\nwriteFile('a.txt', 'bar');\nconst content = await readFile('a.txt', 'utf8');\nconsole.log(content);\n</code></pre>\n\n<p>and this time it always outputs <code>bar</code>.</p>\n\n<p>then something weird happened.<br>\nif you run the following:</p>\n\n<pre><code>writeFile('a.txt', 'foo');\n[...Array(40000).fill('hello')].join('\\n')\nwriteFile('a.txt', 'b');\nconst content = await readFile('a.txt', 'utf8');\nconsole.log(content);\n</code></pre>\n\n<p>the output is <code>boo</code>, which the only explanation I can think of is that the first <code>writeFile</code> writes <code>foo</code> to the file, then second <code>writeFile</code> starts to write to the file but before it's finished doing it, the awaited <code>readFile</code> reads the file. (LOL)</p>\n"}, {"tags": ["javascript", "c#", "angular", "typescript", "asp.net-core"], "answers": [{"comments": [{"owner": {"reputation": 146, "user_id": 3841552, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/53c2739fe3118ecc402479d19fd2a2fb?s=128&d=identicon&r=PG&f=1", "display_name": "makertoo", "link": "https://stackoverflow.com/users/3841552/makertoo"}, "edited": false, "score": 0, "creation_date": 1568323069, "post_id": 57901187, "comment_id": 102248043, "body": "Thank you very much ! That was it. But why UseSpa should bet at the end ?"}, {"owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "reply_to_user": {"reputation": 146, "user_id": 3841552, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/53c2739fe3118ecc402479d19fd2a2fb?s=128&d=identicon&r=PG&f=1", "display_name": "makertoo", "link": "https://stackoverflow.com/users/3841552/makertoo"}, "edited": false, "score": 1, "creation_date": 1568342422, "post_id": 57901187, "comment_id": 102251749, "body": "because your spa have to be default fallback. If you put your health check route at the end .net core will think that route is angular route"}], "tags": [], "owner": {"reputation": 14359, "user_id": 11487196, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b4493b1f4bc88550d52d4556bc74c096?s=128&d=identicon&r=PG&f=1", "display_name": "Tony Ngo", "link": "https://stackoverflow.com/users/11487196/tony-ngo"}, "is_accepted": true, "score": 3, "last_activity_date": 1568271114, "creation_date": 1568271114, "answer_id": 57901187, "question_id": 57896492, "link": "https://stackoverflow.com/questions/57896492/healtcheck-url-not-working-cannot-match-any-routes/57901187#57901187", "title": "Healtcheck url not working: Cannot match any routes", "body": "<p>Your pipeline order is not correct it should be like this</p>\n\n<pre><code>        app.UseHealthChecks(\"/healthcheck\");\n\n        app.UseSpa(spa =&gt;\n        {\n            // To learn more about options for serving an Angular SPA from ASP.NET Core,\n            // see https://go.microsoft.com/fwlink/?linkid=864501\n\n            spa.Options.SourcePath = \"ClientApp\";\n\n            if (env.IsDevelopment())\n            {\n                spa.UseAngularCliServer(npmScript: \"start\");\n            }\n        });\n</code></pre>\n"}], "owner": {"reputation": 146, "user_id": 3841552, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/53c2739fe3118ecc402479d19fd2a2fb?s=128&d=identicon&r=PG&f=1", "display_name": "makertoo", "link": "https://stackoverflow.com/users/3841552/makertoo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 552, "favorite_count": 1, "accepted_answer_id": 57901187, "answer_count": 1, "score": 2, "last_activity_date": 1568271114, "creation_date": 1568234242, "last_edit_date": 1568271089, "question_id": 57896492, "link": "https://stackoverflow.com/questions/57896492/healtcheck-url-not-working-cannot-match-any-routes", "title": "Healtcheck url not working: Cannot match any routes", "body": "<p>I am working on a .net Core 2.2/Angular 8 application.\nI've heard about the HealthCheck and I wanted to implement it in my application.\n Here is my Startup.cs:</p>\n\n<pre><code>    using HealthChecks.UI.Client;\n    using Microsoft.AspNetCore.Builder;\n    using Microsoft.AspNetCore.Diagnostics.HealthChecks;\n    using Microsoft.AspNetCore.Hosting;\n    using Microsoft.AspNetCore.Http.Features;\n    using Microsoft.AspNetCore.Mvc;\n    using Microsoft.AspNetCore.SpaServices.AngularCli;\n    using Microsoft.Extensions.Configuration;\n    using Microsoft.Extensions.DependencyInjection;\n\n    namespace OnlineXmlTools\n    {\n        public class Startup\n        {\n            public Startup(IConfiguration configuration)\n            {\n                Configuration = configuration;\n    }\n\n    public IConfiguration Configuration { get; }\n\n    // This method gets called by the runtime. Use this method to add services to the container.\n    public void ConfigureServices(IServiceCollection services)\n    {\n\n        services.AddSwaggerDocument();\n        services.AddSession();\n        services.AddMvc().SetCompatibilityVersion(CompatibilityVersion.Version_2_1);\n\n        services.Configure&lt;FormOptions&gt;(x =&gt;\n        {\n            x.ValueLengthLimit = int.MaxValue;\n            x.MultipartBodyLengthLimit = int.MaxValue; // In case of multipart\n        });\n        // In production, the Angular files will be served from this directory\n        services.AddSpaStaticFiles(configuration =&gt;\n        {\n            configuration.RootPath = \"ClientApp/dist\";\n        });\n        services.AddHttpContextAccessor();\n\n        services.AddAntiforgery(options =&gt;\n        {\n            // Set Cookie properties using CookieBuilder properties\u2020.\n            options.FormFieldName = \"AntiforgeryFieldname\";\n            options.HeaderName = \"X-CSRF-TOKEN-HEADERNAME\";\n            options.SuppressXFrameOptionsHeader = false;\n        });\n        services.AddHealthChecks();\n    }\n\n    // This method gets called by the runtime. Use this method to configure the HTTP request pipeline.\n    public void Configure(IApplicationBuilder app, IHostingEnvironment env)\n    {\n        // Register the Swagger generator and the Swagger UI middlewares\n        app.UseOpenApi();\n        app.UseSwaggerUi3();\n        if (env.IsDevelopment())\n        {\n            app.UseDeveloperExceptionPage();\n        }\n        else\n        {\n            app.UseExceptionHandler(\"/Error\");\n            app.UseHsts();\n        }\n\n        app.UseHttpsRedirection();\n        app.UseStaticFiles();\n        app.UseSpaStaticFiles();\n\n        app.UseSession();\n        app.UseMvc(routes =&gt;\n        {\n            routes.MapRoute(\n                name: \"default\",\n                template: \"{controller}/{action=Index}/{id?}\");\n        });\n\n        app.UseSpa(spa =&gt;\n        {\n            // To learn more about options for serving an Angular SPA from ASP.NET Core,\n            // see https://go.microsoft.com/fwlink/?linkid=864501\n\n            spa.Options.SourcePath = \"ClientApp\";\n\n            if (env.IsDevelopment())\n            {\n                spa.UseAngularCliServer(npmScript: \"start\");\n            }\n        });\n        app.UseHealthChecks(\"/healthcheck\", new HealthCheckOptions\n        {\n            Predicate = _ =&gt; true,\n            ResponseWriter = UIResponseWriter.WriteHealthCheckUIResponse\n        });\n    }\n}\n</code></pre>\n\n<p>}</p>\n\n<p>When I start my application (<a href=\"https://localhost:44328/\" rel=\"nofollow noreferrer\">https://localhost:44328/</a>), I try to reach the healthcheck URL as described in the middleware:\n        <a href=\"https://localhost:44328/healthcheck\" rel=\"nofollow noreferrer\">https://localhost:44328/healthcheck</a>\nIt is supposed to show information.\nInstead, I have this error:\n        ERROR Error: Uncaught (in promise): Error: Cannot match any routes. URL Segment: 'healthcheck'</p>\n\n<p>Did I miss something ? \nThanks</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 17, "user_id": 10902846, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qF91kIknJSs/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaf2qQhZSVtBHf2SfEB8dMM2eg4HA/mo/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/10902846/john"}, "edited": false, "score": 0, "creation_date": 1568255414, "post_id": 57896483, "comment_id": 102218774, "body": "Thanks! Why would let be better?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 17, "user_id": 10902846, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qF91kIknJSs/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaf2qQhZSVtBHf2SfEB8dMM2eg4HA/mo/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/10902846/john"}, "edited": false, "score": 0, "creation_date": 1568265185, "post_id": 57896483, "comment_id": 102220771, "body": "Cause it has stricter scoping rules (and is therefore easier to reason about)"}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": true, "score": 1, "last_activity_date": 1568234173, "creation_date": 1568234173, "answer_id": 57896483, "question_id": 57896464, "link": "https://stackoverflow.com/questions/57896464/pushing-objects-into-array/57896483#57896483", "title": "Pushing Objects Into Array", "body": "<p>You create just one object with <code>var obj = {};</code>, then you modify that one object in the \"loop\" and add references to that object to the array.</p>\n\n<p>Create a new <code>var obj = {}</code> inside of each loop iteration (inside the <code>.each</code> callback).</p>\n\n<p><sub>As a sidenote, <code>let profesor = {};</code> would be much better ...</sub></p>\n"}], "owner": {"reputation": 17, "user_id": 10902846, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-qF91kIknJSs/AAAAAAAAAAI/AAAAAAAAAAA/AKxrwcaf2qQhZSVtBHf2SfEB8dMM2eg4HA/mo/photo.jpg?sz=128", "display_name": "John", "link": "https://stackoverflow.com/users/10902846/john"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 57896483, "answer_count": 1, "score": 0, "last_activity_date": 1568234173, "creation_date": 1568234062, "question_id": 57896464, "link": "https://stackoverflow.com/questions/57896464/pushing-objects-into-array", "title": "Pushing Objects Into Array", "body": "<p>I am trying to push objects into an array using an each loop, while the amount of objects is right in the end the data in the object is repeated with the last entry.</p>\n\n<p>When I log the object inside the loop it is giving me two sets of data, the first one is correct, the second one is the last set of data for the loop.</p>\n\n<p>I have tried logging the data to the console but it is giving me really weird values.</p>\n\n<pre><code>$.getJSON(url, function(data) {\n\n  var entry = data.feed.entry;\n\n\n     var nietos = [];\n     var obj = {};\n\n\n\n  $(entry).each(function(){\n\n   var title = String(this.gsx$title.$t); \n   var lastName = String(this.gsx$lastname.$t);  \n   var firstName = String(this.gsx$firstname.$t);        \n   var email = String(this.gsx$email.$t);\n   var department = String(this.gsx$department.$t);      \n\n      console.log(lastName);\n\n\n      obj[\"title\"] = title;\n      obj[\"lastName\"] = lastName;\n      obj[\"firstName\"] = firstName;\n      obj[\"email\"] = lastName;\n      obj[\"department\"] = department;\n\n      //console.log(obj);\n      /*\n      (index):345 {title: \"Cook II\", lastName: \"Woon\", firstName: \"Ra\", email: \"Wson\", \n      department: \"LR\"}department: \"WL Span\"email: \"Zuniga\"firsame: \"Lea\"lastName: \"Zga\"title: \"Regular Teer\"__proto__: Object*/\n\n\n      //nietos.push(obj);\n</code></pre>\n\n<p>});</p>\n\n<p>//console.log(nietos);</p>\n\n<pre><code>//97: {title: \"Regular Teacher\", lastName: \"Zga\", firstName: \"Leticia\", email: \"Zuga\", department: \"WL S\"}\n</code></pre>\n\n<p>});</p>\n\n<p>Expected:</p>\n\n<pre><code>{title: \"Teacher\", lastName: \"Teacher1\", firstName: \"Teachername\", email: \"email1@gmail.com\",},\n{title: \"Teacher2\", lastName: \"Teacher2\", firstName: \"Teachername2\", email: \"email2@gmail.com\",},,\n{title: \"Teacher3\", lastName: \"Teacher3\", firstName: \"Teachername3\", email: \"email3@gmail.com\",},  \n</code></pre>\n\n<p>Actual output:</p>\n\n<pre><code>{title: \"Teacher3\", lastName: \"Teacher3\", firstName: \"Teachername3\", email: \"email3@gmail.com\",},  \n{title: \"Teacher3\", lastName: \"Teacher3\", firstName: \"Teachername3\", email: \"email3@gmail.com\",},  \n{title: \"Teacher3\", lastName: \"Teacher3\", firstName: \"Teachername3\", email: \"email3@gmail.com\",},\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 3, "creation_date": 1568234029, "post_id": 57896416, "comment_id": 102214003, "body": "I suspect a timezone or daylight saving time issue, since it&#39;s off by 1 hour."}, {"owner": {"reputation": 3886, "user_id": 4579271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmVRK.jpg?s=128&g=1", "display_name": "sunknudsen", "link": "https://stackoverflow.com/users/4579271/sunknudsen"}, "edited": false, "score": 0, "creation_date": 1568234212, "post_id": 57896416, "comment_id": 102214055, "body": "What time do you get here? <a href=\"https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_tolocaletimestring\" rel=\"nofollow noreferrer\">w3schools.com/jsref/&hellip;</a>"}, {"owner": {"reputation": 11079, "user_id": 423316, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/258a1b2413690b20d938fe0cfeeac9c0?s=128&d=identicon&r=PG", "display_name": "zod", "link": "https://stackoverflow.com/users/423316/zod"}, "edited": false, "score": 0, "creation_date": 1568234412, "post_id": 57896416, "comment_id": 102214120, "body": "may be you have to use  some other identifier  <a href=\"http://www.i18nguy.com/unicode/language-identifiers.html\" rel=\"nofollow noreferrer\">i18nguy.com/unicode/language-identifiers.html</a>"}, {"owner": {"reputation": 996, "user_id": 5266767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/852b19120d60f4852964889f5a6dc01e?s=128&d=identicon&r=PG&f=1", "display_name": "d9ngle", "link": "https://stackoverflow.com/users/5266767/d9ngle"}, "reply_to_user": {"reputation": 3886, "user_id": 4579271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmVRK.jpg?s=128&g=1", "display_name": "sunknudsen", "link": "https://stackoverflow.com/users/4579271/sunknudsen"}, "edited": false, "score": 0, "creation_date": 1568262204, "post_id": 57896416, "comment_id": 102220068, "body": "@sunknudsen same as above, one hour earlier than system&#39;s."}], "owner": {"reputation": 996, "user_id": 5266767, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/852b19120d60f4852964889f5a6dc01e?s=128&d=identicon&r=PG&f=1", "display_name": "d9ngle", "link": "https://stackoverflow.com/users/5266767/d9ngle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568371519, "creation_date": 1568233853, "last_edit_date": 1568371519, "question_id": 57896416, "link": "https://stackoverflow.com/questions/57896416/mismatch-between-systems-time-and-date-tolocaletimestring", "title": "Mismatch between system&#39;s time and date.toLocaleTimeString", "body": "<p><strong>UPDATE:</strong> The issue existed on Android Chrome 58. Upgrading Chrome resolved it. I'd still like to know what was causing this issue.</p>\n\n<p>I'm browsing this <a href=\"http://www.localeplanet.com/support/browser.html\" rel=\"nofollow noreferrer\">link</a> on my Android phone and it shows:</p>\n\n<pre><code>date: ... 00:55:23\ndate.toLocaleTimeString(): 11:55:23 PM \n</code></pre>\n\n<p>My locale is <code>de_DE</code> and correct time showing at the top of my phone is indeed <code>00:55</code>.</p>\n\n<p>How is this possible? Isn't <code>00:55</code> just <code>12:55</code> ?</p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 4326, "user_id": 3281014, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIpXo.jpg?s=128&g=1", "display_name": "Nawed Khan", "link": "https://stackoverflow.com/users/3281014/nawed-khan"}, "edited": false, "score": 1, "creation_date": 1568238481, "post_id": 57896409, "comment_id": 102215395, "body": "The provided code has nothing to do with cookies. As a matter of fact the height of both is 18 under default browser. You must have css and other code that is changing things. You sure this is all the corresponding code?"}], "answers": [{"comments": [{"owner": {"reputation": 801, "user_id": 2162712, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8534d9b68ead3e037d9069898b6b8ee3?s=128&d=identicon&r=PG", "display_name": "CRAIG", "link": "https://stackoverflow.com/users/2162712/craig"}, "edited": false, "score": 1, "creation_date": 1568255343, "post_id": 57898957, "comment_id": 102218765, "body": "Yeah I think you are probably right.  I am going to have to rework some of the other code to do this, but that seems to be what I have to do.  Let me try to work that out real quick."}, {"owner": {"reputation": 1938, "user_id": 9272040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYjVg.jpg?s=128&g=1", "display_name": "Udo E.", "link": "https://stackoverflow.com/users/9272040/udo-e"}, "reply_to_user": {"reputation": 801, "user_id": 2162712, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8534d9b68ead3e037d9069898b6b8ee3?s=128&d=identicon&r=PG", "display_name": "CRAIG", "link": "https://stackoverflow.com/users/2162712/craig"}, "edited": false, "score": 0, "creation_date": 1568255842, "post_id": 57898957, "comment_id": 102218852, "body": "this is just my opinion. Let me know if it works. thanks"}, {"owner": {"reputation": 801, "user_id": 2162712, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8534d9b68ead3e037d9069898b6b8ee3?s=128&d=identicon&r=PG", "display_name": "CRAIG", "link": "https://stackoverflow.com/users/2162712/craig"}, "edited": false, "score": 0, "creation_date": 1568257843, "post_id": 57898957, "comment_id": 102219167, "body": "Pretty sure you are right actually.  I thought that might be it, but it just didn&#39;t make sense.  Still baffled why the refresh makes a difference.  Doing some final testing and I will upvote."}, {"owner": {"reputation": 801, "user_id": 2162712, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8534d9b68ead3e037d9069898b6b8ee3?s=128&d=identicon&r=PG", "display_name": "CRAIG", "link": "https://stackoverflow.com/users/2162712/craig"}, "edited": false, "score": 0, "creation_date": 1568267855, "post_id": 57898957, "comment_id": 102221609, "body": "yeah that seems to be it.  Thanks much!"}], "tags": [], "owner": {"reputation": 1938, "user_id": 9272040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rYjVg.jpg?s=128&g=1", "display_name": "Udo E.", "link": "https://stackoverflow.com/users/9272040/udo-e"}, "is_accepted": true, "score": 1, "last_activity_date": 1568269606, "last_edit_date": 1568269606, "creation_date": 1568255225, "answer_id": 57898957, "question_id": 57896409, "link": "https://stackoverflow.com/questions/57896409/reported-height-of-div-is-changing-upon-refresh-with-javascript-jquery/57898957#57898957", "title": "Reported height of DIV is changing upon refresh with Javascript/Jquery", "body": "<p>Try using <code>$(window).on('load')</code> instead of <code>$(document).ready()</code> when you need to read UI component values. That way, you ensure the entire window UI is fully loaded (not only ready) before reading the component value. </p>\n\n<p>I think the final value of 62 is the actual height after the window is fully loaded. 94 is height just immediately after the DOM is ready. The discrepancies may be as a result of interaction with other UI components before a full load of the page.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;body&gt;\r\n&lt;div id=\"outer-box\"&gt;\r\n    &lt;table id=\"text-preview\"&gt;\r\n        &lt;tr&gt;\r\n            &lt;td&gt;\r\n                TESTING THIS.\r\n            &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n    &lt;/table&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;script src=\"https://code.jquery.com/jquery-3.4.1.js\"\r\n  integrity=\"sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=\"\r\n  crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n\r\n&lt;script&gt;\r\n    $(window).on('load', function() {\r\n        var element = document.getElementById('text-preview');\r\n        var positionInfo = element.getBoundingClientRect();\r\n    \r\n        var outerelement = document.getElementById('outer-box');\r\n        var outerpositionInfo = outerelement.getBoundingClientRect();\r\n        var outerheight = outerpositionInfo.height;\r\n        var textpreviewheight = positionInfo.height;\r\n        console.log(textpreviewheight);\r\n    });\r\n&lt;/script&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 801, "user_id": 2162712, "user_type": "registered", "accept_rate": 72, "profile_image": "https://www.gravatar.com/avatar/8534d9b68ead3e037d9069898b6b8ee3?s=128&d=identicon&r=PG", "display_name": "CRAIG", "link": "https://stackoverflow.com/users/2162712/craig"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 166, "favorite_count": 0, "accepted_answer_id": 57898957, "answer_count": 1, "score": 2, "last_activity_date": 1568272698, "creation_date": 1568233826, "last_edit_date": 1568272698, "question_id": 57896409, "link": "https://stackoverflow.com/questions/57896409/reported-height-of-div-is-changing-upon-refresh-with-javascript-jquery", "title": "Reported height of DIV is changing upon refresh with Javascript/Jquery", "body": "<p>I have a bit of Javascript calculating the position of a certain DIV.  This JS is within some other JS and jQuery within a document.ready.</p>\n\n<p>Here is the HTML.</p>\n\n<pre><code>&lt;div id=\"outer-box\"&gt;\n    &lt;table id=\"text-preview\"&gt;\n        &lt;tr&gt;\n            &lt;td&gt;\n                TESTING THIS.\n            &lt;/td&gt;\n        &lt;/tr&gt;\n    &lt;/table&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Here is the javascript:</p>\n\n<pre><code>var element = document.getElementById('text-preview');\nvar positionInfo = element.getBoundingClientRect();\n\nvar outerelement = document.getElementById('outer-box');\nvar outerpositionInfo = outerelement.getBoundingClientRect();\nvar outerheight = outerpositionInfo.height;\nvar textpreviewheight = positionInfo.height;\n</code></pre>\n\n<p>What I am finding is, on first load, the var textpreviewheight is 94.</p>\n\n<p>When I refresh the page it is 62.</p>\n\n<p>If I clear cookies it goes back to 94.</p>\n\n<p>The ACTUAL height is 62.</p>\n\n<p>Maybe I am just not fully understanding how cookies work with JS, but is there something specific I should be looking for in this case?  </p>\n"}, {"tags": ["javascript", "json", "api"], "answers": [{"comments": [{"owner": {"reputation": 13, "user_id": 12055097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD90GYBBA60I4yrQGkCeussUxKVohBGmYgmwhHSLS8=k-s128", "display_name": "Josja Fluitsma", "link": "https://stackoverflow.com/users/12055097/josja-fluitsma"}, "edited": false, "score": 0, "creation_date": 1568280174, "post_id": 57896682, "comment_id": 102227206, "body": "Thank you very much for you answer. I&#39;ve tried a couple of variations of your idea and unfortunately it is still crashing when 0 products are active (when &gt;0, it runs perfectly fine)."}, {"owner": {"reputation": 159, "user_id": 6248239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GP_1FtguPH0/AAAAAAAAAAI/AAAAAAAAAC4/_IejoLbs3gw/photo.jpg?sz=128", "display_name": "Grazina", "link": "https://stackoverflow.com/users/6248239/grazina"}, "reply_to_user": {"reputation": 13, "user_id": 12055097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD90GYBBA60I4yrQGkCeussUxKVohBGmYgmwhHSLS8=k-s128", "display_name": "Josja Fluitsma", "link": "https://stackoverflow.com/users/12055097/josja-fluitsma"}, "edited": false, "score": 0, "creation_date": 1568280996, "post_id": 57896682, "comment_id": 102227680, "body": "Please update your question with what you&#39;ve tried after reading my answer"}, {"owner": {"reputation": 159, "user_id": 6248239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GP_1FtguPH0/AAAAAAAAAAI/AAAAAAAAAC4/_IejoLbs3gw/photo.jpg?sz=128", "display_name": "Grazina", "link": "https://stackoverflow.com/users/6248239/grazina"}, "reply_to_user": {"reputation": 13, "user_id": 12055097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD90GYBBA60I4yrQGkCeussUxKVohBGmYgmwhHSLS8=k-s128", "display_name": "Josja Fluitsma", "link": "https://stackoverflow.com/users/12055097/josja-fluitsma"}, "edited": false, "score": 0, "creation_date": 1568281563, "post_id": 57896682, "comment_id": 102227993, "body": "I&#39;ve update my answer with a working example, hope it helps :-)"}, {"owner": {"reputation": 13, "user_id": 12055097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD90GYBBA60I4yrQGkCeussUxKVohBGmYgmwhHSLS8=k-s128", "display_name": "Josja Fluitsma", "link": "https://stackoverflow.com/users/12055097/josja-fluitsma"}, "edited": false, "score": 0, "creation_date": 1568282333, "post_id": 57896682, "comment_id": 102228418, "body": "Hey Grazina, thank you so much for helping me out here, I&#39;ve updated my question to show what I&#39;ve tried so far. It still crashes only in the case of the error message."}, {"owner": {"reputation": 159, "user_id": 6248239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GP_1FtguPH0/AAAAAAAAAAI/AAAAAAAAAC4/_IejoLbs3gw/photo.jpg?sz=128", "display_name": "Grazina", "link": "https://stackoverflow.com/users/6248239/grazina"}, "reply_to_user": {"reputation": 13, "user_id": 12055097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD90GYBBA60I4yrQGkCeussUxKVohBGmYgmwhHSLS8=k-s128", "display_name": "Josja Fluitsma", "link": "https://stackoverflow.com/users/12055097/josja-fluitsma"}, "edited": false, "score": 0, "creation_date": 1568282782, "post_id": 57896682, "comment_id": 102228664, "body": "What error are you getting and where? You should declare <code>NumEditorsPick</code> outside the scope of the <b>if</b> to use it later"}, {"owner": {"reputation": 13, "user_id": 12055097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD90GYBBA60I4yrQGkCeussUxKVohBGmYgmwhHSLS8=k-s128", "display_name": "Josja Fluitsma", "link": "https://stackoverflow.com/users/12055097/josja-fluitsma"}, "edited": false, "score": 0, "creation_date": 1568283786, "post_id": 57896682, "comment_id": 102229282, "body": "Regrettably the only error I&#39;m getting when running the script in our automation studio is: <code>ERROR:  Error has occurred</code>. I&#39;ve declared the <code>NumEditorsPick</code> before and still getting an error..."}, {"owner": {"reputation": 159, "user_id": 6248239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GP_1FtguPH0/AAAAAAAAAAI/AAAAAAAAAC4/_IejoLbs3gw/photo.jpg?sz=128", "display_name": "Grazina", "link": "https://stackoverflow.com/users/6248239/grazina"}, "reply_to_user": {"reputation": 13, "user_id": 12055097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD90GYBBA60I4yrQGkCeussUxKVohBGmYgmwhHSLS8=k-s128", "display_name": "Josja Fluitsma", "link": "https://stackoverflow.com/users/12055097/josja-fluitsma"}, "edited": false, "score": 0, "creation_date": 1568284991, "post_id": 57896682, "comment_id": 102229881, "body": "Can you log <code>response[&quot;Content&quot;]</code> and  <code>responseObj</code> after you call the parse function?"}, {"owner": {"reputation": 13, "user_id": 12055097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD90GYBBA60I4yrQGkCeussUxKVohBGmYgmwhHSLS8=k-s128", "display_name": "Josja Fluitsma", "link": "https://stackoverflow.com/users/12055097/josja-fluitsma"}, "edited": false, "score": 0, "creation_date": 1568286574, "post_id": 57896682, "comment_id": 102230748, "body": "Unfortunately I don&#39;t know how I can log these objects as I&#39;m running the script inside an automation. I&#39;ve tried <code>console.log(response[&quot;Content&quot;]);</code> but this is not pulling through in the error log. Any ideas how I could log these objects and see what&#39;s going on?"}, {"owner": {"reputation": 159, "user_id": 6248239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GP_1FtguPH0/AAAAAAAAAAI/AAAAAAAAAC4/_IejoLbs3gw/photo.jpg?sz=128", "display_name": "Grazina", "link": "https://stackoverflow.com/users/6248239/grazina"}, "reply_to_user": {"reputation": 13, "user_id": 12055097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD90GYBBA60I4yrQGkCeussUxKVohBGmYgmwhHSLS8=k-s128", "display_name": "Josja Fluitsma", "link": "https://stackoverflow.com/users/12055097/josja-fluitsma"}, "edited": false, "score": 0, "creation_date": 1568288185, "post_id": 57896682, "comment_id": 102231596, "body": "Well you can try to put the URL in your browser (with the variable&#39;s values) and check what JSON it renders, assuming it only needs the <code>ClientID</code>for authorisation.  Another idea would be to use <a href=\"https://developer.mozilla.org/pt-PT/docs/Web/JavaScript/Reference/Extratos_e_declara%C3%A7%C3%B5es/try...catch\" rel=\"nofollow noreferrer\">Javascript&#39;s try...catch</a> and on the catch function set <code>NumEditorsPick = 0</code>"}, {"owner": {"reputation": 13, "user_id": 12055097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD90GYBBA60I4yrQGkCeussUxKVohBGmYgmwhHSLS8=k-s128", "display_name": "Josja Fluitsma", "link": "https://stackoverflow.com/users/12055097/josja-fluitsma"}, "edited": false, "score": 1, "creation_date": 1568292972, "post_id": 57896682, "comment_id": 102234287, "body": "I managed to run the script elsewhere and log the <code>response[&quot;Content&quot;]</code> and <code>reponseObj</code>. I&#39;m getting this: <code>{&quot;total&quot;:626,&quot;product_ids&quot;:[&quot;100734&quot;,&quot;100900&quot;,&quot;101309&quot;,&quot;1013&zwnj;&#8203;00&quot;,&quot;100979&quot;,&quot;101086&zwnj;&#8203;&quot;,&quot;100964&quot;,&quot;101175&quot;,&zwnj;&#8203;&quot;101043&quot;,&quot;101047&quot;]} System.Collections.Generic.Dictionary2[System.String,System.&zwnj;&#8203;Object]</code> Only when there are deals present. When it doesn&#39;t find any deals I&#39;m getting: <code>An exception occurred when attempting to retrieve content by a HttpGet call. URL: [...] The remote server returned an error: (404) Not Found.</code> It recognizes the error response and stops the script..."}, {"owner": {"reputation": 13, "user_id": 12055097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD90GYBBA60I4yrQGkCeussUxKVohBGmYgmwhHSLS8=k-s128", "display_name": "Josja Fluitsma", "link": "https://stackoverflow.com/users/12055097/josja-fluitsma"}, "edited": false, "score": 0, "creation_date": 1568307142, "post_id": 57896682, "comment_id": 102242072, "body": "It worked with the try/catch method! Thank you so much for this, it was really bugging me and this will help improving our processes a lot!"}, {"owner": {"reputation": 159, "user_id": 6248239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GP_1FtguPH0/AAAAAAAAAAI/AAAAAAAAAC4/_IejoLbs3gw/photo.jpg?sz=128", "display_name": "Grazina", "link": "https://stackoverflow.com/users/6248239/grazina"}, "reply_to_user": {"reputation": 13, "user_id": 12055097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD90GYBBA60I4yrQGkCeussUxKVohBGmYgmwhHSLS8=k-s128", "display_name": "Josja Fluitsma", "link": "https://stackoverflow.com/users/12055097/josja-fluitsma"}, "edited": false, "score": 0, "creation_date": 1568307703, "post_id": 57896682, "comment_id": 102242309, "body": "Glad I could help :-)"}], "tags": [], "owner": {"reputation": 159, "user_id": 6248239, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-GP_1FtguPH0/AAAAAAAAAAI/AAAAAAAAAC4/_IejoLbs3gw/photo.jpg?sz=128", "display_name": "Grazina", "link": "https://stackoverflow.com/users/6248239/grazina"}, "is_accepted": true, "score": 0, "last_activity_date": 1568298825, "last_edit_date": 1568298825, "creation_date": 1568235281, "answer_id": 57896682, "question_id": 57896391, "link": "https://stackoverflow.com/questions/57896391/how-to-do-a-json-api-call-with-error-response/57896682#57896682", "title": "How to do a JSON api call with error response?", "body": "<p>You can use Javascript's <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty\" rel=\"nofollow noreferrer\">hasOwnProperty()</a> to check if the parse JSON has the key you're looking for.</p>\n\n<p>In this case, I'd be something like:</p>\n\n<pre><code>var responseObj = Platform.Function.ParseJSON(response[\"Content\"]);\nif (responseObj.hasOwnProperty('error')){\n    // handle error msg\n}else{\n    // do something else\n}\n</code></pre>\n\n<p><a href=\"https://jsfiddle.net/Graz21/xzk0h8Lu/3/\" rel=\"nofollow noreferrer\">Here's a simple example</a> using the JSON input you've provided.</p>\n\n<hr>\n\n<h1>Update</h1>\n\n<p>Ok, so my initial answer was based on what you said here:</p>\n\n<blockquote>\n  <p>My script is working fine when products are present but when none of\n  the products are active the response will be:</p>\n  \n  <p><code>{\"error\":\"No products found, please check request settings\"}</code></p>\n</blockquote>\n\n<p>But the service you're calling does not return a JSON string containing the error. Instead it returns a 404 and therefore, any attempt to parse or use the response content is not valid. </p>\n\n<p>So, to start, you could try wrapping your <code>HTTP.Get(url)</code>in a try/catch method and on the catch clause set the <code>NumEdPicks</code> to zero.</p>\n\n<p>Another option would be to check <code>HTTP.Get()</code> method documentation to see if the response object has a status (e.g: <code>response.Status</code>) or if you can pass a callback function for response and error, like this example in AJAX:</p>\n\n<pre><code>$.ajax({\n    url: 'yourUrl',\n    type: 'GET',\n    success: function(data){ \n        // Set NumEdPicks to total and do other stuff \n    },\n    error: function(data) {\n        // Set NumEdPicks to zero\n    }\n});\n</code></pre>\n"}], "owner": {"reputation": 13, "user_id": 12055097, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/a-/AAuE7mD90GYBBA60I4yrQGkCeussUxKVohBGmYgmwhHSLS8=k-s128", "display_name": "Josja Fluitsma", "link": "https://stackoverflow.com/users/12055097/josja-fluitsma"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 90, "favorite_count": 1, "accepted_answer_id": 57896682, "answer_count": 1, "score": 1, "last_activity_date": 1568307245, "creation_date": 1568233762, "last_edit_date": 1568307245, "question_id": 57896391, "link": "https://stackoverflow.com/questions/57896391/how-to-do-a-json-api-call-with-error-response", "title": "How to do a JSON api call with error response?", "body": "<p>I use Javascript to retrieve through a JSON api call the amount of active products pasted in a certain filter.\nMy typicall response would be </p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\"total\":34,\"product_ids\":[\"PRODUCT1\",\"PRODUCT2\",.....\"]}\n</code></pre>\n\n<p>My script is working fine when products are present but when none of the products are active the response will be: </p>\n\n<pre class=\"lang-json prettyprint-override\"><code>{\"error\":\"No products found, please check request settings\"}\n</code></pre>\n\n<p>In this case the script will crash.</p>\n\n<p>What I tried to do is to set the var <code>NumEdPicks</code> to <code>0</code> when I get an error but I don't really know how as the script is crashing when it doesn't find \"total\".</p>\n\n<p>This is what the retrieve part of the script looks like</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>// Retrieve\nvar url = 'http://api.jetlore.com/products/products_by_filter.json?jl_cid=' + clientID + '&amp;filter=' + filterName + '&amp;per_page=' + maxCount + '&amp;page=1';\nvar response = HTTP.Get(url);\nvar responseObj = Platform.Function.ParseJSON(response[\"Content\"]);\nvar NumEditorsPick = responseObj.total;\nif(NumEditorsPick&gt;maxCount){ var NumEditorsPick = maxCount;}\n</code></pre>\n\n<p>I would like to set <code>NumEditorsPick</code> to 0 when I get the error response.\nSome things I was thinking about but which isn't working:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var NumEditorsPick = responseObj.total || 0\n</code></pre>\n\n<p>or</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>var NumEditorsPick = \u2018total\u2019 in responseObj ? responseObj.total : 0\n</code></pre>\n\n<p>How to define <code>NumEditorsPick</code> when there is no total?</p>\n\n<p>I've tried so far:</p>\n\n<pre><code>if (responseObj.hasOwnProperty('total')){\n  var NumEditorsPick = responseObj.total;\n}else{\n  var NumEditorsPick = 0;\n}\n</code></pre>\n\n<p>And</p>\n\n<pre><code>  if (responseObj.has(\"total\")){var NumEditorsPick = responseObj.total;\n}\n  if (responseObj.has(\"error\")){var NumEditorsPick = 0;\n}\n</code></pre>\n\n<p>Both are crashing the execution of my script, so I'm starting to think that when there is an error response it just stops the script and ignores the rest, would that be possible? In that case, how to ignore this error response?</p>\n\n<p>EDIT:\nAfter using the try/catch method as suggested in the comments, I managed to finally make it work:</p>\n\n<pre><code>var NumEditorsPick;\n\n  try {\n    var response = HTTP.Get(url);\n    var responseObj = Platform.Function.ParseJSON(response[\"Content\"]);\n    NumEditorsPick = responseObj.total;\n  } catch (error) {\n    NumEditorsPick = 0;\n  }\n</code></pre>\n"}, {"tags": ["javascript", "canvas", "html5-canvas", "image-resizing", "drawimage"], "answers": [{"comments": [{"owner": {"reputation": 893, "user_id": 10516241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69a8c36e1ec3c941b174e29e369ffe7?s=128&d=identicon&r=PG&f=1", "display_name": "newdeveloper", "link": "https://stackoverflow.com/users/10516241/newdeveloper"}, "edited": false, "score": 0, "creation_date": 1568255042, "post_id": 57897861, "comment_id": 102218722, "body": "I have to rotate the image clockwise first so setTransform mentioned above will not work. the one in my example rotates the image correctly. using min scale or max scale also not seem to be working. it still cut the image. my desired width is 300 and height is 400"}, {"owner": {"reputation": 893, "user_id": 10516241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69a8c36e1ec3c941b174e29e369ffe7?s=128&d=identicon&r=PG&f=1", "display_name": "newdeveloper", "link": "https://stackoverflow.com/users/10516241/newdeveloper"}, "edited": false, "score": 0, "creation_date": 1568298738, "post_id": 57897861, "comment_id": 102237820, "body": "those are some very useful snippets and will help lot more people in future. it solved my issue. Image is scaling and fitting to canvas now. thanks"}, {"owner": {"reputation": 893, "user_id": 10516241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69a8c36e1ec3c941b174e29e369ffe7?s=128&d=identicon&r=PG&f=1", "display_name": "newdeveloper", "link": "https://stackoverflow.com/users/10516241/newdeveloper"}, "edited": false, "score": 0, "creation_date": 1568322243, "post_id": 57897861, "comment_id": 102247769, "body": "I need one more favor, how to improve quality of the image after scale to fit as above is processes? Currently my 880KB image reduced to 501Kb. it shows blurry right now. trying <a href=\"http://jsfiddle.net/9g9Nv/442/\" rel=\"nofollow noreferrer\">jsfiddle.net/9g9Nv/442</a> and <a href=\"http://jsfiddle.net/9g9Nv/96/\" rel=\"nofollow noreferrer\">jsfiddle.net/9g9Nv/96</a>"}, {"owner": {"reputation": 893, "user_id": 10516241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69a8c36e1ec3c941b174e29e369ffe7?s=128&d=identicon&r=PG&f=1", "display_name": "newdeveloper", "link": "https://stackoverflow.com/users/10516241/newdeveloper"}, "edited": false, "score": 0, "creation_date": 1568322323, "post_id": 57897861, "comment_id": 102247798, "body": "above 2 jsfiddle improves the quality but not sure how to make it work with 90 degree rotation solution that we have above? basically i want to use one of the jsfiddle and also transform the image to 90degrees clock wise."}, {"owner": {"reputation": 893, "user_id": 10516241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69a8c36e1ec3c941b174e29e369ffe7?s=128&d=identicon&r=PG&f=1", "display_name": "newdeveloper", "link": "https://stackoverflow.com/users/10516241/newdeveloper"}, "edited": false, "score": 0, "creation_date": 1568325353, "post_id": 57897861, "comment_id": 102248644, "body": "could you please guide me on how to rotate canvas to 90 degrees clockwise into this jsfiddle. <a href=\"http://jsfiddle.net/9g9Nv/442/\" rel=\"nofollow noreferrer\">jsfiddle.net/9g9Nv/442</a> This improves image quality but not able to figure our rotation."}], "tags": [], "owner": {"reputation": 41032, "user_id": 3877726, "user_type": "registered", "accept_rate": 82, "profile_image": "https://i.stack.imgur.com/C7qq2.png?s=128&g=1", "display_name": "Blindman67", "link": "https://stackoverflow.com/users/3877726/blindman67"}, "is_accepted": true, "score": 3, "last_activity_date": 1568273309, "last_edit_date": 1568273309, "creation_date": 1568243604, "answer_id": 57897861, "question_id": 57896390, "link": "https://stackoverflow.com/questions/57896390/settransform-and-scale-to-fit-canvas-for-the-given-image/57897861#57897861", "title": "setTransform and Scale to fit Canvas for the given image", "body": "<p>To fit an image to a display area, use the min scale to fit height or fit width.</p>\n\n<pre><code>// size of canvas\nconst width = 100; \nconst height = 298;\n\n// image is assumed loaded and ready to be drawn\n\n// Get min scale to fit\nvar scale = Math.min(width / image.width , height / image.height);\n\n// you can also scale to fill using max\n// var scale = Math.max(width / image.width , height / image.height);\n\ncanvas.width = width;\ncanvas.height = height;\n\n// // draw image from top left corner\nctx.setTransform(scale, 0, 0, scale, 0, 0);\nctx.drawImage(image, 0, 0);\nctx.setTransform(1, 0, 0, 1, 0, 0); // restore default\n</code></pre>\n\n<h2>Update</h2>\n\n<p>Re comment</p>\n\n<p>As you are having trouble, and I am still not sure what you what the image to do, here is a general purpose function to rotate image in 90 deg steps, and scales to fit, fill, and natural. (Demo version in bottom snippet a little less verbose)</p>\n\n<pre><code>// img image to draw\n// rot 1 unit = 90 deg. scaleType fit or fill\nfunction drawRotatedImage(img, rot = 1, scaleType = \"fit\") {\n  const w = img.naturalWidth;\n  const h = img.naturalHeight;\n\n  // direction of xAxis\n  var xAxisX = Math.cos(rot * Math.PI / 2);\n  var xAxisY = Math.sin(rot * Math.PI / 2);\n\n  // modified transform image width and height to match the xAxis\n  const tw = Math.abs(w * xAxisX - h * xAxisY);\n  const th = Math.abs(w * xAxisY + h * xAxisX);\n\n  var scale = 1; \n  if (scaleType === \"fit\") {\n    scale = Math.min(canvas.width / tw, canvas.height / th);\n  } else if (scaleType === \"fill\") {\n    scale = Math.max(canvas.width / tw, canvas.height / th);\n  }\n\n  xAxisX *= scale;\n  xAxisY *= scale;\n\n  // Rotate scale to match scaleType . Center on canvas\n  ctx.setTransform(xAxisX, xAxisY, -xAxisY, xAxisX, canvas.width / 2, canvas.height / 2);\n\n  // Image drawn offset so center is at canvas center\n  ctx.drawImage(img, -w / 2, -h / 2, w, h);\n}\n</code></pre>\n\n<p>And to make sure the following is a tested runing example using your image.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const canWidth = 300;\r\nconst canHeight = 400;\r\nconst rot = 1;           \r\nconst scaleType = \"fit\"; \r\nconst PI90 = Math.PI / 2;\r\n\r\nfunction drawRotatedImage(img, rot, scale) {\r\n  ctx.setTransform(1, 0, 0, 1, 0, 0); \r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n  const w = img.naturalWidth, h = img.naturalHeight;\r\n  var xAX = Math.cos(rot *= PI90 ), xAY = Math.sin(rot);\r\n  const tw = Math.abs(w * xAX - h * xAY);\r\n  const th = Math.abs(w * xAY + h * xAX);\r\n  scale = Math[scale === \"fit\" ? \"min\" : \"max\" ](canvas.width / tw, canvas.height / th);\r\n  xAX *= scale;\r\n  xAY *= scale;\r\n  ctx.setTransform(xAX, xAY, -xAY, xAX, canvas.width / 2, canvas.height / 2);\r\n  ctx.drawImage(img, -w / 2, -h / 2, w, h);\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// Stuff for demo and test. unrelated to answer.\r\n\r\n\r\nconst ctx = canvas.getContext(\"2d\");  \r\n// size canvas\r\ncanvas.width = canWidth;\r\ncanvas.height = canHeight;\r\nconst img = new Image;\r\nconst tests = [[0,\"fit\"], [1,\"fit\"], [2,\"fit\"], [3,\"fit\"],[0,\"fill\"], [1,\"fill\"], [2,\"fill\"], [3,\"fill\"]];\r\n\r\ntests.clicker = 0;\r\nimg.src = \"https://i.stack.imgur.com/SQmuv.jpg\";\r\nimg.addEventListener(\"load\", () =&gt; {\r\n  info.textContent = ((rot % 4) * 90) + \"deg CW scaled to \" + scaleType.toUpperCase() + \" click canvas to rotate and switch scales\";\r\n  drawRotatedImage(img, rot, scaleType)\r\n});\r\n\r\n\r\ncanvas.addEventListener(\"click\",() =&gt; {\r\n  const test = tests[tests.clicker++ % tests.length];\r\n  info.textContent = ((test[0] % 4) * 90) + \"deg CW scaled to \" + test[1].toUpperCase();\r\n  drawRotatedImage(img, ...test)\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n   font-family: \"arial black\";\r\n}\r\ncanvas {\r\n  border: 1px solid black;\r\n  position: absolute;\r\n  top: 30px;\r\n  left: 10px;    \r\n}\r\n#info {\r\n  position: absolute;\r\n  top: 2px;\r\n  left: 10px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;canvas id=\"canvas\"&gt;&lt;/canvas&gt;\r\n\r\n&lt;div id=\"info\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 893, "user_id": 10516241, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d69a8c36e1ec3c941b174e29e369ffe7?s=128&d=identicon&r=PG&f=1", "display_name": "newdeveloper", "link": "https://stackoverflow.com/users/10516241/newdeveloper"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 0, "accepted_answer_id": 57897861, "answer_count": 1, "score": 0, "last_activity_date": 1568273309, "creation_date": 1568233759, "last_edit_date": 1568254954, "question_id": 57896390, "link": "https://stackoverflow.com/questions/57896390/settransform-and-scale-to-fit-canvas-for-the-given-image", "title": "setTransform and Scale to fit Canvas for the given image", "body": "<p>I have an image on Canvas. \nAfter rendering an image, I rotate the canvas to 90 degrees clockwise and then have to scale to fit the canvas. </p>\n\n<p><a href=\"https://stackoverflow.com/questions/23104582/scaling-an-image-to-fit-on-canvas\">Scaling an image to fit on canvas</a>\n<a href=\"https://stackoverflow.com/questions/44076873/resize-image-and-rotate-canvas-90-degrees\">Resize image and rotate canvas 90 degrees</a></p>\n\n<p>there is so many solutions available but unfortunately none of them worked for me yet </p>\n\n<p>This is what I have right now. </p>\n\n<pre><code>width = 300; // after rotation\n                    height = 400; // after rotation\n                    var scale = width / img.height; // how much to scale the image to fit\n\n                    console.log(scale);\n                    canvas.width = width;\n                    canvas.height = height;\n                    ctx.setTransform(\n                         0, scale, // x axis down the screen\n                        -scale, 0, // y axis across the screen from right to left\n                        width,    // x origin is on the right side of the canvas\n                        0         // y origin is at the top\n                    );\n                    ctx.drawImage(img, 0, 0);\n                    ctx.setTransform(1, 0, 0, 1, 0, 0); // restore default\n</code></pre>\n\n<p>Currently, canvas is rotating fine but image is not fitting or scaling properly according to canvas width and height.\nOriginal image is large, I want to scale it to fit 300x400 on canvas. </p>\n\n<p>Original Image - \n<a href=\"https://i.stack.imgur.com/SQmuv.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SQmuv.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>Actual result image looks like this which is not scaling full image - </p>\n\n<p><a href=\"https://i.stack.imgur.com/TTEWR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TTEWR.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "performance", "optimization", "minify", "pagespeed"], "comments": [{"owner": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 1, "creation_date": 1568233617, "post_id": 57896330, "comment_id": 102213886, "body": "Looks like <a href=\"https://stackoverflow.com/questions/9692665/cache-busting-via-params\">cache busting</a>."}, {"owner": {"reputation": 1, "user_id": 4219840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba0b945073f7179a2f67ca3fb657661?s=128&d=identicon&r=PG&f=1", "display_name": "FrescoedEyelids", "link": "https://stackoverflow.com/users/4219840/frescoedeyelids"}, "reply_to_user": {"reputation": 17982, "user_id": 3689450, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SXuSR.png?s=128&g=1", "display_name": "VLAZ", "link": "https://stackoverflow.com/users/3689450/vlaz"}, "edited": false, "score": 0, "creation_date": 1568234856, "post_id": 57896330, "comment_id": 102214290, "body": "Yes! I think you are right! Thank you! I will mark this answer as correct as soon as I can figure out how."}], "owner": {"reputation": 1, "user_id": 4219840, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7ba0b945073f7179a2f67ca3fb657661?s=128&d=identicon&r=PG&f=1", "display_name": "FrescoedEyelids", "link": "https://stackoverflow.com/users/4219840/frescoedeyelids"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 20, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1568233469, "creation_date": 1568233469, "question_id": 57896330, "link": "https://stackoverflow.com/questions/57896330/what-is-the-ver-n-bit-of-the-js-file-that-shows-in-a-page-speed-analyzer", "title": "what is the ?ver=n bit of the js file that shows in a page speed analyzer?", "body": "<p>I need to increase our site speed. I'm using GTMetrix although I've tried with a few other page speed testers. Here's the issue: one of the top performance hitters says to minify javascript. Fine, I tried out a couple of the best rated wordpress plugins for minification, but I got the same results, so deleted them. \n<a href=\"http://notarealsite.com/wp-content/plugins/dude-services/public/datatables/js/jquery.dataTables.js?ver=ee70a4928c9e111d75\" rel=\"nofollow noreferrer\">http://notarealsite.com/wp-content/plugins/dude-services/public/datatables/js/jquery.dataTables.js?ver=ee70a4928c9e111d75</a></p>\n\n<p>Here is what the js file location looks like. There was only one file in the directory (jquery.dataTables.js) So I took it and ran it through a minifier, and replaced the code (after saving a backup). But it still comes up as the top hitter. I want to understand what the \"?ver=n\" part is at the end. We are not caching (though we should, and will eventually) and there is only the one js file in the directory and it is definitely minified. Where is this coming from?</p>\n"}, {"tags": ["javascript", "ajax"], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11948829, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-rS1Ge1sVvTI/AAAAAAAAAAI/AAAAAAAAAAc/yy9xJQk6K0k/photo.jpg?sz=128", "display_name": "STA Yassine", "link": "https://stackoverflow.com/users/11948829/sta-yassine"}, "is_accepted": false, "score": 0, "last_activity_date": 1568233596, "creation_date": 1568233596, "answer_id": 57896354, "question_id": 57896314, "link": "https://stackoverflow.com/questions/57896314/apply-a-javascript-function-to-a-dynamically-created-element/57896354#57896354", "title": "Apply a javascript function to a dynamically created element", "body": "<p>Are you sure that these are the correct ids? \nElse i think it's worth to work with classes instead of Ids, beacause you have to loop on an array of element having that class name it's even easier to be dynamic.</p>\n"}], "owner": {"reputation": 11, "user_id": 12055078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19053fa3542e9f57c070d67d14deba21?s=128&d=identicon&r=PG&f=1", "display_name": "RandomObserver", "link": "https://stackoverflow.com/users/12055078/randomobserver"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "closed_date": 1568265407, "answer_count": 1, "score": 0, "last_activity_date": 1568233717, "creation_date": 1568233391, "last_edit_date": 1568233717, "question_id": 57896314, "link": "https://stackoverflow.com/questions/57896314/apply-a-javascript-function-to-a-dynamically-created-element", "closed_reason": "Duplicate", "title": "Apply a javascript function to a dynamically created element", "body": "<p>I have an autocomplete function, this works for the already created input field with id=\"field10\". However when I dynamically create new input fields the function does not work on them. I have even specified what the input field names will be in advance of the fields being created. I have checked that the created field ids are correct, what am I doing wrong? Below is the script used to generate the new input fields.</p>\n\n<pre><code>        //Add Input Fields\n        $(document).ready(function() {\n            var max_fields = 10; //Maximum allowed input fields \n            var wrapper    = $(\".array_wrap\"); //Input fields wrapper\n            var add_button = $(\".add_fields\"); //Add button class or ID\n            var x = 1; //Initial input field is set to 1\n\n         //When user click on add input button\n         $(add_button).click(function(e){\n                e.preventDefault();\n         //Check maximum allowed input fields\n                if(x &lt; max_fields){ \n                    x++; //input field increment\n         //add input field\n                    var inputA = document.createElement('a');\n                    $(inputA).attr(\"href\", \"javascript:void(0);\");\n                    $(inputA).attr(\"class\",\"remove_field\")\n                    inputA.innerText =\"Remove\";\n                    var inputName = document.createElement('input');\n                    $(inputName).attr('id','field10' + x);\n                    $(inputName).attr('type','text');\n                    $(inputName).attr('name','input_array_name[]');\n\n                    $(inputName).attr('placeholder','Subject');\n                    $(inputName).appendTo($(wrapper));\n                    $(inputA).appendTo($(wrapper));\n                }\n            });\n\n//\nThese are the values I have passed to the function...\n        autocomplete(document.getElementById(\"field10\"), countries);\n        autocomplete(document.getElementById(\"field101\"), countries);\n        autocomplete(document.getElementById(\"field102\"), countries);\n        autocomplete(document.getElementById(\"field103\"), countries);\n        autocomplete(document.getElementById(\"field104\"), countries);\n        autocomplete(document.getElementById(\"field105\"), countries);\n        autocomplete(document.getElementById(\"field106\"), countries);\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 883, "user_id": 6200550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5704d47716fd7133b22d8ebb3be5068?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/6200550/kyle"}, "edited": false, "score": 1, "creation_date": 1568233663, "post_id": 57896296, "comment_id": 102213905, "body": "Your submit button should be inside your form tags."}, {"owner": {"reputation": 17, "user_id": 4438310, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bGo6xf6oa4o/AAAAAAAAAAI/AAAAAAAAQOU/W7bVBWnndD0/photo.jpg?sz=128", "display_name": "Steven Erickson", "link": "https://stackoverflow.com/users/4438310/steven-erickson"}, "reply_to_user": {"reputation": 883, "user_id": 6200550, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5704d47716fd7133b22d8ebb3be5068?s=128&d=identicon&r=PG&f=1", "display_name": "Kyle", "link": "https://stackoverflow.com/users/6200550/kyle"}, "edited": false, "score": 0, "creation_date": 1568289524, "post_id": 57896296, "comment_id": 102232330, "body": "When I do that it breaks the tool. It runs the function and displays the results for a split second and then resets the form."}], "answers": [{"tags": [], "owner": {"reputation": 17, "user_id": 4438310, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bGo6xf6oa4o/AAAAAAAAAAI/AAAAAAAAQOU/W7bVBWnndD0/photo.jpg?sz=128", "display_name": "Steven Erickson", "link": "https://stackoverflow.com/users/4438310/steven-erickson"}, "is_accepted": false, "score": 0, "last_activity_date": 1568404039, "creation_date": 1568404039, "answer_id": 57929569, "question_id": 57896296, "link": "https://stackoverflow.com/questions/57896296/hitting-enter-on-a-form-is-not-running-javascript-function-and-its-reloading/57929569#57929569", "title": "Hitting &quot;Enter&quot; on a form is not running JavaScript function and it&#39;s reloading the page. Why?", "body": "<p>I was able to fix the issue by adding <code>action=\"#\"</code> to the form tag. </p>\n"}], "owner": {"reputation": 17, "user_id": 4438310, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-bGo6xf6oa4o/AAAAAAAAAAI/AAAAAAAAQOU/W7bVBWnndD0/photo.jpg?sz=128", "display_name": "Steven Erickson", "link": "https://stackoverflow.com/users/4438310/steven-erickson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 46, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568404039, "creation_date": 1568233309, "question_id": 57896296, "link": "https://stackoverflow.com/questions/57896296/hitting-enter-on-a-form-is-not-running-javascript-function-and-its-reloading", "title": "Hitting &quot;Enter&quot; on a form is not running JavaScript function and it&#39;s reloading the page. Why?", "body": "<p>I created a form to run a JavaScript function to generate part numbers off of the input. The input can only be certain values, so there are errors that will show if the input is not a valid input. </p>\n\n<p>The reset form button works, the submit button works, but only on click. I'd like to submit the form on Enter, and that's where I'm getting the issue. It runs the function but then refreshes (or resets, can't figure out which) the form. </p>\n\n<p>I've looked at different options for submitting on Enter but it doesn't work unless I remove the form tags, which ends up breaking the primary purpose of the tool. </p>\n\n<p>In the code, I shortened my library as it is quite long. </p>\n\n<pre><code>&lt;script&gt;\n  var input = document.getElementById(\"deconstructSubmit\");\n  input.addEventListener(\"keyup\", function(event) {\n    if (event.keyCode === 13) {\n      event.preventDefault();\n      document.getElementById(\"deconstructSubmit\").click();\n    }\n  });\n\n  function resetForm() {\n    document.getElementById(\"myForm\").reset();\n    document.getElementById(\"verify\").classList.remove(\"is-invalid\");\n    document.getElementById(\"form-error-2\").classList.add(\"hide\");\n    document.getElementById(\"form-error-1\").classList.add(\"hide\");\n    document.getElementById(\"config\").classList.add(\"hide\");\n    document.getElementById(\"STO\").classList.add(\"hide\");\n    document.getElementById(\"warningHz\").classList.add(\"hide\");\n    document.getElementById(\"warningMains\").classList.add(\"hide\");\n  }\n\n  function deconstructor() {\n    var typeCode = document.getElementById(\"myInput\").value;\n    typeCode = typeCode.replace(/\\s/g, '');\n    typeCode = typeCode.toUpperCase();\n    var library = [\"I55AE125A10V01000S\", \"I55AE125A10V01001S\", \"I55AE125A10V01002S\", \"I55AE125A10V01003S\"];\n\n    if (library.indexOf(typeCode) === -1) {\n      if (typeCode === \"\") {\n        document.getElementById(\"verify\").classList.add(\"is-invalid\");\n        document.getElementById(\"form-error-2\").classList.add(\"hide\");\n        document.getElementById(\"form-error-1\").classList.remove(\"hide\");\n        document.getElementById(\"config\").classList.add(\"hide\")\n      } else {\n        document.getElementById(\"form-error-1\").classList.add(\"hide\");\n        document.getElementById(\"form-error-2\").classList.remove(\"hide\");\n        document.getElementById(\"verify\").classList.add(\"is-invalid\");\n        document.getElementById(\"config\").classList.add(\"hide\")\n      }\n    } else {\n      document.getElementById(\"config\").classList.remove(\"hide\")\n      document.getElementById(\"form-error-2\").classList.add(\"hide\");\n      document.getElementById(\"form-error-1\").classList.add(\"hide\");\n      document.getElementById(\"verify\").classList.remove(\"is-invalid\");\n\n\n      /* Control Unit */\n      var fieldBus = typeCode.substring(14, 17);\n      switch (fieldBus) {\n        case \"000\":\n          fb = \"0\";\n          io = \"2\"\n          break;\n        case \"001\":\n          fb = \"0\";\n          io = \"3\"\n          break;\n        case \"002\":\n          fb = \"C\";\n          io = \"2\"\n          break;\n        case \"003\":\n          fb = \"W\";\n          io = \"2\"\n          break;\n        case \"00W\":\n          fb = \"V\";\n          io = \"2\"\n          break;\n        case \"004\":\n          fb = \"P\";\n          io = \"2\"\n          break;\n        case \"00K\":\n          fb = \"T\";\n          io = \"2\"\n          break;\n        case \"00L\":\n          fb = \"R\";\n          io = \"2\"\n          break;\n        case \"00M\":\n          fb = \"G\";\n          io = \"2\"\n          break;\n        case \"012\":\n          fb = \"N\";\n          io = \"2\"\n          break;\n      }\n      var controlUnit = 'I5CA5' + fb + '0' + io + '000VA1000S';\n      document.getElementById(\"CUTC\").innerHTML = controlUnit;\n\n      /* Power Unit */\n      var ratedPower = typeCode.substring(5, 8);\n      var voltage = typeCode.substring(8, 9);\n      var powerUnit = 'I5DAE' + typeCode.substring(5, 8) + typeCode.substring(8, 9) + '10V' + typeCode.substring(12, 13) + '0000S';\n      document.getElementById(\"PUTC\").innerHTML = powerUnit;\n\n      /* STO */\n      var safeTorque = typeCode.substring(10, 11);\n      if (safeTorque === \"A\") {\n        document.getElementById(\"STO\").classList.remove(\"hide\");\n      } else {\n        document.getElementById(\"STO\").classList.add(\"hide\");\n      }\n\n      /* Hz Check */\n      if (typeCode.substring(13, 14) === \"0\") {\n        document.getElementById(\"warningHz\").classList.remove(\"hide\");\n      } else {\n        document.getElementById(\"warningHz\").classList.add(\"hide\")\n      }\n\n      /* Mains Choke Check */\n      var i = typeCode.substring(5, 8);\n      i = parseInt(i);\n      if (i &gt;= 322) {\n        document.getElementById(\"warningMains\").classList.remove(\"hide\");\n      } else {\n        document.getElementById(\"warningMains\").classList.add(\"hide\")\n      };\n\n    }\n  };\n&lt;/script&gt;\n&lt;body&gt;\n  &lt;div class=\"mainContainer doc-mainContainer\"&gt;\n    &lt;div class=\"has-limited-width\"&gt;\n      &lt;div class=\"grid-row\"&gt;\n        &lt;div class=\"span-6 grid-columns\"&gt;\n          &lt;div class=\"deconfig\"&gt;\n            &lt;form id=\"myForm\"&gt;\n              &lt;fieldset&gt;\n                &lt;legend&gt;i550 type code de-constructor tool&lt;/legend&gt;\n                &lt;div id=\"verify\" class=\"formField is-text is-mandatory\"&gt;\n                  &lt;label class=\"formField-label\" for=\"field-id\"&gt;Enter type code&lt;/label&gt;\n                  &lt;input class=\"formField-input\" type=\"text\" id=\"myInput\" value=\"\"&gt;\n                  &lt;span id=\"form-error-1\" class=\"formField-message hide\"&gt;Please enter type code&lt;/span&gt;\n                  &lt;span id=\"form-error-2\" class=\"formField-message hide\"&gt;Invalid type code&lt;/span&gt;\n                  &lt;/div&gt;\n              &lt;/fieldset&gt;\n            &lt;/form&gt;\n            &lt;button class=\"is-cta\" id=\"deconstructSubmit\" onclick=\"deconstructor()\" type=\"submit\"&gt;De-construct&lt;/button&gt;\n            &lt;input class=\"is-cta\" id=\"resetForm\" type=\"reset\" onclick=\"resetForm()\" value=\"Reset form\"&gt;\n            &lt;div class=\"deconfig hide\" id=\"config\"&gt;\n              &lt;h2&gt;Type codes&lt;/h2&gt;\n              &lt;table class=\"table\"&gt;\n                &lt;tbody&gt;\n                  &lt;tr&gt;\n                    &lt;th scope=\"row\"&gt;\n                      Control Unit:\n                    &lt;/th&gt;\n                    &lt;td&gt;\n                      &lt;span id=\"CUTC\"&gt;&lt;/span&gt;\n                    &lt;/td&gt;\n                  &lt;/tr&gt;\n                  &lt;tr&gt;\n                    &lt;th scope=\"row\"&gt;\n                      Power Unit:\n                    &lt;/th&gt;\n                    &lt;td&gt;\n                      &lt;span id=\"PUTC\"&gt;&lt;/span&gt;\n                    &lt;/td&gt;\n                  &lt;/tr&gt;\n                  &lt;tr id=\"STO\" class=\"hide\"&gt;\n                    &lt;th scope=\"row\"&gt;\n                      Safe Torque Off (STO):\n                    &lt;/th&gt;\n                    &lt;td&gt;\n                      I5MASV000000S\n                    &lt;/td&gt;\n                  &lt;/tr&gt;\n                &lt;/tbody&gt;\n              &lt;/table&gt;\n              &lt;p class=\"hide red\" id=\"warningHz\"&gt;Please note that this is a 50Hz drive&lt;/p&gt;\n              &lt;p class=\"hide red\" id=\"warningMains\"&gt;Inverters starting with 30 hp (22 kW) must always be used together with mains chokes.&lt;/p&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n</code></pre>\n\n<p>It should run the form and provide the correct output, whether it's submitting via click or enter.</p>\n"}, {"tags": ["javascript", "css"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568233449, "post_id": 57896268, "comment_id": 102213826, "body": "You could fake it by using labels and hidden checkboxes, but it seems simpler to just write a little JavaScript."}, {"owner": {"reputation": 390, "user_id": 8157304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-iNlIVo8qRfs/AAAAAAAAAAI/AAAAAAAAABc/1S7fQz3mQhQ/photo.jpg?sz=128", "display_name": "sound wave", "link": "https://stackoverflow.com/users/8157304/sound-wave"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568233652, "post_id": 57896268, "comment_id": 102213899, "body": "You know a place where I can learn to write it? I&#39;m new in this and I&#39;m just able to write some css"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1568234225, "post_id": 57896268, "comment_id": 102214059, "body": "Specifically, look at <a href=\"https://stackoverflow.com/a/32721572/215552\">this answer</a>, not only the accepted one."}, {"owner": {"reputation": 390, "user_id": 8157304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-iNlIVo8qRfs/AAAAAAAAAAI/AAAAAAAAABc/1S7fQz3mQhQ/photo.jpg?sz=128", "display_name": "sound wave", "link": "https://stackoverflow.com/users/8157304/sound-wave"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568234994, "post_id": 57896268, "comment_id": 102214342, "body": "Thank you very much, it seems that in that way only one button per page can be placed though."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1568235138, "post_id": 57896268, "comment_id": 102214395, "body": "Not if you use different IDs for each one... You could also generalize by using a sibling combinator."}, {"owner": {"reputation": 390, "user_id": 8157304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-iNlIVo8qRfs/AAAAAAAAAAI/AAAAAAAAABc/1S7fQz3mQhQ/photo.jpg?sz=128", "display_name": "sound wave", "link": "https://stackoverflow.com/users/8157304/sound-wave"}, "reply_to_user": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568235853, "post_id": 57896268, "comment_id": 102214646, "body": "You mean that I should put <code>#btnControl + #btnControl</code> in the CSS code? Could you write a small example?"}, {"owner": {"reputation": 1612, "user_id": 1806348, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/7TqKN.png?s=128&g=1", "display_name": "Jochem Kuijpers", "link": "https://stackoverflow.com/users/1806348/jochem-kuijpers"}, "edited": false, "score": 1, "creation_date": 1568237224, "post_id": 57896268, "comment_id": 102215077, "body": "This wouldn&#39;t really work with the way you have absolutely positioned everything since only closing it by another button press would mean you can have two items open on the same row, and they will be overlapping. If you want this specific behavior, you&#39;re probably better off creating tooltips using JavaScript. There are literally thousands of resources online on creating tooltips, give it a search if you like :)"}, {"owner": {"reputation": 390, "user_id": 8157304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-iNlIVo8qRfs/AAAAAAAAAAI/AAAAAAAAABc/1S7fQz3mQhQ/photo.jpg?sz=128", "display_name": "sound wave", "link": "https://stackoverflow.com/users/8157304/sound-wave"}, "reply_to_user": {"reputation": 1612, "user_id": 1806348, "user_type": "registered", "accept_rate": 84, "profile_image": "https://i.stack.imgur.com/7TqKN.png?s=128&g=1", "display_name": "Jochem Kuijpers", "link": "https://stackoverflow.com/users/1806348/jochem-kuijpers"}, "edited": false, "score": 0, "creation_date": 1568239686, "post_id": 57896268, "comment_id": 102215655, "body": "@JochemKuijpers Yes I already thought about tooltips, but I discarded them because I have to put in there text and formulas (images) while keeping all other text visibile and let open multiple at the same time."}], "answers": [{"comments": [{"owner": {"reputation": 390, "user_id": 8157304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-iNlIVo8qRfs/AAAAAAAAAAI/AAAAAAAAABc/1S7fQz3mQhQ/photo.jpg?sz=128", "display_name": "sound wave", "link": "https://stackoverflow.com/users/8157304/sound-wave"}, "edited": false, "score": 0, "creation_date": 1568241762, "post_id": 57896974, "comment_id": 102216156, "body": "Thank you very much for the help! I&#39;ve never seen such commands. It would be nice that when a button is clicked a blank space is created below the line with the height given by the height of the content, so that the content can be placed in the blank space without hiding the other text. Do you think that to achieve this feature it is possibile to use the javascript that I added in the section <b>Javascript for further customization</b>? Thanks again"}], "tags": [], "owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "is_accepted": true, "score": 1, "last_activity_date": 1568237006, "creation_date": 1568237006, "answer_id": 57896974, "question_id": 57896268, "link": "https://stackoverflow.com/questions/57896268/collapse-close-a-button-only-by-clicking-on-it/57896974#57896974", "title": "Collapse/close a button only by clicking on it", "body": "<p>Implementation of the idea was a bit more complicated so I'll just answer.</p>\n\n<p>This uses an old trick whereby a label, associated with a hidden checkbox, is used as the click target. Since clicking on a label checks or unchecks the checkbox, and there is a pseudo-class for the checked state of the checkbox, we can use that to persist the state of our styles. Credit to <a href=\"https://stackoverflow.com/users/2756409/tylerh\">TylerH</a> for <a href=\"https://stackoverflow.com/a/32721572/215552\">his answer</a> to the similar question <a href=\"https://stackoverflow.com/q/13630229/215552\">Can I have an onclick effect in CSS?</a>.</p>\n\n<p>I've implemented it here by using a partial attribute selector, so in this example any checkboxes have to have an ID that begins with \"demo\". The checkboxes do have to have an ID for the <code>for</code> attribute of the <code>label</code> to hook onto.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container {\r\n  position: relative;\r\n  margin: 2em;\r\n}\r\n\r\n.collapsible:focus {\r\n  margin-bottom: 1.5em;\r\n  pointer-events: none;\r\n}\r\n\r\n\r\nlabel {\r\n  display: inline-block;\r\n  background: lightgrey;\r\n}\r\n\r\n[id^=\"demo\"] {\r\n  display: none;\r\n}\r\n\r\n/* details that are next to labels that are next to unchecked checkboxes are hidden */\r\n[id^=\"demo\"]:not(:checked)+label+.details {\r\n  display: none;\r\n}\r\n\r\n\r\n/* details that are next to labels that are next to checked checkboxes are displayed */\r\n[id^=\"demo\"]:checked+label+.details {\r\n  display: block;\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  background: yellow;\r\n}\r\n\r\n/* labels that are next to unchecked checkboxes have a different color \r\n   so you can track which ones are \"on\" */\r\n[id^=\"demo\"]:checked+label {\r\n  background: blue;\r\n  color: white;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=container&gt;\r\n\r\n  You can &lt;input type=\"checkbox\" id=\"demo01\" /&gt;&lt;label for=\"demo01\" &gt;place&lt;/label&gt;&lt;span class=details&gt;yes&lt;/span&gt; more than &lt;input type=\"checkbox\" id=\"demo02\" /&gt;&lt;label for=\"demo02\"&gt;one&lt;/label&gt;&lt;span class=details&gt;nice&lt;/span&gt;  per line, they are responsive and the content is always shown just &lt;input type=\"checkbox\" id=\"demo03\" /&gt;&lt;label for=\"demo03\"&gt;below&lt;/label&gt;&lt;span class=details&gt;cool&lt;/span&gt; the line containing the button. But once opened, you can close\r\n  it with a click &lt;input type=\"checkbox\" id=\"demo04\" /&gt;&lt;label for=\"demo04\"&gt;everywhere&lt;/label&gt;&lt;span class=details&gt;not good&lt;/span&gt; on the screen\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 390, "user_id": 8157304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh6.googleusercontent.com/-iNlIVo8qRfs/AAAAAAAAAAI/AAAAAAAAABc/1S7fQz3mQhQ/photo.jpg?sz=128", "display_name": "sound wave", "link": "https://stackoverflow.com/users/8157304/sound-wave"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "accepted_answer_id": 57896974, "answer_count": 1, "score": 0, "last_activity_date": 1568241346, "creation_date": 1568233184, "last_edit_date": 1568241346, "question_id": 57896268, "link": "https://stackoverflow.com/questions/57896268/collapse-close-a-button-only-by-clicking-on-it", "title": "Collapse/close a button only by clicking on it", "body": "<p>I'm trying to code a responsive button which can be placed multiple times in the same line, showing its content always below the line containing the button.</p>\n\n<p>In the snippet there is a working code, but it has a small flaw: since the pseudo-class <code>focus</code> is used, once the button is opened it's enough to click anywhere on the screen to close it.</p>\n\n<p>The usual behaviour for a button is that to close it you have to click on it, so is it possibile to get this behaviour also for this one?</p>\n\n<p>I used other pseudo-classes but without success, I guess only a javascript can do the job.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container {\r\n  position: relative;\r\n  margin: 2em;\r\n}\r\n.details {\r\n  display: none;\r\n}\r\n.collapsible:focus {\r\n    margin-bottom: 1.5em;\r\n    pointer-events: none;\r\n}\r\n.collapsible:focus + .details \r\n{\r\n  display: block;\r\n  margin-top: -1.15em;\r\n  position: absolute;\r\n  left: 0;\r\n  right: 0;\r\n  background: yellow;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=container&gt;\r\n\r\nYou can &lt;button class=\"collapsible\"&gt;place&lt;/button&gt;&lt;span class=details&gt;yes&lt;/span&gt; more than &lt;button class=\"collapsible\"&gt;one&lt;/button&gt;&lt;span class=details&gt;nice&lt;/span&gt; per line, they are responsive and the content is always shown just &lt;button class=\"collapsible\"&gt;below&lt;/button&gt;&lt;span class=details&gt;cool&lt;/span&gt; the line containing the button.\r\nBut once opened, you can close it with a click &lt;button class=\"collapsible\"&gt;everywhere&lt;/button&gt;&lt;span class=details&gt;not good&lt;/span&gt; on the screen\r\n\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h2>Javascript for further customization</h2>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\nvar coll = document.getElementsByClassName(\"collapsible\");\nvar i;\n\nfor (i = 0; i &lt; coll.length; i++) {\n  coll[i].addEventListener(\"click\", function() {\n    this.classList.toggle(\"active\");\n    var content = this.parentElement.nextElementSibling;\n    if (content.style.maxHeight){\n      content.style.maxHeight = null;\n    } else {\n      content.style.maxHeight = content.scrollHeight + \"px\";\n    } \n  });\n}\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript"], "answers": [{"comments": [{"owner": {"reputation": 1441, "user_id": 1939291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YLMDq.jpg?s=128&g=1", "display_name": "MistaPrime", "link": "https://stackoverflow.com/users/1939291/mistaprime"}, "edited": false, "score": 0, "creation_date": 1568233568, "post_id": 57896328, "comment_id": 102213873, "body": "I did fiddle with that but for some reason couldn&#39;t get it to work. Can you try that in codepen?"}, {"owner": {"reputation": 524, "user_id": 4904285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aed1ca8f3e70c78d88b24c42c6033e8?s=128&d=identicon&r=PG&f=1", "display_name": "Noremac", "link": "https://stackoverflow.com/users/4904285/noremac"}, "reply_to_user": {"reputation": 1441, "user_id": 1939291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YLMDq.jpg?s=128&g=1", "display_name": "MistaPrime", "link": "https://stackoverflow.com/users/1939291/mistaprime"}, "edited": false, "score": 0, "creation_date": 1568234967, "post_id": 57896328, "comment_id": 102214335, "body": "<a href=\"https://codepen.io/Noremac/pen/LYPmrWy\" rel=\"nofollow noreferrer\">codepen.io/Noremac/pen/LYPmrWy</a> I did it quick and dirty by adding a specific class to each cancel fullscreen button. You will want to follow Brad&#39;s answer as it is more fleshed out"}], "tags": [], "owner": {"reputation": 524, "user_id": 4904285, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5aed1ca8f3e70c78d88b24c42c6033e8?s=128&d=identicon&r=PG&f=1", "display_name": "Noremac", "link": "https://stackoverflow.com/users/4904285/noremac"}, "is_accepted": false, "score": 1, "last_activity_date": 1568233456, "creation_date": 1568233456, "answer_id": 57896328, "question_id": 57896253, "link": "https://stackoverflow.com/questions/57896253/how-to-simplify-javascript-code-for-fullscreen-elements/57896328#57896328", "title": "How to simplify javascript code for fullscreen elements?", "body": "<p>Select multiple elements using <code>document.getElementsByClassName</code> or <code>document.getElementsByTagName</code> or <code>document.getElementsByName</code>. Loop through the elements and add your click handler to them. No more duplicate code!</p>\n"}, {"comments": [{"owner": {"reputation": 1441, "user_id": 1939291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YLMDq.jpg?s=128&g=1", "display_name": "MistaPrime", "link": "https://stackoverflow.com/users/1939291/mistaprime"}, "edited": false, "score": 0, "creation_date": 1568294653, "post_id": 57896514, "comment_id": 102235286, "body": "I think I understand the codepen that @Noremac did for the exitFullscreen. But if I want to implement your suggestion to open tables in fullscreen, which part of the code indicates that the event click needs to open the table within the click and not open the other tables on the page with the same class? Can you give an example in codepen? (if it&#39;s not too much to ask)"}], "tags": [], "owner": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "is_accepted": false, "score": 1, "last_activity_date": 1568234363, "creation_date": 1568234363, "answer_id": 57896514, "question_id": 57896253, "link": "https://stackoverflow.com/questions/57896253/how-to-simplify-javascript-code-for-fullscreen-elements/57896514#57896514", "title": "How to simplify javascript code for fullscreen elements?", "body": "<blockquote>\n  <p>Is there a way to simplify this JS code so that it works on all tables with a certain class? Each table would have it's own button to expand/close.</p>\n</blockquote>\n\n<p>Yes, there are a couple ways to do this.</p>\n\n<h2>Method 1: Add the event handler to every desired element</h2>\n\n<p>This is what @Noremac is suggesting.  Something like this:</p>\n\n<pre><code>for (el of document.querySelectorAll('[data-action=\"fullscreen\"]')) {\n  el.addEventListener('click', requestFullscreen);\n}\n</code></pre>\n\n<p>In this example, we loop through every element that matches a particular selector.  I'm using the attribute <code>data-action=\"fullscreen\"</code> here, but it could just as easily be a class.  This method is fine for when you have few elements that you're adding the handler to, and all of the elements are on the page at the time you want to add the handler.  I suspect that this applies to your use case the best.</p>\n\n<h2>Method 2: Attach event handler to the parent, filter on target</h2>\n\n<pre><code>document.querySelector('body').addEventListener('click', (e) =&gt; {\n  if (!e.target.matches('[data-action=\"fullscreen\"]')) {\n    return;\n  }\n  requestFullscreen();\n});\n</code></pre>\n\n<p>In this example, there is only a single event listener, and we attach it to the parent element of the elements you may want to track.  (<code>body</code> is really high up... ideally you use something further in the tree so that this handler doesn't run on every single click anywhere.  I'm using it here as an example.)  When the event handler is called, we filter to ensure that the clicked element actually matches what we want.</p>\n\n<p>This method is useful for when you want to track elements that may not be on the page at the time you add the event listener, or if you have a lot of elements to track.  That is, if you have a ton of elements, it may be more efficient to have a single handler that receives more events, than thousands of handlers that will likely never be called.</p>\n\n<h2>Simple polyfill for fullscreen</h2>\n\n<p>You might find something like this simpler:</p>\n\n<pre><code>const requestFullscreen = document.documentElement.requestFullscreen ||\n  document.documentElement.webkitRequestFullscreen.bind(document) }) ||\n  document.documentElement.mozRequestFullScreen ||\n  document.documentElement.msRequestFullscreen;\n</code></pre>\n\n<p>By using the <code>OR</code> operator, <code>requestFullscreen</code> will be set to whatever the first truthy value is.  So, if <code>document.documentElement.requestFullscreen</code> is a function, then that's what <code>requestFullscreen</code> will be set to.  Otherwise, we'll go onto the next in the list, <code>webkitRequestFullscreen</code>, etc.</p>\n"}], "owner": {"reputation": 1441, "user_id": 1939291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YLMDq.jpg?s=128&g=1", "display_name": "MistaPrime", "link": "https://stackoverflow.com/users/1939291/mistaprime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 182, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1568237181, "creation_date": 1568233113, "last_edit_date": 1568237181, "question_id": 57896253, "link": "https://stackoverflow.com/questions/57896253/how-to-simplify-javascript-code-for-fullscreen-elements", "title": "How to simplify javascript code for fullscreen elements?", "body": "<p>I created buttons that will trigger tables to be seen in fullscreen mode.</p>\n\n<p>Each button refers to the table by ID in Javascript. Even the cancel button has it's own ID.</p>\n\n<p>It works but the code is bulky if I want to add more tables.</p>\n\n<p>At this time I need to copy each var/function and re-name them, this makes the code bulky if I have a lot of tables in one page.</p>\n\n<p>As you can see right now I had to duplicate <code>cancelFullScreen</code> and added another <code>cancelFullScreen2</code> and I had to do the same for <code>customFullscreen</code> and <code>customFullscreen2</code>.</p>\n\n<p>Ideally the JS code would remain the same so I don't have to duplicate that each time, and I would just add new tables in HTML.</p>\n\n<p>Is there a way to simplify this JS code so that it works on all tables with a certain class? Each table would have it's own button to expand/close.\n`(function () {</p>\n\n<pre><code>var cancelFullScreen = document.getElementById(\"cancel-fullscreen\");\nif (cancelFullScreen) {\n    cancelFullScreen.addEventListener(\"click\", function () {\n        if (document.exitFullscreen) {\n            document.exitFullscreen();\n        }\n        else if (document.msExitFullscreen) {\n            document.msExitFullscreen();\n        }\n        else if (document.mozCancelFullScreen) {\n            document.mozCancelFullScreen();\n        }\n        else if (document.webkitCancelFullScreen) {\n            document.webkitCancelFullScreen();\n        }\n    }, false);\n}\nvar cancelFullScreen2 = document.getElementById(\"cancel-fullscreen-2\");\nif (cancelFullScreen2) {\n    cancelFullScreen2.addEventListener(\"click\", function () {\n        if (document.exitFullscreen) {\n            document.exitFullscreen();\n        }\n        else if (document.msExitFullscreen) {\n            document.msExitFullscreen();\n        }\n        else if (document.mozCancelFullScreen) {\n            document.mozCancelFullScreen();\n        }\n        else if (document.webkitCancelFullScreen) {\n            document.webkitCancelFullScreen();\n        }\n    }, false);\n}\n\n\n\nvar customFullscreen = document.getElementById(\"fullscreen-table\")\n    libraryFullscreen = document.getElementById(\"expand-fullscreen\");\n\nif (customFullscreen &amp;&amp; libraryFullscreen) {\n    libraryFullscreen.addEventListener(\"click\", function (evt) {\n        if (customFullscreen.requestFullscreen) {\n            customFullscreen.requestFullscreen();\n        }\n        else if (customFullscreen.msRequestFullscreen) {\n            customFullscreen.msRequestFullscreen();\n        }\n        else if (customFullscreen.mozRequestFullScreen) {\n            customFullscreen.mozRequestFullScreen();\n        }\n        else if (customFullscreen.webkitRequestFullScreen) {\n            customFullscreen.webkitRequestFullScreen();\n        }\n    }, false);\n}\n\n\nvar customFullscreen2 = document.getElementById(\"fullscreen-table-2\")\n    libraryFullscreen2 = document.getElementById(\"expand-fullscreen-2\");\n\nif (customFullscreen2 &amp;&amp; libraryFullscreen2) {\n    libraryFullscreen2.addEventListener(\"click\", function (evt) {\n        if (customFullscreen2.requestFullscreen) {\n            customFullscreen2.requestFullscreen();\n        }\n        else if (customFullscreen2.msRequestFullscreen) {\n            customFullscreen2.msRequestFullscreen();\n        }\n        else if (customFullscreen2.mozRequestFullScreen) {\n            customFullscreen2.mozRequestFullScreen();\n        }\n        else if (customFullscreen2.webkitRequestFullScreen) {\n            customFullscreen2.webkitRequestFullScreen();\n        }\n    }, false);\n}\n</code></pre>\n\n<p>})();`</p>\n\n<p><a href=\"https://codepen.io/MistaPrime/pen/vYBjjWX\" rel=\"nofollow noreferrer\">https://codepen.io/MistaPrime/pen/vYBjjWX</a></p>\n"}, {"tags": ["javascript", "xml", "multidimensional-array", "xml-parsing", "nested"], "answers": [{"comments": [{"owner": {"reputation": 313, "user_id": 4891052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c5f5f1395c690e03584864c14e56236?s=128&d=identicon&r=PG", "display_name": "Taha Ergun", "link": "https://stackoverflow.com/users/4891052/taha-ergun"}, "edited": false, "score": 0, "creation_date": 1568234218, "post_id": 57896370, "comment_id": 102214057, "body": "Thanks for answer, its working. But let assume if i have 10.000 items it loops up to finish it and taken 10 seconds to complete and it adds index number to dot notation.  ``` [   &#39;products.product.0.name&#39;,   &#39;products.product.0.description&#39;,   &#39;products.product.1.name&#39;,   &#39;products.product.1.description&#39;,   &#39;products.product.2.name&#39;,   &#39;products.product.2.description&#39;, ] ```  How can i solve to non add index number ?"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "reply_to_user": {"reputation": 313, "user_id": 4891052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c5f5f1395c690e03584864c14e56236?s=128&d=identicon&r=PG", "display_name": "Taha Ergun", "link": "https://stackoverflow.com/users/4891052/taha-ergun"}, "edited": false, "score": 0, "creation_date": 1568234500, "post_id": 57896370, "comment_id": 102214163, "body": "you could take a <code>Set</code> instead of an array for checking duplicates, which are impossible, because you can not have two same named properties in an object. so either omit this check or take a <code>Set</code>. for getting a different make up for the string, you could check for arrays and use a different style."}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 0, "last_activity_date": 1568234047, "last_edit_date": 1568234047, "creation_date": 1568233644, "answer_id": 57896370, "question_id": 57896251, "link": "https://stackoverflow.com/questions/57896251/js-convert-xml-data-to-dot-array-notation/57896370#57896370", "title": "JS: Convert xml data to dot array notation", "body": "<p>I would take a check for a nested object at first and if no nested object, push the actual key.</p>\n\n<pre><code>function walk(obj, key = '', response = []) {\n    Object.keys(obj).forEach(objKey =&gt; {\n        var newKey = key + (key &amp;&amp; '.') + objKey;\n        if (obj[objKey] &amp;&amp; typeof obj[objKey] === 'object') {\n            return walk(obj[objKey], newKey, response); // take nested object, not key\n        }\n        if (!response.includes(newKey)) { // do you expect duplicates?\n            response.push(newKey);\n        }\n    });\n    return response;\n}\n</code></pre>\n\n<blockquote>\n  <p>When i try to run this code i got \"RangeError: Maximum call stack size exceeded\"</p>\n</blockquote>\n\n<p>Right, you take a string (the key of an object) and any not empty string has properties, for each character one. And this string is handed over to the next recursion with the same result.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>console.log(Object.keys(\"foo\"));</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 313, "user_id": 4891052, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8c5f5f1395c690e03584864c14e56236?s=128&d=identicon&r=PG", "display_name": "Taha Ergun", "link": "https://stackoverflow.com/users/4891052/taha-ergun"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 168, "favorite_count": 0, "accepted_answer_id": 57896370, "answer_count": 1, "score": 1, "last_activity_date": 1568234047, "creation_date": 1568233113, "last_edit_date": 1568233603, "question_id": 57896251, "link": "https://stackoverflow.com/questions/57896251/js-convert-xml-data-to-dot-array-notation", "title": "JS: Convert xml data to dot array notation", "body": "<p>I have a xml file, it is list of products and repeating itself for number of products.\nMy problem is that i want to convert xml tags into dot notation javascript array.</p>\n\n<p>Sample xml data: <a href=\"http://a.cdn.searchspring.net/help/feeds/searchspring.xml\" rel=\"nofollow noreferrer\">http://a.cdn.searchspring.net/help/feeds/searchspring.xml</a></p>\n\n<p>Expected result:</p>\n\n<pre><code>[ \n  'Products.Product.Product_ID',\n  'Products.Product.SKU',\n  'Products.Product.Name' \n]\n</code></pre>\n\n<p>In this sample xml data accessing product name requires 2 nested level. But if xml data has 5 nested level it should must read up to 5 nested level. So it should depends on xml nested level.\nExpected result for 5 nested level xml data</p>\n\n<pre><code>[ \n  'Products.Product.Categories.Category.Name',\n  'Products.Product.Categories.Category.Description',\n]\n</code></pre>\n\n<pre><code>import * as parser from 'fast-xml-parser';\nimport * as fs from 'fs';\nimport * as path from 'path';\n\nconst xmlData = fs.readFileSync(path.resolve('format.xml'), 'utf8');\nconst tObj = parser.getTraversalObj(xmlData);\nconst jsonObjects = parser.convertToJson(tObj);\n\nfunction walk(obj, key = '', response = []) {\n  Object.keys(obj).forEach(objKey =&gt; {\n    key = key + objKey;\n    if (!response.includes(key)) {\n      response.push(key);\n    }\n    if (Object.keys(obj[objKey]).length &gt; 0) {\n      walk(obj[objKey], key, response);\n    }\n  });\n  return response;\n}\n\nwalk(jsonObjects);\n\n</code></pre>\n\n<p>When i try to run this code i got \"RangeError: Maximum call stack size exceeded\"</p>\n"}, {"tags": ["javascript", "php", "jquery"], "comments": [{"owner": {"reputation": 111, "user_id": 11000698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nGtgK_aQtCs/AAAAAAAAAAI/AAAAAAAABEE/3oLMgCh0BGo/photo.jpg?sz=128", "display_name": "Christoff X", "link": "https://stackoverflow.com/users/11000698/christoff-x"}, "edited": false, "score": 1, "creation_date": 1568240032, "post_id": 57896196, "comment_id": 102215743, "body": "You&#39;ve done this before... remember: <a href=\"https://stackoverflow.com/questions/57795319/get-selected-value-from-dynamic-dropdown-in-table\" title=\"get selected value from dynamic dropdown in table\">stackoverflow.com/questions/57795319/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1568290506, "post_id": 57897425, "comment_id": 102232909, "body": "that makes a lot sense but <code>$position</code> is a string and I need to provide the <code>$positionID</code> to <code>var value</code>. How does that fit in here?"}, {"owner": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1568303206, "post_id": 57897425, "comment_id": 102240366, "body": "As in your comment on the post, I was able to <code>var position_ID = $(this).parents(&#39;tr&#39;).find(&#39;.positionList&#39;).val();</code> to the javascript to get the value. I didn&#39;t make the connection to this question and the previous post initially."}, {"owner": {"reputation": 111, "user_id": 11000698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nGtgK_aQtCs/AAAAAAAAAAI/AAAAAAAABEE/3oLMgCh0BGo/photo.jpg?sz=128", "display_name": "Christoff X", "link": "https://stackoverflow.com/users/11000698/christoff-x"}, "reply_to_user": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "edited": false, "score": 0, "creation_date": 1568504365, "post_id": 57897425, "comment_id": 102295278, "body": "Cool! Glad you sorted it out. Remember the .text() and .val() does not refer to the content type you are trying to retrieve but rather the method in which it is retrieved. \ud83d\ude42"}], "tags": [], "owner": {"reputation": 111, "user_id": 11000698, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-nGtgK_aQtCs/AAAAAAAAAAI/AAAAAAAABEE/3oLMgCh0BGo/photo.jpg?sz=128", "display_name": "Christoff X", "link": "https://stackoverflow.com/users/11000698/christoff-x"}, "is_accepted": false, "score": 0, "last_activity_date": 1568239768, "creation_date": 1568239768, "answer_id": 57897425, "question_id": 57896196, "link": "https://stackoverflow.com/questions/57896196/get-id-for-input-text-value/57897425#57897425", "title": "Get id for input text value", "body": "<p>So the problem is you are asking for the innerHTML of the input element:</p>\n\n<pre><code>&lt;input type='text' class='positionList' value='&lt;?php echo $position; ?&gt;' /&gt;\n</code></pre>\n\n<p>The issue is the input tag is a self closing tag. This means that it is exactly the same as this:</p>\n\n<pre><code>&lt;input type='text' class='positionList' value='&lt;?php echo $position; ?&gt;'&gt;&lt;/input&gt;\n</code></pre>\n\n<p>This means that there is no \"innerHTML\" as we left it blank</p>\n\n<p>So to fix this we can just change your Javascript line from:</p>\n\n<pre><code>var value = $(this).text();\n</code></pre>\n\n<p>To this:</p>\n\n<pre><code>var value = $(this).val();\n</code></pre>\n\n<p>This retrieves the \"value\" attribute of the input field rather than the innerHTML.</p>\n"}], "owner": {"reputation": 63, "user_id": 10344178, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-GTgmALaC87A/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaOv_7FLG_is3JIBSkDZ3IMG8OdPJg/mo/photo.jpg?sz=128", "display_name": "choooper2006", "link": "https://stackoverflow.com/users/10344178/choooper2006"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 332, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568239768, "creation_date": 1568232869, "question_id": 57896196, "link": "https://stackoverflow.com/questions/57896196/get-id-for-input-text-value", "title": "Get id for input text value", "body": "<p>I have a autocomplete field where I need to get the database id of the displayed text to send to jQuery to update database. I don't know how to get the id of the select text. </p>\n\n<p>This function gets the available values as you type, then when the text is selected it displays the text.</p>\n\n<pre><code>$(function() {\n            $(\".positionList\").autocomplete({\n                source: \"get-position.php?\",\n                select: function( event, ui ) {\n                    event.preventDefault();\n                    $(\".positionList\").val(ui.item.value);\n                }\n            });\n        });\n</code></pre>\n\n<p>This is where the input text box is:</p>\n\n<pre><code>&lt;tr&gt;\n&lt;td&gt; &lt;div contentEditable='true' class='edit' id='postionID_&lt;?php echo $id; ?&gt;'&gt;&lt;input type='text' class='positionList' value='&lt;?php echo $position; ?&gt;' /&gt;&lt;/div&gt;&lt;/td&gt;\n</code></pre>\n\n<p>When I get here I have the <code>$id</code> of the user to update, <code>$position</code> which is the name, and <code>$positionID</code> which is what needs to be sent to the jQuery.</p>\n\n<p>This does the update and <code>var value</code> is empty. This variable should contain the <code>$positionID</code>. </p>\n\n<pre><code>$(\".edit\").focusout(function(){\n        $(this).removeClass(\"editMode\");\n\n        var id = this.id;\n        var split_id = id.split(\"_\");\n        var field_name = split_id[0];\n        var edit_id = split_id[1];\n\n        var value = $(this).text();\n\n        $.ajax({\n            url: 'update.php',\n            type: 'post',\n            data: { field:field_name, value:value, id:edit_id },\n            //data: { field:field_name, value:value, id:edit_id, checked:checkedStatus },\n            success:function(response){               \n            }\n        });\n\n    });\n</code></pre>\n"}, {"tags": ["javascript", "audio-streaming", "web-audio-api"], "comments": [{"owner": {"reputation": 940, "user_id": 4214310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85TSC.jpg?s=128&g=1", "display_name": "vmontanheiro", "link": "https://stackoverflow.com/users/4214310/vmontanheiro"}, "edited": false, "score": 0, "creation_date": 1568948166, "post_id": 57896185, "comment_id": 102445537, "body": "I resolved it using wasm, AudioWorkletProcessor with a RingBuffer implementation."}, {"owner": {"reputation": 940, "user_id": 4214310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85TSC.jpg?s=128&g=1", "display_name": "vmontanheiro", "link": "https://stackoverflow.com/users/4214310/vmontanheiro"}, "edited": false, "score": 0, "creation_date": 1571333123, "post_id": 57896185, "comment_id": 103215641, "body": "I recent publish a NPM lib to makes it easy <a href=\"https://www.npmjs.com/package/wasm-ring-buffer\" rel=\"nofollow noreferrer\">npmjs.com/package/wasm-ring-buffer</a>"}], "owner": {"reputation": 940, "user_id": 4214310, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/85TSC.jpg?s=128&g=1", "display_name": "vmontanheiro", "link": "https://stackoverflow.com/users/4214310/vmontanheiro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 39, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1568232820, "creation_date": 1568232820, "question_id": 57896185, "link": "https://stackoverflow.com/questions/57896185/how-to-capture-audio-buffer-only-8-bytes-every-each-20ms", "title": "How to capture audio buffer only 8 bytes every each 20ms?", "body": "<p>I'm capturing a microphone stream using Javascript Web Audio API, I'm sending the data by UDP transport, but before sending I need to convert the data to 8 frames every each 20ms (160 size total). Does anyone have an example or did it before?</p>\n\n<pre><code>navigator.mediaDevices.getUserMedia({ audio: true })\n    .then((stream)=&gt;{\n\n        micStream.setStream(stream);\n\n        const context = new AudioContext();\n        const processor = context.createScriptProcessor(16384,1,1);\n        const mediaStreamSource = context.createMediaStreamSource(stream);\n        mediaStreamSource.connect(processor);\n        processor.connect(context.destination);\n\n      processor.onaudioprocess = (e) =&gt;{\n        try{\n          if(!this.isValidAudio()){\n            context.close();\n          }else{\n            const leftData = e.inputBuffer.getChannelData(0);\n            const buffer = this.convertFloat32ToInt16(leftData); \n\n            this.ws.send(buffer, (result)=&gt;{\n                console.log('Result &gt;&gt; ', result);\n            }, false);\n          }\n        }catch(error){\n          console.log('error &gt;&gt; ', error)\n        }\n      };\n    }).catch((e)=&gt;{\n      console.log('stream error &gt;&gt; ', e);\n    })\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1568232368, "post_id": 57896033, "comment_id": 102213485, "body": "Do you just mean how to implementation memoization generally? See e.g. <a href=\"https://stackoverflow.com/questions/30386943/how-to-create-a-memoize-function\" title=\"how to create a memoize function\">stackoverflow.com/questions/30386943/&hellip;</a>."}, {"owner": {"reputation": 13413, "user_id": 2184584, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/RQRat.jpg?s=128&g=1", "display_name": "Christopher Francisco", "link": "https://stackoverflow.com/users/2184584/christopher-francisco"}, "edited": false, "score": 0, "creation_date": 1568232387, "post_id": 57896033, "comment_id": 102213491, "body": "It isn&#39;t clear what you&#39;re asking. A react functional component is stateless so it can&#39;t save a value in a way that lets you read it every time you call the function.  Outside of a functional component, you can just assign the computed value to a variable or a data structure, like a dictionary, and read the value as usual"}, {"owner": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "edited": false, "score": 0, "creation_date": 1568232854, "post_id": 57896033, "comment_id": 102213631, "body": "Yes, I&#39;m asking about memoization generally. Most memoization libraries have an API that takes a function and returns a new, wrapped function. I like the React <code>useMemo</code> API, which returns a value, not a wrapped function. I&#39;m asking how I&#39;d implement something like it myself."}], "answers": [{"comments": [{"owner": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "edited": false, "score": 0, "creation_date": 1568232943, "post_id": 57896191, "comment_id": 102213661, "body": "The question asked for something with the same API as <code>useMemo</code>. This is a function which returns another function, which is a fine way to implement memoization, but not what the question asked for."}, {"owner": {"reputation": 3410, "user_id": 5287931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e93dd28ac91f6370e79092520cca155a?s=128&d=identicon&r=PG&f=1", "display_name": "ehab", "link": "https://stackoverflow.com/users/5287931/ehab"}, "reply_to_user": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "edited": false, "score": 0, "creation_date": 1568233088, "post_id": 57896191, "comment_id": 102213714, "body": "@danvk how do you think useMemo actually work ? it returns a a memoized function? and you are the one who requested something that could be implemented outside react"}, {"owner": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "edited": false, "score": 1, "creation_date": 1568233453, "post_id": 57896191, "comment_id": 102213829, "body": "<code>useMemo</code> returns a <i>value</i>, not a function."}, {"owner": {"reputation": 3410, "user_id": 5287931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e93dd28ac91f6370e79092520cca155a?s=128&d=identicon&r=PG&f=1", "display_name": "ehab", "link": "https://stackoverflow.com/users/5287931/ehab"}, "reply_to_user": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "edited": false, "score": 0, "creation_date": 1568233768, "post_id": 57896191, "comment_id": 102213934, "body": "@danvk and how do you think that value is returned if the dependencies did not it change, it is because its based on a memoized function (and hence the name useMemo). The fact that it returns a value, just means that each time they would call that memoize function with the provided value.   If You have a memoized function already implemented, then doing useMemo would be no more than const useMemo = (fn, deps) =&gt; {     // memoizedFn is a memoizedFuntion that is created somewhere based on a memoization method     return memoizedFn(deps) }"}, {"owner": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "edited": false, "score": 0, "creation_date": 1568234071, "post_id": 57896191, "comment_id": 102214008, "body": "When I say &quot;the same API&quot; I mean &quot;the same API&quot;. I think it&#39;s an interesting design which is different than every other memoization tool I&#39;ve seen. It&#39;s not obvious to me how one would go about implementing it, hence the question. (If it&#39;s obvious to you, then please provide an answer with the same API.)"}, {"owner": {"reputation": 3410, "user_id": 5287931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e93dd28ac91f6370e79092520cca155a?s=128&d=identicon&r=PG&f=1", "display_name": "ehab", "link": "https://stackoverflow.com/users/5287931/ehab"}, "reply_to_user": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "edited": false, "score": 0, "creation_date": 1568236179, "post_id": 57896191, "comment_id": 102214742, "body": "@danvk i edited my answer to give you the same api, once memization is done, returning a value instead of a function, is just one small step ahead"}, {"owner": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "edited": false, "score": 0, "creation_date": 1568237564, "post_id": 57896191, "comment_id": 102215163, "body": "Thanks for reworking it @ehab. Unfortunately this implementation has a major bug: it uses a global Map for the memoized results. If you try to memoize two different functions, they will share the same cache and potentially return inaccurate results. The interesting part is figuring out whether this is the same function / call to <code>useMemo</code>."}, {"owner": {"reputation": 3410, "user_id": 5287931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e93dd28ac91f6370e79092520cca155a?s=128&d=identicon&r=PG&f=1", "display_name": "ehab", "link": "https://stackoverflow.com/users/5287931/ehab"}, "reply_to_user": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "edited": false, "score": 0, "creation_date": 1568266569, "post_id": 57896191, "comment_id": 102221175, "body": "@danvk Yea that was indeed a major bug... I fixed it. I agree that my first answer was out of context and lacked details, and i&#39;m sorry for that. I hope that this answer now is sufficient"}, {"owner": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "edited": false, "score": 0, "creation_date": 1571854772, "post_id": 57896191, "comment_id": 103381793, "body": "I&#39;ve added a clarification to the question. I do not believe it&#39;s possible to replicate this API outside of a controlled environment like a React component."}, {"owner": {"reputation": 3410, "user_id": 5287931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e93dd28ac91f6370e79092520cca155a?s=128&d=identicon&r=PG&f=1", "display_name": "ehab", "link": "https://stackoverflow.com/users/5287931/ehab"}, "reply_to_user": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "edited": false, "score": 0, "creation_date": 1571933153, "post_id": 57896191, "comment_id": 103411653, "body": "Your clarification shows that the implementation of useMemo does not take into account which component useMemo is currently running in. Notice that you are actually not passing 3 different functions, you are passing the same function actually. Its the same reference to the same memory location.  The implementation is similar to what i provided to my answer, it memoizes the function call based on the function and the arguments only (it does not even take into account the context which is the currently rendered react component: this is what was showed by your clarification)"}, {"owner": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "edited": false, "score": 0, "creation_date": 1571981064, "post_id": 57896191, "comment_id": 103425245, "body": "This is simply not how JavaScript closures work. See <a href=\"https://codepen.io/danvk/pen/qBBrLNR?editors=1011\" rel=\"nofollow noreferrer\">this codepen</a> which saves the function objects and shows that they are different on the three calls."}, {"owner": {"reputation": 3410, "user_id": 5287931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e93dd28ac91f6370e79092520cca155a?s=128&d=identicon&r=PG&f=1", "display_name": "ehab", "link": "https://stackoverflow.com/users/5287931/ehab"}, "reply_to_user": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "edited": false, "score": 0, "creation_date": 1572271403, "post_id": 57896191, "comment_id": 103497675, "body": "@danvk When i was saying that u are passing the same function i&#39;m referring to someExpensiveComputation, If u declare it inside the body of the component, and pass it as a dependency for the useMemo you will see the console statement 3 times. Basically useMemo does not care for anything that is outside its dependencies including the function that you pass for it as its first argument (unless you add it as a dependency itself, which does not make any senes but can still work). Anyway if u really interested go check useMemo source code its open source"}], "tags": [], "owner": {"reputation": 3410, "user_id": 5287931, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e93dd28ac91f6370e79092520cca155a?s=128&d=identicon&r=PG&f=1", "display_name": "ehab", "link": "https://stackoverflow.com/users/5287931/ehab"}, "is_accepted": false, "score": 0, "last_activity_date": 1568266395, "last_edit_date": 1568266395, "creation_date": 1568232840, "answer_id": 57896191, "question_id": 57896033, "link": "https://stackoverflow.com/questions/57896033/equivalent-of-react-usememo-outside-of-a-component/57896191#57896191", "title": "Equivalent of React.useMemo outside of a component", "body": "<p>Well this concept is called memoization, it has many implementations in javascript, here is one popular one <a href=\"https://github.com/medikoo/memoizee#readme\" rel=\"nofollow noreferrer\">https://github.com/medikoo/memoizee#readme</a>.</p>\n\n<p>Here is a naive implementation of the same api of useMemo</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const memorizedResults = new Map();\r\nconst useMemo = (fn, deps) =&gt; {\r\n  // there are two unique factors to the computation, first the function itself then the dependencies\r\n\r\n  // First memorize results based on FN\r\n  const memorizedResultsBasedOnFn =\r\n    memorizedResults.get(fn) ||\r\n    (memorizedResults.set(fn, new Map()) &amp;&amp; memorizedResults.get(fn));\r\n\r\n  // Then get/set results based on dependencies to each individual function\r\n  return (\r\n    memorizedResultsBasedOnFn.get(deps) ||\r\n    (memorizedResultsBasedOnFn.set(deps, fn()) &amp;&amp;\r\n      memorizedResultsBasedOnFn.get(deps))\r\n  );\r\n};\r\n\r\nconst someExpensiveComputation = n =&gt; {\r\n  console.log('n', n);\r\n  return n;\r\n};\r\n\r\nconst f = () =&gt; someExpensiveComputation(10);\r\nconst anotherF = () =&gt; someExpensiveComputation(20);\r\n\r\nconst deps = [5];\r\nconst result1 = useMemo(f, deps); // These two will log n only once, meaning that f was called only once\r\nconst result2 = useMemo(f, deps);\r\nconst result3 = useMemo(f, [3]);\r\nconst result4 = useMemo(anotherF, deps);\r\n\r\n// as expected will be 10 10 10 20 and 10 will be logged only twice\r\nconsole.log(result1, result2, result3, result4); </code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>In a real implementation you would be using a WeakMap instead of a Map, and you need to make sure that your cache size wont grow indefinitely regardless of how many times useMemo is called.</p>\n"}], "owner": {"reputation": 13057, "user_id": 388951, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/a2aaa6cd108f9a803ec61e20d76963f1?s=128&d=identicon&r=PG", "display_name": "danvk", "link": "https://stackoverflow.com/users/388951/danvk"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2225, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1571854728, "creation_date": 1568232079, "last_edit_date": 1571854728, "question_id": 57896033, "link": "https://stackoverflow.com/questions/57896033/equivalent-of-react-usememo-outside-of-a-component", "title": "Equivalent of React.useMemo outside of a component", "body": "<p>I really like the API of React's <a href=\"https://reactjs.org/docs/hooks-reference.html#usememo\" rel=\"nofollow noreferrer\">useMemo hook</a>, where you write a function and list its dependencies in an array:</p>\n\n<pre><code>const memoizedValue = useMemo(\n  () =&gt; computeExpensiveValue(a, b),\n  [a, b]\n);\n</code></pre>\n\n<p>It has the downside, however, that it can only be used inside a React function component. How can I implement something with the same API that can be used anywhere?</p>\n\n<p>(<strong>Clarification</strong>)</p>\n\n<p>I understand what memoization is. I'm talking specifically about the <code>useMemo</code> hook's API. Whereas most memoization libraries take a function and return a memoized version of that function, <code>useMemo</code> takes a function and an arguments list and returns a <em>value</em>. There are no wrapped functions exposed to the user.</p>\n\n<p>The other interesting part of this API is that repeated calls to <code>useMemo</code> will use the same cache, even though a new anonymous function is being created on every call (full example on <a href=\"https://codepen.io/danvk/pen/qBBrLNR?editors=1111\" rel=\"nofollow noreferrer\">codepen</a>):</p>\n\n<pre><code>import {useMemo} from 'react';\nimport ReactDOM from 'react-dom';\n\nfunction computeExpensiveValue(a, b) {\n  console.log('computing expensive value');\n  return a + b;\n}\nfunction MyComponent(props) {\n  const {a, b} = props;\n  const memoizedValue = useMemo(\n    () =&gt; computeExpensiveValue(a, b),\n    [a, b]\n  );\n  return &lt;div&gt;{memoizedValue}&lt;/div&gt;\n}\nfor (const i of [1, 2, 3]) {\n  ReactDOM.render(&lt;MyComponent a={1} b={2} /&gt;, el);\n}\n</code></pre>\n\n<p>This only logs \"computing expensive value\" once, even though three different functions are passed to <code>useMemo</code>. Clearly <code>useMemo</code> is using something other than the function object as its cache key, and that's the truly interesting part of its API.</p>\n"}, {"tags": ["javascript", "timer", "return-value", "onload", "auto-update"], "comments": [{"owner": {"reputation": 11079, "user_id": 423316, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/258a1b2413690b20d938fe0cfeeac9c0?s=128&d=identicon&r=PG", "display_name": "zod", "link": "https://stackoverflow.com/users/423316/zod"}, "edited": false, "score": 0, "creation_date": 1568232416, "post_id": 57896018, "comment_id": 102213495, "body": "if no jquery .  you may try this <a href=\"https://www.sitepoint.com/jquery-document-ready-plain-javascript/\" rel=\"nofollow noreferrer\">sitepoint.com/jquery-document-ready-plain-javascript</a>     as there is no proper trigger. when page load complete"}, {"owner": {"reputation": 631, "user_id": 8765409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fCqLN.jpg?s=128&g=1", "display_name": "Pxaml", "link": "https://stackoverflow.com/users/8765409/pxaml"}, "reply_to_user": {"reputation": 11079, "user_id": 423316, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/258a1b2413690b20d938fe0cfeeac9c0?s=128&d=identicon&r=PG", "display_name": "zod", "link": "https://stackoverflow.com/users/423316/zod"}, "edited": false, "score": 0, "creation_date": 1568232973, "post_id": 57896018, "comment_id": 102213672, "body": "How would it be using jquery?"}, {"owner": {"reputation": 11079, "user_id": 423316, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/258a1b2413690b20d938fe0cfeeac9c0?s=128&d=identicon&r=PG", "display_name": "zod", "link": "https://stackoverflow.com/users/423316/zod"}, "edited": false, "score": 0, "creation_date": 1568233444, "post_id": 57896018, "comment_id": 102213824, "body": "how do the fetch happen in intervals? is it ajax?"}, {"owner": {"reputation": 631, "user_id": 8765409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fCqLN.jpg?s=128&g=1", "display_name": "Pxaml", "link": "https://stackoverflow.com/users/8765409/pxaml"}, "reply_to_user": {"reputation": 11079, "user_id": 423316, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/258a1b2413690b20d938fe0cfeeac9c0?s=128&d=identicon&r=PG", "display_name": "zod", "link": "https://stackoverflow.com/users/423316/zod"}, "edited": false, "score": 0, "creation_date": 1568234552, "post_id": 57896018, "comment_id": 102214192, "body": "@zod . not intervals yet but Im open to ideas. all I have is what you see on my snippet. Thanks"}], "answers": [{"comments": [{"owner": {"reputation": 631, "user_id": 8765409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fCqLN.jpg?s=128&g=1", "display_name": "Pxaml", "link": "https://stackoverflow.com/users/8765409/pxaml"}, "edited": false, "score": 0, "creation_date": 1568233711, "post_id": 57896338, "comment_id": 102213918, "body": "Yes. exactly that. I will have to go and refresh to always be getting new data. but if I use that onload it will be refreshing the script every 2 seconds and it will be always blinking. that&#39;s why I want to try to -1) make another call - get the data 2) only refresh updatelabel-so after the second call, do not update everything inside the script only the row."}], "tags": [], "owner": {"reputation": 316, "user_id": 10708920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c66ce356482cea812439909bd3ce1416?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/10708920/josh"}, "is_accepted": false, "score": 1, "last_activity_date": 1568233526, "creation_date": 1568233526, "answer_id": 57896338, "question_id": 57896018, "link": "https://stackoverflow.com/questions/57896018/how-to-update-individual-element-in-javascript-only-depending-on-service-respons/57896338#57896338", "title": "How to update individual element in javascript only depending on service response", "body": "<p>I need a little more  information for your  question. </p>\n\n<p><strong>How could item.updatelabel.value be different if Its getting the render data from serivce response ?</strong> </p>\n\n<p>you wrote  \"if item.updatelabel.value is different from the service response then update item\" ? . It appears To be an Array of items, and the value rendered is a string. so are your trying to say \"if any of the items are changed after the API call to call the API again or you have hard coded items and want to update them from an API call ? </p>\n\n<p>When you say \"update that item\" do you mean make another API request or change the state of the application page ? </p>\n"}, {"comments": [{"owner": {"reputation": 11079, "user_id": 423316, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/258a1b2413690b20d938fe0cfeeac9c0?s=128&d=identicon&r=PG", "display_name": "zod", "link": "https://stackoverflow.com/users/423316/zod"}, "reply_to_user": {"reputation": 631, "user_id": 8765409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fCqLN.jpg?s=128&g=1", "display_name": "Pxaml", "link": "https://stackoverflow.com/users/8765409/pxaml"}, "edited": false, "score": 0, "creation_date": 1568298338, "post_id": 57896600, "comment_id": 102237604, "body": "give dynamic id for class or id like class=&quot;updatelabel-text-i&quot; to identify that and replace using .html"}, {"owner": {"reputation": 631, "user_id": 8765409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fCqLN.jpg?s=128&g=1", "display_name": "Pxaml", "link": "https://stackoverflow.com/users/8765409/pxaml"}, "edited": false, "score": 0, "creation_date": 1568391984, "post_id": 57896600, "comment_id": 102272090, "body": "I was able to use your logic. Thanks. I didn&#39;t use ajax because it had to be done in JS only. but the idea was perfect for what I need it. thanks"}], "tags": [], "owner": {"reputation": 11079, "user_id": 423316, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/258a1b2413690b20d938fe0cfeeac9c0?s=128&d=identicon&r=PG", "display_name": "zod", "link": "https://stackoverflow.com/users/423316/zod"}, "is_accepted": true, "score": 1, "last_activity_date": 1568234826, "creation_date": 1568234826, "answer_id": 57896600, "question_id": 57896018, "link": "https://stackoverflow.com/questions/57896018/how-to-update-individual-element-in-javascript-only-depending-on-service-respons/57896600#57896600", "title": "How to update individual element in javascript only depending on service response", "body": "<p>Call an ajax in certain intervals and , inside the call back of the ajax replace the text</p>\n\n<pre><code>function fetchdata(){\n $.ajax({\n  url: 'fetch.php',\n  type: 'post',\n  success: function(response){\n   // Perform operation on the return value\n    if($conditionsatisfy){\n            document.querySelector('.myclass').innerHTML = newdoc;\n\n  }\n });\n}\n\n$(document).ready(function(){\n setInterval(fetchdata,5000);\n});\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 631, "user_id": 8765409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fCqLN.jpg?s=128&g=1", "display_name": "Pxaml", "link": "https://stackoverflow.com/users/8765409/pxaml"}, "edited": false, "score": 0, "creation_date": 1568249562, "post_id": 57897513, "comment_id": 102217662, "body": "I see. WebSockets are awsome. but all I need to update is this  &lt;h2 id=&quot;id&quot; class=&quot;updatelabel-text&quot;&gt;${item.updatelabel}&lt;/h2&gt;(** This is the only thing to update) .Thank you for your responses ."}], "tags": [], "owner": {"reputation": 316, "user_id": 10708920, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c66ce356482cea812439909bd3ce1416?s=128&d=identicon&r=PG&f=1", "display_name": "Josh", "link": "https://stackoverflow.com/users/10708920/josh"}, "is_accepted": false, "score": 0, "last_activity_date": 1568240885, "last_edit_date": 1568240885, "creation_date": 1568240463, "answer_id": 57897513, "question_id": 57896018, "link": "https://stackoverflow.com/questions/57896018/how-to-update-individual-element-in-javascript-only-depending-on-service-respons/57897513#57897513", "title": "How to update individual element in javascript only depending on service response", "body": "<p>So Now that I understand you correctly you could have some condition as above and keep calling. <strong>I think what your best solution for this would be is  Web Sockets.</strong> \n<a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API</a></p>\n\n<p>With Websockets you can have a realtime connection between the client and the server. Check out <a href=\"https://socket.io/\" rel=\"nofollow noreferrer\">https://socket.io/</a> makes working with it easy. Like a news feed or Instagram the page will update and function as requested. It will update the items. real time without any need for reload. </p>\n\n<p>Also With your API reuqest you can greatly improve the readability with ES7</p>\n\n<pre><code> const getData = async () =&gt; {\n    //fetching data \n    let data = await fetch(\"https://jsonplaceholder.typicode.com/todos/1\")\n    //converting to json \n    let json = await data.json()\n    console.log(json)\n\n    let serviceResponse = json\n     //do logic or return data here\n }\n\n  getData()\n</code></pre>\n"}], "owner": {"reputation": 631, "user_id": 8765409, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/fCqLN.jpg?s=128&g=1", "display_name": "Pxaml", "link": "https://stackoverflow.com/users/8765409/pxaml"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 462, "favorite_count": 1, "accepted_answer_id": 57896600, "answer_count": 3, "score": -1, "last_activity_date": 1568240885, "creation_date": 1568231974, "question_id": 57896018, "link": "https://stackoverflow.com/questions/57896018/how-to-update-individual-element-in-javascript-only-depending-on-service-respons", "title": "How to update individual element in javascript only depending on service response", "body": "<p>I would like to update a value inside a row, I don't want to use OnReload because that uploads the whole script and it is depending of a timer ex: reload this every 5 seconds ... it is not what I want. Unless there is something modern that I could use for this purpose.\nNot sure, what could trigger this update and how to make this script?\nFor example: if item.updatelabel.value is different from the service response then update item.updatelabel with new value </p>\n\n<pre><code>&lt;script&gt;\n        fetch(\"http:myservice\").then(res =&gt; res.json()).then(serviceResponse =&gt; {\n            let newdoc = '';\n            for (const item of serviceResponse) {\n                newdoc += `\n                    &lt;div class=\"1\"&gt;\n                       &lt;p id=\"name\" class=\"title-text  \"&gt;${item.id}&lt;/p&gt;\n                      &lt;h2 id=\"id\" class=\"updatelabel-text\"&gt;${item.updatelabel}&lt;/h2&gt;(** This is the only thing to update)\n                      &lt;p class=\"small-text \"&gt;some fancy text&lt;/p&gt;\n                     &lt;/div&gt;\n                `\n            }\n            document.querySelector('.myclass').innerHTML = newdoc;\n        })\n    &lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568232178, "post_id": 57895951, "comment_id": 102213423, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/722668/traverse-all-the-nodes-of-a-json-object-tree-with-javascript\">Traverse all the Nodes of a JSON Object Tree with JavaScript</a>"}], "answers": [{"comments": [{"owner": {"reputation": 850, "user_id": 9814870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5bbfc7c9957ff91d3890255729c04?s=128&d=identicon&r=PG&f=1", "display_name": "ashok", "link": "https://stackoverflow.com/users/9814870/ashok"}, "edited": false, "score": 0, "creation_date": 1568232675, "post_id": 57896057, "comment_id": 102213586, "body": "Tanks I got it, but can you suggest what changes I have to do for getting array result as I have given [&quot;paramList.parameterName&quot;,&quot;paramList.parameterpresentValue&quot;&zwnj;&#8203;,&quot;paramList.paramete&zwnj;&#8203;runits&quot;]"}, {"owner": {"reputation": 13413, "user_id": 2184584, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/RQRat.jpg?s=128&g=1", "display_name": "Christopher Francisco", "link": "https://stackoverflow.com/users/2184584/christopher-francisco"}, "reply_to_user": {"reputation": 850, "user_id": 9814870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5bbfc7c9957ff91d3890255729c04?s=128&d=identicon&r=PG&f=1", "display_name": "ashok", "link": "https://stackoverflow.com/users/9814870/ashok"}, "edited": false, "score": 0, "creation_date": 1568233627, "post_id": 57896057, "comment_id": 102213890, "body": "Did you try running <code>else if( typeof obj[el] === &#39;object&#39; || Array.isArray(obj[el] ) {</code>  condition?"}], "tags": [], "owner": {"reputation": 13413, "user_id": 2184584, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/RQRat.jpg?s=128&g=1", "display_name": "Christopher Francisco", "link": "https://stackoverflow.com/users/2184584/christopher-francisco"}, "is_accepted": false, "score": 0, "last_activity_date": 1568232191, "creation_date": 1568232191, "answer_id": 57896057, "question_id": 57895951, "link": "https://stackoverflow.com/questions/57895951/in-javascript-how-to-get-traversal-path-for-json-nodes/57896057#57896057", "title": "In javascript how to get traversal path for json nodes", "body": "<p>You are initializing the <code>.reduce()</code> with a blank array <code>[]</code>, and then you have this line inside the callback:</p>\n\n<pre><code>.reduce((res, el) =&gt;   // `res` is the accumulator array, `el` is the new element\n\n  if( Array.isArray(obj[el]) ) {\n    return res;\n  }\n</code></pre>\n\n<p>Your first object, <code>paramList</code> is an array... so you return the blank <code>[]</code> that you initially passed. That's why you see no output. The code there is wrong</p>\n"}], "owner": {"reputation": 850, "user_id": 9814870, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9ec5bbfc7c9957ff91d3890255729c04?s=128&d=identicon&r=PG&f=1", "display_name": "ashok", "link": "https://stackoverflow.com/users/9814870/ashok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 58, "favorite_count": 1, "answer_count": 1, "score": 0, "last_activity_date": 1568232191, "creation_date": 1568231570, "question_id": 57895951, "link": "https://stackoverflow.com/questions/57895951/in-javascript-how-to-get-traversal-path-for-json-nodes", "title": "In javascript how to get traversal path for json nodes", "body": "<p>If I having a nested JSON I wanted all the keys traversal path,</p>\n\n<p>like for</p>\n\n<pre><code>var a={\n     \"a\":\"b\",\n     \"c\":{\n     \"d\":\"e\"\n      }\n   }\n\nconst keyify = (obj, prefix = '') =&gt; \n  Object.keys(obj).reduce((res, el) =&gt; {\n    if( Array.isArray(obj[el]) ) {\n      return res;\n    } else if( typeof obj[el] === 'object' &amp;&amp; obj[el] !== null ) {\n      return [...res, ...keyify(obj[el], prefix + el + '.')];\n    } else {\n      return [...res, prefix + el];\n    }\n  }, []);\n\nconst output = keyify(a);\n\nconsole.log(output);\n</code></pre>\n\n<p>Output will be:</p>\n\n<pre><code>[ \"a\", \"c.d\" ]\n</code></pre>\n\n<p>In the above code it'll return all keys if it is not having object or array I means if it having string/integer/boolean.\nBut for the below payload it is not giving any output.</p>\n\n<pre><code>var a=\n\n    {\n      \"paramList\": [\n        {\n          \"parameterName\": \"temperature\",\n          \"parameterpresentValue\": \"25.32\",\n          \"parameterunits\": \"\u00b0C\"\n        },\n        {\n          \"parameterName\": \"Pressure\",\n          \"parameterpresentValue\": \"1004.08\",\n          \"parameterunits\": \"mBar\"\n        }]\n        }\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>[\"paramList.parameterName\",\"paramList.parameterpresentValue\",\"paramList.parameterunits\"]\n</code></pre>\n"}, {"tags": ["javascript", "sorting", "if-statement", "jestjs"], "comments": [{"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1568231686, "post_id": 57895949, "comment_id": 102213254, "body": "please add the result of sorting. what is <code>-1</code>? do you mean descending?"}, {"owner": {"reputation": 603, "user_id": 5581497, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0aea85da2a8245ce8e409a222c2721a4?s=128&d=identicon&r=PG", "display_name": "Eli Nathan", "link": "https://stackoverflow.com/users/5581497/eli-nathan"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1568232000, "post_id": 57895949, "comment_id": 102213369, "body": "I&#39;ve posted that. Yeah! The <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort#Description\" rel=\"nofollow noreferrer\">compare function</a>"}], "answers": [{"comments": [{"owner": {"reputation": 603, "user_id": 5581497, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0aea85da2a8245ce8e409a222c2721a4?s=128&d=identicon&r=PG", "display_name": "Eli Nathan", "link": "https://stackoverflow.com/users/5581497/eli-nathan"}, "edited": false, "score": 0, "creation_date": 1568232307, "post_id": 57896020, "comment_id": 102213464, "body": "That&#39;s great! Is there anywhere I can learn more about symmetrical sorting?"}], "tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": true, "score": 2, "last_activity_date": 1568231982, "creation_date": 1568231982, "answer_id": 57896020, "question_id": 57895949, "link": "https://stackoverflow.com/questions/57895949/jest-coverage-on-conditional-array-sort/57896020#57896020", "title": "Jest coverage on conditional Array.sort()", "body": "<p>You may use a symmetrical sorting, without checking of only greater values.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const array = [{ key: \"Leicester City games\", points: 44, goalsDif: -15, goalsFor: 48 }, { key: \"Leicester City games\", points: 44, goalsDif: -15, goalsFor: 41 }, { key: \"Chelsea games\", points: 93, goalsDif: 52, goalsFor: 85 }];\r\n\r\narray.sort((a, b) =&gt; b.points- a.points || b.goalsDif &gt; a.goalsDif || b.goalsFor - a.goalsFor);\r\n\r\nconsole.log(array);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 603, "user_id": 5581497, "user_type": "registered", "accept_rate": 50, "profile_image": "https://www.gravatar.com/avatar/0aea85da2a8245ce8e409a222c2721a4?s=128&d=identicon&r=PG", "display_name": "Eli Nathan", "link": "https://stackoverflow.com/users/5581497/eli-nathan"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 398, "favorite_count": 0, "accepted_answer_id": 57896020, "answer_count": 1, "score": 1, "last_activity_date": 1568231982, "creation_date": 1568231558, "last_edit_date": 1568231875, "question_id": 57895949, "link": "https://stackoverflow.com/questions/57895949/jest-coverage-on-conditional-array-sort", "title": "Jest coverage on conditional Array.sort()", "body": "<p>I'm so close to 100% test coverage but I can't figure out how to cover this conditional sort method.</p>\n\n<p>I'm trying to sort by three properties of an object: points, goalsDif then goalsFor.</p>\n\n<ol>\n<li>So if points is greater then move the index by -1</li>\n<li>If points are equal but goals difference is higher then move the index by -1</li>\n<li>If points and goalsDif are equal but goalsFor is higher then move index by -1</li>\n<li>If none of the conditions are met then move index by 1</li>\n</ol>\n\n<p><strong>Any idea how I might test it?</strong></p>\n\n<p>My array, sort and test look like this:</p>\n\n<h3>Array</h3>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\r\n  {\r\n    key: \"Leicester City games\",\r\n    points: 44,\r\n    goalsDif: -15,\r\n    goalsFor: 48\r\n  },\r\n  {\r\n    key: \"Stoke City games\",\r\n    points: 44,\r\n    goalsDif: -15,\r\n    goalsFor: 41\r\n  },\r\n  {\r\n    key: \"Chelsea games\",\r\n    points: 93,\r\n    goalsDif: 52,\r\n    goalsFor: 85\r\n  },\r\n]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h3>Sort</h3>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>arr.sort((a, b) =&gt; {\r\n  // Sort by points\r\n  if (a.points &gt; b.points) return -1;\r\n  \r\n  // If points are equal... Sort by goals difference\r\n  else if (a.point) === b.points &amp;&amp; a.goalsDif &gt; b.goalsDif) return -1;\r\n  \r\n  /*\r\n    If points and GD are equal... Sort by goals for\r\n    THE LINE BELOW IS WHERE THE TEST COVERAGE SHOWS IS LACKING\r\n  */\r\n  else if ( a.points === b.points &amp;&amp; a.goalsDif === b.goalsDif &amp;&amp; a.goalsFor &gt; b.goalsFor) return -1;\r\n  \r\n  // If none of the above conditions are met return 1\r\n  return 1;\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h3>Test (Jest)</h3>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>it('Finally sort based on goals for', () =&gt; {\r\n  // Isoloate the \"Leicester City games\" and \"Stoke City games\" object\r\n  const leicesterObj = sanitizedDummyData.filter(item =&gt; item.key === \"Leicester City games\")[0];\r\n  const stokeObj = sanitizedDummyData.filter(item =&gt; item.key === \"Stoke City games\")[0];\r\n  if (leicesterObj.points() === stokeObj.points()\r\n    &amp;&amp; leicesterObj.goalsDif()\r\n    &amp;&amp; leicesterObj.goalsFor() &gt; stokeObj.goalsFor()) {\r\n    // Expect Leicester to be higher than Stoke in the rankings because of GF\r\n    expect(sanitizedDummyData.indexOf(leicesterObj)).toEqual(sanitizedDummyData.indexOf(stokeObj) - 1);\r\n  }\r\n})</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<h3>Edit</h3>\n\n<p>Sorted array:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr = [\r\n  {\r\n    key: \"Chelsea games\",\r\n    points: 93,\r\n    goalsDif: 52,\r\n    goalsFor: 85\r\n  },\r\n  {\r\n    key: \"Leicester City games\",\r\n    points: 44,\r\n    goalsDif: -15,\r\n    goalsFor: 48\r\n  },\r\n  {\r\n    key: \"Stoke City games\",\r\n    points: 44,\r\n    goalsDif: -15,\r\n    goalsFor: 41\r\n  },\r\n  \r\n]</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "typescript", "class", "ecmascript-6", "constructor"], "comments": [{"owner": {"reputation": 14830, "user_id": 3757232, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/kLzML.jpg?s=128&g=1", "display_name": "Jared Smith", "link": "https://stackoverflow.com/users/3757232/jared-smith"}, "edited": false, "score": 2, "creation_date": 1568232578, "post_id": 57895938, "comment_id": 102213551, "body": "If the constant is a primitive type (e.g. number, string) or enum make it an out-of-class constant. Export it. Whatever. It&#39;s a const declared primitive: it&#39;s not going to change on you. If it&#39;s a reference type (object, array), and only if it&#39;s a reference type, should you even <i>consider</i> making it a private property."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 1, "creation_date": 1568232774, "post_id": 57895938, "comment_id": 102213609, "body": "This question has no correct answer and will bring in a lot of opinions rather than fact based approaches. Generally, asking for the &quot;best&quot; or &quot;better&quot; approach does that, when you don&#39;t give objective criteria for what those modifiers mean."}, {"owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "edited": false, "score": 0, "creation_date": 1568233006, "post_id": 57895938, "comment_id": 102213686, "body": "^^ as such there are 3 votes (including mine) to close as primarily opinion based"}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 1, "creation_date": 1568233165, "post_id": 57895938, "comment_id": 102213746, "body": "The whole point of using a type-system is not to rely on runtime type-checking! Anything code that calls <code>myDigit.value = x</code> where <code>x</code> is not a <code>number</code> should throw a compile-time error."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1568233258, "post_id": 57895938, "comment_id": 102213779, "body": "@user633183 and that&#39;s what it does! NaN <i>is a number</i> unfortunately ..."}, {"owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1568233525, "post_id": 57895938, "comment_id": 102213853, "body": "<code>NaN</code>, &quot;not a number&quot;, has type <code>number</code>... and that&#39;s typescript, ladies and gentleman -_-"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "edited": false, "score": 0, "creation_date": 1568233628, "post_id": 57895938, "comment_id": 102213891, "body": "@jhpratt &quot;all good questions generate some degree of opinion&quot; ..."}, {"owner": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "reply_to_user": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "edited": false, "score": 0, "creation_date": 1568234320, "post_id": 57895938, "comment_id": 102214091, "body": "@user633183 You&#39;re right about that but I&#39;m expecting to receive input at runtime and try catch errors."}, {"owner": {"reputation": 5513, "user_id": 2718801, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/9d4b144cdafa73e1d470362ed8d7c3a9?s=128&d=identicon&r=PG", "display_name": "jhpratt", "link": "https://stackoverflow.com/users/2718801/jhpratt"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568243164, "post_id": 57895938, "comment_id": 102216451, "body": "@JonasWilms There&#39;s a big difference between that and <i>literally</i> asking what the best approach is."}], "answers": [{"comments": [{"owner": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568234722, "post_id": 57896103, "comment_id": 102214256, "body": "Yeah that looks fine to me, but it kind of makes me feel like the setter is wasted, as you have a <code>set value</code> and then a <code>setValue</code> inside of the class."}, {"owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "reply_to_user": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568234910, "post_id": 57896103, "comment_id": 102214310, "body": "As you said &quot;That value setter would never trigger in the constructor as the class needs to be instantiated to do so,&quot; given your setter requirement I don&#39;t know of a different way to avoid repeating yourself."}], "tags": [], "owner": {"reputation": 4545, "user_id": 4562204, "user_type": "registered", "profile_image": "https://graph.facebook.com/10205865723100888/picture?type=large", "display_name": "Jake Holzinger", "link": "https://stackoverflow.com/users/4562204/jake-holzinger"}, "is_accepted": false, "score": 0, "last_activity_date": 1568232367, "creation_date": 1568232367, "answer_id": 57896103, "question_id": 57895938, "link": "https://stackoverflow.com/questions/57895938/typescript-private-readonly-vs-outside-of-class-const/57896103#57896103", "title": "typescript private readonly vs outside of class const", "body": "<p>I'm not sure there is a \"right\" answer here. I would personally prefer there to be a single implementation for setting the value, then you can call that implementation from the constructor.</p>\n\n<pre><code>export class Digit {\n  private _value: number = null;\n\n  constructor(value: number) {\n    this.setValue(value);\n  }\n\n  set value(value: number) {\n    this.setValue(value);\n  }\n\n  get valor() {\n    return this._value;\n  }\n\n  private setValue(value: number) {\n    if (isNaN(value)) { throw new Error('Received NaN as digit.'); }\n    this._value = value;\n  }\n\n}\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568233300, "post_id": 57896176, "comment_id": 102213791, "body": "<a href=\"http://www.typescriptlang.org/play/#code/C4TwDgpgBAcg9sGBDGUC8UB2BXAtgIwgCcoAyKAbygH1rMFkYAuKYI7aAXygB8oBGXlABMQ-sIDcAKCkAzbJgDGwAJZxMWBigAUmFkkwgAlCw0qAzrC2oKUqFCIRg2IhoCEFxrqPTOMqYoANkjmlgAiKgDmKsCUdlCK6uZs2MpwRNpg2PiBKopQAG5IgRws8IgoRpRQfn4ygU5QACZRMehYEADuUBHRwNriPlINseZwuBAAasUc7QDUmUTjYP0ARADKLmBEFtATbqtVPHyrh9ItfQB0RSXQGGMT07fSKrK61toPUzMQRlW29guMWuP3aXyeHF8QA\" rel=\"nofollow noreferrer\">Playground</a>"}, {"owner": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568234571, "post_id": 57896176, "comment_id": 102214200, "body": "Interesting, but wouldn&#39;t that enforce the check outside of the class? Who better than the class itself knows which values it can hold? Imagine the same class with 10 attributes and different type validations for each one.  Also why throwing Errors is not a good idea?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568234750, "post_id": 57896176, "comment_id": 102214266, "body": "@Juli&#225;n right, it enforces <i>the developer</i> to directly validate input data &amp; math operations. I admit that this might add some overhead due to some unneccessary guards (seems as if numer literal types will get more powerful soon, then this might get more elegant)"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568234833, "post_id": 57896176, "comment_id": 102214285, "body": "@Juli&#225;nn errors are thrown at runtime. Instead of handling the errors somehow, this enforces you to proactively check the data, and that way you can also directly give user feedback etc."}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568234862, "post_id": 57896176, "comment_id": 102214292, "body": "&quot;Who better than the class itself knows which values it can hold?&quot;, right, thats why the type specifies that."}, {"owner": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568235540, "post_id": 57896176, "comment_id": 102214545, "body": "Oh I think I understand. You mean adding the validation on the inputs on the frontend, detecting the error before the instance is ever created. If that&#39;s the case I find the use of types useful, the thing is that i have to add logic to the frontend every time instead of just reusing the same class. Plus, having the business logic inside of the class gives me the advantage of also reusing it in the backend. try catching errors then would allow me to just report the error to a user via a dialog or via an http response. What do you think about it in that case?"}, {"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "reply_to_user": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "edited": false, "score": 0, "creation_date": 1568235621, "post_id": 57896176, "comment_id": 102214576, "body": "Well then it really depends. I&#39;m generally not a friend of validation inside of getters/setters, but if thats whats works best for you ..."}], "tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 1, "last_activity_date": 1568233735, "last_edit_date": 1568233735, "creation_date": 1568232744, "answer_id": 57896176, "question_id": 57895938, "link": "https://stackoverflow.com/questions/57895938/typescript-private-readonly-vs-outside-of-class-const/57896176#57896176", "title": "typescript private readonly vs outside of class const", "body": "<p>I'd personally introduce another type, e.g. <code>NotNaN</code>:</p>\n\n<pre><code>type NotNaN = number &amp; { __notNaN: true };\n</code></pre>\n\n<p>Then you can write a validator for that:</p>\n\n<pre><code>function notNaN(n: any): n is NotNaN {\n  return !isNaN(n);\n}\n</code></pre>\n\n<p>And also type your class properties accordingly:</p>\n\n<pre><code>class Digit {\n  constructor(public value: NotNaN) { }\n}\n</code></pre>\n\n<p>Then you can write things like:</p>\n\n<pre><code>let digit = new Digit(12 as NotNaN);\nlet someValue = +prompt(\"Surprise me!\");\n\n// Properly checked, works:\nif(notNaN(someValue)) {\n  digit.value = someValue;\n}\n\n// Not properly checked:\ndigit.value = someValue;\n// TypeError: type 'number' is not assignable to type 'NotNaN'\n</code></pre>\n\n<p>That way, you can avoid getters / setters at all. Throwing errors is not a good idea, instead you should properly validate inputs &amp; operations, and thats what this enforces.</p>\n"}], "owner": {"reputation": 134, "user_id": 9062446, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4b8db106a0b4ebaf4a762a20d4cb6a5d?s=128&d=identicon&r=PG&f=1", "display_name": "Juli&#225;n", "link": "https://stackoverflow.com/users/9062446/juli%c3%a1n"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 196, "favorite_count": 0, "closed_date": 1568234155, "answer_count": 2, "score": 0, "last_activity_date": 1568234183, "creation_date": 1568231511, "last_edit_date": 1568234183, "question_id": 57895938, "link": "https://stackoverflow.com/questions/57895938/typescript-private-readonly-vs-outside-of-class-const", "closed_reason": "Opinion-based", "title": "typescript private readonly vs outside of class const", "body": "<p>I'm wondering whats the best approach or if there is any consequence when referring to outside of the class constants in the same file. </p>\n\n<p>The problem arouse when I was declaring a simple class that would throw an error when receiving an invalid parameter:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Digit {\n  private _value: number = null;\n\n  constructor(value: number) {\n    this._value = value;\n  }\n\n  set value(value: number) {\n    if (isNaN(value)) { throw new Error('Received NaN as digit.'); }\n\n    this._value = value;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n}\n</code></pre>\n\n<p>That <em>value</em> setter would never trigger in the constructor as the class needs to be instantiated to do so.</p>\n\n<p>Because I want to keep things simple, I just want this example class to hold a valid digit or to not exist at all, so I don't want to instantiate it with null on its <em>value</em>. This led me to the following code:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Digit {\n  private _value: number = null;\n\n  constructor(value: number) {\n    if (isNaN(value)) { throw new Error('Received NaN as digit.'); }\n\n    this._value = value;\n  }\n\n  set value(value: number) {\n    if (isNaN(value)) { throw new Error('Received NaN as digit.'); }\n\n    this._value = value;\n  }\n\n  get value() {\n    return this._value;\n  }\n\n}\n</code></pre>\n\n<p>Which works fine but now I'm repeating myself! Imagine doing a validation like that for 10 or more fields.</p>\n\n<p>So I thought about two solutions:</p>\n\n<p>1- Refactor into a validation function inside of class</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>export class Digit {\n  private _value: number = null;\n\n  private readonly validateValue = function (value: number): number {\n    if (isNaN(value)) { throw new Error('Received NaN as digit.'); }\n\n    return value;\n  };\n\n  constructor(value: number) {\n    this._value = this.validateValue(value);\n  }\n\n  set value(value: number) {\n    this._value = this.validateValue(value);\n  }\n\n  get value() {\n    return this._value;\n  }\n\n}\n</code></pre>\n\n<p>I like this approach because all the business logic is contained inside of the class. But its still reachable outside of this if you choose not to respect the private scope.\nThe thing i don't like about it is that the class gets cluttered easily as more and more fields and validations are added, then it gets distracting to the eye, as you may be wanting to fix some behavior knowing that your instance values are correct.</p>\n\n<p>2- Refactor into a validation function outside of class but in the same file</p>\n\n<pre><code>const validateValue = function (value: number): number {\n  if (isNaN(value)) { throw new Error('Received NaN as digit.'); }\n\n  return value;\n};\n\nexport class Digit {\n  private _value: number = null;\n\n  constructor(value: number) {\n    this._value = validateValue(value);\n  }\n\n  set value(value: number) {\n    this._value = validateValue(value);\n  }\n\n  get value() {\n    return this._value;\n  }\n\n}\n</code></pre>\n\n<p>What I like about this approach is that I can go straight to my class code with the precondition that values are correct and validated and I'm not being distracted by them inside of my class. Plus I can't choose to omit a private scope and access its validators.</p>\n\n<p>Also if validations get really extensive I can choose to create a helper for the class and refactor the validations outside of the file (don't know if that's a bad practice).</p>\n\n<p>On the other hand I don't know about the consequences of using these outside of class declarations.</p>\n\n<p>So what would be the best approach for this problem? Are both solutions valid?  Is there a better approach?</p>\n"}, {"tags": ["javascript", "vue.js", "vuex"], "comments": [{"owner": {"reputation": 129, "user_id": 11885269, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-Kk1pt8ffpyE/AAAAAAAAAAI/AAAAAAAAAAc/LHWIdTpVDbo/photo.jpg?sz=128", "display_name": "Ahmad Noor", "link": "https://stackoverflow.com/users/11885269/ahmad-noor"}, "edited": false, "score": 0, "creation_date": 1568231608, "post_id": 57895876, "comment_id": 102213215, "body": "can you please share your code ?"}, {"owner": {"reputation": 4373, "user_id": 1838984, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/63ca7be2cd7b6ca42ed9785952a4761a?s=128&d=identicon&r=PG", "display_name": "farincz", "link": "https://stackoverflow.com/users/1838984/farincz"}, "edited": false, "score": 0, "creation_date": 1568231639, "post_id": 57895876, "comment_id": 102213228, "body": "Remember that console.log prints live objects. I guess you are changing stations from different part of code (which depends on what is set by your mutation) Try to call commit(&#39;SET_STATION&#39;, ) directly with mock data and without and looks what happen.Vue dev tools extension should also help you to see when data in store is changed during time."}, {"owner": {"reputation": 3, "user_id": 9506658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc9767e8a534fbce2385fb19a5ae1dc6?s=128&d=identicon&r=PG&f=1", "display_name": "D. Breidert", "link": "https://stackoverflow.com/users/9506658/d-breidert"}, "edited": false, "score": 0, "creation_date": 1568233154, "post_id": 57895876, "comment_id": 102213741, "body": "I created a github repo with the full code: <a href=\"https://github.com/david-breidert/station-problem\" rel=\"nofollow noreferrer\">github.com/david-breidert/station-problem</a>"}, {"owner": {"reputation": 1770, "user_id": 3667121, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3N0g8.jpg?s=128&g=1", "display_name": "DedaDev", "link": "https://stackoverflow.com/users/3667121/dedadev"}, "edited": false, "score": 0, "creation_date": 1568234479, "post_id": 57895876, "comment_id": 102214153, "body": "Looks everything fine to me, It&#39;s probably something on a backend."}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 12055327, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-aHK25jLZnaY/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rchF2uu0td26DNjw5_D8wWmHU4ipA/photo.jpg?sz=128", "display_name": "Leo Chen", "link": "https://stackoverflow.com/users/12055327/leo-chen"}, "is_accepted": false, "score": 0, "last_activity_date": 1568238204, "creation_date": 1568238204, "answer_id": 57897178, "question_id": 57895876, "link": "https://stackoverflow.com/questions/57895876/array-changed-by-vuex-after-mutating-state/57897178#57897178", "title": "Array changed by Vue(x) after mutating state", "body": "<p>Because <code>stations</code> data was using in somewhere. I think you are using something like <code>v-for\"item in stations\" :key=\"item.id\"</code>.  When you <code>commit('SET_STATIONS', res.data)</code>, it changed <code>stations</code>. And it have duplicate <code>id</code>.</p>\n"}], "owner": {"reputation": 3, "user_id": 9506658, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/cc9767e8a534fbce2385fb19a5ae1dc6?s=128&d=identicon&r=PG&f=1", "display_name": "D. Breidert", "link": "https://stackoverflow.com/users/9506658/d-breidert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 31, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568238204, "creation_date": 1568231258, "question_id": 57895876, "link": "https://stackoverflow.com/questions/57895876/array-changed-by-vuex-after-mutating-state", "title": "Array changed by Vue(x) after mutating state", "body": "<p>I'm building a Vue application for learning purposes and I'm currently stuck on updating an array in my state with data from an API. This is my API:</p>\n\n<pre><code>{\n  \"stations\": [\n    {\n      \"id\": 1,\n      \"name\": \"Station 1\",\n    },\n    {\n      \"id\": 2,\n      \"name\": \"Station 2\",\n    }\n  ]\n}\n</code></pre>\n\n<p>This is the action in my Vuex store (the ApiService simply returns the axios response):</p>\n\n<pre><code>actions: {\n  fetchStations({ commit }) {\n    let promise = ApiService.getStations()\n    promise.then(res =&gt; {\n      console.log(res.data)\n      commit('SET_STATIONS', res.data)\n    })\n  },\n</code></pre>\n\n<p>and this is the mutation:</p>\n\n<pre><code>mutations: {\n  SET_STATIONS(state, stations) {\n    state.stations = stations\n  },\n</code></pre>\n\n<p>When I check the logged res.data in the devtools I get <a href=\"https://i.stack.imgur.com/0gqDA.png\" rel=\"nofollow noreferrer\">this</a><br>\nAs you can see the id of both Objects is '2' even though in the DB they are different.</p>\n\n<p>Interestingly, when I comment out the commit line in my action like so:</p>\n\n<pre><code>actions: {\n  fetchStations({ commit }) {\n    let promise = ApiService.getStations()\n    promise.then(res =&gt; {\n      console.log(res.data)\n      // commit('SET_STATIONS', res.data)\n    })\n},\n</code></pre>\n\n<p>the issue is gone and res.data is completely <a href=\"https://i.stack.imgur.com/z8GLu.png\" rel=\"nofollow noreferrer\">different</a></p>\n\n<p>Can anyone explain to me why this is the case and how I could fix it?</p>\n\n<p>Thank you!</p>\n"}, {"tags": ["javascript", "java", "android", "android-studio", "toast"], "answers": [{"tags": [], "owner": {"reputation": 447, "user_id": 4194293, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Cz0qH.png?s=128&g=1", "display_name": "Jose Nuno", "link": "https://stackoverflow.com/users/4194293/jose-nuno"}, "is_accepted": false, "score": 3, "last_activity_date": 1568231040, "creation_date": 1568231040, "answer_id": 57895831, "question_id": 57895786, "link": "https://stackoverflow.com/questions/57895786/java-lang-runtimeexception-cant-toast-on-a-thread-that-has-not-called-looper-p/57895831#57895831", "title": "java.lang.RuntimeException: Can&#39;t toast on a thread that has not called Looper.prepare()", "body": "<p>Your <code>Toast.makeText</code> method should be called on the main thread. You can do it like this:</p>\n\n<pre><code>runOnUiThread(new Runnable() {\n    public void run() {\n        Toast.makeText(getApplicationContext(), \"Could not find weather :(\", Toast.LENGTH_SHORT).show();\n    }\n});\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 86, "user_id": 5302003, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-4-UH-yw-B7Q/AAAAAAAAAAI/AAAAAAAAAUc/smn1oMGyGP8/photo.jpg?sz=128", "display_name": "Dhiogo Boza", "link": "https://stackoverflow.com/users/5302003/dhiogo-boza"}, "is_accepted": false, "score": 0, "last_activity_date": 1568231339, "creation_date": 1568231339, "answer_id": 57895897, "question_id": 57895786, "link": "https://stackoverflow.com/questions/57895786/java-lang-runtimeexception-cant-toast-on-a-thread-that-has-not-called-looper-p/57895897#57895897", "title": "java.lang.RuntimeException: Can&#39;t toast on a thread that has not called Looper.prepare()", "body": "<p>The problem is because your toast is being created and displayed in doInBackground method. In android user interface actions must be handle in UI thread. The method onPostExecute is called in UI thread but the method doInBackground is called in another thread. To solve your problem remove the Toast from doInBackground method and put the following lines in onPostExecute method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// If s equals to null an error ocurred in doInBackground\nif (s == null) {\n    Toast.makeText(getApplicationContext(), \"Could not find weather :(\",\n            Toast.LENGTH_SHORT).show();\n}\n</code></pre>\n\n<p>See: <a href=\"https://developer.android.com/training/multiple-threads/communicate-ui\" rel=\"nofollow noreferrer\">https://developer.android.com/training/multiple-threads/communicate-ui</a></p>\n"}], "owner": {"reputation": 21, "user_id": 11887056, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-kYI0iXS8kFk/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rf4pfAJwAbxQN1DGChBgmefKsVnoA/photo.jpg?sz=128", "display_name": "Primtoes", "link": "https://stackoverflow.com/users/11887056/primtoes"}, "delete_vote_count": 1, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2921, "favorite_count": 0, "closed_date": 1568248357, "answer_count": 2, "score": 2, "last_activity_date": 1568248372, "creation_date": 1568230779, "question_id": 57895786, "link": "https://stackoverflow.com/questions/57895786/java-lang-runtimeexception-cant-toast-on-a-thread-that-has-not-called-looper-p", "closed_reason": "Duplicate", "title": "java.lang.RuntimeException: Can&#39;t toast on a thread that has not called Looper.prepare()", "body": "<p>I am following a tutorial from Udemy to make a weather app. This is my first time working with JSON data as well so I'm not sure if that is impacting my situation. Every time I run my app, it opens, however; when I press the button that is supposed to display the weather of the given city, the app crashes.  </p>\n\n<p>I researched Looper.prepare() as that was included in the error, but adding the looper did not work (I'm new to coding and I may have done so incorrectly) I also tried adding runOnUiThread (new Runnable) to no avail (again I may have done so incorrectly).</p>\n\n<pre><code>    public class MainActivity extends AppCompatActivity {\n\n    EditText editText;\n    TextView resultTextView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        editText = findViewById(R.id.editText);\n        resultTextView = findViewById(R.id.resultTextView);\n\n    }\n\n    public void getWeather(View view) {\n        try {\n            DownloadTask task = new DownloadTask();\n            String encodedCityName = \nURLEncoder.encode(editText.getText().toString(), \"UTF-8\");\n\n            task.execute(\"http://openweathermap.org/data/2.5/weather?q=\" \n+ encodedCityName + \"&amp;appid=b1b15e88fa797225412429c1c50c122a1\");\n\n            InputMethodManager mgr = (InputMethodManager) \ngetSystemService(Context.INPUT_METHOD_SERVICE);\n            mgr.hideSoftInputFromWindow(editText.getWindowToken(), 0);\n        } catch (Exception e) {\n            e.printStackTrace();\n            Toast.makeText(getApplicationContext(), \"Could not find \nweather :(\", Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    public class DownloadTask extends AsyncTask&lt;String, Void, String&gt; {\n\n\n        @Override\n        protected String doInBackground(String... urls) {\n            String result = \"\";\n            URL url;\n            HttpURLConnection urlConnection = null;\n            try {\n\n                url = new URL(urls[0]);\n                urlConnection = (HttpURLConnection) url.openConnection();\n                InputStream in = urlConnection.getInputStream();\n                InputStreamReader reader = new InputStreamReader(in);\n                int data = reader.read();\n\n                while (data != -1) {\n                    char current = (char) data;\n                    result += current;\n                    data = reader.read();\n                }\n\n                return result;\n\n            } catch (Exception e) {\n                e.printStackTrace();\n\n                Toast.makeText(getApplicationContext(), \"Could not find \nweather :(\", Toast.LENGTH_SHORT).show();\n                return null;\n            }\n        }\n\n        @Override\n        protected void onPostExecute(String s) {\n            super.onPostExecute(s);\n\n            Looper.prepare();\n            try {\n                JSONObject jsonObject = new JSONObject(s);\n\n                String weatherInfo = jsonObject.getString(\"weather\");\n\n                Log.i(\"Weather content\", weatherInfo);\n\n                JSONArray arr = new JSONArray(weatherInfo);\n\n                String message = \"\";\n\n                for (int i = 0; i &lt; arr.length(); i++) {\n                    JSONObject jsonPart = arr.getJSONObject(i);\n\n                  String main = jsonPart.getString(\"main\");\n                  String description = jsonPart.getString(\"description\");\n\n                    if (!main.equals(\"\") &amp;&amp; !description.equals(\"\")) {\n                        message += main + \": \" + description + \"\\r\\n\";\n                    }\n                }\n\n                if (!message.equals(\"\")) {\n                    resultTextView.setText(message);\n                } else {\n                    Toast.makeText(getApplicationContext(), \"Could not \n                    find weather :(\", Toast.LENGTH_SHORT).show();\n                }\n\n            } catch (Exception e) {\n\n                Toast.makeText(getApplicationContext(), \"Could not find \n                weather :(\", Toast.LENGTH_SHORT).show();\n\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Here are the errors that appeared in my Logcat</p>\n\n<pre><code>2019-09-11 13:24:52.431 \n7574-7658/com.example.whatstheweather E/AndroidRuntime: FATAL EXCEPTION: \nAsyncTask #1\n\nProcess: com.example.whatstheweather, PID: 7574\njava.lang.RuntimeException: An error occurred while executing \ndoInBackground()\n        at android.os.AsyncTask$4.done(AsyncTask.java:399)\n        at \n    java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:383)\n    at java.util.concurrent.FutureTask.setException(FutureTask.java:252)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:271)\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)       atjava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167) atjava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n    at java.lang.Thread.run(Thread.java:919)\n\nCaused by: java.lang.RuntimeException: Can't toast on a thread that has \nnot called Looper.prepare()\n    at android.widget.Toast$TN.&lt;init&gt;(Toast.java:407)\n    at android.widget.Toast.&lt;init&gt;(Toast.java:121)\n    at android.widget.Toast.makeText(Toast.java:286)\n    at android.widget.Toast.makeText(Toast.java:276)\n\natcom.example.whatstheweather.MainActivity$DownloadTask. \ndoInBackground(MainActivity.java:81)\natcom.example.whatstheweather.MainActivity$DownloadTask. \ndoInBackground(MainActivity.java:53)\n    at android.os.AsyncTask$3.call(AsyncTask.java:378)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:266)\n    at android.os.AsyncTask$SerialExecutor$1.run(AsyncTask.java:289)\u00a0\n    atjava.util.concurrent.ThreadPoolExecutor. \n    runWorker(ThreadPoolExecutor.java:1167)\u00a0\n\natjava.util.concurrent.ThreadPoolExecutor$Worker. \nrun(ThreadPoolExecutor.java:641)\u00a0\n    at java.lang.Thread.run(Thread.java:919)\u00a0\n</code></pre>\n\n<p><strong>This following is from the Run tab</strong></p>\n\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.whatstheweather, PID: 11228\n    java.lang.IllegalStateException: Could not execute method for \n    android:onClick\n    at \nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener. \nonClick(AppCompatViewInflater.java:390)\n    at android.view.View.performClick(View.java:7140)\n    at android.view.View.performClickInternal(View.java:7117)\n    at android.view.View.access$3500(View.java:801)\n    at android.view.View$PerformClick.run(View.java:27351)\n    at android.os.Handler.handleCallback(Handler.java:883)\n    at android.os.Handler.dispatchMessage(Handler.java:100)\n    at android.os.Looper.loop(Looper.java:214)\n    at android.app.ActivityThread.main(ActivityThread.java:7356)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller. \nrun(RuntimeInit.java:492)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n Caused by: java.lang.reflect.InvocationTargetException\n    at java.lang.reflect.Method.invoke(Native Method)\n    at \nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener. \nonClick(AppCompatViewInflater.java:385)\n    at android.view.View.performClick(View.java:7140)\u00a0\n    at android.view.View.performClickInternal(View.java:7117)\u00a0\n    at android.view.View.access$3500(View.java:801)\u00a0\n    at android.view.View$PerformClick.run(View.java:27351)\u00a0\n    at android.os.Handler.handleCallback(Handler.java:883)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:100)\u00a0\n    at android.os.Looper.loop(Looper.java:214)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:7356)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller. \nrun(RuntimeInit.java:492)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\u00a0\n Caused by: java.lang.RuntimeException: Only one Looper may be created \nper thread\n    at android.os.Looper.prepare(Looper.java:108)\n    at android.os.Looper.prepare(Looper.java:103)\n    at \ncom.example.whatstheweather.MainActivity.getWeather(MainActivity.java:43)\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at \nandroidx.appcompat.app.AppCompatViewInflater$DeclaredOnClickListener. \nonClick(AppCompatViewInflater.java:385)\u00a0\n    at android.view.View.performClick(View.java:7140)\u00a0\n    at android.view.View.performClickInternal(View.java:7117)\u00a0\n    at android.view.View.access$3500(View.java:801)\u00a0\n    at android.view.View$PerformClick.run(View.java:27351)\u00a0\n    at android.os.Handler.handleCallback(Handler.java:883)\u00a0\n    at android.os.Handler.dispatchMessage(Handler.java:100)\u00a0\n    at android.os.Looper.loop(Looper.java:214)\u00a0\n    at android.app.ActivityThread.main(ActivityThread.java:7356)\u00a0\n    at java.lang.reflect.Method.invoke(Native Method)\u00a0\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller. \nrun(RuntimeInit.java:492)\u00a0\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:930)\n</code></pre>\n"}, {"tags": ["javascript", "vue.js", "axios"], "comments": [{"owner": {"reputation": 1107, "user_id": 2079271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3prpM.jpg?s=128&g=1", "display_name": "Gowthaman", "link": "https://stackoverflow.com/users/2079271/gowthaman"}, "edited": false, "score": 0, "creation_date": 1568231725, "post_id": 57895741, "comment_id": 102213268, "body": "As you are passing the variable why are you using <code>this.checkMark</code> ? Shouldn&#39;t it be just <code>checkMark = false</code> ?"}, {"owner": {"reputation": 3732, "user_id": 708678, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7fbb6daceccbb0a4dac60a58d725f8a5?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/708678/aaron"}, "reply_to_user": {"reputation": 1107, "user_id": 2079271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3prpM.jpg?s=128&g=1", "display_name": "Gowthaman", "link": "https://stackoverflow.com/users/2079271/gowthaman"}, "edited": false, "score": 0, "creation_date": 1568234234, "post_id": 57895741, "comment_id": 102214063, "body": "@gilango Already tried that and it did not work."}], "answers": [{"comments": [{"owner": {"reputation": 1107, "user_id": 2079271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3prpM.jpg?s=128&g=1", "display_name": "Gowthaman", "link": "https://stackoverflow.com/users/2079271/gowthaman"}, "edited": false, "score": 0, "creation_date": 1568235310, "post_id": 57896658, "comment_id": 102214468, "body": "Missed by a minute :D"}, {"owner": {"reputation": 5778, "user_id": 8698101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32951f0068d47dfdc1dfc90ff44612b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Fleming", "link": "https://stackoverflow.com/users/8698101/b-fleming"}, "reply_to_user": {"reputation": 1107, "user_id": 2079271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3prpM.jpg?s=128&g=1", "display_name": "Gowthaman", "link": "https://stackoverflow.com/users/2079271/gowthaman"}, "edited": false, "score": 1, "creation_date": 1568235523, "post_id": 57896658, "comment_id": 102214541, "body": "@gilango Your answer is still valuable by pointing out the option to pass in an <i>object</i> as opposed to a <i>primitive</i>. I would suggest clarifying that the OP should avoid using <code>this.checkMark</code> if using your solution (I could see this being easily overlooked), and perhaps show example code, but otherwise your solution is still a constructive alternative to the one presented here :)"}], "tags": [], "owner": {"reputation": 5778, "user_id": 8698101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a32951f0068d47dfdc1dfc90ff44612b?s=128&d=identicon&r=PG&f=1", "display_name": "B. Fleming", "link": "https://stackoverflow.com/users/8698101/b-fleming"}, "is_accepted": false, "score": 1, "last_activity_date": 1568235158, "creation_date": 1568235158, "answer_id": 57896658, "question_id": 57895741, "link": "https://stackoverflow.com/questions/57895741/vue-changing-a-bool-from-true-to-false-inside-of-an-axios-api-call/57896658#57896658", "title": "Vue changing a bool from true to false inside of an Axios API call", "body": "<p>Naturally it's not going to work. When you pass <code>this.fnameEntered</code> into the method call, you no longer hold a reference to the original property <code>fnameEntered</code>, only a copy of the value it contained when you invoked the method. Furthermore, <code>this.checkMark</code> and <code>self.checkMark</code> will check for the <em>hard-coded</em> property name <code>checkMark</code>, which is completely different from the variable name <code>checkMark</code>.</p>\n\n<p>If you want to retrieve a dynamic property name's value, you need to do the following:<br>\n 1. Pass in the name of the desired property as a string.<br>\n 2. Retrieve the value using the passed in property name.</p>\n\n<p>This will look something like this:</p>\n\n<pre><code>methods: {\n    submitFirstName: function(event){\n        this.updateUserInfo(this.fname, \"fname\", \"fnameEntered\");\n    },\n    updateUserInfo: function (val, field, propertyName) {\n        axios.post('/userprofilepage', {\n            val: val,\n            field: field\n        })\n            .then(response =&gt; {\n                let self = this;\n                setTimeout(function() {\n\n                    self.$data[propertyName] = false;\n                }, 2000);\n                this.$data[propertyName] = true;\n            })\n            .catch(error =&gt; {\n                console.log(error);\n            })\n            .finally(() =&gt; this.loading = false)\n    }\n}\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1107, "user_id": 2079271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/3prpM.jpg?s=128&g=1", "display_name": "Gowthaman", "link": "https://stackoverflow.com/users/2079271/gowthaman"}, "is_accepted": true, "score": 1, "last_activity_date": 1568235274, "creation_date": 1568235274, "answer_id": 57896681, "question_id": 57895741, "link": "https://stackoverflow.com/questions/57895741/vue-changing-a-bool-from-true-to-false-inside-of-an-axios-api-call/57896681#57896681", "title": "Vue changing a bool from true to false inside of an Axios API call", "body": "<p>It is not updating because you are passing a boolean which is primitive data type. JavaScript always pass the primitive data types into function as value and not by reference. There are 2 ways you can make it work</p>\n\n<ol>\n<li>Use <code>this.fnameEntered</code> inside your method</li>\n<li>Change <code>this.fnameEntered</code> to an object as <code>this.fnameEntered = { value: false}</code> then use <code>checkMark.value = true</code> inside your method</li>\n</ol>\n"}], "owner": {"reputation": 3732, "user_id": 708678, "user_type": "registered", "accept_rate": 81, "profile_image": "https://www.gravatar.com/avatar/7fbb6daceccbb0a4dac60a58d725f8a5?s=128&d=identicon&r=PG", "display_name": "Aaron", "link": "https://stackoverflow.com/users/708678/aaron"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 670, "favorite_count": 0, "accepted_answer_id": 57896681, "answer_count": 2, "score": 1, "last_activity_date": 1568235274, "creation_date": 1568230510, "question_id": 57895741, "link": "https://stackoverflow.com/questions/57895741/vue-changing-a-bool-from-true-to-false-inside-of-an-axios-api-call", "title": "Vue changing a bool from true to false inside of an Axios API call", "body": "<p>I am using Vue.js and Axios to make an API call.\nWhen the call returns I want to set a variable that is false to true temporarily.  I am using a SetTimeout to do this.  The issue I am running into is that unless I hard code the variable name Vue does not respond.</p>\n\n<p>In my template</p>\n\n<pre><code>&lt;i v-if=\"fnameEntered\" id=\"fnameCheckPlacement\" class=\"fnameCheck\" class=\"form-control-feedback glyphicon glyphicon-ok\" style=\"margin-right: 10%;\"&gt;&lt;/i&gt; \n</code></pre>\n\n<p>Then in my script</p>\n\n<pre><code>  methods: {\n            submitFirstName: function(event){\n                this.updateUserInfo(this.fname, \"fname\", this.fnameEntered);\n            },\n            updateUserInfo: function (val, field, checkMark) {\n                axios.post('/userprofilepage', {\n                    val: val,\n                    field: field\n                })\n                    .then(response =&gt; {\n                        let self = this;\n                        setTimeout(function() {\n\n                            self.checkMark = false;\n                        }, 2000);\n                        this.checkMark = true;\n                    })\n                    .catch(error =&gt; {\n                        console.log(error);\n                    })\n                    .finally(() =&gt; this.loading = false)\n            },\n        }\n</code></pre>\n\n<p>I am trying to pass <code>this.fnameEntered</code> as the variable <code>checkMark</code> into updateUserInfo.  When I hard code <code>this.fnameEntered = true</code> and <code>this.fnameEntered = false</code>. I get the result I want.  </p>\n\n<p>But, when I try to use \"this.checkMark\" or \"self.checkMark\" nothing happens. What am I doing wrong.</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 699, "user_id": 3371280, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/bf6f815dcedde44722ac22b52b43a0ad?s=128&d=identicon&r=PG&f=1", "display_name": "Rohith K N", "link": "https://stackoverflow.com/users/3371280/rohith-k-n"}, "edited": false, "score": 3, "creation_date": 1568230582, "post_id": 57895717, "comment_id": 102212838, "body": "Get the <code>article</code> element in js, and check for child nodes."}, {"owner": {"reputation": 1166, "user_id": 3224608, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/0d3eO.png?s=128&g=1", "display_name": "daddygames", "link": "https://stackoverflow.com/users/3224608/daddygames"}, "edited": false, "score": 0, "creation_date": 1568231385, "post_id": 57895717, "comment_id": 102213112, "body": "what have you tried already? please share."}, {"owner": {"reputation": 3, "user_id": 11943437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88767196dcf8425ee138ca068ffa97f0?s=128&d=identicon&r=PG&f=1", "display_name": "avldokuchaev", "link": "https://stackoverflow.com/users/11943437/avldokuchaev"}, "edited": false, "score": 0, "creation_date": 1568231482, "post_id": 57895717, "comment_id": 102213161, "body": "I tried this: &lt;script&gt;  \t$(document).ready(function() { \t \t\tif($(&quot;.best_places_of_town_category&quot;).text() == &quot;&quot;) {  \t\t\t$(&quot;.best_places_of_town_category&quot;).hide();  \t\t} \t\t \t}); \t &lt;/script&gt;   But it is not working. And I tried this $(&quot;.best_places_of_town_category&quot;).find(&quot;img[src=&#39;&#39;]&quot;).paren&zwnj;&#8203;t().hide();  It is not working too."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11943437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88767196dcf8425ee138ca068ffa97f0?s=128&d=identicon&r=PG&f=1", "display_name": "avldokuchaev", "link": "https://stackoverflow.com/users/11943437/avldokuchaev"}, "edited": false, "score": 0, "creation_date": 1568231684, "post_id": 57895955, "comment_id": 102213251, "body": "I tried this. It is not working. I think because into article have another div element."}], "tags": [], "owner": {"reputation": 1441, "user_id": 1939291, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/YLMDq.jpg?s=128&g=1", "display_name": "MistaPrime", "link": "https://stackoverflow.com/users/1939291/mistaprime"}, "is_accepted": false, "score": 0, "last_activity_date": 1568231590, "creation_date": 1568231590, "answer_id": 57895955, "question_id": 57895717, "link": "https://stackoverflow.com/questions/57895717/how-can-i-hide-the-article-element-if-it-contains-no-image/57895955#57895955", "title": "How can I hide the article element if it contains no image?", "body": "<p>You could try to use the :empty <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/:empty\" rel=\"nofollow noreferrer\">pseudo-class</a>.</p>\n\n<p><code>.best_places_of_town_category:empty {\ndisplay:none;\n}</code></p>\n"}, {"comments": [{"owner": {"reputation": 1282, "user_id": 2704089, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n9zdR.jpg?s=128&g=1", "display_name": "dazed-and-confused", "link": "https://stackoverflow.com/users/2704089/dazed-and-confused"}, "reply_to_user": {"reputation": 3, "user_id": 11943437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88767196dcf8425ee138ca068ffa97f0?s=128&d=identicon&r=PG&f=1", "display_name": "avldokuchaev", "link": "https://stackoverflow.com/users/11943437/avldokuchaev"}, "edited": false, "score": 0, "creation_date": 1568233059, "post_id": 57896158, "comment_id": 102213700, "body": "Just tested again and block disappears only when <code>&lt;img&gt;</code> is missing. Are you expecting the <code>&lt;img&gt;</code> to be within the <code>&lt;div&gt;</code> or anywhere within <code>&lt;article&gt;</code>?"}, {"owner": {"reputation": 3, "user_id": 11943437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88767196dcf8425ee138ca068ffa97f0?s=128&d=identicon&r=PG&f=1", "display_name": "avldokuchaev", "link": "https://stackoverflow.com/users/11943437/avldokuchaev"}, "edited": false, "score": 0, "creation_date": 1568233076, "post_id": 57896158, "comment_id": 102213706, "body": "Thank you. In div element have children p and a element. I add this in your code and it works."}, {"owner": {"reputation": 3, "user_id": 11943437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88767196dcf8425ee138ca068ffa97f0?s=128&d=identicon&r=PG&f=1", "display_name": "avldokuchaev", "link": "https://stackoverflow.com/users/11943437/avldokuchaev"}, "edited": false, "score": 0, "creation_date": 1568233152, "post_id": 57896158, "comment_id": 102213739, "body": "anywhere within article with class best_places_of_town_category"}, {"owner": {"reputation": 1282, "user_id": 2704089, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n9zdR.jpg?s=128&g=1", "display_name": "dazed-and-confused", "link": "https://stackoverflow.com/users/2704089/dazed-and-confused"}, "reply_to_user": {"reputation": 3, "user_id": 11943437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88767196dcf8425ee138ca068ffa97f0?s=128&d=identicon&r=PG&f=1", "display_name": "avldokuchaev", "link": "https://stackoverflow.com/users/11943437/avldokuchaev"}, "edited": false, "score": 0, "creation_date": 1568313552, "post_id": 57896158, "comment_id": 102244666, "body": "Always glad to help. I would recommend reading <a href=\"https://stackoverflow.com/help/someone-answers/\">What should I do when someone answers my question?</a>"}], "tags": [], "owner": {"reputation": 1282, "user_id": 2704089, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/n9zdR.jpg?s=128&g=1", "display_name": "dazed-and-confused", "link": "https://stackoverflow.com/users/2704089/dazed-and-confused"}, "is_accepted": true, "score": 0, "last_activity_date": 1568234487, "last_edit_date": 1568234487, "creation_date": 1568232642, "answer_id": 57896158, "question_id": 57895717, "link": "https://stackoverflow.com/questions/57895717/how-can-i-hide-the-article-element-if-it-contains-no-image/57896158#57896158", "title": "How can I hide the article element if it contains no image?", "body": "<pre><code>&lt;script&gt;\nif ($('.best_places_of_town_category').children('div').children('img').length)\n{\n    console.log('Image exists');\n}\nelse\n{\n    console.log('Image does not exist');\n    $('.best_places_of_town_category').hide();\n}    \n&lt;/script&gt;\n</code></pre>\n\n<p>Here's another example that will look through all of the children nodes of the <code>&lt;article&gt;</code> tag and look for an <code>&lt;img&gt;</code>. \n<br /><br />\n<strong>Note:</strong> This doesn't nest into all tags, just the first level of children in <code>&lt;article&gt;</code></p>\n\n<pre><code>&lt;article class=\"best_places_of_town_category\"&gt;\n    &lt;div&gt;div is here&lt;/div&gt;\n    &lt;p&gt;p tag is here&lt;/p&gt;\n    &lt;img /&gt;\n&lt;/article&gt;\n\n&lt;script&gt;\nvar imgExists = 0;\n$('.best_places_of_town_category').children().each(function () {\n    console.log('DOM Element: ' + this);\n    if (this instanceof HTMLImageElement)\n    {\n        imgExists = 1;\n    }\n});\nif (imgExists)\n{\n    console.log('Image exists within &lt;article&gt;');\n}\nelse\n{\n    console.log('Image does not exist within &lt;article&gt;');\n    $('.best_places_of_town_category').hide();\n}\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 265, "user_id": 10045061, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ksZp4.png?s=128&g=1", "display_name": "GeniusGeek", "link": "https://stackoverflow.com/users/10045061/geniusgeek"}, "is_accepted": false, "score": 0, "last_activity_date": 1568233080, "creation_date": 1568233080, "answer_id": 57896243, "question_id": 57895717, "link": "https://stackoverflow.com/questions/57895717/how-can-i-hide-the-article-element-if-it-contains-no-image/57896243#57896243", "title": "How can I hide the article element if it contains no image?", "body": "<p>Give the article an id let's say: check-img\nAlso give the image element an id let's say: img</p>\n\n<p>Solution using JavaScript:</p>\n\n<pre><code>var x= document.getElementById('check-img');\nvar y = document.x.contains('img');\n if(y == false){\ndocument.getElementById('check-img).style.display=\"none\";\n}\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11943437, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/88767196dcf8425ee138ca068ffa97f0?s=128&d=identicon&r=PG&f=1", "display_name": "avldokuchaev", "link": "https://stackoverflow.com/users/11943437/avldokuchaev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 142, "favorite_count": 0, "accepted_answer_id": 57896158, "answer_count": 3, "score": -1, "last_activity_date": 1568237964, "creation_date": 1568230331, "last_edit_date": 1568237964, "question_id": 57895717, "link": "https://stackoverflow.com/questions/57895717/how-can-i-hide-the-article-element-if-it-contains-no-image", "title": "How can I hide the article element if it contains no image?", "body": "<p>I have this code:</p>\n\n<pre><code>&lt;article class=\"best_places_of_town_category\"&gt;\n&lt;/article&gt;\n</code></pre>\n\n<p>How can I hide article if it contains <code>&lt;div&gt;</code> without <code>&lt;img&gt;</code>? On JavaScript or CSS?</p>\n"}, {"tags": ["javascript", "typescript", "mongoose"], "comments": [{"owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568230369, "post_id": 57895703, "comment_id": 102212755, "body": "Type <code>this</code> as shown in the dupe"}, {"owner": {"reputation": 8590, "user_id": 1348596, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/bfd67447bded12f9006d99866d2f0269?s=128&d=identicon&r=PG", "display_name": "danielrvt", "link": "https://stackoverflow.com/users/1348596/danielrvt"}, "reply_to_user": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "edited": false, "score": 0, "creation_date": 1568231473, "post_id": 57895703, "comment_id": 102213157, "body": "Not working for me... I&#39;m using TS in the backend and that fix doesn&#39;t seem to work..."}], "owner": {"reputation": 8590, "user_id": 1348596, "user_type": "registered", "accept_rate": 41, "profile_image": "https://www.gravatar.com/avatar/bfd67447bded12f9006d99866d2f0269?s=128&d=identicon&r=PG", "display_name": "danielrvt", "link": "https://stackoverflow.com/users/1348596/danielrvt"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 15, "favorite_count": 0, "closed_date": 1568230316, "answer_count": 0, "score": 0, "last_activity_date": 1568230202, "creation_date": 1568230202, "question_id": 57895703, "link": "https://stackoverflow.com/questions/57895703/error-when-initializing-constant-with-this-this-implicitly-has-type-any", "closed_reason": "Duplicate", "title": "Error when initializing constant with &#39;this&#39; | &#39;this&#39; implicitly has type &#39;any&#39; because it does not have a type annotation", "body": "<p>I have a file 'test.js' and I changed it's extension to <code>.ts</code>. What I'm really trying to do is to slowly migrate a <code>.js</code> codebase to typescript.</p>\n\n<p>Now I'm getting the following error:</p>\n\n<blockquote>\n  <p>'this' implicitly has type 'any' because it does not have a type annotation.</p>\n</blockquote>\n\n<p>This is the code:</p>\n\n<pre><code>animalSchema.pre('save', function save(next) {\n  const animal = this;\n  if (!animal.isModified('id')) {\n    return next();\n  }\n  animal.name = \"Test Animal\";\n  next();\n  });\n});\n</code></pre>\n\n<p>And this is my <code>tsconfig.js</code>:</p>\n\n<pre><code>{\n  \"compilerOptions\": {\n    \"target\": \"es5\",\n    \"module\": \"commonjs\",\n    \"allowJs\": true,\n    \"sourceMap\": true,\n    \"outDir\": \"./build\",\n    \"rootDir\": \"./src\",\n    \"strict\": false,\n    \"noImplicitAny\": false,\n    \"noImplicitThis\": false,\n    \"moduleResolution\": \"node\",\n    \"esModuleInterop\": true\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "react-native"], "comments": [{"owner": {"reputation": 1283, "user_id": 8076386, "user_type": "registered", "profile_image": "https://graph.facebook.com/1443794742352611/picture?type=large", "display_name": "Rohit Kashyap", "link": "https://stackoverflow.com/users/8076386/rohit-kashyap"}, "edited": false, "score": 1, "creation_date": 1568230319, "post_id": 57895698, "comment_id": 102212735, "body": "Can you post the array?"}, {"owner": {"reputation": 14667, "user_id": 535480, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jBU8R.jpg?s=128&g=1", "display_name": "James", "link": "https://stackoverflow.com/users/535480/james"}, "edited": false, "score": 0, "creation_date": 1568231393, "post_id": 57895698, "comment_id": 102213115, "body": "If I add <code>const countries = [{name: &#39;USA&#39;}, {name: &#39;Canada&#39;}]; let filter = &#39;Canada&#39;;</code> before your code, countriesToShow contains <code>[{name:&#39;Canada&#39;}]</code> once it runs."}], "answers": [{"tags": [], "owner": {"reputation": 1283, "user_id": 8076386, "user_type": "registered", "profile_image": "https://graph.facebook.com/1443794742352611/picture?type=large", "display_name": "Rohit Kashyap", "link": "https://stackoverflow.com/users/8076386/rohit-kashyap"}, "is_accepted": false, "score": 1, "last_activity_date": 1568230685, "creation_date": 1568230685, "answer_id": 57895772, "question_id": 57895698, "link": "https://stackoverflow.com/questions/57895698/filtered-array-outputs-an-empty-array-how-to-fix-it/57895772#57895772", "title": "filtered array outputs an empty array . How to fix it?", "body": "<p>Try this:</p>\n\n<p>This is a reusable function which you can use to filter an array using a key of your choice, this can further be made reusable by passing in a custom attribute.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var arr = [\r\n  {\r\n    id: 1,\r\n    country: 'IN'\r\n  },\r\n    {\r\n    id: 2,\r\n    country: 'US'\r\n  },\r\n    {\r\n    id: 3,\r\n    country: 'CH'\r\n  },\r\n    {\r\n    id: 4,\r\n    country: 'UK'\r\n  }\r\n]\r\n\r\nconst fn = (data, key) =&gt; ( data.filter(d =&gt; ( d.country.toLowerCase().indexOf(key.toLowerCase()) &gt; -1 )))\r\n\r\nconsole.log(fn(arr, 'IN'))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 301, "user_id": 12054883, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-7WGM5kbN-Jc/AAAAAAAAAAI/AAAAAAAAAAA/ACevoQOuOrtICBJ7kWP-MXkPyCpc02oFzw/mo/photo.jpg?sz=128", "display_name": "Abhishek Dasgupta", "link": "https://stackoverflow.com/users/12054883/abhishek-dasgupta"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568389281, "creation_date": 1568230181, "last_edit_date": 1568389281, "question_id": 57895698, "link": "https://stackoverflow.com/questions/57895698/filtered-array-outputs-an-empty-array-how-to-fix-it", "title": "filtered array outputs an empty array . How to fix it?", "body": "<p>I am new to react-native and javascript. I am trying to filter an array of objects, where each object represents a country and  has a member variable called <code>name</code>. I have created the following search  filter to save countries with search keyword.</p>\n\n<p>I have console.logged every step in between the following function, from array of country's state to filter's state and even the condition <code>includes()</code> also returns <code>true</code>.</p>\n\n<pre><code>const App = () =&gt; {\n  const [countries,setCountries] = useState([])\n  const [filter,setFilter] = useState('')\n\n  useEffect(() =&gt;{\n    axios.get('https://restcountries.eu/rest/v2/all')\n    .then(response =&gt; setCountries(response.data))\n  }, [])\n\n  //console.log('countries[] = ',countries)\n\n  const rows = () =&gt; {\n    const len = countriesToShow.length \n    if(len &gt; 10){\n      return(&lt;p&gt;Too many matches, specify another filter&lt;/p&gt;)\n    }\n    else if(len &gt;=1 &amp;&amp; len &lt;= 10){\n      return(countriesToShow.map(country =&gt; &lt;p&gt;{country.name}&lt;/p&gt;))\n    }\n\n  }\n\n\n  const handleFilterChange = (event) =&gt; {\n    setFilter(event.target.value)\n  }\n\nconst countriesToShow = filter === '' ? [] : countries.filter(country =&gt; country.name.toLowerCase().includes(filter.toLowerCase()))\n\n return(\n    &lt;div&gt;\n      find countries\n      &lt;input value={filter} onChange={handleFilterChange} /&gt;\n      {rows()}\n    &lt;/div&gt;\n  )\n}\n\nexport default App;\n</code></pre>\n\n<p>I expect an array with the filtered country names but I am actually getting an empty array.</p>\n"}, {"tags": ["javascript", "angular", "typescript", "click"], "comments": [{"owner": {"reputation": 406, "user_id": 6168382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-io7Rf1BBzsU/AAAAAAAAAAI/AAAAAAAAAEw/Ft5jC1k-SeA/photo.jpg?sz=128", "display_name": "William Stevens", "link": "https://stackoverflow.com/users/6168382/william-stevens"}, "edited": false, "score": 0, "creation_date": 1568230543, "post_id": 57895675, "comment_id": 102212822, "body": "Combining them into one function should work fine. What does the code look like when you combine them?"}, {"owner": {"reputation": 123, "user_id": 10412337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216432506875168/picture?type=large", "display_name": "Gustav Vingtoft", "link": "https://stackoverflow.com/users/10412337/gustav-vingtoft"}, "reply_to_user": {"reputation": 406, "user_id": 6168382, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-io7Rf1BBzsU/AAAAAAAAAAI/AAAAAAAAAEw/Ft5jC1k-SeA/photo.jpg?sz=128", "display_name": "William Stevens", "link": "https://stackoverflow.com/users/6168382/william-stevens"}, "edited": false, "score": 0, "creation_date": 1568230677, "post_id": 57895675, "comment_id": 102212868, "body": "deleteCandidate(owner: string): void {         this._candidateService.deleteCandidateFromCompanies(owner).t&zwnj;&#8203;hen(() =&gt; {             console.log(data);         }).catch( err =&gt; {             alert(&#39;An error has occurred&#39;);             console.log(err);         });         this._candidateService.deleteCandidatesFromOrganizations(own&zwnj;&#8203;er)             .then( data =&gt; {                 console.log(data);             }).catch( err =&gt; {             alert(&#39;An error has occurred&#39;);             console.log(err);         });     }"}, {"owner": {"reputation": 3944, "user_id": 5262452, "user_type": "registered", "accept_rate": 25, "profile_image": "https://i.stack.imgur.com/bWa5S.png?s=128&g=1", "display_name": "devpato", "link": "https://stackoverflow.com/users/5262452/devpato"}, "edited": false, "score": 0, "creation_date": 1568231620, "post_id": 57895675, "comment_id": 102213218, "body": "FYI in angular we are going reactive. Stop using Promises. Convert everything to an Observable. there&#39;s an RxJS course on PluralSigh on RxJS in Angular is super good. You should take it"}, {"owner": {"reputation": 123, "user_id": 10412337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216432506875168/picture?type=large", "display_name": "Gustav Vingtoft", "link": "https://stackoverflow.com/users/10412337/gustav-vingtoft"}, "edited": false, "score": 0, "creation_date": 1568270519, "post_id": 57895675, "comment_id": 102222535, "body": "I&#39;ll check that out. Thank you for that."}], "answers": [{"comments": [{"owner": {"reputation": 123, "user_id": 10412337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216432506875168/picture?type=large", "display_name": "Gustav Vingtoft", "link": "https://stackoverflow.com/users/10412337/gustav-vingtoft"}, "edited": false, "score": 0, "creation_date": 1568230936, "post_id": 57895767, "comment_id": 102212968, "body": "I&#39;m gonna try that. Thank you."}], "tags": [], "owner": {"reputation": 3959, "user_id": 1501979, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/v7WUc.jpg?s=128&g=1", "display_name": "Wilfredo P", "link": "https://stackoverflow.com/users/1501979/wilfredo-p"}, "is_accepted": true, "score": 3, "last_activity_date": 1568230660, "creation_date": 1568230660, "answer_id": 57895767, "question_id": 57895675, "link": "https://stackoverflow.com/questions/57895675/calling-multiple-functions-from-click/57895767#57895767", "title": "Calling multiple functions from (click)=", "body": "<p>One approach that you can do is, create one function that warps both, and you can user async / await to handle the asynchronous call for example:</p>\n\n<pre><code>async myFunctionWrapper(owner){\n  await deleteCandidateInCompanies(owner);\n  await deleteCandidateInOrganizations(owner);\n}\n</code></pre>\n\n<p>And in the HTML call the wrapper</p>\n\n<p><code>&lt;button (click)=\"myFunctionWrapper(Item.owner)\" /&gt;</code></p>\n"}, {"tags": [], "owner": {"reputation": 507, "user_id": 7748446, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-u8AQGan1-hw/AAAAAAAAAAI/AAAAAAAAAXk/DeXesXcKPrg/photo.jpg?sz=128", "display_name": "Selast Lambou", "link": "https://stackoverflow.com/users/7748446/selast-lambou"}, "is_accepted": false, "score": 1, "last_activity_date": 1568231205, "creation_date": 1568231205, "answer_id": 57895863, "question_id": 57895675, "link": "https://stackoverflow.com/questions/57895675/calling-multiple-functions-from-click/57895863#57895863", "title": "Calling multiple functions from (click)=", "body": "<p>Another approach is using the template form, cascading function calls in the template, like</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button (click)=\"deleteCandidateInCompanies(item.owner); deleteCandidateInOrganizations(item.owner);\"&gt;Call it&lt;/button&gt;\n</code></pre>\n\n<p>Some other one are using <code>&amp;&amp;</code> but the impact is </p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;button (click)=\"deleteCandidateInCompanies(item.owner) &amp;&amp; deleteCandidateInOrganizations(item.owner);\"&gt;Call it&lt;/button&gt;\n</code></pre>\n\n<p><code>deleteCandidateInOrganizations</code> would be called after success of <code>deleteCandidateInCompanies</code></p>\n"}], "owner": {"reputation": 123, "user_id": 10412337, "user_type": "registered", "profile_image": "https://graph.facebook.com/10216432506875168/picture?type=large", "display_name": "Gustav Vingtoft", "link": "https://stackoverflow.com/users/10412337/gustav-vingtoft"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 57895767, "answer_count": 2, "score": 0, "last_activity_date": 1568231205, "creation_date": 1568230099, "question_id": 57895675, "link": "https://stackoverflow.com/questions/57895675/calling-multiple-functions-from-click", "title": "Calling multiple functions from (click)=", "body": "<p>In the context of deleting a user from my site, I have to make multiple database calls to delete the users ID in all tabels where the UserID are (Aprox. 10 different tabels). </p>\n\n<p>Right now I am using what I think is a dirty hack where I have multiple (click)=\"function()\" events on the same button triggering multiple functions, from where all those functions goes into my service layer and make the database base. In my service I have a function for every tabel I have to go into and delete the users ID.</p>\n\n<p>HTML:</p>\n\n<pre><code>&lt;button (click)=\"deleteCandidateInCompanies(Item.owner)\"(click)=\"deleteCandidateInOrganizations(Item.owner)\"\n</code></pre>\n\n<p>Component.ts:</p>\n\n<pre><code> deleteCandidateInCompanies(owner: string): void {\n    this._candidateService.deleteCandidateFromCompanies(id)\n        .then( data =&gt; {\n        console.log(data);\n    }).catch( err =&gt; {\n        alert('An error has occurred');\n       console.log(err);\n    });\n}\n\ndeleteCandidateInOrganizations(owner: string): void {\n    this._candidateService.deleteCandidatesFromOrganizations(id)\n        .then( data =&gt; {\n            console.log(data);\n        }).catch( err =&gt; {\n        alert('An error has occurred');\n        console.log(err);\n    });\n}\n</code></pre>\n\n<p>Service.ts:</p>\n\n<pre><code>deleteCandidateFromCompanies(owner: string) {\n    // Get User object\n    return new Promise(async (resolve, reject) =&gt; {\n\n        const _dynamoDB = new AWS.DynamoDB.DocumentClient();\n        const getUserParams = {\n            TableName: 'user-table',\n            Key: {\n                sub: owner\n            }\n        };\n        const user = await _dynamoDB.get(getUserParams).promise();\n\n        // Get all companies owned by user\n        for (let i = 0; i &lt; user.Item.companies.length; i++) {\n            const companyUUID = user.Item.companies[i];\n            const getCompanyParams = {\n                TableName: 'company-table',\n                Key: {\n                    uuid: companyID\n                }\n            };\n\n            const company = await _dynamoDB.get(getCompanyParams).promise();\n\n            // Check what index owner is on\n            const companyIndex = company.Item.owners.indexOf(owner);\n\n            if (companyIndex === -1) {\n                continue;\n            }\n\n            const deleteUserReferenceInCompanyParams = {\n                TableName: 'company-tabel',\n                Key: {uuid: user.Item.companies[i]},\n                UpdateExpression: 'REMOVE owners[' + i.toString() + ']'\n            };\n\n\n_dynamoDB.update(deleteUserReferenceInCompanyParams, function (err, data) {\n                    if (err) {\n                        console.log(err);\n                        reject(err);\n                    } else {\n                        console.log(data);\n                        resolve(data);\n                    }\n                });\n            }\n    });\n\n\n\ndeleteCandidatesFromOrganizations(owner: string) {\n    // Get User object\n    return new Promise(async (resolve, reject) =&gt;{\n       const _dynamoDB = new AWS.DynamoDB.DocumentClient();\n       const getUserParams = {\n           TableName: 'user-table',\n           Key: {\n               sub: owner\n           }\n       };\n       const user = await _dynamoDB.get(getUserParams).promise();\n\n       // Get all organizations owned by user\n        for (let i = 0; i &lt; user.Item.ownerOrganization.length; i++){\n            const organizationUUID = user.Item.ownerOrganization[i];\n            const getOrganizationParams = {\n                TableName: 'organization-table',\n                Key: {\n                    uuid: organizationUUID\n                }\n            };\n\n            const organization = await \n_dynamoDB.get(getOrganizationParams).promise();\n\n            // Tjekker hvilket index owner er p\u00e5\n\n            const organizationsIndex = organization.Item.owners.indexOf(owner);\n\n            if (organizationsIndex === -1) {\n                continue;\n            }\n\n            const deleteUserReferenceInOrganizationParams = {\n                TableName: 'organization-table',\n                Key: {uuid: user.Item.ownerOrganization[i]},\n                UpdateExpression: 'REMOVE owners[' + i.toString() + ']'\n            };\n\n            // tslint:disable-next-line:typedef\n            _dynamoDB.update(deleteUserReferenceInOrganizationParams, function (err, data) {\n                if (err) {\n                    console.log(err);\n                    reject(err);\n                } else {\n                    console.log(data);\n                    resolve(data);\n                }\n            });\n        }\n    });\n}\n\n}\n</code></pre>\n\n<p>When I try and put my functions in component.ts in \u00f3ne function I get the error Promies returned from deleteCandidateFromCompanies is ignored. </p>\n\n<p>I expect there should be a different way, to get all these function together and get a lot less code and less database calls.</p>\n"}, {"tags": ["javascript", "html", "json"], "comments": [{"owner": {"reputation": 174103, "user_id": 23528, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/1595024881f1df4af9e2280926fb6272?s=128&d=identicon&r=PG", "display_name": "Daniel A. White", "link": "https://stackoverflow.com/users/23528/daniel-a-white"}, "edited": false, "score": 0, "creation_date": 1568230658, "post_id": 57895637, "comment_id": 102212858, "body": "are you getting any errors?"}, {"owner": {"reputation": 7287, "user_id": 3824283, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5l7OG.jpg?s=128&g=1", "display_name": "EternalHour", "link": "https://stackoverflow.com/users/3824283/eternalhour"}, "edited": false, "score": 0, "creation_date": 1568230765, "post_id": 57895637, "comment_id": 102212904, "body": "What are you trying to get? Are you sure there&#39;s JSON data there?"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568231215, "post_id": 57895637, "comment_id": 102213053, "body": "I&#39;m getting CORS errors when I try to fetch data from that URL. You are likely also getting those error. Look at the console of your browser&#39;s developer tools."}], "answers": [{"tags": [], "owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "is_accepted": false, "score": 0, "last_activity_date": 1568231457, "last_edit_date": 1568231457, "creation_date": 1568230838, "answer_id": 57895796, "question_id": 57895637, "link": "https://stackoverflow.com/questions/57895637/how-to-get-json-data-from-a-url-in-html/57895796#57895796", "title": "How to get jSon data from a url in html", "body": "<p>Add <strong>tr</strong> inside <strong>tbody</strong> the for your table and do a <code>$each</code> for object.value you receiving from the <code>api</code>.\nthen append the result to <strong>tr</strong> i recommend also a loader the time the result show up.</p>\n\n<p>Open that with <strong>CORS extension</strong> </p>\n\n<p><strong>NOTE</strong> : i am using firefox + <a href=\"https://addons.mozilla.org/fr/firefox/addon/cors-everywhere/\" rel=\"nofollow noreferrer\">CORS</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  var entries = [];\r\n  var JSONurl = \"https://www.topurbanaradio.com/ps/scast.php\";\r\n  $.getJSON(JSONurl, function(data) {\r\n    $.each(Object.values(data), function(i, value) {\r\n      console.log(value)\r\n      var tblRow = \"&lt;td&gt;\" + value + \"&lt;/td&gt;\"\r\n      $(tblRow).appendTo(\"#entrydata tbody tr\");\r\n    });\r\n\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/1.6.2/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div class=\"wrapper\"&gt;\r\n    &lt;div class=\"profile\"&gt;\r\n      &lt;table id=\"entrydata\" border=\"1\"&gt;\r\n        &lt;thead&gt;\r\n          &lt;th&gt;Artista&lt;/th&gt;\r\n          &lt;th&gt;Cancion&lt;/th&gt;\r\n          &lt;th&gt;AlbumArt&lt;/th&gt;\r\n        &lt;/thead&gt;\r\n        \r\n        &lt;tbody&gt;\r\n        &lt;tr&gt;&lt;/tr&gt;\r\n        &lt;/tbody&gt;\r\n      &lt;/table&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 74, "user_id": 12018738, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9173917202b86646e660714ee1499011?s=128&d=identicon&r=PG", "display_name": "Mustafa Abdelmogoud", "link": "https://stackoverflow.com/users/12018738/mustafa-abdelmogoud"}, "is_accepted": false, "score": 0, "last_activity_date": 1568231481, "creation_date": 1568231481, "answer_id": 57895931, "question_id": 57895637, "link": "https://stackoverflow.com/questions/57895637/how-to-get-json-data-from-a-url-in-html/57895931#57895931", "title": "How to get jSon data from a url in html", "body": "<p>I think your issue with <strong>CORS</strong></p>\n\n<p>because when I tried to run it from localhost or direct from HTML file, I got CORS error.</p>\n\n<p>if you have access to this endpoint you need to allow CORS for your domain OR install CORS extension in your browser just for testing purpose.  </p>\n"}, {"tags": [], "owner": {"reputation": 3886, "user_id": 4579271, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zmVRK.jpg?s=128&g=1", "display_name": "sunknudsen", "link": "https://stackoverflow.com/users/4579271/sunknudsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1568232866, "last_edit_date": 1568232866, "creation_date": 1568231485, "answer_id": 57895932, "question_id": 57895637, "link": "https://stackoverflow.com/questions/57895637/how-to-get-json-data-from-a-url-in-html/57895932#57895932", "title": "How to get jSon data from a url in html", "body": "<p><strong>Put simply, there are many problems here and this will not work in production.</strong></p>\n\n<p>First, cross domain AJAX requests aren\u2019t allowed by browsers.</p>\n\n<p>Second, the server isn\u2019t returning the right headers.</p>\n\n<p>Running <code>curl -L -IX GET https://www.topurbanaradio.com/ps/scast.php</code> returns the following headers which includes a content type of <code>Content-Type: text/html; charset=UTF-8</code> (HTML) vs <code>Content-Type: application/json; charset=UTF-8</code> (JSON).</p>\n\n<pre><code>HTTP/1.1 200 OK\nDate: Wed, 11 Sep 2019 19:35:39 GMT\nServer: Apache\nUpgrade: h2\nConnection: Upgrade\nTransfer-Encoding: chunked\nContent-Type: text/html; charset=UTF-8\n</code></pre>\n\n<p>Is this code running on <code>www.topurbanaradio.com</code>? If not, you will hit <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS\" rel=\"nofollow noreferrer\">cross-domain (CORS)</a> errors as the server behind <code>www.topurbanaradio.com</code> is not sending the right <code>Access-Control-Allow-Origin</code>, <code>Access-Control-Allow-Methods</code> and <code>Access-Control-Allow-Headers</code> headers.</p>\n\n<p>If they intended on serving cross-domain requests, they would send the <code>Access-Control-Allow-Origin: *</code> header.</p>\n\n<pre><code>&lt;html&gt;\n  &lt;head&gt;\n  &lt;script src=\"http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js\"&gt;&lt;/script&gt;\n    &lt;script&gt;\n    $(function() {\n      $.getJSON(\"https://www.topurbanaradio.com/ps/scast.php\", function(data) {\n        console.log(data);\n      });\n    });\n    &lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>Check the console.</p>\n\n<blockquote>\n  <p>Cross-Origin Request Blocked: The Same Origin Policy disallows reading\n  the remote resource at <a href=\"https://www.topurbanaradio.com/ps/scast.php\" rel=\"nofollow noreferrer\">https://www.topurbanaradio.com/ps/scast.php</a>.\n  (Reason: CORS header \u2018Access-Control-Allow-Origin\u2019 missing).</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 345, "user_id": 2501078, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/0762aaca094446e39043dec807a16abd?s=128&d=identicon&r=PG", "display_name": "nafmo", "link": "https://stackoverflow.com/users/2501078/nafmo"}, "is_accepted": false, "score": 0, "last_activity_date": 1568233507, "creation_date": 1568233507, "answer_id": 57896335, "question_id": 57895637, "link": "https://stackoverflow.com/questions/57895637/how-to-get-json-data-from-a-url-in-html/57896335#57896335", "title": "How to get jSon data from a url in html", "body": "<p>You can't do a XHR to another domain unless that document explicitly contains the CORS headers allowing it (this is to block scripts from stealing sensitive data).</p>\n\n<p>To get data from an external document that does not have CORS headers, there is <a href=\"https://en.wikipedia.org/wiki/JSONP\" rel=\"nofollow noreferrer\">JSONP</a>, which can be included as a a <code>&lt;script&gt;</code> tag in your page. This requires that the other site can be updated to support this. This can be dangerous, as it allows the other site to insert a script to do <em>anything</em> on your page - only do this if you trust the other site.</p>\n"}], "owner": {"reputation": 19, "user_id": 12054829, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZzWkKCv7fR4/AAAAAAAAAAI/AAAAAAAAvgw/2jFQfnS209c/photo.jpg?sz=128", "display_name": "Francisco Cordero", "link": "https://stackoverflow.com/users/12054829/francisco-cordero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 4, "score": 1, "last_activity_date": 1568233507, "creation_date": 1568229901, "last_edit_date": 1568230789, "question_id": 57895637, "link": "https://stackoverflow.com/questions/57895637/how-to-get-json-data-from-a-url-in-html", "title": "How to get jSon data from a url in html", "body": "<p>I am trying to get json data from: <a href=\"https://www.topurbanaradio.com/ps/scast.php\" rel=\"nofollow noreferrer\">https://www.topurbanaradio.com/ps/scast.php</a> </p>\n\n<p>I've tried to use several codes that work for others and I can't get any information from the url.</p>\n\n<p>The last code I tried was this one:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(function() {\r\n  var entries = [];\r\n  var JSONurl = \"https://www.topurbanaradio.com/ps/scast.php\";\r\n  $.getJSON(JSONurl, function(data) {\r\n    $.each(data.entries, function(i, f) {\r\n      var tblRow = \"&lt;tr&gt;\" + \"&lt;td&gt;\" + f.cancion + \"&lt;/td&gt;\" + \"&lt;td&gt;\" + f.artista + \"&lt;/td&gt;\" + \"&lt;td&gt;\" + f.almbumart + \"&lt;/td&gt;\" + \"&lt;/tr&gt;\"\r\n      $(tblRow).appendTo(\"#entrydata tbody\");\r\n    });\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/1.6.2/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;body&gt;\r\n  &lt;div class=\"wrapper\"&gt;\r\n    &lt;div class=\"profile\"&gt;\r\n      &lt;table id=\"entrydata\" border=\"1\"&gt;\r\n        &lt;thead&gt;\r\n          &lt;th&gt;Artista&lt;/th&gt;\r\n          &lt;th&gt;Cancion&lt;/th&gt;\r\n          &lt;th&gt;AlbumArt&lt;/th&gt;\r\n        &lt;/thead&gt;\r\n        &lt;tbody&gt;\r\n        &lt;/tbody&gt;\r\n      &lt;/table&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/body&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "angular", "typescript", "stack"], "owner": {"reputation": 483, "user_id": 10553841, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26a3593367ffd4a0a86def4051490360?s=128&d=identicon&r=PG&f=1", "display_name": "Jon Vote", "link": "https://stackoverflow.com/users/10553841/jon-vote"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 62, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1568229788, "creation_date": 1568229788, "question_id": 57895609, "link": "https://stackoverflow.com/questions/57895609/angular-typescript-error-object-doesnt-return-complete-stack-information", "title": "Angular/typescript - error object doesn&#39;t return complete stack information", "body": "<p>I'm trying to write an exception handler that will log the stack trace when an error is encountered. The error object doesn't return the stack correctly. The following snipped demonstrates the issue: </p>\n\n<pre><code>import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n  title = 'angular-error-stack';\n\n  runTest() {\n    try {\n      let invalidJson = 'invalid json'; \n      let someObject = JSON.parse(invalidJson); \n    }\n    catch(error) {\n      console.log('----- error and error.stack are not the same! -----'); \n      console.log('------------------------------------------');\n      console.log('Stack: ', error.stack); \n      console.log('------------------------------------------');\n      console.log('Error', error); \n      console.log('------------------------------------------');\n    }\n  }\n}\n</code></pre>\n\n<p>When I run the above, I get different results. The console.log(error.stack) doesn't include the same information as console.log(error). </p>\n\n<p>console.log(error.stack) shows the error occurring at: </p>\n\n<pre><code>AppComponent.runTest (http://localhost:4220/main.js:102:35)\n</code></pre>\n\n<p>console.log(error) shows the error occurring at: </p>\n\n<pre><code>AppComponent.runTest (app.component.ts:14)\n</code></pre>\n\n<p>How can I get the correct stack trace? </p>\n\n<p>The snippet above produces the following output: </p>\n\n<blockquote>\n  <p>Stack:  SyntaxError: Unexpected token i in JSON at position 0\n      at JSON.parse ()\n      at AppComponent.runTest (<a href=\"http://localhost:4220/main.js:102:35\" rel=\"nofollow noreferrer\">http://localhost:4220/main.js:102:35</a>)\n      at Object.eval [as handleEvent] (ng:///AppModule/AppComponent.ngfactory.js:15:27)\n      at handleEvent (<a href=\"http://localhost:4220/vendor.js:74619:122\" rel=\"nofollow noreferrer\">http://localhost:4220/vendor.js:74619:122</a>)\n      at callWithDebugContext (<a href=\"http://localhost:4220/vendor.js:76238:27\" rel=\"nofollow noreferrer\">http://localhost:4220/vendor.js:76238:27</a>)\n      at Object.debugHandleEvent [as handleEvent] (<a href=\"http://localhost:4220/vendor.js:75873:12\" rel=\"nofollow noreferrer\">http://localhost:4220/vendor.js:75873:12</a>)\n      at dispatchEvent (<a href=\"http://localhost:4220/vendor.js:61706:25\" rel=\"nofollow noreferrer\">http://localhost:4220/vendor.js:61706:25</a>)\n      at <a href=\"http://localhost:4220/vendor.js:73551:16\" rel=\"nofollow noreferrer\">http://localhost:4220/vendor.js:73551:16</a>\n      at HTMLButtonElement. (<a href=\"http://localhost:4220/vendor.js:79297:38\" rel=\"nofollow noreferrer\">http://localhost:4220/vendor.js:79297:38</a>)\n      at ZoneDelegate.invokeTask (<a href=\"http://localhost:4220/polyfills.js:3397:31\" rel=\"nofollow noreferrer\">http://localhost:4220/polyfills.js:3397:31</a>)</p>\n  \n  <p>Error:  SyntaxError: Unexpected token i in JSON at position 0\n      at JSON.parse ()\n      at AppComponent.runTest (app.component.ts:14)\n      at Object.eval [as handleEvent] (AppComponent.html:3)\n      at handleEvent (core.js:43992)\n      at callWithDebugContext (core.js:45631)\n      at Object.debugHandleEvent [as handleEvent] (core.js:45246)\n      at dispatchEvent (core.js:29803)\n      at core.js:42924\n      at HTMLButtonElement. (platform-browser.js:2668)\n      at ZoneDelegate.invokeTask (zone-evergreen.js:391)</p>\n</blockquote>\n"}, {"tags": ["javascript", "google-apps-script", "google-drive-api"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1568229787, "post_id": 57895593, "comment_id": 102212522, "body": "No idea, just a quick guess: try <code>and not title</code>"}, {"owner": {"reputation": 21, "user_id": 11673120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f61ed91afddf778461fcae7f49b835?s=128&d=identicon&r=PG&f=1", "display_name": "MirrorForged", "link": "https://stackoverflow.com/users/11673120/mirrorforged"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1568229853, "post_id": 57895593, "comment_id": 102212552, "body": "wow i can&#39;t believe I didn&#39;t think about that! It works thanks!! :D"}], "answers": [{"tags": [], "owner": {"reputation": 21, "user_id": 11673120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f61ed91afddf778461fcae7f49b835?s=128&d=identicon&r=PG&f=1", "display_name": "MirrorForged", "link": "https://stackoverflow.com/users/11673120/mirrorforged"}, "is_accepted": false, "score": 1, "last_activity_date": 1568230079, "creation_date": 1568230079, "answer_id": 57895669, "question_id": 57895593, "link": "https://stackoverflow.com/questions/57895593/how-to-properly-use-google-app-script-not-query-operator-for-searchfolders-f/57895669#57895669", "title": "How to properly use Google App Script &quot;not&quot; query operator for searchFolders() function", "body": "<p>Simply had to put \"and\" before \"not title\"! Credit to @Chris G.!</p>\n\n<p><code>var clientFolder = DriveApp.searchFiles(\"title contains 'KPI Report' and mimeType = 'application/vnd.google-apps.spreadsheet' and modifiedDate &gt;= '\" + dateModified + \"' and not title contains 'Archived'\");\n</code></p>\n"}], "owner": {"reputation": 21, "user_id": 11673120, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/08f61ed91afddf778461fcae7f49b835?s=128&d=identicon&r=PG&f=1", "display_name": "MirrorForged", "link": "https://stackoverflow.com/users/11673120/mirrorforged"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1568233274, "creation_date": 1568229696, "last_edit_date": 1568233274, "question_id": 57895593, "link": "https://stackoverflow.com/questions/57895593/how-to-properly-use-google-app-script-not-query-operator-for-searchfolders-f", "title": "How to properly use Google App Script &quot;not&quot; query operator for searchFolders() function", "body": "<p>I am trying to to search through a shared drive for KPI reports that do not contain \"Archived\" in the name. But Im getting \"Invalid argument: q\" error </p>\n\n<p>I have tried using \"not title contains 'Archived'\" and \"title not contains 'Archived'\"</p>\n\n<pre><code>var clientFolder = DriveApp.searchFiles(\"title contains 'KPI Report' and mimeType = 'application/vnd.google-apps.spreadsheet' and modifiedDate &gt;= '\" + dateModified + \"' not title contains 'Archived'\");\n</code></pre>\n"}, {"tags": ["javascript", "closures"], "comments": [{"owner": {"reputation": 1283, "user_id": 8076386, "user_type": "registered", "profile_image": "https://graph.facebook.com/1443794742352611/picture?type=large", "display_name": "Rohit Kashyap", "link": "https://stackoverflow.com/users/8076386/rohit-kashyap"}, "edited": false, "score": 0, "creation_date": 1568229968, "post_id": 57895567, "comment_id": 102212599, "body": "scope of <code>foo</code> and the <code>f</code> are different."}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 0, "creation_date": 1568230310, "post_id": 57895567, "comment_id": 102212729, "body": "Possible duplicate of <a href=\"https://stackoverflow.com/questions/111102/how-do-javascript-closures-work\">How do JavaScript closures work?</a>"}], "answers": [{"tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": false, "score": 2, "last_activity_date": 1568233107, "last_edit_date": 1568233107, "creation_date": 1568230137, "answer_id": 57895685, "question_id": 57895567, "link": "https://stackoverflow.com/questions/57895567/javascript-factory-function-modify-variable-outside-closure-scope/57895685#57895685", "title": "JavaScript factory function modify variable outside closure scope", "body": "<p><code>let onDone = null</code> defines a variable <code>onDone</code> inside <code>foo</code> function scope not a property, but when you do </p>\n\n<p><code>f.onDone</code>  it adds value to <code>onDone</code> property on <code>f</code> which can be accessed using <code>this.onDone</code> but in your code you're using <code>onDone</code> which still refers to <code>onDone</code> defined in local scope </p>\n\n<hr>\n\n<p>You probably wanted to do this</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function foo(){\r\n  this.OnDone = null;\r\n\r\n  const Do = function() {\r\n  console.log(this.OnDone);\r\n  if (typeof this.OnDone === 'function')\r\n    this.OnDone();\r\n  }\r\n\r\n  return {Do, onDone:this.OnDone};\r\n}\r\n\r\n\r\nlet f = new foo();\r\nf.OnDone = () =&gt; {\r\n  console.log('OnDone');\r\n};\r\n\r\nf.Do();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 105033, "user_id": 5260024, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XxSHe.jpg?s=128&g=1", "display_name": "Jonas Wilms", "link": "https://stackoverflow.com/users/5260024/jonas-wilms"}, "is_accepted": false, "score": 1, "last_activity_date": 1568231303, "last_edit_date": 1568231303, "creation_date": 1568230997, "answer_id": 57895824, "question_id": 57895567, "link": "https://stackoverflow.com/questions/57895567/javascript-factory-function-modify-variable-outside-closure-scope/57895824#57895824", "title": "JavaScript factory function modify variable outside closure scope", "body": "<pre><code>   return { OnDone };\n</code></pre>\n\n<p>equals ...</p>\n\n<pre><code>   return { onDone: onDone };\n</code></pre>\n\n<p>or in other words: The local variable <code>onDone</code> gets resolved, and the object reference it resolves to gets stored in the returned objects <code>onDone</code> property. Both will reference the same thing, * but* if you reassign either the local variable or the objects property, this will change the * reference*, thus the property and the variable will reference different things then. </p>\n\n<p>To resolve the problem, change the object itself:</p>\n\n<pre><code> const context = { onDone }\n context.Do = function () {\n   // Access context.onDone here\n };\n\n return context;\n</code></pre>\n\n<p>Or, as an alternative, as <code>f.Do()</code> will call <code>Do</code> with <code>this</code> being <code>f</code>, you can access the objects property as <code>this.OnDone</code> from within the <code>Do</code> function.</p>\n"}, {"comments": [{"owner": {"reputation": 236, "user_id": 4712416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a753102a6c60d37e95ef64ba3045bd?s=128&d=identicon&r=PG&f=1", "display_name": "Borys Shobat", "link": "https://stackoverflow.com/users/4712416/borys-shobat"}, "edited": false, "score": 0, "creation_date": 1568299166, "post_id": 57895911, "comment_id": 102238057, "body": "Thanks a lot, now I can get rid of &#39;this&#39;. I even didn&#39;t know about get/set in js."}], "tags": [], "owner": {"reputation": 699354, "user_id": 218196, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/4P5DY.jpg?s=128&g=1", "display_name": "Felix Kling", "link": "https://stackoverflow.com/users/218196/felix-kling"}, "is_accepted": true, "score": 1, "last_activity_date": 1568231776, "last_edit_date": 1568231776, "creation_date": 1568231390, "answer_id": 57895911, "question_id": 57895567, "link": "https://stackoverflow.com/questions/57895567/javascript-factory-function-modify-variable-outside-closure-scope/57895911#57895911", "title": "JavaScript factory function modify variable outside closure scope", "body": "<p>The other answers already explained what the problem is but I figured it would be useful to see a simplified example of the issue:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var foo = null;\r\nvar obj = {foo};\r\nobj.foo = 42;\r\nconsole.log(foo);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Here as well, logging the value of <code>foo</code> will print <code>null</code>. Assigning a new value to the <code>obj.foo</code> <strong>property</strong> does not change the <strong>variable</strong> <code>foo</code>. That's because when we create the object with <code>{foo}</code>, a <em>copy of the value</em> of <code>foo</code> is assigned to the property.</p>\n\n<p>In your specific case you want the assignment to the property to also change the variable. You can do this via a <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/set\" rel=\"nofollow noreferrer\">setter</a> (and we add a getter for good measure):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const foo = () =&gt; {\r\n  let OnDone = null;\r\n\r\n  const Do = function() {\r\n    console.log(OnDone);\r\n    if (typeof OnDone === 'function')\r\n      OnDone();\r\n  }\r\n\r\n  return {\r\n    Do,\r\n    get OnDone() {\r\n      return OnDone;\r\n    },\r\n    set OnDone(value) {\r\n      OnDone = value;\r\n    },\r\n  };\r\n}\r\n\r\n\r\nlet f = foo();\r\nf.OnDone = () =&gt; {\r\n  console.log('OnDone');\r\n};\r\n\r\nf.Do();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Now when you assign to the property <code>f.OnDone</code> we are really executing the setter function which in turn updates the variable value.</p>\n"}], "owner": {"reputation": 236, "user_id": 4712416, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8a753102a6c60d37e95ef64ba3045bd?s=128&d=identicon&r=PG&f=1", "display_name": "Borys Shobat", "link": "https://stackoverflow.com/users/4712416/borys-shobat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 178, "favorite_count": 0, "accepted_answer_id": 57895911, "answer_count": 3, "score": 1, "last_activity_date": 1568233107, "creation_date": 1568229553, "last_edit_date": 1568230075, "question_id": 57895567, "link": "https://stackoverflow.com/questions/57895567/javascript-factory-function-modify-variable-outside-closure-scope", "title": "JavaScript factory function modify variable outside closure scope", "body": "<p>Why variable \"OnDone\" stays unmodified inside factory scope?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const foo = () =&gt; {\r\n  let OnDone = null;\r\n\r\n  const Do = function() {\r\n    console.log(OnDone);\r\n    if (typeof OnDone === 'function')\r\n      OnDone();\r\n  }\r\n\r\n  return {\r\n    Do,\r\n    OnDone\r\n  };\r\n}\r\n\r\n\r\nlet f = foo();\r\nf.OnDone = () =&gt; {\r\n  console.log('OnDone');\r\n};\r\n\r\nf.Do();</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Outputs null.\n<a href=\"https://jsfiddle.net/xe4j9hmc/6/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/xe4j9hmc/6/</a></p>\n"}, {"tags": ["javascript", "html", "angular", "drag-and-drop", "angular8"], "answers": [{"tags": [], "owner": {"reputation": 5187, "user_id": 5724889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FAtFh.png?s=128&g=1", "display_name": "dota2pro", "link": "https://stackoverflow.com/users/5724889/dota2pro"}, "is_accepted": false, "score": 0, "last_activity_date": 1568231092, "creation_date": 1568231092, "answer_id": 57895843, "question_id": 57895545, "link": "https://stackoverflow.com/questions/57895545/angular8-cdk-drag-and-drop-not-working-on-grid/57895843#57895843", "title": "Angular8 cdk: drag and drop not working on grid", "body": "<p>As per my understanding and the examples provided in documentation, you can either have row or column orientation but not both</p>\n\n<p>with the property <code>@Input('cdkDropListOrientation')\norientation: 'horizontal' | 'vertical'</code></p>\n\n<p>When you use <code>flex-wrap</code>, you create multiple lines (row + column).</p>\n"}, {"tags": [], "owner": {"reputation": 3292, "user_id": 5998241, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/fDJCR.jpg?s=128&g=1", "display_name": "Md. Rafee", "link": "https://stackoverflow.com/users/5998241/md-rafee"}, "is_accepted": false, "score": 3, "last_activity_date": 1568231549, "creation_date": 1568231549, "answer_id": 57895947, "question_id": 57895545, "link": "https://stackoverflow.com/questions/57895545/angular8-cdk-drag-and-drop-not-working-on-grid/57895947#57895947", "title": "Angular8 cdk: drag and drop not working on grid", "body": "<p>Unfortunately, what feature you are asking about distributing between columns and rows is not available til you. There is an open issue at github that you can check <a href=\"https://github.com/angular/components/issues/13372\" rel=\"nofollow noreferrer\">Github</a>. So, we need to wait for the feature to be available. For the time being there is an workaround, you can check at <a href=\"https://stackblitz.com/edit/angular-dyz1eb\" rel=\"nofollow noreferrer\">stackblitz</a></p>\n"}], "owner": {"reputation": 4193, "user_id": 6715606, "user_type": "registered", "accept_rate": 47, "profile_image": "https://www.gravatar.com/avatar/f23ee5ba6e7181aca8dc64ddbbc79a02?s=128&d=identicon&r=PG", "display_name": "Varun Sukheja", "link": "https://stackoverflow.com/users/6715606/varun-sukheja"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1344, "favorite_count": 0, "answer_count": 2, "score": 1, "last_activity_date": 1568231549, "creation_date": 1568229424, "question_id": 57895545, "link": "https://stackoverflow.com/questions/57895545/angular8-cdk-drag-and-drop-not-working-on-grid", "title": "Angular8 cdk: drag and drop not working on grid", "body": "<p>I tried using CDK drag and drop in a single row it worked fine and similarly, it worked fine for single column but\nwhen am using <code>flex-wrap: wrap</code> to show tiles in rows and columns, it doesn't work properly.</p>\n\n<p>Here is a demo\n<a href=\"https://stackblitz.com/edit/angular-etbue5\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/angular-etbue5</a></p>\n"}, {"tags": ["javascript", "arrays", "reactjs", "themes", "material-ui"], "answers": [{"tags": [], "owner": {"reputation": 526, "user_id": 662964, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/ad4f462d830b5898316d872aec90ffba?s=128&d=identicon&r=PG", "display_name": "zeropaper", "link": "https://stackoverflow.com/users/662964/zeropaper"}, "is_accepted": false, "score": 1, "last_activity_date": 1582914922, "creation_date": 1582914922, "answer_id": 60457467, "question_id": 57895517, "link": "https://stackoverflow.com/questions/57895517/override-material-ui-shadow-array-values-in-theme-overrides-using-createmuitheme/60457467#60457467", "title": "Override Material UI shadow array values in theme overrides using createMuiTheme", "body": "<p>You probably could do something like:</p>\n\n<pre><code>const makeTheme = () =&gt; {\n  const original = createMuiTheme();\n  return {\n    ...original,\n    // override shadows based on the original array\n    shadows: original.shadows.map(() =&gt; 'none'),\n  };\n};\n\nconst theme = makeTheme();\n</code></pre>\n"}], "owner": {"reputation": 157, "user_id": 10782250, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f635b1c528795a15db785cdcebfffa71?s=128&d=identicon&r=PG&f=1", "display_name": "user10782250", "link": "https://stackoverflow.com/users/10782250/user10782250"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 923, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1582914922, "creation_date": 1568229309, "question_id": 57895517, "link": "https://stackoverflow.com/questions/57895517/override-material-ui-shadow-array-values-in-theme-overrides-using-createmuitheme", "title": "Override Material UI shadow array values in theme overrides using createMuiTheme", "body": "<p>I have a custom theme for my toolkit and am using <code>createMuiTheme</code> to override the palette, fonts, etc. I am attempting to slim down the <code>shadow</code> array in the theme object which is used for various components, which by default comes with 25 values. I only want to offer two options in my shadow array to keep things simple.</p>\n\n<p>When I pass the two values I want to support for shadows into the array I get a warning from MUI: </p>\n\n<pre><code>index.js:1437 Warning: Material-UI: the shadows array provided to createMuiTheme should support 25 elevations.\n</code></pre>\n\n<p>So i've gotten around this by adding setting \"none\" for the other shadows that I don't want set values for like so: </p>\n\n<pre><code>let theme = createMuiTheme({\n  palette: {\n    common: {\n      black: \"#000\",\n      white: \"#fff\",\n      ...\n    },\n  typography: {\n    fontFamily: opensans,\n    ...\n  },\n  shadows: [\n    `0px 0px 6px 0px ${hexa(grey[500], 0.25)}`,\n    `0px 0px 6px 0px ${hexa(grey[500], 0.55)}`,\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n    \"none\",\n   etc...\n  ]\n});\n</code></pre>\n\n<p>This is not ideal since it bloats the theme a ton which developers use as a ref to see whats available to use, is there a way around this?  </p>\n\n<p>My ideal state is representation in the theme object that looks like this but with no console warnings:</p>\n\n<pre><code>let theme = createMuiTheme({\n  palette: {\n    common: {\n      black: \"#000\",\n      white: \"#fff\",\n      ...\n    },\n  typography: {\n    fontFamily: opensans,\n    ...\n  },\n  shadows: [\n    `0px 0px 6px 0px ${hexa(grey[500], 0.25)}`,\n    `0px 0px 6px 0px ${hexa(grey[500], 0.55)}`,\n  ]\n});\n</code></pre>\n"}, {"tags": ["javascript", "jestjs"], "comments": [{"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1568229456, "post_id": 57895513, "comment_id": 102212388, "body": "None of the things you say you want to test are the responsibility of the function you&#39;ve shown. What&#39;s the <i>behaviour</i> of that function? An empty test function isn&#39;t a legitimate attempt."}, {"owner": {"reputation": 3514, "user_id": 1189352, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1bb322055c51dd5f7db614664a839e73?s=128&d=identicon&r=PG", "display_name": "user1189352", "link": "https://stackoverflow.com/users/1189352/user1189352"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1568229713, "post_id": 57895513, "comment_id": 102212484, "body": "@jonrsharpe hey thanks for responding.  I guess i&#39;m just trying to make sure everything is running correctly as this will be a product used by quite a few users.  if this function were to actually return an object, would the only scenario for me to test is just to make sure the object returned is valid?  otherwise if the function doesn&#39;t return anything, there&#39;s nothing to test?  Is that correct?"}, {"owner": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 1, "creation_date": 1568229772, "post_id": 57895513, "comment_id": 102212512, "body": "<i>&quot;if the function doesn&#39;t return anything, there&#39;s nothing to test?&quot;</i> - what about its side effects? If it doesn&#39;t return anything <i>or otherwise do anything</i> there&#39;s nothing to test, but then what&#39;s the point in it existing."}, {"owner": {"reputation": 3514, "user_id": 1189352, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1bb322055c51dd5f7db614664a839e73?s=128&d=identicon&r=PG", "display_name": "user1189352", "link": "https://stackoverflow.com/users/1189352/user1189352"}, "reply_to_user": {"reputation": 98400, "user_id": 3001761, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feZwC.jpg?s=128&g=1", "display_name": "jonrsharpe", "link": "https://stackoverflow.com/users/3001761/jonrsharpe"}, "edited": false, "score": 0, "creation_date": 1568229902, "post_id": 57895513, "comment_id": 102212572, "body": "@jonrsharpe the point of this function in particular is to perform some necessary actions and for organization really.  but hm i guess i can test the side effects like you mentioned outside of this function.. okay at least you&#39;re steering me in the direction i&#39;m looking for so thank you."}], "answers": [{"comments": [{"owner": {"reputation": 3514, "user_id": 1189352, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1bb322055c51dd5f7db614664a839e73?s=128&d=identicon&r=PG", "display_name": "user1189352", "link": "https://stackoverflow.com/users/1189352/user1189352"}, "edited": false, "score": 1, "creation_date": 1568306958, "post_id": 57900054, "comment_id": 102241997, "body": "thank you for actually finding time to answer instead of downvoting.  this is perfect and leads me into the direction i&#39;m looking for.  thank you so much"}], "tags": [], "owner": {"reputation": 28635, "user_id": 10149510, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/qVO7k.jpg?s=128&g=1", "display_name": "Brian Adams", "link": "https://stackoverflow.com/users/10149510/brian-adams"}, "is_accepted": true, "score": 1, "last_activity_date": 1568264866, "creation_date": 1568264866, "answer_id": 57900054, "question_id": 57895513, "link": "https://stackoverflow.com/questions/57895513/how-can-i-test-a-function-that-uses-complex-objects-from-an-external-api/57900054#57900054", "title": "How can I test a function that uses complex objects from an external API?", "body": "<p>Looks like the function accepts an object, calls a function on that object to generate a different object, calls a function on that object to generate an array, then calls a function on each object in the array.</p>\n\n<p>Since it only knows about what is passed to it, you can pass appropriate mock data and use <a href=\"https://jestjs.io/docs/en/mock-function-api\" rel=\"nofollow noreferrer\">mock functions</a> to confirm that it is working properly:</p>\n\n<pre><code>const someFunction = (complexObj1) =&gt; {\n  const someObj = complexObj1.generateAnObject();\n  const objList = someObj.generateListOfObjects();\n\n  for (const obj of objList) {\n    obj.performAction();\n  }\n};\n\ntest('someFunction', () =&gt; {\n  const objList = [\n    { performAction: jest.fn() },\n    { performAction: jest.fn() }\n  ];\n  const obj = {\n    generateAnObject: () =&gt; ({\n      generateListOfObjects: () =&gt; objList\n    })\n  };\n  someFunction(obj);\n  expect(objList[0].performAction).toHaveBeenCalled();  // Success!\n  expect(objList[1].performAction).toHaveBeenCalled();  // Success!\n})\n</code></pre>\n"}], "owner": {"reputation": 3514, "user_id": 1189352, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/1bb322055c51dd5f7db614664a839e73?s=128&d=identicon&r=PG", "display_name": "user1189352", "link": "https://stackoverflow.com/users/1189352/user1189352"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 28, "favorite_count": 0, "accepted_answer_id": 57900054, "answer_count": 1, "score": 0, "last_activity_date": 1568264866, "creation_date": 1568229296, "question_id": 57895513, "link": "https://stackoverflow.com/questions/57895513/how-can-i-test-a-function-that-uses-complex-objects-from-an-external-api", "title": "How can I test a function that uses complex objects from an external API?", "body": "<p>I have a function:</p>\n\n<pre><code>// helper.js\nexport const someFunction = (complexObj1, complexObj2) =&gt; {\n  const someObj = complexObj1.generateAnObject();\n  const objList = someObj.generateListOfObjects();\n\n  for (const obj of objList) {\n    obj.performAction();\n  }\n};\n</code></pre>\n\n<p>As you can see, it's a pretty much a void function that performs a bunch of tasks.  The \"complexObj1\" and \"complexObj2\" objects and the functions it has attached to them are all generated from an API I am using.</p>\n\n<p>Things I would like to test:</p>\n\n<ul>\n<li>parameters complexObj1 and complexObj2 are valid objects</li>\n<li>someObj within fucntion is a valid object with maybe checking a certain property exists</li>\n<li>objList returns a valid list</li>\n<li>each obj in the loop is a valid object</li>\n</ul>\n\n<p>What is the right way to test a function like this?  I've looked into Jest mocking but I'm not sure if this fits my scenario.</p>\n\n<pre><code>  test(\"Test someFunction\", () =&gt; {\n    // not sure what to do here or what to mock etc\n  });\n</code></pre>\n\n<p>Can I not test functions like this?  </p>\n\n<p>If anyone can give me an example of how to test this or even just point me in the right direction I would be thankful.  I really want to learn how to do this.</p>\n"}, {"tags": ["javascript", "node.js", "glob"], "answers": [{"tags": [], "owner": {"reputation": 1355, "user_id": 6651840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dwMfN.png?s=128&g=1", "display_name": "Dean Van Greunen", "link": "https://stackoverflow.com/users/6651840/dean-van-greunen"}, "is_accepted": true, "score": 1, "last_activity_date": 1568229354, "creation_date": 1568229354, "answer_id": 57895533, "question_id": 57895450, "link": "https://stackoverflow.com/questions/57895450/how-can-i-get-a-list-of-filename-with-different-patterns-using-glob-npm-module/57895533#57895533", "title": "How can i get a list of filename with different patterns using glob npm module", "body": "<p>This should match your required solution</p>\n\n<pre><code>var glob = require(\"glob\")\nglob(process.cwd() + \"/directory/**/?(*|*-)file-name?(-*).*\", {}, function (er, \n files) {\n  console.log(files)\n})\n</code></pre>\n\n<p><strong>Resources:</strong></p>\n\n<ul>\n<li><p><a href=\"https://www.npmjs.com/package/glob\" rel=\"nofollow noreferrer\">Glob Read Me</a></p></li>\n<li><p><a href=\"https://dustinpfister.github.io/2017/11/28/nodejs-glob/\" rel=\"nofollow noreferrer\">Glob Tutorial</a></p></li>\n</ul>\n"}], "owner": {"reputation": 25, "user_id": 8599515, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/196e8733cb97314634dab6f962fdc440?s=128&d=identicon&r=PG", "display_name": "Manntrix", "link": "https://stackoverflow.com/users/8599515/manntrix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 68, "favorite_count": 0, "accepted_answer_id": 57895533, "answer_count": 1, "score": 1, "last_activity_date": 1568229354, "creation_date": 1568228965, "question_id": 57895450, "link": "https://stackoverflow.com/questions/57895450/how-can-i-get-a-list-of-filename-with-different-patterns-using-glob-npm-module", "title": "How can i get a list of filename with different patterns using glob npm module", "body": "<p>I want to get the list of filename inside multiple directories which contains <b>file-name</b> as a string in filename. For example</p>\n\n<ul>\n<li>file-name.js</li>\n<li>abcd-file-name.js</li>\n<li>file-name-abcd.js</li>\n<li>abcd-file-name-abcd.js</li>\n</ul>\n\n<p>here is what i have done so far</p>\n\n<pre><code>var glob = require(\"glob\")\n\nglob(process.cwd() + \"/directory/**/*-file-name*.*\", {}, function (er, \n files) {\n  console.log(files)\n})\n</code></pre>\n\n<p>I am only getting files which contains <b>abcd-file-name-abcd.js</b></p>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 1, "creation_date": 1568229368, "post_id": 57895441, "comment_id": 102212356, "body": "The first 3 lines of your function run as soon as the DOM is loaded (document.ready) instead of when a top nav item is clicked. And the first line searches for <code>.current</code> before the 4th line adds that class to anything. Try moving those lines to the appropriate handler."}, {"owner": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "reply_to_user": {"reputation": 56607, "user_id": 695364, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/CUNjJ.jpg?s=128&g=1", "display_name": "Scott Marcus", "link": "https://stackoverflow.com/users/695364/scott-marcus"}, "edited": false, "score": 0, "creation_date": 1568229655, "post_id": 57895441, "comment_id": 102212466, "body": "Thanks, but that didn&#39;t fix it."}, {"owner": {"reputation": 1355, "user_id": 6651840, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dwMfN.png?s=128&g=1", "display_name": "Dean Van Greunen", "link": "https://stackoverflow.com/users/6651840/dean-van-greunen"}, "edited": false, "score": 0, "creation_date": 1568229754, "post_id": 57895441, "comment_id": 102212503, "body": "your code seems to work fine, check <a href=\"https://jsfiddle.net/c89vdwmL/\" rel=\"nofollow noreferrer\">link</a>"}, {"owner": {"reputation": 10321, "user_id": 215552, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/26bda02894d869c95f620de4b7cd386d?s=128&d=identicon&r=PG", "display_name": "Heretic Monkey", "link": "https://stackoverflow.com/users/215552/heretic-monkey"}, "edited": false, "score": 3, "creation_date": 1568229784, "post_id": 57895441, "comment_id": 102212520, "body": "That&#39;s a lot of code for prepending a div... Is there any way you can trim that down to just the part you&#39;re having a problem with; a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}, {"owner": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "edited": false, "score": 0, "creation_date": 1568230086, "post_id": 57895441, "comment_id": 102212647, "body": "Sorry. I just deleted 50% of the HTML code. I hope it&#39;s not too long now."}, {"owner": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "edited": false, "score": 0, "creation_date": 1568231044, "post_id": 57895441, "comment_id": 102212999, "body": "Dean Van Greunen, I think you didn&#39;t understand the problem that i&#39;m having. I want the text of the li that is currently clicked from the top nav to go inside the other nav as an h2."}, {"owner": {"reputation": 7287, "user_id": 3824283, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5l7OG.jpg?s=128&g=1", "display_name": "EternalHour", "link": "https://stackoverflow.com/users/3824283/eternalhour"}, "edited": false, "score": 0, "creation_date": 1568231087, "post_id": 57895441, "comment_id": 102213015, "body": "<code>val()</code> method is for getting values of form elements. You need to use <code>text()</code> in your situation."}, {"owner": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "edited": false, "score": 0, "creation_date": 1568231214, "post_id": 57895441, "comment_id": 102213052, "body": "Thanks EternalHour! But unfortunately that didn&#39;t fix it."}], "answers": [{"comments": [{"owner": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "edited": false, "score": 0, "creation_date": 1568232110, "post_id": 57895989, "comment_id": 102213396, "body": "Thanks! But is there a way to get the default h2 dynamically instead of hard coding it?"}], "tags": [], "owner": {"reputation": 314, "user_id": 9114512, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/21f86856d9e550e7066968564a88dfb8?s=128&d=identicon&r=PG", "display_name": "SWAPNIL KUWAR", "link": "https://stackoverflow.com/users/9114512/swapnil-kuwar"}, "is_accepted": false, "score": 0, "last_activity_date": 1568231814, "last_edit_date": 1568231814, "creation_date": 1568231778, "answer_id": 57895989, "question_id": 57895441, "link": "https://stackoverflow.com/questions/57895441/cannot-prepend-div-that-was-clicked-with-jquery/57895989#57895989", "title": "Cannot prepend div that was clicked with jQuery", "body": "<p>update js code.</p>\n\n<p>Add Default H2 in aboutCollegeNav</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function(){\r\n    var collageID = $('.collegeTypeNav .tab').first().addClass('current').data('tabid');\r\n    var aboutID = $('.aboutCollegeNav .tab').first().addClass('current').data('tabid');\r\n    showDiv();\r\n\r\n    $('.collegeTypeNav .tab').click(function(){\r\n        $('.collegeTypeNav .tab').removeClass('current');\r\n        $('.aboutCollegeNav &gt;h2').html($(this).html());\r\n        collageID = $(this).addClass('current').data('tabid');\r\n        showDiv();\r\n    });\r\n\r\n\r\n    $('.aboutCollegeNav .tab').click(function(){\r\n        $('.aboutCollegeNav .tab').removeClass('current');\r\n        aboutID = $(this).addClass('current').data('tabid');\r\n        showDiv();\r\n    });\r\n\r\n    function showDiv(){\r\n        $('.mainContent &gt; div').hide();\r\n        if(collageID &amp;&amp; aboutID){\r\n            $('.mainContent').find('[data-blockid=\"'+collageID +' ' + aboutID + '\"]').show();\r\n        }\r\n    }\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;nav class=\"aboutCollegeNav\"&gt;\r\n     &lt;h2&gt;engineering&lt;/h2&gt;\r\n    &lt;ul&gt;\r\n       &lt;li role=\"button\" class=\"tab\" data-tabid=\"overview\"&gt;Overview&lt;/li&gt;\r\n       &lt;li role=\"button\" class=\"tab\" data-tabid=\"statistics\"&gt;Statistics&lt;/li&gt;\r\n       &lt;li role=\"button\" class=\"tab\" data-tabid=\"courses\"&gt;Courses&lt;/li&gt;\r\n    &lt;/ul&gt;\r\n &lt;/nav&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "edited": false, "score": 0, "creation_date": 1568233625, "post_id": 57896313, "comment_id": 102213889, "body": "Thanks! But how do you have engineering as the default h2 without hard-coding it?"}, {"owner": {"reputation": 7287, "user_id": 3824283, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5l7OG.jpg?s=128&g=1", "display_name": "EternalHour", "link": "https://stackoverflow.com/users/3824283/eternalhour"}, "reply_to_user": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "edited": false, "score": 0, "creation_date": 1568235054, "post_id": 57896313, "comment_id": 102214359, "body": "@Charly - You would just add <code>showDiv(&quot;Engineering&quot;);</code>, see my updated answer."}, {"owner": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "edited": false, "score": 0, "creation_date": 1568235366, "post_id": 57896313, "comment_id": 102214489, "body": "thanks! But the issue is that i will use this algorithm for multiple pages/navs so it&#39;s not a good idea to hard code it in the HTML or in the JS like your comment above. Or is it not possible?"}, {"owner": {"reputation": 7287, "user_id": 3824283, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5l7OG.jpg?s=128&g=1", "display_name": "EternalHour", "link": "https://stackoverflow.com/users/3824283/eternalhour"}, "reply_to_user": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "edited": false, "score": 0, "creation_date": 1568235910, "post_id": 57896313, "comment_id": 102214670, "body": "@Charly - In that case you need a default current tab then you select it when the page loads. Answer updated."}, {"owner": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "edited": false, "score": 0, "creation_date": 1568236591, "post_id": 57896313, "comment_id": 102214876, "body": "the issue now it that the h2 now changes to the current li of that nav(aboutCollegeNav)."}, {"owner": {"reputation": 7287, "user_id": 3824283, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5l7OG.jpg?s=128&g=1", "display_name": "EternalHour", "link": "https://stackoverflow.com/users/3824283/eternalhour"}, "reply_to_user": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "edited": false, "score": 0, "creation_date": 1568236847, "post_id": 57896313, "comment_id": 102214954, "body": "@Charly - That&#39;s more than likely because I added <code>var toAdd = $(this).text();</code> to that click event, just remove it. This is why you need to provide an example of the expected behavior in your question. We can&#39;t guess exactly what you are trying to do."}, {"owner": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "edited": false, "score": 0, "creation_date": 1568237055, "post_id": 57896313, "comment_id": 102215025, "body": "for some reason when I remove that line, the bottom nav won&#39;t work."}, {"owner": {"reputation": 7287, "user_id": 3824283, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5l7OG.jpg?s=128&g=1", "display_name": "EternalHour", "link": "https://stackoverflow.com/users/3824283/eternalhour"}, "reply_to_user": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "edited": false, "score": 0, "creation_date": 1568237501, "post_id": 57896313, "comment_id": 102215150, "body": "The reason for these issues is because the <code>showDiv()</code> function has to run in order to show the content. Inside the <code>showDiv()</code> function, it always expects to update the <code>&lt;h2&gt;</code> because it&#39;s hard coded there. Hopefully this makes sense. The <code>&lt;h2&gt;</code> needs to be created/updated conditionally only when the <code>.collegeTypeNav</code> click event happens."}, {"owner": {"reputation": 7287, "user_id": 3824283, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5l7OG.jpg?s=128&g=1", "display_name": "EternalHour", "link": "https://stackoverflow.com/users/3824283/eternalhour"}, "reply_to_user": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "edited": false, "score": 0, "creation_date": 1568239381, "post_id": 57896313, "comment_id": 102215587, "body": "@Charly - Please check my final answer."}], "tags": [], "owner": {"reputation": 7287, "user_id": 3824283, "user_type": "registered", "accept_rate": 80, "profile_image": "https://i.stack.imgur.com/5l7OG.jpg?s=128&g=1", "display_name": "EternalHour", "link": "https://stackoverflow.com/users/3824283/eternalhour"}, "is_accepted": true, "score": 0, "last_activity_date": 1568239356, "last_edit_date": 1568239356, "creation_date": 1568233390, "answer_id": 57896313, "question_id": 57895441, "link": "https://stackoverflow.com/questions/57895441/cannot-prepend-div-that-was-clicked-with-jquery/57896313#57896313", "title": "Cannot prepend div that was clicked with jQuery", "body": "<p>In order to accomplish your goal there are several things you need to do. This could definitely be more efficient but just improving what you have.</p>\n\n<ol>\n<li><p>Add the <code>current</code> class to your default nav item (\"Engineering\"). Also, rather than creating the <code>&lt;h2&gt;</code> every time, I added it to the html so it's always there and just needs to have content.</p>\n\n<pre><code>&lt;nav class=\"collegeTypeNav\"&gt;\n  &lt;ul&gt;\n    &lt;li role=\"button\" class=\"tab current\" data-tabid=\"engineering\"&gt;Engineering&lt;/li&gt;\n    &lt;li role=\"button\" class=\"tab\" data-tabid=\"science\"&gt;Science&lt;/li&gt;\n    &lt;li role=\"button\" class=\"tab\" data-tabid=\"liberalArts\"&gt;Liberal Arts&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/nav&gt;\n\n&lt;nav class=\"aboutCollegeNav\"&gt;\n  &lt;h2 class=\"navHeading\"&gt;&lt;/h2&gt;\n  &lt;ul&gt;\n    &lt;li role=\"button\" class=\"tab\" data-tabid=\"overview\"&gt;Overview&lt;/li&gt;\n    &lt;li role=\"button\" class=\"tab\" data-tabid=\"statistics\"&gt;Statistics&lt;/li&gt;\n    &lt;li role=\"button\" class=\"tab\" data-tabid=\"courses\"&gt;Courses&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/nav&gt;\n</code></pre></li>\n<li><p>I created a dedicated function for updating the <code>&lt;h2&gt;</code> to make it more versatile.</p>\n\n<pre><code>  $(document).ready(function() {\n  var collageID = $('.collegeTypeNav .tab').first().addClass('current').data('tabid');\n  var aboutID = $('.aboutCollegeNav .tab').first().addClass('current').data('tabid');\n  var defaultTab = $('nav.collegeTypeNav').find('.current').text();\n  updateH2(defaultTab);\n  showDiv();\n\n  $('.collegeTypeNav .tab').click(function() {\n    $('.collegeTypeNav .tab').removeClass('current');\n    collageID = $(this).addClass('current').data('tabid');\n    updateH2($(this).text());\n    showDiv();\n  });\n\n  $('.aboutCollegeNav .tab').click(function() {\n    $('.aboutCollegeNav .tab').removeClass('current');\n    aboutID = $(this).addClass('current').data('tabid');\n    showDiv();\n  });\n\n  function updateH2(toAdd) {\n    $('.navHeading').text(toAdd);\n  }\n\n  function showDiv() {\n    $('.mainContent &gt; div').hide();\n    if (collageID &amp;&amp; aboutID) {\n      $('.mainContent').find('[data-blockid=\"' + collageID + ' ' + aboutID + '\"]').show();\n    }\n  }\n});\n</code></pre></li>\n</ol>\n"}], "owner": {"reputation": 179, "user_id": 12054257, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1e6ab46f420837f866d02a88f63de379?s=128&d=identicon&r=PG&f=1", "display_name": "Charly", "link": "https://stackoverflow.com/users/12054257/charly"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 82, "favorite_count": 0, "accepted_answer_id": 57896313, "answer_count": 2, "score": 0, "last_activity_date": 1568239356, "creation_date": 1568228921, "last_edit_date": 1568231497, "question_id": 57895441, "link": "https://stackoverflow.com/questions/57895441/cannot-prepend-div-that-was-clicked-with-jquery", "title": "Cannot prepend div that was clicked with jQuery", "body": "<p>I'm trying to prepend a div with a certain class, but i can't get it to work. I want to get a copy of the current li selected from the top nav, and send it to the other nav as an h2 title. I tried targeting the class \"current\" and then getting it's value and prepeding it to the other nav, but it didn't work. Sorry if this sounds confusing, but you will understand once you check out the run the code snippet. Thanks for you help! </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$(document).ready(function(){\r\n    var collageID = $('.collegeTypeNav .tab').first().addClass('current').data('tabid');\r\n    var aboutID = $('.aboutCollegeNav .tab').first().addClass('current').data('tabid');\r\n    showDiv();\r\n\r\n    $('.collegeTypeNav .tab').click(function(){\r\n        $('.collegeTypeNav .tab').removeClass('current');\r\n        collageID = $(this).addClass('current').data('tabid');\r\n        showDiv();\r\n    });\r\n\r\n    $('.aboutCollegeNav .tab').click(function(){\r\n        $('.aboutCollegeNav .tab').removeClass('current');\r\n        aboutID = $(this).addClass('current').data('tabid');\r\n        showDiv();\r\n    });\r\n\r\n    function showDiv(){\r\n        $('.mainContent &gt; div').hide();\r\n        if(collageID &amp;&amp; aboutID){\r\n            $('.mainContent').find('[data-blockid=\"'+collageID +' ' + aboutID + '\"]').show();\r\n        }\r\n    }\r\n\r\n    //get text of the li that is currently clicked from the top nav to go inside the other nav as an h2.\r\n    var toAdd = $('.collegeTypeNav .tab .current').text();\r\n    var item = $(\"&lt;h2&gt;\" + toAdd + \"&lt;/h2\");\r\n    $('.aboutCollegeNav').prepend(item);\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.current{\r\n    background: red;\r\n} \r\nnav ul{\r\n    list-style: none;\r\n}\r\nli{\r\n    cursor: pointer;\r\n    padding: 20px;\r\n}\r\nli:hover{\r\n    background: red;\r\n}\r\n.mainNav ul{\r\n    display: flex\r\n}\r\n.mainNav ul li{\r\n    margin-right: 30px;\r\n    text-decoration: none;\r\n}\r\n.collegeTypeNav{\r\n    background: #c4d8ff;\r\n}\r\n.collegeTypeNav ul{\r\n    display: flex;\r\n    margin-left: 100px;\r\n}\r\n.collegeTypeNav ul li{\r\n    margin-right: 10px;\r\n}\r\n.middleContent{\r\n    display: flex;\r\n}\r\n.aboutCollegeNav{\r\n    background: #d1ffe4;\r\n}\r\n.aboutCollegeNav ul{\r\n    padding: 0px;\r\n}\r\n.aboutCollegeNav ul li{\r\n    margin-bottom: 10px;    \r\n}\r\n\r\n.mainContent{\r\n    margin-left: 50px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\"&gt;\r\n&lt;head&gt;\r\n   &lt;meta charset=\"UTF-8\"&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n      &lt;nav class=\"collegeTypeNav\"&gt;\r\n         &lt;ul&gt;\r\n            &lt;li role=\"button\" class=\"tab\" data-tabid=\"engineering\"&gt;Engineering&lt;/li&gt;\r\n            &lt;li role=\"button\" class=\"tab\" data-tabid=\"science\"&gt;Science&lt;/li&gt;\r\n            &lt;li role=\"button\" class=\"tab\" data-tabid=\"liberalArts\"&gt;Liberal Arts&lt;/li&gt;\r\n         &lt;/ul&gt;\r\n      &lt;/nav&gt;\r\n      &lt;div class=\"middleContent\"&gt;\r\n         &lt;nav class=\"aboutCollegeNav\"&gt;\r\n            &lt;ul&gt;\r\n               &lt;li role=\"button\" class=\"tab\" data-tabid=\"overview\"&gt;Overview&lt;/li&gt;\r\n               &lt;li role=\"button\" class=\"tab\" data-tabid=\"statistics\"&gt;Statistics&lt;/li&gt;\r\n               &lt;li role=\"button\" class=\"tab\" data-tabid=\"courses\"&gt;Courses&lt;/li&gt;\r\n            &lt;/ul&gt;\r\n         &lt;/nav&gt;\r\n         &lt;div class=\"mainContent\"&gt;\r\n            &lt;div data-blockid=\"engineering overview\"&gt;\r\n               &lt;p&gt;This is the inside of engineering overview&lt;/p&gt;\r\n            &lt;/div&gt;\r\n            &lt;div data-blockid=\"science courses\"&gt;\r\n               &lt;p&gt;This is the inside of science courses&lt;/p&gt;\r\n            &lt;/div&gt;\r\n            &lt;div data-blockid=\"liberalArts overview\"&gt;\r\n               &lt;p&gt;This is the inside of science courses liberalarts overview&lt;/p&gt;\r\n            &lt;/div&gt;\r\n         &lt;/div&gt;\r\n      &lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "reactjs", "typescript", "setstate"], "answers": [{"tags": [], "owner": {"reputation": 287, "user_id": 1243756, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/05a6a4b608e8056aad0f1b6bb7a0ae82?s=128&d=identicon&r=PG", "display_name": "Steve Graber", "link": "https://stackoverflow.com/users/1243756/steve-graber"}, "is_accepted": false, "score": 0, "last_activity_date": 1569938060, "creation_date": 1569938060, "answer_id": 58186343, "question_id": 57895426, "link": "https://stackoverflow.com/questions/57895426/react-child-component-with-array-props-updating-incorrectly/58186343#58186343", "title": "React Child Component with Array Props Updating Incorrectly", "body": "<p>The table key...</p>\n\n<pre><code>&lt;TableRow key={status.location}&gt;\n</code></pre>\n\n<p>was changing based on the status location. The table key must remain constant for the rendering to work correctly.</p>\n"}], "owner": {"reputation": 287, "user_id": 1243756, "user_type": "registered", "accept_rate": 43, "profile_image": "https://www.gravatar.com/avatar/05a6a4b608e8056aad0f1b6bb7a0ae82?s=128&d=identicon&r=PG", "display_name": "Steve Graber", "link": "https://stackoverflow.com/users/1243756/steve-graber"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 41, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1569938060, "creation_date": 1568228847, "last_edit_date": 1568229265, "question_id": 57895426, "link": "https://stackoverflow.com/questions/57895426/react-child-component-with-array-props-updating-incorrectly", "title": "React Child Component with Array Props Updating Incorrectly", "body": "<p>My react web app uses Typescript.</p>\n\n<p>I'm having a problem with a child Component with array Props updating incorrectly when the array is updated in the parent with setState.</p>\n\n<p>The child is declared in the parent Component render as follows (Alarms is the child Component, filteredStatus is the array):</p>\n\n<pre><code>&lt;div key={1} className={'1'}&gt;\n  &lt;span className='text'&gt;&lt;b&gt;{locationName} &lt;i&gt;Status&lt;/i&gt;&lt;/b&gt;&lt;/span&gt;\n  &lt;Alarms filteredStatus={this.state.filteredStatus}/&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The child displays the array as a table.</p>\n\n<pre><code>public generate = () =&gt; {\n    return this.props.filteredStatus.map(status =&gt;\n    {\n      return (\n      &lt;TableRow key={status.location}&gt;\n        &lt;TableCell align=\"left\"&gt;\n          {(status.severity === 40) &amp;&amp; &lt;ErrorIcon style={{ fill: '#FF3333'}}/&gt;}\n          {(status.severity === 30) &amp;&amp; &lt;NotificationIcon style={{ fill: 'FFA033'}}/&gt;}\n          {(status.severity === 20) &amp;&amp; &lt;WarningIcon style={{ fill: 'FFE033'}}/&gt;}\n        &lt;/TableCell&gt;\n        &lt;TableCell align=\"left\"&gt;{status.description}&lt;/TableCell&gt;\n        &lt;TableCell align=\"left\"&gt;{status.timestamp}&lt;/TableCell&gt;\n        &lt;TableCell align=\"left\"&gt;{status.location}&lt;/TableCell&gt;\n\n        {/* &lt;div className=\"ListBtn\"&gt;\n          &lt;Tooltip title={\"Clear '\" + alarm.who + \"'\"}&gt;\n            &lt;Avatar&gt;\n              &lt;IconButton aria-label=\"Delete\" onClick={this.openClearAlarmConfirmDialog.bind(this, alarm)} &gt;\n                &lt;DeleteIcon /&gt;\n              &lt;/IconButton&gt;\n            &lt;/Avatar&gt;\n          &lt;/Tooltip&gt;\n        &lt;/div&gt; */}\n      &lt;/TableRow&gt;\n      );\n    });\n  }\n\n  public render() {\n    return (\n      &lt;div&gt;\n        {/* &lt;Paper&gt; */}\n          &lt;Table&gt;\n            &lt;TableHead&gt;\n              &lt;TableCell align=\"left\"&gt;Severity&lt;/TableCell&gt;\n              &lt;TableCell align=\"left\"&gt;Description&lt;/TableCell&gt;\n              &lt;TableCell align=\"left\"&gt;Timestamp&lt;/TableCell&gt;\n              &lt;TableCell align=\"left\"&gt;Location&lt;/TableCell&gt;\n            &lt;/TableHead&gt;\n            &lt;TableBody&gt;\n              {this.generate()}\n            &lt;/TableBody&gt;\n          &lt;/Table&gt;\n        {/* &lt;/Paper&gt; */}\n      &lt;/div&gt;\n    );\n  }\n\n\nfilteredStatus is declared in the parent Component state as...\n\n    interface IState {\n      dtName: string;\n      dtDesc: string;\n      dtInfo: IDrivetrainInfo;\n      drillDownIndex: number;\n      componentName: string;\n      navLocations: string[];\n      filteredStatus: Status[];\n      nullStatus: Status[];\n      locationStatus: Status;\n    }\n\nStatus is a user defined class...\n\n\n    export class Status {\n        public location: string;\n        public timestamp: string;\n        public severity: number;\n        public description: string;\n    }\n</code></pre>\n\n<p>The filteredStatus is updated in the parent from a timer...\nA new array of Status is created and assigned to the state.filtered status as follows:</p>\n\n<pre><code>this.setState({filteredStatus: this.localStatus});\n</code></pre>\n\n<p>What happens is that the updated table doesn't correctly show the new array of components. The new array appears to be merged with the old array. I added the size of the array to the child display and at times the size shows 0 while the list shows 15 elements. </p>\n\n<p>I was able to work around this problem by first setting the filteredStatus to a null array, then the new array as follows:</p>\n\n<pre><code>const nullStatus = Array&lt;Status&gt;();\nthis.setState({filteredStatus: nullStatus});\nthis.setState({filteredStatus: this.localStatus});\n</code></pre>\n\n<p>I may be doing something wrong, but this appears to be a problem with the rendering of the array props in the child Component.</p>\n"}, {"tags": ["javascript", "vue.js", "vuetify.js"], "comments": [{"owner": {"reputation": 2841, "user_id": 7553693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqelX.jpg?s=128&g=1", "display_name": "Adam Orlov", "link": "https://stackoverflow.com/users/7553693/adam-orlov"}, "edited": false, "score": 0, "creation_date": 1568231911, "post_id": 57895418, "comment_id": 102213341, "body": "I don&#39;t get what you are trying to acieve."}, {"owner": {"reputation": 2053, "user_id": 3593647, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Io4BS.jpg?s=128&g=1", "display_name": "thadeuszlay", "link": "https://stackoverflow.com/users/3593647/thadeuszlay"}, "reply_to_user": {"reputation": 2841, "user_id": 7553693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqelX.jpg?s=128&g=1", "display_name": "Adam Orlov", "link": "https://stackoverflow.com/users/7553693/adam-orlov"}, "edited": false, "score": 0, "creation_date": 1568232152, "post_id": 57895418, "comment_id": 102213411, "body": "@AdamOrlov I&#39;m trying to refactor the code, i.e. creating small components. The code in the first listing should be put inside a vue component, called <code>ListElementAvatar</code>. Because I want to reuse it later. When I want to reuse it, I just call &lt;ListElementAvatar /&gt; instead of the long code in the first listing."}, {"owner": {"reputation": 44567, "user_id": 2185093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zSFk.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2185093/dan"}, "edited": false, "score": 0, "creation_date": 1568233940, "post_id": 57895418, "comment_id": 102213987, "body": "There may be no reason to pass both <code>data</code> and all its properties separately, btw, unless you plan to reuse this component in a different context.  It&#39;s more readable / efficient to simply pass <code>data</code> and grab the properties on the other side in the component."}, {"owner": {"reputation": 2841, "user_id": 7553693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqelX.jpg?s=128&g=1", "display_name": "Adam Orlov", "link": "https://stackoverflow.com/users/7553693/adam-orlov"}, "reply_to_user": {"reputation": 44567, "user_id": 2185093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zSFk.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2185093/dan"}, "edited": false, "score": 0, "creation_date": 1568234712, "post_id": 57895418, "comment_id": 102214253, "body": "@Dan has it&#39;s point. You are passing down <code>item</code> and later item&#39;s property. It&#39;d be more clear to pass it as one object or separate them all :)"}, {"owner": {"reputation": 44567, "user_id": 2185093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zSFk.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2185093/dan"}, "reply_to_user": {"reputation": 2841, "user_id": 7553693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqelX.jpg?s=128&g=1", "display_name": "Adam Orlov", "link": "https://stackoverflow.com/users/7553693/adam-orlov"}, "edited": false, "score": 0, "creation_date": 1568235379, "post_id": 57895418, "comment_id": 102214500, "body": "@AdamOrlov Generally speaking, if the properties are always grouped together by an object structure / class type, it&#39;s more readable and sensible to pass the object.  It becomes clearer when you imagine passing 100 properties for no reason instead of the object itself."}, {"owner": {"reputation": 2841, "user_id": 7553693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqelX.jpg?s=128&g=1", "display_name": "Adam Orlov", "link": "https://stackoverflow.com/users/7553693/adam-orlov"}, "reply_to_user": {"reputation": 44567, "user_id": 2185093, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/6zSFk.jpg?s=128&g=1", "display_name": "Dan", "link": "https://stackoverflow.com/users/2185093/dan"}, "edited": false, "score": 1, "creation_date": 1568235826, "post_id": 57895418, "comment_id": 102214638, "body": "@Dan I agree. PS if your component needs 100 properties then it a hell of a component ;)"}], "answers": [{"comments": [{"owner": {"reputation": 2053, "user_id": 3593647, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Io4BS.jpg?s=128&g=1", "display_name": "thadeuszlay", "link": "https://stackoverflow.com/users/3593647/thadeuszlay"}, "edited": false, "score": 0, "creation_date": 1568234614, "post_id": 57896386, "comment_id": 102214215, "body": "Yes, that works. I tried it already. But I was looking for a solution where I can pass in data inside the new component, i.e. no template wrapper around."}, {"owner": {"reputation": 2841, "user_id": 7553693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqelX.jpg?s=128&g=1", "display_name": "Adam Orlov", "link": "https://stackoverflow.com/users/7553693/adam-orlov"}, "reply_to_user": {"reputation": 2053, "user_id": 3593647, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Io4BS.jpg?s=128&g=1", "display_name": "thadeuszlay", "link": "https://stackoverflow.com/users/3593647/thadeuszlay"}, "edited": false, "score": 0, "creation_date": 1568234834, "post_id": 57896386, "comment_id": 102214286, "body": "I am glad I could help."}, {"owner": {"reputation": 2841, "user_id": 7553693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqelX.jpg?s=128&g=1", "display_name": "Adam Orlov", "link": "https://stackoverflow.com/users/7553693/adam-orlov"}, "reply_to_user": {"reputation": 2053, "user_id": 3593647, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Io4BS.jpg?s=128&g=1", "display_name": "thadeuszlay", "link": "https://stackoverflow.com/users/3593647/thadeuszlay"}, "edited": false, "score": 0, "creation_date": 1568234953, "post_id": 57896386, "comment_id": 102214328, "body": "I think moving <code>v-slot:item=&quot;data&quot;</code> into <code>ListElementAvatar</code> like this: <code>ListElementAvatar v-slot:item=&quot;data&quot;...</code> would work too. But Using template is more clear to me."}, {"owner": {"reputation": 2053, "user_id": 3593647, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Io4BS.jpg?s=128&g=1", "display_name": "thadeuszlay", "link": "https://stackoverflow.com/users/3593647/thadeuszlay"}, "edited": false, "score": 0, "creation_date": 1568236200, "post_id": 57896386, "comment_id": 102214751, "body": "How exactly? Simply inserting v-slot:item=&quot;data&quot; (next to other properties) won&#39;t work."}, {"owner": {"reputation": 2841, "user_id": 7553693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqelX.jpg?s=128&g=1", "display_name": "Adam Orlov", "link": "https://stackoverflow.com/users/7553693/adam-orlov"}, "reply_to_user": {"reputation": 2053, "user_id": 3593647, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Io4BS.jpg?s=128&g=1", "display_name": "thadeuszlay", "link": "https://stackoverflow.com/users/3593647/thadeuszlay"}, "edited": false, "score": 0, "creation_date": 1568280322, "post_id": 57896386, "comment_id": 102227285, "body": "@thadeuszlay Hmm mayby it changed after version 2.6+ :-|"}], "tags": [], "owner": {"reputation": 2841, "user_id": 7553693, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/XqelX.jpg?s=128&g=1", "display_name": "Adam Orlov", "link": "https://stackoverflow.com/users/7553693/adam-orlov"}, "is_accepted": false, "score": 1, "last_activity_date": 1568233749, "creation_date": 1568233749, "answer_id": 57896386, "question_id": 57895418, "link": "https://stackoverflow.com/questions/57895418/vuejs-how-to-move-v-slot-references-into-a-component/57896386#57896386", "title": "vuejs How to move v-slot references into a component?", "body": "<p>You need to put your component inside template with scoped-slot:</p>\n\n<pre><code>&lt;template v-slot:item=\"data\"&gt;\n  &lt;ListElementAvatar\n    :item=\"data.item\"\n    :imgSrc=\"data.item.avatar\"\n    :title=\"data.item.name\"\n    :subtitle=\"data.item.group\"\n    :source=\"data\"\n  /&gt;\n&lt;/template&gt;\n</code></pre>\n\n<p>This should do the trick.</p>\n"}], "owner": {"reputation": 2053, "user_id": 3593647, "user_type": "registered", "accept_rate": 77, "profile_image": "https://i.stack.imgur.com/Io4BS.jpg?s=128&g=1", "display_name": "thadeuszlay", "link": "https://stackoverflow.com/users/3593647/thadeuszlay"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 228, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1568233749, "creation_date": 1568228816, "last_edit_date": 1568232211, "question_id": 57895418, "link": "https://stackoverflow.com/questions/57895418/vuejs-how-to-move-v-slot-references-into-a-component", "title": "vuejs How to move v-slot references into a component?", "body": "<p>I don't quite get how to move the <code>v-slot</code> data into a component.</p>\n\n<p>Let's say I want to refactor the follwoing code:</p>\n\n<pre><code>        &lt;template v-slot:item=\"data\"&gt;\n          &lt;template v-if=\"typeof data.item !== 'object'\"&gt;\n            &lt;v-list-item-content v-text=\"data.item\"&gt;&lt;/v-list-item-content&gt;\n          &lt;/template&gt;\n          &lt;template v-else&gt;\n            &lt;v-list-item-avatar&gt;\n              &lt;img :src=\"data.item.avatar\"&gt;\n            &lt;/v-list-item-avatar&gt;\n            &lt;v-list-item-content&gt;\n              &lt;v-list-item-title v-html=\"data.item.name\"&gt;&lt;/v-list-item-title&gt;\n              &lt;v-list-item-subtitle v-html=\"data.item.group\"&gt;&lt;/v-list-item-subtitle&gt;\n            &lt;/v-list-item-content&gt;\n          &lt;/template&gt;\n</code></pre>\n\n<p>How do I pass the data inside a new component? I tried it with <code>props</code> but the component wouldn't show up:</p>\n\n<pre><code>          &lt;ListElementAvatar\n            :item=\"data.item\"\n            :imgSrc=\"data.item.avatar\"\n            :title=\"data.item.name\"\n            :subtitle=\"data.item.group\"\n            :source=\"data\" /&gt;\n</code></pre>\n\n<p>ListElementAvatar:</p>\n\n<pre><code>&lt;template&gt;\n  &lt;div&gt;\n    &lt;template v-if=\"typeof item !== 'object'\"&gt;\n      &lt;v-list-item-content :v-text=\"item\"&gt;&lt;/v-list-item-content&gt;\n    &lt;/template&gt;\n    &lt;template v-else&gt;\n      &lt;ListItemAvatar :imgSrc=\"imgSrc\" /&gt;\n      &lt;v-list-item-content&gt;\n        &lt;v-list-item-title :v-html=\"title\"&gt;&lt;/v-list-item-title&gt;\n        &lt;v-list-item-subtitle :v-html=\"subtitle\"&gt;&lt;/v-list-item-subtitle&gt;\n      &lt;/v-list-item-content&gt;\n    &lt;/template&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script&gt;\nexport default {\n  name: \"ListElementAvatar\",\n  props: {\n    item: {\n      type: Object,\n      default: () =&gt; {},\n    },\n    imgSrc: {\n      type: String,\n      default: '',\n    },\n    title: {\n      type: String,\n      default: '',\n    },\n    subtitle: {\n      type: String,\n      default: '',\n    },\n    source: {\n      type: Object,\n      default: () =&gt; {},\n    },\n  },\n};\n&lt;/script&gt;\n</code></pre>\n\n<p>What I want to achieve:\nI'm trying to refactor the code, i.e. creating small components. The code in the first listing should be put inside a vue component, called <code>ListElementAvatar</code>. Because I want to reuse it later. When I want to reuse it, I just call  instead of the long code in the first listing.</p>\n\n<p>Context:\n<a href=\"https://codepen.io/thadeuszlay/pen/gOYevRZ?editors=1010\" rel=\"nofollow noreferrer\">https://codepen.io/thadeuszlay/pen/gOYevRZ?editors=1010</a></p>\n"}]