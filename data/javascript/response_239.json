[{"tags": ["javascript", "reactjs", "radio-button"], "comments": [{"owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "edited": false, "score": 0, "creation_date": 1565222816, "post_id": 57403575, "comment_id": 101288726, "body": "There are two ways to do this, either wrap your <code>&lt;DynamicText&gt;</code> with a conditional jsx statement that checks for the state update for that input (you may want to use a unique id for each radio so that you can use that state value as the display boolean), or use refs to associate the DynamicText with the input."}], "answers": [{"comments": [{"owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "edited": false, "score": 0, "creation_date": 1565226431, "post_id": 57403705, "comment_id": 101289409, "body": "I&#39;m using Emotion for styling! Which is why some of my tags are capitalized. But the logic looks great!"}, {"owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "reply_to_user": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "edited": false, "score": 0, "creation_date": 1565226515, "post_id": 57403705, "comment_id": 101289426, "body": "Ah I see sorry I haven&#39;t used Emotion so I wasn&#39;t sure what was going on there"}, {"owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "edited": false, "score": 0, "creation_date": 1565227685, "post_id": 57403705, "comment_id": 101289611, "body": "is there a way for multiple states to be selected? I have several questions, and I&#39;d like the displayed text to stay there next to the answer from the previous as the user continues the quiz"}, {"owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "reply_to_user": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "edited": false, "score": 0, "creation_date": 1565230685, "post_id": 57403705, "comment_id": 101290108, "body": "Maybe if you change to using checkboxes instead of radio buttons yes. You would just need to keep an array of currently selected IDs."}], "tags": [], "owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "is_accepted": true, "score": 1, "last_activity_date": 1565223466, "creation_date": 1565223466, "answer_id": 57403705, "question_id": 57403575, "link": "https://stackoverflow.com/questions/57403575/dynamic-text-display-with-radio-buttons-in-react/57403705#57403705", "title": "Dynamic Text Display with Radio Buttons in React", "body": "<p>Here is an example of how you could achieve this as I mentioned above using state: <a href=\"https://codesandbox.io/s/focused-sun-bluru?fontsize=14\" rel=\"nofollow noreferrer\">https://codesandbox.io/s/focused-sun-bluru?fontsize=14</a></p>\n\n<p>Please note I have made minor alterations to your code to get this to work, you need to clean up the casing on your dom elements and make sure you are closing dom tags correctly. I also replaced your DynamicText component with divs but the same logic applies.</p>\n"}], "owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 57403705, "answer_count": 1, "score": 0, "last_activity_date": 1565223466, "creation_date": 1565222305, "question_id": 57403575, "link": "https://stackoverflow.com/questions/57403575/dynamic-text-display-with-radio-buttons-in-react", "title": "Dynamic Text Display with Radio Buttons in React", "body": "<p>I am making a multiple choice quiz. For every question, each option is implemented as a radio button. </p>\n\n<p>When a user selects an option, I'd like to display text associated with the specific option they choose. </p>\n\n<p>So far, I've been able to implement the radio buttons and handle an onChange event. <strong>However, I don't know how to display certain text when one option is chosen (and hide the others).</strong> </p>\n\n<pre><code>import React from 'react';\nimport styled from '@emotion/styled'\n\nclass Budget extends React.Component {\nstate = {\n  studentLoanPayment: 0,\n};\n\nhandleInputChange = event =&gt; {\n    const { name, value } = event.target;\n    console.log(name, value, event.target)\n    this.setState({ [name]: value });\n    /* the below code does not work\n    var parent = event.target.parent;\n    parent.find('DynamicText').show(); \n\n   */\n};\n\nrender() {\n  const {\n      studentLoanPayment\n  } = this.state;\n\n  const totalMonthsDisplay = studentLoanPayment;\n\n    return (\n      &lt;div&gt;\n          &lt;UL&gt;\n              &lt;Li&gt;\n                  &lt;h4&gt;\n                      How much money should Leif put towards student loans\n                      each month?\n                  &lt;/h4&gt;\n              &lt;/Li&gt;\n              &lt;li&gt;\n                          &lt;Label&gt;\n                              &lt;input\n                                  type=\"radio\"\n                                  name=\"studentLoanPayment\"\n                                  value=\"400\"\n                                  onChange={this.handleInputChange}\n                              /&gt;\n                              400\n                            &lt;DynamicText&gt;hidden op1 text&lt;/DynamicText&gt;\n                          &lt;/Label&gt;\n              &lt;/li&gt;\n              &lt;li&gt;\n                          &lt;Label&gt;\n                              &lt;input\n                                  type=\"radio\"\n                                  name=\"studentLoanPayment\"\n                                  value=\"500\"\n                                  onChange={this.handleInputChange}\n                              /&gt;\n                              500\n                              &lt;DynamicText&gt;hidden op2 text&lt;/DynamicText&gt;\n                          &lt;/Label&gt;\n              &lt;/li&gt;\n              &lt;li&gt;\n                &lt;Label&gt;\n                  &lt;input\n                    type=\"radio\"\n                    name=\"studentLoanPayment\"\n                    value=\"200\"\n                    onChange={this.handleInputChange}&gt;\n                  &lt;/input&gt;\n                  200\n                  &lt;DynamicText&gt;hidden op3 text&lt;/DynamicText&gt;\n                &lt;/Label&gt;\n             &lt;/li&gt;\n          &lt;/UL&gt;\n        );\n      }\n   }\nconst DynamicText = styled.ul`\n    display:none;\n`\n</code></pre>\n"}, {"tags": ["javascript", "html", "svg", "css-transitions", "css-transforms"], "comments": [{"owner": {"reputation": 289, "user_id": 1950446, "user_type": "registered", "accept_rate": 95, "profile_image": "https://i.stack.imgur.com/EiZjP.png?s=128&g=1", "display_name": "joeybab3", "link": "https://stackoverflow.com/users/1950446/joeybab3"}, "edited": false, "score": 2, "creation_date": 1565282827, "post_id": 57403549, "comment_id": 101314333, "body": "Why did you remove the example code you posted? If you got your answer, leave it for others who may find it helpful."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 11892012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c90ba0a586e070251db33b03efbb9180?s=128&d=identicon&r=PG&f=1", "display_name": "JSFresher", "link": "https://stackoverflow.com/users/11892012/jsfresher"}, "edited": false, "score": 0, "creation_date": 1565493648, "post_id": 57407286, "comment_id": 101370122, "body": "Thanks. This works on all the browsers except IE. On ie , when I click anywhere on the pink region, it just jumps to the new segment without gradually moving. Could you suggest any solution for this? Thanks"}, {"owner": {"reputation": 24997, "user_id": 7897395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2108bc8318af0d73434ffa286ba2b22f?s=128&d=identicon&r=PG&f=1", "display_name": "enxaneta", "link": "https://stackoverflow.com/users/7897395/enxaneta"}, "reply_to_user": {"reputation": 23, "user_id": 11892012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c90ba0a586e070251db33b03efbb9180?s=128&d=identicon&r=PG&f=1", "display_name": "JSFresher", "link": "https://stackoverflow.com/users/11892012/jsfresher"}, "edited": false, "score": 0, "creation_date": 1565508182, "post_id": 57407286, "comment_id": 101371739, "body": "<code>pointer-events</code> should work on IE 11: <a href=\"https://caniuse.com/#feat=pointer-events\" rel=\"nofollow noreferrer\">caniuse.com/#feat=pointer-events</a>. The fact that &quot;it jumps&quot; means that the &quot;segments&quot; are sensitive to the mouse. It may be something else that it doesn&#39;t work. It would be nice to see your code"}, {"owner": {"reputation": 23, "user_id": 11892012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c90ba0a586e070251db33b03efbb9180?s=128&d=identicon&r=PG&f=1", "display_name": "JSFresher", "link": "https://stackoverflow.com/users/11892012/jsfresher"}, "edited": false, "score": 0, "creation_date": 1565547568, "post_id": 57407286, "comment_id": 101379652, "body": "Here is the link - <a href=\"https://codepen.io/linamary/pen/zgWvoN\" rel=\"nofollow noreferrer\">codepen.io/linamary/pen/zgWvoN</a>   , and the debug mode link for IE is - <a href=\"https://s.codepen.io/linamary/debug/zgWvoN/vWkRwRbPBWOM\" rel=\"nofollow noreferrer\">s.codepen.io/linamary/debug/zgWvoN/vWkRwRbPBWOM</a>"}], "tags": [], "owner": {"reputation": 24997, "user_id": 7897395, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/2108bc8318af0d73434ffa286ba2b22f?s=128&d=identicon&r=PG&f=1", "display_name": "enxaneta", "link": "https://stackoverflow.com/users/7897395/enxaneta"}, "is_accepted": true, "score": 0, "last_activity_date": 1565249153, "creation_date": 1565249153, "answer_id": 57407286, "question_id": 57403549, "link": "https://stackoverflow.com/questions/57403549/rotate-svg-onclick/57407286#57407286", "title": "Rotate svg onclick", "body": "<p>One error is that you are using a div inside the svg element. You can try to use a <code>&lt;g&gt;</code> element instead.\nAlso many css rules for <code>.circle_seg</code> are useless. I've commented those out but I've added <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Pointer_events\" rel=\"nofollow noreferrer\">pointer-events:all;</a>. This will make the \"segments\" sensitive to mouse events like click.</p>\n\n<pre><code>.circle_seg {\n  /*height: 100%;\n  position: absolute;\n  width: 100%;*/\n  pointer-events:all;\n  cursor: pointer;\n  fill:none;\n}\n</code></pre>\n"}], "owner": {"reputation": 23, "user_id": 11892012, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c90ba0a586e070251db33b03efbb9180?s=128&d=identicon&r=PG&f=1", "display_name": "JSFresher", "link": "https://stackoverflow.com/users/11892012/jsfresher"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 139, "favorite_count": 0, "accepted_answer_id": 57407286, "answer_count": 1, "score": 1, "last_activity_date": 1565282602, "creation_date": 1565221903, "last_edit_date": 1565282602, "question_id": 57403549, "link": "https://stackoverflow.com/questions/57403549/rotate-svg-onclick", "title": "Rotate svg onclick", "body": "<p>I want to rotate the pink area onclick and move to a new angle from the current position.</p>\n\n<p>We need to save the current position and on click we need to move from current position to new position.</p>\n\n<p>Any help would be appreciated. Thanks!</p>\n"}, {"tags": ["javascript", "css", "google-chrome", "firefox", "css-grid"], "comments": [{"owner": {"reputation": 261097, "user_id": 3597276, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6eea660ae3aeca2117a2d910ee9916bd?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Benjamin", "link": "https://stackoverflow.com/users/3597276/michael-benjamin"}, "edited": false, "score": 0, "creation_date": 1565312183, "post_id": 57403501, "comment_id": 101323670, "body": "Please post all code necessary to reproduce the problem in the question itself."}, {"owner": {"reputation": 41, "user_id": 11898827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8347116f559fc4c0f349d37cc6f171e?s=128&d=identicon&r=PG&f=1", "display_name": "noobmaster69", "link": "https://stackoverflow.com/users/11898827/noobmaster69"}, "reply_to_user": {"reputation": 261097, "user_id": 3597276, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6eea660ae3aeca2117a2d910ee9916bd?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Benjamin", "link": "https://stackoverflow.com/users/3597276/michael-benjamin"}, "edited": false, "score": 0, "creation_date": 1565408291, "post_id": 57403501, "comment_id": 101355298, "body": "Should I have pasted all the code that was already in the codepen I linked to? (I&#39;m new around here, so this is a serious question.)"}, {"owner": {"reputation": 261097, "user_id": 3597276, "user_type": "registered", "accept_rate": 87, "profile_image": "https://www.gravatar.com/avatar/6eea660ae3aeca2117a2d910ee9916bd?s=128&d=identicon&r=PG&f=1", "display_name": "Michael Benjamin", "link": "https://stackoverflow.com/users/3597276/michael-benjamin"}, "edited": false, "score": 0, "creation_date": 1565408979, "post_id": 57403501, "comment_id": 101355381, "body": "If codepen one day ceases to exist, your demo dies and your question here becomes useless. Yes, it&#39;s always important to include your code in the question itself to ensure the long-term viability of the post. (That said, codepen and jsfiddle demos are good additions to the question.)"}], "answers": [{"comments": [{"owner": {"reputation": 41, "user_id": 11898827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8347116f559fc4c0f349d37cc6f171e?s=128&d=identicon&r=PG&f=1", "display_name": "noobmaster69", "link": "https://stackoverflow.com/users/11898827/noobmaster69"}, "edited": false, "score": 0, "creation_date": 1565281663, "post_id": 57403886, "comment_id": 101313838, "body": "That worked. Is there a specification reason why <code>grid</code> wasn&#39;t working cross-browser? I couldn&#39;t find any reason why <code>grid</code> wouldn&#39;t work just the same on Chrome in my research."}, {"owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "reply_to_user": {"reputation": 41, "user_id": 11898827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8347116f559fc4c0f349d37cc6f171e?s=128&d=identicon&r=PG&f=1", "display_name": "noobmaster69", "link": "https://stackoverflow.com/users/11898827/noobmaster69"}, "edited": false, "score": 0, "creation_date": 1565386411, "post_id": 57403886, "comment_id": 101352188, "body": "I&#39;m not sure in this particular case sorry. I would really appreciate if you could click on accept my answer above though if it works?"}, {"owner": {"reputation": 41, "user_id": 11898827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8347116f559fc4c0f349d37cc6f171e?s=128&d=identicon&r=PG&f=1", "display_name": "noobmaster69", "link": "https://stackoverflow.com/users/11898827/noobmaster69"}, "edited": false, "score": 0, "creation_date": 1565408214, "post_id": 57403886, "comment_id": 101355291, "body": "I did. Message: &quot;Thanks for the feedback! Votes cast by those with less than 15 reputation are recorded, but do not change the publicly displayed post score.&quot;"}], "tags": [], "owner": {"reputation": 1395, "user_id": 756514, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/2MHda.jpg?s=128&g=1", "display_name": "Jon B", "link": "https://stackoverflow.com/users/756514/jon-b"}, "is_accepted": false, "score": 0, "last_activity_date": 1565225422, "creation_date": 1565225422, "answer_id": 57403886, "question_id": 57403501, "link": "https://stackoverflow.com/questions/57403501/css-grid-rendering-differently-in-firefox-and-chrome/57403886#57403886", "title": "css-grid rendering differently in Firefox and Chrome", "body": "<p>Simple update these two classes:</p>\n\n<p><code>.slick-list</code> to <code>display: flex</code> instead of <code>display: grid</code></p>\n\n<p><code>.slick-track</code> to <code>display: flex</code> instead of <code>display: block</code></p>\n"}], "owner": {"reputation": 41, "user_id": 11898827, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8347116f559fc4c0f349d37cc6f171e?s=128&d=identicon&r=PG&f=1", "display_name": "noobmaster69", "link": "https://stackoverflow.com/users/11898827/noobmaster69"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 141, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1565272967, "creation_date": 1565221474, "last_edit_date": 1565272967, "question_id": 57403501, "link": "https://stackoverflow.com/questions/57403501/css-grid-rendering-differently-in-firefox-and-chrome", "title": "css-grid rendering differently in Firefox and Chrome", "body": "<p>Heads up - I'm new here, and new to some of the css-grid stuff. Bear with me if this isn't a peak Stack Overflow question.</p>\n\n<p>I'm implementing the Slick jquery slider/carousel plugin into the website. However, I need the carousel slides to (a) all be the exact same height, and (b) be the same height as the slide with the tallest content. I'm getting two different responses on Firefox and Chrome when I try to modify the css to allow for this</p>\n\n<p>I have copied the plugin's css straight into the css of the files I'm working with (so it becomes just part of the native css) so I have better control over it.</p>\n\n<p>I've modified this new pasted css slightly from the original script <code>slick.css</code> file, but only by modifying one the <code>display: none;</code> to <code>display: grid;</code> on the <code>.slick-list</code> selector. This deals with the issue on Firefox, but not on Chrome.</p>\n\n<p>All code that I am using is located here. I have added one line of code <code>background-color: red;</code> to the <code>.slick-list</code> selector to illustrate the space that SHOULD be taken up by slides that are shorter than the tallest slide: <a href=\"https://codepen.io/kyleshepherddev/pen/eqMOxm\" rel=\"nofollow noreferrer\">https://codepen.io/kyleshepherddev/pen/eqMOxm</a></p>\n\n<p>I'm not sure what I'm expecting - the css I'm using may not be the right way to fix the problem. We have a client who used this plugin on their site, and I'm mucking around trying to figure out exactly how to fix it. The content of the slider shifts a bit from slide to slide, so the goal is to make ALL slides the SAME HEIGHT as the slide with the most content in it.</p>\n\n<p>Works like a charm in Firefox; doesn't work at all in Chrome.</p>\n"}, {"tags": ["javascript", "html", "reactjs"], "comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 3, "creation_date": 1565221368, "post_id": 57403462, "comment_id": 101288423, "body": "Why should react change the way you access query parameters? <a href=\"https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript\" title=\"how can i get query string values in javascript\">stackoverflow.com/questions/901115/&hellip;</a>"}], "answers": [{"comments": [{"owner": {"reputation": 804, "user_id": 5689995, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-dkQNVFt5pIA/AAAAAAAAAAI/AAAAAAAAD4g/DiQXgwL6g3c/photo.jpg?sz=128", "display_name": "laimison", "link": "https://stackoverflow.com/users/5689995/laimison"}, "edited": false, "score": 0, "creation_date": 1565279711, "post_id": 57404036, "comment_id": 101312871, "body": "Thanks @Olian04 and It&#39;sNotMe. To me it looks sensible. Will test it a bit later and mark the answer as answered if worked."}, {"owner": {"reputation": 804, "user_id": 5689995, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-dkQNVFt5pIA/AAAAAAAAAAI/AAAAAAAAD4g/DiQXgwL6g3c/photo.jpg?sz=128", "display_name": "laimison", "link": "https://stackoverflow.com/users/5689995/laimison"}, "edited": false, "score": 0, "creation_date": 1565297769, "post_id": 57404036, "comment_id": 101320359, "body": "Confirmed. Working perfectly!"}], "tags": [], "owner": {"reputation": 763, "user_id": 8943092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4cfd7048516b0c6524968e40a8101a?s=128&d=identicon&r=PG&f=1", "display_name": "It&#39;sNotMe", "link": "https://stackoverflow.com/users/8943092/itsnotme"}, "is_accepted": true, "score": 1, "last_activity_date": 1565227000, "creation_date": 1565227000, "answer_id": 57404036, "question_id": 57403462, "link": "https://stackoverflow.com/questions/57403462/adding-react-to-an-existing-page-and-getting-url-parameter-inside-js/57404036#57404036", "title": "Adding React to an existing page and getting URL parameter inside .js", "body": "<p>Just as you perform a <code>fetch</code> in <code>ComponentDidMount</code>, you can check query params in the same <a href=\"https://reactjs.org/docs/react-component.html#componentdidmount\" rel=\"nofollow noreferrer\">lifecycle event</a>. Building on the <a href=\"https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript\">link shared by @Olian04</a>, here's how that'd look:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>  componentDidMount() {\n    const urlParams = new URLSearchParams(window.location.search);\n\n    if (urlParams.has(\"param1\")) {\n      console.log(urlParams.get(\"param1\"));\n    } else {\n      console.log(\"param1 was not found\");\n    }\n\n    if (urlParams.has(\"param2\")) {\n      console.log(urlParams.get(\"param2\"));\n    } else {\n      console.log(\"param2 was not found\");\n    }\n  }\n</code></pre>\n\n"}], "owner": {"reputation": 804, "user_id": 5689995, "user_type": "registered", "accept_rate": 71, "profile_image": "https://lh3.googleusercontent.com/-dkQNVFt5pIA/AAAAAAAAAAI/AAAAAAAAD4g/DiQXgwL6g3c/photo.jpg?sz=128", "display_name": "laimison", "link": "https://stackoverflow.com/users/5689995/laimison"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 57404036, "answer_count": 1, "score": 0, "last_activity_date": 1565227000, "creation_date": 1565221199, "question_id": 57403462, "link": "https://stackoverflow.com/questions/57403462/adding-react-to-an-existing-page-and-getting-url-parameter-inside-js", "title": "Adding React to an existing page and getting URL parameter inside .js", "body": "<p>Based on official how to:</p>\n\n<p>Add React to Website at <a href=\"https://reactjs.org/docs/add-react-to-a-website.html\" rel=\"nofollow noreferrer\">https://reactjs.org/docs/add-react-to-a-website.html</a></p>\n\n<p>I created <code>test.html</code> with content:</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"UTF-8\" /&gt;\n    &lt;title&gt;Add React in One Minute&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n\n    &lt;h2&gt;Add React in One Minute&lt;/h2&gt;\n    &lt;p&gt;This page demonstrates using React with no build tooling.&lt;/p&gt;\n    &lt;p&gt;React is loaded as a script tag.&lt;/p&gt;\n\n    &lt;!-- We will put our React component inside this div. --&gt;\n    &lt;div id=\"like_button_container\"&gt;&lt;/div&gt;\n\n    &lt;!-- Load React. --&gt;\n    &lt;!-- Note: when deploying, replace \"development.js\" with \"production.min.js\". --&gt;\n    &lt;script src=\"https://unpkg.com/react@16/umd/react.development.js\" crossorigin&gt;&lt;/script&gt;\n    &lt;script src=\"https://unpkg.com/react-dom@16/umd/react-dom.development.js\" crossorigin&gt;&lt;/script&gt;\n\n    &lt;script src=\"https://unpkg.com/axios/dist/axios.min.js\"&gt;&lt;/script&gt;\n\n    &lt;!-- Load our React component. --&gt;\n    &lt;script src=\"test.js\"&gt;&lt;/script&gt;\n\n  &lt;/body&gt;\n&lt;/html&gt;\n\n</code></pre>\n\n<p>And <code>test.js</code>:</p>\n\n<pre><code>'use strict';\n\nconst e = React.createElement;\n\nclass LikeButton extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { liked: false };\n  }\n\n  componentDidMount() {\n    axios.get(`http://localhost:4000/api/v1/cars`)\n      .then(result =&gt; {\n        console.log(result.data[0].make);\n      })\n  }\n\n  render() {\n    if (this.state.liked) {\n      return 'You liked this.';\n    }\n\n    return e(\n      'button',\n      { onClick: () =&gt; this.setState({ liked: true }) },\n      'Like'\n    );\n  }\n}\n\nconst domContainer = document.querySelector('#like_button_container');\nReactDOM.render(e(LikeButton), domContainer);\n\n</code></pre>\n\n<p>The code above is working well.</p>\n\n<p>I'm able to press Like button and see the change, also able to use libraries such as Axios.</p>\n\n<p>Now I want to open <a href=\"http://localhost/test.html?param1=111&amp;param2=222\" rel=\"nofollow noreferrer\">http://localhost/test.html?param1=111&amp;param2=222</a> and get these <code>param1</code> and <code>param2</code> variables inside <code>test.js</code> - React. Is that possible? How to achieve this?</p>\n\n<p>Many thanks</p>\n"}, {"tags": ["javascript", "reactjs", "leaflet", "react-leaflet"], "answers": [{"comments": [{"owner": {"reputation": 153, "user_id": 1311020, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/aJDkc.jpg?s=128&g=1", "display_name": "bhagwans", "link": "https://stackoverflow.com/users/1311020/bhagwans"}, "edited": false, "score": 0, "creation_date": 1565273279, "post_id": 57408286, "comment_id": 101309136, "body": "Thanks @kboul! This works. Is there documentation pertaining to this? I&#39;d like to understand some aspects of this a little more and have some other stuff I need to change from imperative to declarative in React for leaflet."}, {"owner": {"reputation": 9327, "user_id": 4929531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCqJG.jpg?s=128&g=1", "display_name": "kboul", "link": "https://stackoverflow.com/users/4929531/kboul"}, "reply_to_user": {"reputation": 153, "user_id": 1311020, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/aJDkc.jpg?s=128&g=1", "display_name": "bhagwans", "link": "https://stackoverflow.com/users/1311020/bhagwans"}, "edited": false, "score": 2, "creation_date": 1565336119, "post_id": 57408286, "comment_id": 101329180, "body": "Only <a href=\"https://react-leaflet.js.org/docs/en/custom-components.html\" rel=\"nofollow noreferrer\">here</a> but there in not much info, nevertheless a start."}, {"owner": {"reputation": 153, "user_id": 1311020, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/aJDkc.jpg?s=128&g=1", "display_name": "bhagwans", "link": "https://stackoverflow.com/users/1311020/bhagwans"}, "edited": false, "score": 0, "creation_date": 1565896950, "post_id": 57408286, "comment_id": 101498194, "body": "Would you have any pointers on how to test that a child component is being rendered on the map? I&#39;m using Enzyme and Jest."}, {"owner": {"reputation": 77, "user_id": 6662488, "user_type": "registered", "accept_rate": 50, "profile_image": "https://graph.facebook.com/519236311618870/picture?type=large", "display_name": "Kirill Pakhomov", "link": "https://stackoverflow.com/users/6662488/kirill-pakhomov"}, "edited": false, "score": 0, "creation_date": 1608125723, "post_id": 57408286, "comment_id": 115486576, "body": "TS says there&#39;s no call signature on L.control Did something change?"}, {"owner": {"reputation": 9327, "user_id": 4929531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCqJG.jpg?s=128&g=1", "display_name": "kboul", "link": "https://stackoverflow.com/users/4929531/kboul"}, "edited": false, "score": 0, "creation_date": 1608125996, "post_id": 57408286, "comment_id": 115486702, "body": "Not sure. Haven&#39;t tested it with typescript."}], "tags": [], "owner": {"reputation": 9327, "user_id": 4929531, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/QCqJG.jpg?s=128&g=1", "display_name": "kboul", "link": "https://stackoverflow.com/users/4929531/kboul"}, "is_accepted": true, "score": 7, "last_activity_date": 1565252836, "creation_date": 1565252836, "answer_id": 57408286, "question_id": 57403442, "link": "https://stackoverflow.com/questions/57403442/how-to-add-a-legend-to-the-map-using-react-leaflet-without-using-refs-and-manua/57408286#57408286", "title": "How to add a legend to the map using react leaflet, without using refs and manually modifying the DOM?", "body": "<p>You can achieve that by extending <code>react-leaflet</code>'s <code>MapControl</code> class and using for instance the legend code provided by Leaflet official page tutorial for <a href=\"https://leafletjs.com/examples/geojson/\" rel=\"noreferrer\">Using GeoJSON with Leaflet</a>.</p>\n\n<pre><code>class Legend extends MapControl {\n   componentDidMount() {\n      // place your code here\n\n      ...\n      const legend = L.control({ position: \"bottomright\" });\n\n      ...\n      const { map } = this.props.leaflet;\n      legend.addTo(map);\n   }\n}\n</code></pre>\n\n<p>and then import it here:</p>\n\n<pre><code> &lt;Map style={{ height: \"100vh\" }} center={position} zoom={13}&gt;\n        &lt;TileLayer\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n          attribution='&amp;copy; &lt;a href=\"http://osm.org/copyright\"&gt;OpenStreetMap&lt;/a&gt; contributors'\n        /&gt;\n        &lt;Legend /&gt;\n &lt;/Map&gt;\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/how-to-add-a-legend-to-the-map-using-react-leaflet-6yqs5\" rel=\"noreferrer\">Demo</a></p>\n"}], "owner": {"reputation": 153, "user_id": 1311020, "user_type": "registered", "accept_rate": 17, "profile_image": "https://i.stack.imgur.com/aJDkc.jpg?s=128&g=1", "display_name": "bhagwans", "link": "https://stackoverflow.com/users/1311020/bhagwans"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2426, "favorite_count": 0, "accepted_answer_id": 57408286, "answer_count": 1, "score": 1, "last_activity_date": 1565252836, "creation_date": 1565220996, "question_id": 57403442, "link": "https://stackoverflow.com/questions/57403442/how-to-add-a-legend-to-the-map-using-react-leaflet-without-using-refs-and-manua", "title": "How to add a legend to the map using react leaflet, without using refs and manually modifying the DOM?", "body": "<p>I'm using react-leaflet and want to add a legend to the map.</p>\n\n<p>I can currently do it by passing a ref of the map to a custom component and render null while having a function create the HTML and add it to the map. The refs are being a nightmare to test using Jest and Enzyme.</p>\n\n<p>Is there a way to using a react-leaflet component to accomplish this?</p>\n"}, {"tags": ["javascript", "html", "css", "twitter-bootstrap", "local-storage"], "comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1565221059, "post_id": 57403388, "comment_id": 101288362, "body": "according to the docs you reference, <code>stateful</code> should be an integer not a boolean. And you need to specify <code>data-inner-id</code>. Did you read the docs you reference?"}, {"owner": {"reputation": 1, "user_id": 11898849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee5c7063e48d90f16be54bf664566479?s=128&d=identicon&r=PG&f=1", "display_name": "Glez", "link": "https://stackoverflow.com/users/11898849/glez"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1565261661, "post_id": 57403388, "comment_id": 101301993, "body": "Yes, I did read the docs and did specify the <code>data-inner-id</code> attributes in the divs as you can see in my code above. In the docs there is example code for the stateful function but only for a single panel and not positions. It uses the boolean <code>true</code> for the stateful function and is working fine, so this should not be the issue."}, {"owner": {"reputation": 1, "user_id": 11898849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee5c7063e48d90f16be54bf664566479?s=128&d=identicon&r=PG&f=1", "display_name": "Glez", "link": "https://stackoverflow.com/users/11898849/glez"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1565262307, "post_id": 57403388, "comment_id": 101302317, "body": "I added the example code from the docs in my main post. But it unfortunately does not show how to address the CSS properly when saving panel positions."}], "owner": {"reputation": 1, "user_id": 11898849, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ee5c7063e48d90f16be54bf664566479?s=128&d=identicon&r=PG&f=1", "display_name": "Glez", "link": "https://stackoverflow.com/users/11898849/glez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 222, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565262140, "creation_date": 1565220489, "last_edit_date": 1565262140, "question_id": 57403388, "link": "https://stackoverflow.com/questions/57403388/lobipanel-does-not-load-bootstrap-panel-positions-from-localstorage", "title": "LobiPanel does not load Bootstrap panel positions from localStorage", "body": "<p>Does anybody know how saving panel positions (in localStorage) works with LobiPanel's stateful option in Bootstrap?</p>\n\n<p>The <a href=\"http://lobianijs.com/site/lobipanel\" rel=\"nofollow noreferrer\">documentation</a> says one must use the stateful option in order to save the position among it's siblings and it will apply them when you reload the browser. </p>\n\n<p>Unfortunately when I do a reload on my site, the panel positions are always back to it's initial state. </p>\n\n<p>It doesn't work, even though LobiPanel successfully adds parent keys and values to the Local Storage, e.g.:</p>\n\n<pre><code>lobipanel_parent_BKlPfuXKuW:\"{\"panel-2\":0,\"panel-3\":1,\"panel-1\":2}\"\nlobipanel_parent_KyCQKms0ir:\"{\"panel-1\":0,\"panel-2\":1,\"panel-3\":2}\"\nlobipanel_parent_lDSURxUHh2:\"{\"LwmEvZSUiF\":0,\"vpT9FMcurP\":1,\"awfVUjhLzE\":2}\"\nlobipanel_parent_lk5lsV9Y3k:\"{\"panel-6\":0,\"panel-5\":1,\"panel-4\":2}\"\n</code></pre>\n\n<p>So the positions are actually saved to Local Storage but are somehow not applied when reloading.</p>\n\n<p>This is how my HTML code (Bootstrap v3.3.5) looks like:</p>\n\n<pre><code>&lt;div id=\"lobipanel-multiple lobipanel\"&gt;\n    &lt;h3&gt;Multiple panels with drag &amp; drop&lt;/h3&gt;\n    &lt;p&gt;Drag panels by clicking on the headers&lt;/p&gt;\n    &lt;div class=\"bs-example\"&gt;\n        &lt;div class=\"row\"&gt;\n            &lt;div class=\"col-md-6 panel\"&gt;\n                &lt;div class=\"panel panel-default\" data-index=\"0\" data-inner-id=\"panel-1\"&gt;\n                    &lt;div class=\"panel-heading\"&gt;\n                        &lt;div class=\"panel-title\"&gt;\n                            &lt;h4&gt;Panel title 1&lt;/h4&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"panel-body\"&gt;\n                    Panel body 1\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"panel panel-warning\" data-index=\"1\" data-inner-id=\"panel-2\"&gt;\n                    &lt;div class=\"panel-heading\"&gt;\n                        &lt;div class=\"panel-title\"&gt;\n                            &lt;h4&gt;Panel title 2&lt;/h4&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"panel-body\"&gt;\n                    Panel body 2\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"panel panel-danger\" data-index=\"2\" data-inner-id=\"panel-3\"&gt;\n                    &lt;div class=\"panel-heading\"&gt;\n                        &lt;div class=\"panel-title\"&gt;\n                            &lt;h4&gt;Panel title 3&lt;/h4&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"panel-body\"&gt;\n                    Panel body 3\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"col-md-6 panel\"&gt;\n                &lt;div class=\"panel panel-success\" data-index=\"3\" data-inner-id=\"panel-4\"&gt;\n                    &lt;div class=\"panel-heading\"&gt;\n                        &lt;div class=\"panel-title\"&gt;\n                            &lt;h4&gt;Panel title 4&lt;/h4&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"panel-body\"&gt;\n                    Panel body 4\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=\"panel panel-info\" data-index=\"4\" data-inner-id=\"panel-5\"&gt;\n                    &lt;div class=\"panel-heading\"&gt;\n                        &lt;div class=\"panel-title\"&gt;\n                            &lt;h4&gt;Panel title 5&lt;/h4&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"panel-body\"&gt;\n                    Panel body 5\n                    &lt;/div&gt;\n                &lt;/div&gt;\n               &lt;div class=\"panel panel-danger\" data-index=\"5\" data-inner-id=\"panel-6\"&gt;\n                    &lt;div class=\"panel-heading\"&gt;\n                        &lt;div class=\"panel-title\"&gt;\n                            &lt;h4&gt;Panel title 6&lt;/h4&gt;\n                        &lt;/div&gt;\n                    &lt;/div&gt;\n                    &lt;div class=\"panel-body\"&gt;\n                    Panel body 6\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;script&gt;\n    $(function(){\n        $('.panel').lobiPanel({\n            sortable: true,\n            stateful: true\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>In the documentation there is example code for the stateful function but only for a single panel and not positions. So I still don't know how to address the CSS properly.</p>\n\n<pre><code>&lt;!-- Stateful --&gt;\n&lt;div&gt;\n    &lt;h3&gt;Stateful. &lt;small&gt;Saves its state in localStorage&lt;/small&gt;&lt;/h3&gt;\n    &lt;div class=\"bs-example\"&gt;\n        &lt;div id=\"lobipanel-stateful\" class=\"panel panel-default\" data-inner-id=\"lobipanel-stateful\"&gt;\n            &lt;div class=\"panel-heading\"&gt;\n                &lt;div class=\"panel-title\"&gt;\n                    Panel title\n                &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div class=\"panel-body\"&gt;\n                Panel body\n            &lt;/div&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;script&gt;\n    $(function(){\n        $('#lobipanel-stateful').lobiPanel({\n            stateful: true\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "express"], "comments": [{"owner": {"reputation": 2337, "user_id": 11769253, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iLLz21kSgKQ/AAAAAAAAAAI/AAAAAAAAAEI/aVqtKan34pQ/photo.jpg?sz=128", "display_name": "Tien Duong", "link": "https://stackoverflow.com/users/11769253/tien-duong"}, "edited": false, "score": 0, "creation_date": 1565220680, "post_id": 57403385, "comment_id": 101288286, "body": "You just need to pass whole <code>if</code> inside <code>then</code>"}, {"owner": {"reputation": 3552, "user_id": 5862900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5MA2G.jpg?s=128&g=1", "display_name": "goto1", "link": "https://stackoverflow.com/users/5862900/goto1"}, "edited": false, "score": 0, "creation_date": 1565221124, "post_id": 57403385, "comment_id": 101288376, "body": "What version of <code>Node.js</code> are you using?"}, {"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1565223538, "post_id": 57403385, "comment_id": 101288876, "body": "You are using a very weird library/framework that is important to your problem that you are not tagging here. I have no idea how to fix this because in regular Express.js there is no issue to render after a promise because express callbacks aren&#39;t generators. What is <code>_</code>? underscore.js or some other library/framework?"}, {"owner": {"reputation": 303, "user_id": 10825834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pPRk.jpg?s=128&g=1", "display_name": "A.Burdonskaya", "link": "https://stackoverflow.com/users/10825834/a-burdonskaya"}, "reply_to_user": {"reputation": 2337, "user_id": 11769253, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-iLLz21kSgKQ/AAAAAAAAAAI/AAAAAAAAAEI/aVqtKan34pQ/photo.jpg?sz=128", "display_name": "Tien Duong", "link": "https://stackoverflow.com/users/11769253/tien-duong"}, "edited": false, "score": 0, "creation_date": 1565269657, "post_id": 57403385, "comment_id": 101306708, "body": "@TienDuong so i have an error:  <code>yield is a reserved word</code>"}, {"owner": {"reputation": 303, "user_id": 10825834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pPRk.jpg?s=128&g=1", "display_name": "A.Burdonskaya", "link": "https://stackoverflow.com/users/10825834/a-burdonskaya"}, "reply_to_user": {"reputation": 3552, "user_id": 5862900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5MA2G.jpg?s=128&g=1", "display_name": "goto1", "link": "https://stackoverflow.com/users/5862900/goto1"}, "edited": false, "score": 0, "creation_date": 1565269721, "post_id": 57403385, "comment_id": 101306749, "body": "@goto1 <code>Node.js 4.2.4</code>"}, {"owner": {"reputation": 303, "user_id": 10825834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pPRk.jpg?s=128&g=1", "display_name": "A.Burdonskaya", "link": "https://stackoverflow.com/users/10825834/a-burdonskaya"}, "reply_to_user": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1565269791, "post_id": 57403385, "comment_id": 101306807, "body": "@slebetman <code>_</code> is <code>koa-route</code>"}, {"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1565272138, "post_id": 57403385, "comment_id": 101308420, "body": "You&#39;re getting syntax error on <code>yield</code>? Wow, your using node version 0. That&#39;s really old and was the beta version. Update to at least node 4 (the first release version of node). I strongly suggest you use node 10 at minimum or it will be very hard to use solutions on stackoverflow (arrow functions, Promises etc.)"}, {"owner": {"reputation": 303, "user_id": 10825834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pPRk.jpg?s=128&g=1", "display_name": "A.Burdonskaya", "link": "https://stackoverflow.com/users/10825834/a-burdonskaya"}, "reply_to_user": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1565273421, "post_id": 57403385, "comment_id": 101309214, "body": "@slebetman I updated to <code>Node.js 10.2.1</code> as you said, but still get this error <code>yield is reserved word</code> when i  pass whole <code>if</code> inside <code>then</code>"}, {"owner": {"reputation": 3552, "user_id": 5862900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5MA2G.jpg?s=128&g=1", "display_name": "goto1", "link": "https://stackoverflow.com/users/5862900/goto1"}, "edited": false, "score": 0, "creation_date": 1565280719, "post_id": 57403385, "comment_id": 101313384, "body": "@A.Burdonskaya it looks like your mixing your <code>Express</code> code with <code>React</code> code? And why are you using <code>koa-route</code> if you&#39;re using <code>Express</code>?"}], "answers": [{"comments": [{"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1565223398, "post_id": 57403625, "comment_id": 101288850, "body": "I&#39;m not sure if a function can be both async and a generator (<code>function*</code>) - I don&#39;t believe <code>async function*</code> is valid syntax"}, {"owner": {"reputation": 3179, "user_id": 3161811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/66vhu.jpg?s=128&g=1", "display_name": "Shmili Breuer", "link": "https://stackoverflow.com/users/3161811/shmili-breuer"}, "reply_to_user": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1565223503, "post_id": 57403625, "comment_id": 101288870, "body": "Why do you need a generator function?"}, {"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1565223614, "post_id": 57403625, "comment_id": 101288890, "body": "I don&#39;t need a generator function but the OP is using a generator function. You are not reading the question carefully enough"}, {"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1565223683, "post_id": 57403625, "comment_id": 101288903, "body": "And the OP is mixing generators and promises <code>yield new Promise...</code> - I have no idea how that would work"}, {"owner": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1565223852, "post_id": 57403625, "comment_id": 101288933, "body": "I now think the OP is using an old library/framework to emulate async/await using generators via a design pattern called trampolines. There are several trampoline libraries on npm. Trampolines allow you to use the <code>yield</code> keyword to emulate <code>await</code>. People used to do this before <code>async&#47;await</code> was even suggested but it wasn&#39;t a very popular approach because a lot of people simply ignored generators"}, {"owner": {"reputation": 3179, "user_id": 3161811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/66vhu.jpg?s=128&g=1", "display_name": "Shmili Breuer", "link": "https://stackoverflow.com/users/3161811/shmili-breuer"}, "reply_to_user": {"reputation": 92307, "user_id": 167735, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5deb8de031f80c23f19e9b6d389e5afe?s=128&d=identicon&r=PG", "display_name": "slebetman", "link": "https://stackoverflow.com/users/167735/slebetman"}, "edited": false, "score": 0, "creation_date": 1565225004, "post_id": 57403625, "comment_id": 101289143, "body": "I&#39;m not entirely sure what you are trying to accomplish with the generator function so I maybe wrong but I think you could change the generator function and yield into an async await function to ge the desired behaviour"}, {"owner": {"reputation": 3552, "user_id": 5862900, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/5MA2G.jpg?s=128&g=1", "display_name": "goto1", "link": "https://stackoverflow.com/users/5862900/goto1"}, "edited": false, "score": 0, "creation_date": 1565270667, "post_id": 57403625, "comment_id": 101307416, "body": "Looks like OP is using <code>Node.js 4</code>, so <code>async&#47;await</code> is not going to work in this case"}], "tags": [], "owner": {"reputation": 3179, "user_id": 3161811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/66vhu.jpg?s=128&g=1", "display_name": "Shmili Breuer", "link": "https://stackoverflow.com/users/3161811/shmili-breuer"}, "is_accepted": false, "score": 0, "last_activity_date": 1565222714, "creation_date": 1565222714, "answer_id": 57403625, "question_id": 57403385, "link": "https://stackoverflow.com/questions/57403385/node-js-render-after-receiving-promise/57403625#57403625", "title": "Node.js - render after receiving Promise", "body": "<p>You can use async await for that.</p>\n\n<p>It works like this</p>\n\n<p>You put the word async before your function</p>\n\n<pre><code>async function() {\n    let response = await new Promise((resolve, reject) =&gt; {\n        if(error) return Promise.reject(...)\n        return Promise.resolve(...)\n    } ) \n\n     //here response will be equal to whatever is returned from the promise \n\n\n}\n</code></pre>\n\n<p>Hope this helps</p>\n"}], "owner": {"reputation": 303, "user_id": 10825834, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8pPRk.jpg?s=128&g=1", "display_name": "A.Burdonskaya", "link": "https://stackoverflow.com/users/10825834/a-burdonskaya"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 83, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565222714, "creation_date": 1565220473, "question_id": 57403385, "link": "https://stackoverflow.com/questions/57403385/node-js-render-after-receiving-promise", "title": "Node.js - render after receiving Promise", "body": "<p>I have the following code:</p>\n\n<pre><code>app.use(_.get('*', function *() {\n    const store = applyMiddleware(thunkMiddleware)(createStore)(combineReducers(reducers));\n    const props = yield new Promise((resolve, reject) =&gt; match({routes, location: this.req.url}, (err, redirect, props) =&gt; {\n        if (err) {\n            console.error(`Router error ${err}`);\n            reject(this.throw(500));\n        } else if (redirect) {\n            this.redirect(redirect);\n        } else if (props) {\n            resolve(props);\n        } else {\n            reject(this.throw(404));\n        }\n    }));\n    try {\n        yield trigger('fetch', props.components, {\n            dispatch: store.dispatch,\n            ...props\n        });\n    }catch(e) {\n        return;\n    }\n\n    const isAmp = this.req.url.match('amp=1');\n    rp(reqUrl)\n    .then(function (response) {\n        let repy = JSON.parse(response)\n        isOnline = repy.type\n    })\n    .catch(function (err) {\n        console.log('Error when request')\n      });\nif (isAmp){\n    yield this.render('amp', {\n        body: renderToString(\n            &lt;Provider store={store}&gt;\n                &lt;RouterContext {...props}/&gt;\n            &lt;/Provider&gt;\n        )\n    });\n}  else  {\n    yield this.render('turbo.xml', {\n        body: renderToString(\n            &lt;Provider store={store}&gt;\n                &lt;RouterContext {...props}/&gt;\n            &lt;/Provider&gt;\n        )\n    });\n}}\n));\n</code></pre>\n\n<p>Tell me, please, how can I render only after receiving a promise from this part of the code</p>\n\n<pre><code>.then(function (response) {\n        let repy = JSON.parse(response)\n        if (repy.type === \"online'){\n         render\n         }\n    })\n</code></pre>\n\n<p>I tried to paste the check in <code>if</code>, but the function does not wait for the promise. I read several posts about promises, but understanding did not come to me...</p>\n\n<p>I will be very grateful for any of your advice.</p>\n"}, {"tags": ["javascript", "jquery", "drop-down-menu"], "comments": [{"owner": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "edited": false, "score": 1, "creation_date": 1565224065, "post_id": 57403358, "comment_id": 101288977, "body": "Have you tried chaining <code>.then()</code> to your API call? Could you demonstrate with at least some minimal code how you&#39;re handling the api call?"}, {"owner": {"reputation": 123, "user_id": 1205608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5027740a3e13376608efd9ced9b704e6?s=128&d=identicon&r=PG", "display_name": "wckronholm", "link": "https://stackoverflow.com/users/1205608/wckronholm"}, "reply_to_user": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "edited": false, "score": 0, "creation_date": 1565225287, "post_id": 57403358, "comment_id": 101289187, "body": "If I do that, am I committed to doing the <code>.then()</code> every time the client changes the options? Because I think I don&#39;t want to do that.  My second block of code is supposed to initialize the menus on page load. Once the client makes their own changes to the menus, the API calls should still work and muck with the option values as planned."}, {"owner": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "edited": false, "score": 0, "creation_date": 1565225383, "post_id": 57403358, "comment_id": 101289206, "body": "Technically yes. If you&#39;re awaiting for Promise to resolve then absolutely you&#39;ll want to await the response. Isn&#39;t that your question?"}, {"owner": {"reputation": 123, "user_id": 1205608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5027740a3e13376608efd9ced9b704e6?s=128&d=identicon&r=PG", "display_name": "wckronholm", "link": "https://stackoverflow.com/users/1205608/wckronholm"}, "reply_to_user": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "edited": false, "score": 0, "creation_date": 1565226080, "post_id": 57403358, "comment_id": 101289338, "body": "I want the wait to happen the one time that <code>$(&quot;.aselect&quot;).val(&#39;firstvalue&#39;).change();</code> is called, and at no other times."}, {"owner": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "edited": false, "score": 0, "creation_date": 1565226296, "post_id": 57403358, "comment_id": 101289383, "body": "Then you&#39;ll want to bind one-time logic inside your chained <code>.then</code> callback including binding your change event."}, {"owner": {"reputation": 123, "user_id": 1205608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5027740a3e13376608efd9ced9b704e6?s=128&d=identicon&r=PG", "display_name": "wckronholm", "link": "https://stackoverflow.com/users/1205608/wckronholm"}, "reply_to_user": {"reputation": 2404, "user_id": 2150268, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NZepS.jpg?s=128&g=1", "display_name": "Cue", "link": "https://stackoverflow.com/users/2150268/cue"}, "edited": false, "score": 0, "creation_date": 1565229981, "post_id": 57403358, "comment_id": 101289987, "body": "OK. So let&#39;s say that&#39;s what I wanted to do. What does it look like?"}, {"owner": {"reputation": 511, "user_id": 4766775, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2ed7e0f20e4ee436118801bd4decb5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JimmyN", "link": "https://stackoverflow.com/users/4766775/jimmyn"}, "edited": false, "score": 0, "creation_date": 1565234538, "post_id": 57403358, "comment_id": 101290795, "body": "@wckronholm: you can call API with async: false, but maybe it can lock your process."}, {"owner": {"reputation": 123, "user_id": 1205608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5027740a3e13376608efd9ced9b704e6?s=128&d=identicon&r=PG", "display_name": "wckronholm", "link": "https://stackoverflow.com/users/1205608/wckronholm"}, "reply_to_user": {"reputation": 511, "user_id": 4766775, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2ed7e0f20e4ee436118801bd4decb5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JimmyN", "link": "https://stackoverflow.com/users/4766775/jimmyn"}, "edited": false, "score": 0, "creation_date": 1565238330, "post_id": 57403358, "comment_id": 101291470, "body": "@jimmy I&#39;m using <code>$.getJSON</code> now. Am I right that I would need to change it to <code>$.ajax</code> to be able to try <code>async: false</code>?"}, {"owner": {"reputation": 511, "user_id": 4766775, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/2ed7e0f20e4ee436118801bd4decb5b5?s=128&d=identicon&r=PG&f=1", "display_name": "JimmyN", "link": "https://stackoverflow.com/users/4766775/jimmyn"}, "edited": false, "score": 0, "creation_date": 1565245129, "post_id": 57403358, "comment_id": 101293428, "body": "@wckronholm: right"}], "answers": [{"tags": [], "owner": {"reputation": 123, "user_id": 1205608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5027740a3e13376608efd9ced9b704e6?s=128&d=identicon&r=PG", "display_name": "wckronholm", "link": "https://stackoverflow.com/users/1205608/wckronholm"}, "is_accepted": true, "score": 0, "last_activity_date": 1565300699, "creation_date": 1565300699, "answer_id": 57421013, "question_id": 57403358, "link": "https://stackoverflow.com/questions/57403358/make-a-change-on-a-dropdown-wait-for-triggered-event-then-make-more-changes/57421013#57421013", "title": "Make a change on a dropdown, wait for triggered event, then make more changes", "body": "<p>I refactored my code.</p>\n\n<p>The API call is now a standalone function with a <code>return $.ajax()</code> at the end. Now when I use it, I can either <code>.done()</code> or not, depending on what I need.</p>\n"}], "owner": {"reputation": 123, "user_id": 1205608, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5027740a3e13376608efd9ced9b704e6?s=128&d=identicon&r=PG", "display_name": "wckronholm", "link": "https://stackoverflow.com/users/1205608/wckronholm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 39, "favorite_count": 0, "accepted_answer_id": 57421013, "answer_count": 1, "score": 0, "last_activity_date": 1565300699, "creation_date": 1565220251, "question_id": 57403358, "link": "https://stackoverflow.com/questions/57403358/make-a-change-on-a-dropdown-wait-for-triggered-event-then-make-more-changes", "title": "Make a change on a dropdown, wait for triggered event, then make more changes", "body": "<p>I have two <code>select</code> drop-down menus, <code>.aselect</code> and <code>.bselect</code>. I have a <code>change</code> event on <code>.aselect</code> to make an API call and update the options on <code>.bselect</code> and that works.</p>\n\n<pre><code>// works as expected\n$(document).ready(function(){\n    $('.aselect').change(function(){\n        // make API call\n        // update .bselect options appropriately\n    });\n});\n</code></pre>\n\n<p>That piece works as expected.</p>\n\n<p>However, when I try to use jQuery to select an option in <code>.aselect</code> and then also select an expected option in the resulting <code>.bselect</code>, it seems like the API request doesn't complete before the attempt to select the option in <code>.bselect</code> and so it isn't there and nothing is selected.</p>\n\n<pre><code>    $(function() {\n        $(\".aselect\").val('firstvalue').change();\n        $(\".bselect\").val('secondvalue').change();\n    });\n</code></pre>\n\n<p>The option <code>firstvalue</code> in <code>.aselect</code> is selected, the API call does complete correctly, and <code>.bselect</code> is populated with the expected options (including <code>'secondvalue'</code>). But the <code>secondvalue</code> option is <strong>not</strong> selected.</p>\n\n<p>I've tried a number of permutations of <code>.done</code> and <code>.promise</code> things, but can't get one that produces the desired results.</p>\n\n<p>How do I wait for the API call to finish processing after changing the option for <code>.aselect</code> before trying to change the option for <code>.bselect</code>?</p>\n"}, {"tags": ["javascript", "jquery", "html"], "comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1565220056, "post_id": 57403296, "comment_id": 101288161, "body": "you don&#39;t need jquery for any of this. Note that <code>jquery</code> is NOT synonymous with <code>javascript</code>. Javascript is the language, jquery is a library (which you don&#39;t need for most of the time now days)."}, {"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1565220122, "post_id": 57403296, "comment_id": 101288179, "body": "You might want to take a quick basics course in javascript. Here is one where you <a href=\"https://www.freecodecamp.org/news/how-to-build-an-html-calculator-app-from-scratch-using-javascript-4454b8714b98/\" rel=\"nofollow noreferrer\">build a calculator :)</a>. Here&#39;s a <a href=\"http://javascript.info/\" rel=\"nofollow noreferrer\">great resource for basic javascript</a>, you should probably start with this one."}, {"owner": {"reputation": 25361, "user_id": 924299, "user_type": "registered", "accept_rate": 57, "profile_image": "https://www.gravatar.com/avatar/a142d1ec6b8444c9baf3ec6176e1cf61?s=128&d=identicon&r=PG&f=1", "display_name": "showdev", "link": "https://stackoverflow.com/users/924299/showdev"}, "edited": false, "score": 2, "creation_date": 1565220342, "post_id": 57403296, "comment_id": 101288222, "body": "Your second attempt <a href=\"https://jsfiddle.net/otdxswm0/\" rel=\"nofollow noreferrer\">seems to work</a>, except for one line that causes errors: <code>var total = $this.closest(&#39;div&#39;).find(&#39;div&#39;);</code>."}, {"owner": {"reputation": 10128, "user_id": 2438423, "user_type": "registered", "accept_rate": 79, "profile_image": "https://i.stack.imgur.com/DvKY9.png?s=128&g=1", "display_name": "StackSlave", "link": "https://stackoverflow.com/users/2438423/stackslave"}, "edited": false, "score": 0, "creation_date": 1565220485, "post_id": 57403296, "comment_id": 101288249, "body": "You redeclare <code>let total</code> with <code>var total =</code>. The error even shows up in your console."}], "answers": [{"tags": [], "owner": {"reputation": 8603, "user_id": 3289660, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cGFex.jpg?s=128&g=1", "display_name": "Nidhin Joseph", "link": "https://stackoverflow.com/users/3289660/nidhin-joseph"}, "is_accepted": false, "score": 1, "last_activity_date": 1565223920, "creation_date": 1565223920, "answer_id": 57403752, "question_id": 57403296, "link": "https://stackoverflow.com/questions/57403296/get-total-price-added-up-with-jquery/57403752#57403752", "title": "Get total price added up with jquery", "body": "<p>Here you go!</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.minus-btn').on('click', function(e) {\r\n  e.preventDefault();\r\n  var $parent = $(this).closest('.item');\r\n  var $input = $parent.find('input');\r\n  var $total = $parent.find('.total-price span');\r\n  var value = parseInt($input.val());\r\n\r\n  if (value &gt;= 1) {\r\n    value = value - 1;\r\n  } else {\r\n    value = 0;\r\n  }\r\n\r\n  $input.val(value);\r\n  $total.html(value);\r\n  calcTotal();\r\n});\r\n\r\n$('.plus-btn').on('click', function(e) {\r\n  e.preventDefault();\r\n  var $parent = $(this).closest('.item');\r\n  var $input = $parent.find('input');\r\n  var $total = $parent.find('.total-price span');\r\n  var value = parseInt($input.val());\r\n\r\n  if (value &lt; 100) {\r\n    value = value + 1;\r\n  } else {\r\n    value = 100;\r\n  }\r\n\r\n  $input.val(value);\r\n  $total.html(value);\r\n  calcTotal();\r\n});\r\n\r\nfunction calcTotal() {\r\n  let total = 0;\r\n  $(\".total-price span\").each(function() {\r\n    total += parseInt($(this).html());\r\n  });\r\n  $('#total').html('$' + total);\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#total {\r\n  color: red;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://code.jquery.com/jquery-3.4.1.min.js\" integrity=\"sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\r\n\r\n&lt;!-- Product #6 --&gt;\r\n&lt;div class=\"item\"&gt;\r\n  &lt;div class=\"buttons\"&gt;\r\n    &lt;span class=\"delete-btn\"&gt;&lt;/span&gt;\r\n    &lt;span class=\"like-btn\"&gt;&lt;/span&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"image\"&gt;\r\n    &lt;img src=\"intem-6.jpg\" alt=\"\" /&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"description\"&gt;\r\n    &lt;span&gt;DLT-19 Heavy Blaster Rifle&lt;/span&gt;\r\n    &lt;span&gt;Brown&lt;/span&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"quantity\"&gt;\r\n    &lt;button class=\"plus-btn\" type=\"button\" name=\"button\"&gt;\r\n            &lt;img src=\"plus-btn.png\" alt=\"\" /&gt; +\r\n          &lt;/button&gt;\r\n    &lt;input type=\"text\" name=\"name\" value=\"1\"&gt;\r\n    &lt;button class=\"minus-btn\" type=\"button\" name=\"button\"&gt;\r\n            &lt;img src=\"minus-btn.png\" alt=\"\" /&gt; -\r\n          &lt;/button&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div id=\"multiple5\" class=\"total-price\"&gt;$&lt;span&gt;1&lt;/span&gt;&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;!-- Product #7 --&gt;\r\n&lt;div class=\"item\"&gt;\r\n  &lt;div class=\"buttons\"&gt;\r\n    &lt;span class=\"delete-btn\"&gt;&lt;/span&gt;\r\n    &lt;span class=\"like-btn\"&gt;&lt;/span&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"image\"&gt;\r\n    &lt;img src=\"item-7.jpg\" alt=\"\"&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"description\"&gt;\r\n    &lt;span&gt;DL-44 Heavy Blaster Pistol&lt;/span&gt;\r\n    &lt;span&gt;Brown&lt;/span&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"quantity\"&gt;\r\n    &lt;button class=\"plus-btn\" type=\"button\" name=\"button\"&gt;\r\n            &lt;img src=\"plus-btn.png\" alt=\"\" /&gt; + \r\n          &lt;/button&gt;\r\n    &lt;input type=\"text\" name=\"name\" value=\"1\"&gt;\r\n    &lt;button class=\"minus-btn\" type=\"button\" name=\"button\"&gt;\r\n            &lt;img src=\"minus-btn.png\" alt=\"\" /&gt; -\r\n          &lt;/button&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div id=\"multiple10\" class=\"total-price\"&gt;$&lt;span&gt;1&lt;/span&gt;&lt;/div&gt;\r\n&lt;/div&gt;\r\n\r\n&lt;div&gt;\r\n  Total: &lt;span id=\"total\"&gt;$2&lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 11081, "user_id": 10669010, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/LsWex.png?s=128&g=1", "display_name": "Mister Jojo", "link": "https://stackoverflow.com/users/10669010/mister-jojo"}, "is_accepted": false, "score": 0, "last_activity_date": 1565227880, "last_edit_date": 1565227880, "creation_date": 1565225801, "answer_id": 57403925, "question_id": 57403296, "link": "https://stackoverflow.com/questions/57403296/get-total-price-added-up-with-jquery/57403925#57403925", "title": "Get total price added up with jquery", "body": "<p><em>I think your question is really badly asked.</em><br>\nFrom what I understand, you seek to write an equivalence of jQuery in JS 'vanila' to increment decrement of (2, 5, 10) quantities and realize the corresponding totals.  </p>\n\n<p>so here is \"my solution\":</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document\r\n  .querySelectorAll('button.minus')\r\n  .forEach(bt=&gt;\r\n    {\r\n    bt.onclick=e=&gt;\r\n      {\r\n      let P_parent = e.target.parentNode\r\n        , Inc      = parseInt(P_parent.dataset.increment)\r\n        , U_price  = parseFloat(P_parent.dataset.price).toFixed(2)\r\n        , val      = parseInt(P_parent.querySelector('.quantity').value)\r\n\r\n      if (val &gt; 0)\r\n        {\r\n        val -= Inc\r\n        P_parent.querySelector('.quantity').value = val\r\n        P_parent.querySelector('.total').textContent = '$ '+ (val * U_price).toFixed(2)\r\n        } \r\n      }\r\n    })\r\n\r\ndocument\r\n  .querySelectorAll('button.plus')\r\n  .forEach(bt=&gt;\r\n    {\r\n    bt.onclick=e=&gt;\r\n      {\r\n      let P_parent = e.target.parentNode\r\n        , Inc      = parseInt(P_parent.dataset.increment)\r\n        , U_price  = parseFloat(P_parent.dataset.price).toFixed(2)\r\n        , Max      = parseInt(P_parent.dataset.max)\r\n        , val      = parseInt(P_parent.querySelector('.quantity').value)\r\n\r\n      if (val &lt; Max)\r\n        {\r\n        val += Inc\r\n        P_parent.querySelector('.quantity').value = val\r\n        P_parent.querySelector('.total').textContent = '$ '+ (val * U_price).toFixed(2)\r\n        } \r\n      }\r\n    })</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body { font: 14px sans-serif; padding: 1em; }\r\nh3 { margin: 1.5em 0 0 0; }\r\ninput.quantity { width:4em; text-align: right  }\r\n.total { display: inline-block; width: 6em; text-align: right; font-weight: bold; border-bottom: 1px solid grey; margin-left: .5em }\r\np &gt; button { font-weight: bold; }</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h3&gt;by 2&lt;/h3&gt;\r\n&lt;p data-increment=\"2\" data-max=50 data-price=\"11\"&gt;\r\n  &lt;input class=\"quantity\" type=\"text\" value='0' readonly&gt;\r\n  &lt;button class=\"minus\"&gt;-&lt;/button&gt;\r\n  &lt;button class=\"plus\"&gt;+&lt;/button&gt;\r\n  unit price : $11\r\n  &lt;span class=\"total\"&gt;$ 0&lt;/span&gt;\r\n&lt;/p&gt;\r\n\r\n&lt;h3&gt;by 5&lt;/h3&gt;\r\n&lt;p data-increment=\"5\" data-max=80 data-price=\"5.23\"&gt;\r\n  &lt;input class=\"quantity\" type=\"text\" value='0' readonly&gt;\r\n  &lt;button class=\"minus\"&gt;-&lt;/button&gt;\r\n  &lt;button class=\"plus\"&gt;+&lt;/button&gt;\r\n  unit price : $5.23\r\n  &lt;span class=\"total\"&gt;$ 0&lt;/span&gt;\r\n&lt;/p&gt;\r\n\r\n&lt;h3&gt;by 10&lt;/h3&gt;\r\n&lt;p data-increment=\"10\" data-max=100 data-price=\"3.12\"&gt;\r\n  &lt;input class=\"quantity\" type=\"text\" value='0' readonly&gt;\r\n  &lt;button class=\"minus\"&gt;-&lt;/button&gt;\r\n  &lt;button class=\"plus\"&gt;+&lt;/button&gt;\r\n  unit price : $3.12\r\n  &lt;span class=\"total\"&gt;$ 0&lt;/span&gt;\r\n&lt;/p&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 19, "user_id": 10001050, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4wLtF.jpg?s=128&g=1", "display_name": "Nina Cressoni", "link": "https://stackoverflow.com/users/10001050/nina-cressoni"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 328, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565227880, "creation_date": 1565219624, "question_id": 57403296, "link": "https://stackoverflow.com/questions/57403296/get-total-price-added-up-with-jquery", "title": "Get total price added up with jquery", "body": "<p>Newbie on JS and got really stuck. \nI have a plus and a minus button that adds up products. But I need that the result of this total price to adds up accordingly. And some of the products can only be bought with multiples of 2, 5 or 10. </p>\n\n<p>I have here my html with 2 of my products. One that can only be sold with multiples of 5 and the other, multiple of 10.</p>\n\n<pre><code>&lt;!-- Product #6 --&gt;\n      &lt;div class=\"item\"&gt;\n        &lt;div class=\"buttons\"&gt;\n          &lt;span class=\"delete-btn\"&gt;&lt;/span&gt;\n          &lt;span class=\"like-btn\"&gt;&lt;/span&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"image\"&gt;\n          &lt;img src=\"intem-6.jpg\" alt=\"\" /&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"description\"&gt;\n          &lt;span&gt;DLT-19 Heavy Blaster Rifle&lt;/span&gt;\n          &lt;span&gt;Brown&lt;/span&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"quantity\"&gt;\n          &lt;button class=\"plus-btn\" type=\"button\" name=\"button\"&gt;\n            &lt;img src=\"plus-btn.png\" alt=\"\" /&gt;\n          &lt;/button&gt;\n          &lt;input type=\"text\" name=\"name\" value=\"1\"&gt;\n          &lt;button class=\"minus-btn\" type=\"button\" name=\"button\"&gt;\n            &lt;img src=\"minus-btn.png\" alt=\"\" /&gt;\n          &lt;/button&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"multiple5\" class=\"total-price\"&gt;$5800&lt;/div&gt;\n      &lt;/div&gt;\n\n        &lt;!-- Product #7 --&gt;\n      &lt;div class=\"item\"&gt;\n        &lt;div class=\"buttons\"&gt;\n          &lt;span class=\"delete-btn\"&gt;&lt;/span&gt;\n          &lt;span class=\"like-btn\"&gt;&lt;/span&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"image\"&gt;\n          &lt;img src=\"item-7.jpg\" alt=\"\" &gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"description\"&gt;\n          &lt;span&gt;DL-44 Heavy Blaster Pistol&lt;/span&gt;\n          &lt;span&gt;Brown&lt;/span&gt;\n        &lt;/div&gt;\n\n        &lt;div class=\"quantity\"&gt;\n          &lt;button class=\"plus-btn\" type=\"button\" name=\"button\"&gt;\n            &lt;img src=\"plus-btn.png\" alt=\"\" /&gt;\n          &lt;/button&gt;\n          &lt;input type=\"text\" name=\"name\" value=\"1\"&gt;\n          &lt;button class=\"minus-btn\" type=\"button\" name=\"button\"&gt;\n            &lt;img src=\"minus-btn.png\" alt=\"\" /&gt;\n          &lt;/button&gt;\n        &lt;/div&gt;\n\n        &lt;div id=\"multiple10\" class=\"total-price\"&gt;$1500&lt;/div&gt;\n      &lt;/div&gt;\n    &lt;/div&gt; \n</code></pre>\n\n<p>And here is my jQuery that adds up 1 on.click of my buttons. </p>\n\n<pre><code>$('.minus-btn').on('click', function(e) {\n        e.preventDefault();\n        var $this = $(this);\n        var $input = $this.closest('div').find('input');\n        var value = parseInt($input.val());\n\n    if (value &gt;= 1) {\n            value = value - 1;\n        } else {\n            value = 0;\n        }\n\n        $input.val(value);\n\n      });\n\n    $('.plus-btn').on('click', function(e) {\n        e.preventDefault();\n        var $this = $(this);\n        var $input = $this.closest('div').find('input');\n        var value = parseInt($input.val());\n\n        if (value &lt; 100) {\n            value = value + 1;\n        } else {\n            value =100;\n        }\n\n        $input.val(value);\n    });\n</code></pre>\n\n<p>I tried doing separately along with my searches but couldn't implement this on my other code. Just want the result to add up and decrease the price along with the on.click event of my buttons. </p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;Hello&lt;/title&gt;\n\n        &lt;style&gt;\n            *{\n                font-size: 25px;\n            }\n        &lt;/style&gt;\n\n    &lt;/head&gt;\n\n    &lt;body&gt;\n\n        &lt;button id=\"plus\"&gt; + &lt;/button&gt;\n        &lt;input id=\"quantity\" type=\"number\" value='1'&gt;    \n        &lt;button id=\"minus\"&gt; - &lt;/button&gt;\n        &lt;div id=\"total\"&gt;5&lt;/div&gt;\n\n\n        &lt;script&gt;\n\n            let plus = document.getElementById('plus');    \n            let quantityEle = document.getElementById('quantity');    \n            let minus = document.getElementById('minus');    \n            let total = document.getElementById('total');    \n\n            let quantity = quantityEle.value;\n            let price = 5;\n\n            plus.addEventListener('click', function(){\n                quantity++; \n                quantityEle.value = quantity;\n                total.innerHTML = price * quantity;\n\n            });\n\n            minus.addEventListener('click', function(){\n                if(quantity &gt; 1)\n                quantity--; \n                quantityEle.value = quantity;\n                total.innerHTML = price * quantity;\n            });\n\n            quantityEle.addEventListener('change', function(){\n                quantity = quantityEle.value;\n                total.innerHTML = price * quantity;\n            });\n\n            var total = $this.closest('div').find('div');\n\n        &lt;/script&gt;\n\n\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}, {"tags": ["javascript", "ionic-framework", "ionic3"], "comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1565219400, "post_id": 57403269, "comment_id": 101288035, "body": "do you get any errors in the console?"}, {"owner": {"reputation": 29, "user_id": 6513413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bf9442e61912433bdadf9f8920ba609?s=128&d=identicon&r=PG&f=1", "display_name": "Will Robert", "link": "https://stackoverflow.com/users/6513413/will-robert"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1565219548, "post_id": 57403269, "comment_id": 101288057, "body": "@Olian04 Only warnings about cordova. &quot;cordova not detected&quot;"}, {"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1565219768, "post_id": 57403269, "comment_id": 101288098, "body": "Then i suggest you scale down. Create a new app with just the essentials to get the map working. If it then works, you know that its something on your end messing it up. If it doesn&#39;t work then i suggest you read up on the library again, or post an issue on their issue tracker."}], "answers": [{"tags": [], "owner": {"reputation": 564, "user_id": 5251807, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-RrqjSaVV-aA/AAAAAAAAAAI/AAAAAAAAACk/BHm5Yi-32vU/photo.jpg?sz=128", "display_name": "H_H", "link": "https://stackoverflow.com/users/5251807/h-h"}, "is_accepted": true, "score": 1, "last_activity_date": 1565242588, "creation_date": 1565242588, "answer_id": 57405762, "question_id": 57403269, "link": "https://stackoverflow.com/questions/57403269/blank-page-with-google-maps-and-ionic-3/57405762#57405762", "title": "Blank page with google maps and Ionic 3", "body": "<p>Set height and width of the map element as below and you will see the map. if it is loaded.</p>\n\n<pre><code>&lt;div #map id=\"map\" style=\"height:500px; width:300px;\"&gt;\n</code></pre>\n"}], "owner": {"reputation": 29, "user_id": 6513413, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8bf9442e61912433bdadf9f8920ba609?s=128&d=identicon&r=PG&f=1", "display_name": "Will Robert", "link": "https://stackoverflow.com/users/6513413/will-robert"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 57405762, "answer_count": 1, "score": 1, "last_activity_date": 1565242588, "creation_date": 1565219334, "last_edit_date": 1565220753, "question_id": 57403269, "link": "https://stackoverflow.com/questions/57403269/blank-page-with-google-maps-and-ionic-3", "title": "Blank page with google maps and Ionic 3", "body": "<p>Googlemaps displays a white page in Ionic 3 on browser and mobile. I have installed the plugin correctly and imported everything. When testing it prompts me to allow location then displays a white page without even a Google logo.</p>\n\n<p>I have tried reinstalling all plugins and checking the API key, all seems valid.</p>\n\n<p>.html</p>\n\n<pre><code>&lt;ion-content padding&gt;\n    &lt;div #map id=\"map\"&gt;&lt;/div&gt;\n  &lt;/ion-content&gt;\n</code></pre>\n\n<p>.module.ts</p>\n\n<pre><code>import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FindridePage } from './findride';\nimport { Geolocation } from '@ionic-native/geolocation';\n\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { HttpClient } from '@angular/common/http';\n\nexport function createTranslateLoader(http: HttpClient) {\n  return new TranslateHttpLoader(http, './assets/i18n/', '.json');\n}\n\n@NgModule({\n  declarations: [\n    FindridePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(FindridePage),\n    TranslateModule.forRoot({\n      loader: {\n        provide: TranslateLoader,\n        useFactory: createTranslateLoader,\n        deps: [HttpClient]\n      }\n    })\n  ]  ,\n  exports: [\n    FindridePage\n  ]\n})\nexport class FindridePageModule {}\n</code></pre>\n\n<p>.ts</p>\n\n<pre><code>import { NavController,IonicPage,Platform  } from 'ionic-angular';\nimport { GoogleMap,GoogleMaps } from '@ionic-native/google-maps';\nimport { Component, ViewChild, ElementRef } from '@angular/core';\nimport { Geolocation } from '@ionic-native/geolocation';\n\ndeclare var google: any;\n\n@IonicPage()\n@Component({\n  selector: 'page-findride',\n  templateUrl: 'findride.html'\n})\nexport class FindridePage {\n@ViewChild('map') mapElement: ElementRef;\nmap: any;\nmarkers = [];\n\n  constructor(public navCtrl: NavController, private _googleMaps: GoogleMaps,public platform: Platform,private geolocation: Geolocation) {\n\n      setTimeout(this.initMap(), 10000);\n\n  }\n\n\n\n  initMap() {\n    console.log('starting');\n    this.geolocation.getCurrentPosition({ maximumAge: 3000, timeout: 5000, enableHighAccuracy: true }).then((resp) =&gt; {\n      let mylocation = new google.maps.LatLng(resp.coords.latitude,resp.coords.longitude);\n      this.map = new google.maps.Map(this.mapElement.nativeElement, {\n        zoom: 15,\n        center: mylocation\n      });\n    });\n    let watch = this.geolocation.watchPosition();\n    watch.subscribe((data) =&gt; {\n      this.deleteMarkers();\n      let updatelocation = new google.maps.LatLng(data.coords.latitude,data.coords.longitude);\n      let image = 'assets/imgs/blue-bike.png';\n      this.addMarker(updatelocation,image);\n      this.setMapOnAll(this.map);\n    });\n  }\n  addMarker(location, image) {\n    let marker = new google.maps.Marker({\n      position: location,\n      map: this.map,\n      icon: image\n    });\n    this.markers.push(marker);\n  }\n\n  setMapOnAll(map) {\n    for (var i = 0; i &lt; this.markers.length; i++) {\n      this.markers[i].setMap(map);\n    }\n  }\n\n  clearMarkers() {\n    this.setMapOnAll(null);\n  }\n\n  deleteMarkers() {\n    this.clearMarkers();\n    this.markers = [];\n  }\n listride(){\n    this.navCtrl.push('ListridePage');\n }\n\n\n}\n\n</code></pre>\n"}, {"tags": ["javascript", "twitter-bootstrap", "gatsby"], "comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1565219182, "post_id": 57403229, "comment_id": 101288004, "body": "Are you sure the version of bootstrap you&#39;re using is compatible with the version of jQuery you&#39;re using? Because the error is most likely referring to the <a href=\"https://api.jquery.com/jQuery.fn.extend/\" rel=\"nofollow noreferrer\">&quot;fn&quot; property of jquery</a>. So $ (or jQuery) didn&#39;t load correctly."}, {"owner": {"reputation": 525, "user_id": 1291530, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/syHq5.png?s=128&g=1", "display_name": "nusantara", "link": "https://stackoverflow.com/users/1291530/nusantara"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1565219673, "post_id": 57403229, "comment_id": 101288075, "body": "@Olian04 They should be. I downloaded them from Bootstrap&#39;s <a href=\"https://getbootstrap.com/docs/4.3/getting-started/download/#bootstrapcdn\" rel=\"nofollow noreferrer\">BootstrapCDN</a> section in its docs. Should I get them elsewhere?"}, {"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1565219897, "post_id": 57403229, "comment_id": 101288129, "body": "have you looked at the <a href=\"https://www.gatsbyjs.org/starters/jaxx2104/gatsby-starter-bootstrap/\" rel=\"nofollow noreferrer\">gatsby bootstrap starter</a>? maybe looking through their implementation will give you a hint."}, {"owner": {"reputation": 525, "user_id": 1291530, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/syHq5.png?s=128&g=1", "display_name": "nusantara", "link": "https://stackoverflow.com/users/1291530/nusantara"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1565267038, "post_id": 57403229, "comment_id": 101304954, "body": "@Olian04 I took a look following your suggestion. I can&#39;t figure out where the starter places the JS files. There&#39;s an <code>import emergence from &#39;emergence.js&#39;</code> in /src/components/layout/index.js though. So, I guess <code>npm install bootstrap</code> might have worked better for me. I&#39;ll try this next time. For now I&#39;m going with another solution I&#39;ll post in a bit."}], "answers": [{"tags": [], "owner": {"reputation": 525, "user_id": 1291530, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/syHq5.png?s=128&g=1", "display_name": "nusantara", "link": "https://stackoverflow.com/users/1291530/nusantara"}, "is_accepted": false, "score": 1, "last_activity_date": 1565267682, "creation_date": 1565267682, "answer_id": 57412735, "question_id": 57403229, "link": "https://stackoverflow.com/questions/57403229/adding-bootstrap-to-gatsby-produces-uncaught-typeerror-cannot-read-property-f/57412735#57412735", "title": "Adding Bootstrap to Gatsby produces &quot;Uncaught TypeError: Cannot read property &#39;fn&#39; of undefined&quot;", "body": "<p>I know JS files load in the order they are placed. But, just to make extra sure that they really, really, really do that, I decided to override Gatsby's default-html.js so that I could add jquery.js and popper.js to the <code>&lt;head&gt;</code> tag.</p>\n\n<p>I don't know what default-html.js does. I just have a feeling it loads first and acts as some sort of basis for the whole project.</p>\n\n<p>So, following Gatsby's docs on <a href=\"https://www.gatsbyjs.org/docs/custom-html/\" rel=\"nofollow noreferrer\">default-html.js</a>, I first ran <code>cp .cache/default-html.js src/html.js</code>.</p>\n\n<p>Now that it's named html.js in /src, I opened it up and added the two JS files to the <code>&lt;head&gt;</code> section:</p>\n\n<pre><code>import { withPrefix } from \"gatsby\"\n\n&lt;head&gt;\n    ...\n    &lt;script async src={withPrefix('site_js/jquery.js')} type=\"text/javascript\" /&gt;\n    &lt;script async src={withPrefix('site_js/popper.js')} type=\"text/javascript\" /&gt;\n  &lt;/head&gt;\n</code></pre>\n\n<p>To make things load just a bit fast, I added <code>async</code> to their <code>&lt;script&gt;</code> tags following <a href=\"https://flaviocopes.com/javascript-async-defer/\" rel=\"nofollow noreferrer\">this</a> wee article.</p>\n\n<p>Now, it works perfectly.</p>\n\n<p>However, I think the trade-off is, because the JS files load first, it might affect loading time. The files are not big and it's not critical for my project so I think it's ok. Maybe if loading time is more critical in future I might try <code>npm install bootstrap</code> or some other solution.</p>\n"}, {"tags": [], "owner": {"reputation": 3074, "user_id": 6903223, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/79JHZ.png?s=128&g=1", "display_name": "Kushal", "link": "https://stackoverflow.com/users/6903223/kushal"}, "is_accepted": false, "score": 1, "last_activity_date": 1579068963, "creation_date": 1579068963, "answer_id": 59745996, "question_id": 57403229, "link": "https://stackoverflow.com/questions/57403229/adding-bootstrap-to-gatsby-produces-uncaught-typeerror-cannot-read-property-f/59745996#59745996", "title": "Adding Bootstrap to Gatsby produces &quot;Uncaught TypeError: Cannot read property &#39;fn&#39; of undefined&quot;", "body": "<p>Best way to add Bootstrap and related dependency with gatsby is adding them in <code>gatsby-browser.js</code> like following:</p>\n\n<p><strong>Step 1:</strong> Run <code>npm i bootstrap jquery popper.js</code></p>\n\n<p><strong>Step 2:</strong> In <code>gatsby-browser.js</code> add following imports</p>\n\n<pre><code>import \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"jquery/dist/jquery.min.js\";\nimport \"popper.js/dist/popper.min\";\nimport \"bootstrap/dist/js/bootstrap.min.js\";\n</code></pre>\n\n<blockquote>\n  <p><em>Note:</em> if <code>gatsby-browser.js</code> is already present and contains ES5 code, then that needs to converted to ES6 first</p>\n</blockquote>\n"}, {"tags": [], "owner": {"reputation": 4120, "user_id": 1099314, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jKm3r.png?s=128&g=1", "display_name": "Ninh Pham", "link": "https://stackoverflow.com/users/1099314/ninh-pham"}, "is_accepted": false, "score": 0, "last_activity_date": 1586342551, "creation_date": 1586342551, "answer_id": 61098800, "question_id": 57403229, "link": "https://stackoverflow.com/questions/57403229/adding-bootstrap-to-gatsby-produces-uncaught-typeerror-cannot-read-property-f/61098800#61098800", "title": "Adding Bootstrap to Gatsby produces &quot;Uncaught TypeError: Cannot read property &#39;fn&#39; of undefined&quot;", "body": "<p>Script tags should be placed at the end of page.</p>\n\n<p>Whereas <code>Helmet</code>  and <code>gatsby-plugin-load-script</code> try to append script into the <code>head</code> (see <a href=\"https://github.com/abumalick/gatsby-plugin-load-script/blob/master/src/gatsby-ssr.js#L50\" rel=\"nofollow noreferrer\">link</a>).</p>\n\n<p>Basically, you just need a <code>gatsby-ssr.js</code> file like this, no need plugin at all.</p>\n\n<p>Create <code>gatsby-ssr.js</code></p>\n\n<pre><code>import React from 'react'\n\nexport const onRenderBody = ({ setPostBodyComponents }) =&gt; {\n  setPostBodyComponents([\n    &lt;script\n      key=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\"\n      src=\"https://code.jquery.com/jquery-3.2.1.slim.min.js\"\n      integrity=\"sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN\"\n      crossOrigin=\"anonymous\"\n      defer\n    /&gt;,\n    &lt;script\n      key=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\"\n      src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\"\n      integrity=\"sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q\"\n      crossOrigin=\"anonymous\"\n      defer\n    /&gt;,\n    &lt;script\n      key=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\"\n      src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\"\n      integrity=\"sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl\"\n      crossOrigin=\"anonymous\"\n      defer\n    /&gt;\n  ])\n}\n\n</code></pre>\n\n<p><img src=\"https://user-images.githubusercontent.com/7277418/78772648-4bc16700-79bc-11ea-9b4c-0dd29b1076d6.png\" alt=\"image\"></p>\n"}], "owner": {"reputation": 525, "user_id": 1291530, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/syHq5.png?s=128&g=1", "display_name": "nusantara", "link": "https://stackoverflow.com/users/1291530/nusantara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 999, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1586342551, "creation_date": 1565218882, "last_edit_date": 1565219813, "question_id": 57403229, "link": "https://stackoverflow.com/questions/57403229/adding-bootstrap-to-gatsby-produces-uncaught-typeerror-cannot-read-property-f", "title": "Adding Bootstrap to Gatsby produces &quot;Uncaught TypeError: Cannot read property &#39;fn&#39; of undefined&quot;", "body": "<p>I'm using Gatsby 2.13.50 (CLI: 2.7.14). I'm trying to add Bootstrap 4 to my base template at /src/components/layout.js. It's used by /src/pages/index.js. Basically the directory structure as taught by most beginner tutorials.</p>\n\n<p>I keep getting this error:</p>\n\n<pre><code>Uncaught TypeError: Cannot read property 'fn' of undefined\n    at bootstrap.js:6\n    at bootstrap.js:6\n    at bootstrap.js:6\n</code></pre>\n\n<p>Several solutions online say that it's because bootstrap.js is loading before jquery.js and popper.js. They say placing jquery.js and popper.js first and bootstrap.js last would solve it. My results vary depending on how I bring them into the file.</p>\n\n<p>First, the code in layout.js:</p>\n\n<pre><code>import React from \"react\"\nimport Header from '../components/header'\nimport '../styles/bootstrap-4.3.1-dist/css/bootstrap.css'\nimport { withPrefix } from \"gatsby\"\n\n// If I import them like this, Gatsby cannot find the files.\n// import '../styles/site_js/jquery.js'\n// import '../styles/site_js/popper.js'\n// import '../styles/site_js/bootstrap.js'\n\nimport { Helmet } from \"react-helmet\"\n\nconst Layout = (props) =&gt; {\n    return (\n        &lt;div&gt;\n\n            &lt;Header /&gt;\n            &lt;main role=\"main\" className=\"container\"&gt;\n                {props.children}\n            &lt;/main&gt;\n\n            // If I do this, the error happens all the time.\n            {/* &lt;Helmet&gt;\n                    &lt;script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n                    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\" integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n                    &lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\" integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n                &lt;/Helmet&gt; */}\n\n            // If I do this, the error happens once every handful of times.\n            &lt;Helmet&gt;\n                &lt;script src={withPrefix('site_js/jquery.js')} type=\"text/javascript\" /&gt;\n                &lt;script src={withPrefix('site_js/popper.js')} type=\"text/javascript\" /&gt;\n                &lt;script src={withPrefix('site_js/bootstrap.js')} type=\"text/javascript\" /&gt;\n            &lt;/Helmet&gt;\n        &lt;/div&gt;\n    )\n}\n\nexport default Layout\n</code></pre>\n\n<p>I found three ways to bring the JavaScript files into layout.js.</p>\n\n<p>The first one imports the files like this:</p>\n\n<pre><code>import '../styles/site_js/jquery.js'\nimport '../styles/site_js/popper.js'\nimport '../styles/site_js/bootstrap.js'\n</code></pre>\n\n<p>With the above, Gatsby fails to compile. It gives this error for all three files:</p>\n\n<pre><code>Module not found: Error: Can't resolve 'popper.js' in '/home/testjs/hayatdemo/src/styles/site_js'\n</code></pre>\n\n<p>I double-checked and the files exist at that file path. So, I don't know what's wrong.</p>\n\n<p>The second loads the three files from external sources:</p>\n\n<pre><code>&lt;Helmet&gt;\n    &lt;script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\" integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n    &lt;script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\" integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\" crossorigin=\"anonymous\"&gt;&lt;/script&gt;\n&lt;/Helmet&gt;\n</code></pre>\n\n<p>With this, Gatsby compiles, but the error appears every time I reload the page.</p>\n\n<p>Finally, this <a href=\"https://stackoverflow.com/questions/54834930/how-to-include-local-javascript-on-a-gatsby-page\">solution</a> says to add the files to /static in the root directory and call them with the help of <code>withPrefix()</code>. Like so:</p>\n\n<pre><code>&lt;Helmet&gt;\n    &lt;script src={withPrefix('site_js/jquery.js')} type=\"text/javascript\" /&gt;\n    &lt;script src={withPrefix('site_js/popper.js')} type=\"text/javascript\" /&gt;\n    &lt;script src={withPrefix('site_js/bootstrap.js')} type=\"text/javascript\" /&gt;\n&lt;/Helmet&gt;\n</code></pre>\n\n<p>This works for the most part but the error returns once every handful of reloads.</p>\n\n<p>How do I solve this problem? </p>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 1, "creation_date": 1565218639, "post_id": 57403192, "comment_id": 101287908, "body": "<a href=\"https://www.codementor.io/dariogarciamoya/understanding-this-in-javascript-with-arrow-functions-gcpjwfyuc\" rel=\"nofollow noreferrer\">&quot;this&quot; in arrow functions</a>"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "edited": false, "score": 0, "creation_date": 1565218733, "post_id": 57403192, "comment_id": 101287921, "body": "@Olian04 thanks for the link interesting link"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 1, "creation_date": 1565218739, "post_id": 57403192, "comment_id": 101287923, "body": "Are you sure it&#39;s undefined in onChange? I don&#39;t see how."}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "edited": false, "score": 0, "creation_date": 1565218800, "post_id": 57403192, "comment_id": 101287934, "body": "@DaveNewton i know, i asked myself the same thing, but it&#39;s deffo not there"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 2, "creation_date": 1565218886, "post_id": 57403192, "comment_id": 101287948, "body": "Can you post a codesandbox replicating your issue? I can&#39;t replicate your bug myself"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565218893, "post_id": 57403192, "comment_id": 101287949, "body": "<code>&lt;input onChange={e =&gt; this.onChange(e)}</code> or <code>&lt;input onChange={this.onChange.bind(this}</code> - although <code>onChange = (e) =&gt; {</code> should work fine without that."}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565218932, "post_id": 57403192, "comment_id": 101287959, "body": "@ChrisG an inline lambda on the handler does the binding for you.. aka <code>onChange = (e) =&gt; {</code>"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565218944, "post_id": 57403192, "comment_id": 101287962, "body": "@ChrisG no need if using arrows"}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1565218969, "post_id": 57403192, "comment_id": 101287968, "body": "Unable to repo. Is this a function or class component?"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1565219089, "post_id": 57403192, "comment_id": 101287989, "body": "its a class  comp with a function @JohnRuddell i shall try it&#39;s a big proj , so will take me 30-40 mins, will ping here when done. thx all"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565219129, "post_id": 57403192, "comment_id": 101287994, "body": "Why that long? Just create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1565219131, "post_id": 57403192, "comment_id": 101287995, "body": "@say, just making a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> should do it, no need to expose your full project"}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1565220764, "post_id": 57403192, "comment_id": 101288297, "body": "How do you transpile your code, btw? And do you have class properties enabled with the babel plugin? (in case you use babel)"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1565220837, "post_id": 57403192, "comment_id": 101288312, "body": "@Icepickle i&#39;m using create react app which is using Babel/WebPack if i&#39;m not mistaken"}], "answers": [{"comments": [{"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1565219845, "post_id": 57403276, "comment_id": 101288116, "body": "but, he is using class properties (well, I assume the arrow functions are part of the a class component)"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1565219846, "post_id": 57403276, "comment_id": 101288118, "body": "I didn&#39;t think so, but then i tried it and now have access to this. nice explanation, ping me an article if u have 1 handly.. cheers Mike"}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "reply_to_user": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1565220010, "post_id": 57403276, "comment_id": 101288152, "body": "@saj you can totally access state / props in an arrow function. <a href=\"https://codesandbox.io/s/react-example-786rm\" rel=\"nofollow noreferrer\">codesandbox.io/s/react-example-786rm</a>. You must&#39;ve been doing something incorrectly."}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "reply_to_user": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1565220115, "post_id": 57403276, "comment_id": 101288177, "body": "@JohnRuddell thanks for the exampl I agree, i&#39;m doing that my self back in mo"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1565220125, "post_id": 57403276, "comment_id": 101288180, "body": "Using instance properties instead of functions makes very little sense, though. If you run it through Babel, for instance, it will (<i>rightly so</i>) convert your instance properties back to real class functions."}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1565220249, "post_id": 57403276, "comment_id": 101288197, "body": "@Mike&#39;Pomax&#39;Kamermans I wish i understood enough to have a discussion with you :("}, {"owner": {"reputation": 22145, "user_id": 2733506, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/aef7abc9820d5fd66765e3e99ba28a15?s=128&d=identicon&r=PG", "display_name": "John Ruddell", "link": "https://stackoverflow.com/users/2733506/john-ruddell"}, "edited": false, "score": 0, "creation_date": 1565220356, "post_id": 57403276, "comment_id": 101288227, "body": "the methods defined as a lambda are translated to a definition in the constructor. However babel and pretty much every compiler out there accept this syntax. I&#39;d say it makes sense because they aren&#39;t properties but rather methods."}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1565220562, "post_id": 57403276, "comment_id": 101288262, "body": "You are right Mike that it depends on the transpiler behind the scenes to convert them into functions, I assumed from the code shared in the OP that they were class properties or whatever they call them now :)  A bit more info on why constructor binding wouldn&#39;t be appropriate anymore would be interesting though (seen it has been advocated for quite a while)"}, {"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1565220783, "post_id": 57403276, "comment_id": 101288300, "body": "yup im using Babel"}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1565221055, "post_id": 57403276, "comment_id": 101288361, "body": "Mike, looking at what <a href=\"https://reactjs.org/docs/faq-functions.html\" rel=\"nofollow noreferrer\">react suggests</a> they are pretty open to any approach, so is it your personal preference?"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1565229380, "post_id": 57403276, "comment_id": 101289876, "body": "It is, based on a career that predates React&#39;s invention (and I absolute love React. Just this part of it is idiotic). Your constructor should not be responsible for creating derivative functions from its prototype to bind them to itself, that&#39;s just needless shadowing, and increases both your maintenance and bug surface."}], "tags": [], "owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "is_accepted": true, "score": 4, "last_activity_date": 1565220276, "last_edit_date": 1565220276, "creation_date": 1565219410, "answer_id": 57403276, "question_id": 57403192, "link": "https://stackoverflow.com/questions/57403192/this-is-missing-in-react-input-onchange/57403276#57403276", "title": "this is missing, in react input onChange", "body": "<p>When using class notation (your only choice as of React 16), you need to use arrow functions, i.e. <code>&lt;Thing onChange={() =&gt; this.onChange()} .../&gt;</code>. in order to preserve <code>this</code>.</p>\n\n<p>If you don't, by the time <code>onChange</code> fires, the execution context for that call is guaranteed to not be your component, and is most likely just <code>window</code>.</p>\n\n<p>You'll also want to change those instance properties to normal class functions:</p>\n\n<pre><code>class Thing extends Component {\n  constructor(props) {\n    super(props);\n    this.state = ...\n  }\n\n  onChange(evt) {\n    // do what needs to be done\n  }\n\n  render() {\n    return &lt;div ... &gt;\n      &lt;input onChange={evt =&gt; this.onChange(evt)} ... /&gt;\n    &lt;/div&gt;;\n  }\n}\n</code></pre>\n\n<p>In fact, if you're using Babel + Webpack, I can almost guarantee you that's already what Babel will do to your code, so the code that <em>runs</em> will have normal class functions, and so you really need that arrow function as onChange handler.</p>\n\n<p>(some tutorials advocate putting <code>this.onChange = this.onChange.bind(this)</code> in your constructor, which I would not recommend you do. It's not your constructor's job to known what the rest of the class looks like)</p>\n"}, {"comments": [{"owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1565219986, "post_id": 57403298, "comment_id": 101288146, "body": "thanks but I don&#39;t want to and should not have to see Mike&#39;s answer below &#39;It&#39;s not your constructor&#39;s job to known what the rest of the class looks like&#39;"}, {"owner": {"reputation": 967, "user_id": 994322, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/75f78ebca089b36c0f2e1c06f893ddfc?s=128&d=identicon&r=PG", "display_name": "Niche", "link": "https://stackoverflow.com/users/994322/niche"}, "reply_to_user": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1565220200, "post_id": 57403298, "comment_id": 101288189, "body": "I didn&#39;t think about it that way. Thanks!"}, {"owner": {"reputation": 152277, "user_id": 438992, "user_type": "registered", "accept_rate": 90, "profile_image": "https://i.stack.imgur.com/QouOz.jpg?s=128&g=1", "display_name": "Dave Newton", "link": "https://stackoverflow.com/users/438992/dave-newton"}, "reply_to_user": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "edited": false, "score": 0, "creation_date": 1565224170, "post_id": 57403298, "comment_id": 101288994, "body": "@saj This is a pretty common approach. The constructor already &quot;knows&quot; about class details anyway--it&#39;s the ctor of the class."}], "tags": [], "owner": {"reputation": 967, "user_id": 994322, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/75f78ebca089b36c0f2e1c06f893ddfc?s=128&d=identicon&r=PG", "display_name": "Niche", "link": "https://stackoverflow.com/users/994322/niche"}, "is_accepted": false, "score": 0, "last_activity_date": 1565219647, "creation_date": 1565219647, "answer_id": 57403298, "question_id": 57403192, "link": "https://stackoverflow.com/questions/57403192/this-is-missing-in-react-input-onchange/57403298#57403298", "title": "this is missing, in react input onChange", "body": "<p>You can bind <code>this</code> to your functions by binding it in your constructor:</p>\n\n<pre><code>...\nconstructor(props){\n    super(props);\n    this.onChange = this.onchange.bind(this);\n}\n...\n</code></pre>\n"}], "owner": {"reputation": 2005, "user_id": 2897573, "user_type": "registered", "accept_rate": 71, "profile_image": "https://i.stack.imgur.com/IpcLM.jpg?s=128&g=1", "display_name": "saj", "link": "https://stackoverflow.com/users/2897573/saj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 217, "favorite_count": 0, "accepted_answer_id": 57403276, "answer_count": 2, "score": 0, "last_activity_date": 1565220660, "creation_date": 1565218446, "last_edit_date": 1565220660, "question_id": 57403192, "link": "https://stackoverflow.com/questions/57403192/this-is-missing-in-react-input-onchange", "title": "this is missing, in react input onChange", "body": "<p>In the onChange function I have no this, so no props and no state what am i doing wrong ? thanks</p>\n\n<p>Edit: added class and constructor!</p>\n\n<pre><code>export default class Editor extends Component {\nconstructor(props) {\n    super(props);\n    this.state = {\n      sortDirection: true,\n      json: props.json, // using a prop called json. were setting state.data to json\n      options: props.options || {}, //optional object options\n      id:props.id,\n    }\n  }\n onChange = (e) =&gt; {\n    let xyz=this\n    /// this is undefined. needed to set state on controlled input\n   }\n\n\nbuildKeys = () =&gt; {\n    let keys = Object.keys(this.state.json[0]);\n    let self = this\n    return keys.map((key, index) =&gt; {\n      // hide column if columname in hidden columns array\n      /// if no hidecol option we set it an empty array\n      let hiddenColArr = self.state.options.hideCol || []\n      // loops throgh hiddenCol array and returns a bool\n      let isHidden =  _.includes(hiddenColArr, key) \n\n     // build values\n     let arrIndex=this.props.id -1\n     let row = this.state.json[arrIndex];\n\n     return Object.keys(row).map((key2)  =&gt;\n\n     &lt;div key={shortid.generate()} className='row'   &gt;{key}\n    ////////////////*Input added here/\n        &lt;input  onChange={this.onChange} key={shortid.generate()} type=\"text\" value={row[key2]} /&gt;\n    /////////////////Input end here/\n\n     &lt;/div&gt;\n\n     )\n\n}\n</code></pre>\n"}, {"tags": ["javascript", "html", "css", "responsive-design"], "comments": [{"owner": {"reputation": 115, "user_id": 9648217, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a63fa1c4b809a83af92436c751cef4a4?s=128&d=identicon&r=PG&f=1", "display_name": "Creative87", "link": "https://stackoverflow.com/users/9648217/creative87"}, "edited": false, "score": 0, "creation_date": 1565217900, "post_id": 57403102, "comment_id": 101287744, "body": "You may need to use CSS  elements like max-width also max-height so you can make ratio size for included tags  inside wrapper."}, {"owner": {"reputation": 2207, "user_id": 3988232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47523b278f15afd925a473e2ac0b966?s=128&d=identicon&r=PG&f=1", "display_name": "IronFlare", "link": "https://stackoverflow.com/users/3988232/ironflare"}, "edited": false, "score": 1, "creation_date": 1565217931, "post_id": 57403102, "comment_id": 101287749, "body": "Have you tried using viewport units like <code>100vh</code> and <code>100vw</code>? These don&#39;t require you to &quot;guess&quot; the size of the device."}, {"owner": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 0, "creation_date": 1565217933, "post_id": 57403102, "comment_id": 101287750, "body": "What do you mean, &quot;I&#39;d like the background to then extend&quot;?  Are you saying you want to make elements smaller and fit within their container?"}, {"owner": {"reputation": 19, "user_id": 8280575, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ECj3LI6bU5s/AAAAAAAAAAI/AAAAAAAAAkE/o17C9WZfbts/photo.jpg?sz=128", "display_name": "Ari", "link": "https://stackoverflow.com/users/8280575/ari"}, "reply_to_user": {"reputation": 145537, "user_id": 362536, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/da5816365344305a614343a4065a2786?s=128&d=identicon&r=PG", "display_name": "Brad", "link": "https://stackoverflow.com/users/362536/brad"}, "edited": false, "score": 0, "creation_date": 1565389449, "post_id": 57403102, "comment_id": 101352877, "body": "@Brad yes, I want child items to fit their container (e.g. if i shrunk a screen using 100vh and 100vw there is a chance that whatever was inside that container will be too big and start squeezing out he bottom)"}], "answers": [{"tags": [], "owner": {"reputation": 316, "user_id": 11882174, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4f29a446af992876cf3998819e1a033b?s=128&d=identicon&r=PG&f=1", "display_name": "albert_anthony6", "link": "https://stackoverflow.com/users/11882174/albert-anthony6"}, "is_accepted": false, "score": -1, "last_activity_date": 1565217999, "creation_date": 1565217999, "answer_id": 57403140, "question_id": 57403102, "link": "https://stackoverflow.com/questions/57403102/is-there-a-way-to-make-a-screen-100-height-and-width-but-when-scaled-down-will/57403140#57403140", "title": "Is there a way to make a screen 100% height and width but when scaled down will always be large enough to contain children elements", "body": "<p>Try setting the background-image to 100vh</p>\n"}, {"tags": [], "owner": {"reputation": 8222, "user_id": 1291879, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Umr9q.png?s=128&g=1", "display_name": "Tigger", "link": "https://stackoverflow.com/users/1291879/tigger"}, "is_accepted": false, "score": 0, "last_activity_date": 1565220015, "creation_date": 1565220015, "answer_id": 57403330, "question_id": 57403102, "link": "https://stackoverflow.com/questions/57403102/is-there-a-way-to-make-a-screen-100-height-and-width-but-when-scaled-down-will/57403330#57403330", "title": "Is there a way to make a screen 100% height and width but when scaled down will always be large enough to contain children elements", "body": "<p>Not completly sure I know what you want, but the following sample could be expanded to a <code>&lt;div&gt;</code> that wraps all the content or even added to the <code>&lt;body&gt;</code> if you like.</p>\n\n<p>The CSS attribute <code>background-size</code> is using <code>cover</code> but this could be changed to <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/background-size\" rel=\"nofollow noreferrer\">a number of other options</a>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.containbg {\r\n  padding:1em;\r\n  background-image:url(\"https://via.placeholder.com/200/fda\");\r\n  background-size:cover;\r\n  background-position:center center;\r\n}\r\n.containbg img {\r\n  padding:1em\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div class=\"containbg\"&gt;\r\n  &lt;p&gt;Hello div test 1&lt;/p&gt;\r\n  &lt;p&gt;Nice to meet you&lt;/p&gt;\r\n&lt;/div&gt;\r\nThis is a test gap\r\n&lt;div class=\"containbg\"&gt;\r\n  &lt;img src=\"https://via.placeholder.com/100/879\" /&gt;&lt;br /&gt;\r\n  &lt;p&gt;Hello div test 2&lt;/p&gt;\r\n  &lt;p&gt;Nice to meet you too&lt;/p&gt;\r\n  &lt;p&gt;And how has your day been?&lt;/p&gt;\r\n  &lt;img src=\"https://via.placeholder.com/100/879\" /&gt;&lt;br /&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 19, "user_id": 8280575, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ECj3LI6bU5s/AAAAAAAAAAI/AAAAAAAAAkE/o17C9WZfbts/photo.jpg?sz=128", "display_name": "Ari", "link": "https://stackoverflow.com/users/8280575/ari"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 57, "favorite_count": 0, "answer_count": 2, "score": -1, "last_activity_date": 1565220015, "creation_date": 1565217693, "last_edit_date": 1565219044, "question_id": 57403102, "link": "https://stackoverflow.com/questions/57403102/is-there-a-way-to-make-a-screen-100-height-and-width-but-when-scaled-down-will", "title": "Is there a way to make a screen 100% height and width but when scaled down will always be large enough to contain children elements", "body": "<p>Essentially on desktop I want the background to cover everything (eg a landing page) but when the screen is made smaller I dont want content meant to be on that main screen to be spill out. Instead I'd like the background to then extend to encapsulate all children content. Essentially keep the children the same size but make sure the background (container) always stays just big enough to hold all of them.</p>\n\n<p>I know I can use css and specify how things look at different sizes but I'd prefer to do this in a responsive way and not rely on me guessing the size of someone else's device.</p>\n\n<p>Specifically trying to avoid a blanket 100vh since when the screen is shrunk The content can spill out the bottom.</p>\n"}, {"tags": ["javascript", "updates", "service-worker", "progressive-web-apps"], "answers": [{"tags": [], "owner": {"reputation": 4510, "user_id": 6224823, "user_type": "registered", "accept_rate": 75, "profile_image": "https://lh4.googleusercontent.com/-eVoU_E2fMho/AAAAAAAAAAI/AAAAAAAAAC4/7qlAOwlIJkM/photo.jpg?sz=128", "display_name": "Olian04", "link": "https://stackoverflow.com/users/6224823/olian04"}, "is_accepted": false, "score": 1, "last_activity_date": 1565219577, "creation_date": 1565219577, "answer_id": 57403290, "question_id": 57403095, "link": "https://stackoverflow.com/questions/57403095/pwa-update-service-worker-when-app-is-already-loaded/57403290#57403290", "title": "PWA update service worker when app is already loaded", "body": "<p>From MDN on <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/ServiceWorkerRegistration/update\" rel=\"nofollow noreferrer\">\"ServiceWorkerRegistration.update()\n\"</a>.</p>\n\n<blockquote>\n  <p>The update method of the ServiceWorkerRegistration interface attempts to update the service worker. It fetches the worker's script URL, and if the new worker is not byte-by-byte identical to the current worker, it installs the new worker. The fetch of the worker bypasses any browser caches if the previous fetch occurred over 24 hours ago.</p>\n</blockquote>\n\n<pre class=\"lang-js prettyprint-override\"><code>if ('serviceWorker' in navigator) {\n  navigator.serviceWorker.register('/sw-test/sw.js', {scope: 'sw-test'}).then(function(registration) {\n    // registration worked\n    console.log('Registration succeeded.');\n    button.onclick = function() {\n      registration.update();\n    }\n  }).catch(function(error) {\n    // registration failed\n    console.log('Registration failed with ' + error);\n  });\n};\n</code></pre>\n"}], "owner": {"reputation": 1658, "user_id": 4952537, "user_type": "registered", "accept_rate": 67, "profile_image": "https://graph.facebook.com/1025297077488752/picture?type=large", "display_name": "Olivier Krull", "link": "https://stackoverflow.com/users/4952537/olivier-krull"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 214, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565219577, "creation_date": 1565217646, "last_edit_date": 1565218201, "question_id": 57403095, "link": "https://stackoverflow.com/questions/57403095/pwa-update-service-worker-when-app-is-already-loaded", "title": "PWA update service worker when app is already loaded", "body": "<p>I'm building a PWA and I'm looking for a way to update a service worker when the app is already open and loaded.</p>\n\n<p>For example the user opens the app once on his phone and then switches through other apps during the day without completely closing the PWA.</p>\n\n<p>If I upload a new version in between, how can the service worker then be updated?</p>\n\n<p>And also is there maybe a way to notify the service about an update while the user is using the App?</p>\n\n<p>Is the service worker able to automatically check from time to time if something new was uploaded? The whole app is cached and served from a s3 bucket.</p>\n\n<p>Any advice would be greatly appreciated.</p>\n"}, {"tags": ["javascript", "typescript", "fullcalendar", "fullcalendar-4"], "answers": [{"comments": [{"owner": {"reputation": 127, "user_id": 11343305, "user_type": "registered", "profile_image": "https://graph.facebook.com/10107026941380035/picture?type=large", "display_name": "MVM", "link": "https://stackoverflow.com/users/11343305/mvm"}, "edited": false, "score": 0, "creation_date": 1565286374, "post_id": 57409457, "comment_id": 101315859, "body": "I&#39;ve copied and pasted the code from above into the database and the event is still not populating."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "reply_to_user": {"reputation": 127, "user_id": 11343305, "user_type": "registered", "profile_image": "https://graph.facebook.com/10107026941380035/picture?type=large", "display_name": "MVM", "link": "https://stackoverflow.com/users/11343305/mvm"}, "edited": false, "score": 0, "creation_date": 1565288286, "post_id": 57409457, "comment_id": 101316687, "body": "Hmm. Without seeing a worked example of exactly what you did, and exactly what data is coming into fullCalendar as a result, then I can&#39;t tell you what went wrong. As you can see from my CodePen demo, if you give exactly that data to fullCalendar, without the daysOfWeek property included, then it works properly. The concept is correct, but maybe there is some other fault in your code which means the event is not being sent to the calendar or does not contain the correct properties. I can help, if you can provide a reproducible  full example"}, {"owner": {"reputation": 127, "user_id": 11343305, "user_type": "registered", "profile_image": "https://graph.facebook.com/10107026941380035/picture?type=large", "display_name": "MVM", "link": "https://stackoverflow.com/users/11343305/mvm"}, "edited": false, "score": 0, "creation_date": 1565300689, "post_id": 57409457, "comment_id": 101321248, "body": "I found that removing the &quot;daysOfWeek&quot; field from the document and the model allowed my single all day events to render properly. Unfortunately, that isn&#39;t a solid solution for someone who has this same problem who wants to use recurring events. Because FC doesn&#39;t build individual objects for each recurring event, the recurring event feature isn&#39;t useful to me and I&#39;ll have to populate those manually. Thanks for the tip."}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "reply_to_user": {"reputation": 127, "user_id": 11343305, "user_type": "registered", "profile_image": "https://graph.facebook.com/10107026941380035/picture?type=large", "display_name": "MVM", "link": "https://stackoverflow.com/users/11343305/mvm"}, "edited": false, "score": 0, "creation_date": 1565301118, "post_id": 57409457, "comment_id": 101321360, "body": "@MVM I&#39;m not really sure I get your point...you can either include the daysOfWeek field, or not, as required in each case. If it&#39;s not going to be a recurring event, then don&#39;t create that property in your object. It shouldn&#39;t be hard to implement that, surely? Or if you prefer you could switch to defining recurring events using RRule, as provided by the <a href=\"https://fullcalendar.io/docs/rrule-plugin\" rel=\"nofollow noreferrer\">relevant fullCalendar plugin</a> - maybe that would suit you better somehow? And of course if you have a suggestion to improve this part of fullCalendar, you can always send them a feature request."}, {"owner": {"reputation": 127, "user_id": 11343305, "user_type": "registered", "profile_image": "https://graph.facebook.com/10107026941380035/picture?type=large", "display_name": "MVM", "link": "https://stackoverflow.com/users/11343305/mvm"}, "edited": false, "score": 0, "creation_date": 1565360984, "post_id": 57409457, "comment_id": 101342433, "body": "The recurring event feature takes one event from the database and populates the calendar not producing event objects for the other events. Is that incorrect? I need an individual object for each recurring event as I need to mark whether the event is completed, assign the event to a user, and keep track of the beginning and finish time for each event. This information is required for our analytics/ML. Am I wrong about how the calendar works?"}, {"owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "reply_to_user": {"reputation": 127, "user_id": 11343305, "user_type": "registered", "profile_image": "https://graph.facebook.com/10107026941380035/picture?type=large", "display_name": "MVM", "link": "https://stackoverflow.com/users/11343305/mvm"}, "edited": false, "score": 0, "creation_date": 1565376750, "post_id": 57409457, "comment_id": 101349141, "body": "No, you&#39;re correct about that. I was just confused because it seemed unrelated to your question, I didn&#39;t get why you thought my answer was not a &quot;solid solution&quot;. So yes, in your case you will need to create each event individually I believe"}, {"owner": {"reputation": 127, "user_id": 11343305, "user_type": "registered", "profile_image": "https://graph.facebook.com/10107026941380035/picture?type=large", "display_name": "MVM", "link": "https://stackoverflow.com/users/11343305/mvm"}, "edited": false, "score": 1, "creation_date": 1565646808, "post_id": 57409457, "comment_id": 101410425, "body": "Ahh, I meant my solution  &quot;removing the &quot;daysOfWeek&quot; field from the document and the model&quot; wasn&#39;t a solid solution. Thanks for your help."}], "tags": [], "owner": {"reputation": 43836, "user_id": 5947043, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jUK37.png?s=128&g=1", "display_name": "ADyson", "link": "https://stackoverflow.com/users/5947043/adyson"}, "is_accepted": true, "score": 3, "last_activity_date": 1565256765, "creation_date": 1565256765, "answer_id": 57409457, "question_id": 57403085, "link": "https://stackoverflow.com/questions/57403085/fullcalendar-v4-allday-events-not-rendering/57409457#57409457", "title": "FullCalendar-v4 allDay events not rendering", "body": "<p>setting <code>\"daysOfWeek\" : [],</code> means that you are telling the calendar it cannot show the event on any day of the week. That's why it won't appear.</p>\n\n<p>Simply don't set that option in your code for single events, and it will be fine:</p>\n\n<pre><code>{\n    \"_id\" : ObjectId(\"5d4b455e121f726f510f2b5c\"),\n    \"batchId\" : ObjectId(\"5d28f52d823083adfc6e8c4d\"),\n    \"locationId\" : ObjectId(\"5d28cad23f49646797e05adc\"),\n    \"end\" : null,\n    \"startRecur\" : \"\",\n    \"endRecur\" : \"\",\n    \"allDay\" : true,\n    \"start\" : \"2019-08-08\",\n    \"title\" : \"First Transplant\",\n    \"backgroundColor\" : \"rgb(87, 87, 244)\",\n    \"interval\" : \"Single Event\",\n    \"category\" : \"Cultivation\",\n    \"monday\" : false,\n    \"tuesday\" : false,\n    \"wednesday\" : false,\n    \"thursday\" : false,\n    \"friday\" : false,\n    \"saturday\" : false,\n    \"sunday\" : false,\n    \"completed\" : false,\n    \"__v\" : 0\n}\n</code></pre>\n\n<p>Demo: <a href=\"https://codepen.io/ADyson82/pen/LwdgeG\" rel=\"nofollow noreferrer\">https://codepen.io/ADyson82/pen/LwdgeG</a></p>\n\n<p>P.S. There's nothing wrong with your date string.</p>\n"}], "owner": {"reputation": 127, "user_id": 11343305, "user_type": "registered", "profile_image": "https://graph.facebook.com/10107026941380035/picture?type=large", "display_name": "MVM", "link": "https://stackoverflow.com/users/11343305/mvm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 125, "favorite_count": 0, "accepted_answer_id": 57409457, "answer_count": 1, "score": 1, "last_activity_date": 1565256950, "creation_date": 1565217565, "last_edit_date": 1565256950, "question_id": 57403085, "link": "https://stackoverflow.com/questions/57403085/fullcalendar-v4-allday-events-not-rendering", "title": "FullCalendar-v4 allDay events not rendering", "body": "<p>I have managed to get my recurring events to show up on the calendar, but my single allDay events will not render and I believe its a field problem.</p>\n\n<p>I've tried making the event's start time an iso date which doesn't seem to matter as my recurring events are being saved as a string.</p>\n\n<p>This is a recurring event and shows up on the calendar</p>\n\n<pre><code>{\n    \"_id\" : ObjectId(\"5d4af079f91ff532f8fc0385\"),\n    \"daysOfWeek\" : [ \n        1, \n        2, \n        3\n    ],\n    \"locationId\" : ObjectId(\"5d28cad23f49646797e05adc\"),\n    \"allDay\" : true,\n    \"start\" : \"2019-08-07\",\n    \"end\" : \"2019-08-07\",\n    \"startRecur\" : \"2019-08-07\",\n    \"endRecur\" : \"2019-08-31\",\n    \"title\" : \"Change Bulbs\",\n    \"backgroundColor\" : \"rgb(87, 87, 244)\",\n    \"source\" : null,\n    \"interval\" : \"Weekly\",\n    \"category\" : \"Facility\",\n    \"monday\" : true,\n    \"tuesday\" : true,\n    \"wednesday\" : true,\n    \"completed\" : false,\n    \"frequency\" : null,\n    \"__v\" : 0\n}\n</code></pre>\n\n<p>this is a single event that showed up in FC-v3 but wont in v4</p>\n\n<pre><code>{\n    \"_id\" : ObjectId(\"5d4b455e121f726f510f2b5c\"),\n    \"daysOfWeek\" : [],\n    \"batchId\" : ObjectId(\"5d28f52d823083adfc6e8c4d\"),\n    \"locationId\" : ObjectId(\"5d28cad23f49646797e05adc\"),\n    \"end\" : null,\n    \"startRecur\" : \"\",\n    \"endRecur\" : \"\",\n    \"allDay\" : true,\n    \"start\" : \"2019-08-08\",\n    \"title\" : \"First Transplant\",\n    \"backgroundColor\" : \"rgb(87, 87, 244)\",\n    \"interval\" : \"Single Event\",\n    \"category\" : \"Cultivation\",\n    \"monday\" : false,\n    \"tuesday\" : false,\n    \"wednesday\" : false,\n    \"thursday\" : false,\n    \"friday\" : false,\n    \"saturday\" : false,\n    \"sunday\" : false,\n    \"completed\" : false,\n    \"__v\" : 0\n}\n</code></pre>\n\n<p>so i made an event with the proper ISO Date and it failed as well</p>\n\n<pre><code>{\n    \"_id\" : ObjectId(\"5d4b4f9a56114f747c7ddcef\"),\n    \"daysOfWeek\" : [],\n    \"batchId\" : ObjectId(\"5d28f52d823083adfc6e8c4d\"),\n    \"locationId\" : ObjectId(\"5d28cad23f49646797e05adc\"),\n    \"allDay\" : true,\n    \"start\" : ISODate(\"2019-08-08T00:00:00.000Z\"),\n    \"end\" : null,\n    \"title\" : \"IMP\",\n    \"backgroundColor\" : \"rgb(87, 87, 244)\",\n    \"interval\" : \"Single Event\",\n    \"category\" : \"Cultivation\",\n    \"monday\" : false,\n    \"tuesday\" : false,\n    \"wednesday\" : false,\n    \"thursday\" : false,\n    \"friday\" : false,\n    \"saturday\" : false,\n    \"sunday\" : false,\n    \"completed\" : false,\n    \"__v\" : 0\n}\n</code></pre>\n\n<p>comp.ts code</p>\n\n<pre><code>createEvent(form) {\n        if (form.valid) {\n            this.newEvent.category = 'Cultivation';\n            this.newEvent.completed = false;\n            this.newEvent.allDay = true;\n            this.newEvent.locationId = this.selectedLocation._id;\n            this.newEvent.batchId = this.selectedBatch._id;\n            this.newEvent.start = moment(this.newEvent.start).utc();\n            this.newEvent.start.hours(0).minutes(0).seconds(0);\n            // this.newEvent.source =  null;\n            // this.newEvent.daysOfWeek = [];\n            if (this.newEvent.interval === 'Single Event') {\n                this.newEvent.end = null;\n                // this.newEvent.startRecur = '';\n                // this.newEvent.endRecur = '';\n                this.newEvent.monday = false;\n                this.newEvent.tuesday = false;\n                this.newEvent.wednesday = false;\n                this.newEvent.thursday = false;\n                this.newEvent.friday = false;\n                this.newEvent.saturday = false;\n                this.newEvent.sunday = false;\n            }\n            // if ( this.newEvent.interval === 'Daily'  || this.newEvent.interval === 'Weekly'){\n            // }\n            if (this.newEvent.interval === 'Weekly') {\n                this.newEvent.startRecur = this.newEvent.start;\n                this.newEvent.end = this.newEvent.start;\n                this.newEvent.frequency = NaN;\n                if (this.newEvent.sunday) {\n                    this.newEvent.daysOfWeek.push(0);\n                }\n                if (this.newEvent.monday) {\n                    this.newEvent.daysOfWeek.push(1);\n                }\n                if (this.newEvent.tuesday) {\n                    this.newEvent.daysOfWeek.push(2);\n                }\n                if (this.newEvent.wednesday) {\n                    this.newEvent.daysOfWeek.push(3);\n                }\n                if (this.newEvent.thursday) {\n                    this.newEvent.daysOfWeek.push(4);\n                }\n                if (this.newEvent.friday) {\n                    this.newEvent.daysOfWeek.push(5);\n                }\n                if (this.newEvent.saturday) {\n                    this.newEvent.daysOfWeek.push(6);\n                }\n            }\n...sub to database\n</code></pre>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 2207, "user_id": 3988232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47523b278f15afd925a473e2ac0b966?s=128&d=identicon&r=PG&f=1", "display_name": "IronFlare", "link": "https://stackoverflow.com/users/3988232/ironflare"}, "edited": false, "score": 0, "creation_date": 1565217618, "post_id": 57403058, "comment_id": 101287673, "body": "Can you describe a bit more about what you want this page to do? Are you simply looking to create a page with an input box, radio buttons, and a submit button which, when clicked, will redirect the user to the selected search engine results page?"}, {"owner": {"reputation": 27, "user_id": 11761948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98556e052f0ae74c2e3589d0d2891efe?s=128&d=identicon&r=PG&f=1", "display_name": "moose", "link": "https://stackoverflow.com/users/11761948/moose"}, "reply_to_user": {"reputation": 2207, "user_id": 3988232, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e47523b278f15afd925a473e2ac0b966?s=128&d=identicon&r=PG&f=1", "display_name": "IronFlare", "link": "https://stackoverflow.com/users/3988232/ironflare"}, "edited": false, "score": 0, "creation_date": 1565218512, "post_id": 57403058, "comment_id": 101287871, "body": "Exactly correct."}], "answers": [{"comments": [{"owner": {"reputation": 27, "user_id": 11761948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98556e052f0ae74c2e3589d0d2891efe?s=128&d=identicon&r=PG&f=1", "display_name": "moose", "link": "https://stackoverflow.com/users/11761948/moose"}, "edited": false, "score": 0, "creation_date": 1565227132, "post_id": 57403623, "comment_id": 101289531, "body": "The code almost works, but firefox is blocking the script: <a href=\"https://i.imgur.com/ewByHOj.png\" rel=\"nofollow noreferrer\">i.imgur.com/ewByHOj.png</a>"}, {"owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "reply_to_user": {"reputation": 27, "user_id": 11761948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98556e052f0ae74c2e3589d0d2891efe?s=128&d=identicon&r=PG&f=1", "display_name": "moose", "link": "https://stackoverflow.com/users/11761948/moose"}, "edited": false, "score": 0, "creation_date": 1565235853, "post_id": 57403623, "comment_id": 101291013, "body": "That error <code>load denied by X-frame-Options</code> is because google (not fire fox) blocks it&#39;s site from being loaded in <code>iFrames</code> which is part of StackSnippets. If you host this code outside of an <code>iFrame</code> it will be fine. You can&#39;t over ride the hots X-frame-Options."}], "tags": [], "owner": {"reputation": 16793, "user_id": 4665, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/8f83c3e22eab30856c803b1d96e1a04f?s=128&d=identicon&r=PG", "display_name": "Jon P", "link": "https://stackoverflow.com/users/4665/jon-p"}, "is_accepted": true, "score": 0, "last_activity_date": 1565223005, "last_edit_date": 1565223005, "creation_date": 1565222702, "answer_id": 57403623, "question_id": 57403058, "link": "https://stackoverflow.com/questions/57403058/how-to-make-dynamic-web-search-bar-using-html-and-js/57403623#57403623", "title": "How to Make Dynamic Web Search Bar Using HTML and JS", "body": "<p>First thing you need to fix is your radio buttons, the need to have a common name.</p>\n\n<p>Next put all form elements in the form and on form submit, grab the details an redirect</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const seData = [\r\n\r\n  {\r\n    name: \"Google\",\r\n    url: \"https://www.google.com/search?&amp;q=%s\"\r\n    //\"%s\" is substituted with the search terms \r\n  },\r\n  {\r\n    name: \"Yahoo\",\r\n    url: \"https://search.yahoo.com/search?p=%s&amp;fr=opensearch\"\r\n  },\r\n  {\r\n    name: \"Bing\",\r\n    url: \"https://www.bing.com/search?q=%s\"\r\n  }\r\n];\r\nfunction optionControls(seData) {\r\n //Note: name must be common to the radio buttons in a set. Use value to store the \"name\"\r\nreturn `\r\n&lt;label&gt;${seData.name}&lt;input type=\"radio\" id=\"${seData.name}Checkbox\" value=\"${seData.name}\" name=\"searchEngine\"&gt;&lt;/label&gt;\r\n`\r\n}\r\ndocument.getElementById(\"options\").innerHTML += \r\n`${seData.map(optionControls).join('')}`\r\n\r\n\r\n//Event handler for form submit\r\ndocument.getElementById(\"searchForm\").addEventListener(\"submit\", function(e){\r\n  //Get the selected radio button value\r\n  var eng = this.querySelector(\"[name=searchEngine]:checked\").value;\r\n  //Get the selected data\r\n  eng = seData.filter(se =&gt; se.name === eng)[0];\r\n  //UPdate the url details and redirect\r\n  window.location.href = eng.url.replace(\"%s\", document.getElementById(\"searchBar\").value);\r\n  //Stop the form from actually submitting\r\n  e.preventDefault();\r\n  return false;\r\n})</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!-- I\"ve put everything in the form --&gt;\r\n&lt;form id=\"searchForm\" method=\"GET\" action=\"\"&gt;\r\n&lt;input id=\"searchBar\" type=\"text\" placeholder=\"search the web..\"&gt;&lt;button id=\"go\"&gt;Go&lt;/button&gt;\r\n&lt;!-- New div to hold the radio buttons --&gt;\r\n&lt;div id=\"options\"&gt;&lt;/div&gt;\r\n&lt;/form&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 27, "user_id": 11761948, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/98556e052f0ae74c2e3589d0d2891efe?s=128&d=identicon&r=PG&f=1", "display_name": "moose", "link": "https://stackoverflow.com/users/11761948/moose"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1258, "favorite_count": 0, "closed_date": 1565394319, "accepted_answer_id": 57403623, "answer_count": 1, "score": -1, "last_activity_date": 1565287566, "creation_date": 1565217306, "last_edit_date": 1565287566, "question_id": 57403058, "link": "https://stackoverflow.com/questions/57403058/how-to-make-dynamic-web-search-bar-using-html-and-js", "closed_reason": "Needs more focus", "title": "How to Make Dynamic Web Search Bar Using HTML and JS", "body": "<p>I am trying to create a dynamic search bar that can search in places like Google, Bing, Yahoo, etc.</p>\n\n<p>I have already tried the code from this tutorial: <a href=\"https://youtu.be/AlNDsaZLBfQ\" rel=\"nofollow noreferrer\">https://youtu.be/AlNDsaZLBfQ</a>, but Firefox blocks that type of scripts so I decided to do an alternative, Javascript.</p>\n\n<p>This is where I've gotten so far:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;input id=\"searchBar\" type=\"text\" placeholder=\"search the web..\"&gt;&lt;button id=\"go\"&gt;Go&lt;/button&gt;\r\n&lt;form id=\"options\" action=\"\"&gt;&lt;/form&gt;\r\n&lt;script&gt;\r\nconst seData = [\r\n\r\n  {\r\n    name: \"Google\",\r\n    url: \"https://www.google.com/search?&amp;q=%s\"\r\n    //\"%s\" is substituted with the search terms \r\n  },\r\n  {\r\n    name: \"Yahoo\",\r\n    url: \"https://search.yahoo.com/search?p=%s&amp;fr=opensearch\"\r\n  },\r\n  {\r\n    name: \"Bing\",\r\n    url: \"https://www.bing.com/search?q=%s\"\r\n  }\r\n];\r\nfunction optionControls(seData) {\r\nreturn `\r\n&lt;label&gt;${seData.name}&lt;input type=\"radio\" id=\"${seData.name}Checkbox\" name=\"searchEngine\"&gt;&lt;/label&gt;\r\n`\r\n}\r\ndocument.getElementById(\"options\").innerHTML = \r\n`${seData.map(optionControls).join('')}`\r\n\r\n\r\n\r\n&lt;/script&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>What I want is a page with an input box, radio buttons, and a submit button which, when clicked, will redirect the user to the selected search engine results page.</p>\n"}, {"tags": ["javascript", "arrays", "object"], "comments": [{"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 6, "creation_date": 1565217760, "post_id": 57403055, "comment_id": 101287710, "body": "Can you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and show what <code>DataPiePie</code> is, or at least a usable snippet? It&#39;s not really clear what this code is supposed to do, even with expected output (which is nice). Consider using recursion to replace something like <code>case 3: DataPiePie[i][&#39;children&#39;][&#39;children&#39;][&#39;children&#39;][&#39;children&#39;&zwnj;&#8203;]</code>, which should raise a red flag."}, {"owner": {"reputation": 967, "user_id": 994322, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/75f78ebca089b36c0f2e1c06f893ddfc?s=128&d=identicon&r=PG", "display_name": "Niche", "link": "https://stackoverflow.com/users/994322/niche"}, "edited": false, "score": 4, "creation_date": 1565218457, "post_id": 57403055, "comment_id": 101287858, "body": "I know it&#39;s not the issue, but: consider using <a href=\"https://stackoverflow.com/questions/tagged/javascript\">javascript</a> standard notation vor variable naming. Variable names start with lowercase letters and class names start with uppercase letters."}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1565219603, "post_id": 57403055, "comment_id": 101288068, "body": "You don&#39;t seem to define almost any of the variables you are using here, and you seem to reset the <code>LowChildren</code> to a length of 0 after assigning them (and you assign the reference, instead of a copy). My huge problem with this code is that there seems to be no logic to this thing (your <code>switch (j)</code>) seems to be a hack to push things at the &quot;right&quot; place in your output object but I really doubt the read-ability, maintainability of this code. Also, mind sharing any data for your intermediary variables?"}, {"owner": {"reputation": 1, "user_id": 3117382, "user_type": "registered", "profile_image": "https://graph.facebook.com/645546318/picture?type=large", "display_name": "Dany Boy", "link": "https://stackoverflow.com/users/3117382/dany-boy"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1565220930, "post_id": 57403055, "comment_id": 101288336, "body": "@Icepickle  I thought I might be assigning the &#39;LowChildren&#39; as a reference (I will try &#39;.slice(0)&#39; to fix that; somehow did not think of using slice until you raised it). I think this will turn out to be correct answer; will test and let you know."}, {"owner": {"reputation": 1, "user_id": 3117382, "user_type": "registered", "profile_image": "https://graph.facebook.com/645546318/picture?type=large", "display_name": "Dany Boy", "link": "https://stackoverflow.com/users/3117382/dany-boy"}, "reply_to_user": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1565220946, "post_id": 57403055, "comment_id": 101288342, "body": "Thanks @ggorlen for the advice on recursion, I actually could not quite figure how to drill into an infinite levels of children (and as the output of this is a donut within donut chart and can&#39;t fit more than 5 I fell back on the switch statement); but if you can point me in the right direction it would help me greatly :-)"}, {"owner": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1565221188, "post_id": 57403055, "comment_id": 101288385, "body": "@DanyBoy the next children are always the children of the current one ;)"}, {"owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "edited": false, "score": 0, "creation_date": 1565221382, "post_id": 57403055, "comment_id": 101288430, "body": "@DanyBoy please supply a complete example. Do one with the code snippet thingy that SO has, and see to that it runs (that way you know you have given us all the info we need). Like what is <code>NumberOfPies</code> and <code>UsedUpRows2</code>?"}, {"owner": {"reputation": 1, "user_id": 3117382, "user_type": "registered", "profile_image": "https://graph.facebook.com/645546318/picture?type=large", "display_name": "Dany Boy", "link": "https://stackoverflow.com/users/3117382/dany-boy"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1565221600, "post_id": 57403055, "comment_id": 101288474, "body": "I have just changed the reference to the array as suggested by @Icepickle; to a Array.slice (0) and tah tah; everything works I wish I had asked earlier, I have spent over 8 hours on this..."}, {"owner": {"reputation": 1, "user_id": 3117382, "user_type": "registered", "profile_image": "https://graph.facebook.com/645546318/picture?type=large", "display_name": "Dany Boy", "link": "https://stackoverflow.com/users/3117382/dany-boy"}, "reply_to_user": {"reputation": 11994, "user_id": 3231537, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/buUum.jpg?s=128&g=1", "display_name": "Icepickle", "link": "https://stackoverflow.com/users/3231537/icepickle"}, "edited": false, "score": 0, "creation_date": 1565221780, "post_id": 57403055, "comment_id": 101288513, "body": "Thanks @Icepickle, I think I understand, something like this (I am confident the below would not work as is, it&#39;s just to confirm I understand the general direction): &#39; tempObject = object; for(i = 0; i&lt;levels; i++){tempObject = tempObject.child} DO WHAT NEEDED TO tempObject &#39;"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565223903, "post_id": 57403055, "comment_id": 101288944, "body": "Instead of using <code>slice()</code> to copy it, use <code>LowChildren = [];</code> to empty it instead of <code>LowChildren.length = 0;</code>"}], "owner": {"reputation": 1, "user_id": 3117382, "user_type": "registered", "profile_image": "https://graph.facebook.com/645546318/picture?type=large", "display_name": "Dany Boy", "link": "https://stackoverflow.com/users/3117382/dany-boy"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565221243, "creation_date": 1565217287, "last_edit_date": 1565221243, "question_id": 57403055, "link": "https://stackoverflow.com/questions/57403055/why-trying-to-insert-an-object-into-an-array-within-a-for-loop-results-in-an-emp", "title": "Why trying to insert an object into an array within a for loop results in an empty object?", "body": "<p>Although I have been using Javascript for a very long time, I am self-tought; so I guess I have some pretty big weak spots, I am happy to hear about them :-).</p>\n\n<p>I am manipulating data to provide an array of objects with arrays within them to create data visualisations; but as I go through various loops I find that inserting objects into arrays is not working as expected</p>\n\n<p>I have tried both using <code>object[descr]</code> and <code>object.descr</code> and the object appears correct in the console, but when I push it into the empty array it appears as just <code>{}</code></p>\n\n<p>There are a number of counters (more than just the <code>for</code> loop ones) as these match with two other arrays (<code>TransArray</code> is a largish array of strings and values that should populate <code>DataPiePie</code> which is initially populated like this:</p>\n\n<pre><code>[{name:\"O\", value:\"30\"},{name:\"A\", value:\"60\"},{name:\"E\", value:\"10\"}]\n</code></pre>\n\n<p>I am trying to insert children into each of the objects (which will then have children of their own up to </p>\n\n<pre><code>for (i = 0; i &lt; DataPiePie.length; i++) { //for each core pie series\n  iTransCol = i + 1;\n  for (j = 0; j &lt; NumberOfPies; j++) { //for each level of pie after the core\n    jTransArraySer = j * 2 + 2;\n    jTransArrayVal = j * 2 + 3;\n    if (i == 0) {\n      rangelow = 1\n    } else {\n      rangelow = UsedUpRows2[i - 1][j] + 1\n    }; //  StartStep = UsedUpRows2[i][j] - rangelow;\n    EndStep = UsedUpRows2[i][j]\n    for (z = rangelow; z &lt; EndStep + 1; z++) {\n      var ChildrenObj = {};\n      ChildrenObj = {\n        name: TransArray[jTransArraySer][z],\n        value: 5\n      };\n      LowChildren.push(ChildrenObj);\n    }\n    switch (j) {\n      case 0:\n        DataPiePie[i]['children'] = LowChildren;\n        break;\n      case 1:\n        DataPiePie[i]['children']['children'] = LowChildren;\n        break;\n      case 2:\n        DataPiePie[i]['children']['children']['children'] = LowChildren;\n        break;\n      case 3:\n        DataPiePie[i]['children']['children']['children']['children'] = LowChildren;\n        break;\n    }\n    LowChildren.length = 0;\n  }\n\n}\n</code></pre>\n\n<p>I want this:</p>\n\n<pre><code>[{name: 'O', value: 30, \nchildren: [\n    {name: 'X', value: 30, \n    children: [\n        {name: '1',value: 18, \n        children:[\n            {name: 'Z', value: 18,}, {name: '2',value: 12,}\n        ]}\n    ]}\n]},\n</code></pre>\n\n<p>...</p>\n\n<p>I get:</p>\n\n<pre><code>[{{name: 'O', value: 30, children:[{children:[{children:[{children:[{}]}]}]}]\n</code></pre>\n\n<p>Note: I get object children appear in <code>LowChildren</code> (empty series of objects), which was really unexpected for me... I fear there might be two problems at play here: how I insert the object into the array <code>LowChildren</code> and the switch statement</p>\n"}, {"tags": ["javascript", "arrays", "node.js", "json", "object"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 3, "creation_date": 1565217374, "post_id": 57403052, "comment_id": 101287611, "body": "That&#39;s an Object, not a JSON Object. There&#39;s no such thing as a JSON Object. JSON is <i>text</i>."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10294268"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565217483, "post_id": 57403052, "comment_id": 101287639, "body": "I&#39;m new in this and I don&#39;t know a lot about it, sorry."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 2, "creation_date": 1565217542, "post_id": 57403052, "comment_id": 101287654, "body": "No problem, but this is a typical w3schools error. If you&#39;re using them, don&#39;t."}, {"owner": {"user_type": "does_not_exist", "display_name": "user10294268"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565218055, "post_id": 57403052, "comment_id": 101287779, "body": "oh yeah, I was browsing that site :)"}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1565221881, "post_id": 57403052, "comment_id": 101288530, "body": "In the future, it&#39;s a good idea to post the code that you tried as a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Asking &quot;is there a way to do it&quot;, the answer is 99.9% &quot;Yes&quot;, which you know to be the case, so you&#39;re really asking &quot;give me the code&quot;, which is basically <a href=\"https://stackoverflow.com/help/on-topic\">off-topic</a>. In this case, the situation is pretty trivial, so folks pretty much pop out the answer and everyone moves on, but it should be said nonetheless."}], "answers": [{"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10294268"}, "edited": false, "score": 0, "creation_date": 1565217936, "post_id": 57403066, "comment_id": 101287752, "body": "I got an error: (node:2117) UnhandledPromiseRejectionWarning: TypeError: Object.fromEntries is not a function"}, {"owner": {"reputation": 1476, "user_id": 2863964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGwdJ.jpg?s=128&g=1", "display_name": "Ramaraja Ramanujan", "link": "https://stackoverflow.com/users/2863964/ramaraja-ramanujan"}, "edited": false, "score": 1, "creation_date": 1565218014, "post_id": 57403066, "comment_id": 101287769, "body": "Ah! Since it&#39;s an ES10 feature it may not be available in your version of Node. I have updated the answer to installing a shim to make it usable. Or you can use <code>reduce</code> as suggested by Jack Bashford in his answer"}, {"owner": {"user_type": "does_not_exist", "display_name": "user10294268"}, "edited": false, "score": 0, "creation_date": 1565218209, "post_id": 57403066, "comment_id": 101287806, "body": "Oh, so that&#39;s why."}, {"owner": {"reputation": 1476, "user_id": 2863964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGwdJ.jpg?s=128&g=1", "display_name": "Ramaraja Ramanujan", "link": "https://stackoverflow.com/users/2863964/ramaraja-ramanujan"}, "edited": false, "score": 1, "creation_date": 1565218376, "post_id": 57403066, "comment_id": 101287842, "body": "@Dj-Gamer I have included a Runkit link to show it working in Node using that shim mentioned in my answer. Hopefully, the ES10 features ship out soon :)"}], "tags": [], "owner": {"reputation": 1476, "user_id": 2863964, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/dGwdJ.jpg?s=128&g=1", "display_name": "Ramaraja Ramanujan", "link": "https://stackoverflow.com/users/2863964/ramaraja-ramanujan"}, "is_accepted": false, "score": 0, "last_activity_date": 1565218313, "last_edit_date": 1565218313, "creation_date": 1565217372, "answer_id": 57403066, "question_id": 57403052, "link": "https://stackoverflow.com/questions/57403052/how-to-convert-this-type-of-arrays-into-a-json-object/57403066#57403066", "title": "How to convert this type of arrays into a json object?", "body": "<p>You can go ahead by using the ES2019 feature <code>Object.fromEntries(...)</code>,</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const array=[ [ '560134275538747403', 39953 ],\r\n  [ '411510958020624384', 36164 ],\r\n  [ '468512396948930576', 31762 ],\r\n  [ '482286641982078977', 29434 ],\r\n  [ '249892869127536641', 6295 ] ];\r\n\r\nconst object=Object.fromEntries(array);\r\n\r\nconsole.log(object);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Suppose if it isn't supported in Node. Then you can use it after you install a shim of it from npm, <a href=\"https://www.npmjs.com/package/object.fromentries\" rel=\"nofollow noreferrer\">https://www.npmjs.com/package/object.fromentries</a></p>\n\n<p>Here is a Runkit link that shows it working using the shim in Node,\n <a href=\"https://runkit.com/embed/lkupsniraw2c\" rel=\"nofollow noreferrer\">https://runkit.com/embed/lkupsniraw2c</a></p>\n"}, {"comments": [{"owner": {"user_type": "does_not_exist", "display_name": "user10294268"}, "edited": false, "score": 0, "creation_date": 1565218083, "post_id": 57403072, "comment_id": 101287786, "body": "I got an error in the 1st one: (node:2117) UnhandledPromiseRejectionWarning: TypeError: Object.fromEntries is not a function."}, {"owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "reply_to_user": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1565220677, "post_id": 57403072, "comment_id": 101288285, "body": "Fixed @ggorlen."}], "tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": true, "score": 1, "last_activity_date": 1565220671, "last_edit_date": 1565220671, "creation_date": 1565217442, "answer_id": 57403072, "question_id": 57403052, "link": "https://stackoverflow.com/questions/57403052/how-to-convert-this-type-of-arrays-into-a-json-object/57403072#57403072", "title": "How to convert this type of arrays into a json object?", "body": "<p>Either use <code>Object.fromEntries</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr=[['560134275538747403',39953],['411510958020624384',36164],['468512396948930576',31762],['482286641982078977',29434],['249892869127536641',6295]];\r\n\r\nconst res = Object.fromEntries(arr);\r\n\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Or, as that's not widely supported, <code>reduce</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const arr=[['560134275538747403',39953],['411510958020624384',36164],['468512396948930576',31762],['482286641982078977',29434],['249892869127536641',6295]];\r\n\r\nconst res = arr.reduce((a, [k, v]) =&gt; (a[k] = v, a), {});\r\n\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10294268"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 203, "favorite_count": 0, "accepted_answer_id": 57403072, "answer_count": 2, "score": 0, "last_activity_date": 1565220671, "creation_date": 1565217257, "last_edit_date": 1565217544, "question_id": 57403052, "link": "https://stackoverflow.com/questions/57403052/how-to-convert-this-type-of-arrays-into-a-json-object", "title": "How to convert this type of arrays into a json object?", "body": "<p>I have this array:</p>\n\n<pre><code>[ [ '560134275538747403', 39953 ],\n  [ '411510958020624384', 36164 ],\n  [ '468512396948930576', 31762 ],\n  [ '482286641982078977', 29434 ],\n  [ '249892869127536641', 6295 ] ]\n</code></pre>\n\n<p>And I want to covert it into an object like this:</p>\n\n<pre><code>{\n\"560134275538747403\":39953,\n\"411510958020624384\":36164,\n\"468512396948930576\":31762,\n\"482286641982078977\":29434,\n\"249892869127536641\":6295\n}\n</code></pre>\n\n<p>Anyway to do that?\n~and thx</p>\n"}, {"tags": ["javascript", "jwt"], "comments": [{"owner": {"reputation": 1683, "user_id": 2090568, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/bgsft.jpg?s=128&g=1", "display_name": "Panup Pong", "link": "https://stackoverflow.com/users/2090568/panup-pong"}, "edited": false, "score": 0, "creation_date": 1565240800, "post_id": 57403050, "comment_id": 101292055, "body": "I want to know also. It happen only symmetric type"}], "answers": [{"tags": [], "owner": {"reputation": 11104, "user_id": 7329832, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96a4e398a7a3d75e8cffbc635860e01a?s=128&d=identicon&r=PG&f=1", "display_name": "jps", "link": "https://stackoverflow.com/users/7329832/jps"}, "is_accepted": true, "score": 6, "last_activity_date": 1565364450, "last_edit_date": 1565364450, "creation_date": 1565254747, "answer_id": 57408819, "question_id": 57403050, "link": "https://stackoverflow.com/questions/57403050/signing-jwt-do-i-do-it-wrong/57408819#57408819", "title": "Signing JWT - do I do it wrong?", "body": "<p>I wouldn't say you're doing it wrong, but you missed a small but important detail.\nThe result from <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a> is correct and the <strong>hash</strong> you calculate is also correct. But the <strong>signature</strong> you create with your hash is not correct.</p>\n\n<p>The hash you calculate with <code>sha256.hmac(secret, unsigned)</code> is a large number but the return value of the function is a hexadecimal string representation of that large number. For the signature you need to base64url encode the original number instead of it's string representation.</p>\n\n<p>I modified your code, so that it encodes the hash value directly to base64url (node.js version):</p>\n\n<pre><code>const JWT = {\n    encode(header, payload, secret) {\n        const unsigned = [base64url(header), base64url(payload)].join('.');\n        const hash  = sha256.hmac(secret, unsigned);\n        console.log(hash);        \n        var signature = new Buffer.from(hash, 'hex').toString('base64').replace(/\\+/g,'-').replace(/\\=+$/m,'');\n\n        return [unsigned, signature].join('.');\n    }\n};\n</code></pre>\n\n<p>or, if you don't use node.js, you can use this instead (as suggested by Robo Robok):</p>\n\n<pre><code>const JWT = {\n    encode(header, payload, secret) {\n        const unsigned = [base64url(header), base64url(payload)].join('.');\n\n        return [unsigned, base64url(sha256.hmac(secret, unsigned).replace(/\\w{2}/g, byte =&gt; String.fromCharCode(parseInt(byte, 16))))].join('.');\n    }\n};\n</code></pre>\n\n<p>The result is a token, which is identical to the one created with <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a>:</p>\n\n<blockquote>\n  <p>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.MTIz.eOUfxRjWs-0bk03alQQfMQN-b97aSuJ-RX5qXatFwbE</p>\n</blockquote>\n\n<p>See also <a href=\"https://stackoverflow.com/questions/50121763/how-to-manually-validate-a-jwt-signature-using-online-tools/50153299#50153299\">my answer here</a>, in which I explained the steps to compare the results from different tools.</p>\n"}], "owner": {"reputation": 15348, "user_id": 4403732, "user_type": "registered", "accept_rate": 43, "profile_image": "https://i.stack.imgur.com/oEs71.jpg?s=128&g=1", "display_name": "Robo Robok", "link": "https://stackoverflow.com/users/4403732/robo-robok"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 115, "favorite_count": 1, "accepted_answer_id": 57408819, "answer_count": 1, "score": 4, "last_activity_date": 1565364450, "creation_date": 1565217245, "last_edit_date": 1565220797, "question_id": 57403050, "link": "https://stackoverflow.com/questions/57403050/signing-jwt-do-i-do-it-wrong", "title": "Signing JWT - do I do it wrong?", "body": "<p>I'm trying to make a JWT generator in JavaScript for educational purposes. There is a <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a> tool to create and/or validate JWT.</p>\n\n<p>I'm struggling to get my results match the results from the validator. The problem is the signature.</p>\n\n<p>Here's my code:</p>\n\n<pre><code>function base64url(input) {\n    return btoa(typeof input === 'string' ? input : JSON.stringify(input))\n        .replace(/=+$/, '')\n        .replace(/\\+/g, '-')\n        .replace(/\\//g, '_');\n}\n\nconst JWT = {\n    encode(header, payload, secret) {\n        const unsigned = [base64url(header), base64url(payload)].join('.');\n\n        return [unsigned, base64url(sha256.hmac(secret, unsigned))].join('.');\n    }\n};\n</code></pre>\n\n<p>To encrypt HMAC SHA256 I'm using <a href=\"https://github.com/emn178/js-sha256\" rel=\"nofollow noreferrer\">js-sha256</a> library with <code>sha256.hmac(key, value)</code> prototype. I compared it with online tools and it works fine.</p>\n\n<p>Now, I test it with the following code:</p>\n\n<pre><code>const jwt = JWT.encode(\n    {\n        alg: 'HS256',\n        typ: 'JWT'\n    },\n    123,\n    'xxx'\n);\n</code></pre>\n\n<p>The result I get is:</p>\n\n<blockquote>\n  <p>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.MTIz.NzhlNTFmYzUxOGQ2YjNlZDFiOTM0ZGRhOTUwNDFmMzEwMzdlNmZkZWRhNGFlMjdlNDU3ZTZhNWRhYjQ1YzFiMQ</p>\n</blockquote>\n\n<p>On the other hand, the result from <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a> is:</p>\n\n<blockquote>\n  <p>eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.MTIz.eOUfxRjWs-0bk03alQQfMQN-b97aSuJ-RX5qXatFwbE</p>\n</blockquote>\n\n<p>As you can see, the two out of three chunks of JWT are identical in my result and <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a> result. The signature is different and if you ask me, the signature generated by it is surprisingly short. That tool also marks my own JWT as invalid.</p>\n\n<p>I checked with online HMAC SHA256 generators and it looks like my code creates a valid signature, so:</p>\n\n<pre><code>base64url(sha256.hmac('xxx', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.MTIz')) ===\n'NzhlNTFmYzUxOGQ2YjNlZDFiOTM0ZGRhOTUwNDFmMzEwMzdlNmZkZWRhNGFlMjdlNDU3ZTZhNWRhYjQ1YzFiMQ'\n</code></pre>\n\n<p>Is <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">jwt.io</a> just broken or does it do it some other way?</p>\n"}, {"tags": ["javascript", "reactjs", "components", "react-dom"], "answers": [{"tags": [], "owner": {"reputation": 815, "user_id": 11793145, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c99c0db5c33cbc4233de927e2216051d?s=128&d=identicon&r=PG&f=1", "display_name": "Harmenx", "link": "https://stackoverflow.com/users/11793145/harmenx"}, "is_accepted": true, "score": 1, "last_activity_date": 1565217770, "creation_date": 1565217770, "answer_id": 57403109, "question_id": 57403008, "link": "https://stackoverflow.com/questions/57403008/how-to-create-and-delete-a-component-in-react/57403109#57403109", "title": "How to create and delete a component in react?", "body": "<p>You should be rendering it based on a boolean value i.e </p>\n\n<pre><code> { this.state.shouldIRender === true ?  &lt;Popup empresa={enterprise} /&gt; : null }\n</code></pre>\n\n<p>and in closeComponent</p>\n\n<pre><code>closeComponent() {\n   this.setState({\n    shouldIRender: false\n   })\n}\n</code></pre>\n"}], "owner": {"reputation": 37, "user_id": 11897621, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-lvL7iHyIpC8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfIh1de3ulP69IFXZCzufur4gU0ew/photo.jpg?sz=128", "display_name": "Edsen", "link": "https://stackoverflow.com/users/11897621/edsen"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 92, "favorite_count": 0, "accepted_answer_id": 57403109, "answer_count": 1, "score": 0, "last_activity_date": 1565219807, "creation_date": 1565216911, "last_edit_date": 1565219807, "question_id": 57403008, "link": "https://stackoverflow.com/questions/57403008/how-to-create-and-delete-a-component-in-react", "title": "How to create and delete a component in react?", "body": "<p>I have a problem creating and removing components in react with reactDom</p>\n\n<p>I'm trying to destroy the popup component from its class but it gives me a warning</p>\n\n<pre><code>// file: successfull.js\nmostrarPopUp(enterprise) {\n        let contenedor = document.getElementById('popup');\n        ReactDOM.render(&lt;Popup empresa={enterprise} /&gt;, contenedor);\n}\n\n// file: popup.js\ncloseComponent() {\n        console.log(\"Destruir componente\");\n        let element = document.getElementById(\"contenedorpop\");\n        let container = ReactDOM.findDOMNode(element);\n        ReactDOM.unmountComponentAtNode(container);\n}\n</code></pre>\n\n<p>i have the next warning</p>\n\n<pre><code>Warning: unmountComponentAtNode(): The node you're attempting to unmount was rendered by React and is not a top-level container. You may have accidentally passed in a React root node instead of its container.\n</code></pre>\n"}, {"tags": ["javascript", "feathersjs"], "answers": [{"comments": [{"owner": {"reputation": 1584, "user_id": 411006, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/64447bbe846dd442d46e38d7462ee6f6?s=128&d=identicon&r=PG", "display_name": "Ricko M", "link": "https://stackoverflow.com/users/411006/ricko-m"}, "edited": false, "score": 0, "creation_date": 1565289038, "post_id": 57417533, "comment_id": 101316998, "body": "Worked like charm! Really loving this framework. I have a slightly off topic question. What exactly does ...context.params do ?  When invoking Service A , from B, is there a subset of the context which needs to be passed to it? Cheers!"}, {"owner": {"reputation": 41727, "user_id": 120513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a14850281f19396480bdba4aab2d52ef?s=128&d=identicon&r=PG", "display_name": "Daff", "link": "https://stackoverflow.com/users/120513/daff"}, "reply_to_user": {"reputation": 1584, "user_id": 411006, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/64447bbe846dd442d46e38d7462ee6f6?s=128&d=identicon&r=PG", "display_name": "Ricko M", "link": "https://stackoverflow.com/users/411006/ricko-m"}, "edited": false, "score": 1, "creation_date": 1565315157, "post_id": 57417533, "comment_id": 101324201, "body": "It&#39;s the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax\" rel=\"nofollow noreferrer\">JavaScript spread syntax</a>. It is usually a good idea to pass params along because it could contain important information like the current user or if it was an external call."}], "tags": [], "owner": {"reputation": 41727, "user_id": 120513, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/a14850281f19396480bdba4aab2d52ef?s=128&d=identicon&r=PG", "display_name": "Daff", "link": "https://stackoverflow.com/users/120513/daff"}, "is_accepted": true, "score": 1, "last_activity_date": 1565283768, "creation_date": 1565283768, "answer_id": 57417533, "question_id": 57402993, "link": "https://stackoverflow.com/questions/57402993/feathers-mongoose-get-by-custom-attribute-in-feathers-mongoose/57417533#57417533", "title": "Feathers-mongoose : Get by custom attribute in feathers-mongoose", "body": "<p>In a Feathers <a href=\"https://docs.feathersjs.com/api/hooks.html\" rel=\"nofollow noreferrer\">before hook</a> you can set <a href=\"https://docs.feathersjs.com/api/hooks.html#contextresult\" rel=\"nofollow noreferrer\">context.result</a> in which case the original database call will be skipped. So the flow is</p>\n\n<ul>\n<li>In a before <code>get</code> hook, try to find the message by name</li>\n<li>If it exists set <code>context.result</code> to what was found</li>\n<li>Otherwise do nothing which will return the original <code>get</code> by id</li>\n</ul>\n\n<p>This is how it looks:</p>\n\n<pre><code>async context =&gt; {\n  const messages = context.service.find({\n    ...context.params,\n    query: {\n      $limit: 1,\n      name: context.id\n    }\n  });\n\n  if (messages.total &gt; 0) {\n    context.result = messages.data[0];\n  }\n\n  return context;\n}\n</code></pre>\n\n<p>How to create custom errors and set the error code is documented in the <a href=\"https://docs.feathersjs.com/api/errors.html\" rel=\"nofollow noreferrer\">Errors API</a>.</p>\n"}], "owner": {"reputation": 1584, "user_id": 411006, "user_type": "registered", "accept_rate": 82, "profile_image": "https://www.gravatar.com/avatar/64447bbe846dd442d46e38d7462ee6f6?s=128&d=identicon&r=PG", "display_name": "Ricko M", "link": "https://stackoverflow.com/users/411006/ricko-m"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 213, "favorite_count": 0, "accepted_answer_id": 57417533, "answer_count": 1, "score": 0, "last_activity_date": 1565283768, "creation_date": 1565216824, "question_id": 57402993, "link": "https://stackoverflow.com/questions/57402993/feathers-mongoose-get-by-custom-attribute-in-feathers-mongoose", "title": "Feathers-mongoose : Get by custom attribute in feathers-mongoose", "body": "<p>I have a very basic feathers service which stores data in mongoose using the feathers-mongoose package. The issue is with the get functionality. My model is as follows:</p>\n\n<pre><code>module.exports = function (app) {\n  const mongooseClient = app.get('mongooseClient');\n  const { Schema } = mongooseClient;\n  const messages = new Schema({\n    message: { type: String, required: true }\n  }, {\n    timestamps: true\n  });\n\n  return mongooseClient.model('messages', messages);\n};\n</code></pre>\n\n<p>When the a user runs a GET command :</p>\n\n<pre><code>curl http://localhost:3030/messages/test\n</code></pre>\n\n<p>I have the following requirements</p>\n\n<ol>\n<li>This essentially tries to convert test to ObjectID.  What i would \nlike it to do is to run a query against the message attribute \n{message : \"test\"} , i am not sure how i can achieve this. There is \nnot enough documentation for to understand to write or change this\nin the hooks. Can some one please help</li>\n<li>I want to return a custom error code (http) when a row is not found or does not match some of my criterias. How can i achive this?</li>\n</ol>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "function", "scope"], "answers": [{"tags": [], "owner": {"reputation": 3958, "user_id": 11081214, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0b53d0cefd959372f49e84b943a1187f?s=128&d=identicon&r=PG&f=1", "display_name": "Snow", "link": "https://stackoverflow.com/users/11081214/snow"}, "is_accepted": false, "score": 0, "last_activity_date": 1565216884, "creation_date": 1565216884, "answer_id": 57403002, "question_id": 57402982, "link": "https://stackoverflow.com/questions/57402982/define-global-function-inside-anonymous-closure-function/57403002#57403002", "title": "Define global function inside anonymous closure function", "body": "<p>Assign the function to <code>window</code>:</p>\n\n<pre><code>(function(){\n\n var private = 'private msg';\n\n function myprivate() {\n   alert(private)\n }\n\n window.wanttobeglobal = function wanttobeglobal() {\n   alert(global) \n }\n\n})();\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": true, "score": 0, "last_activity_date": 1565216893, "creation_date": 1565216893, "answer_id": 57403006, "question_id": 57402982, "link": "https://stackoverflow.com/questions/57402982/define-global-function-inside-anonymous-closure-function/57403006#57403006", "title": "Define global function inside anonymous closure function", "body": "<p>Very bad practice, but the only way short of declaring the variable outside the initial closure is to implicitly create a global variable.</p>\n\n<pre><code>wanttobeglobal = function() {\n  alert(global);\n};\n</code></pre>\n\n<p>The better way, if you can modify code outside of the closure, is with <code>var</code>:</p>\n\n<pre><code>var wanttobeglobal;\n\n(function() {\n  // ...\n  wanttobeglobal = function() {\n    alert(global);\n  };\n})();\n</code></pre>\n"}], "owner": {"reputation": 3, "user_id": 11878296, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/fde718b370159651fe0d48ba5652fd9c?s=128&d=identicon&r=PG&f=1", "display_name": "newbie", "link": "https://stackoverflow.com/users/11878296/newbie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 24, "favorite_count": 0, "accepted_answer_id": 57403006, "answer_count": 2, "score": 0, "last_activity_date": 1565216893, "creation_date": 1565216701, "question_id": 57402982, "link": "https://stackoverflow.com/questions/57402982/define-global-function-inside-anonymous-closure-function", "title": "Define global function inside anonymous closure function", "body": "<p>Is there any way to define within closure a global function? I would like to define one global function so I can call it with onclick event.</p>\n\n<pre><code>(function(){\n\n var private = 'private msg';\n\n function myprivate() {\n   alert(private)\n }\n\n function wanttobeglobal() {\n   alert(global) \n }\n\n})();\n</code></pre>\n\n<p>Is there any way?</p>\n"}, {"tags": ["javascript", "vue.js"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565216862, "post_id": 57402946, "comment_id": 101287500, "body": "That script has a missing closing <code>}</code> at the end. When I add that, it works as expected. Without it, it won&#39;t compile."}, {"owner": {"reputation": 55, "user_id": 11898746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78f4d1a231a1b05d6e27f386bd46bb60?s=128&d=identicon&r=PG&f=1", "display_name": "SadlerJ", "link": "https://stackoverflow.com/users/11898746/sadlerj"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1565217807, "post_id": 57402946, "comment_id": 101287721, "body": "Thank you for your help, it now works."}], "answers": [{"comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565217854, "post_id": 57403079, "comment_id": 101287735, "body": "Please don&#39;t answer typo questions; the OP can&#39;t delete the question if there&#39;s an answer so it falls to the mods now. This is why I posted a comment."}, {"owner": {"reputation": 217, "user_id": 2092969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad20ea263b745ae2c34a402655e1e22d?s=128&d=identicon&r=PG", "display_name": "Vinicius Cainelli", "link": "https://stackoverflow.com/users/2092969/vinicius-cainelli"}, "edited": false, "score": 0, "creation_date": 1565218250, "post_id": 57403079, "comment_id": 101287812, "body": "Sorry, I didn&#39;t know."}], "tags": [], "owner": {"reputation": 217, "user_id": 2092969, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ad20ea263b745ae2c34a402655e1e22d?s=128&d=identicon&r=PG", "display_name": "Vinicius Cainelli", "link": "https://stackoverflow.com/users/2092969/vinicius-cainelli"}, "is_accepted": true, "score": 1, "last_activity_date": 1565217469, "creation_date": 1565217469, "answer_id": 57403079, "question_id": 57402946, "link": "https://stackoverflow.com/questions/57402946/how-to-fix-t-onsubmit-is-not-a-function-error-which-is-returned-when-the-form-i/57403079#57403079", "title": "How to fix t.onSubmit is not a function error, which is returned when the form is submitted?", "body": "<p>as a Chris G mentioned, you forgot to close the onSubmit bracket, try this code:</p>\n\n<pre><code>export default {\n  name: \"Nav\",\n  data() {\n    return {\n      pupilId: \"\"\n    };\n  },\n  methods: {\n    onSubmit: function () {\n      this.$router.push({ path: `/student/${this.searchStudent}` });\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 55, "user_id": 11898746, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/78f4d1a231a1b05d6e27f386bd46bb60?s=128&d=identicon&r=PG&f=1", "display_name": "SadlerJ", "link": "https://stackoverflow.com/users/11898746/sadlerj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 290, "favorite_count": 0, "accepted_answer_id": 57403079, "answer_count": 1, "score": 2, "last_activity_date": 1565217469, "creation_date": 1565216405, "question_id": 57402946, "link": "https://stackoverflow.com/questions/57402946/how-to-fix-t-onsubmit-is-not-a-function-error-which-is-returned-when-the-form-i", "title": "How to fix t.onSubmit is not a function error, which is returned when the form is submitted?", "body": "<p>I have a form that when you submit it, it is supposed to call a method function called onSubmit. However, instead of calling the function it returns an error: <strong>TypeError: \"t.onSubmit is not a function\"</strong>.</p>\n\n<p>I've looked up this error and tried to fix it using answers to some similar problems that people have had, however unfortunatly that didn't work. I've tried re-naming all of my functions to see if that the name I called my function was affecting it however to no success.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>  &lt;template&gt;\n    &lt;div id=\"main\"&gt;\n      &lt;b-nav-form @submit.prevent=\"onSubmit\"&gt;\n        &lt;b-form-input\n          size=\"sm\"\n          v-model=\"pupilId\"\n          class=\"mr-sm-2\"\n          placeholder=\"Search for a student\"\n        &gt;&lt;/b-form-input&gt;\n        &lt;b-button size=\"sm\" class=\"my-2 my-sm-0\" type=\"submit\"&gt;Search&lt;/b-button&gt;\n      &lt;/b-nav-form&gt;\n    &lt;/div&gt;\n  &lt;/template&gt;\n\n&lt;script&gt;\n\nexport default {\n  name: \"Nav\",\n  data() {\n    return {\n      pupilId: \"\"\n    };\n  },\n  methods: { \n  onSubmit: function() {\n    this.$router.push({ path: `/student/${this.searchStudent}` });\n  }\n};\n&lt;/script&gt;\n\n</code></pre>\n\n<p>When this form is submitted, it is supposed to send the user to another page, however instead of doing that it returns the error specified above.</p>\n\n<p>Thank you in advance for any suggestions</p>\n"}, {"tags": ["javascript", "c#", "bootstrap-4"], "answers": [{"comments": [{"owner": {"reputation": 37, "user_id": 10931756, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oBKznnJSRQo/AAAAAAAAAAI/AAAAAAAAABo/AwsjMjRrzcQ/photo.jpg?sz=128", "display_name": "John Nann", "link": "https://stackoverflow.com/users/10931756/john-nann"}, "edited": false, "score": 0, "creation_date": 1565292086, "post_id": 57407324, "comment_id": 101318185, "body": "Thanks, I got this working with the javascript you provided. As far as the <code>Viewbag</code> selection, this is a working codebase that I did not develop. I may look into switching this over to using view models instead. Is there any major downsides to <code>Viewbag</code>, or why do you not recommend using it?"}, {"owner": {"reputation": 16037, "user_id": 2410655, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aBhdJ.jpg?s=128&g=1", "display_name": "David Liang", "link": "https://stackoverflow.com/users/2410655/david-liang"}, "reply_to_user": {"reputation": 37, "user_id": 10931756, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oBKznnJSRQo/AAAAAAAAAAI/AAAAAAAAABo/AwsjMjRrzcQ/photo.jpg?sz=128", "display_name": "John Nann", "link": "https://stackoverflow.com/users/10931756/john-nann"}, "edited": false, "score": 0, "creation_date": 1565294844, "post_id": 57407324, "comment_id": 101319286, "body": "@JohnNann: please see this: <a href=\"https://softwareengineering.stackexchange.com/questions/337789/when-where-and-how-to-use-viewbag\" title=\"when where and how to use viewbag\">softwareengineering.stackexchange.com/questions/337789/&hellip;</a>. My point was: since you&#39;re passing a view model to the view already, you may as well just define what you need there in the view model. But year since this is not your codebase I guess you might have to live with it :p"}], "tags": [], "owner": {"reputation": 16037, "user_id": 2410655, "user_type": "registered", "accept_rate": 33, "profile_image": "https://i.stack.imgur.com/aBhdJ.jpg?s=128&g=1", "display_name": "David Liang", "link": "https://stackoverflow.com/users/2410655/david-liang"}, "is_accepted": true, "score": 1, "last_activity_date": 1565249296, "creation_date": 1565249296, "answer_id": 57407324, "question_id": 57402942, "link": "https://stackoverflow.com/questions/57402942/adding-select-all-to-bootstrap-multiselect-form-list/57407324#57407324", "title": "Adding &#39;Select All&#39; to Bootstrap Multiselect form/list", "body": "<p>On each multi-select you build using tag helpers, you can have an option with a class called <code>.select-all</code>, and then you can write some simple <code>javascript</code> to add the behaviors it needs: selecting all options except itself on click.</p>\n\n<p>But before I show you the <code>javascript</code> code, I would strongly suggest not to use <code>ViewBag</code> to bring the list of available products to the view to build the dropdown options. You're already using a view model. Why not just define another property there to contain that instead?</p>\n\n<pre class=\"lang-cs prettyprint-override\"><code>// View model\npublic class DashboardViewModel\n{\n    [Display(Name = \"Products\")]\n    public int[] SelectedProducts { get; set; }\n\n    public IDictionary&lt;int, string&gt; AvailableProducts { get; set; }\n}\n\n// Controller\npublic IActionResult Index()\n{\n    var vm = new DashboardViewModel\n    {\n        // Simulate getting data from persistence storage to form the view model\n        AvailableProducts = new Dictionary&lt;int, string&gt;()\n        {\n            { 1, \"Cabinet\" },\n            { 2, \"Countertop\" },\n            { 3, \"Sink\" },\n            { 4, \"Faucet\" },\n            { 5, \"Flooring\" },\n            { 6, \"Tile\" }\n        }\n    };\n\n    return View(vm);\n}\n</code></pre>\n\n<pre><code>@*View*@\n@model DashboardViewModel\n\n&lt;div class=\"form-group\"&gt;\n    &lt;label asp-for=\"SelectedProducts\"&gt;&lt;/label&gt;\n    &lt;select asp-for=\"SelectedProducts\" class=\"form-control\" \n        asp-items=\"new MultiSelectList(Model.AvailableProducts, \"Key\", \"Value\")\" size=\"10\"&gt;\n        &lt;option class=\"select-all\"&gt;- select all -&lt;/option&gt;\n    &lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>Then finally you can write some simple <code>javascript</code> for the click event of the <code>.select-all</code> option:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;script type=\"text/javascript\"&gt;\n    $(function() {\n        $('select[multiple=\"multiple\"]').on('click', 'option.select-all', function() {\n            let $selectAllOption = $(this),\n                $select = $(this).closest('select');\n\n            // Select all options\n            $('option', $select).prop('selected', true);\n\n            // De-select the select-all option\n            $selectAllOption.prop('selected', false);\n\n            return false;\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/dSTq6.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dSTq6.gif\" alt=\"enter image description here\"></a></p>\n"}], "owner": {"reputation": 37, "user_id": 10931756, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-oBKznnJSRQo/AAAAAAAAAAI/AAAAAAAAABo/AwsjMjRrzcQ/photo.jpg?sz=128", "display_name": "John Nann", "link": "https://stackoverflow.com/users/10931756/john-nann"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 434, "favorite_count": 0, "accepted_answer_id": 57407324, "answer_count": 1, "score": 1, "last_activity_date": 1565249296, "creation_date": 1565216374, "question_id": 57402942, "link": "https://stackoverflow.com/questions/57402942/adding-select-all-to-bootstrap-multiselect-form-list", "title": "Adding &#39;Select All&#39; to Bootstrap Multiselect form/list", "body": "<p>I have a .NET web application with several views that allow for me to select from database tables.</p>\n\n<p>I'm using Bootstrap 4.3, and have the list generated, but I need to add a 'Select All' option so that you don't have to individually click all of the values. </p>\n\n<p>Here's the section of the .cshtml file in question:</p>\n\n<pre><code>&lt;div class=\"form-group\"&gt;\n     &lt;label asp-for=\"Products\" class=\"control-label\"&gt;&lt;/label&gt;\n     &lt;select asp-for=\"Products\" class=\"form-control\" asp-items=\"ViewBag.AllProducts\" size=\"10\"&gt;&lt;/select&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>AllProducts is defined on one of my controllers and generates a list of products that is pulled from a model.</p>\n\n<p>Based on some similar answers I've read, I take it I need to write in a JS script to add on the 'Select All' option, but most of the examples I've seen deal with an option list that is defined here as opposed to with ViewBag. </p>\n\n<p>I tried something like this, but couldn't get it to work:</p>\n\n<pre><code>$(\".multiselect\", this.el).multiselect({\nincludeSelectAllOption: true\n});\n</code></pre>\n\n<p>Any advice? Trying to see if I'm heading in the right direction.</p>\n"}, {"tags": ["javascript", "arrays", "object"], "comments": [{"owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "edited": false, "score": 0, "creation_date": 1565216339, "post_id": 57402924, "comment_id": 101287371, "body": "It&#39;s an array of objects: group[1].name should work"}, {"owner": {"reputation": 8360, "user_id": 2103767, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/1d0b20ba537ec3d705cf87f48cd190d7?s=128&d=identicon&r=PG&f=1", "display_name": "bhantol", "link": "https://stackoverflow.com/users/2103767/bhantol"}, "edited": false, "score": 0, "creation_date": 1565216376, "post_id": 57402924, "comment_id": 101287380, "body": "Do &#39;console.log(group)&#39; just to make what group is"}, {"owner": {"reputation": 481, "user_id": 6713871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6d0cf46b08a63241386786e74ae4b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Rollins", "link": "https://stackoverflow.com/users/6713871/chris-rollins"}, "edited": false, "score": 1, "creation_date": 1565216391, "post_id": 57402924, "comment_id": 101287386, "body": "you are using an array as if it&#39;s an object which isn&#39;t good practice since array.prototype contributes some properties. this can lead to bugs if you frequently use arrays incorrectly like this. Use an object and if it still doesn&#39;t work ask again."}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1565216784, "post_id": 57402924, "comment_id": 101287477, "body": "Please post the actual output and the code you&#39;re working with instead of a picture of the console. Console emissions are implementation-dependent and often unclear."}, {"owner": {"reputation": 481, "user_id": 6713871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6d0cf46b08a63241386786e74ae4b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Rollins", "link": "https://stackoverflow.com/users/6713871/chris-rollins"}, "edited": false, "score": 0, "creation_date": 1565216864, "post_id": 57402924, "comment_id": 101287502, "body": "I was wondering how that console output could happen. It shows an empty array but  the expanded view shows properties. I&#39;m guessing that this array is being mutated by asynchronous functions so it has these properties at certain times but does not have them at other times..."}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1565216957, "post_id": 57402924, "comment_id": 101287527, "body": "Good guess, but it seems unclear until the code and actual data structure shows up. It looks like Chrome, but usually when you set properties on an array you see them as key-value pairs like <a href=\"https://stackoverflow.com/questions/56190829\">this</a>."}, {"owner": {"reputation": 481, "user_id": 6713871, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/c6d0cf46b08a63241386786e74ae4b1f?s=128&d=identicon&r=PG&f=1", "display_name": "Chris Rollins", "link": "https://stackoverflow.com/users/6713871/chris-rollins"}, "edited": false, "score": 1, "creation_date": 1565217337, "post_id": 57402924, "comment_id": 101287603, "body": "I have replicated this behavior in the console: <a href=\"https://puu.sh/E2vGp/ea79e4eafc.gif\" rel=\"nofollow noreferrer\">puu.sh/E2vGp/ea79e4eafc.gif</a> It&#39;s caused by mutating the array after displaying it, and then expanding it after mutating it."}, {"owner": {"reputation": 25637, "user_id": 6243352, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/715f60f9edc65642a6805752cfeebb27?s=128&d=identicon&r=PG&f=1", "display_name": "ggorlen", "link": "https://stackoverflow.com/users/6243352/ggorlen"}, "edited": false, "score": 0, "creation_date": 1565217934, "post_id": 57402924, "comment_id": 101287751, "body": "Nice. Even so, OP accepted a solution that made an assumption about an object as a child of the array, so it&#39;s all a total mystery as to how OP actually came to get this screenshot."}], "answers": [{"tags": [], "owner": {"reputation": 38349, "user_id": 10221765, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/0e762fef8d87381d5cbd58d851d1b816?s=128&d=identicon&r=PG&f=1", "display_name": "Jack Bashford", "link": "https://stackoverflow.com/users/10221765/jack-bashford"}, "is_accepted": true, "score": 0, "last_activity_date": 1565216572, "creation_date": 1565216572, "answer_id": 57402964, "question_id": 57402924, "link": "https://stackoverflow.com/questions/57402924/javascript-display-value-of-key-from-array/57402964#57402964", "title": "Javascript : Display value of key from array", "body": "<p>It's an array of objects - access the specific object first using <code>group[0]</code> then access the property you want with <code>group[0].name</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const group = [{ name: \"test01\" }];\r\n\r\nconst res = group[0].name;\r\n\r\nconsole.log(res);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 3074, "user_id": 7253451, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SIjsy.jpg?s=128&g=1", "display_name": "G.aziz", "link": "https://stackoverflow.com/users/7253451/g-aziz"}, "is_accepted": false, "score": 0, "last_activity_date": 1565216585, "creation_date": 1565216585, "answer_id": 57402967, "question_id": 57402924, "link": "https://stackoverflow.com/questions/57402924/javascript-display-value-of-key-from-array/57402967#57402967", "title": "Javascript : Display value of key from array", "body": "<p>Based on what you have you can call your propriety if it's an object or an array of objects.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const object = {\r\n  name: \"test1\",\r\n  group: \"c2\"\r\n}\r\n\r\nconsole.log(object.name)\r\n\r\nconst array = [{\r\n  name: \"test1\",\r\n  group: \"c2\"\r\n}]\r\n\r\nconsole.log(array[0].name)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 333, "user_id": 1377807, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/a5afd317c54b3df6c0246f68e5605fa6?s=128&d=identicon&r=PG", "display_name": "Yobogs", "link": "https://stackoverflow.com/users/1377807/yobogs"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 54, "favorite_count": 0, "accepted_answer_id": 57402964, "answer_count": 2, "score": 0, "last_activity_date": 1565216585, "creation_date": 1565216237, "last_edit_date": 1565216578, "question_id": 57402924, "link": "https://stackoverflow.com/questions/57402924/javascript-display-value-of-key-from-array", "title": "Javascript : Display value of key from array", "body": "<p>I have this array \"Group\":</p>\n\n<p><a href=\"https://i.stack.imgur.com/Uzg5v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Uzg5v.png\" alt=\"enter image description here\"></a></p>\n\n<p>i would like to have the value of name (test01) but i have undefined with console.log(group['name']), console.log(group[name]) or console.log(group.name).</p>\n\n<p>How i can display the value ?</p>\n\n<p>Thanks</p>\n"}, {"tags": ["javascript", "c#", "html", "angular", "angular-material"], "answers": [{"comments": [{"owner": {"reputation": 105, "user_id": 618668, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cba21c20e5ba4ac05f96bfaeb76158fc?s=128&d=identicon&r=PG", "display_name": "White Knight", "link": "https://stackoverflow.com/users/618668/white-knight"}, "edited": false, "score": 1, "creation_date": 1565217728, "post_id": 57403068, "comment_id": 101287703, "body": "yes i found that could be that the error, and that&#39;s it!!"}], "tags": [], "owner": {"reputation": 118, "user_id": 9450780, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-R5IyPXTFl78/AAAAAAAAAAI/AAAAAAAAHOk/ud5710S410Q/photo.jpg?sz=128", "display_name": "Jordi Serra", "link": "https://stackoverflow.com/users/9450780/jordi-serra"}, "is_accepted": true, "score": 1, "last_activity_date": 1565217407, "creation_date": 1565217407, "answer_id": 57403068, "question_id": 57402913, "link": "https://stackoverflow.com/questions/57402913/cannot-ready-property-length-of-undefined-trying-to-upload-file/57403068#57403068", "title": "Cannot ready property &#39;length&#39; of undefined trying to upload file", "body": "<p>I think that it's for this line:</p>\n\n<pre><code>{'Content-Type': undefined }\n</code></pre>\n\n<p>Or delete this line or put a generic \"type\", for example <em>application/octet-stream</em></p>\n\n<p>More information: <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types</a></p>\n"}], "owner": {"reputation": 105, "user_id": 618668, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/cba21c20e5ba4ac05f96bfaeb76158fc?s=128&d=identicon&r=PG", "display_name": "White Knight", "link": "https://stackoverflow.com/users/618668/white-knight"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "accepted_answer_id": 57403068, "answer_count": 1, "score": 0, "last_activity_date": 1565217407, "creation_date": 1565216176, "question_id": 57402913, "link": "https://stackoverflow.com/questions/57402913/cannot-ready-property-length-of-undefined-trying-to-upload-file", "title": "Cannot ready property &#39;length&#39; of undefined trying to upload file", "body": "<p>I'm trying to upload a file of whatever file extension. I'm uploading with a post, but when a run the function, it crash with an error: \n<strong>\"Cannot ready property 'length' of undefined \"</strong></p>\n\n<pre><code>upload(fileToUpload: File): Promise&lt;FileResponse[]&gt; {\n    const formData: FormData = new FormData();\n\n    formData.append('fileKey', fileToUpload, fileToUpload.name);\n    return this.http\n        .post&lt;FileResponse[]&gt;(this.baseUrl + this.urlUpload, formData, { headers: {'Content-Type': undefined }})\n        .toPromise().then((response) =&gt; {\n          console.log(response);\n          return response;\n        }).catch((e) =&gt; {\n          console.log(e);\n          return e;\n        });\n  }\n</code></pre>\n\n<p>This is my back end c#:</p>\n\n<pre><code>        [HttpPost]\n        [Route(\"upload\")]\n        [DisableFormValueModelBinding]\n        [RequestSizeLimit(104857600)]\n        public async Task&lt;IActionResult&gt; Upload()\n        {\n\n            var fileUploaded = await _fileService.UploadFile(FormOptions, reader);\n            return Json(new StandardResult&lt;List&lt;FileResponse&gt;&gt;(HttpStatusCode.Created, fileUploaded).Reply);\n        }\n</code></pre>\n\n<p>any solution to this?</p>\n"}, {"tags": ["javascript", "html", "css"], "comments": [{"owner": {"reputation": 3970, "user_id": 1499877, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pzBP3.jpg?s=128&g=1", "display_name": "WOUNDEDStevenJones", "link": "https://stackoverflow.com/users/1499877/woundedstevenjones"}, "edited": false, "score": 4, "creation_date": 1565215980, "post_id": 57402871, "comment_id": 101287291, "body": "Please edit this with a more specific question. It&#39;s not clear at all what is or isn&#39;t working right now, or what you&#39;re actually asking."}, {"owner": {"reputation": 143, "user_id": 7233263, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4c61e052006ff0b7ae35bae65e0150e?s=128&d=identicon&r=PG&f=1", "display_name": "heroZero", "link": "https://stackoverflow.com/users/7233263/herozero"}, "reply_to_user": {"reputation": 3970, "user_id": 1499877, "user_type": "registered", "accept_rate": 86, "profile_image": "https://i.stack.imgur.com/pzBP3.jpg?s=128&g=1", "display_name": "WOUNDEDStevenJones", "link": "https://stackoverflow.com/users/1499877/woundedstevenjones"}, "edited": false, "score": 0, "creation_date": 1565216421, "post_id": 57402871, "comment_id": 101287394, "body": "apologies @WOUNDEDStevenJones just edited OP"}, {"owner": {"reputation": 1592, "user_id": 618951, "user_type": "registered", "accept_rate": 94, "profile_image": "https://www.gravatar.com/avatar/b867e8993ce4bf8205315e4a2e45e418?s=128&d=identicon&r=PG", "display_name": "RisingSun", "link": "https://stackoverflow.com/users/618951/risingsun"}, "edited": false, "score": 1, "creation_date": 1565216526, "post_id": 57402871, "comment_id": 101287412, "body": "You will need to use CSS to achieve what you want. Perhaps enclose the text in a <code>div</code> or a <code>span</code> with classes and use CSS to style those."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 2, "creation_date": 1565216564, "post_id": 57402871, "comment_id": 101287422, "body": "Like this? <a href=\"https://jsfiddle.net/khrismuc/wmfb3xp6/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/wmfb3xp6</a>"}, {"owner": {"reputation": 143, "user_id": 7233263, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4c61e052006ff0b7ae35bae65e0150e?s=128&d=identicon&r=PG&f=1", "display_name": "heroZero", "link": "https://stackoverflow.com/users/7233263/herozero"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565217457, "post_id": 57402871, "comment_id": 101287634, "body": "That&#39;s it @ChrisG, much appreciated...am i ok to incorporate the CSS inline in the html?(newbie)"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1565217503, "post_id": 57402871, "comment_id": 101287644, "body": "Sure, just put it in a <code>&lt;style&gt;</code>."}, {"owner": {"reputation": 143, "user_id": 7233263, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4c61e052006ff0b7ae35bae65e0150e?s=128&d=identicon&r=PG&f=1", "display_name": "heroZero", "link": "https://stackoverflow.com/users/7233263/herozero"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565260353, "post_id": 57402871, "comment_id": 101301357, "body": "Thanks @ChrisG ..just updated op with a variation of original question."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565260565, "post_id": 57402871, "comment_id": 101301457, "body": "You&#39;re welcome, but why did you edit the solution into the question?"}, {"owner": {"reputation": 143, "user_id": 7233263, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4c61e052006ff0b7ae35bae65e0150e?s=128&d=identicon&r=PG&f=1", "display_name": "heroZero", "link": "https://stackoverflow.com/users/7233263/herozero"}, "edited": false, "score": 0, "creation_date": 1565260710, "post_id": 57402871, "comment_id": 101301541, "body": "DOH, Im not being very clear here. I updated the code as I&#39;ve changed the question slightly. Your code (thanks again) has the text appearing in the middle of the screen...but it seems to appear at the top of the screen...I would like it to appear in the centre of the screen..hope that makes sense?"}, {"owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "edited": false, "score": 0, "creation_date": 1565265959, "post_id": 57402871, "comment_id": 101304355, "body": "@paul did you have a look at my answer? It displays the text int the middle of the screen."}], "answers": [{"tags": [], "owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "is_accepted": false, "score": 2, "last_activity_date": 1565217676, "last_edit_date": 1565217676, "creation_date": 1565216951, "answer_id": 57403016, "question_id": 57402871, "link": "https://stackoverflow.com/questions/57402871/place-text-in-the-centre-and-middle-of-page/57403016#57403016", "title": "Place text in the centre and middle of page", "body": "<p>We need to use some tags instead of loose string so that we can style things. I think this should get you started:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const body = document.body;\r\nconst splittedText = [\r\n  \"This is line one\",\r\n  \"This is line two\",\r\n  \"This is line three\",\r\n  \"This is line four\"\r\n];\r\n\r\nlet clone = [...splittedText];\r\n\r\nsetInterval(function() {\r\n  const elSpan = document.createElement(\"span\");\r\n  const elBr = document.createElement(\"br\");\r\n  if (clone.length === 0) {\r\n    clone = [...splittedText];\r\n\r\n    let child = body.lastElementChild;\r\n\r\n    while (child) {\r\n      body.removeChild(child);\r\n      child = body.lastElementChild;\r\n    }\r\n  }\r\n  const text = clone.shift();\r\n\r\n  elSpan.innerHTML = text;\r\n  body.appendChild(elSpan);\r\n  body.appendChild(elBr);\r\n\r\n  if (text == \"\") {\r\n    body.appendChild(elBr);\r\n    clone.shift();\r\n  }\r\n}, 3000);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100vh;\r\n}\r\n\r\nspan {\r\n  font-size: 20px;\r\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 143, "user_id": 7233263, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/c4c61e052006ff0b7ae35bae65e0150e?s=128&d=identicon&r=PG&f=1", "display_name": "heroZero", "link": "https://stackoverflow.com/users/7233263/herozero"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565260543, "creation_date": 1565215824, "last_edit_date": 1565260543, "question_id": 57402871, "link": "https://stackoverflow.com/questions/57402871/place-text-in-the-centre-and-middle-of-page", "title": "Place text in the centre and middle of page", "body": "<p>I have a project where text from an array iterates line by line, which works. </p>\n\n<p>I would like the text to appear in the centre of the webpage and also the middle  </p>\n\n<p>I am new to Javascript + HTMl </p>\n\n<p>Here is the code so far which iterates the text in the array. </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var container = document.querySelector('#container');\r\n\r\nvar splittedText = [\r\n  \"This is line one\", \"This is line two\", \"This is line three\", \"This is line four\"\r\n];\r\nvar clone = [...splittedText]\r\nvar content = []\r\n\r\nvar intervalId = setInterval(function() {\r\n  if (content.length &gt;= 1) content = []\r\n  var element = clone.shift();\r\n  content.push(element + \"&lt;br/&gt;\");\r\n  if (clone[0] == \"\") {\r\n    content.push(\"&lt;br/&gt;\");\r\n    clone.shift();\r\n  }\r\n  container.innerHTML = content.join('')\r\n  if (clone.length === 0) {\r\n    clone = [...splittedText]\r\n    content = []\r\n  }\r\n}, 3000)</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#container {\r\n  padding: 1em;\r\n  text-align: center;\r\n  font-size: 400%;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"container\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "reactjs", "react-hooks"], "comments": [{"owner": {"reputation": 49708, "user_id": 438581, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/15a0033698497951faf2992ff3e1825c?s=128&d=identicon&r=PG", "display_name": "Brett DeWoody", "link": "https://stackoverflow.com/users/438581/brett-dewoody"}, "edited": false, "score": 0, "creation_date": 1565249749, "post_id": 57402855, "comment_id": 101295561, "body": "Can you please share more of your code? You mention using <code>setUpdatedList</code>, can you show how you&#39;re using this in your component?"}, {"owner": {"reputation": 301, "user_id": 5704898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04469badd9583db940af4ca4e3efe8ad?s=128&d=identicon&r=PG&f=1", "display_name": "Rvfvl", "link": "https://stackoverflow.com/users/5704898/rvfvl"}, "reply_to_user": {"reputation": 49708, "user_id": 438581, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/15a0033698497951faf2992ff3e1825c?s=128&d=identicon&r=PG", "display_name": "Brett DeWoody", "link": "https://stackoverflow.com/users/438581/brett-dewoody"}, "edited": false, "score": 0, "creation_date": 1565253276, "post_id": 57402855, "comment_id": 101297307, "body": "Hello, its that commented out line inside useEffect. I am trying to set it as a state hook just after the action gets dispatched to the store."}, {"owner": {"reputation": 301, "user_id": 5704898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04469badd9583db940af4ca4e3efe8ad?s=128&d=identicon&r=PG&f=1", "display_name": "Rvfvl", "link": "https://stackoverflow.com/users/5704898/rvfvl"}, "reply_to_user": {"reputation": 49708, "user_id": 438581, "user_type": "registered", "accept_rate": 65, "profile_image": "https://www.gravatar.com/avatar/15a0033698497951faf2992ff3e1825c?s=128&d=identicon&r=PG", "display_name": "Brett DeWoody", "link": "https://stackoverflow.com/users/438581/brett-dewoody"}, "edited": false, "score": 0, "creation_date": 1565257999, "post_id": 57402855, "comment_id": 101299952, "body": "UPDATE: I&#39;ve realized that calling setUpdatedList just after dispatch inside useEffect does not work because yet at this time this async code is not finished. How can I make sure that setUpdatedList(hotelList) will be executed only when dispatch(fetchHotels()) is fully completed?"}, {"owner": {"reputation": 28393, "user_id": 5669456, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/aeueo.png?s=128&g=1", "display_name": "ford04", "link": "https://stackoverflow.com/users/5669456/ford04"}, "edited": false, "score": 0, "creation_date": 1565277977, "post_id": 57402855, "comment_id": 101311901, "body": "What is the relation between <code>hotelList</code> and <code>[updatedList, setUpdatedList]</code>? Why do you need the latter?"}, {"owner": {"reputation": 83, "user_id": 4289071, "user_type": "registered", "profile_image": "https://graph.facebook.com/598021226/picture?type=large", "display_name": "Will Sullivan", "link": "https://stackoverflow.com/users/4289071/will-sullivan"}, "edited": false, "score": 0, "creation_date": 1565289651, "post_id": 57402855, "comment_id": 101317238, "body": "If the async is the problem, try changing your useEffect to <code>useEffect(async () =&gt; {     await dispatch(fetchHotels());    setUpdatedList(hotelList)     }, []) </code>"}], "owner": {"reputation": 301, "user_id": 5704898, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04469badd9583db940af4ca4e3efe8ad?s=128&d=identicon&r=PG&f=1", "display_name": "Rvfvl", "link": "https://stackoverflow.com/users/5704898/rvfvl"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 72, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565215722, "creation_date": 1565215722, "question_id": 57402855, "link": "https://stackoverflow.com/questions/57402855/unable-to-set-state-hook-using-usedispatch-hook-in-react", "title": "Unable to set state hook using useDispatch hook in React", "body": "<p>I am using useEffect hook to dispatch action to my redux store on component load. Here is code:</p>\n\n<pre><code>const dispatch = useDispatch()\nconst hotelList = useSelector(state =&gt; state.hotels)\nconst [updatedList, setUpdatedList] = useState([...hotelList])\n\nuseEffect(() =&gt; {\n    dispatch(fetchHotels())\n// setUpdatedList(hotelList) -- I've tried using this line here but still gets empty array\n  }, [])\n</code></pre>\n\n<p>It works fine because when I try to do <code>{console.log(hotelList}</code> I get array of objects from the redux store.</p>\n\n<p>However, when I try to do <code>setUpdatedList(hotelList)</code> or even set initial state it does not work and I get empty array. How can I fix it?</p>\n\n<p>P.S just to clarify I am 100% sure that action was correctly dispatched to the store as I can see the results in console.log as well as in redux dev tools.</p>\n"}, {"tags": ["javascript", "jquery"], "answers": [{"comments": [{"owner": {"reputation": 1405, "user_id": 10115037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FP3MC.jpg?s=128&g=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/10115037/markus"}, "edited": false, "score": 1, "creation_date": 1565216433, "post_id": 57402881, "comment_id": 101287397, "body": "Thank you! Worked for me :)"}], "tags": [], "owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "is_accepted": true, "score": 2, "last_activity_date": 1565215889, "creation_date": 1565215889, "answer_id": 57402881, "question_id": 57402825, "link": "https://stackoverflow.com/questions/57402825/jquery-click-event-custom-attribute-undefined/57402881#57402881", "title": "jQuery click event custom attribute undefined", "body": "<p>Using <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions/Arrow_functions\" rel=\"nofollow noreferrer\">arrow function expression</a> implies the value of <strong>this</strong> is not the one you intend.\nIn this case you need to use <strong>event.target</strong>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>jQuery('.js-category-delete').on('click', (event) =&gt; {\r\n        let id = jQuery(event.target).attr('data-id');\r\n        console.log(id);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n\r\n&lt;button type=\"button\" class=\"js-category-delete\" data-id=\"1\"&gt;\r\n    Delete\r\n&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 5512932, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8ef4543a42262d1709229e6f4c0a5968?s=128&d=identicon&r=PG&f=1", "display_name": "Mikhail", "link": "https://stackoverflow.com/users/5512932/mikhail"}, "is_accepted": false, "score": 0, "last_activity_date": 1565435766, "last_edit_date": 1565435766, "creation_date": 1565431952, "answer_id": 57441222, "question_id": 57402825, "link": "https://stackoverflow.com/questions/57402825/jquery-click-event-custom-attribute-undefined/57441222#57441222", "title": "jQuery click event custom attribute undefined", "body": "<p>To suggest you an alternative way:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>$('.js-category-delete').on('click', function (event) {\n  const clickedItem = jQuery(this); // and also jQuery(event.target)\n  const id = clickedItem.data('id');\n  console.log(id);\n});\n</code></pre>\n\n<p>The <code>function</code> keyword makes <code>this</code> what you've expected at first.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this</a></p>\n\n<p>Pen: <a href=\"https://codepen.io/shifu462/pen/WVaGLB\" rel=\"nofollow noreferrer\">https://codepen.io/shifu462/pen/WVaGLB</a></p>\n\n<hr>\n\n<p>Also, as a shortcut for</p>\n\n<pre><code>jQuery(event.target).attr('data-id');\n</code></pre>\n\n<p>I've used here another jQuery method to get the value of a data attribute.</p>\n\n<pre><code>jQuery(event.target).data('id');\n</code></pre>\n\n<p>Docs: <a href=\"https://api.jquery.com/data/\" rel=\"nofollow noreferrer\">https://api.jquery.com/data/</a></p>\n"}], "owner": {"reputation": 1405, "user_id": 10115037, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FP3MC.jpg?s=128&g=1", "display_name": "Markus", "link": "https://stackoverflow.com/users/10115037/markus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 84, "favorite_count": 0, "accepted_answer_id": 57402881, "answer_count": 2, "score": 0, "last_activity_date": 1565435766, "creation_date": 1565215484, "question_id": 57402825, "link": "https://stackoverflow.com/questions/57402825/jquery-click-event-custom-attribute-undefined", "title": "jQuery click event custom attribute undefined", "body": "<p>I've some buttons on my page. The mockup looks like this</p>\n\n<pre><code>&lt;button type=\"button\" class=\"js-category-delete\" data-id=\"1\"&gt;\n    Delete\n&lt;/button&gt;\n</code></pre>\n\n<p>The goal is to get the value of the <code>data-id</code> attribute. Currently I'm using this javascript.</p>\n\n<pre><code>jQuery('.js-category-delete').on('click', (event) =&gt; {\n    let id = jQuery(this).attr('data-id');   \n});\n</code></pre>\n\n<p>My problem is that when I log the value to my browser console <code>console.log(id);</code> I the value of the <code>id</code> variable is <code>undefined</code>.</p>\n\n<p>What is wrong with my code?</p>\n"}, {"tags": ["javascript", "node.js", "automated-tests"], "owner": {"reputation": 101, "user_id": 4655975, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-C_6IsV1UpLg/AAAAAAAAAAI/AAAAAAAACKY/IEcoU3_56iE/photo.jpg?sz=128", "display_name": "Hector De Jesus", "link": "https://stackoverflow.com/users/4655975/hector-de-jesus"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 110, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1571935362, "creation_date": 1565215193, "last_edit_date": 1571935362, "question_id": 57402785, "link": "https://stackoverflow.com/questions/57402785/selenium-test-automation-example-using-javascript-fails-element-could-not-be-sc", "title": "Selenium test automation example using javascript fails &quot;Element could not be scrolled into view&quot;", "body": "<p>Running the example code provided on the following site I am getting an error that the element cannot be scrolled into view.  I have attached the code and error I am seeing.</p>\n\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Cross_browser_testing/Your_own_automation_environment\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Learn/Tools_and_testing/Cross_browser_testing/Your_own_automation_environment</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var webdriver = require('selenium-webdriver'),\r\n    By = webdriver.By,\r\n    until = webdriver.until;\r\n\r\nvar driver = new webdriver.Builder()\r\n    .forBrowser('firefox')\r\n    .build();\r\n\r\ndriver.get('http://www.google.com');\r\n\r\ndriver.findElement(By.name('q')).sendKeys('webdriver');\r\n\r\ndriver.sleep(1000).then(function() {\r\n  driver.findElement(By.name('q')).sendKeys(webdriver.Key.TAB);\r\n});\r\n\r\ndriver.findElement(By.name('btnK')).click();\r\n\r\ndriver.sleep(2000).then(function() {\r\n  driver.getTitle().then(function(title) {\r\n    if(title === 'webdriver - Google Search') {\r\n      console.log('Test passed');\r\n    } else {\r\n      console.log('Test failed');\r\n    }\r\n    driver.quit();\r\n  });\r\n});</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<pre><code>(node:78192) UnhandledPromiseRejectionWarning: ElementNotInteractableError: Element &lt;input class=\"gNO89b\" name=\"btnK\" type=\"submit\"&gt; could not be scrolled into view\n    at Object.throwDecodedError (C:\\automation_workspace\\examples\\node_modules\\selenium-webdriver\\lib\\error.js:550:15)\n    at parseHttpResponse (C:\\automation_workspace\\examples\\node_modules\\selenium-webdriver\\lib\\http.js:560:13)\n    at Executor.execute (C:\\automation_workspace\\examples\\node_modules\\selenium-webdriver\\lib\\http.js:486:26)\n    at process._tickCallback (internal/process/next_tick.js:68:7)\n(node:78192) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). (rejection id: 1)\n(node:78192) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n</code></pre>\n"}, {"tags": ["javascript", "reactjs"], "comments": [{"owner": {"reputation": 730, "user_id": 8380606, "user_type": "registered", "accept_rate": 100, "profile_image": "https://graph.facebook.com/1576250049112522/picture?type=large", "display_name": "Sandeep Ranjan", "link": "https://stackoverflow.com/users/8380606/sandeep-ranjan"}, "edited": false, "score": 0, "creation_date": 1565215804, "post_id": 57402754, "comment_id": 101287236, "body": "Use eslint to find such systax errors."}], "answers": [{"tags": [], "owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "is_accepted": true, "score": 1, "last_activity_date": 1565215818, "creation_date": 1565215818, "answer_id": 57402869, "question_id": 57402754, "link": "https://stackoverflow.com/questions/57402754/several-ternary-operators-nested-within/57402869#57402869", "title": "Several ternary operators nested within", "body": "<p>You were missing an <code>}</code> before the last div to close the first ternary and you were missing a wrapping tag for the first ternaries first expression (I used a <code>React.Fragment</code>). Code snippet bellow should be syntactically correct. I do recommend you refactor your code though.</p>\n\n<pre class=\"lang-jsx prettyprint-override\"><code>class Items extends Component {\n  render() {\n    return (\n      &lt;div className=\"container\"&gt;\n        {this.state.items &amp;&amp; this.state.items.length ? (\n          &lt;React.Fragment&gt;\n            &lt;div className=\"items\"&gt;\n              &lt;div className=\"item\"&gt;\n                &lt;span&gt;\n                  &lt;i&gt;&lt;/i&gt;\n                &lt;/span&gt;\n                &lt;h4&gt;&lt;/h4&gt;\n                &lt;div className=\"select\"&gt;\n                  &lt;button&gt;&lt;/button&gt;\n                &lt;/div&gt;\n              &lt;/div&gt;\n              &lt;div className=\"section\"&gt;\n                &lt;input /&gt;\n                &lt;span&gt;\n                  &lt;i&gt;&lt;/i&gt;\n                &lt;/span&gt;\n              &lt;/div&gt;\n              &lt;div&gt;'AAAAAAA'&lt;/div&gt;\n              &lt;div className=\"scroll\"&gt;\n                {this.state.items.length === 0 &amp;&amp; this.state.status === 1 ? (\n                  &lt;div className=\"array\"&gt;\n                    &lt;p&gt;AAAAAA&lt;/p&gt;\n                  &lt;/div&gt;\n                ) : this.state.items &amp;&amp; this.state.items.length ? (\n                  this.state.items.map((todo, index) =&gt; (\n                    &lt;Item key={item.id} index={index} /&gt;\n                  ))\n                ) : (\n                  &lt;div className=\"preloader\"&gt;&lt;/div&gt;\n                )}\n              &lt;/div&gt;\n            &lt;/div&gt;\n            &lt;div className=\"another\"&gt;\n              &lt;Component1 /&gt;\n              &lt;Component2 /&gt;\n            &lt;/div&gt;\n          &lt;/React.Fragment&gt;\n        ) : (\n          &lt;Preloader /&gt;\n        )}\n      &lt;/div&gt;\n    );\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 1251, "user_id": 9974904, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1d183b6c27e1754f42d2457dc787580e?s=128&d=identicon&r=PG&f=1", "display_name": "Umbro", "link": "https://stackoverflow.com/users/9974904/umbro"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 27, "favorite_count": 0, "accepted_answer_id": 57402869, "answer_count": 1, "score": 0, "last_activity_date": 1565215818, "creation_date": 1565214925, "question_id": 57402754, "link": "https://stackoverflow.com/questions/57402754/several-ternary-operators-nested-within", "title": "Several ternary operators nested within", "body": "<p>There is a syntax error {} when I added <code>{this.state.items &amp;&amp; this.state.items.length?</code> under <code>&lt;div className =\" container \"&gt;</code>. When I remove this extreme condition <code>{this.state.items &amp;&amp; this.state.items.length? : Components : &lt;Preloader /&gt;</code>everything works.A lot of nesting and I don't know exactly where the problem is. I think it is an extreme condition. Instead of the main component on the whole page I want to render the preloader on the whole page                  </p>\n\n<pre><code>class Items extends Component {\n\n  render () {\n    return (     \n      &lt;div className=\"container\"&gt;\n      {this.state.items &amp;&amp; this.state.items.length ?\n        &lt;div className=\"items\"&gt;\n          &lt;div className=\"item\"&gt;\n            &lt;span&gt;\n              &lt;i&gt;&lt;/i&gt;\n            &lt;/span&gt;\n            &lt;h4&gt;&lt;/h4&gt;\n            &lt;div className=\"select\"&gt;\n              &lt;button&gt;&lt;/button&gt;\n            &lt;/div&gt;\n          &lt;/div&gt;\n          &lt;div className=\"section\"&gt;\n            &lt;input/&gt;\n            &lt;span&gt;\n              &lt;i&gt;&lt;/i&gt;\n            &lt;/span&gt;\n          &lt;/div&gt;\n          &lt;div&gt;\n              'AAAAAAA'\n          &lt;/div&gt;\n          &lt;div className=\"scroll\"&gt; \n            {this.state.items.length === 0 &amp;&amp; this.state.status === 1 ?\n              &lt;div className=\"array\"&gt;\n                &lt;p&gt;AAAAAA&lt;/p&gt;\n              &lt;/div&gt;\n              :\n              this.state.items &amp;&amp; this.state.items.length ?\n                this.state.items.map((todo, index) =&gt; \n                  &lt;Item\n                    key={item.id}\n                    index={index}\n                  /&gt;\n                )\n                :\n                &lt;div className=\"preloader\"&gt;\n\n                &lt;/div&gt;        \n            }\n          &lt;/div&gt;\n        &lt;/div&gt;\n        &lt;div className=\"another\"&gt; \n          &lt;Component1\n\n          /&gt;     \n          &lt;Component2\n\n          /&gt; \n        &lt;/div&gt;\n        :\n        &lt;Preloader /&gt;\n      &lt;/div&gt;\n    )\n  }\n}\n</code></pre>\n"}, {"tags": ["javascript", "typescript"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 0, "creation_date": 1565234718, "post_id": 57402745, "comment_id": 101290839, "body": "Looks like instead of using <code>new this()</code> I need to use <code>Reflect.construct(this, [])</code>"}], "answers": [{"tags": [], "owner": {"reputation": 9738, "user_id": 4858777, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/R121o.png?s=128&g=1", "display_name": "Valeriy Katkov", "link": "https://stackoverflow.com/users/4858777/valeriy-katkov"}, "is_accepted": false, "score": 0, "last_activity_date": 1565420280, "creation_date": 1565420280, "answer_id": 57440054, "question_id": 57402745, "link": "https://stackoverflow.com/questions/57402745/create-instance-inside-abstract-class-of-child-using-this/57440054#57440054", "title": "Create instance inside abstract class of child using this", "body": "<p>The first problem of your solution - it isn't safe, <code>T</code> type may not contain empty constructor. The second problem: even if you call <code>find()</code> on <code>A</code> class, return type will be inferred as <code>Model</code> if it isn't set explicitly.</p>\n\n<p>Because anyway you should specify A type when you call <code>find</code>, it would be better to pass the type constructor to the find method, in this case both problems will be solved.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>abstract class Model {\n  static find&lt;T extends Model&gt;(ModelClass: new () =&gt; T, param: string): T {\n    let inst = new ModelClass()\n    // Do some extra stuff with the instance\n    return inst;\n  }\n}\n\nclass A extends Model {}\nconst a = Model.find(A, \"param\");\n</code></pre>\n"}], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 50, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565420280, "creation_date": 1565214841, "last_edit_date": 1565233095, "question_id": 57402745, "link": "https://stackoverflow.com/questions/57402745/create-instance-inside-abstract-class-of-child-using-this", "title": "Create instance inside abstract class of child using this", "body": "<p>I have an abstract class that does <code>new this()</code>, however, it isn't creating an instance of itself, but it is creating an instance of the class that extended it.</p>\n\n<p>This works in JavaScript when compiled and returns the proper class. However, TypeScript is complaining.</p>\n\n<blockquote>\n  <p>Cannot create an instance of an abstract class.</p>\n</blockquote>\n\n<pre><code>abstract class Model {\n  static find&lt;T extends Model&gt;(someVar) {\n    let inst = new this() as T\n    // Do some extra stuff with the instance\n    return inst\n  }\n}\n\nclass A extends Model { }\n\nA.find()\n</code></pre>\n"}, {"tags": ["javascript", "asynchronous", "babeljs", "rollupjs"], "comments": [{"owner": {"reputation": 165, "user_id": 1882909, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e8b04db27c537a77368280876cda1276?s=128&d=identicon&r=PG", "display_name": "awgreenarrow08", "link": "https://stackoverflow.com/users/1882909/awgreenarrow08"}, "edited": false, "score": 0, "creation_date": 1565633837, "post_id": 57402722, "comment_id": 101405768, "body": "I&#39;m having a very similar issue with getting this to work with rollup and babel. I also tried the <code>transform-runtime</code> and other plugins, all to no avail.  <code>[   {     plugins: [       babel({         babelrc: false,         exclude: &#39;node_modules&#47;**&#39;,         presets: [           [             &#39;@babel&#47;preset-env&#39;,             {               corejs: 3,               modules: false,               useBuiltIns: &#39;usage&#39;,               targets: {                 ie: &#39;11&#39;,               },             },           ],         ],       }),     ],   }, ]; </code>"}], "answers": [{"tags": [], "owner": {"reputation": 280, "user_id": 839273, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/45RXM.jpg?s=128&g=1", "display_name": "Kuba", "link": "https://stackoverflow.com/users/839273/kuba"}, "is_accepted": false, "score": 1, "last_activity_date": 1570462037, "creation_date": 1570462037, "answer_id": 58272661, "question_id": 57402722, "link": "https://stackoverflow.com/questions/57402722/rollup-fails-to-transpile-async-await-regeneratorruntime-is-not-defined/58272661#58272661", "title": "Rollup fails to transpile async/await - regeneratorRuntime is not defined", "body": "<p>Not sure if you already solved the issue, but just for a future reference, this answer did it for me <a href=\"https://stackoverflow.com/a/36821986/839273\">https://stackoverflow.com/a/36821986/839273</a></p>\n\n<p>I just installed transform-runtime with <code>npm i -D @babel/plugin-transform-runtime</code>, enabled runtimeHelpers in rollup.config.js like you have it above and then just added</p>\n\n<pre><code>[\"@babel/plugin-transform-runtime\", {\n   \"regenerator\": true\n}]\n</code></pre>\n\n<p>to plugins node inside .babelrc -> just for clarity this is my complete .babelrc:</p>\n\n<pre><code>{\n  \"presets\": [\n    \"@babel/preset-env\",\n    \"@babel/preset-react\",\n    \"@babel/preset-flow\"\n  ],\n  \"plugins\": [\n    \"@babel/plugin-proposal-class-properties\",\n    \"babel-plugin-inline-json-import\",\n    [\"@babel/plugin-transform-runtime\", {\n      \"regenerator\": true\n    }]\n  ]\n}\n</code></pre>\n"}], "owner": {"reputation": 71, "user_id": 11898678, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-n3OjGxCt8Lc/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfqz3yujGwq0dzCLl0DrHXWoXo27g/photo.jpg?sz=128", "display_name": "Kevin Connors", "link": "https://stackoverflow.com/users/11898678/kevin-connors"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 2863, "favorite_count": 2, "answer_count": 1, "score": 7, "last_activity_date": 1570462037, "creation_date": 1565214628, "question_id": 57402722, "link": "https://stackoverflow.com/questions/57402722/rollup-fails-to-transpile-async-await-regeneratorruntime-is-not-defined", "title": "Rollup fails to transpile async/await - regeneratorRuntime is not defined", "body": "<p>I want to use async/await with rollup.  </p>\n\n<p>I tried searching for babel and rollup issues on stackoverflow and github and nothing resolved my issue.</p>\n\n<p><code>@babel/runtime/regenerator</code> is being treated as an external dependency.  I see a console error: <code>regeneratorRuntime is not defined</code>.  Before you ask, yes I did look at every other post with this topic and none of the ones I could find solved this issue.</p>\n\n<p>I've tried using @babel/polyfill even though it's deprecated and people say not to use it.  I've tried <code>import</code>ing it before my main imports, I've tried importing <code>transform-runtime</code>, nothing I do works.</p>\n\n<p><em>Compile warning:</em></p>\n\n<pre><code>src/main.js \u2192 dist/bundle.js...\n(!) Unresolved dependencies\nhttps://rollupjs.org/guide/en/#warning-treating-module-as-external-dependency\n@babel/runtime/regenerator (imported by src/cronreader.js, src/animations.js)\ncreated dist/bundle.js in 549ms\n</code></pre>\n\n<p><em>rollup.config.js:</em></p>\n\n<pre><code>import babel from 'rollup-plugin-babel'\nimport resolve from 'rollup-plugin-node-resolve'\nimport async from 'rollup-plugin-async';\n\nexport default {\n    input: 'src/main.js',\n    output: {\n        file: 'dist/bundle.js',\n        format: 'iife',\n        globals: {\n            \"@babel/runtime/regenerator\": \"regeneratorRuntime\",\n            \"@babel/runtime/helpers/asyncToGenerator\": \"asyncToGenerator\"\n        }\n    },\n    plugins: [\n        async(),\n        resolve({\n            customResolveOptions: {\n                moduleDirectory: 'src'\n            }\n        }),\n        babel({\n            runtimeHelpers: true,\n            exclude: 'node_modules/**', // only transpile our source code\n            presets: [\"@babel/preset-env\"],\n            plugins: [\n                \"@babel/transform-runtime\",\n                \"@babel/transform-regenerator\",\n                \"@babel/transform-async-to-generator\",\n            ]\n        })\n    ]\n}\n</code></pre>\n\n<p><em>package.json:</em></p>\n\n<pre><code>\"devDependencies\": {\n    \"@babel/core\": \"^7.5.5\",\n    \"@babel/plugin-transform-async-to-generator\": \"^7.5.0\",\n    \"@babel/plugin-transform-regenerator\": \"^7.4.5\",\n    \"@babel/plugin-transform-runtime\": \"^7.5.5\",\n    \"@babel/preset-env\": \"^7.5.5\",\n    \"@node-minify/cli\": \"^4.1.2\",\n    \"@node-minify/crass\": \"^4.1.2\",\n    \"babel-cli\": \"^6.26.0\",\n    \"babel-preset-es2015\": \"^6.24.1\",\n    \"node-minify\": \"^3.6.0\",\n    \"node-sass\": \"^4.12.0\",\n    \"rollup\": \"^1.18.0\",\n    \"rollup-plugin-async\": \"^1.2.0\",\n    \"rollup-plugin-babel\": \"^4.3.3\",\n    \"rollup-plugin-node-resolve\": \"^5.2.0\",\n    \"uglify-js\": \"^3.6.0\"\n  },\n\"scripts\": {\n    \"build\": \"rollup -c rollup.config.js\"\n}\n  \"bundleDependencies\": [\n    \"@babel/runtime\"\n  ]\n</code></pre>\n\n<p>There is no .babelrc file.</p>\n"}, {"tags": ["javascript", "php", "wordpress", "woocommerce"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 0, "creation_date": 1565214696, "post_id": 57402683, "comment_id": 101286952, "body": "that code looks ok, except <code>&#39;billing_email&#39;</code> as a selector isn&#39;t going to select anything. I assume you meant either <code>&#39;.billing_email&#39;</code> (if it&#39;s a class) or <code>&#39;#billing_email&#39;</code> (if it&#39;s an ID)"}, {"owner": {"reputation": 320, "user_id": 1217183, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/mvJx1.jpg?s=128&g=1", "display_name": "Imran Khan", "link": "https://stackoverflow.com/users/1217183/imran-khan"}, "edited": false, "score": 0, "creation_date": 1565215036, "post_id": 57402683, "comment_id": 101287038, "body": "You can also try  <code>$(&quot;#billing_email&quot;).on(&#39;keyup&#39;, function(){ console.log(this.value); })</code>  or  ` $(&quot;.billing_email&quot;).on(&#39;keyup&#39;, function(){ console.log(this.value); });`"}, {"owner": {"reputation": 1, "user_id": 11898622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69af15498374d8a410bacd2cf20e7def?s=128&d=identicon&r=PG&f=1", "display_name": "MartinApex", "link": "https://stackoverflow.com/users/11898622/martinapex"}, "reply_to_user": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 0, "creation_date": 1565215223, "post_id": 57402683, "comment_id": 101287085, "body": "@RobinZigmond you&#39;re right. It should have been &#39;#billing_email&#39; (I fixed it in the question). I tried it with the # (i.e. &#39;#billing_email&#39;) but the event unfortunately still didn&#39;t trigger"}, {"owner": {"reputation": 1, "user_id": 11898622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69af15498374d8a410bacd2cf20e7def?s=128&d=identicon&r=PG&f=1", "display_name": "MartinApex", "link": "https://stackoverflow.com/users/11898622/martinapex"}, "reply_to_user": {"reputation": 320, "user_id": 1217183, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/mvJx1.jpg?s=128&g=1", "display_name": "Imran Khan", "link": "https://stackoverflow.com/users/1217183/imran-khan"}, "edited": false, "score": 0, "creation_date": 1565215402, "post_id": 57402683, "comment_id": 101287125, "body": "@ImranKhan <code>.on(&#39;keyup&#39;</code> also didn&#39;t trigger"}, {"owner": {"reputation": 320, "user_id": 1217183, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/mvJx1.jpg?s=128&g=1", "display_name": "Imran Khan", "link": "https://stackoverflow.com/users/1217183/imran-khan"}, "edited": false, "score": 0, "creation_date": 1565215598, "post_id": 57402683, "comment_id": 101287178, "body": "You can try this <code>&lt;input type=&quot;text&quot; onkeyup=&quot;handleChange(this)&quot;&gt;</code> and then define this function within <code>&lt;script&gt; function handleChange(el) {console.log($(el.val());)} &lt;&#47;script&gt;</code>"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 11898622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69af15498374d8a410bacd2cf20e7def?s=128&d=identicon&r=PG&f=1", "display_name": "MartinApex", "link": "https://stackoverflow.com/users/11898622/martinapex"}, "is_accepted": true, "score": 0, "last_activity_date": 1565608082, "creation_date": 1565608082, "answer_id": 57460042, "question_id": 57402683, "link": "https://stackoverflow.com/questions/57402683/how-to-call-a-function-if-the-value-entered-in-a-woocommerce-field-changes/57460042#57460042", "title": "How to call a function if the value entered in a woocommerce field changes", "body": "<p>The reason that <code>$('#billing_email')</code> wasn't working was because the JavaScript was queued in the page header, before WooCommerce has generated the HTML for the page. I fixed it by queueing the JavaScript in the page footer by using</p>\n\n<pre><code>add_action('wp_footer', 'my_php_function_that_enqueues_javascript');\n</code></pre>\n\n<p>in the PHP backend.</p>\n"}], "owner": {"reputation": 1, "user_id": 11898622, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69af15498374d8a410bacd2cf20e7def?s=128&d=identicon&r=PG&f=1", "display_name": "MartinApex", "link": "https://stackoverflow.com/users/11898622/martinapex"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 264, "favorite_count": 0, "accepted_answer_id": 57460042, "answer_count": 1, "score": 0, "last_activity_date": 1565608082, "creation_date": 1565214387, "last_edit_date": 1565215135, "question_id": 57402683, "link": "https://stackoverflow.com/questions/57402683/how-to-call-a-function-if-the-value-entered-in-a-woocommerce-field-changes", "title": "How to call a function if the value entered in a woocommerce field changes", "body": "<p>We have a WordPress website that uses WooCommerce. I am very inexperienced with WooCommerce.</p>\n\n<p>On the checkout page, under billing details, the user has to fill in their first and last name, as well as their email address. </p>\n\n<p>I need to call a function if the data in any of these 3 fields have changed. In this function I need to check if all 3 fields have been completed, then I need to send the info to the server.</p>\n\n<p>How do I connect to the \"onchange\" event for these 3 fields?</p>\n\n<p>I have tried using \"change_woocommerce_field_markup\" to add an HTML element that can trigger an event, but no luck so far.</p>\n\n<p>I tried adding the following to the javascript that runs on the page, but the event is never triggered:</p>\n\n<pre><code>var email_field = $('#billing_email')\nemail_field.on('change', function () {\n    console.log(\"email changed\");\n});\n</code></pre>\n\n<p>I tried using woocommerce_form_field_ to filter on the fields, but I can't get it to work, and I can't find a clear example of how to do it.</p>\n\n<p>Can someone please show me how to connect a function to the change event for the First Name, Last Name, and Email billing fields?\nWill you also please show me how to get the data entered into the fields?</p>\n"}, {"tags": ["javascript", "webpack", "web-worker", "css-paint-api"], "owner": {"reputation": 444, "user_id": 9996080, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/FoRKR.jpg?s=128&g=1", "display_name": "James South", "link": "https://stackoverflow.com/users/9996080/james-south"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 183, "favorite_count": 0, "answer_count": 0, "score": 3, "last_activity_date": 1579721944, "creation_date": 1565214382, "last_edit_date": 1565320753, "question_id": 57402682, "link": "https://stackoverflow.com/questions/57402682/how-to-just-minify-and-nothing-else-a-js-worklet-file-in-webpack", "title": "How to just minify (and nothing else) a JS worklet file in webpack?", "body": "<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Worklet\" rel=\"nofollow noreferrer\">JavaScript Worklet</a> interface only accepts <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/PaintWorklet#Examples\" rel=\"nofollow noreferrer\">a file with an ES6 class</a> as the argument to the <code>Worklet.addModule</code> method.  I have an outside-of-webpack workaround to minify my CSS Paint worklet file and place it in my dist folder, but it makes iterating in development slower.  I want to process this file through webpack with minification only, no transpilation, no webpack cruft wrapping the class in a function, those don't work.  </p>\n\n<p>I have searched all day and tried <code>noParse</code> and excluding from Babel but I am still getting the minified class wrapped in a function.  Is there a way to minify only through webpack?</p>\n\n<pre><code>//entry point\n\n  //my workaround\n\n    CSS.paintWorklet.addModule('./demo.min.js');// I minify and name it \n\n  //can I do the following?\n\n    import(/* webpackChunkName: \"paint-worklet\" */ './demo')\n    .then((demo) =&gt; CSS.paintWorklet.addModule(demo));\n\n//output worklet\n\n  //my workaround\n\n    class Demo{......\n    ...(minified)\n    ...\n    ......}registerPaint(\"demo\",Demo);// defined and everything works\n\n  //webpacked and excluded from Babel\n\n    (window.webpackJsonp=window.webpackJsonp||[]).push([[2],\n    {w0gx:function(t,e){class r......\n    ...\n    ...\n    .......registerPaint(\"demo\",r)}}]);// wrapped in function and undefined\n\n</code></pre>\n\n<p>It is not necessary to import the worklet like you usually do with a webpack module, you just call <code>addModule</code> with it.  I need it minified and in <code>dist/</code> and then I need a way to get the hashed name at compile time to make it the argument to <code>addModule</code>.  A dynamic import seems like it would work so the worklet is a separate chunk, and after the promise resolves you call <code>addModule</code> with it, but since the worklet file is wrapped in a function, the browser throws an error saying that <code>registerPaint()</code>, which you call with the class, is not defined.</p>\n"}, {"tags": ["javascript", "gatsby"], "comments": [{"owner": {"reputation": 1298, "user_id": 855208, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NHcJZ.png?s=128&g=1", "display_name": "eddiewould", "link": "https://stackoverflow.com/users/855208/eddiewould"}, "edited": false, "score": 1, "creation_date": 1565214272, "post_id": 57402640, "comment_id": 101286819, "body": "Try replacing both BODY and HTML tags with DIV"}, {"owner": {"reputation": 525, "user_id": 1291530, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/syHq5.png?s=128&g=1", "display_name": "nusantara", "link": "https://stackoverflow.com/users/1291530/nusantara"}, "reply_to_user": {"reputation": 1298, "user_id": 855208, "user_type": "registered", "accept_rate": 89, "profile_image": "https://i.stack.imgur.com/NHcJZ.png?s=128&g=1", "display_name": "eddiewould", "link": "https://stackoverflow.com/users/855208/eddiewould"}, "edited": false, "score": 0, "creation_date": 1565214559, "post_id": 57402640, "comment_id": 101286910, "body": "@eddiewould it looks like replacing HTML, BODY, and HEAD tags with DIV worked. thank you!"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 2208705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b9fec7eba1d373496a28c98ee47e1707?s=128&d=identicon&r=PG", "display_name": "Le Duong", "link": "https://stackoverflow.com/users/2208705/le-duong"}, "is_accepted": false, "score": 0, "last_activity_date": 1605886804, "creation_date": 1605886804, "answer_id": 64932384, "question_id": 57402640, "link": "https://stackoverflow.com/questions/57402640/gatsby-warning-validatedomnesting-html-cannot-appear-as-a-child-of-div/64932384#64932384", "title": "Gatsby Warning: validateDOMNesting(...): &lt;html&gt; cannot appear as a child of &lt;div&gt;", "body": "<ol>\n<li><p>Create <code>pages/_document.js</code></p>\n<pre><code> import Document, { Html, Head, Main, NextScript } from 'next/document';\n export default class CustomDocument extends Document {\n   render() {\n   &lt;Html lang=&quot;en&quot;&gt;\n     &lt;Head&gt;\n       &lt;Helmet&gt;\n         &lt;meta charSet=&quot;utf-8&quot; /&gt;\n         &lt;title&gt;Demo&lt;/title&gt;\n       &lt;/Helmet&gt;\n     &lt;/Head&gt;\n     &lt;body&gt;\n       &lt;Main /&gt;\n       &lt;NextScript /&gt;\n     &lt;/body&gt;\n   &lt;/Html&gt;\n );\n</code></pre>\n<p>}\n}</p>\n</li>\n<li><p>Update <code>src/components/layout.js</code></p>\n<pre><code> import React from 'react';\n\n const Layout = (props) =&gt; {\n   return &lt;&gt;{props.children}&lt;/&gt;;\n };\n\n export default Layout;\n</code></pre>\n</li>\n</ol>\n"}], "owner": {"reputation": 525, "user_id": 1291530, "user_type": "registered", "accept_rate": 50, "profile_image": "https://i.stack.imgur.com/syHq5.png?s=128&g=1", "display_name": "nusantara", "link": "https://stackoverflow.com/users/1291530/nusantara"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 511, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1605886804, "creation_date": 1565214119, "question_id": 57402640, "link": "https://stackoverflow.com/questions/57402640/gatsby-warning-validatedomnesting-html-cannot-appear-as-a-child-of-div", "title": "Gatsby Warning: validateDOMNesting(...): &lt;html&gt; cannot appear as a child of &lt;div&gt;", "body": "<p>I'm learning to build Gatsby sites with several tutorials. I'm using Gatsby 2.13.50 (CLI: 2.7.14). Usually, these tutorials teach us to build a base template. It loads well except for this warning when I open dev tools to console:</p>\n\n<pre><code>Warning: validateDOMNesting(...): &lt;html&gt; cannot appear as a child of &lt;div&gt;.\n</code></pre>\n\n<p>The warning is very, very long. I'll post the rest of it after my code.</p>\n\n<p>My layout.js base template is at /src/components/layout.js. It looks like this:</p>\n\n<pre><code>import React from \"react\"\n\nconst Layout = (props) =&gt; {\n    return (\n        &lt;html lang=\"en\"&gt;\n            &lt;head&gt;\n                &lt;Helmet&gt;\n                    &lt;meta charSet=\"utf-8\" /&gt;\n                    &lt;title&gt;Demo&lt;/title&gt;\n                &lt;/Helmet&gt;\n            &lt;/head&gt;\n\n            &lt;body&gt;\n                {props.children}\n            &lt;/body&gt;\n        &lt;/html&gt;\n    )\n}\n\nexport default Layout\n</code></pre>\n\n<p>It is used by /src/pages/index.js, which looks like this:</p>\n\n<pre><code>import React from 'react'\nimport Layout from '../components/layout'\n\nconst IndexPage = () =&gt; {\n    return (\n        &lt;Layout&gt;\n            &lt;h1&gt;Demo onle.&lt;/h1&gt;\n            &lt;p&gt;Hello. This totally works fine.&lt;/p&gt;\n        &lt;/Layout&gt;\n    )\n}\n\nexport default IndexPage\n</code></pre>\n\n<p>As mentioned, it works, except for the very long warning in dev tools console.</p>\n\n<p>I've googled this but haven't found out how this happens and what to do to avoid it. I found out that there's a <a href=\"https://www.gatsbyjs.org/docs/custom-html/\" rel=\"nofollow noreferrer\">html.js</a> but I don't know if this is some sort of default template and if I should override it to use as a base template. I tried that but the performance is very bad, so I think I'm wrong.</p>\n\n<p>When I remove the <code>&lt;html&gt;</code> tag, I get: <code>Parsing error: Adjacent JSX elements must be wrapped in an enclosing tag.</code></p>\n\n<p>If I replace it with a <code>&lt;div&gt;</code> It says <code>&lt;body&gt; cannot appear as a child of &lt;div&gt;</code></p>\n\n<p>Here is the very long warning:</p>\n\n<pre><code>Warning: validateDOMNesting(...): &lt;html&gt; cannot appear as a child of &lt;div&gt;.\n    in html (at layout.js:10)\n    in Layout (at chat.js:6)\n    in ChatPage (created by HotExportedChatPage)\n    in AppContainer (created by HotExportedChatPage)\n    in HotExportedChatPage (created by PageRenderer)\n    in PageRenderer (at json-store.js:93)\n    in JSONStore (at root.js:51)\n    in RouteHandler (at root.js:73)\n    in div (created by FocusHandlerImpl)\n    in FocusHandlerImpl (created by Context.Consumer)\n    in FocusHandler (created by RouterImpl)\n    in RouterImpl (created by Context.Consumer)\n    in Location (created by Context.Consumer)\n    in Router (created by EnsureResources)\n    in ScrollContext (at root.js:64)\n    in RouteUpdates (at root.js:63)\n    in EnsureResources (at root.js:61)\n    in LocationHandler (at root.js:119)\n    in LocationProvider (created by Context.Consumer)\n    in Location (at root.js:118)\n    in Root (at root.js:127)\n    in _default (at app.js:65)\n__stack_frame_overlay_proxy_console__ @ index.js:2177\nwarningWithoutStack @ react-dom.development.js:507\nvalidateDOMNesting @ react-dom.development.js:8625\ncreateInstance @ react-dom.development.js:8737\ncompleteWork @ react-dom.development.js:16901\ncompleteUnitOfWork @ react-dom.development.js:19143\nperformUnitOfWork @ react-dom.development.js:19341\nworkLoop @ react-dom.development.js:19353\nrenderRoot @ react-dom.development.js:19436\nperformWorkOnRoot @ react-dom.development.js:20343\nperformWork @ react-dom.development.js:20255\nperformSyncWork @ react-dom.development.js:20229\nrequestWork @ react-dom.development.js:20098\nscheduleWork @ react-dom.development.js:19912\nenqueueSetState @ react-dom.development.js:11170\n./node_modules/react/cjs/react.development.js.Component.setState @ react.development.js:335\n(anonymous) @ index.js:104\nrequestAnimationFrame (async)\n(anonymous) @ index.js:102\nPromise.then (async)\n(anonymous) @ index.js:100\n(anonymous) @ history.js:70\nnavigate @ history.js:69\n(anonymous) @ navigation.js:103\nPromise.then (async)\nnavigate @ navigation.js:77\nwindow.___navigate @ navigation.js:150\nnavigate @ index.js:213\nonClick @ index.js:184\nonClick @ index.js:464\ncallCallback @ react-dom.development.js:150\ninvokeGuardedCallbackDev @ react-dom.development.js:200\ninvokeGuardedCallback @ react-dom.development.js:257\ninvokeGuardedCallbackAndCatchFirstError @ react-dom.development.js:271\nexecuteDispatch @ react-dom.development.js:562\nexecuteDispatchesInOrder @ react-dom.development.js:584\nexecuteDispatchesAndRelease @ react-dom.development.js:681\nexecuteDispatchesAndReleaseTopLevel @ react-dom.development.js:689\nforEachAccumulated @ react-dom.development.js:663\nrunEventsInBatch @ react-dom.development.js:817\nrunExtractedEventsInBatch @ react-dom.development.js:825\nhandleTopLevel @ react-dom.development.js:4827\nbatchedUpdates$1 @ react-dom.development.js:20440\nbatchedUpdates @ react-dom.development.js:2152\ndispatchEvent @ react-dom.development.js:4906\n(anonymous) @ react-dom.development.js:20491\nunstable_runWithPriority @ scheduler.development.js:255\ninteractiveUpdates$1 @ react-dom.development.js:20490\ninteractiveUpdates @ react-dom.development.js:2171\ndispatchInteractiveEvent @ react-dom.development.js:4883\n</code></pre>\n\n<p>How should I fix this warning?</p>\n"}, {"tags": ["javascript", "node.js"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 3, "creation_date": 1565214208, "post_id": 57402600, "comment_id": 101286802, "body": "<code>let inst = new this();</code> should work fine: <a href=\"https://jsfiddle.net/khrismuc/fu3jar8h/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/fu3jar8h</a>"}, {"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565214218, "post_id": 57402600, "comment_id": 101286806, "body": "@ChrisG WOW didn&#39;t think it would be that easy..."}], "answers": [{"tags": [], "owner": {"reputation": 4867, "user_id": 188475, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/f223219229b0475043ee1547f69ff669?s=128&d=identicon&r=PG", "display_name": "Vasyl Boroviak", "link": "https://stackoverflow.com/users/188475/vasyl-boroviak"}, "is_accepted": false, "score": 0, "last_activity_date": 1565222529, "creation_date": 1565222529, "answer_id": 57403607, "question_id": 57402600, "link": "https://stackoverflow.com/questions/57402600/static-method-create-an-instance-of-itself/57403607#57403607", "title": "Static method create an instance of itself", "body": "<p>Every static method of a class has <code>this</code> context which points to the class after dot</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>class Model {\n  static find(...args) {\n    console.log(\"My name is\", this.name) // &lt;- this will print \"My name is AModel\"\n    return new this(...args)\n  }\n}\n\nclass AModel extends Model { }\n\nAModel.find(); // &lt;- passing `this` context to be the AModel class.\n</code></pre>\n"}], "owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 78, "favorite_count": 0, "answer_count": 1, "score": 2, "last_activity_date": 1565222529, "creation_date": 1565213843, "question_id": 57402600, "link": "https://stackoverflow.com/questions/57402600/static-method-create-an-instance-of-itself", "title": "Static method create an instance of itself", "body": "<p>I am trying to create a static method that basically creates an instance of the class that made the call automatically.</p>\n\n<p>In this example, I would like class <code>A</code> to create an instance of itself. How can this be done? The below code gives an error when executed.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class Model {\r\n  static find(someVar) {\r\n    let inst = new this.constructor[this.constructor.name]()\r\n    // Do some extra stuff with the instance\r\n    return inst\r\n  }\r\n}\r\n\r\nclass A extends Model { }\r\n\r\nA.find()</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "node.js", "better-sqlite3"], "comments": [{"owner": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1565217108, "post_id": 57402552, "comment_id": 101287552, "body": "What journal mode is your database using?"}, {"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1565217118, "post_id": 57402552, "comment_id": 101287556, "body": "I&#39;m a little confused: if you don&#39;t want to work with up to date data, why are you working with a database at all? The fact that the sqlite3 db gets written to should be effectively irrelevant, all you should worry about is whether or not your queries are correct <i>given the database when you query it</i>? (sqlite3 uses journaling by default, so the database can&#39;t really change mid-query)"}, {"owner": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1565217140, "post_id": 57402552, "comment_id": 101287562, "body": "See <a href=\"https://www.sqlite.org/isolation.html\" rel=\"nofollow noreferrer\">sqlite.org/isolation.html</a>"}, {"owner": {"reputation": 3502, "user_id": 1261752, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/OjAfn.png?s=128&g=1", "display_name": "C Perkins", "link": "https://stackoverflow.com/users/1261752/c-perkins"}, "edited": false, "score": 0, "creation_date": 1565217671, "post_id": 57402552, "comment_id": 101287686, "body": "Sqlite can open a database in memory, but it must load it from a file.  I think that it would not load a currently open database, so you&#39;d have to close all connections first.  To &quot;load the file into cache&quot; is not going to improve the overall process that you described, rather it will likely complicate it.  You should be able to configure the database journaling mode and connection properties to achieve what you want without doing this yourself."}], "owner": {"reputation": 77, "user_id": 9136882, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-dsxPscj4Q4w/AAAAAAAAAAI/AAAAAAAAghQ/flkF2DDzKME/photo.jpg?sz=128", "display_name": "kyle hoell", "link": "https://stackoverflow.com/users/9136882/kyle-hoell"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 655, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565216831, "creation_date": 1565213530, "last_edit_date": 1565216831, "question_id": 57402552, "link": "https://stackoverflow.com/questions/57402552/how-to-load-file-into-memory-node-js-or-put-sqlite-database-into-memory", "title": "How to load file into memory node.js? Or put sqlite database into memory?", "body": "<p>So i have a sqlite database i run queries on using better-sqlite3, this database is being updated constantly, which will cause the queries i am running to mess up if certain data was changed while it was finishing all the queries. To combat this i am currently reading the sqlite file, and writing it into a different location, and then just accessing the data off of that since it won't be updated till i read and write it again. But i would rather not be constantly reading and writing the file to the disk if i don't need to. Is there a way to load the file into cache? The main issue would be i would need some path to that cached file, since better-sqlite3 uses the files path to start loading data, unless there's an option in better-sqlite3 I am unaware of, any advice would be appreciated, thanks.</p>\n\n<p>I Have heard of something called memfs, but cannot get it to work with better-sqlite3 since it requires a path.</p>\n"}, {"tags": ["javascript", "constraint-programming"], "comments": [{"owner": {"reputation": 2829, "user_id": 6388552, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TJiGS.jpg?s=128&g=1", "display_name": "ths", "link": "https://stackoverflow.com/users/6388552/ths"}, "edited": false, "score": 0, "creation_date": 1565213413, "post_id": 57402498, "comment_id": 101286560, "body": "requires some further explanations I guess, also an input/output example would help."}, {"owner": {"reputation": 193600, "user_id": 87189, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/98e7d6edce863e7a1bf8199b082eb25e?s=128&d=identicon&r=PG", "display_name": "tadman", "link": "https://stackoverflow.com/users/87189/tadman"}, "edited": false, "score": 8, "creation_date": 1565213439, "post_id": 57402498, "comment_id": 101286569, "body": "\ud83d\udc34 This is an \u201cI want a pony\u201d type of question and these are difficult to answer concisely and that makes them off-topic on Stack Overflow. If you can, make an attempt and then show us your code we can understand what you\u2019re trying to do on a technical level. Even a small amount of code, however incomplete or broken, can give us context and illustrate your intentions. If you really don&#39;t know where to start and need guidance consider using services like <a href=\"https://www.codementor.io\" rel=\"nofollow noreferrer\">Codementor</a>, <a href=\"https://www.savvy.is\" rel=\"nofollow noreferrer\">Savvy</a>, or <a href=\"https://www.airpair.com\" rel=\"nofollow noreferrer\">airpair</a>."}, {"owner": {"reputation": 2607, "user_id": 11417877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1930e387dc37d52d55d2dc084d8ed1d5?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick K", "link": "https://stackoverflow.com/users/11417877/yannick-k"}, "edited": false, "score": 1, "creation_date": 1565213758, "post_id": 57402498, "comment_id": 101286672, "body": "If they&#39;re &quot;unique&quot;, how come your example has duplicate values...?"}, {"owner": {"reputation": 46605, "user_id": 663447, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3c5a518c8611ad19f80640cc80fe4383?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/663447/harry"}, "reply_to_user": {"reputation": 2607, "user_id": 11417877, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1930e387dc37d52d55d2dc084d8ed1d5?s=128&d=identicon&r=PG&f=1", "display_name": "Yannick K", "link": "https://stackoverflow.com/users/11417877/yannick-k"}, "edited": false, "score": 0, "creation_date": 1565214494, "post_id": 57402498, "comment_id": 101286884, "body": "@YannickK in the items array they are unique, the buckets only show where they are allowed to go, there should be only 1 in the end."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1565214757, "post_id": 57402498, "comment_id": 101286974, "body": "Sounds very much like a <a href=\"https://en.wikipedia.org/wiki/Constraint_satisfaction_problem\" rel=\"nofollow noreferrer\">MAX-CSP</a>, but i can&#39;t quite pin down which one"}, {"owner": {"reputation": 58866, "user_id": 1891677, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/38c13c3ccee10dcfc38799fb45d5a65b?s=128&d=identicon&r=PG", "display_name": "tao", "link": "https://stackoverflow.com/users/1891677/tao"}, "edited": false, "score": 0, "creation_date": 1565221624, "post_id": 57402498, "comment_id": 101288480, "body": "<code>1, 6, 5, 4, 2, _, 3</code>, <code>1, 7, 5, 4, 2, _, 3</code>, <code>6, 7, 1, 4, 2, _, 3</code>, <code>6, 7, 5, 4, 2, _, 3</code> are all valid solutions. Why is <code>6, 7, 1,...</code> the correct one?"}, {"owner": {"reputation": 46605, "user_id": 663447, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3c5a518c8611ad19f80640cc80fe4383?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/663447/harry"}, "reply_to_user": {"reputation": 58866, "user_id": 1891677, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/38c13c3ccee10dcfc38799fb45d5a65b?s=128&d=identicon&r=PG", "display_name": "tao", "link": "https://stackoverflow.com/users/1891677/tao"}, "edited": false, "score": 0, "creation_date": 1565222195, "post_id": 57402498, "comment_id": 101288600, "body": "@AndreiGheorghiu you&#39;re right, so long as as many are used as possible they are valid."}], "answers": [{"comments": [{"owner": {"reputation": 58866, "user_id": 1891677, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/38c13c3ccee10dcfc38799fb45d5a65b?s=128&d=identicon&r=PG", "display_name": "tao", "link": "https://stackoverflow.com/users/1891677/tao"}, "edited": false, "score": 0, "creation_date": 1565309536, "post_id": 57416919, "comment_id": 101323255, "body": "Here&#39;s <a href=\"https://jsfiddle.net/websiter/fybxh9L6/10/\" rel=\"nofollow noreferrer\">my approach</a> explained."}], "tags": [], "owner": {"reputation": 46605, "user_id": 663447, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3c5a518c8611ad19f80640cc80fe4383?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/663447/harry"}, "is_accepted": true, "score": 0, "last_activity_date": 1565281243, "creation_date": 1565281243, "answer_id": 57416919, "question_id": 57402498, "link": "https://stackoverflow.com/questions/57402498/ensuring-objects-go-into-the-right-bucket/57416919#57416919", "title": "ensuring objects go into the right bucket", "body": "<p>Alrighty here's my solution:\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"true\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code snippet-currently-hidden\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>      var oneLevelDeepClone = function (obj) {\r\n        return obj.map(function (bucket) {\r\n          return bucket.map(function (item) {\r\n            return item\r\n          })\r\n        })\r\n      }\r\n\r\n      var maxDeployments;\r\n      var maxDeploymentsCount = 0;\r\n\r\n      function constraintProblem (tempBuckets) {\r\n        const tryAgain = [];\r\n\r\n        var iterativeTempBuckets = oneLevelDeepClone(tempBuckets)\r\n        var innerTempBuckets = oneLevelDeepClone(iterativeTempBuckets)\r\n        innerTempBuckets.forEach(function (bucket, bucketIndex) {\r\n          var keep = bucket.shift();\r\n          if (bucket.length) {\r\n            // worth a try\r\n            bucket.forEach(function (item) {\r\n              var newAttempt = oneLevelDeepClone(innerTempBuckets)\r\n              newAttempt[bucketIndex] = [item]\r\n              tryAgain.push(newAttempt);\r\n            })\r\n          }\r\n\r\n          if (keep) {\r\n            // keep 1 and toss the others, then remove that one from the other buckets\r\n            innerTempBuckets[bucketIndex] = [keep]\r\n            innerTempBuckets.forEach(function (iterativeBucket, iterativeBucketIndex) {\r\n              if (bucketIndex != iterativeBucketIndex) {\r\n                if (iterativeBucket.indexOf(keep) != -1) {\r\n                  iterativeBucket.splice(iterativeBucket.indexOf(keep), 1)\r\n                }\r\n              }\r\n            })\r\n          }\r\n        })\r\n\r\n        var counter = 0;\r\n        innerTempBuckets.forEach(function (bucket) {\r\n          if (bucket[0]) counter++\r\n        })\r\n        if (counter &gt; maxDeploymentsCount) {\r\n          maxDeploymentsCount = counter;\r\n          maxDeployments = innerTempBuckets;\r\n        }\r\n\r\n        if (tryAgain.length) {\r\n          tryAgain.forEach(function (anotherTry) {\r\n            constraintProblem(anotherTry);\r\n          })\r\n        }\r\n      }\r\n\r\npossiblebuckets = [\r\n  [1, 6, 3, 4], [7, 3, 6], [5, 3, 1], [3, 2, 4], [2], [2], [2, 3]\r\n]\r\n      constraintProblem(possiblebuckets)\r\n\r\nconsole.log(maxDeployments);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.15/lodash.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;pre id=\"results\"&gt;&lt;/pre&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 46605, "user_id": 663447, "user_type": "registered", "accept_rate": 84, "profile_image": "https://www.gravatar.com/avatar/3c5a518c8611ad19f80640cc80fe4383?s=128&d=identicon&r=PG", "display_name": "Harry", "link": "https://stackoverflow.com/users/663447/harry"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "closed_date": 1565394395, "accepted_answer_id": 57416919, "answer_count": 1, "score": 0, "last_activity_date": 1565281243, "creation_date": 1565213267, "last_edit_date": 1565215111, "question_id": 57402498, "link": "https://stackoverflow.com/questions/57402498/ensuring-objects-go-into-the-right-bucket", "closed_reason": "Not suitable for this site", "title": "ensuring objects go into the right bucket", "body": "<p>I have these unique, distinct items.</p>\n\n<pre><code>items = [1, 2, 3, 4, 5, 6, 7, 8]\n</code></pre>\n\n<p>Buckets currently show the possibilities of where each item can go. Items can only go where they are allowed.</p>\n\n<pre><code>possiblebuckets = [\n  [1, 6, 3, 4], [7, 3, 6], [5, 3, 1], [3, 2, 4], [2], [2], [2, 3]\n]\n</code></pre>\n\n<p>I want each bucket to have 1 item. I want to make sure that I can put items into a bucket such that maximum number of items are put into a bucket. It's ok if some items can't fit into a bucket or if some buckets remain empty.</p>\n\n<p>Result should be:</p>\n\n<pre><code>finalbuckets = [\n  [6], [7], [1], [4], [2], [], [3]\n]\n</code></pre>\n\n<p>For example a naive way of doing it:</p>\n\n<pre><code>      items.forEach(function (item) {\n        var findMatch = possiblebuckets.filter(function (bucket, i) {\n          return bucket.includes(item)\n        });\n\n        findMatch.length = 0\n        findMatch.push(item);\n      });\n</code></pre>\n\n<p>Results in items not being put into the optimal bucket.</p>\n"}, {"tags": ["javascript", "reactjs", "firebase", "google-cloud-firestore"], "answers": [{"comments": [{"owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "edited": false, "score": 0, "creation_date": 1565350679, "post_id": 57409369, "comment_id": 101336280, "body": "Hi Alex! Alex here :) Have you tried my solution above? If you think that my answer helped you, please consider accepting it by clicking the checkmark (\u2714\ufe0f) on the left side under the vote arrows. Should change the color in green. I&#39;d appreciate it. Thanks!"}], "tags": [], "owner": {"reputation": 89473, "user_id": 5246885, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/Bxclj.jpg?s=128&g=1", "display_name": "Alex Mamo", "link": "https://stackoverflow.com/users/5246885/alex-mamo"}, "is_accepted": false, "score": 0, "last_activity_date": 1565256499, "creation_date": 1565256499, "answer_id": 57409369, "question_id": 57402496, "link": "https://stackoverflow.com/questions/57402496/firestore-multi-wherefilter-query/57409369#57409369", "title": "Firestore multi whereFilter query", "body": "<p>When you are using a query like yours, a warning like this is displayed in your IDE:</p>\n\n<blockquote>\n  <p>W/Firestore: (19.0.0) [Firestore]: Listen for Query(rooms where location == CA and range &lt; 1000 and range > 10 order by range, <em>location</em>) failed: Status{code=FAILED_PRECONDITION, description=The query requires an index. You can create it here: <a href=\"https://console.firebase.google.com/project/\" rel=\"nofollow noreferrer\">https://console.firebase.google.com/project/</a>...</p>\n</blockquote>\n\n<p>So that query will not work unless you create an <a href=\"https://firebase.google.com/docs/firestore/query-data/indexing\" rel=\"nofollow noreferrer\">index</a> for it. This can be done, by creating it manually in your <a href=\"https://console.firebase.google.com/\" rel=\"nofollow noreferrer\">Firebase Console</a> or you can simply click on that link or copy and paste the url into a web broswer and you index will be created automatically.</p>\n"}], "owner": {"reputation": 1, "user_id": 11898589, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-x4TgqaPU4HY/AAAAAAAAAAI/AAAAAAAAAAc/RXQqI8wJWCA/photo.jpg?sz=128", "display_name": "Alex Dev", "link": "https://stackoverflow.com/users/11898589/alex-dev"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 26, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565256522, "creation_date": 1565213264, "last_edit_date": 1565256522, "question_id": 57402496, "link": "https://stackoverflow.com/questions/57402496/firestore-multi-wherefilter-query", "title": "Firestore multi whereFilter query", "body": "<pre><code>let query = firebase.firestore().collection('rooms')\nquery = query.where('location', '==', 'CA')\nquery = query.where('range', '&gt;', '10')\nquery = query.where('range', '&lt;', '1000')\nconst res = yield query.get()\n</code></pre>\n\n<p>I can't get response from this query. If I remove either range filter or location filter, this query runs well. How can I get res from the above query?</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 168, "user_id": 3772772, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d8b7da329dc8f345c10043d243309cbf?s=128&d=identicon&r=PG&f=1", "display_name": "ISAE", "link": "https://stackoverflow.com/users/3772772/isae"}, "edited": false, "score": 2, "creation_date": 1565213623, "post_id": 57402490, "comment_id": 101286626, "body": "<code>let res=&quot;&quot;; for(let i = 0;...) {res=res+input1[i]+input2[i]}</code> This is the general idea. you&#39;ll need to take care of the length of each string and such."}], "answers": [{"tags": [], "owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "is_accepted": false, "score": 1, "last_activity_date": 1565213747, "creation_date": 1565213747, "answer_id": 57402582, "question_id": 57402490, "link": "https://stackoverflow.com/questions/57402490/how-to-get-the-desired-output-2-inputs-given-name-and-dob/57402582#57402582", "title": "How to get the desired output? 2 inputs given name and DOB?", "body": "<p>Here you go:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const garble = (name, dob) =&gt; {\r\n  let result = \"\";\r\n  for (let i = 0; i &lt; Math.max(name.length, dob.length); i++) {\r\n    if (i &lt; name.length) {\r\n      result += name[i];\r\n    }\r\n    if (i &lt; dob.length) {\r\n      result += dob[i];\r\n    }\r\n  }\r\n  return result;\r\n};\r\n\r\nconst expectedOutput = 'j0o8h0n6d1o9e72'\r\nconst actualOutput = garble(\"johndoe\", \"08061972\");\r\nconsole.log(actualOutput === expectedOutput, actualOutput);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 11898618, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-1mTdzp-QvQQ/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reWxJIJFSGeCBCQV7bm2nZWp0n_gQ/photo.jpg?sz=128", "display_name": "Rock", "link": "https://stackoverflow.com/users/11898618/rock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 53, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565213747, "creation_date": 1565213240, "question_id": 57402490, "link": "https://stackoverflow.com/questions/57402490/how-to-get-the-desired-output-2-inputs-given-name-and-dob", "title": "How to get the desired output? 2 inputs given name and DOB?", "body": "<p>2 inputs given name and DOB</p>\n\n<p>Example.</p>\n\n<p>Input 1: johndoe</p>\n\n<p>Input 2: 08061972</p>\n\n<p>Expected Output: j0o8h0n6d1o9e72</p>\n"}, {"tags": ["javascript", "arrays", "ecmascript-6"], "comments": [{"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1565213404, "post_id": 57402469, "comment_id": 101286555, "body": "<i>Array.some which I think is the appropriate method since it returns true/false and the index</i> =&gt; <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/some\" rel=\"nofollow noreferrer\">Array.some()</a> just returns <code>true</code> or <code>false</code>, nothing more. Maybe you can try <code>Array.find()</code> or <code>Array.findIndex()</code>..."}, {"owner": {"reputation": 157, "user_id": 5494810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8fa61b78e6fc69a8dcba6eaae4bea2?s=128&d=identicon&r=PG&f=1", "display_name": "rew", "link": "https://stackoverflow.com/users/5494810/rew"}, "reply_to_user": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1565213668, "post_id": 57402469, "comment_id": 101286645, "body": "Array.some can return the index as in my example. findIndex() has the same problem when index+1 is out of bounds."}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 1, "creation_date": 1565213832, "post_id": 57402469, "comment_id": 101286696, "body": "You lost me at <code>~a[idx+1].date  &amp;&amp; ~(i = idx)</code>"}], "answers": [{"comments": [{"owner": {"reputation": 157, "user_id": 5494810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8fa61b78e6fc69a8dcba6eaae4bea2?s=128&d=identicon&r=PG&f=1", "display_name": "rew", "link": "https://stackoverflow.com/users/5494810/rew"}, "edited": false, "score": 0, "creation_date": 1565276678, "post_id": 57402596, "comment_id": 101311154, "body": "This one works if 1 is subtracted from arr.length, ie: <code>if (idx == arr.length-1) {</code>, I was hoping for an arrow function 1 liner so I favor and @Bergi solution below, however it gives an undefined for dates under the first array date value, ie &quot; 1/1/2019&#39;. I&#39;ll mark this one as the answer if I don&#39;t get any other ideas. Thank you."}, {"owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "reply_to_user": {"reputation": 157, "user_id": 5494810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8fa61b78e6fc69a8dcba6eaae4bea2?s=128&d=identicon&r=PG&f=1", "display_name": "rew", "link": "https://stackoverflow.com/users/5494810/rew"}, "edited": false, "score": 0, "creation_date": 1565286145, "post_id": 57402596, "comment_id": 101315769, "body": "@Bob Tha&#39;s right. Snippet updated. You may always reduce to an one line arrow function. In any case, consider the readability and the numbers of constraints you want. Let me know. Thanks"}], "tags": [], "owner": {"reputation": 39660, "user_id": 3880585, "user_type": "registered", "accept_rate": 100, "profile_image": "https://i.stack.imgur.com/8pfp3.png?s=128&g=1", "display_name": "gaetanoM", "link": "https://stackoverflow.com/users/3880585/gaetanom"}, "is_accepted": true, "score": 0, "last_activity_date": 1565285479, "last_edit_date": 1565285479, "creation_date": 1565213823, "answer_id": 57402596, "question_id": 57402469, "link": "https://stackoverflow.com/questions/57402469/javascript-es6-array-method-for-comparing-current-array-value-to-next/57402596#57402596", "title": "Javascript ES6 Array Method for comparing current array value to next", "body": "<p>You can use <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/find\" rel=\"nofollow noreferrer\">Array.find()</a>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var sea27 = [\r\n    {name: 'Spring', date: 1553140800000},\r\n    {name: 'Summer', date: 1561089600000},\r\n    {name: 'Autumn', date: 1569211200000},\r\n    {name: 'Winter', date: 1576904400000}\r\n];\r\np = new Date(\"7/31/2019\").getTime();\r\n\r\n\r\nvar ele = sea27.find(function(ele, idx, arr) {\r\n    if (idx == arr.length - 1 &amp;&amp; p &gt;= ele.date) {\r\n        return true;\r\n    }\r\n    if (idx == 0 &amp;&amp; p &lt;= arr[idx+1].date) {\r\n        return true;\r\n    }\r\n    if (p &gt;= ele.date &amp;&amp; p &lt;= arr[idx+1].date) {\r\n        return true\r\n    }\r\n});\r\n\r\nconsole.log(ele);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "is_accepted": false, "score": 0, "last_activity_date": 1565214111, "creation_date": 1565214111, "answer_id": 57402638, "question_id": 57402469, "link": "https://stackoverflow.com/questions/57402469/javascript-es6-array-method-for-comparing-current-array-value-to-next/57402638#57402638", "title": "Javascript ES6 Array Method for comparing current array value to next", "body": "<p><code>find</code> should work just fine. Yes, you need an extra condition to check for the end of the array, in which case you'd assume that your value is smaller than the non-existing next one.</p>\n\n<pre><code>const value = \u2026; // to compare against\nconst result = array.find((val, i) =&gt;\n    val.date &lt;= value &amp;&amp; (i+1 == array.length || value &lt; array[i+1].date)\n);\n</code></pre>\n\n<p>This will return the last array element when the <code>value</code> is larger than the last element, and will return <code>undefined</code> when the <code>value</code> is smaller than the first element. Of course, given your array is ordered, this could be optimised by a binary search.</p>\n"}], "owner": {"reputation": 157, "user_id": 5494810, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d8fa61b78e6fc69a8dcba6eaae4bea2?s=128&d=identicon&r=PG&f=1", "display_name": "rew", "link": "https://stackoverflow.com/users/5494810/rew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 431, "favorite_count": 0, "accepted_answer_id": 57402596, "answer_count": 2, "score": 0, "last_activity_date": 1565285479, "creation_date": 1565213038, "question_id": 57402469, "link": "https://stackoverflow.com/questions/57402469/javascript-es6-array-method-for-comparing-current-array-value-to-next", "title": "Javascript ES6 Array Method for comparing current array value to next", "body": "<p>I'm trying to figure out the most efficient ES6 way to find a value in an array that is greater than the value at the current index, but less than the value at index+1. If found, I want to return the lower bound, and if not found I assume \"Winter\" in my example. After trying map, findIndex, filter, reduce, and some I have had varying levels of success. It's been quite the learning experience! The problem with the array methods is that index+1 throws an exception at the last comparison since index+1 is out  of bounds. Here is the array:</p>\n\n<pre><code>var sea27 = [\n    {name: 'Spring', date: 1553140800000},\n    {name: 'Summer', date: 1561089600000},\n    {name: 'Autumn', date: 1569211200000},\n    {name: 'Winter', date: 1576904400000}\n];\n</code></pre>\n\n<p>and here is my attempt using Array.some which I think is the appropriate method since it returns true/false and the index. However since Array.reduce start at index 1, perhaps that is the best way, but I was not able to make the accumulator work. Also chaining methods might help, but it's beyond my level of understanding.</p>\n\n<pre><code>p = new Date(\"7/31/2019\").getTime();\nconsole.log(pp)\nww = sea27.some(function (e, idx, a) {return pp &gt; a[idx].date &amp;&amp; pp &lt; ~a[idx+1].date  &amp;&amp; ~(i = idx);});\nconsole.log( \"array some try\", ww, i, (ww)?sea27[i].name:\"Winter\");\n// \"Summer\"\n// new Date(\"12/31/2019\").getTime(); Exception.\n</code></pre>\n\n<p>My question, is there a better way/method?, and if array some is the right array method, how do I stop when index+1 is above length? The following is not working either.</p>\n\n<pre><code>ww = sea27.some(function (e, idx, a) {console.log(a.length);return pp &gt; a[idx].date &amp;&amp; pp &lt; a[(idx+1 &lt; a.length-1)? idx+1 : a.length].date  &amp;&amp; ~(i = idx);});\n</code></pre>\n\n<p>Thank you in advance.</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 3, "creation_date": 1565212947, "post_id": 57402452, "comment_id": 101286408, "body": "Take a look to <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify\" rel=\"nofollow noreferrer\">JSON.stringify()</a>"}, {"owner": {"reputation": 11, "user_id": 11756078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19bd41bbb81bb63c2deccba63649c0e3?s=128&d=identicon&r=PG&f=1", "display_name": "julian hill", "link": "https://stackoverflow.com/users/11756078/julian-hill"}, "reply_to_user": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1565213218, "post_id": 57402452, "comment_id": 101286481, "body": "Thanks! That&#39;s exactly what I was looking for."}, {"owner": {"reputation": 12628, "user_id": 3244064, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5ea793dcbaff5a5e29ad3d05ef564d86?s=128&d=identicon&r=PG", "display_name": "Andriy", "link": "https://stackoverflow.com/users/3244064/andriy"}, "edited": false, "score": 0, "creation_date": 1565214403, "post_id": 57402452, "comment_id": 101286856, "body": "You can use <code>space</code> third argument (<a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify#The_space_argument\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>&zwnj;&#8203;) of the <code>JSON.stringify()</code> to format the result with identation: <code>JSON.stringify(data, null, 2)</code>"}], "answers": [{"tags": [], "owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "is_accepted": false, "score": 1, "last_activity_date": 1565213357, "creation_date": 1565213357, "answer_id": 57402513, "question_id": 57402452, "link": "https://stackoverflow.com/questions/57402452/how-do-i-convert-an-array-of-nested-objects-into-a-string/57402513#57402513", "title": "How do I convert an array of nested objects into a String?", "body": "<p>Is this what you had in mind?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const data = [\r\n  [{ incr: 261, decr: 547 }, { incr: 259, decr: 549 }],\r\n  [{ incr: 254, decr: 547 }]\r\n];\r\n\r\n// like this?\r\nconsole.log(JSON.stringify(data))\r\n// or maybe like this with some more control over how you generate the string?\r\nconsole.log(data.reduce((acc, val) =&gt; acc.concat(val), []).map(({ incr, decr }) =&gt; `Increase: ${incr} - decrease: ${decr}`).join(', '))</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 11, "user_id": 11756078, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/19bd41bbb81bb63c2deccba63649c0e3?s=128&d=identicon&r=PG&f=1", "display_name": "julian hill", "link": "https://stackoverflow.com/users/11756078/julian-hill"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 286, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565213846, "creation_date": 1565212908, "last_edit_date": 1565213846, "question_id": 57402452, "link": "https://stackoverflow.com/questions/57402452/how-do-i-convert-an-array-of-nested-objects-into-a-string", "title": "How do I convert an array of nested objects into a String?", "body": "<p>I would like to convert a nested array of Objects into a String. How do I do this?</p>\n\n<p>I have tried the .toString() method but that just returns [Object object], which is not what I want. </p>\n\n<p>My array looks like this: </p>\n\n<pre><code>[[\n{\"incr\":261,\"decr\":547},\n{\"incr\":259,\"decr\":549}\n],\n[{\"incr\":254,\"decr\":547}]\n]\n</code></pre>\n\n<p>And I want to be able to convert it into a String that looks exactly like that.</p>\n"}, {"tags": ["javascript", "html", "reactjs", "emotion"], "answers": [{"comments": [{"owner": {"reputation": 1369, "user_id": 367358, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b45f7bd4e0a7fe26339938eaa4d2602e?s=128&d=identicon&r=PG", "display_name": "Aleksey", "link": "https://stackoverflow.com/users/367358/aleksey"}, "reply_to_user": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "edited": false, "score": 0, "creation_date": 1565214460, "post_id": 57402610, "comment_id": 101286877, "body": "That probably means you did not set up emotion babel plugin. You can try alternative syntax <code>styled(&#39;li&#39;)</code>"}, {"owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "edited": false, "score": 0, "creation_date": 1565214577, "post_id": 57402610, "comment_id": 101286917, "body": "I also tried <code>styled(&#39;li&#39;)</code> with no luck. how do I set up emotion babel plugin?"}, {"owner": {"reputation": 1369, "user_id": 367358, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b45f7bd4e0a7fe26339938eaa4d2602e?s=128&d=identicon&r=PG", "display_name": "Aleksey", "link": "https://stackoverflow.com/users/367358/aleksey"}, "reply_to_user": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "edited": false, "score": 0, "creation_date": 1565214686, "post_id": 57402610, "comment_id": 101286948, "body": "Install babel-plugin-emotion package and add to your .babelrc config: <code>{   &quot;plugins&quot;: [&quot;emotion&quot;] }</code>.  For details check here <a href=\"https://github.com/emotion-js/emotion/tree/master/packages/babel-plugin-emotion\" rel=\"nofollow noreferrer\">github.com/emotion-js/emotion/tree/master/packages/&hellip;</a>"}], "tags": [], "owner": {"reputation": 1369, "user_id": 367358, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b45f7bd4e0a7fe26339938eaa4d2602e?s=128&d=identicon&r=PG", "display_name": "Aleksey", "link": "https://stackoverflow.com/users/367358/aleksey"}, "is_accepted": false, "score": 0, "last_activity_date": 1565214712, "last_edit_date": 1565214712, "creation_date": 1565213906, "answer_id": 57402610, "question_id": 57402448, "link": "https://stackoverflow.com/questions/57402448/style-list-elements-using-emotion/57402610#57402610", "title": "Style list elements using emotion", "body": "<p>Your syntax is incorrect, should be:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const Li = styled.li`\n      color: red;\n`\n</code></pre>\n"}], "owner": {"reputation": 1486, "user_id": 6637004, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/84f0334c76323d612a5fefc5b1d2deef?s=128&d=identicon&r=PG&f=1", "display_name": "maddie", "link": "https://stackoverflow.com/users/6637004/maddie"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 390, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565214712, "creation_date": 1565212873, "last_edit_date": 1565213499, "question_id": 57402448, "link": "https://stackoverflow.com/questions/57402448/style-list-elements-using-emotion", "title": "Style list elements using emotion", "body": "<p>I'm trying to style my <code>react</code> app using <code>emotion</code></p>\n\n<p>I'd like to make my <code>ul</code> and <code>li</code> elements unbulleted. </p>\n\n<p>I'm following <a href=\"https://emotion.sh/docs/styled\" rel=\"nofollow noreferrer\">this doc from Emotion</a>. </p>\n\n<p>This is their example: </p>\n\n<pre><code>import styled from '@emotion/styled'\n\nconst Child = styled.div`\n  color: red;\n`\n\nconst Parent = styled.div`\n  ${Child} {\n    color: green;\n  }\n`\nrender(\n  &lt;div&gt;\n    &lt;Parent&gt;\n      &lt;Child&gt;green&lt;/Child&gt;\n    &lt;/Parent&gt;\n    &lt;Child&gt;red&lt;/Child&gt;\n  &lt;/div&gt;\n)\n</code></pre>\n\n<p>And this is my attempt.</p>\n\n<pre><code>import React from 'react';\nimport styled from '@emotion/styled'\n\nclass Budget extends React.Component {\n    state = {\n      studentLoanPayment: 0,\n    };\n\n    handleInputChange = event =&gt; {\n        const { name, value } = event.target;\n        console.log(name, value)\n        this.setState({ [name]: value });\n    };\n    const Li = styled.li({\n      color: 'red'\n    })\n    render() {\n</code></pre>\n\n<p>However I'm getting an <code>unexpected token</code> error for <code>li</code> in <code>const li = ...</code>\nHow do I target common HTML elements like <code>ul</code>, <code>li</code>, <code>p</code>, <code>label</code>?</p>\n"}, {"tags": ["javascript", "html", "internet-explorer", "html2canvas"], "comments": [{"owner": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1565219702, "post_id": 57402425, "comment_id": 101288084, "body": "Out of curiosity, does &quot;right click on the canvas, then pick save as&quot; not work? And also, no, anything starting with <code>ms</code> is horrendously proprietary and a great idea to avoid. <a href=\"https://caniuse.com/#search=toDataURL\" rel=\"nofollow noreferrer\">toDataURL</a> is most certainly supported by both IE and Edge. However, it will NOT work if you draw &quot;not your own content&quot; on it, so: can you show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}, {"owner": {"reputation": 404, "user_id": 4762500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8666c365031788c5e1127169019a45eb?s=128&d=identicon&r=PG&f=1", "display_name": "Md.", "link": "https://stackoverflow.com/users/4762500/md"}, "reply_to_user": {"reputation": 39499, "user_id": 740553, "user_type": "registered", "accept_rate": 46, "profile_image": "https://i.stack.imgur.com/s5cOX.jpg?s=128&g=1", "display_name": "Mike &#39;Pomax&#39; Kamermans", "link": "https://stackoverflow.com/users/740553/mike-pomax-kamermans"}, "edited": false, "score": 0, "creation_date": 1565272549, "post_id": 57402425, "comment_id": 101308679, "body": "I am basically downloading a Div as image. The contents of that div is dynamically written."}], "answers": [{"comments": [{"owner": {"reputation": 404, "user_id": 4762500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8666c365031788c5e1127169019a45eb?s=128&d=identicon&r=PG&f=1", "display_name": "Md.", "link": "https://stackoverflow.com/users/4762500/md"}, "edited": false, "score": 0, "creation_date": 1565274171, "post_id": 57404576, "comment_id": 101309636, "body": "This says, msSaveBlob is obsolete: <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Navigator/msSaveBlob\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/API/Navigator/msSaveBlo&zwnj;&#8203;b</a>"}], "tags": [], "owner": {"reputation": 6456, "user_id": 11490347, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/lFlKK.jpg?s=128&g=1", "display_name": "Yu Zhou", "link": "https://stackoverflow.com/users/11490347/yu-zhou"}, "is_accepted": true, "score": 0, "last_activity_date": 1565232939, "creation_date": 1565232939, "answer_id": 57404576, "question_id": 57402425, "link": "https://stackoverflow.com/questions/57402425/supporting-canvas-download-as-image-in-ie-or-edge/57404576#57404576", "title": "Supporting Canvas &quot;Download as Image&quot; in IE or Edge", "body": "<ol>\n<li>The difference between <code>msToBlob</code> and <code>toBlob</code> is just the usage scenario. From the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob#Browser_compatibility\" rel=\"nofollow noreferrer\">MDN docs</a>, we can see that <code>toBlob</code> is not supported by IE and Edge. We need to add the vendor prefix <code>ms</code> when use in IE and Edge. Besides, we can specify the image type in <code>toBlob</code>, but <code>msToBlob</code> returns only PNG.</li>\n<li>Yes, your guess is right, <code>ms</code> is the vendor prefix. Sometimes we need to add the <code>ms</code> prefix to make some methods compatible with IE and Edge. </li>\n<li>There's no documentation indicates that methods with <code>ms</code> prefix is unsafe. It's just for the browser compatibility.</li>\n</ol>\n"}], "owner": {"reputation": 404, "user_id": 4762500, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8666c365031788c5e1127169019a45eb?s=128&d=identicon&r=PG&f=1", "display_name": "Md.", "link": "https://stackoverflow.com/users/4762500/md"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 485, "favorite_count": 0, "accepted_answer_id": 57404576, "answer_count": 1, "score": 1, "last_activity_date": 1565232939, "creation_date": 1565212700, "last_edit_date": 1565217029, "question_id": 57402425, "link": "https://stackoverflow.com/questions/57402425/supporting-canvas-download-as-image-in-ie-or-edge", "title": "Supporting Canvas &quot;Download as Image&quot; in IE or Edge", "body": "<p>I am working on supporting Canvas \"Download as Image\" in IE or Edge. It seems <code>canvas.toDataURL()</code> does not work in IE or edge.</p>\n\n<p>People use <code>canvas.msToBlob()</code> for supporting Canvas \"Download as Image\" in IE or Edge. \nI searched for documentation on <code>canvas.msToBlob()</code> method. But what I found is mainly <code>canvas.toBlob</code>.</p>\n\n<p>My questions are:</p>\n\n<ol>\n<li>What is the difference between <code>msToBlob</code> and <code>toBlob</code>?</li>\n<li>I found description of <code>msToBlob</code> only Microsoft MSDN. So, <code>msToBlob</code> has something to do with Microsoft? I hope \"ms\" in <code>msToBlob</code> does not mean Microsoft :)</li>\n<li>Is it safe to use functions like <code>msToBlob</code>/<code>msSaveBlob</code> as they do not seem to be global/general/available on all platforms?</li>\n</ol>\n"}, {"tags": ["javascript", "node.js", "webrtc"], "answers": [{"comments": [{"owner": {"reputation": 349, "user_id": 3327912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3461c1142c0f16c26d786d9808858bf8?s=128&d=identicon&r=PG&f=1", "display_name": "DeDenker", "link": "https://stackoverflow.com/users/3327912/dedenker"}, "edited": false, "score": 0, "creation_date": 1565385138, "post_id": 57404869, "comment_id": 101351805, "body": "This did not fix my problem, but I did upvote as it did help. I was able to add some additional logging and got the error: &quot;Cannot add ICE candidate when there is no remote SDP&quot;. But I will open another question for this and add the reference here."}], "tags": [], "owner": {"reputation": 622, "user_id": 4575258, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/Dx8tC.jpg?s=128&g=1", "display_name": "Polaris", "link": "https://stackoverflow.com/users/4575258/polaris"}, "is_accepted": false, "score": 1, "last_activity_date": 1565235557, "creation_date": 1565235557, "answer_id": 57404869, "question_id": 57402361, "link": "https://stackoverflow.com/questions/57402361/webrtc-unable-to-to-receive-remote-video-or-audio/57404869#57404869", "title": "WebRTC: Unable to to receive remote video or audio", "body": "<p>You should try to use a TURN-Server. Even for usage in development. The traffic will be relayed if a direct P2P-connection can't be stablished. </p>\n\n<p>Have a look at Coturn. \nI can't say that this will be the solution for the current problem, but in my opinion most of the issues will be solved - and for production use, you will need it definitely. </p>\n"}, {"tags": [], "owner": {"reputation": 349, "user_id": 3327912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3461c1142c0f16c26d786d9808858bf8?s=128&d=identicon&r=PG&f=1", "display_name": "DeDenker", "link": "https://stackoverflow.com/users/3327912/dedenker"}, "is_accepted": true, "score": 1, "last_activity_date": 1566129700, "creation_date": 1566129700, "answer_id": 57544353, "question_id": 57402361, "link": "https://stackoverflow.com/questions/57402361/webrtc-unable-to-to-receive-remote-video-or-audio/57544353#57544353", "title": "WebRTC: Unable to to receive remote video or audio", "body": "<p>I found the problem and solution.</p>\n\n<p>First:\nThe STUN/TURN server was not a problem, this<br>\n urls: 'stun:stun.l.google.com:19302'\nIs enough for local network development.\nBut I did install turnserver (ubuntu 18) which seems fine.</p>\n\n<p>Second:\nMy problem was first in de message exchange, you need to make sure the OFFER/ANSWER go to right clients.</p>\n\n<p>Last:\nThe negotiation needs to be stable before sending/receiving media.\nI modified my code that connection and start video sending are separated.\nAlso this allows for just one side to send media or not.</p>\n"}], "owner": {"reputation": 349, "user_id": 3327912, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3461c1142c0f16c26d786d9808858bf8?s=128&d=identicon&r=PG&f=1", "display_name": "DeDenker", "link": "https://stackoverflow.com/users/3327912/dedenker"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 344, "favorite_count": 0, "accepted_answer_id": 57544353, "answer_count": 2, "score": 1, "last_activity_date": 1566129700, "creation_date": 1565212387, "last_edit_date": 1565419622, "question_id": 57402361, "link": "https://stackoverflow.com/questions/57402361/webrtc-unable-to-to-receive-remote-video-or-audio", "title": "WebRTC: Unable to to receive remote video or audio", "body": "<p>The goal is to have a webrtc video/audio p2p connection.\nI did take some examples and put them together and manage to get far enough that \"most\" exchange (via eventsource on NodeJS) is done, just remote stream is not received.</p>\n\n<p><em>I found that Chrome browser had a bug in which the request is send twice (any fix for this?).</em></p>\n\n<p>But even when I use firefox (on laptop and phone), there is just no stream received.\nwith no error on both sides.</p>\n\n<p>This is the full script:</p>\n\n<pre><code>    if (!console || !console.log) {\n       var console = {\n        log: function() {}\n      };\n    }\n\n    // Ugh, globals.\n    // const signaling = new SignalingChannel(); hier moet een module voor komen, als een EventServerSide en/of Websocket...\n    var peerc;\n    var source = new EventSource(\"events\");\n    var selfView = document.getElementById('localvideo');\n    var remoteView = document.getElementById('remotevideo');\n    //var TextHistory = [\"apple\", \"orange\", \"cherry\"]; //[ ];\n    var audio = null;\n    var audioSendTrack = null;\n    var video = null;\n    var videoSendTrack = null;\n    var chatbox = document.getElementById(\"chatbox\");\n    var constraints = {video:true, audio:true};\n    var configuration = { \n      iceServers: [{\n        'urls': 'stun:stun.l.google.com:19302'\n      }]\n    };\n    var started = false;\n    var pc;\n\n\n    $(\"#incomingCall\").modal();\n    $(\"#incomingCall\").modal(\"hide\");\n\n    $(\"#incomingCall\").on(\"hidden\", function() {\n      document.getElementById(\"incomingRing\").pause();\n    });\n\n    source.addEventListener(\"ping\", function(e) {}, false);\n\n    source.addEventListener(\"userjoined\", function(e) {\n      appendUser(e.data);\n    }, false);\n\n    source.addEventListener(\"userleft\", function(e) {\n      removeUser(e.data);\n    }, false);\n\n    source.addEventListener(\"offer\", async function(e) {\n      log(\"offer received\");\n      if (!pc) {\n        log(\"PeerConnection ontbreekt\");\n        warmup(false); \n      } else {\n        warmup(true); \n      }\n\n      try {\n        const message = JSON.parse(e.data);  \n        if (message.desc) {\n          log(\"Offer: Desc\");\n          const desc = message.desc;\n\n          // if we get an offer, we need to reply with an answer\n          if (desc.type == 'offer') {\n            log(\"Offer: Desc offer\");\n            var connectionState = pc.connectionState;\n            log(connectionState);\n            await pc.setRemoteDescription(JSON.parse(desc));  // Parse nodig?\n            await pc.setLocalDescription(await pc.createAnswer());\n            var connectionState = pc.connectionState;\n            log(connectionState);\n            //signaling.send(JSON.stringify({desc: pc.localDescription}));\n              jQuery.post(\n                \"offer\", {\n                  to: message.from,\n                  from: document.getElementById(\"user\").innerHTML,\n                  desc: JSON.stringify(pc.localDescription)\n                },\n                function() { log(\"Offer sent!\"); }\n              ).error(\"desc\", error);\n          } else {\n            log(\"Offer: Desc answer\");\n            await pc.setRemoteDescription(JSON.parse(desc));\n          }\n        } else if (message.start) {\n          log(\"Offer: Start received from: \" + message.from);\n          started = true;\n          voor = message.from\n          van  = message.to\n          if (audio &amp;&amp; audioSendTrack) {\n            log(\"Wacht op audio\");\n            await audio.sender.replaceTrack(audioSendTrack);\n          }\n          if (video &amp;&amp; videoSendTrack) {\n            log(\"Wacht op video\");\n            await video.sender.replaceTrack(videoSendTrack);\n          }\n          log(\"Offer: Started....wat next???\");\n        } else {\n          log(\"Offer: wacht op candidate\");\n          log(message.candidate);\n          await pc.addIceCandidate(message.candidate);\n        }\n      } catch (err) {\n        console.log(err);\n        log(\"Error in Offer event: \" + err);\n      }\n    }, false);\n\n    source.addEventListener(\"message\", function(e) {\n      var message = JSON.parse(e.data);\n      text = \"User: \" + message.from + \" - Say: \" + message.text;\n      WriteChat(text);\n    }, false);\n\n    source.addEventListener(\"answer\", function(e) {\n      var answer = JSON.parse(e.data);\n      peerc.setRemoteDescription(new RTCSessionDescription(JSON.parse(answer.answer)), function() {\n        console.log(\"Call established!\");\n      }, error);\n    }, false);\n\n    function log(info) {\n      var d = document.getElementById(\"debug\");\n      d.innerHTML += info + \"\\n\\n\";\n    }\n\n    function appendUser(user) {\n      // If user already exists, ignore it\n      var index = users.indexOf(user);\n      if (index &gt; -1)\n        return;\n\n      users.push(user);\n      console.log(\"appendUser: user = \" + user + \", users.length = \" + users.length);\n\n\n      var d = document.createElement(\"div\");\n      d.setAttribute(\"id\", btoa(user));\n\n      var a = document.createElement(\"button\");\n      a.setAttribute(\"class\", \"vertical-align\");\n      a.setAttribute(\"onclick\", \"initiateCall('\" + user + \"');\"); //Dit moet dus prive chat worden.\n      a.innerHTML = \"&lt;i class='icon-user icon-white'&gt;&lt;/i&gt; \" + user;\n\n      d.appendChild(a);\n      d.appendChild(document.createElement(\"br\"));\n      document.getElementById(\"users\").appendChild(d);\n    }\n\n    function removeUser(user) {\n      // If user already exists, ignore it\n      var index = users.indexOf(user);\n      if (index == -1)\n        return;\n\n      users.splice(index, 1)\n\n      var d = document.getElementById(btoa(user));\n      if (d) {\n        document.getElementById(\"users\").removeChild(d);\n      }\n    }\n\n    function sendPrive(user) {\n      log(\"Prive message\"); // + JSON.stringify(offer));\n      if(!user) { user = \"niets!\"};\n      jQuery.post(\n        \"message\", {\n          to: user,\n          from: document.getElementById(\"user\").innerHTML,\n          text: JSON.stringify(message)\n        },\n        function() { console.log(\"Message sent!\"); }\n      ).error(\"privemsg\",error);\n\n    }\n\n    function offer(data){\n      log(\"Offer to send message: \" + JSON.stringify(data));\n    // start\n    // desc + type\n    // candidate\n\n\n      jQuery.post(\n        \"offer\", {data: JSON.stringify(data)},\n        function() { console.log(\"Message sent!\"); }\n      ).error(\"offer\",error);\n\n    }\n\n    function BroadcastMessage() {\n      log(\"Broadcast Message\"); // + JSON.stringify(offer));  //function uitbreiden met argumentinvoer\n      message = document.getElementById(\"text_input\").value;\n      jQuery.post(\n        \"message\", {\n          to: user,\n          from: document.getElementById(\"user\").innerHTML,\n          text: JSON.stringify(message)\n        },\n        function() { console.log(\"Message sent!\"); }\n      ).error(\"BroadcastMessage\",error);\n      //WriteChat(msg);\n    }\n\n    // Dit is een interne, dit moet dus via events gaan!!\n    function WriteChat(text){\n      // kan nog user en tijd bijkomen...\n      chatbox.innerHTML += text + \"&lt;br&gt;\";   // deze werkt dus niet meer, canvas wil andere methode\n    }\n\n    // Call warmup() to warm-up ICE, DTLS, and media, but not send media yet.\n    async function warmup(isAnswerer) {\n      log(\"Warming up...\");\n      pc = new RTCPeerConnection(configuration);\n      if (!isAnswerer) {                          //uitzoeken waarom deze uitgeschakelen...\n        audio = pc.addTransceiver('audio');\n        video = pc.addTransceiver('video');\n      }\n\n      // send any ice candidates to the other peer\n      pc.onicecandidate = (event) =&gt; {\n        log(\"Offer: onicecandidate...\");\n        //signaling.send(JSON.stringify({candidate: event.candidate}));\n        log(event.candidate)\n        if(event.candidate){\n          jQuery.post(\n            \"offer\", {\n            to: voor,\n            from: document.getElementById(\"user\").innerHTML,\n            data: event.candidate,              // debugging...\n            candidate: event.candidate\n          }, // hier zijn we nu...candidate blijft leeg????\n          function() { log(\"Offer: onicecandidate sent!\"); }\n        ).error(\"onicecandidate\",error);\n        } else {\n          log(\"geen candidate\");\n        }\n      };\n\n      pc.onnegotiationneeded = function() {\n        log(\"negotiation nodig...\");\n        //var connectionState = RTCPeerConnection.connectionState;\n        pc.createOffer().then(function(aanbod) {\n          var connectionState = pc.connectionState;\n          log(connectionState);\n          log(JSON.stringify(aanbod));\n          return pc.setLocalDescription(aanbod);\n        })\n        .then(function() {\n          log(JSON.stringify(pc.localDescription));\n          jQuery.post(\n            \"offer\", {\n              to: document.getElementById(\"user\").innerHTML,\n              from: voor,\n              desc: JSON.stringify(pc.localDescription)\n            },\n            function() { log(\"Offer: localDescription sent!\"); }\n          ).error(\"onnegotiationneeded\",error);\n        })\n        .catch(error);\n      }\n\n    log(\"Remote video\");\n      // once media for the remote track arrives, show it in the remote video element\n      pc.ontrack = async (event) =&gt; {\n        log(\"start ontrack...\");\n        remoteView.srcObject = event.streams[0];\n        remoteView.play();\n        selfView.play();\n        log(\"oude ontrack...\");\n        try {\n          log(event.track.kind);\n          if (event.track.kind == 'audio') {\n            log(\"Track heeft audio\");\n            if (isAnswerer) {\n              log(\"beantwoord audio\");\n              audio = event.transceiver;\n              audio.direction = 'sendrecv';\n              if (started &amp;&amp; audioSendTrack) {\n                await audio.sender.replaceTrack(audioSendTrack);\n              }\n            }\n          }\n        } catch (err) {\n          console.log(err);\n          log(\"Error in audio ontrack: \" + err);\n        }\n        try {\n          log(event.track.kind);\n          if (event.track.kind == 'video') {\n            log(\"Track heeft video\");\n            if (isAnswerer) {\n              log(\"beantwoord video\");\n              video = event.transceiver;\n              video.direction = 'sendrecv';\n              if (started &amp;&amp; videoSendTrack) {\n                await video.sender.replaceTrack(videoSendTrack);\n              }\n            }\n          }\n        } catch (err) {\n          console.log(err);\n          log(\"Error in video ontrack: \" + err);\n        }\n        try {\n          // don't set srcObject again if it is already set.\n          if (!remoteView.srcObject) {\n            log(\"Nog geen remote video...\");\n            remoteView.srcObject = new MediaStream();\n          }\n          log(\"Voeg remote video toe...\");\n          log(event.track);\n          remoteView.srcObject.addTrack(event.track);\n        } catch (err) {\n          console.log(err);\n          log(\"Error in last ontrack: \" + err);\n        }\n      };\n    log(\"Local video &amp; audio\");\n      try {\n        // get a local stream, show it in a self-view and add it to be sent\n        const stream = await navigator.mediaDevices.getUserMedia(constraints);\n        selfView.srcObject = stream;\n        audioSendTrack = stream.getAudioTracks()[0];\n        if (started) {\n          log(\"Started = True =&gt; audio\");\n          log(audio)\n          await audio.sender.replaceTrack(audioSendTrack);\n        }\n        videoSendTrack = stream.getVideoTracks()[0];\n        if (started) {\n          log(\"Started = True =&gt; video\");\n          log(video)\n          await video.sender.replaceTrack(videoSendTrack);\n        }\n      } catch (err) {\n        console.log(err);\n        log(\"Error in local video &amp; audio: \" + err);\n      }\n      log(\"Warmup completed\");\n    }\n\n\n    function initiateCall(user) {\n      log(\"Start van video verzoek\");\n      // Verander UI\n      //document.getElementById(\"main\").style.display = \"none\";\n      //document.getElementById(\"call\").style.display = \"block\";\n      log(\"Voor gebruiker: \" + user);\n      voor = user;\n      log(\"Van gebruiker:  \" + document.getElementById(\"user\").innerHTML);\n      van = document.getElementById(\"user\").innerHTML;\n      started = true;\n      //offer(JSON.stringify({start: true}));\n      jQuery.post(\n        \"offer\", {\n          to: user,\n          from: document.getElementById(\"user\").innerHTML,\n          start: true\n        },\n        function() { console.log(\"Offer sent!\"); }\n      ).error(\"initiateCall\",error);\n    }\n\n\n    function endCall() {\n      log(\"Ending call\");\n      document.getElementById(\"call\").style.display = \"none\";\n      document.getElementById(\"main\").style.display = \"block\";\n\n      document.getElementById(\"localvideo\").mozSrcObject.stop();\n      document.getElementById(\"localvideo\").mozSrcObject = null;\n      document.getElementById(\"remotevideo\").mozSrcObject = null;\n\n      peerc.close();\n      peerc = null;\n    }\n\n    function error(from,e) {\n      if (typeof e == typeof {}) {\n        //alert(\"Oh no! \" + JSON.stringify(e));\n        log(\"Oh no! \" + from + \" ERROR: \" + JSON.stringify(e));\n      } else {\n        alert(\"Oh no!!!! \" + from + \" ERROR: \" + e);\n      }\n      //endCall();\n    }\n\n    var users = [];\n    users.push(document.getElementById(\"user\").innerHTML);\n</code></pre>\n\n<p>Please note that I combined examples for:</p>\n\n<ul>\n<li>developer.mozilla.org</li>\n<li>w3c.github.io</li>\n<li>www.html5rocks.com\nSo there might be unnecessary code\nIf required, I can put all code in repository and share that for full view.</li>\n</ul>\n\n<p>Additional logging shows the following errors:\nDOMException: \"Cannot add ICE candidate when there is no remote SDP\" \nInvalidModificationError: Cannot set local offer when createOffer has not been called.</p>\n"}, {"tags": ["javascript", "json", "ajax", "azure-data-factory", "tabulator"], "comments": [{"owner": {"reputation": 320, "user_id": 1217183, "user_type": "registered", "accept_rate": 42, "profile_image": "https://i.stack.imgur.com/mvJx1.jpg?s=128&g=1", "display_name": "Imran Khan", "link": "https://stackoverflow.com/users/1217183/imran-khan"}, "edited": false, "score": 2, "creation_date": 1565212268, "post_id": 57402245, "comment_id": 101286183, "body": "can you log response.data to the console using <code>console.log(response.data);</code> I think you should return response directly instead of response.data because I can see your JSON object is not structured this way."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1565213851, "post_id": 57402245, "comment_id": 101286701, "body": "Exactly right; <code>axios</code> uses <code>.data</code> to grab the actual response from its <code>response</code> object, but the callback passed to <code>ajaxResponse</code> already receives the data itself as <code>response</code> param. Use <code>return response;</code> instead and it starts working instantly: <a href=\"https://jsfiddle.net/khrismuc/1e365wr8/\" rel=\"nofollow noreferrer\">jsfiddle.net/khrismuc/1e365wr8</a>"}, {"owner": {"reputation": 424, "user_id": 4530173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/254NM.jpg?s=128&g=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4530173/sean"}, "edited": false, "score": 0, "creation_date": 1565214499, "post_id": 57402245, "comment_id": 101286887, "body": "That&#39;s magic, thank you! I altered the return to just <code>return response;</code> and it&#39;s now working perfectly!"}], "answers": [{"tags": [], "owner": {"reputation": 1, "user_id": 10317174, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-yVgbi_WP6Jc/AAAAAAAAAAI/AAAAAAAAAAA/APUIFaPv8txkCB6-IFwYP0XjjRLrvGl2Hw/mo/photo.jpg?sz=128", "display_name": "Ben Cisneros", "link": "https://stackoverflow.com/users/10317174/ben-cisneros"}, "is_accepted": false, "score": 0, "last_activity_date": 1589237944, "last_edit_date": 1589237944, "creation_date": 1589237370, "answer_id": 61740757, "question_id": 57402245, "link": "https://stackoverflow.com/questions/57402245/tabulator-fetching-json-file-with-ajax/61740757#61740757", "title": "Tabulator - Fetching JSON file with ajax", "body": "<p>Ok, I think you need to do something like this in your ajaxResponse function</p>\n\n<pre><code> ajaxResponse:function(url, params, response){\n        //url - the URL of the request\n        //params - the parameters passed with the request\n        //response - the JSON object returned in the body of the response.\n\n        return response.data.d; //pass the data array into Tabulator\n    },\n</code></pre>\n"}], "owner": {"reputation": 424, "user_id": 4530173, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/254NM.jpg?s=128&g=1", "display_name": "Sean", "link": "https://stackoverflow.com/users/4530173/sean"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 562, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1589237944, "creation_date": 1565211662, "last_edit_date": 1565299318, "question_id": 57402245, "link": "https://stackoverflow.com/questions/57402245/tabulator-fetching-json-file-with-ajax", "title": "Tabulator - Fetching JSON file with ajax", "body": "<p>I'm trying to ingest a json file that is stored in an Azure blob container, having been run through the Azure Data Factory.</p>\n\n<p>I've been struggling with getting the ajax request to work, despite following the documentation and reading lots of Stack Overflow questions about it. </p>\n\n<p>I have already worked through various CORS issues to get access to the json file. Now that I've fixed the CORS issues I can access the json file but I now get a Data Loading Error:</p>\n\n<pre><code>Data Loading Error - Unable to process data due to invalid data type\nExpecting: array \nReceived:  undefined \nData:      undefined\n</code></pre>\n\n<p>I originally thought that the issue was with a BOM that was appended to the start of the json file, just before the json array, as I was seeing it appended before the array in the preview of the file in Chrome when it was loaded.</p>\n\n<p>However, I've now manually removed the BOM and re-uploaded the file to my blob storage and I'm still getting the same error.</p>\n\n<p>Below is my Tabulator code that is being loaded in an html file:</p>\n\n<pre><code>var table = new Tabulator(\"#example-table\", {\n    ajaxConfig:{\n        method: 'GET',\n        mode: 'cors'\n    },\n    ajaxURL:\"https://mihndbotblob.blob.core.windows.net/mihndbot-transcripts/finalTranscripts/2019-08-07.json\", //ajax URL\n    index:\"MessageID\",\n    autoResize:true,\n    layout:\"fitData\", //layout options\n    placeholder:\"Awaiting Data...\",\n    columns:[ //Define Table Columns\n        {title:\"Type\", field:\"Type\", visible:false},\n        {title:\"Message ID\", field:\"MessageID\"},\n        {title:\"Message Time\", field:\"MessageTime\"},\n        {title:\"Channel\", field:\"MessageChannel\"},\n        {title:\"Sender ID\", field:\"MessageSenderID\"},\n        {title:\"Sender Name\", field:\"MessageSenderName\"},\n        {title:\"Conversation ID\", field:\"ConversationID\"},\n        {title:\"Message\", field:\"MessageText\"},\n        {title:\"Quick Reply Display Text\", field:\"QuickReplyDisplayText\"},\n        {title:\"Quick Reply Payload\", field:\"QuickReplyPayload\"},\n        {title:\"QnA Questions\", field:\"Question\"},\n        {title:\"Answer\", field:\"Answer\", width:400, formatter:\"textarea\", variableHeight:true},\n        {title:\"Prompts\", field:\"FollowUpPrompts\", mutator:promptsMutator, width:500, formatter:\"textarea\", variableHeight:true},\n    ],\n\n    ajaxResponse:function(url, params, response){\n        //url - the URL of the request\n        //params - the parameters passed with the request\n        //response - the JSON object returned in the body of the response.\n\n        return response.data; //pass the data array into Tabulator\n    },\n\n    rowClick:function(e, row){ //trigger an alert message when the row is clicked\n    alert(\"Row \" + row.getData().id + \" Clicked!!!!\");\n    },\n});\n</code></pre>\n\n<p>Tabulator works absolutely fine when I load the json data in manually:</p>\n\n<pre><code>var tableData = [\n    {\"Type\":\"trace\",\"MessageID\":\"aHEeHB0t0hHr7175E07zF8kfVjGLBRMdzD_oYUEHNE71Va3wN0yJv9aBAzkOk6JMZvTBRMzBNCUjCvTRuxrAVA\",\"MessageTime\":\"2019-08-07T09:19:45.342Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"Symptoms\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"What are the symptoms of schizophrenia?\\\"]\",\"Answer\":\"\ud83d\ude4a\\nThe symptoms of schizophrenia are usually classified into:\\n\\n* Positive symptoms \u2013 any change in behaviour or thoughts, such as hallucinations or delusions\\n* Negative symptoms \u2013 a withdrawal or lack of function that you would not usually expect to see in a healthy person; for example, people with schizophrenia often appear emotionless and flat\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":150,\\\"qna\\\":null,\\\"displayText\\\":\\\"Related Issues\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"hLgPSyBP-cAPdKYJ-bFHUckfVjGLBRMdzD_oYUEHNE4bJsq-K4GZvHL9m6guIMtShXFRY-XoxTMdZVBLLZBGDQ\",\"MessageTime\":\"2019-08-07T09:19:39.582Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"Schizophrenia\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"What is schizophrenia?\\\"]\",\"Answer\":\"\ud83e\udd14\\nViews on schizophrenia have changed over the years. Lots of people question whether it's really a distinct condition, or actually a few different conditions that overlap. But you may still be given this diagnosis if you experience symptoms such as:\\n\\n* psychosis (such as hallucinations or delusions)\\n\\n* disorganised thinking and speech\\n\\n* feeling disconnected from your feelings\\n\\n* difficulty concentrating\\n\\n* wanting to avoid people\\n\\n* a lack of interest in things\\n\\n* not wanting to look after yourself.\\n\\nBecause psychiatric experts disagree about what schizophrenia is, some people argue that this term shouldn't be used at all. Others think the name of the condition doesn't matter, and prefer to just focus on helping you manage your symptoms and meeting your individual needs.\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":147,\\\"qna\\\":null,\\\"displayText\\\":\\\"Prevalence\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":148,\\\"qna\\\":null,\\\"displayText\\\":\\\"Causes\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":149,\\\"qna\\\":null,\\\"displayText\\\":\\\"Symptoms\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":150,\\\"qna\\\":null,\\\"displayText\\\":\\\"Related Issues\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"893qgqa3cR9\",\"MessageTime\":\"2019-08-07T09:19:27.853Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"WHAT_IS_MENTAL_HEALTH\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":\"Mental Health\",\"QuickReplyPayload\":\"WHAT_IS_MENTAL_HEALTH\",\"Question\":\"[\\\"What is mental health?\\\"]\",\"Answer\":\"\ud83e\udd14\\nIn many ways, Mental Health is just like Physical Health: Everybody has it and we need to take care of it.\\n\\nGood Mental Health means being generally able to think, feel and react in the ways that you need and want to live your life. But if you go through a period of poor Mental Health you might find the ways you're frequently thinking, feeling or reacting become difficult, or even impossible, to cope with. This can feel just as bad as a physical illness, or even worse.\\n\\nMental Health problems affect around one in four people in any given year. They range from common problems, such as depression and anxiety, to rarer problems such as schizophrenia and bipolar disorder.\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":123,\\\"qna\\\":null,\\\"displayText\\\":\\\"What Types Are There?\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"V2VFDEjUb_w3uoJwMwdHYckfVjGLBRMdzD_oYUEHNE7ufPEJdVsZzedQSKsLniMtd9-f_Ngy-mk-tNd1w3X33w\",\"MessageTime\":\"2019-08-07T09:19:57.637Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"Suicide\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"How common is suicide?\\\"]\",\"Answer\":\"\ud83e\udd13\\nApproximately 6.7% of people have attempted suicide during their lifetime in the UK\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":195,\\\"qna\\\":null,\\\"displayText\\\":\\\"Get Help\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"V2VFDEjUb_w3uoJwMwdHYckfVjGLBRMdzD_oYUEHNE7ufPEJdVsZzedQSKsLniMtd9-f_Ngy-mk-tNd1w3X33w\",\"MessageTime\":\"2019-08-07T09:19:57.637Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"Suicide\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"How common is suicide?\\\"]\",\"Answer\":\"\ud83e\udd13\\nApproximately 6.7% of people have attempted suicide during their lifetime in the UK\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":195,\\\"qna\\\":null,\\\"displayText\\\":\\\"Get Help\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"RLOUlqwIcO4zSY4zHgWG78kfVjGLBRMdzD_oYUEHNE7gRJSePak9st7_nIIgw3OWXLvAMm4hMXeJ5kFnlIavpQ\",\"MessageTime\":\"2019-08-07T09:20:04.294Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"Get Help\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"Help me\\\"]\",\"Answer\":\"\ud83c\udd98\\nBeing in a crisis can be very frightening. If you are worried about your safety, thinking of self-harm or feeling suicidal please get some help and support ASAP.\\n\\nWhen you're in a criss due to Mental Health problems or struggling to deal with your NeuroDiversity it can be difficult to know what to do. Everyone is deserving of support and it's vitally important that you get some when in crisis.\\n\\nPlease follow this link for details of where you can get help:\\n\\nhttps://www.mihnd.co.uk/crisis\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":196,\\\"qna\\\":null,\\\"displayText\\\":\\\"Help Yourself\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"G2tRRm8FFZk\",\"MessageTime\":\"2019-08-07T09:19:14.723Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"WHAT_IS_NEURODIVERSITY\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":\"NeuroDiversity\",\"QuickReplyPayload\":\"WHAT_IS_NEURODIVERSITY\",\"Question\":\"[\\\"What is NeuroDiversity?\\\"]\",\"Answer\":\"\ud83e\udd14\\nAt its core, NeuroDiversity advocates neurological differences to be recognised and respected in the same way other human variations are. These neurological differences are viewed as a variation of how our the human brain is wired. As such, it rejects the idea that these conditions can be cured and instead celebrates them for bringing diversity to human society and culture\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":241,\\\"qna\\\":null,\\\"displayText\\\":\\\"More Info\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"hLgPSyBP-cAPdKYJ-bFHUckfVjGLBRMdzD_oYUEHNE4bJsq-K4GZvHL9m6guIMtShXFRY-XoxTMdZVBLLZBGDQ\",\"MessageTime\":\"2019-08-07T09:19:39.582Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"Schizophrenia\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"What is schizophrenia?\\\"]\",\"Answer\":\"\ud83e\udd14\\nViews on schizophrenia have changed over the years. Lots of people question whether it's really a distinct condition, or actually a few different conditions that overlap. But you may still be given this diagnosis if you experience symptoms such as:\\n\\n* psychosis (such as hallucinations or delusions)\\n\\n* disorganised thinking and speech\\n\\n* feeling disconnected from your feelings\\n\\n* difficulty concentrating\\n\\n* wanting to avoid people\\n\\n* a lack of interest in things\\n\\n* not wanting to look after yourself.\\n\\nBecause psychiatric experts disagree about what schizophrenia is, some people argue that this term shouldn't be used at all. Others think the name of the condition doesn't matter, and prefer to just focus on helping you manage your symptoms and meeting your individual needs.\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":147,\\\"qna\\\":null,\\\"displayText\\\":\\\"Prevalence\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":148,\\\"qna\\\":null,\\\"displayText\\\":\\\"Causes\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":149,\\\"qna\\\":null,\\\"displayText\\\":\\\"Symptoms\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":150,\\\"qna\\\":null,\\\"displayText\\\":\\\"Related Issues\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"G2tRRm8FFZk\",\"MessageTime\":\"2019-08-07T09:19:14.723Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"WHAT_IS_NEURODIVERSITY\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":\"NeuroDiversity\",\"QuickReplyPayload\":\"WHAT_IS_NEURODIVERSITY\",\"Question\":\"[\\\"What is NeuroDiversity?\\\"]\",\"Answer\":\"\ud83e\udd14\\nAt its core, NeuroDiversity advocates neurological differences to be recognised and respected in the same way other human variations are. These neurological differences are viewed as a variation of how our the human brain is wired. As such, it rejects the idea that these conditions can be cured and instead celebrates them for bringing diversity to human society and culture\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":241,\\\"qna\\\":null,\\\"displayText\\\":\\\"More Info\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"jQ3W8nCoefM16arb5pAgQ8kfVjGLBRMdzD_oYUEHNE4L1csZIZpXf1CKnx7YFgCGg9X-fFegS4emSdid1as21g\",\"MessageTime\":\"2019-08-07T09:19:33.470Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"What Types Are There?\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"What types of mental health are there?\\\"]\",\"Answer\":\"\ud83d\ude49\\nThere are many different mental health problems. Some of them have similar symptoms, so you may experience the symptoms of more than one mental health problem, or be given several diagnoses at once. Or you might not have any particular diagnosis, but still be finding things very difficult. Everyone\u2019s experience is different and can change at different times. Click below to find out more about specific types of mental health problems:\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":124,\\\"qna\\\":null,\\\"displayText\\\":\\\"Depression\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":130,\\\"qna\\\":null,\\\"displayText\\\":\\\"Anxiety\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":135,\\\"qna\\\":null,\\\"displayText\\\":\\\"Phobias\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":140,\\\"qna\\\":null,\\\"displayText\\\":\\\"Eating Disorders\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":146,\\\"qna\\\":null,\\\"displayText\\\":\\\"Schizophrenia\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":151,\\\"qna\\\":null,\\\"displayText\\\":\\\"OCD\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":166,\\\"qna\\\":null,\\\"displayText\\\":\\\"Personality Disorders\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":172,\\\"qna\\\":null,\\\"displayText\\\":\\\"Bipolar\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":156,\\\"qna\\\":null,\\\"displayText\\\":\\\"Panic Disorder\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":184,\\\"qna\\\":null,\\\"displayText\\\":\\\"Psychosis\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"RLOUlqwIcO4zSY4zHgWG78kfVjGLBRMdzD_oYUEHNE7gRJSePak9st7_nIIgw3OWXLvAMm4hMXeJ5kFnlIavpQ\",\"MessageTime\":\"2019-08-07T09:20:04.294Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"Get Help\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"Help me\\\"]\",\"Answer\":\"\ud83c\udd98\\nBeing in a crisis can be very frightening. If you are worried about your safety, thinking of self-harm or feeling suicidal please get some help and support ASAP.\\n\\nWhen you're in a criss due to Mental Health problems or struggling to deal with your NeuroDiversity it can be difficult to know what to do. Everyone is deserving of support and it's vitally important that you get some when in crisis.\\n\\nPlease follow this link for details of where you can get help:\\n\\nhttps://www.mihnd.co.uk/crisis\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":196,\\\"qna\\\":null,\\\"displayText\\\":\\\"Help Yourself\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"45tDLlo7yKuzjKgGHAOYfskfVjGLBRMdzD_oYUEHNE4iCVqhprpw8f0-sbuDSIo7IcuNITny2S9mRiVxgefD6A\",\"MessageTime\":\"2019-08-07T09:19:51.300Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"Related Issues\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"What are related issues of depression?\\\"]\",\"Answer\":\"\ud83e\uddd0\\nRelated issues of depression include:\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":130,\\\"qna\\\":null,\\\"displayText\\\":\\\"Anxiety\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":179,\\\"qna\\\":null,\\\"displayText\\\":\\\"Self-Harm\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":181,\\\"qna\\\":null,\\\"displayText\\\":\\\"Suicide\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":172,\\\"qna\\\":null,\\\"displayText\\\":\\\"Bipolar\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":166,\\\"qna\\\":null,\\\"displayText\\\":\\\"Personality Disorder\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"aHEeHB0t0hHr7175E07zF8kfVjGLBRMdzD_oYUEHNE71Va3wN0yJv9aBAzkOk6JMZvTBRMzBNCUjCvTRuxrAVA\",\"MessageTime\":\"2019-08-07T09:19:45.342Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"Symptoms\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"What are the symptoms of schizophrenia?\\\"]\",\"Answer\":\"\ud83d\ude4a\\nThe symptoms of schizophrenia are usually classified into:\\n\\n* Positive symptoms \u2013 any change in behaviour or thoughts, such as hallucinations or delusions\\n* Negative symptoms \u2013 a withdrawal or lack of function that you would not usually expect to see in a healthy person; for example, people with schizophrenia often appear emotionless and flat\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":150,\\\"qna\\\":null,\\\"displayText\\\":\\\"Related Issues\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"jQ3W8nCoefM16arb5pAgQ8kfVjGLBRMdzD_oYUEHNE4L1csZIZpXf1CKnx7YFgCGg9X-fFegS4emSdid1as21g\",\"MessageTime\":\"2019-08-07T09:19:33.470Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"What Types Are There?\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"What types of mental health are there?\\\"]\",\"Answer\":\"\ud83d\ude49\\nThere are many different mental health problems. Some of them have similar symptoms, so you may experience the symptoms of more than one mental health problem, or be given several diagnoses at once. Or you might not have any particular diagnosis, but still be finding things very difficult. Everyone\u2019s experience is different and can change at different times. Click below to find out more about specific types of mental health problems:\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":124,\\\"qna\\\":null,\\\"displayText\\\":\\\"Depression\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":130,\\\"qna\\\":null,\\\"displayText\\\":\\\"Anxiety\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":135,\\\"qna\\\":null,\\\"displayText\\\":\\\"Phobias\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":140,\\\"qna\\\":null,\\\"displayText\\\":\\\"Eating Disorders\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":146,\\\"qna\\\":null,\\\"displayText\\\":\\\"Schizophrenia\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":151,\\\"qna\\\":null,\\\"displayText\\\":\\\"OCD\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":166,\\\"qna\\\":null,\\\"displayText\\\":\\\"Personality Disorders\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":172,\\\"qna\\\":null,\\\"displayText\\\":\\\"Bipolar\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":156,\\\"qna\\\":null,\\\"displayText\\\":\\\"Panic Disorder\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":184,\\\"qna\\\":null,\\\"displayText\\\":\\\"Psychosis\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"45tDLlo7yKuzjKgGHAOYfskfVjGLBRMdzD_oYUEHNE4iCVqhprpw8f0-sbuDSIo7IcuNITny2S9mRiVxgefD6A\",\"MessageTime\":\"2019-08-07T09:19:51.300Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"Related Issues\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"What are related issues of depression?\\\"]\",\"Answer\":\"\ud83e\uddd0\\nRelated issues of depression include:\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":130,\\\"qna\\\":null,\\\"displayText\\\":\\\"Anxiety\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":179,\\\"qna\\\":null,\\\"displayText\\\":\\\"Self-Harm\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":181,\\\"qna\\\":null,\\\"displayText\\\":\\\"Suicide\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":172,\\\"qna\\\":null,\\\"displayText\\\":\\\"Bipolar\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":166,\\\"qna\\\":null,\\\"displayText\\\":\\\"Personality Disorder\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"893qgqa3cR9\",\"MessageTime\":\"2019-08-07T09:19:27.853Z\",\"MessageChannel\":\"facebook\",\"MessageSenderID\":\"2826538590752448\",\"MessageSenderName\":\"Sean Betts\",\"ConversationID\":\"2826538590752448-530667464425015\",\"MessageText\":\"WHAT_IS_MENTAL_HEALTH\",\"MessageRecipientID\":\"530667464425015\",\"QuickReplyDisplayText\":\"Mental Health\",\"QuickReplyPayload\":\"WHAT_IS_MENTAL_HEALTH\",\"Question\":\"[\\\"What is mental health?\\\"]\",\"Answer\":\"\ud83e\udd14\\nIn many ways, Mental Health is just like Physical Health: Everybody has it and we need to take care of it.\\n\\nGood Mental Health means being generally able to think, feel and react in the ways that you need and want to live your life. But if you go through a period of poor Mental Health you might find the ways you're frequently thinking, feeling or reacting become difficult, or even impossible, to cope with. This can feel just as bad as a physical illness, or even worse.\\n\\nMental Health problems affect around one in four people in any given year. They range from common problems, such as depression and anxiety, to rarer problems such as schizophrenia and bipolar disorder.\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":123,\\\"qna\\\":null,\\\"displayText\\\":\\\"What Types Are There?\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"L4QV73hzRzsKljnv6hDaZ8-5|0000011\",\"MessageTime\":\"2019-08-07T09:18:08.634Z\",\"MessageChannel\":\"webchat\",\"MessageSenderID\":\"r_u00jwzqzyu\",\"MessageSenderName\":null,\"ConversationID\":\"L4QV73hzRzsKljnv6hDaZ8-5\",\"MessageText\":\"Causes\",\"MessageRecipientID\":\"r_u00jwzqzyu\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"What causes depression?\\\"]\",\"Answer\":\"\ud83d\ude48\\nThere are several ideas about what causes depression. It can vary a lot between different people, and for some people a combination of different factors may cause their depression. Some find that they become depressed without any obvious reason.\\n\\nPossible causes of depression are:\\n\\n* Childhood experiences\\n* Life events\\n* Other mental health problems\\n* Physical health problems\\n* Genetic inheritance\\n* Medication, recreational drugs and alcohol\\n* Sleep, diet and exercise.\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":127,\\\"qna\\\":null,\\\"displayText\\\":\\\"Types\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"L4QV73hzRzsKljnv6hDaZ8-5|0000009\",\"MessageTime\":\"2019-08-07T09:18:03.664Z\",\"MessageChannel\":\"webchat\",\"MessageSenderID\":\"r_u00jwzqzyu\",\"MessageSenderName\":null,\"ConversationID\":\"L4QV73hzRzsKljnv6hDaZ8-5\",\"MessageText\":\"Psychosis\",\"MessageRecipientID\":\"r_u00jwzqzyu\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"What is psychosis?\\\"]\",\"Answer\":\"\ud83e\udd14\\nPsychosis (also called a psychotic experience or psychotic episode) is when you perceive or interpret reality in a very different way from people around you. The most common types of psychosis are:\\n\\n* hallucinations, such as hearing voices or having visions\\n\\n* delusions, such as paranoia or delusions of grandeur.\\n\\nPsychosis affects people in different ways. You might experience it once, have short episodes throughout your life, or live with it most of the time. It's also possible to have a psychotic experience without ever being diagnosed with a particular mental health problem.\\n\\nSome people have a positive experience of psychosis. You may find it comforting, or feel that it helps you understand the world or makes you more creative.\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":240,\\\"qna\\\":null,\\\"displayText\\\":\\\"Prevalence\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":239,\\\"qna\\\":null,\\\"displayText\\\":\\\"Causes\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":238,\\\"qna\\\":null,\\\"displayText\\\":\\\"Symptoms\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":237,\\\"qna\\\":null,\\\"displayText\\\":\\\"Related Issues\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"L4QV73hzRzsKljnv6hDaZ8-5|0000003\",\"MessageTime\":\"2019-08-07T09:17:49.494Z\",\"MessageChannel\":\"webchat\",\"MessageSenderID\":\"r_u00jwzqzyu\",\"MessageSenderName\":null,\"ConversationID\":\"L4QV73hzRzsKljnv6hDaZ8-5\",\"MessageText\":\"What Is Mental Health?\",\"MessageRecipientID\":\"r_u00jwzqzyu\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"What is mental health?\\\"]\",\"Answer\":\"\ud83e\udd14\\nIn many ways, Mental Health is just like Physical Health: Everybody has it and we need to take care of it.\\n\\nGood Mental Health means being generally able to think, feel and react in the ways that you need and want to live your life. But if you go through a period of poor Mental Health you might find the ways you're frequently thinking, feeling or reacting become difficult, or even impossible, to cope with. This can feel just as bad as a physical illness, or even worse.\\n\\nMental Health problems affect around one in four people in any given year. They range from common problems, such as depression and anxiety, to rarer problems such as schizophrenia and bipolar disorder.\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":123,\\\"qna\\\":null,\\\"displayText\\\":\\\"What Types Are There?\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"L4QV73hzRzsKljnv6hDaZ8-5|0000005\",\"MessageTime\":\"2019-08-07T09:17:54.321Z\",\"MessageChannel\":\"webchat\",\"MessageSenderID\":\"r_u00jwzqzyu\",\"MessageSenderName\":null,\"ConversationID\":\"L4QV73hzRzsKljnv6hDaZ8-5\",\"MessageText\":\"What Types Are There?\",\"MessageRecipientID\":\"r_u00jwzqzyu\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"What types of mental health are there?\\\"]\",\"Answer\":\"\ud83d\ude49\\nThere are many different mental health problems. Some of them have similar symptoms, so you may experience the symptoms of more than one mental health problem, or be given several diagnoses at once. Or you might not have any particular diagnosis, but still be finding things very difficult. Everyone\u2019s experience is different and can change at different times. Click below to find out more about specific types of mental health problems:\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":124,\\\"qna\\\":null,\\\"displayText\\\":\\\"Depression\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":130,\\\"qna\\\":null,\\\"displayText\\\":\\\"Anxiety\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":135,\\\"qna\\\":null,\\\"displayText\\\":\\\"Phobias\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":140,\\\"qna\\\":null,\\\"displayText\\\":\\\"Eating Disorders\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":146,\\\"qna\\\":null,\\\"displayText\\\":\\\"Schizophrenia\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":151,\\\"qna\\\":null,\\\"displayText\\\":\\\"OCD\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":166,\\\"qna\\\":null,\\\"displayText\\\":\\\"Personality Disorders\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":172,\\\"qna\\\":null,\\\"displayText\\\":\\\"Bipolar\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":156,\\\"qna\\\":null,\\\"displayText\\\":\\\"Panic Disorder\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":184,\\\"qna\\\":null,\\\"displayText\\\":\\\"Psychosis\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"L4QV73hzRzsKljnv6hDaZ8-5|0000007\",\"MessageTime\":\"2019-08-07T09:17:58.780Z\",\"MessageChannel\":\"webchat\",\"MessageSenderID\":\"r_u00jwzqzyu\",\"MessageSenderName\":null,\"ConversationID\":\"L4QV73hzRzsKljnv6hDaZ8-5\",\"MessageText\":\"Panic Disorder\",\"MessageRecipientID\":\"r_u00jwzqzyu\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"What is Panic Disorder?\\\"]\",\"Answer\":\"\ud83e\udd14\\nPanic disorder is an anxiety disorder where you regularly have sudden attacks of panic or fear.\",\"FollowUpPrompts\":\"[{\\\"displayOrder\\\":0,\\\"qnaId\\\":157,\\\"qna\\\":null,\\\"displayText\\\":\\\"Prevalence\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":235,\\\"qna\\\":null,\\\"displayText\\\":\\\"Causes\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":158,\\\"qna\\\":null,\\\"displayText\\\":\\\"Symptoms\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":159,\\\"qna\\\":null,\\\"displayText\\\":\\\"Panic Attacks\\\"},{\\\"displayOrder\\\":0,\\\"qnaId\\\":160,\\\"qna\\\":null,\\\"displayText\\\":\\\"Related Issues\\\"}]\"}\n    ,{\"Type\":\"trace\",\"MessageID\":\"L4QV73hzRzsKljnv6hDaZ8-5|0000001\",\"MessageTime\":\"2019-08-07T09:17:42.363Z\",\"MessageChannel\":\"webchat\",\"MessageSenderID\":\"r_u00jwzqzyu\",\"MessageSenderName\":null,\"ConversationID\":\"L4QV73hzRzsKljnv6hDaZ8-5\",\"MessageText\":\"hi\",\"MessageRecipientID\":\"r_u00jwzqzyu\",\"QuickReplyDisplayText\":null,\"QuickReplyPayload\":null,\"Question\":\"[\\\"Hi\\\",\\\"Hello\\\",\\\"Howdy\\\",\\\"Sup\\\",\\\"Whassup\\\",\\\"Yo\\\"]\",\"Answer\":\"\ud83d\udc4b\\nHi! How are you today?\",\"FollowUpPrompts\":\"[]\"}\n];\n</code></pre>\n\n<p>The json file that is being returned by the ajax call is structured exactly the same as the above, as per the preview in Chrome:</p>\n\n<p><a href=\"https://i.stack.imgur.com/6Agfy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6Agfy.png\" alt=\"enter image description here\"></a></p>\n\n<p>I've run out of ideas of how to fix the issue I'm seeing.</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 2, "creation_date": 1565211797, "post_id": 57402217, "comment_id": 101286055, "body": "why don&#39;t you want to put it in <code>window.onload</code>? But anyway, it probably still works without, provided you put the JS code (or the <code>&lt;script&gt;</code> tag which loads the code) <i>below</i> the relevant element in the document. (This is one reason why it&#39;s recommended to put most JS at the bottom of the <code>&lt;body&gt;</code>.)"}, {"owner": {"reputation": 1, "user_id": 11639172, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-maeg3EOOepQ/AAAAAAAAAAI/AAAAAAAAAAw/eXQjhZWuqBw/photo.jpg?sz=128", "display_name": "wario", "link": "https://stackoverflow.com/users/11639172/wario"}, "reply_to_user": {"reputation": 14030, "user_id": 8475054, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/edbf41c4b5aecb1a949936e06368a7c2?s=128&d=identicon&r=PG&f=1", "display_name": "Robin Zigmond", "link": "https://stackoverflow.com/users/8475054/robin-zigmond"}, "edited": false, "score": 0, "creation_date": 1565212030, "post_id": 57402217, "comment_id": 101286120, "body": "Thanks for your comment. When I use window.onload other elements (buttons) stop working."}], "answers": [{"tags": [], "owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "is_accepted": false, "score": 1, "last_activity_date": 1565212253, "last_edit_date": 1565212253, "creation_date": 1565211940, "answer_id": 57402273, "question_id": 57402217, "link": "https://stackoverflow.com/questions/57402217/use-code-without-using-window-onload-event/57402273#57402273", "title": "Use code without using window onload event", "body": "<p>It works fine - try running the code snippet below. I would guess that you have put your script tag in <code>head</code> rather than in the bottom of <code>body</code>. Thus the script is ran before there is an element with <code>id=first</code>. So if this is the case then just move your script tag to the bottom of body (it's where people tend to put their script tags).</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>document.getElementById(\"first\").addEventListener(\"click\", changeHeight);\r\n\r\n\r\nfunction changeHeight() {\r\n       var panelH = document.getElementById('second');\r\n\r\n       if (panelH.style.height == '') \r\n           panelH.style.height = '160px'\r\n       else \r\n           panelH.style.height = ''\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>#second {\r\n  background-color: teal;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;button type=\"button\" id=\"first\"&gt;Change height&lt;/button&gt;\r\n&lt;div id=\"second\"&gt;Test&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 11639172, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-maeg3EOOepQ/AAAAAAAAAAI/AAAAAAAAAAw/eXQjhZWuqBw/photo.jpg?sz=128", "display_name": "wario", "link": "https://stackoverflow.com/users/11639172/wario"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 47, "favorite_count": 0, "closed_date": 1565212005, "answer_count": 1, "score": 0, "last_activity_date": 1565302817, "creation_date": 1565211510, "last_edit_date": 1565302817, "question_id": 57402217, "link": "https://stackoverflow.com/questions/57402217/use-code-without-using-window-onload-event", "closed_reason": "Duplicate", "title": "Use code without using window onload event", "body": "<p>I want to use the below code to add an <code>onClick</code> event to a button.</p>\n\n<pre><code>document.getElementById(\"first\").addEventListener(\"click\", changeHeight);\n\nfunction changeHeight() {\n    var panelH = document.getElementById('second');\n\n    if (panelH.style.height == '') \n        panelH.style.height = '160px';\n    else \n       panelH.style.height = '';\n}\n</code></pre>\n\n<p>but just works when is wrapped inside this: </p>\n\n<pre><code>window.onload = function() {\n\n}\n</code></pre>\n\n<p>What should I change in other to use that code without using <code>window.onload</code> event?</p>\n"}, {"tags": ["javascript", "reactjs"], "answers": [{"tags": [], "owner": {"reputation": 3179, "user_id": 3161811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/66vhu.jpg?s=128&g=1", "display_name": "Shmili Breuer", "link": "https://stackoverflow.com/users/3161811/shmili-breuer"}, "is_accepted": false, "score": 1, "last_activity_date": 1565211634, "creation_date": 1565211634, "answer_id": 57402240, "question_id": 57402206, "link": "https://stackoverflow.com/questions/57402206/reactjs-cannot-get-input-autofocus-to-work/57402240#57402240", "title": "ReactJS Cannot get input autofocus to work", "body": "<p>You can just add <code>autoFocus</code> to the input you want to auto focus.</p>\n\n<pre><code> &lt;input autoFocus /&gt;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 965, "user_id": 3554534, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/feq2v.jpg?s=128&g=1", "display_name": "pegasuspect", "link": "https://stackoverflow.com/users/3554534/pegasuspect"}, "is_accepted": false, "score": 0, "last_activity_date": 1565214662, "creation_date": 1565214662, "answer_id": 57402725, "question_id": 57402206, "link": "https://stackoverflow.com/questions/57402206/reactjs-cannot-get-input-autofocus-to-work/57402725#57402725", "title": "ReactJS Cannot get input autofocus to work", "body": "<p>Your problem could be at rendering. </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>/*\n  Write JavaScript/React code here and press Ctrl+Enter to execute.\n\n  Try: mountNode.innerHTML = 'Hello World!';\n   Or: ReactDOM.render(&lt;h2&gt;Hello React!&lt;/h2&gt;, mountNode);\n*/\nclass TextField extends React.Component {\n  constructor(props){\n    super(props);\n    this.myRef = React.createRef();\n  }\n  componentDidMount(){\n    this.myAwesomeInput.focus()\n  }\n  render(){\n    var errid = \"_errmsg\";\n    var labelStyle = \"w3-label-font\";\n    var inputStyle = \"w3-input w3-border w3-light-grey w3-round\";\n    return(\n      &lt;div&gt;\n        &lt;label className={labelStyle}&gt;&lt;b&gt;blabla&lt;/b&gt;&lt;/label&gt;\n        &lt;input className={inputStyle} ref={(input) =&gt; { this.myAwesomeInput = input; }}/&gt;\n        &lt;div id={errid} className=\"error-msg\"&gt;&lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\n// following won't work \n//ReactDOM.render(\n//  new TextField().render(),\n//  document.getElementById('container')\n//);\n\n// This works!\nReactDOM.render(\n  &lt;TextField /&gt;,\n  document.getElementById('container')\n);\n\n\n</code></pre>\n\n<p>Check out this fiddle:<br>\n<a href=\"https://jsfiddle.net/e7mL9vd6/2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/e7mL9vd6/2/</a></p>\n"}], "owner": {"reputation": 1282, "user_id": 1532602, "user_type": "registered", "accept_rate": 57, "profile_image": "https://i.stack.imgur.com/X547l.png?s=128&g=1", "display_name": "Elcid_91", "link": "https://stackoverflow.com/users/1532602/elcid-91"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 44, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565221166, "creation_date": 1565211450, "last_edit_date": 1565221166, "question_id": 57402206, "link": "https://stackoverflow.com/questions/57402206/reactjs-cannot-get-input-autofocus-to-work", "title": "ReactJS Cannot get input autofocus to work", "body": "<p>Exploring ReactJS and attempting to create a base component called \"TextField\".  If the focus property exists then the field is supposed to set focus after the component mounts.  I have the following code but I can't track down why the setting the focus does not work:</p>\n\n<pre><code>import React, { Component } from \"react\";\nimport \"./inputs.css\";\n\nexport const TextField = class TextField extends Component {\n    constructor(props){\n        super(props);\n        this.myRef = React.createRef();\n    }\n    componentDidMount(){\n        if(this.props.focus){      \n            this.myRef.current.focus();\n        }\n    }\n    render(){\n        var errid = this.props.id + \"_errmsg\";\n        var labelStyle = \"w3-label-font\";\n        var inputStyle = \"w3-input w3-border w3-light-grey w3-round\";\n        return(\n            &lt;div&gt;\n                &lt;label className={labelStyle}&gt;&lt;b&gt;{this.props.label}&lt;/b&gt;&lt;/label&gt;\n                &lt;input className={inputStyle} type={this.props.type} id={this.props.id} name={this.props.name} ref={this.myRef}/&gt;\n                &lt;div id={errid} className=\"error-msg\"&gt;&lt;/div&gt;\n            &lt;/div&gt;\n        );\n    };\n}\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 908, "user_id": 9636451, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/b8127a214dc2987116550e00fb1dff09?s=128&d=identicon&r=PG&f=1", "display_name": "Joss Classey", "link": "https://stackoverflow.com/users/9636451/joss-classey"}, "edited": false, "score": 0, "creation_date": 1565211492, "post_id": 57402200, "comment_id": 101285974, "body": "You may want to use <code>extends</code> for this: <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/extends\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/&hellip;</a>"}, {"owner": {"reputation": 6037, "user_id": 521554, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/595a13ad379874ee331b6693e959a005?s=128&d=identicon&r=PG", "display_name": "LosManos", "link": "https://stackoverflow.com/users/521554/losmanos"}, "edited": false, "score": 0, "creation_date": 1565211909, "post_id": 57402200, "comment_id": 101286094, "body": "No. You have to read up on <code>this</code> and inheritance in javascript. It is <b>not</b> as in Java and IMHO you should not try to shoe horn java-this and java-inheritance into javascript. Instead embrace how Javscript is intended to work. I have no good links for you but the book &quot;Javascript, the good parts&quot; is a good investment in time to read. It tells you where javascript is wrong, quirky and good. Especially the latter is valueable to know, what to embrace. FWIW"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565212101, "post_id": 57402200, "comment_id": 101286140, "body": "You can only use <code>this</code> inside a class method, since it&#39;s the object that the method was called on. What do you expect <code>b(this)</code> to do outside of a method?"}], "answers": [{"comments": [{"owner": {"reputation": 111, "user_id": 10492414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d08f566935e385614143fed47922a064?s=128&d=identicon&r=PG&f=1", "display_name": "tyvm", "link": "https://stackoverflow.com/users/10492414/tyvm"}, "edited": false, "score": 0, "creation_date": 1565213119, "post_id": 57402378, "comment_id": 101286451, "body": "Hey, thanks for the help. I got it working with your solution, now I want to access method() in another method which isn&#39;t in the constructor, say a method below the constructor, when I call a.method() outside the constructor it says &#39;undefined is not an object&#39; (this.a.methodA()) I understand this is a problem with the scope of the variable, how may I access it outside the constructor? Thank you"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "reply_to_user": {"reputation": 111, "user_id": 10492414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d08f566935e385614143fed47922a064?s=128&d=identicon&r=PG&f=1", "display_name": "tyvm", "link": "https://stackoverflow.com/users/10492414/tyvm"}, "edited": false, "score": 0, "creation_date": 1565213166, "post_id": 57402378, "comment_id": 101286462, "body": "You never saved <code>a</code> anywhere. You can do <code>this.a = a;</code> in the constructor, and then use <code>this.a.methodA()</code> elsewhere."}, {"owner": {"reputation": 111, "user_id": 10492414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d08f566935e385614143fed47922a064?s=128&d=identicon&r=PG&f=1", "display_name": "tyvm", "link": "https://stackoverflow.com/users/10492414/tyvm"}, "edited": false, "score": 0, "creation_date": 1565213361, "post_id": 57402378, "comment_id": 101286537, "body": "Thank you my friend, best wishes"}], "tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 1, "last_activity_date": 1565212487, "creation_date": 1565212487, "answer_id": 57402378, "question_id": 57402200, "link": "https://stackoverflow.com/questions/57402200/passing-an-object-of-a-class-using-this-to-another-class-javascript/57402378#57402378", "title": "Passing an object of a class using &#39;this&#39; to another class (Javascript)", "body": "<p>Since you're using the object in the <code>B</code> constructor, you need to pass <code>this</code> as an argument to <code>new B</code>. There's no <code>b()</code> function anywhere.</p>\n\n<p>You also forgot the parentheses when calling <code>a.methodA()</code>.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>class A {\r\n  constructor() {\r\n    let Obj = new B(this) // Make object of class B\r\n  }\r\n\r\n  methodA() // Method to test\r\n  {\r\n    alert(\"Hello!\")\r\n  }\r\n}\r\n\r\nclass B {\r\n\r\n  constructor(a) //receive class A here in class B\r\n  {\r\n    a.methodA() // call method of the instance class A\r\n  }\r\n}\r\n\r\nlet a = new A;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 111, "user_id": 10492414, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d08f566935e385614143fed47922a064?s=128&d=identicon&r=PG&f=1", "display_name": "tyvm", "link": "https://stackoverflow.com/users/10492414/tyvm"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1714, "favorite_count": 0, "accepted_answer_id": 57402378, "answer_count": 1, "score": 1, "last_activity_date": 1565217059, "creation_date": 1565211416, "last_edit_date": 1565217059, "question_id": 57402200, "link": "https://stackoverflow.com/questions/57402200/passing-an-object-of-a-class-using-this-to-another-class-javascript", "title": "Passing an object of a class using &#39;this&#39; to another class (Javascript)", "body": "<p>Passing an object of a class using 'this' to another class in Javascript</p>\n\n<p>So, I come from a background of java, c#, python and other languages of that range, and I'm trying to basically recreate something in Javascript.</p>\n\n<p>I want to pass an object of Class A to Class B using 'this' so an instance of Class A can be accessed in Class B.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>import B from .....\nclass A\n{\n   constructor()\n   {\n    Obj = new B // Make object of class B\n\n    b(this) // Send instance of class A to class B\n   }\n\n methodA() // Method to test\n {\n\n    alert(\"Hello!\")\n\n }\n\n}\n\nclass B\n{\n\n constructor(a) //receive class A here in class B\n {\n\n    a.methodA // call method of the instance class A\n\n }\n\n}\n</code></pre>\n\n<p>I cannot access methodA in b when passing A into B</p>\n"}, {"tags": ["javascript", "html", "api", "grid"], "comments": [{"owner": {"reputation": 791, "user_id": 1532172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f854e6ae20716feee1d28df9633360?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/1532172/brian"}, "edited": false, "score": 0, "creation_date": 1565210946, "post_id": 57402089, "comment_id": 101285779, "body": "Your question is very vague. What kind of data is being fetched from the API? What data structure are you using?"}, {"owner": {"reputation": 137, "user_id": 7575022, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-la3Q2LIa_p4/AAAAAAAAAAI/AAAAAAAAAFc/yzAoxXV5bFI/photo.jpg?sz=128", "display_name": "arnavJJ", "link": "https://stackoverflow.com/users/7575022/arnavjj"}, "reply_to_user": {"reputation": 791, "user_id": 1532172, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/74f854e6ae20716feee1d28df9633360?s=128&d=identicon&r=PG&f=1", "display_name": "Brian", "link": "https://stackoverflow.com/users/1532172/brian"}, "edited": false, "score": 0, "creation_date": 1565211283, "post_id": 57402089, "comment_id": 101285898, "body": "The data is mostly textual and stored in the form of nested arrays. I am not using any ds right now  as I am still deciding what approach to take, because the number of elements is huge."}, {"owner": {"reputation": 763, "user_id": 8943092, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/aa4cfd7048516b0c6524968e40a8101a?s=128&d=identicon&r=PG&f=1", "display_name": "It&#39;sNotMe", "link": "https://stackoverflow.com/users/8943092/itsnotme"}, "edited": false, "score": 0, "creation_date": 1565242915, "post_id": 57402089, "comment_id": 101292623, "body": "You may be looking for the <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map\" rel=\"nofollow noreferrer\">array.map()</a> method. If your API returns an array, you can <code>map</code> over its child objects and do something with each (like show the values in a table)."}, {"owner": {"reputation": 137, "user_id": 7575022, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-la3Q2LIa_p4/AAAAAAAAAAI/AAAAAAAAAFc/yzAoxXV5bFI/photo.jpg?sz=128", "display_name": "arnavJJ", "link": "https://stackoverflow.com/users/7575022/arnavjj"}, "edited": false, "score": 0, "creation_date": 1565268471, "post_id": 57402089, "comment_id": 101305905, "body": "Array.map() might help me. I am trying to build a product catalog page where elements are laid in a grid and the data I am fetching from the API is in JSON format. How can I set values for all those different product items as each of them have different values?"}], "owner": {"reputation": 137, "user_id": 7575022, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-la3Q2LIa_p4/AAAAAAAAAAI/AAAAAAAAAFc/yzAoxXV5bFI/photo.jpg?sz=128", "display_name": "arnavJJ", "link": "https://stackoverflow.com/users/7575022/arnavjj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 117, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1619228444, "creation_date": 1565210788, "question_id": 57402089, "link": "https://stackoverflow.com/questions/57402089/displaying-information-in-a-grid-layout-fetched-from-an-api-using-javascript", "title": "Displaying information, in a grid layout, fetched from an API using javascript", "body": "<p>How can I display data fetched from an API onto different elements which are laid out in a grid, wherein every element of the grid has different data elements in it ,each having different values?</p>\n\n<p>This would have been a breeze in Android but I am relatively new to javascript, so any help would be appreciated. :) \nThanks.</p>\n"}, {"tags": ["javascript", "react-native"], "comments": [{"owner": {"reputation": 1689, "user_id": 11874554, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bGbGx3iHbKY/AAAAAAAAAAI/AAAAAAAAAKg/4A5QFxJ0yLs/photo.jpg?sz=128", "display_name": "Dominik Matis", "link": "https://stackoverflow.com/users/11874554/dominik-matis"}, "edited": false, "score": 0, "creation_date": 1565210872, "post_id": 57402065, "comment_id": 101285752, "body": "Can you please highlight which line is that on which is an error ? (Line 97 in Router.js)"}, {"owner": {"reputation": 77, "user_id": 10014208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571327dbef04aaec095c43bc30ba0e89?s=128&d=identicon&r=PG&f=1", "display_name": "Tugce Aksoz", "link": "https://stackoverflow.com/users/10014208/tugce-aksoz"}, "reply_to_user": {"reputation": 1689, "user_id": 11874554, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bGbGx3iHbKY/AAAAAAAAAAI/AAAAAAAAAKg/4A5QFxJ0yLs/photo.jpg?sz=128", "display_name": "Dominik Matis", "link": "https://stackoverflow.com/users/11874554/dominik-matis"}, "edited": false, "score": 0, "creation_date": 1565211841, "post_id": 57402065, "comment_id": 101286070, "body": "<a href=\"https://www.codepile.net/pile/2q9dvyGe\" rel=\"nofollow noreferrer\">codepile.net/pile/2q9dvyGe</a>"}, {"owner": {"reputation": 1689, "user_id": 11874554, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bGbGx3iHbKY/AAAAAAAAAAI/AAAAAAAAAKg/4A5QFxJ0yLs/photo.jpg?sz=128", "display_name": "Dominik Matis", "link": "https://stackoverflow.com/users/11874554/dominik-matis"}, "edited": false, "score": 0, "creation_date": 1565211952, "post_id": 57402065, "comment_id": 101286104, "body": "I think you should add as much information as you have, such as code of Router etc"}, {"owner": {"reputation": 2036, "user_id": 4980591, "user_type": "registered", "accept_rate": 54, "profile_image": "https://www.gravatar.com/avatar/34d41dc678b2a79362f4e854f3881908?s=128&d=identicon&r=PG", "display_name": "corasan", "link": "https://stackoverflow.com/users/4980591/corasan"}, "edited": false, "score": 0, "creation_date": 1565213825, "post_id": 57402065, "comment_id": 101286690, "body": "Why are you setting <code>isModalVisible</code> from props?"}], "answers": [{"tags": [], "owner": {"reputation": 3006, "user_id": 9810040, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8UxVT.jpg?s=128&g=1", "display_name": "Rishav Kumar", "link": "https://stackoverflow.com/users/9810040/rishav-kumar"}, "is_accepted": true, "score": 0, "last_activity_date": 1565263772, "creation_date": 1565263772, "answer_id": 57411533, "question_id": 57402065, "link": "https://stackoverflow.com/questions/57402065/cannot-read-property-props-of-null-react-native/57411533#57411533", "title": "Cannot read property &#39;props&#39; of null - React Native", "body": "<p>Your error is probably here : <code>isModalVisible: this.props.isVisible</code></p>\n\n<p>You should write <code>isModalVisible: false</code> in the state if you do not pass anything from the props.</p>\n\n<p>Why there are 3 downvotes? If someone's new we should try to understand their question and solve the issue</p>\n"}, {"tags": [], "owner": {"reputation": 179, "user_id": 10949191, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/4xLMk.jpg?s=128&g=1", "display_name": "samad324", "link": "https://stackoverflow.com/users/10949191/samad324"}, "is_accepted": false, "score": 0, "last_activity_date": 1565264295, "creation_date": 1565264295, "answer_id": 57411697, "question_id": 57402065, "link": "https://stackoverflow.com/questions/57402065/cannot-read-property-props-of-null-react-native/57411697#57411697", "title": "Cannot read property &#39;props&#39; of null - React Native", "body": "<p>i think the issue is with react-native-image-crop-picker package! try to update it and reconfigure it again!</p>\n"}], "owner": {"reputation": 77, "user_id": 10014208, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/571327dbef04aaec095c43bc30ba0e89?s=128&d=identicon&r=PG&f=1", "display_name": "Tugce Aksoz", "link": "https://stackoverflow.com/users/10014208/tugce-aksoz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 281, "favorite_count": 0, "accepted_answer_id": 57411533, "answer_count": 2, "score": -3, "last_activity_date": 1565264295, "creation_date": 1565210625, "question_id": 57402065, "link": "https://stackoverflow.com/questions/57402065/cannot-read-property-props-of-null-react-native", "title": "Cannot read property &#39;props&#39; of null - React Native", "body": "<p>I had a mobile application that i published like 2 months ago. I have to make some changes now. Before doing that, i upgraded android studio, so my sdk also upgraded to 28. I had several issues because of that but i could found solutions.</p>\n\n<p>But now, when i running my app on emulator, i have an error on some events.</p>\n\n<pre><code>TypeError: TypeError: Cannot read property 'props' of null\n\nThis error is located at:\n    in PickerAndroid (at Picker.js:159)\n    in Picker (at Picker.android.js:11)\n    in PickerNB (at connectStyle.js:384)\n    in Styled(PickerNB) (at HomeScreen.js:626)\n    in RCTView (at View.js:45)\n    in View (at createAnimatedComponent.js:153)\n    in AnimatedComponent (at TouchableOpacity.js:256)\n    in TouchableOpacity (at Item.js:383)\n    in Item (at connectStyle.js:384)\n    in Styled(Item) (at HomeScreen.js:624)\n    in RCTView (at View.js:45)\n    in View (at ScrollView.js:852)\n    in RCTScrollView (at ScrollView.js:977)\n    in ScrollView (at HomeScreen.js:623)\n    in RCTView (at View.js:45)\n    in View (at HomeScreen.js:622)\n    in RCTView (at View.js:45)\n    in View (at HomeScreen.js:620)\n    in RCTView (at View.js:45)\n    in View (at createAnimatedComponent.js:153)\n    in AnimatedComponent (at createAnimatableComponent.js:571)\n    in withAnimatable(View) (at src/index.js:455)\n    in RCTView (at View.js:45)\n    in View (at AppContainer.js:98)\n    in RCTView (at View.js:45)\n    in View (at AppContainer.js:115)\n    in AppContainer (at Modal.js:230)\n    in RCTView (at View.js:45)\n    in View (at Modal.js:250)\n    in RCTModalHostView (at Modal.js:238)\n    in Modal (at src/index.js:468)\n    in ReactNativeModal (at HomeScreen.js:619)\n    in RCTView (at View.js:45)\n    in View (at react-native-drawer/index.js:579)\n    in RCTView (at View.js:45)\n    in View (at react-native-drawer/index.js:566)\n    in Drawer (at Drawer/index.js:10)\n    in Drawer (at HomeScreen.js:614)\n    in HomeScreen (at navigationStore.js:448)\n    in Wrapped (at SceneView.js:9)\n    in SceneView (at StackViewLayout.js:478)\n    in RCTView (at View.js:45)\n    in View (at StackViewLayout.js:477)\n    in RCTView (at View.js:45)\n    in View (at StackViewLayout.js:476)\n    in RCTView (at View.js:45)\n    in View (at createAnimatedComponent.js:153)\n    in AnimatedComponent (at screens.native.js:59)\n    in Screen (at StackViewCard.js:42)\n    in Card (at createPointerEventsContainer.js:26)\n    in Container (at StackViewLayout.js:507)\n    in RCTView (at View.js:45)\n    in View (at screens.native.js:83)\n    in ScreenContainer (at StackViewLayout.js:401)\n    in RCTView (at View.js:45)\n    in View (at StackViewLayout.js:400)\n    in StackViewLayout (at withOrientation.js:30)\n    in withOrientation (at StackView.js:49)\n    in RCTView (at View.js:45)\n    in View (at Transitioner.js:141)\n    in Transitioner (at StackView.js:19)\n    in StackView (at createNavigator.js:57)\n    in Navigator (at createKeyboardAwareNavigator.js:11)\n    in KeyboardAwareNavigator (at createNavigationContainer.js:376)\n    in NavigationContainer (at Router.js:97)\n    in App (at Router.js:122)\n    in Router (at App.js:59)\n    in App (at renderApplication.js:34)\n    in RCTView (at View.js:45)\n    in View (at AppContainer.js:98)\n    in RCTView (at View.js:45)\n    in View (at AppContainer.js:115)\n    in AppContainer (at renderApplication.js:33)\n\nThis error is located at:\n    in NavigationContainer (at Router.js:97)\n    in App (at Router.js:122)\n    in Router (at App.js:59)\n    in App (at renderApplication.js:34)\n    in RCTView (at View.js:45)\n    in View (at AppContainer.js:98)\n    in RCTView (at View.js:45)\n    in View (at AppContainer.js:115)\n    in AppContainer (at renderApplication.js:33)\n&lt;unknown&gt;\n    PickerAndroid.android.js:87:16\nmapSingleChildIntoContext\n    react.development.js:1170:25\ntraverseAllChildrenImpl\n    react.development.js:1043:4\ntraverseAllChildrenImpl\n    react.development.js:1059:22\ntraverseAllChildren\n    react.development.js:1114:9\nmapIntoWithKeyPrefixInternal\n    react.development.js:1192:2\nObject.mapChildren [as map]\n    react.development.js:1214:2\nPickerAndroid._this._stateFromProps\n    PickerAndroid.android.js:86:33\nnew\n    PickerAndroid.android.js:69:23\n&lt;unknown&gt;\n    createClassProxy.js:98:23\n</code></pre>\n\n<p>I see this error when i use this component.</p>\n\n<pre><code>    import React, { Component } from \"react\";\n    import {\n        View,\n        Text,\n        StyleSheet,\n        TouchableOpacity,\nTouchableHighlight\n    } from \"react-native\";\n\n    import Modal from \"react-native-modal\";\n\n    import { Item, Label, Input, Textarea, Button } from 'native-base';\n\n    import { HEADERBG } from './../Helper/config';\n\n    import FontAwesome from 'react-native-vector-icons/FontAwesome';\n\n    import ImagePicker from 'react-native-image-crop-picker';\n\n    class NewPost extends Component {\n\n        constructor(props){\n            super(props);\n            this.state = {\n                category: null,\n                messageText: null,\n                isModalVisible: this.props.isVisible\n            }\n\n            this._toggleModal = this._toggleModal.bind(this);\n        }\n\n        _toggleModal(){\n            this.setState({\n                isModalVisible: !this.state.isModalVisible\n            })\n        }\n\n\n\n        render() {\n            return (\n                &lt;Modal style={{ flexDirection: 'column', justifyContent: 'flex-start' }} isVisible={this.props.isVisible}&gt;\n                    &lt;View style={styles.container}&gt;\n                        &lt;Text allowFontScaling={false} style={styles.headText}&gt;Yeni Payla\u015f\u0131m Yap&lt;/Text&gt;\n                        &lt;View style={styles.form}&gt;\n                            &lt;Item style={styles.item} stackedLabel&gt;\n                                &lt;Label style={styles.label}&gt;Mesaj Kategorisi2&lt;/Label&gt;\n                                &lt;Input onChangeText={(text) =&gt; this.setState({ email: text })} style={{padding: 10, borderWidth: 1/3, borderColor: 'gray', color: '#212121'}} blurOnSubmit={false} placeholder=\"E-Posta adresiniz\" /&gt;\n                            &lt;/Item&gt;\n                            &lt;Item style={styles.item} stackedLabel&gt;\n                                &lt;Label style={styles.label}&gt;Mesaj\u0131n\u0131z&lt;/Label&gt;\n                                &lt;Text allowFontScaling={false}area rowSpan={5} bordered placeholder=\"Textarea\" style={{ borderWidth: 1/4, color: '#212121', width: '100%' }} /&gt;\n                            &lt;/Item&gt;\n                            &lt;Item style={styles.item} stackedLabel&gt;\n                                &lt;TouchableOpacity onPress={() =&gt; this.openPicker()} style={styles.imageButton}&gt;\n                                    &lt;Text allowFontScaling={false} style={styles.imageText}&gt;G\u00f6rsel Se\u00e7in&lt;/Text&gt;\n                                &lt;/TouchableOpacity&gt;\n                            &lt;/Item&gt;\n                            &lt;Button style={styles.sendButton} block&gt;\n                                &lt;FontAwesome name=\"paper-plane\" size={20} color=\"#fff\" /&gt;\n                                &lt;Text allowFontScaling={false} style={{marginLeft: 5, fontSize: 16, color: '#fff'}}&gt;Kap\u0131y\u0131 T\u0131klat!&lt;/Text&gt;\n                            &lt;/Button&gt;\n                            &lt;Button onPress={() =&gt; this._toggleModal()} style={{backgroundColor: '#E74C3C', marginVertical: 10}} block&gt;\n                                &lt;FontAwesome name=\"times-circle\" size={20} color=\"#fff\" /&gt;\n                                &lt;Text allowFontScaling={false} style={{marginLeft: 5, fontSize: 16, color: '#fff'}}&gt;Vazge\u00e7!&lt;/Text&gt;\n                            &lt;/Button&gt;\n                        &lt;/View&gt;\n                    &lt;/View&gt;\n                &lt;/Modal&gt;\n            );\n        }\n    }\n</code></pre>\n"}, {"tags": ["javascript", "d3.js", "zooming"], "comments": [{"owner": {"reputation": 2501, "user_id": 4229159, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/15d7e3ea766ab069958b5fd6bc555ea1?s=128&d=identicon&r=PG", "display_name": "Alejandro Vales", "link": "https://stackoverflow.com/users/4229159/alejandro-vales"}, "edited": false, "score": 1, "creation_date": 1565611564, "post_id": 57402057, "comment_id": 101395025, "body": "Sadly I am unable to use the snippet that you have in your answer, could you maybe rewrite it? Right now it&#39;s not plotting anything, and in the console there are errors regarding missing libraries."}, {"owner": {"reputation": 7166, "user_id": 353878, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/2c1477dd54ee525f3f81a8259fcbb3f1?s=128&d=identicon&r=PG", "display_name": "element119", "link": "https://stackoverflow.com/users/353878/element119"}, "reply_to_user": {"reputation": 2501, "user_id": 4229159, "user_type": "registered", "accept_rate": 71, "profile_image": "https://www.gravatar.com/avatar/15d7e3ea766ab069958b5fd6bc555ea1?s=128&d=identicon&r=PG", "display_name": "Alejandro Vales", "link": "https://stackoverflow.com/users/4229159/alejandro-vales"}, "edited": false, "score": 1, "creation_date": 1565727783, "post_id": 57402057, "comment_id": 101440841, "body": "Thanks for your comment @AlejandroVales \u2013 I have added a reproducible example. I believe this occurs on any graph with d3-zoom."}, {"owner": {"reputation": 292, "user_id": 1876629, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/cS5Dr.jpg?s=128&g=1", "display_name": "tarik", "link": "https://stackoverflow.com/users/1876629/tarik"}, "edited": false, "score": 0, "creation_date": 1565988415, "post_id": 57402057, "comment_id": 101527947, "body": "I&#39;m using comment because I don&#39;t have a complete answer or time to research one, but I&#39;ve seen this behavior plenty. I believe that you need to use pointer-events in SVG to get the same behavior you get from DOM objects, but you may have to disable x-axis scrolling or only allow it when in a &#39;zoomed&#39; mode."}], "owner": {"reputation": 7166, "user_id": 353878, "user_type": "registered", "accept_rate": 99, "profile_image": "https://www.gravatar.com/avatar/2c1477dd54ee525f3f81a8259fcbb3f1?s=128&d=identicon&r=PG", "display_name": "element119", "link": "https://stackoverflow.com/users/353878/element119"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 501, "favorite_count": 1, "answer_count": 0, "score": 5, "last_activity_date": 1602591061, "creation_date": 1565210576, "last_edit_date": 1565727761, "question_id": 57402057, "link": "https://stackoverflow.com/questions/57402057/cant-touch-scroll-vertically-on-mobile-on-d3-svg-with-d3-zoom", "title": "Can&#39;t touch scroll vertically on mobile on D3 SVG with d3-zoom", "body": "<p>I have a d3 graph with an SVG enabled with <code>d3-zoom</code>. Simply put, I have configured zoom to allow the user to pan (and only pan) on the x axis (and only the x axis):</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const zoom = d3.zoom()\r\n  .scaleExtent([1, 1]) // scale 1x to 1x (no zooming)\r\n  .translateExtent([[\r\n      xExtent,\r\n      0\r\n  ], [\r\n      // Bottom right extent: [center of last age, graph height]\r\n     rightExtent,\r\n      graphHeight\r\n  ]])\r\n  .on('zoom', this.zoom)\r\n  .on('start', this.zoomStart)\r\n  .on('end', this.zoomEnd)\r\n  \r\nsvg.call(zoom)\r\n  .on('wheel.zoom', null);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This has worked so far and allows the user to pan around the X-axis on both mobile and desktop devices.</p>\n\n<p>The problem is, on iOS and Android, when touching the graph to scroll down on the page, the page remains in place - the scroll events are somehow being intercepted by <code>d3-zoom</code>.</p>\n\n<p>I have looked all over the d3-zoom docs and have not found anything except this statement: <code>\"If the user tries to zoom by wheeling when already at the corresponding limit of the scale extent, the wheel events will be ignored and not initiate a zoom gesture. This allows the user to scroll down past a zoomable area after zooming in, or to scroll up after zooming out.\"</code>. My problem is that I am still having an issue on mobile devices scrolling past the graph.</p>\n\n<p>I have also scoured SO and discovered this question, with a partial answer that is incomplete to what I need: <a href=\"https://stackoverflow.com/questions/43081317/d3-disable-pan-zoom-when-scrolling\">D3 disable pan &amp; zoom when scrolling</a></p>\n\n<p>How can I use zoom on my SVG while also being able to scroll on mobile devices? If needed I am willing to completely disable \"vertical\" panning on the SVG if that is possible with d3, I just need to be able to scroll the page while also panning to the right and left on the X axis.</p>\n\n<h2>Update with REPRODUCIBLE EXAMPLE:</h2>\n\n<p>I believe this occurs with any instance of <code>d3-zoom</code> and panning. Here is a very simple example with editable code: <a href=\"https://observablehq.com/@d3/zoom\" rel=\"nofollow noreferrer\">https://observablehq.com/@d3/zoom</a></p>\n\n<p>If you open the example on a mobile device (e.g. iPhone Safari), you will see once you get down to the graph, you cannot scroll the page down with touch unless you manage to scroll on the edge of the page where d3 is not active.</p>\n\n<p>Let me know if I can provide any more clarification.</p>\n"}, {"tags": ["javascript", "google-sheets"], "comments": [{"owner": {"reputation": 3992, "user_id": 1330560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4869869f3ab6b5c0dd7d4affddf113?s=128&d=identicon&r=PG&f=1", "display_name": "Tedinoz", "link": "https://stackoverflow.com/users/1330560/tedinoz"}, "edited": false, "score": 0, "creation_date": 1565241562, "post_id": 57402035, "comment_id": 101292269, "body": "Welcome. Please share a copy of your spreadsheet, excluding any private or confidential information."}, {"owner": {"reputation": 3992, "user_id": 1330560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4869869f3ab6b5c0dd7d4affddf113?s=128&d=identicon&r=PG&f=1", "display_name": "Tedinoz", "link": "https://stackoverflow.com/users/1330560/tedinoz"}, "edited": false, "score": 0, "creation_date": 1565267261, "post_id": 57402035, "comment_id": 101305103, "body": "&quot;all values copy but date values in sheet A have no timestamp but a timestamp is added to date values in sheet b&quot; Would you please edit your question to clarify and provide an example of what you mean by this?"}, {"owner": {"reputation": 3, "user_id": 11898198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6bcde9a4406ed355c253741830ebf1?s=128&d=identicon&r=PG&f=1", "display_name": "brianH", "link": "https://stackoverflow.com/users/11898198/brianh"}, "reply_to_user": {"reputation": 3992, "user_id": 1330560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4869869f3ab6b5c0dd7d4affddf113?s=128&d=identicon&r=PG&f=1", "display_name": "Tedinoz", "link": "https://stackoverflow.com/users/1330560/tedinoz"}, "edited": false, "score": 0, "creation_date": 1565283311, "post_id": 57402035, "comment_id": 101314549, "body": "@Tedinoz How do I share file? To clarify, sheet A has dates with no timestamp, when above code runs it copies values and adds timestamp to date. Sheet A date format 1/1/2018, sheet b date format after code runs 12/31/2017 16:00:00. In detailing this comment I noticed it is also changing date to 1 day earlier."}, {"owner": {"reputation": 3992, "user_id": 1330560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4869869f3ab6b5c0dd7d4affddf113?s=128&d=identicon&r=PG&f=1", "display_name": "Tedinoz", "link": "https://stackoverflow.com/users/1330560/tedinoz"}, "edited": false, "score": 0, "creation_date": 1565309880, "post_id": 57402035, "comment_id": 101323322, "body": "Open the spreadsheet, remove/replace private or confidential data. At top right there is a green button labelled &quot;Share&quot;. Click the button, a popup will open &quot;Share with others&quot;. Click the icon on that popup where it says &quot;Get Shareable Link&quot;. The popup changes, and you should see a line &quot;Anyone with the link can view&quot;, click on that and change it to &quot;Anyone with the link can edit&quot;. Then click &quot;Done&quot;. The URL to the spreadsheet is in your memory; now edit your question and paste the link to the spreadsheet."}, {"owner": {"reputation": 3, "user_id": 11898198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6bcde9a4406ed355c253741830ebf1?s=128&d=identicon&r=PG&f=1", "display_name": "brianH", "link": "https://stackoverflow.com/users/11898198/brianh"}, "reply_to_user": {"reputation": 3992, "user_id": 1330560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4869869f3ab6b5c0dd7d4affddf113?s=128&d=identicon&r=PG&f=1", "display_name": "Tedinoz", "link": "https://stackoverflow.com/users/1330560/tedinoz"}, "edited": false, "score": 0, "creation_date": 1565376306, "post_id": 57402035, "comment_id": 101348953, "body": "Just found out, due to security policy, I am unable to share sheet, even though I removed all but dates. However I did replicate by creating 2 new sheets ssA and ssB, input and formatted date on ssA manually, ran code, copied to ssB and date on ssB has time stamp. Either something google sheets is doing or code. Any suggestions would be apprecaited."}, {"owner": {"reputation": 3992, "user_id": 1330560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4869869f3ab6b5c0dd7d4affddf113?s=128&d=identicon&r=PG&f=1", "display_name": "Tedinoz", "link": "https://stackoverflow.com/users/1330560/tedinoz"}, "edited": false, "score": 0, "creation_date": 1565393816, "post_id": 57402035, "comment_id": 101353642, "body": "When you say &quot;time stamp&quot;, are you just talking about how the date is formatted? There must be an innocuous version of the/a spreadsheet that you can share. It&#39;s up to you, but unless people can <i>see</i> what you are seeing, there is big risk that this question will go unanswered."}, {"owner": {"reputation": 3992, "user_id": 1330560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4869869f3ab6b5c0dd7d4affddf113?s=128&d=identicon&r=PG&f=1", "display_name": "Tedinoz", "link": "https://stackoverflow.com/users/1330560/tedinoz"}, "edited": false, "score": 0, "creation_date": 1565417705, "post_id": 57402035, "comment_id": 101356383, "body": "If you can&#39;t/won&#39;t share your spreadsheet, then would you please edit your question to include an image showing the date/timestamp problem."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11898198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6bcde9a4406ed355c253741830ebf1?s=128&d=identicon&r=PG&f=1", "display_name": "brianH", "link": "https://stackoverflow.com/users/11898198/brianh"}, "edited": false, "score": 0, "creation_date": 1565724884, "post_id": 57440070, "comment_id": 101439790, "body": "Replacing getValues() with getDisplayValues copied date values without adding timestamp and also maintained all formatting when copying values from source to destination sheet eliminating need for getNumberFormats(). Thanks for all your help!"}], "tags": [], "owner": {"reputation": 3992, "user_id": 1330560, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/5d4869869f3ab6b5c0dd7d4affddf113?s=128&d=identicon&r=PG&f=1", "display_name": "Tedinoz", "link": "https://stackoverflow.com/users/1330560/tedinoz"}, "is_accepted": true, "score": 0, "last_activity_date": 1565420482, "creation_date": 1565420482, "answer_id": 57440070, "question_id": 57402035, "link": "https://stackoverflow.com/questions/57402035/how-to-copy-data-and-formatting-from-google-sheet-a-to-existing-sheet-b-using-go/57440070#57440070", "title": "How to copy data and formatting from google sheet a to existing sheet b using google scripts without adding timestamp to dates", "body": "<p>There are many ways to copy data from the sheet of one spreadsheet to the sheet of another spreadsheet sheet.</p>\n\n<p>In this example, I created a date field and entered two records:\n23 March 2019 and 31 December 1985</p>\n\n<p>This is the output using the following methods:</p>\n\n<p><code>copyTo()</code> <a href=\"https://developers.google.com/apps-script/reference/spreadsheet/sheet#copytospreadsheet\" rel=\"nofollow noreferrer\">Ref</a>   </p>\n\n<ul>\n<li>23 March 2019</li>\n<li>31 December 1985</li>\n</ul>\n\n<p><code>getValues()/setValues()</code> <a href=\"https://developers.google.com/apps-script/reference/spreadsheet/range#getvalues\" rel=\"nofollow noreferrer\">Ref</a>    </p>\n\n<ul>\n<li>23/03/2019</li>\n<li>31/12/1985 </li>\n</ul>\n\n<p><code>getDisplayValues()/setValues()</code> <a href=\"https://developers.google.com/apps-script/reference/spreadsheet/range#getdisplayvalues\" rel=\"nofollow noreferrer\">Ref</a>    </p>\n\n<ul>\n<li>23 March 2019</li>\n<li>31 December 1985</li>\n</ul>\n\n<p><code>getValues()/setValues()</code> - push to array    </p>\n\n<ul>\n<li>23/03/2019</li>\n<li>31/12/1985 </li>\n</ul>\n\n<p><code>Utilities.formatDate(ssAData[i][0], Session.getScriptTimeZone() ,\"dd MMMM yyyy\")</code> <a href=\"https://developers.google.com/apps-script/reference/utilities/utilities#formatdatedate-timezone-format\" rel=\"nofollow noreferrer\">Ref</a>    </p>\n\n<ul>\n<li>23 March 2019</li>\n<li>31 December 1985</li>\n</ul>\n"}], "owner": {"reputation": 3, "user_id": 11898198, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ff6bcde9a4406ed355c253741830ebf1?s=128&d=identicon&r=PG&f=1", "display_name": "brianH", "link": "https://stackoverflow.com/users/11898198/brianh"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "accepted_answer_id": 57440070, "answer_count": 1, "score": 0, "last_activity_date": 1565420482, "creation_date": 1565210455, "last_edit_date": 1565212413, "question_id": 57402035, "link": "https://stackoverflow.com/questions/57402035/how-to-copy-data-and-formatting-from-google-sheet-a-to-existing-sheet-b-using-go", "title": "How to copy data and formatting from google sheet a to existing sheet b using google scripts without adding timestamp to dates", "body": "<p>When using .getValues and .setValues to copy values from sheet A to sheet B, all values copy but date values in sheet A have no timestamp but a timestamp is added to date values in sheet b</p>\n\n<p>Aside from below code, I have tried or researched:</p>\n\n<pre><code>sheet.copyTo(destination);// only to create new sheet\nsetValue(new Date(new Date().setHours(0,0,0,0))).setNumberFormat('MM/dd/yyyy');//removes timestamp but sets todays date\nsonosFcstDestDateCells.setNumberFormat('dd/MM/yyyy');//did not remove date timestamp\n</code></pre>\n\n<p>Here is current code:</p>\n\n<pre><code> function cloneGoogleSheet(ssA, ssB) {\n // source docs\n var sssFcst = SpreadsheetApp.openByUrl('url');\n // target/destination spreadsheet\n var tss = SpreadsheetApp.openByUrl('url');\n //set var for ssA and ssB source and destination\n var ssAFcstSource = sssFcst.getSheetByName(\"ssA\"); //\n var ssAFcstSourceRange = ssAFcstSource.getDataRange(); //\n var ssAFcstSourceA1Range = ssAFcstSourceRange.getA1Notation(); //\n var ssAFcstSourceData = ssAFcstSourceRange.getValues(); //\n var ssBFcstDest = tss.getSheetByName(\"ssB\"); //\n var ssBFcstDestDateCells = ssBFcstDest.getRange(\"5:5\");\n var ssAFcstSourceDateCells = ssAFcstSource.getRange(\"5:5\");\n var sNF = ssAFcstSource.getDataRange().getNumberFormats();\n // Clear the destination sheet before paste\n ssBFcstDest.clear({contentsOnly: true});\n // set the target range to the values of the source data\n ssBFcstDest.getRange(ssAFcstSourceA1Range).setValues(ssAFcstSourceData);\n //this duplicates all formats from ssA to ssB, but does not remove added date \n //timestamp\n ssBFcstDest.getRange(1,1,ssAFcstSourceData.length,ssAFcstSourceData[0].length).setValues(ssAFcstSourceData).setNumberFormats(sNF);\n };\n</code></pre>\n\n<p>Desired result is to have values copy from sheet A to Sheet B without adding timestamp to date values</p>\n"}, {"tags": ["javascript", "arrays"], "comments": [{"owner": {"reputation": 1689, "user_id": 11874554, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bGbGx3iHbKY/AAAAAAAAAAI/AAAAAAAAAKg/4A5QFxJ0yLs/photo.jpg?sz=128", "display_name": "Dominik Matis", "link": "https://stackoverflow.com/users/11874554/dominik-matis"}, "edited": false, "score": 0, "creation_date": 1565210742, "post_id": 57402026, "comment_id": 101285699, "body": "<code>dataToUpdate</code> should be <code>[]</code> and you can also do <code>dataToUpdate = [...dataToUpdate, el]</code>, but I think your code should work if I get it right"}, {"owner": {"reputation": 1155, "user_id": 9169546, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-45tL0yP508A/AAAAAAAAAAI/AAAAAAAABVI/l9s-Httw95E/photo.jpg?sz=128", "display_name": "Matthew", "link": "https://stackoverflow.com/users/9169546/matthew"}, "reply_to_user": {"reputation": 1689, "user_id": 11874554, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bGbGx3iHbKY/AAAAAAAAAAI/AAAAAAAAAKg/4A5QFxJ0yLs/photo.jpg?sz=128", "display_name": "Dominik Matis", "link": "https://stackoverflow.com/users/11874554/dominik-matis"}, "edited": false, "score": 0, "creation_date": 1565212690, "post_id": 57402026, "comment_id": 101286324, "body": "Got it. Thanks for the correction!"}], "answers": [{"tags": [], "owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "is_accepted": false, "score": 1, "last_activity_date": 1565211127, "creation_date": 1565211127, "answer_id": 57402144, "question_id": 57402026, "link": "https://stackoverflow.com/questions/57402026/how-to-create-new-array-with-most-recent-timestamps-from-a-log-array/57402144#57402144", "title": "How to Create New Array with Most Recent Timestamps from a Log Array", "body": "<p>You could reduce the array by looking for <code>status</code> and <code>indices</code>. If valid, seach for an inserted object in the result set and either update or push the object to the result set.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var indices = [0, 1, 15, 16, 22],\r\n    values = [{ id: 0, status: 200, time: 123454678 }, { id: 1, status: 404, time: 123454678 }, { id: 1, status: 200, time: 123454678 }, { id: 1, status: 404, time: 143454678 }, { id: 2, status: 200, time: 103454678 }],\r\n    result = values.reduce((r, o) =&gt; {\r\n        if (o.status !== 200 || !indices.includes(o.id)) return r;\r\n        var index = r.findIndex(({ id }) =&gt; id === o.id);\r\n        if (index !== -1) {\r\n            if (r[index].time &lt; o.time) r[index] = o;\r\n        } else {\r\n            r.push(o);\r\n        }\r\n        return r;\r\n    }, []);\r\n\r\nconsole.log(result);</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.as-console-wrapper { max-height: 100% !important; top: 0; }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 1155, "user_id": 9169546, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-45tL0yP508A/AAAAAAAAAAI/AAAAAAAABVI/l9s-Httw95E/photo.jpg?sz=128", "display_name": "Matthew", "link": "https://stackoverflow.com/users/9169546/matthew"}, "edited": false, "score": 0, "creation_date": 1565212192, "post_id": 57402195, "comment_id": 101286166, "body": "Hm... I&#39;m not seeing how the second filter ensures that the most recent object isn&#39;t removed. Is it because the array is already sorted?"}, {"owner": {"reputation": 5657, "user_id": 10868192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8RKqk.jpg?s=128&g=1", "display_name": "antonku", "link": "https://stackoverflow.com/users/10868192/antonku"}, "reply_to_user": {"reputation": 1155, "user_id": 9169546, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-45tL0yP508A/AAAAAAAAAAI/AAAAAAAABVI/l9s-Httw95E/photo.jpg?sz=128", "display_name": "Matthew", "link": "https://stackoverflow.com/users/9169546/matthew"}, "edited": false, "score": 0, "creation_date": 1565212391, "post_id": 57402195, "comment_id": 101286219, "body": "@Matthew Yes, exactly, that&#39;s the idea"}, {"owner": {"reputation": 1155, "user_id": 9169546, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-45tL0yP508A/AAAAAAAAAAI/AAAAAAAABVI/l9s-Httw95E/photo.jpg?sz=128", "display_name": "Matthew", "link": "https://stackoverflow.com/users/9169546/matthew"}, "edited": false, "score": 0, "creation_date": 1565212416, "post_id": 57402195, "comment_id": 101286229, "body": "Awesome. Thanks for the help!!"}, {"owner": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1565243545, "post_id": 57402195, "comment_id": 101292859, "body": "this returns a different ordered result set and is much slower, because of the second pass. the first filtring should be first. if so, it has less bad time/space complexity than a single loop approach for the data and the finding in the result set."}, {"owner": {"reputation": 5657, "user_id": 10868192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8RKqk.jpg?s=128&g=1", "display_name": "antonku", "link": "https://stackoverflow.com/users/10868192/antonku"}, "reply_to_user": {"reputation": 319259, "user_id": 1447675, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/ziYmO.gif?s=128&g=1", "display_name": "Nina Scholz", "link": "https://stackoverflow.com/users/1447675/nina-scholz"}, "edited": false, "score": 0, "creation_date": 1565270469, "post_id": 57402195, "comment_id": 101307272, "body": "Hi @NinaScholz, thank you for taking your time to review my answer. I have updated it according to your kind suggestion (I hope you don&#39;t mind). Yes, your solution is more performance efficient so should there be large datasets I would go for it."}], "tags": [], "owner": {"reputation": 5657, "user_id": 10868192, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8RKqk.jpg?s=128&g=1", "display_name": "antonku", "link": "https://stackoverflow.com/users/10868192/antonku"}, "is_accepted": true, "score": 1, "last_activity_date": 1565270376, "last_edit_date": 1565270376, "creation_date": 1565211384, "answer_id": 57402195, "question_id": 57402026, "link": "https://stackoverflow.com/questions/57402026/how-to-create-new-array-with-most-recent-timestamps-from-a-log-array/57402195#57402195", "title": "How to Create New Array with Most Recent Timestamps from a Log Array", "body": "<p>You can sort the <code>history</code> by <code>timestamp</code>, then <code>filter</code> elements by <code>status</code> and <code>id</code> and remove duplicates after that using another <code>filter</code>:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let indices = [0,1,15,16,22];\r\n\r\nlet history = [{\r\n  id: 0,\r\n  status: 200,\r\n  time: 123454678\r\n}, {\r\n  id: 1,\r\n  status: 404,\r\n  time: 123454678\r\n}, {\r\n  id: 1,\r\n  status: 200,\r\n  time: 123454678\r\n}, {\r\n  id: 1,\r\n  status: 404,\r\n  time: 143454678\r\n}, {\r\n  id: 2,\r\n  status: 200,\r\n  time: 103454678\r\n}]\r\n\r\nconst dataToUpdate = history\r\n  .filter(el =&gt; el.status === 200 &amp;&amp; indices.includes(el.id))\r\n  .sort((a, b) =&gt; b.time - a.time)\r\n  .filter((el, i, arr) =&gt; i === arr.findIndex((item) =&gt; item.id === el.id))\r\n\r\nconsole.log(dataToUpdate)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11400868, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6f5c600e604a02ea4ccea09c6be7ace2?s=128&d=identicon&r=PG&f=1", "display_name": "Moyous", "link": "https://stackoverflow.com/users/11400868/moyous"}, "is_accepted": false, "score": 0, "last_activity_date": 1565213721, "creation_date": 1565213721, "answer_id": 57402576, "question_id": 57402026, "link": "https://stackoverflow.com/questions/57402026/how-to-create-new-array-with-most-recent-timestamps-from-a-log-array/57402576#57402576", "title": "How to Create New Array with Most Recent Timestamps from a Log Array", "body": "<p>You can firstly filter your array, to have in it only items, that is included in the indices array and their status is 200. Then filtered array convents into the map. That map contains most recent items belong to provided indices. Then it should be converted back to the array.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let indices = [0,1,15,16,22];\r\nlet history = [\r\n{\r\n    id: 0,\r\n    status: 200,\r\n    time: 123454678\r\n},\r\n{\r\n    id: 1,\r\n    status: 404,\r\n    time: 123454678\r\n},\r\n{\r\n    id: 1,\r\n    status: 200,\r\n    time: 123454678\r\n},\r\n{\r\n    id: 1,\r\n    status: 200,\r\n    time: 143454679\r\n},\r\n{\r\n    id: 2,\r\n    status: 200,\r\n    time: 103454678\r\n}];\r\n\r\nconst dataToUpdate = getMostRecentById(indices, history);\r\n\r\nfunction getMostRecentById(ids, logs) {\r\n    const recentsMap = logs.filter(log =&gt; {\r\n            return ids.includes(log.id) &amp;&amp; log.status === 200;\r\n        })\r\n        .reduce(getMostRecentMap, []);\r\n\r\n  return Object.values(recentsMap);\r\n}\r\n\r\nfunction getMostRecentMap(mostRecentMap, currentLog) {\r\n    const isAlreadyMappedByCurrentLogId = Boolean(mostRecentMap[currentLog.id]);\r\n  \r\n    if (!isAlreadyMappedByCurrentLogId) {\r\n        mostRecentMap[currentLog.id] = { ...currentLog }; \r\n      \r\n        return mostRecentMap;\r\n    }\r\n     \r\n    const isIdsEqual = mostRecentMap[currentLog.id].id === currentLog.id;\r\n    const isCurrentLogGoneLater = mostRecentMap[currentLog.id].time &lt; currentLog.time;\r\n  \r\n    if (isIdsEqual &amp;&amp; isCurrentLogGoneLater) {\r\n        mostRecentMap[currentLog.id] = { ...currentLog };\r\n    }\r\n  \r\n    return mostRecentMap;\r\n}\r\n\r\nconsole.log(dataToUpdate);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1155, "user_id": 9169546, "user_type": "registered", "accept_rate": 64, "profile_image": "https://lh4.googleusercontent.com/-45tL0yP508A/AAAAAAAAAAI/AAAAAAAABVI/l9s-Httw95E/photo.jpg?sz=128", "display_name": "Matthew", "link": "https://stackoverflow.com/users/9169546/matthew"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 50, "favorite_count": 0, "accepted_answer_id": 57402195, "answer_count": 3, "score": 0, "last_activity_date": 1565270376, "creation_date": 1565210423, "last_edit_date": 1565212682, "question_id": 57402026, "link": "https://stackoverflow.com/questions/57402026/how-to-create-new-array-with-most-recent-timestamps-from-a-log-array", "title": "How to Create New Array with Most Recent Timestamps from a Log Array", "body": "<p>If given an array of indices <code>let indices = [0,1,15,16,22]</code>.</p>\n\n<p>And an array of objects </p>\n\n<pre><code>let history = [{\n  id: 0\n  status: 200,\n  time: 123454678\n}, {\n  id: 1\n  status: 404,\n  time: 123454678\n}, {\n  id: 1\n  status: 200,\n  time: 123454678\n}, {\n  id: 1\n  status: 404,\n  time: 143454678\n}, {\n  id: 2\n  status: 200,\n  time: 103454678\n}, etc.]\n</code></pre>\n\n<p>How could I create a new array that contains:  </p>\n\n<ol>\n<li>The status is 200  </li>\n<li>The most recent object at index (by timestamp)</li>\n<li>Only one index per id</li>\n</ol>\n\n<p>I think the pattern is something like the following, but I am not sure how to ensure that only one (most recent by id) object is pushed to <code>dataToUpdate</code>.</p>\n\n<pre><code>let dataToUpdate = [];\nhistory.map((el, i) =&gt; {\n  if (el.id.includes(indices) &amp;&amp; el.status === 200 &amp;&amp; some_other_check_for_id) {\n    dataToUpdate.push(el);\n  }\n});\n</code></pre>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 2138, "user_id": 4691401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bcde701bf95b941714881eca39e06c9?s=128&d=identicon&r=PG&f=1", "display_name": "Sami Ahmed Siddiqui", "link": "https://stackoverflow.com/users/4691401/sami-ahmed-siddiqui"}, "edited": false, "score": 1, "creation_date": 1565210941, "post_id": 57402014, "comment_id": 101285774, "body": "What issue you are facing?"}, {"owner": {"reputation": 1689, "user_id": 11874554, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bGbGx3iHbKY/AAAAAAAAAAI/AAAAAAAAAKg/4A5QFxJ0yLs/photo.jpg?sz=128", "display_name": "Dominik Matis", "link": "https://stackoverflow.com/users/11874554/dominik-matis"}, "edited": false, "score": 0, "creation_date": 1565211017, "post_id": 57402014, "comment_id": 101285795, "body": "You have reversed order of closing <code>tr</code> and <code>td</code> tags in for..in loop. You have opening td in tr and then closing tr in td, so change closing tags and should be ok"}], "answers": [{"tags": [], "owner": {"reputation": 2835, "user_id": 10428030, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/d4ZBN.png?s=128&g=1", "display_name": "aviya.developer", "link": "https://stackoverflow.com/users/10428030/aviya-developer"}, "is_accepted": false, "score": 1, "last_activity_date": 1565211346, "creation_date": 1565211346, "answer_id": 57402182, "question_id": 57402014, "link": "https://stackoverflow.com/questions/57402014/table-data-from-api/57402182#57402182", "title": "Table data from api", "body": "<p>You are closing the <code>&lt;tr&gt;</code> before the <code>&lt;td&gt;</code>:</p>\n\n<pre><code>txt += \"&lt;tr&gt;&lt;td&gt;\" +myObj[x].name+  \"&lt;/tr&gt;&lt;/td&gt;\";\n</code></pre>\n\n<p>fix:</p>\n\n<pre><code>txt += \"&lt;tr&gt;&lt;td&gt;\" +myObj[x].name+  \"&lt;/td&gt;&lt;/tr&gt;\";\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 4058, "user_id": 2778527, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/vp5kg.jpg?s=128&g=1", "display_name": "ajitksharma", "link": "https://stackoverflow.com/users/2778527/ajitksharma"}, "is_accepted": false, "score": 0, "last_activity_date": 1566309628, "last_edit_date": 1566309628, "creation_date": 1565212130, "answer_id": 57402306, "question_id": 57402014, "link": "https://stackoverflow.com/questions/57402014/table-data-from-api/57402306#57402306", "title": "Table data from api", "body": "<p>Because the API is not returning any key named - <strong>name</strong></p>\n\n<p>Hit this URL on browser and see all the keys in response</p>\n\n<blockquote>\n  <p><a href=\"https://api.github.com/users\" rel=\"nofollow noreferrer\">https://api.github.com/users</a></p>\n</blockquote>\n\n<p>I am changing key name to id, you may use any key which is being returned in response:</p>\n\n<pre><code>txt += \"&lt;table border='1'&gt;\"\n  for (x in myObj) {\n    txt += \"&lt;tr&gt;&lt;td&gt;\" +myObj[x].id+  \"&lt;/td&gt;&lt;/tr&gt;\";\n  }\n  txt += \"&lt;/table&gt;\" \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2138, "user_id": 4691401, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9bcde701bf95b941714881eca39e06c9?s=128&d=identicon&r=PG&f=1", "display_name": "Sami Ahmed Siddiqui", "link": "https://stackoverflow.com/users/4691401/sami-ahmed-siddiqui"}, "is_accepted": false, "score": 0, "last_activity_date": 1565212220, "creation_date": 1565212220, "answer_id": 57402326, "question_id": 57402014, "link": "https://stackoverflow.com/questions/57402014/table-data-from-api/57402326#57402326", "title": "Table data from api", "body": "<p>Try this:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var obj, dbParam, xmlhttp, myObj, x = 0, objLen, txt = \"\";\r\nobj = { table: \"login\", limit: 20 };\r\ndbParam = JSON.stringify(obj);\r\nxmlhttp = new XMLHttpRequest();\r\nxmlhttp.onreadystatechange = function() {\r\n    if (this.readyState == 4 &amp;&amp; this.status == 200) {\r\n        myObj = JSON.parse(this.responseText);\r\n        objLen = myObj.length;\r\n        txt += \"&lt;table border='1'&gt;\";\r\n        while (x &lt; objLen) {      \r\n            txt += \"&lt;tr&gt;\";\r\n            for (let [key, value] of Object.entries(myObj[x])) {\r\n                txt += \"&lt;td&gt;\" + value + \"&lt;/td&gt;\";\r\n            }\r\n            txt += \"&lt;/tr&gt;\";\r\n            x++;\r\n            \r\n        }\r\n        txt += \"&lt;/table&gt;\";\r\n        document.getElementById(\"myData\").innerHTML = txt;\r\n//        console.log(JSON.parse(this.responseText));\r\n    }\r\n};\r\nxmlhttp.open(\"GET\", \"https://api.github.com/users\", true);\r\nxmlhttp.setRequestHeader(\"Content-type\", \"application//x-www-form-urlencoded\");\r\nxmlhttp.send(\"x=\"+dbParam);</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"myData\"&gt;&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>It shows all the fetched data in the table. One login in one column. You may change the HTML and manipulate as per your need.</p>\n"}], "owner": {"reputation": 27, "user_id": 11555348, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1337cf3e5ba4f33975a40868c5cbd313?s=128&d=identicon&r=PG&f=1", "display_name": "Tillix76", "link": "https://stackoverflow.com/users/11555348/tillix76"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 49, "favorite_count": 0, "answer_count": 3, "score": 1, "last_activity_date": 1566309628, "creation_date": 1565210355, "last_edit_date": 1565217072, "question_id": 57402014, "link": "https://stackoverflow.com/questions/57402014/table-data-from-api", "title": "Table data from api", "body": "<p>I'm trying to get my data from the API into the table.</p>\n\n<p>I've tried loops but it won't work</p>\n\n<pre><code>var obj, dbParam, xmlhttp, myObj, x, txt = \"\";\nobj = { table: \"login\", limit: 20 };\ndbParam = JSON.stringify(obj);\nxmlhttp = new XMLHttpRequest();\nxmlhttp.onreadystatechange = function() {\n    if (this.readyState == 4 &amp;&amp; this.status == 200) {\n        myObj = JSON.parse(this.responseText);\n        txt += \"&lt;table border='1'&gt;\"\n        for (x in myObj) {\n            txt += \"&lt;tr&gt;&lt;td&gt;\" +myObj[x].name+  \"&lt;/tr&gt;&lt;/td&gt;\";\n        }\n        txt += \"&lt;/table&gt;\" \n        document.getElementById(\"myData\").innerHTML = txt;\n        console.log(JSON.parse(this.responseText));\n    }\n};\nxmlhttp.open(\"GET\", \"https://api.github.com/users\", true);\nxmlhttp.setRequestHeader(\"Content-type\", \"application//x-www-form-urlencoded\");\nxmlhttp.send(\"x=\"+dbParam);\n</code></pre>\n\n<p>I would like for the table to be filled with the API data</p>\n"}, {"tags": ["javascript", "reactjs", "antd"], "answers": [{"tags": [], "owner": {"reputation": 30122, "user_id": 7882470, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/uJbpX.jpg?s=128&g=1", "display_name": "Dennis Vash", "link": "https://stackoverflow.com/users/7882470/dennis-vash"}, "is_accepted": true, "score": 2, "last_activity_date": 1565247195, "creation_date": 1565247195, "answer_id": 57406762, "question_id": 57401952, "link": "https://stackoverflow.com/questions/57401952/make-a-separate-single-column-row-in-a-multi-column-table-in-antd/57406762#57406762", "title": "Make a separate single column row in a multi column table in antd", "body": "<p>You need to use <a href=\"https://ant.design/components/table/#Column\" rel=\"nofollow noreferrer\"><code>colSpan</code> property of <code>Column</code></a>.</p>\n\n<p>On the desired index (in the example it's <code>3</code>), set all columns span to <code>0</code> and the specific entry to the table length <code>5</code></p>\n\n<ul>\n<li><code>obj.props.colSpan = 0;</code></li>\n<li><code>props: { colSpan: 5 }</code></li>\n</ul>\n\n<p>I just adjusted the <a href=\"https://codesandbox.io/s/21mx3pm5x0\" rel=\"nofollow noreferrer\">official example</a>.</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const renderContent = (value, row, index) =&gt; {\n  const obj = {\n    children: value,\n    props: {}\n  };\n  if (index === 3) {\n    // On target every other column is not showing\n    obj.props.colSpan = 0;\n  }\n  return obj;\n};\n\nconst columns = [\n  {\n    title: 'Name',\n    dataIndex: 'name',\n    render: (text, row, index) =&gt; {\n      if (index !== 3) {\n        return &lt;a href=\"javascript:;\"&gt;{text}&lt;/a&gt;;\n      }\n      return {\n        children: &lt;a href=\"javascript:;\"&gt;{text}&lt;/a&gt;,\n        // The target takes all column span\n        props: {\n          colSpan: 5\n        }\n      };\n    }\n  },\n  {\n    title: 'Age',\n    dataIndex: 'age',\n    render: renderContent\n  }, \n  ...\n];\n\nconst data = [..]\n\n&lt;Table columns={columns} dataSource={data} bordered /&gt;\n</code></pre>\n\n<p><a href=\"https://codesandbox.io/s/styled-antd-react-starter-jkn7h?fontsize=14\" rel=\"nofollow noreferrer\"><img src=\"https://codesandbox.io/static/img/play-codesandbox.svg\" alt=\"Edit Q-57401952-TableColSpan\"></a></p>\n"}], "owner": {"reputation": 624, "user_id": 3621842, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/GGCuu.jpg?s=128&g=1", "display_name": "Hypothesis", "link": "https://stackoverflow.com/users/3621842/hypothesis"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 902, "favorite_count": 0, "accepted_answer_id": 57406762, "answer_count": 1, "score": 3, "last_activity_date": 1565247235, "creation_date": 1565209975, "last_edit_date": 1565247235, "question_id": 57401952, "link": "https://stackoverflow.com/questions/57401952/make-a-separate-single-column-row-in-a-multi-column-table-in-antd", "title": "Make a separate single column row in a multi column table in antd", "body": "<p>So I have a regular table in <code>antd</code> including 3 columns as such </p>\n\n<pre class=\"lang-js prettyprint-override\"><code>&lt;Table dataSource={data}&gt;\n  &lt;Column title=\"Age\" dataIndex=\"age\" key=\"age\" /&gt;\n  &lt;Column title=\"Address\" dataIndex=\"address\" key=\"address\" /&gt;\n  &lt;Column title=\"Tags\" dataIndex=\"tags\" key=\"tags\" /&gt;\n&lt;/Table&gt;\n</code></pre>\n\n<p>but I would like to have an advert after every 20 entry as a single row inside the table. Is there a way to achieve this with <code>antd</code> tables or should I revert back to <code>data.map</code>?</p>\n"}, {"tags": ["javascript", "node.js", "fastify"], "answers": [{"tags": [], "owner": {"reputation": 6179, "user_id": 3309466, "user_type": "registered", "accept_rate": 78, "profile_image": "https://i.stack.imgur.com/EmrO2.jpg?s=128&g=1", "display_name": "Manuel Spigolon", "link": "https://stackoverflow.com/users/3309466/manuel-spigolon"}, "is_accepted": false, "score": 0, "last_activity_date": 1567148981, "creation_date": 1567148981, "answer_id": 57722120, "question_id": 57401932, "link": "https://stackoverflow.com/questions/57401932/authentication-with-fastify-gql-plugin/57722120#57722120", "title": "Authentication with Fastify-gql plugin", "body": "<p>I have started a PR with this example.</p>\n\n<p>You can check the source code <a href=\"https://github.com/fastify/example/pull/13/files\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>The plugin <code>fastify-gql</code> doesn't expose this feature, but it registers the routs you need to protect.\nSo, listening for the <code>onRoute</code> hook, you can check when the <code>fastify-gql</code> plugin is adding his routes and append your <code>preValidation</code> hook to them and apply your auth logic.</p>\n"}], "owner": {"reputation": 631, "user_id": 9224067, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/6e804fece0c959c9c6018e441d69c4f4?s=128&d=identicon&r=PG&f=1", "display_name": "thotam", "link": "https://stackoverflow.com/users/9224067/thotam"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 267, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1567148981, "creation_date": 1565209897, "question_id": 57401932, "link": "https://stackoverflow.com/questions/57401932/authentication-with-fastify-gql-plugin", "title": "Authentication with Fastify-gql plugin", "body": "<p>Any Example on how to leverage fastify-jwt plugin with fastify-gql for authentication?. I want to protect '/graphql' route but not '/' and '/health' routes.</p>\n\n<p>Any help is appreciated?</p>\n"}, {"tags": ["javascript", "performance"], "comments": [{"owner": {"reputation": 2150, "user_id": 3697695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f49197df1d151d4c42bdfc05177cb4d?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/3697695/joel"}, "edited": false, "score": 1, "creation_date": 1565211192, "post_id": 57401805, "comment_id": 101285857, "body": "you should first pass parameters x and y to <code>drawCircle</code>, then within this function call <code>setTimeout(function() { ... }, 0)</code> where <code>...</code> is the current content of <code>drawCircle</code> (<code>var svgns = etc.</code>)"}, {"owner": {"reputation": 2150, "user_id": 3697695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f49197df1d151d4c42bdfc05177cb4d?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/3697695/joel"}, "edited": false, "score": 0, "creation_date": 1565212049, "post_id": 57401805, "comment_id": 101286126, "body": "But with all these <code>setTimeout</code>s you would just delay the DOM manipulation to the next event loop iteration so that&#39;s probably not going to help that much. With <code>setInterval</code> as suggestion by @michael-bianconi you can control (to some extent) the &quot;framerate&quot; and eventually limit it, for instance to a fixed number of circles drawn per frame, in order to avoid freezing effects."}, {"owner": {"reputation": 33, "user_id": 11862742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9da8c50767fe0201f26862eed03d3773?s=128&d=identicon&r=PG&f=1", "display_name": "moshacoder", "link": "https://stackoverflow.com/users/11862742/moshacoder"}, "reply_to_user": {"reputation": 2150, "user_id": 3697695, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5f49197df1d151d4c42bdfc05177cb4d?s=128&d=identicon&r=PG", "display_name": "Joel", "link": "https://stackoverflow.com/users/3697695/joel"}, "edited": false, "score": 0, "creation_date": 1565212065, "post_id": 57401805, "comment_id": 101286132, "body": "Joel - that was what I needed! Thank so much."}], "answers": [{"comments": [{"owner": {"reputation": 33, "user_id": 11862742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9da8c50767fe0201f26862eed03d3773?s=128&d=identicon&r=PG&f=1", "display_name": "moshacoder", "link": "https://stackoverflow.com/users/11862742/moshacoder"}, "edited": false, "score": 0, "creation_date": 1565210029, "post_id": 57401863, "comment_id": 101285445, "body": "Thank you for the quick answer - where would that go in the code example I posted? Do I wrap the nested loops inside of the code you posted?"}], "tags": [], "owner": {"reputation": 4756, "user_id": 10001688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kvhzK.jpg?s=128&g=1", "display_name": "Michael Bianconi", "link": "https://stackoverflow.com/users/10001688/michael-bianconi"}, "is_accepted": false, "score": 1, "last_activity_date": 1565209852, "last_edit_date": 1565209852, "creation_date": 1565209558, "answer_id": 57401863, "question_id": 57401805, "link": "https://stackoverflow.com/questions/57401805/javascript-how-to-prevent-blocking-during-nested-for-loops/57401863#57401863", "title": "Javascript - How to prevent blocking during nested For loops?", "body": "<p>You're going to need to use <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/setInterval\" rel=\"nofollow noreferrer\"><code>setInterval()</code></a>.</p>\n\n<pre><code>// sample values\nvar loopSpeed = 25;  // How often the window will refresh, in milliseconds\nvar loopEnd = 75;\nvar loopStart = 5;\nvar loopIncrement = 5;\n\n\nvar i = loopStart;\nvar intervalId = setInterval(() =&gt; {\n\n    if (i === loopEnd) {\n      // wrap up\n      clearInterval(intervalId);\n      return;\n    }\n\n    // do loop stuff\n    i += loopIncrement;\n\n}, loopSpeed);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 1369, "user_id": 367358, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b45f7bd4e0a7fe26339938eaa4d2602e?s=128&d=identicon&r=PG", "display_name": "Aleksey", "link": "https://stackoverflow.com/users/367358/aleksey"}, "is_accepted": false, "score": 0, "last_activity_date": 1565212077, "creation_date": 1565212077, "answer_id": 57402296, "question_id": 57401805, "link": "https://stackoverflow.com/questions/57401805/javascript-how-to-prevent-blocking-during-nested-for-loops/57402296#57402296", "title": "Javascript - How to prevent blocking during nested For loops?", "body": "<p>You need to split your code into multiple chunks which you can run without blocking browser for long time. Here is simple example of how it can be done, tried to keep it as close as possible to your original code. Basically you draw certain number of circles <code>circlesCount</code> per cycle and then use <code>setTimeout</code> to let browser update DOM.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>  \r\n  function randomCircles() {\r\n    var x_end = 900;\r\n    var y_end = 675;\r\n    var x = 0;\r\n    var y = 0;\r\n    var circlesCount = 20;\r\n    function randomCirclesIteration() {\r\n      var drawnCircles = 0;\r\n      for(; x&lt;=x_end; x += 5){\r\n        for(; y&lt;=y_end; y += 5){\r\n          new_circle = Math.random();\r\n          drawCircle(x, y, new_circle);\r\n          drawnCircles++;\r\n          if (drawnCircles == circlesCount) {\r\n            setTimeout(randomCirclesIteration, 0);\r\n            return;\r\n          }\r\n        }\r\n        y = 0;\r\n      }\r\n    }\r\n    randomCirclesIteration();\r\n  }\r\n  \r\n  \r\n  \r\n  function drawCircle(x, y, circle_radius){\r\n  \tvar svgns = \"http://www.w3.org/2000/svg\";\r\n\t\tvar container = document.getElementById('cont');\r\n    var circle = document.createElementNS(svgns, 'circle');\r\n    var new_circle = (circle_radius * 2).toFixed(2);\r\n    circle.setAttributeNS(null, 'cx', x);\r\n    circle.setAttributeNS(null, 'cy', y);\r\n    circle.setAttributeNS(null, 'r', parseFloat(new_circle));\r\n    circle.setAttributeNS(null, 'style', 'fill: white; stroke: none;' );\r\n    container.appendChild(circle);\r\n  }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 33, "user_id": 11862742, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/9da8c50767fe0201f26862eed03d3773?s=128&d=identicon&r=PG&f=1", "display_name": "moshacoder", "link": "https://stackoverflow.com/users/11862742/moshacoder"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 88, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565212364, "creation_date": 1565209272, "last_edit_date": 1565212364, "question_id": 57401805, "link": "https://stackoverflow.com/questions/57401805/javascript-how-to-prevent-blocking-during-nested-for-loops", "title": "Javascript - How to prevent blocking during nested For loops?", "body": "<p>I have a set of nested For loops in my script (vanilla javascript, no jquery) that could go on for quite a while (30+ seconds). During this time, the browser is obviously unresponsive and the DOM isn't updating because the loop is blocking - just as one would expect.</p>\n\n<p>Inside the nested For loops, I'm calling another function and generating a SVG circle with the parameters being passed and then adding the circles to an svg element and returning to the loop.</p>\n\n<p><strong>Question: what strategy can be used to update the DOM and actually show some of the SVG circles being created?</strong></p>\n\n<p>There are a lot of questions on S/O asking for similar solutions, but most of the examples use setTimeout(function, 0) and although I have tried using this, the DOM doesn't update probably because I'm not sure which function I should set the Timeout for?</p>\n\n<p>I've also found some examples of webworkers, but can't quite wrap my head around how I could actually use those in this project.</p>\n\n<p>Using this basic example - could someone show me how I can update the DOM while the loop is processing?</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>\n&lt;button onclick=\"randomCircles()\"&gt;\n  make circles\n&lt;/button&gt;\n&lt;svg \n  id=\"cont\" version=\"1.1\" \n  xmlns=\"http://www.w3.org/2000/svg\" \n  xmlns:xlink=\"http://www.w3.org/1999/xlink\" \n  x=\"0\" y=\"0\" viewBox=\"0, 0, 900, 600\"&gt;\n  &lt;style&gt;svg { background-color: black;}&lt;/style&gt;\n&lt;/svg&gt;\n\n</code></pre>\n\n<pre><code>\n&lt;script&gt;\n    function randomCircles(){\n        var x_end = 900;\n        var y_end = 675;\n        for(x=0; x&lt;=x_end; x += 5){\n            for(y=0; y&lt;=y_end; y += 5){\n                var new_circle = Math.random();\n                         drawCircle(x,y,new_circle);\n            }\n        }\n    }\n\n  function drawCircle(x,y,circle_radius){\n    var svgns = \"http://www.w3.org/2000/svg\";\n    var container = document.getElementById('cont');\n    var circle = document.createElementNS(svgns, 'circle');\n    var circle_to_draw = circle_radius * 2;\n    circle.setAttributeNS(null, 'cx', x);\n    circle.setAttributeNS(null, 'cy', y);\n    circle.setAttributeNS(null, 'r', circle_to_draw);\n    circle.setAttributeNS(null, 'style', 'fill: white; stroke: none;' );\n    container.appendChild(circle);\n\n    return;\n  }\n&lt;/script&gt;\n</code></pre>\n\n<p>Very basic example (fiddle: <a href=\"https://jsfiddle.net/wx67uyzv/2/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/wx67uyzv/2/</a>)</p>\n\n<p><strong>Here is an updated fiddle with the solution, thanks to Joel!</strong></p>\n\n<p><a href=\"https://jsfiddle.net/198znrc0/\" rel=\"nofollow noreferrer\">https://jsfiddle.net/198znrc0/</a></p>\n"}, {"tags": ["javascript", "json", "react-native"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565209280, "post_id": 57401781, "comment_id": 101285122, "body": "I&#39;ll bet <code>articles</code> is an array, not an object, so you need to index it."}, {"owner": {"reputation": 1689, "user_id": 11874554, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bGbGx3iHbKY/AAAAAAAAAAI/AAAAAAAAAKg/4A5QFxJ0yLs/photo.jpg?sz=128", "display_name": "Dominik Matis", "link": "https://stackoverflow.com/users/11874554/dominik-matis"}, "edited": false, "score": 3, "creation_date": 1565209327, "post_id": 57401781, "comment_id": 101285141, "body": "Hope there should be <code>!= undefined</code> in first <code>if</code>"}], "answers": [{"tags": [], "owner": {"reputation": 4058, "user_id": 2778527, "user_type": "registered", "accept_rate": 40, "profile_image": "https://i.stack.imgur.com/vp5kg.jpg?s=128&g=1", "display_name": "ajitksharma", "link": "https://stackoverflow.com/users/2778527/ajitksharma"}, "is_accepted": true, "score": 1, "last_activity_date": 1565209745, "creation_date": 1565209745, "answer_id": 57401898, "question_id": 57401781, "link": "https://stackoverflow.com/questions/57401781/how-to-check-if-a-json-object-is-present-in-a-file-in-javascript/57401898#57401898", "title": "How to check if a JSON object is present in a file in JavaScript", "body": "<p>Your code seems not correct, you are saying if error is undefined then comparing for a string value. This is contradictory.</p>\n\n<p>It should be something like this, considering error is an object not an array</p>\n\n<pre><code>componentDidMount = () =&gt; {\nconsole.log(\"STATE\", this.state);\nif(this.props.response.articles.error &amp;&amp; this.props.response.articles.error.type){ // considering error object may or may not be present\n  if(this.props.response.articles.error.type === \"NameResolutionException\"){\n    Alert.alert(\"Please Refine Search or Specify Taxon.\")\n      .then(()=&gt;this.props.navigation.navigate(\"Home\"));\n  }\n  else if (this.props.response.articles.error.type === \"OtherPossibleStringException\"){\n  }\n  else {\n      //Any unhandled error case\n  }\n }\n};\n</code></pre>\n"}], "owner": {"reputation": 121, "user_id": 11151548, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/96638ee45cf78c7f2845aae816899810?s=128&d=identicon&r=PG&f=1", "display_name": "dpatel125", "link": "https://stackoverflow.com/users/11151548/dpatel125"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 314, "favorite_count": 0, "accepted_answer_id": 57401898, "answer_count": 1, "score": 0, "last_activity_date": 1565209745, "creation_date": 1565209159, "question_id": 57401781, "link": "https://stackoverflow.com/questions/57401781/how-to-check-if-a-json-object-is-present-in-a-file-in-javascript", "title": "How to check if a JSON object is present in a file in JavaScript", "body": "<p>I am building an app in react-native and have been trouble getting some trouble doing error checking. I am using <code>redux</code> and <code>thunk</code> to store a JSON file from the API that I am searching from. Sometimes, the search will lead back with a JSON file that contains an error message(most likely due to spelling error or unsure about what I am exactly searching for). I am trying to build a function in my app that will run in an <code>componentWillMount</code> function that first checks if the file has an error meassage and if so will send it back to the home screen to redo the search. The problem that am encountering is that I do not know what to code inorder to see what the error is or even if there is an error to begin with.</p>\n\n<p>this is what the error object will look like in the JSON file and this </p>\n\n<pre><code>\"error\": {\n    \"type\": \"NameResolutionException\",\n    \"message\": \"Name resolution error: Taxon 'Mallard' or 'Bat' resolve to multiple nodes\"\n  },\n</code></pre>\n\n<p>This is the function that I built </p>\n\n<pre><code>componentDidMount = () =&gt; {\n    console.log(\"STATE\", this.state);\n    if(this.props.response.articles.error == undefined){\n      if(this.props.response.articles.error.type === \"NameResolutionException\"){\n        Alert.alert(\"Please Refine Search or Specify Taxon.\")\n          .then(()=&gt;this.props.navigation.navigate(\"Home\"));\n      }\n    }\n };\n</code></pre>\n\n<p>The if statements will never hit despite the fact that the json file will the error object in it. </p>\n\n<p>The expected output is that the error will be caught and then the app will go back to its the home screen but instead the app will fail because certain components will be missing.</p>\n"}, {"tags": ["javascript", "google-translate"], "answers": [{"comments": [{"owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "reply_to_user": {"reputation": 13, "user_id": 9429522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab63216c643e489d6db531d443f99bd2?s=128&d=identicon&r=PG&f=1", "display_name": "devetoka", "link": "https://stackoverflow.com/users/9429522/devetoka"}, "edited": false, "score": 0, "creation_date": 1565210357, "post_id": 57401892, "comment_id": 101285569, "body": "No problem Devetoka - glad I could help!"}], "tags": [], "owner": {"reputation": 7965, "user_id": 6504633, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1ac20a524c7ab77fee62995c374a1f8a?s=128&d=identicon&r=PG&f=1", "display_name": "obscure", "link": "https://stackoverflow.com/users/6504633/obscure"}, "is_accepted": true, "score": 2, "last_activity_date": 1565209686, "creation_date": 1565209686, "answer_id": 57401892, "question_id": 57401775, "link": "https://stackoverflow.com/questions/57401775/google-translate-javascript-snippet-not-working/57401892#57401892", "title": "Google Translate javascript snippet not working", "body": "<p>The snippet over at <a href=\"https://www.w3schools.com/howto/howto_google_translate.asp\" rel=\"nofollow noreferrer\">w3school</a> indeed has a bug.\nIt says to add the following line to include Google's API:</p>\n\n<pre><code> &lt;script type=\"text/javascript\" src=\"//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit\"&gt;&lt;/script&gt; \n</code></pre>\n\n<p>Unfortunately the trailing <strong>//</strong> makes it point to a local file. So unless you've downloaded the library and bundled it with your html file this points to nowhere.\nInstead link to the online library by adding <strong>https:</strong></p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit\"&gt;&lt;/script&gt; \n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2442, "user_id": 7052826, "user_type": "registered", "accept_rate": 85, "profile_image": "https://graph.facebook.com/10207820681381192/picture?type=large", "display_name": "Mitchell van Zuylen", "link": "https://stackoverflow.com/users/7052826/mitchell-van-zuylen"}, "is_accepted": false, "score": 0, "last_activity_date": 1565209788, "creation_date": 1565209788, "answer_id": 57401913, "question_id": 57401775, "link": "https://stackoverflow.com/questions/57401775/google-translate-javascript-snippet-not-working/57401913#57401913", "title": "Google Translate javascript snippet not working", "body": "<p>When you're running it on your machine, you're running it as a local file. As such, the source file, which is loading from <code>//translate.google</code> etc, is trying to find this file on google. </p>\n\n<p>If you replace this with:</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit\"&gt;&lt;/script&gt; \n</code></pre>\n\n<p>you will find it is no longer trying to find a local file (i.e. on your machine), but instead will look for it on the internet. </p>\n"}], "owner": {"reputation": 13, "user_id": 9429522, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/ab63216c643e489d6db531d443f99bd2?s=128&d=identicon&r=PG&f=1", "display_name": "devetoka", "link": "https://stackoverflow.com/users/9429522/devetoka"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 683, "favorite_count": 0, "accepted_answer_id": 57401892, "answer_count": 2, "score": 1, "last_activity_date": 1565217073, "creation_date": 1565209129, "last_edit_date": 1565217073, "question_id": 57401775, "link": "https://stackoverflow.com/questions/57401775/google-translate-javascript-snippet-not-working", "title": "Google Translate javascript snippet not working", "body": "<p>I tried using the code snippet from w3school.com. It worked on w3school but doesnt work on my PC. </p>\n\n<pre><code>&lt;div id=\"google_translate_element\"&gt;&lt;/div&gt;\n&lt;script&gt;\n\nfunction googleTranslateElementInit() {\n    new google.translate.TranslateElement({\n        pageLanguage: 'en'\n    }, 'google_translate_element');\n}\n\n&lt;/script&gt;\n&lt;script src=\"//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>I got the following in the console.</p>\n\n<pre><code>translate.html:18 GET file://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit net::ERR_FILE_NOT_FOUND\n</code></pre>\n"}, {"tags": ["javascript", "python", "jquery", "django", "ajax"], "answers": [{"comments": [{"owner": {"reputation": 221, "user_id": 4274889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/765c61b336328210773fe319bc5f5593?s=128&d=identicon&r=PG&f=1", "display_name": "christianwgd", "link": "https://stackoverflow.com/users/4274889/christianwgd"}, "edited": false, "score": 0, "creation_date": 1565271882, "post_id": 57408734, "comment_id": 101308266, "body": "... and if you don&#39;t want to implement by yourself, django_autocomplete_light does support chained selection fields: <a href=\"https://django-autocomplete-light.readthedocs.io/en/master/tutorial.html#filtering-results-based-on-the-value-of-other-fields-in-the-form\" rel=\"nofollow noreferrer\">django-autocomplete-light.readthedocs.io/en/master/&hellip;</a>"}], "tags": [], "owner": {"reputation": 221, "user_id": 4274889, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/765c61b336328210773fe319bc5f5593?s=128&d=identicon&r=PG&f=1", "display_name": "christianwgd", "link": "https://stackoverflow.com/users/4274889/christianwgd"}, "is_accepted": false, "score": 0, "last_activity_date": 1565254451, "creation_date": 1565254451, "answer_id": 57408734, "question_id": 57401765, "link": "https://stackoverflow.com/questions/57401765/how-can-a-ajax-jquery-script-show-2-dependent-dropdown-box-entries-within-one-f/57408734#57408734", "title": "How can a Ajax/jQuery script show 2+ dependent dropdown box entries within one Form url?", "body": "<p>First move change your form.html javascript, so that the <code>$(\"#id_source\").change(function ()</code> \nis on the same level as the name change function. I suppose otherwise it will never be called:</p>\n\n<p>forms.html javascript</p>\n\n<pre><code>&lt;script&gt;\n    $(\"#id_region\").change(function () {\n        var url = $(\"#nameForm\").attr(\"data-names-url\");\n        var regionId = $(this).val();\n        $.ajax({\n            url: url,\n            data: {\n                'region': regionId\n            },\n            success: function (data) {\n                $(\"#id_name\").html(data);\n            }\n        });\n    });\n\n    $(\"#id_source\").change(function () {\n        var url = $(\"#nameForm\").attr(\"data-sources-url\");\n        var nameId = $(this).val();\n        $.ajax({\n            url: url,\n            data: {\n                'name': nameId\n            },\n            success: function (data) {\n                $(\"#id_source\").html(data);\n            }\n        });\n    });\n&lt;/script&gt;\n</code></pre>\n\n<p>I would start with a much simpler design to fetch the names and sources. Remove the complete init of your request form so that the standard init gives you all values for the names and sources. You will need them because the form validates against these values and if its empty none of them will be valid. You can remove the values then with a little javascript:</p>\n\n<pre><code>$(document).ready(function() {\n    $(\"#id_region\").html(\"---\"); // or whatever your null value will be\n    $(\"#id_source\").html(\"---\");\n});\n</code></pre>\n\n<p>To get the values of names and sources you need to view functions:</p>\n\n<pre><code>def load_names(request, region_id):\n    names = Name.objects.filter(region__id=region_id).order_by('region')\n    html = ''\n    for name in names:\n        html += '&lt;option value=\"{id}\"&gt;{name}&lt;/option&gt;\\n'.format(id=name.id, name=name.name)\n    return HttpResponse(html)\n\n\ndef load_sources(request, name_id):\n    sources = Source.objects.filter(name__id=name_id).order_by('region')\n    html = ''\n    for source in sources:\n        html += '&lt;option value=\"{id}\"&gt;{source}&lt;/option&gt;\\n'.format(id=name.id, source=source.source)\n    return HttpResponse(html)\n</code></pre>\n\n<p>If this works fine you can change them to templatetags, if you want</p>\n\n<p>At last you need the proper url definitions:</p>\n\n<pre><code>path('load_names', views.load_names, name='load-names'),\npath('load_sources', views.load_sources, name='load-sources'),\n</code></pre>\n\n<p>Pass these to your view form.</p>\n"}], "owner": {"reputation": 143, "user_id": 11104072, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-Oletek1jOEE/AAAAAAAAAAI/AAAAAAAAACU/WUDxGP83XRU/photo.jpg?sz=128", "display_name": "JcoOnline", "link": "https://stackoverflow.com/users/11104072/jcoonline"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565254451, "creation_date": 1565209085, "last_edit_date": 1565209465, "question_id": 57401765, "link": "https://stackoverflow.com/questions/57401765/how-can-a-ajax-jquery-script-show-2-dependent-dropdown-box-entries-within-one-f", "title": "How can a Ajax/jQuery script show 2+ dependent dropdown box entries within one Form url?", "body": "<p>I am developing a simple form prototype that contains 4 entries in PythonAnywhere (Python 3.7 + Django):</p>\n\n<ol>\n<li>PinID (Independent, simple manual number entry)</li>\n<li>Region (Independent Dropdown Box)</li>\n<li>Name (Region-Dependent Dropdown Box)</li>\n<li>Source (Name-Dependent Dropdown Box)</li>\n</ol>\n\n<p>What shows up in the Name box is dependent on the Region box, and what shows up in the Source box is dependent on the Name box. So ultimately, the Source Box is dependent on the Region box (If A, then B. If B, then C. So C is dependent on A). To note, if the Region or Name box is blank, their respective dependents are blank. </p>\n\n<p>As my current code is written (which is likely wrong), I can only get my Name box to autopopulate correctly. The Source box remains blank, but it does indeed autopopulate correctly after I refresh the page. However, I intend to keep the form all in one url. I refer to two other .html files to \"insert\" themselves into the form's .html file without refreshing the page. In the jQuery script, I put the identical segment of code for the second dependent dropdown box under the success function of the first dependent dropdown box, which might be my issue.</p>\n\n<p>So, I presume my coding issue is initiating two different url references within one jQuery script. Does anyone know if I can correct my jQuery script to reference both urls? I included my relevant Django files for reference and if I am overlooking an error in those particular files.</p>\n\n<p>For reference, I have based my work using <a href=\"https://simpleisbetterthancomplex.com/tutorial/2018/01/29/how-to-implement-dependent-or-chained-dropdown-list-with-django.html\" rel=\"nofollow noreferrer\">this tutorial.</a> However, this tutorial only worked with one dependent dropdown box.</p>\n\n<p><strong>form.html (Ajax/jQuery)</strong></p>\n\n<pre><code>&lt;form method=\"post\" id=\"nameForm\" data-names-url=\"{% url 'ajax_load_names' %}\" data-sources-url=\"{% url 'ajax_load_sources' %}\" novalidate&gt;\n    {% csrf_token %}\n    &lt;table&gt;\n      {{ form.as_table }}\n    &lt;/table&gt;\n    &lt;button type=\"submit\"&gt;Add&lt;/button&gt;\n    &lt;a href=\"{% url 'name_changelist' %}\"&gt;Nevermind&lt;/a&gt;\n  &lt;/form&gt;\n\n  &lt;script src=\"https://code.jquery.com/jquery-3.3.1.min.js\"&gt;&lt;/script&gt;\n  &lt;script&gt;\n    $(\"#id_region\").change(function () {\n      var url = $(\"#nameForm\").attr(\"data-names-url\");\n      var regionId = $(this).val();\n      $.ajax({\n        url: url,\n        data: {\n          'region': regionId\n        },\n        success: function (data) {\n          $(\"#id_name\").html(data);\n            $(\"#id_source\").change(function () {\n              var url = $(\"#nameForm\").attr(\"data-sources-url\");\n              var nameId = $(this).val();\n              $.ajax({\n                url: url,\n                data: {\n                  'name': nameId\n                },\n                success: function (data) {\n                  $(\"#id_source\").html(data);\n                }\n              });\n            });\n        }\n      });\n    });\n  &lt;/script&gt;\n</code></pre>\n\n<p><strong>name_dropdown_list_options.html</strong></p>\n\n<pre><code>&lt;option value=\"\"&gt;---------&lt;/option&gt;\n{% for name in names %}\n&lt;option value=\"{{ name.pk }}\"&gt;{{ name.name }}&lt;/option&gt;\n{% endfor %}\n</code></pre>\n\n<p><strong>source_dropdown_list_options.html</strong></p>\n\n<pre><code>&lt;option value=\"\"&gt;---------&lt;/option&gt;\n{% for source in sources %}\n&lt;option value=\"{{ source.pk }}\"&gt;{{ source.source }}&lt;/option&gt;\n{% endfor %}\n</code></pre>\n\n<p><strong>forms.py</strong></p>\n\n<pre><code>class RequestForm(forms.ModelForm):\n    class Meta:\n        model = Request\n        fields = ('pinid', 'region', 'name', 'source')\n\n    def __init__(self, *args, **kwargs):\n        super().__init__(*args, **kwargs)\n        self.fields['name'].queryset = Name.objects.none()\n        self.fields['source'].queryset = Source.objects.none()\n\n        if 'region' in self.data:\n            try:\n                region_id = int(self.data.get('region'))\n                self.fields['name'].queryset = Name.objects.filter(region_id=region_id).order_by('region')\n            except (ValueError, TypeError):\n                pass  # invalid input from the client; ignore and fallback to empty Name queryset\n        elif self.instance.pk:\n            self.fields['name'].queryset = self.instance.region.name_set.order_by('region')\n\n        if 'name' in self.data:\n            try:\n                name_id = int(self.data.get('name'))\n                self.fields['source'].queryset = Source.objects.filter(name_id=name_id).order_by('name')\n            except (ValueError, TypeError):\n                pass  # invalid input from the client; ignore and fallback to empty Source queryset\n        elif self.instance.pk:\n            self.fields['source'].queryset = self.instance.name.source_set.order_by('source')\n</code></pre>\n\n<p><strong>models.py</strong></p>\n\n<pre><code>class Region(models.Model):\n    region = models.CharField(max_length=30)\n\n    def __str__(self):\n        return self.region\n\nclass Name(models.Model):\n    region = models.ForeignKey(Region, on_delete=models.CASCADE)\n    name = models.CharField(max_length=30)\n\n    def __str__(self):\n        return self.name\n\nclass Source(models.Model):\n    name = models.ForeignKey(Name, on_delete=models.CASCADE)\n    source = models.CharField(max_length=30)\n\n    def __str__(self):\n        return self.source\n\nclass Request(models.Model):\n    pinid = models.PositiveIntegerField()\n    region = models.ForeignKey(Region, on_delete=models.SET_NULL, null=True)\n    name = models.ForeignKey(Name, on_delete=models.SET_NULL, null=True)\n    source = models.ForeignKey(Source, on_delete=models.SET_NULL, null=True)\n\n    def __int__(self):\n        return self.pinid\n</code></pre>\n\n<p><strong>views.py</strong></p>\n\n<pre><code>class NameCreateView(CreateView):\n    model = Request\n    form_class = RequestForm\n    success_url = reverse_lazy('name_changelist')\n\ndef load_names(request):\n    region_id = request.GET.get('region')\n    names = Name.objects.filter(region_id=region_id).order_by('region')\n    return render(request, '/home/name_dropdown_list_options.html', {'names': names})\n\ndef load_sources(request):\n    name_id = request.GET.get('name')\n    sources = Source.objects.filter(name_id=name_id).order_by('name')\n    return render(request, '/home/source_dropdown_list_options.html', {'sources': sources})\n</code></pre>\n"}, {"tags": ["javascript", "html", "web-component", "htmlelements", "native-web-component"], "comments": [{"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 1, "creation_date": 1565209985, "post_id": 57401660, "comment_id": 101285426, "body": "<a href=\"https://developer.mozilla.org/en-US/docs/Web/Web_Components/HTML_Imports\" rel=\"nofollow noreferrer\">HTML Imports</a> are obsolete and shouldn&#39;t be used in new code."}, {"owner": {"reputation": 2459, "user_id": 4148175, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5292692b48cc43a28b55d8fd6581bbed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim C", "link": "https://stackoverflow.com/users/4148175/jim-c"}, "reply_to_user": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1565212680, "post_id": 57401660, "comment_id": 101286318, "body": "thanks. Looking at my above example, kindly, how would you approach assuming you MUST separate html from javascript file and you CAN&#39;T use extranal libraries (eg. Polymer)?"}, {"owner": {"reputation": 2459, "user_id": 4148175, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5292692b48cc43a28b55d8fd6581bbed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim C", "link": "https://stackoverflow.com/users/4148175/jim-c"}, "reply_to_user": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1565214350, "post_id": 57401660, "comment_id": 101286846, "body": "well, and how do I fix the issue posted above (... document.querySelector(&quot;my-import-webcomponent-template&quot;) returns undefinied...)? Additionally, replacing &lt;link&gt; by &lt;script&gt; didn&#39;t change anything at all. I edted my question with your suggestion"}, {"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1565214886, "post_id": 57401660, "comment_id": 101287010, "body": "It&#39;s not entirely clear which code is in which file and how you are using it. It would be helpful if you edited your code snippets into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, and indicated the names of the files that the code belongs to."}, {"owner": {"reputation": 2459, "user_id": 4148175, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5292692b48cc43a28b55d8fd6581bbed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim C", "link": "https://stackoverflow.com/users/4148175/jim-c"}, "reply_to_user": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1565277690, "post_id": 57401660, "comment_id": 101311719, "body": "as far as I can see it is very clear which content belongs a each file. On top of each code snippet there is the file name or a phrase which clear mentioned it is a separated file (have you heard about Webcomponets? The phrase &quot;...my vanilla webcomponent&quot; should make sense. I get &quot;null&quot; when I try &quot;document.querySelector(&quot;my-import-webcomponent-template&quot;)&quot; from a javascript which is imported to a html file via &lt;script&gt;. If instead of separate template from js file I create a single file with createElement(&quot;template&quot;) I will not get null. Index.html is self explained as using the webcomponent."}, {"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 1, "creation_date": 1565278078, "post_id": 57401660, "comment_id": 101311972, "body": "Also, I just noticed something: <code>document.querySelector(&quot;my-import-webcomponent-template&quot;)</code> is trying to select an <i>element</i> named &quot;my-import-webcomponent-template&quot;, you should be using <code>document.querySelector(&quot;#my-import-webcomponent-template&quot;)</code> if you&#39;re using the ID."}, {"owner": {"reputation": 2459, "user_id": 4148175, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5292692b48cc43a28b55d8fd6581bbed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim C", "link": "https://stackoverflow.com/users/4148175/jim-c"}, "reply_to_user": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 0, "creation_date": 1565284097, "post_id": 57401660, "comment_id": 101314898, "body": "Chrome. There is no difference with/without &quot;#&quot;. I added a picture. If you want you can clone the code. In to-try folder there are three tentatives to separate javascript from html files. And the one mentioned above just return null for document.querySelector(&quot;#my-import-webcomponent-template&quot;); Source at <a href=\"https://github.com/jimisdrpc/skyscanner-webcomponents/tree/master/public/to-try\" rel=\"nofollow noreferrer\">github.com/jimisdrpc/skyscanner-webcomponents/tree/master/&hellip;</a>"}, {"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 1, "creation_date": 1565285010, "post_id": 57401660, "comment_id": 101315278, "body": "Yeah, I see it doesn&#39;t work even with that fixed. Unfortunately, I&#39;m not sure how that method is supposed to work since I&#39;ve only used the current version of custom elements. My suggestion would be to take a look at how to use Custom Elements v1 and see if you can achieve what you want there. This method isn&#39;t going to be much use to you because only Chrome supports HTML Imports and even they will be removing it in version 80 (some time around Feb 2020)."}, {"owner": {"reputation": 4400, "user_id": 574531, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/1c32fe01c48edccb228f69feb0377b7a?s=128&d=identicon&r=PG", "display_name": "Herohtar", "link": "https://stackoverflow.com/users/574531/herohtar"}, "edited": false, "score": 1, "creation_date": 1565285050, "post_id": 57401660, "comment_id": 101315303, "body": "In fact, if you&#39;re using a current version of Chrome and look at your console while loading your page you should see the following message: <i>&quot;[Deprecation] HTML Imports is deprecated and will be removed in M80, around February 2020. Please use ES modules instead. See <a href=\"https://www.chromestatus.com/features/5144752345317376\" rel=\"nofollow noreferrer\">chromestatus.com/features/5144752345317376</a> and <a href=\"https://developers.google.com/web/updates/2019/07/web-components-time-to-upgrade\" rel=\"nofollow noreferrer\">developers.google.com/web/updates/2019/07/&hellip;</a> for more details.&quot;</i>"}, {"owner": {"reputation": 6380, "user_id": 2520800, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/60edc4072807728bf0f69a8af73f716c?s=128&d=identicon&r=PG", "display_name": "Danny &#39;365CSI&#39; Engelman", "link": "https://stackoverflow.com/users/2520800/danny-365csi-engelman"}, "edited": false, "score": 1, "creation_date": 1565289553, "post_id": 57401660, "comment_id": 101317199, "body": "If you get <code>null</code> the element is not (yet) in the DOM. First verify your content actually IS in the DOM at one point by delaying your code in the connectedCallback with a setTimeout , then work backwards to find the cause of your issue. Reproducing your problem with runable code here in SO in JSFiddle, StackBlitz or CodePen will help (and challenge) people to dig into your problem. Github is not runable.. no-one (well not me) is going to pick up your code from there and make it work"}], "answers": [{"comments": [{"owner": {"reputation": 2459, "user_id": 4148175, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5292692b48cc43a28b55d8fd6581bbed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim C", "link": "https://stackoverflow.com/users/4148175/jim-c"}, "edited": false, "score": 0, "creation_date": 1565792222, "post_id": 57484169, "comment_id": 101462801, "body": "I read from above github &quot;This platform feature, and polyfill, is deprecated, please consider using ES Modules instead.&quot; How would you &quot;import&quot; via ES Modules JavaScript file to the HTML file mentione above? Kindly, take a notice that I have already tried such suggestion without success. As mentioner under &quot;*** edited after suggestion to use instead of&quot; I have tried without success &quot;&lt;script type=&quot;module&quot; src=&quot;./to-try/my-import-webcomponent.js&quot;&gt;&lt;/script&gt; &lt;my-import-webcomponent&gt;&lt;/my-import-webcomponent&gt;&quot;"}, {"owner": {"reputation": 23324, "user_id": 4600982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6kpWl.png?s=128&g=1", "display_name": "Supersharp", "link": "https://stackoverflow.com/users/4600982/supersharp"}, "reply_to_user": {"reputation": 2459, "user_id": 4148175, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5292692b48cc43a28b55d8fd6581bbed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim C", "link": "https://stackoverflow.com/users/4148175/jim-c"}, "edited": false, "score": 1, "creation_date": 1565795706, "post_id": 57484169, "comment_id": 101464751, "body": "You cannot import HTML directly with ES6 import. What you tried won&#39;t work because you load the JS file, but from inside it you never load the HTML file. You should use fetch to load the HTML."}], "tags": [], "owner": {"reputation": 23324, "user_id": 4600982, "user_type": "registered", "accept_rate": 83, "profile_image": "https://i.stack.imgur.com/6kpWl.png?s=128&g=1", "display_name": "Supersharp", "link": "https://stackoverflow.com/users/4600982/supersharp"}, "is_accepted": true, "score": 1, "last_activity_date": 1565724367, "creation_date": 1565724367, "answer_id": 57484169, "question_id": 57401660, "link": "https://stackoverflow.com/questions/57401660/how-to-queryselector-a-template-object-from-javascript/57484169#57484169", "title": "how to queryselector a template object from javascript", "body": "<p>If you want to load HTML files with <code>&lt;link rel=\"import\"&gt;</code> then you'll need to load the <a href=\"https://github.com/webcomponents/html-imports\" rel=\"nofollow noreferrer\">HTML Imports</a> library before.</p>\n\n<pre><code>&lt;script src=\"https://raw.githubusercontent.com/webcomponents/html-imports/master/html-imports.min.js\"&gt;&lt;/script&gt;\n&lt;link rel=\"import\" href=\"./to-try/my-import-webcomponent.html\"&gt;\n...\n</code></pre>\n"}], "owner": {"reputation": 2459, "user_id": 4148175, "user_type": "registered", "accept_rate": 70, "profile_image": "https://www.gravatar.com/avatar/5292692b48cc43a28b55d8fd6581bbed?s=128&d=identicon&r=PG&f=1", "display_name": "Jim C", "link": "https://stackoverflow.com/users/4148175/jim-c"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 373, "favorite_count": 1, "accepted_answer_id": 57484169, "answer_count": 1, "score": 1, "last_activity_date": 1565724367, "creation_date": 1565208542, "last_edit_date": 1565284227, "question_id": 57401660, "link": "https://stackoverflow.com/questions/57401660/how-to-queryselector-a-template-object-from-javascript", "title": "how to queryselector a template object from javascript", "body": "<p>Basically, I want to querySelect a <code>&lt;template&gt;</code> from javascript and I keep getting null.</p>\n\n<p>JavaScript file:</p>\n\n<pre><code>    class MyImportWebcomponent extends HTMLElement {\n        constructor() {\n            super();\n        }\n        connectedCallback() {\n            const shadowRoot = this.attachShadow({ mode: \"open\" });\n            const template = document.querySelector(\"my-import-webcomponent-template\");\n            const instance = template.content.cloneNode(true);\n            shadowRoot.appendChild(instance);\n        }\n    }\n\ncustomElements.define(\"my-import-webcomponent\", MyImportWebcomponent);\n</code></pre>\n\n<p>Template object from my vanilla webcomponent</p>\n\n<pre><code>&lt;template id=\"my-import-webcomponent-template\"&gt;\n  &lt;div id=\"mydiv\" name=\"mydiv\"&gt;\n    &lt;p&gt;Trying html importing another javascript file&lt;/p&gt;\n  &lt;/div&gt;\n&lt;/template&gt;\n\n&lt;script src=\"/to-try/my-import-webcomponent.js\"&gt;&lt;/script&gt;\n</code></pre>\n\n<p>index.html</p>\n\n<pre><code>&lt;my-import-webcomponent&gt;&lt;/my-import-webcomponent&gt;\n&lt;link rel=\"import\" href=\"./to-try/my-import-webcomponent.html\" /&gt;\n</code></pre>\n\n<p>The main issue is that document.querySelector(\"my-import-webcomponent-template\") returns undefinied.</p>\n\n<p>IN case it adds something usefull, if I try keep both javascript and html in same file and instead of querySelector I create straight the element, I successfully can do it.</p>\n\n<p>All in a single file</p>\n\n<pre><code>const templateString = `&lt;div id=\"mydiv\" name=\"mydiv\"&gt;&lt;p&gt;Trying html plus javascript in same file&lt;/p&gt;&lt;/div&gt;`;\nconst template = document.createElement(\"template\");\ntemplate.innerHTML = templateString;\n\nexport class MyCompleteWebcomponent extends HTMLElement {\n    constructor() {\n        super();\n        const shadowRoot = this.attachShadow({ mode: \"open\" });\n        shadowRoot.appendChild(template.content.cloneNode(true));\n    }\n}\ncustomElements.define(\"my-complete-webcomponent\", MyCompleteWebcomponent);\n</code></pre>\n\n<p>My question would be exact the same as <a href=\"https://stackoverflow.com/questions/37665122/queryselector-not-finding-template-on-html-import\">queryselector</a> if it wasn't for two reasons: (1) they seemed to rely on Polifys which it isn't my case and (2) the answer accepted is based on document.currentScript.ownerDocument which demands an old library as far as I know.</p>\n\n<p>*** edited after suggestion to use  instead of </p>\n\n<pre><code>&lt;!-- &lt;link rel=\"import\" href=\"./to-try/my-import-webcomponent.html\" /&gt; --&gt;\n&lt;script type=\"module\" src=\"./to-try/my-import-webcomponent.js\"&gt;&lt;/script&gt;\n&lt;my-import-webcomponent&gt;&lt;/my-import-webcomponent&gt;\n</code></pre>\n\n<p>Nothing changed at all</p>\n\n<p>*** edited after recommended to add \"#\". No changes at all</p>\n\n<p><a href=\"https://i.stack.imgur.com/ylhiM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ylhiM.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": ["javascript", "node.js", "express"], "comments": [{"owner": {"reputation": 399, "user_id": 3593810, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c2e3a3a3e4695caf30ac6236c94f9f7?s=128&d=identicon&r=PG&f=1", "display_name": "mralanlee", "link": "https://stackoverflow.com/users/3593810/mralanlee"}, "edited": false, "score": 0, "creation_date": 1565208692, "post_id": 57401659, "comment_id": 101284886, "body": "Could you run a <code>tree</code> in your project folder so we can see how your structure is setup?"}, {"owner": {"reputation": 39, "user_id": 4648564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dc8ef2738226648e04aa79f9abe8cd62?s=128&d=identicon&r=PG&f=1", "display_name": "ronmar", "link": "https://stackoverflow.com/users/4648564/ronmar"}, "reply_to_user": {"reputation": 399, "user_id": 3593810, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c2e3a3a3e4695caf30ac6236c94f9f7?s=128&d=identicon&r=PG&f=1", "display_name": "mralanlee", "link": "https://stackoverflow.com/users/3593810/mralanlee"}, "edited": false, "score": 0, "creation_date": 1565209094, "post_id": 57401659, "comment_id": 101285045, "body": "@mralanlee done"}, {"owner": {"reputation": 213, "user_id": 9309869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7f3b136e6aed344d4157a4780bb95a7?s=128&d=identicon&r=PG&f=1", "display_name": "S&#225;ndor Bakos", "link": "https://stackoverflow.com/users/9309869/s%c3%a1ndor-bakos"}, "edited": false, "score": 0, "creation_date": 1565216318, "post_id": 57401659, "comment_id": 101287364, "body": "Where is the config.js? Is it in the root directory as well?"}, {"owner": {"reputation": 39, "user_id": 4648564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dc8ef2738226648e04aa79f9abe8cd62?s=128&d=identicon&r=PG&f=1", "display_name": "ronmar", "link": "https://stackoverflow.com/users/4648564/ronmar"}, "reply_to_user": {"reputation": 213, "user_id": 9309869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7f3b136e6aed344d4157a4780bb95a7?s=128&d=identicon&r=PG&f=1", "display_name": "S&#225;ndor Bakos", "link": "https://stackoverflow.com/users/9309869/s%c3%a1ndor-bakos"}, "edited": false, "score": 0, "creation_date": 1565216917, "post_id": 57401659, "comment_id": 101287510, "body": "yes @S&#225;ndorBakos"}, {"owner": {"reputation": 399, "user_id": 3593810, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c2e3a3a3e4695caf30ac6236c94f9f7?s=128&d=identicon&r=PG&f=1", "display_name": "mralanlee", "link": "https://stackoverflow.com/users/3593810/mralanlee"}, "edited": false, "score": 0, "creation_date": 1565299554, "post_id": 57401659, "comment_id": 101320889, "body": "@ronmar how are you setting your <code>NODE_ENV</code>? <code>NODE_ENV</code> should get unset every the process.exits. Usually what I would set in my run script is <code>NODE_ENV=dev node index.js</code>"}, {"owner": {"reputation": 39, "user_id": 4648564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dc8ef2738226648e04aa79f9abe8cd62?s=128&d=identicon&r=PG&f=1", "display_name": "ronmar", "link": "https://stackoverflow.com/users/4648564/ronmar"}, "reply_to_user": {"reputation": 399, "user_id": 3593810, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/8c2e3a3a3e4695caf30ac6236c94f9f7?s=128&d=identicon&r=PG&f=1", "display_name": "mralanlee", "link": "https://stackoverflow.com/users/3593810/mralanlee"}, "edited": false, "score": 0, "creation_date": 1565349417, "post_id": 57401659, "comment_id": 101335704, "body": "@mralanlee I&#39;m using  dotenv, in my package.json I set a script: nodemon -r dotenv/config ./bin/www. I found my problem but I&#39;m not sure what happened.. you can see at the edit"}], "owner": {"reputation": 39, "user_id": 4648564, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/dc8ef2738226648e04aa79f9abe8cd62?s=128&d=identicon&r=PG&f=1", "display_name": "ronmar", "link": "https://stackoverflow.com/users/4648564/ronmar"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 77, "favorite_count": 1, "answer_count": 0, "score": 1, "last_activity_date": 1565219418, "creation_date": 1565208538, "last_edit_date": 1565219418, "question_id": 57401659, "link": "https://stackoverflow.com/questions/57401659/config-param-are-undefined-in-error-handler", "title": "Config param are undefined in error handler", "body": "<p>I have a config file that just sets the process.env data to params.\nIt works fine and I can use it correctly everywhere but on my unexpected exceptions handler I can't use it... all the params from the config file are undefined.</p>\n\n<p>my config file:</p>\n\n<pre><code>module.exports = {\n    env: process.env.NODE_ENV,\n};\n</code></pre>\n\n<p>here is my uncaught exception catcher:</p>\n\n<pre><code>process.on('uncaughtException', (error) =&gt; {\n    errorManagement.handler.handleError(error);\n    if (!errorManagement.handler.isTrustedError(error)) process.exit(1);\n});\n</code></pre>\n\n<p>and here is error handler, env is undefined, everywhere else env is defined</p>\n\n<pre><code>const {\n    env,\n } = require('../../config');\nconst logger = require('../../libraries/logger');\nconst mailer = require('../../libraries/mailer');\n\nfunction ErrorHandler() {\n    this.handleError = async (err) =&gt; {\n        console.log(env);\n    };\n}\n\nmodule.exports.handler = new ErrorHandler();\n</code></pre>\n\n<p>tree of my project folder:</p>\n\n<p><a href=\"https://i.stack.imgur.com/MSUfN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MSUfN.png\" alt=\"tree of my project folder\"></a></p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I found the problem but I'm still not sure why it happened...\nin my config.js file I did:</p>\n\n<pre><code>const errorManager = require('./components/errorManagement');\n\n[\n    'DB_USER',\n].forEach((name) =&gt; {\n    if (typeof process.env[name] === 'undefined') {\n        throw new errorManager.AppError('Environment var missing', 500, `Environment variable ${name} is missing`, true);\n    }\n});\n</code></pre>\n\n<p>when I deleted the error manager and used express Error everything worked as expected</p>\n"}, {"tags": ["javascript", "node.js", "reactjs", "environment-variables", "create-react-app"], "comments": [{"owner": {"reputation": 2010, "user_id": 7174241, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/koOUa.jpg?s=128&g=1", "display_name": "BARNOWL", "link": "https://stackoverflow.com/users/7174241/barnowl"}, "edited": false, "score": 1, "creation_date": 1565208619, "post_id": 57401632, "comment_id": 101284853, "body": "Yes you would need to create an .env for your server, and for the client side which you already have set up."}, {"owner": {"reputation": 2010, "user_id": 7174241, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/koOUa.jpg?s=128&g=1", "display_name": "BARNOWL", "link": "https://stackoverflow.com/users/7174241/barnowl"}, "edited": false, "score": 0, "creation_date": 1565208710, "post_id": 57401632, "comment_id": 101284898, "body": "my example mern app <a href=\"https://github.com/EliHood/ReactExpressPhotoShareApp\" rel=\"nofollow noreferrer\">github.com/EliHood/ReactExpressPhotoShareApp</a>, that uses both .env files for server and client folder. Hopefully this helps."}], "answers": [{"comments": [{"owner": {"reputation": 357, "user_id": 4723888, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/f3631a0fe6734e1a97065be1b373a2fe?s=128&d=identicon&r=PG", "display_name": "Pawe\u0142 Stanecki", "link": "https://stackoverflow.com/users/4723888/pawe%c5%82-stanecki"}, "edited": false, "score": 0, "creation_date": 1565210959, "post_id": 57401709, "comment_id": 101285782, "body": "Hmm... I dont understand why you call <code>client</code> directory as a root of my app and not the <code>mern-todo-app</code> directory."}], "tags": [], "owner": {"reputation": 15766, "user_id": 10106580, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/mCnek.jpg?s=128&g=1", "display_name": "Dupocas", "link": "https://stackoverflow.com/users/10106580/dupocas"}, "is_accepted": false, "score": 4, "last_activity_date": 1565209227, "last_edit_date": 1565209227, "creation_date": 1565208822, "answer_id": 57401709, "question_id": 57401632, "link": "https://stackoverflow.com/questions/57401632/how-to-set-env-variables-across-the-app-with-create-react-app-on-the-client-side/57401709#57401709", "title": "How to set env variables across the app with create-react-app on the client side", "body": "<ul>\n<li><p>Create a <code>.env</code> file in the root of your application (same level as <code>src</code>):</p>\n\n<pre><code>REACT_APP_API = http://XX.XX.XXX.XXX:XXXX\n</code></pre></li>\n</ul>\n\n<p>That's it, by naming your variables with <code>REACT_APP</code> prefix you don't even need to use <code>dotenv.require()</code>. Now <code>REACT_APP_API</code> is available at <code>process.env.REACT_APP_API</code></p>\n"}, {"comments": [{"owner": {"reputation": 357, "user_id": 4723888, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/f3631a0fe6734e1a97065be1b373a2fe?s=128&d=identicon&r=PG", "display_name": "Pawe\u0142 Stanecki", "link": "https://stackoverflow.com/users/4723888/pawe%c5%82-stanecki"}, "edited": false, "score": 1, "creation_date": 1565210788, "post_id": 57401818, "comment_id": 101285718, "body": "Thanks for clear solution. It works, but is there any way to share one <code>.env</code> file between client and server ? If it is possible, which one is more common practice ? To have it in one file or to devide it ?"}], "tags": [], "owner": {"reputation": 191, "user_id": 6383598, "user_type": "registered", "profile_image": "https://graph.facebook.com/1817870905108995/picture?type=large", "display_name": "Rahul", "link": "https://stackoverflow.com/users/6383598/rahul"}, "is_accepted": true, "score": 3, "last_activity_date": 1565209323, "creation_date": 1565209323, "answer_id": 57401818, "question_id": 57401632, "link": "https://stackoverflow.com/questions/57401632/how-to-set-env-variables-across-the-app-with-create-react-app-on-the-client-side/57401818#57401818", "title": "How to set env variables across the app with create-react-app on the client side", "body": "<ol>\n<li>You have to create two .env file . One is in client and another is in server(if needed).</li>\n<li>You dont need to set any other configuration for client. By default client directory support .env if it is done with create-react-app. You may get more information at @<a href=\"https://facebook.github.io/create-react-app/docs/adding-custom-environment-variables\" rel=\"nofollow noreferrer\">custom .env</a></li>\n<li>If you need to use .env for server . create .env at server folder. Add dotenv module. You have to follow instruction from this link. <a href=\"https://github.com/motdotla/dotenv\" rel=\"nofollow noreferrer\">dotenv doc</a></li>\n</ol>\n"}, {"tags": [], "owner": {"reputation": 322, "user_id": 11888722, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/TKLne.png?s=128&g=1", "display_name": "Fullstack Developer", "link": "https://stackoverflow.com/users/11888722/fullstack-developer"}, "is_accepted": false, "score": 0, "last_activity_date": 1565209486, "creation_date": 1565209486, "answer_id": 57401851, "question_id": 57401632, "link": "https://stackoverflow.com/questions/57401632/how-to-set-env-variables-across-the-app-with-create-react-app-on-the-client-side/57401851#57401851", "title": "How to set env variables across the app with create-react-app on the client side", "body": "<p>Right, You must have to create a <code>.env</code> file in the root of our project. Perhaps it will be the same level as <code>src</code>. </p>\n\n<p>Please note this link. <a href=\"https://medium.com/@trekinbami/using-environment-variables-in-react-6b0a99d83cf5\" rel=\"nofollow noreferrer\">https://medium.com/@trekinbami/using-environment-variables-in-react-6b0a99d83cf5</a></p>\n"}], "owner": {"reputation": 357, "user_id": 4723888, "user_type": "registered", "accept_rate": 35, "profile_image": "https://www.gravatar.com/avatar/f3631a0fe6734e1a97065be1b373a2fe?s=128&d=identicon&r=PG", "display_name": "Pawe\u0142 Stanecki", "link": "https://stackoverflow.com/users/4723888/pawe%c5%82-stanecki"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1418, "favorite_count": 0, "accepted_answer_id": 57401818, "answer_count": 3, "score": 0, "last_activity_date": 1565209486, "creation_date": 1565208389, "question_id": 57401632, "link": "https://stackoverflow.com/questions/57401632/how-to-set-env-variables-across-the-app-with-create-react-app-on-the-client-side", "title": "How to set env variables across the app with create-react-app on the client side", "body": "<p>Hey I have my simple Todo app with the client where I have <code>create-react-app</code> installed and the server  with <code>node</code>. I want to set <code>env</code> variables across my app but I am confused how to do it properly.</p>\n\n<p>I have set my <code>.env</code> file in the root directory of the app.</p>\n\n<p><img src=\"https://i.imgur.com/XMtpiYe.png\" alt=\"Directory of my app\"></p>\n\n<p>In the <code>.env</code> file there is only <code>REACT_APP_HOST=http://localhost:3000</code>.</p>\n\n<p>I wanted to display it in the <code>client</code> directory like so:</p>\n\n<pre><code>const { REACT_APP_HOST } = process.env;\nconsole.log({ REACT_APP_HOST });\n</code></pre>\n\n<p>The code above shows me <code>undefined</code>. The whole <code>process.env</code> is an empty object.</p>\n\n<p>I have tried to move the <code>.env</code> to the <code>client</code> directory and it works well then but thats not the point I think. </p>\n\n<p>How to do it properly if I would like to use the <code>.env</code> variables also in the <code>server</code> side ? Do I need to create two separate <code>.env</code> files to serve the client and the server in my case or maybe <code>create-react-app</code> need some extra configuration to be served by one <code>.env</code> file ?</p>\n\n<p>If it'll help here you have my <a href=\"https://github.com/kendyl93/mern-todo-app\" rel=\"nofollow noreferrer\">github repo</a>.</p>\n"}, {"tags": ["javascript", "python", "html"], "comments": [{"owner": {"reputation": 998, "user_id": 5933822, "user_type": "registered", "accept_rate": 73, "profile_image": "https://i.stack.imgur.com/aDm7F.jpg?s=128&g=1", "display_name": "dikuw", "link": "https://stackoverflow.com/users/5933822/dikuw"}, "edited": false, "score": 0, "creation_date": 1565208661, "post_id": 57401627, "comment_id": 101284870, "body": "Right-click on the pop-up input field and select &quot;Inspect&quot; to figure out how you can target it with JavaScript"}, {"owner": {"reputation": 22777, "user_id": 133203, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/Fp3hB.jpg?s=128&g=1", "display_name": "Federico klez Culloca", "link": "https://stackoverflow.com/users/133203/federico-klez-culloca"}, "edited": false, "score": 0, "creation_date": 1565213650, "post_id": 57401627, "comment_id": 101286640, "body": "It looks like the problem is on your end. You seem to be connecting through a web proxy. Either bypass it or setup your scraper to send the credentials when it connects (which depends on how you coded your scraper)"}], "answers": [{"tags": [], "owner": {"reputation": 57, "user_id": 6906935, "user_type": "registered", "accept_rate": 86, "profile_image": "https://www.gravatar.com/avatar/359cdb5c5d079e1739ad66e41d12f508?s=128&d=identicon&r=PG&f=1", "display_name": "maynard", "link": "https://stackoverflow.com/users/6906935/maynard"}, "is_accepted": false, "score": 1, "last_activity_date": 1565213391, "creation_date": 1565213391, "answer_id": 57402523, "question_id": 57401627, "link": "https://stackoverflow.com/questions/57401627/how-to-enter-in-values-for-a-window-prompt-using-javascript/57402523#57402523", "title": "How to enter in values for a window.prompt() using javascript?", "body": "<p>I suspect you may be getting the login prompt due to the web server's setup for the page and not due to anything included in the content of the page in question. You may need to adjust your app's code to handle the login behavior (setting cookies in your request header for example).</p>\n"}], "owner": {"reputation": 1, "user_id": 11699393, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-kCtvLTeMpxs/AAAAAAAAAAI/AAAAAAAAAE4/lsaMb7VHBC0/photo.jpg?sz=128", "display_name": "Nic Mays", "link": "https://stackoverflow.com/users/11699393/nic-mays"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 48, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565213391, "creation_date": 1565208368, "question_id": 57401627, "link": "https://stackoverflow.com/questions/57401627/how-to-enter-in-values-for-a-window-prompt-using-javascript", "title": "How to enter in values for a window.prompt() using javascript?", "body": "<p>I am doing a small project involving web scraping basic html pages hosted on an internal server we use at work. Upon entry to these pages a popup . . . which looks exactly like a windows.prompt() asks for username and a password with a message like \"Enter credentials for Proxy: \". Is there a way to automatically inject and submit these values on the prompt box using JavaScript or even python?</p>\n\n<p>Yes I do have access but every time I go to a different page it will re-prompt me and I am trying to do this for a very large amount of pages.</p>\n\n<p>I have already tried inspecting the page but there does not seem to be any element for a popup.</p>\n"}, {"tags": ["javascript", "html", "reactjs"], "comments": [{"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 1, "creation_date": 1565209214, "post_id": 57401625, "comment_id": 101285096, "body": "Use Composition for something like this <code>https:&#47;&#47;reactjs.org&#47;docs&#47;composition-vs-inheritance.html</code>"}, {"owner": {"reputation": 1870, "user_id": 6301806, "user_type": "registered", "accept_rate": 60, "profile_image": "https://i.stack.imgur.com/AfP7H.png?s=128&g=1", "display_name": "WilliamNHarvey", "link": "https://stackoverflow.com/users/6301806/williamnharvey"}, "edited": false, "score": 0, "creation_date": 1565209709, "post_id": 57401625, "comment_id": 101285286, "body": "set a state for open/close in the parent, and send it in as a boolean prop to the content. Send a function prop to modify the state in the parent into the toggle component"}, {"owner": {"reputation": 753, "user_id": 1414170, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a22f63723bc37cb95442d0686179fbf9?s=128&d=identicon&r=PG", "display_name": "tkd_aj", "link": "https://stackoverflow.com/users/1414170/tkd-aj"}, "reply_to_user": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1565215106, "post_id": 57401625, "comment_id": 101287058, "body": "@Train, if you post your comment as an answer I will accept it since it is what I ended up going with."}, {"owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "edited": false, "score": 0, "creation_date": 1565274294, "post_id": 57401625, "comment_id": 101309703, "body": "Sure thing, I&#39;ll post it soon."}], "answers": [{"comments": [{"owner": {"reputation": 753, "user_id": 1414170, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a22f63723bc37cb95442d0686179fbf9?s=128&d=identicon&r=PG", "display_name": "tkd_aj", "link": "https://stackoverflow.com/users/1414170/tkd-aj"}, "edited": false, "score": 0, "creation_date": 1565214538, "post_id": 57402100, "comment_id": 101286904, "body": "I appreciate the effort, but no. The structure is what I was looking for (nesting components), but the more important piece to me was to have everything self-contained within the DropDown component (which is why I said no redux).  I ended up following what @Train suggested in his/her comment.  I will edit the question to include what I ended up going with"}], "tags": [], "owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "is_accepted": false, "score": 0, "last_activity_date": 1565210863, "creation_date": 1565210863, "answer_id": 57402100, "question_id": 57401625, "link": "https://stackoverflow.com/questions/57401625/react-sibling-communication-with-only-access-to-parent/57402100#57402100", "title": "React sibling communication with ONLY access to parent", "body": "<p>Did you have something like this in mind?</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"true\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const actionTypes = {\r\n  TOGGLE: \"TOGGLE\"\r\n};\r\n\r\nconst notRedux = {\r\n  actionHandlers: Object.keys(actionTypes).reduce(\r\n    (acc, val) =&gt; ({ [val]: [], ...acc }),\r\n    {}\r\n  ),\r\n  dispatchAction(actionType, data) {\r\n    this.actionHandlers[actionType].forEach(handler =&gt; handler(data));\r\n  },\r\n  onAction(actionType, actionHandler) {\r\n    this.actionHandlers[actionType].push(actionHandler);\r\n  }\r\n};\r\n\r\nconst DropDown = ({ children }) =&gt; {\r\n  return &lt;div className=\"dropdown-container\"&gt;{children}&lt;/div&gt;;\r\n};\r\n\r\nconst DropDownToggle = () =&gt; {\r\n  const onClick = () =&gt;\r\n    notRedux.dispatchAction(actionTypes.TOGGLE, \"oh hi Mark\");\r\n  return (\r\n    &lt;div className=\"dropdown-toggle\"&gt;\r\n      &lt;button type=\"button\" onClick={onClick}&gt;\r\n        my button\r\n      &lt;/button&gt;\r\n    &lt;/div&gt;\r\n  );\r\n};\r\n\r\nconst DropDownContent = props =&gt; {\r\n  notRedux.onAction(actionTypes.TOGGLE, data =&gt;\r\n    alert(`DropDownToggle said ${data} //DropDownContent`)\r\n  );\r\n  return &lt;div className=\"dropdown-content\"&gt;{props.children}&lt;/div&gt;;\r\n};\r\n\r\nconst App = () =&gt; (\r\n  &lt;DropDown&gt;\r\n    &lt;DropDownToggle&gt;&lt;/DropDownToggle&gt;\r\n    &lt;DropDownContent&gt;\r\n      &lt;span&gt;Content goes here&lt;/span&gt;\r\n    &lt;/DropDownContent&gt;\r\n  &lt;/DropDown&gt;\r\n);\r\n\r\nReactDOM.render(&lt;App /&gt;, document.getElementById(\"app\"));</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react/16.6.3/umd/react.production.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/react-dom/16.6.3/umd/react-dom.production.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div id=\"app\"&gt;&lt;/app&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"comments": [{"owner": {"reputation": 753, "user_id": 1414170, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a22f63723bc37cb95442d0686179fbf9?s=128&d=identicon&r=PG", "display_name": "tkd_aj", "link": "https://stackoverflow.com/users/1414170/tkd-aj"}, "edited": false, "score": 0, "creation_date": 1565307138, "post_id": 57415030, "comment_id": 101322815, "body": "This is a good way to design things, but this wouldn&#39;t work for my original question because you have to have access to the childrens&#39; code as well as the parent&#39;s in order to make them communicate.  I ended up using an example from the website link you sent, but it was a different example in order to do what I needed.  I used the third code block down under the &quot;Containment&quot; header when visiting that URL (starting with ..... function SplitPane(props) .... )"}], "tags": [], "owner": {"reputation": 2770, "user_id": 4123372, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/554c51966d0ad0646b8d62f8d25dccd3?s=128&d=identicon&r=PG&f=1", "display_name": "Train", "link": "https://stackoverflow.com/users/4123372/train"}, "is_accepted": true, "score": 1, "last_activity_date": 1565274802, "creation_date": 1565274802, "answer_id": 57415030, "question_id": 57401625, "link": "https://stackoverflow.com/questions/57401625/react-sibling-communication-with-only-access-to-parent/57415030#57415030", "title": "React sibling communication with ONLY access to parent", "body": "<p>For something like toggling content you can use <code>composition</code> instead of <code>inheritance</code> to pass data around.</p>\n\n<p>From the example of <a href=\"https://reactjs.org/docs/composition-vs-inheritance.html\" rel=\"nofollow noreferrer\">Facebook</a></p>\n\n<p>This is done with <code>props.children</code> property.</p>\n\n<pre><code>function Dialog(props) {\n  return (\n    &lt;FancyBorder color=\"blue\"&gt;\n      &lt;h1 className=\"Dialog-title\"&gt;\n        {props.title}\n      &lt;/h1&gt;\n      &lt;p className=\"Dialog-message\"&gt;\n        {props.message}\n      &lt;/p&gt;\n      {props.children}\n    &lt;/FancyBorder&gt;\n  );\n}\n\nclass SignUpDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSignUp = this.handleSignUp.bind(this);\n    this.state = {login: ''};\n  }\n\n  render() {\n    return (\n      &lt;Dialog title=\"Mars Exploration Program\"\n              message=\"How should we refer to you?\"&gt;\n        &lt;input value={this.state.login}\n               onChange={this.handleChange} /&gt;\n\n        &lt;button onClick={this.handleSignUp}&gt;\n          Sign Me Up!\n        &lt;/button&gt;\n      &lt;/Dialog&gt;\n    );\n  }\n\n  handleChange(e) {\n    this.setState({login: e.target.value});\n  }\n\n  handleSignUp() {\n    alert(`Welcome aboard, ${this.state.login}!`);\n  }\n}\n</code></pre>\n\n<p>In the <code>render()</code> I am rendering the <code>Dialog</code> component and passing in the props.\nthe props are <code>.children</code> and the custom props <code>title, message</code>\nThis lets us pass child elements directly into the output we can even add components from other classes as I did with the <code>SignUpDialog</code>.</p>\n"}], "owner": {"reputation": 753, "user_id": 1414170, "user_type": "registered", "accept_rate": 46, "profile_image": "https://www.gravatar.com/avatar/a22f63723bc37cb95442d0686179fbf9?s=128&d=identicon&r=PG", "display_name": "tkd_aj", "link": "https://stackoverflow.com/users/1414170/tkd-aj"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 73, "favorite_count": 0, "accepted_answer_id": 57415030, "answer_count": 2, "score": 0, "last_activity_date": 1565274802, "creation_date": 1565208365, "last_edit_date": 1565247201, "question_id": 57401625, "link": "https://stackoverflow.com/questions/57401625/react-sibling-communication-with-only-access-to-parent", "title": "React sibling communication with ONLY access to parent", "body": "<p>I am trying to create something similar to <a href=\"https://react-bootstrap.github.io/components/dropdowns/\" rel=\"nofollow noreferrer\">React Bootstrap's dropdown component</a>.  My starting skeleton is something like the following:</p>\n\n<pre><code>import React from 'react';\n\nconst DropDown = props =&gt; {\n  return &lt;div className=\"dropdown-container\"&gt;{props.children}&lt;/div&gt;;\n};\n\nconst DropDownToggle = props =&gt; {\n  return &lt;div className=\"dropdown-toggle\"&gt;{props.children}&lt;/div&gt;;\n};\n\nconst DropDownContent = props =&gt; {\n  return &lt;div className=\"dropdown-content\"&gt;{props.children}&lt;/div&gt;;\n};\n\nexport { DropDown, DropDownToggle, DropDownContent };\n</code></pre>\n\n<p>These components would be used like this:</p>\n\n<pre><code>&lt;DropDown&gt;\n  &lt;DropDownToggle&gt;\n    {/* \n      The content inside here should be customizable so the user of\n      these components can specify whatever they want for the toggle\n     */}\n    &lt;button type=\"button\"&gt;\n      my button\n    &lt;/button&gt;\n  &lt;/DropDownToggle&gt;\n  &lt;DropDownContent&gt;\n     {/* \n      The content inside here should be customizable so the user of\n      these components can specify whatever they want for the content of \n      the dropdown\n     */}\n    &lt;ContentComponent/&gt;\n  &lt;/DropDownContent&gt;\n&lt;/DropDown&gt;\n</code></pre>\n\n<p>Is there a way I can communicate between the two children components (DropDownContent and DropDownToggle)?  I have access to the parent component and it just receives and displays the children so far, but I would like to somehow communicate between the children so that the user can click on the toggle to open/close the content.  I don't want to use redux.</p>\n\n<p>Thank you in advance!</p>\n\n<p><strong>EDIT</strong></p>\n\n<p>I ended up going with the method that @Train suggested in his/her comment below.  I was originally hoping for the ability to nest components manually, but what was most important to me was having the state be self-contained in the parent component.  Being able to define the toggle button's HTML as well as the content's HTML was also a requirement. My final implementation allows for both of these things and looks something like this:</p>\n\n<pre><code>import React from 'react';\nimport PropTypes from 'prop-types';\n\nexport class Dropdown extends React.Component {\n  state = {\n    isOpen: false,\n  };\n\n  onDropDownToggleClick = () =&gt; {\n    this.setState({ isOpen: !this.state.isOpen });\n  };\n\n  render() {\n    let contentClasses = 'dropdown-content';\n    if (this.state.isOpen) {\n      contentClasses += ' show';\n    }\n\n    return (\n      &lt;div className=\"dropdown-container\"&gt;\n        &lt;div className=\"dropdown-toggle\" onClick={this.onDropDownToggleClick}&gt;\n          {this.props.toggle}\n        &lt;/div&gt;\n        &lt;div className={contentClasses}&gt;{this.props.content}&lt;/div&gt;\n      &lt;/div&gt;\n    );\n  }\n}\n\nDropdown.propTypes = {\n  toggle: PropTypes.oneOfType([PropTypes.string, PropTypes.element]).isRequired,\n  content: PropTypes.oneOfType([PropTypes.string, PropTypes.element])\n    .isRequired,\n};\n\nexport default Dropdown;\n</code></pre>\n\n<p>to use it:</p>\n\n<pre><code>const dropDownToggle = (\n  &lt;button type=\"button\"&gt;\n    Dropdown\n  &lt;/button&gt;\n);\nconst dropDownContent = 'content';\n\n&lt;DropDown\n  toggle={dropDownToggle}\n  content={dropDownContent}\n/&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 1216, "user_id": 11531708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1hBJu.jpg?s=128&g=1", "display_name": "Mohammed Amir Ansari", "link": "https://stackoverflow.com/users/11531708/mohammed-amir-ansari"}, "edited": false, "score": 0, "creation_date": 1565208216, "post_id": 57401569, "comment_id": 101284705, "body": "Can you update the question? Its not much clear whats your exact problem is, the code you post is breaking"}, {"owner": {"reputation": 1689, "user_id": 11874554, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bGbGx3iHbKY/AAAAAAAAAAI/AAAAAAAAAKg/4A5QFxJ0yLs/photo.jpg?sz=128", "display_name": "Dominik Matis", "link": "https://stackoverflow.com/users/11874554/dominik-matis"}, "edited": false, "score": 0, "creation_date": 1565208364, "post_id": 57401569, "comment_id": 101284754, "body": "Try <code>console.log(results)</code> instead of <code>console.log(results.results)</code>"}, {"owner": {"reputation": 551, "user_id": 3064705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4735717069aeefe736a61b22d3ddafff?s=128&d=identicon&r=PG&f=1", "display_name": "Davit", "link": "https://stackoverflow.com/users/3064705/davit"}, "edited": false, "score": 0, "creation_date": 1565208543, "post_id": 57401569, "comment_id": 101284820, "body": "You didn&#39;t pass any param to displayCartTotal() function and probably you are destructing results in that function that&#39;s why you have such error."}, {"owner": {"reputation": 551, "user_id": 3064705, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4735717069aeefe736a61b22d3ddafff?s=128&d=identicon&r=PG&f=1", "display_name": "Davit", "link": "https://stackoverflow.com/users/3064705/davit"}, "edited": false, "score": 0, "creation_date": 1565208748, "post_id": 57401569, "comment_id": 101284919, "body": "in second resolve call displayCartTotal(results) instead of  displayCartTotal() and would be nice if you check before calling displayCartTotal(results), if results contain results property for not having errors in future"}], "answers": [{"tags": [], "owner": {"reputation": 2428, "user_id": 1048342, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/hAO0A.jpg?s=128&g=1", "display_name": "ktilcu", "link": "https://stackoverflow.com/users/1048342/ktilcu"}, "is_accepted": false, "score": 1, "last_activity_date": 1565208608, "creation_date": 1565208608, "answer_id": 57401669, "question_id": 57401569, "link": "https://stackoverflow.com/questions/57401569/cannot-destructure-property/57401669#57401669", "title": "Cannot destructure property", "body": "<p>You get the error because you aren't passing <code>results</code> into <code>displayCartTotal</code> like <code>displayCartTotal(results)</code></p>\n"}, {"tags": [], "owner": {"reputation": 793, "user_id": 3755425, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/wpwGb.png?s=128&g=1", "display_name": "Mohrn", "link": "https://stackoverflow.com/users/3755425/mohrn"}, "is_accepted": false, "score": 0, "last_activity_date": 1565208706, "creation_date": 1565208706, "answer_id": 57401687, "question_id": 57401569, "link": "https://stackoverflow.com/questions/57401569/cannot-destructure-property/57401687#57401687", "title": "Cannot destructure property", "body": "<p>You are calling <code>displayCartTotal()</code> with no parameter, but it expects an object. See commented line below:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const displayCartTotal = ({results}) =&gt; {\n\n  };\n\n  const fetchBill = () =&gt; {\n    const apiHost = 'https://randomapi.com/api';\n    const apiKey = '006b08a801d82d0c9824dcfdfdfa3b3c';\n    const apiEndpoint = `${apiHost}/${apiKey}`;\n\n    fetch(apiEndpoint) \n    .then( response =&gt; {\n        return response.json();\n    })\n    .then(results =&gt; {\n        console.log(results.results)\n        displayCartTotal(); //&lt;--- this is the offending line\n     })\n     .catch(err =&gt; console.log(err));\n  };\n</code></pre>\n\n<p>You should pass results as a parameter like this: <code>displayCartTotal(results)</code>. </p>\n\n<p>Hope that solves it for you :)</p>\n"}], "owner": {"reputation": 11, "user_id": 11898279, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-AabnqdLmnoI/AAAAAAAAAAI/AAAAAAAAACs/pDEveul6K9g/photo.jpg?sz=128", "display_name": "Adeoye Temitayo", "link": "https://stackoverflow.com/users/11898279/adeoye-temitayo"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 247, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565208776, "creation_date": 1565208061, "last_edit_date": 1565208776, "question_id": 57401569, "link": "https://stackoverflow.com/questions/57401569/cannot-destructure-property", "title": "Cannot destructure property", "body": "<blockquote>\n  <p>TypeError: Cannot destructure property <code>results</code> of 'undefined' or\n  'null'.\n      at displayCartTotal</p>\n</blockquote>\n\n<pre><code> const displayCartTotal = ({results}) =&gt; {\n\n  };\n\n  const fetchBill = () =&gt; {\n    const apiHost = 'https://randomapi.com/api';\n    const apiKey = '006b08a801d82d0c9824dcfdfdfa3b3c';\n    const apiEndpoint = `${apiHost}/${apiKey}`;\n\n    fetch(apiEndpoint) \n    .then( response =&gt; {\n        return response.json();\n    })\n    .then(results =&gt; {\n        console.log(results.results)\n        displayCartTotal();\n     })\n     .catch(err =&gt; console.log(err));\n  };\n</code></pre>\n"}, {"tags": ["javascript", "regex"], "comments": [{"owner": {"reputation": 481647, "user_id": 3832970, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/64323e6cf08401474da3bf770ea13b58?s=128&d=identicon&r=PG&f=1", "display_name": "Wiktor Stribi\u017cew", "link": "https://stackoverflow.com/users/3832970/wiktor-stribi%c5%bcew"}, "edited": false, "score": 2, "creation_date": 1565208195, "post_id": 57401567, "comment_id": 101284695, "body": "<code>var regex = &#47;\\d+\\&#47;\\d+(?=\\s*discussion)&#47;</code>"}, {"owner": {"reputation": 11633, "user_id": 34806, "user_type": "registered", "accept_rate": 92, "profile_image": "https://www.gravatar.com/avatar/d07730fff34f9fff3cbf1c72d5dfe74a?s=128&d=identicon&r=PG", "display_name": "Dexygen", "link": "https://stackoverflow.com/users/34806/dexygen"}, "edited": false, "score": 0, "creation_date": 1565208406, "post_id": 57401567, "comment_id": 101284773, "body": "regex101.com is your friend"}, {"owner": {"reputation": 15524, "user_id": 10366495, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/pRi10.png?s=128&g=1", "display_name": "Shidersz", "link": "https://stackoverflow.com/users/10366495/shidersz"}, "edited": false, "score": 0, "creation_date": 1565208676, "post_id": 57401567, "comment_id": 101284879, "body": "You have a typo there, or you really want to get <code>09&#47;09</code>  from <code>this pull request has 08&#47;09 discussions</code>?"}], "answers": [{"tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": true, "score": 0, "last_activity_date": 1565208306, "creation_date": 1565208306, "answer_id": 57401616, "question_id": 57401567, "link": "https://stackoverflow.com/questions/57401567/how-to-use-regexp-to-substring-number-number-string/57401616#57401616", "title": "How to use regexp to substring number/number string", "body": "<p>You can use positive lookahead </p>\n\n<pre><code>\\d+\\/\\d+(?=\\s*discussions)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/vUs3B.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUs3B.png\" alt=\"enter image description here\"></a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let str = \"this pull request has 08/09 discussions 0/09\"\r\nvar regex = /\\d+\\/\\d+(?=\\s*discussions)/g\r\nvar matched = str.match(regex)\r\n\r\nconsole.log(matched)</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 13, "user_id": 11898303, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-Oz2OCl4lSI8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rfoo_WkMUq6oPCs-X5eplREgG8wcw/photo.jpg?sz=128", "display_name": "iosdevlad", "link": "https://stackoverflow.com/users/11898303/iosdevlad"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 35, "favorite_count": 0, "accepted_answer_id": 57401616, "answer_count": 1, "score": 0, "last_activity_date": 1565208306, "creation_date": 1565208050, "question_id": 57401567, "link": "https://stackoverflow.com/questions/57401567/how-to-use-regexp-to-substring-number-number-string", "title": "How to use regexp to substring number/number string", "body": "<p>I'm trying to use regexp to substring a pattern like digit/digit + \"discussion\"\nexample: </p>\n\n<blockquote>\n  <p>\"this pull request has 08/09 discussions\"</p>\n</blockquote>\n\n<p>I would like to get </p>\n\n<blockquote>\n  <p>09/09</p>\n</blockquote>\n\n<p>I'm trying:</p>\n\n<pre><code>  var regex = /\\d+\\/\\d+/g\n  var matched = body.match(regex)\n</code></pre>\n\n<p>I need to consider \"discussions\" after 08/09 to check if its the string that I'm looking for.</p>\n"}, {"tags": ["javascript", "github"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565208141, "post_id": 57401550, "comment_id": 101284680, "body": "Web sites aren&#39;t normally run directly from github, it&#39;s just used for version control. You need to upload it to a real web hosting service."}, {"owner": {"reputation": 5529, "user_id": 1939697, "user_type": "registered", "accept_rate": 75, "profile_image": "https://www.gravatar.com/avatar/5af836fe4c7401f77e1f58f0d5cce819?s=128&d=identicon&r=PG", "display_name": "UncleDave", "link": "https://stackoverflow.com/users/1939697/uncledave"}, "reply_to_user": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565208187, "post_id": 57401550, "comment_id": 101284690, "body": "@Barmar I think the OP is using Github pages, see <a href=\"https://mobolanleadebesin.github.io/DrumKit/\" rel=\"nofollow noreferrer\">mobolanleadebesin.github.io/DrumKit</a>"}, {"owner": {"reputation": 1689, "user_id": 11874554, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-bGbGx3iHbKY/AAAAAAAAAAI/AAAAAAAAAKg/4A5QFxJ0yLs/photo.jpg?sz=128", "display_name": "Dominik Matis", "link": "https://stackoverflow.com/users/11874554/dominik-matis"}, "edited": false, "score": 0, "creation_date": 1565208568, "post_id": 57401550, "comment_id": 101284829, "body": "If you can put it on GitLab, it could be easy to create GitLab pages using <code>.gitlab-ci.yml</code> config file, don&#39;t know if GitHub has something like this"}, {"owner": {"reputation": 8719, "user_id": 6951428, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/92fd81a6020da8e77fc9125e0c9ec512?s=128&d=identicon&r=PG&f=1", "display_name": "junvar", "link": "https://stackoverflow.com/users/6951428/junvar"}, "edited": false, "score": 1, "creation_date": 1565208898, "post_id": 57401550, "comment_id": 101284966, "body": "You don&#39;t describe what problem you&#39;re facing. Git definitely supports hosting HTML files containing JS. I recommend following the steps and asking questions regarding specific errors or steps."}, {"owner": {"reputation": 808, "user_id": 496517, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/091bc95204caaf52b0d299bd9ac59540?s=128&d=identicon&r=PG", "display_name": "Mason Stewart", "link": "https://stackoverflow.com/users/496517/mason-stewart"}, "edited": false, "score": 0, "creation_date": 1565210180, "post_id": 57401550, "comment_id": 101285508, "body": "Welcome to Stack Overflow! Glancing at the repository you linked to, it looks like you&#39;re using GitHub Pages (assuming that&#39;s what you mean by getting the two pages &quot;to run&quot; on GitHub). Would you mind updating your question with links to the GitHub pages in question. It will be easier to see what you&#39;re seeing and find the issue. Thanks!"}, {"owner": {"reputation": 3, "user_id": 11885494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da33096e9aa163f25939cdcf92c9034e?s=128&d=identicon&r=PG&f=1", "display_name": "bolaadebesin", "link": "https://stackoverflow.com/users/11885494/bolaadebesin"}, "edited": false, "score": 0, "creation_date": 1565210279, "post_id": 57401550, "comment_id": 101285540, "body": "Sorry, this is my first time posting a question, I thought I was asking a specific question. The problem that I&#39;m having is that the webpage I created works locally on my laptop, but for some reason not on github. I don&#39;t know what part of my code is causing this error to occur so I didn&#39;t post a specific step because until I uploaded it, it was working fine. I saw that other people had a similar problem and posted questions about it, so I tried troubleshooting based on those answers, like here:  <a href=\"https://stackoverflow.com/questions/51261710/javascript-file-not-working-on-github-pages\" title=\"javascript file not working on github pages\">stackoverflow.com/questions/51261710/&hellip;</a> no luck."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565211078, "post_id": 57401550, "comment_id": 101285815, "body": "The question should be self-contained, with the necessary code within the question.  The trouble with linking off-site files is those files change or disappear, rendering your question useless for future developers.  Can you edit your question with a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"}, {"owner": {"reputation": 3, "user_id": 11885494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da33096e9aa163f25939cdcf92c9034e?s=128&d=identicon&r=PG&f=1", "display_name": "bolaadebesin", "link": "https://stackoverflow.com/users/11885494/bolaadebesin"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565212054, "post_id": 57401550, "comment_id": 101286127, "body": "@Amy Ah I see. I will remove the links. However, because the webpage loads perfectly fine locally, but not on github pages. I don&#39;t know what part of my code is the problem or which part of the code to remove. Just the title and the description appear on the github page."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565212072, "post_id": 57401550, "comment_id": 101286133, "body": "Looking at each of your sites, I don&#39;t see a script file being included.  The code there does not match what you have added to the question.  You can observe this by opening your browsers developer tools, refreshing your site, and looking at the Sources tab.  You have an HTML file and CSS, but your JS isn&#39;t being included."}, {"owner": {"reputation": 3, "user_id": 11885494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da33096e9aa163f25939cdcf92c9034e?s=128&d=identicon&r=PG&f=1", "display_name": "bolaadebesin", "link": "https://stackoverflow.com/users/11885494/bolaadebesin"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565212873, "post_id": 57401550, "comment_id": 101286386, "body": "@Amy I see what you&#39;re saying! But my index.js file is in the repository along with my css file and my html file. Do you have any idea why it wouldn&#39;t be included if the file is present?"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 1, "creation_date": 1565212942, "post_id": 57401550, "comment_id": 101286405, "body": "It is not referenced in your html file.  You can have hundreds of JS files in your folder, and every one of them will be ignored unless its specifically referred to."}, {"owner": {"reputation": 3, "user_id": 11885494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da33096e9aa163f25939cdcf92c9034e?s=128&d=identicon&r=PG&f=1", "display_name": "bolaadebesin", "link": "https://stackoverflow.com/users/11885494/bolaadebesin"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565213419, "post_id": 57401550, "comment_id": 101286564, "body": "@Amy I referenced it using: &lt;script src=&quot;index.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt; right before the end of the body. Is that wrong? Should it be higher up in the body?"}, {"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1565213438, "post_id": 57401550, "comment_id": 101286567, "body": "@bolaadebesin Thanks for adding the code in the question, but removing the links was not really helpful. To make the question really self-contained, please provide a) the exact differences between the local and remote deployment and b) what specific error you are getting (not just &quot;doesn&#39;t work&quot;)."}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565213631, "post_id": 57401550, "comment_id": 101286631, "body": "No, that script is not included in the file that you have currently on GitHub. I already said that the code in the question does not match the code that is on the site."}, {"owner": {"reputation": 3, "user_id": 11885494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da33096e9aa163f25939cdcf92c9034e?s=128&d=identicon&r=PG&f=1", "display_name": "bolaadebesin", "link": "https://stackoverflow.com/users/11885494/bolaadebesin"}, "reply_to_user": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1565213934, "post_id": 57401550, "comment_id": 101286728, "body": "@Bergi I added the links back in (I&#39;m sure I&#39;ll get the hang of this eventually!)"}, {"owner": {"reputation": 3, "user_id": 11885494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da33096e9aa163f25939cdcf92c9034e?s=128&d=identicon&r=PG&f=1", "display_name": "bolaadebesin", "link": "https://stackoverflow.com/users/11885494/bolaadebesin"}, "reply_to_user": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565214377, "post_id": 57401550, "comment_id": 101286849, "body": "@Amy I assure you that the code I posted was copied and pasted directly from the html document in the github repository. If you click on the link (which I added back in to the question) you can see it there, so I don&#39;t know why that script doesn&#39;t appear on the actual site"}, {"owner": {"reputation": 30819, "user_id": 47589, "user_type": "registered", "accept_rate": 83, "profile_image": "https://www.gravatar.com/avatar/16703987f5d8e44af08a28f4942ec0f1?s=128&d=identicon&r=PG", "display_name": "Rainbow Dash", "link": "https://stackoverflow.com/users/47589/rainbow-dash"}, "edited": false, "score": 0, "creation_date": 1565214544, "post_id": 57401550, "comment_id": 101286906, "body": "See your answer below.  Make sure the code in your site is what you think it is.  Your developer tools are your friend."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11885494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da33096e9aa163f25939cdcf92c9034e?s=128&d=identicon&r=PG&f=1", "display_name": "bolaadebesin", "link": "https://stackoverflow.com/users/11885494/bolaadebesin"}, "edited": false, "score": 0, "creation_date": 1565270289, "post_id": 57402564, "comment_id": 101307152, "body": "thank you! That was really helpful. I was able to fix the drumkit webpage. I tried to use the same solution for the dice game, but was unsuccessful.  If you have any other tups or suggestions I would appreciate it! Thanks!"}], "tags": [], "owner": {"reputation": 4217, "user_id": 9029328, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/r3hFz.png?s=128&g=1", "display_name": "AuxTaco", "link": "https://stackoverflow.com/users/9029328/auxtaco"}, "is_accepted": true, "score": 0, "last_activity_date": 1565216234, "last_edit_date": 1565216234, "creation_date": 1565213629, "answer_id": 57402564, "question_id": 57401550, "link": "https://stackoverflow.com/questions/57401550/i-created-a-website-using-javascript-that-works-locally-but-not-when-i-upload-to/57402564#57402564", "title": "I created a website using Javascript that works locally but not when I upload to github tried messing with script", "body": "<p>Github Pages faithfully represents the structure of your Github repository. When you go to <a href=\"https://mobolanleadebesin.github.io/DrumKit/\" rel=\"nofollow noreferrer\">https://mobolanleadebesin.github.io/DrumKit/</a>, you're looking at the root of that repo. The only file there is <code>README.md</code>, which Github takes to be the \"index\" of that directory, so it converts it to HTML and serves it to you.</p>\n\n<p>Your actual files are in a folder called <code>Drum Kit Starting Files 2</code>, so to see them online, you need to go to <a href=\"https://mobolanleadebesin.github.io/DrumKit/Drum%20Kit%20Starting%20Files%202/\" rel=\"nofollow noreferrer\">https://mobolanleadebesin.github.io/DrumKit/Drum Kit Starting Files 2/</a>. If you don't want that URL, move your files out of the folder and into the root.</p>\n"}], "owner": {"reputation": 3, "user_id": 11885494, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/da33096e9aa163f25939cdcf92c9034e?s=128&d=identicon&r=PG&f=1", "display_name": "bolaadebesin", "link": "https://stackoverflow.com/users/11885494/bolaadebesin"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 64, "favorite_count": 0, "accepted_answer_id": 57402564, "answer_count": 1, "score": -1, "last_activity_date": 1565216234, "creation_date": 1565207976, "last_edit_date": 1565213887, "question_id": 57401550, "link": "https://stackoverflow.com/questions/57401550/i-created-a-website-using-javascript-that-works-locally-but-not-when-i-upload-to", "title": "I created a website using Javascript that works locally but not when I upload to github tried messing with script", "body": "<p>I created two different websites. One is a simple dice rolling game and the other is supposed to play drum sounds when different buttons are selected. I can't seem to get either to run successfully on github even though they both work when I use the local files. The common thread between the two is that they both use javascript.</p>\n\n<p>I saw some questions from before when people had similar problems so I checked to make sure I was using the close tag with my script: . And I tried to make sure that there was no mixed content (like http vs https in some places). I don't know what it is I'm missing, but any insight would be greatly appreciated! </p>\n\n<p><a href=\"https://mobolanleadebesin.github.io/Dice-Game/\" rel=\"nofollow noreferrer\">https://mobolanleadebesin.github.io/Dice-Game/</a>\n<br>\n<a href=\"https://github.com/MobolanleAdebesin/Dice-Game\" rel=\"nofollow noreferrer\">https://github.com/MobolanleAdebesin/Dice-Game</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>// Player 1\r\nvar randomNumber1 = ((Math.random()) * 6) + 1;\r\nrandomNumber1 = (Math.floor(randomNumber1));\r\n\r\nif(randomNumber1 == 1) {\r\n  document.querySelectorAll(\"img\") [0].setAttribute(\"src\", \"images/dice1.png\");\r\n}\r\nelse if (randomNumber1 == 1){\r\n  document.querySelectorAll(\"img\") [0].setAttribute(\"src\", \"images/dice2.png\");\r\n}\r\nelse if(randomNumber1 == 3){\r\n  document.querySelectorAll(\"img\") [0].setAttribute(\"src\", \"images/dice3.png\");\r\n}\r\nelse if(randomNumber1 == 4){\r\ndocument.querySelectorAll(\"img\") [0].setAttribute(\"src\", \"images/dice4.png\");\r\n}\r\nelse if(randomNumber1 == 5){\r\n  document.querySelectorAll(\"img\") [0].setAttribute(\"src\", \"images/dice5.png\");\r\n}\r\nelse if(randomNumber1 == 6){\r\n  document.querySelectorAll(\"img\") [0].setAttribute(\"src\", \"images/dice6.png\");\r\n}\r\n\r\n// Player 2\r\nvar randomNumber2 = ((Math.random()) * 6) + 1;\r\nrandomNumber2 = (Math.floor(randomNumber2));\r\nif(randomNumber2 == 1) {\r\n  document.querySelectorAll(\"img\") [1].setAttribute(\"src\", \"images/dice1.png\");\r\n}\r\nelse if (randomNumber2 == 1){\r\n  document.querySelectorAll(\"img\") [1].setAttribute(\"src\", \"images/dice2.png\");\r\n}\r\nelse if(randomNumber2 == 3){\r\n  document.querySelectorAll(\"img\") [1].setAttribute(\"src\", \"images/dice3.png\");\r\n}\r\nelse if(randomNumber2 == 4){\r\ndocument.querySelectorAll(\"img\") [1].setAttribute(\"src\", \"images/dice4.png\");\r\n}\r\nelse if(randomNumber2 == 5){\r\n  document.querySelectorAll(\"img\") [1].setAttribute(\"src\", \"images/dice5.png\");\r\n}\r\nelse if(randomNumber2 == 6){\r\n  document.querySelectorAll(\"img\") [1].setAttribute(\"src\", \"images/dice6.png\");\r\n}\r\n\r\n// Heading\r\nif( randomNumber1 &gt; randomNumber2){\r\n  document.querySelector(\"h1\").textContent = \"Player 1 Wins!\";\r\n}\r\nelse if (randomNumber1 &lt; randomNumber2){\r\ndocument.querySelector(\"h1\").textContent = \"Player 2 Wins!\";\r\n}\r\nelse if (randomNumber1 == randomNumber2){\r\n  document.querySelector(\"h1\").textContent = \"Its a tie!\";  \r\n}\r\n\u00a9 2019 GitHub, Inc.\r\nTerms\r\nPrivacy\r\nSecurity\r\nStatus\r\nHelp\r\nContact GitHub\r\nPricing\r\nAPI\r\nTraining\r\nBlog\r\nAbout</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.container {\r\n  width: 70%;\r\n  margin: auto;\r\n  text-align: center;\r\n}\r\n\r\n.dice {\r\n  text-align: center;\r\n  display: inline-block;\r\n\r\n}\r\n\r\nbody {\r\n  background-color: #393E46;\r\n}\r\n\r\nh1 {\r\n  margin: 30px;\r\n  font-family: 'Lobster', cursive;\r\n  text-shadow: 5px 0 #232931;\r\n  font-size: 8rem;\r\n  color: #4ECCA3;\r\n}\r\n\r\np {\r\n  font-size: 2rem;\r\n  color: #4ECCA3;\r\n  font-family: 'Indie Flower', cursive;\r\n}\r\n\r\nimg {\r\n  width: 80%;\r\n}\r\n\r\nfooter {\r\n  margin-top: 5%;\r\n  color: #EEEEEE;\r\n  text-align: center;\r\n  font-family: 'Indie Flower', cursive;\r\n\r\n}\r\n\u00a9 2019 GitHub, Inc.\r\nTerms\r\nPrivacy\r\nSecurity\r\nStatus\r\nHelp\r\nContact GitHub\r\nPricing\r\nAPI\r\nTraining\r\nBlog\r\nAbout</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\r\n&lt;html lang=\"en\" dir=\"ltr\"&gt;\r\n  &lt;head&gt;\r\n    &lt;meta charset=\"utf-8\"&gt;\r\n    &lt;title&gt;Dicee&lt;/title&gt;\r\n    &lt;link rel=\"stylesheet\" href=\"styles.css\"&gt;\r\n    &lt;link href=\"https://fonts.googleapis.com/css?family=Indie+Flower|Lobster\" rel=\"stylesheet\"&gt;\r\n\r\n  &lt;/head&gt;\r\n  &lt;body&gt;\r\n\r\n    &lt;div class=\"container\"&gt;\r\n      &lt;h1&gt;Refresh Me&lt;/h1&gt;\r\n\r\n      &lt;div class=\"dice\"&gt;\r\n        &lt;p&gt;Player 1&lt;/p&gt;\r\n        &lt;img  src=\"images/dice6.png\"&gt;\r\n      &lt;/div&gt;\r\n\r\n      &lt;div class=\"dice\"&gt;\r\n        &lt;p&gt;Player 2&lt;/p&gt;\r\n        &lt;img src=\"images/dice6.png\"&gt;\r\n      &lt;/div&gt;\r\n\r\n    &lt;/div&gt;\r\n\r\n&lt;script src=\"index.js\" charset=\"utf-8\"&gt;&lt;/script&gt;\r\n  &lt;/body&gt;\r\n\r\n  &lt;footer&gt;\r\n    www \ud83c\udfb2 App Brewery \ud83c\udfb2 com\r\n  &lt;/footer&gt;\r\n&lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "arrays", "reactjs", "state"], "owner": {"reputation": 21, "user_id": 11892555, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/43e39e1dbeeb442660447a89350afb15?s=128&d=identicon&r=PG&f=1", "display_name": "straycat", "link": "https://stackoverflow.com/users/11892555/straycat"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 35, "favorite_count": 0, "answer_count": 0, "score": 2, "last_activity_date": 1565207820, "creation_date": 1565207820, "question_id": 57401513, "link": "https://stackoverflow.com/questions/57401513/how-do-i-correctly-create-event-handling-for-the-state-of-a-second-level-element", "title": "How do i correctly create event handling for the state of a second level element in a nested array (React)", "body": "<p>I'm using React-PDF to dynamically create a PDF-document when a user enters info into textareas in a form. The form data is saved into an array which also contains a nested array among the regular fields.</p>\n\n<p>The basic form is working great as of now but I cannot get the event handler for the form fields which handle the nested array to work.</p>\n\n<p>I have tried mapping up both the main Array and the nested Array into the event handler for the fields which are not working but cannot get it to work.</p>\n\n<pre><code>handleMatters = idx =&gt; evt =&gt; {\n    const newMatters = this.state.protocolMatters.map(\n      (protocolMatter, sidx) =&gt; {\n        if (idx !== sidx) return protocolMatter;\n        return {\n          ...protocolMatter,\n          [evt.target.name]: evt.target.value\n        };\n      }\n    );\n    this.setState({ protocolMatters: newMatters });\n  };\n\n</code></pre>\n\n<p>This is the basic code that use to work when the array \"protocolMatters\" was not nested. Now \"protocolMatters\" resides inside another array called \"protocolData\" which breaks this function.</p>\n\n<p>The actual \"Matters\" which uses the \"handleMatters\" function are dynamic and the user themselves chooses how many of \"Matters\" their PDF document needs, which is why the function keeps track of the index for each matter.</p>\n\n<p>I wish to be able make the event handling work OnChange for the nested array. As of now the fields which uses the \"handleMatters\" function do not change when a user tries to input something in the fields.</p>\n"}, {"tags": ["javascript", "html"], "answers": [{"comments": [{"owner": {"reputation": 15, "user_id": 11837251, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XqkLk3AUmNw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reObtgPweUckwLXdYKbB5l53eT8XQ/photo.jpg?sz=128", "display_name": "BloodRedDevil", "link": "https://stackoverflow.com/users/11837251/bloodreddevil"}, "edited": false, "score": 0, "creation_date": 1565208316, "post_id": 57401572, "comment_id": 101284735, "body": "Thanks a lot. Yes I tried this and it works! However, is it a good practice to make it a global variable? Genuine question."}, {"owner": {"reputation": 6439, "user_id": 1914034, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/2i0qw.jpg?s=128&g=1", "display_name": "Below the Radar", "link": "https://stackoverflow.com/users/1914034/below-the-radar"}, "reply_to_user": {"reputation": 15, "user_id": 11837251, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XqkLk3AUmNw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reObtgPweUckwLXdYKbB5l53eT8XQ/photo.jpg?sz=128", "display_name": "BloodRedDevil", "link": "https://stackoverflow.com/users/11837251/bloodreddevil"}, "edited": false, "score": 0, "creation_date": 1565208358, "post_id": 57401572, "comment_id": 101284752, "body": "Not really, you are better to put your function in the same scope, see my edit"}, {"owner": {"reputation": 6439, "user_id": 1914034, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/2i0qw.jpg?s=128&g=1", "display_name": "Below the Radar", "link": "https://stackoverflow.com/users/1914034/below-the-radar"}, "reply_to_user": {"reputation": 15, "user_id": 11837251, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XqkLk3AUmNw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reObtgPweUckwLXdYKbB5l53eT8XQ/photo.jpg?sz=128", "display_name": "BloodRedDevil", "link": "https://stackoverflow.com/users/11837251/bloodreddevil"}, "edited": false, "score": 0, "creation_date": 1565208459, "post_id": 57401572, "comment_id": 101284791, "body": "Start by reading: <a href=\"https://developer.mozilla.org/en-US/docs/Glossary/Scope\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Glossary/Scope</a>"}, {"owner": {"reputation": 15, "user_id": 11837251, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XqkLk3AUmNw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reObtgPweUckwLXdYKbB5l53eT8XQ/photo.jpg?sz=128", "display_name": "BloodRedDevil", "link": "https://stackoverflow.com/users/11837251/bloodreddevil"}, "edited": false, "score": 0, "creation_date": 1565209462, "post_id": 57401572, "comment_id": 101285187, "body": "Ah yes, that makes sense. I can do this. Thank you."}], "tags": [], "owner": {"reputation": 6439, "user_id": 1914034, "user_type": "registered", "accept_rate": 97, "profile_image": "https://i.stack.imgur.com/2i0qw.jpg?s=128&g=1", "display_name": "Below the Radar", "link": "https://stackoverflow.com/users/1914034/below-the-radar"}, "is_accepted": true, "score": 0, "last_activity_date": 1565208692, "last_edit_date": 1565208692, "creation_date": 1565208064, "answer_id": 57401572, "question_id": 57401507, "link": "https://stackoverflow.com/questions/57401507/calling-appendgrid-variable-in-a-separate-javascript-method/57401572#57401572", "title": "Calling appendGrid variable in a separate Javascript method", "body": "<p>There is many way you can achieve this, but the easier in your case is to make <code>myAppendGrid</code> variable global by removing <code>var</code></p>\n\n<pre><code>&lt;script&gt;\nfunction saveTicket(){\n//need to get var myAppendGrid data over here\n}\n&lt;/script&gt;\n\n\n\n&lt;table id=\"tblAppendGrid\" align=\"center\"&gt;\n&lt;/table&gt;\n&lt;script&gt;\n$(function () {\nmyAppendGrid = new AppendGrid({\ninitRows: 1,\nelement: \"tblAppendGrid\",\ncolumns: [...]\n});\n\n});\n\n&lt;/script&gt;\n</code></pre>\n\n<p>A better approach would be to put your <code>saveTicket()</code> function in the same scope where you defined <code>myAppendGrid</code> variable</p>\n\n<pre><code>var myAppendGrid = new AppendGrid({\n  initRows: 1,\n  element: \"tblAppendGrid\",\n  columns: [...]\n});\n\nfunction saveTicket() {\n  console.log(myAppendGrid);\n};\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 15, "user_id": 11837251, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XqkLk3AUmNw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reObtgPweUckwLXdYKbB5l53eT8XQ/photo.jpg?sz=128", "display_name": "BloodRedDevil", "link": "https://stackoverflow.com/users/11837251/bloodreddevil"}, "edited": false, "score": 0, "creation_date": 1565209524, "post_id": 57401710, "comment_id": 101285222, "body": "Interesting approach. But over here, there would have to be a button click to even initialize the namespace right? Or would the namespace be initialized/used even without a button click?"}, {"owner": {"reputation": 19373, "user_id": 2008111, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mPm4Q.png?s=128&g=1", "display_name": "caramba", "link": "https://stackoverflow.com/users/2008111/caramba"}, "reply_to_user": {"reputation": 15, "user_id": 11837251, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XqkLk3AUmNw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reObtgPweUckwLXdYKbB5l53eT8XQ/photo.jpg?sz=128", "display_name": "BloodRedDevil", "link": "https://stackoverflow.com/users/11837251/bloodreddevil"}, "edited": false, "score": 0, "creation_date": 1565237356, "post_id": 57401710, "comment_id": 101291304, "body": "@BloodRedDevil  it\u2018s initialized on page load and ready to be used"}], "tags": [], "owner": {"reputation": 19373, "user_id": 2008111, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mPm4Q.png?s=128&g=1", "display_name": "caramba", "link": "https://stackoverflow.com/users/2008111/caramba"}, "is_accepted": false, "score": 0, "last_activity_date": 1565208826, "creation_date": 1565208826, "answer_id": 57401710, "question_id": 57401507, "link": "https://stackoverflow.com/questions/57401507/calling-appendgrid-variable-in-a-separate-javascript-method/57401710#57401710", "title": "Calling appendGrid variable in a separate Javascript method", "body": "<p>One option is to create a \"name space\" in technical words it's just a global object. But with the \"name space\" you have more options to assign objects in objects and not just to overwrite one given global variable.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var myNameSpace = {};\r\n\r\nvar myButton = document.querySelector('.my-super-awesome-button');\r\nmyButton.addEventListener('click', function(){\r\n    var data = myNameSpace.myAppendGrid.getAllValue();\r\n    console.log(data);\r\n});\r\n\r\n$(function(){\r\n  myNameSpace.myAppendGrid = new AppendGrid({\r\n    element: \"tblAppendGrid\",\r\n    uiFramework: \"bootstrap4\",\r\n    iconFramework: \"fontawesome5\",\r\n    columns: [\r\n      {\r\n        name: \"col-1\",\r\n        display: \"Column 1\"\r\n      },\r\n      {\r\n        name: \"col-2\",\r\n        display: \"Column 2\"\r\n      },\r\n      {\r\n        name: \"col-3\",\r\n        display: \"Column 3\"\r\n      }\r\n    ]\r\n  });\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.my-super-awesome-button {\r\n    cursor: pointer;\r\n    color: blue;\r\n    font-size: 2em;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;link href=\"https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.15.0/popper.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdn.jsdelivr.net/npm/jquery.appendgrid@2/dist/AppendGrid.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"my-super-awesome-button\"&gt;click me&lt;/div&gt;\r\n&lt;div class=\"container-fluid\"&gt;\r\n  &lt;table id=\"tblAppendGrid\"&gt;&lt;/table&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 15, "user_id": 11837251, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-XqkLk3AUmNw/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3reObtgPweUckwLXdYKbB5l53eT8XQ/photo.jpg?sz=128", "display_name": "BloodRedDevil", "link": "https://stackoverflow.com/users/11837251/bloodreddevil"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 146, "favorite_count": 0, "accepted_answer_id": 57401572, "answer_count": 2, "score": 0, "last_activity_date": 1565208826, "creation_date": 1565207801, "question_id": 57401507, "link": "https://stackoverflow.com/questions/57401507/calling-appendgrid-variable-in-a-separate-javascript-method", "title": "Calling appendGrid variable in a separate Javascript method", "body": "<p>I hope this is just a simple question. So I'm declaring the appendGrid in a script tag in a HTML file. In a different location in the same HTML file, I have a saveTicket() method. When I call the appendGrid variable over here, I get the \"variable not defined\" error.</p>\n\n<p>How can I get my appendGrid variable over to my saveTicket() method?\nThe saveTicket() method is called from a button click that is not related to appendGrid. But I need the appendGrid data in my saveTicket() method.</p>\n\n<p>Pseudo Code HTML:</p>\n\n<pre><code>&lt;script&gt;\nfunction saveTicket(){\n//need to get var myAppendGrid data over here\n}\n&lt;/script&gt;\n\n\n\n&lt;table id=\"tblAppendGrid\" align=\"center\"&gt;\n&lt;/table&gt;\n&lt;script&gt;\n$(function () {\nvar myAppendGrid = new AppendGrid({\ninitRows: 1,\nelement: \"tblAppendGrid\",\ncolumns: [...]\n});\n\n});\n\n&lt;/script&gt;\n\n\n</code></pre>\n"}, {"tags": ["javascript", "html", "asp.net", "vb.net", "webforms"], "answers": [{"tags": [], "owner": {"reputation": 417, "user_id": 1074764, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/EDIuj.jpg?s=128&g=1", "display_name": "Shortstuff81000", "link": "https://stackoverflow.com/users/1074764/shortstuff81000"}, "is_accepted": false, "score": 1, "last_activity_date": 1565215914, "creation_date": 1565215914, "answer_id": 57402884, "question_id": 57401475, "link": "https://stackoverflow.com/questions/57401475/server-is-trying-to-convert-repeater-control-inside-html-table-to-htmltablerow/57402884#57402884", "title": "Server is Trying to Convert Repeater Control Inside HTML Table to HtmlTableRow", "body": "<p>As it turns out, it's a bad idea to add <code>runat=\"server\"</code> to tables if you want to use a Repeater inside them. Once I took that off, everything worked great!</p>\n"}], "owner": {"reputation": 417, "user_id": 1074764, "user_type": "registered", "accept_rate": 58, "profile_image": "https://i.stack.imgur.com/EDIuj.jpg?s=128&g=1", "display_name": "Shortstuff81000", "link": "https://stackoverflow.com/users/1074764/shortstuff81000"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 130, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565215914, "creation_date": 1565207634, "question_id": 57401475, "link": "https://stackoverflow.com/questions/57401475/server-is-trying-to-convert-repeater-control-inside-html-table-to-htmltablerow", "title": "Server is Trying to Convert Repeater Control Inside HTML Table to HtmlTableRow", "body": "<p>I have used the following code successfully in two other pages:</p>\n\n<pre><code>&lt;table id=\"TBL_Tracks\" runat=\"server\" class=\"table table-striped table-responsive\" data-paging=\"true\" data-page-size=\"10\" data-sorting=\"true\" data-filtering=\"true\"&gt;\n    &lt;thead&gt;\n        &lt;tr&gt;\n            &lt;th data-field=\"TrackID\" data-type=\"number\"&gt;ID&lt;/th&gt;\n            &lt;th data-field=\"TrackName\"&gt;Name&lt;/th&gt;\n            &lt;th data-field=\"TrackLength\"&gt;Length&lt;/th&gt;\n            &lt;th data-field=\"TrackNumber\" data-type=\"number\"&gt;# in Album&lt;/th&gt;\n            &lt;th data-field=\"Album.AlbumName\"&gt;Album&lt;/th&gt;\n            &lt;th data-field=\"Album.Band.BandName\"&gt;Band&lt;/th&gt;\n            &lt;th data-sortable=\"false\"&gt;&amp;nbsp;&lt;/th&gt;\n            &lt;th data-sortable=\"false\"&gt;&amp;nbsp;&lt;/th&gt;\n            &lt;th data-sortable=\"false\"&gt;&amp;nbsp;&lt;/th&gt;\n        &lt;/tr&gt;\n    &lt;/thead&gt;\n    &lt;tbody&gt;\n        &lt;asp:Repeater ID=\"REP_Tracks\" runat=\"server\"&gt;\n            &lt;ItemTemplate&gt;\n                &lt;tr&gt;\n                    &lt;td&gt;\n                        &lt;asp:Label ID=\"LBL_TrackID\" runat=\"server\" Text='&lt;%#Eval(\"TrackID\") %&gt;' /&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;asp:Label ID=\"TrackName\" runat=\"server\" Text='&lt;%#Eval(\"TrackName\") %&gt;' CssClass=\"text-primary font-weight-bold\" /&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;asp:Label ID=\"LBL_TrackLength\" runat=\"server\" Text='&lt;%#Eval(\"TrackLength\") %&gt;' /&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;asp:Label ID=\"LBL_TrackNumber\" runat=\"server\" Text='&lt;%#Eval(\"TrackNumber\") %&gt;' /&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;asp:Label ID=\"LBL_AlbumName\" runat=\"server\" Text='&lt;%#Eval(\"Album.AlbumName\") %&gt;' /&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;asp:Label ID=\"LBL_BandName\" runat=\"server\" Text='&lt;%#Eval(\"Album.Band.BandName\") %&gt;' /&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;asp:Button ID=\"BTN_Details\" runat=\"server\" CssClass=\"btn btn-block btn-lg btn-info\" Text=\"Details\" CommandName=\"Details\" UseSubmitBehavior=\"false\" /&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;asp:Button ID=\"BTN_Edit\" runat=\"server\" CssClass=\"btn btn-block btn-lg btn-warning\" Text=\"Edit\" data-toggle=\"modal\" data-target=\"#EditTrack\" CommandName=\"Edit\" UseSubmitBehavior=\"false\" /&gt;\n                    &lt;/td&gt;\n                    &lt;td&gt;\n                        &lt;asp:Button ID=\"BTN_Delete\" runat=\"server\" CssClass=\"btn btn-block btn-lg btn-danger\" Text=\"Delete\" CommandName=\"Delete\" UseSubmitBehavior=\"false\" /&gt;\n                    &lt;/td&gt;\n                &lt;/tr&gt;\n            &lt;/ItemTemplate&gt;\n        &lt;/asp:Repeater&gt;\n    &lt;/tbody&gt;\n&lt;/table&gt;\n</code></pre>\n\n<p>But instead of getting a nice sortable, filterable, and paged table using FooTable.js, I get this error:</p>\n\n<pre><code>Compilation Error\nDescription: An error occurred during the compilation of a resource required to service this request. Please review the following specific error details and modify your source code appropriately. \n\nCompiler Error Message: BC30311: Value of type 'System.Web.UI.WebControls.Repeater' cannot be converted to 'System.Web.UI.HtmlControls.HtmlTableRow'.\n</code></pre>\n\n<p>I also know this code works because I tried using an inline code block, but my Delete, Details, and Edit buttons needed a NamingContainer to function properly. You can read the Q&amp;A <a href=\"https://stackoverflow.com/questions/57279783/getting-html-table-rows-in-vb-net\">here</a>. I have used date formatting, numbers, and strings easily in the previous pages; the only thing different about this one is it uses a TimeSpan for the track length - <code>Public Property TrackLength As TimeSpan</code>. I honestly don't think the problem is with the repeater control; I think the page is very, very confused some other way, and that has confused me. :D</p>\n"}, {"tags": ["javascript", "reactjs", "authentication", "redux", "store"], "comments": [{"owner": {"reputation": 1231, "user_id": 1175227, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ba9b6717e75b17562b984c6ff2c40d33?s=128&d=identicon&r=PG", "display_name": "sznowicki", "link": "https://stackoverflow.com/users/1175227/sznowicki"}, "edited": false, "score": 0, "creation_date": 1565208563, "post_id": 57401401, "comment_id": 101284828, "body": "I have so many questions to this code. Could you comment what each of the piece of code does. Otherwise I think no one would be able to help you. For example:  // getCurrentUserAction is a function that does ... setCurrentUser: getCurrentUserAction,"}, {"owner": {"reputation": 73, "user_id": 10297349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NfmHe.png?s=128&g=1", "display_name": "Jasterix", "link": "https://stackoverflow.com/users/10297349/jasterix"}, "reply_to_user": {"reputation": 1231, "user_id": 1175227, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ba9b6717e75b17562b984c6ff2c40d33?s=128&d=identicon&r=PG", "display_name": "sznowicki", "link": "https://stackoverflow.com/users/1175227/sznowicki"}, "edited": false, "score": 0, "creation_date": 1565208618, "post_id": 57401401, "comment_id": 101284851, "body": "yeah, I&#39;ll do that now"}, {"owner": {"reputation": 73, "user_id": 10297349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NfmHe.png?s=128&g=1", "display_name": "Jasterix", "link": "https://stackoverflow.com/users/10297349/jasterix"}, "reply_to_user": {"reputation": 1231, "user_id": 1175227, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ba9b6717e75b17562b984c6ff2c40d33?s=128&d=identicon&r=PG", "display_name": "sznowicki", "link": "https://stackoverflow.com/users/1175227/sznowicki"}, "edited": false, "score": 0, "creation_date": 1565210855, "post_id": 57401401, "comment_id": 101285747, "body": "I also removed the parts of the code that were redundant"}], "answers": [{"comments": [{"owner": {"reputation": 73, "user_id": 10297349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NfmHe.png?s=128&g=1", "display_name": "Jasterix", "link": "https://stackoverflow.com/users/10297349/jasterix"}, "edited": false, "score": 1, "creation_date": 1565232155, "post_id": 57402344, "comment_id": 101290387, "body": "This wasn&#39;t quite the answer, but in the process of refactoring my code, I realized there was a problem with how I was importing my actions the adapter file. Thanks for the advice"}], "tags": [], "owner": {"reputation": 1231, "user_id": 1175227, "user_type": "registered", "accept_rate": 62, "profile_image": "https://www.gravatar.com/avatar/ba9b6717e75b17562b984c6ff2c40d33?s=128&d=identicon&r=PG", "display_name": "sznowicki", "link": "https://stackoverflow.com/users/1175227/sznowicki"}, "is_accepted": true, "score": 1, "last_activity_date": 1565212324, "creation_date": 1565212324, "answer_id": 57402344, "question_id": 57401401, "link": "https://stackoverflow.com/questions/57401401/how-can-i-keep-a-user-logged-in-with-redux/57402344#57402344", "title": "How can I keep a user logged in with redux?", "body": "<p>When HoC component mounts it always mounts the Nav component as well.</p>\n\n<p>Nav component has <code>this.props.getCurrentUser();</code> which is same thing as <code>this.props.setCurrentUser()</code>.</p>\n\n<p>I bet you have some race condition that redirects the user back to login.</p>\n\n<p>I'd suggest you to refactor your code and use redux properly, which in this scenario <em>could be</em>:</p>\n\n<p><code>getCurrentUserAction</code> handles the request to get user data if user is logged in, then dispatches <code>RECEIVE_USER</code> action, which changes the redux state (by reducer).</p>\n\n<p>HoC makes sure user is logged in and dispatches the action when necessary.</p>\n\n<p>Nav component uses <strong>only</strong> selector to get the user data it needs (since HoC acts here as a guard).</p>\n\n<p>Above might not be the most optimal solution for you, but it could fix your problem.</p>\n"}], "owner": {"reputation": 73, "user_id": 10297349, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/NfmHe.png?s=128&g=1", "display_name": "Jasterix", "link": "https://stackoverflow.com/users/10297349/jasterix"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1505, "favorite_count": 0, "accepted_answer_id": 57402344, "answer_count": 1, "score": 1, "last_activity_date": 1565232337, "creation_date": 1565207252, "last_edit_date": 1565232337, "question_id": 57401401, "link": "https://stackoverflow.com/questions/57401401/how-can-i-keep-a-user-logged-in-with-redux", "title": "How can I keep a user logged in with redux?", "body": "<p>I'm working on an app that has user authentication. Right now my log in is currently happening in a withAuth HOC, while my Nav component is set up to get the current user.</p>\n\n<p>However, while the use can log in and access their profile page, once they leave profile, current user is empty. </p>\n\n<p>How do I set up my store and/or components so that current user is available on every page.</p>\n\n<p>I tried to pass user to my Nav component, but once you leave profile, there's no user at all</p>\n\n<p>This is my withAuth HOC:</p>\n\n<pre><code>\nexport default function withAuth(WrappedComponent) {\n\n  class Something extends React.Component {\n\n    componentDidMount() { \n\n  **//checks if user is logged in before loading to the WrappedComponent (which in this case is the profile page)**\n\n      if (!localStorage.token) {\n        this.props.history.push(\"/login\")\n      }\n      try {\n        this.props.getCurrentUser()\n        .catch(error =&gt; {\n          this.props.history.push(\"/login\")\n        })\n      } catch (error) {\n        if (error.message === \"Please log in\") {\n          this.props.history.push(\"/login\")\n        }\n      }\n      }\n\n      render() {\n\n        return (\n\n&lt;WrappedComponent /&gt;\n\n      )}\n    }\n\n    const mapDispatchToProps = {\n      getCurrentUser: getCurrentUserAction\n\n**//does a fetch to 'http://localhost:3000/profile' with the bearer token and returns the username**\n\n    }\n\n    return withRouter(connect(null, mapDispatchToProps)(Something))\n}\n</code></pre>\n\n<p>This is my Nav component (which is imported to every page):</p>\n\n<pre><code>\n  componentDidMount() {\n    this.props.getCurrentUser();\n\n**//This should fetch from 'http://localhost:3000/profile' with the bearer token and return the username**\n\n  }\n...\nconst mapStateToProps = state =&gt; {\n  return {\n    user: state.user\n  };\n};\n\nconst mapDispatchToProps = {\n  getCurrentUser: getCurrentUserAction,\n  logout: userLogoutAction\n};\n\n</code></pre>\n\n<p>I understand why user is visible in profile, but don't understand why it's not visible anywhere else</p>\n"}, {"tags": ["javascript", "algorithm", "queue"], "comments": [{"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 3, "creation_date": 1565207286, "post_id": 57401355, "comment_id": 101284360, "body": "In <code>enqueue</code>, you&#39;re creating a <i>single</i> new Node, <code>newNode</code>. This node is set as both <code>this.first</code> and <code>this.last</code>. So now the two are pointing to the same Node object. Changing <code>this.last.next</code> will consequently change <code>this.first</code> (by also setting its <code>.last</code>). As far as I can tell, in the <code>else</code> block, you need to store <code>this.last</code> in a tmp variable, then set it to the new node, then set the tmp&#39;s <code>.next</code> to the new node."}, {"owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565221901, "post_id": 57401355, "comment_id": 101288536, "body": "Thanks for pointing this out Chris G. The code as it is right now is complete. It will work, so need for a temp variable. That&#39;s what was throwing me off. I think I&#39;m just going to sit on this for a while and I think it will click better for me. I get what your saying though. Thanks."}, {"owner": {"reputation": 121669, "user_id": 56778, "user_type": "registered", "accept_rate": 93, "profile_image": "https://www.gravatar.com/avatar/34b152ef95a49568ce45df38cd87e54b?s=128&d=identicon&r=PG", "display_name": "Jim Mischel", "link": "https://stackoverflow.com/users/56778/jim-mischel"}, "edited": false, "score": 0, "creation_date": 1565238308, "post_id": 57401355, "comment_id": 101291464, "body": "Something to consider: in a circular queue, <code>this.last.next</code> is by definition equal to <code>this.first</code> when the queue is full."}], "owner": {"reputation": 3945, "user_id": 2325598, "user_type": "registered", "accept_rate": 72, "profile_image": "https://i.stack.imgur.com/wbO59.jpg?s=128&g=1", "display_name": "Dan Rubio", "link": "https://stackoverflow.com/users/2325598/dan-rubio"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 48, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565207103, "creation_date": 1565207103, "question_id": 57401355, "link": "https://stackoverflow.com/questions/57401355/i-dont-understand-how-this-variable-declaration-changed-in-my-queue-algorithm-e", "title": "I don&#39;t understand how this variable declaration changed in my Queue algorithm exercise?", "body": "<p>I am practicing an algorithm and I got this implementation of a Queue. The problem I am having with this implementation are the lines demarcated by '*'.</p>\n\n<p>The queue correcty works but somehow when I set <code>this.last.next</code> to the new value, the <code>this.first</code> declaration changes. How is it changing? I'm guessing this has something to do with memory pointers but its really tripping me up. Hopefully that explained it well enough. </p>\n\n<p>I'm just not seeing how <code>this.last.next</code> changes <code>this.first</code>. I can modify the question if it doesn't make sense. If you run it though with node, you'll see what I'm talking about. Thanks.</p>\n\n<pre><code>class Node {\n  constructor(value) {\n    this.value = value;\n    this.next = null;\n  }\n}\n\nclass Queue {\n  constructor(){\n    this.first = null;\n    this.last = null;\n    this.length = 0;\n  }\n  peek() {\n    return this.first\n  }\n  enqueue(value){\n    const newNode = new Node(value);\n\n    if (this.first == null) {\n      this.first = newNode;\n      this.last = newNode;\n    } else {\n\n      console.log('first');\n      console.log(this.first)\n      console.log(this.last)\n\n      ********** Question *******\n      How did this line of code change this.first?\n      this.last.next = newNode;\n      *************************\n\n      this.last = newNode;\n      console.log('second')\n\n      *********** Question **************\n      Why did this value change? I didn't declare a change\n      unless this.last.next was the same as this.first\n\n      console.log(this.first);\n      ***************************\n\n\n\n\n      console.log(this.last)\n    }\n    this.length++;\n  }\n\n  dequeue(){\n    this.first = this.first.next\n    if (this.first === null) {\n      this.last = null;\n    }\n    this.length--;\n  }\n}\n\nconst myQueue = new Queue();\nmyQueue.enqueue('Joy');\nmyQueue.enqueue('Matt');\nmyQueue.enqueue('Pavel');\n</code></pre>\n"}, {"tags": ["javascript", "reactjs", "redux", "react-hooks"], "comments": [{"owner": {"reputation": 1369, "user_id": 367358, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b45f7bd4e0a7fe26339938eaa4d2602e?s=128&d=identicon&r=PG", "display_name": "Aleksey", "link": "https://stackoverflow.com/users/367358/aleksey"}, "edited": false, "score": 0, "creation_date": 1565209299, "post_id": 57401348, "comment_id": 101285129, "body": "Are you getting undefined on the initial render as well? Also can you add code on how you use Form component?"}, {"owner": {"reputation": 414, "user_id": 1865593, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4d526f1f4c99a6f2c7c71e15cb9ab81d?s=128&d=identicon&r=PG", "display_name": "trinny", "link": "https://stackoverflow.com/users/1865593/trinny"}, "reply_to_user": {"reputation": 1369, "user_id": 367358, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b45f7bd4e0a7fe26339938eaa4d2602e?s=128&d=identicon&r=PG", "display_name": "Aleksey", "link": "https://stackoverflow.com/users/367358/aleksey"}, "edited": false, "score": 0, "creation_date": 1565237795, "post_id": 57401348, "comment_id": 101291369, "body": "@Aleksey I get undefined everywhere when I want to call any of those variables from state, from action creator. Sure, I&#39;ll add how I call form component as well"}, {"owner": {"reputation": 1369, "user_id": 367358, "user_type": "registered", "accept_rate": 27, "profile_image": "https://www.gravatar.com/avatar/b45f7bd4e0a7fe26339938eaa4d2602e?s=128&d=identicon&r=PG", "display_name": "Aleksey", "link": "https://stackoverflow.com/users/367358/aleksey"}, "edited": false, "score": 0, "creation_date": 1565266326, "post_id": 57401348, "comment_id": 101304553, "body": "in your rootReducer I suppose &quot;reducer&quot; var is loginReducer? If so then to get properties in mapStateToProps you should use <code>state.reducer.isLoggedIn</code>."}], "answers": [{"comments": [{"owner": {"reputation": 414, "user_id": 1865593, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4d526f1f4c99a6f2c7c71e15cb9ab81d?s=128&d=identicon&r=PG", "display_name": "trinny", "link": "https://stackoverflow.com/users/1865593/trinny"}, "edited": false, "score": 0, "creation_date": 1565263966, "post_id": 57406060, "comment_id": 101303297, "body": "Cannot read property &#39;props&#39; of undefined. And in function params i removed isLoggedIn and added ...props so it matches your case. No luck :/"}, {"owner": {"reputation": 105, "user_id": 7348073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wEU28EUsGPI/AAAAAAAAAAI/AAAAAAAAB7g/B1Ma16qbTc4/photo.jpg?sz=128", "display_name": "Shubham Jajoo", "link": "https://stackoverflow.com/users/7348073/shubham-jajoo"}, "reply_to_user": {"reputation": 414, "user_id": 1865593, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4d526f1f4c99a6f2c7c71e15cb9ab81d?s=128&d=identicon&r=PG", "display_name": "trinny", "link": "https://stackoverflow.com/users/1865593/trinny"}, "edited": false, "score": 0, "creation_date": 1565272381, "post_id": 57406060, "comment_id": 101308557, "body": "I think it&#39;s your functional component. You have to pass props as argument in redirect.  function redirect(props) {     if (props.isLoggedIn || props.isLoggedIn.loginReducer.isLoggedIn) {        return &lt;Redirect to=&quot;/home&quot; /&gt;;     }   }"}, {"owner": {"reputation": 414, "user_id": 1865593, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4d526f1f4c99a6f2c7c71e15cb9ab81d?s=128&d=identicon&r=PG", "display_name": "trinny", "link": "https://stackoverflow.com/users/1865593/trinny"}, "edited": false, "score": 0, "creation_date": 1566292398, "post_id": 57406060, "comment_id": 101601158, "body": "I added it like you said, to redirect, but when I console log it, all the props are undefined there"}], "tags": [], "owner": {"reputation": 105, "user_id": 7348073, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wEU28EUsGPI/AAAAAAAAAAI/AAAAAAAAB7g/B1Ma16qbTc4/photo.jpg?sz=128", "display_name": "Shubham Jajoo", "link": "https://stackoverflow.com/users/7348073/shubham-jajoo"}, "is_accepted": false, "score": 0, "last_activity_date": 1565244258, "creation_date": 1565244258, "answer_id": 57406060, "question_id": 57401348, "link": "https://stackoverflow.com/questions/57401348/react-hooks-and-redux-trouble-getting-value-from-action-creator/57406060#57406060", "title": "React Hooks and Redux - trouble getting value from action creator", "body": "<p>In <strong>form.js</strong> file:\n  can you please try using this: </p>\n\n<pre><code>function redirect() {\n    if (this.props.isLoggedIn || this.props.isLoggedIn.loginReducer.isLoggedIn) { \n      return &lt;Redirect to=\"/home\" /&gt;;\n    }\n  }\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 375, "user_id": 7008753, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/MCDUv.jpg?s=128&g=1", "display_name": "Akram Badah", "link": "https://stackoverflow.com/users/7008753/akram-badah"}, "is_accepted": true, "score": 1, "last_activity_date": 1566294262, "creation_date": 1566294262, "answer_id": 57570868, "question_id": 57401348, "link": "https://stackoverflow.com/questions/57401348/react-hooks-and-redux-trouble-getting-value-from-action-creator/57570868#57570868", "title": "React Hooks and Redux - trouble getting value from action creator", "body": "<p>I believe in your Login form component (form.js),</p>\n\n<p>values in mapStateToProps function should be like this:</p>\n\n<pre><code>function mapStateToProps(state) {\n  console.log(state.reducer); // I can see change here\n  return {\n    user: state.reducer.user,\n    isLoggedIn: state.reducer.isLoggedIn,\n    error: state.reducer.error\n  };\n}\n</code></pre>\n"}], "owner": {"reputation": 414, "user_id": 1865593, "user_type": "registered", "accept_rate": 59, "profile_image": "https://www.gravatar.com/avatar/4d526f1f4c99a6f2c7c71e15cb9ab81d?s=128&d=identicon&r=PG", "display_name": "trinny", "link": "https://stackoverflow.com/users/1865593/trinny"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 657, "favorite_count": 0, "accepted_answer_id": 57570868, "answer_count": 2, "score": 2, "last_activity_date": 1566294262, "creation_date": 1565207053, "last_edit_date": 1565238029, "question_id": 57401348, "link": "https://stackoverflow.com/questions/57401348/react-hooks-and-redux-trouble-getting-value-from-action-creator", "title": "React Hooks and Redux - trouble getting value from action creator", "body": "<p>so I am making a small project learning about hooks, and it is a little nightmare :) </p>\n\n<p>I have a login form component that calls to action creator to login, after that I want to use value that has been changed in this action, ex. isLoggedIn. I can see the value in store has been changed in chrome react dev tools, but it's not working in code. Below is the code sample.</p>\n\n<p>Reducer (reducer.js):</p>\n\n<pre><code>const initialState = {\n  user: {},\n  isFetching: false,\n  isLoggedIn: false,\n  error: false\n};\n\nexport default function loginReducer(state = initialState, action) {\n  switch (action.type) {\n    case types.LOGIN_SUCCESS:\n      return {\n        ...state,\n        isFetching: false,\n        isLoggedIn: true,\n        error: false,\n        user: action.user\n      };\n    default:\n      return state;\n  }\n}\n</code></pre>\n\n<p>Action Creator (actions.js)</p>\n\n<pre><code>export function loginToApi(credentials) {\n  return function(dispatch) {\n        axios\n          .post(\"https://localhost:44320/Login\", {\n            email: credentials.email,\n            password: credentials.password\n          })\n          .then(response =&gt; {\n            dispatch(loginSuccess(response.data));\n          })\n      })\n  };\n}\n\nfunction loginSuccess(user) {\n  return { type: types.LOGIN_SUCCESS, user };\n}\n</code></pre>\n\n<p>Login form component (form.js)</p>\n\n<pre><code>import React, { useState } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport useForm from \"./useForm\";\nimport validate from \"./LoginFormValidationRules\";\nimport { loginToApi } from \"../../redux/actions/loginActions\";\nimport { connect } from \"react-redux\";\n\nexport function Form({ loginToApi, isLoggedIn }) {\n  // custom form hook\n  const { values, errors, handleChange, handleSubmit } = useForm(\n    { accountType: \"1\", email: \"\", password: \"\" },\n    login,\n    validate\n  );\n\n  const [loginFailed, setLoginFailed] = useState(false);\n\n  function redirect() {\n    if (isLoggedIn) { // I want to use those variables here\n      return &lt;Redirect to=\"/home\" /&gt;;\n    }\n  }\n\n  function login() {\n    loginToApi(values);\n  }\n\n  return (\n    &lt;div&gt;\n      {redirect()}\n      // form, I want to use error variable here for valdiations as well\n    &lt;/div&gt;\n  );\n}\n\nfunction mapStateToProps(state) {\n  console.log(state); // I can see change here\n  return {\n    user: state.user,\n    isLoggedIn: state.isLoggedIn,\n    error: state.error\n  };\n}\n\nconst mapDispatchToProps = {\n  loginToApi\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Form);\n</code></pre>\n\n<p>So I want to use in this component values like error or isLoggedIn, but I don't know how to get them. All I get is undefined.</p>\n\n<p>Help appreciated.</p>\n\n<p>@edit\nAs requested my usage of Form component:</p>\n\n<p>index.js:</p>\n\n<pre><code>const store = configureStore();\n\nrender(\n  &lt;ReduxProvider store={store}&gt;\n    &lt;Router&gt;\n      &lt;App /&gt;\n    &lt;/Router&gt;\n  &lt;/ReduxProvider&gt;,\n  document.getElementById(\"app\")\n);\n</code></pre>\n\n<p>App.js:</p>\n\n<pre><code>function App() {\n  return (\n    &lt;div&gt;\n      &lt;Switch&gt;\n        &lt;Route path=\"/login\" component={LoginPage} /&gt;\n      &lt;/Switch&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n\n<p>LoginPage.js:</p>\n\n<pre><code>const LoginPage = () =&gt; (\n  &lt;div&gt;\n     &lt;LoginForm /&gt;\n  &lt;/div&gt;\n);\n\nexport default LoginPage;\n</code></pre>\n\n<p>configureStore.js:</p>\n\n<pre><code>export default function configureStore(initialState) {\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; // add support for Redux dev tools\n\n  return createStore(\n    rootReducer,\n    initialState,\n    composeEnhancers(applyMiddleware(thunk, reduxImmutableStateInvariant()))\n  );\n}\n</code></pre>\n\n<p>rootReducer:</p>\n\n<pre><code>const rootReducer = combineReducers({\n  reducer: reducer\n});\n\nexport default rootReducer;\n</code></pre>\n\n<p>Hope this helps you see the problem, because I still have not resolved the issue.. thanks!</p>\n"}, {"tags": ["javascript", "botframework", "azure-language-understanding", "web-chat"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 11898101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd5251352407188b65c9d35e6e01eb7?s=128&d=identicon&r=PG&f=1", "display_name": "Gaudalupe Jaime", "link": "https://stackoverflow.com/users/11898101/gaudalupe-jaime"}, "edited": false, "score": 0, "creation_date": 1565279362, "post_id": 57402497, "comment_id": 101312686, "body": "I&#39;m sorry, it&#39;s LUIS who doesn&#39;t work when I integrate the chatbot with js"}, {"owner": {"reputation": 2397, "user_id": 5209435, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d14a78299ebf996ea9b9054cc3bd26ba?s=128&d=identicon&r=PG", "display_name": "Matt Stannett", "link": "https://stackoverflow.com/users/5209435/matt-stannett"}, "reply_to_user": {"reputation": 1, "user_id": 11898101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd5251352407188b65c9d35e6e01eb7?s=128&d=identicon&r=PG&f=1", "display_name": "Gaudalupe Jaime", "link": "https://stackoverflow.com/users/11898101/gaudalupe-jaime"}, "edited": false, "score": 0, "creation_date": 1565290273, "post_id": 57402497, "comment_id": 101317474, "body": "Does it work when you run your bot locally? How about webchat with and iFrame? Does LUIS work in the test in webchat functionality in the Azure portal? Have you set the LUIS keys against the web app? We need more information about what you\u2019ve tried."}, {"owner": {"reputation": 2397, "user_id": 5209435, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d14a78299ebf996ea9b9054cc3bd26ba?s=128&d=identicon&r=PG", "display_name": "Matt Stannett", "link": "https://stackoverflow.com/users/5209435/matt-stannett"}, "reply_to_user": {"reputation": 1, "user_id": 11898101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd5251352407188b65c9d35e6e01eb7?s=128&d=identicon&r=PG&f=1", "display_name": "Gaudalupe Jaime", "link": "https://stackoverflow.com/users/11898101/gaudalupe-jaime"}, "edited": false, "score": 0, "creation_date": 1565291127, "post_id": 57402497, "comment_id": 101317810, "body": "Also see my answer <a href=\"https://stackoverflow.com/questions/56797743/bot-works-in-bot-framework-emulator-on-local-computer-but-not-after-its-deploy/56841835#56841835\">here</a> on how to debug production channels."}, {"owner": {"reputation": 1, "user_id": 11898101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd5251352407188b65c9d35e6e01eb7?s=128&d=identicon&r=PG&f=1", "display_name": "Gaudalupe Jaime", "link": "https://stackoverflow.com/users/11898101/gaudalupe-jaime"}, "edited": false, "score": 0, "creation_date": 1565293120, "post_id": 57402497, "comment_id": 101318618, "body": "yes, the bot work locally, in the test in web chat and the iframe, and i have the keys in the web app: LuisAPIHostName, LuisAPIKey and LuisAppId"}, {"owner": {"reputation": 2397, "user_id": 5209435, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d14a78299ebf996ea9b9054cc3bd26ba?s=128&d=identicon&r=PG", "display_name": "Matt Stannett", "link": "https://stackoverflow.com/users/5209435/matt-stannett"}, "reply_to_user": {"reputation": 1, "user_id": 11898101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd5251352407188b65c9d35e6e01eb7?s=128&d=identicon&r=PG&f=1", "display_name": "Gaudalupe Jaime", "link": "https://stackoverflow.com/users/11898101/gaudalupe-jaime"}, "edited": false, "score": 0, "creation_date": 1565294824, "post_id": 57402497, "comment_id": 101319280, "body": "I would suggest looking at my comment above on how to debug production channels, it should give you some more inside on what is going on."}], "tags": [], "owner": {"reputation": 2397, "user_id": 5209435, "user_type": "registered", "accept_rate": 60, "profile_image": "https://www.gravatar.com/avatar/d14a78299ebf996ea9b9054cc3bd26ba?s=128&d=identicon&r=PG", "display_name": "Matt Stannett", "link": "https://stackoverflow.com/users/5209435/matt-stannett"}, "is_accepted": false, "score": 1, "last_activity_date": 1565213266, "creation_date": 1565213266, "answer_id": 57402497, "question_id": 57401338, "link": "https://stackoverflow.com/questions/57401338/luis-does-not-work-when-i-integrate-bot-framework-v4-with-js-in-any-browser/57402497#57402497", "title": "LUIS does not work when I integrate bot framework v4 with js in any browser", "body": "<p>Just to confirm the WebChat <code>YOUR_SECRET_HERE</code> and DirectLine <code>YOUR_DIRECT_LINE_SECRET</code> should be two different values.</p>\n\n<ul>\n<li><a href=\"https://docs.microsoft.com/en-us/azure/bot-service/bot-service-channel-connect-webchat?view=azure-bot-service-3.0#step-1\" rel=\"nofollow noreferrer\">How to get your secret for the WebChat channel</a>.</li>\n<li><a href=\"https://docs.microsoft.com/en-us/azure/bot-service/rest-api/bot-framework-rest-direct-line-3-0-authentication?view=azure-bot-service-4.0#get-a-direct-line-secret\" rel=\"nofollow noreferrer\">How to get your key for the Direct Line channel</a>.</li>\n</ul>\n\n<p>Before you will be able to retrieve the value for <code>YOUR_DIRECT_LINE_SECRET</code> you will need to connect your bot to the Direct Line channel via Azure Portal > MyBot Resource > Channels, detailed instructions on how to do this are available <a href=\"https://docs.microsoft.com/en-us/azure/bot-service/bot-service-channel-connect-directline?view=azure-bot-service-4.0\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p><strong>As an aside</strong></p>\n\n<p>In the future it would be extremely helpful if you could post a detailed error message (from the <a href=\"https://wordpress.org/support/article/using-your-browser-to-diagnose-javascript-errors/#step-3-diagnosis\" rel=\"nofollow noreferrer\">console logs of Developer tools</a> in this instance) which demonstrates the error that you are encountering, rather than just saying \"it doesn't work\".</p>\n\n<p>There are question guidelines available <a href=\"https://stackoverflow.com/help/how-to-ask\">here</a>.</p>\n"}, {"comments": [{"owner": {"reputation": 5186, "user_id": 3962636, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c30d90a87f337bdfe5d28e3212ff087?s=128&d=identicon&r=PG", "display_name": "Steven Kanberg", "link": "https://stackoverflow.com/users/3962636/steven-kanberg"}, "reply_to_user": {"reputation": 1, "user_id": 11898101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd5251352407188b65c9d35e6e01eb7?s=128&d=identicon&r=PG&f=1", "display_name": "Gaudalupe Jaime", "link": "https://stackoverflow.com/users/11898101/gaudalupe-jaime"}, "edited": false, "score": 0, "creation_date": 1565591329, "post_id": 57419697, "comment_id": 101386871, "body": "I updated the code to reflect <code>locale</code>. My apologies as I missed that. I would <b>strongly</b> recommend you figure out why this code does not work for you. This is official implementation and, thus, best practice. Your code, reflected in your answer, may work now but you run the risk of some feature(s) breaking or being unavailable should something in the SDK or your requirements change in the future."}], "tags": [], "owner": {"reputation": 5186, "user_id": 3962636, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/2c30d90a87f337bdfe5d28e3212ff087?s=128&d=identicon&r=PG", "display_name": "Steven Kanberg", "link": "https://stackoverflow.com/users/3962636/steven-kanberg"}, "is_accepted": false, "score": 1, "last_activity_date": 1565590949, "last_edit_date": 1565590949, "creation_date": 1565293848, "answer_id": 57419697, "question_id": 57401338, "link": "https://stackoverflow.com/questions/57401338/luis-does-not-work-when-i-integrate-bot-framework-v4-with-js-in-any-browser/57419697#57419697", "title": "LUIS does not work when I integrate bot framework v4 with js in any browser", "body": "<p>This is the current implementation for including <a href=\"https://github.com/microsoft/BotFramework-WebChat\" rel=\"nofollow noreferrer\">BotFramework-WebChat</a> in an html page, if not using an iframe. The page shouldn't block your use of LUIS as one is <strong>not</strong> dependent on the other. What is being returned to the bot from the page <em>may</em> be a sticking point resulting in an LUIS error if it can't read the returned data.</p>\n\n<p>The code below can be found <a href=\"https://github.com/microsoft/BotFramework-WebChat/blob/master/samples/03.a.host-with-react/index.html\" rel=\"nofollow noreferrer\">here</a>. There are many samples to reference in the repo.</p>\n\n<p>Please note, I am exchanging my direct line secret for a token by running an API service locally. You shouldn't include your direct line secret on your page as it is accessible by anyone creating a security risk.</p>\n\n<p>If you continue to have LUIS errors after setting up this page, then I would return to your LUIS settings in either the <code>cognitivemodels.json</code>, <code>skills.json</code>, or <code>.dispatch</code> files.</p>\n\n<p>Hope of help!</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en-US\"&gt;\n\n&lt;head&gt;\n  &lt;title&gt;Web Chat: Custom attachment with GitHub Stargazers&lt;/title&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"&gt;\n  &lt;!--\n      For simplicity and code clarity, we are using Babel and React from unpkg.com.\n    --&gt;\n  &lt;script src=\"https://unpkg.com/babel-standalone@6/babel.min.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"https://unpkg.com/react@16.5.0/umd/react.development.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"https://unpkg.com/react-dom@16.5.0/umd/react-dom.development.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"https://cdn.botframework.com/botframework-webchat/latest/webchat.js\"&gt;&lt;/script&gt;\n  &lt;style&gt;\n    html,\n    body {\n      height: 100%\n    }\n\n    body {\n      margin: 0\n    }\n\n    #webchat {\n      height: 100%;\n      width: 100%;\n    }\n  &lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body&gt;\n  &lt;div id=\"webchat\" role=\"main\"&gt;&lt;/div&gt;\n  &lt;script type=\"text/babel\"&gt;\n      (async function () {\n        'use strict';\n\n        // To talk to your bot, you should use the token exchanged using your Direct Line secret.\n        // You should never put the Direct Line secret in the browser or client app.\n        // https://docs.microsoft.com/en-us/azure/bot-service/rest-api/bot-framework-rest-direct-line-3-0-authentication\n\n        const res = await fetch( 'http://localhost:3500/directline/token', { method: 'POST' } );\n        const { token } = await res.json();\n        const { ReactWebChat } = window.WebChat;\n\n        window.ReactDOM.render(\n          &lt;ReactWebChat\n            directLine={ window.WebChat.createDirectLine({ token }) }\n            locale='en-US'\n          /&gt;,\n          document.getElementById('webchat')\n        );\n\n        document.querySelector('#webchat &gt; *').focus();\n      })().catch(err =&gt; console.error(err));\n    &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/x3X21.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x3X21.png\" alt=\"enter image description here\"></a></p>\n"}, {"tags": [], "owner": {"reputation": 1, "user_id": 11898101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd5251352407188b65c9d35e6e01eb7?s=128&d=identicon&r=PG&f=1", "display_name": "Gaudalupe Jaime", "link": "https://stackoverflow.com/users/11898101/gaudalupe-jaime"}, "is_accepted": true, "score": 0, "last_activity_date": 1565495148, "creation_date": 1565495148, "answer_id": 57447220, "question_id": 57401338, "link": "https://stackoverflow.com/questions/57401338/luis-does-not-work-when-i-integrate-bot-framework-v4-with-js-in-any-browser/57447220#57447220", "title": "LUIS does not work when I integrate bot framework v4 with js in any browser", "body": "<p>Appication Insights send me this Error: The given key 'es' was not present in the dictionary.</p>\n\n<p>I changed the code to this:</p>\n\n<pre><code>&lt;html&gt;\n&lt;body&gt;\n&lt;div id = \"webchat\" role = \"main\"&gt; &lt;/div&gt;\n&lt;script src = \"https://cdn.botframework.com/botframework-webchat/latest/webchat.js\"&gt; &lt;/script&gt;\n&lt;script&gt;\nwindow.WebChat.renderWebChat (\n{\ndirectLine: window.WebChat.createDirectLine ({\nfile: ''\n}),\nlocale: 'en-US',\n},\ndocument.getElementById ('webchat')\n);\n&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>to change the language and the bot already work well in webchat.js</p>\n\n<p>Thank you very much everyone, how kind</p>\n"}], "owner": {"reputation": 1, "user_id": 11898101, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/abd5251352407188b65c9d35e6e01eb7?s=128&d=identicon&r=PG&f=1", "display_name": "Gaudalupe Jaime", "link": "https://stackoverflow.com/users/11898101/gaudalupe-jaime"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 215, "favorite_count": 0, "accepted_answer_id": 57447220, "answer_count": 3, "score": 0, "last_activity_date": 1565590949, "creation_date": 1565206986, "last_edit_date": 1565480022, "question_id": 57401338, "link": "https://stackoverflow.com/questions/57401338/luis-does-not-work-when-i-integrate-bot-framework-v4-with-js-in-any-browser", "title": "LUIS does not work when I integrate bot framework v4 with js in any browser", "body": "<p>I created a chatbot in C# .net Core SDK v4 with <a href=\"https://github.com/microsoft/botframework-solutions/blob/master/docs/tutorials/csharp/virtualassistant.md\" rel=\"nofollow noreferrer\">my virtual assistant template</a> and the web chat works fine with the iframe </p>\n\n<pre><code>&lt;iframe src='https://webchat.botframework.com/embed/NAME_OF_BOT?s=YOUR_SECRET_HERE'  style='min-width: 400px; width: 100%; min-height: 500px;'&gt;&lt;/iframe&gt;\n</code></pre>\n\n<p>but LUIS doesn't work when I integrate it with js in any browser</p>\n\n<pre><code>&lt;div id=\"webchat\" role=\"main\"&gt;&lt;/div&gt;\n  &lt;script src=\"https://cdn.botframework.com/botframework-webchat/latest/webchat.js\"&gt;&lt;/script&gt;\n  &lt;script&gt;\n     window.WebChat.renderWebChat(\n        {\n           directLine: window.WebChat.createDirectLine({\n              secret: 'YOUR_DIRECT_LINE_SECRET'\n           }),\n\n        },\n        document.getElementById('webchat')\n     );\n  &lt;/script&gt;\n</code></pre>\n\n<p>What can I do for this to work?\nI already tried to make it work by adding the secrets of webchat and diretcline</p>\n\n<p>This is the location of the error it send me:</p>\n\n<pre><code>public class DefaultAdapter : BotFrameworkHttpAdapter\n{\n    public DefaultAdapter(\n        BotSettings settings,\n        ICredentialProvider credentialProvider,\n        IBotTelemetryClient telemetryClient,\n        BotStateSet botStateSet)\n        : base(credentialProvider)\n    {\n        OnTurnError = async (turnContext, exception) =&gt;\n        {\n            await turnContext.SendActivityAsync(new Activity(type: ActivityTypes.Trace, text: $\"{exception.Message}\"));\n            await turnContext.SendActivityAsync(new Activity(type: ActivityTypes.Trace, text: $\"{exception.StackTrace}\"));\n            await turnContext.SendActivityAsync(MainStrings.ERROR);\n            telemetryClient.TrackException(exception);\n        };\n\n        Use(new TranscriptLoggerMiddleware(new AzureBlobTranscriptStore(settings.BlobStorage.ConnectionString, settings.BlobStorage.Container)));\n        Use(new TelemetryLoggerMiddleware(telemetryClient, logPersonalInformation: true));\n        Use(new ShowTypingMiddleware());\n        Use(new SetLocaleMiddleware(settings.DefaultLocale ?? \"en-us\"));\n        Use(new EventDebuggerMiddleware());\n        Use(new AutoSaveStateMiddleware(botStateSet));\n    }\n}\n</code></pre>\n\n<p>which is in the startup.cs file:</p>\n\n<pre><code>        // Configure adapters\n        // DefaultAdapter is for all regular channels that use Http transport\n        services.AddSingleton&lt;IBotFrameworkHttpAdapter, DefaultAdapter&gt;();\n</code></pre>\n\n<p>the bot responds to me well when it enters the user data request flow (which does not need LUIS nor QnA) But it sends me the error when I send a message that needs to use LUIS and QnA.</p>\n"}, {"tags": ["javascript", "asynchronous", "async-await", "es6-promise", "mediadevices"], "comments": [{"owner": {"reputation": 507143, "user_id": 1048572, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/7f2c4de95e8f4f8f5a71c3aaf0ed312a?s=128&d=identicon&r=PG", "display_name": "Bergi", "link": "https://stackoverflow.com/users/1048572/bergi"}, "edited": false, "score": 0, "creation_date": 1565213465, "post_id": 57401274, "comment_id": 101286581, "body": "<a href=\"https://stackoverflow.com/q/43036229/1048572\">Never pass an <code>async function</code> as the executor to <code>new Promise</code></a>!"}], "answers": [{"tags": [], "owner": {"reputation": 1216, "user_id": 11531708, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/1hBJu.jpg?s=128&g=1", "display_name": "Mohammed Amir Ansari", "link": "https://stackoverflow.com/users/11531708/mohammed-amir-ansari"}, "is_accepted": false, "score": 0, "last_activity_date": 1565206939, "creation_date": 1565206939, "answer_id": 57401331, "question_id": 57401274, "link": "https://stackoverflow.com/questions/57401274/async-promise-problem-in-creating-a-voice-recorder/57401331#57401331", "title": "Async Promise problem in creating a voice recorder", "body": "<p>It is because, your <strong>handleAction()</strong> function is an asynchronous function. in the end, Try calling it like:</p>\n\n<pre><code>return await handleAction();\n</code></pre>\n\n<p>Hope this helps :)</p>\n"}], "owner": {"reputation": 936, "user_id": 5676603, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-R89rDG3KjPg/AAAAAAAAAAI/AAAAAAAAACk/Yxi8Mvd8YNY/photo.jpg?sz=128", "display_name": "pravin poudel", "link": "https://stackoverflow.com/users/5676603/pravin-poudel"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 186, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565206939, "creation_date": 1565206713, "question_id": 57401274, "link": "https://stackoverflow.com/questions/57401274/async-promise-problem-in-creating-a-voice-recorder", "title": "Async Promise problem in creating a voice recorder", "body": "<p>I am making voice recorder and i am working this with promise async to learn async . </p>\n\n<p>This is my code and works fine for one time call but once i call function recursively at end of the function <strong>handleAction</strong> it starts to act weird . </p>\n\n<p>I dont know why but code isnot working on Snippet.</p>\n\n<p>It works fine if i don't call <strong>handleAction()</strong> function at the end of handlefunction function </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const recordAudio = () =&gt;\r\n    new Promise(async resolve =&gt; {\r\n        const stream = await navigator.mediaDevices.getUserMedia({ audio: true }); //it return a promise that resolves to a mediastream object.\r\n        const mediaRecorder = new MediaRecorder(stream); // provide functionality to easily record media \r\n        //mediastream interface represent a stream of media content . A stream consists of several tracks such as videa nad audio\r\n        const audioChunks = [];\r\n\r\n        mediaRecorder.addEventListener('dataavailable', event =&gt; {\r\n            audioChunks.push(event.data);\r\n        });\r\n\r\n        const start = () =&gt; mediaRecorder.start();\r\n\r\n        const stop = () =&gt;\r\n\r\n            new Promise(async resolve =&gt; {\r\n                mediaRecorder.addEventListener('stop', () =&gt; {\r\n\r\n                    const audioblob = new Blob(audioChunks);\r\n                    // const audioChunks = [];\r\n                    const audioURL = URL.createObjectURL(audioblob);\r\n                    const audio = new Audio(audioURL);\r\n                    const play = () =&gt; audio.play();\r\n                    resolve({ audioblob, audioURL, play });\r\n\r\n                });\r\n\r\n                mediaRecorder.stop();\r\n\r\n                // set the mediarecorder.state to \"inactive\" and stop capturing media raise a dataavailable evenet containing the bolb of data that has been gathered \r\n            });\r\n\r\n        resolve({ start, stop });\r\n\r\n    });\r\n\r\n\r\nconst later = (delay, value) =&gt; {\r\n    let timer = 0;\r\n    let reject = null;\r\n    const promise = new Promise((resolve, _reject) =&gt; {\r\n        reject = _reject;\r\n        timer = setTimeout(resolve, delay, value);\r\n    });\r\n\r\n    return {\r\n        get promise() {\r\n\r\n            return promise;\r\n\r\n        },\r\n\r\n\r\n        cancel() {\r\n            if (timer) {\r\n                clearTimeout(timer);\r\n                timer = 0;\r\n                reject();\r\n                reject = null;\r\n            }\r\n\r\n        }\r\n    };\r\n};\r\n\r\nconst sleep = time =&gt; new Promise(resolve =&gt; setTimeout(resolve, time));\r\n\r\nvar audio = \"\";\r\nvar recorder = \"\";\r\nconst handleAction = async () =&gt; {\r\n\r\n    const data_rep = document.getElementById('loop-number-input').value * 1000;\r\n    const actionButton = document.getElementsByClassName('record_button_inside');\r\n    const color_change = document.getElementsByClassName('record_button_inside')[0];\r\n    const actionButton_p = document.getElementsByClassName('state_info')[0];\r\n   \r\n    actionButton.disabled = true;\r\n    color_change.style.background = 'red';\r\n    actionButton_p.innerText = \"RECORDING\";\r\n  \r\n    var element = document.getElementById('myBar');\r\n    var width = 1;\r\n    recorder = await recordAudio(); \r\n    recorder.start(); \r\n    var id = setInterval(frame, document.getElementById('loop-number-input').value * 10); \r\n    await sleep(data_rep);   \r\n         \r\n    // this is display bar to show how much time left for recording\r\n\r\n    function frame() {\r\n        if (width &gt;= 100) {\r\n            console.log(\"entered\");\r\n            clearInterval(id);\r\n            width = 1;\r\n        } else {\r\n            width++;\r\n            element.style.width = width + '%';\r\n\r\n        }\r\n    }\r\n\r\n    audio = await recorder.stop();\r\n    audio.play();\r\n    var id2 = setInterval(frame_after, document.getElementById('loop-number-input').value * 9.5);\r\n\r\n\r\n    // this is bar to display the percentage of sound played \r\n    function frame_after() {\r\n        var element = document.getElementById('myBar');\r\n        element.style.background = 'red';\r\n       \r\n        if (width &gt;= 100) {\r\n            console.log(\"entered\");\r\n            clearInterval(id2);\r\n            element.style.width = 1;\r\n\r\n        } else {\r\n\r\n            width++;\r\n            element.style.width = width + '%';\r\n\r\n        }\r\n    }\r\n\r\n\r\n    actionButton_p.innerText = \"playing !!!!\";\r\n    color_change.style.background = 'inherit';\r\n    actionButton.disabled = false;\r\n    // if(document.getElementById('loopcheck').checked){\r\n   handleAction();\r\n    // }\r\n\r\n}</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>body{\r\n\tbackground: #e4b60c !important;\r\n\theight: 100vh;\r\n\r\n}\r\n\r\nh1.title{\r\n\tfont-family: 'Roboto', sans-serif !important;\r\n\tpadding-bottom: 12px ;\r\n\tborder-bottom: 1px solid #5a5a5a40;\r\n\r\n}\r\n\r\n#loop-number-input{\r\nbox-shadow: 0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12);\r\n}\r\n\r\n.record_button_inside  {\r\n\tbackground-color: #673AB7;\r\n\tpadding: 10px;\r\n\tborder-radius: 50%;\r\n\twidth: 60px;\r\n\theight: 60px;\r\n\tborder-color: transparent;\r\n\tcolor: white;\r\n\tfont-size: 26px;\r\n\tbox-shadow: 0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 10px 0 rgba(0,0,0,0.12);\r\n}\r\n\r\n.replay_button{\r\n\tfloat: right;\r\n\twidth: 40px;\r\n\theight: 40px;\r\n\tfont-size: 20px;\r\n\tpadding: inherit;\r\n}\r\n\r\n.record_button_inside:focus {\r\n\r\n\t/*background-color: transparent;*/\r\n\tborder: none;\r\n}\r\n\r\n\r\n.padd {\r\n\tmargin: 30px 0px;\r\n}\r\n.recorder_div{\r\n\tposition: relative;\r\n\ttop: 25%;\r\n\t/*height: 100vh;*/\r\n}\r\n\r\n.recorder_div div  ,h1 , p {\r\n\tposition: relative;\r\n\ttop: 25%;\r\n\t\r\n}\r\n\r\n#myProgress {\r\n  width: 100%;\r\n  background-color: #ddd;\r\n}\r\n\r\n#myBar {\r\n  width: 1%;\r\n  height: 30px;\r\n  background-color: #4CAF50;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;link href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css\" rel=\"stylesheet\"/&gt;\r\n&lt;script src=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js\"&gt;&lt;/script&gt;\r\n&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;div class=\"container\"&gt;\r\n        &lt;div class=\"row\"&gt;\r\n            &lt;div class=\"col-sm-12\"&gt;\r\n                &lt;div class=\"recorder_div\"&gt;\r\n                    &lt;h1 class=\"title\"&gt;Audio Recording Test&lt;/h1&gt;\r\n                    &lt;div class=\"form-group row padd \"&gt;\r\n                        &lt;label for=\"example-number-input\" class=\"col-3 col-form-label\"&gt;Enter the time for the loop (default is 5 seconds)&lt;/label&gt;\r\n                        &lt;div class=\"col-6\"&gt;\r\n                            &lt;input class=\"form-control\" type=\"number\" value=\"5\" id=\"loop-number-input\" style=\"max-width: 250px;margin-bottom: 30px;\"&gt;\r\n                        &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=\"form-check form-check-inline\"&gt;\r\n                        &lt;input class=\"form-check-input\" type=\"checkbox\" id=\"loopcheck\" value=\"option1\"&gt;\r\n                        &lt;label class=\"form-check-label\" for=\"inlineCheckbox1\"&gt;Check for auto play and record continously &lt;/label&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;p&gt;sing for input loop seconds, then you will hear your recording played back&lt;/p&gt;\r\n                    &lt;div&gt;\r\n                        &lt;button class=\"record_button_inside\" id=\"action\" onclick=\"handleAction()\"&gt;\r\n                            &lt;i class=\"fas fa-microphone-alt\"&gt;&lt;/i&gt;\r\n                        &lt;/button&gt;\r\n                        &lt;!-- &lt;button class=\"record_button_inside replay_button\" id=\"action\" onclick=\"handleAction('False')\"&gt;\r\n                          &lt;i class=\"fas fa-redo-alt\"&gt;&lt;/i&gt;\r\n                        &lt;/button&gt; --&gt;\r\n                        &lt;hr /&gt;\r\n                        &lt;div id=\"myProgress\"&gt;\r\n                            &lt;div id=\"myBar\"&gt;&lt;/div&gt;\r\n                        &lt;/div&gt;\r\n                        &lt;p class=\"state_info\"&gt;Start recording...&lt;/p&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": ["javascript", "recursion", "dom", "callback", "traversal"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565206832, "post_id": 57401245, "comment_id": 101284170, "body": "Don&#39;t use curly quotes in code."}], "answers": [{"comments": [{"owner": {"reputation": 23, "user_id": 10525873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzUq6.jpg?s=128&g=1", "display_name": "ShredwardNorton", "link": "https://stackoverflow.com/users/10525873/shredwardnorton"}, "edited": false, "score": 0, "creation_date": 1565207691, "post_id": 57401276, "comment_id": 101284514, "body": "Isn\u2019t element = element.nextElementSibling part of the while loop? If element is no longer true for the while condition, then wouldn\u2019t we not be able to append element.nextElementSibling because our while loop wouldn\u2019t execute?"}, {"owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "reply_to_user": {"reputation": 23, "user_id": 10525873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzUq6.jpg?s=128&g=1", "display_name": "ShredwardNorton", "link": "https://stackoverflow.com/users/10525873/shredwardnorton"}, "edited": false, "score": 1, "creation_date": 1565208320, "post_id": 57401276, "comment_id": 101284737, "body": "Maybe your confusion as about the local scope that <code>element</code> has. When I write that <i>before</i> the loop <code>element</code> becomes <code>null</code>, then that does <i>not</i> affect the value that <code>element</code> has in the <i>calling</i> function, because that is a <i>different</i> variable that is not affected by anything that happens during the recursive call."}], "tags": [], "owner": {"reputation": 206726, "user_id": 5459839, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iehrR.jpg?s=128&g=1", "display_name": "trincot", "link": "https://stackoverflow.com/users/5459839/trincot"}, "is_accepted": true, "score": 2, "last_activity_date": 1565208803, "last_edit_date": 1565208803, "creation_date": 1565206725, "answer_id": 57401276, "question_id": 57401245, "link": "https://stackoverflow.com/questions/57401245/what-is-preventing-function-from-being-called-infinitely/57401276#57401276", "title": "What is preventing function from being called infinitely?", "body": "<p>At the deepest nested element, <code>element.firstElementChild</code> will be <code>null</code>, and so after assigning that to <code>element</code>, the following condition will not be true:</p>\n\n<pre><code>while(element) {     \n</code></pre>\n\n<p>...and so the loop is not entered at all. There is no further recursion at that point, the function returns, and backtracking can happen. The function executing at the previous level of recursion may still loop further, but eventually there will always be a deepest level where the loop does not execute. These represent the leaves in the depth-first traversal tree.</p>\n\n<h2>Variable Scope</h2>\n\n<p>There is also another aspect which may lead to confusion: the variable <code>element</code> is <em>local</em> to the current function execution context: a change in its value (due to an assignment), will not affect the variable with the same name in the <em>calling</em> function.</p>\n\n<p>To clarify this, you could also rewrite the code to use a different variable name to which you will assign the child nodes:</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function traverseDom(element, callback) {\r\n  callback(element);\r\n  var child = element.firstElementChild;\r\n\r\n  while (child) {\r\n    traverseDom(child, callback);\r\n    child = child.nextElementSibling;\r\n  }\r\n}\r\nconst subTree = document.getElementById(\"subTree\");\r\ntraverseDom(subTree, function(element) {\r\n  console.assert(element !== null, element.nodeName);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"subTree\"&gt;\r\n  &lt;form&gt;\r\n    &lt;input type=\"text\" /&gt;\r\n  &lt;/form&gt;\r\n  &lt;p&gt;Paragraph&lt;/p&gt;\r\n  &lt;span&gt;Span&lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>This code will produce the same result; it uses the same logic, except that it does not assign a new value to <code>element</code>, but uses a different variable for that new value (the first child). But notice that when the function is called recursively, the value of <code>child</code> becomes the value of the parameter-variable <code>element</code>.</p>\n"}, {"tags": [], "owner": {"reputation": 106013, "user_id": 633183, "user_type": "registered", "accept_rate": 66, "profile_image": "https://i.stack.imgur.com/RHeN9.png?s=128&g=1", "display_name": "Thank you", "link": "https://stackoverflow.com/users/633183/thank-you"}, "is_accepted": false, "score": 1, "last_activity_date": 1565213342, "creation_date": 1565213342, "answer_id": 57402512, "question_id": 57401245, "link": "https://stackoverflow.com/questions/57401245/what-is-preventing-function-from-being-called-infinitely/57402512#57402512", "title": "What is preventing function from being called infinitely?", "body": "<p>Generators enable you to do this in a more convenient way -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function* traverseDom (elem) {\r\n  yield elem\r\n  for (const child of elem.children)\r\n    yield* traverseDom(child)\r\n}\r\n\r\nconst subTree =\r\n  document.getElementById(\"subTree\")\r\n\r\nfor (const elem of traverseDom(subTree))\r\n  console.log(elem, elem.nodeName)\r\n  \r\nfor (const elem of traverseDom(subTree))\r\n  console.assert(elem !== null, elem.nodeName)</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"subTree\"&gt;\r\n  &lt;form&gt;\r\n    &lt;input type=\"text\" /&gt;\r\n  &lt;/form&gt;\r\n  &lt;p&gt;Paragraph&lt;/p&gt;\r\n  &lt;span&gt;Span&lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>If you prefer the higher-order function, that is possible as well -</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function traverseDom (f, elem) {\r\n  f(elem)\r\n  for (const child of elem.children)\r\n    traverseDom(f, child)\r\n}\r\n\r\nconst subTree =\r\n  document.getElementById(\"subTree\")\r\n\r\ntraverseDom\r\n  ( elem =&gt; console.log(elem, elem.nodeName)\r\n  , subTree\r\n  )\r\n  \r\ntraverseDom\r\n  ( elem =&gt; console.assert(elem !== null, elem.nodeName)\r\n  , subTree\r\n  )</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"subTree\"&gt;\r\n  &lt;form&gt;\r\n    &lt;input type=\"text\" /&gt;\r\n  &lt;/form&gt;\r\n  &lt;p&gt;Paragraph&lt;/p&gt;\r\n  &lt;span&gt;Span&lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 23, "user_id": 10525873, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/WzUq6.jpg?s=128&g=1", "display_name": "ShredwardNorton", "link": "https://stackoverflow.com/users/10525873/shredwardnorton"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 62, "favorite_count": 0, "accepted_answer_id": 57401276, "answer_count": 2, "score": 0, "last_activity_date": 1565213342, "creation_date": 1565206567, "last_edit_date": 1565208473, "question_id": 57401245, "link": "https://stackoverflow.com/questions/57401245/what-is-preventing-function-from-being-called-infinitely", "title": "What is preventing function from being called infinitely?", "body": "<p>The functions purpose is to traverse the DOM passing through a callback function on each child element. If traverseDom calls itself and starts the entire function over, I would expect that element = element.nextElementSibling would never be reached. Even though we would eventually hit the last child in the node tree, I would assume that nothing is stopping the function from calling itself infinitely trying to find additional children even after we\u2019ve reached the last child.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>function traverseDom(element, callback) {\r\n  callback(element);\r\n  element = element.firstElementChild;\r\n\r\n  while (element) {\r\n    traverseDom(element, callback);\r\n    element = element.nextElementSibling;\r\n  }\r\n}\r\nconst subTree = document.getElementById(\"subTree\");\r\ntraverseDom(subTree, function(element) {\r\n  console.assert(element !== null, element.nodeName);\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;div id=\"subTree\"&gt;\r\n  &lt;form&gt;\r\n    &lt;input type=\"text\" /&gt;\r\n  &lt;/form&gt;\r\n  &lt;p&gt;Paragraph&lt;/p&gt;\r\n  &lt;span&gt;Span&lt;/span&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>I expected this to run infinitely and never reach the sibling element declaration.</p>\n"}, {"tags": ["javascript", "reactjs", "react-native", "react-props", "react-state-management"], "answers": [{"tags": [], "owner": {"reputation": 3179, "user_id": 3161811, "user_type": "registered", "accept_rate": 0, "profile_image": "https://i.stack.imgur.com/66vhu.jpg?s=128&g=1", "display_name": "Shmili Breuer", "link": "https://stackoverflow.com/users/3161811/shmili-breuer"}, "is_accepted": false, "score": 0, "last_activity_date": 1565206945, "last_edit_date": 1565206945, "creation_date": 1565206633, "answer_id": 57401260, "question_id": 57401234, "link": "https://stackoverflow.com/questions/57401234/rendering-arrays-using-map-that-contains-state-variables-not-updating/57401260#57401260", "title": "Rendering arrays using .map that contains state variables - not updating", "body": "<p>You are creating the array in the componentDidMount function which is only being called once when the component first renders.</p>\n\n<p>You should do something like this</p>\n\n<pre><code>//create function\ncreateArray = () =&gt; [&lt;div&gt; {this.state.id} &lt;/div&gt;, &lt;div&gt; {this.state.id} &lt;/div&gt;]\n</code></pre>\n\n<p>then use it in your code like this</p>\n\n<pre><code>{this.createArray().map(el =&gt; el)}\n</code></pre>\n\n<p>Hope this helps.</p>\n"}, {"comments": [{"owner": {"reputation": 41, "user_id": 11898177, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ceZudmIjJXU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcnxv2uVyPrmfcrgVUx_7BtYPEr9g/photo.jpg?sz=128", "display_name": "Jose A Ocasio Serra", "link": "https://stackoverflow.com/users/11898177/jose-a-ocasio-serra"}, "edited": false, "score": 0, "creation_date": 1565276639, "post_id": 57401323, "comment_id": 101311135, "body": "I have something similar to this  <code>updateState() {  this.setState({array: [...this.state.array, &lt;div&gt;{this.state.id}&lt;&#47;div&gt;]}) }</code> This gets called just fine and renders the new element, but if I manipulate this.state.id to any number independently, the array does never update the id displayed"}, {"owner": {"reputation": 1646, "user_id": 6591688, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b96a2c6a534e4f6450c81b8c91fc3eda?s=128&d=identicon&r=PG", "display_name": "Idan", "link": "https://stackoverflow.com/users/6591688/idan"}, "reply_to_user": {"reputation": 41, "user_id": 11898177, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ceZudmIjJXU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcnxv2uVyPrmfcrgVUx_7BtYPEr9g/photo.jpg?sz=128", "display_name": "Jose A Ocasio Serra", "link": "https://stackoverflow.com/users/11898177/jose-a-ocasio-serra"}, "edited": false, "score": 0, "creation_date": 1565277521, "post_id": 57401323, "comment_id": 101311635, "body": "I update my answer - try this and tell me what happened now"}, {"owner": {"reputation": 41, "user_id": 11898177, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ceZudmIjJXU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcnxv2uVyPrmfcrgVUx_7BtYPEr9g/photo.jpg?sz=128", "display_name": "Jose A Ocasio Serra", "link": "https://stackoverflow.com/users/11898177/jose-a-ocasio-serra"}, "edited": false, "score": 0, "creation_date": 1565280643, "post_id": 57401323, "comment_id": 101313348, "body": "I can&#39;t do that. On my specific issue, the array is composed of HTML elements  that I cant predict how they will be. All  I know  is that they have a state.id that will change in the future and I need to re render that array with the re rendered value of the new id.  The update of the state.id happens independently of the update or push of elements to the array. A different control will change the id. I do not have issues seeing the new elements on the array, but I do have issues seeing the updates value that exist inside the elements in the array."}, {"owner": {"reputation": 41, "user_id": 11898177, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ceZudmIjJXU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcnxv2uVyPrmfcrgVUx_7BtYPEr9g/photo.jpg?sz=128", "display_name": "Jose A Ocasio Serra", "link": "https://stackoverflow.com/users/11898177/jose-a-ocasio-serra"}, "edited": false, "score": 0, "creation_date": 1565280949, "post_id": 57401323, "comment_id": 101313494, "body": "However, I noticed that if I do not use the array and just place the <code>&lt;div&gt;{this.state.id}&lt;&#47;div&gt;</code> element in the render function it updates just fine when I change the state.id. I suspect the issue is that the by having an array being rendered it thinks the state.id value is a static value"}], "tags": [], "owner": {"reputation": 1646, "user_id": 6591688, "user_type": "registered", "accept_rate": 33, "profile_image": "https://www.gravatar.com/avatar/b96a2c6a534e4f6450c81b8c91fc3eda?s=128&d=identicon&r=PG", "display_name": "Idan", "link": "https://stackoverflow.com/users/6591688/idan"}, "is_accepted": false, "score": 0, "last_activity_date": 1565277491, "last_edit_date": 1565277491, "creation_date": 1565206897, "answer_id": 57401323, "question_id": 57401234, "link": "https://stackoverflow.com/questions/57401234/rendering-arrays-using-map-that-contains-state-variables-not-updating/57401323#57401323", "title": "Rendering arrays using .map that contains state variables - not updating", "body": "<p>You need to save the data and render again:</p>\n\n<pre><code>state = {\n id: 2\n}\n\nupdateState() {\n  this.setState({id: 4})\n}\n\ncomponentDidMount(){\n  this.getElements(this.state.id)\n}\n\ngetElements = (id) =&gt; {\n  return [&lt;div&gt; {id} &lt;/div&gt;, &lt;div&gt; {id} &lt;/div&gt;]\n}\n\nrender() {\n {this.getElements(this.state.id).map(el =&gt; el)}\n\n //assume something happens here that triggers updateState() multiple times: buttons presses, etc\n}\n</code></pre>\n"}], "owner": {"reputation": 41, "user_id": 11898177, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-ceZudmIjJXU/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rcnxv2uVyPrmfcrgVUx_7BtYPEr9g/photo.jpg?sz=128", "display_name": "Jose A Ocasio Serra", "link": "https://stackoverflow.com/users/11898177/jose-a-ocasio-serra"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 929, "favorite_count": 0, "answer_count": 2, "score": 4, "last_activity_date": 1565277491, "creation_date": 1565206510, "question_id": 57401234, "link": "https://stackoverflow.com/questions/57401234/rendering-arrays-using-map-that-contains-state-variables-not-updating", "title": "Rendering arrays using .map that contains state variables - not updating", "body": "<p>I have an array that I am rendering on the render() function. Each element in the array is a HTML element that has state variables that I need to  display, the HTML are displaying correctly, but the internal state variables do not update even when the rendering is happening</p>\n\n<pre><code>state = {\n array: [],\n id: 2\n}\n\nupdateState() {\n this.setState({id: 4})\n}\n\ncomponentDidMount(){\n array = [&lt;div&gt; {this.state.id} &lt;/div&gt;, &lt;div&gt; {this.state.id} &lt;/div&gt;]\n}\n\nrender() {\n {this.state.array.map(el =&gt; return el)}\n\n //assume something happens here that triggers updateState() multiple times: buttons presses, etc\n}\n\n</code></pre>\n\n<p>I never see 4, it re renders but keeps the old value 2</p>\n"}, {"tags": ["javascript", "node.js", "dataframe"], "comments": [{"owner": {"reputation": 27488, "user_id": 1778465, "user_type": "registered", "accept_rate": 70, "profile_image": "https://i.stack.imgur.com/NxIPr.jpg?s=128&g=1", "display_name": "Get Off My Lawn", "link": "https://stackoverflow.com/users/1778465/get-off-my-lawn"}, "edited": false, "score": 4, "creation_date": 1565206395, "post_id": 57401192, "comment_id": 101283983, "body": "<code>async</code> functions <b>ONLY</b> return promises. You cannot return an async value within a non-async function without using async (or a promise)."}, {"owner": {"reputation": 574451, "user_id": 816620, "user_type": "registered", "accept_rate": 64, "profile_image": "https://i.stack.imgur.com/Xu7hp.jpg?s=128&g=1", "display_name": "jfriend00", "link": "https://stackoverflow.com/users/816620/jfriend00"}, "edited": false, "score": 0, "creation_date": 1565209287, "post_id": 57401192, "comment_id": 101285125, "body": "You will either need a filter interface designed for asynchronous operations or you will need to somehow prefilter or prefetch data before filtering so you can consult the data synchronously to operate the filter."}], "owner": {"reputation": 13, "user_id": 11547310, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a1d0a24cc96852fb6d38f32cb0fd8805?s=128&d=identicon&r=PG&f=1", "display_name": "mitapia", "link": "https://stackoverflow.com/users/11547310/mitapia"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 66, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565206324, "creation_date": 1565206324, "question_id": 57401192, "link": "https://stackoverflow.com/questions/57401192/need-an-async-function-running-inside-another-function-to-return-a-boolean-ins", "title": "Need an async function, running inside another function, to return a boolean instead of a promise", "body": "<p>I am trying to use the <code>chain</code> function from <code>dataframe-js</code> module, <a href=\"https://gmousse.gitbooks.io/dataframe-js/content/doc/api/dataframe.html#chain\" rel=\"nofollow noreferrer\">https://gmousse.gitbooks.io/dataframe-js/content/doc/api/dataframe.html#chain</a>, and using NodeJS.</p>\n\n<p>The documentation states <code>If a function returns boolean, it's a filter.</code> which is what I want. I need one of my filter lines to run async because part of the logic requires an API call for data that it will try to match against. </p>\n\n<p>I intended my chain to look something like this:</p>\n\n<pre><code>let filteredDf = df.chain(\n    row =&gt; ![null, '&lt;SLID&gt;'].includes(row.get('SERVICE_ACCT_NBR')), // this works fine\n    async row =&gt; {\n        const account = row.get('ACCOUNT')\n        const manager_chain = await getManagersChain(account) // API call, returns an array of managerIds \n        returns (['6G0001', '330002'].some(managerId =&gt; manager_chain.includes(managerId)))\n    }\n)\n</code></pre>\n\n<p>Need to keep accounts that contain at least one of these two managerIds</p>\n\n<p>What ends up happening is that the async function gives a Promise which is seen as <code>true</code> regardless of the actual value.</p>\n\n<p>I started a blank test file to try and figure out how to return a bool, but I can't find a solution:</p>\n\n<pre><code>const DataFrame = require('dataframe-js').DataFrame;\nlet df2 = new DataFrame([\n        {col1: '1', col2: '1a'},\n        {col1: '2', col2: '2a'},\n        {col1: '3', col2: '3a'}\n    ], ['col1', 'col2'])\n\n// non-async get [3,2]\nconsole.log(df2.chain(\n    row =&gt; true\n).dim())\n// non-async get [0,2]\nconsole.log(df2.chain(\n    row =&gt; false\n).dim())\n\n// expected [0,2] for both but got [3,2]\nconsole.log(df2.chain(\n    async row =&gt; false\n).dim())\nconsole.log(df2.chain(\n    row =&gt; (async () =&gt; false)()\n).dim())\n</code></pre>\n\n<p>How can I get the async function to return a bool so I can run that await inside of it?</p>\n"}, {"tags": ["javascript", "arrays", "angularjs", "angular-material"], "answers": [{"tags": [], "owner": {"reputation": 1013, "user_id": 11664469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e25ff15ab546620ddda37e3dcfa2d145?s=128&d=identicon&r=PG&f=1", "display_name": "Maksym Petrenko", "link": "https://stackoverflow.com/users/11664469/maksym-petrenko"}, "is_accepted": true, "score": 1, "last_activity_date": 1565206444, "creation_date": 1565206444, "answer_id": 57401215, "question_id": 57401162, "link": "https://stackoverflow.com/questions/57401162/how-do-i-pop-values-of-an-array-on-deselection-of-chips-angularjs/57401215#57401215", "title": "How do I pop values of an array on deselection of chips: AngularJS", "body": "<p>Use a <code>splice</code> method for remove element from array</p>\n\n<pre><code>$scope.setActiveFilter = function(filter, index) {\n  filter.isActive = !filter.isActive;\n\n  if (filter.isActive) {\n    $scope.selectedFilters.push(filter.code);\n    console.log('selected filter - ' + $scope.selectedFilters)\n  } else {\n    let index = $scope.selectedFilters.indexOf(filter.code);\n\n    if (index &gt; -1) {\n      $scope.selectedFilters.splice(index, 1);\n    }\n  }\n}\n</code></pre>\n"}], "owner": {"reputation": 2580, "user_id": 7004388, "user_type": "registered", "accept_rate": 67, "profile_image": "https://i.stack.imgur.com/DCCVJ.png?s=128&g=1", "display_name": "coderpc", "link": "https://stackoverflow.com/users/7004388/coderpc"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 57, "favorite_count": 0, "accepted_answer_id": 57401215, "answer_count": 1, "score": 0, "last_activity_date": 1565206444, "creation_date": 1565206194, "question_id": 57401162, "link": "https://stackoverflow.com/questions/57401162/how-do-i-pop-values-of-an-array-on-deselection-of-chips-angularjs", "title": "How do I pop values of an array on deselection of chips: AngularJS", "body": "<p>I'm implementing a filter using chips of Angular Material. When user clicks on chips, the value associated to that chip should be stored in the array. The same way, when user deselects the chip, that value should pop from the array.</p>\n\n<p>I was able to store the values but selecting and deselecting are causing addition of duplicate values in the array and I'm not able to pop them out when user deselects the chip.</p>\n\n<p>Here's the excerpt from my code.</p>\n\n<p><strong>HTML Code</strong></p>\n\n<pre><code>&lt;div layout=\"row\"&gt;\n  &lt;md-chips ng-repeat=\"filter in filters\" readOnly=\"true\"&gt;\n    &lt;md-chip ng-style=\"{'background': filter.isActive ? 'green' : '' }\" class=\"chipStyling\" ng-click=\"setActiveFilter(filter,$index)\"&gt;\n      {{filter.name}}\n    &lt;/md-chip&gt;\n  &lt;/md-chips&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p><strong>JS Code</strong></p>\n\n<pre><code>angular.module('BlankApp', ['ngMaterial', 'ngMessages'])\n  .controller('ctrl', function($scope) {\n    $scope.selectedFilters = []\n    $scope.isActive = false;\n    $scope.filters = [{\n        name: 'Google',\n        code: 'g',\n        isActive: false\n      },\n      {\n        name: 'Facebook',\n        code: 'f',\n        isActive: false\n      },\n      {\n        name: 'Twitter',\n        code: 't',\n        isActive: false\n      }\n    ]\n\n    $scope.setActiveFilter = function(filter, index) {\n      filter.isActive = !filter.isActive;\n      if (filter.isActive) {\n        $scope.selectedFilters.push(filter.code);\n        console.log('selected filter - ' + $scope.selectedFilters)\n      }\n    }\n  });\n</code></pre>\n\n<p>I created a <a href=\"https://codepen.io/chilupa/pen/EqQWBq?editors=1001\" rel=\"nofollow noreferrer\">Code Pen</a> on this issue. Could anyone please review and correct me what I was doing wrong. </p>\n"}, {"tags": ["javascript", "html"], "comments": [{"owner": {"reputation": 1035, "user_id": 5471957, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9ab5dd64f5bb608b4a5c788135931350?s=128&d=identicon&r=PG&f=1", "display_name": "SpeedOfRound", "link": "https://stackoverflow.com/users/5471957/speedofround"}, "edited": false, "score": 0, "creation_date": 1565206986, "post_id": 57401151, "comment_id": 101284235, "body": "I would recommend looking at something like xampp as a local web server. That way you don&#39;t have to upload your code to a &quot;server&quot;, but instead the server runs just on run computer."}, {"owner": {"reputation": 7, "user_id": 11810296, "user_type": "registered", "profile_image": "https://graph.facebook.com/391410691725577/picture?type=large", "display_name": "John Thompson", "link": "https://stackoverflow.com/users/11810296/john-thompson"}, "reply_to_user": {"reputation": 1035, "user_id": 5471957, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9ab5dd64f5bb608b4a5c788135931350?s=128&d=identicon&r=PG&f=1", "display_name": "SpeedOfRound", "link": "https://stackoverflow.com/users/5471957/speedofround"}, "edited": false, "score": 0, "creation_date": 1565207145, "post_id": 57401151, "comment_id": 101284299, "body": "I&#39;ll try that and let you know how it works for me"}, {"owner": {"reputation": 7, "user_id": 11810296, "user_type": "registered", "profile_image": "https://graph.facebook.com/391410691725577/picture?type=large", "display_name": "John Thompson", "link": "https://stackoverflow.com/users/11810296/john-thompson"}, "reply_to_user": {"reputation": 1035, "user_id": 5471957, "user_type": "registered", "accept_rate": 67, "profile_image": "https://www.gravatar.com/avatar/9ab5dd64f5bb608b4a5c788135931350?s=128&d=identicon&r=PG&f=1", "display_name": "SpeedOfRound", "link": "https://stackoverflow.com/users/5471957/speedofround"}, "edited": false, "score": 0, "creation_date": 1565208322, "post_id": 57401151, "comment_id": 101284740, "body": "Will xampp also accept html and javascript? I watched a setup video on youtube and the only programming languages listed were PHP and PERL."}, {"owner": {"reputation": 712, "user_id": 6813732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/iC3y6.jpg?s=128&g=1", "display_name": "sodimel", "link": "https://stackoverflow.com/users/6813732/sodimel"}, "edited": false, "score": 0, "creation_date": 1565211467, "post_id": 57401151, "comment_id": 101285964, "body": "PHP is the backend. It will help to handle the data you send to your server from your html pages. You can even use the javascript&#39;s <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" rel=\"nofollow noreferrer\">localStorage</a> api."}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1565287054, "post_id": 57401151, "comment_id": 101316143, "body": "I wonder if the issue here is that the HTML document is being loaded via <code>file:</code> and not <code>http:</code>. Local storage should work fine if you have a local web server and you are connecting via HTTP."}, {"owner": {"reputation": 7, "user_id": 11810296, "user_type": "registered", "profile_image": "https://graph.facebook.com/391410691725577/picture?type=large", "display_name": "John Thompson", "link": "https://stackoverflow.com/users/11810296/john-thompson"}, "edited": false, "score": 0, "creation_date": 1565314688, "post_id": 57401151, "comment_id": 101324122, "body": "I do not understand how to use the software xampp let alone trying to learn PHP for this. When I downloaded the xampp, it opened, it didn&#39;t leave a shortcut, and once I exited out of it, I couldn&#39;t figure out how to get back to it. I searched for it on my pc and all I found was the original xampp installer.exe I don&#39;t want to reinstall it."}, {"owner": {"reputation": 7, "user_id": 11810296, "user_type": "registered", "profile_image": "https://graph.facebook.com/391410691725577/picture?type=large", "display_name": "John Thompson", "link": "https://stackoverflow.com/users/11810296/john-thompson"}, "reply_to_user": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1565314753, "post_id": 57401151, "comment_id": 101324135, "body": "@halfer , how do I go about connecting via HTTP?"}, {"owner": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1565341442, "post_id": 57401151, "comment_id": 101331706, "body": "Serve the page from a web server, and make sure you are using <code>http:&#47;&#47;localhost</code> in your web browser. Was I correct in assuming you are using <code>file:&#47;&#47;</code> currently?"}, {"owner": {"reputation": 7, "user_id": 11810296, "user_type": "registered", "profile_image": "https://graph.facebook.com/391410691725577/picture?type=large", "display_name": "John Thompson", "link": "https://stackoverflow.com/users/11810296/john-thompson"}, "reply_to_user": {"reputation": 18763, "user_id": 472495, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/4rtxd.png?s=128&g=1", "display_name": "halfer", "link": "https://stackoverflow.com/users/472495/halfer"}, "edited": false, "score": 0, "creation_date": 1565496231, "post_id": 57401151, "comment_id": 101370335, "body": "@halfer , It was a problem with the browser I was using, my code works (almost) perfect on Google Chrome. Now I&#39;m having problems with my code after I save the state then load it. As long as I don&#39;t try to save then load my code works perfect. But for some reason, when I save, then load (all vars appear to load fine) then I execute a piece of code and things go haywire."}], "answers": [{"comments": [{"owner": {"reputation": 7, "user_id": 11810296, "user_type": "registered", "profile_image": "https://graph.facebook.com/391410691725577/picture?type=large", "display_name": "John Thompson", "link": "https://stackoverflow.com/users/11810296/john-thompson"}, "edited": false, "score": 0, "creation_date": 1565218056, "post_id": 57401449, "comment_id": 101287780, "body": "awesome, sessionStorage is working, now to get localStorage to work."}, {"owner": {"reputation": 19373, "user_id": 2008111, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mPm4Q.png?s=128&g=1", "display_name": "caramba", "link": "https://stackoverflow.com/users/2008111/caramba"}, "reply_to_user": {"reputation": 7, "user_id": 11810296, "user_type": "registered", "profile_image": "https://graph.facebook.com/391410691725577/picture?type=large", "display_name": "John Thompson", "link": "https://stackoverflow.com/users/11810296/john-thompson"}, "edited": false, "score": 0, "creation_date": 1565241039, "post_id": 57401449, "comment_id": 101292111, "body": "Localstorage works about the same, I&#39;ve updated the answer including a simple <code>localStorage</code> example. @JohnThompson if your question is answered please mark as accepted."}, {"owner": {"reputation": 7, "user_id": 11810296, "user_type": "registered", "profile_image": "https://graph.facebook.com/391410691725577/picture?type=large", "display_name": "John Thompson", "link": "https://stackoverflow.com/users/11810296/john-thompson"}, "edited": false, "score": 0, "creation_date": 1565314530, "post_id": 57401449, "comment_id": 101324105, "body": "@cramba - All that&#39;s showing up on the page is sessionStorage and localStorage with a line break in between them."}, {"owner": {"reputation": 7, "user_id": 11810296, "user_type": "registered", "profile_image": "https://graph.facebook.com/391410691725577/picture?type=large", "display_name": "John Thompson", "link": "https://stackoverflow.com/users/11810296/john-thompson"}, "edited": false, "score": 0, "creation_date": 1565315159, "post_id": 57401449, "comment_id": 101324203, "body": "@cramba- My bad man. I opened my page with Google Chrome instead of Internet Explorer this time and it works like a charm, and I marked this as accepted. The add to your rep wont show up for me because my rep is less than 15."}], "tags": [], "owner": {"reputation": 19373, "user_id": 2008111, "user_type": "registered", "accept_rate": 94, "profile_image": "https://i.stack.imgur.com/mPm4Q.png?s=128&g=1", "display_name": "caramba", "link": "https://stackoverflow.com/users/2008111/caramba"}, "is_accepted": true, "score": 1, "last_activity_date": 1565240951, "last_edit_date": 1565240951, "creation_date": 1565207481, "answer_id": 57401449, "question_id": 57401151, "link": "https://stackoverflow.com/questions/57401151/how-do-i-save-the-state-of-my-web-page-when-the-page-is-saved-on-my-pc-and-not/57401449#57401449", "title": "How do I save the state of my web page, when the page is saved on my PC and not online?", "body": "<p>Copy the following code and save it as <code>mySite.html</code> somewhere on your computer.\nThen double click the file to open in a browser. Or drag and drop the file to a browser. That should work. Nothing else is needed. To change it, just use a text editor and save it. Refresh your browser to see the changes.</p>\n\n<p>Updated code including a <code>localStorage</code> example.</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;John Thompson Site #1&lt;/title&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n  &lt;div id=\"error\"&gt;&lt;/div&gt;\n  &lt;div id=\"sessionStorage\"&gt;sessionStorage&lt;/div&gt;\n  &lt;div id=\"localStorage\"&gt;localStorage&lt;/div&gt;\n\n  &lt;script&gt;\n  // Check browser support\n  if (typeof(Storage) !== \"undefined\") {\n    // Store\n    sessionStorage.setItem(\"lastname\", \"Smith\");\n    // Store\n    sessionStorage.setItem(\"firstname\",\"John \");\n    // Retrieve and write to HTML\n    document.getElementById(\"sessionStorage\").innerHTML =\n    sessionStorage.getItem(\"firstname\")+\n    sessionStorage.getItem(\"lastname\");\n\n    // added localstorage example here\n    // store\n    localStorage.setItem('myCat', 'Tom');\n    // Retrieve and write to HTML\n    document.getElementById(\"localStorage\").innerHTML = localStorage.getItem('myCat');\n\n  } else {\n    document.getElementById(\"error\").innerHTML = \"Sorry, your browser does not support Web Storage...\";\n  }\n  &lt;/script&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"}], "owner": {"reputation": 7, "user_id": 11810296, "user_type": "registered", "profile_image": "https://graph.facebook.com/391410691725577/picture?type=large", "display_name": "John Thompson", "link": "https://stackoverflow.com/users/11810296/john-thompson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 71, "favorite_count": 0, "accepted_answer_id": 57401449, "answer_count": 1, "score": -1, "last_activity_date": 1565286987, "creation_date": 1565206120, "last_edit_date": 1565286987, "question_id": 57401151, "link": "https://stackoverflow.com/questions/57401151/how-do-i-save-the-state-of-my-web-page-when-the-page-is-saved-on-my-pc-and-not", "title": "How do I save the state of my web page, when the page is saved on my PC and not online?", "body": "<p>My web pages are saved on my PC, not online. I have .html files and .txt files to edit them. localStorage and sessionStorage won't work. I have yet to try cookies but I'm assuming they wont work either. I need to know either how to save the state of my pages to a specified path, or I need to know how to put my pages on a server so localStorage will work properly.</p>\n\n<p>I'm attempting to program a video game. I'm familiar with most aspects of video games, saving should be simpler than this. I am only familiar with html and JavaScript. Here is an example of some code that is supposed to make localStorage work, (it works fine as long as the page with the code is online).</p>\n\n<p>I've tried both localStorage and sessionStorage, but my pages are not online, they are saved on my PC.</p>\n\n<pre><code>    &lt;body&gt;\n\n&lt;div id=\"result\"&gt;&lt;/div&gt;\n\n&lt;script&gt;\n// Check browser support\nif (typeof(Storage) !== \"undefined\") {\n  // Store\n  sessionStorage.setItem(\"lastname\", \"Smith\");\n  // Store\n  sessionStorage.setItem(\"firstname\",\"John \");\n  // Retrieve\n\n  document.getElementById(\"result\").innerHTML =\n  sessionStorage.getItem(\"firstname\")+\n  sessionStorage.getItem(\"lastname\");\n\n} else {\n  document.getElementById(\"result\").innerHTML = \"Sorry, your browser does \nnot support Web Storage...\";\n}\n&lt;/script&gt;\n\n&lt;/body&gt;\n</code></pre>\n\n<p>This result of the code is supposed to read \"John Smith\" (without quotes). Actual result, nothing. Like I said, my pages are stored on my PC, I don't know how to load pages onto the web, I'm a bit of a noob there. I know the code works because I got that code from w3schools and it worked fine there. Is there a way to save the state of my page, WITHOUT uploading pages? If not, how do I upload my pages to a server?</p>\n"}, {"tags": ["javascript", "reactjs", "react-hooks"], "comments": [{"owner": {"reputation": 23, "user_id": 8914998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02def1e0fb71532712f0d6b167dcaabd?s=128&d=identicon&r=PG", "display_name": "Marcin Lubowicz", "link": "https://stackoverflow.com/users/8914998/marcin-lubowicz"}, "reply_to_user": {"reputation": 17910, "user_id": 3963067, "user_type": "registered", "accept_rate": 89, "profile_image": "https://www.gravatar.com/avatar/1e536542e9baa5c52499d61fb64f51d3?s=128&d=identicon&r=PG&f=1", "display_name": "gmoniava", "link": "https://stackoverflow.com/users/3963067/gmoniava"}, "edited": false, "score": 0, "creation_date": 1565206530, "post_id": 57401119, "comment_id": 101284038, "body": "@giorgimoniava But how to use it inside for loop?"}, {"owner": {"reputation": 369, "user_id": 1253769, "user_type": "registered", "accept_rate": 56, "profile_image": "https://www.gravatar.com/avatar/4041d48677b2c09cba67432726f8a5fa?s=128&d=identicon&r=PG", "display_name": "Nathan Hall", "link": "https://stackoverflow.com/users/1253769/nathan-hall"}, "edited": false, "score": 0, "creation_date": 1565206583, "post_id": 57401119, "comment_id": 101284058, "body": "are you using a promise? or async/await?"}], "answers": [{"tags": [], "owner": {"reputation": 23, "user_id": 8914998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02def1e0fb71532712f0d6b167dcaabd?s=128&d=identicon&r=PG", "display_name": "Marcin Lubowicz", "link": "https://stackoverflow.com/users/8914998/marcin-lubowicz"}, "is_accepted": false, "score": 0, "last_activity_date": 1565208663, "creation_date": 1565208663, "answer_id": 57401677, "question_id": 57401119, "link": "https://stackoverflow.com/questions/57401119/how-to-stop-for-loop-in-react-till-asynchronous-action-is-done/57401677#57401677", "title": "How to stop for loop in React till asynchronous action is done?", "body": "<p>I found a solution. In React we need to use useState to update arrays properly through all iterations. Here is fixed code - maybe someone will have similar problem so here is solution:</p>\n\n<pre><code>import React, {useState, useEffect} from 'react';\n\nfunction Ingredients() {\n  const [heatingStepsTime, setTime] = useState([]);\n  const [heatingStepsTimer, setTimer] = useState([]);\n\n  function getTimes(i, type) {\n    if (type === \"time\") {\n      setTimeout(() =&gt; {\n        setTime(currentTime =&gt; currentTime.concat(i))\n      },1000);\n    } else {\n      setTimeout(() =&gt; {\n        setTimer(currentTime =&gt; currentTime.concat(i))\n      }, 1000)\n    }\n  };\n\n  const getProcess = () =&gt; {\n                for (let i = 0; i &lt; 3; i++) {\n                  getTimes(i, \"time\");\n                  getTimes(i, \"timer\");\n                }\n            }\n\nuseEffect(getProcess, []);\nconsole.log(heatingStepsTime);\nconsole.log(heatingStepsTimer);\nif (heatingStepsTime[2] &amp;&amp; heatingStepsTimer[2] &amp;&amp; heatingStepsTime[2] === heatingStepsTimer[2]) {\n  console.log(\"Works!\", heatingStepsTime[1], heatingStepsTimer[1])\n}\n\n  return (\n    &lt;div className=\"App\"&gt;\n      test\n    &lt;/div&gt;\n  );\n}\n\nexport default Ingredients;\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 766, "user_id": 4838893, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/4becb137e77ce3b2675af0a1717c4e70?s=128&d=identicon&r=PG&f=1", "display_name": "Bill Cheng", "link": "https://stackoverflow.com/users/4838893/bill-cheng"}, "is_accepted": true, "score": 3, "last_activity_date": 1565208812, "creation_date": 1565208812, "answer_id": 57401706, "question_id": 57401119, "link": "https://stackoverflow.com/questions/57401119/how-to-stop-for-loop-in-react-till-asynchronous-action-is-done/57401706#57401706", "title": "How to stop for loop in React till asynchronous action is done?", "body": "<p>Try this</p>\n\n<pre><code>function App() {\n    function getTimes(i) {\n      return new Promise(resolve =&gt; {\n        setTimeout(() =&gt; {\n            resolve(i);\n        }, 1000);\n      });\n    }\n\n    const [heatingStepsTime, setHeatingStepsTime] = useState([]);\n\n    const getProcess = () =&gt; {\n      const promises = '0'.repeat(10).split('').map((c, i)=&gt;getTimes(i));\n      Promise.all(promises)\n      .then(result=&gt; setHeatingStepsTime(result));\n    };\n\n    useEffect(getProcess, []);\n\n    return (\n        &lt;div className=\"App\"&gt;\n          {heatingStepsTime.map((p,i)=&gt;&lt;div key={i}&gt;{p}&lt;/div&gt;)}\n        &lt;/div&gt;\n    );\n}\n</code></pre>\n\n<p><a href=\"https://stackblitz.com/edit/react-szrhwk\" rel=\"nofollow noreferrer\">https://stackblitz.com/edit/react-szrhwk</a></p>\n\n<blockquote>\n  <p>Explanation:</p>\n</blockquote>\n\n<pre><code>function getTimes(i) {\n      return new Promise(resolve =&gt; {\n        setTimeout(() =&gt; {\n            resolve(i);\n        }, 1000);\n      });\n    }\n</code></pre>\n\n<p>To simulate the API, you should simulate it with a promise. This timer will resolve the promise when it times out.</p>\n\n<pre><code>const [heatingStepsTime, setHeatingStepsTime] = useState([]);\n</code></pre>\n\n<p>You want to store your result into a state so that react knows to render the result</p>\n\n<pre><code>'0'.repeat(10).split('')\n</code></pre>\n\n<p>This is just to simulate your for loop... you may ignore this if you have multiple API calls... just replace it with</p>\n\n<pre><code>const promises = [apiCall1(), apiCall2()];\n</code></pre>\n\n<pre><code>Promise.all(promises)\n      .then(result=&gt; setHeatingStepsTime(result));\n</code></pre>\n\n<p>this will wait for all the promises to resolve and store the result into the state</p>\n"}], "owner": {"reputation": 23, "user_id": 8914998, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/02def1e0fb71532712f0d6b167dcaabd?s=128&d=identicon&r=PG", "display_name": "Marcin Lubowicz", "link": "https://stackoverflow.com/users/8914998/marcin-lubowicz"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 58, "favorite_count": 0, "accepted_answer_id": 57401706, "answer_count": 2, "score": 1, "last_activity_date": 1565208812, "creation_date": 1565205990, "question_id": 57401119, "link": "https://stackoverflow.com/questions/57401119/how-to-stop-for-loop-in-react-till-asynchronous-action-is-done", "title": "How to stop for loop in React till asynchronous action is done?", "body": "<p>I have a component and inside of it I am communicating with API (here I put timeout instead for simulation). I make some calls inside for loop to update arrays on current interation indexes. Finnally I want to console.log all arrays with added data. And here is the problem. Loop is going through all iterations and doesn't wait to finish asynchonous tasks so it's printing empty arrays with annotation that there are data but just came now.</p>\n\n<p>I tried to add useState but I didn't solve the problem.</p>\n\n<pre><code>import React, {useEffect} from 'react';\n\nfunction Ingredients() {\n    const heatingStepsTime = [];\n    const heatingStepsTimer = [];\n\n    function getTimes(i, type) {\n        if (type === \"time\") {\n            setTimeout(() =&gt; {\n                heatingStepsTime[i] = i;\n            }, 1000);\n        } else {\n            setTimeout(() =&gt; {\n                heatingStepsTimer[i] = i + 1;\n            }, 1000)\n        }\n    }\n\n    const getProcess = () =&gt; {\n        for (let i = 0; i &lt; 3; i++) {\n            getTimes(i, \"time\");\n            getTimes(i, \"timer\");\n        }\n    };\n\n    useEffect(getProcess, []);\n    console.log(heatingStepsTime);\n    console.log(heatingStepsTimer);\n\n    return (\n        &lt;div className=\"App\"&gt;\n            test\n        &lt;/div&gt;\n    );\n}\n\nexport default Ingredients;\n</code></pre>\n\n<p>Is there a way to stop for loop iteration in React so it will continue when asychronous tasks are done?</p>\n"}, {"tags": ["javascript", "discord", "discord.js"], "comments": [{"owner": {"reputation": 1013, "user_id": 11664469, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/e25ff15ab546620ddda37e3dcfa2d145?s=128&d=identicon&r=PG&f=1", "display_name": "Maksym Petrenko", "link": "https://stackoverflow.com/users/11664469/maksym-petrenko"}, "edited": false, "score": 0, "creation_date": 1565205957, "post_id": 57401107, "comment_id": 101283801, "body": "What is a <code>client.channels.get</code> ?"}, {"owner": {"reputation": 11354, "user_id": 1549541, "user_type": "registered", "accept_rate": 40, "profile_image": "https://www.gravatar.com/avatar/ed8b6f7fe07ba163a4da48c615542d71?s=128&d=identicon&r=PG", "display_name": "MinusFour", "link": "https://stackoverflow.com/users/1549541/minusfour"}, "edited": false, "score": 0, "creation_date": 1565206169, "post_id": 57401107, "comment_id": 101283892, "body": "That&#39;s a synchronous function (it&#39;s <code>Map.prototype.get</code>), no promise gets returned from <code>get</code> you can just <code>try</code> and <code>catch</code> it. Also, <code>get</code> doesn&#39;t throw an error if it doesn&#39;t find the property on the Map."}], "answers": [{"tags": [], "owner": {"reputation": 15224, "user_id": 7328218, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/69d338eadf83deb112f919f4c8a6052a?s=128&d=identicon&r=PG&f=1", "display_name": "Taki", "link": "https://stackoverflow.com/users/7328218/taki"}, "is_accepted": false, "score": 0, "last_activity_date": 1565206214, "creation_date": 1565206214, "answer_id": 57401168, "question_id": 57401107, "link": "https://stackoverflow.com/questions/57401107/discord-how-would-you-catch-a-err/57401168#57401168", "title": "Discord: How would you catch a err?", "body": "<p><code>client.channels.get()</code> is returning <code>undefined</code> and <code>undefined</code> does not have a <code>catch</code> method,</p>\n\n<p>you can put your code in a <code>try/catch</code> block :</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>let guildnamehere;\r\n\r\ntry {\r\n  guildnamehere = client.channels.get(\"557505411381461025\")\r\n} catch (e) {\r\n  guildnamehere = \"fallback value\";\r\n  console.error(e);\r\n}\r\n\r\nconsole.log(guildnamehere);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 49, "user_id": 11799017, "user_type": "registered", "profile_image": "https://lh3.googleusercontent.com/-_t-cJwk0_t8/AAAAAAAAAAI/AAAAAAAAAAA/ACHi3rdgMCJWrIPDOEcAXhhyPf45_ZVMVg/photo.jpg?sz=128", "display_name": "Surve", "link": "https://stackoverflow.com/users/11799017/surve"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 69, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565206214, "creation_date": 1565205901, "question_id": 57401107, "link": "https://stackoverflow.com/questions/57401107/discord-how-would-you-catch-a-err", "title": "Discord: How would you catch a err?", "body": "<p>I'm trying to catch errors from commands and have them logged to the console but it keeps returning with: </p>\n\n<pre><code>Cannot read property 'catch' of undefined\n</code></pre>\n\n<p>I have tried to use: </p>\n\n<pre><code>.catch(console.error);\n</code></pre>\n\n<p>but this did not return any luck.</p>\n\n<p>My current code:</p>\n\n<pre><code>  let guildnamehere = client.channels.get(\"557505411381461025\")\n  .catch(console.error);\n</code></pre>\n\n<p>I expected this to log any errors to the console.</p>\n"}, {"tags": ["javascript", "node.js", "express", "heroku", "ejs"], "comments": [{"owner": {"reputation": 213, "user_id": 9309869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7f3b136e6aed344d4157a4780bb95a7?s=128&d=identicon&r=PG&f=1", "display_name": "S&#225;ndor Bakos", "link": "https://stackoverflow.com/users/9309869/s%c3%a1ndor-bakos"}, "edited": false, "score": 0, "creation_date": 1565217260, "post_id": 57401092, "comment_id": 101287590, "body": "H12 means it the request times out. I tested locally and changed at the and of the code <code>res.render(&quot;home&quot;, {data: Data});</code> to <code>res.send({data: Data});</code> and it took the server 5sec to send, which is not the end of the world. I would deploy the application this way and try to examine the response. If you receive the proper data back without this timeout error, you should doublecheck the res.render function."}, {"owner": {"reputation": 87, "user_id": 11756773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04bfd78124e0a89e0b768c9bec766e95?s=128&d=identicon&r=PG&f=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/11756773/amir"}, "reply_to_user": {"reputation": 213, "user_id": 9309869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7f3b136e6aed344d4157a4780bb95a7?s=128&d=identicon&r=PG&f=1", "display_name": "S&#225;ndor Bakos", "link": "https://stackoverflow.com/users/9309869/s%c3%a1ndor-bakos"}, "edited": false, "score": 0, "creation_date": 1565270088, "post_id": 57401092, "comment_id": 101307020, "body": "But how should I render the home ejs file then?"}, {"owner": {"reputation": 213, "user_id": 9309869, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/d7f3b136e6aed344d4157a4780bb95a7?s=128&d=identicon&r=PG&f=1", "display_name": "S&#225;ndor Bakos", "link": "https://stackoverflow.com/users/9309869/s%c3%a1ndor-bakos"}, "edited": false, "score": 0, "creation_date": 1565270188, "post_id": 57401092, "comment_id": 101307088, "body": "I meant it just for debugging purposes. Try if you can get something back from the service through heroku."}, {"owner": {"reputation": 3964, "user_id": 10262805, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/zQvN3.jpg?s=128&g=1", "display_name": "Yilmaz", "link": "https://stackoverflow.com/users/10262805/yilmaz"}, "edited": false, "score": 0, "creation_date": 1606367314, "post_id": 57401092, "comment_id": 114944337, "body": "hi! did you fix the issue. I have similar issue. my code is working locally, however heroku gives me h12 error"}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 11756773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04bfd78124e0a89e0b768c9bec766e95?s=128&d=identicon&r=PG&f=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/11756773/amir"}, "edited": false, "score": 0, "creation_date": 1565271217, "post_id": 57403110, "comment_id": 101307809, "body": "Normally when I run the app locally, it takes literally 2 seconds to load the page."}, {"owner": {"reputation": 87, "user_id": 11756773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04bfd78124e0a89e0b768c9bec766e95?s=128&d=identicon&r=PG&f=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/11756773/amir"}, "edited": false, "score": 0, "creation_date": 1565277054, "post_id": 57403110, "comment_id": 101311364, "body": "I don&#39;t have much experience with node. Can you show me how will my program look like as a worker dyno?"}], "tags": [], "owner": {"reputation": 845, "user_id": 1438490, "user_type": "registered", "accept_rate": 80, "profile_image": "https://www.gravatar.com/avatar/2b5a2a06d400bab9b28da10fde90accf?s=128&d=identicon&r=PG", "display_name": "Scott Jacobsen", "link": "https://stackoverflow.com/users/1438490/scott-jacobsen"}, "is_accepted": false, "score": 0, "last_activity_date": 1565217777, "creation_date": 1565217777, "answer_id": 57403110, "question_id": 57401092, "link": "https://stackoverflow.com/questions/57401092/heroku-h12-request-timeout-error-with-node-js-application/57403110#57403110", "title": "Heroku &#39;H12&#39; request timeout error with Node JS application", "body": "<p>An H12 means it takes more than 30 seconds for your app to finish responding to the request. <a href=\"https://devcenter.heroku.com/articles/error-codes#h12-request-timeout\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/error-codes#h12-request-timeout</a></p>\n\n<p>It could easily take more than 30 seconds to ping all those hosts. Have you timed it in a development environment?</p>\n\n<p>On heroku long running tasks should be run on a worker dyno. In this case a worker could periodically ping those hosts and write the results to some kind of data store (redis or postgres). The web app would simply pull the results from the data store and render the page.</p>\n\n<p>Heroku has some good documentation here <a href=\"https://devcenter.heroku.com/articles/node-redis-workers\" rel=\"nofollow noreferrer\">https://devcenter.heroku.com/articles/node-redis-workers</a></p>\n"}], "owner": {"reputation": 87, "user_id": 11756773, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/04bfd78124e0a89e0b768c9bec766e95?s=128&d=identicon&r=PG&f=1", "display_name": "Amir", "link": "https://stackoverflow.com/users/11756773/amir"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 2087, "favorite_count": 0, "answer_count": 1, "score": 3, "last_activity_date": 1565217777, "creation_date": 1565205843, "last_edit_date": 1565213417, "question_id": 57401092, "link": "https://stackoverflow.com/questions/57401092/heroku-h12-request-timeout-error-with-node-js-application", "title": "Heroku &#39;H12&#39; request timeout error with Node JS application", "body": "<p>I have deployed a Node js app on Heroku and I get the error H12 request timeout when I try to launch it. Not sure what is wrong with my app.js file. I am using node, express, and ejs for templating. Maybe I have a lot going on in my GET method. Any help with H12 error will be appreciated. </p>\n\n<p>My Code: </p>\n\n<pre><code>const express = require(\"express\");\nconst ejs = require(\"ejs\");\nconst ping = require('ping');\nconst app = express();\n\napp.set('view engine', 'ejs');\n\napp.get(\"/\", function(req, res){\n    var Data = [];\n    const hosts = [\n        '8.8.8.8',\n        'nibbler',\n        '10.204.2.14',\n        'nic-bqnbnntkwq.dynamic-m.com',\n        'co-omaha-wired-qqrrbzpgwq.dynamic-m.com',\n        'co-austin-cjjbbdqcwq.dynamic-m.com',\n        'fctx-wired-vtwpbhcgwq.dynamic-m.com',\n        '172.16.10.1',\n        'fc-greenwood-dzrrbnzqwq.dynamic-m.com',\n        'fcpa-3400-wired-nndkzwnrwq.dynamic-m.com',\n        'fcpa-chrome-gwmjjghjwq.dynamic-m.com',\n        'fcga-wired-bjkwtcjqwq.dynamic-m.com',\n    ];   \n\n    for(var i =0; i&lt;hosts.length; i++){\n        ping.promise.probe(hosts[i]).then(function (resp) {\n\n            const destination = ['Azure DC','FC Nevada','Google DNS', 'Austin', 'Omaha', \n            'FC Greenwood', 'FC Georgia', 'FC Pennsylvania 3500', 'FC Pennsylvania 35400', \n            'FC Dallas', 'Nibbler DNS', 'NIC'];\n\n            if(resp.alive){\n                const input = {\n                    \"Destination\": \"\",\n                    \"Host\": resp.host,\n                    \"Status\": \"Alive\",\n                    \"Avg\": resp.avg\n                }\n                Data.push(input);\n            }\n            else {\n                const input = {\n                    \"Destination\": \"\",\n                    \"Host\": resp.host,\n                    \"Status\": \"Dead\",\n                    \"Avg\": resp.avg\n                }\n                Data.push(input);\n            }\n            if(Data.length == 12){\n                Data.sort(function(a, b) {\n                    var A = a.Host.toUpperCase();\n                    var B = b.Host.toUpperCase();\n                    return (A &lt; B) ? -1 : (A &gt; B) ? 1 : 0;\n                });\n                for(var i = 0; i&lt;destination.length; i++){\n                    Data[i].Destination = destination[i];\n                }\n                res.render(\"home\", {data: Data});\n            }   \n        });\n    }\n});\n\napp.listen(process.env.PORT || 3000);\n</code></pre>\n"}, {"tags": ["javascript", "qt", "qml", "qtquick2", "qtquickcontrols2"], "comments": [{"owner": {"reputation": 7319, "user_id": 2667360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKqx3.png?s=128&g=1", "display_name": "Benjamin T", "link": "https://stackoverflow.com/users/2667360/benjamin-t"}, "edited": false, "score": 0, "creation_date": 1565211469, "post_id": 57401067, "comment_id": 101285966, "body": "What is the size in pixel of the image?"}, {"owner": {"reputation": 10381, "user_id": 2981610, "user_type": "registered", "accept_rate": 56, "profile_image": "https://i.stack.imgur.com/BYsd3.jpg?s=128&g=1", "display_name": "folibis", "link": "https://stackoverflow.com/users/2981610/folibis"}, "edited": false, "score": 1, "creation_date": 1565253646, "post_id": 57401067, "comment_id": 101297496, "body": "As for me I&#39;ve never seen so terrible consumption on Windows and Linux. Usually it takes maybe 200% of the images sizes, ok cache etc. Unfortunately I can&#39;t test it in Mac. Anyway, if you want to just show images I mean no effects etc, you can write your custom Item which just paint image on the canvas and nothing else."}, {"owner": {"reputation": 79, "user_id": 1467985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45f7f23aab2d4eb482e0676beb7a4164?s=128&d=identicon&r=PG", "display_name": "Edwin Fernandez", "link": "https://stackoverflow.com/users/1467985/edwin-fernandez"}, "reply_to_user": {"reputation": 7319, "user_id": 2667360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKqx3.png?s=128&g=1", "display_name": "Benjamin T", "link": "https://stackoverflow.com/users/2667360/benjamin-t"}, "edited": false, "score": 0, "creation_date": 1565271575, "post_id": 57401067, "comment_id": 101308048, "body": "@BenjaminT The size in pixels is 11,000 x 11,000"}], "answers": [{"tags": [], "owner": {"reputation": 7319, "user_id": 2667360, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kKqx3.png?s=128&g=1", "display_name": "Benjamin T", "link": "https://stackoverflow.com/users/2667360/benjamin-t"}, "is_accepted": true, "score": 4, "last_activity_date": 1565273363, "creation_date": 1565273363, "answer_id": 57414572, "question_id": 57401067, "link": "https://stackoverflow.com/questions/57401067/why-is-qml-image-taking-up-so-much-memory-slowing-down-application/57414572#57414572", "title": "Why is QML Image taking up so much memory? Slowing down application", "body": "<p>The PNG file size is not relevant to the RAM usage at runtime.\nImages stored as PNG are compressed and therefore can have a very low size.</p>\n\n<p>When you load and display a PNG image in a program, the image is decompressed and much more memory is used.</p>\n\n<p>Typically for an image with 4 channels (RGBA) with 8 bits per channel, the memory footprint will be:</p>\n\n<pre><code>memory = 1 byte * 4 channels * width * height\n</code></pre>\n\n<ul>\n<li>For a 1920x1080 image it will give 8,100 KiB.</li>\n<li>For a 4K image: 32,400 KiB</li>\n<li>For an 11,000x11,000 image: <strong>462 MiB</strong></li>\n</ul>\n\n<p>So a consumption of a few GB of RAM for a program loading multiple 11,000x11,000 images is not surprising.</p>\n\n<p>Still the reported consumption of 1.39 GB is a bit surprising for a single image. But there are several possible explanations:</p>\n\n<ul>\n<li>Qt (and OpenGL) needs to make and store copy of the image.</li>\n<li>Your PNG uses more than 8 bits per channels. I think that PNG can go up to 16 bits per channel. If it is your case it will double the RAM consumption.</li>\n<li>The image storage has memory overhead for big images, leading to increase memory consumption.</li>\n<li>There is a bug somewhere...</li>\n</ul>\n\n<p>There are possible solutions for reducing the memory footprint, but I think they all requires to reduce the image size. Given that most screens are 4K or less, you never need to display all the image pixels at a given time. So what you could do is crop or resize the image to what you exactly need. This can be done statically (i.e you do it yourself before compiling), or dynamically at runtime: you load the image, compute the reduced image and unload the original image.</p>\n"}, {"comments": [{"owner": {"reputation": 612, "user_id": 6921622, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d40276838381d3c015ab20af339f4b23?s=128&d=identicon&r=PG&f=1", "display_name": "Miguel Angel Pons", "link": "https://stackoverflow.com/users/6921622/miguel-angel-pons"}, "edited": false, "score": 0, "creation_date": 1576595781, "post_id": 59377117, "comment_id": 104946536, "body": "also, you can use a QQuickImageProvider to resize images in C++ before loading"}], "tags": [], "owner": {"reputation": 612, "user_id": 6921622, "user_type": "registered", "accept_rate": 0, "profile_image": "https://www.gravatar.com/avatar/d40276838381d3c015ab20af339f4b23?s=128&d=identicon&r=PG&f=1", "display_name": "Miguel Angel Pons", "link": "https://stackoverflow.com/users/6921622/miguel-angel-pons"}, "is_accepted": false, "score": 0, "last_activity_date": 1576595576, "creation_date": 1576595576, "answer_id": 59377117, "question_id": 57401067, "link": "https://stackoverflow.com/questions/57401067/why-is-qml-image-taking-up-so-much-memory-slowing-down-application/59377117#59377117", "title": "Why is QML Image taking up so much memory? Slowing down application", "body": "<p>you can try this QML Image properties to try to resize image</p>\n\n<pre><code> sourceSize.height:height\n sourceSize.width: width\n</code></pre>\n\n<p><a href=\"https://doc.qt.io/qt-5/qml-qtquick-image.html#sourceSize-prop\" rel=\"nofollow noreferrer\">https://doc.qt.io/qt-5/qml-qtquick-image.html#sourceSize-prop</a></p>\n"}], "owner": {"reputation": 79, "user_id": 1467985, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/45f7f23aab2d4eb482e0676beb7a4164?s=128&d=identicon&r=PG", "display_name": "Edwin Fernandez", "link": "https://stackoverflow.com/users/1467985/edwin-fernandez"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 642, "favorite_count": 1, "accepted_answer_id": 57414572, "answer_count": 2, "score": 1, "last_activity_date": 1576595576, "creation_date": 1565205766, "last_edit_date": 1565206077, "question_id": 57401067, "link": "https://stackoverflow.com/questions/57401067/why-is-qml-image-taking-up-so-much-memory-slowing-down-application", "title": "Why is QML Image taking up so much memory? Slowing down application", "body": "<p>My Qt Quick application is slowing down and consuming way too much memory when I load Images. I am loading around 5 PNG images that are large, about 50MB each.</p>\n\n<p>See the size here:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eTJpp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eTJpp.png\" alt=\"enter image description here\"></a></p>\n\n<p>Before loading the Images the memory consumption of the app is about 300MB, not too bad...Then when I load the 5 Images it jumps to 4.4 GB and stays there! ( I tried calling gc() on completed, it did nothing)</p>\n\n<p>So I did some experiments. I wrote this basic application, just a QML Image. I executed without an image source, and the memory was 28.7 MB</p>\n\n<pre><code>import QtQuick 2.12\nimport QtQuick.Controls 2.3\n\nImage {\n    id: imageId\n    anchors.fill: parent\n    fillMode: Image.PreserveAspectFit\n    anchors.centerIn: parent\n    //source: 'test_images/1.png'\n}\n</code></pre>\n\n<p>This is a screen capture from Mac's 'Activity Monitor'</p>\n\n<p><a href=\"https://i.stack.imgur.com/KjpE6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KjpE6.png\" alt=\"enter image description here\"></a></p>\n\n<p>When I added the 50MB image as the source the memory consumption jumped to 1.39GB and stayed there! Even after gc() which did nothing...</p>\n\n<pre><code>import QtQuick 2.12\nimport QtQuick.Controls 2.3\n\nImage {\n    id: imageId\n    anchors.fill: parent\n    fillMode: Image.PreserveAspectFit\n    anchors.centerIn: parent\n    source: 'test_images/1.png'\n}\n</code></pre>\n\n<p>Another screen capture from 'Activity Monitor'</p>\n\n<p><a href=\"https://i.stack.imgur.com/IMbLd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IMbLd.png\" alt=\"enter image description here\"></a></p>\n\n<p>What is happening to this Image object to make it consume 1.39GB of memory! The image is only 50MB! This is the root of my problems with my app and it is making my application almost unusable. This is a major problem for the QtQuick platform. </p>\n\n<p>Any comments or suggestions on how to resolve this? Thanks! I am using Qt 5.12</p>\n"}, {"tags": ["javascript"], "comments": [{"owner": {"reputation": 8450, "user_id": 3462319, "user_type": "registered", "accept_rate": 85, "profile_image": "https://www.gravatar.com/avatar/89268869f7b0ba2846aecad61a51b458?s=128&d=identicon&r=PG&f=1", "display_name": "depperm", "link": "https://stackoverflow.com/users/3462319/depperm"}, "edited": false, "score": 0, "creation_date": 1565205670, "post_id": 57401034, "comment_id": 101283668, "body": "<code>!</code> negates a boolean, so not not false is false....not false is true and not true is false"}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 4, "creation_date": 1565205706, "post_id": 57401034, "comment_id": 101283680, "body": "<code>&#39;0&#39;</code> is a non-empty string, so it&#39;s <code>true</code>"}, {"owner": {"reputation": 3621, "user_id": 6188402, "user_type": "registered", "accept_rate": 77, "profile_image": "https://www.gravatar.com/avatar/a8bdb7cbe81f5544f0ddc6ded12a23f1?s=128&d=identicon&r=PG&f=1", "display_name": "Washington Guedes", "link": "https://stackoverflow.com/users/6188402/washington-guedes"}, "edited": false, "score": 0, "creation_date": 1565205719, "post_id": 57401034, "comment_id": 101283690, "body": "If you are trying to check just numbers and not strings you can use <code>!!+</code>"}, {"owner": {"reputation": 254, "user_id": 6534435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b8d5d8a0512ef6e89b7e9540e3f3511?s=128&d=identicon&r=PG&f=1", "display_name": "heyza22", "link": "https://stackoverflow.com/users/6534435/heyza22"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1565205976, "post_id": 57401034, "comment_id": 101283803, "body": "@Pointy then why console.log(&#39;0&#39; == false) is true"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565205988, "post_id": 57401034, "comment_id": 101283808, "body": "The real question is why <code>&#39;0&#39; == false</code> evaluates to <code>true</code>, since <code>&#39;0&#39;</code> is a non-empty string. My guess is that <code>&#39;0&#39; == false</code> because the string is cast to an int, and <code>0</code> is falsey."}, {"owner": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 1, "creation_date": 1565206056, "post_id": 57401034, "comment_id": 101283841, "body": "@heyza22 it is not <code>true</code>, that statement logs <code>false</code>."}, {"owner": {"reputation": 254, "user_id": 6534435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b8d5d8a0512ef6e89b7e9540e3f3511?s=128&d=identicon&r=PG&f=1", "display_name": "heyza22", "link": "https://stackoverflow.com/users/6534435/heyza22"}, "reply_to_user": {"reputation": 369690, "user_id": 182668, "user_type": "registered", "accept_rate": 68, "profile_image": "https://www.gravatar.com/avatar/b19917aa04a6839aef577f1117c71d48?s=128&d=identicon&r=PG", "display_name": "Pointy", "link": "https://stackoverflow.com/users/182668/pointy"}, "edited": false, "score": 0, "creation_date": 1565206295, "post_id": 57401034, "comment_id": 101283947, "body": "@Pointy I meant &#39;0&#39; == false you said that &#39;0&#39; is true. where console.log(&#39;0&#39; == false) gives true"}, {"owner": {"reputation": 2431, "user_id": 10323164, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/oKWyt.jpg?s=128&g=1", "display_name": "Chris Li", "link": "https://stackoverflow.com/users/10323164/chris-li"}, "edited": false, "score": 3, "creation_date": 1565206403, "post_id": 57401034, "comment_id": 101283990, "body": "here&#39;s my understanding which may not be correct. when you compare two values of different type with ==, javascript will convert both operands to the same type and then do strict comparision(&#39;===&#39;), so &#39;0&#39; == false should be converted to 0 === 0, which is true."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1565206404, "post_id": 57401034, "comment_id": 101283991, "body": "<code>&#39;0&#39;</code> on its own evaluates to <code>true</code>. <code>&#39;0&#39; == false</code> is also <code>true</code> though because in order to compare them, the <code>==</code> causes both to be cast to the same type, in this case int. So <code>&#39;0&#39;</code> becomes <code>0</code>, and so does <code>false</code>. Still, this question is a duplicate and was already marked as such. The answers in the dupe explain this."}, {"owner": {"reputation": 254, "user_id": 6534435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b8d5d8a0512ef6e89b7e9540e3f3511?s=128&d=identicon&r=PG&f=1", "display_name": "heyza22", "link": "https://stackoverflow.com/users/6534435/heyza22"}, "reply_to_user": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565206482, "post_id": 57401034, "comment_id": 101284018, "body": "@ChrisG sure but why is not !!&#39;0&#39; cast in the same way? why !!&#39;0&#39; == false is false why it doesn&#39;t have the same logic as &#39;0&#39;"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1565206535, "post_id": 57401034, "comment_id": 101284042, "body": "The <code>!!</code> is applied before the comparison. It comes down to order of operations. <code>2 + 3 == 5</code> becomes <code>5 == 5</code>, not <code>2 + false</code>."}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 1, "creation_date": 1565207107, "post_id": 57401034, "comment_id": 101284280, "body": "Final comment: <code>!!&#39;0&#39; == false</code> is not <code>!!(&#39;0&#39; == false)</code> but <code>(!!&#39;0&#39;) == false</code>."}], "answers": [{"comments": [{"owner": {"reputation": 254, "user_id": 6534435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b8d5d8a0512ef6e89b7e9540e3f3511?s=128&d=identicon&r=PG&f=1", "display_name": "heyza22", "link": "https://stackoverflow.com/users/6534435/heyza22"}, "edited": false, "score": 0, "creation_date": 1565206384, "post_id": 57401058, "comment_id": 101283978, "body": "I didn&#39;t downvote, but &#39;0&#39; == false in my console.log(&#39;0&#39; == false) gives true. so its not seen as a not empty  string"}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "reply_to_user": {"reputation": 254, "user_id": 6534435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b8d5d8a0512ef6e89b7e9540e3f3511?s=128&d=identicon&r=PG&f=1", "display_name": "heyza22", "link": "https://stackoverflow.com/users/6534435/heyza22"}, "edited": false, "score": 0, "creation_date": 1565206591, "post_id": 57401058, "comment_id": 101284064, "body": "@heyza22 when you use <code>==</code> it tries to cerce both the values to the same type, so when it coerce <code>0</code> to boolean it is falsy, so you get <code>&#39;0&#39; == false</code> as true"}, {"owner": {"reputation": 254, "user_id": 6534435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b8d5d8a0512ef6e89b7e9540e3f3511?s=128&d=identicon&r=PG&f=1", "display_name": "heyza22", "link": "https://stackoverflow.com/users/6534435/heyza22"}, "edited": false, "score": 0, "creation_date": 1565206691, "post_id": 57401058, "comment_id": 101284113, "body": "but then why does the same logic not apply for !!&#39;0&#39; == false then it gives false"}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "reply_to_user": {"reputation": 254, "user_id": 6534435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b8d5d8a0512ef6e89b7e9540e3f3511?s=128&d=identicon&r=PG&f=1", "display_name": "heyza22", "link": "https://stackoverflow.com/users/6534435/heyza22"}, "edited": false, "score": 1, "creation_date": 1565206743, "post_id": 57401058, "comment_id": 101284126, "body": "@heyza22 because <code>!</code> is having higher precedence than <code>==</code> so it is evaluated first and than <code>==</code> is evaluated"}, {"owner": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1565209923, "post_id": 57401058, "comment_id": 101285387, "body": "What is <code>ture</code>?"}, {"owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "reply_to_user": {"reputation": 40275, "user_id": 3744304, "user_type": "registered", "accept_rate": 75, "profile_image": "https://i.stack.imgur.com/17uwe.jpg?s=128&g=1", "display_name": "connexo", "link": "https://stackoverflow.com/users/3744304/connexo"}, "edited": false, "score": 0, "creation_date": 1565228171, "post_id": 57401058, "comment_id": 101289690, "body": "@connexo a typo !!!"}], "tags": [], "owner": {"reputation": 33687, "user_id": 9624435, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/h44B4.jpg?s=128&g=1", "display_name": "Code Maniac", "link": "https://stackoverflow.com/users/9624435/code-maniac"}, "is_accepted": false, "score": 1, "last_activity_date": 1565228140, "last_edit_date": 1565228140, "creation_date": 1565205729, "answer_id": 57401058, "question_id": 57401034, "link": "https://stackoverflow.com/questions/57401034/why-is-0-true-when-0-false/57401058#57401058", "title": "Why is !!&#39;0&#39; == true when &#39;0&#39; == false", "body": "<p>string zero ('0') is a truthy value</p>\n\n<p><code>!!'0' == true</code></p>\n\n<pre><code>!'0' -&gt; !false -&gt; true\n</code></pre>\n\n<p>So you're actually doing</p>\n\n<p><code>true == true</code>  </p>\n"}, {"tags": [], "owner": {"reputation": 4756, "user_id": 10001688, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/kvhzK.jpg?s=128&g=1", "display_name": "Michael Bianconi", "link": "https://stackoverflow.com/users/10001688/michael-bianconi"}, "is_accepted": false, "score": 0, "last_activity_date": 1565205924, "creation_date": 1565205924, "answer_id": 57401108, "question_id": 57401034, "link": "https://stackoverflow.com/questions/57401034/why-is-0-true-when-0-false/57401108#57401108", "title": "Why is !!&#39;0&#39; == true when &#39;0&#39; == false", "body": "<p>It looks like you stumbled across the importance of the <code>===</code> operator.</p>\n\n<pre><code>'0' == false;  // true\n'0' === false; // false\n\nBoolean('0');  // true\n\ntypeof('0');   // string\ntypeof(!'0');  // boolean\n\n!'0' === false; // true\n!!'0' === false // false\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 254, "user_id": 6534435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b8d5d8a0512ef6e89b7e9540e3f3511?s=128&d=identicon&r=PG&f=1", "display_name": "heyza22", "link": "https://stackoverflow.com/users/6534435/heyza22"}, "edited": false, "score": 0, "creation_date": 1565206636, "post_id": 57401250, "comment_id": 101284084, "body": "yes, but console.log(&#39;0&#39; == false) is true"}, {"owner": {"reputation": 7845, "user_id": 5734311, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/7iVq7.jpg?s=128&g=1", "display_name": "Chris G", "link": "https://stackoverflow.com/users/5734311/chris-g"}, "edited": false, "score": 0, "creation_date": 1565206671, "post_id": 57401250, "comment_id": 101284106, "body": "This, like pretty much all previous answers, fails to address why <code>&#39;0&#39; == false</code> evaluates to <code>true</code>... which is explained in the dupe, <b>as which this is already marked</b>."}, {"owner": {"reputation": 4469, "user_id": 479156, "user_type": "registered", "accept_rate": 92, "profile_image": "https://i.stack.imgur.com/x9N3C.jpg?s=128&g=1", "display_name": "Ivar", "link": "https://stackoverflow.com/users/479156/ivar"}, "reply_to_user": {"reputation": 254, "user_id": 6534435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b8d5d8a0512ef6e89b7e9540e3f3511?s=128&d=identicon&r=PG&f=1", "display_name": "heyza22", "link": "https://stackoverflow.com/users/6534435/heyza22"}, "edited": false, "score": 1, "creation_date": 1565206898, "post_id": 57401250, "comment_id": 101284196, "body": "@heyza22 Those are two different things. Truthy/Falsy only applies when it is used in a boolean context. When you use <code>!</code> it inverts the boolean so it is seen in a Boolean context (so <code>&#39;0&#39;</code> is truthy and negating it twice becomes <code>true</code>). That is not the case when you use <code>&#39;0&#39; == true</code>, because there the rules of Abstract Equality Comparison are used which converts both values to the same type before comparing. In that case <code>&#39;0&#39;</code> is converted to a number (<code>0</code>) instead of a boolean (<code>true</code>)."}, {"owner": {"reputation": 8979, "user_id": 1815231, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/NAv71.jpg?s=128&g=1", "display_name": "Alireza", "link": "https://stackoverflow.com/users/1815231/alireza"}, "reply_to_user": {"reputation": 254, "user_id": 6534435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b8d5d8a0512ef6e89b7e9540e3f3511?s=128&d=identicon&r=PG&f=1", "display_name": "heyza22", "link": "https://stackoverflow.com/users/6534435/heyza22"}, "edited": false, "score": 0, "creation_date": 1565207493, "post_id": 57401250, "comment_id": 101284442, "body": "@heyza22 The case you mentioned in your comment is not relevant to the initial question. Anyways, I updated the answer. Hope it clears everything."}], "tags": [], "owner": {"reputation": 8979, "user_id": 1815231, "user_type": "registered", "accept_rate": 31, "profile_image": "https://i.stack.imgur.com/NAv71.jpg?s=128&g=1", "display_name": "Alireza", "link": "https://stackoverflow.com/users/1815231/alireza"}, "is_accepted": false, "score": -1, "last_activity_date": 1565211440, "last_edit_date": 1565211440, "creation_date": 1565206588, "answer_id": 57401250, "question_id": 57401034, "link": "https://stackoverflow.com/questions/57401034/why-is-0-true-when-0-false/57401250#57401250", "title": "Why is !!&#39;0&#39; == true when &#39;0&#39; == false", "body": "<p>The first negation converts string <code>'0'</code> to a boolean by calling of abstract function <code>ToBoolean</code>. According to <code>JavaScript</code> <a href=\"https://www.ecma-international.org/ecma-262/7.0/#sec-toboolean\" rel=\"nofollow noreferrer\">specification</a>, only 7 values are evaluated/coerced/converted to false i.e are falsy:\n<code>null</code>, <code>undefined</code>, <code>NaN</code>, Empty String, <code>+0</code>, <code>-0</code>, and <code>false</code>.</p>\n\n<p>So, <code>'0'</code> is evaluted to a truthy, <code>!'0'</code> to <code>false</code> and <code>!!'0'</code> to true.</p>\n\n<p><strong>PS</strong>: Another cases of why <code>'0' == false</code> is evaluated to <code>true</code> is raised after the original question by the OP in a comment below. Even though not relevant to the original post, here is the explanation:</p>\n\n<p>In the specification, section <a href=\"https://www.ecma-international.org/ecma-262/7.0/#sec-abstract-equality-comparison\" rel=\"nofollow noreferrer\">Abstract Equality Comparison</a> reads: \"<em>When evaluating <code>x == y</code>, if the type of <code>y</code> is <code>Boolean</code>, first convert <code>y</code> to <code>Number</code> and then do the comparison again</em>\". </p>\n\n<p>So <code>Number(false)</code> is evaluated to <code>0</code>. In the next comparison run, string <code>'0'</code> is compared with number <code>0</code> i.e <code>'0' == 0</code>. The spec says convert the string to number and do the comparison again: <code>0 == 0</code>.</p>\n"}], "owner": {"reputation": 254, "user_id": 6534435, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/5b8d5d8a0512ef6e89b7e9540e3f3511?s=128&d=identicon&r=PG&f=1", "display_name": "heyza22", "link": "https://stackoverflow.com/users/6534435/heyza22"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 160, "favorite_count": 0, "closed_date": 1565206724, "answer_count": 3, "score": 1, "last_activity_date": 1565228140, "creation_date": 1565205601, "question_id": 57401034, "link": "https://stackoverflow.com/questions/57401034/why-is-0-true-when-0-false", "closed_reason": "Duplicate", "title": "Why is !!&#39;0&#39; == true when &#39;0&#39; == false", "body": "<p>The question says it all as I understand !!false = false </p>\n\n<p>Then if </p>\n\n<pre><code>0 == false // true \n'0' == false // true \n</code></pre>\n\n<p>why </p>\n\n<pre><code>!!0 == false \n!!'0' == true\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 31001, "user_id": 1889685, "user_type": "registered", "accept_rate": 100, "profile_image": "https://www.gravatar.com/avatar/b1eaaaf6060e7bcb688774211ae8924b?s=128&d=identicon&r=PG", "display_name": "Christos Lytras", "link": "https://stackoverflow.com/users/1889685/christos-lytras"}, "edited": false, "score": 0, "creation_date": 1582400287, "post_id": 57401011, "comment_id": 106767492, "body": "<code>setTimeout</code> if for one iteration only. It&#39;s not performance wise thew way you&#39;re using <code>setTimeout</code> to create a continuous timer. If you want a timer for a countdown then you should use <code>setInterval</code> and <code>clearInterval</code>."}], "owner": {"reputation": 11, "user_id": 11580977, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/10fce7847156028f3c74227cc3245af9?s=128&d=identicon&r=PG&f=1", "display_name": "Lyle", "link": "https://stackoverflow.com/users/11580977/lyle"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 49, "favorite_count": 0, "answer_count": 0, "score": 1, "last_activity_date": 1582385563, "creation_date": 1565205500, "last_edit_date": 1582385563, "question_id": 57401011, "link": "https://stackoverflow.com/questions/57401011/how-to-have-the-countdown-trigger-the-function-on-if-the-if-statement-is-true", "title": "how to have the countdown trigger the function on if the if statement is true", "body": "<p>I'm working on a video game project and I'm not too sure how to set up the if statement because I'm new to programming. I want to have a picture to pop up only after the countdown reaches its last digit or value.  </p>\n\n<p>I have the countdown code working great, but I need to have the picture to pop up at the right location. I'm not sure how to add the value towards this location with the if statement. Basically when I click a button it's switch the background image therefore It wouldn't be a very good game if a random picture pops up while I'm looking at the wrong background. </p>\n\n<p>I feel like I should add a value whenever I click the button and the value will change whenever I click on a different button. I just don't know how to set up the value and have it equal to true. </p>\n\n<p>Also is there a way to reset the countdown?</p>\n\n<pre><code>&lt;script type=\"text/javascript\" src=\"https://code.jquery.com/jquery-3.4.1.min.js\"&gt;&lt;/script&gt;\n\n&lt;script&gt;\n  function countDown(secs,elem) {\n    var element = document.getElementById(elem);\n    element.innerHTML = \"Please wait for \"+secs+\" seconds\";\n    if(secs &lt; 1) {\n      clearTimeout(timer);\n      element.innerHTML = '&lt;h2&gt;Countdown Complete!&lt;/h2&gt;';\n        element.innerHTML += '&lt;a href=\"#\"&gt;Click here now&lt;/a&gt;';\n        $(\"#black\").show(0.1);\n    }\n    secs--;\n    var timer = setTimeout('countDown('+secs+',\"'+elem+'\")',1000);\n  } \n\n  $(function(){\n    $(\"#black\").hide(0.01);\n  })\n\n  function goodtogo(){\n    var good = true;\n  }\n&lt;/script&gt;\n</code></pre>\n\n<pre><code>&lt;body&gt;\n  &lt;div id=\"status\"&gt;&lt;/div&gt;\n\n  &lt;script&gt;countDown(2, \"status\");&lt;/script&gt;\n\n  &lt;img id=\"black\" src=\"black1.jpg\"&gt;\n  &lt;input  type=\"button\" name=\"button\" value=\"btn\" onclick=\"goodtogo()\"&gt;\n\n&lt;/body&gt;\n</code></pre>\n"}, {"tags": ["javascript", "jquery"], "comments": [{"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 1, "creation_date": 1565205702, "post_id": 57401007, "comment_id": 101283679, "body": "That&#39;s not the way web applications work. You don&#39;t stop the program, the program reacts to events that the user triggers with their actions."}, {"owner": {"reputation": 529, "user_id": 1222227, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/53216ae841fa265c6a06001edd40ca3a?s=128&d=identicon&r=PG", "display_name": "geekzster", "link": "https://stackoverflow.com/users/1222227/geekzster"}, "edited": false, "score": 0, "creation_date": 1565207262, "post_id": 57401007, "comment_id": 101284349, "body": "hi and welcome to stack overflow.  your question could be made easier to answer if you provide more code - we need a minimal, reproducible example and some details about the output or errors you see.  For more info on a minimal reproducible example, give this post a read:  <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}], "answers": [{"tags": [], "owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "is_accepted": true, "score": 0, "last_activity_date": 1565206082, "creation_date": 1565206082, "answer_id": 57401146, "question_id": 57401007, "link": "https://stackoverflow.com/questions/57401007/how-to-stop-the-code-for-the-user-to-enter-the-following-value-in-input/57401146#57401146", "title": "how to stop the code for the user to enter the following value in input", "body": "<p>JavaScript programs don't stop to wait for the user, they react to events that are triggered asynchronously by the user.</p>\n\n<p>You can save the state of the program in a global variable between calls to the event handler.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var firstNum;\r\n\r\n$('#plus').on('click', function() {\r\n  if (firstNum === undefined) {\r\n    firstNum = Number($(\"#txt\").val());\r\n  } else {\r\n    var secondNum = Number($(\"#txt\").val());\r\n    var result = firstNum + secondNum;\r\n    console.log(result);\r\n  }\r\n  $(\"#txt\").val('');\r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;input type='text' id='txt' value='' onpaste=\"return false\" placeholder=\"Enter number\" /&gt;\r\n&lt;button type=\"button\" id=\"plus\"&gt;+&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 453, "user_id": 7584019, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/6d76d2a7929b02482132db465289c9e7?s=128&d=identicon&r=PG&f=1", "display_name": "Rahul Vala", "link": "https://stackoverflow.com/users/7584019/rahul-vala"}, "is_accepted": false, "score": 0, "last_activity_date": 1565212729, "last_edit_date": 1565212729, "creation_date": 1565207671, "answer_id": 57401481, "question_id": 57401007, "link": "https://stackoverflow.com/questions/57401007/how-to-stop-the-code-for-the-user-to-enter-the-following-value-in-input/57401481#57401481", "title": "how to stop the code for the user to enter the following value in input", "body": "<p>You can keep the second input element(and equal button) hidden when the page loads and then show the input(and equal button) when the operator is clicked by the user to make it more interactive. </p>\n\n<p>You can get more information about toggling between hiding and showing an element on this astonishing website: <a href=\"https://www.w3schools.com/howto/howto_js_toggle_hide_show.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/howto/howto_js_toggle_hide_show.asp</a></p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>var firstNum;\r\nvar secondNum;\r\n\r\nvar first_in = document.getElementById(\"txt1\");\r\nvar sec_in = document.getElementById(\"txt2\");\r\nvar equal = document.getElementById(\"equals\");\r\nsec_in.style.display = \"none\";\r\nequal.style.display = \"none\";\r\n\r\n$('#plus').on('click', function() {\r\n  if (firstNum === undefined) {\r\n    firstNum = Number($(\"#txt1\").val());\r\n    sec_in.style.display = \"block\";\r\n    equal.style.display = \"block\";\r\n  } \r\n});\r\n\r\n$('#equals').on('click', function() {\r\n  if (secondNum === undefined) {\r\n    secondNum = Number($(\"#txt2\").val());\r\n    var result = firstNum + secondNum;\r\n    console.log(result);\r\n  } \r\n});</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n&lt;input type='text' id='txt1' value='' onpaste=\"return false\" placeholder=\"Enter first number\" /&gt;\r\n&lt;button type=\"button\" id=\"plus\"&gt;+&lt;/button&gt;\r\n&lt;input type='text' id='txt2' value='' onpaste=\"return false\" placeholder=\"Enter second number\" /&gt;\r\n&lt;button type=\"button\" id=\"equals\"&gt;=&lt;/button&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 5, "user_id": 11347652, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-LOQ8NQT8IoM/AAAAAAAAAAI/AAAAAAAAAB8/VTd1Q6Emlrg/photo.jpg?sz=128", "display_name": "Pers Inpers", "link": "https://stackoverflow.com/users/11347652/pers-inpers"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 38, "favorite_count": 0, "accepted_answer_id": 57401146, "answer_count": 2, "score": 0, "last_activity_date": 1565212729, "creation_date": 1565205485, "question_id": 57401007, "link": "https://stackoverflow.com/questions/57401007/how-to-stop-the-code-for-the-user-to-enter-the-following-value-in-input", "title": "how to stop the code for the user to enter the following value in input", "body": "<p>I do some calculator and want user take turns input first and second value. I need stop program when user enter first value and continue when user enter second value in the same input field. User continues by pressing the \"=\" button in html code or \"Enter\".</p>\n\n<pre><code>$('#plus').on('click', function(){\n    var firstNum = $(\"#txt\").val()\n    $(\"input\").val('')\n    if (isResult === true || $(\"input\").keypress() === 13){\n        var secondNum = $(\"#txt\").val()\n        result = Number(firstNum)+Number(secondNum)\n        console.log(result) \n}\n</code></pre>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;input type='text' id='txt' value='' onpaste=\"return false\" placeholder=\"Enter number\" /&gt;\n</code></pre>\n"}, {"tags": ["javascript", "laravel", "vue.js"], "answers": [{"tags": [], "owner": {"reputation": 4004, "user_id": 11761617, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/eqnW7.jpg?s=128&g=1", "display_name": "Andrew Vasilchuk", "link": "https://stackoverflow.com/users/11761617/andrew-vasilchuk"}, "is_accepted": false, "score": 0, "last_activity_date": 1565209408, "creation_date": 1565209408, "answer_id": 57401837, "question_id": 57400905, "link": "https://stackoverflow.com/questions/57400905/tabs-with-vue-in-laravel-5-8/57401837#57401837", "title": "Tabs with Vue in Laravel 5.8", "body": "<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>new Vue({\r\n  el: '#tabs',\r\n  data() {\r\n    return {\r\n      activetab: 1\r\n    }\r\n  },\r\n})</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.active {\r\n  background-color: tomato;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://cdnjs.cloudflare.com/ajax/libs/vue/2.5.17/vue.js\"&gt;&lt;/script&gt;\r\n&lt;div id=\"tabs\" class=\"container\"&gt;\r\n  &lt;div class=\"tabs\"&gt;\r\n    &lt;a href=\"#\" @click.prevent=\"activetab = 1\" :class=\"[ activetab === 1 ? 'active' : '' ]\"&gt;Tab 1&lt;/a&gt;\r\n    &lt;a href=\"#\" @click.prevent=\"activetab = 2\" :class=\"[ activetab === 2 ? 'active' : '' ]\"&gt;Tab 2&lt;/a&gt;\r\n  &lt;/div&gt;\r\n\r\n  &lt;div class=\"content\"&gt;\r\n    &lt;div v-if=\"activetab === 1\" class=\"tabcontent\"&gt;\r\n      TEST 1\r\n    &lt;/div&gt;\r\n    &lt;div v-if=\"activetab === 2\" class=\"tabcontent\"&gt;\r\n      TEST 2\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}, {"tags": [], "owner": {"reputation": 57, "user_id": 4402682, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a5b048ffea01034c2425cc7f140a5a51?s=128&d=identicon&r=PG&f=1", "display_name": "SavvyK", "link": "https://stackoverflow.com/users/4402682/savvyk"}, "is_accepted": false, "score": 0, "last_activity_date": 1565233244, "creation_date": 1565233244, "answer_id": 57404613, "question_id": 57400905, "link": "https://stackoverflow.com/questions/57400905/tabs-with-vue-in-laravel-5-8/57404613#57404613", "title": "Tabs with Vue in Laravel 5.8", "body": "<p>It looks like your hyperlinks are set to use array syntax.  You should probably change it to:</p>\n\n<pre><code>&lt;div class=\"tabs\"&gt; \n    &lt;a v-on:click=\"activetab=1\" v-bind:class=\"{ active: activetab === 1}\"&gt;Tab 1&lt;/a&gt; \n    &lt;a v-on:click=\"activetab=2\" v-bind:class=\"{ active: activetab === 2}\"&gt;Tab 2&lt;/a&gt; \n&lt;/div&gt;\n</code></pre>\n"}], "owner": {"reputation": 3895, "user_id": 7954280, "user_type": "registered", "accept_rate": 91, "profile_image": "https://www.gravatar.com/avatar/879f753c9bd169ec136627d03d1b0f96?s=128&d=identicon&r=PG&f=1", "display_name": "Geoff_S", "link": "https://stackoverflow.com/users/7954280/geoff-s"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 291, "favorite_count": 0, "answer_count": 2, "score": 0, "last_activity_date": 1565233244, "creation_date": 1565205036, "last_edit_date": 1565206098, "question_id": 57400905, "link": "https://stackoverflow.com/questions/57400905/tabs-with-vue-in-laravel-5-8", "title": "Tabs with Vue in Laravel 5.8", "body": "<p>I'm using Laravel and trying to get a Vue instance of tabs going, but for some reason the only thing showing is Tab 1 and Tab 2 but no content, and the tabs aren't clickable links or anything.</p>\n\n<p>Is this just an issue with the way I'm calling Vue? It's natively installed on laravel 5.8 and I\"m using it elsewhere with no problems</p>\n\n<pre><code>&lt;div id=\"tabs\" class=\"container\"&gt;\n&lt;div class=\"tabs\"&gt;\n    &lt;a v-on:click=\"activetab=1\" v-bind:class=\"[ activetab === 1 ? 'active' : '' ]\"&gt;Tab 1&lt;/a&gt;\n    &lt;a v-on:click=\"activetab=2\" v-bind:class=\"[ activetab === 2 ? 'active' : '' ]\"&gt;Tab 2&lt;/a&gt;\n&lt;/div&gt;\n\n&lt;div class=\"content\"&gt;\n    &lt;div v-if=\"activetab === 1\" class=\"tabcontent\"&gt;\n        &lt;table&gt;\n            &lt;thead&gt;\n                &lt;tr&gt;\n                    &lt;th&gt;ID&lt;/th&gt;\n                    &lt;th&gt;Title&lt;/th&gt;\n                    &lt;th&gt;Type&lt;/th&gt;\n                    &lt;th&gt;Available At:&lt;/th&gt;\n                &lt;/tr&gt;\n            &lt;/thead&gt;\n            &lt;tbody&gt;\n            @foreach ($result as $id =&gt; $item)\n                &lt;tr&gt;\n                    &lt;td&gt;{{ $id }}&lt;/td&gt;\n                    @foreach($item as $subitem)\n                    @if($subitem-&gt;name == \"Task Title\")\n                        &lt;td&gt;{{ $subitem-&gt;task_comment }}&lt;/td&gt;\n                        &lt;td&gt;{{ $subitem-&gt;task_typet_id }}&lt;/td&gt;\n                        &lt;td&gt;{{ $subitem-&gt;available_at }}&lt;/td&gt;\n                    @endif\n                    @endforeach\n                &lt;/tr&gt;\n            @endforeach\n            &lt;/tbody&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n    &lt;div v-if=\"activetab === 2\" class=\"tabcontent\"&gt;\n        TEST\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n\n&lt;script&gt;\nexport default {\n    el: '#tabs',\n    data: { activetab: 1 },\n};\n&lt;/script&gt;\n</code></pre>\n"}, {"tags": ["javascript", "ajax", "asp.net-core-webapi", "binary-data"], "answers": [{"comments": [{"owner": {"reputation": 6125, "user_id": 846281, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/01438c3df63caf4c986268852935fcbd?s=128&d=identicon&r=PG", "display_name": "Andrew Simpson", "link": "https://stackoverflow.com/users/846281/andrew-simpson"}, "edited": false, "score": 0, "creation_date": 1565264414, "post_id": 57405848, "comment_id": 101303534, "body": "Thanks, but I do want to actually return a byte array without converting it to base64. I know you can do this using websockets. But usefulful code so +1."}], "tags": [], "owner": {"reputation": 8924, "user_id": 10201850, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rz0ZX.jpg?s=128&g=1", "display_name": "Xueli Chen", "link": "https://stackoverflow.com/users/10201850/xueli-chen"}, "is_accepted": false, "score": 2, "last_activity_date": 1565243180, "creation_date": 1565243180, "answer_id": 57405848, "question_id": 57400868, "link": "https://stackoverflow.com/questions/57400868/no-conversion-from-text-to-arraybuffer-when-using-ajax-to-get-binary-array-from/57405848#57405848", "title": "No conversion from text to arraybuffer when using Ajax to get binary array from web api", "body": "<blockquote>\n  <p>The returned byte array will be converted into text in some way,\n  depending on how the MediaTypeFormatterCollection is set up on the\n  server and on the format requested by the HTTP client with the Accept\n  header. The bytes will typically be converted to text by\n  base64-encoding. The response may also be packaged further into JSON\n  or XML, but the ratio of the expected length (528) to the actual\n  length (706) seems to indicate a simple base64 string.</p>\n</blockquote>\n\n<p>Reference :<a href=\"https://stackoverflow.com/a/23884624/10201850\">https://stackoverflow.com/a/23884624/10201850</a></p>\n\n<p>Try the following code :</p>\n\n<p>Controller</p>\n\n<pre><code>    [HttpGet]\n    [Route(\"Connection/ImageData\")]\n    public string GetImageData()\n    {\n        var bytes = new byte[3] { 0,12,246 };\n        var data = Convert.ToBase64String(bytes);\n        return data;\n    }\n</code></pre>\n\n<p>Javascript : using <code>base64ToArrayBuffer</code> function:</p>\n\n<pre><code>&lt;script type=\"text/javascript\"&gt;\n\n    function base64ToArrayBuffer(base64) {\n        var binaryString = window.atob(base64);\n        var binaryLen = binaryString.length;\n        var bytes = new Uint8Array(binaryLen);\n        for (var i = 0; i &lt; binaryLen; i++) {\n            var ascii = binaryString.charCodeAt(i);\n            bytes[i] = ascii;\n        }\n        return bytes;\n    }\n    $(\"#btnclick\").click(function () {\n        try {\n            $.ajax({\n                url: \"/Connection/ImageData\",\n                //dataType: \"arraybuffer\",\n                success: function (response) {\n                   var result= base64ToArrayBuffer(response);\n                    console.log(result);\n                },\n                error: function (XMLHttpRequest, textStatus, errorThrown) {\n                    console.log(errorThrown);\n                    //api error;\n                }\n            });\n        } catch (err) {\n            //calling error\n        }\n\n    });\n&lt;/script&gt;\n</code></pre>\n"}], "owner": {"reputation": 6125, "user_id": 846281, "user_type": "registered", "accept_rate": 88, "profile_image": "https://www.gravatar.com/avatar/01438c3df63caf4c986268852935fcbd?s=128&d=identicon&r=PG", "display_name": "Andrew Simpson", "link": "https://stackoverflow.com/users/846281/andrew-simpson"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 733, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565243180, "creation_date": 1565204802, "question_id": 57400868, "link": "https://stackoverflow.com/questions/57400868/no-conversion-from-text-to-arraybuffer-when-using-ajax-to-get-binary-array-from", "title": "No conversion from text to arraybuffer when using Ajax to get binary array from web api", "body": "<p>I am trying to receive binary array from web api from ajax client,</p>\n\n<p>In my Api Controller I have:</p>\n\n<pre><code>[ HttpGet ]\n[ Route( \"Connection/ImageData\" ) ]\npublic byte[] GetImageData()\n{\n    return new byte[1];\n}\n</code></pre>\n\n<p>In my JavaScript I have:</p>\n\n<pre><code>function RenderImage() {\n    try {\n\n        $.ajax({\n            url: \"/Connection/ImageData\",\n            dataType: \"arraybuffer\",\n            success: function(response) {                  \n               //success!\n            },\n            error: function(XMLHttpRequest, textStatus, errorThrown) {\n               //api error;\n            }\n        });\n    } catch (err) {\n        //calling error\n    }\n}\n</code></pre>\n\n<p>I get the error: </p>\n\n<pre><code>No conversion from text to arraybuffer\n</code></pre>\n"}, {"tags": ["javascript", "node.js", "visual-studio-code"], "answers": [{"tags": [], "owner": {"reputation": 220, "user_id": 11844048, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/794b1e74456052c1c5a3cf2ea9e209c0?s=128&d=identicon&r=PG&f=1", "display_name": "Alwin Jose", "link": "https://stackoverflow.com/users/11844048/alwin-jose"}, "is_accepted": false, "score": 0, "last_activity_date": 1565271535, "creation_date": 1565271535, "answer_id": 57413965, "question_id": 57400858, "link": "https://stackoverflow.com/questions/57400858/how-to-call-vscode-nls-using-require-function/57413965#57413965", "title": "How to call vscode-nls using require function", "body": "<p>You need to do run the following command to install vscode-nls before import.</p>\n\n<blockquote>\n  <p>npm install vscode-nls --save</p>\n</blockquote>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user11244441"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 94, "favorite_count": 0, "answer_count": 1, "score": 0, "last_activity_date": 1565271535, "creation_date": 1565204767, "last_edit_date": 1565264609, "question_id": 57400858, "link": "https://stackoverflow.com/questions/57400858/how-to-call-vscode-nls-using-require-function", "title": "How to call vscode-nls using require function", "body": "<p>I am developing a VSCode extension application and I am trying to import <code>vscode-nls</code> using the <code>require</code> function but it is not working. What do I have to do in order to get it working?</p>\n\n<p>The <strong>extension.js</strong> currently looks like:</p>\n\n<pre><code>const nls = require('vscode-nls');\nlet localize = nls.loadMessageBundle();\n</code></pre>\n"}, {"tags": ["javascript", "google-chrome", "webrtc"], "comments": [{"owner": {"reputation": 33937, "user_id": 918910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYpdz.jpg?s=128&g=1", "display_name": "jib", "link": "https://stackoverflow.com/users/918910/jib"}, "edited": false, "score": 2, "creation_date": 1565207997, "post_id": 57400849, "comment_id": 101284637, "body": "Try removing the second <code>parameters.encodings = [{}];</code>."}, {"owner": {"reputation": 87, "user_id": 8109673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7504ca193604459e7386f5de1bb96729?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica", "link": "https://stackoverflow.com/users/8109673/jessica"}, "reply_to_user": {"reputation": 33937, "user_id": 918910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYpdz.jpg?s=128&g=1", "display_name": "jib", "link": "https://stackoverflow.com/users/918910/jib"}, "edited": false, "score": 0, "creation_date": 1565209399, "post_id": 57400849, "comment_id": 101285164, "body": "It worked, thank you so much @jib, you&#39;re really great.This is my mistake where I&#39;m not familiar with this line &quot;if (!parameters.encodings)&quot; and didn&#39;t know that this is the main cause of the issue. Thanks once again."}], "answers": [{"comments": [{"owner": {"reputation": 87, "user_id": 8109673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7504ca193604459e7386f5de1bb96729?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica", "link": "https://stackoverflow.com/users/8109673/jessica"}, "edited": false, "score": 1, "creation_date": 1565537993, "post_id": 57446179, "comment_id": 101377594, "body": "Hi @jib Now, I finally understand the &quot; if (!parameters.encodings)&quot;. Thank you for your detailed explanations."}], "tags": [], "owner": {"reputation": 33937, "user_id": 918910, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/SYpdz.jpg?s=128&g=1", "display_name": "jib", "link": "https://stackoverflow.com/users/918910/jib"}, "is_accepted": true, "score": 2, "last_activity_date": 1565487936, "last_edit_date": 1565487936, "creation_date": 1565476967, "answer_id": 57446179, "question_id": 57400849, "link": "https://stackoverflow.com/questions/57400849/webrtc-change-bandwidth-receiving-invalidmodificationerror-on-chrome/57446179#57446179", "title": "WebRTC change bandwidth receiving InvalidModificationError on Chrome", "body": "<p>Remove the second <code>parameters.encodings = [{}];</code> It accidentally erases all properties of the first encoding in <code>encodings</code>, some of which are meant to be read-only and aren't allowed to be modified.</p>\n\n<p>The <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/RTCRtpSender/setParameters\" rel=\"nofollow noreferrer\">pc.setParameters()</a> method requires its input to have come from <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/RTCRtpSender/getParameters\" rel=\"nofollow noreferrer\">pc.getParameters()</a> effectively, and only certain <code>encodings</code> properties are allowed to be modified.</p>\n\n<p>It was designed to be a transaction:</p>\n\n<pre><code>const parameters = pc.getParemeters();\n// modify certain parameters only\nawait pc.setParemeters(parameters);\n</code></pre>\n\n<p>This is enforced by <code>getParameters()</code> including a <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/RTCRtpSender/setParameters#Parameters\" rel=\"nofollow noreferrer\">parameters.transactionId</a>, which <code>setParameters()</code> checks for. If it or certain other properties that are meant to be read-only have been modified, you'll get <code>InvalidModificationError</code>.</p>\n\n<h3>Firefox is too lenient</h3>\n\n<p>Firefox implements a very early version of the API that is too lenient. <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1401592\" rel=\"nofollow noreferrer\">Bug 1401592</a> tracks fixing this.</p>\n\n<p>The following line is only needed because of Firefox:</p>\n\n<pre><code>  if (!parameters.encodings) {\n    parameters.encodings = [{}];\n  }\n</code></pre>\n\n<p>Because only in Firefox would <code>encodings</code> returned from <code>getParameters()</code> ever be empty.</p>\n\n<p>In Chrome and the spec, <code>encodings</code> is guaranteed to be present and include at minimum one item.</p>\n"}], "owner": {"reputation": 87, "user_id": 8109673, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/7504ca193604459e7386f5de1bb96729?s=128&d=identicon&r=PG&f=1", "display_name": "Jessica", "link": "https://stackoverflow.com/users/8109673/jessica"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 917, "favorite_count": 0, "accepted_answer_id": 57446179, "answer_count": 1, "score": 2, "last_activity_date": 1565487936, "creation_date": 1565204719, "question_id": 57400849, "link": "https://stackoverflow.com/questions/57400849/webrtc-change-bandwidth-receiving-invalidmodificationerror-on-chrome", "title": "WebRTC change bandwidth receiving InvalidModificationError on Chrome", "body": "<p>I'm trying to modify the bandwidth by following this sample: <a href=\"https://webrtc.github.io/samples/src/content/peerconnection/bandwidth/\" rel=\"nofollow noreferrer\">https://webrtc.github.io/samples/src/content/peerconnection/bandwidth/</a></p>\n\n<p>However, I'm receiving this error on Chrome.</p>\n\n<p><b>errorInvalidModificationError: Read-only field modified in setParameters() </b></p>\n\n<p>Firefox changed the bandwidth successfully. A few months ago, it worked properly on Chrome too. Suddenly receiving this error, I've googled around and still didn't find any solution for this, may I know how to fix this error? Thank you.</p>\n\n<pre><code>var bandwidth = 500;\n\n// Loop through each track                          \nvar i;\nfor (i = 0; i &lt; peers[peer_id].getSenders().length; i++) { \n    var sender = peers[peer_id].getSenders()[i];\n\n    if(sender.track.kind === \"video\"){\n        var parameters = sender.getParameters();\n\n        if (!parameters.encodings) {\n          parameters.encodings = [{}];\n        }\n\n        parameters.encodings = [{}];\n\n        parameters.encodings[0].maxBitrate = bandwidth * 1000;\n\n        sender.setParameters(parameters).then(success, error);\n\n        function success(){\n            console.log(\"bandwidth success adjust\");\n        };\n\n        function error(err){\n            console.log(\"bandwidth error\"+err);\n        };\n    };\n}\n</code></pre>\n"}, {"tags": ["javascript", "marklogic", "marklogic-9", "ml-gradle"], "answers": [{"tags": [], "owner": {"reputation": 7045, "user_id": 1091497, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/293bdd8ee3ce350e5de5e2e7a705db59?s=128&d=identicon&r=PG", "display_name": "ehennum", "link": "https://stackoverflow.com/users/1091497/ehennum"}, "is_accepted": false, "score": 2, "last_activity_date": 1565281247, "creation_date": 1565281247, "answer_id": 57416920, "question_id": 57400845, "link": "https://stackoverflow.com/questions/57400845/using-node-modules-in-marklogic-modules/57416920#57416920", "title": "Using node modules in MarkLogic Modules", "body": "<p>MarkLogic server doesn't use Node.js and thus isn't aware when packages are installed into a Node.js instance.</p>\n\n<p>Instead, the JavaScript files for the library have to be installed in the modules database for the REST API instance.  See:</p>\n\n<p><a href=\"http://docs.marklogic.com/guide/node-dev/extensions\" rel=\"nofollow noreferrer\">http://docs.marklogic.com/guide/node-dev/extensions</a></p>\n\n<p><strong>One general caution about npm packages...</strong></p>\n\n<p>Node.js and SJS (Server-Side-JavaScript) in MarkLogic are fundamentally different environments:</p>\n\n<ul>\n<li><p>Node.js is single-threaded and event driven, providing a global state that is durable for the life of the Node.js process.</p></li>\n<li><p>SJS is concurrent and transactional, providing a separate state for each main module that is durable for the life of a single synchronous invocation of that main module.</p></li>\n</ul>\n\n<p>As a consequence, evented packages aren't useful in the SJS environment.</p>\n\n<p>However, JavaScript libraries (including lodash as well as many parsers) that provide functions that run to completion without eventing are usable in the SJS environment.</p>\n\n<p>See also:</p>\n\n<p><a href=\"http://docs.marklogic.com/guide/jsref/language#id_67900\" rel=\"nofollow noreferrer\">http://docs.marklogic.com/guide/jsref/language#id_67900</a></p>\n\n<p>On the particular question, some people feel that lodash has been largely superseded by ES6, which SJS supports.</p>\n\n<p>Hoping that helps,</p>\n"}], "owner": {"reputation": 73, "user_id": 2183384, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/3f11a4e203b03d8d75da3d823b80a9cb?s=128&d=identicon&r=PG", "display_name": "user2183384", "link": "https://stackoverflow.com/users/2183384/user2183384"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 97, "favorite_count": 0, "answer_count": 1, "score": 1, "last_activity_date": 1565281247, "creation_date": 1565204705, "question_id": 57400845, "link": "https://stackoverflow.com/questions/57400845/using-node-modules-in-marklogic-modules", "title": "Using node modules in MarkLogic Modules", "body": "<p>I'm running a Marklogic server with an exposed REST API. I have extended the API with my own resources. These endpoints are just .sjs files as dictated by the documentation. Is it possible to use regular node modules (installed via npm) in these sjs files?</p>\n\n<p>I'm using ml-gradle to deploy the server and endpoints. I'm not which directory I would install the npm modules.</p>\n\n<p>I try doing an npm install and then importing it with a relative path</p>\n\n<pre><code>const lodash = require('../node_modules/lodash') \n</code></pre>\n\n<p>However, my sjs file can never find those modules. I'm assuming the import path I give it is not correct.</p>\n"}, {"tags": ["javascript", "html", "css", "navigation"], "answers": [{"comments": [{"owner": {"reputation": 1, "user_id": 10746918, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qErAkUgNqaU/AAAAAAAAAAI/AAAAAAAAADI/3K3zH9f5jzc/photo.jpg?sz=128", "display_name": "dmg events", "link": "https://stackoverflow.com/users/10746918/dmg-events"}, "edited": false, "score": 0, "creation_date": 1565206488, "post_id": 57400887, "comment_id": 101284022, "body": "Gave it a shot but I&#39;m not entirely sure my JS is even working at all, although it&#39;s saved in the right place.."}, {"owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "reply_to_user": {"reputation": 1, "user_id": 10746918, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qErAkUgNqaU/AAAAAAAAAAI/AAAAAAAAADI/3K3zH9f5jzc/photo.jpg?sz=128", "display_name": "dmg events", "link": "https://stackoverflow.com/users/10746918/dmg-events"}, "edited": false, "score": 0, "creation_date": 1565206582, "post_id": 57400887, "comment_id": 101284056, "body": "Any errros in browser dev tools console? Is code wrapped in document.ready?"}, {"owner": {"reputation": 1, "user_id": 10746918, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qErAkUgNqaU/AAAAAAAAAAI/AAAAAAAAADI/3K3zH9f5jzc/photo.jpg?sz=128", "display_name": "dmg events", "link": "https://stackoverflow.com/users/10746918/dmg-events"}, "edited": false, "score": 0, "creation_date": 1565208195, "post_id": 57400887, "comment_id": 101284693, "body": "No errors, just wrapped it in document.ready but still no changes"}, {"owner": {"reputation": 193, "user_id": 11361254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cDtLdZvl068/AAAAAAAAAAI/AAAAAAAACVg/b6EgPWSpuo0/photo.jpg?sz=128", "display_name": "Roya", "link": "https://stackoverflow.com/users/11361254/roya"}, "edited": false, "score": 0, "creation_date": 1565218444, "post_id": 57400887, "comment_id": 101287854, "body": "Did you include a script tag to the jQuery source?"}, {"owner": {"reputation": 1, "user_id": 10746918, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qErAkUgNqaU/AAAAAAAAAAI/AAAAAAAAADI/3K3zH9f5jzc/photo.jpg?sz=128", "display_name": "dmg events", "link": "https://stackoverflow.com/users/10746918/dmg-events"}, "edited": false, "score": 0, "creation_date": 1565276922, "post_id": 57400887, "comment_id": 101311294, "body": "I believe it&#39;s already integrated into the head of the site, it won&#39;t let me add any scripts into the HTML block unfortunately"}], "tags": [], "owner": {"reputation": 162920, "user_id": 1175966, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8d3d9dfbd040f9cbc1a6b82f0da2b345?s=128&d=identicon&r=PG", "display_name": "charlietfl", "link": "https://stackoverflow.com/users/1175966/charlietfl"}, "is_accepted": false, "score": -1, "last_activity_date": 1565204936, "creation_date": 1565204936, "answer_id": 57400887, "question_id": 57400838, "link": "https://stackoverflow.com/questions/57400838/can-i-add-remove-the-class-of-an-li-using-javascript/57400887#57400887", "title": "Can I add/remove the class of an li using Javascript?", "body": "<p><code>$( '.nav-tabs a' ).find( 'li.active' )</code> is looking for <code>&lt;li&gt;</code> that are  <em>descendants</em> of <code>&lt;a&gt;</code></p>\n\n<p>Try</p>\n\n<pre><code>$('.nav-tabs li.active' ).removeClass( 'active' );\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 59, "user_id": 10491967, "user_type": "registered", "profile_image": "https://lh5.googleusercontent.com/-wVJBiTUZZzc/AAAAAAAAAAI/AAAAAAAABCc/-axJzo2Qq1c/photo.jpg?sz=128", "display_name": "Luis jorquera", "link": "https://stackoverflow.com/users/10491967/luis-jorquera"}, "is_accepted": false, "score": 0, "last_activity_date": 1565205343, "creation_date": 1565205343, "answer_id": 57400972, "question_id": 57400838, "link": "https://stackoverflow.com/questions/57400838/can-i-add-remove-the-class-of-an-li-using-javascript/57400972#57400972", "title": "Can I add/remove the class of an li using Javascript?", "body": "<p>Maybe is important remove active class en whole way. Remove active from all li. But add active class for current li by id. </p>\n\n<pre><code>$(\".nav-tabs &gt; li\").click(function(){\n$('.nav-tabs &gt; li').removeClass('active'); // Remove classs all\n$('.nav-tabs &gt;li#li_'+this.id.substr(3)).addClass('active'); // add class in current li\n});\n\n&lt;div class=\"tabs schedule-tabs\"&gt;\n&lt;ul class=\"nav nav-tabs\"&gt;\n&lt;!-- add id at each li item--&gt;\n&lt;li class=\"active\" id=\"li_oct8\"&gt;&lt;a href=\"#oct8\" data-toggle=\"tab\"&gt;Oct 8th&lt;/a&gt;&lt;/li&gt;\n&lt;li id=\"li_oct9\"&gt;&lt;a href=\"#oct9\" data-toggle=\"tab\"&gt;Oct 9th&lt;/a&gt;&lt;/li&gt;\n&lt;li id=\"li_oct10\"&gt;&lt;a href=\"#oct10\" data-toggle=\"tab\"&gt;Oct 10th&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n</code></pre>\n"}, {"comments": [{"owner": {"reputation": 1, "user_id": 10746918, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qErAkUgNqaU/AAAAAAAAAAI/AAAAAAAAADI/3K3zH9f5jzc/photo.jpg?sz=128", "display_name": "dmg events", "link": "https://stackoverflow.com/users/10746918/dmg-events"}, "edited": false, "score": 0, "creation_date": 1565277114, "post_id": 57403185, "comment_id": 101311397, "body": "Brilliant! I tried your code but it still isn&#39;t working for some reason.. I&#39;ve reached out to the developers to ask why"}, {"owner": {"reputation": 1, "user_id": 10746918, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qErAkUgNqaU/AAAAAAAAAAI/AAAAAAAAADI/3K3zH9f5jzc/photo.jpg?sz=128", "display_name": "dmg events", "link": "https://stackoverflow.com/users/10746918/dmg-events"}, "edited": false, "score": 0, "creation_date": 1565795988, "post_id": 57403185, "comment_id": 101464915, "body": "I ended up getting it working!! I&#39;m having a bit of trouble with this little CSS arrow div I created as well though.. removing the class was relatively easy but I can&#39;t figure out how to apply it again to the new div that&#39;s clicked. I&#39;m using $(this).parent(&#39;div&#39;).addClass(&#39;active&#39;); but I don&#39;t know how to target the right div"}, {"owner": {"reputation": 193, "user_id": 11361254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cDtLdZvl068/AAAAAAAAAAI/AAAAAAAACVg/b6EgPWSpuo0/photo.jpg?sz=128", "display_name": "Roya", "link": "https://stackoverflow.com/users/11361254/roya"}, "reply_to_user": {"reputation": 1, "user_id": 10746918, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qErAkUgNqaU/AAAAAAAAAAI/AAAAAAAAADI/3K3zH9f5jzc/photo.jpg?sz=128", "display_name": "dmg events", "link": "https://stackoverflow.com/users/10746918/dmg-events"}, "edited": false, "score": 0, "creation_date": 1565816554, "post_id": 57403185, "comment_id": 101473121, "body": "What is the HTML code for the arrow? And where did you put the arrow element in the HTML?"}, {"owner": {"reputation": 1, "user_id": 10746918, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qErAkUgNqaU/AAAAAAAAAAI/AAAAAAAAADI/3K3zH9f5jzc/photo.jpg?sz=128", "display_name": "dmg events", "link": "https://stackoverflow.com/users/10746918/dmg-events"}, "edited": false, "score": 0, "creation_date": 1565819182, "post_id": 57403185, "comment_id": 101473908, "body": "&lt;div class=&quot;tabs schedule-tabs&quot;&gt; &lt;ul class=&quot;nav nav-tabs&quot;&gt; &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;#tab1&quot; data-toggle=&quot;tab&quot;&gt;Oct 8th&lt;/a&gt; &lt;div class=&quot;arrow-down active&quot;&gt;&lt;/div&gt; &lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#tab2&quot; data-toggle=&quot;tab&quot;&gt;Oct 9th&lt;/a&gt; &lt;div class=&quot;arrow-down&quot;&gt;&lt;/div&gt; &lt;/li&gt; &lt;li&gt;&lt;a href=&quot;#tab3&quot; data-toggle=&quot;tab&quot;&gt;Oct 10th&lt;/a&gt; &lt;div class=&quot;arrow-down&quot;&gt;&lt;/div&gt; &lt;/li&gt; &lt;/ul&gt; &lt;/div&gt;"}, {"owner": {"reputation": 193, "user_id": 11361254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cDtLdZvl068/AAAAAAAAAAI/AAAAAAAACVg/b6EgPWSpuo0/photo.jpg?sz=128", "display_name": "Roya", "link": "https://stackoverflow.com/users/11361254/roya"}, "reply_to_user": {"reputation": 1, "user_id": 10746918, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qErAkUgNqaU/AAAAAAAAAAI/AAAAAAAAADI/3K3zH9f5jzc/photo.jpg?sz=128", "display_name": "dmg events", "link": "https://stackoverflow.com/users/10746918/dmg-events"}, "edited": false, "score": 0, "creation_date": 1565823322, "post_id": 57403185, "comment_id": 101474845, "body": "Ok so, the div is right after the anchor tag, or in other words, the div and the anchor tag are siblings. So you can use $(this).siblings(&#39;.arrow-down&#39;).addClass(&#39;active&#39;); You might find this link useful too: <a href=\"https://learn.jquery.com/using-jquery-core/traversing/\" rel=\"nofollow noreferrer\">learn.jquery.com/using-jquery-core/traversing</a>"}], "tags": [], "owner": {"reputation": 193, "user_id": 11361254, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-cDtLdZvl068/AAAAAAAAAAI/AAAAAAAACVg/b6EgPWSpuo0/photo.jpg?sz=128", "display_name": "Roya", "link": "https://stackoverflow.com/users/11361254/roya"}, "is_accepted": false, "score": 0, "last_activity_date": 1565218376, "creation_date": 1565218376, "answer_id": 57403185, "question_id": 57400838, "link": "https://stackoverflow.com/questions/57400838/can-i-add-remove-the-class-of-an-li-using-javascript/57403185#57403185", "title": "Can I add/remove the class of an li using Javascript?", "body": "<p>You also need to include the active class to the content to hide and show based on what anchor tag is clicked. You can find the id of the appropriate tab panel by getting the href attribute of the anchor tag that is clicked.</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>$('.nav-tabs a').on('click', function() {\r\n\r\n  $('.nav-tabs li.active').removeClass('active');\r\n  $('.tab-pane.active').removeClass('active');\r\n\r\n  $(this).parent('li').addClass('active');\r\n  $($(this).attr(\"href\")).addClass('active');\r\n});</code></pre>\r\n<pre class=\"snippet-code-css lang-css prettyprint-override\"><code>.schedule-tabs {\r\n  display: block;\r\n  max-width: 650px;\r\n}\r\n\r\n.nav-tabs a {\r\n  padding: 0 20px;\r\n  line-height: 52px;\r\n  display: block;\r\n  background: #ccc;\r\n  color: #fff;\r\n  transition: 0.5s ease;\r\n}\r\n\r\n.nav-tabs .active a {\r\n  background: #004964;\r\n}\r\n\r\n.tab-pane {\r\n  display: none;\r\n}\r\n\r\n.tab-pane.active {\r\n  display: block;\r\n}\r\n\r\n.nav-tabs a:active,\r\n.nav-tabs a:focus {\r\n  background: #004964;\r\n}\r\n\r\n.nav-tabs&gt;li {\r\n  position: relative;\r\n  display: block;\r\n  float: left;\r\n  font-weight: 700;\r\n  font-size: 18px;\r\n}\r\n\r\n.tab-content {\r\n  padding: 30px;\r\n  max-width: 650px;\r\n  background: #fff;\r\n}\r\n\r\n.label .label-secondary span {\r\n  float: right;\r\n  background: #da4444;\r\n  color: #fff;\r\n  font-size: 12pt;\r\n  padding: 3px;\r\n}</code></pre>\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;script src=\"https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js\"&gt;&lt;/script&gt;\r\n\r\n&lt;div class=\"tabs schedule-tabs\"&gt;\r\n  &lt;ul class=\"nav nav-tabs\"&gt;\r\n    &lt;li class=\"active\"&gt;&lt;a href=\"#oct8\" data-toggle=\"tab\"&gt;Oct 8th&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=\"#oct9\" data-toggle=\"tab\"&gt;Oct 9th&lt;/a&gt;&lt;/li&gt;\r\n    &lt;li&gt;&lt;a href=\"#oct10\" data-toggle=\"tab\"&gt;Oct 10th&lt;/a&gt;&lt;/li&gt;\r\n  &lt;/ul&gt;\r\n&lt;/div&gt;\r\n&lt;div class=\"tab-content lgray-bg\"&gt;\r\n  &lt;div id=\"oct8\" class=\"tab-pane active\"&gt;\r\n    &lt;div class=\"view view-conf-schedule view-id-conf_schedule view-display-id-block view-dom-id-c1b8d1fcc9e989a989c4f0a222dc6ae6\"&gt;\r\n      &lt;div class=\"view-content\"&gt;\r\n        &lt;div class=\"event-task\"&gt;\r\n          &lt;h5&gt;Pre-Conference Reception &amp;amp; Registration&lt;span class=\"label label-secondary\"&gt;6:00 pm&lt;/span&gt;&lt;/h5&gt;\r\n          &lt;div class=\"view view-speakers view-id-speakers view-display-id-block_2 view-dom-id-932d21aad7d0d6a8bf1e41ac95ab0f1c\"&gt;&lt;/div&gt;\r\n          &lt;p&gt;Location: Hotel Halifax (Bluenose Room)&lt;/p&gt;\r\n          &lt;p&gt;Networking, cash bar, refreshments and light snacks provided&lt;/p&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;div id=\"oct9\" class=\"tab-pane\"&gt;\r\n    &lt;div class=\"view view-conf-schedule view-id-conf_schedule view-display-id-block view-dom-id-9e8eaa7629f84acd7c096522dfe6590f\"&gt;\r\n      &lt;div class=\"view-content\"&gt;\r\n        &lt;div class=\"event-task\"&gt;\r\n          &lt;h5&gt;Conference Sessions Day 1&lt;span class=\"label label-secondary\"&gt;9:00 am&lt;/span&gt;&lt;/h5&gt;\r\n          &lt;div class=\"view view-speakers view-id-speakers view-display-id-block_2 view-dom-id-afede0c1055f0e4a61ec88750c265e44\"&gt;&lt;/div&gt;\r\n          &lt;p&gt;Conference sessions to be announced.&lt;/p&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=\"event-task\"&gt;\r\n          &lt;h5&gt;Offsite Social Event&lt;span class=\"label label-secondary\"&gt;7:00 pm&lt;/span&gt;&lt;/h5&gt;\r\n          &lt;div class=\"view view-speakers view-id-speakers view-display-id-block_2 view-dom-id-1957e7851f79b2c1a727a3f299bde2b9\"&gt;&lt;/div&gt;\r\n          &lt;p&gt;Location: To be announced&lt;/p&gt;\r\n          &lt;p&gt;Networking, cash bar, appetizers provided&lt;/p&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;div id=\"oct10\" class=\"tab-pane\"&gt;\r\n    &lt;div class=\"view view-conf-schedule view-id-conf_schedule view-display-id-block view-dom-id-4d5a54b54db033c3269c3ed762cdc807\"&gt;\r\n      &lt;div class=\"view-content\"&gt;\r\n        &lt;div class=\"event-task\"&gt;\r\n          &lt;h5&gt;Conference Sessions Day 2&lt;span class=\"label label-secondary\"&gt;9:00 am&lt;/span&gt;&lt;/h5&gt;\r\n          &lt;div class=\"view view-speakers view-id-speakers view-display-id-block_2 view-dom-id-0ad3697843cc6abfa6e8485c0195cded\"&gt;&lt;/div&gt;\r\n          &lt;p&gt;Conference sessions to be announced.&lt;/p&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n&lt;/div&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"reputation": 1, "user_id": 10746918, "user_type": "registered", "profile_image": "https://lh6.googleusercontent.com/-qErAkUgNqaU/AAAAAAAAAAI/AAAAAAAAADI/3K3zH9f5jzc/photo.jpg?sz=128", "display_name": "dmg events", "link": "https://stackoverflow.com/users/10746918/dmg-events"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 258, "favorite_count": 0, "answer_count": 3, "score": 0, "last_activity_date": 1565218376, "creation_date": 1565204671, "question_id": 57400838, "link": "https://stackoverflow.com/questions/57400838/can-i-add-remove-the-class-of-an-li-using-javascript", "title": "Can I add/remove the class of an li using Javascript?", "body": "<p>I'm having trouble recreating something I saw on another website.</p>\n\n<p>I need to have an 'active' class on the LI selected</p>\n\n<p>I'm using Umbraco CMS but not all the CSS loads right away for some reason, I also can't get the Javascript function to work.</p>\n\n<p>I've exacerbated my knowledge of HTML and CSS at this point. </p>\n\n<pre><code>$( '.nav-tabs a' ).on( 'click', function () {\n    $( '.nav-tabs a' ).find( 'li.active' ).removeClass( 'active' );\n    $( this ).parent( 'li' ).addClass( 'active' );\n});\n\n\n.schedule-tabs {\n    display: block;\n    max-width: 650px;\n}\n\n.nav-tabs a {\n    padding: 0 20px;\n    line-height: 52px;\n    display: block;\n    background: #ccc;\n    color: #fff;\n    transition: 0.5s ease; \n}\n\n.nav-tabs .active li a {\n    background: #004964;\n}\n\n.nav-tabs a:active, .nav-tabs a:focus {\n    background: #004964;\n}\n\n.nav-tabs &gt; li {\n    position: relative;\n    display: block;\n    float: left;\n    font-weight: 700;\n    font-size: 18px;\n}\n\n.tab-content {\n    padding: 30px;\n    max-width: 650px;\n    background: #fff;\n}\n\n.label .label-secondary span {\n    float: right;\n    background: #da4444;\n    color: #fff;\n    font-size: 12pt;\n    padding: 3px;\n}\n\n\n&lt;div class=\"tabs schedule-tabs\"&gt;\n&lt;ul class=\"nav nav-tabs\"&gt;\n&lt;li class=\"active\"&gt;&lt;a href=\"#oct8\" data-toggle=\"tab\"&gt;Oct 8th&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#oct9\" data-toggle=\"tab\"&gt;Oct 9th&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;&lt;a href=\"#oct10\" data-toggle=\"tab\"&gt;Oct 10th&lt;/a&gt;&lt;/li&gt;\n&lt;/ul&gt;\n&lt;/div&gt;\n&lt;div class=\"tab-content lgray-bg\"&gt;\n&lt;div id=\"oct8\" class=\"tab-pane active\"&gt;\n&lt;div class=\"view view-conf-schedule view-id-conf_schedule view-display-id-block view-dom-id-c1b8d1fcc9e989a989c4f0a222dc6ae6\"&gt;\n&lt;div class=\"view-content\"&gt;\n&lt;div class=\"event-task\"&gt;\n&lt;h5&gt;Pre-Conference Reception &amp;amp; Registration&lt;span class=\"label label-secondary\"&gt;6:00 pm&lt;/span&gt;&lt;/h5&gt;\n&lt;div class=\"view view-speakers view-id-speakers view-display-id-block_2 view-dom-id-932d21aad7d0d6a8bf1e41ac95ab0f1c\"&gt;&lt;/div&gt;\n&lt;p&gt;Location: Hotel Halifax (Bluenose Room)&lt;/p&gt;\n&lt;p&gt;Networking, cash bar, refreshments and light snacks provided&lt;/p&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\"oct9\" class=\"tab-pane\"&gt;\n&lt;div class=\"view view-conf-schedule view-id-conf_schedule view-display-id-block view-dom-id-9e8eaa7629f84acd7c096522dfe6590f\"&gt;\n&lt;div class=\"view-content\"&gt;\n&lt;div class=\"event-task\"&gt;\n&lt;h5&gt;Conference Sessions Day 1&lt;span class=\"label label-secondary\"&gt;9:00 am&lt;/span&gt;&lt;/h5&gt;\n&lt;div class=\"view view-speakers view-id-speakers view-display-id-block_2 view-dom-id-afede0c1055f0e4a61ec88750c265e44\"&gt;&lt;/div&gt;\n&lt;p&gt;Conference sessions to be announced.&lt;/p&gt;\n&lt;/div&gt;\n&lt;div class=\"event-task\"&gt;\n&lt;h5&gt;Offsite Social Event&lt;span class=\"label label-secondary\"&gt;7:00 pm&lt;/span&gt;&lt;/h5&gt;\n&lt;div class=\"view view-speakers view-id-speakers view-display-id-block_2 view-dom-id-1957e7851f79b2c1a727a3f299bde2b9\"&gt;&lt;/div&gt;\n&lt;p&gt;Location: To be announced&lt;/p&gt;\n&lt;p&gt;Networking, cash bar, appetizers provided&lt;/p&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;div id=\"oct10\" class=\"tab-pane\"&gt;\n&lt;div class=\"view view-conf-schedule view-id-conf_schedule view-display-id-block view-dom-id-4d5a54b54db033c3269c3ed762cdc807\"&gt;\n&lt;div class=\"view-content\"&gt;\n&lt;div class=\"event-task\"&gt;\n&lt;h5&gt;Conference Sessions Day 2&lt;span class=\"label label-secondary\"&gt;9:00 am&lt;/span&gt;&lt;/h5&gt;\n&lt;div class=\"view view-speakers view-id-speakers view-display-id-block_2 view-dom-id-0ad3697843cc6abfa6e8485c0195cded\"&gt;&lt;/div&gt;\n&lt;p&gt;Conference sessions to be announced.&lt;/p&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n\n<p>The first tab should already be in an 'Active' state and have a blue background, and should switch when the other buttons are selected. I can't get it to replicate in codepen either.</p>\n\n<p>Working example here: <a href=\"https://globalpetroleumshow.com/test\" rel=\"nofollow noreferrer\">https://globalpetroleumshow.com/test</a></p>\n"}, {"tags": ["javascript", "html", "google-apps-script", "google-sheets", "google-sheets-api"], "comments": [{"owner": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "edited": false, "score": 0, "creation_date": 1565206597, "post_id": 57400829, "comment_id": 101284069, "body": "<a href=\"https://developers.google.com/apps-script/guides/html/communication\" rel=\"nofollow noreferrer\">Read</a>"}, {"owner": {"reputation": 3, "user_id": 11897987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N43x8VQsxwM/AAAAAAAAAAI/AAAAAAAAALU/ZNUsk6_dpI4/photo.jpg?sz=128", "display_name": "Peter Schrock", "link": "https://stackoverflow.com/users/11897987/peter-schrock"}, "reply_to_user": {"reputation": 32101, "user_id": 8404453, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/616cb81bb678bb5b17869511b2a41367?s=128&d=identicon&r=PG&f=1", "display_name": "TheMaster", "link": "https://stackoverflow.com/users/8404453/themaster"}, "edited": false, "score": 0, "creation_date": 1565242990, "post_id": 57400829, "comment_id": 101292657, "body": "Thank you, this helped a lot. I used the following, <code>&lt;input type=&#39;button&#39; value=&#39;Click to Add&#39; onClick=&#39;google.script.run.addLine()&#39; &#47;&gt;</code>. That worked."}], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11897987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N43x8VQsxwM/AAAAAAAAAAI/AAAAAAAAALU/ZNUsk6_dpI4/photo.jpg?sz=128", "display_name": "Peter Schrock", "link": "https://stackoverflow.com/users/11897987/peter-schrock"}, "edited": false, "score": 0, "creation_date": 1565234138, "post_id": 57401002, "comment_id": 101290713, "body": "I&#39;ve tried that way as well. Unless I am missing something in the code, that doesn&#39;t do anything for me either. Am I supposed to put code in the &quot;.gs&quot; file so that they connect?"}, {"owner": {"reputation": 3, "user_id": 11897987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N43x8VQsxwM/AAAAAAAAAAI/AAAAAAAAALU/ZNUsk6_dpI4/photo.jpg?sz=128", "display_name": "Peter Schrock", "link": "https://stackoverflow.com/users/11897987/peter-schrock"}, "edited": false, "score": 0, "creation_date": 1565243051, "post_id": 57401002, "comment_id": 101292680, "body": "Thank you, this helped a lot. I used the following, <code>&lt;input type=&#39;button&#39; value=&#39;Click to Add&#39; onClick=&#39;google.script.run.addLine()&#39; &#47;&gt;</code>. That worked."}], "tags": [], "owner": {"user_type": "does_not_exist", "display_name": "user11730880"}, "is_accepted": true, "score": 1, "last_activity_date": 1565205478, "creation_date": 1565205478, "answer_id": 57401002, "question_id": 57400829, "link": "https://stackoverflow.com/questions/57400829/adding-value-to-cells-in-google-sheets-from-a-button-displayed-in-the-sidebar/57401002#57401002", "title": "Adding value to cells in Google Sheets from a button displayed in the sidebar", "body": "<p>Try this\n<code>&lt;input type='button' value='Click to Add' onClick='addLine()'/&gt;</code>.</p>\n\n<p>When I press the button, it runs the code that you put above.</p>\n"}], "owner": {"reputation": 3, "user_id": 11897987, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-N43x8VQsxwM/AAAAAAAAAAI/AAAAAAAAALU/ZNUsk6_dpI4/photo.jpg?sz=128", "display_name": "Peter Schrock", "link": "https://stackoverflow.com/users/11897987/peter-schrock"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 153, "favorite_count": 0, "accepted_answer_id": 57401002, "answer_count": 1, "score": 0, "last_activity_date": 1565205478, "creation_date": 1565204625, "last_edit_date": 1565205070, "question_id": 57400829, "link": "https://stackoverflow.com/questions/57400829/adding-value-to-cells-in-google-sheets-from-a-button-displayed-in-the-sidebar", "title": "Adding value to cells in Google Sheets from a button displayed in the sidebar", "body": "<p>I am creating a form using Google Sheets where I would like the list of options in the sidebar, where you can click on the option in the sidebar, and the value will be added to the spreadsheet. How do I get the button in the sidebar, when clicked, to run a function that will perform the task of adding the necessary rows and data to the spreadsheet?</p>\n\n<p>I have found many ways to get the data from the spreadsheet to show up in the sidebar. What I need is for the data to go from the sidebar to the spreadsheet. I have the code to manipulate the spreadsheet as I need, see Snippet1, I just can't figure out how to connect that code to the button.</p>\n\n<p>Snippet1:</p>\n\n<pre><code>var ss = SpreadsheetApp.getActive();\nvar saas = SpreadsheetApp.getActiveSheet();\n\nfunction addLine() {\n  var lastRow = lastRowValue('b');\n  var nextRow = lastRow + 1;\n  var dataColA = ['=MAX(A4:A'+ lastRow + ') + 1'];\n  var dataColB = ['New Line'];\n  saas.insertRowAfter(lastRow);\n  ss.getRange('A' + nextRow).setValue(dataColA);\n  ss.getRange('B' + nextRow).setValue(dataColB);\n}\n</code></pre>\n\n<p>Snippet2:</p>\n\n<pre><code>&lt;input type='button' value='Click to Add' onClick='&lt;?!= addLine() ?&gt;'/&gt;\n</code></pre>\n\n<p>I have tried to use directly in my HTML form the code:</p>\n\n<p>(See code Snippet2)</p>\n\n<p>But that runs the code on load and not when I click the button.</p>\n"}, {"tags": ["javascript", "ecmascript-6"], "comments": [{"owner": {"reputation": 697, "user_id": 3512580, "user_type": "registered", "accept_rate": 17, "profile_image": "https://www.gravatar.com/avatar/61ed531a40f85c37801cdd6feffd9ab7?s=128&d=identicon&r=PG&f=1", "display_name": "Adi", "link": "https://stackoverflow.com/users/3512580/adi"}, "edited": false, "score": 0, "creation_date": 1565204432, "post_id": 57400759, "comment_id": 101283167, "body": "You can map over the array some_array.map(e =&gt; e * e)"}, {"owner": {"reputation": 19681, "user_id": 402037, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/8fc3b3667c918504550fd656ac50b87f?s=128&d=identicon&r=PG", "display_name": "Andreas", "link": "https://stackoverflow.com/users/402037/andreas"}, "edited": false, "score": 5, "creation_date": 1565204434, "post_id": 57400759, "comment_id": 101283169, "body": "And the problem is?"}], "answers": [{"tags": [], "owner": {"reputation": 1106, "user_id": 4208022, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/8PLXt.jpg?s=128&g=1", "display_name": "Brandon Dyer", "link": "https://stackoverflow.com/users/4208022/brandon-dyer"}, "is_accepted": false, "score": 0, "last_activity_date": 1565204597, "creation_date": 1565204597, "answer_id": 57400826, "question_id": 57400759, "link": "https://stackoverflow.com/questions/57400759/how-to-square-integers-inside-an-array/57400826#57400826", "title": "How to square integers inside an array?", "body": "<p>You can use Array.map</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>const realNumberArray = [4, 5.6, -9.8, 3.14, 42, 6, 8.34, -2];\n\nconst squareList = (arr) =&gt; {\n    return realNumberArray\n        .filter(x =&gt; x &gt; 0 &amp;&amp; Number.isInteger(x))\n        .map(x =&gt; x * x);\n};\n\nconst squaredIntegers = squareList(realNumberArray);\n\nconsole.log(squaredIntegers);\n</code></pre>\n"}, {"tags": [], "owner": {"reputation": 2491, "user_id": 10967889, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/83qip.jpg?s=128&g=1", "display_name": "weegee", "link": "https://stackoverflow.com/users/10967889/weegee"}, "is_accepted": true, "score": 2, "last_activity_date": 1565205070, "last_edit_date": 1565205070, "creation_date": 1565204705, "answer_id": 57400846, "question_id": 57400759, "link": "https://stackoverflow.com/questions/57400759/how-to-square-integers-inside-an-array/57400846#57400846", "title": "How to square integers inside an array?", "body": "<p>Just map over the array and do <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/pow\" rel=\"nofollow noreferrer\"><code>Math.pow(int,power)</code></a> but multiplication is faster so do <code>value * value</code> in the <code>.map</code> function</p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const realNumberArray = [4, 5.6, -9.8, 3.14, 42, 6, 8.34, -2]; // your array\r\nconst squares = realNumberArray.filter(x =&gt; x &gt; 0 &amp;&amp; Number.isInteger(x)); // your filter function\r\nconst squared = squares.map(val =&gt; val*val) // map and do val*val to get an array of elements of val*val\r\nconsole.log(squared) // log it</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<p>Your code becomes </p>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>const realNumberArray = [4, 5.6, -9.8, 3.14, 42, 6, 8.34, -2];\r\n\r\nconst squareList = (arr) =&gt; {\r\n\r\n  \"use strict\";\r\n  const squaredIntegers = realNumberArray.filter(x =&gt; x &gt; 0 &amp;&amp; Number.isInteger(x));\r\n  const squared = squaredIntegers.map(val =&gt; val*val)\r\n  return squared;\r\n};\r\n\r\n// test your code\r\n\r\nconst squaredIntegers = squareList(realNumberArray);\r\n\r\nconsole.log(squaredIntegers);</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}], "owner": {"user_type": "does_not_exist", "display_name": "user10615889"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 59, "favorite_count": 0, "accepted_answer_id": 57400846, "answer_count": 2, "score": -5, "last_activity_date": 1565205070, "creation_date": 1565204300, "last_edit_date": 1565204416, "question_id": 57400759, "link": "https://stackoverflow.com/questions/57400759/how-to-square-integers-inside-an-array", "title": "How to square integers inside an array?", "body": "<p>I just filtered a set of decimals and integers so that I only have a set of integers. Now I have to compute the square of those filtered integers.</p>\n\n<pre><code>const realNumberArray = [4, 5.6, -9.8, 3.14, 42, 6, 8.34, -2];\n\nconst squareList = (arr) =&gt; {\n\n\"use strict\";\n\n\n  const squaredIntegers = realNumberArray.filter(x =&gt; x &gt; 0 &amp;&amp; Number.isInteger(x));\n\n\n\nreturn squaredIntegers;\n};\n\n// test your code\n\nconst squaredIntegers = squareList(realNumberArray);\n\nconsole.log(squaredIntegers);\n</code></pre>\n"}, {"tags": ["javascript", "html"], "answers": [{"comments": [{"owner": {"reputation": 3, "user_id": 11897951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmnw8.png?s=128&g=1", "display_name": "gordonshamway23", "link": "https://stackoverflow.com/users/11897951/gordonshamway23"}, "edited": false, "score": 0, "creation_date": 1565205099, "post_id": 57400843, "comment_id": 101283445, "body": "Tested it real quick and it does not work, PreventDefault still prevents the keypress event. And by the way, i dont want my events to bubble up the dom tree. And i think propagating event upwards is not needed here, because all my eventhandlers are bound to canvas and no parent elements."}], "tags": [], "owner": {"reputation": 1, "user_id": 5481823, "user_type": "registered", "profile_image": "https://lh4.googleusercontent.com/-ZeCcK7PSL4g/AAAAAAAAAAI/AAAAAAAACkk/RuL0Wx5MOAE/photo.jpg?sz=128", "display_name": "mak rony", "link": "https://stackoverflow.com/users/5481823/mak-rony"}, "is_accepted": false, "score": 0, "last_activity_date": 1565204703, "creation_date": 1565204703, "answer_id": 57400843, "question_id": 57400729, "link": "https://stackoverflow.com/questions/57400729/does-preventdefault-in-keydown-event-prevent-a-following-keypress-event/57400843#57400843", "title": "Does preventDefault() in keydown event prevent a following keypress event?", "body": "<p><code>stopPropagation</code> stops the event from bubbling up the event chain.</p>\n\n<p><code>preventDefault</code> prevents the default action the browser makes on that event</p>\n\n<p>So, If you want all the three methods to get fired remove <code>stopPropagation()</code> from all the three events. Hope it will work.</p>\n"}, {"comments": [{"owner": {"reputation": 3, "user_id": 11897951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmnw8.png?s=128&g=1", "display_name": "gordonshamway23", "link": "https://stackoverflow.com/users/11897951/gordonshamway23"}, "edited": false, "score": 0, "creation_date": 1565209972, "post_id": 57401334, "comment_id": 101285414, "body": "Thats it. Thank you very much."}], "tags": [], "owner": {"reputation": 616, "user_id": 4714972, "user_type": "registered", "profile_image": "https://graph.facebook.com/10153720580223047/picture?type=large", "display_name": "Sachi Cortes", "link": "https://stackoverflow.com/users/4714972/sachi-cortes"}, "is_accepted": true, "score": 1, "last_activity_date": 1565374433, "last_edit_date": 1565374433, "creation_date": 1565206959, "answer_id": 57401334, "question_id": 57400729, "link": "https://stackoverflow.com/questions/57400729/does-preventdefault-in-keydown-event-prevent-a-following-keypress-event/57401334#57401334", "title": "Does preventDefault() in keydown event prevent a following keypress event?", "body": "<p>From the most recent W3C Working Draft (<a href=\"https://www.w3.org/TR/uievents/#keydown\" rel=\"nofollow noreferrer\">https://www.w3.org/TR/uievents/#keydown</a>) we can see that one of the keydown default actions is the keypress event (among others)! So, when you do a preventDefault on the keydown event, you are actually preventing the event default actions, and in this case, one of those actions is the keypress event.</p>\n"}, {"tags": [], "owner": {"reputation": 166, "user_id": 5896732, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/jLPn7.png?s=128&g=1", "display_name": "Danbardo", "link": "https://stackoverflow.com/users/5896732/danbardo"}, "is_accepted": false, "score": 0, "last_activity_date": 1583072961, "last_edit_date": 1583072961, "creation_date": 1583065258, "answer_id": 60475050, "question_id": 57400729, "link": "https://stackoverflow.com/questions/57400729/does-preventdefault-in-keydown-event-prevent-a-following-keypress-event/60475050#60475050", "title": "Does preventDefault() in keydown event prevent a following keypress event?", "body": "<p>I noticed a similar issue.</p>\n\n<p>I was trying to prevent the <kbd>Space bar</kbd> from causing the page to scroll.</p>\n\n<p>I added <code>preventDefault</code> to all key events to prevent the page scrolling. It worked, but it also stopped the <code>keypressed</code> event from firing. I needed this event elsewhere, so I had to find a work around.</p>\n\n<p>It turns out that the scroll action that the <kbd>Space bar</kbd> performs is triggered by the <code>keypressed</code> event.</p>\n\n<p>To solve the problem I called <code>preventDefault</code> only on the <code>keypressed</code> event. I left the <code>keyup</code> and <code>keydown</code> events untouched.</p>\n\n<p>Just wanted to share this in case someone in my situation stumbles upon this page.</p>\n"}], "owner": {"reputation": 3, "user_id": 11897951, "user_type": "registered", "profile_image": "https://i.stack.imgur.com/rmnw8.png?s=128&g=1", "display_name": "gordonshamway23", "link": "https://stackoverflow.com/users/11897951/gordonshamway23"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": true, "view_count": 1922, "favorite_count": 0, "accepted_answer_id": 57401334, "answer_count": 3, "score": 0, "last_activity_date": 1583072961, "creation_date": 1565204177, "last_edit_date": 1565222621, "question_id": 57400729, "link": "https://stackoverflow.com/questions/57400729/does-preventdefault-in-keydown-event-prevent-a-following-keypress-event", "title": "Does preventDefault() in keydown event prevent a following keypress event?", "body": "<p>I have a simple html page with a webgl canvas and javascript attached. In the script i listen to 'keydown', 'keypress' and 'keyup' events of the canvas. Inside the eventhandlers i log to debug when the events are triggered. If i call preventDefault() on the event object in the 'keydown' handler i don't get 'keypress' events anymore and wonder if this is intended behavior? So if i press for example a character key like 'a', the keydown and keyup events are fired, but keypress is only called if i preventDefault() is not called in the keydown event handler.</p>\n\n<p>I tested this on windows, firefox and chrome so far. </p>\n\n<p>index.html:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"utf-8\"&gt;\n    &lt;title&gt;Main&lt;/title&gt;\n    &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui\" /&gt;\n    &lt;meta name=\"format-detection\" content=\"telephone=no\" /&gt;\n    &lt;meta name=\"apple-mobile-web-app-capable\" content=\"yes\" /&gt;\n    &lt;meta name=\"mobile-web-app-capable\" content=\"yes\" /&gt;\n    &lt;style&gt;\n        body,html { margin:0; padding:0; background-color:black; width:100%; height:100%; }\n        canvas#webgl { width:100%; height:100%; }\n    &lt;/style&gt;\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;canvas id=\"webgl\" tabindex=\"0\"&gt;&lt;/canvas&gt;\n    &lt;script type=\"text/javascript\" src=\"test_canvaskeypress.js\"&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>test_canvaskeypress.js:</p>\n\n<pre><code>\nvar canvas = document.getElementById(\"webgl\"); \ncanvas.addEventListener('keydown',this.onKeyDown,false);\ncanvas.addEventListener('keyup',this.onKeyUp,false);\ncanvas.addEventListener('keypress',this.onKeyPress,false);\n\n\nfunction onKeyDown(e) {\n    console.log('keyup: '+e.keyCode); \n    e.preventDefault();//prevents the keypress event, is this intended behavior?\n    e.stopPropagation();\n\n}\nfunction onKeyUp(e) {\n    console.log('keydown: '+e.keyCode); \n    e.preventDefault();\n    e.stopPropagation();\n}\nfunction onKeyPress(e) {\n    console.log('keypress: '+e.key); \n    e.preventDefault();\n    e.stopPropagation();\n}\n</code></pre>\n\n<p>I don't know what to expect, because the docs for preventDefault are not very informative, but i think a keypress event should appear nonetheless preventDefault is called in onKeyDown(), because the key up event also is fired.</p>\n"}, {"tags": ["javascript", "ajax"], "comments": [{"owner": {"reputation": 90, "user_id": 3820473, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/f4de6b5a913307cc84bcb6f9662277dd?s=128&d=identicon&r=PG", "display_name": "bleidi", "link": "https://stackoverflow.com/users/3820473/bleidi"}, "edited": false, "score": 0, "creation_date": 1565204320, "post_id": 57400711, "comment_id": 101283104, "body": "Which element was removed?"}, {"owner": {"reputation": 921, "user_id": 3087839, "user_type": "registered", "profile_image": "https://www.gravatar.com/avatar/a8adb9fe943eb27909e540fa3c57b673?s=128&d=identicon&r=PG&f=1", "display_name": "Gurkan \u0130lleez", "link": "https://stackoverflow.com/users/3087839/gurkan-%c4%b0lleez"}, "edited": false, "score": 0, "creation_date": 1565204345, "post_id": 57400711, "comment_id": 101283116, "body": "we need to see full flow of code"}, {"owner": {"reputation": 589605, "user_id": 1491895, "user_type": "registered", "accept_rate": 69, "profile_image": "https://www.gravatar.com/avatar/82f9e178a16364bf561d0ed4da09a35d?s=128&d=identicon&r=PG", "display_name": "Barmar", "link": "https://stackoverflow.com/users/1491895/barmar"}, "edited": false, "score": 0, "creation_date": 1565206555, "post_id": 57400711, "comment_id": 101284051, "body": "My guess is you probably forgot to use <code>event.preventDefault()</code> in the event listener, so the page is reloading."}], "owner": {"user_type": "does_not_exist", "display_name": "user10416412"}, "delete_vote_count": 0, "reopen_vote_count": 0, "close_vote_count": 0, "is_answered": false, "view_count": 25, "favorite_count": 0, "answer_count": 0, "score": 0, "last_activity_date": 1565204095, "creation_date": 1565204095, "question_id": 57400711, "link": "https://stackoverflow.com/questions/57400711/ajax-request-is-deleting-my-elements-on-success", "title": "Ajax request is deleting my elements on success", "body": "<p>I have an ajax request in a javascript tag. When the back end sends response data and the success function is called,it deletes my element(\"even when that success data is nothing\") but when the backend never sends the response back it doesnt delete my element. Why? And how do i stop it.</p>\n\n<pre><code>$.ajax({\n    type: \"POST\",url: \"upload\", data: datas, cache: false,contentType: \n    false,processData: false, enctype: 'multipart/form-data',\n    success: (data)=&gt;\n    {\n\n     //this is literally it... even when this is empty it deletes my element\n    }\n});\n</code></pre>\n"}]